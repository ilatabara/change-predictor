id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fkuryr-kubernetes~master~Ie6356955e31a64ad98e5fe71bb659de6ae3f0e03,openstack/kuryr-kubernetes,master,Ie6356955e31a64ad98e5fe71bb659de6ae3f0e03,LBaaS driver: optimize Octavia polling timers,MERGED,2018-10-15 13:51:34.000000000,2018-10-19 09:04:12.000000000,2018-10-19 09:04:12.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 21041}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-10-15 13:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/39e5713d359172c39117050eb821484ea547d128', 'message': ""LBaaS driver: optimize Octavia polling timers\n\nPrior to sending create a request to Octavia, LBaaS driver\nverifies that LB is in a stable state by polling LB's\n'provisioning_status' using backoff timer.\nA similar method is used also for the delete flow.\nUnlike LB creation, rest of Octavia operations are completed usually\nafter few seconds.\nThis patch extends LBaaS driver to use 'fast' and 'slow' polling\nfor the relevant Octavia resources.\n\nChange-Id: Ie6356955e31a64ad98e5fe71bb659de6ae3f0e03\n""}, {'number': 2, 'created': '2018-10-15 13:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9472ea5703e2f032eb10bb8c8a43c8a2e56df876', 'message': ""LBaaS driver: optimize Octavia polling timers\n\nPrior to sending create request to Octavia, LBaaS driver\nverifies that LB is in a stable state by polling LB's 'provisioning_status'\nusing backoff timer.\nA similar method is used also for the delete flow.\nUnlike LB creation, rest of Octavia operations are completed usually\nafter few seconds.\nThis patch extends LBaaS driver to use 'fast' and 'slow' polling\nfor the relevant Octavia resources.\n\nChange-Id: Ie6356955e31a64ad98e5fe71bb659de6ae3f0e03\n""}, {'number': 3, 'created': '2018-10-16 08:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/dcf879c4d7d9086cd6e630a4d265a605c532c94c', 'message': ""LBaaS driver: optimize Octavia polling timers\n\nPrior to sending create request to Octavia, LBaaS driver\nverifies that LB is in a stable state by polling LB's 'provisioning_status'\nusing backoff timer.\nA similar method is used also for the delete flow.\nUnlike LB creation, rest of Octavia operations are completed usually\nafter few seconds.\nThis patch extends LBaaS driver to use 'fast' and 'slow' polling\nfor the relevant Octavia resources.\n\nChange-Id: Ie6356955e31a64ad98e5fe71bb659de6ae3f0e03\n""}, {'number': 4, 'created': '2018-10-17 10:37:13.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/drivers/test_lbaasv2.py', 'kuryr_kubernetes/controller/drivers/lbaasv2.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6acbb7ac4fee1cf12ae6a6820bbd2a8d7fab0148', 'message': ""LBaaS driver: optimize Octavia polling timers\n\nPrior to sending create request to Octavia, LBaaS driver\nverifies that LB is in a stable state by polling LB's 'provisioning_status'\nusing backoff timer.\nA similar method is used also for the delete flow.\nUnlike LB creation, rest of Octavia operations are completed usually\nafter few seconds.\nThis patch extends LBaaS driver to use 'fast' and 'slow' polling\nfor the relevant Octavia resources.\n\nCloses-Bug: 1798338\nChange-Id: Ie6356955e31a64ad98e5fe71bb659de6ae3f0e03\n""}]",2,610571,6acbb7ac4fee1cf12ae6a6820bbd2a8d7fab0148,27,5,4,21041,,,0,"LBaaS driver: optimize Octavia polling timers

Prior to sending create request to Octavia, LBaaS driver
verifies that LB is in a stable state by polling LB's 'provisioning_status'
using backoff timer.
A similar method is used also for the delete flow.
Unlike LB creation, rest of Octavia operations are completed usually
after few seconds.
This patch extends LBaaS driver to use 'fast' and 'slow' polling
for the relevant Octavia resources.

Closes-Bug: 1798338
Change-Id: Ie6356955e31a64ad98e5fe71bb659de6ae3f0e03
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/71/610571/3 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/drivers/test_lbaasv2.py', 'kuryr_kubernetes/controller/drivers/lbaasv2.py']",2,39e5713d359172c39117050eb821484ea547d128,bug/1798338,"# NOTE(yboaron):Prior to sending create request to Octavia, LBaaS driver # verifies that LB is in a stable state by polling LB's provisioning_status # using backoff timer. # A similar method is used also for the delete flow. # Unlike LB creation, rest of octavia operations are completed usually after # few seconds. Next constants define the intervals values for 'fast' and # 'slow' (will be used for LB creation) polling. _LB_STS_POLL_FAST_INTERVAL = 1 _LB_STS_POLL_SLOW_INTERVAL = 3 self._find_listener, _LB_STS_POLL_SLOW_INTERVAL) def _ensure_provisioned(self, loadbalancer, obj, create, find, interval=_LB_STS_POLL_FAST_INTERVAL): for remaining in self._provisioning_timer(_ACTIVATION_TIMEOUT, interval): self._wait_for_provisioning(loadbalancer, remaining, interval) def _wait_for_provisioning(self, loadbalancer, timeout, interval=_LB_STS_POLL_FAST_INTERVAL): for remaining in self._provisioning_timer(timeout, interval): def _wait_for_deletion(self, loadbalancer, timeout, interval=_LB_STS_POLL_FAST_INTERVAL): for remaining in self._provisioning_timer(timeout, interval): def _provisioning_timer(self, timeout, interval=_LB_STS_POLL_FAST_INTERVAL):"," self._find_listener) def _ensure_provisioned(self, loadbalancer, obj, create, find): for remaining in self._provisioning_timer(_ACTIVATION_TIMEOUT): self._wait_for_provisioning(loadbalancer, remaining) def _wait_for_provisioning(self, loadbalancer, timeout): for remaining in self._provisioning_timer(timeout): def _wait_for_deletion(self, loadbalancer, timeout): for remaining in self._provisioning_timer(timeout): def _provisioning_timer(self, timeout): interval = 3",30,13
openstack%2Fkuryr-tempest-plugin~master~I9f2f2ad3273f947fecb776c0f56f6829df81aa67,openstack/kuryr-tempest-plugin,master,I9f2f2ad3273f947fecb776c0f56f6829df81aa67,Add support for UDP in  kuryr/demo container,MERGED,2018-10-17 15:01:15.000000000,2018-10-19 09:01:09.000000000,2018-10-19 09:01:09.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-10-17 15:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/8278104b08719eb24cc84204da2e4f2d2ce38f4c', 'message': ""Add support for UDP in  kuryr/demo container\n\nUpdate kuryr/demo container to support also UDP server.\nTo enable UDP server, pod's environment variable named 'UDP_PORT' should\nbe set with the server's port.\n\nChange-Id: I9f2f2ad3273f947fecb776c0f56f6829df81aa67\n""}, {'number': 2, 'created': '2018-10-17 15:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/6f423c5712ed1feb0a71896bae4ab9555e0904a6', 'message': ""Add support for UDP in  kuryr/demo container\n\nUpdate kuryr/demo container to support also UDP server.\nTo enable UDP server, pod's environment variable named 'UDP_PORT' should\nbe set with the server's port.\n\nChange-Id: I9f2f2ad3273f947fecb776c0f56f6829df81aa67\n""}, {'number': 3, 'created': '2018-10-18 09:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/cd84e683ebc4bf8e00a78da83f7bf712221b1ec6', 'message': ""Add support for UDP in  kuryr/demo container\n\nUpdate kuryr/demo container to support UDP server.\nAfter this change, the kuryr/demo image runs both HTTP and UDP\nservers.\nThe listeners ports values could be configured using pod's\nenvironment variables.\n\nChange-Id: I9f2f2ad3273f947fecb776c0f56f6829df81aa67\n""}, {'number': 4, 'created': '2018-10-18 11:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/b23e0973b8a37b2b47e21424a55e40ef4c7acb3d', 'message': ""Add support for UDP in  kuryr/demo container\n\nUpdate kuryr/demo container to support UDP server.\nAfter this change, the kuryr/demo image runs both HTTP and UDP\nservers.\nThe listeners ports values could be configured using pod's\nenvironment variables.\nAnd in additioni, a simple udp client binary tool was added to\nimage, to use it, you should run :\nudp_client <server's_ip> <server's port>\n\nChange-Id: I9f2f2ad3273f947fecb776c0f56f6829df81aa67\n""}, {'number': 5, 'created': '2018-10-18 13:37:56.000000000', 'files': ['test_container/Dockerfile.builder', 'test_container/server.go', 'test_container/udp_client.go'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/3ae7eef13e931e969698721afc8b6314878508dd', 'message': ""Add support for UDP in  kuryr/demo container\n\nUpdate kuryr/demo container to support UDP server.\nAfter this change, the kuryr/demo image runs both HTTP and UDP\nservers.\nThe listeners ports values could be configured using pod's\nenvironment variables.\nAnd in addition, a simple udp client binary tool was added to\nimage, to use it, you should run :\nudp_client <server's_ip> <server's port>\n\nChange-Id: I9f2f2ad3273f947fecb776c0f56f6829df81aa67\n""}]",1,611348,3ae7eef13e931e969698721afc8b6314878508dd,15,4,5,21041,,,0,"Add support for UDP in  kuryr/demo container

Update kuryr/demo container to support UDP server.
After this change, the kuryr/demo image runs both HTTP and UDP
servers.
The listeners ports values could be configured using pod's
environment variables.
And in addition, a simple udp client binary tool was added to
image, to use it, you should run :
udp_client <server's_ip> <server's port>

Change-Id: I9f2f2ad3273f947fecb776c0f56f6829df81aa67
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/48/611348/4 && git format-patch -1 --stdout FETCH_HEAD,['test_container/server.go'],1,8278104b08719eb24cc84204da2e4f2d2ce38f4c,udp_support_container," ""net"" ""strconv""func send_udp_response(conn *net.UDPConn, addr *net.UDPAddr) { hostname, err := os.Hostname() if err == nil { resp_str := fmt.Sprintf(""%s: HELLO! I AM ALIVE!!!\n"", hostname) _,err := conn.WriteToUDP([]byte(resp_str), addr) if err != nil { log.Println(""Failed to reply to client"") } } } func udp_server(port int) { p := make([]byte, 2048) log.Println(""Running UDP server"") ser, _ := net.ListenUDP(""udp"", &net.UDPAddr{IP:[]byte{0,0,0,0},Port:port,Zone:""""}) defer ser.Close() for { _,remoteaddr,err := ser.ReadFromUDP(p) if err != nil { log.Println(""We got an Error on reading"") continue } log.Println(""Received UDP request"") send_udp_response(ser, remoteaddr) } } udpPort, udpPortPresent := os.LookupEnv(""UDP_PORT"") if udpPortPresent { port_num, _ := strconv.Atoi(strings.TrimSpace(udpPort)) udp_server(port_num) } else if httpsPortPresent {", if httpsPortPresent {,39,1
openstack%2Fwatcher-specs~master~I51776f2d5939a4432b3b0ecde384126e3101bd72,openstack/watcher-specs,master,I51776f2d5939a4432b3b0ecde384126e3101bd72,update datamodel by nova notifications,MERGED,2018-09-29 09:16:47.000000000,2018-10-19 08:58:55.000000000,2018-10-19 08:58:55.000000000,"[{'_account_id': 13111}, {'_account_id': 19055}, {'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-29 09:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/03ec71408fdedd0dd657064ad9450978e2b73485', 'message': 'update datamodel by nova notifications\n\nChange-Id: I51776f2d5939a4432b3b0ecde384126e3101bd72\nImplements: blueprint update-datamodel-by-nova-notifications\n'}, {'number': 2, 'created': '2018-10-09 03:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/a3467c72210217cc34177b3562e425c827b512ba', 'message': 'update datamodel by nova notifications\n\nChange-Id: I51776f2d5939a4432b3b0ecde384126e3101bd72\nImplements: blueprint update-datamodel-by-nova-notifications\n'}, {'number': 3, 'created': '2018-10-10 03:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/0e54ab9f160eb9ff8b3490c9cf97cbe106f5e25d', 'message': 'update datamodel by nova notifications\n\nChange-Id: I51776f2d5939a4432b3b0ecde384126e3101bd72\nImplements: blueprint update-datamodel-by-nova-notifications\n'}, {'number': 4, 'created': '2018-10-12 06:19:30.000000000', 'files': ['specs/stein/approved/update-datamodel-by-nova-notifications.rst'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/dea2e8aa7ad484a1e0e486d9151805537190d2b4', 'message': 'update datamodel by nova notifications\n\nChange-Id: I51776f2d5939a4432b3b0ecde384126e3101bd72\nImplements: blueprint update-datamodel-by-nova-notifications\n'}]",8,606352,dea2e8aa7ad484a1e0e486d9151805537190d2b4,17,4,4,21692,,,0,"update datamodel by nova notifications

Change-Id: I51776f2d5939a4432b3b0ecde384126e3101bd72
Implements: blueprint update-datamodel-by-nova-notifications
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/52/606352/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/approved/update-datamodel-by-nova-notifications.rst'],1,03ec71408fdedd0dd657064ad9450978e2b73485,bp/update-datamodel-by-nova-notifications,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================================== update DataModel by Nova notifications ====================================== https://blueprints.launchpad.net/watcher/+spec/update-datamodel-by-nova-notifications Problem description =================== Watcher has a Compute DataModel(CDM) which includes all the info about instances and nodes. Nova will emit notifications when instances or nodes change their states. So Watcher can consume Nova notifications to update its CDM. Now Watcher just consider several notifications, there are more notifications need to be used, such as instance poweron/poweroff. Use Cases ---------- As a Watcher developer, I want to consume Nova notifications to update CMD. Proposed change =============== We define a functional dict to map the notification and CDM. for example: .. code-block:: python def InstanceDelete(payload): pass def InstanceUpdate(payload): pass funcdict = { 'instance.delete.end': InstanceDelete, 'instance.update': InstanceUpdate, } def updateCDM(instancetype, payload): func = funcdict.get(instancetype) if func: func(payload) The list of notifications: * instance.create.end * instance.delete.end * instance.lock * instance.unlock * instance.pause.end * instance.power_off.end * instance.power_on.end * instance.resize_confirm.end * instance.restore.end * instance.resume.end * instance.shelve.end * instance.shutdown.end * instance.soft_delete.end * instance.suspend.end * instance.unpause.end * instance.unrescue.end * instance.unshelve.end * instance.rebuild.end * instance.rescue.end * instance.update * instance.live_migration_force_complete.end * instance.live_migration_post_dest.end * service.create * service.delete * service.update Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: <licanwei> Work Items ---------- - List Nova notifications that Watcher consumes to upate CDM. - Implement the code that update CDM from notification payload. Dependencies ============ None Testing ======= Unit tests should be added. Documentation Impact ==================== None References ========== * https://docs.openstack.org/nova/latest/reference/notifications.html#existing-versioned-notifications History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Liberty - Introduced ",,179,0
openstack%2Fmanila~master~I8bfb3fd3989d87b670248f3acc11a4a2ab44c9c3,openstack/manila,master,I8bfb3fd3989d87b670248f3acc11a4a2ab44c9c3,Fix check state image,NEW,2018-10-16 03:44:01.000000000,2018-10-19 08:45:16.000000000,,"[{'_account_id': 14567}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}]","[{'number': 1, 'created': '2018-10-16 03:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/96f760d08583da85606d4c573ed7b1e8286c46c0', 'message': 'Fix check state image\n\nNova API return ACTIVE instead of active\n\nChange-Id: I8bfb3fd3989d87b670248f3acc11a4a2ab44c9c3\nCloses-Bug: #1741425\n'}, {'number': 2, 'created': '2018-10-16 03:46:41.000000000', 'files': ['manila/share/drivers/service_instance.py', 'manila/tests/share/drivers/test_service_instance.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/34a84fcc9671ca09dec84146a1e532a755f93d98', 'message': 'Fix check state image\n\nNova API return ACTIVE instead of active\n\nChange-Id: I8bfb3fd3989d87b670248f3acc11a4a2ab44c9c3\nCloses-Bug: #1741425\n'}]",0,610875,34a84fcc9671ca09dec84146a1e532a755f93d98,7,5,2,27488,,,0,"Fix check state image

Nova API return ACTIVE instead of active

Change-Id: I8bfb3fd3989d87b670248f3acc11a4a2ab44c9c3
Closes-Bug: #1741425
",git fetch https://review.opendev.org/openstack/manila refs/changes/75/610875/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/drivers/service_instance.py'],1,96f760d08583da85606d4c573ed7b1e8286c46c0,bug/1741425, and image.status == 'ACTIVE'], and image.status == 'active'],1,1
openstack%2Fdiskimage-builder~master~If1d834c17b6aab6ac8ff57e84ecf57f6fa1ae34f,openstack/diskimage-builder,master,If1d834c17b6aab6ac8ff57e84ecf57f6fa1ae34f,Also get DIB_IMAGE_SIZE variable from block-device phase,ABANDONED,2018-10-19 05:58:38.000000000,2018-10-19 08:39:52.000000000,,"[{'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-19 05:58:38.000000000', 'files': ['diskimage_builder/lib/disk-image-create'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3b6d0296c1f3965c08c99ee58a88343de8536cc7', 'message': ""Also get DIB_IMAGE_SIZE variable from block-device phase\n\nMy use case is that I need to download docker images during image\nbuild. In order to do this I need to run docker daemon that was\ninstalled into the image. However this doesn't work within the\nchrooted environment so I run the docker daemon afterwards in the\nblock-device phase with the help of bwrap. The problem now is that\nthis increases the size of the image by some value we don't know\nbefore pulling the images. Thus we need to recalculate the size of the\nimage to be created. In order to allow this also eval the\nDIB_IMAGE_SIZE variable so the block device generation can create the\ndevice with the correct size.\n\nChange-Id: If1d834c17b6aab6ac8ff57e84ecf57f6fa1ae34f\n""}]",0,611780,3b6d0296c1f3965c08c99ee58a88343de8536cc7,5,3,1,16068,,,0,"Also get DIB_IMAGE_SIZE variable from block-device phase

My use case is that I need to download docker images during image
build. In order to do this I need to run docker daemon that was
installed into the image. However this doesn't work within the
chrooted environment so I run the docker daemon afterwards in the
block-device phase with the help of bwrap. The problem now is that
this increases the size of the image by some value we don't know
before pulling the images. Thus we need to recalculate the size of the
image to be created. In order to allow this also eval the
DIB_IMAGE_SIZE variable so the block device generation can create the
device with the correct size.

Change-Id: If1d834c17b6aab6ac8ff57e84ecf57f6fa1ae34f
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/80/611780/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/lib/disk-image-create'],1,3b6d0296c1f3965c08c99ee58a88343de8536cc7,,"eval_run_d block-device ""\\(IMAGE_BLOCK_DEVICE\\|DIB_IMAGE_SIZE\\)=""","eval_run_d block-device ""IMAGE_BLOCK_DEVICE=""",1,1
openstack%2Fdiskimage-builder~master~Ic39d4f8f519d6687654c502139a23d6afa59342c,openstack/diskimage-builder,master,Ic39d4f8f519d6687654c502139a23d6afa59342c,Fix creating block device in block-device phase,ABANDONED,2018-10-18 14:57:07.000000000,2018-10-19 08:39:18.000000000,,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 16068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-18 14:57:07.000000000', 'files': ['diskimage_builder/lib/disk-image-create'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/194f35473f78e4bb0a80f2750a2a187d3cb0c1e7', 'message': 'Fix creating block device in block-device phase\n\nCurrently it is not possible to create and use the block device\ncreated in the block-device phase. This is caused because we eval the\nIMAGE_BLOCK_DEVICE variable but not the IMAGE_BLOCK_DEVICES variable\nwhich is used by the bootloader element. Thus we should also eval the\nIMAGE_BLOCK_DEVICES variable.\n\nChange-Id: Ic39d4f8f519d6687654c502139a23d6afa59342c\n'}]",4,611644,194f35473f78e4bb0a80f2750a2a187d3cb0c1e7,8,5,1,16068,,,0,"Fix creating block device in block-device phase

Currently it is not possible to create and use the block device
created in the block-device phase. This is caused because we eval the
IMAGE_BLOCK_DEVICE variable but not the IMAGE_BLOCK_DEVICES variable
which is used by the bootloader element. Thus we should also eval the
IMAGE_BLOCK_DEVICES variable.

Change-Id: Ic39d4f8f519d6687654c502139a23d6afa59342c
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/44/611644/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/lib/disk-image-create'],1,194f35473f78e4bb0a80f2750a2a187d3cb0c1e7,,"eval_run_d block-device ""IMAGE_BLOCK_DEVICE[S]*=""","eval_run_d block-device ""IMAGE_BLOCK_DEVICE=""",1,1
openstack%2Fkeystone~master~I423f540a07aebf638ef93e22393ee49a228e7c49,openstack/keystone,master,I423f540a07aebf638ef93e22393ee49a228e7c49,Fixing update unified limit api-ref,MERGED,2018-10-12 10:26:58.000000000,2018-10-19 08:34:54.000000000,2018-10-19 08:34:53.000000000,"[{'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-10-12 10:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7a42116cba5ccd9b71c58b4985b234fb05ad85d9', 'message': 'Fixing update registered limit api-ref\n\nIn registered limit update api param resource_name,\nservice_id and default_limit are optional but not\nmentioned in api-ref. This patch updates the api-ref\nfor these parameter stating these as optional.\nAlso modifies description in reference with\nthe related patch.\n\nChange-Id: I423f540a07aebf638ef93e22393ee49a228e7c49\nRelated-Patch: https://review.openstack.org/#/c/609985\n'}, {'number': 2, 'created': '2018-10-16 10:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3c1588e0f2ec494333002fc68fd926e213c3ca1c', 'message': 'Fixing update registered limit api-ref\n\nIn registered limit update api param resource_name,\nservice_id and default_limit are optional but not\nmentioned in api-ref. This patch updates the api-ref\nfor these parameter stating these as optional.\nAlso modifies description in reference with\nthe related patch.\n\nChange-Id: I423f540a07aebf638ef93e22393ee49a228e7c49\nRelated-Patch: https://review.openstack.org/#/c/609985\n'}, {'number': 3, 'created': '2018-10-16 10:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e63987d8a77320ac863451a683fba5aba89ca443', 'message': 'Fixing update registered limit api-ref\n\nIn registered limit update api param resource_name,\nservice_id and default_limit are optional but not\nmentioned in api-ref. This patch updates the api-ref\nfor these parameter stating these as optional.\nAlso modifies description in reference with\nthe related patch.\n\nChange-Id: I423f540a07aebf638ef93e22393ee49a228e7c49\nRelated-Patch: https://review.openstack.org/#/c/609985\n'}, {'number': 4, 'created': '2018-10-16 10:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/df4b51512fa3d473ae128133968bac12bc146c5b', 'message': 'Fixing update unified limit api-ref\n\nIn registered as well as project limit update api\nparam resource_name, service_id, default_limit and\nresource_limit are optional but not mentioned in\napi-ref. This patch updates the api-ref\nfor these parameter stating these as optional.\nAlso modifies description in reference with\nthe related patch.\n\nChange-Id: I423f540a07aebf638ef93e22393ee49a228e7c49\nRelated-Patch: https://review.openstack.org/#/c/609985\n'}, {'number': 5, 'created': '2018-10-17 03:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f22159184b985c25dfac861f548bc990bdc50562', 'message': 'Fixing update unified limit api-ref\n\nIn registered as well as project limit update api\nparam resource_name, service_id, default_limit and\nresource_limit are optional but not mentioned in\napi-ref. This patch updates the api-ref\nfor these parameter stating these as optional.\nAlso modifies description in reference with\nthe related patch.\n\nChange-Id: I423f540a07aebf638ef93e22393ee49a228e7c49\nRelated-Patch: https://review.openstack.org/#/c/609985\n'}, {'number': 6, 'created': '2018-10-17 04:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b595de03b60ed78c85c263601f712188e22d529c', 'message': 'Fixing update unified limit api-ref\n\nIn registered as well as project limit update api\nparam resource_name, service_id, default_limit and\nresource_limit are optional but not mentioned in\napi-ref. This patch updates the api-ref\nfor these parameter stating these as optional.\nAlso modifies description in reference with\nthe related patch.\n\nChange-Id: I423f540a07aebf638ef93e22393ee49a228e7c49\nRelated-Patch: https://review.openstack.org/#/c/609985\n'}, {'number': 7, 'created': '2018-10-17 08:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2273adebd6a330547857b91279019cd79129838e', 'message': 'Fixing update unified limit api-ref\n\nIn registered as well as project limit update api\nparam resource_name, service_id, default_limit and\nresource_limit are optional but not mentioned in\napi-ref. This patch updates the api-ref\nfor these parameter stating these as optional.\nAlso modifies description in reference with\nthe related patch.\n\nChange-Id: I423f540a07aebf638ef93e22393ee49a228e7c49\nRelated-Patch: https://review.openstack.org/#/c/609985\n'}, {'number': 8, 'created': '2018-10-17 10:18:51.000000000', 'files': ['api-ref/source/v3/unified_limits.inc', 'api-ref/source/v3/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/fc787bb4ba29029ed3aa1ade890afd877e65a4d3', 'message': 'Fixing update unified limit api-ref\n\nIn registered as well as project limit update api\nparam resource_name, service_id, default_limit and\nresource_limit are optional but not mentioned in\napi-ref. This patch updates the api-ref\nfor these parameter stating these as optional.\nAlso modifies description in reference with\nthe related patch.\n\nChange-Id: I423f540a07aebf638ef93e22393ee49a228e7c49\nRelated-Patch: https://review.openstack.org/#/c/609985\n'}]",4,610000,fc787bb4ba29029ed3aa1ade890afd877e65a4d3,22,8,8,27621,,,0,"Fixing update unified limit api-ref

In registered as well as project limit update api
param resource_name, service_id, default_limit and
resource_limit are optional but not mentioned in
api-ref. This patch updates the api-ref
for these parameter stating these as optional.
Also modifies description in reference with
the related patch.

Change-Id: I423f540a07aebf638ef93e22393ee49a228e7c49
Related-Patch: https://review.openstack.org/#/c/609985
",git fetch https://review.opendev.org/openstack/keystone refs/changes/00/610000/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/unified_limits.inc', 'api-ref/source/v3/parameters.yaml']",2,7a42116cba5ccd9b71c58b4985b234fb05ad85d9,unified-limits,default_limit_optional: description: | The default limit for the registered limit. in: body required: false type: integerresource_name_optional: description: | The resource name.Either service_id or resource_name must be different than existing value otherwise it will be 409. in: body required: false type: stringservice_id_registered_limit_optional: description: | The UUID of the service to update to which the registered limit belongs. Either service_id or resource_name must be different than existing value otherwise it will be 409. in: body required: false type: string,,24,3
openstack%2Fkeystone~master~I2b43a6c81244c1956e3a943dcbc1cae0e3631eda,openstack/keystone,master,I2b43a6c81244c1956e3a943dcbc1cae0e3631eda,Update notification tests to work with o-m 9.0.0,MERGED,2018-10-09 19:31:46.000000000,2018-10-19 08:34:51.000000000,2018-10-19 08:34:51.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 15054}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-10-09 19:31:46.000000000', 'files': ['keystone/tests/unit/common/test_notifications.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/f26efd719df0a74ccb4f6649fc4c465ef1ccab86', 'message': ""Update notification tests to work with o-m 9.0.0\n\noslo.messaging 9.0.0 was released with a broken default for\ntransport_url that caused some of our tests to fail. This commit\nupdates those tests classes to override transport_url with sane\nvalue, which is the default reintroduced into oslo.messaging in\nversion 9.0.1.\n\nThis just makes it so that we don't have to blacklist version 9.0.0\nfrom keystone's requirements.\n\nChange-Id: I2b43a6c81244c1956e3a943dcbc1cae0e3631eda\n""}]",3,609106,f26efd719df0a74ccb4f6649fc4c465ef1ccab86,10,5,1,5046,,,0,"Update notification tests to work with o-m 9.0.0

oslo.messaging 9.0.0 was released with a broken default for
transport_url that caused some of our tests to fail. This commit
updates those tests classes to override transport_url with sane
value, which is the default reintroduced into oslo.messaging in
version 9.0.1.

This just makes it so that we don't have to blacklist version 9.0.0
from keystone's requirements.

Change-Id: I2b43a6c81244c1956e3a943dcbc1cae0e3631eda
",git fetch https://review.opendev.org/openstack/keystone refs/changes/06/609106/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/common/test_notifications.py'],1,f26efd719df0a74ccb4f6649fc4c465ef1ccab86,,"import oslo_messaging def setUp(self): super(NotificationsTestCase, self).setUp() self.config_fixture = self.useFixture(config_fixture.Config(CONF)) self.config_fixture.config( group='oslo_messaging_notifications', transport_url='rabbit://' ) def config_overrides(self): super(CADFNotificationsDataTestCase, self).config_overrides() # NOTE(lbragstad): This is a workaround since oslo.messaging version # 9.0.0 had a broken default for transport_url. This makes it so that # we are able to use version 9.0.0 in tests because we are supplying # an override to use a sane default (rabbit://). The problem is that # we can't update the config fixture until we call # get_notification_transport since that method registers the # configuration options for oslo.messaging, which fails since there # isn't a default value for transport_url with version 9.0.0. All the # next line is doing is bypassing the broken default logic by supplying # a dummy url, which allows the options to be registered. After that, # we can actually update the configuration option to override the # transport_url option that was just registered before proceeding with # the test. oslo_messaging.get_notification_transport(CONF, url='rabbit://') self.config_fixture.config( group='oslo_messaging_notifications', transport_url='rabbit://' ) def test_receive_identityId_from_audit_notification(self):", def test_receive_identityId_from_audit_notification(self): ,28,1
openstack%2Fkeystone~master~Id286b3b276ee0a72ba45ac1198c21b5f2c01aa9a,openstack/keystone,master,Id286b3b276ee0a72ba45ac1198c21b5f2c01aa9a,Update doc string for transform_to_group_ids,MERGED,2018-10-08 14:01:16.000000000,2018-10-19 08:34:49.000000000,2018-10-19 08:34:49.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 15054}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-10-08 14:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d8df1471d7a8b587f73860c75e1c4708baffac76', 'message': ""Update doc string for transform_to_group_ids\n\nA previous change updated the implementation of this method to log\na message if the group being transformed didn't exist in the backend.\nThis change updates the corresponding documentation string to be\naccurate with the implementation.\n\nChange-Id: Id286b3b276ee0a72ba45ac1198c21b5f2c01aa9a\n""}, {'number': 2, 'created': '2018-10-08 14:03:55.000000000', 'files': ['keystone/federation/utils.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/3d43b0250327bc43e4c0e000e834dc337681c8e8', 'message': ""Update doc string for transform_to_group_ids\n\nA previous change updated the implementation of this method to log\na message if the group being transformed didn't exist in the backend:\n\n  https://review.openstack.org/#/c/597992/\n\nThis change updates the corresponding documentation string to be\naccurate with the implementation.\n\nChange-Id: Id286b3b276ee0a72ba45ac1198c21b5f2c01aa9a\n""}]",0,608681,3d43b0250327bc43e4c0e000e834dc337681c8e8,11,5,2,5046,,,0,"Update doc string for transform_to_group_ids

A previous change updated the implementation of this method to log
a message if the group being transformed didn't exist in the backend:

  https://review.openstack.org/#/c/597992/

This change updates the corresponding documentation string to be
accurate with the implementation.

Change-Id: Id286b3b276ee0a72ba45ac1198c21b5f2c01aa9a
",git fetch https://review.opendev.org/openstack/keystone refs/changes/81/608681/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/federation/utils.py'],1,d8df1471d7a8b587f73860c75e1c4708baffac76,, a list of group ids in return. A message is logged if the group doesn't exist in the backend., a list of group ids in return. :raises keystone.exception.MappedGroupNotFound: in case asked group doesn't exist in the backend. ,2,4
openstack%2Fkeystone~stable%2Fpike~Ia7321705db118af28f3dc6e01d5b18e8650aa633,openstack/keystone,stable/pike,Ia7321705db118af28f3dc6e01d5b18e8650aa633,Mapped Groups don't exist breaks WebSSO,MERGED,2018-09-24 17:52:44.000000000,2018-10-19 08:34:47.000000000,2018-10-19 08:34:46.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-09-24 17:52:44.000000000', 'files': ['keystone/federation/utils.py', 'keystone/tests/unit/test_v3_federation.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/a09ba6906573432ec0b7bd4ec0522caf06dc3b8c', 'message': ""Mapped Groups don't exist breaks WebSSO\n\nThe issue occurs if a user has a group that\ndoes not map to a project in OpenStack. At\nwhich point an exception is raised and the\nwebsso login blows up with a 500 message.\nThis is because of the exception being raised\nwhen the group name not matches thus replacing\nthat with a log.\n\nChange-Id: Ia7321705db118af28f3dc6e01d5b18e8650aa633\nCloses-Bug: #1789450\n(cherry picked from commit ee46f735359cb5381024a7dfa3f2b297badc6247)\n""}]",0,604861,a09ba6906573432ec0b7bd4ec0522caf06dc3b8c,9,5,1,8866,,,0,"Mapped Groups don't exist breaks WebSSO

The issue occurs if a user has a group that
does not map to a project in OpenStack. At
which point an exception is raised and the
websso login blows up with a 500 message.
This is because of the exception being raised
when the group name not matches thus replacing
that with a log.

Change-Id: Ia7321705db118af28f3dc6e01d5b18e8650aa633
Closes-Bug: #1789450
(cherry picked from commit ee46f735359cb5381024a7dfa3f2b297badc6247)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/61/604861/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/federation/utils.py', 'keystone/tests/unit/test_v3_federation.py']",2,a09ba6906573432ec0b7bd4ec0522caf06dc3b8c,bug/1789450," r = self._issue_unscoped_token(assertion='ANOTHER_TESTER_ASSERTION') self.assertIsNotNone(r.headers.get('X-Subject-Token')) r = self._issue_unscoped_token(assertion='UNMATCHED_GROUP_ASSERTION') assigned_group_ids = r.json['token']['user']['OS-FEDERATION']['groups'] self.assertEqual(1, len(assigned_group_ids)) self.assertEqual(group['id'], assigned_group_ids[0]['id'])"," self.assertRaises(exception.MappedGroupNotFound, self._issue_unscoped_token, assertion='ANOTHER_TESTER_ASSERTION')",8,5
openstack%2Fkeystone~stable%2Fqueens~Ia7321705db118af28f3dc6e01d5b18e8650aa633,openstack/keystone,stable/queens,Ia7321705db118af28f3dc6e01d5b18e8650aa633,Mapped Groups don't exist breaks WebSSO,MERGED,2018-09-24 16:06:35.000000000,2018-10-19 08:34:45.000000000,2018-10-19 08:34:44.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-09-24 16:06:35.000000000', 'files': ['keystone/federation/utils.py', 'keystone/tests/unit/test_v3_federation.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/c4e48ef3a149df81aa563d894cc6eb78f536edb8', 'message': ""Mapped Groups don't exist breaks WebSSO\n\nThe issue occurs if a user has a group that\ndoes not map to a project in OpenStack. At\nwhich point an exception is raised and the\nwebsso login blows up with a 500 message.\nThis is because of the exception being raised\nwhen the group name not matches thus replacing\nthat with a log.\n\nChange-Id: Ia7321705db118af28f3dc6e01d5b18e8650aa633\nCloses-Bug: #1789450\n(cherry picked from commit ee46f735359cb5381024a7dfa3f2b297badc6247)\n""}]",0,604830,c4e48ef3a149df81aa563d894cc6eb78f536edb8,10,5,1,8866,,,0,"Mapped Groups don't exist breaks WebSSO

The issue occurs if a user has a group that
does not map to a project in OpenStack. At
which point an exception is raised and the
websso login blows up with a 500 message.
This is because of the exception being raised
when the group name not matches thus replacing
that with a log.

Change-Id: Ia7321705db118af28f3dc6e01d5b18e8650aa633
Closes-Bug: #1789450
(cherry picked from commit ee46f735359cb5381024a7dfa3f2b297badc6247)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/30/604830/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/federation/utils.py', 'keystone/tests/unit/test_v3_federation.py']",2,c4e48ef3a149df81aa563d894cc6eb78f536edb8,bug/1777671-stable/queens," r = self._issue_unscoped_token(assertion='ANOTHER_TESTER_ASSERTION') self.assertIsNotNone(r.headers.get('X-Subject-Token')) r = self._issue_unscoped_token(assertion='UNMATCHED_GROUP_ASSERTION') assigned_group_ids = r.json['token']['user']['OS-FEDERATION']['groups'] self.assertEqual(1, len(assigned_group_ids)) self.assertEqual(group['id'], assigned_group_ids[0]['id'])"," self.assertRaises(exception.MappedGroupNotFound, self._issue_unscoped_token, assertion='ANOTHER_TESTER_ASSERTION')",8,5
openstack%2Fkeystone~stable%2Frocky~Ia7321705db118af28f3dc6e01d5b18e8650aa633,openstack/keystone,stable/rocky,Ia7321705db118af28f3dc6e01d5b18e8650aa633,Mapped Groups don't exist breaks WebSSO,MERGED,2018-09-24 16:06:08.000000000,2018-10-19 08:34:42.000000000,2018-10-19 08:34:41.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-09-24 16:06:08.000000000', 'files': ['keystone/federation/utils.py', 'keystone/tests/unit/test_v3_federation.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/6bc81fec24f20da677c9979fcf380c777894df31', 'message': ""Mapped Groups don't exist breaks WebSSO\n\nThe issue occurs if a user has a group that\ndoes not map to a project in OpenStack. At\nwhich point an exception is raised and the\nwebsso login blows up with a 500 message.\nThis is because of the exception being raised\nwhen the group name not matches thus replacing\nthat with a log.\n\nChange-Id: Ia7321705db118af28f3dc6e01d5b18e8650aa633\nCloses-Bug: #1789450\n(cherry picked from commit ee46f735359cb5381024a7dfa3f2b297badc6247)\n""}]",0,604829,6bc81fec24f20da677c9979fcf380c777894df31,10,5,1,8866,,,0,"Mapped Groups don't exist breaks WebSSO

The issue occurs if a user has a group that
does not map to a project in OpenStack. At
which point an exception is raised and the
websso login blows up with a 500 message.
This is because of the exception being raised
when the group name not matches thus replacing
that with a log.

Change-Id: Ia7321705db118af28f3dc6e01d5b18e8650aa633
Closes-Bug: #1789450
(cherry picked from commit ee46f735359cb5381024a7dfa3f2b297badc6247)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/29/604829/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/federation/utils.py', 'keystone/tests/unit/test_v3_federation.py']",2,6bc81fec24f20da677c9979fcf380c777894df31,bug/1777671-stable/rocky," r = self._issue_unscoped_token(assertion='ANOTHER_TESTER_ASSERTION') self.assertIsNotNone(r.headers.get('X-Subject-Token')) r = self._issue_unscoped_token(assertion='UNMATCHED_GROUP_ASSERTION') assigned_group_ids = r.json['token']['user']['OS-FEDERATION']['groups'] self.assertEqual(1, len(assigned_group_ids)) self.assertEqual(group['id'], assigned_group_ids[0]['id'])"," self.assertRaises(exception.MappedGroupNotFound, self._issue_unscoped_token, assertion='ANOTHER_TESTER_ASSERTION')",8,5
openstack%2Fkeystone~master~Ia3353073bbdf9d18bbd5bd97425b3519f3d5aad0,openstack/keystone,master,Ia3353073bbdf9d18bbd5bd97425b3519f3d5aad0,Don't quote {posargs} in tox.ini,MERGED,2018-10-09 03:19:59.000000000,2018-10-19 08:34:40.000000000,2018-10-19 08:34:40.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-10-09 03:19:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone/commit/104956c65e34f9986f1877250e62f3d294bfffd0', 'message': ""Don't quote {posargs} in tox.ini\n\nQuotes around {posargs} cause the entire string to be combined into one\narg that gets passed to stestr. This prevents passing multiple args\n(e.g. '--concurrency=16 some-regex')\n\nChange-Id: Ia3353073bbdf9d18bbd5bd97425b3519f3d5aad0\n""}]",0,608824,104956c65e34f9986f1877250e62f3d294bfffd0,8,4,1,25254,,,0,"Don't quote {posargs} in tox.ini

Quotes around {posargs} cause the entire string to be combined into one
arg that gets passed to stestr. This prevents passing multiple args
(e.g. '--concurrency=16 some-regex')

Change-Id: Ia3353073bbdf9d18bbd5bd97425b3519f3d5aad0
",git fetch https://review.opendev.org/openstack/keystone refs/changes/24/608824/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,104956c65e34f9986f1877250e62f3d294bfffd0,fix_quote, stestr run {posargs}, stestr run '{posargs}',1,1
openstack%2Fcloudkitty~master~I5aab02374523be83a65c8b7f47f1df5e93b5a3d2,openstack/cloudkitty,master,I5aab02374523be83a65c8b7f47f1df5e93b5a3d2,Use global-requirements for requirements,MERGED,2018-10-15 12:37:40.000000000,2018-10-19 08:34:26.000000000,2018-10-19 08:34:26.000000000,"[{'_account_id': 9642}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}]","[{'number': 1, 'created': '2018-10-15 12:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/501f01765abdee63a60e88457a5feb5aba26575c', 'message': 'Use global-requirements for requirements\n\nThis updates cloudkitty\'s requirement and setup files in order to use\nopenstack/requirements for constraints. This will help to avoid dependency\nconflicts when cloudkitty is deployed in an openstack context.\n\nWork items:\n\n* Updated requirements.txt, test-requirements.txt and setup.py with the\n  `update-requirements` tool provided by openstack/requirements.\n\n* Added the ""check-requirements"" zuul job template to the CI.\n\nChange-Id: I5aab02374523be83a65c8b7f47f1df5e93b5a3d2\n'}, {'number': 2, 'created': '2018-10-15 12:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/330ed70b1f6924752982937795c0a2d9a232167c', 'message': 'Use global-requirements for requirements\n\nThis updates cloudkitty\'s requirement and setup files in order to use\nopenstack/requirements for constraints. This will help to avoid dependency\nconflicts when cloudkitty is deployed in an openstack context.\n\nWork items:\n\n* Updated requirements.txt, test-requirements.txt and setup.py with the\n  `update-requirements` tool provided by openstack/requirements.\n\n* Added a lower-constraints.txt file.\n\n* Added the ""check-requirements"" zuul job template to the CI.\n\nChange-Id: I5aab02374523be83a65c8b7f47f1df5e93b5a3d2\n'}, {'number': 3, 'created': '2018-10-15 13:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/1bf4d80631dc155d2f1be2cd4bda5dc7389a44ba', 'message': 'Use global-requirements for requirements\n\nThis updates cloudkitty\'s requirement and setup files in order to use\nopenstack/requirements for constraints. This will help to avoid dependency\nconflicts when cloudkitty is deployed in an openstack context.\n\nWork items:\n\n* Updated requirements.txt, test-requirements.txt and setup.py with the\n  `update-requirements` tool provided by openstack/requirements.\n\n* Added a lower-constraints.txt file.\n\n* Added the ""check-requirements"" zuul job template to the CI.\n\nChange-Id: I5aab02374523be83a65c8b7f47f1df5e93b5a3d2\n'}, {'number': 4, 'created': '2018-10-15 14:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/53211400d7058a5b42aeba163e19e81e85943307', 'message': 'Use global-requirements for requirements\n\nThis updates cloudkitty\'s requirement and setup files in order to use\nopenstack/requirements for constraints. This will help to avoid dependency\nconflicts when cloudkitty is deployed in an openstack context.\n\nWork items:\n\n* Updated requirements.txt, test-requirements.txt and setup.py with the\n  `update-requirements` tool provided by openstack/requirements.\n\n* Added a lower-constraints.txt file.\n\n* Added the ""check-requirements"" zuul job template to the CI.\n\nChange-Id: I5aab02374523be83a65c8b7f47f1df5e93b5a3d2\n'}, {'number': 5, 'created': '2018-10-17 07:29:48.000000000', 'files': ['requirements.txt', 'test-requirements.txt', '.zuul.yaml', 'setup.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/c417e5f6cb3006a08d968ce90b8da61ef6fe7068', 'message': 'Use global-requirements for requirements\n\nThis updates cloudkitty\'s requirement and setup files in order to use\nopenstack/requirements for constraints. This will help to avoid dependency\nconflicts when cloudkitty is deployed in an openstack context.\n\nWork items:\n\n* Updated requirements.txt, test-requirements.txt and setup.py with the\n  `update-requirements` tool provided by openstack/requirements.\n\n* Added a lower-constraints.txt file.\n\n* Added the ""check-requirements"" zuul job template to the CI.\n\nChange-Id: I5aab02374523be83a65c8b7f47f1df5e93b5a3d2\n'}]",0,610498,c417e5f6cb3006a08d968ce90b8da61ef6fe7068,16,4,5,23060,,,0,"Use global-requirements for requirements

This updates cloudkitty's requirement and setup files in order to use
openstack/requirements for constraints. This will help to avoid dependency
conflicts when cloudkitty is deployed in an openstack context.

Work items:

* Updated requirements.txt, test-requirements.txt and setup.py with the
  `update-requirements` tool provided by openstack/requirements.

* Added a lower-constraints.txt file.

* Added the ""check-requirements"" zuul job template to the CI.

Change-Id: I5aab02374523be83a65c8b7f47f1df5e93b5a3d2
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/98/610498/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', '.zuul.yaml', 'setup.py']",4,501f01765abdee63a60e88457a5feb5aba26575c,," setup_requires=['pbr>=2.0.0'],"," setup_requires=['pbr>=1.8'],",42,41
openstack%2Fcloudkitty~master~I61a5c23e9ff6eefb73813a4aaddb72ebc08214c5,openstack/cloudkitty,master,I61a5c23e9ff6eefb73813a4aaddb72ebc08214c5,Add scope_id to orchestrator log,MERGED,2018-10-12 12:58:06.000000000,2018-10-19 08:34:26.000000000,2018-10-19 08:34:26.000000000,"[{'_account_id': 9642}, {'_account_id': 22348}, {'_account_id': 23173}]","[{'number': 1, 'created': '2018-10-12 12:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/ec8f14e0fcb89e272573f65b81c633f3dcc6a0f4', 'message': 'Add scope_id to orchestrator log\n\nCurrently, the scope_id is not specified in the orchestrator logs: This\nmake troubleshooting tedious when no data is collected.\n\nChange-Id: I61a5c23e9ff6eefb73813a4aaddb72ebc08214c5\n'}, {'number': 2, 'created': '2018-10-17 07:29:42.000000000', 'files': ['cloudkitty/orchestrator.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/d55154a629e144adc1d9a845a7ab86d0cb15c2bd', 'message': 'Add scope_id to orchestrator log\n\nCurrently, the scope_id is not specified in the orchestrator logs: This\nmake troubleshooting tedious when no data is collected.\n\nChange-Id: I61a5c23e9ff6eefb73813a4aaddb72ebc08214c5\n'}]",0,610026,d55154a629e144adc1d9a845a7ab86d0cb15c2bd,10,3,2,23060,,,0,"Add scope_id to orchestrator log

Currently, the scope_id is not specified in the orchestrator logs: This
make troubleshooting tedious when no data is collected.

Change-Id: I61a5c23e9ff6eefb73813a4aaddb72ebc08214c5
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/26/610026/2 && git format-patch -1 --stdout FETCH_HEAD,['cloudkitty/orchestrator.py'],1,ec8f14e0fcb89e272573f65b81c633f3dcc6a0f4,add-scope-id-to-orchestrator-logs," '[%(scope_id)s] Error while collecting metric ' { 'scope_id': self._tenant_id, 'metric': metric, 'error': e, }, ) '[{}] No data collected for metric {} ' self._tenant_id, metric, ck_utils.ts2dt(timestamp))"," 'Error while collecting metric ' {'metric': metric, 'error': e}) 'No data collected for metric {} ' metric, ck_utils.ts2dt(timestamp))",9,4
openstack%2Fcloudkitty~master~I7d123f7968a50906cd9458a359491862a96ffe69,openstack/cloudkitty,master,I7d123f7968a50906cd9458a359491862a96ffe69,Support pagination in v2 storage total(),MERGED,2018-10-02 13:23:10.000000000,2018-10-19 08:32:26.000000000,2018-10-19 08:32:26.000000000,"[{'_account_id': 9642}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}]","[{'number': 1, 'created': '2018-10-02 13:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/e88c4cb9c911c2902535011e37d1e89dcb8214d8', 'message': ""Support pagination in v2 storage total()\n\nThis adds the required arguments for pagination to the interface of the v2\nstorage's 'total()' method.\n\nThe required changes have also been applied to the gnocchi backend and to the\nv1 storage adapter.\n\nChange-Id: I7d123f7968a50906cd9458a359491862a96ffe69\nStory: 2001372\nTask: 26936\n""}, {'number': 2, 'created': '2018-10-02 13:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/a7a4a42044cdb4c43f5fe0d39dbc2e0640e94312', 'message': ""Support pagination in v2 storage total()\n\nThis adds the required arguments for pagination to the interface of the v2\nstorage's 'total()' method.\n\nThe required changes have also been applied to the gnocchi backend and to the\nv1 storage adapter.\n\nChange-Id: I7d123f7968a50906cd9458a359491862a96ffe69\nStory: 2001372\nTask: 26836\n""}, {'number': 3, 'created': '2018-10-05 12:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/bff55ba68d12d9cf1c6c565455658a4bf90cd9e2', 'message': ""Support pagination in v2 storage total()\n\nThis adds the required arguments for pagination to the interface of the v2\nstorage's 'total()' method.\n\nThe required changes have also been applied to the gnocchi backend and to the\nv1 storage adapter.\n\nChange-Id: I7d123f7968a50906cd9458a359491862a96ffe69\nStory: 2001372\nTask: 26836\n""}, {'number': 4, 'created': '2018-10-05 15:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/a470b61c83e5c1fa5e9a305c010390d1b816990e', 'message': ""Support pagination in v2 storage total()\n\nThis adds the required arguments for pagination to the interface of the v2\nstorage's 'total()' method.\n\nThe required changes have also been applied to the gnocchi backend and to the\nv1 storage adapter.\n\nChange-Id: I7d123f7968a50906cd9458a359491862a96ffe69\nStory: 2001372\nTask: 26836\n""}, {'number': 5, 'created': '2018-10-17 07:30:00.000000000', 'files': ['cloudkitty/storage/v2/__init__.py', 'cloudkitty/storage/v2/gnocchi.py', 'cloudkitty/tests/storage/v1/test_storage.py', 'cloudkitty/storage/__init__.py', 'cloudkitty/api/v1/controllers/report.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/f55efdfcb53a6f5ff251a716ee60af0b1a1684ca', 'message': ""Support pagination in v2 storage total()\n\nThis adds the required arguments for pagination to the interface of the v2\nstorage's 'total()' method.\n\nThe required changes have also been applied to the gnocchi backend and to the\nv1 storage adapter.\n\nChange-Id: I7d123f7968a50906cd9458a359491862a96ffe69\nStory: 2001372\nTask: 26836\n""}]",4,607184,f55efdfcb53a6f5ff251a716ee60af0b1a1684ca,19,4,5,23060,,,0,"Support pagination in v2 storage total()

This adds the required arguments for pagination to the interface of the v2
storage's 'total()' method.

The required changes have also been applied to the gnocchi backend and to the
v1 storage adapter.

Change-Id: I7d123f7968a50906cd9458a359491862a96ffe69
Story: 2001372
Task: 26836
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/84/607184/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/storage/v2/__init__.py', 'cloudkitty/storage/v2/gnocchi.py', 'cloudkitty/tests/storage/v1/test_storage.py', 'cloudkitty/storage/__init__.py', 'cloudkitty/api/v1/controllers/report.py']",5,e88c4cb9c911c2902535011e37d1e89dcb8214d8,support-pagination-v2-storage-total, result = storage.total( if result['total'] < 1: return decimal.Decimal('0') total = sum(total['rate'] for total in result['results']) result = storage.total( for res in result['results']:, total_resources = storage.total( total = sum(total['rate'] for total in total_resources) results = storage.total( for res in results:,52,20
openstack%2Foslo.policy~master~Ia9edbfd551d260b798818940e4d156957f382324,openstack/oslo.policy,master,Ia9edbfd551d260b798818940e4d156957f382324,Update sphinx extension logging,MERGED,2018-10-16 19:35:57.000000000,2018-10-19 08:30:02.000000000,2018-10-19 08:30:02.000000000,"[{'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 19:35:57.000000000', 'files': ['oslo_policy/sphinxpolicygen.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/0bd7e90d32f5300ff0501c502b35f94419f4b92f', 'message': 'Update sphinx extension logging\n\nSphinx 1.6 deprecated using the application object to perform logging\nand it will be removed in the upcoming 2.0 release. This updates our\nextensions to use the recommended sphinx.util.logging instead.\n\nChange-Id: Ia9edbfd551d260b798818940e4d156957f382324\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,611143,0bd7e90d32f5300ff0501c502b35f94419f4b92f,7,3,1,11904,,,0,"Update sphinx extension logging

Sphinx 1.6 deprecated using the application object to perform logging
and it will be removed in the upcoming 2.0 release. This updates our
extensions to use the recommended sphinx.util.logging instead.

Change-Id: Ia9edbfd551d260b798818940e4d156957f382324
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/43/611143/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_policy/sphinxpolicygen.py'],1,0bd7e90d32f5300ff0501c502b35f94419f4b92f,sphinx-logging,"from sphinx.util import logging LOG = logging.getLogger(__name__) LOG.warning(""No policy_generator_config_file is specified, "" ""skipping sample policy generation"") LOG.info('[%s] %s' % (__name__, msg))"," app.warn(""No policy_generator_config_file is specified, "" ""skipping sample policy generation"") app.info('[%s] %s' % (__name__, msg))",7,3
openstack%2Fkeystone~master~Ifc6d162923072d657fd5c163b94ffcd88dc80692,openstack/keystone,master,Ifc6d162923072d657fd5c163b94ffcd88dc80692,Remove deprecated token_flush,MERGED,2018-10-10 07:04:30.000000000,2018-10-19 08:22:08.000000000,2018-10-19 08:22:07.000000000,"[{'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-10-10 07:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/69f529c88748017b8f26f2b53734f5bdefbc9892', 'message': 'Remove deprecated trust_flush\n\nThis patch removes the deprecated trust_flush\nin stein release of openstack.\n\nChange-Id: Ifc6d162923072d657fd5c163b94ffcd88dc80692\n'}, {'number': 2, 'created': '2018-10-17 09:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/746233358177b1a6ff24527701615b7fc1d33711', 'message': 'Remove deprecated token_flush\n\nThis patch removes the deprecated token_flush\nin stein release of openstack.\n\nChange-Id: Ifc6d162923072d657fd5c163b94ffcd88dc80692\nImplements: bp deprecated-as-of-stein\n'}, {'number': 3, 'created': '2018-10-17 09:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e9d225f2802d3d80c5916b32dcf9c2bd655b8672', 'message': 'Remove deprecated token_flush\n\nThis patch removes the deprecated token_flush\nin stein release of openstack.\n\nChange-Id: Ifc6d162923072d657fd5c163b94ffcd88dc80692\nImplements: bp removed-as-of-stein\n'}, {'number': 4, 'created': '2018-10-17 09:15:00.000000000', 'files': ['doc/source/cli/commands.rst', 'doc/source/admin/identity-performance.rst', 'keystone/cmd/cli.py', 'releasenotes/notes/removed-as-of-stein-5eb23253b72ab54e.yaml', 'doc/source/admin/identity-troubleshoot.rst', 'keystone/tests/unit/test_cli.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/48dcdb5ad3ea47e923da3ab4a1572159d7cac6df', 'message': 'Remove deprecated token_flush\n\nThis patch removes the deprecated token_flush\nin stein release of openstack.\n\nChange-Id: Ifc6d162923072d657fd5c163b94ffcd88dc80692\nImplements: bp removed-as-of-stein\n'}]",4,609277,48dcdb5ad3ea47e923da3ab4a1572159d7cac6df,16,8,4,27621,,,0,"Remove deprecated token_flush

This patch removes the deprecated token_flush
in stein release of openstack.

Change-Id: Ifc6d162923072d657fd5c163b94ffcd88dc80692
Implements: bp removed-as-of-stein
",git fetch https://review.opendev.org/openstack/keystone refs/changes/77/609277/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/commands.rst', 'doc/source/admin/identity-performance.rst', 'keystone/cmd/cli.py', 'doc/source/admin/identity-troubleshoot.rst', 'keystone/tests/unit/test_cli.py']",5,69f529c88748017b8f26f2b53734f5bdefbc9892,bp/removed-as-of-stein,,"class TestTokenFlush(unit.TestCase): def test_token_flush_emits_warning(self): expected_msg = ( 'This command is deprecated and no longer needed with the ' 'development of non-persistent token formats. It will be removed ' 'in Stein. It is recommended that you remove usage of this ' 'command or integrate it\'s functionality into a separate tool if ' 'you are using an out-of-tree provider that relies on persistent ' 'token storage.' ) logging = self.useFixture(fixtures.FakeLogger()) tf = cli.TokenFlush() tf.main() self.assertThat(logging.output, matchers.Contains(expected_msg)) ",0,72
openstack%2Fnova~master~I6915b7deca20eabb88c231b287586c64cdcf3646,openstack/nova,master,I6915b7deca20eabb88c231b287586c64cdcf3646,Migrate nova v2.0 legacy job to zuulv3,MERGED,2018-10-15 03:02:26.000000000,2018-10-19 08:19:45.000000000,2018-10-19 08:19:45.000000000,"[{'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 19944}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-10-15 03:02:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/f7a4ba969abdeb6b307ca4052da317b7c0b2ec3f', 'message': 'Migrate nova v2.0 legacy job to zuulv3\n\nThis commit migrate the legacy-tempest-dsvm-nova-v20-api\njob to zullv3 native with new job - tempest-nova-v2-api\n\nChange-Id: I6915b7deca20eabb88c231b287586c64cdcf3646\n'}]",0,610403,f7a4ba969abdeb6b307ca4052da317b7c0b2ec3f,39,17,1,8556,,,0,"Migrate nova v2.0 legacy job to zuulv3

This commit migrate the legacy-tempest-dsvm-nova-v20-api
job to zullv3 native with new job - tempest-nova-v2-api

Change-Id: I6915b7deca20eabb88c231b287586c64cdcf3646
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/610403/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f7a4ba969abdeb6b307ca4052da317b7c0b2ec3f,zuulv3-nova,- job: name: tempest-nova-v2-api parent: devstack-tempest branches: - master description: | This job runs the Tempest compute tests against v2.0 endpoint. Former names for this job was: * legacy-tempest-dsvm-nova-v20-api vars: tox_envlist: all tempest_test_regex: api.*compute devstack_localrc: TEMPEST_COMPUTE_TYPE: compute_legacy - tempest-nova-v2-api:, - legacy-tempest-dsvm-nova-v20-api:,16,1
openstack%2Ftripleo-ci~master~I1297f82e035e80aefbfff1a27b7e220d03796cab,openstack/tripleo-ci,master,I1297f82e035e80aefbfff1a27b7e220d03796cab,Enable use of python3 and dnf,MERGED,2018-10-12 12:06:15.000000000,2018-10-19 08:17:11.000000000,2018-10-19 08:17:11.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-10-12 12:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2cc7b9454c665704d727f4ea8216af39c40974e1', 'message': 'Enable use of python3 and dnf\n\n- Use detected package manager (dnf/yum)\n- Use python3 command if detected or python2 as fallback\n- Call pip/virtualenv as modules using detected python_cmd\n- Install virtualenv version coresponding to python_cmd\n- packabg_manager command now contains excludes that protect agains\ninstalling undesired python packages, avoinding cross contamination\nbetween py2/py3 packages.\n\nOn CentOS 7 system, this change should have no effect, yum still being\nused.\n\nChange-Id: I1297f82e035e80aefbfff1a27b7e220d03796cab\n'}, {'number': 2, 'created': '2018-10-15 09:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4566ce0b049f96dd9e54e3b2fcc8fa186cc3871d', 'message': 'Enable use of python3 and dnf\n\n- Use detected package manager (dnf/yum)\n- Use python3 command if detected or python2 as fallback\n- Call pip/virtualenv as modules using detected python_cmd\n- Install virtualenv version coresponding to python_cmd\n- packabg_manager command now contains excludes that protect agains\ninstalling undesired python packages, avoinding cross contamination\nbetween py2/py3 packages.\n\nOn CentOS 7 system, this change should have no effect, yum still being\nused.\n\nChange-Id: I1297f82e035e80aefbfff1a27b7e220d03796cab\n'}, {'number': 3, 'created': '2018-10-16 07:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/47cd8e8d35486cb37d5ed96255d96559ce9b52c8', 'message': 'Enable use of python3 and dnf\n\n- Use detected package manager (dnf/yum)\n- Use python3 command if detected or python2 as fallback\n- Call pip/virtualenv as modules using detected python_cmd\n- Install virtualenv version coresponding to python_cmd\n- packabg_manager command now contains excludes that protect agains\ninstalling undesired python packages, avoinding cross contamination\nbetween py2/py3 packages.\n\nOn CentOS 7 system, this change should have no effect, yum still being\nused.\n\nChange-Id: I1297f82e035e80aefbfff1a27b7e220d03796cab\n'}, {'number': 4, 'created': '2018-10-16 08:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c56bf41417778a09f2510207c0a6149fdef02714', 'message': 'Enable use of python3 and dnf\n\n- Use detected package manager (dnf/yum)\n- Use python3 command if detected or python2 as fallback\n- Call pip/virtualenv as modules using detected python_cmd\n- Install virtualenv version coresponding to python_cmd\n- packabg_manager command now contains excludes that protect agains\ninstalling undesired python packages, avoinding cross contamination\nbetween py2/py3 packages.\n\nOn CentOS 7 system, this change should have no effect, yum still being\nused.\n\nChange-Id: I1297f82e035e80aefbfff1a27b7e220d03796cab\n'}, {'number': 5, 'created': '2018-10-16 08:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/392201d37b2431c34e7ddd6b77e48e18332375de', 'message': 'Enable use of python3 and dnf\n\n- Use detected package manager (dnf/yum)\n- Use python3 command if detected or python2 as fallback\n- Call pip/virtualenv as modules using detected python_cmd\n- Install virtualenv version coresponding to python_cmd\n- packabg_manager command now contains excludes that protect agains\ninstalling undesired python packages, avoinding cross contamination\nbetween py2/py3 packages.\n\nOn CentOS 7 system, this change should have no effect, yum still being\nused.\n\nChange-Id: I1297f82e035e80aefbfff1a27b7e220d03796cab\n'}, {'number': 6, 'created': '2018-10-16 08:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f18024784368b22a844035dc84ddc9b6106680d2', 'message': 'Enable use of python3 and dnf\n\n- Use detected package manager (dnf/yum)\n- Use python3 command if detected or python2 as fallback\n- Call pip/virtualenv as modules using detected python_cmd\n- Install virtualenv version coresponding to python_cmd\n- packabg_manager command now contains excludes that protect agains\ninstalling undesired python packages, avoinding cross contamination\nbetween py2/py3 packages.\n\nOn CentOS 7 system, this change should have no effect, yum still being\nused.\n\nChange-Id: I1297f82e035e80aefbfff1a27b7e220d03796cab\n'}, {'number': 7, 'created': '2018-10-16 13:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/09ef83fbefc9cfcb28b016f7b169918a422d825d', 'message': 'Enable use of python3 and dnf\n\n- Use detected package manager (dnf/yum)\n- Use python3 command if detected or python2 as fallback\n- Call pip/virtualenv as modules using detected python_cmd\n- Install virtualenv version coresponding to python_cmd\n- packabg_manager command now contains excludes that protect agains\ninstalling undesired python packages, avoinding cross contamination\nbetween py2/py3 packages.\n\nOn CentOS 7 system, this change should have no effect, yum still being\nused.\n\nChange-Id: I1297f82e035e80aefbfff1a27b7e220d03796cab\n'}, {'number': 8, 'created': '2018-10-17 10:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ba42e275a99b7fd2da3171f54c52d65343c5f3b0', 'message': 'Enable use of python3 and dnf\n\n- Use detected package manager (dnf/yum)\n- Use python3 command if detected or python2 as fallback\n- Call pip/virtualenv as modules using detected python_cmd\n- Install virtualenv version coresponding to python_cmd\n- package_manager command now contains excludes that protect agains\ninstalling undesired python packages, avoinding cross contamination\nbetween py2/py3 packages.\n\nOn CentOS 7 system, this change should have no effect, yum still being\nused.\n\nChange-Id: I1297f82e035e80aefbfff1a27b7e220d03796cab\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/153?kanban-status=1447276\n'}, {'number': 9, 'created': '2018-10-17 10:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d09852a1a87e02e041c62e3a689a30dfdcd62d84', 'message': 'Enable use of python3 and dnf\n\n- Use detected package manager (dnf/yum)\n- Use python3 command if detected or python2 as fallback\n- Call pip/virtualenv as modules using detected python_cmd\n- Install virtualenv version coresponding to python_cmd\n- package_manager command now contains excludes that protect agains\ninstalling undesired python packages, avoinding cross contamination\nbetween py2/py3 packages.\n\nOn CentOS 7 system, this change should have no effect, yum still being\nused.\n\nChange-Id: I1297f82e035e80aefbfff1a27b7e220d03796cab\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/153?kanban-status=1447276\n'}, {'number': 10, 'created': '2018-10-18 13:59:29.000000000', 'files': ['playbooks/tripleo-ci/templates/toci_gate_test.sh.j2', 'playbooks/tripleo-ci/templates/oooq_common_functions.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/feda2aea2114a074b5be8a4ab551d5837ab0dc9a', 'message': 'Enable use of python3 and dnf\n\n- Use detected package manager (dnf/yum)\n- Use python3 command if detected or python2 as fallback\n- Call pip/virtualenv as modules using detected python_cmd\n- Install virtualenv version coresponding to python_cmd\n- package_manager command now contains excludes that protect agains\ninstalling undesired python packages, avoinding cross contamination\nbetween py2/py3 packages.\n\nOn CentOS 7 system, this change should have no effect, yum still being\nused.\n\nChange-Id: I1297f82e035e80aefbfff1a27b7e220d03796cab\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/153?kanban-status=1447276\n'}]",19,610018,feda2aea2114a074b5be8a4ab551d5837ab0dc9a,50,9,10,24162,,,0,"Enable use of python3 and dnf

- Use detected package manager (dnf/yum)
- Use python3 command if detected or python2 as fallback
- Call pip/virtualenv as modules using detected python_cmd
- Install virtualenv version coresponding to python_cmd
- package_manager command now contains excludes that protect agains
installing undesired python packages, avoinding cross contamination
between py2/py3 packages.

On CentOS 7 system, this change should have no effect, yum still being
used.

Change-Id: I1297f82e035e80aefbfff1a27b7e220d03796cab
Story: https://tree.taiga.io/project/tripleo-ci-board/task/153?kanban-status=1447276
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/18/610018/5 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/tripleo-ci/templates/toci_gate_test.sh.j2', 'scripts/common_functions.sh', 'scripts/tripleo.sh', 'playbooks/tripleo-ci/templates/oooq_common_functions.sh.j2', 'toci_gate_test.sh']",5,2cc7b9454c665704d727f4ea8216af39c40974e1,standalone-f28,"# Since python3 became default on some distros without even having a python/pip # command installed due to PEP-0394, we can no longer rely on having # unversioned commands available like python(2|3) or pip(2|3). We should only # call pip using module approach which ensures we use the right version. $(python_cmd) -m pip --version || \ (curl ""https://bootstrap.pypa.io/get-pip.py"" -o ""get-pip.py""; sudo $(python_cmd) get-pip.py) sudo $(package_manager) -y install python*-requests python*-urllib3 sudo $(package_manager) -q search shyaml 2>/dev/null && \ sudo $(package_manager) -y install shyaml || \ sudo $(python_cmd) -m pip install shyaml sudo $(python_cmd) -m pip install gear","# NOTE(trown): In openstack-infra we have pip already, but this will ensure we # have it available in other environments. command -v pip || \ (curl ""https://bootstrap.pypa.io/get-pip.py"" -o ""get-pip.py""; sudo python get-pip.py) sudo yum -y install python-requests python-urllib3 sudo pip install shyaml sudo pip install gear",68,29
openstack%2Ftripleo-common~master~I1c8b9530506ee8308c6d369d5587f8b45a3e5ca4,openstack/tripleo-common,master,I1c8b9530506ee8308c6d369d5587f8b45a3e5ca4,Add ansible_group_vars to config download,MERGED,2018-08-24 19:11:39.000000000,2018-10-19 08:17:10.000000000,2018-10-19 08:17:10.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-24 19:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a6f0eab6ba48be683a98e16f48581de390d12863', 'message': 'WIP: Add ansible_group_vars to config download\n\nThis change as support for Ansible vars to be provided via a new\ninterface in t-tht and consumed by config-download, then written\nunder $config-download-dir/group_vars/ where they can be accessed\nby ansible commands.\n\nPart of blueprint ansible-tasks-to-role.\nDepends-On: Ib70e7dda13b4a3ed30af88906ba42c25cdc93038\n\nChange-Id: I1c8b9530506ee8308c6d369d5587f8b45a3e5ca4\n'}, {'number': 2, 'created': '2018-08-28 18:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/faa1c7ad975667803e4211382e728e7f9c61f3b7', 'message': 'WIP: Add ansible_group_vars to config download\n\nThis change as support for Ansible vars to be provided via a new\ninterface in t-tht and consumed by config-download, then written\nunder $config-download-dir/group_vars/ where they can be accessed\nby ansible commands.\n\nPart of blueprint ansible-tasks-to-role.\nDepends-On: Ib70e7dda13b4a3ed30af88906ba42c25cdc93038\n\nChange-Id: I1c8b9530506ee8308c6d369d5587f8b45a3e5ca4\n'}, {'number': 3, 'created': '2018-08-31 18:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6f6b914e37556add7005b5c15d207bb67b42e79f', 'message': 'Add ansible_group_vars to config download\n\nThis change adds support for Ansible vars to be provided via a new\ninterface in tht and consumed by config-download. Vars are written\nunder $config-download-dir/group_vars/ where they can be accessed\nby ansible commands.\n\nPart of blueprint ansible-tasks-to-role.\nDepends-On: Ib70e7dda13b4a3ed30af88906ba42c25cdc93038\n\nChange-Id: I1c8b9530506ee8308c6d369d5587f8b45a3e5ca4\n'}, {'number': 4, 'created': '2018-08-31 20:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/380e223763ed5f58b135207005db6bf80a1a1759', 'message': 'Add ansible_group_vars to config download\n\nThis change adds support for Ansible vars to be provided via a new\ninterface in tht and consumed by config-download. Vars are written\nunder $config-download-dir/group_vars/ where they can be accessed\nby ansible commands.\n\nPart of blueprint ansible-tasks-to-role.\nDepends-On: Ib70e7dda13b4a3ed30af88906ba42c25cdc93038\n\nChange-Id: I1c8b9530506ee8308c6d369d5587f8b45a3e5ca4\n'}, {'number': 5, 'created': '2018-10-17 16:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fad8d07e4d87d53779b52239112c4cb155979ac4', 'message': 'Add ansible_group_vars to config download\n\nThis change adds support for Ansible vars to be provided via a new\ninterface in tht and consumed by config-download. Vars are written\nunder $config-download-dir/group_vars/ where they can be accessed\nby ansible commands.\n\nPart of blueprint ansible-tasks-to-role.\nDepends-On: Ib70e7dda13b4a3ed30af88906ba42c25cdc93038\n\nChange-Id: I1c8b9530506ee8308c6d369d5587f8b45a3e5ca4\n'}, {'number': 6, 'created': '2018-10-17 19:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0db99bc9d64fe77fac2eeb1f06a7508221bfb3b3', 'message': 'Add ansible_group_vars to config download\n\nThis change adds support for Ansible vars to be provided via a new\ninterface in tht and consumed by config-download. Vars are written\nunder $config-download-dir/group_vars/ where they can be accessed\nby ansible commands.\n\nPart of blueprint ansible-tasks-to-role.\nDepends-On: Ib70e7dda13b4a3ed30af88906ba42c25cdc93038\n\nChange-Id: I1c8b9530506ee8308c6d369d5587f8b45a3e5ca4\n'}, {'number': 7, 'created': '2018-10-17 20:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d675ea4040d56130d0c103cfc4d605c3722a7c65', 'message': 'Add ansible_group_vars to config download\n\nThis change adds support for Ansible vars to be provided via a new\ninterface in tht and consumed by config-download. Vars are written\nunder $config-download-dir/group_vars/ where they can be accessed\nby ansible commands.\n\nPart of blueprint ansible-tasks-to-role.\nDepends-On: Ib70e7dda13b4a3ed30af88906ba42c25cdc93038\n\nChange-Id: I1c8b9530506ee8308c6d369d5587f8b45a3e5ca4\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 8, 'created': '2018-10-17 20:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/51bab1f11b953034e88cd4618ac801ed2b692dca', 'message': 'Add ansible_group_vars to config download\n\nThis change adds support for Ansible vars to be provided via a new\ninterface in tht and consumed by config-download. Vars are written\nunder $config-download-dir/group_vars/ where they can be accessed\nby ansible commands.\n\nPart of blueprint ansible-tasks-to-role.\nDepends-On: Ib70e7dda13b4a3ed30af88906ba42c25cdc93038\n\nChange-Id: I1c8b9530506ee8308c6d369d5587f8b45a3e5ca4\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 9, 'created': '2018-10-17 21:00:02.000000000', 'files': ['tripleo_common/utils/config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f08383db58f36fe9d990aab8858555a8711e5b59', 'message': 'Add ansible_group_vars to config download\n\nThis change adds support for Ansible vars to be provided via a new\ninterface in tht and consumed by config-download. Vars are written\nunder $config-download-dir/group_vars/ where they can be accessed\nby ansible commands.\n\nPart of blueprint ansible-tasks-to-role.\nDepends-On: Ib70e7dda13b4a3ed30af88906ba42c25cdc93038\n\nChange-Id: I1c8b9530506ee8308c6d369d5587f8b45a3e5ca4\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}]",1,596429,f08383db58f36fe9d990aab8858555a8711e5b59,30,5,9,20868,,,0,"Add ansible_group_vars to config download

This change adds support for Ansible vars to be provided via a new
interface in tht and consumed by config-download. Vars are written
under $config-download-dir/group_vars/ where they can be accessed
by ansible commands.

Part of blueprint ansible-tasks-to-role.
Depends-On: Ib70e7dda13b4a3ed30af88906ba42c25cdc93038

Change-Id: I1c8b9530506ee8308c6d369d5587f8b45a3e5ca4
Co-Authored-By: Alex Schultz <aschultz@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/29/596429/8 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/config.py'],1,a6f0eab6ba48be683a98e16f48581de390d12863,bp/ansible-tasks-to-role," elif config == 'AnsibleGroupVars': group_vars_dir = os.path.join(config_dir, 'group_vars') filepath = os.path.join(group_vars_dir, 'all.yaml') data = role[config] with open(filepath, 'wb') as f: f.write(data)",,6,0
openstack%2Ftripleo-heat-templates~master~Ib70e7dda13b4a3ed30af88906ba42c25cdc93038,openstack/tripleo-heat-templates,master,Ib70e7dda13b4a3ed30af88906ba42c25cdc93038,Add stack output ansible_group_vars,MERGED,2018-08-24 19:09:10.000000000,2018-10-19 08:17:09.000000000,2018-10-19 08:17:08.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 8871}, {'_account_id': 14985}, {'_account_id': 20868}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-24 19:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c0d6b71a93f84c5b38c93ac59095c28898a4df34', 'message': 'WIP: Add stack output ansible_group_vars\n\nThis change adds a stack output to services/common.yaml that acts\nas an interface for Ansible group variables.  Ansible vars provided\nvia this interface will be consumed by config-download and written\nunder $config-download-dir/group_vars/ where they can be accessed\nby ansible commands.\n\nPart of blueprint ansible-tasks-to-role.\n\nChange-Id: Ib70e7dda13b4a3ed30af88906ba42c25cdc93038\n'}, {'number': 2, 'created': '2018-08-28 18:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f68de19c873b86242a9238faf381064f5aefdff8', 'message': 'WIP: Add stack output ansible_group_vars\n\nThis change adds a stack output to services/common.yaml that acts\nas an interface for Ansible group variables.  Ansible vars provided\nvia this interface will be consumed by config-download and written\nunder $config-download-dir/group_vars/ where they can be accessed\nby ansible commands.\n\nPart of blueprint ansible-tasks-to-role.\n\nChange-Id: Ib70e7dda13b4a3ed30af88906ba42c25cdc93038\n'}, {'number': 3, 'created': '2018-08-31 18:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2f327b13fc549b933ce5dcb0837cb3e365a52b9d', 'message': 'Add stack output ansible_group_vars\n\nThis change adds a stack output to services/common.yaml that acts\nas an interface for Ansible group variables.  Ansible vars provided\nvia this interface will be consumed by config-download and written\nunder $config-download-dir/group_vars/ where they can be accessed\nby ansible commands.\n\nPart of blueprint ansible-tasks-to-role.\n\nChange-Id: Ib70e7dda13b4a3ed30af88906ba42c25cdc93038\n'}, {'number': 4, 'created': '2018-08-31 22:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ded076de1d8087d3c7925d626ab8fb83221a66a1', 'message': 'Add stack output ansible_group_vars\n\nThis change adds a stack output to services/common.yaml that acts\nas an interface for Ansible group variables.  Ansible vars provided\nvia this interface will be consumed by config-download and written\nunder $config-download-dir/group_vars/ where they can be accessed\nby ansible commands.\n\nPart of blueprint ansible-tasks-to-role.\n\nChange-Id: Ib70e7dda13b4a3ed30af88906ba42c25cdc93038\n'}, {'number': 5, 'created': '2018-10-17 16:44:50.000000000', 'files': ['common/services.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fc30066a35dc38fb01e162ae78fe97beab228e72', 'message': 'Add stack output ansible_group_vars\n\nThis change adds a stack output to services/common.yaml that acts\nas an interface for Ansible group variables.  Ansible vars provided\nvia this interface will be consumed by config-download and written\nunder $config-download-dir/group_vars/ where they can be accessed\nby ansible commands.\n\nPart of blueprint ansible-tasks-to-role.\n\nChange-Id: Ib70e7dda13b4a3ed30af88906ba42c25cdc93038\n'}]",0,596427,fc30066a35dc38fb01e162ae78fe97beab228e72,38,7,5,20868,,,0,"Add stack output ansible_group_vars

This change adds a stack output to services/common.yaml that acts
as an interface for Ansible group variables.  Ansible vars provided
via this interface will be consumed by config-download and written
under $config-download-dir/group_vars/ where they can be accessed
by ansible commands.

Part of blueprint ansible-tasks-to-role.

Change-Id: Ib70e7dda13b4a3ed30af88906ba42c25cdc93038
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/27/596427/4 && git format-patch -1 --stdout FETCH_HEAD,['common/services.yaml'],1,c0d6b71a93f84c5b38c93ac59095c28898a4df34,bp/ansible-tasks-to-role," AnsibleGroupVars: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: expression: coalesce($.data, []).where($ != null).select($.get('ansible_group_vars')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} ansible_group_vars: {get_attr [AnsibleGroupVars, value]}",,10,0
openstack%2Fbifrost~master~I8ae10f636aa3e7ae57b1d3bff85080b610874407,openstack/bifrost,master,I8ae10f636aa3e7ae57b1d3bff85080b610874407,Fix typos,MERGED,2018-10-17 10:07:13.000000000,2018-10-19 08:11:52.000000000,2018-10-19 08:11:52.000000000,"[{'_account_id': 6133}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 10:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a6affd549bcfcead9cc3473a0e06b474c673adfd', 'message': 'Fix typo\n\nChange-Id: I8ae10f636aa3e7ae57b1d3bff85080b610874407\n'}, {'number': 2, 'created': '2018-10-17 15:10:25.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/inspector_install.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/254ad0c1e997a88807632e3486fb1a48af4b8e80', 'message': 'Fix typos\n\nThese typos prevent proper behaviour of tasks when\nplaybooks are run with non-default arguments\n\nChange-Id: I8ae10f636aa3e7ae57b1d3bff85080b610874407\n'}]",0,611282,254ad0c1e997a88807632e3486fb1a48af4b8e80,11,4,2,19578,,,0,"Fix typos

These typos prevent proper behaviour of tasks when
playbooks are run with non-default arguments

Change-Id: I8ae10f636aa3e7ae57b1d3bff85080b610874407
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/82/611282/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/tasks/inspector_install.yml'],1,a6affd549bcfcead9cc3473a0e06b474c673adfd,fix-typo, source_install={{ ironicinspectorclient_source_install }}, sourc_install={{ ironicinspectorclient_source_install }},1,1
openstack%2Fbifrost~master~I7d8c2b29ece07ead5f6e23706a5e51d4c1b65ad8,openstack/bifrost,master,I7d8c2b29ece07ead5f6e23706a5e51d4c1b65ad8,Fix CI for CentOS,MERGED,2018-10-03 07:20:31.000000000,2018-10-19 08:10:54.000000000,2018-10-19 08:10:54.000000000,"[{'_account_id': 6133}, {'_account_id': 10239}, {'_account_id': 19578}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-03 07:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e75f4ce074d38bfa923dda4aca86515f0d001c36', 'message': '[DNM] Testing CI paramaters\n\nChange-Id: I7d8c2b29ece07ead5f6e23706a5e51d4c1b65ad8\n'}, {'number': 2, 'created': '2018-10-03 07:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/843799811e95084a2b645a12cbe5118d143cd0c9', 'message': '[DNM] Testing CI paramaters\n\nChange-Id: I7d8c2b29ece07ead5f6e23706a5e51d4c1b65ad8\n'}, {'number': 3, 'created': '2018-10-03 08:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/0e399f34d7513c076d3a3bcad142386c3ab58cf0', 'message': '[DNM] Testing CI paramaters\n\nChange-Id: I7d8c2b29ece07ead5f6e23706a5e51d4c1b65ad8\n'}, {'number': 4, 'created': '2018-10-05 07:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/4616da2cc6637fa61dd9243c64eef346b1fde9a9', 'message': '[DNM] Testing CI paramaters\n\nChange-Id: I7d8c2b29ece07ead5f6e23706a5e51d4c1b65ad8\n'}, {'number': 5, 'created': '2018-10-05 09:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9d66a35e326d37cc12a5e9fd84e21a7f66158eff', 'message': '[DNM] Testing CI paramaters\n\nChange-Id: I7d8c2b29ece07ead5f6e23706a5e51d4c1b65ad8\n'}, {'number': 6, 'created': '2018-10-05 10:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/fc08008076b29059fc5f215d1655a709db4147f3', 'message': '[DNM] Testing CI paramaters\n\nChange-Id: I7d8c2b29ece07ead5f6e23706a5e51d4c1b65ad8\n'}, {'number': 7, 'created': '2018-10-06 09:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6747d0a28520493f65f0ef99e970d5b77f9580a7', 'message': '[DNM] Testing CI paramaters\n\nChange-Id: I7d8c2b29ece07ead5f6e23706a5e51d4c1b65ad8\n'}, {'number': 8, 'created': '2018-10-06 17:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/cc456283c8273b40d4e6e9583d3cfdee79ee4298', 'message': '[DNM] Testing CI paramaters\n\nChange-Id: I7d8c2b29ece07ead5f6e23706a5e51d4c1b65ad8\n'}, {'number': 9, 'created': '2018-10-11 13:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d47e5c4fe6c1c13ca4f3b114ce329ec3eaaa9367', 'message': '[DNM] Testing CI paramaters\n\nChange-Id: I7d8c2b29ece07ead5f6e23706a5e51d4c1b65ad8\n'}, {'number': 10, 'created': '2018-10-11 16:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/fe7fdf6628f114f295d07f1c268f4d9fd3765b0a', 'message': '[DNM] Testing CI paramaters\n\nChange-Id: I7d8c2b29ece07ead5f6e23706a5e51d4c1b65ad8\n'}, {'number': 11, 'created': '2018-10-15 08:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1cfec7c61058ade6ae939f50d00fd9dc80e752be', 'message': '[DNM] Testing CI paramaters\n\nChange-Id: I7d8c2b29ece07ead5f6e23706a5e51d4c1b65ad8\n'}, {'number': 12, 'created': '2018-10-15 10:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/bc13733069ca69bd3ac334d0826fa3b741692786', 'message': '[DNM] Testing CI paramaters\n\nChange-Id: I7d8c2b29ece07ead5f6e23706a5e51d4c1b65ad8\n'}, {'number': 13, 'created': '2018-10-15 11:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a075611a7ed8e51cf5dd3da92dce9382ad753f0d', 'message': '[DNM] Testing CI paramaters\n\nChange-Id: I7d8c2b29ece07ead5f6e23706a5e51d4c1b65ad8\n'}, {'number': 14, 'created': '2018-10-15 18:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e7b1a0ff72c7ac3c34d73e0f1361ac4586bed1c3', 'message': '[DNM] Testing CI paramaters\n\nChange-Id: I7d8c2b29ece07ead5f6e23706a5e51d4c1b65ad8\n'}, {'number': 15, 'created': '2018-10-15 18:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/120b8b87f5e3a0cbcc0c8fa80f09d677ffae7119', 'message': '[DNM] Testing CI paramaters\n\nChange-Id: I7d8c2b29ece07ead5f6e23706a5e51d4c1b65ad8\n'}, {'number': 16, 'created': '2018-10-16 06:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/290a2e7d5da5c23e2a2e786ac6480052359d347c', 'message': '[DNM] Testing CI paramaters\n\nChange-Id: I7d8c2b29ece07ead5f6e23706a5e51d4c1b65ad8\n'}, {'number': 17, 'created': '2018-10-16 15:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ae6feb0f317b0111f38f53aaf09c90f9207f5736', 'message': '[DNM] Testing CI paramaters\n\nChange-Id: I7d8c2b29ece07ead5f6e23706a5e51d4c1b65ad8\n'}, {'number': 18, 'created': '2018-10-16 20:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/4a0d5f4885f22820b12d893d8bb65448ae27a1d0', 'message': '[DNM] Testing CI paramaters\n\nChange-Id: I7d8c2b29ece07ead5f6e23706a5e51d4c1b65ad8\n'}, {'number': 19, 'created': '2018-10-17 06:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/215a0023f962d2c183b3caf6f32b5891b17e6b5d', 'message': '[DNM] Testing CI paramaters\n\nChange-Id: I7d8c2b29ece07ead5f6e23706a5e51d4c1b65ad8\n'}, {'number': 20, 'created': '2018-10-17 07:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/951db94d290fd021bfb1c273cd1a85ae3363822c', 'message': 'Fix CI for CentOS\n\nChange-Id: I7d8c2b29ece07ead5f6e23706a5e51d4c1b65ad8\n'}, {'number': 21, 'created': '2018-10-17 12:19:41.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml', 'scripts/collect-test-info.sh', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'scripts/install-deps.sh', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/632a5367b19e7410c55b98fa1f8c8362dc870fcf', 'message': 'Fix CI for CentOS\n\nChange-Id: I7d8c2b29ece07ead5f6e23706a5e51d4c1b65ad8\n'}]",2,607480,632a5367b19e7410c55b98fa1f8c8362dc870fcf,52,4,21,19578,,,0,"Fix CI for CentOS

Change-Id: I7d8c2b29ece07ead5f6e23706a5e51d4c1b65ad8
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/80/607480/20 && git format-patch -1 --stdout FETCH_HEAD,['scripts/install-deps.sh'],1,e75f4ce074d38bfa923dda4aca86515f0d001c36,fix-ci-4-centos,"echo ""Got ID=$ID"" echo ""Got OS_FAMILY=$OS_FAMILY"" set | egrep -i 'redhat|centos|ubuntu|debian|suse' exit 2",,4,0
openstack%2Ftripleo-heat-templates~master~I3f6d8adae1918d1d55fdecc09fed5e4b45ee46b9,openstack/tripleo-heat-templates,master,I3f6d8adae1918d1d55fdecc09fed5e4b45ee46b9,"Revert ""Convert *tasks from bootstrap_nodeid to short_bootstrap_node_name""",MERGED,2018-10-18 07:20:45.000000000,2018-10-19 08:02:13.000000000,2018-10-19 01:53:22.000000000,"[{'_account_id': 4328}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-10-18 07:20:45.000000000', 'files': ['docker/services/pacemaker/cinder-volume.yaml', 'docker/services/pacemaker/haproxy.yaml', 'puppet/services/database/redis-base.yaml', 'docker/services/nova-api.yaml', 'docker/services/ironic-api.yaml', 'docker/services/pacemaker/ovn-dbs.yaml', 'docker/services/pacemaker/rabbitmq.yaml', 'docker/services/pacemaker/database/mysql.yaml', 'docker/services/pacemaker/rpc-rabbitmq.yaml', 'docker/services/pacemaker/database/redis.yaml', 'docker/services/pacemaker/notify-rabbitmq.yaml', 'docker/services/pacemaker/cinder-backup.yaml', 'docker/services/pacemaker/manila-share.yaml', 'puppet/services/gnocchi-api.yaml', 'puppet/services/haproxy-public-tls-inject.yaml', 'docker/services/cinder-api.yaml', 'puppet/services/nova-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3cbaadd09c034629fb20e3c663ad64b3b468f77b', 'message': 'Revert ""Convert *tasks from bootstrap_nodeid to short_bootstrap_node_name""\n\nThis reverts commit 52c1641e2c3ad5caeb70fc8a09f29eba6fe5b53d due to the related bug below\n\nChange-Id: I3f6d8adae1918d1d55fdecc09fed5e4b45ee46b9\nRelated-Bug: 1798525\n'}]",0,611518,3cbaadd09c034629fb20e3c663ad64b3b468f77b,14,9,1,8449,,,0,"Revert ""Convert *tasks from bootstrap_nodeid to short_bootstrap_node_name""

This reverts commit 52c1641e2c3ad5caeb70fc8a09f29eba6fe5b53d due to the related bug below

Change-Id: I3f6d8adae1918d1d55fdecc09fed5e4b45ee46b9
Related-Bug: 1798525
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/611518/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/pacemaker/cinder-volume.yaml', 'docker/services/pacemaker/haproxy.yaml', 'puppet/services/database/redis-base.yaml', 'docker/services/nova-api.yaml', 'docker/services/ironic-api.yaml', 'docker/services/pacemaker/ovn-dbs.yaml', 'docker/services/pacemaker/rabbitmq.yaml', 'docker/services/pacemaker/database/mysql.yaml', 'docker/services/pacemaker/rpc-rabbitmq.yaml', 'docker/services/pacemaker/database/redis.yaml', 'docker/services/pacemaker/notify-rabbitmq.yaml', 'docker/services/pacemaker/cinder-backup.yaml', 'docker/services/pacemaker/manila-share.yaml', 'puppet/services/gnocchi-api.yaml', 'puppet/services/haproxy-public-tls-inject.yaml', 'docker/services/cinder-api.yaml', 'puppet/services/nova-api.yaml']",17,3cbaadd09c034629fb20e3c663ad64b3b468f77b,bug/1792613, - name: get bootstrap nodeid tags: common command: hiera bootstrap_nodeid register: bootstrap_node set_fact: is_bootstrap_node={{bootstrap_node.stdout|lower == ansible_hostname|lower}}, set_fact: is_bootstrap_node={{nova_api_short_bootstrap_node_name|lower == ansible_hostname|lower}},76,18
openstack%2Fopenstack-helm-infra~master~I6062b81fa2f4563216dc1d400f9bd038a21e87fd,openstack/openstack-helm-infra,master,I6062b81fa2f4563216dc1d400f9bd038a21e87fd,Use run-scripts play instead of current gate runner,ABANDONED,2018-10-10 13:05:24.000000000,2018-10-19 07:47:57.000000000,,"[{'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-10 13:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ade5632cbdeff4a001b78a83c147f8800771f678', 'message': '[WIP] Use run-scripts instead of current gate runner\n\nThis replaces the current runner that is osh-infra\nspecific with the new one that can make use of profiles.\n\nChange-Id: I6062b81fa2f4563216dc1d400f9bd038a21e87fd\n'}, {'number': 2, 'created': '2018-10-11 07:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dc52da10d04bfecb23d89d101da92a7072bc1fa2', 'message': '[WIP] Use run-scripts instead of current gate runner\n\nThis replaces the current runner that is osh-infra\nspecific with the new one that can make use of profiles.\n\nChange-Id: I6062b81fa2f4563216dc1d400f9bd038a21e87fd\n'}, {'number': 3, 'created': '2018-10-11 12:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ccca9cf09a562198057595cf656976fd1f35407e', 'message': '[WIP] Use run-scripts instead of current gate runner\n\nThis replaces the current runner that is osh-infra\nspecific with the new one that can make use of profiles.\n\nChange-Id: I6062b81fa2f4563216dc1d400f9bd038a21e87fd\n'}, {'number': 4, 'created': '2018-10-11 16:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d65e7d3b0dc224e6536650f95ffe1484080b2d43', 'message': '[WIP] Use run-scripts instead of current gate runner\n\nThis replaces the current runner that is osh-infra\nspecific with the new one that can make use of profiles.\n\nChange-Id: I6062b81fa2f4563216dc1d400f9bd038a21e87fd\n'}, {'number': 5, 'created': '2018-10-12 07:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c69ab5ce3a77bce94629098866499334fea6e8a9', 'message': 'Use run-scripts instead of current gate runner\n\nThis replaces the current runner that is osh-infra\nspecific with the new one that can make use of profiles.\n\nChange-Id: I6062b81fa2f4563216dc1d400f9bd038a21e87fd\n'}, {'number': 6, 'created': '2018-10-15 09:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5353d019bb85e2b71e75829116ac9f8b814d638f', 'message': 'Use run-scripts instead of current gate runner\n\nThis replaces the current runner that is osh-infra\nspecific with the new one that can make use of profiles.\n\nChange-Id: I6062b81fa2f4563216dc1d400f9bd038a21e87fd\n'}, {'number': 7, 'created': '2018-10-15 09:35:45.000000000', 'files': ['playbooks/osh-infra-gate-runner.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2c250bcd0c6eebbe3d598817be98036877638ae3', 'message': 'Use run-scripts play instead of current gate runner\n\nThis replaces the current runner that is osh-infra\nspecific with the new one that can make use of profiles.\n\nChange-Id: I6062b81fa2f4563216dc1d400f9bd038a21e87fd\n'}]",1,609398,2c250bcd0c6eebbe3d598817be98036877638ae3,17,2,7,17068,,,0,"Use run-scripts play instead of current gate runner

This replaces the current runner that is osh-infra
specific with the new one that can make use of profiles.

Change-Id: I6062b81fa2f4563216dc1d400f9bd038a21e87fd
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/98/609398/5 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/osh-infra-gate-runner.yaml', 'zuul.d/jobs.yaml']",2,ade5632cbdeff4a001b78a83c147f8800771f678,gate-cleaning, run: zuul.d/playbooks/run-scripts.yml script_list: run: zuul.d/playbooks/run-scripts.yml scripts_list: run: zuul.d/playbooks/run-scripts.yml scripts_list: run: zuul.d/playbooks/run-scripts.yml scripts_list: run: zuul.d/playbooks/run-scripts.yml scripts_list:, run: playbooks/osh-infra-gate-runner.yaml gate_scripts: run: playbooks/osh-infra-gate-runner.yaml gate_scripts: run: playbooks/osh-infra-gate-runner.yaml gate_scripts: run: playbooks/osh-infra-gate-runner.yaml gate_scripts: run: playbooks/osh-infra-gate-runner.yaml gate_scripts:,10,32
openstack%2Fopenstack-helm-infra~master~Ic30e139455225b801c25bc428eeb3d9ff6e3aca4,openstack/openstack-helm-infra,master,Ic30e139455225b801c25bc428eeb3d9ff6e3aca4,Add script runner,ABANDONED,2018-10-08 18:41:59.000000000,2018-10-19 07:47:29.000000000,,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-10-08 18:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5b8fd43e293ff95c0015136b09ffecaa322600dd', 'message': '[WIP] Add script runner\n\nThis adds a new script runner with the following features:\n- Ability to run cross-repositories with a single playbook\n- Ability to use scenarios\n- Ability to use overrides selectively based on shell script\n  name (string matching)\n- Ability to automatically find and trigger shell scripts\n  or alternatively, receive a list of shell scripts to\n  run for a job\n\nChange-Id: Ic30e139455225b801c25bc428eeb3d9ff6e3aca4\n'}, {'number': 2, 'created': '2018-10-09 08:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/35186c40927d6824981e2745c7990f8c9f229abc', 'message': '[WIP] Add script runner\n\nThis adds a new script runner with the following features:\n- Ability to run cross-repositories with a single playbook\n- Ability to use scenarios\n- Ability to use overrides selectively based on shell script\n  name (string matching)\n- Ability to automatically find and trigger shell scripts\n  or alternatively, receive a list of shell scripts to\n  run for a job\n- Ability to blacklist a script based on name (string matching)\n\nChange-Id: Ic30e139455225b801c25bc428eeb3d9ff6e3aca4\n'}, {'number': 3, 'created': '2018-10-09 11:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/44599f03ec7cdd46d05202dae31e8680d17f8e1d', 'message': 'Add script runner\n\nThis adds a new script runner with the following features:\n- Ability to run cross-repositories with a single playbook\n- Ability to use scenarios\n- Ability to use overrides selectively based on shell script\n  name (string matching)\n- Ability to automatically find and trigger shell scripts\n  or alternatively, receive a list of shell scripts to\n  run for a job\n- Ability to blacklist a script based on name (string matching)\n\nChange-Id: Ic30e139455225b801c25bc428eeb3d9ff6e3aca4\n'}, {'number': 4, 'created': '2018-10-09 11:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e9e6611f16cf8883ef00586ee197eb5f032f73b7', 'message': 'Add script runner\n\nThis adds a new script runner with the following features:\n- Ability to run cross-repositories with a single playbook\n- Ability to use scenarios\n- Ability to use overrides selectively based on shell script\n  name (string matching)\n- Ability to automatically find and trigger shell scripts\n  or alternatively, receive a list of shell scripts to\n  run for a job\n- Ability to blacklist a script based on name (string matching)\n\nChange-Id: Ic30e139455225b801c25bc428eeb3d9ff6e3aca4\n'}, {'number': 5, 'created': '2018-10-09 16:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1b5fa25098db8acd193965de92ed40a017cd31e0', 'message': 'Add script runner\n\nThis adds a new script runner with the following features:\n- Ability to run cross-repositories with a single playbook\n- Ability to use scenarios\n- Ability to use overrides selectively based on shell script\n  name (string matching)\n- Ability to automatically find and trigger shell scripts\n  or alternatively, receive a list of shell scripts to\n  run for a job\n- Ability to blacklist a script based on name (string matching)\n\nChange-Id: Ic30e139455225b801c25bc428eeb3d9ff6e3aca4\n'}, {'number': 6, 'created': '2018-10-09 16:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/148a180ddf6ed960dd61786bcb9fae259852a0d4', 'message': 'Add script runner\n\nThis adds a new script runner with the following features:\n- Ability to run cross-repositories with a single playbook\n- Ability to use scenarios\n- Ability to use overrides selectively based on shell script\n  name (string matching)\n- Ability to automatically find and trigger shell scripts\n  or alternatively, receive a list of shell scripts to\n  run for a job\n- Ability to blacklist a script based on name (string matching)\n\nChange-Id: Ic30e139455225b801c25bc428eeb3d9ff6e3aca4\n'}, {'number': 7, 'created': '2018-10-10 07:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6fbde30d45a195e38987b30897ef7b5d8d4e4c2d', 'message': 'Add script runner\n\nThis adds a new script runner with the following features:\n- Ability to run cross-repositories with a single playbook\n- Ability to use scenarios\n- Ability to use overrides selectively based on shell script\n  name (string matching)\n- Ability to automatically find and trigger shell scripts\n  or alternatively, receive a list of shell scripts to\n  run for a job\n- Ability to blacklist a script based on name (string matching)\n\nChange-Id: Ic30e139455225b801c25bc428eeb3d9ff6e3aca4\n'}, {'number': 8, 'created': '2018-10-10 12:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/93bf9698e9e0d1de731970d20f88cbc53110a224', 'message': 'Add script runner\n\nThis adds a new script runner with the following features:\n- Ability to run cross-repositories with a single playbook\n- Ability to use scenarios\n- Ability to use overrides selectively based on shell script\n  name (string matching)\n- Ability to automatically find and trigger shell scripts\n  or alternatively, receive a list of shell scripts to\n  run for a job\n- Ability to blacklist a script based on name (string matching)\n\nChange-Id: Ic30e139455225b801c25bc428eeb3d9ff6e3aca4\n'}, {'number': 9, 'created': '2018-10-11 16:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5fe79c436c4bf8e780d606b73bf4fca3d3174c98', 'message': 'Add script runner\n\nThis adds a new script runner with the following features:\n- Ability to run cross-repositories with a single playbook\n- Ability to use scenarios\n- Ability to use overrides selectively based on shell script\n  name (string matching)\n- Ability to automatically find and trigger shell scripts\n  or alternatively, receive a list of shell scripts to\n  run for a job\n- Ability to blacklist a script based on name (string matching)\n\nChange-Id: Ic30e139455225b801c25bc428eeb3d9ff6e3aca4\n'}, {'number': 10, 'created': '2018-10-12 13:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/630bf37e7335454d5684e53cd3fb6b0cf3e3f91b', 'message': 'Add script runner\n\nThis adds a new script runner with the following features:\n- Ability to run cross-repositories with a single playbook\n- Ability to use scenarios\n- Ability to use overrides selectively based on shell script\n  name (string matching)\n- Ability to automatically find and trigger shell scripts\n  or alternatively, receive a list of shell scripts to\n  run for a job\n- Ability to blacklist a script based on name (string matching)\n\nChange-Id: Ic30e139455225b801c25bc428eeb3d9ff6e3aca4\n'}, {'number': 11, 'created': '2018-10-15 09:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4bc91babccc50b42834d2ad30ff7675cd489c7ba', 'message': 'Add script runner\n\nThis adds a new script runner with the following features:\n- Ability to run cross-repositories with a single playbook\n- Ability to use scenarios\n- Ability to use overrides selectively based on shell script\n  name (string matching)\n- Ability to automatically find and trigger shell scripts\n  or alternatively, receive a list of shell scripts to\n  run for a job\n- Ability to blacklist a script based on name (string matching)\n\nChange-Id: Ic30e139455225b801c25bc428eeb3d9ff6e3aca4\n'}, {'number': 12, 'created': '2018-10-16 11:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e81dad03e6c98116822a25c192be6f86d76e3304', 'message': 'Add script runner\n\nThis adds a new script runner with the following features:\n- Ability to run cross-repositories with a single playbook\n- Ability to use scenarios\n- Ability to use overrides selectively based on shell script\n  name (string matching)\n- Ability to automatically find and trigger shell scripts\n  or alternatively, receive a list of shell scripts to\n  run for a job\n- Ability to blacklist a script based on name (string matching)\n\nChange-Id: Ic30e139455225b801c25bc428eeb3d9ff6e3aca4\n'}, {'number': 13, 'created': '2018-10-17 13:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8c5f42dbe0012ed92c03d4fbcd4aa54dd28d02c9', 'message': 'Add script runner\n\nThis adds a new script runner with the following features:\n- Ability to run cross-repositories with a single playbook\n- Ability to use scenarios\n- Ability to use overrides selectively based on shell script\n  name (string matching)\n- Ability to automatically find and trigger shell scripts\n  or alternatively, receive a list of shell scripts to\n  run for a job\n- Ability to blacklist a script based on name (string matching)\n\nChange-Id: Ic30e139455225b801c25bc428eeb3d9ff6e3aca4\n'}, {'number': 14, 'created': '2018-10-17 13:57:08.000000000', 'files': ['zuul.d/playbooks/run-scripts.yml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/96638b5c0b7db639cdd25e6c63daf6ae21e71957', 'message': 'Add script runner\n\nThis adds a new script runner with the following features:\n- Ability to run cross-repositories with a single playbook\n- Ability to use scenarios\n- Ability to use overrides selectively based on shell script\n  name (string matching)\n- Ability to automatically find and trigger shell scripts\n  or alternatively, receive a list of shell scripts to\n  run for a job\n- Ability to blacklist a script based on name (string matching)\n\nChange-Id: Ic30e139455225b801c25bc428eeb3d9ff6e3aca4\n'}]",2,608750,96638b5c0b7db639cdd25e6c63daf6ae21e71957,32,3,14,17068,,,0,"Add script runner

This adds a new script runner with the following features:
- Ability to run cross-repositories with a single playbook
- Ability to use scenarios
- Ability to use overrides selectively based on shell script
  name (string matching)
- Ability to automatically find and trigger shell scripts
  or alternatively, receive a list of shell scripts to
  run for a job
- Ability to blacklist a script based on name (string matching)

Change-Id: Ic30e139455225b801c25bc428eeb3d9ff6e3aca4
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/50/608750/5 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/playbooks/run-scripts.yml'],1,5b8fd43e293ff95c0015136b09ffecaa322600dd,gate-cleaning,"--- # Copyright 2018 SUSE LINUX GmbH. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. ## Explanation: # A user can provide a script_list in its job. # Each item of this list must be # a shell script path, relative to the root of its repository # (root_path) # In that case any override should be provided manually # in the variable scripts_overrides. # scripts_overrides is a list whose items are dicts. # In the dict keys, you should have a 'matcher:', used for # basic string matching # Another key, is override, with the path to override file # relative to the root_path. # Variants have no real purpose and are not used in this # case, as the job is custom tailored to the needs. # If the user doesn't provide a script_list, the job name # will be used to get a list of scripts. # The first element of the job name is used to find the # path inside the repository ./tools/deployment # (subfolders can be used, by using underscores as / delimiter) # The other elements are used as ""known variants"" # The variants's structure are similar to scripts_overrides. - hosts: all[0] # TODO(evrardjp) remove gather_factS: no gather_facts: no vars: root_path: ""{{ ansible_user_dir }}/src/{{ project_name | default(zuul.project.canonical_name) }}"" #Simple string matching will be used for matcher. So this will apply to #all shell scripts, like now. known_variants: loci_ocata: - matcher: "".sh"" override: tools/overrides/releases/ocata/loci.yaml"" loci_pike: - matcher: "".sh"" override: tools/overrides/releases/pike/loci.yaml kolla_ocata: - matcher: "".sh"" override: tools/overrides/releases/ocata/kolla.yaml kolla_pike: - matcher: "".sh"" override: tools/overrides/releases/pike/kolla.yaml lb: - matcher: "".sh"" override: tools/overrides/backends/networking/linuxbridge.yaml tasks: - name: Find job scripts and overrides based on job name # Expected job names: # - openstack-helm-developer_nfs-<override_template> # - openstack-helm-developer_ceph-<override_template> # - openstack-helm-multinode when: - script_list is not defined block: - name: Parse job name set_fact: job_data: ""{{ zuul.job.replace('openstack-helm-','').split('-') }}"" - name: Find the scripts path and variants set_fact: _scripts_subpath: ""{{ '/'.join(job_data[0].split('_')) }}"" _passed_variants: ""{{ job_data[1:] | default([]) }}"" - name: Find the appropriate scripts to run find: path: ""{{ root_path }}/tools/deployment/{{ _scripts_subpath }}/"" recurse: no file_type: any #ensure symlinks can be found patterns: ""*.sh"" register: _found_scripts - name: Extract a list of scripts set_fact: _script_list: ""{{ _found_scripts.files | map(attribute='path') | list }}"" - name: Extract variants that matter set_fact: scripts_overrides: ""{{ scripts_overrides | default([]) + known_variants[item] }}"" when: - item in known_variants with_items: ""{{ _passed_variants }}"" - name: Sort scripts order and exit block set_fact: script_list: ""{{ _script_list | sort }}"" - name: Run scripts with overrides if necessary, relatively to the root_path shell: | set -xe; {{ item.replace(root_path,'') }} environment: #OSH_OPENSTACK_RELEASE: ""{{ osh_openstack_release }}"" #TBD if it is still needed OSH_EXTRA_HELM_ARGS: ""{% for element in scripts_overrides %}{% if element.matcher in item %}--values=./{{ element.override }}{% endif %}{% endfor %}"" #OSH_INFRA_PATH: ""{{ zuul_osh_infra_relative_path | default('') }}"" #TBD if it is still needed zuul_site_mirror_fqdn: ""{{ zuul_site_mirror_fqdn }}"" with_items: ""{{ script_list }}"" args: executable: /bin/bash chdir: ""{{ root_path }}"" ",,115,0
openstack%2Fblazar-nova~master~Ia3e04db81af6b16aad499d0175b3e86066fb6138,openstack/blazar-nova,master,Ia3e04db81af6b16aad499d0175b3e86066fb6138,Remove outdated import_exceptions for hacking,MERGED,2018-09-28 10:01:54.000000000,2018-10-19 07:36:36.000000000,2018-10-19 07:36:36.000000000,"[{'_account_id': 8878}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-28 10:01:54.000000000', 'files': ['blazarnova/scheduler/filters/blazar_filter.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/blazar-nova/commit/91adad90b39d97621326949e6f63d17e2c6a7f67', 'message': 'Remove outdated import_exceptions for hacking\n\nChange-Id: Ia3e04db81af6b16aad499d0175b3e86066fb6138\n'}]",0,606024,91adad90b39d97621326949e6f63d17e2c6a7f67,7,2,1,15197,,,0,"Remove outdated import_exceptions for hacking

Change-Id: Ia3e04db81af6b16aad499d0175b3e86066fb6138
",git fetch https://review.opendev.org/openstack/blazar-nova refs/changes/24/606024/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazarnova/scheduler/filters/blazar_filter.py', 'tox.ini']",2,91adad90b39d97621326949e6f63d17e2c6a7f67,hacking,,[hacking] import_exceptions = nova.openstack.common.gettextutils ,1,4
openstack%2Ftripleo-heat-templates~master~I2f9666a5422a1272d53c869e4dad8581ab605b37,openstack/tripleo-heat-templates,master,I2f9666a5422a1272d53c869e4dad8581ab605b37,Allow setting physical network MTU via heat template,MERGED,2018-07-17 11:37:06.000000000,2018-10-19 07:20:09.000000000,2018-07-26 18:16:14.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 11082}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-17 11:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e6c70f43c5de2769f3debf724719613eb9323661', 'message': 'Allow setting MTU via heat template\n\nAdd neutron::plugins::ml2::physical_network_mtus to allow\nset MTU in ml2 plugin\n\nChange-Id: I2f9666a5422a1272d53c869e4dad8581ab605b37\nCloses-Bug: 1782123\n'}, {'number': 2, 'created': '2018-07-18 10:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7dee2998cdbaf9e4241eaa6f58654fb46833382c', 'message': 'Allow setting physical network MTU via heat template\n\nAdd neutron::plugins::ml2::physical_network_mtus to allow\nset MTU in ml2 plugin\n\nChange-Id: I2f9666a5422a1272d53c869e4dad8581ab605b37\nCloses-Bug: 1782123\n'}, {'number': 3, 'created': '2018-07-23 09:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6384dc8432adab2514f9d60776582e6e8bf19750', 'message': 'Allow setting physical network MTU via heat template\n\nAdd neutron::plugins::ml2::physical_network_mtus to allow\nset MTU in ml2 plugin\n\nChange-Id: I2f9666a5422a1272d53c869e4dad8581ab605b37\nCloses-Bug: 1782123\n'}, {'number': 4, 'created': '2018-07-23 13:32:54.000000000', 'files': ['puppet/services/neutron-plugin-ml2.yaml', 'releasenotes/notes/bug-1782123-7b08ab6503033dd3.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/29bd1a9d87f44eb1cbefafe72a2a5688d5fc609d', 'message': ""Allow setting physical network MTU via heat template\n\nAdd 'neutron::plugins::ml2::physical_network_mtus' as a\nNeutronML2PhysicalNetworkMtus in heat template to allow\nset MTU in ml2 plugin\n\nChange-Id: I2f9666a5422a1272d53c869e4dad8581ab605b37\nCloses-Bug: 1782123\n""}]",8,583211,29bd1a9d87f44eb1cbefafe72a2a5688d5fc609d,26,10,4,11082,,,0,"Allow setting physical network MTU via heat template

Add 'neutron::plugins::ml2::physical_network_mtus' as a
NeutronML2PhysicalNetworkMtus in heat template to allow
set MTU in ml2 plugin

Change-Id: I2f9666a5422a1272d53c869e4dad8581ab605b37
Closes-Bug: 1782123
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/583211/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/neutron-plugin-ml2.yaml'],1,e6c70f43c5de2769f3debf724719613eb9323661,bug/1782123," NeutronPhysicalNetworkMtus: default: '' description: | For L2 mechanism drivers, per-physical network MTU setting. Should be an comma-separated list with 'physnetX1:9000' type: comma_delimited_list neutron::plugins::ml2::physical_network_mtus: {get_param: NeutronPhysicalNetworkMtus}",,8,0
openstack%2Fproject-config~master~Ifef4327784bb46d58e205f82d489e0e7a7e9aaae,openstack/project-config,master,Ifef4327784bb46d58e205f82d489e0e7a7e9aaae,Normalize projects.yaml,MERGED,2018-10-19 06:10:07.000000000,2018-10-19 07:04:23.000000000,2018-10-19 07:04:23.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-19 06:10:07.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/dd31cee30d9e7063eff2fd10d9ec6dbf52f401a0', 'message': 'Normalize projects.yaml\n\nChange-Id: Ifef4327784bb46d58e205f82d489e0e7a7e9aaae\n'}]",0,611783,dd31cee30d9e7063eff2fd10d9ec6dbf52f401a0,6,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: Ifef4327784bb46d58e205f82d489e0e7a7e9aaae
",git fetch https://review.opendev.org/openstack/project-config refs/changes/83/611783/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,dd31cee30d9e7063eff2fd10d9ec6dbf52f401a0,project-yaml-normalization, description: RETIRED - An Ephemeral PKI system that can act as a trust anchor for OpenStack PKI operations, description: RETIRED - An Ephemeral PKI system that can act as a trust anchor for OpenStack PKI operations upstream: https://github.com/cdent/gabbi-tempest.git,2,3
openstack%2Fproject-config~master~I05820f74069fed7d2fcdac525639568fabe5e21e,openstack/project-config,master,I05820f74069fed7d2fcdac525639568fabe5e21e,okey,ABANDONED,2018-10-19 06:56:51.000000000,2018-10-19 06:57:44.000000000,,[{'_account_id': 10068}],"[{'number': 1, 'created': '2018-10-19 06:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/bcfa0a53eaa39194cacdda602159bb65766a9283', 'message': 'okey\n\nChange-Id: I05820f74069fed7d2fcdac525639568fabe5e21e\n'}]",0,611787,bcfa0a53eaa39194cacdda602159bb65766a9283,3,1,1,29154,,,0,"okey

Change-Id: I05820f74069fed7d2fcdac525639568fabe5e21e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/87/611787/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,bcfa0a53eaa39194cacdda602159bb65766a9283,project-yaml-normalization,,,0,0
openstack%2Fopenstack-zuul-jobs~master~I0855f887faf135265561c65ef1d1801a008c228e,openstack/openstack-zuul-jobs,master,I0855f887faf135265561c65ef1d1801a008c228e,Add nodepool to project-config-nodepool required-projects,MERGED,2018-10-18 14:38:33.000000000,2018-10-19 06:51:00.000000000,2018-10-19 06:51:00.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-18 14:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/431e06a18c2b060732096b815d645ab2481de9aa', 'message': 'Add nodepool to project-config-nodepool required-projects\n\nWe should be having zuul clone and setup nodepool rather than having\nproject-config clone it directly.\n\nChange-Id: I0855f887faf135265561c65ef1d1801a008c228e\n'}, {'number': 2, 'created': '2018-10-18 15:40:39.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/baaa733b0d50275ce8b84b472c093b6effa1e505', 'message': 'Add nodepool to project-config-nodepool required-projects\n\nWe should be having zuul clone and setup nodepool rather than having\nproject-config clone it directly.\n\nChange-Id: I0855f887faf135265561c65ef1d1801a008c228e\n'}]",0,611629,baaa733b0d50275ce8b84b472c093b6effa1e505,11,3,2,2,,,0,"Add nodepool to project-config-nodepool required-projects

We should be having zuul clone and setup nodepool rather than having
project-config clone it directly.

Change-Id: I0855f887faf135265561c65ef1d1801a008c228e
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/29/611629/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,431e06a18c2b060732096b815d645ab2481de9aa,zuul-jobs-linters, required-projects: - openstack-infra/nodepool,,2,0
openstack%2Ftripleo-heat-templates~master~If2151c27bfdf4e1f1a22704221c1a2c75aa9cf0a,openstack/tripleo-heat-templates,master,If2151c27bfdf4e1f1a22704221c1a2c75aa9cf0a,Remove non-container zaqar-server on upgrade,MERGED,2018-10-18 08:58:12.000000000,2018-10-19 06:37:37.000000000,2018-10-19 03:08:20.000000000,"[{'_account_id': 8042}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-18 08:58:12.000000000', 'files': ['releasenotes/notes/zaqar-ws-upgrade-8dda7caea7e6bc1e.yaml', 'docker/services/zaqar.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b56ae5774f0018d12246c4b60e676cc20c28d9e2', 'message': 'Remove non-container zaqar-server on upgrade\n\nThis removes the zaqar websocket service on upgrade from\nnon-containerized environment, in particular the undercloud.\n\nChange-Id: If2151c27bfdf4e1f1a22704221c1a2c75aa9cf0a\nCloses-Bug: #1798546\n'}]",0,611541,b56ae5774f0018d12246c4b60e676cc20c28d9e2,10,4,1,7385,,,0,"Remove non-container zaqar-server on upgrade

This removes the zaqar websocket service on upgrade from
non-containerized environment, in particular the undercloud.

Change-Id: If2151c27bfdf4e1f1a22704221c1a2c75aa9cf0a
Closes-Bug: #1798546
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/611541/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/zaqar-ws-upgrade-8dda7caea7e6bc1e.yaml', 'docker/services/zaqar.yaml']",2,b56ae5774f0018d12246c4b60e676cc20c28d9e2,bug/1798546," - name: Check if zaqar websocket is deployed command: systemctl is-enabled --quiet openstack-zaqar@1 ignore_errors: True register: zaqar_ws_enabled_result - name: Set fact zaqar_ws_enabled set_fact: zaqar_ws_enabled: ""{{ zaqar_ws_enabled_result.rc == 0 }}"" - name: ""PreUpgrade step0,validation: Check service openstack-zaqar@1 is running"" command: systemctl is-active --quiet openstack-zaqar@1 when: zaqar_ws_enabled|bool tags: validation - name: Stop and disable zaqar websocket service when: zaqar_ws_enabled|bool service: name=openstack-zaqar@1 state=stopped enabled=no",,19,0
openstack%2Fsenlin~stable%2Frocky~I6b1470c7d67fb87497fd3980c0d6e00b8ab50ab1,openstack/senlin,stable/rocky,I6b1470c7d67fb87497fd3980c0d6e00b8ab50ab1,Fix broken schema validation,MERGED,2018-10-17 16:44:24.000000000,2018-10-19 06:19:11.000000000,2018-10-19 06:19:11.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23517}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-10-17 16:44:24.000000000', 'files': ['senlin/tests/unit/policies/test_policy.py', 'senlin/tests/unit/profiles/test_nova_server.py', 'senlin/tests/unit/test_common_schema.py', 'senlin/common/schema.py', 'senlin/tests/unit/profiles/test_profile_base.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/45ea66a9e2bf42c771d708b215c90c4fe00fe927', 'message': 'Fix broken schema validation\n\n- Add call to validate value in resolve_value. This way all the\n  children in a map will be validated.\n- Remove explicit check of string type in String validation since\n  everything could be considered a string.  This is needed because the\n  version is now being validated and we allow version to be a float or\n  string.\n\nCloses-Bug: 1789488\nChange-Id: I6b1470c7d67fb87497fd3980c0d6e00b8ab50ab1\n(cherry picked from commit 8a2fd8d284e3fd50d9d6aeb5f80e3bb715f80837)\n'}]",0,611386,45ea66a9e2bf42c771d708b215c90c4fe00fe927,10,5,1,27224,,,0,"Fix broken schema validation

- Add call to validate value in resolve_value. This way all the
  children in a map will be validated.
- Remove explicit check of string type in String validation since
  everything could be considered a string.  This is needed because the
  version is now being validated and we allow version to be a float or
  string.

Closes-Bug: 1789488
Change-Id: I6b1470c7d67fb87497fd3980c0d6e00b8ab50ab1
(cherry picked from commit 8a2fd8d284e3fd50d9d6aeb5f80e3bb715f80837)
",git fetch https://review.opendev.org/openstack/senlin refs/changes/86/611386/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/tests/unit/policies/test_policy.py', 'senlin/tests/unit/profiles/test_nova_server.py', 'senlin/tests/unit/test_common_schema.py', 'senlin/common/schema.py', 'senlin/tests/unit/profiles/test_profile_base.py']",5,45ea66a9e2bf42c771d708b215c90c4fe00fe927,bug/1789488-stable/rocky," g_env.register_profile('os.dummy-1.1', DummyProfile) def test_init_version_as_float(self, mock_creds): mock_creds.return_value = {'foo': 'bar'} self.spec['version'] = 1.1 profile = self._create_profile('test-profile') self.assertIsNone(profile.id) self.assertEqual('test-profile', profile.name) self.assertEqual(self.spec, profile.spec) self.assertEqual('os.dummy', profile.type_name) self.assertEqual('1.1', profile.version) self.assertEqual('os.dummy-1.1', profile.type) self.assertEqual(self.ctx.user_id, profile.user) self.assertEqual(self.ctx.project_id, profile.project) self.assertEqual(self.ctx.domain_id, profile.domain) self.assertEqual({}, profile.metadata) self.assertIsNone(profile.created_at) self.assertIsNone(profile.updated_at) spec_data = profile.spec_data self.assertEqual('os.dummy', spec_data['type']) self.assertEqual('1.1', spec_data['version']) self.assertEqual('value1', spec_data['properties']['key1']) self.assertEqual(2, spec_data['properties']['key2']) self.assertEqual('value1', profile.properties['key1']) self.assertEqual(2, profile.properties['key2']) self.assertEqual({'foo': 'bar'}, profile.context) self.assertIsNone(profile._computeclient) self.assertIsNone(profile._networkclient) self.assertIsNone(profile._orchestrationclient) self.assertIsNone(profile._block_storageclient) @mock.patch.object(senlin_ctx, 'get_service_credentials') def test_init_version_as_string(self, mock_creds): mock_creds.return_value = {'foo': 'bar'} self.spec['version'] = '1.1' profile = self._create_profile('test-profile') self.assertIsNone(profile.id) self.assertEqual('test-profile', profile.name) self.assertEqual(self.spec, profile.spec) self.assertEqual('os.dummy', profile.type_name) self.assertEqual('1.1', profile.version) self.assertEqual('os.dummy-1.1', profile.type) self.assertEqual(self.ctx.user_id, profile.user) self.assertEqual(self.ctx.project_id, profile.project) self.assertEqual(self.ctx.domain_id, profile.domain) self.assertEqual({}, profile.metadata) self.assertIsNone(profile.created_at) self.assertIsNone(profile.updated_at) spec_data = profile.spec_data self.assertEqual('os.dummy', spec_data['type']) self.assertEqual('1.1', spec_data['version']) self.assertEqual('value1', spec_data['properties']['key1']) self.assertEqual(2, spec_data['properties']['key2']) self.assertEqual('value1', profile.properties['key1']) self.assertEqual(2, profile.properties['key2']) self.assertEqual({'foo': 'bar'}, profile.context) self.assertIsNone(profile._computeclient) self.assertIsNone(profile._networkclient) self.assertIsNone(profile._orchestrationclient) self.assertIsNone(profile._block_storageclient) @mock.patch.object(senlin_ctx, 'get_service_credentials')",,126,12
openstack%2Fsenlin~stable%2Frocky~I4e8d5d46b2e17b0ff8090f42e0a34448ba020d26,openstack/senlin,stable/rocky,I4e8d5d46b2e17b0ff8090f42e0a34448ba020d26,Stop using deprecated version of enable_logging,MERGED,2018-10-15 23:24:06.000000000,2018-10-19 06:19:11.000000000,2018-10-19 06:19:11.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23517}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-10-15 23:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/8904430a55284fbe0d8db93a730c3518a79d25fd', 'message': 'Stop using deprecated version of enable_logging\n\nThe openstack.utils.enable_logging method has been deprecated since\n0.10 and is slated for removal. Update senlin to consume it from the new\nlocation.\n\nCherry-picked from https://review.openstack.org/#/c/610695/\n\nChange-Id: I4e8d5d46b2e17b0ff8090f42e0a34448ba020d26\n'}, {'number': 2, 'created': '2018-10-17 16:46:12.000000000', 'files': ['senlin/drivers/sdk.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/831c47f0c95019b54dc0c7de8ac057b4b600c5b7', 'message': 'Stop using deprecated version of enable_logging\n\nThe openstack.utils.enable_logging method has been deprecated since\n0.10 and is slated for removal. Update senlin to consume it from the new\nlocation.\n\nCherry-picked from https://review.openstack.org/#/c/610695/\n\nChange-Id: I4e8d5d46b2e17b0ff8090f42e0a34448ba020d26\n'}]",0,610753,831c47f0c95019b54dc0c7de8ac057b4b600c5b7,21,5,2,2,,,0,"Stop using deprecated version of enable_logging

The openstack.utils.enable_logging method has been deprecated since
0.10 and is slated for removal. Update senlin to consume it from the new
location.

Cherry-picked from https://review.openstack.org/#/c/610695/

Change-Id: I4e8d5d46b2e17b0ff8090f42e0a34448ba020d26
",git fetch https://review.opendev.org/openstack/senlin refs/changes/53/610753/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin/drivers/sdk.py'],1,8904430a55284fbe0d8db93a730c3518a79d25fd,bug/1789488-stable/rocky,"import openstackopenstack.enable_logging(debug=False, stream=sys.stdout)","from openstack import utils as sdk_utilssdk_utils.enable_logging(debug=False, stream=sys.stdout)",2,2
openstack%2Fkolla-ansible~master~I7adeff2dff5d6d6ae4c621e84857347995e9203a,openstack/kolla-ansible,master,I7adeff2dff5d6d6ae4c621e84857347995e9203a,Add Aodh evaluation_interval,MERGED,2018-10-11 09:49:20.000000000,2018-10-19 06:10:36.000000000,2018-10-19 06:10:36.000000000,"[{'_account_id': 7488}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 27781}, {'_account_id': 28176}]","[{'number': 1, 'created': '2018-10-11 09:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e202b2794ce445b9c6f19a13185b7ee39b3caaef', 'message': 'Add Aodh evaluation_interval\n\nAlarm service has been moved to Aodh for a long time [1].\nTherefore, we should define evaluation_interval in\naodh.conf rather than ceilometer.conf. The interval value\nshould be configurable as well because we can use a\ncustom polling config now [2]\n\n[1] https://review.openstack.org/#/c/200593/\n[2] https://review.openstack.org/#/c/572013/\n\nChange-Id: I7adeff2dff5d6d6ae4c621e84857347995e9203a\n'}, {'number': 2, 'created': '2018-10-12 01:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6b4d7347315ac2fcb942c5664421e8da41eaa6e1', 'message': 'Add Aodh evaluation_interval\n\nAlarm service has been moved to Aodh for a long time [1].\nTherefore, we should define evaluation_interval in\naodh.conf rather than ceilometer.conf. The interval value\nshould be configurable as well because we can use a\ncustom polling config now [2]\n\n[1] https://review.openstack.org/#/c/200593/\n[2] https://review.openstack.org/#/c/572013/\n\nChange-Id: I7adeff2dff5d6d6ae4c621e84857347995e9203a\n'}, {'number': 3, 'created': '2018-10-16 01:12:37.000000000', 'files': ['ansible/roles/ceilometer/templates/ceilometer.conf.j2', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/aodh/templates/aodh.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/224125bf5e9eb4ad9fe4a35b37bba36b4ae822fe', 'message': 'Add Aodh evaluation_interval\n\nAlarm service has been moved to Aodh for a long time [1].\nTherefore, we should define evaluation_interval in\naodh.conf rather than ceilometer.conf. The interval value\nshould be configurable as well because we can use a\ncustom polling config now [2]\n\n[1] https://review.openstack.org/#/c/200593/\n[2] https://review.openstack.org/#/c/572013/\n\nChange-Id: I7adeff2dff5d6d6ae4c621e84857347995e9203a\n'}]",2,609651,224125bf5e9eb4ad9fe4a35b37bba36b4ae822fe,17,7,3,22406,,,0,"Add Aodh evaluation_interval

Alarm service has been moved to Aodh for a long time [1].
Therefore, we should define evaluation_interval in
aodh.conf rather than ceilometer.conf. The interval value
should be configurable as well because we can use a
custom polling config now [2]

[1] https://review.openstack.org/#/c/200593/
[2] https://review.openstack.org/#/c/572013/

Change-Id: I7adeff2dff5d6d6ae4c621e84857347995e9203a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/51/609651/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ceilometer/templates/ceilometer.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/aodh/templates/aodh.conf.j2']",3,e202b2794ce445b9c6f19a13185b7ee39b3caaef,aodh-evaluation_interval,evaluation_interval = {{ aodh_evaluation_interval }},,9,5
openstack%2Fswift~master~Id2597d6a26fa8a1769e8cab1ba5cae29eb1e2942,openstack/swift,master,Id2597d6a26fa8a1769e8cab1ba5cae29eb1e2942,Stop accomodating 5+ year old object-server code in unit tests,MERGED,2018-10-18 19:51:02.000000000,2018-10-19 05:39:37.000000000,2018-10-19 05:39:37.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-18 19:51:02.000000000', 'files': ['test/unit/obj/test_server.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/781da0704bb971eae937917842ff145134d2a172', 'message': 'Stop accomodating 5+ year old object-server code in unit tests\n\nChange-Id: Id2597d6a26fa8a1769e8cab1ba5cae29eb1e2942\n'}]",1,611704,781da0704bb971eae937917842ff145134d2a172,7,3,1,15343,,,0,"Stop accomodating 5+ year old object-server code in unit tests

Change-Id: Id2597d6a26fa8a1769e8cab1ba5cae29eb1e2942
",git fetch https://review.opendev.org/openstack/swift refs/changes/04/611704/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/obj/test_server.py'],1,781da0704bb971eae937917842ff145134d2a172,,," # This is just so the test fails when run on older object server code # instead of exploding. if not hasattr(object_server, 'ChunkReadTimeout'): object_server.ChunkReadTimeout = None",1,4
openstack%2Fneutron~feature%2Fgraphql~I32c62f22107e266ecce1d00133330a56238e1730,openstack/neutron,feature/graphql,I32c62f22107e266ecce1d00133330a56238e1730,Remove comment from .zuul.yaml,MERGED,2018-10-15 14:48:42.000000000,2018-10-19 05:39:33.000000000,2018-10-19 05:39:33.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-15 14:48:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/14d6b3c4ac36f37c6f2708caf9af4be57381711c', 'message': 'Remove comment from .zuul.yaml\n\nChange [1] added a comment to .zuul.yaml to force Zuulv3 to detect\nchanges in that file as a consequence of merging master branch changes\ninto branch feature/graphql. This was a work around for bug [2].\n\nThis patch removes the otherwise unnecessary comment\n\n[1] I91216dba831e3e81ca6d4d903b3d412e77d38e33\n[2] https://storyboard.openstack.org/#!/story/2004046\n\nChange-Id: I32c62f22107e266ecce1d00133330a56238e1730\n'}]",0,610595,14d6b3c4ac36f37c6f2708caf9af4be57381711c,15,5,1,4694,,,0,"Remove comment from .zuul.yaml

Change [1] added a comment to .zuul.yaml to force Zuulv3 to detect
changes in that file as a consequence of merging master branch changes
into branch feature/graphql. This was a work around for bug [2].

This patch removes the otherwise unnecessary comment

[1] I91216dba831e3e81ca6d4d903b3d412e77d38e33
[2] https://storyboard.openstack.org/#!/story/2004046

Change-Id: I32c62f22107e266ecce1d00133330a56238e1730
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/610595/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,14d6b3c4ac36f37c6f2708caf9af4be57381711c,remove-comment-from-zuul-yaml,, # This comment should be removed,0,1
openstack%2Frequirements~master~I5f37f512ba9168372e1085931b4784b8ec198ea0,openstack/requirements,master,I5f37f512ba9168372e1085931b4784b8ec198ea0,Add salt to global requirements,MERGED,2018-09-21 15:19:15.000000000,2018-10-19 05:31:11.000000000,2018-10-19 05:31:10.000000000,"[{'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 6593}, {'_account_id': 8833}, {'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-21 15:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/6cd2c6a7c91f0f9913eddfc576e97a475b8d0277', 'message': ""Add salt to global requirements\n\nThe heat-agents package uses salt as a test dependency, because it\ncontains an agent that can use SaltStack to do software deployments.\nThis previously did not cause requirements gate jobs to fail, but it now\ndoes so add it to the global list.\n\nIs the library actively maintained?\n    Yes - last release < 3 months ago\n\nIs the library good code?\n    What is goodness?\n\nIs the library python 3 compatible?\n    Yes\n\nIs the library license compatible?\n    Yes - ASL2\n\nIs the library already packaged in the distros we target (Ubuntu latest\n/ Fedora latest)?\n\n    No, and in practice it gets installed from pip by disk-image-builder\n    anyway - there's no need for it to be co-installable with OpenStack\n    since it's run on guest machines\n\nIs the function of this library already covered by other libraries in\nglobal-requirements.txt?\n\n    No\n\nIs the library required for OpenStack project or related dev or\ninfrastructure setup? (Answer to this should be Yes, of course) Which?\n\n    Yes, for testing heat-agents\n\nChange-Id: I5f37f512ba9168372e1085931b4784b8ec198ea0\n""}, {'number': 2, 'created': '2018-09-21 18:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5a71a121ac8e3904cb311e7a1b2d235311438241', 'message': ""Add salt to global requirements\n\nThe heat-agents package uses salt as a test dependency, because it\ncontains an agent that can use SaltStack to do software deployments.\nThis previously did not cause requirements gate jobs to fail, but it now\ndoes so add it to the global list.\n\nIs the library actively maintained?\n    Yes - last release < 3 months ago\n\nIs the library good code?\n    What is goodness?\n\nIs the library python 3 compatible?\n    Yes\n\nIs the library license compatible?\n    Yes - ASL2\n\nIs the library already packaged in the distros we target (Ubuntu latest\n/ Fedora latest)?\n\n    No, and in practice it gets installed from pip by disk-image-builder\n    anyway - there's no need for it to be co-installable with OpenStack\n    since it's run on guest machines\n\nIs the function of this library already covered by other libraries in\nglobal-requirements.txt?\n\n    No\n\nIs the library required for OpenStack project or related dev or\ninfrastructure setup? (Answer to this should be Yes, of course) Which?\n\n    Yes, for testing heat-agents\n\nChange-Id: I5f37f512ba9168372e1085931b4784b8ec198ea0\n""}, {'number': 3, 'created': '2018-10-03 18:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9d6e1c40cfb00c255a652d2cfded2a84cb8eeb0a', 'message': ""Add salt to global requirements\n\nThe heat-agents package uses salt as a test dependency, because it\ncontains an agent that can use SaltStack to do software deployments.\nThis previously did not cause requirements gate jobs to fail, but it now\ndoes so add it to the global list.\n\nIs the library actively maintained?\n    Yes - last release < 3 months ago\n\nIs the library good code?\n    What is goodness?\n\nIs the library python 3 compatible?\n    Yes\n\nIs the library license compatible?\n    Yes - ASL2\n\nIs the library already packaged in the distros we target (Ubuntu latest\n/ Fedora latest)?\n\n    No, and in practice it gets installed from pip by disk-image-builder\n    anyway - there's no need for it to be co-installable with OpenStack\n    since it's run on guest machines\n\nIs the function of this library already covered by other libraries in\nglobal-requirements.txt?\n\n    No\n\nIs the library required for OpenStack project or related dev or\ninfrastructure setup? (Answer to this should be Yes, of course) Which?\n\n    Yes, for testing heat-agents\n\nChange-Id: I5f37f512ba9168372e1085931b4784b8ec198ea0\n""}, {'number': 4, 'created': '2018-10-04 20:29:28.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2451f01aaa175a782739f4ac5819ea0419cb5421', 'message': ""Add salt to global requirements\n\nThe heat-agents package uses salt as a test dependency, because it\ncontains an agent that can use SaltStack to do software deployments.\nThis previously did not cause requirements gate jobs to fail, but it now\ndoes so add it to the global list.\n\nIs the library actively maintained?\n    Yes - last release < 3 months ago\n\nIs the library good code?\n    What is goodness?\n\nIs the library python 3 compatible?\n    Yes\n\nIs the library license compatible?\n    Yes - ASL2\n\nIs the library already packaged in the distros we target (Ubuntu latest\n/ Fedora latest)?\n\n    No, and in practice it gets installed from pip by disk-image-builder\n    anyway - there's no need for it to be co-installable with OpenStack\n    since it's run on guest machines\n\nIs the function of this library already covered by other libraries in\nglobal-requirements.txt?\n\n    No\n\nIs the library required for OpenStack project or related dev or\ninfrastructure setup? (Answer to this should be Yes, of course) Which?\n\n    Yes, for testing heat-agents\n\nChange-Id: I5f37f512ba9168372e1085931b4784b8ec198ea0\n""}]",8,604386,2451f01aaa175a782739f4ac5819ea0419cb5421,38,7,4,4257,,,0,"Add salt to global requirements

The heat-agents package uses salt as a test dependency, because it
contains an agent that can use SaltStack to do software deployments.
This previously did not cause requirements gate jobs to fail, but it now
does so add it to the global list.

Is the library actively maintained?
    Yes - last release < 3 months ago

Is the library good code?
    What is goodness?

Is the library python 3 compatible?
    Yes

Is the library license compatible?
    Yes - ASL2

Is the library already packaged in the distros we target (Ubuntu latest
/ Fedora latest)?

    No, and in practice it gets installed from pip by disk-image-builder
    anyway - there's no need for it to be co-installable with OpenStack
    since it's run on guest machines

Is the function of this library already covered by other libraries in
global-requirements.txt?

    No

Is the library required for OpenStack project or related dev or
infrastructure setup? (Answer to this should be Yes, of course) Which?

    Yes, for testing heat-agents

Change-Id: I5f37f512ba9168372e1085931b4784b8ec198ea0
",git fetch https://review.opendev.org/openstack/requirements refs/changes/86/604386/4 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,6cd2c6a7c91f0f9913eddfc576e97a475b8d0277,,salt # Apache-2.0,,1,0
openstack%2Fneutron-tempest-plugin~master~I6a55102d03bbcdd5c0c3a5cc75aea0ca37578117,openstack/neutron-tempest-plugin,master,I6a55102d03bbcdd5c0c3a5cc75aea0ca37578117,Fix flake8 E405 errors,MERGED,2018-10-12 21:20:36.000000000,2018-10-19 05:31:10.000000000,2018-10-19 05:31:10.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 17120}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-12 21:20:36.000000000', 'files': ['neutron_tempest_plugin/scenario/test_qos.py', 'neutron_tempest_plugin/api/test_dhcp_ipv6.py', 'neutron_tempest_plugin/scenario/admin/test_floatingip.py', 'neutron_tempest_plugin/scenario/test_security_groups.py', 'neutron_tempest_plugin/scenario/base.py', 'tox.ini', 'neutron_tempest_plugin/common/ssh.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/aee61ac85ec4628ae1a14186c19490e6fa7f6116', 'message': 'Fix flake8 E405 errors\n\nFix E405 error and start enforcing it.\n\nTrivialfix\n\nChange-Id: I6a55102d03bbcdd5c0c3a5cc75aea0ca37578117\n'}]",0,610173,aee61ac85ec4628ae1a14186c19490e6fa7f6116,8,4,1,1131,,,0,"Fix flake8 E405 errors

Fix E405 error and start enforcing it.

Trivialfix

Change-Id: I6a55102d03bbcdd5c0c3a5cc75aea0ca37578117
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/73/610173/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/scenario/test_qos.py', 'neutron_tempest_plugin/api/test_dhcp_ipv6.py', 'neutron_tempest_plugin/scenario/admin/test_floatingip.py', 'neutron_tempest_plugin/scenario/test_security_groups.py', 'neutron_tempest_plugin/scenario/base.py', 'tox.ini', 'neutron_tempest_plugin/common/ssh.py']",7,aee61ac85ec4628ae1a14186c19490e6fa7f6116,flake8-E405," """"""Closes connection to SSH server and cleanup resources."""""""," """"""Closes connection to SSH server and cleanup resources. """"""",15,11
openstack%2Fneutron-tempest-plugin~master~I947599c95c92376657eddaace190b728b8987a57,openstack/neutron-tempest-plugin,master,I947599c95c92376657eddaace190b728b8987a57,Fix flake8 E265 errors,MERGED,2018-10-12 21:20:36.000000000,2018-10-19 05:31:09.000000000,2018-10-19 05:31:09.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 17120}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-12 21:20:36.000000000', 'files': ['neutron_tempest_plugin/common/utils.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/8aaa73ff537ac69b1b069d9a9a0adff724155494', 'message': 'Fix flake8 E265 errors\n\nFix E265 error and start enforcing it.\n\nTrivialfix\n\nChange-Id: I947599c95c92376657eddaace190b728b8987a57\n'}]",0,610172,8aaa73ff537ac69b1b069d9a9a0adff724155494,8,4,1,1131,,,0,"Fix flake8 E265 errors

Fix E265 error and start enforcing it.

Trivialfix

Change-Id: I947599c95c92376657eddaace190b728b8987a57
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/72/610172/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/common/utils.py', 'tox.ini']",2,8aaa73ff537ac69b1b069d9a9a0adff724155494,flake8-E405,"ignore = E125,E126,E128,E129,H405,N530","# E265 block comment should start with '# 'ignore = E125,E126,E128,E129,E265,H405,N530",2,3
openstack%2Fneutron-tempest-plugin~master~I0c062733660031faf43838798a697daf6674ef14,openstack/neutron-tempest-plugin,master,I0c062733660031faf43838798a697daf6674ef14,Fix flake8 H404 errors,MERGED,2018-10-12 21:20:36.000000000,2018-10-19 05:31:09.000000000,2018-10-19 05:31:09.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 17120}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-12 21:20:36.000000000', 'files': ['neutron_tempest_plugin/services/network/json/network_client.py', 'neutron_tempest_plugin/api/test_flavors_extensions.py', 'neutron_tempest_plugin/api/admin/test_routers_dvr.py', 'neutron_tempest_plugin/common/utils.py', 'neutron_tempest_plugin/api/test_auto_allocated_topology.py', 'neutron_tempest_plugin/api/test_network_ip_availability.py', 'neutron_tempest_plugin/api/admin/test_agent_management.py', 'neutron_tempest_plugin/api/test_subnetpools.py', 'neutron_tempest_plugin/api/base.py', 'neutron_tempest_plugin/api/admin/test_routers_ha.py', 'neutron_tempest_plugin/api/clients.py', 'neutron_tempest_plugin/api/test_metering_extensions.py', 'neutron_tempest_plugin/api/admin/test_agent_availability_zone.py', 'neutron_tempest_plugin/api/test_extra_dhcp_options.py', 'neutron_tempest_plugin/api/test_networks.py', 'neutron_tempest_plugin/api/test_allowed_address_pair.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ae328b923adbd2c2693e9dc53bb4c31a6ced423e', 'message': 'Fix flake8 H404 errors\n\nFix H404 error and start enforcing it.\n\nTrivialfix\n\nChange-Id: I0c062733660031faf43838798a697daf6674ef14\n'}]",6,610171,ae328b923adbd2c2693e9dc53bb4c31a6ced423e,8,4,1,1131,,,0,"Fix flake8 H404 errors

Fix H404 error and start enforcing it.

Trivialfix

Change-Id: I0c062733660031faf43838798a697daf6674ef14
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/71/610171/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/services/network/json/network_client.py', 'neutron_tempest_plugin/api/test_flavors_extensions.py', 'neutron_tempest_plugin/api/admin/test_routers_dvr.py', 'neutron_tempest_plugin/common/utils.py', 'neutron_tempest_plugin/api/test_auto_allocated_topology.py', 'neutron_tempest_plugin/api/test_network_ip_availability.py', 'neutron_tempest_plugin/api/admin/test_agent_management.py', 'neutron_tempest_plugin/api/test_subnetpools.py', 'neutron_tempest_plugin/api/base.py', 'neutron_tempest_plugin/api/admin/test_routers_ha.py', 'neutron_tempest_plugin/api/clients.py', 'neutron_tempest_plugin/api/test_metering_extensions.py', 'neutron_tempest_plugin/api/admin/test_agent_availability_zone.py', 'neutron_tempest_plugin/api/test_extra_dhcp_options.py', 'neutron_tempest_plugin/api/test_networks.py', 'neutron_tempest_plugin/api/test_allowed_address_pair.py', 'tox.ini']",17,ae328b923adbd2c2693e9dc53bb4c31a6ced423e,flake8-E405,"ignore = E125,E126,E128,E129,E265,H405,N530","# H404 multi line docstring should start with a summaryignore = E125,E126,E128,E129,E265,H404,H405,N530",36,34
openstack%2Fneutron~stable%2Fpike~I2e348091b5bdd0f3ef056dd108342989ce57062f,openstack/neutron,stable/pike,I2e348091b5bdd0f3ef056dd108342989ce57062f,"Revert ""DVR: Add error handling for get_network_info_for_id rpc call""",MERGED,2018-10-17 17:14:10.000000000,2018-10-19 05:31:07.000000000,2018-10-19 05:31:07.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 17:14:10.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb7bb07184bfcc2f64cbf53f9d69891cd7261eea', 'message': 'Revert ""DVR: Add error handling for get_network_info_for_id rpc call""\n\nThis reverts commit c331b898e19c8125d005c09d8a6e247805e506a8.\nRelated-Bug: #1751396\n\nChange-Id: I2e348091b5bdd0f3ef056dd108342989ce57062f\n(cherry picked from commit 267eea50fd9e9c74faa96d529a7ec2fd8aa8d51f)\n(cherry picked from commit 2d47cb7d9a8ab021ccbc08713b32ccddf6e1baa7)\n'}]",0,611396,eb7bb07184bfcc2f64cbf53f9d69891cd7261eea,7,3,1,7016,,,0,"Revert ""DVR: Add error handling for get_network_info_for_id rpc call""

This reverts commit c331b898e19c8125d005c09d8a6e247805e506a8.
Related-Bug: #1751396

Change-Id: I2e348091b5bdd0f3ef056dd108342989ce57062f
(cherry picked from commit 267eea50fd9e9c74faa96d529a7ec2fd8aa8d51f)
(cherry picked from commit 2d47cb7d9a8ab021ccbc08713b32ccddf6e1baa7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/611396/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,eb7bb07184bfcc2f64cbf53f9d69891cd7261eea,bug/1751396-stable/queens-stable/pike,," def _test_port_bound_for_dvr_on_vlan_network_rpc_error( self, device_owner, ip_version=4): self._setup_for_dvr_test() if ip_version == 4: gateway_ip = '1.1.1.1' cidr = '1.1.1.0/24' else: gateway_ip = '2001:100::1' cidr = '2001:100::0/64' self._port.vif_mac = gateway_mac = 'aa:bb:cc:11:22:33' self._compute_port.vif_mac = '77:88:99:00:11:22' physical_network = self._physical_network segmentation_id = self._segmentation_id network_type = n_const.TYPE_VLAN int_br = mock.create_autospec(self.agent.int_br) tun_br = mock.create_autospec(self.agent.tun_br) phys_br = mock.create_autospec(self.br_phys_cls('br-phys')) int_br.set_db_attribute.return_value = True int_br.db_get_val.return_value = {} with mock.patch.object(self.agent.dvr_agent.plugin_rpc, 'get_subnet_for_dvr', return_value={'gateway_ip': gateway_ip, 'cidr': cidr, 'ip_version': ip_version, 'gateway_mac': gateway_mac, 'network_id': 'fake-id'}),\ mock.patch.object(self.agent.dvr_agent.plugin_rpc, 'get_network_info_for_id', side_effect=oslo_messaging.RemoteError),\ mock.patch.object(self.agent.dvr_agent.plugin_rpc, 'get_ports_on_host_by_subnet', return_value=[]),\ mock.patch.object(self.agent.dvr_agent.int_br, 'get_vif_port_by_id', return_value=self._port),\ mock.patch.object(self.agent, 'int_br', new=int_br),\ mock.patch.object(self.agent, 'tun_br', new=tun_br),\ mock.patch.dict(self.agent.phys_brs, {physical_network: phys_br}),\ mock.patch.object(self.agent.dvr_agent, 'int_br', new=int_br),\ mock.patch.object(self.agent.dvr_agent, 'tun_br', new=tun_br),\ mock.patch.dict(self.agent.dvr_agent.phys_brs, {physical_network: phys_br}): self.agent.port_bound( self._port, self._net_uuid, network_type, physical_network, segmentation_id, self._fixed_ips, n_const.DEVICE_OWNER_DVR_INTERFACE, False) phy_ofp = self.agent.dvr_agent.phys_ofports[physical_network] int_ofp = self.agent.dvr_agent.int_ofports[physical_network] lvid = self.agent.vlan_manager.get(self._net_uuid).vlan expected_on_phys_br = [ mock.call.provision_local_vlan( port=phy_ofp, lvid=lvid, segmentation_id=segmentation_id, distributed=True, ), ] + self._expected_install_dvr_process( port=self._port, lvid=lvid, ip_version=ip_version, gateway_ip=gateway_ip, gateway_mac=gateway_mac, shared=False) expected_on_int_br = [ mock.call.provision_local_vlan( port=int_ofp, lvid=lvid, segmentation_id=segmentation_id, ), ] + self._expected_port_bound(self._port, lvid) self.assertEqual(expected_on_int_br, int_br.mock_calls) self.assertEqual([], tun_br.mock_calls) self.assertEqual(expected_on_phys_br, phys_br.mock_calls) int_br.reset_mock() tun_br.reset_mock() phys_br.reset_mock() self.agent.port_bound(self._compute_port, self._net_uuid, network_type, physical_network, segmentation_id, self._compute_fixed_ips, device_owner, False) expected_on_int_br = [ mock.call.install_dvr_to_src_mac( network_type=network_type, gateway_mac=gateway_mac, dst_mac=self._compute_port.vif_mac, dst_port=self._compute_port.ofport, vlan_tag=segmentation_id, ), ] + self._expected_port_bound(self._compute_port, lvid, False) self.assertEqual(expected_on_int_br, int_br.mock_calls) self.assertFalse([], tun_br.mock_calls) self.assertFalse([], phys_br.mock_calls) def _test_port_bound_for_dvr_on_vxlan_network_rpc_error( self, device_owner, ip_version=4): self._setup_for_dvr_test() if ip_version == 4: gateway_ip = '1.1.1.1' cidr = '1.1.1.0/24' else: gateway_ip = '2001:100::1' cidr = '2001:100::0/64' network_type = n_const.TYPE_VXLAN self._port.vif_mac = gateway_mac = 'aa:bb:cc:11:22:33' self._compute_port.vif_mac = '77:88:99:00:11:22' physical_network = self._physical_network segmentation_id = self._segmentation_id int_br = mock.create_autospec(self.agent.int_br) tun_br = mock.create_autospec(self.agent.tun_br) phys_br = mock.create_autospec(self.br_phys_cls('br-phys')) int_br.set_db_attribute.return_value = True int_br.db_get_val.return_value = {} with mock.patch.object(self.agent.dvr_agent.plugin_rpc, 'get_subnet_for_dvr', return_value={'gateway_ip': gateway_ip, 'cidr': cidr, 'ip_version': ip_version, 'gateway_mac': gateway_mac, 'network_id': 'fake-id'}),\ mock.patch.object(self.agent.dvr_agent.plugin_rpc, 'get_network_info_for_id', side_effect=oslo_messaging.RemoteError),\ mock.patch.object(self.agent.dvr_agent.plugin_rpc, 'get_ports_on_host_by_subnet', return_value=[]),\ mock.patch.object(self.agent.dvr_agent.int_br, 'get_vif_port_by_id', return_value=self._port),\ mock.patch.object(self.agent, 'int_br', new=int_br),\ mock.patch.object(self.agent, 'tun_br', new=tun_br),\ mock.patch.dict(self.agent.phys_brs, {physical_network: phys_br}),\ mock.patch.object(self.agent.dvr_agent, 'int_br', new=int_br),\ mock.patch.object(self.agent.dvr_agent, 'tun_br', new=tun_br),\ mock.patch.dict(self.agent.dvr_agent.phys_brs, {physical_network: phys_br}): self.agent.port_bound( self._port, self._net_uuid, network_type, physical_network, segmentation_id, self._fixed_ips, n_const.DEVICE_OWNER_DVR_INTERFACE, False) lvid = self.agent.vlan_manager.get(self._net_uuid).vlan expected_on_int_br = self._expected_port_bound( self._port, lvid) expected_on_tun_br = [ mock.call.provision_local_vlan( network_type=network_type, segmentation_id=segmentation_id, lvid=lvid, distributed=True), ] + self._expected_install_dvr_process( port=self._port, lvid=lvid, ip_version=ip_version, gateway_ip=gateway_ip, gateway_mac=gateway_mac, shared=False) self.assertEqual(expected_on_int_br, int_br.mock_calls) self.assertEqual(expected_on_tun_br, tun_br.mock_calls) self.assertEqual([], phys_br.mock_calls) int_br.reset_mock() tun_br.reset_mock() phys_br.reset_mock() self.agent.port_bound(self._compute_port, self._net_uuid, network_type, physical_network, segmentation_id, self._compute_fixed_ips, device_owner, False) expected_on_int_br = [ mock.call.install_dvr_to_src_mac( network_type=network_type, gateway_mac=gateway_mac, dst_mac=self._compute_port.vif_mac, dst_port=self._compute_port.ofport, vlan_tag=lvid, ), ] + self._expected_port_bound(self._compute_port, lvid, False) self.assertEqual(expected_on_int_br, int_br.mock_calls) self.assertEqual([], tun_br.mock_calls) self.assertEqual([], phys_br.mock_calls) def test_port_bound_for_dvr_with_compute_ports_rpc_error(self): self._test_port_bound_for_dvr_on_vlan_network_rpc_error( device_owner=DEVICE_OWNER_COMPUTE) self._test_port_bound_for_dvr_on_vlan_network_rpc_error( device_owner=DEVICE_OWNER_COMPUTE, ip_version=6) self._test_port_bound_for_dvr_on_vxlan_network_rpc_error( device_owner=DEVICE_OWNER_COMPUTE) self._test_port_bound_for_dvr_on_vxlan_network_rpc_error( device_owner=DEVICE_OWNER_COMPUTE, ip_version=6) ",6,207
openstack%2Fpython-tripleoclient~stable%2Frocky~Ida519df829450c1ce9216049d76bc098176c273b,openstack/python-tripleoclient,stable/rocky,Ida519df829450c1ce9216049d76bc098176c273b,Update deployment status when deploying or failed,MERGED,2018-10-16 20:04:32.000000000,2018-10-19 04:54:10.000000000,2018-10-19 04:54:10.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-16 20:04:32.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1da8b58f97cb50aa7b5d9d2bb91ad6a0646763f4', 'message': 'Update deployment status when deploying or failed\n\nThere were a couple spots where the deployment status was not properly\nupdated. The first was when the stack failed, the deployment status also\nneeded to be set to failed.\n\nThe second is when we start the config_download process, the status\nneeds to be set to deploying.\n\nDepends-On: I87b97bcab3e8cec6bdbb79c0acb95a375bb2d2fa\nChange-Id: Ida519df829450c1ce9216049d76bc098176c273b\nCloses-Bug: #1795640\n(cherry picked from commit e478e97231ba9fd0fe019a2aacb150ee712fe2bd)\n'}]",0,611154,1da8b58f97cb50aa7b5d9d2bb91ad6a0646763f4,10,4,1,7144,,,0,"Update deployment status when deploying or failed

There were a couple spots where the deployment status was not properly
updated. The first was when the stack failed, the deployment status also
needed to be set to failed.

The second is when we start the config_download process, the status
needs to be set to deploying.

Depends-On: I87b97bcab3e8cec6bdbb79c0acb95a375bb2d2fa
Change-Id: Ida519df829450c1ce9216049d76bc098176c273b
Closes-Bug: #1795640
(cherry picked from commit e478e97231ba9fd0fe019a2aacb150ee712fe2bd)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/54/611154/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_deploy.py']",3,1da8b58f97cb50aa7b5d9d2bb91ad6a0646763f4,bug/1795640," deployment.set_deployment_status( self.clients, 'deploying', plan=stack.stack_name) try: hosts = deployment.get_overcloud_hosts( stack, parsed_args.overcloud_ssh_network) deployment.enable_ssh_admin( self.log, self.clients, stack.stack_name, hosts, parsed_args.overcloud_ssh_user, parsed_args.overcloud_ssh_key) if parsed_args.config_download_timeout: timeout = parsed_args.config_download_timeout * 60 else: used = int(time.time() - start) timeout = (parsed_args.timeout * 60) - used deployment.config_download( self.log, self.clients, stack, parsed_args.templates, parsed_args.overcloud_ssh_user, parsed_args.overcloud_ssh_key, parsed_args.overcloud_ssh_network, parsed_args.output_dir, parsed_args.override_ansible_cfg, timeout, verbosity=self.app_args.verbose_level) except Exception: deployment.set_deployment_status( self.clients, 'failed', plan=stack.stack_name) raise"," hosts = deployment.get_overcloud_hosts( stack, parsed_args.overcloud_ssh_network) deployment.enable_ssh_admin(self.log, self.clients, stack.stack_name, hosts, parsed_args.overcloud_ssh_user, parsed_args.overcloud_ssh_key) if parsed_args.config_download_timeout: timeout = parsed_args.config_download_timeout * 60 else: used = int(time.time() - start) timeout = (parsed_args.timeout * 60) - used deployment.config_download(self.log, self.clients, stack, parsed_args.templates, parsed_args.overcloud_ssh_user, parsed_args.overcloud_ssh_key, parsed_args.overcloud_ssh_network, parsed_args.output_dir, parsed_args.override_ansible_cfg, timeout, verbosity=self.app_args.verbose_level)",126,23
openstack%2Fpython-tripleoclient~stable%2Frocky~I7b746b2033c217e78c3d9942995de1479a728943,openstack/python-tripleoclient,stable/rocky,I7b746b2033c217e78c3d9942995de1479a728943,Disable SSH password authentication during tripleo-admin enablement.,MERGED,2018-10-09 14:37:48.000000000,2018-10-19 04:54:10.000000000,2018-10-19 04:54:10.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-10-09 14:37:48.000000000', 'files': ['tripleoclient/workflows/deployment.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/74424dba322fd301b0f46ee0253d8650ecb31215', 'message': 'Disable SSH password authentication during tripleo-admin enablement.\n\nSSH password authentication is now disabled when injecting the temporary\nSSH key during the tripleo-admin user enablement. This change will cause\nthe SSH command to fail quickly if the key is rejected instead of appearing\nto hang at a password prompt which is never displayed to the user.\n\nChange-Id: I7b746b2033c217e78c3d9942995de1479a728943\nCloses-Bug: #1792641\n(cherry picked from commit 2535aca143b8eade668da3ba182ffeeb4de138f0)\n'}]",0,609021,74424dba322fd301b0f46ee0253d8650ecb31215,11,5,1,7144,,,0,"Disable SSH password authentication during tripleo-admin enablement.

SSH password authentication is now disabled when injecting the temporary
SSH key during the tripleo-admin user enablement. This change will cause
the SSH command to fail quickly if the key is rejected instead of appearing
to hang at a password prompt which is never displayed to the user.

Change-Id: I7b746b2033c217e78c3d9942995de1479a728943
Closes-Bug: #1792641
(cherry picked from commit 2535aca143b8eade668da3ba182ffeeb4de138f0)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/21/609021/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/deployment.py'],1,74424dba322fd301b0f46ee0253d8650ecb31215,bug/1792641-stable/rocky," ""-o PasswordAuthentication=no """,,1,0
openstack%2Ftripleo-common~stable%2Frocky~I87b97bcab3e8cec6bdbb79c0acb95a375bb2d2fa,openstack/tripleo-common,stable/rocky,I87b97bcab3e8cec6bdbb79c0acb95a375bb2d2fa,Set workflow status to success when manipulating deployment status,MERGED,2018-10-16 19:56:25.000000000,2018-10-19 04:54:09.000000000,2018-10-19 04:54:09.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-16 19:56:25.000000000', 'files': ['workbooks/deployment.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6c5f1c1135e1f43ca3b3db32bbdb195c1fe4cb52', 'message': 'Set workflow status to success when manipulating deployment status\n\nThe workflows that manipulate the deployment status should set the\nworkflow status to SUCCESS regardless of how they set the status of the\ndeployment. Otherwise, the workflows themselves are seen as failed or\ncontinually in progress by the caller.\n\nChange-Id: I87b97bcab3e8cec6bdbb79c0acb95a375bb2d2fa\nPartial-Bug: #1795640\n(cherry picked from commit 71a2020a3becdbe43b3ccb55ede3f6f9d9766ea6)\n'}]",0,611152,6c5f1c1135e1f43ca3b3db32bbdb195c1fe4cb52,7,3,1,7144,,,0,"Set workflow status to success when manipulating deployment status

The workflows that manipulate the deployment status should set the
workflow status to SUCCESS regardless of how they set the status of the
deployment. Otherwise, the workflows themselves are seen as failed or
continually in progress by the caller.

Change-Id: I87b97bcab3e8cec6bdbb79c0acb95a375bb2d2fa
Partial-Bug: #1795640
(cherry picked from commit 71a2020a3becdbe43b3ccb55ede3f6f9d9766ea6)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/52/611152/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/deployment.yaml'],1,6c5f1c1135e1f43ca3b3db32bbdb195c1fe4cb52,bug/1795640-stable/rocky, status: SUCCESS status: SUCCESS, status: FAILED status: RUNNING,2,2
openstack%2Ftripleo-heat-templates~stable%2Frocky~I5c831e9546f8b6edaf3b0fda6c9fbef86c825a4c,openstack/tripleo-heat-templates,stable/rocky,I5c831e9546f8b6edaf3b0fda6c9fbef86c825a4c,check mode: docker_puppet,MERGED,2018-10-17 14:26:22.000000000,2018-10-19 04:54:08.000000000,2018-10-19 04:54:08.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-17 14:26:22.000000000', 'files': ['common/deploy-steps-tasks.yaml', 'docker/docker-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/65a8b44c5bf4a3e5ddcd0ec8ca02cc5a5f6a99e5', 'message': 'check mode: docker_puppet\n\nAdds check mode support for docker_puppet. The updated json file is\nwritten to /var/lib/docker-puppet/check-mode/docker-puppet.json\nduring check mode and then diffed with the existing version at\n/var/lib/docker-puppet/docker-puppet.json.\n\nWhen docker-puppet.py is run during check mode, the updated json file\nunder the check-mode directory is passed to the command. All generated\nconfig files are then written under /var/lib/config-data/check-mode,\nwhich is then recursively diffed with the existing config under just\n/var/lib/config-data to report on all changed config files.\n\nChange-Id: I5c831e9546f8b6edaf3b0fda6c9fbef86c825a4c\n(cherry picked from commit a6f982182163822750e0f4cfca5a8f52f039b00e)\n'}]",0,611336,65a8b44c5bf4a3e5ddcd0ec8ca02cc5a5f6a99e5,7,3,1,7144,,,0,"check mode: docker_puppet

Adds check mode support for docker_puppet. The updated json file is
written to /var/lib/docker-puppet/check-mode/docker-puppet.json
during check mode and then diffed with the existing version at
/var/lib/docker-puppet/docker-puppet.json.

When docker-puppet.py is run during check mode, the updated json file
under the check-mode directory is passed to the command. All generated
config files are then written under /var/lib/config-data/check-mode,
which is then recursively diffed with the existing config under just
/var/lib/config-data to report on all changed config files.

Change-Id: I5c831e9546f8b6edaf3b0fda6c9fbef86c825a4c
(cherry picked from commit a6f982182163822750e0f4cfca5a8f52f039b00e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/611336/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps-tasks.yaml', 'docker/docker-puppet.py']",2,65a8b44c5bf4a3e5ddcd0ec8ca02cc5a5f6a99e5,," CHECK_MODE="""" if [ -d ""/tmp/puppet-check-mode"" ]; then mkdir -p /etc/puppet/check-mode cp -a /tmp/puppet-check-mode/* /etc/puppet/check-mode CHECK_MODE=""--hiera_config /etc/puppet/check-mode/hiera.yaml"" fi --detailed-exitcodes --color=false --logdest syslog --logdest console --modulepath=/etc/puppet/modules:/usr/share/openstack-puppet/modules $TAGS $CHECK_MODE /etc/config.ppdef mp_puppet_config(*args): (config_volume,puppet_tags,manifest,config_image,volumes,check_mode) = args[0] log.debug('check_mode %s' % check_mode) if check_mode: dcmd.extend([ '--volume', '/etc/puppet/check-mode:/tmp/puppet-check-mode:ro']) check_mode = int(os.environ.get('CHECK_MODE', 0)) log.debug('CHECK_MODE: %s' % check_mode) process_map.append([config_volume, puppet_tags, manifest, config_image, volumes, check_mode])infiles = glob.glob(startup_configs)"," --detailed-exitcodes --color=false --logdest syslog --logdest console --modulepath=/etc/puppet/modules:/usr/share/openstack-puppet/modules $TAGS /etc/config.ppdef mp_puppet_config((config_volume, puppet_tags, manifest, config_image, volumes)): process_map.append([config_volume, puppet_tags, manifest, config_image, volumes])infiles = glob.glob('/var/lib/tripleo-config/docker-container-startup-config-step_*.json')",109,12
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I9cb0dd38c972ed0e81cbd7228490018d600eaa5c,openstack/tripleo-heat-templates,stable/queens,I9cb0dd38c972ed0e81cbd7228490018d600eaa5c,Apply variable to task not the block,MERGED,2018-10-18 12:18:00.000000000,2018-10-19 04:52:22.000000000,2018-10-19 04:52:22.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27253}]","[{'number': 1, 'created': '2018-10-18 12:18:00.000000000', 'files': ['extraconfig/services/rhsm.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3f0ee886cb287d7ebf9f2a7139da845fecb9f75e', 'message': 'Apply variable to task not the block\n\n- use static import of role since dynamic is not required\n- apply variables to the task, not the block\n- remove block since it does not appear to be necessary\n\nChange-Id: I9cb0dd38c972ed0e81cbd7228490018d600eaa5c\n(cherry picked from commit f6a6fb459ad830de3677f89777ca188aeee8972e)\n'}]",0,611588,3f0ee886cb287d7ebf9f2a7139da845fecb9f75e,8,5,1,3153,,,0,"Apply variable to task not the block

- use static import of role since dynamic is not required
- apply variables to the task, not the block
- remove block since it does not appear to be necessary

Change-Id: I9cb0dd38c972ed0e81cbd7228490018d600eaa5c
(cherry picked from commit f6a6fb459ad830de3677f89777ca188aeee8972e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/611588/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/services/rhsm.yaml'],1,3f0ee886cb287d7ebf9f2a7139da845fecb9f75e,rhsm-stable/queens, import_role: name: redhat-subscription, block: - include_role: name: redhat-subscription,2,3
openstack%2Ftripleo-heat-templates~master~I69b3c44b368bab3fff885e67fa6523fbb1c80347,openstack/tripleo-heat-templates,master,I69b3c44b368bab3fff885e67fa6523fbb1c80347,Add sample designate environment for ha,MERGED,2018-07-19 16:51:27.000000000,2018-10-19 04:52:21.000000000,2018-10-19 04:52:20.000000000,"[{'_account_id': 3153}, {'_account_id': 6928}, {'_account_id': 7385}, {'_account_id': 8871}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-19 16:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bac4fdad28d7f47f522256f953756148706ed97d', 'message': ""Add sample designate environment for ha\n\nThe pool configuration for an ha deployment of designate looks quite\na bit different from the nonha one, so it's useful to provide a\nseparate example environment for it.\n\nChange-Id: I69b3c44b368bab3fff885e67fa6523fbb1c80347\n""}, {'number': 2, 'created': '2018-07-19 18:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3fa4bf499b322a6e7422946a2f8e15e5ce8067bc', 'message': ""Add sample designate environment for ha\n\nThe pool configuration for an ha deployment of designate looks quite\na bit different from the nonha one, so it's useful to provide a\nseparate example environment for it.\n\nChange-Id: I69b3c44b368bab3fff885e67fa6523fbb1c80347\n""}, {'number': 3, 'created': '2018-09-28 19:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1ba2ec1337ca0f06c8943f08ec4b0437771e3f7c', 'message': ""Add sample designate environment for ha\n\nThe pool configuration for an ha deployment of designate looks quite\na bit different from the nonha one, so it's useful to provide a\nseparate example environment for it.\n\nChange-Id: I69b3c44b368bab3fff885e67fa6523fbb1c80347\n""}, {'number': 4, 'created': '2018-10-11 15:15:39.000000000', 'files': ['sample-env-generator/enable-services.yaml', 'environments/enable-designate-ha.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0244ae08cd426a0419c9ce859dd1303d6e0ef412', 'message': ""Add sample designate environment for ha\n\nThe pool configuration for an ha deployment of designate looks quite\na bit different from the nonha one, so it's useful to provide a\nseparate example environment for it.\n\nChange-Id: I69b3c44b368bab3fff885e67fa6523fbb1c80347\n""}]",0,584026,0244ae08cd426a0419c9ce859dd1303d6e0ef412,53,7,4,6928,,,0,"Add sample designate environment for ha

The pool configuration for an ha deployment of designate looks quite
a bit different from the nonha one, so it's useful to provide a
separate example environment for it.

Change-Id: I69b3c44b368bab3fff885e67fa6523fbb1c80347
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/584026/2 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/enable-services.yaml', 'environments/enable-designate-ha.yaml']",2,bac4fdad28d7f47f522256f953756148706ed97d,designate,"# ******************************************************************* # This file was created automatically by the sample environment # generator. Developers should use `tox -e genconfig` to update it. # Users are recommended to make changes to a copy of the file instead # of the original, if any customizations are needed. # ******************************************************************* # title: Enable Designate Service # description: | # EXPERIMENTAL: This service is not considered ready for production and # should only be used for development and test purposes at this time. # # This environment enables the Designate services and provides sample # configuration values for other services to allow them to integrate with # Designate. parameter_defaults: # The content for Designate's pools.yaml # Mandatory. This parameter must be set by the user. # Type: string DesignatePools: | - name: default # The name is immutable. There will be no option to change the name after # creation and the only way will to change it will be to delete it # (and all zones associated with it) and recreate it. description: Default Pool attributes: {} # List out the NS records for zones hosted within this pool # This should be a record that is created outside of designate, that # points to the public IP of the controller node. ns_records: - hostname: ns1-1.example.org. priority: 1 # List out the nameservers for this pool. These are the actual BIND servers. # We use these to verify changes have propagated to all nameservers. nameservers: - host: 10.0.0.51 port: 53 - host: 10.0.0.52 port: 53 - host: 10.0.0.53 port: 53 # List out the targets for this pool. For BIND there will be one # entry for each BIND server, as we have to run rndc command on each server targets: - type: bind9 description: BIND9 Server 1 # List out the designate-mdns servers from which BIND servers should # request zone transfers (AXFRs) from. # This should be the IP of the controller node. # If you have multiple controllers you can add multiple masters # by running designate-mdns on them, and adding them here. masters: - host: 10.0.0.51 port: 5354 - host: 10.0.0.52 port: 5354 - host: 10.0.0.53 port: 5354 # BIND Configuration options options: host: 10.0.0.51 port: 53 rndc_host: 172.17.0.251 rndc_port: 953 rndc_key_file: /etc/rndc.key - type: bind9 description: BIND9 Server 2 # List out the designate-mdns servers from which BIND servers should # request zone transfers (AXFRs) from. # This should be the IP of the controller node. # If you have multiple controllers you can add multiple masters # by running designate-mdns on them, and adding them here. masters: - host: 10.0.0.51 port: 5354 - host: 10.0.0.52 port: 5354 - host: 10.0.0.53 port: 5354 # BIND Configuration options options: host: 10.0.0.52 port: 53 rndc_host: 172.17.0.252 rndc_port: 953 rndc_key_file: /etc/rndc.key - type: bind9 description: BIND9 Server 3 # List out the designate-mdns servers from which BIND servers should # request zone transfers (AXFRs) from. # This should be the IP of the controller node. # If you have multiple controllers you can add multiple masters # by running designate-mdns on them, and adding them here. masters: - host: 10.0.0.51 port: 5354 - host: 10.0.0.52 port: 5354 - host: 10.0.0.53 port: 5354 # BIND Configuration options options: host: 10.0.0.53 port: 53 rndc_host: 172.17.0.253 rndc_port: 953 rndc_key_file: /etc/rndc.key # If True, enable the internal Neutron DNS server that provides name # resolution between VMs. This parameter has no effect if # NeutronDhcpAgentDnsmasqDnsServers is set. # Type: boolean NeutronEnableInternalDNS: True # Comma-separated list of extensions enabled for the Neutron plugin. # Type: comma_delimited_list NeutronPluginExtensions: qos,port_security,dns resource_registry: OS::TripleO::Services::DesignateApi: ../docker/services/designate-api.yaml OS::TripleO::Services::DesignateCentral: ../docker/services/designate-central.yaml OS::TripleO::Services::DesignateMDNS: ../docker/services/designate-mdns.yaml OS::TripleO::Services::DesignateProducer: ../docker/services/designate-producer.yaml OS::TripleO::Services::DesignateWorker: ../docker/services/designate-worker.yaml ",,238,0
openstack%2Fopenstack-ansible-ops~master~I75de7063164959041193526e519682ba80185250,openstack/openstack-ansible-ops,master,I75de7063164959041193526e519682ba80185250,Additional cleanup and simplification,MERGED,2018-10-19 02:17:53.000000000,2018-10-19 04:47:56.000000000,2018-10-19 04:47:56.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-19 02:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/221409b0430fb41c7d4fb884363c03cafed9fa2f', 'message': 'Additional cleanup and simplification\n\nThe role is further being pruned and made more efficient.\n\nChange-Id: I75de7063164959041193526e519682ba80185250\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-10-19 02:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/c16edae79414d20f1c7b982e5918910425fe8c39', 'message': 'Additional cleanup and simplification\n\nThe role is further being pruned and made more efficient.\n\nChange-Id: I75de7063164959041193526e519682ba80185250\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-10-19 02:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/3ba56d33f527b808d7a3f58d82f4bebf87ff734d', 'message': 'Additional cleanup and simplification\n\nThe role is further being pruned and made more efficient.\n\nChange-Id: I75de7063164959041193526e519682ba80185250\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-10-19 03:53:52.000000000', 'files': ['osquery/roles/osquery/templates/osquery.flags.j2', 'osquery/vars/variables.yml', 'osquery/roles/osquery/handlers/main.yml', 'osquery/roles/osquery/tasks/osquery_configure.yml', 'osquery/roles/fleet/tasks/fleetRegisterAdmin.yml', 'osquery/roles/osquery/templates/osquery.conf.j2', 'osquery/roles/osquery/defaults/main.yml', 'osquery/installOSquery.yml', 'osquery/roles/fleet/tasks/fleetMigrateDB.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/fd2005baf4e9efa0a9996e051e1b7fbf8d3a6cf9', 'message': 'Additional cleanup and simplification\n\nThe role is further being pruned and made more efficient.\n\nChange-Id: I75de7063164959041193526e519682ba80185250\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,611741,fd2005baf4e9efa0a9996e051e1b7fbf8d3a6cf9,10,2,4,7353,,,0,"Additional cleanup and simplification

The role is further being pruned and made more efficient.

Change-Id: I75de7063164959041193526e519682ba80185250
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/41/611741/1 && git format-patch -1 --stdout FETCH_HEAD,"['osquery/vars/variables.yml', 'osquery/roles/osquery/tasks/osquery_configure.yml', 'osquery/roles/fleet/tasks/fleetRegisterAdmin.yml', 'osquery/roles/osquery/templates/osquery.conf.j2', 'osquery/roles/osquery/defaults/main.yml', 'osquery/roles/fleet/defaults/main.yml', 'osquery/roles/fleet/tasks/fleetMigrateDB.yml']",7,221409b0430fb41c7d4fb884363c03cafed9fa2f,, register: _fleetctl_task until: _fleetctl_task is success retries: 3 delay: 2,,133,185
openstack%2Floci~master~If93fda5a2efad550b5d58e215f2f7ef9a06cdacf,openstack/loci,master,If93fda5a2efad550b5d58e215f2f7ef9a06cdacf,Improve setup-gate,MERGED,2018-10-11 08:40:19.000000000,2018-10-19 04:47:29.000000000,2018-10-19 04:47:29.000000000,"[{'_account_id': 7822}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24072}]","[{'number': 1, 'created': '2018-10-11 08:40:19.000000000', 'files': ['playbooks/setup-gate.yaml'], 'web_link': 'https://opendev.org/openstack/loci/commit/56418ef3a8ebed8becc01b70e3223d34b422b18f', 'message': 'Improve setup-gate\n\nThis includes a small optimisation to make sure the packages\nare passed as a list instead of iterating over them in the apt\ncommands.\n\nIt also ensures the argument ""recurse"" is passed into the copy\nargument, as this was not done previously.\n\nChange-Id: If93fda5a2efad550b5d58e215f2f7ef9a06cdacf\n'}]",0,609623,56418ef3a8ebed8becc01b70e3223d34b422b18f,9,4,1,17068,,,0,"Improve setup-gate

This includes a small optimisation to make sure the packages
are passed as a list instead of iterating over them in the apt
commands.

It also ensures the argument ""recurse"" is passed into the copy
argument, as this was not done previously.

Change-Id: If93fda5a2efad550b5d58e215f2f7ef9a06cdacf
",git fetch https://review.opendev.org/openstack/loci refs/changes/23/609623/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/setup-gate.yaml'],1,56418ef3a8ebed8becc01b70e3223d34b422b18f,," name: - docker-ce - python-pip recurse: ""{{ item.recurse | default(omit) }}"" name: - apache2 - gitweb"," name: ""{{ item }}"" with_items: - docker-ce - python-pip name: ""{{ item }}"" with_items: - apache2 - gitweb",7,8
openstack%2Fneutron~master~If620b23564479042aa6f58640bcd6705e5eb52cf,openstack/neutron,master,If620b23564479042aa6f58640bcd6705e5eb52cf,DVR-HA: Configure extra routes on router namespace in dvr_snat node,MERGED,2018-10-10 06:44:30.000000000,2018-10-19 04:41:47.000000000,2018-10-18 17:47:57.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 7016}, {'_account_id': 8871}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28581}]","[{'number': 1, 'created': '2018-10-10 06:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c7c676f40ebb8edb0291d565c3a06d112d6e620', 'message': 'DVR-HA: Configure extra routes on router namespace in dvr_snat node\n\nExtra routes are not configured on Router namespaces in dvr_snat\nnode with DVR-HA configuration.\nThis patch fixes the problem.\n\nChange-Id: If620b23564479042aa6f58640bcd6705e5eb52cf\nCloses-Bug: #1797037\n'}, {'number': 2, 'created': '2018-10-10 07:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/34516935f02de4eee101d3d0a28265a460e26065', 'message': 'DVR-HA: Configure extra routes on router namespace in dvr_snat node\n\nExtra routes are not configured on Router namespaces in dvr_snat\nnode with DVR-HA configuration.\nThis patch fixes the problem.\n\nChange-Id: If620b23564479042aa6f58640bcd6705e5eb52cf\nCloses-Bug: #1797037\n'}, {'number': 3, 'created': '2018-10-10 07:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d1f45ce2126f422014f7a2ccbf7b7d6de174d28f', 'message': 'DVR-HA: Configure extra routes on router namespace in dvr_snat node\n\nExtra routes are not configured on Router namespaces in dvr_snat\nnode with DVR-HA configuration.\nThis patch fixes the problem.\n\nChange-Id: If620b23564479042aa6f58640bcd6705e5eb52cf\nCloses-Bug: #1797037\n'}, {'number': 4, 'created': '2018-10-11 17:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/10e1e2e6ca8f1128df8137a8d935d1256dc351fc', 'message': 'DVR-HA: Configure extra routes on router namespace in dvr_snat node\n\nExtra routes are not configured on Router namespaces in dvr_snat\nnode with DVR-HA configuration.\nThis patch fixes the problem.\n\nChange-Id: If620b23564479042aa6f58640bcd6705e5eb52cf\nCloses-Bug: #1797037\n'}, {'number': 5, 'created': '2018-10-11 17:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ae52b618c0c08fb399a801157540ca1afaab2c38', 'message': 'DVR-HA: Configure extra routes on router namespace in dvr_snat node\n\nExtra routes are not configured on Router namespaces in dvr_snat\nnode with DVR-HA configuration.\nThis patch fixes the problem.\n\nChange-Id: If620b23564479042aa6f58640bcd6705e5eb52cf\nCloses-Bug: #1797037\n'}, {'number': 6, 'created': '2018-10-12 15:01:01.000000000', 'files': ['neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/81652cd939ebaf7ea09e5f8dd31d8185619c8243', 'message': 'DVR-HA: Configure extra routes on router namespace in dvr_snat node\n\nExtra routes are not configured on Router namespaces in dvr_snat\nnode with DVR-HA configuration.\nThis patch fixes the problem.\n\nChange-Id: If620b23564479042aa6f58640bcd6705e5eb52cf\nCloses-Bug: #1797037\n'}]",5,609273,81652cd939ebaf7ea09e5f8dd31d8185619c8243,65,14,6,7016,,,0,"DVR-HA: Configure extra routes on router namespace in dvr_snat node

Extra routes are not configured on Router namespaces in dvr_snat
node with DVR-HA configuration.
This patch fixes the problem.

Change-Id: If620b23564479042aa6f58640bcd6705e5eb52cf
Closes-Bug: #1797037
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/609273/6 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/ha_router.py', 'neutron/agent/l3/dvr_edge_ha_router.py']",2,5c7c676f40ebb8edb0291d565c3a06d112d6e620,bug/1797037," def update_routing_table(self, operation, route): super(DvrEdgeHaRouter, self).update_routing_table(operation, route) ",,4,0
openstack%2Fdiskimage-builder~master~Iac54c86ebdb90351a2dd663b876ab4675ee0435a,openstack/diskimage-builder,master,Iac54c86ebdb90351a2dd663b876ab4675ee0435a,Fix DIB_DISTRIBUTION_MIRROR_UBUNTU_IGNORE regex typo,MERGED,2018-10-18 10:05:51.000000000,2018-10-19 04:01:21.000000000,2018-10-19 04:01:21.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-18 10:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ef5737417ceea6e0f008a312ece174dd3553af3a', 'message': '[wip] testing trusty image\n\nChange-Id: Iac54c86ebdb90351a2dd663b876ab4675ee0435a\n'}, {'number': 2, 'created': '2018-10-18 10:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a5b25d12d9e783b5159ab2512d05e89525eb8a64', 'message': '[wip] testing trusty image\n\nChange-Id: Iac54c86ebdb90351a2dd663b876ab4675ee0435a\n'}, {'number': 3, 'created': '2018-10-18 10:50:47.000000000', 'files': ['diskimage_builder/elements/ubuntu/pre-install.d/01-set-ubuntu-mirror'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/86080a7db047afd6257e6303c0958a387a0c44b9', 'message': 'Fix DIB_DISTRIBUTION_MIRROR_UBUNTU_IGNORE regex typo\n\nThis should not be quoted.  Introduced in\nI6ffbde07fa0e103641ee5c5f9d9e854e5b2168dc\n\nChange-Id: Iac54c86ebdb90351a2dd663b876ab4675ee0435a\n'}]",0,611559,86080a7db047afd6257e6303c0958a387a0c44b9,22,4,3,7118,,,0,"Fix DIB_DISTRIBUTION_MIRROR_UBUNTU_IGNORE regex typo

This should not be quoted.  Introduced in
I6ffbde07fa0e103641ee5c5f9d9e854e5b2168dc

Change-Id: Iac54c86ebdb90351a2dd663b876ab4675ee0435a
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/59/611559/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/ubuntu/pre-install.d/01-set-ubuntu-mirror', 'playbooks/legacy/dib-dsvm-functests-python2-ubuntu-trusty-image/run.yaml', '.zuul.d/jobs.yaml']",3,ef5737417ceea6e0f008a312ece174dd3553af3a,trusty-image,, - dib-dsvm-functests-python2-ubuntu-trusty: branches: (master|feature/v2) irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - dib-dsvm-functests-python2-ubuntu-trusty-extras: voting: false branches: (master|feature/v2) irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - dib-dsvm-functests-python3: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - dib-dsvm-functests-python3-extras: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - dib-dsvm-functests-python3-image: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - dib-dsvm-functests-python2-centos-7: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - dib-dsvm-functests-python2-centos-7-extras: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - dib-dsvm-functests-python2-centos-7-image: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - openstack-tox-lower-constraints ,2,48
openstack%2Fzun-ui~master~I99a7429f226bf62edea2f745e844c963099a48e8,openstack/zun-ui,master,I99a7429f226bf62edea2f745e844c963099a48e8,Add details view for hosts panel,MERGED,2018-10-16 09:53:45.000000000,2018-10-19 03:45:30.000000000,2018-10-19 03:45:29.000000000,"[{'_account_id': 11536}, {'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 09:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/f9db244687d756870fbcad67eab58940ad7f322d', 'message': 'Add details view for hosts panel\n\nThis patch adds host details view for admin.\n\nChange-Id: I99a7429f226bf62edea2f745e844c963099a48e8\nImplements: blueprint add-host-panel\n'}, {'number': 2, 'created': '2018-10-18 05:39:39.000000000', 'files': ['zun_ui/static/dashboard/container/hosts/details/overview.controller.js', 'zun_ui/static/dashboard/container/hosts/details/details.module.js', 'zun_ui/static/dashboard/container/container.scss', 'zun_ui/static/dashboard/container/hosts/hosts.service.js', 'zun_ui/static/dashboard/container/hosts/details/overview.html', 'zun_ui/static/dashboard/container/hosts/hosts.scss', 'zun_ui/static/dashboard/container/hosts/hosts.module.js'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/ddb31065ab98fb4641416a6a812d318fa6e1f1f3', 'message': 'Add details view for hosts panel\n\nThis patch adds host details view for admin.\n\nChange-Id: I99a7429f226bf62edea2f745e844c963099a48e8\nImplements: blueprint add-host-panel\n'}]",5,610922,ddb31065ab98fb4641416a6a812d318fa6e1f1f3,11,3,2,16352,,,0,"Add details view for hosts panel

This patch adds host details view for admin.

Change-Id: I99a7429f226bf62edea2f745e844c963099a48e8
Implements: blueprint add-host-panel
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/22/610922/2 && git format-patch -1 --stdout FETCH_HEAD,"['zun_ui/static/dashboard/container/hosts/details/overview.controller.js', 'zun_ui/static/dashboard/container/hosts/details/details.module.js', 'zun_ui/static/dashboard/container/hosts/hosts.service.js', 'zun_ui/static/dashboard/container/hosts/details/overview.html', 'zun_ui/static/dashboard/container/hosts/hosts.module.js']",5,f9db244687d756870fbcad67eab58940ad7f322d,bp/add-host-panel," 'ngRoute', 'horizon.dashboard.container.hosts.details' .setDefaultIndexUrl('/admin/container/hosts/') sortDefault: true, urlFunction: hostService.getDetailsPath 'runtimes': { label: gettext('Runtimes'), filters: ['noValue', 'json'] }, 'labels': { label: gettext('Labels'), filters: ['noValue', 'json'] }, 'links': { label: gettext('Links'), filters: ['noValue', 'json'] }"," 'ngRoute' sortDefault: true 'runtimes': { label: gettext('Runtimes'), filters: ['noValue'] }, 'labels': { label: gettext('Labels'), filters: ['noValue'] }",254,10
openstack%2Fkarbor~master~Ie4888121998b39e1582e62b744fc7c29fd54c1be,openstack/karbor,master,Ie4888121998b39e1582e62b744fc7c29fd54c1be,Update os_client_config to openstack.config,ABANDONED,2018-07-27 00:57:08.000000000,2018-10-19 03:44:24.000000000,,"[{'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-27 00:57:08.000000000', 'files': ['karbor/tests/fullstack/karbor_base.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/da2aa52a3dfda4f724b8d186d629fcfbd572d10f', 'message': ""Update os_client_config to openstack.config\n\nSince now os-client-config has been superceded by openstacksdk[1].\nSo need to replace the os-client-config in karbor to\nslove the issue that 'No module named os_client_config'.\n\n[1]:https://docs.openstack.org/os-client-config/latest/\n\nChange-Id: Ie4888121998b39e1582e62b744fc7c29fd54c1be\n""}]",0,586381,da2aa52a3dfda4f724b8d186d629fcfbd572d10f,7,2,1,21387,,,0,"Update os_client_config to openstack.config

Since now os-client-config has been superceded by openstacksdk[1].
So need to replace the os-client-config in karbor to
slove the issue that 'No module named os_client_config'.

[1]:https://docs.openstack.org/os-client-config/latest/

Change-Id: Ie4888121998b39e1582e62b744fc7c29fd54c1be
",git fetch https://review.opendev.org/openstack/karbor refs/changes/81/586381/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/tests/fullstack/karbor_base.py'],1,da2aa52a3dfda4f724b8d186d629fcfbd572d10f,,import openstack.config return openstack.config.OpenStackConfig().get_one_cloud(cloud=cloud),import os_client_config return os_client_config.OpenStackConfig().get_one_cloud(cloud=cloud),2,2
openstack%2Fpython-freezerclient~master~I0313f431f066a59b6d57130b81e943bce300511b,openstack/python-freezerclient,master,I0313f431f066a59b6d57130b81e943bce300511b,Add backup create client support for freezer,MERGED,2018-10-19 01:40:23.000000000,2018-10-19 03:44:00.000000000,2018-10-19 03:44:00.000000000,"[{'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2018-10-19 01:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/652bd09fe23eea24e4c52a5da07d2476c8d65a7d', 'message': 'Add backup create client support for freezer\n\nCurrently, freezer client doesnt support backup create command,\nit is not so convenient. This patch add this command for debug.\n\nChange-Id: I0313f431f066a59b6d57130b81e943bce300511b\n'}, {'number': 2, 'created': '2018-10-19 03:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/2bb8e6c44d832f0afcc31b87d61c91ed027d183b', 'message': 'Add backup create client support for freezer\n\nCurrently, freezer client doesnt support backup create command,\nit is not so convenient. This patch add this command for debug.\n\nChange-Id: I0313f431f066a59b6d57130b81e943bce300511b\n'}, {'number': 3, 'created': '2018-10-19 03:24:01.000000000', 'files': ['freezerclient/v2/backups.py', 'freezerclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/2614d6de09ae44194d4dea04d65eaad19e5e46b8', 'message': 'Add backup create client support for freezer\n\nCurrently, freezer client doesnt support backup create command,\nit is not so convenient. This patch add this command for debug.\n\nChange-Id: I0313f431f066a59b6d57130b81e943bce300511b\n'}]",2,611737,2614d6de09ae44194d4dea04d65eaad19e5e46b8,11,2,3,21387,,,0,"Add backup create client support for freezer

Currently, freezer client doesnt support backup create command,
it is not so convenient. This patch add this command for debug.

Change-Id: I0313f431f066a59b6d57130b81e943bce300511b
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/37/611737/2 && git format-patch -1 --stdout FETCH_HEAD,['freezerclient/v2/backups.py'],1,652bd09fe23eea24e4c52a5da07d2476c8d65a7d,addBackupCreate," class BackupCreate(command.Command): """"""Create an action from a file"""""" def get_parser(self, prog_name): parser = super(BackupCreate, self).get_parser(prog_name) parser.add_argument('--file', dest='file', required=True, help='Path to json file with the action') return parser def take_action(self, parsed_args): backup = utils.doc_from_json_file(parsed_args.file) backup_id = self.app.client.backups.create(backup) logging.info('Action {0} created'.format(backup_id))",,16,0
openstack%2Fopenstack-ansible-ops~master~Ie488fe42e98bd96f5777c1c893fc79e50a2eddee,openstack/openstack-ansible-ops,master,Ie488fe42e98bd96f5777c1c893fc79e50a2eddee,Additional playbook cleanup and use stable release,MERGED,2018-10-18 15:51:35.000000000,2018-10-19 03:37:32.000000000,2018-10-19 03:37:32.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-18 15:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/bb0285322bd8153ac85bc1b571cc56b28eb0b7e1', 'message': 'Additional playbook cleanup and use stable release\n\nThe stable release of the kolide has been cut. This change sets our used\nversion of kolide to ""2.0.0"".\n\nChange-Id: Ie488fe42e98bd96f5777c1c893fc79e50a2eddee\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-10-18 18:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/05a7d83e95209d528f02802889f3342a3a792531', 'message': 'Additional playbook cleanup and use stable release\n\nThe stable release of the kolide has been cut. This change sets our used\nversion of kolide to ""2.0.0"".\n\nChange-Id: Ie488fe42e98bd96f5777c1c893fc79e50a2eddee\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-10-19 01:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/3014a1ea24ef332331a3cba5b11a913fd52d8086', 'message': 'Additional playbook cleanup and use stable release\n\nThe stable release of the kolide has been cut. This change sets our used\nversion of kolide to ""2.0.0"".\n\nChange-Id: Ie488fe42e98bd96f5777c1c893fc79e50a2eddee\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-10-19 02:29:15.000000000', 'files': ['osquery/README.rst', 'osquery/roles/fleet/tasks/createFleetDB.yml', 'osquery/roles/fleet/tasks/fleetMigrateDB.yml', 'osquery/roles/fleet/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/e0e85797852a59ba74d7d94c17f966ec6c51282d', 'message': 'Additional playbook cleanup and use stable release\n\nThe stable release of the kolide has been cut. This change sets our used\nversion of kolide to ""2.0.0"".\n\nChange-Id: Ie488fe42e98bd96f5777c1c893fc79e50a2eddee\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,611661,e0e85797852a59ba74d7d94c17f966ec6c51282d,14,2,4,7353,,,0,"Additional playbook cleanup and use stable release

The stable release of the kolide has been cut. This change sets our used
version of kolide to ""2.0.0"".

Change-Id: Ie488fe42e98bd96f5777c1c893fc79e50a2eddee
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/61/611661/4 && git format-patch -1 --stdout FETCH_HEAD,"['osquery/README.rst', 'osquery/roles/fleet/tasks/createFleetDB.yml', 'osquery/roles/fleet/defaults/main.yml', 'osquery/roles/fleet/tasks/fleetMigrateDB.yml']",4,bb0285322bd8153ac85bc1b571cc56b28eb0b7e1,kolide-cluster,,,13,49
openstack%2Fswift~master~I1e1dee8f8c77212183b0ef2b574b57ad1051d57e,openstack/swift,master,I1e1dee8f8c77212183b0ef2b574b57ad1051d57e,py3: everything account except the real things,MERGED,2018-10-18 04:37:15.000000000,2018-10-19 03:34:05.000000000,2018-10-19 03:34:05.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-18 04:37:15.000000000', 'files': ['test/unit/account/test_reaper.py', 'swift/account/reaper.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/6676d74f8f63e8349986cfd31bc958feda935f4c', 'message': ""py3: everything account except the real things\n\nThe the 80% of the work still remain in server and replicator,\nbut let's knock this out.\n\nChange-Id: I1e1dee8f8c77212183b0ef2b574b57ad1051d57e\n""}]",4,611496,6676d74f8f63e8349986cfd31bc958feda935f4c,8,2,1,597,,,0,"py3: everything account except the real things

The the 80% of the work still remain in server and replicator,
but let's knock this out.

Change-Id: I1e1dee8f8c77212183b0ef2b574b57ad1051d57e
",git fetch https://review.opendev.org/openstack/swift refs/changes/96/611496/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/account/test_reaper.py', 'swift/account/reaper.py', 'tox.ini']",3,6676d74f8f63e8349986cfd31bc958feda935f4c,py3/acc_auditor, test/unit/account/test_auditor.py \ test/unit/account/test_reaper.py \,,13,8
openstack%2Fnova~stable%2Frocky~I1acba5e65cd562472f29e354c6077f82844fa87d,openstack/nova,stable/rocky,I1acba5e65cd562472f29e354c6077f82844fa87d,Use unique consumer_id when doing online data migration,MERGED,2018-10-17 13:25:03.000000000,2018-10-19 03:34:00.000000000,2018-10-19 03:33:59.000000000,"[{'_account_id': 1004}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 13:25:03.000000000', 'files': ['nova/api/openstack/placement/objects/resource_provider.py', 'nova/api/openstack/placement/objects/consumer.py', 'nova/tests/functional/api/openstack/placement/db/test_consumer.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6bd7e8a958f53e2288b41a27528a008e3cfb2802', 'message': 'Use unique consumer_id when doing online data migration\n\nIf there are multiple consumers having allocations to the same\nresource provider, with different classes, it will attempt\nmultiple INSERTs with the same consumer_id which is not allowed\nbecause of the database constraints.\n\nThis patch adds a simple GROUP BY in order to ensure that the\ndatabase server only provides us with unique values to avoid\ntrying to INSERT duplicate values.\n\nConflicts:\n      nova/tests/functional/api/openstack/placement/db/test_consumer.py\n\nNOTE(mriedem): The conflict is due to not having change\nI7f5f08691ca3f73073c66c29dddb996fb2c2b266 in Rocky.\n\nChange-Id: I1acba5e65cd562472f29e354c6077f82844fa87d\nCloses-Bug: #1798163\n(cherry picked from commit 730936e535e67127c76d4f27649a16d8cf05efc9)\n'}]",0,611315,6bd7e8a958f53e2288b41a27528a008e3cfb2802,19,9,1,6873,,,0,"Use unique consumer_id when doing online data migration

If there are multiple consumers having allocations to the same
resource provider, with different classes, it will attempt
multiple INSERTs with the same consumer_id which is not allowed
because of the database constraints.

This patch adds a simple GROUP BY in order to ensure that the
database server only provides us with unique values to avoid
trying to INSERT duplicate values.

Conflicts:
      nova/tests/functional/api/openstack/placement/db/test_consumer.py

NOTE(mriedem): The conflict is due to not having change
I7f5f08691ca3f73073c66c29dddb996fb2c2b266 in Rocky.

Change-Id: I1acba5e65cd562472f29e354c6077f82844fa87d
Closes-Bug: #1798163
(cherry picked from commit 730936e535e67127c76d4f27649a16d8cf05efc9)
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/611315/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/placement/objects/resource_provider.py', 'nova/api/openstack/placement/objects/consumer.py', 'nova/tests/functional/api/openstack/placement/db/test_consumer.py']",3,6bd7e8a958f53e2288b41a27528a008e3cfb2802,bug/1798163," res = consumer_obj.create_incomplete_consumers(self.ctx, 2) self.assertEqual((2, 2), res) rp_obj.AllocationList.get_all_by_resource_provider(self.ctx, rp1) self._check_incomplete_consumers(self.ctx) res = consumer_obj.create_incomplete_consumers(self.ctx, 10) self.assertEqual((0, 0), res)","from oslo_db import exception as db_exc # FIXME(mriedem): This should not raise a UniqueConstraint error once # bug 1798163 is fixed. # res = consumer_obj.create_incomplete_consumers(self.ctx, 2) # self.assertEqual((2, 2), res) self.assertRaises(db_exc.DBDuplicateEntry, consumer_obj.create_incomplete_consumers, self.ctx, 2) # FIXME(mriedem): This should not raise a UniqueConstraint error once # bug 1798163 is fixed. self.assertRaises(db_exc.DBDuplicateEntry, rp_obj.AllocationList.get_all_by_resource_provider, self.ctx, rp1)",14,13
openstack%2Ftempest~master~I64253af8eb401238aba254d1887d748a68cf32d3,openstack/tempest,master,I64253af8eb401238aba254d1887d748a68cf32d3,Remove deprecated find_test_caller function,MERGED,2018-06-26 18:31:31.000000000,2018-10-19 03:33:54.000000000,2018-10-19 03:33:54.000000000,"[{'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-06-26 18:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d9afe4007cd226807b14087a1d048d783c4037cd', 'message': 'Remove deprecated find_test_caller function\n\nThis patchset removes the long-ago deprecated version of\nfind_test_caller in ``tempest.lib.common.utils.misc.find_test_caller``\nwhich was deprecated during Kilo release cycle in favor of\n``tempest.lib.common.utils.test_utils.find_test_caller`` [0].\n\nThere are a few projects that depend on the old find_test_caller\nfor which patchsets have been submitted to change to the\nnon-deprecated version: [1][2].\n\nOnly remaining place is in openstack/tempest-lib which no longer\nappears to be supported (no activity in a few years) [3].\n\n[0] http://git.openstack.org/cgit/openstack/tempest/tree/releasenotes/notes/12/12.1.0-new-test-utils-module-adf34468c4d52719.yaml\n[1] https://review.openstack.org/#/c/578166/\n[2] https://review.openstack.org/#/c/578168/\n[3] e.g. http://git.openstack.org/cgit/openstack/tempest-lib/tree/tempest_lib/common/utils/misc.py\n\nDepends-On: https://review.openstack.org/#/c/578166/\nDepends-On: https://review.openstack.org/#/c/578168/\nChange-Id: I64253af8eb401238aba254d1887d748a68cf32d3\n'}, {'number': 2, 'created': '2018-06-26 18:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8651ed32cc1951e55add2d852d4095a7fb77e7b8', 'message': 'Remove deprecated find_test_caller function\n\nThis patchset removes the long-ago deprecated version of\nfind_test_caller in ``tempest.lib.common.utils.misc.find_test_caller``\nwhich was deprecated during Kilo release cycle in favor of\n``tempest.lib.common.utils.test_utils.find_test_caller`` [0].\n\nThere are a few projects that depend on the old find_test_caller\nfor which patchsets have been submitted to change to the\nnon-deprecated version: [1][2].\n\nOnly remaining place is in openstack/tempest-lib which no longer\nappears to be supported (no activity in a few years) [3].\n\n[0] http://git.openstack.org/cgit/openstack/tempest/tree/releasenotes/notes/12/12.1.0-new-test-utils-module-adf34468c4d52719.yaml\n[1] https://review.openstack.org/#/c/578166/\n[2] https://review.openstack.org/#/c/578168/\n[3] e.g. http://git.openstack.org/cgit/openstack/tempest-lib/tree/tempest_lib/common/utils/misc.py\n\nDepends-On: https://review.openstack.org/#/c/578166/\nDepends-On: https://review.openstack.org/#/c/578168/\nChange-Id: I64253af8eb401238aba254d1887d748a68cf32d3\n'}, {'number': 3, 'created': '2018-10-15 20:32:33.000000000', 'files': ['releasenotes/notes/remove-deprecated-find-test-caller-f4525cd043bfd1b6.yaml', 'tempest/lib/common/utils/misc.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a485b094feaa78f3291585f64133ce397f0ebf62', 'message': 'Remove deprecated find_test_caller function\n\nThis patchset removes the long-ago deprecated version of\nfind_test_caller in ``tempest.lib.common.utils.misc.find_test_caller``\nwhich was deprecated during Kilo release cycle in favor of\n``tempest.lib.common.utils.test_utils.find_test_caller`` [0].\n\nThere are a few projects that depend on the old find_test_caller\nfor which patchsets have been submitted to change to the\nnon-deprecated version: [1][2].\n\nOnly remaining place is in openstack/tempest-lib which no longer\nappears to be supported (no activity in a few years) [3].\n\n[0] http://git.openstack.org/cgit/openstack/tempest/tree/releasenotes/notes/12/12.1.0-new-test-utils-module-adf34468c4d52719.yaml\n[1] https://review.openstack.org/#/c/578166/\n[2] https://review.openstack.org/#/c/578168/\n[3] e.g. http://git.openstack.org/cgit/openstack/tempest-lib/tree/tempest_lib/common/utils/misc.py\n\nChange-Id: I64253af8eb401238aba254d1887d748a68cf32d3\n'}]",2,578169,a485b094feaa78f3291585f64133ce397f0ebf62,24,8,3,23186,,,0,"Remove deprecated find_test_caller function

This patchset removes the long-ago deprecated version of
find_test_caller in ``tempest.lib.common.utils.misc.find_test_caller``
which was deprecated during Kilo release cycle in favor of
``tempest.lib.common.utils.test_utils.find_test_caller`` [0].

There are a few projects that depend on the old find_test_caller
for which patchsets have been submitted to change to the
non-deprecated version: [1][2].

Only remaining place is in openstack/tempest-lib which no longer
appears to be supported (no activity in a few years) [3].

[0] http://git.openstack.org/cgit/openstack/tempest/tree/releasenotes/notes/12/12.1.0-new-test-utils-module-adf34468c4d52719.yaml
[1] https://review.openstack.org/#/c/578166/
[2] https://review.openstack.org/#/c/578168/
[3] e.g. http://git.openstack.org/cgit/openstack/tempest-lib/tree/tempest_lib/common/utils/misc.py

Change-Id: I64253af8eb401238aba254d1887d748a68cf32d3
",git fetch https://review.opendev.org/openstack/tempest refs/changes/69/578169/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-deprecated-find-test-caller-f4525cd043bfd1b6.yaml', 'tempest/lib/common/utils/misc.py']",2,d9afe4007cd226807b14087a1d048d783c4037cd,find-test-caller,," def find_test_caller(*args, **kwargs): LOG.warning(""tempest.lib.common.utils.misc.find_test_caller is deprecated "" ""in favor of tempest.lib.common.utils.test_utils."" ""find_test_caller"") test_utils.find_test_caller(*args, **kwargs)",7,7
openstack%2Fnova~master~Ie0051eb03462cefc90312e570da6465ae2403369,openstack/nova,master,Ie0051eb03462cefc90312e570da6465ae2403369,Consider forbidden traits in early exit of _get_by_one_request,ABANDONED,2018-07-20 04:14:48.000000000,2018-10-19 03:26:14.000000000,,"[{'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-20 04:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8b114f9c09cbc91cd475996140e2cfccd95b10b', 'message': ""Consider forbidden traits in early exit of _get_by_one_request\n\nCurrent, if there aren't any providers that have any of the\nrequired traits, just exit early in _get_by_one_request. But\nwe should also consider the forbidden traits to optimize this\nattempt at a quick return.\n\nThis patch makes forbidden traits check work in quick return of\n_get_by_one_request.\n\nChange-Id: Ie0051eb03462cefc90312e570da6465ae2403369\nCloses-bug: #1782690\n""}, {'number': 2, 'created': '2018-07-20 07:21:14.000000000', 'files': ['nova/api/openstack/placement/objects/resource_provider.py', 'nova/tests/functional/api/openstack/placement/db/test_resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/100d4ebe18e25af3957233d8f23ee39819ee14bc', 'message': ""Consider forbidden traits in early exit of _get_by_one_request\n\nCurrent, if there aren't any providers that have any of the\nrequired traits, just exit early in _get_by_one_request. But\nwe should also consider the forbidden traits to optimize this\nattempt at a quick return.\n\nThis patch makes forbidden traits check work in quick return of\n_get_by_one_request.\n\nChange-Id: Ie0051eb03462cefc90312e570da6465ae2403369\nCloses-bug: #1782690\n""}]",17,584218,100d4ebe18e25af3957233d8f23ee39819ee14bc,44,20,2,20722,,,0,"Consider forbidden traits in early exit of _get_by_one_request

Current, if there aren't any providers that have any of the
required traits, just exit early in _get_by_one_request. But
we should also consider the forbidden traits to optimize this
attempt at a quick return.

This patch makes forbidden traits check work in quick return of
_get_by_one_request.

Change-Id: Ie0051eb03462cefc90312e570da6465ae2403369
Closes-bug: #1782690
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/584218/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/placement/objects/resource_provider.py', 'nova/tests/functional/api/openstack/placement/db/test_resource_provider.py']",2,d8b114f9c09cbc91cd475996140e2cfccd95b10b,bug/1782690," def test_get_provider_ids_having_any_trait(self): # Create some resource providers and give them each 0 or more traits. # rp_name_0: no traits # rp_name_1: CUSTOM_TRAIT_A # rp_name_2: CUSTOM_TRAIT_A, CUSTOM_TRAIT_B trait_names = ['CUSTOM_TRAIT_A', 'CUSTOM_TRAIT_B'] rps = [] for rp_i in [0, 1, 2]: rp = self._create_provider('rp_name_' + str(rp_i)) rps.append(rp) if rp_i: traits = trait_names[0:rp_i] traits = tb.set_traits(rp, *traits) traits_map = {t.name: t.id for t in traits} # require A required_traits = {'CUSTOM_TRAIT_A': traits_map['CUSTOM_TRAIT_A']} self.assertEqual( [rps[1].id, rps[2].id], rp_obj._get_provider_ids_having_any_trait(self.ctx, required_traits)) # require A, forbid B forbiden_traits = {'CUSTOM_TRAIT_B': traits_map['CUSTOM_TRAIT_B']} self.assertEqual( [rps[1].id], rp_obj._get_provider_ids_having_any_trait(self.ctx, required_traits, forbiden_traits)) # require A or B required_traits['CUSTOM_TRAIT_B'] = traits_map['CUSTOM_TRAIT_B'] self.assertEqual( [rps[1].id, rps[2].id], rp_obj._get_provider_ids_having_any_trait(self.ctx, required_traits)) ",,53,12
openstack%2Fdiskimage-builder~master~I0f057caf473951df56a2af9633e3a5b53e0809b1,openstack/diskimage-builder,master,I0f057caf473951df56a2af9633e3a5b53e0809b1,Allow debootstrap to cleanup without a kernel,MERGED,2018-09-24 07:37:39.000000000,2018-10-19 03:23:09.000000000,2018-10-19 03:23:09.000000000,"[{'_account_id': 6816}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-24 07:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/41f5320208ba5244273213749c7cf930bdcf8e96', 'message': ""Allow debootstrap to clenaup without a kernel\n\nCurrently there's more-or-less an assumption that a kernel is\ninstalled, so module blacklists are simply echoed into the modprobe\nblacklist.  This may not be the case with some ongoing container work.\n\nAlthough we don't need to blacklist modules for containers, it also\ndoesn't hurt.  Move the debootstrap element to the new modprobe\nelement, and allow it to create the blacklist directory.\n\nChange-Id: I0f057caf473951df56a2af9633e3a5b53e0809b1\n""}, {'number': 2, 'created': '2018-09-24 09:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a84a25e591db2b5c44a017edba259739b6a04331', 'message': ""Allow debootstrap to clenaup without a kernel\n\nCurrently there's more-or-less an assumption that a kernel is\ninstalled, so module blacklists are simply echoed into the modprobe\nblacklist.  This may not be the case with some ongoing container work.\n\nAlthough we don't need to blacklist modules for containers, it also\ndoesn't hurt.  Move the debootstrap element to the new modprobe\nelement, and allow it to create the blacklist directory.\n\nChange-Id: I0f057caf473951df56a2af9633e3a5b53e0809b1\n""}, {'number': 3, 'created': '2018-09-26 00:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8f48249e0d162326b04a32cff5b82dedac4b9ccf', 'message': ""Allow debootstrap to cleanup without a kernel\n\nCurrently there's more-or-less an assumption that a kernel is\ninstalled, so module blacklists are simply echoed into the modprobe\nblacklist.  This may not be the case with some ongoing container work.\n\nAlthough we don't need to blacklist modules for containers, it also\ndoesn't hurt.  Move the debootstrap element to the new modprobe\nelement, and allow it to create the blacklist directory.\n\nChange-Id: I0f057caf473951df56a2af9633e3a5b53e0809b1\n""}, {'number': 4, 'created': '2018-10-08 05:02:41.000000000', 'files': ['diskimage_builder/elements/debootstrap/install.d/15-cleanup-debootstrap', 'diskimage_builder/elements/modprobe/extra-data.d/50-modprobe-blacklist', 'diskimage_builder/elements/debootstrap/element-deps'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/39fb794ebc03087c3a36e7292cf72162e63d7aba', 'message': ""Allow debootstrap to cleanup without a kernel\n\nCurrently there's more-or-less an assumption that a kernel is\ninstalled, so module blacklists are simply echoed into the modprobe\nblacklist.  This may not be the case with some ongoing container work.\n\nAlthough we don't need to blacklist modules for containers, it also\ndoesn't hurt.  Move the debootstrap element to the new modprobe\nelement, and allow it to create the blacklist directory.\n\nChange-Id: I0f057caf473951df56a2af9633e3a5b53e0809b1\n""}]",4,604692,39fb794ebc03087c3a36e7292cf72162e63d7aba,28,5,4,7118,,,0,"Allow debootstrap to cleanup without a kernel

Currently there's more-or-less an assumption that a kernel is
installed, so module blacklists are simply echoed into the modprobe
blacklist.  This may not be the case with some ongoing container work.

Although we don't need to blacklist modules for containers, it also
doesn't hurt.  Move the debootstrap element to the new modprobe
element, and allow it to create the blacklist directory.

Change-Id: I0f057caf473951df56a2af9633e3a5b53e0809b1
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/92/604692/3 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/debootstrap/install.d/15-cleanup-debootstrap', 'diskimage_builder/elements/modprobe/extra-data.d/50-modprobe-blacklist', 'diskimage_builder/elements/debootstrap/element-deps']",3,41f5320208ba5244273213749c7cf930bdcf8e96,ubuntu-modprobe,modprobe,,12,1
openstack%2Fdiskimage-builder~master~I10f28314d1a5969c20094194637cfe31219d228c,openstack/diskimage-builder,master,I10f28314d1a5969c20094194637cfe31219d228c,ubuntu-common: Update default DIB_RELEASE to bionic,MERGED,2018-09-20 01:08:06.000000000,2018-10-19 03:23:08.000000000,2018-10-19 03:23:08.000000000,"[{'_account_id': 6133}, {'_account_id': 6816}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-20 01:08:06.000000000', 'files': ['diskimage_builder/elements/ubuntu-common/environment.d/10-ubuntu-distro-name.bash'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f4c5326b8eb3ac8d52f8e449f8d3b156b1b5fcaa', 'message': 'ubuntu-common: Update default DIB_RELEASE to bionic\n\nThe ubuntu-minimal README states that the latest Ubuntu LTS\nis the default, but currently that is not true. This patch\nchanges the default to the current LTS.\n\nChange-Id: I10f28314d1a5969c20094194637cfe31219d228c\n'}]",0,603940,f4c5326b8eb3ac8d52f8e449f8d3b156b1b5fcaa,13,6,1,6816,,,0,"ubuntu-common: Update default DIB_RELEASE to bionic

The ubuntu-minimal README states that the latest Ubuntu LTS
is the default, but currently that is not true. This patch
changes the default to the current LTS.

Change-Id: I10f28314d1a5969c20094194637cfe31219d228c
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/40/603940/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/ubuntu-common/environment.d/10-ubuntu-distro-name.bash'],1,f4c5326b8eb3ac8d52f8e449f8d3b156b1b5fcaa,systemd-container-elements,export DIB_RELEASE=${DIB_RELEASE:-bionic},export DIB_RELEASE=${DIB_RELEASE:-xenial},1,1
openstack%2Fkolla-ansible~stable%2Frocky~I44d3982233f892d2c0ce3b9964194d8098453978,openstack/kolla-ansible,stable/rocky,I44d3982233f892d2c0ce3b9964194d8098453978,[nova] Fix missing blacklist permission.,MERGED,2018-10-17 14:58:26.000000000,2018-10-19 03:14:15.000000000,2018-10-19 03:14:15.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 28176}]","[{'number': 1, 'created': '2018-10-17 14:58:26.000000000', 'files': ['ansible/roles/nova/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6b372d3b751c8dff9e806d77e858b9224118753a', 'message': '[nova] Fix missing blacklist permission.\n\nThe cephx keys are missing a default permission\nto allow to see blacklisted clients.\n\nThis permission ensures that in the event of a client\ncrash (kill -9/hard shutdown/power outage) the client\ncan re-connect and write to any devices after reboot.\n\nCloses-Bug: 1773449\n\nChange-Id: I44d3982233f892d2c0ce3b9964194d8098453978\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@linaro.org>\n'}]",0,611345,6b372d3b751c8dff9e806d77e858b9224118753a,8,4,1,2276,,,0,"[nova] Fix missing blacklist permission.

The cephx keys are missing a default permission
to allow to see blacklisted clients.

This permission ensures that in the event of a client
crash (kill -9/hard shutdown/power outage) the client
can re-connect and write to any devices after reboot.

Closes-Bug: 1773449

Change-Id: I44d3982233f892d2c0ce3b9964194d8098453978
Signed-off-by: Jorge Niedbalski <jorge.niedbalski@linaro.org>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/45/611345/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/defaults/main.yml'],1,6b372d3b751c8dff9e806d77e858b9224118753a,bug/1773449-stable/rocky," mon: 'allow r, allow command ""osd blacklist""'", mon: 'allow r',1,1
openstack%2Fopenstack-ansible-os_tempest~master~If49c18683034cfcad5746cd12950709d327ae775,openstack/openstack-ansible-os_tempest,master,If49c18683034cfcad5746cd12950709d327ae775,Replace Chinese punctuation with English punctuation,MERGED,2018-09-12 11:12:26.000000000,2018-10-19 03:11:04.000000000,2018-09-12 16:01:01.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-12 11:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/cb605d259371ab3b70ab5e733b97d114191fb514', 'message': 'Replace Chinese punctuation with English punctuation\n\nChange-Id: If49c18683034cfcad5746cd12950709d327ae775\n'}, {'number': 2, 'created': '2018-09-12 13:04:55.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/4e9a6e263d752037af785c418b14762f1af45556', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: If49c18683034cfcad5746cd12950709d327ae775\nCloses-Bug: #1792131\n'}]",0,601993,4e9a6e263d752037af785c418b14762f1af45556,9,2,2,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: If49c18683034cfcad5746cd12950709d327ae775
Closes-Bug: #1792131
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/93/601993/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,cb605d259371ab3b70ab5e733b97d114191fb514,," * If the issue is a bug that needs fixing in a branch other than Master, add the 'backport potential' tag TO THE ISSUE (not the PR)."," * If the issue is a bug that needs fixing in a branch other than Master, add the backport potential tag TO THE ISSUE (not the PR).",1,1
openstack%2Fopenstack-ansible-plugins~master~I8498110ef09f7d85185c61ba5eebe542368f502b,openstack/openstack-ansible-plugins,master,I8498110ef09f7d85185c61ba5eebe542368f502b,Replace Chinese punctuation with English punctuation,MERGED,2018-09-12 11:12:33.000000000,2018-10-19 03:10:58.000000000,2018-09-12 16:01:19.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-12 11:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/be544060ffe116e1e51b4d89cf356bb2ffa99a8b', 'message': 'Replace Chinese punctuation with English punctuation\n\nChange-Id: I8498110ef09f7d85185c61ba5eebe542368f502b\n'}, {'number': 2, 'created': '2018-09-12 13:02:13.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/bd64a778e80fe82d6b40204b30f5c58b2a5a3b6a', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: I8498110ef09f7d85185c61ba5eebe542368f502b\nCloses-Bug: #1792131\n'}]",0,602001,bd64a778e80fe82d6b40204b30f5c58b2a5a3b6a,9,2,2,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: I8498110ef09f7d85185c61ba5eebe542368f502b
Closes-Bug: #1792131
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/01/602001/2 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,be544060ffe116e1e51b4d89cf356bb2ffa99a8b,, add the 'backport potential' tag TO THE ISSUE (not the PR)., add the backport potential tag TO THE ISSUE (not the PR).,1,1
openstack%2Fopenstack-ansible-ops~master~I42ea55f2840eed70fe731119b259a5c625071e5b,openstack/openstack-ansible-ops,master,I42ea55f2840eed70fe731119b259a5c625071e5b,Replace Chinese punctuation with English punctuation,MERGED,2018-09-12 11:12:18.000000000,2018-10-19 03:10:53.000000000,2018-09-12 16:02:00.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-12 11:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/0cd68c26795edfcd22a5efd2293484d45931ee7e', 'message': 'Replace Chinese punctuation with English punctuation\n\nChange-Id: I42ea55f2840eed70fe731119b259a5c625071e5b\n'}, {'number': 2, 'created': '2018-09-12 13:09:45.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/e5b8b8b13a084fa1c8cb5f0f316acf0d02b6febd', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: I42ea55f2840eed70fe731119b259a5c625071e5b\nCloses-Bug: #1792131\n'}]",0,601984,e5b8b8b13a084fa1c8cb5f0f316acf0d02b6febd,9,2,2,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: I42ea55f2840eed70fe731119b259a5c625071e5b
Closes-Bug: #1792131
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/84/601984/2 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,0cd68c26795edfcd22a5efd2293484d45931ee7e,, add the 'backport potential' tag TO THE ISSUE (not the PR)., add the backport potential tag TO THE ISSUE (not the PR).,1,1
openstack%2Fopenstack-ansible-os_panko~master~I3f7f65b6a9a487d62641e10e0d5024b666be8e12,openstack/openstack-ansible-os_panko,master,I3f7f65b6a9a487d62641e10e0d5024b666be8e12,Replace Chinese punctuation with English punctuation,MERGED,2018-09-12 11:12:12.000000000,2018-10-19 03:10:48.000000000,2018-09-12 16:02:08.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-12 11:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/19527b792d834b5e408da682957ab5b1842d4619', 'message': 'Replace Chinese punctuation with English punctuation\n\nChange-Id: I3f7f65b6a9a487d62641e10e0d5024b666be8e12\n'}, {'number': 2, 'created': '2018-09-12 12:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/3fcd9f9c72c76583d8c2bf01b4e049f66c89a705', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nCloses-Bug: #1792131 \n\nChange-Id: I3f7f65b6a9a487d62641e10e0d5024b666be8e12\n'}, {'number': 3, 'created': '2018-09-12 12:52:33.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/06e0a331a1eb1f2dd7e5c62009567dce10563f14', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: I3f7f65b6a9a487d62641e10e0d5024b666be8e12\nCloses-Bug: #1792131\n'}]",0,601976,06e0a331a1eb1f2dd7e5c62009567dce10563f14,10,2,3,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: I3f7f65b6a9a487d62641e10e0d5024b666be8e12
Closes-Bug: #1792131
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_panko refs/changes/76/601976/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,19527b792d834b5e408da682957ab5b1842d4619,," * If the issue is a bug that needs fixing in a branch other than Master, add the 'backport potential' tag TO THE ISSUE (not the PR)."," * If the issue is a bug that needs fixing in a branch other than Master, add the backport potential tag TO THE ISSUE (not the PR).",1,1
openstack%2Fopenstack-ansible-os_horizon~master~I6eb6575e3460fa581e771444f9281b4bab95c98b,openstack/openstack-ansible-os_horizon,master,I6eb6575e3460fa581e771444f9281b4bab95c98b,Replace Chinese punctuation with English punctuation,MERGED,2018-09-12 11:12:20.000000000,2018-10-19 03:10:43.000000000,2018-09-12 16:02:07.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-12 11:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/b844e85117afb0b066417a2038aa221dbad54ac7', 'message': 'Replace Chinese punctuation with English punctuation\n\nChange-Id: I6eb6575e3460fa581e771444f9281b4bab95c98b\n'}, {'number': 2, 'created': '2018-09-12 13:00:35.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/500057a4f1e0f68fde16b94bfd3435488c8662e8', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: I6eb6575e3460fa581e771444f9281b4bab95c98b\nCloses-Bug: #1792131\n'}]",0,601987,500057a4f1e0f68fde16b94bfd3435488c8662e8,9,2,2,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: I6eb6575e3460fa581e771444f9281b4bab95c98b
Closes-Bug: #1792131
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/87/601987/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,b844e85117afb0b066417a2038aa221dbad54ac7,," * If the issue is a bug that needs fixing in a branch other than Master, add the 'backport potential' tag TO THE ISSUE (not the PR)."," * If the issue is a bug that needs fixing in a branch other than Master, add the backport potential tag TO THE ISSUE (not the PR).",1,1
openstack%2Fopenstack-ansible-galera_client~master~I4242b9379ca48a7ef82e8dbd165d9192c28d7dcd,openstack/openstack-ansible-galera_client,master,I4242b9379ca48a7ef82e8dbd165d9192c28d7dcd,Replace Chinese punctuation with English punctuation,MERGED,2018-09-12 11:12:33.000000000,2018-10-19 03:10:36.000000000,2018-09-12 16:02:09.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-12 11:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/f2d7a5d0b643ea57bba76d194308630f9b1b37d8', 'message': 'Replace Chinese punctuation with English punctuation\n\nChange-Id: I4242b9379ca48a7ef82e8dbd165d9192c28d7dcd\n'}, {'number': 2, 'created': '2018-09-12 13:01:05.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/c2e7e08a24f1b6ce6cf47fe82cd1266230e2b171', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: I4242b9379ca48a7ef82e8dbd165d9192c28d7dcd\nCloses-Bug: #1792131\n'}]",0,602002,c2e7e08a24f1b6ce6cf47fe82cd1266230e2b171,9,2,2,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: I4242b9379ca48a7ef82e8dbd165d9192c28d7dcd
Closes-Bug: #1792131
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/02/602002/2 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,f2d7a5d0b643ea57bba76d194308630f9b1b37d8,, add the 'backport potential' tag TO THE ISSUE (not the PR)., add the backport potential tag TO THE ISSUE (not the PR).,1,1
openstack%2Fopenstack-ansible-os_gnocchi~master~I0c1f16d6994844a60aa033963dc745f5fde8cce8,openstack/openstack-ansible-os_gnocchi,master,I0c1f16d6994844a60aa033963dc745f5fde8cce8,Replace Chinese punctuation with English punctuation,MERGED,2018-09-12 11:12:16.000000000,2018-10-19 03:10:29.000000000,2018-09-12 16:02:54.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-12 11:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/2de52b470cb5ead3704cf1adae8a1ad45dfa550f', 'message': 'Replace Chinese punctuation with English punctuation\n\nChange-Id: I0c1f16d6994844a60aa033963dc745f5fde8cce8\n'}, {'number': 2, 'created': '2018-09-12 13:02:01.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/93db3603c24967608af69421cecb15afeaddde72', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: I0c1f16d6994844a60aa033963dc745f5fde8cce8\nCloses-Bug: #1792131\n'}]",0,601983,93db3603c24967608af69421cecb15afeaddde72,9,2,2,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: I0c1f16d6994844a60aa033963dc745f5fde8cce8
Closes-Bug: #1792131
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/83/601983/2 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,2de52b470cb5ead3704cf1adae8a1ad45dfa550f,," * If the issue is a bug that needs fixing in a branch other than Master, add the 'backport potential' tag TO THE ISSUE (not the PR)."," * If the issue is a bug that needs fixing in a branch other than Master, add the backport potential tag TO THE ISSUE (not the PR).",1,1
openstack%2Fopenstack-ansible-os_gnocchi~stable%2Frocky~I9d70ec2b84cfb1ccd465e52c96addfadf248f3d1,openstack/openstack-ansible-os_gnocchi,stable/rocky,I9d70ec2b84cfb1ccd465e52c96addfadf248f3d1,use include_tasks instead of include,MERGED,2018-10-10 07:32:24.000000000,2018-10-19 03:10:07.000000000,2018-10-19 03:10:07.000000000,"[{'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-10-10 07:32:24.000000000', 'files': ['tasks/main.yml', 'tests/test-install-gnocchi.yml', 'tests/test.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/13414170d5b36429c179d00fcf1a7a8a147de2ec', 'message': 'use include_tasks instead of include\n\ninclude is marked as deprecated since ansible 2.4[0]\n\nSwitch to include_tasks or import_playbook as necessary\n\n[0] https://docs.ansible.com/ansible/2.4/include_module.html#deprecated\n\nChange-Id: I9d70ec2b84cfb1ccd465e52c96addfadf248f3d1\n(cherry picked from commit 1ccaa81bc7b12d637a1f6dcaa92ee5c66e9fbe9e)\n'}]",0,609297,13414170d5b36429c179d00fcf1a7a8a147de2ec,11,5,1,22165,,,0,"use include_tasks instead of include

include is marked as deprecated since ansible 2.4[0]

Switch to include_tasks or import_playbook as necessary

[0] https://docs.ansible.com/ansible/2.4/include_module.html#deprecated

Change-Id: I9d70ec2b84cfb1ccd465e52c96addfadf248f3d1
(cherry picked from commit 1ccaa81bc7b12d637a1f6dcaa92ee5c66e9fbe9e)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/97/609297/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tests/test-install-gnocchi.yml', 'tests/test.yml']",3,13414170d5b36429c179d00fcf1a7a8a147de2ec,,- import_playbook: common/test-setup-host.yml- import_playbook: common/test-install-infra.yml- import_playbook: common/test-install-keystone.yml- import_playbook: test-install-gnocchi.yml- import_playbook: test-gnocchi-functional.yml,- include: common/test-setup-host.yml- include: common/test-install-infra.yml- include: common/test-install-keystone.yml- include: test-install-gnocchi.yml- include: test-gnocchi-functional.yml,15,18
openstack%2Fpuppet-tripleo~stable%2Fqueens~Ibdad7859a389d0ff37bbf7bfd9f4c521a05a5ea1,openstack/puppet-tripleo,stable/queens,Ibdad7859a389d0ff37bbf7bfd9f4c521a05a5ea1,Copytruncate containerized logrotate configuration,MERGED,2018-10-03 09:33:37.000000000,2018-10-19 03:08:25.000000000,2018-10-19 03:08:25.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9257}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-03 09:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/86ff7007fe0cfbfbdb1fa1031c84e829573d9ee5', 'message': 'Copytruncate containerized logrotate configuration\n\nThis reimplements commit 67a7dc70f2885b7db2a42bc28c25ece0bbeba3e4.\nCopytruncate becomes a default for containerized logrotate. The\nsolution based on signals processing becomes a mutual exclusive and\nopted-out alternative to copytruncate.\n\nAs long as key deployment framework components heat-engine and\nmistral-engine do not tolerate SIGHUP and drop their tasks in\nprogress on floor, copytruncate should be used.\n\nThere is more openstack services, like neutron-server, nova-scheduler\nthat cannot handle SIGHUP nicely yet.\n\nAll of that makes copytruncate a global choice for logs rotation of\ncontainerized services as we just cannont be sure, if a service foo\n*really* does correct processing of SIGHUP. We keep that option for\nfuture in the hope things get fixed eventually.\n\nCloses-Bug: #1795411\nRelated-Bug: #1276694\nChange-Id: Ibdad7859a389d0ff37bbf7bfd9f4c521a05a5ea1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 7a33fd7b65dc96df4189737a00d8a7050c36e75c)\n'}, {'number': 2, 'created': '2018-10-03 12:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e5b4beb6bffaa1b3778a8a409e808adeefadf405', 'message': 'Copytruncate containerized logrotate configuration\n\nThis reimplements commit 67a7dc70f2885b7db2a42bc28c25ece0bbeba3e4.\nCopytruncate becomes a default for containerized logrotate. The\nsolution based on signals processing goes away.\n\nAs long as key deployment framework components heat-engine and\nmistral-engine do not tolerate SIGHUP copytruncate should be used.\n\nThere is more openstack services, like neutron-server, nova-scheduler\nthat cannot handle SIGHUP nicely yet.\n\nAll of that makes copytruncate a global choice for logs rotation of\ncontainerized services as we just cannont be sure, if a service foo\n*really* does correct processing of SIGHUP. We leave that option for\nfuture implementation in the hope things get fixed eventually.\n\nCloses-Bug: #1795411\nRelated-Bug: #1276694\nChange-Id: Ibdad7859a389d0ff37bbf7bfd9f4c521a05a5ea1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 7a33fd7b65dc96df4189737a00d8a7050c36e75c)\n'}, {'number': 3, 'created': '2018-10-03 12:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0717c22e95f2eeda78b8a0aecc2cc4eb2d275e48', 'message': 'Copytruncate containerized logrotate configuration\n\nThis reimplements commit 67a7dc70f2885b7db2a42bc28c25ece0bbeba3e4.\nCopytruncate becomes a default for containerized logrotate. The\nsolution based on signals processing goes away.\n\nAs long as key deployment framework components heat-engine and\nmistral-engine do not tolerate SIGHUP copytruncate should be used.\n\nThere is more openstack services, like neutron-server, nova-scheduler\nthat cannot handle SIGHUP nicely yet.\n\nAll of that makes copytruncate a global choice for logs rotation of\ncontainerized services as we just cannont be sure, if a service foo\n*really* does correct processing of SIGHUP. We leave that option for\nfuture implementation in the hope things get fixed eventually.\n\nCloses-Bug: #1795411\nRelated-Bug: #1276694\nChange-Id: Ibdad7859a389d0ff37bbf7bfd9f4c521a05a5ea1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit a3524108977777c7b171086fcd4f4a627d215cb3)\n'}, {'number': 4, 'created': '2018-10-03 12:52:26.000000000', 'files': ['templates/logrotate/containers_logrotate.conf.erb', 'manifests/profile/base/logging/logrotate.pp', 'releasenotes/notes/logrotate-copytruncate-hourly-f0851bec551f5f5f.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/59a1e9a4ce8d23374f578ca0484979b8ea376a80', 'message': ""Copytruncate containerized logrotate configuration\n\nThis reimplements commit 67a7dc70f2885b7db2a42bc28c25ece0bbeba3e4.\nCopytruncate becomes a default for containerized logrotate. The\nsolution based on signals processing goes away.\n\nAs long as key deployment framework components heat-engine and\nmistral-engine do not tolerate SIGHUP copytruncate should be used.\n\nThere is more openstack services, like neutron-server, nova-scheduler\nthat cannot handle SIGHUP nicely yet.\n\nNor can we fall back to that predates the containerization of services\nbecause of the following reasons:\n\n* We cannot and should not use the restart command in postrotate as it\n  was before containerization of services. For that a container needs\n  to be privileged and granted a docker socket bind-mount, which is a\n  total security antipattern and defeats the very purpose of\n  containerization. Things may change with future adoption of Podman\n  and/or kubelet control plane though. If/when that happens, we might\n  consider an option for postrotate to terminate a process with\n  SIGTERM, to have the process instantly respawned via its systemd\n  unit/kubelet restart policies.\n\n* Individual services' logrotate configs worth nothing, when still\n  being handled by a central logrotation container running crond. And\n  it needs to remain centralized as individual containers neither do\n  run crond nor contain logrotate, nor lightweight containers following\n  12-factors apps recommendations should do anything like that. Nor the\n  host logrotate/crond can do rotation of logs for containers as we do/\n  should not install required packages on the host, but only in\n  containers. See also the spec [0] explaining the reasoning better.\n\nAll of that makes copytruncate a global choice for logs rotation of\ncontainerized services as we just cannont be sure, if a service foo\n*really* does correct processing of SIGHUP. We leave that option for\nfuture implementation in the hope things get fixed eventually. As well\nas the aforementioned systemd/kublet option, or the option to provide\nstdout only logging [0] and let the logrotate thing go.\n\n[0] https://review.openstack.org/#/c/462900\n\nCloses-Bug: #1795411\nRelated-Bug: #1276694\nChange-Id: Ibdad7859a389d0ff37bbf7bfd9f4c521a05a5ea1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 2b223de04b26210cc865c3f6061d8d139859f34c)\n""}]",0,607510,59a1e9a4ce8d23374f578ca0484979b8ea376a80,21,5,4,6926,,,0,"Copytruncate containerized logrotate configuration

This reimplements commit 67a7dc70f2885b7db2a42bc28c25ece0bbeba3e4.
Copytruncate becomes a default for containerized logrotate. The
solution based on signals processing goes away.

As long as key deployment framework components heat-engine and
mistral-engine do not tolerate SIGHUP copytruncate should be used.

There is more openstack services, like neutron-server, nova-scheduler
that cannot handle SIGHUP nicely yet.

Nor can we fall back to that predates the containerization of services
because of the following reasons:

* We cannot and should not use the restart command in postrotate as it
  was before containerization of services. For that a container needs
  to be privileged and granted a docker socket bind-mount, which is a
  total security antipattern and defeats the very purpose of
  containerization. Things may change with future adoption of Podman
  and/or kubelet control plane though. If/when that happens, we might
  consider an option for postrotate to terminate a process with
  SIGTERM, to have the process instantly respawned via its systemd
  unit/kubelet restart policies.

* Individual services' logrotate configs worth nothing, when still
  being handled by a central logrotation container running crond. And
  it needs to remain centralized as individual containers neither do
  run crond nor contain logrotate, nor lightweight containers following
  12-factors apps recommendations should do anything like that. Nor the
  host logrotate/crond can do rotation of logs for containers as we do/
  should not install required packages on the host, but only in
  containers. See also the spec [0] explaining the reasoning better.

All of that makes copytruncate a global choice for logs rotation of
containerized services as we just cannont be sure, if a service foo
*really* does correct processing of SIGHUP. We leave that option for
future implementation in the hope things get fixed eventually. As well
as the aforementioned systemd/kublet option, or the option to provide
stdout only logging [0] and let the logrotate thing go.

[0] https://review.openstack.org/#/c/462900

Closes-Bug: #1795411
Related-Bug: #1276694
Change-Id: Ibdad7859a389d0ff37bbf7bfd9f4c521a05a5ea1
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 2b223de04b26210cc865c3f6061d8d139859f34c)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/10/607510/4 && git format-patch -1 --stdout FETCH_HEAD,"['templates/logrotate/containers_logrotate.conf.erb', 'manifests/profile/base/logging/logrotate.pp', 'releasenotes/notes/logrotate-copytruncate-hourly-f0851bec551f5f5f.yaml']",3,86ff7007fe0cfbfbdb1fa1031c84e829573d9ee5,bug/1276694-stable/queens,--- upgrade: - | Logrotate's copytruncate is used by default for containerized services logs rotation. The default period to keep old logs remains unchanged (14 days). ,,15,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I584cdb03b99721fbdc28bf7f6019d914586341d2,openstack/tripleo-heat-templates,stable/rocky,I584cdb03b99721fbdc28bf7f6019d914586341d2,Disable Swift auditors/replicators on undercloud,MERGED,2018-10-16 08:53:18.000000000,2018-10-19 03:08:23.000000000,2018-10-19 03:08:23.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-16 08:53:18.000000000', 'files': ['docker/services/swift-storage.yaml', 'environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f0975a52c33abcb4ad74a246837b321de3b4ffc', 'message': ""Disable Swift auditors/replicators on undercloud\n\nMaintain parity with instack-undercloud\nIc93082282e9ea481c13832f8ce1265a47f0ef3d5\n\nSwift is using only a single replica on the undercloud. Therefore\nrecovering from a corrupted or lost object is not possible, and running\nreplicators and auditors only wastes resources. And may create some\ntrouble. For example, the DB replicators and auditors will lock the DB,\nand new objects won't be stored during that time.\n\nRelated-Bug: #1632885\nCloses-Bug: #1797167\n\nChange-Id: I584cdb03b99721fbdc28bf7f6019d914586341d2\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 47f93e1792a99f2226b5842978cd99dd2d9ef3fb)\n""}]",0,610909,9f0975a52c33abcb4ad74a246837b321de3b4ffc,11,5,1,6926,,,0,"Disable Swift auditors/replicators on undercloud

Maintain parity with instack-undercloud
Ic93082282e9ea481c13832f8ce1265a47f0ef3d5

Swift is using only a single replica on the undercloud. Therefore
recovering from a corrupted or lost object is not possible, and running
replicators and auditors only wastes resources. And may create some
trouble. For example, the DB replicators and auditors will lock the DB,
and new objects won't be stored during that time.

Related-Bug: #1632885
Closes-Bug: #1797167

Change-Id: I584cdb03b99721fbdc28bf7f6019d914586341d2
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 47f93e1792a99f2226b5842978cd99dd2d9ef3fb)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/09/610909/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/swift-storage.yaml', 'environments/undercloud.yaml']",2,9f0975a52c33abcb4ad74a246837b321de3b4ffc,bug/1797167, SwiftReplicas: 1,,232,218
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I6d7ac0630cc586794469ab5c572933825de0dc20,openstack/tripleo-heat-templates,stable/queens,I6d7ac0630cc586794469ab5c572933825de0dc20,Set octavia log directory permissions to octavia user,MERGED,2018-10-17 00:46:07.000000000,2018-10-19 03:08:21.000000000,2018-10-19 03:08:21.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-17 00:46:07.000000000', 'files': ['docker/services/octavia-health-manager.yaml', 'docker/services/octavia-api.yaml', 'docker/services/octavia-worker.yaml', 'docker/services/octavia-housekeeping.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af94489852ea53f4ca8f5419c73565555bf91619', 'message': 'Set octavia log directory permissions to octavia user\n\nThe octavia services need to set the owner of their log directories and\nfiles to the octavia user.\n\nCloses-Bug: #1796934\n\nChange-Id: I6d7ac0630cc586794469ab5c572933825de0dc20\n(cherry picked from commit 5c8617beb825fb03544c1df95be562f4dddb58ce)\n'}]",0,611207,af94489852ea53f4ca8f5419c73565555bf91619,13,5,1,6681,,,0,"Set octavia log directory permissions to octavia user

The octavia services need to set the owner of their log directories and
files to the octavia user.

Closes-Bug: #1796934

Change-Id: I6d7ac0630cc586794469ab5c572933825de0dc20
(cherry picked from commit 5c8617beb825fb03544c1df95be562f4dddb58ce)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/611207/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/octavia-health-manager.yaml', 'docker/services/octavia-api.yaml', 'docker/services/octavia-worker.yaml', 'docker/services/octavia-housekeeping.yaml']",4,af94489852ea53f4ca8f5419c73565555bf91619,bug/1796934, permissions: - path: /var/log/octavia owner: octavia:octavia recurse: true,,16,0
openstack%2Fnova~stable%2Frocky~Id02f501feefca358d36f39b24d426537685e425c,openstack/nova,stable/rocky,Id02f501feefca358d36f39b24d426537685e425c,Ignore uuid if already set in ComputeNode.update_from_virt_driver,MERGED,2018-10-17 14:26:58.000000000,2018-10-19 03:04:07.000000000,2018-10-19 03:04:07.000000000,"[{'_account_id': 136}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 14:26:58.000000000', 'files': ['nova/tests/unit/objects/test_compute_node.py', 'nova/objects/compute_node.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/57566f4c8d2929c25e76564883369a7c6eda720a', 'message': ""Ignore uuid if already set in ComputeNode.update_from_virt_driver\n\nChange Ia69fabce8e7fd7de101e291fe133c6f5f5f7056a sets the\nComputeNode.uuid to whatever the virt driver reports if the\nvirt driver reports a uuid, like in the case of ironic.\n\nHowever, that breaks upgrades for any pre-existing compute\nnode records which have a random uuid since ComputeNode.uuid\nis a read-only field once set.\n\nThis change simply ignores the uuid from the virt driver\nresources dict if the ComputeNode.uuid is already set.\n\nThe bug actually shows up in the ironic grenade CI job\nlogs in stable/rocky but didn't fail the nova-compute startup\nbecause ComputeManager._update_available_resource_for_node()\ncatches and just logs the error, but it doesn't kill the service.\n\nChange-Id: Id02f501feefca358d36f39b24d426537685e425c\nCloses-Bug: #1798172\n(cherry picked from commit 498413074d1f11688123b6b592d5c204dc7b5ef2)\n""}]",0,611337,57566f4c8d2929c25e76564883369a7c6eda720a,14,10,1,26936,,,0,"Ignore uuid if already set in ComputeNode.update_from_virt_driver

Change Ia69fabce8e7fd7de101e291fe133c6f5f5f7056a sets the
ComputeNode.uuid to whatever the virt driver reports if the
virt driver reports a uuid, like in the case of ironic.

However, that breaks upgrades for any pre-existing compute
node records which have a random uuid since ComputeNode.uuid
is a read-only field once set.

This change simply ignores the uuid from the virt driver
resources dict if the ComputeNode.uuid is already set.

The bug actually shows up in the ironic grenade CI job
logs in stable/rocky but didn't fail the nova-compute startup
because ComputeManager._update_available_resource_for_node()
catches and just logs the error, but it doesn't kill the service.

Change-Id: Id02f501feefca358d36f39b24d426537685e425c
Closes-Bug: #1798172
(cherry picked from commit 498413074d1f11688123b6b592d5c204dc7b5ef2)
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/611337/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/compute_node.py', 'nova/tests/unit/objects/test_compute_node.py']",2,57566f4c8d2929c25e76564883369a7c6eda720a,bug/1798172," def test_update_from_virt_driver_uuid_already_set(self): """"""Tests update_from_virt_driver where the compute node object already has a uuid value so the uuid from the virt driver is ignored. """""" # copy in case the update has a side effect resources = copy.deepcopy(fake_resources) # Emulate the ironic driver which adds a uuid field. resources['uuid'] = uuidsentinel.node_uuid compute = compute_node.ComputeNode(uuid=uuidsentinel.something_else) compute.update_from_virt_driver(resources) expected = fake_compute_with_resources.obj_clone() expected.uuid = uuidsentinel.something_else self.assertTrue(base.obj_equal_prims(expected, compute)) ",,19,0
openstack%2Freleases~master~I779bd06d4d92b7b9ec0d10b84aaf7aac7840279b,openstack/releases,master,I779bd06d4d92b7b9ec0d10b84aaf7aac7840279b,Release openstackdocstheme 1.26.0,MERGED,2018-10-16 23:46:47.000000000,2018-10-19 03:01:39.000000000,2018-10-19 03:01:39.000000000,"[{'_account_id': 970}, {'_account_id': 6547}, {'_account_id': 12898}, {'_account_id': 15334}, {'_account_id': 20156}, {'_account_id': 22348}, {'_account_id': 22440}, {'_account_id': 28285}]","[{'number': 1, 'created': '2018-10-16 23:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/76cf3de163a20dc6c1dda61cb53c146106227a73', 'message': 'Release openstackdocstheme 1.26.0\n\nRelease 1.26.0 specifically to get 3c5947d to aid in the migration of\nthe election repo.  As the starlingxdocs theme is also added in this\nrelease it doesn\'t qualify for a patch version.\n\n git lol 1.25.1..origin/master\n *   db99f40 (origin/master, origin/HEAD, gerrit/master) Merge ""Remove example of deprecated app.info""\n |\\\n | * 4878259 Remove example of deprecated app.info\n * | 3c5947d Add scripts to the head section\n |/\n * b016626 Add starlingxdocs theme support\n * 99422ca Merge ""Import build-openstack-api-ref""\n * 7e4bc8c Import build-openstack-api-ref\n\nChange-Id: I779bd06d4d92b7b9ec0d10b84aaf7aac7840279b\n'}, {'number': 2, 'created': '2018-10-18 15:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1992e6b9e1527eb762ab0637f5dc3d3e0ddda406', 'message': 'Release openstackdocstheme 1.26.0\n\nRelease 1.26.0 specifically to get 3c5947d to aid in the migration of\nthe election repo.  As the starlingxdocs theme is also added in this\nrelease it doesn\'t qualify for a patch version.\n\n git lol 1.25.1..origin/master\n *   db99f40 (origin/master, origin/HEAD, gerrit/master) Merge ""Remove example of deprecated app.info""\n |\\\n | * 4878259 Remove example of deprecated app.info\n * | 3c5947d Add scripts to the head section\n |/\n * b016626 Add starlingxdocs theme support\n * 99422ca Merge ""Import build-openstack-api-ref""\n * 7e4bc8c Import build-openstack-api-ref\n\nChange-Id: I779bd06d4d92b7b9ec0d10b84aaf7aac7840279b\n'}, {'number': 3, 'created': '2018-10-19 02:44:09.000000000', 'files': ['deliverables/_independent/openstackdocstheme.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d5d0b529bdf6f43bf11a22fc3839aa31a46df87d', 'message': 'Release openstackdocstheme 1.26.0\n\nRelease 1.26.0 specifically to get 3c5947d to aid in the migration of\nthe election repo.  As the starlingxdocs theme is also added in this\nrelease it doesn\'t qualify for a patch version.\n\n git lol 1.25.1..origin/master\n * 4ed01cd (origin/master, origin/HEAD, gerrit/master) Make a bare-bones starlingxdocs theme\n *   db99f40 Merge ""Remove example of deprecated app.info""\n |\\\n | * 4878259 Remove example of deprecated app.info\n * | 3c5947d Add scripts to the head section\n |/\n * b016626 Add starlingxdocs theme support\n * 99422ca Merge ""Import build-openstack-api-ref""\n * 7e4bc8c Import build-openstack-api-ref\n\nChange-Id: I779bd06d4d92b7b9ec0d10b84aaf7aac7840279b\n'}]",1,611198,d5d0b529bdf6f43bf11a22fc3839aa31a46df87d,17,8,3,12898,,,0,"Release openstackdocstheme 1.26.0

Release 1.26.0 specifically to get 3c5947d to aid in the migration of
the election repo.  As the starlingxdocs theme is also added in this
release it doesn't qualify for a patch version.

 git lol 1.25.1..origin/master
 * 4ed01cd (origin/master, origin/HEAD, gerrit/master) Make a bare-bones starlingxdocs theme
 *   db99f40 Merge ""Remove example of deprecated app.info""
 |\
 | * 4878259 Remove example of deprecated app.info
 * | 3c5947d Add scripts to the head section
 |/
 * b016626 Add starlingxdocs theme support
 * 99422ca Merge ""Import build-openstack-api-ref""
 * 7e4bc8c Import build-openstack-api-ref

Change-Id: I779bd06d4d92b7b9ec0d10b84aaf7aac7840279b
",git fetch https://review.opendev.org/openstack/releases refs/changes/98/611198/3 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/openstackdocstheme.yaml'],1,76cf3de163a20dc6c1dda61cb53c146106227a73,, - projects: - hash: db99f407fed9b8423bc18eea457fd7b692ca120f repo: openstack/openstackdocstheme version: 1.26.0,,4,0
openstack%2Fdiskimage-builder~master~Ia4e620f7d3fa6215484a8d218cea2f28bd1ffaee,openstack/diskimage-builder,master,Ia4e620f7d3fa6215484a8d218cea2f28bd1ffaee,Move common ubuntu environment setting to ubuntu-common element,MERGED,2018-04-23 18:34:32.000000000,2018-10-19 02:50:36.000000000,2018-10-19 02:50:36.000000000,"[{'_account_id': 6133}, {'_account_id': 6816}, {'_account_id': 7118}, {'_account_id': 10035}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-23 18:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9a7c1b862a6951d0e63a31a2455b1fe60d1b2a72', 'message': 'Move common ubuntu environment setting to ubuntu-common element\n\nThe ubuntu, and ubuntu-minimal elements both make use of a common set\nof environment settings to determine the distribution name.\n\nThe ubuntu-minimal element also does a few extra things which would\nappear to apply to both sets and bring in extra architecture support.\nAs such, these are included in the common element.\n\nChange-Id: Ia4e620f7d3fa6215484a8d218cea2f28bd1ffaee\n'}, {'number': 2, 'created': '2018-04-23 18:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2c3b39119f4b457aa5690ab7f06563c67bceb334', 'message': 'Move common ubuntu environment setting to ubuntu-common element\n\nThe ubuntu, and ubuntu-minimal elements both make use of a common set\nof environment settings to determine the distribution name.\n\nThe ubuntu-minimal element also does a few extra things which would\nappear to apply to both sets and bring in extra architecture support.\nAs such, these are included in the common element.\n\nThis intends to be part of a series of patches which will eventually\ncreate a new element to build a minimal ubuntu-systemd-container\nelement which can be used for lxc/nspawn containers.\n\nChange-Id: Ia4e620f7d3fa6215484a8d218cea2f28bd1ffaee\n'}, {'number': 3, 'created': '2018-04-26 08:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9d6ec0216aa44d4accdb80f90511a14ba6384efd', 'message': 'Move common ubuntu environment setting to ubuntu-common element\n\nThe ubuntu, and ubuntu-minimal elements both make use of a common set\nof environment settings to determine the distribution name.\n\nThe ubuntu-minimal element also does a few extra things which would\nappear to apply to both sets and bring in extra architecture support.\nAs such, these are included in the common element.\n\nThis intends to be part of a series of patches which will eventually\ncreate a new element to build a minimal ubuntu-systemd-container\nelement which can be used for lxc/nspawn containers.\n\nChange-Id: Ia4e620f7d3fa6215484a8d218cea2f28bd1ffaee\n'}, {'number': 4, 'created': '2018-09-20 00:04:55.000000000', 'files': ['diskimage_builder/elements/ubuntu/environment.d/10-ubuntu-distro-name.bash', 'diskimage_builder/elements/ubuntu-common/environment.d/10-ubuntu-distro-name.bash'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/30493f7655ec326699f885ef5f70c801cb6a7d0c', 'message': 'Move common ubuntu environment setting to ubuntu-common element\n\nThe ubuntu, and ubuntu-minimal elements both make use of a common set\nof environment settings to determine the distribution name.\n\nThe ubuntu-minimal element also does a few extra things which would\nappear to apply to both sets and bring in extra architecture support.\nAs such, these are included in the common element.\n\nThis intends to be part of a series of patches which will eventually\ncreate a new element to build a minimal ubuntu-systemd-container\nelement which can be used for lxc/nspawn containers.\n\nChange-Id: Ia4e620f7d3fa6215484a8d218cea2f28bd1ffaee\n'}]",2,563731,30493f7655ec326699f885ef5f70c801cb6a7d0c,31,7,4,6816,,,0,"Move common ubuntu environment setting to ubuntu-common element

The ubuntu, and ubuntu-minimal elements both make use of a common set
of environment settings to determine the distribution name.

The ubuntu-minimal element also does a few extra things which would
appear to apply to both sets and bring in extra architecture support.
As such, these are included in the common element.

This intends to be part of a series of patches which will eventually
create a new element to build a minimal ubuntu-systemd-container
element which can be used for lxc/nspawn containers.

Change-Id: Ia4e620f7d3fa6215484a8d218cea2f28bd1ffaee
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/31/563731/4 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/ubuntu/environment.d/10-ubuntu-distro-name.bash', 'diskimage_builder/elements/ubuntu-common/environment.d/10-ubuntu-distro-name.bash']",2,9a7c1b862a6951d0e63a31a2455b1fe60d1b2a72,systemd-container-elements,,,0,2
openstack%2Ftripleo-heat-templates~master~I6eb8cb62d337fa4f6e6542391de251519e246923,openstack/tripleo-heat-templates,master,I6eb8cb62d337fa4f6e6542391de251519e246923,Use nova_api DB for [placement_database] -> connection,MERGED,2018-10-10 15:14:16.000000000,2018-10-19 02:29:06.000000000,2018-10-19 02:29:06.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 10135}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-10-10 15:14:16.000000000', 'files': ['puppet/services/nova-base.yaml', 'releasenotes/notes/nova_use_nova_api_db_for_placement-eea44dd48c768f04.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f290a925339abe3ce3bee0a7800bcceb70f4f240', 'message': 'Use nova_api DB for [placement_database] -> connection\n\nWith OOO we configure a separate DB for placement for the undercloud and\novercloud since the beginning.\nBut the placement_database config options were reverted with\nhttps://review.openstack.org/#/c/442762/1 , which means so far even if\nthe config option was set, it was not used. With rocky the options were\nintroduced again which is not a problem on a fresh installed env, but on\nupgrades from queens to rocky.\nWe should use the same DB for both fresh deployments on and upgrades to\nrocky before we switch to the new DB as part of the extraction of placement.\n\nCloses-Bug: #1797119\n\nChange-Id: I6eb8cb62d337fa4f6e6542391de251519e246923\n'}]",0,609452,f290a925339abe3ce3bee0a7800bcceb70f4f240,32,12,1,17216,,,0,"Use nova_api DB for [placement_database] -> connection

With OOO we configure a separate DB for placement for the undercloud and
overcloud since the beginning.
But the placement_database config options were reverted with
https://review.openstack.org/#/c/442762/1 , which means so far even if
the config option was set, it was not used. With rocky the options were
introduced again which is not a problem on a fresh installed env, but on
upgrades from queens to rocky.
We should use the same DB for both fresh deployments on and upgrades to
rocky before we switch to the new DB as part of the extraction of placement.

Closes-Bug: #1797119

Change-Id: I6eb8cb62d337fa4f6e6542391de251519e246923
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/609452/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/nova-base.yaml', 'releasenotes/notes/nova_use_nova_api_db_for_placement-eea44dd48c768f04.yaml']",2,f290a925339abe3ce3bee0a7800bcceb70f4f240,bug/1797119,"--- fixes: - | With OOO we configure a separate DB for placement for the undercloud and overcloud since the beginning. But the placement_database config options were reverted with https://review.openstack.org/#/c/442762/1 , which means so far even if the config option was set, it was not used. With rocky the options were introduced again which is not a problem on a fresh installed env, but on upgrades from queens to rocky. We should use the same DB for both fresh deployments on and upgrades to rocky before we switch to the new DB as part of the extraction of placement. ",,14,2
openstack%2Ftripleo-quickstart~master~Ib146eaaefb202f1303454b5b86a33b6de8a096f1,openstack/tripleo-quickstart,master,Ib146eaaefb202f1303454b5b86a33b6de8a096f1,Add ctlplane_masquerade for fs21 failing in ovb for ntp issue,MERGED,2018-10-12 11:32:23.000000000,2018-10-19 02:29:05.000000000,2018-10-19 02:29:05.000000000,"[{'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-10-12 11:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/da133c4862793f597b5c5c796d0416fe5c72a1d9', 'message': ""Add ctlplane_masquerade for fs21 failing in ovb for ntp issue\n\nThis adds ctlplane_masquerade: true for f21 which is used by\nperiodic-tripleo-ci-centos-7-ovb-1ctlr_1comp-featureset021-master\nAs reported in the bug below this job fails as the compute node\ncan't real pool.ntp.org\n\nChange-Id: Ib146eaaefb202f1303454b5b86a33b6de8a096f1\nRelated-Bug: TODO\n""}, {'number': 2, 'created': '2018-10-12 13:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/708722de475e0a80dd1221b60fea3f542877d0fa', 'message': ""Add ctlplane_masquerade for fs21 failing in ovb for ntp issue\n\nThis adds ctlplane_masquerade: true for f21 which is used by\nperiodic-tripleo-ci-centos-7-ovb-1ctlr_1comp-featureset021-master\nAs reported in the bug below this job fails as the compute node\ncan't real pool.ntp.org\n\nChange-Id: Ib146eaaefb202f1303454b5b86a33b6de8a096f1\nRelated-Bug: 1794258\n""}, {'number': 3, 'created': '2018-10-15 08:19:45.000000000', 'files': ['config/general_config/featureset021.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a624234a88200939bf9d9ae9a51e247e6e6aad5b', 'message': ""Add ctlplane_masquerade for fs21 failing in ovb for ntp issue\n\nThis adds ctlplane_masquerade: true for f21 which is used by\nperiodic-tripleo-ci-centos-7-ovb-1ctlr_1comp-featureset021-master\nAs reported in the bug below this job fails as the compute node\ncan't reach pool.ntp.org\n\nChange-Id: Ib146eaaefb202f1303454b5b86a33b6de8a096f1\nCloses-Bug: 1794258\n""}]",0,610009,a624234a88200939bf9d9ae9a51e247e6e6aad5b,16,12,3,8449,,,0,"Add ctlplane_masquerade for fs21 failing in ovb for ntp issue

This adds ctlplane_masquerade: true for f21 which is used by
periodic-tripleo-ci-centos-7-ovb-1ctlr_1comp-featureset021-master
As reported in the bug below this job fails as the compute node
can't reach pool.ntp.org

Change-Id: Ib146eaaefb202f1303454b5b86a33b6de8a096f1
Closes-Bug: 1794258
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/09/610009/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset021.yml'],1,da133c4862793f597b5c5c796d0416fe5c72a1d9,,"ctlplane_masquerade: >- {% if release not in ['newton','ocata','pike','queens'] -%} true {%- else -%} false {%- endif -%}",,6,1
openstack%2Fopenstack-ansible-ops~master~Ie2ae1b5db30515709e6249bb977fd10aaac07821,openstack/openstack-ansible-ops,master,Ie2ae1b5db30515709e6249bb977fd10aaac07821,clean up readme,MERGED,2018-10-18 16:01:46.000000000,2018-10-19 02:24:37.000000000,2018-10-19 02:24:37.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-18 16:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/769724f60c335768449a1824f4fb8aa0b201fffc', 'message': 'clean up readme\n\nChange-Id: Ie2ae1b5db30515709e6249bb977fd10aaac07821\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-10-19 01:24:57.000000000', 'files': ['osquery/README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/46858c67d9a8d378c7b5128b71db1a077f29ca2f', 'message': 'clean up readme\n\nChange-Id: Ie2ae1b5db30515709e6249bb977fd10aaac07821\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,611668,46858c67d9a8d378c7b5128b71db1a077f29ca2f,8,2,2,7353,,,0,"clean up readme

Change-Id: Ie2ae1b5db30515709e6249bb977fd10aaac07821
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/68/611668/1 && git format-patch -1 --stdout FETCH_HEAD,['osquery/README.rst'],1,769724f60c335768449a1824f4fb8aa0b201fffc,kolide-cluster,an OpenStack-Ansible deployment. For a simple example of standalone inventorytests directory. This will create a single node kolide-fleet cluster and install,"an OpenStack-Ansible deployment. For a simple example of standalone inventory, Journalbeat will then deploy onto all hosts/containers for releases prior to Rocky, and hosts only for Rocky onwards. If the variable ``openstack_release`` is undefined the default behaviour is to deploy Journalbeat to hosts only.tests directory. This will create a 1 node kolide-fleet cluster and installAfter the test build is completed the cluster will test it's layout and ensure processes are functioning normally. Logs for the cluster can be found at `/tmp/osquery-logs`. ",5,11
openstack%2Fpatrole~master~Ib5cc61ee763c96e08c6a98903203eba4c876c44a,openstack/patrole,master,Ib5cc61ee763c96e08c6a98903203eba4c876c44a,DNM: Use Ceph as the backend for Cinder,ABANDONED,2018-06-13 22:07:37.000000000,2018-10-19 02:21:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-06-13 22:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/7c7c6df4a3aca1dc5cc747af67823281ef28dde4', 'message': 'DNM: Use Ceph as the backend for Cinder\n\nChange-Id: Ib5cc61ee763c96e08c6a98903203eba4c876c44a\n'}, {'number': 2, 'created': '2018-07-14 04:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/63e8c7e889a83cfb3e389ddc7749449cf156f6ec', 'message': 'DNM: Use Ceph as the backend for Cinder\n\nChange-Id: Ib5cc61ee763c96e08c6a98903203eba4c876c44a\n'}, {'number': 3, 'created': '2018-07-21 20:43:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/patrole/commit/4004bbade4d8f6524d55b95284d3bd887428611c', 'message': 'DNM: Use Ceph as the backend for Cinder\n\nChange-Id: Ib5cc61ee763c96e08c6a98903203eba4c876c44a\n'}]",0,575253,4004bbade4d8f6524d55b95284d3bd887428611c,7,1,3,23186,,,0,"DNM: Use Ceph as the backend for Cinder

Change-Id: Ib5cc61ee763c96e08c6a98903203eba4c876c44a
",git fetch https://review.opendev.org/openstack/patrole refs/changes/53/575253/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7c7c6df4a3aca1dc5cc747af67823281ef28dde4,ceph, devstack-plugin-ceph: git://git.openstack.org/openstack/devstack-plugin-ceph.git,,1,0
openstack%2Fpuppet-tripleo~stable%2Fqueens~I5a41f95b2d91a25fe617afb9ada0b5201d2b7ef7,openstack/puppet-tripleo,stable/queens,I5a41f95b2d91a25fe617afb9ada0b5201d2b7ef7,Fix ceph-nfs duplicate property,MERGED,2018-10-17 09:36:33.000000000,2018-10-19 02:15:35.000000000,2018-10-19 02:15:35.000000000,"[{'_account_id': 6796}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 20172}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-17 09:36:33.000000000', 'files': ['manifests/profile/pacemaker/ceph_nfs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6a6f932efc652e25416020c2687398cb5c4094ea', 'message': ""Fix ceph-nfs duplicate property\n\nIn change I78c16c9fb28211a7a8ec2187ae76b9a072b76ea2 we eliminated\nstartup races with ceph nfs, but we need to make sure we do\nnot create duplicate properies or puppet will fail.\n\nWhile we're at it we also point the bootstrapnode at\nceph_nfs_short_bootstrap_node_name instead of which is more correct.\nIt is functionally the same if ceph-nfs and manila-share run on the\nsame nodes, which is likely the case in most cases, but best\nmake it correct while we're at it.\n\nCloses-Bug: #1798020\n\nChange-Id: I5a41f95b2d91a25fe617afb9ada0b5201d2b7ef7\n(cherry picked from commit 7e3219ff2b2ec3fdd43f0dd26dc487b78ccbf3eb)\n(cherry picked from commit 148347b2d0f4a31547ea98f0cb3d6129360225c1)\n""}]",0,611274,6a6f932efc652e25416020c2687398cb5c4094ea,13,7,1,9003,,,0,"Fix ceph-nfs duplicate property

In change I78c16c9fb28211a7a8ec2187ae76b9a072b76ea2 we eliminated
startup races with ceph nfs, but we need to make sure we do
not create duplicate properies or puppet will fail.

While we're at it we also point the bootstrapnode at
ceph_nfs_short_bootstrap_node_name instead of which is more correct.
It is functionally the same if ceph-nfs and manila-share run on the
same nodes, which is likely the case in most cases, but best
make it correct while we're at it.

Closes-Bug: #1798020

Change-Id: I5a41f95b2d91a25fe617afb9ada0b5201d2b7ef7
(cherry picked from commit 7e3219ff2b2ec3fdd43f0dd26dc487b78ccbf3eb)
(cherry picked from commit 148347b2d0f4a31547ea98f0cb3d6129360225c1)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/74/611274/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/ceph_nfs.pp'],1,6a6f932efc652e25416020c2687398cb5c4094ea,fix-ceph-nfs-stable/rocky-stable/queens,"# Defaults to hiera('ceph_nfs_short_bootstrap_node_name') $bootstrap_node = hiera('ceph_nfs_short_bootstrap_node_name'), # We only set the properties for the non-bootstrap nodes # because we set the property for the bootstrap node at step 2 # already if $node_name != $bootstrap_node { pacemaker::property { ""ceph-nfs-role-${node_name}"": property => 'ceph-nfs-role', value => true, tries => $pcs_tries, node => $node_name, }","# Defaults to hiera('manila_share_short_bootstrap_node_name') $bootstrap_node = hiera('manila_share_short_bootstrap_node_name'), pacemaker::property { ""ceph-nfs-role-${node_name}"": property => 'ceph-nfs-role', value => true, tries => $pcs_tries, node => $node_name,",12,7
openstack%2Fpython-novaclient~master~I15ef933cc09947e2bb3fb7bf17b15735171a9bec,openstack/python-novaclient,master,I15ef933cc09947e2bb3fb7bf17b15735171a9bec,Recommend against using --force for evacuate/live migration,MERGED,2018-10-17 20:34:34.000000000,2018-10-19 02:04:13.000000000,2018-10-19 02:04:13.000000000,"[{'_account_id': 679}, {'_account_id': 7634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 20:34:34.000000000', 'files': ['novaclient/v2/shell.py', 'doc/source/cli/nova.rst'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/578b37f99419293f7c9eb38d3f71ab164e774b79', 'message': 'Recommend against using --force for evacuate/live migration\n\nThis copies the same warnings from the API reference change\nI85e7c2677f4d5eccc1e7f349de06960b53ef148d to the CLI help\nfor the various evacuate/live migrate commands. It also\nmentions that if a host is not specified, one is selected\nby the scheduler (which is what we really want people doing).\n\nGiven blueprint remove-force-flag-from-live-migrate-and-evacuate\nwe really want to discourage people from using the --force\nflag.\n\nChange-Id: I15ef933cc09947e2bb3fb7bf17b15735171a9bec\n'}]",0,611436,578b37f99419293f7c9eb38d3f71ab164e774b79,7,3,1,6873,,,0,"Recommend against using --force for evacuate/live migration

This copies the same warnings from the API reference change
I85e7c2677f4d5eccc1e7f349de06960b53ef148d to the CLI help
for the various evacuate/live migrate commands. It also
mentions that if a host is not specified, one is selected
by the scheduler (which is what we really want people doing).

Given blueprint remove-force-flag-from-live-migrate-and-evacuate
we really want to discourage people from using the --force
flag.

Change-Id: I15ef933cc09947e2bb3fb7bf17b15735171a9bec
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/36/611436/1 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/v2/shell.py', 'doc/source/cli/nova.rst']",2,578b37f99419293f7c9eb38d3f71ab164e774b79,bp/remove-force-flag-from-live-migrate-and-evacuate," Force an evacuation by not verifying the provided destination host by the scheduler. (Supported by API versions '2.29' -'2.latest') .. warning:: This could result in failures to actually evacuate the server to the specified host. It is recommended to either not specify a host so that the scheduler will pick one, or specify a host without ``--force``. Force an evacuation by not verifying the provided destination host by the scheduler. (Supported by API versions '2.29' -'2.latest') .. warning:: This could result in failures to actually evacuate the server to the specified host. It is recommended to either not specify a host so that the scheduler will pick one, or specify a host without ``--force``. Name of target host. If no host is specified, the scheduler will choose one. Force a live-migration by not verifying the provided destination host by the scheduler. (Supported by API versions '2.30' -'2.latest') .. warning:: This could result in failures to actually live migrate the servers to the specified host. It is recommended to either not specify a host so that the scheduler will pick one, or specify a host without ``--force``. Destination host name. If no host is specified, the scheduler will choose one. Force a live-migration by not verifying the provided destination host by the scheduler. (Supported by API versions '2.30' -'2.latest') .. warning:: This could result in failures to actually live migrate the server to the specified host. It is recommended to either not specify a host so that the scheduler will pick one, or specify a host without ``--force``.", Force to not verify the scheduler if a host is provided. (Supported by API versions '2.29' -'2.latest') Force to not verify the scheduler if a host is provided. (Supported by API versions '2.29' -'2.latest') Name of target host. Force to not verify the scheduler if a host is provided. (Supported by API versions '2.30' -'2.latest') Destination host name. Force to not verify the scheduler if a host is provided. (Supported by API versions '2.30' - '2.latest'),56,16
openstack%2Fsenlin~master~If0dcf5e427d3d6973d2c5e52fada8a6c925240d5,openstack/senlin,master,If0dcf5e427d3d6973d2c5e52fada8a6c925240d5,Update scaling policy logic to be applied before action acceptance,MERGED,2018-07-25 00:10:16.000000000,2018-10-19 01:57:18.000000000,2018-10-19 01:57:18.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23517}, {'_account_id': 25674}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-07-25 00:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/0552935c8f772edd86113595abe456f88476a2b4', 'message': '[WIP] Update scaling policy logic to be applied before action acceptance\n\nThis patch alters the cluster_scale_in and cluster_scale_out actions to\nno longer place the action into the actions table when a conflict is\ndetected. This behavior is an improvement on the old way actions are\nprocessed as the requester will now receive immediate feedback from the API\nwhen an action cannot be processed. This release also honors the scaling\naction cooldown in the same manner by erring via the API when a scaling\naction cannot be processed due to cooldown.\n\nChange-Id: If0dcf5e427d3d6973d2c5e52fada8a6c925240d5\n'}, {'number': 2, 'created': '2018-07-25 00:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/9c3b189b6d5f250c9d75887536420650265e05f0', 'message': '[WIP] Update scaling policy logic to be applied before action acceptance\n\nThis patch alters the cluster_scale_in and cluster_scale_out actions to\nno longer place the action into the actions table when a conflict is\ndetected. This behavior is an improvement on the old way actions are\nprocessed as the requester will now receive immediate feedback from the API\nwhen an action cannot be processed. This release also honors the scaling\naction cooldown in the same manner by erring via the API when a scaling\naction cannot be processed due to cooldown.\n\nChange-Id: If0dcf5e427d3d6973d2c5e52fada8a6c925240d5\n'}, {'number': 3, 'created': '2018-07-25 04:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/bb5a703bee001a68cab8ec1824d12d67fcc61a90', 'message': '[WIP] Update scaling policy logic to be applied before action acceptance\n\nThis patch alters the cluster_scale_in and cluster_scale_out actions to\nno longer place the action into the actions table when a conflict is\ndetected. This behavior is an improvement on the old way actions are\nprocessed as the requester will now receive immediate feedback from the API\nwhen an action cannot be processed. This change  also honors the scaling\naction cooldown in the same manner by erring via the API when a scaling\naction cannot be processed due to cooldown.\n\nChange-Id: If0dcf5e427d3d6973d2c5e52fada8a6c925240d5\n'}, {'number': 4, 'created': '2018-07-25 08:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/8c57be17f2a13f3a4406652f22e224bfd9ce75de', 'message': '[WIP] Update scaling policy logic to be applied before action acceptance\n\nThis patch alters the cluster_scale_in and cluster_scale_out actions to\nno longer place the action into the actions table when a conflict is\ndetected. This behavior is an improvement on the old way actions are\nprocessed as the requester will now receive immediate feedback from the API\nwhen an action cannot be processed. This change  also honors the scaling\naction cooldown in the same manner by erring via the API when a scaling\naction cannot be processed due to cooldown.\n\nChange-Id: If0dcf5e427d3d6973d2c5e52fada8a6c925240d5\n'}, {'number': 5, 'created': '2018-07-25 17:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/bf465b9e16a80660df2ac5e5b86a98a1dff9d507', 'message': '[WIP] Update scaling policy logic to be applied before action acceptance\n\nThis patch alters the cluster_scale_in and cluster_scale_out actions to\nno longer place the action into the actions table when a conflict is\ndetected. This behavior is an improvement on the old way actions are\nprocessed as the requester will now receive immediate feedback from the API\nwhen an action cannot be processed. This change  also honors the scaling\naction cooldown in the same manner by erring via the API when a scaling\naction cannot be processed due to cooldown.\n\nChange-Id: If0dcf5e427d3d6973d2c5e52fada8a6c925240d5\n'}, {'number': 6, 'created': '2018-07-25 18:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/d5d7a1bb2a5dd01b751bb1feb90ef06963bac5d5', 'message': '[WIP] Update scaling policy logic to be applied before action acceptance\n\nThis patch alters the cluster_scale_in and cluster_scale_out actions to\nno longer place the action into the actions table when a conflict is\ndetected. This behavior is an improvement on the old way actions are\nprocessed as the requester will now receive immediate feedback from the API\nwhen an action cannot be processed. This change  also honors the scaling\naction cooldown in the same manner by erring via the API when a scaling\naction cannot be processed due to cooldown.\n\nChange-Id: If0dcf5e427d3d6973d2c5e52fada8a6c925240d5\n'}, {'number': 7, 'created': '2018-07-25 21:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/850a8edd7794a78759e14e8ee52438a07e485820', 'message': '[WIP] Update scaling policy logic to be applied before action acceptance\n\nThis patch alters the cluster_scale_in and cluster_scale_out actions to\nno longer place the action into the actions table when a conflict is\ndetected. This behavior is an improvement on the old way actions are\nprocessed as the requester will now receive immediate feedback from the API\nwhen an action cannot be processed. This change  also honors the scaling\naction cooldown in the same manner by erring via the API when a scaling\naction cannot be processed due to cooldown.\n\nChange-Id: If0dcf5e427d3d6973d2c5e52fada8a6c925240d5\n'}, {'number': 8, 'created': '2018-07-26 17:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/9e05625452a44d583f65aefc226cb2dd38ab9781', 'message': '[WIP] Update scaling policy logic to be applied before action acceptance\n\nThis patch alters the cluster_scale_in and cluster_scale_out actions to\nno longer place the action into the actions table when a conflict is\ndetected. This behavior is an improvement on the old way actions are\nprocessed as the requester will now receive immediate feedback from the API\nwhen an action cannot be processed. This change  also honors the scaling\naction cooldown in the same manner by erring via the API when a scaling\naction cannot be processed due to cooldown.\n\nChange-Id: If0dcf5e427d3d6973d2c5e52fada8a6c925240d5\n'}, {'number': 9, 'created': '2018-07-31 17:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/d83f43c5a64288ad25aed7ce1ad0f04d0ce24818', 'message': '[WIP] Update scaling policy logic to be applied before action acceptance\n\nThis patch alters the cluster_scale_in and cluster_scale_out actions to\nno longer place the action into the actions table when a conflict is\ndetected. This behavior is an improvement on the old way actions are\nprocessed as the requester will now receive immediate feedback from the API\nwhen an action cannot be processed. This change  also honors the scaling\naction cooldown in the same manner by erring via the API when a scaling\naction cannot be processed due to cooldown.\n\nChange-Id: If0dcf5e427d3d6973d2c5e52fada8a6c925240d5\n'}, {'number': 10, 'created': '2018-08-01 00:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/11a196b708b3d048c02dc949b59506037e957fb2', 'message': '[WIP] Update scaling policy logic to be applied before action acceptance\n\nThis patch alters the cluster_scale_in and cluster_scale_out actions to\nno longer place the action into the actions table when a conflict is\ndetected. This behavior is an improvement on the old way actions are\nprocessed as the requester will now receive immediate feedback from the API\nwhen an action cannot be processed. This change  also honors the scaling\naction cooldown in the same manner by erring via the API when a scaling\naction cannot be processed due to cooldown.\n\nChange-Id: If0dcf5e427d3d6973d2c5e52fada8a6c925240d5\n'}, {'number': 11, 'created': '2018-08-01 16:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/c1ee3dae73ddf5bfc12b2b72fd35ecc8f9c983b3', 'message': '[WIP] Update scaling policy logic to be applied before action acceptance\n\nThis patch alters the cluster_scale_in and cluster_scale_out actions to\nno longer place the action into the actions table when a conflict is\ndetected. This behavior is an improvement on the old way actions are\nprocessed as the requester will now receive immediate feedback from the API\nwhen an action cannot be processed. This change  also honors the scaling\naction cooldown in the same manner by erring via the API when a scaling\naction cannot be processed due to cooldown.\n\nChange-Id: If0dcf5e427d3d6973d2c5e52fada8a6c925240d5\n'}, {'number': 12, 'created': '2018-09-28 21:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/ccb509655a7515b7bd3794888286ca66aefde828', 'message': '[WIP] Update scaling policy logic to be applied before action acceptance\n\nThis patch alters the cluster_scale_in and cluster_scale_out actions to\nno longer place the action into the actions table when a conflict is\ndetected. This behavior is an improvement on the old way actions are\nprocessed as the requester will now receive immediate feedback from the API\nwhen an action cannot be processed. This change  also honors the scaling\naction cooldown in the same manner by erring via the API when a scaling\naction cannot be processed due to cooldown.\n\nDepends-On: https://review.openstack.org/#/c/602460/\nChange-Id: If0dcf5e427d3d6973d2c5e52fada8a6c925240d5\n'}, {'number': 13, 'created': '2018-10-09 22:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/5591ea96837508f1724b37a110ba26a2702f9192', 'message': '[WIP] Update scaling policy logic to be applied before action acceptance\n\nThis patch alters the cluster_scale_in and cluster_scale_out actions to\nno longer place the action into the actions table when a conflict is\ndetected. This behavior is an improvement on the old way actions are\nprocessed as the requester will now receive immediate feedback from the API\nwhen an action cannot be processed. This change  also honors the scaling\naction cooldown in the same manner by erring via the API when a scaling\naction cannot be processed due to cooldown.\n\nDepends-On: https://review.openstack.org/#/c/602460/\nChange-Id: If0dcf5e427d3d6973d2c5e52fada8a6c925240d5\n'}, {'number': 14, 'created': '2018-10-10 19:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/d4d86408cebe39707ccdcc2feae2a32fdf3e5a8d', 'message': '[WIP] Update scaling policy logic to be applied before action acceptance\n\nThis patch alters the cluster_scale_in and cluster_scale_out actions to\nno longer place the action into the actions table when a conflict is\ndetected. This behavior is an improvement on the old way actions are\nprocessed as the requester will now receive immediate feedback from the API\nwhen an action cannot be processed. This change  also honors the scaling\naction cooldown in the same manner by erring via the API when a scaling\naction cannot be processed due to cooldown.\n\nDepends-On: https://review.openstack.org/#/c/602460/\nChange-Id: If0dcf5e427d3d6973d2c5e52fada8a6c925240d5\n'}, {'number': 15, 'created': '2018-10-15 20:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/8254369d45d4d69450a42503fdf7a67ebf14b998', 'message': 'Update scaling policy logic to be applied before action acceptance\n\nThis patch alters the cluster_scale_in and cluster_scale_out actions to\nno longer place the action into the actions table when a conflict is\ndetected. This behavior is an improvement on the old way actions are\nprocessed as the requester will now receive immediate feedback from the API\nwhen an action cannot be processed. This change  also honors the scaling\naction cooldown in the same manner by erring via the API when a scaling\naction cannot be processed due to cooldown.\n\nDepends-On: https://review.openstack.org/#/c/602460/\nImplements: blueprint scaling-action-acceptance\nChange-Id: If0dcf5e427d3d6973d2c5e52fada8a6c925240d5\n'}, {'number': 16, 'created': '2018-10-15 21:31:37.000000000', 'files': ['senlin/objects/action.py', 'senlin/tests/unit/engine/actions/test_action_base.py', 'senlin/api/middleware/fault.py', 'senlin/db/api.py', 'senlin/engine/actions/base.py', 'senlin/common/consts.py', 'senlin/db/sqlalchemy/api.py', 'senlin/engine/service.py', 'releasenotes/notes/cluster-scale-action-conflict-0e1e64591e943e25.yaml', 'doc/source/user/policy_types.rst', 'api-ref/source/clusters.inc', 'doc/source/user/policy_types/scaling.rst', 'senlin/api/openstack/v1/version.py', 'senlin/common/exception.py', 'senlin/api/openstack/history.rst'], 'web_link': 'https://opendev.org/openstack/senlin/commit/364b1402a1e2bccf1ddbbaed481e197dd0352279', 'message': 'Update scaling policy logic to be applied before action acceptance\n\nThis patch alters the cluster_scale_in and cluster_scale_out actions to\nno longer place the action into the actions table when a conflict is\ndetected. This behavior is an improvement on the old way actions are\nprocessed as the requester will now receive immediate feedback from the API\nwhen an action cannot be processed. This change  also honors the scaling\naction cooldown in the same manner by erring via the API when a scaling\naction cannot be processed due to cooldown.\n\nDepends-On: https://review.openstack.org/#/c/602460/\nImplements: blueprint scaling-action-acceptance\nChange-Id: If0dcf5e427d3d6973d2c5e52fada8a6c925240d5\n'}]",19,585573,364b1402a1e2bccf1ddbbaed481e197dd0352279,60,6,16,25674,,,0,"Update scaling policy logic to be applied before action acceptance

This patch alters the cluster_scale_in and cluster_scale_out actions to
no longer place the action into the actions table when a conflict is
detected. This behavior is an improvement on the old way actions are
processed as the requester will now receive immediate feedback from the API
when an action cannot be processed. This change  also honors the scaling
action cooldown in the same manner by erring via the API when a scaling
action cannot be processed due to cooldown.

Depends-On: https://review.openstack.org/#/c/602460/
Implements: blueprint scaling-action-acceptance
Change-Id: If0dcf5e427d3d6973d2c5e52fada8a6c925240d5
",git fetch https://review.opendev.org/openstack/senlin refs/changes/73/585573/16 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/objects/action.py', 'senlin/tests/unit/engine/actions/test_action_base.py', 'senlin/api/middleware/fault.py', 'senlin/db/api.py', 'senlin/engine/actions/base.py', 'senlin/common/consts.py', 'senlin/db/sqlalchemy/api.py', 'senlin/engine/service.py', 'releasenotes/notes/cluster-scale-action-conflict-0e1e64591e943e25.yaml', 'doc/source/user/policy_types.rst', 'doc/source/user/policy_types/scaling.rst', 'senlin/common/exception.py']",12,0552935c8f772edd86113595abe456f88476a2b4,scaling_action_validate,"class ActionConflict(SenlinException): msg_fmt = _(""The %(type)s action for cluster %(cluster)s conflicts with "" ""the following action(s): %(actions)s"") class ActionCooldown(SenlinException): msg_fmt = _(""Unable to process action Policy %(policy_id)s cooldown still "" ""in progress"") class should be translated to a user facing exception type if they need to be made user visible.", class should be translated to a user facing exception type if need to be made user visible.,160,48
openstack%2Ftripleo-heat-templates~stable%2Frocky~I35c8d9985df21b3084fba558687e1f408e5a0878,openstack/tripleo-heat-templates,stable/rocky,I35c8d9985df21b3084fba558687e1f408e5a0878,"Run online migrations via ""external-upgrade run""",MERGED,2018-10-17 16:22:45.000000000,2018-10-19 01:53:25.000000000,2018-10-19 01:53:25.000000000,"[{'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-17 16:22:45.000000000', 'files': ['releasenotes/notes/online-migration-external-upgrade-5093de6bd8993b5c.yaml', 'docker/services/nova-api.yaml', 'docker/services/ironic-api.yaml', 'docker/services/cinder-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d9ec075082a1d273d9d36b25816028dcc1aadcf8', 'message': 'Run online migrations via ""external-upgrade run""\n\nThis will pull the online data migrations out of the upgrade\nmaintenance window and let them be performed after the main upgrade\nphase while the cloud is already operational.\n\nThe online part of the service upgrades can be run using:\n\n    openstack overcloud external-upgrade run --tags online_upgrade\n\nor per-service like:\n\n    openstack overcloud external-upgrade run --tags online_upgrade_nova\n    openstack overcloud external-upgrade run --tags online_upgrade_cinder\n    openstack overcloud external-upgrade run --tags online_upgrade_ironic\n\nChange-Id: I35c8d9985df21b3084fba558687e1f408e5a0878\nCloses-Bug: #1793332\n(cherry picked from commit e81878bc041a8d579844b1e15f43b24cfb06cb25)\n'}]",0,611382,d9ec075082a1d273d9d36b25816028dcc1aadcf8,9,4,1,8042,,,0,"Run online migrations via ""external-upgrade run""

This will pull the online data migrations out of the upgrade
maintenance window and let them be performed after the main upgrade
phase while the cloud is already operational.

The online part of the service upgrades can be run using:

    openstack overcloud external-upgrade run --tags online_upgrade

or per-service like:

    openstack overcloud external-upgrade run --tags online_upgrade_nova
    openstack overcloud external-upgrade run --tags online_upgrade_cinder
    openstack overcloud external-upgrade run --tags online_upgrade_ironic

Change-Id: I35c8d9985df21b3084fba558687e1f408e5a0878
Closes-Bug: #1793332
(cherry picked from commit e81878bc041a8d579844b1e15f43b24cfb06cb25)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/82/611382/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/online-migration-external-upgrade-5093de6bd8993b5c.yaml', 'docker/services/nova-api.yaml', 'docker/services/cinder-api.yaml', 'docker/services/ironic-api.yaml']",4,d9ec075082a1d273d9d36b25816028dcc1aadcf8,bug/1793332-stable/rocky," - name: Ensure all online data migrations for Ironic have been applied command: docker exec ironic_api ironic-dbsync --config-file /etc/ironic/ironic.conf online_data_migrations - not (ironic_httpd_enabled|bool and httpd_running|bool) - not ironic_api_enabled|bool external_upgrade_tasks: - when: step|int == 1 block: - name: Online data migration for Ironic command: docker exec ironic_api ironic-dbsync --config-file /etc/ironic/ironic.conf online_data_migrations delegate_to: ""{{ groups['ironic_api'][0] }}"" become: true tags: - online_upgrade - online_upgrade_ironic"," step_5: ironic_online_migrations: start_order: 2 image: *ironic_api_image net: host privileged: false detach: false user: root volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/config-data/ironic_api/etc/ironic:/etc/ironic:ro - /var/log/containers/ironic:/var/log/ironic - /var/log/containers/httpd/ironic-api:/var/log/httpd command: ""/usr/bin/bootstrap_host_exec ironic_api su ironic -s /bin/bash -c 'ironic-dbsync --config-file /etc/ironic/ironic.conf online_data_migrations'"" # NOTE: In puppet service variant, we ran release N online # migrations before upgrade to release N+1. In docker # service variant, we run release N online migrations # after upgrade to release N. This means that during # switch from non-containerized to containerized, we need # to run both of these. - name: Online data migration for Ironic before switching to containers - (ironic_httpd_enabled|bool and httpd_running|bool) or ironic_api_enabled|bool command: ironic-dbsync --config-file /etc/ironic/ironic.conf online_data_migrations",71,75
openstack%2Fmagnum-ui~stable%2Frocky~Ifab511cf25c5a09417e503c1d0982117b56a3870,openstack/magnum-ui,stable/rocky,Ifab511cf25c5a09417e503c1d0982117b56a3870,Fix image URL for cluster template overview,MERGED,2018-10-19 01:23:47.000000000,2018-10-19 01:46:48.000000000,2018-10-19 01:46:48.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-19 01:23:47.000000000', 'files': ['magnum_ui/static/dashboard/container-infra/cluster-templates/details/overview.html'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/2e9cb253eaee45a57f07369e432369dbff8fc173', 'message': 'Fix image URL for cluster template overview\n\nChange-Id: Ifab511cf25c5a09417e503c1d0982117b56a3870\n(cherry picked from commit 0256f555607f7818c255a1a53090b5344e8ffd9b)\n'}]",0,611734,2e9cb253eaee45a57f07369e432369dbff8fc173,7,2,1,6484,,,0,"Fix image URL for cluster template overview

Change-Id: Ifab511cf25c5a09417e503c1d0982117b56a3870
(cherry picked from commit 0256f555607f7818c255a1a53090b5344e8ffd9b)
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/34/611734/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum_ui/static/dashboard/container-infra/cluster-templates/details/overview.html'],1,2e9cb253eaee45a57f07369e432369dbff8fc173,fix-image-link-stable/rocky," <dd><a href=""project/images/{$ ctrl.cluster_template.image_id $}/"" target=""_self"">{$ ctrl.cluster_template.image_id $}</a></dd>"," <dd><a href=""project/images/{$ ctrl.image_uuid $}/"" target=""_self"">{$ ctrl.cluster_template.image_id $}</a></dd>",1,1
openstack%2Fkarbor~master~I5f9e87d86195c08f9f87e2f297a4ce2b0d6c9c15,openstack/karbor,master,I5f9e87d86195c08f9f87e2f297a4ce2b0d6c9c15,Update pypi url to new url,MERGED,2018-07-12 07:44:00.000000000,2018-10-19 01:45:11.000000000,2018-10-19 01:45:11.000000000,"[{'_account_id': 14320}, {'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 22484}, {'_account_id': 28427}]","[{'number': 1, 'created': '2018-07-12 07:44:00.000000000', 'files': ['doc/source/specs/api-json-schema-validation.rst'], 'web_link': 'https://opendev.org/openstack/karbor/commit/a4f2b4044112a2619d8b9c45401e65d57f8f08bd', 'message': 'Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: I5f9e87d86195c08f9f87e2f297a4ce2b0d6c9c15\n'}]",0,581991,a4f2b4044112a2619d8b9c45401e65d57f8f08bd,9,5,1,28427,,,0,"Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I5f9e87d86195c08f9f87e2f297a4ce2b0d6c9c15
",git fetch https://review.opendev.org/openstack/karbor refs/changes/91/581991/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/api-json-schema-validation.rst'],1,a4f2b4044112a2619d8b9c45401e65d57f8f08bd,update_pypi_url,"Nova, Keystone and Glance (https://pypi.org/project/jsonschema). * [JSON Schema on PyPI] (https://pypi.org/project/jsonschema) ","Nova, Keystone and Glance (https://pypi.python.org/pypi/jsonschema). * [JSON Schema on PyPI] (https://pypi.python.org/pypi/jsonschema) ",2,2
openstack%2Fmagnum-ui~stable%2Fqueens~Ifab511cf25c5a09417e503c1d0982117b56a3870,openstack/magnum-ui,stable/queens,Ifab511cf25c5a09417e503c1d0982117b56a3870,Fix image URL for cluster template overview,MERGED,2018-10-19 01:24:08.000000000,2018-10-19 01:45:01.000000000,2018-10-19 01:45:01.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-19 01:24:08.000000000', 'files': ['magnum_ui/static/dashboard/container-infra/cluster-templates/details/overview.html'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/5807e57dbd96b64c88f6d673f083ca02839f62c7', 'message': 'Fix image URL for cluster template overview\n\nChange-Id: Ifab511cf25c5a09417e503c1d0982117b56a3870\n(cherry picked from commit 0256f555607f7818c255a1a53090b5344e8ffd9b)\n'}]",0,611735,5807e57dbd96b64c88f6d673f083ca02839f62c7,6,2,1,6484,,,0,"Fix image URL for cluster template overview

Change-Id: Ifab511cf25c5a09417e503c1d0982117b56a3870
(cherry picked from commit 0256f555607f7818c255a1a53090b5344e8ffd9b)
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/35/611735/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum_ui/static/dashboard/container-infra/cluster-templates/details/overview.html'],1,5807e57dbd96b64c88f6d673f083ca02839f62c7,fix-image-link-stable/rocky-stable/queens," <dd><a href=""project/images/{$ ctrl.cluster_template.image_id $}/"" target=""_self"">{$ ctrl.cluster_template.image_id $}</a></dd>"," <dd><a href=""project/images/{$ ctrl.image_uuid $}/"" target=""_self"">{$ ctrl.cluster_template.image_id $}</a></dd>",1,1
openstack%2Fpython-tripleoclient~master~I32e986d1cdfd0939f4569c4a81691616077964fd,openstack/python-tripleoclient,master,I32e986d1cdfd0939f4569c4a81691616077964fd,Fix misspelling in deployment complete message.,MERGED,2018-09-28 16:36:17.000000000,2018-10-19 01:41:39.000000000,2018-10-19 01:41:39.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 11082}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-28 16:36:17.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d3dcf9388de1adfd779c55fca256f0d699f9c945', 'message': 'Fix misspelling in deployment complete message.\n\nChange-Id: I32e986d1cdfd0939f4569c4a81691616077964fd\n'}]",0,606134,d3dcf9388de1adfd779c55fca256f0d699f9c945,11,6,1,1561,,,0,"Fix misspelling in deployment complete message.

Change-Id: I32e986d1cdfd0939f4569c4a81691616077964fd
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/34/606134/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_deploy.py'],1,d3dcf9388de1adfd779c55fca256f0d699f9c945,,Deployment successful!,Deployment successfull!,1,1
openstack%2Ftripleo-heat-templates~stable%2Frocky~I57a7ea854bd8db4e20af1a608a6937604c0e3bd2,openstack/tripleo-heat-templates,stable/rocky,I57a7ea854bd8db4e20af1a608a6937604c0e3bd2,Ensure the needed openshift resources are set,MERGED,2018-10-16 06:36:36.000000000,2018-10-19 01:41:38.000000000,2018-10-19 01:41:38.000000000,"[{'_account_id': 12715}, {'_account_id': 13039}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 06:36:36.000000000', 'files': ['environments/openshift.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1efec7e7cb1c05137196703c0ea5b6b9cc0877c9', 'message': ""Ensure the needed openshift resources are set\n\nWe expect the the Keepalived and HAproxy services to be deployed on the\nOpenShift master nodes, let's require them in the openshift heat\nenvironment file. This prevents an issue when the docker-ha environment\nis loaded because it would redefine these resources.\n\nChange-Id: I57a7ea854bd8db4e20af1a608a6937604c0e3bd2\n(cherry picked from commit 633379f77900995a71bdd7e85d73f975cd74c222)\n""}]",0,610886,1efec7e7cb1c05137196703c0ea5b6b9cc0877c9,13,3,1,13039,,,0,"Ensure the needed openshift resources are set

We expect the the Keepalived and HAproxy services to be deployed on the
OpenShift master nodes, let's require them in the openshift heat
environment file. This prevents an issue when the docker-ha environment
is loaded because it would redefine these resources.

Change-Id: I57a7ea854bd8db4e20af1a608a6937604c0e3bd2
(cherry picked from commit 633379f77900995a71bdd7e85d73f975cd74c222)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/610886/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/openshift.yaml'],1,1efec7e7cb1c05137196703c0ea5b6b9cc0877c9,tripleo-openshift-rocky, OS::TripleO::Services::HAproxy: ../docker/services/haproxy.yaml OS::TripleO::Services::Keepalived: ../docker/services/keepalived.yaml OS::TripleO::Services::OpenShift::Master: ../extraconfig/services/openshift-master.yaml OS::TripleO::Services::OpenShift::Worker: ../extraconfig/services/openshift-worker.yaml, OS::TripleO::Services::OpenShift::Worker: ../extraconfig/services/openshift-worker.yaml OS::TripleO::Services::OpenShift::Master: ../extraconfig/services/openshift-master.yaml,4,2
openstack%2Fopenstack-ansible-ops~master~I5be516311eaadd634990a4b9006d1ceec4de5847,openstack/openstack-ansible-ops,master,I5be516311eaadd634990a4b9006d1ceec4de5847,Cleanup the osquery role,MERGED,2018-10-18 14:54:04.000000000,2018-10-19 01:39:34.000000000,2018-10-19 01:39:34.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-18 14:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/880619e180fda06e9907161ae7404c4a455e06ed', 'message': ""Cleanup the osquery role\n\nThis change removes things we don't need and simplifies the task\nexecution.\n\nChange-Id: I5be516311eaadd634990a4b9006d1ceec4de5847\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 2, 'created': '2018-10-18 18:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/ca338d4cefc264d0a5a35a3408528c315f872ca6', 'message': ""Cleanup the osquery role\n\nThis change removes things we don't need and simplifies the task\nexecution.\n\nChange-Id: I5be516311eaadd634990a4b9006d1ceec4de5847\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 3, 'created': '2018-10-18 22:56:30.000000000', 'files': ['osquery/roles/osquery/vars/RedHat.yml', 'osquery/tests/functional.yml', 'osquery/roles/osquery/.travis.yml', 'osquery/roles/osquery/test/travis/Dockerfile.ubuntu-16.04', 'osquery/roles/osquery/test/integration/default-osquery-syslog/serverspec/run-local-tests.sh', 'osquery/roles/osquery/.travis.yml.orig', 'osquery/roles/osquery/Jenkinsfile', 'osquery/roles/osquery/test/integration/default/default.yml', 'osquery/roles/osquery/test/integration/default/serverspec/run-local-tests.sh', 'osquery/roles/osquery/.travis.yml.kitchen-docker', 'osquery/roles/osquery/test/integration/default-fleetmanager/serverspec/run-local-tests.sh', 'osquery/roles/osquery/vars/redhat.yml', 'osquery/roles/osquery/test/integration/default-osquery-syslog-fs/serverspec/Rakefile', 'osquery/roles/osquery/test/integration/default-osquery-syslog/serverspec/Gemfile', 'osquery/roles/osquery/.travis.yml.lxd-kitchen', 'osquery/roles/osquery/test/integration/default-profiling/serverspec/Gemfile', 'osquery/roles/osquery/.kitchen.vagrant.yml', 'osquery/roles/osquery/vars/debian.yml', 'osquery/roles/osquery/.travis.yml.docker', 'osquery/roles/osquery/tasks/osquery_configure.yml', 'osquery/roles/osquery/test/integration/default-fleetmanager/bats/idempotency.bats', 'osquery/roles/osquery/test/vagrant/Vagrantfile', 'osquery/roles/osquery/get-dependencies.sh', 'osquery/roles/osquery/templates/osquery.flags.j2', 'osquery/roles/osquery/test/travis/Dockerfile.centos-6', 'osquery/roles/osquery/test/travis/Dockerfile.centos-7', 'osquery/roles/osquery/test/integration/default-osquery-syslog-fs/default.yml', 'osquery/roles/osquery/test/integration/default-fleetmanager/serverspec/Rakefile', 'osquery/roles/osquery/test/integration/default-profiling/default.yml', 'osquery/roles/osquery/test/integration/default/bats/idempotency.bats', 'osquery/roles/osquery/test/integration/default-osquery-syslog-fs/serverspec/rsyslog_spec.rb', 'osquery/roles/osquery/templates/logrotate-osquery.j2', 'osquery/roles/osquery/test/integration/default-fleetmanager/default.yml', 'osquery/roles/osquery/tasks/configure.yml', 'osquery/roles/osquery/.travis.yml.simple', 'osquery/roles/osquery/test/integration/default-osquery-syslog/default.yml', 'osquery/vars/variables.yml', 'osquery/roles/osquery/tasks/testing.yml', 'osquery/roles/osquery/tests/inventory', 'osquery/roles/osquery/tasks/osquery_yum.yml', 'osquery/roles/osquery/test/integration/default-osquery-syslog-fs/serverspec/osquery_syslog_spec.rb', 'osquery/roles/osquery/test/integration/default-osquery-syslog/serverspec/rsyslog_spec.rb', 'osquery/roles/osquery/test/travis/initctl_faker', 'osquery/roles/osquery/test/integration/default-profiling/serverspec/osquery_spec.rb', 'osquery/roles/osquery/test/integration/default-osquery-syslog/bats/idempotency.bats', 'osquery/roles/osquery/test/travis/Dockerfile.ubuntu-14.04', 'osquery/roles/osquery/test/travis/Dockerfile.debian-9', 'osquery/roles/osquery/test/travis/Dockerfile.ubuntu-18.04', 'osquery/roles/osquery/tests/test.yml', 'osquery/roles/osquery/test/integration/default/serverspec/osquery_spec.rb', 'osquery/roles/osquery/test/travis/Dockerfile.debian-8', 'osquery/roles/osquery/test/lxd/centos-ssh-image.sh', 'osquery/roles/osquery/tasks/osquery_dnf.yml', 'osquery/roles/osquery/test/integration/default-profiling/serverspec/run-local-tests.sh', 'osquery/roles/osquery/tasks/osquery_apt.yml', 'osquery/roles/osquery/templates/apparmor-usr.bin.osqueryd.j2', 'osquery/roles/osquery/test/integration/default-fleetmanager/serverspec/Gemfile', 'osquery/roles/osquery/test/integration/default-osquery-syslog-fs/serverspec/run-local-tests.sh', 'osquery/roles/osquery/templates/osquery-rsyslog.conf.j2', 'osquery/roles/osquery/templates/osqueryd-monit.j2', 'osquery/roles/osquery/.kitchen.docker.yml', 'osquery/roles/osquery/test/integration/default-osquery-syslog/serverspec/Rakefile', 'osquery/roles/osquery/test/integration/default-osquery-syslog-fs/bats/idempotency.bats', 'osquery/roles/osquery/test/travis/Dockerfile.alpine-3.4', 'osquery/roles/osquery/test/integration/default-fleetmanager/serverspec/osquery_spec.rb', 'osquery/roles/osquery/vars/Debian.yml', 'osquery/roles/osquery/vars/main.yml', 'osquery/roles/osquery/README.md', 'osquery/roles/osquery/vars/RedHat-7.yml', 'osquery/roles/osquery/handlers/main.yml', 'osquery/roles/osquery/test/integration/default/serverspec/Gemfile', 'osquery/roles/osquery/defaults/main.yml', 'osquery/roles/osquery/tasks/syslog-target.yml', 'osquery/roles/osquery/test/integration/default-profiling/serverspec/osquery_load_spec.rb', 'osquery/roles/osquery/test/integration/default-osquery-syslog-fs/serverspec/osquery_spec.rb', 'osquery/roles/osquery/files/logrotate-osquery', 'osquery/roles/osquery/test/integration/default-profiling/serverspec/Rakefile', 'osquery/roles/osquery/test/integration/default/serverspec/Rakefile', 'osquery/roles/osquery/test/integration/default-osquery-syslog-fs/serverspec/Gemfile', 'osquery/roles/osquery/test/integration/default-profiling/bats/idempotency.bats', 'osquery/roles/osquery/templates/osquery.fc.j2', 'osquery/roles/osquery/test/integration/default-osquery-syslog/serverspec/osquery_spec.rb', 'osquery/roles/osquery/vars/RedHat-6.yml', 'osquery/roles/osquery/.kitchen.yml', 'osquery/roles/osquery/templates/rsyslog-osquery-target.conf.j2', 'osquery/roles/osquery/test/vagrant/ansible.cfg', 'osquery/roles/osquery/vars/CentOS-7.yml', 'osquery/roles/osquery/tasks/main.yml', 'osquery/roles/osquery/templates/osquery.conf.j2', 'osquery/roles/osquery/test/integration/default-osquery-syslog/serverspec/osquery_syslog_spec.rb', 'osquery/roles/osquery/test/vagrant/site.yml', 'osquery/roles/osquery/vars/CentOS-6.yml', 'osquery/roles/osquery/test/travis/Dockerfile.ubuntu-12.04', 'osquery/roles/osquery/tasks/profiling.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/c901b0b706ae73560370148ef436133e1d945cee', 'message': ""Cleanup the osquery role\n\nThis change removes things we don't need and simplifies the task\nexecution.\n\nChange-Id: I5be516311eaadd634990a4b9006d1ceec4de5847\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}]",0,611641,c901b0b706ae73560370148ef436133e1d945cee,10,2,3,7353,,,0,"Cleanup the osquery role

This change removes things we don't need and simplifies the task
execution.

Change-Id: I5be516311eaadd634990a4b9006d1ceec4de5847
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/41/611641/3 && git format-patch -1 --stdout FETCH_HEAD,"['osquery/roles/osquery/vars/RedHat.yml', 'osquery/tests/functional.yml', 'osquery/roles/osquery/.travis.yml', 'osquery/roles/osquery/test/travis/Dockerfile.ubuntu-16.04', 'osquery/roles/osquery/test/integration/default-osquery-syslog/serverspec/run-local-tests.sh', 'osquery/roles/osquery/.travis.yml.orig', 'osquery/roles/osquery/Jenkinsfile', 'osquery/roles/osquery/test/integration/default/default.yml', 'osquery/roles/osquery/test/integration/default/serverspec/run-local-tests.sh', 'osquery/roles/osquery/.travis.yml.kitchen-docker', 'osquery/roles/osquery/test/integration/default-fleetmanager/serverspec/run-local-tests.sh', 'osquery/roles/osquery/vars/redhat.yml', 'osquery/roles/osquery/test/integration/default-osquery-syslog-fs/serverspec/Rakefile', 'osquery/roles/osquery/test/integration/default-osquery-syslog/serverspec/Gemfile', 'osquery/roles/osquery/.travis.yml.lxd-kitchen', 'osquery/roles/osquery/test/integration/default-profiling/serverspec/Gemfile', 'osquery/roles/osquery/vars/Ubuntu.yml', 'osquery/roles/osquery/.kitchen.vagrant.yml', 'osquery/roles/osquery/vars/debian.yml', 'osquery/roles/osquery/.travis.yml.docker', 'osquery/roles/osquery/tasks/osquery_configure.yml', 'osquery/roles/osquery/test/integration/default-fleetmanager/bats/idempotency.bats', 'osquery/roles/osquery/test/vagrant/Vagrantfile', 'osquery/roles/osquery/get-dependencies.sh', 'osquery/roles/osquery/tasks/osquery_debian.yml', 'osquery/roles/osquery/test/travis/Dockerfile.centos-6', 'osquery/roles/osquery/test/travis/Dockerfile.centos-7', 'osquery/roles/osquery/test/integration/default-osquery-syslog-fs/default.yml', 'osquery/roles/osquery/test/integration/default-fleetmanager/serverspec/Rakefile', 'osquery/roles/osquery/test/integration/default-profiling/default.yml', 'osquery/roles/osquery/test/integration/default/bats/idempotency.bats', 'osquery/roles/osquery/test/integration/default-osquery-syslog-fs/serverspec/rsyslog_spec.rb', 'osquery/roles/osquery/test/integration/default-fleetmanager/default.yml', 'osquery/roles/osquery/tasks/configure.yml', 'osquery/roles/osquery/.travis.yml.simple', 'osquery/roles/osquery/test/integration/default-osquery-syslog/default.yml', 'osquery/roles/osquery/tasks/testing.yml', 'osquery/roles/osquery/tests/inventory', 'osquery/roles/osquery/test/integration/default-osquery-syslog-fs/serverspec/osquery_syslog_spec.rb', 'osquery/roles/osquery/test/integration/default-osquery-syslog/serverspec/rsyslog_spec.rb', 'osquery/roles/osquery/test/travis/initctl_faker', 'osquery/roles/osquery/test/integration/default-profiling/serverspec/osquery_spec.rb', 'osquery/roles/osquery/test/integration/default-osquery-syslog/bats/idempotency.bats', 'osquery/roles/osquery/test/travis/Dockerfile.ubuntu-14.04', 'osquery/roles/osquery/test/travis/Dockerfile.debian-9', 'osquery/roles/osquery/test/travis/Dockerfile.ubuntu-18.04', 'osquery/roles/osquery/tests/test.yml', 'osquery/roles/osquery/test/integration/default/serverspec/osquery_spec.rb', 'osquery/roles/osquery/test/travis/Dockerfile.debian-8', 'osquery/roles/osquery/vars/CentOS.yml', 'osquery/roles/osquery/test/lxd/centos-ssh-image.sh', 'osquery/roles/osquery/test/integration/default-profiling/serverspec/run-local-tests.sh', 'osquery/roles/osquery/test/integration/default-fleetmanager/serverspec/Gemfile', 'osquery/roles/osquery/test/integration/default-osquery-syslog-fs/serverspec/run-local-tests.sh', 'osquery/roles/osquery/.kitchen.docker.yml', 'osquery/roles/osquery/test/integration/default-osquery-syslog/serverspec/Rakefile', 'osquery/roles/osquery/test/integration/default-osquery-syslog-fs/bats/idempotency.bats', 'osquery/roles/osquery/test/travis/Dockerfile.alpine-3.4', 'osquery/roles/osquery/test/integration/default-fleetmanager/serverspec/osquery_spec.rb', 'osquery/roles/osquery/vars/Debian.yml', 'osquery/roles/osquery/vars/main.yml', 'osquery/roles/osquery/README.md', 'osquery/roles/osquery/vars/RedHat-7.yml', 'osquery/roles/osquery/tasks/osquery_redhat.yml', 'osquery/roles/osquery/handlers/main.yml', 'osquery/roles/osquery/test/integration/default/serverspec/Gemfile', 'osquery/roles/osquery/defaults/main.yml', 'osquery/roles/osquery/tasks/syslog-target.yml', 'osquery/roles/osquery/test/integration/default-profiling/serverspec/osquery_load_spec.rb', 'osquery/roles/osquery/test/integration/default-osquery-syslog-fs/serverspec/osquery_spec.rb', 'osquery/roles/osquery/test/integration/default-profiling/serverspec/Rakefile', 'osquery/roles/osquery/test/integration/default/serverspec/Rakefile', 'osquery/roles/osquery/test/integration/default-osquery-syslog-fs/serverspec/Gemfile', 'osquery/roles/osquery/test/integration/default-profiling/bats/idempotency.bats', 'osquery/roles/osquery/test/integration/default-osquery-syslog/serverspec/osquery_spec.rb', 'osquery/roles/osquery/vars/RedHat-6.yml', 'osquery/roles/osquery/.kitchen.yml', 'osquery/roles/osquery/test/vagrant/ansible.cfg', 'osquery/roles/osquery/vars/CentOS-7.yml', 'osquery/roles/osquery/tasks/main.yml', 'osquery/roles/osquery/test/integration/default-osquery-syslog/serverspec/osquery_syslog_spec.rb', 'osquery/roles/osquery/test/vagrant/site.yml', 'osquery/roles/osquery/vars/CentOS-6.yml', 'osquery/roles/osquery/test/travis/Dockerfile.ubuntu-12.04', 'osquery/roles/osquery/tasks/profiling.yml']",85,880619e180fda06e9907161ae7404c4a455e06ed,kolide-cluster,,"--- - name: get source repository for profiling tools git: repo: https://github.com/facebook/osquery.git dest: /root/osquery - name: ensure profiling dependencies are present - pkg package: name: ""{{ item }}"" state: present with_items: - python-pip - name: ensure profiling dependencies are present - pip pip: name: ""{{ item }}"" state: present with_items: - psutil - name: profiling command: ""./tools/analysis/profile.py --config {{ osquery_profiling_conf }} --shell /usr/bin/osqueryi --count 1 --rounds 4"" args: chdir: /root/osquery changed_when: false register: perf - debug: var=perf.stdout_lines ",228,2283
openstack%2Fcinder~master~Ic872427aa9b475483fa0abaa638529d7758c2677,openstack/cinder,master,Ic872427aa9b475483fa0abaa638529d7758c2677,"Using ""availability_zone"" property in restoration",ABANDONED,2018-08-03 06:24:03.000000000,2018-10-19 01:33:09.000000000,,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 27641}]","[{'number': 1, 'created': '2018-08-03 06:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fff4d1b753db6e518a06cb29ebcfab58382fd9ae', 'message': 'Using ""availability_zone"" property when restoring\n\nVolume availability_zone property is passed to the backup object when\ncreating volume backup. But this property is not used when creating new\nvolume in restoration. The ""availability_zone"" property is better than\nthe default ""nova"" az in restoration.\n\nThis patch is to make ""availability_zone"" property used in restoration.\n\nChange-Id: Ic872427aa9b475483fa0abaa638529d7758c2677\nCloses-bug: #1785156\n'}, {'number': 2, 'created': '2018-08-03 09:48:33.000000000', 'files': ['cinder/tests/unit/api/contrib/test_backups.py', 'cinder/backup/api.py', 'releasenotes/notes/use-availability_zone-in-restoration-3a84bcff52f3a162.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/de55393ae46ca06b79b7aabb01c89f6996ca37ad', 'message': 'Using ""availability_zone"" property in restoration\n\nVolume availability_zone property is passed to the backup object when\ncreating volume backup. But this property is not used when creating new\nvolume in restoration. The ""availability_zone"" property is better than\nthe default ""nova"" az in restoration.\n\nThis patch is to make ""availability_zone"" property used in restoration.\n\nChange-Id: Ic872427aa9b475483fa0abaa638529d7758c2677\nCloses-bug: #1785156\n'}]",0,588447,de55393ae46ca06b79b7aabb01c89f6996ca37ad,43,27,2,27641,,,0,"Using ""availability_zone"" property in restoration

Volume availability_zone property is passed to the backup object when
creating volume backup. But this property is not used when creating new
volume in restoration. The ""availability_zone"" property is better than
the default ""nova"" az in restoration.

This patch is to make ""availability_zone"" property used in restoration.

Change-Id: Ic872427aa9b475483fa0abaa638529d7758c2677
Closes-bug: #1785156
",git fetch https://review.opendev.org/openstack/cinder refs/changes/47/588447/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/api/contrib/test_backups.py', 'cinder/backup/api.py']",2,fff4d1b753db6e518a06cb29ebcfab58382fd9ae,bug/1785156," volume = self.volume_api.create( context, size, name, description, availability_zone=backup.availability_zone)"," volume = self.volume_api.create(context, size, name, description)",13,6
openstack%2Fmagnum-ui~master~Ifab511cf25c5a09417e503c1d0982117b56a3870,openstack/magnum-ui,master,Ifab511cf25c5a09417e503c1d0982117b56a3870,Fix image URL for cluster template overview,MERGED,2018-10-18 01:41:21.000000000,2018-10-19 01:23:47.000000000,2018-10-18 06:13:22.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-18 01:41:21.000000000', 'files': ['magnum_ui/static/dashboard/container-infra/cluster-templates/details/overview.html'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/0256f555607f7818c255a1a53090b5344e8ffd9b', 'message': 'Fix image URL for cluster template overview\n\nChange-Id: Ifab511cf25c5a09417e503c1d0982117b56a3870\n'}]",0,611474,0256f555607f7818c255a1a53090b5344e8ffd9b,7,2,1,6484,,,0,"Fix image URL for cluster template overview

Change-Id: Ifab511cf25c5a09417e503c1d0982117b56a3870
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/74/611474/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum_ui/static/dashboard/container-infra/cluster-templates/details/overview.html'],1,0256f555607f7818c255a1a53090b5344e8ffd9b,fix-image-link," <dd><a href=""project/images/{$ ctrl.cluster_template.image_id $}/"" target=""_self"">{$ ctrl.cluster_template.image_id $}</a></dd>"," <dd><a href=""project/images/{$ ctrl.image_uuid $}/"" target=""_self"">{$ ctrl.cluster_template.image_id $}</a></dd>",1,1
openstack%2Fdesignate~master~I3e6e122655455b249a7fdc03514643f167521497,openstack/designate,master,I3e6e122655455b249a7fdc03514643f167521497,Increment versioning with pbr instruction,MERGED,2018-10-15 13:48:15.000000000,2018-10-19 01:03:46.000000000,2018-10-19 01:03:46.000000000,"[{'_account_id': 8099}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2018-10-15 13:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/2daac71d3897a2178d8d7b2b2dd21d9152647f36', 'message': 'Increment versioning with pbr instruction\n\nWith moving away from required milestone releases, the version numbers\ncalculated by PBR on the master branch will not work for those testing\nupgrades from the last stable release. More details can be found in the\nmailing list post here:\n\n    http://lists.openstack.org/pipermail/openstack-dev/2018-October/135706.html\n\nThis is an empty commit that will cause PBR to increment its calculated\nversion to get around this.\n\nPBR will see the following which will cause it to increment the version:\n\nSem-Ver: feature\n\nPlease merge this patch as soon as possible to support those testing\nupgrades.\n\nChange-Id: I3e6e122655455b249a7fdc03514643f167521497\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2018-10-18 18:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a95da430436e855c009f3deec83a40eaf4d034c0', 'message': 'Increment versioning with pbr instruction\n\nWith moving away from required milestone releases, the version numbers\ncalculated by PBR on the master branch will not work for those testing\nupgrades from the last stable release. More details can be found in the\nmailing list post here:\n\n    http://lists.openstack.org/pipermail/openstack-dev/2018-October/135706.html\n\nThis is an empty commit that will cause PBR to increment its calculated\nversion to get around this.\n\nPBR will see the following which will cause it to increment the version:\n\nSem-Ver: feature\n\nPlease merge this patch as soon as possible to support those testing\nupgrades.\n\nChange-Id: I3e6e122655455b249a7fdc03514643f167521497\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,610561,a95da430436e855c009f3deec83a40eaf4d034c0,19,4,2,11904,,,0,"Increment versioning with pbr instruction

With moving away from required milestone releases, the version numbers
calculated by PBR on the master branch will not work for those testing
upgrades from the last stable release. More details can be found in the
mailing list post here:

    http://lists.openstack.org/pipermail/openstack-dev/2018-October/135706.html

This is an empty commit that will cause PBR to increment its calculated
version to get around this.

PBR will see the following which will cause it to increment the version:

Sem-Ver: feature

Please merge this patch as soon as possible to support those testing
upgrades.

Change-Id: I3e6e122655455b249a7fdc03514643f167521497
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/designate refs/changes/61/610561/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,2daac71d3897a2178d8d7b2b2dd21d9152647f36,sem-ver,,,0,0
openstack%2Fpuppet-keystone~master~I5160e59522b5cf96eb80f83ab7f2ca593b64fe54,openstack/puppet-keystone,master,I5160e59522b5cf96eb80f83ab7f2ca593b64fe54,Add password hash algorithm and rounds config,MERGED,2018-09-13 09:24:43.000000000,2018-10-19 00:56:55.000000000,2018-10-19 00:56:55.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-13 09:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/23ee637987cbdf659ea9ad76b979349b43b0a560', 'message': 'Add password hash algorithm and rounds config\n\nAdds the password_hash_algorithm and\npassword_hash_rounds configuration options.\n\nThese can be used to configure the password\nhash algorithm and the amount of rounds on the\nhash that keystone should do.\n\nChange-Id: I5160e59522b5cf96eb80f83ab7f2ca593b64fe54\n'}, {'number': 2, 'created': '2018-09-13 12:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/21d53496ed2c3e30b62afedc5d905c2674b7fbdf', 'message': 'Add password hash algorithm and rounds config\n\nAdds the password_hash_algorithm and\npassword_hash_rounds configuration options.\n\nThese can be used to configure the password\nhash algorithm and the amount of rounds on the\nhash that keystone should do.\n\nDepends-On: https://review.openstack.org/#/c/602346/\nChange-Id: I5160e59522b5cf96eb80f83ab7f2ca593b64fe54\n'}, {'number': 3, 'created': '2018-09-13 18:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/ace18ff35e167a16dc2d23ff455e02fae1f012ef', 'message': 'Add password hash algorithm and rounds config\n\nAdds the password_hash_algorithm and\npassword_hash_rounds configuration options.\n\nThese can be used to configure the password\nhash algorithm and the amount of rounds on the\nhash that keystone should do.\n\nDepends-On: https://review.openstack.org/#/c/602346/\nChange-Id: I5160e59522b5cf96eb80f83ab7f2ca593b64fe54\n'}, {'number': 4, 'created': '2018-09-13 22:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/a87a469f76bcd117b9c34b6fdb0e83bba8ac5e35', 'message': 'Add password hash algorithm and rounds config\n\nAdds the password_hash_algorithm and\npassword_hash_rounds configuration options.\n\nThese can be used to configure the password\nhash algorithm and the amount of rounds on the\nhash that keystone should do.\n\nChange-Id: I5160e59522b5cf96eb80f83ab7f2ca593b64fe54\n'}, {'number': 5, 'created': '2018-10-16 10:55:51.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/password-hash-algo-884cb38f8edecb6b.yaml', 'spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/92b307db46db95a528d909b85b6a8accb7dd42b6', 'message': 'Add password hash algorithm and rounds config\n\nAdds the password_hash_algorithm and\npassword_hash_rounds configuration options.\n\nThese can be used to configure the password\nhash algorithm and the amount of rounds on the\nhash that keystone should do.\n\nChange-Id: I5160e59522b5cf96eb80f83ab7f2ca593b64fe54\n'}]",0,602277,92b307db46db95a528d909b85b6a8accb7dd42b6,40,5,5,16137,,,0,"Add password hash algorithm and rounds config

Adds the password_hash_algorithm and
password_hash_rounds configuration options.

These can be used to configure the password
hash algorithm and the amount of rounds on the
hash that keystone should do.

Change-Id: I5160e59522b5cf96eb80f83ab7f2ca593b64fe54
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/77/602277/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/password-hash-algo-884cb38f8edecb6b.yaml', 'spec/classes/keystone_init_spec.rb']",3,23ee637987cbdf659ea9ad76b979349b43b0a560,602277," 'password_hash_algorithm' => '<SERVICE DEFAULT>', 'password_hash_rounds' => '<SERVICE DEFAULT>', 'password_hash_algorithm' => 'pbkdf2_sha512', 'password_hash_rounds' => '29000', it 'should contain password_hash_algorithm' do is_expected.to contain_keystone_config('identity/password_hash_algorithm').with_value(param_hash['password_hash_algorithm']) end it 'should contain password_hash_rounds' do is_expected.to contain_keystone_config('identity/password_hash_rounds').with_value(param_hash['password_hash_rounds']) end ",,33,1
openstack%2Fkeystoneauth~master~I3abce4e3c147befd0235820cb8850fe18f6dee42,openstack/keystoneauth,master,I3abce4e3c147befd0235820cb8850fe18f6dee42,Update sphinx extension logging,MERGED,2018-10-16 19:21:45.000000000,2018-10-19 00:44:29.000000000,2018-10-19 00:44:29.000000000,"[{'_account_id': 2}, {'_account_id': 2903}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 19:21:45.000000000', 'files': ['doc/ext/list_plugins.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/87ca0d72fa7de93089f77974f26e497533a46be5', 'message': 'Update sphinx extension logging\n\nSphinx 1.6 deprecated using the application object to perform logging\nand it will be removed in the upcoming 2.0 release. This updates our\nextensions to use the recommended sphinx.util.logging instead.\n\nChange-Id: I3abce4e3c147befd0235820cb8850fe18f6dee42\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,611135,87ca0d72fa7de93089f77974f26e497533a46be5,7,3,1,11904,,,0,"Update sphinx extension logging

Sphinx 1.6 deprecated using the application object to perform logging
and it will be removed in the upcoming 2.0 release. This updates our
extensions to use the recommended sphinx.util.logging instead.

Change-Id: I3abce4e3c147befd0235820cb8850fe18f6dee42
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/35/611135/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/ext/list_plugins.py'],1,87ca0d72fa7de93089f77974f26e497533a46be5,,"from sphinx.util import loggingLOG = logging.getLogger(__name__) def report_load_failure(mgr, ep, err): LOG.warning(u'Failed to load %s: %s' % (ep.module_name, err)) LOG.info('loading keystoneauth1 plugins')"," @property def app(self): return self.state.document.settings.env.app def report_load_failure(mgr, ep, err): self.app.warn(u'Failed to load %s: %s' % (ep.module_name, err)) app.info('loading keystoneauth1 plugins')",5,7
openstack%2Fkeystonemiddleware~master~Ib03ace4c0c02e1c99d979d6e4a2570c729da56c1,openstack/keystonemiddleware,master,Ib03ace4c0c02e1c99d979d6e4a2570c729da56c1,Handling is_domain token attribute from keystone,ABANDONED,2015-07-02 17:57:20.000000000,2018-10-19 00:44:10.000000000,,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 8866}, {'_account_id': 10046}, {'_account_id': 11022}, {'_account_id': 17860}]","[{'number': 1, 'created': '2015-07-02 17:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/3b93d4d1cddcdb7381ca8327ebb38517ef223a24', 'message': 'WIP: Handling is_domain token attribute from keystone\n\nThis patch handles the new is_domain attribute from project scoped token in\nkeystone v3.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nBlueprint add-isdomain-to-token\nDepends-On: If73c01347490ceb27bcf38de5341241ff3acd202\n\nChange-Id: Ib03ace4c0c02e1c99d979d6e4a2570c729da56c1\n'}, {'number': 2, 'created': '2015-07-09 13:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/663594f1fdf2e454e8d8057388917e34b55bc277', 'message': 'WIP: Handling is_domain token attribute from keystone\n\nThis patch handles the new is_domain attribute from project scoped token in\nkeystone v3.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nBlueprint add-isdomain-to-token\nDepends-On: If73c01347490ceb27bcf38de5341241ff3acd202\n\nChange-Id: Ib03ace4c0c02e1c99d979d6e4a2570c729da56c1\n'}, {'number': 3, 'created': '2015-07-09 14:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/5e08952d942a31202c3dbd8549abfc4dfb458de2', 'message': 'Handling is_domain token attribute from keystone\n\nThis patch handles the new is_domain attribute from project scoped token in\nkeystone v3.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nBlueprint add-isdomain-to-token\nDepends-On: If73c01347490ceb27bcf38de5341241ff3acd202\n\nChange-Id: Ib03ace4c0c02e1c99d979d6e4a2570c729da56c1\n'}, {'number': 4, 'created': '2016-03-21 14:09:08.000000000', 'files': ['keystonemiddleware/auth_token/_request.py', 'keystonemiddleware/auth_token/_user_plugin.py', 'keystonemiddleware/auth_token/__init__.py', 'keystonemiddleware/tests/unit/client_fixtures.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/9a1ebf28772c991c1aee25e49464ba41bbd260d9', 'message': 'Handling is_domain token attribute from keystone\n\nThis patch handles the new is_domain attribute from project scoped token in\nkeystone v3.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\n\nBlueprint add-isdomain-to-token\nDepends-On: If73c01347490ceb27bcf38de5341241ff3acd202\n\nChange-Id: Ib03ace4c0c02e1c99d979d6e4a2570c729da56c1\n'}]",0,198076,9a1ebf28772c991c1aee25e49464ba41bbd260d9,20,8,4,10046,,,0,"Handling is_domain token attribute from keystone

This patch handles the new is_domain attribute from project scoped token in
keystone v3.

Co-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>

Blueprint add-isdomain-to-token
Depends-On: If73c01347490ceb27bcf38de5341241ff3acd202

Change-Id: Ib03ace4c0c02e1c99d979d6e4a2570c729da56c1
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/76/198076/4 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/auth_token/_request.py', 'keystonemiddleware/auth_token/_user_plugin.py', 'keystonemiddleware/auth_token/__init__.py', 'keystonemiddleware/tests/unit/client_fixtures.py']",5,3b93d4d1cddcdb7381ca8327ebb38517ef223a24,bp/add-isdomain-to-token," IS_DOMAIN = False project_domain_name=DOMAIN_NAME, is_domain=False)", project_domain_name=DOMAIN_NAME),20,1
openstack%2Fkeystonemiddleware~master~I8c24a6578b4d76c4baa0456b2a42dbd38ad0b5dd,openstack/keystonemiddleware,master,I8c24a6578b4d76c4baa0456b2a42dbd38ad0b5dd,Cross-region requests are not blocked by keystonemiddleware,ABANDONED,2017-03-20 07:24:32.000000000,2018-10-19 00:43:53.000000000,,"[{'_account_id': 4}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 5707}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 7725}, {'_account_id': 11022}, {'_account_id': 13063}, {'_account_id': 13478}, {'_account_id': 17860}, {'_account_id': 18338}, {'_account_id': 24791}]","[{'number': 1, 'created': '2017-03-20 07:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/761286647ff9f3b97a1d15953ff4ec7f31ed22e1', 'message': ""Cross-region requests are not blocked by keystonemiddleware\n\nAdd public endpoint filtering in token data.\nAdd a publicEndpoint option.\n\nAssuming infrastructure with multiple regions and one centralized Keystone Identify Service\nKeystonemiddleware doesn't filter out requests with valid token taken from first region to\nservices defined in second region.\nIt is possible to list glance public images, nova public flavors etc. with token from\ndifferent region even if Keystone endpoint catalog filtering is set.\nThis patch solves this issue.\n\nChange-Id: I8c24a6578b4d76c4baa0456b2a42dbd38ad0b5dd\n""}, {'number': 2, 'created': '2017-03-20 08:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/d28c20d3bd11ca1975a7d2bd778235a7fd305053', 'message': ""Cross-region requests are not blocked by keystonemiddleware\n\nAdd public endpoint filtering in token data.\nAdd a publicEndpoint option.\n\nAssuming infrastructure with multiple regions and one centralized Keystone Identify Service\nKeystonemiddleware doesn't filter out requests with valid token taken from first region to\nservices defined in second region.\nIt is possible to list glance public images, nova public flavors etc. with token from\ndifferent region even if Keystone endpoint catalog filtering is set.\nThis patch solves this issue.\n\nChange-Id: I8c24a6578b4d76c4baa0456b2a42dbd38ad0b5dd\n""}, {'number': 3, 'created': '2017-03-20 08:53:30.000000000', 'files': ['keystonemiddleware/auth_token/_opts.py', 'keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/tests/unit/test_opts.py', 'keystonemiddleware/auth_token/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/14b1200ba2ca0920d5f70d04d3e861d21c8887dc', 'message': ""Cross-region requests are not blocked by keystonemiddleware\n\nAdd public endpoint filtering in token data.\nAdd a publicEndpoint option.\n\nAssuming infrastructure with multiple regions and one centralized Keystone Identify Service\nKeystonemiddleware doesn't filter out requests with valid token taken from first region to\nservices defined in second region.\nIt is possible to list glance public images, nova public flavors etc. with token from\ndifferent region even if Keystone endpoint catalog filtering is set.\nThis patch solves this issue.\n\nChange-Id: I8c24a6578b4d76c4baa0456b2a42dbd38ad0b5dd\n""}]",2,447396,14b1200ba2ca0920d5f70d04d3e861d21c8887dc,14,14,3,24791,,,0,"Cross-region requests are not blocked by keystonemiddleware

Add public endpoint filtering in token data.
Add a publicEndpoint option.

Assuming infrastructure with multiple regions and one centralized Keystone Identify Service
Keystonemiddleware doesn't filter out requests with valid token taken from first region to
services defined in second region.
It is possible to list glance public images, nova public flavors etc. with token from
different region even if Keystone endpoint catalog filtering is set.
This patch solves this issue.

Change-Id: I8c24a6578b4d76c4baa0456b2a42dbd38ad0b5dd
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/96/447396/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/auth_token/_opts.py', 'keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/tests/unit/test_opts.py', 'keystonemiddleware/auth_token/__init__.py']",4,761286647ff9f3b97a1d15953ff4ec7f31ed22e1,bug/1672696,"import refrom urlparse import urlparse self._confirm_token_valid_publicEndpoint(user_auth_ref) def _confirm_token_valid_publicEndpoint(self, user_auth_ref): pass def _get_authorizedEndpoint(self): try: configuredAuthorizedEndpoint = self._conf.get('publicEndpoint') if re.search(""^http"", configuredAuthorizedEndpoint): authorizedEndpoint = \ urlparse(configuredAuthorizedEndpoint).netloc else: authorizedEndpoint = configuredAuthorizedEndpoint except Exception: self.log.warning(_LW(""Endpoint filter enabled but publicEndpoint "" ""is not found or urlparse cannot parse it"")) raise ksm_exceptions.ServiceError('Token authorization failed') return authorizedEndpoint def _get_public_endpoints_list_from_token(self, user_auth_ref): if user_auth_ref.version == 'v2.0': token_endpoints = user_auth_ref._data['access']['serviceCatalog'] url_type = 'publicURL' elif user_auth_ref.version == 'v3': token_endpoints = user_auth_ref._data['token']['catalog'] url_type = 'url' else: self.log.warning(_LW(""Token does not look like v2 or v3 token!"")) raise ksm_exceptions.InvalidToken(_('Token authorization failed')) return token_endpoints, url_type def _confirm_token_valid_publicEndpoint(self, user_auth_ref): """"""Perform publicEndpoint validation. :param user_auth_ref: The token data :type auth_ref: keystoneauth1.access.AccessInfo :raises ksm_exceptions.InvalidToken: if token is rejected """""" if not self._conf.get('publicEndpoint'): self.log.debug(_LI(""PublicEndpoint token validation is disabled."")) return True if not user_auth_ref._data: self.log.warning(_LW(""Unable to find data in token"")) raise ksm_exceptions.InvalidToken(_('Token authorization failed')) authorizedEndpoint = self._get_authorizedEndpoint() token_endpoints, url_type = self.\ _get_public_endpoints_list_from_token(user_auth_ref) for endpoints in token_endpoints: for endpoint in endpoints['endpoints']: publicEndpoint = urlparse(endpoint[url_type]) if publicEndpoint.netloc == authorizedEndpoint: return True self.log.warning(""Unable to find endpoint in token which "" ""match %s"" % authorizedEndpoint) raise ksm_exceptions.InvalidToken(_('Token authorization failed')) ",,125,0
openstack%2Fkeystonemiddleware~master~Id2b9e3eb6a5f6001804c2b6b81c2d01b141d260b,openstack/keystonemiddleware,master,Id2b9e3eb6a5f6001804c2b6b81c2d01b141d260b,Add python-memcached to requirements,ABANDONED,2016-02-26 14:06:59.000000000,2018-10-19 00:43:24.000000000,,"[{'_account_id': 455}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 7191}, {'_account_id': 8871}, {'_account_id': 17860}]","[{'number': 1, 'created': '2016-02-26 14:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/4dd7b7634b89887de37431232f96a08527ff0ecb', 'message': 'Add python-memcached to requirements\n\nAdd python-memcached to requirements to avoid\nthe following ImportError:\n\nImportError: No module named memcache\n\nChange-Id: Id2b9e3eb6a5f6001804c2b6b81c2d01b141d260b\nCloses-bug: 1550357\n'}, {'number': 2, 'created': '2016-02-26 15:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/3c808d791a97cf51354e3a8031b3210f61f35c12', 'message': 'Add python-memcached to requirements\n\nAdd python-memcached to requirements to avoid\nthe following ImportError:\n\nImportError: No module named memcache\n\nChange-Id: Id2b9e3eb6a5f6001804c2b6b81c2d01b141d260b\nCloses-bug: 1550357\n'}, {'number': 3, 'created': '2017-01-09 03:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/d79079abf389464d7c0c6fc9c74d574368e55334', 'message': 'Add python-memcached to requirements\n\nAdd python-memcached to requirements to avoid\nthe following ImportError:\n\nImportError: No module named memcache\n\nChange-Id: Id2b9e3eb6a5f6001804c2b6b81c2d01b141d260b\nCloses-bug: 1550357\n'}, {'number': 4, 'created': '2017-01-09 03:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/bd69405ad6957b6daeaf26f66e1b7f5e8465537a', 'message': 'Add python-memcached to requirements\n\nAdd python-memcached to requirements to avoid\nthe following ImportError:\n\nImportError: No module named memcache\n\nChange-Id: Id2b9e3eb6a5f6001804c2b6b81c2d01b141d260b\nCloses-bug: 1550357\n'}, {'number': 5, 'created': '2017-03-28 18:43:54.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'keystonemiddleware/auth_token/_memcache_pool.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/1bea94f15aa94e83e038e48fa8f228f163ed714b', 'message': 'Add python-memcached to requirements\n\nAdd python-memcached to requirements to avoid\nthe following ImportError:\n\nImportError: No module named memcache\n\nChange-Id: Id2b9e3eb6a5f6001804c2b6b81c2d01b141d260b\nCloses-bug: 1550357\n'}]",0,285315,1bea94f15aa94e83e038e48fa8f228f163ed714b,33,6,5,455,,,0,"Add python-memcached to requirements

Add python-memcached to requirements to avoid
the following ImportError:

ImportError: No module named memcache

Change-Id: Id2b9e3eb6a5f6001804c2b6b81c2d01b141d260b
Closes-bug: 1550357
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/15/285315/5 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,4dd7b7634b89887de37431232f96a08527ff0ecb,bug/1550357,python-memcached>=1.56 # PSF,,1,0
openstack%2Fkeystonemiddleware~master~Ibabaf9bf1fe203c25cf772f73e70f0008983dbac,openstack/keystonemiddleware,master,Ibabaf9bf1fe203c25cf772f73e70f0008983dbac,[WIP] Quota limits,ABANDONED,2016-11-28 09:26:38.000000000,2018-10-19 00:42:49.000000000,,[{'_account_id': 17862}],"[{'number': 1, 'created': '2016-11-28 09:26:38.000000000', 'files': ['keystonemiddleware/auth_token/_opts.py', 'keystonemiddleware/auth_token/_request.py', 'keystonemiddleware/auth_token/_identity.py', 'keystonemiddleware/auth_token/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/571f84182ba05edafb709a572e74e3ab61308ee3', 'message': '[WIP] Quota limits\n\nChange-Id: Ibabaf9bf1fe203c25cf772f73e70f0008983dbac\nspec: https://review.openstack.org/#/c/363765\n'}]",0,403586,571f84182ba05edafb709a572e74e3ab61308ee3,5,1,1,17862,,,0,"[WIP] Quota limits

Change-Id: Ibabaf9bf1fe203c25cf772f73e70f0008983dbac
spec: https://review.openstack.org/#/c/363765
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/86/403586/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/auth_token/_opts.py', 'keystonemiddleware/auth_token/_request.py', 'keystonemiddleware/auth_token/_identity.py', 'keystonemiddleware/auth_token/__init__.py']",4,571f84182ba05edafb709a572e74e3ab61308ee3,WIP-Limits-PoC," self._include_limits = self._conf.get('include_limits') if self._include_limits: request.set_limits_headers(request.token_auth.user) include_limits=self._include_limits,",,37,4
openstack%2Fkeystonemiddleware~master~I7cf370981fac595243aac5072323b89e494ed246,openstack/keystonemiddleware,master,I7cf370981fac595243aac5072323b89e494ed246,Auth_token support audit_id-only revocation list,ABANDONED,2015-12-21 21:18:56.000000000,2018-10-19 00:41:32.000000000,,"[{'_account_id': 2903}, {'_account_id': 6486}]","[{'number': 1, 'created': '2015-12-21 21:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/e2fb8917ec06c33137399778171cda333f881875', 'message': 'Support audit_id-only revocation list\n\nRecent versions of keystone support getting a revocation list with\nonly audit IDs and no token IDs. auth_token middleware is changed\nto request audit IDs only and validate by audit ID.\n\nChange-Id: I7cf370981fac595243aac5072323b89e494ed246\n'}, {'number': 2, 'created': '2015-12-21 21:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/22a0daf3f62a610e5e42673a7ee7301226d2a759', 'message': 'Support audit_id-only revocation list\n\nRecent versions of keystone support getting a revocation list with\nonly audit IDs and no token IDs. auth_token middleware is changed\nto request audit IDs only and validate by audit ID.\n\nDepends-On: I6c40f1ed32f102006c881e80f9ef0025a9d8709b\nCloses-Bug: 1317302\nChange-Id: I7cf370981fac595243aac5072323b89e494ed246\n'}, {'number': 3, 'created': '2015-12-21 21:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/6f37caa5480cad58422c04cc18aa8b1ff85235e8', 'message': 'Support audit_id-only revocation list\n\nRecent versions of keystone support getting a revocation list with\nonly audit IDs and no token IDs. auth_token middleware is changed\nto request audit IDs only and validate by audit ID.\n\nDepends-On: I6c40f1ed32f102006c881e80f9ef0025a9d8709b\nCloses-Bug: 1317302\nChange-Id: I7cf370981fac595243aac5072323b89e494ed246\n'}, {'number': 4, 'created': '2015-12-21 21:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/a6889426d3fb76d6536d15fa37e42dd8bcb20951', 'message': 'Support audit_id-only revocation list\n\nRecent versions of keystone support getting a revocation list with\nonly audit IDs and no token IDs. auth_token middleware is changed\nto request audit IDs only and validate by audit ID.\n\nDepends-On: I6c40f1ed32f102006c881e80f9ef0025a9d8709b\nCloses-Bug: 1317302\nChange-Id: I7cf370981fac595243aac5072323b89e494ed246\n'}, {'number': 5, 'created': '2015-12-22 21:15:42.000000000', 'files': ['keystonemiddleware/auth_token/_identity.py', 'keystonemiddleware/auth_token/_revocations.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/aa742a8a334a8146be269e3729e0cc0e32b98b2d', 'message': 'Auth_token support audit_id-only revocation list\n\nRecent versions of keystone support getting a revocation list with\nonly audit IDs and no token IDs. auth_token middleware is changed\nto request audit IDs only and validate by audit ID.\n\nDepends-On: I6c40f1ed32f102006c881e80f9ef0025a9d8709b\nCloses-Bug: 1317302\nChange-Id: I7cf370981fac595243aac5072323b89e494ed246\n'}]",4,260220,aa742a8a334a8146be269e3729e0cc0e32b98b2d,21,2,5,6486,,,0,"Auth_token support audit_id-only revocation list

Recent versions of keystone support getting a revocation list with
only audit IDs and no token IDs. auth_token middleware is changed
to request audit IDs only and validate by audit ID.

Depends-On: I6c40f1ed32f102006c881e80f9ef0025a9d8709b
Closes-Bug: 1317302
Change-Id: I7cf370981fac595243aac5072323b89e494ed246
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/20/260220/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/auth_token/_identity.py', 'keystonemiddleware/echo/service.py', 'keystonemiddleware/auth_token/_revocations.py']",3,e2fb8917ec06c33137399778171cda333f881875,bug/1317302," if isinstance(revocation_list_data, dict): return revocation_list_data if isinstance(value, dict): self._list_prop = value value = jsonutils.dumps(value) else: self._list_prop = jsonutils.loads(value) revoked_ids = (x['id'] for x in revoked_tokens if 'id' in x)", self._list_prop = jsonutils.loads(value) revoked_ids = (x['id'] for x in revoked_tokens),18,4
openstack%2Fdesignate~stable%2Fpike~Ib4e0bc567ba8eb54c61c3921d165521bf2f12206,openstack/designate,stable/pike,Ib4e0bc567ba8eb54c61c3921d165521bf2f12206,Make update_status use synchronized_zone,MERGED,2018-09-23 10:52:54.000000000,2018-10-19 00:33:32.000000000,2018-10-19 00:33:31.000000000,"[{'_account_id': 8099}, {'_account_id': 12898}, {'_account_id': 21907}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2018-09-23 10:52:54.000000000', 'files': ['designate/central/service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/7c2a3be3e42cc72b6b03c9b6cb67393d423e5e21', 'message': ""Make update_status use synchronized_zone\n\nThere is a race condition when adding a new recordset to a zone\nand when central is processing the update_status from a previous\nrecordset/zone operation. In the subsequent recordset operation,\ncentral fails to update the zone's action/status in DB to UPDATE/PENDING.\nIt remains as NONE/ACTIVE, and worker error's out.\n\nEach operation retrieves a different copy in memory of the Zone object\n(when it calls self.storage.get_zone). As a result this does not update\nthe obj_changes field for the zone object for the latter operation.\nTherefore the DB update doesn't update any values.\n\nupdate_status should be synchronized as it updates zone DB\n\nChange-Id: Ib4e0bc567ba8eb54c61c3921d165521bf2f12206\nCloses-Bug: #1713875\n(cherry picked from commit 12cd654b143e215dbe01cc2688a7d6e6cf3ce62f)\n""}]",0,604612,7c2a3be3e42cc72b6b03c9b6cb67393d423e5e21,10,5,1,18483,,,0,"Make update_status use synchronized_zone

There is a race condition when adding a new recordset to a zone
and when central is processing the update_status from a previous
recordset/zone operation. In the subsequent recordset operation,
central fails to update the zone's action/status in DB to UPDATE/PENDING.
It remains as NONE/ACTIVE, and worker error's out.

Each operation retrieves a different copy in memory of the Zone object
(when it calls self.storage.get_zone). As a result this does not update
the obj_changes field for the zone object for the latter operation.
Therefore the DB update doesn't update any values.

update_status should be synchronized as it updates zone DB

Change-Id: Ib4e0bc567ba8eb54c61c3921d165521bf2f12206
Closes-Bug: #1713875
(cherry picked from commit 12cd654b143e215dbe01cc2688a7d6e6cf3ce62f)
",git fetch https://review.opendev.org/openstack/designate refs/changes/12/604612/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/central/service.py'],1,7c2a3be3e42cc72b6b03c9b6cb67393d423e5e21,bug/1713875-stable/pike, @synchronized_zone(),,1,0
openstack%2Fcongress~master~I75fe536de390bf714961a6e7ac3dd8630379019b,openstack/congress,master,I75fe536de390bf714961a6e7ac3dd8630379019b,ignore keys directory created by test suite,MERGED,2018-10-05 20:40:46.000000000,2018-10-19 00:19:45.000000000,2018-10-19 00:19:45.000000000,"[{'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2018-10-05 20:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/d49385680ae8466750b95fd1d66c701b9a855bd1', 'message': 'ignore keys directory created by test suite\n\nChange-Id: I75fe536de390bf714961a6e7ac3dd8630379019b\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-10-06 15:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/f74ab481455202cbe260f3c437a15923eefaff74', 'message': 'ignore keys directory created by test suite\n\nChange-Id: I75fe536de390bf714961a6e7ac3dd8630379019b\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2018-10-06 18:28:42.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/congress/commit/f37000aaa709f7e09783a4c68318aae5ebb55178', 'message': 'ignore keys directory created by test suite\n\nChange-Id: I75fe536de390bf714961a6e7ac3dd8630379019b\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,608354,f37000aaa709f7e09783a4c68318aae5ebb55178,17,3,3,2472,,,0,"ignore keys directory created by test suite

Change-Id: I75fe536de390bf714961a6e7ac3dd8630379019b
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/congress refs/changes/54/608354/3 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,d49385680ae8466750b95fd1d66c701b9a855bd1,change-dist-name, # Files generated by tests congress/tests/etc/keys,,3,0
openstack%2Fdevstack~master~I852eaa1ad33e3b8b8107f0d4c4950757383f53a0,openstack/devstack,master,I852eaa1ad33e3b8b8107f0d4c4950757383f53a0,Support enable_plugin with TARGET_BRANCH,ABANDONED,2018-10-13 22:43:54.000000000,2018-10-19 00:03:54.000000000,,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11536}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-13 22:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/13b2377e610bdccb3b2ef6e12b5560418adc7671', 'message': ""Respect to TARGET_BRANCH on enable_plugin\n\nClone a stable branch devstack and enable a devstack plugin\n(without explicitly specify a branch). Devstack clone master\nbranch instead of TARGET_BRANCH. This shouldn't be the default\nbehavior because the branch will be inconsistent between\ncore projects (i.e. nova) and plugin's projects.\n\nChange-Id: I852eaa1ad33e3b8b8107f0d4c4950757383f53a0\n""}, {'number': 2, 'created': '2018-10-18 03:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4d91a8449de5013886ca895031baaa05ea9031af', 'message': ""Support enable_plugin with TARGET_BRANCH\n\nThe existing function 'enable_plugin' clone the plugin\nin master branch by default. This shouldn't be the default\nbehavior because the core projects will be cloned with\n$TARGET_BRANCH which might be different from the plugin's branch.\nThis leads to an inconsistent of branches and break.\n\nHowever, we don't want to modify the existing function as it\nwill break backward-compatibility. This commit introduces\na new function 'enable_plugin_in_current_branch' to address the issue.\n\nChange-Id: I852eaa1ad33e3b8b8107f0d4c4950757383f53a0\n""}, {'number': 3, 'created': '2018-10-18 03:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/260074758bb34d347855e1b9078bc5e637211b6d', 'message': ""Support enable_plugin with TARGET_BRANCH\n\nThe existing function 'enable_plugin' clone the plugin\nin master branch by default. This shouldn't be the default\nbehavior because the core projects will be cloned with\n$TARGET_BRANCH which might be different from the plugin's branch.\nThis leads to an inconsistent of branches and break.\n\nHowever, we don't want to modify the existing function as it\nwill break backward-compatibility. This commit introduces\na new function 'enable_plugin_in_current_branch' to address the issue.\n\nChange-Id: I852eaa1ad33e3b8b8107f0d4c4950757383f53a0\n""}, {'number': 4, 'created': '2018-10-18 03:29:50.000000000', 'files': ['functions-common'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9014b3e6ca218341da7796c08b2aa2e1bb96ff5b', 'message': ""Support enable_plugin with TARGET_BRANCH\n\nThe existing function 'enable_plugin' clone the plugin\nin master branch by default. This shouldn't be the default\nbehavior because the core projects will be cloned with\n$TARGET_BRANCH which might be different from the plugin's branch.\nThis leads to an inconsistent of branches and break.\n\nHowever, we don't want to modify the existing function as it\nwill break backward-compatibility. This commit introduces\na new function 'enable_plugin_in_current_branch' to address the issue.\n\nChange-Id: I852eaa1ad33e3b8b8107f0d4c4950757383f53a0\n""}]",4,610323,9014b3e6ca218341da7796c08b2aa2e1bb96ff5b,19,8,4,11536,,,0,"Support enable_plugin with TARGET_BRANCH

The existing function 'enable_plugin' clone the plugin
in master branch by default. This shouldn't be the default
behavior because the core projects will be cloned with
$TARGET_BRANCH which might be different from the plugin's branch.
This leads to an inconsistent of branches and break.

However, we don't want to modify the existing function as it
will break backward-compatibility. This commit introduces
a new function 'enable_plugin_in_current_branch' to address the issue.

Change-Id: I852eaa1ad33e3b8b8107f0d4c4950757383f53a0
",git fetch https://review.opendev.org/openstack/devstack refs/changes/23/610323/1 && git format-patch -1 --stdout FETCH_HEAD,['functions-common'],1,13b2377e610bdccb3b2ef6e12b5560418adc7671,,"# ``branch`` is a gitref. If it's not set, defaults to $TARGET_BRANCH local branch=${3:-$TARGET_BRANCH}","# ``branch`` is a gitref. If it's not set, defaults to master local branch=${3:-master}",2,2
openstack%2Fkeystone~master~I8f6b521103a5b5f7d2537ec94a687d14d0e6d4d9,openstack/keystone,master,I8f6b521103a5b5f7d2537ec94a687d14d0e6d4d9,Add request parameter for create limit,ABANDONED,2018-05-15 09:19:36.000000000,2018-10-19 00:03:06.000000000,,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 15699}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-15 09:19:36.000000000', 'files': ['api-ref/source/v3/unified_limits.inc', 'api-ref/source/v3/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/3e5fb002b5f2a81cf13c3395d730107cc927622e', 'message': 'Add request parameter for create limit\n\nAdd project_id parameter for create limit,include request and response.\n\nChange-Id: I8f6b521103a5b5f7d2537ec94a687d14d0e6d4d9\nSigned-off-by: liuzhuangzhuang <vpbvmw651078@gmail.com>\n'}]",0,568541,3e5fb002b5f2a81cf13c3395d730107cc927622e,11,5,1,26580,,,0,"Add request parameter for create limit

Add project_id parameter for create limit,include request and response.

Change-Id: I8f6b521103a5b5f7d2537ec94a687d14d0e6d4d9
Signed-off-by: liuzhuangzhuang <vpbvmw651078@gmail.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/41/568541/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/unified_limits.inc', 'api-ref/source/v3/parameters.yaml']",2,3e5fb002b5f2a81cf13c3395d730107cc927622e,,project_id_limit: description: | The ID of the project to which the limit belongs. in: body required: true type: string,,8,0
openstack%2Fsenlin-dashboard~stable%2Frocky~I2a3d1a34725e60b6f59c355980fa48be580eceec,openstack/senlin-dashboard,stable/rocky,I2a3d1a34725e60b6f59c355980fa48be580eceec,Fix senlin profile create through file upload.,MERGED,2018-10-16 18:35:40.000000000,2018-10-18 23:47:02.000000000,2018-10-18 23:47:02.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-10-16 18:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/f42c327163943c983834a38f92a056544fc3bc59', 'message': 'Fix senlin profile create through file upload.\n\nThe senlin profile create is failing to pass the file name on form submit\ndue to missing encode type in the POST request.\n\nChange-Id: I2a3d1a34725e60b6f59c355980fa48be580eceec\n'}, {'number': 2, 'created': '2018-10-18 08:19:38.000000000', 'files': ['senlin_dashboard/cluster/profiles/templates/profiles/_create.html'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/c88199b30999d9973e60a814bb2a434d8cfbffbb', 'message': 'Fix senlin profile create through file upload.\n\nThe senlin profile create is failing to pass the file name on form submit\ndue to missing encode type in the POST request.\n\nChange-Id: I2a3d1a34725e60b6f59c355980fa48be580eceec\n'}]",0,611124,c88199b30999d9973e60a814bb2a434d8cfbffbb,10,3,2,27252,,,0,"Fix senlin profile create through file upload.

The senlin profile create is failing to pass the file name on form submit
due to missing encode type in the POST request.

Change-Id: I2a3d1a34725e60b6f59c355980fa48be580eceec
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/24/611124/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin_dashboard/cluster/profiles/templates/profiles/_create.html'],1,f42c327163943c983834a38f92a056544fc3bc59,fix_profile-stable/queens-stable/rocky,"{% block form_id %}create_profile_form{% endblock %} {% block form_action %}{% url 'horizon:cluster:profiles:create' %}{% endblock %} {% block form_attrs %}enctype=""multipart/form-data""{% endblock %} ",,4,0
openstack%2Fdiskimage-builder~master~I602b22ed4d5397b39dc1eef67964f6fbdcd93060,openstack/diskimage-builder,master,I602b22ed4d5397b39dc1eef67964f6fbdcd93060,"Add support for Fedora 28, remove EOL Fedora 26",MERGED,2018-05-04 15:01:27.000000000,2018-10-18 23:44:51.000000000,2018-10-18 23:44:51.000000000,"[{'_account_id': 7118}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 16690}, {'_account_id': 17505}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-04 15:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e6bb3670e705019987804c6d8ba89bfe1b6ce317', 'message': 'Add support for Fedora 28, remove EOL Fedora 26\n\nThis updates diskimage-builder to support current Fedora releases (27\nand 28) and removes support for Fedora 26 which is EOL as of June\n2018.\n\nChange-Id: I602b22ed4d5397b39dc1eef67964f6fbdcd93060\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 2, 'created': '2018-05-25 05:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/018165620e7942179634c9875bf6124eb25977e7', 'message': 'Add support for Fedora 28, remove EOL Fedora 26\n\nThis updates diskimage-builder to support current Fedora releases (27\nand 28) and removes support for Fedora 26 which is EOL as of June\n2018.\n\nChange-Id: I602b22ed4d5397b39dc1eef67964f6fbdcd93060\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 3, 'created': '2018-05-25 06:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e2ba152e63e72a773fc6fdc4c5614c037286cf5c', 'message': 'Add support for Fedora 28, remove EOL Fedora 26\n\nThis updates diskimage-builder to support current Fedora releases (27\nand 28) and removes support for Fedora 26 which is EOL as of June\n2018.\n\nChange-Id: I602b22ed4d5397b39dc1eef67964f6fbdcd93060\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 4, 'created': '2018-05-28 02:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0918ff7c6c659cf7e495017d40616e329f933c6d', 'message': 'Add support for Fedora 28, remove EOL Fedora 26\n\nThis updates diskimage-builder to support current Fedora releases (27\nand 28) and removes support for Fedora 26 which is EOL as of June\n2018.\n\nChange-Id: I602b22ed4d5397b39dc1eef67964f6fbdcd93060\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 5, 'created': '2018-05-28 02:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/bb565f1d12b9a085c148ad9cf0eb2b85b5fb3638', 'message': 'Add support for Fedora 28, remove EOL Fedora 26\n\nThis updates diskimage-builder to support current Fedora releases (27\nand 28) and removes support for Fedora 26 which is EOL as of June\n2018.\n\nChange-Id: I602b22ed4d5397b39dc1eef67964f6fbdcd93060\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 6, 'created': '2018-07-03 08:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cd61d4ca51fb7e2bc56205440746abb26062db5f', 'message': 'Add support for Fedora 28, remove EOL Fedora 26\n\nThis updates diskimage-builder to support current Fedora releases (27\nand 28) and removes support for Fedora 26 which is EOL as of June\n2018.\n\nChange-Id: I602b22ed4d5397b39dc1eef67964f6fbdcd93060\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 7, 'created': '2018-10-18 04:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/446f4026aa5ae8ba664aec707ca8873b44cc6730', 'message': 'Add support for Fedora 28, remove EOL Fedora 26\n\nThis updates diskimage-builder to support current Fedora releases (27\nand 28) and removes support for Fedora 26 which is EOL as of June\n2018.\n\nChange-Id: I602b22ed4d5397b39dc1eef67964f6fbdcd93060\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 8, 'created': '2018-10-18 05:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6946ba74f110a43999c001e0826c595a0f05e515', 'message': 'Add support for Fedora 28, remove EOL Fedora 26\n\nThis updates diskimage-builder to support current Fedora releases (27\nand 28) and removes support for Fedora 26 which is EOL as of June\n2018.\n\nChange-Id: I602b22ed4d5397b39dc1eef67964f6fbdcd93060\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 9, 'created': '2018-10-18 07:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0a16a1be145140737ae1d6dd62960fd1d5099407', 'message': 'Add support for Fedora 28, remove EOL Fedora 26\n\nThis updates diskimage-builder to support current Fedora releases (27\nand 28) and removes support for Fedora 26 which is EOL as of June\n2018.\n\nChange-Id: I602b22ed4d5397b39dc1eef67964f6fbdcd93060\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 10, 'created': '2018-10-18 08:43:27.000000000', 'files': ['diskimage_builder/elements/fedora/pre-install.d/01-set-fedora-mirror', 'contrib/setup-gate-mirrors.sh', 'diskimage_builder/elements/fedora/environment.d/10-fedora-distro-name.bash', 'diskimage_builder/elements/fedora-minimal/yum.repos.d/yum.repo', 'diskimage_builder/elements/fedora-minimal/environment.d/10-fedora-distro-name.bash', 'doc/source/user_guide/supported_distros.rst', 'diskimage_builder/elements/fedora/root.d/10-fedora-cloud-image'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7173658df2bc12b6c308eef6592400798d1eac97', 'message': 'Add support for Fedora 28, remove EOL Fedora 26\n\nThis updates diskimage-builder to support current Fedora releases (27\nand 28) and removes support for Fedora 26 which is EOL as of June\n2018.\n\nChange-Id: I602b22ed4d5397b39dc1eef67964f6fbdcd93060\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",1,566337,7173658df2bc12b6c308eef6592400798d1eac97,59,7,10,4162,,,0,"Add support for Fedora 28, remove EOL Fedora 26

This updates diskimage-builder to support current Fedora releases (27
and 28) and removes support for Fedora 26 which is EOL as of June
2018.

Change-Id: I602b22ed4d5397b39dc1eef67964f6fbdcd93060
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/37/566337/9 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/fedora/environment.d/10-fedora-distro-name.bash', 'diskimage_builder/elements/fedora-minimal/environment.d/10-fedora-distro-name.bash', 'doc/source/user_guide/supported_distros.rst']",3,e6bb3670e705019987804c6d8ba89bfe1b6ce317,native-zuulv3,"- Fedora 27, 28- Fedora 27, 28","- Fedora 26, 27- Fedora 26, 27",7,7
openstack%2Fos-net-config~master~I7ad68ff0d6601762f416f3e0b82377a5f436b9d6,openstack/os-net-config,master,I7ad68ff0d6601762f416f3e0b82377a5f436b9d6,Don't quote {posargs} in tox.ini,MERGED,2018-10-09 13:29:09.000000000,2018-10-18 23:39:25.000000000,2018-10-18 23:39:25.000000000,"[{'_account_id': 3153}, {'_account_id': 17499}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-10-09 13:29:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/bba39d505f231440b1ef8b39a70bf769d8bf1848', 'message': ""Don't quote {posargs} in tox.ini\n\nQuotes around {posargs} cause the entire string to be combined into one\narg that gets passed to stestr. This prevents passing multiple args\n(e.g. '--concurrency=16 some-regex')\n\nChange-Id: I7ad68ff0d6601762f416f3e0b82377a5f436b9d6\n""}]",0,608971,bba39d505f231440b1ef8b39a70bf769d8bf1848,10,6,1,28543,,,0,"Don't quote {posargs} in tox.ini

Quotes around {posargs} cause the entire string to be combined into one
arg that gets passed to stestr. This prevents passing multiple args
(e.g. '--concurrency=16 some-regex')

Change-Id: I7ad68ff0d6601762f416f3e0b82377a5f436b9d6
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/71/608971/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bba39d505f231440b1ef8b39a70bf769d8bf1848,, stestr run {posargs}, stestr run '{posargs}',1,1
openstack%2Ftripleo-common~stable%2Frocky~I048a5697fed269a6a27e82aca884cb9076fa0785,openstack/tripleo-common,stable/rocky,I048a5697fed269a6a27e82aca884cb9076fa0785,Change ceph-ansible fetch directory format on upgrade from Q to R,MERGED,2018-10-17 18:02:19.000000000,2018-10-18 23:39:22.000000000,2018-10-18 23:39:22.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-17 18:02:19.000000000', 'files': ['workbooks/plan_management.yaml', 'workbooks/rename_ceph_ansible_fetch_directory.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/eb2b7dc166ba0e55168d3a8bfbcd25c43edbbfe3', 'message': 'Change ceph-ansible fetch directory format on upgrade from Q to R\n\nIf the name of the tarball containing the ceph-ansible fetch directory\nmatches the format found in Queens, then rename it to match the format\nexpected in Rocky. I.e if temporary_dir-20180915-191756.tar.gz is found\nthen rename it to temporary_dir.tar.gz. This workflow is idempotent and\nshould be run before upgrading from Queens to Rocky.\n\nChange-Id: I048a5697fed269a6a27e82aca884cb9076fa0785\nFixes-Bug: #1795513\n(cherry picked from commit 9cb8175139cfe29e83a9273705de9be297414a7d)\n'}]",0,611406,eb2b7dc166ba0e55168d3a8bfbcd25c43edbbfe3,7,3,1,18002,,,0,"Change ceph-ansible fetch directory format on upgrade from Q to R

If the name of the tarball containing the ceph-ansible fetch directory
matches the format found in Queens, then rename it to match the format
expected in Rocky. I.e if temporary_dir-20180915-191756.tar.gz is found
then rename it to temporary_dir.tar.gz. This workflow is idempotent and
should be run before upgrading from Queens to Rocky.

Change-Id: I048a5697fed269a6a27e82aca884cb9076fa0785
Fixes-Bug: #1795513
(cherry picked from commit 9cb8175139cfe29e83a9273705de9be297414a7d)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/06/611406/1 && git format-patch -1 --stdout FETCH_HEAD,"['workbooks/plan_management.yaml', 'workbooks/rename_ceph_ansible_fetch_directory.yaml']",2,eb2b7dc166ba0e55168d3a8bfbcd25c43edbbfe3,bug/1795513-stable/rocky,"--- version: '2.0' name: tripleo.rename_ceph_ansible_fetch_directory.v1 description: TripleO rename ceph-ansible fetch directory backup in Swift Workflow v1 workflows: check_and_rename: description: > If the name of the tarball containing the ceph-ansible fetch directory matches the format found in Queens, then rename it to match the format expected in Rocky. I.e if temporary_dir-20180915-191756.tar.gz is found then rename it to temporary_dir.tar.gz. This workflow is idempotent and should be run before upgrading from Queens to Rocky. input: - container: overcloud - queue_name: tripleo - container_suffix: ""_ceph_ansible_fetch_dir"" - swift_tar: ""temporary_dir.tar.gz"" tags: - tripleo-common-managed tasks: swift_container: publish: swift_container: ""<% $.container %><% $.container_suffix %>"" on-complete: verify_container_exists verify_container_exists: action: swift.head_container container=<% $.swift_container %> on-success: get_object_list on-error: verify_container_exists_set_status_failed get_object_list: # the get_container result[1] will be a list of objects (even if list is empty) action: swift.get_container container=<% $.swift_container %> publish: object_list: <% task().result[1] %> on-success: set_need_rename on-error: get_object_list_set_status_failed set_need_rename: # if the list is empty, do not rename; otherwise check if name matches queens pattern publish: need_rename: <% switch($.object_list.len() = 0 => false, $.object_list.len() = 1 => $.object_list.first().get(""name"").matches(""temporary_dir-[0-9]{4}(0[1-9]|1[0-2])(0[1-9]|[1-2][0-9]|3[0-1])-(2[0-3]|[01][0-9])[0-5][0-9][0-5][0-9].tar.gz"")) %> on-success: switch_on_need_rename on-error: set_need_rename_set_status_failed switch_on_need_rename: on-success: - copy_to_new_name: <% $.need_rename = true %> - set_status_success: <% $.need_rename != true %> copy_to_new_name: action: swift.copy_object container=<% $.swift_container %> obj=<% $.object_list.first().get(""name"") %> destination=<% concat($.swift_container, '/', $.swift_tar) %> on-success: remove_old_name on-error: copy_to_new_name_set_status_failed remove_old_name: action: swift.delete_object container=<% $.swift_container %> obj=<% $.object_list.first().get(""name"") %> on-success: set_status_success on-error: remove_old_name_set_status_failed set_status_success: on-success: notify_zaqar publish: status: SUCCESS message: <% task(need_rename).result %> verify_container_exists_set_status_failed: on-success: notify_zaqar publish: status: FAILED message: <% task(verify_container_exists).result %> get_object_list_set_status_failed: on-success: notify_zaqar publish: status: FAILED message: <% task(get_object_list).result %> set_need_rename_set_status_failed: on-success: notify_zaqar publish: status: FAILED message: <% task(set_need_rename).result %> copy_to_new_name_set_status_failed: on-success: notify_zaqar publish: status: FAILED message: <% task(copy_to_new_name).result %> remove_old_name_set_status_failed: on-success: notify_zaqar publish: status: FAILED message: <% task(remove_old_name).result %> notify_zaqar: workflow: tripleo.messaging.v1.send input: queue_name: <% $.queue_name %> type: <% execution().name %> status: <% $.get('status', 'SUCCESS') %> message: <% $.get('message', '') %> execution: <% execution() %> ",,122,1
openstack%2Fnova~stable%2Fqueens~Icb0bdaf454935b3713c35339394d260b33520de5,openstack/nova,stable/queens,Icb0bdaf454935b3713c35339394d260b33520de5,Handle volume API failure in _post_live_migration,MERGED,2018-10-16 16:44:42.000000000,2018-10-18 23:32:15.000000000,2018-10-18 23:32:14.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 16:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eee8e9553ed0a35bb35e5f0d1516ba9b56853cff', 'message': 'Handle volume API failure in _post_live_migration\n\nPreviously, if the call to Cinder in _post_live_migration failed, the\nexception went unhandled and prevented us from calling\npost_live_migration_at_destination - which is where we set instance\nhost and task state. This left the system in an inconsistent state,\nwith the instance actually running on the destination, but\nwith instance.host still set to the source. This patch simply wraps\nthe Cinder API calls in a try/except, and logs the exception instead\nof blowing up. While ""dumb"", this has the virtue of being simple and\nminimizing potential side effects. A comprehensive refactoring of\nwhen, where and how we set instance host and task state to try to\nguarantee consistency is left as a TODO.\n\nPartial-bug: 1628606\nChange-Id: Icb0bdaf454935b3713c35339394d260b33520de5\n(cherry picked from commit 5513f48dea529fe4e690f50a462300129594210c)\n(cherry picked from commit c216f02b066a46d20d06660411baa23280691001)\n'}, {'number': 2, 'created': '2018-10-17 02:48:48.000000000', 'files': ['nova/tests/functional/compute/test_live_migration.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/53f9c8e5104076872021ed33e221e5526ca5059b', 'message': 'Handle volume API failure in _post_live_migration\n\nPreviously, if the call to Cinder in _post_live_migration failed, the\nexception went unhandled and prevented us from calling\npost_live_migration_at_destination - which is where we set instance\nhost and task state. This left the system in an inconsistent state,\nwith the instance actually running on the destination, but\nwith instance.host still set to the source. This patch simply wraps\nthe Cinder API calls in a try/except, and logs the exception instead\nof blowing up. While ""dumb"", this has the virtue of being simple and\nminimizing potential side effects. A comprehensive refactoring of\nwhen, where and how we set instance host and task state to try to\nguarantee consistency is left as a TODO.\n\nPartial-bug: 1628606\nChange-Id: Icb0bdaf454935b3713c35339394d260b33520de5\n(cherry picked from commit 5513f48dea529fe4e690f50a462300129594210c)\n(cherry picked from commit cf3c2f391ad0f9d2a2d94247509bcb2709413e4f)\n'}]",0,611084,53f9c8e5104076872021ed33e221e5526ca5059b,16,8,2,8864,,,0,"Handle volume API failure in _post_live_migration

Previously, if the call to Cinder in _post_live_migration failed, the
exception went unhandled and prevented us from calling
post_live_migration_at_destination - which is where we set instance
host and task state. This left the system in an inconsistent state,
with the instance actually running on the destination, but
with instance.host still set to the source. This patch simply wraps
the Cinder API calls in a try/except, and logs the exception instead
of blowing up. While ""dumb"", this has the virtue of being simple and
minimizing potential side effects. A comprehensive refactoring of
when, where and how we set instance host and task state to try to
guarantee consistency is left as a TODO.

Partial-bug: 1628606
Change-Id: Icb0bdaf454935b3713c35339394d260b33520de5
(cherry picked from commit 5513f48dea529fe4e690f50a462300129594210c)
(cherry picked from commit cf3c2f391ad0f9d2a2d94247509bcb2709413e4f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/611084/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/compute/test_live_migration.py', 'nova/compute/manager.py']",2,eee8e9553ed0a35bb35e5f0d1516ba9b56853cff,bug/1628606," # Detaching volumes is a call to an external API that can fail. # If it does, we need to handle it gracefully so that the call # to post_live_migration_at_destination - where we set instance # host and task state - still happens. We need to rethink the # current approach of setting instance host and task state # AFTER a whole bunch of things that could fail in unhandled # ways, but that is left as a TODO(artom). try: if bdm.attachment_id is None: # Prior to cinder v3.44: # We don't want to actually mark the volume detached, # or delete the bdm, just remove the connection from # this host. # # remove the volume connection without detaching from # hypervisor because the instance is not running # anymore on the current host self.volume_api.terminate_connection(ctxt, bdm.volume_id, connector) else: # cinder v3.44 api flow - delete the old attachment # for the source host old_attachment_id = \ migrate_data.old_vol_attachment_ids[bdm.volume_id] self.volume_api.attachment_delete(ctxt, old_attachment_id) except Exception as e: if bdm.attachment_id is None: LOG.error('Connection for volume %s not terminated on ' 'source host %s during post_live_migration: ' '%s', bdm.volume_id, self.host, six.text_type(e), instance=instance) else: LOG.error('Volume attachment %s not deleted on source ' 'host %s during post_live_migration: %s', old_attachment_id, self.host, six.text_type(e), instance=instance)"," if bdm.attachment_id is None: # Prior to cinder v3.44: # We don't want to actually mark the volume detached, or # delete the bdm, just remove the connection from this # host. # # remove the volume connection without detaching from # hypervisor because the instance is not running anymore # on the current host self.volume_api.terminate_connection(ctxt, bdm.volume_id, connector) else: # cinder v3.44 api flow - delete the old attachment # for the source host old_attachment_id = \ migrate_data.old_vol_attachment_ids[bdm.volume_id] self.volume_api.attachment_delete(ctxt, old_attachment_id)",186,17
openstack%2Fopenstack-ansible~stable%2Fpike~I1a40ec9051a6ff0e5d42f40442505fd67c842f90,openstack/openstack-ansible,stable/pike,I1a40ec9051a6ff0e5d42f40442505fd67c842f90,Update galera_server SHA to include cluster fixes,MERGED,2018-10-17 19:36:45.000000000,2018-10-18 23:24:30.000000000,2018-10-18 23:24:30.000000000,"[{'_account_id': 290}, {'_account_id': 6816}, {'_account_id': 7414}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-17 19:36:45.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b9f18aa7d7c127dbf5e7c3d2fae7894473a6d051', 'message': 'Update galera_server SHA to include cluster fixes\n\nTo include the following fixes, we update the SHA:\n\n1. https://review.openstack.org/610992\n2. https://review.openstack.org/605778\n3. https://review.openstack.org/604999\n\nChange-Id: I1a40ec9051a6ff0e5d42f40442505fd67c842f90\n'}]",0,611419,b9f18aa7d7c127dbf5e7c3d2fae7894473a6d051,12,6,1,6816,,,0,"Update galera_server SHA to include cluster fixes

To include the following fixes, we update the SHA:

1. https://review.openstack.org/610992
2. https://review.openstack.org/605778
3. https://review.openstack.org/604999

Change-Id: I1a40ec9051a6ff0e5d42f40442505fd67c842f90
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/19/611419/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,b9f18aa7d7c127dbf5e7c3d2fae7894473a6d051,, version: de9a29faa9b87094c06d59ec9e29eb2059b07d8d, version: c5a7ac9341b4258f4d4913d4510a32b47aa608aa,1,1
openstack%2Fopenstack-ansible~stable%2Fpike~Ic1078ee6a0f873bec1dbc2d0656971c86c03b4d6,openstack/openstack-ansible,stable/pike,Ic1078ee6a0f873bec1dbc2d0656971c86c03b4d6,Stop MariaDB nodes to reset quorum during upgrade,MERGED,2018-10-17 20:52:19.000000000,2018-10-18 23:24:29.000000000,2018-10-18 23:24:29.000000000,"[{'_account_id': 6816}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-10-17 20:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/25611f42d7288fbaf794df96decd5122cb2acef3', 'message': 'Stop MariaDB nodes to reset quorum during upgrade\n\nDuring an MariaDB upgrade, all MariaDB nodes except the primary are\nshutdown to ensure that the first node node can reset quorum without\nany issues.\n\nChange-Id: Ic1078ee6a0f873bec1dbc2d0656971c86c03b4d6\n'}, {'number': 2, 'created': '2018-10-18 02:37:37.000000000', 'files': ['scripts/upgrade-utilities/playbooks/mariadb-shutdown.yml', 'scripts/run-upgrade.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8564dfda62eca494a6317e82df75134dfa0696eb', 'message': 'Stop MariaDB nodes to reset quorum during upgrade\n\nDuring an MariaDB upgrade, all MariaDB nodes except the primary are\nshutdown to ensure that the first node node can reset quorum without\nany issues.  Sets first node as safe to bootstrap to once other nodes\nhave been shutdown.\n\nChange-Id: Ic1078ee6a0f873bec1dbc2d0656971c86c03b4d6\n'}]",0,611438,8564dfda62eca494a6317e82df75134dfa0696eb,13,4,2,290,,,0,"Stop MariaDB nodes to reset quorum during upgrade

During an MariaDB upgrade, all MariaDB nodes except the primary are
shutdown to ensure that the first node node can reset quorum without
any issues.  Sets first node as safe to bootstrap to once other nodes
have been shutdown.

Change-Id: Ic1078ee6a0f873bec1dbc2d0656971c86c03b4d6
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/38/611438/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/upgrade-utilities/playbooks/mariadb-shutdown.yml', 'scripts/run-upgrade.sh']",2,25611f42d7288fbaf794df96decd5122cb2acef3,shutdown_mariadb_nodes," # stop mariadb on all nodes except first for quorum reset RUN_TASKS+=(""${UPGRADE_PLAYBOOKS}/mariadb-shutdown.yml"")",,29,0
openstack%2Ftripleo-quickstart-extras~master~I8f7d6cc5284212ec335c15d17ac3c8900099e1b6,openstack/tripleo-quickstart-extras,master,I8f7d6cc5284212ec335c15d17ac3c8900099e1b6,Fix repo setup and undercloud setup order,ABANDONED,2018-09-13 23:34:05.000000000,2018-10-18 23:21:39.000000000,,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-13 23:34:05.000000000', 'files': ['playbooks/multinode-standalone.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/43415716fc0292487ba00170da05f42c3da030c2', 'message': 'Fix repo setup and undercloud setup order\n\nWe should setup the repos/build packages prior to attempting to\nsetup the undercloud.\n\nChange-Id: I8f7d6cc5284212ec335c15d17ac3c8900099e1b6\n'}]",0,602502,43415716fc0292487ba00170da05f42c3da030c2,7,5,1,14985,,,0,"Fix repo setup and undercloud setup order

We should setup the repos/build packages prior to attempting to
setup the undercloud.

Change-Id: I8f7d6cc5284212ec335c15d17ac3c8900099e1b6
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/02/602502/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/multinode-standalone.yml'],1,43415716fc0292487ba00170da05f42c3da030c2,fix-standalone,- name: Prepare the undercloud for installation hosts: undercloud roles: - undercloud-setup tags: - standalone ,- name: Prepare the undercloud for installation hosts: undercloud roles: - undercloud-setup tags: - standalone ,7,7
openstack%2Ftripleo-common~master~I3a6f3b97aae8666ae7a08bc9eaa7900e59434e57,openstack/tripleo-common,master,I3a6f3b97aae8666ae7a08bc9eaa7900e59434e57,DNM: force debug to container image prepare,ABANDONED,2018-09-24 19:22:20.000000000,2018-10-18 23:21:22.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-24 19:22:20.000000000', 'files': ['scripts/tripleo-container-image-prepare'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/912ae1ff530024653cb97580753335d994c05d78', 'message': 'DNM: force debug to container image prepare\n\nChange-Id: I3a6f3b97aae8666ae7a08bc9eaa7900e59434e57\n'}]",0,604887,912ae1ff530024653cb97580753335d994c05d78,4,2,1,14985,,,0,"DNM: force debug to container image prepare

Change-Id: I3a6f3b97aae8666ae7a08bc9eaa7900e59434e57
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/87/604887/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-container-image-prepare'],1,912ae1ff530024653cb97580753335d994c05d78,container-prepare-logging, log_level = logging.DEBUG, if args.debug: log_level = logging.DEBUG else: log_level = logging.INFO,1,4
openstack%2Fdesignate~stable%2Fqueens~Ib4e0bc567ba8eb54c61c3921d165521bf2f12206,openstack/designate,stable/queens,Ib4e0bc567ba8eb54c61c3921d165521bf2f12206,Make update_status use synchronized_zone,MERGED,2018-10-01 07:02:42.000000000,2018-10-18 23:18:02.000000000,2018-10-18 23:18:02.000000000,"[{'_account_id': 8099}, {'_account_id': 12898}, {'_account_id': 13252}, {'_account_id': 21907}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-01 07:02:42.000000000', 'files': ['designate/central/service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/59c5c664654b88772a6309fbb319e446423317c0', 'message': ""Make update_status use synchronized_zone\n\nThere is a race condition when adding a new recordset to a zone\nand when central is processing the update_status from a previous\nrecordset/zone operation. In the subsequent recordset operation,\ncentral fails to update the zone's action/status in DB to UPDATE/PENDING.\nIt remains as NONE/ACTIVE, and worker error's out.\n\nEach operation retrieves a different copy in memory of the Zone object\n(when it calls self.storage.get_zone). As a result this does not update\nthe obj_changes field for the zone object for the latter operation.\nTherefore the DB update doesn't update any values.\n\nupdate_status should be synchronized as it updates zone DB\n\nChange-Id: Ib4e0bc567ba8eb54c61c3921d165521bf2f12206\nCloses-Bug: #1713875\n(cherry picked from commit 12cd654b143e215dbe01cc2688a7d6e6cf3ce62f)\n""}]",0,606889,59c5c664654b88772a6309fbb319e446423317c0,11,5,1,22623,,,0,"Make update_status use synchronized_zone

There is a race condition when adding a new recordset to a zone
and when central is processing the update_status from a previous
recordset/zone operation. In the subsequent recordset operation,
central fails to update the zone's action/status in DB to UPDATE/PENDING.
It remains as NONE/ACTIVE, and worker error's out.

Each operation retrieves a different copy in memory of the Zone object
(when it calls self.storage.get_zone). As a result this does not update
the obj_changes field for the zone object for the latter operation.
Therefore the DB update doesn't update any values.

update_status should be synchronized as it updates zone DB

Change-Id: Ib4e0bc567ba8eb54c61c3921d165521bf2f12206
Closes-Bug: #1713875
(cherry picked from commit 12cd654b143e215dbe01cc2688a7d6e6cf3ce62f)
",git fetch https://review.opendev.org/openstack/designate refs/changes/89/606889/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/central/service.py'],1,59c5c664654b88772a6309fbb319e446423317c0,bug/1713875, @synchronized_zone(),,1,0
openstack%2Fpython-designateclient~stable%2Focata~Ibddf9cc9a018774ed229c0dfa81e705cd74704bc,openstack/python-designateclient,stable/ocata,Ibddf9cc9a018774ed229c0dfa81e705cd74704bc,server-get/update show wrong values about 'id' and 'update_at',MERGED,2018-07-25 04:14:19.000000000,2018-10-18 23:18:02.000000000,2018-10-18 23:18:02.000000000,"[{'_account_id': 8099}, {'_account_id': 11805}, {'_account_id': 16367}, {'_account_id': 21914}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 26431}, {'_account_id': 27295}, {'_account_id': 27633}, {'_account_id': 29157}]","[{'number': 1, 'created': '2018-07-25 04:14:19.000000000', 'files': ['designateclient/cli/base.py'], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/930384a48fd2124981d97304a8bc6c4fd875d7b7', 'message': ""server-get/update show wrong values about 'id' and 'update_at'\n\nWhile process 'designate server-get' and 'designate server-update',\nthe 'id' and 'update_at' values are wrong, they should be\ninterchanged.\n\nChange-Id: Ibddf9cc9a018774ed229c0dfa81e705cd74704bc\nCloses-Bug: #1777576\n""}]",0,585621,930384a48fd2124981d97304a8bc6c4fd875d7b7,22,10,1,27633,,,0,"server-get/update show wrong values about 'id' and 'update_at'

While process 'designate server-get' and 'designate server-update',
the 'id' and 'update_at' values are wrong, they should be
interchanged.

Change-Id: Ibddf9cc9a018774ed229c0dfa81e705cd74704bc
Closes-Bug: #1777576
",git fetch https://review.opendev.org/openstack/python-designateclient refs/changes/21/585621/1 && git format-patch -1 --stdout FETCH_HEAD,['designateclient/cli/base.py'],1,930384a48fd2124981d97304a8bc6c4fd875d7b7,bug/1777576," return results.keys(), results.values() return results.keys(), results.values() return results.keys(), results.values()"," return list(six.iterkeys(results)), list(six.itervalues(results)) return list(six.iterkeys(results)), list(six.itervalues(results)) return list(six.iterkeys(results)), list(six.itervalues(results))",3,3
openstack%2Fsyntribos~master~I37cc088bdb579232966c4f8905ab447665d0dc54,openstack/syntribos,master,I37cc088bdb579232966c4f8905ab447665d0dc54,Correct/update links,MERGED,2018-02-27 06:44:46.000000000,2018-10-18 23:18:00.000000000,2018-10-18 23:18:00.000000000,"[{'_account_id': 17709}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-02-27 06:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/syntribos/commit/057dddb679040567ff1fd7c73d2d229245ba3969', 'message': 'Correct/update links\n\nChange-Id: I37cc088bdb579232966c4f8905ab447665d0dc54\n'}, {'number': 2, 'created': '2018-02-27 07:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/syntribos/commit/7d06d80c6ce836ad5f067daeb431f3965e7954db', 'message': 'Correct/update links\n\nChange-Id: I37cc088bdb579232966c4f8905ab447665d0dc54\n'}, {'number': 3, 'created': '2018-04-04 09:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/syntribos/commit/9ec2530df5753fcf7509f662a26a8432efa607f3', 'message': 'Correct/update links\n\nChange-Id: I37cc088bdb579232966c4f8905ab447665d0dc54\n'}, {'number': 4, 'created': '2018-10-18 22:17:48.000000000', 'files': ['scripts/readme.py'], 'web_link': 'https://opendev.org/openstack/syntribos/commit/83f4fea26f60cd3474596ebbbf1ef1843156579a', 'message': 'Correct/update links\n\nChange-Id: I37cc088bdb579232966c4f8905ab447665d0dc54\n'}]",1,548164,83f4fea26f60cd3474596ebbbf1ef1843156579a,15,3,4,23314,,,0,"Correct/update links

Change-Id: I37cc088bdb579232966c4f8905ab447665d0dc54
",git fetch https://review.opendev.org/openstack/syntribos refs/changes/64/548164/3 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,057dddb679040567ff1fd7c73d2d229245ba3969,,.. image:: https://governance.openstack.org/tc/badges/syntribos.svg :target: https://governance.openstack.org/tc/reference/tags/index.html .. image:: https://img.shields.io/badge/docs-latest-brightgreen.svg?style=flat :target: https://docs.openstack.org/syntribos/latest/ .. image:: https://img.shields.io/pypi/v/syntribos.svg :target: https://pypi.python.org/pypi/syntribos/ .. image:: https://img.shields.io/pypi/pyversions/syntribos.svg :target: https://pypi.python.org/pypi/syntribos/ .. image:: https://img.shields.io/pypi/wheel/syntribos.svg :target: https://pypi.python.org/pypi/syntribos/ .. image:: https://img.shields.io/irc/%23openstack-security.png,.. image:: http://governance.openstack.org/badges/syntribos.svg :target: http://governance.openstack.org/reference/tags/index.html .. image:: http://img.shields.io/badge/docs-latest-brightgreen.svg?style=flat :target: http://docs.openstack.org/developer/syntribos/ .. image:: http://img.shields.io/pypi/v/syntribos.svg :target: http://pypi.python.org/pypi/syntribos/ .. image:: http://img.shields.io/pypi/pyversions/syntribos.svg :target: http://pypi.python.org/pypi/syntribos/ .. image:: http://img.shields.io/pypi/wheel/syntribos.svg :target: http://pypi.python.org/pypi/syntribos/ .. image:: http://img.shields.io/irc/%23openstack-security.png,11,11
openstack%2Fsyntribos~master~I3ef263c3ea78b803739f1871175d417003252430,openstack/syntribos,master,I3ef263c3ea78b803739f1871175d417003252430,modify keystone spelling errors,MERGED,2018-02-06 09:06:54.000000000,2018-10-18 23:13:13.000000000,2018-10-18 23:13:13.000000000,"[{'_account_id': 17709}, {'_account_id': 17893}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-06 09:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/syntribos/commit/3dea30fa0024623a3fe1d1a78872ec591bfd2555', 'message': 'modify keystone spelling errors\n\nChange-Id: I3ef263c3ea78b803739f1871175d417003252430\n'}, {'number': 2, 'created': '2018-10-18 22:17:15.000000000', 'files': ['syntribos/utils/config_fixture.py'], 'web_link': 'https://opendev.org/openstack/syntribos/commit/4a0b592fb310adadbbd17e376412939f103a128d', 'message': 'modify keystone spelling errors\n\nChange-Id: I3ef263c3ea78b803739f1871175d417003252430\n'}]",0,541192,4a0b592fb310adadbbd17e376412939f103a128d,10,3,2,27361,,,0,"modify keystone spelling errors

Change-Id: I3ef263c3ea78b803739f1871175d417003252430
",git fetch https://review.opendev.org/openstack/syntribos refs/changes/92/541192/2 && git format-patch -1 --stdout FETCH_HEAD,['syntribos/utils/config_fixture.py'],1,3dea30fa0024623a3fe1d1a78872ec591bfd2555,misspelled_words," """"""config values only applicable to keystone v3."""""""," """"""config values only applicable to keysotne v3.""""""",1,1
openstack%2Fnetworking-ovn~master~I706199109a3b7dd5339c90b731f8cb8f04ca4f49,openstack/networking-ovn,master,I706199109a3b7dd5339c90b731f8cb8f04ca4f49,Fix bug migrating ACLs to Port Groups,MERGED,2018-08-31 10:34:07.000000000,2018-10-18 23:06:09.000000000,2018-10-18 23:06:09.000000000,"[{'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 10237}, {'_account_id': 17776}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-08-31 10:34:07.000000000', 'files': ['networking_ovn/common/acl.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/26551f85d1102b2de3eab4b468d22bacad3c1f45', 'message': 'Fix bug migrating ACLs to Port Groups\n\nWhen migrating to Port Groups, we were installing wrong ACLs\nmatching on old Address Sets. This was because, during migration\ntime, old Address Sets still existed in NB database and we\nwere relying on their existence to figure out which one to use.\n\nThis patch fixes it by simply picking the auto generated\nAddress Set if Port Groups is supported in the OVSDB schema.\n\nChange-Id: I706199109a3b7dd5339c90b731f8cb8f04ca4f49\nCloses-Bug: #1790118\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}]",2,598592,26551f85d1102b2de3eab4b468d22bacad3c1f45,46,6,1,23804,,,0,"Fix bug migrating ACLs to Port Groups

When migrating to Port Groups, we were installing wrong ACLs
matching on old Address Sets. This was because, during migration
time, old Address Sets still existed in NB database and we
were relying on their existence to figure out which one to use.

This patch fixes it by simply picking the auto generated
Address Set if Port Groups is supported in the OVSDB schema.

Change-Id: I706199109a3b7dd5339c90b731f8cb8f04ca4f49
Closes-Bug: #1790118
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/92/598592/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/common/acl.py'],1,26551f85d1102b2de3eab4b468d22bacad3c1f45,bug/1790118, if (ovn and ovn.is_port_groups_supported()):, # Check if the remote group is modelled as a Port Group or not as the # name of the Address Set differs. if (ovn and ovn.is_port_groups_supported() and not ovn.get_address_set(r['security_group_id'])):,1,4
openstack%2Fkeystone-specs~master~If22bb5404a083aa709860ad92a7409b2156079ec,openstack/keystone-specs,master,If22bb5404a083aa709860ad92a7409b2156079ec,Update spec template,MERGED,2018-10-18 12:07:06.000000000,2018-10-18 22:42:08.000000000,2018-10-18 22:42:08.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-18 12:07:06.000000000', 'files': ['specs/template.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/53d19220c59de05396fc67eef7d1d4c592685ca7', 'message': 'Update spec template\n\nWe no longer store the API reference in the specs directory. API changes\nare proposed directly in the spec, and then documented in the api-ref/\ndirectory in the keystone repository after the fact. This patch removes\nthese outdated instructions.\n\nChange-Id: If22bb5404a083aa709860ad92a7409b2156079ec\n'}]",0,611583,53d19220c59de05396fc67eef7d1d4c592685ca7,7,3,1,8482,,,0,"Update spec template

We no longer store the API reference in the specs directory. API changes
are proposed directly in the spec, and then documented in the api-ref/
directory in the keystone repository after the fact. This patch removes
these outdated instructions.

Change-Id: If22bb5404a083aa709860ad92a7409b2156079ec
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/83/611583/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/template.rst'],1,53d19220c59de05396fc67eef7d1d4c592685ca7,fix-template,,"* If your spec has an impact on the HTTP API, propose the corresponding changes to the ``api/`` directory for review along with your spec and add the APIImpact flag to the commit message. Specifications with the APIImpact flag can be found with this query_. .. _query: https://review.openstack.org/#/q/status:open+project:openstack/keystone-specs+message:apiimpact,n,z ",0,7
openstack%2Fpython-designateclient~stable%2Fpike~Ibddf9cc9a018774ed229c0dfa81e705cd74704bc,openstack/python-designateclient,stable/pike,Ibddf9cc9a018774ed229c0dfa81e705cd74704bc,server-get/update show wrong values about 'id' and 'update_at',MERGED,2018-07-25 03:33:40.000000000,2018-10-18 22:38:07.000000000,2018-10-18 22:38:07.000000000,"[{'_account_id': 8099}, {'_account_id': 11805}, {'_account_id': 16367}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27633}]","[{'number': 1, 'created': '2018-07-25 03:33:40.000000000', 'files': ['designateclient/cli/base.py'], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/05990b868e192d5ebb46509bdb0254e91b9ccbe9', 'message': ""server-get/update show wrong values about 'id' and 'update_at'\n\nWhile process 'designate server-get' and 'designate server-update',\nthe 'id' and 'update_at' values are wrong, they should be\ninterchanged.\n\nChange-Id: Ibddf9cc9a018774ed229c0dfa81e705cd74704bc\nCloses-Bug: #1777576\n""}]",1,585611,05990b868e192d5ebb46509bdb0254e91b9ccbe9,22,7,1,27633,,,0,"server-get/update show wrong values about 'id' and 'update_at'

While process 'designate server-get' and 'designate server-update',
the 'id' and 'update_at' values are wrong, they should be
interchanged.

Change-Id: Ibddf9cc9a018774ed229c0dfa81e705cd74704bc
Closes-Bug: #1777576
",git fetch https://review.opendev.org/openstack/python-designateclient refs/changes/11/585611/1 && git format-patch -1 --stdout FETCH_HEAD,['designateclient/cli/base.py'],1,05990b868e192d5ebb46509bdb0254e91b9ccbe9,bug/1777576," return results.keys(), results.values() return results.keys(), results.values() return results.keys(), results.values()"," return list(six.iterkeys(results)), list(six.itervalues(results)) return list(six.iterkeys(results)), list(six.itervalues(results)) return list(six.iterkeys(results)), list(six.itervalues(results))",3,3
openstack%2Fsyntribos~master~I101b7a1b7392cff5a499d77f4bf02abdb394a9a8,openstack/syntribos,master,I101b7a1b7392cff5a499d77f4bf02abdb394a9a8,Update home-page url,MERGED,2018-02-25 16:46:43.000000000,2018-10-18 22:30:45.000000000,2018-10-18 22:30:45.000000000,"[{'_account_id': 17709}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-25 16:46:43.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/syntribos/commit/70943986404ca8b1733ecf5fe7c32f104fe52a09', 'message': 'Update home-page url\n\nThe url of home-page is out of date. We need update it.\n\nChange-Id: I101b7a1b7392cff5a499d77f4bf02abdb394a9a8\n'}]",0,547841,70943986404ca8b1733ecf5fe7c32f104fe52a09,6,2,1,17130,,,0,"Update home-page url

The url of home-page is out of date. We need update it.

Change-Id: I101b7a1b7392cff5a499d77f4bf02abdb394a9a8
",git fetch https://review.opendev.org/openstack/syntribos refs/changes/41/547841/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,70943986404ca8b1733ecf5fe7c32f104fe52a09,home-page,home-page = https://docs.openstack.org/syntribos/latest,home-page = https://docs.openstack.org/developer/syntribos/,1,1
openstack%2Fos-vif~master~Id7f81ae174d354e593d919813bdf7b3b97cbcd8b,openstack/os-vif,master,Id7f81ae174d354e593d919813bdf7b3b97cbcd8b,Do not call linux_net.delete_net_dev on Windows,MERGED,2018-10-16 09:30:13.000000000,2018-10-18 22:30:38.000000000,2018-10-18 22:30:38.000000000,"[{'_account_id': 3185}, {'_account_id': 8213}, {'_account_id': 9649}, {'_account_id': 9732}, {'_account_id': 11604}, {'_account_id': 13539}, {'_account_id': 14807}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 25733}]","[{'number': 1, 'created': '2018-10-16 09:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/51b5f787a764800c03e86e76e95dea540f9e83bc', 'message': 'Do not call linux_net.delete_net_dev on Windows\n\nhttps://review.openstack.org/#/c/476612/ introduced an abstract\nOVSDB API, but it seems the gate is still randomly calling the linux-net\ncode when deleting a netdev.\n\nChange-Id: Id7f81ae174d354e593d919813bdf7b3b97cbcd8b\nFixes-Bug: #1798051\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}, {'number': 2, 'created': '2018-10-16 10:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/29be97bf950687586d63d0923ab8f1b45856e8ac', 'message': 'Do not call linux_net.delete_net_dev on Windows\n\nhttps://review.openstack.org/#/c/476612/ introduced an abstract\nOVSDB API, but it seems the gate is still randomly calling the linux-net\ncode when deleting a netdev.\n\nOne of the tests set sys.platform = constants.PLATFORM_WIN32, resulting\nin random failures depending on the order in which the tests ran.\n\nChange-Id: Id7f81ae174d354e593d919813bdf7b3b97cbcd8b\nFixes-Bug: #1798051\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}, {'number': 3, 'created': '2018-10-16 11:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/7cb282e8ab12d44431aece511f5235e9769527f4', 'message': 'Do not call linux_net.delete_net_dev on Windows\n\nhttps://review.openstack.org/#/c/476612/ introduced an abstract\nOVSDB API, but it seems the gate is randomly calling linux_net utils in\nthe context of Windows plug and unplug.\n\nThis was because one of the tests set sys.platform to Windows, resulting\nin random failures, depending on the order in which the tests ran.\n\nThis commit fixes the tests and modifies the ovs plugin to avoid\ndeleting the netdev on unplug (thus skipping the linux-specific code).\n\nChange-Id: Id7f81ae174d354e593d919813bdf7b3b97cbcd8b\nFixes-Bug: #1798051\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}, {'number': 4, 'created': '2018-10-16 15:36:49.000000000', 'files': ['vif_plug_ovs/tests/unit/test_plugin.py', 'vif_plug_ovs/ovs.py', 'vif_plug_ovs/tests/unit/ovsdb/test_ovsdb_lib.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/c5fda08d4010f91487d1336852ec94b275fdbd8d', 'message': 'Do not call linux_net.delete_net_dev on Windows\n\nThe current ovs unplug codepath for Windows triggers an OVSDB port\ndelete command, which is applicable, and a linux netdev delete command,\nwhich is not. This changes the unplug logic to skip the delete step.\n\nChange-Id: Id7f81ae174d354e593d919813bdf7b3b97cbcd8b\nCloses-Bug: #1798051\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}]",9,610916,c5fda08d4010f91487d1336852ec94b275fdbd8d,33,11,4,25733,,,0,"Do not call linux_net.delete_net_dev on Windows

The current ovs unplug codepath for Windows triggers an OVSDB port
delete command, which is applicable, and a linux netdev delete command,
which is not. This changes the unplug logic to skip the delete step.

Change-Id: Id7f81ae174d354e593d919813bdf7b3b97cbcd8b
Closes-Bug: #1798051
Signed-off-by: Jan Gutter <jan.gutter@netronome.com>
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/16/610916/4 && git format-patch -1 --stdout FETCH_HEAD,['vif_plug_ovs/ovsdb/ovsdb_lib.py'],1,51b5f787a764800c03e86e76e95dea540f9e83bc,bug/1798051, if (delete_netdev and sys.platform != constants.PLATFORM_WIN32): # Hyper-V with OVS does not support linux CLI, if delete_netdev:,2,1
openstack%2Fos-vif~master~I7e2a548fa4edc743d913f71dde48f613a7a5a8df,openstack/os-vif,master,I7e2a548fa4edc743d913f71dde48f613a7a5a8df,Fix random test_unplug_ovs failures,MERGED,2018-10-16 15:36:49.000000000,2018-10-18 22:30:37.000000000,2018-10-18 22:30:37.000000000,"[{'_account_id': 9732}, {'_account_id': 11604}, {'_account_id': 12171}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 25733}]","[{'number': 1, 'created': '2018-10-16 15:36:49.000000000', 'files': ['vif_plug_ovs/constants.py', 'vif_plug_ovs/tests/unit/ovsdb/test_ovsdb_lib.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/330051a702453ee2953eb43555fa87117751465a', 'message': 'Fix random test_unplug_ovs failures\n\nhttps://review.openstack.org/#/c/476612/ introduced an abstract\nOVSDB API, but it seems the gate is randomly calling linux_net utils in\nthe context of Windows plug and unplug.\n\nThis was because one of the tests set sys.platform to Windows, resulting\nin random failures, depending on the order in which the tests ran.\n\nChange-Id: I7e2a548fa4edc743d913f71dde48f613a7a5a8df\nPartial-Bug: #1798051\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\n'}]",1,611017,330051a702453ee2953eb43555fa87117751465a,17,7,1,25733,,,0,"Fix random test_unplug_ovs failures

https://review.openstack.org/#/c/476612/ introduced an abstract
OVSDB API, but it seems the gate is randomly calling linux_net utils in
the context of Windows plug and unplug.

This was because one of the tests set sys.platform to Windows, resulting
in random failures, depending on the order in which the tests ran.

Change-Id: I7e2a548fa4edc743d913f71dde48f613a7a5a8df
Partial-Bug: #1798051
Signed-off-by: Jan Gutter <jan.gutter@netronome.com>
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/17/611017/1 && git format-patch -1 --stdout FETCH_HEAD,"['vif_plug_ovs/constants.py', 'vif_plug_ovs/tests/unit/ovsdb/test_ovsdb_lib.py']",2,330051a702453ee2953eb43555fa87117751465a,bug/1798051," @mock.patch('sys.platform', constants.PLATFORM_LINUX) mock_set_device_mtu): @mock.patch('sys.platform', constants.PLATFORM_WIN32)","import sys @mock.patch.object(sys, 'platform', return_value='linux') mock_set_device_mtu, mock_platform): sys.platform = constants.PLATFORM_WIN32",4,4
openstack%2Fsyntribos~master~Iac6ba516b82cf303bca3bc204b31d5b90df54a22,openstack/syntribos,master,Iac6ba516b82cf303bca3bc204b31d5b90df54a22,Updated from global requirements,MERGED,2017-11-16 11:29:18.000000000,2018-10-18 22:30:06.000000000,2018-10-18 22:30:06.000000000,"[{'_account_id': 17709}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-16 11:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/syntribos/commit/ebd95337c70ff994fe5857d6249410a9c21ed148', 'message': 'Updated from global requirements\n\nChange-Id: Iac6ba516b82cf303bca3bc204b31d5b90df54a22\n'}, {'number': 2, 'created': '2017-11-29 09:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/syntribos/commit/1a7199e326a4269112925fa2b3206401b42f396a', 'message': 'Updated from global requirements\n\nChange-Id: Iac6ba516b82cf303bca3bc204b31d5b90df54a22\n'}, {'number': 3, 'created': '2017-12-19 01:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/syntribos/commit/a7aebaf98065ea70f8217e052e9a9b23a8755d85', 'message': 'Updated from global requirements\n\nChange-Id: Iac6ba516b82cf303bca3bc204b31d5b90df54a22\n'}, {'number': 4, 'created': '2017-12-23 10:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/syntribos/commit/7e7acb4d702be10220cf3c8bcf7d8bf7a981e775', 'message': 'Updated from global requirements\n\nChange-Id: Iac6ba516b82cf303bca3bc204b31d5b90df54a22\n'}, {'number': 5, 'created': '2018-01-18 03:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/syntribos/commit/b836867fc75acd085709984d736b06fa9d3c0e85', 'message': 'Updated from global requirements\n\nChange-Id: Iac6ba516b82cf303bca3bc204b31d5b90df54a22\n'}, {'number': 6, 'created': '2018-02-14 12:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/syntribos/commit/a0d710d129122ac60eee165244eea150a842745e', 'message': 'Updated from global requirements\n\nChange-Id: Iac6ba516b82cf303bca3bc204b31d5b90df54a22\n'}, {'number': 7, 'created': '2018-03-10 13:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/syntribos/commit/9d104ec81a12e3dbe04f72cf021d0c30085d7f65', 'message': 'Updated from global requirements\n\nChange-Id: Iac6ba516b82cf303bca3bc204b31d5b90df54a22\n'}, {'number': 8, 'created': '2018-03-13 07:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/syntribos/commit/84e18960ed75ad66c1f85e84f402aa0304c03243', 'message': 'Updated from global requirements\n\nChange-Id: Iac6ba516b82cf303bca3bc204b31d5b90df54a22\n'}, {'number': 9, 'created': '2018-03-14 06:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/syntribos/commit/b058c63911eefd035f3e41a6cc4ea0c5b61e0123', 'message': 'Updated from global requirements\n\nChange-Id: Iac6ba516b82cf303bca3bc204b31d5b90df54a22\n'}, {'number': 10, 'created': '2018-03-15 09:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/syntribos/commit/88b1903df6ee074a72b06f60220e0d66803fda83', 'message': 'Updated from global requirements\n\nChange-Id: Iac6ba516b82cf303bca3bc204b31d5b90df54a22\n'}, {'number': 11, 'created': '2018-03-23 02:00:14.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/syntribos/commit/aaab4d7161ad16929534569a6cf1d619f916ffba', 'message': 'Updated from global requirements\n\nChange-Id: Iac6ba516b82cf303bca3bc204b31d5b90df54a22\n'}]",0,520539,aaab4d7161ad16929534569a6cf1d619f916ffba,26,2,11,11131,,,0,"Updated from global requirements

Change-Id: Iac6ba516b82cf303bca3bc204b31d5b90df54a22
",git fetch https://review.opendev.org/openstack/syntribos refs/changes/39/520539/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,ebd95337c70ff994fe5857d6249410a9c21ed148,openstack/requirements,python-subunit>=1.0.0 # Apache-2.0/BSDtesttools>=2.2.0 # MIT,python-subunit>=0.0.18 # Apache-2.0/BSDtesttools>=1.4.0 # MIT,3,3
openstack%2Fsyntribos~master~I048bb19cf456281521883eb1500832343d72fb97,openstack/syntribos,master,I048bb19cf456281521883eb1500832343d72fb97,Bug fixes related to python 3 changes,MERGED,2018-10-18 19:40:10.000000000,2018-10-18 22:28:55.000000000,2018-10-18 22:28:55.000000000,"[{'_account_id': 17709}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-18 19:40:10.000000000', 'files': ['syntribos/tests/fuzz/base_fuzz.py', 'syntribos/runner.py', 'syntribos/utils/string_utils.py', 'syntribos/clients/http/parser.py'], 'web_link': 'https://opendev.org/openstack/syntribos/commit/a6db29dc7c1ff4e3a623652dbc396bee09863430', 'message': 'Bug fixes related to python 3 changes\n\nChange-Id: I048bb19cf456281521883eb1500832343d72fb97\n'}]",0,611702,a6db29dc7c1ff4e3a623652dbc396bee09863430,7,2,1,17709,,,0,"Bug fixes related to python 3 changes

Change-Id: I048bb19cf456281521883eb1500832343d72fb97
",git fetch https://review.opendev.org/openstack/syntribos refs/changes/02/611702/1 && git format-patch -1 --stdout FETCH_HEAD,"['syntribos/tests/fuzz/base_fuzz.py', 'syntribos/runner.py', 'syntribos/clients/http/parser.py', 'syntribos/utils/string_utils.py']",4,a6db29dc7c1ff4e3a623652dbc396bee09863430,py3_fixes," compressed_data = str(compressed_data.decode(""utf-8""))"," compressed_data = compressed_data.decode(""utf-8"")",7,7
openstack%2Fsyntribos~master~Ib33004eba6b41fe11a70a4e44ee10ac94e48ac56,openstack/syntribos,master,Ib33004eba6b41fe11a70a4e44ee10ac94e48ac56,fix link,MERGED,2018-02-23 10:01:34.000000000,2018-10-18 22:28:55.000000000,2018-10-18 22:28:55.000000000,"[{'_account_id': 17709}, {'_account_id': 19554}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-02-23 10:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/syntribos/commit/b5fd98306d1dcd42caa0e84f12159b91f8f2ab6a', 'message': 'fix link\n\nChange-Id: Ib33004eba6b41fe11a70a4e44ee10ac94e48ac56\n'}, {'number': 2, 'created': '2018-03-29 12:38:28.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/syntribos/commit/ea44437e73e3df2f55ef45efff1a74f3b51e7f4a', 'message': 'fix link\n\nChange-Id: Ib33004eba6b41fe11a70a4e44ee10ac94e48ac56\n'}]",1,547346,ea44437e73e3df2f55ef45efff1a74f3b51e7f4a,11,4,2,21486,,,0,"fix link

Change-Id: Ib33004eba6b41fe11a70a4e44ee10ac94e48ac56
",git fetch https://review.opendev.org/openstack/syntribos refs/changes/46/547346/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,b5fd98306d1dcd42caa0e84f12159b91f8f2ab6a,,1. Follow all the `OpenStack Style Guidelines <https://docs.openstack.org/hacking/latest/>`__,1. Follow all the `OpenStack Style Guidelines <http://docs.openstack.org/developer/hacking/>`__,1,1
openstack%2Fopenstack-ansible-os_heat~stable%2Frocky~I91402e82c39363c1eb5a439781cc4328d028bbcb,openstack/openstack-ansible-os_heat,stable/rocky,I91402e82c39363c1eb5a439781cc4328d028bbcb,Remove python-keystoneclient package install,MERGED,2018-09-18 13:16:44.000000000,2018-10-18 22:13:40.000000000,2018-10-18 22:13:40.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-09-18 13:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/9ec8f0a3cf59f372721be2913ae2f2982b701422', 'message': ""Remove python-keystoneclient package install\n\nNow that we no longer use our own keystone module, but\ninstead make use of the ansible runtime venv's shade\nlibrary and upstream ansible modules, we can eliminate\nthis package/library being installed on the host.\n\nChange-Id: I91402e82c39363c1eb5a439781cc4328d028bbcb\n(cherry picked from commit cc632165837efa71f40d6de95f7599fefe95cb20)\n""}, {'number': 2, 'created': '2018-10-18 14:29:08.000000000', 'files': ['vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/518fbb8fb4291e341330faa5ba76cb0e5581b6e7', 'message': ""Remove python-keystoneclient package install\n\nNow that we no longer use our own keystone module, but\ninstead make use of the ansible runtime venv's shade\nlibrary and upstream ansible modules, we can eliminate\nthis package/library being installed on the host.\n\nChange-Id: I91402e82c39363c1eb5a439781cc4328d028bbcb\n(cherry picked from commit cc632165837efa71f40d6de95f7599fefe95cb20)\n""}]",0,603378,518fbb8fb4291e341330faa5ba76cb0e5581b6e7,18,4,2,6816,,,0,"Remove python-keystoneclient package install

Now that we no longer use our own keystone module, but
instead make use of the ansible runtime venv's shade
library and upstream ansible modules, we can eliminate
this package/library being installed on the host.

Change-Id: I91402e82c39363c1eb5a439781cc4328d028bbcb
(cherry picked from commit cc632165837efa71f40d6de95f7599fefe95cb20)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/78/603378/2 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu.yml']",3,9ec8f0a3cf59f372721be2913ae2f2982b701422,bp/python-build-install-simplification-stable/rocky,, - python-keystoneclient # Keystoneclient needed to OSA keystone lib,0,3
openstack%2Fvitrage~master~Iacf59899b2669c19b88a42215d3d9dacab5bb6fc,openstack/vitrage,master,Iacf59899b2669c19b88a42215d3d9dacab5bb6fc,bugfix: delete resolved prometheus alarms,MERGED,2018-10-17 08:31:07.000000000,2018-10-18 21:59:52.000000000,2018-10-18 21:59:52.000000000,"[{'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 08:31:07.000000000', 'files': ['vitrage/datasources/prometheus/driver.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/37a18707b3fe4b41dce637d451c2f17b3ff85226', 'message': 'bugfix: delete resolved prometheus alarms\n\nChange-Id: Iacf59899b2669c19b88a42215d3d9dacab5bb6fc\n'}]",0,611258,37a18707b3fe4b41dce637d451c2f17b3ff85226,29,3,1,26339,,,0,"bugfix: delete resolved prometheus alarms

Change-Id: Iacf59899b2669c19b88a42215d3d9dacab5bb6fc
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/58/611258/1 && git format-patch -1 --stdout FETCH_HEAD,['vitrage/datasources/prometheus/driver.py'],1,37a18707b3fe4b41dce637d451c2f17b3ff85226,bugfix/prometheus_delete_resolved_alarms, def _get_all_alarms(self): return [] def _get_changed_alarms(self):, def _get_alarms(self): # TODO(iafek): should be implemented,4,2
openstack%2Fopenstacksdk~master~I3da91b6f18528b515a45d868e8c3faf824ade5a0,openstack/openstacksdk,master,I3da91b6f18528b515a45d868e8c3faf824ade5a0,Support v4-fixed-ip and v6-fixed-ip in create_server,MERGED,2018-10-18 15:33:22.000000000,2018-10-18 21:59:09.000000000,2018-10-18 21:59:09.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-18 15:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/507db89078ee482a67ae455fd48185027030b606', 'message': ""Support v4-fixed-ip and v6-fixed-ip in create_server\n\nnovaclient supports v4-fixed-ip and v6-fixed-ip as aliases for fixed_ip.\nAs shade used to use novaclient and passed this content through the\nswitch to REST resulted in a behavior regression for shade users.\n\nopenstackclient also exposes these for the --nics parameter, so it's\nimportant that we also support it as we look forward to switching OSC to\nsdk.\n\nChange-Id: I3da91b6f18528b515a45d868e8c3faf824ade5a0\n""}, {'number': 2, 'created': '2018-10-18 15:43:11.000000000', 'files': ['openstack/tests/unit/cloud/test_create_server.py', 'openstack/cloud/openstackcloud.py', 'releasenotes/notes/v4-fixed-ip-325740fdae85ffa9.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d91723dbabe690c97784b43e3a30571d9d9dac1d', 'message': ""Support v4-fixed-ip and v6-fixed-ip in create_server\n\nnovaclient supports v4-fixed-ip and v6-fixed-ip as aliases for fixed_ip.\nAs shade used to use novaclient and passed this content through the\nswitch to REST resulted in a behavior regression for shade users.\n\nopenstackclient also exposes these for the --nics parameter, so it's\nimportant that we also support it as we look forward to switching OSC to\nsdk.\n\nChange-Id: I3da91b6f18528b515a45d868e8c3faf824ade5a0\n""}]",0,611652,d91723dbabe690c97784b43e3a30571d9d9dac1d,7,2,2,2,,,0,"Support v4-fixed-ip and v6-fixed-ip in create_server

novaclient supports v4-fixed-ip and v6-fixed-ip as aliases for fixed_ip.
As shade used to use novaclient and passed this content through the
switch to REST resulted in a behavior regression for shade users.

openstackclient also exposes these for the --nics parameter, so it's
important that we also support it as we look forward to switching OSC to
sdk.

Change-Id: I3da91b6f18528b515a45d868e8c3faf824ade5a0
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/52/611652/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/cloud/test_create_server.py', 'openstack/cloud/openstackcloud.py', 'releasenotes/notes/v4-fixed-ip-325740fdae85ffa9.yaml']",3,507db89078ee482a67ae455fd48185027030b606,,"--- fixes: - | Re-added support for `v4-fixed-ip` and `v6-fixed-ip` in the `nics` parameter to `create_server`. These are aliaes for `fixed_ip` provided by novaclient which shade used to use. The switch to REST didn't include support for these aliases, resulting in a behavior regression. ",,163,3
openstack%2Ftripleo-quickstart~master~I68c15572f824fa8ae38bd68a5b0f0970ad50f1a7,openstack/tripleo-quickstart,master,I68c15572f824fa8ae38bd68a5b0f0970ad50f1a7,Move undercloud deployed openshift (scenario009) to check,ABANDONED,2018-07-26 12:45:17.000000000,2018-10-18 21:52:20.000000000,,"[{'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-07-26 12:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/13d68d0e83c4396f73eed563f9b952548da1b78f', 'message': 'Move undercloud deployed openshift (scenario009) to check\n\nThe job is still non-voting, but is stable enough that we should\nbe running it by default on changes to the featureset.\n\nChange-Id: I68c15572f824fa8ae38bd68a5b0f0970ad50f1a7\n'}, {'number': 2, 'created': '2018-10-18 20:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/17dcb6dd9405f57bdccdc453ce59c0a0b38a0670', 'message': 'Move undercloud deployed openshift (scenario009) to check\n\nThe job is still non-voting, but is stable enough that we should\nbe running it by default on changes to the featureset.\n\nChange-Id: I68c15572f824fa8ae38bd68a5b0f0970ad50f1a7\n'}]",0,586200,17dcb6dd9405f57bdccdc453ce59c0a0b38a0670,10,6,2,12715,,,0,"Move undercloud deployed openshift (scenario009) to check

The job is still non-voting, but is stable enough that we should
be running it by default on changes to the featureset.

Change-Id: I68c15572f824fa8ae38bd68a5b0f0970ad50f1a7
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/00/586200/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,13d68d0e83c4396f73eed563f9b952548da1b78f,scenario009, - tripleo-ci-centos-7-scenario009-multinode-oooq: files: - config/general_config/featureset033.yml, - tripleo-ci-centos-7-scenario009-multinode-oooq: files: - config/general_config/featureset033.yml,3,3
openstack%2Fgovernance~master~Ibf9f1c84171b73bb620f8df9a26ae97a8545b4b2,openstack/governance,master,Ibf9f1c84171b73bb620f8df9a26ae97a8545b4b2,Update sphinx extension logging,MERGED,2018-10-16 19:09:50.000000000,2018-10-18 21:50:17.000000000,2018-10-18 21:50:17.000000000,"[{'_account_id': 1004}, {'_account_id': 8099}, {'_account_id': 8556}, {'_account_id': 11564}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 19:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/90d6ad4905b201805279fc4f9d56463afae67c25', 'message': 'Update sphinx extension logging\n\nSphinx 1.6 deprecated using the application object to perform logging\nand it will be removed in the upcoming 2.0 release. This updates our\nextensions to use the recommended sphinx.util.logging instead.\n\nChange-Id: Ibf9f1c84171b73bb620f8df9a26ae97a8545b4b2\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2018-10-17 02:35:43.000000000', 'files': ['doc/source/_exts/members.py', 'doc/source/_exts/atcs.py', 'doc/source/_exts/badges.py', 'doc/source/_exts/projects.py', 'doc/source/_exts/teams.py', 'doc/source/_exts/tags.py'], 'web_link': 'https://opendev.org/openstack/governance/commit/83ba960797b71f92f9f8d5c0e7260078bd856975', 'message': 'Update sphinx extension logging\n\nSphinx 1.6 deprecated using the application object to perform logging\nand it will be removed in the upcoming 2.0 release. This updates our\nextensions to use the recommended sphinx.util.logging instead.\n\nChange-Id: Ibf9f1c84171b73bb620f8df9a26ae97a8545b4b2\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",1,611132,83ba960797b71f92f9f8d5c0e7260078bd856975,14,6,2,11904,,,0,"Update sphinx extension logging

Sphinx 1.6 deprecated using the application object to perform logging
and it will be removed in the upcoming 2.0 release. This updates our
extensions to use the recommended sphinx.util.logging instead.

Change-Id: Ibf9f1c84171b73bb620f8df9a26ae97a8545b4b2
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/32/611132/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_exts/members.py', 'doc/source/_exts/atcs.py', 'doc/source/_exts/badges.py', 'doc/source/_exts/projects.py', 'doc/source/_exts/tags.py', 'doc/source/_exts/teams.py']",6,90d6ad4905b201805279fc4f9d56463afae67c25,code-change,from sphinx.util import loggingLOG = logging.getLogger(__name__) LOG.info('generating team page for %s' % team) LOG.info('loading teams extension'), app.info('generating team page for %s' % team) app.info('loading teams extension'),28,15
openstack%2Fgovernance~master~Ibe3d35e6983febe4171a0f282e2016d342f2a817,openstack/governance,master,Ibe3d35e6983febe4171a0f282e2016d342f2a817,Fix format errors in PTI docs,MERGED,2018-10-16 17:16:12.000000000,2018-10-18 21:50:16.000000000,2018-10-18 21:50:16.000000000,"[{'_account_id': 1004}, {'_account_id': 4257}, {'_account_id': 8099}, {'_account_id': 8556}, {'_account_id': 11564}, {'_account_id': 11655}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 17:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/dbd6b1ae917e1b0f42dc7cb4fac2c282597df27c', 'message': 'Fix format errors in PTI docs\n\nExtra spaces and unnecessary tags are causing sections to be block\nquoted and other incorrect formatting in the rendered output.\n\nChange-Id: Ibe3d35e6983febe4171a0f282e2016d342f2a817\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2018-10-16 21:35:02.000000000', 'files': ['reference/pti/python.rst', 'reference/pti/golang.rst', 'reference/pti/javascript.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/8ca967a7fdf2c1879af7d3c6ae49ac880a21136d', 'message': 'Fix format errors in PTI docs\n\nExtra spaces and unnecessary tags are causing sections to be block\nquoted and other incorrect formatting in the rendered output.\n\nChange-Id: Ibe3d35e6983febe4171a0f282e2016d342f2a817\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",1,611098,8ca967a7fdf2c1879af7d3c6ae49ac880a21136d,17,8,2,11904,,,0,"Fix format errors in PTI docs

Extra spaces and unnecessary tags are causing sections to be block
quoted and other incorrect formatting in the rendered output.

Change-Id: Ibe3d35e6983febe4171a0f282e2016d342f2a817
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/98/611098/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/pti/python.rst', 'reference/pti/golang.rst', 'reference/pti/javascript.rst']",3,dbd6b1ae917e1b0f42dc7cb4fac2c282597df27c,documentation-change,"- Codestyle checks. - Execute Tests and Code Coverage - Package Tarball Generation - Documentation Generation - Validate dependency licenses- Unit tests in Firefox and Chromium.- Unit tests in Node.js.- Translation import/export and merge for translated objects.``npm install````npm test````npm run lint````npm pack````npm publish <tarball>--no-scripts````npm run document````npm run license````npm run translate````dependencies````devDependencies````peerDependencies``:Command: ``npm run lint``:Command: ``npm test``reports should be placed in `./reports` in your projects' root directory. Generated coverage output should similarly be placed in `./cover`.:Command: ``npm pack`` OpenStack uses ``npm pack`` to generate a release tarball, which will compile all files listed in `package.json`. If your project requirestarball, you may use the npm `prepublish` hook to trigger these steps.- A README - A LICENSE file - All source code:Command: ``npm run document``projects are recommended to provide an `npm run document` command for* Execute ``sphinx-build-b html doc/source doc/build``into the `npm run document` command. Additional logic needed around:Command: ``npm run releasenotes``projects are recommended to provide an `npm run releasenotes` command for* Execute: ``sphinx-build-a-E-W-d releasenotes/build/doctrees-b html releasenotes/source releasenotes/build/html`` The project infrastructure will not use `npm run releasenotes` to buildadditional logic into the `npm run releasenotes` command. Additional"," - Codestyle checks. - Execute Tests and Code Coverage - Package Tarball Generation - Documentation Generation - Validate dependency licenses - Unit tests in Firefox and Chromium. - Unit tests in Node.js. - Translation import/export and merge for translated objects. :code:`npm install` :code:`npm test` :code:`npm run lint` :code:`npm pack` :code:`npm publish <tarball> --no-scripts` :code:`npm run document` :code:`npm run license` :code:`npm run translate` :code:`dependencies` :code:`devDependencies` :code:`peerDependencies`:Command: :code:`npm run lint`:Command: :code:`npm test`reports should be placed in :code:`./reports` in your projects' root directory. Generated coverage output should similarly be placed in :code:`./cover`.:Command: :code:`npm pack` OpenStack uses :code:`npm pack` to generate a release tarball, which will compile all files listed in :code:`package.json`. If your project requirestarball, you may use the npm :code:`prepublish` hook to trigger these steps. - A README - A LICENSE file - All source code:Command: :code:`npm run document`projects are recommended to provide an :code:`npm run document` command for* Execute ``sphinx-build -b html doc/source doc/build``into the :code:`npm run document` command. Additional logic needed around:Command: :code:`npm run releasenotes`projects are recommended to provide an :code:`npm run releasenotes` command for* Execute: ``sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html`` The project infrastructure will not use :code:`npm run releasenotes` to buildadditional logic into the :code:`npm run releasenotes` command. Additional",117,115
openstack%2Fopenstack-ansible-os_blazar~stable%2Frocky~I48b1e9f10a32caba099493303518d9fee9fec7f1,openstack/openstack-ansible-os_blazar,stable/rocky,I48b1e9f10a32caba099493303518d9fee9fec7f1,Default MQ RPC/Notify credentials/vhosts to match,MERGED,2018-10-11 08:51:48.000000000,2018-10-18 21:32:09.000000000,2018-10-18 21:32:09.000000000,"[{'_account_id': 13192}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}, {'_account_id': 26790}]","[{'number': 1, 'created': '2018-10-11 08:51:48.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/6c9f923e2b9aa8ae205b0e3c13b842b3c8b63390', 'message': ""Default MQ RPC/Notify credentials/vhosts to match\n\nWhen the RPC and Notify service are the same, the credentials\nmust match - otherwise the tasks to create the user/password\nwill overwrite with each other.\n\nIf the two clusters are different, then the matching credentials\nand vhost will not be a problem. However, if the deployer really\nwishes to make sure they're different, then the vars can be\noverridden.\n\nAlso, to ensure that the SSL value is consistently set in the\nconf file, we apply the bool filter. We also use the 'notify'\nSSL setting as the messaging system for Notifications is more\nlikely to remain rabbitmq in our default deployment with qrouterd\nbecoming the default for RPC messaging.\n\nChange-Id: I48b1e9f10a32caba099493303518d9fee9fec7f1\nSigned-off-by: Taseer <taseer94@gmail.com>\n(cherry picked from commit 0500a7c2568bbf8e07bdd564e78ff3a52d0e31dd)\n""}]",0,609627,6c9f923e2b9aa8ae205b0e3c13b842b3c8b63390,9,5,1,6816,,,0,"Default MQ RPC/Notify credentials/vhosts to match

When the RPC and Notify service are the same, the credentials
must match - otherwise the tasks to create the user/password
will overwrite with each other.

If the two clusters are different, then the matching credentials
and vhost will not be a problem. However, if the deployer really
wishes to make sure they're different, then the vars can be
overridden.

Also, to ensure that the SSL value is consistently set in the
conf file, we apply the bool filter. We also use the 'notify'
SSL setting as the messaging system for Notifications is more
likely to remain rabbitmq in our default deployment with qrouterd
becoming the default for RPC messaging.

Change-Id: I48b1e9f10a32caba099493303518d9fee9fec7f1
Signed-off-by: Taseer <taseer94@gmail.com>
(cherry picked from commit 0500a7c2568bbf8e07bdd564e78ff3a52d0e31dd)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/27/609627/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,6c9f923e2b9aa8ae205b0e3c13b842b3c8b63390,move-mq-setup-into-roles-stable/rocky,"blazar_oslomsg_notify_userid: ""{{ blazar_oslomsg_rpc_userid }}"" blazar_oslomsg_notify_vhost: ""{{ blazar_oslomsg_rpc_vhost }}"" blazar_oslomsg_notify_password: ""{{ blazar_oslomsg_rpc_password }}""",blazar_oslomsg_notify_userid: blazar blazar_oslomsg_notify_vhost: /blazar,3,2
openstack%2Fopenstack-ansible~stable%2Frocky~I0ed1a43670d97f2e2215d04c641f7bd4cfbe4f44,openstack/openstack-ansible,stable/rocky,I0ed1a43670d97f2e2215d04c641f7bd4cfbe4f44,releasenotes: oslo-messaging-separate-backends add project name,MERGED,2018-10-15 13:43:53.000000000,2018-10-18 21:23:21.000000000,2018-10-18 21:23:21.000000000,"[{'_account_id': 4128}, {'_account_id': 6816}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-15 13:43:53.000000000', 'files': ['releasenotes/notes/oslo-messaging-backends-65287400dba86fce.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-3b2dac9462595b31.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-652f63d5c21b1884.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-e82ea3162d2d383f.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-702d7b33fda7a9f5.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-60f81dae397b1c96.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-1fbdb77e93e29542.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-a3af6957a984ac51.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-61d279ded1bc999e.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-e68c98d4f9d9a79c.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-06a1b30ffb228f22.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-87f2d1a15c202f73.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-401c97b4c48a9b31.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-4491e7c099bee4f5.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-9b3fcaaa21a0d9f4.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-e8a0b6857f2a9749.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/149e5d974b564a004c2ffab4eae5620d2170945d', 'message': 'releasenotes: oslo-messaging-separate-backends add project name\n\nWithout this patch, the release notes published at\nhttps://docs.openstack.org/releasenotes/openstack-ansible/rocky.html contains\nthe same line multiple times which is not very clear.\n\n[...]\n    Support separate oslo.messaging services for RPC and Notifications\n    to enable operation of separate and different messaging backend servers.\n\n    Support separate oslo.messaging services for RPC and Notifications\n    to enable operation of separate and different messaging backend servers.\n[...]\n\nChange-Id: I0ed1a43670d97f2e2215d04c641f7bd4cfbe4f44\n(cherry picked from commit c3d326226c144f53be212bcc648e95054282dc5a)\n'}]",0,610518,149e5d974b564a004c2ffab4eae5620d2170945d,10,5,1,4128,,,0,"releasenotes: oslo-messaging-separate-backends add project name

Without this patch, the release notes published at
https://docs.openstack.org/releasenotes/openstack-ansible/rocky.html contains
the same line multiple times which is not very clear.

[...]
    Support separate oslo.messaging services for RPC and Notifications
    to enable operation of separate and different messaging backend servers.

    Support separate oslo.messaging services for RPC and Notifications
    to enable operation of separate and different messaging backend servers.
[...]

Change-Id: I0ed1a43670d97f2e2215d04c641f7bd4cfbe4f44
(cherry picked from commit c3d326226c144f53be212bcc648e95054282dc5a)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/18/610518/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/oslo-messaging-backends-65287400dba86fce.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-3b2dac9462595b31.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-652f63d5c21b1884.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-e82ea3162d2d383f.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-702d7b33fda7a9f5.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-60f81dae397b1c96.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-1fbdb77e93e29542.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-a3af6957a984ac51.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-61d279ded1bc999e.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-e68c98d4f9d9a79c.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-06a1b30ffb228f22.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-87f2d1a15c202f73.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-401c97b4c48a9b31.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-4491e7c099bee4f5.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-9b3fcaaa21a0d9f4.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-e8a0b6857f2a9749.yaml']",16,149e5d974b564a004c2ffab4eae5620d2170945d,rocky, to enable operation of separate and different messaging backend servers in octavia., to enable operation of separate and different messaging backend servers.,32,16
openstack%2Fcinder~master~Ia906cd89acc9c12e4b731751763b4e9331aa80d2,openstack/cinder,master,Ia906cd89acc9c12e4b731751763b4e9331aa80d2,Add test-requirements to pylint reqs,MERGED,2018-10-15 14:22:37.000000000,2018-10-18 21:23:14.000000000,2018-10-16 17:56:53.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-15 14:22:37.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e82a842616a33c5817e1f2a613f77af877b046e6', 'message': 'Add test-requirements to pylint reqs\n\nNeed this for ddt, mock, etc.  pylint runs\ncurrently throw ImportErrors related to this.\n\nChange-Id: Ia906cd89acc9c12e4b731751763b4e9331aa80d2\n'}]",0,610583,e82a842616a33c5817e1f2a613f77af877b046e6,43,26,1,4523,,,0,"Add test-requirements to pylint reqs

Need this for ddt, mock, etc.  pylint runs
currently throw ImportErrors related to this.

Change-Id: Ia906cd89acc9c12e4b731751763b4e9331aa80d2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/83/610583/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e82a842616a33c5817e1f2a613f77af877b046e6,, -r{toxinidir}/test-requirements.txt,,1,0
openstack%2Fopenstack-ansible-ops~master~I451af0babf9ae7bd8ae58eccef9c908bb7f91f52,openstack/openstack-ansible-ops,master,I451af0babf9ae7bd8ae58eccef9c908bb7f91f52,MNAIO: Increase default logging_vm_server_ram to 16384,MERGED,2018-10-18 17:06:46.000000000,2018-10-18 21:20:41.000000000,2018-10-18 21:20:41.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-18 17:06:46.000000000', 'files': ['multi-node-aio/playbooks/group_vars/log_hosts.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/a38a19ee0184627da9b9b89437a74504203413c3', 'message': ""MNAIO: Increase default logging_vm_server_ram to 16384\n\nThe default of 1 GiB isn't sufficient to handle the logging load \ngenerated on a MNAIO.  This is a workable value and can be adjusted \ndown.\n\nChange-Id: I451af0babf9ae7bd8ae58eccef9c908bb7f91f52\n""}]",0,611679,a38a19ee0184627da9b9b89437a74504203413c3,7,3,1,7414,,,0,"MNAIO: Increase default logging_vm_server_ram to 16384

The default of 1 GiB isn't sufficient to handle the logging load 
generated on a MNAIO.  This is a workable value and can be adjusted 
down.

Change-Id: I451af0babf9ae7bd8ae58eccef9c908bb7f91f52
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/79/611679/1 && git format-patch -1 --stdout FETCH_HEAD,['multi-node-aio/playbooks/group_vars/log_hosts.yml'],1,a38a19ee0184627da9b9b89437a74504203413c3,mnaio-cleanup,server_vm_ram: '{{ logging_vm_server_ram | default(16384) }}',server_vm_ram: '{{ logging_vm_server_ram | default(1024) }}',1,1
openstack%2Fpython-designateclient~stable%2Fqueens~Ibddf9cc9a018774ed229c0dfa81e705cd74704bc,openstack/python-designateclient,stable/queens,Ibddf9cc9a018774ed229c0dfa81e705cd74704bc,server-get/update show wrong values about 'id' and 'update_at',MERGED,2018-07-25 04:16:04.000000000,2018-10-18 21:12:33.000000000,2018-10-18 21:12:33.000000000,"[{'_account_id': 8099}, {'_account_id': 11805}, {'_account_id': 16367}, {'_account_id': 21914}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27295}, {'_account_id': 27633}, {'_account_id': 29157}]","[{'number': 1, 'created': '2018-07-25 04:16:04.000000000', 'files': ['designateclient/cli/base.py'], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/a8545e8023e16518acc563447df2d7988a149063', 'message': ""server-get/update show wrong values about 'id' and 'update_at'\n\nWhile process 'designate server-get' and 'designate server-update',\nthe 'id' and 'update_at' values are wrong, they should be\ninterchanged.\n\nChange-Id: Ibddf9cc9a018774ed229c0dfa81e705cd74704bc\nCloses-Bug: #1777576\n""}]",0,585622,a8545e8023e16518acc563447df2d7988a149063,15,9,1,27633,,,0,"server-get/update show wrong values about 'id' and 'update_at'

While process 'designate server-get' and 'designate server-update',
the 'id' and 'update_at' values are wrong, they should be
interchanged.

Change-Id: Ibddf9cc9a018774ed229c0dfa81e705cd74704bc
Closes-Bug: #1777576
",git fetch https://review.opendev.org/openstack/python-designateclient refs/changes/22/585622/1 && git format-patch -1 --stdout FETCH_HEAD,['designateclient/cli/base.py'],1,a8545e8023e16518acc563447df2d7988a149063,bug/1777576," return results.keys(), results.values() return results.keys(), results.values() return results.keys(), results.values()"," return list(six.iterkeys(results)), list(six.itervalues(results)) return list(six.iterkeys(results)), list(six.itervalues(results)) return list(six.iterkeys(results)), list(six.itervalues(results))",3,3
openstack%2Frequirements~master~Ie16bfa0a96d41cc3d1712b0d3c7a6ce2378b5478,openstack/requirements,master,Ie16bfa0a96d41cc3d1712b0d3c7a6ce2378b5478,Leverage ignore_basepython_conflict to get the right python version,MERGED,2018-09-29 12:37:48.000000000,2018-10-18 20:56:08.000000000,2018-10-18 20:56:08.000000000,"[{'_account_id': 6593}, {'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2018-09-29 12:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/546ecc7578c01b0c20973add0c5ca59a6b6e184b', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Ie16bfa0a96d41cc3d1712b0d3c7a6ce2378b5478\n'}, {'number': 2, 'created': '2018-10-11 02:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/132f19d9eba9efdf3a22ec3637c4118a02a4440b', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Ie16bfa0a96d41cc3d1712b0d3c7a6ce2378b5478\n'}, {'number': 3, 'created': '2018-10-18 02:10:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3a6ef20dab62e9720a05ce95f1d986bdbd58f314', 'message': 'Leverage ignore_basepython_conflict to get the right python version\n\nCurrently as we have basepython set in the testenv we always get the\nsame python3 binary even when specifying a specific env (eg py37).\n\nThis change uses ignore_basepython_conflict to tell tox when creating\nthe py3X envoronments to use the major/minr from the env rather than\nbasepython.\n\nBefore:\n [tony@thor requirements]$ tox -re py37,py35,py36,py27 --notest\n [tony@thor requirements]$ for py in .tox/py*/bin/python ; do echo $py ; $py --version ; done\n .tox/py27/bin/python\n Python 3.6.6\n .tox/py35/bin/python\n Python 3.5.6\n .tox/py36/bin/python\n Python 3.6.6\n .tox/py37/bin/python\n Python 3.6.6\n\nAfter:\n [tony@thor requirements]$ tox -re py37,py35,py36,py27 --notest\n [tony@thor requirements]$ for py in .tox/py*/bin/python ; do echo $py ; $py --version ; done\n .tox/py27/bin/python\n Python 2.7.15\n .tox/py35/bin/python\n Python 3.5.6\n .tox/py36/bin/python\n Python 3.6.6\n .tox/py37/bin/python\n Python 3.7.0\n\nChange-Id: Ie16bfa0a96d41cc3d1712b0d3c7a6ce2378b5478\n'}]",3,606411,3a6ef20dab62e9720a05ce95f1d986bdbd58f314,18,5,3,17499,,,0,"Leverage ignore_basepython_conflict to get the right python version

Currently as we have basepython set in the testenv we always get the
same python3 binary even when specifying a specific env (eg py37).

This change uses ignore_basepython_conflict to tell tox when creating
the py3X envoronments to use the major/minr from the env rather than
basepython.

Before:
 [tony@thor requirements]$ tox -re py37,py35,py36,py27 --notest
 [tony@thor requirements]$ for py in .tox/py*/bin/python ; do echo $py ; $py --version ; done
 .tox/py27/bin/python
 Python 3.6.6
 .tox/py35/bin/python
 Python 3.5.6
 .tox/py36/bin/python
 Python 3.6.6
 .tox/py37/bin/python
 Python 3.6.6

After:
 [tony@thor requirements]$ tox -re py37,py35,py36,py27 --notest
 [tony@thor requirements]$ for py in .tox/py*/bin/python ; do echo $py ; $py --version ; done
 .tox/py27/bin/python
 Python 2.7.15
 .tox/py35/bin/python
 Python 3.5.6
 .tox/py36/bin/python
 Python 3.6.6
 .tox/py37/bin/python
 Python 3.7.0

Change-Id: Ie16bfa0a96d41cc3d1712b0d3c7a6ce2378b5478
",git fetch https://review.opendev.org/openstack/requirements refs/changes/11/606411/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,546ecc7578c01b0c20973add0c5ca59a6b6e184b,,"envlist = validate,py27,py35,pep8,pip-installbasepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3","envlist = validate,py27,pep8,pip-installbasepython = python3",12,2
openstack%2Ftripleo-heat-templates~master~I3aab0c6cd922fb077e61877f98619e0c3a5bd746,openstack/tripleo-heat-templates,master,I3aab0c6cd922fb077e61877f98619e0c3a5bd746,DNM: testing image prepare,ABANDONED,2018-09-14 18:18:55.000000000,2018-10-18 20:49:13.000000000,,"[{'_account_id': 12715}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-14 18:18:55.000000000', 'files': ['puppet/services/container-image-prepare.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3193691d24244c22074c3aab04f159ccfc38cd9c', 'message': 'DNM: testing image prepare\n\nChange-Id: I3aab0c6cd922fb077e61877f98619e0c3a5bd746\n'}]",0,602711,3193691d24244c22074c3aab04f159ccfc38cd9c,5,3,1,12715,,,0,"DNM: testing image prepare

Change-Id: I3aab0c6cd922fb077e61877f98619e0c3a5bd746
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/602711/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/container-image-prepare.j2.yaml'],1,3193691d24244c22074c3aab04f159ccfc38cd9c,openshift-validation, - name: Run tripleo-container-image-prepare shell: sudo /usr/bin/tripleo-container-image-prepare --roles-file {{ '{{' }} role_data.path {{ '}}' }} --environment-file {{ '{{' }} prepare_param.path {{ '}}' }} --cleanup partial 2> {{ '{{' }} log_file {{ '}}' }} ," - name: Delete param file file: dest: ""{{ '{{' }} prepare_param.path {{ '}}' }}"" state: absent - name: Delete role file file: dest: ""{{ '{{' }} role_data.path {{ '}}' }}"" state: absent",3,8
openstack%2Ftripleo-quickstart-extras~master~I6197bcb56a5d394bb617539538a1f03724bfd8c2,openstack/tripleo-quickstart-extras,master,I6197bcb56a5d394bb617539538a1f03724bfd8c2,DNM: Testing openshift-ansible container,ABANDONED,2018-09-20 12:57:53.000000000,2018-10-18 20:48:46.000000000,,"[{'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-09-20 12:57:53.000000000', 'files': ['roles/undercloud-deploy/templates/undercloud-install.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3573494cc5f88cdde03309d3a42bd42d2e0fd88a', 'message': 'DNM: Testing openshift-ansible container\n\nChange-Id: I6197bcb56a5d394bb617539538a1f03724bfd8c2\n'}]",0,604076,3573494cc5f88cdde03309d3a42bd42d2e0fd88a,8,5,1,12715,,,0,"DNM: Testing openshift-ansible container

Change-Id: I6197bcb56a5d394bb617539538a1f03724bfd8c2
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/76/604076/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-deploy/templates/undercloud-install.sh.j2'],1,3573494cc5f88cdde03309d3a42bd42d2e0fd88a,osa-container,sudo docker restart mistral_executor ,,2,0
openstack%2Ftripleo-quickstart~master~I06721e5c4bbbcf3ccc74642471c2a4803005ec26,openstack/tripleo-quickstart,master,I06721e5c4bbbcf3ccc74642471c2a4803005ec26,Add default resource registry to container prepare,ABANDONED,2018-08-21 18:21:30.000000000,2018-10-18 20:47:28.000000000,,"[{'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-21 18:21:30.000000000', 'files': ['config/general_config/featureset033.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bc09afa9bd79f9c11cdd95175f2e115d892d1904', 'message': 'Add default resource registry to container prepare\n\nWithout this, we have no default for the Keepalived container.\n\nChange-Id: I06721e5c4bbbcf3ccc74642471c2a4803005ec26\n'}]",5,594504,bc09afa9bd79f9c11cdd95175f2e115d892d1904,13,7,1,12715,,,0,"Add default resource registry to container prepare

Without this, we have no default for the Keepalived container.

Change-Id: I06721e5c4bbbcf3ccc74642471c2a4803005ec26
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/04/594504/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset033.yml'],1,bc09afa9bd79f9c11cdd95175f2e115d892d1904,openshift, -e {{ overcloud_templates_path }}/overcloud-resource-registry-puppet.yaml,,1,0
openstack%2Ftripleo-quickstart-extras~master~I9c96a1ee79d5786468f7faa961d0b1e4f15dc8ef,openstack/tripleo-quickstart-extras,master,I9c96a1ee79d5786468f7faa961d0b1e4f15dc8ef,Add nodepool user to docker group,ABANDONED,2018-07-26 19:27:51.000000000,2018-10-18 20:46:47.000000000,,"[{'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-26 19:27:51.000000000', 'files': ['roles/multinodes/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/87c7d041312baee3106e7d850a8fbada623c27aa', 'message': 'Add nodepool user to docker group\n\nThis is the case in CI, but not in our reproducer environments.\n\nChange-Id: I9c96a1ee79d5786468f7faa961d0b1e4f15dc8ef\n'}]",0,586332,87c7d041312baee3106e7d850a8fbada623c27aa,6,4,1,12715,,,0,"Add nodepool user to docker group

This is the case in CI, but not in our reproducer environments.

Change-Id: I9c96a1ee79d5786468f7faa961d0b1e4f15dc8ef
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/32/586332/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/multinodes/tasks/main.yml'],1,87c7d041312baee3106e7d850a8fbada623c27aa,openshift3.10," groups: wheel,docker", groups: wheel,1,1
openstack%2Fcinder~master~I709d8f8722c6a477e50d0ee7fd9a368a16fe9cca,openstack/cinder,master,I709d8f8722c6a477e50d0ee7fd9a368a16fe9cca,Rename cinder.privsep.utils to cinder.privsep.path,MERGED,2018-09-30 11:19:40.000000000,2018-10-18 20:35:13.000000000,2018-10-17 04:47:20.000000000,"[{'_account_id': 24}, {'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-09-30 11:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d3d6323407bea8b7f56e66b7c1ac2af1076d55e3', 'message': 'Rename cinder.privsep.utils to cinder.privsep.path\n\nRename file to path because most of these functions in the\nfile have to do with filesystem paths and the like. Straight\nrename no code affected.\n\nChange-Id: I709d8f8722c6a477e50d0ee7fd9a368a16fe9cca\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 2, 'created': '2018-09-30 12:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/354e7613105ffd1c9a8dbae7e9f55dff70030650', 'message': 'Rename cinder.privsep.utils to cinder.privsep.path\n\nRename file to path because most of these functions in the\nfile have to do with filesystem paths and the like.\n\nChange-Id: I709d8f8722c6a477e50d0ee7fd9a368a16fe9cca\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 3, 'created': '2018-10-15 13:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/03850e11a2b3ac6753e6a7c1d927a1e3d28a221e', 'message': 'Rename cinder.privsep.utils to cinder.privsep.path\n\nRename file to path because most of these functions in the\nfile have to do with filesystem paths and the like.\n\nChange-Id: I709d8f8722c6a477e50d0ee7fd9a368a16fe9cca\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 4, 'created': '2018-10-15 13:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/432b618e5d49e4da45ae6b26ebc2337527848e65', 'message': 'Rename cinder.privsep.utils to cinder.privsep.path\n\nRename file to path because most of these functions in the\nfile have to do with filesystem paths and the like.\n\nDepends-On: 03850e11a2b3ac6753e6a7c1d927a1e3d28a221e\n\nChange-Id: I709d8f8722c6a477e50d0ee7fd9a368a16fe9cca\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 5, 'created': '2018-10-15 14:11:01.000000000', 'files': ['cinder/privsep/path.py', 'cinder/volume/targets/nvmet.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/94641537b80f079044f0b76f92cb6670d4587a59', 'message': 'Rename cinder.privsep.utils to cinder.privsep.path\n\nRename file to path because most of these functions in the\nfile have to do with filesystem paths and the like.\n\nChange-Id: I709d8f8722c6a477e50d0ee7fd9a368a16fe9cca\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}]",2,606844,94641537b80f079044f0b76f92cb6670d4587a59,108,39,5,24,,,0,"Rename cinder.privsep.utils to cinder.privsep.path

Rename file to path because most of these functions in the
file have to do with filesystem paths and the like.

Change-Id: I709d8f8722c6a477e50d0ee7fd9a368a16fe9cca
Signed-off-by: Chuck Short <chucks@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/606844/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/privsep/path.py'],1,d3d6323407bea8b7f56e66b7c1ac2af1076d55e3,privsep,,,0,0
openstack%2Fopenstack-zuul-jobs~master~I7a4f0159290d67354e0a73365091a0d1718762fd,openstack/openstack-zuul-jobs,master,I7a4f0159290d67354e0a73365091a0d1718762fd,Add zuul to test-requirements for linting,MERGED,2018-10-18 13:36:13.000000000,2018-10-18 20:35:11.000000000,2018-10-18 20:35:11.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-18 13:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/1112bc4982560ed0f630cf75e95ee5a0f16b4315', 'message': 'Add zuul to tox linters env\n\nThe linters env is picking up zuul-jobs content too, so we need to add\nzuul to get the zuul_ modules ... otherwise ansible-lint has a sad.\n\nChange-Id: I7a4f0159290d67354e0a73365091a0d1718762fd\n'}, {'number': 2, 'created': '2018-10-18 14:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/ec1991e3d67da2215b5c388023293fd3b111e63e', 'message': 'Add zuul to test-requirements for linting\n\nThe linters env is picking up zuul-jobs content too, so we need to add\nzuul to get the zuul_ modules ... otherwise ansible-lint has a sad.\n\nAdd zuul to test-requirements like is done in zuul-jobs. Then point the\nlibrary path to zuul/ansible/library in the site-packages dir from tox\nso that we pick up the right files.\n\nChange-Id: I7a4f0159290d67354e0a73365091a0d1718762fd\n'}, {'number': 3, 'created': '2018-10-18 15:40:39.000000000', 'files': ['bindep.txt', 'test-requirements.txt', 'tox.ini', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/d07d6d65ef2921a7e603ac16552afc3a51207ca8', 'message': 'Add zuul to test-requirements for linting\n\nThe linters env is picking up zuul-jobs content too, so we need to add\nzuul to get the zuul_ modules ... otherwise ansible-lint has a sad.\n\nAdd zuul to test-requirements like is done in zuul-jobs. Then point the\nlibrary path to zuul/ansible/library in the site-packages dir from tox\nso that we pick up the right files.\n\nChange-Id: I7a4f0159290d67354e0a73365091a0d1718762fd\n'}]",0,611607,d07d6d65ef2921a7e603ac16552afc3a51207ca8,13,3,3,2,,,0,"Add zuul to test-requirements for linting

The linters env is picking up zuul-jobs content too, so we need to add
zuul to get the zuul_ modules ... otherwise ansible-lint has a sad.

Add zuul to test-requirements like is done in zuul-jobs. Then point the
library path to zuul/ansible/library in the site-packages dir from tox
so that we pick up the right files.

Change-Id: I7a4f0159290d67354e0a73365091a0d1718762fd
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/07/611607/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1112bc4982560ed0f630cf75e95ee5a0f16b4315,zuul-jobs-linters,deps = # Zuul is required to supply the zuul ansible modules for ansible-lint -r{toxinidir}/test-requirements.txt -egit+https://git.openstack.org/openstack-infra/zuul#egg=zuulsetenv = ANSIBLE_LIBRARY= {envdir}/src/zuul/zuul/ansible/library,,6,0
openstack%2Fcongress~master~Ia2bcf07b09f2f02ecf041ad60d5514a5f95a8284,openstack/congress,master,Ia2bcf07b09f2f02ecf041ad60d5514a5f95a8284,Increment versioning with pbr instruction,MERGED,2018-10-15 13:48:18.000000000,2018-10-18 20:21:44.000000000,2018-10-18 20:21:44.000000000,"[{'_account_id': 11904}, {'_account_id': 18591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-15 13:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/1f2792db38cc164720f05b8242367d5323cd2f43', 'message': 'Increment versioning with pbr instruction\n\nWith moving away from required milestone releases, the version numbers\ncalculated by PBR on the master branch will not work for those testing\nupgrades from the last stable release. More details can be found in the\nmailing list post here:\n\n    http://lists.openstack.org/pipermail/openstack-dev/2018-October/135706.html\n\nThis is an empty commit that will cause PBR to increment its calculated\nversion to get around this.\n\nPBR will see the following which will cause it to increment the version:\n\nSem-Ver: feature\n\nPlease merge this patch as soon as possible to support those testing\nupgrades.\n\nChange-Id: Ia2bcf07b09f2f02ecf041ad60d5514a5f95a8284\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2018-10-18 15:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/bd21ca56d9c29c1c77f7d42d3ad62bf698b0fa8e', 'message': 'Increment versioning with pbr instruction\n\nWith moving away from required milestone releases, the version numbers\ncalculated by PBR on the master branch will not work for those testing\nupgrades from the last stable release. More details can be found in the\nmailing list post here:\n\n    http://lists.openstack.org/pipermail/openstack-dev/2018-October/135706.html\n\nThis is an empty commit that will cause PBR to increment its calculated\nversion to get around this.\n\nPBR will see the following which will cause it to increment the version:\n\nSem-Ver: feature\n\nPlease merge this patch as soon as possible to support those testing\nupgrades.\n\nChange-Id: Ia2bcf07b09f2f02ecf041ad60d5514a5f95a8284\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,610564,bd21ca56d9c29c1c77f7d42d3ad62bf698b0fa8e,11,3,2,11904,,,0,"Increment versioning with pbr instruction

With moving away from required milestone releases, the version numbers
calculated by PBR on the master branch will not work for those testing
upgrades from the last stable release. More details can be found in the
mailing list post here:

    http://lists.openstack.org/pipermail/openstack-dev/2018-October/135706.html

This is an empty commit that will cause PBR to increment its calculated
version to get around this.

PBR will see the following which will cause it to increment the version:

Sem-Ver: feature

Please merge this patch as soon as possible to support those testing
upgrades.

Change-Id: Ia2bcf07b09f2f02ecf041ad60d5514a5f95a8284
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/congress refs/changes/64/610564/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,1f2792db38cc164720f05b8242367d5323cd2f43,sem-ver,,,0,0
openstack%2Fkeystone~master~I12543ea630ca680f1c4eb32b1594630a5d6ba2a4,openstack/keystone,master,I12543ea630ca680f1c4eb32b1594630a5d6ba2a4,WIP: Implement domain and system default roles,ABANDONED,2018-10-17 23:25:35.000000000,2018-10-18 20:12:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-17 23:25:35.000000000', 'files': ['keystone/tests/unit/protection/v3/test_users.py', 'keystone/api/users.py', 'keystone/common/policies/user.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/6756d396b0518333b0bf2f44c34b2accc4b4cd90', 'message': 'WIP: Implement domain and system default roles\n\nChange-Id: I12543ea630ca680f1c4eb32b1594630a5d6ba2a4\n'}]",0,611465,6756d396b0518333b0bf2f44c34b2accc4b4cd90,3,1,1,5046,,,0,"WIP: Implement domain and system default roles

Change-Id: I12543ea630ca680f1c4eb32b1594630a5d6ba2a4
",git fetch https://review.opendev.org/openstack/keystone refs/changes/65/611465/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/protection/v3/test_users.py', 'keystone/api/users.py', 'keystone/common/policies/user.py']",3,6756d396b0518333b0bf2f44c34b2accc4b4cd90,bug/1788415,"SYSTEM_READER_OR_DOMAIN_READER_OR_USER = ( '(role:reader and system_scope:all) or ' '(role:reader and token.domain.id:%(target.user.domain_id)s) or ' 'user_id:%(target.user.id)s' ) SYSTEM_READER_OR_DOMAIN_READER = ( '(role:reader and system_scope:all) or role:reader' ) SYSTEM_ADMIN_OR_DOMAIN_ADMIN = ( '(role:admin and system_scope:all) or ' '(role:admin and token.domain.id:%(target.user.domain_id)s)' ) SYSTEM_MEMBER_OR_DOMAIN_MEMBER = ( '(role:member and system_scope:all) or ' '(role:member and token.domain.id:%(target.user.domain_id)s)' ) deprecated_create_user = policy.DeprecatedRule( name=base.IDENTITY % 'create_user', check_str=base.RULE_ADMIN_REQUIRED ) deprecated_create_user = policy.DeprecatedRule( name=base.IDENTITY % 'create_user', check_str=base.RULE_ADMIN_REQUIRED ) deprecated_update_user = policy.DeprecatedRule( name=base.IDENTITY % 'update_user', check_str=base.RULE_ADMIN_REQUIRED ) deprecated_delete_user = policy.DeprecatedRule( name=base.IDENTITY % 'delete_user', check_str=base.RULE_ADMIN_REQUIRED ) check_str=SYSTEM_READER_OR_DOMAIN_READER_OR_USER, check_str=SYSTEM_READER_OR_DOMAIN_READER, check_str=SYSTEM_ADMIN_OR_DOMAIN_ADMIN, 'method': 'POST'}], deprecated_rule=deprecated_create_user, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.STEIN), check_str=SYSTEM_MEMBER_OR_DOMAIN_MEMBER, 'method': 'PATCH'}], deprecated_rule=deprecated_update_user, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.STEIN), check_str=SYSTEM_ADMIN_OR_DOMAIN_ADMIN, 'method': 'DELETE'}], deprecated_rule=deprecated_delete_user, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.STEIN),"," check_str=( '(role:reader and system_scope:all) or ' '(role:reader and token.domain.id:%(target.user.domain_id)s) or ' 'user_id:%(target.user.id)s' ), check_str='(role:reader and system_scope:all) or role:reader', check_str=base.RULE_ADMIN_REQUIRED, # FIXME(lbragstad): This can be considered either a system-level policy # or a project-level policy. System administrator should have the # ability to create users in any domain. Domain (or project) # administrators should have the ability to create users in the domain # they administer. The second case is going to require a policy check # in code. Until that happens, we will leave this as a system-level # policy. 'method': 'POST'}]), check_str=base.RULE_ADMIN_REQUIRED, # FIXME(lbragstad): See the above comment about adding support for # project scope_types in the future. 'method': 'PATCH'}]), check_str=base.RULE_ADMIN_REQUIRED, # FIXME(lbragstad): See the above comment about adding support for # project scope_types in the future. 'method': 'DELETE'}])",634,130
openstack%2Fproject-config~master~Iad5fd75bc10924b483a14a449853b6b8e7c4c465,openstack/project-config,master,Iad5fd75bc10924b483a14a449853b6b8e7c4c465,Remove x-vrif-minus-2 from gerritbot notifications,MERGED,2018-10-11 14:45:08.000000000,2018-10-18 20:10:00.000000000,2018-10-18 20:10:00.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-11 14:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/66315d6ec6a1fef77586dfbd1648389466fb27b0', 'message': ""Remove x-vrif-minus-2 from gerritbot notifications\n\nThis event is currently a noop and a new event name is in the works to\nreplace its intended functionality. This removes all references to the\nnon-functional notification. Teams can add the new replacement\nnotification once it's available if they want to have these.\n\nChange-Id: Iad5fd75bc10924b483a14a449853b6b8e7c4c465\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 2, 'created': '2018-10-11 21:27:19.000000000', 'files': ['gerritbot/channels.yaml', 'tools/irc_tests.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f0680c7127883c33442b5dbeb9cc97e7e6ee8ef6', 'message': ""Remove x-vrif-minus-2 from gerritbot notifications\n\nThis event is currently a noop and a new event name is in the works to\nreplace its intended functionality. This removes all references to the\nnon-functional notification. Teams can add the new replacement\nnotification once it's available if they want to have these.\n\nChange-Id: Iad5fd75bc10924b483a14a449853b6b8e7c4c465\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,609728,f0680c7127883c33442b5dbeb9cc97e7e6ee8ef6,10,3,2,11904,,,0,"Remove x-vrif-minus-2 from gerritbot notifications

This event is currently a noop and a new event name is in the works to
replace its intended functionality. This removes all references to the
non-functional notification. Teams can add the new replacement
notification once it's available if they want to have these.

Change-Id: Iad5fd75bc10924b483a14a449853b6b8e7c4c465
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/28/609728/2 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,66315d6ec6a1fef77586dfbd1648389466fb27b0,remove-x-verified,, - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2 - x-vrif-minus-2,0,137
openstack%2Fopenstack-ansible-os_trove~stable%2Frocky~I718a3364c8398545e46df0da39de4f94330c2da7,openstack/openstack-ansible-os_trove,stable/rocky,I718a3364c8398545e46df0da39de4f94330c2da7,Replace Chinese punctuation with English punctuation,MERGED,2018-10-10 15:08:09.000000000,2018-10-18 19:51:03.000000000,2018-10-18 19:51:03.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-10 15:08:09.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/c7b836382aec9ae89a7e6efef4baf58d9b06a615', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: I718a3364c8398545e46df0da39de4f94330c2da7\nCloses-Bug: #1792131\n(cherry picked from commit 1689561d36f6e36edd11b0aec81aa0ea4e49a3a6)\n'}]",0,609448,c7b836382aec9ae89a7e6efef4baf58d9b06a615,7,3,1,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: I718a3364c8398545e46df0da39de4f94330c2da7
Closes-Bug: #1792131
(cherry picked from commit 1689561d36f6e36edd11b0aec81aa0ea4e49a3a6)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/48/609448/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,c7b836382aec9ae89a7e6efef4baf58d9b06a615,, add the 'backport potential' tag TO THE ISSUE (not the PR)., add the backport potential tag TO THE ISSUE (not the PR).,1,1
openstack%2Fopenstack-ansible-os_watcher~stable%2Frocky~If78e42f9ba169019dc67d0727311b55d19548817,openstack/openstack-ansible-os_watcher,stable/rocky,If78e42f9ba169019dc67d0727311b55d19548817,Replace Chinese punctuation with English punctuation,MERGED,2018-10-10 15:08:00.000000000,2018-10-18 19:49:41.000000000,2018-10-18 19:49:41.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-10 15:08:00.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_watcher/commit/19cec13c82449d9c1c50d7ddc6de4e4d9aa61820', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input\nmethod. When read from english context, it makes some confusion.\n\nChange-Id: If78e42f9ba169019dc67d0727311b55d19548817\nCloses-Bug: #1792131\n(cherry picked from commit f3a2bbbc19a45a4f57b9168e541ec13aead8117f)\n'}]",0,609446,19cec13c82449d9c1c50d7ddc6de4e4d9aa61820,7,3,1,28614,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input
method. When read from english context, it makes some confusion.

Change-Id: If78e42f9ba169019dc67d0727311b55d19548817
Closes-Bug: #1792131
(cherry picked from commit f3a2bbbc19a45a4f57b9168e541ec13aead8117f)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_watcher refs/changes/46/609446/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,19cec13c82449d9c1c50d7ddc6de4e4d9aa61820,, add the 'backport potential' tag TO THE ISSUE (not the PR)., add the backport potential tag TO THE ISSUE (not the PR).,1,1
openstack%2Fheat~master~I5107e712a903f334f1a3a996b9140e9e2fe0807a,openstack/heat,master,I5107e712a903f334f1a3a996b9140e9e2fe0807a,"Revert ""Change ""services"" to ""service""""",MERGED,2018-10-18 17:23:34.000000000,2018-10-18 19:21:04.000000000,2018-10-18 19:21:04.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 29165}]","[{'number': 1, 'created': '2018-10-18 17:23:34.000000000', 'files': ['doc/source/install/install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/63bff7408ad9ba95284c6af63228ddf96b981ae4', 'message': 'Revert ""Change ""services"" to ""service""""\n\nThis was correct for the RDO installation guide.\n\nThis reverts commit b90278b503aff2ad8148af38525beb90ffb117d8.\n\nChange-Id: I5107e712a903f334f1a3a996b9140e9e2fe0807a\n'}]",0,611682,63bff7408ad9ba95284c6af63228ddf96b981ae4,6,4,1,4257,,,0,"Revert ""Change ""services"" to ""service""""

This was correct for the RDO installation guide.

This reverts commit b90278b503aff2ad8148af38525beb90ffb117d8.

Change-Id: I5107e712a903f334f1a3a996b9140e9e2fe0807a
",git fetch https://review.opendev.org/openstack/heat refs/changes/82/611682/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/install-rdo.rst'],1,63bff7408ad9ba95284c6af63228ddf96b981ae4,bugfix_doc, $ openstack role add --project services --user heat admin, $ openstack role add --project service --user heat admin,1,1
openstack%2Fcharm-rabbitmq-server~master~I3f4f2371135fcf5d49427259b8cb37fc71f78d25,openstack/charm-rabbitmq-server,master,I3f4f2371135fcf5d49427259b8cb37fc71f78d25,nrpe: drop use of plurals for alert levels,MERGED,2018-10-18 10:25:13.000000000,2018-10-18 19:09:50.000000000,2018-10-18 19:09:50.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-18 10:25:13.000000000', 'files': ['scripts/check_rabbitmq_queues.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/43dc1d47a36270befe56bcc3ea3033be2b4fa293', 'message': ""nrpe: drop use of plurals for alert levels\n\nDrop 'S' from CRITICALS AND WARNINGS to avoid any furture breakage.\n\nChange-Id: I3f4f2371135fcf5d49427259b8cb37fc71f78d25\nCloses-Bug: 1795944\n""}]",0,611564,43dc1d47a36270befe56bcc3ea3033be2b4fa293,7,3,1,935,,,0,"nrpe: drop use of plurals for alert levels

Drop 'S' from CRITICALS AND WARNINGS to avoid any furture breakage.

Change-Id: I3f4f2371135fcf5d49427259b8cb37fc71f78d25
Closes-Bug: 1795944
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/64/611564/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/check_rabbitmq_queues.py'],1,43dc1d47a36270befe56bcc3ea3033be2b4fa293,bug/1795944," print ""CRITICAL: %s"" % "", "".join(criticals) print ""WARNING: %s"" % "", "".join(warnings)"," print ""CRITICALS: %s"" % "", "".join(criticals) print ""WARNINGS: %s"" % "", "".join(warnings)",2,2
openstack%2Fcinder~master~I83f6a05cf0aac0a82cce58ef41adfa0f852d67f5,openstack/cinder,master,I83f6a05cf0aac0a82cce58ef41adfa0f852d67f5,Bump pylint to 1.4.3,ABANDONED,2017-03-07 23:11:05.000000000,2018-10-18 19:03:32.000000000,,"[{'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9003}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16643}, {'_account_id': 16708}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 16941}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24162}, {'_account_id': 24230}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-03-07 23:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/18e11ae99b10b87755f20db6c19a566ddb7ddbae', 'message': 'Bump pylint to 1.4.3\n\nUpdates the pylint version used from 0.26.0 to\n1.4.3 (not the newest, but at least close to current).\n\nMake lintstack.py a little more debuggable.\n\nChange-Id: I83f6a05cf0aac0a82cce58ef41adfa0f852d67f5\n'}, {'number': 2, 'created': '2017-05-16 18:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3c35d5f44048d0ba4a9eb6abefbe1d71cd83b03b', 'message': 'Bump pylint to 1.4.3\n\nUpdates the pylint version used from 0.26.0 to\n1.4.3 (not the newest, but at least close to current).\n\nMake lintstack.py a little more debuggable.\n\nChange-Id: I83f6a05cf0aac0a82cce58ef41adfa0f852d67f5\n'}, {'number': 3, 'created': '2017-05-22 16:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2e616c58600a96528e13b46160398b11249a1ba9', 'message': 'Bump pylint to 1.4.3\n\nUpdates the pylint version used from 0.26.0 to\n1.4.3 (not the newest, but at least close to current).\n\nMake lintstack.py a little more debuggable.\n\nChange-Id: I83f6a05cf0aac0a82cce58ef41adfa0f852d67f5\n'}, {'number': 4, 'created': '2017-08-15 14:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f9f9f5828ca036650d0afca81ceae2cd42454cc3', 'message': 'Bump pylint to 1.4.3\n\nUpdates the pylint version used from 0.26.0 to\n1.4.3 (not the newest, but at least close to current).\n\nMake lintstack.py a little more debuggable.\n\nChange-Id: I83f6a05cf0aac0a82cce58ef41adfa0f852d67f5\n'}, {'number': 5, 'created': '2017-08-24 14:29:05.000000000', 'files': ['tools/lintstack.py', 'cinder/volume/drivers/nexenta/nfs.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6abc960b15eb90de409745e85a4d8feb84014d96', 'message': 'Bump pylint to 1.4.3\n\nUpdates the pylint version used from 0.26.0 to\n1.4.3 (not the newest, but at least close to current).\n\nMake lintstack.py a little more debuggable.\n\nChange-Id: I83f6a05cf0aac0a82cce58ef41adfa0f852d67f5\n'}]",7,442857,6abc960b15eb90de409745e85a4d8feb84014d96,169,57,5,4523,,,0,"Bump pylint to 1.4.3

Updates the pylint version used from 0.26.0 to
1.4.3 (not the newest, but at least close to current).

Make lintstack.py a little more debuggable.

Change-Id: I83f6a05cf0aac0a82cce58ef41adfa0f852d67f5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/57/442857/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/lintstack.py', 'cinder/volume/drivers/nexenta/nfs.py', 'tox.ini']",3,18e11ae99b10b87755f20db6c19a566ddb7ddbae,442857,"# astroid here is > than what is in upper-requirements, but needed for # pylint to work. pylint==1.4.3 astroid===1.4.8", pylint==0.26.0,19,14
openstack%2Fpython-swiftclient~master~I2367310aac74f1b7c5ea0cb1a822a491e4ba8e68,openstack/python-swiftclient,master,I2367310aac74f1b7c5ea0cb1a822a491e4ba8e68,Stop lazy importing keystoneclient,MERGED,2018-09-07 23:58:02.000000000,2018-10-18 18:58:15.000000000,2018-10-18 18:58:15.000000000,"[{'_account_id': 597}, {'_account_id': 17363}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-07 23:58:02.000000000', 'files': ['tests/unit/test_swiftclient.py', 'tests/unit/test_shell.py', 'swiftclient/client.py', 'tests/unit/utils.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/d1e1f8d8d6a8890c71eea8a3c2a488af30a8147b', 'message': ""Stop lazy importing keystoneclient\n\nThere were two basic problems:\n\n  - We'd try to import on every attempt at getting auth, even when we\n    already know keystoneclient isn't available.\n  - Sometimes devs would hit some crazy import race involving (some\n    combination of?) greenthreads and OS threads.\n\nSo let's just try the imports *once*, at import time, and have None\nsentinels if it fails. Try both versions separately to decouple\nfailures; this should let us support a wider range of keystoneclient\nversions.\n\nChange-Id: I2367310aac74f1b7c5ea0cb1a822a491e4ba8e68\n""}]",0,600883,d1e1f8d8d6a8890c71eea8a3c2a488af30a8147b,8,3,1,15343,,,0,"Stop lazy importing keystoneclient

There were two basic problems:

  - We'd try to import on every attempt at getting auth, even when we
    already know keystoneclient isn't available.
  - Sometimes devs would hit some crazy import race involving (some
    combination of?) greenthreads and OS threads.

So let's just try the imports *once*, at import time, and have None
sentinels if it fails. Try both versions separately to decouple
failures; this should let us support a wider range of keystoneclient
versions.

Change-Id: I2367310aac74f1b7c5ea0cb1a822a491e4ba8e68
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/83/600883/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/test_swiftclient.py', 'tests/unit/test_shell.py', 'swiftclient/client.py', 'tests/unit/utils.py']",4,d1e1f8d8d6a8890c71eea8a3c2a488af30a8147b,,,"def _make_fake_import_keystone_client(fake_import): def _fake_import_keystone_client(auth_version): fake_import.auth_version = auth_version return fake_import, fake_import return _fake_import_keystone_client ",68,82
openstack%2Fcharm-heat~master~I3fe3909baec17ab3a17b92082a41e1157326c950,openstack/charm-heat,master,I3fe3909baec17ab3a17b92082a41e1157326c950,py3: Don't purge python-six on upgrades,MERGED,2018-10-15 17:33:56.000000000,2018-10-18 18:47:54.000000000,2018-10-18 18:47:54.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-15 17:33:56.000000000', 'files': ['hooks/heat_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/12ba56f8074623b63574ca98fa83bb0101ea51a2', 'message': ""py3: Don't purge python-six on upgrades\n\npython-six is also used by crmsh in HA deployment so don't purge it\non OpenStack upgrade or we lose the ability to manage the corosync/\npacemaker cluster.\n\nChange-Id: I3fe3909baec17ab3a17b92082a41e1157326c950\n""}]",0,610671,12ba56f8074623b63574ca98fa83bb0101ea51a2,15,4,1,11805,,,0,"py3: Don't purge python-six on upgrades

python-six is also used by crmsh in HA deployment so don't purge it
on OpenStack upgrade or we lose the ability to manage the corosync/
pacemaker cluster.

Change-Id: I3fe3909baec17ab3a17b92082a41e1157326c950
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/71/610671/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/heat_utils.py'],1,12ba56f8074623b63574ca98fa83bb0101ea51a2,dont-purge-six,," 'python-six',",0,1
openstack%2Fcharm-keystone-ldap~master~I0d2f2eec25c8753a4d6d0f7dffdbb54a6b35ebe1,openstack/charm-keystone-ldap,master,I0d2f2eec25c8753a4d6d0f7dffdbb54a6b35ebe1,Series Upgrade,MERGED,2018-10-17 21:58:09.000000000,2018-10-18 18:46:46.000000000,2018-10-18 18:46:46.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 21:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/5b09029392c634c46d2b27b543678ad9842fa790', 'message': 'Series Upgrade\n\nImplement the series-upgrade feature allowing to move between Ubuntu\nseries.\n\nDepends-On: If42efab93dca85137d8758cae4f2e8baab75ae72\nChange-Id: I0d2f2eec25c8753a4d6d0f7dffdbb54a6b35ebe1\n'}, {'number': 2, 'created': '2018-10-17 23:24:11.000000000', 'files': ['src/lib/charm/openstack/keystone_ldap.py', 'unit_tests/test_lib_charm_openstack_keystone_ldap.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/22399caea960ee000a093c7bed6404e4a6aad959', 'message': 'Series Upgrade\n\nImplement the series-upgrade feature allowing to move between Ubuntu\nseries.\n\nDepends-On: If42efab93dca85137d8758cae4f2e8baab75ae72\nChange-Id: I0d2f2eec25c8753a4d6d0f7dffdbb54a6b35ebe1\n'}]",0,611452,22399caea960ee000a093c7bed6404e4a6aad959,13,4,2,20805,,,0,"Series Upgrade

Implement the series-upgrade feature allowing to move between Ubuntu
series.

Depends-On: If42efab93dca85137d8758cae4f2e8baab75ae72
Change-Id: I0d2f2eec25c8753a4d6d0f7dffdbb54a6b35ebe1
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/52/611452/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/keystone_ldap.py'],1,5b09029392c634c46d2b27b543678ad9842fa790,series-upgrade," elif os_utils.is_unit_upgrading_set(): hookenv.status_set('blocked', 'Ready for do-release-upgrade and reboot. ' 'Set complete when finished.')",,4,0
openstack%2Fopenstack-zuul-jobs~master~Ib1cccc85d5e6615bc74bf3c8e8c8b8c603db51f4,openstack/openstack-zuul-jobs,master,Ib1cccc85d5e6615bc74bf3c8e8c8b8c603db51f4,Don't run legacy-tempest-dsvm-neutron-full on pike,MERGED,2018-10-15 18:08:47.000000000,2018-10-18 18:43:53.000000000,2018-10-18 18:43:52.000000000,"[{'_account_id': 4146}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-15 18:08:47.000000000', 'files': ['zuul.d/zuul-legacy-project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/32e8460b71782f6eb22805e86b74f192c9700da9', 'message': ""Don't run legacy-tempest-dsvm-neutron-full on pike\n\ntempest-full is available for stable/pike, no need to run the\njob legacy-tempest-dsvm-neutron-full on pike, it is only needed on ocata\nand earlier.\n\nChange-Id: Ib1cccc85d5e6615bc74bf3c8e8c8b8c603db51f4\n""}]",0,610688,32e8460b71782f6eb22805e86b74f192c9700da9,8,4,1,6547,,,0,"Don't run legacy-tempest-dsvm-neutron-full on pike

tempest-full is available for stable/pike, no need to run the
job legacy-tempest-dsvm-neutron-full on pike, it is only needed on ocata
and earlier.

Change-Id: Ib1cccc85d5e6615bc74bf3c8e8c8b8c603db51f4
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/88/610688/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/zuul-legacy-project-templates.yaml'],1,32e8460b71782f6eb22805e86b74f192c9700da9,tempest-dsvm-neutron-full, branches: ^stable/(newton|ocata)$ branches: ^stable/(newton|ocata)$, branches: ^stable/(newton|ocata|pike)$ branches: ^stable/(newton|ocata|pike)$,2,2
openstack%2Fopenstack-ansible~master~Ie6d6915d5730ae354ebec72692ee131c09e9171f,openstack/openstack-ansible,master,Ie6d6915d5730ae354ebec72692ee131c09e9171f,Force overwrite of env.d files when upgrading,ABANDONED,2018-10-18 18:15:06.000000000,2018-10-18 18:32:01.000000000,,[],"[{'number': 1, 'created': '2018-10-18 18:15:06.000000000', 'files': ['scripts/upgrade-utilities/playbooks/deploy-config-changes.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/39ab42d9438b3f50774f14b8ba8051dc0406a451', 'message': ""Force overwrite of env.d files when upgrading\n\nPreviously by not forcing, if an older env.d file was still present,\nAnsible would not overwrite it and skip over it because force wasn't\nenabled.  This would cause containers that had been destroyed to\nstill remain in inventory even after being pulled out via\ninventory-manage.  This ensures we're running the latest env.d files.\n\nWill backport to previous releases.\n\nChange-Id: Ie6d6915d5730ae354ebec72692ee131c09e9171f\n""}]",0,611689,39ab42d9438b3f50774f14b8ba8051dc0406a451,2,0,1,290,,,0,"Force overwrite of env.d files when upgrading

Previously by not forcing, if an older env.d file was still present,
Ansible would not overwrite it and skip over it because force wasn't
enabled.  This would cause containers that had been destroyed to
still remain in inventory even after being pulled out via
inventory-manage.  This ensures we're running the latest env.d files.

Will backport to previous releases.

Change-Id: Ie6d6915d5730ae354ebec72692ee131c09e9171f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/89/611689/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/upgrade-utilities/playbooks/deploy-config-changes.yml'],1,39ab42d9438b3f50774f14b8ba8051dc0406a451,overrite_env_files, force: yes, force: no,1,1
openstack%2Fopenstack-ansible-ops~master~Id6858d277c80095024af5d8e04dfc97cc3e3b253,openstack/openstack-ansible-ops,master,Id6858d277c80095024af5d8e04dfc97cc3e3b253,MNAIO: Make cinder/compute/swift hosts conditional,MERGED,2018-10-18 13:23:04.000000000,2018-10-18 18:23:40.000000000,2018-10-18 18:23:39.000000000,"[{'_account_id': 7414}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-18 13:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/822147a33a47f773bf4a511194e3e639f5fb85bc', 'message': 'MNAIO: Make cinder/compute/swift hosts conditional\n\n1. If osa_enable_block_storage=false, then there should\n   be no cinder hosts deployed.\n2. If osa_enable_compute=false, then there should be no\n   compute hosts deployed.\n3. If osa_enable_object_storage=false, then there should\n   be no swift hosts deployed.\n\nChange-Id: Id6858d277c80095024af5d8e04dfc97cc3e3b253\n'}, {'number': 2, 'created': '2018-10-18 13:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/4a89b2e2aee52586acc3915fa1ac8503df590325', 'message': 'MNAIO: Make cinder/compute/swift hosts conditional\n\n1. If osa_enable_block_storage=false, then there should\n   be no cinder hosts deployed.\n\n2. If osa_enable_compute=false, then there should be no\n   compute hosts deployed.\n\n3. If osa_enable_object_storage=false, then there should\n   be no swift hosts deployed.\n\nChange-Id: Id6858d277c80095024af5d8e04dfc97cc3e3b253\n'}, {'number': 3, 'created': '2018-10-18 13:44:14.000000000', 'files': ['multi-node-aio/playbooks/group_vars/compute_hosts.yml', 'multi-node-aio/playbooks/osa/openstack_user_config.yml', 'multi-node-aio/playbooks/group_vars/swift_hosts.yml', 'multi-node-aio/playbooks/group_vars/cinder_hosts.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/d3d505b678a6cba53e482d5c4570296a0bd41215', 'message': 'MNAIO: Make cinder/compute/swift hosts conditional\n\n1. If osa_enable_block_storage=false, then there should\n   be no cinder hosts deployed, nor any presence of the\n   vars related to it in openstack_user_config.\n\n2. If osa_enable_compute=false, then there should be no\n   compute hosts deployed, nor any presence of the\n   vars related to it in openstack_user_config..\n\n3. If osa_enable_object_storage=false, then there should\n   be no swift hosts deployed, nor any presence of the\n   vars related to it in openstack_user_config..\n\nChange-Id: Id6858d277c80095024af5d8e04dfc97cc3e3b253\n'}]",0,611603,d3d505b678a6cba53e482d5c4570296a0bd41215,10,3,3,6816,,,0,"MNAIO: Make cinder/compute/swift hosts conditional

1. If osa_enable_block_storage=false, then there should
   be no cinder hosts deployed, nor any presence of the
   vars related to it in openstack_user_config.

2. If osa_enable_compute=false, then there should be no
   compute hosts deployed, nor any presence of the
   vars related to it in openstack_user_config..

3. If osa_enable_object_storage=false, then there should
   be no swift hosts deployed, nor any presence of the
   vars related to it in openstack_user_config..

Change-Id: Id6858d277c80095024af5d8e04dfc97cc3e3b253
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/03/611603/1 && git format-patch -1 --stdout FETCH_HEAD,"['multi-node-aio/playbooks/group_vars/compute_hosts.yml', 'multi-node-aio/playbooks/group_vars/swift_hosts.yml', 'multi-node-aio/playbooks/group_vars/cinder_hosts.yml']",3,822147a33a47f773bf4a511194e3e639f5fb85bc,mnaio-cleanup,"server_vm: ""{{ osa_enable_block_storage | bool }}""",server_vm: true,3,3
openstack%2Fopenstack-ansible-ops~master~I9da35b848d6c52a31162361f98c8514d8e1103ea,openstack/openstack-ansible-ops,master,I9da35b848d6c52a31162361f98c8514d8e1103ea,MNAIO: Move the ELK-related comment inside the conditional,MERGED,2018-10-18 12:51:07.000000000,2018-10-18 18:23:39.000000000,2018-10-18 18:23:39.000000000,"[{'_account_id': 7414}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-18 12:51:07.000000000', 'files': ['multi-node-aio/playbooks/osa/user_mnaio_variables.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/cce2bd3d41b5e7d26f1fe4fee6097c02efd852c4', 'message': 'MNAIO: Move the ELK-related comment inside the conditional\n\nThe comment is a bit confusing without the rest of the content,\nso we move it inside the conditional so that it only appears\nif the ELK deployment is enabled.\n\nChange-Id: I9da35b848d6c52a31162361f98c8514d8e1103ea\n'}]",0,611593,cce2bd3d41b5e7d26f1fe4fee6097c02efd852c4,8,3,1,6816,,,0,"MNAIO: Move the ELK-related comment inside the conditional

The comment is a bit confusing without the rest of the content,
so we move it inside the conditional so that it only appears
if the ELK deployment is enabled.

Change-Id: I9da35b848d6c52a31162361f98c8514d8e1103ea
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/93/611593/1 && git format-patch -1 --stdout FETCH_HEAD,['multi-node-aio/playbooks/osa/user_mnaio_variables.yml'],1,cce2bd3d41b5e7d26f1fe4fee6097c02efd852c4,mnaio-cleanup,{% if osa_enable_elk_metrics | bool %},{% if osa_enable_elk_metrics | bool %},1,1
openstack%2Fopenstack-ansible-ops~master~I931a8dca2186dc51b468ec4fc1fc67859dadb171,openstack/openstack-ansible-ops,master,I931a8dca2186dc51b468ec4fc1fc67859dadb171,MNAIO: Remove lxc_container_backing_store override,MERGED,2018-10-18 12:49:12.000000000,2018-10-18 18:23:38.000000000,2018-10-18 18:23:38.000000000,"[{'_account_id': 7414}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-18 12:49:12.000000000', 'files': ['multi-node-aio/playbooks/osa/user_mnaio_variables.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/052f9306dd450d82d4b0849b76b5ce4cf4fd81ff', 'message': ""MNAIO: Remove lxc_container_backing_store override\n\nThe default lxc_container_backing_store for newton onwards\nis 'dir' anyway, so this override is pointless.\n\nChange-Id: I931a8dca2186dc51b468ec4fc1fc67859dadb171\n""}]",0,611591,052f9306dd450d82d4b0849b76b5ce4cf4fd81ff,8,3,1,6816,,,0,"MNAIO: Remove lxc_container_backing_store override

The default lxc_container_backing_store for newton onwards
is 'dir' anyway, so this override is pointless.

Change-Id: I931a8dca2186dc51b468ec4fc1fc67859dadb171
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/91/611591/1 && git format-patch -1 --stdout FETCH_HEAD,['multi-node-aio/playbooks/osa/user_mnaio_variables.yml'],1,052f9306dd450d82d4b0849b76b5ce4cf4fd81ff,mnaio-cleanup,,lxc_container_backing_store: dir ,0,2
openstack%2Fopenstack-ansible-ops~master~I5f938788f7998f0ca763d7395dc11c84ba85d2ee,openstack/openstack-ansible-ops,master,I5f938788f7998f0ca763d7395dc11c84ba85d2ee,MNAIO: Remove glance_default_store override,MERGED,2018-10-18 12:46:15.000000000,2018-10-18 18:23:37.000000000,2018-10-18 18:23:37.000000000,"[{'_account_id': 7414}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-18 12:46:15.000000000', 'files': ['multi-node-aio/playbooks/osa/user_mnaio_variables.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/75dbf3da993e71741c68c38a5fe026da8051312b', 'message': ""MNAIO: Remove glance_default_store override\n\nThe glance_default_store variable is automatically set\nby OSA's group_vars to 'swift' if any swift hosts are\npresent, and it falls back to 'file' if no swift is\npresent. This override therefore interferes with tests\nwhich are not using swift, and it is totally unnecessary.\n\nChange-Id: I5f938788f7998f0ca763d7395dc11c84ba85d2ee\n""}]",0,611590,75dbf3da993e71741c68c38a5fe026da8051312b,8,3,1,6816,,,0,"MNAIO: Remove glance_default_store override

The glance_default_store variable is automatically set
by OSA's group_vars to 'swift' if any swift hosts are
present, and it falls back to 'file' if no swift is
present. This override therefore interferes with tests
which are not using swift, and it is totally unnecessary.

Change-Id: I5f938788f7998f0ca763d7395dc11c84ba85d2ee
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/90/611590/1 && git format-patch -1 --stdout FETCH_HEAD,['multi-node-aio/playbooks/osa/user_mnaio_variables.yml'],1,75dbf3da993e71741c68c38a5fe026da8051312b,mnaio-cleanup,,# This makes the glance image store use swift instead of the file backend glance_default_store: swift ,0,3
openstack%2Fopenstack-ansible-ops~master~Ic31bd9145e7feb67fa5eacc602c6152ecde1a47c,openstack/openstack-ansible-ops,master,Ic31bd9145e7feb67fa5eacc602c6152ecde1a47c,MNAIO: Increase default infra_vm_server_ram to 16384,MERGED,2018-10-18 12:13:11.000000000,2018-10-18 18:23:37.000000000,2018-10-18 18:23:37.000000000,"[{'_account_id': 7414}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-18 12:13:11.000000000', 'files': ['multi-node-aio/playbooks/group_vars/infra_hosts.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/7b893c3775aadb29eef0d7300c29aeafc4fc96c1', 'message': ""MNAIO: Increase default infra_vm_server_ram to 16384\n\nThe current default of 8GB simply does not work for a default\ndeployment of Rocky/Stein without doing a severe amount of\nworker tuning.\n\nWhile we do some work to improve the default number of workers,\nwe should rather increase the default value for these VM's.\n\nChange-Id: Ic31bd9145e7feb67fa5eacc602c6152ecde1a47c\n""}]",0,611586,7b893c3775aadb29eef0d7300c29aeafc4fc96c1,8,3,1,6816,,,0,"MNAIO: Increase default infra_vm_server_ram to 16384

The current default of 8GB simply does not work for a default
deployment of Rocky/Stein without doing a severe amount of
worker tuning.

While we do some work to improve the default number of workers,
we should rather increase the default value for these VM's.

Change-Id: Ic31bd9145e7feb67fa5eacc602c6152ecde1a47c
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/86/611586/1 && git format-patch -1 --stdout FETCH_HEAD,['multi-node-aio/playbooks/group_vars/infra_hosts.yml'],1,7b893c3775aadb29eef0d7300c29aeafc4fc96c1,mnaio-cleanup,"server_vm_ram: '{{ infra_vm_server_ram | default(16384) }}' # int - not required, used to specify ram when provisioning a VM","server_vm_ram: '{{ infra_vm_server_ram | default(8192) }}' # int - not required, used to specify ram when provisioning a VM",1,1
openstack%2Fopenstack-ansible-ops~master~Icd80fd96aad713372b1fe21752799d56ada3dac4,openstack/openstack-ansible-ops,master,Icd80fd96aad713372b1fe21752799d56ada3dac4,MNAIO: Remove legacy os-infra_hosts group,MERGED,2018-10-18 12:06:49.000000000,2018-10-18 18:23:36.000000000,2018-10-18 18:23:36.000000000,"[{'_account_id': 7414}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-18 12:06:49.000000000', 'files': ['multi-node-aio/playbooks/osa/openstack_user_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/4868c22190a0c30088b472aee5cf79f7fc630c3a', 'message': ""MNAIO: Remove legacy os-infra_hosts group\n\nThe legacy group 'os-infra_hosts' is not actually part\nof the infrastructure - it includes all the openstack\ninfrastructure groups (keystone, nova, neutron, glance,\nheat, swift). This group's use is unnecessary because\nall the other groups included are represented with\nindividual options.\n\nHaving this in the osa_enable_infra conditional also\nmeans that if you mean to disable swift/heat, it does\nnot work and you end up with a broken deployment.\n\nChange-Id: Icd80fd96aad713372b1fe21752799d56ada3dac4\n""}]",0,611582,4868c22190a0c30088b472aee5cf79f7fc630c3a,9,3,1,6816,,,0,"MNAIO: Remove legacy os-infra_hosts group

The legacy group 'os-infra_hosts' is not actually part
of the infrastructure - it includes all the openstack
infrastructure groups (keystone, nova, neutron, glance,
heat, swift). This group's use is unnecessary because
all the other groups included are represented with
individual options.

Having this in the osa_enable_infra conditional also
means that if you mean to disable swift/heat, it does
not work and you end up with a broken deployment.

Change-Id: Icd80fd96aad713372b1fe21752799d56ada3dac4
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/82/611582/1 && git format-patch -1 --stdout FETCH_HEAD,['multi-node-aio/playbooks/osa/openstack_user_config.yml'],1,4868c22190a0c30088b472aee5cf79f7fc630c3a,mnaio-cleanup,, # Legacy infra hosts os-infra_hosts: *infra_block,0,3
openstack%2Fshade~master~I55bc88e9b2cfa5ad1b6a27640db11bc848584c21,openstack/shade,master,I55bc88e9b2cfa5ad1b6a27640db11bc848584c21,Support v4-fixed-ip and v6-fixed-ip in create_server,MERGED,2018-10-18 15:30:21.000000000,2018-10-18 18:20:59.000000000,2018-10-18 18:20:59.000000000,"[{'_account_id': 3099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-18 15:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/62266b0d2b588e4f2f7002b0c57620400b4d3889', 'message': ""Support v4-fixed-ip and v6-fixed-ip in create_server\n\nnovaclient supports v4-fixed-ip and v6-fixed-ip as aliases for fixed_ip.\nAs shade used to use novaclient and passed this content through the\nswitch to REST resulted in a behavior regression for shade users. That's\nbad, mmkay?\n\nAdd in support for the same aliases to create_server, so that users\nupgrading to newer shade are hosed.\n\nCloses-Bug: #1798489\nChange-Id: I55bc88e9b2cfa5ad1b6a27640db11bc848584c21\n""}, {'number': 2, 'created': '2018-10-18 15:42:30.000000000', 'files': ['releasenotes/notes/v4-fixed-ip-325740fdae85ffa9.yaml', 'shade/openstackcloud.py', 'shade/tests/unit/test_create_server.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/6f40858c0500dfa768ff786ac87626150550b2c3', 'message': ""Support v4-fixed-ip and v6-fixed-ip in create_server\n\nnovaclient supports v4-fixed-ip and v6-fixed-ip as aliases for fixed_ip.\nAs shade used to use novaclient and passed this content through the\nswitch to REST resulted in a behavior regression for shade users. That's\nbad, mmkay?\n\nAdd in support for the same aliases to create_server, so that users\nupgrading to newer shade are hosed.\n\nCloses-Bug: #1798489\nChange-Id: I55bc88e9b2cfa5ad1b6a27640db11bc848584c21\n""}]",1,611651,6f40858c0500dfa768ff786ac87626150550b2c3,8,2,2,2,,,0,"Support v4-fixed-ip and v6-fixed-ip in create_server

novaclient supports v4-fixed-ip and v6-fixed-ip as aliases for fixed_ip.
As shade used to use novaclient and passed this content through the
switch to REST resulted in a behavior regression for shade users. That's
bad, mmkay?

Add in support for the same aliases to create_server, so that users
upgrading to newer shade are hosed.

Closes-Bug: #1798489
Change-Id: I55bc88e9b2cfa5ad1b6a27640db11bc848584c21
",git fetch https://review.opendev.org/openstack/shade refs/changes/51/611651/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/v4-fixed-ip-325740fdae85ffa9.yaml', 'shade/openstackcloud.py', 'shade/tests/unit/test_create_server.py']",3,62266b0d2b588e4f2f7002b0c57620400b4d3889,bug/1798489," def test_create_server_network_fixed_ip(self): """""" Verify that if 'fixed_ip' is supplied in nics, we pass it to networks appropriately. """""" network = { 'id': 'network-id', 'name': 'network-name' } fixed_ip = '10.0.0.1' build_server = fakes.make_fake_server('1234', '', 'BUILD') self.register_uris([ dict(method='POST', uri=self.get_mock_url( 'compute', 'public', append=['servers']), json={'server': build_server}, validate=dict( json={'server': { u'flavorRef': u'flavor-id', u'imageRef': u'image-id', u'max_count': 1, u'min_count': 1, u'networks': [{'fixed_ip': fixed_ip}], u'name': u'server-name'}})), dict(method='GET', uri=self.get_mock_url( 'compute', 'public', append=['servers', '1234']), json={'server': build_server}), dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'networks.json']), json={'networks': [network]}), dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'subnets.json']), json={'subnets': []}), ]) self.cloud.create_server( 'server-name', dict(id='image-id'), dict(id='flavor-id'), nics=[{'fixed_ip': fixed_ip}]) self.assert_calls() def test_create_server_network_v4_fixed_ip(self): """""" Verify that if 'v4-fixed-ip' is supplied in nics, we pass it to networks appropriately. """""" network = { 'id': 'network-id', 'name': 'network-name' } fixed_ip = '10.0.0.1' build_server = fakes.make_fake_server('1234', '', 'BUILD') self.register_uris([ dict(method='POST', uri=self.get_mock_url( 'compute', 'public', append=['servers']), json={'server': build_server}, validate=dict( json={'server': { u'flavorRef': u'flavor-id', u'imageRef': u'image-id', u'max_count': 1, u'min_count': 1, u'networks': [{'fixed_ip': fixed_ip}], u'name': u'server-name'}})), dict(method='GET', uri=self.get_mock_url( 'compute', 'public', append=['servers', '1234']), json={'server': build_server}), dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'networks.json']), json={'networks': [network]}), dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'subnets.json']), json={'subnets': []}), ]) self.cloud.create_server( 'server-name', dict(id='image-id'), dict(id='flavor-id'), nics=[{'fixed_ip': fixed_ip}]) self.assert_calls() def test_create_server_network_v6_fixed_ip(self): """""" Verify that if 'v6-fixed-ip' is supplied in nics, we pass it to networks appropriately. """""" network = { 'id': 'network-id', 'name': 'network-name' } # Note - it doesn't actually have to be a v6 address - it's just # an alias. fixed_ip = 'fe80::28da:5fff:fe57:13ed' build_server = fakes.make_fake_server('1234', '', 'BUILD') self.register_uris([ dict(method='POST', uri=self.get_mock_url( 'compute', 'public', append=['servers']), json={'server': build_server}, validate=dict( json={'server': { u'flavorRef': u'flavor-id', u'imageRef': u'image-id', u'max_count': 1, u'min_count': 1, u'networks': [{'fixed_ip': fixed_ip}], u'name': u'server-name'}})), dict(method='GET', uri=self.get_mock_url( 'compute', 'public', append=['servers', '1234']), json={'server': build_server}), dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'networks.json']), json={'networks': [network]}), dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'subnets.json']), json={'subnets': []}), ]) self.cloud.create_server( 'server-name', dict(id='image-id'), dict(id='flavor-id'), nics=[{'fixed_ip': fixed_ip}]) self.assert_calls() def test_create_server_network_fixed_ip_conflicts(self): """""" Verify that if 'fixed_ip' and 'v4-fixed-ip' are both supplied in nics, we throw an exception. """""" # Note - it doesn't actually have to be a v6 address - it's just # an alias. self.use_nothing() fixed_ip = '10.0.0.1' self.assertRaises( exc.OpenStackCloudException, self.cloud.create_server, 'server-name', dict(id='image-id'), dict(id='flavor-id'), nics=[{ 'fixed_ip': fixed_ip, 'v4-fixed-ip': fixed_ip }]) self.assert_calls() ",,163,3
openstack%2Frally-openstack~master~Ia3a6ab8fdf09d6d53396ceeb9c971427e6322fb8,openstack/rally-openstack,master,Ia3a6ab8fdf09d6d53396ceeb9c971427e6322fb8,Temporary fix for urllib3-requests compatibility,ABANDONED,2018-10-17 20:30:41.000000000,2018-10-18 18:06:22.000000000,,"[{'_account_id': 22348}, {'_account_id': 26109}]","[{'number': 1, 'created': '2018-10-17 20:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/baa913c1d2f2bd22c3c7380a6bb665f6595f883b', 'message': 'Temporary fix for urllib3-requests compatibility\n\nBecause urllib3 released v1.24 yesterday, which is incompatible with requests.\nIssues raised in urllib3 and requests:\n[urllib3/urllib3#1459](https://github.com/urllib3/urllib3/issues/1459)\n[requests/requests#4830](https://github.com/requests/requests/issues/4830)\nPinning urllib3 to 1.23 until it is resolved in requests\n\nChange-Id: Ia3a6ab8fdf09d6d53396ceeb9c971427e6322fb8\n'}, {'number': 2, 'created': '2018-10-17 20:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/02ad7109eb4d28cb347e487391e33a065cf0fd36', 'message': 'Temporary fix for urllib3-requests compatibility\n\nBecause urllib3 released v1.24 yesterday, which is incompatible with requests.\nIssues raised in urllib3 and requests:\n* https://github.com/urllib3/urllib3/issues/1459\n* https://github.com/requests/requests/issues/4830\nPinning urllib3 to 1.23 until it is resolved in requests\n\nChange-Id: Ia3a6ab8fdf09d6d53396ceeb9c971427e6322fb8\n'}, {'number': 3, 'created': '2018-10-17 20:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/634feefa8494b7c31b790d1a2a0b3f7fbaef6e99', 'message': 'Temporary fix for urllib3-requests compatibility\n\nBecause urllib3 released v1.24 yesterday, which is incompatible with requests.\nIssues raised in urllib3 and requests:\n* https://github.com/urllib3/urllib3/issues/1459\n* https://github.com/requests/requests/issues/4830\nPinning urllib3 to 1.23 until it is resolved in requests\n\nChange-Id: Ia3a6ab8fdf09d6d53396ceeb9c971427e6322fb8\n'}, {'number': 4, 'created': '2018-10-17 21:14:45.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/83fabab0085e48247b158ec40f3a63d7dc302431', 'message': 'Temporary fix for urllib3-requests compatibility\n\nBecause urllib3 released v1.24 yesterday, which is incompatible with requests.\nIssues raised in urllib3 and requests:\n* https://github.com/urllib3/urllib3/issues/1459\n* https://github.com/requests/requests/issues/4830\nPinning urllib3 to 1.23 until it is resolved in requests\n\nChange-Id: Ia3a6ab8fdf09d6d53396ceeb9c971427e6322fb8\n'}]",2,611434,83fabab0085e48247b158ec40f3a63d7dc302431,9,2,4,26109,,,0,"Temporary fix for urllib3-requests compatibility

Because urllib3 released v1.24 yesterday, which is incompatible with requests.
Issues raised in urllib3 and requests:
* https://github.com/urllib3/urllib3/issues/1459
* https://github.com/requests/requests/issues/4830
Pinning urllib3 to 1.23 until it is resolved in requests

Change-Id: Ia3a6ab8fdf09d6d53396ceeb9c971427e6322fb8
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/34/611434/4 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,baa913c1d2f2bd22c3c7380a6bb665f6595f883b,urllib3_requests_compat_temp_fix,"# This is a suggested # workaround as suggested in https://github.com/requests/requests/issues/4830 urllib3==1.23 requests>=2.14.2 # Apache License, Version 2.0","requests>=2.14.2 # Apache License, Version 2.0 ",4,1
openstack%2Fblazar~master~Ieb6342bcb5ef15db8021d16ad441c9cdd57d7243,openstack/blazar,master,Ieb6342bcb5ef15db8021d16ad441c9cdd57d7243,Add create/delete resource class,MERGED,2018-06-26 11:49:45.000000000,2018-10-18 17:59:02.000000000,2018-10-18 17:59:02.000000000,"[{'_account_id': 8878}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 23840}, {'_account_id': 25625}]","[{'number': 1, 'created': '2018-06-26 11:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/c0ed6c7d61a194640b98e3a7463f755d66cc888e', 'message': 'WIP: Add create/delete resource class\n\nThis patch adds two methods to create and to delete\na resource class in placement client.\n\nChange-Id: Ieb6342bcb5ef15db8021d16ad441c9cdd57d7243\n'}, {'number': 2, 'created': '2018-06-26 12:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/a69b10d1f051239a73fe1c0fdcf84e1d2ad3caee', 'message': 'WIP: Add create/delete resource class\n\nThis patch adds two methods to create and to delete\na resource class in placement client.\n\nChange-Id: Ieb6342bcb5ef15db8021d16ad441c9cdd57d7243\n'}, {'number': 3, 'created': '2018-06-27 07:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/c91ce0917b791ef80086a6f68449d50afb50e469', 'message': 'WIP: Add create/delete resource class\n\nThis patch adds two methods to create and to delete\na resource class in placement client.\n\nChange-Id: Ieb6342bcb5ef15db8021d16ad441c9cdd57d7243\n'}, {'number': 4, 'created': '2018-06-27 08:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/8f48b96d9e6ee26461c7fb03cd98f5faa02f21de', 'message': 'WIP: Add create/delete resource class\n\nThis patch adds two methods to create and to delete\na resource class in placement client.\n\nChange-Id: Ieb6342bcb5ef15db8021d16ad441c9cdd57d7243\nBlueprint: placement-api\n'}, {'number': 5, 'created': '2018-06-29 04:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/70fd98d3bc2c9ce55df94be6fbf7b8de9812a685', 'message': 'Add create/delete resource class\n\nThis patch adds two methods to create and to delete\na resource class in placement client.\n\nChange-Id: Ieb6342bcb5ef15db8021d16ad441c9cdd57d7243\nBlueprint: placement-api\n'}, {'number': 6, 'created': '2018-07-09 10:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/90549d3d6411070e5b8055c0ecde677b4c3bf3f9', 'message': 'Add create/delete resource class\n\nThis patch adds two methods to create and to delete\na resource class in placement client.\n\nChange-Id: Ieb6342bcb5ef15db8021d16ad441c9cdd57d7243\nBlueprint: placement-api\n'}, {'number': 7, 'created': '2018-07-12 08:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/39860302d5b0d1037e5a9de259e5094aa753dd9f', 'message': 'Add create/delete resource class\n\nThis patch adds two methods to create and to delete\na resource class in placement client.\n\nChange-Id: Ieb6342bcb5ef15db8021d16ad441c9cdd57d7243\nBlueprint: placement-api\n'}, {'number': 8, 'created': '2018-07-13 06:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/88b48cc3abf00ec10a1d2eba18e18be3bd8b7f34', 'message': 'Add create/delete resource class\n\nThis patch adds two methods to create and to delete\na resource class in placement client.\n\nChange-Id: Ieb6342bcb5ef15db8021d16ad441c9cdd57d7243\nBlueprint: placement-api\n'}, {'number': 9, 'created': '2018-07-22 09:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/441c1591a1413dd98b2d85e9417219547cdd341d', 'message': 'Add create/delete resource class\n\nThis patch adds two methods to create and to delete\na resource class in placement client.\n\nChange-Id: Ieb6342bcb5ef15db8021d16ad441c9cdd57d7243\nBlueprint: placement-api\n'}, {'number': 10, 'created': '2018-07-23 03:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/b4a0853d464606aa0952435aece8e6fdf4d9f961', 'message': 'Add create/delete resource class\n\nThis patch adds two methods to create and to delete\na resource class in placement client.\n\nChange-Id: Ieb6342bcb5ef15db8021d16ad441c9cdd57d7243\nBlueprint: placement-api\n'}, {'number': 11, 'created': '2018-07-23 11:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/d364400ac68523de1609ccc292901655367c4000', 'message': 'Add create/delete resource class\n\nThis patch adds two methods to create and to delete\na resource class in placement client.\n\nChange-Id: Ieb6342bcb5ef15db8021d16ad441c9cdd57d7243\nBlueprint: placement-api\n'}, {'number': 12, 'created': '2018-07-24 11:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/8637463307a4e78964a850830c0b0004358bcf84', 'message': 'Add create/delete resource class\n\nThis patch adds two methods to create and to delete\na resource class in placement client.\n\nChange-Id: Ieb6342bcb5ef15db8021d16ad441c9cdd57d7243\nBlueprint: placement-api\n'}, {'number': 13, 'created': '2018-07-30 00:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/31dfc7bfa9172dcf8bc9bc2b007a1f7ad61492fa', 'message': 'Add create/delete resource class\n\nThis patch adds two methods to create and to delete\na resource class in placement client.\n\nChange-Id: Ieb6342bcb5ef15db8021d16ad441c9cdd57d7243\nBlueprint: placement-api\n'}, {'number': 14, 'created': '2018-10-15 12:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/9c6c16a9bf3a4105400b021b0def41df589eeac5', 'message': 'Add create/delete resource class\n\nThis patch adds two methods to create and to delete\na resource class in placement client.\n\nChange-Id: Ieb6342bcb5ef15db8021d16ad441c9cdd57d7243\nBlueprint: placement-api\n'}, {'number': 15, 'created': '2018-10-17 03:08:05.000000000', 'files': ['blazar/utils/openstack/exceptions.py', 'blazar/utils/openstack/placement.py', 'blazar/tests/utils/openstack/test_placement.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/eaa735f4c5b149ef8214eec84a2abc53db16b04c', 'message': 'Add create/delete resource class\n\nThis patch adds two methods to create and to delete a resource class\nin placement client.\n\nChange-Id: Ieb6342bcb5ef15db8021d16ad441c9cdd57d7243\nBlueprint: placement-api\n'}]",15,578073,eaa735f4c5b149ef8214eec84a2abc53db16b04c,43,5,15,25625,,,0,"Add create/delete resource class

This patch adds two methods to create and to delete a resource class
in placement client.

Change-Id: Ieb6342bcb5ef15db8021d16ad441c9cdd57d7243
Blueprint: placement-api
",git fetch https://review.opendev.org/openstack/blazar refs/changes/73/578073/11 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/utils/openstack/exceptions.py', 'blazar/utils/openstack/placement.py']",2,c0ed6c7d61a194640b98e3a7463f755d66cc888e,bp/placement-api," def create_resource_class(self, rc_name): """"""Calls the placement API to create a resource class. :param rc_name: string name of the resource class to create. This shall be something like ""CUSTOM_RESERVATION_{uuid}"" :raises: ResourceClassCreationFailed error. """""" url = '/resource_classes/%s' % rc_name resp = self.put(url, None, PLACEMENT_MICROVERSION) if resp: LOG.info(""Created resource class %s"", rc_name) return msg = (""Failed to create resource class with placement API for "" ""%(rc_name)s. Got %(status_code)d: %(err_text)s."") args = { 'rc_name': rc_name, 'status_code': resp.status_code, 'err_text': resp.text, } LOG.error(msg, args) raise exceptions.ResourceClassCreationFailed(resource_class=rc_name) def delete_resource_class(self, rc_name): """"""Calls the placement API to delete a resource class. :param rc_name: string name of the resource class to delete. This shall be something like ""CUSTOM_RESERVATION_{uuid}"" :raises: ResourceClassDeletionFailed error. """""" url = '/resource_classes/%s' % rc_name resp = self.delete(url, None, PLACEMENT_MICROVERSION) if resp: LOG.info(""Deleted resource class %s"", rc_name) return msg = (""Failed to delete resource class with placement API for "" ""%(rc_name)s. Got %(status_code)d: %(err_text)s."") args = { 'rc_name': rc_name, 'status_code': resp.status_code, 'err_text': resp.text, } LOG.error(msg, args) raise exceptions.ResourceClassDeletionFailed(resource_class=rc_name)",,52,0
openstack%2Fbarbican~master~Id6643cb5abead2d27f0fcd080df402ad7c731cc6,openstack/barbican,master,Id6643cb5abead2d27f0fcd080df402ad7c731cc6,Imported Translations from Zanata,MERGED,2018-10-12 06:27:43.000000000,2018-10-18 17:57:32.000000000,2018-10-18 17:57:31.000000000,"[{'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-12 06:27:43.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/barbican/commit/81a16b54fd8ca212ab6bed432aac565558a87760', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id6643cb5abead2d27f0fcd080df402ad7c731cc6\n'}]",0,609920,81a16b54fd8ca212ab6bed432aac565558a87760,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Id6643cb5abead2d27f0fcd080df402ad7c731cc6
",git fetch https://review.opendev.org/openstack/barbican refs/changes/20/609920/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,81a16b54fd8ca212ab6bed432aac565558a87760,zanata/translations,"""POT-Creation-Date: 2018-10-10 08:34+0000\n""""PO-Revision-Date: 2018-10-11 09:21+0000\n""msgid ""7.0.0-17"" msgstr ""7.0.0-17""","""POT-Creation-Date: 2018-10-01 23:28+0000\n""""PO-Revision-Date: 2018-10-04 04:27+0000\n""msgid ""7.0.0-15"" msgstr ""7.0.0-15""",4,4
openstack%2Ftempest~master~I462e8451465bc5de85846cf26737405d16b5752e,openstack/tempest,master,I462e8451465bc5de85846cf26737405d16b5752e,Remove duplicate legacy-tempest-dsvm-multinode-full job,MERGED,2018-10-16 10:54:55.000000000,2018-10-18 17:48:01.000000000,2018-10-18 17:48:01.000000000,"[{'_account_id': 6167}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-10-16 10:54:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9fca7714724dca316d54a933e690d306536ac292', 'message': ""Remove duplicate legacy-tempest-dsvm-multinode-full job\n\nExperimental job 'legacy-tempest-dsvm-multinode-full'\nis duplicate of 'tempest-multinode-full' job which is running\nin check pipeline as n-v job.\n\nThis commit remove the legacy duplicate job from experimental pipeline.\n\nChange-Id: I462e8451465bc5de85846cf26737405d16b5752e\n""}]",0,610932,9fca7714724dca316d54a933e690d306536ac292,9,5,1,8556,,,0,"Remove duplicate legacy-tempest-dsvm-multinode-full job

Experimental job 'legacy-tempest-dsvm-multinode-full'
is duplicate of 'tempest-multinode-full' job which is running
in check pipeline as n-v job.

This commit remove the legacy duplicate job from experimental pipeline.

Change-Id: I462e8451465bc5de85846cf26737405d16b5752e
",git fetch https://review.opendev.org/openstack/tempest refs/changes/32/610932/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9fca7714724dca316d54a933e690d306536ac292,,, - legacy-tempest-dsvm-multinode-full: irrelevant-files: *tempest-irrelevant-files,0,2
openstack%2Frequirements~master~I7cac66e88a014e746c609373b1b22e06c431b5fa,openstack/requirements,master,I7cac66e88a014e746c609373b1b22e06c431b5fa,update constraint for oslo.messaging to new release 9.1.0,MERGED,2018-10-16 21:40:13.000000000,2018-10-18 17:48:00.000000000,2018-10-18 17:47:59.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 21:40:13.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/236dff7f56d5498c20e3f4eeb232dbea3a955f96', 'message': 'update constraint for oslo.messaging to new release 9.1.0\n\nChange-Id: I7cac66e88a014e746c609373b1b22e06c431b5fa\nmeta:version: 9.1.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: Ife16997e2ecd8bef92ad38f85814c61273f9c8af\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,611178,236dff7f56d5498c20e3f4eeb232dbea3a955f96,14,2,1,11131,,,0,"update constraint for oslo.messaging to new release 9.1.0

Change-Id: I7cac66e88a014e746c609373b1b22e06c431b5fa
meta:version: 9.1.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: Ife16997e2ecd8bef92ad38f85814c61273f9c8af
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/78/611178/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,236dff7f56d5498c20e3f4eeb232dbea3a955f96,new-release,oslo.messaging===9.1.0,oslo.messaging===9.0.1,1,1
openstack%2Fneutron~feature%2Fgraphql~I91216dba831e3e81ca6d4d903b3d412e77d38e33,openstack/neutron,feature/graphql,I91216dba831e3e81ca6d4d903b3d412e77d38e33,Update feature/graphql branch,MERGED,2018-10-10 15:27:36.000000000,2018-10-18 17:34:01.000000000,2018-10-18 17:34:01.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6525}, {'_account_id': 11975}, {'_account_id': 17120}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-10 15:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ecfcbfcf57abddf3e26b57681ee9ebf108e28364', 'message': 'Merge ""doc: OpenVSwitch firewall internal design, improvements (+ newline fix)""\n\nChange-Id: I91216dba831e3e81ca6d4d903b3d412e77d38e33\n'}, {'number': 2, 'created': '2018-10-12 22:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/68fa2fc2fc835945992a05b35579d82c724866d8', 'message': 'Merge ""doc: OpenVSwitch firewall internal design, improvements (+ newline fix)""\n\nChange-Id: I91216dba831e3e81ca6d4d903b3d412e77d38e33\n'}, {'number': 3, 'created': '2018-10-12 22:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/537cbb7ccc1a12bbb421e166a3b6c0fdd28ac42d', 'message': 'Merge ""doc: OpenVSwitch firewall internal design, improvements (+ newline fix)""\n\nChange-Id: I91216dba831e3e81ca6d4d903b3d412e77d38e33\n'}, {'number': 4, 'created': '2018-10-12 23:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a638908165aaf2a4402107f762b6c7446864228', 'message': 'Merge ""doc: OpenVSwitch firewall internal design, improvements (+ newline fix)""\n\nA comment was added to .zuul.yaml to work around the Zuulv3 bug\ndescribed in [1] to enable changes from master branch to be merged to\nfeature/graphql branch. That comment should be removed before\nfeature/graphql is merged to master\n\n[1] https://storyboard.openstack.org/#!/story/2004046\n\nChange-Id: I91216dba831e3e81ca6d4d903b3d412e77d38e33\n'}, {'number': 5, 'created': '2018-10-13 21:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/77869aa45638a6285fbaf10f2e5c940caf95e012', 'message': 'Update feature/graphql branch\n\nUpdate feature/graphql branch with latest master branch commits up to\nthis point.\n\nA comment was added to .zuul.yaml to work around the Zuulv3 bug\ndescribed in [1] to enable changes from master branch to be merged to\nfeature/graphql branch. That comment should be removed before\nfeature/graphql is merged back to master\n\n[1] https://storyboard.openstack.org/#!/story/2004046\n\nChange-Id: I91216dba831e3e81ca6d4d903b3d412e77d38e33\n'}, {'number': 6, 'created': '2018-10-14 21:46:29.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bca3e5e8f534bf634d933e6eddefcb192b4041ff', 'message': 'Update feature/graphql branch\n\nUpdate feature/graphql branch with latest master branch commits up to\nthis point.\n\nA comment was added to .zuul.yaml to work around the Zuulv3 bug\ndescribed in [1] to enable changes from master branch to be merged to\nfeature/graphql branch. That comment should be removed before\nfeature/graphql is merged back to master\n\n[1] https://storyboard.openstack.org/#!/story/2004046\n\nChange-Id: I91216dba831e3e81ca6d4d903b3d412e77d38e33\n'}]",2,609455,bca3e5e8f534bf634d933e6eddefcb192b4041ff,40,6,6,4694,,,0,"Update feature/graphql branch

Update feature/graphql branch with latest master branch commits up to
this point.

A comment was added to .zuul.yaml to work around the Zuulv3 bug
described in [1] to enable changes from master branch to be merged to
feature/graphql branch. That comment should be removed before
feature/graphql is merged back to master

[1] https://storyboard.openstack.org/#!/story/2004046

Change-Id: I91216dba831e3e81ca6d4d903b3d412e77d38e33
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/609455/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,ecfcbfcf57abddf3e26b57681ee9ebf108e28364,merge-branch,,,0,0
openstack%2Fneutron~stable%2Fqueens~Ic045e2763ba2772bcaf037591821501e84e40878,openstack/neutron,stable/queens,Ic045e2763ba2772bcaf037591821501e84e40878,Fix IPv6 prefix delegation issue on agent restart,MERGED,2018-09-20 15:04:59.000000000,2018-10-18 17:33:58.000000000,2018-10-18 17:33:58.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23312}, {'_account_id': 28542}]","[{'number': 1, 'created': '2018-09-20 15:04:59.000000000', 'files': ['neutron/agent/l3/router_info.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/common/l3_test_common.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e7230b7b9746779b6d6633e4b49ea5b60a38de4', 'message': ""Fix IPv6 prefix delegation issue on agent restart\n\nOn l3-agent restart, prefix delegation subnets weren't always\ninserted into the local router_info cache, leading to a missing\nip6tables rule.  Add it when the internal network is configured\nif the prefix has already been assigned.\n\nChange-Id: Ic045e2763ba2772bcaf037591821501e84e40878\nCloses-bug: #1789403\n(cherry picked from commit d19dcf1ef2f8e4b837e57dfef4ed1580c5d1e7b7)\n""}]",0,604119,1e7230b7b9746779b6d6633e4b49ea5b60a38de4,35,9,1,1131,,,0,"Fix IPv6 prefix delegation issue on agent restart

On l3-agent restart, prefix delegation subnets weren't always
inserted into the local router_info cache, leading to a missing
ip6tables rule.  Add it when the internal network is configured
if the prefix has already been assigned.

Change-Id: Ic045e2763ba2772bcaf037591821501e84e40878
Closes-bug: #1789403
(cherry picked from commit d19dcf1ef2f8e4b837e57dfef4ed1580c5d1e7b7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/19/604119/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/router_info.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/common/l3_test_common.py']",3,1e7230b7b9746779b6d6633e4b49ea5b60a38de4,bug/1789403-stable/queens,"def router_append_pd_enabled_subnet(router, count=1, prefix=None): if not prefix: prefix = lib_constants.PROVISIONAL_IPV6_PD_PREFIX 'cidr': prefix,def get_assigned_pd_interfaces(router): pd_intfs = [] for intf in router[lib_constants.INTERFACE_KEY]: for subnet in intf['subnets']: if (ipv6_utils.is_ipv6_pd_enabled(subnet) and subnet['cidr'] != lib_constants.PROVISIONAL_IPV6_PD_PREFIX): pd_intfs.append(intf) return pd_intfs ","def router_append_pd_enabled_subnet(router, count=1): 'cidr': lib_constants.PROVISIONAL_IPV6_PD_PREFIX,",51,2
openstack%2Fheat~master~Ib51341d023907b392acbdacd47bd1b3027b721a1,openstack/heat,master,Ib51341d023907b392acbdacd47bd1b3027b721a1,"Change ""services"" to ""service""",MERGED,2018-10-18 10:15:51.000000000,2018-10-18 17:23:34.000000000,2018-10-18 14:03:07.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-18 10:15:51.000000000', 'files': ['doc/source/install/install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/b90278b503aff2ad8148af38525beb90ffb117d8', 'message': 'Change ""services"" to ""service""\n\nBecause project name is service in Installation Guides[1],\nIt is better not to give reference of this name in installation\noperation Documentation file.\n\n[1]https://github.com/openstack/keystone/blob/master/doc/source/install/common/keystone-users.inc\n\nChange-Id: Ib51341d023907b392acbdacd47bd1b3027b721a1\n'}]",0,611562,b90278b503aff2ad8148af38525beb90ffb117d8,8,2,1,29165,,,0,"Change ""services"" to ""service""

Because project name is service in Installation Guides[1],
It is better not to give reference of this name in installation
operation Documentation file.

[1]https://github.com/openstack/keystone/blob/master/doc/source/install/common/keystone-users.inc

Change-Id: Ib51341d023907b392acbdacd47bd1b3027b721a1
",git fetch https://review.opendev.org/openstack/heat refs/changes/62/611562/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/install-rdo.rst'],1,b90278b503aff2ad8148af38525beb90ffb117d8,bugfix_doc, $ openstack role add --project service --user heat admin, $ openstack role add --project services --user heat admin,1,1
openstack%2Fblazar~master~I1d4d4c5589dd3b5bb62344294627c6eef458baba,openstack/blazar,master,I1d4d4c5589dd3b5bb62344294627c6eef458baba,Add create/delete reservation provider,MERGED,2018-07-22 09:09:13.000000000,2018-10-18 17:21:04.000000000,2018-10-18 17:21:04.000000000,"[{'_account_id': 8878}, {'_account_id': 13192}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 23840}, {'_account_id': 25625}]","[{'number': 1, 'created': '2018-07-22 09:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/4787567a35a85fe5e765e9b1ea22dd68db4f5b18', 'message': 'Create and delete reservation provider\n\nThis patch adds the process to create/delete blazar reservation\nprovider when creating/deleting a host in blazar.\n\nChange-Id: I1d4d4c5589dd3b5bb62344294627c6eef458baba\n'}, {'number': 2, 'created': '2018-07-23 03:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/aa2e5c4b8a6c2e5b146c5f9d2ea28cea2e816f27', 'message': 'Create and delete reservation provider\n\nThis patch adds the process to create/delete blazar reservation\nprovider when creating/deleting a host in blazar.\n\nChange-Id: I1d4d4c5589dd3b5bb62344294627c6eef458baba\n'}, {'number': 3, 'created': '2018-07-23 11:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/47d2e836c5fc00a1e7a5f7ad6100c3b3b0f4129f', 'message': 'Create and delete reservation provider\n\nThis patch adds the process to create/delete blazar reservation\nprovider when creating/deleting a host in blazar.\n\nChange-Id: I1d4d4c5589dd3b5bb62344294627c6eef458baba\n'}, {'number': 4, 'created': '2018-07-24 11:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/db07b0b0a4f0defc191d320025a1e8fdb68eb876', 'message': 'Add create/delete reservation provider\n\nThis patch adds wrapper methods to create/delete blazar reservation\nprovider in the placement client.\n\nChange-Id: I1d4d4c5589dd3b5bb62344294627c6eef458baba\n'}, {'number': 5, 'created': '2018-10-15 12:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/0b89a24be8fd64482ad9ffbc7d34788dc1100d3a', 'message': 'Add create/delete reservation provider\n\nThis patch adds wrapper methods to create/delete blazar reservation\nprovider in the placement client.\n\nChange-Id: I1d4d4c5589dd3b5bb62344294627c6eef458baba\n'}, {'number': 6, 'created': '2018-10-17 03:08:05.000000000', 'files': ['blazar/utils/openstack/placement.py', 'blazar/tests/utils/openstack/test_placement.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/3c8a29c8fcf7d5752dd6a5fc787b9d753c9bda00', 'message': 'Add create/delete reservation provider\n\nThis patch adds wrapper methods to create/delete blazar reservation\nprovider in the placement client.\n\nChange-Id: I1d4d4c5589dd3b5bb62344294627c6eef458baba\nBlueprint: placement-api\n'}]",8,584625,3c8a29c8fcf7d5752dd6a5fc787b9d753c9bda00,32,6,6,25625,,,0,"Add create/delete reservation provider

This patch adds wrapper methods to create/delete blazar reservation
provider in the placement client.

Change-Id: I1d4d4c5589dd3b5bb62344294627c6eef458baba
Blueprint: placement-api
",git fetch https://review.opendev.org/openstack/blazar refs/changes/25/584625/3 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/plugins/oshosts/host_plugin.py', 'blazar/utils/openstack/placement.py', 'blazar/tests/utils/openstack/test_placement.py']",3,4787567a35a85fe5e765e9b1ea22dd68db4f5b18,bp/placement-api," @mock.patch('keystoneauth1.session.Session.request') def test_create_reservation_provider(self, kss_req): host_uuid = uuidutils.generate_uuid() host_name = ""compute-1"" rp_uuid = uuidutils.generate_uuid() rp_name = ""blazar_compute-1"" get_json_mock = { 'resource_providers': [ { 'uuid': host_uuid, 'name': host_name, 'generation': 0, 'parent_provider_uuid': None } ] } post_json_mock = {'uuid': rp_uuid, 'name': rp_name, 'generation': 0, 'parent_provider_uuid': host_uuid} mock_call1 = fake_requests.FakeResponse( 200, content=json.dumps(get_json_mock)) mock_call2 = fake_requests.FakeResponse( 200, content=json.dumps(post_json_mock)) kss_req.side_effect = [mock_call1, mock_call2] self.client.create_reservation_provider(host_name) expected_url_get = ""/resource_providers?name=%s"" % host_name kss_req.assert_any_call( expected_url_get, 'GET', endpoint_filter={'service_type': 'placement', 'interface': 'public'}, headers={'accept': 'application/json'}, microversion=PLACEMENT_MICROVERSION, raise_exc=False) expected_url_post = ""/resource_providers"" kss_req.assert_any_call( expected_url_post, 'POST', endpoint_filter={'service_type': 'placement', 'interface': 'public'}, json={'name': 'blazar_compute-1', 'parent_provider_uuid': host_uuid}, headers={'accept': 'application/json'}, microversion=PLACEMENT_MICROVERSION, raise_exc=False) @mock.patch('keystoneauth1.session.Session.request') def test_delete_reservation_provider(self, kss_req): host_uuid = uuidutils.generate_uuid() host_name = ""compute-1"" rp_uuid = uuidutils.generate_uuid() rp_name = ""blazar_compute-1"" get_json_mock = { 'resource_providers': [ { 'uuid': rp_uuid, 'name': rp_name, 'generation': 0, 'parent_provider_uuid': host_uuid } ] } mock_call1 = fake_requests.FakeResponse( 200, content=json.dumps(get_json_mock)) mock_call2 = fake_requests.FakeResponse(200) kss_req.side_effect = [mock_call1, mock_call2] self.client.delete_reservation_provider(host_name) expected_url_get = ""/resource_providers?name=%s"" % rp_name kss_req.assert_any_call( expected_url_get, 'GET', endpoint_filter={'service_type': 'placement', 'interface': 'public'}, headers={'accept': 'application/json'}, microversion=PLACEMENT_MICROVERSION, raise_exc=False) expected_url_post = ""/resource_providers/%s"" % rp_uuid kss_req.assert_any_call( expected_url_post, 'DELETE', endpoint_filter={'service_type': 'placement', 'interface': 'public'}, headers={'accept': 'application/json'}, microversion=PLACEMENT_MICROVERSION, raise_exc=False)",,110,0
openstack%2Ftripleo-ui~master~I5a685cc472bcbbd3e7f0452bbaa9679ff2a00d96,openstack/tripleo-ui,master,I5a685cc472bcbbd3e7f0452bbaa9679ff2a00d96,Imported Translations from Zanata,MERGED,2018-10-12 06:51:16.000000000,2018-10-18 17:18:25.000000000,2018-10-18 17:18:25.000000000,"[{'_account_id': 20970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-12 06:51:16.000000000', 'files': ['i18n/locales/en-GB.json', 'i18n/locales/de.json', 'i18n/locales/zh-CN.json', 'i18n/locales/es.json', 'i18n/locales/ja.json', 'i18n/locales/ko-KR.json', 'i18n/locales/id.json'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/eae8a7c1e3137f9a4cf4b5a9d1fce660646ac0dd', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I5a685cc472bcbbd3e7f0452bbaa9679ff2a00d96\n'}]",0,609928,eae8a7c1e3137f9a4cf4b5a9d1fce660646ac0dd,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I5a685cc472bcbbd3e7f0452bbaa9679ff2a00d96
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/28/609928/1 && git format-patch -1 --stdout FETCH_HEAD,"['i18n/locales/en-GB.json', 'i18n/locales/de.json', 'i18n/locales/es.json', 'i18n/locales/zh-CN.json', 'i18n/locales/ja.json', 'i18n/locales/ko-KR.json', 'i18n/locales/id.json']",7,eae8a7c1e3137f9a4cf4b5a9d1fce660646ac0dd,zanata/translations," ""NetworksActions.fetchNetworksFailed"": ""Jaringan tidak dapat dimuat"","," ""RolesActions.fetchNetworksFailed"": ""Jaringan tidak dapat dimuat"",",7,7
openstack%2Fkeystone~master~I0b1a4ca9a95489e410f055ff47f3399feba3a8f1,openstack/keystone,master,I0b1a4ca9a95489e410f055ff47f3399feba3a8f1,Cleanup keystone.server.flask.application,MERGED,2018-10-10 21:34:09.000000000,2018-10-18 17:15:38.000000000,2018-10-18 17:15:38.000000000,"[{'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-10 21:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/bc17e579dd416d19fb2c62343560b04589e370a5', 'message': ""Cleanup keystone.server.flask.application\n\nRemove a chunk of the compat code for legacy dispatching. This moves\nthe logging about the request to it's own before_request function.\n\nChange-Id: I0b1a4ca9a95489e410f055ff47f3399feba3a8f1\nPartial-Bug: #1776504\n""}, {'number': 2, 'created': '2018-10-12 17:34:26.000000000', 'files': ['keystone/server/flask/application.py', 'keystone/server/flask/request_processing/req_logging.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e666839bc170ee3a529e11a78500d34357c8f6ff', 'message': ""Cleanup keystone.server.flask.application\n\nRemove a chunk of the compat code for legacy dispatching. This moves\nthe logging about the request to it's own before_request function.\n\nChange-Id: I0b1a4ca9a95489e410f055ff47f3399feba3a8f1\nPartial-Bug: #1776504\n""}]",2,609548,e666839bc170ee3a529e11a78500d34357c8f6ff,21,6,2,2903,,,0,"Cleanup keystone.server.flask.application

Remove a chunk of the compat code for legacy dispatching. This moves
the logging about the request to it's own before_request function.

Change-Id: I0b1a4ca9a95489e410f055ff47f3399feba3a8f1
Partial-Bug: #1776504
",git fetch https://review.opendev.org/openstack/keystone refs/changes/48/609548/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/server/flask/application.py', 'keystone/server/flask/request_processing/req_logging.py']",2,bc17e579dd416d19fb2c62343560b04589e370a5,bug/1776504,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # LOG some debug output about the request. This was originally in the # dispatch middleware import flask from oslo_log import log LOG = log.getLogger(__name__) _ENVIRON_KEYS = ('SCRIPT_NAME', 'PATH_INFO') def log_request_info(): # Add in any extra debug logging about the request that is desired # note that this is executed prior to routing the request to a resource # so the data is somewhat raw. for element in _ENVIRON_KEYS: LOG.debug(""environ['%(key)s']: %(value)s"", {'key': element, 'value': flask.request.environ.get(element, '<<NOT SET>>')}) ",,41,167
openstack%2Fbarbican~stable%2Frocky~I546c324ddfb9d156f38a963d6d47b9562e1caed6,openstack/barbican,stable/rocky,I546c324ddfb9d156f38a963d6d47b9562e1caed6,Revise diretory server install commands,MERGED,2018-10-08 19:24:26.000000000,2018-10-18 17:14:19.000000000,2018-10-18 17:14:19.000000000,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 11561}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-08 19:24:26.000000000', 'files': ['devstack/lib/barbican'], 'web_link': 'https://opendev.org/openstack/barbican/commit/71f748d06f7d5a16670760e36fb404020039e419', 'message': 'Revise diretory server install commands\n\nThe Dogtag gate is broken because the directory server install\ncommands have changed.  Fix gate script to use the newer commands.\n\nChange-Id: I546c324ddfb9d156f38a963d6d47b9562e1caed6\n(cherry picked from commit 9298413ab14ceb14e77f162608f69322b4331a64)\n'}]",0,608755,71f748d06f7d5a16670760e36fb404020039e419,8,4,1,11561,,,0,"Revise diretory server install commands

The Dogtag gate is broken because the directory server install
commands have changed.  Fix gate script to use the newer commands.

Change-Id: I546c324ddfb9d156f38a963d6d47b9562e1caed6
(cherry picked from commit 9298413ab14ceb14e77f162608f69322b4331a64)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/55/608755/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/barbican'],1,71f748d06f7d5a16670760e36fb404020039e419,fix_dogtag_gate-stable/rocky, dscreate create-template ds.tmp sed -e 's/;root_password = .*/root_password = PASSWORD/g' \ -e 's/;full_machine_name = .*/full_machine_name = localhost.localdomain/g' \ -e 's/;instance_name =.*/instance_name = pki-tomcat/g' \ ds.tmp > ds.inf rm ds.tmp sudo mv ds.inf /etc/389-ds/ds.inf sudo dscreate fromfile /etc/389-ds/ds.inf," # Instead of spawning a sub-shell to cat this whole chunk into the desired # file. I just cat it into a temporary file that this user will have access # to, and subsequently use elevated privileges to move the already made # file where we need it to be. cat > .tmp.setup.inf <<EOF [General] FullMachineName= localhost.localdomain SuiteSpotUserID= nobody SuiteSpotGroup= nobody [slapd] ServerPort= 389 ServerIdentifier= pki-tomcat Suffix= dc=example,dc=com RootDN= cn=Directory Manager RootDNPwd= PASSWORD EOF sudo mv .tmp.setup.inf /etc/389-ds/setup.inf sudo setup-ds.pl --silent --file=/etc/389-ds/setup.inf",8,20
openstack%2Fbarbican~master~Ifedaf45e373a3384c2d7b1775b7ae833ff050a9d,openstack/barbican,master,Ifedaf45e373a3384c2d7b1775b7ae833ff050a9d,Update .zuul.yaml: Make barbican-vault-devstack-functional voting,MERGED,2018-10-09 06:46:47.000000000,2018-10-18 17:14:18.000000000,2018-10-18 17:14:18.000000000,"[{'_account_id': 1091}, {'_account_id': 6783}, {'_account_id': 7973}, {'_account_id': 8623}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11561}, {'_account_id': 16046}, {'_account_id': 21797}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-09 06:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/8a9d5ab41c31663cdf31b9770a2ce75bccb004c4', 'message': ""Make barbican-vault-devstack-functional voting\n\nNon-voting jobs in the gate only waste resources since they are\ncompletely ignored. Since barbican-vault-devstack-functional is\nrunning successfully, let's make it voting.\n\nChange-Id: Ifedaf45e373a3384c2d7b1775b7ae833ff050a9d\n""}, {'number': 2, 'created': '2018-10-09 07:09:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/1a583ba2403d20ae093ce42d52b521be929094e3', 'message': ""Update .zuul.yaml: Make barbican-vault-devstack-functional voting\n\nNon-voting jobs in the gate only waste resources since they are\ncompletely ignored. Since barbican-vault-devstack-functional is\nrunning successfully, let's make it voting.\n\nAlso, include a few cleanups:\n* Use lower-constraints templates instead of individual jobs\n* Use cover template instead of individual job\n* Sort list of templates\n\nChange-Id: Ifedaf45e373a3384c2d7b1775b7ae833ff050a9d\n""}]",0,608858,1a583ba2403d20ae093ce42d52b521be929094e3,8,11,2,6547,,,0,"Update .zuul.yaml: Make barbican-vault-devstack-functional voting

Non-voting jobs in the gate only waste resources since they are
completely ignored. Since barbican-vault-devstack-functional is
running successfully, let's make it voting.

Also, include a few cleanups:
* Use lower-constraints templates instead of individual jobs
* Use cover template instead of individual job
* Sort list of templates

Change-Id: Ifedaf45e373a3384c2d7b1775b7ae833ff050a9d
",git fetch https://review.opendev.org/openstack/barbican refs/changes/58/608858/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8a9d5ab41c31663cdf31b9770a2ce75bccb004c4,update-zuul,, voting: false,0,1
openstack%2Fkeystone~master~I84491865870b6bf2b8f094b524ee8b77510f0054,openstack/keystone,master,I84491865870b6bf2b8f094b524ee8b77510f0054,Replace JSON Body middleware with flask-native func,MERGED,2018-10-10 20:14:49.000000000,2018-10-18 17:10:26.000000000,2018-10-18 17:10:26.000000000,"[{'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8871}, {'_account_id': 15054}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-10 20:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e720a407a8b91c53cb1d3150144a6e6ce3d4e60b', 'message': ""Replace JSON Body middleware with flask-native func\n\nReplace the JSON Body middleware with flask-native before-request\nfunction.\n\nThe body filtering and storing data in\nrequest.environ['openstack.params'] was not used in the code base and\nhas been dropped.\n\nTest Changes:\n\n* JSON Body middleware has been removed, no testing of the removed code\n\n* JSON Body Before Request Method has been implemented and associated\n  testing (mirroring the JSON Body middleware code).\n\n* Test entry points no longer looks for JSON Body middleware.\n\nChange-Id: I84491865870b6bf2b8f094b524ee8b77510f0054\nPartial-Bug: #1776504\n""}, {'number': 2, 'created': '2018-10-10 20:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b475d291d6fa0ac84a5066c0e1dc00df3d83aa8e', 'message': ""Replace JSON Body middleware with flask-native func\n\nReplace the JSON Body middleware with flask-native before-request\nfunction.\n\nThe body filtering and storing data in\nrequest.environ['openstack.params'] was not used in the code base and\nhas been dropped.\n\nTest Changes:\n\n* JSON Body middleware has been removed, no testing of the removed code\n\n* JSON Body Before Request Method has been implemented and associated\n  testing (mirroring the JSON Body middleware code).\n\n* Test entry points no longer looks for JSON Body middleware.\n\nChange-Id: I84491865870b6bf2b8f094b524ee8b77510f0054\nPartial-Bug: #1776504\n""}, {'number': 3, 'created': '2018-10-12 17:34:26.000000000', 'files': ['keystone/tests/unit/test_middleware.py', 'keystone/tests/unit/test_entry_points.py', 'keystone/tests/unit/server/test_keystone_flask.py', 'keystone/middleware/core.py', 'keystone/server/flask/request_processing/__init__.py', 'keystone/server/flask/application.py', 'keystone/server/flask/core.py', 'setup.cfg', 'keystone/server/flask/request_processing/json_body.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/ee9b035cf17f0070dfb392505e44ea2961e2cf4b', 'message': ""Replace JSON Body middleware with flask-native func\n\nReplace the JSON Body middleware with flask-native before-request\nfunction.\n\nThe body filtering and storing data in\nrequest.environ['openstack.params'] was not used in the code base and\nhas been dropped.\n\nTest Changes:\n\n* JSON Body middleware has been removed, no testing of the removed code\n\n* JSON Body Before Request Method has been implemented and associated\n  testing (mirroring the JSON Body middleware code).\n\n* Test entry points no longer looks for JSON Body middleware.\n\nChange-Id: I84491865870b6bf2b8f094b524ee8b77510f0054\nPartial-Bug: #1776504\n""}]",4,609535,ee9b035cf17f0070dfb392505e44ea2961e2cf4b,28,6,3,2903,,,0,"Replace JSON Body middleware with flask-native func

Replace the JSON Body middleware with flask-native before-request
function.

The body filtering and storing data in
request.environ['openstack.params'] was not used in the code base and
has been dropped.

Test Changes:

* JSON Body middleware has been removed, no testing of the removed code

* JSON Body Before Request Method has been implemented and associated
  testing (mirroring the JSON Body middleware code).

* Test entry points no longer looks for JSON Body middleware.

Change-Id: I84491865870b6bf2b8f094b524ee8b77510f0054
Partial-Bug: #1776504
",git fetch https://review.opendev.org/openstack/keystone refs/changes/35/609535/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/test_middleware.py', 'keystone/tests/unit/server/test_keystone_flask.py', 'keystone/tests/unit/test_entry_points.py', 'keystone/middleware/core.py', 'keystone/server/flask/request_processing/__init__.py', 'keystone/server/flask/application.py', 'keystone/server/flask/core.py', 'setup.cfg', 'keystone/server/flask/request_processing/json_body.py']",9,e720a407a8b91c53cb1d3150144a6e6ce3d4e60b,bug/1776504,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # Before request processing for JSON Body enforcement import flask from werkzeug import exceptions as werkzeug_exceptions from keystone import exception from keystone.i18n import _ def json_body_before_request(): """"""Enforce JSON Request Body."""""" # TODO(morgan): Allow other content-types when OpenAPI Doc or improved # federation is implemented for known/valid paths. This function should # be removed long term. # exit if there is nothing to be done, (no body) if not flask.request.get_data(): return None try: # flask does loading for us for json, use the flask default loader # in the case that the data is *not* json or a dict, we should see a # raise of werkzeug.exceptions.BadRequest, re-spin this to the keystone # ValidationError message (as expected by our contract) # Explicitly check if the content is supposed to be json. if (flask.request.is_json or flask.request.headers['Content-Type'] == ''): json_decoded = flask.request.get_json(force=True) if not isinstance(json_decoded, dict): # In the case that the returned value was not a dict, force # a raise that will be caught the same way that a Decode error # would be handled. raise werkzeug_exceptions.BadRequest( _('resulting JSON load was not a dict')) else: raise exception.ValidationError(attribute='application/json', target='Content-Type header') except werkzeug_exceptions.BadRequest: raise exception.ValidationError(attribute='valid JSON', target='request body') ",,102,109
openstack%2Frequirements~stable%2Fqueens~I6f4149b3751472a4c47726256f75772cee52a3fd,openstack/requirements,stable/queens,I6f4149b3751472a4c47726256f75772cee52a3fd,Bump constraint for stestr,MERGED,2018-09-13 05:27:27.000000000,2018-10-18 16:58:50.000000000,2018-10-18 16:58:50.000000000,"[{'_account_id': 6593}, {'_account_id': 8871}, {'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-13 05:27:27.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e3f12f8a1875dcf1eacf788d79395baf54dd0d14', 'message': 'Bump constraint for stestr\n\nIn Ia37d4230d18d396692f66925e754fb87ec0eb21b we added a constraint for\nstestr and we set it to 2.0.0 (which was probably the latest an greatest\nat the time)  However we have:\n\n origin/master         : stestr===2.1.1\n origin/stable/rocky   : stestr===2.1.0\n origin/stable/queens  : stestr===1.1.0\n origin/stable/pike    : stestr===2.0.0\n origin/stable/newton  :\n origin/stable/ocata   :\n\nWhere we have an older version on queens than in pike :/\n\nChange-Id: I6f4149b3751472a4c47726256f75772cee52a3fd\n'}]",0,602237,e3f12f8a1875dcf1eacf788d79395baf54dd0d14,15,5,1,12898,,,0,"Bump constraint for stestr

In Ia37d4230d18d396692f66925e754fb87ec0eb21b we added a constraint for
stestr and we set it to 2.0.0 (which was probably the latest an greatest
at the time)  However we have:

 origin/master         : stestr===2.1.1
 origin/stable/rocky   : stestr===2.1.0
 origin/stable/queens  : stestr===1.1.0
 origin/stable/pike    : stestr===2.0.0
 origin/stable/newton  :
 origin/stable/ocata   :

Where we have an older version on queens than in pike :/

Change-Id: I6f4149b3751472a4c47726256f75772cee52a3fd
",git fetch https://review.opendev.org/openstack/requirements refs/changes/37/602237/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e3f12f8a1875dcf1eacf788d79395baf54dd0d14,bump-stestr,stestr===2.0.0,stestr===1.1.0,1,1
openstack%2Fpython-barbicanclient~master~Idf3ecc193e91c65010a0de08a02e01efcf1bd3a7,openstack/python-barbicanclient,master,Idf3ecc193e91c65010a0de08a02e01efcf1bd3a7,Don't quote {posargs} in tox.ini,MERGED,2018-10-09 13:43:42.000000000,2018-10-18 16:33:45.000000000,2018-10-18 16:33:45.000000000,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-10-09 13:43:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/2956fbacc2b1fded1f0856755f0d05ab337d402c', 'message': ""Don't quote {posargs} in tox.ini\n\nQuotes around {posargs} cause the entire string to be combined into one\narg that gets passed to stestr. This prevents passing multiple args\n(e.g. '--concurrency=16 some-regex')\n\nChange-Id: Idf3ecc193e91c65010a0de08a02e01efcf1bd3a7\n""}]",0,608985,2956fbacc2b1fded1f0856755f0d05ab337d402c,11,7,1,28543,,,0,"Don't quote {posargs} in tox.ini

Quotes around {posargs} cause the entire string to be combined into one
arg that gets passed to stestr. This prevents passing multiple args
(e.g. '--concurrency=16 some-regex')

Change-Id: Idf3ecc193e91c65010a0de08a02e01efcf1bd3a7
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/85/608985/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2956fbacc2b1fded1f0856755f0d05ab337d402c,, stestr run {posargs}, stestr run '{posargs}',1,1
openstack%2Fopenstack-ansible-ops~master~I4452b5f42eb9c09da48e657d20144f09fe785878,openstack/openstack-ansible-ops,master,I4452b5f42eb9c09da48e657d20144f09fe785878,Add kolide cluster tests,MERGED,2018-10-18 01:31:59.000000000,2018-10-18 16:31:57.000000000,2018-10-18 16:31:57.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-18 01:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/f2b89f230fe4589aae6fe39c96303dd428141974', 'message': 'Add kolide cluster tests\n\nChange-Id: I4452b5f42eb9c09da48e657d20144f09fe785878\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-10-18 02:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/89eb98365948732e113bf758b61e994d3b2e5683', 'message': 'Add kolide cluster tests\n\nChange-Id: I4452b5f42eb9c09da48e657d20144f09fe785878\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-10-18 02:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/10f13b1cb5b933ae33ec842b6fd260050ebbf9c3', 'message': 'Add kolide cluster tests\n\nChange-Id: I4452b5f42eb9c09da48e657d20144f09fe785878\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-10-18 03:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/424f72ce9faca6fdce05500511426d8038127c94', 'message': 'Add kolide cluster tests\n\nChange-Id: I4452b5f42eb9c09da48e657d20144f09fe785878\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 5, 'created': '2018-10-18 03:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/b79e0f53297efc0b98248c7bfce87a695e8fbc96', 'message': 'Add kolide cluster tests\n\nChange-Id: I4452b5f42eb9c09da48e657d20144f09fe785878\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 6, 'created': '2018-10-18 03:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/53562ec3a1f3354fdf39983737ccb08670866382', 'message': 'Add kolide cluster tests\n\nChange-Id: I4452b5f42eb9c09da48e657d20144f09fe785878\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 7, 'created': '2018-10-18 14:06:47.000000000', 'files': ['osquery/roles/fleet/tasks/fleetGetEnrollmentToken.yml', 'osquery/tests/inventory/test-container-inventory.yml', 'osquery/roles/fleet/tasks/fleetRequirements.yml', 'osquery/roles/fleet/tasks/fleetRegisterAdmin.yml', 'osquery/roles/fleet/tasks/fleetServerInstall.yml', 'osquery/installOSquery.yml', 'osquery/roles/fleet/tasks/createFleetDB.yml', 'osquery/roles/fleet/tasks/main.yml', 'osquery/roles/fleet/tasks/fleetConfig.yml', 'osquery/roles/fleet/tasks/fleetSSLkeyCreate.yml', 'osquery/roles/fleet/tasks/fleetSSL.yml', 'zuul.d/project.yaml', 'osquery/roles/fleet/tasks/fleetSSLuserProvided.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/ca1c050cbeb09d1ca6a40d87cb20f82abf04d590', 'message': 'Add kolide cluster tests\n\nChange-Id: I4452b5f42eb9c09da48e657d20144f09fe785878\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,611472,ca1c050cbeb09d1ca6a40d87cb20f82abf04d590,15,2,7,7353,,,0,"Add kolide cluster tests

Change-Id: I4452b5f42eb9c09da48e657d20144f09fe785878
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/72/611472/6 && git format-patch -1 --stdout FETCH_HEAD,"['osquery/tests/inventory/test-container-inventory.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",3,f2b89f230fe4589aae6fe39c96303dd428141974,kolide-cluster," name: ""openstack-ansible-ops:osquery-ubuntu-xenial-clustered"" parent: ""openstack-ansible-ops:osquery-ubuntu-xenial"" nodeset: ubuntu-bionic vars: osa_test_repo: ""openstack/openstack-ansible-ops"" test_clustered_kolide: true - job:", voting: true,23,2
openstack%2Fcongress~master~Ia5f1f949b2dc97cce4227a8dd6819b4354867b97,openstack/congress,master,Ia5f1f949b2dc97cce4227a8dd6819b4354867b97,Expose a get_enforcer method for oslo.policy scripts,MERGED,2018-09-26 00:54:38.000000000,2018-10-18 16:22:59.000000000,2018-10-18 16:22:59.000000000,"[{'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2018-09-26 00:54:38.000000000', 'files': ['congress/common/policy.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/congress/commit/9388e37b92734ddf5f2bd39e38da470429ba9cf4', 'message': 'Expose a get_enforcer method for oslo.policy scripts\n\nBecause we have policy in code, we should be able to use the\noslo.policy CLI scripts to produce sample policy files and render\ncomplete policies based on overrides on disk. This was broken\nbecause Congress did not properly expose the appropriate end point.\n\nThis commit exposes a get_enforcer() that substitutes an empty list\nin place of arguments passed in through the system.\n\nBased on: https://review.openstack.org/#/c/530828/\n\nChange-Id: Ia5f1f949b2dc97cce4227a8dd6819b4354867b97\nCloses-Bug: 1793343\n'}]",0,605282,9388e37b92734ddf5f2bd39e38da470429ba9cf4,7,3,1,18591,,,0,"Expose a get_enforcer method for oslo.policy scripts

Because we have policy in code, we should be able to use the
oslo.policy CLI scripts to produce sample policy files and render
complete policies based on overrides on disk. This was broken
because Congress did not properly expose the appropriate end point.

This commit exposes a get_enforcer() that substitutes an empty list
in place of arguments passed in through the system.

Based on: https://review.openstack.org/#/c/530828/

Change-Id: Ia5f1f949b2dc97cce4227a8dd6819b4354867b97
Closes-Bug: 1793343
",git fetch https://review.opendev.org/openstack/congress refs/changes/82/605282/1 && git format-patch -1 --stdout FETCH_HEAD,"['congress/common/policy.py', 'setup.cfg']",2,9388e37b92734ddf5f2bd39e38da470429ba9cf4,bug/1793343,oslo.policy.enforcer = congress = congress.common.policy:get_enforcer ,,9,0
openstack%2Fcharm-deployment-guide~master~I0cd9c2e96d24e9d357da43e71955505b9069423d,openstack/charm-deployment-guide,master,I0cd9c2e96d24e9d357da43e71955505b9069423d,Series Upgrade Documentation,MERGED,2018-10-10 19:29:11.000000000,2018-10-18 16:20:10.000000000,2018-10-18 16:20:10.000000000,"[{'_account_id': 12549}, {'_account_id': 20635}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-10 19:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/cd23431b898fe51e3c5d78f6dd5374a3a52d689c', 'message': 'Series Upgrade Documentation\n\nChange-Id: I0cd9c2e96d24e9d357da43e71955505b9069423d\n'}, {'number': 2, 'created': '2018-10-10 21:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/65248d5a789214209c982d59982c25f370813898', 'message': 'Series Upgrade Documentation\n\nChange-Id: I0cd9c2e96d24e9d357da43e71955505b9069423d\n'}, {'number': 3, 'created': '2018-10-10 22:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/1b8acc94196f2cb0961b816fcad8dee7a8b64c38', 'message': 'Series Upgrade Documentation\n\nChange-Id: I0cd9c2e96d24e9d357da43e71955505b9069423d\n'}, {'number': 4, 'created': '2018-10-10 22:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/3f3bbb1869cc678f0e5a0810fb81f80b8302a5ea', 'message': 'Series Upgrade Documentation\n\nChange-Id: I0cd9c2e96d24e9d357da43e71955505b9069423d\n'}, {'number': 5, 'created': '2018-10-11 14:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/16e7b1c681a08332f71b10a58d6a576b1e250ff3', 'message': 'Series Upgrade Documentation\n\nChange-Id: I0cd9c2e96d24e9d357da43e71955505b9069423d\n'}, {'number': 6, 'created': '2018-10-11 17:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/e185a73a9337a3ea02943fba6bf92b9ba8c64cdc', 'message': 'Series Upgrade Documentation\n\nChange-Id: I0cd9c2e96d24e9d357da43e71955505b9069423d\n'}, {'number': 7, 'created': '2018-10-11 23:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/9ba7c1b0cc19834b5192a214506483fb997cfffc', 'message': 'Series Upgrade Documentation\n\nChange-Id: I0cd9c2e96d24e9d357da43e71955505b9069423d\n'}, {'number': 8, 'created': '2018-10-18 15:00:06.000000000', 'files': ['deploy-guide/source/app-series-upgrade.rst', 'deploy-guide/source/app.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/11ab6dfc0cac6349dcf10b6c4662f9d265e0479d', 'message': 'Series Upgrade Documentation\n\nChange-Id: I0cd9c2e96d24e9d357da43e71955505b9069423d\n'}]",37,609526,11ab6dfc0cac6349dcf10b6c4662f9d265e0479d,27,4,8,20805,,,0,"Series Upgrade Documentation

Change-Id: I0cd9c2e96d24e9d357da43e71955505b9069423d
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/26/609526/2 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/app-series-upgrade.rst', 'deploy-guide/source/app.rst']",2,cd23431b898fe51e3c5d78f6dd5374a3a52d689c,, app-series-upgrade.rst,,181,0
openstack%2Ftripleo-common~master~Ibc052208a8fa3e1866a7cc55dbd4bed0e04a7900,openstack/tripleo-common,master,Ibc052208a8fa3e1866a7cc55dbd4bed0e04a7900,Remove horizon ui plugins we don't support,MERGED,2018-05-18 22:51:30.000000000,2018-10-18 16:04:55.000000000,2018-05-21 18:19:36.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25235}]","[{'number': 1, 'created': '2018-05-18 22:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0eda875ef5a86999625dca5eb28542cee7e14ccc', 'message': ""Remove horizon ui plugins we don't support\n\nThe trove horizon plugin actually causes problems for horizon by default\nbut there's also a list of dashboards for services we don't officially\nsupport being deployed via TripleO. This change removes teh cloudkitty,\nmurano and trove ui packages from the horizon container.\n\nChange-Id: Ibc052208a8fa3e1866a7cc55dbd4bed0e04a7900\nCloses-Bug: #1767520\n""}, {'number': 2, 'created': '2018-05-18 22:55:27.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5f9e974564cad477b8de03de7e5eb80c1273f4c4', 'message': ""Remove horizon ui plugins we don't support\n\nThe trove horizon plugin actually causes problems for horizon by default\nbut there's also a list of dashboards for services we don't officially\nsupport being deployed via TripleO. This change removes the cloudkitty,\nmurano and trove ui packages from the horizon container.\n\nChange-Id: Ibc052208a8fa3e1866a7cc55dbd4bed0e04a7900\nCloses-Bug: #1767520\n""}]",0,569533,5f9e974564cad477b8de03de7e5eb80c1273f4c4,16,7,2,14985,,,0,"Remove horizon ui plugins we don't support

The trove horizon plugin actually causes problems for horizon by default
but there's also a list of dashboards for services we don't officially
support being deployed via TripleO. This change removes the cloudkitty,
murano and trove ui packages from the horizon container.

Change-Id: Ibc052208a8fa3e1866a7cc55dbd4bed0e04a7900
Closes-Bug: #1767520
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/33/569533/2 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,0eda875ef5a86999625dca5eb28542cee7e14ccc,bug/1767520,"# Horizon dashboards we do not support # See LP#1767520 {% set horizon_packages_remove = [ 'openstack-cloudkitty-ui', 'openstack-murano-ui', 'openstack-trove-ui' ]%} ",,8,0
openstack%2Fmonasca-ui~master~Iee497028b11565cd4eb1c98e8c42d1960a0b7ac8,openstack/monasca-ui,master,Iee497028b11565cd4eb1c98e8c42d1960a0b7ac8,Modify Kibana button to support events,MERGED,2018-09-17 07:54:25.000000000,2018-10-18 15:57:06.000000000,2018-10-18 15:57:06.000000000,"[{'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 28062}]","[{'number': 1, 'created': '2018-09-17 07:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/b211bd0bc2150c94df865d9d2d912ed97f219a66', 'message': 'Modify Kibana button to support events\n\nChange-Id: Iee497028b11565cd4eb1c98e8c42d1960a0b7ac8\n'}, {'number': 2, 'created': '2018-09-17 12:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/e50e9874600f1bd825f9108edecffa1881f3b22c', 'message': 'Modify Kibana button to support events\n\nChange-Id: Iee497028b11565cd4eb1c98e8c42d1960a0b7ac8\n'}, {'number': 3, 'created': '2018-09-18 08:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/19121f7ab98b5446f59f08f31c5cac45f9331cbc', 'message': 'Modify Kibana button to support events\n\nChange-Id: Iee497028b11565cd4eb1c98e8c42d1960a0b7ac8\n'}, {'number': 4, 'created': '2018-10-10 08:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/b44f766f8d718bdab78a9668d66b9d25436b720a', 'message': 'Modify Kibana button to support events\n\nStory: 2003458\nTask: 27035\n\nChange-Id: Iee497028b11565cd4eb1c98e8c42d1960a0b7ac8\n'}, {'number': 5, 'created': '2018-10-18 09:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/f425fe44f23b50fc930ff4e0e7cbf6c4af43c5d4', 'message': 'Modify Kibana button to support events\n\nChange-Id: Iee497028b11565cd4eb1c98e8c42d1960a0b7ac8\n'}, {'number': 6, 'created': '2018-10-18 13:02:33.000000000', 'files': ['monitoring/overview/views.py', 'monitoring/overview/templates/overview/index.html', 'monitoring/config/local_settings.py'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/a22ccca5809921a8d5adae635523d5b3a504dc5b', 'message': 'Modify Kibana button to support events\n\nStory: 2003458\nTask: 27035\n\nChange-Id: Iee497028b11565cd4eb1c98e8c42d1960a0b7ac8\n'}]",2,603036,a22ccca5809921a8d5adae635523d5b3a504dc5b,24,5,6,26141,,,0,"Modify Kibana button to support events

Story: 2003458
Task: 27035

Change-Id: Iee497028b11565cd4eb1c98e8c42d1960a0b7ac8
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/36/603036/6 && git format-patch -1 --stdout FETCH_HEAD,"['monitoring/overview/templates/overview/index.html', 'monitoring/overview/views.py', 'monitoring/config/local_settings.py']",3,b211bd0bc2150c94df865d9d2d912ed97f219a66,events,"ENABLE_LOG_MANAGEMENT_BUTTON = getattr(settings, 'ENABLE_LOG_MANAGEMENT_BUTTON', False) ENABLE_EVENT_MANAGEMENT_BUTTON = getattr(settings, 'ENABLE_EVENT_MANAGEMENT_BUTTON', False) ","ENABLE_KIBANA_BUTTON = getattr(settings, 'ENABLE_KIBANA_BUTTON', False)",16,5
openstack%2Fopenstacksdk~master~I80e4ac780d6d14ba0a73ceca0e410235707817bb,openstack/openstacksdk,master,I80e4ac780d6d14ba0a73ceca0e410235707817bb,Add stackviz processing to functional tests,MERGED,2018-10-12 21:08:49.000000000,2018-10-18 15:51:33.000000000,2018-10-18 15:51:33.000000000,"[{'_account_id': 3099}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-12 21:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a9c5e8b30dc5e63de709e70e096fb6e303cc9558', 'message': ""Add stackviz processing to functional tests\n\nWe have devstack-based functional tests that use subunit. Let's get\nourselves some stackviz!\n\nChange-Id: I80e4ac780d6d14ba0a73ceca0e410235707817bb\n""}, {'number': 2, 'created': '2018-10-13 12:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c4b0986bbfe344ac9b0ed27312a46e589f8a8079', 'message': ""Add stackviz processing to functional tests\n\nWe have devstack-based functional tests that use subunit. Let's get\nourselves some stackviz!\n\nChange-Id: I80e4ac780d6d14ba0a73ceca0e410235707817bb\n""}, {'number': 3, 'created': '2018-10-16 13:10:31.000000000', 'files': ['.zuul.yaml', 'playbooks/devstack/post.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d36e835deb80c8818b301c3f183090a3102a0f86', 'message': ""Add stackviz processing to functional tests\n\nWe have devstack-based functional tests that use subunit. Let's get\nourselves some stackviz!\n\nChange-Id: I80e4ac780d6d14ba0a73ceca0e410235707817bb\n""}]",1,610167,d36e835deb80c8818b301c3f183090a3102a0f86,12,3,3,2,,,0,"Add stackviz processing to functional tests

We have devstack-based functional tests that use subunit. Let's get
ourselves some stackviz!

Change-Id: I80e4ac780d6d14ba0a73ceca0e410235707817bb
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/67/610167/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/devstack/post.yaml']",2,a9c5e8b30dc5e63de709e70e096fb6e303cc9558,stackviz, - process-stackviz,,3,0
openstack%2Fnetworking-ovn~master~I529d82b28be9bb93649f19034027c41ee1aff08b,openstack/networking-ovn,master,I529d82b28be9bb93649f19034027c41ee1aff08b,Fix ovn db sync tool to support Port Groups,MERGED,2018-09-03 15:45:58.000000000,2018-10-18 15:51:04.000000000,2018-10-18 15:51:04.000000000,"[{'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 10237}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-09-03 15:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/39d8d2d24df6588748cdadabf4fbe47788a64eb2', 'message': 'WIP: Fix ovn db sync with port groups\n\nIf port groups are supported, the sync script will still create\naddress sets and ACLs based on the old implementation.\n\nWIP - DNM\n\nChange-Id: I529d82b28be9bb93649f19034027c41ee1aff08b\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 2, 'created': '2018-09-04 10:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e63a595cc938ddb2b122839170a84e015d0466a9', 'message': 'WIP: Fix ovn db sync with port groups\n\nIf port groups are supported, the sync script will still create\naddress sets and ACLs based on the old implementation.\n\nWIP - DNM\n\nChange-Id: I529d82b28be9bb93649f19034027c41ee1aff08b\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 3, 'created': '2018-09-06 10:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/143cda21a1a1bb630b3814fbca46ff0ed1cc2870', 'message': 'WIP: Fix ovn db sync with port groups\n\nIf port groups are supported, the sync script will still create\naddress sets and ACLs based on the old implementation.\n\nWIP - DNM\n\nChange-Id: I529d82b28be9bb93649f19034027c41ee1aff08b\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 4, 'created': '2018-09-06 10:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d7bd154fcd7e23134aafc9fbb78c6d4c186f7654', 'message': 'WIP: Fix ovn db sync with port groups\n\nIf port groups are supported, the sync script will still create\naddress sets and ACLs based on the old implementation.\n\nWIP - DNM\n\nChange-Id: I529d82b28be9bb93649f19034027c41ee1aff08b\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 5, 'created': '2018-09-06 16:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7327b9fe028532c0305567f62f447331f5996a08', 'message': 'WIP: Fix ovn db sync with port groups\n\nIf port groups are supported, the sync script will still create\naddress sets and ACLs based on the old implementation.\n\nWIP - DNM\n\nChange-Id: I529d82b28be9bb93649f19034027c41ee1aff08b\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 6, 'created': '2018-09-21 14:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/80f05ded1a95700ab782b51d0bebf306466bdfd2', 'message': 'WIP: Fix ovn db sync with port groups\n\nIf port groups are supported, the sync script will still create\naddress sets and ACLs based on the old implementation.\n\nWIP - DNM\n\nChange-Id: I529d82b28be9bb93649f19034027c41ee1aff08b\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 7, 'created': '2018-10-06 10:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c967d75ae4b03360e0bf06dc8747266e540e64b2', 'message': 'WIP: Fix ovn db sync with port groups\n\nIf port groups are supported, the sync script will still create\naddress sets and ACLs based on the old implementation.\n\nWIP - DNM\n\nChange-Id: I529d82b28be9bb93649f19034027c41ee1aff08b\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 8, 'created': '2018-10-15 09:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ed443432c46f7f1cd319939875fb5155b1be669e', 'message': 'WIP: Fix ovn db sync with port groups\n\nIf port groups are supported, the sync script will still create\naddress sets and ACLs based on the old implementation.\nThis patch is taking into account whether Port Groups are supported\nand create the right resources accordingly.\n\nWIP - DNM\n\nChange-Id: I529d82b28be9bb93649f19034027c41ee1aff08b\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 9, 'created': '2018-10-16 07:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5da60a6714bdf664836d98f917550d4caf3691c1', 'message': 'Fix ovn db sync tool to support Port Groups\n\nIf port groups are supported, the sync script will still create\naddress sets and ACLs based on the old implementation.\nThis patch is taking into account whether Port Groups are supported\nand create the right resources accordingly.\n\nCloses-Bug: #1798028\n\nChange-Id: I529d82b28be9bb93649f19034027c41ee1aff08b\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 10, 'created': '2018-10-16 15:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b37f0f5ebefd6153c1bdce61152ccfe63a36cc47', 'message': 'Fix ovn db sync tool to support Port Groups\n\nIf port groups are supported, the sync script will still create\naddress sets and ACLs based on the old implementation.\nThis patch is taking into account whether Port Groups are supported\nand create the right resources accordingly.\n\nCloses-Bug: #1798028\n\nChange-Id: I529d82b28be9bb93649f19034027c41ee1aff08b\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 11, 'created': '2018-10-16 15:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/35deb30d412d5ae0ab751b57e138e261ac98ccb9', 'message': 'Fix ovn db sync tool to support Port Groups\n\nIf port groups are supported, the sync script will still create\naddress sets and ACLs based on the old implementation.\nThis patch is taking into account whether Port Groups are supported\nand create the right resources accordingly.\n\nCloses-Bug: #1798028\n\nChange-Id: I529d82b28be9bb93649f19034027c41ee1aff08b\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 12, 'created': '2018-10-17 13:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/cce58ae5a6c9aab74c10e90ac90ce8f14d3b9f6f', 'message': 'Fix ovn db sync tool to support Port Groups\n\nIf port groups are supported, the sync script will still create\naddress sets and ACLs based on the old implementation.\nThis patch is taking into account whether Port Groups are supported\nand create the right resources accordingly.\n\nCloses-Bug: #1798028\n\nChange-Id: I529d82b28be9bb93649f19034027c41ee1aff08b\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 13, 'created': '2018-10-17 13:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/cc83ee9e1f4f4035bb2798f7b3a086c27dd5747a', 'message': 'Fix ovn db sync tool to support Port Groups\n\nIf port groups are supported, the sync script will still create\naddress sets and ACLs based on the old implementation.\nThis patch is taking into account whether Port Groups are supported\nand create the right resources accordingly.\n\nCloses-Bug: #1798028\n\nChange-Id: I529d82b28be9bb93649f19034027c41ee1aff08b\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 14, 'created': '2018-10-18 07:35:20.000000000', 'files': ['networking_ovn/ovsdb/ovn_api.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/tests/functional/test_ovn_db_sync.py', 'networking_ovn/ovn_db_sync.py', 'networking_ovn/tests/unit/test_ovn_db_sync.py', 'networking_ovn/tests/unit/fakes.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ebd5b06f554d06d7e4b2fe78dca1eaf5cd007c86', 'message': 'Fix ovn db sync tool to support Port Groups\n\nIf port groups are supported, the sync script will still create\naddress sets and ACLs based on the old implementation.\nThis patch is taking into account whether Port Groups are supported\nand create the right resources accordingly.\n\nCloses-Bug: #1798028\n\nChange-Id: I529d82b28be9bb93649f19034027c41ee1aff08b\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}]",35,599426,ebd5b06f554d06d7e4b2fe78dca1eaf5cd007c86,46,5,14,23804,,,0,"Fix ovn db sync tool to support Port Groups

If port groups are supported, the sync script will still create
address sets and ACLs based on the old implementation.
This patch is taking into account whether Port Groups are supported
and create the right resources accordingly.

Closes-Bug: #1798028

Change-Id: I529d82b28be9bb93649f19034027c41ee1aff08b
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/26/599426/8 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ovn_db_sync.py'],1,39d8d2d24df6588748cdadabf4fbe47788a64eb2,fix_ovn_sync," sgnames_to_add = sgnames_to_delete = sgs_to_update = [] if self.ovn_api.is_port_groups_supported(): # If Port Groups are supported, we just need to delete all Address # Sets from NB database. sgnames_to_delete = nb_sgs.keys() else: neutron_sgs = {} with ctx.session.begin(subtransactions=True): db_sgs = self.core_plugin.get_security_groups(ctx) db_ports = self.core_plugin.get_ports(ctx) for sg in db_sgs: for ip_version in ['ip4', 'ip6']: name = utils.ovn_addrset_name(sg['id'], ip_version) neutron_sgs[name] = { 'name': name, 'addresses': [], 'external_ids': {const.OVN_SG_EXT_ID_KEY: sg['id']}} for port in db_ports: sg_ids = utils.get_lsp_security_groups(port) if port.get('fixed_ips') and sg_ids: addresses = acl_utils.acl_port_ips(port) for sg_id in sg_ids: for ip_version in addresses: name = utils.ovn_addrset_name(sg_id, ip_version) neutron_sgs[name]['addresses'].extend( addresses[ip_version]) sgnames_to_add, sgnames_to_delete, sgs_to_update =\ self.compute_address_set_difference(neutron_sgs, nb_sgs) def _sync_acls_port_groups(self, ctx): # If Port Groups are supported, the ACLs in the system will equal # the number of subnets (for DHCP) plus the number of SG rules. neutron_acls = [] filters = {'enable_dhcp': [1]} for subnet in self.core_plugin.get_subnets(ctx, filters=filters): pg_name = utils.ovn_port_group_name(subnet['id']) neutron_acls += acl_utils.add_acls_for_subnet_port_group( self.ovn_api, pg_name, subnet) for sgr in self.core_plugin.get_security_group_rules(ctx): pg_name = utils.ovn_port_group_name(sgr['security_group_id']) neutron_acls.append(acl_utils._add_sg_rule_acl_for_port_group( pg_name, sgr, self.ovn_api)) neutron_acls += acl_utils.add_acls_for_drop_port_group( const.OVN_DROP_PORT_GROUP_NAME) ovn_acls = self.ovn_api.db_list_rows('ACL').execute() ovn_acls_cp = list(ovn_acls) neutron_acls_cp = list(neutron_acls) # Remove the common ones acl_string = {} for na in list(neutron_acls): found = False na.pop('port_group') na.pop(const.OVN_SG_RULE_EXT_ID_KEY, None) for ovn_a in ovn_acls: for acl_key in getattr(ovn_a, ""_data"", {}): acl_string[acl_key] = getattr(ovn_a, acl_key) acl_string.pop('meter') acl_string.pop('external_ids') if na == acl_string: neutron_acls_cp.remove(na) # ovn_acls_cp.remove(ovn_a) break # TODO ^ change this. To remove ACLs I need the PG id (pg_acl_del) # Same goes for adding them. #txn.add(self._nb_idl.pg_acl_add(**acl)) self._sync_acls_port_groups(ctx) "," neutron_sgs = {} with ctx.session.begin(subtransactions=True): db_sgs = self.core_plugin.get_security_groups(ctx) db_ports = self.core_plugin.get_ports(ctx) for sg in db_sgs: for ip_version in ['ip4', 'ip6']: name = utils.ovn_addrset_name(sg['id'], ip_version) neutron_sgs[name] = { 'name': name, 'addresses': [], 'external_ids': {const.OVN_SG_EXT_ID_KEY: sg['id']}} for port in db_ports: sg_ids = utils.get_lsp_security_groups(port) if port.get('fixed_ips') and sg_ids: addresses = acl_utils.acl_port_ips(port) for sg_id in sg_ids: for ip_version in addresses: name = utils.ovn_addrset_name(sg_id, ip_version) neutron_sgs[name]['addresses'].extend( addresses[ip_version]) sgnames_to_add, sgnames_to_delete, sgs_to_update =\ self.compute_address_set_difference(neutron_sgs, nb_sgs)",72,24
openstack%2Fkuryr-kubernetes~master~I73715c14641236dead437357036e227e3e29f041,openstack/kuryr-kubernetes,master,I73715c14641236dead437357036e227e3e29f041,Enable `--restart on-failure` for K8s containers,MERGED,2018-10-16 15:11:57.000000000,2018-10-18 15:49:53.000000000,2018-10-18 15:49:53.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 21041}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-10-16 15:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f8da34d92c795c18a7af965f05985248660e7835', 'message': ""Enable `--restart on-failure` for K8s containers\n\nTo workaround gate issues with etcd performance that were causing\nkubernetes-controller-manager and kubernetes-scheduler pods to die in\nthe gate, this commit adds `--restart on-restart` to Kubernetes\ncontainers we start in DevStack plugin.\n\nMinor issue here is that watching the logs will not get restarted\nbecause of DevStack's inability to set restart policy for system.d\nservices.\n\nChange-Id: I73715c14641236dead437357036e227e3e29f041\nCloses-Bug: 1798120\n""}, {'number': 2, 'created': '2018-10-17 08:32:29.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/72d2d0567e1af16aa3464d66899d1bc9891cbdd7', 'message': ""Enable `--restart on-failure` for K8s containers\n\nTo workaround gate issues with etcd performance that were causing\nkubernetes-controller-manager and kubernetes-scheduler pods to die in\nthe gate, this commit adds `--restart on-failure` to Kubernetes\ncontainers we start in DevStack plugin.\n\nMinor issue here is that watching the logs will not get restarted\nbecause of DevStack's inability to set restart policy for system.d\nservices.\n\nChange-Id: I73715c14641236dead437357036e227e3e29f041\nCloses-Bug: 1798120\n""}]",2,611007,72d2d0567e1af16aa3464d66899d1bc9891cbdd7,13,6,2,11600,,,0,"Enable `--restart on-failure` for K8s containers

To workaround gate issues with etcd performance that were causing
kubernetes-controller-manager and kubernetes-scheduler pods to die in
the gate, this commit adds `--restart on-failure` to Kubernetes
containers we start in DevStack plugin.

Minor issue here is that watching the logs will not get restarted
because of DevStack's inability to set restart policy for system.d
services.

Change-Id: I73715c14641236dead437357036e227e3e29f041
Closes-Bug: 1798120
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/07/611007/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,f8da34d92c795c18a7af965f05985248660e7835,bug/1798120, --restart on-failure \ --restart on-failure \ --restart on-failure \,,3,0
openstack%2Ftripleo-heat-templates~master~I213abb3fe4608f9a4b6b1ce4956feb6e2766088f,openstack/tripleo-heat-templates,master,I213abb3fe4608f9a4b6b1ce4956feb6e2766088f,Fix haproxy cert inject for check mode,ABANDONED,2018-10-01 18:25:43.000000000,2018-10-18 15:44:28.000000000,,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-01 18:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9e43c0fbfcdae52729689811cc93d8768a6381a9', 'message': 'Fix haproxy cert inject for check mode\n\nFixes the ""Assign bootstrap node"" task so that it runs under check mode\nso that the bootstrap_node variable is created. Otherwise, the\nsubsequent tasks that use that variable fail during check mode.\n\nChange-Id: I213abb3fe4608f9a4b6b1ce4956feb6e2766088f\nCloses-Bug: #1795488\n'}, {'number': 2, 'created': '2018-10-03 11:47:27.000000000', 'files': ['puppet/services/haproxy-public-tls-inject.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/72dcf19b88543125f9c77a6e2b45e57e6dbc20c6', 'message': 'Fix haproxy cert inject for check mode\n\nFixes the ""Assign bootstrap node"" task so that it runs under check mode\nso that the bootstrap_node variable is created. Otherwise, the\nsubsequent tasks that use that variable fail during check mode.\n\nChange-Id: I213abb3fe4608f9a4b6b1ce4956feb6e2766088f\nCloses-Bug: #1795488\n'}]",0,607019,72dcf19b88543125f9c77a6e2b45e57e6dbc20c6,25,4,2,7144,,,0,"Fix haproxy cert inject for check mode

Fixes the ""Assign bootstrap node"" task so that it runs under check mode
so that the bootstrap_node variable is created. Otherwise, the
subsequent tasks that use that variable fail during check mode.

Change-Id: I213abb3fe4608f9a4b6b1ce4956feb6e2766088f
Closes-Bug: #1795488
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/607019/2 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/haproxy-public-tls-inject.yaml'],1,9e43c0fbfcdae52729689811cc93d8768a6381a9,check-mode, check_mode: no,,1,0
openstack%2Fpatrole~master~I4c73aaeba1907987306b210d2afef5b6a395e68b,openstack/patrole,master,I4c73aaeba1907987306b210d2afef5b6a395e68b,Fix create_rbac_policy tenant_id and network_id usage,MERGED,2018-10-17 16:40:30.000000000,2018-10-18 15:35:35.000000000,2018-10-18 15:35:35.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-10-17 16:40:30.000000000', 'files': ['patrole_tempest_plugin/tests/api/network/test_rbac_policies_rbac.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/28c9c3a2c7c3d07b7f12d6c8e4ad33853e27be3f', 'message': 'Fix create_rbac_policy tenant_id and network_id usage\n\nThis patchset fixes mistake where we pass params, but use their origin.\n\nChange-Id: I4c73aaeba1907987306b210d2afef5b6a395e68b\n'}]",0,611385,28c9c3a2c7c3d07b7f12d6c8e4ad33853e27be3f,8,4,1,16274,,,0,"Fix create_rbac_policy tenant_id and network_id usage

This patchset fixes mistake where we pass params, but use their origin.

Change-Id: I4c73aaeba1907987306b210d2afef5b6a395e68b
",git fetch https://review.opendev.org/openstack/patrole refs/changes/85/611385/1 && git format-patch -1 --stdout FETCH_HEAD,['patrole_tempest_plugin/tests/api/network/test_rbac_policies_rbac.py'],1,28c9c3a2c7c3d07b7f12d6c8e4ad33853e27be3f,," target_tenant=tenant_id, object_id=network_id,"," target_tenant=self.tenant_id, object_id=self.network_id,",2,2
openstack%2Foctavia-tempest-plugin~master~Id6dfd80f04624e845807f2a20f2f4e816a778415,openstack/octavia-tempest-plugin,master,Id6dfd80f04624e845807f2a20f2f4e816a778415,Raise build_timeout from 60 to 300,MERGED,2018-09-30 01:21:48.000000000,2018-10-18 15:34:29.000000000,2018-10-18 15:34:29.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-30 01:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c57766024911f3c9f5c7eb938da801c2994728ce', 'message': 'Raise build_timeout from 60 to 300\n\nA lot of build timeout was seen, for example:\nhttp://logs.openstack.org/17/606417/1/check \\\n/octavia-v2-dsvm-scenario-centos-7/0b4c23a/testr_results.html.gz\n\nTry to raise the default and see if it helps.\n\nChange-Id: Id6dfd80f04624e845807f2a20f2f4e816a778415\n'}, {'number': 2, 'created': '2018-09-30 03:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/d85118a425d2b3138a30591f206362608fc87c02', 'message': 'Raise build_timeout from 60 to 300\n\nA lot of build timeout was seen, for example:\nhttp://logs.openstack.org/17/606417/1/check \\\n/octavia-v2-dsvm-scenario-centos-7/0b4c23a/testr_results.html.gz\n\nTry to raise the default and see if it helps.\n\nChange-Id: Id6dfd80f04624e845807f2a20f2f4e816a778415\n'}, {'number': 3, 'created': '2018-09-30 08:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e3c214713b38bdcdd7aafa370e2052cb205cb892', 'message': 'Raise build_timeout from 60 to 300\n\nA lot of build timeout was seen, for example:\nhttp://logs.openstack.org/17/606417/1/check \\\n/octavia-v2-dsvm-scenario-centos-7/0b4c23a/testr_results.html.gz\n\nTry to raise the default and see if it helps.\n\nChange-Id: Id6dfd80f04624e845807f2a20f2f4e816a778415\n'}, {'number': 4, 'created': '2018-10-01 03:43:07.000000000', 'files': ['octavia_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2b95f2f42146b667a85f95bb3cc8b0ba912cb1f4', 'message': 'Raise build_timeout from 60 to 300\n\nA lot of build timeout was seen, for example:\nhttp://logs.openstack.org/17/606417/1/check \\\n/octavia-v2-dsvm-scenario-centos-7/0b4c23a/testr_results.html.gz\n\nTry to raise the default and see if it helps.\n\nChange-Id: Id6dfd80f04624e845807f2a20f2f4e816a778415\n'}]",0,606741,2b95f2f42146b667a85f95bb3cc8b0ba912cb1f4,31,5,4,2245,,,0,"Raise build_timeout from 60 to 300

A lot of build timeout was seen, for example:
http://logs.openstack.org/17/606417/1/check \
/octavia-v2-dsvm-scenario-centos-7/0b4c23a/testr_results.html.gz

Try to raise the default and see if it helps.

Change-Id: Id6dfd80f04624e845807f2a20f2f4e816a778415
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/41/606741/4 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/config.py'],1,c57766024911f3c9f5c7eb938da801c2994728ce,raise-build-timeout," default=300,"," default=60,",1,1
openstack%2Fcongress~master~I1795410892342b771ad3dbae9f80fb8144c48b5a,openstack/congress,master,I1795410892342b771ad3dbae9f80fb8144c48b5a,DNM - troubleshooting gate,ABANDONED,2018-10-11 17:03:38.000000000,2018-10-18 15:20:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-11 17:03:38.000000000', 'files': ['dummy/dummy'], 'web_link': 'https://opendev.org/openstack/congress/commit/7cbe0c50caff452196edfe4284fd3a1ba2713e07', 'message': 'DNM - troubleshooting gate\n\nChange-Id: I1795410892342b771ad3dbae9f80fb8144c48b5a\n'}]",0,609767,7cbe0c50caff452196edfe4284fd3a1ba2713e07,3,1,1,18591,,,0,"DNM - troubleshooting gate

Change-Id: I1795410892342b771ad3dbae9f80fb8144c48b5a
",git fetch https://review.opendev.org/openstack/congress refs/changes/67/609767/1 && git format-patch -1 --stdout FETCH_HEAD,['dummy/dummy'],1,7cbe0c50caff452196edfe4284fd3a1ba2713e07,,,,0,0
openstack%2Ftraining-guides~master~If835f5c01f1a58539b61c4b7bfed29a4009a9f9c,openstack/training-guides,master,If835f5c01f1a58539b61c4b7bfed29a4009a9f9c,Add the missing markup for the hyperlink title,ABANDONED,2018-08-24 09:21:13.000000000,2018-10-18 15:18:58.000000000,,"[{'_account_id': 14482}, {'_account_id': 15334}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-24 09:21:13.000000000', 'files': ['doc/upstream-training/source/slides/workflow-reviewing.rst'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/00b4abb598ec9719205a720823df559693181f1c', 'message': 'Add the missing markup for the hyperlink title\n\nChange-Id: If835f5c01f1a58539b61c4b7bfed29a4009a9f9c\n'}]",0,596260,00b4abb598ec9719205a720823df559693181f1c,6,4,1,14151,,,0,"Add the missing markup for the hyperlink title

Change-Id: If835f5c01f1a58539b61c4b7bfed29a4009a9f9c
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/60/596260/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/upstream-training/source/slides/workflow-reviewing.rst'],1,00b4abb598ec9719205a720823df559693181f1c,,`How to Use the Sandbox Projects <https://docs.openstack.org/contributors/code-and-documentation/sandbox-house-rules.html>`_,https://docs.openstack.org/contributors/code-and-documentation/sandbox-house-rules.html,2,1
openstack%2Fos-api-ref~master~I1cb9b6cf7fd38ce1ae09e35af0953885a6318082,openstack/os-api-ref,master,I1cb9b6cf7fd38ce1ae09e35af0953885a6318082,Update sphinx extension logging,MERGED,2018-10-16 20:14:45.000000000,2018-10-18 15:15:45.000000000,2018-10-18 15:15:45.000000000,"[{'_account_id': 6547}, {'_account_id': 20156}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 20:14:45.000000000', 'files': ['os_api_ref/http_codes.py'], 'web_link': 'https://opendev.org/openstack/os-api-ref/commit/ba9b0192a3c21b2eff919b2218193ada8355fcd3', 'message': 'Update sphinx extension logging\n\nSphinx 1.6 deprecated using the application object to perform logging\nand it will be removed in the upcoming 2.0 release. This updates our\nextensions to use the recommended sphinx.util.logging instead.\n\nChange-Id: I1cb9b6cf7fd38ce1ae09e35af0953885a6318082\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,611157,ba9b0192a3c21b2eff919b2218193ada8355fcd3,7,3,1,11904,,,0,"Update sphinx extension logging

Sphinx 1.6 deprecated using the application object to perform logging
and it will be removed in the upcoming 2.0 release. This updates our
extensions to use the recommended sphinx.util.logging instead.

Change-Id: I1cb9b6cf7fd38ce1ae09e35af0953885a6318082
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/os-api-ref refs/changes/57/611157/1 && git format-patch -1 --stdout FETCH_HEAD,['os_api_ref/http_codes.py'],1,ba9b0192a3c21b2eff919b2218193ada8355fcd3,sphinx-logging,"from sphinx.util import loggingLOG = logging.getLogger(__name__) # LOG.info(""Fpath: %s"" % fpath) LOG.warning( LOG.warning(exc) # LOG.info(""%s"" % str(self.status_defs)) # LOG.info(""Title %s, messages %s"" % (title, messages)) LOG.warning( # LOG.info(""Parsed content is: %s"" % self.yaml) LOG.warning(""Failure on key: %s, values: %s. %s"" % (code, desc, exc))"," # self.app.info(""Fpath: %s"" % fpath) self.app.warn( self.app.warn(exc) self.app = self.env.app # self.app.info(""%s"" % str(self.status_defs)) # self.app.info(""Title %s, messages %s"" % (title, messages)) self.app.warn( # self.app.info(""Parsed content is: %s"" % self.yaml) self.app.warn(""Failure on key: %s, values: %s. %s"" % (code, desc, exc))",12,10
openstack%2Fopenstack-helm-infra~master~I8cc354b963dc27126120262782c1a9e4e043de7f,openstack/openstack-helm-infra,master,I8cc354b963dc27126120262782c1a9e4e043de7f,[DNM] Test building helm charts in a JIT fashion,ABANDONED,2018-10-17 14:22:10.000000000,2018-10-18 15:12:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-17 14:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5ce8d2e7aa8b53ac7e10d4ba13a0a4e871b34e46', 'message': '[DNM] Test building helm charts in a JIT fashion\n\nChange-Id: I8cc354b963dc27126120262782c1a9e4e043de7f\n'}, {'number': 2, 'created': '2018-10-17 18:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/01a15f161285114c2432534d2d900d983e34f434', 'message': '[DNM] Test building helm charts in a JIT fashion\n\nChange-Id: I8cc354b963dc27126120262782c1a9e4e043de7f\n'}, {'number': 3, 'created': '2018-10-18 06:34:58.000000000', 'files': ['roles/build-helm-packages/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5cdbac501f5228b7a40402718ddc8bac9708e0ca', 'message': '[DNM] Test building helm charts in a JIT fashion\n\nChange-Id: I8cc354b963dc27126120262782c1a9e4e043de7f\n'}]",0,611333,5cdbac501f5228b7a40402718ddc8bac9708e0ca,6,1,3,17068,,,0,"[DNM] Test building helm charts in a JIT fashion

Change-Id: I8cc354b963dc27126120262782c1a9e4e043de7f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/33/611333/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-helm-packages/tasks/main.yaml'],1,5ce8d2e7aa8b53ac7e10d4ba13a0a4e871b34e46,gate-cleaning," when: - ""(build_all_charts | default(False)) | bool""",,2,0
openstack%2Fopenstack-manuals~master~I7195cd3b566e9bac67452ec5174687e734fb53bc,openstack/openstack-manuals,master,I7195cd3b566e9bac67452ec5174687e734fb53bc,Remove obsolete rstbash and '.. path',MERGED,2018-10-16 19:23:15.000000000,2018-10-18 15:09:14.000000000,2018-10-18 15:09:14.000000000,"[{'_account_id': 19779}, {'_account_id': 20156}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 19:23:15.000000000', 'files': ['doc/install-guide/source/environment-networking-controller.rst', 'doc/install-guide/source/environment-ntp-other.rst', 'doc/install-guide/source/shared/edit_hosts_file.txt', 'doc/install-guide/source/environment-ntp-controller.rst', 'doc/doc-contrib-guide/source/rst-conv.rst', 'doc/doc-contrib-guide/source/rst-conv/rst2bash.rst', 'doc/install-guide/source/environment-networking-compute.rst', 'doc/install-guide/source/environment-sql-database-obs.rst', 'doc/doc-contrib-guide/source/rst-conv/source-code.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f80792b1ce04b8ae9683728b5fd1d226060fc51d', 'message': 'Remove obsolete rstbash and \'.. path\'\n\nThe rst2bash tool used the "".. path"" syntax to update files. Since we\'re\nnot using rst2bash anymore, remove all of this.\n\nRemove also the rst2bash documentation.\n\nChange-Id: I7195cd3b566e9bac67452ec5174687e734fb53bc\n'}]",0,611136,f80792b1ce04b8ae9683728b5fd1d226060fc51d,7,3,1,6547,,,0,"Remove obsolete rstbash and '.. path'

The rst2bash tool used the "".. path"" syntax to update files. Since we're
not using rst2bash anymore, remove all of this.

Remove also the rst2bash documentation.

Change-Id: I7195cd3b566e9bac67452ec5174687e734fb53bc
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/36/611136/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/install-guide/source/environment-networking-controller.rst', 'doc/install-guide/source/environment-ntp-other.rst', 'doc/install-guide/source/shared/edit_hosts_file.txt', 'doc/doc-contrib-guide/source/rst-conv.rst', 'doc/doc-contrib-guide/source/rst-conv/rst2bash.rst', 'doc/install-guide/source/environment-ntp-controller.rst', 'doc/install-guide/source/environment-networking-compute.rst', 'doc/install-guide/source/environment-sql-database-obs.rst', 'doc/doc-contrib-guide/source/rst-conv/source-code.rst']",9,f80792b1ce04b8ae9683728b5fd1d226060fc51d,path,as described in the :ref:`non-standard-block` section.,"as described in the :ref:`non-standard-block` section. Make sure to close these tags with ``end``. Additionally, add the ``path`` tag to provide the parser with the path of the configuration files. This should allow the parser to parse the markup syntax to Bash. .. note:: The ``end`` tag allows the parser to identify the scope of code blocks. The ``path`` tag allows the parser to identify the path of the config file. For more information, refer to the :doc:`rst2bash` section. These changes are mandatory only for the installation guides. .. path /path/to/config/file .. path /path/to/config/file",1,81
openstack%2Fopenstack-manuals~master~I0cc92e7fdab8f8af4ae4c1432f330d7e727db231,openstack/openstack-manuals,master,I0cc92e7fdab8f8af4ae4c1432f330d7e727db231,Enforce latex_use_xindy as False for PDF builds,ABANDONED,2018-09-28 16:45:06.000000000,2018-10-18 15:08:39.000000000,,"[{'_account_id': 6547}, {'_account_id': 14482}, {'_account_id': 17765}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-28 16:45:06.000000000', 'files': ['doc/install-guide/source/conf.py', 'doc/image-guide/source/conf.py', 'doc/arch-design/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/bcbf1141aa357883799ce19c32a5e10d377855e0', 'message': 'Enforce latex_use_xindy as False for PDF builds\n\nSphinx>=1.8.0 uses latex_use_xindy option with True by default,\nwhich results in PDF build failures in Xenial.\n\nChange-Id: I0cc92e7fdab8f8af4ae4c1432f330d7e727db231\nRelated-Bug: #1792237\n'}]",3,606136,bcbf1141aa357883799ce19c32a5e10d377855e0,10,4,1,14482,,,0,"Enforce latex_use_xindy as False for PDF builds

Sphinx>=1.8.0 uses latex_use_xindy option with True by default,
which results in PDF build failures in Xenial.

Change-Id: I0cc92e7fdab8f8af4ae4c1432f330d7e727db231
Related-Bug: #1792237
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/36/606136/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/install-guide/source/conf.py', 'doc/image-guide/source/conf.py', 'doc/arch-design/source/conf.py']",3,bcbf1141aa357883799ce19c32a5e10d377855e0,bug/1792237,"# Sphinx >= 1.8.0 uses xindy by default, which is not compatible with Xenial latex_use_xindy = False ",,9,0
openstack%2Fopenstackdocstheme~master~I41c2a7d63ba7796aa3cf3cc001e077d5de28a14d,openstack/openstackdocstheme,master,I41c2a7d63ba7796aa3cf3cc001e077d5de28a14d,Make a bare-bones starlingxdocs theme,MERGED,2018-10-16 16:26:37.000000000,2018-10-18 15:05:00.000000000,2018-10-18 15:05:00.000000000,"[{'_account_id': 970}, {'_account_id': 6547}, {'_account_id': 20156}, {'_account_id': 22348}, {'_account_id': 28285}]","[{'number': 1, 'created': '2018-10-16 16:26:37.000000000', 'files': ['openstackdocstheme/theme/starlingxdocs/header.html', 'openstackdocstheme/theme/starlingxdocs/titlerow.html', 'openstackdocstheme/theme/starlingxdocs/sidebartoc_menu_apiref.html', 'releasenotes/notes/add-starlingxdocs-10a33318f8630486.yaml', 'openstackdocstheme/theme/starlingxdocs/footer.html', 'tox.ini', 'openstackdocstheme/theme/starlingxdocs/sidebartoc_menu.html'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/4ed01cd69c1535cfa64befac5c00f016db9b5eb5', 'message': 'Make a bare-bones starlingxdocs theme\n\nWe can use this as a starting point for further changes.  These files\nare copies of those from openstacdocs with most of the openstac-specific\nbits removed.  This way we can track additional changes made as we progress.\n\nChange-Id: I41c2a7d63ba7796aa3cf3cc001e077d5de28a14d\nSigned-off-by: Dean Troyer <dtroyer@gmail.com>\n'}]",0,611078,4ed01cd69c1535cfa64befac5c00f016db9b5eb5,12,5,1,970,,,0,"Make a bare-bones starlingxdocs theme

We can use this as a starting point for further changes.  These files
are copies of those from openstacdocs with most of the openstac-specific
bits removed.  This way we can track additional changes made as we progress.

Change-Id: I41c2a7d63ba7796aa3cf3cc001e077d5de28a14d
Signed-off-by: Dean Troyer <dtroyer@gmail.com>
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/78/611078/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackdocstheme/theme/starlingxdocs/header.html', 'openstackdocstheme/theme/starlingxdocs/titlerow.html', 'openstackdocstheme/theme/starlingxdocs/sidebartoc_menu_apiref.html', 'releasenotes/notes/add-starlingxdocs-10a33318f8630486.yaml', 'openstackdocstheme/theme/starlingxdocs/footer.html', 'tox.ini', 'openstackdocstheme/theme/starlingxdocs/sidebartoc_menu.html']",7,4ed01cd69c1535cfa64befac5c00f016db9b5eb5,stx-minimal,"<button href=""#"" type=""button"" data-toggle=""dropdown"" class=""btn docs-sidebar-release-select"">StarlingX Documentation<i class=""fa fa-caret-down""></i></button> <ul class=""dropdown-menu docs-sidebar-dropdown"" role=""menu"" aria-labelledby=""dLabel""> <li role=""presentation"" class=""dropdown-header"">Guides</li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""http://docs.starlingx.io"">Install Guides</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""http://docs.starlingx.io/api-ref/"">API Guides</a></li> </ul> ",,144,2
openstack%2Frequirements~master~I556c3977cae50e662dd11ae6930569f89700022e,openstack/requirements,master,I556c3977cae50e662dd11ae6930569f89700022e,Install unzip for wheel build jobs,MERGED,2018-10-16 16:20:24.000000000,2018-10-18 14:55:17.000000000,2018-10-18 14:55:17.000000000,"[{'_account_id': 4146}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2018-10-16 16:20:24.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d5472e7d964bb848b324093cd4361227bfb71ae5', 'message': 'Install unzip for wheel build jobs\n\nThis allows us to test that wheels produced by the wheel build jobs are\nvalid zipfiles before publishing them.\n\nChange-Id: I556c3977cae50e662dd11ae6930569f89700022e\n'}]",0,611074,d5472e7d964bb848b324093cd4361227bfb71ae5,18,5,1,4146,,,0,"Install unzip for wheel build jobs

This allows us to test that wheels produced by the wheel build jobs are
valid zipfiles before publishing them.

Change-Id: I556c3977cae50e662dd11ae6930569f89700022e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/74/611074/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,d5472e7d964bb848b324093cd4361227bfb71ae5,install-unzip,unzip [test],,1,0
openstack%2Fnetworking-ovn~master~I227ec967f450b26b12f19d687e94029e6ef1e558,openstack/networking-ovn,master,I227ec967f450b26b12f19d687e94029e6ef1e558,Attempt the migration to Port Groups from Maintenance worker,MERGED,2018-08-30 17:13:22.000000000,2018-10-18 14:51:56.000000000,2018-10-18 14:51:56.000000000,"[{'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 10237}, {'_account_id': 17776}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-08-30 17:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c4c003f95adbe57718dcd567adfc440e5f9f745d', 'message': ""Attempt the migration to Port Groups from Maintenance worker\n\nThe migration to port groups task is now moved to the maintenance\nworker. This worker holds a distributed lock within OVSDB so we'll\nmake sure that the migration will be performed just once.\n\nDuring an update/upgrade, it may happen that newer version of\nneutron-server can't migrate to Port Groups as the lock is held\nby other (old instance). When all servers have been updated, the\nmaintenance task will perform the migration just once on the cloud\nmaking sure that normal operation will happen.\n\nWe can remove this task in later cycles as this is just a migration\npath from Address Sets to Port Groups for implementing Neutron\nSecurity Groups.\n\nChange-Id: I227ec967f450b26b12f19d687e94029e6ef1e558\nCloses-Bug: #1789921\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 2, 'created': '2018-08-31 09:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/16ecea173a5750a71661186ecdae7c7fcf1e09bf', 'message': ""Attempt the migration to Port Groups from Maintenance worker\n\nThe migration to port groups task is now moved to the maintenance\nworker. This worker holds a distributed lock within OVSDB so we'll\nmake sure that the migration will be performed just once.\n\nDuring an update/upgrade, it may happen that newer version of\nneutron-server can't migrate to Port Groups as the lock is held\nby other (old instance). When all servers have been updated, the\nmaintenance task will perform the migration just once on the cloud\nmaking sure that normal operation will happen.\n\nWe can remove this task in later cycles as this is just a migration\npath from Address Sets to Port Groups for implementing Neutron\nSecurity Groups.\n\nChange-Id: I227ec967f450b26b12f19d687e94029e6ef1e558\nCloses-Bug: #1789921\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 3, 'created': '2018-08-31 14:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1fc5629df41b463fd974412cc6e23ac6895f8854', 'message': ""Attempt the migration to Port Groups from Maintenance worker\n\nThe migration to port groups task is now moved to the maintenance\nworker. This worker holds a distributed lock within OVSDB so we'll\nmake sure that the migration will be performed just once.\n\nDuring an update/upgrade, it may happen that newer version of\nneutron-server can't migrate to Port Groups as the lock is held\nby other (old instance). When all servers have been updated, the\nmaintenance task will perform the migration just once on the cloud\nmaking sure that normal operation will happen.\n\nWe can remove this task in later cycles as this is just a migration\npath from Address Sets to Port Groups for implementing Neutron\nSecurity Groups.\n\nTODO: functional test to validate the migration path to PGs.\n\nChange-Id: I227ec967f450b26b12f19d687e94029e6ef1e558\nCloses-Bug: #1789921\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 4, 'created': '2018-09-06 09:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/253fbd67859e5443ac1dfa82d422b75c4a5140dd', 'message': ""Attempt the migration to Port Groups from Maintenance worker\n\nThe migration to port groups task is now moved to the maintenance\nworker. This worker holds a distributed lock within OVSDB so we'll\nmake sure that the migration will be performed just once.\n\nDuring an update/upgrade, it may happen that newer version of\nneutron-server can't migrate to Port Groups as the lock is held\nby other (old instance). When all servers have been updated, the\nmaintenance task will perform the migration just once on the cloud\nmaking sure that normal operation will happen.\n\nWe can remove this task in later cycles as this is just a migration\npath from Address Sets to Port Groups for implementing Neutron\nSecurity Groups.\n\nTODO: functional test to validate the migration path to PGs.\n\nChange-Id: I227ec967f450b26b12f19d687e94029e6ef1e558\nCloses-Bug: #1789921\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 5, 'created': '2018-09-06 09:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ca20505691a055c9e4859207bcc891ff234ee49b', 'message': ""Attempt the migration to Port Groups from Maintenance worker\n\nThe migration to port groups task is now moved to the maintenance\nworker. This worker holds a distributed lock within OVSDB so we'll\nmake sure that the migration will be performed just once.\n\nDuring an update/upgrade, it may happen that newer version of\nneutron-server can't migrate to Port Groups as the lock is held\nby other (old instance). When all servers have been updated, the\nmaintenance task will perform the migration just once on the cloud\nmaking sure that normal operation will happen.\n\nWe can remove this task in later cycles as this is just a migration\npath from Address Sets to Port Groups for implementing Neutron\nSecurity Groups.\n\nTODO: functional test to validate the migration path to PGs.\n\nChange-Id: I227ec967f450b26b12f19d687e94029e6ef1e558\nCloses-Bug: #1789921\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 6, 'created': '2018-09-07 13:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/315fef4b18ffb4b83b0902fc6903874fef642dc9', 'message': ""Attempt the migration to Port Groups from Maintenance worker\n\nThe migration to port groups task is now moved to the maintenance\nworker. This worker holds a distributed lock within OVSDB so we'll\nmake sure that the migration will be performed just once.\n\nDuring an update/upgrade, it may happen that newer version of\nneutron-server can't migrate to Port Groups as the lock is held\nby other (old instance). When all servers have been updated, the\nmaintenance task will perform the migration just once on the cloud\nmaking sure that normal operation will happen.\n\nWe can remove this task in later cycles as this is just a migration\npath from Address Sets to Port Groups for implementing Neutron\nSecurity Groups.\n\nTODO: functional test to validate the migration path to PGs.\n\nChange-Id: I227ec967f450b26b12f19d687e94029e6ef1e558\nCloses-Bug: #1789921\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 7, 'created': '2018-09-28 12:52:18.000000000', 'files': ['networking_ovn/common/maintenance.py', 'networking_ovn/tests/unit/common/test_maintenance.py', 'networking_ovn/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/17b15f2901e5ac2e51948670cab0772279b5e2df', 'message': ""Attempt the migration to Port Groups from Maintenance worker\n\nThe migration to port groups task is now moved to the maintenance\nworker. This worker holds a distributed lock within OVSDB so we'll\nmake sure that the migration will be performed just once.\n\nDuring an update/upgrade, it may happen that newer version of\nneutron-server can't migrate to Port Groups as the lock is held\nby other (old instance). When all servers have been updated, the\nmaintenance task will perform the migration just once on the cloud\nmaking sure that normal operation will happen.\n\nWe can remove this task in later cycles as this is just a migration\npath from Address Sets to Port Groups for implementing Neutron\nSecurity Groups.\n\nTODO: functional test to validate the migration path to PGs.\n\nChange-Id: I227ec967f450b26b12f19d687e94029e6ef1e558\nCloses-Bug: #1789921\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}]",20,598239,17b15f2901e5ac2e51948670cab0772279b5e2df,39,6,7,23804,,,0,"Attempt the migration to Port Groups from Maintenance worker

The migration to port groups task is now moved to the maintenance
worker. This worker holds a distributed lock within OVSDB so we'll
make sure that the migration will be performed just once.

During an update/upgrade, it may happen that newer version of
neutron-server can't migrate to Port Groups as the lock is held
by other (old instance). When all servers have been updated, the
maintenance task will perform the migration just once on the cloud
making sure that normal operation will happen.

We can remove this task in later cycles as this is just a migration
path from Address Sets to Port Groups for implementing Neutron
Security Groups.

TODO: functional test to validate the migration path to PGs.

Change-Id: I227ec967f450b26b12f19d687e94029e6ef1e558
Closes-Bug: #1789921
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/39/598239/3 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/maintenance.py', 'networking_ovn/ovn_db_sync.py']",2,c4c003f95adbe57718dcd567adfc440e5f9f745d,bug/1789921," # If Port Groups are not supported or we've already migrated, return if (not self.ovn_api.is_port_groups_supported() or not self.ovn_api.get_address_sets()):", self.migrate_to_port_groups(ctx) if not self.ovn_api.is_port_groups_supported():,18,2
openstack%2Fdesignate~master~I0b4d0d66ad60ff8e9b2d7de70d9858bd6ca5efa6,openstack/designate,master,I0b4d0d66ad60ff8e9b2d7de70d9858bd6ca5efa6,Update sphinx extension logging,MERGED,2018-10-16 19:40:18.000000000,2018-10-18 14:50:19.000000000,2018-10-18 14:50:19.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2018-10-16 19:40:18.000000000', 'files': ['doc/ext/support_matrix.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/1479c9173750d4a248fe0ed48091fbd0f338a69a', 'message': 'Update sphinx extension logging\n\nSphinx 1.6 deprecated using the application object to perform logging\nand it will be removed in the upcoming 2.0 release. This updates our\nextensions to use the recommended sphinx.util.logging instead.\n\nChange-Id: I0b4d0d66ad60ff8e9b2d7de70d9858bd6ca5efa6\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,611145,1479c9173750d4a248fe0ed48091fbd0f338a69a,7,3,1,11904,,,0,"Update sphinx extension logging

Sphinx 1.6 deprecated using the application object to perform logging
and it will be removed in the upcoming 2.0 release. This updates our
extensions to use the recommended sphinx.util.logging instead.

Change-Id: I0b4d0d66ad60ff8e9b2d7de70d9858bd6ca5efa6
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/designate refs/changes/45/611145/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/ext/support_matrix.py'],1,1479c9173750d4a248fe0ed48091fbd0f338a69a,sphinx-logging,"from sphinx.util import logging from sphinx.util.osutil import copyfile import six import six.moves.configparser as config_parser LOG = logging.getLogger(__name__) LOG.info('Copying assets: %s' % ', '.join(assets))"," import six import six.moves.configparser as config_parserfrom sphinx.util.osutil import copyfile app.info('Copying assets: %s' % ', '.join(assets))",8,5
openstack%2Fpuppet-keystone~master~I8a99eee7622e25847c2d729fa97d0500fe27d8f4,openstack/puppet-keystone,master,I8a99eee7622e25847c2d729fa97d0500fe27d8f4,Add manage_backend_package parameter,MERGED,2018-09-20 09:16:21.000000000,2018-10-18 14:43:00.000000000,2018-10-18 08:33:23.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-20 09:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/f08bde9af818b2eac6dd21530fb2827a1fb028c7', 'message': 'Add manage_backend_package parameter\n\nAdds the manage_backend_package parameter that is sent\nto the oslo::cache class that determines if we should\ninstall the backend python library for caching.\n\nThe default value is not changed and defaults to true\nsame as the oslo::cache class does.\n\nChange-Id: I8a99eee7622e25847c2d729fa97d0500fe27d8f4\n'}, {'number': 2, 'created': '2018-10-17 11:29:38.000000000', 'files': ['releasenotes/notes/manage-backend-param-490db3b5bce0b3ea.yaml', 'manifests/init.pp', 'spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/f882e39447506eb500e3211df786c7d21b84d792', 'message': 'Add manage_backend_package parameter\n\nAdds the manage_backend_package parameter that is sent\nto the oslo::cache class that determines if we should\ninstall the backend python library for caching.\n\nThe default value is not changed and defaults to true\nsame as the oslo::cache class does.\n\nChange-Id: I8a99eee7622e25847c2d729fa97d0500fe27d8f4\n'}]",0,604022,f882e39447506eb500e3211df786c7d21b84d792,18,4,2,16137,,,0,"Add manage_backend_package parameter

Adds the manage_backend_package parameter that is sent
to the oslo::cache class that determines if we should
install the backend python library for caching.

The default value is not changed and defaults to true
same as the oslo::cache class does.

Change-Id: I8a99eee7622e25847c2d729fa97d0500fe27d8f4
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/22/604022/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/manage-backend-param-490db3b5bce0b3ea.yaml', 'manifests/init.pp', 'spec/classes/keystone_init_spec.rb']",3,f08bde9af818b2eac6dd21530fb2827a1fb028c7,604022," 'admin_token' => 'service_token', 'memcache_servers' => [ 'SERVER1:11211', 'SERVER2:11211' ], 'token_driver' => 'noop', 'cache_backend' => 'dogpile.cache.memcached', 'cache_backend_argument' => ['url:SERVER3:12211'], 'cache_memcache_servers' => [ 'SERVER3:11211', 'SERVER4:11211' ], 'memcache_dead_retry' => '60', 'memcache_socket_timeout' => '2', 'memcache_pool_maxsize' => '1000', 'memcache_pool_unused_timeout' => '60', 'memcache_pool_connection_get_timeout' => '30', 'manage_backend_package' => false, it { is_expected.to contain_keystone_config('cache/memcache_pool_connection_get_timeout').with_value('30') } it { is_expected.to contain_oslo__cache('keystone_config').with_manage_backend_package(false) } it { is_expected.not_to contain_package('python-memcache') } 'admin_token' => 'service_token', 'memcache_servers' => [ 'SERVER1:11211', 'SERVER2:11211' ], 'token_driver' => 'memcache', 'cache_backend' => 'dogpile.cache.memcached', 'cache_backend_argument' => ['url:SERVER3:12211'], 'cache_enabled' => false, 'cache_memcache_servers' => [ 'SERVER3:11211', 'SERVER4:11211' ], 'memcache_dead_retry' => '60', 'memcache_socket_timeout' => '2', 'memcache_pool_maxsize' => '1000', 'memcache_pool_unused_timeout' => '60', 'memcache_pool_connection_get_timeout' => '30', it { is_expected.to contain_keystone_config('cache/memcache_pool_connection_get_timeout').with_value('30') } it { is_expected.to contain_keystone_config('cache/memcache_pool_connection_get_timeout').with_value('<SERVICE DEFAULT>') }"," 'admin_token' => 'service_token', 'memcache_servers' => [ 'SERVER1:11211', 'SERVER2:11211' ], 'token_driver' => 'memcache', 'cache_backend' => 'dogpile.cache.memcached', 'cache_backend_argument' => ['url:SERVER3:12211'], 'cache_memcache_servers' => [ 'SERVER3:11211', 'SERVER4:11211' ], 'memcache_dead_retry' => '60', 'memcache_socket_timeout' => '2', 'memcache_pool_maxsize' => '1000', 'memcache_pool_unused_timeout' => '60', it { is_expected.to contain_package('python-memcache').with( :name => 'python-memcache', :ensure => 'present' ) } 'admin_token' => 'service_token', 'memcache_servers' => [ 'SERVER1:11211', 'SERVER2:11211' ], 'token_driver' => 'memcache', 'cache_backend' => 'dogpile.cache.memcached', 'cache_backend_argument' => ['url:SERVER3:12211'], 'cache_enabled' => false, 'cache_memcache_servers' => [ 'SERVER3:11211', 'SERVER4:11211' ], 'memcache_dead_retry' => '60', 'memcache_socket_timeout' => '2', 'memcache_pool_maxsize' => '1000', 'memcache_pool_unused_timeout' => '60',",42,25
openstack%2Fproject-config~master~Id01f85fcee150f9360f508b09003a8d0043155bd,openstack/project-config,master,Id01f85fcee150f9360f508b09003a8d0043155bd,"Revert ""Disable ovh-gra1""",MERGED,2018-10-18 09:38:51.000000000,2018-10-18 14:34:49.000000000,2018-10-18 14:34:49.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 11583}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-18 09:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d22d81700db14d86566820376d6b8297085e4d97', 'message': 'Revert ""Disable ovh-gra1""\n\nThis partially reverts commit\nbfdd3e6a4234747ce637a8ef007821f90caac030.\n\nAfter fruitful discussions with amorin in IRC, we have nodes working\nagain in this region.  This puts a small load on for us to monitor for\na while.  A follow-on will do a full revert so we don\'t forget.\n\nChange-Id: Id01f85fcee150f9360f508b09003a8d0043155bd\n'}, {'number': 2, 'created': '2018-10-18 09:41:25.000000000', 'files': ['nodepool/nl04.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/529b912c8081b76495dbcf59c7c72498033d5134', 'message': 'Revert ""Disable ovh-gra1""\n\nThis partially reverts commit\nbfdd3e6a4234747ce637a8ef007821f90caac030.\n\nAfter fruitful discussions with amorin in IRC, we have nodes working\nagain in this region.  This puts a small load on for us to monitor for\na while.  A follow-on will do a full revert so we don\'t forget.\n\nStory: #2004090\nTask: #27492\nChange-Id: Id01f85fcee150f9360f508b09003a8d0043155bd\n'}]",0,611552,529b912c8081b76495dbcf59c7c72498033d5134,14,4,2,7118,,,0,"Revert ""Disable ovh-gra1""

This partially reverts commit
bfdd3e6a4234747ce637a8ef007821f90caac030.

After fruitful discussions with amorin in IRC, we have nodes working
again in this region.  This puts a small load on for us to monitor for
a while.  A follow-on will do a full revert so we don't forget.

Story: #2004090
Task: #27492
Change-Id: Id01f85fcee150f9360f508b09003a8d0043155bd
",git fetch https://review.opendev.org/openstack/project-config refs/changes/52/611552/2 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl04.openstack.org.yaml'],1,d22d81700db14d86566820376d6b8297085e4d97,, max-servers: 20, max-servers: 0,1,1
openstack%2Fplacement~master~I1cab3183067ab2e41663ca369509d753442e775c,openstack/placement,master,I1cab3183067ab2e41663ca369509d753442e775c,Add nova database migration script for postgresql,MERGED,2018-09-20 10:17:13.000000000,2018-10-18 14:32:22.000000000,2018-10-18 14:32:22.000000000,"[{'_account_id': 6873}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 20722}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-20 10:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/1065c2aacfc7ddab26502aac1a805e0a5ba20c9e', 'message': 'WIP: Add nova database migration script(psql version)\n\nChange-Id: I1cab3183067ab2e41663ca369509d753442e775c\n'}, {'number': 2, 'created': '2018-09-20 10:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/2f0fb482489fcb2ca4ef7ec864bd1092f820030b', 'message': 'WIP: Add nova database migration script(psql version)\n\nChange-Id: I1cab3183067ab2e41663ca369509d753442e775c\n'}, {'number': 3, 'created': '2018-10-16 15:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/88649851cc73d8da8a54ff70d9438bf1e831a0fb', 'message': 'Add nova database migration script for postgresql\n\nThis is based on the mysql-migrate-db.sh script but\nwith the necessary changes for interacting with postgresql.\n\nLong-term it might be possible to refactor both the mysql\nand postgresql scripts into a generic script but the\npotential complexity in doing that makes it a lower priority\nthan simply getting pg support for the nova_api/placement\ntable migration done in Stein.\n\nChange-Id: I1cab3183067ab2e41663ca369509d753442e775c\n'}, {'number': 4, 'created': '2018-10-16 15:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/b711a79aba9b02761ed3c516d5b1a4b6eec46215', 'message': 'Add nova database migration script for postgresql\n\nThis is based on the mysql-migrate-db.sh script but\nwith the necessary changes for interacting with postgresql.\n\nLong-term it might be possible to refactor both the mysql\nand postgresql scripts into a generic script but the\npotential complexity in doing that makes it a lower priority\nthan simply getting pg support for the nova_api/placement\ntable migration done in Stein.\n\nChange-Id: I1cab3183067ab2e41663ca369509d753442e775c\n'}, {'number': 5, 'created': '2018-10-17 15:17:30.000000000', 'files': ['tools/postgresql-migrate-db.sh'], 'web_link': 'https://opendev.org/openstack/placement/commit/e7fe0ab8629165d57e71bbcda71bf198bb2dada1', 'message': 'Add nova database migration script for postgresql\n\nThis is based on the mysql-migrate-db.sh script but\nwith the necessary changes for interacting with postgresql.\n\nLong-term it might be possible to refactor both the mysql\nand postgresql scripts into a generic script but the\npotential complexity in doing that makes it a lower priority\nthan simply getting pg support for the nova_api/placement\ntable migration done in Stein.\n\nChange-Id: I1cab3183067ab2e41663ca369509d753442e775c\n'}]",4,604028,e7fe0ab8629165d57e71bbcda71bf198bb2dada1,22,5,5,20722,,,0,"Add nova database migration script for postgresql

This is based on the mysql-migrate-db.sh script but
with the necessary changes for interacting with postgresql.

Long-term it might be possible to refactor both the mysql
and postgresql scripts into a generic script but the
potential complexity in doing that makes it a lower priority
than simply getting pg support for the nova_api/placement
table migration done in Stein.

Change-Id: I1cab3183067ab2e41663ca369509d753442e775c
",git fetch https://review.opendev.org/openstack/placement refs/changes/28/604028/5 && git format-patch -1 --stdout FETCH_HEAD,['tools/psql-migrate-db.sh'],1,1065c2aacfc7ddab26502aac1a805e0a5ba20c9e,cd/placement-solo,"#!/bin/bash # This script will attempt to migrate your nova-api placement data to # a new placement database. Run it with --help for usage, and --mkconfig # to write a template config file to use. # Defaults we can guess DEFAULT_MIGRATE_TABLES=""allocations placement_aggregates consumers inventories projects "" DEFAULT_MIGRATE_TABLES+=""resource_classes resource_provider_aggregates resource_provider_traits "" DEFAULT_MIGRATE_TABLES+=""resource_providers traits users "" MIGRATE_TABLES=${MIGRATE_TABLES:-$DEFAULT_MIGRATE_TABLES} PLACEMENT_DB_HOST=${PLACEMENT_DB_HOST:-localhost} PLACEMENT_DB=${PLACEMENT_DB:-placement} NOVA_API_DB_HOST=${NOVA_API_DB_HOST:-localhost} NOVA_API_DB=${NOVA_API_DB:-nova_api} TMPDIR=${TMPDIR:-/tmp} LAST_MYSQL_ERR=${TMPDIR}/migrate-mysql-db.err declare -a ARGS declare -a OPTS function getflag() { # Return true if --$flag is present on the command line # Usage: getflag help -> 0 local flag=""$1"" for opt in ${OPTS[*]}; do if [ ""$opt"" == ""--${flag}"" ]; then return 0 fi done return 1 } function parse_argv() { # Parse command line arguments into positional arguments and # option flags. Store each in $ARGS, $OPTS. # Usage: parse_argv $* for item in $*; do if echo $item | grep -q -- '^--'; then OPTS+=($item) else ARGS+=($item) fi done } function db_var() { # Return an attribute of database config based on the symbolic # name # Usage: db_var PLACEMENT USER -> $PLACEMENT_USER local db=""$1"" local var=""$2"" eval echo ""\$${db}_${var}"" } function mysql_command() { # Run a mysql command with the usual connection information taken # from a symbolic configuration name # Usage: mysql_command PLACEMENT [command] [args..] -> stdout local whichdb=""$1"" shift local command=mysql if [ ""$2"" ]; then command=${1:-mysql} shift fi local db=$(db_var $whichdb DB) local host=$(db_var $whichdb DB_HOST) local user=$(db_var $whichdb USER) local pass=$(db_var $whichdb PASS) if [ ""$command"" = ""mysql"" ]; then command=""mysql --skip-column-names"" fi $command -h$host -u$user -p$pass $db $* 2>$LAST_MYSQL_ERR } function check_db() { # Check a DB to see if it's missing, present, filled with data # Returns 0 if it is present with data, 1 if present but no data # or 2 if not present (or unable to connect) # Usage: check_db PLACEMENT -> 0 local whichdb=""$1"" local inv local inv_count if ! echo ""SELECT DATABASE()"" | mysql_command $whichdb >/dev/null 2>&1; then echo ""Failed to connect to $whichdb database"" return 2 fi inv=$(echo ""SELECT COUNT(id) FROM inventories"" | mysql_command $whichdb) if [ $? -ne 0 ]; then # No schema return 1 fi inv_count=$(echo $inv | tail -n1) if [ $inv_count -gt 0 ]; then # Data found return 0 else # No data found, but schema intact return 1 fi } function migrate_data() { # Actually migrate data from a source to destination symbolic # database. Returns 1 if failure, 0 otherwise. # Usage: migrate_data NOVA_API PLACEMENT -> 0 local source=""$1"" local dest=""$2"" local tmpdir=$(mktemp -d migrate-db.XXXXXXXX) local tmpfile=""${tmpdir}/from-nova.sql"" echo ""Dumping from $source to $tmpfile"" mysql_command $source mysqldump $MIGRATE_TABLES > $tmpfile || { echo 'Failed to dump source database:' cat $LAST_MYSQL_ERR return 1 } echo ""Loading to $dest from $tmpfile"" mysql_command $dest < $tmpfile || { echo 'Failed to load destination database:' cat $LAST_MYSQL_ERR return 1 } } function sanity_check_env() { # Check that we have everything we need to examine the situation # and potentially do the migration. Loads values from the rcfile, # if present. Returns 1 if a config was not found, 2 if that # config is incomplete or 0 if everything is good. # Usage: sanity_check_env $rcfile -> 0 RCFILE=""${1:-migrate-db.rc}"" if [ ! -f ""$RCFILE"" ]; then echo 'Specify an RC file on the command line or create migrate-db.rc in the current directory' return 1 fi source $RCFILE required=""NOVA_API_DB NOVA_API_USER NOVA_API_PASS PLACEMENT_DB PLACEMENT_USER PLACEMENT_PASS"" for var in $required; do value=$(eval echo ""\$$var"") if [ -z ""$value"" ]; then echo ""A value for $var was not provided but is required"" return 2 fi done } function make_config() { # Create or update a config file with defaults we know. Either use # the default migrate-db.rc or the file specified on the command # line. RCFILE=""${1:-migrate-db.rc}"" if [ -f ""$RCFILE"" ]; then source $RCFILE fi vars=""NOVA_API_DB NOVA_API_USER NOVA_API_PASS NOVA_API_DB_HOST "" vars+=""PLACEMENT_DB PLACEMENT_USER PLACEMENT_PASS PLACEMENT_DB_HOST "" vars+=""MIGRATE_TABLES"" (for var in $vars; do val=$(eval echo ""\$$var"") echo ""${var}=\""$val\"""" done) > $RCFILE echo Wrote $(readlink -f $RCFILE) } parse_argv $* if getflag help; then echo ""Usage: $0 [flags] [rcfile]"" echo echo ""Flags:"" echo "" --help: this text"" echo "" --migrate: actually do data migration"" echo "" --mkconfig: write/update config to \$rcfile"" echo echo ""Exit codes:"" echo "" 0: Success"" echo "" 1: Usage error"" echo "" 2: Configuration missing or incomplete"" echo "" 3: Migration already completed"" echo "" 4: No data to migrate from nova (new deployment)"" echo "" 5: Unable to connect to one or both databases"" exit 0 fi if getflag mkconfig; then make_config $ARGS exit 0 fi # # Actual migration logic starts here # # Sanity check that we have what we need or bail sanity_check_env $ARGS || exit $? # Check the state of each database we care about check_db NOVA_API nova_present=$? check_db PLACEMENT placement_present=$? # Try to come up with a good reason to refuse to migrate if [ $nova_present -eq 0 -a $placement_present -eq 0 ]; then echo ""Migration has already completed. The placement database appears to have data."" exit 3 elif [ $nova_present -eq 1 ]; then echo ""No data present in nova database - nothing to migrate (new deployment?)"" exit 4 elif [ $nova_present -eq 2 ]; then echo ""Unable to proceed without connection to nova database"" exit 5 elif [ $placement_present -eq 2 ]; then echo ""Unable to proceed without connection to placement database"" exit 5 fi # If we get here, we expect to be able to migrate. Require them to opt into # actual migration before we do anything. echo Nova database contains data, placement database does not. Okay to proceed with migration if getflag migrate $*; then migrate_data NOVA_API PLACEMENT else echo ""To actually migrate, run me with --migrate"" fi rm -f $LAST_MYSQL_ERR ",,246,0
openstack%2Fopenstack-ansible-os_heat~master~I0ed1a43670d97f2e2215d04c641f7bd4cfbe4f44,openstack/openstack-ansible-os_heat,master,I0ed1a43670d97f2e2215d04c641f7bd4cfbe4f44,releasenotes: oslo-messaging-separate-backends add project name,MERGED,2018-10-15 14:55:33.000000000,2018-10-18 14:28:45.000000000,2018-10-17 11:18:29.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-10-15 14:55:33.000000000', 'files': ['releasenotes/notes/oslo-messaging-separate-backends-4491e7c099bee4f5.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/647f1b6b25db19cda0466bfcaee2bfa9b2fd128f', 'message': 'releasenotes: oslo-messaging-separate-backends add project name\n\nWithout this patch, the release notes published at\nhttps://docs.openstack.org/releasenotes/openstack-ansible/rocky.html contains\nthe same line multiple times which is not very clear.\n\n[...]\n    Support separate oslo.messaging services for RPC and Notifications\n    to enable operation of separate and different messaging backend servers.\n\n    Support separate oslo.messaging services for RPC and Notifications\n    to enable operation of separate and different messaging backend servers.\n[...]\n\nChange-Id: I0ed1a43670d97f2e2215d04c641f7bd4cfbe4f44\n'}]",0,610605,647f1b6b25db19cda0466bfcaee2bfa9b2fd128f,8,3,1,4128,,,0,"releasenotes: oslo-messaging-separate-backends add project name

Without this patch, the release notes published at
https://docs.openstack.org/releasenotes/openstack-ansible/rocky.html contains
the same line multiple times which is not very clear.

[...]
    Support separate oslo.messaging services for RPC and Notifications
    to enable operation of separate and different messaging backend servers.

    Support separate oslo.messaging services for RPC and Notifications
    to enable operation of separate and different messaging backend servers.
[...]

Change-Id: I0ed1a43670d97f2e2215d04c641f7bd4cfbe4f44
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/05/610605/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/oslo-messaging-separate-backends-4491e7c099bee4f5.yaml'],1,647f1b6b25db19cda0466bfcaee2bfa9b2fd128f,, to enable operation of separate and different messaging backend servers in heat., to enable operation of separate and different messaging backend servers.,2,1
openstack%2Fopenstack-zuul-jobs~master~I0b6f8e906622882467e8a4b47e786c403a2f8f64,openstack/openstack-zuul-jobs,master,I0b6f8e906622882467e8a4b47e786c403a2f8f64,Remove legacy-periodic-tempest-dsvm-oslo-latest-full-master,MERGED,2018-10-14 16:00:54.000000000,2018-10-18 14:28:42.000000000,2018-10-18 14:28:42.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-14 16:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/b03388d834873fd496d3d99755912e91e6f6c731', 'message': 'Remove legacy-periodic-tempest-dsvm-oslo-latest-full-master\n\nThis job has been replaced by tempest-full, we can remove the legacy\njob.\n\nChange-Id: I0b6f8e906622882467e8a4b47e786c403a2f8f64\nDepends-On: https://review.openstack.org/610385\n'}, {'number': 2, 'created': '2018-10-15 06:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/978e730144dd589673c61a18fc13e685512d98a4', 'message': 'Remove legacy-periodic-tempest-dsvm-oslo-latest-full-master\n\nThis job has been replaced by tempest-full, we can remove the legacy\njob.\n\nChange-Id: I0b6f8e906622882467e8a4b47e786c403a2f8f64\nDepends-On: https://review.openstack.org/610394\n'}, {'number': 3, 'created': '2018-10-15 06:56:40.000000000', 'files': ['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/periodic-tempest-dsvm-oslo-latest-full-master/post.yaml', 'playbooks/legacy/periodic-tempest-dsvm-oslo-latest-full-master/run.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/974500b236d399ecd98adcbf7181df57fb63eaac', 'message': 'Remove legacy-periodic-tempest-dsvm-oslo-latest-full-master\n\nThis job has been replaced by tempest-full, we can remove the legacy\njob.\n\nDepends-On: https://review.openstack.org/610394\nDepends-On: https://review.openstack.org/610385\nChange-Id: I0b6f8e906622882467e8a4b47e786c403a2f8f64\n'}]",0,610386,974500b236d399ecd98adcbf7181df57fb63eaac,18,4,3,6547,,,0,"Remove legacy-periodic-tempest-dsvm-oslo-latest-full-master

This job has been replaced by tempest-full, we can remove the legacy
job.

Depends-On: https://review.openstack.org/610394
Depends-On: https://review.openstack.org/610385
Change-Id: I0b6f8e906622882467e8a4b47e786c403a2f8f64
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/86/610386/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/periodic-tempest-dsvm-oslo-latest-full-master/post.yaml', 'playbooks/legacy/periodic-tempest-dsvm-oslo-latest-full-master/run.yaml']",3,b03388d834873fd496d3d99755912e91e6f6c731,periodic-tempest-dsvm-oslo-latest-full-master,,"- hosts: all name: Autoconverted job legacy-periodic-tempest-dsvm-oslo-latest-full-master from old job periodic-tempest-dsvm-oslo-latest-full-master tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack-infra/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ git://git.openstack.org \ openstack-infra/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PYTHONUNBUFFERED=true export DEVSTACK_GATE_TEMPEST=1 export DEVSTACK_GATE_TEMPEST_FULL=1 export DEVSTACK_GATE_NEUTRON=1 export BRANCH_OVERRIDE=master if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi export DEVSTACK_PROJECT_FROM_GIT=""oslo.cache"" export DEVSTACK_PROJECT_FROM_GIT+="",oslo.concurrency"" export DEVSTACK_PROJECT_FROM_GIT+="",oslo.config"" export DEVSTACK_PROJECT_FROM_GIT+="",oslo.context"" export DEVSTACK_PROJECT_FROM_GIT+="",oslo.db"" export DEVSTACK_PROJECT_FROM_GIT+="",oslo.i18n"" export DEVSTACK_PROJECT_FROM_GIT+="",oslo.log"" export DEVSTACK_PROJECT_FROM_GIT+="",oslo.messaging"" export DEVSTACK_PROJECT_FROM_GIT+="",oslo.middleware"" export DEVSTACK_PROJECT_FROM_GIT+="",oslo.policy"" export DEVSTACK_PROJECT_FROM_GIT+="",oslo.privsep"" export DEVSTACK_PROJECT_FROM_GIT+="",oslo.reports"" export DEVSTACK_PROJECT_FROM_GIT+="",oslo.rootwrap"" export DEVSTACK_PROJECT_FROM_GIT+="",oslo.serialization"" export DEVSTACK_PROJECT_FROM_GIT+="",oslo.service"" export DEVSTACK_PROJECT_FROM_GIT+="",oslo.utils"" export DEVSTACK_PROJECT_FROM_GIT+="",oslo.versionedobjects"" export DEVSTACK_PROJECT_FROM_GIT+="",oslo.vmware"" cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",0,107
openstack%2Fopenstack-ansible-os_keystone~master~I0ed1a43670d97f2e2215d04c641f7bd4cfbe4f44,openstack/openstack-ansible-os_keystone,master,I0ed1a43670d97f2e2215d04c641f7bd4cfbe4f44,releasenotes: oslo-messaging-separate-backends add project name,MERGED,2018-10-15 14:57:15.000000000,2018-10-18 14:26:25.000000000,2018-10-18 09:53:38.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-15 14:57:15.000000000', 'files': ['releasenotes/notes/oslo-messaging-separate-backends-e68c98d4f9d9a79c.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/a4e5138027d7ccf68a6c86799d73cb7ecb9f34a9', 'message': 'releasenotes: oslo-messaging-separate-backends add project name\n\nWithout this patch, the release notes published at\nhttps://docs.openstack.org/releasenotes/openstack-ansible/rocky.html contains\nthe same line multiple times which is not very clear.\n\n[...]\n    Support separate oslo.messaging services for RPC and Notifications\n    to enable operation of separate and different messaging backend servers.\n\n    Support separate oslo.messaging services for RPC and Notifications\n    to enable operation of separate and different messaging backend servers.\n[...]\n\nChange-Id: I0ed1a43670d97f2e2215d04c641f7bd4cfbe4f44\n'}]",0,610613,a4e5138027d7ccf68a6c86799d73cb7ecb9f34a9,8,3,1,4128,,,0,"releasenotes: oslo-messaging-separate-backends add project name

Without this patch, the release notes published at
https://docs.openstack.org/releasenotes/openstack-ansible/rocky.html contains
the same line multiple times which is not very clear.

[...]
    Support separate oslo.messaging services for RPC and Notifications
    to enable operation of separate and different messaging backend servers.

    Support separate oslo.messaging services for RPC and Notifications
    to enable operation of separate and different messaging backend servers.
[...]

Change-Id: I0ed1a43670d97f2e2215d04c641f7bd4cfbe4f44
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/13/610613/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/oslo-messaging-separate-backends-e68c98d4f9d9a79c.yaml'],1,a4e5138027d7ccf68a6c86799d73cb7ecb9f34a9,, to enable operation of separate and different messaging backend servers in keystone., to enable operation of separate and different messaging backend servers.,2,1
openstack%2Fopenstack-ansible-os_octavia~master~I0ed1a43670d97f2e2215d04c641f7bd4cfbe4f44,openstack/openstack-ansible-os_octavia,master,I0ed1a43670d97f2e2215d04c641f7bd4cfbe4f44,releasenotes: oslo-messaging-separate-backends add project name,MERGED,2018-10-15 14:57:40.000000000,2018-10-18 14:26:14.000000000,2018-10-18 09:50:59.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-15 14:57:40.000000000', 'files': ['releasenotes/notes/oslo-messaging-separate-backends-e8a0b6857f2a9749.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/7b157f41eb45a19d106580c46d5040e675c91845', 'message': 'releasenotes: oslo-messaging-separate-backends add project name\n\nWithout this patch, the release notes published at\nhttps://docs.openstack.org/releasenotes/openstack-ansible/rocky.html contains\nthe same line multiple times which is not very clear.\n\n[...]\n    Support separate oslo.messaging services for RPC and Notifications\n    to enable operation of separate and different messaging backend servers.\n\n    Support separate oslo.messaging services for RPC and Notifications\n    to enable operation of separate and different messaging backend servers.\n[...]\n\nChange-Id: I0ed1a43670d97f2e2215d04c641f7bd4cfbe4f44\n'}]",0,610615,7b157f41eb45a19d106580c46d5040e675c91845,8,3,1,4128,,,0,"releasenotes: oslo-messaging-separate-backends add project name

Without this patch, the release notes published at
https://docs.openstack.org/releasenotes/openstack-ansible/rocky.html contains
the same line multiple times which is not very clear.

[...]
    Support separate oslo.messaging services for RPC and Notifications
    to enable operation of separate and different messaging backend servers.

    Support separate oslo.messaging services for RPC and Notifications
    to enable operation of separate and different messaging backend servers.
[...]

Change-Id: I0ed1a43670d97f2e2215d04c641f7bd4cfbe4f44
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/15/610615/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/oslo-messaging-separate-backends-e8a0b6857f2a9749.yaml'],1,7b157f41eb45a19d106580c46d5040e675c91845,, to enable operation of separate and different messaging backend servers in octavia., to enable operation of separate and different messaging backend servers.,2,1
openstack%2Fopenstack-ansible-os_magnum~master~I0ed1a43670d97f2e2215d04c641f7bd4cfbe4f44,openstack/openstack-ansible-os_magnum,master,I0ed1a43670d97f2e2215d04c641f7bd4cfbe4f44,releasenotes: oslo-messaging-separate-backends add project name,MERGED,2018-10-15 14:57:03.000000000,2018-10-18 14:26:01.000000000,2018-10-18 09:48:52.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-15 14:57:03.000000000', 'files': ['releasenotes/notes/oslo-messaging-separate-backends-a3af6957a984ac51.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/1021cff820f3dcfc4ec19221007c0fa161b5d2dc', 'message': 'releasenotes: oslo-messaging-separate-backends add project name\n\nWithout this patch, the release notes published at\nhttps://docs.openstack.org/releasenotes/openstack-ansible/rocky.html contains\nthe same line multiple times which is not very clear.\n\n[...]\n    Support separate oslo.messaging services for RPC and Notifications\n    to enable operation of separate and different messaging backend servers.\n\n    Support separate oslo.messaging services for RPC and Notifications\n    to enable operation of separate and different messaging backend servers.\n[...]\n\nChange-Id: I0ed1a43670d97f2e2215d04c641f7bd4cfbe4f44\n'}]",0,610612,1021cff820f3dcfc4ec19221007c0fa161b5d2dc,8,3,1,4128,,,0,"releasenotes: oslo-messaging-separate-backends add project name

Without this patch, the release notes published at
https://docs.openstack.org/releasenotes/openstack-ansible/rocky.html contains
the same line multiple times which is not very clear.

[...]
    Support separate oslo.messaging services for RPC and Notifications
    to enable operation of separate and different messaging backend servers.

    Support separate oslo.messaging services for RPC and Notifications
    to enable operation of separate and different messaging backend servers.
[...]

Change-Id: I0ed1a43670d97f2e2215d04c641f7bd4cfbe4f44
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/12/610612/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/oslo-messaging-separate-backends-a3af6957a984ac51.yaml'],1,1021cff820f3dcfc4ec19221007c0fa161b5d2dc,, to enable operation of separate and different messaging backend servers in magnum., to enable operation of separate and different messaging backend servers.,2,1
openstack%2Fopenstack-ansible-os_swift~master~I0ed1a43670d97f2e2215d04c641f7bd4cfbe4f44,openstack/openstack-ansible-os_swift,master,I0ed1a43670d97f2e2215d04c641f7bd4cfbe4f44,releasenotes: oslo-messaging-separate-backends add project name,MERGED,2018-10-15 14:57:28.000000000,2018-10-18 14:25:44.000000000,2018-10-18 09:46:34.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-15 14:57:28.000000000', 'files': ['releasenotes/notes/oslo-messaging-separate-backends-e82ea3162d2d383f.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/5e11ba0377f87bd0c38a127317de523df1b7be1a', 'message': 'releasenotes: oslo-messaging-separate-backends add project name\n\nWithout this patch, the release notes published at\nhttps://docs.openstack.org/releasenotes/openstack-ansible/rocky.html contains\nthe same line multiple times which is not very clear.\n\n[...]\n    Support separate oslo.messaging services for RPC and Notifications\n    to enable operation of separate and different messaging backend servers.\n\n    Support separate oslo.messaging services for RPC and Notifications\n    to enable operation of separate and different messaging backend servers.\n[...]\n\nChange-Id: I0ed1a43670d97f2e2215d04c641f7bd4cfbe4f44\n'}]",0,610614,5e11ba0377f87bd0c38a127317de523df1b7be1a,8,3,1,4128,,,0,"releasenotes: oslo-messaging-separate-backends add project name

Without this patch, the release notes published at
https://docs.openstack.org/releasenotes/openstack-ansible/rocky.html contains
the same line multiple times which is not very clear.

[...]
    Support separate oslo.messaging services for RPC and Notifications
    to enable operation of separate and different messaging backend servers.

    Support separate oslo.messaging services for RPC and Notifications
    to enable operation of separate and different messaging backend servers.
[...]

Change-Id: I0ed1a43670d97f2e2215d04c641f7bd4cfbe4f44
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/14/610614/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/oslo-messaging-separate-backends-e82ea3162d2d383f.yaml'],1,5e11ba0377f87bd0c38a127317de523df1b7be1a,, to enable operation of separate and different messaging backend servers in swift., to enable operation of separate and different messaging backend servers.,2,1
openstack%2Fcharm-nova-compute~master~I79d528bfb7732490aa42da2158244350c03dfa59,openstack/charm-nova-compute,master,I79d528bfb7732490aa42da2158244350c03dfa59,py3: deal with subordinate dependencies,MERGED,2018-10-15 15:41:35.000000000,2018-10-18 14:18:24.000000000,2018-10-18 14:18:24.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-15 15:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/4348e33f45f931dfce346603063cb9f8205f9ecb', 'message': 'py3: deal with subordinate dependencies\n\nSwitch to marking non-leaf python-* packages as automatically\ninstalled so that they will be purged once the last remaining\npackage that depends on them that was manually installed is\nremoved.\n\nForce install of python3-nova-lxd for Rocky and above to ensure\nthat py versions as matched.\n\nChange-Id: I79d528bfb7732490aa42da2158244350c03dfa59\nCloses-Bug: 1797879\n'}, {'number': 2, 'created': '2018-10-16 10:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/8fd129ec3160242dec4ce417727522c18001b4cd', 'message': 'py3: deal with subordinate dependencies\n\nSwitch to marking non-leaf python-* packages as automatically\ninstalled so that they will be purged once the last remaining\npackage that depends on them that was manually installed is\nremoved.\n\nForce install of python3-nova-lxd for Rocky and above to ensure\nthat py versions are matched with python3-nova.\n\nChange-Id: I79d528bfb7732490aa42da2158244350c03dfa59\nCloses-Bug: 1797879\n'}, {'number': 3, 'created': '2018-10-18 12:54:02.000000000', 'files': ['hooks/nova_compute_utils.py', 'unit_tests/test_nova_compute_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/7f15c2f5ce230ec3d1724d924a164e6a49b8584a', 'message': 'py3: deal with subordinate dependencies\n\nSwitch to marking non-leaf python-* packages as automatically\ninstalled so that they will be purged once the last remaining\npackage that depends on them that was manually installed is\nremoved.\n\nForce install of python3-nova-lxd for Rocky and above to ensure\nthat py versions are matched with python3-nova.\n\nChange-Id: I79d528bfb7732490aa42da2158244350c03dfa59\nCloses-Bug: 1797879\n'}]",0,610622,7f15c2f5ce230ec3d1724d924a164e6a49b8584a,24,4,3,935,,,0,"py3: deal with subordinate dependencies

Switch to marking non-leaf python-* packages as automatically
installed so that they will be purged once the last remaining
package that depends on them that was manually installed is
removed.

Force install of python3-nova-lxd for Rocky and above to ensure
that py versions are matched with python3-nova.

Change-Id: I79d528bfb7732490aa42da2158244350c03dfa59
Closes-Bug: 1797879
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/22/610622/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_utils.py', 'unit_tests/test_nova_compute_utils.py']",2,4348e33f45f931dfce346603063cb9f8205f9ecb,bug/1797879," 'apt_mark',",,19,0
openstack%2Fopenstack-ansible-os_keystone~stable%2Frocky~I201101f6d2bf733b375577b6af138272b9d0ce6b,openstack/openstack-ansible-os_keystone,stable/rocky,I201101f6d2bf733b375577b6af138272b9d0ce6b,Only do sshd enablement task on the first play host,MERGED,2018-10-18 11:31:16.000000000,2018-10-18 14:01:34.000000000,2018-10-18 14:01:34.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-18 11:31:16.000000000', 'files': ['tasks/keystone_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/0f9f2d84a5412ff5017a100627f5953a63985d31', 'message': 'Only do sshd enablement task on the first play host\n\nWe only need to do this task once in the play because it\ndelegates to all the hosts already. Currently it will do\nthe sshd enablement 9 times for 3 hosts.\n\nWe also add a comment to explain why this is being done\nfor future reference.\n\nChange-Id: I201101f6d2bf733b375577b6af138272b9d0ce6b\n(cherry picked from commit aefb58080337633e6d4c10bb2709c8d73ab9564d)\n'}]",0,611575,0f9f2d84a5412ff5017a100627f5953a63985d31,7,3,1,6816,,,0,"Only do sshd enablement task on the first play host

We only need to do this task once in the play because it
delegates to all the hosts already. Currently it will do
the sshd enablement 9 times for 3 hosts.

We also add a comment to explain why this is being done
for future reference.

Change-Id: I201101f6d2bf733b375577b6af138272b9d0ce6b
(cherry picked from commit aefb58080337633e6d4c10bb2709c8d73ab9564d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/75/611575/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/keystone_post_install.yml'],1,0f9f2d84a5412ff5017a100627f5953a63985d31,make-sshd-run-stable/rocky,"# If SSH is not running on all nodes immediately, then # the key rotation script will not be able to copy the # keys to the other nodes when they rotate. - name: Enable SSHD on all keystone hosts when: ""inventory_hostname == ansible_play_hosts[0]""",- name: Enable SSHD,5,1
openstack%2Fhorizon~stable%2Frocky~Ib1175681ff4dda691916c98616a944da971f6bf9,openstack/horizon,stable/rocky,Ib1175681ff4dda691916c98616a944da971f6bf9,Fix documents in doc/source/install* Fix release version name(latest->rocky)* Fix list number(trivial)Change-Id: Iba509025d99ac89e467f0a3b6ee92d93258499f7,ABANDONED,2018-10-18 13:57:31.000000000,2018-10-18 13:59:48.000000000,,[],"[{'number': 1, 'created': '2018-10-18 13:57:31.000000000', 'files': ['doc/source/install/install-debian.rst', 'doc/source/install/system-requirements.rst', 'doc/source/install/from-source.rst'], 'web_link': 'https://opendev.org/openstack/horizon/commit/f210605068925e2a3de15966a2eb714c46495270', 'message': 'Fix documents in doc/source/install* Fix release version name(latest->rocky)* Fix list number(trivial)Change-Id: Iba509025d99ac89e467f0a3b6ee92d93258499f7\n\nChange-Id: Ib1175681ff4dda691916c98616a944da971f6bf9\n'}]",0,611615,f210605068925e2a3de15966a2eb714c46495270,2,0,1,28926,,,0,"Fix documents in doc/source/install* Fix release version name(latest->rocky)* Fix list number(trivial)Change-Id: Iba509025d99ac89e467f0a3b6ee92d93258499f7

Change-Id: Ib1175681ff4dda691916c98616a944da971f6bf9
",git fetch https://review.opendev.org/openstack/horizon refs/changes/15/611615/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/install-debian.rst', 'doc/source/install/system-requirements.rst', 'doc/source/install/from-source.rst']",3,f210605068925e2a3de15966a2eb714c46495270,fix-doc/rocky," such as ""queens"" or ""rocky""."," such as ""ocata"" or ""pike"".",10,10
openstack%2Fopenstack-ansible-os_horizon~stable%2Frocky~I823f2f949258157e306dbf80570abe53373da0c3,openstack/openstack-ansible-os_horizon,stable/rocky,I823f2f949258157e306dbf80570abe53373da0c3,Add ability for HTTP access to horizon,MERGED,2018-10-17 14:01:24.000000000,2018-10-18 13:58:47.000000000,2018-10-18 13:58:47.000000000,"[{'_account_id': 6816}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-10-17 14:01:24.000000000', 'files': ['tasks/main.yml', 'releasenotes/notes/http-access-horizon-94c27a0aadb9f1b4.yaml', 'templates/openstack_dashboard.conf.j2', 'tests/os_horizon-overrides.yml', 'defaults/main.yml', 'templates/horizon_local_settings.py.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/6903802129a8e791ebaed4e60f95458b99201a25', 'message': ""Add ability for HTTP access to horizon\n\nHorizon has, since OSA's inception, been deployed with HTTPS\naccess enabled, and has had no way to turn it off. Some use-cases\nmay want to access via HTTP instead, so this patch enables\nthe following:\n\n1. Listen via HTTPS on a load balancer, but via HTTP on the\n   horizon host and have the load balancer forward the correct\n   headers. It will do this by default in the integrated build\n   due to the presence of the load balancer, so the current\n   behaviour is retained.\n\n2. Enable HTTPS on the horizon host without a load balancer.\n   This is the role's default behaviour which matches what it\n   always has been.\n\n3. Disable HTTPS entirely by setting ``haproxy_ssl: no`` (which\n   will also disable https on haproxy. This setting is inherited\n   by the new ``horizon_enable_ssl`` variable by default. This\n   is a new option.\n\nCo-Authored-By: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\nChange-Id: I823f2f949258157e306dbf80570abe53373da0c3\nCloses-Bug: 1794337\n(cherry picked from commit 4283200534eafa444efd9bb408ddcb5c98a1d442)\n""}]",0,611322,6903802129a8e791ebaed4e60f95458b99201a25,9,4,1,6816,,,0,"Add ability for HTTP access to horizon

Horizon has, since OSA's inception, been deployed with HTTPS
access enabled, and has had no way to turn it off. Some use-cases
may want to access via HTTP instead, so this patch enables
the following:

1. Listen via HTTPS on a load balancer, but via HTTP on the
   horizon host and have the load balancer forward the correct
   headers. It will do this by default in the integrated build
   due to the presence of the load balancer, so the current
   behaviour is retained.

2. Enable HTTPS on the horizon host without a load balancer.
   This is the role's default behaviour which matches what it
   always has been.

3. Disable HTTPS entirely by setting ``haproxy_ssl: no`` (which
   will also disable https on haproxy. This setting is inherited
   by the new ``horizon_enable_ssl`` variable by default. This
   is a new option.

Co-Authored-By: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>
Change-Id: I823f2f949258157e306dbf80570abe53373da0c3
Closes-Bug: 1794337
(cherry picked from commit 4283200534eafa444efd9bb408ddcb5c98a1d442)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/22/611322/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'releasenotes/notes/http-access-horizon-94c27a0aadb9f1b4.yaml', 'templates/openstack_dashboard.conf.j2', 'tests/os_horizon-overrides.yml', 'defaults/main.yml', 'templates/horizon_local_settings.py.j2']",6,6903802129a8e791ebaed4e60f95458b99201a25,bug/1794337,"{% if (horizon_enable_ssl | bool) and (horizon_external_ssl | bool) %}{% if horizon_enable_ssl | bool %}{% else %} # If Horizon is being served through SSL, then uncomment the following two # settings to better secure the cookies from security exploits CSRF_COOKIE_SECURE = False SESSION_COOKIE_SECURE = False {% endif %}",{% if horizon_external_ssl | bool %},69,14
openstack%2Fopenstack-ansible-os_nova~stable%2Frocky~I598cb74e18892cfcfa1fbe3d05cb2a48568f23ac,openstack/openstack-ansible-os_nova,stable/rocky,I598cb74e18892cfcfa1fbe3d05cb2a48568f23ac,Correct ansible conditional jinja2 warning,MERGED,2018-10-11 13:24:48.000000000,2018-10-18 13:46:10.000000000,2018-10-18 13:46:10.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-11 13:24:48.000000000', 'files': ['tasks/nova_service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/211d9961cf787c0f36973e350ade922e1dcae1ff', 'message': 'Correct ansible conditional jinja2 warning\n\nThis removes the braces around conditional variables which results in a\nwarning.\n\n>  [WARNING]: when statements should not include jinja2 templating delimiters such as {{ }} or {% %}. Found: {{ item.condition }}\n\nChange-Id: I598cb74e18892cfcfa1fbe3d05cb2a48568f23ac\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n(cherry picked from commit 45e424e63075de4a8ba51f78ced9e6bac6c99c37)\n'}]",0,609701,211d9961cf787c0f36973e350ade922e1dcae1ff,7,3,1,6816,,,0,"Correct ansible conditional jinja2 warning

This removes the braces around conditional variables which results in a
warning.

>  [WARNING]: when statements should not include jinja2 templating delimiters such as {{ }} or {% %}. Found: {{ item.condition }}

Change-Id: I598cb74e18892cfcfa1fbe3d05cb2a48568f23ac
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
(cherry picked from commit 45e424e63075de4a8ba51f78ced9e6bac6c99c37)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/01/609701/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/nova_service_setup.yml'],1,211d9961cf787c0f36973e350ade922e1dcae1ff,, when: - item.condition when: - item.condition," when: ""{{ item.condition }}"" when: ""{{ item.condition }}""",4,2
openstack%2Fopenstack-ansible~master~Ide10b514a91c96c614aad0c6012ac6a82f7fbe09,openstack/openstack-ansible,master,Ide10b514a91c96c614aad0c6012ac6a82f7fbe09,Fix rgw playbook pre_tasks,MERGED,2018-10-17 12:43:09.000000000,2018-10-18 13:43:44.000000000,2018-10-18 13:38:02.000000000,"[{'_account_id': 17799}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-10-17 12:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/057f5d5edba838f172ea2a1610b1b370ab14ebe4', 'message': 'Fix rgw playbook pre_tasks\n\nThese were incorrectly tasks rather than pre_tasks and executed after\nthe roles.\n\nChange-Id: Ide10b514a91c96c614aad0c6012ac6a82f7fbe09\n'}, {'number': 2, 'created': '2018-10-18 07:40:44.000000000', 'files': ['playbooks/ceph-rgw-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5e233dea5d6e9f7be78bc944b913548f826ad24a', 'message': 'Fix rgw playbook pre_tasks\n\nThese were incorrectly tasks rather than pre_tasks and executed after\nthe roles.\n\nChange-Id: Ide10b514a91c96c614aad0c6012ac6a82f7fbe09\n'}]",0,611304,5e233dea5d6e9f7be78bc944b913548f826ad24a,11,4,2,25023,,,0,"Fix rgw playbook pre_tasks

These were incorrectly tasks rather than pre_tasks and executed after
the roles.

Change-Id: Ide10b514a91c96c614aad0c6012ac6a82f7fbe09
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/04/611304/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/ceph-rgw-install.yml'],1,057f5d5edba838f172ea2a1610b1b370ab14ebe4,ceph-server, pre_tasks:, tasks:,1,1
openstack%2Fnova-specs~master~I45ec295f5e8f338789f14c235a4ea9ab595f565a,openstack/nova-specs,master,I45ec295f5e8f338789f14c235a4ea9ab595f565a,Update pypi url to new url,MERGED,2018-07-12 08:26:04.000000000,2018-10-18 13:38:51.000000000,2018-10-18 13:38:51.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14320}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28427}]","[{'number': 1, 'created': '2018-07-12 08:26:04.000000000', 'files': ['specs/pike/approved/scaleio-ephemeral-storage-backend.rst', 'specs/liberty/approved/service-group-using-tooz.rst', 'specs/liberty/implemented/adding-python34-support-to-nova.rst', 'specs/newton/implemented/modern-microversions.rst', 'specs/mitaka/implemented/image-verification.rst', 'specs/liberty/implemented/use-os-brick-library.rst', 'specs/queens/approved/scaleio-ephemeral-storage-backend.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/17efb82eef9bb72b26b0e1de4e392971b95c4121', 'message': 'Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: I45ec295f5e8f338789f14c235a4ea9ab595f565a\n'}]",0,582092,17efb82eef9bb72b26b0e1de4e392971b95c4121,14,8,1,28427,,,0,"Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I45ec295f5e8f338789f14c235a4ea9ab595f565a
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/92/582092/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/pike/approved/scaleio-ephemeral-storage-backend.rst', 'specs/liberty/approved/service-group-using-tooz.rst', 'specs/liberty/implemented/adding-python34-support-to-nova.rst', 'specs/newton/implemented/modern-microversions.rst', 'specs/mitaka/implemented/image-verification.rst', 'specs/liberty/implemented/use-os-brick-library.rst', 'specs/queens/approved/scaleio-ephemeral-storage-backend.rst']",7,17efb82eef9bb72b26b0e1de4e392971b95c4121,update_pypi_url,.. [4] `Python ScaleIO client <https://pypi.org/project/siolib>`_.,.. [4] `Python ScaleIO client <https://pypi.python.org/pypi/siolib>`_.,8,8
openstack%2Fneutron-lbaas~stable%2Fqueens~Ifa02f3a9de3751fab262f6d2fa28d5cd0c5437bb,openstack/neutron-lbaas,stable/queens,Ifa02f3a9de3751fab262f6d2fa28d5cd0c5437bb,WIP: Use eager loading for get_pool,ABANDONED,2018-08-02 11:58:19.000000000,2018-10-18 13:32:43.000000000,,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 9008}, {'_account_id': 12907}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 11:58:19.000000000', 'files': ['neutron_lbaas/db/loadbalancer/loadbalancer_dbv2.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/fdd238928353987bfa9104e56ca9327335dbccfe', 'message': 'WIP: Use eager loading for get_pool\n\nThis marks the needed relations for the api result for eager loading via\nsubquery.\n\nThis is needed to make a test failure in the queens backport of\nI32328c5206b9cd6fb8d8764c079f22b6ea8bfa9e work.\n\nStory: 2001962\nChange-Id: Ifa02f3a9de3751fab262f6d2fa28d5cd0c5437bb\n'}]",0,588224,fdd238928353987bfa9104e56ca9327335dbccfe,9,6,1,6469,,,0,"WIP: Use eager loading for get_pool

This marks the needed relations for the api result for eager loading via
subquery.

This is needed to make a test failure in the queens backport of
I32328c5206b9cd6fb8d8764c079f22b6ea8bfa9e work.

Story: 2001962
Change-Id: Ifa02f3a9de3751fab262f6d2fa28d5cd0c5437bb
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/24/588224/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lbaas/db/loadbalancer/loadbalancer_dbv2.py'],1,fdd238928353987bfa9104e56ca9327335dbccfe,587061-stable/queens," def _get_resource(self, context, model, id, for_update=False, options=None): if options: raise ValueError(_('Incompatible arguments: ' 'for_update=True only works with ' 'options=None')) query = self._model_query(context, model) if options: query = query.options(options) resource = query.filter(model.id == id).one() options = ( subqueryload(models.PoolV2.members), subqueryload(models.PoolV2.listeners), subqueryload(models.PoolV2.l7_policies), subqueryload(models.PoolV2.loadbalancer), subqueryload(models.PoolV2.session_persistence) ) pool_db = self._get_resource(context, models.PoolV2, id, options=options)"," def _get_resource(self, context, model, id, for_update=False): resource = self._get_by_id(context, model, id) pool_db = self._get_resource(context, models.PoolV2, id)",19,3
openstack%2Fneutron-lbaas~master~Ifa02f3a9de3751fab262f6d2fa28d5cd0c5437bb,openstack/neutron-lbaas,master,Ifa02f3a9de3751fab262f6d2fa28d5cd0c5437bb,Use eager loading for get_pool,ABANDONED,2018-07-30 13:39:28.000000000,2018-10-18 13:32:04.000000000,,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 9008}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-30 13:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/91371def0c793767092af56852441cb8f5f5b06c', 'message': 'Use eager loading for get_pool\n\nThis marks the needed relations for the api result for eager loading via\nsubquery.\n\nThis is needed to make a test failure in the queens backport of\nI32328c5206b9cd6fb8d8764c079f22b6ea8bfa9e work.\n\nStory: 2001962\nChange-Id: Ifa02f3a9de3751fab262f6d2fa28d5cd0c5437bb\n'}, {'number': 2, 'created': '2018-07-31 09:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/fba014090d2b7518e90b75a10200afa12d4e2704', 'message': 'Use eager loading for get_pool\n\nThis marks the needed relations for the api result for eager loading via\nsubquery.\n\nThis is needed to make a test failure in the queens backport of\nI32328c5206b9cd6fb8d8764c079f22b6ea8bfa9e work.\n\nStory: 2001962\nChange-Id: Ifa02f3a9de3751fab262f6d2fa28d5cd0c5437bb\n'}, {'number': 3, 'created': '2018-07-31 14:57:05.000000000', 'files': ['neutron_lbaas/db/loadbalancer/loadbalancer_dbv2.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/f0fd87434db3ed3145697ae757da8219488aca3d', 'message': 'Use eager loading for get_pool\n\nThis marks the needed relations for the api result for eager loading via\nsubquery.\n\nThis is needed to make a test failure in the queens backport of\nI32328c5206b9cd6fb8d8764c079f22b6ea8bfa9e work.\n\nStory: 2001962\nChange-Id: Ifa02f3a9de3751fab262f6d2fa28d5cd0c5437bb\n'}]",0,587061,f0fd87434db3ed3145697ae757da8219488aca3d,12,5,3,12907,,,0,"Use eager loading for get_pool

This marks the needed relations for the api result for eager loading via
subquery.

This is needed to make a test failure in the queens backport of
I32328c5206b9cd6fb8d8764c079f22b6ea8bfa9e work.

Story: 2001962
Change-Id: Ifa02f3a9de3751fab262f6d2fa28d5cd0c5437bb
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/61/587061/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lbaas/db/loadbalancer/loadbalancer_dbv2.py'],1,91371def0c793767092af56852441cb8f5f5b06c,587061," def _get_resource(self, context, model, id, for_update=False, options=None): if options: raise ValueError('Incompatible arguments: ' 'for_update=True only works with options=None') query = self._model_query(context, model) if options: query = query.options(options) resource = query.filter(model.id == id).one() options = ( subqueryload(models.PoolV2.members), subqueryload(models.PoolV2.listeners), subqueryload(models.PoolV2.l7_policies), subqueryload(models.PoolV2.loadbalancer), subqueryload(models.PoolV2.session_persistence) ) pool_db = self._get_resource(context, models.PoolV2, id, options=options)"," def _get_resource(self, context, model, id, for_update=False): resource = self._get_by_id(context, model, id) pool_db = self._get_resource(context, models.PoolV2, id)",18,3
openstack%2Fproject-config~master~I4f8a2f2c6c8164e7ea207f8e4b286e06df0b13dd,openstack/project-config,master,I4f8a2f2c6c8164e7ea207f8e4b286e06df0b13dd,wheel-mirror: serialise copies to AFS,MERGED,2018-10-17 21:22:07.000000000,2018-10-18 13:22:28.000000000,2018-10-18 13:22:28.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 21:22:07.000000000', 'files': ['playbooks/publish/wheel-mirror.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b34c442fcbb3bb1738768243512d3922d270cca1', 'message': 'wheel-mirror: serialise copies to AFS\n\nThis is a follow-on to I3761dd9d2ab752e66bcccdd2434405f11535b95f where\nI misunderstood what ""linear"" was doing.  What was really intended was\nto stop both the python2 and python3 builds copying to AFS at the same\ntime.  ""linear"" just means the *tasks* start at the same time across\nhosts; not that they run serially.  To do that you want the (aptly\nnamed) ""serial"" specifier on the playbook.\n\nAdd this so we do the copies sequentially\n\nChange-Id: I4f8a2f2c6c8164e7ea207f8e4b286e06df0b13dd\n'}]",0,611444,b34c442fcbb3bb1738768243512d3922d270cca1,7,3,1,7118,,,0,"wheel-mirror: serialise copies to AFS

This is a follow-on to I3761dd9d2ab752e66bcccdd2434405f11535b95f where
I misunderstood what ""linear"" was doing.  What was really intended was
to stop both the python2 and python3 builds copying to AFS at the same
time.  ""linear"" just means the *tasks* start at the same time across
hosts; not that they run serially.  To do that you want the (aptly
named) ""serial"" specifier on the playbook.

Add this so we do the copies sequentially

Change-Id: I4f8a2f2c6c8164e7ea207f8e4b286e06df0b13dd
",git fetch https://review.opendev.org/openstack/project-config refs/changes/44/611444/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/publish/wheel-mirror.yaml'],1,b34c442fcbb3bb1738768243512d3922d270cca1,wheel-copy-serial, # We don't want the python2 & python3 hosts copying to AFS at the # same time. In some cases for generic wheels they can have # produced a file with the same name and thus we open a window to # corruption on AFS with multiple simultaneous writers to the same # file. serial: 1, strategy: linear,6,1
openstack%2Ftripleo-ci~master~I37b135dad016bbd71ddedc8e87bbb03b0cd3fbed,openstack/tripleo-ci,master,I37b135dad016bbd71ddedc8e87bbb03b0cd3fbed,Run tripleo-ci-centos-7-undercloud-upgrades on pike/queens/rocky only,MERGED,2018-10-17 15:19:55.000000000,2018-10-18 13:10:52.000000000,2018-10-18 13:10:51.000000000,"[{'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-17 15:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8d2381897ce5729a0acc42ac46d42b937a757ff4', 'message': ""Run tripleo-ci-centos-7-undercloud-upgrades on pike/queens/rocky only\n\nWe already have tripleo-ci-centos-7-containerized-undercloud-upgrades in\nStein/master and Rocky, so we don't need tripleo-ci-centos-7-undercloud-upgrades\nin master anymore, it's testing a featureset without containerized\nundercloud environment.\n\nChange-Id: I37b135dad016bbd71ddedc8e87bbb03b0cd3fbed\n""}, {'number': 2, 'created': '2018-10-17 15:21:59.000000000', 'files': ['zuul.d/undercloud-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3ee148632c66ed0009a11faeb8e54e6f8e5da07c', 'message': ""Run tripleo-ci-centos-7-undercloud-upgrades on pike/queens/rocky only\n\nWe already have tripleo-ci-centos-7-containerized-undercloud-upgrades in\nStein/master and Rocky, so we don't need tripleo-ci-centos-7-undercloud-upgrades\nin master anymore, it's testing a featureset without containerized\nundercloud environment.\n\nChange-Id: I37b135dad016bbd71ddedc8e87bbb03b0cd3fbed\n""}]",28,611356,3ee148632c66ed0009a11faeb8e54e6f8e5da07c,14,5,2,3153,,,0,"Run tripleo-ci-centos-7-undercloud-upgrades on pike/queens/rocky only

We already have tripleo-ci-centos-7-containerized-undercloud-upgrades in
Stein/master and Rocky, so we don't need tripleo-ci-centos-7-undercloud-upgrades
in master anymore, it's testing a featureset without containerized
undercloud environment.

Change-Id: I37b135dad016bbd71ddedc8e87bbb03b0cd3fbed
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/56/611356/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/undercloud-jobs.yaml'],1,8d2381897ce5729a0acc42ac46d42b937a757ff4,ci/uc, branches: ^(?stable/(pike|queens|rocky)).*$, branches: ^(?!stable/(newton|ocata)).*$,1,1
openstack%2Fmistral~master~I06fed65a0321e4381d46a93693f9f3d622a73b8b,openstack/mistral,master,I06fed65a0321e4381d46a93693f9f3d622a73b8b,Reduce the concurrency in the 500 wb join Rally task,MERGED,2018-10-09 10:37:35.000000000,2018-10-18 13:10:30.000000000,2018-10-18 13:10:30.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 27008}]","[{'number': 1, 'created': '2018-10-09 10:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/03948e7bd3081b171ac8867971408ee8e1b440a6', 'message': 'Change the rally job to use a lighter workflow\n\nThis should reduce the number of deadlocks in MySQL, making the job more\nstable.\n\nChange-Id: I06fed65a0321e4381d46a93693f9f3d622a73b8b\n'}, {'number': 2, 'created': '2018-10-10 08:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/eebc53c1c3587f7bb22be129d58909a372c50e8d', 'message': 'Change the rally job to use a lighter workflow\n\nThis should reduce the number of deadlocks in MySQL, making the job more\nstable.\n\nChange-Id: I06fed65a0321e4381d46a93693f9f3d622a73b8b\n'}, {'number': 3, 'created': '2018-10-12 08:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/32ba488088db3eefb66c851f6932d213a84ecb2e', 'message': 'Change the rally job to use a lighter workflow\n\nThis should reduce the number of deadlocks in MySQL, making the job more\nstable.\n\nChange-Id: I06fed65a0321e4381d46a93693f9f3d622a73b8b\n'}, {'number': 4, 'created': '2018-10-16 16:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/f52235f237c790caee9dbae3b8f4691fbfbfa863', 'message': 'Change the rally job to use a lighter workflow\n\nThis should reduce the number of deadlocks in MySQL, making the job more\nstable.\n\nChange-Id: I06fed65a0321e4381d46a93693f9f3d622a73b8b\n'}, {'number': 5, 'created': '2018-10-17 08:37:18.000000000', 'files': ['rally-jobs/task-mistral.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/0b38cd8028cd4c15d7a3b8bd4598cd8faaf734c6', 'message': 'Reduce the concurrency in the 500 wb join Rally task\n\nThis should reduce the number of deadlocks in MySQL, making the job more stable.\n\nChange-Id: I06fed65a0321e4381d46a93693f9f3d622a73b8b\n'}]",0,608910,0b38cd8028cd4c15d7a3b8bd4598cd8faaf734c6,28,5,5,9712,,,0,"Reduce the concurrency in the 500 wb join Rally task

This should reduce the number of deadlocks in MySQL, making the job more stable.

Change-Id: I06fed65a0321e4381d46a93693f9f3d622a73b8b
",git fetch https://review.opendev.org/openstack/mistral refs/changes/10/608910/3 && git format-patch -1 --stdout FETCH_HEAD,"['rally-jobs/task-mistral.yaml', '.zuul.yaml']",2,03948e7bd3081b171ac8867971408ee8e1b440a6,608910, - mistral-rally-task - mistral-rally-task, - mistral-rally-task: voting: false,4,4
openstack%2Ftripleo-heat-templates~master~I800f4e21658672d881f9add573334cd2ab20613b,openstack/tripleo-heat-templates,master,I800f4e21658672d881f9add573334cd2ab20613b,Add excludes section to plan-environment.yaml,ABANDONED,2018-03-17 13:49:03.000000000,2018-10-18 13:01:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-17 13:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bd9528b182df30d559097091037fa2ced8211679', 'message': 'Add excludes section to plan-environment.yaml\n\nChange-Id: I800f4e21658672d881f9add573334cd2ab20613b\nDepends-On: I96505fae87b970d90cc7e8d37d24ec7a4b486352\n'}, {'number': 2, 'created': '2018-08-02 12:24:09.000000000', 'files': ['plan-environment.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a853106eae5e121cb0dbf2c4d041112da61486fe', 'message': 'Add excludes section to plan-environment.yaml\n\nChange-Id: I800f4e21658672d881f9add573334cd2ab20613b\nDepends-On: I96505fae87b970d90cc7e8d37d24ec7a4b486352\n'}]",0,553985,a853106eae5e121cb0dbf2c4d041112da61486fe,7,2,2,360,,,0,"Add excludes section to plan-environment.yaml

Change-Id: I800f4e21658672d881f9add573334cd2ab20613b
Depends-On: I96505fae87b970d90cc7e8d37d24ec7a4b486352
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/553985/2 && git format-patch -1 --stdout FETCH_HEAD,['plan-environment.yaml'],1,bd9528b182df30d559097091037fa2ced8211679,plan_excludes,excludes: - .tox - .git - tools - ci - plan-samples - releasenotes,,7,0
openstack%2Ftripleo-heat-templates~master~I8115333bb3be27a461f7dab9aba20749ed695a49,openstack/tripleo-heat-templates,master,I8115333bb3be27a461f7dab9aba20749ed695a49,Run update jobs for fuller set of services,MERGED,2018-10-16 17:21:35.000000000,2018-10-18 12:52:53.000000000,2018-10-18 12:52:53.000000000,"[{'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-10-16 17:21:35.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab1fb06b865baebdc3a02dc370df0082898199c5', 'message': 'Run update jobs for fuller set of services\n\nNormally the listed services are omitted from the scenario jobs\nbecause they are often covered by many other ""default"" jobs. However,\nin the case of the update job, this is our only update job, so we need\nto try to run it on a full set of services which are deployed by the\njob. Otherwise we risk breaking the gate by merging something that\naffects update job without testing it by the update job.\n\nChange-Id: I8115333bb3be27a461f7dab9aba20749ed695a49\n'}]",2,611100,ab1fb06b865baebdc3a02dc370df0082898199c5,11,10,1,8042,,,0,"Run update jobs for fuller set of services

Normally the listed services are omitted from the scenario jobs
because they are often covered by many other ""default"" jobs. However,
in the case of the update job, this is our only update job, so we need
to try to run it on a full set of services which are deployed by the
job. Otherwise we risk breaking the gate by merging something that
affects update job without testing it by the update job.

Change-Id: I8115333bb3be27a461f7dab9aba20749ed695a49
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/611100/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,ab1fb06b865baebdc3a02dc370df0082898199c5,update-job-services, - ^(docker|puppet)/services/.*ca-certs.*$ - ^(docker|puppet)/services/.*clustercheck.*$ - ^(docker|puppet)/services/.*container-image-prepare.*$ - ^(docker|puppet)/services/.*docker.*$ - ^(docker|puppet)/services/.*haproxy.*$ - ^(docker|puppet)/services/.*kernel.*$ - ^(docker|puppet)/services/.*memcached.*$ - ^(docker|puppet)/services/.*mysql.*$ - ^(docker|puppet)/services/.*ntp.*$ - ^(docker|puppet)/services/.*pacemaker.*$ - ^(docker|puppet)/services/.*rabbitmq.*$ - ^(docker|puppet)/services/.*snmp.*$ - ^(docker|puppet)/services/.*timezone.*$ - ^(docker|puppet)/services/.*tripleo-packages.*$ - ^(docker|puppet)/services/.*tripleo-firewall.*$ - ^(docker|puppet)/services/.*sshd.*$,,16,0
openstack%2Ftripleo-quickstart-extras~master~Id3032031d6ef8bea964c4e3946299469ce80e364,openstack/tripleo-quickstart-extras,master,Id3032031d6ef8bea964c4e3946299469ce80e364,WIP: Remove use_overcloud_mixed_upgrade from tqe.,ABANDONED,2018-09-05 16:02:35.000000000,2018-10-18 12:46:44.000000000,,"[{'_account_id': 8871}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-09-05 16:02:35.000000000', 'files': ['roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2', 'playbooks/multinode-overcloud-prep.yml', 'roles/overcloud-prep-containers/defaults/main.yml', 'roles/overcloud-prep-containers/README.md', 'roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a3ed61a743c37f77dffd8807bffad67a72818add', 'message': 'WIP: Remove use_overcloud_mixed_upgrade from tqe.\n\nChange-Id: Id3032031d6ef8bea964c4e3946299469ce80e364\n'}]",0,600107,a3ed61a743c37f77dffd8807bffad67a72818add,10,5,1,26343,,,0,"WIP: Remove use_overcloud_mixed_upgrade from tqe.

Change-Id: Id3032031d6ef8bea964c4e3946299469ce80e364
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/07/600107/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/multinode-overcloud-prep.yml', 'roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2', 'roles/overcloud-prep-containers/defaults/main.yml', 'roles/overcloud-prep-containers/README.md', 'roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2']",5,a3ed61a743c37f77dffd8807bffad67a72818add,,{% if update_containers|bool %},{% if update_containers|bool and not use_overcloud_mixed_upgrade|default(false)|bool %},2,6
openstack%2Ftripleo-upgrade~master~Ib2a6d4d8b4d4256841bf78dbe1e79d796c84b6e5,openstack/tripleo-upgrade,master,Ib2a6d4d8b4d4256841bf78dbe1e79d796c84b6e5,Use external-(upgrade|update) commands for Ceph.,MERGED,2018-09-24 09:45:51.000000000,2018-10-18 12:44:46.000000000,2018-10-18 12:44:46.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-09-24 09:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/36979812afaf9a5c9c5dea36255811f881cc233f', 'message': 'Use external-(upgrade|update) commands for Ceph.\n\nAfter switching from Heat workflow resources to external_deploy_tasks,\nthe `ceph-upgrade run` command no longer works and is dropped.\nInstead use `external-update run` and `external-upgrade run` commands.\n\nAlso run ping/L3/load tests, if requested, during Ceph update/upgrade.\n\nChange-Id: Ib2a6d4d8b4d4256841bf78dbe1e79d796c84b6e5\n'}, {'number': 2, 'created': '2018-10-04 13:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/661c301ee0849f59f49f96ce879cd3b96ac39c96', 'message': 'Use external-(upgrade|update) commands for Ceph.\n\nAfter switching from Heat workflow resources to external_deploy_tasks,\nthe `ceph-upgrade run` command no longer works and is dropped.\nInstead use `external-update run` and `external-upgrade run` commands.\n\nAlso run ping/L3/load tests, if requested, during Ceph update/upgrade.\n\nChange-Id: Ib2a6d4d8b4d4256841bf78dbe1e79d796c84b6e5\n'}, {'number': 3, 'created': '2018-10-08 13:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9c20f2522d3ad9f4e189d04feab34e0206d5bdd3', 'message': 'Use external-(upgrade|update) commands for Ceph.\n\nAfter switching from Heat workflow resources to external_deploy_tasks,\nthe `ceph-upgrade run` command no longer works and is dropped.\nInstead use `external-update run` and `external-upgrade run` commands.\n\nAlso run ping/L3/load tests, if requested, during Ceph update/upgrade.\n\nChange-Id: Ib2a6d4d8b4d4256841bf78dbe1e79d796c84b6e5\n'}, {'number': 4, 'created': '2018-10-08 15:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/224430927975cf8d759ba7da93c130d43957bb84', 'message': 'Use external-(upgrade|update) commands for Ceph.\n\nAfter switching from Heat workflow resources to external_deploy_tasks,\nthe `ceph-upgrade run` command no longer works and is dropped.\nInstead use `external-update run` and `external-upgrade run` commands.\n\nAlso run ping/L3/load tests, if requested, during Ceph update/upgrade.\n\nChange-Id: Ib2a6d4d8b4d4256841bf78dbe1e79d796c84b6e5\n'}, {'number': 5, 'created': '2018-10-16 18:54:06.000000000', 'files': ['templates/ceph-update-run.sh.j2', 'templates/ceph-upgrade-run.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c0c804dfbbe33fb3e32610348fd3aba922f95887', 'message': 'Use external-(upgrade|update) commands for Ceph.\n\nAfter switching from Heat workflow resources to external_deploy_tasks,\nthe `ceph-upgrade run` command no longer works and is dropped.\nInstead use `external-update run` and `external-upgrade run` commands.\n\nAlso run ping/L3/load tests, if requested, during Ceph update/upgrade.\n\nChange-Id: Ib2a6d4d8b4d4256841bf78dbe1e79d796c84b6e5\n'}]",7,604712,c0c804dfbbe33fb3e32610348fd3aba922f95887,29,8,5,21537,,,0,"Use external-(upgrade|update) commands for Ceph.

After switching from Heat workflow resources to external_deploy_tasks,
the `ceph-upgrade run` command no longer works and is dropped.
Instead use `external-update run` and `external-upgrade run` commands.

Also run ping/L3/load tests, if requested, during Ceph update/upgrade.

Change-Id: Ib2a6d4d8b4d4256841bf78dbe1e79d796c84b6e5
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/12/604712/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ceph-update-run.sh.j2', 'templates/ceph-upgrade-run.sh.j2']",2,36979812afaf9a5c9c5dea36255811f881cc233f,ceph-upg-new,"set -euo pipefail {% if l3_agent_connectivity_check|bool %} if [[ -e {{ working_dir }}/l3_agent_start_ping.sh ]]; then source {{ overcloud_rc }} bash {{ working_dir }}/l3_agent_start_ping.sh fi {% endif %} {% if l3_agent_failover_check|bool %} if [[ -e {{ working_dir }}/l3_agent_failover_pre.sh ]]; then source {{ overcloud_rc }} bash {{ working_dir }}/l3_agent_failover_pre.sh fi {% endif %} {% if fip_http_check|bool %} source {{ overcloud_rc }} kill -9 $( lsof -t {{ working_dir }}/fip_http_check_start.sh ) || : bash {{ working_dir }}/fip_http_check_start.sh & {% endif %} echo ""[$(date)] Major upgrade - Ceph upgrade step"" overcloud external-upgrade run \ {% if overcloud_ssh_user != '' -%} --ssh-user {{ overcloud_ssh_user }} \ {% endif -%} {% if ceph_upgrade_skip_tags|default(false) -%} --skip-tags ""{{ ceph_upgrade_skip_tags }}"" \ {% endif -%} --tags ceph 2>&1 echo ""[$(date)] Major upgrade - finished Ceph upgrade step"" {% if l3_agent_connectivity_check|bool %} if [[ -e {{ working_dir }}/l3_agent_stop_ping.sh ]]; then source {{ overcloud_rc }} bash {{ working_dir }}/l3_agent_stop_ping.sh fi {% endif %} {% if l3_agent_failover_check|bool %} if [[ -e {{ working_dir }}/l3_agent_failover_post.sh ]]; then source {{ overcloud_rc }} bash {{ working_dir }}/l3_agent_failover_post.sh fi {% endif %} {% if fip_http_check|bool %} source {{ overcloud_rc }} kill -9 $( lsof -t {{ working_dir }}/fip_http_check_start.sh ) bash {{ working_dir }}/fip_http_check_stop.sh {% endif %}","echo ""[$(date)] Started {% if ffu_overcloud_upgrade %} ffwd-upgrade {% else %} major {% endif %}upgrade Ceph step"" openstack overcloud ceph-upgrade run \ --templates {{ tht_directory }} \ {% if initial_env_file is defined and initial_env_file.stdout_lines|length > 0 %} {% for _env in initial_env_file.stdout_lines %} -e {{ _env }} \ {% endfor %} {% endif %} {% if cli_converted_options|default(false)|bool %} -e {{working_dir}}/cli_opts_params.yaml \ {% endif %} {% if ffu_overcloud_upgrade %} {% if deployment_with_ha_upstream %} -e {{ tht_directory }}/environments/docker.yaml \ -e {{ tht_directory }}/environments/docker-ha.yaml \ {% endif %} -e {{working_dir}}/ceph-ansible-env.yaml \ --ceph-ansible-playbook '/usr/share/ceph-ansible/infrastructure-playbooks/switch-from-non-containerized-to-containerized-ceph-daemons.yml,/usr/share/ceph-ansible/infrastructure-playbooks/rolling_update.yml' \ {% endif %} {% if tripleo_upgrade_validations_non_fatal|bool %} --validation-errors-nonfatal \ {% endif %} -e {{ working_dir }}/{{ container_registry_file }} \ {% if splitstack_deployment|bool %} --disable-validations \ --deployed-server \ {% endif %} {% if (not ffu_overcloud_upgrade or roles_data != default_roles_data) %}--roles-file {{ roles_data }}{% endif %} 2>&1 echo ""[$(date)] Finished CEPH upgrade""",99,46
openstack%2Fnova~master~Ib684091af0b19e62396f6becc78c656c49a60504,openstack/nova,master,Ib684091af0b19e62396f6becc78c656c49a60504,Handle online_data_migrations exceptions,MERGED,2018-10-04 21:30:22.000000000,2018-10-18 12:39:51.000000000,2018-10-17 07:07:06.000000000,"[{'_account_id': 4393}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11604}, {'_account_id': 12898}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23561}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2018-10-04 21:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2925d631d531de1bd502174203374b8e28b77b6', 'message': 'Handle online_data_migrations exceptions\n\nWhen online_data_migrations raise exceptions, nova/cinder-manage catches\nthe exceptions, prints fairly useless ""something didn\'t work"" messages,\nand moves on. Two issues:\n\n1) The user(/admin) has no way to see what actually failed (exception\n   detail is not logged)\n\n2) The command returns exit status 0, as if all possible migrations have\n   been completed successfully - this can cause failures to get missed,\n   especially if automated\n\nThis change adds logging of the exceptions, and returns 1 if any were\nencountered\n\nChange-Id: Ib684091af0b19e62396f6becc78c656c49a60504\nCloses-Bug: #1796192\n'}, {'number': 2, 'created': '2018-10-09 20:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b3d2962926a0dca52623194e799b173becaa87dd', 'message': 'Handle online_data_migrations exceptions\n\nWhen online_data_migrations raise exceptions, nova/cinder-manage catches\nthe exceptions, prints fairly useless ""something didn\'t work"" messages,\nand moves on. Two issues:\n\n1) The user(/admin) has no way to see what actually failed (exception\n   detail is not logged)\n\n2) The command returns exit status 0, as if all possible migrations have\n   been completed successfully - this can cause failures to get missed,\n   especially if automated\n\nThis change adds logging of the exceptions, and returns 1 if any were\nencountered\n\nChange-Id: Ib684091af0b19e62396f6becc78c656c49a60504\nCloses-Bug: #1796192\n'}, {'number': 3, 'created': '2018-10-10 00:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58f918a010e01a86658695f2df8764767f21fecf', 'message': 'Handle online_data_migrations exceptions\n\nWhen online_data_migrations raise exceptions, nova/cinder-manage catches\nthe exceptions, prints fairly useless ""something didn\'t work"" messages,\nand moves on. Two issues:\n\n1) The user(/admin) has no way to see what actually failed (exception\n   detail is not logged)\n\n2) The command returns exit status 0, as if all possible migrations have\n   been completed successfully - this can cause failures to get missed,\n   especially if automated\n\nThis change adds logging of the exceptions, and introduces a new exit\nstatus of 2, which indicates that no updates appear to remain pending,\nbut some are (still) failing, which requires intervention.\n\nChange-Id: Ib684091af0b19e62396f6becc78c656c49a60504\nCloses-Bug: #1796192\n'}, {'number': 4, 'created': '2018-10-10 23:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72712b460f5b5124c814e16cdd8efa07cc1d80c7', 'message': 'Handle online_data_migrations exceptions\n\nWhen online_data_migrations raise exceptions, nova/cinder-manage catches\nthe exceptions, prints fairly useless ""something didn\'t work"" messages,\nand moves on. Two issues:\n\n1) The user(/admin) has no way to see what actually failed (exception\n   detail is not logged)\n\n2) The command returns exit status 0, as if all possible migrations have\n   been completed successfully - this can cause failures to get missed,\n   especially if automated\n\nThis change adds logging of the exceptions, and introduces a new exit\nstatus of 2, which indicates that no updates took effect in the last\nbatch attempt, but some are (still) failing, which requires intervention.\n\nChange-Id: Ib684091af0b19e62396f6becc78c656c49a60504\nCloses-Bug: #1796192\n'}, {'number': 5, 'created': '2018-10-15 20:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/919fd30eb78a974954d6d9e32ea44c98f26a177d', 'message': 'Handle online_data_migrations exceptions\n\nWhen online_data_migrations raise exceptions, nova/cinder-manage catches\nthe exceptions, prints fairly useless ""something didn\'t work"" messages,\nand moves on. Two issues:\n\n1) The user(/admin) has no way to see what actually failed (exception\n   detail is not logged)\n\n2) The command returns exit status 0, as if all possible migrations have\n   been completed successfully - this can cause failures to get missed,\n   especially if automated\n\nThis change adds logging of the exceptions, and introduces a new exit\nstatus of 2, which indicates that no updates took effect in the last\nbatch attempt, but some are (still) failing, which requires intervention.\n\nChange-Id: Ib684091af0b19e62396f6becc78c656c49a60504\nCloses-Bug: #1796192\n'}, {'number': 6, 'created': '2018-10-16 15:49:52.000000000', 'files': ['doc/source/user/upgrade.rst', 'releasenotes/notes/nova-manage-online-migrations-exit-status-9de5ea7836d0e368.yaml', 'doc/source/cli/nova-manage.rst', 'nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3eea37b85b1abc72786a2b24baf01141b4d95f08', 'message': 'Handle online_data_migrations exceptions\n\nWhen online_data_migrations raise exceptions, nova/cinder-manage catches\nthe exceptions, prints fairly useless ""something didn\'t work"" messages,\nand moves on. Two issues:\n\n1) The user(/admin) has no way to see what actually failed (exception\n   detail is not logged)\n\n2) The command returns exit status 0, as if all possible migrations have\n   been completed successfully - this can cause failures to get missed,\n   especially if automated\n\nThis change adds logging of the exceptions, and introduces a new exit\nstatus of 2, which indicates that no updates took effect in the last\nbatch attempt, but some are (still) failing, which requires intervention.\n\nChange-Id: Ib684091af0b19e62396f6becc78c656c49a60504\nCloses-Bug: #1796192\n'}]",39,608091,3eea37b85b1abc72786a2b24baf01141b4d95f08,115,24,6,23561,,,0,"Handle online_data_migrations exceptions

When online_data_migrations raise exceptions, nova/cinder-manage catches
the exceptions, prints fairly useless ""something didn't work"" messages,
and moves on. Two issues:

1) The user(/admin) has no way to see what actually failed (exception
   detail is not logged)

2) The command returns exit status 0, as if all possible migrations have
   been completed successfully - this can cause failures to get missed,
   especially if automated

This change adds logging of the exceptions, and introduces a new exit
status of 2, which indicates that no updates took effect in the last
batch attempt, but some are (still) failing, which requires intervention.

Change-Id: Ib684091af0b19e62396f6becc78c656c49a60504
Closes-Bug: #1796192
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/608091/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py']",2,e2925d631d531de1bd502174203374b8e28b77b6,bug/1796192,"LOG = logging.getLogger(__name__) exceptions = False msg = (_(""Error attempting to run %(method)s"") % dict( method=migration_meth)) print(msg) LOG.exception(msg) exceptions = True return migrations, exceptions got_exceptions = False while ran is None or ran != 0: migrations, exceptions = self._run_migration(ctxt, max_count) got_exceptions = exceptions or got_exceptions # NOTE(imacdonn): apparently there are situations where it's # expected for some migrations to raise exceptions the first # time, but work on retry (maybe after other migrations have # completed). Return 1 in this case, since that seems to be # the way to indicate that more work remains to be done. if got_exceptions: print(_(""Some migrations raised exceptions. Check log, resolve "" ""issues (if applicable), and retry."")) return 1 "," print(_(""Error attempting to run %(method)s"") % dict( method=migration_meth)) return migrations while ran is None or ran != 0: migrations = self._run_migration(ctxt, max_count)",27,9
openstack%2Fneutron~stable%2Focata~I5f344af6dc3e5a6ee5f52c250b6c719e1b43e02d,openstack/neutron,stable/ocata,I5f344af6dc3e5a6ee5f52c250b6c719e1b43e02d,[Functional] Increase test_timeout for db migration tests,MERGED,2018-10-17 15:24:02.000000000,2018-10-18 11:56:50.000000000,2018-10-18 11:56:50.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 15:24:02.000000000', 'files': ['neutron/tests/functional/db/test_migrations.py', 'neutron/tests/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1cb8901b4213648a7fec1978e98905c6eac8bcd9', 'message': ""[Functional] Increase test_timeout for db migration tests\n\nIn Neutron we hit quite often same issue as Manila, see [1] for\ndetails.\nIt looks that solution for this problem may be increase timeout\nfor test_walk_version functional tests.\nHigher timeout will be applied for tests for both pgsql and mysql\nbackends but it is mostly needed for mysql because 'pymysql' works\nmuch slower on slow nodes than 'psycopg2'\n\nThis patch adds also new decorator to set individual timeout for\ntests.\n\n[1] https://bugs.launchpad.net/manila/+bug/1501272\n\nChange-Id: I5f344af6dc3e5a6ee5f52c250b6c719e1b43e02d\nCloses-Bug: #1687027\n(cherry picked from commit c2c37272bf788aac63399127cddd487dc0f15c38)\n""}]",0,611360,1cb8901b4213648a7fec1978e98905c6eac8bcd9,11,6,1,11975,,,0,"[Functional] Increase test_timeout for db migration tests

In Neutron we hit quite often same issue as Manila, see [1] for
details.
It looks that solution for this problem may be increase timeout
for test_walk_version functional tests.
Higher timeout will be applied for tests for both pgsql and mysql
backends but it is mostly needed for mysql because 'pymysql' works
much slower on slow nodes than 'psycopg2'

This patch adds also new decorator to set individual timeout for
tests.

[1] https://bugs.launchpad.net/manila/+bug/1501272

Change-Id: I5f344af6dc3e5a6ee5f52c250b6c719e1b43e02d
Closes-Bug: #1687027
(cherry picked from commit c2c37272bf788aac63399127cddd487dc0f15c38)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/611360/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/db/test_migrations.py', 'neutron/tests/base.py']",2,1cb8901b4213648a7fec1978e98905c6eac8bcd9,bug/1687027,"def set_timeout(timeout): """"""Timeout decorator for test methods. Use this decorator for tests that are expected to pass in very specific amount of time, not common for all other tests. It can have either big or small value. """""" def decor(f): @functools.wraps(f) def inner(self, *args, **kwargs): self.useFixture(fixtures.Timeout(timeout, gentle=True)) return f(self, *args, **kwargs) return inner return decor ",,28,1
openstack%2Fneutron~stable%2Fqueens~I5f344af6dc3e5a6ee5f52c250b6c719e1b43e02d,openstack/neutron,stable/queens,I5f344af6dc3e5a6ee5f52c250b6c719e1b43e02d,[Functional] Increase test_timeout for db migration tests,MERGED,2018-10-17 15:20:20.000000000,2018-10-18 11:56:48.000000000,2018-10-18 11:56:47.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 15:20:20.000000000', 'files': ['neutron/tests/functional/db/test_migrations.py', 'neutron/tests/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/db07fe8698dc24b8a6b7f09a96492d1bb959cc74', 'message': ""[Functional] Increase test_timeout for db migration tests\n\nIn Neutron we hit quite often same issue as Manila, see [1] for\ndetails.\nIt looks that solution for this problem may be increase timeout\nfor test_walk_version functional tests.\nHigher timeout will be applied for tests for both pgsql and mysql\nbackends but it is mostly needed for mysql because 'pymysql' works\nmuch slower on slow nodes than 'psycopg2'\n\nThis patch adds also new decorator to set individual timeout for\ntests.\n\n[1] https://bugs.launchpad.net/manila/+bug/1501272\n\nChange-Id: I5f344af6dc3e5a6ee5f52c250b6c719e1b43e02d\nCloses-Bug: #1687027\n(cherry picked from commit c2c37272bf788aac63399127cddd487dc0f15c38)\n""}]",0,611357,db07fe8698dc24b8a6b7f09a96492d1bb959cc74,10,6,1,11975,,,0,"[Functional] Increase test_timeout for db migration tests

In Neutron we hit quite often same issue as Manila, see [1] for
details.
It looks that solution for this problem may be increase timeout
for test_walk_version functional tests.
Higher timeout will be applied for tests for both pgsql and mysql
backends but it is mostly needed for mysql because 'pymysql' works
much slower on slow nodes than 'psycopg2'

This patch adds also new decorator to set individual timeout for
tests.

[1] https://bugs.launchpad.net/manila/+bug/1501272

Change-Id: I5f344af6dc3e5a6ee5f52c250b6c719e1b43e02d
Closes-Bug: #1687027
(cherry picked from commit c2c37272bf788aac63399127cddd487dc0f15c38)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/611357/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/db/test_migrations.py', 'neutron/tests/base.py']",2,db07fe8698dc24b8a6b7f09a96492d1bb959cc74,bug/1687027,"def set_timeout(timeout): """"""Timeout decorator for test methods. Use this decorator for tests that are expected to pass in very specific amount of time, not common for all other tests. It can have either big or small value. """""" def decor(f): @functools.wraps(f) def inner(self, *args, **kwargs): self.useFixture(fixtures.Timeout(timeout, gentle=True)) return f(self, *args, **kwargs) return inner return decor def get_rootwrap_cmd(): return os.environ.get('OS_ROOTWRAP_CMD', SUDO_CMD) def get_rootwrap_daemon_cmd(): return os.environ.get('OS_ROOTWRAP_DAEMON_CMD') ",,36,1
openstack%2Fneutron~stable%2Frocky~I5f344af6dc3e5a6ee5f52c250b6c719e1b43e02d,openstack/neutron,stable/rocky,I5f344af6dc3e5a6ee5f52c250b6c719e1b43e02d,[Functional] Increase test_timeout for db migration tests,MERGED,2018-10-17 15:16:00.000000000,2018-10-18 11:56:45.000000000,2018-10-18 11:56:45.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 15:16:00.000000000', 'files': ['neutron/tests/functional/db/test_migrations.py', 'neutron/tests/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/026d911832256fa2f79ff808b99d578e43dd2c7f', 'message': ""[Functional] Increase test_timeout for db migration tests\n\nIn Neutron we hit quite often same issue as Manila, see [1] for\ndetails.\nIt looks that solution for this problem may be increase timeout\nfor test_walk_version functional tests.\nHigher timeout will be applied for tests for both pgsql and mysql\nbackends but it is mostly needed for mysql because 'pymysql' works\nmuch slower on slow nodes than 'psycopg2'\n\nThis patch adds also new decorator to set individual timeout for\ntests.\n\n[1] https://bugs.launchpad.net/manila/+bug/1501272\n\nChange-Id: I5f344af6dc3e5a6ee5f52c250b6c719e1b43e02d\nCloses-Bug: #1687027\n(cherry picked from commit c2c37272bf788aac63399127cddd487dc0f15c38)\n""}]",0,611354,026d911832256fa2f79ff808b99d578e43dd2c7f,11,6,1,11975,,,0,"[Functional] Increase test_timeout for db migration tests

In Neutron we hit quite often same issue as Manila, see [1] for
details.
It looks that solution for this problem may be increase timeout
for test_walk_version functional tests.
Higher timeout will be applied for tests for both pgsql and mysql
backends but it is mostly needed for mysql because 'pymysql' works
much slower on slow nodes than 'psycopg2'

This patch adds also new decorator to set individual timeout for
tests.

[1] https://bugs.launchpad.net/manila/+bug/1501272

Change-Id: I5f344af6dc3e5a6ee5f52c250b6c719e1b43e02d
Closes-Bug: #1687027
(cherry picked from commit c2c37272bf788aac63399127cddd487dc0f15c38)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/611354/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/db/test_migrations.py', 'neutron/tests/base.py']",2,026d911832256fa2f79ff808b99d578e43dd2c7f,bug/1687027,"def set_timeout(timeout): """"""Timeout decorator for test methods. Use this decorator for tests that are expected to pass in very specific amount of time, not common for all other tests. It can have either big or small value. """""" def decor(f): @functools.wraps(f) def inner(self, *args, **kwargs): self.useFixture(fixtures.Timeout(timeout, gentle=True)) return f(self, *args, **kwargs) return inner return decor ",,28,1
openstack%2Fopenstack-ansible~master~I249c4d74fc37e5e351150df3344fb1847fe17569,openstack/openstack-ansible,master,I249c4d74fc37e5e351150df3344fb1847fe17569,fix typo in releasenotes,MERGED,2018-10-15 12:55:34.000000000,2018-10-18 11:54:30.000000000,2018-10-18 11:54:30.000000000,"[{'_account_id': 6816}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-15 12:55:34.000000000', 'files': ['releasenotes/notes/journal-log-ccbb504642b49614.yaml', 'releasenotes/notes/journal-log-cxcb512642b49617.yaml', 'releasenotes/notes/journal-log-ccbb504642b49611.yaml', 'releasenotes/notes/journal-log-ycba504642b47619.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/34085317039391c22197e9d38dd3523b93ecc24e', 'message': 'fix typo in releasenotes\n\nChange-Id: I249c4d74fc37e5e351150df3344fb1847fe17569\n'}]",0,610505,34085317039391c22197e9d38dd3523b93ecc24e,8,4,1,4128,,,0,"fix typo in releasenotes

Change-Id: I249c4d74fc37e5e351150df3344fb1847fe17569
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/05/610505/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/journal-log-ccbb504642b49614.yaml', 'releasenotes/notes/journal-log-cxcb512642b49617.yaml', 'releasenotes/notes/journal-log-ccbb504642b49611.yaml', 'releasenotes/notes/journal-log-ycba504642b47619.yaml']",4,34085317039391c22197e9d38dd3523b93ecc24e,, systemd journal., systmed journal.,4,4
openstack%2Fopenstack-ansible~stable%2Frocky~I249c4d74fc37e5e351150df3344fb1847fe17569,openstack/openstack-ansible,stable/rocky,I249c4d74fc37e5e351150df3344fb1847fe17569,fix typo in releasenotes,MERGED,2018-10-15 13:45:25.000000000,2018-10-18 11:48:30.000000000,2018-10-18 11:48:30.000000000,"[{'_account_id': 6816}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-15 13:45:25.000000000', 'files': ['releasenotes/notes/journal-log-ccbb504642b49614.yaml', 'releasenotes/notes/journal-log-cxcb512642b49617.yaml', 'releasenotes/notes/journal-log-ccbb504642b49611.yaml', 'releasenotes/notes/journal-log-ycba504642b47619.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4d675ce016b383f5e63fd912baf0ddcd09100237', 'message': 'fix typo in releasenotes\n\nChange-Id: I249c4d74fc37e5e351150df3344fb1847fe17569\n(cherry picked from commit 34085317039391c22197e9d38dd3523b93ecc24e)\n'}]",0,610519,4d675ce016b383f5e63fd912baf0ddcd09100237,8,4,1,4128,,,0,"fix typo in releasenotes

Change-Id: I249c4d74fc37e5e351150df3344fb1847fe17569
(cherry picked from commit 34085317039391c22197e9d38dd3523b93ecc24e)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/19/610519/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/journal-log-ccbb504642b49614.yaml', 'releasenotes/notes/journal-log-cxcb512642b49617.yaml', 'releasenotes/notes/journal-log-ccbb504642b49611.yaml', 'releasenotes/notes/journal-log-ycba504642b47619.yaml']",4,4d675ce016b383f5e63fd912baf0ddcd09100237,rocky, systemd journal., systmed journal.,4,4
openstack%2Fneutron-lib~master~I94801ff34ae91401c05d5442b6fb48d6d0056073,openstack/neutron-lib,master,I94801ff34ae91401c05d5442b6fb48d6d0056073,Make retry decorator work if context is in self,ABANDONED,2018-09-26 08:47:12.000000000,2018-10-18 11:39:46.000000000,,"[{'_account_id': 5367}, {'_account_id': 8313}, {'_account_id': 8871}, {'_account_id': 11816}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 26507}, {'_account_id': 27654}, {'_account_id': 28581}]","[{'number': 1, 'created': '2018-09-26 08:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6e13e2bf29b159655f854720e07d24bd0f5495de', 'message': 'Make retry decorator work if context is in self\n\nThe change I28d6154fbe274c24b9d2cdc4df90f611a5b5650f started to use\nretry_if_session_inactive decorator on methods that access context\nvariable in the self instance variable. This patch adds the same change\nto neutron_lib.\n\nChange-Id: I94801ff34ae91401c05d5442b6fb48d6d0056073\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 2, 'created': '2018-10-02 13:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d298c36a694e702be81ce012afac6c6f780e544f', 'message': 'Make retry decorator work if context is in self\n\nThe change I28d6154fbe274c24b9d2cdc4df90f611a5b5650f started to use\nretry_if_session_inactive decorator on methods that access context\nvariable in the self instance variable. This patch adds the same change\nto neutron_lib.\n\nChange-Id: I94801ff34ae91401c05d5442b6fb48d6d0056073\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 3, 'created': '2018-10-03 18:31:57.000000000', 'files': ['neutron_lib/tests/unit/db/test_api.py', 'releasenotes/notes/make-retry-if-session-inactive-decorator-work-if-context-is-in-self-341fd2558b1a8d79.yaml', 'neutron_lib/db/api.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/9f59fbea4ffb6629a489d7afbb0e831f2b522f5f', 'message': 'Make retry decorator work if context is in self\n\nThe change I28d6154fbe274c24b9d2cdc4df90f611a5b5650f started to use\nretry_if_session_inactive decorator on methods that access context\nvariable in the self instance variable. This patch adds the same change\nto neutron_lib.\n\nCo-Authored-By: Hongbin Lu <hongbin.lu@huawei.com>\nChange-Id: I94801ff34ae91401c05d5442b6fb48d6d0056073\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}]",16,605365,9f59fbea4ffb6629a489d7afbb0e831f2b522f5f,23,9,3,8313,,,0,"Make retry decorator work if context is in self

The change I28d6154fbe274c24b9d2cdc4df90f611a5b5650f started to use
retry_if_session_inactive decorator on methods that access context
variable in the self instance variable. This patch adds the same change
to neutron_lib.

Co-Authored-By: Hongbin Lu <hongbin.lu@huawei.com>
Change-Id: I94801ff34ae91401c05d5442b6fb48d6d0056073
Partially-Implements: blueprint adopt-oslo-versioned-objects-for-db
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/65/605365/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/tests/unit/db/test_api.py', 'neutron_lib/db/api.py']",2,6e13e2bf29b159655f854720e07d24bd0f5495de,bp/adopt-oslo-versioned-objects-for-db,"def retry_if_session_inactive(context_var_name='context', context_var_in_first_arg=False): if context_var_in_first_arg: context = getattr(args[0], context_var_name) elif context_var_name in kwargs: try: # NOTE(kevinbenton): we use pecan's util function here # because it deals with the horrors of finding args of # already decorated functions ctx_arg_index = p_util.getargspec(f).args.index( context_var_name) except ValueError: msg = _(""Could not find position of var %s"") % \ context_var_name raise RuntimeError(msg)","def retry_if_session_inactive(context_var_name='context'): try: # NOTE(kevinbenton): we use pecan's util function here because it # deals with the horrors of finding args of already decorated # functions ctx_arg_index = p_util.getargspec(f).args.index(context_var_name) except ValueError: msg = _(""Could not find position of var %s"") % context_var_name raise RuntimeError(msg) if context_var_name in kwargs:",40,10
openstack%2Fcharm-ceph-mon~master~I8d57719fce4f152a105d8a61c08b556873105708,openstack/charm-ceph-mon,master,I8d57719fce4f152a105d8a61c08b556873105708,"Use fully qualified basepython for py{35,36} targets",MERGED,2018-10-16 10:41:07.000000000,2018-10-18 11:32:47.000000000,2018-10-18 11:32:47.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 10:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/a1a10dbf56a3a27606fa3ee4fb8019e2b604cca7', 'message': 'Use fully qualified basepython for py{35,36} targets\n\nMake sure the exact python version is used for specific python\nunit testing targets.\n\nChange-Id: I8d57719fce4f152a105d8a61c08b556873105708\n'}, {'number': 2, 'created': '2018-10-16 11:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/05ac0a9eade13549c9a20c1cfbf4099a73e91214', 'message': 'Use fully qualified basepython for py{35,36} targets\n\nMake sure the exact python version is used for specific python\nunit testing targets.\n\nChange-Id: I8d57719fce4f152a105d8a61c08b556873105708\n'}, {'number': 3, 'created': '2018-10-16 11:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/4025c8c8edfbac813ae6cecc45803307958ccab3', 'message': 'Use fully qualified basepython for py{35,36} targets\n\nMake sure the exact python version is used for specific python\nunit testing targets.\n\nChange-Id: I8d57719fce4f152a105d8a61c08b556873105708\n'}, {'number': 4, 'created': '2018-10-16 11:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/d9890152c6b81386210f788e0ac2f03c4be907cf', 'message': 'Use fully qualified basepython for py{35,36} targets\n\nMake sure the exact python version is used for specific python\nunit testing targets.\n\nChange-Id: I8d57719fce4f152a105d8a61c08b556873105708\n'}, {'number': 5, 'created': '2018-10-16 12:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/63c2c07a3c4e4d36166ab17bf7229d82c127c0b0', 'message': 'Use fully qualified basepython for py{35,36} targets\n\nMake sure the exact python version is used for specific python\nunit testing targets.\n\nChange-Id: I8d57719fce4f152a105d8a61c08b556873105708\n'}, {'number': 6, 'created': '2018-10-16 12:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/1a22585d845906cf0ed7de454d4d2b749079da00', 'message': 'Use fully qualified basepython for py{35,36} targets\n\nMake sure the exact python version is used for specific python\nunit testing targets.\n\nChange-Id: I8d57719fce4f152a105d8a61c08b556873105708\n'}, {'number': 7, 'created': '2018-10-16 13:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/380729d665eff03f5b1cc5e63b7cdc0f817a670f', 'message': 'Use fully qualified basepython for py{35,36} targets\n\nMake sure the exact python version is used for specific python\nunit testing targets.\n\nChange-Id: I8d57719fce4f152a105d8a61c08b556873105708\n'}, {'number': 8, 'created': '2018-10-16 13:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/9df8181f7bff44f3c09f6c8e91a204f55d9ec6f6', 'message': 'Use fully qualified basepython for py{35,36} targets\n\nMake sure the exact python version is used for specific python\nunit testing targets.\n\nChange-Id: I8d57719fce4f152a105d8a61c08b556873105708\n'}, {'number': 9, 'created': '2018-10-17 13:55:58.000000000', 'files': ['tests/basic_deployment.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/fd331820d0f146165914d57638ca08fba406742a', 'message': 'Use fully qualified basepython for py{35,36} targets\n\nMake sure the exact python version is used for specific python\nunit testing targets.\n\nUpdate functional tests to include nova-cloud-controller.\n\nChange-Id: I8d57719fce4f152a105d8a61c08b556873105708\n'}]",0,610930,fd331820d0f146165914d57638ca08fba406742a,31,5,9,935,,,0,"Use fully qualified basepython for py{35,36} targets

Make sure the exact python version is used for specific python
unit testing targets.

Update functional tests to include nova-cloud-controller.

Change-Id: I8d57719fce4f152a105d8a61c08b556873105708
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/30/610930/9 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a1a10dbf56a3a27606fa3ee4fb8019e2b604cca7,bug/1794878,basepython = python3.5basepython = python3.6,basepython = python3basepython = python3,2,2
openstack%2Fopenstack-ansible-os_trove~stable%2Frocky~I2351c93c2ce5beb44404dc05b487f40e14973810,openstack/openstack-ansible-os_trove,stable/rocky,I2351c93c2ce5beb44404dc05b487f40e14973810,use include_tasks instead of include,MERGED,2018-10-05 00:49:40.000000000,2018-10-18 11:31:21.000000000,2018-10-18 11:31:21.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-05 00:49:40.000000000', 'files': ['tasks/main.yml', 'tests/test.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/feb925c3b21a0697f05b05470bfe0add13936a63', 'message': 'use include_tasks instead of include\n\ninclude is marked as deprecated since ansible 2.4[0]\n\nSwitch to include_tasks or import_playbook as necessary\n\n[0] https://docs.ansible.com/ansible/2.4/include_module.html#deprecated\n\nChange-Id: I2351c93c2ce5beb44404dc05b487f40e14973810\n(cherry picked from commit d21b6809e9a01c637d5a4af70f8bdfd347d6b209)\n'}]",0,608107,feb925c3b21a0697f05b05470bfe0add13936a63,7,3,1,22165,,,0,"use include_tasks instead of include

include is marked as deprecated since ansible 2.4[0]

Switch to include_tasks or import_playbook as necessary

[0] https://docs.ansible.com/ansible/2.4/include_module.html#deprecated

Change-Id: I2351c93c2ce5beb44404dc05b487f40e14973810
(cherry picked from commit d21b6809e9a01c637d5a4af70f8bdfd347d6b209)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/07/608107/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tests/test.yml']",2,feb925c3b21a0697f05b05470bfe0add13936a63,,- import_playbook: common/test-setup-host.yml- import_playbook: common/test-install-infra.yml- import_playbook: common/test-install-keystone.yml- import_playbook: test-install-trove.yml- import_playbook: common/test-install-tempest.yml,- include: common/test-setup-host.yml- include: common/test-install-infra.yml- include: common/test-install-keystone.yml- include: test-install-trove.yml- include: common/test-install-tempest.yml,12,13
openstack%2Fopenstack-ansible-os_keystone~master~I201101f6d2bf733b375577b6af138272b9d0ce6b,openstack/openstack-ansible-os_keystone,master,I201101f6d2bf733b375577b6af138272b9d0ce6b,Only do sshd enablement task on the first play host,MERGED,2018-10-03 09:55:49.000000000,2018-10-18 11:31:16.000000000,2018-10-18 11:26:01.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-03 09:55:49.000000000', 'files': ['tasks/keystone_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/aefb58080337633e6d4c10bb2709c8d73ab9564d', 'message': 'Only do sshd enablement task on the first play host\n\nWe only need to do this task once in the play because it\ndelegates to all the hosts already. Currently it will do\nthe sshd enablement 9 times for 3 hosts.\n\nWe also add a comment to explain why this is being done\nfor future reference.\n\nChange-Id: I201101f6d2bf733b375577b6af138272b9d0ce6b\n'}]",4,607522,aefb58080337633e6d4c10bb2709c8d73ab9564d,18,7,1,6816,,,0,"Only do sshd enablement task on the first play host

We only need to do this task once in the play because it
delegates to all the hosts already. Currently it will do
the sshd enablement 9 times for 3 hosts.

We also add a comment to explain why this is being done
for future reference.

Change-Id: I201101f6d2bf733b375577b6af138272b9d0ce6b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/22/607522/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/keystone_post_install.yml'],1,aefb58080337633e6d4c10bb2709c8d73ab9564d,make-sshd-run,"# If SSH is not running on all nodes immediately, then # the key rotation script will not be able to copy the # keys to the other nodes when they rotate. - name: Enable SSHD on all keystone hosts when: ""inventory_hostname == ansible_play_hosts[0]""",- name: Enable SSHD,5,1
openstack%2Fironic-python-agent~stable%2Fqueens~Ic2188b49e717c62315db6c33b74b2e161436b052,openstack/ironic-python-agent,stable/queens,Ic2188b49e717c62315db6c33b74b2e161436b052,Add missing dependencies to CoreOS IPA docker image,MERGED,2018-10-17 16:12:25.000000000,2018-10-18 11:29:20.000000000,2018-10-18 11:29:20.000000000,"[{'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 16:12:25.000000000', 'files': ['Dockerfile'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c6492f610c7ee72a29da97ffa9dbf221918f9e43', 'message': 'Add missing dependencies to CoreOS IPA docker image\n\nThe iptables and lshw utilities are both required for IPA: iptables is\nused when collecting system logs and lshw is used to get the total\nphysical memory and system details. However, they were not installed in\nthe docker image embedded in CoreOS IPA images. Since the docker image\nis used as a chroot to run IPA, it cannot access binaries available\noutside in the main CoreOS file system.\n\nConflicts:\n\tDockerfile\n\nChange-Id: Ic2188b49e717c62315db6c33b74b2e161436b052\nStory: #2004092\nTask: #27494\n(cherry picked from commit c6ea17d413ec5e379e7eb9dcef39f5181a36380c)\n'}]",0,611379,c6492f610c7ee72a29da97ffa9dbf221918f9e43,7,3,1,15197,,,0,"Add missing dependencies to CoreOS IPA docker image

The iptables and lshw utilities are both required for IPA: iptables is
used when collecting system logs and lshw is used to get the total
physical memory and system details. However, they were not installed in
the docker image embedded in CoreOS IPA images. Since the docker image
is used as a chroot to run IPA, it cannot access binaries available
outside in the main CoreOS file system.

Conflicts:
	Dockerfile

Change-Id: Ic2188b49e717c62315db6c33b74b2e161436b052
Story: #2004092
Task: #27494
(cherry picked from commit c6ea17d413ec5e379e7eb9dcef39f5181a36380c)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/79/611379/1 && git format-patch -1 --stdout FETCH_HEAD,['Dockerfile'],1,c6492f610c7ee72a29da97ffa9dbf221918f9e43,, ipmitool psmisc dosfstools bsdmainutils open-iscsi udev \ iptables lshw && \, ipmitool psmisc dosfstools bsdmainutils open-iscsi udev && \,2,1
openstack%2Fironic-python-agent~stable%2Frocky~Ic2188b49e717c62315db6c33b74b2e161436b052,openstack/ironic-python-agent,stable/rocky,Ic2188b49e717c62315db6c33b74b2e161436b052,Add missing dependencies to CoreOS IPA docker image,MERGED,2018-10-17 16:07:44.000000000,2018-10-18 11:29:18.000000000,2018-10-18 11:29:18.000000000,"[{'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 16:07:44.000000000', 'files': ['Dockerfile'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4b20765f992a3685b5c47208f168f51c8d5354b3', 'message': 'Add missing dependencies to CoreOS IPA docker image\n\nThe iptables and lshw utilities are both required for IPA: iptables is\nused when collecting system logs and lshw is used to get the total\nphysical memory and system details. However, they were not installed in\nthe docker image embedded in CoreOS IPA images. Since the docker image\nis used as a chroot to run IPA, it cannot access binaries available\noutside in the main CoreOS file system.\n\nChange-Id: Ic2188b49e717c62315db6c33b74b2e161436b052\nStory: #2004092\nTask: #27494\n(cherry picked from commit c6ea17d413ec5e379e7eb9dcef39f5181a36380c)\n'}]",0,611377,4b20765f992a3685b5c47208f168f51c8d5354b3,7,3,1,15197,,,0,"Add missing dependencies to CoreOS IPA docker image

The iptables and lshw utilities are both required for IPA: iptables is
used when collecting system logs and lshw is used to get the total
physical memory and system details. However, they were not installed in
the docker image embedded in CoreOS IPA images. Since the docker image
is used as a chroot to run IPA, it cannot access binaries available
outside in the main CoreOS file system.

Change-Id: Ic2188b49e717c62315db6c33b74b2e161436b052
Story: #2004092
Task: #27494
(cherry picked from commit c6ea17d413ec5e379e7eb9dcef39f5181a36380c)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/77/611377/1 && git format-patch -1 --stdout FETCH_HEAD,['Dockerfile'],1,4b20765f992a3685b5c47208f168f51c8d5354b3,, smartmontools iptables lshw && \, smartmontools && \,1,1
openstack%2Fironic-lib~stable%2Fqueens~I43182f17b1c6229132814313f7582ab30245f6bb,openstack/ironic-lib,stable/queens,I43182f17b1c6229132814313f7582ab30245f6bb,Check GPT table with sgdisk insread of partprobe,MERGED,2018-10-09 00:43:14.000000000,2018-10-18 11:15:24.000000000,2018-10-18 11:15:24.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-09 00:43:14.000000000', 'files': ['ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/3917e65de0717fadd693c2ed890dad4fb905c0f4', 'message': ""Check GPT table with sgdisk insread of partprobe\n\nOn centos7.2, it doesn't happen every time, but sometimes, partprobe\nfails with error `Device or resource busy` in _fix_gpt_structs. In fact,\nthis is not a problem, I tried ignoring this error and ran remain code.\nThings went well. The target of running `partprobe` is to check GPT\ntable, we can run `sgdisk -v` instead.\n\nThis patch is to replace `partprobe` command in _fix_gpt_structs to\navoid `Device or resource busy` error.\n\nChange-Id: I43182f17b1c6229132814313f7582ab30245f6bb\n(cherry picked from commit b9a109c65f23b217aac9e698fdfd47f4fc174331)\n""}]",0,608795,3917e65de0717fadd693c2ed890dad4fb905c0f4,7,3,1,27641,,,0,"Check GPT table with sgdisk insread of partprobe

On centos7.2, it doesn't happen every time, but sometimes, partprobe
fails with error `Device or resource busy` in _fix_gpt_structs. In fact,
this is not a problem, I tried ignoring this error and ran remain code.
Things went well. The target of running `partprobe` is to check GPT
table, we can run `sgdisk -v` instead.

This patch is to replace `partprobe` command in _fix_gpt_structs to
avoid `Device or resource busy` error.

Change-Id: I43182f17b1c6229132814313f7582ab30245f6bb
(cherry picked from commit b9a109c65f23b217aac9e698fdfd47f4fc174331)
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/95/608795/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py']",2,3917e65de0717fadd693c2ed890dad4fb905c0f4,fix_parprobe-stable/queens," output, _err = utils.execute('sgdisk', '-v', device, run_as_root=True) search_str = ""it doesn't reside\nat the end of the disk"" if search_str in output:"," output, err = utils.execute('partprobe', device, use_standard_locale=True, run_as_root=True) search_str = ""fix the GPT to use all of the space"" if search_str in err:",14,19
openstack%2Ftripleo-heat-templates~master~Ifa8a135426c60e0f9fb3c4b2b6e63fde02f23bfb,openstack/tripleo-heat-templates,master,Ifa8a135426c60e0f9fb3c4b2b6e63fde02f23bfb,Disable non-containerized Swift services,MERGED,2018-10-17 12:22:11.000000000,2018-10-18 11:07:03.000000000,2018-10-18 10:07:49.000000000,"[{'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-17 12:22:11.000000000', 'files': ['docker/services/swift-storage.yaml', 'releasenotes/notes/disable-non-containerized-swift-services-4f7edd98203d749b.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9174cf8597fd9488dd3a2adfe7461a12fdc5b9c0', 'message': 'Disable non-containerized Swift services\n\nSome services were not disabled after upgrading to a containerized\nundercloud. This patch fixes this.\n\nCloses-Bug: 1798366\n\nChange-Id: Ifa8a135426c60e0f9fb3c4b2b6e63fde02f23bfb\n'}]",0,611299,9174cf8597fd9488dd3a2adfe7461a12fdc5b9c0,10,5,1,6968,,,0,"Disable non-containerized Swift services

Some services were not disabled after upgrading to a containerized
undercloud. This patch fixes this.

Closes-Bug: 1798366

Change-Id: Ifa8a135426c60e0f9fb3c4b2b6e63fde02f23bfb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/611299/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/swift-storage.yaml', 'releasenotes/notes/disable-non-containerized-swift-services-4f7edd98203d749b.yaml']",2,9174cf8597fd9488dd3a2adfe7461a12fdc5b9c0,bug/1798366,--- fixes: - | Make sure all Swift services are disabled after upgrading to a containerized undercloud. ,,9,0
openstack%2Fcinder~master~I03d6214abf050e5f9a2cc5fa0772150bbbf8520e,openstack/cinder,master,I03d6214abf050e5f9a2cc5fa0772150bbbf8520e,Adding regression test for update_group,MERGED,2018-10-15 11:12:06.000000000,2018-10-18 10:57:07.000000000,2018-10-17 13:42:39.000000000,"[{'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11611}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 20284}, {'_account_id': 20722}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-15 11:12:06.000000000', 'files': ['cinder/tests/unit/group/test_groups_manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6449d734c788b5e30b5f11d9911b4b729d31b28d', 'message': 'Adding regression test for update_group\n\nInitially the issue was fixed here If74d23b9413209ee8db3c58fc71d215abeb580b2,\nbut due to code changes, the same issue was repeated and fixed here,\nIa43a6f2df7fd4066a0ed26450b26a1456d4cecfa.\nAddressing the comment on the latest fix, adding test case.\n\nChange-Id: I03d6214abf050e5f9a2cc5fa0772150bbbf8520e\nRelated-Bug: #1645207\n'}]",0,610476,6449d734c788b5e30b5f11d9911b4b729d31b28d,33,28,1,27615,,,0,"Adding regression test for update_group

Initially the issue was fixed here If74d23b9413209ee8db3c58fc71d215abeb580b2,
but due to code changes, the same issue was repeated and fixed here,
Ia43a6f2df7fd4066a0ed26450b26a1456d4cecfa.
Addressing the comment on the latest fix, adding test case.

Change-Id: I03d6214abf050e5f9a2cc5fa0772150bbbf8520e
Related-Bug: #1645207
",git fetch https://review.opendev.org/openstack/cinder refs/changes/76/610476/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/group/test_groups_manager.py'],1,6449d734c788b5e30b5f11d9911b4b729d31b28d,bug/1645207," def test_update_group_vol_not_found(self): """"""Test add non existent volume to group"""""" group = tests_utils.create_group( self.context, availability_zone=CONF.storage_availability_zone, volume_type_ids=[fake.VOLUME_TYPE_ID], group_type_id=fake.GROUP_TYPE_ID, host=CONF.host) self.volume.create_group(self.context, group) self.assertRaises(exception.VolumeNotFound, self.volume.update_group, self.context, group, add_volumes=fake.VOLUME_ID, remove_volumes=fake.VOLUME2_ID) ",,16,0
openstack%2Fmurano-dashboard~master~I8d53871e213a2918971bdebc21f831b57c9fa526,openstack/murano-dashboard,master,I8d53871e213a2918971bdebc21f831b57c9fa526,Increment versioning with pbr instruction,MERGED,2018-10-15 13:48:01.000000000,2018-10-18 10:52:31.000000000,2018-10-18 10:52:31.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-15 13:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/fa3a04487029ea4824f728706da03a4e59d7dd34', 'message': 'Increment versioning with pbr instruction\n\nWith moving away from required milestone releases, the version numbers\ncalculated by PBR on the master branch will not work for those testing\nupgrades from the last stable release. More details can be found in the\nmailing list post here:\n\n    http://lists.openstack.org/pipermail/openstack-dev/2018-October/135706.html\n\nThis is an empty commit that will cause PBR to increment its calculated\nversion to get around this.\n\nPBR will see the following which will cause it to increment the version:\n\nSem-Ver: feature\n\nPlease merge this patch as soon as possible to support those testing\nupgrades.\n\nChange-Id: I8d53871e213a2918971bdebc21f831b57c9fa526\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,610550,fa3a04487029ea4824f728706da03a4e59d7dd34,6,2,1,11904,,,0,"Increment versioning with pbr instruction

With moving away from required milestone releases, the version numbers
calculated by PBR on the master branch will not work for those testing
upgrades from the last stable release. More details can be found in the
mailing list post here:

    http://lists.openstack.org/pipermail/openstack-dev/2018-October/135706.html

This is an empty commit that will cause PBR to increment its calculated
version to get around this.

PBR will see the following which will cause it to increment the version:

Sem-Ver: feature

Please merge this patch as soon as possible to support those testing
upgrades.

Change-Id: I8d53871e213a2918971bdebc21f831b57c9fa526
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/50/610550/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,fa3a04487029ea4824f728706da03a4e59d7dd34,sem-ver,,,0,0
openstack%2Fopenstack-ansible-os_neutron~stable%2Frocky~I4409fb86529b02efbfb82e71bf5a955651983b74,openstack/openstack-ansible-os_neutron,stable/rocky,I4409fb86529b02efbfb82e71bf5a955651983b74,zuul: Switch Xenial jobs to Bionic,MERGED,2018-09-29 11:42:17.000000000,2018-10-18 10:46:14.000000000,2018-10-18 10:46:14.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-09-29 11:42:17.000000000', 'files': ['vars/ubuntu.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/eafb0b4ad8d8b3d629b3b366361d4465c604692e', 'message': 'zuul: Switch Xenial jobs to Bionic\n\nXenial does not support anything newer than Queens so there is little\npoint having distro jobs for it. Lets switch to Bionic. Moreover, the\nneutron plugins have been merged with the respective agents so we\nneed to get rid of these non-existing packages.\n\nChange-Id: I4409fb86529b02efbfb82e71bf5a955651983b74\n(cherry picked from commit 7caa03d8cd026365ccc798c35474251cb7b59a5c)\n'}]",0,606389,eafb0b4ad8d8b3d629b3b366361d4465c604692e,13,5,1,6816,,,0,"zuul: Switch Xenial jobs to Bionic

Xenial does not support anything newer than Queens so there is little
point having distro jobs for it. Lets switch to Bionic. Moreover, the
neutron plugins have been merged with the respective agents so we
need to get rid of these non-existing packages.

Change-Id: I4409fb86529b02efbfb82e71bf5a955651983b74
(cherry picked from commit 7caa03d8cd026365ccc798c35474251cb7b59a5c)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/89/606389/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/ubuntu.yml', 'zuul.d/project.yaml']",2,eafb0b4ad8d8b3d629b3b366361d4465c604692e,switch-xenial-bionic-stable/rocky, - openstack-ansible-functional-distro_install-ubuntu-bionic - openstack-ansible-functional-distro_install-ubuntu-bionic, - openstack-ansible-functional-distro_install-ubuntu-xenial - openstack-ansible-functional-distro_install-ubuntu-xenial,2,4
openstack%2Fsahara~master~Ie134ac68e86b88267f3a800f84b97e8cf61c9d95,openstack/sahara,master,Ie134ac68e86b88267f3a800f84b97e8cf61c9d95,DNM Dummy change to trigger jobs,ABANDONED,2016-04-11 10:26:46.000000000,2018-10-18 10:39:54.000000000,,"[{'_account_id': 3}, {'_account_id': 7213}, {'_account_id': 8871}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-04-11 10:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/aef3043109d8db155c4d9341a0a47699031b4d03', 'message': 'WIP Dummy change to trigger jobs\n\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\nDepends-On: If25c343fb4871755dbb32eedc724268a3a617270\n'}, {'number': 2, 'created': '2016-04-12 17:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/543a0543e0b4f58061a7f0156ee669e2c6bfad0e', 'message': 'WIP Dummy change to trigger jobs\n\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\nDepends-On: I938ddc67a3deff6e495ec3be1ebb7e35493cba10\n'}, {'number': 3, 'created': '2016-06-08 10:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/a48666956d2b589aaacca6c8df74ef266c416ba7', 'message': 'WIP Dummy change to trigger jobs\n\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\nDepends-On: Ifb2ded543f7595c7483e417f21f8dd293bb0269e\n'}, {'number': 4, 'created': '2016-10-12 08:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/ccd4f8202a179ddbcd2fad32a719d75e3c5d715f', 'message': 'WIP Dummy change to trigger jobs\n\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\nDepends-On: I246120926726317691da84ab8b18c3d3fcba58a9\n\n'}, {'number': 5, 'created': '2016-10-12 08:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/8ab1ee09ef036bfeb6765a749030699defcdaa31', 'message': 'WIP Dummy change to trigger jobs\n\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\nDepends-On: I246120926726317691da84ab8b18c3d3fcba58a9\n\n'}, {'number': 6, 'created': '2016-12-01 16:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/418e5eaeb4e810da6fa71f7b67b3b10eba195cbb', 'message': 'WIP Dummy change to trigger jobs\n\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\nDepends-On: Idca310c08e345db59840eb31434c6cb1f849fa70\n'}, {'number': 7, 'created': '2017-01-30 15:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/a5a1705be60e3f9bf50fba9e7e2b570fe520c21b', 'message': 'WIP Dummy change to trigger jobs\n\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\nDepends-On: Id608025d610de2099d7be37dcff35de33c10b9d5\n'}, {'number': 8, 'created': '2017-01-30 16:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/e050a101b7ea58ab4c48fdcd1c8e8f866637bbf1', 'message': 'WIP Dummy change to trigger jobs\n\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\nDepends-On: Id608025d610de2099d7be37dcff35de33c10b9d5\n'}, {'number': 9, 'created': '2017-02-24 15:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/2ee868fe95a083252c86109b79f25c2891afaf98', 'message': 'WIP Dummy change to trigger jobs\n\nDepends-On: Iea30155e551ff4e230fc57c4e0dc98dbc139e8e2\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\n'}, {'number': 10, 'created': '2017-03-22 15:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/7387dd106341218b46c8915b2cfc0bc854091a2e', 'message': 'DNM Dummy change to trigger jobs\n\nLower the requirements for oslo.concurrency.\n\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\n'}, {'number': 11, 'created': '2017-08-17 15:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/5299a72c2ac7380c43cdce94c705ba691258288f', 'message': 'DNM Dummy change to trigger jobs\n\nTest with the proposed changes in tempest/tempest.lib.\n\nDepends-On: If3fcb13c82ca9abb9988dd4ac8c4ccea24409549\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\n'}, {'number': 12, 'created': '2017-08-30 14:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/dc753a2ce447d1e7a13895576b2a148182aec1c9', 'message': 'DNM Dummy change to trigger jobs\n\nTest with the proposed changes in tempest/tempest.lib.\n\nDepends-On: I43c181f886522d02605222ae3d8005efb5d5861a\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\n'}, {'number': 13, 'created': '2017-10-06 11:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/85480e91a9957df625e1fa46f6c41156e973bb49', 'message': 'DNM Dummy change to trigger jobs\n\nTest some changes for tempest.lib and in the gate script.\n\nDepends-On: I6d34e76b4089be024093a75f9e467d273d80f1c2\nDepends-On: I7b6ab578f080f6fde8c6a800c6d839372ad5c9a2\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\n'}, {'number': 14, 'created': '2017-10-30 14:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/1a887b9764dd32df8ae7019f833aaf1737872c03', 'message': 'DNM Dummy change to trigger jobs\n\nTest various changees.\n\nDepends-On: I6d34e76b4089be024093a75f9e467d273d80f1c2\nDepends-On: I09ea1e092e1ba05e7f36191869c4da798e94b287\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\n'}, {'number': 15, 'created': '2017-12-22 22:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/c400e71092aa3f6affae53a381efc8c6c3dc0c41', 'message': 'DNM Dummy change to trigger jobs\n\nTest various changees.\n\nDepends-On: I6d34e76b4089be024093a75f9e467d273d80f1c2\nDepends-On: I09ea1e092e1ba05e7f36191869c4da798e94b287\nDepends-On: Ibd13ee35e7e0e31dca8fd87322696603dd898a7f\nDepends-On: Ibb57e216410afeef4d55d8ba2576aaacfa2f8c1a\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\n'}, {'number': 16, 'created': '2017-12-22 22:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/3b2c31ae8b22571218bcf2f99102ff1b081d4a4e', 'message': 'DNM Dummy change to trigger jobs\n\nTest various changees.\n\nDepends-On: I6d34e76b4089be024093a75f9e467d273d80f1c2\nDepends-On: Ibd13ee35e7e0e31dca8fd87322696603dd898a7f\nDepends-On: Ibb57e216410afeef4d55d8ba2576aaacfa2f8c1a\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\n'}, {'number': 17, 'created': '2017-12-23 13:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/e2f475c2e9bdeb19fe26179d0f39df078cd6596b', 'message': 'DNM Dummy change to trigger jobs\n\nTest various changees.\n\nDepends-On: I6d34e76b4089be024093a75f9e467d273d80f1c2\nDepends-On: Ibd13ee35e7e0e31dca8fd87322696603dd898a7f\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\n'}, {'number': 18, 'created': '2017-12-23 16:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/f8b8a9ce9bc0c12c5d79379aa4703630256e8a26', 'message': 'DNM Dummy change to trigger jobs\n\nTest various changees.\n\nDepends-On: I6d34e76b4089be024093a75f9e467d273d80f1c2\nDepends-On: Ibd13ee35e7e0e31dca8fd87322696603dd898a7f\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\n'}, {'number': 19, 'created': '2017-12-28 17:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/afea84efc1346af99402190157d1d68483ccdf31', 'message': 'DNM Dummy change to trigger jobs\n\nTest various changees.\n\nDepends-On: I6d34e76b4089be024093a75f9e467d273d80f1c2\nDepends-On: Ibd13ee35e7e0e31dca8fd87322696603dd898a7f\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\n'}, {'number': 20, 'created': '2018-01-02 12:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/3b50a5df72a38fcfc9f34a36f7282fff08c52ab4', 'message': 'DNM Dummy change to trigger jobs\n\nTest various changees.\n\nDepends-On: I6d34e76b4089be024093a75f9e467d273d80f1c2\nDepends-On: Ibd13ee35e7e0e31dca8fd87322696603dd898a7f\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\n'}, {'number': 21, 'created': '2018-01-09 15:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/6d609ce6bc81dc043862a7fab37386b53d43aedd', 'message': 'DNM Dummy change to trigger jobs\n\nTest various changees.\n\nDepends-On: I6d34e76b4089be024093a75f9e467d273d80f1c2\nDepends-On: Ibd13ee35e7e0e31dca8fd87322696603dd898a7f\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\n'}, {'number': 22, 'created': '2018-01-16 16:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/82dacb1012d5a06a9d8dbb739279bbb536e69467', 'message': 'DNM Dummy change to trigger jobs\n\nTest various changees.\n\nDepends-On: Ibd13ee35e7e0e31dca8fd87322696603dd898a7f\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\n'}, {'number': 23, 'created': '2018-01-29 17:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/8044bf9b7f4d50523da3da0864da45d9afaffac8', 'message': 'DNM Dummy change to trigger jobs\n\nTest various changees.\n\nDepends-On: Ibd13ee35e7e0e31dca8fd87322696603dd898a7f\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\n'}, {'number': 24, 'created': '2018-02-13 22:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/406407e03b1560af9d4a77d19b999ff145437d7a', 'message': 'DNM Dummy change to trigger jobs\n\nTest various changees.\n\nDepends-On: https://review.openstack.org/516339\nDepends-On: https://review.openstack.org/544121\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\n'}, {'number': 25, 'created': '2018-02-14 15:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/de0055f0f2be860be3c6d2251bb6ce35b54eb93c', 'message': 'DNM Dummy change to trigger jobs\n\nTest various changees.\n\nDepends-On: https://review.openstack.org/516339\nDepends-On: https://review.openstack.org/544383\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\n'}, {'number': 26, 'created': '2018-03-09 09:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/4b6764d26967ba376e26d7695fb3566e50ce4569', 'message': 'DNM Dummy change to trigger jobs\n\nTest various changees.\n\nDepends-On: https://review.openstack.org/516339\nDepends-On: https://review.openstack.org/544383\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\n'}, {'number': 27, 'created': '2018-06-18 09:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/34d45e233093c1b354f6f35dbf4a93df931397c0', 'message': 'DNM Dummy change to trigger jobs\n\nTest various changees.\n\nDepends-On: https://review.openstack.org/576056\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\n'}, {'number': 28, 'created': '2018-06-19 15:04:06.000000000', 'files': ['sahara/i18n.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/29152127333ce69c0224da71b060b570784014f3', 'message': 'DNM Dummy change to trigger jobs\n\nTest various changees.\n\nDepends-On: https://review.openstack.org/576548\nChange-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95\n'}]",0,304019,29152127333ce69c0224da71b060b570784014f3,167,5,28,10459,,,0,"DNM Dummy change to trigger jobs

Test various changees.

Depends-On: https://review.openstack.org/576548
Change-Id: Ie134ac68e86b88267f3a800f84b97e8cf61c9d95
",git fetch https://review.opendev.org/openstack/sahara refs/changes/19/304019/6 && git format-patch -1 --stdout FETCH_HEAD,['sahara/i18n.py'],1,aef3043109d8db155c4d9341a0a47699031b4d03,just-a-test,"# The primary translation function using the well-known name ""_"".","# The primary translation function using the well-known name ""_""",1,1
openstack%2Fceilometer~stable%2Frocky~Ia90e4fb28c42467a9090d53742b5acc9d4841aaa,openstack/ceilometer,stable/rocky,Ia90e4fb28c42467a9090d53742b5acc9d4841aaa,Skip oslo.messaging 9.0.0 release,ABANDONED,2018-10-09 11:34:24.000000000,2018-10-18 10:32:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-09 11:34:24.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ea8f7c3bf263159299894192b0566fa28eec7454', 'message': 'Skip oslo.messaging 9.0.0 release\n\nWith oslo.messaging 9.0.0 the ceilometer tests are failing. A fix [1]\nin oslo.messaging already proposed and merged, but a release is needed\nfor the ceilometer tests to pass.\n\n[1] https://review.openstack.org/#/c/608196/\n\nChange-Id: Ia90e4fb28c42467a9090d53742b5acc9d4841aaa\n(cherry picked from commit e4997a4ccfbf75dd738b120c47baba52fc8746b0)\n'}]",0,608922,ea8f7c3bf263159299894192b0566fa28eec7454,3,1,1,17685,,,0,"Skip oslo.messaging 9.0.0 release

With oslo.messaging 9.0.0 the ceilometer tests are failing. A fix [1]
in oslo.messaging already proposed and merged, but a release is needed
for the ceilometer tests to pass.

[1] https://review.openstack.org/#/c/608196/

Change-Id: Ia90e4fb28c42467a9090d53742b5acc9d4841aaa
(cherry picked from commit e4997a4ccfbf75dd738b120c47baba52fc8746b0)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/22/608922/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,ea8f7c3bf263159299894192b0566fa28eec7454,,"oslo.messaging!=9.0.0,>=5.12.0 # Apache-2.0",oslo.messaging>=5.12.0 # Apache-2.0,1,1
openstack%2Fceilometer~stable%2Fqueens~Ia90e4fb28c42467a9090d53742b5acc9d4841aaa,openstack/ceilometer,stable/queens,Ia90e4fb28c42467a9090d53742b5acc9d4841aaa,Skip oslo.messaging 9.0.0 release,ABANDONED,2018-10-09 11:40:52.000000000,2018-10-18 10:32:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-09 11:40:52.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/420a22154406724b29c156c16169410870258aba', 'message': 'Skip oslo.messaging 9.0.0 release\n\nWith oslo.messaging 9.0.0 the ceilometer tests are failing. A fix [1]\nin oslo.messaging already proposed and merged, but a release is needed\nfor the ceilometer tests to pass.\n\n[1] https://review.openstack.org/#/c/608196/\n\nChange-Id: Ia90e4fb28c42467a9090d53742b5acc9d4841aaa\n(cherry picked from commit e4997a4ccfbf75dd738b120c47baba52fc8746b0)\n(cherry picked from commit ea8f7c3bf263159299894192b0566fa28eec7454)\n'}]",0,608925,420a22154406724b29c156c16169410870258aba,3,1,1,17685,,,0,"Skip oslo.messaging 9.0.0 release

With oslo.messaging 9.0.0 the ceilometer tests are failing. A fix [1]
in oslo.messaging already proposed and merged, but a release is needed
for the ceilometer tests to pass.

[1] https://review.openstack.org/#/c/608196/

Change-Id: Ia90e4fb28c42467a9090d53742b5acc9d4841aaa
(cherry picked from commit e4997a4ccfbf75dd738b120c47baba52fc8746b0)
(cherry picked from commit ea8f7c3bf263159299894192b0566fa28eec7454)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/25/608925/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,420a22154406724b29c156c16169410870258aba,,"oslo.messaging!=9.0.0,>=5.12.0 # Apache-2.0",oslo.messaging>=5.12.0 # Apache-2.0,1,1
openstack%2Fceilometer~stable%2Fpike~Ia90e4fb28c42467a9090d53742b5acc9d4841aaa,openstack/ceilometer,stable/pike,Ia90e4fb28c42467a9090d53742b5acc9d4841aaa,Skip oslo.messaging 9.0.0 release,ABANDONED,2018-10-09 11:50:43.000000000,2018-10-18 10:32:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-09 11:50:43.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/881b9b7596952e8e6e1b29c749a757718cc856a3', 'message': 'Skip oslo.messaging 9.0.0 release\n\nWith oslo.messaging 9.0.0 the ceilometer tests are failing. A fix [1]\nin oslo.messaging already proposed and merged, but a release is needed\nfor the ceilometer tests to pass.\n\n[1] https://review.openstack.org/#/c/608196/\n\n Conflicts:\n\trequirements.txt\n\nNote(elod.illes): There were changes in requirements.txt, but otherwise\nit was trivial to merge.\n\nChange-Id: Ia90e4fb28c42467a9090d53742b5acc9d4841aaa\n(cherry picked from commit e4997a4ccfbf75dd738b120c47baba52fc8746b0)\n(cherry picked from commit ea8f7c3bf263159299894192b0566fa28eec7454)\n(cherry picked from commit 420a22154406724b29c156c16169410870258aba)\n'}]",0,608926,881b9b7596952e8e6e1b29c749a757718cc856a3,3,1,1,17685,,,0,"Skip oslo.messaging 9.0.0 release

With oslo.messaging 9.0.0 the ceilometer tests are failing. A fix [1]
in oslo.messaging already proposed and merged, but a release is needed
for the ceilometer tests to pass.

[1] https://review.openstack.org/#/c/608196/

 Conflicts:
	requirements.txt

Note(elod.illes): There were changes in requirements.txt, but otherwise
it was trivial to merge.

Change-Id: Ia90e4fb28c42467a9090d53742b5acc9d4841aaa
(cherry picked from commit e4997a4ccfbf75dd738b120c47baba52fc8746b0)
(cherry picked from commit ea8f7c3bf263159299894192b0566fa28eec7454)
(cherry picked from commit 420a22154406724b29c156c16169410870258aba)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/26/608926/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,881b9b7596952e8e6e1b29c749a757718cc856a3,,"oslo.messaging!=9.0.0,>=5.12.0 # Apache-2.0",oslo.messaging>=5.12.0 # Apache-2.0,1,1
openstack%2Fceilometer~stable%2Focata~Ia90e4fb28c42467a9090d53742b5acc9d4841aaa,openstack/ceilometer,stable/ocata,Ia90e4fb28c42467a9090d53742b5acc9d4841aaa,Skip oslo.messaging 9.0.0 release,ABANDONED,2018-10-09 11:58:46.000000000,2018-10-18 10:31:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-09 11:58:46.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e0e219a0d2ba223d01e119bc5eb833d1e72c6f54', 'message': 'Skip oslo.messaging 9.0.0 release\n\nWith oslo.messaging 9.0.0 the ceilometer tests are failing. A fix [1]\nin oslo.messaging already proposed and merged, but a release is needed\nfor the ceilometer tests to pass.\n\n[1] https://review.openstack.org/#/c/608196/\n\n Conflicts:\n\trequirements.txt\n\nNote(elod.illes): There were changes in requirements.txt, but otherwise\nit was trivial to merge. The difference is that on newer branches\noslo.messaging is required to be greater than 5.12.0 not 5.2.0 as in\nocata.\n\nChange-Id: Ia90e4fb28c42467a9090d53742b5acc9d4841aaa\n(cherry picked from commit e4997a4ccfbf75dd738b120c47baba52fc8746b0)\n(cherry picked from commit ea8f7c3bf263159299894192b0566fa28eec7454)\n(cherry picked from commit 420a22154406724b29c156c16169410870258aba)\n(cherry picked from commit 881b9b7596952e8e6e1b29c749a757718cc856a3)\n'}]",0,608927,e0e219a0d2ba223d01e119bc5eb833d1e72c6f54,3,1,1,17685,,,0,"Skip oslo.messaging 9.0.0 release

With oslo.messaging 9.0.0 the ceilometer tests are failing. A fix [1]
in oslo.messaging already proposed and merged, but a release is needed
for the ceilometer tests to pass.

[1] https://review.openstack.org/#/c/608196/

 Conflicts:
	requirements.txt

Note(elod.illes): There were changes in requirements.txt, but otherwise
it was trivial to merge. The difference is that on newer branches
oslo.messaging is required to be greater than 5.12.0 not 5.2.0 as in
ocata.

Change-Id: Ia90e4fb28c42467a9090d53742b5acc9d4841aaa
(cherry picked from commit e4997a4ccfbf75dd738b120c47baba52fc8746b0)
(cherry picked from commit ea8f7c3bf263159299894192b0566fa28eec7454)
(cherry picked from commit 420a22154406724b29c156c16169410870258aba)
(cherry picked from commit 881b9b7596952e8e6e1b29c749a757718cc856a3)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/27/608927/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,e0e219a0d2ba223d01e119bc5eb833d1e72c6f54,,"oslo.messaging!=9.0.0,>=5.2.0 # Apache-2.0",oslo.messaging>=5.2.0 # Apache-2.0,1,1
openstack%2Fkuryr-kubernetes~master~I89e969ae52378a7c62ac552e1a69b7e2a45bd23a,openstack/kuryr-kubernetes,master,I89e969ae52378a7c62ac552e1a69b7e2a45bd23a,Fix devstack deployment when ovn-provider is selected,MERGED,2018-10-01 16:19:36.000000000,2018-10-18 10:18:01.000000000,2018-10-18 10:18:01.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 21041}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-10-01 16:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/093554ffc5b4f607420724f717137a500b1dd165', 'message': 'Fix devstack deployment when ovn-provider is selected\n\nThis patch ensures devstack deploys the K8s API behind an L3\namphora driver based loadbalancer, since OVN may not work properly\nin case L2 mode is selected.\n\nIn addition, it drops the load balancer cascade deleting differences\nfor ovn-octavia provider, as this is being fixed on ovn side.\n\nDepends-On: I31da7134d51665bbfe316b8a05cc34216420a4d0\nImplements: blueprint octavia-ovn-provider\n\nChange-Id: I89e969ae52378a7c62ac552e1a69b7e2a45bd23a\n'}, {'number': 2, 'created': '2018-10-03 06:45:42.000000000', 'files': ['devstack/local.conf.ovn.sample', 'kuryr_kubernetes/clients.py', 'devstack/plugin.sh', 'devstack/lib/kuryr_kubernetes'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ff3d45803ea873eb54f72f6b7c7f778246935243', 'message': 'Fix devstack deployment when ovn-provider is selected\n\nThis patch ensures devstack deploys the K8s API behind an L3\namphora driver based loadbalancer, since OVN may not work properly\nin case L2 mode is selected.\n\nIn addition, it drops the load balancer cascade deleting differences\nfor ovn-octavia provider, as this is being fixed on ovn side.\n\nDepends-On: I31da7134d51665bbfe316b8a05cc34216420a4d0\nImplements: blueprint octavia-ovn-provider\n\nChange-Id: I89e969ae52378a7c62ac552e1a69b7e2a45bd23a\n'}]",7,606999,ff3d45803ea873eb54f72f6b7c7f778246935243,23,5,2,23567,,,0,"Fix devstack deployment when ovn-provider is selected

This patch ensures devstack deploys the K8s API behind an L3
amphora driver based loadbalancer, since OVN may not work properly
in case L2 mode is selected.

In addition, it drops the load balancer cascade deleting differences
for ovn-octavia provider, as this is being fixed on ovn side.

Depends-On: I31da7134d51665bbfe316b8a05cc34216420a4d0
Implements: blueprint octavia-ovn-provider

Change-Id: I89e969ae52378a7c62ac552e1a69b7e2a45bd23a
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/99/606999/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/local.conf.ovn.sample', 'kuryr_kubernetes/clients.py', 'devstack/plugin.sh', 'devstack/lib/kuryr_kubernetes']",4,093554ffc5b4f607420724f717137a500b1dd165,bp/octavia-ovn-provider," if [[ ""$use_octavia"" == ""True"" ]]; then openstack loadbalancer member create --name ""$name"" \ --address ""$address"" \ --protocol-port ""$port"" \ ""$pool"""," if [[ ""$use_octavia"" == ""True"" && \ ""$KURYR_K8S_OCTAVIA_MEMBER_MODE"" == ""L3"" ]]; then elif [[ ""$use_octavia"" == ""True"" && \ ""$KURYR_K8S_OCTAVIA_MEMBER_MODE"" == ""L2"" ]]; then openstack port set ""$port_id"" --security-group octavia_pod_access if [[ ""$KURYR_K8S_OCTAVIA_MEMBER_MODE"" == ""L3"" ]]; then openstack loadbalancer member create --name ""$name"" \ --address ""$address"" \ --protocol-port ""$port"" \ ""$pool"" else openstack loadbalancer member create --name ""$name"" \ --address ""$address"" \ --protocol-port ""$port"" \ --subnet ""$subnet"" \ ""$pool"" fi",29,50
openstack%2Fpuppet-oslo~master~Ia56a1708f1485ac2e7f4535eecf3eff21700c727,openstack/puppet-oslo,master,Ia56a1708f1485ac2e7f4535eecf3eff21700c727,Update min tox version to 2.0,MERGED,2018-10-16 03:43:23.000000000,2018-10-18 09:55:51.000000000,2018-10-18 09:55:51.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 03:43:23.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/b6da933a331918a4643561417eee2c085a6ef5c1', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: Ia56a1708f1485ac2e7f4535eecf3eff21700c727\n'}]",0,610830,b6da933a331918a4643561417eee2c085a6ef5c1,25,4,1,9414,,,0,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.  Update to
reflect reality, which should help with local running of constraints
targets.

Change-Id: Ia56a1708f1485ac2e7f4535eecf3eff21700c727
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/30/610830/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b6da933a331918a4643561417eee2c085a6ef5c1,update-tox-version,minversion = 2.0,minversion = 1.6,1,1
openstack%2Ftripleo-common~master~I3eeb09a92e26d4e05cfb823352570d0800345f88,openstack/tripleo-common,master,I3eeb09a92e26d4e05cfb823352570d0800345f88,"Fix nova-placement healthcheck url, remove placement prefix",ABANDONED,2018-10-18 09:50:25.000000000,2018-10-18 09:52:26.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-18 09:50:25.000000000', 'files': ['healthcheck/nova-placement'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f401c2783b4e7ebaab7982d434892e9642cb7d36', 'message': 'Fix nova-placement healthcheck url, remove placement prefix\n\n    * There is placement prefix in the healthcheck url, that\'s\n    not needed anymore, because this value is taken from apache config,\n    10-placement_wsgi.conf ""WSGIScriptAlias /placement""\n\nChange-Id: I3eeb09a92e26d4e05cfb823352570d0800345f88\n'}]",0,611555,f401c2783b4e7ebaab7982d434892e9642cb7d36,4,2,1,28847,,,0,"Fix nova-placement healthcheck url, remove placement prefix

    * There is placement prefix in the healthcheck url, that's
    not needed anymore, because this value is taken from apache config,
    10-placement_wsgi.conf ""WSGIScriptAlias /placement""

Change-Id: I3eeb09a92e26d4e05cfb823352570d0800345f88
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/55/611555/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/nova-placement'],1,f401c2783b4e7ebaab7982d434892e9642cb7d36,,healthcheck_curl ${check_url},healthcheck_curl ${check_url}/placement/,1,1
openstack%2Fos-win~master~I10a23aa6457449645ecd4b36b7be09fafbf19fdf,openstack/os-win,master,I10a23aa6457449645ecd4b36b7be09fafbf19fdf,Retry connecting port to vswitch,ABANDONED,2018-10-01 07:33:47.000000000,2018-10-18 09:51:02.000000000,,"[{'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-01 07:33:47.000000000', 'files': ['os_win/utils/network/networkutils.py'], 'web_link': 'https://opendev.org/openstack/os-win/commit/5445562ac1d2af94f1157b7474e0724704afe9ae', 'message': 'Retry connecting port to vswitch\n\nIn some cases, after instances are failed over, the destination\nhost cannot find the instance vNICs or switch ports.\n\nIt looks like the ports are not ready yet by the time we get the\nfailover event. Adding a retry to the method that connects ports\nto vswitches seems to avoid this issue.\n\nCloses-Bug: #1795299\n\nChange-Id: I10a23aa6457449645ecd4b36b7be09fafbf19fdf\n'}]",0,606893,5445562ac1d2af94f1157b7474e0724704afe9ae,6,3,1,8543,,,0,"Retry connecting port to vswitch

In some cases, after instances are failed over, the destination
host cannot find the instance vNICs or switch ports.

It looks like the ports are not ready yet by the time we get the
failover event. Adding a retry to the method that connects ports
to vswitches seems to avoid this issue.

Closes-Bug: #1795299

Change-Id: I10a23aa6457449645ecd4b36b7be09fafbf19fdf
",git fetch https://review.opendev.org/openstack/os-win refs/changes/93/606893/1 && git format-patch -1 --stdout FETCH_HEAD,['os_win/utils/network/networkutils.py'],1,5445562ac1d2af94f1157b7474e0724704afe9ae,bug/1795299,"from os_win import _utils @_utils.retry_decorator(exceptions=exceptions.HyperVException, max_retry_count=10, max_sleep_time=5)",,4,0
openstack%2Ftripleo-quickstart-extras~master~Id2899044b4b0ac19d587cfe7e321193d5f0c542d,openstack/tripleo-quickstart-extras,master,Id2899044b4b0ac19d587cfe7e321193d5f0c542d,Allow pinning of ara in undercloud-setup,MERGED,2018-09-28 19:23:45.000000000,2018-10-18 09:48:42.000000000,2018-10-02 17:48:01.000000000,"[{'_account_id': 1955}, {'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-09-28 19:23:45.000000000', 'files': ['roles/undercloud-setup/defaults/main.yml', 'roles/undercloud-setup/tasks/ansible_cfg.yml', 'roles/undercloud-setup/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a21ca5483ee70a46b055836c536177221a3430b4', 'message': 'Allow pinning of ara in undercloud-setup\n\nNewer versions of ara are causing newer versions of ansible to be pulled\nin rather than using the packaged version provided. This change adds a\nnew variable called undercloud_ara_version which can be used to specify\na specific version for ara.  Currently this is set to 0.15.0 which works\nwith the ansible 2.4.4 version we currently have in some stable repos.\n\nChange-Id: Id2899044b4b0ac19d587cfe7e321193d5f0c542d\nCloses-Bug: #1795009\n'}]",0,606179,a21ca5483ee70a46b055836c536177221a3430b4,46,10,1,14985,,,0,"Allow pinning of ara in undercloud-setup

Newer versions of ara are causing newer versions of ansible to be pulled
in rather than using the packaged version provided. This change adds a
new variable called undercloud_ara_version which can be used to specify
a specific version for ara.  Currently this is set to 0.15.0 which works
with the ansible 2.4.4 version we currently have in some stable repos.

Change-Id: Id2899044b4b0ac19d587cfe7e321193d5f0c542d
Closes-Bug: #1795009
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/79/606179/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-setup/defaults/main.yml', 'roles/undercloud-setup/tasks/ansible_cfg.yml', 'roles/undercloud-setup/README.md']",3,a21ca5483ee70a46b055836c536177221a3430b4,bug/1795009,- `undercloud_ansible_cfg`: <'true'> -- Configure ara on the host - `undercloud_ara_version`: <'0.15.0'> -- Default version of ara to install,,15,2
openstack%2Fopenstack-ansible-ops~master~I6c52e28cc982a13472aa8f6d3098a22adcb7d3c1,openstack/openstack-ansible-ops,master,I6c52e28cc982a13472aa8f6d3098a22adcb7d3c1,Add vars to configure prometheus module,MERGED,2018-10-17 17:04:16.000000000,2018-10-18 09:47:47.000000000,2018-10-18 09:47:46.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-17 17:04:16.000000000', 'files': ['elk_metrics_6x/roles/elastic_metricbeat/templates/metricbeat.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/20dcf18064461fe64d3f8ab6ddcca999fb684bae', 'message': 'Add vars to configure prometheus module\n\nAdd new vars prometheus_enabled and prometheus_config to be used to\nconfigure the metricbeats prometheus module.  The module will be used to\nquery prometheus exporters and write the metrics pulled from prometheus\nto elasticsearch.\n\nChange-Id: I6c52e28cc982a13472aa8f6d3098a22adcb7d3c1\n'}]",0,611394,20dcf18064461fe64d3f8ab6ddcca999fb684bae,7,3,1,28665,,,0,"Add vars to configure prometheus module

Add new vars prometheus_enabled and prometheus_config to be used to
configure the metricbeats prometheus module.  The module will be used to
query prometheus exporters and write the metrics pulled from prometheus
to elasticsearch.

Change-Id: I6c52e28cc982a13472aa8f6d3098a22adcb7d3c1
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/94/611394/1 && git format-patch -1 --stdout FETCH_HEAD,['elk_metrics_6x/roles/elastic_metricbeat/templates/metricbeat.yml.j2'],1,20dcf18064461fe64d3f8ab6ddcca999fb684bae,prometheus_module,"{% if (prometheus_enabled | default(false) | bool) and (prometheus_config is defined) %} {% for prometheus in prometheus_config %} - module: prometheus metricsets: [{% for mset in prometheus.metricsets|default([""collector""]) %}""{{ mset }}""{% if not loop.last %},{% endif %}{% endfor %}] enabled: {{ prometheus.enabled | default('true') }} period: {{ prometheus.period | default(""10s"") }} hosts: [{% for phost in prometheus.hosts %}""{{ phost }}""{% if not loop.last %},{% endif %}{% endfor %}] metrics_path: {{ prometheus.metrics_path | default(""/metrics"") }} namespace: {{ prometheus.namespace }}{% endfor %} {% endif %}","#- module: prometheus # metricsets: [""stats""] # period: 30s # hosts: [""localhost:9090""] # metrics_path: /metrics # #namespace: example",11,6
openstack%2Fopenstack-ansible-ops~master~Ib820ec3c4a7f6c9116608140b59332d03cf4c451,openstack/openstack-ansible-ops,master,Ib820ec3c4a7f6c9116608140b59332d03cf4c451,Add ability to deploy Octavia load balancer service,MERGED,2018-09-05 18:03:38.000000000,2018-10-18 09:47:47.000000000,2018-10-18 09:47:47.000000000,"[{'_account_id': 290}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7614}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-09-05 18:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/6cdb6fd1218c2702381bd5d2d737f367b45b912a', 'message': 'Enable Octavia as default openstack load balancer service\n\nThis commit enables the openstack Octavia load balanancing service\nas the default lbaas service for all MNAIO installs. This change is\nneeded as neutron lbaas is being depricated.\n\nChange-Id: Ib820ec3c4a7f6c9116608140b59332d03cf4c451\n'}, {'number': 2, 'created': '2018-09-05 19:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/3d8d598e758b5aa1d37d47bdf3415196cdd571b1', 'message': 'Enable Octavia as default openstack load balancer service\n\nThis commit enables the openstack Octavia load balanancing service\nas the default lbaas service for all MNAIO installs. This change is\nneeded as neutron lbaas is being depricated.\n\nChange-Id: Ib820ec3c4a7f6c9116608140b59332d03cf4c451\n'}, {'number': 3, 'created': '2018-09-05 19:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/8d0538e3a6d577f86a78f87b29ddfbe46d4ed15e', 'message': 'Enable Octavia as default openstack load balancer service\n\nThis commit enables the openstack Octavia load balanancing service\nas the default lbaas service for all MNAIO installs. This change is\nneeded as neutron lbaas is being depricated.\n\nChange-Id: Ib820ec3c4a7f6c9116608140b59332d03cf4c451\n'}, {'number': 4, 'created': '2018-09-05 19:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/446dc54a4a12def0b75e34dd9b6948484ff8fc49', 'message': 'Enable Octavia as default openstack load balancer service\n\nThis commit enables the openstack Octavia load balanancing service\nas the default lbaas service for all MNAIO installs. This change is\nneeded as neutron lbaas is being depricated.\n\nChange-Id: Ib820ec3c4a7f6c9116608140b59332d03cf4c451\n'}, {'number': 5, 'created': '2018-10-17 12:53:04.000000000', 'files': ['multi-node-aio/playbooks/host_vars/compute1.yml', 'multi-node-aio/playbooks/host_vars/infra1.yml', 'multi-node-aio/playbooks/osa/openstack_user_config.yml', 'multi-node-aio/playbooks/host_vars/infra3.yml', 'multi-node-aio/playbooks/host_vars/infra2.yml', 'multi-node-aio/playbooks/group_vars/all.yml', 'multi-node-aio/playbooks/pxe/configs/eni/vm-bridges.cfg.j2', 'multi-node-aio/playbooks/host_vars/example-host1.yml.example', 'multi-node-aio/playbooks/host_vars/compute2.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/e1ce3432d044fd0e416598fee5dc939b5ee3dff0', 'message': 'Add ability to deploy Octavia load balancer service\n\nThis commit enables the openstack Octavia load balancing service\nif the option is enabled. The Octavia service replaced the legacy\nNeutron LBAAS service.\n\nChange-Id: Ib820ec3c4a7f6c9116608140b59332d03cf4c451\n'}]",1,600155,e1ce3432d044fd0e416598fee5dc939b5ee3dff0,16,7,5,7614,,,0,"Add ability to deploy Octavia load balancer service

This commit enables the openstack Octavia load balancing service
if the option is enabled. The Octavia service replaced the legacy
Neutron LBAAS service.

Change-Id: Ib820ec3c4a7f6c9116608140b59332d03cf4c451
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/55/600155/3 && git format-patch -1 --stdout FETCH_HEAD,"['multi-node-aio/playbooks/setup-host.yml', 'multi-node-aio/playbooks/host_vars/cinder2.yml', 'multi-node-aio/playbooks/host_vars/infra1.yml', 'multi-node-aio/playbooks/osa/openstack_user_config.yml', 'multi-node-aio/playbooks/pxe/configs/debian/vm-bridges.cfg.j2', 'multi-node-aio/playbooks/host_vars/infra2.yml', 'multi-node-aio/playbooks/host_vars/swift2.yml', 'multi-node-aio/playbooks/host_vars/loadbalancer1.yml', 'multi-node-aio/playbooks/osa/user_mnaio_variables.yml', 'multi-node-aio/playbooks/host_vars/logging1.yml', 'multi-node-aio/playbooks/host_vars/compute2.yml', 'multi-node-aio/playbooks/host_vars/cinder1.yml', 'multi-node-aio/playbooks/host_vars/compute1.yml', 'multi-node-aio/playbooks/host_vars/infra3.yml', 'multi-node-aio/playbooks/group_vars/all.yml', 'multi-node-aio/playbooks/host_vars/swift1.yml', 'multi-node-aio/playbooks/host_vars/example-host1.yml.example', 'multi-node-aio/playbooks/host_vars/swift3.yml']",18,6cdb6fd1218c2702381bd5d2d737f367b45b912a,octavia_mnaio, lbaas: iface: 'eth6' inet_type: 'static' address: '10.0.232.100/22' vm_int_iface: vm-br-eth6,,112,0
openstack%2Fcharms.openstack~master~I9d52243ab0ccc60eade6c8023d9c5831a1637338,openstack/charms.openstack,master,I9d52243ab0ccc60eade6c8023d9c5831a1637338,Allow OpenStackRelationAdapter to work with Endpoint-based interfaces,MERGED,2018-10-17 10:29:57.000000000,2018-10-18 09:45:11.000000000,2018-10-18 09:45:11.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 10:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/f14e0a1f25cef597479b271d9c837dfd01202784', 'message': 'Allow OpenStackRelationAdapter to work with Endpoint-based interfaces\n\nChange-Id: I9d52243ab0ccc60eade6c8023d9c5831a1637338\nCloses-Bug: #1798335\n'}, {'number': 2, 'created': '2018-10-18 07:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/97ab7de0d82f6bf78adbeb194ef356f37f2a007b', 'message': 'Allow OpenStackRelationAdapter to work with Endpoint-based interfaces\n\nChange-Id: I9d52243ab0ccc60eade6c8023d9c5831a1637338\nCloses-Bug: #1798335\n'}, {'number': 3, 'created': '2018-10-18 07:55:48.000000000', 'files': ['charms_openstack/adapters.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/39fc35b68dcabeae64525d93db956c0684b32d2e', 'message': 'Allow OpenStackRelationAdapter to work with Endpoint-based interfaces\n\nChange-Id: I9d52243ab0ccc60eade6c8023d9c5831a1637338\nCloses-Bug: #1798335\n'}]",1,611287,39fc35b68dcabeae64525d93db956c0684b32d2e,11,4,3,13686,,,0,"Allow OpenStackRelationAdapter to work with Endpoint-based interfaces

Change-Id: I9d52243ab0ccc60eade6c8023d9c5831a1637338
Closes-Bug: #1798335
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/87/611287/2 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/adapters.py'],1,f14e0a1f25cef597479b271d9c837dfd01202784,bug/1798335," try: self.accessors.extend(self.relation.auto_accessors) except AttributeError: self.accessors = [] try: relation_name = relation.relation_name.replace('-', '_') except AttributeError: relation_name = relation.enpoint_name.replace('-', '_')"," self.accessors.extend(self.relation.auto_accessors) relation_name = relation.relation_name.replace('-', '_')",8,2
openstack%2Fpuppet-heat~master~I059fe379baa3ebac013a65088c240a7183b5d90d,openstack/puppet-heat,master,I059fe379baa3ebac013a65088c240a7183b5d90d,Update min tox version to 2.0,MERGED,2018-10-16 03:43:23.000000000,2018-10-18 09:38:05.000000000,2018-10-18 09:38:05.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 03:43:23.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/c453c2772d8b5ed1337f323feda0e130ff3f332c', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: I059fe379baa3ebac013a65088c240a7183b5d90d\n'}]",0,610838,c453c2772d8b5ed1337f323feda0e130ff3f332c,20,4,1,9414,,,0,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.  Update to
reflect reality, which should help with local running of constraints
targets.

Change-Id: I059fe379baa3ebac013a65088c240a7183b5d90d
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/38/610838/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c453c2772d8b5ed1337f323feda0e130ff3f332c,update-tox-version,minversion = 2.0,minversion = 1.6,1,1
openstack%2Fmistral~master~I3f1056cad7c67e160a082c2a0de2e3bfd476bc63,openstack/mistral,master,I3f1056cad7c67e160a082c2a0de2e3bfd476bc63,Update OnClauseSPec task name criteria,MERGED,2018-10-11 19:34:11.000000000,2018-10-18 09:15:05.000000000,2018-10-15 07:18:52.000000000,"[{'_account_id': 8731}, {'_account_id': 9029}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 16511}, {'_account_id': 21970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-11 19:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/dd735db01e01e35f5b1d905561bf6c5700cf4745', 'message': 'Update OnClauseSPec task name criteria to non-whitespace characters\n\nThe OnClauseSpec required Task names to be \\w+ or [a-zA-Z0-9_]\nwhich is not enforced by the DSL, so it was possible to have\nvalid task names that could not be referenced in an on-clause.\n\nYAML enforces some restrictions on characters in task names (#, !, |)\nbut other than that any JSON-schema valid string should be a valid Task\nname\n\nChange-Id: I3f1056cad7c67e160a082c2a0de2e3bfd476bc63\nCloses-Bug: 1797439\n'}, {'number': 2, 'created': '2018-10-12 16:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/cd91815e1b6721775f34efb22a636149f44603a3', 'message': 'Update OnClauseSPec task name criteria to non-whitespace characters\n\nThe OnClauseSpec required Task names to be \\w+ or [a-zA-Z0-9_]\nwhich is not enforced by the DSL, so it was possible to have\nvalid task names that could not be referenced in an on-clause.\n\nYAML enforces some restrictions on characters in task names (#, !, |)\nbut other than that any JSON-schema valid string should be a valid Task\nname\n\nChange-Id: I3f1056cad7c67e160a082c2a0de2e3bfd476bc63\nCloses-Bug: 1797439\n'}, {'number': 3, 'created': '2018-10-12 16:58:58.000000000', 'files': ['mistral/tests/unit/lang/v2/test_workflows.py', 'mistral/lang/v2/on_clause.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/e98614cd606a863030fb98b23eff099b19ec868d', 'message': 'Update OnClauseSPec task name criteria\n\nThe OnClauseSpec required Task names to be \\w+ or [a-zA-Z0-9_]\nwhich is not enforced by the DSL, so it was possible to have\nvalid task names that could not be referenced in an on-clause.\n\nYAML enforces some restrictions on characters in task names (#, !, |)\nbut other than that any JSON-schema valid string should be a valid Task\nname\n\nChange-Id: I3f1056cad7c67e160a082c2a0de2e3bfd476bc63\nCloses-Bug: 1797439\n'}]",0,609794,e98614cd606a863030fb98b23eff099b19ec868d,13,7,3,16511,,,0,"Update OnClauseSPec task name criteria

The OnClauseSpec required Task names to be \w+ or [a-zA-Z0-9_]
which is not enforced by the DSL, so it was possible to have
valid task names that could not be referenced in an on-clause.

YAML enforces some restrictions on characters in task names (#, !, |)
but other than that any JSON-schema valid string should be a valid Task
name

Change-Id: I3f1056cad7c67e160a082c2a0de2e3bfd476bc63
Closes-Bug: 1797439
",git fetch https://review.opendev.org/openstack/mistral refs/changes/94/609794/3 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/lang/v2/test_workflows.py', 'mistral/lang/v2/on_clause.py']",2,dd735db01e01e35f5b1d905561bf6c5700cf4745,bug/1797439," ""pattern"": ""^\S+$"","," ""pattern"": ""^\w+$"",",27,1
openstack%2Fopenstack-helm-infra~master~I7831ac07a53b9aaf3000e9f64bf8c17344723a8f,openstack/openstack-helm-infra,master,I7831ac07a53b9aaf3000e9f64bf8c17344723a8f,Fix grep logic around weighting OSDs during ceph-client chart.,MERGED,2018-10-17 20:59:12.000000000,2018-10-18 09:04:29.000000000,2018-10-18 09:04:29.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28372}]","[{'number': 1, 'created': '2018-10-17 20:59:12.000000000', 'files': ['ceph-client/templates/bin/pool/_init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0de1d23895a2966621b4b6eb7cc70e5ed8a93b69', 'message': 'Fix grep logic around weighting OSDs during ceph-client chart.\n\nChange-Id: I7831ac07a53b9aaf3000e9f64bf8c17344723a8f\n'}]",0,611439,0de1d23895a2966621b4b6eb7cc70e5ed8a93b69,7,4,1,29268,,,0,"Fix grep logic around weighting OSDs during ceph-client chart.

Change-Id: I7831ac07a53b9aaf3000e9f64bf8c17344723a8f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/39/611439/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-client/templates/bin/pool/_init.sh.tpl'],1,0de1d23895a2966621b4b6eb7cc70e5ed8a93b69,CEPH-FIX-EXPANSION," OSD_WEIGHT=$(ceph --cluster ""${CLUSTER}"" osd df --format json-pretty| grep -A7 ""\bosd.${OSD_ID}\b"" | awk '/""kb""/{ gsub("","",""""); d= $2/1073741824 ; r = sprintf(""%.2f"", d); print r }');"," OSD_WEIGHT=$(ceph --cluster ""${CLUSTER}"" osd df --format json-pretty| grep -A7 osd.${OSD_ID} | awk '/""kb""/{ gsub("","",""""); d= $2/1073741824 ; r = sprintf(""%.2f"", d); print r }');",1,1
openstack%2Fmagnum-ui~stable%2Frocky~If964e70bd7940a4295924c70e59a795576f35b7a,openstack/magnum-ui,stable/rocky,If964e70bd7940a4295924c70e59a795576f35b7a,Add upper-constraints.txt into post-install,MERGED,2018-10-18 07:57:39.000000000,2018-10-18 08:38:54.000000000,2018-10-18 08:38:54.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-18 07:57:39.000000000', 'files': ['package.json'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/d5419956e5a73aa76dae526d0d03c9b70335bf16', 'message': 'Add upper-constraints.txt into post-install\n\nChange-Id: If964e70bd7940a4295924c70e59a795576f35b7a\n(cherry picked from commit f90423c2995e430d11421a1cd75b2353a83c7c82)\n'}]",0,611527,d5419956e5a73aa76dae526d0d03c9b70335bf16,6,2,1,16352,,,0,"Add upper-constraints.txt into post-install

Change-Id: If964e70bd7940a4295924c70e59a795576f35b7a
(cherry picked from commit f90423c2995e430d11421a1cd75b2353a83c7c82)
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/27/611527/1 && git format-patch -1 --stdout FETCH_HEAD,['package.json'],1,d5419956e5a73aa76dae526d0d03c9b70335bf16,upper-constraints-npm-stable/rocky," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; python3 -m pip install -U -t ./.tox/karma/lib/`python3 -V|tr -d ' '|tr 'P' 'p'|cut -c -9`/site-packages/ -chttps://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt ../horizon; fi"","," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; python3 -m pip install -U -t ./.tox/karma/lib/`python3 -V|tr -d ' '|tr 'P' 'p'|cut -c -9`/site-packages/ ../horizon; fi"",",1,1
openstack%2Fsenlin-dashboard~stable%2Fqueens~I2a3d1a34725e60b6f59c355980fa48be580eceec,openstack/senlin-dashboard,stable/queens,I2a3d1a34725e60b6f59c355980fa48be580eceec,Fix senlin profile create through file upload.,MERGED,2018-10-16 18:35:06.000000000,2018-10-18 08:37:24.000000000,2018-10-18 08:37:23.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-10-16 18:35:06.000000000', 'files': ['senlin_dashboard/cluster/profiles/templates/profiles/_create.html'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/1a0d804699482fe47c8f32d59be8d42ce0176094', 'message': 'Fix senlin profile create through file upload.\n\nThe senlin profile create is failing to pass the file name on form submit\ndue to missing encode type in the POST request.\n\nChange-Id: I2a3d1a34725e60b6f59c355980fa48be580eceec\n'}]",0,611123,1a0d804699482fe47c8f32d59be8d42ce0176094,8,3,1,27252,,,0,"Fix senlin profile create through file upload.

The senlin profile create is failing to pass the file name on form submit
due to missing encode type in the POST request.

Change-Id: I2a3d1a34725e60b6f59c355980fa48be580eceec
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/23/611123/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin_dashboard/cluster/profiles/templates/profiles/_create.html'],1,1a0d804699482fe47c8f32d59be8d42ce0176094,fix_profile-stable/queens,"{% block form_id %}create_profile_form{% endblock %} {% block form_action %}{% url 'horizon:cluster:profiles:create' %}{% endblock %} {% block form_attrs %}enctype=""multipart/form-data""{% endblock %} ",,4,0
openstack%2Fsenlin-dashboard~stable%2Frocky~Ib57a7833a184350a03d64dc9c5e150e91000b8c2,openstack/senlin-dashboard,stable/rocky,Ib57a7833a184350a03d64dc9c5e150e91000b8c2,Install horizon with upper-constraints.txt in post-install,MERGED,2018-10-18 07:46:53.000000000,2018-10-18 08:35:21.000000000,2018-10-18 08:35:21.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-10-18 07:46:53.000000000', 'files': ['package.json'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/10cafbe859ebf71878f4852ef24cdc82f8796b3e', 'message': 'Install horizon with upper-constraints.txt in post-install\n\nChange-Id: Ib57a7833a184350a03d64dc9c5e150e91000b8c2\n(cherry picked from commit ed828f168b32ab00305d33cfeb5c9fa5d91053b4)\n'}]",0,611523,10cafbe859ebf71878f4852ef24cdc82f8796b3e,6,3,1,16352,,,0,"Install horizon with upper-constraints.txt in post-install

Change-Id: Ib57a7833a184350a03d64dc9c5e150e91000b8c2
(cherry picked from commit ed828f168b32ab00305d33cfeb5c9fa5d91053b4)
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/23/611523/1 && git format-patch -1 --stdout FETCH_HEAD,['package.json'],1,10cafbe859ebf71878f4852ef24cdc82f8796b3e,upper-constraint-npm-stable/rocky," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; python3 -m pip install -U -t ./.tox/karma/lib/`python3 -V|tr -d ' '|tr 'P' 'p'|cut -c -9`/site-packages/ -chttps://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt ../horizon; fi"","," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; python3 -m pip install -U -t ./.tox/karma/lib/`python3 -V|tr -d ' '|tr 'P' 'p'|cut -c -9`/site-packages/ ../horizon; fi"",",1,1
openstack%2Fzaqar-ui~stable%2Frocky~I916bea48012b14b95e716a0a6a3dfa073a7eb680,openstack/zaqar-ui,stable/rocky,I916bea48012b14b95e716a0a6a3dfa073a7eb680,Install horizon with upper-constraints.txt in post-install,MERGED,2018-10-18 07:58:44.000000000,2018-10-18 08:35:20.000000000,2018-10-18 08:35:20.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-18 07:58:44.000000000', 'files': ['package.json'], 'web_link': 'https://opendev.org/openstack/zaqar-ui/commit/5bf8f410c27e15a8e63f01a09b63f1becd58d5ed', 'message': 'Install horizon with upper-constraints.txt in post-install\n\nChange-Id: I916bea48012b14b95e716a0a6a3dfa073a7eb680\n(cherry picked from commit 709ed27413120e58a7e46828aee6a1f073082d64)\n'}]",0,611528,5bf8f410c27e15a8e63f01a09b63f1becd58d5ed,6,2,1,16352,,,0,"Install horizon with upper-constraints.txt in post-install

Change-Id: I916bea48012b14b95e716a0a6a3dfa073a7eb680
(cherry picked from commit 709ed27413120e58a7e46828aee6a1f073082d64)
",git fetch https://review.opendev.org/openstack/zaqar-ui refs/changes/28/611528/1 && git format-patch -1 --stdout FETCH_HEAD,['package.json'],1,5bf8f410c27e15a8e63f01a09b63f1becd58d5ed,," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; python3 -m pip install -U -t ./.tox/karma/lib/`python3 -V|tr -d ' '|tr 'P' 'p'|cut -c -9`/site-packages/ -chttps://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt ../horizon; fi"","," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; python3 -m pip install -U -t ./.tox/karma/lib/`python3 -V|tr -d ' '|tr 'P' 'p'|cut -c -9`/site-packages/ ../horizon; fi"",",1,1
openstack%2Fzun-ui~stable%2Frocky~I3df30cfee88608cd12beaae400b0706446194534,openstack/zun-ui,stable/rocky,I3df30cfee88608cd12beaae400b0706446194534,Install horizon with upper-constraints.txt in post-install,MERGED,2018-10-18 07:51:30.000000000,2018-10-18 08:33:24.000000000,2018-10-18 08:33:24.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-18 07:51:30.000000000', 'files': ['package.json'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/eb14179483752f2ed4308a8646f99145cd780b1a', 'message': 'Install horizon with upper-constraints.txt in post-install\n\nChange-Id: I3df30cfee88608cd12beaae400b0706446194534\n(cherry picked from commit d07126df35cac90c16c1eb6b29be90cdf5956378)\n'}]",0,611525,eb14179483752f2ed4308a8646f99145cd780b1a,6,2,1,16352,,,0,"Install horizon with upper-constraints.txt in post-install

Change-Id: I3df30cfee88608cd12beaae400b0706446194534
(cherry picked from commit d07126df35cac90c16c1eb6b29be90cdf5956378)
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/25/611525/1 && git format-patch -1 --stdout FETCH_HEAD,['package.json'],1,eb14179483752f2ed4308a8646f99145cd780b1a,upper-constraint-npm-stable/rocky," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; python3 -m pip install -U -t ./.tox/karma/lib/`python3 -V|tr -d ' '|tr 'P' 'p'|cut -c -9`/site-packages/ -chttps://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt ../horizon; fi"","," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; python3 -m pip install -U -t ./.tox/karma/lib/`python3 -V|tr -d ' '|tr 'P' 'p'|cut -c -9`/site-packages/ ../horizon; fi"",",1,1
openstack%2Fmonasca-log-api~master~I0ca38f2cc7d63b9b47eedb304ba7b00a94816f9a,openstack/monasca-log-api,master,I0ca38f2cc7d63b9b47eedb304ba7b00a94816f9a,Fix default policy rules registration,MERGED,2018-08-03 08:47:20.000000000,2018-10-18 08:21:31.000000000,2018-08-14 09:05:32.000000000,"[{'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 26297}, {'_account_id': 26733}]","[{'number': 1, 'created': '2018-08-03 08:47:20.000000000', 'files': ['monasca_log_api/policies/__init__.py', 'monasca_log_api/policies/versions.py', 'monasca_log_api/policies/logs.py', 'etc/monasca/log-api-paste.ini', 'monasca_log_api/policies/healthchecks.py'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/7d40e5d5c21d525c9725d150f125aa5206d61015', 'message': ""Fix default policy rules registration\n\nThe constants used for configuring default policy rules were initialized\nbefore configuration file was parsed. As the result the configuration\noptions in 'roles_middleware' group didn't have effect on registered\npolicy rules. The behavior can be reproduced in devstack plugin where\nmonasca-log-agent using 'monasca-agent' role is not authorized to send\nlogs to the API.\n\nThe change postpones the initilization of these constants. Additionally\nobsolete 'roles' filter was removed from the paste pipelines.\n\nChange-Id: I0ca38f2cc7d63b9b47eedb304ba7b00a94816f9a\nStory: 2001233\nTask: 24250\n""}]",0,588474,7d40e5d5c21d525c9725d150f125aa5206d61015,10,5,1,16222,,,0,"Fix default policy rules registration

The constants used for configuring default policy rules were initialized
before configuration file was parsed. As the result the configuration
options in 'roles_middleware' group didn't have effect on registered
policy rules. The behavior can be reproduced in devstack plugin where
monasca-log-agent using 'monasca-agent' role is not authorized to send
logs to the API.

The change postpones the initilization of these constants. Additionally
obsolete 'roles' filter was removed from the paste pipelines.

Change-Id: I0ca38f2cc7d63b9b47eedb304ba7b00a94816f9a
Story: 2001233
Task: 24250
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/74/588474/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_log_api/policies/__init__.py', 'monasca_log_api/policies/versions.py', 'monasca_log_api/policies/logs.py', 'etc/monasca/log-api-paste.ini', 'monasca_log_api/policies/healthchecks.py']",5,7d40e5d5c21d525c9725d150f125aa5206d61015,,from oslo_config import cfgfrom monasca_log_api import policies CHECK_AUTHORIZED_ROLES = policies.roles_list_to_check_str( cfg.CONF.roles_middleware.check_roles),from monasca_log_api.policies import CHECK_AUTHORIZED_ROLES,19,16
openstack%2Fcharms.openstack~master~If42efab93dca85137d8758cae4f2e8baab75ae72,openstack/charms.openstack,master,If42efab93dca85137d8758cae4f2e8baab75ae72,Non-API charm series upgrade,MERGED,2018-10-17 21:55:26.000000000,2018-10-18 08:11:28.000000000,2018-10-18 08:11:28.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 21:55:26.000000000', 'files': ['charms_openstack/charm/classes.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/7a3bc16a2b77429a86489efe4de329f71fab8e8f', 'message': 'Non-API charm series upgrade\n\nFor non-API charms the haproxy_enabled method did not exist. Yet this\nis called in the pause process called by series upgrade.\n\nThis change adds a method to the OpenStackCharm class which is a noop.\n\nChange-Id: If42efab93dca85137d8758cae4f2e8baab75ae72\n'}]",0,611450,7a3bc16a2b77429a86489efe4de329f71fab8e8f,6,2,1,20805,,,0,"Non-API charm series upgrade

For non-API charms the haproxy_enabled method did not exist. Yet this
is called in the pause process called by series upgrade.

This change adds a method to the OpenStackCharm class which is a noop.

Change-Id: If42efab93dca85137d8758cae4f2e8baab75ae72
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/50/611450/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/charm/classes.py'],1,7a3bc16a2b77429a86489efe4de329f71fab8e8f,series-upgrade," def haproxy_enabled(self): """"""Determine if haproxy is fronting the services The OpenStackCharm class may be used for subordinates or charms which do not use haproxy. This method is overriden in the HAOpenStackCharm class where haproxy is utilized. @return None """""" pass ",,11,0
openstack%2Fopenstack-ansible-os_horizon~stable%2Frocky~I9471ca2a5a7b1541887fd539d63dd6ffbc4145b2,openstack/openstack-ansible-os_horizon,stable/rocky,I9471ca2a5a7b1541887fd539d63dd6ffbc4145b2,Remove the static when use include_tasks feature,MERGED,2018-10-11 02:39:42.000000000,2018-10-18 08:09:29.000000000,2018-10-18 08:09:29.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-11 02:39:42.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/2c36e2ca303383db0d3ecf2f22f0c188aba9f1be', 'message': 'Remove the static when use include_tasks feature\n\nChange-Id: I9471ca2a5a7b1541887fd539d63dd6ffbc4145b2\n(cherry picked from commit 01ddeea5a9ae11d66f443d6deffad37c74f1c438)\n'}]",0,609574,2c36e2ca303383db0d3ecf2f22f0c188aba9f1be,12,2,1,27781,,,0,"Remove the static when use include_tasks feature

Change-Id: I9471ca2a5a7b1541887fd539d63dd6ffbc4145b2
(cherry picked from commit 01ddeea5a9ae11d66f443d6deffad37c74f1c438)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/74/609574/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,2c36e2ca303383db0d3ecf2f22f0c188aba9f1be,,, static: no static: no static: no,0,3
openstack%2Fdesignate-tempest-plugin~master~I75c21239d4ffef5771b4972a4d66852b7efb394e,openstack/designate-tempest-plugin,master,I75c21239d4ffef5771b4972a4d66852b7efb394e,Re-enable tests that were disabled due to bug #1623576,MERGED,2018-09-30 09:11:03.000000000,2018-10-18 08:06:33.000000000,2018-10-18 08:06:33.000000000,"[{'_account_id': 8099}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2018-09-30 09:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/7efb39573ef213d201675cdf2521e42401c81371', 'message': 'Re-enable tests that were disabled due to bug #1623576\n\nBased on the information in the original bug reports,\nit is likely that this is no longer an issue.\n\nChange-Id: I75c21239d4ffef5771b4972a4d66852b7efb394e\n'}, {'number': 2, 'created': '2018-10-01 16:48:28.000000000', 'files': ['designate_tempest_plugin/tests/scenario/v2/test_zones.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/1e1c2f2aa753277636b27d222b4ef67e6e88bcac', 'message': 'Re-enable tests that were disabled due to bug #1623576\n\nBased on the information in the original bug reports,\nit is likely that this is no longer an issue.\n\nChange-Id: I75c21239d4ffef5771b4972a4d66852b7efb394e\n'}]",0,606833,1e1c2f2aa753277636b27d222b4ef67e6e88bcac,22,4,2,22623,,,0,"Re-enable tests that were disabled due to bug #1623576

Based on the information in the original bug reports,
it is likely that this is no longer an issue.

Change-Id: I75c21239d4ffef5771b4972a4d66852b7efb394e
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/33/606833/2 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/tests/scenario/v2/test_zones.py'],1,7efb39573ef213d201675cdf2521e42401c81371,bug/1623576,, @decorators.skip_because(bug='1623576') @decorators.skip_because(bug='1623576'),0,2
openstack%2Fzun-ui~master~Ib09d2ebb0cd6f4302d6245d10f7790c572614b6a,openstack/zun-ui,master,Ib09d2ebb0cd6f4302d6245d10f7790c572614b6a,Fix an issue of default api version,MERGED,2018-10-17 03:04:04.000000000,2018-10-18 08:01:20.000000000,2018-10-18 08:01:19.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 03:04:04.000000000', 'files': ['zun_ui/api/client.py'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/761a31bc4be14a25804ee7bc9e25fa4557f084a9', 'message': ""Fix an issue of default api version\n\nThere is a recent change [1] in python-zunclient that breaks the\nzun-ui. In particular, zunclient changes the default api version\nto '1.latest'. Zun-ui directly sends '1.latest' to server which\nresult in a 406 response because '1.latest' means client should\nnegotiate the api version with server first to decide the actual\napi version to use.\n\n[1] https://review.openstack.org/#/c/608467/\n\nChange-Id: Ib09d2ebb0cd6f4302d6245d10f7790c572614b6a\n""}]",0,611222,761a31bc4be14a25804ee7bc9e25fa4557f084a9,6,2,1,11536,,,0,"Fix an issue of default api version

There is a recent change [1] in python-zunclient that breaks the
zun-ui. In particular, zunclient changes the default api version
to '1.latest'. Zun-ui directly sends '1.latest' to server which
result in a 406 response because '1.latest' means client should
negotiate the api version with server first to decide the actual
api version to use.

[1] https://review.openstack.org/#/c/608467/

Change-Id: Ib09d2ebb0cd6f4302d6245d10f7790c572614b6a
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/22/611222/1 && git format-patch -1 --stdout FETCH_HEAD,['zun_ui/api/client.py'],1,761a31bc4be14a25804ee7bc9e25fa4557f084a9,," api_version = API_VERSION if API_VERSION.is_latest(): c = zun_client.Client( username=username, project_id=project_id, auth_token=token_id, endpoint_override=endpoint_override, api_version=api_versions.APIVersion(""1.1""), ) api_version = api_versions.discover_version(c, api_version) api_version=api_version)", api_version=API_VERSION),11,1
openstack%2Fzaqar-specs~master~I8839b20b560fcd9e3f3c6d120d70db8eff186634,openstack/zaqar-specs,master,I8839b20b560fcd9e3f3c6d120d70db8eff186634,Update specs for stein,MERGED,2018-09-28 02:40:42.000000000,2018-10-18 08:00:02.000000000,2018-10-18 08:00:01.000000000,"[{'_account_id': 8846}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 28035}]","[{'number': 1, 'created': '2018-09-28 02:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/5793f08ab8625b75a4e01a289420dc5ba106ed32', 'message': 'Update specs for stein\n\nMove spec which is not implemented yet to stein folder.\n\nChange-Id: I8839b20b560fcd9e3f3c6d120d70db8eff186634\n'}, {'number': 2, 'created': '2018-09-29 09:29:56.000000000', 'files': ['specs/stein/introduce-topic-resource-for-notification.rst', 'specs/stein/index.rst', 'specs/rocky/index.rst'], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/a3eb9e632d5bdff20288f71d5d4e437fdfa8989b', 'message': 'Update specs for stein\n\nMove spec which is not implemented yet to stein folder.\n\nChange-Id: I8839b20b560fcd9e3f3c6d120d70db8eff186634\n'}]",0,605913,a3eb9e632d5bdff20288f71d5d4e437fdfa8989b,10,4,2,8846,,,0,"Update specs for stein

Move spec which is not implemented yet to stein folder.

Change-Id: I8839b20b560fcd9e3f3c6d120d70db8eff186634
",git fetch https://review.opendev.org/openstack/zaqar-specs refs/changes/13/605913/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/stein/introduce-topic-resource-for-notification.rst', 'specs/stein/index.rst', 'specs/rocky/index.rst']",3,5793f08ab8625b75a4e01a289420dc5ba106ed32,update-specs-for-stein,, introduce-topic-resource-for-notification,1,1
openstack%2Fzaqar-ui~master~I916bea48012b14b95e716a0a6a3dfa073a7eb680,openstack/zaqar-ui,master,I916bea48012b14b95e716a0a6a3dfa073a7eb680,Install horizon with upper-constraints.txt in post-install,MERGED,2018-10-02 00:13:38.000000000,2018-10-18 07:58:44.000000000,2018-10-02 01:04:58.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-02 00:13:38.000000000', 'files': ['package.json'], 'web_link': 'https://opendev.org/openstack/zaqar-ui/commit/709ed27413120e58a7e46828aee6a1f073082d64', 'message': 'Install horizon with upper-constraints.txt in post-install\n\nChange-Id: I916bea48012b14b95e716a0a6a3dfa073a7eb680\n'}]",0,607074,709ed27413120e58a7e46828aee6a1f073082d64,7,2,1,16352,,,0,"Install horizon with upper-constraints.txt in post-install

Change-Id: I916bea48012b14b95e716a0a6a3dfa073a7eb680
",git fetch https://review.opendev.org/openstack/zaqar-ui refs/changes/74/607074/1 && git format-patch -1 --stdout FETCH_HEAD,['package.json'],1,709ed27413120e58a7e46828aee6a1f073082d64,," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; python3 -m pip install -U -t ./.tox/karma/lib/`python3 -V|tr -d ' '|tr 'P' 'p'|cut -c -9`/site-packages/ -chttps://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt ../horizon; fi"","," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; python3 -m pip install -U -t ./.tox/karma/lib/`python3 -V|tr -d ' '|tr 'P' 'p'|cut -c -9`/site-packages/ ../horizon; fi"",",1,1
openstack%2Fcharm-ceilometer-agent~master~I42be224113a599c0a07aa61a06e23911b8ff51fe,openstack/charm-ceilometer-agent,master,I42be224113a599c0a07aa61a06e23911b8ff51fe,py3: improve release determination,MERGED,2018-10-17 11:08:38.000000000,2018-10-18 07:57:41.000000000,2018-10-18 07:57:41.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 11:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/5ca232eda29d322003783ecaecaec713fa18c2de', 'message': 'py3: improve release determination\n\nInline with the neutron-openvswitch charm approach, install\nceilometer-common before determining which packages to install.\n\nThis will ensure that the charm then installs the right package\nset for the remaining packages including the switch to py3\nfor rocky.\n\nChange-Id: I42be224113a599c0a07aa61a06e23911b8ff51fe\n'}, {'number': 2, 'created': '2018-10-17 14:33:50.000000000', 'files': ['hooks/ceilometer_hooks.py', 'tests/basic_deployment.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/628a2cda975fbb435f8d4ca9bce78621814e055a', 'message': 'py3: improve release determination\n\nInline with the neutron-openvswitch charm approach, install\nceilometer-common before determining which packages to install.\n\nThis will ensure that the charm then installs the right package\nset for the remaining packages including the switch to py3\nfor rocky.\n\nFixup functional tests to include nova-cloud-controller.\n\nChange-Id: I42be224113a599c0a07aa61a06e23911b8ff51fe\n'}]",0,611294,628a2cda975fbb435f8d4ca9bce78621814e055a,11,3,2,935,,,0,"py3: improve release determination

Inline with the neutron-openvswitch charm approach, install
ceilometer-common before determining which packages to install.

This will ensure that the charm then installs the right package
set for the remaining packages including the switch to py3
for rocky.

Fixup functional tests to include nova-cloud-controller.

Change-Id: I42be224113a599c0a07aa61a06e23911b8ff51fe
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/94/611294/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/ceilometer_hooks.py'],1,5ca232eda29d322003783ecaecaec713fa18c2de,py3-rocky-fixes," # Install -common package so we get accurate version determination apt_install(filter_installed_packages(['ceilometer-common']), fatal=True)"," CEILOMETER_AGENT_PACKAGES, apt_install( filter_installed_packages(CEILOMETER_AGENT_PACKAGES), fatal=True) # Call apt_install a 2nd time to allow packages which are enabled # for specific OpenStack version to be installed . This is because # Openstack version for a subordinate should be derived from the # version of an installed package rather than relying on # openstack-origin which would not be present in a subordinate.",3,9
openstack%2Fmagnum-ui~master~If964e70bd7940a4295924c70e59a795576f35b7a,openstack/magnum-ui,master,If964e70bd7940a4295924c70e59a795576f35b7a,Add upper-constraints.txt into post-install,MERGED,2018-10-01 23:45:39.000000000,2018-10-18 07:57:39.000000000,2018-10-02 00:50:01.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-01 23:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/ed86e3c85280c9fff9c6daf675d1e7d67ba80a7a', 'message': 'Add lower-constraints.txt into post-install\n\nChange-Id: If964e70bd7940a4295924c70e59a795576f35b7a\n'}, {'number': 2, 'created': '2018-10-02 00:10:40.000000000', 'files': ['package.json'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/f90423c2995e430d11421a1cd75b2353a83c7c82', 'message': 'Add upper-constraints.txt into post-install\n\nChange-Id: If964e70bd7940a4295924c70e59a795576f35b7a\n'}]",0,607067,f90423c2995e430d11421a1cd75b2353a83c7c82,11,2,2,16352,,,0,"Add upper-constraints.txt into post-install

Change-Id: If964e70bd7940a4295924c70e59a795576f35b7a
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/67/607067/2 && git format-patch -1 --stdout FETCH_HEAD,['package.json'],1,ed86e3c85280c9fff9c6daf675d1e7d67ba80a7a,upper-constraints-npm," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; python3 -m pip install -U -t ./.tox/karma/lib/`python3 -V|tr -d ' '|tr 'P' 'p'|cut -c -9`/site-packages/ -chttps://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt ../horizon; fi"","," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; python3 -m pip install -U -t ./.tox/karma/lib/`python3 -V|tr -d ' '|tr 'P' 'p'|cut -c -9`/site-packages/ ../horizon; fi"",",1,1
openstack%2Fironic-inspector~master~Ic3734c7c52cce84f4dc3c75da72ab1c2f61fa976,openstack/ironic-inspector,master,Ic3734c7c52cce84f4dc3c75da72ab1c2f61fa976,DNM - Testing Grenade,ABANDONED,2018-10-11 17:22:45.000000000,2018-10-18 07:57:22.000000000,,"[{'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-10-11 17:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/02ae45b8994687f929854a0990ed67851a7bc8a9', 'message': 'DNM - Testing Grenade\n\nDepends-On: https://review.openstack.org/609769\nChange-Id: Ic3734c7c52cce84f4dc3c75da72ab1c2f61fa976\n'}, {'number': 2, 'created': '2018-10-11 17:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/e341e2dadde5babe8a9c4a670bee62e05f4bf89f', 'message': 'DNM - Testing Grenade\n\nDepends-On: https://review.openstack.org/609769\nChange-Id: Ic3734c7c52cce84f4dc3c75da72ab1c2f61fa976\n'}, {'number': 3, 'created': '2018-10-12 19:59:17.000000000', 'files': ['ironic_inspector/introspect.py', 'playbooks/legacy/ironic-inspector-grenade-dsvm/run.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/6f17a638e34853c236e5ad3bade5d6095a58722c', 'message': 'DNM - Testing Grenade\n\nDepends-On: I82beecc78afb4b23234d2d5eca4f46f84f20525e\nChange-Id: Ic3734c7c52cce84f4dc3c75da72ab1c2f61fa976\n'}]",0,609771,6f17a638e34853c236e5ad3bade5d6095a58722c,15,2,3,24245,,,0,"DNM - Testing Grenade

Depends-On: I82beecc78afb4b23234d2d5eca4f46f84f20525e
Change-Id: Ic3734c7c52cce84f4dc3c75da72ab1c2f61fa976
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/71/609771/3 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/introspect.py'],1,02ae45b8994687f929854a0990ed67851a7bc8a9,dhcp-udev-settle,"""""""!! DNM - Testing Grenade !! - Handling introspection request.""""""","""""""Handling introspection request.""""""",1,1
openstack%2Ftripleo-ci~master~Id0f722fc6fb2cbeb6eaee5504c7dac2bb296cd9e,openstack/tripleo-ci,master,Id0f722fc6fb2cbeb6eaee5504c7dac2bb296cd9e,Make containerized undercloud upgrade non voting until we get Stein tag,MERGED,2018-10-05 15:40:55.000000000,2018-10-18 07:54:46.000000000,2018-10-06 02:56:30.000000000,"[{'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-05 15:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c6c22229fab81e457df6d83e1ac8311532a5a2f8', 'message': ""Make containerized undercloud upgrade non voting until we get Stein tag\n\nUntil we get https://review.openstack.org/#/c/608282/, we can't really\ntest the upgrades because it's deploying Rocky on master. So let's\ndisable voting on this job to improve stability of the gate.\n\nChange-Id: Id0f722fc6fb2cbeb6eaee5504c7dac2bb296cd9e\nRelated-Bug: #1796341\n""}, {'number': 2, 'created': '2018-10-05 15:41:43.000000000', 'files': ['zuul.d/undercloud-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/96750aace29e4f8e61f7ea1c72df754b3f4a3c57', 'message': ""Make containerized undercloud upgrade non voting until we get Stein tag\n\nUntil we get https://review.openstack.org/#/c/608282/, we can't really\ntest the upgrades because it's deploying Rocky on master. So let's\ndisable voting on this job to improve stability of the gate.\n\nChange-Id: Id0f722fc6fb2cbeb6eaee5504c7dac2bb296cd9e\nRelated-Bug: #1796341\n""}]",0,608291,96750aace29e4f8e61f7ea1c72df754b3f4a3c57,15,4,2,3153,,,0,"Make containerized undercloud upgrade non voting until we get Stein tag

Until we get https://review.openstack.org/#/c/608282/, we can't really
test the upgrades because it's deploying Rocky on master. So let's
disable voting on this job to improve stability of the gate.

Change-Id: Id0f722fc6fb2cbeb6eaee5504c7dac2bb296cd9e
Related-Bug: #1796341
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/91/608291/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/undercloud-jobs.yaml'],1,c6c22229fab81e457df6d83e1ac8311532a5a2f8,bug/1796341, # TODO(emilien) make it voting when we released Stein # https://review.openstack.org/#/c/608282/ voting: false, - tripleo-ci-centos-7-containerized-undercloud-upgrades,3,1
openstack%2Fzun-ui~master~I3df30cfee88608cd12beaae400b0706446194534,openstack/zun-ui,master,I3df30cfee88608cd12beaae400b0706446194534,Install horizon with upper-constraints.txt in post-install,MERGED,2018-09-28 09:04:55.000000000,2018-10-18 07:51:30.000000000,2018-10-02 00:25:51.000000000,"[{'_account_id': 1736}, {'_account_id': 16352}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-09-28 09:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/8a61c23a702127071f7e654d93592434dc125625', 'message': 'Add lower-constraints.txt into post-install\n\nChange-Id: I3df30cfee88608cd12beaae400b0706446194534\n'}, {'number': 2, 'created': '2018-09-28 09:21:25.000000000', 'files': ['package.json'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/d07126df35cac90c16c1eb6b29be90cdf5956378', 'message': 'Install horizon with upper-constraints.txt in post-install\n\nChange-Id: I3df30cfee88608cd12beaae400b0706446194534\n'}]",0,606010,d07126df35cac90c16c1eb6b29be90cdf5956378,11,5,2,16352,,,0,"Install horizon with upper-constraints.txt in post-install

Change-Id: I3df30cfee88608cd12beaae400b0706446194534
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/10/606010/1 && git format-patch -1 --stdout FETCH_HEAD,['package.json'],1,8a61c23a702127071f7e654d93592434dc125625,upper-constraint-npm," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; python3 -m pip install -U -t ./.tox/karma/lib/`python3 -V|tr -d ' '|tr 'P' 'p'|cut -c -9`/site-packages/ -chttps://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt ../horizon; fi"","," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; python3 -m pip install -U -t ./.tox/karma/lib/`python3 -V|tr -d ' '|tr 'P' 'p'|cut -c -9`/site-packages/ ../horizon; fi"",",1,1
openstack%2Fsenlin-dashboard~master~Ib57a7833a184350a03d64dc9c5e150e91000b8c2,openstack/senlin-dashboard,master,Ib57a7833a184350a03d64dc9c5e150e91000b8c2,Install horizon with upper-constraints.txt in post-install,MERGED,2018-10-01 16:46:13.000000000,2018-10-18 07:46:53.000000000,2018-10-02 00:11:24.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-01 16:46:13.000000000', 'files': ['package.json'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/ed828f168b32ab00305d33cfeb5c9fa5d91053b4', 'message': 'Install horizon with upper-constraints.txt in post-install\n\nChange-Id: Ib57a7833a184350a03d64dc9c5e150e91000b8c2\n'}]",0,607003,ed828f168b32ab00305d33cfeb5c9fa5d91053b4,7,2,1,27224,,,0,"Install horizon with upper-constraints.txt in post-install

Change-Id: Ib57a7833a184350a03d64dc9c5e150e91000b8c2
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/03/607003/1 && git format-patch -1 --stdout FETCH_HEAD,['package.json'],1,ed828f168b32ab00305d33cfeb5c9fa5d91053b4,upper-constraint-npm," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; python3 -m pip install -U -t ./.tox/karma/lib/`python3 -V|tr -d ' '|tr 'P' 'p'|cut -c -9`/site-packages/ -chttps://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt ../horizon; fi"","," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; python3 -m pip install -U -t ./.tox/karma/lib/`python3 -V|tr -d ' '|tr 'P' 'p'|cut -c -9`/site-packages/ ../horizon; fi"",",1,1
openstack%2Fsahara~master~Ibd13ee35e7e0e31dca8fd87322696603dd898a7f,openstack/sahara,master,Ibd13ee35e7e0e31dca8fd87322696603dd898a7f,Image building jobs: disable hw acceleration,ABANDONED,2017-10-30 14:50:53.000000000,2018-10-18 07:38:39.000000000,,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2017-10-30 14:50:53.000000000', 'files': ['tools/gate/build-images'], 'web_link': 'https://opendev.org/openstack/sahara/commit/ae113beb73ff18e074361603afc02ec96cce04bb', 'message': 'Image building jobs: disable hw acceleration\n\nChange-Id: Ibd13ee35e7e0e31dca8fd87322696603dd898a7f\n'}]",0,516339,ae113beb73ff18e074361603afc02ec96cce04bb,9,4,1,10459,,,0,"Image building jobs: disable hw acceleration

Change-Id: Ibd13ee35e7e0e31dca8fd87322696603dd898a7f
",git fetch https://review.opendev.org/openstack/sahara refs/changes/39/516339/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/gate/build-images'],1,ae113beb73ff18e074361603afc02ec96cce04bb,buildimages-no-accel,# disable hardware acceleration export LIBGUESTFS_BACKEND_SETTINGS=force_tcg ,,3,0
openstack%2Fopenstack-helm~master~I6ec65e9d04441adac210cc9fd476a37a1cb9644f,openstack/openstack-helm,master,I6ec65e9d04441adac210cc9fd476a37a1cb9644f,Fix typos in doc,MERGED,2018-10-17 14:53:49.000000000,2018-10-18 07:33:40.000000000,2018-10-18 07:33:40.000000000,"[{'_account_id': 8898}, {'_account_id': 14482}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 14:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3cd50ba704256afa6400551a2076c25b4119a06d', 'message': 'Fix typos in doc\n\nFix some typos that I found in documents(except specs)\n * fix trivial mistakes(typos)\n * fix the link error(rst->html)\n\nChange-Id: I6ec65e9d04441adac210cc9fd476a37a1cb9644f\n'}, {'number': 2, 'created': '2018-10-18 01:41:07.000000000', 'files': ['doc/source/install/ext-dns-fqdn.rst', 'doc/source/testing/ceph-node-resiliency.rst', 'doc/source/devref/networking.rst', 'doc/source/testing/ceph-resiliency/osd-failure.rst', 'doc/source/testing/ceph-upgrade.rst', 'doc/source/devref/endpoints.rst', 'doc/source/install/developer/requirements-and-host-config.rst', 'doc/source/install/common-requirements.rst', 'doc/source/testing/ceph-resiliency/disk-failure.rst', 'doc/source/gates.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b067309b89584b30027c083b32991d2d01d2c680', 'message': ""Fix typos in doc\n\nFix some typos that I found in documents(except specs)\n * fix trivial mistakes(typos)\n * fix the link error(rst->html)\n * restore it's -> its\n * fix k8s -> K8s\n\nChange-Id: I6ec65e9d04441adac210cc9fd476a37a1cb9644f\n""}]",4,611344,b067309b89584b30027c083b32991d2d01d2c680,10,4,2,28926,,,0,"Fix typos in doc

Fix some typos that I found in documents(except specs)
 * fix trivial mistakes(typos)
 * fix the link error(rst->html)
 * restore it's -> its
 * fix k8s -> K8s

Change-Id: I6ec65e9d04441adac210cc9fd476a37a1cb9644f
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/44/611344/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/ext-dns-fqdn.rst', 'doc/source/testing/ceph-node-resiliency.rst', 'doc/source/devref/networking.rst', 'doc/source/testing/ceph-resiliency/osd-failure.rst', 'doc/source/testing/ceph-upgrade.rst', 'doc/source/devref/endpoints.rst', 'doc/source/install/developer/requirements-and-host-config.rst', 'doc/source/install/common-requirements.rst', 'doc/source/testing/ceph-resiliency/disk-failure.rst']",9,3cd50ba704256afa6400551a2076c25b4119a06d,fix-doc,"2. Remove the failed OSD (OSD ID = 2 in this example) from the Ceph cluster:3. Find that Ceph is healthy with a lost OSD (i.e., a total of 23 OSDs):4. Replace the failed disk with a new one. If you repair (not replace) the failed disk,5. Start a new OSD pod on ``voyager4``:6. Validate the Ceph status (i.e., one OSD is added, so the total number of OSDs becomes 24):","3. Remove the failed OSD (OSD ID = 2 in this example) from the Ceph cluster:4. Find that Ceph is healthy with a lost OSD (i.e., a total of 23 OSDs):5. Replace the failed disk with a new one. If you repair (not replace) the failed disk,6. Start a new OSD pod on ``voyager4``:7. Validate the Ceph status (i.e., one OSD is added, so the total number of OSDs becomes 24):",26,26
openstack%2Fproject-config~master~I19d99d3b215a70f77cfeeec743a3eb2dcea37bdb,openstack/project-config,master,I19d99d3b215a70f77cfeeec743a3eb2dcea37bdb,Add gabbi-tempest unofficial project,MERGED,2018-10-15 15:55:47.000000000,2018-10-18 07:27:28.000000000,2018-10-18 07:27:28.000000000,"[{'_account_id': 6547}, {'_account_id': 11564}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-15 15:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b9b2200ecc26a9ab74c6eb072f5e2f08a92f948f', 'message': 'Add gabbi-tempest unofficial project\n\nAdd basic config and access for gabbi-tempest project,\nwith upstream to originating project on github.\n\nThe project will not have a separate IRC channel, and makes\nno distinction between core team and release team.\n\nGabbi-tempest is a tempest plugin that will, eventually, allow\nopenstack services to easily run gabbi [1] tests in a simple way.\nSee blog post for more info:\nhttps://anticdent.org/gabbi-in-the-gate.html\n\n[1] https://gabbi.readthedocs.io\n\nChange-Id: I19d99d3b215a70f77cfeeec743a3eb2dcea37bdb\n'}, {'number': 2, 'created': '2018-10-15 17:53:13.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/openstack/gabbi-tempest.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e82d1a5593987f10a9e61f4c1fb07414989858e6', 'message': 'Add gabbi-tempest unofficial project\n\nAdd basic config and access for gabbi-tempest project,\nwith upstream to originating project on github.\n\nThe project will not have a separate IRC channel, and makes\nno distinction between core team and release team.\n\nGabbi-tempest is a tempest plugin that will, eventually, allow\nopenstack services to easily run gabbi [1] tests in a simple way.\nSee blog post for more info:\nhttps://anticdent.org/gabbi-in-the-gate.html\n\n[1] https://gabbi.readthedocs.io\n\nChange-Id: I19d99d3b215a70f77cfeeec743a3eb2dcea37bdb\n'}]",2,610628,e82d1a5593987f10a9e61f4c1fb07414989858e6,13,4,2,11564,,,0,"Add gabbi-tempest unofficial project

Add basic config and access for gabbi-tempest project,
with upstream to originating project on github.

The project will not have a separate IRC channel, and makes
no distinction between core team and release team.

Gabbi-tempest is a tempest plugin that will, eventually, allow
openstack services to easily run gabbi [1] tests in a simple way.
See blog post for more info:
https://anticdent.org/gabbi-in-the-gate.html

[1] https://gabbi.readthedocs.io

Change-Id: I19d99d3b215a70f77cfeeec743a3eb2dcea37bdb
",git fetch https://review.opendev.org/openstack/project-config refs/changes/28/610628/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/openstack/gabbi-tempest.config']",3,b9b2200ecc26a9ab74c6eb072f5e2f08a92f948f,cd/add-gabbi-tempest,"[access ""refs/heads/*""] abandon = group gabbi-tempest-core create = group gabbi-tempest-core label-Code-Review = -2..+2 group gabbi-tempest-core label-Workflow = -1..+1 group gabbi-tempest-core [access ""refs/tags/*""] pushSignedTag = group gabbi-tempest-core [receive] requireChangeId = true [submit] mergeContent = true ",,20,0
openstack%2Fproject-config~master~I677ddd219d66f3d808322bf306e0888970ac9742,openstack/project-config,master,I677ddd219d66f3d808322bf306e0888970ac9742,Retire project Anchor - step 4,MERGED,2018-10-16 21:44:17.000000000,2018-10-18 07:25:35.000000000,2018-10-18 07:25:35.000000000,"[{'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 17893}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 21:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/405eaef4ee38f22c5c25ef746a60cd88e1b9bf94', 'message': 'Retire project Anchor\n\nThis builds off of another change[0] in order to officially retire\nthe Anchor project.\n\n[0] https://review.openstack.org/#/c/597018/\n\nChange-Id: I677ddd219d66f3d808322bf306e0888970ac9742\n'}, {'number': 2, 'created': '2018-10-16 21:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/21f0a5c3374dcf412a1070b2b738639336180d8d', 'message': 'Retire project Anchor\n\nThis change removes the instances of the Anchor project from both\nprojects.yaml and main.yaml. This is following step 4 of the\nmanual[0] to retire a project.\n\n[0] https://docs.openstack.org/infra/manual/drivers.html#retiring-a-project\n\nChange-Id: I677ddd219d66f3d808322bf306e0888970ac9742\n'}, {'number': 3, 'created': '2018-10-16 21:53:52.000000000', 'files': ['gerritbot/channels.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/openstack/anchor.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/dacc251c70ecc9f0ee37f8ae60b581f796d3a0b2', 'message': 'Retire project Anchor - step 4\n\nThis change removes the instances of the Anchor project from both\nprojects.yaml and main.yaml. This is following step 4 of the\nmanual[0] to retire a project.\n\n[0] https://docs.openstack.org/infra/manual/drivers.html#retiring-a-project\n\nChange-Id: I677ddd219d66f3d808322bf306e0888970ac9742\n'}]",0,611181,dacc251c70ecc9f0ee37f8ae60b581f796d3a0b2,11,5,3,21420,,,0,"Retire project Anchor - step 4

This change removes the instances of the Anchor project from both
projects.yaml and main.yaml. This is following step 4 of the
manual[0] to retire a project.

[0] https://docs.openstack.org/infra/manual/drivers.html#retiring-a-project

Change-Id: I677ddd219d66f3d808322bf306e0888970ac9742
",git fetch https://review.opendev.org/openstack/project-config refs/changes/81/611181/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,405eaef4ee38f22c5c25ef746a60cd88e1b9bf94,anchor,, - openstack/anchor,0,1
openstack%2Ftripleo-heat-templates~master~I694c4b3c7fb98e11d7a52eed4072a37471c0e405,openstack/tripleo-heat-templates,master,I694c4b3c7fb98e11d7a52eed4072a37471c0e405,Improve support for deploying ceph on standalone system,MERGED,2018-10-03 13:01:14.000000000,2018-10-18 07:24:03.000000000,2018-10-18 07:24:03.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-03 13:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fe255e14dba587ab9f4dd1aa60078fb0447e8f20', 'message': 'Improve support for deploying ceph on standalone system\n\nThe standalone deployer adds ""ansible_connection: local"" to facilitate\nall-in-one deployments. This patch passes on this setting when generating\nthe inventory used by ceph-ansible.\n\nChange-Id: I694c4b3c7fb98e11d7a52eed4072a37471c0e405\n'}, {'number': 2, 'created': '2018-10-11 21:17:26.000000000', 'files': ['docker/services/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3f5ed998eb91b93cdb595949c394c301017940d5', 'message': 'Improve support for deploying ceph on standalone system\n\nThe standalone deployer adds ""ansible_connection: local"" to facilitate\nall-in-one deployments. This patch passes on this setting when generating\nthe inventory used by ceph-ansible.\n\nChange-Id: I694c4b3c7fb98e11d7a52eed4072a37471c0e405\n'}]",3,607558,3f5ed998eb91b93cdb595949c394c301017940d5,17,5,2,21129,,,0,"Improve support for deploying ceph on standalone system

The standalone deployer adds ""ansible_connection: local"" to facilitate
all-in-one deployments. This patch passes on this setting when generating
the inventory used by ceph-ansible.

Change-Id: I694c4b3c7fb98e11d7a52eed4072a37471c0e405
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/607558/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/ceph-ansible/ceph-base.yaml'],1,fe255e14dba587ab9f4dd1aa60078fb0447e8f20,607558, {% if hostvars.raw_get(host)['ansible_connection'] | default('') == 'local' -%} ansible_connection: local {% endif -%},,3,0
openstack%2Fproject-config~master~Ibdffec8a5f7d16aa074216028b5e6d69374bc272,openstack/project-config,master,Ibdffec8a5f7d16aa074216028b5e6d69374bc272,Update governance-uc docs publishing,MERGED,2018-10-16 17:51:31.000000000,2018-10-18 07:21:28.000000000,2018-10-18 07:21:28.000000000,"[{'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 17:51:31.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/723ba8b06c28c4137e0e1659cf96e128e52a4b96', 'message': 'Update governance-uc docs publishing\n\ngovernance-uc has moved to building docs using the tox-docs job,\nupdate the publish job the same way.\n\nChange-Id: Ibdffec8a5f7d16aa074216028b5e6d69374bc272\nDepends-On: https://review.openstack.org/598395\n'}]",0,611114,723ba8b06c28c4137e0e1659cf96e128e52a4b96,7,3,1,6547,,,0,"Update governance-uc docs publishing

governance-uc has moved to building docs using the tox-docs job,
update the publish job the same way.

Change-Id: Ibdffec8a5f7d16aa074216028b5e6d69374bc272
Depends-On: https://review.openstack.org/598395
",git fetch https://review.opendev.org/openstack/project-config refs/changes/14/611114/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,723ba8b06c28c4137e0e1659cf96e128e52a4b96,pti-docs, parent: base-publish-tox-docs-static, parent: base-publish-static,1,1
openstack%2Ftripleo-heat-templates~master~Iefe4a37e8ced6f4e9018ae0da00e2349390d4927,openstack/tripleo-heat-templates,master,Iefe4a37e8ced6f4e9018ae0da00e2349390d4927,Convert *tasks from bootstrap_nodeid to short_bootstrap_node_name,MERGED,2018-09-26 13:56:41.000000000,2018-10-18 07:20:45.000000000,2018-10-17 11:56:48.000000000,"[{'_account_id': 4328}, {'_account_id': 8042}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-09-26 13:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba9cd80a56bb50e5e7cea47ab37206a3020986b3', 'message': 'Convert *tasks from bootstrap_nodeid to short_bootstrap_node_name\n\nThe current approach has several disadvantages:\n- Requires shelling out to the hiera CLI, and is coupled to the puppet hieradata\n- The bootstrap_nodeid is only unique per Role, not per service, so if you\n  deploy a service spanning more than one role it will evaluate true for\n  every role, not only once.\n\nInstead lets use the per-service short_bootstrap_node_name, which is\navailable directly via the ansible inventory now ref\nhttps://review.openstack.org/#/c/605046/\n\nThis is the first part of a cleanup for inconsistent handling of\nbootstrap node evaluation, triggered by bug #1792613\n\nChange-Id: Iefe4a37e8ced6f4e9018ae0da00e2349390d4927\nRelated-Bug: #1792613\nDepends-On: Idcee177b21e85cff9e0bf10f4c43c71eff9364ec\n'}, {'number': 2, 'created': '2018-09-26 17:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/94e0c5e1afed605899c715bc05dc96b7f4f7c767', 'message': 'Convert *tasks from bootstrap_nodeid to short_bootstrap_node_name\n\nThe current approach has several disadvantages:\n- Requires shelling out to the hiera CLI, and is coupled to the puppet hieradata\n- The bootstrap_nodeid is only unique per Role, not per service, so if you\n  deploy a service spanning more than one role it will evaluate true for\n  every role, not only once.\n\nInstead lets use the per-service short_bootstrap_node_name, which is\navailable directly via the ansible inventory now ref\nhttps://review.openstack.org/#/c/605046/\n\nThis is the first part of a cleanup for inconsistent handling of\nbootstrap node evaluation, triggered by bug #1792613\n\nChange-Id: Iefe4a37e8ced6f4e9018ae0da00e2349390d4927\nPartial-Bug: #1792613\nDepends-On: Idcee177b21e85cff9e0bf10f4c43c71eff9364ec\n'}, {'number': 3, 'created': '2018-09-27 12:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1bc93e869b300356eed024155a913e4c0703d926', 'message': 'Convert *tasks from bootstrap_nodeid to short_bootstrap_node_name\n\nThe current approach has several disadvantages:\n- Requires shelling out to the hiera CLI, and is coupled to the puppet hieradata\n- The bootstrap_nodeid is only unique per Role, not per service, so if you\n  deploy a service spanning more than one role it will evaluate true for\n  every role, not only once.\n\nInstead lets use the per-service short_bootstrap_node_name, which is\navailable directly via the ansible inventory now ref\nhttps://review.openstack.org/#/c/605046/\n\nThis is the first part of a cleanup for inconsistent handling of\nbootstrap node evaluation, triggered by bug #1792613\n\nChange-Id: Iefe4a37e8ced6f4e9018ae0da00e2349390d4927\nPartial-Bug: #1792613\nDepends-On: Idcee177b21e85cff9e0bf10f4c43c71eff9364ec\n'}, {'number': 4, 'created': '2018-10-04 08:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f23d8c5efc4f1a11fbcb370f08677d411d9b2faa', 'message': 'Convert *tasks from bootstrap_nodeid to short_bootstrap_node_name\n\nThe current approach has several disadvantages:\n- Requires shelling out to the hiera CLI, and is coupled to the puppet hieradata\n- The bootstrap_nodeid is only unique per Role, not per service, so if you\n  deploy a service spanning more than one role it will evaluate true for\n  every role, not only once.\n\nInstead lets use the per-service short_bootstrap_node_name, which is\navailable directly via the ansible inventory now ref\nhttps://review.openstack.org/#/c/605046/\n\nThis is the first part of a cleanup for inconsistent handling of\nbootstrap node evaluation, triggered by bug #1792613\n\nChange-Id: Iefe4a37e8ced6f4e9018ae0da00e2349390d4927\nPartial-Bug: #1792613\nDepends-On: Idcee177b21e85cff9e0bf10f4c43c71eff9364ec\n'}, {'number': 5, 'created': '2018-10-12 10:12:37.000000000', 'files': ['docker/services/pacemaker/cinder-volume.yaml', 'docker/services/pacemaker/haproxy.yaml', 'puppet/services/database/redis-base.yaml', 'docker/services/nova-api.yaml', 'docker/services/ironic-api.yaml', 'docker/services/pacemaker/ovn-dbs.yaml', 'docker/services/pacemaker/rabbitmq.yaml', 'docker/services/pacemaker/database/mysql.yaml', 'docker/services/pacemaker/rpc-rabbitmq.yaml', 'docker/services/pacemaker/database/redis.yaml', 'docker/services/pacemaker/notify-rabbitmq.yaml', 'docker/services/pacemaker/cinder-backup.yaml', 'docker/services/pacemaker/manila-share.yaml', 'puppet/services/gnocchi-api.yaml', 'puppet/services/haproxy-public-tls-inject.yaml', 'docker/services/cinder-api.yaml', 'puppet/services/nova-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52c1641e2c3ad5caeb70fc8a09f29eba6fe5b53d', 'message': 'Convert *tasks from bootstrap_nodeid to short_bootstrap_node_name\n\nThe current approach has several disadvantages:\n- Requires shelling out to the hiera CLI, and is coupled to the puppet hieradata\n- The bootstrap_nodeid is only unique per Role, not per service, so if you\n  deploy a service spanning more than one role it will evaluate true for\n  every role, not only once.\n\nInstead lets use the per-service short_bootstrap_node_name, which is\navailable directly via the ansible inventory now ref\nhttps://review.openstack.org/#/c/605046/\n\nThis is the first part of a cleanup for inconsistent handling of\nbootstrap node evaluation, triggered by bug #1792613\n\nChange-Id: Iefe4a37e8ced6f4e9018ae0da00e2349390d4927\nPartial-Bug: #1792613\nDepends-On: Idcee177b21e85cff9e0bf10f4c43c71eff9364ec\n'}]",6,605430,52c1641e2c3ad5caeb70fc8a09f29eba6fe5b53d,27,6,5,4328,,,0,"Convert *tasks from bootstrap_nodeid to short_bootstrap_node_name

The current approach has several disadvantages:
- Requires shelling out to the hiera CLI, and is coupled to the puppet hieradata
- The bootstrap_nodeid is only unique per Role, not per service, so if you
  deploy a service spanning more than one role it will evaluate true for
  every role, not only once.

Instead lets use the per-service short_bootstrap_node_name, which is
available directly via the ansible inventory now ref
https://review.openstack.org/#/c/605046/

This is the first part of a cleanup for inconsistent handling of
bootstrap node evaluation, triggered by bug #1792613

Change-Id: Iefe4a37e8ced6f4e9018ae0da00e2349390d4927
Partial-Bug: #1792613
Depends-On: Idcee177b21e85cff9e0bf10f4c43c71eff9364ec
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/605430/4 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/pacemaker/cinder-volume.yaml', 'docker/services/pacemaker/haproxy.yaml', 'puppet/services/database/redis-base.yaml', 'docker/services/nova-api.yaml', 'docker/services/ironic-api.yaml', 'docker/services/pacemaker/ovn-dbs.yaml', 'docker/services/pacemaker/rabbitmq.yaml', 'docker/services/pacemaker/database/mysql.yaml', 'docker/services/pacemaker/rpc-rabbitmq.yaml', 'docker/services/pacemaker/database/redis.yaml', 'docker/services/pacemaker/notify-rabbitmq.yaml', 'docker/services/pacemaker/cinder-backup.yaml', 'docker/services/pacemaker/manila-share.yaml', 'puppet/services/gnocchi-api.yaml', 'puppet/services/haproxy-public-tls-inject.yaml', 'docker/services/cinder-api.yaml', 'puppet/services/nova-api.yaml']",17,ba9cd80a56bb50e5e7cea47ab37206a3020986b3,bug/1792613, set_fact: is_bootstrap_node={{nova_api_short_bootstrap_node_name|lower == ansible_hostname|lower}}, - name: get bootstrap nodeid tags: common command: hiera bootstrap_nodeid register: bootstrap_node set_fact: is_bootstrap_node={{bootstrap_node.stdout|lower == ansible_hostname|lower}},18,76
openstack%2Fneutron-fwaas~master~Iafb40262c6e21f496e111e1bae27d21069cd6bb0,openstack/neutron-fwaas,master,Iafb40262c6e21f496e111e1bae27d21069cd6bb0,Increment versioning with pbr instruction,MERGED,2018-10-15 13:47:45.000000000,2018-10-18 07:14:48.000000000,2018-10-18 07:14:48.000000000,"[{'_account_id': 6854}, {'_account_id': 6995}, {'_account_id': 13702}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-15 13:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/78ac97ade2c29e0586cf6ca71e6b379faa51fb36', 'message': 'Increment versioning with pbr instruction\n\nWith moving away from required milestone releases, the version numbers\ncalculated by PBR on the master branch will not work for those testing\nupgrades from the last stable release. More details can be found in the\nmailing list post here:\n\n    http://lists.openstack.org/pipermail/openstack-dev/2018-October/135706.html\n\nThis is an empty commit that will cause PBR to increment its calculated\nversion to get around this.\n\nPBR will see the following which will cause it to increment the version:\n\nSem-Ver: feature\n\nPlease merge this patch as soon as possible to support those testing\nupgrades.\n\nChange-Id: Iafb40262c6e21f496e111e1bae27d21069cd6bb0\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2018-10-16 08:19:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/d869218459c7ebb4d918fe8558a3256294e87a9c', 'message': 'Increment versioning with pbr instruction\n\nWith moving away from required milestone releases, the version numbers\ncalculated by PBR on the master branch will not work for those testing\nupgrades from the last stable release. More details can be found in the\nmailing list post here:\n\n    http://lists.openstack.org/pipermail/openstack-dev/2018-October/135706.html\n\nThis is an empty commit that will cause PBR to increment its calculated\nversion to get around this.\n\nPBR will see the following which will cause it to increment the version:\n\nSem-Ver: feature\n\nPlease merge this patch as soon as possible to support those testing\nupgrades.\n\nChange-Id: Iafb40262c6e21f496e111e1bae27d21069cd6bb0\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,610540,d869218459c7ebb4d918fe8558a3256294e87a9c,10,4,2,11904,,,0,"Increment versioning with pbr instruction

With moving away from required milestone releases, the version numbers
calculated by PBR on the master branch will not work for those testing
upgrades from the last stable release. More details can be found in the
mailing list post here:

    http://lists.openstack.org/pipermail/openstack-dev/2018-October/135706.html

This is an empty commit that will cause PBR to increment its calculated
version to get around this.

PBR will see the following which will cause it to increment the version:

Sem-Ver: feature

Please merge this patch as soon as possible to support those testing
upgrades.

Change-Id: Iafb40262c6e21f496e111e1bae27d21069cd6bb0
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/40/610540/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,78ac97ade2c29e0586cf6ca71e6b379faa51fb36,sem-ver,,,0,0
openstack%2Fproject-config~master~I0b654fb18f56e86db85cfbba9efadf3a1e39fa9a,openstack/project-config,master,I0b654fb18f56e86db85cfbba9efadf3a1e39fa9a,Normalize projects.yaml,MERGED,2018-10-18 06:10:34.000000000,2018-10-18 06:58:53.000000000,2018-10-18 06:58:53.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-18 06:10:34.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a1b27c90d64ded0128904608b6f20fb1ff39df6a', 'message': 'Normalize projects.yaml\n\nChange-Id: I0b654fb18f56e86db85cfbba9efadf3a1e39fa9a\n'}]",0,611509,a1b27c90d64ded0128904608b6f20fb1ff39df6a,6,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: I0b654fb18f56e86db85cfbba9efadf3a1e39fa9a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/09/611509/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,a1b27c90d64ded0128904608b6f20fb1ff39df6a,project-yaml-normalization,, upstream: https://github.com/stackhpc/tenks,0,1
openstack%2Fdiskimage-builder~master~Ia12f0cbdeb194eef3155497ceb5ffc4a452aad76,openstack/diskimage-builder,master,Ia12f0cbdeb194eef3155497ceb5ffc4a452aad76,Set EPEL mirror during openstack-ci-mirrors,MERGED,2018-10-09 23:56:59.000000000,2018-10-18 06:56:19.000000000,2018-10-18 04:40:33.000000000,"[{'_account_id': 4146}, {'_account_id': 6133}, {'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 11628}, {'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-09 23:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/00df26b80d68c1152addd68bdae5906405cb9a82', 'message': 'Set EPEL mirror during openstack-ci-mirrors\n\nAlso reset the EPEL mirror\n\nChange-Id: Ia12f0cbdeb194eef3155497ceb5ffc4a452aad76\n'}, {'number': 2, 'created': '2018-10-10 01:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/bde6858be0739dbddf668611d572e64b225204df', 'message': 'Set EPEL mirror during openstack-ci-mirrors\n\nWe want to set DIB_EPEL_MIRROR for the epel element, which means we\nneed access to the CI mirror info script in the chroot.  Copy it into\nthe temp directory with extra-data.d and update the environment file\nto find it.\n\nChange-Id: Ia12f0cbdeb194eef3155497ceb5ffc4a452aad76\n'}, {'number': 3, 'created': '2018-10-15 01:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6e754112b2c5c6bfc18db28bcce40243b0e4f3af', 'message': 'Set EPEL mirror during openstack-ci-mirrors\n\nWe want to set DIB_EPEL_MIRROR for the epel element, which means we\nneed access to the CI mirror info script in the chroot.  Copy it into\nthe temp directory with extra-data.d and update the environment file\nto find it.\n\nChange-Id: Ia12f0cbdeb194eef3155497ceb5ffc4a452aad76\n'}, {'number': 4, 'created': '2018-10-15 03:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ebf3792e27c237ccc2c8a7e6d222003913ede94a', 'message': 'Set EPEL mirror during openstack-ci-mirrors\n\nWe want to set DIB_EPEL_MIRROR for the epel element, which means we\nneed access to the CI mirror info script in the chroot.  Copy it into\nthe temp directory with extra-data.d and update the environment file\nto find it.\n\nChange-Id: Ia12f0cbdeb194eef3155497ceb5ffc4a452aad76\n'}, {'number': 5, 'created': '2018-10-16 07:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a12c86c7ce1980284ee17826119c4232c0c127b6', 'message': 'Set EPEL mirror during openstack-ci-mirrors\n\nWe want to set DIB_EPEL_MIRROR for the epel element, which means we\nneed access to the CI mirror info script in the chroot.  Copy it into\nthe temp directory with extra-data.d and update the environment file\nto find it.\n\nChange-Id: Ia12f0cbdeb194eef3155497ceb5ffc4a452aad76\n'}, {'number': 6, 'created': '2018-10-18 02:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5dbaa292eff2ea1d94064c6610331d23ee3e661d', 'message': 'Set EPEL mirror during openstack-ci-mirrors\n\nWe want to set DIB_EPEL_MIRROR for the epel element, which means we\nneed access to the CI mirror info script in the chroot.  Copy it into\nthe temp directory with extra-data.d and update the environment file\nto find it.\n\nChange-Id: Ia12f0cbdeb194eef3155497ceb5ffc4a452aad76\n'}, {'number': 7, 'created': '2018-10-18 02:54:10.000000000', 'files': ['diskimage_builder/elements/openstack-ci-mirrors/environment.d/11-dib-distribution-mirror.bash', 'diskimage_builder/elements/openstack-ci-mirrors/extra-data.d/75-copy-mirror-info'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8b0111477e49cd733d0c27cc25c00a1a7cdf964b', 'message': 'Set EPEL mirror during openstack-ci-mirrors\n\nWe want to set DIB_EPEL_MIRROR for the epel element, which means we\nneed access to the CI mirror info script in the chroot.  Copy it into\nthe temp directory with extra-data.d and update the environment file\nto find it.\n\nChange-Id: Ia12f0cbdeb194eef3155497ceb5ffc4a452aad76\n'}]",1,609169,8b0111477e49cd733d0c27cc25c00a1a7cdf964b,33,9,7,7118,,,0,"Set EPEL mirror during openstack-ci-mirrors

We want to set DIB_EPEL_MIRROR for the epel element, which means we
need access to the CI mirror info script in the chroot.  Copy it into
the temp directory with extra-data.d and update the environment file
to find it.

Change-Id: Ia12f0cbdeb194eef3155497ceb5ffc4a452aad76
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/69/609169/2 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/openstack-ci-mirrors/environment.d/11-dib-distribution-mirror.bash'],1,00df26b80d68c1152addd68bdae5906405cb9a82,epel-mirror, export DIB_EPEL_MIRROR=$NODEPOOL_EPEL_MIRROR export DIB_EPEL_MIRROR=$NODEPOOL_EPEL_MIRROR,,2,0
openstack%2Fdiskimage-builder~master~If5baf339516390ae332015928557c6bb734486c2,openstack/diskimage-builder,master,If5baf339516390ae332015928557c6bb734486c2,simplify overlay logic for Gentoo,MERGED,2018-10-08 05:46:44.000000000,2018-10-18 05:51:05.000000000,2018-10-18 05:51:05.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-08 05:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b2d2177d4ed24760aa4e6da954647e12e1874190', 'message': ""simplify overlay logic for Gentoo\n\nopenssl/cryptography versions are updated/stable\nmusl profiles need newer versions of open-iscsi masked as upstream\ndoesn't want to work with multiple libcs\n\nChange-Id: If5baf339516390ae332015928557c6bb734486c2\n""}, {'number': 2, 'created': '2018-10-09 05:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/64e6611e1e4f299eb83f686dd475cc3eafe88c51', 'message': ""simplify overlay logic for Gentoo\n\nopenssl/cryptography versions are updated/stable\nmusl profiles need newer versions of open-iscsi masked as upstream\ndoesn't want to work with multiple libcs\n\nChange-Id: If5baf339516390ae332015928557c6bb734486c2\n""}, {'number': 3, 'created': '2018-10-09 14:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/df91e052443354cbd08040162696293aa6eb2efc', 'message': ""simplify overlay logic for Gentoo\n\nopenssl/cryptography versions are updated/stable\nmusl profiles need newer versions of open-iscsi masked as upstream\ndoesn't want to work with multiple libcs\n\nChange-Id: If5baf339516390ae332015928557c6bb734486c2\n""}, {'number': 4, 'created': '2018-10-18 00:21:31.000000000', 'files': ['diskimage_builder/elements/gentoo/pre-install.d/02-gentoo-03-enable-overlays'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3ad823518041f42be9417264f9f3521432041bf1', 'message': ""simplify overlay logic for Gentoo\n\nopenssl/cryptography versions are updated/stable\nmusl profiles need newer versions of open-iscsi masked as upstream\ndoesn't want to work with multiple libcs\n\nChange-Id: If5baf339516390ae332015928557c6bb734486c2\n""}]",0,608577,3ad823518041f42be9417264f9f3521432041bf1,23,5,4,14288,,,0,"simplify overlay logic for Gentoo

openssl/cryptography versions are updated/stable
musl profiles need newer versions of open-iscsi masked as upstream
doesn't want to work with multiple libcs

Change-Id: If5baf339516390ae332015928557c6bb734486c2
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/77/608577/4 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/gentoo/pre-install.d/02-gentoo-03-enable-overlays'],1,b2d2177d4ed24760aa4e6da954647e12e1874190,simplify-gentoo-overlays," # upstream has problems with supporting other libcs still if [[ ""${GENTOO_PROFILE}"" == *""musl""* ]]; then echo '>=sys-block/open-iscsi-2.0.875' >> /etc/portage/package.mask/open-iscsi echo '=sys-block/open-iscsi-2.0.874-r2' >> /etc/portage/package.keywords/open-iscsi fi"," # layman requires cryptography, which needs ecc crypto functions. # binaries providing those functions have questionable legality for # redistribution, so we have to use a version of openssl that works around # it (using fedora's patchset) and also use a version of cryptography that # depends on that version of openssl. echo '=dev-python/cryptography-2.1.4-r2 ~amd64' >> /etc/portage/package.keywords/layman echo '=dev-libs/openssl-1.0.2o-r6 ~amd64' >> /etc/portage/package.keywords/layman",5,7
openstack%2Fdiskimage-builder~master~Ide96c039b03817c216ab58930ff5c897556e6c8a,openstack/diskimage-builder,master,Ide96c039b03817c216ab58930ff5c897556e6c8a,simplify python3.6 selection on gentoo,MERGED,2018-10-08 05:43:48.000000000,2018-10-18 05:51:05.000000000,2018-10-18 05:51:05.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-08 05:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7d9efbfcb3b7da86dae9bd9dd735f23dac5048af', 'message': 'simplify python3.6 selection on gentoo\n\npython 3.6 is now stable in gentoo\n\nChange-Id: Ide96c039b03817c216ab58930ff5c897556e6c8a\n'}, {'number': 2, 'created': '2018-10-09 05:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5e374f70e71717cb5369e45ceeb327eab476abd8', 'message': 'simplify python3.6 selection on gentoo\n\npython 3.6 is now stable in gentoo\n\nChange-Id: Ide96c039b03817c216ab58930ff5c897556e6c8a\n'}, {'number': 3, 'created': '2018-10-09 05:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/97467fce335b96e678a0fedb73af6899f0b2a040', 'message': 'simplify python3.6 selection on gentoo\n\npython 3.6 is now stable in gentoo\n\nChange-Id: Ide96c039b03817c216ab58930ff5c897556e6c8a\n'}, {'number': 4, 'created': '2018-10-09 14:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/240a2bce84ee2ccebfcc95ec88cf62d6d5bfd109', 'message': 'simplify python3.6 selection on gentoo\n\npython 3.6 is now stable in gentoo\n\nChange-Id: Ide96c039b03817c216ab58930ff5c897556e6c8a\n'}, {'number': 5, 'created': '2018-10-18 00:21:16.000000000', 'files': ['diskimage_builder/elements/gentoo/pre-install.d/02-gentoo-04-install-desired-python'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1e257f59cc63ef67d32f2d583b5f85da89cac7f4', 'message': 'simplify python3.6 selection on gentoo\n\npython 3.6 is now stable in gentoo\n\nChange-Id: Ide96c039b03817c216ab58930ff5c897556e6c8a\n'}]",0,608576,1e257f59cc63ef67d32f2d583b5f85da89cac7f4,23,4,5,14288,,,0,"simplify python3.6 selection on gentoo

python 3.6 is now stable in gentoo

Change-Id: Ide96c039b03817c216ab58930ff5c897556e6c8a
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/76/608576/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/gentoo/pre-install.d/02-gentoo-04-install-desired-python'],1,7d9efbfcb3b7da86dae9bd9dd735f23dac5048af,simplify-gentoo-overlays,"[[ ""${GENTOO_PYTHON_TARGETS}"" == *""python3_6""* ]] && [[ ! -e /usr/lib64/libpython3.6m.so ]] && emerge ${GENTOO_EMERGE_DEFAULT_OPTS} --oneshot dev-lang/python:3.6","# python-3.6 and python-3.5 are masked and considered unstable for some reasonif [[ ""${GENTOO_PYTHON_TARGETS}"" == *""python3_6""* ]]; then echo -e ""-python_targets_python3_6\n-python_single_target_python3_6"" >> /etc/portage/profile/use.stable.mask echo 'dev-lang/python:3.6 ~amd64' >> /etc/portage/package.keywords/python echo '~dev-python/setuptools-36.0.1 ~amd64' >> /etc/portage/package.keywords/python echo '~dev-python/pyxattr-0.6.0 ~amd64' >> /etc/portage/package.keywords/python echo '~sys-apps/kmod-24 ~amd64' >> /etc/portage/package.keywords/python [[ ! -e /usr/lib64/libpython3.6m.so ]] && emerge ${GENTOO_EMERGE_DEFAULT_OPTS} --oneshot dev-lang/python:3.6 fi",1,9
openstack%2Fdiskimage-builder~master~Ib03651ee8dacd48cd1c135afd57cd31101356056,openstack/diskimage-builder,master,Ib03651ee8dacd48cd1c135afd57cd31101356056,enable caching for gentoo builds,MERGED,2018-09-21 05:57:57.000000000,2018-10-18 05:51:03.000000000,2018-10-18 05:51:03.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 13252}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-21 05:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/168b63321158638ed2b8c930b6fb123b0a1fd760', 'message': 'enable caching for gentoo builds\n\nit could definitely use it...\n\nChange-Id: Ib03651ee8dacd48cd1c135afd57cd31101356056\n'}, {'number': 2, 'created': '2018-09-21 05:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/dc7244f45e2ec7d2d7c2d079e30f9f028fe01a4a', 'message': ""enable caching for gentoo builds\n\nit could definitely use it...\n\nThis also simplifies py36 (now that it's stable) and fixes open-iscsi.\n\nChange-Id: Ib03651ee8dacd48cd1c135afd57cd31101356056\n""}, {'number': 3, 'created': '2018-09-25 14:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/58e5941b8ec5656d2b257fe24e484922ece33693', 'message': ""enable caching for gentoo builds\n\nit could definitely use it...\n\nTo facilitate this I've created two new environment variables to set\nthe environment and default options for package actions.\n\nThis also simplifies py36 (now that it's stable) and fixes open-iscsi.\n\nChange-Id: Ib03651ee8dacd48cd1c135afd57cd31101356056\n""}, {'number': 4, 'created': '2018-09-25 15:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9084b0de99ca31a6b32242e272846a6cd1fb02c7', 'message': ""enable caching for gentoo builds\n\nit could definitely use it...\n\nTo facilitate this I've created two new environment variables to set\nthe environment and default options for package actions.\n\nThis also simplifies py36 (now that it's stable) and fixes open-iscsi.\n\neval is necessary as it is a variable setting other variables...\n\nChange-Id: Ib03651ee8dacd48cd1c135afd57cd31101356056\n""}, {'number': 5, 'created': '2018-09-25 16:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9d29e71a0bd1f9f6e31c77e79073e5c7ec5240aa', 'message': ""enable caching for gentoo builds\n\nit could definitely use it...\n\nTo facilitate this I've created two new environment variables to set\nthe environment and default options for package actions.\n\nThis also simplifies py36 (now that it's stable) and fixes open-iscsi.\n\neval is needed for the export as it preserves quotes.\n\nChange-Id: Ib03651ee8dacd48cd1c135afd57cd31101356056\n""}, {'number': 6, 'created': '2018-10-08 05:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/02981d4d46bd7b9ba207a0b52a8a5a9765c3ece3', 'message': ""enable caching for gentoo builds\n\nTo facilitate this I've created two new environment variables to set\nthe environment and default options for package actions.\n\neval is needed for the export as it preserves quotes.\n\nChange-Id: Ib03651ee8dacd48cd1c135afd57cd31101356056\n""}, {'number': 7, 'created': '2018-10-09 05:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/01e19b72390a9384137de826e33ab80d45e3555d', 'message': ""enable caching for gentoo builds\n\nTo facilitate this I've created two new environment variables to set\nthe environment and default options for package actions.\n\neval is needed for the export as it preserves quotes.\n\nChange-Id: Ib03651ee8dacd48cd1c135afd57cd31101356056\n""}, {'number': 8, 'created': '2018-10-09 06:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ed6983ea60a347d6bef39ae6b8d2134b5f450dab', 'message': ""enable caching for gentoo builds\n\nTo facilitate this I've created two new environment variables to set\nthe environment and default options for package actions.\n\neval is needed for the export as it preserves quotes.\n\nChange-Id: Ib03651ee8dacd48cd1c135afd57cd31101356056\n""}, {'number': 9, 'created': '2018-10-09 14:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2801234f3ae4199ab52a3e076ef80a8d03625dbe', 'message': ""enable caching for gentoo builds\n\nTo facilitate this I've created two new environment variables to set\nthe environment and default options for package actions.\n\neval is needed for the export as it preserves quotes.\n\nChange-Id: Ib03651ee8dacd48cd1c135afd57cd31101356056\n""}, {'number': 10, 'created': '2018-10-15 06:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5d57e136f789346ed44ede422b80ebacd6212d01', 'message': ""enable caching for gentoo builds\n\nTo facilitate this I've created two new environment variables to set\nthe environment and default options for package actions.\n\neval is needed for the export as it preserves quotes.\n\nThe default value for GENTOO_PORTAGE_CLEANUP has been changed to False\nas setting it to true with cache enabled will clean the cache.\n\nChange-Id: Ib03651ee8dacd48cd1c135afd57cd31101356056\n""}, {'number': 11, 'created': '2018-10-15 07:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d6f16a0dd61328cda172e0c8e14e96743b5ae794', 'message': ""enable caching for gentoo builds\n\nTo facilitate this I've created two new environment variables to set\nthe environment and default options for package actions.\n\neval is needed for the export as it preserves quotes.\n\nChange-Id: Ib03651ee8dacd48cd1c135afd57cd31101356056\n""}, {'number': 12, 'created': '2018-10-15 08:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9f8adb6f7ae49ac307905746c495d204a393c42d', 'message': ""enable caching for gentoo builds\n\nTo facilitate this I've created two new environment variables to set\nthe environment and default options for package actions.\n\neval is needed for the export as it preserves quotes.\n\nChange-Id: Ib03651ee8dacd48cd1c135afd57cd31101356056\n""}, {'number': 13, 'created': '2018-10-15 13:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/23640c755e4113b43c4a5173191903328cfc124e', 'message': ""enable caching for gentoo builds\n\nTo facilitate this I've created two new environment variables to set\nthe environment and default options for package actions.\n\neval is needed for the export as it preserves quotes.\n\nChange-Id: Ib03651ee8dacd48cd1c135afd57cd31101356056\n""}, {'number': 14, 'created': '2018-10-15 19:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/543387d7df7a9c6cddee352f3ebac5b892eed647', 'message': ""enable caching for gentoo builds\n\nTo facilitate this I've created two new environment variables to set\nthe environment and default options for package actions.\n\neval is needed for the export as it preserves quotes.\n\nChange-Id: Ib03651ee8dacd48cd1c135afd57cd31101356056\n""}, {'number': 15, 'created': '2018-10-15 22:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/79ce352b6829bb071056ad0f26ab1114cabaf2b6', 'message': ""enable caching for gentoo builds\n\nTo facilitate this I've created two new environment variables to set\nthe environment and default options for package actions.\n\neval is needed for the export as it preserves quotes.\n\nChange-Id: Ib03651ee8dacd48cd1c135afd57cd31101356056\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n""}, {'number': 16, 'created': '2018-10-16 02:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a65b40770472973021786709d97f2c019add6374', 'message': ""enable caching for gentoo builds\n\nTo facilitate this I've created two new environment variables to set\nthe environment and default options for package actions.\n\neval is needed for the export as it preserves quotes.\n\nChange-Id: Ib03651ee8dacd48cd1c135afd57cd31101356056\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n""}, {'number': 17, 'created': '2018-10-16 04:17:51.000000000', 'files': ['diskimage_builder/elements/gentoo/environment.d/00-gentoo-envars.bash', 'diskimage_builder/elements/gentoo/cleanup.d/05-unmount', 'diskimage_builder/elements/gentoo/README.rst', 'diskimage_builder/elements/gentoo/finalise.d/99-cleanup', 'diskimage_builder/elements/gentoo/pre-install.d/02-gentoo-04-install-desired-python', 'diskimage_builder/elements/gentoo/pre-finalise.d/01-gentoo-cache', 'diskimage_builder/elements/gentoo/root.d/50-gentoo-cache', 'diskimage_builder/elements/gentoo/bin/install-packages', 'diskimage_builder/elements/gentoo/pre-install.d/02-gentoo-03-enable-overlays'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/89f95a5351078c0d2272657d236570249da381b4', 'message': ""enable caching for gentoo builds\n\nTo facilitate this I've created two new environment variables to set\nthe environment and default options for package actions.\n\neval is needed for the export as it preserves quotes.\n\nChange-Id: Ib03651ee8dacd48cd1c135afd57cd31101356056\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n""}]",8,604268,89f95a5351078c0d2272657d236570249da381b4,83,7,17,14288,,,0,"enable caching for gentoo builds

To facilitate this I've created two new environment variables to set
the environment and default options for package actions.

eval is needed for the export as it preserves quotes.

Change-Id: Ib03651ee8dacd48cd1c135afd57cd31101356056
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/68/604268/13 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/gentoo/finalise.d/99-cleanup', 'diskimage_builder/elements/gentoo/pre-install.d/02-gentoo-04-install-desired-python', 'diskimage_builder/elements/gentoo/root.d/50-gentoo-cache', 'diskimage_builder/elements/gentoo/bin/install-packages', 'diskimage_builder/elements/gentoo/pre-install.d/02-gentoo-03-enable-overlays']",5,168b63321158638ed2b8c930b6fb123b0a1fd760,gentoo-dib-cache," echo '>=sys-block/open-iscsi-2.0.875' >> /etc/portage/package.mask/open-iscsi echo '=sys-block/open-iscsi-2.0.874-r2' >> /etc/portage/package.keywords/open-iscsi FEATURES=""binpkg-multi-instance buildpkg parallel-fetch parallel-install"" emerge --binpkg-respect-use --rebuilt-binaries=y --usepkg=y --with-bdeps=y --binpkg-changed-deps=y -q --oneshot --jobs=2 openssl openssh USE=""-build"" FEATURES=""binpkg-multi-instance buildpkg parallel-fetch parallel-install"" emerge --binpkg-respect-use --rebuilt-binaries=y --usepkg=y --with-bdeps=y --binpkg-changed-deps=y -q --oneshot --jobs=2 --deep -q --jobs=2 --ignore-built-slot-operator-deps=y layman"," emerge -q --oneshot --jobs=2 openssl openssh USE=""-build"" emerge --deep -q --jobs=2 --ignore-built-slot-operator-deps=y layman",47,27
openstack%2Fnetworking-midonet~master~I6c2d0658914a3f48afb9e04e638ec1aee71dcf95,openstack/networking-midonet,master,I6c2d0658914a3f48afb9e04e638ec1aee71dcf95,Increment versioning with pbr instruction,MERGED,2018-10-15 13:47:56.000000000,2018-10-18 05:25:46.000000000,2018-10-18 05:25:37.000000000,"[{'_account_id': 156}, {'_account_id': 6854}, {'_account_id': 9925}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-15 13:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/dbbc37d616381705df9d31f2bfbf1e056300c37e', 'message': 'Increment versioning with pbr instruction\n\nWith moving away from required milestone releases, the version numbers\ncalculated by PBR on the master branch will not work for those testing\nupgrades from the last stable release. More details can be found in the\nmailing list post here:\n\n    http://lists.openstack.org/pipermail/openstack-dev/2018-October/135706.html\n\nThis is an empty commit that will cause PBR to increment its calculated\nversion to get around this.\n\nPBR will see the following which will cause it to increment the version:\n\nSem-Ver: feature\n\nPlease merge this patch as soon as possible to support those testing\nupgrades.\n\nChange-Id: I6c2d0658914a3f48afb9e04e638ec1aee71dcf95\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,610546,dbbc37d616381705df9d31f2bfbf1e056300c37e,12,4,1,11904,,,0,"Increment versioning with pbr instruction

With moving away from required milestone releases, the version numbers
calculated by PBR on the master branch will not work for those testing
upgrades from the last stable release. More details can be found in the
mailing list post here:

    http://lists.openstack.org/pipermail/openstack-dev/2018-October/135706.html

This is an empty commit that will cause PBR to increment its calculated
version to get around this.

PBR will see the following which will cause it to increment the version:

Sem-Ver: feature

Please merge this patch as soon as possible to support those testing
upgrades.

Change-Id: I6c2d0658914a3f48afb9e04e638ec1aee71dcf95
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/46/610546/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,dbbc37d616381705df9d31f2bfbf1e056300c37e,sem-ver,,,0,0
openstack%2Fdiskimage-builder~master~I6f593b46596f2208b8a6019ecdee7bdf189ca9d1,openstack/diskimage-builder,master,I6f593b46596f2208b8a6019ecdee7bdf189ca9d1,Add support for Fedora 28,ABANDONED,2018-06-29 12:07:51.000000000,2018-10-18 05:04:58.000000000,,"[{'_account_id': 7118}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 16690}, {'_account_id': 17505}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-29 12:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9c8c0856c4db2c3b789a1b9a9e02280987a213c3', 'message': 'Add support for Fedora 28\n\nChange-Id: I6f593b46596f2208b8a6019ecdee7bdf189ca9d1\n'}, {'number': 2, 'created': '2018-07-02 13:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/052529a303b8e73651db270a9a8fb4502f83b41f', 'message': 'Add support for Fedora 28\n\nChange-Id: I6f593b46596f2208b8a6019ecdee7bdf189ca9d1\n'}, {'number': 3, 'created': '2018-07-02 14:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b5ec635ef9dbf02f981de7f6c9b714d1d28111f1', 'message': 'Add support for Fedora 28\n\nChange-Id: I6f593b46596f2208b8a6019ecdee7bdf189ca9d1\n'}, {'number': 4, 'created': '2018-10-17 04:37:57.000000000', 'files': ['diskimage_builder/elements/fedora/environment.d/10-fedora-distro-name.bash', 'diskimage_builder/elements/fedora-minimal/environment.d/10-fedora-distro-name.bash', 'diskimage_builder/elements/fedora/root.d/10-fedora-cloud-image'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/27d7fa5af40c507087d62c65be7e0805202bb057', 'message': 'Add support for Fedora 28\n\nChange-Id: I6f593b46596f2208b8a6019ecdee7bdf189ca9d1\n'}]",0,579131,27d7fa5af40c507087d62c65be7e0805202bb057,27,7,4,17505,,,0,"Add support for Fedora 28

Change-Id: I6f593b46596f2208b8a6019ecdee7bdf189ca9d1
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/31/579131/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/fedora/environment.d/10-fedora-distro-name.bash', 'diskimage_builder/elements/fedora-minimal/environment.d/10-fedora-distro-name.bash']",2,9c8c0856c4db2c3b789a1b9a9e02280987a213c3,fedora28,export DIB_RELEASE=${DIB_RELEASE:-28},export DIB_RELEASE=${DIB_RELEASE:-27},3,1
openstack%2Fcoverage2sql~master~I66d77a977b76118d3a7b74f1f5b238370b43a38d,openstack/coverage2sql,master,I66d77a977b76118d3a7b74f1f5b238370b43a38d,fix tox python3 overrides,MERGED,2018-09-29 23:49:26.000000000,2018-10-18 05:00:54.000000000,2018-10-18 05:00:54.000000000,"[{'_account_id': 5689}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-29 23:49:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/coverage2sql/commit/f5a1c604930c3454dc10a4c406db1c596b6e64b2', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I66d77a977b76118d3a7b74f1f5b238370b43a38d\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,606623,f5a1c604930c3454dc10a4c406db1c596b6e64b2,6,2,1,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I66d77a977b76118d3a7b74f1f5b238370b43a38d
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/coverage2sql refs/changes/23/606623/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f5a1c604930c3454dc10a4c406db1c596b6e64b2,python3-first,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,,5,0
openstack%2Fdiskimage-builder~master~I52ad8af8f7e53e489f8028e8f2e1c68fc1a327bb,openstack/diskimage-builder,master,I52ad8af8f7e53e489f8028e8f2e1c68fc1a327bb,Provide for an EPEL mirror during build,NEW,2018-10-09 03:47:22.000000000,2018-10-18 04:49:04.000000000,,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-09 03:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cd0474013d3ddde49589c36e96d46cff6c3e15e8', 'message': ""Use EPEL mirror during build\n\nThis takes a similar approach to the base build-time mirroring.\n\nA new option DIB_EPEL_BUILD_REPO is added to the epel element; this\nwill replace the EPEL repo file used during the build, and restore the\noriginal in the final steps so we still produce a generic image.\n\nFor gate testing, setup-gate-mirrors.sh is updated to create an EPEL\nrepo that points to the region's EPEL mirror.  This is then exported\nby openstack-ci-mirrors.\n\nChange-Id: I52ad8af8f7e53e489f8028e8f2e1c68fc1a327bb\n""}, {'number': 2, 'created': '2018-10-09 04:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c4a855684611aba514afcdfa2e8b2cc5ed8a23e7', 'message': ""Use EPEL mirror during build\n\nThis takes a similar approach to the base build-time mirroring.\n\nA new option DIB_EPEL_BUILD_REPO is added to the epel element; this\nwill replace the EPEL repo file used during the build, and restore the\noriginal in the final steps so we still produce a generic image.\n\nFor gate testing, setup-gate-mirrors.sh is updated to create an EPEL\nrepo that points to the region's EPEL mirror.  This is then exported\nby openstack-ci-mirrors.\n\nUpdate the centos-minimal build-succeeds test to bring in the epel\nelement for testing.\n\nChange-Id: I52ad8af8f7e53e489f8028e8f2e1c68fc1a327bb\n""}, {'number': 3, 'created': '2018-10-09 04:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/475686fb87d7d1800e85db98d1b089b58ac1c301', 'message': ""Use EPEL mirror during build\n\nThis takes a similar approach to the base build-time mirroring.\n\nA new option DIB_EPEL_BUILD_REPO is added to the epel element; this\nwill replace the EPEL repo file used during the build, and restore the\noriginal in the final steps so we still produce a generic image.\n\nFor gate testing, setup-gate-mirrors.sh is updated to create an EPEL\nrepo that points to the region's EPEL mirror.  This is then exported\nby openstack-ci-mirrors.\n\nUpdate the centos-minimal build-succeeds test to bring in the epel\nelement for testing.\n\nChange-Id: I52ad8af8f7e53e489f8028e8f2e1c68fc1a327bb\n""}, {'number': 4, 'created': '2018-10-09 07:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/dcfec59a4aaac807775806a773f3bf2e27f82991', 'message': ""Use EPEL mirror during build\n\nThis takes a similar approach to the base build-time mirroring.\n\nA new option DIB_EPEL_BUILD_REPO is added to the epel element; this\nwill replace the EPEL repo file used during the build, and restore the\noriginal in the final steps so we still produce a generic image.\n\nFor gate testing, setup-gate-mirrors.sh is updated to create an EPEL\nrepo that points to the region's EPEL mirror.  This is then exported\nby openstack-ci-mirrors.\n\nUpdate the centos-minimal build-succeeds test to bring in the epel\nelement for testing.\n\nChange-Id: I52ad8af8f7e53e489f8028e8f2e1c68fc1a327bb\n""}, {'number': 5, 'created': '2018-10-09 23:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fbeb8914194c7293dfc0d4a48cd4b01120c3b7c0', 'message': ""Provide for an EPEL mirror during build\n\nA new option DIB_EPEL_BUILD_REPO is added to the epel element; this\nwill replace the EPEL repo file used during the build, and restore the\noriginal in the final steps so we still produce a generic image.  This\nis similar to what is done for build-mirroring in the yum-minimal\nelement.\n\nFor DIB gate testing, setup-gate-mirrors.sh is updated to create an\nEPEL repo that points to the region's EPEL mirror.  This is then\nexported by openstack-ci-mirrors.\n\nUpdate the centos-minimal build-succeeds test to bring in the epel\nelement for testing.\n\nChange-Id: I52ad8af8f7e53e489f8028e8f2e1c68fc1a327bb\n""}, {'number': 6, 'created': '2018-10-10 01:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/657c88516b36330e2409691a603f98564e141c46', 'message': ""Provide for an EPEL mirror during build\n\nA new option DIB_EPEL_BUILD_REPO is added to the epel element; this\nwill replace the EPEL repo file used during the build, and restore the\noriginal in the final steps so we still produce a generic image.  This\nis similar to what is done for build-mirroring in the yum-minimal\nelement.\n\nFor DIB gate testing, setup-gate-mirrors.sh is updated to create an\nEPEL repo that points to the region's EPEL mirror.  This is then\nexported by openstack-ci-mirrors.\n\nUpdate the centos-minimal build-succeeds test to bring in the epel\nelement for testing.\n\nChange-Id: I52ad8af8f7e53e489f8028e8f2e1c68fc1a327bb\n""}, {'number': 7, 'created': '2018-10-15 01:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e032fe6a7d3f9aac84403cc07d0312784cee6d3c', 'message': ""Provide for an EPEL mirror during build\n\nA new option DIB_EPEL_BUILD_REPO is added to the epel element; this\nwill replace the EPEL repo file used during the build, and restore the\noriginal in the final steps so we still produce a generic image.  This\nis similar to what is done for build-mirroring in the yum-minimal\nelement.\n\nFor DIB gate testing, setup-gate-mirrors.sh is updated to create an\nEPEL repo that points to the region's EPEL mirror.  This is then\nexported by openstack-ci-mirrors.\n\nUpdate the centos-minimal build-succeeds test to bring in the epel\nelement for testing.\n\nChange-Id: I52ad8af8f7e53e489f8028e8f2e1c68fc1a327bb\n""}, {'number': 8, 'created': '2018-10-15 03:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/414d5b021af0e42c31bd8a8f12e0ca6dd2cf2712', 'message': ""Provide for an EPEL mirror during build\n\nA new option DIB_EPEL_BUILD_REPO is added to the epel element; this\nwill replace the EPEL repo file used during the build, and restore the\noriginal in the final steps so we still produce a generic image.  This\nis similar to what is done for build-mirroring in the yum-minimal\nelement.\n\nFor DIB gate testing, setup-gate-mirrors.sh is updated to create an\nEPEL repo that points to the region's EPEL mirror.  This is then\nexported by openstack-ci-mirrors.\n\nUpdate the centos-minimal build-succeeds test to bring in the epel\nelement for testing.\n\nChange-Id: I52ad8af8f7e53e489f8028e8f2e1c68fc1a327bb\n""}, {'number': 9, 'created': '2018-10-16 07:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/40bb69cae15e906a3df8d04fc24384229b08d489', 'message': ""Provide for an EPEL mirror during build\n\nA new option DIB_EPEL_BUILD_REPO is added to the epel element; this\nwill replace the EPEL repo file used during the build, and restore the\noriginal in the final steps so we still produce a generic image.  This\nis similar to what is done for build-mirroring in the yum-minimal\nelement.\n\nFor DIB gate testing, setup-gate-mirrors.sh is updated to create an\nEPEL repo that points to the region's EPEL mirror.  This is then\nexported by openstack-ci-mirrors.\n\nUpdate the centos-minimal build-succeeds test to bring in the epel\nelement for testing.\n\nChange-Id: I52ad8af8f7e53e489f8028e8f2e1c68fc1a327bb\n""}, {'number': 10, 'created': '2018-10-18 02:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/03da52ba9a26125da0e14ac73ddb588fac84dcc6', 'message': ""Provide for an EPEL mirror during build\n\nA new option DIB_EPEL_BUILD_REPO is added to the epel element; this\nwill replace the EPEL repo file used during the build, and restore the\noriginal in the final steps so we still produce a generic image.  This\nis similar to what is done for build-mirroring in the yum-minimal\nelement.\n\nFor DIB gate testing, setup-gate-mirrors.sh is updated to create an\nEPEL repo that points to the region's EPEL mirror.  This is then\nexported by openstack-ci-mirrors.\n\nUpdate the centos-minimal build-succeeds test to bring in the epel\nelement for testing.\n\nChange-Id: I52ad8af8f7e53e489f8028e8f2e1c68fc1a327bb\n""}, {'number': 11, 'created': '2018-10-18 02:54:10.000000000', 'files': ['diskimage_builder/elements/epel/root.d/10-epel-build-repo', 'diskimage_builder/elements/epel/cleanup.d/95-remove-build-mirror', 'diskimage_builder/elements/epel/pre-install.d/05-rpm-epel-release', 'contrib/setup-gate-mirrors.sh', 'diskimage_builder/elements/openstack-ci-mirrors/environment.d/11-dib-distribution-mirror.bash', 'diskimage_builder/elements/centos-minimal/test-elements/build-succeeds/element-deps', 'diskimage_builder/elements/epel/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2f138d3ac30ea5bb0af67b2bd39c26a71b2f45b5', 'message': ""Provide for an EPEL mirror during build\n\nA new option DIB_EPEL_BUILD_REPO is added to the epel element; this\nwill replace the EPEL repo file used during the build, and restore the\noriginal in the final steps so we still produce a generic image.  This\nis similar to what is done for build-mirroring in the yum-minimal\nelement.\n\nFor DIB gate testing, setup-gate-mirrors.sh is updated to create an\nEPEL repo that points to the region's EPEL mirror.  This is then\nexported by openstack-ci-mirrors.\n\nUpdate the centos-minimal build-succeeds test to bring in the epel\nelement for testing.\n\nChange-Id: I52ad8af8f7e53e489f8028e8f2e1c68fc1a327bb\n""}]",0,608834,2f138d3ac30ea5bb0af67b2bd39c26a71b2f45b5,38,6,11,7118,,,0,"Provide for an EPEL mirror during build

A new option DIB_EPEL_BUILD_REPO is added to the epel element; this
will replace the EPEL repo file used during the build, and restore the
original in the final steps so we still produce a generic image.  This
is similar to what is done for build-mirroring in the yum-minimal
element.

For DIB gate testing, setup-gate-mirrors.sh is updated to create an
EPEL repo that points to the region's EPEL mirror.  This is then
exported by openstack-ci-mirrors.

Update the centos-minimal build-succeeds test to bring in the epel
element for testing.

Change-Id: I52ad8af8f7e53e489f8028e8f2e1c68fc1a327bb
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/34/608834/7 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/epel/cleanup.d/95-remove-build-mirror', 'diskimage_builder/elements/epel/pre-install.d/05-rpm-epel-release', 'contrib/setup-gate-mirrors.sh', 'diskimage_builder/elements/openstack-ci-mirrors/environment.d/11-dib-distribution-mirror.bash', 'diskimage_builder/elements/epel/README.rst']",5,cd0474013d3ddde49589c36e96d46cff6c3e15e8,epel-mirror,"DIB_EPEL_BUILD_REPO: :Required: No :Default: None :Description: Path to a EPEL .repo file to be used during build. This will overwrite the system repo file during build, but be replaced with the regular file in the final image. ",,61,3
openstack%2Fcinder~master~I30fe71261e80593d626fb216485cf113fe9ab3e1,openstack/cinder,master,I30fe71261e80593d626fb216485cf113fe9ab3e1,Imported Translations from Zanata,MERGED,2018-10-15 07:59:56.000000000,2018-10-18 04:42:47.000000000,2018-10-15 17:36:33.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18883}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-15 07:59:56.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1b2a167884083723a111e8d4bae459e944910c96', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I30fe71261e80593d626fb216485cf113fe9ab3e1\n'}]",0,610448,1b2a167884083723a111e8d4bae459e944910c96,32,28,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I30fe71261e80593d626fb216485cf113fe9ab3e1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/610448/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,1b2a167884083723a111e8d4bae459e944910c96,zanata/translations,"""POT-Creation-Date: 2018-10-13 19:59+0000\n""""PO-Revision-Date: 2018-10-14 01:04+0000\n""msgid ""11.1.1-21"" msgstr ""11.1.1-21""msgid ""13.0.0-17"" msgstr ""13.0.0-17"" msgid ""13.0.0.0rc1-166"" msgstr ""13.0.0.0rc1-166""""The ITRI DISCO storage driver has been removed after completion of its "" ""deprecation period without a reliable 3rd Party CI system being supported. "" ""Customers using the ITRI DISCO driver should not upgrade Cinder without "" ""first migrating all volumes from their DISCO backend to a supported storage "" ""backend. Failure to migrate volumes will result in no longer being able to "" ""access volumes back by the ITRI DISCO storage backend."" msgstr """" ""The ITRI DISCO storage driver has been removed after completion of its "" ""deprecation period without a reliable 3rd Party CI system being supported. "" ""Customers using the ITRI DISCO driver should not upgrade Cinder without "" ""first migrating all volumes from their DISCO backend to a supported storage "" ""backend. Failure to migrate volumes will result in no longer being able to "" ""access volumes back by the ITRI DISCO storage backend."" msgid """" ""The ITRI DISCO storage driver was marked unsupported in Rocky due to 3rd "" ""Party CI not meeting Cinder's requirements. As a result the driver is "" ""removed starting from the Stein release."" msgstr """" ""The ITRI DISCO storage driver was marked unsupported in Rocky due to 3rd "" ""Party CI not meeting Cinder's requirements. As a result the driver is "" ""removed starting from the Stein release."" msgid """"","""POT-Creation-Date: 2018-10-12 20:04+0000\n""""PO-Revision-Date: 2018-10-11 09:20+0000\n""msgid ""11.1.1-20"" msgstr ""11.1.1-20""msgid ""13.0.0-16"" msgstr ""13.0.0-16""",33,6
openstack%2Fdiskimage-builder~master~I6ffbde07fa0e103641ee5c5f9d9e854e5b2168dc,openstack/diskimage-builder,master,I6ffbde07fa0e103641ee5c5f9d9e854e5b2168dc,ubuntu: Add options to ignore mirror components and use insecure repos,MERGED,2018-10-15 05:02:10.000000000,2018-10-18 04:34:00.000000000,2018-10-18 04:33:59.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-15 05:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/383518e12e9a79cccce4d7b9cb419bd943897712', 'message': ""[wip] ubuntu element - ignore missing openstack repos\n\nWhen using the cloud images, they have universe and multiverse enabled\nwhich we don't mirror.  Add an option to ignore abitrary things in\nsources.list when DIB_DISTRIBUTION_MIRROR is set.\n\nChange-Id: I6ffbde07fa0e103641ee5c5f9d9e854e5b2168dc\n""}, {'number': 2, 'created': '2018-10-15 05:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/66072541476665aaaf6431ed4f170682c14d6052', 'message': ""[wip] ubuntu element - ignore missing openstack repos\n\nWhen using the cloud images, they have universe and multiverse enabled\nwhich we don't mirror.  Add an option to ignore abitrary things in\nsources.list when DIB_DISTRIBUTION_MIRROR is set.\n\nChange-Id: I6ffbde07fa0e103641ee5c5f9d9e854e5b2168dc\n""}, {'number': 3, 'created': '2018-10-15 06:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5c08dada0cfd2bdb411188113c9e808b78265070', 'message': ""[wip] ubuntu element - ignore missing openstack repos\n\nWhen using the cloud images, they have universe and multiverse enabled\nwhich we don't mirror.  Add an option to ignore abitrary things in\nsources.list when DIB_DISTRIBUTION_MIRROR is set.\n\nChange-Id: I6ffbde07fa0e103641ee5c5f9d9e854e5b2168dc\n""}, {'number': 4, 'created': '2018-10-16 00:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8ea3babb149b6737a531570310b3f64b0eb6a25f', 'message': ""[wip] ubuntu element - ignore missing openstack repos\n\nWhen using the cloud images, they have universe and multiverse enabled\nwhich we don't mirror.  Add an option to ignore abitrary things in\nsources.list when DIB_DISTRIBUTION_MIRROR is set.\n\nChange-Id: I6ffbde07fa0e103641ee5c5f9d9e854e5b2168dc\n""}, {'number': 5, 'created': '2018-10-16 07:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6ce693fcad75796f3445b020369f66940ec66587', 'message': 'ubuntu: Add option to ignore missing mirror components\n\nWhen using the upstream cloud images with the ""ubuntu"" element, they\nhave universe and multiverse enabled which we don\'t mirror.\n\nTo use the infra mirrors as a DIB_DISTRIBUTION_MIRROR with this\nelement, we need to be able to skip redirecting to universe and\nmultiverse, and additionally enable insecure repos (as we don\'t gpg\nsign our mirrors).\n\nAdd and document two new variables with the ubuntu element to do this.\nThis is then setup by the openstack-ci-mirrors element so that we use\nlocal mirrors duing dib functional testing for the ""ubuntu"" element.\n\nChange-Id: I6ffbde07fa0e103641ee5c5f9d9e854e5b2168dc\n'}, {'number': 6, 'created': '2018-10-18 02:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/af14a0bb559cfb263dc676304eac86a506f9e68e', 'message': 'ubuntu: Add options to ignore mirror components and use insecure repos\n\nWhen using the upstream cloud images with the ""ubuntu"" element, they\nhave universe and multiverse enabled which we don\'t mirror.\n\nTo use the infra mirrors as a DIB_DISTRIBUTION_MIRROR with this\nelement, we need to be able to skip redirecting to universe and\nmultiverse, and additionally enable insecure repos (as we don\'t gpg\nsign our mirrors).\n\nAdd and document two new variables with the ubuntu element to do this.\nThis is then setup by the openstack-ci-mirrors element so that we use\nlocal mirrors duing dib functional testing for the ""ubuntu"" element.\n\nChange-Id: I6ffbde07fa0e103641ee5c5f9d9e854e5b2168dc\n'}, {'number': 7, 'created': '2018-10-18 02:54:10.000000000', 'files': ['diskimage_builder/elements/ubuntu/README.rst', 'diskimage_builder/elements/ubuntu/pre-install.d/01-set-ubuntu-mirror', 'diskimage_builder/elements/openstack-ci-mirrors/environment.d/11-dib-distribution-mirror.bash'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c47ee6e121ba154adf35b5d02f24180d4ff0ce79', 'message': 'ubuntu: Add options to ignore mirror components and use insecure repos\n\nWhen using the upstream cloud images with the ""ubuntu"" element, they\nhave universe and multiverse enabled which we don\'t mirror.\n\nTo use the infra mirrors as a DIB_DISTRIBUTION_MIRROR with this\nelement, we need to be able to skip redirecting to universe and\nmultiverse, and additionally enable insecure repos (as we don\'t gpg\nsign our mirrors).\n\nAdd and document two new variables with the ubuntu element to do this.\nThis is then setup by the openstack-ci-mirrors element so that we use\nlocal mirrors duing dib functional testing for the ""ubuntu"" element.\n\nChange-Id: I6ffbde07fa0e103641ee5c5f9d9e854e5b2168dc\n'}]",0,610430,c47ee6e121ba154adf35b5d02f24180d4ff0ce79,34,4,7,7118,,,0,"ubuntu: Add options to ignore mirror components and use insecure repos

When using the upstream cloud images with the ""ubuntu"" element, they
have universe and multiverse enabled which we don't mirror.

To use the infra mirrors as a DIB_DISTRIBUTION_MIRROR with this
element, we need to be able to skip redirecting to universe and
multiverse, and additionally enable insecure repos (as we don't gpg
sign our mirrors).

Add and document two new variables with the ubuntu element to do this.
This is then setup by the openstack-ci-mirrors element so that we use
local mirrors duing dib functional testing for the ""ubuntu"" element.

Change-Id: I6ffbde07fa0e103641ee5c5f9d9e854e5b2168dc
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/30/610430/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/ubuntu/pre-install.d/01-set-ubuntu-mirror', 'diskimage_builder/elements/openstack-ci-mirrors/environment.d/11-dib-distribution-mirror.bash']",2,383518e12e9a79cccce4d7b9cb419bd943897712,epel-mirror,"# Infra doesn't mirror non-free repos, so instruct to ignore these DIB_DISTRIBUTION_MIRROR_UBUNTU_IGNORE=""(universe|multiverse)"" ",,26,2
openstack%2Ftripleo-heat-templates~master~I44881508b01407e8fdd754cc5872babbc70d422e,openstack/tripleo-heat-templates,master,I44881508b01407e8fdd754cc5872babbc70d422e,Swift doesn't use standard logging.,MERGED,2018-10-16 17:36:22.000000000,2018-10-18 04:33:49.000000000,2018-10-18 04:33:49.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7385}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-16 17:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59eb3d342e7d37a9dcceb4434065a0ddcd925c56', 'message': ""Swift doesn't use standard logging.\n\nAs Swift service logs are managed by rsyslog, we have to set a different\nsetype for its log directory.\n\nChange-Id: I44881508b01407e8fdd754cc5872babbc70d422e\n""}, {'number': 2, 'created': '2018-10-17 05:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c6dc5498a8bc6f9188baa440531e75d1a3d8d110', 'message': ""Swift doesn't use standard logging.\n\nAs Swift service logs are managed by rsyslog, we have to set a different\nsetype for its log directory.\n\nChange-Id: I44881508b01407e8fdd754cc5872babbc70d422e\n""}, {'number': 3, 'created': '2018-10-17 09:42:04.000000000', 'files': ['docker/services/swift-storage.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4001c1a605d8dc5de8347de54f8ecffbe788e8a1', 'message': ""Swift doesn't use standard logging.\n\nAs Swift service logs are managed by rsyslog, we have to set a different\nsetype for its log directory.\n\nChange-Id: I44881508b01407e8fdd754cc5872babbc70d422e\n""}]",0,611110,4001c1a605d8dc5de8347de54f8ecffbe788e8a1,15,6,3,28223,,,0,"Swift doesn't use standard logging.

As Swift service logs are managed by rsyslog, we have to set a different
setype for its log directory.

Change-Id: I44881508b01407e8fdd754cc5872babbc70d422e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/611110/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/swift-storage.yaml'],1,59eb3d342e7d37a9dcceb4434065a0ddcd925c56,podman/swift-logs," - { 'path': /var/log/swift, 'setype': var_log_t }"," - { 'path': /var/log/swift, 'setype': svirt_sandbox_file_t }",1,1
openstack%2Fdiskimage-builder~master~I0687de4722766189db9d4a7bd7d3cfb45d387b62,openstack/diskimage-builder,master,I0687de4722766189db9d4a7bd7d3cfb45d387b62,Turn down pkg-map and hook copy tracing output,MERGED,2018-10-17 23:56:21.000000000,2018-10-18 03:56:12.000000000,2018-10-18 03:56:12.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-17 23:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1e1da63f4b8a2d943c1ff57e22dd78adf102e2a3', 'message': 'Turn down pkg-map output\n\nThis is a lot of very low value noise in the logs as it iterates\nthrough all the elements, often doing nothing.  Turn it down and add\nan echo so we see just what was copied.\n\nChange-Id: I0687de4722766189db9d4a7bd7d3cfb45d387b62\n'}, {'number': 2, 'created': '2018-10-18 00:04:41.000000000', 'files': ['diskimage_builder/lib/common-functions', 'diskimage_builder/elements/pkg-map/extra-data.d/10-create-pkg-map-dir'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6c077d7c2af5ebd454af9dcb49cfaaddcd2cc1db', 'message': 'Turn down pkg-map and hook copy tracing output\n\nThis is a lot of very low value noise in the logs as these iterate\nthrough all the elements (often doing nothing).  Turn it down and add\nan echo so we just see what elements it is working on.\n\nChange-Id: I0687de4722766189db9d4a7bd7d3cfb45d387b62\n'}]",0,611468,6c077d7c2af5ebd454af9dcb49cfaaddcd2cc1db,13,5,2,7118,,,0,"Turn down pkg-map and hook copy tracing output

This is a lot of very low value noise in the logs as these iterate
through all the elements (often doing nothing).  Turn it down and add
an echo so we just see what elements it is working on.

Change-Id: I0687de4722766189db9d4a7bd7d3cfb45d387b62
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/68/611468/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/pkg-map/extra-data.d/10-create-pkg-map-dir'],1,1e1da63f4b8a2d943c1ff57e22dd78adf102e2a3,pkg-map-dir,"if [ ${DIB_DEBUG_TRACE:-1} -gt 1 ]; then echo ""Copying pkg-map for ${element}""",if [ ${DIB_DEBUG_TRACE:-1} -gt 0 ]; then,2,1
openstack%2Fpuppet-nova~master~I5b89a83f01fbe400d2d2d31c502cb95588a50301,openstack/puppet-nova,master,I5b89a83f01fbe400d2d2d31c502cb95588a50301,Update min tox version to 2.0,MERGED,2018-10-16 03:43:26.000000000,2018-10-18 03:19:50.000000000,2018-10-18 03:19:50.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 03:43:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/bac8cab0b7260fe791dc5e6a1ae67c9b7d57e31f', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: I5b89a83f01fbe400d2d2d31c502cb95588a50301\n'}]",0,610848,bac8cab0b7260fe791dc5e6a1ae67c9b7d57e31f,19,4,1,9414,,,0,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.  Update to
reflect reality, which should help with local running of constraints
targets.

Change-Id: I5b89a83f01fbe400d2d2d31c502cb95588a50301
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/48/610848/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bac8cab0b7260fe791dc5e6a1ae67c9b7d57e31f,update-tox-version,minversion = 2.0,minversion = 1.6,1,1
openstack%2Fpuppet-cinder~master~I47d789f26c24f232f51a6946a56ac73ed58214d7,openstack/puppet-cinder,master,I47d789f26c24f232f51a6946a56ac73ed58214d7,Update min tox version to 2.0,MERGED,2018-10-16 03:43:31.000000000,2018-10-18 03:18:43.000000000,2018-10-18 03:18:43.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 03:43:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/dcc7b173ddaae9ba4e8f366515b8f56a1bf2b8b1', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: I47d789f26c24f232f51a6946a56ac73ed58214d7\n'}]",0,610870,dcc7b173ddaae9ba4e8f366515b8f56a1bf2b8b1,19,4,1,9414,,,0,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.  Update to
reflect reality, which should help with local running of constraints
targets.

Change-Id: I47d789f26c24f232f51a6946a56ac73ed58214d7
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/70/610870/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,dcc7b173ddaae9ba4e8f366515b8f56a1bf2b8b1,update-tox-version,minversion = 2.0,minversion = 1.6,1,1
openstack%2Fopenstack-helm-infra~master~I9aa64e15ce8d16a565c7d03c4cc52bfe563429d4,openstack/openstack-helm-infra,master,I9aa64e15ce8d16a565c7d03c4cc52bfe563429d4,[wip] update doc on validate ceph object replication  script,ABANDONED,2018-10-17 21:42:19.000000000,2018-10-18 03:12:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-17 21:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8a45dd23056ec4b4fc5a65c747974c781b07635e', 'message': '[wip] update doc on validate ceph object replication  script\n\nChange-Id: I9aa64e15ce8d16a565c7d03c4cc52bfe563429d4\n'}, {'number': 2, 'created': '2018-10-17 21:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cef43655b2504b0db0ef5740f8a9fe8d3d36844a', 'message': '[wip] update doc on validate ceph object replication  script\n\nChange-Id: I9aa64e15ce8d16a565c7d03c4cc52bfe563429d4\n'}, {'number': 3, 'created': '2018-10-18 02:54:40.000000000', 'files': ['doc/source/testing/ceph-resiliency/validate-object-replication.rst', 'doc/source/testing/ceph-resiliency/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/74c9cdaa89b6106c8f8b2832bbce34ca78a8f675', 'message': '[wip] update doc on validate ceph object replication  script\n\nChange-Id: I9aa64e15ce8d16a565c7d03c4cc52bfe563429d4\n'}]",0,611448,74c9cdaa89b6106c8f8b2832bbce34ca78a8f675,6,1,3,28372,,,0,"[wip] update doc on validate ceph object replication  script

Change-Id: I9aa64e15ce8d16a565c7d03c4cc52bfe563429d4
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/48/611448/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/testing/ceph-resiliency/validate-object-replication.rst', 'doc/source/testing/ceph-resiliency/index.rst']",2,8a45dd23056ec4b4fc5a65c747974c781b07635e,, validate-obejct-replication,,65,0
openstack%2Fdiskimage-builder~master~I6fd1cb2a23422206884165eb502b260f0c1e52f7,openstack/diskimage-builder,master,I6fd1cb2a23422206884165eb502b260f0c1e52f7,Fix DIB ubuntu-minimal running on bionic (18.04),MERGED,2018-09-21 21:26:22.000000000,2018-10-18 03:08:37.000000000,2018-10-18 03:08:37.000000000,"[{'_account_id': 6133}, {'_account_id': 6816}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-21 21:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4b3700b6d2e618c6791db27eaef0d412ced8a83c', 'message': 'Fix DIB ubuntu-minimal running on bionic (18.04)\n\nDiskimage-builder fails to build ubuntu-minimal images when run on\na Ubuntu bionic-beaver (18.04) instance.\nThe user gets ""Couldn\'t create tempfiles for splitting up"" when\napt-get update is run in the ubuntu-minimal element root.d.\n\nThe issue is that the /tmp inside the chroot is not getting the\nproper permissions applied from the base-files package. This is likely\nbecause the pip-cache element has already created the directory before\nthe base-files package is installed.\n\nThis patch sets the permissions of /tmp inside the chroot to the\n1777 setting that base-files sets it to.\n\nChange-Id: I6fd1cb2a23422206884165eb502b260f0c1e52f7\n'}, {'number': 2, 'created': '2018-10-02 03:01:01.000000000', 'files': ['diskimage_builder/elements/pip-cache/root.d/11-pip-cache'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/330626482ad82b3da2991752cfc4b9934813c99f', 'message': 'Fix DIB ubuntu-minimal running on bionic (18.04)\n\nDiskimage-builder fails to build ubuntu-minimal images when run on\na Ubuntu bionic-beaver (18.04) instance.\nThe user gets ""Couldn\'t create tempfiles for splitting up"" when\napt-get update is run in the ubuntu-minimal element root.d.\n\nThe issue is that the /tmp inside the chroot is not getting the\nproper permissions applied from the base-files package. This is likely\nbecause the pip-cache element has already created the directory before\nthe base-files package is installed.\n\nThis patch changes the order of pip-cache to root.d/11-pip-cache so that\nit runs after teh base OS root.d elements run.\n\nChange-Id: I6fd1cb2a23422206884165eb502b260f0c1e52f7\n'}]",1,604478,330626482ad82b3da2991752cfc4b9934813c99f,19,7,2,11628,,,0,"Fix DIB ubuntu-minimal running on bionic (18.04)

Diskimage-builder fails to build ubuntu-minimal images when run on
a Ubuntu bionic-beaver (18.04) instance.
The user gets ""Couldn't create tempfiles for splitting up"" when
apt-get update is run in the ubuntu-minimal element root.d.

The issue is that the /tmp inside the chroot is not getting the
proper permissions applied from the base-files package. This is likely
because the pip-cache element has already created the directory before
the base-files package is installed.

This patch changes the order of pip-cache to root.d/11-pip-cache so that
it runs after teh base OS root.d elements run.

Change-Id: I6fd1cb2a23422206884165eb502b260f0c1e52f7
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/78/604478/2 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/ubuntu-minimal/root.d/75-ubuntu-minimal-baseinstall'],1,4b3700b6d2e618c6791db27eaef0d412ced8a83c,,# Make sure /tmp is writable to all (aligns to base-files permissions) # as of bionic more parts are not running as root and will fail sudo chmod 1777 $TARGET_ROOT/tmp ,,4,0
openstack%2Fsahara~master~I54a1370c482a3a2862f1c8313a984fece25efbd2,openstack/sahara,master,I54a1370c482a3a2862f1c8313a984fece25efbd2,Fixing image validation for Ambari 2.3,MERGED,2018-10-10 20:39:35.000000000,2018-10-18 03:04:45.000000000,2018-10-18 03:04:45.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2018-10-10 20:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/f4d74093c0f5a3974ea39ba3f8796d17188f2510', 'message': 'Fixing image validation for Ambari 2.3\n\nChanging ambari version for image validation.\n\nChange-Id: I54a1370c482a3a2862f1c8313a984fece25efbd2\n'}, {'number': 2, 'created': '2018-10-10 20:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/9b4f8ec24fc8aaf6e7caed5df5743d5ef4287589', 'message': 'Fixing image validation for Ambari 2.3\n\nChanging ambari version for image validation.\n\nTask: #26942\nChange-Id: I54a1370c482a3a2862f1c8313a984fece25efbd2\n'}, {'number': 3, 'created': '2018-10-10 20:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/269e05c963061cf3cf3684d2ac2a415188f7c05f', 'message': 'Fixing image validation for Ambari 2.3\n\nChanging ambari version for image validation.\n\nStory: #2003996\nTask: #26942\nChange-Id: I54a1370c482a3a2862f1c8313a984fece25efbd2\n'}, {'number': 4, 'created': '2018-10-17 19:42:48.000000000', 'files': ['sahara/plugins/ambari/plugin.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/01d465dd385e1a30d3e6d60d8f5cdc5831aff25b', 'message': 'Fixing image validation for Ambari 2.3\n\nChanging ambari version for image validation.\n\nStory: #2003996\nTask: #26942\nChange-Id: I54a1370c482a3a2862f1c8313a984fece25efbd2\n'}]",0,609539,01d465dd385e1a30d3e6d60d8f5cdc5831aff25b,13,3,4,8932,,,0,"Fixing image validation for Ambari 2.3

Changing ambari version for image validation.

Story: #2003996
Task: #26942
Change-Id: I54a1370c482a3a2862f1c8313a984fece25efbd2
",git fetch https://review.opendev.org/openstack/sahara refs/changes/39/609539/4 && git format-patch -1 --stdout FETCH_HEAD,['sahara/plugins/ambari/plugin.py'],1,f4d74093c0f5a3974ea39ba3f8796d17188f2510,609539, if cluster['hadoop_version'] == '2.3': for arguments in image_arguments: if arguments.name == 'ambari_version': arguments.default = '2.4.3.0',,4,0
openstack%2Fansible-role-redhat-subscription~master~Ibf8c3c573a78acc6815cf3793a208028c43f3ba1,openstack/ansible-role-redhat-subscription,master,Ibf8c3c573a78acc6815cf3793a208028c43f3ba1,"Fix defaults when activation key is used, add options",MERGED,2018-10-17 14:22:21.000000000,2018-10-18 02:24:10.000000000,2018-10-18 02:24:10.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 15184}, {'_account_id': 18851}, {'_account_id': 22348}, {'_account_id': 27253}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-10-17 14:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/eee22f12b64746088e68f5a810861ebd191fa323', 'message': ""Fix defaults when activation key is used\n\nWhen the activation key is used, we don't want to deploy repositories,\nand also it's not compatible with autosubscribe option, they are both\nmutually exclusive.\n\nThis patch:\n- change the default of rhsm_autosubscribe to be undefined.\n- configure repositories when activationkey isn't defined.\n\nChange-Id: Ibf8c3c573a78acc6815cf3793a208028c43f3ba1\nCloses-Bug: #1798382\n""}, {'number': 2, 'created': '2018-10-17 19:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/711914e70f2f91f72c9175fdfa42b7be5c422172', 'message': ""Fix defaults when activation key is used, add options\n\nWhen the activation key is used, we don't want to deploy repositories,\nand also it's not compatible with autosubscribe option, they are both\nmutually exclusive.\n\nThis patch:\n- change the default of rhsm_autosubscribe to be undefined.\n- configure repositories when activationkey isn't defined.\n- use include_tasks since a variable is in the task file name\n- add option to force registration\n- pass the rhsm_baseurl to the registration task, which is needed when\n  unregistering\n- derive the rhsm_satellite_url from rhsm_baseurl by default, but allow it to\n  be overridden\n\nChange-Id: Ibf8c3c573a78acc6815cf3793a208028c43f3ba1\nCloses-Bug: #1798382\n""}, {'number': 3, 'created': '2018-10-17 21:29:35.000000000', 'files': ['tasks/satellite.yml', 'tasks/main.yml', 'tasks/satellite-6.yml', 'tasks/portal.yml', 'defaults/main.yml', 'meta/main.yml', 'README.md'], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/a0c7cfffcc8b3f507bb1d4bdcb35fc37d8bd42f2', 'message': ""Fix defaults when activation key is used, add options\n\nWhen the activation key is used, we don't want to deploy repositories,\nand also it's not compatible with autosubscribe option, they are both\nmutually exclusive.\n\nThis patch:\n- change the default of rhsm_autosubscribe to be undefined.\n- configure repositories when activationkey isn't defined.\n- use include_tasks since a variable is in the task file name\n- add option to force registration\n- pass the rhsm_baseurl to the registration task, which is needed when\n  unregistering\n- derive the rhsm_satellite_url from rhsm_baseurl by default, but allow it to\n  be overridden\n- sets validate_certs for yum tasks\n- uses dynamic task inclusion rather than static import with a default filter for selecting the registration method\n\nChange-Id: Ibf8c3c573a78acc6815cf3793a208028c43f3ba1\nCloses-Bug: #1798382\n""}]",1,611334,a0c7cfffcc8b3f507bb1d4bdcb35fc37d8bd42f2,16,7,3,3153,,,0,"Fix defaults when activation key is used, add options

When the activation key is used, we don't want to deploy repositories,
and also it's not compatible with autosubscribe option, they are both
mutually exclusive.

This patch:
- change the default of rhsm_autosubscribe to be undefined.
- configure repositories when activationkey isn't defined.
- use include_tasks since a variable is in the task file name
- add option to force registration
- pass the rhsm_baseurl to the registration task, which is needed when
  unregistering
- derive the rhsm_satellite_url from rhsm_baseurl by default, but allow it to
  be overridden
- sets validate_certs for yum tasks
- uses dynamic task inclusion rather than static import with a default filter for selecting the registration method

Change-Id: Ibf8c3c573a78acc6815cf3793a208028c43f3ba1
Closes-Bug: #1798382
",git fetch https://review.opendev.org/openstack/ansible-role-redhat-subscription refs/changes/34/611334/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/portal.yml', 'defaults/main.yml', 'README.md']",3,eee22f12b64746088e68f5a810861ebd191fa323,bug/1798382,| `rhsm_autosubscribe` | `[undefined]` | Whether or not to autosubscribe to available repositories. |,| `rhsm_autosubscribe` | `yes` | Whether or not to autosubscribe to available repositories. |,5,3
openstack%2Fcongress~master~I318a0496f9a71c80674b114b5c6f898cf080c058,openstack/congress,master,I318a0496f9a71c80674b114b5c6f898cf080c058,workaround: add ending '/' to oslo-messaging transport url,MERGED,2018-10-16 21:37:38.000000000,2018-10-18 02:19:31.000000000,2018-10-18 02:19:31.000000000,"[{'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2018-10-16 21:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/483ba57adfc332c7e5abecd431e6838b3b64d9b7', 'message': ""add ending '/' to oslo-messaging transport url\n\noslo-messaging 9.0.1 requires the ending '/' to properly\nuse default virtual host '/'. Otherwise, it attempts to connect to\nvirtual host 'None' and gets refused.\n\nChange-Id: I318a0496f9a71c80674b114b5c6f898cf080c058\n""}, {'number': 2, 'created': '2018-10-17 04:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/295e39453e7a227b2bc80d20c95fff3afb0a86b4', 'message': ""add ending '/' to oslo-messaging transport url\n\noslo-messaging 9.0.1 requires the ending '/' to properly\nuse default virtual host '/'. Otherwise, it attempts to connect to\nvirtual host 'None' and gets refused.\n\nChange-Id: I318a0496f9a71c80674b114b5c6f898cf080c058\n""}, {'number': 3, 'created': '2018-10-17 19:14:22.000000000', 'files': ['congress/tests/etc/congress.conf.test.ha_pe2', 'congress/tests/etc/congress.conf.test.ha_pe1', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/congress/commit/993f9b301e674e696e3f7c2bbfd54b8faba50881', 'message': ""workaround: add ending '/' to oslo-messaging transport url\n\noslo-messaging 9.0.1 requires the ending '/' to properly\nuse default virtual host '/'. Otherwise, it attempts to connect to\nvirtual host 'None' and gets refused.\n\nRelated-Bug: 1798241\n\nChange-Id: I318a0496f9a71c80674b114b5c6f898cf080c058\n""}]",0,611175,993f9b301e674e696e3f7c2bbfd54b8faba50881,11,3,3,18591,,,0,"workaround: add ending '/' to oslo-messaging transport url

oslo-messaging 9.0.1 requires the ending '/' to properly
use default virtual host '/'. Otherwise, it attempts to connect to
virtual host 'None' and gets refused.

Related-Bug: 1798241

Change-Id: I318a0496f9a71c80674b114b5c6f898cf080c058
",git fetch https://review.opendev.org/openstack/congress refs/changes/75/611175/3 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'devstack/plugin.sh']",2,483ba57adfc332c7e5abecd431e6838b3b64d9b7,, iniset $CONGRESS_CONF DEFAULT transport_url rabbit://$RABBIT_USERID:$RABBIT_PASSWORD@$RABBIT_HOST:5672/, iniset $CONGRESS_CONF DEFAULT transport_url rabbit://$RABBIT_USERID:$RABBIT_PASSWORD@$RABBIT_HOST:5672,16,16
openstack%2Fcinder~master~Ia3f62c93dc2621474907906aeda0ddf1469d5c8f,openstack/cinder,master,Ia3f62c93dc2621474907906aeda0ddf1469d5c8f,Fix for field type error,MERGED,2018-10-15 07:06:57.000000000,2018-10-18 01:38:35.000000000,2018-10-17 18:32:25.000000000,"[{'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20284}, {'_account_id': 20722}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 28948}]","[{'number': 1, 'created': '2018-10-15 07:06:57.000000000', 'files': ['cinder/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e468e97ab9523f90db5a27b3ddf225088d7afb09', 'message': ""Fix for field type error\n\nThe data type of QuotaUsage.deleted is boolean, here assigned an\ninteger to a boolean. Not good to assume 0 is the same as False.\n\nSimilar sentence such as 'VolumeTypeProjects.deleted == 0' is correct\nbecause the type of VolumeTypeProjects.deleted is integer.\n\nChange-Id: Ia3f62c93dc2621474907906aeda0ddf1469d5c8f\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n""}]",3,610440,e468e97ab9523f90db5a27b3ddf225088d7afb09,42,36,1,28948,,,0,"Fix for field type error

The data type of QuotaUsage.deleted is boolean, here assigned an
integer to a boolean. Not good to assume 0 is the same as False.

Similar sentence such as 'VolumeTypeProjects.deleted == 0' is correct
because the type of VolumeTypeProjects.deleted is integer.

Change-Id: Ia3f62c93dc2621474907906aeda0ddf1469d5c8f
Signed-off-by: Liang Fang <liang.a.fang@intel.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/40/610440/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/models.py'],1,e468e97ab9523f90db5a27b3ddf225088d7afb09,, 'QuotaUsage.deleted == False)'), 'QuotaUsage.deleted == 0)'),1,1
openstack%2Fneutron-fwaas~master~If2754040dad0bae6c224ceaec8b7e66436a2195d,openstack/neutron-fwaas,master,If2754040dad0bae6c224ceaec8b7e66436a2195d,Subscribe Neutron port update events for FWG Logging handling,MERGED,2018-09-07 06:29:21.000000000,2018-10-18 01:36:16.000000000,2018-10-14 06:16:07.000000000,"[{'_account_id': 6995}, {'_account_id': 10850}, {'_account_id': 11975}, {'_account_id': 13702}, {'_account_id': 13995}, {'_account_id': 15471}, {'_account_id': 22348}, {'_account_id': 28174}]","[{'number': 1, 'created': '2018-09-07 06:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/2083670158514d1f4b46f437f1a5d5f13d327600', 'message': 'Subscribe port update event for FW Logging handling\n\nCurrently, FWaaS L3 logging only sync with firewall group related\nevents, it does not care about Neutron port status update as report in\n[1]. So this patch aim to subscribe Neutron callback events that will\ntrigger FW Logging driver for further handling.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1788759\n\nChange-Id: If2754040dad0bae6c224ceaec8b7e66436a2195d\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nCloses-Bug: #\n'}, {'number': 2, 'created': '2018-09-07 06:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/c369a8143cf647ccd79ba76afbaa2e5384abc38b', 'message': 'Subscribe port update event for FW Logging handling\n\nCurrently, FWaaS L3 logging only sync with firewall group related\nevents, it does not care about Neutron port status update as report in\n[1]. So this patch aim to subscribe Neutron callback events that will\ntrigger FW Logging driver for further handling.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1788759\n\nChange-Id: If2754040dad0bae6c224ceaec8b7e66436a2195d\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nCloses-Bug: #1788759\n'}, {'number': 3, 'created': '2018-09-07 09:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/9e725c8c08468031275f73bd4d5cba82cd3ab417', 'message': 'Subscribe Neutron port update events for FW Logging handling\n\nCurrently, FWaaS L3 logging only sync with firewall group related\nevents, it does not care about Neutron port status update as report in\n[1]. So this patch aim to subscribe Neutron callback events that will\ntrigger FW Logging driver for further handling.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1788759\n\nChange-Id: If2754040dad0bae6c224ceaec8b7e66436a2195d\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nCloses-Bug: #1788759\n'}, {'number': 4, 'created': '2018-09-25 06:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/0abcd97eeb03bcf5452722133dca50238bac1575', 'message': 'Subscribe Neutron port update events for FWG Logging handling\n\nCurrently, FWaaS L3 logging only sync with firewall group related\nevents, it does not care about Neutron port status update as reported\nin [1]. This patch aims to subscribe Neutron callback events that will\ntrigger FWG Logging driver for further handling.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1788759\n\nChange-Id: If2754040dad0bae6c224ceaec8b7e66436a2195d\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nCloses-Bug: #1788759\n'}, {'number': 5, 'created': '2018-10-11 15:12:28.000000000', 'files': ['neutron_fwaas/tests/unit/services/logapi/common/test_log_db_api.py', 'neutron_fwaas/services/logapi/common/log_db_api.py', 'neutron_fwaas/services/logapi/common/port_callback.py', 'neutron_fwaas/services/logapi/agents/drivers/iptables/driver.py', 'neutron_fwaas/tests/unit/services/logapi/common/test_port_callback.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/48b82f7c925d1fdbe0a5b69f99999ecd6ca731c5', 'message': 'Subscribe Neutron port update events for FWG Logging handling\n\nCurrently, FWaaS L3 logging only sync with firewall group related\nevents, it does not care about Neutron port status update as reported\nin [1]. This patch aims to subscribe Neutron callback events that will\ntrigger FWG Logging driver for further handling.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1788759\n\nChange-Id: If2754040dad0bae6c224ceaec8b7e66436a2195d\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nCloses-Bug: #1788759\n'}]",6,600660,48b82f7c925d1fdbe0a5b69f99999ecd6ca731c5,20,8,5,28174,,,0,"Subscribe Neutron port update events for FWG Logging handling

Currently, FWaaS L3 logging only sync with firewall group related
events, it does not care about Neutron port status update as reported
in [1]. This patch aims to subscribe Neutron callback events that will
trigger FWG Logging driver for further handling.

[1] https://bugs.launchpad.net/neutron/+bug/1788759

Change-Id: If2754040dad0bae6c224ceaec8b7e66436a2195d
Co-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>
Closes-Bug: #1788759
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/60/600660/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/services/logapi/common/log_db_api.py', 'neutron_fwaas/services/logapi/common/port_callback.py', 'neutron_fwaas/services/logapi/agents/drivers/iptables/driver.py', 'neutron_fwaas/tests/unit/services/logapi/common/test_port_callback.py']",4,2083670158514d1f4b46f437f1a5d5f13d327600,bug/1788759,"# Copyright (c) 2018 Fujitsu Limited # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from neutron.objects import ports as port_objects from neutron.services.logapi.drivers import base as log_driver_base from neutron.services.logapi.drivers import manager as driver_mgr from neutron.tests import base from neutron_lib.callbacks import events from neutron_lib.callbacks import registry from neutron_lib.callbacks import resources from neutron_lib import constants as nl_const from oslo_utils import uuidutils from neutron_fwaas.services.logapi.common import log_db_api from neutron_fwaas.services.logapi.common import port_callback FAKE_DRIVER = None class FakeDriver(log_driver_base.DriverBase): @staticmethod def create(): return FakeDriver( name='fake_driver', vif_types=[], vnic_types=[], supported_logging_types=['firewall_group'], requires_rpc=True ) def fake_register(): global FAKE_DRIVER if not FAKE_DRIVER: FAKE_DRIVER = FakeDriver.create() driver_mgr.register(resources.PORT, port_callback.NeutronPortCallBack) class TestFirewallGroupRuleCallback(base.BaseTestCase): def setUp(self): super(TestFirewallGroupRuleCallback, self).setUp() self.driver_manager = driver_mgr.LoggingServiceDriverManager() self.port_callback = port_callback.NeutronPortCallBack(mock.Mock(), mock.Mock()) self.m_context = mock.Mock() def _create_port_object(self, name=None, device_owner=None, status=nl_const.PORT_STATUS_ACTIVE): port_data = { 'id': uuidutils.generate_uuid(), 'project_id': 'fake_tenant_id', 'status': status } if name: port_data['name'] = name if device_owner: port_data['device_owner'] = device_owner return port_objects.Port(**port_data) @mock.patch.object(port_callback.NeutronPortCallBack, 'handle_event') def test_handle_event(self, m_port_cb_handler): fake_register() self.driver_manager.register_driver(FAKE_DRIVER) registry.notify(resources.PORT, events.AFTER_CREATE, mock.ANY) m_port_cb_handler.assert_called_once_with( resources.PORT, events.AFTER_CREATE, mock.ANY) m_port_cb_handler.reset_mock() registry.notify( resources.PORT, events.AFTER_UPDATE, mock.ANY) m_port_cb_handler.assert_called_once_with( resources.PORT, events.AFTER_UPDATE, mock.ANY) m_port_cb_handler.reset_mock() registry.notify( 'non_registered_resource', events.AFTER_CREATE, mock.ANY) m_port_cb_handler.assert_not_called() m_port_cb_handler.reset_mock() registry.notify( 'non_registered_resource', events.AFTER_UPDATE, mock.ANY) m_port_cb_handler.assert_not_called() def test_trigger_logging(self): fake_log_obj = mock.Mock() self.port_callback.resource_push_api = mock.Mock() port = self._create_port_object(device_owner='fake_device_owner') # Test with log resource could be found from DB with mock.patch.object(log_db_api, 'get_logs_for_port', return_value=[fake_log_obj]): self.port_callback.trigger_logging(self.m_context, port) self.port_callback.resource_push_api.assert_called() # Test with log resource could not be found from DB self.port_callback.resource_push_api.reset_mock() with mock.patch.object(log_db_api, 'get_logs_for_port', return_value=[]): self.port_callback.trigger_logging(self.m_context, port) self.port_callback.resource_push_api.assert_not_called() def test_handle_event_with_router_port(self): with mock.patch.object(self.port_callback, 'trigger_logging'): # Test for router port enabling f_port_config = self._fake_port_config( nl_const.DEVICE_OWNER_ROUTER_INTF, action='enable') self.port_callback.handle_event(mock.ANY, events.AFTER_UPDATE, mock.ANY, **f_port_config) self.port_callback.trigger_logging.assert_called() # Test for router port disabling self.port_callback.trigger_logging.reset_mock() f_port_config = self._fake_port_config( nl_const.DEVICE_OWNER_ROUTER_INTF, action='disable') self.port_callback.handle_event(mock.ANY, events.AFTER_UPDATE, mock.ANY, **f_port_config) self.port_callback.trigger_logging.assert_called() # Test for router port status does not change self.port_callback.trigger_logging.reset_mock() f_port_config = \ self._fake_port_config(nl_const.DEVICE_OWNER_ROUTER_INTF) self.port_callback.handle_event(mock.ANY, events.AFTER_UPDATE, mock.ANY, **f_port_config) self.port_callback.trigger_logging.assert_not_called() def test_handle_event_with_non_router_port(self): with mock.patch.object(self.port_callback, 'trigger_logging'): # Test for port enabling f_port_config = self._fake_port_config('fake_port_type', action='enable') self.port_callback.handle_event(mock.ANY, events.AFTER_UPDATE, mock.ANY, **f_port_config) self.port_callback.trigger_logging.assert_not_called() # Test for port disabling self.port_callback.trigger_logging.reset_mock() f_port_config = self._fake_port_config('fake_port_type', action='disable') self.port_callback.handle_event(mock.ANY, events.AFTER_UPDATE, mock.ANY, **f_port_config) self.port_callback.trigger_logging.assert_not_called() def _fake_port_config(self, device_owner, action=None): f_kwargs = {} f_kwargs['context'] = self.m_context if action == 'enable': # Create original port with DOWN status original_port = self._create_port_object( device_owner=device_owner, status=nl_const.PORT_STATUS_DOWN) # Create port with ACTIVE status port = self._create_port_object( device_owner=device_owner, status=nl_const.PORT_STATUS_ACTIVE) f_kwargs['original_port'] = original_port f_kwargs['port'] = port elif action == 'disable': # Create original port with ACTIVE status original_port = self._create_port_object( device_owner=device_owner, status=nl_const.PORT_STATUS_ACTIVE) # Create port with DOWN status port = self._create_port_object( device_owner=device_owner, status=nl_const.PORT_STATUS_DOWN) f_kwargs['original_port'] = original_port f_kwargs['port'] = port else: # Create original port with ACTIVE status original_port = self._create_port_object( device_owner=device_owner, status=nl_const.PORT_STATUS_ACTIVE) # Create port with ACTIVE status port = self._create_port_object( device_owner=device_owner, status=nl_const.PORT_STATUS_ACTIVE) f_kwargs['original_port'] = original_port f_kwargs['port'] = port return f_kwargs ",,262,4
openstack%2Fopenstack-ansible-ops~master~Ia8249da40bf5eb0e09b5d7811eb126b60dc5dc73,openstack/openstack-ansible-ops,master,Ia8249da40bf5eb0e09b5d7811eb126b60dc5dc73,Add osquery testing,MERGED,2018-10-17 03:40:44.000000000,2018-10-18 01:32:54.000000000,2018-10-18 01:32:54.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 03:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/1a6555f6618af8c746b8d686852d31a1361ce880', 'message': 'Add osquery testing\n\nChange-Id: Ia8249da40bf5eb0e09b5d7811eb126b60dc5dc73\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-10-17 03:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/9a3424b8c7622b59660e6f9729fceec759cc4efe', 'message': 'Add osquery testing\n\nChange-Id: Ia8249da40bf5eb0e09b5d7811eb126b60dc5dc73\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-10-17 04:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/03cdb7e45c7a80b9f00e269b5b8db0d8929d73c1', 'message': 'Add osquery testing\n\nChange-Id: Ia8249da40bf5eb0e09b5d7811eb126b60dc5dc73\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-10-17 04:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/e2acb31cd76fb7bcfff09573d8125f8d5d95bb92', 'message': 'Add osquery testing\n\nChange-Id: Ia8249da40bf5eb0e09b5d7811eb126b60dc5dc73\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 5, 'created': '2018-10-17 04:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/ae1b6d8357622b049378181e3e76131f7e6d105c', 'message': 'Add osquery testing\n\nChange-Id: Ia8249da40bf5eb0e09b5d7811eb126b60dc5dc73\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 6, 'created': '2018-10-17 05:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/ae4b98f68aeb3a3c7f7f41a6f106f08bc870649b', 'message': 'Add osquery testing\n\nChange-Id: Ia8249da40bf5eb0e09b5d7811eb126b60dc5dc73\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 7, 'created': '2018-10-17 05:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/4e6fc02572a3c06a5e0a8d2edee5794c1d657c98', 'message': 'Add osquery testing\n\nChange-Id: Ia8249da40bf5eb0e09b5d7811eb126b60dc5dc73\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 8, 'created': '2018-10-17 15:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/880c87f7862953a847669568ed34154fdd7a678e', 'message': 'Add osquery testing\n\nChange-Id: Ia8249da40bf5eb0e09b5d7811eb126b60dc5dc73\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 9, 'created': '2018-10-17 18:58:10.000000000', 'files': ['osquery/roles/osquery/vars/RedHat.yml', 'osquery/tests/functional.yml', 'osquery/README.rst', 'osquery/tests/test-vars.yml', 'osquery/roles/osquery/vars/CentOS.yml', 'osquery/roles/fleet/tasks/fleetRegisterAdmin.yml', 'bootstrap-embedded-ansible/bootstrap-embedded-ansible.sh', 'osquery/setupOSqueryPacks.yml', 'osquery/installOSquery.yml', 'osquery/tests/ansible-role-requirements.yml', 'elk_metrics_6x/README.rst', 'osquery/tests/_key-setup.yml', 'osquery/tests/run-cleanup.sh', 'osquery/roles/osquery/tasks/selinux-end.yml', 'elk_metrics_6x/tests/functional.yml', 'osquery/tests/test.yml', 'osquery/tests/_container-setup.yml', 'osquery/roles/osquery/tasks/apparmor.yml', 'osquery/tests/inventory/test-container-inventory.yml', 'osquery/roles/osquery/templates/osquery.sh.j2', 'osquery/tests/inventory/test-metal-inventory.yml', 'osquery/tests/run-setup.yml', 'osquery/roles/osquery/handlers/main.yml', 'osquery/tests/run-tests.sh', 'osquery/tests/manual-test.rc', 'osquery/roles/osquery/defaults/main.yml', 'osquery/roles/osquery/tasks/CentOS.yml', 'osquery/inventory.example.yml', 'osquery/roles/osquery/tasks/configure.yml', 'elk_metrics_6x/tests/run-tests.sh', 'osquery/roles/osquery/tasks/Debian.yml', 'osquery/roles/osquery/tasks/selinux.yml', 'osquery/roles/osquery/templates/osquery.te.j2', 'osquery/tests/post-run.yml', 'elk_metrics_6x/tests/_container-setup.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/88bf46c65cafe870f8b8918274efa421d025be86', 'message': 'Add osquery testing\n\nChange-Id: Ia8249da40bf5eb0e09b5d7811eb126b60dc5dc73\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,611226,88bf46c65cafe870f8b8918274efa421d025be86,17,2,9,7353,,,0,"Add osquery testing

Change-Id: Ia8249da40bf5eb0e09b5d7811eb126b60dc5dc73
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/26/611226/8 && git format-patch -1 --stdout FETCH_HEAD,"['osquery/tests/_container-setup.yml', 'osquery/tests/functional.yml', 'osquery/tests/inventory/test-container-inventory.yml', 'osquery/tests/inventory/test-metal-inventory.yml', 'osquery/tests/run-setup.yml', 'osquery/tests/test-vars.yml', 'osquery/tests/run-tests.sh', 'osquery/tests/manual-test.rc', 'osquery/tests/ansible-role-requirements.yml', 'osquery/inventory.example.yml', 'osquery/tests/_key-setup.yml', 'osquery/tests/run-cleanup.sh', 'osquery/tests/post-run.yml', 'osquery/tests/test.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",16,1a6555f6618af8c746b8d686852d31a1361ce880,," - job: name: ""openstack-ansible-ops:osquery-ubuntu-xenial"" parent: base description: ""Runs a gate test on the osquery project."" run: ""osquery/tests/test.yml"" post-run: ""osquery/tests/post-run.yml"" voting: false files: - ^osquery/.* - job: name: ""openstack-ansible-ops:osquery-ubuntu-bionic"" parent: ""openstack-ansible-ops:osquery-ubuntu-xenial"" nodeset: ubuntu-bionic",,631,1
openstack%2Fdiskimage-builder~master~I64d454d251712281911a1aa6e4ecd6139ad1bd8b,openstack/diskimage-builder,master,I64d454d251712281911a1aa6e4ecd6139ad1bd8b,fix tox python3 overrides,MERGED,2018-07-03 03:13:04.000000000,2018-10-18 01:14:30.000000000,2018-10-18 01:14:30.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 27153}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-07-03 03:13:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7834e2ea6b946ae5a0655d61507342ff920b9bd6', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I64d454d251712281911a1aa6e4ecd6139ad1bd8b\n'}]",0,579748,7834e2ea6b946ae5a0655d61507342ff920b9bd6,9,5,1,19853,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I64d454d251712281911a1aa6e4ecd6139ad1bd8b
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/48/579748/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7834e2ea6b946ae5a0655d61507342ff920b9bd6,python3-first,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,,6,0
openstack%2Fzun-ui~master~I1c51961ba33ed4117774df83cad7d5bc6f076f69,openstack/zun-ui,master,I1c51961ba33ed4117774df83cad7d5bc6f076f69,Add hosts panel,MERGED,2018-10-16 08:15:15.000000000,2018-10-18 01:00:10.000000000,2018-10-18 01:00:10.000000000,"[{'_account_id': 11536}, {'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 08:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/afb601d919b0775c7aa6861445119583fa4d4063', 'message': 'Add hosts panel\n\nThis patch adds hosts panel that includes index view.\n\nChange-Id: I1c51961ba33ed4117774df83cad7d5bc6f076f69\nPartial-Implements: blueprint add-host-panel\n'}, {'number': 2, 'created': '2018-10-16 08:17:10.000000000', 'files': ['zun_ui/static/dashboard/container/container.module.js', 'zun_ui/static/dashboard/container/hosts/drawer.html', 'zun_ui/enabled/_2332_admin_container_hosts_panel.py', 'zun_ui/content/container/hosts/urls.py', 'zun_ui/static/dashboard/container/hosts/panel.html', 'zun_ui/static/dashboard/container/hosts/hosts.service.js', 'zun_ui/content/container/hosts/panel.py', 'zun_ui/content/container/hosts/__init__.py', 'zun_ui/static/dashboard/container/hosts/hosts.module.js'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/7ebff515a77be484bbdd6d66624f9e98e97be858', 'message': 'Add hosts panel\n\nThis patch adds hosts panel that includes index view.\n\nChange-Id: I1c51961ba33ed4117774df83cad7d5bc6f076f69\nPartial-Implements: blueprint add-host-panel\n'}]",2,610897,7ebff515a77be484bbdd6d66624f9e98e97be858,8,3,2,16352,,,0,"Add hosts panel

This patch adds hosts panel that includes index view.

Change-Id: I1c51961ba33ed4117774df83cad7d5bc6f076f69
Partial-Implements: blueprint add-host-panel
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/97/610897/2 && git format-patch -1 --stdout FETCH_HEAD,"['zun_ui/static/dashboard/container/container.module.js', 'zun_ui/static/dashboard/container/hosts/drawer.html', 'zun_ui/enabled/_2332_admin_container_hosts_panel.py', 'zun_ui/content/container/hosts/urls.py', 'zun_ui/static/dashboard/container/hosts/panel.html', 'zun_ui/static/dashboard/container/hosts/hosts.service.js', 'zun_ui/content/container/hosts/panel.py', 'zun_ui/content/container/hosts/__init__.py', 'zun_ui/static/dashboard/container/hosts/hosts.module.js']",9,afb601d919b0775c7aa6861445119583fa4d4063,bp/add-host-panel,"/** * Licensed under the Apache License, Version 2.0 (the ""License""); you may * not use this file except in compliance with the License. You may obtain * a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * License for the specific language governing permissions and limitations * under the License. */ (function() { 'use strict'; /** * @ngdoc overview * @name horizon.dashboard.container.hosts * @ngModule * @description * Provides all the services and widgets require to display the hosts * panel */ angular .module('horizon.dashboard.container.hosts', [ 'ngRoute' ]) .constant('horizon.dashboard.container.hosts.resourceType', 'OS::Zun::Host') .run(run) .config(config); run.$inject = [ 'horizon.framework.conf.resource-type-registry.service', 'horizon.app.core.openstack-service-api.zun', 'horizon.dashboard.container.hosts.basePath', 'horizon.dashboard.container.hosts.resourceType', 'horizon.dashboard.container.hosts.service' ]; function run(registry, zun, basePath, resourceType, hostService) { registry.getResourceType(resourceType) .setNames(gettext('Host'), gettext('Hosts')) // for detail summary view on table row. .setSummaryTemplateUrl(basePath + 'drawer.html') // for table row items and detail summary view. .setProperties(hostProperties()) .setListFunction(hostService.getHostsPromise) .tableColumns .append({ id: 'id', priority: 3 }) .append({ id: 'hostname', priority: 1, sortDefault: true }) .append({ id: 'mem_total', priority: 2 }) .append({ id: 'cpus', priority: 2 }) .append({ id: 'disk_total', priority: 2 }); // for magic-search registry.getResourceType(resourceType).filterFacets .append({ 'label': gettext('Hostname'), 'name': 'repo', 'singleton': true }) .append({ 'label': gettext('ID'), 'name': 'id', 'singleton': true }); } function hostProperties() { return { 'id': {label: gettext('ID'), filters: ['noValue'] }, 'hostname': { label: gettext('Hostname'), filters: ['noValue'] }, 'mem_total': { label: gettext('Memory Total'), filters: ['noValue', 'mb'] }, 'mem_used': { label: gettext('Memory Used'), filters: ['noValue', 'mb'] }, 'cpus': { label: gettext('CPU Total'), filters: ['noValue'] }, 'cpu_used': { label: gettext('CPU Used'), filters: ['noValue'] }, 'disk_total': { label: gettext('Disk Total'), filters: ['noValue', 'gb'] }, 'disk_used': { label: gettext('Disk Used'), filters: ['noValue', 'gb'] }, 'disk_quota_supported': { label: gettext('Disk Quota Supported'), filters: ['noValue', 'yesno'] }, 'total_containers': { label: gettext('Disk Used'), filters: ['noValue'] }, 'os': { label: gettext('OS'), filters: ['noValue'] }, 'os_type': { label: gettext('OS Type'), filters: ['noValue'] }, 'architecture': { label: gettext('Architecture'), filters: ['noValue'] }, 'kernel_version': { label: gettext('Kernel Version'), filters: ['noValue'] }, 'runtimes': { label: gettext('Runtimes'), filters: ['noValue'] }, 'labels': { label: gettext('Labels'), filters: ['noValue'] } }; } config.$inject = [ '$provide', '$windowProvider', '$routeProvider' ]; /** * @name config * @param {Object} $provide * @param {Object} $windowProvider * @param {Object} $routeProvider * @description Routes used by this module. * @returns {undefined} Returns nothing */ function config($provide, $windowProvider, $routeProvider) { var path = $windowProvider.$get().STATIC_URL + 'dashboard/container/hosts/'; $provide.constant('horizon.dashboard.container.hosts.basePath', path); $routeProvider.when('/admin/container/hosts', { templateUrl: path + 'panel.html' }); } })(); ",,259,0
openstack%2Fzun-ui~master~I4d74d014e1c8185a167343e568a941bb0e29716a,openstack/zun-ui,master,I4d74d014e1c8185a167343e568a941bb0e29716a,Add REST API and Angular service for hosts panel,MERGED,2018-10-16 07:18:03.000000000,2018-10-18 00:58:33.000000000,2018-10-18 00:58:33.000000000,"[{'_account_id': 11536}, {'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 07:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/4d96e3db1815bf1b2bbf3e5e0f4d781562f8961f', 'message': 'Add REST API and Angular service for hosts panel\n\nBefore implementing hosts panel for admin, this patch adds REST API\nand Angular service for hosts-show.\n\nChange-Id: I4d74d014e1c8185a167343e568a941bb0e29716a\nPartial-Implements: blueprint add-hosts-panel\n'}, {'number': 2, 'created': '2018-10-16 08:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/341f9e44c227a43b1f0d24cba9de517de2a79e4f', 'message': 'Add REST API and Angular service for hosts panel\n\nBefore implementing hosts panel for admin, this patch adds REST API\nand Angular service for hosts-show.\n\nChange-Id: I4d74d014e1c8185a167343e568a941bb0e29716a\nPartial-Implements: blueprint add-hosts-panel\n'}, {'number': 3, 'created': '2018-10-16 08:16:46.000000000', 'files': ['zun_ui/api/rest_api.py', 'zun_ui/api/client.py', 'zun_ui/static/dashboard/container/zun.service.js'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/f571466deacbf12a2d02b04d22322a74b95480f4', 'message': 'Add REST API and Angular service for hosts panel\n\nBefore implementing hosts panel for admin, this patch adds REST API\nand Angular service for hosts-show.\n\nChange-Id: I4d74d014e1c8185a167343e568a941bb0e29716a\nPartial-Implements: blueprint add-host-panel\n'}]",0,610893,f571466deacbf12a2d02b04d22322a74b95480f4,10,3,3,16352,,,0,"Add REST API and Angular service for hosts panel

Before implementing hosts panel for admin, this patch adds REST API
and Angular service for hosts-show.

Change-Id: I4d74d014e1c8185a167343e568a941bb0e29716a
Partial-Implements: blueprint add-host-panel
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/93/610893/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun_ui/api/rest_api.py', 'zun_ui/api/client.py', 'zun_ui/static/dashboard/container/zun.service.js']",3,4d96e3db1815bf1b2bbf3e5e0f4d781562f8961f,bp/add-host-panel," getHosts: getHosts, getHost: getHost function getHost(id) { var msg = gettext('Unable to retrieve the Host.'); return apiService.get(hostsPath + id).error(error(msg)); } ", getHosts: getHosts,21,2
openstack%2Fnova~stable%2Frocky~Iba56aa6b227b6455d2437e4fabcd296b1b0f06ee,openstack/nova,stable/rocky,Iba56aa6b227b6455d2437e4fabcd296b1b0f06ee,Add recreate test for bug 1798163,MERGED,2018-10-17 13:25:03.000000000,2018-10-18 00:42:35.000000000,2018-10-18 00:42:35.000000000,"[{'_account_id': 1004}, {'_account_id': 4393}, {'_account_id': 7166}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 13:25:03.000000000', 'files': ['nova/tests/functional/api/openstack/placement/db/test_consumer.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/83396b325428332bd51c57f89599cf4cc074c7fb', 'message': ""Add recreate test for bug 1798163\n\nChange Icae5038190ab8c7bbdb38d54ae909fcbf9048912 in Rocky\nattempts to online migrate missing consumers table records\nwhen listing allocations for a given resource provider. The\nproblem is when it's doing an insert-from-select, it's not\nhandling multiple allocations on the same provider for the\nsame consumer, like you'd have with a compute instance that\nhas VCPU, MEMORY_MB and DISK_GB allocations against a single\ncompute node resource provider. As a result, the insert\nstatement has duplicate consumer IDs in it which results in\na unique constraint violation.\n\nThe existing tests never caught this because they tested with\n3 unique consumers with a single allocation each.\n\nThe functional test added here hits both online data migration\nroutines: via the API when listing allocations for a resource\nprovider and the direct online data migration CLI.\n\nConflicts:\n      nova/tests/functional/api/openstack/placement/db/test_consumer.py\n\nNOTE(mriedem): The conflict was due to not having change\nI7f5f08691ca3f73073c66c29dddb996fb2c2b266 in Rocky.\n\nChange-Id: Iba56aa6b227b6455d2437e4fabcd296b1b0f06ee\nRelated-Bug: #1798163\n(cherry picked from commit 618b47627d8dc4f071032e3e63c530d3fe199b39)\n""}]",0,611314,83396b325428332bd51c57f89599cf4cc074c7fb,11,5,1,6873,,,0,"Add recreate test for bug 1798163

Change Icae5038190ab8c7bbdb38d54ae909fcbf9048912 in Rocky
attempts to online migrate missing consumers table records
when listing allocations for a given resource provider. The
problem is when it's doing an insert-from-select, it's not
handling multiple allocations on the same provider for the
same consumer, like you'd have with a compute instance that
has VCPU, MEMORY_MB and DISK_GB allocations against a single
compute node resource provider. As a result, the insert
statement has duplicate consumer IDs in it which results in
a unique constraint violation.

The existing tests never caught this because they tested with
3 unique consumers with a single allocation each.

The functional test added here hits both online data migration
routines: via the API when listing allocations for a resource
provider and the direct online data migration CLI.

Conflicts:
      nova/tests/functional/api/openstack/placement/db/test_consumer.py

NOTE(mriedem): The conflict was due to not having change
I7f5f08691ca3f73073c66c29dddb996fb2c2b266 in Rocky.

Change-Id: Iba56aa6b227b6455d2437e4fabcd296b1b0f06ee
Related-Bug: #1798163
(cherry picked from commit 618b47627d8dc4f071032e3e63c530d3fe199b39)
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/611314/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/api/openstack/placement/db/test_consumer.py'],1,83396b325428332bd51c57f89599cf4cc074c7fb,bug/1798163,"from oslo_db import exception as db_exc def _create_incomplete_allocations(self, ctx, num_of_consumer_allocs=1): # Create $num_of_consumer_allocs allocations per consumer with # different resource classes. for resource_class_id in range(num_of_consumer_allocs): ins_stmt = ALLOC_TBL.insert().values( resource_provider_id=1, resource_class_id=resource_class_id, consumer_id=c_uuid, used=1) ctx.session.execute(ins_stmt) def test_create_incomplete_consumers_multiple_allocs_per_consumer(self): """"""Tests that missing consumer records are created when listing allocations against a resource provider or running the online data migration routine when the consumers have multiple allocations on the same provider. """""" self._create_incomplete_allocations(self.ctx, num_of_consumer_allocs=2) # Run the online data migration to migrate one consumer. The batch size # needs to be large enough to hit more than one consumer for this test # where each consumer has two allocations. # FIXME(mriedem): This should not raise a UniqueConstraint error once # bug 1798163 is fixed. # res = consumer_obj.create_incomplete_consumers(self.ctx, 2) # self.assertEqual((2, 2), res) self.assertRaises(db_exc.DBDuplicateEntry, consumer_obj.create_incomplete_consumers, self.ctx, 2) # Migrate the rest by listing allocations on the resource provider. rp1 = rp_obj.ResourceProvider(self.ctx, id=1) # FIXME(mriedem): This should not raise a UniqueConstraint error once # bug 1798163 is fixed. self.assertRaises(db_exc.DBDuplicateEntry, rp_obj.AllocationList.get_all_by_resource_provider, self.ctx, rp1) "," def _create_incomplete_allocations(self, ctx): ins_stmt = ALLOC_TBL.insert().values( resource_provider_id=1, resource_class_id=0, consumer_id=c_uuid, used=1) ctx.session.execute(ins_stmt)",35,5
openstack%2Fneutron~stable%2Focata~I4c0207f79cd6df2594f976b9509697209011edf2,openstack/neutron,stable/ocata,I4c0207f79cd6df2594f976b9509697209011edf2,Fix bash cmd used in scenario trunk tests,MERGED,2018-10-17 06:45:50.000000000,2018-10-18 00:42:31.000000000,2018-10-18 00:42:31.000000000,"[{'_account_id': 1131}, {'_account_id': 16376}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 06:45:50.000000000', 'files': ['neutron/tests/tempest/scenario/test_trunk.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f9cf83474971dfc0f47c1ee9b6d5d17583e1bf51', 'message': ""Fix bash cmd used in scenario trunk tests\n\nIn scenario trunk test test_subport_connectivity there\nis bash command used to check name of base interface on\nspawned vm (e.g. ens3 or eth0), configure vlan interface\nwith vlan_id used on trunk port (e.g. ens3.10),\nmake this vlan device up and run dhclient on this interface\nif it's not running yet.\n\nThis command was broken and that cause failure of this test.\n\nChange-Id: I4c0207f79cd6df2594f976b9509697209011edf2\nCloses-Bug: #1766701\n(cherry picked from commit 6bf840f0a73579804375dddd92b3a20acc57b877)\n(cherry picked from commit c78b80becfd6ad5865fb1681a05395940591f431)\n""}]",0,611247,f9cf83474971dfc0f47c1ee9b6d5d17583e1bf51,8,4,1,11975,,,0,"Fix bash cmd used in scenario trunk tests

In scenario trunk test test_subport_connectivity there
is bash command used to check name of base interface on
spawned vm (e.g. ens3 or eth0), configure vlan interface
with vlan_id used on trunk port (e.g. ens3.10),
make this vlan device up and run dhclient on this interface
if it's not running yet.

This command was broken and that cause failure of this test.

Change-Id: I4c0207f79cd6df2594f976b9509697209011edf2
Closes-Bug: #1766701
(cherry picked from commit 6bf840f0a73579804375dddd92b3a20acc57b877)
(cherry picked from commit c78b80becfd6ad5865fb1681a05395940591f431)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/611247/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/tempest/scenario/test_trunk.py'],1,f9cf83474971dfc0f47c1ee9b6d5d17583e1bf51,bug/1766701," 'IFACE=$(PATH=$PATH:/usr/sbin ip l | grep ""^[0-9]*: e""|cut -d \: -f 2) &&' 'sudo ip l a link $IFACE name $IFACE.%(tag)d type vlan id %(tag)d &&' 'sudo ip l s up dev $IFACE.%(tag)d && ' 'ps -ef | grep -q ""[d]hclient .*$IFACE.%(tag)d"" || ' 'sudo dhclient $IFACE.%(tag)d;')"," 'IFACE=$(ip l | grep ""^[0-9]*: e"" | cut -d \: -f 2) && ' 'sudo su -c ' '""ip l a link $IFACE name $IFACE.%(tag)d type vlan id %(tag)d && ' 'ip l s up dev $IFACE.%(tag)d && ' 'dhclient $IFACE.%(tag)d""')",5,5
openstack%2Fdiskimage-builder~master~I29076b228637876c84f3ca3bdb3d18edb108b96a,openstack/diskimage-builder,master,I29076b228637876c84f3ca3bdb3d18edb108b96a,fix tox python3 overrides,ABANDONED,2018-06-08 15:48:48.000000000,2018-10-18 00:15:31.000000000,,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 21741}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-06-08 15:48:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/97d4d13437741d52353a847946bb31b21f08708d', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I29076b228637876c84f3ca3bdb3d18edb108b96a\n'}]",0,573759,97d4d13437741d52353a847946bb31b21f08708d,11,6,1,26297,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I29076b228637876c84f3ca3bdb3d18edb108b96a
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/59/573759/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,97d4d13437741d52353a847946bb31b21f08708d,,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,,7,0
openstack%2Fsahara~master~I2412a02dcba40a3128f9af766e27c046ce3d3f25,openstack/sahara,master,I2412a02dcba40a3128f9af766e27c046ce3d3f25,Cleanup tox.ini constraint handling,MERGED,2018-10-17 10:36:43.000000000,2018-10-18 00:07:21.000000000,2018-10-18 00:07:21.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 10:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/3addfd271400f49db9fd9b4a1dd416b0c2b7e539', 'message': 'Cleanup tox.ini constraint handling\n\nUse the ""modern"" way of contraints setup and remove double setting of\nconstraints (in install_command and deps) for some environments.\n\nThe extra deps for pep8 are not needed, remove them - the default works\nfine.\n\nRemove also -U from pip install command, it can break with constraints\nand update required packages.\n\nChange-Id: I2412a02dcba40a3128f9af766e27c046ce3d3f25\n'}, {'number': 2, 'created': '2018-10-17 10:50:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara/commit/3f22c4a978469b35bec6f41d1f9f7269f652faaf', 'message': 'Cleanup tox.ini constraint handling\n\nUse the ""modern"" way of contraints setup and remove double setting of\nconstraints (in install_command and deps) for some environments.\n\nRemove also -U from pip install command, it can break with constraints\nand update required packages.\n\nChange-Id: I2412a02dcba40a3128f9af766e27c046ce3d3f25\n'}]",0,611290,3f22c4a978469b35bec6f41d1f9f7269f652faaf,10,2,2,6547,,,0,"Cleanup tox.ini constraint handling

Use the ""modern"" way of contraints setup and remove double setting of
constraints (in install_command and deps) for some environments.

Remove also -U from pip install command, it can break with constraints
and update required packages.

Change-Id: I2412a02dcba40a3128f9af766e27c046ce3d3f25
",git fetch https://review.opendev.org/openstack/sahara refs/changes/90/611290/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3addfd271400f49db9fd9b4a1dd416b0c2b7e539,constraints,install_command = pip install {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/doc/requirements.txt,2,6
openstack%2Fnova~master~Id02f501feefca358d36f39b24d426537685e425c,openstack/nova,master,Id02f501feefca358d36f39b24d426537685e425c,Ignore uuid if already set in ComputeNode.update_from_virt_driver,MERGED,2018-10-16 20:27:14.000000000,2018-10-17 23:19:49.000000000,2018-10-17 23:19:49.000000000,"[{'_account_id': 2033}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10343}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-10-16 20:27:14.000000000', 'files': ['nova/tests/unit/objects/test_compute_node.py', 'nova/objects/compute_node.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/498413074d1f11688123b6b592d5c204dc7b5ef2', 'message': ""Ignore uuid if already set in ComputeNode.update_from_virt_driver\n\nChange Ia69fabce8e7fd7de101e291fe133c6f5f5f7056a sets the\nComputeNode.uuid to whatever the virt driver reports if the\nvirt driver reports a uuid, like in the case of ironic.\n\nHowever, that breaks upgrades for any pre-existing compute\nnode records which have a random uuid since ComputeNode.uuid\nis a read-only field once set.\n\nThis change simply ignores the uuid from the virt driver\nresources dict if the ComputeNode.uuid is already set.\n\nThe bug actually shows up in the ironic grenade CI job\nlogs in stable/rocky but didn't fail the nova-compute startup\nbecause ComputeManager._update_available_resource_for_node()\ncatches and just logs the error, but it doesn't kill the service.\n\nChange-Id: Id02f501feefca358d36f39b24d426537685e425c\nCloses-Bug: #1798172\n""}]",0,611162,498413074d1f11688123b6b592d5c204dc7b5ef2,26,20,1,6873,,,0,"Ignore uuid if already set in ComputeNode.update_from_virt_driver

Change Ia69fabce8e7fd7de101e291fe133c6f5f5f7056a sets the
ComputeNode.uuid to whatever the virt driver reports if the
virt driver reports a uuid, like in the case of ironic.

However, that breaks upgrades for any pre-existing compute
node records which have a random uuid since ComputeNode.uuid
is a read-only field once set.

This change simply ignores the uuid from the virt driver
resources dict if the ComputeNode.uuid is already set.

The bug actually shows up in the ironic grenade CI job
logs in stable/rocky but didn't fail the nova-compute startup
because ComputeManager._update_available_resource_for_node()
catches and just logs the error, but it doesn't kill the service.

Change-Id: Id02f501feefca358d36f39b24d426537685e425c
Closes-Bug: #1798172
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/611162/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/compute_node.py', 'nova/tests/unit/objects/test_compute_node.py']",2,498413074d1f11688123b6b592d5c204dc7b5ef2,bug/1798172," def test_update_from_virt_driver_uuid_already_set(self): """"""Tests update_from_virt_driver where the compute node object already has a uuid value so the uuid from the virt driver is ignored. """""" # copy in case the update has a side effect resources = copy.deepcopy(fake_resources) # Emulate the ironic driver which adds a uuid field. resources['uuid'] = uuidsentinel.node_uuid compute = compute_node.ComputeNode(uuid=uuidsentinel.something_else) compute.update_from_virt_driver(resources) expected = fake_compute_with_resources.obj_clone() expected.uuid = uuidsentinel.something_else self.assertTrue(base.obj_equal_prims(expected, compute)) ",,19,0
openstack%2Fnova~stable%2Frocky~Icb0bdaf454935b3713c35339394d260b33520de5,openstack/nova,stable/rocky,Icb0bdaf454935b3713c35339394d260b33520de5,Handle volume API failure in _post_live_migration,MERGED,2018-10-16 16:43:17.000000000,2018-10-17 23:19:43.000000000,2018-10-17 23:19:42.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 16:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c216f02b066a46d20d06660411baa23280691001', 'message': 'Handle volume API failure in _post_live_migration\n\nPreviously, if the call to Cinder in _post_live_migration failed, the\nexception went unhandled and prevented us from calling\npost_live_migration_at_destination - which is where we set instance\nhost and task state. This left the system in an inconsistent state,\nwith the instance actually running on the destination, but\nwith instance.host still set to the source. This patch simply wraps\nthe Cinder API calls in a try/except, and logs the exception instead\nof blowing up. While ""dumb"", this has the virtue of being simple and\nminimizing potential side effects. A comprehensive refactoring of\nwhen, where and how we set instance host and task state to try to\nguarantee consistency is left as a TODO.\n\nPartial-bug: 1628606\nChange-Id: Icb0bdaf454935b3713c35339394d260b33520de5\n(cherry picked from commit 5513f48dea529fe4e690f50a462300129594210c)\n'}, {'number': 2, 'created': '2018-10-17 00:14:58.000000000', 'files': ['nova/tests/functional/compute/test_live_migration.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cf3c2f391ad0f9d2a2d94247509bcb2709413e4f', 'message': 'Handle volume API failure in _post_live_migration\n\nPreviously, if the call to Cinder in _post_live_migration failed, the\nexception went unhandled and prevented us from calling\npost_live_migration_at_destination - which is where we set instance\nhost and task state. This left the system in an inconsistent state,\nwith the instance actually running on the destination, but\nwith instance.host still set to the source. This patch simply wraps\nthe Cinder API calls in a try/except, and logs the exception instead\nof blowing up. While ""dumb"", this has the virtue of being simple and\nminimizing potential side effects. A comprehensive refactoring of\nwhen, where and how we set instance host and task state to try to\nguarantee consistency is left as a TODO.\n\nPartial-bug: 1628606\nChange-Id: Icb0bdaf454935b3713c35339394d260b33520de5\n(cherry picked from commit 5513f48dea529fe4e690f50a462300129594210c)\n'}]",4,611083,cf3c2f391ad0f9d2a2d94247509bcb2709413e4f,20,9,2,8864,,,0,"Handle volume API failure in _post_live_migration

Previously, if the call to Cinder in _post_live_migration failed, the
exception went unhandled and prevented us from calling
post_live_migration_at_destination - which is where we set instance
host and task state. This left the system in an inconsistent state,
with the instance actually running on the destination, but
with instance.host still set to the source. This patch simply wraps
the Cinder API calls in a try/except, and logs the exception instead
of blowing up. While ""dumb"", this has the virtue of being simple and
minimizing potential side effects. A comprehensive refactoring of
when, where and how we set instance host and task state to try to
guarantee consistency is left as a TODO.

Partial-bug: 1628606
Change-Id: Icb0bdaf454935b3713c35339394d260b33520de5
(cherry picked from commit 5513f48dea529fe4e690f50a462300129594210c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/611083/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/compute/test_live_migration.py', 'nova/compute/manager.py']",2,c216f02b066a46d20d06660411baa23280691001,bug/1628606," # Detaching volumes is a call to an external API that can fail. # If it does, we need to handle it gracefully so that the call # to post_live_migration_at_destination - where we set instance # host and task state - still happens. We need to rethink the # current approach of setting instance host and task state # AFTER a whole bunch of things that could fail in unhandled # ways, but that is left as a TODO(artom). try: if bdm.attachment_id is None: # Prior to cinder v3.44: # We don't want to actually mark the volume detached, # or delete the bdm, just remove the connection from # this host. # # remove the volume connection without detaching from # hypervisor because the instance is not running # anymore on the current host self.volume_api.terminate_connection(ctxt, bdm.volume_id, connector) else: # cinder v3.44 api flow - delete the old attachment # for the source host old_attachment_id = \ migrate_data.old_vol_attachment_ids[bdm.volume_id] self.volume_api.attachment_delete(ctxt, old_attachment_id) except Exception as e: if bdm.attachment_id is None: LOG.error('Connection for volume %s not terminated on ' 'source host %s during post_live_migration: ' '%s', bdm.volume_id, self.host, six.text_type(e), instance=instance) else: LOG.error('Volume attachment %s not deleted on source ' 'host %s during post_live_migration: %s', old_attachment_id, self.host, six.text_type(e), instance=instance)"," if bdm.attachment_id is None: # Prior to cinder v3.44: # We don't want to actually mark the volume detached, or # delete the bdm, just remove the connection from this # host. # # remove the volume connection without detaching from # hypervisor because the instance is not running anymore # on the current host self.volume_api.terminate_connection(ctxt, bdm.volume_id, connector) else: # cinder v3.44 api flow - delete the old attachment # for the source host old_attachment_id = \ migrate_data.old_vol_attachment_ids[bdm.volume_id] self.volume_api.attachment_delete(ctxt, old_attachment_id)",186,17
openstack%2Fneutron~master~I318c84a19e7b3b477b22fbb30e4d708132ee6634,openstack/neutron,master,I318c84a19e7b3b477b22fbb30e4d708132ee6634,Update status when admin_states_up changes.,ABANDONED,2018-09-12 20:38:48.000000000,2018-10-17 23:15:41.000000000,,"[{'_account_id': 1131}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-09-12 20:38:48.000000000', 'files': ['neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6605aeb0290036415e57b285b6ba20f2fb4bb41d', 'message': 'Update status when admin_states_up changes.\n\nOn router migration to HA port status were becoming ACTIVE\nforever even after router was disabled.\n\nChange-Id: I318c84a19e7b3b477b22fbb30e4d708132ee6634\nRelated-Bug: #1789434\n'}]",7,602161,6605aeb0290036415e57b285b6ba20f2fb4bb41d,12,9,1,17120,,,0,"Update status when admin_states_up changes.

On router migration to HA port status were becoming ACTIVE
forever even after router was disabled.

Change-Id: I318c84a19e7b3b477b22fbb30e4d708132ee6634
Related-Bug: #1789434
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/602161/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_db.py'],1,6605aeb0290036415e57b285b6ba20f2fb4bb41d,bug/1789434," def _update_port_status(self, context, router_id, admin_state): if admin_state == True: status = constants.ACTIVE else: status = constants.DOWN objs = l3_obj.RouterPort.get_objects( context, router_id=[router_id]) for obj in objs: port_id = obj.port_id self._core_plugin.update_port( context, port_id, {'port': {'status': status}}) if 'admin_state_up' in r: self._update_port_status(context, id, r['admin_state_up'])",,15,0
openstack%2Fopenstack-ansible-galera_server~master~I7d1f07878dba7d21aecd59fa75e9117b50b886e6,openstack/openstack-ansible-galera_server,master,I7d1f07878dba7d21aecd59fa75e9117b50b886e6,Clean up role tests,MERGED,2018-10-17 15:23:48.000000000,2018-10-17 23:13:49.000000000,2018-10-17 23:13:49.000000000,"[{'_account_id': 13095}, {'_account_id': 17799}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 15:23:48.000000000', 'files': ['tests/test-galera-upgrades.sh', 'tests/test-install-previous-galera.yml', 'tests/test-upgrade-pre.yml', 'tests/test-upgrade-post.yml', 'zuul.d/project.yaml', 'tests/test.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/8002ca2204ad6a012e9f59a3e3ef0cb1cbd9f001', 'message': ""Clean up role tests\n\nNow that we're using the general templates, we can slim down\nthe role test definitions. We can also remove tests which are\nnot being watched, or which are fundamentally broken. With\nthis we can also remove unused scripts/plays.\n\nWe do the following:\n\n1. We remove the 'upgrade' job, given that it's been broken\n   all cycle due to the way the job executes and we need to\n   regroup to figure out another way to do it.\n\nChange-Id: I7d1f07878dba7d21aecd59fa75e9117b50b886e6\n""}]",0,611359,8002ca2204ad6a012e9f59a3e3ef0cb1cbd9f001,8,4,1,6816,,,0,"Clean up role tests

Now that we're using the general templates, we can slim down
the role test definitions. We can also remove tests which are
not being watched, or which are fundamentally broken. With
this we can also remove unused scripts/plays.

We do the following:

1. We remove the 'upgrade' job, given that it's been broken
   all cycle due to the way the job executes and we need to
   regroup to figure out another way to do it.

Change-Id: I7d1f07878dba7d21aecd59fa75e9117b50b886e6
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/59/611359/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-galera-upgrades.sh', 'tests/test-install-previous-galera.yml', 'tests/test-upgrade-pre.yml', 'tests/test-upgrade-post.yml', 'zuul.d/project.yaml', 'tests/test.yml', 'tox.ini']",7,8002ca2204ad6a012e9f59a3e3ef0cb1cbd9f001,cleanup-role-tests,,"[testenv:upgrade] setenv = {[testenv]setenv} ANSIBLE_OVERRIDES={toxinidir}/tests/galera_server-overrides.yml CLONE_UPGRADE_TESTS=yes commands = bash -c ""{toxinidir}/tests/test-galera-upgrades.sh"" ",1,189
openstack%2Fopenstack-zuul-jobs~master~I78f09da3b6bf1448b1d28f6e2db581ff72c4127d,openstack/openstack-zuul-jobs,master,I78f09da3b6bf1448b1d28f6e2db581ff72c4127d,Add ceilometer specific templates,MERGED,2018-10-12 01:43:19.000000000,2018-10-17 23:04:40.000000000,2018-10-17 23:04:40.000000000,"[{'_account_id': 1669}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 10608}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-12 01:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/f91fd5284b45a9ee678d164e18034dae76f2b720', 'message': '[DNM] Testing a new project-template for ceilometer\n\nChange-Id: I78f09da3b6bf1448b1d28f6e2db581ff72c4127d\n'}, {'number': 2, 'created': '2018-10-12 05:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/ee7aa932205100333b0610741b31c299aa27ce12', 'message': 'Add ceilometer specific templates\n\nFollowing in the footsetps of horizon and neutron add project-templates\nfor openstack-python-jobs* and periodic-stable-jobs that list ceilometer\nas a required-project.\n\nThis makes it possible for consumers to list ceilometer in\nrequirements.txt and still gate/Depends-On in-flight changes\n\nNeeded-By: https://review.openstack.org/609823/\nChange-Id: I78f09da3b6bf1448b1d28f6e2db581ff72c4127d\n'}, {'number': 3, 'created': '2018-10-12 06:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/5feaba035829ad518a97267a61e6183c0cf23a17', 'message': 'Add ceilometer specific templates\n\nFollowing in the footsetps of horizon and neutron add project-templates\nfor openstack-python-jobs* and periodic-stable-jobs that list ceilometer\nas a required-project.\n\nThis makes it possible for consumers to list ceilometer in\nrequirements.txt and still gate/Depends-On in-flight changes\n\nNeeded-By: https://review.openstack.org/609823/\nChange-Id: I78f09da3b6bf1448b1d28f6e2db581ff72c4127d\n'}, {'number': 4, 'created': '2018-10-12 06:57:28.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/aca19e940c48d02febce84dc6307303e8bbc1998', 'message': 'Add ceilometer specific templates\n\nFollowing in the footsetps of horizon and neutron add project-templates\nfor openstack-python-jobs* and periodic-stable-jobs that list ceilometer\nas a required-project.\n\nThis makes it possible for consumers to list ceilometer in\nrequirements.txt and still gate/Depends-On in-flight changes\n\nNeeded-By: https://review.openstack.org/609823/\nChange-Id: I78f09da3b6bf1448b1d28f6e2db581ff72c4127d\n'}]",6,609901,aca19e940c48d02febce84dc6307303e8bbc1998,21,6,4,12898,,,0,"Add ceilometer specific templates

Following in the footsetps of horizon and neutron add project-templates
for openstack-python-jobs* and periodic-stable-jobs that list ceilometer
as a required-project.

This makes it possible for consumers to list ceilometer in
requirements.txt and still gate/Depends-On in-flight changes

Needed-By: https://review.openstack.org/609823/
Change-Id: I78f09da3b6bf1448b1d28f6e2db581ff72c4127d
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/01/609901/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,f91fd5284b45a9ee678d164e18034dae76f2b720,609901, name: openstack-python-jobs-ceilometer description: | The standard :zuul:project_template:`openstack-python-jobs` but with ceilometer added as a required-projects. This checks out the project code and allows tox_install_siblings to use neutron when building the venv. check: jobs: - openstack-tox-pep8: required-projects: - openstack/ceilometer - openstack-tox-py27: required-projects: - openstack/ceilometer gate: jobs: - openstack-tox-pep8: required-projects: - openstack/ceilometer - openstack-tox-py27: required-projects: - openstack/ceilometer post: jobs: # This job does not use tox and thus does not need # any required-projects. - publish-openstack-python-branch-tarball - project-template:,,29,0
openstack%2Fopenstack-ansible-galera_server~stable%2Frocky~I7d1f07878dba7d21aecd59fa75e9117b50b886e6,openstack/openstack-ansible-galera_server,stable/rocky,I7d1f07878dba7d21aecd59fa75e9117b50b886e6,Clean up role tests,MERGED,2018-10-17 15:25:38.000000000,2018-10-17 22:56:12.000000000,2018-10-17 22:56:12.000000000,"[{'_account_id': 6816}, {'_account_id': 13095}, {'_account_id': 17799}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 15:25:38.000000000', 'files': ['tests/test-galera-upgrades.sh', 'tests/test-install-previous-galera.yml', 'tests/test-upgrade-pre.yml', 'tests/test-upgrade-post.yml', 'zuul.d/project.yaml', 'tests/test.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/271abc80e5cc6e22d716d74de88731d2afcf2796', 'message': ""Clean up role tests\n\nNow that we're using the general templates, we can slim down\nthe role test definitions. We can also remove tests which are\nnot being watched, or which are fundamentally broken. With\nthis we can also remove unused scripts/plays.\n\nWe do the following:\n\n1. We remove the 'upgrade' job, given that it's been broken\n   all cycle due to the way the job executes and we need to\n   regroup to figure out another way to do it.\n\nChange-Id: I7d1f07878dba7d21aecd59fa75e9117b50b886e6\n(cherry picked from commit 8002ca2204ad6a012e9f59a3e3ef0cb1cbd9f001)\n""}]",0,611361,271abc80e5cc6e22d716d74de88731d2afcf2796,12,5,1,6816,,,0,"Clean up role tests

Now that we're using the general templates, we can slim down
the role test definitions. We can also remove tests which are
not being watched, or which are fundamentally broken. With
this we can also remove unused scripts/plays.

We do the following:

1. We remove the 'upgrade' job, given that it's been broken
   all cycle due to the way the job executes and we need to
   regroup to figure out another way to do it.

Change-Id: I7d1f07878dba7d21aecd59fa75e9117b50b886e6
(cherry picked from commit 8002ca2204ad6a012e9f59a3e3ef0cb1cbd9f001)
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/61/611361/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-galera-upgrades.sh', 'tests/test-install-previous-galera.yml', 'tests/test-upgrade-pre.yml', 'tests/test-upgrade-post.yml', 'zuul.d/project.yaml', 'tests/test.yml', 'tox.ini']",7,271abc80e5cc6e22d716d74de88731d2afcf2796,cleanup-role-tests-stable/rocky,,"[testenv:upgrade] setenv = {[testenv]setenv} ANSIBLE_OVERRIDES={toxinidir}/tests/galera_server-overrides.yml CLONE_UPGRADE_TESTS=yes commands = bash -c ""{toxinidir}/tests/test-galera-upgrades.sh"" ",1,189
openstack%2Fcinder~master~I964b9c1a4379d333a06ae2c699d1188e4ae2e4c3,openstack/cinder,master,I964b9c1a4379d333a06ae2c699d1188e4ae2e4c3,Imported Translations from Zanata,MERGED,2018-10-12 08:08:02.000000000,2018-10-17 22:34:47.000000000,2018-10-13 10:13:07.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18883}, {'_account_id': 20284}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24863}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-12 08:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6e2f4580cff1d6c31f5636458961ef79c5f9da40', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I964b9c1a4379d333a06ae2c699d1188e4ae2e4c3\n'}, {'number': 2, 'created': '2018-10-13 08:02:19.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po', 'cinder/locale/cs/LC_MESSAGES/cinder.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5084f84a93e8689f20ef792a0aca5dce4be43b4c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I964b9c1a4379d333a06ae2c699d1188e4ae2e4c3\n'}]",0,609955,5084f84a93e8689f20ef792a0aca5dce4be43b4c,65,24,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I964b9c1a4379d333a06ae2c699d1188e4ae2e4c3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/55/609955/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po', 'cinder/locale/cs/LC_MESSAGES/cinder.po']",12,6e2f4580cff1d6c31f5636458961ef79c5f9da40,zanata/translations,"""POT-Creation-Date: 2018-10-12 06:05+0000\n""","""POT-Creation-Date: 2018-08-29 01:38+0000\n""msgid """" ""Cannot run vgc-cluster command, please ensure software is installed and "" ""permissions are set properly."" msgstr """" ""Nelze spustit pkaz vgc-cluster, ujistte se prosm, e je software "" ""nainstalovn a mte sprvn nastaven oprvnn."" msgid ""Command %(cmd)s blocked in the CLI and was cancelled"" msgstr ""Pkaz %(cmd)s byl v klientskm dku zablokovn a zruen"" #, python-formatmsgid ""Current host isn't part of HGST domain."" msgstr ""Souasn hostitel nen soust domny HGST."" msgid ""Error in space-create for %(space)s of size %(size)d GB"" msgstr ""Chyba pi vytven prostoru pro %(space)s s velikost %(size)d GB"" #, python-format msgid ""Error in space-extend for volume %(space)s with %(size)d additional GB"" msgstr ""Chyba pi roziovn prostoru svazku %(space)s o dalch %(size)d GB"" #, python-formatmsgid ""Storage host %(svr)s not detected, verify name"" msgstr ""Hostitel loit %(svr)s nebyl zjitn, ovte nzev"" #, python-format#, python-format msgid ""Unable to add Cinder host to apphosts for space %(space)s"" msgstr """" ""Nelze pidat hostitele Cinder do hostitel aplikac v prostoru %(space)s"" msgid """" ""Unable to get information on space %(space)s, please verify that the cluster "" ""is running and connected."" msgstr """" ""Nelze zskat informace o prostoru %(space)s, prosm ovte, e cluster b "" ""a je pipojen."" msgid """" ""Unable to get list of IP addresses on this host, check permissions and "" ""networking."" msgstr """" ""Nelze zskat seznam IP adres na tomto hostiteli. Zkontrolujte oprvnn a "" ""st."" msgid """" ""Unable to get list of domain members, check that the cluster is running."" msgstr ""Nelze zskat seznam len domny. Zkontrolujte, e cluster je sputn."" msgid """" ""Unable to get list of spaces to make new name. Please verify the cluster is "" ""running."" msgstr """" ""Nelze zskat seznam prostor pro vytvoen novho nzvu. Ovte prosm, zda "" ""cluster b."" #, python-format#, python-format msgid """" ""hgst_group %(grp)s and hgst_user %(usr)s must map to valid users/groups in "" ""cinder.conf"" msgstr """" ""skupina hgst %(grp)s a uivatel hgst %(usr)s mus bt namapovny k platnm "" ""ivatelm/skupinm v cinder.conf"" #, python-format msgid ""hgst_net %(net)s specified in cinder.conf not found in cluster"" msgstr ""s hgst %(net)s zadan v cinder.conf nebyla nalezena v clusteru"" msgid ""hgst_redundancy must be set to 0 (non-HA) or 1 (HA) in cinder.conf."" msgstr """" ""redundance hgst mus bt v cinder.conf nastavena na 0 (pokud nechcete HA) "" ""nebo 1 (pro HA)."" msgid ""hgst_space_mode must be an octal/int in cinder.conf"" msgstr """" ""reim prostoru hgst mus bt v cinder.conf zadn osmikov soustav/"" ""celoseln"" #, python-format msgid ""hgst_storage server %(svr)s not of format <host>:<dev>"" msgstr ""server loit hgst %(svr)s nem formt <hostitel>:<zazen>"" msgid ""hgst_storage_servers must be defined in cinder.conf"" msgstr ""V cinder.conf mus bt ureny servery loit hgst"" ",44,1603
openstack%2Fnetworking-odl~master~I9a52f34d5fa0bb4066ecb51792f5e291c441ad01,openstack/networking-odl,master,I9a52f34d5fa0bb4066ecb51792f5e291c441ad01,Remove test-requirements from functional tox env,MERGED,2018-10-08 13:29:15.000000000,2018-10-17 22:11:26.000000000,2018-10-17 22:11:26.000000000,"[{'_account_id': 17120}, {'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-10-08 13:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5c15b397759775e1a8950a338de30cd2ad27aeed', 'message': 'Remove test-requirements from functional tox env\n\nChange-Id: I9a52f34d5fa0bb4066ecb51792f5e291c441ad01\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 2, 'created': '2018-10-08 13:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e8fa1a68ef96322220d91c0917068060e646dfe6', 'message': 'Remove test-requirements from functional tox env\n\nChange-Id: I9a52f34d5fa0bb4066ecb51792f5e291c441ad01\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 3, 'created': '2018-10-08 13:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/63f8d05f625fb7b62bcd5efb6ad4c86b2ef82e76', 'message': 'Remove test-requirements from functional tox env\n\nFollowing the suggestion given in:\nhttps://review.openstack.org/#/c/602622/\n\nit is required to remove ceilometer from the current functional tests.\nThe drawback of this decision is that ceilometer code will not get\ntested functionally. However, this is acceptable since the community\nagrees that ceilometer driver should probably be removed from n-odl\n\nChange-Id: I9a52f34d5fa0bb4066ecb51792f5e291c441ad01\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 4, 'created': '2018-10-09 07:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/08b251accfef6727ee2ee73e5238e0cc7cb99653', 'message': 'Remove test-requirements from functional tox env\n\nFollowing the suggestion given in:\nhttps://review.openstack.org/#/c/602622/\n\nit is required to remove ceilometer from the current functional tests.\nThe drawback of this decision is that ceilometer code will not get\ntested functionally. However, this is acceptable since the community\nagrees that ceilometer driver should probably be removed from n-odl\n\nChange-Id: I9a52f34d5fa0bb4066ecb51792f5e291c441ad01\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 5, 'created': '2018-10-17 13:32:05.000000000', 'files': ['networking_odl/tests/functional/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0bb5fa1d540455e3f1e0fe43713432d1c0b9b649', 'message': ""Remove test-requirements from functional tox env\n\nFunctional tests are meant to be closer to a deployment than jobs that are\ndoing unit testing or the like. As such it needs to have the minimal amount\nof testing related packages that it needs. As it is, test-requirements should\nnot be included. \n\nThis patch makes use of the tests/functional/requirements.txt and removes\ntest-requirements.txt. \n\nA good use case of this is to test a deployment without ceilometer, as it would\nbe deployed if ceilometer will become an extra dependency. The solution doesn't\ncome without drawbacks. An example is that ceilometer code will not get tested\nfunctionally. However, this is acceptable since the community agrees that \nceilometer driver should probably be removed from n-odl. If that decision were\nto change it's always possible to create a separate set of jobs that do include\nceilometer and test with ceilometer as well.\n\nChange-Id: I9a52f34d5fa0bb4066ecb51792f5e291c441ad01\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n""}]",1,608673,0bb5fa1d540455e3f1e0fe43713432d1c0b9b649,26,4,5,21883,,,0,"Remove test-requirements from functional tox env

Functional tests are meant to be closer to a deployment than jobs that are
doing unit testing or the like. As such it needs to have the minimal amount
of testing related packages that it needs. As it is, test-requirements should
not be included. 

This patch makes use of the tests/functional/requirements.txt and removes
test-requirements.txt. 

A good use case of this is to test a deployment without ceilometer, as it would
be deployed if ceilometer will become an extra dependency. The solution doesn't
come without drawbacks. An example is that ceilometer code will not get tested
functionally. However, this is acceptable since the community agrees that 
ceilometer driver should probably be removed from n-odl. If that decision were
to change it's always possible to create a separate set of jobs that do include
ceilometer and test with ceilometer as well.

Change-Id: I9a52f34d5fa0bb4066ecb51792f5e291c441ad01
Signed-off-by: Manuel Buil <mbuil@suse.com>
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/73/608673/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5c15b397759775e1a8950a338de30cd2ad27aeed,, -r{toxinidir}/test-requirements.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/test-requirements.txt, -r{toxinidir}/test-requirements.txt,3,1
openstack%2Fcharm-heat~master~I4377125f537c555e4b0b63dc08a3d9c0fc9d5251,openstack/charm-heat,master,I4377125f537c555e4b0b63dc08a3d9c0fc9d5251,Series Upgrade,MERGED,2018-10-11 23:13:41.000000000,2018-10-17 21:55:01.000000000,2018-10-17 21:55:01.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 28608}]","[{'number': 1, 'created': '2018-10-11 23:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/9ba0d3be9fc23be7cf5628b451e687ceed47cad2', 'message': 'Series Upgrade\n\nImplement the series-upgrade feature allowing to move between Ubuntu\nseries.\n\nChange-Id: I4377125f537c555e4b0b63dc08a3d9c0fc9d5251\n'}, {'number': 2, 'created': '2018-10-12 17:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/cda2ce64cf6c0b9e0c61718755a781b928aab2ca', 'message': 'Series Upgrade\n\nImplement the series-upgrade feature allowing to move between Ubuntu\nseries.\n\nChange-Id: I4377125f537c555e4b0b63dc08a3d9c0fc9d5251\n'}, {'number': 3, 'created': '2018-10-13 16:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/d5e6a9165df9fa5bf2db1abb8696d4894adf5b9e', 'message': 'Series Upgrade\n\nImplement the series-upgrade feature allowing to move between Ubuntu\nseries.\n\nChange-Id: I4377125f537c555e4b0b63dc08a3d9c0fc9d5251\n'}, {'number': 4, 'created': '2018-10-15 20:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/5b27a75a316a7f11d5101ba405a4ae9de143aa30', 'message': 'Series Upgrade\n\nImplement the series-upgrade feature allowing to move between Ubuntu\nseries.\n\nChange-Id: I4377125f537c555e4b0b63dc08a3d9c0fc9d5251\n'}, {'number': 5, 'created': '2018-10-15 23:25:12.000000000', 'files': ['unit_tests/test_heat_utils.py', '.gitignore', 'hooks/heat_utils.py', 'actions/resume', 'unit_tests/test_actions_openstack_upgrade.py', 'hooks/pre-series-upgrade', 'hooks/heat_relations.py', 'hooks/post-series-upgrade', 'actions/actions.py', 'tests/basic_deployment.py', 'unit_tests/test_actions.py', 'actions/pause', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/0bcdc44c0156d5e588c8fd37cce7b3f58b829d6a', 'message': 'Series Upgrade\n\nImplement the series-upgrade feature allowing to move between Ubuntu\nseries.\n\nChange-Id: I4377125f537c555e4b0b63dc08a3d9c0fc9d5251\n'}]",2,609852,0bcdc44c0156d5e588c8fd37cce7b3f58b829d6a,30,5,5,20805,,,0,"Series Upgrade

Implement the series-upgrade feature allowing to move between Ubuntu
series.

Change-Id: I4377125f537c555e4b0b63dc08a3d9c0fc9d5251
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/52/609852/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/heat_relations.py', 'hooks/post-series-upgrade', 'actions/actions.py', 'hooks/heat_utils.py', 'actions/resume', 'tests/basic_deployment.py', 'actions/pause', 'actions.yaml', 'hooks/pre-series-upgrade']",9,9ba0d3be9fc23be7cf5628b451e687ceed47cad2,series-upgrade,heat_relations.py,,259,6
openstack%2Fopenstacksdk~master~I686d90891554de2ecdec3d744699d75b0d12647a,openstack/openstacksdk,master,I686d90891554de2ecdec3d744699d75b0d12647a,Add some warnings and clarifications for discovery,MERGED,2018-09-28 15:19:27.000000000,2018-10-17 21:50:10.000000000,2018-10-17 21:50:10.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-28 15:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a165e7528cc7cff6da8a8c4e6d920a1d794db434', 'message': 'Add some warnings and clarifications for discovery\n\nThere are some choices openstacksdk is making as part of discovery. Some\nof them may not be 100% obvious, so throw some warnings. Make them named\nwarnings so that they can be silenced by a user who is using sdk to get\nadapters for unsupported versions of things on purpose.\n\nChange-Id: I686d90891554de2ecdec3d744699d75b0d12647a\n'}, {'number': 2, 'created': '2018-10-05 16:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b90b865e5ed5e2e687119e92cfb701136b65c52f', 'message': 'Add some warnings and clarifications for discovery\n\nThere are some choices openstacksdk is making as part of discovery. Some\nof them may not be 100% obvious, so throw some warnings. Make them named\nwarnings so that they can be silenced by a user who is using sdk to get\nadapters for unsupported versions of things on purpose.\n\nChange-Id: I686d90891554de2ecdec3d744699d75b0d12647a\n'}, {'number': 3, 'created': '2018-10-06 13:40:32.000000000', 'files': ['openstack/config/cloud_region.py', 'openstack/exceptions.py', 'openstack/service_description.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3ce157c384a09074549391fd86dc4c7d8cf043ba', 'message': 'Add some warnings and clarifications for discovery\n\nThere are some choices openstacksdk is making as part of discovery. Some\nof them may not be 100% obvious, so throw some warnings. Make them named\nwarnings so that they can be silenced by a user who is using sdk to get\nadapters for unsupported versions of things on purpose.\n\nChange-Id: I686d90891554de2ecdec3d744699d75b0d12647a\n'}]",2,606113,3ce157c384a09074549391fd86dc4c7d8cf043ba,16,3,3,2,,,0,"Add some warnings and clarifications for discovery

There are some choices openstacksdk is making as part of discovery. Some
of them may not be 100% obvious, so throw some warnings. Make them named
warnings so that they can be silenced by a user who is using sdk to get
adapters for unsupported versions of things on purpose.

Change-Id: I686d90891554de2ecdec3d744699d75b0d12647a
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/13/606113/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/config/cloud_region.py', 'openstack/exceptions.py', 'openstack/service_description.py']",3,a165e7528cc7cff6da8a8c4e6d920a1d794db434,discovery,"import warnings from openstack import exceptions instance._proxies[self.service_type] = self._make_proxy(instance) def _make_proxy(self, instance): """"""Create a Proxy for the service in question. :param instance: The `openstack.connection.Connection` we're working with. """""" version_string = list(self.supported_versions)[0] else: warnings.warn( ""The configured version, {version} for service"" "" {service_type} is not known or supported by"" "" openstacksdk. The resulting Proxy object will only"" "" have direct passthrough REST capabilities."".format( version=version_string, service_type=self.service_type), category=exceptions.UnsupportedVersionWarning) else: warnings.warn( ""Service {service_type) has an endpoint override set"" "" but the version discovered at that endpoint, {version}"" "" is not supported by openstacksdk. The resulting Proxy"" "" object will only have direct passthrough REST"" "" capabilities."".format( version=api_version, service_type=self.service_type), category=exceptions.UnsupportedVersionWarning) # If we've gotten here with a proxy object it means we have # an endpoint_override in place. If the catalog_url and # service_url don't match, which can happen if there is a # None plugin and auth.endpoint like with standalone ironic, # we need to be explicit that this service has an endpoint_override # so that subsequent discovery calls don't get made incorrectly. warnings.warn( ""Service {service_type) has no discoverable version."" "" The resulting Proxy object will only have direct"" "" passthrough REST capabilities."".format( version=api_version, service_type=self.service_type), category=exceptions.UnsupportedVersionWarning) return temp_adapter"," instance._proxies[self.service_type] = self._make_proxy( instance, owner) def _make_proxy(self, instance, owner): version_string = list(self.supported_versions.keys())[0] instance._proxies[self.service_type] = temp_adapter instance._proxies[self.service_type]._connection = instance return instance._proxies[self.service_type]",53,7
openstack%2Fopenstack-helm-infra~master~If3f2ff6371f267ed72379de25ff463079ba4cddc,openstack/openstack-helm-infra,master,If3f2ff6371f267ed72379de25ff463079ba4cddc,"Ceph: Remove fluentbit sidecars, mount hostpath for logs",MERGED,2018-10-05 20:53:00.000000000,2018-10-17 21:41:38.000000000,2018-10-17 21:41:38.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22713}, {'_account_id': 23928}, {'_account_id': 24165}, {'_account_id': 28372}]","[{'number': 1, 'created': '2018-10-05 20:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/079ff3b4e7be69c1066cdb93ec90d3a8e58cd664', 'message': 'Ceph: Remove fluentbit sidecars, mount hostpath for logs\n\nThis removes the fluentbit sidecars from the ceph-mon and ceph-osd\ncharts. Instead, we mount /var/log/ceph as a hostpath, and use the\nfluentbit daemonset to target the mounted log files instead\n\nChange-Id: If3f2ff6371f267ed72379de25ff463079ba4cddc\n'}, {'number': 2, 'created': '2018-10-08 16:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ca43d192441772bb81f8436ca120994bc871e8e8', 'message': 'Ceph: Remove fluentbit sidecars, mount hostpath for logs\n\nThis removes the fluentbit sidecars from the ceph-mon and ceph-osd\ncharts. Instead, we mount /var/log/ceph as a hostpath, and use the\nfluentbit daemonset to target the mounted log files instead\n\nChange-Id: If3f2ff6371f267ed72379de25ff463079ba4cddc\n'}, {'number': 3, 'created': '2018-10-08 17:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ac6086769648c9104928d67997ad5fe5197df050', 'message': 'Ceph: Remove fluentbit sidecars, mount hostpath for logs\n\nThis removes the fluentbit sidecars from the ceph-mon and ceph-osd\ncharts. Instead, we mount /var/log/ceph as a hostpath, and use the\nfluentbit daemonset to target the mounted log files instead\n\nChange-Id: If3f2ff6371f267ed72379de25ff463079ba4cddc\n'}, {'number': 4, 'created': '2018-10-12 16:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/faa34404b890691f2869386bf5de71b7934a3bc7', 'message': 'Ceph: Remove fluentbit sidecars, mount hostpath for logs\n\nThis removes the fluentbit sidecars from the ceph-mon and ceph-osd\ncharts. Instead, we mount /var/log/ceph as a hostpath, and use the\nfluentbit daemonset to target the mounted log files instead\n\nChange-Id: If3f2ff6371f267ed72379de25ff463079ba4cddc\n'}, {'number': 5, 'created': '2018-10-12 19:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/064fa0306ef093b84e2610be4a328fc7c1644093', 'message': 'Ceph: Remove fluentbit sidecars, mount hostpath for logs\n\nThis removes the fluentbit sidecars from the ceph-mon and ceph-osd\ncharts. Instead, we mount /var/log/ceph as a hostpath, and use the\nfluentbit daemonset to target the mounted log files instead\n\nChange-Id: If3f2ff6371f267ed72379de25ff463079ba4cddc\n'}, {'number': 6, 'created': '2018-10-15 15:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a36fe49676ad66b840f6d95f58c200c0e3194714', 'message': 'Ceph: Remove fluentbit sidecars, mount hostpath for logs\n\nThis removes the fluentbit sidecars from the ceph-mon and ceph-osd\ncharts. Instead, we mount /var/log/ceph as a hostpath, and use the\nfluentbit daemonset to target the mounted log files instead\n\nChange-Id: If3f2ff6371f267ed72379de25ff463079ba4cddc\n'}, {'number': 7, 'created': '2018-10-16 17:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cbb88c002e7695564d702e90d614c5001560b0c6', 'message': 'Ceph: Remove fluentbit sidecars, mount hostpath for logs\n\nThis removes the fluentbit sidecars from the ceph-mon and ceph-osd\ncharts. Instead, we mount /var/log/ceph as a hostpath, and use the\nfluentbit daemonset to target the mounted log files instead\n\nChange-Id: If3f2ff6371f267ed72379de25ff463079ba4cddc\n'}, {'number': 8, 'created': '2018-10-16 21:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e22448aa7a338f2213b8da6080b93bdc83a23369', 'message': 'Ceph: Remove fluentbit sidecars, mount hostpath for logs\n\nThis removes the fluentbit sidecars from the ceph-mon and ceph-osd\ncharts. Instead, we mount /var/log/ceph as a hostpath, and use the\nfluentbit daemonset to target the mounted log files instead\n\nChange-Id: If3f2ff6371f267ed72379de25ff463079ba4cddc\n'}, {'number': 9, 'created': '2018-10-17 04:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/844cd5ec4dd083c9f8a375cbab69143f509f9547', 'message': 'Ceph: Remove fluentbit sidecars, mount hostpath for logs\n\nThis removes the fluentbit sidecars from the ceph-mon and ceph-osd\ncharts. Instead, we mount /var/log/ceph as a hostpath, and use the\nfluentbit daemonset to target the mounted log files instead\n\nChange-Id: If3f2ff6371f267ed72379de25ff463079ba4cddc\n'}, {'number': 10, 'created': '2018-10-17 10:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8b37a881a528c9523cadd487d4aa0583319b5c62', 'message': 'Ceph: Remove fluentbit sidecars, mount hostpath for logs\n\nThis removes the fluentbit sidecars from the ceph-mon and ceph-osd\ncharts. Instead, we mount /var/log/ceph as a hostpath, and use the\nfluentbit daemonset to target the mounted log files instead\n\nChange-Id: If3f2ff6371f267ed72379de25ff463079ba4cddc\n'}, {'number': 11, 'created': '2018-10-17 12:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ff7a2bf821a84c48b633fff397531ee220800d96', 'message': 'Ceph: Remove fluentbit sidecars, mount hostpath for logs\n\nThis removes the fluentbit sidecars from the ceph-mon and ceph-osd\ncharts. Instead, we mount /var/log/ceph as a hostpath, and use the\nfluentbit daemonset to target the mounted log files instead\n\nChange-Id: If3f2ff6371f267ed72379de25ff463079ba4cddc\n'}, {'number': 12, 'created': '2018-10-17 12:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c4cc52294e31fa1fe76af4a7ba2284f5a7346754', 'message': 'Ceph: Remove fluentbit sidecars, mount hostpath for logs\n\nThis removes the fluentbit sidecars from the ceph-mon and ceph-osd\ncharts. Instead, we mount /var/log/ceph as a hostpath, and use the\nfluentbit daemonset to target the mounted log files instead\n\nChange-Id: If3f2ff6371f267ed72379de25ff463079ba4cddc\n'}, {'number': 13, 'created': '2018-10-17 13:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/004cbaf4c0859b0dad44c09c397bd8d87f788fcc', 'message': 'Ceph: Remove fluentbit sidecars, mount hostpath for logs\n\nThis removes the fluentbit sidecars from the ceph-mon and ceph-osd\ncharts. Instead, we mount /var/log/ceph as a hostpath, and use the\nfluentbit daemonset to target the mounted log files instead\n\nChange-Id: If3f2ff6371f267ed72379de25ff463079ba4cddc\n'}, {'number': 14, 'created': '2018-10-17 15:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5e1fc1d0d2b9bbacbbc012ee76bbe10507a6266a', 'message': 'Ceph: Remove fluentbit sidecars, mount hostpath for logs\n\nThis removes the fluentbit sidecars from the ceph-mon and ceph-osd\ncharts. Instead, we mount /var/log/ceph as a hostpath, and use the\nfluentbit daemonset to target the mounted log files instead\n\nChange-Id: If3f2ff6371f267ed72379de25ff463079ba4cddc\n'}, {'number': 15, 'created': '2018-10-17 15:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a62f54e4163daa97a15487ff7f65487705450c42', 'message': 'Ceph: Remove fluentbit sidecars, mount hostpath for logs\n\nThis removes the fluentbit sidecars from the ceph-mon and ceph-osd\ncharts. Instead, we mount /var/log/ceph as a hostpath, and use the\nfluentbit daemonset to target the mounted log files instead\n\nChange-Id: If3f2ff6371f267ed72379de25ff463079ba4cddc\n'}, {'number': 16, 'created': '2018-10-17 16:06:13.000000000', 'files': ['ceph-osd/values.yaml', 'elasticsearch/values.yaml', 'ceph-osd/templates/configmap-bin.yaml', 'ceph-osd/templates/bin/osd/_fluentbit-sidecar.sh.tpl', 'ceph-osd/templates/configmap-etc.yaml', 'fluent-logging/values.yaml', 'ceph-osd/templates/daemonset-osd.yaml', 'ceph-osd/templates/utils/_to_fluentbit_conf.tpl', 'fluent-logging/templates/utils/_to_fluentd_conf.tpl', 'ceph-mon/templates/configmap-bin.yaml', 'ceph-mon/templates/bin/mon/_fluentbit-sidecar.sh.tpl', 'ceph-mon/templates/daemonset-mon.yaml', 'ceph-mon/templates/configmap-etc.yaml', 'ceph-mon/templates/utils/_to_fluentbit_conf.tpl', 'ceph-mon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/92717bdc7285ea66476f3fad6b035bb9b1c1e079', 'message': 'Ceph: Remove fluentbit sidecars, mount hostpath for logs\n\nThis removes the fluentbit sidecars from the ceph-mon and ceph-osd\ncharts. Instead, we mount /var/log/ceph as a hostpath, and use the\nfluentbit daemonset to target the mounted log files instead\n\nThis also updates the fluentd configuration to better handle the\ncorrect configuration type for flush_interval (time vs int), as\nwell as updates the fluentd elasticsearch output values to help\naddress the gate failures resulting from the Elasticsearch bulk\nendpoints failing\n\nChange-Id: If3f2ff6371f267ed72379de25ff463079ba4cddc\n'}]",1,608356,92717bdc7285ea66476f3fad6b035bb9b1c1e079,65,8,16,17591,,,0,"Ceph: Remove fluentbit sidecars, mount hostpath for logs

This removes the fluentbit sidecars from the ceph-mon and ceph-osd
charts. Instead, we mount /var/log/ceph as a hostpath, and use the
fluentbit daemonset to target the mounted log files instead

This also updates the fluentd configuration to better handle the
correct configuration type for flush_interval (time vs int), as
well as updates the fluentd elasticsearch output values to help
address the gate failures resulting from the Elasticsearch bulk
endpoints failing

Change-Id: If3f2ff6371f267ed72379de25ff463079ba4cddc
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/56/608356/16 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-osd/values.yaml', 'ceph-osd/templates/configmap-bin.yaml', 'ceph-osd/templates/bin/osd/_fluentbit-sidecar.sh.tpl', 'ceph-osd/templates/configmap-etc.yaml', 'fluent-logging/values.yaml', 'ceph-osd/templates/daemonset-osd.yaml', 'ceph-osd/templates/utils/_to_fluentbit_conf.tpl', 'ceph-mon/templates/configmap-bin.yaml', 'ceph-mon/templates/bin/mon/_fluentbit-sidecar.sh.tpl', 'ceph-mon/templates/daemonset-mon.yaml', 'ceph-mon/templates/configmap-etc.yaml', 'ceph-mon/templates/utils/_to_fluentbit_conf.tpl', 'ceph-mon/values.yaml']",13,079ff3b4e7be69c1066cdb93ec90d3a8e58cd664,ceph/update_fluentbit_conf,," fluentbit: docker.io/fluent/fluent-bit:0.12.14 fluentbit: requests: memory: ""5Mi"" cpu: ""250m"" limits: memory: ""50Mi"" cpu: ""500m"" fluentbit: - service: header: service Flush: 30 Daemon: Off Log_Level: info Parsers_File: parsers.conf - ceph_tail: # NOTE(srwilkers): Despite being exposed, these values should not be # modified, as the ceph-mon logs are always placed here header: input Name: tail Tag: ceph-mon.* Path: /var/log/ceph/*.log Parser: syslog DB: /var/log/ceph/ceph.db DB.Sync: Normal Buffer_Chunk_Size: 1M Buffer_Max_Size: 1M Mem_Buf_Limit: 5MB Refresh_Interval: 10s parsers: - syslog: header: parser Name: syslog Format: regex Regex: '^(?<time>.*[0-9]{2}:[0-9]{2}:[0-9]{2}) (?<host>[^ ]*) (?<app>[a-zA-Z0-9_\/\.\-]*)(?:\[(?<pid>[0-9]+)\])?(?:[^\:]*\:)? (?<log>.+)$' Time_Key: time Time_Format: ""%Y-%m-%dT%H:%M:%S.%L"" Time_Keep: On Types: ""pid:integer"" logging: fluentd: false fluentd: namespace: null name: fluentd hosts: default: fluentd-logging host_fqdn_override: default: null path: default: null scheme: default: http port: service: default: 24224 metrics: default: 24220",54,315
openstack%2Fpuppet-tripleo~stable%2Frocky~Id7a0986f886a81b2041987b0d5a95edf2160e05e,openstack/puppet-tripleo,stable/rocky,Id7a0986f886a81b2041987b0d5a95edf2160e05e,Add support for ODL-OVS IPv6 deployment,MERGED,2018-10-16 06:22:56.000000000,2018-10-17 21:29:21.000000000,2018-10-17 21:29:21.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-16 06:22:56.000000000', 'files': ['lib/puppet/functions/add_brackets.rb', 'manifests/profile/base/neutron/plugins/ml2/opendaylight.pp', 'releasenotes/notes/add-support-for-IPv6-deployment-988400c781b92066.yaml', 'manifests/profile/base/neutron/plugins/ovs/opendaylight.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/78b51d075dfc553c40b36148a857f7d83385babf', 'message': 'Add support for ODL-OVS IPv6 deployment\n\nMake necessary changes for proper deployment\nof ODL on IPv6 network.\n\nChange-Id: Id7a0986f886a81b2041987b0d5a95edf2160e05e\nDepends-On: Idd257cf4666b853eb4c52861f9f400b6dbdeeadb\nPartial-Bug: #1783196\n(cherry picked from commit 66292a5886ec27a23bf7bd88a356c4372ed00668)\n'}]",0,610883,78b51d075dfc553c40b36148a857f7d83385babf,7,3,1,20866,,,0,"Add support for ODL-OVS IPv6 deployment

Make necessary changes for proper deployment
of ODL on IPv6 network.

Change-Id: Id7a0986f886a81b2041987b0d5a95edf2160e05e
Depends-On: Idd257cf4666b853eb4c52861f9f400b6dbdeeadb
Partial-Bug: #1783196
(cherry picked from commit 66292a5886ec27a23bf7bd88a356c4372ed00668)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/83/610883/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/functions/add_brackets.rb', 'manifests/profile/base/neutron/plugins/ml2/opendaylight.pp', 'releasenotes/notes/add-support-for-IPv6-deployment-988400c781b92066.yaml', 'manifests/profile/base/neutron/plugins/ovs/opendaylight.pp']",4,78b51d075dfc553c40b36148a857f7d83385babf,ODL_IPv6_support-stable/rocky,"# [*enable_ipv6*] # (Optional) Whether all IPs are IPv6 address or not. # Defaults to hiera(''enable_ipv6', false) # $enable_ipv6 = hiera('enable_ipv6', false), if $enable_ipv6 { $odl_api_ips_parsed = $odl_api_ips.map |$odl_api_ip| { add_brackets($odl_api_ip) } $odl_url_ip_parsed = add_brackets($odl_url_ip) } else { $odl_api_ips_parsed = $odl_api_ips $odl_url_ip_parsed = $odl_url_ip } $opendaylight_url = ""${conn_proto}://${odl_url_ip_parsed}:${odl_port}/${odl_check_url}"" $odl_ovsdb_str = join(regsubst($odl_api_ips_parsed, '.+', 'ssl:\0:6640'), ' ') $odl_ovsdb_str = join(regsubst($odl_api_ips_parsed, '.+', 'tcp:\0:6640'), ' ')"," $opendaylight_url = ""${conn_proto}://${odl_url_ip}:${odl_port}/${odl_check_url}"" $odl_ovsdb_str = join(regsubst($odl_api_ips, '.+', 'ssl:\0:6640'), ' ') $odl_ovsdb_str = join(regsubst($odl_api_ips, '.+', 'tcp:\0:6640'), ' ')",47,3
openstack%2Ftripleo-heat-templates~stable%2Frocky~I99e08314dedfcc71a776423ac3c6c282237cc0c2,openstack/tripleo-heat-templates,stable/rocky,I99e08314dedfcc71a776423ac3c6c282237cc0c2,Add provision to specify java arguments to ODL,MERGED,2018-10-17 08:56:06.000000000,2018-10-17 21:29:20.000000000,2018-10-17 21:29:19.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 08:56:06.000000000', 'files': ['releasenotes/notes/set_java_opts_from_tripleo-d969b1151ec244a0.yaml', 'puppet/services/opendaylight-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/085e49bca77a9744815fc1c42d0aa0e0087bd844', 'message': 'Add provision to specify java arguments to ODL\n\nJava options like heap size configuration needs\ntweaking for large scale deployments. Allow\ncustomizing those values from TripleO.\n\npuppet-opendaylight will configure these values\nin ODL. Corresponding puppet-opendaylight patch is\nhttps://git.opendaylight.org/gerrit/#/c/68491\n\nChange-Id: I99e08314dedfcc71a776423ac3c6c282237cc0c2\nCloses-Bug: #1794073\n(cherry picked from commit 865e8b574c741c9027a07a08f7a77795f7f12544)\n'}]",0,611263,085e49bca77a9744815fc1c42d0aa0e0087bd844,6,2,1,20866,,,0,"Add provision to specify java arguments to ODL

Java options like heap size configuration needs
tweaking for large scale deployments. Allow
customizing those values from TripleO.

puppet-opendaylight will configure these values
in ODL. Corresponding puppet-opendaylight patch is
https://git.opendaylight.org/gerrit/#/c/68491

Change-Id: I99e08314dedfcc71a776423ac3c6c282237cc0c2
Closes-Bug: #1794073
(cherry picked from commit 865e8b574c741c9027a07a08f7a77795f7f12544)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/611263/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/set_java_opts_from_tripleo-d969b1151ec244a0.yaml', 'puppet/services/opendaylight-api.yaml']",2,085e49bca77a9744815fc1c42d0aa0e0087bd844,bug/1794073-stable/rocky," OpenDaylightJavaOpts: default: '' type: string description: Specifies the Java options to run ODL with as a string. Note, these options are in addition to the default Java options set by the karaf/ODL boot scripts and IP version based flag set by 'opendaylight' class. opendaylight::java_opts: {get_param: OpenDaylightJavaOpts}",,12,0
openstack%2Ftripleo-common~master~If4f619e35042283313912ff681d86a307ecea97e,openstack/tripleo-common,master,If4f619e35042283313912ff681d86a307ecea97e,Improve inspect error retry behaviour,MERGED,2018-10-17 02:41:15.000000000,2018-10-17 21:29:18.000000000,2018-10-17 21:29:18.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16690}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-17 02:41:15.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c10ccfd0cc40ba6549e583b576378d5344fac596', 'message': 'Improve inspect error retry behaviour\n\nThis makes the following changes:\n- retries on any requests exceptions instead of ImageUploaderException\n  which is not raised in _inspect\n- adds retry decorator to the authenticate function, also on requests\n  exceptions only\n- when authenticate first pings the endpoint, call raise_for_status if\n  the status code is not 200 or 401.\n\nChange-Id: If4f619e35042283313912ff681d86a307ecea97e\nCloses-Bug: #1798232\n'}]",0,611217,c10ccfd0cc40ba6549e583b576378d5344fac596,9,5,1,4571,,,0,"Improve inspect error retry behaviour

This makes the following changes:
- retries on any requests exceptions instead of ImageUploaderException
  which is not raised in _inspect
- adds retry decorator to the authenticate function, also on requests
  exceptions only
- when authenticate first pings the endpoint, call raise_for_status if
  the status code is not 200 or 401.

Change-Id: If4f619e35042283313912ff681d86a307ecea97e
Closes-Bug: #1798232
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/17/611217/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,c10ccfd0cc40ba6549e583b576378d5344fac596,bug/1798232," @tenacity.retry( # Retry up to 5 times with jittered exponential backoff reraise=True, retry=tenacity.retry_if_exception_type( requests.exceptions.RequestException ), wait=tenacity.wait_random_exponential(multiplier=1, max=10), stop=tenacity.stop_after_attempt(5) ) if r.status_code == 200: if r.status_code != 401: r.raise_for_status() retry=tenacity.retry_if_exception_type( requests.exceptions.RequestException ),"," if r.status_code != 401: retry=tenacity.retry_if_exception_type(ImageUploaderException),",14,2
openstack%2Ftripleo-heat-templates~stable%2Frocky~I6d7ac0630cc586794469ab5c572933825de0dc20,openstack/tripleo-heat-templates,stable/rocky,I6d7ac0630cc586794469ab5c572933825de0dc20,Set octavia log directory permissions to octavia user,MERGED,2018-10-17 00:45:34.000000000,2018-10-17 21:29:17.000000000,2018-10-17 21:29:17.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-17 00:45:34.000000000', 'files': ['docker/services/octavia-health-manager.yaml', 'docker/services/octavia-api.yaml', 'docker/services/octavia-worker.yaml', 'docker/services/octavia-housekeeping.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4b44627d47fe2a5ca561d3663a9983254b438fbe', 'message': 'Set octavia log directory permissions to octavia user\n\nThe octavia services need to set the owner of their log directories and\nfiles to the octavia user.\n\nCloses-Bug: #1796934\n\nChange-Id: I6d7ac0630cc586794469ab5c572933825de0dc20\n(cherry picked from commit 5c8617beb825fb03544c1df95be562f4dddb58ce)\n'}]",0,611206,4b44627d47fe2a5ca561d3663a9983254b438fbe,7,4,1,6681,,,0,"Set octavia log directory permissions to octavia user

The octavia services need to set the owner of their log directories and
files to the octavia user.

Closes-Bug: #1796934

Change-Id: I6d7ac0630cc586794469ab5c572933825de0dc20
(cherry picked from commit 5c8617beb825fb03544c1df95be562f4dddb58ce)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/611206/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/octavia-health-manager.yaml', 'docker/services/octavia-api.yaml', 'docker/services/octavia-worker.yaml', 'docker/services/octavia-housekeeping.yaml']",4,4b44627d47fe2a5ca561d3663a9983254b438fbe,bug/1796934, permissions: - path: /var/log/octavia owner: octavia:octavia recurse: true,,16,0
openstack%2Ftripleo-heat-templates~master~I873574944af237e1ff998f0e9b9b261c53c46f54,openstack/tripleo-heat-templates,master,I873574944af237e1ff998f0e9b9b261c53c46f54,Remove artificial constrains around notification drivers,MERGED,2018-09-28 16:14:04.000000000,2018-10-17 21:20:04.000000000,2018-10-17 21:20:04.000000000,"[{'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2018-09-28 16:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/915562a889b35d145302aae8372bcb1336664eae', 'message': ""Remove artificial constrains around notification drivers\n\nAccording to\nhttps://docs.openstack.org/newton/config-reference/config-format.html we\ncan have a list of notification drivers like:\ndriver = messaging\ndriver = log\n\nLet's not impose extra limitation in THT as folks might want special\nnotifications setups.\n\nChange-Id: I873574944af237e1ff998f0e9b9b261c53c46f54\nCloses-Bug: #1795026\n""}, {'number': 2, 'created': '2018-10-16 07:14:55.000000000', 'files': ['puppet/services/aodh-base.yaml', 'puppet/services/congress.yaml', 'puppet/services/cinder-api.yaml', 'puppet/services/sahara-base.yaml', 'puppet/services/tacker.yaml', 'puppet/services/glance-api.yaml', 'puppet/services/nova-base.yaml', 'puppet/services/mistral-base.yaml', 'puppet/services/heat-base.yaml', 'puppet/services/manila-base.yaml', 'puppet/services/octavia-base.yaml', 'puppet/services/barbican-api.yaml', 'puppet/services/ceilometer-base.yaml', 'puppet/services/keystone.yaml', 'puppet/services/designate-base.yaml', 'puppet/services/neutron-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f5ba55bd84e672f2c381435018e733070405ea70', 'message': ""Remove artificial constrains around notification drivers\n\nAccording to\nhttps://docs.openstack.org/newton/config-reference/config-format.html we\ncan have a list of notification drivers like:\ndriver = messaging\ndriver = log\n\nLet's not impose extra limitation in THT as folks might want special\nnotifications setups.\n\nChange-Id: I873574944af237e1ff998f0e9b9b261c53c46f54\nCloses-Bug: #1795026\n""}]",2,606126,f5ba55bd84e672f2c381435018e733070405ea70,31,7,2,20172,,,0,"Remove artificial constrains around notification drivers

According to
https://docs.openstack.org/newton/config-reference/config-format.html we
can have a list of notification drivers like:
driver = messaging
driver = log

Let's not impose extra limitation in THT as folks might want special
notifications setups.

Change-Id: I873574944af237e1ff998f0e9b9b261c53c46f54
Closes-Bug: #1795026
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/606126/2 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/aodh-base.yaml', 'puppet/services/congress.yaml', 'puppet/services/cinder-api.yaml', 'puppet/services/sahara-base.yaml', 'puppet/services/tacker.yaml', 'puppet/services/glance-api.yaml', 'puppet/services/nova-base.yaml', 'puppet/services/mistral-base.yaml', 'puppet/services/heat-base.yaml', 'puppet/services/manila-base.yaml', 'puppet/services/octavia-base.yaml', 'puppet/services/barbican-api.yaml', 'puppet/services/ceilometer-base.yaml', 'puppet/services/keystone.yaml', 'puppet/services/designate-base.yaml', 'puppet/services/neutron-base.yaml']",16,915562a889b35d145302aae8372bcb1336664eae,bug/1795026,," constraints: - allowed_values: [ 'messagingv2', 'noop' ]",0,32
openstack%2Fmanila~stable%2Fqueens~I37ecd611c94f9b0019b87d5186f96aed93130f88,openstack/manila,stable/queens,I37ecd611c94f9b0019b87d5186f96aed93130f88,Use volume_uuid in _resize_share of Quobyte Driver,MERGED,2018-10-11 13:02:18.000000000,2018-10-17 21:15:39.000000000,2018-10-17 21:15:39.000000000,"[{'_account_id': 8871}, {'_account_id': 9003}, {'_account_id': 13915}, {'_account_id': 14567}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}]","[{'number': 1, 'created': '2018-10-11 13:02:18.000000000', 'files': ['manila/tests/share/drivers/quobyte/test_quobyte.py', 'releasenotes/notes/bug-1774604-qb-driver-b7e717cbc71d6189.yaml', 'manila/share/drivers/quobyte/quobyte.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/e7d976faa2ef82af035f05f71cb9b9afef93c540', 'message': 'Use volume_uuid in _resize_share of Quobyte Driver\n\nAdds resolving the volume name to volume id when resizing\nand cleans up _resolve_volume_name calls.\n\nCloses-Bug: #1774604\n\nChange-Id: I37ecd611c94f9b0019b87d5186f96aed93130f88\n(cherry picked from commit ff55def55b490a16f570265265fa90a29f2c3145)\n'}]",0,609695,e7d976faa2ef82af035f05f71cb9b9afef93c540,16,7,1,13915,,,0,"Use volume_uuid in _resize_share of Quobyte Driver

Adds resolving the volume name to volume id when resizing
and cleans up _resolve_volume_name calls.

Closes-Bug: #1774604

Change-Id: I37ecd611c94f9b0019b87d5186f96aed93130f88
(cherry picked from commit ff55def55b490a16f570265265fa90a29f2c3145)
",git fetch https://review.opendev.org/openstack/manila refs/changes/95/609695/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/drivers/quobyte/test_quobyte.py', 'releasenotes/notes/bug-1774604-qb-driver-b7e717cbc71d6189.yaml', 'manila/share/drivers/quobyte/quobyte.py']",3,e7d976faa2ef82af035f05f71cb9b9afef93c540,bug/1773929-stable/queens," volume_uuid = self._resolve_volume_name(share['name'], share['project_id']) ""identifier"": self._resolve_volume_name(share[""name""], share['project_id']), volume_uuid = self._resolve_volume_name(share['name'], share['project_id']) volume_uuid = self._resolve_volume_name(share['name'], share['project_id']) volume_uuid = self._resolve_volume_name(share['name'], share['project_id']) volume_uuid = self._resolve_volume_name(share['name'], share['project_id']) volume_uuid = self._resolve_volume_name(share['name'], share['project_id'])"," volume_uuid = self._resolve_volume_name( share['name'], self._get_project_name(context, share['project_id'])) ""identifier"": share[""name""], volume_uuid = self._resolve_volume_name( share['name'], self._get_project_name(context, share['project_id'])) volume_uuid = self._resolve_volume_name( share['name'], self._get_project_name(context, share['project_id'])) volume_uuid = self._resolve_volume_name( share['name'], self._get_project_name(context, share['project_id'])) volume_uuid = self._resolve_volume_name( share['name'], self._get_project_name(context, share['project_id'])) volume_uuid = self._resolve_volume_name( share['name'], self._get_project_name(context, share['project_id']))",25,21
openstack%2Ftripleo-docs~master~I953d119833f259c1ee9e23e0a8dc74f0fd8e80f1,openstack/tripleo-docs,master,I953d119833f259c1ee9e23e0a8dc74f0fd8e80f1,User docs for major upgrades in Rocky+,MERGED,2018-10-16 16:42:35.000000000,2018-10-17 20:56:00.000000000,2018-10-17 20:56:00.000000000,"[{'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 16515}, {'_account_id': 18002}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-10-16 16:42:35.000000000', 'files': ['doc/source/install/post_deployment/upgrade.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/8f02518c8c1ca5ae175e90bb603ebfe851082f4f', 'message': 'User docs for major upgrades in Rocky+\n\nChange-Id: I953d119833f259c1ee9e23e0a8dc74f0fd8e80f1\n'}]",0,611082,8f02518c8c1ca5ae175e90bb603ebfe851082f4f,9,7,1,8042,,,0,"User docs for major upgrades in Rocky+

Change-Id: I953d119833f259c1ee9e23e0a8dc74f0fd8e80f1
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/82/611082/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/post_deployment/upgrade.rst'],1,8f02518c8c1ca5ae175e90bb603ebfe851082f4f,rocky-upgrades,"Upgrading the Overcloud to Queens and laterThe overcloud upgrade workflow is mainly delivered through the `openstack overcloud upgrade` command, in particular one of its subcommands: **prepare**, **run** and **converge**. Each subcommand has its own set of options which you can explore with ``--help``:The upgrade workflow essentially consists of the following steps: #. `Prepare your environment files`_. Generate any environment files you need for the upgrade such as the references to the latest container images or commands used to switch repos. #. `openstack overcloud upgrade prepare`_. Run a heat stack update to generate the upgrade playbooks. #. `openstack overcloud external-upgrade run (for container images)`_.#. `openstack overcloud upgrade run`_.#. `openstack overcloud external-upgrade run (for services)`_. (optional) This step is only necessary if your deployment contains services which are managed using external installers, e.g. Ceph. #. `openstack overcloud upgrade converge`_.Detailed infromation and pointers can be found in the relevant the queens-upgrade-dev-docs_. Prepare your environment files ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ First we prepare an environment file for new container images: .. admonition:: Pike to Queens :class: ptoq As part of the upgrade to Queens, the container images for the target release should be downloaded to the Undercloud. Please see the `openstack overcloud container image prepare`. :doc:`../containers_deployment/overcloud` for more information. The output of this step will be a Heat environment file that contains references to the latest container images. You will need to pass the path to this file into the **upgrade prepare** command using the -e option as you would any other environment file. .. admonition:: Queens to Rocky :class: qtor In Rocky we only generate a new environment file with ``ContainerImagePrepare`` parameter at this point in the workflow. See :doc:`container image preparation documentation<../advanced_deployment/container_image_prepare>`. for details how to generate this environment file. The file is then passed to the `upgrade prepare` command, and images will be uploaded to the local registry in a separate `external-upgrade run` step afterwards.of environment files that were passed into the deploy command, as well as the roles_data.yaml and network_data.yaml, if you've customized those. Be sure to include environment files with the new container image parameter and Yum repository switch parameter. -r /path/to/roles_data.yaml \ -n /path/to/network_data.yaml \ -e init-repo.yaml \ -e containers-prepare-parameter.yamlapplying any of the TripleO configuration. Once this `upgrade prepare` operation has successfully completed the heat stack will be in the UPDATE_COMPLETE state. At that point you can use `config download` to download and inspect the configuration ansible playbooks that will be used to deliver the upgrade in the next step:openstack overcloud external-upgrade run (for container images) ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ .. admonition:: Rocky :class: qtor In Rocky and beyond, we'll need to upload the container images to the local registry after we've run `upgrade prepare`. Run: .. code-block:: bash openstack overcloud external-update run --tags container_image_prepare The `upgrade run` command runs the Ansible playbooks to deliver the upgrade configuration.(no path) for a full upgrade.At a minimum an operator should check the health of the pacemaker cluster.openstack overcloud external-upgrade run (for services) ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This step is only necessary a service using an external installer was deployed in the Overcloud. Most typically this is the case of overclouds with Ceph. .. admonition:: Pike to Queens :class: ptoq Among the services with external installers, only upgrade of Ceph is supported in the Queens release cycle. It has a specific `ceph-upgrade` command. Run it as follows: environment files that were used to deploy the overcloud. -r /path/to/roles_data.yaml \ -n /path/to/network_data.yaml \ -e containers-prepare-parameter.yaml .. admonition:: Queens to Rocky :class: qtor More services with external installers can be upgraded to Rocky. The `external-upgrade run` command accepts a ``--tags`` parameter which allows to limit the scope of the upgrade to particular services. It is recommended to always use this parameter for accurately scoping the upgrade. For example, to upgrade Ceph, run the following command: .. code-block:: bash openstack overcloud external-upgrade run --tags ceph .. note:: The `external-upgrade run` command does not update the Heat stack, and as such it does not accept any environment files as parameters. It uses playbooks generated during `upgrade prepare`.Finally, run the upgrade converge step. This will re-apply all configuration across all nodes and unset all variables that were used during the upgrade. Successful completion of this step is required to assert that the overcloud state is in sync with the latest TripleO Heat templates, which is a prerequisite for any further overcloud management (e.g. scaling). It is especially important to remember that you **must** include all environment files that were used to deploy the overcloud, including the new container image parameter file. You should omit any repo switch commands and ensure that none of the environment files you are about to use is specifying a value for UpgradeInitCommand. -r /path/to/roles_data.yaml \ -n /path/to/network_data.yaml \ -e containers-prepare-parameter.yaml Successful completion of the `upgrade converge` command concludes the major version upgrade. Upgrades to Pike and further will only be tested with containers. Baremetal","Upgrading the Overcloud from Pike to QueensThe Queens upgrade workflow for TripleO is significantly different to previous cycles. At a high level, the workflow no longer relies on Heat to deliver the upgrade configuration, but instead uses ansible playbooks. Those playbooks *are* still generated using a Heat stack update of the overcloud stack, as the first step in the workflow. However there is no configuration applied during that stack update and so comparatively it takes *much* less time to complete than a 'normal' stack update. More information and pointers can be found in the relevant queens-upgrade-spec_ and the queens-upgrade-dev-docs_. The tripleo cli has been updated accordingly to accommodate this new workflow. In Queens a new `openstack overcloud upgrade` command is introduced and it expects one of three subcommands: **prepare**, **run** and **converge**. Each subcommand has its own set of options which you can explore with ``--help``:The Queens upgrade workflow essentially consists of the following steps: #. `Prepare your environment - get latest container images`_, backup.#. `openstack overcloud upgrade prepare`_ $OPTS. Run a heat stack update to generate the upgrade playbooks. #. `openstack overcloud upgrade run`_ $OPTS.#. `openstack overcloud ceph-upgrade run`_ $OPTS. (optional) Not necessary unless a TripleO managed Ceph cluster is deployed in the overcloud; this step performs the upgrade of the Ceph cluster. #. `openstack overcloud upgrade converge`_ $OPTS.Prepare your environment - get latest container images ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ As a part of the upgrade the container images for the target release should be downloaded to the Undercloud. Please see the `openstack overcloud container image prepare` :doc:`../containers_deployment/overcloud` for more information. The output of this step will be a Heat environment file that contains references to the latest container images. You will need to pass the path to this file into the **upgrade prepare** command using the -e option as you would any other environment file.of environment files that were passed into the deploy command, as well as the roles_data.yaml file used to deploy the overcloud you are about to upgrade. Be sure to include the container image references file that was output by the *container image prepare* command -e /home/stack/containers-default-parameters.yaml \ -e init-repo.yaml -r /path/to/roles_data.yamlapplying any of the TripleO configuration, as explained above. Once this `upgrade prepare` operation has successfully completed the heat stack will be in the UPDATE_COMPLETE state. At that point you can use `config download` to download and inspect the configuration ansible playbooks that will be used to deliver the upgrade in the next step:This will run the ansible playbooks to deliver the upgrade configuration.(no path) for a full upgrade to Queens.At a minimum an operator should check the health of the pacemaker clusteropenstack overcloud ceph-upgrade run ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This step is only necessary if Ceph was deployed in the Overcloud and it triggers an upgrade of the Ceph cluster which will be performed without taking down the cluster. environment files that were used to deploy the overcloud that you are about to upgrade. --container-registry-file /home/stack/containers-default-parameters.yaml \ -r /path/to/roles_data.yaml At the end of the process, Ceph will be upgraded from Jewel to Luminous so there will be new containers for the `ceph-mgr` service running on the controlplane node.Finally, run the converge heat stack update. This will re-apply all Queens configuration across all nodes and unset all variables that were used during the upgrade. Until you have successfully completed this step, heat stack updates against the overcloud stack are expected to fail. You can read more about why this is the case in the queens-upgrade-dev-docs_. It is especially important to remember that you **must** include all environment files that were used to deploy the overcloud that you are about to upgrade converge, including the list of Queens container image references and the roles_data.yaml roles and services definition. You should omit any repo switch commands and ensure that none of the environment files you are about to use is specifying a value for UpgradeInitCommand. -e /home/stack/containers-default-parameters.yaml \ -r /path/to/roles_data.yaml The Heat stack will be in the **UPDATE_IN_PROGRESS** state for the duration of the openstack overcloud upgrade converge. Once converge has completed successfully the Heat stack should also be in the **UPDATE_COMPLETE** state. Upgrades to Pike or Queens will only be tested with containers. Baremetal",134,79
openstack%2Ftripleo-docs~master~Ie9f484dcc43e7e3f185b188501ccb1469480367a,openstack/tripleo-docs,master,Ie9f484dcc43e7e3f185b188501ccb1469480367a,Add diagram to fast forward upgrade dev docs,MERGED,2018-10-15 13:16:51.000000000,2018-10-17 20:51:38.000000000,2018-10-17 20:51:37.000000000,"[{'_account_id': 8042}, {'_account_id': 11166}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-10-15 13:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/002d48a5481a1b4dde52f98204c68967b47c2813', 'message': 'Add diagram to fast forward upgrade dev docs\n\nChange-Id: Ie9f484dcc43e7e3f185b188501ccb1469480367a\n'}, {'number': 2, 'created': '2018-10-16 09:33:02.000000000', 'files': ['doc/source/install/developer/upgrades/fast_fw_upgrade.rst', 'doc/source/install/developer/upgrades/fast_fw_upgrade.plantuml', 'doc/source/install/developer/upgrades/fast_fw_upgrade.png'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/25b6426f2f4869ed09598eee483fe8e0ba90099e', 'message': 'Add diagram to fast forward upgrade dev docs\n\nChange-Id: Ie9f484dcc43e7e3f185b188501ccb1469480367a\n'}]",0,610511,25b6426f2f4869ed09598eee483fe8e0ba90099e,12,5,2,8042,,,0,"Add diagram to fast forward upgrade dev docs

Change-Id: Ie9f484dcc43e7e3f185b188501ccb1469480367a
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/11/610511/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/developer/upgrades/fast_fw_upgrade.rst', 'doc/source/install/developer/upgrades/fast_fw_upgrade.plantuml', 'doc/source/install/developer/upgrades/fast_fw_upgrade.png']",3,002d48a5481a1b4dde52f98204c68967b47c2813,lifecycle-dev-docs-overhaul,,,198,0
openstack%2Ftripleo-docs~master~I5f47e3af1a184ca0ec5ad921b3bddc77a04d392e,openstack/tripleo-docs,master,I5f47e3af1a184ca0ec5ad921b3bddc77a04d392e,Fix wording in major upgrade dev docs,MERGED,2018-10-15 09:36:50.000000000,2018-10-17 20:51:38.000000000,2018-10-17 20:51:38.000000000,"[{'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-15 09:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b665d326455477f53860860009d73e1287e5c480', 'message': 'Fix wording in major upgrade dev docs\n\nChange-Id: I5f47e3af1a184ca0ec5ad921b3bddc77a04d392e\n'}, {'number': 2, 'created': '2018-10-16 09:33:02.000000000', 'files': ['doc/source/install/developer/upgrades/major_upgrade.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/8d5a324a0d02dc56a3a1ea6d2f63fdfe365dc627', 'message': 'Fix wording in major upgrade dev docs\n\nChange-Id: I5f47e3af1a184ca0ec5ad921b3bddc77a04d392e\n'}]",0,610467,8d5a324a0d02dc56a3a1ea6d2f63fdfe365dc627,11,3,2,8042,,,0,"Fix wording in major upgrade dev docs

Change-Id: I5f47e3af1a184ca0ec5ad921b3bddc77a04d392e
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/67/610467/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/developer/upgrades/major_upgrade.rst'],1,b665d326455477f53860860009d73e1287e5c480,lifecycle-dev-docs-overhaul,"*converge*, is given in the python-tripleoclient setup.cfg_. All three","*execute*, is given in the python-tripleoclient setup.cfg_. All three",1,1
openstack%2Fpython-manilaclient~stable%2Frocky~I6a18fa58d85f0d75befedba4bac5cc3c116da73c,openstack/python-manilaclient,stable/rocky,I6a18fa58d85f0d75befedba4bac5cc3c116da73c,Don't quote {posargs} in tox.ini,MERGED,2018-10-17 14:35:33.000000000,2018-10-17 20:47:06.000000000,2018-10-17 20:47:06.000000000,"[{'_account_id': 9003}, {'_account_id': 14567}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-10-17 14:35:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/bba03045d2a66099c7419e11b78282c5ddc99fb4', 'message': ""Don't quote {posargs} in tox.ini\n\nQuotes around {posargs} cause the entire string to be combined into one\narg that gets passed to stestr. This prevents passing multiple args\n(e.g. '--concurrency=16 some-regex')\n\nChange-Id: I6a18fa58d85f0d75befedba4bac5cc3c116da73c\n(cherry picked from commit 156a71d2dce625161be98b77738929197fa839a8)\n""}]",0,611339,bba03045d2a66099c7419e11b78282c5ddc99fb4,7,4,1,9003,,,0,"Don't quote {posargs} in tox.ini

Quotes around {posargs} cause the entire string to be combined into one
arg that gets passed to stestr. This prevents passing multiple args
(e.g. '--concurrency=16 some-regex')

Change-Id: I6a18fa58d85f0d75befedba4bac5cc3c116da73c
(cherry picked from commit 156a71d2dce625161be98b77738929197fa839a8)
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/39/611339/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bba03045d2a66099c7419e11b78282c5ddc99fb4,, stestr run {posargs} stestr run {posargs}, stestr run '{posargs}' stestr run '{posargs}',2,2
openstack%2Ftrove~master~I2520aaa18a5f7add4356374bb709513669d8d915,openstack/trove,master,I2520aaa18a5f7add4356374bb709513669d8d915,Increment versioning with pbr instruction,MERGED,2018-10-15 13:47:24.000000000,2018-10-17 20:34:29.000000000,2018-10-17 20:34:29.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 25113}, {'_account_id': 28671}]","[{'number': 1, 'created': '2018-10-15 13:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/30d17b9939646b01edfd1adbef98dc675649f80c', 'message': 'Increment versioning with pbr instruction\n\nWith moving away from required milestone releases, the version numbers\ncalculated by PBR on the master branch will not work for those testing\nupgrades from the last stable release. More details can be found in the\nmailing list post here:\n\n    http://lists.openstack.org/pipermail/openstack-dev/2018-October/135706.html\n\nThis is an empty commit that will cause PBR to increment its calculated\nversion to get around this.\n\nPBR will see the following which will cause it to increment the version:\n\nSem-Ver: feature\n\nPlease merge this patch as soon as possible to support those testing\nupgrades.\n\nChange-Id: I2520aaa18a5f7add4356374bb709513669d8d915\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2018-10-16 10:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e37f79f579f0d7c1781361fa16f75c98786edb3f', 'message': 'Increment versioning with pbr instruction\n\nWith moving away from required milestone releases, the version numbers\ncalculated by PBR on the master branch will not work for those testing\nupgrades from the last stable release. More details can be found in the\nmailing list post here:\n\n    http://lists.openstack.org/pipermail/openstack-dev/2018-October/135706.html\n\nThis is an empty commit that will cause PBR to increment its calculated\nversion to get around this.\n\nPBR will see the following which will cause it to increment the version:\n\nSem-Ver: feature\n\nPlease merge this patch as soon as possible to support those testing\nupgrades.\n\nChange-Id: I2520aaa18a5f7add4356374bb709513669d8d915\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,610523,e37f79f579f0d7c1781361fa16f75c98786edb3f,26,4,2,11904,,,0,"Increment versioning with pbr instruction

With moving away from required milestone releases, the version numbers
calculated by PBR on the master branch will not work for those testing
upgrades from the last stable release. More details can be found in the
mailing list post here:

    http://lists.openstack.org/pipermail/openstack-dev/2018-October/135706.html

This is an empty commit that will cause PBR to increment its calculated
version to get around this.

PBR will see the following which will cause it to increment the version:

Sem-Ver: feature

Please merge this patch as soon as possible to support those testing
upgrades.

Change-Id: I2520aaa18a5f7add4356374bb709513669d8d915
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/trove refs/changes/23/610523/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,30d17b9939646b01edfd1adbef98dc675649f80c,sem-ver,,,0,0
openstack%2Fopenstack-helm~master~Icdf31f88cc43f41fe5b3aee43121f9cd88030ff3,openstack/openstack-helm,master,Icdf31f88cc43f41fe5b3aee43121f9cd88030ff3,added delete_test_user,ABANDONED,2018-10-16 17:07:22.000000000,2018-10-17 20:24:26.000000000,,"[{'_account_id': 17887}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 28701}, {'_account_id': 29161}]","[{'number': 1, 'created': '2018-10-16 17:07:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8a8c3af9932a3bc165ad616c91d4242a8648e6b9', 'message': 'added delete_test_user\n\nAdded a condition which is set to false by default.\nIf we set the condition to true the credentials get deleted.\n\nChange-Id: Icdf31f88cc43f41fe5b3aee43121f9cd88030ff3\n'}, {'number': 2, 'created': '2018-10-16 19:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/94e62d9e050835c75068b47975347e0e68d0607c', 'message': 'added delete_test_user\n\nAdded a condition which is set to true by default.\nCan set it to false if you need to debug an issue.\n\nChange-Id: Icdf31f88cc43f41fe5b3aee43121f9cd88030ff3\n'}, {'number': 3, 'created': '2018-10-17 13:42:26.000000000', 'files': ['keystone/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/30c5a55747cfa9229e47d973af8aa6bb27a624e2', 'message': 'added delete_test_user\n\nAdded a condition which is set to false by default.\nIf we set it to true credentials get deleted.\n\nChange-Id: Icdf31f88cc43f41fe5b3aee43121f9cd88030ff3\n'}]",3,611096,30c5a55747cfa9229e47d973af8aa6bb27a624e2,10,7,3,29161,,,0,"added delete_test_user

Added a condition which is set to false by default.
If we set it to true credentials get deleted.

Change-Id: Icdf31f88cc43f41fe5b3aee43121f9cd88030ff3
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/96/611096/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/values.yaml'],1,8a8c3af9932a3bc165ad616c91d4242a8648e6b9,Rally_test, delete_test_user: false,,1,0
openstack%2Fopenstack-helm-infra~master~I9d06175596552f05d760472e99a400ae8bfbf981,openstack/openstack-helm-infra,master,I9d06175596552f05d760472e99a400ae8bfbf981,Cleanup rally test user,ABANDONED,2018-10-15 14:07:52.000000000,2018-10-17 20:23:52.000000000,,"[{'_account_id': 17887}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28701}, {'_account_id': 29161}]","[{'number': 1, 'created': '2018-10-15 14:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/34b111d428b92697a0436725dd146fa2239ec09b', 'message': 'Cleanup rally test user\n\nAfter the keystone rally test run is completed, user provisioned\nin keystone are removed.\n\nChange-Id: I9d06175596552f05d760472e99a400ae8bfbf981\n'}, {'number': 2, 'created': '2018-10-16 16:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0fbbf9c36739e2e1c0fd7d975cfd055e9626ee3b', 'message': 'Cleanup rally test user\n\nAfter the keystone rally test run is completed, user provisioned\nin keystone are removed.\n\nChange-Id: I9d06175596552f05d760472e99a400ae8bfbf981\n'}, {'number': 3, 'created': '2018-10-16 21:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d8a9e6235ec00a94dad23cb0bdd80506b44426bf', 'message': 'Cleanup rally test user\n\nAfter the keystone rally test run is completed, user provisioned\nin keystone are removed.\n\nChange-Id: I9d06175596552f05d760472e99a400ae8bfbf981\n'}, {'number': 4, 'created': '2018-10-17 13:32:37.000000000', 'files': ['helm-toolkit/templates/scripts/_rally_test.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5b3663678bb143b15da41b5d2a04e9b8ddf68db5', 'message': 'Cleanup rally test user\n\nAfter the keystone rally test run is completed, user provisioned\nin keystone are removed.\n\nChange-Id: I9d06175596552f05d760472e99a400ae8bfbf981\n'}]",4,610580,5b3663678bb143b15da41b5d2a04e9b8ddf68db5,15,8,4,29161,,,0,"Cleanup rally test user

After the keystone rally test run is completed, user provisioned
in keystone are removed.

Change-Id: I9d06175596552f05d760472e99a400ae8bfbf981
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/80/610580/4 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/scripts/_rally_test.sh.tpl'],1,34b111d428b92697a0436725dd146fa2239ec09b,Rally_test,openstack user delete ${SERVICE_OS_USERNAME} openstack project delete ${SERVICE_OS_PROJECT_NAME},,2,0
openstack%2Foctavia-lib~master~I023fe839b39d9d826425aeca5e0fd39dc9c38275,openstack/octavia-lib,master,I023fe839b39d9d826425aeca5e0fd39dc9c38275,Initial cookie-cutter commit for octavia-lib,MERGED,2018-10-12 18:05:32.000000000,2018-10-17 20:21:59.000000000,2018-10-17 20:21:59.000000000,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-12 18:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/c21a96189efee1aaa9826f5e475111cf4c4ce224', 'message': 'Initial cookie-cutter commit for octavia-lib\n\nSetting up the base repository for octavia-lib.\n\nChange-Id: I023fe839b39d9d826425aeca5e0fd39dc9c38275\n'}, {'number': 2, 'created': '2018-10-12 18:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/1e6527f67bf1ebafb9fc4d4e7d7641e32f5b95a0', 'message': 'Initial cookie-cutter commit for octavia-lib\n\nSetting up the base repository for octavia-lib.\n\nChange-Id: I023fe839b39d9d826425aeca5e0fd39dc9c38275\n'}, {'number': 3, 'created': '2018-10-12 21:03:50.000000000', 'files': ['octavia_lib/tests/test_octavia_lib.py', 'doc/source/admin/index.rst', '.gitignore', 'doc/source/install/index.rst', 'test-requirements.txt', 'doc/source/library/index.rst', 'README.rst', 'setup.py', 'zuul.d/projects.yaml', 'releasenotes/source/_templates/.placeholder', 'octavia_lib/tests/base.py', 'octavia_lib/tests/__init__.py', 'doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'releasenotes/notes/Initial-cookiecutter-commit-41d89a60d6328b51.yaml', 'requirements.txt', 'doc/source/contributor/index.rst', 'releasenotes/source/_static/.placeholder', '.coveragerc', 'LICENSE', '.stestr.conf', 'doc/source/reference/index.rst', 'doc/source/user/index.rst', 'babel.cfg', 'doc/source/conf.py', 'lower-constraints.txt', 'releasenotes/source/index.rst', 'doc/source/configuration/index.rst', 'releasenotes/source/unreleased.rst', 'doc/source/index.rst', 'octavia_lib/__init__.py', 'doc/source/cli/index.rst', 'doc/requirements.txt', 'doc/source/readme.rst', 'setup.cfg', 'tox.ini', 'HACKING.rst', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/5f833c77d2172f1e0bb9ea9d66961e50ca80eae1', 'message': 'Initial cookie-cutter commit for octavia-lib\n\nSetting up the base repository for octavia-lib.\n\nChange-Id: I023fe839b39d9d826425aeca5e0fd39dc9c38275\n'}]",0,610133,5f833c77d2172f1e0bb9ea9d66961e50ca80eae1,11,5,3,11628,,,0,"Initial cookie-cutter commit for octavia-lib

Setting up the base repository for octavia-lib.

Change-Id: I023fe839b39d9d826425aeca5e0fd39dc9c38275
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/33/610133/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_lib/tests/test_octavia_lib.py', 'doc/source/admin/index.rst', '.gitignore', 'doc/source/install/index.rst', 'test-requirements.txt', 'doc/source/library/index.rst', 'README.rst', 'setup.py', 'releasenotes/source/_templates/.placeholder', 'octavia_lib/tests/base.py', 'octavia_lib/tests/__init__.py', 'doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'releasenotes/notes/Initial-cookiecutter-commit-41d89a60d6328b51.yaml', 'requirements.txt', 'doc/source/contributor/index.rst', 'releasenotes/source/_static/.placeholder', '.coveragerc', 'LICENSE', '.stestr.conf', 'doc/source/reference/index.rst', 'doc/source/user/index.rst', 'babel.cfg', 'doc/source/conf.py', 'releasenotes/source/index.rst', 'doc/source/configuration/index.rst', 'releasenotes/source/unreleased.rst', 'doc/source/index.rst', 'octavia_lib/__init__.py', 'doc/source/cli/index.rst', 'doc/requirements.txt', 'doc/source/readme.rst', 'setup.cfg', 'tox.ini', 'HACKING.rst', 'releasenotes/source/conf.py']",36,c21a96189efee1aaa9826f5e475111cf4c4ce224,,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # This file is execfile()d with the current directory set to its # containing dir. # # Note that not all possible configuration values are present in this # autogenerated file. # # All configuration values have a default; values that are commented out # serve to show the default. # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. # sys.path.insert(0, os.path.abspath('.')) # -- General configuration ------------------------------------------------ # If your documentation needs a minimal Sphinx version, state it here. # needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'openstackdocstheme', 'reno.sphinxext', ] # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst' # The encoding of source files. # source_encoding = 'utf-8-sig' # The master toctree document. master_doc = 'index' # General information about the project. project = u'octavia_lib Release Notes' copyright = u'2017, OpenStack Developers' # openstackdocstheme options repository_name = 'openstack/octavia-lib' bug_project = 'openstack/octavia-lib' bug_tag = '' html_last_updated_fmt = '%Y-%m-%d %H:%M' # The version info for the project you're documenting, acts as replacement for # |version| and |release|, also used in various other places throughout the # built documents. # # The short X.Y version. # The full version, including alpha/beta/rc tags. release = '' # The short X.Y version. version = '' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. # language = None # There are two options for replacing |today|: either, you set today to some # non-false value, then it is used: # today = '' # Else, today_fmt is used as the format for a strftime call. # today_fmt = '%B %d, %Y' # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. exclude_patterns = [] # The reST default role (used for this markup: `text`) to use for all # documents. # default_role = None # If true, '()' will be appended to :func: etc. cross-reference text. # add_function_parentheses = True # If true, the current module name will be prepended to all description # unit titles (such as .. function::). # add_module_names = True # If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. # show_authors = False # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'sphinx' # A list of ignored prefixes for module index sorting. # modindex_common_prefix = [] # If true, keep warnings as ""system message"" paragraphs in the built documents. # keep_warnings = False # -- Options for HTML output ---------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. html_theme = 'openstackdocs' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. # html_theme_options = {} # Add any paths that contain custom themes here, relative to this directory. # html_theme_path = [] # The name for this set of Sphinx documents. If None, it defaults to # ""<project> v<release> documentation"". # html_title = None # A shorter title for the navigation bar. Default is the same as html_title. # html_short_title = None # The name of an image file (relative to this directory) to place at the top # of the sidebar. # html_logo = None # The name of an image file (within the static path) to use as favicon of the # docs. This file should be a Windows icon file (.ico) being 16x16 or 32x32 # pixels large. # html_favicon = None # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] # Add any extra paths that contain custom files (such as robots.txt or # .htaccess) here, relative to this directory. These files are copied # directly to the root of the documentation. # html_extra_path = [] # If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. # html_last_updated_fmt = '%b %d, %Y' # If true, SmartyPants will be used to convert quotes and dashes to # typographically correct entities. # html_use_smartypants = True # Custom sidebar templates, maps document names to template names. # html_sidebars = {} # Additional templates that should be rendered to pages, maps page names to # template names. # html_additional_pages = {} # If false, no module index is generated. # html_domain_indices = True # If false, no index is generated. # html_use_index = True # If true, the index is split into individual pages for each letter. # html_split_index = False # If true, links to the reST sources are added to the pages. # html_show_sourcelink = True # If true, ""Created using Sphinx"" is shown in the HTML footer. Default is True. # html_show_sphinx = True # If true, ""(C) Copyright ..."" is shown in the HTML footer. Default is True. # html_show_copyright = True # If true, an OpenSearch description file will be output, and all pages will # contain a <link> tag referring to it. The value of this option must be the # base URL from which the finished HTML is served. # html_use_opensearch = '' # This is the file name suffix for HTML files (e.g. "".xhtml""). # html_file_suffix = None # Output file base name for HTML help builder. htmlhelp_basename = 'octavia_libReleaseNotesdoc' # -- Options for LaTeX output --------------------------------------------- latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ ('index', 'octavia_libReleaseNotes.tex', u'octavia_lib Release Notes Documentation', u'OpenStack Foundation', 'manual'), ] # The name of an image file (relative to this directory) to place at the top of # the title page. # latex_logo = None # For ""manual"" documents, if this is true, then toplevel headings are parts, # not chapters. # latex_use_parts = False # If true, show page references after internal links. # latex_show_pagerefs = False # If true, show URL addresses after external links. # latex_show_urls = False # Documents to append as an appendix to all manuals. # latex_appendices = [] # If false, no module index is generated. # latex_domain_indices = True # -- Options for manual page output --------------------------------------- # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ ('index', 'octavia_librereleasenotes', u'octavia_lib Release Notes Documentation', [u'OpenStack Foundation'], 1) ] # If true, show URL addresses after external links. # man_show_urls = False # -- Options for Texinfo output ------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ ('index', 'octavia_lib ReleaseNotes', u'octavia_lib Release Notes Documentation', u'OpenStack Foundation', 'octavia_libReleaseNotes', 'One line description of project.', 'Miscellaneous'), ] # Documents to append as an appendix to all manuals. # texinfo_appendices = [] # If false, no module index is generated. # texinfo_domain_indices = True # How to display URL addresses: 'footnote', 'no', or 'inline'. # texinfo_show_urls = 'footnote' # If true, do not generate a @detailmenu in the ""Top"" node's menu. # texinfo_no_detailmenu = False # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/'] ",,1003,0
openstack%2Fnova~master~I76e02214e958a55b6de8033243b46b259949e5ac,openstack/nova,master,I76e02214e958a55b6de8033243b46b259949e5ac,Merge used_limits extension response into limit view builder,MERGED,2018-09-28 10:52:11.000000000,2018-10-17 20:05:46.000000000,2018-10-17 20:05:46.000000000,"[{'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-09-28 10:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20bcd4ab9937074a7c660f337a61ec13aa6e7e0c', 'message': 'Merge used_limits extension response into limit view builder\n\nAs nova extensions has been deprecated already and goal is to\nmerge all scattered code into main controller side.\nCurrently schema and request/response extended code are there\namong all extensions.\n\nThis commit merge the used_limits extension resposne into limit\nview builder.\n\nPartially implements: blueprint api-extensions-merge-stein\n\nChange-Id: I76e02214e958a55b6de8033243b46b259949e5ac\n'}, {'number': 2, 'created': '2018-09-30 11:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/169923dd8ce63df86454d6796019e98354f8ec8a', 'message': 'Merge used_limits extension response into limit view builder\n\nAs nova extensions has been deprecated already and goal is to\nmerge all scattered code into main controller side.\nCurrently schema and request/response extended code are there\namong all extensions.\n\nThis commit merge the used_limits extension resposne into limit\nview builder.\n\nPartially implements: blueprint api-extensions-merge-stein\n\nChange-Id: I76e02214e958a55b6de8033243b46b259949e5ac\n'}, {'number': 3, 'created': '2018-09-30 12:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a76ead3df6ec7050095a97feedcfa1a03f500aa6', 'message': 'Merge used_limits extension response into limit view builder\n\nAs nova extensions has been deprecated already and goal is to\nmerge all scattered code into main controller side.\nCurrently schema and request/response extended code are there\namong all extensions.\n\nThis commit merge the used_limits extension resposne into limit\nview builder.\n\nPartially implements: blueprint api-extensions-merge-stein\n\nChange-Id: I76e02214e958a55b6de8033243b46b259949e5ac\n'}, {'number': 4, 'created': '2018-10-10 09:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/12634a332bfc1151eb476788f2eb33557b60e887', 'message': 'Merge used_limits extension response into limit view builder\n\nAs nova extensions has been deprecated already and goal is to\nmerge all scattered code into main controller side.\nCurrently schema and request/response extended code are there\namong all extensions.\n\nThis commit merge the used_limits extension resposne into limit\nview builder.\n\nPartially implements: blueprint api-extensions-merge-stein\n\nChange-Id: I76e02214e958a55b6de8033243b46b259949e5ac\n'}, {'number': 5, 'created': '2018-10-11 10:01:51.000000000', 'files': ['nova/api/openstack/compute/routes.py', 'nova/api/openstack/compute/used_limits.py', 'nova/api/openstack/compute/limits.py', 'nova/tests/unit/api/openstack/compute/test_limits.py', 'nova/tests/unit/api/openstack/compute/test_used_limits.py', 'nova/api/openstack/compute/views/limits.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/56707ba941185cd4015e92b1bfb57ab6be07d6dc', 'message': 'Merge used_limits extension response into limit view builder\n\nAs nova extensions has been deprecated already and goal is to\nmerge all scattered code into main controller side.\nCurrently schema and request/response extended code are there\namong all extensions.\n\nThis commit merge the used_limits extension resposne into limit\nview builder.\n\nPartially implements: blueprint api-extensions-merge-stein\n\nChange-Id: I76e02214e958a55b6de8033243b46b259949e5ac\n'}]",16,606031,56707ba941185cd4015e92b1bfb57ab6be07d6dc,92,22,5,8556,,,0,"Merge used_limits extension response into limit view builder

As nova extensions has been deprecated already and goal is to
merge all scattered code into main controller side.
Currently schema and request/response extended code are there
among all extensions.

This commit merge the used_limits extension resposne into limit
view builder.

Partially implements: blueprint api-extensions-merge-stein

Change-Id: I76e02214e958a55b6de8033243b46b259949e5ac
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/606031/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/routes.py', 'nova/api/openstack/compute/used_limits.py', 'nova/api/openstack/compute/limits.py', 'nova/tests/unit/api/openstack/compute/test_limits.py', 'nova/tests/unit/api/openstack/compute/test_used_limits.py', 'nova/api/openstack/compute/views/limits.py']",6,20bcd4ab9937074a7c660f337a61ec13aa6e7e0c,bp/api-extensions-merge-stein,"from nova.api.openstack import api_version_request from nova.policies import used_limits as ul_policies def build(self, request, quotas, filtered_limits=None, quotas, filtered_limits, used_limits = self._build_used_limits( request, quotas) absolute_limits.update(used_limits) def _build_absolute_limits(self, quotas, filtered_limits=None, absolute_limits = {k: v['limit'] for k, v in quotas.items()} def _build_used_limits(self, request, quotas): self._check_requested_project_scope(request) if api_version_request.is_supported( request, min_version= api_version_request.MIN_WITHOUT_PROXY_API_SUPPORT_VERSION): quota_map = { 'totalRAMUsed': 'ram', 'totalCoresUsed': 'cores', 'totalInstancesUsed': 'instances', 'totalServerGroupsUsed': 'server_groups', } else: quota_map = { 'totalRAMUsed': 'ram', 'totalCoresUsed': 'cores', 'totalInstancesUsed': 'instances', 'totalFloatingIpsUsed': 'floating_ips', 'totalSecurityGroupsUsed': 'security_groups', 'totalServerGroupsUsed': 'server_groups', } used_limits = {} for display_name, key in quota_map.items(): if key in quotas: used_limits[display_name] = quotas[key]['in_use'] return used_limits def _check_requested_project_scope(self, request): if 'tenant_id' in request.GET: context = request.environ['nova.context'] tenant_id = request.GET.get('tenant_id') target = { 'project_id': tenant_id, 'user_id': context.user_id } context.can(ul_policies.BASE_POLICY_NAME, target)"," def build(self, absolute_limits, filtered_limits=None, absolute_limits, filtered_limits, def _build_absolute_limits(self, absolute_limits, filtered_limits=None,",245,363
openstack%2Fpuppet-tripleo~master~Ic5c4a6126f42c700a8534c3c4d30f5951e4718ae,openstack/puppet-tripleo,master,Ic5c4a6126f42c700a8534c3c4d30f5951e4718ae,ceilometer: escape % in crontab,MERGED,2018-09-03 15:03:47.000000000,2018-10-17 19:54:33.000000000,2018-10-16 19:16:55.000000000,"[{'_account_id': 2813}, {'_account_id': 3153}, {'_account_id': 6924}, {'_account_id': 8871}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-09-03 15:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/212dd30f0866841d781edb794ffcbc41810e6203', 'message': 'ceilometer: escape % in crontab\n\n% in cron is a reserved character and must be escape.\n\nChange-Id: Ic5c4a6126f42c700a8534c3c4d30f5951e4718ae\nCloses-bug: #1790503\n'}, {'number': 2, 'created': '2018-09-04 08:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a9d2bdfb1807d86003bcbe8830ce56203dc20bcd', 'message': 'ceilometer: escape % in crontab\n\n% in cron is a reserved character and must be escape.\n\nChange-Id: Ic5c4a6126f42c700a8534c3c4d30f5951e4718ae\nCloses-bug: #1790503\n'}, {'number': 3, 'created': '2018-09-04 09:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5299f0c5319009df7c956974f389db99e90d0132', 'message': 'ceilometer: escape % in crontab\n\n% in cron is a reserved character and must be escape.\n\nChange-Id: Ic5c4a6126f42c700a8534c3c4d30f5951e4718ae\nCloses-bug: #1790503\n'}, {'number': 4, 'created': '2018-09-10 14:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/471570ded5d78e119687851f0c5aaebd9eff9e8d', 'message': 'ceilometer: escape % in crontab\n\n% in cron is a reserved character and must be escape.\n\nChange-Id: Ic5c4a6126f42c700a8534c3c4d30f5951e4718ae\nCloses-bug: #1790503\n'}, {'number': 5, 'created': '2018-09-26 14:45:29.000000000', 'files': ['manifests/profile/base/ceilometer/expirer.pp', 'spec/classes/tripleo_profile_base_ceilometer_expirer_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/10074cd5989df1093c4dedde98e28d9a9dcb7de6', 'message': 'ceilometer: escape % in crontab\n\n% in cron is a reserved character and must be escape.\n\nChange-Id: Ic5c4a6126f42c700a8534c3c4d30f5951e4718ae\nCloses-bug: #1790503\n'}]",0,599421,10074cd5989df1093c4dedde98e28d9a9dcb7de6,39,8,5,2813,,,0,"ceilometer: escape % in crontab

% in cron is a reserved character and must be escape.

Change-Id: Ic5c4a6126f42c700a8534c3c4d30f5951e4718ae
Closes-bug: #1790503
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/21/599421/5 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/ceilometer/expirer.pp'],1,212dd30f0866841d781edb794ffcbc41810e6203,bug/1790503," { command => ""sleep $((\$(od -A n -t d -N 3 /dev/urandom) \% 86400)) && ${::ceilometer::params::expirer_command}"" }"," { command => ""sleep $((\$(od -A n -t d -N 3 /dev/urandom) % 86400)) && ${::ceilometer::params::expirer_command}"" }",1,1
openstack%2Fneutron~master~I3e3289f33e62d45933d0fbf165bb4b25078f22d5,openstack/neutron,master,I3e3289f33e62d45933d0fbf165bb4b25078f22d5,use retry_if_session_inactive from neutron-lib,MERGED,2018-10-03 20:58:11.000000000,2018-10-17 19:50:51.000000000,2018-10-17 19:50:51.000000000,"[{'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-10-03 20:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2a0d39600f2060c95f49d6fc4549f86d7a566c47', 'message': 'use retry_if_session_inactive from neutron-lib\n\nThe retry_if_session_inactive decorator was rehomed into neutron-lib\n[1]. This patch consumes it by removing the function from neutron and\nusing neutron-libs version where appropriate.\n\nNeutronLibImpact\n\n[1] https://review.openstack.org/#/c/557040/\n\nChange-Id: I3e3289f33e62d45933d0fbf165bb4b25078f22d5\n'}, {'number': 2, 'created': '2018-10-04 14:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b724c7d528bb9733fe61a169d5aafb22fc28828b', 'message': 'use retry_if_session_inactive from neutron-lib\n\nThe retry_if_session_inactive decorator was rehomed into neutron-lib\n[1]. This patch consumes it by removing the function from neutron and\nusing neutron-libs version where appropriate.\n\nNeutronLibImpact\n\n[1] https://review.openstack.org/#/c/557040/\n\nChange-Id: I3e3289f33e62d45933d0fbf165bb4b25078f22d5\n'}, {'number': 3, 'created': '2018-10-12 21:37:04.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/services/segments/db.py', 'neutron/db/l3_hamode_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/rbac_db_mixin.py', 'neutron/db/l3_db.py', 'neutron/services/tag/tag_plugin.py', 'neutron/services/portforwarding/pf_plugin.py', 'neutron/db/quota/driver.py', 'neutron/plugins/ml2/plugin.py', 'neutron/db/agents_db.py', 'neutron/services/auto_allocate/db.py', 'neutron/db/dvr_mac_db.py', 'neutron/db/quota/api.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/quota/resource.py', 'neutron/db/provisioning_blocks.py', 'neutron/db/api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d9f1c662f0f233815aa6c500963ef1712f30e0a', 'message': 'use retry_if_session_inactive from neutron-lib\n\nThe retry_if_session_inactive decorator was rehomed into neutron-lib\n[1]. This patch consumes it by removing the function from neutron and\nusing neutron-libs version where appropriate.\n\nNeutronLibImpact\n\n[1] https://review.openstack.org/#/c/557040/\n\nChange-Id: I3e3289f33e62d45933d0fbf165bb4b25078f22d5\n'}]",0,607710,6d9f1c662f0f233815aa6c500963ef1712f30e0a,30,11,3,5367,,,0,"use retry_if_session_inactive from neutron-lib

The retry_if_session_inactive decorator was rehomed into neutron-lib
[1]. This patch consumes it by removing the function from neutron and
using neutron-libs version where appropriate.

NeutronLibImpact

[1] https://review.openstack.org/#/c/557040/

Change-Id: I3e3289f33e62d45933d0fbf165bb4b25078f22d5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/607710/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/services/segments/db.py', 'neutron/db/l3_hamode_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/rbac_db_mixin.py', 'neutron/db/l3_db.py', 'neutron/services/tag/tag_plugin.py', 'neutron/services/portforwarding/pf_plugin.py', 'neutron/db/quota/driver.py', 'neutron/plugins/ml2/plugin.py', 'neutron/db/agents_db.py', 'neutron/services/auto_allocate/db.py', 'neutron/db/dvr_mac_db.py', 'neutron/db/quota/api.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/quota/resource.py', 'neutron/db/provisioning_blocks.py', 'neutron/db/api.py']",19,2a0d39600f2060c95f49d6fc4549f86d7a566c47,bp/neutronlib-decouple-db,,"from pecan import util as p_util import sixdef retry_if_session_inactive(context_var_name='context'): """"""Retries only if the session in the context is inactive. Calls a retry_db_errors wrapped version of the function if the context's session passed in is inactive, otherwise it just calls the function directly. This is useful to avoid retrying things inside of a transaction which is ineffective for DB races/errors. This should be used in all cases where retries are desired and the method accepts a context. """""" def decorator(f): try: # NOTE(kevinbenton): we use pecan's util function here because it # deals with the horrors of finding args of already decorated # functions ctx_arg_index = p_util.getargspec(f).args.index(context_var_name) except ValueError: raise RuntimeError(""Could not find position of var %s"" % context_var_name) f_with_retry = api.retry_db_errors(f) @six.wraps(f) def wrapped(*args, **kwargs): # only use retry wrapper if we aren't nested in an active # transaction if context_var_name in kwargs: context = kwargs[context_var_name] else: context = args[ctx_arg_index] method = f if context.session.is_active else f_with_retry return method(*args, **kwargs) return wrapped return decorator ",117,150
openstack%2Fopenstack-helm~master~Id0c5411521adebc8c977fd9a24f511f6925f16d0,openstack/openstack-helm,master,Id0c5411521adebc8c977fd9a24f511f6925f16d0,Keystone: remove rally ec2 credential test,MERGED,2018-10-17 14:59:49.000000000,2018-10-17 19:44:53.000000000,2018-10-17 19:44:53.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 14:59:49.000000000', 'files': ['keystone/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a2c47a78c33eec8761c366e064f0dec2dbaa0d76', 'message': 'Keystone: remove rally ec2 credential test\n\nThis PS removes the rally ec2 credential test. As Rally left old\nencrypted ec2 credentials in the database which were not being\ncleaned up between upgrades and key changes.\n\nChange-Id: Id0c5411521adebc8c977fd9a24f511f6925f16d0\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,611346,a2c47a78c33eec8761c366e064f0dec2dbaa0d76,7,3,1,23928,,,0,"Keystone: remove rally ec2 credential test

This PS removes the rally ec2 credential test. As Rally left old
encrypted ec2 credentials in the database which were not being
cleaned up between upgrades and key changes.

Change-Id: Id0c5411521adebc8c977fd9a24f511f6925f16d0
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/46/611346/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/values.yaml'],1,a2c47a78c33eec8761c366e064f0dec2dbaa0d76,remove-ec2-test,, KeystoneBasic.create_and_list_ec2credentials: - runner: concurrency: 1 times: 1 type: constant sla: failure_rate: max: 0,0,8
openstack%2Fkeystone~master~Ifd70bbc86ef5f718ead2d2caead8b652126ecc9a,openstack/keystone,master,Ifd70bbc86ef5f718ead2d2caead8b652126ecc9a,Remove incorrect copyright notice.,MERGED,2018-10-16 05:14:12.000000000,2018-10-17 19:29:06.000000000,2018-10-17 19:29:06.000000000,"[{'_account_id': 2903}, {'_account_id': 8871}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 05:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/eea53e2aa9c7b65e104325d09a8a77e2e3e0b2fd', 'message': 'Remove incorrect copyright notice.\n\nChange-Id: Ifd70bbc86ef5f718ead2d2caead8b652126ecc9a\n'}, {'number': 2, 'created': '2018-10-16 05:15:04.000000000', 'files': ['keystone/api/_shared/EC2_S3_Resource.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/708b775d4954e8554972d1c9f758ea27ba4cab6a', 'message': 'Remove incorrect copyright notice.\n\nA copyright line should not have been added assigning the copyright\nto the foundation. This was incorrect and has been removed.\n\nChange-Id: Ifd70bbc86ef5f718ead2d2caead8b652126ecc9a\n'}]",0,610879,708b775d4954e8554972d1c9f758ea27ba4cab6a,13,5,2,2903,,,0,"Remove incorrect copyright notice.

A copyright line should not have been added assigning the copyright
to the foundation. This was incorrect and has been removed.

Change-Id: Ifd70bbc86ef5f718ead2d2caead8b652126ecc9a
",git fetch https://review.opendev.org/openstack/keystone refs/changes/79/610879/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,eea53e2aa9c7b65e104325d09a8a77e2e3e0b2fd,bug/1776504,,,0,0
openstack%2Fopenstack-ansible-galera_server~stable%2Fqueens~I7d1f07878dba7d21aecd59fa75e9117b50b886e6,openstack/openstack-ansible-galera_server,stable/queens,I7d1f07878dba7d21aecd59fa75e9117b50b886e6,Clean up role tests,MERGED,2018-10-17 15:28:23.000000000,2018-10-17 19:23:47.000000000,2018-10-17 19:23:47.000000000,"[{'_account_id': 13095}, {'_account_id': 17799}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 15:28:23.000000000', 'files': ['tests/test-galera-upgrades.sh', 'tests/test-install-previous-galera.yml', 'tests/test-upgrade-pre.yml', 'tests/test-upgrade-post.yml', 'zuul.d/project.yaml', 'tests/test.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/7e970a476deea040aa4d1ac50b976fff43a90499', 'message': ""Clean up role tests\n\nNow that we're using the general templates, we can slim down\nthe role test definitions. We can also remove tests which are\nnot being watched, or which are fundamentally broken. With\nthis we can also remove unused scripts/plays.\n\nWe do the following:\n\n1. We remove the 'upgrade' job, given that it's been broken\n   all cycle due to the way the job executes and we need to\n   regroup to figure out another way to do it.\n\nChange-Id: I7d1f07878dba7d21aecd59fa75e9117b50b886e6\n(cherry picked from commit 8002ca2204ad6a012e9f59a3e3ef0cb1cbd9f001)\n""}]",0,611362,7e970a476deea040aa4d1ac50b976fff43a90499,8,4,1,6816,,,0,"Clean up role tests

Now that we're using the general templates, we can slim down
the role test definitions. We can also remove tests which are
not being watched, or which are fundamentally broken. With
this we can also remove unused scripts/plays.

We do the following:

1. We remove the 'upgrade' job, given that it's been broken
   all cycle due to the way the job executes and we need to
   regroup to figure out another way to do it.

Change-Id: I7d1f07878dba7d21aecd59fa75e9117b50b886e6
(cherry picked from commit 8002ca2204ad6a012e9f59a3e3ef0cb1cbd9f001)
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/62/611362/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-galera-upgrades.sh', 'tests/test-install-previous-galera.yml', 'tests/test-upgrade-pre.yml', 'tests/test-upgrade-post.yml', 'zuul.d/project.yaml', 'tests/test.yml', 'tox.ini']",7,7e970a476deea040aa4d1ac50b976fff43a90499,cleanup-role-tests-stable/queens,,"[testenv:upgrade] deps = {[testenv:ansible]deps} setenv = {[testenv]setenv} ANSIBLE_OVERRIDES={toxinidir}/tests/galera_server-overrides.yml CLONE_UPGRADE_TESTS=yes commands = bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/test-galera-upgrades.sh""",2,199
openstack%2Fopenstack-ansible-galera_server~stable%2Fpike~Ib3ad0dc58352cabb6157a98d1d12fa788b4a0a68,openstack/openstack-ansible-galera_server,stable/pike,Ib3ad0dc58352cabb6157a98d1d12fa788b4a0a68,Remove wsrep-new-cluster from cluster.cnf,MERGED,2018-10-16 14:23:31.000000000,2018-10-17 19:23:46.000000000,2018-10-17 19:23:46.000000000,"[{'_account_id': 290}, {'_account_id': 6816}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 28288}]","[{'number': 1, 'created': '2018-10-16 14:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/4e2ab98be2819e2d0d1b82e6867f931bea54dfc2', 'message': ""Remove wsrep-new-cluster from cluster.cnf\n\nDuring upgrade, the wsrep-new-cluster is added to the\ncluster.cnf file as a fall back in case the mysql bootstrap\ncommand does not work.  The problem with this is that node1\nalways attempts to start a new cluster which causes issues during\na Galera upgrade or a rolling restart as node1 refuses to\ncome on-line and join the other nodes in the cluster.\n\nThis commit removes the value from the configuration file after\nbootstrap so that it's only used during the playbook if needed\nand isn't around for production operations.\n\nChange-Id: Ib3ad0dc58352cabb6157a98d1d12fa788b4a0a68\n""}, {'number': 2, 'created': '2018-10-17 15:33:48.000000000', 'files': ['tasks/galera_bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/0a6d9621e9df73b68da9f123ecaa63f1f5de8ab7', 'message': ""Remove wsrep-new-cluster from cluster.cnf\n\nDuring upgrade, the wsrep-new-cluster is added to the\ncluster.cnf file as a fall back in case the mysql bootstrap\ncommand does not work.  The problem with this is that node1\nalways attempts to start a new cluster which causes issues during\na Galera upgrade or a rolling restart as node1 refuses to\ncome on-line and join the other nodes in the cluster.\n\nThis commit removes the value from the configuration file after\nbootstrap so that it's only used during the playbook if needed\nand isn't around for production operations.\n\nChange-Id: Ib3ad0dc58352cabb6157a98d1d12fa788b4a0a68\n""}]",0,610992,0a6d9621e9df73b68da9f123ecaa63f1f5de8ab7,14,5,2,290,,,0,"Remove wsrep-new-cluster from cluster.cnf

During upgrade, the wsrep-new-cluster is added to the
cluster.cnf file as a fall back in case the mysql bootstrap
command does not work.  The problem with this is that node1
always attempts to start a new cluster which causes issues during
a Galera upgrade or a rolling restart as node1 refuses to
come on-line and join the other nodes in the cluster.

This commit removes the value from the configuration file after
bootstrap so that it's only used during the playbook if needed
and isn't around for production operations.

Change-Id: Ib3ad0dc58352cabb6157a98d1d12fa788b4a0a68
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/92/610992/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/galera_bootstrap.yml'],1,4e2ab98be2819e2d0d1b82e6867f931bea54dfc2,remove_wsrep-new-cluster," - name: Remove wsrep-new-cluster from configuration file once bootstrapped lineinfile: regexp: '^wsrep-new-cluster' state: absent dest: ""{{ galera_etc_include_dir }}/cluster.cnf""",,6,0
openstack%2Fopenstack-ansible-galera_server~stable%2Fpike~Iefa7b72ea1fa6743fb8486af663512c2ffe1c31d,openstack/openstack-ansible-galera_server,stable/pike,Iefa7b72ea1fa6743fb8486af663512c2ffe1c31d,Enable the xinetd service for reboot,MERGED,2018-09-27 15:21:15.000000000,2018-10-17 19:23:46.000000000,2018-10-17 19:23:46.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-27 15:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/bba9ad46042fda4fac9122d1995979e2153187dd', 'message': 'Enable the xinetd service for reboot\n\nIf the Galera container is rebooted, the xinetd service should be\nstarted. Otherwise the haproxy health check will fail and haproxy will\nnot forward database connections.\n\nChange-Id: Iefa7b72ea1fa6743fb8486af663512c2ffe1c31d\n(cherry picked from commit 9fee5107c24880c8365cc2c1905a804cb86ee770)\n'}, {'number': 2, 'created': '2018-10-17 15:33:57.000000000', 'files': ['tasks/galera_post_install.yml', 'handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/e7b5400493bff79d526debd2643856a15c3f0272', 'message': 'Enable the xinetd service for reboot\n\nIf the Galera container is rebooted, the xinetd service should be\nstarted. Otherwise the haproxy health check will fail and haproxy will\nnot forward database connections.\n\nChange-Id: Iefa7b72ea1fa6743fb8486af663512c2ffe1c31d\n(cherry picked from commit 9fee5107c24880c8365cc2c1905a804cb86ee770)\n'}]",0,605778,e7b5400493bff79d526debd2643856a15c3f0272,21,5,2,19298,,,0,"Enable the xinetd service for reboot

If the Galera container is rebooted, the xinetd service should be
started. Otherwise the haproxy health check will fail and haproxy will
not forward database connections.

Change-Id: Iefa7b72ea1fa6743fb8486af663512c2ffe1c31d
(cherry picked from commit 9fee5107c24880c8365cc2c1905a804cb86ee770)
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/78/605778/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/galera_post_install.yml', 'handlers/main.yml']",2,bba9ad46042fda4fac9122d1995979e2153187dd,enable_xinetd-stable/pike, enabled: true,,10,0
openstack%2Fopenstack-ansible-galera_server~stable%2Fpike~I7654820f91fbb036ab4d4a6234c0ccec148a503a,openstack/openstack-ansible-galera_server,stable/pike,I7654820f91fbb036ab4d4a6234c0ccec148a503a,Allow configuration of startup timeout,MERGED,2018-09-25 08:13:27.000000000,2018-10-17 19:23:45.000000000,2018-10-17 19:23:45.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-25 08:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/5db0457f34b921a7da7a0f26891fe3f696017fce', 'message': 'Allow configuration of startup timeout\n\nSST transfers of large databases can easily take longer than 30 minutes,\ncausing the mysql process to restart over and over and never complete\nits sync to rejoin the cluster.\n\nChange-Id: I7654820f91fbb036ab4d4a6234c0ccec148a503a\n(cherry picked from commit dde19945c606dd096a2e79262e74eadfce4f0d34)\n'}, {'number': 2, 'created': '2018-10-17 15:34:08.000000000', 'files': ['templates/systemd.timeout.conf.j2', 'templates/mysql_defaults.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/c909fd2bdd426d2bce76aac4eb696d10d0dc7dcf', 'message': 'Allow configuration of startup timeout\n\nSST transfers of large databases can easily take longer than 30 minutes,\ncausing the mysql process to restart over and over and never complete\nits sync to rejoin the cluster.\n\nChange-Id: I7654820f91fbb036ab4d4a6234c0ccec148a503a\n(cherry picked from commit dde19945c606dd096a2e79262e74eadfce4f0d34)\n'}]",0,604999,c909fd2bdd426d2bce76aac4eb696d10d0dc7dcf,12,4,2,6816,,,0,"Allow configuration of startup timeout

SST transfers of large databases can easily take longer than 30 minutes,
causing the mysql process to restart over and over and never complete
its sync to rejoin the cluster.

Change-Id: I7654820f91fbb036ab4d4a6234c0ccec148a503a
(cherry picked from commit dde19945c606dd096a2e79262e74eadfce4f0d34)
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/99/604999/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/systemd.timeout.conf.j2', 'templates/mysql_defaults.j2', 'defaults/main.yml']",3,5db0457f34b921a7da7a0f26891fe3f696017fce,configurable-timeout-stable/pike,# Increase this value if large SST transfers cause mysql startup to fail due # to timeout galera_startup_timeout: 1800,,5,2
openstack%2Fopenstack-ansible-galera_server~stable%2Fpike~I7d1f07878dba7d21aecd59fa75e9117b50b886e6,openstack/openstack-ansible-galera_server,stable/pike,I7d1f07878dba7d21aecd59fa75e9117b50b886e6,Clean up role tests,MERGED,2018-10-17 15:30:44.000000000,2018-10-17 19:22:16.000000000,2018-10-17 19:22:16.000000000,"[{'_account_id': 13095}, {'_account_id': 17799}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 15:30:44.000000000', 'files': ['tests/test-galera-upgrades.sh', 'tests/test-install-previous-galera.yml', 'tests/test-upgrade-pre.yml', 'tests/test-upgrade-post.yml', 'zuul.d/project.yaml', 'tests/test.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/79a67dff931e0c1b4df91f63ab2d37d2703932bd', 'message': ""Clean up role tests\n\nNow that we're using the general templates, we can slim down\nthe role test definitions. We can also remove tests which are\nnot being watched, or which are fundamentally broken. With\nthis we can also remove unused scripts/plays.\n\nWe do the following:\n\n1. We remove the 'upgrade' job, given that it's been broken\n   all cycle due to the way the job executes and we need to\n   regroup to figure out another way to do it.\n\nChange-Id: I7d1f07878dba7d21aecd59fa75e9117b50b886e6\n(cherry picked from commit 8002ca2204ad6a012e9f59a3e3ef0cb1cbd9f001)\n""}]",0,611364,79a67dff931e0c1b4df91f63ab2d37d2703932bd,8,4,1,6816,,,0,"Clean up role tests

Now that we're using the general templates, we can slim down
the role test definitions. We can also remove tests which are
not being watched, or which are fundamentally broken. With
this we can also remove unused scripts/plays.

We do the following:

1. We remove the 'upgrade' job, given that it's been broken
   all cycle due to the way the job executes and we need to
   regroup to figure out another way to do it.

Change-Id: I7d1f07878dba7d21aecd59fa75e9117b50b886e6
(cherry picked from commit 8002ca2204ad6a012e9f59a3e3ef0cb1cbd9f001)
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/64/611364/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-galera-upgrades.sh', 'tests/test-install-previous-galera.yml', 'tests/test-upgrade-pre.yml', 'tests/test-upgrade-post.yml', 'zuul.d/project.yaml', 'tests/test.yml', 'tox.ini']",7,79a67dff931e0c1b4df91f63ab2d37d2703932bd,cleanup-role-tests-stable/pike,,"[testenv:upgrade] deps = {[testenv:ansible]deps} setenv = {[testenv]setenv} ANSIBLE_OVERRIDES={toxinidir}/tests/galera_server-overrides.yml CLONE_UPGRADE_TESTS=yes commands = bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/test-galera-upgrades.sh""",2,183
openstack%2Ftempest~master~I4f3e40995e2719bc449621d3056b1a6142c1d48f,openstack/tempest,master,I4f3e40995e2719bc449621d3056b1a6142c1d48f,Make tempest-full-py3 not run for unit tests change,MERGED,2018-10-16 06:03:16.000000000,2018-10-17 19:10:54.000000000,2018-10-17 19:10:54.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-10-16 06:03:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/47b1437b9fc7427995216d1bcda67fd5e8b48d47', 'message': ""Make tempest-full-py3 not run for unit tests change\n\nThis commit makes the tempest-full-py3 job not run for unit test\nchange because it's meaningless and it just consumes our gate machine\nresources.\n\nChange-Id: I4f3e40995e2719bc449621d3056b1a6142c1d48f\n""}]",0,610880,47b1437b9fc7427995216d1bcda67fd5e8b48d47,12,4,1,5689,,,0,"Make tempest-full-py3 not run for unit tests change

This commit makes the tempest-full-py3 job not run for unit test
change because it's meaningless and it just consumes our gate machine
resources.

Change-Id: I4f3e40995e2719bc449621d3056b1a6142c1d48f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/80/610880/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,47b1437b9fc7427995216d1bcda67fd5e8b48d47,dont-exec-tempest-full-py3-for-unittest-change, - tempest-full-py3: irrelevant-files: *tempest-irrelevant-files,,2,0
openstack%2Fopenstack-helm-infra~master~Id95f78afef44103a834312d0667d49947ee803a4,openstack/openstack-helm-infra,master,Id95f78afef44103a834312d0667d49947ee803a4,Ceph-mgr: make liveness to check through admin scoket,MERGED,2018-10-16 12:56:38.000000000,2018-10-17 18:31:22.000000000,2018-10-17 18:31:22.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28372}, {'_account_id': 29053}, {'_account_id': 29268}]","[{'number': 1, 'created': '2018-10-16 12:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9487229d73fa0d6ffdc16859828e9120491138f2', 'message': 'Ceph: make mgr liveness script not to resolve mon hostname\n\nThis is ajust the mgr liveness script to use socket instead of mon fqdn\n\nChange-Id: Id95f78afef44103a834312d0667d49947ee803a4\nCo-Authored-By: Jean-Charles Lopez <jl970p@att.com>\n'}, {'number': 2, 'created': '2018-10-16 14:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/46fa35b792705009cfd813f5827aa3d0182f2c35', 'message': 'Ceph-mgr: make liveness to check through admin scoket\n\nThis is to update the mgr liveness script to use admin socket instead of resolving\nceph  mon fqdn\n\nChange-Id: Id95f78afef44103a834312d0667d49947ee803a4\nCo-Authored-By: Jean-Charles Lopez <jl970p@att.com>\n'}, {'number': 3, 'created': '2018-10-16 18:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6c0e300aecde746524d294013d9c1e30cda1210c', 'message': 'Ceph-mgr: make liveness to check through admin scoket\n\nThis is to update the mgr liveness script to use admin socket instead of resolving\nceph  mon fqdn\n\nChange-Id: Id95f78afef44103a834312d0667d49947ee803a4\nCo-Authored-By: Jean-Charles Lopez <jl970p@att.com>\n'}, {'number': 4, 'created': '2018-10-16 19:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/98b47408f5170a95b94f71249692312c2e4d6a6b', 'message': 'Ceph-mgr: make liveness to check through admin scoket\n\nThis is to update the mgr liveness script to use admin socket\ninstead of resolving ceph  mon fqdn\n\nChange-Id: Id95f78afef44103a834312d0667d49947ee803a4\nCo-Authored-By: Jean-Charles Lopez <jl970p@att.com>\n'}, {'number': 5, 'created': '2018-10-16 21:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/808481237addc88e8f5ae41d21f69502309c6e38', 'message': 'Ceph-mgr: make liveness to check through admin scoket\n\nThis is to update the mgr liveness script to use admin socket\ninstead of resolving ceph  mon fqdn\n\nChange-Id: Id95f78afef44103a834312d0667d49947ee803a4\nCo-Authored-By: Jean-Charles Lopez <jl970p@att.com>\n'}, {'number': 6, 'created': '2018-10-16 21:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a42b11ade05ba4f94fdc94f94b2b4604044576d5', 'message': 'Ceph-mgr: make liveness to check through admin scoket\n\nThis is to update the mgr liveness script to use admin socket\ninstead of resolving ceph  mon fqdn\n\nChange-Id: Id95f78afef44103a834312d0667d49947ee803a4\nCo-Authored-By: Jean-Charles Lopez <jl970p@att.com>\n'}, {'number': 7, 'created': '2018-10-17 01:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ea98bbb1eabaa50404c86370d47e897eeab4bebf', 'message': 'Ceph-mgr: make liveness to check through admin scoket\n\nThis is to update the mgr liveness script to use admin socket\ninstead of resolving ceph  mon fqdn\n\nChange-Id: Id95f78afef44103a834312d0667d49947ee803a4\nCo-Authored-By: Jean-Charles Lopez <jl970p@att.com>\n'}, {'number': 8, 'created': '2018-10-17 14:40:42.000000000', 'files': ['ceph-client/templates/bin/mgr/_check.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/793b3631b5c49b6a43cb69856ebd07f8d6848318', 'message': 'Ceph-mgr: make liveness to check through admin scoket\n\nThis is to update the mgr liveness script to use admin socket\ninstead of resolving ceph  mon fqdn\n\nChange-Id: Id95f78afef44103a834312d0667d49947ee803a4\nCo-Authored-By: Jean-Charles Lopez <jl970p@att.com>\n'}]",10,610958,793b3631b5c49b6a43cb69856ebd07f8d6848318,31,6,8,28372,,,0,"Ceph-mgr: make liveness to check through admin scoket

This is to update the mgr liveness script to use admin socket
instead of resolving ceph  mon fqdn

Change-Id: Id95f78afef44103a834312d0667d49947ee803a4
Co-Authored-By: Jean-Charles Lopez <jl970p@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/58/610958/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-client/templates/bin/mgr/_check.sh.tpl'],1,9487229d73fa0d6ffdc16859828e9120491138f2,,"# IS_MGR_AVAIL=$(ceph --cluster ""${CLUSTER}"" mgr dump | python -c ""import json, sys; print json.load(sys.stdin)['available']"") # # if [ ""${IS_MGR_AVAIL}"" = True ]; then # exit 0 # else # exit 1 # fi # # Just have to verify that the daemon is responsive. To do so, we will simply query # the daemon through its admin socket. If we get an answer it means the MGR is alive # ASOK=$(ls /var/run/ceph/${CLUSTER}-mgr*) MGR_NAME=$(basename ${ASOK} | sed -e 's/.asok//' | cut -d. -f2) MGR_STATE=$(ceph --cluster ${CLUSTER} --connect-timeout 1 daemon mgr.${MGR_NAME} config get debug_mgr|grep '""debug_mgr"": ""') if [ $? = 0 ]; then echo $MGR_STATE"," IS_MGR_AVAIL=$(ceph --cluster ""${CLUSTER}"" mgr dump | python -c ""import json, sys; print json.load(sys.stdin)['available']"") if [ ""${IS_MGR_AVAIL}"" = True ]; then",17,3
openstack%2Fos-client-config~stable%2Fqueens~I6b93cb54eb2581a8883bf1c27a19b9dd58874c0c,openstack/os-client-config,stable/queens,I6b93cb54eb2581a8883bf1c27a19b9dd58874c0c,import zuul job settings from project-config,MERGED,2018-10-15 15:57:48.000000000,2018-10-17 18:24:49.000000000,2018-10-17 18:24:49.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-15 15:57:48.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/dede7ddee9f55a7ded962a78df24be3941ce1c26', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: I6b93cb54eb2581a8883bf1c27a19b9dd58874c0c\nStory: #2002586\nTask: #24321\n'}]",0,610630,dede7ddee9f55a7ded962a78df24be3941ce1c26,6,2,1,17499,,,0,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I6b93cb54eb2581a8883bf1c27a19b9dd58874c0c
Story: #2002586
Task: #24321
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/30/610630/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dede7ddee9f55a7ded962a78df24be3941ce1c26,python3-first,, name: openstack/os-client-config,0,1
openstack%2Fpython-senlinclient~master~I519f191381b4eb423cdec72bda2a62106a99c236,openstack/python-senlinclient,master,I519f191381b4eb423cdec72bda2a62106a99c236,Don't quote {posargs} in tox.ini,MERGED,2018-10-09 14:05:09.000000000,2018-10-17 18:16:05.000000000,2018-10-17 18:16:05.000000000,"[{'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23517}, {'_account_id': 26297}, {'_account_id': 27224}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-10-09 14:05:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/5deedab653bfa1bf36a989e47e5f7fc288f5bb3d', 'message': ""Don't quote {posargs} in tox.ini\n\nQuotes around {posargs} cause the entire string to be combined into one\narg that gets passed to stestr. This prevents passing multiple args\n(e.g. '--concurrency=16 some-regex')\n\nChange-Id: I519f191381b4eb423cdec72bda2a62106a99c236\n""}]",0,609005,5deedab653bfa1bf36a989e47e5f7fc288f5bb3d,12,8,1,28543,,,0,"Don't quote {posargs} in tox.ini

Quotes around {posargs} cause the entire string to be combined into one
arg that gets passed to stestr. This prevents passing multiple args
(e.g. '--concurrency=16 some-regex')

Change-Id: I519f191381b4eb423cdec72bda2a62106a99c236
",git fetch https://review.opendev.org/openstack/python-senlinclient refs/changes/05/609005/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5deedab653bfa1bf36a989e47e5f7fc288f5bb3d,, stestr run {posargs}, stestr run '{posargs}',1,1
openstack%2Ftripleo-common~master~I048a5697fed269a6a27e82aca884cb9076fa0785,openstack/tripleo-common,master,I048a5697fed269a6a27e82aca884cb9076fa0785,Change ceph-ansible fetch directory format on upgrade from Q to R,MERGED,2018-10-04 01:43:58.000000000,2018-10-17 18:02:19.000000000,2018-10-17 17:53:56.000000000,"[{'_account_id': 6796}, {'_account_id': 8042}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-04 01:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/eaca67f38ab8a34de8efec2df6aeeb146ce965f7', 'message': 'Change ceph-ansible fetch directory format on upgrade from Q to R\n\nIf the name of the tarball containing the ceph-ansible fetch directory\nmatches the format found in Queens, then rename it to match the format\nexpected in Rocky. I.e if temporary_dir-20180915-191756.tar.gz is found\nthen rename it to temporary_dir.tar.gz. This workflow is idempotent and\nshould be run before upgrading from Queens to Rocky.\n\nChange-Id: I048a5697fed269a6a27e82aca884cb9076fa0785\nFixes-Bug: #1795513\n'}, {'number': 2, 'created': '2018-10-04 01:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1fa10834d2c101c497c9651274638b737bac65d3', 'message': 'Change ceph-ansible fetch directory format on upgrade from Q to R\n\nIf the name of the tarball containing the ceph-ansible fetch directory\nmatches the format found in Queens, then rename it to match the format\nexpected in Rocky. I.e if temporary_dir-20180915-191756.tar.gz is found\nthen rename it to temporary_dir.tar.gz. This workflow is idempotent and\nshould be run before upgrading from Queens to Rocky.\n\nChange-Id: I048a5697fed269a6a27e82aca884cb9076fa0785\nFixes-Bug: #1795513\n'}, {'number': 3, 'created': '2018-10-16 13:59:36.000000000', 'files': ['workbooks/plan_management.yaml', 'workbooks/rename_ceph_ansible_fetch_directory.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9cb8175139cfe29e83a9273705de9be297414a7d', 'message': 'Change ceph-ansible fetch directory format on upgrade from Q to R\n\nIf the name of the tarball containing the ceph-ansible fetch directory\nmatches the format found in Queens, then rename it to match the format\nexpected in Rocky. I.e if temporary_dir-20180915-191756.tar.gz is found\nthen rename it to temporary_dir.tar.gz. This workflow is idempotent and\nshould be run before upgrading from Queens to Rocky.\n\nChange-Id: I048a5697fed269a6a27e82aca884cb9076fa0785\nFixes-Bug: #1795513\n'}]",2,607764,9cb8175139cfe29e83a9273705de9be297414a7d,17,5,3,18002,,,0,"Change ceph-ansible fetch directory format on upgrade from Q to R

If the name of the tarball containing the ceph-ansible fetch directory
matches the format found in Queens, then rename it to match the format
expected in Rocky. I.e if temporary_dir-20180915-191756.tar.gz is found
then rename it to temporary_dir.tar.gz. This workflow is idempotent and
should be run before upgrading from Queens to Rocky.

Change-Id: I048a5697fed269a6a27e82aca884cb9076fa0785
Fixes-Bug: #1795513
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/64/607764/2 && git format-patch -1 --stdout FETCH_HEAD,"['workbooks/plan_management.yaml', 'workbooks/rename_ceph_ansible_fetch_directory.yaml']",2,eaca67f38ab8a34de8efec2df6aeeb146ce965f7,bug/1795513,"--- version: '2.0' name: tripleo.rename_ceph_ansible_fetch_directory.v1 description: TripleO rename ceph-ansible fetch directory backup in Swift Workflow v1 workflows: check_and_rename: description: > If the name of the tarball containing the ceph-ansible fetch directory matches the format found in Queens, then rename it to match the format expected in Rocky. I.e if temporary_dir-20180915-191756.tar.gz is found then rename it to temporary_dir.tar.gz. This workflow is idempotent and should be run before upgrading from Queens to Rocky. input: - container: overcloud - queue_name: tripleo - container_suffix: ""_ceph_ansible_fetch_dir"" - swift_tar: ""temporary_dir.tar.gz"" tags: - tripleo-common-managed tasks: swift_container: publish: swift_container: ""<% $.container %><% $.container_suffix %>"" on-complete: verify_container_exists verify_container_exists: action: swift.head_container container=<% $.swift_container %> on-success: get_object_list on-error: verify_container_exists_set_status_failed get_object_list: # the get_container result[1] will be a list of objects (even if list is empty) action: swift.get_container container=<% $.swift_container %> publish: object_list: <% task().result[1] %> on-success: set_need_rename on-error: get_object_list_set_status_failed set_need_rename: # if the list is empty, do not rename; otherwise check if name matches queens pattern publish: need_rename: <% switch($.object_list.len() = 0 => false, $.object_list.len() = 1 => $.object_list.first().get(""name"").matches(""temporary_dir-[0-9]{4}(0[1-9]|1[0-2])(0[1-9]|[1-2][0-9]|3[0-1])-(2[0-3]|[01][0-9])[0-5][0-9][0-5][0-9].tar.gz"")) %> on-success: switch_on_need_rename on-error: set_need_rename_set_status_failed switch_on_need_rename: on-success: - copy_to_new_name: <% $.need_rename = true %> - set_status_success: <% $.need_rename != true %> copy_to_new_name: action: swift.copy_object container=<% $.swift_container %> obj=<% $.object_list.first().get(""name"") %> destination=<% concat($.swift_container, '/', $.swift_tar) %> on-success: remove_old_name on-error: copy_to_new_name_set_status_failed remove_old_name: action: swift.delete_object container=<% $.swift_container %> obj=<% $.object_list.first().get(""name"") %> on-success: set_status_success on-error: remove_old_name_set_status_failed set_status_success: on-success: notify_zaqar publish: status: SUCCESS message: <% task(need_rename).result %> verify_container_exists_set_status_failed: on-success: notify_zaqar publish: status: FAILED message: <% task(verify_container_exists).result %> get_object_list_set_status_failed: on-success: notify_zaqar publish: status: FAILED message: <% task(get_object_list).result %> set_need_rename_set_status_failed: on-success: notify_zaqar publish: status: FAILED message: <% task(set_need_rename).result %> copy_to_new_name_set_status_failed: on-success: notify_zaqar publish: status: FAILED message: <% task(copy_to_new_name).result %> remove_old_name_set_status_failed: on-success: notify_zaqar publish: status: FAILED message: <% task(remove_old_name).result %> notify_zaqar: workflow: tripleo.messaging.v1.send input: queue_name: <% $.queue_name %> type: <% execution().name %> status: <% $.get('status', 'SUCCESS') %> message: <% $.get('message', '') %> execution: <% execution() %> ",,122,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I51a1dad5f422756d0a8c4deff81c170be7d944d3,openstack/tripleo-heat-templates,stable/queens,I51a1dad5f422756d0a8c4deff81c170be7d944d3,[Queens/Pike] Re-registry with new rhel_reg parameters on upgrade.,MERGED,2018-10-10 15:36:56.000000000,2018-10-17 17:53:59.000000000,2018-10-17 17:53:59.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 28522}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-10-10 15:36:56.000000000', 'files': ['extraconfig/pre_deploy/rhel-registration/scripts/rhel-registration', 'environments/lifecycle/upgrade-converge.yaml', 'environments/lifecycle/upgrade-prepare.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/18987fbe32316e3ed8c7afcc3bf6199a10d0ee8b', 'message': '[Queens/Pike] Re-registry with new rhel_reg parameters on upgrade.\n\nCurrently, when the overcloud nodes were registered in Satellite\nor portal during deployment via extraconfig/pre_deploy/rhel-registration\nand an upgrade is performed passing different values for rhel_reg_repos\nthese changes are not taken into account. As a consequence, we end up\nrunning the upgrade steps with the previous repositories configured\nduring deployment.\n\nThis patch allows us to re-register using the --force option using\nthe new values inserted at the pre-upgrade step. To allow this, we\nmake use of the RHELRegistrationAction parameter to change the\naction in which the RHELRegistrationDeployment resource is run.\nBy setting it to UPDATE, the SoftwareDeployment resource will\nbe triggered during the stack update which takes place in the\nupgrade. Passing the force option will force the re-execution\nof rhel-registration script even though it was executed previously\nduring deployment (bypassing the /mnt/state/var/lib/rhsm/rhsm.ok\nguard.\n\nChange-Id: I51a1dad5f422756d0a8c4deff81c170be7d944d3\nRelated-Bug: #1797138\n'}]",0,609457,18987fbe32316e3ed8c7afcc3bf6199a10d0ee8b,13,8,1,26343,,,0,"[Queens/Pike] Re-registry with new rhel_reg parameters on upgrade.

Currently, when the overcloud nodes were registered in Satellite
or portal during deployment via extraconfig/pre_deploy/rhel-registration
and an upgrade is performed passing different values for rhel_reg_repos
these changes are not taken into account. As a consequence, we end up
running the upgrade steps with the previous repositories configured
during deployment.

This patch allows us to re-register using the --force option using
the new values inserted at the pre-upgrade step. To allow this, we
make use of the RHELRegistrationAction parameter to change the
action in which the RHELRegistrationDeployment resource is run.
By setting it to UPDATE, the SoftwareDeployment resource will
be triggered during the stack update which takes place in the
upgrade. Passing the force option will force the re-execution
of rhel-registration script even though it was executed previously
during deployment (bypassing the /mnt/state/var/lib/rhsm/rhsm.ok
guard.

Change-Id: I51a1dad5f422756d0a8c4deff81c170be7d944d3
Related-Bug: #1797138
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/609457/1 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/pre_deploy/rhel-registration/scripts/rhel-registration', 'environments/lifecycle/upgrade-converge.yaml', 'environments/lifecycle/upgrade-prepare.yaml']",3,18987fbe32316e3ed8c7afcc3bf6199a10d0ee8b,bug/1797138," # Add RHEL Registration force to re-register with the new key and repos # also modify the actions to run the resource on stack UPDATE RHELRegistrationActions: ['CREATE', 'UPDATE'] rhel_reg_force: ""True""",,9,1
openstack%2Ftripleo-quickstart-extras~master~Ife744d89836af2c98bffe5ae10f8544625ed9f2b,openstack/tripleo-quickstart-extras,master,Ife744d89836af2c98bffe5ae10f8544625ed9f2b,Use subnodes groups for multinode roles and templates,MERGED,2018-09-28 14:03:05.000000000,2018-10-17 17:53:55.000000000,2018-10-17 17:53:55.000000000,"[{'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 16515}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-09-28 14:03:05.000000000', 'files': ['roles/multinodes/templates/multinode_hosts.j2', 'roles/multinodes/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5e737e0009c087968932a749c6942cc04bf8580c', 'message': ""Use subnodes groups for multinode roles and templates\n\nInstead of looping on 'all' nodes, restricting the loop\nto only subnodes groups avoid failure if other hosts\nis present.\n\nChange-Id: Ife744d89836af2c98bffe5ae10f8544625ed9f2b\n""}]",3,606087,5e737e0009c087968932a749c6942cc04bf8580c,14,10,1,16515,,,0,"Use subnodes groups for multinode roles and templates

Instead of looping on 'all' nodes, restricting the loop
to only subnodes groups avoid failure if other hosts
is present.

Change-Id: Ife744d89836af2c98bffe5ae10f8544625ed9f2b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/87/606087/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/multinodes/templates/multinode_hosts.j2', 'roles/multinodes/tasks/main.yml']",2,5e737e0009c087968932a749c6942cc04bf8580c,multinode-ansible-groups," - ""{{ groups['subnodes'] }}"" - ""{{ groups['subnodes'] }}"" - ""{{ groups['subnodes'] }}"" - ""{{ groups['subnodes'] }}"""," - ""{{ hostvars.keys() }}"" - ""{{ hostvars.keys() }}"" - ""{{ hostvars.keys() }}"" - ""{{ hostvars.keys() }}""",5,5
openstack%2Ftripleo-common~master~I3eeb09a92e26d4e05cfb823352570d0800345f66,openstack/tripleo-common,master,I3eeb09a92e26d4e05cfb823352570d0800345f66,Remove ceph-ansible Mistral workflow,MERGED,2018-09-24 13:37:20.000000000,2018-10-17 17:53:54.000000000,2018-10-17 17:53:54.000000000,"[{'_account_id': 6796}, {'_account_id': 8042}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-09-24 13:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ca3edc5438128cd18606dd061d5bf6a5d7d773b1', 'message': 'Remove ceph-ansible Mistral workflow\n\nThe ceph-ansible playbook is now handled by external_deploy_tasks\ninstead of workflow_tasks.\n\nChange-Id: I3eeb09a92e26d4e05cfb823352570d0800345f66\nRelated-Bug: #1768116\n'}, {'number': 2, 'created': '2018-10-16 14:22:15.000000000', 'files': ['workbooks/ceph-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1afd1f093ca15ad946480b98cd6dd79cca46c5a7', 'message': 'Remove ceph-ansible Mistral workflow\n\nThe ceph-ansible playbook is now handled by external_deploy_tasks\ninstead of workflow_tasks.\n\nChange-Id: I3eeb09a92e26d4e05cfb823352570d0800345f66\nRelated-Bug: #1768116\n'}]",0,604783,1afd1f093ca15ad946480b98cd6dd79cca46c5a7,22,6,2,18002,,,0,"Remove ceph-ansible Mistral workflow

The ceph-ansible playbook is now handled by external_deploy_tasks
instead of workflow_tasks.

Change-Id: I3eeb09a92e26d4e05cfb823352570d0800345f66
Related-Bug: #1768116
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/83/604783/2 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/ceph-ansible.yaml'],1,ca3edc5438128cd18606dd061d5bf6a5d7d773b1,bug/1768116,,"--- version: '2.0' name: tripleo.storage.v1 description: TripleO manages Ceph with ceph-ansible workflows: ceph-install: # allows for additional extra_vars via workflow input input: - ansible_playbook_verbosity: 0 - ansible_skip_tags: 'package-install,with_pkg' - ansible_env_variables: {} - ansible_extra_env_variables: ANSIBLE_CONFIG: /usr/share/ceph-ansible/ansible.cfg ANSIBLE_ACTION_PLUGINS: /usr/share/ceph-ansible/plugins/actions/ ANSIBLE_ROLES_PATH: /usr/share/ceph-ansible/roles/ ANSIBLE_RETRY_FILES_ENABLED: 'False' ANSIBLE_LOG_PATH: /var/log/mistral/ceph-install-workflow.log ANSIBLE_LIBRARY: /usr/share/ceph-ansible/library/ ANSIBLE_SSH_RETRIES: '3' ANSIBLE_HOST_KEY_CHECKING: 'False' DEFAULT_FORKS: '25' - ceph_ansible_extra_vars: {} - ceph_ansible_playbook: /usr/share/ceph-ansible/site-docker.yml.sample - node_data_lookup: '{}' - swift_container: 'ceph_ansible_fetch_dir' tags: - tripleo-common-managed tasks: set_swift_container: publish: swift_container: <% concat(env().get('heat_stack_name', ''), '_', $.swift_container) %> on-complete: collect_puppet_hieradata collect_puppet_hieradata: on-success: check_hieradata publish: hieradata: <% env().get('role_merged_configs', {}).values().select($.keys()).flatten().select(regex('^ceph::profile::params::osds$').search($)).where($ != null).toSet() %> check_hieradata: on-success: - set_blacklisted_ips: <% not bool($.hieradata) %> - fail(msg=<% 'Ceph deployment stopped, puppet-ceph hieradata found. Convert it into ceph-ansible variables. {0}'.format($.hieradata) %>): <% bool($.hieradata) %> set_blacklisted_ips: publish: blacklisted_ips: <% env().get('blacklisted_ip_addresses', []) %> on-success: set_ip_lists set_ip_lists: publish: mgr_ips: <% let(root => $) -> env().get('service_ips', {}).get('ceph_mgr_ctlplane_node_ips', []).where(not ($ in $root.blacklisted_ips)) %> mon_ips: <% let(root => $) -> env().get('service_ips', {}).get('ceph_mon_ctlplane_node_ips', []).where(not ($ in $root.blacklisted_ips)) %> osd_ips: <% let(root => $) -> env().get('service_ips', {}).get('ceph_osd_ctlplane_node_ips', []).where(not ($ in $root.blacklisted_ips)) %> mds_ips: <% let(root => $) -> env().get('service_ips', {}).get('ceph_mds_ctlplane_node_ips', []).where(not ($ in $root.blacklisted_ips)) %> rgw_ips: <% let(root => $) -> env().get('service_ips', {}).get('ceph_rgw_ctlplane_node_ips', []).where(not ($ in $root.blacklisted_ips)) %> nfs_ips: <% let(root => $) -> env().get('service_ips', {}).get('ceph_nfs_ctlplane_node_ips', []).where(not ($ in $root.blacklisted_ips)) %> rbdmirror_ips: <% let(root => $) -> env().get('service_ips', {}).get('ceph_rbdmirror_ctlplane_node_ips', []).where(not ($ in $root.blacklisted_ips)) %> client_ips: <% let(root => $) -> env().get('service_ips', {}).get('ceph_client_ctlplane_node_ips', []).where(not ($ in $root.blacklisted_ips)) %> on-success: merge_ip_lists merge_ip_lists: publish: ips_list: <% ($.mgr_ips + $.mon_ips + $.osd_ips + $.mds_ips + $.rgw_ips + $.nfs_ips + $.rbdmirror_ips + $.client_ips).toSet() %> on-success: enable_ssh_admin enable_ssh_admin: workflow: tripleo.access.v1.enable_ssh_admin input: ssh_servers: <% $.ips_list %> on-success: get_private_key get_private_key: action: tripleo.validations.get_privkey publish: private_key: <% task().result %> on-success: make_fetch_directory make_fetch_directory: action: tripleo.files.make_temp_dir publish: fetch_directory: <% task().result.path %> on-success: verify_container_exists verify_container_exists: action: swift.head_container container=<% $.swift_container %> on-success: restore_fetch_directory on-error: create_container restore_fetch_directory: action: tripleo.files.restore_temp_dir_from_swift input: container: <% $.swift_container %> path: <% $.fetch_directory %> on-success: collect_nodes_uuid create_container: action: swift.put_container container=<% $.swift_container %> on-success: collect_nodes_uuid collect_nodes_uuid: action: tripleo.ansible-playbook input: inventory: overcloud: hosts: <% $.ips_list.toDict($, {}) %> remote_user: tripleo-admin become: true become_user: root verbosity: 0 ssh_private_key: <% $.private_key %> #NOTE(gfidente): set ANSIBLE_CALLBACK_WHITELIST to empty string to avoid spurious output #in the json output. The publish: directive will in fact parse the output. extra_env_variables: ANSIBLE_CALLBACK_WHITELIST: '' ANSIBLE_HOST_KEY_CHECKING: 'False' ANSIBLE_STDOUT_CALLBACK: 'json' playbook: - hosts: overcloud gather_facts: no tasks: - name: collect machine id command: dmidecode -s system-uuid register: dmidecode # NOTE(tonyb): 0 == no error, 1 == -EPERM or bad data and 2 == Command not found # 1 and 2 aren't great but shouldn't cause the deploy to fail. If we're using # the node specific data we'll fail then. If we aren't then lets keep moving failed_when: dmidecode.rc not in [0, 1, 2] publish: ansible_output: <% json_parse(task().result.stderr) %> on-success: set_ip_uuids set_ip_uuids: publish: ip_uuids: <% let(root => $.ansible_output.get('plays')[0].get('tasks')[0].get('hosts')) -> $.ips_list.toDict($, $root.get($).get('stdout')) %> on-success: parse_node_data_lookup parse_node_data_lookup: publish: json_node_data_lookup: <% json_parse($.node_data_lookup) %> on-success: map_node_data_lookup map_node_data_lookup: publish: ips_data: <% let(uuids => $.ip_uuids, root => $) -> $.ips_list.toDict($, $root.json_node_data_lookup.get($uuids.get($, ""NO-UUID-FOUND""), {})) %> on-success: set_role_vars set_role_vars: publish: # NOTE(gfidente): collect role settings from all tht roles mgr_vars: <% env().get('role_merged_configs', {}).values().select($.get('ceph_mgr_ansible_vars', {})).aggregate($1 + $2) %> mon_vars: <% env().get('role_merged_configs', {}).values().select($.get('ceph_mon_ansible_vars', {})).aggregate($1 + $2) %> osd_vars: <% env().get('role_merged_configs', {}).values().select($.get('ceph_osd_ansible_vars', {})).aggregate($1 + $2) %> mds_vars: <% env().get('role_merged_configs', {}).values().select($.get('ceph_mds_ansible_vars', {})).aggregate($1 + $2) %> rgw_vars: <% env().get('role_merged_configs', {}).values().select($.get('ceph_rgw_ansible_vars', {})).aggregate($1 + $2) %> nfs_vars: <% env().get('role_merged_configs', {}).values().select($.get('ceph_nfs_ansible_vars', {})).aggregate($1 + $2) %> rbdmirror_vars: <% env().get('role_merged_configs', {}).values().select($.get('ceph_rbdmirror_ansible_vars', {})).aggregate($1 + $2) %> client_vars: <% env().get('role_merged_configs', {}).values().select($.get('ceph_client_ansible_vars', {})).aggregate($1 + $2) %> on-success: build_extra_vars build_extra_vars: publish: # NOTE(gfidente): merge vars from all ansible roles extra_vars: <% {'fetch_directory'=> $.fetch_directory} + $.mgr_vars + $.mon_vars + $.osd_vars + $.mds_vars + $.rgw_vars + $.nfs_vars + $.client_vars + $.rbdmirror_vars + $.ceph_ansible_extra_vars %> on-success: ceph_install ceph_install: with-items: playbook in <% list($.ceph_ansible_playbook).flatten() %> concurrency: 1 action: tripleo.ansible-playbook input: trash_output: true inventory: mgrs: hosts: <% let(root => $) -> $.mgr_ips.toDict($, $root.ips_data.get($, {})) %> mons: hosts: <% let(root => $) -> $.mon_ips.toDict($, $root.ips_data.get($, {})) %> osds: hosts: <% let(root => $) -> $.osd_ips.toDict($, $root.ips_data.get($, {})) %> mdss: hosts: <% let(root => $) -> $.mds_ips.toDict($, $root.ips_data.get($, {})) %> rgws: hosts: <% let(root => $) -> $.rgw_ips.toDict($, $root.ips_data.get($, {})) %> nfss: hosts: <% let(root => $) -> $.nfs_ips.toDict($, $root.ips_data.get($, {})) %> rbdmirrors: hosts: <% let(root => $) -> $.rbdmirror_ips.toDict($, $root.ips_data.get($, {})) %> clients: hosts: <% let(root => $) -> $.client_ips.toDict($, $root.ips_data.get($, {})) %> all: vars: <% $.extra_vars %> playbook: <% $.playbook %> remote_user: tripleo-admin become: true become_user: root verbosity: <% $.ansible_playbook_verbosity %> ssh_private_key: <% $.private_key %> skip_tags: <% $.ansible_skip_tags %> extra_env_variables: <% $.ansible_extra_env_variables.mergeWith($.ansible_env_variables) %> extra_vars: ireallymeanit: 'yes' publish: output: <% task().result %> on-complete: save_fetch_directory save_fetch_directory: action: tripleo.files.save_temp_dir_to_swift input: container: <% $.swift_container %> path: <% $.fetch_directory %> on-success: purge_fetch_directory purge_fetch_directory: action: tripleo.files.remove_temp_dir path=<% $.fetch_directory %> ",0,194
openstack%2Fopenstack-helm-infra~master~I14fde6ad302c5cb3db736eca5b2a417aad0cfe6f,openstack/openstack-helm-infra,master,I14fde6ad302c5cb3db736eca5b2a417aad0cfe6f,Fluent-logging: Fix issues with flush interval configuration,ABANDONED,2018-10-17 15:56:13.000000000,2018-10-17 17:22:15.000000000,,[],"[{'number': 1, 'created': '2018-10-17 15:56:13.000000000', 'files': ['fluent-logging/templates/utils/_to_fluentd_conf.tpl', 'elasticsearch/values.yaml', 'fluent-logging/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/90d4278d986505bef8b1d5a807376292c6f7472b', 'message': ""Fluent-logging: Fix issues with flush interval configuration\n\nThis moves to update the fluent-logging configuration utility to\nallow for the proper rendering of the flush_interval configuration\nvalue, while still preserving the ability to deterministically\nwait for enough time for both fluentbit and fluentd to flush their\nbuffers. These changes, along with updating the buffer chunk limits\nand updating the default Elasticsearch client replicas is aimed at\nreducing observed timeouts with Elasticsearch's bulk endpoints\nduring gate runs.\n\nChange-Id: I14fde6ad302c5cb3db736eca5b2a417aad0cfe6f\n""}]",0,611372,90d4278d986505bef8b1d5a807376292c6f7472b,2,0,1,17591,,,0,"Fluent-logging: Fix issues with flush interval configuration

This moves to update the fluent-logging configuration utility to
allow for the proper rendering of the flush_interval configuration
value, while still preserving the ability to deterministically
wait for enough time for both fluentbit and fluentd to flush their
buffers. These changes, along with updating the buffer chunk limits
and updating the default Elasticsearch client replicas is aimed at
reducing observed timeouts with Elasticsearch's bulk endpoints
during gate runs.

Change-Id: I14fde6ad302c5cb3db736eca5b2a417aad0cfe6f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/72/611372/1 && git format-patch -1 --stdout FETCH_HEAD,"['fluent-logging/templates/utils/_to_fluentd_conf.tpl', 'elasticsearch/values.yaml', 'fluent-logging/values.yaml']",3,90d4278d986505bef8b1d5a807376292c6f7472b,fluent/fix_flush_interval," buffer_chunk_limit: 2M buffer_queue_limit: 8 flush_interval: ""5"" flush_thread_count: 2 buffer_chunk_limit: 2M buffer_queue_limit: 8 flush_interval: ""5"" flush_thread_count: 2 buffer_chunk_limit: 2M buffer_queue_limit: 8 flush_interval: ""5"" flush_thread_count: 2", buffer_chunk_limit: 10M buffer_queue_limit: 32 flush_interval: 20 buffer_chunk_limit: 10M buffer_queue_limit: 32 flush_interval: 20 buffer_chunk_limit: 10M buffer_queue_limit: 32 flush_interval: 20,18,11
openstack%2Fshade~stable%2Fqueens~I6947e0ae420402cc9866e3c374626392b1d5194c,openstack/shade,stable/queens,I6947e0ae420402cc9866e3c374626392b1d5194c,Remove redundant target in README,MERGED,2018-10-16 17:29:33.000000000,2018-10-17 17:21:09.000000000,2018-10-17 17:21:09.000000000,"[{'_account_id': 2}, {'_account_id': 11904}, {'_account_id': 14352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 17:29:33.000000000', 'files': ['doc/source/user/usage.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/shade/commit/2fe63a4d74dcff34f7a0dc90ec65f3e0cc0bf596', 'message': ""Remove redundant target in README\n\nAn 'example' anchor was being explicitly added that was\nredundant with the 'Example' title it preceeded. This\ncauses failures with `python setup.py check -s -r` which\nwas added to release validation to prevent pypi package\nupload failures.\n\nSince the README is imported into the built docs, and the\ndocs link to the examples using this hidden anchor, this\nrenames it to avoid a conflict.\n\nChange-Id: I6947e0ae420402cc9866e3c374626392b1d5194c\n(cherry picked from commit df4c5819d2b1da148ef5a6e9a6fa09e684e707dc)\n""}]",0,611103,2fe63a4d74dcff34f7a0dc90ec65f3e0cc0bf596,11,4,1,11904,,,0,"Remove redundant target in README

An 'example' anchor was being explicitly added that was
redundant with the 'Example' title it preceeded. This
causes failures with `python setup.py check -s -r` which
was added to release validation to prevent pypi package
upload failures.

Since the README is imported into the built docs, and the
docs link to the examples using this hidden anchor, this
renames it to avoid a conflict.

Change-Id: I6947e0ae420402cc9866e3c374626392b1d5194c
(cherry picked from commit df4c5819d2b1da148ef5a6e9a6fa09e684e707dc)
",git fetch https://review.opendev.org/openstack/shade refs/changes/03/611103/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/usage.rst', 'README.rst']",2,2fe63a4d74dcff34f7a0dc90ec65f3e0cc0bf596,README-stable/queens,.. _usage_example:,.. _example:,2,2
openstack%2Fneutron~stable%2Fqueens~I2e348091b5bdd0f3ef056dd108342989ce57062f,openstack/neutron,stable/queens,I2e348091b5bdd0f3ef056dd108342989ce57062f,"Revert ""DVR: Add error handling for get_network_info_for_id rpc call""",MERGED,2018-08-24 16:58:28.000000000,2018-10-17 17:14:10.000000000,2018-09-19 20:40:09.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6876}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-24 16:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b43dade0d5cbbb8138fb4fde1cbf7deb74a66d05', 'message': 'Revert ""DVR: Add error handling for get_network_info_for_id rpc call""\n\nThis reverts commit c331b898e19c8125d005c09d8a6e247805e506a8.\nRelated-Bug: #1751396\n\nChange-Id: I2e348091b5bdd0f3ef056dd108342989ce57062f\n(cherry picked from commit 267eea50fd9e9c74faa96d529a7ec2fd8aa8d51f)\n'}, {'number': 2, 'created': '2018-08-28 17:05:56.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d47cb7d9a8ab021ccbc08713b32ccddf6e1baa7', 'message': 'Revert ""DVR: Add error handling for get_network_info_for_id rpc call""\n\nThis reverts commit c331b898e19c8125d005c09d8a6e247805e506a8.\nRelated-Bug: #1751396\n\nChange-Id: I2e348091b5bdd0f3ef056dd108342989ce57062f\n(cherry picked from commit 267eea50fd9e9c74faa96d529a7ec2fd8aa8d51f)\n'}]",0,596402,2d47cb7d9a8ab021ccbc08713b32ccddf6e1baa7,15,6,2,7016,,,0,"Revert ""DVR: Add error handling for get_network_info_for_id rpc call""

This reverts commit c331b898e19c8125d005c09d8a6e247805e506a8.
Related-Bug: #1751396

Change-Id: I2e348091b5bdd0f3ef056dd108342989ce57062f
(cherry picked from commit 267eea50fd9e9c74faa96d529a7ec2fd8aa8d51f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/596402/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,b43dade0d5cbbb8138fb4fde1cbf7deb74a66d05,bug/1751396-stable/queens,," def _test_port_bound_for_dvr_on_vlan_network_rpc_error( self, device_owner, ip_version=4): self._setup_for_dvr_test() if ip_version == 4: gateway_ip = '1.1.1.1' cidr = '1.1.1.0/24' else: gateway_ip = '2001:100::1' cidr = '2001:100::0/64' self._port.vif_mac = gateway_mac = 'aa:bb:cc:11:22:33' self._compute_port.vif_mac = '77:88:99:00:11:22' physical_network = self._physical_network segmentation_id = self._segmentation_id network_type = n_const.TYPE_VLAN int_br = mock.create_autospec(self.agent.int_br) tun_br = mock.create_autospec(self.agent.tun_br) phys_br = mock.create_autospec(self.br_phys_cls('br-phys')) int_br.set_db_attribute.return_value = True int_br.db_get_val.return_value = {} with mock.patch.object(self.agent.dvr_agent.plugin_rpc, 'get_subnet_for_dvr', return_value={'gateway_ip': gateway_ip, 'cidr': cidr, 'ip_version': ip_version, 'gateway_mac': gateway_mac, 'network_id': 'fake-id'}),\ mock.patch.object(self.agent.dvr_agent.plugin_rpc, 'get_network_info_for_id', side_effect=oslo_messaging.RemoteError),\ mock.patch.object(self.agent.dvr_agent.plugin_rpc, 'get_ports_on_host_by_subnet', return_value=[]),\ mock.patch.object(self.agent.dvr_agent.int_br, 'get_vif_port_by_id', return_value=self._port),\ mock.patch.object(self.agent, 'int_br', new=int_br),\ mock.patch.object(self.agent, 'tun_br', new=tun_br),\ mock.patch.dict(self.agent.phys_brs, {physical_network: phys_br}),\ mock.patch.object(self.agent.dvr_agent, 'int_br', new=int_br),\ mock.patch.object(self.agent.dvr_agent, 'tun_br', new=tun_br),\ mock.patch.dict(self.agent.dvr_agent.phys_brs, {physical_network: phys_br}): self.agent.port_bound( self._port, self._net_uuid, network_type, physical_network, segmentation_id, self._fixed_ips, n_const.DEVICE_OWNER_DVR_INTERFACE, False) phy_ofp = self.agent.dvr_agent.phys_ofports[physical_network] int_ofp = self.agent.dvr_agent.int_ofports[physical_network] lvid = self.agent.vlan_manager.get(self._net_uuid).vlan expected_on_phys_br = [ mock.call.provision_local_vlan( port=phy_ofp, lvid=lvid, segmentation_id=segmentation_id, distributed=True, ), ] + self._expected_install_dvr_process( port=self._port, lvid=lvid, ip_version=ip_version, gateway_ip=gateway_ip, gateway_mac=gateway_mac, shared=False) expected_on_int_br = [ mock.call.provision_local_vlan( port=int_ofp, lvid=lvid, segmentation_id=segmentation_id, ), ] + self._expected_port_bound(self._port, lvid) self.assertEqual(expected_on_int_br, int_br.mock_calls) self.assertEqual([], tun_br.mock_calls) self.assertEqual(expected_on_phys_br, phys_br.mock_calls) int_br.reset_mock() tun_br.reset_mock() phys_br.reset_mock() self.agent.port_bound(self._compute_port, self._net_uuid, network_type, physical_network, segmentation_id, self._compute_fixed_ips, device_owner, False) expected_on_int_br = [ mock.call.install_dvr_to_src_mac( network_type=network_type, gateway_mac=gateway_mac, dst_mac=self._compute_port.vif_mac, dst_port=self._compute_port.ofport, vlan_tag=segmentation_id, ), ] + self._expected_port_bound(self._compute_port, lvid, False) self.assertEqual(expected_on_int_br, int_br.mock_calls) self.assertFalse([], tun_br.mock_calls) self.assertFalse([], phys_br.mock_calls) def _test_port_bound_for_dvr_on_vxlan_network_rpc_error( self, device_owner, ip_version=4): self._setup_for_dvr_test() if ip_version == 4: gateway_ip = '1.1.1.1' cidr = '1.1.1.0/24' else: gateway_ip = '2001:100::1' cidr = '2001:100::0/64' network_type = n_const.TYPE_VXLAN self._port.vif_mac = gateway_mac = 'aa:bb:cc:11:22:33' self._compute_port.vif_mac = '77:88:99:00:11:22' physical_network = self._physical_network segmentation_id = self._segmentation_id int_br = mock.create_autospec(self.agent.int_br) tun_br = mock.create_autospec(self.agent.tun_br) phys_br = mock.create_autospec(self.br_phys_cls('br-phys')) int_br.set_db_attribute.return_value = True int_br.db_get_val.return_value = {} with mock.patch.object(self.agent.dvr_agent.plugin_rpc, 'get_subnet_for_dvr', return_value={'gateway_ip': gateway_ip, 'cidr': cidr, 'ip_version': ip_version, 'gateway_mac': gateway_mac, 'network_id': 'fake-id'}),\ mock.patch.object(self.agent.dvr_agent.plugin_rpc, 'get_network_info_for_id', side_effect=oslo_messaging.RemoteError),\ mock.patch.object(self.agent.dvr_agent.plugin_rpc, 'get_ports_on_host_by_subnet', return_value=[]),\ mock.patch.object(self.agent.dvr_agent.int_br, 'get_vif_port_by_id', return_value=self._port),\ mock.patch.object(self.agent, 'int_br', new=int_br),\ mock.patch.object(self.agent, 'tun_br', new=tun_br),\ mock.patch.dict(self.agent.phys_brs, {physical_network: phys_br}),\ mock.patch.object(self.agent.dvr_agent, 'int_br', new=int_br),\ mock.patch.object(self.agent.dvr_agent, 'tun_br', new=tun_br),\ mock.patch.dict(self.agent.dvr_agent.phys_brs, {physical_network: phys_br}): self.agent.port_bound( self._port, self._net_uuid, network_type, physical_network, segmentation_id, self._fixed_ips, n_const.DEVICE_OWNER_DVR_INTERFACE, False) lvid = self.agent.vlan_manager.get(self._net_uuid).vlan expected_on_int_br = self._expected_port_bound( self._port, lvid) expected_on_tun_br = [ mock.call.provision_local_vlan( network_type=network_type, segmentation_id=segmentation_id, lvid=lvid, distributed=True), ] + self._expected_install_dvr_process( port=self._port, lvid=lvid, ip_version=ip_version, gateway_ip=gateway_ip, gateway_mac=gateway_mac, shared=False) self.assertEqual(expected_on_int_br, int_br.mock_calls) self.assertEqual(expected_on_tun_br, tun_br.mock_calls) self.assertEqual([], phys_br.mock_calls) int_br.reset_mock() tun_br.reset_mock() phys_br.reset_mock() self.agent.port_bound(self._compute_port, self._net_uuid, network_type, physical_network, segmentation_id, self._compute_fixed_ips, device_owner, False) expected_on_int_br = [ mock.call.install_dvr_to_src_mac( network_type=network_type, gateway_mac=gateway_mac, dst_mac=self._compute_port.vif_mac, dst_port=self._compute_port.ofport, vlan_tag=lvid, ), ] + self._expected_port_bound(self._compute_port, lvid, False) self.assertEqual(expected_on_int_br, int_br.mock_calls) self.assertEqual([], tun_br.mock_calls) self.assertEqual([], phys_br.mock_calls) def test_port_bound_for_dvr_with_compute_ports_rpc_error(self): self._test_port_bound_for_dvr_on_vlan_network_rpc_error( device_owner=DEVICE_OWNER_COMPUTE) self._test_port_bound_for_dvr_on_vlan_network_rpc_error( device_owner=DEVICE_OWNER_COMPUTE, ip_version=6) self._test_port_bound_for_dvr_on_vxlan_network_rpc_error( device_owner=DEVICE_OWNER_COMPUTE) self._test_port_bound_for_dvr_on_vxlan_network_rpc_error( device_owner=DEVICE_OWNER_COMPUTE, ip_version=6) ",6,207
openstack%2Fneutron~stable%2Fpike~Id559ea375d2a2588ec99dcd7b4a9d6e2a3dfc57b,openstack/neutron,stable/pike,Id559ea375d2a2588ec99dcd7b4a9d6e2a3dfc57b,"Revert ""DVR: Inter Tenant Traffic between networks not possible with shared net""",ABANDONED,2018-09-05 17:35:18.000000000,2018-10-17 17:12:41.000000000,,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 7016}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-05 17:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bf4e8322e1d66955505fa652f9191c564a2bcc37', 'message': 'Revert ""DVR: Inter Tenant Traffic between networks not possible with shared net""\n\nThis reverts commit 6956821764e81c61f4c3620a2a6753394b5bc69a.\n\nChange-Id: Id559ea375d2a2588ec99dcd7b4a9d6e2a3dfc57b\n'}, {'number': 2, 'created': '2018-09-05 17:51:25.000000000', 'files': ['neutron/tests/unit/api/rpc/handlers/test_dvr_rpc.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/api/rpc/handlers/dvr_rpc.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a38cb36104b7c460b0d0648c1b6792390d2a1c96', 'message': 'Revert ""DVR: Inter Tenant Traffic between networks not possible with shared net""\n\nThis reverts commit 6956821764e81c61f4c3620a2a6753394b5bc69a.\n\nChange-Id: Id559ea375d2a2588ec99dcd7b4a9d6e2a3dfc57b\n'}]",0,600141,a38cb36104b7c460b0d0648c1b6792390d2a1c96,38,11,2,7016,,,0,"Revert ""DVR: Inter Tenant Traffic between networks not possible with shared net""

This reverts commit 6956821764e81c61f4c3620a2a6753394b5bc69a.

Change-Id: Id559ea375d2a2588ec99dcd7b4a9d6e2a3dfc57b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/600141/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/api/rpc/handlers/test_dvr_rpc.py', 'neutron/api/rpc/handlers/dvr_rpc.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",4,bf4e8322e1d66955505fa652f9191c564a2bcc37,bug/1751396-stable/queens-stable/pike," gateway_ip, gateway_mac): if ip_version == 4: ipvx_calls = [ mock.call.install_dvr_process_ipv4( gateway_ip=gateway_ip), ipvx_calls = [ mock.call.install_dvr_process_ipv6( vlan_tag=lvid, gateway_mac=gateway_mac), ] return ipvx_calls + [ mock.call.install_dvr_process( vlan_tag=lvid, dvr_mac_address=self.agent.dvr_agent.dvr_mac_address, vif_mac=port.vif_mac, ), ] ip_version=4): 'gateway_mac': gateway_mac}),\ gateway_mac=gateway_mac) ip_version=4): 'gateway_mac': gateway_mac}),\ gateway_mac=gateway_mac) 'gateway_mac': 'aa:bb:cc:11:22:33'}),\ 'gateway_mac': gateway_mac}),\ 'gateway_mac': gateway_mac}),\ 'gateway_mac': gateway_mac}),\"," gateway_ip, gateway_mac, shared=False): if not shared: if ip_version == 4: ipvx_calls = [ mock.call.install_dvr_process_ipv4( vlan_tag=lvid, gateway_ip=gateway_ip), ] else: ipvx_calls = [ mock.call.install_dvr_process_ipv6( vlan_tag=lvid, gateway_mac=gateway_mac), ] return ipvx_calls + [ mock.call.install_dvr_process( dvr_mac_address=self.agent.dvr_agent.dvr_mac_address, vif_mac=port.vif_mac, ), return [] ip_version=4, shared=False): 'gateway_mac': gateway_mac, 'network_id': 'fake-id'}),\ mock.patch.object(self.agent.dvr_agent.plugin_rpc, 'get_network_info_for_id', return_value=[{'shared': shared, 'router:external': False}]),\ gateway_mac=gateway_mac, shared=shared) ip_version=4, shared=False): 'gateway_mac': gateway_mac, 'network_id': 'fake-id'}),\ mock.patch.object(self.agent.dvr_agent.plugin_rpc, 'get_network_info_for_id', return_value=[{'shared': shared, 'router:external': False}]),\ gateway_mac=gateway_mac, shared=shared) def test_port_bound_for_dvr_with_compute_ports_on_shared_network(self): self._test_port_bound_for_dvr_on_vlan_network( device_owner=DEVICE_OWNER_COMPUTE, shared=True) self._test_port_bound_for_dvr_on_vlan_network( device_owner=DEVICE_OWNER_COMPUTE, ip_version=6, shared=True) self._test_port_bound_for_dvr_on_vxlan_network( device_owner=DEVICE_OWNER_COMPUTE, shared=True) self._test_port_bound_for_dvr_on_vxlan_network( device_owner=DEVICE_OWNER_COMPUTE, ip_version=6, shared=True) 'gateway_mac': 'aa:bb:cc:11:22:33', 'network_id': 'faked-id'}),\ 'gateway_mac': gateway_mac, 'network_id': 'fake-id'}),\ mock.patch.object(self.agent.dvr_agent.plugin_rpc, 'get_network_info_for_id', return_value=[{'shared': False, 'router:external': False}]),\ 'gateway_mac': gateway_mac, 'network_id': 'faked-id'}),\ mock.patch.object(self.agent.dvr_agent.plugin_rpc, 'get_network_info_for_id', return_value=[{'shared': False, 'router:external': False}]),\ 'gateway_mac': gateway_mac, 'network_id': 'fake-id'}),\ mock.patch.object(self.agent.dvr_agent.plugin_rpc, 'get_network_info_for_id', return_value=[{'shared': False, 'router:external': False}]),\",36,111
openstack%2Fneutron~stable%2Fpike~I337fd584123c4f3cbd5b3dba76407dbd708dee7a,openstack/neutron,stable/pike,I337fd584123c4f3cbd5b3dba76407dbd708dee7a,"Revert ""DVR: Add error handling for get_network_info_for_id rpc call""",ABANDONED,2018-09-05 17:34:50.000000000,2018-10-17 17:11:45.000000000,,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 7016}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-05 17:34:50.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a97b769dc7088dd64c57418d831ada22d597dbab', 'message': 'Revert ""DVR: Add error handling for get_network_info_for_id rpc call""\n\nThis reverts commit e36c6b6cf593c49e5f9100f9681b079afb1845c3.\n\nChange-Id: I337fd584123c4f3cbd5b3dba76407dbd708dee7a\n'}]",0,600140,a97b769dc7088dd64c57418d831ada22d597dbab,28,10,1,7016,,,0,"Revert ""DVR: Add error handling for get_network_info_for_id rpc call""

This reverts commit e36c6b6cf593c49e5f9100f9681b079afb1845c3.

Change-Id: I337fd584123c4f3cbd5b3dba76407dbd708dee7a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/40/600140/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,a97b769dc7088dd64c57418d831ada22d597dbab,bug/1758093,," def _test_port_bound_for_dvr_on_vlan_network_rpc_error( self, device_owner, ip_version=4): self._setup_for_dvr_test() if ip_version == 4: gateway_ip = '1.1.1.1' cidr = '1.1.1.0/24' else: gateway_ip = '2001:100::1' cidr = '2001:100::0/64' self._port.vif_mac = gateway_mac = 'aa:bb:cc:11:22:33' self._compute_port.vif_mac = '77:88:99:00:11:22' physical_network = self._physical_network segmentation_id = self._segmentation_id network_type = n_const.TYPE_VLAN int_br = mock.create_autospec(self.agent.int_br) tun_br = mock.create_autospec(self.agent.tun_br) phys_br = mock.create_autospec(self.br_phys_cls('br-phys')) int_br.set_db_attribute.return_value = True int_br.db_get_val.return_value = {} with mock.patch.object(self.agent.dvr_agent.plugin_rpc, 'get_subnet_for_dvr', return_value={'gateway_ip': gateway_ip, 'cidr': cidr, 'ip_version': ip_version, 'gateway_mac': gateway_mac, 'network_id': 'fake-id'}),\ mock.patch.object(self.agent.dvr_agent.plugin_rpc, 'get_network_info_for_id', side_effect=oslo_messaging.RemoteError),\ mock.patch.object(self.agent.dvr_agent.plugin_rpc, 'get_ports_on_host_by_subnet', return_value=[]),\ mock.patch.object(self.agent.dvr_agent.int_br, 'get_vif_port_by_id', return_value=self._port),\ mock.patch.object(self.agent, 'int_br', new=int_br),\ mock.patch.object(self.agent, 'tun_br', new=tun_br),\ mock.patch.dict(self.agent.phys_brs, {physical_network: phys_br}),\ mock.patch.object(self.agent.dvr_agent, 'int_br', new=int_br),\ mock.patch.object(self.agent.dvr_agent, 'tun_br', new=tun_br),\ mock.patch.dict(self.agent.dvr_agent.phys_brs, {physical_network: phys_br}): self.agent.port_bound( self._port, self._net_uuid, network_type, physical_network, segmentation_id, self._fixed_ips, n_const.DEVICE_OWNER_DVR_INTERFACE, False) phy_ofp = self.agent.dvr_agent.phys_ofports[physical_network] int_ofp = self.agent.dvr_agent.int_ofports[physical_network] lvid = self.agent.vlan_manager.get(self._net_uuid).vlan expected_on_phys_br = [ mock.call.provision_local_vlan( port=phy_ofp, lvid=lvid, segmentation_id=segmentation_id, distributed=True, ), ] + self._expected_install_dvr_process( port=self._port, lvid=lvid, ip_version=ip_version, gateway_ip=gateway_ip, gateway_mac=gateway_mac, shared=False) expected_on_int_br = [ mock.call.provision_local_vlan( port=int_ofp, lvid=lvid, segmentation_id=segmentation_id, ), ] + self._expected_port_bound(self._port, lvid) self.assertEqual(expected_on_int_br, int_br.mock_calls) self.assertEqual([], tun_br.mock_calls) self.assertEqual(expected_on_phys_br, phys_br.mock_calls) int_br.reset_mock() tun_br.reset_mock() phys_br.reset_mock() self.agent.port_bound(self._compute_port, self._net_uuid, network_type, physical_network, segmentation_id, self._compute_fixed_ips, device_owner, False) expected_on_int_br = [ mock.call.install_dvr_to_src_mac( network_type=network_type, gateway_mac=gateway_mac, dst_mac=self._compute_port.vif_mac, dst_port=self._compute_port.ofport, vlan_tag=segmentation_id, ), ] + self._expected_port_bound(self._compute_port, lvid, False) self.assertEqual(expected_on_int_br, int_br.mock_calls) self.assertFalse([], tun_br.mock_calls) self.assertFalse([], phys_br.mock_calls) def _test_port_bound_for_dvr_on_vxlan_network_rpc_error( self, device_owner, ip_version=4): self._setup_for_dvr_test() if ip_version == 4: gateway_ip = '1.1.1.1' cidr = '1.1.1.0/24' else: gateway_ip = '2001:100::1' cidr = '2001:100::0/64' network_type = n_const.TYPE_VXLAN self._port.vif_mac = gateway_mac = 'aa:bb:cc:11:22:33' self._compute_port.vif_mac = '77:88:99:00:11:22' physical_network = self._physical_network segmentation_id = self._segmentation_id int_br = mock.create_autospec(self.agent.int_br) tun_br = mock.create_autospec(self.agent.tun_br) phys_br = mock.create_autospec(self.br_phys_cls('br-phys')) int_br.set_db_attribute.return_value = True int_br.db_get_val.return_value = {} with mock.patch.object(self.agent.dvr_agent.plugin_rpc, 'get_subnet_for_dvr', return_value={'gateway_ip': gateway_ip, 'cidr': cidr, 'ip_version': ip_version, 'gateway_mac': gateway_mac, 'network_id': 'fake-id'}),\ mock.patch.object(self.agent.dvr_agent.plugin_rpc, 'get_network_info_for_id', side_effect=oslo_messaging.RemoteError),\ mock.patch.object(self.agent.dvr_agent.plugin_rpc, 'get_ports_on_host_by_subnet', return_value=[]),\ mock.patch.object(self.agent.dvr_agent.int_br, 'get_vif_port_by_id', return_value=self._port),\ mock.patch.object(self.agent, 'int_br', new=int_br),\ mock.patch.object(self.agent, 'tun_br', new=tun_br),\ mock.patch.dict(self.agent.phys_brs, {physical_network: phys_br}),\ mock.patch.object(self.agent.dvr_agent, 'int_br', new=int_br),\ mock.patch.object(self.agent.dvr_agent, 'tun_br', new=tun_br),\ mock.patch.dict(self.agent.dvr_agent.phys_brs, {physical_network: phys_br}): self.agent.port_bound( self._port, self._net_uuid, network_type, physical_network, segmentation_id, self._fixed_ips, n_const.DEVICE_OWNER_DVR_INTERFACE, False) lvid = self.agent.vlan_manager.get(self._net_uuid).vlan expected_on_int_br = self._expected_port_bound( self._port, lvid) expected_on_tun_br = [ mock.call.provision_local_vlan( network_type=network_type, segmentation_id=segmentation_id, lvid=lvid, distributed=True), ] + self._expected_install_dvr_process( port=self._port, lvid=lvid, ip_version=ip_version, gateway_ip=gateway_ip, gateway_mac=gateway_mac, shared=False) self.assertEqual(expected_on_int_br, int_br.mock_calls) self.assertEqual(expected_on_tun_br, tun_br.mock_calls) self.assertEqual([], phys_br.mock_calls) int_br.reset_mock() tun_br.reset_mock() phys_br.reset_mock() self.agent.port_bound(self._compute_port, self._net_uuid, network_type, physical_network, segmentation_id, self._compute_fixed_ips, device_owner, False) expected_on_int_br = [ mock.call.install_dvr_to_src_mac( network_type=network_type, gateway_mac=gateway_mac, dst_mac=self._compute_port.vif_mac, dst_port=self._compute_port.ofport, vlan_tag=lvid, ), ] + self._expected_port_bound(self._compute_port, lvid, False) self.assertEqual(expected_on_int_br, int_br.mock_calls) self.assertEqual([], tun_br.mock_calls) self.assertEqual([], phys_br.mock_calls) def test_port_bound_for_dvr_with_compute_ports_rpc_error(self): self._test_port_bound_for_dvr_on_vlan_network_rpc_error( device_owner=DEVICE_OWNER_COMPUTE) self._test_port_bound_for_dvr_on_vlan_network_rpc_error( device_owner=DEVICE_OWNER_COMPUTE, ip_version=6) self._test_port_bound_for_dvr_on_vxlan_network_rpc_error( device_owner=DEVICE_OWNER_COMPUTE) self._test_port_bound_for_dvr_on_vxlan_network_rpc_error( device_owner=DEVICE_OWNER_COMPUTE, ip_version=6) ",6,207
openstack%2Fopenstacksdk~master~Id76d1750e5af46b39d08428e0c6d9d8b30a43e5e,openstack/openstacksdk,master,Id76d1750e5af46b39d08428e0c6d9d8b30a43e5e,Rearrange shade image code,MERGED,2018-10-11 12:15:17.000000000,2018-10-17 17:08:51.000000000,2018-10-17 17:08:51.000000000,"[{'_account_id': 2}, {'_account_id': 3099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-11 12:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3198adecf7af98712459deff9d2847ccc7e07cff', 'message': ""Rearrange shade image code\n\nIn anticipation of moving the image creation logic down into the sdk\nimage proxy class which has natural v1 and v2 classes, rearrange the\nbranching logic to start with v1/v2 then go to put/task. This will let\nus do that reorg in place so that when we move things into proxy classes\nit'll be more of a direct copy/paste.\n\nChange-Id: Id76d1750e5af46b39d08428e0c6d9d8b30a43e5e\n""}, {'number': 2, 'created': '2018-10-11 12:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8dbc4ea51be29f35e8b649696b51b00ffe1156c1', 'message': ""Rearrange shade image code\n\nIn anticipation of moving the image creation logic down into the sdk\nimage proxy class which has natural v1 and v2 classes, rearrange the\nbranching logic to start with v1/v2 then go to put/task. This will let\nus do that reorg in place so that when we move things into proxy classes\nit'll be more of a direct copy/paste.\n\nThere is one test update. In doing the code shuffle, there was a\nduplicate unneeded call to get_image found in the task codepath. That\ncall was removed. However, to compensate, putting the wait in\ncreate_image itself needlessly calls get_image after it has been done in\nthe task workflow. The next patch should be able to remove the second\nget_image call.\n\nChange-Id: Id76d1750e5af46b39d08428e0c6d9d8b30a43e5e\n""}, {'number': 3, 'created': '2018-10-11 14:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/459517ee0f203b86ca59146d803ec37e00f493a2', 'message': ""Rearrange shade image code\n\nIn anticipation of moving the image creation logic down into the sdk\nimage proxy class which has natural v1 and v2 classes, rearrange the\nbranching logic to start with v1/v2 then go to put/task. This will let\nus do that reorg in place so that when we move things into proxy classes\nit'll be more of a direct copy/paste.\n\nThere is one test update. In doing the code shuffle, there was a\nduplicate unneeded call to get_image found in the task codepath. That\ncall was removed. However, to compensate, putting the wait in\ncreate_image itself needlessly calls get_image after it has been done in\nthe task workflow. The next patch should be able to remove the second\nget_image call.\n\nChange-Id: Id76d1750e5af46b39d08428e0c6d9d8b30a43e5e\n""}, {'number': 4, 'created': '2018-10-11 15:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/840cdbdb518249ad185e69c23b6c9ff4539eacc9', 'message': ""Rearrange shade image code\n\nIn anticipation of moving the image creation logic down into the sdk\nimage proxy class which has natural v1 and v2 classes, rearrange the\nbranching logic to start with v1/v2 then go to put/task. This will let\nus do that reorg in place so that when we move things into proxy classes\nit'll be more of a direct copy/paste.\n\nThere is one test update. In doing the code shuffle, there was a\nduplicate unneeded call to get_image found in the task codepath. That\ncall was removed. However, to compensate, putting the wait in\ncreate_image itself needlessly calls get_image after it has been done in\nthe task workflow. The next patch should be able to remove the second\nget_image call.\n\nChange-Id: Id76d1750e5af46b39d08428e0c6d9d8b30a43e5e\n""}, {'number': 5, 'created': '2018-10-15 14:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/426bd161dc78723dc51e8298fee80989ffc7647d', 'message': ""Rearrange shade image code\n\nIn anticipation of moving the image creation logic down into the sdk\nimage proxy class which has natural v1 and v2 classes, rearrange the\nbranching logic to start with v1/v2 then go to put/task. This will let\nus do that reorg in place so that when we move things into proxy classes\nit'll be more of a direct copy/paste.\n\nThere is one test update. In doing the code shuffle, there was a\nduplicate unneeded call to get_image found in the task codepath. That\ncall was removed. However, to compensate, putting the wait in\ncreate_image itself needlessly calls get_image after it has been done in\nthe task workflow. The next patch should be able to remove the second\nget_image call.\n\nChange-Id: Id76d1750e5af46b39d08428e0c6d9d8b30a43e5e\n""}, {'number': 6, 'created': '2018-10-15 18:22:16.000000000', 'files': ['openstack/cloud/openstackcloud.py', 'openstack/tests/unit/cloud/test_image.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c07c39b82268ee84a1a671f1f2746d01026f3dcc', 'message': ""Rearrange shade image code\n\nIn anticipation of moving the image creation logic down into the sdk\nimage proxy class which has natural v1 and v2 classes, rearrange the\nbranching logic to start with v1/v2 then go to put/task. This will let\nus do that reorg in place so that when we move things into proxy classes\nit'll be more of a direct copy/paste.\n\nThere is one test update. In doing the code shuffle, there was a\nduplicate unneeded call to get_image found in the task codepath. That\ncall was removed. However, to compensate, putting the wait in\ncreate_image itself needlessly calls get_image after it has been done in\nthe task workflow. The next patch should be able to remove the second\nget_image call.\n\nChange-Id: Id76d1750e5af46b39d08428e0c6d9d8b30a43e5e\n""}]",0,609683,c07c39b82268ee84a1a671f1f2746d01026f3dcc,14,3,6,2,,,0,"Rearrange shade image code

In anticipation of moving the image creation logic down into the sdk
image proxy class which has natural v1 and v2 classes, rearrange the
branching logic to start with v1/v2 then go to put/task. This will let
us do that reorg in place so that when we move things into proxy classes
it'll be more of a direct copy/paste.

There is one test update. In doing the code shuffle, there was a
duplicate unneeded call to get_image found in the task codepath. That
call was removed. However, to compensate, putting the wait in
create_image itself needlessly calls get_image after it has been done in
the task workflow. The next patch should be able to remove the second
get_image call.

Change-Id: Id76d1750e5af46b39d08428e0c6d9d8b30a43e5e
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/83/609683/5 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/openstackcloud.py'],1,3198adecf7af98712459deff9d2847ccc7e07cff,reorg-image," # If a user used the v1 calling format, they will have # passed a dict called properties along properties = kwargs.pop('properties', {}) kwargs.update(properties) image_kwargs = dict(properties=kwargs) if disk_format: image_kwargs['disk_format'] = disk_format if container_format: image_kwargs['container_format'] = container_format if self._is_client_version('image', 2): image = self._upload_image_v2( name, filename, container, current_image=current_image, wait=wait, timeout=timeout, md5=md5, sha256=sha256, meta=meta, **kwargs) else: image = self._upload_image_v1( name, filename, wait=wait, timeout=timeout, meta=meta, **kwargs) self._get_cache(None).invalidate() if not wait: return image try: for count in utils.iterate_timeout( timeout, ""Timeout waiting for the image to finish.""): image_obj = self.get_image(image.id) if image_obj and image_obj.status not in ('queued', 'saving'): return image_obj except exc.OpenStackCloudTimeout: self.log.debug( ""Timeout waiting for image to become ready. Deleting."") self.delete_image(image.id, wait=True) raise def _upload_image_v2( self, name, filename=None, wait=False, timeout=3600, meta=None, **kwargs): if 'is_public' in kwargs: is_public = kwargs.pop('is_public') if is_public: kwargs['visibility'] = 'public' else: kwargs['visibility'] = 'private' name, filename, return self._upload_image_put_v2( def _upload_image_put_v2(self, name, filename, meta, **image_kwargs): image_data = open(filename, 'rb') def _upload_image_v1( self, name, filename, wait=False, timeout=3600, meta, **image_kwargs): # NOTE(mordred) wait and timeout parameters are unused, but # are present for ease at calling site. image_data = open(filename, 'rb') self, name, filename, wait, timeout, meta, **image_kwargs): md5 = image_kwargs[self._IMAGE_MD5_KEY] sha256 = image_kwargs[self._IMAGE_SHA256_KEY] container = image_kwargs[self.IMAGE_OBJECT_KEY].split('/', 1)"," if self._is_client_version('image', 2): if 'is_public' in kwargs: is_public = kwargs.pop('is_public') if is_public: kwargs['visibility'] = 'public' else: kwargs['visibility'] = 'private' name, filename, container, current_image=current_image, md5=md5, sha256=sha256, # If a user used the v1 calling format, they will have # passed a dict called properties along properties = kwargs.pop('properties', {}) kwargs.update(properties) image_kwargs = dict(properties=kwargs) if disk_format: image_kwargs['disk_format'] = disk_format if container_format: image_kwargs['container_format'] = container_format return self._upload_image_put( wait=wait, timeout=timeout, def _upload_image_put_v2(self, name, image_data, meta, **image_kwargs): def _upload_image_put_v1( self, name, image_data, meta, **image_kwargs): def _upload_image_put( self, name, filename, meta, wait, timeout, **image_kwargs): image_data = open(filename, 'rb') # Because reasons and crying bunnies if self._is_client_version('image', 2): image = self._upload_image_put_v2( name, image_data, meta, **image_kwargs) else: image = self._upload_image_put_v1( name, image_data, meta, **image_kwargs) self._get_cache(None).invalidate() if not wait: return image try: for count in utils.iterate_timeout( timeout, ""Timeout waiting for the image to finish.""): image_obj = self.get_image(image.id) if image_obj and image_obj.status not in ('queued', 'saving'): return image_obj except exc.OpenStackCloudTimeout: self.log.debug( ""Timeout waiting for image to become ready. Deleting."") self.delete_image(image.id, wait=True) raise self, name, filename, container, current_image, wait, timeout, meta, md5=None, sha256=None, **image_kwargs): if not current_image: current_image = self.get_image(name)",65,56
openstack%2Frpm-packaging~stable%2Frocky~I856f9f115d2cef61d3b220cec32c2c5f248735a2,openstack/rpm-packaging,stable/rocky,I856f9f115d2cef61d3b220cec32c2c5f248735a2,Bump python-neutronclient to 6.9.1,MERGED,2018-10-11 11:49:55.000000000,2018-10-17 16:53:06.000000000,2018-10-17 16:53:06.000000000,"[{'_account_id': 6593}, {'_account_id': 8482}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-11 11:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a39e5dc6ebfb38ed7553df13611b8f264442e132', 'message': 'Bump python-neutronclient to 6.9.1\n\nChange-Id: I856f9f115d2cef61d3b220cec32c2c5f248735a2\n'}, {'number': 2, 'created': '2018-10-12 07:40:53.000000000', 'files': ['openstack/python-neutronclient/python-neutronclient.spec.j2', 'openstack/python-neutronclient/0001-Fix-broken-unittests.patch'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/37e7bd403bbdf23e3384c2d64d5beaa7d782e103', 'message': 'Bump python-neutronclient to 6.9.1\n\nChange-Id: I856f9f115d2cef61d3b220cec32c2c5f248735a2\n'}]",0,609680,37e7bd403bbdf23e3384c2d64d5beaa7d782e103,16,6,2,8482,,,0,"Bump python-neutronclient to 6.9.1

Change-Id: I856f9f115d2cef61d3b220cec32c2c5f248735a2
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/80/609680/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-neutronclient/python-neutronclient.spec.j2'],1,a39e5dc6ebfb38ed7553df13611b8f264442e132,neutronclient-6.9.1,{% set upstream_version = upstream_version('6.9.1') %},{% set upstream_version = upstream_version('6.9.0') %},1,1
openstack%2Ftripleo-upgrade~master~Idbcd1f16b35013b929d7eb8e9cbac9daf675b08e,openstack/tripleo-upgrade,master,Idbcd1f16b35013b929d7eb8e9cbac9daf675b08e,Set container_cli for undercloud,MERGED,2018-10-07 19:45:02.000000000,2018-10-17 16:48:29.000000000,2018-10-17 16:48:29.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-10-07 19:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7cdf66c331a25297e048e615c0e4fb9b50165a88', 'message': 'Set container_cli for undercloud\n\nThis patch allows to set container_cli in undercloud.conf, during the\nupgrade process. So later we can start testing the upgrade of an\nundercloud from rocky/docker to stein/podman.\n\nChange-Id: Idbcd1f16b35013b929d7eb8e9cbac9daf675b08e\n'}, {'number': 2, 'created': '2018-10-07 20:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4a3b021ebe6b4b66665d60c21d0aa9916d885a4e', 'message': 'Set container_cli for undercloud\n\nThis patch allows to set container_cli in undercloud.conf, during the\nupgrade process. So later we can start testing the upgrade of an\nundercloud from rocky/docker to stein/podman.\n\nChange-Id: Idbcd1f16b35013b929d7eb8e9cbac9daf675b08e\n'}, {'number': 3, 'created': '2018-10-08 06:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/de56af3bca0a33a9c1d21617183be93a54dcf1ae', 'message': 'Set container_cli for undercloud\n\nThis patch allows to set container_cli in undercloud.conf, during the\nupgrade process. So later we can start testing the upgrade of an\nundercloud from rocky/docker to stein/podman.\n\nChange-Id: Idbcd1f16b35013b929d7eb8e9cbac9daf675b08e\n'}, {'number': 4, 'created': '2018-10-10 19:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/dd4694e74be03d1c8f4cb6236417b0ebfe855750', 'message': 'Set container_cli for undercloud\n\nThis patch allows to set container_cli in undercloud.conf, during the\nupgrade process. So later we can start testing the upgrade of an\nundercloud from rocky/docker to stein/podman.\n\nChange-Id: Idbcd1f16b35013b929d7eb8e9cbac9daf675b08e\n'}, {'number': 5, 'created': '2018-10-10 19:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3c58c57a3823005ff94e98bdc7d1a32ba8f469d2', 'message': 'Set container_cli for undercloud\n\nThis patch allows to set container_cli in undercloud.conf, during the\nupgrade process. So later we can start testing the upgrade of an\nundercloud from rocky/docker to stein/podman.\n\nChange-Id: Idbcd1f16b35013b929d7eb8e9cbac9daf675b08e\n'}, {'number': 6, 'created': '2018-10-11 22:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/beef304a416cbbde3779de7f7377344819ad2914', 'message': 'Set container_cli for undercloud\n\nThis patch allows to set container_cli in undercloud.conf, during the\nupgrade process. So later we can start testing the upgrade of an\nundercloud from rocky/docker to stein/podman.\n\nChange-Id: Idbcd1f16b35013b929d7eb8e9cbac9daf675b08e\n'}, {'number': 7, 'created': '2018-10-11 22:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ffea4bb12fd0d66f99c855091e83e1e371b892ec', 'message': 'Set container_cli for undercloud\n\nThis patch allows to set container_cli in undercloud.conf, during the\nupgrade process. So later we can start testing the upgrade of an\nundercloud from rocky/docker to stein/podman.\n\nChange-Id: Idbcd1f16b35013b929d7eb8e9cbac9daf675b08e\n'}, {'number': 8, 'created': '2018-10-12 07:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d93f2c9d950953d2580f7a1939ede2e7cea2ac0a', 'message': 'Set container_cli for undercloud\n\nThis patch allows to set container_cli in undercloud.conf, during the\nupgrade process. So later we can start testing the upgrade of an\nundercloud from rocky/docker to stein/podman.\n\nChange-Id: Idbcd1f16b35013b929d7eb8e9cbac9daf675b08e\n'}, {'number': 9, 'created': '2018-10-13 16:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/870e4863d1455c638cc5c3e9b387346288986b42', 'message': 'Set container_cli for undercloud\n\nThis patch allows to set container_cli in undercloud.conf, during the\nupgrade process. So later we can start testing the upgrade of an\nundercloud from rocky/docker to stein/podman.\n\nChange-Id: Idbcd1f16b35013b929d7eb8e9cbac9daf675b08e\n'}, {'number': 10, 'created': '2018-10-13 16:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/367562e3906bce2df3c800d08f2b439534e68b8c', 'message': 'Set container_cli for undercloud\n\nThis patch allows to set container_cli in undercloud.conf, during the\nupgrade process. So later we can start testing the upgrade of an\nundercloud from rocky/docker to stein/podman.\n\nChange-Id: Idbcd1f16b35013b929d7eb8e9cbac9daf675b08e\n'}, {'number': 11, 'created': '2018-10-15 21:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8de3bd3f1719cd3031c20e5d048942f29550892f', 'message': 'Set container_cli for undercloud\n\nThis patch allows to set container_cli in undercloud.conf, during the\nupgrade process. So later we can start testing the upgrade of an\nundercloud from rocky/docker to stein/podman.\n\nChange-Id: Idbcd1f16b35013b929d7eb8e9cbac9daf675b08e\n'}, {'number': 12, 'created': '2018-10-16 12:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f03f4cbdf280fd82b7a7d13ab19341dfc0f7f587', 'message': 'Set container_cli for undercloud\n\nThis patch allows to set container_cli in undercloud.conf, during the\nupgrade process. So later we can start testing the upgrade of an\nundercloud from rocky/docker to stein/podman.\n\nChange-Id: Idbcd1f16b35013b929d7eb8e9cbac9daf675b08e\n'}, {'number': 13, 'created': '2018-10-16 18:32:36.000000000', 'files': ['tasks/upgrade/configure_uc_containers.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c0fad7cb588444e9a07657ad3b37b0346e66df85', 'message': 'Set container_cli for undercloud\n\nThis patch allows to set container_cli in undercloud.conf, during the\nupgrade process. So later we can start testing the upgrade of an\nundercloud from rocky/docker to stein/podman.\n\nChange-Id: Idbcd1f16b35013b929d7eb8e9cbac9daf675b08e\n'}]",1,608462,c0fad7cb588444e9a07657ad3b37b0346e66df85,36,8,13,3153,,,0,"Set container_cli for undercloud

This patch allows to set container_cli in undercloud.conf, during the
upgrade process. So later we can start testing the upgrade of an
undercloud from rocky/docker to stein/podman.

Change-Id: Idbcd1f16b35013b929d7eb8e9cbac9daf675b08e
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/62/608462/13 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'tasks/upgrade/configure_uc_containers.yml']",2,7cdf66c331a25297e048e615c0e4fb9b50165a88,," - name: set container_cli for undercloud ini_file: path: ""{{ undercloud_conf }}"" section: DEFAULT option: container_cli value: ""{{ container_cli }}"" when: {% if release not in ['rocky'] -%} ",,11,0
openstack%2Fsenlin~master~I6b1470c7d67fb87497fd3980c0d6e00b8ab50ab1,openstack/senlin,master,I6b1470c7d67fb87497fd3980c0d6e00b8ab50ab1,Fix broken schema validation,MERGED,2018-08-28 20:20:01.000000000,2018-10-17 16:44:24.000000000,2018-09-20 20:49:31.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23517}, {'_account_id': 25674}, {'_account_id': 27153}, {'_account_id': 27224}, {'_account_id': 28502}]","[{'number': 1, 'created': '2018-08-28 20:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/4a2b74ce3fdfc4e33b0838b8d871acb455abd874', 'message': 'Fix broken schema validation\n\n- Add call to validate value in resolve_value. This way all the\n  children in a map will be validated.\n- Change policy version and profile version to number type. This is\n  needed because the version is being validated now.\n- Fixed testcases to work with version of type number.\n\nCloses-Bug: 1789488\nChange-Id: I6b1470c7d67fb87497fd3980c0d6e00b8ab50ab1\n'}, {'number': 2, 'created': '2018-08-28 22:31:36.000000000', 'files': ['senlin/tests/unit/policies/test_policy.py', 'senlin/tests/unit/profiles/test_nova_server.py', 'senlin/tests/unit/test_common_schema.py', 'senlin/common/schema.py', 'senlin/tests/unit/profiles/test_profile_base.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/8a2fd8d284e3fd50d9d6aeb5f80e3bb715f80837', 'message': 'Fix broken schema validation\n\n- Add call to validate value in resolve_value. This way all the\n  children in a map will be validated.\n- Remove explicit check of string type in String validation since\n  everything could be considered a string.  This is needed because the\n  version is now being validated and we allow version to be a float or\n  string.\n\nCloses-Bug: 1789488\nChange-Id: I6b1470c7d67fb87497fd3980c0d6e00b8ab50ab1\n'}]",2,597225,8a2fd8d284e3fd50d9d6aeb5f80e3bb715f80837,19,7,2,27224,,,0,"Fix broken schema validation

- Add call to validate value in resolve_value. This way all the
  children in a map will be validated.
- Remove explicit check of string type in String validation since
  everything could be considered a string.  This is needed because the
  version is now being validated and we allow version to be a float or
  string.

Closes-Bug: 1789488
Change-Id: I6b1470c7d67fb87497fd3980c0d6e00b8ab50ab1
",git fetch https://review.opendev.org/openstack/senlin refs/changes/25/597225/2 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/tests/unit/policies/test_policy.py', 'senlin/tests/unit/profiles/test_nova_server.py', 'senlin/policies/base.py', 'senlin/profiles/base.py', 'senlin/common/schema.py', 'senlin/tests/unit/profiles/test_profile_base.py']",6,4a2b74ce3fdfc4e33b0838b8d871acb455abd874,bug/1789488," self.assertEqual(1.0, spec_data['version'])"," self.assertEqual('1.0', spec_data['version'])",14,11
openstack%2Fnova~master~I760580b8e6594be2bee99a5b825a690b07ab9deb,openstack/nova,master,I760580b8e6594be2bee99a5b825a690b07ab9deb,Fix formatting non-templated cell URLs with no config,MERGED,2018-10-16 17:00:09.000000000,2018-10-17 16:31:47.000000000,2018-10-17 13:05:00.000000000,"[{'_account_id': 2033}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-10-16 17:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3348daaf242ec45139a8a2856041c080564f146f', 'message': 'Fix formatting non-templated cell URLs with no config\n\nIf transport_url or connection are unset in config, we will fail to format\neven non-templated cell mapping URLs due to an overly specific check in the\nformat routines. This fixes it by always bailing on templating if the config\nis unset, and keeping the error message if we were unable to format a\ntemplate as a result.\n\nChange-Id: I760580b8e6594be2bee99a5b825a690b07ab9deb\nCloses-Bug: #1798158\n'}, {'number': 2, 'created': '2018-10-16 17:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4437b16c4ac1978da9e181e95a63a8f109190f30', 'message': 'Fix formatting non-templated cell URLs with no config\n\nIf transport_url or connection are unset in config, we will fail to format\neven non-templated cell mapping URLs due to an overly specific check in the\nformat routines. This fixes it by always bailing on templating if the config\nis unset, and keeping the error message if we were unable to format a\ntemplate as a result.\n\nChange-Id: I760580b8e6594be2bee99a5b825a690b07ab9deb\nCloses-Bug: #1798158\n'}, {'number': 3, 'created': '2018-10-16 20:11:39.000000000', 'files': ['nova/objects/cell_mapping.py', 'nova/tests/unit/objects/test_cell_mapping.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/133d6b3bcc26bb2e66ef303011280e38add00702', 'message': 'Fix formatting non-templated cell URLs with no config\n\nIf transport_url or connection are unset in config, we will fail to format\neven non-templated cell mapping URLs due to an overly specific check in the\nformat routines. This fixes it by always bailing on templating if the config\nis unset, and keeping the error message if we were unable to format a\ntemplate as a result.\n\nChange-Id: I760580b8e6594be2bee99a5b825a690b07ab9deb\nCloses-Bug: #1798158\n'}]",6,611094,133d6b3bcc26bb2e66ef303011280e38add00702,38,18,3,4393,,,0,"Fix formatting non-templated cell URLs with no config

If transport_url or connection are unset in config, we will fail to format
even non-templated cell mapping URLs due to an overly specific check in the
format routines. This fixes it by always bailing on templating if the config
is unset, and keeping the error message if we were unable to format a
template as a result.

Change-Id: I760580b8e6594be2bee99a5b825a690b07ab9deb
Closes-Bug: #1798158
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/611094/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/cell_mapping.py', 'nova/tests/unit/objects/test_cell_mapping.py']",2,3348daaf242ec45139a8a2856041c080564f146f,bug/1798158," @mock.patch.object(cell_mapping.CellMapping, '_get_by_uuid_from_db') def test_non_formatted_url_with_no_base(self, mock_get): # Make sure we just pass through the template URL if the base # URLs are not set url = 'foo' self.flags(transport_url=None) self.flags(connection=None, group='database') db_mapping = get_db_mapping(transport_url=url, database_connection=url) mock_get.return_value = db_mapping mapping_obj = objects.CellMapping().get_by_uuid(self.context, db_mapping['uuid']) self.assertEqual(url, mapping_obj.database_connection) self.assertEqual(url, mapping_obj.transport_url) ",,23,6
openstack%2Fcinder~master~I4e20cdc555e9fb53dbc831f4464ccf80d9f01e7b,openstack/cinder,master,I4e20cdc555e9fb53dbc831f4464ccf80d9f01e7b,Mark Veritas HyperScale Driver Unsupported,MERGED,2018-10-03 22:03:02.000000000,2018-10-17 16:31:27.000000000,2018-10-17 13:42:37.000000000,"[{'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 28948}]","[{'number': 1, 'created': '2018-10-03 22:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f02f89a4906a25d8531c60e3d43079a9ceeb07c4', 'message': ""Mark Veritas HyperScale Driver Unsupported\n\nThe Veritas HyperScale Driver 3rd Pary CI hasn't\nreported in 153 days.  This does not meet the requirements\nfor Cinder's 3rd Party CI requirements.\n\nAs a result the driver is being marked unsupported in the\nStein release and should be removed in the 'T' release if\nthe problems are not resolved.\n\nChange-Id: I4e20cdc555e9fb53dbc831f4464ccf80d9f01e7b\n""}, {'number': 2, 'created': '2018-10-12 17:51:50.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'releasenotes/notes/mark-unsupported-vrtshyperscale-2bd42e2af8b803d7.yaml', 'cinder/volume/drivers/veritas/vrtshyperscale.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/441a1c2368844aaef6cc91e8a867a30550542b5b', 'message': ""Mark Veritas HyperScale Driver Unsupported\n\nThe Veritas HyperScale Driver 3rd Pary CI hasn't\nreported in 153 days.  This does not meet the requirements\nfor Cinder's 3rd Party CI requirements.\n\nAs a result the driver is being marked unsupported in the\nStein release and should be removed in the 'T' release if\nthe problems are not resolved.\n\nChange-Id: I4e20cdc555e9fb53dbc831f4464ccf80d9f01e7b\n""}]",2,607728,441a1c2368844aaef6cc91e8a867a30550542b5b,65,38,2,7198,,,0,"Mark Veritas HyperScale Driver Unsupported

The Veritas HyperScale Driver 3rd Pary CI hasn't
reported in 153 days.  This does not meet the requirements
for Cinder's 3rd Party CI requirements.

As a result the driver is being marked unsupported in the
Stein release and should be removed in the 'T' release if
the problems are not resolved.

Change-Id: I4e20cdc555e9fb53dbc831f4464ccf80d9f01e7b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/607728/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'releasenotes/notes/mark-unsupported-vrtshyperscale-2bd42e2af8b803d7.yaml', 'cinder/volume/drivers/veritas/vrtshyperscale.py']",3,f02f89a4906a25d8531c60e3d43079a9ceeb07c4,mark-unsupported-vrtshyperscale, # TODO(jsbryant) Remove driver in the 'T' release if CI is not fixed. SUPPORTED = False ,,18,1
openstack%2Ftripleo-heat-templates~master~I35c8d9985df21b3084fba558687e1f408e5a0878,openstack/tripleo-heat-templates,master,I35c8d9985df21b3084fba558687e1f408e5a0878,"Run online migrations via ""external-upgrade run""",MERGED,2018-09-19 15:04:24.000000000,2018-10-17 16:22:45.000000000,2018-10-17 15:29:06.000000000,"[{'_account_id': 8042}, {'_account_id': 11166}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-09-19 15:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c93db241448247fcf099dde6ecf22df55a3fdc07', 'message': 'Run online migrations via ""external-upgrade run""\n\nThis will pull the online data migrations out of the upgrade\nmaintenance window and let them be performed after the main upgrade\nphase while the cloud is already operational.\n\nThe online part of the service upgrades can be run using:\n\n    openstack overcloud external-upgrade run --tags online_upgrade\n\nor per-service like:\n\n    openstack overcloud external-upgrade run --tags online_upgrade_nova\n    openstack overcloud external-upgrade run --tags online_upgrade_cinder\n    openstack overcloud external-upgrade run --tags online_upgrade_ironic\n\nChange-Id: I35c8d9985df21b3084fba558687e1f408e5a0878\nCloses-Bug: #1793332\n'}, {'number': 2, 'created': '2018-09-21 09:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ef0cdce4b2cdba1ce24fe2436c69154ed9906011', 'message': 'Run online migrations via ""external-upgrade run""\n\nThis will pull the online data migrations out of the upgrade\nmaintenance window and let them be performed after the main upgrade\nphase while the cloud is already operational.\n\nThe online part of the service upgrades can be run using:\n\n    openstack overcloud external-upgrade run --tags online_upgrade\n\nor per-service like:\n\n    openstack overcloud external-upgrade run --tags online_upgrade_nova\n    openstack overcloud external-upgrade run --tags online_upgrade_cinder\n    openstack overcloud external-upgrade run --tags online_upgrade_ironic\n\nChange-Id: I35c8d9985df21b3084fba558687e1f408e5a0878\nCloses-Bug: #1793332\n'}, {'number': 3, 'created': '2018-10-04 14:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/65e2084648493da318f3cd0e94881f2bba285a6d', 'message': 'Run online migrations via ""external-upgrade run""\n\nThis will pull the online data migrations out of the upgrade\nmaintenance window and let them be performed after the main upgrade\nphase while the cloud is already operational.\n\nThe online part of the service upgrades can be run using:\n\n    openstack overcloud external-upgrade run --tags online_upgrade\n\nor per-service like:\n\n    openstack overcloud external-upgrade run --tags online_upgrade_nova\n    openstack overcloud external-upgrade run --tags online_upgrade_cinder\n    openstack overcloud external-upgrade run --tags online_upgrade_ironic\n\nChange-Id: I35c8d9985df21b3084fba558687e1f408e5a0878\nCloses-Bug: #1793332\n'}, {'number': 4, 'created': '2018-10-08 09:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7d668e58321757220d004db448795d6e99cf72d0', 'message': 'Run online migrations via ""external-upgrade run""\n\nThis will pull the online data migrations out of the upgrade\nmaintenance window and let them be performed after the main upgrade\nphase while the cloud is already operational.\n\nThe online part of the service upgrades can be run using:\n\n    openstack overcloud external-upgrade run --tags online_upgrade\n\nor per-service like:\n\n    openstack overcloud external-upgrade run --tags online_upgrade_nova\n    openstack overcloud external-upgrade run --tags online_upgrade_cinder\n    openstack overcloud external-upgrade run --tags online_upgrade_ironic\n\nChange-Id: I35c8d9985df21b3084fba558687e1f408e5a0878\nCloses-Bug: #1793332\n'}, {'number': 5, 'created': '2018-10-08 09:09:27.000000000', 'files': ['releasenotes/notes/online-migration-external-upgrade-5093de6bd8993b5c.yaml', 'docker/services/nova-api.yaml', 'docker/services/ironic-api.yaml', 'docker/services/cinder-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e81878bc041a8d579844b1e15f43b24cfb06cb25', 'message': 'Run online migrations via ""external-upgrade run""\n\nThis will pull the online data migrations out of the upgrade\nmaintenance window and let them be performed after the main upgrade\nphase while the cloud is already operational.\n\nThe online part of the service upgrades can be run using:\n\n    openstack overcloud external-upgrade run --tags online_upgrade\n\nor per-service like:\n\n    openstack overcloud external-upgrade run --tags online_upgrade_nova\n    openstack overcloud external-upgrade run --tags online_upgrade_cinder\n    openstack overcloud external-upgrade run --tags online_upgrade_ironic\n\nChange-Id: I35c8d9985df21b3084fba558687e1f408e5a0878\nCloses-Bug: #1793332\n'}]",3,603826,e81878bc041a8d579844b1e15f43b24cfb06cb25,30,6,5,8042,,,0,"Run online migrations via ""external-upgrade run""

This will pull the online data migrations out of the upgrade
maintenance window and let them be performed after the main upgrade
phase while the cloud is already operational.

The online part of the service upgrades can be run using:

    openstack overcloud external-upgrade run --tags online_upgrade

or per-service like:

    openstack overcloud external-upgrade run --tags online_upgrade_nova
    openstack overcloud external-upgrade run --tags online_upgrade_cinder
    openstack overcloud external-upgrade run --tags online_upgrade_ironic

Change-Id: I35c8d9985df21b3084fba558687e1f408e5a0878
Closes-Bug: #1793332
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/603826/5 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/nova-api.yaml', 'docker/services/cinder-api.yaml', 'docker/services/ironic-api.yaml']",3,c93db241448247fcf099dde6ecf22df55a3fdc07,bug/1793332," external_upgrade_tasks: - when: step|int == 1 block: - name: Online data migration for Ironic command: docker exec ironic_api ironic-dbsync --config-file /etc/ironic/ironic.conf online_data_migrations delegate_to: ""{{ groups['ironic_api'][0] }}"" tags: - online_upgrade - online_upgrade_ironic"," step_5: ironic_online_migrations: start_order: 2 image: *ironic_api_image net: host privileged: false detach: false user: root volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/config-data/ironic_api/etc/ironic:/etc/ironic:ro - /var/log/containers/ironic:/var/log/ironic - /var/log/containers/httpd/ironic-api:/var/log/httpd command: ""/usr/bin/bootstrap_host_exec ironic_api su ironic -s /bin/bash -c 'ironic-dbsync --config-file /etc/ironic/ironic.conf online_data_migrations'"" # NOTE: In puppet service variant, we ran release N online # migrations before upgrade to release N+1. In docker # service variant, we run release N online migrations # after upgrade to release N. This means that during # switch from non-containerized to containerized, we need # to run both of these. - name: Online data migration for Ironic before switching to containers tags: pre-upgrade when: - is_bootstrap_node|bool - (ironic_httpd_enabled|bool and httpd_running|bool) or ironic_api_enabled|bool command: ironic-dbsync --config-file /etc/ironic/ironic.conf online_data_migrations",27,80
openstack%2Ftripleo-heat-templates~master~I1933bd0eedab71caab56c0e5d93ba7927fb7c20f,openstack/tripleo-heat-templates,master,I1933bd0eedab71caab56c0e5d93ba7927fb7c20f,Introduce proper steps to external update/upgrade tasks,MERGED,2018-10-04 14:26:19.000000000,2018-10-17 16:22:34.000000000,2018-10-17 15:03:46.000000000,"[{'_account_id': 8042}, {'_account_id': 11166}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-10-04 14:26:19.000000000', 'files': ['common/deploy-steps.j2', 'extraconfig/services/openshift-master.yaml', 'docker/services/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bcd6cde608a979658d43d0587ea4bc3a59022aae', 'message': ""Introduce proper steps to external update/upgrade tasks\n\nSo far the tasks for external update/upgrade were not using the step\nmechanism as other tasks, we had a single step. As external\ndeploy/update/upgrade tasks are being used for more things nowadays,\nit's likely that we'll need to go towards a similar model like we have\nfor deploy/update/upgrade tasks -- proper usage of steps.\n\nFor now we have just 2:\n\n* Step 0 for setting global facts, and performing validations.\n\n* Step 1 for actual update/upgrade tasks. (There's an upcoming change\n  to run online data migrations in step 1).\n\nChange-Id: I1933bd0eedab71caab56c0e5d93ba7927fb7c20f\nPartial-Bug: #1793332\n""}]",0,607973,bcd6cde608a979658d43d0587ea4bc3a59022aae,17,6,1,8042,,,0,"Introduce proper steps to external update/upgrade tasks

So far the tasks for external update/upgrade were not using the step
mechanism as other tasks, we had a single step. As external
deploy/update/upgrade tasks are being used for more things nowadays,
it's likely that we'll need to go towards a similar model like we have
for deploy/update/upgrade tasks -- proper usage of steps.

For now we have just 2:

* Step 0 for setting global facts, and performing validations.

* Step 1 for actual update/upgrade tasks. (There's an upcoming change
  to run online data migrations in step 1).

Change-Id: I1933bd0eedab71caab56c0e5d93ba7927fb7c20f
Partial-Bug: #1793332
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/607973/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps.j2', 'extraconfig/services/openshift-master.yaml', 'docker/services/ceph-ansible/ceph-base.yaml']",3,bcd6cde608a979658d43d0587ea4bc3a59022aae,bug/1793332," - when: step|int == 0 block: - name: set ceph_ansible_playbooks_default set_fact: ceph_ansible_playbooks_default: [""/usr/share/ceph-ansible/infrastructure-playbooks/rolling_update.yml""] external_upgrade_tasks: - when: step|int == 0 block: - name: set ceph_ansible_playbooks_default set_fact: ceph_ansible_playbooks_default: [""/usr/share/ceph-ansible/infrastructure-playbooks/rolling_update.yml""]"," - name: set ceph_ansible_playbooks_default set_fact: ceph_ansible_playbooks_default: [""/usr/share/ceph-ansible/infrastructure-playbooks/rolling_update.yml""] external_upgrade_tasks: - name: set ceph_ansible_playbooks_default set_fact: ceph_ansible_playbooks_default: [""/usr/share/ceph-ansible/infrastructure-playbooks/rolling_update.yml""]",17,11
openstack%2Fos-ken~master~Ie24abd1f39b1550fd23b406ec861f1ed94870174,openstack/os-ken,master,Ie24abd1f39b1550fd23b406ec861f1ed94870174,import zuul job settings from project-config,MERGED,2018-10-16 12:56:43.000000000,2018-10-17 16:22:10.000000000,2018-10-17 16:22:10.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-10-16 12:56:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/27062d32f88cb1f03c869c852ec649b54f62f55e', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: Ie24abd1f39b1550fd23b406ec861f1ed94870174\nStory: #2004073\nTask: #27432\n'}]",0,610959,27062d32f88cb1f03c869c852ec649b54f62f55e,9,5,1,17499,,,0,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: Ie24abd1f39b1550fd23b406ec861f1ed94870174
Story: #2004073
Task: #27432
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/59/610959/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,27062d32f88cb1f03c869c852ec649b54f62f55e,py37-job, - openstack-tox-pep8 - openstack-tox-pep8, - openstack-tox-pep8 - openstack-tox-pep8,2,2
openstack%2Fshade~master~I87bd8c9c1519f9500097c8d3ebc9626cb3f08467,openstack/shade,master,I87bd8c9c1519f9500097c8d3ebc9626cb3f08467,Add release note about decoupling,MERGED,2018-10-17 14:00:07.000000000,2018-10-17 16:11:34.000000000,2018-10-17 16:11:34.000000000,"[{'_account_id': 2}, {'_account_id': 3099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 14:00:07.000000000', 'files': ['releasenotes/notes/lifesupport-d6e700c3226e35d6.yaml'], 'web_link': 'https://opendev.org/openstack/shade/commit/4ff38e65a43429b401a2a241b9e01e3ea37c9743', 'message': 'Add release note about decoupling\n\nChange-Id: I87bd8c9c1519f9500097c8d3ebc9626cb3f08467\n'}]",0,611320,4ff38e65a43429b401a2a241b9e01e3ea37c9743,7,3,1,2,,,0,"Add release note about decoupling

Change-Id: I87bd8c9c1519f9500097c8d3ebc9626cb3f08467
",git fetch https://review.opendev.org/openstack/shade refs/changes/20/611320/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/lifesupport-d6e700c3226e35d6.yaml'],1,4ff38e65a43429b401a2a241b9e01e3ea37c9743,,"--- prelude: > The relationship between shade and openstacksdk has been decoupled and the shade library is now officially in maintenance mode. Bugfixes are welcome, and the library remains supported, but no new features will be accepted. Developers are strongly encouraged to migrate to openstacksdk which has the same code but is being actively driven forward. ",,8,0
openstack%2Fshade~master~I3f5b5fb26af2f6c0bbaade24a04c3d1f274c8cce,openstack/shade,master,I3f5b5fb26af2f6c0bbaade24a04c3d1f274c8cce,Decouple OpenStackCloud from Connection,MERGED,2018-10-16 14:06:00.000000000,2018-10-17 16:11:34.000000000,2018-10-17 16:11:34.000000000,"[{'_account_id': 2}, {'_account_id': 3099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 14:06:00.000000000', 'files': ['shade/_utils.py', 'shade/tests/unit/test_project.py', 'README.rst', 'shade/tests/unit/base.py', 'shade/exc.py', 'shade/_adapter.py', 'shade/tests/unit/test_domains.py', 'doc/source/user/logging.rst', 'shade/__init__.py', 'shade/_legacy_clients.py', 'shade/openstackcloud.py', 'shade/tests/functional/test_floating_ip.py', 'shade/tests/unit/test_shade_operator.py', 'shade/tests/unit/test_task_manager.py', 'shade/tests/functional/base.py', 'shade/tests/functional/test_volume.py', 'doc/source/contributor/coding.rst', 'releasenotes/notes/removed-task-manager-5dd9a98d85b987b1.yaml', 'shade/tests/unit/test_baremetal_node.py', 'shade/_normalize.py', 'shade/tests/unit/test__utils.py', 'shade/tests/unit/test_shade.py', 'shade/inventory.py', 'shade/task_manager.py', 'shade/tests/unit/test_inventory.py', 'shade/tests/functional/test_compute.py', 'shade/tests/unit/test__adapter.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/3b2cad5d31410b6ada3dd008f68add1654d60820', 'message': 'Decouple OpenStackCloud from Connection\n\nRevert the openstacksdk subclassing from shade. The idea was to\nreduce the workload, but trying to make sure that the Cloud abstraction\nin openstacksdk doesn\'t break shade\'s contract while we update things is\na ton of work to meet the contract that\'s not really valuable to people.\n\nInstead, we\'ll put shade on lifesupport and only accept bugfix patches.\n\nRevert ""Make OpenStackCloud a subclass of Connection""\n\nThis reverts commit ab3f400064f93391bfe444fe64f184be06c7dbe6.\n\nRevert ""Use openstack.config directly for config""\n\nThis reverts commit 2b48637b6790139c363f0c62977bfa585a2bc1d9.\n\nRevert ""Remove the task manager""\n\nThis reverts commit 28e95889a0fd8105d12c20575fa66637564a6f89.\n\nChange-Id: I3f5b5fb26af2f6c0bbaade24a04c3d1f274c8cce\n'}]",0,610981,3b2cad5d31410b6ada3dd008f68add1654d60820,13,3,1,2,,,0,"Decouple OpenStackCloud from Connection

Revert the openstacksdk subclassing from shade. The idea was to
reduce the workload, but trying to make sure that the Cloud abstraction
in openstacksdk doesn't break shade's contract while we update things is
a ton of work to meet the contract that's not really valuable to people.

Instead, we'll put shade on lifesupport and only accept bugfix patches.

Revert ""Make OpenStackCloud a subclass of Connection""

This reverts commit ab3f400064f93391bfe444fe64f184be06c7dbe6.

Revert ""Use openstack.config directly for config""

This reverts commit 2b48637b6790139c363f0c62977bfa585a2bc1d9.

Revert ""Remove the task manager""

This reverts commit 28e95889a0fd8105d12c20575fa66637564a6f89.

Change-Id: I3f5b5fb26af2f6c0bbaade24a04c3d1f274c8cce
",git fetch https://review.opendev.org/openstack/shade refs/changes/81/610981/1 && git format-patch -1 --stdout FETCH_HEAD,"['shade/_utils.py', 'shade/tests/unit/test_project.py', 'README.rst', 'shade/tests/unit/base.py', 'shade/exc.py', 'shade/_adapter.py', 'shade/tests/unit/test_domains.py', 'doc/source/user/logging.rst', 'shade/__init__.py', 'shade/_legacy_clients.py', 'shade/openstackcloud.py', 'shade/tests/functional/test_floating_ip.py', 'shade/tests/unit/test_shade_operator.py', 'shade/tests/unit/test_task_manager.py', 'shade/tests/functional/base.py', 'shade/tests/functional/test_volume.py', 'doc/source/contributor/coding.rst', 'releasenotes/notes/removed-task-manager-5dd9a98d85b987b1.yaml', 'shade/tests/unit/test_baremetal_node.py', 'shade/_normalize.py', 'shade/tests/unit/test__utils.py', 'shade/tests/unit/test_shade.py', 'shade/inventory.py', 'shade/task_manager.py', 'shade/tests/unit/test_inventory.py', 'shade/tests/functional/test_compute.py', 'shade/tests/unit/test__adapter.py']",27,3b2cad5d31410b6ada3dd008f68add1654d60820,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from testscenarios import load_tests_apply_scenarios as load_tests # noqa from shade import _adapter from shade.tests.unit import base class TestExtractName(base.TestCase): scenarios = [ ('slash_servers_bare', dict(url='/servers', parts=['servers'])), ('slash_servers_arg', dict(url='/servers/1', parts=['servers'])), ('servers_bare', dict(url='servers', parts=['servers'])), ('servers_arg', dict(url='servers/1', parts=['servers'])), ('networks_bare', dict(url='/v2.0/networks', parts=['networks'])), ('networks_arg', dict(url='/v2.0/networks/1', parts=['networks'])), ('tokens', dict(url='/v3/tokens', parts=['tokens'])), ('discovery', dict(url='/', parts=['discovery'])), ('secgroups', dict( url='/servers/1/os-security-groups', parts=['servers', 'os-security-groups'])), ] def test_extract_name(self): results = _adapter.extract_name(self.url) self.assertEqual(self.parts, results) ",,3671,122
openstack%2Fkolla-ansible~master~I44d3982233f892d2c0ce3b9964194d8098453978,openstack/kolla-ansible,master,I44d3982233f892d2c0ce3b9964194d8098453978,[nova] Fix missing blacklist permission.,MERGED,2018-10-02 21:31:06.000000000,2018-10-17 16:02:40.000000000,2018-10-17 16:02:40.000000000,"[{'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2018-10-02 21:31:06.000000000', 'files': ['ansible/roles/nova/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/48e9898abd3fb74b294906d5944dafbb7cf07ce0', 'message': '[nova] Fix missing blacklist permission.\n\nThe cephx keys are missing a default permission\nto allow to see blacklisted clients.\n\nThis permission ensures that in the event of a client\ncrash (kill -9/hard shutdown/power outage) the client\ncan re-connect and write to any devices after reboot.\n\nCloses-Bug: 1773449\n\nChange-Id: I44d3982233f892d2c0ce3b9964194d8098453978\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@linaro.org>\n'}]",0,607369,48e9898abd3fb74b294906d5944dafbb7cf07ce0,8,3,1,2276,,,0,"[nova] Fix missing blacklist permission.

The cephx keys are missing a default permission
to allow to see blacklisted clients.

This permission ensures that in the event of a client
crash (kill -9/hard shutdown/power outage) the client
can re-connect and write to any devices after reboot.

Closes-Bug: 1773449

Change-Id: I44d3982233f892d2c0ce3b9964194d8098453978
Signed-off-by: Jorge Niedbalski <jorge.niedbalski@linaro.org>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/69/607369/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/defaults/main.yml'],1,48e9898abd3fb74b294906d5944dafbb7cf07ce0,bug/1773449," mon: 'allow r, allow command ""osd blacklist""'", mon: 'allow r',1,1
openstack%2Fironic-python-agent~master~Ic2188b49e717c62315db6c33b74b2e161436b052,openstack/ironic-python-agent,master,Ic2188b49e717c62315db6c33b74b2e161436b052,Add missing dependencies to CoreOS IPA docker image,MERGED,2018-10-16 10:55:27.000000000,2018-10-17 16:02:29.000000000,2018-10-17 16:02:29.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2018-10-16 10:55:27.000000000', 'files': ['Dockerfile'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c6ea17d413ec5e379e7eb9dcef39f5181a36380c', 'message': 'Add missing dependencies to CoreOS IPA docker image\n\nThe iptables and lshw utilities are both required for IPA: iptables is\nused when collecting system logs and lshw is used to get the total\nphysical memory and system details. However, they were not installed in\nthe docker image embedded in CoreOS IPA images. Since the docker image\nis used as a chroot to run IPA, it cannot access binaries available\noutside in the main CoreOS file system.\n\nChange-Id: Ic2188b49e717c62315db6c33b74b2e161436b052\nStory: #2004092\nTask: #27494\n'}]",0,610933,c6ea17d413ec5e379e7eb9dcef39f5181a36380c,8,4,1,15197,,,0,"Add missing dependencies to CoreOS IPA docker image

The iptables and lshw utilities are both required for IPA: iptables is
used when collecting system logs and lshw is used to get the total
physical memory and system details. However, they were not installed in
the docker image embedded in CoreOS IPA images. Since the docker image
is used as a chroot to run IPA, it cannot access binaries available
outside in the main CoreOS file system.

Change-Id: Ic2188b49e717c62315db6c33b74b2e161436b052
Story: #2004092
Task: #27494
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/33/610933/1 && git format-patch -1 --stdout FETCH_HEAD,['Dockerfile'],1,c6ea17d413ec5e379e7eb9dcef39f5181a36380c,coreos-ipa-dependencies, smartmontools iptables lshw && \, smartmontools && \,1,1
openstack%2Fironic-python-agent~stable%2Frocky~I82beecc78afb4b23234d2d5eca4f46f84f20525e,openstack/ironic-python-agent,stable/rocky,I82beecc78afb4b23234d2d5eca4f46f84f20525e,Raise udevadm settle timeout from 5 to 20 seconds,MERGED,2018-10-12 19:58:37.000000000,2018-10-17 16:02:29.000000000,2018-10-17 16:02:28.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-12 19:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/05118f6705e3d6d52da9f518d9ab19672d293637', 'message': ""Fix for grenade slow discovery of e1000 network device\n\nIronic Inspector grenade job is using e1000 driver since\nchange: I4ec297281380896ffe9004c4de7117586ded7149\n\nIn some cases the e1000 devices has not registered yet,\nand thus the dhcp init script does not find any interfaces\nto bring up. This causes the grenade job to continue with\nno network, and the job finally fail.\n\nAdd a check in the tinyipa dhcp init script, if no network\ndevices are present. Re-run udevadm --settle with a longer\ntimout and the re-discover devices in /proc/net/dev.\n\nLet's hope another 5 seconds is enough. If not we now have\nmore logs to identify the issue.\n\nChange-Id: I82beecc78afb4b23234d2d5eca4f46f84f20525e\n(cherry picked from commit 4e107c7dfd690bdae5472c3024c2e2dcad1b7bc6)\n""}, {'number': 2, 'created': '2018-10-13 15:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/60e31b06e4ab8d5c48daf68e57042260f5e36789', 'message': ""Fix for grenade slow discovery of e1000 network device\n\nIronic Inspector grenade job is using e1000 driver since\nchange: I4ec297281380896ffe9004c4de7117586ded7149\n\nIn some cases the e1000 devices has not registered yet,\nand thus the dhcp init script does not find any interfaces\nto bring up. This causes the grenade job to continue with\nno network, and the job finally fail.\n\nAdd a check in the tinyipa dhcp init script, if no network\ndevices are present. Re-run udevadm --settle with a longer\ntimout and the re-discover devices in /proc/net/dev.\n\nLet's hope another 5 seconds is enough. If not we now have\nmore logs to identify the issue.\n\nChange-Id: I82beecc78afb4b23234d2d5eca4f46f84f20525e\n(cherry picked from commit 4e107c7dfd690bdae5472c3024c2e2dcad1b7bc6)\n""}, {'number': 3, 'created': '2018-10-13 15:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1d7ce8bea3137202f4f27cb343043d103370322f', 'message': ""Fix for grenade slow discovery of e1000 network device\n\nIronic Inspector grenade job is using e1000 driver since\nchange: I4ec297281380896ffe9004c4de7117586ded7149\n\nIn some cases the e1000 devices has not registered yet,\nand thus the dhcp init script does not find any interfaces\nto bring up. This causes the grenade job to continue with\nno network, and the job finally fail.\n\nAdd a check in the tinyipa dhcp init script, if no network\ndevices are present. Re-run udevadm --settle with a longer\ntimout and the re-discover devices in /proc/net/dev.\n\nLet's hope another 10 seconds is enough. If not we now have\nmore logs to identify the issue.\n\nChange-Id: I82beecc78afb4b23234d2d5eca4f46f84f20525e\n(cherry picked from commit 4e107c7dfd690bdae5472c3024c2e2dcad1b7bc6)\n""}, {'number': 4, 'created': '2018-10-13 20:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/818ec74475e2ae872c92221600c824e98673a832', 'message': ""Raise udevadm settle timeout frin 5 to 20 seconds\n\nTo fix for grenade slow discovery of e1000 network devices.\n\nIronic Inspector grenade job is using e1000 driver since\nchange: I4ec297281380896ffe9004c4de7117586ded7149\n\nIn some cases the e1000 devices has not registered yet,\nand thus the dhcp init script does not find any interfaces\nto bring up. This causes the grenade job to continue with\nno network, and the job finally fail.\n\nLet's hope 20 seconds is enough. If not we now have more\nlogs to identify the issue.\n\nChange-Id: I82beecc78afb4b23234d2d5eca4f46f84f20525e\n(cherry picked from commit 4e107c7dfd690bdae5472c3024c2e2dcad1b7bc6)\n""}, {'number': 5, 'created': '2018-10-15 08:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5e745126c1c2121829acc589afbcd09420312c3e', 'message': ""Raise udevadm settle timeout from 5 to 20 seconds\n\nTo fix for grenade slow discovery of e1000 network devices.\n\nIronic Inspector grenade job is using e1000 driver since\nchange: I4ec297281380896ffe9004c4de7117586ded7149\n\nIn some cases the e1000 devices has not registered yet,\nand thus the dhcp init script does not find any interfaces\nto bring up. This causes the grenade job to continue with\nno networking, and the job finally fail.\n\nLet's hope 20 seconds is enough. If not we now have more\nlogs to identify the issue.\n\nChange-Id: I82beecc78afb4b23234d2d5eca4f46f84f20525e\n(cherry picked from commit 4e107c7dfd690bdae5472c3024c2e2dcad1b7bc6)\n""}, {'number': 6, 'created': '2018-10-15 15:31:08.000000000', 'files': ['imagebuild/tinyipa/build_files/dhcp.sh', 'imagebuild/tinyipa/finalise-tinyipa.sh'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/65880668d5cee36c4e67dff44450c2cf81811808', 'message': ""Raise udevadm settle timeout from 5 to 20 seconds\n\nTo fix for grenade slow discovery of e1000 network devices.\n\nIronic Inspector grenade job is using e1000 driver since\nchange: I4ec297281380896ffe9004c4de7117586ded7149\n\nIn some cases the e1000 devices has not registered yet,\nand thus the dhcp init script does not find any interfaces\nto bring up. This causes the grenade job to continue with\nno networking, and the job finally fail.\n\nMake the udev settle timout configurable (default 20 sec)\nin finalise-tinyipa.sh.\n\nLet's hope 20 seconds is enough. If not we now have more\nlogs to identify the issue.\n\nChange-Id: I82beecc78afb4b23234d2d5eca4f46f84f20525e\n(cherry picked from commit 4e107c7dfd690bdae5472c3024c2e2dcad1b7bc6)\n""}]",0,610148,65880668d5cee36c4e67dff44450c2cf81811808,16,3,6,24245,,,0,"Raise udevadm settle timeout from 5 to 20 seconds

To fix for grenade slow discovery of e1000 network devices.

Ironic Inspector grenade job is using e1000 driver since
change: I4ec297281380896ffe9004c4de7117586ded7149

In some cases the e1000 devices has not registered yet,
and thus the dhcp init script does not find any interfaces
to bring up. This causes the grenade job to continue with
no networking, and the job finally fail.

Make the udev settle timout configurable (default 20 sec)
in finalise-tinyipa.sh.

Let's hope 20 seconds is enough. If not we now have more
logs to identify the issue.

Change-Id: I82beecc78afb4b23234d2d5eca4f46f84f20525e
(cherry picked from commit 4e107c7dfd690bdae5472c3024c2e2dcad1b7bc6)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/48/610148/6 && git format-patch -1 --stdout FETCH_HEAD,"['imagebuild/tinyipa/build_files/dhcp.sh', 'imagebuild/tinyipa/finalise-tinyipa.sh']",2,05118f6705e3d6d52da9f518d9ab19672d293637,dhcp-udev-settle,"# Replace etc/init.d/dhcp.sh sudo cp ""$WORKDIR/build_files/dhcp.sh"" ""$FINALDIR/etc/init.d/dhcp.sh"" ",,29,0
openstack%2Ftripleo-docs~master~Ie95f94ef01cc78ac9b06c749c9058b7b51d70fa1,openstack/tripleo-docs,master,Ie95f94ef01cc78ac9b06c749c9058b7b51d70fa1,User docs for minor updates in Rocky+,MERGED,2018-10-15 15:11:29.000000000,2018-10-17 15:57:09.000000000,2018-10-17 15:57:09.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-10-15 15:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/c5e48a269874fdea51a94d6a13002b8eccaf2580', 'message': 'User docs for minor updates in Rocky+\n\nChange-Id: Ie95f94ef01cc78ac9b06c749c9058b7b51d70fa1\n'}, {'number': 2, 'created': '2018-10-15 15:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/d449d03662b85927be33a87472a31f4e2acacc65', 'message': 'User docs for minor updates in Rocky+\n\nChange-Id: Ie95f94ef01cc78ac9b06c749c9058b7b51d70fa1\n'}, {'number': 3, 'created': '2018-10-15 15:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/979861b27177d879bb966bd8e7ca90a71bcab5e8', 'message': 'User docs for minor updates in Rocky+\n\nChange-Id: Ie95f94ef01cc78ac9b06c749c9058b7b51d70fa1\n'}, {'number': 4, 'created': '2018-10-16 16:42:35.000000000', 'files': ['_custom/custom.css', 'doc/source/install/post_deployment/package_update.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/795593c6222c533e1fc0f1a5e81c7cc358d4886a', 'message': 'User docs for minor updates in Rocky+\n\nChange-Id: Ie95f94ef01cc78ac9b06c749c9058b7b51d70fa1\n'}]",2,610618,795593c6222c533e1fc0f1a5e81c7cc358d4886a,16,8,4,8042,,,0,"User docs for minor updates in Rocky+

Change-Id: Ie95f94ef01cc78ac9b06c749c9058b7b51d70fa1
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/18/610618/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/post_deployment/package_update.rst'],1,c5e48a269874fdea51a94d6a13002b8eccaf2580,rocky-upgrades," Update container image parameter files. .. admonition:: Queens :class: ptoq Fetch latest container images to your undercloud registry and generate a Heat environment file pointing to new container images. This is done via workflow described in :doc:`containerized deployment documentation<../containers_deployment/overcloud>`. .. admonition:: Rocky :class: qtor Prepare an environment file with new ``ContainerImagePrepare`` parameter. This is done via a command described in :doc:`container image preparation documentation<../advanced_deployment/container_image_prepare>`. The container images will be uploaded to the local registry later, in a separate step after `update prepare`. -e containers-prepare-parameter.yaml used with previous `openstack overcloud deploy` command. The last argument `containers-prepare-parameter.yaml` is a Heat environment file pointing to new container images, obtained in previous step. In Queens and before, this file containes individual container image parameters. In Rocky and beyond, this file contains the ``ContainerImagePrepare`` parameter. The `containers-prepare-parameter.yaml` file is intended to replace any previous container parameters file. You should drop the previous container parameter file and pass the new one for any subsequent stack update operations. The `update prepare` command updates the Heat stack outputs with Ansible snippets used in the next step of the update. #. **Container image upload** .. admonition:: Rocky :class: qtor In Rocky and beyond, we'll need to upload the container images to the local registry at this point. Run: .. code-block:: bash openstack overcloud external-update run --tags container_image_prepare The `update converge` command updates Heat stack outputs with Ansible snippets the same way as `overcloud deploy` would, and it runs the config management operations to assert that the overcloud state matches the used overcloud templates."," Fetch latest container images to your undercloud registry and generate a Heat environment file pointing to new container images. This is done via workflow described in :doc:`containerized deployment documentation<../containers_deployment/overcloud>`. -e container-params.yaml used with previous `openstack overcloud deploy` command. The last argument `container-params.yaml` is a Heat environment file pointing to new container images, obtained in previous step. The `container-params.yaml` file is intended to replace any previous container parameters file. You should drop the previous container parameters file and pass the new one for any subsequent stack update operations. The `update prepare` command temporarily disables config management operations that would be normally performed on a Heat stack update, and it updates the stack outputs with Ansible snippets used in the next step of the update. The `update converge` command re-enables config management operations previously disabled by `update prepare`, and it runs the config management operations to assert that the overcloud state matches the used overcloud templates.",48,20
openstack%2Fopenstack-ansible-ops~master~Iff0a3327c2031e0dd977e8e403b417e495fee14f,openstack/openstack-ansible-ops,master,Iff0a3327c2031e0dd977e8e403b417e495fee14f,MNAIO: Copy SSH keys into containers if they are present,MERGED,2018-10-17 10:41:40.000000000,2018-10-17 15:52:58.000000000,2018-10-17 15:52:58.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 10:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/e98339771e2bccf6314014b1e982df746d322898', 'message': ""MNAIO: Copy SSH keys into containers if they are present\n\nWhen starting an imaged environment, the SSH keys on the host do\nnot match the SSH keys in the containers. In this patch we ensure\nthat if the 'all_containers' group is present, then the deploy-vms\nplaybook will wait for them to come up and copy the new keys into\nthem. This ensures that the whole environment is ready to be used\njust as it was before imaging.\n\nWe also remove the 'port' argument given to the wait_for_connection\nmodule because the argument is invalid.\n\nChange-Id: Iff0a3327c2031e0dd977e8e403b417e495fee14f\n""}, {'number': 2, 'created': '2018-10-17 11:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/37f52e255cdd3710465db8354ddf04d472c0023b', 'message': ""MNAIO: Copy SSH keys into containers if they are present\n\nWhen starting an imaged environment, the SSH keys on the host do\nnot match the SSH keys in the containers. In this patch we ensure\nthat if the 'all_containers' group is present, then the deploy-vms\nplaybook will wait for them to come up and copy the new keys into\nthem. This ensures that the whole environment is ready to be used\njust as it was before imaging.\n\nWe also remove the 'port' argument given to the wait_for_connection\nmodule because the argument is invalid.\n\nChange-Id: Iff0a3327c2031e0dd977e8e403b417e495fee14f\n""}, {'number': 3, 'created': '2018-10-17 11:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/ec643f68ef03bb00675c4f37a9f90a4959dd1f65', 'message': ""MNAIO: Copy SSH keys into containers if they are present\n\nWhen starting an imaged environment, the SSH keys on the host do\nnot match the SSH keys in the containers. In this patch we ensure\nthat if the 'all_containers' group is present, then the deploy-vms\nplaybook will wait for them to come up and copy the new keys into\nthem. This ensures that the whole environment is ready to be used\njust as it was before imaging.\n\nWe also remove the 'port' argument given to the wait_for_connection\nmodule because the argument is invalid.\n\nChange-Id: Iff0a3327c2031e0dd977e8e403b417e495fee14f\n""}, {'number': 4, 'created': '2018-10-17 11:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/f5387d19221bf67cde2cf68b4948c661ccaf816b', 'message': ""MNAIO: Copy SSH keys into containers if they are present\n\nWhen starting an imaged environment, the SSH keys on the host do\nnot match the SSH keys in the containers. In this patch we ensure\nthat if the 'all_containers' group is present, then the deploy-vms\nplaybook will wait for them to come up and copy the new keys into\nthem. This ensures that the whole environment is ready to be used\njust as it was before imaging.\n\nWe also remove the 'port' argument given to the wait_for_connection\nmodule because the argument is invalid.\n\nChange-Id: Iff0a3327c2031e0dd977e8e403b417e495fee14f\n""}, {'number': 5, 'created': '2018-10-17 11:37:17.000000000', 'files': ['multi-node-aio/playbooks/deploy-vms.yml', 'multi-node-aio/playbooks/vm-status.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/33d22c552e3cc1a85010f0dbf1c18194da89851f', 'message': ""MNAIO: Copy SSH keys into containers if they are present\n\nWhen starting an imaged environment, the SSH keys on the host do\nnot match the SSH keys in the containers. In this patch we ensure\nthat if the 'all_containers' group is present, then the deploy-vms\nplaybook will wait for them to come up and copy the new keys into\nthem. It also adds the new public key into the authorized_keys.\nThis ensures that the whole environment is ready to be used just\nas it was before imaging.\n\nWe also remove the 'port' argument given to the wait_for_connection\nmodule because the argument is invalid.\n\nChange-Id: Iff0a3327c2031e0dd977e8e403b417e495fee14f\n""}]",0,611292,33d22c552e3cc1a85010f0dbf1c18194da89851f,12,4,5,6816,,,0,"MNAIO: Copy SSH keys into containers if they are present

When starting an imaged environment, the SSH keys on the host do
not match the SSH keys in the containers. In this patch we ensure
that if the 'all_containers' group is present, then the deploy-vms
playbook will wait for them to come up and copy the new keys into
them. It also adds the new public key into the authorized_keys.
This ensures that the whole environment is ready to be used just
as it was before imaging.

We also remove the 'port' argument given to the wait_for_connection
module because the argument is invalid.

Change-Id: Iff0a3327c2031e0dd977e8e403b417e495fee14f
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/92/611292/5 && git format-patch -1 --stdout FETCH_HEAD,"['multi-node-aio/playbooks/deploy-vms.yml', 'multi-node-aio/playbooks/vm-status.yml']",2,e98339771e2bccf6314014b1e982df746d322898,file-backed-vms," - name: Container Status hosts: all_containers gather_facts: false tasks: - name: Wait for container connectivity wait_for_connection: connect_timeout: 10 delay: 3 sleep: 20 timeout: ""{{ vm_ssh_timeout }}""", port: 22 port: 22,17,3
openstack%2Fopenstack-ansible-ops~master~I6162e93c999a792cbcdc42bf605271b999327e08,openstack/openstack-ansible-ops,master,I6162e93c999a792cbcdc42bf605271b999327e08,MNAIO: Remove duplicated vm_servers group creation,MERGED,2018-10-17 10:31:46.000000000,2018-10-17 15:52:57.000000000,2018-10-17 15:52:57.000000000,"[{'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 10:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/ac0949044364f78ab3227d58988cf4d340e182c6', 'message': 'MNAIO: Remove duplicated vm_servers group creation\n\nThis play is duplicated, so we remove the second execution\nand ensure that the first uses a local connection.\n\nChange-Id: I6162e93c999a792cbcdc42bf605271b999327e08\n'}, {'number': 2, 'created': '2018-10-17 11:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/7dfb6fe2d10032bf7f149cbd6fb7daef369f335c', 'message': 'MNAIO: Remove duplicated vm_servers group creation\n\nThis play is duplicated, so we remove the second execution\nand ensure that the first uses a local connection.\n\nChange-Id: I6162e93c999a792cbcdc42bf605271b999327e08\n'}, {'number': 3, 'created': '2018-10-17 11:15:11.000000000', 'files': ['multi-node-aio/playbooks/deploy-vms.yml', 'multi-node-aio/playbooks/vm-status.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/bff190f00fb24390a9bb086fb5b630479b1e20c9', 'message': 'MNAIO: Remove duplicated vm_servers group creation\n\nThis play is duplicated, so we remove the second execution\nand ensure that the first uses a local connection.\n\nChange-Id: I6162e93c999a792cbcdc42bf605271b999327e08\n'}]",0,611288,bff190f00fb24390a9bb086fb5b630479b1e20c9,9,3,3,6816,,,0,"MNAIO: Remove duplicated vm_servers group creation

This play is duplicated, so we remove the second execution
and ensure that the first uses a local connection.

Change-Id: I6162e93c999a792cbcdc42bf605271b999327e08
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/88/611288/2 && git format-patch -1 --stdout FETCH_HEAD,"['multi-node-aio/playbooks/deploy-vms.yml', 'multi-node-aio/playbooks/vm-status.yml']",2,ac0949044364f78ab3227d58988cf4d340e182c6,file-backed-vms, connection: local - (hostvars[item]['server_vm'] | default(false)) | bool, - hostvars[item]['server_vm'] | default(false) | bool,2,18
openstack%2Fopenstack-ansible-ops~master~Iaec20866c82735dbf07592521aceacca998f3f1f,openstack/openstack-ansible-ops,master,Iaec20866c82735dbf07592521aceacca998f3f1f,MNAIO: Remove verbose output for bootstrap,MERGED,2018-10-17 10:08:27.000000000,2018-10-17 15:52:56.000000000,2018-10-17 15:52:56.000000000,"[{'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 10:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/3c4d5ea11e29ce5e0517d2def96cf1e8513c8e48', 'message': 'MNAIO: Remove verbose output for bootstrap\n\nThe verbose output is confusing and actually makes troubleshooting\nharder.\n\nChange-Id: Iaec20866c82735dbf07592521aceacca998f3f1f\n'}, {'number': 2, 'created': '2018-10-17 10:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/503d9d60f99826c18da5ef43fbffaf17bdd54a14', 'message': 'MNAIO: Remove verbose output for bootstrap\n\nThe verbose output is confusing and actually makes troubleshooting\nharder.\n\nChange-Id: Iaec20866c82735dbf07592521aceacca998f3f1f\n'}, {'number': 3, 'created': '2018-10-17 11:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/1f5a1387bbbcaf8b492de2434f7ef62d46834d85', 'message': 'MNAIO: Remove verbose output for bootstrap\n\nThe verbose output is confusing and actually makes troubleshooting\nharder.\n\nChange-Id: Iaec20866c82735dbf07592521aceacca998f3f1f\n'}, {'number': 4, 'created': '2018-10-17 11:15:11.000000000', 'files': ['multi-node-aio/bootstrap.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/261484618022e0d1e4320fe9fb93275b580d76de', 'message': 'MNAIO: Remove verbose output for bootstrap\n\nThe verbose output is confusing and actually makes troubleshooting\nharder.\n\nChange-Id: Iaec20866c82735dbf07592521aceacca998f3f1f\n'}]",0,611283,261484618022e0d1e4320fe9fb93275b580d76de,10,3,4,6816,,,0,"MNAIO: Remove verbose output for bootstrap

The verbose output is confusing and actually makes troubleshooting
harder.

Change-Id: Iaec20866c82735dbf07592521aceacca998f3f1f
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/83/611283/3 && git format-patch -1 --stdout FETCH_HEAD,['multi-node-aio/bootstrap.sh'],1,3c4d5ea11e29ce5e0517d2def96cf1e8513c8e48,file-backed-vms,set -euo,set -euov,1,1
openstack%2Fopenstack-ansible-ops~master~I751af19841ea825d21dd67f4343674b8522b689f,openstack/openstack-ansible-ops,master,I751af19841ea825d21dd67f4343674b8522b689f,MNAIO: Use the OSA inventory and plugins where possible,MERGED,2018-10-17 10:01:53.000000000,2018-10-17 15:50:02.000000000,2018-10-17 15:50:02.000000000,"[{'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 10:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/3ed262ec48efd93c5517c9cbe05950b8e1dfa9c2', 'message': ""MNAIO: Use the OSA inventory and plugins where possible\n\nThere are times when it's useful to run playbooks against the\nOSA inventory, but having to do so via infra1 is a bit of a\npain. Rather than do that we add a script which fetches the\nOSA inventory file from infra1, and we also bootstrap the OSA\nplugins repo into the default ansible plugins path so that it\nis possible to run playbooks against the containers in the VM's\nfrom the host without needing to do anything else.\n\nChange-Id: I751af19841ea825d21dd67f4343674b8522b689f\n""}, {'number': 2, 'created': '2018-10-17 10:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/030d526c3d41bc778e73c729f5c84b1dfac92e78', 'message': ""MNAIO: Use the OSA inventory and plugins where possible\n\nThere are times when it's useful to run playbooks against the\nOSA inventory, but having to do so via infra1 is a bit of a\npain. Rather than do that we add a script which fetches the\nOSA inventory file from infra1, and we also bootstrap the OSA\nplugins repo into the default ansible plugins path so that it\nis possible to run playbooks against the containers in the VM's\nfrom the host without needing to do anything else.\n\nChange-Id: I751af19841ea825d21dd67f4343674b8522b689f\n""}, {'number': 3, 'created': '2018-10-17 11:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/5f8b4e534855989452200f88ef8fbb8703333c35', 'message': ""MNAIO: Use the OSA inventory and plugins where possible\n\nThere are times when it's useful to run playbooks against the\nOSA inventory, but having to do so via infra1 is a bit of a\npain. Rather than do that we add a script which fetches the\nOSA inventory file from infra1, and we also bootstrap the OSA\nplugins repo into the default ansible plugins path so that it\nis possible to run playbooks against the containers in the VM's\nfrom the host without needing to do anything else.\n\nChange-Id: I751af19841ea825d21dd67f4343674b8522b689f\n""}, {'number': 4, 'created': '2018-10-17 11:15:11.000000000', 'files': ['multi-node-aio/bootstrap.sh', 'multi-node-aio/playbooks/inventory/openstack-ansible'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/2de8dbb24aa4009e0b22a870cd85d7531e36294b', 'message': ""MNAIO: Use the OSA inventory and plugins where possible\n\nThere are times when it's useful to run playbooks against the\nOSA inventory, but having to do so via infra1 is a bit of a\npain. Rather than do that we add a script which fetches the\nOSA inventory file from infra1, and we also bootstrap the OSA\nplugins repo into the default ansible plugins path so that it\nis possible to run playbooks against the containers in the VM's\nfrom the host without needing to do anything else.\n\nChange-Id: I751af19841ea825d21dd67f4343674b8522b689f\n""}]",0,611279,2de8dbb24aa4009e0b22a870cd85d7531e36294b,10,3,4,6816,,,0,"MNAIO: Use the OSA inventory and plugins where possible

There are times when it's useful to run playbooks against the
OSA inventory, but having to do so via infra1 is a bit of a
pain. Rather than do that we add a script which fetches the
OSA inventory file from infra1, and we also bootstrap the OSA
plugins repo into the default ansible plugins path so that it
is possible to run playbooks against the containers in the VM's
from the host without needing to do anything else.

Change-Id: I751af19841ea825d21dd67f4343674b8522b689f
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/79/611279/1 && git format-patch -1 --stdout FETCH_HEAD,"['multi-node-aio/bootstrap.sh', 'multi-node-aio/playbooks/inventory/openstack-ansible']",2,3ed262ec48efd93c5517c9cbe05950b8e1dfa9c2,file-backed-vms,"#!/bin/bash ssh -q -ttt -oStrictHostKeyChecking=no root@infra1 'OSA_INVENTORY_FILE=""/etc/openstack_deployopenstack_inventory.json""; if [[ -e ${OSA_INVENTORY_FILE} ]]; then cat ${OSA_INVENTORY_FILE}; fi' ",,12,1
openstack%2Fwatcher~master~Ifc82fc06858a4e5a2badef074cd6bb5ce4e216cb,openstack/watcher,master,Ifc82fc06858a4e5a2badef074cd6bb5ce4e216cb,Update documentation regarding DataSource for strategies,MERGED,2018-10-16 10:33:37.000000000,2018-10-17 15:49:40.000000000,2018-10-17 15:49:40.000000000,"[{'_account_id': 19055}, {'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 10:33:37.000000000', 'files': ['.gitignore', 'doc/source/contributor/plugin/strategy-plugin.rst'], 'web_link': 'https://opendev.org/openstack/watcher/commit/7c9a8569184ed15b12514a3c6b8d4848ce10ec08', 'message': 'Update documentation regarding DataSource for strategies\n\nChange-Id: Ifc82fc06858a4e5a2badef074cd6bb5ce4e216cb\n'}]",0,610928,7c9a8569184ed15b12514a3c6b8d4848ce10ec08,7,3,1,19055,,,0,"Update documentation regarding DataSource for strategies

Change-Id: Ifc82fc06858a4e5a2badef074cd6bb5ce4e216cb
",git fetch https://review.opendev.org/openstack/watcher refs/changes/28/610928/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'doc/source/contributor/plugin/strategy-plugin.rst']",2,7c9a8569184ed15b12514a3c6b8d4848ce10ec08,,"`DataSourceManager`_ for two data sources which are `Ceilometer`_ (with `Gnocchi`_ as API) and `Monasca`_. If you wish to query metrics from a different data source, you can implement your own and use it via DataSourceManager from within your new strategy. Indeed, strategies in Watcher have the cluster data models decoupled from the data sources which means that you may keep the former while changing the latter. The recommended way for you to support a new data source is to implement a new helper that would encapsulate within separate methods the queries you need to perform. To then use it, you would just have to add it to appropriate watcher_strategies.* section in config file... _`DataSourceManager`: https://github.com/openstack/watcher/blob/master/watcher/datasource/manager.py.. _`Gnocchi`: https://gnocchi.xyz/The following code snippet shows how datasource_backend is defined: from watcher.datasource import manager as ds_manager def datasource_backend(self): if not self._datasource_backend: self._datasource_backend = ds_manager.DataSourceManager( config=self.config, osc=self.osc ).get_backend(self.DATASOURCE_METRICS) return self._datasource_backend avg_meter = self.datasource_backend.statistic_aggregation( instance.uuid, 'cpu_util', self.periods['instance'], self.granularity, aggregation=self.aggregation_method['instance'])","`Helper`_ for two data sources which are `Ceilometer`_ and `Monasca`_. If you wish to query metrics from a different data source, you can implement your own and directly use it from within your new strategy. Indeed, strategies in Watcher have the cluster data models decoupled from the data sources which means that you may keep the former while changing the latter. The recommended way for you to support a new data source is to implement a new helper that would encapsulate within separate methods the queries you need to perform. To then use it, you would just have to instantiate it within your strategy... _`Helper`: https://github.com/openstack/watcher/blob/master/watcher/datasource/ceilometer.pyThe following code snippet shows how to invoke a Datasource Helper class: from watcher.datasource import ceilometer as ceil from watcher.datasource import monasca as mon def ceilometer(self): if self._ceilometer is None: self._ceilometer = ceil.CeilometerHelper(osc=self.osc) return self._ceilometer @property def monasca(self): if self._monasca is None: self._monasca = mon.MonascaHelper(osc=self.osc) return self._monasca if self.config.datasource == ""ceilometer"": resource_id = ""%s_%s"" % (node.uuid, node.hostname) return self.ceilometer.statistic_aggregation( resource_id=resource_id, meter_name='compute.node.cpu.percent', period=""7200"", aggregate='avg', ) elif self.config.datasource == ""monasca"": statistics = self.monasca.statistic_aggregation( meter_name='compute.node.cpu.percent', dimensions=dict(hostname=node.uuid), period=7200, aggregate='avg' )",28,38
openstack%2Fopenstack-ansible-ops~master~Ibe04b5676a392301cd79a5d290b77df4c7d9f79a,openstack/openstack-ansible-ops,master,Ibe04b5676a392301cd79a5d290b77df4c7d9f79a,MNAIO: Switch to using file-backed VM's only,MERGED,2018-10-09 19:46:03.000000000,2018-10-17 15:49:36.000000000,2018-10-17 15:49:36.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-09 19:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/c4a747445eb5048574040bbc269076659c6f432d', 'message': ""MNAIO: Switch to using file-backed VM's only\n\nThe MNAIO tooling is a test system, and with that target\nwe can afford to be opinionated in the implementation\nrather than try to cater to every possibility.\n\nNow that the file-backed VM implementation has matured,\nwe can switch to using it exclusively. This cuts down on\ncode complexity and allows us to mature the implementation\nfurther with more options without having to cater to two\noptions.\n\nChange-Id: Ibe04b5676a392301cd79a5d290b77df4c7d9f79a\n""}, {'number': 2, 'created': '2018-10-09 19:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/63df9b3a109eb09b604fd3256594732b88d1a9a7', 'message': ""MNAIO: Switch to using file-backed VM's only\n\nThe MNAIO tooling is a test system, and with that target\nwe can afford to be opinionated in the implementation\nrather than try to cater to every possibility.\n\nNow that the file-backed VM implementation has matured,\nwe can switch to using it exclusively. This cuts down on\ncode complexity and allows us to mature the implementation\nfurther with more options without having to cater to two\noptions.\n\nChange-Id: Ibe04b5676a392301cd79a5d290b77df4c7d9f79a\n""}, {'number': 3, 'created': '2018-10-17 09:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/ae2c5cd3f56b8cd979a9cec7defcab413aed8712', 'message': ""MNAIO: Switch to using file-backed VM's only\n\nThe MNAIO tooling is a test system, and with that target\nwe can afford to be opinionated in the implementation\nrather than try to cater to every possibility.\n\nNow that the file-backed VM implementation has matured,\nwe can switch to using it exclusively. This cuts down on\ncode complexity and allows us to mature the implementation\nfurther with more options without having to cater to two\noptions.\n\nChange-Id: Ibe04b5676a392301cd79a5d290b77df4c7d9f79a\n""}, {'number': 4, 'created': '2018-10-17 10:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/f7c0670b82f1a3cb8952b9ffc93785a2b591dd76', 'message': ""MNAIO: Switch to using file-backed VM's only\n\nThe MNAIO tooling is a test system, and with that target\nwe can afford to be opinionated in the implementation\nrather than try to cater to every possibility.\n\nNow that the file-backed VM implementation has matured,\nwe can switch to using it exclusively. This cuts down on\ncode complexity and allows us to mature the implementation\nfurther with more options without having to cater to two\noptions.\n\nChange-Id: Ibe04b5676a392301cd79a5d290b77df4c7d9f79a\n""}, {'number': 5, 'created': '2018-10-17 11:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/0ef35413c79748560199f7e4a35a5813fa80e450', 'message': ""MNAIO: Switch to using file-backed VM's only\n\nThe MNAIO tooling is a test system, and with that target\nwe can afford to be opinionated in the implementation\nrather than try to cater to every possibility.\n\nNow that the file-backed VM implementation has matured,\nwe can switch to using it exclusively. This cuts down on\ncode complexity and allows us to mature the implementation\nfurther with more options without having to cater to two\noptions.\n\nChange-Id: Ibe04b5676a392301cd79a5d290b77df4c7d9f79a\n""}, {'number': 6, 'created': '2018-10-17 11:15:11.000000000', 'files': ['multi-node-aio/playbooks/setup-host.yml', 'multi-node-aio/playbooks/deploy-vms.yml', 'multi-node-aio/playbooks/kvm/kvm-vm.xml.j2', 'multi-node-aio/README.rst', 'multi-node-aio/playbooks/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/aee8b6d910b43543911794db367da8ce6cf982e5', 'message': ""MNAIO: Switch to using file-backed VM's only\n\nThe MNAIO tooling is a test system, and with that target\nwe can afford to be opinionated in the implementation\nrather than try to cater to every possibility.\n\nNow that the file-backed VM implementation has matured,\nwe can switch to using it exclusively. This cuts down on\ncode complexity and allows us to mature the implementation\nfurther with more options without having to cater to two\noptions.\n\nChange-Id: Ibe04b5676a392301cd79a5d290b77df4c7d9f79a\n""}]",0,609110,aee8b6d910b43543911794db367da8ce6cf982e5,15,4,6,6816,,,0,"MNAIO: Switch to using file-backed VM's only

The MNAIO tooling is a test system, and with that target
we can afford to be opinionated in the implementation
rather than try to cater to every possibility.

Now that the file-backed VM implementation has matured,
we can switch to using it exclusively. This cuts down on
code complexity and allows us to mature the implementation
further with more options without having to cater to two
options.

Change-Id: Ibe04b5676a392301cd79a5d290b77df4c7d9f79a
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/10/609110/6 && git format-patch -1 --stdout FETCH_HEAD,"['multi-node-aio/playbooks/setup-host.yml', 'multi-node-aio/playbooks/deploy-vms.yml', 'multi-node-aio/playbooks/kvm/kvm-vm.xml.j2', 'multi-node-aio/README.rst', 'multi-node-aio/playbooks/group_vars/all.yml']",5,c4a747445eb5048574040bbc269076659c6f432d,file-backed-vms,vm_use_snapshot: yes,"default_vm_disk_mode: lvm default_vm_disk_vg: vg01vm_use_snapshot: ""{{ default_vm_disk_mode == 'file' }}""",68,234
openstack%2Fcyborg~master~I3a0249c7ac8ba5fd3c20ae6402dcc2f9e9bcfe95,openstack/cyborg,master,I3a0249c7ac8ba5fd3c20ae6402dcc2f9e9bcfe95,Added Glance Client for Image downloading,MERGED,2018-10-12 03:28:11.000000000,2018-10-17 15:47:32.000000000,2018-10-17 15:47:32.000000000,"[{'_account_id': 14131}, {'_account_id': 17813}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 22899}, {'_account_id': 25738}, {'_account_id': 27458}]","[{'number': 1, 'created': '2018-10-12 03:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c539283a2673a4b703771e2ffcc192633828aa4c', 'message': ""Added Glance Client for Image downloading\n\nAccording to sean mooney's comments in\nhttps://review.openstack.org/#/c/596507/\n\nI am splitting into 2 patches\n\nFor now, please add following session in cyborg.conf\n[glance]\nproject_domain_name = Default\nproject_name = service\nuser_domain_name = Default\npassword = {your_password}\nusername = placement\nauth_url = http://{host_ip}/identity\nauth_type = password\nauth_section = keystone_authtoken\napi_servers = http://{host_ip}/image\n\nChange-Id: I3a0249c7ac8ba5fd3c20ae6402dcc2f9e9bcfe95\n""}, {'number': 2, 'created': '2018-10-14 04:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/e4e799c0658c4ed1d4903cdfcb6f7bde52ac8100', 'message': ""Added Glance Client for Image downloading\n\nAccording to sean mooney's comments in\nhttps://review.openstack.org/#/c/596507/\n\nI am splitting into 2 patches\n\nFor now, please add following session in cyborg.conf\n[glance]\nproject_domain_name = Default\nproject_name = service\nuser_domain_name = Default\npassword = {your_password}\nusername = placement\nauth_url = http://{host_ip}/identity\nauth_type = password\nauth_section = keystone_authtoken\napi_servers = http://{host_ip}/image\n\nChange-Id: I3a0249c7ac8ba5fd3c20ae6402dcc2f9e9bcfe95\n""}, {'number': 3, 'created': '2018-10-17 02:44:22.000000000', 'files': ['cyborg/common/rpc.py', 'cyborg/common/exception.py', 'cyborg/common/utils.py', 'cyborg/conf/service_token.py', 'cyborg/conf/keystone.py', 'cyborg/conf/__init__.py', 'cyborg/conf/glance.py', 'cyborg/context.py', 'cyborg/image/glance.py', 'cyborg/image/download/__init__.py', 'cyborg/image/__init__.py', 'cyborg/common/service.py', 'cyborg/service_auth.py', 'cyborg/image/api.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/156c9f18e58c51e7ef375855bcb0d4a2efbdc2cb', 'message': ""Added Glance Client for Image downloading\n\nAccording to sean mooney's comments in\nhttps://review.openstack.org/#/c/596507/\n\nI am splitting into 2 patches\n\nFor now, please add following session in cyborg.conf\n[glance]\nproject_domain_name = Default\nproject_name = service\nuser_domain_name = Default\npassword = {your_password}\nusername = placement\nauth_url = http://{host_ip}/identity\nauth_type = password\nauth_section = keystone_authtoken\napi_servers = http://{host_ip}/image\n\nChange-Id: I3a0249c7ac8ba5fd3c20ae6402dcc2f9e9bcfe95\n""}]",16,609906,156c9f18e58c51e7ef375855bcb0d4a2efbdc2cb,13,7,3,27458,,,0,"Added Glance Client for Image downloading

According to sean mooney's comments in
https://review.openstack.org/#/c/596507/

I am splitting into 2 patches

For now, please add following session in cyborg.conf
[glance]
project_domain_name = Default
project_name = service
user_domain_name = Default
password = {your_password}
username = placement
auth_url = http://{host_ip}/identity
auth_type = password
auth_section = keystone_authtoken
api_servers = http://{host_ip}/image

Change-Id: I3a0249c7ac8ba5fd3c20ae6402dcc2f9e9bcfe95
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/06/609906/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/common/rpc.py', 'cyborg/common/exception.py', 'cyborg/common/utils.py', 'cyborg/conf/service_token.py', 'cyborg/conf/keystone.py', 'cyborg/conf/__init__.py', 'cyborg/conf/glance.py', 'cyborg/context.py', 'cyborg/image/glance.py', 'cyborg/image/download/__init__.py', 'cyborg/image/__init__.py', 'cyborg/common/service.py', 'cyborg/service_auth.py', 'cyborg/image/api.py']",14,c539283a2673a4b703771e2ffcc192633828aa4c,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Main abstraction layer for retrieving and storing information about acclerator images used by the cyborg agent layer. """""" from cyborg.image import glance from oslo_log import log LOG = log.getLogger(__name__) class API(object): """"""Responsible for exposing a relatively stable internal API for other modules in Cyborg to retrieve information about acclerator images. """""" def _get_session_and_image_id(self, context, id_or_uri): """"""Returns a tuple of (session, image_id). If the supplied `id_or_uri` is an image ID, then the default client session will be returned for the context's user, along with the image ID. If the supplied `id_or_uri` parameter is a URI, then a client session connecting to the URI's image service endpoint will be returned along with a parsed image ID from that URI. :param context: The `cyborg.context.Context` object for the request :param id_or_uri: A UUID identifier or an image URI to look up image information for. """""" return glance.get_remote_image_service(context, id_or_uri) def _get_session(self, _context): """"""Returns a client session that can be used to query for image information. :param _context: The `cyborg.context.Context` object for the request """""" return glance.get_default_image_service() @staticmethod def generate_image_url(image_ref, context): """"""Generate an image URL from an image_ref. :param image_ref: The image ref to generate URL :param context: The `cyborg.context.Context` object for the request """""" return ""%s/images/%s"" % (next(glance.get_api_servers(context)), image_ref) def get_all(self, context, **kwargs): """"""Retrieves all information records about all disk images available to show to the requesting user. If the requesting user is an admin, all images in an ACTIVE status are returned. If the requesting user is not an admin, the all public images and all private images that are owned by the requesting user in the ACTIVE status are returned. :param context: The `cyborg.context.Context` object for the request :param kwargs: A dictionary of filter and pagination values that may be passed to the underlying image info driver. """""" session = self._get_session(context) return session.detail(context, **kwargs) def get(self, context, id_or_uri, include_locations=False, show_deleted=True): """"""Retrieves the information record for a single disk image. If the supplied identifier parameter is a UUID, the default driver will be used to return information about the image. If the supplied identifier is a URI, then the driver that matches that URI endpoint will be used to query for image information. :param context: The `cyborg.context.Context` object for the request :param id_or_uri: A UUID identifier or an image URI to look up image information for. :param include_locations: (Optional) include locations in the returned dict of information if the image service API supports it. If the image service API does not support the locations attribute, it will still be included in the returned dict, as an empty list. :param show_deleted: (Optional) show the image even the status of image is deleted. """""" session, image_id = self._get_session_and_image_id(context, id_or_uri) return session.show(context, image_id, include_locations=include_locations, show_deleted=show_deleted) def create(self, context, image_info, data=None): """"""Creates a new image record, optionally passing the image bits to backend storage. :param context: The `cyborg.context.Context` object for the request :param image_info: A dict of information about the image that is passed to the image registry. :param data: Optional file handle or bytestream iterator that is passed to backend storage. """""" session = self._get_session(context) return session.create(context, image_info, data=data) def update(self, context, id_or_uri, image_info, data=None, purge_props=False): """"""Update the information about an image, optionally along with a file handle or bytestream iterator for image bits. If the optional file handle for updated image bits is supplied, the image may not have already uploaded bits for the image. :param context: The `cyborg.context.Context` object for the request :param id_or_uri: A UUID identifier or an image URI to look up image information for. :param image_info: A dict of information about the image that is passed to the image registry. :param data: Optional file handle or bytestream iterator that is passed to backend storage. :param purge_props: Optional, defaults to False. If set, the backend image registry will clear all image properties and replace them the image properties supplied in the image_info dictionary's 'properties' collection. """""" session, image_id = self._get_session_and_image_id(context, id_or_uri) return session.update(context, image_id, image_info, data=data, purge_props=purge_props) def delete(self, context, id_or_uri): """"""Delete the information about an image and mark the image bits for deletion. :param context: The `cyborg.context.Context` object for the request :param id_or_uri: A UUID identifier or an image URI to look up image information for. """""" session, image_id = self._get_session_and_image_id(context, id_or_uri) return session.delete(context, image_id) def download(self, context, id_or_uri, data=None, dest_path=None): """"""Transfer image bits from Glance or a known source location to the supplied destination filepath. :param context: The `cyborg.context.RequestContext` object for the request :param id_or_uri: A UUID identifier or an image URI to look up image information for. :param data: A file object to use in downloading image data. :param dest_path: Filepath to transfer image bits to. Note that because of the poor design of the `glance.ImageService.download` method, the function returns different things depending on what arguments are passed to it. If a data argument is supplied but no dest_path is specified (only done in the XenAPI virt driver's image.utils module) then None is returned from the method. If the data argument is not specified but a destination path *is* specified, then a writeable file handle to the destination path is constructed in the method and the image bits written to that file, and again, None is returned from the method. If no data argument is supplied and no dest_path argument is supplied (VMWare and XenAPI virt drivers), then the method returns an iterator to the image bits that the caller uses to write to wherever location it wants. Finally, if the allow_direct_url_schemes CONF option is set to something, then the cyborg.image.download modules are used to attempt to do an SCP copy of the image bits from a file location to the dest_path and None is returned after retrying one or more download locations. I think the above points to just how hacky/wacky all of this code is, and the reason it needs to be cleaned up and standardized across the virt driver callers. """""" # TODO(jaypipes): Deprecate and remove this method entirely when we # move to a system that simply returns a file handle # to a bytestream iterator and allows the caller to # handle streaming/copying/zero-copy as they see fit. session, image_id = self._get_session_and_image_id(context, id_or_uri) return session.download(context, image_id, data=data, dst_path=dest_path) ",,1538,3
openstack%2Fcinder~master~Ifd461c058fbd34934c407a1fc39403bd205b8009,openstack/cinder,master,Ifd461c058fbd34934c407a1fc39403bd205b8009,Specify image size to avoid glance backend resize,NEW,2018-09-14 08:33:38.000000000,2018-10-17 15:46:44.000000000,,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9236}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28758}, {'_account_id': 28801}, {'_account_id': 28948}]","[{'number': 1, 'created': '2018-09-14 08:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5e9098d96be340ad9ac651f66b3b7617c673f58a', 'message': ""Fix uploading cinder volumes to images\n\nWhen uploading a volume to glance as an image, the glance server don't\nknow the image size, so the backend storage server(such as ceph) need to\nresize the image every time it received new chunk of data(by default\n64K). So there will be huge times of resize operations that will terribly\nimpact the performance. The patch aims to tell the image size to glance\nserver at the initial phase of uploading, so that glance backend such as\nceph can allocate an image with exact size, and don't need to resize the\nimage again and again\n\nStory: 2003774\nTask: 26466\n\nChange-Id: Ifd461c058fbd34934c407a1fc39403bd205b8009\n""}, {'number': 2, 'created': '2018-09-16 15:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/23f3e27a497ac28a2b927425731e549d3fa44566', 'message': ""Specify image size to avoid glance backend resize when uploading volume\n\nWhen uploading a volume to glance as an image, the glance server don't\nknow the image size, so the backend storage server(such as ceph) need to\nresize the image every time it received new chunk of data(by default\n64K). So there will be huge times of resize operations that will terribly\nimpact the performance. The patch aims to tell the image size to glance\nserver at the initial phase of uploading, so that glance backend such as\nceph can allocate an image with exact size, and don't need to resize the\nimage again and again\n\nPartial-Bug: #1792710\nStory: 2003774\nTask: 26466\n\nChange-Id: Ifd461c058fbd34934c407a1fc39403bd205b8009\n""}, {'number': 3, 'created': '2018-09-17 01:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/61c5b722a7d2c463381e7fe84f25ba4c0a6ea6cd', 'message': ""Specify image size to avoid glance backend resize when uploading volume\n\nWhen uploading a volume to glance as an image, the glance server don't\nknow the image size, so the backend storage server(such as ceph) need to\nresize the image every time it received new chunk of data(by default\n64K). So there will be huge times of resize operations that will terribly\nimpact the performance. The patch aims to tell the image size to glance\nserver at the initial phase of uploading, so that glance backend such as\nceph can allocate an image with exact size, and don't need to resize the\nimage again and again\n\nPartial-Bug: #1792710\nStory: 2003774\nTask: 26466\n\nChange-Id: Ifd461c058fbd34934c407a1fc39403bd205b8009\n""}, {'number': 4, 'created': '2018-09-17 06:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1cb1413274fc479c25afd00e4fc9fc85bfc043d8', 'message': ""Specify image size to avoid glance backend resize when uploading volume\n\nWhen uploading a volume to glance as an image, the glance server don't\nknow the image size, so the backend storage server(such as ceph) need to\nresize the image every time it received new chunk of data(by default\n64K). So there will be huge times of resize operations that will terribly\nimpact the performance. The patch aims to tell the image size to glance\nserver at the initial phase of uploading, so that glance backend such as\nceph can allocate an image with exact size, and don't need to resize the\nimage again and again\n\nPartial-Bug: #1792710\nStory: 2003774\nTask: 26466\n\nChange-Id: Ifd461c058fbd34934c407a1fc39403bd205b8009\n""}, {'number': 5, 'created': '2018-09-18 01:41:06.000000000', 'files': ['cinder/tests/unit/glance/stubs.py', 'cinder/tests/unit/image/test_glance.py', 'cinder/image/glance.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4212e1e989768013a88abcc4909cc68afcb5ddb9', 'message': ""Specify image size to avoid glance backend resize\n\nWhen uploading a volume to glance as an image, the glance server don't\nknow the image size, so the backend storage server(such as ceph) need\nto resize the image every time it received new chunk of data(by default\n64K). So there will be huge times of resize operations that will\nterribly impact the performance. The patch aims to tell the image size\nto glance server at the initial phase of uploading, so that glance\nbackend such as ceph can allocate an image with exact size, and don't\nneed to resize the image again and again\n\nCloses-Bug: #1792710\nChange-Id: Ifd461c058fbd34934c407a1fc39403bd205b8009\n""}]",17,602571,4212e1e989768013a88abcc4909cc68afcb5ddb9,157,42,5,28948,,,0,"Specify image size to avoid glance backend resize

When uploading a volume to glance as an image, the glance server don't
know the image size, so the backend storage server(such as ceph) need
to resize the image every time it received new chunk of data(by default
64K). So there will be huge times of resize operations that will
terribly impact the performance. The patch aims to tell the image size
to glance server at the initial phase of uploading, so that glance
backend such as ceph can allocate an image with exact size, and don't
need to resize the image again and again

Closes-Bug: #1792710
Change-Id: Ifd461c058fbd34934c407a1fc39403bd205b8009
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/602571/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/image/glance.py'],1,5e9098d96be340ad9ac651f66b3b7617c673f58a,bug/1792710,"import io import os try: file_types = (file, io.IOBase) except NameError: file_types = (io.IOBase,) size = 0 if isinstance(data, file_types): old_fp = data.tell() data.seek(0, os.SEEK_END) size = data.tell() data.seek(old_fp, os.SEEK_SET) else: size = len(data) self._client.call(context, 'upload', image_id, data, size)"," self._client.call(context, 'upload', image_id, data)",17,1
openstack%2Foslo.db~stable%2Fqueens~I4a5f8958c3e0fc68fa3a4ae979f284c4fbd9b82b,openstack/oslo.db,stable/queens,I4a5f8958c3e0fc68fa3a4ae979f284c4fbd9b82b,Ignore 'use_tpool' option,MERGED,2018-10-17 10:21:21.000000000,2018-10-17 15:41:16.000000000,2018-10-17 15:41:15.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 10:21:21.000000000', 'files': ['oslo_db/sqlalchemy/enginefacade.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/0602eb60a79a1affda9ccf46423e20333baeaf3c', 'message': ""Ignore 'use_tpool' option\n\nThe sheer act of registering the 'use_tpool' option seems to be enough\nto cause the following warning:\n\n   NotSupportedWarning: Configuration option(s) ['use_tpool'] not\n   supported\n\nAdd it to the list of ignored opts, thus silencing this warning.\n\nChange-Id: I4a5f8958c3e0fc68fa3a4ae979f284c4fbd9b82b\n(cherry picked from commit 698c62702af8f9ccca574a7ad714d3ae1298a5a8)\n""}]",0,611285,0602eb60a79a1affda9ccf46423e20333baeaf3c,8,3,1,9373,,,0,"Ignore 'use_tpool' option

The sheer act of registering the 'use_tpool' option seems to be enough
to cause the following warning:

   NotSupportedWarning: Configuration option(s) ['use_tpool'] not
   supported

Add it to the list of ignored opts, thus silencing this warning.

Change-Id: I4a5f8958c3e0fc68fa3a4ae979f284c4fbd9b82b
(cherry picked from commit 698c62702af8f9ccca574a7ad714d3ae1298a5a8)
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/85/611285/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_db/sqlalchemy/enginefacade.py'],1,0602eb60a79a1affda9ccf46423e20333baeaf3c,bug/1549915," # other options that are defined in oslo_db.options.database_opts # or oslo_db.concurrency.tpool_opts but do not apply to the standard # enginefacade arguments (most seem to apply to api.DBAPI). 'db_max_retry_interval', 'backend', 'use_tpool'])"," # other options that are defined in oslo.db.options.database_opts # but do not apply to the standard enginefacade arguments # (most seem to apply to api.DBAPI). 'db_max_retry_interval', 'backend'])",4,4
openstack%2Fsushy~master~I3d8612dfb481d29fb56cec1012c906e37ed911a9,openstack/sushy,master,I3d8612dfb481d29fb56cec1012c906e37ed911a9,Fix crashing `BasicAuth` context manager,MERGED,2018-10-16 17:32:30.000000000,2018-10-17 15:28:29.000000000,2018-10-17 15:28:29.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 17:32:30.000000000', 'files': ['sushy/tests/unit/test_auth.py', 'sushy/auth.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/ee317078f4507f754679c7d0b00a9fa106c5663d', 'message': 'Fix crashing `BasicAuth` context manager\n\nWhen `BasicAuth` object is used as a context manager, it crashes\non `__exit__` because of missing `.close()` method. This patch\nfixes that and adds a bunch of test cases.\n\nChange-Id: I3d8612dfb481d29fb56cec1012c906e37ed911a9\n'}]",0,611107,ee317078f4507f754679c7d0b00a9fa106c5663d,7,3,1,26340,,,0,"Fix crashing `BasicAuth` context manager

When `BasicAuth` object is used as a context manager, it crashes
on `__exit__` because of missing `.close()` method. This patch
fixes that and adds a bunch of test cases.

Change-Id: I3d8612dfb481d29fb56cec1012c906e37ed911a9
",git fetch https://review.opendev.org/openstack/sushy refs/changes/07/611107/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/test_auth.py', 'sushy/auth.py']",2,ee317078f4507f754679c7d0b00a9fa106c5663d,fix-missing-method-in-auth," def close(self): """"""Shutdown Redfish authentication object Undoes whatever should be undone to cancel authenticated session. """""" ",,28,0
openstack%2Ftripleo-heat-templates~master~I0be18719a3426c0570f507edfc229e6ba7af7597,openstack/tripleo-heat-templates,master,I0be18719a3426c0570f507edfc229e6ba7af7597,logging: fluentd deprecated params releasenote,ABANDONED,2018-02-13 09:41:20.000000000,2018-10-17 15:27:34.000000000,,"[{'_account_id': 4328}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-13 09:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a777d9c1090f9750da540c5d3bf52b703d96b8bf', 'message': 'logging: fluentd deprecated params releasenote\n\nLoggingSources & LoggingGroups will not be supported in the future.\n\nLoggingSources: For adding logging sources to fluentd add the\n parameter fluentd:tripleo_fluentd_sources_{{service_name}} to the\n service_config_settings section\n\nLoggingGroups: For adding logging sources to fluentd add the\n parameter fluentd:tripleo_fluentd_groups_{{service_name}} to the\n service_config_settings section\n\nThis patch is a follow-up to:\nDepends-On: I28028ffa00df2da8e0478a551d3de89c3ee46e1f\n\nChange-Id: I0be18719a3426c0570f507edfc229e6ba7af7597\n'}, {'number': 2, 'created': '2018-02-13 09:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e01171bef40d4ab0f953a69b54d484ff33679065', 'message': 'logging: fluentd deprecated params releasenote\n\nLoggingSources & LoggingGroups will not be supported in the future.\n\nLoggingSources: For adding logging sources to fluentd add the\n parameter fluentd:tripleo_fluentd_sources_{{service_name}} to the\n service_config_settings section\n\nLoggingGroups: For adding logging sources to fluentd add the\n parameter fluentd:tripleo_fluentd_groups_{{service_name}} to the\n service_config_settings section\n\nThis patch is a follow-up to:\nDepends-On: I28028ffa00df2da8e0478a551d3de89c3ee46e1f\n\nChange-Id: I0be18719a3426c0570f507edfc229e6ba7af7597\n'}, {'number': 3, 'created': '2018-02-19 14:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba2b38ee928d9f6267616795d870c4c34646d8a6', 'message': 'logging: fluentd deprecated params releasenote\n\nLoggingSources & LoggingGroups will not be supported in the future.\n\nLoggingSources: For adding logging sources to fluentd add the\n parameter fluentd:tripleo_fluentd_sources_{{service_name}} to the\n service_config_settings section\n\nLoggingGroups: For adding logging sources to fluentd add the\n parameter fluentd:tripleo_fluentd_groups_{{service_name}} to the\n service_config_settings section\n\nThis patch is a follow-up to:\nDepends-On: I28028ffa00df2da8e0478a551d3de89c3ee46e1f\n\nChange-Id: I0be18719a3426c0570f507edfc229e6ba7af7597\n'}, {'number': 4, 'created': '2018-02-19 14:22:05.000000000', 'files': ['ci/environments/scenario001-multinode-containers.yaml', 'releasenotes/notes/deprecate-logging-6ca54c6c564be81a.yaml', 'puppet/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7923c38cf35365e8a9ec593a3373455720e10185', 'message': 'logging: fluentd deprecated params releasenote\n\nLoggingSources & LoggingGroups will not be supported in the future.\n\nLoggingSources: For adding logging sources to fluentd add the\n parameter fluentd:tripleo_fluentd_sources_{{service_name}} to the\n service_config_settings section\n\nLoggingGroups: For adding logging sources to fluentd add the\n parameter fluentd:tripleo_fluentd_groups_{{service_name}} to the\n service_config_settings section\n\nThis patch is a follow-up to:\nDepends-On: I28028ffa00df2da8e0478a551d3de89c3ee46e1f\n\nChange-Id: I0be18719a3426c0570f507edfc229e6ba7af7597\n'}]",2,543871,7923c38cf35365e8a9ec593a3373455720e10185,12,4,4,22954,,,0,"logging: fluentd deprecated params releasenote

LoggingSources & LoggingGroups will not be supported in the future.

LoggingSources: For adding logging sources to fluentd add the
 parameter fluentd:tripleo_fluentd_sources_{{service_name}} to the
 service_config_settings section

LoggingGroups: For adding logging sources to fluentd add the
 parameter fluentd:tripleo_fluentd_groups_{{service_name}} to the
 service_config_settings section

This patch is a follow-up to:
Depends-On: I28028ffa00df2da8e0478a551d3de89c3ee46e1f

Change-Id: I0be18719a3426c0570f507edfc229e6ba7af7597
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/71/543871/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario001-multinode-containers.yaml', 'puppet/role.role.j2.yaml', 'releasenotes/notes/deprecate-logging-98a42af6f1db8b53.yaml']",3,a777d9c1090f9750da540c5d3bf52b703d96b8bf,fluentd_deprecated_params,--- deprecations: - | The following parameters are deprecated for the Compute role: LoggingSources - Use fluentd:tripleo_fluentd_sources_{{service_name}} on the service_config_settings section LoggingGroups - Use fluentd:tripleo_fluentd_groups_{{service_name}} on service_config_settings section ,,18,1
openstack%2Fneutron~master~I5f344af6dc3e5a6ee5f52c250b6c719e1b43e02d,openstack/neutron,master,I5f344af6dc3e5a6ee5f52c250b6c719e1b43e02d,[Functional] Increase test_timeout for db migration tests,MERGED,2018-10-12 10:50:18.000000000,2018-10-17 15:16:00.000000000,2018-10-17 14:58:45.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8871}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28581}]","[{'number': 1, 'created': '2018-10-12 10:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/62d262bfd21c06e02a13b15c2180677a29075934', 'message': ""[Functional] Increase test_timeout for db migration tests\n\nIn Neutron we hit quite often same issue as Manila, see [1] for\ndetails.\nIt looks that solution for this problem may be increase timeout\nfor test_walk_version functional tests.\nHigher timeout will be applied for tests for both pgsql and mysql\nbackends but it is mostly needed for mysql because 'pymysql' works\nmuch slower on slow nodes than 'psycopg2'\n\nThis patch adds also new decorator to set individual timeout for\ntests.\n\n[1] https://bugs.launchpad.net/manila/+bug/1501272\n\nChange-Id: I5f344af6dc3e5a6ee5f52c250b6c719e1b43e02d\nCloses-Bug: #1687027\n""}, {'number': 2, 'created': '2018-10-12 22:10:19.000000000', 'files': ['neutron/tests/functional/db/test_migrations.py', 'neutron/tests/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2c37272bf788aac63399127cddd487dc0f15c38', 'message': ""[Functional] Increase test_timeout for db migration tests\n\nIn Neutron we hit quite often same issue as Manila, see [1] for\ndetails.\nIt looks that solution for this problem may be increase timeout\nfor test_walk_version functional tests.\nHigher timeout will be applied for tests for both pgsql and mysql\nbackends but it is mostly needed for mysql because 'pymysql' works\nmuch slower on slow nodes than 'psycopg2'\n\nThis patch adds also new decorator to set individual timeout for\ntests.\n\n[1] https://bugs.launchpad.net/manila/+bug/1501272\n\nChange-Id: I5f344af6dc3e5a6ee5f52c250b6c719e1b43e02d\nCloses-Bug: #1687027\n""}]",4,610003,c2c37272bf788aac63399127cddd487dc0f15c38,48,13,2,11975,,,0,"[Functional] Increase test_timeout for db migration tests

In Neutron we hit quite often same issue as Manila, see [1] for
details.
It looks that solution for this problem may be increase timeout
for test_walk_version functional tests.
Higher timeout will be applied for tests for both pgsql and mysql
backends but it is mostly needed for mysql because 'pymysql' works
much slower on slow nodes than 'psycopg2'

This patch adds also new decorator to set individual timeout for
tests.

[1] https://bugs.launchpad.net/manila/+bug/1501272

Change-Id: I5f344af6dc3e5a6ee5f52c250b6c719e1b43e02d
Closes-Bug: #1687027
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/610003/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/db/test_migrations.py', 'neutron/tests/base.py']",2,62d262bfd21c06e02a13b15c2180677a29075934,bug/1687027,"def set_timeout(timeout): """"""Timeout decorator for test methods. Use this decorator for tests that are expected to pass in very specific amount of time, not common for all other tests. It can have either big or small value. """""" def decor(f): @functools.wraps(f) def inner(self, *args, **kwargs): self.useFixture(fixtures.Timeout(timeout, gentle=True)) return f(self, *args, **kwargs) return inner return decor ",,25,0
openstack%2Fshade~master~I808bad9392c333003a05acf8eb1d9268ebaf9335,openstack/shade,master,I808bad9392c333003a05acf8eb1d9268ebaf9335,Prioritize external networks for assigning FIP to instance,ABANDONED,2017-11-30 21:35:04.000000000,2018-10-17 15:15:27.000000000,,"[{'_account_id': 11975}, {'_account_id': 16036}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-30 21:35:04.000000000', 'files': ['shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/41b0baf6d843cb0a8b6fe46ae479c9c1bf9d9afd', 'message': ""Prioritize external networks for assigning FIP to instance\n\nWhen we assign floating ip to the instance, take note of what's defined\nin clouds.yaml regarding network layout in the target cloud, and only fall\nback to the existing behaviour if configuration makes no sense.\n\nChange-Id: I808bad9392c333003a05acf8eb1d9268ebaf9335\n""}]",1,524396,41b0baf6d843cb0a8b6fe46ae479c9c1bf9d9afd,5,3,1,16036,,,0,"Prioritize external networks for assigning FIP to instance

When we assign floating ip to the instance, take note of what's defined
in clouds.yaml regarding network layout in the target cloud, and only fall
back to the existing behaviour if configuration makes no sense.

Change-Id: I808bad9392c333003a05acf8eb1d9268ebaf9335
",git fetch https://review.opendev.org/openstack/shade refs/changes/96/524396/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/openstackcloud.py'],1,41b0baf6d843cb0a8b6fe46ae479c9c1bf9d9afd,," # get a floating ip network that doesn't have routes_externally # set to False external_network_found = False for network in self.get_external_ipv4_floating_networks(): if network in self.cloud_config.get_internal_networks(): network = None continue if not network: self.log.warning( ""Shade was unable to find a floating IPv4 network"" "" that is not set as internal. Please check your"" "" clouds.yaml configuration. Falling back to using"" "" first available network."") network=network, server=server, wait=wait, timeout=timeout)"," server=server, wait=wait, timeout=timeout)",14,1
openstack%2Fshade~master~I75fca341b7bc9e63f3cf18f4a0bdb6696cd5bfc6,openstack/shade,master,I75fca341b7bc9e63f3cf18f4a0bdb6696cd5bfc6,Adds Senlin support to shade,ABANDONED,2018-02-09 01:55:09.000000000,2018-10-17 15:14:10.000000000,,"[{'_account_id': 2}, {'_account_id': 7404}, {'_account_id': 8246}, {'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 25674}, {'_account_id': 26558}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-02-09 01:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/d5cde149db9df9d25fc015bd52954ca8c8c6a708', 'message': 'Adds Senlin support to shade\n\nAdds Senlin API to shade, along with unit and functional tests for each Senlin function.\nAllows shade to create, list, get, update and delete clusters, cluster policies, cluster\nprofiles, and cluster receivers. Also allows for attaching and detaching policies\nto clusters, updating policies on clusters, and listing policies on clusters.\n\nChange-Id: I75fca341b7bc9e63f3cf18f4a0bdb6696cd5bfc6\n'}, {'number': 2, 'created': '2018-02-12 18:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/3c3e1a351f77f82fcc85325ad67f34bb7c4cdd57', 'message': 'Adds Senlin support to shade\n\nAdds Senlin API to shade, along with unit and functional tests for each Senlin function.\nAllows shade to create, list, get, update and delete clusters, cluster policies, cluster\nprofiles, and cluster receivers. Also allows for attaching and detaching policies\nto clusters, updating policies on clusters, and listing policies on clusters.\n\nChange-Id: I75fca341b7bc9e63f3cf18f4a0bdb6696cd5bfc6\n'}, {'number': 3, 'created': '2018-03-22 19:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/561e8d01d5c4ca4de66111dce5f4ec01405f13b0', 'message': 'Adds Senlin support to shade\n\nAdds Senlin API to shade, along with unit and functional tests for each Senlin function.\nAllows shade to create, list, get, update and delete clusters, cluster policies, cluster\nprofiles, and cluster receivers. Also allows for attaching and detaching policies\nto clusters, updating policies on clusters, and listing policies on clusters.\n\nChange-Id: I75fca341b7bc9e63f3cf18f4a0bdb6696cd5bfc6\n'}, {'number': 4, 'created': '2018-03-22 19:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/0728754dedd4e46dd50ff72222f92b4a99e6cab9', 'message': 'Adds Senlin support to shade\n\nAdds Senlin API to shade, along with unit and functional tests for each Senlin function.\nAllows shade to create, list, get, update and delete clusters, cluster policies, cluster\nprofiles, and cluster receivers. Also allows for attaching and detaching policies\nto clusters, updating policies on clusters, and listing policies on clusters.\n\nChange-Id: I75fca341b7bc9e63f3cf18f4a0bdb6696cd5bfc6\n'}, {'number': 5, 'created': '2018-04-27 12:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/144ab07afc132f652a5db8bc40580b59674272a8', 'message': 'Adds Senlin support to shade\n\nAdds Senlin API to shade, along with unit and functional tests for each\nSenlin function. Allows shade to create, list, get, update and delete\nclusters, cluster policies, cluster profiles, and cluster receivers.\nAlso allows for attaching and detaching policies to clusters, updating\npolicies on clusters, and listing policies on clusters.\n\nChange-Id: I75fca341b7bc9e63f3cf18f4a0bdb6696cd5bfc6\n'}, {'number': 6, 'created': '2018-04-30 11:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/4e03264806f9ddada739c3c556a5ec15e9ff0745', 'message': 'Adds Senlin support to shade\n\nAdds Senlin API to shade, along with unit and functional tests for each\nSenlin function. Allows shade to create, list, get, update and delete\nclusters, cluster policies, cluster profiles, and cluster receivers.\nAlso allows for attaching and detaching policies to clusters, updating\npolicies on clusters, and listing policies on clusters.\n\nChange-Id: I75fca341b7bc9e63f3cf18f4a0bdb6696cd5bfc6\n'}, {'number': 7, 'created': '2018-06-19 18:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/8ba0146712c970f50fbd46f9015dad2fb72c1e80', 'message': 'Adds Senlin support to shade\n\nAdds Senlin API to shade, along with unit and functional tests for each\nSenlin function. Allows shade to create, list, get, update and delete\nclusters, cluster policies, cluster profiles, and cluster receivers.\nAlso allows for attaching and detaching policies to clusters, updating\npolicies on clusters, and listing policies on clusters.\n\nChange-Id: I75fca341b7bc9e63f3cf18f4a0bdb6696cd5bfc6\n'}, {'number': 8, 'created': '2018-06-19 21:26:50.000000000', 'files': ['shade/tests/unit/fixtures/catalog-v3-suburl.json', 'shade/tests/unit/fixtures/catalog-v2.json', 'shade/tests/unit/test_clustering.py', 'shade/tests/unit/fixtures/catalog-v3.json', '.zuul.yaml', 'shade/tests/functional/test_clustering.py', 'shade/tests/unit/base.py', 'shade/tests/unit/fixtures/clustering.json', 'shade/openstackcloud.py', 'shade/releasenotes/notes/added-senlin-support-1eb4e47c31258f66.yaml'], 'web_link': 'https://opendev.org/openstack/shade/commit/06216d3c853c6b0b03e9ddee7096be9177ce303a', 'message': 'Adds Senlin support to shade\n\nAdds Senlin API to shade, along with unit and functional tests for each\nSenlin function. Allows shade to create, list, get, update and delete\nclusters, cluster policies, cluster profiles, and cluster receivers.\nAlso allows for attaching and detaching policies to clusters, updating\npolicies on clusters, and listing policies on clusters.\n\nChange-Id: I75fca341b7bc9e63f3cf18f4a0bdb6696cd5bfc6\n'}]",24,542537,06216d3c853c6b0b03e9ddee7096be9177ce303a,34,9,8,26558,,,0,"Adds Senlin support to shade

Adds Senlin API to shade, along with unit and functional tests for each
Senlin function. Allows shade to create, list, get, update and delete
clusters, cluster policies, cluster profiles, and cluster receivers.
Also allows for attaching and detaching policies to clusters, updating
policies on clusters, and listing policies on clusters.

Change-Id: I75fca341b7bc9e63f3cf18f4a0bdb6696cd5bfc6
",git fetch https://review.opendev.org/openstack/shade refs/changes/37/542537/8 && git format-patch -1 --stdout FETCH_HEAD,"['shade/tests/unit/fixtures/catalog-v3-suburl.json', 'shade/tests/unit/fixtures/catalog-v2.json', 'shade/tests/unit/test_clustering.py', 'shade/tests/unit/fixtures/catalog-v3.json', 'shade/tests/functional/test_clustering.py', 'shade/tests/unit/base.py', 'shade/tests/unit/fixtures/clustering.json', 'shade/openstackcloud.py']",8,d5cde149db9df9d25fc015bd52954ca8c8c6a708,shade-senlin," def _clustering_client(self): if 'clustering' not in self._raw_clients: clustering_client = self._get_versioned_client( 'clustering', min_version=1, max_version='1.latest') self._raw_clients['clustering'] = clustering_client return self._raw_clients['clustering'] @property def create_cluster(self, name, profile_id, config=None, desired_capacity=0, max_size=None, metadata=None, min_size=None, timeout=None): body = { 'desired_capacity': desired_capacity, 'name': name, 'profile_id': profile_id } if config is not None: body['config'] = config if max_size is not None: body['max_size'] = max_size if metadata is not None: body['metadata'] = metadata if min_size is not None: body['min_size'] = min_size if timeout is not None: body['timeout'] = timeout data = self._clustering_client.post( '/clusters', json={'cluster': body}, error_message=""Error creating cluster {name}"".format(name=name)) return self._get_and_munchify(key=None, data=data) def set_cluster_metadata(self, name_or_id, metadata): cluster = self.get_cluster(name_or_id) if not cluster: raise OpenStackCloudException( 'Invalid Cluster {cluster}'.format(cluster=name_or_id)) self._clustering_client.post( '/clusters/{cluster_id}/metadata'.format(cluster_id=cluster['id']), json={'metadata': metadata}, error_message='Error updating cluster metadata') def get_cluster(self, name_or_id): try: data = self._clustering_client.get( ""/clusters/{cluster_id}"".format(cluster_id=name_or_id), error_message=""Error fetching cluster "" ""{name}"".format(name=name_or_id)) return self._get_and_munchify('cluster', data) except Exception: return None def update_cluster(self, name_or_id, new_name=None, profile_name_or_id=None, config=None, metadata=None, timeout=None, profile_only=False): cluster = self.get_cluster(name_or_id) if cluster is None: self.log.debug(""Cluster %s not found for updating"", name_or_id) return False cluster = { 'profile_only': profile_only } if config is not None: cluster['config'] = config if metadata is not None: cluster['metadata'] = metadata if profile_name_or_id is not None: cluster['profile_id'] = profile_name_or_id if timeout is not None: cluster['timeout'] = timeout if new_name is not None: cluster['name'] = new_name data = self._clustering_client.patch( ""/clusters/{cluster_id}"".format(cluster_id=name_or_id), json={'cluster': cluster}, error_message=""Error updating cluster "" ""{name}"".format(name=name_or_id)) return self._get_and_munchify(key=None, data=data) def delete_cluster(self, name_or_id): cluster = self.get_cluster(name_or_id) if cluster is None: self.log.debug(""Cluster %s not found for deleting"", name_or_id) return False if self.list_policies_on_cluster(name_or_id)[""cluster_policies""]: for policy in self.list_policies_on_cluster( name_or_id)[""cluster_policies""]: self.detach_policy_from_cluster(name_or_id, policy['policy_id']) if self.list_cluster_receivers()[""receivers""]: for receiver in self.list_cluster_receivers()[""receivers""]: if cluster[""id""] == receiver[""cluster_id""]: self.delete_cluster_receiver(receiver[""id""]) self._clustering_client.delete( ""/clusters/{cluster_id}"".format(cluster_id=name_or_id), error_message=""Error deleting cluster "" ""{name}"".format(name=name_or_id)) return True def list_clusters(self): try: data = self._clustering_client.get( '/clusters', error_message=""Error fetching clusters"") return self._get_and_munchify('clusters', data) except Exception: return None def attach_policy_to_cluster(self, name_or_id, policy_name_or_id, is_enabled): cluster = self.get_cluster(name_or_id) policy = self.get_cluster_policy(policy_name_or_id) if cluster is None: self.log.debug(""Cluster %s not found for attaching"", name_or_id) return False if policy is None: self.log.debug(""Policy %s not found for attaching"", policy_name_or_id) return False body = { 'policy_id': policy_name_or_id, 'enabled': is_enabled } self._clustering_client.post( ""/clusters/{cluster_id}/actions"".format(cluster_id=name_or_id), error_message=""Error attaching policy {policy} to cluster "" ""{cluster}"".format( policy=policy_name_or_id, cluster=name_or_id), json={'policy_attach': body}) return True def detach_policy_from_cluster(self, name_or_id, policy_name_or_id): cluster = self.get_cluster(name_or_id) policy = self.get_cluster_policy(policy_name_or_id) if cluster is None: self.log.debug(""Cluster %s not found for detaching"", name_or_id) return False if policy is None: self.log.debug(""Policy %s not found for detaching"", policy_name_or_id) return False body = {'policy_id': policy_name_or_id} self._clustering_client.post( ""/clusters/{cluster_id}/actions"".format(cluster_id=name_or_id), error_message=""Error detaching policy {policy} from cluster "" ""{cluster}"".format( policy=policy_name_or_id, cluster=name_or_id), json={'policy_detach': body}) return True def update_policy_on_cluster(self, name_or_id, policy_name_or_id, is_enabled): cluster = self.get_cluster(name_or_id) policy = self.get_cluster_policy(policy_name_or_id) if cluster is None: self.log.debug(""Cluster %s not found for updating"", name_or_id) return False if policy is None: self.log.debug(""Policy %s not found for updating"", policy_name_or_id) return False body = { 'policy_id': policy_name_or_id, 'enabled': is_enabled } self._clustering_client.post( ""/clusters/{cluster_id}/actions"".format(cluster_id=name_or_id), error_message=""Error updating policy {policy} on cluster "" ""{cluster}"".format( policy=policy_name_or_id, cluster=name_or_id), json={'policy_update': body}) return True def get_policy_on_cluster(self, name_or_id, policy_name_or_id): try: policy = self._clustering_client.get( ""/clusters/{cluster_id}/policies/{policy_id}"".format( cluster_id=name_or_id, policy_id=policy_name_or_id), error_message=""Error fetching policy "" ""{name}"".format(name=policy_name_or_id)) return self._get_and_munchify('cluster_policy', policy) except Exception: return False def list_policies_on_cluster(self, name_or_id): endpoint = ""/clusters/"" \ ""{cluster_id}/policies"".format(cluster_id=name_or_id) try: return self._clustering_client.get( endpoint, error_message=""Error fetching cluster policies"") # return self._get_and_munchify('policies', data) except Exception: return None def create_cluster_profile(self, name, spec, metadata=None): profile = { 'name': name, 'spec': spec } if metadata is not None: profile['metadata'] = metadata data = self._clustering_client.post( '/profiles', json={'profile': profile}, error_message=""Error creating profile {name}"".format(name=name)) return self._get_and_munchify('profile', data) def set_cluster_profile_metadata(self, name_or_id, metadata): profile = self.get_profile(name_or_id) if not profile: raise OpenStackCloudException( 'Invalid Profile {profile}'.format(profile=name_or_id)) self._clustering_client.post( '/profiles/{profile_id}/metadata'.format(profile_id=profile['id']), json={'metadata': metadata}, error_message='Error updating profile metadata') def list_cluster_profiles(self): try: data = self._clustering_client.get( '/profiles', error_message=""Error fetching profiles"") return self._get_and_munchify('profiles', data) except Exception: return None def get_cluster_profile(self, name_or_id): try: data = self._clustering_client.get( ""/profiles/{profile_id}"".format(profile_id=name_or_id), error_message=""Error fetching profile "" ""{name}"".format(name=name_or_id)) return self._get_and_munchify('profile', data) except Exception: return None def delete_cluster_profile(self, name_or_id): profile = self.get_cluster_profile(name_or_id) if profile is None: self.log.debug(""Profile %s not found for deleting"", name_or_id) return False for cluster in self.list_clusters(): if (name_or_id, profile.id) in cluster.items(): self.log.debug( ""Profile %s is being used by cluster %s, won't delete"", name_or_id, cluster.name) return False self._clustering_client.delete( ""/profiles/{profile_id}"".format(profile_id=name_or_id), error_message=""Error deleting profile "" ""{name}"".format(name=name_or_id)) return True def update_cluster_profile(self, name_or_id, metadata=None, new_name=None): profile = {} if metadata is not None: profile['metadata'] = metadata if new_name is not None: profile['name'] = new_name data = self._clustering_client.patch( ""/profiles/{profile_id}"".format(profile_id=name_or_id), json={'profile': profile}, error_message=""Error updating profile "" ""{name}"".format(name=name_or_id)) return self._get_and_munchify(key=None, data=data) def create_cluster_policy(self, name, spec): policy = { 'name': name, 'spec': spec } data = self._clustering_client.post( '/policies', json={'policy': policy}, error_message=""Error creating policy "" ""{name}"".format(name=policy['name'])) return self._get_and_munchify('policy', data) def list_cluster_policies(self): endpoint = ""/policies"" try: data = self._clustering_client.get( endpoint, error_message=""Error fetching cluster policies"") return self._get_and_munchify('policies', data) except Exception: return None def get_cluster_policy(self, name_or_id): try: data = self._clustering_client.get( ""/policies/{policy_id}"".format(policy_id=name_or_id), error_message=""Error fetching policy "" ""{name}"".format(name=name_or_id)) return self._get_and_munchify('policy', data) except Exception: return None def delete_cluster_policy(self, name_or_id): policy = self.get_cluster_policy(name_or_id) if policy is None: self.log.debug(""Policy %s not found for deleting"", name_or_id) return False for cluster in self.list_clusters(): if (name_or_id, policy.id) in cluster.items(): self.log.debug( ""Policy %s is being used by cluster %s, won't delete"", name_or_id, cluster.name) return False self._clustering_client.delete( ""/policies/{policy_id}"".format(policy_id=name_or_id), error_message=""Error deleting policy "" ""{name}"".format(name=name_or_id)) return True def update_cluster_policy(self, name_or_id, new_name): policy = {'name': new_name} data = self._clustering_client.patch( ""/policies/{policy_id}"".format(policy_id=name_or_id), json={'policy': policy}, error_message=""Error updating policy "" ""{name}"".format(name=name_or_id)) return self._get_and_munchify(key=None, data=data) def create_cluster_receiver(self, name, receiver_type, cluster_name_or_id=None, action=None, actor=None, params=None): receiver = { 'name': name, 'type': receiver_type } if cluster_name_or_id is not None: receiver['cluster_id'] = cluster_name_or_id if action is not None: receiver['action'] = action if actor is not None: receiver['actor'] = actor if params is not None: receiver['params'] = params data = self._clustering_client.post( '/receivers', json={'receiver': receiver}, error_message=""Error creating receiver {name}"".format(name=name)) return self._get_and_munchify('receiver', data) def list_cluster_receivers(self): try: return self._clustering_client.get( '/receivers', error_message=""Error fetching receivers"") # return self._get_and_munchify('receivers', data) except Exception: return None def get_cluster_receiver(self, name_or_id): try: data = self._clustering_client.get( ""/receivers/{receiver_id}"".format(receiver_id=name_or_id), error_message=""Error fetching receiver "" ""{name}"".format(name=name_or_id)) return self._get_and_munchify('receiver', data) except Exception: return None def delete_cluster_receiver(self, name_or_id): receiver = self.get_cluster_receiver(name_or_id) if receiver is None: self.log.debug(""Receiver %s not found for deleting"", name_or_id) return False self._clustering_client.delete( ""/receivers/{receiver_id}"".format(receiver_id=name_or_id), error_message=""Error deleting receiver "" ""{name}"".format(name=name_or_id)) return True def update_cluster_receiver(self, name_or_id, new_name=None, action=None, params=None): receiver = {} if new_name is not None: receiver['name'] = new_name if action is not None: receiver['action'] = action if params is not None: receiver['params'] = params data = self._clustering_client.patch( ""/receivers/{receiver_id}"".format(receiver_id=name_or_id), json={'receiver': receiver}, error_message=""Error updating receiver "" ""{name}"".format(name=name_or_id)) return self._get_and_munchify(key=None, data=data)",,2545,1
openstack%2Fnova~master~Iba56aa6b227b6455d2437e4fabcd296b1b0f06ee,openstack/nova,master,Iba56aa6b227b6455d2437e4fabcd296b1b0f06ee,Add recreate test for bug 1798163,MERGED,2018-10-16 17:49:15.000000000,2018-10-17 15:04:31.000000000,2018-10-17 10:38:46.000000000,"[{'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-10-16 17:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3015587299ffaf78c6a94daf7cb10e03762fb720', 'message': ""Add recreate test for bug 1798163\n\nChange Icae5038190ab8c7bbdb38d54ae909fcbf9048912 in Rocky\nattempts to online migrate missing consumers table records\nwhen listing allocations for a given resource provider. The\nproblem is when it's doing an insert-from-select, it's not\nhandling multiple allocations on the same provider for the\nsame consumer, like you'd have with a compute instance that\nhas VCPU, MEMORY_MB and DISK_GB allocations against a single\ncompute node resource provider. As a result, the insert\nstatement has duplicate consumer IDs in it which results in\na unique constraint violation.\n\nThe existing tests never caught this because they tested with\n3 unique consumers with a single allocation each.\n\nChange-Id: Iba56aa6b227b6455d2437e4fabcd296b1b0f06ee\nRelated-Bug: #1798163\n""}, {'number': 2, 'created': '2018-10-16 18:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1bfef11f3f4fa244ce6d44966270fc022bcd2113', 'message': ""Add recreate test for bug 1798163\n\nChange Icae5038190ab8c7bbdb38d54ae909fcbf9048912 in Rocky\nattempts to online migrate missing consumers table records\nwhen listing allocations for a given resource provider. The\nproblem is when it's doing an insert-from-select, it's not\nhandling multiple allocations on the same provider for the\nsame consumer, like you'd have with a compute instance that\nhas VCPU, MEMORY_MB and DISK_GB allocations against a single\ncompute node resource provider. As a result, the insert\nstatement has duplicate consumer IDs in it which results in\na unique constraint violation.\n\nThe existing tests never caught this because they tested with\n3 unique consumers with a single allocation each.\n\nChange-Id: Iba56aa6b227b6455d2437e4fabcd296b1b0f06ee\nRelated-Bug: #1798163\n""}, {'number': 3, 'created': '2018-10-16 19:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/314d895d4528242731d65ef21bef20b1f30ac637', 'message': ""Add recreate test for bug 1798163\n\nChange Icae5038190ab8c7bbdb38d54ae909fcbf9048912 in Rocky\nattempts to online migrate missing consumers table records\nwhen listing allocations for a given resource provider. The\nproblem is when it's doing an insert-from-select, it's not\nhandling multiple allocations on the same provider for the\nsame consumer, like you'd have with a compute instance that\nhas VCPU, MEMORY_MB and DISK_GB allocations against a single\ncompute node resource provider. As a result, the insert\nstatement has duplicate consumer IDs in it which results in\na unique constraint violation.\n\nThe existing tests never caught this because they tested with\n3 unique consumers with a single allocation each.\n\nChange-Id: Iba56aa6b227b6455d2437e4fabcd296b1b0f06ee\nRelated-Bug: #1798163\n""}, {'number': 4, 'created': '2018-10-16 19:31:09.000000000', 'files': ['nova/tests/functional/api/openstack/placement/db/test_consumer.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/618b47627d8dc4f071032e3e63c530d3fe199b39', 'message': ""Add recreate test for bug 1798163\n\nChange Icae5038190ab8c7bbdb38d54ae909fcbf9048912 in Rocky\nattempts to online migrate missing consumers table records\nwhen listing allocations for a given resource provider. The\nproblem is when it's doing an insert-from-select, it's not\nhandling multiple allocations on the same provider for the\nsame consumer, like you'd have with a compute instance that\nhas VCPU, MEMORY_MB and DISK_GB allocations against a single\ncompute node resource provider. As a result, the insert\nstatement has duplicate consumer IDs in it which results in\na unique constraint violation.\n\nThe existing tests never caught this because they tested with\n3 unique consumers with a single allocation each.\n\nThe functional test added here hits both online data migration\nroutines: via the API when listing allocations for a resource\nprovider and the direct online data migration CLI.\n\nChange-Id: Iba56aa6b227b6455d2437e4fabcd296b1b0f06ee\nRelated-Bug: #1798163\n""}]",1,611113,618b47627d8dc4f071032e3e63c530d3fe199b39,25,14,4,6873,,,0,"Add recreate test for bug 1798163

Change Icae5038190ab8c7bbdb38d54ae909fcbf9048912 in Rocky
attempts to online migrate missing consumers table records
when listing allocations for a given resource provider. The
problem is when it's doing an insert-from-select, it's not
handling multiple allocations on the same provider for the
same consumer, like you'd have with a compute instance that
has VCPU, MEMORY_MB and DISK_GB allocations against a single
compute node resource provider. As a result, the insert
statement has duplicate consumer IDs in it which results in
a unique constraint violation.

The existing tests never caught this because they tested with
3 unique consumers with a single allocation each.

The functional test added here hits both online data migration
routines: via the API when listing allocations for a resource
provider and the direct online data migration CLI.

Change-Id: Iba56aa6b227b6455d2437e4fabcd296b1b0f06ee
Related-Bug: #1798163
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/611113/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/api/openstack/placement/db/test_consumer.py'],1,3015587299ffaf78c6a94daf7cb10e03762fb720,bug/1798163,"from oslo_db import exception as db_exc # Create two allocations per consumer with different resource # classes. for resource_class_id in range(2): ins_stmt = ALLOC_TBL.insert().values( resource_provider_id=1, resource_class_id=resource_class_id, consumer_id=c_uuid, used=1) ctx.session.execute(ins_stmt) rp1 = rp_obj.ResourceProvider(self.ctx, id=1) # FIXME(mriedem): This should not raise a UniqueConstraint error once # bug 1798163 is fixed. Because of the order of online data migrations # the assertions below will also have to change. self.assertRaises(db_exc.DBDuplicateEntry, rp_obj.AllocationList.get_all_by_resource_provider, self.ctx, rp1) # This should mean there will be 4 allocation records still remaining # with a missing consumer record (since we create 6 total to begin # Grab the consumer UUID for the allocation records with a self.assertEqual(4, len(res)) self.assertEqual(2, len(res)) # FIXME(mriedem): This should not raise a UniqueConstraint error once # bug 1798163 is fixed. self.assertRaises(db_exc.DBDuplicateEntry, rp_obj.AllocationList.get_all_by_resource_provider, self.ctx, rp1) self.assertRaises(db_exc.DBDuplicateEntry, consumer_obj.create_incomplete_consumers, self.ctx, 10) # FIXME(mriedem): Uncomment once bug 1798163 is fixed. # self._check_incomplete_consumers(self.ctx) # res = consumer_obj.create_incomplete_consumers(self.ctx, 10) # self.assertEqual((0, 0), res)"," ins_stmt = ALLOC_TBL.insert().values( resource_provider_id=1, resource_class_id=0, consumer_id=c_uuid, used=1) ctx.session.execute(ins_stmt) # This should mean there will be two allocation records still remaining # with a missing consumer record (since we create 3 total to begin # Grab the consumer UUID for the allocation record with a self.assertEqual(2, len(res)) self.assertEqual(1, len(res)) still_missing = res[0][0] rp_obj.AllocationList.get_all_by_resource_provider(self.ctx, rp1) self._check_incomplete_consumers(self.ctx) res = consumer_obj.create_incomplete_consumers(self.ctx, 10) self.assertEqual((0, 0), res)",33,14
openstack%2Fhorizon~master~Ifed089e7cee3075bf2dc5d1ce77b0e1b1d091ca0,openstack/horizon,master,Ifed089e7cee3075bf2dc5d1ce77b0e1b1d091ca0,Don't expose endpoint URLs in the login form,MERGED,2018-08-20 14:43:26.000000000,2018-10-17 15:04:10.000000000,2018-09-06 00:16:24.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 16628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-20 14:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/36169bcc7f34d91c21715c5f725ab0cdc682e1bb', 'message': ""Don't expose endpoint URLs in the login form\n\nInstead of using endpoint URLs to designate regions in the login\nform and its cookies, use numbers. This way, if internal URLs are\nconfigured, they won't be exposed to the outside.\n\nChange-Id: Ifed089e7cee3075bf2dc5d1ce77b0e1b1d091ca0\nCloses-bug: #1787943\n""}, {'number': 2, 'created': '2018-08-21 10:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1981a2f3560a1b0bdb87f43c92166adfb5b9cc2c', 'message': ""Don't expose endpoint URLs in the login form\n\nInstead of using endpoint URLs to designate regions in the login\nform and its cookies, use numbers. This way, if internal URLs are\nconfigured, they won't be exposed to the outside.\n\nChange-Id: Ifed089e7cee3075bf2dc5d1ce77b0e1b1d091ca0\nCloses-bug: #1787943\n""}, {'number': 3, 'created': '2018-08-21 11:32:40.000000000', 'files': ['openstack_auth/forms.py', 'openstack_auth/tests/unit/test_auth.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/16c4f4c3a294040bb87386156dab49f2b782ce21', 'message': ""Don't expose endpoint URLs in the login form\n\nInstead of using endpoint URLs to designate regions in the login\nform and its cookies, use numbers. This way, if internal URLs are\nconfigured, they won't be exposed to the outside.\n\nChange-Id: Ifed089e7cee3075bf2dc5d1ce77b0e1b1d091ca0\nCloses-bug: #1787943\n""}]",0,593650,16c4f4c3a294040bb87386156dab49f2b782ce21,20,5,3,8648,,,0,"Don't expose endpoint URLs in the login form

Instead of using endpoint URLs to designate regions in the login
form and its cookies, use numbers. This way, if internal URLs are
configured, they won't be exposed to the outside.

Change-Id: Ifed089e7cee3075bf2dc5d1ce77b0e1b1d091ca0
Closes-bug: #1787943
",git fetch https://review.opendev.org/openstack/horizon refs/changes/50/593650/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_auth/forms.py', 'openstack_auth/tests/unit/test_auth.py']",2,36169bcc7f34d91c21715c5f725ab0cdc682e1bb,bug/1787943," return {'region': """","," return {'region': settings.OPENSTACK_KEYSTONE_URL,",16,6
openstack%2Fshade~master~Ic416f56cc675a7873750221e91a85adeb687543c,openstack/shade,master,Ic416f56cc675a7873750221e91a85adeb687543c,Add nodepool functional tests,ABANDONED,2018-05-04 18:53:06.000000000,2018-10-17 14:54:16.000000000,,"[{'_account_id': 2}, {'_account_id': 3099}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2018-05-04 18:53:06.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/shade/commit/782e385fdbaef6d9cb3e64f48263e9ab2de3e4b9', 'message': ""Add nodepool functional tests\n\nnodepool has a functional test that checks against master of shade, but\nshade does not have the inverse. The recent issue with os-client-config\nwould have been caught if we'd had this in place.\n\nChange-Id: Ic416f56cc675a7873750221e91a85adeb687543c\nDepends-On: https://review.openstack.org/566387\n""}]",0,566388,782e385fdbaef6d9cb3e64f48263e9ab2de3e4b9,8,4,1,2,,,0,"Add nodepool functional tests

nodepool has a functional test that checks against master of shade, but
shade does not have the inverse. The recent issue with os-client-config
would have been caught if we'd had this in place.

Change-Id: Ic416f56cc675a7873750221e91a85adeb687543c
Depends-On: https://review.openstack.org/566387
",git fetch https://review.opendev.org/openstack/shade refs/changes/88/566388/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,782e385fdbaef6d9cb3e64f48263e9ab2de3e4b9,, - nodepool-functional-py35-src - nodepool-functional-py35-src,,2,0
openstack%2Fshade~master~I3c2ab35f5d2a7f08ae7e1cd42bc00ff05dc18af9,openstack/shade,master,I3c2ab35f5d2a7f08ae7e1cd42bc00ff05dc18af9,Ignore 404 errors while fetching paginated volumes,ABANDONED,2017-06-14 11:41:50.000000000,2018-10-17 14:54:16.000000000,,[],"[{'number': 1, 'created': '2017-06-14 11:41:50.000000000', 'files': ['shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/af51bec81e4f5eb8e8367ca6ff6278bdeacc4cf9', 'message': ""Ignore 404 errors while fetching paginated volumes\n\nWhen we get a volume list, it's possible for a volume to disappear\ncausing the pagination to bork. Return what we can.\n\nChange-Id: I3c2ab35f5d2a7f08ae7e1cd42bc00ff05dc18af9\n""}]",0,474165,af51bec81e4f5eb8e8367ca6ff6278bdeacc4cf9,4,0,1,2,,,0,"Ignore 404 errors while fetching paginated volumes

When we get a volume list, it's possible for a volume to disappear
causing the pagination to bork. Return what we can.

Change-Id: I3c2ab35f5d2a7f08ae7e1cd42bc00ff05dc18af9
",git fetch https://review.opendev.org/openstack/shade refs/changes/65/474165/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/openstackcloud.py'],1,af51bec81e4f5eb8e8367ca6ff6278bdeacc4cf9,," try: _list(self._volume_client.get(endpoint)) except OpenStackCloudURINotFound: self.log.debug( ""While listing volumes, could not find next link"" "" {link}. Returning what was found"".format(link=data))", _list(self._volume_client.get(endpoint)),6,1
openstack%2Fshade~master~Ic3e4aef901b2299b5ce2a0b37d0751fd202702e4,openstack/shade,master,Ic3e4aef901b2299b5ce2a0b37d0751fd202702e4,Add subnetpool_name_or_id parameter to create_subnet,ABANDONED,2018-02-28 22:35:19.000000000,2018-10-17 14:54:13.000000000,,"[{'_account_id': 2}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 27338}]","[{'number': 1, 'created': '2018-02-28 22:35:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/f1a6278ced61c21d9d01b1941baebf758024d03a', 'message': 'Add subnetpool_name_or_id parameter to create_subnet\n\ncreate_subnet already have partial support for subnetpools,\nas it supports the parameter use_default_subnetpool.\nHowever, it\'s not good enough for us, as we have multiple\nallocation pools to choose from.\n\nArguably, task #6177 should have been done first, this\nimplementation does some direct API calls instead of shade\nmethods.  Arguably, full support for subnetpools is outside\nthe scope of shade; ""If you want to do complicated things,\nyou should probably use the lower level client libraries -\nor even the REST API directly.""\n\nQuite some work has been put down in getting a robust and\ngood functional test.  I didn\'t get started with unit test\nyet.\n\nTask: 6538\nStory: 2001462\n\nChange-Id: Ic3e4aef901b2299b5ce2a0b37d0751fd202702e4\nSigned-off-by: Tobias Brox <tobias@redpill-linpro.com>\n'}, {'number': 2, 'created': '2018-03-01 03:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/3dab4e882142485e59ebd9d000b85cdab27bd7f7', 'message': 'Add subnetpool_name_or_id parameter to create_subnet\n\ncreate_subnet already have partial support for subnetpools,\nas it supports the parameter use_default_subnetpool.\nHowever, it\'s not good enough for us, as we have multiple\nallocation pools to choose from.\n\nArguably, task #6177 should have been done first, this\nimplementation does some direct API calls instead of shade\nmethods.  Arguably, full support for subnetpools is outside\nthe scope of shade; ""If you want to do complicated things,\nyou should probably use the lower level client libraries -\nor even the REST API directly.""\n\nQuite some work has been put down in getting a robust and\ngood functional test.  I didn\'t get started with unit test\nyet.\n\nTask: 6538\nStory: 2001462\n\nChange-Id: Ic3e4aef901b2299b5ce2a0b37d0751fd202702e4\nSigned-off-by: Tobias Brox <tobias@redpill-linpro.com>\n'}, {'number': 3, 'created': '2018-03-05 12:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/30e9ddfdfac27456ce24052fc7637bf993acd5cf', 'message': 'Add subnetpool_name_or_id parameter to create_subnet\n\ncreate_subnet already have partial support for subnetpools,\nas it supports the parameter use_default_subnetpool.\nHowever, it\'s not good enough for us, as we have multiple\nallocation pools to choose from.\n\nArguably, task #6177 should have been done first, this\nimplementation does some direct API calls instead of shade\nmethods.  Arguably, full support for subnetpools is outside\nthe scope of shade; ""If you want to do complicated things,\nyou should probably use the lower level client libraries -\nor even the REST API directly.""\n\nQuite some work has been put down in getting a robust and\ngood functional test.  I didn\'t get started with unit test\nyet.\n\n(modified, s/subnetpool_name_or_id/subnetpool/ ref code\nreview comments)\n\nTask: 6538\nStory: 2001462\n\nChange-Id: Ic3e4aef901b2299b5ce2a0b37d0751fd202702e4\nSigned-off-by: Tobias Brox <tobias@redpill-linpro.com>\n'}, {'number': 4, 'created': '2018-03-05 12:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/54b1858ead1aff43789982416118aae6a794806e', 'message': 'Add subnetpool_name_or_id parameter to create_subnet\n\ncreate_subnet already have partial support for subnetpools,\nas it supports the parameter use_default_subnetpool.\nHowever, it\'s not good enough for us, as we have multiple\nallocation pools to choose from.\n\nArguably, task #6177 should have been done first, this\nimplementation does some direct API calls instead of shade\nmethods.  Arguably, full support for subnetpools is outside\nthe scope of shade; ""If you want to do complicated things,\nyou should probably use the lower level client libraries -\nor even the REST API directly.""\n\nQuite some work has been put down in getting a robust and\ngood functional test.  I didn\'t get started with unit test\nyet.\n\n(modified, s/subnetpool_name_or_id/subnetpool/ ref code\nreview comments)\n\nTask: 6538\nStory: 2001462\n\nChange-Id: Ic3e4aef901b2299b5ce2a0b37d0751fd202702e4\nSigned-off-by: Tobias Brox <tobias@redpill-linpro.com>\n'}, {'number': 5, 'created': '2018-03-05 12:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/5d67d685769818167a9dcd2961d959f0eaec6113', 'message': 'Add subnetpool_name_or_id parameter to create_subnet\n\ncreate_subnet already have partial support for subnetpools,\nas it supports the parameter use_default_subnetpool.\nHowever, it\'s not good enough for us, as we have multiple\nallocation pools to choose from.\n\nArguably, task #6177 should have been done first, this\nimplementation does some direct API calls instead of shade\nmethods.  Arguably, full support for subnetpools is outside\nthe scope of shade; ""If you want to do complicated things,\nyou should probably use the lower level client libraries -\nor even the REST API directly.""\n\nQuite some work has been put down in getting a robust and\ngood functional test.  I didn\'t get started with unit test\nyet.\n\n(modified, s/subnetpool_name_or_id/subnetpool/ ref code\nreview comments)\n\nTask: 6538\nStory: 2001462\n\nChange-Id: Ic3e4aef901b2299b5ce2a0b37d0751fd202702e4\nSigned-off-by: Tobias Brox <tobias@redpill-linpro.com>\n'}, {'number': 6, 'created': '2018-03-08 08:24:05.000000000', 'files': ['shade/tests/unit/test_subnet.py', 'shade/openstackcloud.py', 'shade/tests/functional/test_network.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/71aa652ddb9ba0b53f5c56445d9297a5b719b78e', 'message': 'Add subnetpool_name_or_id parameter to create_subnet\n\ncreate_subnet already have partial support for subnetpools,\nas it supports the parameter use_default_subnetpool.\nHowever, it\'s not good enough for us, as we have multiple\nallocation pools to choose from.\n\nArguably, task #6177 should have been done first, this\nimplementation does some direct API calls instead of shade\nmethods.  Arguably, full support for subnetpools is outside\nthe scope of shade; ""If you want to do complicated things,\nyou should probably use the lower level client libraries -\nor even the REST API directly.""\n\nQuite some work has been put down in getting a robust and\ngood functional test.  Unit tests have been added,\nexcersising the default_subnetpool option as well.\n\n(modified, s/subnetpool_name_or_id/subnetpool/ ref code\nreview comments)\n\nTask: 6538\nStory: 2001462\n\nChange-Id: Ic3e4aef901b2299b5ce2a0b37d0751fd202702e4\nSigned-off-by: Tobias Brox <tobias@redpill-linpro.com>\n'}]",2,548722,71aa652ddb9ba0b53f5c56445d9297a5b719b78e,15,4,6,27338,,,0,"Add subnetpool_name_or_id parameter to create_subnet

create_subnet already have partial support for subnetpools,
as it supports the parameter use_default_subnetpool.
However, it's not good enough for us, as we have multiple
allocation pools to choose from.

Arguably, task #6177 should have been done first, this
implementation does some direct API calls instead of shade
methods.  Arguably, full support for subnetpools is outside
the scope of shade; ""If you want to do complicated things,
you should probably use the lower level client libraries -
or even the REST API directly.""

Quite some work has been put down in getting a robust and
good functional test.  Unit tests have been added,
excersising the default_subnetpool option as well.

(modified, s/subnetpool_name_or_id/subnetpool/ ref code
review comments)

Task: 6538
Story: 2001462

Change-Id: Ic3e4aef901b2299b5ce2a0b37d0751fd202702e4
Signed-off-by: Tobias Brox <tobias@redpill-linpro.com>
",git fetch https://review.opendev.org/openstack/shade refs/changes/22/548722/4 && git format-patch -1 --stdout FETCH_HEAD,"['shade/openstackcloud.py', 'shade/tests/functional/test_network.py']",2,f1a6278ced61c21d9d01b1941baebf758024d03a,storyboard_2001462_task_6538," self.subnet_name = self.getUniqueString('subnet') self.subnetpool_id = None for subnet in self.operator_cloud.list_subnets(): if subnet['name'].startswith(self.subnet_name): try: self.operator_cloud.delete_subnet(subnet['id']) except Exception as e: exception_list.append(str(e)) continue try: if self.subnetpool_id: self.operator_cloud._network_client.delete( ""/subnetpools/%s"" % self.subnetpool_id) except Exception as e: exception_list.append(str(e)) def test_create_subnet_from_subnetpool(self): # provisioning a network net1 = self.operator_cloud.create_network(name=self.network_name) self.assertIsNotNone(net1) # Provisioning a subnetpool # this should be done through shade, as soon as task #6583 is done # https://storyboard.openstack.org/#!/story/2001462 subnetpool = self.operator_cloud._network_client.get( ""/subnetpools?name=subnet-pool-for-ftest"") if subnetpool['subnetpools']: subnetpool = subnetpool['subnetpools'][0] else: subnetpool = self.operator_cloud._network_client.post( '/subnetpools', json={ ""subnetpool"": { ""name"": ""subnet-pool-for-ftest"", ""prefixes"": [ ""10.8.0.0/16"" ], ""default_prefixlen"": 28, ""min_prefixlen"": 24, ""max_prefixlen"": 30, ""shared"": ""true"" } } )['subnetpool'] # Keep the subnet allocation pool id for the cleanup self.subnetpool_id = subnetpool['id'] # Create subnets, using the allocation pool subnet1 = self.operator_cloud.create_subnet( net1['id'], subnet_name=self.subnet_name + 'subnet1-for-ftest', subnetpool_name_or_id='subnet-pool-for-ftest') subnet2 = self.operator_cloud.create_subnet( net1['id'], subnet_name=self.subnet_name + 'subnet2-for-ftest', subnetpool_name_or_id='subnet-pool-for-ftest') # Verify that the subnetpool can be given by id, not only name subnet3 = self.operator_cloud.create_subnet( net1['id'], subnet_name=self.subnet_name + 'subnet3-for-ftest', subnetpool_name_or_id=subnetpool['id']) # Verify that a non-existent subnetpool name will yield an exception self.assertRaises( OpenStackCloudException, self.operator_cloud.create_subnet, net1['id'], subnet_name='subnet2-for-ftest', subnetpool_name_or_id='this-subnetpool-should-not-exist') # Subnets should not be None self.assertIsNotNone(subnet1) self.assertIsNotNone(subnet2) self.assertIsNotNone(subnet3) # Start address for the allocation ranges start1 = subnet1['allocation_pools'][0]['start'] start2 = subnet2['allocation_pools'][0]['start'] start3 = subnet3['allocation_pools'][0]['start'] # Subnets should have different allocation pools self.assertNotEqual(start1, start2) self.assertNotEqual(start1, start3) # Allocation pools should be within the 10.8.0.0/16 cidr self.assertEqual(start1[0:5], '10.8.') self.assertEqual(start2[0:5], '10.8.') self.assertEqual(start3[0:5], '10.8.') ",,115,4
openstack%2Fshade~master~I9dfdce2646c1dc63da399e066b8f2419d9879dc7,openstack/shade,master,I9dfdce2646c1dc63da399e066b8f2419d9879dc7,Fix proper domain support in user role grants,ABANDONED,2018-03-01 09:45:38.000000000,2018-10-17 14:54:11.000000000,,"[{'_account_id': 22348}, {'_account_id': 27338}]","[{'number': 1, 'created': '2018-03-01 09:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/f6d117cd67e43133043016b792fb4d0370ca7811', 'message': 'Fix proper domain support in user role grants\n\nThis is a simple re-apply of Change-Id: I43c97981d9e76f595efa2051b17a8425404179c4\n\nI will follow up with functional tests and unit tests\n\nTask: 5853\nStory: 2001302\n\nChange-Id: I9dfdce2646c1dc63da399e066b8f2419d9879dc7\nSigned-off-by: Tobias Brox <tobias@redpill-linpro.com>\n'}, {'number': 2, 'created': '2018-03-01 22:17:04.000000000', 'files': ['shade/tests/functional/test_identity.py', 'shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/67544fa82d559aa9a0a1c21f2d8fba7c3d4d4d59', 'message': 'Fix proper domain support in user role grants\n\nThis is a simple re-apply of Change-Id: I43c97981d9e76f595efa2051b17a8425404179c4, plus functional tests\n\nStill missing functional tests for project_domain and unit tests.\n\nTask: 5853\nStory: 2001302\n\nChange-Id: I9dfdce2646c1dc63da399e066b8f2419d9879dc7\nSigned-off-by: Tobias Brox <tobias@redpill-linpro.com>\n'}]",2,548887,67544fa82d559aa9a0a1c21f2d8fba7c3d4d4d59,8,2,2,27338,,,0,"Fix proper domain support in user role grants

This is a simple re-apply of Change-Id: I43c97981d9e76f595efa2051b17a8425404179c4, plus functional tests

Still missing functional tests for project_domain and unit tests.

Task: 5853
Story: 2001302

Change-Id: I9dfdce2646c1dc63da399e066b8f2419d9879dc7
Signed-off-by: Tobias Brox <tobias@redpill-linpro.com>
",git fetch https://review.opendev.org/openstack/shade refs/changes/87/548887/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/openstackcloud.py'],1,f6d117cd67e43133043016b792fb4d0370ca7811,storyboard_2001302_task_5904," project=None, domain=None, user_domain=None, group_domain=None, project_domain=None): # NOTE(SamYaple): This if section exists to perserve # backwards-compatible behaviour. We must assume that the end user is # passing domain as the domain to search for the user, group, and # project. # The prefered usage of 'domain' is as the object to grant the user # permissions to. The other *_domain varables should be used for more # explict control of the search paramaters. if domain: domain = self.get_domain(domain) if not user_domain: user_domain = domain if not group_domain: group_domain = domain if not project_domain: project_domain = domain if not is_keystone_v2 and domain: data['domain'] = self.get_domain(name_or_id=domain)['id'] filters = {} if not is_keystone_v2 and user_domain: filters['domain_id'] = self.get_domain( name_or_id=user_domain)['id'] filters = {} if not is_keystone_v2 and project_domain: filters['domain_id'] = self.get_domain( name_or_id=project_domain)['id'] if 'domain' in data: # NOTE(SamYaple): This is done to preserve backwards-compatible # behaviour. del data['domain'] filters = {} if group_domain: filters['domain_id'] = self.get_domain( name_or_id=group_domain)['id'] def grant_role(self, name_or_id, user=None, group=None, project=None, domain=None, wait=False, timeout=60, user_domain=None, group_domain=None, project_domain=None): data = self._get_grant_revoke_params(name_or_id, user, group, project, domain, user_domain, group_domain, project_domain) def revoke_role(self, name_or_id, user=None, group=None, project=None, domain=None, wait=False, timeout=60, user_domain=None, group_domain=None, project_domain=None): data = self._get_grant_revoke_params(name_or_id, user, group, project, domain, user_domain, group_domain, project_domain)"," project=None, domain=None): filters = {} if not is_keystone_v2 and domain: filters['domain_id'] = data['domain'] = \ self.get_domain(domain)['id'] # drop domain in favor of project data.pop('domain', None) def grant_role(self, name_or_id, user=None, group=None, project=None, domain=None, wait=False, timeout=60): data = self._get_grant_revoke_params(name_or_id, user, group, project, domain) def revoke_role(self, name_or_id, user=None, group=None, project=None, domain=None, wait=False, timeout=60): data = self._get_grant_revoke_params(name_or_id, user, group, project, domain)",47,14
openstack%2Fshade~master~I2bfe9d27a86cc6b4433861097f0538f382d60d7d,openstack/shade,master,I2bfe9d27a86cc6b4433861097f0538f382d60d7d,DNM testing building some things on some nodes,ABANDONED,2018-03-07 21:11:36.000000000,2018-10-17 14:54:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-07 21:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/1d4c19a2c3edce10a20562ed5434d9f4fc72d7ba', 'message': 'DNM testing building some things on some nodes\n\nChange-Id: I2bfe9d27a86cc6b4433861097f0538f382d60d7d\n'}, {'number': 2, 'created': '2018-03-07 21:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/e660e16b8c0a4c8430fe10c41e70ac568073f6d2', 'message': 'DNM testing building some things on some nodes\n\nChange-Id: I2bfe9d27a86cc6b4433861097f0538f382d60d7d\n'}, {'number': 3, 'created': '2018-03-07 21:37:36.000000000', 'files': ['playbooks/pyenv.yaml', 'playbooks/centos.yaml', '.zuul.yaml', 'playbooks/suse.yaml'], 'web_link': 'https://opendev.org/openstack/shade/commit/c00f593221099a9671d49a97c9cdd13c5dc5222b', 'message': 'DNM testing building some things on some nodes\n\nChange-Id: I2bfe9d27a86cc6b4433861097f0538f382d60d7d\n'}]",0,550606,c00f593221099a9671d49a97c9cdd13c5dc5222b,7,1,3,2,,,0,"DNM testing building some things on some nodes

Change-Id: I2bfe9d27a86cc6b4433861097f0538f382d60d7d
",git fetch https://review.opendev.org/openstack/shade refs/changes/06/550606/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/pyenv.yaml', '.zuul.yaml']",2,1d4c19a2c3edce10a20562ed5434d9f4fc72d7ba,,- job: name: shade-pyenv-base run: playbooks/pyenv.yaml - job: name: shade-pyenv-suse parent: shade-pyenv-base nodeset: nodes: - name: opensuse-tumbleweed label: opensuse-tumbleweed - job: name: shade-pyenv-centos parent: shade-pyenv-base nodeset: centos-7 - project: - shade-pyenv-suse - shade-pyenv-centos,- project: templates: - publish-to-pypi - publish-openstack-sphinx-docs - shade-functional-tips - shade-tox-tips - bifrost-integration-tinyipa - bifrost-integration-tinyipa-opensuse-423 - shade-ansible-devel-functional-devstack: voting: false - shade-ansible-functional-devstack - shade-functional-devstack - shade-functional-devstack-magnum - shade-functional-devstack-python3 gate: jobs: - bifrost-integration-tinyipa - bifrost-integration-tinyipa-opensuse-423 - shade-ansible-functional-devstack - shade-functional-devstack - shade-functional-devstack-python3,29,20
openstack%2Fshade~master~I5a93c6f53a176bd53560fa3b31b9ad9738e580dd,openstack/shade,master,I5a93c6f53a176bd53560fa3b31b9ad9738e580dd,Allow grant_role to select users in a different domain,ABANDONED,2018-03-05 11:56:37.000000000,2018-10-17 14:54:09.000000000,,"[{'_account_id': 22348}, {'_account_id': 27338}]","[{'number': 1, 'created': '2018-03-05 11:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/5b951d91a765fb4b8bbb2c55ef20296187eb78f9', 'message': ""Allow grant_role to select users in a different domain\n\nIn our environment the admin user (belonging to the default domain)\nwas unable to grant rights to uses outside the default domain, as the\nget_user method would not find the user without the domain_id\nattribute set.  Adding the domain_id in the filter does not help, as\nit's only filtering away results from the search.\n\nUnfortunately I have not been able to reproduce this problem in\nfunctional tests against a clean devstack - there the get_user method\nhas no problem finding users in different domains.\n\nThis is a redo of an earlier change that was reverted out by Sam\nYaple, as he wanted to deprecate the domain parameter in favor of\nuser_domain, group_domain and project_domain in the grant methods.\nThe parent changeset fixes that.\n\nUnit tests have been mended to check that the domain_id is passed.\n\nChange-Id: I5a93c6f53a176bd53560fa3b31b9ad9738e580dd\nTask: 5853\nStory: 2001302\nRelated-Id: I7dfb45e5c6c4f7a7318ae6705269dd9d3e6100b2\nRelated-Id: Ia9f0bdf58a0df539d14b14a3b7e368a06ff6ed88\nRelated-Id: I43c97981d9e76f595efa2051b17a8425404179c4\n""}, {'number': 2, 'created': '2018-03-05 16:18:45.000000000', 'files': ['shade/tests/unit/test_role_assignment.py', 'shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/5e3fe1a25712516efbf89838bffc1ba6408d1d0e', 'message': ""Allow grant_role to select users in a different domain\n\nIn our environment the admin user (belonging to the default domain)\nwas unable to grant rights to uses outside the default domain, as the\nget_user method would not find the user without the domain_id\nattribute set.  Adding the domain_id in the filter does not help, as\nit's only filtering away results from the search.\n\nUnfortunately I have not been able to reproduce this problem in\nfunctional tests against a clean devstack - there the get_user method\nhas no problem finding users in different domains.\n\nThis is a redo of an earlier change that was reverted out by Sam\nYaple, as he wanted to deprecate the domain parameter in favor of\nuser_domain, group_domain and project_domain in the grant methods.\nThe parent changeset fixes that.\n\nUnit tests have been mended to check that the domain_id is passed.\n\nNew unit tests have been added to excersise passing of the\nuser_domain_id, project_domain_id and group_domain_id parameters.\n\nChange-Id: I5a93c6f53a176bd53560fa3b31b9ad9738e580dd\nTask: 5853\nStory: 2001302\nRelated-Id: I7dfb45e5c6c4f7a7318ae6705269dd9d3e6100b2\nRelated-Id: Ia9f0bdf58a0df539d14b14a3b7e368a06ff6ed88\nRelated-Id: I43c97981d9e76f595efa2051b17a8425404179c4\n""}]",0,549744,5e3fe1a25712516efbf89838bffc1ba6408d1d0e,8,2,2,27338,,,0,"Allow grant_role to select users in a different domain

In our environment the admin user (belonging to the default domain)
was unable to grant rights to uses outside the default domain, as the
get_user method would not find the user without the domain_id
attribute set.  Adding the domain_id in the filter does not help, as
it's only filtering away results from the search.

Unfortunately I have not been able to reproduce this problem in
functional tests against a clean devstack - there the get_user method
has no problem finding users in different domains.

This is a redo of an earlier change that was reverted out by Sam
Yaple, as he wanted to deprecate the domain parameter in favor of
user_domain, group_domain and project_domain in the grant methods.
The parent changeset fixes that.

Unit tests have been mended to check that the domain_id is passed.

New unit tests have been added to excersise passing of the
user_domain_id, project_domain_id and group_domain_id parameters.

Change-Id: I5a93c6f53a176bd53560fa3b31b9ad9738e580dd
Task: 5853
Story: 2001302
Related-Id: I7dfb45e5c6c4f7a7318ae6705269dd9d3e6100b2
Related-Id: Ia9f0bdf58a0df539d14b14a3b7e368a06ff6ed88
Related-Id: I43c97981d9e76f595efa2051b17a8425404179c4
",git fetch https://review.opendev.org/openstack/shade refs/changes/44/549744/1 && git format-patch -1 --stdout FETCH_HEAD,"['shade/tests/unit/test_role_assignment.py', 'shade/openstackcloud.py']",2,5b951d91a765fb4b8bbb2c55ef20296187eb78f9,storyboard_2001302_task_5904," data['user'] = self.get_user( user, filters=filters, domain_id=filters['domain_id']) else: data['user'] = self.get_user(user, filters=filters) data['project'] = self.get_project( project, filters=filters, domain_id=filters['domain_id']) else: data['project'] = self.get_project(project, filters=filters)"," data['user'] = self.get_user(user, filters=filters) data['project'] = self.get_project(project, filters=filters)",85,22
openstack%2Fshade~master~I31eda9a1ed663e2617daa67b7a0aaf203c001b93,openstack/shade,master,I31eda9a1ed663e2617daa67b7a0aaf203c001b93,WIP: Test job based on devstack-new-neutron,ABANDONED,2018-03-13 09:59:30.000000000,2018-10-17 14:54:08.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-13 09:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/0e7cd07cd2d2d590d5d54658b1441a8a31b19f2c', 'message': 'Fix devstack jobs to use neutron-qos properly\n\nWith the recent changes to the upstream devstack job, switching from q-*\nservices to neutron-*, the Q_SERVICE_PLUGIN_CLASSES variable is no\nlonger being evaluated.\n\nSo instead we need to enable the neutron-qos service from the neutron\ndevstack plugin.\n\nChange-Id: I31eda9a1ed663e2617daa67b7a0aaf203c001b93\n'}, {'number': 2, 'created': '2018-06-06 14:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/38780cb95a1ce96bce886c7de06411fa4c42e54e', 'message': ""WIP: Test job based on devstack-new-neutron\n\nDevstack has a new job which uses the new lib/neutron code instead of\nlib/neutron-legacy, let's try to consume it.\n\nDepends-On: https://review.openstack.org/572792\nChange-Id: I31eda9a1ed663e2617daa67b7a0aaf203c001b93\n""}, {'number': 3, 'created': '2018-06-07 10:19:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/shade/commit/c92927d0e7e1aeefd34f2eab165e86ad0dfc2221', 'message': ""WIP: Test job based on devstack-new-neutron\n\nDevstack has a new job which uses the new lib/neutron code instead of\nlib/neutron-legacy, let's try to consume it.\n\nDepends-On: https://review.openstack.org/572792\nChange-Id: I31eda9a1ed663e2617daa67b7a0aaf203c001b93\n""}]",0,552459,c92927d0e7e1aeefd34f2eab165e86ad0dfc2221,8,2,3,13252,,,0,"WIP: Test job based on devstack-new-neutron

Devstack has a new job which uses the new lib/neutron code instead of
lib/neutron-legacy, let's try to consume it.

Depends-On: https://review.openstack.org/572792
Change-Id: I31eda9a1ed663e2617daa67b7a0aaf203c001b93
",git fetch https://review.opendev.org/openstack/shade refs/changes/59/552459/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0e7cd07cd2d2d590d5d54658b1441a8a31b19f2c,fix-devstack-jobs, devstack_plugins: neutron: https://git.openstack.org/openstack/neutron devstack_services: neutron-qos: true, Q_SERVICE_PLUGIN_CLASSES: qos,4,1
openstack%2Fshade~master~I0d7f65942d27c22e930e5cb3b6d47d190a9d54de,openstack/shade,master,I0d7f65942d27c22e930e5cb3b6d47d190a9d54de,added filters to inventory class and filters args to cmd/inventory.py - usefull for getting smaller set of cloud resources as the inventory when sharing a big project.,ABANDONED,2017-12-28 00:43:29.000000000,2018-10-17 14:54:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2017-12-28 00:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/2c3aba0369977b901c1db2140d4726d6e64cf9e6', 'message': 'added filters to inventory class and filters args to cmd/inventory.py - usefull for getting smaller set of cloud resources as the inventory when sharing a big project.\n\nChange-Id: I0d7f65942d27c22e930e5cb3b6d47d190a9d54de\n'}, {'number': 2, 'created': '2018-03-09 18:57:08.000000000', 'files': ['shade/cmd/inventory.py', 'shade/inventory.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/44b552e9ccc391c9153e240a9724ce76778ce54e', 'message': 'added filters to inventory class and filters args to cmd/inventory.py - usefull for getting smaller set of cloud resources as the inventory when sharing a big project.\n\nChange-Id: I0d7f65942d27c22e930e5cb3b6d47d190a9d54de\n'}]",0,530278,44b552e9ccc391c9153e240a9724ce76778ce54e,5,1,2,27557,,,0,"added filters to inventory class and filters args to cmd/inventory.py - usefull for getting smaller set of cloud resources as the inventory when sharing a big project.

Change-Id: I0d7f65942d27c22e930e5cb3b6d47d190a9d54de
",git fetch https://review.opendev.org/openstack/shade refs/changes/78/530278/2 && git format-patch -1 --stdout FETCH_HEAD,"['shade/cmd/inventory.py', 'shade/inventory.py']",2,2c3aba0369977b901c1db2140d4726d6e64cf9e6,filterInventory," use_direct_get=False, filters=None): self.filters=filters for server in cloud.list_servers(detailed=expand,filters=self.filters):", use_direct_get=False): for server in cloud.list_servers(detailed=expand):,7,3
openstack%2Fshade~master~Ibeeafaaffb4e591d510f2f8ae18f95c2dc12e866,openstack/shade,master,Ibeeafaaffb4e591d510f2f8ae18f95c2dc12e866,Allow client-side filters for nova floating ip list,ABANDONED,2016-11-07 20:41:43.000000000,2018-10-17 14:54:07.000000000,,"[{'_account_id': 2}, {'_account_id': 4146}]","[{'number': 1, 'created': '2016-11-07 20:41:43.000000000', 'files': ['shade/openstackcloud.py', 'shade/tests/unit/test_floating_ip_nova.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/8084cb276b142313e2745e2b70dd84922e413709', 'message': ""Allow client-side filters for nova floating ip list\n\nIn order to hide more differences in cloud behavior from the user, fall\nback to client-side filtering in list_floating_ips if the cloud uses\nnova floating ips and filters are given. This way we use server side\nfloating ips if they exist, and don't if they don't.\n\nChange-Id: Ibeeafaaffb4e591d510f2f8ae18f95c2dc12e866\n""}]",1,394617,8084cb276b142313e2745e2b70dd84922e413709,7,2,1,2,,,0,"Allow client-side filters for nova floating ip list

In order to hide more differences in cloud behavior from the user, fall
back to client-side filtering in list_floating_ips if the cloud uses
nova floating ips and filters are given. This way we use server side
floating ips if they exist, and don't if they don't.

Change-Id: Ibeeafaaffb4e591d510f2f8ae18f95c2dc12e866
",git fetch https://review.opendev.org/openstack/shade refs/changes/17/394617/1 && git format-patch -1 --stdout FETCH_HEAD,"['shade/openstackcloud.py', 'shade/tests/unit/test_floating_ip_nova.py']",2,8084cb276b142313e2745e2b70dd84922e413709,client-side-filtering, self.cloud.list_floating_ips(filters={'Foo': 42}) mock_nova_client.floating_ips.list.assert_called_with()," self.assertRaisesRegex( ValueError, ""Nova-network don't support server-side"", self.cloud.list_floating_ips, filters={'Foo': 42} )",6,20
openstack%2Fshade~master~I0cd30abbc1566089a3126b641508b0fe5d00e651,openstack/shade,master,I0cd30abbc1566089a3126b641508b0fe5d00e651,Add Magnum bays support,ABANDONED,2016-05-19 09:03:43.000000000,2018-10-17 14:54:07.000000000,,"[{'_account_id': 1106}, {'_account_id': 6133}, {'_account_id': 24647}]","[{'number': 1, 'created': '2016-05-19 09:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/c279d947fd2380fb3b1cc5ae0ec103982630a3c4', 'message': 'Add Magnum bays support\n\nUsual CRUD methods, plus reno notes and tests.\n\nChange-Id: I0cd30abbc1566089a3126b641508b0fe5d00e651\n'}, {'number': 2, 'created': '2016-05-25 10:00:13.000000000', 'files': ['shade/_utils.py', 'shade/_tasks.py', 'shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/5858a7078491b58e08e437044e4212ff19f40721', 'message': 'Add Magnum bays support\n\nUsual CRUD methods, plus reno notes and tests.\n\nChange-Id: I0cd30abbc1566089a3126b641508b0fe5d00e651\n'}]",0,318518,5858a7078491b58e08e437044e4212ff19f40721,12,3,2,1106,,,0,"Add Magnum bays support

Usual CRUD methods, plus reno notes and tests.

Change-Id: I0cd30abbc1566089a3126b641508b0fe5d00e651
",git fetch https://review.opendev.org/openstack/shade refs/changes/18/318518/2 && git format-patch -1 --stdout FETCH_HEAD,"['shade/_utils.py', 'shade/_tasks.py', 'shade/openstackcloud.py']",3,c279d947fd2380fb3b1cc5ae0ec103982630a3c4,add_bays," @_utils.cache_on_arguments() def list_bays(self): """"""List all available bays. :returns: A list of bays. """""" with _utils.shade_exceptions(""Error fetching bays list""): bays = self.manager.submitTask(_tasks.BayList()) return _utils.normalize_bays(bays) def get_bay(self, name_or_id, filters=None): """"""Get a bay by name or ID. :param name_or_id: Name or ID of the bay :param dict filters: A dictionary of meta data to use for further filtering :returns: A bay dict or None if no matching bay is found. """""" return _utils._get_entity(self.search_bays, name_or_id, filters) def search_bays(self, name_or_id=None, filters=None): bays = self.list_bays() return _utils._filter_list(bays, name_or_id, filters) def create_bay(self, baymodel, name=None, node_count=1, discovery_url=None, bay_create_timeout=0, master_count=1): """"""Create a bay. :param baymodel: Name or ID of the baymodel :param name: Name of the bay :param node_count: Number of nodes :param discovery_url: Discovery URL :param bay_create_timeout: Timeout for bay create operation :param master_count: Number of masters :returns: a dict representing the created bay. :raises: OpenStackCloudException on operation error. """""" baymodel = self.get_baymodel(baymodel) if baymodel is None: raise OpenStackCloudException( ""Baymodel %s not found."" % baymodel) with _utils.shade_exceptions( ""Unable to create bay {name}"".format(name=name)): return self.manager.submitTask(_tasks.BayCreate( baymodel_id=baymodel['id'], name=name, node_count=node_count, discovery_url=discovery_url, bay_create_timeout=bay_create_timeout, master_count=master_count)) @_utils.valid_kwargs('name', 'node_count', 'discovery_url', 'bay_create_timeout', 'master_count') def update_bay(self, name_or_id, operation, **kwargs): """"""Update a Magnum bay. :param name_or_id: Name or ID of the bay being updated. :param operation: Operation to perform - add, remove, replace. Other arguments will be passed with kwargs. :returns: a dict representing the updated bay. :raises: OpenStackCloudException on operation error. """""" self.list_bays.invalidate(self) bay = self.get_bay(name_or_id) if not bay: raise OpenStackCloudException( ""Bay %s not found."" % name_or_id) if operation not in ['add', 'replace', 'remove']: raise TypeError( ""%s operation not in 'add', 'replace', 'remove'"" % operation) patches = _utils.generate_patches_from_kwargs(operation, **kwargs) with _utils.shade_exceptions( ""Error updating bay {0}"".format(name_or_id)): self.manager.submitTask( _tasks.BayUpdate( id=bay['id'], patch=patches)) new_bay = self.get_bay(name_or_id) return new_bay",,115,0
openstack%2Fshade~master~I43c97981d9e76f595efa2051b17a8425404179c4,openstack/shade,master,I43c97981d9e76f595efa2051b17a8425404179c4,Fix user role grants,ABANDONED,2017-08-24 02:28:10.000000000,2018-10-17 14:54:06.000000000,,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 14119}, {'_account_id': 22348}, {'_account_id': 27338}]","[{'number': 1, 'created': '2017-08-24 02:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/45bfa06ecf8daa1f2dabdf80d841f9cc1c2f1992', 'message': 'Fix user role grants\n\nBefore this patch it was impossible to grant a user or group a role for\na domain.\n\nChange-Id: I43c97981d9e76f595efa2051b17a8425404179c4\n'}, {'number': 2, 'created': '2017-08-24 15:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/d66cb29706c3da27d77bef146149add964f9f773', 'message': 'Fix user role grants\n\nBefore this patch it was impossible to grant a user or group a role for\na domain.\n\nChange-Id: I43c97981d9e76f595efa2051b17a8425404179c4\n'}, {'number': 3, 'created': '2017-08-24 15:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/8d49aa7d7bf716b32628faec6582caa666a5f963', 'message': 'Fix user role grants\n\nBefore this patch it was impossible to grant a user or group a role for\na domain.\n\nChange-Id: I43c97981d9e76f595efa2051b17a8425404179c4\n'}, {'number': 4, 'created': '2017-08-28 21:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/93c2100547063d15ea55f7e19804bd3957b1e1dd', 'message': 'Fix user role grants\n\nBefore this patch it was impossible to grant a user or group a role for\na domain.\n\nChange-Id: I43c97981d9e76f595efa2051b17a8425404179c4\n'}, {'number': 5, 'created': '2017-08-28 23:12:58.000000000', 'files': ['shade/operatorcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/9aee95a0b7c41fc598998ac40de3d9a91742e236', 'message': 'Fix user role grants\n\nBefore this patch it was impossible to grant a user or group a role for\na domain.\n\nChange-Id: I43c97981d9e76f595efa2051b17a8425404179c4\n'}]",0,496980,9aee95a0b7c41fc598998ac40de3d9a91742e236,21,5,5,14119,,,0,"Fix user role grants

Before this patch it was impossible to grant a user or group a role for
a domain.

Change-Id: I43c97981d9e76f595efa2051b17a8425404179c4
",git fetch https://review.opendev.org/openstack/shade refs/changes/80/496980/3 && git format-patch -1 --stdout FETCH_HEAD,['shade/operatorcloud.py'],1,45bfa06ecf8daa1f2dabdf80d841f9cc1c2f1992,domain_fix," project=None, domain=None, user_domain=None, group_domain=None, project_domain=None): filters['domain_id'] = self.get_domain(domain)['id'] if not is_keystone_v2 and domain: data['domain'] = self.get_domain(domain, filters=filters) if not is_keystone_v2 and user_domain: filters['domain_id'] = self.get_domain(user_domain)['id'] if not is_keystone_v2 and project_domain: filters['domain_id'] = self.get_domain(project_domain)['id'] if group_domain: filters['domain_id'] = self.get_domain(group_domain)['id'] def grant_role(self, name_or_id, user=None, group=None, project=None, domain=None, wait=False, timeout=60, user_domain=None, group_domain=None, project_domain=None): if data.get('domain') is not None and data.get('project') is not None: raise OpenStackCloudException( 'Specify either a domain or a project, not both')"," project=None, domain=None): filters['domain_id'] = data['domain'] = \ self.get_domain(domain)['id'] # drop domain in favor of project data.pop('domain', None) def grant_role(self, name_or_id, user=None, group=None, project=None, domain=None, wait=False, timeout=60):",19,7
openstack%2Fshade~master~I831d4e0741d815f80cde32c295b4171e02cdaf4b,openstack/shade,master,I831d4e0741d815f80cde32c295b4171e02cdaf4b,Add in a dynamic project scope test fixture,ABANDONED,2016-12-13 23:20:53.000000000,2018-10-17 14:54:06.000000000,,"[{'_account_id': 2}, {'_account_id': 2903}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-12-13 23:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/ff7108e1592adf1da6f078134f89d3b53fa08cf1', 'message': 'Add in a dynamic project scope test fixture\n\nThis adds in a dynamically created/used project for testing purposed.\nThis is handled via an optional fixture that can be applied for a test or\ntest class. This type of dynamic project scoping fixture allows for given\ntests to ensure there are no re-used/lingering resources that could\npollute the test results. This is exceptionally important for cases such\nas floating-ips and network (SDN) tests due to some inherant racy-ness\nwithin the tests (and similar tests with racy-conditions).\n\nChange-Id: I831d4e0741d815f80cde32c295b4171e02cdaf4b\n'}, {'number': 2, 'created': '2016-12-19 18:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/9e3633ea041531ebf9a3ce8d9f4602d9166f6979', 'message': 'Add in a dynamic project scope test fixture\n\nThis adds in a dynamically created/used project for testing purposed.\nThis is handled via an optional fixture that can be applied for a test or\ntest class. This type of dynamic project scoping fixture allows for given\ntests to ensure there are no re-used/lingering resources that could\npollute the test results. This is exceptionally important for cases such\nas floating-ips and network (SDN) tests due to some inherant racy-ness\nwithin the tests (and similar tests with racy-conditions).\n\nChange-Id: I831d4e0741d815f80cde32c295b4171e02cdaf4b\n'}, {'number': 3, 'created': '2016-12-19 18:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/14901433db9ee2a7ab9d72cd465f06826890ac8f', 'message': 'Add in a dynamic project scope test fixture\n\nThis adds in a dynamically created/used project for testing purposed.\nThis is handled via an optional fixture that can be applied for a test or\ntest class. This type of dynamic project scoping fixture allows for given\ntests to ensure there are no re-used/lingering resources that could\npollute the test results. This is exceptionally important for cases such\nas floating-ips and network (SDN) tests due to some inherant racy-ness\nwithin the tests (and similar tests with racy-conditions).\n\nChange-Id: I831d4e0741d815f80cde32c295b4171e02cdaf4b\n'}, {'number': 4, 'created': '2016-12-19 19:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/1ed58ac04136e74e28142e2ad78bba75c02307c9', 'message': 'Add in a dynamic project scope test fixture\n\nThis adds in a dynamically created/used project for testing purposed.\nThis is handled via an optional fixture that can be applied for a test or\ntest class. This type of dynamic project scoping fixture allows for given\ntests to ensure there are no re-used/lingering resources that could\npollute the test results. This is exceptionally important for cases such\nas floating-ips and network (SDN) tests due to some inherant racy-ness\nwithin the tests (and similar tests with racy-conditions).\n\nChange-Id: I831d4e0741d815f80cde32c295b4171e02cdaf4b\n'}, {'number': 5, 'created': '2016-12-19 19:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/267dd9aba402441380377ebb63d4c62c197a56a6', 'message': 'Add in a dynamic project scope test fixture\n\nThis adds in a dynamically created/used project for testing purposed.\nThis is handled via an optional fixture that can be applied for a test or\ntest class. This type of dynamic project scoping fixture allows for given\ntests to ensure there are no re-used/lingering resources that could\npollute the test results. This is exceptionally important for cases such\nas floating-ips and network (SDN) tests due to some inherant racy-ness\nwithin the tests (and similar tests with racy-conditions).\n\nChange-Id: I831d4e0741d815f80cde32c295b4171e02cdaf4b\n'}, {'number': 6, 'created': '2016-12-20 15:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/c11b290ee3de2955ed1a10ed580e1a9322904025', 'message': 'Add in a dynamic project scope test fixture\n\nThis adds in a dynamically created/used project for testing purposed.\nThis is handled via an optional fixture that can be applied for a test or\ntest class. This type of dynamic project scoping fixture allows for given\ntests to ensure there are no re-used/lingering resources that could\npollute the test results. This is exceptionally important for cases such\nas floating-ips and network (SDN) tests due to some inherant racy-ness\nwithin the tests (and similar tests with racy-conditions).\n\nChange-Id: I831d4e0741d815f80cde32c295b4171e02cdaf4b\n'}, {'number': 7, 'created': '2016-12-20 15:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/2ff97d151eb56e8b4c7b5d4ea1285461cf0e8250', 'message': 'Add in a dynamic project scope test fixture\n\nThis adds in a dynamically created/used project for testing purposed.\nThis is handled via an optional fixture that can be applied for a test or\ntest class. This type of dynamic project scoping fixture allows for given\ntests to ensure there are no re-used/lingering resources that could\npollute the test results. This is exceptionally important for cases such\nas floating-ips and network (SDN) tests due to some inherant racy-ness\nwithin the tests (and similar tests with racy-conditions).\n\nChange-Id: I831d4e0741d815f80cde32c295b4171e02cdaf4b\n'}, {'number': 8, 'created': '2016-12-20 18:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/ff68456e6e39940c63cac26210e166d47fcae362', 'message': 'Add in a dynamic project scope test fixture\n\nThis adds in a dynamically created/used project for testing purposed.\nThis is handled via an optional fixture that can be applied for a test or\ntest class. This type of dynamic project scoping fixture allows for given\ntests to ensure there are no re-used/lingering resources that could\npollute the test results. This is exceptionally important for cases such\nas floating-ips and network (SDN) tests due to some inherant racy-ness\nwithin the tests (and similar tests with racy-conditions).\n\nChange-Id: I831d4e0741d815f80cde32c295b4171e02cdaf4b\n'}, {'number': 9, 'created': '2016-12-20 18:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/8b06c6780819c0195e106b7821c2ba045b2fc007', 'message': 'Add in a dynamic project scope test fixture\n\nThis adds in a dynamically created/used project for testing purposed.\nThis is handled via an optional fixture that can be applied for a test or\ntest class. This type of dynamic project scoping fixture allows for given\ntests to ensure there are no re-used/lingering resources that could\npollute the test results. This is exceptionally important for cases such\nas floating-ips and network (SDN) tests due to some inherant racy-ness\nwithin the tests (and similar tests with racy-conditions).\n\nChange-Id: I831d4e0741d815f80cde32c295b4171e02cdaf4b\n'}, {'number': 10, 'created': '2016-12-20 19:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/fb56d4f5c228f3b5872404c6c7b3c9cf22bbc0fb', 'message': 'Add in a dynamic project scope test fixture\n\nThis adds in a dynamically created/used project for testing purposed.\nThis is handled via an optional fixture that can be applied for a test or\ntest class. This type of dynamic project scoping fixture allows for given\ntests to ensure there are no re-used/lingering resources that could\npollute the test results. This is exceptionally important for cases such\nas floating-ips and network (SDN) tests due to some inherant racy-ness\nwithin the tests (and similar tests with racy-conditions).\n\nChange-Id: I831d4e0741d815f80cde32c295b4171e02cdaf4b\n'}, {'number': 11, 'created': '2016-12-20 20:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/b0ab190a9ca5c25e54ba76ffbe5e8f881f27a5aa', 'message': 'Add in a dynamic project scope test fixture\n\nThis adds in a dynamically created/used project for testing purposed.\nThis is handled via an optional fixture that can be applied for a test or\ntest class. This type of dynamic project scoping fixture allows for given\ntests to ensure there are no re-used/lingering resources that could\npollute the test results. This is exceptionally important for cases such\nas floating-ips and network (SDN) tests due to some inherant racy-ness\nwithin the tests (and similar tests with racy-conditions).\n\nChange-Id: I831d4e0741d815f80cde32c295b4171e02cdaf4b\n'}, {'number': 12, 'created': '2016-12-21 19:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/858a8718c5c433a2390ec23ae30a6d5f21b70413', 'message': 'Add in a dynamic project scope test fixture\n\nThis adds in a dynamically created/used project for testing purposed.\nThis is handled via an optional fixture that can be applied for a test or\ntest class. This type of dynamic project scoping fixture allows for given\ntests to ensure there are no re-used/lingering resources that could\npollute the test results. This is exceptionally important for cases such\nas floating-ips and network (SDN) tests due to some inherant racy-ness\nwithin the tests (and similar tests with racy-conditions).\n\nChange-Id: I831d4e0741d815f80cde32c295b4171e02cdaf4b\n'}, {'number': 13, 'created': '2016-12-21 19:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/dd519ea10a59169947e9c21fb1400f2ea107e961', 'message': 'Add in a dynamic project scope test fixture\n\nThis adds in a dynamically created/used project for testing purposed.\nThis is handled via an optional fixture that can be applied for a test or\ntest class. This type of dynamic project scoping fixture allows for given\ntests to ensure there are no re-used/lingering resources that could\npollute the test results. This is exceptionally important for cases such\nas floating-ips and network (SDN) tests due to some inherant racy-ness\nwithin the tests (and similar tests with racy-conditions).\n\nChange-Id: I831d4e0741d815f80cde32c295b4171e02cdaf4b\n'}, {'number': 14, 'created': '2016-12-21 22:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/8f9dc92eb7da39a1f3e252c2fc179eac7a7e75fe', 'message': 'Add in a dynamic project scope test fixture\n\nThis adds in a dynamically created/used project for testing purposed.\nThis is handled via an optional fixture that can be applied for a test or\ntest class. This type of dynamic project scoping fixture allows for given\ntests to ensure there are no re-used/lingering resources that could\npollute the test results. This is exceptionally important for cases such\nas floating-ips and network (SDN) tests due to some inherant racy-ness\nwithin the tests (and similar tests with racy-conditions).\n\nChange-Id: I831d4e0741d815f80cde32c295b4171e02cdaf4b\n'}, {'number': 15, 'created': '2016-12-21 23:47:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/cba8d45774448a2abf85248f635f4adfc06ef9fb', 'message': 'Add in a dynamic project scope test fixture\n\nThis adds in a dynamically created/used project for testing purposed.\nThis is handled via an optional fixture that can be applied for a test or\ntest class. This type of dynamic project scoping fixture allows for given\ntests to ensure there are no re-used/lingering resources that could\npollute the test results. This is exceptionally important for cases such\nas floating-ips and network (SDN) tests due to some inherant racy-ness\nwithin the tests (and similar tests with racy-conditions).\n\nChange-Id: I831d4e0741d815f80cde32c295b4171e02cdaf4b\n'}, {'number': 16, 'created': '2016-12-22 00:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/40626044e5b11e9af5ce12239ecd5a190f8c3280', 'message': 'Add in a dynamic project scope test fixture\n\nThis adds in a dynamically created/used project for testing purposed.\nThis is handled via an optional fixture that can be applied for a test or\ntest class. This type of dynamic project scoping fixture allows for given\ntests to ensure there are no re-used/lingering resources that could\npollute the test results. This is exceptionally important for cases such\nas floating-ips and network (SDN) tests due to some inherant racy-ness\nwithin the tests (and similar tests with racy-conditions).\n\nChange-Id: I831d4e0741d815f80cde32c295b4171e02cdaf4b\n'}, {'number': 17, 'created': '2016-12-22 02:30:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/41c7726684821e5133788243b57c5de9a2a7fc26', 'message': 'Add in a dynamic project scope test fixture\n\nThis adds in a dynamically created/used project for testing purposed.\nThis is handled via an optional fixture that can be applied for a test or\ntest class. This type of dynamic project scoping fixture allows for given\ntests to ensure there are no re-used/lingering resources that could\npollute the test results. This is exceptionally important for cases such\nas floating-ips and network (SDN) tests due to some inherant racy-ness\nwithin the tests (and similar tests with racy-conditions).\n\nChange-Id: I831d4e0741d815f80cde32c295b4171e02cdaf4b\n'}, {'number': 18, 'created': '2017-01-03 22:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/1a25eab5917a24d3e8e221f49e978621c4f26971', 'message': 'Add in a dynamic project scope test fixture\n\nThis adds in a dynamically created/used project for testing purposed.\nThis is handled via an optional fixture that can be applied for a test or\ntest class. This type of dynamic project scoping fixture allows for given\ntests to ensure there are no re-used/lingering resources that could\npollute the test results. This is exceptionally important for cases such\nas floating-ips and network (SDN) tests due to some inherant racy-ness\nwithin the tests (and similar tests with racy-conditions).\n\nChange-Id: I831d4e0741d815f80cde32c295b4171e02cdaf4b\n'}, {'number': 19, 'created': '2017-01-03 23:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/f50ca8cc2cffa0ebb08c817922354e762b2b6e70', 'message': 'Add in a dynamic project scope test fixture\n\nThis adds in a dynamically created/used project for testing purposed.\nThis is handled via an optional fixture that can be applied for a test or\ntest class. This type of dynamic project scoping fixture allows for given\ntests to ensure there are no re-used/lingering resources that could\npollute the test results. This is exceptionally important for cases such\nas floating-ips and network (SDN) tests due to some inherant racy-ness\nwithin the tests (and similar tests with racy-conditions).\n\nChange-Id: I831d4e0741d815f80cde32c295b4171e02cdaf4b\n'}, {'number': 20, 'created': '2017-01-04 18:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/5d28597aff4844d9e09daa9584acaaad89fb9c3a', 'message': 'Add in a dynamic project scope test fixture\n\nThis adds in a dynamically created/used project for testing purposed.\nThis is handled via an optional fixture that can be applied for a test or\ntest class. This type of dynamic project scoping fixture allows for given\ntests to ensure there are no re-used/lingering resources that could\npollute the test results. This is exceptionally important for cases such\nas floating-ips and network (SDN) tests due to some inherant racy-ness\nwithin the tests (and similar tests with racy-conditions).\n\nChange-Id: I831d4e0741d815f80cde32c295b4171e02cdaf4b\n'}, {'number': 21, 'created': '2017-01-04 21:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/83e0b3000e85880e83354e4cfe90392b8f18bb64', 'message': 'Add in a dynamic project scope test fixture\n\nThis adds in a dynamically created/used project for testing purposed.\nThis is handled via an optional fixture that can be applied for a test or\ntest class. This type of dynamic project scoping fixture allows for given\ntests to ensure there are no re-used/lingering resources that could\npollute the test results. This is exceptionally important for cases such\nas floating-ips and network (SDN) tests due to some inherant racy-ness\nwithin the tests (and similar tests with racy-conditions).\n\nChange-Id: I831d4e0741d815f80cde32c295b4171e02cdaf4b\n'}, {'number': 22, 'created': '2018-09-14 16:49:03.000000000', 'files': ['shade/tests/functional/test_floating_ip.py', 'shade/tests/fixture/scoped_auth.py', 'shade/tests/fixture/__init__.py', 'shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/3198a90280c42a22386e9c412fbc452bce35ff73', 'message': 'Add in a dynamic project scope test fixture\n\nThis adds in a dynamically created/used project for testing purposed.\nThis is handled via an optional fixture that can be applied for a test or\ntest class. This type of dynamic project scoping fixture allows for given\ntests to ensure there are no re-used/lingering resources that could\npollute the test results. This is exceptionally important for cases such\nas floating-ips and network (SDN) tests due to some inherant racy-ness\nwithin the tests (and similar tests with racy-conditions).\n\nChange-Id: I831d4e0741d815f80cde32c295b4171e02cdaf4b\n'}]",1,410453,3198a90280c42a22386e9c412fbc452bce35ff73,45,3,22,2903,,,0,"Add in a dynamic project scope test fixture

This adds in a dynamically created/used project for testing purposed.
This is handled via an optional fixture that can be applied for a test or
test class. This type of dynamic project scoping fixture allows for given
tests to ensure there are no re-used/lingering resources that could
pollute the test results. This is exceptionally important for cases such
as floating-ips and network (SDN) tests due to some inherant racy-ness
within the tests (and similar tests with racy-conditions).

Change-Id: I831d4e0741d815f80cde32c295b4171e02cdaf4b
",git fetch https://review.opendev.org/openstack/shade refs/changes/53/410453/5 && git format-patch -1 --stdout FETCH_HEAD,"['shade/tests/fixture/scoped_auth.py', 'shade/tests/fixture/__init__.py']",2,ff7108e1592adf1da6f078134f89d3b53fa08cf1,scoped_auth,,,75,0
openstack%2Fshade~master~I8a49013b56ef24c169ec7fbb939d65da69573b05,openstack/shade,master,I8a49013b56ef24c169ec7fbb939d65da69573b05,Don't error on 404 for floating ips while deleting,ABANDONED,2017-06-23 09:10:06.000000000,2018-10-17 14:54:05.000000000,,[{'_account_id': 11975}],"[{'number': 1, 'created': '2017-06-23 09:10:06.000000000', 'files': ['shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/afa5361f6e630988ab30689d7b6ed8f2a9048018', 'message': ""Don't error on 404 for floating ips while deleting\n\nIf we're trying to delete a server and its floating ip and then we can't\nfind the floating ip - that's ok, we're trying to delete it.\n\nChange-Id: I8a49013b56ef24c169ec7fbb939d65da69573b05\n""}]",0,476844,afa5361f6e630988ab30689d7b6ed8f2a9048018,5,1,1,2,,,0,"Don't error on 404 for floating ips while deleting

If we're trying to delete a server and its floating ip and then we can't
find the floating ip - that's ok, we're trying to delete it.

Change-Id: I8a49013b56ef24c169ec7fbb939d65da69573b05
",git fetch https://review.opendev.org/openstack/shade refs/changes/44/476844/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/openstackcloud.py'],1,afa5361f6e630988ab30689d7b6ed8f2a9048018,," try: self._delete_server_floating_ips(server, delete_ip_retry) except OpenStackCloudURINotFound: # If we can't find the floating IP that we think we have, # that's fine - we're trying to delete it anyway. Just move # on with our lives. pass"," self._delete_server_floating_ips(server, delete_ip_retry)",7,1
openstack%2Fshade~master~I92e63487a08bff67ca0959c155ad92762fb610c8,openstack/shade,master,I92e63487a08bff67ca0959c155ad92762fb610c8,Add Neutron Network model.,ABANDONED,2017-02-11 14:36:32.000000000,2018-10-17 14:54:05.000000000,,"[{'_account_id': 2}, {'_account_id': 170}, {'_account_id': 3099}, {'_account_id': 11975}, {'_account_id': 24647}]","[{'number': 1, 'created': '2017-02-11 14:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/4a3e8715505c277267d176170a41ff7d7f9fbb14', 'message': 'Add Neutron Network model.\n\nChange-Id: Ia3afb5947fb611ccd26575d93921f3f492ea3c3f\n\nfix: return munch.Munch on create_network\n\nChange-Id: I5c460dc8808347d2fd3376d009d2b0d5e2b0e41f\n\nNormalize network\n\nChange-Id: I92e63487a08bff67ca0959c155ad92762fb610c8\n'}, {'number': 2, 'created': '2017-02-11 15:49:08.000000000', 'files': ['doc/source/model.rst', 'releasenotes/notes/add-network-model-c2d94e9170b9310a.yaml', 'shade/tests/unit/test_network.py', 'shade/tests/unit/test_normalize.py', 'shade/_normalize.py', 'shade/openstackcloud.py', 'shade/tests/functional/test_network.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/57fbbe7ade39afddcf85e1157035a68b14bfe472', 'message': 'Add Neutron Network model.\n\nChange-Id: Ia3afb5947fb611ccd26575d93921f3f492ea3c3f\n\nfix: return munch.Munch on create_network\n\nChange-Id: I5c460dc8808347d2fd3376d009d2b0d5e2b0e41f\n\nNormalize network\n\nChange-Id: I92e63487a08bff67ca0959c155ad92762fb610c8\n'}]",0,432600,57fbbe7ade39afddcf85e1157035a68b14bfe472,9,5,2,24647,,,0,"Add Neutron Network model.

Change-Id: Ia3afb5947fb611ccd26575d93921f3f492ea3c3f

fix: return munch.Munch on create_network

Change-Id: I5c460dc8808347d2fd3376d009d2b0d5e2b0e41f

Normalize network

Change-Id: I92e63487a08bff67ca0959c155ad92762fb610c8
",git fetch https://review.opendev.org/openstack/shade refs/changes/00/432600/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/model.rst', 'shade/tests/unit/test_network.py', 'shade/tests/unit/test_normalize.py', 'shade/_normalize.py', 'shade/openstackcloud.py', 'shade/tests/functional/test_network.py']",6,4a3e8715505c277267d176170a41ff7d7f9fbb14,fix_add_network_model," for attribute in ('id', 'name', 'shared', 'external', 'admin_state_up'): self.assertTrue(hasattr(net1, attribute))",,174,1
openstack%2Fshade~master~Ic943dac5dc7de421e378c3891d47371a07e16183,openstack/shade,master,Ic943dac5dc7de421e378c3891d47371a07e16183,WIP: Add support for portgroups/vifs,ABANDONED,2018-01-02 21:24:56.000000000,2018-10-17 14:54:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-01-02 21:24:56.000000000', 'files': ['shade/tests/fakes.py', 'shade/openstackcloud.py', 'shade/tests/unit/test_baremetal_ports.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/2900283b441399e788847f7d35ad60c68b742c7f', 'message': 'WIP: Add support for portgroups/vifs\n\nChange-Id: Ic943dac5dc7de421e378c3891d47371a07e16183\n'}]",0,530803,2900283b441399e788847f7d35ad60c68b742c7f,3,1,1,11655,,,0,"WIP: Add support for portgroups/vifs

Change-Id: Ic943dac5dc7de421e378c3891d47371a07e16183
",git fetch https://review.opendev.org/openstack/shade refs/changes/03/530803/1 && git format-patch -1 --stdout FETCH_HEAD,"['shade/tests/fakes.py', 'shade/openstackcloud.py', 'shade/tests/unit/test_baremetal_ports.py']",3,2900283b441399e788847f7d35ad60c68b742c7f,,"import uuid class TestBaremetalPortGroup(base.IronicTestCase): def setUp(self): super(TestBaremetalPortGroup, self).setUp() self.fake_baremetal_node = fakes.make_fake_machine( self.name, self.uuid) # TODO(TheJulia): Portgroups are very similar to ports, # however they are a constrution of ports into link aggregrate. # Data stucture wise, there are additional fields, and a # a ports array that link to the ports that are part of the # portgorup. # TODO(TheJulia): Using make_fake_port for the mean time, # this will need to be extended. self.fake_baremetal_port = fakes.make_fake_port( '00:01:02:03:04:05', node_id=self.uuid) self.fake_baremetal_port2 = fakes.make_fake_port( '0a:0b:0c:0d:0e:0f', node_id=self.uuid) self.fake_portgroup = fakes.make_fake_portgroup( [self.fake_baremetal_port, self.fake_baremetal_port2]) def test_list_portgroups(self): self.register_uris([ dict(method='GET', uri=self.get_mock_url(resource='portgroups'), json={'portgroups': [self.fake_portgroup]}), ]) return_value = self.op_cloud.list_portgroups() self.assertEqual(1, len(return_value)) self.assertEqual(self.fake_portgroup, return_value[0]) self.assert_calls() def test_list_portgroups_failure(self): self.register_uris([ dict(method='GET', uri=self.get_mock_url(resource='portgroups'), status_code=400) ]) self.assertRaises(exc.OpenStackCloudException, self.op_cloud.list_portgroups) self.assert_calls() def test_list_portgroups_for_machine(self): self.register_uris([ dict(method='GET', uri=self.get_mock_url( resource='nodes', append=[self.fake_baremetal_node['uuid'], 'portgroups']), json={'portgroups': [self.fake_portgroup]}), ]) return_value = self.op_cloud.list_portgroups_for_machine( self.fake_baremetal_node['uuid']) self.assertEqual(1, len(return_value)) self.assertEqual(self.fake_portgroup, return_value[0]) self.assert_calls() def test_list_portgroups_for_machine_failure(self): self.register_uris([ dict(method='GET', uri=self.get_mock_url( resource='nodes', append=[self.fake_baremetal_node['uuid'], 'portgroups']), status_code=400) ]) self.assertRaises( exc.OpenStackCloudException, self.op_cloud.list_portgroups_for_machine, self.fake_baremetal_node['uuid']) self.assert_calls() def test_list_nics_by_portgroup(self): self.register_uris([ dict(method='GET', uri=self.get_mock_url( resource='portgroups', append=[self.fake_portgroup['uuid'], 'ports']), json={'ports': [self.fake_baremetal_port, self.fake_baremetal_port2]}), ]) expected_value = [self.fake_baremetal_port, self.fake_baremetal_port2] return_value = self.op_cloud.list_nics_by_portgroup( self.fake_portgroup['uuid']) self.assertEqual(2, len(return_value)) self.assertEqual(expected_value, return_value) self.assert_calls() class TestBaremetalVifs(base.IronicTestCase): def setUp(self): super(TestBaremetalVifs, self).setUp() self.fake_baremetal_node = fakes.make_fake_machine( self.name, self.uuid) def test_attach_vif_to_machine(self): self.register_uris([ dict(method='POST', uri=self.get_mock_url( resource='nodes', append=[self.fake_baremetal_node['uuid'], 'vifs']), validate=dict(json={'id': 'fake-vif'})) ]) return_value = self.op_cloud.attach_vif_to_machine( self.fake_baremetal_node['uuid'], 'fake-vif') self.assertIsNone(return_value) self.assert_calls() def test_attach_vif_to_machine_failure(self): self.register_uris([ dict(method='POST', uri=self.get_mock_url( resource='nodes', append=[self.fake_baremetal_node['uuid'], 'vifs']), validate=dict(json={'id': 'fake-vif'}), status_code=400) ]) self.assertRaises( exc.OpenStackCloudException, self.op_cloud.attach_vif_to_machine, self.fake_baremetal_node['uuid'], 'fake-vif') self.assert_calls() def test_detach_vif_from_machine(self): self.register_uris([ dict(method='DELETE', uri=self.get_mock_url( resource='nodes', append=[self.fake_baremetal_node['uuid'], 'vifs', 'fake-vif'])) ]) return_value = self.op_cloud.detach_vif_from_machine( self.fake_baremetal_node['uuid'], 'fake-vif') self.assertIsNone(return_value) self.assert_calls() def test_detach_vif_from_machine_failure(self): self.register_uris([ dict(method='DELETE', uri=self.get_mock_url( resource='nodes', append=[self.fake_baremetal_node['uuid'], 'vifs', 'fake-vif']), status_code=400), ]) self.assertRaises( exc.OpenStackCloudException, self.op_cloud.detach_vif_from_machine, self.fake_baremetal_node['uuid'], 'fake-vif') self.assert_calls() def test_list_vifs_by_machine(self): fake_uuid1 = uuid.uuid4().hex fake_uuid2 = uuid.uuid4().hex self.register_uris([ dict(method='GET', uri=self.get_mock_url( resource='nodes', append=[self.fake_baremetal_node['uuid'], 'vifs']), json={'vifs': [{'id': fake_uuid1}, {'id': fake_uuid2}]}), ]) expected_value = [fake_uuid1, fake_uuid2] return_value = self.op_cloud.list_vifs_by_machine( self.fake_baremetal_node['uuid']) self.assertEqual(2, len(return_value)) self.assertEqual(expected_value, return_value) self.assert_calls() def test_list_vifs_by_machine_failure(self): self.register_uris([ dict(method='GET', uri=self.get_mock_url( resource='nodes', append=[self.fake_baremetal_node['uuid'], 'vifs']), status_code=400), ]) self.assertRaises( exc.OpenStackCloudException, self.op_cloud.list_vifs_by_machine, self.fake_baremetal_node['uuid']) self.assert_calls()",,337,0
openstack%2Fshade~master~Ib2b7344d2fc6bf9063abc9ccd16681d79e8d8cf0,openstack/shade,master,Ib2b7344d2fc6bf9063abc9ccd16681d79e8d8cf0,Defer object interactions to openstacksdk,ABANDONED,2018-07-27 23:52:38.000000000,2018-10-17 14:54:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-07-27 23:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/1482d120c761082ad9977ba41cc1bec9b3ea7c05', 'message': ""Defer object interactions to openstacksdk\n\nOverride the object and image variables in the base Connection class so\nthat metadata keys for shade don't change.\n\nopenstacksdk doesn't do container autocreation, so we need to do that\nourselves.\n\nThe tests change because we do the container creation now first. The\nsame calls get made overall.\n\nChange-Id: Ib2b7344d2fc6bf9063abc9ccd16681d79e8d8cf0\nDepends-On: https://review.openstack.org/58672\n""}, {'number': 2, 'created': '2018-07-27 23:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/b07ba5d81d3f0abca373d00483a8a3d20df9a569', 'message': ""Defer object interactions to openstacksdk\n\nOverride the object and image variables in the base Connection class so\nthat metadata keys for shade don't change.\n\nopenstacksdk doesn't do container autocreation, so we need to do that\nourselves.\n\nThe tests change because we do the container creation now first. The\nsame calls get made overall.\n\nChange-Id: Ib2b7344d2fc6bf9063abc9ccd16681d79e8d8cf0\nDepends-On: https://review.openstack.org/586727\n""}, {'number': 3, 'created': '2018-07-30 16:52:29.000000000', 'files': ['shade/tests/unit/test_object.py', 'shade/tests/unit/test_image.py', 'releasenotes/notes/sdk-swift-d1c3e36254a1dedb.yaml', 'shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/5032d172e3718067cc2f2bf3c4105f12b847650d', 'message': ""Defer object interactions to openstacksdk\n\nOverride the object and image variables in the base Connection class so\nthat metadata keys for shade don't change.\n\nopenstacksdk doesn't do container autocreation, so we need to do that\nourselves.\n\nThe tests change because we do the container creation now first. The\nsame calls get made overall.\n\nChange-Id: Ib2b7344d2fc6bf9063abc9ccd16681d79e8d8cf0\nDepends-On: https://review.openstack.org/586727\n""}]",0,586728,5032d172e3718067cc2f2bf3c4105f12b847650d,8,1,3,2,,,0,"Defer object interactions to openstacksdk

Override the object and image variables in the base Connection class so
that metadata keys for shade don't change.

openstacksdk doesn't do container autocreation, so we need to do that
ourselves.

The tests change because we do the container creation now first. The
same calls get made overall.

Change-Id: Ib2b7344d2fc6bf9063abc9ccd16681d79e8d8cf0
Depends-On: https://review.openstack.org/586727
",git fetch https://review.opendev.org/openstack/shade refs/changes/28/586728/1 && git format-patch -1 --stdout FETCH_HEAD,"['shade/tests/unit/test_object.py', 'shade/tests/unit/test_image.py', 'shade/openstackcloud.py']",3,1482d120c761082ad9977ba41cc1bec9b3ea7c05,swift-streaming," _OBJECT_MD5_KEY = 'x-object-meta-x-shade-md5' _OBJECT_SHA256_KEY = 'x-object-meta-x-shade-sha256' _OBJECT_AUTOCREATE_KEY = 'x-object-meta-x-shade-autocreated' _OBJECT_AUTOCREATE_CONTAINER = 'images' _IMAGE_MD5_KEY = 'owner_specified.shade.md5' _IMAGE_SHA256_KEY = 'owner_specified.shade.sha256' _IMAGE_OBJECT_KEY = 'owner_specified.shade.object' return super(OpenStackCloud, self).create_object( container, name, filename=filename, md5=md5, sha256=sha256, segment_size=segment_size, use_slo=use_slo, metadata=metadata, **headers)"," def list_containers(self, full_listing=True): """"""List containers. :param full_listing: Ignored. Present for backwards compat :returns: list of Munch of the container objects :raises: OpenStackCloudException on operation error. """""" return self._object_store_client.get('/', params=dict(format='json')) def get_container(self, name, skip_cache=False): if skip_cache or name not in self._container_cache: try: container = self._object_store_client.head(name) self._container_cache[name] = container.headers except exc.OpenStackCloudHTTPError as e: if e.response.status_code == 404: return None raise return self._container_cache[name] def create_container(self, name, public=False): container = self.get_container(name) if container: return container self._object_store_client.put(name) if public: self.set_container_access(name, 'public') return self.get_container(name, skip_cache=True) def delete_container(self, name): try: self._object_store_client.delete(name) return True except exc.OpenStackCloudHTTPError as e: if e.response.status_code == 404: return False if e.response.status_code == 409: raise exc.OpenStackCloudException( 'Attempt to delete container {container} failed. The' ' container is not empty. Please delete the objects' ' inside it before deleting the container'.format( container=name)) raise def update_container(self, name, headers): self._object_store_client.post(name, headers=headers) def set_container_access(self, name, access): if access not in OBJECT_CONTAINER_ACLS: raise exc.OpenStackCloudException( ""Invalid container access specified: %s. Must be one of %s"" % (access, list(OBJECT_CONTAINER_ACLS.keys()))) header = {'x-container-read': OBJECT_CONTAINER_ACLS[access]} self.update_container(name, header) def get_container_access(self, name): container = self.get_container(name, skip_cache=True) if not container: raise exc.OpenStackCloudException(""Container not found: %s"" % name) acl = container.get('x-container-read', '') for key, value in OBJECT_CONTAINER_ACLS.items(): # Convert to string for the comparison because swiftclient # returns byte values as bytes sometimes and apparently == # on bytes doesn't work like you'd think if str(acl) == str(value): return key raise exc.OpenStackCloudException( ""Could not determine container access for ACL: %s."" % acl) def _get_file_hashes(self, filename): file_key = ""{filename}:{mtime}"".format( filename=filename, mtime=os.stat(filename).st_mtime) if file_key not in self._file_hash_cache: self.log.debug( 'Calculating hashes for %(filename)s', {'filename': filename}) md5 = hashlib.md5() sha256 = hashlib.sha256() with open(filename, 'rb') as file_obj: for chunk in iter(lambda: file_obj.read(8192), b''): md5.update(chunk) sha256.update(chunk) self._file_hash_cache[file_key] = dict( md5=md5.hexdigest(), sha256=sha256.hexdigest()) self.log.debug( ""Image file %(filename)s md5:%(md5)s sha256:%(sha256)s"", {'filename': filename, 'md5': self._file_hash_cache[file_key]['md5'], 'sha256': self._file_hash_cache[file_key]['sha256']}) return (self._file_hash_cache[file_key]['md5'], self._file_hash_cache[file_key]['sha256']) def get_object_segment_size(self, segment_size): """"""Get a segment size that will work given capabilities"""""" if segment_size is None: segment_size = DEFAULT_OBJECT_SEGMENT_SIZE min_segment_size = 0 try: caps = self.get_object_capabilities() except exc.OpenStackCloudHTTPError as e: if e.response.status_code in (404, 412): # Clear the exception so that it doesn't linger # and get reported as an Inner Exception later _utils._exc_clear() server_max_file_size = DEFAULT_MAX_FILE_SIZE self.log.info( ""Swift capabilities not supported. "" ""Using default max file size."") else: raise else: server_max_file_size = caps.get('swift', {}).get('max_file_size', 0) min_segment_size = caps.get('slo', {}).get('min_segment_size', 0) if segment_size > server_max_file_size: return server_max_file_size if segment_size < min_segment_size: return min_segment_size return segment_size def is_object_stale( self, container, name, filename, file_md5=None, file_sha256=None): metadata = self.get_object_metadata(container, name) if not metadata: self.log.debug( ""swift stale check, no object: {container}/{name}"".format( container=container, name=name)) return True if not (file_md5 or file_sha256): (file_md5, file_sha256) = self._get_file_hashes(filename) md5_key = metadata.get(OBJECT_MD5_KEY, '') sha256_key = metadata.get(OBJECT_SHA256_KEY, '') up_to_date = self._hashes_up_to_date( md5=file_md5, sha256=file_sha256, md5_key=md5_key, sha256_key=sha256_key) if not up_to_date: self.log.debug( ""swift checksum mismatch: "" "" %(filename)s!=%(container)s/%(name)s"", {'filename': filename, 'container': container, 'name': name}) return True self.log.debug( ""swift object up to date: %(container)s/%(name)s"", {'container': container, 'name': name}) return False if not metadata: metadata = {} if not filename: filename = name # segment_size gets used as a step value in a range call, so needs # to be an int if segment_size: segment_size = int(segment_size) segment_size = self.get_object_segment_size(segment_size) file_size = os.path.getsize(filename) if not (md5 or sha256): (md5, sha256) = self._get_file_hashes(filename) headers[OBJECT_MD5_KEY] = md5 or '' headers[OBJECT_SHA256_KEY] = sha256 or '' for (k, v) in metadata.items(): headers['x-object-meta-' + k] = v if self.is_object_stale(container, name, filename, md5, sha256): endpoint = '{container}/{name}'.format( container=container, name=name) self.log.debug( ""swift uploading %(filename)s to %(endpoint)s"", {'filename': filename, 'endpoint': endpoint}) if file_size <= segment_size: self._upload_object(endpoint, filename, headers) else: self._upload_large_object( endpoint, filename, headers, file_size, segment_size, use_slo) def _upload_object(self, endpoint, filename, headers): return self._object_store_client.put( endpoint, headers=headers, data=open(filename, 'r')) def _get_file_segments(self, endpoint, filename, file_size, segment_size): # Use an ordered dict here so that testing can replicate things segments = collections.OrderedDict() for (index, offset) in enumerate(range(0, file_size, segment_size)): remaining = file_size - (index * segment_size) segment = _utils.FileSegment( filename, offset, segment_size if segment_size < remaining else remaining) name = '{endpoint}/{index:0>6}'.format( endpoint=endpoint, index=index) segments[name] = segment return segments def _object_name_from_url(self, url): '''Get container_name/object_name from the full URL called. Remove the Swift endpoint from the front of the URL, and remove the leaving / that will leave behind.''' endpoint = self._object_store_client.get_endpoint() object_name = url.replace(endpoint, '') if object_name.startswith('/'): object_name = object_name[1:] return object_name def _add_etag_to_manifest(self, segment_results, manifest): for result in segment_results: if 'Etag' not in result.headers: continue name = self._object_name_from_url(result.url) for entry in manifest: if entry['path'] == '/{name}'.format(name=name): entry['etag'] = result.headers['Etag'] def _upload_large_object( self, endpoint, filename, headers, file_size, segment_size, use_slo): # If the object is big, we need to break it up into segments that # are no larger than segment_size, upload each of them individually # and then upload a manifest object. The segments can be uploaded in # parallel, so we'll use the async feature of the TaskManager. segment_futures = [] segment_results = [] retry_results = [] retry_futures = [] manifest = [] # Get an OrderedDict with keys being the swift location for the # segment, the value a FileSegment file-like object that is a # slice of the data for the segment. segments = self._get_file_segments( endpoint, filename, file_size, segment_size) # Schedule the segments for upload for name, segment in segments.items(): # Async call to put - schedules execution and returns a future segment_future = self._object_store_client.put( name, headers=headers, data=segment, run_async=True) segment_futures.append(segment_future) # TODO(mordred) Collect etags from results to add to this manifest # dict. Then sort the list of dicts by path. manifest.append(dict( path='/{name}'.format(name=name), size_bytes=segment.length)) # Try once and collect failed results to retry segment_results, retry_results = task_manager.wait_for_futures( segment_futures, raise_on_error=False) self._add_etag_to_manifest(segment_results, manifest) for result in retry_results: # Grab the FileSegment for the failed upload so we can retry name = self._object_name_from_url(result.url) segment = segments[name] segment.seek(0) # Async call to put - schedules execution and returns a future segment_future = self._object_store_client.put( name, headers=headers, data=segment, run_async=True) # TODO(mordred) Collect etags from results to add to this manifest # dict. Then sort the list of dicts by path. retry_futures.append(segment_future) # If any segments fail the second time, just throw the error segment_results, retry_results = task_manager.wait_for_futures( retry_futures, raise_on_error=True) self._add_etag_to_manifest(segment_results, manifest) if use_slo: return self._finish_large_object_slo(endpoint, headers, manifest) else: return self._finish_large_object_dlo(endpoint, headers) def _finish_large_object_slo(self, endpoint, headers, manifest): # TODO(mordred) send an etag of the manifest, which is the md5sum # of the concatenation of the etags of the results headers = headers.copy() return self._object_store_client.put( endpoint, params={'multipart-manifest': 'put'}, headers=headers, data=json.dumps(manifest)) def _finish_large_object_dlo(self, endpoint, headers): headers = headers.copy() headers['X-Object-Manifest'] = endpoint return self._object_store_client.put(endpoint, headers=headers) def update_object(self, container, name, metadata=None, **headers): """"""Update the metadata of an object :param container: The name of the container the object is in :param name: Name for the object within the container. :param metadata: This dict will get changed into headers that set metadata of the object :param headers: These will be passed through to the object update API as HTTP Headers. :raises: ``OpenStackCloudException`` on operation error. """""" if not metadata: metadata = {} metadata_headers = {} for (k, v) in metadata.items(): metadata_headers['x-object-meta-' + k] = v headers = dict(headers, **metadata_headers) return self._object_store_client.post( '{container}/{object}'.format( container=container, object=name), headers=headers) def list_objects(self, container, full_listing=True): """"""List objects. :param container: Name of the container to list objects in. :param full_listing: Ignored. Present for backwards compat :returns: list of Munch of the objects :raises: OpenStackCloudException on operation error. """""" return self._object_store_client.get( container, params=dict(format='json')) def delete_object(self, container, name, meta=None): """"""Delete an object from a container. :param string container: Name of the container holding the object. :param string name: Name of the object to delete. :param dict meta: Metadata for the object in question. (optional, will be fetched if not provided) :returns: True if delete succeeded, False if the object was not found. :raises: OpenStackCloudException on operation error. """""" # TODO(mordred) DELETE for swift returns status in text/plain format # like so: # Number Deleted: 15 # Number Not Found: 0 # Response Body: # Response Status: 200 OK # Errors: # We should ultimately do something with that try: if not meta: meta = self.get_object_metadata(container, name) if not meta: return False params = {} if meta.get('X-Static-Large-Object', None) == 'True': params['multipart-manifest'] = 'delete' self._object_store_client.delete( '{container}/{object}'.format( container=container, object=name), params=params) return True except exc.OpenStackCloudHTTPError: return False def delete_autocreated_image_objects( self, container=OBJECT_AUTOCREATE_CONTAINER): """"""Delete all objects autocreated for image uploads. This method should generally not be needed, as shade should clean up the objects it uses for object-based image creation. If something goes wrong and it is found that there are leaked objects, this method can be used to delete any objects that shade has created on the user's behalf in service of image uploads. """""" # This method only makes sense on clouds that use tasks if not self.image_api_use_tasks: return False deleted = False for obj in self.list_objects(container): meta = self.get_object_metadata(container, obj['name']) if meta.get(OBJECT_AUTOCREATE_KEY) == 'true': if self.delete_object(container, obj['name'], meta): deleted = True return deleted def get_object_metadata(self, container, name): try: return self._object_store_client.head( '{container}/{object}'.format( container=container, object=name)).headers except exc.OpenStackCloudException as e: if e.response.status_code == 404: return None raise def get_object(self, container, obj, query_string=None, resp_chunk_size=1024, outfile=None): """"""Get the headers and body of an object :param string container: name of the container. :param string obj: name of the object. :param string query_string: query args for uri. (delimiter, prefix, etc.) :param int resp_chunk_size: chunk size of data to read. Only used if the results are being written to a file. (optional, defaults to 1k) :param outfile: Write the object to a file instead of returning the contents. If this option is given, body in the return tuple will be None. outfile can either be a file path given as a string, or a File like object. :returns: Tuple (headers, body) of the object, or None if the object is not found (404) :raises: OpenStackCloudException on operation error. """""" # TODO(mordred) implement resp_chunk_size try: endpoint = '{container}/{object}'.format( container=container, object=obj) if query_string: endpoint = '{endpoint}?{query_string}'.format( endpoint=endpoint, query_string=query_string) response = self._object_store_client.get( endpoint, stream=True) response_headers = { k.lower(): v for k, v in response.headers.items()} if outfile: if isinstance(outfile, six.string_types): outfile_handle = open(outfile, 'wb') else: outfile_handle = outfile for chunk in response.iter_content( resp_chunk_size, decode_unicode=False): outfile_handle.write(chunk) if isinstance(outfile, six.string_types): outfile_handle.close() else: outfile_handle.flush() return (response_headers, None) else: return (response_headers, response.text) except exc.OpenStackCloudHTTPError as e: if e.response.status_code == 404: return None raise",38,487
openstack%2Fshade~master~I3a425b90bf0219484ccc6c8e60e3219b8483e984,openstack/shade,master,I3a425b90bf0219484ccc6c8e60e3219b8483e984,Add support for listing compute usage,ABANDONED,2017-01-12 14:41:39.000000000,2018-10-17 14:54:03.000000000,,"[{'_account_id': 3099}, {'_account_id': 7350}]","[{'number': 1, 'created': '2017-01-12 14:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/b888e719150c0189f2c3cc3db17fe197af3f3e91', 'message': 'Add support for listing compute usage\n\nAlso, flesh out the normalization more.\n\nChange-Id: I3a425b90bf0219484ccc6c8e60e3219b8483e984\n'}, {'number': 2, 'created': '2017-01-12 15:19:59.000000000', 'files': ['shade/tests/unit/test_usage.py', 'doc/source/model.rst', 'shade/operatorcloud.py', 'releasenotes/notes/get-usage-72d249ff790d1b8f.yaml', 'shade/tests/functional/test_usage.py', 'shade/_tasks.py', 'shade/_normalize.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/3e266bd7da991d2d16cba025e34cf1c20ad02d03', 'message': 'Add support for listing compute usage\n\nAlso, flesh out the normalization more.\n\nChange-Id: I3a425b90bf0219484ccc6c8e60e3219b8483e984\n'}]",1,419493,3e266bd7da991d2d16cba025e34cf1c20ad02d03,7,2,2,2,,,0,"Add support for listing compute usage

Also, flesh out the normalization more.

Change-Id: I3a425b90bf0219484ccc6c8e60e3219b8483e984
",git fetch https://review.opendev.org/openstack/shade refs/changes/93/419493/1 && git format-patch -1 --stdout FETCH_HEAD,"['shade/tests/unit/test_usage.py', 'doc/source/model.rst', 'shade/operatorcloud.py', 'releasenotes/notes/get-usage-72d249ff790d1b8f.yaml', 'shade/tests/functional/test_usage.py', 'shade/_tasks.py', 'shade/_normalize.py']",7,b888e719150c0189f2c3cc3db17fe197af3f3e91,393873," def _normalize_server_usages(self, usages): """"""Normalize the structure of server usages :param list projects: A list of usages to normalize :returns: A list of normalized dicts. """""" ret = [] for usage in usages: ret.append(self._normalize_server_usage(usage)) return ret def _normalize_server_usage(self, usage): """""" Normalize a server usage object """""" usage = usage.copy() ret = munch.Munch(location=self._get_current_location()) ret['ended_at'] = usage.pop('ended_at') ret['flavor'] = usage.pop('flavor') ret['hours'] = usage.pop('hours') ret['instance_id'] = usage.pop('instance_id') ret['local_gb'] = usage.pop('local_gb') ret['memory_gb'] = usage.pop('memory_gb') ret['name'] = usage.pop('name') ret['project_id'] = usage.pop('tenant_id') ret['started_at'] = usage.pop('started_at') ret['status'] = usage.pop('state') ret['uptime'] = usage.pop('uptime') ret['vcpus'] = usage.pop('vcpus') ret['properties'] = usage.copy() return munch.Munch(usage) def _normalize_compute_usages(self, usages): """"""Normalize the structure of compute usages :param list projects: A list of usages to normalize :returns: A list of normalized dicts. """""" ret = [] for usage in usages: ret.append(self._normalize_compute_usage(usage)) return ret def _normalize_compute_usage(self, usage): """""" Normalize a compute usage object """""" usage = usage.copy() ret = munch.Munch(location=self._get_current_location()) # Discard noise usage.pop('links', None) usage.pop('NAME_ATTR', None) usage.pop('HUMAN_ID', None) usage.pop('human_id', None) usage.pop('request_ids', None) ret['start'] = usage.pop('start') ret['stop'] = usage.pop('stop') ret['project_id'] = usage.pop('tenant_id') ret['total_hours'] = usage.pop('total_hours') ret['total_local_gb_usage'] = usage.pop('total_local_gb_usage') ret['total_memory_gb_usage'] = usage.pop('total_memory_gb_usage') ret['total_vcpus_usage'] = usage.pop('total_vcpus_usage') ret['server_usages'] = self._normalize_server_usages( usage.pop('server_usages', [])) ret['properties'] = usage.copy() "," def _normalize_usage(self, usage): """""" Normalize a usage object """"""",172,18
openstack%2Fshade~master~I10d9418f7209fd6a40ff14964e8ade59128bb3ec,openstack/shade,master,I10d9418f7209fd6a40ff14964e8ade59128bb3ec,Add test for os_project Ansible module,ABANDONED,2016-10-10 17:11:48.000000000,2018-10-17 14:54:03.000000000,,"[{'_account_id': 5545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-10-10 17:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/6d2237778f8a8ceac33e315c65bfa36ece0a5757', 'message': 'Add test for os_project Ansible module\n\nChange-Id: I10d9418f7209fd6a40ff14964e8ade59128bb3ec\n'}, {'number': 2, 'created': '2016-10-11 17:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/2c4ec14beb30d2908ca619a40fa7cc82114d55cf', 'message': 'Add test for os_project Ansible module\n\nChange-Id: I10d9418f7209fd6a40ff14964e8ade59128bb3ec\n'}, {'number': 3, 'created': '2016-10-11 19:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/dc47f0563f3ad165959d487d95157176f27a73b2', 'message': 'Add test for os_project Ansible module\n\nChange-Id: I10d9418f7209fd6a40ff14964e8ade59128bb3ec\n'}, {'number': 4, 'created': '2017-12-19 17:39:12.000000000', 'files': ['shade/tests/ansible/roles/project/vars/main.yml', 'shade/tests/ansible/roles/project/tasks/main.yml', 'shade/tests/ansible/run.yml'], 'web_link': 'https://opendev.org/openstack/shade/commit/5ea9723c6ec2c2f66b64a85abf4dc748d03f24fc', 'message': 'Add test for os_project Ansible module\n\nChange-Id: I10d9418f7209fd6a40ff14964e8ade59128bb3ec\n'}]",0,384634,5ea9723c6ec2c2f66b64a85abf4dc748d03f24fc,12,2,4,5545,,,0,"Add test for os_project Ansible module

Change-Id: I10d9418f7209fd6a40ff14964e8ade59128bb3ec
",git fetch https://review.opendev.org/openstack/shade refs/changes/34/384634/4 && git format-patch -1 --stdout FETCH_HEAD,"['shade/tests/ansible/roles/project/vars/main.yml', 'shade/tests/ansible/roles/project/tasks/main.yml', 'shade/tests/ansible/run.yml']",3,6d2237778f8a8ceac33e315c65bfa36ece0a5757,project_test," - { role: project, tags: project }",,23,0
openstack%2Fshade~stable%2Fqueens~Id6bea37ba716b0ad1f0a170cfd304585590ead61,openstack/shade,stable/queens,Id6bea37ba716b0ad1f0a170cfd304585590ead61,Abort waiting for image on 404,ABANDONED,2018-03-27 14:03:40.000000000,2018-10-17 14:54:02.000000000,,"[{'_account_id': 16068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-27 14:03:40.000000000', 'files': ['shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/bdf1c7d3ae9ea0af7a74e454921f437cdc1b4ec5', 'message': ""Abort waiting for image on 404\n\nWhen polling for an image status, we currently mask all errors found.\nThis is done to protect against transient API service errors impacting a\nlong-lived status poll.\n\nA 404, however, is a bit different. If we've gotten the image id\nalready, that means the image exists on the cloud and we shouldn't get\n404s. Bubble 404's up so that the waiting aborts.\n\nThis changes wait_for_image to use get_image_by_id rather than the\nlist/filter get_image. That should be ok for images, as unlikle servers\nit's unlikely that someone is trying to create 1000 at a time.\n\nChange-Id: Id6bea37ba716b0ad1f0a170cfd304585590ead61\n""}]",0,556865,bdf1c7d3ae9ea0af7a74e454921f437cdc1b4ec5,4,2,1,2,,,0,"Abort waiting for image on 404

When polling for an image status, we currently mask all errors found.
This is done to protect against transient API service errors impacting a
long-lived status poll.

A 404, however, is a bit different. If we've gotten the image id
already, that means the image exists on the cloud and we shouldn't get
404s. Bubble 404's up so that the waiting aborts.

This changes wait_for_image to use get_image_by_id rather than the
list/filter get_image. That should be ok for images, as unlikle servers
it's unlikely that someone is trying to create 1000 at a time.

Change-Id: Id6bea37ba716b0ad1f0a170cfd304585590ead61
",git fetch https://review.opendev.org/openstack/shade refs/changes/65/556865/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/openstackcloud.py'],1,bdf1c7d3ae9ea0af7a74e454921f437cdc1b4ec5,, try: image = self.get_image_by_id(image_id) except OpenStackCloudURINotFound: raise except OpenStackCloudException:, image = self.get_image(image_id) if not image:,5,2
openstack%2Fshade~master~I9babe25740cae6baeae14b9457e661a707edc745,openstack/shade,master,I9babe25740cae6baeae14b9457e661a707edc745,[WIP/RFC] add progress callback to image upload,ABANDONED,2017-06-15 02:34:14.000000000,2018-10-17 14:54:02.000000000,,[{'_account_id': 7118}],"[{'number': 1, 'created': '2017-06-15 02:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/4b57c0feebf83cc254d7558b09b71036a734d219', 'message': ""[WIP/RFC] add progress callback to image upload\n\nThis is just something to test the idea of a callback that gives some\nprogress updates as an image uploads.  we wrap the file-object that is\nused in the PUT case ... dealing with tasks and volumes (maybe this\njust doesn't apply for them...)\n\nI am not 100% sure the read()'s are chunked in a way that makes this\nuseful\n\nChange-Id: I9babe25740cae6baeae14b9457e661a707edc745\n""}, {'number': 2, 'created': '2017-06-15 03:56:10.000000000', 'files': ['shade/_utils.py', 'shade/tests/unit/test_image.py', 'shade/tests/functional/test_image.py', 'shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/11a674f1857787c2cf573edee55a92c5773e29f8', 'message': ""[WIP/RFC] add progress callback to image upload\n\nThis is just something to test the idea of a callback that gives some\nprogress updates as an image uploads.  we wrap the file-object that is\nused in the PUT case ... dealing with tasks and volumes (maybe this\njust doesn't apply for them...)\n\nI am not 100% sure the read()'s are chunked in a way that makes this\nuseful\n\nChange-Id: I9babe25740cae6baeae14b9457e661a707edc745\n""}]",0,474425,11a674f1857787c2cf573edee55a92c5773e29f8,7,1,2,7118,,,0,"[WIP/RFC] add progress callback to image upload

This is just something to test the idea of a callback that gives some
progress updates as an image uploads.  we wrap the file-object that is
used in the PUT case ... dealing with tasks and volumes (maybe this
just doesn't apply for them...)

I am not 100% sure the read()'s are chunked in a way that makes this
useful

Change-Id: I9babe25740cae6baeae14b9457e661a707edc745
",git fetch https://review.opendev.org/openstack/shade refs/changes/25/474425/2 && git format-patch -1 --stdout FETCH_HEAD,"['shade/_utils.py', 'shade/tests/unit/test_image.py', 'shade/tests/functional/test_image.py', 'shade/openstackcloud.py']",4,4b57c0feebf83cc254d7558b09b71036a734d219,callback-read," allow_duplicates=False, meta=None, volume=None, callback=None, **kwargs): :param callback: Function to callback as data is read from file. Pass bytes read (? what to pass back) callback=callback, self, name, filename, meta, wait, timeout, callback, **image_kwargs): image_data = _utils.FileProgress(filename, 'rb', callback)"," allow_duplicates=False, meta=None, volume=None, **kwargs): self, name, filename, meta, wait, timeout, **image_kwargs): image_data = open(filename, 'rb')",43,5
openstack%2Fshade~master~I103f60be4e57ea1a51f60feb668ef78f441ca3fa,openstack/shade,master,I103f60be4e57ea1a51f60feb668ef78f441ca3fa,Fix _get_entity to accept a dict,ABANDONED,2018-04-13 00:15:24.000000000,2018-10-17 14:54:01.000000000,,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-13 00:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/06deaa5d550a58b613347857d4799b2a9520848e', 'message': ""Fix _get_entity to accept a dict\n\nThe check that allows someone do to:\n\n  delete_image(dict(id='some-id'))\n\nwithout shade doing an image list and filter - only works if the user\ndoes\n\n  delete_image(munch.Munch(id='some-id'))\n\nwhich is not pleasing. Update the check to also check for a dict instead\nof just object attribute.\n\nThis updates two tests which\n\nChange-Id: I103f60be4e57ea1a51f60feb668ef78f441ca3fa\n""}, {'number': 2, 'created': '2018-04-13 00:26:29.000000000', 'files': ['shade/_utils.py', 'shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/ea08f06f4858fac9abfbc9158884f7140d7bd528', 'message': ""Fix _get_entity to accept a dict\n\nThe check that allows someone do to:\n\n  delete_image(dict(id='some-id'))\n\nwithout shade doing an image list and filter - only works if the user\ndoes\n\n  delete_image(munch.Munch(id='some-id'))\n\nwhich is not pleasing. Update the check to also check for a dict instead\nof just object attribute.\n\nThis updates two tests which\n\nChange-Id: I103f60be4e57ea1a51f60feb668ef78f441ca3fa\n""}]",3,561078,ea08f06f4858fac9abfbc9158884f7140d7bd528,6,2,2,2,,,0,"Fix _get_entity to accept a dict

The check that allows someone do to:

  delete_image(dict(id='some-id'))

without shade doing an image list and filter - only works if the user
does

  delete_image(munch.Munch(id='some-id'))

which is not pleasing. Update the check to also check for a dict instead
of just object attribute.

This updates two tests which

Change-Id: I103f60be4e57ea1a51f60feb668ef78f441ca3fa
",git fetch https://review.opendev.org/openstack/shade refs/changes/78/561078/2 && git format-patch -1 --stdout FETCH_HEAD,['shade/_utils.py'],1,06deaa5d550a58b613347857d4799b2a9520848e,," elif isinstance(name_or_id, dict) and 'id' in name_or_id: return munch.Munch(name_or_id)",,2,1
openstack%2Fshade~master~I2872316caeeb3414a2c6db5df90641f877f73fa6,openstack/shade,master,I2872316caeeb3414a2c6db5df90641f877f73fa6,Support server links attribute,ABANDONED,2018-04-02 18:13:29.000000000,2018-10-17 14:54:01.000000000,,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-02 18:13:29.000000000', 'files': ['shade/_normalize.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/bc2919b6774e42590ebe06ec306f154662a9c0c0', 'message': 'Support server links attribute\n\nShade now supports the server links attribute returned by\nGET /servers/$id. This is useful in cases like needing to configure dns\nin some clouds via the instances self link attribute.\n\nNote we always set the links value to empty list if there are no links\nto make this more easily consumed across all the clouds.\n\nChange-Id: I2872316caeeb3414a2c6db5df90641f877f73fa6\n'}]",2,558247,bc2919b6774e42590ebe06ec306f154662a9c0c0,4,2,1,4146,,,0,"Support server links attribute

Shade now supports the server links attribute returned by
GET /servers/$id. This is useful in cases like needing to configure dns
in some clouds via the instances self link attribute.

Note we always set the links value to empty list if there are no links
to make this more easily consumed across all the clouds.

Change-Id: I2872316caeeb3414a2c6db5df90641f877f73fa6
",git fetch https://review.opendev.org/openstack/shade refs/changes/47/558247/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/_normalize.py'],1,bc2919b6774e42590ebe06ec306f154662a9c0c0,support-server-links," ret['links'] = server.pop('links', [])",,1,0
openstack%2Fshade~master~Ide5cd2f82e5721e9da35746b032ed6245a6b49f5,openstack/shade,master,Ide5cd2f82e5721e9da35746b032ed6245a6b49f5,Add more server actions,ABANDONED,2017-04-02 20:56:48.000000000,2018-10-17 14:54:00.000000000,,[],"[{'number': 1, 'created': '2017-04-02 20:56:48.000000000', 'files': ['shade/operatorcloud.py', 'shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/97fdbea420f25899224f4f83f9e32711bfe2a609', 'message': 'Add more server actions\n\nChange-Id: Ide5cd2f82e5721e9da35746b032ed6245a6b49f5\n'}]",0,452567,97fdbea420f25899224f4f83f9e32711bfe2a609,5,0,1,2,,,0,"Add more server actions

Change-Id: Ide5cd2f82e5721e9da35746b032ed6245a6b49f5
",git fetch https://review.opendev.org/openstack/shade refs/changes/67/452567/1 && git format-patch -1 --stdout FETCH_HEAD,"['shade/operatorcloud.py', 'shade/openstackcloud.py']",2,97fdbea420f25899224f4f83f9e32711bfe2a609,," ret = self._server_action( server=server, action='os-getConsoleOutput', length=length) if not ret: return ret def _wait_for_server_status(self, server_id, status, timeout): timeout_message = ""Timeout waiting for the server to reach {status}"" # There is no point in iterating faster than the list_servers cache for count in _utils._iterate_timeout( timeout, timeout_message.format(status=status), # if _SERVER_AGE is 0 we still want to wait a bit # to be friendly with the server. wait=self._SERVER_AGE or 2): try: # Use the get_server call so that the list_servers # cache can be leveraged server = self.get_server(server_id, bare=True) except Exception: continue if not server['status'] == status: continue return server def stop_server(self, server, wait=False, timeout=180): """"""Stop a server. :param server: The server to stop. Can be either a server dict or the Name or ID of the server. :param wait: If true, waits for server to be stopped. :param timeout: Seconds to wait. None is forever. :returns: Nothing :raises: OpenStackCloudException if something unforseen happens """""" return self._server_action( server=server, action='os-stop', status='SHUTOFF', wait=wait, timeout=timeout) def start_server(self, server, wait=False, timeout=180): """"""Start a server. :param server: The server to start. Can be either a server dict or the Name or ID of the server. :param wait: If true, waits for server to be started. :param timeout: Seconds to wait. None is forever. :returns: Nothing :raises: OpenStackCloudException if something unforseen happens """""" return self._server_action( server=server, action='os-start', status='ACTIVE', wait=wait, timeout=timeout) def reboot_server( self, server, hard=False, wait=False, timeout=180): """"""Reboot a server. :param server: The server to reboot. Can be either a server dict or the Name or ID of the server. :param hard: Whether to do a hard reboot. Defaults to False. :param wait: If true, waits for server to be rebooted. :param timeout: Seconds to wait. None is forever. :returns: Nothing :raises: OpenStackCloudException if something unforseen happens """""" kwargs = {'type': hard and 'HARD' or 'SOFT'} return self._server_action( server=server, action='reboot', status='ACTIVE', wait=wait, timeout=timeout, **kwargs) def resize_server(self, server, flavor, wait=False, timeout=180): """"""Resize a server. :param server: The server to resize. Can be either a server dict or the Name or ID of the server. :param flavor: The new flavor to use. Can be either a flavor dict or the Name or ID of the flavor. :param wait: If true, waits for server to be rebooted. :param timeout: Seconds to wait. None is forever. :returns: Nothing :raises: OpenStackCloudException if something unforseen happens """""" if not isinstance(flavor, dict): flavor_obj = self.get_flavor(server, get_extra=False) if not flavor_obj: raise OpenStackCloudException( ""Flavor {flavor} not found"".format(flavor=flavor)) flavor_id = flavor_obj['id'] return self._server_action( server=server, action='reboot', status='ACTIVE', start_statuses=('ACTIVE', 'SHUTOFF'), wait=wait, timeout=timeout, flavorRef=flavor_id) def change_server_password( self, server, password, wait=False, timeout=180): """"""Change the admin password of a server. :param server: The server to change. Can be either a server dict or the Name or ID of the server. :param password: The new password. :param wait: If true, waits for server to be ACTIVE. (Pretty much unused, but present for convenience.) :param timeout: Seconds to wait. None is forever. :returns: Nothing :raises: OpenStackCloudException if something unforseen happens """""" return self._server_action( server=server, action='changePassword', adminPass=password) def _server_action( self, server, action, status=None, start_statuses=None, wait=False, timeout=180, **kwargs): if not isinstance(server, dict): server_obj = self.get_server(server, bare=True) else: server_obj = server if not server_obj: raise OpenStackCloudException( ""Server {server} not found"".format(server=server)) server_id = server_obj['id'] if start_statuses: if server_obj['status'] not in start_statuses: raise OpenStackCloudException( ""Server {server} in status {status} but action"" "" {action} requires the server to be in one of"" "" {start_statuses}"".format( server=server_obj['id'], status=server_obj['status'], action=action, start_statuses="","".join(start_statuses))) try: result = self._compute_client.post( '/servers/{server}/action'.format(server=server_id), json={action: kwargs or None}) except OpenStackCloudBadRequest: result = None if not wait: return result return self._wait_for_server_status( server_id=server_id, status=status, timeout=timeout) "," if not isinstance(server, dict): server = self.get_server(server, bare=True) if not server: raise OpenStackCloudException( ""Console log requested for invalid server"") try: return self._compute_client.post( '/servers/{server}/action'.format(server=server['id']), json={'os-getConsoleOutput': {'length': length}}) except OpenStackCloudBadRequest:",239,12
openstack%2Fshade~master~Id37f4d53e086ba644b476b1b24ab6af4892113ca,openstack/shade,master,Id37f4d53e086ba644b476b1b24ab6af4892113ca,Do not install test-requirements for ansible test,ABANDONED,2017-03-28 14:05:34.000000000,2018-10-17 14:54:00.000000000,,"[{'_account_id': 2}, {'_account_id': 3099}, {'_account_id': 13252}]","[{'number': 1, 'created': '2017-03-28 14:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/f1c4e6eadf239b65609e73e388679d59e8f3734d', 'message': ""Do not install test-requirements for ansible test\n\nWe recently missed a missing requirement due to the requirement being in\nour test-requirements.txt file. We don't need the extra things in there\nfor the ansible tests, so skip them. This should give us at least one\nplace where we're testing exactly what we ship.\n\nChange-Id: Id37f4d53e086ba644b476b1b24ab6af4892113ca\n""}, {'number': 2, 'created': '2017-03-30 15:35:10.000000000', 'files': ['extras/run-ansible-tests.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/shade/commit/b155175b6fb12df91f461aee97bf6d0848c22ed6', 'message': ""Do not install test-requirements for ansible test\n\nWe recently missed a missing requirement due to the requirement being in\nour test-requirements.txt file. We don't need the extra things in there\nfor the ansible tests, so skip them. This should give us at least one\nplace where we're testing exactly what we ship.\n\nWe also need to actually install ansible's dependencies.\n\nChange-Id: Id37f4d53e086ba644b476b1b24ab6af4892113ca\n""}]",0,450803,b155175b6fb12df91f461aee97bf6d0848c22ed6,17,3,2,2,,,0,"Do not install test-requirements for ansible test

We recently missed a missing requirement due to the requirement being in
our test-requirements.txt file. We don't need the extra things in there
for the ansible tests, so skip them. This should give us at least one
place where we're testing exactly what we ship.

We also need to actually install ansible's dependencies.

Change-Id: Id37f4d53e086ba644b476b1b24ab6af4892113ca
",git fetch https://review.opendev.org/openstack/shade refs/changes/03/450803/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f1c4e6eadf239b65609e73e388679d59e8f3734d,450803,deps = -r{toxinidir}/requirements.txt,,1,0
openstack%2Fshade~master~I4a7004733c6a2b6ec689bb48dad9684e36da394d,openstack/shade,master,I4a7004733c6a2b6ec689bb48dad9684e36da394d,Adds kwargs support when creating a Neutron subnet,ABANDONED,2018-04-20 14:05:37.000000000,2018-10-17 14:53:59.000000000,,"[{'_account_id': 2}, {'_account_id': 19115}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-20 14:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/f8717cfcb5fb9f4f7653c5a7cfdea66b1eeecc60', 'message': ""Adds kwargs support when creating a Neutron subnet\n\nThis change removes the parameter limitation exposed via shade\nfor Neutron subnet creation. This way, any key value passed via\n`create_subnet` method is included in Neutron's API call.\n\nChange-Id: I4a7004733c6a2b6ec689bb48dad9684e36da394d\n""}, {'number': 2, 'created': '2018-04-20 15:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/74259394074271bd4aa4055483716c309f6730ad', 'message': ""Adds kwargs support when creating a Neutron subnet\n\nThis change removes the parameter limitation exposed via shade\nfor Neutron subnet creation. This way, any key value passed via\n`create_subnet` method is included in Neutron's API call.\n\nChange-Id: I4a7004733c6a2b6ec689bb48dad9684e36da394d\nSigned-off-by: Mrio Santos <mario.rf.santos@gmail.com>\n""}, {'number': 3, 'created': '2018-04-23 14:26:00.000000000', 'files': ['shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/345ac7e1ce50dbf64dab6489e5fce9ed0316a77f', 'message': ""Adds kwargs support when creating a Neutron subnet\n\nThis change removes the parameter limitation exposed via shade\nfor Neutron subnet creation. This way, any key value passed via\n`create_subnet` method is included in Neutron's API call.\n\nChange-Id: I4a7004733c6a2b6ec689bb48dad9684e36da394d\nSigned-off-by: Mrio Santos <mario.rf.santos@gmail.com>\n""}]",0,563134,345ac7e1ce50dbf64dab6489e5fce9ed0316a77f,17,3,3,19115,,,0,"Adds kwargs support when creating a Neutron subnet

This change removes the parameter limitation exposed via shade
for Neutron subnet creation. This way, any key value passed via
`create_subnet` method is included in Neutron's API call.

Change-Id: I4a7004733c6a2b6ec689bb48dad9684e36da394d
Signed-off-by: Mrio Santos <mario.rf.santos@gmail.com>
",git fetch https://review.opendev.org/openstack/shade refs/changes/34/563134/2 && git format-patch -1 --stdout FETCH_HEAD,['shade/openstackcloud.py'],1,f8717cfcb5fb9f4f7653c5a7cfdea66b1eeecc60,add_neutron_kwargs," use_default_subnetpool=False, **kwargs): :param kwargs: Keyword arguments as expected for neutron api.", use_default_subnetpool=False):,2,1
openstack%2Fshade~master~I18adff14258b4ffe9ff23ad07fb0d0975f5e1954,openstack/shade,master,I18adff14258b4ffe9ff23ad07fb0d0975f5e1954,Additional domain support for grant/revoke role,ABANDONED,2016-10-18 09:47:01.000000000,2018-10-17 14:53:59.000000000,,"[{'_account_id': 2}, {'_account_id': 170}, {'_account_id': 3099}, {'_account_id': 6488}, {'_account_id': 7350}, {'_account_id': 11361}, {'_account_id': 23200}]","[{'number': 1, 'created': '2016-10-18 09:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/58ab57e0d6f459fd5a475c7c0d275acc8b8f1ada', 'message': 'Additional domain support for grant/revoke role\n\nThis code adds user, group, project and role domain support for grant\nand revoke role. This is needed when cross domain role assignments are\nused.\n\nChange-Id: I18adff14258b4ffe9ff23ad07fb0d0975f5e1954\n'}, {'number': 2, 'created': '2016-10-18 13:03:53.000000000', 'files': ['shade/operatorcloud.py', 'shade/tests/unit/test_role_assignment.py', 'shade/tests/fakes.py', 'shade/_tasks.py', 'shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/f9983361eb8b3dfcad926b0c6084bfe5dbc7d49b', 'message': 'Additional domain support for grant/revoke role\n\nThis code adds user, group, project and role domain support for grant\nand revoke role. This is needed when cross domain role assignments are\nused.\n\nDepends-On: I59e9834d249ccda0beeb715a8d6271140fb144f4\nChange-Id: I18adff14258b4ffe9ff23ad07fb0d0975f5e1954\n'}]",2,387892,f9983361eb8b3dfcad926b0c6084bfe5dbc7d49b,19,7,2,11361,,,0,"Additional domain support for grant/revoke role

This code adds user, group, project and role domain support for grant
and revoke role. This is needed when cross domain role assignments are
used.

Depends-On: I59e9834d249ccda0beeb715a8d6271140fb144f4
Change-Id: I18adff14258b4ffe9ff23ad07fb0d0975f5e1954
",git fetch https://review.opendev.org/openstack/shade refs/changes/92/387892/2 && git format-patch -1 --stdout FETCH_HEAD,"['shade/operatorcloud.py', 'shade/tests/unit/test_role_assignment.py', 'shade/tests/fakes.py', 'shade/_tasks.py', 'shade/openstackcloud.py']",5,58ab57e0d6f459fd5a475c7c0d275acc8b8f1ada,," def list_users(self, domain_id=None): params = {} if self.cloud_config.get_api_version('identity') == '3': params['domain'] = domain_id users = self.manager.submit_task(_tasks.UserList(**params)) def search_users(self, name_or_id=None, filters=None, domain_id=None): users = self.list_users(domain_id=domain_id) def get_user(self, name_or_id, filters=None, domain_id=None): return _utils._get_entity(self.search_users, name_or_id, filters, domain_id=domain_id)"," def list_users(self): users = self.manager.submit_task(_tasks.UserList()) def search_users(self, name_or_id=None, filters=None): users = self.list_users() def get_user(self, name_or_id, filters=None): return _utils._get_entity(self.search_users, name_or_id, filters)",376,37
openstack%2Fshade~master~I9e273f390fdcaa06553268741407dbe704f3ce69,openstack/shade,master,I9e273f390fdcaa06553268741407dbe704f3ce69,"Add a description field for port_create, port_update",ABANDONED,2018-05-04 16:19:59.000000000,2018-10-17 14:53:58.000000000,,"[{'_account_id': 2}, {'_account_id': 3099}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-04 16:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/5ed55127970fe9b56d06cac971ba850e5a6eb249', 'message': ""Add a description field for port_create, port_update\n\n'description' is a valid field for a port, accept it.\n\nChange-Id: I9e273f390fdcaa06553268741407dbe704f3ce69\n""}, {'number': 2, 'created': '2018-06-12 16:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/42aff215914829f7caffd021b89dce919684fc99', 'message': ""Add a description field for port_create, port_update\n\n'description' is a valid field for a port, accept it.\n\nChange-Id: I9e273f390fdcaa06553268741407dbe704f3ce69\n""}, {'number': 3, 'created': '2018-06-12 16:48:00.000000000', 'files': ['shade/tests/unit/test_port.py', 'releasenotes/notes/port-description-28683e354dc292f9.yaml', 'shade/tests/ansible/roles/port/tasks/main.yml', 'shade/tests/functional/test_port.py', 'shade/tests/ansible/roles/port/vars/main.yml', 'shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/725781d07486202315275e2a3c0b522a632adfb8', 'message': ""Add a description field for port_create, port_update\n\n'description' is a valid field for a port, accept it.\n\nChange-Id: I9e273f390fdcaa06553268741407dbe704f3ce69\n""}]",2,566359,725781d07486202315275e2a3c0b522a632adfb8,10,4,3,9061,,,0,"Add a description field for port_create, port_update

'description' is a valid field for a port, accept it.

Change-Id: I9e273f390fdcaa06553268741407dbe704f3ce69
",git fetch https://review.opendev.org/openstack/shade refs/changes/59/566359/3 && git format-patch -1 --stdout FETCH_HEAD,['shade/openstackcloud.py'],1,5ed55127970fe9b56d06cac971ba850e5a6eb249,," @_utils.valid_kwargs('name', 'description', 'admin_state_up', 'mac_address', 'fixed_ips', 'subnet_id', 'ip_address', 'security_groups', 'allowed_address_pairs', 'extra_dhcp_opts', 'device_owner', 'device_id') :param description: A symbolic description for the port. (Optional) @_utils.valid_kwargs('name', 'description', 'admin_state_up', 'fixed_ips', :param description: A symbolic description for the port. (Optional)"," @_utils.valid_kwargs('name', 'admin_state_up', 'mac_address', 'fixed_ips', 'subnet_id', 'ip_address', 'security_groups', 'allowed_address_pairs', 'extra_dhcp_opts', 'device_owner', 'device_id') @_utils.valid_kwargs('name', 'admin_state_up', 'fixed_ips',",7,5
openstack%2Fshade~master~Ia4a2b73ae538b9672b0fda8e3cdb94e3cb510444,openstack/shade,master,Ia4a2b73ae538b9672b0fda8e3cdb94e3cb510444,Apply caching to network resources,ABANDONED,2017-04-21 21:22:55.000000000,2018-10-17 14:53:58.000000000,,[{'_account_id': 11975}],"[{'number': 1, 'created': '2017-04-21 21:22:55.000000000', 'files': ['shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/cab8e9a08d25f02ab329d60c373414594c96f7eb', 'message': ""Apply caching to network resources\n\nWe list networks and subnets and routers a bunch, but they don't\nchange nearly as much. Add them to resources we cache. Also, keypairs.\n\nChange-Id: Ia4a2b73ae538b9672b0fda8e3cdb94e3cb510444\n""}]",0,458979,cab8e9a08d25f02ab329d60c373414594c96f7eb,5,1,1,2,,,0,"Apply caching to network resources

We list networks and subnets and routers a bunch, but they don't
change nearly as much. Add them to resources we cache. Also, keypairs.

Change-Id: Ia4a2b73ae538b9672b0fda8e3cdb94e3cb510444
",git fetch https://review.opendev.org/openstack/shade refs/changes/79/458979/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/openstackcloud.py'],1,cab8e9a08d25f02ab329d60c373414594c96f7eb,, @_utils.cache_on_arguments() @_utils.cache_on_arguments() @_utils.cache_on_arguments() @_utils.cache_on_arguments() self.list_networks.invalidate() self.list_subnets.invalidate() self.list_routers.invalidate() retval = self.manager.submit_task(_tasks.KeypairCreate( self.list_keypairs.invalidate() return retval self.list_keypairs.invalidate() retval = self.manager.submit_task( self._reset_network_caches() return retval retval = self.manager.submit_task( self._reset_network_caches() return retval self._reset_network_caches() self._reset_network_caches() self._reset_network_caches() self._reset_network_caches() self._reset_network_caches() self._reset_network_caches(), return self.manager.submit_task(_tasks.KeypairCreate( return self.manager.submit_task( return self.manager.submit_task(,23,3
openstack%2Fshade~master~I55628f83c2dbf849a3f2b5dbc199d556d15e39f6,openstack/shade,master,I55628f83c2dbf849a3f2b5dbc199d556d15e39f6,"Relegate ""pool"" to history",ABANDONED,2017-05-16 11:43:56.000000000,2018-10-17 14:53:57.000000000,,[],"[{'number': 1, 'created': '2017-05-16 11:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/0589f22d12e94344415b6cc653ec4514b9f90fcc', 'message': 'Relegate ""pool"" to history\n\nnova-network used a term ""pool"" to discuss where floating ips came from.\nIn neutron, they come from networks... but shade is old enough that the\nword ""pool"" shows up in places it doesn\'t need to.\n\nChange the word unconditionally in private methods.\n\nFor public methods with ""pool"" in the argument list, add a ""network""\nargument and make pool a backwards compat argument in the docs.\n\nChange-Id: I55628f83c2dbf849a3f2b5dbc199d556d15e39f6\n'}, {'number': 2, 'created': '2017-05-20 12:40:31.000000000', 'files': ['shade/tests/unit/test_floating_ip_common.py', 'shade/tests/ansible/roles/server/tasks/main.yml', 'shade/openstackcloud.py', 'shade/tests/unit/test_floating_ip_nova.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/b9e110a32e0b148b0989a1d04c43382bec644868', 'message': 'Relegate ""pool"" to history\n\nnova-network used a term ""pool"" to discuss where floating ips came from.\nIn neutron, they come from networks... but shade is old enough that the\nword ""pool"" shows up in places it doesn\'t need to.\n\nChange the word unconditionally in private methods.\n\nFor public methods with ""pool"" in the argument list, add a ""network""\nargument and make pool a backwards compat argument in the docs.\n\nChange-Id: I55628f83c2dbf849a3f2b5dbc199d556d15e39f6\n'}]",0,465048,b9e110a32e0b148b0989a1d04c43382bec644868,6,0,2,2,,,0,"Relegate ""pool"" to history

nova-network used a term ""pool"" to discuss where floating ips came from.
In neutron, they come from networks... but shade is old enough that the
word ""pool"" shows up in places it doesn't need to.

Change the word unconditionally in private methods.

For public methods with ""pool"" in the argument list, add a ""network""
argument and make pool a backwards compat argument in the docs.

Change-Id: I55628f83c2dbf849a3f2b5dbc199d556d15e39f6
",git fetch https://review.opendev.org/openstack/shade refs/changes/48/465048/2 && git format-patch -1 --stdout FETCH_HEAD,"['shade/tests/unit/test_floating_ip_common.py', 'shade/tests/ansible/roles/server/tasks/main.yml', 'shade/openstackcloud.py', 'shade/tests/unit/test_floating_ip_nova.py']",4,0589f22d12e94344415b6cc653ec4514b9f90fcc,restification, def test_add_ip_from_network(self): server = self.cloud._add_ip_from_network(, def test_add_ip_from_pool(self): server = self.cloud._add_ip_from_pool(,30,19
openstack%2Fshade~master~I4a89edc6a04d89f5c1670334f2a781d0cbc54e0b,openstack/shade,master,I4a89edc6a04d89f5c1670334f2a781d0cbc54e0b,DNM - Example of literalinclude,ABANDONED,2017-05-08 13:56:59.000000000,2018-10-17 14:53:57.000000000,,[],"[{'number': 1, 'created': '2017-05-08 13:56:59.000000000', 'files': ['doc/source/multi-cloud-demo.rst'], 'web_link': 'https://opendev.org/openstack/shade/commit/23ab996181cd61e6fbd082f4defa01ba4f744d56', 'message': 'DNM - Example of literalinclude\n\nChange-Id: I4a89edc6a04d89f5c1670334f2a781d0cbc54e0b\n'}]",0,463332,23ab996181cd61e6fbd082f4defa01ba4f744d56,4,0,1,2,,,0,"DNM - Example of literalinclude

Change-Id: I4a89edc6a04d89f5c1670334f2a781d0cbc54e0b
",git fetch https://review.opendev.org/openstack/shade refs/changes/32/463332/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/multi-cloud-demo.rst'],1,23ab996181cd61e6fbd082f4defa01ba4f744d56,,.. literalinclude:: examples/http-debug-logging.py :language: python,"* doc/source/examples/http-debug-logging.py .. code:: python import shade shade.simple_logging(http_debug=True) cloud = shade.openstack_cloud( cloud='my-vexxhost', region_name='ca-ymq-1') cloud.get_image('Ubuntu 16.04.1 LTS [2017-03-03]')",2,10
openstack%2Fshade~master~Ie888080a405ea932ed98566eed551cdc9f823659,openstack/shade,master,Ie888080a405ea932ed98566eed551cdc9f823659,DNM: Debug logging to figure out fip delete failure,ABANDONED,2017-04-06 11:17:25.000000000,2018-10-17 14:53:57.000000000,,[],"[{'number': 1, 'created': '2017-04-06 11:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/5cbb8c0a082df130c48b4cb9ecea2c15124d4137', 'message': 'DNM: Debug logging to figure out fip delete failure\n\nChange-Id: Ie888080a405ea932ed98566eed551cdc9f823659\n'}, {'number': 2, 'created': '2017-04-06 11:20:10.000000000', 'files': ['shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/9e554e9ba41da6c0b48a7abdcd0fb3849d45c7a6', 'message': 'DNM: Debug logging to figure out fip delete failure\n\nChange-Id: Ie888080a405ea932ed98566eed551cdc9f823659\n'}]",0,454104,9e554e9ba41da6c0b48a7abdcd0fb3849d45c7a6,6,0,2,2,,,0,"DNM: Debug logging to figure out fip delete failure

Change-Id: Ie888080a405ea932ed98566eed551cdc9f823659
",git fetch https://review.opendev.org/openstack/shade refs/changes/04/454104/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/openstackcloud.py'],1,5cbb8c0a082df130c48b4cb9ecea2c15124d4137,452566," self.log.debug(""Trying to delete {0} try {1}"".format( floating_ip_id, count)) self.log.debug(""Got {0}"".format(result)) self.log.debug( ""In _neutron_delete_floating_ip {0}"".format(floating_ip_id)) self.log.debug( ""After _tasks.NeutronFloatingIPDelete {0}"".format( floating_ip_id)) except OpenStackCloudResourceNotFound: self.log.debug(""OpenStackCloudResourceNotFound"") self.log.debug(""Exception {0}"".format(str(e))) self.log.debug( ""Returning True from _neutron_delete_floating_ip {0}"".format( floating_ip_id))", except OpenStackCloudResourceNotFound:,13,0
openstack%2Fshade~master~Id6bea37ba716b0ad1f0a170cfd304585590ead61,openstack/shade,master,Id6bea37ba716b0ad1f0a170cfd304585590ead61,Abort waiting for image on 404,ABANDONED,2018-04-13 00:18:00.000000000,2018-10-17 14:53:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-04-13 00:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/15f7bb62a08bdfe9f6200cb7a2172d4eaf83eaae', 'message': ""Abort waiting for image on 404\n\nWhen polling for an image status, we currently mask all errors found.\nThis is done to protect against transient API service errors impacting a\nlong-lived status poll.\n\nA 404, however, is a bit different. If we've gotten the image id\nalready, that means the image exists on the cloud and we shouldn't get\n404s. Bubble 404's up so that the waiting aborts.\n\nThis changes wait_for_image to use get_image_by_id rather than the\nlist/filter get_image. That should be ok for images, as unlikle servers\nit's unlikely that someone is trying to create 1000 at a time.\n\nChange-Id: Id6bea37ba716b0ad1f0a170cfd304585590ead61\n""}, {'number': 2, 'created': '2018-04-13 00:32:08.000000000', 'files': ['shade/tests/unit/test_image_snapshot.py', 'shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/b4416466b685fcf6a12e02e49ababc5826a110d0', 'message': ""Abort waiting for image on 404\n\nWhen polling for an image status, we currently mask all errors found.\nThis is done to protect against transient API service errors impacting a\nlong-lived status poll.\n\nA 404, however, is a bit different. If we've gotten the image id\nalready, that means the image exists on the cloud and we shouldn't get\n404s. Bubble 404's up so that the waiting aborts.\n\nThis changes wait_for_image to use get_image_by_id rather than the\nlist/filter get_image. That should be ok for images, as unlikle servers\nit's unlikely that someone is trying to create 1000 at a time.\n\nChange-Id: Id6bea37ba716b0ad1f0a170cfd304585590ead61\n""}]",0,561080,b4416466b685fcf6a12e02e49ababc5826a110d0,4,1,2,2,,,0,"Abort waiting for image on 404

When polling for an image status, we currently mask all errors found.
This is done to protect against transient API service errors impacting a
long-lived status poll.

A 404, however, is a bit different. If we've gotten the image id
already, that means the image exists on the cloud and we shouldn't get
404s. Bubble 404's up so that the waiting aborts.

This changes wait_for_image to use get_image_by_id rather than the
list/filter get_image. That should be ok for images, as unlikle servers
it's unlikely that someone is trying to create 1000 at a time.

Change-Id: Id6bea37ba716b0ad1f0a170cfd304585590ead61
",git fetch https://review.opendev.org/openstack/shade refs/changes/80/561080/2 && git format-patch -1 --stdout FETCH_HEAD,"['shade/tests/unit/test_image_snapshot.py', 'shade/openstackcloud.py']",2,15f7bb62a08bdfe9f6200cb7a2172d4eaf83eaae,, try: image = self.get_image_by_id(image_id) except OpenStackCloudURINotFound: raise except OpenStackCloudException:, image = self.get_image(image_id) if not image:,18,4
openstack%2Fshade~master~I74f2d38c48618236c8b4ecf874d7b72a43a53a35,openstack/shade,master,I74f2d38c48618236c8b4ecf874d7b72a43a53a35,Add functional test to show floating ip reuse,ABANDONED,2016-12-12 15:47:21.000000000,2018-10-17 14:53:56.000000000,,"[{'_account_id': 2903}, {'_account_id': 3099}]","[{'number': 1, 'created': '2016-12-12 15:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/31c751138b80814a09bb2664091f3406ddbdf601', 'message': 'Add functional test to show floating ip reuse\n\nAlso updated the auto_ips test to explicitly not re-use. In both tests,\nensure that the assert conditions work on both floating ip and\nnon-floating ip clouds, as both are viable devstack configs.\n\nChange-Id: I74f2d38c48618236c8b4ecf874d7b72a43a53a35\n'}, {'number': 2, 'created': '2016-12-12 15:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/77d8fdadbbe2d0be72be7071e6633a91c4c462f8', 'message': 'Add functional test to show floating ip reuse\n\nAlso updated the auto_ips test to explicitly not re-use. In both tests,\nensure that the assert conditions work on both floating ip and\nnon-floating ip clouds, as both are viable devstack configs.\n\nChange-Id: I74f2d38c48618236c8b4ecf874d7b72a43a53a35\n'}, {'number': 3, 'created': '2016-12-12 16:14:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/f7aad1eb1bb2820f87e8701037b7ac93724cef2a', 'message': 'Add functional test to show floating ip reuse\n\nAlso updated the auto_ips test to explicitly not re-use. In both tests,\nensure that the assert conditions work on both floating ip and\nnon-floating ip clouds, as both are viable devstack configs.\n\nChange-Id: I74f2d38c48618236c8b4ecf874d7b72a43a53a35\n'}, {'number': 4, 'created': '2016-12-12 17:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/a3b04bc69edc725e93b5e1c34f36eee0578868bd', 'message': 'Add functional test to show floating ip reuse\n\nAlso updated the auto_ips test to explicitly not re-use. In both tests,\nensure that the assert conditions work on both floating ip and\nnon-floating ip clouds, as both are viable devstack configs.\n\nChange-Id: I74f2d38c48618236c8b4ecf874d7b72a43a53a35\n'}, {'number': 5, 'created': '2016-12-12 18:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/b81ae3958de549d79016fcf6069bf3c09d44a1ba', 'message': 'Add functional test to show floating ip reuse\n\nAlso updated the auto_ips test to explicitly not re-use. In both tests,\nensure that the assert conditions work on both floating ip and\nnon-floating ip clouds, as both are viable devstack configs.\n\nChange-Id: I74f2d38c48618236c8b4ecf874d7b72a43a53a35\n'}, {'number': 6, 'created': '2016-12-12 19:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/0b6fcefb31d17ca270db99d14e6b637b2ca91d18', 'message': 'Add functional test to show floating ip reuse\n\nAlso updated the auto_ips test to explicitly not re-use. In both tests,\nensure that the assert conditions work on both floating ip and\nnon-floating ip clouds, as both are viable devstack configs.\n\nChange-Id: I74f2d38c48618236c8b4ecf874d7b72a43a53a35\n'}, {'number': 7, 'created': '2016-12-12 20:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/7f6baa699b6c3a0750ff4bd96c675c509fc80555', 'message': 'Add functional test to show floating ip reuse\n\nAlso updated the auto_ips test to explicitly not re-use. In both tests,\nensure that the assert conditions work on both floating ip and\nnon-floating ip clouds, as both are viable devstack configs.\n\nChange-Id: I74f2d38c48618236c8b4ecf874d7b72a43a53a35\n'}, {'number': 8, 'created': '2016-12-19 21:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/fcd7a395d23694fb997faa8d5787741682035c99', 'message': 'Add functional test to show floating ip reuse\n\nAlso updated the auto_ips test to explicitly not re-use. In both tests,\nensure that the assert conditions work on both floating ip and\nnon-floating ip clouds, as both are viable devstack configs.\n\nChange-Id: I74f2d38c48618236c8b4ecf874d7b72a43a53a35\n'}, {'number': 9, 'created': '2016-12-19 22:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/dd648bdb6a32a9afec656d15b11c7b0abe82a43c', 'message': 'Add functional test to show floating ip reuse\n\nAlso updated the auto_ips test to explicitly not re-use. In both tests,\nensure that the assert conditions work on both floating ip and\nnon-floating ip clouds, as both are viable devstack configs.\n\nChange-Id: I74f2d38c48618236c8b4ecf874d7b72a43a53a35\n'}, {'number': 10, 'created': '2016-12-20 15:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/0da0a83d069ae18c9b3bb70dba39b04111dee3ce', 'message': 'Add functional test to show floating ip reuse\n\nAlso updated the auto_ips test to explicitly not re-use. In both tests,\nensure that the assert conditions work on both floating ip and\nnon-floating ip clouds, as both are viable devstack configs.\n\nChange-Id: I74f2d38c48618236c8b4ecf874d7b72a43a53a35\n'}, {'number': 11, 'created': '2016-12-20 15:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/8e814b7901d327c3bf339701b26988cc65521fae', 'message': 'Add functional test to show floating ip reuse\n\nAlso updated the auto_ips test to explicitly not re-use. In both tests,\nensure that the assert conditions work on both floating ip and\nnon-floating ip clouds, as both are viable devstack configs.\n\nChange-Id: I74f2d38c48618236c8b4ecf874d7b72a43a53a35\n'}, {'number': 12, 'created': '2016-12-20 18:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/1ec92329c3585596b6f358c953a6259825b7b008', 'message': 'Add functional test to show floating ip reuse\n\nAlso updated the auto_ips test to explicitly not re-use. In both tests,\nensure that the assert conditions work on both floating ip and\nnon-floating ip clouds, as both are viable devstack configs.\n\nChange-Id: I74f2d38c48618236c8b4ecf874d7b72a43a53a35\n'}, {'number': 13, 'created': '2016-12-20 19:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/a8f91698cae8f1ff2f12e5db70eb0fc9a48473be', 'message': 'Add functional test to show floating ip reuse\n\nAlso updated the auto_ips test to explicitly not re-use. In both tests,\nensure that the assert conditions work on both floating ip and\nnon-floating ip clouds, as both are viable devstack configs.\n\nChange-Id: I74f2d38c48618236c8b4ecf874d7b72a43a53a35\n'}, {'number': 14, 'created': '2016-12-20 20:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/e3d82c61c9ff78f06f1b7d472cfd72b71352b4ca', 'message': 'Add functional test to show floating ip reuse\n\nAlso updated the auto_ips test to explicitly not re-use. In both tests,\nensure that the assert conditions work on both floating ip and\nnon-floating ip clouds, as both are viable devstack configs.\n\nChange-Id: I74f2d38c48618236c8b4ecf874d7b72a43a53a35\n'}, {'number': 15, 'created': '2016-12-21 19:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/fad4755b7684d125a019be7ea17a364db1bfd260', 'message': 'Add functional test to show floating ip reuse\n\nAlso updated the auto_ips test to explicitly not re-use. In both tests,\nensure that the assert conditions work on both floating ip and\nnon-floating ip clouds, as both are viable devstack configs.\n\nChange-Id: I74f2d38c48618236c8b4ecf874d7b72a43a53a35\n'}, {'number': 16, 'created': '2016-12-21 19:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/24cb66b86b9eee2deaf90f89fd2d2e11251d6352', 'message': 'Add functional test to show floating ip reuse\n\nAlso updated the auto_ips test to explicitly not re-use. In both tests,\nensure that the assert conditions work on both floating ip and\nnon-floating ip clouds, as both are viable devstack configs.\n\nChange-Id: I74f2d38c48618236c8b4ecf874d7b72a43a53a35\n'}, {'number': 17, 'created': '2016-12-21 22:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/dd49dd59c3c1e6d3a7d210a52399e28fa1986a6b', 'message': 'Add functional test to show floating ip reuse\n\nAlso updated the auto_ips test to explicitly not re-use. In both tests,\nensure that the assert conditions work on both floating ip and\nnon-floating ip clouds, as both are viable devstack configs.\n\nChange-Id: I74f2d38c48618236c8b4ecf874d7b72a43a53a35\n'}, {'number': 18, 'created': '2016-12-21 23:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/1edd2f32032a2bf44ebbcd24c2d074999a8cdd39', 'message': 'Add functional test to show floating ip reuse\n\nAlso updated the auto_ips test to explicitly not re-use. In both tests,\nensure that the assert conditions work on both floating ip and\nnon-floating ip clouds, as both are viable devstack configs.\n\nChange-Id: I74f2d38c48618236c8b4ecf874d7b72a43a53a35\n'}, {'number': 19, 'created': '2016-12-22 00:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/3b1f0d8427216d18c7a6111f2feecb8c0561e279', 'message': 'Add functional test to show floating ip reuse\n\nAlso updated the auto_ips test to explicitly not re-use. In both tests,\nensure that the assert conditions work on both floating ip and\nnon-floating ip clouds, as both are viable devstack configs.\n\nChange-Id: I74f2d38c48618236c8b4ecf874d7b72a43a53a35\n'}, {'number': 20, 'created': '2016-12-22 02:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/bf522569f95a1c8f5b9e3148e570500856c2f5ae', 'message': 'Add functional test to show floating ip reuse\n\nAlso updated the auto_ips test to explicitly not re-use. In both tests,\nensure that the assert conditions work on both floating ip and\nnon-floating ip clouds, as both are viable devstack configs.\n\nChange-Id: I74f2d38c48618236c8b4ecf874d7b72a43a53a35\n'}, {'number': 21, 'created': '2017-01-03 22:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/645d5d317b43da4b7d0ea60be1e1f36fa978d726', 'message': 'Add functional test to show floating ip reuse\n\nAlso updated the auto_ips test to explicitly not re-use. In both tests,\nensure that the assert conditions work on both floating ip and\nnon-floating ip clouds, as both are viable devstack configs.\n\nChange-Id: I74f2d38c48618236c8b4ecf874d7b72a43a53a35\n'}, {'number': 22, 'created': '2017-01-04 00:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/0227aaaf8bc1f62fe5b1fc185d85dd49701467fd', 'message': 'Add functional test to show floating ip reuse\n\nAlso updated the auto_ips test to explicitly not re-use. In both tests,\nensure that the assert conditions work on both floating ip and\nnon-floating ip clouds, as both are viable devstack configs.\n\nChange-Id: I74f2d38c48618236c8b4ecf874d7b72a43a53a35\n'}, {'number': 23, 'created': '2017-01-04 18:41:50.000000000', 'files': ['shade/tests/functional/test_floating_ip.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/907955356c8ba310f3802b3622f6f1df14a85b29', 'message': 'Add functional test to show floating ip reuse\n\nAlso updated the auto_ips test to explicitly not re-use. In both tests,\nensure that the assert conditions work on both floating ip and\nnon-floating ip clouds, as both are viable devstack configs.\n\nChange-Id: I74f2d38c48618236c8b4ecf874d7b72a43a53a35\n'}]",1,409842,907955356c8ba310f3802b3622f6f1df14a85b29,46,2,23,2,,,0,"Add functional test to show floating ip reuse

Also updated the auto_ips test to explicitly not re-use. In both tests,
ensure that the assert conditions work on both floating ip and
non-floating ip clouds, as both are viable devstack configs.

Change-Id: I74f2d38c48618236c8b4ecf874d7b72a43a53a35
",git fetch https://review.opendev.org/openstack/shade refs/changes/42/409842/17 && git format-patch -1 --stdout FETCH_HEAD,['shade/tests/functional/test_floating_ip.py'],1,31c751138b80814a09bb2664091f3406ddbdf601,scoped_auth," self.assertEqual(0, len(self.list_floating_ips())) image=self.image, reuse_ips=False, self.assertNotEqual('', new_server['interface_ip']) fips = self.list_floating_ips() if len(fips) != 0: # This cloud requires floating ips self.assertEqual(1, len(fips)) fip = self.get_floating_ip(filters={ 'fixed_ip_address': new_server['private_v4']}) self.assertEqual( fip['floating_ip_address'], new_server['interface_ip']) self.addCleanup(self._cleanup_ips, new_server) def test_reuse_auto_ip(self): self._setup_networks() try: fip = self.demo_cloud.create_floating_ip() self.addCleanup(self.demo_cloud.delete_floating_ip, fip.id) except Exception: pass self.assertLessEqual(1, len(self.list_floating_ips())) new_server = self.demo_cloud.create_server( wait=True, name=self.new_item_name + '_server', image=self.image, reuse_ips=True, flavor=self.flavor, nics=[self.nic]) fips = self.list_floating_ips() self.assertLessEqual(1, len(fips)) if len(fips) == 1: # We have floating ips in this cloud self.assertEqual( fip['floating_ip_address'], new_server['interface_ip'])"," image=self.image, # ToDo: remove the following iteration when create_server waits for # the IP to be attached ip = None for _ in _utils._iterate_timeout( self.timeout, ""Timeout waiting for IP address to be attached""): ip = meta.get_server_external_ipv4(self.demo_cloud, new_server) if ip is not None: break new_server = self.demo_cloud.get_server(new_server.id)",35,10
openstack%2Fshade~master~Ic6edef2e5ce4f06cf534eb2df2f3d158748fe41f,openstack/shade,master,Ic6edef2e5ce4f06cf534eb2df2f3d158748fe41f,Don't throw errors when deleting nonexistant images,ABANDONED,2018-04-13 00:32:08.000000000,2018-10-17 14:53:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-04-13 00:32:08.000000000', 'files': ['shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/8f366e67eb3c9c8535559f5bba044bb30b17665c', 'message': ""Don't throw errors when deleting nonexistant images\n\ndelete calls should not fail if the image is not there. They should be\nsuccessful, because the image is not, in fact, there, which is what the\nuser wants to happen.\n\nChange-Id: Ic6edef2e5ce4f06cf534eb2df2f3d158748fe41f\n""}]",0,561081,8f366e67eb3c9c8535559f5bba044bb30b17665c,3,1,1,2,,,0,"Don't throw errors when deleting nonexistant images

delete calls should not fail if the image is not there. They should be
successful, because the image is not, in fact, there, which is what the
user wants to happen.

Change-Id: Ic6edef2e5ce4f06cf534eb2df2f3d158748fe41f
",git fetch https://review.opendev.org/openstack/shade refs/changes/81/561081/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/openstackcloud.py'],1,8f366e67eb3c9c8535559f5bba044bb30b17665c,," try: self._image_client.delete( '/images/{id}'.format(id=image.id), error_message=""Error in deleting image"") except OpenStackCloudURINotFound: self.log.debug( ""Tried to delete image {id} which does not exist"".format( id=image.id)) pass"," self._image_client.delete( '/images/{id}'.format(id=image.id), error_message=""Error in deleting image"")",9,3
openstack%2Fshade~master~I190c30e9077baef0bbe736c00dbcd20657f65064,openstack/shade,master,I190c30e9077baef0bbe736c00dbcd20657f65064,Add Neutron RBAC Policy support,ABANDONED,2017-01-13 17:18:45.000000000,2018-10-17 14:53:55.000000000,,[],"[{'number': 1, 'created': '2017-01-13 17:18:45.000000000', 'files': ['releasenotes/notes/add-neutron-rbac-policy-management-cd177c469bffb93c.yaml', 'doc/source/model.rst', 'shade/_utils.py', 'shade/operatorcloud.py', 'shade/tests/unit/test_network_rbac_policy.py', 'shade/_tasks.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/e9870c9a144269d316c8e63d3ab078249c065ac1', 'message': 'Add Neutron RBAC Policy support\n\nChange-Id: I190c30e9077baef0bbe736c00dbcd20657f65064\n'}]",0,420082,e9870c9a144269d316c8e63d3ab078249c065ac1,5,0,1,24647,,,0,"Add Neutron RBAC Policy support

Change-Id: I190c30e9077baef0bbe736c00dbcd20657f65064
",git fetch https://review.opendev.org/openstack/shade refs/changes/82/420082/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-neutron-rbac-policy-management-cd177c469bffb93c.yaml', 'doc/source/model.rst', 'shade/_utils.py', 'shade/operatorcloud.py', 'shade/tests/unit/test_network_rbac_policy.py', 'shade/_tasks.py']",6,e9870c9a144269d316c8e63d3ab078249c065ac1,neutron_rbac_policy,"class NeutronRbacPolicyList(task_manager.Task): def main(self, client): return client.neutron_client.list_rbac_policies(**self.args) class NeutronRbacPolicyCreate(task_manager.Task): def main(self, client): return client.neutron_client.create_rbac_policy(**self.args) class NeutronRbacPolicyDelete(task_manager.Task): def main(self, client): return client.neutron_client.delete_rbac_policy(**self.args) ",,285,0
openstack%2Fshade~master~Ib5286382099211411f4fa915d105b250d848cb9a,openstack/shade,master,Ib5286382099211411f4fa915d105b250d848cb9a,Add project_id parameter to list_volumes,ABANDONED,2017-07-17 17:06:31.000000000,2018-10-17 14:53:54.000000000,,[{'_account_id': 11975}],"[{'number': 1, 'created': '2017-07-17 17:06:31.000000000', 'files': ['shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/06937230dc7e5feb71a2c485d2854f9ee08abd83', 'message': 'Add project_id parameter to list_volumes\n\nPeople need to be able to list volumes in other projects.\n\nChange-Id: Ib5286382099211411f4fa915d105b250d848cb9a\n'}]",1,484430,06937230dc7e5feb71a2c485d2854f9ee08abd83,5,1,1,2,,,0,"Add project_id parameter to list_volumes

People need to be able to list volumes in other projects.

Change-Id: Ib5286382099211411f4fa915d105b250d848cb9a
",git fetch https://review.opendev.org/openstack/shade refs/changes/30/484430/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/openstackcloud.py'],1,06937230dc7e5feb71a2c485d2854f9ee08abd83,," def search_volumes(self, name_or_id=None, filters=None, project_id=None): volumes = self.list_volumes(project_id=project_id) def list_volumes(self, cache=True, project_id=None): :param str project_id: project_id of a project to list volumes in. volume_endpoint = '/volumes/detail' if project_id: volume_endpoint = volume_endpoint + '?project_id={id}'.format( id=project_id) data = self._volume_client.get(volume_endpoint)"," def search_volumes(self, name_or_id=None, filters=None): volumes = self.list_volumes() def list_volumes(self, cache=True): data = self._volume_client.get('/volumes/detail')",9,4
openstack%2Fshade~master~Ib2f77ddeb92cecb6c85f13916c98e51845c0b540,openstack/shade,master,Ib2f77ddeb92cecb6c85f13916c98e51845c0b540,Do pagination test in its own project,ABANDONED,2017-06-14 13:28:20.000000000,2018-10-17 14:53:54.000000000,,[{'_account_id': 2}],"[{'number': 1, 'created': '2017-06-14 13:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/aaaf13a4d4bc683c96ebf165788fcdd5b3d5f689', 'message': 'Do pagination test in its own project\n\nChange-Id: Ib2f77ddeb92cecb6c85f13916c98e51845c0b540\n'}, {'number': 2, 'created': '2017-06-14 14:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/af5c68a488f47951ff7b521e503fe2d44944dfb4', 'message': 'Do pagination test in its own project\n\nChange-Id: Ib2f77ddeb92cecb6c85f13916c98e51845c0b540\n'}, {'number': 3, 'created': '2017-06-14 19:45:08.000000000', 'files': ['shade/tests/functional/test_volume.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/13d517847daa2d28bed8480809bf60a425509e0f', 'message': 'Do pagination test in its own project\n\nChange-Id: Ib2f77ddeb92cecb6c85f13916c98e51845c0b540\n'}]",0,474200,13d517847daa2d28bed8480809bf60a425509e0f,14,1,3,2,,,0,"Do pagination test in its own project

Change-Id: Ib2f77ddeb92cecb6c85f13916c98e51845c0b540
",git fetch https://review.opendev.org/openstack/shade refs/changes/00/474200/3 && git format-patch -1 --stdout FETCH_HEAD,['shade/tests/functional/test_volume.py'],1,aaaf13a4d4bc683c96ebf165788fcdd5b3d5f689,volume-gate-issues,"import shade def cleanup( self, volume_name, snapshot_name=None, image_name=None, cloud=None): if not cloud: cloud = self.user_cloud wait = True else: wait = False snapshot = cloud.get_volume_snapshot(snapshot_name) if snapshot: cloud.delete_volume_snapshot( image = cloud.get_image(image_name) if image: cloud.delete_image(image_name, wait=True) volume = cloud.get_volume(volume_name) if volume: cloud.delete_volume(volume_name, wait=wait) def _create_test_project_cloud(self): domain_id = self.operator_cloud.current_project['domain_id'] project = self.operator_cloud.create_project( domain_id=domain_id, name=self.getUniqueString('project')) user_id = self.user_cloud.keystone_session.get_user_id() self.operator_cloud.grant_role( 'Member', user=user_id, project=project['id'], wait=True) config = self.config.get_one_cloud( cloud=self._demo_name, auth=dict(project_id=project['id'])) return shade.OpenStackCloud( cloud_config=config, log_inner_exceptions=True) if self.identity_version in ('2', '2.0'): self.skipTest(""Pagination requires its own project"") vol_cloud = self._create_test_project_cloud() self.addCleanup(self.cleanup, name, cloud=vol_cloud) v = vol_cloud.create_volume(display_name=name, size=1) for i in vol_cloud.list_volumes():"," def cleanup(self, volume_name, snapshot_name=None, image_name=None): snapshot = self.user_cloud.get_volume_snapshot(snapshot_name) if snapshot: self.user_cloud.delete_volume_snapshot( image = self.user_cloud.get_image(image_name) if image: self.user_cloud.delete_image(image_name, wait=True) volume = self.user_cloud.get_volume(volume_name) if volume: self.user_cloud.delete_volume(volume_name, wait=True) self.addCleanup(self.cleanup, name) v = self.user_cloud.create_volume(display_name=name, size=1) for i in self.user_cloud.list_volumes():",35,10
openstack%2Fshade~master~Ic9881c317ec40966ae0b82975fe4e8f0fd41045d,openstack/shade,master,Ic9881c317ec40966ae0b82975fe4e8f0fd41045d,"Revert ""Revert per-resource dogpile.cache work""",ABANDONED,2016-09-06 13:48:45.000000000,2018-10-17 14:53:53.000000000,,[{'_account_id': 6488}],"[{'number': 1, 'created': '2016-09-06 13:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/5b9ddc1e8b46b9d13fd1519bdb8225de3f74d53c', 'message': 'Revert ""Revert per-resource dogpile.cache work""\n\nThis reverts commit 3f226d151181fd476ee719cf2bc523f7c1fd7420.\n\nChange-Id: Ic9881c317ec40966ae0b82975fe4e8f0fd41045d\n'}, {'number': 2, 'created': '2016-09-30 18:58:38.000000000', 'files': ['shade/tests/unit/test_meta.py', 'shade/tests/unit/test_floating_ip_neutron.py', 'shade/_utils.py', 'shade/openstackcloud.py', 'shade/tests/unit/test_create_server.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/069280a960b83cb659b286c17b63fd3b2376cc42', 'message': 'Revert ""Revert per-resource dogpile.cache work""\n\nThis reverts commit 3f226d151181fd476ee719cf2bc523f7c1fd7420.\n\nWe reverted this originally because when we ran it in nodepool it seemed\nthat some things were caching incorrectly. Morgan has a follow up patch\nthat should help us with incorrect negative caching, but we\'ll need to\nanalyze what is missing in our testing to get this to be happy landing.\n\nNote - this is not a pure revert - it has been updated to deal with the\nunderlying changes made since.\n\nChange-Id: Ic9881c317ec40966ae0b82975fe4e8f0fd41045d\n'}]",1,366143,069280a960b83cb659b286c17b63fd3b2376cc42,9,1,2,2,,,0,"Revert ""Revert per-resource dogpile.cache work""

This reverts commit 3f226d151181fd476ee719cf2bc523f7c1fd7420.

We reverted this originally because when we ran it in nodepool it seemed
that some things were caching incorrectly. Morgan has a follow up patch
that should help us with incorrect negative caching, but we'll need to
analyze what is missing in our testing to get this to be happy landing.

Note - this is not a pure revert - it has been updated to deal with the
underlying changes made since.

Change-Id: Ic9881c317ec40966ae0b82975fe4e8f0fd41045d
",git fetch https://review.opendev.org/openstack/shade refs/changes/43/366143/2 && git format-patch -1 --stdout FETCH_HEAD,"['shade/tests/unit/test_meta.py', 'shade/tests/unit/test_floating_ip_neutron.py', 'shade/_utils.py', 'shade/openstackcloud.py', 'shade/tests/unit/test_create_server.py']",5,5b9ddc1e8b46b9d13fd1519bdb8225de3f74d53c,dogpile-cache,, self.cloud._SERVER_AGE = 0,91,136
openstack%2Fkolla~stable%2Fqueens~I9676f3d806f132259520176e0e7ed39b8737215b,openstack/kolla,stable/queens,I9676f3d806f132259520176e0e7ed39b8737215b,Update monasca-persister tag to include bugfix,MERGED,2018-10-09 12:58:58.000000000,2018-10-17 14:47:05.000000000,2018-10-17 14:47:05.000000000,"[{'_account_id': 167}, {'_account_id': 17669}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-10-09 12:58:58.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f9915e06484fb7b8a13ead7dc476cc3531b62595', 'message': 'Update monasca-persister tag to include bugfix\n\nDepends-On: https://review.openstack.org/608937\nChange-Id: I9676f3d806f132259520176e0e7ed39b8737215b\n'}]",0,608941,f9915e06484fb7b8a13ead7dc476cc3531b62595,12,5,1,17669,,,0,"Update monasca-persister tag to include bugfix

Depends-On: https://review.openstack.org/608937
Change-Id: I9676f3d806f132259520176e0e7ed39b8737215b
",git fetch https://review.opendev.org/openstack/kolla refs/changes/41/608941/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,f9915e06484fb7b8a13ead7dc476cc3531b62595,," 'monasca-persister-1.10.1.tar.gz')},"," 'monasca-persister-1.10.0.tar.gz')},",1,1
openstack%2Fneutron~stable%2Frocky~Ic045e2763ba2772bcaf037591821501e84e40878,openstack/neutron,stable/rocky,Ic045e2763ba2772bcaf037591821501e84e40878,Fix IPv6 prefix delegation issue on agent restart,MERGED,2018-09-20 15:04:49.000000000,2018-10-17 14:40:00.000000000,2018-10-17 14:40:00.000000000,"[{'_account_id': 4694}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28542}]","[{'number': 1, 'created': '2018-09-20 15:04:49.000000000', 'files': ['neutron/agent/l3/router_info.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/common/l3_test_common.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b2cd92241fab17fe9dcf418f51aee959c9842a51', 'message': ""Fix IPv6 prefix delegation issue on agent restart\n\nOn l3-agent restart, prefix delegation subnets weren't always\ninserted into the local router_info cache, leading to a missing\nip6tables rule.  Add it when the internal network is configured\nif the prefix has already been assigned.\n\nChange-Id: Ic045e2763ba2772bcaf037591821501e84e40878\nCloses-bug: #1789403\n(cherry picked from commit d19dcf1ef2f8e4b837e57dfef4ed1580c5d1e7b7)\n""}]",0,604118,b2cd92241fab17fe9dcf418f51aee959c9842a51,27,9,1,1131,,,0,"Fix IPv6 prefix delegation issue on agent restart

On l3-agent restart, prefix delegation subnets weren't always
inserted into the local router_info cache, leading to a missing
ip6tables rule.  Add it when the internal network is configured
if the prefix has already been assigned.

Change-Id: Ic045e2763ba2772bcaf037591821501e84e40878
Closes-bug: #1789403
(cherry picked from commit d19dcf1ef2f8e4b837e57dfef4ed1580c5d1e7b7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/604118/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/router_info.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/common/l3_test_common.py']",3,b2cd92241fab17fe9dcf418f51aee959c9842a51,bug/1789403-stable/rocky,"def router_append_pd_enabled_subnet(router, count=1, prefix=None): if not prefix: prefix = lib_constants.PROVISIONAL_IPV6_PD_PREFIX 'cidr': prefix,def get_assigned_pd_interfaces(router): pd_intfs = [] for intf in router[lib_constants.INTERFACE_KEY]: for subnet in intf['subnets']: if (ipv6_utils.is_ipv6_pd_enabled(subnet) and subnet['cidr'] != lib_constants.PROVISIONAL_IPV6_PD_PREFIX): pd_intfs.append(intf) return pd_intfs ","def router_append_pd_enabled_subnet(router, count=1): 'cidr': lib_constants.PROVISIONAL_IPV6_PD_PREFIX,",51,2
openstack%2Foctavia-tempest-plugin~master~I25eb52e9f64a08560c9ea2f664edd9826be6e379,openstack/octavia-tempest-plugin,master,I25eb52e9f64a08560c9ea2f664edd9826be6e379,Add configuration support for skipping tests,MERGED,2018-09-03 13:21:42.000000000,2018-10-17 14:37:53.000000000,2018-10-17 14:37:53.000000000,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 6773}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 17776}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 23858}]","[{'number': 1, 'created': '2018-09-03 13:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f0636543c43601e943b2518f58abecc95844d4d4', 'message': '[DNM] Add configuration support for skipping tests\n\nThis patch add configuration support in Octavia Tempest Plugin,\nin case a provider driver does not support Health Monitors.\n\nChange-Id: I25eb52e9f64a08560c9ea2f664edd9826be6e379\n'}, {'number': 2, 'created': '2018-09-06 06:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/a1a3fe9f4b4aff31afcbef53212b8b40a338f0ce', 'message': 'Add configuration support for skipping tests\n\nThis patch add configuration support in Octavia Tempest Plugin,\nin case a provider driver does not support Health Monitors.\n\nChange-Id: I25eb52e9f64a08560c9ea2f664edd9826be6e379\n'}, {'number': 3, 'created': '2018-09-18 09:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f5ad27fdddae40239859b748d8dc6970232a535a', 'message': 'Add configuration support for skipping tests\n\nThis patch add configuration support in Octavia Tempest Plugin,\nin case a provider driver does not support Health Monitors.\n\nChange-Id: I25eb52e9f64a08560c9ea2f664edd9826be6e379\n'}, {'number': 4, 'created': '2018-09-20 08:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/db0824256427bd17b45a489b5a83a14ac8df446d', 'message': 'Add configuration support for skipping tests\n\nThis patch add configuration support in Octavia Tempest Plugin,\nin case a provider driver does not support Health Monitors.\n\nChange-Id: I25eb52e9f64a08560c9ea2f664edd9826be6e379\n'}, {'number': 5, 'created': '2018-09-24 06:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/3de907ec530e605a6823485a23a471681b215740', 'message': 'Add configuration support for skipping tests\n\nThis patch add configuration support in Octavia Tempest Plugin,\nin case a provider driver does not support Health Monitors.\n\nChange-Id: I25eb52e9f64a08560c9ea2f664edd9826be6e379\n'}, {'number': 6, 'created': '2018-10-15 13:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/6f92138e7d2a8dce70c728c1a1e49c4fe9d1341c', 'message': 'Add configuration support for skipping tests\n\nThis patch add configuration support in Octavia Tempest Plugin,\nin case a provider driver does not support Health Monitors.\n\nChange-Id: I25eb52e9f64a08560c9ea2f664edd9826be6e379\n'}, {'number': 7, 'created': '2018-10-16 05:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/1f59acdd8b4914069f9badf45e4cc9d81f1fdebc', 'message': 'Add configuration support for skipping tests\n\nThis patch add configuration support in Octavia Tempest Plugin,\nin case a provider driver does not support Health Monitors.\n\nChange-Id: I25eb52e9f64a08560c9ea2f664edd9826be6e379\n'}, {'number': 8, 'created': '2018-10-16 05:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/5cbb13f082365a93eb41826a2e811c75dd483c30', 'message': 'Add configuration support for skipping tests\n\nThis patch add configuration support in Octavia Tempest Plugin,\nin case a provider driver does not support Health Monitors.\n\nChange-Id: I25eb52e9f64a08560c9ea2f664edd9826be6e379\n'}, {'number': 9, 'created': '2018-10-16 15:35:18.000000000', 'files': ['octavia_tempest_plugin/plugin.py', 'octavia_tempest_plugin/tests/scenario/v2/test_healthmonitor.py', 'octavia_tempest_plugin/config.py', 'octavia_tempest_plugin/tests/api/v2/test_healthmonitor.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f88cffc9b41e879e1656bcd0bae439b41d885138', 'message': 'Add configuration support for skipping tests\n\nThis patch add configuration support in Octavia Tempest Plugin,\nin case a provider driver does not support Health Monitors.\n\nChange-Id: I25eb52e9f64a08560c9ea2f664edd9826be6e379\n'}]",14,599393,f88cffc9b41e879e1656bcd0bae439b41d885138,56,9,9,17776,,,0,"Add configuration support for skipping tests

This patch add configuration support in Octavia Tempest Plugin,
in case a provider driver does not support Health Monitors.

Change-Id: I25eb52e9f64a08560c9ea2f664edd9826be6e379
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/93/599393/5 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/config.py', 'octavia_tempest_plugin/tests/api/v2/test_healthmonitor.py']",2,f0636543c43601e943b2518f58abecc95844d4d4,,"import testtools @testtools.skipUnless(CONF.load_balancer.monitor_enabled, 'Monitors not supported') @testtools.skipUnless(CONF.load_balancer.monitor_enabled, 'Monitors not supported') @testtools.skipUnless(CONF.load_balancer.monitor_enabled, 'Monitors not supported') @testtools.skipUnless(CONF.load_balancer.monitor_enabled, 'Monitors not supported') @testtools.skipUnless(CONF.load_balancer.monitor_enabled, 'Monitors not supported')",,15,0
openstack%2Fpython-manilaclient~master~I6a18fa58d85f0d75befedba4bac5cc3c116da73c,openstack/python-manilaclient,master,I6a18fa58d85f0d75befedba4bac5cc3c116da73c,Don't quote {posargs} in tox.ini,MERGED,2018-10-09 13:57:10.000000000,2018-10-17 14:35:33.000000000,2018-10-17 14:22:05.000000000,"[{'_account_id': 9003}, {'_account_id': 14567}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-10-09 13:57:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/156a71d2dce625161be98b77738929197fa839a8', 'message': ""Don't quote {posargs} in tox.ini\n\nQuotes around {posargs} cause the entire string to be combined into one\narg that gets passed to stestr. This prevents passing multiple args\n(e.g. '--concurrency=16 some-regex')\n\nChange-Id: I6a18fa58d85f0d75befedba4bac5cc3c116da73c\n""}]",0,608997,156a71d2dce625161be98b77738929197fa839a8,12,7,1,28543,,,0,"Don't quote {posargs} in tox.ini

Quotes around {posargs} cause the entire string to be combined into one
arg that gets passed to stestr. This prevents passing multiple args
(e.g. '--concurrency=16 some-regex')

Change-Id: I6a18fa58d85f0d75befedba4bac5cc3c116da73c
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/97/608997/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,156a71d2dce625161be98b77738929197fa839a8,, stestr run {posargs} stestr run {posargs}, stestr run '{posargs}' stestr run '{posargs}',2,2
openstack%2Fpython-manilaclient~master~I2fb3e9cc33201363087ba33876fe36dd515b9123,openstack/python-manilaclient,master,I2fb3e9cc33201363087ba33876fe36dd515b9123,Add unit-test for availability_zones.AvailabilityZone repr(),MERGED,2018-10-05 09:42:10.000000000,2018-10-17 14:33:10.000000000,2018-10-17 14:33:10.000000000,"[{'_account_id': 9003}, {'_account_id': 14567}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 09:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/7faa0d2fa1c5b5d1ce148c0e0b2812647b479d13', 'message': 'Add unit-test for availability_zones.AvailabilityZone repr()\n\nThe method was not covered.\n\nChange-Id: I2fb3e9cc33201363087ba33876fe36dd515b9123\nPartial-Bug: #1364800\n'}, {'number': 2, 'created': '2018-10-05 09:44:49.000000000', 'files': ['manilaclient/tests/unit/v2/test_availability_zones.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/522b712a1539aed41fc96e65fcedf2db650b6f50', 'message': 'Add unit-test for availability_zones.AvailabilityZone repr()\n\nThe method was not covered.\n\nChange-Id: I2fb3e9cc33201363087ba33876fe36dd515b9123\nPartial-Bug: #1364800\n'}]",0,608197,522b712a1539aed41fc96e65fcedf2db650b6f50,9,4,2,23512,,,0,"Add unit-test for availability_zones.AvailabilityZone repr()

The method was not covered.

Change-Id: I2fb3e9cc33201363087ba33876fe36dd515b9123
Partial-Bug: #1364800
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/97/608197/2 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/tests/unit/v2/test_availability_zones.py'],1,7faa0d2fa1c5b5d1ce148c0e0b2812647b479d13,bug/1364800," def test_representation(self): resource = availability_zones.AvailabilityZone(None, {}) resource.id = ""9d21a755-b5ca-453e-a155-ee9c9066d909"" expected = ""<AvailabilityZone: 9d21a755-b5ca-453e-a155-ee9c9066d909>"" self.assertEqual(repr(resource), expected)",,6,0
openstack%2Fproject-config~master~Iada90b335677ab2d82ac7a2d493ce6d02eb91a13,openstack/project-config,master,Iada90b335677ab2d82ac7a2d493ce6d02eb91a13,Add new project config for tenks,MERGED,2018-09-06 09:51:34.000000000,2018-10-17 14:27:13.000000000,2018-10-17 14:27:13.000000000,"[{'_account_id': 6547}, {'_account_id': 11655}, {'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 20369}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-06 09:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c16bf344923c3bde6ba01487d79d6bb04f3616f2', 'message': 'Add new project config for tenks\n\nImporting upstream repo: https://github.com/stackhpc/tenks\nShould contain a master branch only.\n\nRelated spec: https://review.openstack.org/#/c/579583/\n\nChange-Id: Iada90b335677ab2d82ac7a2d493ce6d02eb91a13\n'}, {'number': 2, 'created': '2018-09-06 11:34:48.000000000', 'files': ['gerritbot/channels.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/openstack/tenks.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a69915c1868ccf8300a7af248080a310c06ea32b', 'message': 'Add new project config for tenks\n\nImporting upstream repo: https://github.com/stackhpc/tenks\nShould contain a master branch only.\n\nRelated spec: https://review.openstack.org/#/c/579583/\n\nChange-Id: Iada90b335677ab2d82ac7a2d493ce6d02eb91a13\nNeeded-By: I7df185529ded2817b77b11c5479df30e4574c1e7\n'}]",2,600397,a69915c1868ccf8300a7af248080a310c06ea32b,14,6,2,14826,,,0,"Add new project config for tenks

Importing upstream repo: https://github.com/stackhpc/tenks
Should contain a master branch only.

Related spec: https://review.openstack.org/#/c/579583/

Change-Id: Iada90b335677ab2d82ac7a2d493ce6d02eb91a13
Needed-By: I7df185529ded2817b77b11c5479df30e4574c1e7
",git fetch https://review.opendev.org/openstack/project-config refs/changes/97/600397/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/openstack/tenks.config']",3,c16bf344923c3bde6ba01487d79d6bb04f3616f2,new-project,"[access ""refs/heads/*""] abandon = group tenks-core label-Code-Review = -2..+2 group tenks-core label-Workflow = -1..+1 group tenks-core [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",,18,0
openstack%2Fironic~master~Ieee7b76172874e67bb31055c0c40beb41785f7bb,openstack/ironic,master,Ieee7b76172874e67bb31055c0c40beb41785f7bb,Remove Vagrant,MERGED,2018-10-16 13:15:34.000000000,2018-10-17 14:22:39.000000000,2018-10-17 14:22:39.000000000,"[{'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2018-10-16 13:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/41400dea7f01e6595fdbc05bf3d27a8147f78454', 'message': 'Remove Vagrant\n\nThe files for Vagrants are too outdated, this patch removes the\ninformation about Vagrant in the documentation and the old files\nused to set up a Vagrant environment.\n\nChange-Id: Ieee7b76172874e67bb31055c0c40beb41785f7bb\n'}, {'number': 2, 'created': '2018-10-16 13:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3360c57a1207808553de445ab987f1a3d5952429', 'message': 'Remove Vagrant\n\nThe files for Vagrants are too outdated, this patch removes the\ninformation about Vagrant in the documentation and the old files\nused to set up a Vagrant environment.\n\nChange-Id: Ieee7b76172874e67bb31055c0c40beb41785f7bb\n'}, {'number': 3, 'created': '2018-10-16 14:49:42.000000000', 'files': ['vagrant.yaml', 'Vagrantfile', 'doc/source/contributor/dev-quickstart.rst', 'releasenotes/notes/remove_vagrant-4472cedd0284557c.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7a551c4f4ad3852c1a37ec29235b131d20b6612b', 'message': 'Remove Vagrant\n\nThe files for Vagrants are too outdated, this patch removes the\ninformation about Vagrant in the documentation and the old files\nused to set up a Vagrant environment.\n\nChange-Id: Ieee7b76172874e67bb31055c0c40beb41785f7bb\n'}]",7,610964,7a551c4f4ad3852c1a37ec29235b131d20b6612b,25,12,3,15519,,,0,"Remove Vagrant

The files for Vagrants are too outdated, this patch removes the
information about Vagrant in the documentation and the old files
used to set up a Vagrant environment.

Change-Id: Ieee7b76172874e67bb31055c0c40beb41785f7bb
",git fetch https://review.opendev.org/openstack/ironic refs/changes/64/610964/2 && git format-patch -1 --stdout FETCH_HEAD,"['vagrant.yaml', 'Vagrantfile', 'doc/source/contributor/dev-quickstart.rst']",3,41400dea7f01e6595fdbc05bf3d27a8147f78454,remove_vagrant,"Next, install and configure system dependencies. Step 2: Install System Dependencies Locally","Next, install and configure system dependencies. Two different approaches are described below; you should only do one of these. Step 2a: System Dependencies In A Virtual Machine ------------------------------------------------- This option requires `virtualbox <https://www.virtualbox.org>`_, `vagrant <https://www.vagrantup.com>`_, and `ansible <https://www.ansible.com>`_. You may install these using your favorite package manager, or by downloading from the provided links. #. Let vagrant do the work:: vagrant up This will create a VM available to your local system at `192.168.99.11`, will install all the necessary service dependencies, and configure some default users. It will also generate `./etc/ironic/ironic.conf.local` preconfigured for local dev work. We recommend you compare and familiarize yourself with the settings in `./etc/ironic/ironic.conf.sample` so you can adjust it to meet your own needs. Step 2b: Install System Dependencies Locally",2,212
openstack%2Fansible-role-chrony~master~I0d5784c01a681341b50418ef79888ac6d94a5344,openstack/ansible-role-chrony,master,I0d5784c01a681341b50418ef79888ac6d94a5344,Fix missing folders,MERGED,2018-10-16 22:57:17.000000000,2018-10-17 14:15:07.000000000,2018-10-17 14:15:07.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27253}]","[{'number': 1, 'created': '2018-10-16 22:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-chrony/commit/adf4c0aa8471b6c015473d992cd330dc305d2f73', 'message': 'Fix missing folders\n\nThe vars, tests and handlers folders are not properly packaged. This\nchange updates the setup.cfg to include these folders for distribution.\n\nChange-Id: I0d5784c01a681341b50418ef79888ac6d94a5344\n'}, {'number': 2, 'created': '2018-10-16 23:00:30.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-chrony/commit/ed0d7e3bf1fa6fa7fd38a47b577250ad16398bca', 'message': 'Fix missing folders\n\nThe vars, tests and handlers folders are not properly packaged. This\nchange updates the setup.cfg to include these folders for distribution.\n\nChange-Id: I0d5784c01a681341b50418ef79888ac6d94a5344\n'}]",0,611193,ed0d7e3bf1fa6fa7fd38a47b577250ad16398bca,9,5,2,14985,,,0,"Fix missing folders

The vars, tests and handlers folders are not properly packaged. This
change updates the setup.cfg to include these folders for distribution.

Change-Id: I0d5784c01a681341b50418ef79888ac6d94a5344
",git fetch https://review.opendev.org/openstack/ansible-role-chrony refs/changes/93/611193/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,adf4c0aa8471b6c015473d992cd330dc305d2f73,fix-vars, share/ansible/roles/chrony/files = files/* share/ansible/roles/chrony/handlers = handlers/* share/ansible/roles/chrony/tests = tests/* share/ansible/roles/chrony/vars = vars/*, share/ansible/roles/chrony/files = files/*,4,1
openstack%2Fneutron-lbaas~stable%2Frocky~I6f2ab6cad89714773655481a17a88348900261ad,openstack/neutron-lbaas,stable/rocky,I6f2ab6cad89714773655481a17a88348900261ad,Update L7-proxy gate to allow new Octavia features,MERGED,2018-09-16 11:07:56.000000000,2018-10-17 14:11:52.000000000,2018-10-17 14:11:52.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 9008}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-16 11:07:56.000000000', 'files': ['neutron_lbaas/tests/tempest/v2/api/test_pools_non_admin.py', 'neutron_lbaas/tests/tempest/v2/api/test_pools_admin.py', 'neutron_lbaas/tests/tempest/v2/api/test_listeners_non_admin.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/ed91175709203fe59bf663cb127a4a9eecd5e8bd', 'message': 'Update L7-proxy gate to allow new Octavia features\n\nSpecifically: UDP is now a valid protocol, and session_persistence has\nsome new fields.\n\nChange-Id: I6f2ab6cad89714773655481a17a88348900261ad\n(cherry picked from commit 28ede08e8cfa19d72d87c8e252f82bda761c0bce)\n'}]",0,602968,ed91175709203fe59bf663cb127a4a9eecd5e8bd,16,7,1,6579,,,0,"Update L7-proxy gate to allow new Octavia features

Specifically: UDP is now a valid protocol, and session_persistence has
some new fields.

Change-Id: I6f2ab6cad89714773655481a17a88348900261ad
(cherry picked from commit 28ede08e8cfa19d72d87c8e252f82bda761c0bce)
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/68/602968/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas/tests/tempest/v2/api/test_pools_non_admin.py', 'neutron_lbaas/tests/tempest/v2/api/test_pools_admin.py', 'neutron_lbaas/tests/tempest/v2/api/test_listeners_non_admin.py']",3,ed91175709203fe59bf663cb127a4a9eecd5e8bd,," protocol=""PIGEON"")"," protocol=""UDP"")",12,5
openstack%2Fnova~master~I98a2785c07f7af02ad83650c72d9e1868290ece4,openstack/nova,master,I98a2785c07f7af02ad83650c72d9e1868290ece4,Fix NoneType error in _notify_volume_usage_detach,MERGED,2018-10-10 19:08:10.000000000,2018-10-17 14:08:06.000000000,2018-10-17 13:54:38.000000000,"[{'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9373}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27336}]","[{'number': 1, 'created': '2018-10-10 19:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b3c5a31d432a41de91ebb4c7238cba90815f5a6e', 'message': ""Fix NoneType error in _notify_volume_usage_detach\n\nIf the driver.block_stats() method returns None, like the\nlibvirt driver will if the guest is gone during an evacuate,\nwe'll get a NoneType error trying to unpack the return value\nfrom the driver. Instead, simply return as if the driver\nraised NotImplementedError.\n\nChange-Id: I98a2785c07f7af02ad83650c72d9e1868290ece4\nCloses-Bug: #1796981\n""}, {'number': 2, 'created': '2018-10-12 21:39:09.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/driver.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4da54c07861a1542a8e30a768d4506d3e81b5598', 'message': ""Fix NoneType error in _notify_volume_usage_detach\n\nIf the driver.block_stats() method returns None, like the\nlibvirt driver will if the guest is gone during an evacuate,\nwe'll get a NoneType error trying to unpack the return value\nfrom the driver. Instead, simply return as if the driver\nraised NotImplementedError.\n\nSince handling None is changing the contract on the virt\ndriver API, the docstring is updated to explain the acceptable\nreturn values of the driver method.\n\nChange-Id: I98a2785c07f7af02ad83650c72d9e1868290ece4\nCloses-Bug: #1796981\n""}]",4,609518,4da54c07861a1542a8e30a768d4506d3e81b5598,42,21,2,6873,,,0,"Fix NoneType error in _notify_volume_usage_detach

If the driver.block_stats() method returns None, like the
libvirt driver will if the guest is gone during an evacuate,
we'll get a NoneType error trying to unpack the return value
from the driver. Instead, simply return as if the driver
raised NotImplementedError.

Since handling None is changing the contract on the virt
driver API, the docstring is updated to explain the acceptable
return values of the driver method.

Change-Id: I98a2785c07f7af02ad83650c72d9e1868290ece4
Closes-Bug: #1796981
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/609518/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,b3c5a31d432a41de91ebb4c7238cba90815f5a6e,bug/1796981, if vol_stats is None: return, vol_stats = [],19,1
openstack%2Fkolla-ansible~master~I5058208db8bebb8e7e78b216cc1916ae3851495f,openstack/kolla-ansible,master,I5058208db8bebb8e7e78b216cc1916ae3851495f,"Run ""nova-status upgrade check"" during upgrade",ABANDONED,2018-06-14 23:39:46.000000000,2018-10-17 14:06:36.000000000,,"[{'_account_id': 6873}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-14 23:39:46.000000000', 'files': ['ansible/roles/nova/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1f523841826fa313a7ce1135e21e1c85019fd605', 'message': 'Run ""nova-status upgrade check"" during upgrade\n\nThis adds a task to run the \'nova-status upgrade check\' command\nduring upgrade after restarting the services.\n\nThis is generally used for verifying an upgrade once the control\nservices have been upgraded, nova API DB has been migrated and\nonline data migrations have been run.\n\nThis is also an important tool for fast-forward upgrades to make\nsure each release being forwarded through has been properly upgraded\nbefore moving onto the next.\n\nChange-Id: I5058208db8bebb8e7e78b216cc1916ae3851495f\n'}]",3,575567,1f523841826fa313a7ce1135e21e1c85019fd605,10,3,1,6873,,,0,"Run ""nova-status upgrade check"" during upgrade

This adds a task to run the 'nova-status upgrade check' command
during upgrade after restarting the services.

This is generally used for verifying an upgrade once the control
services have been upgraded, nova API DB has been migrated and
online data migrations have been run.

This is also an important tool for fast-forward upgrades to make
sure each release being forwarded through has been properly upgraded
before moving onto the next.

Change-Id: I5058208db8bebb8e7e78b216cc1916ae3851495f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/575567/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/tasks/upgrade.yml'],1,1f523841826fa313a7ce1135e21e1c85019fd605,run-nova-status-upgrade-check," # TODO(mriedem): Make this generic to run it for post-install on greenfield # deployments. - name: Run nova-status upgrade check command: > docker exec nova_api nova-status upgrade check register: nova_status_upgrade_check # The nova-status upgrade check command has three standard return codes: # 0: all checks were successful # 1: warning: there might be some checks that require investigation, but # generally will not block an automated install/upgrade; digging into # warnings is useful for debugging post-install/upgrade issues # 2: at least one check failed and must stop the install/upgrade because # something was not setup properly failed_when: ""nova_status_upgrade_check.rc not in [0, 1]"" changed_when: false delegate_to: ""{{ groups['nova-api'][0] }}""",,17,0
openstack%2Frpm-packaging~master~Iae4a98b82cf888a0bb3af23f944c899625ba165c,openstack/rpm-packaging,master,Iae4a98b82cf888a0bb3af23f944c899625ba165c,glance: registry has been deprecated,MERGED,2018-10-02 12:24:48.000000000,2018-10-17 14:00:46.000000000,2018-10-17 14:00:46.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23735}]","[{'number': 1, 'created': '2018-10-02 12:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/613c0c2926d04b2bf84c628613fea58db388e64f', 'message': 'glance: registry has been deprecated\n\nit should be no longer built and used as it is no longer maintained\nhttps://review.openstack.org/#/c/513390/\n\nChange-Id: Iae4a98b82cf888a0bb3af23f944c899625ba165c\n'}, {'number': 2, 'created': '2018-10-04 08:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/11fd8842c9d7bdc73bf2d685bb2d4331af893750', 'message': 'glance: registry has been deprecated\n\nit should be no longer built and used as it is no longer maintained\nhttps://review.openstack.org/#/c/513390/\n\nChange-Id: Iae4a98b82cf888a0bb3af23f944c899625ba165c\n'}, {'number': 3, 'created': '2018-10-08 08:59:32.000000000', 'files': ['openstack/glance/glance.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b7d6d7243cf2e0b5868e67adbb8d6ff5896456a1', 'message': 'glance: registry has been deprecated\n\nit should be no longer built and used as it is no longer maintained\nhttps://review.openstack.org/#/c/513390/\n\nChange-Id: Iae4a98b82cf888a0bb3af23f944c899625ba165c\n'}]",0,607171,b7d6d7243cf2e0b5868e67adbb8d6ff5896456a1,21,6,3,23735,,,0,"glance: registry has been deprecated

it should be no longer built and used as it is no longer maintained
https://review.openstack.org/#/c/513390/

Change-Id: Iae4a98b82cf888a0bb3af23f944c899625ba165c
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/71/607171/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack/glance/glance.spec.j2'],1,613c0c2926d04b2bf84c628613fea58db388e64f,,for service in api scrubber cache manage image-import; dofor service in api scrubber cache manage swift image-import; do,"Source5: openstack-glance-registry.service%package registry Summary: OpenStack Image service (Glance) - Registry Group: Development/Languages/Python Requires: %{name} = %{epoch}:%{version}-%{release} %description registry The Glance project provides a service where users can upload and discover data assets that are meant to be used with other services. This currently includes images and metadata definitions. Glance image services include discovering, registering, and retrieving virtual machine images. Glance has a RESTful API that allows querying of VM image metadata as well as retrieval of the actual image. VM images made available through Glance can be stored in a variety of locations from simple filesystems to object-storage systems like the OpenStack Swift project. This package contains the %{name} Registry server. for service in api registry scrubber cache manage image-import; doinstall -d -m 755 %{buildroot}%{_sysconfdir}/glance/glance-registry.conf.d/for service in api registry scrubber cache manage swift image-import; doinstall -p -D -m 444 %{SOURCE5} %{buildroot}%{_unitdir}/openstack-glance-registry.service%post registry %systemd_post %{name}-registry.service %preun registry %systemd_preun %{name}-registry.service %postun registry %systemd_postun_with_restart %{name}-registry.service %dir %attr(0750, root, glance) %{_sysconfdir}/glance/glance-registry.conf.d/%config(noreplace) %attr(0640, root, glance) %{_sysconfdir}/{{ pypi_name }}/glance-registry.conf%config %{_sysconfdir}/{{ pypi_name }}/glance-registry-paste.ini%files registry %defattr(-,root,root,-) %{_unitdir}/openstack-glance-registry.service %{_bindir}/{{ pypi_name }}-registry ",2,40
openstack%2Foctavia~master~I414a3c6d2e97d30ff12eda4ecf71ec032998df7d,openstack/octavia,master,I414a3c6d2e97d30ff12eda4ecf71ec032998df7d,Ensure pool object contains the listener_id if passed,MERGED,2018-09-21 16:36:36.000000000,2018-10-17 14:00:34.000000000,2018-10-17 13:53:05.000000000,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 10237}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 14352}, {'_account_id': 15309}, {'_account_id': 17776}, {'_account_id': 21041}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-09-21 16:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ce133c83a5c04067a550f33239b3ee80441c2d26', 'message': 'Ensure pool object contains the listener_id if passed\n\nWhen creating a pool with an associated listener_id, sometimes the\nlistener_id is not set. Problem comes from [1] not setting the listeners\nproperty on db_pool pool object even if it is passed.\n\n[1] https://github.com/openstack/octavia/blob/master/octavia/api/v2/controllers/pool.py#L244-L245\n\nStory: 2003833\nChange-Id: I414a3c6d2e97d30ff12eda4ecf71ec032998df7d\n'}, {'number': 2, 'created': '2018-10-03 06:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/93cedcfaf9f12ab6bea5224f99a187325b93cda2', 'message': 'Ensure pool object contains the listener_id if passed\n\nWhen creating a pool with an associated listener_id, sometimes the\nlistener_id is not set. Problem comes from [1] not setting the listeners\nproperty on db_pool pool object even if it is passed.\n\n[1] https://github.com/openstack/octavia/blob/master/octavia/api/v2/controllers/pool.py#L244-L245\n\nStory: 2003833\nChange-Id: I414a3c6d2e97d30ff12eda4ecf71ec032998df7d\n'}, {'number': 3, 'created': '2018-10-16 08:56:48.000000000', 'files': ['octavia/db/repositories.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/feff3b472c7902af3ccb4cc10f1e2ae140d66b32', 'message': 'Ensure pool object contains the listener_id if passed\n\nWhen creating a pool with an associated listener_id, sometimes the\nlistener_id is not set. Problem comes from [1] not setting the listeners\nproperty on db_pool pool object even if it is passed.\n\n[1] https://github.com/openstack/octavia/blob/master/octavia/api/v2/controllers/pool.py#L244-L245\n\nStory: 2003833\nChange-Id: I414a3c6d2e97d30ff12eda4ecf71ec032998df7d\n'}]",4,604417,feff3b472c7902af3ccb4cc10f1e2ae140d66b32,29,11,3,23567,,,0,"Ensure pool object contains the listener_id if passed

When creating a pool with an associated listener_id, sometimes the
listener_id is not set. Problem comes from [1] not setting the listeners
property on db_pool pool object even if it is passed.

[1] https://github.com/openstack/octavia/blob/master/octavia/api/v2/controllers/pool.py#L244-L245

Story: 2003833
Change-Id: I414a3c6d2e97d30ff12eda4ecf71ec032998df7d
",git fetch https://review.opendev.org/openstack/octavia refs/changes/17/604417/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/api/v2/controllers/pool.py'],1,ce133c83a5c04067a550f33239b3ee80441c2d26,pool-listenerid," # FIXME(ltomasbo): method repositories.create_pool_on_load_balancer # called from _validate_create_pool is not ensuring that the # pool object returned contains the listener id, which is supposed # to be obtained from the listener table that gets updated on the # method. This ensure the provider received this information if listener_id: provider_pool.listener_id = listener_id ",,8,0
openstack%2Fpython-tripleoclient~stable%2Fpike~I6a6389b64215e848ccc96b21a33f861167961c9d,openstack/python-tripleoclient,stable/pike,I6a6389b64215e848ccc96b21a33f861167961c9d,[Pike only] Fix the default namespace.,MERGED,2018-10-16 09:01:48.000000000,2018-10-17 13:57:49.000000000,2018-10-17 13:57:49.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-10-16 09:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/758d17d9f11293f4bca345a90f162289cf0cca5b', 'message': '[Core] Fix the default namespace.\n\nThe tripleo namespace is not used anymore.\n\nChange-Id: I6a6389b64215e848ccc96b21a33f861167961c9d\n'}, {'number': 2, 'created': '2018-10-17 07:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/416f9098adf799209c03b587e85349c2ae5cbf1a', 'message': '[Pike only] Fix the default namespace.\n\nThe tripleoupstream namespace is not used anymore.\n\nCloses-Bug: #1798266\nChange-Id: I6a6389b64215e848ccc96b21a33f861167961c9d\n'}, {'number': 3, 'created': '2018-10-17 07:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a4f9c82c775a2898a5a464637aea64c8ca221d75', 'message': '[Pike only] Fix the default namespace.\n\nThe tripleoupstream namespace is not used anymore.\n\nCloses-Bug: #1798266\nChange-Id: I6a6389b64215e848ccc96b21a33f861167961c9d\n'}, {'number': 4, 'created': '2018-10-17 09:15:33.000000000', 'files': ['tripleoclient/v1/container_image.py', 'tripleoclient/tests/v1/overcloud_image/test_container_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/824fb7df829d55f7bb373f77e5e4ad0f1cce68d9', 'message': '[Pike only] Fix the default namespace.\n\nThe tripleoupstream namespace is not used anymore.\n\nCloses-Bug: #1798266\nChange-Id: I6a6389b64215e848ccc96b21a33f861167961c9d\n'}]",4,610912,824fb7df829d55f7bb373f77e5e4ad0f1cce68d9,18,6,4,29222,,,0,"[Pike only] Fix the default namespace.

The tripleoupstream namespace is not used anymore.

Closes-Bug: #1798266
Change-Id: I6a6389b64215e848ccc96b21a33f861167961c9d
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/12/610912/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/container_image.py'],1,758d17d9f11293f4bca345a90f162289cf0cca5b,bug/1798266," default=""docker.io/tripleopike"","," default=""docker.io/tripleoupstream"",",1,1
openstack%2Fdesignate~master~I19ee537afb1c104b2381314775b37b30ab697ff5,openstack/designate,master,I19ee537afb1c104b2381314775b37b30ab697ff5,use newer version of main() from oslo.upgradechecks,ABANDONED,2018-10-01 18:07:44.000000000,2018-10-17 13:54:57.000000000,,"[{'_account_id': 2472}, {'_account_id': 6873}, {'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-01 18:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d5f535987cf0f5f6b6fd7364a80058e964200dac', 'message': 'use newer version of main() from oslo.upgradechecks\n\nChange-Id: I19ee537afb1c104b2381314775b37b30ab697ff5\nDepends-On: https://review.openstack.org/607011\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-10-02 18:13:43.000000000', 'files': ['designate/cmd/status.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/c4ec15f681c5e53619e032f8cebf1aa755a34b0c', 'message': 'use newer version of main() from oslo.upgradechecks\n\nChange-Id: I19ee537afb1c104b2381314775b37b30ab697ff5\nDepends-On: https://review.openstack.org/607011\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",4,607012,c4ec15f681c5e53619e032f8cebf1aa755a34b0c,9,4,2,2472,,,0,"use newer version of main() from oslo.upgradechecks

Change-Id: I19ee537afb1c104b2381314775b37b30ab697ff5
Depends-On: https://review.openstack.org/607011
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/designate refs/changes/12/607012/2 && git format-patch -1 --stdout FETCH_HEAD,['designate/cmd/status.py'],1,d5f535987cf0f5f6b6fd7364a80058e964200dac,upgrade-checkers,"from designate.common import configdef main(): # Prepare the CONF object with our options. config.set_defaults() utils.register_plugin_opts() # Avoid circular dependency imports from designate import pool_manager pool_manager.register_dynamic_pool_options() config_files = utils.find_config('designate.conf') checker = Checks() return upgradecheck.main( conf=cfg.CONF, upgrade_command=checker, default_config_files=config_files, )","def config(_): utils.read_config('designate', sys.argv) def main(): inst = Checks() return upgradecheck.main(cfg.CONF, inst.check, config)",15,6
openstack%2Fmanila-image-elements~master~I3a20dc68bf1d4051724d148b0fa808ea3d0a1673,openstack/manila-image-elements,master,I3a20dc68bf1d4051724d148b0fa808ea3d0a1673,fix tox python3 overrides,MERGED,2018-09-29 23:50:36.000000000,2018-10-17 13:50:40.000000000,2018-10-17 13:50:40.000000000,"[{'_account_id': 14567}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-29 23:50:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/7efceceeb3c427a8628c7a812d2820c164e53f0f', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I3a20dc68bf1d4051724d148b0fa808ea3d0a1673\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,606649,7efceceeb3c427a8628c7a812d2820c164e53f0f,7,3,1,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I3a20dc68bf1d4051724d148b0fa808ea3d0a1673
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/manila-image-elements refs/changes/49/606649/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7efceceeb3c427a8628c7a812d2820c164e53f0f,python3-first,basepython = python3basepython = python3basepython = python3,,3,0
openstack%2Fopenstack-ansible-os_horizon~master~I823f2f949258157e306dbf80570abe53373da0c3,openstack/openstack-ansible-os_horizon,master,I823f2f949258157e306dbf80570abe53373da0c3,Add ability for HTTP access to horizon,MERGED,2018-10-04 14:20:54.000000000,2018-10-17 13:45:22.000000000,2018-10-17 13:45:22.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 15993}, {'_account_id': 17068}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2018-10-04 14:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/4eb9caa00b60f3dfe163765b5b0cd2a1f833bbde', 'message': 'Turning off SSL is currently offline\n\nLogic in the dashboard conf file is backwards and\nthe ability to turn off cookies via ansible was\nmissing.\n\nChange-Id: I823f2f949258157e306dbf80570abe53373da0c3\nCloses-Bug: 1794337\n'}, {'number': 2, 'created': '2018-10-08 20:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/3f030c580ff6f55dfabb7fe2b9125f5d353d51e4', 'message': 'Turning off SSL is currently offline\n\nLogic in the dashboard conf file is backwards and\nthe ability to turn off cookies via ansible was\nmissing.\n\nChange-Id: I823f2f949258157e306dbf80570abe53373da0c3\nCloses-Bug: 1794337\n'}, {'number': 3, 'created': '2018-10-10 00:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/06097345b0297eb5836827792fd70fe6f36d4dda', 'message': 'Turning off SSL is currently offline\n\nLogic in the dashboard conf file is backwards and\nthe ability to turn off cookies via ansible was\nmissing.\n\nChange-Id: I823f2f949258157e306dbf80570abe53373da0c3\nCloses-Bug: 1794337\n'}, {'number': 4, 'created': '2018-10-10 16:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/07be7b49caaba91076d1ab158dee34c22ffd6090', 'message': ""Add ability for HTTP access to horizon\n\nHorizon has, since OSA's inception, been deployed with HTTPS\naccess enabled, and has had no way to turn it off. Some use-cases\nmay want to access via HTTP instead, so this patch enables\nthe following:\n\n1. Listen via HTTPS on a load balancer, but via HTTP on the\n   horizon host and have the load balancer forward the correct\n   headers. It will do this by default in the integrated build\n   due to the presence of the load balancer, so the current\n   behaviour is retained.\n\n2. Enable HTTPS on the horizon host without a load balancer.\n   This is the role's default behaviour which matches what it\n   always has been.\n\n3. Disable HTTPS entirely by setting ``haproxy_ssl: no`` (which\n   will also disable https on haproxy. This setting is inherited\n   by the new ``horizon_enable_ssl`` variable by default. This\n   is a new option.\n\nCo-Authored-By: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\nChange-Id: I823f2f949258157e306dbf80570abe53373da0c3\nCloses-Bug: 1794337\n""}, {'number': 5, 'created': '2018-10-11 08:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/b8842a207b3a5b169e62c0ebb4563d4469efa13b', 'message': ""Add ability for HTTP access to horizon\n\nHorizon has, since OSA's inception, been deployed with HTTPS\naccess enabled, and has had no way to turn it off. Some use-cases\nmay want to access via HTTP instead, so this patch enables\nthe following:\n\n1. Listen via HTTPS on a load balancer, but via HTTP on the\n   horizon host and have the load balancer forward the correct\n   headers. It will do this by default in the integrated build\n   due to the presence of the load balancer, so the current\n   behaviour is retained.\n\n2. Enable HTTPS on the horizon host without a load balancer.\n   This is the role's default behaviour which matches what it\n   always has been.\n\n3. Disable HTTPS entirely by setting ``haproxy_ssl: no`` (which\n   will also disable https on haproxy. This setting is inherited\n   by the new ``horizon_enable_ssl`` variable by default. This\n   is a new option.\n\nCo-Authored-By: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\nChange-Id: I823f2f949258157e306dbf80570abe53373da0c3\nCloses-Bug: 1794337\n""}, {'number': 6, 'created': '2018-10-17 11:56:26.000000000', 'files': ['tasks/main.yml', 'releasenotes/notes/http-access-horizon-94c27a0aadb9f1b4.yaml', 'templates/openstack_dashboard.conf.j2', 'tests/os_horizon-overrides.yml', 'defaults/main.yml', 'templates/horizon_local_settings.py.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/4283200534eafa444efd9bb408ddcb5c98a1d442', 'message': ""Add ability for HTTP access to horizon\n\nHorizon has, since OSA's inception, been deployed with HTTPS\naccess enabled, and has had no way to turn it off. Some use-cases\nmay want to access via HTTP instead, so this patch enables\nthe following:\n\n1. Listen via HTTPS on a load balancer, but via HTTP on the\n   horizon host and have the load balancer forward the correct\n   headers. It will do this by default in the integrated build\n   due to the presence of the load balancer, so the current\n   behaviour is retained.\n\n2. Enable HTTPS on the horizon host without a load balancer.\n   This is the role's default behaviour which matches what it\n   always has been.\n\n3. Disable HTTPS entirely by setting ``haproxy_ssl: no`` (which\n   will also disable https on haproxy. This setting is inherited\n   by the new ``horizon_enable_ssl`` variable by default. This\n   is a new option.\n\nCo-Authored-By: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\nChange-Id: I823f2f949258157e306dbf80570abe53373da0c3\nCloses-Bug: 1794337\n""}]",4,607969,4283200534eafa444efd9bb408ddcb5c98a1d442,43,7,6,15993,,,0,"Add ability for HTTP access to horizon

Horizon has, since OSA's inception, been deployed with HTTPS
access enabled, and has had no way to turn it off. Some use-cases
may want to access via HTTP instead, so this patch enables
the following:

1. Listen via HTTPS on a load balancer, but via HTTP on the
   horizon host and have the load balancer forward the correct
   headers. It will do this by default in the integrated build
   due to the presence of the load balancer, so the current
   behaviour is retained.

2. Enable HTTPS on the horizon host without a load balancer.
   This is the role's default behaviour which matches what it
   always has been.

3. Disable HTTPS entirely by setting ``haproxy_ssl: no`` (which
   will also disable https on haproxy. This setting is inherited
   by the new ``horizon_enable_ssl`` variable by default. This
   is a new option.

Co-Authored-By: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>
Change-Id: I823f2f949258157e306dbf80570abe53373da0c3
Closes-Bug: 1794337
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/69/607969/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/openstack_dashboard.conf.j2', 'templates/horizon_local_settings.py.j2']",2,4eb9caa00b60f3dfe163765b5b0cd2a1f833bbde,bug/1794337,"{% endif %} {% if not horizon_external_ssl | bool %} # If Horizon is being served through SSL, then uncomment the following two # settings to better secure the cookies from security exploits CSRF_COOKIE_SECURE = False SESSION_COOKIE_SECURE = False {% endif %}",{% endif %},17,1
openstack%2Fironic-specs~master~I05e38f97c64144932bb5113873df7f8bb0a3cffb,openstack/ironic-specs,master,I05e38f97c64144932bb5113873df7f8bb0a3cffb,Add virtual Bare Metal Clusters spec,MERGED,2018-07-02 14:48:10.000000000,2018-10-17 13:37:08.000000000,2018-10-17 13:37:08.000000000,"[{'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 20369}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 26340}, {'_account_id': 27060}]","[{'number': 1, 'created': '2018-07-02 14:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/a09ac753614a02ce48deb87d902adeeb291c9791', 'message': '[WIP]: Add virtual Bare Metal Clusters spec\n\nTesting Ironic has always been challenging.  Bare metal compute\nresources are expensive and inflexible.  The typical solution to this\nissue is to emulate bare metal compute resources using virtual machines\n(VMs), allowing us to improve the utilisation of test infrastructure,\nand test various scenarios using general purpose test infrastructure.\nSupport for creating virtual bare metal environments is available in\nDevStack, and also in Bifrost.  These are used in OpenStack CI.  This\nspecification covers creation of a new tool for managing virtual bare\nmetal clusters.\n\nTODO: Story/Task\n\nChange-Id: I05e38f97c64144932bb5113873df7f8bb0a3cffb\n'}, {'number': 2, 'created': '2018-07-04 12:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/6afc35da23292f8e15e26fb26b07658026620bb2', 'message': '[WIP]: Add virtual Bare Metal Clusters spec\n\nTesting Ironic has always been challenging.  Bare metal compute\nresources are expensive and inflexible.  The typical solution to this\nissue is to emulate bare metal compute resources using virtual machines\n(VMs), allowing us to improve the utilisation of test infrastructure,\nand test various scenarios using general purpose test infrastructure.\nSupport for creating virtual bare metal environments is available in\nDevStack, and also in Bifrost.  These are used in OpenStack CI.  This\nspecification covers creation of a new tool for managing virtual bare\nmetal clusters.\n\nTODO: Story/Task\n\nChange-Id: I05e38f97c64144932bb5113873df7f8bb0a3cffb\n'}, {'number': 3, 'created': '2018-08-17 14:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/b3e5ba232f78b17390d4cddc9779d6d47cf966c2', 'message': '[WIP]: Add virtual Bare Metal Clusters spec\n\nTesting Ironic has always been challenging.  Bare metal compute\nresources are expensive and inflexible.  The typical solution to this\nissue is to emulate bare metal compute resources using virtual machines\n(VMs), allowing us to improve the utilisation of test infrastructure,\nand test various scenarios using general purpose test infrastructure.\nSupport for creating virtual bare metal environments is available in\nDevStack, and also in Bifrost.  These are used in OpenStack CI.  This\nspecification covers creation of a new tool for managing virtual bare\nmetal clusters.\n\nStory: #2003484\nChange-Id: I05e38f97c64144932bb5113873df7f8bb0a3cffb\n'}, {'number': 4, 'created': '2018-08-17 15:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/fc2e45ef96eacee45139d83ae6e6db72de17783d', 'message': '[WIP]: Add virtual Bare Metal Clusters spec\n\nTesting Ironic has always been challenging.  Bare metal compute\nresources are expensive and inflexible.  The typical solution to this\nissue is to emulate bare metal compute resources using virtual machines\n(VMs), allowing us to improve the utilisation of test infrastructure,\nand test various scenarios using general purpose test infrastructure.\nSupport for creating virtual bare metal environments is available in\nDevStack, and also in Bifrost.  These are used in OpenStack CI.  This\nspecification covers creation of a new tool for managing virtual bare\nmetal clusters.\n\nStory: #2003484\nChange-Id: I05e38f97c64144932bb5113873df7f8bb0a3cffb\n'}, {'number': 5, 'created': '2018-08-17 15:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/56f6be89ff14f9865cd5888fc6a7e405e4a60e0e', 'message': '[WIP]: Add virtual Bare Metal Clusters spec\n\nTesting Ironic has always been challenging.  Bare metal compute\nresources are expensive and inflexible.  The typical solution to this\nissue is to emulate bare metal compute resources using virtual machines\n(VMs), allowing us to improve the utilisation of test infrastructure,\nand test various scenarios using general purpose test infrastructure.\nSupport for creating virtual bare metal environments is available in\nDevStack, and also in Bifrost.  These are used in OpenStack CI.  This\nspecification covers creation of a new tool for managing virtual bare\nmetal clusters.\n\nStory: #2003484\nChange-Id: I05e38f97c64144932bb5113873df7f8bb0a3cffb\n'}, {'number': 6, 'created': '2018-08-28 15:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/35383e1e6a471d7e83dc367354ea27ae8a3c580a', 'message': 'Add virtual Bare Metal Clusters spec\n\nTesting Ironic has always been challenging.  Bare metal compute\nresources are expensive and inflexible.  The typical solution to this\nissue is to emulate bare metal compute resources using virtual machines\n(VMs), allowing us to improve the utilisation of test infrastructure,\nand test various scenarios using general purpose test infrastructure.\nSupport for creating virtual bare metal environments is available in\nDevStack, and also in Bifrost.  These are used in OpenStack CI.  This\nspecification covers creation of a new tool for managing virtual bare\nmetal clusters.\n\nStory: #2003484\nTask: #2471\nChange-Id: I05e38f97c64144932bb5113873df7f8bb0a3cffb\n'}, {'number': 7, 'created': '2018-09-17 11:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/f759232ecb7017951adbf182492650981c2c86d4', 'message': 'Add virtual Bare Metal Clusters spec\n\nTesting Ironic has always been challenging.  Bare metal compute\nresources are expensive and inflexible.  The typical solution to this\nissue is to emulate bare metal compute resources using virtual machines\n(VMs), allowing us to improve the utilisation of test infrastructure,\nand test various scenarios using general purpose test infrastructure.\nSupport for creating virtual bare metal environments is available in\nDevStack, and also in Bifrost.  These are used in OpenStack CI.  This\nspecification covers creation of a new tool for managing virtual bare\nmetal clusters.\n\nStory: #2003484\nTask: #2471\nChange-Id: I05e38f97c64144932bb5113873df7f8bb0a3cffb\n'}, {'number': 8, 'created': '2018-09-17 12:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/876826f29373b734bd7a6a6230cd30ddd29a5543', 'message': 'Add virtual Bare Metal Clusters spec\n\nTesting Ironic has always been challenging.  Bare metal compute\nresources are expensive and inflexible.  The typical solution to this\nissue is to emulate bare metal compute resources using virtual machines\n(VMs), allowing us to improve the utilisation of test infrastructure,\nand test various scenarios using general purpose test infrastructure.\nSupport for creating virtual bare metal environments is available in\nDevStack, and also in Bifrost.  These are used in OpenStack CI.  This\nspecification covers creation of a new tool for managing virtual bare\nmetal clusters.\n\nStory: #2003484\nTask: #2471\nChange-Id: I05e38f97c64144932bb5113873df7f8bb0a3cffb\n'}, {'number': 9, 'created': '2018-09-18 13:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/52960953dc88228ca43d3fc6ed67d8ae7056e4c3', 'message': 'Add virtual Bare Metal Clusters spec\n\nTesting Ironic has always been challenging.  Bare metal compute\nresources are expensive and inflexible.  The typical solution to this\nissue is to emulate bare metal compute resources using virtual machines\n(VMs), allowing us to improve the utilisation of test infrastructure,\nand test various scenarios using general purpose test infrastructure.\nSupport for creating virtual bare metal environments is available in\nDevStack, and also in Bifrost.  These are used in OpenStack CI.  This\nspecification covers creation of a new tool for managing virtual bare\nmetal clusters.\n\nStory: #2003484\nTask: #2471\nChange-Id: I05e38f97c64144932bb5113873df7f8bb0a3cffb\n'}, {'number': 10, 'created': '2018-09-21 12:50:51.000000000', 'files': ['specs/approved/virtual-bare-metal-cluster-manager.rst', 'specs/not-implemented/virtual-bare-metal-cluster-manager.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/fa6b5e5e35a038158c16a0f6caaad41e5cdc965a', 'message': 'Add virtual Bare Metal Clusters spec\n\nTesting Ironic has always been challenging.  Bare metal compute\nresources are expensive and inflexible.  The typical solution to this\nissue is to emulate bare metal compute resources using virtual machines\n(VMs), allowing us to improve the utilisation of test infrastructure,\nand test various scenarios using general purpose test infrastructure.\nSupport for creating virtual bare metal environments is available in\nDevStack, and also in Bifrost.  These are used in OpenStack CI.  This\nspecification covers creation of a new tool for managing virtual bare\nmetal clusters.\n\nStory: #2003484\nTask: #2471\nChange-Id: I05e38f97c64144932bb5113873df7f8bb0a3cffb\n'}]",38,579583,fa6b5e5e35a038158c16a0f6caaad41e5cdc965a,46,8,10,14826,,,0,"Add virtual Bare Metal Clusters spec

Testing Ironic has always been challenging.  Bare metal compute
resources are expensive and inflexible.  The typical solution to this
issue is to emulate bare metal compute resources using virtual machines
(VMs), allowing us to improve the utilisation of test infrastructure,
and test various scenarios using general purpose test infrastructure.
Support for creating virtual bare metal environments is available in
DevStack, and also in Bifrost.  These are used in OpenStack CI.  This
specification covers creation of a new tool for managing virtual bare
metal clusters.

Story: #2003484
Task: #2471
Change-Id: I05e38f97c64144932bb5113873df7f8bb0a3cffb
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/83/579583/8 && git format-patch -1 --stdout FETCH_HEAD,"['specs/approved/virtual-bare-metal-cluster-manager.rst', 'specs/not-implemented/virtual-bare-metal-cluster-manager.rst']",2,a09ac753614a02ce48deb87d902adeeb291c9791,virtual-bare-metal-clusters,../approved/virtual-bare-metal-cluster-manager.rst,,178,0
openstack%2Fcookbook-openstack-identity~master~Ica3ef83deb983929736da8a59175ad6b9e774940,openstack/cookbook-openstack-identity,master,Ica3ef83deb983929736da8a59175ad6b9e774940,Add admin endpoint back,ABANDONED,2018-10-09 14:23:25.000000000,2018-10-17 13:34:47.000000000,,"[{'_account_id': 11109}, {'_account_id': 11915}, {'_account_id': 13252}, {'_account_id': 14790}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-09 14:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/91053baa98ba944c76c62f23b03668138121f90d', 'message': 'Add admin endpoint back\n\nThe admin endpoint has been removed along with its dedicated port (35357).\nThis state is inconsistent with other cookbooks which all have an\nadmin endpoint despite not having a dedicated port for it.\n\nThis changeset brings back the attributes related to the admin endpoint.\n\nChange-Id: Ica3ef83deb983929736da8a59175ad6b9e774940\n'}, {'number': 2, 'created': '2018-10-09 14:24:14.000000000', 'files': ['attributes/default.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/64af9498c4414ca114f07e4b1bfeccd5c7462883', 'message': 'Add admin endpoint back\n\nThe admin endpoint has been removed along with its dedicated port (35357).\nThis state is inconsistent with other cookbooks which all have an\nadmin endpoint despite not having a dedicated port for it.\n\nThis changeset brings back the attributes related to the admin endpoint.\n\nbackport: queens\n\nChange-Id: Ica3ef83deb983929736da8a59175ad6b9e774940\n'}]",0,609014,64af9498c4414ca114f07e4b1bfeccd5c7462883,10,5,2,11109,,,0,"Add admin endpoint back

The admin endpoint has been removed along with its dedicated port (35357).
This state is inconsistent with other cookbooks which all have an
admin endpoint despite not having a dedicated port for it.

This changeset brings back the attributes related to the admin endpoint.

backport: queens

Change-Id: Ica3ef83deb983929736da8a59175ad6b9e774940
",git fetch https://review.opendev.org/openstack/cookbook-openstack-identity refs/changes/14/609014/2 && git format-patch -1 --stdout FETCH_HEAD,['attributes/default.rb'],1,91053baa98ba944c76c62f23b03668138121f90d,admin_endpoint,%w(admin internal public).each do |ep_type| # host for openstack admin/internal/public identity endpoint # scheme for openstack admin/internal/public identity endpoint # port for openstack admin/internal/public identity endpoint # path for openstack admin/internal/public identity endpoint,%w(internal public).each do |ep_type| # host for openstack internal/public identity endpoint # scheme for openstack internal/public identity endpoint # port for openstack internal/public identity endpoint # path for openstack internal/public identity endpoint,5,5
openstack%2Fmonasca-api~master~I4378c50e598e5eea6ea982877229c26892ae024b,openstack/monasca-api,master,I4378c50e598e5eea6ea982877229c26892ae024b,Add reference to Monasca Board and Monasca Bugs,MERGED,2018-10-09 11:38:44.000000000,2018-10-17 13:18:39.000000000,2018-10-17 13:18:39.000000000,"[{'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2018-10-09 11:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/447d43488db2f98422c6f1bc04d80d17859bd55c', 'message': 'Add reference to bugs worklist and board\n\nChange-Id: I4378c50e598e5eea6ea982877229c26892ae024b\n'}, {'number': 2, 'created': '2018-10-16 14:19:43.000000000', 'files': ['doc/source/contributor/index.rst'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/fce1ad1a39bc18566cc9c727c78a4bb56b41941f', 'message': 'Add reference to Monasca Board and Monasca Bugs\n\nReferences to Monasca boards and worklists are added to contributor\ndocumentation at https://docs.openstack.org/monasca-api\n\nStory: 2004093\nTask: 27495\nChange-Id: I4378c50e598e5eea6ea982877229c26892ae024b\n'}]",1,608924,fce1ad1a39bc18566cc9c727c78a4bb56b41941f,11,4,2,16222,,,0,"Add reference to Monasca Board and Monasca Bugs

References to Monasca boards and worklists are added to contributor
documentation at https://docs.openstack.org/monasca-api

Story: 2004093
Task: 27495
Change-Id: I4378c50e598e5eea6ea982877229c26892ae024b
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/24/608924/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/index.rst'],1,447d43488db2f98422c6f1bc04d80d17859bd55c,608924,All open bugs can be found in this `WorklistBugs triaged in Stein release can be listed `here <https://storyboard.openstack.org/#!/worklist/467>`_. The progress of bug-fixing can be tracked in `this board <https://storyboard.openstack.org/#!/board/114>`_. ,Current bugs can be found in this `Worklist,7,1
openstack%2Fmonasca-log-api~master~I8adf533a9b4881c0bb0134ec706fc7ba328239fc,openstack/monasca-log-api,master,I8adf533a9b4881c0bb0134ec706fc7ba328239fc,Modify log-persister conf to support new index pattern,MERGED,2018-09-19 11:20:53.000000000,2018-10-17 13:18:37.000000000,2018-10-17 13:18:37.000000000,"[{'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 28062}]","[{'number': 1, 'created': '2018-09-19 11:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/a90b14127f91d4502ea248b73a3c2bb07900895a', 'message': 'Modify log-persister conf to support new index pattern\n\nStory: 2003458\nTask: 26555\nDepends-On: https://review.openstack.org/#/c/593602/\nChange-Id: I8adf533a9b4881c0bb0134ec706fc7ba328239fc\n'}, {'number': 2, 'created': '2018-10-17 10:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/6b3b8d1fae20e34e74cbaed204fac80df2ffa843', 'message': 'Modify log-persister conf to support new index pattern\n\nStory: 2003458\nTask: 26555\nDepends-On: https://review.openstack.org/#/c/593602/\nChange-Id: I8adf533a9b4881c0bb0134ec706fc7ba328239fc\n'}, {'number': 3, 'created': '2018-10-17 10:50:02.000000000', 'files': ['devstack/README.md', 'devstack/files/monasca-log-persister/persister.conf'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/50e7a3293f5c80e416244b5143a3075a0f0491e6', 'message': 'Modify log-persister conf to support new index pattern\n\nStory: 2003458\nTask: 26555\nDepends-On: https://review.openstack.org/#/c/593602/\nChange-Id: I8adf533a9b4881c0bb0134ec706fc7ba328239fc\n'}]",0,603657,50e7a3293f5c80e416244b5143a3075a0f0491e6,19,5,3,26141,,,0,"Modify log-persister conf to support new index pattern

Story: 2003458
Task: 26555
Depends-On: https://review.openstack.org/#/c/593602/
Change-Id: I8adf533a9b4881c0bb0134ec706fc7ba328239fc
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/57/603657/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/files/monasca-log-persister/persister.conf'],1,a90b14127f91d4502ea248b73a3c2bb07900895a,events-handler," index => ""logs-%{tenant}-%{index_date}"""," index => ""%{tenant}-%{index_date}""",1,1
openstack%2Fopenstack-helm~master~I064b4a16c2f9b86613c0a4180e77b48fa242ad95,openstack/openstack-helm,master,I064b4a16c2f9b86613c0a4180e77b48fa242ad95,Update Armada LMA manifest to include Elasticsearch S3 Repository,ABANDONED,2018-06-04 20:01:32.000000000,2018-10-17 13:18:26.000000000,,"[{'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-04 20:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6bf61784be939151c9b6bb2032b42043ddde9dea', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 2, 'created': '2018-06-06 15:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/32e5102287a98b223de9a7990bba83fbbf266ddd', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 3, 'created': '2018-06-06 17:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/40d60663fc43f42354c55ad7c66ada615eaa7128', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 4, 'created': '2018-06-10 12:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c168c201895bb48be7ee4366071b540f2a6e3466', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 5, 'created': '2018-06-12 18:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5c0b53e2930002a8a0c2f4a00712e1d752135aca', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 6, 'created': '2018-06-13 14:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/99c7582a82025835403e89d2d9db240976c5d4eb', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 7, 'created': '2018-06-14 14:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8cb8f1f328d4daa8c3ec5076acb5596652b7c625', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 8, 'created': '2018-06-26 12:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cc6d6c94758618b2ab8c42248482cdd6937d6158', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 9, 'created': '2018-07-03 20:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9782f33a0d2e01d41861083006e9c8a7f4b47dc2', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 10, 'created': '2018-07-06 14:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1feb9d64c7c305de986882d1ceac7cf2551539e4', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 11, 'created': '2018-07-11 13:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/910d52a270caa16c155d9d4cd7496cfd84e05444', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 12, 'created': '2018-07-24 15:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/29027453839bcae6ff7f266e330b47d58e0fe726', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 13, 'created': '2018-07-31 15:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ed1e8bd868977e4aa8c86f73085f31a7a766cf0b', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 14, 'created': '2018-08-01 23:07:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6478c3cb2a37b6f5c36f72a9dc2c8084a3612459', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 15, 'created': '2018-08-02 17:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8e3a47e9de6a3560298e0717a02d7ebc03bd8d6d', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/#/c/588352/\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 16, 'created': '2018-08-02 18:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/49ed36239b62c6c7e42ce8d35857bc1ee7078616', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/#/c/588352/\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 17, 'created': '2018-08-02 19:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f8c374cf1c4d778665363b96c147d20eeaac4eca', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/#/c/588352/\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 18, 'created': '2018-08-02 21:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0908f6ae73f2b2af1262363bb0c6e7e8829c3c53', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 19, 'created': '2018-08-21 20:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1607686cf7b67604cbc06609b48ee6036b59985f', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 20, 'created': '2018-08-22 18:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ca95b6abdce5df01f8a4c824b0702b16c67701ed', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 21, 'created': '2018-08-22 20:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6f37a1bbf48616e280be5d0cf5a05c27b992e46b', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 22, 'created': '2018-08-24 13:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/488447eec9322ce58b0bb879ba239326633cafb5', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 23, 'created': '2018-08-24 20:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d530f1935d05e53410e6de9b85998289db19b5fb', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 24, 'created': '2018-08-27 13:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e46d780c52b790b4e7fe66c65add6c93118229b3', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 25, 'created': '2018-09-04 14:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ea6cb1908fb85eed431cb2eee236092001aa01cd', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 26, 'created': '2018-09-04 15:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7dc12ce12789e621172ffc0bdeac517fa91ee5bd', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 27, 'created': '2018-09-21 14:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a7c7e3033d2c92d9f3b6086f70d9de3826bdd41e', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 28, 'created': '2018-10-02 13:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/707181517fa53cf8aa246c5d7aca8deb9b57c65d', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 29, 'created': '2018-10-02 13:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fbcdf33e17ce927fe270386cd7dc42e28e091d10', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 30, 'created': '2018-10-02 14:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bf045842e293af6f296348f4acd5b9065ca54b2d', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 31, 'created': '2018-10-02 17:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/657c34bdbda3fe1cc1785b26cc5816948ff92113', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 32, 'created': '2018-10-09 15:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/09ef928753381c82b55a784bbbb8638817e5ee85', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 33, 'created': '2018-10-15 14:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f5dac6e3b64ab8ef7d732587f0e98ca35ef8dadd', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 34, 'created': '2018-10-15 17:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f357ff63bccc0b03d1c71119aff4828d558547e2', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 35, 'created': '2018-10-15 17:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/257dce41841235fc252f3d7b5d5175e618451577', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 36, 'created': '2018-10-16 13:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f26c2c0044550bce6e5d302feea6ef6cffb066a1', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}, {'number': 37, 'created': '2018-10-16 14:18:55.000000000', 'files': ['tools/deployment/armada/manifests/armada-ceph.yaml', 'tools/deployment/armada/generate-passwords.sh', 'tools/deployment/armada/manifests/armada-lma.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a124cdf97371636e097a255a056fbc5f1f03bb38', 'message': 'Update Armada LMA manifest to include Elasticsearch S3 Repository\n\nThis enables the elasticsearch snapshot repository, which will\nuse the ceph radosgw s3 api to provision a s3 snapshot repository\nfor elasticsearch indices. It depends on the change that adds the\njobs required for leveraging the s3 api from openstack-helm-infra\n\nDepends-On: https://review.openstack.org/559417\nChange-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95\n'}]",0,572201,a124cdf97371636e097a255a056fbc5f1f03bb38,92,2,37,17591,,,0,"Update Armada LMA manifest to include Elasticsearch S3 Repository

This enables the elasticsearch snapshot repository, which will
use the ceph radosgw s3 api to provision a s3 snapshot repository
for elasticsearch indices. It depends on the change that adds the
jobs required for leveraging the s3 api from openstack-helm-infra

Depends-On: https://review.openstack.org/559417
Change-Id: I064b4a16c2f9b86613c0a4180e77b48fa242ad95
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/01/572201/11 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/armada/multinode/armada-lma.yaml'],1,6bf61784be939151c9b6bb2032b42043ddde9dea,armada/radosgw-s3, conf: elasticsearch: repository: enabled: true,,4,0
openstack%2Fnetworking-ovn~master~I31da7134d51665bbfe316b8a05cc34216420a4d0,openstack/networking-ovn,master,I31da7134d51665bbfe316b8a05cc34216420a4d0,Add support for Octavia Driver: Cascade Delete,MERGED,2018-09-27 10:08:28.000000000,2018-10-17 13:13:55.000000000,2018-10-17 13:13:55.000000000,"[{'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 10237}, {'_account_id': 17776}, {'_account_id': 21041}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-09-27 10:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e913b05e92d288ee0f7a8ea34ba623717d70ebd2', 'message': 'Add support for Cascade Delete\n\nThis patch adds the support for updating the DB during\nCascade deletion for LBs. Currently, the flows are deleted but\nthe status of the entities connected with the LBs are not cleared,\nthus causing an uneven status in the DB.\n\nChange-Id: I31da7134d51665bbfe316b8a05cc34216420a4d0\nCloses-Bug: #1793759\n'}, {'number': 2, 'created': '2018-10-01 08:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d62a454f135889c29bc918179aad354811900b22', 'message': 'Add support for Cascade Delete\n\nThis patch adds the support for updating the DB during\nCascade deletion for LBs. Currently, the flows are deleted but\nthe status of the entities connected with the LBs are not cleared,\nthus causing an uneven status in the DB.\n\nChange-Id: I31da7134d51665bbfe316b8a05cc34216420a4d0\nCloses-Bug: #1793759\n'}, {'number': 3, 'created': '2018-10-01 11:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ba755e6b4d977ffd68c68ae3dea26ec4278aa683', 'message': 'Add support for Cascade Delete\n\nThis patch adds the support for updating the DB during\nCascade deletion for LBs. Currently, the flows are deleted but\nthe status of the entities connected with the LBs are not cleared,\nthus causing an uneven status in the DB.\n\nChange-Id: I31da7134d51665bbfe316b8a05cc34216420a4d0\nCloses-Bug: #1793759\n'}, {'number': 4, 'created': '2018-10-02 09:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b8ffd865d6afc6dca3ced27a3321942f061dec38', 'message': 'Add support for Cascade Delete\n\nThis patch adds the support for updating the DB during\nCascade deletion for LBs. Currently, the flows are deleted but\nthe status of the entities connected with the LBs are not cleared,\nthus causing an uneven status in the DB.\n\nChange-Id: I31da7134d51665bbfe316b8a05cc34216420a4d0\nCloses-Bug: #1793759\n'}, {'number': 5, 'created': '2018-10-02 16:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6a408cf82d820821832d5bd2a216666623a545aa', 'message': 'Add support for Octavia Driver: Cascade Delete\n\nThis patch adds the support for updating the DB during\nCascade deletion for LBs. Currently, the flows are deleted but\nthe status of the entities connected with the LBs are not cleared,\nthus causing an uneven status in the DB.\n\nChange-Id: I31da7134d51665bbfe316b8a05cc34216420a4d0\nCloses-Bug: #1793759\n'}, {'number': 6, 'created': '2018-10-03 07:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6243ca27409f10f89cf63fc5da5d44b8767472d8', 'message': 'Add support for Octavia Driver: Cascade Delete\n\nThis patch adds the support for updating the DB during\nCascade deletion for LBs. Currently, the flows are deleted but\nthe status of the entities connected with the LBs are not cleared,\nthus causing an uneven status in the DB.\n\nChange-Id: I31da7134d51665bbfe316b8a05cc34216420a4d0\nCloses-Bug: #1793759\n'}, {'number': 7, 'created': '2018-10-15 05:34:31.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/functional/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/10336e42ff141eacb73df8059cdb362d041fd866', 'message': 'Add support for Octavia Driver: Cascade Delete\n\nThis patch adds the support for updating the DB during\nCascade deletion for LBs. Currently, the flows are deleted but\nthe status of the entities connected with the LBs are not cleared,\nthus causing an uneven status in the DB.\n\nChange-Id: I31da7134d51665bbfe316b8a05cc34216420a4d0\nCloses-Bug: #1793759\n'}]",15,605636,10336e42ff141eacb73df8059cdb362d041fd866,57,9,7,17776,,,0,"Add support for Octavia Driver: Cascade Delete

This patch adds the support for updating the DB during
Cascade deletion for LBs. Currently, the flows are deleted but
the status of the entities connected with the LBs are not cleared,
thus causing an uneven status in the DB.

Change-Id: I31da7134d51665bbfe316b8a05cc34216420a4d0
Closes-Bug: #1793759
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/36/605636/7 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/functional/octavia/test_ovn_driver.py']",2,e913b05e92d288ee0f7a8ea34ba623717d70ebd2,bug/1793759," def _delete_load_balancer_and_validate(self, lb_data, cascade=False): self.ovn_driver.loadbalancer_delete(lb_data['model'], cascade) if cascade: expected_status['pools'] = [] expected_status['members'] = [] expected_status['listeners'] = [] for pool in lb_data['pools']: expected_status['pools'].append({ 'id': pool.pool_id, 'provisioning_status': 'DELETED'}) for member in pool.members: expected_status['members'].append({ ""id"": member.member_id, ""provisioning_status"": ""DELETED""}) for listener in lb_data['listeners']: expected_status['listeners'].append({ ""id"": listener.listener_id, ""provisioning_status"": ""DELETED"", ""operating_status"": ""OFFLINE""}) for key in list(expected_status): if not expected_status[key]: del expected_status[key] m_info = 'member_' + m.member_id + '_' + m.address m_info += "":"" + str(m.protocol_port) def test_cascade_delete(self): lb_data = self._create_load_balancer_and_validate( {'vip_network': 'vip_network', 'cidr': '10.0.0.0/24'}) self._create_pool_and_validate(lb_data, ""p1"") pool_id = lb_data['pools'][0].pool_id self._create_member_and_validate( lb_data, pool_id, lb_data['vip_net_info'][1], lb_data['vip_net_info'][0], '10.0.0.10') net_info = self._create_net('net1', '20.0.0.0/24') self._create_member_and_validate(lb_data, pool_id, net_info[1], net_info[0], '20.0.0.4') self._delete_load_balancer_and_validate(lb_data, cascade=True) "," def _delete_load_balancer_and_validate(self, lb_data): self.ovn_driver.loadbalancer_delete(lb_data['model']) m_info = m.address + "":"" + str(m.protocol_port)",82,11
openstack%2Fkolla~stable%2Fqueens~I5f18bd4bfe1243d79e4ee8ce56475e6c7c7cc986,openstack/kolla,stable/queens,I5f18bd4bfe1243d79e4ee8ce56475e6c7c7cc986,openvswitch: make ovs-tcpdump usable,MERGED,2018-09-24 14:04:08.000000000,2018-10-17 13:10:42.000000000,2018-10-17 13:10:42.000000000,"[{'_account_id': 167}, {'_account_id': 13039}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 29051}]","[{'number': 1, 'created': '2018-09-24 14:04:08.000000000', 'files': ['docker/openvswitch/openvswitch-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/18e6842285e167f493d73808e90d2bd7117f5975', 'message': 'openvswitch: make ovs-tcpdump usable\n\nChange-Id: I5f18bd4bfe1243d79e4ee8ce56475e6c7c7cc986\nImplements: blueprint ovs-tcpdump\n(cherry picked from commit f5c2f3d97cdb68a51aa22002d92fe250ff3ebc07)\n'}]",0,604792,18e6842285e167f493d73808e90d2bd7117f5975,9,5,1,29051,,,0,"openvswitch: make ovs-tcpdump usable

Change-Id: I5f18bd4bfe1243d79e4ee8ce56475e6c7c7cc986
Implements: blueprint ovs-tcpdump
(cherry picked from commit f5c2f3d97cdb68a51aa22002d92fe250ff3ebc07)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/92/604792/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/openvswitch/openvswitch-base/Dockerfile.j2'],1,18e6842285e167f493d73808e90d2bd7117f5975,bp/ovs-tcpdump-stable/queens," {% set openvswitch_base_packages = [ 'openvswitch', 'python-netifaces', 'python-openvswitch', 'tcpdump' ] %} {% set openvswitch_base_packages = [ 'openvswitch-switch', 'python-openvswitch', 'python-netifaces', 'tcpdump' ] %}RUN mv /usr/sbin/tcpdump /usr/bin/tcpdump \ && touch /usr/local/bin/kolla_openvswitch_extend_start \", {% set openvswitch_base_packages = ['openvswitch'] %} {% set openvswitch_base_packages = ['openvswitch-switch'] %}RUN touch /usr/local/bin/kolla_openvswitch_extend_start \,14,3
openstack%2Fkolla~stable%2Fpike~I463e7a15e096fed0b849de4122727284b0c7cfa2,openstack/kolla,stable/pike,I463e7a15e096fed0b849de4122727284b0c7cfa2,designate: remove trailing continuation on RUN line,MERGED,2018-10-11 17:50:33.000000000,2018-10-17 13:10:41.000000000,2018-10-17 13:10:41.000000000,"[{'_account_id': 14826}, {'_account_id': 16282}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-10-11 17:50:33.000000000', 'files': ['docker/designate/designate-backend-bind9/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/34493a7c7ff5b34a86ce04f15678d50784e5bfa3', 'message': 'designate: remove trailing continuation on RUN line\n\nin change I06de60a35bc2c046bbdf4f43df8bd7b4a98de34a the commit had\nan extra tailing line contunation on the the last RUN command\n\nChange-Id: I463e7a15e096fed0b849de4122727284b0c7cfa2\n(cherry picked from commit 075a13402e8c5d16418765ecdfb79c099df92ee2)\n'}]",0,609775,34493a7c7ff5b34a86ce04f15678d50784e5bfa3,7,4,1,167,,,0,"designate: remove trailing continuation on RUN line

in change I06de60a35bc2c046bbdf4f43df8bd7b4a98de34a the commit had
an extra tailing line contunation on the the last RUN command

Change-Id: I463e7a15e096fed0b849de4122727284b0c7cfa2
(cherry picked from commit 075a13402e8c5d16418765ecdfb79c099df92ee2)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/75/609775/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/designate/designate-backend-bind9/Dockerfile.j2'],1,34493a7c7ff5b34a86ce04f15678d50784e5bfa3,, && chmod 755 /run/{{ designate_backend_bind_name }}, && chmod 755 /run/{{ designate_backend_bind_name }} \,1,1
openstack%2Fopenstack-ansible-os_ceilometer~master~I7fd7a949724f4fa52fa48534a6ef6c8a8efdc290,openstack/openstack-ansible-os_ceilometer,master,I7fd7a949724f4fa52fa48534a6ef6c8a8efdc290,Distro-install tests for Ubuntu and Centos are voting now.,MERGED,2018-10-13 17:32:19.000000000,2018-10-17 12:54:08.000000000,2018-10-17 12:54:07.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-13 17:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/52a6afd9896cb434a774ef2ff84a239d35d8e7c9', 'message': 'All distr-install tests are voting now.\n\nAdded small fixes to make them working.\nCentos has gnocchi_resources.yaml packed with ceilometer-common package,\nso test was failing on db_setup task.\n\nAlso ceilometer user was not created, as it checks for existance of\nceilometer_central_container group, which was not defined in inventory.\n\nChange-Id: I7fd7a949724f4fa52fa48534a6ef6c8a8efdc290\n'}, {'number': 2, 'created': '2018-10-13 17:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/866f7e147848e93a84fe7ff1c1c97767dade7a80', 'message': 'All distro-install tests are voting now.\n\nAdded small fixes to make them working.\nCentos has gnocchi_resources.yaml packed with ceilometer-common package,\nso test was failing on db_setup task.\n\nAlso ceilometer user was not created, as it checks for existance of\nceilometer_central_container group, which was not defined in inventory.\n\nChange-Id: I7fd7a949724f4fa52fa48534a6ef6c8a8efdc290\n'}, {'number': 3, 'created': '2018-10-16 10:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/17b0383a1105218060c3118b95a25ed43df863c5', 'message': 'All distro-install tests are voting now.\n\nAdded small fixes to make them working.\nCentos has gnocchi_resources.yaml packed with ceilometer-common package,\nso test was failing on db_setup task.\n\nAlso ceilometer user was not created, as it checks for existance of\nceilometer_central_container group, which was not defined in inventory.\n\nChange-Id: I7fd7a949724f4fa52fa48534a6ef6c8a8efdc290\n'}, {'number': 4, 'created': '2018-10-17 09:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/37be7c1eca0e0134feeb5c6e31295d96f679260f', 'message': 'All distro-install tests are voting now.\n\nAdded small fixes to make them working.\nCentos has gnocchi_resources.yaml packed with ceilometer-common package,\nso test was failing on db_setup task.\n\nAlso ceilometer user was not created, as it checks for existance of\nceilometer_central_container group, which was not defined in inventory.\n\nChange-Id: I7fd7a949724f4fa52fa48534a6ef6c8a8efdc290\n'}, {'number': 5, 'created': '2018-10-17 09:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/283bde6db08095128ac61a4517c9b2217b32933a', 'message': 'All distro-install tests are voting now.\n\nAdded small fixes to make them working.\nCentos has gnocchi_resources.yaml packed with ceilometer-common package,\nso test was failing on db_setup task.\n\nAlso ceilometer user was not created, as it checks for existance of\nceilometer_central_container group, which was not defined in inventory.\n\nChange-Id: I7fd7a949724f4fa52fa48534a6ef6c8a8efdc290\n'}, {'number': 6, 'created': '2018-10-17 09:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/258943e8cb9903fe0d85e7972db88170150aa0c4', 'message': 'Distro-install tests for Ubuntu and Centos are voting now.\n\nOpensuse 15 was marked as non-voting due to problems with template.\n\nAdded small fixes to make them working.\nCentos has gnocchi_resources.yaml packed with ceilometer-common package,\nso test was failing on db_setup task.\n\nAlso ceilometer user was not created, as it checks for existance of\nceilometer_central_container group, which was not defined in inventory.\n\nChange-Id: I7fd7a949724f4fa52fa48534a6ef6c8a8efdc290\n'}, {'number': 7, 'created': '2018-10-17 10:05:36.000000000', 'files': ['tests/inventory', 'tasks/ceilometer_db_setup.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/98c3f7e51d2c1c23457fc16cd2da6ef97fcffab1', 'message': 'Distro-install tests for Ubuntu and Centos are voting now.\n\nThis patch makes available to completely move to zuul templates,\nby adding openstack-ansible-role-distro_install-jobs into list.\n\nAdded small fixes to make them working.\nCentos has gnocchi_resources.yaml packed with ceilometer-common package,\nso test was failing on db_setup task.\n\nAlso ceilometer user was not created, as it checks for existance of\nceilometer_central_container group, which was not defined in inventory.\n\nChange-Id: I7fd7a949724f4fa52fa48534a6ef6c8a8efdc290\n'}]",1,610274,98c3f7e51d2c1c23457fc16cd2da6ef97fcffab1,20,5,7,28619,,,0,"Distro-install tests for Ubuntu and Centos are voting now.

This patch makes available to completely move to zuul templates,
by adding openstack-ansible-role-distro_install-jobs into list.

Added small fixes to make them working.
Centos has gnocchi_resources.yaml packed with ceilometer-common package,
so test was failing on db_setup task.

Also ceilometer user was not created, as it checks for existance of
ceilometer_central_container group, which was not defined in inventory.

Change-Id: I7fd7a949724f4fa52fa48534a6ef6c8a8efdc290
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/74/610274/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/inventory', 'tasks/ceilometer_db_setup.yml', 'zuul.d/project.yaml']",3,52a6afd9896cb434a774ef2ff84a239d35d8e7c9,, - openstack-ansible-functional-distro_install-ubuntu-xenial - openstack-ansible-functional-distro_install-ubuntu-bionic - openstack-ansible-functional-distro_install-centos-7," # NOTE(odyssey4me): # Distro installs are not yet working for xenial/bionic, # so leave them non-voting for now. - openstack-ansible-functional-distro_install-ubuntu-xenial: voting: false # NOTE(hwoarang) Centos7 is having some troubles with repo dependencies # so disabling until it's investigated. - openstack-ansible-functional-distro_install-centos-7: voting: false",9,10
openstack%2Fopenstack-ansible-os_barbican~master~I4fab1baa0260c4aed85ba2907c3838320644b222,openstack/openstack-ansible-os_barbican,master,I4fab1baa0260c4aed85ba2907c3838320644b222,Zuul: Use  openstack-ansible-role-distro_install-jobs template,MERGED,2018-10-10 07:14:51.000000000,2018-10-17 12:46:56.000000000,2018-10-17 12:46:56.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-10 07:14:51.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/63e400dda815cc0060645f580d1ab89cd6a57b23', 'message': 'Zuul: Use  openstack-ansible-role-distro_install-jobs template\n\nUse the template instead of individual jobs so that we can easily\nupdat the template as new jobs become available.\n\nThe template has the same content as the jobs removed.\n\nChange-Id: I4fab1baa0260c4aed85ba2907c3838320644b222\n'}]",0,609285,63e400dda815cc0060645f580d1ab89cd6a57b23,8,2,1,6547,,,0,"Zuul: Use  openstack-ansible-role-distro_install-jobs template

Use the template instead of individual jobs so that we can easily
updat the template as new jobs become available.

The template has the same content as the jobs removed.

Change-Id: I4fab1baa0260c4aed85ba2907c3838320644b222
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/85/609285/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,63e400dda815cc0060645f580d1ab89cd6a57b23,update-zuul, - openstack-ansible-role-distro_install-jobs - openstack-ansible-role-jobs, - openstack-ansible-role-jobs check: jobs: - openstack-ansible-functional-distro_install-ubuntu-xenial - openstack-ansible-functional-distro_install-centos-7 - openstack-ansible-functional-distro_install-opensuse-423 - openstack-ansible-functional-distro_install-opensuse-150 gate: jobs: - openstack-ansible-functional-distro_install-ubuntu-xenial - openstack-ansible-functional-distro_install-centos-7 - openstack-ansible-functional-distro_install-opensuse-423 - openstack-ansible-functional-distro_install-opensuse-150,2,13
openstack%2Fopenstack-ansible-os_designate~master~I50f05b347b23cae308ed7a70722743d074b30a05,openstack/openstack-ansible-os_designate,master,I50f05b347b23cae308ed7a70722743d074b30a05,Zuul: Use openstack-ansible-role-distro_install-jobs template,MERGED,2018-10-10 07:16:10.000000000,2018-10-17 12:42:36.000000000,2018-10-17 12:42:36.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-10 07:16:10.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/72447d7ed85e47438125c35b8174ba60ab27d953', 'message': 'Zuul: Use openstack-ansible-role-distro_install-jobs template\n\nUse the template instead of individual jobs so that we can easily\nupdat the template as new jobs become available.\n\nThe template has the same content as the jobs removed.\n\nChange-Id: I50f05b347b23cae308ed7a70722743d074b30a05\n'}]",0,609286,72447d7ed85e47438125c35b8174ba60ab27d953,8,2,1,6547,,,0,"Zuul: Use openstack-ansible-role-distro_install-jobs template

Use the template instead of individual jobs so that we can easily
updat the template as new jobs become available.

The template has the same content as the jobs removed.

Change-Id: I50f05b347b23cae308ed7a70722743d074b30a05
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/86/609286/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,72447d7ed85e47438125c35b8174ba60ab27d953,update-zuul, - openstack-ansible-role-distro_install-jobs - openstack-ansible-role-jobs, - openstack-ansible-role-jobs check: jobs: - openstack-ansible-functional-distro_install-ubuntu-xenial - openstack-ansible-functional-distro_install-centos-7 - openstack-ansible-functional-distro_install-opensuse-423 - openstack-ansible-functional-distro_install-opensuse-150 gate: jobs: - openstack-ansible-functional-distro_install-ubuntu-xenial - openstack-ansible-functional-distro_install-centos-7 - openstack-ansible-functional-distro_install-opensuse-423 - openstack-ansible-functional-distro_install-opensuse-150,2,13
openstack%2Fopenstack-ansible-os_horizon~master~Iaffa2353ae9af602cfe676e66868c5cb3402efda,openstack/openstack-ansible-os_horizon,master,Iaffa2353ae9af602cfe676e66868c5cb3402efda,Zuul: Use openstack-ansible-role-distro_install-jobs template,MERGED,2018-10-10 07:18:05.000000000,2018-10-17 12:41:25.000000000,2018-10-17 12:41:25.000000000,"[{'_account_id': 6816}, {'_account_id': 19307}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-10 07:18:05.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/4ba38f5184f7f58a67cf52f4ca6d34c53bf08868', 'message': 'Zuul: Use openstack-ansible-role-distro_install-jobs template\n\nUse the template instead of individual jobs so that we can easily\nupdat the template as new jobs become available.\n\nThe template has the same content as the jobs removed.\n\nChange-Id: Iaffa2353ae9af602cfe676e66868c5cb3402efda\n'}]",0,609288,4ba38f5184f7f58a67cf52f4ca6d34c53bf08868,9,3,1,6547,,,0,"Zuul: Use openstack-ansible-role-distro_install-jobs template

Use the template instead of individual jobs so that we can easily
updat the template as new jobs become available.

The template has the same content as the jobs removed.

Change-Id: Iaffa2353ae9af602cfe676e66868c5cb3402efda
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/88/609288/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,4ba38f5184f7f58a67cf52f4ca6d34c53bf08868,update-zuul, - openstack-ansible-role-distro_install-jobs - openstack-ansible-role-jobs, - openstack-ansible-role-jobs check: jobs: - openstack-ansible-functional-distro_install-centos-7 - openstack-ansible-functional-distro_install-opensuse-423 - openstack-ansible-functional-distro_install-opensuse-150 - openstack-ansible-functional-distro_install-ubuntu-xenial gate: jobs: - openstack-ansible-functional-distro_install-centos-7 - openstack-ansible-functional-distro_install-opensuse-423 - openstack-ansible-functional-distro_install-opensuse-150 - openstack-ansible-functional-distro_install-ubuntu-xenial,2,13
openstack%2Fopenstack-ansible-os_glance~master~I5878fd6fed09c280b1050fafae13b89db00270b0,openstack/openstack-ansible-os_glance,master,I5878fd6fed09c280b1050fafae13b89db00270b0,Zuul: Use openstack-ansible-role-distro_install-jobs template,MERGED,2018-10-10 07:17:01.000000000,2018-10-17 12:38:54.000000000,2018-10-17 12:38:54.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-10 07:17:01.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/dbc0fec36f849c39c5277ebbc386040da6930c33', 'message': 'Zuul: Use openstack-ansible-role-distro_install-jobs template\n\nUse the template instead of individual jobs so that we can easily\nupdat the template as new jobs become available.\n\nThe template has the same content as the jobs removed.\n\nChange-Id: I5878fd6fed09c280b1050fafae13b89db00270b0\n'}]",0,609287,dbc0fec36f849c39c5277ebbc386040da6930c33,8,2,1,6547,,,0,"Zuul: Use openstack-ansible-role-distro_install-jobs template

Use the template instead of individual jobs so that we can easily
updat the template as new jobs become available.

The template has the same content as the jobs removed.

Change-Id: I5878fd6fed09c280b1050fafae13b89db00270b0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/87/609287/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,dbc0fec36f849c39c5277ebbc386040da6930c33,update-zuul, - openstack-ansible-role-distro_install-jobs - openstack-ansible-role-jobs, - openstack-ansible-role-jobs - openstack-ansible-functional-distro_install-ubuntu-xenial - openstack-ansible-functional-distro_install-centos-7 - openstack-ansible-functional-distro_install-opensuse-423 - openstack-ansible-functional-distro_install-opensuse-150 - openstack-ansible-functional-distro_install-ubuntu-xenial - openstack-ansible-functional-distro_install-centos-7 - openstack-ansible-functional-distro_install-opensuse-423 - openstack-ansible-functional-distro_install-opensuse-150,2,9
openstack%2Ffreezer-tempest-plugin~master~I065bca024647014923f8b2b834417b415463253a,openstack/freezer-tempest-plugin,master,I065bca024647014923f8b2b834417b415463253a,Update tox.ini,MERGED,2018-10-15 08:30:46.000000000,2018-10-17 12:36:13.000000000,2018-10-17 12:36:13.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2018-10-15 08:30:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/ce2f28a299c2d5dc8e927bd82525fbbd8e91529d', 'message': 'Update tox.ini\n\nRemoved py34, py27 and pypy from the tox.ini envlist since\nthere are no unit tests,  and tox reports it skipped all tests.\n\nChange-Id: I065bca024647014923f8b2b834417b415463253a\n'}]",0,610452,ce2f28a299c2d5dc8e927bd82525fbbd8e91529d,9,3,1,21069,,,0,"Update tox.ini

Removed py34, py27 and pypy from the tox.ini envlist since
there are no unit tests,  and tox reports it skipped all tests.

Change-Id: I065bca024647014923f8b2b834417b415463253a
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/52/610452/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ce2f28a299c2d5dc8e927bd82525fbbd8e91529d,,envlist = pep8,"envlist = py34,py27,pypy,pep8",1,1
openstack%2Fopenstack-ansible-os_aodh~master~Ic83b32df707850ce6fd29a0f12640e401f8a56b0,openstack/openstack-ansible-os_aodh,master,Ic83b32df707850ce6fd29a0f12640e401f8a56b0,Zuul: Use  openstack-ansible-role-distro_install-jobs template,MERGED,2018-10-10 07:13:33.000000000,2018-10-17 12:36:06.000000000,2018-10-17 12:36:06.000000000,"[{'_account_id': 6547}, {'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-10 07:13:33.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/06d02afb118de65aa92cd6f7d8d3724a6802b34c', 'message': 'Zuul: Use  openstack-ansible-role-distro_install-jobs template\n\nUse the template instead of individual jobs so that we can easily\nupdat the template as new jobs become available.\n\nThe template has the same content as the jobs removed.\n\nChange-Id: Ic83b32df707850ce6fd29a0f12640e401f8a56b0\n'}]",0,609284,06d02afb118de65aa92cd6f7d8d3724a6802b34c,12,3,1,6547,,,0,"Zuul: Use  openstack-ansible-role-distro_install-jobs template

Use the template instead of individual jobs so that we can easily
updat the template as new jobs become available.

The template has the same content as the jobs removed.

Change-Id: Ic83b32df707850ce6fd29a0f12640e401f8a56b0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/84/609284/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,06d02afb118de65aa92cd6f7d8d3724a6802b34c,update-zuul, - openstack-ansible-role-distro_install-jobs - openstack-ansible-role-jobs, - openstack-ansible-role-jobs check: jobs: - openstack-ansible-functional-distro_install-ubuntu-xenial - openstack-ansible-functional-distro_install-centos-7 - openstack-ansible-functional-distro_install-opensuse-423 - openstack-ansible-functional-distro_install-opensuse-150 gate: jobs: - openstack-ansible-functional-distro_install-ubuntu-xenial - openstack-ansible-functional-distro_install-centos-7 - openstack-ansible-functional-distro_install-opensuse-423 - openstack-ansible-functional-distro_install-opensuse-150,2,13
openstack%2Fmonasca-specs~master~I04c05c49c5f853fa32d16e08e4c2ae4e77bad9d6,openstack/monasca-specs,master,I04c05c49c5f853fa32d16e08e4c2ae4e77bad9d6,Fix list formatting,MERGED,2018-10-12 08:54:58.000000000,2018-10-17 12:30:52.000000000,2018-10-17 12:30:51.000000000,"[{'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2018-10-12 08:54:58.000000000', 'files': ['specs/stein/approved/upgrade-kafka-client.rst'], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/50f4bcc1236767dae38411533c8e01ffed55a47d', 'message': 'Fix list formatting\n\nChange-Id: I04c05c49c5f853fa32d16e08e4c2ae4e77bad9d6\n'}]",0,609969,50f4bcc1236767dae38411533c8e01ffed55a47d,7,3,1,16222,,,0,"Fix list formatting

Change-Id: I04c05c49c5f853fa32d16e08e4c2ae4e77bad9d6
",git fetch https://review.opendev.org/openstack/monasca-specs refs/changes/69/609969/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/approved/upgrade-kafka-client.rst'],1,50f4bcc1236767dae38411533c8e01ffed55a47d,,"* implement common routines in ``monasca-common`` * use new code in: * ``monasca-{log,events}-api`` * ``monasca-persister`` * ``monasca-notification`` * ``monasca-transform`` ","* implement common routines in `monasca-common` * use new code in: * monasca-{log,events}-api * monasca-persister * monasca-notification * monasca-transform",7,5
openstack%2Fcharm-glance-simplestreams-sync~master~I8019e6771488b764b78f1fed8b3e9b6b65fc02fa,openstack/charm-glance-simplestreams-sync,master,I8019e6771488b764b78f1fed8b3e9b6b65fc02fa,add service account for glance-simplestreams-sync,ABANDONED,2018-06-20 19:18:07.000000000,2018-10-17 12:30:41.000000000,,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-20 19:18:07.000000000', 'files': ['scripts/glance-simplestreams-sync.sh'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/86398badd82a1026ae7208334099154b16070eea', 'message': 'add service account for glance-simplestreams-sync\n\nThe glance-simplestreams-sync cron job was being run by the root user.\nBest practice suggests that the root user should not be used unless\nnecessary, so a gss service account is created with sudo privileges in\norder to comply with this concern.\n\nThis commit cannot be said to close the existing bug, as smoke tests do\n not currently pass (although just running tox for unit tests passes),\nso this will need to be addressed in a subsequent commit.\n\nChange-Id: I8019e6771488b764b78f1fed8b3e9b6b65fc02fa\nRelated-Bug: 1771977\n'}]",2,576943,86398badd82a1026ae7208334099154b16070eea,5,3,1,28060,,,0,"add service account for glance-simplestreams-sync

The glance-simplestreams-sync cron job was being run by the root user.
Best practice suggests that the root user should not be used unless
necessary, so a gss service account is created with sudo privileges in
order to comply with this concern.

This commit cannot be said to close the existing bug, as smoke tests do
 not currently pass (although just running tox for unit tests passes),
so this will need to be addressed in a subsequent commit.

Change-Id: I8019e6771488b764b78f1fed8b3e9b6b65fc02fa
Related-Bug: 1771977
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/43/576943/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/glance-simplestreams-sync.sh'],1,86398badd82a1026ae7208334099154b16070eea,bug/1771977,useradd -r gss usermod -aG sudo gss su - gss sudo test -f /home/ubuntu/.juju-proxy && source /home/ubuntu/.juju-proxy sudo exec /usr/share/glance-simplestreams-sync/glance-simplestreams-sync.py,test -f /home/ubuntu/.juju-proxy && source /home/ubuntu/.juju-proxy exec /usr/share/glance-simplestreams-sync/glance-simplestreams-sync.py,5,2
openstack%2Fpuppet-glance~master~I27fa7d81014b115da65ec915802c118763e4df4a,openstack/puppet-glance,master,I27fa7d81014b115da65ec915802c118763e4df4a,Update min tox version to 2.0,MERGED,2018-10-16 03:43:28.000000000,2018-10-17 12:24:56.000000000,2018-10-17 12:24:56.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-16 03:43:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/98fe69e6cccf816de8f74980e7a6286e469d4ce3', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: I27fa7d81014b115da65ec915802c118763e4df4a\n'}]",0,610866,98fe69e6cccf816de8f74980e7a6286e469d4ce3,22,5,1,9414,,,0,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.  Update to
reflect reality, which should help with local running of constraints
targets.

Change-Id: I27fa7d81014b115da65ec915802c118763e4df4a
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/66/610866/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,98fe69e6cccf816de8f74980e7a6286e469d4ce3,update-tox-version,minversion = 2.0,minversion = 1.6,1,1
openstack%2Floci~master~I8746229bb86d08c17e51bccb68564a9dc2ad8260,openstack/loci,master,I8746229bb86d08c17e51bccb68564a9dc2ad8260,Add OSH bindep file,ABANDONED,2018-09-12 22:27:55.000000000,2018-10-17 12:17:01.000000000,,"[{'_account_id': 7822}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-12 22:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/7ba88b802efa42ebdc2481d6af1429aef5913536', 'message': 'Add OSH bindep file\n\nThis adds OpenStack-Helm bindep file.\n\nThe current use case is:\n- allow utils to include iproute2 package so it can be used\n  perform readinessProbe.\n- remove the need to carry in openstack-helm a list of packages\n  to add for deployment needs.\n\nChange-Id: I8746229bb86d08c17e51bccb68564a9dc2ad8260\n'}, {'number': 2, 'created': '2018-09-12 22:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/240a34e153220fa50cce2e8dfa574bcf5955fc3e', 'message': 'Add OSH bindep file\n\nThis adds OpenStack-Helm bindep file.\n\nThe current use case is:\n- allow utils to include iproute2 package so it can be used\n  perform readinessProbe.\n- remove the need to carry in openstack-helm a list of packages\n  to add in image building [1][2][3].\n\n[1]: https://github.com/openstack/openstack-helm/blob/64cb013dff3bc6181eb01f2bcb737a83b296b96b/tools/images/openstack/pike/loci.sh#L47\n[2]: https://github.com/openstack/openstack-helm/blob/64cb013dff3bc6181eb01f2bcb737a83b296b96b/tools/images/openstack/pike/loci.sh#L103\n[3]: https://github.com/openstack/openstack-helm/blob/64cb013dff3bc6181eb01f2bcb737a83b296b96b/tools/images/openstack/pike/loci.sh#L170\n\nChange-Id: I8746229bb86d08c17e51bccb68564a9dc2ad8260\n'}, {'number': 3, 'created': '2018-10-11 07:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/05cfd2e384ac869896f95af30ecd7ce126184149', 'message': 'Add OSH bindep file\n\nThis adds OpenStack-Helm bindep file.\n\nThe current use case is:\n- allow utils to include iproute2 package so it can be used\n  perform readinessProbe.\n- remove the need to carry in openstack-helm a list of packages\n  to add in image building [1][2][3].\n\n[1]: https://github.com/openstack/openstack-helm/blob/64cb013dff3bc6181eb01f2bcb737a83b296b96b/tools/images/openstack/pike/loci.sh#L47\n[2]: https://github.com/openstack/openstack-helm/blob/64cb013dff3bc6181eb01f2bcb737a83b296b96b/tools/images/openstack/pike/loci.sh#L103\n[3]: https://github.com/openstack/openstack-helm/blob/64cb013dff3bc6181eb01f2bcb737a83b296b96b/tools/images/openstack/pike/loci.sh#L170\n\nChange-Id: I8746229bb86d08c17e51bccb68564a9dc2ad8260\n'}, {'number': 4, 'created': '2018-10-11 07:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/f8ee26aa4322f950d117b5ca28fc15dd6d7ff5ad', 'message': 'Add OSH bindep file\n\nThis adds an OpenStack-Helm bindep file in the LOCI tree.\n\nThe current use case is:\n- allow utils to include iproute2 package so it can be used\n  perform readinessProbe. No extra profile for OSH need to be added\n  in LOCI if we can provide an OSH bindep file as build argument.\n- remove the need to carry in openstack-helm a list of packages\n  to add in image building [1][2][3]. Luckily enough for me,\n  those packages have the same name for openSUSE, CentOS, and Ubuntu.\n\n[1]: https://github.com/openstack/openstack-helm/blob/64cb013dff3bc6181eb01f2bcb737a83b296b96b/tools/images/openstack/pike/loci.sh#L47\n[2]: https://github.com/openstack/openstack-helm/blob/64cb013dff3bc6181eb01f2bcb737a83b296b96b/tools/images/openstack/pike/loci.sh#L103\n[3]: https://github.com/openstack/openstack-helm/blob/64cb013dff3bc6181eb01f2bcb737a83b296b96b/tools/images/openstack/pike/loci.sh#L170\n\nChange-Id: I8746229bb86d08c17e51bccb68564a9dc2ad8260\n'}, {'number': 5, 'created': '2018-10-11 11:31:07.000000000', 'files': ['custom_bindeps/osh-bindep.txt'], 'web_link': 'https://opendev.org/openstack/loci/commit/63ad9f3116f5b601a0b6c77221ebe327fab57306', 'message': 'Add OSH bindep file\n\nThis adds an OpenStack-Helm bindep file in the LOCI tree.\n\nThe current use case is:\n- allow utils to include iproute2 package so it can be used\n  perform readinessProbe. No extra profile for OSH need to be added\n  in LOCI if we can provide an OSH bindep file as build argument.\n- remove the need to carry in openstack-helm a list of packages\n  to add in image building [1][2][3]. Luckily enough for me,\n  those packages have the same name for openSUSE, CentOS, and Ubuntu.\n\n[1]: https://github.com/openstack/openstack-helm/blob/64cb013dff3bc6181eb01f2bcb737a83b296b96b/tools/images/openstack/pike/loci.sh#L47\n[2]: https://github.com/openstack/openstack-helm/blob/64cb013dff3bc6181eb01f2bcb737a83b296b96b/tools/images/openstack/pike/loci.sh#L103\n[3]: https://github.com/openstack/openstack-helm/blob/64cb013dff3bc6181eb01f2bcb737a83b296b96b/tools/images/openstack/pike/loci.sh#L170\n\nChange-Id: I8746229bb86d08c17e51bccb68564a9dc2ad8260\n'}]",0,602186,63ad9f3116f5b601a0b6c77221ebe327fab57306,15,3,5,17068,,,0,"Add OSH bindep file

This adds an OpenStack-Helm bindep file in the LOCI tree.

The current use case is:
- allow utils to include iproute2 package so it can be used
  perform readinessProbe. No extra profile for OSH need to be added
  in LOCI if we can provide an OSH bindep file as build argument.
- remove the need to carry in openstack-helm a list of packages
  to add in image building [1][2][3]. Luckily enough for me,
  those packages have the same name for openSUSE, CentOS, and Ubuntu.

[1]: https://github.com/openstack/openstack-helm/blob/64cb013dff3bc6181eb01f2bcb737a83b296b96b/tools/images/openstack/pike/loci.sh#L47
[2]: https://github.com/openstack/openstack-helm/blob/64cb013dff3bc6181eb01f2bcb737a83b296b96b/tools/images/openstack/pike/loci.sh#L103
[3]: https://github.com/openstack/openstack-helm/blob/64cb013dff3bc6181eb01f2bcb737a83b296b96b/tools/images/openstack/pike/loci.sh#L170

Change-Id: I8746229bb86d08c17e51bccb68564a9dc2ad8260
",git fetch https://review.opendev.org/openstack/loci refs/changes/86/602186/4 && git format-patch -1 --stdout FETCH_HEAD,['custom_bindeps/osh-bindep.txt'],1,7ba88b802efa42ebdc2481d6af1429aef5913536,overridable_chainable_bindeps,curl [heat] ethtool [neutron] iproute2 [platform:dpkg cinder ironic (infra libvirt)] lshw [neutron] ,,4,0
openstack%2Fvitrage~stable%2Frocky~Iacf59899b2669c19b88a42215d3d9dacab5bb6fc,openstack/vitrage,stable/rocky,Iacf59899b2669c19b88a42215d3d9dacab5bb6fc,bugfix: delete resolved prometheus alarms,MERGED,2018-10-17 09:23:01.000000000,2018-10-17 12:15:21.000000000,2018-10-17 12:15:21.000000000,"[{'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 09:23:01.000000000', 'files': ['vitrage/datasources/prometheus/driver.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/27a7ff3d9bdd97127095e35a6ca18057ba09a23b', 'message': 'bugfix: delete resolved prometheus alarms\n\nChange-Id: Iacf59899b2669c19b88a42215d3d9dacab5bb6fc\n'}]",0,611267,27a7ff3d9bdd97127095e35a6ca18057ba09a23b,7,3,1,26339,,,0,"bugfix: delete resolved prometheus alarms

Change-Id: Iacf59899b2669c19b88a42215d3d9dacab5bb6fc
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/67/611267/1 && git format-patch -1 --stdout FETCH_HEAD,['vitrage/datasources/prometheus/driver.py'],1,27a7ff3d9bdd97127095e35a6ca18057ba09a23b,, def _get_all_alarms(self): return [] def _get_changed_alarms(self):, def _get_alarms(self): # TODO(iafek): should be implemented,4,2
openstack%2Ftripleo-heat-templates~master~Ib32177b116f148f007574847320566e32240cf96,openstack/tripleo-heat-templates,master,Ib32177b116f148f007574847320566e32240cf96,Remove unused tls-cert-inject.yaml template,MERGED,2018-09-26 17:15:53.000000000,2018-10-17 11:56:50.000000000,2018-10-17 11:56:50.000000000,"[{'_account_id': 8042}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-26 17:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4ac8ff061308cee03c07ba66e2451af5f3a03b84', 'message': 'Remove unused tls-cert-inject.yaml template\n\nThis is no longer handled as the TLS handling tasks were converted\nto ansible, and in the context of this series we need to remove it\nbecause it references bootstrap_nodeid\n\nPartial-Bug: #1792613\nChange-Id: Ib32177b116f148f007574847320566e32240cf96\n'}, {'number': 2, 'created': '2018-09-27 12:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0f4bfa00f27f95272d910494969b781fac84f996', 'message': 'Remove unused tls-cert-inject.yaml template\n\nThis is no longer handled as the TLS handling tasks were converted\nto ansible, and in the context of this series we need to remove it\nbecause it references bootstrap_nodeid\n\nPartial-Bug: #1792613\nChange-Id: Ib32177b116f148f007574847320566e32240cf96\n'}, {'number': 3, 'created': '2018-10-04 08:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/14b13ff0924fc23cebc1733f54aa5603b689106b', 'message': 'Remove unused tls-cert-inject.yaml template\n\nThis is no longer handled as the TLS handling tasks were converted\nto ansible, and in the context of this series we need to remove it\nbecause it references bootstrap_nodeid\n\nPartial-Bug: #1792613\nChange-Id: Ib32177b116f148f007574847320566e32240cf96\n'}, {'number': 4, 'created': '2018-10-12 10:12:37.000000000', 'files': ['sample-env-generator/README.rst', 'tools/yaml-validate.py', 'puppet/extraconfig/tls/tls-cert-inject.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b278f6c4760e7803fd243e946233921399b403f5', 'message': 'Remove unused tls-cert-inject.yaml template\n\nThis is no longer handled as the TLS handling tasks were converted\nto ansible, and in the context of this series we need to remove it\nbecause it references bootstrap_nodeid\n\nPartial-Bug: #1792613\nChange-Id: Ib32177b116f148f007574847320566e32240cf96\n'}]",0,605491,b278f6c4760e7803fd243e946233921399b403f5,17,4,4,4328,,,0,"Remove unused tls-cert-inject.yaml template

This is no longer handled as the TLS handling tasks were converted
to ansible, and in the context of this series we need to remove it
because it references bootstrap_nodeid

Partial-Bug: #1792613
Change-Id: Ib32177b116f148f007574847320566e32240cf96
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/605491/4 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/README.rst', 'tools/yaml-validate.py', 'puppet/extraconfig/tls/tls-cert-inject.yaml']",3,4ac8ff061308cee03c07ba66e2451af5f3a03b84,bug/1792613,,"heat_template_version: rocky description: > This is a template which will build the TLS Certificates necessary for the load balancer using the given parameters. parameters: # Can be overridden via parameter_defaults in the environment SSLCertificate: default: '' description: > The content of the SSL certificate (without Key) in PEM format. type: string SSLIntermediateCertificate: default: '' description: > The content of an SSL intermediate CA certificate in PEM format. type: string # NOTE(jaosorior): Adding this default is only while we enable TLS by default # for the overcloud. It'll be removed in a subsequent patch. SSLKey: default: '' description: > The content of the SSL Key in PEM format. type: string hidden: true # Can be overridden by parameter_defaults if the user wants to try deploying # this in a distro that doesn't support this path. DeployedSSLCertificatePath: default: '/etc/pki/tls/private/overcloud_endpoint.pem' description: > The filepath of the certificate as it will be stored in the controller. type: string # Passed in by the controller NodeIndex: default: 0 type: number server: description: ID of the controller node to apply this config to type: string resources: ControllerTLSConfig: type: OS::Heat::SoftwareConfig properties: group: script inputs: - name: cert_path - name: cert_chain_content outputs: - name: chain_md5sum - name: cert_modulus - name: key_modulus config: | #!/bin/sh # If the HAProxy container tried to load this, it'll be a directory and # will make this fail. if [ -d ${cert_path} ]; then rmdir ${cert_path} HAPROXY_TLS_UPDATE_NEEDED=1 else HAPROXY_TLS_UPDATE_NEEDED=0 fi cat > ${cert_path} << EOF ${cert_chain_content} EOF chmod 0440 ${cert_path} chown root:haproxy ${cert_path} md5sum ${cert_path} > ${heat_outputs_path}.chain_md5sum openssl x509 -noout -modulus -in ${cert_path} \ | openssl md5 | cut -c 10- \ > ${heat_outputs_path}.cert_modulus openssl rsa -noout -modulus -in ${cert_path} \ | openssl md5 | cut -c 10- \ > ${heat_outputs_path}.key_modulus # We need to reload haproxy in case the certificate changed because # puppet doesn't know the contents of the cert file. haproxy_status=$(systemctl is-active haproxy) if [ ""$haproxy_status"" = ""active"" ]; then systemctl reload haproxy fi pacemaker_status=$(systemctl is-active pacemaker) # If we need an update and pacemaker is being used, we need to restart # the pacemaker resource on the bootstrap node. We don't support the update # in non-pacemaker cases. if [[ $HAPROXY_TLS_UPDATE_NEEDED -eq 1 && ""$pacemaker_status"" == ""active"" ]]; then BOOTSTRAPNODE=$(hiera -c /etc/puppet/hiera.yaml bootstrap_nodeid) MY_HOSTNAME=$(hostname) if [[ ""$BOOTSTRAPNODE"" == ""$MY_HOSTNAME"" ]]; then # Triggers an update HAPROXY_RESOURCE_NAME=$(pcs status | grep container | grep haproxy | sed 's/^.*container.*: \(.*\) .*/\1/') if [[ -n ""$HAPROXY_RESOURCE_NAME"" ]]; then pcs resource restart ""$HAPROXY_RESOURCE_NAME"" fi fi elif [[ $HAPROXY_TLS_UPDATE_NEEDED -eq 0 ]]; then # Handles reloading HAProxy and fetching a new certificate if # necessary HAPROXY_CONTAINER_ID=$(docker ps | grep '[[:space:]]haproxy' | awk '{print $1}') if [[ -n ""$HAPROXY_CONTAINER_ID"" ]]; then if [[ ""$pacemaker_status"" == ""active"" ]]; then # We copy the certificate from the mount point to the desired # path docker exec ""$HAPROXY_CONTAINER_ID"" cp /var/lib/kolla/config_files/src-tls${cert_path} ${cert_path} fi docker kill --signal=HUP ""$HAPROXY_CONTAINER_ID"" fi fi ControllerTLSDeployment: type: OS::Heat::SoftwareDeployment properties: name: ControllerTLSDeployment config: {get_resource: ControllerTLSConfig} server: {get_param: server} input_values: cert_path: {get_param: DeployedSSLCertificatePath} cert_chain_content: list_join: - '' - - {get_param: SSLCertificate} - {get_param: SSLIntermediateCertificate} - {get_param: SSLKey} outputs: deploy_stdout: description: Deployment reference value: {get_attr: [ControllerTLSDeployment, chain_md5sum]} deployed_ssl_certificate_path: description: The location that the TLS certificate was deployed to. value: {get_param: DeployedSSLCertificatePath} key_modulus_md5: description: MD5 checksum of the Key SSL Modulus value: {get_attr: [ControllerTLSDeployment, key_modulus]} cert_modulus_md5: description: MD5 checksum of the Certificate SSL Modulus value: {get_attr: [ControllerTLSDeployment, cert_modulus]} ",1,142
openstack%2Fopenstack-ansible-os_aodh~stable%2Frocky~Id9296d69814f3ad72fee5095893fdd7f1729aa5c,openstack/openstack-ansible-os_aodh,stable/rocky,Id9296d69814f3ad72fee5095893fdd7f1729aa5c,use include_tasks instead of include,MERGED,2018-10-05 00:48:27.000000000,2018-10-17 11:54:29.000000000,2018-10-17 11:54:29.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-05 00:48:27.000000000', 'files': ['tasks/main.yml', 'tests/test.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/4839422ac92c54f8895d6f2b122d48eddf5c3699', 'message': 'use include_tasks instead of include\n\ninclude is marked as deprecated since ansible 2.4[0]\n\nSwitch to include_tasks or import_playbook as necessary\n\n[0] https://docs.ansible.com/ansible/2.4/include_module.html#deprecated\n\nChange-Id: Id9296d69814f3ad72fee5095893fdd7f1729aa5c\n(cherry picked from commit ac625f81dd621ece7f7becabe6ae2f0c2f48f9b9)\n'}]",0,608105,4839422ac92c54f8895d6f2b122d48eddf5c3699,7,3,1,22165,,,0,"use include_tasks instead of include

include is marked as deprecated since ansible 2.4[0]

Switch to include_tasks or import_playbook as necessary

[0] https://docs.ansible.com/ansible/2.4/include_module.html#deprecated

Change-Id: Id9296d69814f3ad72fee5095893fdd7f1729aa5c
(cherry picked from commit ac625f81dd621ece7f7becabe6ae2f0c2f48f9b9)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/05/608105/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tests/test.yml']",2,4839422ac92c54f8895d6f2b122d48eddf5c3699,,- import_playbook: common/test-setup-host.yml- import_playbook: common/test-install-infra.yml- import_playbook: common/test-install-keystone.yml- import_playbook: common/test-install-gnocchi.yml- import_playbook: test-install-aodh.yml- import_playbook: common/test-install-tempest.yml,- include: common/test-setup-host.yml- include: common/test-install-infra.yml- include: common/test-install-keystone.yml- include: common/test-install-gnocchi.yml- include: test-install-aodh.yml- include: common/test-install-tempest.yml,12,12
openstack%2Fpuppet-tripleo~stable%2Focata~I0524b9cc21e5ab5da8d8a83c7bde1dac4309065a,openstack/puppet-tripleo,stable/ocata,I0524b9cc21e5ab5da8d8a83c7bde1dac4309065a,[WIP]restart agent,ABANDONED,2018-10-04 11:08:43.000000000,2018-10-17 11:41:15.000000000,,"[{'_account_id': 11082}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 11:08:43.000000000', 'files': ['manifests/firewall.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a385cc4a44cf6893fe05ebea3f78b0e66f4751f6', 'message': '[WIP]restart agent\n\nChange-Id: I0524b9cc21e5ab5da8d8a83c7bde1dac4309065a\n'}]",0,607909,a385cc4a44cf6893fe05ebea3f78b0e66f4751f6,4,2,1,11082,,,0,"[WIP]restart agent

Change-Id: I0524b9cc21e5ab5da8d8a83c7bde1dac4309065a
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/09/607909/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/firewall.pp'],1,a385cc4a44cf6893fe05ebea3f78b0e66f4751f6,fix/restart_a, Service<| |> -> Service<| title == 'neutron-ovs-agent-service' |>,,1,0
openstack%2Ftrove-dashboard~master~Iafbf190511422cf9a69327e0d347ca0cd3c39be3,openstack/trove-dashboard,master,Iafbf190511422cf9a69327e0d347ca0cd3c39be3,Increment versioning with pbr instruction,MERGED,2018-10-15 13:47:25.000000000,2018-10-17 11:38:32.000000000,2018-10-17 11:38:32.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 28671}]","[{'number': 1, 'created': '2018-10-15 13:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/06582f46861fedbaf1caf986fe6d7f531a6cc8fa', 'message': 'Increment versioning with pbr instruction\n\nWith moving away from required milestone releases, the version numbers\ncalculated by PBR on the master branch will not work for those testing\nupgrades from the last stable release. More details can be found in the\nmailing list post here:\n\n    http://lists.openstack.org/pipermail/openstack-dev/2018-October/135706.html\n\nThis is an empty commit that will cause PBR to increment its calculated\nversion to get around this.\n\nPBR will see the following which will cause it to increment the version:\n\nSem-Ver: feature\n\nPlease merge this patch as soon as possible to support those testing\nupgrades.\n\nChange-Id: Iafbf190511422cf9a69327e0d347ca0cd3c39be3\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,610524,06582f46861fedbaf1caf986fe6d7f531a6cc8fa,8,3,1,11904,,,0,"Increment versioning with pbr instruction

With moving away from required milestone releases, the version numbers
calculated by PBR on the master branch will not work for those testing
upgrades from the last stable release. More details can be found in the
mailing list post here:

    http://lists.openstack.org/pipermail/openstack-dev/2018-October/135706.html

This is an empty commit that will cause PBR to increment its calculated
version to get around this.

PBR will see the following which will cause it to increment the version:

Sem-Ver: feature

Please merge this patch as soon as possible to support those testing
upgrades.

Change-Id: Iafbf190511422cf9a69327e0d347ca0cd3c39be3
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/24/610524/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,06582f46861fedbaf1caf986fe6d7f531a6cc8fa,sem-ver,,,0,0
openstack%2Fkolla~master~I599554052c3cb99ebcbcbc4d7ea1aeb57c573d2e,openstack/kolla,master,I599554052c3cb99ebcbcbc4d7ea1aeb57c573d2e,Build and install Fluentd Monasca plugin,MERGED,2018-09-27 11:21:28.000000000,2018-10-17 11:25:46.000000000,2018-10-17 11:25:46.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-09-27 11:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/42be010c80beccadf7d94f5f090b81464018f520', 'message': 'Build and install Fluentd Monasca plugin\n\nThis is a simple output plugin for Fluentd which can forward logs\nto the Monasca Log API.\n\nPartially-Implements: blueprint monasca-containers\nChange-Id: I599554052c3cb99ebcbcbc4d7ea1aeb57c573d2e\n'}, {'number': 2, 'created': '2018-09-27 11:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1e6d0bf481a592c535f6e469ef438cbe3fa9ea22', 'message': 'Build and install Fluentd Monasca plugin\n\nThis is a simple output plugin for Fluentd which can forward logs\nto the Monasca Log API.\n\nPartially-Implements: blueprint monasca-containers\nChange-Id: I599554052c3cb99ebcbcbc4d7ea1aeb57c573d2e\n'}, {'number': 3, 'created': '2018-10-11 16:03:39.000000000', 'files': ['releasenotes/notes/support-posting-to-monasca-api-from-fluentd-1b653db78a8644e7.yaml', 'docker/fluentd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/11611c67ea449df229fc7e88d3c9b545cf992a87', 'message': 'Build and install Fluentd Monasca plugin\n\nThis is a simple output plugin for Fluentd which can forward logs\nto the Monasca Log API.\n\nPartially-Implements: blueprint monasca-containers\nChange-Id: I599554052c3cb99ebcbcbc4d7ea1aeb57c573d2e\n'}]",6,605652,11611c67ea449df229fc7e88d3c9b545cf992a87,19,4,3,17669,,,0,"Build and install Fluentd Monasca plugin

This is a simple output plugin for Fluentd which can forward logs
to the Monasca Log API.

Partially-Implements: blueprint monasca-containers
Change-Id: I599554052c3cb99ebcbcbc4d7ea1aeb57c573d2e
",git fetch https://review.opendev.org/openstack/kolla refs/changes/52/605652/3 && git format-patch -1 --stdout FETCH_HEAD,['docker/fluentd/Dockerfile.j2'],1,42be010c80beccadf7d94f5f090b81464018f520,bp/monasca-containers," 'gcc-c++', 'make', 'ruby-devel', 'ruby', 'ruby-dev',# Build and install Fluentd output plugin for Monasca Log API ARG monasca_output_plugin_tag=0.0.1 ARG monasca_output_plugin_url=https://github.com/monasca/fluentd-monasca/archive/$monasca_output_plugin_tag.tar.gz ADD $monasca_output_plugin_url /tmp/fluentd-monasca.tar.gz RUN tar -xvf /tmp/fluentd-monasca.tar.gz -C /tmp \ && cd /tmp/fluentd-monasca-* \ && gem build fluentd-monasca-output.gemspec \ && gem install fluentd-monasca-output-*.gem \ && fluent-gem install fluentd-monasca-output-*.gem \ && rm -rf /tmp/fluentd* ",,16,0
openstack%2Fkolla~stable%2Frocky~I9b297d6fba7ee9171c1bb067f2449c9f053e3f38,openstack/kolla,stable/rocky,I9b297d6fba7ee9171c1bb067f2449c9f053e3f38,Update OpenStack Services,MERGED,2018-10-15 10:09:04.000000000,2018-10-17 11:21:10.000000000,2018-10-17 11:21:10.000000000,"[{'_account_id': 7488}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-10-15 10:09:04.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/302d3e93b28a399d4d572810a49c510bdf9ab030', 'message': 'Update OpenStack Services\n\n* Use 1.0.19 for novajoin\n* Use 1.0.4 for networking-ansible\n* Use 1.2.1 for rally\n* Use 13.0.0 for networking-l2gw\n* Use 13.0.0 for vmware-nsx\n* Use 13.0.1 for vmware-nsxlib\n\nChange-Id: I9b297d6fba7ee9171c1bb067f2449c9f053e3f38\n'}]",0,610469,302d3e93b28a399d4d572810a49c510bdf9ab030,9,4,1,7488,,,0,"Update OpenStack Services

* Use 1.0.19 for novajoin
* Use 1.0.4 for networking-ansible
* Use 1.2.1 for rally
* Use 13.0.0 for networking-l2gw
* Use 13.0.0 for vmware-nsx
* Use 13.0.1 for vmware-nsxlib

Change-Id: I9b297d6fba7ee9171c1bb067f2449c9f053e3f38
",git fetch https://review.opendev.org/openstack/kolla refs/changes/69/610469/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,302d3e93b28a399d4d572810a49c510bdf9ab030,," 'networking-ansible-1.0.4.tar.gz')}, 'vmware-nsx-13.0.0.tar.gz')}, 'networking-l2gw-13.0.0.tar.gz')}, 'vmware-nsxlib-13.0.1.tar.gz')}, 'novajoin-1.0.19.tar.gz')}, 'rally-1.2.1.tar.gz')},"," 'networking-ansible-master.tar.gz')}, 'vmware-nsx-master.tar.gz')}, 'networking-l2gw-master.tar.gz')}, 'vmware-nsxlib-master.tar.gz')}, 'novajoin-master.tar.gz')}, 'rally-master.tar.gz')},",6,6
openstack%2Fkolla~stable%2Frocky~I0d3111f0ca6301d6f22410fe5fd5a2dbf586e691,openstack/kolla,stable/rocky,I0d3111f0ca6301d6f22410fe5fd5a2dbf586e691,Configure sudoers for zun containers,MERGED,2018-10-15 08:53:17.000000000,2018-10-17 11:21:09.000000000,2018-10-17 11:21:09.000000000,"[{'_account_id': 11536}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-10-15 08:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/826b8e157f61344b9a1066e02316cc95561c067b', 'message': ""Configure sudoers for zun containers\n\nZun processes were run as user 'root' in before. This is undesirable\nfor several reasons (i.e. security, privsep). This patch make the\nZun processes run as 'zun' user, which aligns with the practice of\nother containers.\n\nChange-Id: I0d3111f0ca6301d6f22410fe5fd5a2dbf586e691\nCloses-Bug: #1787760\n(cherry picked from commit 0b2682e489fe67a6f43596ea61291d92107c3569)\n""}, {'number': 2, 'created': '2018-10-15 09:49:56.000000000', 'files': ['docker/zun/zun-base/zun_sudoers', 'docker/zun/zun-base/Dockerfile.j2', 'docker/zun/zun-compute/Dockerfile.j2', 'docker/zun/zun-wsproxy/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0da117f0c262a867958e6e65f866feffadc0d385', 'message': ""Configure sudoers for zun containers\n\nZun processes were run as user 'root' in before. This is undesirable\nfor several reasons (i.e. security, privsep). This patch make the\nZun processes run as 'zun' user, which aligns with the practice of\nother containers.\n\nLeave zun-api default user to root in order to run under apache2.\n\nChange-Id: I0d3111f0ca6301d6f22410fe5fd5a2dbf586e691\nCloses-Bug: #1787760\n(cherry picked from commit 0b2682e489fe67a6f43596ea61291d92107c3569)\n""}]",1,610457,0da117f0c262a867958e6e65f866feffadc0d385,10,4,2,13039,,,0,"Configure sudoers for zun containers

Zun processes were run as user 'root' in before. This is undesirable
for several reasons (i.e. security, privsep). This patch make the
Zun processes run as 'zun' user, which aligns with the practice of
other containers.

Leave zun-api default user to root in order to run under apache2.

Change-Id: I0d3111f0ca6301d6f22410fe5fd5a2dbf586e691
Closes-Bug: #1787760
(cherry picked from commit 0b2682e489fe67a6f43596ea61291d92107c3569)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/57/610457/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/zun/zun-base/zun_sudoers', 'docker/zun/zun-api/Dockerfile.j2', 'docker/zun/zun-base/Dockerfile.j2', 'docker/zun/zun-compute/Dockerfile.j2', 'docker/zun/zun-wsproxy/Dockerfile.j2']",5,826b8e157f61344b9a1066e02316cc95561c067b,bug/1787760-stable/rocky, USER zun,,11,1
openstack%2Fmagnum~master~I74af7dba757bdd244d36bb91c46899d7e765fcb8,openstack/magnum,master,I74af7dba757bdd244d36bb91c46899d7e765fcb8,Implement config drive support for clusters,ABANDONED,2018-10-17 10:35:46.000000000,2018-10-17 10:41:31.000000000,,[],"[{'number': 1, 'created': '2018-10-17 10:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/68091c8563e70c52fa313456723932fde3424208', 'message': 'More changes\n\nChange-Id: I74af7dba757bdd244d36bb91c46899d7e765fcb8\n'}, {'number': 2, 'created': '2018-10-17 10:37:17.000000000', 'files': ['magnum/drivers/heat/template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/235700a65b6da483a4331798078de879c61f08ce', 'message': 'Implement config drive support for clusters\n\nChange-Id: I0d9617b9dd5f17a2fde528164e201482766d58f5\n\nMore changes\n\nChange-Id: I74af7dba757bdd244d36bb91c46899d7e765fcb8\n'}]",0,611289,235700a65b6da483a4331798078de879c61f08ce,3,0,2,28022,,,0,"Implement config drive support for clusters

Change-Id: I0d9617b9dd5f17a2fde528164e201482766d58f5

More changes

Change-Id: I74af7dba757bdd244d36bb91c46899d7e765fcb8
",git fetch https://review.opendev.org/openstack/magnum refs/changes/89/611289/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/heat/template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml']",3,68091c8563e70c52fa313456723932fde3424208,config-drive,, default: true,8,1
openstack%2Fmagnum~master~I0d9617b9dd5f17a2fde528164e201482766d58f5,openstack/magnum,master,I0d9617b9dd5f17a2fde528164e201482766d58f5,Implement config drive support for clusters,ABANDONED,2018-10-17 08:22:06.000000000,2018-10-17 10:41:18.000000000,,[{'_account_id': 28022}],"[{'number': 1, 'created': '2018-10-17 08:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e25c69180713b2cbbee64c61bffedbb5f9e754cf', 'message': 'Implement config drive support for clusters\n\nChange-Id: I0d9617b9dd5f17a2fde528164e201482766d58f5\n'}, {'number': 2, 'created': '2018-10-17 08:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/fdaad6f1246954544e8d3241f152095bdcaad1e2', 'message': 'Implement config drive support for clusters\n\nChange-Id: I0d9617b9dd5f17a2fde528164e201482766d58f5\n'}, {'number': 3, 'created': '2018-10-17 10:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/94d4260de6ebd35f31c2a717152df0b98e32365c', 'message': 'Implement config drive support for clusters\n\nChange-Id: I0d9617b9dd5f17a2fde528164e201482766d58f5\n'}, {'number': 4, 'created': '2018-10-17 10:38:10.000000000', 'files': ['magnum/drivers/heat/template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/72b6c76019831d72ad9d1c4c22b056ed7134b374', 'message': 'Implement config drive support for clusters\n\nChange-Id: I0d9617b9dd5f17a2fde528164e201482766d58f5\n'}]",0,611257,72b6c76019831d72ad9d1c4c22b056ed7134b374,7,1,4,28022,,,0,"Implement config drive support for clusters

Change-Id: I0d9617b9dd5f17a2fde528164e201482766d58f5
",git fetch https://review.opendev.org/openstack/magnum refs/changes/57/611257/4 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml'],1,e25c69180713b2cbbee64c61bffedbb5f9e754cf,config-drive, config_drive: {get_param: config_drive},,1,0
openstack%2Fstevedore~master~Ie66579146d68680905c3eac3d256369309130cf4,openstack/stevedore,master,Ie66579146d68680905c3eac3d256369309130cf4,Update sphinx logging to not use app object,MERGED,2018-10-16 18:52:37.000000000,2018-10-17 10:32:43.000000000,2018-10-17 10:32:43.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 18:52:37.000000000', 'files': ['stevedore/sphinxext.py'], 'web_link': 'https://opendev.org/openstack/stevedore/commit/5b39123aa4d2988fc773003d166c2bde590ea080', 'message': 'Update sphinx logging to not use app object\n\nLogging via the application object was deprecated in sphinx 1.6 and is\nnow removed in the master branch that will become 2.0. This updates our\nsphinx extension to use the recommended sphinx.util.logging instead.\n\nCloses-bug: #1798174\n\nChange-Id: Ie66579146d68680905c3eac3d256369309130cf4\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,611129,5b39123aa4d2988fc773003d166c2bde590ea080,7,3,1,11904,,,0,"Update sphinx logging to not use app object

Logging via the application object was deprecated in sphinx 1.6 and is
now removed in the master branch that will become 2.0. This updates our
sphinx extension to use the recommended sphinx.util.logging instead.

Closes-bug: #1798174

Change-Id: Ie66579146d68680905c3eac3d256369309130cf4
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/stevedore refs/changes/29/611129/1 && git format-patch -1 --stdout FETCH_HEAD,['stevedore/sphinxext.py'],1,5b39123aa4d2988fc773003d166c2bde590ea080,bug/1798174,"from sphinx.util import loggingLOG = logging.getLogger(__name__) LOG.info('documenting plugins from %r' % namespace) LOG.warning(u'Failed to load %s: %s' % (ep.module_name, err)) LOG.info('loading stevedore.sphinxext')"," env = self.state.document.settings.env app = env.app app.info('documenting plugins from %r' % namespace) app.warn(u'Failed to load %s: %s' % (ep.module_name, err)) app.info('loading stevedore.sphinxext')",6,6
openstack%2Foslo.db~master~I4a5f8958c3e0fc68fa3a4ae979f284c4fbd9b82b,openstack/oslo.db,master,I4a5f8958c3e0fc68fa3a4ae979f284c4fbd9b82b,Ignore 'use_tpool' option,MERGED,2018-03-09 11:05:14.000000000,2018-10-17 10:21:21.000000000,2018-03-09 20:32:16.000000000,"[{'_account_id': 6928}, {'_account_id': 11816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-09 11:05:14.000000000', 'files': ['oslo_db/sqlalchemy/enginefacade.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/698c62702af8f9ccca574a7ad714d3ae1298a5a8', 'message': ""Ignore 'use_tpool' option\n\nThe sheer act of registering the 'use_tpool' option seems to be enough\nto cause the following warning:\n\n   NotSupportedWarning: Configuration option(s) ['use_tpool'] not\n   supported\n\nAdd it to the list of ignored opts, thus silencing this warning.\n\nChange-Id: I4a5f8958c3e0fc68fa3a4ae979f284c4fbd9b82b\n""}]",0,551256,698c62702af8f9ccca574a7ad714d3ae1298a5a8,8,3,1,15334,,,0,"Ignore 'use_tpool' option

The sheer act of registering the 'use_tpool' option seems to be enough
to cause the following warning:

   NotSupportedWarning: Configuration option(s) ['use_tpool'] not
   supported

Add it to the list of ignored opts, thus silencing this warning.

Change-Id: I4a5f8958c3e0fc68fa3a4ae979f284c4fbd9b82b
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/56/551256/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_db/sqlalchemy/enginefacade.py'],1,698c62702af8f9ccca574a7ad714d3ae1298a5a8,bug/1549915," # other options that are defined in oslo_db.options.database_opts # or oslo_db.concurrency.tpool_opts but do not apply to the standard # enginefacade arguments (most seem to apply to api.DBAPI). 'db_max_retry_interval', 'backend', 'use_tpool'])"," # other options that are defined in oslo.db.options.database_opts # but do not apply to the standard enginefacade arguments # (most seem to apply to api.DBAPI). 'db_max_retry_interval', 'backend'])",4,4
openstack%2Fpuppet-ec2api~master~I0be72374f6e1b55286e66481924cceca5a2331cb,openstack/puppet-ec2api,master,I0be72374f6e1b55286e66481924cceca5a2331cb,Update min tox version to 2.0,MERGED,2018-10-16 03:43:28.000000000,2018-10-17 10:16:40.000000000,2018-10-17 10:16:40.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 03:43:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/cd748c715f58258482c7830f23b7f8412d320c35', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: I0be72374f6e1b55286e66481924cceca5a2331cb\n'}]",0,610856,cd748c715f58258482c7830f23b7f8412d320c35,17,4,1,9414,,,0,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.  Update to
reflect reality, which should help with local running of constraints
targets.

Change-Id: I0be72374f6e1b55286e66481924cceca5a2331cb
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/56/610856/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cd748c715f58258482c7830f23b7f8412d320c35,update-tox-version,minversion = 2.0,minversion = 1.6,1,1
openstack%2Fneutron-tempest-plugin~master~If1b83fbaf33cc01473badeb5cabc8e8670d51d9e,openstack/neutron-tempest-plugin,master,If1b83fbaf33cc01473badeb5cabc8e8670d51d9e,Use advanced image only when it's necessary,MERGED,2018-10-11 16:44:53.000000000,2018-10-17 10:05:15.000000000,2018-10-17 10:05:15.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 17120}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-10-11 16:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d2b2b14dcfa81cb1994332ac422ebe89a0086be3', 'message': ""Use advanced image only when it's necessary\n\nIn some scenario tests there is need to use advanced image,\nlike Ubuntu or Centos, because Cirros doesn't provide required\nfeatures.\nIt is like that in some tests from modules:\n\n    neutron_tempest_plugin.scenario.test_mtu\n    neutron_tempest_plugin.scenario.test_trunk\n\nBut such advanced image needs much more time to boot and to\nhave SSH to vm available.\n\nThere is no need to use such advanced image in all tests.\n\nThis patch makes some changes in tempest plugin config options:\n\n* image_is_advanced - option is removed,\n* advanced_image_ref - new option added - it's uuid for advanced image,\n* advanced_flavor_ref - new option added - id of flavor to use with\n  advanced image\n* advanced_image_ssh_user - new option added - name of user to use\n  to ssh to vm booted from advanced image,\n\nThis patch also modify neutron_tempest_plugin devstack plugin that\nit now can find advanced image id in installed Glance service and\nconfigure those new config options in Tempest's config file.\n\nThis patch also modifies scenario jobs definitions that this\nnew advanced_image can be configured and used when it's nesessary.\n\nFinally this patch also changes tests mentioned above that now\nthis advanced image is used in those tests.\nAll other scenario tests should works with default, Cirros image.\n\nChange-Id: If1b83fbaf33cc01473badeb5cabc8e8670d51d9e\n""}, {'number': 2, 'created': '2018-10-11 21:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/60f9a76cc820b129c01849fabd0ea88de9bd9254', 'message': ""Use advanced image only when it's necessary\n\nIn some scenario tests there is need to use advanced image,\nlike Ubuntu or Centos, because Cirros doesn't provide required\nfeatures.\nIt is like that in some tests from modules:\n\n    neutron_tempest_plugin.scenario.test_mtu\n    neutron_tempest_plugin.scenario.test_trunk\n\nBut such advanced image needs much more time to boot and to\nhave SSH to vm available.\n\nThere is no need to use such advanced image in all tests.\n\nThis patch makes some changes in tempest plugin config options:\n\n* image_is_advanced - option is removed,\n* advanced_image_ref - new option added - it's uuid for advanced image,\n* advanced_flavor_ref - new option added - id of flavor to use with\n  advanced image\n* advanced_image_ssh_user - new option added - name of user to use\n  to ssh to vm booted from advanced image,\n\nThis patch also modify neutron_tempest_plugin devstack plugin that\nit now can find advanced image id in installed Glance service and\nconfigure those new config options in Tempest's config file.\n\nThis patch also modifies scenario jobs definitions that this\nnew advanced_image can be configured and used when it's nesessary.\n\nFinally this patch also changes tests mentioned above that now\nthis advanced image is used in those tests.\nAll other scenario tests should works with default, Cirros image.\n\nChange-Id: If1b83fbaf33cc01473badeb5cabc8e8670d51d9e\n""}, {'number': 3, 'created': '2018-10-12 07:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d0f0788d4003fe77608edf0de1d1ac006f9489cb', 'message': ""Use advanced image only when it's necessary\n\nIn some scenario tests there is need to use advanced image,\nlike Ubuntu or Centos, because Cirros doesn't provide required\nfeatures.\nIt is like that in some tests from modules:\n\n    neutron_tempest_plugin.scenario.test_mtu\n    neutron_tempest_plugin.scenario.test_trunk\n\nBut such advanced image needs much more time to boot and to\nhave SSH to vm available.\n\nThere is no need to use such advanced image in all tests.\n\nThis patch makes some changes in tempest plugin config options:\n\n* image_is_advanced - option is removed,\n* advanced_image_ref - new option added - it's uuid for advanced image,\n* advanced_flavor_ref - new option added - id of flavor to use with\n  advanced image\n* advanced_image_ssh_user - new option added - name of user to use\n  to ssh to vm booted from advanced image,\n\nThis patch also modify neutron_tempest_plugin devstack plugin that\nit now can find advanced image id in installed Glance service and\nconfigure those new config options in Tempest's config file.\n\nThis patch also modifies scenario jobs definitions that this\nnew advanced_image can be configured and used when it's nesessary.\n\nFinally this patch also changes tests mentioned above that now\nthis advanced image is used in those tests.\nAll other scenario tests should works with default, Cirros image.\n\nChange-Id: If1b83fbaf33cc01473badeb5cabc8e8670d51d9e\n""}, {'number': 4, 'created': '2018-10-12 08:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/18a999e61ba81fb74016e517585c8b1d1474ebdd', 'message': ""Use advanced image only when it's necessary\n\nIn some scenario tests there is need to use advanced image,\nlike Ubuntu or Centos, because Cirros doesn't provide required\nfeatures.\nIt is like that in some tests from modules:\n\n    neutron_tempest_plugin.scenario.test_mtu\n    neutron_tempest_plugin.scenario.test_trunk\n\nBut such advanced image needs much more time to boot and to\nhave SSH to vm available.\n\nThere is no need to use such advanced image in all tests.\n\nThis patch makes some changes in tempest plugin config options:\n\n* image_is_advanced - option is removed,\n* advanced_image_ref - new option added - it's uuid for advanced image,\n* advanced_flavor_ref - new option added - id of flavor to use with\n  advanced image\n* advanced_image_ssh_user - new option added - name of user to use\n  to ssh to vm booted from advanced image,\n\nThis patch also modify neutron_tempest_plugin devstack plugin that\nit now can find advanced image id in installed Glance service and\nconfigure those new config options in Tempest's config file.\n\nThis patch also modifies scenario jobs definitions that this\nnew advanced_image can be configured and used when it's nesessary.\n\nFinally this patch also changes tests mentioned above that now\nthis advanced image is used in those tests.\nAll other scenario tests should works with default, Cirros image.\n\nChange-Id: If1b83fbaf33cc01473badeb5cabc8e8670d51d9e\n""}, {'number': 5, 'created': '2018-10-12 10:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/dba531288a2de689d75bcbd27e1513ef0ce9527d', 'message': ""Use advanced image only when it's necessary\n\nIn some scenario tests there is need to use advanced image,\nlike Ubuntu or Centos, because Cirros doesn't provide required\nfeatures.\nIt is like that in some tests from modules:\n\n    neutron_tempest_plugin.scenario.test_mtu\n    neutron_tempest_plugin.scenario.test_trunk\n\nBut such advanced image needs much more time to boot and to\nhave SSH to vm available.\n\nThere is no need to use such advanced image in all tests.\n\nThis patch makes some changes in tempest plugin config options:\n\n* image_is_advanced - option is removed,\n* advanced_image_ref - new option added - it's uuid for advanced image,\n* advanced_flavor_ref - new option added - id of flavor to use with\n  advanced image\n* advanced_image_ssh_user - new option added - name of user to use\n  to ssh to vm booted from advanced image,\n\nThis patch also modify neutron_tempest_plugin devstack plugin that\nit now can find advanced image id in installed Glance service and\nconfigure those new config options in Tempest's config file.\n\nThis patch also modifies scenario jobs definitions that this\nnew advanced_image can be configured and used when it's nesessary.\n\nFinally this patch also changes tests mentioned above that now\nthis advanced image is used in those tests.\nAll other scenario tests should works with default, Cirros image.\n\nChange-Id: If1b83fbaf33cc01473badeb5cabc8e8670d51d9e\n""}, {'number': 6, 'created': '2018-10-12 11:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/7d9fb189dc2f9796a65b49ac878928a918e92174', 'message': ""Use advanced image only when it's necessary\n\nIn some scenario tests there is need to use advanced image,\nlike Ubuntu or Centos, because Cirros doesn't provide required\nfeatures.\nIt is like that in some tests from modules:\n\n    neutron_tempest_plugin.scenario.test_mtu\n    neutron_tempest_plugin.scenario.test_trunk\n\nBut such advanced image needs much more time to boot and to\nhave SSH to vm available.\n\nThere is no need to use such advanced image in all tests.\n\nThis patch makes some changes in tempest plugin config options:\n\n* image_is_advanced - option is removed,\n* advanced_image_ref - new option added - it's uuid for advanced image,\n* advanced_flavor_ref - new option added - id of flavor to use with\n  advanced image\n* advanced_image_ssh_user - new option added - name of user to use\n  to ssh to vm booted from advanced image,\n\nThis patch also modify neutron_tempest_plugin devstack plugin that\nit now can find advanced image id in installed Glance service and\nconfigure those new config options in Tempest's config file.\n\nThis patch also modifies scenario jobs definitions that this\nnew advanced_image can be configured and used when it's nesessary.\n\nFinally this patch also changes tests mentioned above that now\nthis advanced image is used in those tests.\nAll other scenario tests should works with default, Cirros image.\n\nChange-Id: If1b83fbaf33cc01473badeb5cabc8e8670d51d9e\n""}, {'number': 7, 'created': '2018-10-12 11:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/7d3112a31a0498a809c6b24d8384f48ee10a99c2', 'message': ""Use advanced image only when it's necessary\n\nIn some scenario tests there is need to use advanced image,\nlike Ubuntu or Centos, because Cirros doesn't provide required\nfeatures.\nIt is like that in some tests from modules:\n\n    neutron_tempest_plugin.scenario.test_mtu\n    neutron_tempest_plugin.scenario.test_trunk\n\nBut such advanced image needs much more time to boot and to\nhave SSH to vm available.\n\nThere is no need to use such advanced image in all tests.\n\nThis patch makes some changes in tempest plugin config options:\n\n* image_is_advanced - option is removed,\n* advanced_image_ref - new option added - it's uuid for advanced image,\n* advanced_flavor_ref - new option added - id of flavor to use with\n  advanced image\n* advanced_image_ssh_user - new option added - name of user to use\n  to ssh to vm booted from advanced image,\n\nThis patch also modify neutron_tempest_plugin devstack plugin that\nit now can find advanced image id in installed Glance service and\nconfigure those new config options in Tempest's config file.\n\nThis patch also modifies scenario jobs definitions that this\nnew advanced_image can be configured and used when it's nesessary.\n\nFinally this patch also changes tests mentioned above that now\nthis advanced image is used in those tests.\nAll other scenario tests should works with default, Cirros image.\n\nChange-Id: If1b83fbaf33cc01473badeb5cabc8e8670d51d9e\n""}, {'number': 8, 'created': '2018-10-12 12:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f10cd0e78baaca27e9c697f1ed0a34d7aae41dd3', 'message': ""Use advanced image only when it's necessary\n\nIn some scenario tests there is need to use advanced image,\nlike Ubuntu or Centos, because Cirros doesn't provide required\nfeatures.\nIt is like that in some tests from modules:\n\n    neutron_tempest_plugin.scenario.test_mtu\n    neutron_tempest_plugin.scenario.test_trunk\n\nBut such advanced image needs much more time to boot and to\nhave SSH to vm available.\n\nThere is no need to use such advanced image in all tests.\n\nThis patch makes some changes in tempest plugin config options:\n\n* image_is_advanced - option is removed,\n* advanced_image_ref - new option added - it's uuid for advanced image,\n* advanced_flavor_ref - new option added - id of flavor to use with\n  advanced image\n* advanced_image_ssh_user - new option added - name of user to use\n  to ssh to vm booted from advanced image,\n\nThis patch also modify neutron_tempest_plugin devstack plugin that\nit now can find advanced image id in installed Glance service and\nconfigure those new config options in Tempest's config file.\n\nThis patch also modifies scenario jobs definitions that this\nnew advanced_image can be configured and used when it's nesessary.\n\nFinally this patch also changes tests mentioned above that now\nthis advanced image is used in those tests.\nAll other scenario tests should works with default, Cirros image.\n\nChange-Id: If1b83fbaf33cc01473badeb5cabc8e8670d51d9e\n""}, {'number': 9, 'created': '2018-10-12 15:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e49be0498c2ff799e0421f0bf27ae0fe5317538e', 'message': ""Use advanced image only when it's necessary\n\nIn some scenario tests there is need to use advanced image,\nlike Ubuntu or Centos, because Cirros doesn't provide required\nfeatures.\nIt is like that in some tests from modules:\n\n    neutron_tempest_plugin.scenario.test_mtu\n    neutron_tempest_plugin.scenario.test_trunk\n\nBut such advanced image needs much more time to boot and to\nhave SSH to vm available.\n\nThere is no need to use such advanced image in all tests.\n\nThis patch makes some changes in tempest plugin config options:\n\n* image_is_advanced - option is removed,\n* advanced_image_ref - new option added - it's uuid for advanced image,\n* advanced_flavor_ref - new option added - id of flavor to use with\n  advanced image\n* advanced_image_ssh_user - new option added - name of user to use\n  to ssh to vm booted from advanced image,\n\nThis patch also modify neutron_tempest_plugin devstack plugin that\nit now can find advanced image id in installed Glance service and\nconfigure those new config options in Tempest's config file.\n\nThis patch also modifies scenario jobs definitions that this\nnew advanced_image can be configured and used when it's nesessary.\n\nFinally this patch also changes tests mentioned above that now\nthis advanced image is used in those tests.\nAll other scenario tests should works with default, Cirros image.\n\nChange-Id: If1b83fbaf33cc01473badeb5cabc8e8670d51d9e\n""}, {'number': 10, 'created': '2018-10-12 17:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c7f050ae0bed71ceea2b634e524a335d3c6bd608', 'message': ""Use advanced image only when it's necessary\n\nIn some scenario tests there is need to use advanced image,\nlike Ubuntu or Centos, because Cirros doesn't provide required\nfeatures.\nIt is like that in some tests from modules:\n\n    neutron_tempest_plugin.scenario.test_mtu\n    neutron_tempest_plugin.scenario.test_trunk\n\nBut such advanced image needs much more time to boot and to\nhave SSH to vm available.\n\nThere is no need to use such advanced image in all tests.\n\nThis patch makes some changes in tempest plugin config options:\n\n* image_is_advanced - option is removed,\n* advanced_image_ref - new option added - it's uuid for advanced image,\n* advanced_flavor_ref - new option added - id of flavor to use with\n  advanced image\n* advanced_image_ssh_user - new option added - name of user to use\n  to ssh to vm booted from advanced image,\n\nThis patch also modify neutron_tempest_plugin devstack plugin that\nit now can find advanced image id in installed Glance service and\nconfigure those new config options in Tempest's config file.\n\nThis patch also modifies scenario jobs definitions that this\nnew advanced_image can be configured and used when it's nesessary.\n\nFinally this patch also changes tests mentioned above that now\nthis advanced image is used in those tests.\nAll other scenario tests should works with default, Cirros image.\n\nChange-Id: If1b83fbaf33cc01473badeb5cabc8e8670d51d9e\n""}, {'number': 11, 'created': '2018-10-12 19:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c605035271d3a2fdd7a1df0064df3c3f740fcc5e', 'message': ""Use advanced image only when it's necessary\n\nIn some scenario tests there is need to use advanced image,\nlike Ubuntu or Centos, because Cirros doesn't provide required\nfeatures.\nIt is like that in some tests from modules:\n\n    neutron_tempest_plugin.scenario.test_mtu\n    neutron_tempest_plugin.scenario.test_trunk\n\nBut such advanced image needs much more time to boot and to\nhave SSH to vm available.\n\nThere is no need to use such advanced image in all tests.\n\nThis patch makes some changes in tempest plugin config options:\n\n* image_is_advanced - option is removed,\n* advanced_image_ref - new option added - it's uuid for advanced image,\n* advanced_flavor_ref - new option added - id of flavor to use with\n  advanced image\n* advanced_image_ssh_user - new option added - name of user to use\n  to ssh to vm booted from advanced image,\n\nThis patch also modify neutron_tempest_plugin devstack plugin that\nit now can find advanced image id in installed Glance service and\nconfigure those new config options in Tempest's config file.\n\nThis patch also modifies scenario jobs definitions that this\nnew advanced_image can be configured and used when it's nesessary.\n\nFinally this patch also changes tests mentioned above that now\nthis advanced image is used in those tests.\nAll other scenario tests should works with default, Cirros image.\n\nChange-Id: If1b83fbaf33cc01473badeb5cabc8e8670d51d9e\n""}, {'number': 12, 'created': '2018-10-12 21:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e1229ca057b0a2e8b5601792adbee1335e7850ba', 'message': ""Use advanced image only when it's necessary\n\nIn some scenario tests there is need to use advanced image,\nlike Ubuntu or Centos, because Cirros doesn't provide required\nfeatures.\nIt is like that in some tests from modules:\n\n    neutron_tempest_plugin.scenario.test_mtu\n    neutron_tempest_plugin.scenario.test_trunk\n\nBut such advanced image needs much more time to boot and to\nhave SSH to vm available.\n\nThere is no need to use such advanced image in all tests.\n\nThis patch makes some changes in tempest plugin config options:\n\n* image_is_advanced - option is removed,\n* advanced_image_ref - new option added - it's uuid for advanced image,\n* advanced_flavor_ref - new option added - id of flavor to use with\n  advanced image\n* advanced_image_ssh_user - new option added - name of user to use\n  to ssh to vm booted from advanced image,\n\nThis patch also modify neutron_tempest_plugin devstack plugin that\nit now can find advanced image id in installed Glance service and\nconfigure those new config options in Tempest's config file.\n\nThis patch also modifies scenario jobs definitions that this\nnew advanced_image can be configured and used when it's nesessary.\n\nFinally this patch also changes tests mentioned above that now\nthis advanced image is used in those tests.\nAll other scenario tests should works with default, Cirros image.\n\nChange-Id: If1b83fbaf33cc01473badeb5cabc8e8670d51d9e\n""}, {'number': 13, 'created': '2018-10-14 09:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/45e5528c07497c70c3ca49ebacd1fde6773b5d14', 'message': ""Use advanced image only when it's necessary\n\nIn some scenario tests there is need to use advanced image,\nlike Ubuntu or Centos, because Cirros doesn't provide required\nfeatures.\nIt is like that in some tests from modules:\n\n    neutron_tempest_plugin.scenario.test_mtu\n    neutron_tempest_plugin.scenario.test_trunk\n\nBut such advanced image needs much more time to boot and to\nhave SSH to vm available.\n\nThere is no need to use such advanced image in all tests.\n\nThis patch makes some changes in tempest plugin config options:\n\n* image_is_advanced - option is removed,\n* advanced_image_ref - new option added - it's uuid for advanced image,\n* advanced_flavor_ref - new option added - id of flavor to use with\n  advanced image\n* advanced_image_ssh_user - new option added - name of user to use\n  to ssh to vm booted from advanced image,\n\nThis patch also modify neutron_tempest_plugin devstack plugin that\nit now can find advanced image id in installed Glance service and\nconfigure those new config options in Tempest's config file.\n\nThis patch also modifies scenario jobs definitions that this\nnew advanced_image can be configured and used when it's nesessary.\n\nFinally this patch also changes tests mentioned above that now\nthis advanced image is used in those tests.\nAll other scenario tests should works with default, Cirros image.\n\nChange-Id: If1b83fbaf33cc01473badeb5cabc8e8670d51d9e\n""}, {'number': 14, 'created': '2018-10-14 11:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/29813c1f21c94dc178695b91c7639858fc3d46b8', 'message': ""Use advanced image only when it's necessary\n\nIn some scenario tests there is need to use advanced image,\nlike Ubuntu or Centos, because Cirros doesn't provide required\nfeatures.\nIt is like that in some tests from modules:\n\n    neutron_tempest_plugin.scenario.test_mtu\n    neutron_tempest_plugin.scenario.test_trunk\n\nBut such advanced image needs much more time to boot and to\nhave SSH to vm available.\n\nThere is no need to use such advanced image in all tests.\n\nThis patch makes some changes in tempest plugin config options:\n\n* image_is_advanced - option is removed,\n* advanced_image_ref - new option added - it's uuid for advanced image,\n* advanced_flavor_ref - new option added - id of flavor to use with\n  advanced image\n* advanced_image_ssh_user - new option added - name of user to use\n  to ssh to vm booted from advanced image,\n\nThis patch also modify neutron_tempest_plugin devstack plugin that\nit now can find advanced image id in installed Glance service and\nconfigure those new config options in Tempest's config file.\n\nThis patch also modifies scenario jobs definitions that this\nnew advanced_image can be configured and used when it's nesessary.\n\nFinally this patch also changes tests mentioned above that now\nthis advanced image is used in those tests.\nAll other scenario tests should works with default, Cirros image.\n\nChange-Id: If1b83fbaf33cc01473badeb5cabc8e8670d51d9e\n""}, {'number': 15, 'created': '2018-10-15 08:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/cd77c500308b1d35fe4238057cc63573c2c32fcb', 'message': ""Use advanced image only when it's necessary\n\nIn some scenario tests there is need to use advanced image,\nlike Ubuntu or Centos, because Cirros doesn't provide required\nfeatures.\nIt is like that in some tests from modules:\n\n    neutron_tempest_plugin.scenario.test_mtu\n    neutron_tempest_plugin.scenario.test_trunk\n\nBut such advanced image needs much more time to boot and to\nhave SSH to vm available.\n\nThere is no need to use such advanced image in all tests.\n\nThis patch makes some changes in tempest plugin config options:\n\n* image_is_advanced - option is removed,\n* advanced_image_ref - new option added - it's uuid for advanced image,\n* advanced_flavor_ref - new option added - id of flavor to use with\n  advanced image\n* advanced_image_ssh_user - new option added - name of user to use\n  to ssh to vm booted from advanced image,\n\nThis patch also modify neutron_tempest_plugin devstack plugin that\nit now can find advanced image id in installed Glance service and\nconfigure those new config options in Tempest's config file.\n\nThis patch also modifies scenario jobs definitions that this\nnew advanced_image can be configured and used when it's nesessary.\n\nFinally this patch also changes tests mentioned above that now\nthis advanced image is used in those tests.\nAll other scenario tests should works with default, Cirros image.\n\nChange-Id: If1b83fbaf33cc01473badeb5cabc8e8670d51d9e\n""}, {'number': 16, 'created': '2018-10-15 21:03:44.000000000', 'files': ['.zuul.yaml', 'devstack/plugin.sh', 'neutron_tempest_plugin/scenario/test_trunk.py', 'neutron_tempest_plugin/scenario/test_mtu.py', 'neutron_tempest_plugin/config.py', 'devstack/settings', 'devstack/functions.sh'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/da17f00f2f3982495bcce38927f890873f5cc957', 'message': ""Use advanced image only when it's necessary\n\nIn some scenario tests there is need to use advanced image,\nlike Ubuntu or Centos, because Cirros doesn't provide required\nfeatures.\nIt is like that in some tests from modules:\n\n    neutron_tempest_plugin.scenario.test_mtu\n    neutron_tempest_plugin.scenario.test_trunk\n\nBut such advanced image needs much more time to boot and to\nhave SSH to vm available.\n\nThere is no need to use such advanced image in all tests.\n\nThis patch makes some changes in tempest plugin config options:\n\n* image_is_advanced - option is removed,\n* advanced_image_ref - new option added - it's uuid for advanced image,\n* advanced_flavor_ref - new option added - id of flavor to use with\n  advanced image\n* advanced_image_ssh_user - new option added - name of user to use\n  to ssh to vm booted from advanced image,\n\nThis patch also modify neutron_tempest_plugin devstack plugin that\nit now can find advanced image id in installed Glance service and\nconfigure those new config options in Tempest's config file.\n\nThis patch also modifies scenario jobs definitions that this\nnew advanced_image can be configured and used when it's nesessary.\n\nFinally this patch also changes tests mentioned above that now\nthis advanced image is used in those tests.\nAll other scenario tests should works with default, Cirros image.\n\nChange-Id: If1b83fbaf33cc01473badeb5cabc8e8670d51d9e\n""}]",28,609762,da17f00f2f3982495bcce38927f890873f5cc957,41,9,16,11975,,,0,"Use advanced image only when it's necessary

In some scenario tests there is need to use advanced image,
like Ubuntu or Centos, because Cirros doesn't provide required
features.
It is like that in some tests from modules:

    neutron_tempest_plugin.scenario.test_mtu
    neutron_tempest_plugin.scenario.test_trunk

But such advanced image needs much more time to boot and to
have SSH to vm available.

There is no need to use such advanced image in all tests.

This patch makes some changes in tempest plugin config options:

* image_is_advanced - option is removed,
* advanced_image_ref - new option added - it's uuid for advanced image,
* advanced_flavor_ref - new option added - id of flavor to use with
  advanced image
* advanced_image_ssh_user - new option added - name of user to use
  to ssh to vm booted from advanced image,

This patch also modify neutron_tempest_plugin devstack plugin that
it now can find advanced image id in installed Glance service and
configure those new config options in Tempest's config file.

This patch also modifies scenario jobs definitions that this
new advanced_image can be configured and used when it's nesessary.

Finally this patch also changes tests mentioned above that now
this advanced image is used in those tests.
All other scenario tests should works with default, Cirros image.

Change-Id: If1b83fbaf33cc01473badeb5cabc8e8670d51d9e
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/62/609762/7 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'devstack/plugin.sh', 'neutron_tempest_plugin/scenario/test_trunk.py', 'neutron_tempest_plugin/scenario/test_mtu.py', 'neutron_tempest_plugin/config.py', 'devstack/functions.sh', 'devstack/settings']",7,d2b2b14dcfa81cb1994332ac422ebe89a0086be3,run-advanced-image-tests-separately," ADVANCED_IMAGE_NAME=${ADVANCED_IMAGE_NAME:-""""} ADVANCED_INSTANCE_TYPE=${ADVANCED_INSTANCE_TYPE:-$DEFAULT_INSTANCE_TYPE} ADVANCED_INSTANCE_USER=${ADVANCED_INSTANCE_USER:-$DEFAULT_INSTANCE_USER}",,109,32
openstack%2Fmanila~master~Ie2449a433e07f4cafb55fe1db247ba9f854cef97,openstack/manila,master,Ie2449a433e07f4cafb55fe1db247ba9f854cef97,change tox envlist from 3.5 to 3,MERGED,2018-10-04 13:26:09.000000000,2018-10-17 09:56:49.000000000,2018-10-17 02:05:40.000000000,"[{'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}]","[{'number': 1, 'created': '2018-10-04 13:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e215504848bc2812dd63fc3ba141397069e72267', 'message': ""change tox envlist from 3.5 to 3\n\nbase python version is 3, not 3.5 and\npython 3.5 is not installed in some current\ndistros so running 'tox' locally fails.\n\nChange-Id: Ie2449a433e07f4cafb55fe1db247ba9f854cef97\n""}, {'number': 2, 'created': '2018-10-04 14:27:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/manila/commit/e62f1f4f9c6077640b8b016057f780cd02bf040a', 'message': ""change tox envlist from 3.5 to 3\n\nbase python version is 3, not 3.5 and\npython 3.5 is not installed in some current\ndistros so running 'tox' locally fails.\n\nChange-Id: Ie2449a433e07f4cafb55fe1db247ba9f854cef97\n""}]",1,607959,e62f1f4f9c6077640b8b016057f780cd02bf040a,23,13,2,9003,,,0,"change tox envlist from 3.5 to 3

base python version is 3, not 3.5 and
python 3.5 is not installed in some current
distros so running 'tox' locally fails.

Change-Id: Ie2449a433e07f4cafb55fe1db247ba9f854cef97
",git fetch https://review.opendev.org/openstack/manila refs/changes/59/607959/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e215504848bc2812dd63fc3ba141397069e72267,,"envlist = py3,py27,pep8[testenv:debug-py5] basepython = python3","envlist = py35,py27,pep8[testenv:debug-py35] basepython = python3.5",3,3
openstack%2Fopenstack-ansible-os_horizon~master~I1bf08d5560dc2256dd34a4fed04b3d8feefe281f,openstack/openstack-ansible-os_horizon,master,I1bf08d5560dc2256dd34a4fed04b3d8feefe281f,Use openstack-ansible-role-distro_install-jobs template,ABANDONED,2018-10-17 09:54:27.000000000,2018-10-17 09:55:23.000000000,,[],"[{'number': 1, 'created': '2018-10-17 09:54:27.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/13b4f097df7bdbbdb4477630e898154d15f6ff90', 'message': 'Use openstack-ansible-role-distro_install-jobs template\n\nRather than re-define the jobs to run, we switch to using the\ncommon distro install job template.\n\nChange-Id: I1bf08d5560dc2256dd34a4fed04b3d8feefe281f\n'}]",0,611277,13b4f097df7bdbbdb4477630e898154d15f6ff90,2,0,1,6816,,,0,"Use openstack-ansible-role-distro_install-jobs template

Rather than re-define the jobs to run, we switch to using the
common distro install job template.

Change-Id: I1bf08d5560dc2256dd34a4fed04b3d8feefe281f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/77/611277/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,13b4f097df7bdbbdb4477630e898154d15f6ff90,, - openstack-ansible-role-distro_install-jobs, check: jobs: - openstack-ansible-functional-distro_install-centos-7 - openstack-ansible-functional-distro_install-opensuse-423 - openstack-ansible-functional-distro_install-opensuse-150 - openstack-ansible-functional-distro_install-ubuntu-xenial gate: jobs: - openstack-ansible-functional-distro_install-centos-7 - openstack-ansible-functional-distro_install-opensuse-423 - openstack-ansible-functional-distro_install-opensuse-150 - openstack-ansible-functional-distro_install-ubuntu-xenial,1,12
openstack%2Fpuppet-tripleo~stable%2Frocky~I5a41f95b2d91a25fe617afb9ada0b5201d2b7ef7,openstack/puppet-tripleo,stable/rocky,I5a41f95b2d91a25fe617afb9ada0b5201d2b7ef7,Fix ceph-nfs duplicate property,MERGED,2018-10-17 00:39:59.000000000,2018-10-17 09:36:33.000000000,2018-10-17 08:12:20.000000000,"[{'_account_id': 6796}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-17 00:39:59.000000000', 'files': ['manifests/profile/pacemaker/ceph_nfs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/148347b2d0f4a31547ea98f0cb3d6129360225c1', 'message': ""Fix ceph-nfs duplicate property\n\nIn change I78c16c9fb28211a7a8ec2187ae76b9a072b76ea2 we eliminated\nstartup races with ceph nfs, but we need to make sure we do\nnot create duplicate properies or puppet will fail.\n\nWhile we're at it we also point the bootstrapnode at\nceph_nfs_short_bootstrap_node_name instead of which is more correct.\nIt is functionally the same if ceph-nfs and manila-share run on the\nsame nodes, which is likely the case in most cases, but best\nmake it correct while we're at it.\n\nCloses-Bug: #1798020\n\nChange-Id: I5a41f95b2d91a25fe617afb9ada0b5201d2b7ef7\n(cherry picked from commit 7e3219ff2b2ec3fdd43f0dd26dc487b78ccbf3eb)\n""}]",0,611203,148347b2d0f4a31547ea98f0cb3d6129360225c1,8,4,1,9003,,,0,"Fix ceph-nfs duplicate property

In change I78c16c9fb28211a7a8ec2187ae76b9a072b76ea2 we eliminated
startup races with ceph nfs, but we need to make sure we do
not create duplicate properies or puppet will fail.

While we're at it we also point the bootstrapnode at
ceph_nfs_short_bootstrap_node_name instead of which is more correct.
It is functionally the same if ceph-nfs and manila-share run on the
same nodes, which is likely the case in most cases, but best
make it correct while we're at it.

Closes-Bug: #1798020

Change-Id: I5a41f95b2d91a25fe617afb9ada0b5201d2b7ef7
(cherry picked from commit 7e3219ff2b2ec3fdd43f0dd26dc487b78ccbf3eb)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/03/611203/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/ceph_nfs.pp'],1,148347b2d0f4a31547ea98f0cb3d6129360225c1,fix-ceph-nfs-stable/rocky,"# Defaults to hiera('ceph_nfs_short_bootstrap_node_name') $bootstrap_node = hiera('ceph_nfs_short_bootstrap_node_name'), # We only set the properties for the non-bootstrap nodes # because we set the property for the bootstrap node at step 2 # already if $node_name != $bootstrap_node { pacemaker::property { ""ceph-nfs-role-${node_name}"": property => 'ceph-nfs-role', value => true, tries => $pcs_tries, node => $node_name, }","# Defaults to hiera('manila_share_short_bootstrap_node_name') $bootstrap_node = hiera('manila_share_short_bootstrap_node_name'), pacemaker::property { ""ceph-nfs-role-${node_name}"": property => 'ceph-nfs-role', value => true, tries => $pcs_tries, node => $node_name,",12,7
openstack%2Fcharm-ceph-mon~master~I796a4b95bbc79c57ec9fec45a4bb9623800cefbc,openstack/charm-ceph-mon,master,I796a4b95bbc79c57ec9fec45a4bb9623800cefbc,charm-recheck,ABANDONED,2018-10-17 09:33:43.000000000,2018-10-17 09:33:52.000000000,,[],"[{'number': 1, 'created': '2018-10-17 09:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/da1a36cf668187671a0f5904ef8b5ca5831c5ca7', 'message': 'charm-recheck\n\nChange-Id: I796a4b95bbc79c57ec9fec45a4bb9623800cefbc\n'}]",0,611273,da1a36cf668187671a0f5904ef8b5ca5831c5ca7,2,0,1,8097,,,0,"charm-recheck

Change-Id: I796a4b95bbc79c57ec9fec45a4bb9623800cefbc
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/73/611273/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,da1a36cf668187671a0f5904ef8b5ca5831c5ca7,,,,0,0
openstack%2Fcharm-ceph-mon~refs%2Fchanges%2F78%2F610878%2F1~I8d57719fce4f152a105d8a61c08b556873105708,openstack/charm-ceph-mon,refs/changes/78/610878/1,I8d57719fce4f152a105d8a61c08b556873105708,"Use fully qualified basepython for py{35,36} targets",ABANDONED,2018-10-17 09:31:40.000000000,2018-10-17 09:32:05.000000000,,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 09:31:40.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/7e5c056aa26f83190a9811413f5feac9f81f326a', 'message': 'Use fully qualified basepython for py{35,36} targets\n\nMake sure the exact python version is used for specific python\nunit testing targets.\n\nChange-Id: I8d57719fce4f152a105d8a61c08b556873105708\n'}]",0,611272,7e5c056aa26f83190a9811413f5feac9f81f326a,3,2,1,8097,,,0,"Use fully qualified basepython for py{35,36} targets

Make sure the exact python version is used for specific python
unit testing targets.

Change-Id: I8d57719fce4f152a105d8a61c08b556873105708
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/72/611272/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7e5c056aa26f83190a9811413f5feac9f81f326a,python3-explicit-py-refs/changes/78/610878/1,basepython = python3.5basepython = python3.6,basepython = python3basepython = python3,2,2
openstack%2Fcharm-ceph-mon~master~I785b015386f495a731d842502f4ae5c88997a8f0,openstack/charm-ceph-mon,master,I785b015386f495a731d842502f4ae5c88997a8f0,tox,ABANDONED,2018-10-17 09:28:05.000000000,2018-10-17 09:29:27.000000000,,[],"[{'number': 1, 'created': '2018-10-17 09:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/47a735865e579e490ffb5f5be5caded1c4870532', 'message': 'tox\n\nChange-Id: I785b015386f495a731d842502f4ae5c88997a8f0\n'}]",0,611271,47a735865e579e490ffb5f5be5caded1c4870532,2,0,1,8097,,,0,"tox

Change-Id: I785b015386f495a731d842502f4ae5c88997a8f0
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/71/611271/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,47a735865e579e490ffb5f5be5caded1c4870532,,,,0,0
openstack%2Fpuppet-keystone~master~I5166432f683f9b8555ee5dad8ac38f7ecdd2d364,openstack/puppet-keystone,master,I5166432f683f9b8555ee5dad8ac38f7ecdd2d364,Update min tox version to 2.0,MERGED,2018-10-16 03:43:28.000000000,2018-10-17 09:28:23.000000000,2018-10-17 09:28:22.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-16 03:43:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/d456896e82b782c514efbb5a76806776cdaf0eb8', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: I5166432f683f9b8555ee5dad8ac38f7ecdd2d364\n'}]",0,610864,d456896e82b782c514efbb5a76806776cdaf0eb8,19,5,1,9414,,,0,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.  Update to
reflect reality, which should help with local running of constraints
targets.

Change-Id: I5166432f683f9b8555ee5dad8ac38f7ecdd2d364
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/64/610864/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d456896e82b782c514efbb5a76806776cdaf0eb8,update-tox-version,minversion = 2.0,minversion = 1.6,1,1
openstack%2Fneutron-specs~master~I6e18dd70a74694ba2e7aad535f487498a26d05bb,openstack/neutron-specs,master,I6e18dd70a74694ba2e7aad535f487498a26d05bb,fix tox python3 overrides,MERGED,2018-09-29 23:52:02.000000000,2018-10-17 09:26:53.000000000,2018-10-17 09:26:53.000000000,"[{'_account_id': 1131}, {'_account_id': 2472}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-29 23:52:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/41e6bddb72c19f27a10a4b7fe6960684a1472b5c', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I6e18dd70a74694ba2e7aad535f487498a26d05bb\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-10-17 03:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/5e328bdb0b74d55a3b581e184e7f1d80edec52f2', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I6e18dd70a74694ba2e7aad535f487498a26d05bb\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2018-10-17 04:16:39.000000000', 'files': ['specs/mitaka/bgp-dynamic-routing.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8857a844ba5eb59c87c5517dd08d3627cdc3e79c', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I6e18dd70a74694ba2e7aad535f487498a26d05bb\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,606680,8857a844ba5eb59c87c5517dd08d3627cdc3e79c,13,4,3,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I6e18dd70a74694ba2e7aad535f487498a26d05bb
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/80/606680/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,41e6bddb72c19f27a10a4b7fe6960684a1472b5c,python3-first,basepython = python3basepython = python3,,2,0
openstack%2Ftripleo-heat-templates~master~I4de45588cbfb0a4366b49bdc9120e4e95e42d8e1,openstack/tripleo-heat-templates,master,I4de45588cbfb0a4366b49bdc9120e4e95e42d8e1,DNM: test update,ABANDONED,2018-10-16 16:54:41.000000000,2018-10-17 09:16:35.000000000,,"[{'_account_id': 8042}, {'_account_id': 8871}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 16:54:41.000000000', 'files': ['ci/environments/scenario000-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c6d849240168752eb7bae8790e03bdb729919de8', 'message': 'DNM: test update\n\nChange-Id: I4de45588cbfb0a4366b49bdc9120e4e95e42d8e1\n'}]",0,611090,c6d849240168752eb7bae8790e03bdb729919de8,5,3,1,8042,,,0,"DNM: test update

Change-Id: I4de45588cbfb0a4366b49bdc9120e4e95e42d8e1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/611090/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario000-multinode-containers.yaml'],1,c6d849240168752eb7bae8790e03bdb729919de8,bug/1792613,# DNM: test update ,,2,0
openstack%2Foslo.policy~master~I2ca0cd67eca4d1b2d0320f7ecb40c9ff55229b12,openstack/oslo.policy,master,I2ca0cd67eca4d1b2d0320f7ecb40c9ff55229b12,Add minor nits in testing documentation,MERGED,2018-10-16 17:39:11.000000000,2018-10-17 09:09:47.000000000,2018-10-17 09:09:47.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 17:39:11.000000000', 'files': ['doc/source/user/usage.rst'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/f682dab9a9b558200f84d062db46da281345d4cc', 'message': 'Add minor nits in testing documentation\n\nThis commit addresses nits from\nhttps://review.openstack.org/#/c/604192/1\n\nChange-Id: I2ca0cd67eca4d1b2d0320f7ecb40c9ff55229b12\n'}]",0,611111,f682dab9a9b558200f84d062db46da281345d4cc,7,3,1,5046,,,0,"Add minor nits in testing documentation

This commit addresses nits from
https://review.openstack.org/#/c/604192/1

Change-Id: I2ca0cd67eca4d1b2d0320f7ecb40c9ff55229b12
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/11/611111/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/usage.rst'],1,f682dab9a9b558200f84d062db46da281345d4cc,,"authorization context is relayed to services by the token used to call an API,it's likely that seemingly simple changes negatively impact users or operators,Enforcement here is straightforward in that a user with a role called ``admin`` may access this API. You can model this in a request context by setting these","authorization context it relayed to services by the token used to call an API,it's likely that seemly simple changes negatively impact users or operators,Enforcement here is straightforward in that a user with a role called admin may access this API. You can model this in a request context by setting these",4,4
openstack%2Fmistral-lib~master~I4a7c89f02c1973945a2534ed1773d7e9d3a25afe,openstack/mistral-lib,master,I4a7c89f02c1973945a2534ed1773d7e9d3a25afe,Update the hacking to latest,MERGED,2018-10-16 15:48:10.000000000,2018-10-17 09:01:26.000000000,2018-10-17 09:01:26.000000000,"[{'_account_id': 9712}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-10-16 15:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/d7470ed8f236c820d2e9385d653ac0d654c03f4f', 'message': 'Update the hacking to latst\n\nChange-Id: I4a7c89f02c1973945a2534ed1773d7e9d3a25afe\n'}, {'number': 2, 'created': '2018-10-16 16:27:40.000000000', 'files': ['HACKING.rst'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/a450239995ea4b9b9df9279b00afa01b2d1882e0', 'message': 'Update the hacking to latest\n\nChange-Id: I4a7c89f02c1973945a2534ed1773d7e9d3a25afe\n'}]",1,611058,a450239995ea4b9b9df9279b00afa01b2d1882e0,8,3,2,21691,,,0,"Update the hacking to latest

Change-Id: I4a7c89f02c1973945a2534ed1773d7e9d3a25afe
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/58/611058/2 && git format-patch -1 --stdout FETCH_HEAD,['HACKING.rst'],1,d7470ed8f236c820d2e9385d653ac0d654c03f4f,,Read the OpenStack Style Commandments https://docs.openstack.org/hacking/latest/,Read the OpenStack Style Commandments http://docs.openstack.org/developer/hacking/,1,1
openstack%2Fnetworking-odl~stable%2Fliberty~I929b439d8fedc2d8e420b1537771639cebdbd77a,openstack/networking-odl,stable/liberty,I929b439d8fedc2d8e420b1537771639cebdbd77a,Update .gitreview for stable/liberty,ABANDONED,2018-02-21 22:33:57.000000000,2018-10-17 08:57:29.000000000,,"[{'_account_id': 333}, {'_account_id': 6854}, {'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-02-21 22:33:57.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e34a4b62a31835ccc9a669b9a5518114ae261686', 'message': 'Update .gitreview for stable/liberty\n\nChange-Id: I929b439d8fedc2d8e420b1537771639cebdbd77a\n'}]",0,546793,e34a4b62a31835ccc9a669b9a5518114ae261686,6,4,1,22816,,,0,"Update .gitreview for stable/liberty

Change-Id: I929b439d8fedc2d8e420b1537771639cebdbd77a
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/93/546793/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,e34a4b62a31835ccc9a669b9a5518114ae261686,create-liberty,defaultbranch=stable/liberty,,1,0
openstack%2Fnetworking-odl~stable%2Fpike~Iacba50efe8fc4eee3ebac14423852aa87f2d72e8,openstack/networking-odl,stable/pike,Iacba50efe8fc4eee3ebac14423852aa87f2d72e8,Enabled feature negotation for qos rules,ABANDONED,2018-08-07 16:19:27.000000000,2018-10-17 08:57:08.000000000,,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26214}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-08-07 16:19:27.000000000', 'files': ['networking_odl/tests/unit/qos/test_qos_driver_v2.py', 'networking_odl/qos/qos_driver_v2.py', 'networking_odl/ml2/mech_driver_v2.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/96cd96305985fb82679505734c7f6ef533a14a1d', 'message': 'Enabled feature negotation for qos rules\n\nThis patch enables feature negotiations for qos rules. Now\nconfiguration of rules are being fetched from the get_config\napi of the odl_feature\n\nChange-Id: Iacba50efe8fc4eee3ebac14423852aa87f2d72e8\nCloses-bug: #1686625\n(cherry picked from commit 86175e8f557f1f7930e097cab8345a40b8bce6f8)\n'}]",0,589538,96cd96305985fb82679505734c7f6ef533a14a1d,6,6,1,13912,,,0,"Enabled feature negotation for qos rules

This patch enables feature negotiations for qos rules. Now
configuration of rules are being fetched from the get_config
api of the odl_feature

Change-Id: Iacba50efe8fc4eee3ebac14423852aa87f2d72e8
Closes-bug: #1686625
(cherry picked from commit 86175e8f557f1f7930e097cab8345a40b8bce6f8)
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/38/589538/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/tests/unit/qos/test_qos_driver_v2.py', 'networking_odl/qos/qos_driver_v2.py', 'networking_odl/ml2/mech_driver_v2.py']",3,96cd96305985fb82679505734c7f6ef533a14a1d,582745, if odl_const.ODL_QOS in cfg.CONF.ml2.extension_drivers: qos_driver.OpenDaylightQosDriver.create() , if odl_const.ODL_QOS in cfg.CONF.ml2.extension_drivers: qos_driver.OpenDaylightQosDriver.create(),50,15
openstack%2Fnetworking-odl~stable%2Fpike~I274f9ac337be5acd1f56d173fcd7584c82dd3b24,openstack/networking-odl,stable/pike,I274f9ac337be5acd1f56d173fcd7584c82dd3b24,ODL feature fetch: parse configs,ABANDONED,2018-07-15 06:50:49.000000000,2018-10-17 08:57:00.000000000,,"[{'_account_id': 17120}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22380}, {'_account_id': 26214}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-07-15 06:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/55fa63f19aa63b541c3e2f7931ca20bf12eed393', 'message': 'ODL feature fetch: parse configs\n\nODL supports a configuration string for each feature.\nThis string is now extracted from the json and made\navailable in the odl_features API.\n\nCo-Authored-By: Michel Peterson <michel@redhat.com>\nChange-Id: I274f9ac337be5acd1f56d173fcd7584c82dd3b24\n'}, {'number': 2, 'created': '2018-07-15 12:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/8c75ae07f5607be41a2fff5df9a04c87d812912b', 'message': 'ODL feature fetch: parse configs\n\nODL supports a configuration string for each feature.\nThis string is now extracted from the json and made\navailable in the odl_features API.\n\nCo-Authored-By: Michel Peterson <michel@redhat.com>\nChange-Id: I274f9ac337be5acd1f56d173fcd7584c82dd3b24\n'}, {'number': 3, 'created': '2018-07-15 13:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e5126322d554b1a856c73df9ac1cea75cf4be659', 'message': 'ODL feature fetch: parse configs\n\nODL supports a configuration string for each feature.\nThis string is now extracted from the json and made\navailable in the odl_features API.\n\nCo-Authored-By: Michel Peterson <michel@redhat.com>\nChange-Id: I274f9ac337be5acd1f56d173fcd7584c82dd3b24\n'}, {'number': 4, 'created': '2018-07-15 16:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5ffb8a178e307091e43f720aae5e63df2a8aab62', 'message': 'ODL feature fetch: parse configs\n\nODL supports a configuration string for each feature.\nThis string is now extracted from the json and made\navailable in the odl_features API.\n\nCo-Authored-By: Michel Peterson <michel@redhat.com>\nChange-Id: I274f9ac337be5acd1f56d173fcd7584c82dd3b24\n'}, {'number': 5, 'created': '2018-07-15 17:15:47.000000000', 'files': ['networking_odl/tests/unit/ml2/test_pseudo_agentdb_binding.py', 'networking_odl/common/config.py', 'networking_odl/tests/base.py', 'networking_odl/tests/unit/common/test_odl_features.py', 'releasenotes/notes/odl_features-option-type-change-367385ae7d1e949e.yaml', 'networking_odl/common/odl_features.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0e5f845d2e4fd45eae9307ddec0c72eedc41bfec', 'message': 'ODL feature fetch: parse configs\n\nODL supports a configuration string for each feature.\nThis string is now extracted from the json and made\navailable in the odl_features API.\n\nCo-Authored-By: Michel Peterson <michel@redhat.com>\nChange-Id: I274f9ac337be5acd1f56d173fcd7584c82dd3b24\n'}]",0,582745,0e5f845d2e4fd45eae9307ddec0c72eedc41bfec,28,6,5,22380,,,0,"ODL feature fetch: parse configs

ODL supports a configuration string for each feature.
This string is now extracted from the json and made
available in the odl_features API.

Co-Authored-By: Michel Peterson <michel@redhat.com>
Change-Id: I274f9ac337be5acd1f56d173fcd7584c82dd3b24
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/45/582745/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/tests/unit/ml2/test_pseudo_agentdb_binding.py', 'networking_odl/common/config.py', 'networking_odl/tests/base.py', 'networking_odl/tests/unit/common/test_odl_features.py', 'releasenotes/notes/odl_features-option-type-change-367385ae7d1e949e.yaml', 'networking_odl/common/odl_features.py']",6,55fa63f19aa63b541c3e2f7931ca20bf12eed393,,"import copyfrom oslo_serialization import jsonutilsEMPTY_FEATURES = {} feature_configs = copy.copy(EMPTY_FEATURES) global feature_configs feature_configs = None if cfg.CONF.ml2_odl.odl_features_json is not None: json = jsonutils.loads(cfg.CONF.ml2_odl.odl_features_json) feature_configs = _load_features(json) return feature_configs = {feature: '' for feature in cfg.CONF.ml2_odl.odl_features} feature_configs = _fetch_features() if feature_configs is not None: return feature in feature_configs def get_config(feature): return feature_configs[feature] global feature_configs feature_configs = copy.copy(EMPTY_FEATURES) return copy.copy(EMPTY_FEATURES) # documentation on the JSON received can be found at: # https://github.com/opendaylight/neutron/blob/master/model/src/main/yang/neutron-extensions.yang response = {} for feature in features['feature']: cfg = feature.get('configuration', '') response[feature['service-provider-feature'].split(':')[1]] = cfg return copy.copy(EMPTY_FEATURES) return copy.copy(EMPTY_FEATURES)",feature_set = set() global feature_set feature_set = None feature_set = set(cfg.CONF.ml2_odl.odl_features) feature_set = _fetch_features() if feature_set is not None: return feature in feature_set global feature_set feature_set = set() return response = set() for feature in features['feature']: response.add(feature['service-provider-feature'].split(':')[1]) return set() return set(),162,31
openstack%2Fnetworking-odl~stable%2Fqueens~I1952f643c26df8972b83f9becdbc969990face76,openstack/networking-odl,stable/queens,I1952f643c26df8972b83f9becdbc969990face76,DNM: test stable/queens gate,ABANDONED,2018-06-21 14:56:55.000000000,2018-10-17 08:56:54.000000000,,"[{'_account_id': 5367}, {'_account_id': 7921}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-06-21 14:56:55.000000000', 'files': ['networking_odl/tests/unit/base_v2.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/62b910fe165ad33d6e87d8eeaf2f1ce22d36849a', 'message': 'DNM: test stable/queens gate\n\nDO NOT MERGE\n\nThis is a test of stable/queens to see if\nhttps://bugs.launchpad.net/openstack-requirements/+bug/1778054 breaks\nthe gate.\n\nChange-Id: I1952f643c26df8972b83f9becdbc969990face76\n'}]",0,577205,62b910fe165ad33d6e87d8eeaf2f1ce22d36849a,10,5,1,5367,,,0,"DNM: test stable/queens gate

DO NOT MERGE

This is a test of stable/queens to see if
https://bugs.launchpad.net/openstack-requirements/+bug/1778054 breaks
the gate.

Change-Id: I1952f643c26df8972b83f9becdbc969990face76
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/05/577205/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/tests/unit/base_v2.py'],1,62b910fe165ad33d6e87d8eeaf2f1ce22d36849a,test-queens-gate,# dummy change,,1,0
openstack%2Fnetworking-odl~stable%2Fpike~Id4a493aa2dfbd21b6d3cff666eaf44f58a3aec1f,openstack/networking-odl,stable/pike,Id4a493aa2dfbd21b6d3cff666eaf44f58a3aec1f,ODL DHCP Port to be created only for Ipv4 subnets.,ABANDONED,2018-02-01 11:46:07.000000000,2018-10-17 08:56:47.000000000,,"[{'_account_id': 333}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 25550}, {'_account_id': 25587}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-02-01 11:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/4e7191eec33520992ecf7474d3620d693f752954', 'message': 'ODL DHCP Port to be created only for Ipv4 subnets.\n\nChange-Id: Id4a493aa2dfbd21b6d3cff666eaf44f58a3aec1f\nSigned-off-by: Achuth Maniyedath <achuth.m@altencalsoftlabs.com>\n'}, {'number': 3, 'created': '2018-02-02 05:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/d0f2f14405e32706f87cbebffdb6e590659f8ed3', 'message': 'ODL DHCP Port to be created only for Ipv4 subnets.\n\nChange-Id: Id4a493aa2dfbd21b6d3cff666eaf44f58a3aec1f\nSigned-off-by: Achuth Maniyedath <achuth.m@altencalsoftlabs.com>\n'}, {'number': 4, 'created': '2018-02-22 15:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/deb116aac7648d4553959abbde6a77184553b3ef', 'message': 'ODL DHCP Port to be created only for Ipv4 subnets.\n\nOpenDaylight dhcp service only supports Arp\nresponder feature for IPv4 subnets today.\nAvoiding creation of a dhcp port for IPv6 subnets will\nensure no processing of these ports happens from ODL\nfor dhcp/IPv6 services.\n\nOpenDaylight IPv6 service internally creates improper bindings on these ports\nleading to inconsistencies in the OpenDaylight environment.\n\nCloses-Bug: 1746715\n\nChange-Id: Id4a493aa2dfbd21b6d3cff666eaf44f58a3aec1f\n'}, {'number': 5, 'created': '2018-03-02 08:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/faa9a9245d7e0de33c3a585c036c42d5dd28607c', 'message': 'ODL DHCP Port to be created only for Ipv4 subnets.\n\nOpenDaylight DHCP service only supports ARP Responder\nfeature for IPv4 subnets today. This fix will avoid\ncreation of a DHCP port for IPv6 subnets and ensure\nno processing of these ports happens from ODL for\nDHCP/IPv6 services.\n\nOpenDaylight IPv6 service internally creates improper\nbindings on these ports leading to inconsistencies in the\nOpenDaylight environment.\n\nCherry-picked from commit Id4a493aa2dfbd21b6d3cff666eaf44f58a3aec1f\n\nCloses-Bug: 1746715\n\nChange-Id: Id4a493aa2dfbd21b6d3cff666eaf44f58a3aec1f\n'}, {'number': 6, 'created': '2018-05-01 07:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b9a0890be0ab57f5c49a61c656937a85caa16aff', 'message': 'ODL DHCP Port to be created only for Ipv4 subnets.\n\nOpenDaylight DHCP service only supports ARP Responder\nfeature for IPv4 subnets today. This fix will avoid\ncreation of a DHCP port for IPv6 subnets and ensure\nno processing of these ports happens from ODL for\nDHCP/IPv6 services.\n\nOpenDaylight IPv6 service internally creates improper\nbindings on these ports leading to inconsistencies in the\nOpenDaylight environment.\n\nCherry-picked from commit Id4a493aa2dfbd21b6d3cff666eaf44f58a3aec1f\n\nCloses-Bug: 1746715\n\nChange-Id: Id4a493aa2dfbd21b6d3cff666eaf44f58a3aec1f\n'}, {'number': 7, 'created': '2018-06-06 07:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5825e388a31624939ffedee0b2cce3c3db22f9e6', 'message': 'ODL DHCP Port to be created only for Ipv4 subnets.\n\nOpenDaylight DHCP service only supports ARP Responder\nfeature for IPv4 subnets today. This fix will avoid\ncreation of a DHCP port for IPv6 subnets and ensure\nno processing of these ports happens from ODL for\nDHCP/IPv6 services.\n\nOpenDaylight IPv6 service internally creates improper\nbindings on these ports leading to inconsistencies in the\nOpenDaylight environment.\n\nCherry-picked from commit Id4a493aa2dfbd21b6d3cff666eaf44f58a3aec1f\n\nCloses-Bug: 1746715\n\nChange-Id: Id4a493aa2dfbd21b6d3cff666eaf44f58a3aec1f\n'}, {'number': 8, 'created': '2018-06-06 08:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/2838ee5dd000a97bec4f975c0ed395af565b2f65', 'message': 'ODL DHCP Port to be created only for Ipv4 subnets.\n\nOpenDaylight DHCP service only supports ARP Responder\nfeature for IPv4 subnets today. This fix will avoid\ncreation of a DHCP port for IPv6 subnets and ensure\nno processing of these ports happens from ODL for\nDHCP/IPv6 services.\n\nOpenDaylight IPv6 service internally creates improper\nbindings on these ports leading to inconsistencies in the\nOpenDaylight environment.\n\nCherry-picked from commit Id4a493aa2dfbd21b6d3cff666eaf44f58a3aec1f\n\nCloses-Bug: 1746715\n\nChange-Id: Id4a493aa2dfbd21b6d3cff666eaf44f58a3aec1f\n'}, {'number': 9, 'created': '2018-06-06 08:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/3425b27e633b0747bef074ec9b5252f8b81826fe', 'message': 'ODL DHCP Port to be created only for Ipv4 subnets.\n\nOpenDaylight DHCP service only supports ARP Responder\nfeature for IPv4 subnets today. This fix will avoid\ncreation of a DHCP port for IPv6 subnets and ensure\nno processing of these ports happens from ODL for\nDHCP/IPv6 services.\n\nOpenDaylight IPv6 service internally creates improper\nbindings on these ports leading to inconsistencies in the\nOpenDaylight environment.\n\nCherry-picked from commit Id4a493aa2dfbd21b6d3cff666eaf44f58a3aec1f\n\nCloses-Bug: 1746715\n\nChange-Id: Id4a493aa2dfbd21b6d3cff666eaf44f58a3aec1f\n'}, {'number': 10, 'created': '2018-06-06 09:21:23.000000000', 'files': ['networking_odl/dhcp/odl_dhcp_driver_base.py', 'networking_odl/tests/unit/dhcp/test_odl_dhcp_driver_base.py', 'networking_odl/tests/unit/dhcp/test_odl_dhcp_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/40ea14a1bd938e37761df435289d80a93c08c292', 'message': 'ODL DHCP Port to be created only for Ipv4 subnets.\n\nOpenDaylight DHCP service only supports ARP Responder\nfeature for IPv4 subnets today. This fix will avoid\ncreation of a DHCP port for IPv6 subnets and ensure\nno processing of these ports happens from ODL for\nDHCP/IPv6 services.\n\nOpenDaylight IPv6 service internally creates improper\nbindings on these ports leading to inconsistencies in the\nOpenDaylight environment.\n\nCherry-picked from commit Id4a493aa2dfbd21b6d3cff666eaf44f58a3aec1f\n\nCloses-Bug: 1746715\n\nChange-Id: Id4a493aa2dfbd21b6d3cff666eaf44f58a3aec1f\n'}]",1,539915,40ea14a1bd938e37761df435289d80a93c08c292,48,8,9,25550,,,0,"ODL DHCP Port to be created only for Ipv4 subnets.

OpenDaylight DHCP service only supports ARP Responder
feature for IPv4 subnets today. This fix will avoid
creation of a DHCP port for IPv6 subnets and ensure
no processing of these ports happens from ODL for
DHCP/IPv6 services.

OpenDaylight IPv6 service internally creates improper
bindings on these ports leading to inconsistencies in the
OpenDaylight environment.

Cherry-picked from commit Id4a493aa2dfbd21b6d3cff666eaf44f58a3aec1f

Closes-Bug: 1746715

Change-Id: Id4a493aa2dfbd21b6d3cff666eaf44f58a3aec1f
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/15/539915/8 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/dhcp/odl_dhcp_driver_base.py'],1,4e7191eec33520992ecf7474d3620d693f752954,bug/1746715-patch6, if (not port_id and subnet_context.current['enable_dhcp'] and subnet_context.current['ip_version'] == 4): if (port_id and not subnet_context.current['enable_dhcp'] and subnet_context.current['ip_version'] == 4):, if not port_id and subnet_context.current['enable_dhcp']: if port_id and not subnet_context.current['enable_dhcp']:,4,3
