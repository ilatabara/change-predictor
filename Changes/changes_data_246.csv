id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fcharm-hacluster~stable%2F20.08~I6852ee8784f3fdb8d2f6caa424fef856df766cd4,openstack/charm-hacluster,stable/20.08,I6852ee8784f3fdb8d2f6caa424fef856df766cd4,Updates for stable branch creation,MERGED,2020-08-13 10:32:14.000000000,2020-08-13 11:54:00.000000000,2020-08-13 11:54:00.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-13 10:32:14.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', '.gitreview', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/xenial-queens.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/49293a60a5930ea0eef576a18857e9c7765d6ca0', 'message': 'Updates for stable branch creation\n\nSet default branch for git review/gerrit.\n\nSwitch tests to stable.\n\nSwitch to using stable charm-helpers branch.\n\nSwitch to using stable charm.openstack branch.\n\nChange-Id: I6852ee8784f3fdb8d2f6caa424fef856df766cd4\n'}]",0,746068,49293a60a5930ea0eef576a18857e9c7765d6ca0,6,2,1,20870,,,0,"Updates for stable branch creation

Set default branch for git review/gerrit.

Switch tests to stable.

Switch to using stable charm-helpers branch.

Switch to using stable charm.openstack branch.

Change-Id: I6852ee8784f3fdb8d2f6caa424fef856df766cd4
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/68/746068/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', '.gitreview', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/xenial-queens.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml']",15,49293a60a5930ea0eef576a18857e9c7765d6ca0,release-20.08, charm: cs:~openstack-charmers/mysql-router charm: cs:~openstack-charmers/mysql-innodb-cluster charm: cs:~openstack-charmers/keystone, charm: cs:~openstack-charmers-next/mysql-router charm: cs:~openstack-charmers-next/mysql-innodb-cluster charm: cs:~openstack-charmers-next/keystone,31,29
openstack%2Fos-brick~stable%2Ftrain~Ia1d2b2151e5676037d40bfaf388b54023fc37093,openstack/os-brick,stable/train,Ia1d2b2151e5676037d40bfaf388b54023fc37093,Remove VxFlex OS credentials from connection_properties,MERGED,2020-06-03 11:11:39.000000000,2020-08-13 10:56:44.000000000,2020-06-03 16:58:38.000000000,"[{'_account_id': 5314}, {'_account_id': 7160}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 22348}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 31016}]","[{'number': 1, 'created': '2020-06-03 11:11:39.000000000', 'files': ['os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/connectors/test_scaleio.py', 'releasenotes/notes/bug-1823200-train-10d7cec0746705df.yaml', 'os_brick/privileged/scaleio.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/55fc99852166f72b95d85dc917197f5544861e7c', 'message': 'Remove VxFlex OS credentials from connection_properties\n\nVxFlex OS password is not stored in block_device_mapping table. Instead of this\npasswords are stored in separate file and are retrieved during each attach/detach\noperation.\n\nCloses-Bug: #1823200\nChange-Id: Ia1d2b2151e5676037d40bfaf388b54023fc37093\n'}]",0,733100,55fc99852166f72b95d85dc917197f5544861e7c,22,10,1,31016,,,0,"Remove VxFlex OS credentials from connection_properties

VxFlex OS password is not stored in block_device_mapping table. Instead of this
passwords are stored in separate file and are retrieved during each attach/detach
operation.

Closes-Bug: #1823200
Change-Id: Ia1d2b2151e5676037d40bfaf388b54023fc37093
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/00/733100/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/connectors/test_scaleio.py', 'os_brick/privileged/scaleio.py', 'releasenotes/notes/bug-1823200-train-10d7cec0746705df.yaml']",4,55fc99852166f72b95d85dc917197f5544861e7c,bug/1823200,"--- security: - | Dell EMC VxFlex OS driver: This release contains a fix for `Bug #1823200 <https://bugs.launchpad.net/cinder/+bug/1823200>`_. See `OSSN-0086 <https://wiki.openstack.org/wiki/OSSN/OSSN-0086>`_ for details. upgrade: - | The fix for `Bug #1823200 <https://bugs.launchpad.net/cinder/+bug/1823200>`_ requires that a configuration file be deployed on compute nodes, cinder nodes, and anywhere you would perform a volume attachment in your deployment, when using Cinder with a Dell EMC VxFlex OS backend. See the `Dell EMC VxFlex OS (ScaleIO) Storage driver <https://docs.openstack.org/cinder/train/configuration/block-storage/drivers/dell-emc-vxflex-driver.html>`_ documentation for details about this configuration file. fixes: - | `Bug #1823200 <https://bugs.launchpad.net/cinder/+bug/1823200>`_: This release contains an updated connector for use with the Dell EMC VxFlex OS backend. It requires that a configuration file be deployed on compute nodes, cinder nodes, and anywhere you would perform a volume attachment in your deployment. See the `Dell EMC VxFlex OS (ScaleIO) Storage driver <https://docs.openstack.org/cinder/train/configuration/block-storage/drivers/dell-emc-vxflex-driver.html>`_ documentation for details about the configuration file, and see `OSSN-0086 <https://wiki.openstack.org/wiki/OSSN/OSSN-0086>`_ for more information about the security vulnerability. ",,77,4
openstack%2Fcloudkitty~stable%2Fussuri~Id9a0764aa658927c75f136bae3ed25f964dd5a80,openstack/cloudkitty,stable/ussuri,Id9a0764aa658927c75f136bae3ed25f964dd5a80,Update TOX_CONSTRAINTS_FILE for stable/ussuri,MERGED,2020-04-24 18:18:38.000000000,2020-08-13 10:45:47.000000000,2020-08-13 10:42:34.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-24 18:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/08522e6a7aa2581f3f4d5e991a5cb8248586e104', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ussuri\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ussuri branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Id9a0764aa658927c75f136bae3ed25f964dd5a80\n'}, {'number': 2, 'created': '2020-08-13 08:26:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/adae75dd077202e9bdc854b2ee897aa6f464b0ab', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ussuri\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ussuri branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Id9a0764aa658927c75f136bae3ed25f964dd5a80\n'}]",0,722985,adae75dd077202e9bdc854b2ee897aa6f464b0ab,9,2,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ussuri branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Id9a0764aa658927c75f136bae3ed25f964dd5a80
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/85/722985/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,08522e6a7aa2581f3f4d5e991a5cb8248586e104,create-ussuri,install_command = pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fcloudkitty~stable%2Fussuri~Id4ee3e6e2bd943e0c8f41f85a7efa7c9caab5828,openstack/cloudkitty,stable/ussuri,Id4ee3e6e2bd943e0c8f41f85a7efa7c9caab5828,Update .gitreview for stable/ussuri,MERGED,2020-04-24 18:18:36.000000000,2020-08-13 10:43:55.000000000,2020-08-13 10:42:33.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-24 18:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/be9ec4fd8d6ba4ca8b7b2390297ab3b059ab48e3', 'message': 'Update .gitreview for stable/ussuri\n\nChange-Id: Id4ee3e6e2bd943e0c8f41f85a7efa7c9caab5828\n'}, {'number': 2, 'created': '2020-08-13 08:26:22.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/1f3dcf8d4284afbfad02d41c4c4978cd46f73b79', 'message': 'Update .gitreview for stable/ussuri\n\nChange-Id: Id4ee3e6e2bd943e0c8f41f85a7efa7c9caab5828\n'}]",0,722984,1f3dcf8d4284afbfad02d41c4c4978cd46f73b79,9,2,2,22816,,,0,"Update .gitreview for stable/ussuri

Change-Id: Id4ee3e6e2bd943e0c8f41f85a7efa7c9caab5828
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/84/722984/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,be9ec4fd8d6ba4ca8b7b2390297ab3b059ab48e3,create-ussuri,defaultbranch=stable/ussuri,,1,0
openstack%2Fneutron-vpnaas-dashboard~master~I5b9054a25f2892c158fa2e0855fc32bd4d3c0bd6,openstack/neutron-vpnaas-dashboard,master,I5b9054a25f2892c158fa2e0855fc32bd4d3c0bd6,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-04 14:14:10.000000000,2020-08-13 10:37:25.000000000,2020-08-13 10:36:00.000000000,"[{'_account_id': 11975}, {'_account_id': 15905}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-04 14:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/5625f735104c55b2dd881bd2a5ebc137dee458c1', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40199\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I5b9054a25f2892c158fa2e0855fc32bd4d3c0bd6\n'}, {'number': 2, 'created': '2020-08-04 14:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/d691cab3fe14650b31904f416ace24d013b9eaef', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40199\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I5b9054a25f2892c158fa2e0855fc32bd4d3c0bd6\n'}, {'number': 3, 'created': '2020-08-04 15:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/6766506f655716f231b17cc506b10e1bbbc4105d', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40199\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I5b9054a25f2892c158fa2e0855fc32bd4d3c0bd6\n'}, {'number': 4, 'created': '2020-08-05 16:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/eb658529b5c2fea81a66c5802095ee3c1cf13ebf', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40199\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I5b9054a25f2892c158fa2e0855fc32bd4d3c0bd6\n'}, {'number': 5, 'created': '2020-08-05 16:49:50.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/f15f0869bd24dd144611cb6a42eb08733edde30e', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\n\nStory: #2007865\nTask: #40199\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\nChange-Id: I5b9054a25f2892c158fa2e0855fc32bd4d3c0bd6\n'}]",0,744725,f15f0869bd24dd144611cb6a42eb08733edde30e,23,4,5,29313,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8
support in their later version.

Story: #2007865
Task: #40199

Closes-Bug: #1886298

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal

Change-Id: I5b9054a25f2892c158fa2e0855fc32bd4d3c0bd6
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/25/744725/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5625f735104c55b2dd881bd2a5ebc137dee458c1,migrate-to-focal,#test-focal,,1,0
openstack%2Fansible-hardening~stable%2Ftrain~I415d5babd606563387ab90379d5e0d2235c83344,openstack/ansible-hardening,stable/train,I415d5babd606563387ab90379d5e0d2235c83344,Updated from OpenStack Ansible Tests,MERGED,2019-10-22 19:24:10.000000000,2020-08-13 10:28:33.000000000,2020-08-13 10:26:59.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-22 19:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/29376849f32a18203e9fb7a0c7fe77e4c35e6cca', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I415d5babd606563387ab90379d5e0d2235c83344\n'}, {'number': 2, 'created': '2019-11-01 16:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/8f13e71168667a84e1a11881de35d859ea6eeab7', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I415d5babd606563387ab90379d5e0d2235c83344\n'}, {'number': 3, 'created': '2020-03-24 18:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/ea133671d91837403aeb26598636d9c29f80246d', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I415d5babd606563387ab90379d5e0d2235c83344\n'}, {'number': 4, 'created': '2020-07-27 12:40:06.000000000', 'files': ['.gitignore', 'bindep.txt', 'Vagrantfile', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/568d49fb930fad38221ceaca6843c16c9739dc74', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I415d5babd606563387ab90379d5e0d2235c83344\n'}]",0,690380,568d49fb930fad38221ceaca6843c16c9739dc74,20,3,4,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I415d5babd606563387ab90379d5e0d2235c83344
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/80/690380/4 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'Vagrantfile', 'doc/requirements.txt']",3,29376849f32a18203e9fb7a0c7fe77e4c35e6cca,openstack/openstack-ansible-tests/sync-tests,"# WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/branch/master/sync/doc/requirements.txt # If you need to modify this file, update the one in the # openstack-ansible-tests repository. Once it merges there, the changes will # automatically be proposed to all the repositories which use it. sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSDdoc8>=0.6.0 # Apache-2.0","# this is required for the docs build jobssphinx>=1.8.0,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD sphinxcontrib-svg2pdfconverter>=0.1.0 # BSDdoc8>=0.6.0 # Apache-2.0Jinja2>=2.10 # BSD License (3 clause) lxml!=3.7.0,>=3.4.1 # BSD",22,30
openstack%2Ftripleo-ansible~master~I27c147f6f2a8e083c66ef05cabf4dd168b013835,openstack/tripleo-ansible,master,I27c147f6f2a8e083c66ef05cabf4dd168b013835,Ensure mode on copy,ABANDONED,2020-08-11 19:52:11.000000000,2020-08-13 10:13:36.000000000,,[],"[{'number': 1, 'created': '2020-08-11 19:52:11.000000000', 'files': ['tripleo_ansible/roles/test_deps/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/37e5d017e4482bba6b8ef04a64b3db651cc10d13', 'message': 'Ensure mode on copy\n\nSee https://github.com/ansible/ansible/issues/71200\n\nChange-Id: I27c147f6f2a8e083c66ef05cabf4dd168b013835\n'}]",0,745728,37e5d017e4482bba6b8ef04a64b3db651cc10d13,3,0,1,14985,,,0,"Ensure mode on copy

See https://github.com/ansible/ansible/issues/71200

Change-Id: I27c147f6f2a8e083c66ef05cabf4dd168b013835
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/28/745728/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/test_deps/tasks/main.yml'],1,37e5d017e4482bba6b8ef04a64b3db651cc10d13,ansible, mode: 0644,,1,0
openstack%2Fkolla-ansible~stable%2Ftrain~I779c2b942d007acbdd43d999f2fc0cdc131d431f,openstack/kolla-ansible,stable/train,I779c2b942d007acbdd43d999f2fc0cdc131d431f,"Fix fluentd warnings caused by ""type copy""",MERGED,2020-08-12 11:07:06.000000000,2020-08-13 10:12:24.000000000,2020-08-13 10:08:07.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-12 11:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0d5525db4afc1544a963fb8ce8a5a4997e6490e0', 'message': 'Fix fluentd warnings caused by ""type copy""\n\nA ""@type copy"" statement is already present at the beginning of each\nmatch element, so extra ""type copy"" are not needed. They are causing the\nfollowing warnings in fluentd logs:\n\n[warn]: parameter \'type\' in <match syslog.local0.**>\n[warn]: parameter \'type\' in <match syslog.local1.**>\n\nThis commit also harmonizes indentation of the Monasca config block.\n\nNOTE(priteau): Adapted cherry-pick to apply on stable/train.\n\nChange-Id: I779c2b942d007acbdd43d999f2fc0cdc131d431f\nRelated-Bug: #1885873\n(cherry picked from commit 5b057812416c0c055c57352ca6f1f7964b046428)\n'}, {'number': 2, 'created': '2020-08-12 18:58:12.000000000', 'files': ['ansible/roles/common/templates/conf/output/00-local.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/97f601cbeea16995140c1ed405fe4de229387e5d', 'message': 'Fix fluentd warnings caused by ""type copy""\n\nA ""@type copy"" statement is already present at the beginning of each\nmatch element, so extra ""type copy"" are not needed. They are causing the\nfollowing warnings in fluentd logs:\n\n[warn]: parameter \'type\' in <match syslog.local0.**>\n[warn]: parameter \'type\' in <match syslog.local1.**>\n\nThis commit also harmonizes indentation of the Monasca config block.\n\nNOTE(priteau): Adapted cherry-pick to apply on stable/train.\n\nChange-Id: I779c2b942d007acbdd43d999f2fc0cdc131d431f\nRelated-Bug: #1885873\n(cherry picked from commit 5b057812416c0c055c57352ca6f1f7964b046428)\n'}]",0,745832,97f601cbeea16995140c1ed405fe4de229387e5d,10,3,2,15197,,,0,"Fix fluentd warnings caused by ""type copy""

A ""@type copy"" statement is already present at the beginning of each
match element, so extra ""type copy"" are not needed. They are causing the
following warnings in fluentd logs:

[warn]: parameter 'type' in <match syslog.local0.**>
[warn]: parameter 'type' in <match syslog.local1.**>

This commit also harmonizes indentation of the Monasca config block.

NOTE(priteau): Adapted cherry-pick to apply on stable/train.

Change-Id: I779c2b942d007acbdd43d999f2fc0cdc131d431f
Related-Bug: #1885873
(cherry picked from commit 5b057812416c0c055c57352ca6f1f7964b046428)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/32/745832/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/output/00-local.conf.j2'],1,0d5525db4afc1544a963fb8ce8a5a4997e6490e0,fluentd-warnings-stable/train, <store> @type monasca keystone_url {{ keystone_internal_url }} monasca_log_api {{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ monasca_log_api_port }} monasca_log_api_version v3.0 username {{ monasca_agent_user }} password {{ monasca_agent_password }} domain_id default project_name {{ monasca_control_plane_project }} message_field_name Payload </store> <store> @type monasca keystone_url {{ keystone_internal_url }} monasca_log_api {{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ monasca_log_api_port }} monasca_log_api_version v3.0 username {{ monasca_agent_user }} password {{ monasca_agent_password }} domain_id default project_name {{ monasca_control_plane_project }} message_field_name Payload </store>, type copy <store> @type monasca keystone_url {{ keystone_internal_url }} monasca_log_api {{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ monasca_log_api_port }} monasca_log_api_version v3.0 username {{ monasca_agent_user }} password {{ monasca_agent_password }} domain_id default project_name {{ monasca_control_plane_project }} message_field_name Payload </store> type copy <store> @type monasca keystone_url {{ keystone_internal_url }} monasca_log_api {{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ monasca_log_api_port }} monasca_log_api_version v3.0 username {{ monasca_agent_user }} password {{ monasca_agent_password }} domain_id default project_name {{ monasca_control_plane_project }} message_field_name Payload </store>,22,24
openstack%2Foctavia-tempest-plugin~master~I8a7ed4e1bc3d567c4807726c684ad86cd281096f,openstack/octavia-tempest-plugin,master,I8a7ed4e1bc3d567c4807726c684ad86cd281096f,Add an optional tenant flow log offload test,MERGED,2019-07-31 03:25:09.000000000,2020-08-13 10:02:13.000000000,2020-08-13 09:57:51.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-07-31 03:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/04c8a67b771009a7cc612002d9207a334defea2c', 'message': 'Add an optional tenant flow log offload test\n\nThis patch adds an optional tenant flow log offload scenario test\nthat checks the tenant flow logging offload and format.\n\nChange-Id: I8a7ed4e1bc3d567c4807726c684ad86cd281096f\n'}, {'number': 2, 'created': '2019-07-31 03:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/13c47d9ff6906c95606c72c8ee5b88e770eb6866', 'message': 'Add an optional tenant flow log offload test\n\nThis patch adds an optional tenant flow log offload scenario test\nthat checks the tenant flow logging offload and format.\n\nChange-Id: I8a7ed4e1bc3d567c4807726c684ad86cd281096f\n'}, {'number': 3, 'created': '2019-07-31 06:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/3a8b0c7758910994fadb1ddde1188a9ea96b1b3a', 'message': 'Add an optional tenant flow log offload test\n\nThis patch adds an optional tenant flow log offload scenario test\nthat checks the tenant flow logging offload and format.\n\nChange-Id: I8a7ed4e1bc3d567c4807726c684ad86cd281096f\n'}, {'number': 4, 'created': '2019-07-31 17:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/769b4d40b32f444d9f043dcbb78cdacd2703983e', 'message': 'Add an optional tenant flow log offload test\n\nThis patch adds an optional tenant flow log offload scenario test\nthat checks the tenant flow logging offload and format.\n\nChange-Id: I8a7ed4e1bc3d567c4807726c684ad86cd281096f\n'}, {'number': 5, 'created': '2019-10-09 21:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/8e1ed4454681988dc2473dee4a91385f329c7118', 'message': 'Add an optional tenant flow log offload test\n\nThis patch adds an optional tenant flow log offload scenario test\nthat checks the tenant flow logging offload and format.\n\nChange-Id: I8a7ed4e1bc3d567c4807726c684ad86cd281096f\n'}, {'number': 6, 'created': '2019-10-10 15:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/a7d91511fc8e6386f23d06d0df62504097056d75', 'message': 'Add an optional tenant flow log offload test\n\nThis patch adds an optional tenant flow log offload scenario test\nthat checks the tenant flow logging offload and format.\n\nChange-Id: I8a7ed4e1bc3d567c4807726c684ad86cd281096f\n'}, {'number': 7, 'created': '2019-10-10 15:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/0d0468afc61d926a76a91befd745d2b73a4b3ee5', 'message': 'Add an optional tenant flow log offload test\n\nThis patch adds an optional tenant flow log offload scenario test\nthat checks the tenant flow logging offload and format.\n\nDepends-On: https://review.opendev.org/687938\nChange-Id: I8a7ed4e1bc3d567c4807726c684ad86cd281096f\n'}, {'number': 8, 'created': '2019-11-08 22:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/d7526be7a1eb3204769ca36c73c6c2c75ef1d03e', 'message': 'Add an optional tenant flow log offload test\n\nThis patch adds an optional tenant flow log offload scenario test\nthat checks the tenant flow logging offload and format.\n\nDepends-On: https://review.opendev.org/687938\nChange-Id: I8a7ed4e1bc3d567c4807726c684ad86cd281096f\n'}, {'number': 9, 'created': '2020-06-03 20:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/a09bf3c43e6555a62e26a45ac00ea48ad5af075b', 'message': 'Add an optional tenant flow log offload test\n\nThis patch adds an optional tenant flow log offload scenario test\nthat checks the tenant flow logging offload and format.\n\nDepends-On: https://review.opendev.org/687938\nChange-Id: I8a7ed4e1bc3d567c4807726c684ad86cd281096f\n'}, {'number': 10, 'created': '2020-06-03 21:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2e704169458c7fb08d153b5574aab289edfc51a9', 'message': 'Add an optional tenant flow log offload test\n\nThis patch adds an optional tenant flow log offload scenario test\nthat checks the tenant flow logging offload and format.\n\nDepends-On: https://review.opendev.org/687938\nChange-Id: I8a7ed4e1bc3d567c4807726c684ad86cd281096f\n'}, {'number': 11, 'created': '2020-06-11 17:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/6d3b6542722ce575280d8d08d2ac541a00ee3ddc', 'message': 'Add an optional tenant flow log offload test\n\nThis patch adds an optional tenant flow log offload scenario test\nthat checks the tenant flow logging offload and format.\n\nDepends-On: https://review.opendev.org/687938\nChange-Id: I8a7ed4e1bc3d567c4807726c684ad86cd281096f\n'}, {'number': 12, 'created': '2020-06-24 14:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/77535cce31ebfebf983612feb13dcad40c8b1a31', 'message': 'Add an optional tenant flow log offload test\n\nThis patch adds an optional tenant flow log offload scenario test\nthat checks the tenant flow logging offload and format.\n\nDepends-On: https://review.opendev.org/687938\nChange-Id: I8a7ed4e1bc3d567c4807726c684ad86cd281096f\n'}, {'number': 13, 'created': '2020-06-30 18:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/209d835988f49a9741b0cd87f38e22645725cc98', 'message': 'Add an optional tenant flow log offload test\n\nThis patch adds an optional tenant flow log offload scenario test\nthat checks the tenant flow logging offload and format.\n\nChange-Id: I8a7ed4e1bc3d567c4807726c684ad86cd281096f\n'}, {'number': 14, 'created': '2020-07-13 15:27:27.000000000', 'files': ['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py', 'octavia_tempest_plugin/config.py', 'releasenotes/notes/add-tenant-flow-log-offload-scenario-test-39bf9bf51f70d7bb.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b1ba3b373ca44da31e8ec79a5eaba71e2ef2b81f', 'message': 'Add an optional tenant flow log offload test\n\nThis patch adds an optional tenant flow log offload scenario test\nthat checks the tenant flow logging offload and format.\n\nChange-Id: I8a7ed4e1bc3d567c4807726c684ad86cd281096f\n'}]",6,673720,b1ba3b373ca44da31e8ec79a5eaba71e2ef2b81f,44,6,14,11628,,,0,"Add an optional tenant flow log offload test

This patch adds an optional tenant flow log offload scenario test
that checks the tenant flow logging offload and format.

Change-Id: I8a7ed4e1bc3d567c4807726c684ad86cd281096f
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/20/673720/14 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py', 'octavia_tempest_plugin/config.py', 'releasenotes/notes/add-tenant-flow-log-offload-scenario-test-39bf9bf51f70d7bb.yaml']",3,04c8a67b771009a7cc612002d9207a334defea2c,log-offload,--- features: - | Adds an optional tenant flow log offload scenario test. ,,153,0
openstack%2Ftripleo-quickstart-extras~master~I110dc536129b78e3794705ece5bc7bc5d1c44352,openstack/tripleo-quickstart-extras,master,I110dc536129b78e3794705ece5bc7bc5d1c44352,Programatically adjust container-prepare-parameters for standalone,MERGED,2020-08-11 18:00:24.000000000,2020-08-13 09:59:40.000000000,2020-08-12 23:09:47.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-11 18:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/32cd7a048d99ad14d23f798404069cf2fe684bf0', 'message': 'Programatically adjust container-prepare-parameters for standalone\n\nThis change will ensure we\'re programatically adjusting the\ncontainer-prepare-parameters.yaml file when running jobs in\nstandalone. While this change will ensure our file adjustments\nare always YAML complient, it will also ensure that we\'re not\nrunning unessisary tasks and not setting a ""tag_from_label""\nwhen running upstream jobs which causes a cache miss with\ninfra resulting in ratelimit errors from docker hub\'s\nanon-login restrictions.\n\nChange-Id: I110dc536129b78e3794705ece5bc7bc5d1c44352\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-08-11 18:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1cc1d98c24c157165b8312d179724cb26e0144a1', 'message': 'Programatically adjust container-prepare-parameters for standalone\n\nThis change will ensure we\'re programatically adjusting the\ncontainer-prepare-parameters.yaml file when running jobs in\nstandalone. While this change will ensure our file adjustments\nare always YAML complient, it will also ensure we\'re only\nwritting the file once and not setting a ""tag_from_label"" to\nnull when running upstream jobs which causes a cache miss with\ninfra; a cache miss can result in ratelimit errors from docker\nhub\'s anon-login restrictions.\n\nChange-Id: I110dc536129b78e3794705ece5bc7bc5d1c44352\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-08-11 19:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/64c0d3cac05a80858ac7fbd729400c83c66d85c8', 'message': 'Programatically adjust container-prepare-parameters for standalone\n\nThis change will ensure we\'re programatically adjusting the\ncontainer-prepare-parameters.yaml file when running jobs in\nstandalone. While this change will ensure our file adjustments\nare always YAML complient, it will also ensure we\'re only\nwritting the file once and not setting a ""tag_from_label"" to\nnull when running upstream jobs which causes a cache miss with\ninfra; a cache miss can result in ratelimit errors from docker\nhub\'s anon-login restrictions.\n\nChange-Id: I110dc536129b78e3794705ece5bc7bc5d1c44352\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-08-12 12:37:16.000000000', 'files': ['roles/standalone/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f304c000af3c51a241df032e761c88ee17daf7cc', 'message': 'Programatically adjust container-prepare-parameters for standalone\n\nThis change will ensure we\'re programatically adjusting the\ncontainer-prepare-parameters.yaml file when running jobs in\nstandalone. While this change will ensure our file adjustments\nare always YAML complient, it will also ensure we\'re only\nwritting the file once and not setting a ""tag_from_label"" to\nnull when running upstream jobs which causes a cache miss with\ninfra; a cache miss can result in ratelimit errors from docker\nhub\'s anon-login restrictions.\n\nChange-Id: I110dc536129b78e3794705ece5bc7bc5d1c44352\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",4,745718,f304c000af3c51a241df032e761c88ee17daf7cc,22,6,4,7353,,,0,"Programatically adjust container-prepare-parameters for standalone

This change will ensure we're programatically adjusting the
container-prepare-parameters.yaml file when running jobs in
standalone. While this change will ensure our file adjustments
are always YAML complient, it will also ensure we're only
writting the file once and not setting a ""tag_from_label"" to
null when running upstream jobs which causes a cache miss with
infra; a cache miss can result in ratelimit errors from docker
hub's anon-login restrictions.

Change-Id: I110dc536129b78e3794705ece5bc7bc5d1c44352
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/18/745718/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/tasks/main.yml'],1,32cd7a048d99ad14d23f798404069cf2fe684bf0,," - name: Find out what the remote machine's mounts are slurp: src: ""/tmp/test.yaml"" register: containers_prepare_parameters - name: Create string from list set_fact: containers_prepare_parameters_yaml: ""{{ containers_prepare_parameters['content'] | b64decode | from_yaml }}"" - name: Generate modified containers file copy: content: |- {% set imageParams = [] %} {% for item in containers_prepare_parameters_yaml['parameter_defaults']['ContainerImagePrepare'] %} {% set _ = item.__setitem__(""push_destination"", local_docker_registry_host ~ "":8787"") %} {% set _ = item.__setitem__(""modify_role"", ""tripleo-modify-image"") %} {% set _ = item.__setitem__(""modify_append_tag"", update_containers_append_tag) %} {% if not (osp_release is defined) %} {% set _ = item.__setitem__(""modify_only_with_labels"", [""kolla_version""]) %} {% endif %} {% set _ = item.__setitem__( ""modify_vars"", { ""tasks_from"": ""yum_update.yml"", ""yum_repos_dir_path"": ""/etc/yum.repos.d"", ""update_repo"": standalone_container_prep_update_repo ~ add_repos_update | default('') } ) %} {% set _ = item.pop(""tag_from_label"", """") %} {% if ""set"" in item %} {% if ansible_distribution == 'RedHat' %} {% set _ = item['set'].__setitem__(""rhel_containers"", true) %} {% endif %} {% endif %} {% set _ = imageParams.append(item) %} {% endfor %} {{ {""parameter_defaults"": {""ContainerImagePrepare"": imageParams}} | to_nice_yaml }} dest: ""/tmp/test.yaml2"""," - name: Replace tag_from_label value replace: path: ""{{ working_dir }}/containers-prepare-parameters.yaml"" regexp: "" tag_from_label: (.*)"" replace: "" tag_from_label: null"" backup: true - name: Add settings to modify blockinfile: path: ""{{ working_dir }}/containers-prepare-parameters.yaml"" state: present backup: true insertbefore: ""(.*) tag_from_label: null"" block: | # push_destination: ""{{ local_docker_registry_host }}:8787"" modify_role: tripleo-modify-image modify_append_tag: ""{{ update_containers_append_tag }}"" {% if osp_release is defined -%} # no kolla labels are defined {% else -%} modify_only_with_labels: - kolla_version {% endif -%} modify_vars: tasks_from: yum_update.yml yum_repos_dir_path: /etc/yum.repos.d update_repo: ""{{ standalone_container_prep_update_repo }}{{ add_repos_update|default('') }}"" - name: Update rhel_containers value when: ansible_distribution == 'RedHat' replace: path: ""{{ working_dir }}/containers-prepare-parameters.yaml"" regexp: ""rhel_containers: false"" replace: ""rhel_containers: true"" backup: true",37,34
openstack%2Ftripleo-heat-templates~master~I1790444d289d057e9a3f612c53efe485080978b5,openstack/tripleo-heat-templates,master,I1790444d289d057e9a3f612c53efe485080978b5,Fix HA resource restart when no replicas are running,MERGED,2020-08-03 17:04:56.000000000,2020-08-13 09:47:09.000000000,2020-08-04 16:58:56.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2020-08-03 17:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0d6103d0f873d583d2acc4b483870b3cd39aee3a', 'message': 'Fix HA resource restart when no replicas are running\n\nWhen the helper script pacemaker_restart_bundle.sh is called\nduring a stack update, it restarts the pacemaker resource via\na ""pcs resource restart <name>"".\n\nWhen all the replicas are stopped due to a previous error,\npcs won\'t restart them because there is nothing to stop. In\nthat case, one must use ""pcs resource cleanup <name>"".\n\nChange-Id: I1790444d289d057e9a3f612c53efe485080978b5\nCloses-Bug: #1889395\n'}, {'number': 2, 'created': '2020-08-03 19:00:58.000000000', 'files': ['container_config_scripts/pacemaker_restart_bundle.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba471ee461b125e2aa53c485ab61dc467bf7d858', 'message': 'Fix HA resource restart when no replicas are running\n\nWhen the helper script pacemaker_restart_bundle.sh is called\nduring a stack update, it restarts the pacemaker resource via\na ""pcs resource restart <name>"".\n\nWhen all the replicas are stopped due to a previous error,\npcs won\'t restart them because there is nothing to stop. In\nthat case, one must use ""pcs resource cleanup <name>"".\n\nChange-Id: I1790444d289d057e9a3f612c53efe485080978b5\nCloses-Bug: #1889395\n'}]",1,744529,ba471ee461b125e2aa53c485ab61dc467bf7d858,16,7,2,20778,,,0,"Fix HA resource restart when no replicas are running

When the helper script pacemaker_restart_bundle.sh is called
during a stack update, it restarts the pacemaker resource via
a ""pcs resource restart <name>"".

When all the replicas are stopped due to a previous error,
pcs won't restart them because there is nothing to stop. In
that case, one must use ""pcs resource cleanup <name>"".

Change-Id: I1790444d289d057e9a3f612c53efe485080978b5
Closes-Bug: #1889395
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/744529/2 && git format-patch -1 --stdout FETCH_HEAD,['container_config_scripts/pacemaker_restart_bundle.sh'],1,0d6103d0f873d583d2acc4b483870b3cd39aee3a,bug/1889395," replicas_running=$(crm_resource -Q -r $BUNDLE_NAME --locate 2>&1 | wc -l) if [ ""$replicas_running"" != ""0"" ]; then echo ""$(date -u): Restarting ${BUNDLE_NAME} globally"" /sbin/pcs resource restart --wait=__PCMKTIMEOUT__ $BUNDLE_NAME else echo ""$(date -u): ${BUNDLE_NAME} is not running anywhere,"" \ ""cleaning up to restart it globally if necessary"" /sbin/pcs resource cleanup $BUNDLE_NAME fi"," echo ""$(date -u): Restarting ${BUNDLE_NAME} globally"" /sbin/pcs resource restart --wait=__PCMKTIMEOUT__ $BUNDLE_NAME",9,3
openstack%2Ftripleo-upgrade~stable%2Ftrain~I7e6dae5f6b586676380a1dca53d73e23a3a1e7da,openstack/tripleo-upgrade,stable/train,I7e6dae5f6b586676380a1dca53d73e23a3a1e7da,FFWD upgrade converge cleanup,MERGED,2020-08-13 00:04:13.000000000,2020-08-13 09:39:30.000000000,2020-08-13 09:39:30.000000000,"[{'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-13 00:04:13.000000000', 'files': ['templates/overcloud_upgrade_converge.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2b6608d895ac3042ab6b636611ebee6c649d481b', 'message': 'FFWD upgrade converge cleanup\n\nRemove obsolete file\n\nChange-Id: I7e6dae5f6b586676380a1dca53d73e23a3a1e7da\n(cherry picked from commit e37b0aea7c91c12d6f9cb25a6c96b75858ddc598)\n'}]",0,745977,2b6608d895ac3042ab6b636611ebee6c649d481b,6,2,1,11166,,,0,"FFWD upgrade converge cleanup

Remove obsolete file

Change-Id: I7e6dae5f6b586676380a1dca53d73e23a3a1e7da
(cherry picked from commit e37b0aea7c91c12d6f9cb25a6c96b75858ddc598)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/77/745977/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/overcloud_upgrade_converge.sh.j2'],1,2b6608d895ac3042ab6b636611ebee6c649d481b,,, {% if ffu_overcloud_upgrade and deployment_with_ha_upstream -%} -e {{ tht_directory }}/environments/docker.yaml \ -e {{ tht_directory }}/environments/docker-ha.yaml \ {% endif -%} {% if ceph_osd_enabled -%} -e {{working_dir}}/ceph-ansible-env.yaml \ {% endif -%},0,7
openstack%2Fcharm-guide~master~I54e6cfca5a035333e59d5b0e336be85cd479b446,openstack/charm-guide,master,I54e6cfca5a035333e59d5b0e336be85cd479b446,Final update for 20.08 plus reorg,MERGED,2020-08-13 01:35:04.000000000,2020-08-13 09:28:25.000000000,2020-08-13 09:26:33.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-13 01:35:04.000000000', 'files': ['doc/source/release-timeline-2008.rst', 'doc/source/release-schedule.rst', 'doc/source/release-timeline-2010.rst', 'doc/source/2010.rst', 'doc/source/release-notes.rst', 'doc/source/2008.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/456ee0d7df22c623c48bd762ec1c851294d1c60c', 'message': 'Final update for 20.08 plus reorg\n\nFinal update for 20.08 release notes.\n\nAdd 20.10 release notes.\n\nReorg of release notes pages for 20.08\nand 20.10: Summary section contains more\ninformation and charm upgrade section placed\nat the bottom.\n\nRename detailed release timelines for 20.08\nand 20.10 from release-schedule-*.rst to\nrelease-timeline-*.rst.\n\nAdd missing extensions on release-notes.rst.\nThis broke gerrit demo web site links.\n\nChange-Id: I54e6cfca5a035333e59d5b0e336be85cd479b446\n'}]",0,745988,456ee0d7df22c623c48bd762ec1c851294d1c60c,8,3,1,30561,,,0,"Final update for 20.08 plus reorg

Final update for 20.08 release notes.

Add 20.10 release notes.

Reorg of release notes pages for 20.08
and 20.10: Summary section contains more
information and charm upgrade section placed
at the bottom.

Rename detailed release timelines for 20.08
and 20.10 from release-schedule-*.rst to
release-timeline-*.rst.

Add missing extensions on release-notes.rst.
This broke gerrit demo web site links.

Change-Id: I54e6cfca5a035333e59d5b0e336be85cd479b446
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/88/745988/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/release-schedule.rst', 'doc/source/release-timeline-2008.rst', 'doc/source/release-timeline-2010.rst', 'doc/source/2010.rst', 'doc/source/release-notes.rst', 'doc/source/2008.rst']",6,456ee0d7df22c623c48bd762ec1c851294d1c60c,final-update-to-2008-release-notes,"===== 20.08 =====The 20.08 OpenStack Charms project release includes updates for the charms described in the following sections. Refer to the `20.08 milestone`_ in Launchpad for the list of resolved bugs and see the `Release schedule`_ for past and future releases. Additional charm information is published in the `OpenStack Charm Guide`_ (this guide) which ultimately supersedes Release Notes contents. .. important:: Always upgrade to the latest stable charms before making any major changes to your cloud and before filing bug reports. Refer to section `Upgrading charms`_ below for details.Upgrading charms ---------------- Always use the latest stable charm revision before proceeding with topological changes, application migrations, workload upgrades, series upgrades, or bug report filing. Please ensure that the keystone charm is upgraded first. To upgrade an existing deployment to the latest charm version simply use the :command:`upgrade-charm` command. For example: .. code-block:: none juju upgrade-charm keystone Charm upgrades and OpenStack upgrades are functionally different. Charm upgrades ensure that the deployment has the latest charm revision, containing the latest charm fixes and features, whereas OpenStack upgrades influence the software package versions of OpenStack itself. A charm upgrade does not trigger an OpenStack upgrade. An OpenStack upgrade is a separate process. However, an OpenStack upgrade does require the latest charm revision. Please refer to `OpenStack upgrades`_ in the `OpenStack Charms Deployment Guide`_ for more details... _20.08 milestone: https://launchpad.net/openstack-charms/+milestone/20.08.. _Release schedule: release-schedule.html","================================= 20.08 (Draft version in progress) =================================The 20.08 OpenStack Charms project release includes updates for the following charms. Additional charm support status information is published in the `OpenStack Charm Guide`_ which ultimately supersedes Release Notes contents. Always use the latest stable charm revision before proceeding with topological changes, application migrations, workload upgrades, series upgrades, or bug reports.Upgrading charms ---------------- Always use the latest stable charm revision before proceeding with topological changes, charm application migrations, workload upgrades, series upgrades, or bug reports. Please ensure that the keystone charm is upgraded first. To upgrade an existing deployment to the latest charm version simply use the :command:`upgrade-charm` command. For example: .. code-block:: none juju upgrade-charm keystone Charm upgrades and OpenStack upgrades are functionally different. Charm upgrades ensure that the deployment has the latest charm revision, containing the latest charm fixes and features, whereas OpenStack upgrades influence the software package versions of OpenStack itself. A charm upgrade does not trigger an OpenStack upgrade. An OpenStack upgrade is a separate process. However, an OpenStack upgrade does require the latest charm revision. Please refer to `OpenStack upgrades`_ in the `OpenStack Charms Deployment Guide`_ for more details. Bugs fixed ---------- The 20.08 OpenStack Charms release includes XX bug fixes. Refer to the `20.08 milestone`_ in Launchpad for the list of resolved bugs. Next release info ----------------- Please see the `OpenStack Charm Guide`_ for current information... _20.08 milestone: https://launchpad.net/openstack-charms/+milestone/20.08",410,74
openstack%2Fcharm-keystone-saml-mellon~master~I52455cf6a97b72329b060da281b7e12ded9cc8fc,openstack/charm-keystone-saml-mellon,master,I52455cf6a97b72329b060da281b7e12ded9cc8fc,Updates for 20.08 cycle start for groovy and libs,MERGED,2020-06-02 13:32:01.000000000,2020-08-13 09:13:29.000000000,2020-08-13 09:13:29.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-06-02 13:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/e45c773733a2db7832ce05358f47008a4f83c84f', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: I52455cf6a97b72329b060da281b7e12ded9cc8fc\n'}, {'number': 2, 'created': '2020-06-03 06:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/ef012c2494b319466d33bac3e7f0b035708c8039', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: I52455cf6a97b72329b060da281b7e12ded9cc8fc\n'}, {'number': 3, 'created': '2020-07-27 08:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/a34c874245d6ccf387cd1432dbdf47eb352be685', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: I52455cf6a97b72329b060da281b7e12ded9cc8fc\n'}, {'number': 4, 'created': '2020-08-10 09:09:26.000000000', 'files': ['rebuild', 'src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/b6453e378be275c5d8d02868237ddb57a9f7dfd7', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: I52455cf6a97b72329b060da281b7e12ded9cc8fc\n'}]",0,732649,b6453e378be275c5d8d02868237ddb57a9f7dfd7,31,5,4,20870,,,0,"Updates for 20.08 cycle start for groovy and libs

- Adds groovy to the series in the metadata
- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild

Change-Id: I52455cf6a97b72329b060da281b7e12ded9cc8fc
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/49/732649/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'src/metadata.yaml']",2,e45c773733a2db7832ce05358f47008a4f83c84f,batch-groovy-ch-libs,"description: The main goal of this charm is to generate the necessary configuration for use in the Keystone charm related to Service Provider config generation, trust establishment between a remote idP and SP via certificates and signaling Keystone service restart. Keystone has a concept of a federated backend which serves multiple purposes including being a backend part of a Service Provider in an authentication scenario where SAML is used. Unless ECP is used on a keystone client side, SAML-related exchange is performed in an Apache authentication module (Mellon in case of this charm) and SAML assertions are converted to WSGI environment variables passed down to a particular mod_wsgi interpreter running Keystone code. Keystone has an authentication plug-in called ""mapped"" which does the rest of the work of resolving symbolic attributes and using them in mappings defined by an operator or validating the existence of referenced IDs. tags: - openstack - identity - federation - idP series: - xenial - bionic - eoan - focal - groovy filename: idp-metadata.xml filename: sp-private-key.pem filename: sp-signing-keyinfo.xml","description: The main goal of this charm is to generate the necessary configuration for use in the Keystone charm related to Service Provider config generation, trust establishment between a remote idP and SP via certificates and signaling Keystone service restart. Keystone has a concept of a federated backend which serves multiple purposes including being a backend part of a Service Provider in an authentication scenario where SAML is used. Unless ECP is used on a keystone client side, SAML-related exchange is performed in an Apache authentication module (Mellon in case of this charm) and SAML assertions are converted to WSGI environment variables passed down to a particular mod_wsgi interpreter running Keystone code. Keystone has an authentication plug-in called ""mapped"" which does the rest of the work of resolving symbolic attributes and using them in mappings defined by an operator or validating the existence of referenced IDs. tags: - openstack - identity - federation - idP series: - xenial - bionic - eoan - focal filename: 'idp-metadata.xml' filename: 'sp-private-key.pem' filename: 'sp-signing-keyinfo.xml'",25,27
openstack%2Fcloudkitty~stable%2Fussuri~I6de2948ff49e1bb0b6a8b9a3a90f9f2ebbb8b7bb,openstack/cloudkitty,stable/ussuri,I6de2948ff49e1bb0b6a8b9a3a90f9f2ebbb8b7bb,Fix docs build error due to duplicate references,MERGED,2020-08-12 21:53:16.000000000,2020-08-13 09:12:59.000000000,2020-08-13 09:11:24.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 21:53:16.000000000', 'files': ['doc/source/developer/collector.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/9740388abe629ea0993e9dcb5f8e68ed2d43ad8e', 'message': 'Fix docs build error due to duplicate references\n\nClass docstrings were being pulled in to multiple locations, causing\nsphinx errors due to the duplicate references. This fixes it by adding\nthe :noindex: option to those references.\n\nAlso temporarily disabling the PDF build as that is failing with another\nissue that should be fixed in a follow up.\n\nChange-Id: I6de2948ff49e1bb0b6a8b9a3a90f9f2ebbb8b7bb\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit 3dccfc76434b4390cd4b757aa6593a3806f4d1c6)\n'}]",0,745970,9740388abe629ea0993e9dcb5f8e68ed2d43ad8e,7,2,1,11904,,,0,"Fix docs build error due to duplicate references

Class docstrings were being pulled in to multiple locations, causing
sphinx errors due to the duplicate references. This fixes it by adding
the :noindex: option to those references.

Also temporarily disabling the PDF build as that is failing with another
issue that should be fixed in a follow up.

Change-Id: I6de2948ff49e1bb0b6a8b9a3a90f9f2ebbb8b7bb
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit 3dccfc76434b4390cd4b757aa6593a3806f4d1c6)
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/70/745970/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/developer/collector.rst', 'tox.ini']",2,9740388abe629ea0993e9dcb5f8e68ed2d43ad8e,docs-stable/ussuri,"# TODO(smcginnis) Temporarily disabling this as it fails. Error is that # something is too large, likely from pulling in one of the conf sample files # [testenv:pdf-docs] # envdir = {toxworkdir}/docs # whitelist_externals = # make # commands = # sphinx-build -W --keep-going -b latex doc/source doc/build/pdf # make -C doc/build/pdf",[testenv:pdf-docs] envdir = {toxworkdir}/docs whitelist_externals = make commands = sphinx-build -W --keep-going -b latex doc/source doc/build/pdf make -C doc/build/pdf,12,7
openstack%2Ftripleo-heat-templates~master~Iff496bf84c8aa5ee7d0a4424227e214594e6e589,openstack/tripleo-heat-templates,master,Iff496bf84c8aa5ee7d0a4424227e214594e6e589,Create etcd user/group on BM hosts if internal TLS,ABANDONED,2020-07-10 08:55:10.000000000,2020-08-13 09:10:32.000000000,,"[{'_account_id': 6926}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-07-10 08:55:10.000000000', 'files': ['deployment/certs/certmonger-user-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e4fd8ffcb5ea375c4bdec9094cb53bacdfeb4d60', 'message': 'Create etcd user/group on BM hosts if internal TLS\n\nSince the etcd package is not needed on the hosts,\ncreate etcd user and group to own certificates managed with puppet.\n\nChange-Id: Iff496bf84c8aa5ee7d0a4424227e214594e6e589\nCloses-bug: #1887136\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,740421,e4fd8ffcb5ea375c4bdec9094cb53bacdfeb4d60,14,5,1,6926,,,0,"Create etcd user/group on BM hosts if internal TLS

Since the etcd package is not needed on the hosts,
create etcd user and group to own certificates managed with puppet.

Change-Id: Iff496bf84c8aa5ee7d0a4424227e214594e6e589
Closes-bug: #1887136
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/740421/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/certs/certmonger-user-baremetal-puppet.yaml'],1,e4fd8ffcb5ea375c4bdec9094cb53bacdfeb4d60,bug/1887136," host_prep_tasks: # Since the etcd package is not needed on the hosts, # create etcd user and group to own certificates managed with puppet - name: Ensure etcd user and group exists vars: manage_etcd_user_group: {get_param: EnableInternalTLS} when: manage_etcd_user_group | bool block: - group: name: etcd system: true - user: name: etcd group: etcd system: true create_home: false",,16,0
openstack%2Ftripleo-common~master~I05b2158fd68491a876d260fdcfb740dcfd40d488,openstack/tripleo-common,master,I05b2158fd68491a876d260fdcfb740dcfd40d488,"Revert ""Write ansible log content to a different log file""",ABANDONED,2020-08-06 08:50:26.000000000,2020-08-13 09:04:53.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 9712}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-06 08:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/859f4b35a87a8b47d70532c6b080ae0495e1d497', 'message': 'Revert ""Write ansible log content to a different log file""\n\nCloses-bug: #1866676\nThis reverts commit 7adf317b0919819d8d9914ded6a1e417ff459b1b.\n\nChange-Id: I05b2158fd68491a876d260fdcfb740dcfd40d488\n'}, {'number': 2, 'created': '2020-08-06 08:52:05.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f4459a84d66242332f0d7db22b87cb51685fcd21', 'message': 'Revert ""Write ansible log content to a different log file""\n\nCloses-bug: #1866676\nThis reverts commit 7adf317b0919819d8d9914ded6a1e417ff459b1b.\n\nChange-Id: I05b2158fd68491a876d260fdcfb740dcfd40d488\n'}]",0,745094,f4459a84d66242332f0d7db22b87cb51685fcd21,12,10,2,6926,,,0,"Revert ""Write ansible log content to a different log file""

Closes-bug: #1866676
This reverts commit 7adf317b0919819d8d9914ded6a1e417ff459b1b.

Change-Id: I05b2158fd68491a876d260fdcfb740dcfd40d488
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/94/745094/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",2,859f4b35a87a8b47d70532c6b080ae0495e1d497,ooo-ansible-logging," try: action = ansible.AnsiblePlaybookAction( result = action.run(None) log_path = result.get('log_path') if log_path and os.path.isfile(log_path): with open(log_path) as f: for line in f: LOG.info(line.rstrip()) except processutils.ProcessExecutionError as e: LOG.error('%s\nError running playbook in directory: %s' % (e.stdout, work_dir)) raise ImageUploaderException( 'Modifying image %s failed' % target_image)"," log_name = 'tripleo-container-image-prepare-ansible.log' try: for handler in LOG.logger.root.handlers: if hasattr(handler, 'baseFilename'): if os.path.isfile(handler.baseFilename): log_f = os.path.join( os.path.dirname(handler.baseFilename), log_name ) break else: raise OSError('Log output is not a file.') except (AttributeError, OSError): tmp_dir = tempfile.gettempdir() log_f = os.path.join(tmp_dir, log_name) try: LOG.info('Ansible action starting') ansible.AnsiblePlaybookAction( ""log_path=%s\n"" % log_f ) ).run(None) except processutils.ProcessExecutionError as e: LOG.error( '%s\n' 'Error running playbook in directory: %s\n' 'Playbook log information can be reviewed here: %s' % ( e.stdout, work_dir, log_f raise ImageUploaderException( 'Modifying image %s failed' % target_image ) else: LOG.info('Ansible action completed') finally:",12,36
openstack%2Ftripleo-heat-templates~master~Ie06edd54aa3ce570c02c4c53328395cda65d34a6,openstack/tripleo-heat-templates,master,Ie06edd54aa3ce570c02c4c53328395cda65d34a6,[Trivial]Fix some typos in docs,ABANDONED,2020-08-13 08:04:46.000000000,2020-08-13 09:04:12.000000000,,[],"[{'number': 1, 'created': '2020-08-13 08:04:46.000000000', 'files': ['plan-samples/plan-environment-derived-params.yaml', 'deployment/neutron/neutron-plugin-ml2-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/19d7a1e5f0f4cdd5e598a1bf95e67995c1a0bb15', 'message': '[Trivial]Fix some typos in docs\n\nThis is to fix the following typos in docs:\nduplicate as\nOuf the\nspecifices\n\nChange-Id: Ie06edd54aa3ce570c02c4c53328395cda65d34a6\n'}]",0,746016,19d7a1e5f0f4cdd5e598a1bf95e67995c1a0bb15,2,0,1,17130,,,0,"[Trivial]Fix some typos in docs

This is to fix the following typos in docs:
duplicate as
Ouf the
specifices

Change-Id: Ie06edd54aa3ce570c02c4c53328395cda65d34a6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/746016/1 && git format-patch -1 --stdout FETCH_HEAD,"['plan-samples/plan-environment-derived-params.yaml', 'deployment/neutron/neutron-plugin-ml2-ovn.yaml']",2,19d7a1e5f0f4cdd5e598a1bf95e67995c1a0bb15,, description: List of servers to use as dns forwarders, description: List of servers to use as as dns forwarders,4,4
openstack%2Fironic-python-agent~master~I66db457e71a0586723ee753bef961aec5bf58827,openstack/ironic-python-agent,master,I66db457e71a0586723ee753bef961aec5bf58827,Fix bootloader install issue with MDRAID,MERGED,2020-07-09 16:24:03.000000000,2020-08-13 08:57:27.000000000,2020-07-22 22:13:33.000000000,"[{'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-09 16:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/faf5c47a0a03a7a238fe7653d08d99f3834ea972', 'message': 'WIP: Fix bootloader install issue with MDRAID\n\nWhen no root_device hint is set, an MDRAID partition can be incorrectly\nselected as the root device which causes installation of the bootloader\nto the physical disks backing the MDRAID volume to fail.\n\nThis is still a work in progress. It should reproduce the issue via\nthe unit tests.\n\nChange-Id: I66db457e71a0586723ee753bef961aec5bf58827\nStory: 2007905\nTask: 40303\n'}, {'number': 2, 'created': '2020-07-10 13:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/03128f0d917dcc202312b99102fa32059421d4a8', 'message': 'WIP: Fix bootloader install issue with MDRAID\n\nWhen no root_device hint is set, an MDRAID partition can be incorrectly\nselected as the root device which causes installation of the bootloader\nto the physical disks backing the MDRAID volume to fail.\n\nThis is still a work in progress. It should reproduce the issue via\nthe unit tests.\n\nChange-Id: I66db457e71a0586723ee753bef961aec5bf58827\nStory: 2007905\nTask: 40303\n'}, {'number': 3, 'created': '2020-07-10 16:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c99bc81925e12f29062662aab1d7f0ff936d2f85', 'message': 'Fix bootloader install issue with MDRAID\n\nWhen no root_device hint is set, an MDRAID partition can be incorrectly\nselected as the root device which causes installation of the bootloader\nto the physical disks behind the MDRAID volume to fail. See the notes\nin the referenced Story for more detail.\n\nThis change adds a little more specificity to the listing of block\ndevices.\n\nChange-Id: I66db457e71a0586723ee753bef961aec5bf58827\nStory: 2007905\nTask: 40303\n'}, {'number': 4, 'created': '2020-07-13 08:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4720f2acc8dc42705f4e078dd7a9a4542e1b7a46', 'message': 'Fix bootloader install issue with MDRAID\n\nWhen no root_device hint is set, an MDRAID partition can be incorrectly\nselected as the root device which causes installation of the bootloader\nto the physical disks behind the MDRAID volume to fail. See the notes\nin the referenced Story for more detail.\n\nThis change adds a little more specificity to the listing of block\ndevices.\n\nChange-Id: I66db457e71a0586723ee753bef961aec5bf58827\nStory: 2007905\nTask: 40303\n'}, {'number': 5, 'created': '2020-07-22 18:17:48.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/fix-bootloader-install-with-mdraid-0a254035df9d0bed.yaml', 'ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5e95b1321d6e4fe5c562092d0baba73ad6d5303e', 'message': 'Fix bootloader install issue with MDRAID\n\nWhen no root_device hint is set, an MDRAID partition can be incorrectly\nselected as the root device which causes installation of the bootloader\nto the physical disks behind the MDRAID volume to fail. See the notes\nin the referenced Story for more detail.\n\nThis change adds a little more specificity to the listing of block\ndevices.\n\nChange-Id: I66db457e71a0586723ee753bef961aec5bf58827\nStory: 2007905\nTask: 40303\n'}]",6,740331,5e95b1321d6e4fe5c562092d0baba73ad6d5303e,26,5,5,17669,,,0,"Fix bootloader install issue with MDRAID

When no root_device hint is set, an MDRAID partition can be incorrectly
selected as the root device which causes installation of the bootloader
to the physical disks behind the MDRAID volume to fail. See the notes
in the referenced Story for more detail.

This change adds a little more specificity to the listing of block
devices.

Change-Id: I66db457e71a0586723ee753bef961aec5bf58827
Story: 2007905
Task: 40303
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/31/740331/5 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/tests/unit/test_hardware.py'],1,faf5c47a0a03a7a238fe7653d08d99f3834ea972,raid_fix," 'KNAME=""md0p1"" MODEL=""RAID"" SIZE=""165517033470"" ' 'ROTA=""0"" TYPE=""md""\n'",,2,0
openstack%2Fopenstack-ansible-os_nova~master~Id3e63118d8785c6c8e82e792ff3c49434485cd87,openstack/openstack-ansible-os_nova,master,Id3e63118d8785c6c8e82e792ff3c49434485cd87,Updated from OpenStack Ansible Tests,MERGED,2020-08-12 11:34:42.000000000,2020-08-13 08:54:27.000000000,2020-08-13 08:52:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-08-12 11:34:42.000000000', 'files': ['tasks/service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/841d6ff7e4a0c73d477745c94f9173c913227157', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Id3e63118d8785c6c8e82e792ff3c49434485cd87\n'}]",0,745858,841d6ff7e4a0c73d477745c94f9173c913227157,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Id3e63118d8785c6c8e82e792ff3c49434485cd87
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/58/745858/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/service_setup.yml'],1,841d6ff7e4a0c73d477745c94f9173c913227157,openstack/openstack-ansible-tests/sync-tests," description: ""{{ _domain_name_description | default(omit) }}""",,1,0
openstack%2Fpython-ironicclient~master~Ie84f5d9c3d657a49d4c443efdd695d69f5150142,openstack/python-ironicclient,master,Ie84f5d9c3d657a49d4c443efdd695d69f5150142,Fix expected exception message in one test,MERGED,2020-08-12 11:22:11.000000000,2020-08-13 08:48:28.000000000,2020-08-13 08:46:53.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-12 11:22:11.000000000', 'files': ['ironicclient/tests/functional/osc/v1/test_baremetal_node_negative.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/7fc6f659bdc4c5d6e18cde5cf6f9d0e0de75c775', 'message': 'Fix expected exception message in one test\n\nIt seems to have changed recently.\n\nChange-Id: Ie84f5d9c3d657a49d4c443efdd695d69f5150142\n'}]",0,745834,7fc6f659bdc4c5d6e18cde5cf6f9d0e0de75c775,10,6,1,12356,,,0,"Fix expected exception message in one test

It seems to have changed recently.

Change-Id: Ie84f5d9c3d657a49d4c443efdd695d69f5150142
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/34/745834/1 && git format-patch -1 --stdout FETCH_HEAD,['ironicclient/tests/functional/osc/v1/test_baremetal_node_negative.py'],1,7fc6f659bdc4c5d6e18cde5cf6f9d0e0de75c775,fix-osc-functional-test," ('--property', 'prop', ""Reason: can't remove a non-existent object"")"," ('--property', 'prop', ""Reason: can't remove non-existent object"")",1,1
openstack%2Fironic-python-agent~bugfix%2F6.2~I4b0be2b0755108490f9cd3c4f3b71a5e036761a1,openstack/ironic-python-agent,bugfix/6.2,I4b0be2b0755108490f9cd3c4f3b71a5e036761a1,Ignore devices with size 0 when collecting inventory,MERGED,2020-08-10 07:59:33.000000000,2020-08-13 08:48:20.000000000,2020-08-13 08:46:54.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-10 07:59:33.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/zero-size-78d3be2ac8fd59c2.yaml', 'ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6e8e0bcf43de9807b7a7a195566c988567607992', 'message': 'Ignore devices with size 0 when collecting inventory\n\ndelete_configuration still fetches all devices as it needs to clean\nones with broken RAID.\n\nStory: #2007907\nTask: #40307\nChange-Id: I4b0be2b0755108490f9cd3c4f3b71a5e036761a1\n(cherry picked from commit 1f3b70c4e968464a93ea68e6f64c4836b90446de)\n'}]",0,745493,6e8e0bcf43de9807b7a7a195566c988567607992,13,6,1,23851,,,0,"Ignore devices with size 0 when collecting inventory

delete_configuration still fetches all devices as it needs to clean
ones with broken RAID.

Story: #2007907
Task: #40307
Change-Id: I4b0be2b0755108490f9cd3c4f3b71a5e036761a1
(cherry picked from commit 1f3b70c4e968464a93ea68e6f64c4836b90446de)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/93/745493/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'releasenotes/notes/zero-size-78d3be2ac8fd59c2.yaml', 'ironic_python_agent/tests/unit/test_hardware.py']",3,6e8e0bcf43de9807b7a7a195566c988567607992,zero-size-bugfix/6.2," 'KNAME=""fd1"" MODEL=""magic"" SIZE=""4096"" ROTA=""1"" TYPE=""disk""\n' 'KNAME=""sdf"" MODEL=""virtual floppy"" SIZE=""0"" ROTA=""1"" TYPE=""disk""' 'ROTA=""0"" TYPE=""raid1""\n' 'KNAME=""md1"" MODEL=""RAID"" SIZE="""" ROTA=""0"" TYPE=""raid1""' hardware.BlockDevice(name='/dev/md1', model='RAID', size=0, rotational=False, vendor=""FooTastic""), result = hardware.list_all_block_devices(ignore_empty=False)"," 'KNAME=""fd1"" MODEL=""magic"" SIZE=""4096"" ROTA=""1"" TYPE=""disk""' 'ROTA=""0"" TYPE=""raid1""' result = hardware.list_all_block_devices()",25,5
openstack%2Fpuppet-tripleo~master~I32a1b7d0c604e4a01cffc312d808a1b65f25c0cb,openstack/puppet-tripleo,master,I32a1b7d0c604e4a01cffc312d808a1b65f25c0cb,WIP HA: use new attribute 'promoted_max' for M/S resources,ABANDONED,2020-06-17 15:58:04.000000000,2020-08-13 08:23:30.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-17 15:58:04.000000000', 'files': ['manifests/profile/pacemaker/database/redis_bundle.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/703417671b76d351a69c85b2fdee7df3beb87bdb', 'message': ""WIP HA: use new attribute 'promoted_max' for M/S resources\n\nIn pacemaker 2, meta attribute 'masters' has been deprecated in\nfavour of meta attribute 'promoted_max'. Use it in our HA\nservices\n\nDepends-On: I3033563ba8a28298d63db42dfa2df1960b685e45\nChange-Id: I32a1b7d0c604e4a01cffc312d808a1b65f25c0cb\n""}]",0,736287,703417671b76d351a69c85b2fdee7df3beb87bdb,4,2,1,20778,,,0,"WIP HA: use new attribute 'promoted_max' for M/S resources

In pacemaker 2, meta attribute 'masters' has been deprecated in
favour of meta attribute 'promoted_max'. Use it in our HA
services

Depends-On: I3033563ba8a28298d63db42dfa2df1960b685e45
Change-Id: I32a1b7d0c604e4a01cffc312d808a1b65f25c0cb
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/87/736287/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/database/redis_bundle.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp']",3,703417671b76d351a69c85b2fdee7df3beb87bdb,promote-max," promoted_max => 1,"," masters => 1,",3,3
openstack%2Fpuppet-tripleo~stable%2Ftrain~I1aeed927abf82527d96214ec7094ed573e2b10f3,openstack/puppet-tripleo,stable/train,I1aeed927abf82527d96214ec7094ed573e2b10f3,DNR Fix up cluster_setup_extras usage,ABANDONED,2020-08-01 08:32:27.000000000,2020-08-13 08:23:24.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-01 08:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a8675f08748ba2e28382d5dcf1182c3e96b18fc8', 'message': ""DNR Fix up cluster_setup_extras usage\n\nTest building Id54537205538740a09a570a392f291a14d759f61 with\npuppet-pacemaker's support for cluster_setup_extras\n\nDepends-On: I02108c8f8a6bdda5844564e4bdd4d15bfd0e26ec\n\nChange-Id: I1aeed927abf82527d96214ec7094ed573e2b10f3\n""}, {'number': 2, 'created': '2020-08-03 08:59:35.000000000', 'files': ['manifests/profile/base/pacemaker.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3eda7df9a648510eee65120cca08ce703507d1bf', 'message': ""DNR Fix up cluster_setup_extras usage\n\nTest building Id54537205538740a09a570a392f291a14d759f61 with\npuppet-pacemaker's support for cluster_setup_extras\n\nDepends-On: Ieff50924d6851f0fe1c7af1d6eb90b9ead28ca6d\n\nChange-Id: I1aeed927abf82527d96214ec7094ed573e2b10f3\n""}]",0,744278,3eda7df9a648510eee65120cca08ce703507d1bf,7,5,2,20778,,,0,"DNR Fix up cluster_setup_extras usage

Test building Id54537205538740a09a570a392f291a14d759f61 with
puppet-pacemaker's support for cluster_setup_extras

Depends-On: Ieff50924d6851f0fe1c7af1d6eb90b9ead28ca6d

Change-Id: I1aeed927abf82527d96214ec7094ed573e2b10f3
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/78/744278/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker.pp'],1,a8675f08748ba2e28382d5dcf1182c3e96b18fc8,pcs-setup-test," include ::pacemaker::params if !$::pacemaker::params::pcs_010 { $corosync_ipv6 = str2bool(hiera('corosync_ipv6', false)) if $corosync_ipv6 { $cluster_setup_extras_pre = { '--token' => hiera('corosync_token_timeout', 1000), '--ipv6' => '' } } else { $cluster_setup_extras_pre = { '--token' => hiera('corosync_token_timeout', 1000) } ""totem token=${hiera('corosync_token_timeout', 1000)}"" => '', if $encryption and !$::pacemaker::params::pcs_010 {"," $corosync_ipv6 = str2bool(hiera('corosync_ipv6', false)) if $corosync_ipv6 { $cluster_setup_extras_pre = { '--token' => hiera('corosync_token_timeout', 1000), '--ipv6' => '' '--token' => hiera('corosync_token_timeout', 1000) if $encryption {",15,7
openstack%2Fkolla-ansible~master~Ifc252ae793e6974356fcdca810b373f362d24ba5,openstack/kolla-ansible,master,Ifc252ae793e6974356fcdca810b373f362d24ba5,Mount /etc/timezone based on host OS,MERGED,2020-08-10 09:14:34.000000000,2020-08-13 08:13:24.000000000,2020-08-12 22:09:19.000000000,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-10 09:14:34.000000000', 'files': ['ansible/roles/rally/defaults/main.yml', 'ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/chrony/defaults/main.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/searchlight/defaults/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/qinling/defaults/main.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/karbor/defaults/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/panko/defaults/main.yml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/tempest/defaults/main.yml', 'ansible/roles/vmtp/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/146b00efa7081eac9cba4410b5ea7e8b17535246', 'message': 'Mount /etc/timezone based on host OS\n\nPreviously we mounted /etc/timezone if the kolla_base_distro is debian\nor ubuntu. This would fail prechecks if debian or ubuntu images were\ndeployed on CentOS. While this is not a supported combination, for\ncorrectness we should fix the condition to reference the host OS rather\nthan the container OS, since that is where the /etc/timezone file is\nlocated.\n\nChange-Id: Ifc252ae793e6974356fcdca810b373f362d24ba5\nCloses-Bug: #1882553\n'}]",0,745505,146b00efa7081eac9cba4410b5ea7e8b17535246,28,5,1,14826,,,0,"Mount /etc/timezone based on host OS

Previously we mounted /etc/timezone if the kolla_base_distro is debian
or ubuntu. This would fail prechecks if debian or ubuntu images were
deployed on CentOS. While this is not a supported combination, for
correctness we should fix the condition to reference the host OS rather
than the container OS, since that is where the /etc/timezone file is
located.

Change-Id: Ifc252ae793e6974356fcdca810b373f362d24ba5
Closes-Bug: #1882553
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/05/745505/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rally/defaults/main.yml', 'ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/chrony/defaults/main.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/searchlight/defaults/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/qinling/defaults/main.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/karbor/defaults/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/panko/defaults/main.yml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/tempest/defaults/main.yml', 'ansible/roles/vmtp/defaults/main.yml']",66,146b00efa7081eac9cba4410b5ea7e8b17535246,bug/1882553," - ""{{ '/etc/timezone:/etc/timezone:ro' if ansible_os_family == 'Debian' else '' }}"""," - ""{{ '/etc/timezone:/etc/timezone:ro' if kolla_base_distro in ['debian', 'ubuntu'] else '' }}""",187,187
openstack%2Fironic~master~Ia6e0ebf19fbac7a035baf7b93c62cffa3e1e6ccd,openstack/ironic,master,Ia6e0ebf19fbac7a035baf7b93c62cffa3e1e6ccd,[Trivial]Fix some typos in docs,MERGED,2020-08-12 03:27:09.000000000,2020-08-13 08:10:32.000000000,2020-08-13 07:54:00.000000000,"[{'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-08-12 03:27:09.000000000', 'files': ['releasenotes/notes/add-ansible-python-interpreter-2035e0f23d407aaf.yaml', 'doc/source/admin/drivers/redfish.rst', 'releasenotes/notes/fixes-get-boot-option-for-software-raid-baa2cffd95e1f624.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/45644c64a226a81ebcb3324338d875a355b9e353', 'message': '[Trivial]Fix some typos in docs\n\nDelete the duplicate words.\n\nChange-Id: Ia6e0ebf19fbac7a035baf7b93c62cffa3e1e6ccd\n'}]",0,745773,45644c64a226a81ebcb3324338d875a355b9e353,10,4,1,17130,,,0,"[Trivial]Fix some typos in docs

Delete the duplicate words.

Change-Id: Ia6e0ebf19fbac7a035baf7b93c62cffa3e1e6ccd
",git fetch https://review.opendev.org/openstack/ironic refs/changes/73/745773/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-ansible-python-interpreter-2035e0f23d407aaf.yaml', 'doc/source/admin/drivers/redfish.rst', 'releasenotes/notes/fixes-get-boot-option-for-software-raid-baa2cffd95e1f624.yaml']",3,45644c64a226a81ebcb3324338d875a355b9e353,, incorrect deployment path and attempt to install a boot loader., the incorrect deployment path and attempt to install a boot loader.,4,4
openstack%2Ftripleo-upgrade~stable%2Fussuri~I7e6dae5f6b586676380a1dca53d73e23a3a1e7da,openstack/tripleo-upgrade,stable/ussuri,I7e6dae5f6b586676380a1dca53d73e23a3a1e7da,FFWD upgrade converge cleanup,MERGED,2020-08-13 00:04:04.000000000,2020-08-13 07:57:23.000000000,2020-08-13 07:57:23.000000000,"[{'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-13 00:04:04.000000000', 'files': ['templates/overcloud_upgrade_converge.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b0791c20151b5b47acaa4030acc0d8d75d6d0f33', 'message': 'FFWD upgrade converge cleanup\n\nRemove obsolete file\n\nChange-Id: I7e6dae5f6b586676380a1dca53d73e23a3a1e7da\n(cherry picked from commit e37b0aea7c91c12d6f9cb25a6c96b75858ddc598)\n'}]",0,745976,b0791c20151b5b47acaa4030acc0d8d75d6d0f33,7,2,1,11166,,,0,"FFWD upgrade converge cleanup

Remove obsolete file

Change-Id: I7e6dae5f6b586676380a1dca53d73e23a3a1e7da
(cherry picked from commit e37b0aea7c91c12d6f9cb25a6c96b75858ddc598)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/76/745976/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/overcloud_upgrade_converge.sh.j2'],1,b0791c20151b5b47acaa4030acc0d8d75d6d0f33,,, {% if ffu_overcloud_upgrade and deployment_with_ha_upstream -%} -e {{ tht_directory }}/environments/docker.yaml \ -e {{ tht_directory }}/environments/docker-ha.yaml \ {% endif -%} {% if ceph_osd_enabled -%} -e {{working_dir}}/ceph-ansible-env.yaml \ {% endif -%},0,7
openstack%2Fproject-config~master~Ie82505632bbfe9ddfd4478e797f20f506ad260fc,openstack/project-config,master,Ie82505632bbfe9ddfd4478e797f20f506ad260fc,A pyca/cryptography to Zuul tenant,ABANDONED,2020-08-13 02:10:09.000000000,2020-08-13 07:44:51.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-13 02:10:09.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/391e3b7287cedd409f99f39b26bf7a2c59dd4718', 'message': 'A pyca/cryptography to Zuul tenant\n\nThis is a good library to test building manylinux wheels with, so it\nwould be handy for zuul to clone it for zuul-jobs testing.\n\nChange-Id: Ie82505632bbfe9ddfd4478e797f20f506ad260fc\n'}]",0,745990,391e3b7287cedd409f99f39b26bf7a2c59dd4718,4,2,1,7118,,,0,"A pyca/cryptography to Zuul tenant

This is a good library to test building manylinux wheels with, so it
would be handy for zuul to clone it for zuul-jobs testing.

Change-Id: Ie82505632bbfe9ddfd4478e797f20f506ad260fc
",git fetch https://review.opendev.org/openstack/project-config refs/changes/90/745990/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,391e3b7287cedd409f99f39b26bf7a2c59dd4718,pyca-zuul, - pyca/cryptography,,1,0
openstack%2Fpython-openstackclient~master~I102b41677736bbe37a82abaa3c5b3e1faf2475d5,openstack/python-openstackclient,master,I102b41677736bbe37a82abaa3c5b3e1faf2475d5,Bypass user and group verification in RemoveRole,MERGED,2020-07-09 22:10:43.000000000,2020-08-13 06:32:33.000000000,2020-08-13 06:29:54.000000000,"[{'_account_id': 2}, {'_account_id': 5046}, {'_account_id': 8866}, {'_account_id': 9954}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-09 22:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/800af0440476afcba551318468ebdeb683f9d1a2', 'message': ""Bypass user and group verification in RemoveRole\n\nKeystone let's users remove role assignments that reference non-existent\nusers and groups. This is nice when keystone backs to an identity store\nlike LDAP and users or groups are removed.\n\nPreviously, openstackclient would validate the user and group existed in\nkeystone before sending the request to delete the role assignment. This\ncommit updates the code to bypass that validation so that users can use\nIDs to forcibly cleanup role assignments.\n\nChange-Id: I102b41677736bbe37a82abaa3c5b3e1faf2475d5\nCloses-Bug: 2006635\n""}, {'number': 2, 'created': '2020-07-09 22:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fbfed22d1a614c17023dd6e595154399afddda44', 'message': ""Bypass user and group verification in RemoveRole\n\nKeystone let's users remove role assignments that reference non-existent\nusers and groups. This is nice when keystone backs to an identity store\nlike LDAP and users or groups are removed.\n\nPreviously, openstackclient would validate the user and group existed in\nkeystone before sending the request to delete the role assignment. This\ncommit updates the code to bypass that validation so that users can use\nIDs to forcibly cleanup role assignments.\n\nChange-Id: I102b41677736bbe37a82abaa3c5b3e1faf2475d5\nStory: 2006635\n""}, {'number': 3, 'created': '2020-07-09 22:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/75f3f970190ab6425ee73eb087771b4e342c4a7b', 'message': ""Bypass user and group verification in RemoveRole\n\nKeystone let's users remove role assignments that reference non-existent\nusers and groups. This is nice when keystone backs to an identity store\nlike LDAP and users or groups are removed.\n\nPreviously, openstackclient would validate the user and group existed in\nkeystone before sending the request to delete the role assignment. This\ncommit updates the code to bypass that validation so that users can use\nIDs to forcibly cleanup role assignments.\n\nChange-Id: I102b41677736bbe37a82abaa3c5b3e1faf2475d5\nStory: 2006635\nTask: 36848\n""}, {'number': 4, 'created': '2020-07-10 13:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/42e6a86b32e2c65346982fb43ba28865e5109cd0', 'message': ""Bypass user and group verification in RemoveRole\n\nKeystone let's users remove role assignments that reference non-existent\nusers and groups. This is nice when keystone backs to an identity store\nlike LDAP and users or groups are removed.\n\nPreviously, openstackclient would validate the user and group existed in\nkeystone before sending the request to delete the role assignment. This\ncommit updates the code to bypass that validation so that users can use\nIDs to forcibly cleanup role assignments.\n\nChange-Id: I102b41677736bbe37a82abaa3c5b3e1faf2475d5\nStory: 2006635\nTask: 36848\n""}, {'number': 5, 'created': '2020-07-10 14:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b6dae7da7d3db26ce48898c0fdb4dc25f5db52e5', 'message': ""Bypass user and group verification in RemoveRole\n\nKeystone let's users remove role assignments that reference non-existent\nusers and groups. This is nice when keystone backs to an identity store\nlike LDAP and users or groups are removed.\n\nPreviously, openstackclient would validate the user and group existed in\nkeystone before sending the request to delete the role assignment. This\ncommit updates the code to bypass that validation so that users can use\nIDs to forcibly cleanup role assignments.\n\nChange-Id: I102b41677736bbe37a82abaa3c5b3e1faf2475d5\nStory: 2006635\nTask: 36848\n""}, {'number': 6, 'created': '2020-07-15 14:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9960fa2e5c691c5edb8e0e1151830de6e23fa93e', 'message': ""Bypass user and group verification in RemoveRole\n\nKeystone let's users remove role assignments that reference non-existent\nusers and groups. This is nice when keystone backs to an identity store\nlike LDAP and users or groups are removed.\n\nPreviously, openstackclient would validate the user and group existed in\nkeystone before sending the request to delete the role assignment. This\ncommit updates the code to bypass that validation so that users can use\nIDs to forcibly cleanup role assignments.\n\nChange-Id: I102b41677736bbe37a82abaa3c5b3e1faf2475d5\nStory: 2006635\nTask: 36848\n""}, {'number': 7, 'created': '2020-08-12 17:24:25.000000000', 'files': ['releasenotes/notes/bug-2006635-3110f7a87a186e62.yaml', 'openstackclient/identity/v3/role.py', 'openstackclient/tests/unit/identity/v3/test_role.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e24673267093de85beee753860cda1fb224ce4bc', 'message': ""Bypass user and group verification in RemoveRole\n\nKeystone let's users remove role assignments that reference non-existent\nusers and groups. This is nice when keystone backs to an identity store\nlike LDAP and users or groups are removed.\n\nPreviously, openstackclient would validate the user and group existed in\nkeystone before sending the request to delete the role assignment. This\ncommit updates the code to bypass that validation so that users can use\nIDs to forcibly cleanup role assignments.\n\nChange-Id: I102b41677736bbe37a82abaa3c5b3e1faf2475d5\nStory: 2006635\nTask: 36848\n""}]",20,740380,e24673267093de85beee753860cda1fb224ce4bc,36,8,7,5046,,,0,"Bypass user and group verification in RemoveRole

Keystone let's users remove role assignments that reference non-existent
users and groups. This is nice when keystone backs to an identity store
like LDAP and users or groups are removed.

Previously, openstackclient would validate the user and group existed in
keystone before sending the request to delete the role assignment. This
commit updates the code to bypass that validation so that users can use
IDs to forcibly cleanup role assignments.

Change-Id: I102b41677736bbe37a82abaa3c5b3e1faf2475d5
Story: 2006635
Task: 36848
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/80/740380/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-2006635-3110f7a87a186e62.yaml', 'openstackclient/identity/v3/role.py']",2,800af0440476afcba551318468ebdeb683f9d1a2,," identity_client_manager, validate_actor_existence=True): def _find_user(): if validate_actor_existence: user = common.find_user( identity_client_manager, parsed_args.user, parsed_args.user_domain ).id elif validate_actor_existence is False: try: user = common.find_user( identity_client_manager, parsed_args.user, parsed_args.user_domain ).id except exception.CommandError: user = parsed_args.user return user def _find_group(): if validate_actor_existence: group = common.find_group( identity_client_manager, parsed_args.group, parsed_args.group_domain ).id elif validate_actor_existence is False: try: group = common.find_group( identity_client_manager, parsed_args.group, parsed_args.group_domain ).id except exception.CommandError: group = parsed_args.group return group kwargs['user'] = _find_user() kwargs['user'] = _find_user() kwargs['user'] = _find_user() kwargs['group'] = _find_group() kwargs['group'] = _find_group() kwargs['group'] = _find_group() parsed_args, self.app.client_manager.identity, validate_actor_existence=False )"," identity_client_manager): kwargs['user'] = common.find_user( identity_client_manager, parsed_args.user, parsed_args.user_domain, ).id kwargs['user'] = common.find_user( identity_client_manager, parsed_args.user, parsed_args.user_domain, ).id kwargs['user'] = common.find_user( identity_client_manager, parsed_args.user, parsed_args.user_domain, ).id kwargs['group'] = common.find_group( identity_client_manager, parsed_args.group, parsed_args.group_domain, ).id kwargs['group'] = common.find_group( identity_client_manager, parsed_args.group, parsed_args.group_domain, ).id kwargs['group'] = common.find_group( identity_client_manager, parsed_args.group, parsed_args.group_domain, ).id parsed_args, self.app.client_manager.identity)",55,32
openstack%2Fironic-python-agent~master~I6f544327d310c976a1625cfb411947591867882a,openstack/ironic-python-agent,master,I6f544327d310c976a1625cfb411947591867882a,Add possibility to pass global request ID,MERGED,2020-05-15 17:19:56.000000000,2020-08-13 06:17:48.000000000,2020-08-13 06:15:46.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-05-15 17:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4d0d81cab9587d70accd1016c66a399dfecfb586', 'message': 'Add possibility to pass global request ID\n\nIt can be done via global-request-id kernel commandline parameter.\n\nStory: 2007681\nTask: 39792\nChange-Id: I6f544327d310c976a1625cfb411947591867882a\n'}, {'number': 2, 'created': '2020-07-27 14:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/372ea066858b2638c832b6b646dc0db52314f4b5', 'message': 'Add possibility to pass global request ID\n\nIt can be done via global-request-id kernel commandline parameter.\n\nStory: 2007681\nTask: 39792\nChange-Id: I6f544327d310c976a1625cfb411947591867882a\n'}, {'number': 3, 'created': '2020-07-27 14:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/201819204bcc511c2906ef4af1ff14c8e53be147', 'message': 'Add possibility to pass global request ID\n\nIt can be done via global-request-id kernel commandline parameter.\n\nStory: 2007681\nTask: 39792\nChange-Id: I6f544327d310c976a1625cfb411947591867882a\n'}, {'number': 4, 'created': '2020-08-12 12:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/568badc6ada6f815c477fd3af88b4363f1147cf1', 'message': 'Add possibility to pass global request ID\n\nIt can be done via ipa-global-request-id kernel commandline parameter.\n\nStory: 2007681\nTask: 39792\nChange-Id: I6f544327d310c976a1625cfb411947591867882a\n'}, {'number': 5, 'created': '2020-08-12 12:21:19.000000000', 'files': ['ironic_python_agent/tests/unit/test_ironic_api_client.py', 'ironic_python_agent/config.py', 'ironic_python_agent/ironic_api_client.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ba6ca246f542b49e59d51692231a59abdaf6290b', 'message': 'Add possibility to pass global request ID\n\nIt can be done via ipa-global-request-id kernel commandline parameter.\n\nStory: 2007681\nTask: 39792\nChange-Id: I6f544327d310c976a1625cfb411947591867882a\n'}]",9,728529,ba6ca246f542b49e59d51692231a59abdaf6290b,39,8,5,12356,,,0,"Add possibility to pass global request ID

It can be done via ipa-global-request-id kernel commandline parameter.

Story: 2007681
Task: 39792
Change-Id: I6f544327d310c976a1625cfb411947591867882a
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/29/728529/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/test_ironic_api_client.py', 'ironic_python_agent/config.py', 'ironic_python_agent/ironic_api_client.py']",3,4d0d81cab9587d70accd1016c66a399dfecfb586,add-global-request-id-param," if CONF.global_request_id: headers[""X-OpenStack-Request-ID""] = CONF.global_request_id",,13,0
openstack%2Fironic~master~Ideef57674550270a87513e039cd030f0bcc1c10e,openstack/ironic,master,Ideef57674550270a87513e039cd030f0bcc1c10e,Follow up to I44336423194eed99f026c44b6390030a94ed0522,MERGED,2020-08-10 05:59:12.000000000,2020-08-13 06:13:03.000000000,2020-08-13 06:10:39.000000000,"[{'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-08-10 05:59:12.000000000', 'files': ['ironic/common/exception.py', 'ironic/dhcp/neutron.py', 'ironic/tests/unit/dhcp/test_neutron.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/82a2fe4f7f35db7af094cc731ed3f621d37fe79e', 'message': 'Follow up to I44336423194eed99f026c44b6390030a94ed0522\n\nAllow using IPv6 address in the provisioning network.\n\nIP address based pxe config may not be used actually, in that case we\ncan remove it and saving a few neutron interaction.\n\nChange-Id: Ideef57674550270a87513e039cd030f0bcc1c10e\n'}]",0,745474,82a2fe4f7f35db7af094cc731ed3f621d37fe79e,12,6,1,24828,,,0,"Follow up to I44336423194eed99f026c44b6390030a94ed0522

Allow using IPv6 address in the provisioning network.

IP address based pxe config may not be used actually, in that case we
can remove it and saving a few neutron interaction.

Change-Id: Ideef57674550270a87513e039cd030f0bcc1c10e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/74/745474/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/exception.py', 'ironic/dhcp/neutron.py', 'ironic/tests/unit/dhcp/test_neutron.py']",3,82a2fe4f7f35db7af094cc731ed3f621d37fe79e,allow-dhcp6," def test__get_fixed_ip_address_ipv6(self): port_id = 'fake-port-id' expected = ""2001:dead:beef::1234"" api = dhcp_factory.DHCPFactory().provider port_data = { ""id"": port_id, ""network_id"": ""3cb9bc59-5699-4588-a4b1-b87f96708bc6"", ""admin_state_up"": True, ""status"": ""ACTIVE"", ""mac_address"": ""fa:16:3e:4c:2c:30"", ""fixed_ips"": [ { ""ip_address"": ""2001:dead:beef::1234"", ""subnet_id"": ""f8a6e8f8-c2ec-497c-9f23-da9616de54ef"" } ], ""device_id"": 'bece68a3-2f8b-4e66-9092-244493d6aba7', } fake_client = mock.Mock() fake_client.show_port.return_value = {'port': port_data} result = api._get_fixed_ip_address(port_id, fake_client) self.assertEqual(expected, result) fake_client.show_port.assert_called_once_with(port_id) self.assertRaises(exception.InvalidIPAddress,"," self.assertRaises(exception.InvalidIPv4Address,",34,5
openstack%2Fansible-hardening~stable%2Fussuri~I4e8bdbe8f482f61235b4b14a619e4ed91b01f2f4,openstack/ansible-hardening,stable/ussuri,I4e8bdbe8f482f61235b4b14a619e4ed91b01f2f4,Ensure that motd is not displayed twice,MERGED,2020-08-12 12:53:37.000000000,2020-08-13 05:50:12.000000000,2020-08-13 05:48:37.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-12 12:53:37.000000000', 'files': ['templates/sshd_config_block.j2'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/d66a5f3c9d83becc150df2d48b3a376b3991d158', 'message': 'Ensure that motd is not displayed twice\n\nmotd is handled by default with pam_motd.so module. Setting Banner option\nfor sshd_config makes motd to be shown twice, which is excessive\n\nChange-Id: I4e8bdbe8f482f61235b4b14a619e4ed91b01f2f4\n(cherry picked from commit 64ea421bba2e081ebda42297990f534b793b101b)\n'}]",0,745879,d66a5f3c9d83becc150df2d48b3a376b3991d158,17,2,1,25023,,,0,"Ensure that motd is not displayed twice

motd is handled by default with pam_motd.so module. Setting Banner option
for sshd_config makes motd to be shown twice, which is excessive

Change-Id: I4e8bdbe8f482f61235b4b14a619e4ed91b01f2f4
(cherry picked from commit 64ea421bba2e081ebda42297990f534b793b101b)
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/79/745879/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/sshd_config_block.j2'],1,d66a5f3c9d83becc150df2d48b3a376b3991d158,,,# V-72225 Banner {{ security_sshd_banner_file }},0,2
openstack%2Fneutron~master~I9224edab2d27184ed96be1cdea2bd865aadff065,openstack/neutron,master,I9224edab2d27184ed96be1cdea2bd865aadff065,Clean up some of the OVN agent API methods,MERGED,2020-06-19 23:33:06.000000000,2020-08-13 05:31:13.000000000,2020-08-13 05:29:34.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-19 23:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d5d0e83892cc2aa69f234746f13a768150711556', 'message': 'Clean up some of the OVN agent API methods\n\nAdds ControllerAgent and MetadataAgent classes to organize some of\nthe OVN Agent API code.\n\nChange-Id: I9224edab2d27184ed96be1cdea2bd865aadff065\n'}, {'number': 2, 'created': '2020-06-22 16:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0e0fdebd244da440fa8d54ec89fe49a1866ded99', 'message': 'Clean up some of the OVN agent API methods\n\nAdds ControllerAgent and MetadataAgent classes to organize some of\nthe OVN Agent API code.\n\nChange-Id: I9224edab2d27184ed96be1cdea2bd865aadff065\n'}, {'number': 3, 'created': '2020-06-22 16:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b819f968c85e72ca7b0ac3f842d163ed8bf1dbab', 'message': 'Clean up some of the OVN agent API methods\n\nAdds ControllerAgent and MetadataAgent classes to organize some of\nthe OVN Agent API code.\n\nChange-Id: I9224edab2d27184ed96be1cdea2bd865aadff065\n'}, {'number': 4, 'created': '2020-06-22 21:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/85b6b68eed2c97e142579461b80d74989db5e95a', 'message': 'Clean up some of the OVN agent API methods\n\nAdds ControllerAgent and MetadataAgent classes to organize some of\nthe OVN Agent API code.\n\nChange-Id: I9224edab2d27184ed96be1cdea2bd865aadff065\n'}, {'number': 5, 'created': '2020-06-23 16:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/12090af2b728286dd39521e9d34248dcde6d92f1', 'message': 'Clean up some of the OVN agent API methods\n\nAdds ControllerAgent and MetadataAgent classes to organize some of\nthe OVN Agent API code.\n\nChange-Id: I9224edab2d27184ed96be1cdea2bd865aadff065\n'}, {'number': 6, 'created': '2020-07-01 16:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a953218c8526caf4a10aa11fcea5ca703b24f898', 'message': 'Clean up some of the OVN agent API methods\n\nAdds ControllerAgent and MetadataAgent classes to organize some of\nthe OVN Agent API code.\n\nChange-Id: I9224edab2d27184ed96be1cdea2bd865aadff065\n'}, {'number': 7, 'created': '2020-07-07 21:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a55b783246b5aa614c073c5309b97a1044c7b60b', 'message': 'Clean up some of the OVN agent API methods\n\nAdds ControllerAgent and MetadataAgent classes to organize some of\nthe OVN Agent API code.\n\nChange-Id: I9224edab2d27184ed96be1cdea2bd865aadff065\n'}, {'number': 8, 'created': '2020-07-14 04:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eed48970c9226272bf8bd7feabc4257440a807a4', 'message': 'Clean up some of the OVN agent API methods\n\nAdds ControllerAgent and MetadataAgent classes to organize some of\nthe OVN Agent API code.\n\nChange-Id: I9224edab2d27184ed96be1cdea2bd865aadff065\n'}, {'number': 9, 'created': '2020-07-15 14:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/548c8c81bd68293c302e74c1a4e159900ee72aec', 'message': 'Clean up some of the OVN agent API methods\n\nAdds ControllerAgent and MetadataAgent classes to organize some of\nthe OVN Agent API code.\n\nChange-Id: I9224edab2d27184ed96be1cdea2bd865aadff065\n'}, {'number': 10, 'created': '2020-07-22 15:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8bc5b9673d37f160fbc608142d8061df914f5989', 'message': 'Clean up some of the OVN agent API methods\n\nAdds ControllerAgent and MetadataAgent classes to organize some of\nthe OVN Agent API code.\n\nChange-Id: I9224edab2d27184ed96be1cdea2bd865aadff065\n'}, {'number': 11, 'created': '2020-07-31 13:35:07.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/plugins/ml2/drivers/ovn/agent/__init__.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6723f4a485e2c60e45f45732c0881c126de06608', 'message': 'Clean up some of the OVN agent API methods\n\nAdds ControllerAgent and MetadataAgent classes to organize some of\nthe OVN Agent API code.\n\nChange-Id: I9224edab2d27184ed96be1cdea2bd865aadff065\n'}]",12,737106,6723f4a485e2c60e45f45732c0881c126de06608,75,11,11,5756,,,0,"Clean up some of the OVN agent API methods

Adds ControllerAgent and MetadataAgent classes to organize some of
the OVN Agent API code.

Change-Id: I9224edab2d27184ed96be1cdea2bd865aadff065
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/737106/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'],1,d5d0e83892cc2aa69f234746f13a768150711556,bug/1883554,"class NeutronAgent: def __init__(self, chassis): self.chassis = chassis def updated_at(self): try: return timeutils.parse_isotime(self.chassis.external_ids[self.key]) except KeyError: return timeutils.utcnow(with_timezone=True) def as_dict(self, alive): return { 'binary': self.binary, 'host': self.chassis.hostname, 'heartbeat_timestamp': timeutils.utcnow(), 'availability_zone': 'n/a', 'topic': 'n/a', 'description': self.description, 'configurations': { 'chassis_name': self.chassis.name, 'bridge-mappings': self.chassis.external_ids.get('ovn-bridge-mappings', '')}, 'start_flag': True, 'agent_type': self.type, 'id': self.agent_id, 'alive': alive, 'admin_state_up': True} class ControllerAgent(NeutronAgent): binary = 'ovn-controller' key = ovn_const.OVN_LIVENESS_CHECK_EXT_ID_KEY @property def type(self): if ('enable-chassis-as-gw' in self.chassis.external_ids.get('ovn-cms-options', [])): return ovn_const.OVN_CONTROLLER_GW_AGENT return ovn_const.OVN_CONTROLLER_AGENT @property def nb_cfg(self): return self.chassis.nb_cfg @property def agent_id(self): return self.chassis.name @property def description(self): return self.chassis.external_ids.get( ovn_const.OVN_AGENT_DESC_KEY, '') class MetadataAgent(NeutronAgent): type = ovn_const.OVN_METADATA_AGENT binary = 'networking-ovn-metadata-agent' key = ovn_const.METADATA_LIVENESS_CHECK_EXT_ID_KEY @property def nb_cfg(self): return int(self.chassis.external_ids.get( ovn_const.OVN_AGENT_METADATA_SB_CFG_KEY, 0)) @property def agent_id(self): return self.chassis.external_ids.get( ovn_const.OVN_AGENT_METADATA_ID_KEY) @property def description(self): return self.chassis.external_ids.get( ovn_const.OVN_AGENT_METADATA_DESC_KEY, '') def agent_alive(self, agent, update_db): if self._nb_ovn.nb_global.nb_cfg - agent.nb_cfg <= 1: if update_db: self.mark_agent_alive(agent) now = timeutils.utcnow(with_timezone=True) if (now - agent.updated_at).total_seconds() < cfg.CONF.agent_down_time: def mark_agent_alive(self, agent): # Update the time of our successful check value = timeutils.utcnow(with_timezone=True).isoformat() self._sb_ovn.db_set('Chassis', agent.chassis.uuid, ('external_ids', {agent.key: value})).execute( check_error=True) for agent in (ControllerAgent(chassis), MetadataAgent(chassis)): if not agent.agent_id: continue alive = self.agent_alive(chassis, agent) agent_dict[agent.agent_id] = agent.as_dict(alive) def ping_all_chassis(self): update_db = _driver.ping_all_chassis()"," def agent_alive(self, chassis, type_, update_db): nb_cfg = chassis.nb_cfg key = ovn_const.OVN_LIVENESS_CHECK_EXT_ID_KEY if type_ == ovn_const.OVN_METADATA_AGENT: nb_cfg = int(chassis.external_ids.get( ovn_const.OVN_AGENT_METADATA_SB_CFG_KEY, 0)) key = ovn_const.METADATA_LIVENESS_CHECK_EXT_ID_KEY try: updated_at = timeutils.parse_isotime(chassis.external_ids[key]) except KeyError: updated_at = timeutils.utcnow(with_timezone=True) update_db = True if self._nb_ovn.nb_global.nb_cfg - nb_cfg <= 1: if update_db: # Update the time of our successful check value = timeutils.utcnow(with_timezone=True).isoformat() self._sb_ovn.db_set('Chassis', chassis.uuid, ('external_ids', {key: value})).execute( check_error=True) now = timeutils.utcnow(with_timezone=True) if (now - updated_at).total_seconds() < cfg.CONF.agent_down_time: def _format_agent_info(self, chassis, binary, agent_id, type_, description, alive): return { 'binary': binary, 'host': chassis.hostname, 'heartbeat_timestamp': timeutils.utcnow(), 'availability_zone': 'n/a', 'topic': 'n/a', 'description': description, 'configurations': { 'chassis_name': chassis.name, 'bridge-mappings': chassis.external_ids.get('ovn-bridge-mappings', '')}, 'start_flag': True, 'agent_type': type_, 'id': agent_id, 'alive': alive, 'admin_state_up': True} # Check for ovn-controller / ovn-controller gateway agent_type = ovn_const.OVN_CONTROLLER_AGENT # Only the chassis name stays consistent after ovn-controller restart agent_id = chassis.name if ('enable-chassis-as-gw' in chassis.external_ids.get('ovn-cms-options', [])): agent_type = ovn_const.OVN_CONTROLLER_GW_AGENT alive = self.agent_alive(chassis, agent_type, update_db) description = chassis.external_ids.get( ovn_const.OVN_AGENT_DESC_KEY, '') agent_dict[agent_id] = self._format_agent_info( chassis, 'ovn-controller', agent_id, agent_type, description, alive) # Check for the metadata agent metadata_agent_id = chassis.external_ids.get( ovn_const.OVN_AGENT_METADATA_ID_KEY) if metadata_agent_id: agent_type = ovn_const.OVN_METADATA_AGENT alive = self.agent_alive(chassis, agent_type, update_db) description = chassis.external_ids.get( ovn_const.OVN_AGENT_METADATA_DESC_KEY, '') agent_dict[metadata_agent_id] = self._format_agent_info( chassis, 'networking-ovn-metadata-agent', metadata_agent_id, agent_type, description, alive) def ping_chassis(self): update_db = _driver.ping_chassis()",93,70
openstack%2Fironic~master~I691f64e1a1c916adac2f78a52fc1fd6baf20b509,openstack/ironic,master,I691f64e1a1c916adac2f78a52fc1fd6baf20b509,Init privsep,NEW,2020-08-11 16:01:22.000000000,2020-08-13 05:23:08.000000000,,"[{'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-08-11 16:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/96dc75752526bfbfcd5f270be2c602afbdcb611e', 'message': 'Init privsep\n\nDepends-On: https://review.opendev.org/745536\nChange-Id: I691f64e1a1c916adac2f78a52fc1fd6baf20b509\n'}, {'number': 2, 'created': '2020-08-11 16:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a8022d77d371bca0bc6338f561b0493bd12dc335', 'message': 'Init privsep\n\nDepends-On: https://review.opendev.org/745536\nChange-Id: I691f64e1a1c916adac2f78a52fc1fd6baf20b509\n'}, {'number': 3, 'created': '2020-08-12 19:23:59.000000000', 'files': ['requirements.txt', 'ironic/common/service.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/95e15ea8328759c1485e1d306ae49aea93743599', 'message': 'Init privsep\n\nChange-Id: I691f64e1a1c916adac2f78a52fc1fd6baf20b509\n'}]",0,745706,95e15ea8328759c1485e1d306ae49aea93743599,12,4,3,15519,,,0,"Init privsep

Change-Id: I691f64e1a1c916adac2f78a52fc1fd6baf20b509
",git fetch https://review.opendev.org/openstack/ironic refs/changes/06/745706/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/service.py'],1,96dc75752526bfbfcd5f270be2c602afbdcb611e,test_privsep_ironic_lib,from oslo_privsep import priv_context priv_context.init(root_helper=CONF.ironic_lib.root_helper),,2,0
openstack%2Fheat~master~I5c7b0e7454df0c5dd33efb03c08d15ea231bf530,openstack/heat,master,I5c7b0e7454df0c5dd33efb03c08d15ea231bf530,Add U + V release codenames for docs generation,MERGED,2020-08-12 14:07:12.000000000,2020-08-13 03:53:27.000000000,2020-08-13 03:51:57.000000000,"[{'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 14:07:12.000000000', 'files': ['doc/source/ext/resources.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/9e6c3212b9434222702e496c954cdd144b2d3b12', 'message': 'Add U + V release codenames for docs generation\n\nThis makes for nicer output in the resource types docs.\n\nChange-Id: I5c7b0e7454df0c5dd33efb03c08d15ea231bf530\n'}]",0,745898,9e6c3212b9434222702e496c954cdd144b2d3b12,7,3,1,4257,,,0,"Add U + V release codenames for docs generation

This makes for nicer output in the resource types docs.

Change-Id: I5c7b0e7454df0c5dd33efb03c08d15ea231bf530
",git fetch https://review.opendev.org/openstack/heat refs/changes/98/745898/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/ext/resources.py'],1,9e6c3212b9434222702e496c954cdd144b2d3b12,,"_CODE_NAMES = { '2013.1': 'Grizzly', '2013.2': 'Havana', '2014.1': 'Icehouse', '2014.2': 'Juno', '2015.1': 'Kilo', '5.0.0': 'Liberty', '6.0.0': 'Mitaka', '7.0.0': 'Newton', '8.0.0': 'Ocata', '9.0.0': 'Pike', '10.0.0': 'Queens', '11.0.0': 'Rocky', '12.0.0': 'Stein', '13.0.0': 'Train', '14.0.0': 'Ussuri', '15.0.0': 'Victoria', }","_CODE_NAMES = {'2013.1': 'Grizzly', '2013.2': 'Havana', '2014.1': 'Icehouse', '2014.2': 'Juno', '2015.1': 'Kilo', '5.0.0': 'Liberty', '6.0.0': 'Mitaka', '7.0.0': 'Newton', '8.0.0': 'Ocata', '9.0.0': 'Pike', '10.0.0': 'Queens', '11.0.0': 'Rocky', '12.0.0': 'Stein', '13.0.0': 'Train'}",18,14
openstack%2Fheat~stable%2Fussuri~I5c7b0e7454df0c5dd33efb03c08d15ea231bf530,openstack/heat,stable/ussuri,I5c7b0e7454df0c5dd33efb03c08d15ea231bf530,Add U release codename for docs generation,MERGED,2020-08-12 14:09:55.000000000,2020-08-13 03:53:17.000000000,2020-08-13 03:51:59.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 14:09:55.000000000', 'files': ['doc/source/ext/resources.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/cdfb5df5597fb258169b4245e81f2bfcd01f192f', 'message': 'Add U release codename for docs generation\n\nThis makes for nicer output in the resource types docs.\n\nChange-Id: I5c7b0e7454df0c5dd33efb03c08d15ea231bf530\n'}]",0,745900,cdfb5df5597fb258169b4245e81f2bfcd01f192f,7,2,1,4257,,,0,"Add U release codename for docs generation

This makes for nicer output in the resource types docs.

Change-Id: I5c7b0e7454df0c5dd33efb03c08d15ea231bf530
",git fetch https://review.opendev.org/openstack/heat refs/changes/00/745900/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/ext/resources.py'],1,cdfb5df5597fb258169b4245e81f2bfcd01f192f,," '13.0.0': 'Train', '14.0.0': 'Ussuri'}", '13.0.0': 'Train'},2,1
openstack%2Fpuppet-openstack-integration~stable%2Frocky~I5acda250e2c134918d8c22e8b010e20cfc3f9b33,openstack/puppet-openstack-integration,stable/rocky,I5acda250e2c134918d8c22e8b010e20cfc3f9b33,Force overwriting existing ssh keys,MERGED,2020-08-12 13:47:46.000000000,2020-08-13 03:28:55.000000000,2020-08-13 03:28:55.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 13:47:46.000000000', 'files': ['playbooks/run-beaker-tests.yaml', 'playbooks/run-libraries-beaker-tests.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5e745602674c35e6509cd5d9e1edefb03a933a37', 'message': 'Force overwriting existing ssh keys\n\nChange-Id: I5acda250e2c134918d8c22e8b010e20cfc3f9b33\n(cherry picked from commit 25bff52a31baf838ee60a7f2b3ad0aa0b622d008)\n(cherry picked from commit a37e1b99aedd2fae2ae80754802d7350bd835bc3)\n(cherry picked from commit a640aadc4bebac05e46f26da865b23a27431e7c0)\n(cherry picked from commit eaa2921e196688f0fde8404b02ae431509b731ce)\n'}]",0,745892,5e745602674c35e6509cd5d9e1edefb03a933a37,8,4,1,9816,,,0,"Force overwriting existing ssh keys

Change-Id: I5acda250e2c134918d8c22e8b010e20cfc3f9b33
(cherry picked from commit 25bff52a31baf838ee60a7f2b3ad0aa0b622d008)
(cherry picked from commit a37e1b99aedd2fae2ae80754802d7350bd835bc3)
(cherry picked from commit a640aadc4bebac05e46f26da865b23a27431e7c0)
(cherry picked from commit eaa2921e196688f0fde8404b02ae431509b731ce)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/92/745892/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/run-beaker-tests.yaml', 'playbooks/run-libraries-beaker-tests.yaml']",2,5e745602674c35e6509cd5d9e1edefb03a933a37,," ssh-keygen -f ~/.ssh/id_rsa -b 2048 -P """" -m PEM <<<y"," ssh-keygen -f ~/.ssh/id_rsa -b 2048 -P """" -m PEM",2,2
openstack%2Fironic~master~I33864a06c0436b85ec2ed7cc1b798b700b2bf3ab,openstack/ironic,master,I33864a06c0436b85ec2ed7cc1b798b700b2bf3ab,Enforce autospec in irmc tests,MERGED,2020-08-11 09:00:08.000000000,2020-08-13 03:24:22.000000000,2020-08-13 02:53:19.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-08-11 09:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1bfe3daa728db696e63a0ef2fae49faa82b50458', 'message': 'Enforce autospec in irmc tests\n\nAnd remove corresponding filter from tox.ini\n\nChange-Id: I33864a06c0436b85ec2ed7cc1b798b700b2bf3ab\n'}, {'number': 2, 'created': '2020-08-11 12:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b2c3810a23abd4e9f4bf310eae30133a1a96b3bf', 'message': 'Enforce autospec in irmc tests\n\nAnd remove corresponding filter from tox.ini\n\nChange-Id: I33864a06c0436b85ec2ed7cc1b798b700b2bf3ab\n'}, {'number': 3, 'created': '2020-08-12 14:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2df3bbd96322e7f6b7c2c98816258942835aa448', 'message': 'Enforce autospec in irmc tests\n\nAnd remove corresponding filter from tox.ini\n\nChange-Id: I33864a06c0436b85ec2ed7cc1b798b700b2bf3ab\n'}, {'number': 4, 'created': '2020-08-12 15:33:28.000000000', 'files': ['ironic/tests/unit/drivers/modules/irmc/test_power.py', 'ironic/tests/unit/drivers/modules/irmc/test_periodic_task.py', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'ironic/tests/unit/drivers/modules/irmc/test_bios.py', 'ironic/tests/unit/drivers/modules/irmc/test_raid.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0fc1ca7a23d0117f1954facff48deb49c5d21194', 'message': 'Enforce autospec in irmc tests\n\nAnd remove corresponding filter from tox.ini\n\nChange-Id: I33864a06c0436b85ec2ed7cc1b798b700b2bf3ab\n'}]",2,745642,0fc1ca7a23d0117f1954facff48deb49c5d21194,22,5,4,23851,,,0,"Enforce autospec in irmc tests

And remove corresponding filter from tox.ini

Change-Id: I33864a06c0436b85ec2ed7cc1b798b700b2bf3ab
",git fetch https://review.opendev.org/openstack/ironic refs/changes/42/745642/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/irmc/test_power.py', 'ironic/tests/unit/drivers/modules/irmc/test_periodic_task.py', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'ironic/tests/unit/drivers/modules/irmc/test_bios.py', 'ironic/tests/unit/drivers/modules/irmc/test_raid.py', 'tox.ini']",6,1bfe3daa728db696e63a0ef2fae49faa82b50458,enforce-autospec,, ironic/tests/unit/drivers/modules/irmc/*:H210,149,84
openstack%2Ftripleo-common~master~I37698da0ce39ed1a8f80e4c3e8c3c3d865d952ee,openstack/tripleo-common,master,I37698da0ce39ed1a8f80e4c3e8c3c3d865d952ee,Don't build image upload tasks when dry_run=True,MERGED,2020-08-05 06:31:53.000000000,2020-08-13 03:17:10.000000000,2020-08-13 03:00:34.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-05 06:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a6ef3435b76371cbc7949b0c8e66baa67f1456f1', 'message': ""Don't pass dry_run to image upload tasks\n\nDon't unnecessarily call ImageUploader when dry_run=True,\nas we only expect to update the stack environment.\n\nChange-Id: I37698da0ce39ed1a8f80e4c3e8c3c3d865d952ee\n""}, {'number': 2, 'created': '2020-08-05 07:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5003886a972a0477b68c054d8f7069e3023c9531', 'message': ""Don't build image upload tasks when dry_run=True\n\nDon't unnecessarily call ImageUploader when dry_run=True,\nas we only expect to update the stack environment.\n\nDepends-On: https://review.opendev.org/744836\nChange-Id: I37698da0ce39ed1a8f80e4c3e8c3c3d865d952ee\n""}, {'number': 3, 'created': '2020-08-06 07:31:20.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/kolla_builder.py', 'tripleo_common/image/image_uploader.py', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/958936e7757ea3a328946fc529c8f539354e4665', 'message': ""Don't build image upload tasks when dry_run=True\n\nDon't unnecessarily call ImageUploader when dry_run=True,\nas we only expect to update the stack environment.\n\nDepends-On: https://review.opendev.org/744836\nChange-Id: I37698da0ce39ed1a8f80e4c3e8c3c3d865d952ee\n""}]",0,744824,958936e7757ea3a328946fc529c8f539354e4665,40,6,3,8833,,,0,"Don't build image upload tasks when dry_run=True

Don't unnecessarily call ImageUploader when dry_run=True,
as we only expect to update the stack environment.

Depends-On: https://review.opendev.org/744836
Change-Id: I37698da0ce39ed1a8f80e4c3e8c3c3d865d952ee
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/24/744824/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/kolla_builder.py', 'tripleo_common/image/image_uploader.py', 'tripleo_common/tests/image/test_kolla_builder.py']",4,a6ef3435b76371cbc7949b0c8e66baa67f1456f1,container_image,," mock_im.assert_called_once_with(mock.ANY, dry_run=True, cleanup='full', mirrors={}, registry_credentials=None, multi_arch=False, lock=mock_lock) ",5,58
openstack%2Fpuppet-openstack-integration~stable%2Frocky~If77a8b05f74a65466fb79d7c066e889540acd980,openstack/puppet-openstack-integration,stable/rocky,If77a8b05f74a65466fb79d7c066e889540acd980,Ensure key format is PEM in beaker tests,MERGED,2020-08-12 13:47:46.000000000,2020-08-13 03:15:43.000000000,2020-08-13 03:15:42.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 13:47:46.000000000', 'files': ['playbooks/run-beaker-tests.yaml', 'playbooks/run-libraries-beaker-tests.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7a7b29c1d79baa3b75586c0b4a1a8e21a1c57441', 'message': 'Ensure key format is PEM in beaker tests\n\nChange-Id: If77a8b05f74a65466fb79d7c066e889540acd980\n(cherry picked from commit a69725e9730d2cc58205dfac415468754c892ded)\n(cherry picked from commit b6420cfcc46521ab6115ef35d7a57d2324b590cf)\n(cherry picked from commit 8814f0a2a25c7b6287944f6991b50152d430b673)\n(cherry picked from commit b945cda443d015b57f5e37e4e7c1bffc1b0f8665)\n'}]",0,745891,7a7b29c1d79baa3b75586c0b4a1a8e21a1c57441,10,4,1,9816,,,0,"Ensure key format is PEM in beaker tests

Change-Id: If77a8b05f74a65466fb79d7c066e889540acd980
(cherry picked from commit a69725e9730d2cc58205dfac415468754c892ded)
(cherry picked from commit b6420cfcc46521ab6115ef35d7a57d2324b590cf)
(cherry picked from commit 8814f0a2a25c7b6287944f6991b50152d430b673)
(cherry picked from commit b945cda443d015b57f5e37e4e7c1bffc1b0f8665)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/91/745891/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/run-beaker-tests.yaml', 'playbooks/run-libraries-beaker-tests.yaml']",2,7a7b29c1d79baa3b75586c0b4a1a8e21a1c57441,," ssh-keygen -f ~/.ssh/id_rsa -b 2048 -P """" -m PEM"," ssh-keygen -f ~/.ssh/id_rsa -b 2048 -P """"",2,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I368e99d2384469ca166e2e2b00e8621b7afe72db,openstack/tripleo-heat-templates,stable/train,I368e99d2384469ca166e2e2b00e8621b7afe72db,Stop using a conditional for role tasks,MERGED,2020-08-05 21:07:27.000000000,2020-08-13 03:12:13.000000000,2020-08-13 03:12:13.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-05 21:07:27.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7859e7999c56a2d8cf9d2f0a7ef696c71477672a', 'message': ""Stop using a conditional for role tasks\n\nCurrently this task definition is causing the following warning to be\nthrown at execution time:\n\n    [WARNING]: conditional statements should not include jinja2 templating\n    delimiters such as {{ }} or {% %}. Found: '{{ playbook_dir }}/{{\n    _task_file_path }}' is exists\n\nThere is no reason to be using this conditional with a variable since\nthis file path is known when we create the playbook. Additionally we\ndon't need to use the playbook_dir because we're not using it in the\ninclude_tasks. This allows us to specifically express the file that\nwe're using for these tasks inclusions rather than relying on a\nconditional that is not recommended.\n\nChange-Id: I368e99d2384469ca166e2e2b00e8621b7afe72db\n(cherry picked from commit ea62bcf150885ca91aeb37f098d60bf51cd5a7b7)\n""}]",0,744989,7859e7999c56a2d8cf9d2f0a7ef696c71477672a,19,4,1,14985,,,0,"Stop using a conditional for role tasks

Currently this task definition is causing the following warning to be
thrown at execution time:

    [WARNING]: conditional statements should not include jinja2 templating
    delimiters such as {{ }} or {% %}. Found: '{{ playbook_dir }}/{{
    _task_file_path }}' is exists

There is no reason to be using this conditional with a variable since
this file path is known when we create the playbook. Additionally we
don't need to use the playbook_dir because we're not using it in the
include_tasks. This allows us to specifically express the file that
we're using for these tasks inclusions rather than relying on a
conditional that is not recommended.

Change-Id: I368e99d2384469ca166e2e2b00e8621b7afe72db
(cherry picked from commit ea62bcf150885ca91aeb37f098d60bf51cd5a7b7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/744989/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,7859e7999c56a2d8cf9d2f0a7ef696c71477672a,stop-conditional-in-when-stable/train," - include_tasks: ""{{role.name}}/deploy_steps_tasks_step{{step}}.yaml"" - ""'{{role.name}}/deploy_steps_tasks_step{{step}}.yaml' is exists"""," - include_tasks: ""{% raw %}{{ _task_file_path }}{% endraw %}"" vars: _task_file_path: ""{{role.name}}/deploy_steps_tasks_step{{step}}.yaml"" - ""{% raw %}'{{ playbook_dir }}/{{ _task_file_path }}' is exists{% endraw %}""",2,4
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ia04f6fac9538ac5f13bc084c9e41dc00e62b84fb,openstack/tripleo-upgrade,stable/train,Ia04f6fac9538ac5f13bc084c9e41dc00e62b84fb,Refactor FFWD run to run on 1/3rd of controlplane,MERGED,2020-08-12 13:33:12.000000000,2020-08-13 03:00:32.000000000,2020-08-13 03:00:32.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-12 13:33:12.000000000', 'files': ['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'tasks/fast-forward-upgrade/overcloud_upgrade_roles.yaml', 'templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0c7104dfe2afcb8b36302fc0866e7e4f51c81076', 'message': ""Refactor FFWD run to run on 1/3rd of controlplane\n\nIn order to pass the workload test we can't skip networker and\nother roles. We have to upgrade whole controlplane at once. Ceph\nOSD in this case can be updated together with Ceph Mon and it will\nnot cause an outage.\n\nChange-Id: Ia04f6fac9538ac5f13bc084c9e41dc00e62b84fb\n(cherry picked from commit 6884d3c0d5227b1b31b67f99e5c459465a954d27)\n(cherry picked from commit 389c95fb535036cc061cb1d771c0abddfde58cca)\n""}]",0,745887,0c7104dfe2afcb8b36302fc0866e7e4f51c81076,6,3,1,6816,,,0,"Refactor FFWD run to run on 1/3rd of controlplane

In order to pass the workload test we can't skip networker and
other roles. We have to upgrade whole controlplane at once. Ceph
OSD in this case can be updated together with Ceph Mon and it will
not cause an outage.

Change-Id: Ia04f6fac9538ac5f13bc084c9e41dc00e62b84fb
(cherry picked from commit 6884d3c0d5227b1b31b67f99e5c459465a954d27)
(cherry picked from commit 389c95fb535036cc061cb1d771c0abddfde58cca)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/87/745887/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'tasks/fast-forward-upgrade/overcloud_upgrade_roles.yaml', 'templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2']",4,0c7104dfe2afcb8b36302fc0866e7e4f51c81076,,"tripleo-ansible-inventory --stack {{ overcloud_stack_name }} --static-yaml-inventory upgrade_inventory.yaml --undercloud-connection ssh --undercloud-key-file /var/lib/mistral/.ssh/tripleo-admin-rsa --ansible_ssh_user tripleo-admin for host in $(echo ""{{ hosts }}"" | sed ""s/,/ /g"") do openstack overcloud upgrade run ${RUN_ANSWER} \ --stack {{ overcloud_stack_name }} \ --static-inventory upgrade_inventory.yaml \ --tags system_upgrade \ --limit ""${host}"" 2>&1 | tee -a ""RHEL_upgrade_${host}"" & done wait",openstack overcloud upgrade run ${RUN_ANSWER} \ --stack {{ overcloud_stack_name }} \ --tags system_upgrade \ --limit {{ hosts }} 2>&1,27,65
openstack%2Fnova~master~Ia91b63c0676f42ad8a7a0d16e6870bafc2ee7675,openstack/nova,master,Ia91b63c0676f42ad8a7a0d16e6870bafc2ee7675,Detach is broken for multi-attached fs-based volumes,MERGED,2020-07-17 20:41:18.000000000,2020-08-13 02:51:32.000000000,2020-08-13 02:49:59.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29568}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-17 20:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c87da55e6d74c277b297b32e5e72287faa107cfb', 'message': 'Detach is broken for multi-attached fs-based volumes\n\nFixed an issue with detaching multi-attached fs-based volumes.\n\nChange-Id: Ia91b63c0676f42ad8a7a0d16e6870bafc2ee7675\nCloses-Bug: 1888022\n'}, {'number': 2, 'created': '2020-07-17 22:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02281ac4153597fe633ba6a0b490925a513f70d3', 'message': 'Detach is broken for multi-attached fs-based volumes\n\nFixed an issue with detaching multi-attached fs-based volumes.\n\nChange-Id: Ia91b63c0676f42ad8a7a0d16e6870bafc2ee7675\nCloses-Bug: 1888022\n'}, {'number': 3, 'created': '2020-07-21 23:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e3924453f966c922f8613697d28a574606ea31c', 'message': 'Detach is broken for multi-attached fs-based volumes\n\nFixed an issue with detaching multi-attached fs-based volumes.\nVolume drivers using _HostMountStateManager are special case.\n_HostMountStateManager ensures that the compute node only attempts\nto mount a single mountpoint in use by multiple attachments once,\nand that it is not unmounted until it is no longer in use by any\nattachments. So we can skip the multiattach check for volume drivers\nthat based on LibvirtMountedFileSystemVolumeDriver.\n\nCloses-Bug: 1888022\nChange-Id: Ia91b63c0676f42ad8a7a0d16e6870bafc2ee7675\n'}, {'number': 4, 'created': '2020-07-22 09:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d0aea2bbcbb1438e304b37020e7deda36a59999', 'message': 'Detach is broken for multi-attached fs-based volumes\n\nFixed an issue with detaching multi-attached fs-based volumes.\nVolume drivers using _HostMountStateManager are special case.\n_HostMountStateManager ensures that the compute node only attempts\nto mount a single mountpoint in use by multiple attachments once,\nand that it is not unmounted until it is no longer in use by any\nattachments. So we can skip the multiattach check for volume drivers\nthat based on LibvirtMountedFileSystemVolumeDriver.\n\nCloses-Bug: 1888022\nChange-Id: Ia91b63c0676f42ad8a7a0d16e6870bafc2ee7675\n'}, {'number': 5, 'created': '2020-07-22 11:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f5d953fb36ae9ede894c8e1d7accaff80e4c2e9', 'message': 'Detach is broken for multi-attached fs-based volumes\n\nFixed an issue with detaching multi-attached fs-based volumes.\nVolume drivers using _HostMountStateManager are special case.\n_HostMountStateManager ensures that the compute node only attempts\nto mount a single mountpoint in use by multiple attachments once,\nand that it is not unmounted until it is no longer in use by any\nattachments. So we can skip the multiattach check for volume drivers\nthat based on LibvirtMountedFileSystemVolumeDriver.\n\nCloses-Bug: 1888022\nChange-Id: Ia91b63c0676f42ad8a7a0d16e6870bafc2ee7675\n'}, {'number': 6, 'created': '2020-07-24 14:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e14bcfbd7728ebe4df7e8bd04b7e374826fdb5a9', 'message': 'Detach is broken for multi-attached fs-based volumes\n\nFixed an issue with detaching multi-attached fs-based volumes.\nVolume drivers using _HostMountStateManager are special case.\n_HostMountStateManager ensures that the compute node only attempts\nto mount a single mountpoint in use by multiple attachments once,\nand that it is not unmounted until it is no longer in use by any\nattachments. So we can skip the multiattach check for volume drivers\nthat based on LibvirtMountedFileSystemVolumeDriver.\n\nCloses-Bug: 1888022\nChange-Id: Ia91b63c0676f42ad8a7a0d16e6870bafc2ee7675\n'}, {'number': 7, 'created': '2020-07-27 22:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3292a60a80a8582ce7936aedd83edba97be9a1c2', 'message': 'Detach is broken for multi-attached fs-based volumes\n\nFixed an issue with detaching multi-attached fs-based volumes.\nVolume drivers using _HostMountStateManager are special case.\n_HostMountStateManager ensures that the compute node only attempts\nto mount a single mountpoint in use by multiple attachments once,\nand that it is not unmounted until it is no longer in use by any\nattachments. So we can skip the multiattach check for volume drivers\nthat based on LibvirtMountedFileSystemVolumeDriver.\n\nCloses-Bug: 1888022\nChange-Id: Ia91b63c0676f42ad8a7a0d16e6870bafc2ee7675\n'}, {'number': 8, 'created': '2020-08-11 11:36:26.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1888022-detach-multiattached-volumes-5fa862aea7f237ea.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/806575cfd5327f96e62462f484118d06d17cbe8d', 'message': 'Detach is broken for multi-attached fs-based volumes\n\nFixed an issue with detaching multi-attached fs-based volumes.\nVolume drivers using _HostMountStateManager are special case.\n_HostMountStateManager ensures that the compute node only attempts\nto mount a single mountpoint in use by multiple attachments once,\nand that it is not unmounted until it is no longer in use by any\nattachments. So we can skip the multiattach check for volume drivers\nthat based on LibvirtMountedFileSystemVolumeDriver.\n\nCloses-Bug: 1888022\nChange-Id: Ia91b63c0676f42ad8a7a0d16e6870bafc2ee7675\n'}]",24,741712,806575cfd5327f96e62462f484118d06d17cbe8d,83,15,8,29568,,,0,"Detach is broken for multi-attached fs-based volumes

Fixed an issue with detaching multi-attached fs-based volumes.
Volume drivers using _HostMountStateManager are special case.
_HostMountStateManager ensures that the compute node only attempts
to mount a single mountpoint in use by multiple attachments once,
and that it is not unmounted until it is no longer in use by any
attachments. So we can skip the multiattach check for volume drivers
that based on LibvirtMountedFileSystemVolumeDriver.

Closes-Bug: 1888022
Change-Id: Ia91b63c0676f42ad8a7a0d16e6870bafc2ee7675
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/741712/8 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,c87da55e6d74c277b297b32e5e72287faa107cfb,bug/1888022,"from nova.virt.libvirt.volume import fs driver = self._get_volume_driver(connection_info) if not isinstance(driver, fs.LibvirtMountedFileSystemVolumeDriver): if not self._should_disconnect_target(context, connection_info, instance): volume_id = driver_block_device.get_volume_id(connection_info) LOG.info('Detected multiple connections on this host for ' 'volume: %(volume)s, skipping target disconnect.', {'volume': volume_id}) else: driver.disconnect_volume(connection_info, instance)"," if self._should_disconnect_target(context, connection_info, instance): vol_driver = self._get_volume_driver(connection_info) vol_driver.disconnect_volume(connection_info, instance) else: LOG.info(""Detected multiple connections on this host for volume: "" ""%s, skipping target disconnect."", driver_block_device.get_volume_id(connection_info), instance=instance)",10,7
openstack%2Ftripleo-upgrade~stable%2Fussuri~Ia04f6fac9538ac5f13bc084c9e41dc00e62b84fb,openstack/tripleo-upgrade,stable/ussuri,Ia04f6fac9538ac5f13bc084c9e41dc00e62b84fb,Refactor FFWD run to run on 1/3rd of controlplane,MERGED,2020-08-12 13:31:12.000000000,2020-08-13 02:36:41.000000000,2020-08-13 02:36:41.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 13:31:12.000000000', 'files': ['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'tasks/fast-forward-upgrade/overcloud_upgrade_roles.yaml', 'templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/389c95fb535036cc061cb1d771c0abddfde58cca', 'message': ""Refactor FFWD run to run on 1/3rd of controlplane\n\nIn order to pass the workload test we can't skip networker and\nother roles. We have to upgrade whole controlplane at once. Ceph\nOSD in this case can be updated together with Ceph Mon and it will\nnot cause an outage.\n\nChange-Id: Ia04f6fac9538ac5f13bc084c9e41dc00e62b84fb\n(cherry picked from commit 6884d3c0d5227b1b31b67f99e5c459465a954d27)\n""}]",0,745886,389c95fb535036cc061cb1d771c0abddfde58cca,8,3,1,6816,,,0,"Refactor FFWD run to run on 1/3rd of controlplane

In order to pass the workload test we can't skip networker and
other roles. We have to upgrade whole controlplane at once. Ceph
OSD in this case can be updated together with Ceph Mon and it will
not cause an outage.

Change-Id: Ia04f6fac9538ac5f13bc084c9e41dc00e62b84fb
(cherry picked from commit 6884d3c0d5227b1b31b67f99e5c459465a954d27)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/86/745886/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'tasks/fast-forward-upgrade/overcloud_upgrade_roles.yaml', 'templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2']",4,389c95fb535036cc061cb1d771c0abddfde58cca,,"tripleo-ansible-inventory --stack {{ overcloud_stack_name }} --static-yaml-inventory upgrade_inventory.yaml --undercloud-connection ssh --undercloud-key-file /var/lib/mistral/.ssh/tripleo-admin-rsa --ansible_ssh_user tripleo-admin for host in $(echo ""{{ hosts }}"" | sed ""s/,/ /g"") do openstack overcloud upgrade run ${RUN_ANSWER} \ --stack {{ overcloud_stack_name }} \ --static-inventory upgrade_inventory.yaml \ --tags system_upgrade \ --limit ""${host}"" 2>&1 | tee -a ""RHEL_upgrade_${host}"" & done wait",openstack overcloud upgrade run ${RUN_ANSWER} \ --stack {{ overcloud_stack_name }} \ --tags system_upgrade \ --limit {{ hosts }} 2>&1,27,65
openstack%2Ftripleo-upgrade~stable%2Ftrain~I5511605a88c65788eb647df33815a5b19aca3d16,openstack/tripleo-upgrade,stable/train,I5511605a88c65788eb647df33815a5b19aca3d16,Unify post upgrade tags.,MERGED,2020-08-12 13:30:32.000000000,2020-08-13 02:36:40.000000000,2020-08-13 02:36:40.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-12 13:30:32.000000000', 'files': ['tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f7abd6b2146e2ab98a04227a5df140930d155cc9', 'message': 'Unify post upgrade tags.\n\nThere were two different tags for the post upgrade tasks,\nthe overcloud_post_controller and the ffu_overcloud_post.\nThis patch uses the same tag, ffu_overcloud_post, for both.\n\nChange-Id: I5511605a88c65788eb647df33815a5b19aca3d16\n(cherry picked from commit 95f3d031999b54b1e5b3b0c680cb76a01f0ca8ab)\n(cherry picked from commit f8d82f798b8e9b79140be2c0ccedcdeebe713410)\n'}]",0,745885,f7abd6b2146e2ab98a04227a5df140930d155cc9,6,3,1,6816,,,0,"Unify post upgrade tags.

There were two different tags for the post upgrade tasks,
the overcloud_post_controller and the ffu_overcloud_post.
This patch uses the same tag, ffu_overcloud_post, for both.

Change-Id: I5511605a88c65788eb647df33815a5b19aca3d16
(cherry picked from commit 95f3d031999b54b1e5b3b0c680cb76a01f0ca8ab)
(cherry picked from commit f8d82f798b8e9b79140be2c0ccedcdeebe713410)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/85/745885/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/main.yml'],1,f7abd6b2146e2ab98a04227a5df140930d155cc9,, - ffu_overcloud_post tags: ffu_overcloud_post, - controller_post_upgrade tags: controller_post_upgrade,2,2
openstack%2Fmurano~master~I0652b668423f393ae306db056255827c5d065bad,openstack/murano,master,I0652b668423f393ae306db056255827c5d065bad,Fix cidr format error about ip_address in allowed_address_pairs.,MERGED,2020-08-06 05:55:22.000000000,2020-08-13 02:25:34.000000000,2020-08-13 02:24:11.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 26498}]","[{'number': 1, 'created': '2020-08-06 05:55:22.000000000', 'files': ['meta/io.murano/Classes/resources/NeutronNetworkBase.yaml'], 'web_link': 'https://opendev.org/openstack/murano/commit/9c694a6b06169c4a0056495bd3384b63de50746e', 'message': ""Fix cidr format error about ip_address in allowed_address_pairs.\n\nIn HEAT template OS:Neutron:Port, the value of ip_address in\nparameter allowed_address_pairs should be of type of net_cidr,\nthen the string '/32' should be added after virtual_ip. Without\nstring '/32', the error about wrong IP subnet cidr will occurred.\n\nChange-Id: I0652b668423f393ae306db056255827c5d065bad\n""}]",0,745068,9c694a6b06169c4a0056495bd3384b63de50746e,9,3,1,26498,,,0,"Fix cidr format error about ip_address in allowed_address_pairs.

In HEAT template OS:Neutron:Port, the value of ip_address in
parameter allowed_address_pairs should be of type of net_cidr,
then the string '/32' should be added after virtual_ip. Without
string '/32', the error about wrong IP subnet cidr will occurred.

Change-Id: I0652b668423f393ae306db056255827c5d065bad
",git fetch https://review.opendev.org/openstack/murano refs/changes/68/745068/1 && git format-patch -1 --stdout FETCH_HEAD,['meta/io.murano/Classes/resources/NeutronNetworkBase.yaml'],1,9c694a6b06169c4a0056495bd3384b63de50746e,, - ip_address: $sip.virtualIp + '/32', - ip_address: $sip.getSharedIpRef(),1,1
openstack%2Ftripleo-common~stable%2Fussuri~I7418ea45d89dd0da7ac39193200f47563acab4cb,openstack/tripleo-common,stable/ussuri,I7418ea45d89dd0da7ac39193200f47563acab4cb,Correct the inventory generation,MERGED,2020-08-11 19:59:07.000000000,2020-08-13 01:31:55.000000000,2020-08-13 01:30:41.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-11 19:59:07.000000000', 'files': ['tripleo_common/tests/inventory_data/merged_static.yaml', 'tripleo_common/inventories.py', 'tripleo_common/tests/inventory_data/single_dynamic.json', 'tripleo_common/tests/inventory_data/merged_dynamic.json', 'tripleo_common/tests/test_inventories.py', 'tripleo_common/tests/test_inventory.py', 'tripleo_common/tests/inventory_data/single_static.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8c46cbb0eff1fba2c80387508028a801f7191afe', 'message': 'Correct the inventory generation\n\nThe missing quotes didn\'t trigger anything since ""vars"" is representing\nthe vars() method...\nAdding the missing quotes allows to actually get the injected host\nvariables in the inventory, among them the well needed ""container_cli""\nfor the validations.\n\nThis patch also makes a huge update in the different inline dict, in\norder to make them more human readable. This should help for further\neditions.\n\nCloses-Bug: #1889635\nChange-Id: I7418ea45d89dd0da7ac39193200f47563acab4cb\n(cherry picked from commit e2613f0317721cf8231fe6a5a27f29f555b50a69)\n'}]",0,745730,8c46cbb0eff1fba2c80387508028a801f7191afe,14,6,1,3153,,,0,"Correct the inventory generation

The missing quotes didn't trigger anything since ""vars"" is representing
the vars() method...
Adding the missing quotes allows to actually get the injected host
variables in the inventory, among them the well needed ""container_cli""
for the validations.

This patch also makes a huge update in the different inline dict, in
order to make them more human readable. This should help for further
editions.

Closes-Bug: #1889635
Change-Id: I7418ea45d89dd0da7ac39193200f47563acab4cb
(cherry picked from commit e2613f0317721cf8231fe6a5a27f29f555b50a69)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/30/745730/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/inventory_data/merged_static.yaml', 'tripleo_common/inventories.py', 'tripleo_common/tests/inventory_data/merged_dynamic.json', 'tripleo_common/tests/inventory_data/single_dynamic.json', 'tripleo_common/tests/test_inventories.py', 'tripleo_common/tests/test_inventory.py', 'tripleo_common/tests/inventory_data/single_static.yaml']",7,8c46cbb0eff1fba2c80387508028a801f7191afe,inventory/vars-stable/ussuri, vars: container_cli: podman ctlplane_vip: 192.168.24.7 external_vip: 10.0.0.5 internal_api_vip: 172.16.2.164 redis_vip: 172.16.2.196 storage_mgmt_vip: 172.16.3.44 storage_vip: 172.16.1.147 vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin,,1268,391
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ie1de1483d41d588b0792fb8dbbaee05f2acf2180,openstack/tripleo-upgrade,stable/train,Ie1de1483d41d588b0792fb8dbbaee05f2acf2180,Evacuate computes before RHEL upgrade,MERGED,2020-07-01 09:50:47.000000000,2020-08-13 01:30:35.000000000,2020-08-13 01:30:35.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-01 09:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2b089512237b930ec2f6f7373367429099f2a948', 'message': '[Train only] Evacuate computes before RHEL upgrade\n\nChange-Id: Ie1de1483d41d588b0792fb8dbbaee05f2acf2180\n'}, {'number': 2, 'created': '2020-07-23 14:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f5aaf33ef71cdd9602bff6d833e10e2477d55982', 'message': '[Train only] Evacuate computes before RHEL upgrade\n\nChange-Id: Ie1de1483d41d588b0792fb8dbbaee05f2acf2180\n'}, {'number': 3, 'created': '2020-07-23 16:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/984bf70b7bdec847a5fc8fd1776556cad64ff7e9', 'message': '[Train only] Evacuate computes before RHEL upgrade\n\nChange-Id: Ie1de1483d41d588b0792fb8dbbaee05f2acf2180\n'}, {'number': 4, 'created': '2020-08-12 07:07:02.000000000', 'files': ['templates/node_upgrade_pre.sh.j2', 'tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'templates/workload_launch.sh.j2', 'tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml', 'tasks/fast-forward-upgrade/overcloud_upgrade_roles.yaml', 'tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/332aa62a8f269bab74eb8fbf6495b9dcf118b032', 'message': 'Evacuate computes before RHEL upgrade\n\nBy reusing the node_upgrade_pre code from upgrade\nwe can just evacuate each compute before it runs\nthe system upgrade. This requires us to limit the\noverall workloads and clean them up. One should\nalways use workloads yes and workloads-cleanup yes\nunless your computes can handle at least 9 workloads\nat the same time.\n\nChange-Id: Ie1de1483d41d588b0792fb8dbbaee05f2acf2180\n(cherry picked from commit d89639ad1b29a75a1fb3ad00210e2261fa0ac456)\n'}]",2,738775,332aa62a8f269bab74eb8fbf6495b9dcf118b032,20,5,4,11166,,,0,"Evacuate computes before RHEL upgrade

By reusing the node_upgrade_pre code from upgrade
we can just evacuate each compute before it runs
the system upgrade. This requires us to limit the
overall workloads and clean them up. One should
always use workloads yes and workloads-cleanup yes
unless your computes can handle at least 9 workloads
at the same time.

Change-Id: Ie1de1483d41d588b0792fb8dbbaee05f2acf2180
(cherry picked from commit d89639ad1b29a75a1fb3ad00210e2261fa0ac456)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/75/738775/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml', 'tasks/fast-forward-upgrade/overcloud_upgrade_roles.yaml']",4,2b089512237b930ec2f6f7373367429099f2a948,, compute_present: false pcs_present: false compute_present: false pcs_present: false compute_present: true,,32,2
openstack%2Fpuppet-openstack-integration~stable%2Fqueens~I5acda250e2c134918d8c22e8b010e20cfc3f9b33,openstack/puppet-openstack-integration,stable/queens,I5acda250e2c134918d8c22e8b010e20cfc3f9b33,Force overwriting existing ssh keys,MERGED,2020-08-12 13:48:14.000000000,2020-08-13 01:23:51.000000000,2020-08-13 01:23:51.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 13:48:14.000000000', 'files': ['playbooks/run-beaker-tests.yaml', 'playbooks/run-libraries-beaker-tests.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/32efae041d674d0f8fa88c1228ce4b67c7cf8336', 'message': 'Force overwriting existing ssh keys\n\nChange-Id: I5acda250e2c134918d8c22e8b010e20cfc3f9b33\n(cherry picked from commit 25bff52a31baf838ee60a7f2b3ad0aa0b622d008)\n(cherry picked from commit a37e1b99aedd2fae2ae80754802d7350bd835bc3)\n(cherry picked from commit a640aadc4bebac05e46f26da865b23a27431e7c0)\n(cherry picked from commit eaa2921e196688f0fde8404b02ae431509b731ce)\n(cherry picked from commit 5e745602674c35e6509cd5d9e1edefb03a933a37)\n'}]",0,745894,32efae041d674d0f8fa88c1228ce4b67c7cf8336,7,3,1,9816,,,0,"Force overwriting existing ssh keys

Change-Id: I5acda250e2c134918d8c22e8b010e20cfc3f9b33
(cherry picked from commit 25bff52a31baf838ee60a7f2b3ad0aa0b622d008)
(cherry picked from commit a37e1b99aedd2fae2ae80754802d7350bd835bc3)
(cherry picked from commit a640aadc4bebac05e46f26da865b23a27431e7c0)
(cherry picked from commit eaa2921e196688f0fde8404b02ae431509b731ce)
(cherry picked from commit 5e745602674c35e6509cd5d9e1edefb03a933a37)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/94/745894/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/run-beaker-tests.yaml', 'playbooks/run-libraries-beaker-tests.yaml']",2,32efae041d674d0f8fa88c1228ce4b67c7cf8336,," ssh-keygen -f ~/.ssh/id_rsa -b 2048 -P """" -m PEM <<<y"," ssh-keygen -f ~/.ssh/id_rsa -b 2048 -P """" -m PEM",2,2
openstack%2Fneutron-vpnaas~master~Ibc4cd7f8a055457b288ef101893c252cf0464a28,openstack/neutron-vpnaas,master,Ibc4cd7f8a055457b288ef101893c252cf0464a28,Pin isort to 4.3.21,MERGED,2020-08-10 14:12:13.000000000,2020-08-13 01:17:51.000000000,2020-08-13 01:16:35.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-10 14:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/d0f4b38f9985c2c78a295e023245a52b8204defb', 'message': ""Pin isort to 4.3.21\n\nWith new isort releases (5.X.X) pylint started to fail, with error:\n\n  AttributeError: module 'isort' has no attribute 'SortImports'\n\nThis patch pin isort to 4.3.21, the last version before 5.0.0.\n\nChange-Id: Ibc4cd7f8a055457b288ef101893c252cf0464a28\n""}, {'number': 2, 'created': '2020-08-11 11:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/03150048f09c1f39d66d205f2238ae712936e5e6', 'message': ""Pin isort to 4.3.21\n\nWith new isort releases (5.X.X) pylint started to fail, with error:\n\n  AttributeError: module 'isort' has no attribute 'SortImports'\n\nThis patch pin isort to 4.3.21, the last version before 5.0.0.\n\nAlso, lower-constraints of appdirs and pytz need to be updated as\ncurrently lower-constraints job fails.\n\nChange-Id: Ibc4cd7f8a055457b288ef101893c252cf0464a28\n""}, {'number': 3, 'created': '2020-08-11 16:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/6bfdca7b5f2e72fcf678d06e2b49f0ca0bc69bbd', 'message': ""Pin isort to 4.3.21\n\nWith new isort releases (5.X.X) pylint started to fail, with error:\n\n  AttributeError: module 'isort' has no attribute 'SortImports'\n\nThis patch pin isort to 4.3.21, the last version before 5.0.0.\n\nAlso, lower-constraints of appdirs and pytz need to be updated as\ncurrently lower-constraints job fails.\n\nSince patch Ia012a8e116a276a6674f86366c803e0e2d8ff704 modified the\nNEUTRON_PATH variable the functional test fails with:\n\n[..]neutron/tools/configure_for_func_testing.sh: line 113: /home/zuul/src/opendev.org/openstack/neutron-vpnaas/devstack/lib/ovs: No such file or directory\n\nChange-Id: Ibc4cd7f8a055457b288ef101893c252cf0464a28\n""}, {'number': 4, 'created': '2020-08-12 08:25:56.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'tools/configure_for_vpn_func_testing.sh', 'neutron_vpnaas/tests/functional/requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/2b293a1bfae6cefe17efa820e41ef698663749f2', 'message': ""Pin isort to 4.3.21\n\nThis patch fixes multiple issues to unblock gate:\n\n1. With new isort releases (5.X.X) pylint started to fail, with error:\n\n     AttributeError: module 'isort' has no attribute 'SortImports'\n\n   This patch pin isort to 4.3.21, the last version before 5.0.0.\n\n2. lower-constraints of appdirs and pytz need to be updated as\n   currently lower-constraints job fails.\n\n   Since patch Ia012a8e116a276a6674f86366c803e0e2d8ff704 modified the\n   NEUTRON_PATH variable the functional test fails with:\n\n   [..]neutron/tools/configure_for_func_testing.sh: line 113: /home/zuul/src/opendev.org/openstack/neutron-vpnaas/devstack/lib/ovs: No such file or directory\n\n3. Functional job fails, because during tox run the latest released\n   neutron is installed and it requires mock to be installed. This\n   patch adds mock to functional test requirements. Note: this needs\n   to be deleted as soon as new neutron will be released as on\n   development branch neutron does not depend on mock anymore.\n\nChange-Id: Ibc4cd7f8a055457b288ef101893c252cf0464a28\n""}]",0,745545,2b293a1bfae6cefe17efa820e41ef698663749f2,18,5,4,17685,,,0,"Pin isort to 4.3.21

This patch fixes multiple issues to unblock gate:

1. With new isort releases (5.X.X) pylint started to fail, with error:

     AttributeError: module 'isort' has no attribute 'SortImports'

   This patch pin isort to 4.3.21, the last version before 5.0.0.

2. lower-constraints of appdirs and pytz need to be updated as
   currently lower-constraints job fails.

   Since patch Ia012a8e116a276a6674f86366c803e0e2d8ff704 modified the
   NEUTRON_PATH variable the functional test fails with:

   [..]neutron/tools/configure_for_func_testing.sh: line 113: /home/zuul/src/opendev.org/openstack/neutron-vpnaas/devstack/lib/ovs: No such file or directory

3. Functional job fails, because during tox run the latest released
   neutron is installed and it requires mock to be installed. This
   patch adds mock to functional test requirements. Note: this needs
   to be deleted as soon as new neutron will be released as on
   development branch neutron does not depend on mock anymore.

Change-Id: Ibc4cd7f8a055457b288ef101893c252cf0464a28
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/45/745545/4 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,d0f4b38f9985c2c78a295e023245a52b8204defb,fix-pep8-isort,isort==4.3.21,,2,0
openstack%2Fneutron-tempest-plugin~master~I5b3754c23aff7649c186f3a65c0c757d61c66851,openstack/neutron-tempest-plugin,master,I5b3754c23aff7649c186f3a65c0c757d61c66851,list secgroup sorts by name,ABANDONED,2020-08-13 01:00:31.000000000,2020-08-13 01:05:59.000000000,,[],"[{'number': 1, 'created': '2020-08-13 01:00:31.000000000', 'files': ['neutron_tempest_plugin/api/test_security_groups.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/77e0916cc359f56e31192faa1c56a8b2480c8288', 'message': 'list secgroup sorts by name\n\nChange-Id: I5b3754c23aff7649c186f3a65c0c757d61c66851\n'}]",0,745978,77e0916cc359f56e31192faa1c56a8b2480c8288,2,0,1,31280,,,0,"list secgroup sorts by name

Change-Id: I5b3754c23aff7649c186f3a65c0c757d61c66851
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/78/745978/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/test_security_groups.py'],1,77e0916cc359f56e31192faa1c56a8b2480c8288,neutron08," class SecGroupSearchCriteriaTest(base.BaseSearchCriteriaTest): required_extensions = ['security-group'] resource = 'security-group' @classmethod def resource_setup(cls): super(SecGroupSearchCriteriaTest, cls).resource_setup() cls.security_group = cls.create_security_group() for name in cls.resource_names: cls.create_security_group(name=name) @decorators.idempotent_id('0064aa80-8a29-442d-a8de-9101af8210fa') def test_list_sorts_asc(self): self._test_list_sorts_asc() @decorators.idempotent_id('35e86832-53cd-4e63-97ec-31a2413da591') def test_list_sorts_desc(self): self._test_list_sorts_desc() @decorators.idempotent_id('b9654cdc-80bc-43f8-844e-dfe88fd2f125') def test_list_pagination(self): self._test_list_pagination() @decorators.idempotent_id('5c78bd57-e6e9-4e71-a05c-9c4082a3f139') def test_list_no_pagination_limit_0(self): self._test_list_no_pagination_limit_0()",,29,0
openstack%2Fneutron-tempest-plugin~master~If2b13b4fabbda9b9be0a1d22fc88efbd4226d965,openstack/neutron-tempest-plugin,master,If2b13b4fabbda9b9be0a1d22fc88efbd4226d965,list secgroup sorts by name,ABANDONED,2020-08-13 01:00:31.000000000,2020-08-13 01:01:52.000000000,,[],"[{'number': 1, 'created': '2020-08-13 01:00:31.000000000', 'files': ['neutron_tempest_plugin/api/test_security_groups.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ce69b1b097d4946c0728699c17449b101b8ed715', 'message': 'list secgroup sorts by name\n\nChange-Id: If2b13b4fabbda9b9be0a1d22fc88efbd4226d965\n'}]",0,745979,ce69b1b097d4946c0728699c17449b101b8ed715,2,0,1,31280,,,0,"list secgroup sorts by name

Change-Id: If2b13b4fabbda9b9be0a1d22fc88efbd4226d965
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/79/745979/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/test_security_groups.py'],1,ce69b1b097d4946c0728699c17449b101b8ed715,neutron08, def test_list_sorts_by_name_asc(self): def test_list_sorts_by_name_desc(self):, def test_list_sorts_asc(self): def test_list_sorts_desc(self):,2,2
openstack%2Fpuppet-openstack-integration~stable%2Fqueens~If77a8b05f74a65466fb79d7c066e889540acd980,openstack/puppet-openstack-integration,stable/queens,If77a8b05f74a65466fb79d7c066e889540acd980,Ensure key format is PEM in beaker tests,MERGED,2020-08-12 13:48:14.000000000,2020-08-13 00:54:38.000000000,2020-08-13 00:54:38.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 13:48:14.000000000', 'files': ['playbooks/run-beaker-tests.yaml', 'playbooks/run-libraries-beaker-tests.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/619bf96644f45071c2b146a12c692bafe20e471c', 'message': 'Ensure key format is PEM in beaker tests\n\nChange-Id: If77a8b05f74a65466fb79d7c066e889540acd980\n(cherry picked from commit a69725e9730d2cc58205dfac415468754c892ded)\n(cherry picked from commit b6420cfcc46521ab6115ef35d7a57d2324b590cf)\n(cherry picked from commit 8814f0a2a25c7b6287944f6991b50152d430b673)\n(cherry picked from commit b945cda443d015b57f5e37e4e7c1bffc1b0f8665)\n(cherry picked from commit 7a7b29c1d79baa3b75586c0b4a1a8e21a1c57441)\n'}]",0,745893,619bf96644f45071c2b146a12c692bafe20e471c,7,3,1,9816,,,0,"Ensure key format is PEM in beaker tests

Change-Id: If77a8b05f74a65466fb79d7c066e889540acd980
(cherry picked from commit a69725e9730d2cc58205dfac415468754c892ded)
(cherry picked from commit b6420cfcc46521ab6115ef35d7a57d2324b590cf)
(cherry picked from commit 8814f0a2a25c7b6287944f6991b50152d430b673)
(cherry picked from commit b945cda443d015b57f5e37e4e7c1bffc1b0f8665)
(cherry picked from commit 7a7b29c1d79baa3b75586c0b4a1a8e21a1c57441)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/93/745893/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/run-beaker-tests.yaml', 'playbooks/run-libraries-beaker-tests.yaml']",2,619bf96644f45071c2b146a12c692bafe20e471c,," ssh-keygen -f ~/.ssh/id_rsa -b 2048 -P """" -m PEM"," ssh-keygen -f ~/.ssh/id_rsa -b 2048 -P """"",2,2
openstack%2Ftripleo-common~stable%2Ftrain~I3e826c0f29b321fbc5ed625276365c45cb2c78da,openstack/tripleo-common,stable/train,I3e826c0f29b321fbc5ed625276365c45cb2c78da,Switch to use virt:8.3 for non-kolla container builds,MERGED,2020-08-12 14:51:51.000000000,2020-08-13 00:43:55.000000000,2020-08-13 00:42:34.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 22722}, {'_account_id': 23181}, {'_account_id': 28186}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-08-12 14:51:51.000000000', 'files': ['container-images/tcib/base/os/ironic-base/ironic-conductor/ironic-conductor.yaml', 'container-images/tcib/base/os/mistral-base/mistral-executor/mistral-executor.yaml', 'container-images/tcib/base/os/cinder-base/cinder-base.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-central/ceilometer-central.yaml', 'container-images/tcib/base/os/nova-base/nova-scheduler/nova-scheduler.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-ipmi/ceilometer-ipmi.yaml', 'container-images/tcib/base/os/nova-base/nova-compute-ironic/nova-compute-ironic.yaml', 'container-images/tcib/base/collectd/collectd.yaml', 'container-images/tcib/base/os/nova-base/nova-libvirt/nova-libvirt.yaml', 'container-images/tcib/base/os/glance-api/glance-api.yaml', 'container-images/tcib/base/os/nova-base/nova-compute/nova-compute.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-compute/ceilometer-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/082d3bed48911cafcea56c020c01ba561bd913b4', 'message': 'Switch to use virt:8.3 for non-kolla container builds\n\nThe train import branch is running on RHEL 8.3 and\nrequires virt:8.3 to build.\n\nChange-Id: I3e826c0f29b321fbc5ed625276365c45cb2c78da\n'}]",0,745912,082d3bed48911cafcea56c020c01ba561bd913b4,13,8,1,9976,,,0,"Switch to use virt:8.3 for non-kolla container builds

The train import branch is running on RHEL 8.3 and
requires virt:8.3 to build.

Change-Id: I3e826c0f29b321fbc5ed625276365c45cb2c78da
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/12/745912/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/os/ironic-base/ironic-conductor/ironic-conductor.yaml', 'container-images/tcib/base/os/mistral-base/mistral-executor/mistral-executor.yaml', 'container-images/tcib/base/os/cinder-base/cinder-base.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-central/ceilometer-central.yaml', 'container-images/tcib/base/os/nova-base/nova-scheduler/nova-scheduler.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-ipmi/ceilometer-ipmi.yaml', 'container-images/tcib/base/os/nova-base/nova-compute-ironic/nova-compute-ironic.yaml', 'container-images/tcib/base/collectd/collectd.yaml', 'container-images/tcib/base/os/nova-base/nova-libvirt/nova-libvirt.yaml', 'container-images/tcib/base/os/glance-api/glance-api.yaml', 'container-images/tcib/base/os/nova-base/nova-compute/nova-compute.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-compute/ceilometer-compute.yaml']",12,082d3bed48911cafcea56c020c01ba561bd913b4,enable_module_stream_virt8.3, - enable: virt:8.3, - enable: virt:8.2,12,12
openstack%2Fpuppet-manila~master~I47c795016c10f3afb7df4697ecf78880b8063b5a,openstack/puppet-manila,master,I47c795016c10f3afb7df4697ecf78880b8063b5a,Fix deprecated glusterfs option,MERGED,2020-08-10 23:56:23.000000000,2020-08-13 00:42:45.000000000,2020-08-13 00:41:08.000000000,"[{'_account_id': 3153}, {'_account_id': 9003}, {'_account_id': 9816}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-10 23:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/02163665486062aabb53023c464e4706259850f9', 'message': 'Fix deprecated glusterfs option\n\n""glusterfs_native_path_to_private_key"" is a deprecated\nreference to ""glusterfs_path_to_private_key"" and the\nfallback path is being removed [1]\n\n[1] https://review.opendev.org/745206/\n\nChange-Id: I47c795016c10f3afb7df4697ecf78880b8063b5a\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2020-08-11 04:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/2e453343e049cc960ff4a295ffa237b1a99b3687', 'message': 'Fix deprecated glusterfs option\n\n""glusterfs_native_path_to_private_key"" is a deprecated\nreference to ""glusterfs_path_to_private_key"" and the\nfallback path is being removed [1]\n\n[1] https://review.opendev.org/745206/\n\nChange-Id: I47c795016c10f3afb7df4697ecf78880b8063b5a\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2020-08-11 19:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/9cb42f1c79e5b15ef585127cc9fd69dd86f46175', 'message': 'Fix deprecated glusterfs option\n\n""glusterfs_native_path_to_private_key"" is a deprecated\nreference to ""glusterfs_path_to_private_key"" and the\nfallback path is being removed [1]\n\n[1] https://review.opendev.org/745206/\nChange-Id: I47c795016c10f3afb7df4697ecf78880b8063b5a\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 4, 'created': '2020-08-11 23:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/5ada9705d6a4ba53800327ca41fd622137c19134', 'message': 'Fix deprecated netapp option\n\n""netapp_root_volume_name"" is a deprecated\nreference to ""netapp_root_volume"" and the\nfallback path is being removed [1]\n\n[1] https://review.opendev.org/745206/\nChange-Id: I47c795016c10f3afb7df4697ecf78880b8063b5a\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 5, 'created': '2020-08-12 00:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/9f5b5de52c2e123c2046815d4400e43f00ecdd3b', 'message': 'Fix deprecated glusterfs option\n\n""glusterfs_native_path_to_private_key"" is a deprecated\nreference to ""glusterfs_path_to_private_key"" and the\nfallback path is being removed [1]\n\n[1] https://review.opendev.org/745206/\nChange-Id: I47c795016c10f3afb7df4697ecf78880b8063b5a\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 6, 'created': '2020-08-12 13:56:14.000000000', 'files': ['releasenotes/notes/cleanup-glusterfs-native-deprecation-77a26e6b98b74147.yaml', 'spec/defines/manila_backend_glusternative_spec.rb', 'manifests/backend/glusternative.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/bacfbc1c661a089c879fb66b1a965231254a9e0d', 'message': 'Fix deprecated glusterfs option\n\n""glusterfs_native_path_to_private_key"" is a deprecated\nreference to ""glusterfs_path_to_private_key"" and the\nfallback path is being removed [1]\n\n[1] https://review.opendev.org/745206/\nChange-Id: I47c795016c10f3afb7df4697ecf78880b8063b5a\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",3,745606,bacfbc1c661a089c879fb66b1a965231254a9e0d,31,5,6,16643,,,0,"Fix deprecated glusterfs option

""glusterfs_native_path_to_private_key"" is a deprecated
reference to ""glusterfs_path_to_private_key"" and the
fallback path is being removed [1]

[1] https://review.opendev.org/745206/
Change-Id: I47c795016c10f3afb7df4697ecf78880b8063b5a
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/06/745606/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/manila_backend_glusternative_spec.rb', 'manifests/backend/glusternative.pp']",2,02163665486062aabb53023c464e4706259850f9,cleanup-deprecations," ""${share_backend_name}/glusterfs_path_to_private_key"": value => $glusterfs_native_path_to_private_key;"," ""${share_backend_name}/glusterfs_native_path_to_private_key"": value => $glusterfs_native_path_to_private_key;",5,2
openstack%2Fswift~master~Idbea6fadefb2061f83eed735ef198b88ba7aaf69,openstack/swift,master,Idbea6fadefb2061f83eed735ef198b88ba7aaf69,s3api: Use swift.backend_path to proxy-log s3api requests,MERGED,2020-06-11 19:39:57.000000000,2020-08-13 00:22:20.000000000,2020-08-13 00:21:06.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-11 19:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/16e85f6d7d11252fc2f3af97ef7c65bdeecb0656', 'message': 's3api: Set swift.backend_path to the last-used path instead of the first-used\n\nChange-Id: Idbea6fadefb2061f83eed735ef198b88ba7aaf69\n'}, {'number': 2, 'created': '2020-07-01 15:56:03.000000000', 'files': ['swift/common/middleware/proxy_logging.py', 'test/unit/common/middleware/test_proxy_logging.py', 'swift/common/middleware/s3api/s3request.py', 'swift/common/middleware/s3api/s3api.py', 'test/unit/common/middleware/s3api/test_s3api.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/b2efd185ce0cc794a5d94880cb6b4a46075f8db7', 'message': 's3api: Use swift.backend_path to proxy-log s3api requests\n\n... and to determine {account}, {container}, and {object} template\nvalues, as well as statsd metric names.\n\nUpgradeImpact:\n--------------\nBe aware that this will cause an increase in the proxy-logging statsd\nmetrics emited for s3api responses.  However, this will more accurately\nreflect the state of the system.\n\nChange-Id: Idbea6fadefb2061f83eed735ef198b88ba7aaf69\n'}]",7,735221,b2efd185ce0cc794a5d94880cb6b4a46075f8db7,20,3,2,15343,,,0,"s3api: Use swift.backend_path to proxy-log s3api requests

... and to determine {account}, {container}, and {object} template
values, as well as statsd metric names.

UpgradeImpact:
--------------
Be aware that this will cause an increase in the proxy-logging statsd
metrics emited for s3api responses.  However, this will more accurately
reflect the state of the system.

Change-Id: Idbea6fadefb2061f83eed735ef198b88ba7aaf69
",git fetch https://review.opendev.org/openstack/swift refs/changes/21/735221/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/s3request.py', 'swift/common/middleware/s3api/s3api.py', 'test/unit/common/middleware/s3api/test_s3api.py']",3,16e85f6d7d11252fc2f3af97ef7c65bdeecb0656,s3-logging-and-metrics," self.assertEqual( '/v1/AUTH_test/bucket+segments/object/123456789abcdef/1', req.environ['swift.backend_path']) self.assertEqual( '/v1/AUTH_test/bucket+segments/object/123456789abcdef/1', req.environ['swift.backend_path'])"," self.assertEqual('/v1/AUTH_test/bucket', req.environ['swift.backend_path']) self.assertEqual('/v1/AUTH_test/bucket', req.environ['swift.backend_path'])",10,8
openstack%2Fopenstack-ansible-os_swift~master~Ieeddbe6ed7a27c4ca672910fecbe5072f2d4409b,openstack/openstack-ansible-os_swift,master,Ieeddbe6ed7a27c4ca672910fecbe5072f2d4409b,Add CentOS-8 support,MERGED,2020-08-11 13:42:14.000000000,2020-08-13 00:15:23.000000000,2020-08-13 00:13:54.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-11 13:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/18e7467cc4ac8403eec935ad29d2a1efd90adfbd', 'message': 'Add CentOS-8 support\n\nChange-Id: Ieeddbe6ed7a27c4ca672910fecbe5072f2d4409b\n'}, {'number': 2, 'created': '2020-08-11 18:16:35.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/2963959ce9f6d0630396a1e71116bcaa291a88fe', 'message': 'Add CentOS-8 support\n\nChange-Id: Ieeddbe6ed7a27c4ca672910fecbe5072f2d4409b\n'}]",0,745676,2963959ce9f6d0630396a1e71116bcaa291a88fe,18,4,2,28619,,,0,"Add CentOS-8 support

Change-Id: Ieeddbe6ed7a27c4ca672910fecbe5072f2d4409b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/76/745676/2 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,18e7467cc4ac8403eec935ad29d2a1efd90adfbd,osa/el8, - python3-keystonemiddleware - python3-memcached - python3-swift, - python-keystonemiddleware - python-memcached - python-swift,3,3
openstack%2Fpuppet-nova~master~Ifcc1f2c882f7b03ced18f48b54138792a41c3329,openstack/puppet-nova,master,Ifcc1f2c882f7b03ced18f48b54138792a41c3329,Expose vhost_custom_fragment,MERGED,2020-08-11 15:00:28.000000000,2020-08-13 00:15:02.000000000,2020-08-13 00:15:02.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-11 15:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/48f3b6e9f1afb87db0cdfb5cf7186b62e7cde88b', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Nova API and metadata services.\n\nChange-Id: Ifcc1f2c882f7b03ced18f48b54138792a41c3329\nSigned-off-by: Luke Short <ekultails@gmail.com>\n""}, {'number': 2, 'created': '2020-08-12 13:19:28.000000000', 'files': ['manifests/wsgi/apache_api.pp', 'manifests/wsgi/apache_metadata.pp', 'spec/classes/nova_wsgi_apache_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7ef245ef7db87df1211067431ea2ad3b2bd44197', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Nova API and metadata services.\n\nChange-Id: Ifcc1f2c882f7b03ced18f48b54138792a41c3329\nSigned-off-by: Luke Short <ekultails@gmail.com>\n""}]",0,745691,7ef245ef7db87df1211067431ea2ad3b2bd44197,9,3,2,25877,,,0,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Nova API and metadata services.

Change-Id: Ifcc1f2c882f7b03ced18f48b54138792a41c3329
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/91/745691/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache_api.pp', 'manifests/wsgi/apache_metadata.pp', 'spec/classes/nova_wsgi_apache_api_spec.rb']",3,48f3b6e9f1afb87db0cdfb5cf7186b62e7cde88b,," :vhost_custom_fragment => 'Timeout 99', :vhost_custom_fragment => 'Timeout 99',",,16,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I41c93394c171572bdd6e0b24c842b5e86e0b8e07,openstack/tripleo-heat-templates,stable/ussuri,I41c93394c171572bdd6e0b24c842b5e86e0b8e07,Add support for Gnocchi NFS Backend,MERGED,2020-08-12 04:24:20.000000000,2020-08-13 00:08:23.000000000,2020-08-13 00:07:06.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-12 04:24:20.000000000', 'files': ['deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'releasenotes/notes/gnocchi-nfs-backend-90febc9f87e7df08.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3631ee2ff42fa82b85bcfcb011556fe28ec98a8d', 'message': 'Add support for Gnocchi NFS Backend\n\nThis patch introduces support for Gnocchi NFS backend, so that\noperators can configure nfs share to store data of Gnocchi.\n\nCloses-Bug: #1889075\nChange-Id: I41c93394c171572bdd6e0b24c842b5e86e0b8e07\n(cherry picked from commit a6bbb4941ba846c9561f40c190f36991f384f68a)\n'}]",0,745776,3631ee2ff42fa82b85bcfcb011556fe28ec98a8d,13,5,1,9816,,,0,"Add support for Gnocchi NFS Backend

This patch introduces support for Gnocchi NFS backend, so that
operators can configure nfs share to store data of Gnocchi.

Closes-Bug: #1889075
Change-Id: I41c93394c171572bdd6e0b24c842b5e86e0b8e07
(cherry picked from commit a6bbb4941ba846c9561f40c190f36991f384f68a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/745776/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'releasenotes/notes/gnocchi-nfs-backend-90febc9f87e7df08.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml']",4,3631ee2ff42fa82b85bcfcb011556fe28ec98a8d,bug/1889075," GnocchiNfsEnabled: default: false description: > When using GnocchiBackend 'file', mount NFS share for data storage type: boolean GnocchiNfsShare: default: '' description: > NFS share to mount for data storage (when GnocchiNfsEnabled is true) type: string GnocchiNfsOptions: default: '_netdev,bg,intr,context=system_u:object_r:container_file_t:s0' description: > Nfs mount options for data storage (when GnocchiNfsEnabled is true) type: string nfs_backend_enabled: {equals: [{get_param: GnocchiNfsEnabled}, true]} params: GNOCCHI_FILE_BASE_PATH: {get_param: GnocchiFileBasePath} SE_FLAGS: if: - nfs_backend_enabled - 'shared' - 'shared,z' params: GNOCCHI_FILE_BASE_PATH: {get_param: GnocchiFileBasePath} params: GNOCCHI_FILE_BASE_PATH: {get_param: GnocchiFileBasePath} SE_FLAGS: if: - nfs_backend_enabled - 'shared' - 'shared,z' params: GNOCCHI_FILE_BASE_PATH: {get_param: GnocchiFileBasePath} SE_FLAGS: if: - nfs_backend_enabled - 'shared' - 'shared,z' - name: create logs directory - name: Mount Gnocchi NFS on host vars: nfs_backend_enabled: {get_param: GnocchiNfsEnabled} nfs_share: {get_param: GnocchiNfsShare} nfs_options: {get_param: GnocchiNfsOptions} file_base_path: {get_param: GnocchiFileBasePath} mount: name: ""{{file_base_path}}"" state: mounted src: ""{{nfs_share}}"" fstype: nfs opts: ""{{nfs_options}}"" when: nfs_backend_enabled - name: ensure GnocchiFileBasePath exists file: path: {get_param: GnocchiFileBasePath} state: directory setype: container_file_t"," params: {GNOCCHI_FILE_BASE_PATH: {get_param: GnocchiFileBasePath}, SE_FLAGS: 'shared,z'} params: {GNOCCHI_FILE_BASE_PATH: {get_param: GnocchiFileBasePath}} params: {GNOCCHI_FILE_BASE_PATH: {get_param: GnocchiFileBasePath}, SE_FLAGS: 'shared,z'} params: {GNOCCHI_FILE_BASE_PATH: {get_param: GnocchiFileBasePath}, SE_FLAGS: 'shared,z'} - name: create persistent data and logs directory - { 'path': {get_param: GnocchiFileBasePath}, 'setype': container_file_t }",97,8
openstack%2Fpuppet-tripleo~stable%2Fussuri~Id54537205538740a09a570a392f291a14d759f61,openstack/puppet-tripleo,stable/ussuri,Id54537205538740a09a570a392f291a14d759f61,Fix up cluster_setup_extras usage,MERGED,2020-07-31 14:51:23.000000000,2020-08-13 00:04:10.000000000,2020-08-13 00:04:10.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2020-07-31 14:51:23.000000000', 'files': ['manifests/profile/base/pacemaker.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ef7818ecc2de85e85e08125a1304eaa17891a77c', 'message': 'Fix up cluster_setup_extras usage\n\nStarting with pcs 0.10 (CentOS/RHEL 8) the arguments to pcs cluster\nsetup changed completely in an incompatible way and in fact are ignored\nby puppet-pacemaker. As we would like to reenable them, we first need to\nmake sure that whatever we pass is not understood by pcs.\n\nWe can also drop ipv6 and encryption parameters as corosync/pcs do not\nneed them any longer.\n\n(manually adapted from Iaecced845b80e958c7ad0ef96896f1202259cca2 to\nsupport CentOS/RHEL 7 and 8)\n\nChange-Id: Id54537205538740a09a570a392f291a14d759f61\nRelated-Bug: #1886789\nRelated-Bug: #1889764\n'}]",1,744189,ef7818ecc2de85e85e08125a1304eaa17891a77c,26,9,1,20778,,,0,"Fix up cluster_setup_extras usage

Starting with pcs 0.10 (CentOS/RHEL 8) the arguments to pcs cluster
setup changed completely in an incompatible way and in fact are ignored
by puppet-pacemaker. As we would like to reenable them, we first need to
make sure that whatever we pass is not understood by pcs.

We can also drop ipv6 and encryption parameters as corosync/pcs do not
need them any longer.

(manually adapted from Iaecced845b80e958c7ad0ef96896f1202259cca2 to
support CentOS/RHEL 7 and 8)

Change-Id: Id54537205538740a09a570a392f291a14d759f61
Related-Bug: #1886789
Related-Bug: #1889764
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/89/744189/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker.pp'],1,ef7818ecc2de85e85e08125a1304eaa17891a77c,pcs-setup-extra," include ::pacemaker::params if !$::pacemaker::params::pcs_010 { $corosync_ipv6 = str2bool(hiera('corosync_ipv6', false)) if $corosync_ipv6 { $cluster_setup_extras_pre = { '--token' => hiera('corosync_token_timeout', 1000), '--ipv6' => '' } } else { $cluster_setup_extras_pre = { '--token' => hiera('corosync_token_timeout', 1000) } ""totem token=${hiera('corosync_token_timeout', 1000)}"" => '', if $encryption and !$::pacemaker::params::pcs_010 {"," $corosync_ipv6 = str2bool(hiera('corosync_ipv6', false)) if $corosync_ipv6 { $cluster_setup_extras_pre = { '--token' => hiera('corosync_token_timeout', 1000), '--ipv6' => '' '--token' => hiera('corosync_token_timeout', 1000) if $encryption {",15,7
openstack%2Ftripleo-upgrade~master~I7e6dae5f6b586676380a1dca53d73e23a3a1e7da,openstack/tripleo-upgrade,master,I7e6dae5f6b586676380a1dca53d73e23a3a1e7da,FFWD upgrade converge cleanup,MERGED,2020-08-05 10:45:16.000000000,2020-08-13 00:04:04.000000000,2020-08-12 23:04:04.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-08-05 10:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/15ede8e019d981e520d84186234cd06c34ac02d2', 'message': 'WIP: upgrade converge cleanup\n\nChange-Id: I7e6dae5f6b586676380a1dca53d73e23a3a1e7da\n'}, {'number': 2, 'created': '2020-08-07 13:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6dabfaef735d9c2928ee3b579f9024309e07c00a', 'message': 'FFWD upgrade converge cleanup\n\nRemove obsolete file\n\nChange-Id: I7e6dae5f6b586676380a1dca53d73e23a3a1e7da\n'}, {'number': 3, 'created': '2020-08-07 13:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b9c34d62cd444ee0e6bf478bc6fdc86f6317d063', 'message': 'FFWD upgrade converge cleanup\n\nRemove obsolete file\n\nChange-Id: I7e6dae5f6b586676380a1dca53d73e23a3a1e7da\n'}, {'number': 4, 'created': '2020-08-10 07:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8f074d9469df4e29c01717011c4e29137fe78e49', 'message': 'FFWD upgrade converge cleanup\n\nRemove obsolete file\n\nChange-Id: I7e6dae5f6b586676380a1dca53d73e23a3a1e7da\n'}, {'number': 5, 'created': '2020-08-12 12:47:45.000000000', 'files': ['templates/overcloud_upgrade_converge.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e37b0aea7c91c12d6f9cb25a6c96b75858ddc598', 'message': 'FFWD upgrade converge cleanup\n\nRemove obsolete file\n\nChange-Id: I7e6dae5f6b586676380a1dca53d73e23a3a1e7da\n'}]",0,744884,e37b0aea7c91c12d6f9cb25a6c96b75858ddc598,24,6,5,11166,,,0,"FFWD upgrade converge cleanup

Remove obsolete file

Change-Id: I7e6dae5f6b586676380a1dca53d73e23a3a1e7da
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/84/744884/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/overcloud_upgrade_converge.sh.j2'],1,15ede8e019d981e520d84186234cd06c34ac02d2,,, {% if ffu_overcloud_upgrade and deployment_with_ha_upstream -%} -e {{ tht_directory }}/environments/docker.yaml \ -e {{ tht_directory }}/environments/docker-ha.yaml \ {% endif -%} {% if ceph_osd_enabled -%} -e {{working_dir}}/ceph-ansible-env.yaml \ {% endif -%},0,7
openstack%2Fpuppet-manila~master~Ie205685105d1190bdcf9ced9c69c9a67a5146b06,openstack/puppet-manila,master,Ie205685105d1190bdcf9ced9c69c9a67a5146b06,Deprecate cephfs_enable_snapshots parameter,MERGED,2020-08-12 00:45:09.000000000,2020-08-13 00:00:08.000000000,2020-08-12 23:59:02.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 00:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/8fc094a39a5a4b82758b36fa3ab4da6825e3ecbd', 'message': 'Deprecate cephfs_enable_snapshots parameter\n\nManila has deprecated this parameter and\nwill remove it in a future release.\n\n[1] https://review.opendev.org/736827/\nPartially-Implements: bp update-cephfs-drivers\n\nChange-Id: Ie205685105d1190bdcf9ced9c69c9a67a5146b06\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2020-08-12 17:31:57.000000000', 'files': ['manifests/backend/cephfs.pp', 'spec/defines/manila_backend_cephfs_spec.rb', 'releasenotes/notes/deprecate-cephfs-enable-snapshots-0a12425e90961ab7.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/2388d7510d600e358c76becf13d08581b489f2a7', 'message': 'Deprecate cephfs_enable_snapshots parameter\n\nManila has deprecated this parameter and\nwill remove it in a future release.\n\n[1] https://review.opendev.org/736827/\nPartially-Implements: bp update-cephfs-drivers\nChange-Id: Ie205685105d1190bdcf9ced9c69c9a67a5146b06\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",2,745766,2388d7510d600e358c76becf13d08581b489f2a7,12,4,2,16643,,,0,"Deprecate cephfs_enable_snapshots parameter

Manila has deprecated this parameter and
will remove it in a future release.

[1] https://review.opendev.org/736827/
Partially-Implements: bp update-cephfs-drivers
Change-Id: Ie205685105d1190bdcf9ced9c69c9a67a5146b06
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/66/745766/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/cephfs.pp', 'spec/defines/manila_backend_cephfs_spec.rb', 'releasenotes/notes/deprecate-cephfs-enable-snapshots-0a12425e90961ab7.yaml']",3,8fc094a39a5a4b82758b36fa3ab4da6825e3ecbd,bp/update-cephfs-drivers,"--- deprecations: - | The parameter 'manila::backend::cephfs::cephfs_enable_snapshots' has been deprecated. Manila's CephFS driver has changed the default behavior in the Victoria cycle to always support snapshots, because they are fully supported in Ceph Nautilus, the minimum version of Ceph supported by Manila. Since the ``cephfs_enable_snapshots`` config option will be removed in a future release, we recommend that you stop relying on it. Manila's snapshots can be disabled by virtue of share type extra specs if desired. ",,33,11
openstack%2Ftripleo-ansible~stable%2Fussuri~I2ea2b77bcf1be66a57cfb22463b81189ef2802f1,openstack/tripleo-ansible,stable/ussuri,I2ea2b77bcf1be66a57cfb22463b81189ef2802f1,Use label rather than no_log,MERGED,2020-08-11 13:25:06.000000000,2020-08-12 23:49:49.000000000,2020-08-12 23:49:49.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-11 13:25:06.000000000', 'files': ['tripleo_ansible/roles/tripleo_keystone_resources/tasks/roles.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/endpoints.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/user_per_role.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/projects.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/domains.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/services.yml', 'tripleo_ansible/roles/tripleo_clients_install/tasks/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/users.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d99c314fea70950f3122931615cbe217916aef83', 'message': 'Use label rather than no_log\n\nWe can prevent having to hide sensitive data while being able to provide\na more descriptive output for what task is being executed by using the\nlabel loop_control attribute.\n\nhttps://docs.ansible.com/ansible/latest/user_guide/playbooks_loops.html#limiting-loop-output-with-label\n\nChange-Id: I2ea2b77bcf1be66a57cfb22463b81189ef2802f1\n(cherry picked from commit 1920faf816df2a001d7325306c8da94ece5216e1)\n'}]",0,745669,d99c314fea70950f3122931615cbe217916aef83,14,5,1,3153,,,0,"Use label rather than no_log

We can prevent having to hide sensitive data while being able to provide
a more descriptive output for what task is being executed by using the
label loop_control attribute.

https://docs.ansible.com/ansible/latest/user_guide/playbooks_loops.html#limiting-loop-output-with-label

Change-Id: I2ea2b77bcf1be66a57cfb22463b81189ef2802f1
(cherry picked from commit 1920faf816df2a001d7325306c8da94ece5216e1)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/69/745669/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_keystone_resources/tasks/roles.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/endpoints.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/user_per_role.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/projects.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/domains.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/services.yml', 'tripleo_ansible/roles/tripleo_clients_install/tasks/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/users.yml']",9,d99c314fea70950f3122931615cbe217916aef83,use-label-stable/ussuri," # needed because it'll throw a warning if you have update_password without it label: ""{{ lookup('dict', tripleo_keystone_resources_data).value.name | default(lookup('dict', tripleo_keystone_resources_data).key) }}"" label: ""{{ lookup('dict', tripleo_keystone_resources_user_async_result_item.tripleo_keystone_resources_data).key }}"""," no_log: ""{{ not (tripleo_keystone_resources_debug | bool) }}""",26,13
openstack%2Fpython-neutronclient~master~I76043ea43efe1c78ba9637876ed6a8b997b6d0ee,openstack/python-neutronclient,master,I76043ea43efe1c78ba9637876ed6a8b997b6d0ee,zuul: native Zuul v3 version of the grenade job,MERGED,2020-08-10 12:29:02.000000000,2020-08-12 23:46:35.000000000,2020-08-12 23:43:54.000000000,"[{'_account_id': 4694}, {'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-10 12:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/26a40a67de75b7ca11a580d731de70fbc39f95f7', 'message': 'zuul: native Zuul v3 version of the grenade job\n\nAlso fix the name according the guidelines.\nThis job should really live inside neutron-lib.\n\nChange-Id: I76043ea43efe1c78ba9637876ed6a8b997b6d0ee\n'}, {'number': 2, 'created': '2020-08-10 14:25:50.000000000', 'files': ['playbooks/legacy/grenade-dsvm-neutron-libs/run.yaml', '.zuul.yaml', 'playbooks/legacy/grenade-dsvm-neutron-libs/post.yaml'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/097106d8fb557e85a93c696a8d64579034708f39', 'message': 'zuul: native Zuul v3 version of the grenade job\n\nAlso fix the name according the guidelines.\nThis job should really live inside neutron-lib.\n\nChange-Id: I76043ea43efe1c78ba9637876ed6a8b997b6d0ee\n'}]",1,745522,097106d8fb557e85a93c696a8d64579034708f39,16,5,2,10459,,,0,"zuul: native Zuul v3 version of the grenade job

Also fix the name according the guidelines.
This job should really live inside neutron-lib.

Change-Id: I76043ea43efe1c78ba9637876ed6a8b997b6d0ee
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/22/745522/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/grenade-dsvm-neutron-libs/run.yaml', '.zuul.yaml', 'playbooks/legacy/grenade-dsvm-neutron-libs/post.yaml']",3,26a40a67de75b7ca11a580d731de70fbc39f95f7,native-zuulv3-migration,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,8,81
openstack%2Fironic~master~I0cacdfaea5d3ba58a0a97cbb5231c224a8f9428e,openstack/ironic,master,I0cacdfaea5d3ba58a0a97cbb5231c224a8f9428e,Add RPC objects for deployment API,MERGED,2020-01-22 11:47:28.000000000,2020-08-12 23:44:07.000000000,2020-08-12 23:29:18.000000000,"[{'_account_id': 7386}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10379}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-01-22 11:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3d265029cca498a190aa61295577a97e5356aa63', 'message': 'WIP RPC for deployment API\n\nChange-Id: I0cacdfaea5d3ba58a0a97cbb5231c224a8f9428e\n'}, {'number': 2, 'created': '2020-01-22 13:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c5a4c81b6ee14428697b4f22467bf8c1313f4552', 'message': 'WIP RPC and conductor changes for deployment API\n\nChange-Id: I0cacdfaea5d3ba58a0a97cbb5231c224a8f9428e\n'}, {'number': 3, 'created': '2020-01-22 16:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f1be745b470e90772b518672c63643fc46e38284', 'message': 'WIP RPC and conductor changes for deployment API\n\nChange-Id: I0cacdfaea5d3ba58a0a97cbb5231c224a8f9428e\n'}, {'number': 4, 'created': '2020-01-23 15:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/11372b7a0e3a9dd3f399127ccc68cdc6aa3e111d', 'message': '[WIP] RPC and conductor changes for deployment API\n\nStory: #2006910\nTask: #38361\nChange-Id: I0cacdfaea5d3ba58a0a97cbb5231c224a8f9428e\n'}, {'number': 5, 'created': '2020-02-06 15:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/64098e70fea131b8b052340c8c3ebb66f05ca707', 'message': '[WIP] RPC and conductor changes for deployment API\n\nStory: #2006910\nTask: #38361\nChange-Id: I0cacdfaea5d3ba58a0a97cbb5231c224a8f9428e\n'}, {'number': 6, 'created': '2020-02-12 10:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/593b24015df819a03b7dad11543ab984c801124b', 'message': 'Add RPC objects for deployment API\n\nThis changes adds a virtual Deployment object that is backed by\na corresponding Node. This change skips two fields:\n* boot_iso_ref (requires updating drivers)\n* owner (requires careful thoughts, may be not needed)\n\nStory: #2006910\nTask: #38361\nChange-Id: I0cacdfaea5d3ba58a0a97cbb5231c224a8f9428e\n'}, {'number': 7, 'created': '2020-02-12 14:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f5946b2ea9eb772de339913b42c09835c472fda5', 'message': 'Add RPC objects for deployment API\n\nThis changes adds a virtual Deployment object that is backed by\na corresponding Node. This change skips two fields:\n* boot_iso_ref (requires updating drivers)\n* owner (requires careful thoughts, may be not needed)\n\nStory: #2006910\nTask: #38361\nChange-Id: I0cacdfaea5d3ba58a0a97cbb5231c224a8f9428e\n'}, {'number': 8, 'created': '2020-02-17 12:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cfff7661fd9a10af3f8dc3cb8746b1eb765486d0', 'message': 'Add RPC objects for deployment API\n\nThis changes adds a virtual Deployment object that is backed by\na corresponding Node. This change skips two fields:\n* boot_iso_ref (requires updating drivers)\n* owner (requires careful thoughts, may be not needed)\n\nStory: #2006910\nTask: #38361\nChange-Id: I0cacdfaea5d3ba58a0a97cbb5231c224a8f9428e\n'}, {'number': 9, 'created': '2020-03-03 13:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4112fc74a496f1141b664ac8708e2017161d0da6', 'message': 'Add RPC objects for deployment API\n\nThis changes adds a virtual Deployment object that is backed by\na corresponding Node. This change skips two fields:\n* boot_iso_ref (requires updating drivers)\n* owner (requires careful thoughts, may be not needed)\n\nStory: #2006910\nTask: #38361\nChange-Id: I0cacdfaea5d3ba58a0a97cbb5231c224a8f9428e\n'}, {'number': 10, 'created': '2020-04-01 10:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c749a1350c70e8ef7db557edae519a926ece73ff', 'message': 'Add RPC objects for deployment API\n\nThis changes adds a virtual Deployment object that is backed by\na corresponding Node. This change skips two fields:\n* boot_iso_ref (requires updating drivers)\n* owner (requires careful thoughts, may be not needed)\n\nStory: #2006910\nTask: #38361\nChange-Id: I0cacdfaea5d3ba58a0a97cbb5231c224a8f9428e\n'}, {'number': 11, 'created': '2020-04-30 10:10:16.000000000', 'files': ['ironic/tests/unit/common/test_release_mappings.py', 'ironic/tests/unit/objects/test_deployment.py', 'ironic/common/release_mappings.py', 'ironic/objects/deployment.py', 'ironic/tests/unit/objects/test_objects.py', 'ironic/objects/__init__.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9b4a63aa62c0dd7dcd582e20277c5eddb58c16b9', 'message': 'Add RPC objects for deployment API\n\nThis changes adds a virtual Deployment object that is backed by\na corresponding Node. This change skips two fields:\n* boot_iso_ref (requires updating drivers)\n* owner (requires careful thoughts, may be not needed)\n\nStory: #2006910\nTask: #38361\nChange-Id: I0cacdfaea5d3ba58a0a97cbb5231c224a8f9428e\n'}]",0,703778,9b4a63aa62c0dd7dcd582e20277c5eddb58c16b9,68,11,11,10239,,,0,"Add RPC objects for deployment API

This changes adds a virtual Deployment object that is backed by
a corresponding Node. This change skips two fields:
* boot_iso_ref (requires updating drivers)
* owner (requires careful thoughts, may be not needed)

Story: #2006910
Task: #38361
Change-Id: I0cacdfaea5d3ba58a0a97cbb5231c224a8f9428e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/78/703778/6 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/objects/deployment.py', 'ironic/tests/unit/objects/test_objects.py', 'ironic/objects/__init__.py']",3,3d265029cca498a190aa61295577a97e5356aa63,story/2006910, __import__('ironic.objects.deployment'),,248,0
openstack%2Fpuppet-aodh~stable%2Ftrain~Ic5055279770342d244ef3a4592067351981b459a,openstack/puppet-aodh,stable/train,Ic5055279770342d244ef3a4592067351981b459a,Expose vhost_custom_fragment,MERGED,2020-08-10 15:58:35.000000000,2020-08-12 23:29:54.000000000,2020-08-12 23:29:54.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-10 15:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/70cd9f5401efe232d55f4b9029d261ecf92e57d8', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Aodh service.\n\nConflicts:\n    manifests/wsgi/apache.pp\n    spec/classes/aodh_wsgi_apache_spec.rb\n\nSigned-off-by: Luke Short <ekultails@gmail.com>\nChange-Id: Ic5055279770342d244ef3a4592067351981b459a\n(cherry picked from commit 40c6462da5afb8a39590ad9d5d19a9abd2c81cc0)\n(cherry picked from commit c2d96fb1f03f520e15bc822fd9ea6379d641086a)\n""}, {'number': 2, 'created': '2020-08-11 16:56:13.000000000', 'files': ['manifests/wsgi/apache.pp', 'spec/classes/aodh_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/ff3603ec358097c8fe75a357297a962570edb153', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Aodh service.\n\nConflicts:\n    manifests/wsgi/apache.pp\n    spec/classes/aodh_wsgi_apache_spec.rb\n\nSigned-off-by: Luke Short <ekultails@gmail.com>\nChange-Id: Ic5055279770342d244ef3a4592067351981b459a\n(cherry picked from commit 40c6462da5afb8a39590ad9d5d19a9abd2c81cc0)\n(cherry picked from commit c2d96fb1f03f520e15bc822fd9ea6379d641086a)\n""}]",0,745560,ff3603ec358097c8fe75a357297a962570edb153,11,4,2,25877,,,0,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Aodh service.

Conflicts:
    manifests/wsgi/apache.pp
    spec/classes/aodh_wsgi_apache_spec.rb

Signed-off-by: Luke Short <ekultails@gmail.com>
Change-Id: Ic5055279770342d244ef3a4592067351981b459a
(cherry picked from commit 40c6462da5afb8a39590ad9d5d19a9abd2c81cc0)
(cherry picked from commit c2d96fb1f03f520e15bc822fd9ea6379d641086a)
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/60/745560/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'spec/classes/aodh_wsgi_apache_spec.rb']",2,70cd9f5401efe232d55f4b9029d261ecf92e57d8,," :vhost_custom_fragment => 'Timeout 99' :vhost_custom_fragment => 'Timeout 99',", :error_log_file => '/var/log/httpd/error_log',9,1
openstack%2Ftrove~master~I8193f4262156ed9b0784666f5981ebd6df4d525b,openstack/trove,master,I8193f4262156ed9b0784666f5981ebd6df4d525b,Allow to specify root password when building guest image,MERGED,2020-08-12 09:36:22.000000000,2020-08-12 23:10:59.000000000,2020-08-12 23:08:52.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 09:36:22.000000000', 'files': ['integration/scripts/files/elements/root-passwd/README.rst', 'integration/scripts/files/elements/root-passwd/post-install.d/99-setup', 'integration/scripts/functions_qemu'], 'web_link': 'https://opendev.org/openstack/trove/commit/9914bd6aad61a106ed192be9ea551ba4e33e577f', 'message': 'Allow to specify root password when building guest image\n\nFor testing purpose.\n\nChange-Id: I8193f4262156ed9b0784666f5981ebd6df4d525b\n'}]",0,745818,9914bd6aad61a106ed192be9ea551ba4e33e577f,9,2,1,6732,,,0,"Allow to specify root password when building guest image

For testing purpose.

Change-Id: I8193f4262156ed9b0784666f5981ebd6df4d525b
",git fetch https://review.opendev.org/openstack/trove refs/changes/18/745818/1 && git format-patch -1 --stdout FETCH_HEAD,"['integration/scripts/files/elements/root-passwd/README.rst', 'integration/scripts/files/elements/root-passwd/post-install.d/99-setup', 'integration/scripts/functions_qemu']",3,9914bd6aad61a106ed192be9ea551ba4e33e577f,root-password," local root_password=${TROVE_ROOT_PASSWORD} if [[ -n ${root_password} ]]; then elementes=""$elementes root-passwd"" export DIB_PASSWORD=${root_password} fi ",,22,0
openstack%2Fpuppet-ironic~master~Ida7c7004db522f736bb810cbb7ac7044f19b4d20,openstack/puppet-ironic,master,Ida7c7004db522f736bb810cbb7ac7044f19b4d20,Expose vhost_custom_fragment,MERGED,2020-08-11 15:04:00.000000000,2020-08-12 23:08:49.000000000,2020-08-12 23:08:49.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-11 15:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/3625a52ce521e6314571f3015f4e8ca9a569f7b7', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Ironic service.\n\nChange-Id: Ida7c7004db522f736bb810cbb7ac7044f19b4d20\nSigned-off-by: Luke Short <ekultails@gmail.com>\n""}, {'number': 2, 'created': '2020-08-12 13:49:21.000000000', 'files': ['manifests/wsgi/apache.pp', 'spec/classes/ironic_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/3f682aa5dd34afaebf5599f5e1e504dd83b9f2ae', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Ironic service.\n\nChange-Id: Ida7c7004db522f736bb810cbb7ac7044f19b4d20\nSigned-off-by: Luke Short <ekultails@gmail.com>\n""}]",0,745693,3f682aa5dd34afaebf5599f5e1e504dd83b9f2ae,9,3,2,25877,,,0,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Ironic service.

Change-Id: Ida7c7004db522f736bb810cbb7ac7044f19b4d20
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/93/745693/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'spec/classes/ironic_wsgi_apache_spec.rb']",2,3625a52ce521e6314571f3015f4e8ca9a569f7b7,," :vhost_custom_fragment => 'Timeout 99', :vhost_custom_fragment => 'Timeout 99',",,9,0
openstack%2Fironic~master~I779155ba2dc3f256273a7f45c5354ee8e6a6fabf,openstack/ironic,master,I779155ba2dc3f256273a7f45c5354ee8e6a6fabf,Prevents power sync with ADOPTFAIL nodes,MERGED,2020-07-27 19:28:14.000000000,2020-08-12 23:06:11.000000000,2020-08-12 22:50:46.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-27 19:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2c0ed8232b6916fce66765326945a4ab5254bc05', 'message': ""Prevents power sync with ADOPTFAIL nodes\n\nWe shouldn't attempt to sync the power state on nodes in the adopt\nfailed state as they may be in some sort of intermediate state\nindicitive of their adoption failure.\n\nChange-Id: I779155ba2dc3f256273a7f45c5354ee8e6a6fabf\nStory: 2007901\nTask: 40296\n""}, {'number': 2, 'created': '2020-08-03 20:59:15.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/skip-power-sync-for-adoptfail-d2498f1a2e997ed7.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/01345082661b4f34275bdd6feeea6d73972c50be', 'message': ""Prevents power sync with ADOPTFAIL nodes\n\nWe shouldn't attempt to sync the power state on nodes in the adopt\nfailed state as they may be in some sort of intermediate state\nindicitive of their adoption failure.\n\nChange-Id: I779155ba2dc3f256273a7f45c5354ee8e6a6fabf\nStory: 2007901\nTask: 40296\n""}]",5,743322,01345082661b4f34275bdd6feeea6d73972c50be,29,9,2,11655,,,0,"Prevents power sync with ADOPTFAIL nodes

We shouldn't attempt to sync the power state on nodes in the adopt
failed state as they may be in some sort of intermediate state
indicitive of their adoption failure.

Change-Id: I779155ba2dc3f256273a7f45c5354ee8e6a6fabf
Story: 2007901
Task: 40296
",git fetch https://review.opendev.org/openstack/ironic refs/changes/22/743322/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/skip-power-sync-for-adoptfail-d2498f1a2e997ed7.yaml']",3,2c0ed8232b6916fce66765326945a4ab5254bc05,,--- fixes: - | Fixes the conductor so the power sync operations are not asserted for nodes in the ``adopt failed`` state. ,,31,1
openstack%2Fopenstack-helm-infra~master~Ia67947b7323e41363a5ee379c0dfb001936b5107,openstack/openstack-helm-infra,master,Ia67947b7323e41363a5ee379c0dfb001936b5107,Add security context template for keystone-webhook container,MERGED,2020-08-11 14:46:56.000000000,2020-08-12 22:53:15.000000000,2020-08-12 22:51:40.000000000,"[{'_account_id': 7769}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29131}, {'_account_id': 29161}, {'_account_id': 30777}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-11 14:46:56.000000000', 'files': ['kubernetes-keystone-webhook/templates/deployment.yaml', 'kubernetes-keystone-webhook/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a58a78ff837adfcf5b28a5483f8d6c4ca85a7543', 'message': 'Add security context template for keystone-webhook container\n\nThis implements security context override at pod level and adds\nreadOnly-fs to keystone-webhook container\n\nChange-Id: Ia67947b7323e41363a5ee379c0dfb001936b5107\n'}]",0,745686,a58a78ff837adfcf5b28a5483f8d6c4ca85a7543,16,14,1,29161,,,0,"Add security context template for keystone-webhook container

This implements security context override at pod level and adds
readOnly-fs to keystone-webhook container

Change-Id: Ia67947b7323e41363a5ee379c0dfb001936b5107
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/86/745686/1 && git format-patch -1 --stdout FETCH_HEAD,"['kubernetes-keystone-webhook/templates/deployment.yaml', 'kubernetes-keystone-webhook/values.yaml']",2,a58a78ff837adfcf5b28a5483f8d6c4ca85a7543,, security_context: kubernetes_keystone_webhook: pod: runAsUser: 65534 container: kubernetes_keystone_webhook: readOnlyRootFilesystem: true allowPrivilegeEscalation: false, user: kubernetes-keystone-webhook: uid: 65534,10,6
openstack%2Fpuppet-mistral~master~I574c8233e15240074e67520b30df9cca79a9c20b,openstack/puppet-mistral,master,I574c8233e15240074e67520b30df9cca79a9c20b,Expose vhost_custom_fragment,MERGED,2020-08-11 14:43:12.000000000,2020-08-12 22:45:22.000000000,2020-08-12 22:45:22.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-11 14:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/ec923e7f6285076c391f89b9a48e77059c6a1aa4', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Mistral service.\n\nChange-Id: I574c8233e15240074e67520b30df9cca79a9c20b\nSigned-off-by: Luke Short <ekultails@gmail.com>\n""}, {'number': 2, 'created': '2020-08-11 21:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/ca0142c9748bec9a18a3e1d34134c00b21e3aead', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Mistral service.\n\nChange-Id: I574c8233e15240074e67520b30df9cca79a9c20b\nSigned-off-by: Luke Short <ekultails@gmail.com>\n""}, {'number': 3, 'created': '2020-08-12 13:14:13.000000000', 'files': ['manifests/wsgi/apache.pp', 'spec/classes/mistral_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/82cd962e78cab57395f61abacee6d6502067fc99', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Mistral service.\n\nChange-Id: I574c8233e15240074e67520b30df9cca79a9c20b\nSigned-off-by: Luke Short <ekultails@gmail.com>\n""}]",1,745685,82cd962e78cab57395f61abacee6d6502067fc99,11,3,3,25877,,,0,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Mistral service.

Change-Id: I574c8233e15240074e67520b30df9cca79a9c20b
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/85/745685/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'spec/classes/mistral_wsgi_apache_spec.rb']",2,ec923e7f6285076c391f89b9a48e77059c6a1aa4,," :vhost_custom_fragment => 'Timeout 99' :vhost_custom_fragment => 'Timeout 99',",,9,0
openstack%2Fpuppet-openstack-integration~stable%2Fstein~I5acda250e2c134918d8c22e8b010e20cfc3f9b33,openstack/puppet-openstack-integration,stable/stein,I5acda250e2c134918d8c22e8b010e20cfc3f9b33,Force overwriting existing ssh keys,MERGED,2020-08-12 13:47:16.000000000,2020-08-12 22:41:49.000000000,2020-08-12 22:41:49.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 13:47:16.000000000', 'files': ['playbooks/run-beaker-tests.yaml', 'playbooks/run-libraries-beaker-tests.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/eaa2921e196688f0fde8404b02ae431509b731ce', 'message': 'Force overwriting existing ssh keys\n\nChange-Id: I5acda250e2c134918d8c22e8b010e20cfc3f9b33\n(cherry picked from commit 25bff52a31baf838ee60a7f2b3ad0aa0b622d008)\n(cherry picked from commit a37e1b99aedd2fae2ae80754802d7350bd835bc3)\n(cherry picked from commit a640aadc4bebac05e46f26da865b23a27431e7c0)\n'}]",0,745890,eaa2921e196688f0fde8404b02ae431509b731ce,7,3,1,9816,,,0,"Force overwriting existing ssh keys

Change-Id: I5acda250e2c134918d8c22e8b010e20cfc3f9b33
(cherry picked from commit 25bff52a31baf838ee60a7f2b3ad0aa0b622d008)
(cherry picked from commit a37e1b99aedd2fae2ae80754802d7350bd835bc3)
(cherry picked from commit a640aadc4bebac05e46f26da865b23a27431e7c0)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/90/745890/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/run-beaker-tests.yaml', 'playbooks/run-libraries-beaker-tests.yaml']",2,eaa2921e196688f0fde8404b02ae431509b731ce,," ssh-keygen -f ~/.ssh/id_rsa -b 2048 -P """" -m PEM <<<y"," ssh-keygen -f ~/.ssh/id_rsa -b 2048 -P """" -m PEM",2,2
openstack%2Fopenstack-ansible-os_panko~master~Ic108f2ede39a439743fcf40a096b78572b2b7304,openstack/openstack-ansible-os_panko,master,Ic108f2ede39a439743fcf40a096b78572b2b7304,Updated from OpenStack Ansible Tests,MERGED,2020-08-12 11:34:55.000000000,2020-08-12 22:38:12.000000000,2020-08-12 22:36:47.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-12 11:34:55.000000000', 'files': ['tasks/service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/97299c096c2afc8e872bc196b7b7d0309afcb278', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ic108f2ede39a439743fcf40a096b78572b2b7304\n'}]",0,745860,97299c096c2afc8e872bc196b7b7d0309afcb278,11,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ic108f2ede39a439743fcf40a096b78572b2b7304
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_panko refs/changes/60/745860/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/service_setup.yml'],1,97299c096c2afc8e872bc196b7b7d0309afcb278,openstack/openstack-ansible-tests/sync-tests," description: ""{{ _domain_name_description | default(omit) }}""",,1,0
openstack%2Fpuppet-openstack-integration~stable%2Fstein~If77a8b05f74a65466fb79d7c066e889540acd980,openstack/puppet-openstack-integration,stable/stein,If77a8b05f74a65466fb79d7c066e889540acd980,Ensure key format is PEM in beaker tests,MERGED,2020-08-12 13:47:16.000000000,2020-08-12 22:30:03.000000000,2020-08-12 22:30:03.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 13:47:16.000000000', 'files': ['playbooks/run-beaker-tests.yaml', 'playbooks/run-libraries-beaker-tests.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b945cda443d015b57f5e37e4e7c1bffc1b0f8665', 'message': 'Ensure key format is PEM in beaker tests\n\nChange-Id: If77a8b05f74a65466fb79d7c066e889540acd980\n(cherry picked from commit a69725e9730d2cc58205dfac415468754c892ded)\n(cherry picked from commit b6420cfcc46521ab6115ef35d7a57d2324b590cf)\n(cherry picked from commit 8814f0a2a25c7b6287944f6991b50152d430b673)\n'}]",0,745889,b945cda443d015b57f5e37e4e7c1bffc1b0f8665,7,4,1,9816,,,0,"Ensure key format is PEM in beaker tests

Change-Id: If77a8b05f74a65466fb79d7c066e889540acd980
(cherry picked from commit a69725e9730d2cc58205dfac415468754c892ded)
(cherry picked from commit b6420cfcc46521ab6115ef35d7a57d2324b590cf)
(cherry picked from commit 8814f0a2a25c7b6287944f6991b50152d430b673)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/89/745889/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/run-beaker-tests.yaml', 'playbooks/run-libraries-beaker-tests.yaml']",2,b945cda443d015b57f5e37e4e7c1bffc1b0f8665,," ssh-keygen -f ~/.ssh/id_rsa -b 2048 -P """" -m PEM"," ssh-keygen -f ~/.ssh/id_rsa -b 2048 -P """"",2,2
openstack%2Fopenstack-ansible-os_swift~stable%2Fussuri~Ieeddbe6ed7a27c4ca672910fecbe5072f2d4409b,openstack/openstack-ansible-os_swift,stable/ussuri,Ieeddbe6ed7a27c4ca672910fecbe5072f2d4409b,Add CentOS-8 support,MERGED,2020-08-12 07:08:46.000000000,2020-08-12 22:25:42.000000000,2020-08-12 22:23:53.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-12 07:08:46.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/1c6a7196f49cc7cb9cf52bcfb8962820ee5efaca', 'message': 'Add CentOS-8 support\n\nChange-Id: Ieeddbe6ed7a27c4ca672910fecbe5072f2d4409b\n'}]",0,745794,1c6a7196f49cc7cb9cf52bcfb8962820ee5efaca,14,3,1,28619,,,0,"Add CentOS-8 support

Change-Id: Ieeddbe6ed7a27c4ca672910fecbe5072f2d4409b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/94/745794/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,1c6a7196f49cc7cb9cf52bcfb8962820ee5efaca,osa/el8-stable/ussuri," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('rsync', 'rsync-daemon') }}"" - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('python-keystonemiddleware', 'python3-keystonemiddleware') }}"" - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('python-memcached', 'python3-memcached') }}"" - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('python-swift', 'python3-swift') }}""", - rsync - python-keystonemiddleware - python-memcached - python-swift,4,4
openstack%2Fneutron-dynamic-routing~master~If5dc6ebffc7b4f031b0350a4fe77a660a1e7becf,openstack/neutron-dynamic-routing,master,If5dc6ebffc7b4f031b0350a4fe77a660a1e7becf,Switch from unittest2 compat methods to Python 3.x methods,MERGED,2020-07-05 11:39:12.000000000,2020-08-12 22:23:29.000000000,2020-08-12 22:21:12.000000000,"[{'_account_id': 11975}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-05 11:39:12.000000000', 'files': ['neutron_dynamic_routing/tests/functional/services/bgp/scheduler/test_bgp_dragent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/6c094dbb3ca4445e743acb48df8c46baf22f559e', 'message': 'Switch from unittest2 compat methods to Python 3.x methods\n\nWith the removal of Python 2.x we can remove the unittest2 compat\nwrappers and switch to assertCountEqual instead of assertItemsEqual\n\nWe have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: If5dc6ebffc7b4f031b0350a4fe77a660a1e7becf\n'}]",0,739357,6c094dbb3ca4445e743acb48df8c46baf22f559e,8,3,1,17130,,,0,"Switch from unittest2 compat methods to Python 3.x methods

With the removal of Python 2.x we can remove the unittest2 compat
wrappers and switch to assertCountEqual instead of assertItemsEqual

We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: If5dc6ebffc7b4f031b0350a4fe77a660a1e7becf
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/57/739357/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_dynamic_routing/tests/functional/services/bgp/scheduler/test_bgp_dragent_scheduler.py'],1,6c094dbb3ca4445e743acb48df8c46baf22f559e,," self.assertCountEqual(hosted_bs_ids, expected_hosted_bgp_speakers,"," self.assertItemsEqual(hosted_bs_ids, expected_hosted_bgp_speakers,",1,1
openstack%2Frequirements~master~Icb6873d8c5d3a3624c0ac3d76fc9125c5d8134b2,openstack/requirements,master,Icb6873d8c5d3a3624c0ac3d76fc9125c5d8134b2,Blacklist etcd3gw 0.2.6,MERGED,2020-08-12 11:23:27.000000000,2020-08-12 22:13:24.000000000,2020-08-12 22:11:30.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-12 11:23:27.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/23f05ffc5748e55c3fe859353fc7e5a5a39089db', 'message': 'Blacklist etcd3gw 0.2.6\n\nThis version is broken w.r.t. exceptions.\nSee [1] for details.\n\n[1] https://github.com/dims/etcd3-gateway/issues/41\n\nChange-Id: Icb6873d8c5d3a3624c0ac3d76fc9125c5d8134b2\nCloses-Bug: #1891314\n'}]",0,745835,23f05ffc5748e55c3fe859353fc7e5a5a39089db,17,4,1,30491,,,0,"Blacklist etcd3gw 0.2.6

This version is broken w.r.t. exceptions.
See [1] for details.

[1] https://github.com/dims/etcd3-gateway/issues/41

Change-Id: Icb6873d8c5d3a3624c0ac3d76fc9125c5d8134b2
Closes-Bug: #1891314
",git fetch https://review.opendev.org/openstack/requirements refs/changes/35/745835/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,23f05ffc5748e55c3fe859353fc7e5a5a39089db,bug/1891314,etcd3gw===0.2.5,etcd3gw===0.2.6,2,2
openstack%2Fansible-role-python_venv_build~stable%2Fussuri~Ic94f5a00346e47c394bd2cefc1cfca4ed8c3bdef,openstack/ansible-role-python_venv_build,stable/ussuri,Ic94f5a00346e47c394bd2cefc1cfca4ed8c3bdef,Drop empty pip packages from the list,MERGED,2020-08-11 19:31:50.000000000,2020-08-12 22:05:31.000000000,2020-08-12 22:03:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-11 19:31:50.000000000', 'files': ['tasks/python_venv_wheel_build.yml', 'vars/main.yml', 'tasks/python_venv_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/e3bcafaeaef1556a9da98ba2d6d24a23146e963c', 'message': 'Drop empty pip packages from the list\n\nThis patch aims to remove empty records from venv_pip_packages list\nto avoid pip error due to that.\n\nThis also brings _venv_pip_packages variable, which optimize process by\ndoing union and sort only once.\n\nChange-Id: Ic94f5a00346e47c394bd2cefc1cfca4ed8c3bdef\n(cherry picked from commit 6b3d95e13b4dcb4782d1e50fb3653c791403503a)\n'}]",0,745726,e3bcafaeaef1556a9da98ba2d6d24a23146e963c,19,3,1,25023,,,0,"Drop empty pip packages from the list

This patch aims to remove empty records from venv_pip_packages list
to avoid pip error due to that.

This also brings _venv_pip_packages variable, which optimize process by
doing union and sort only once.

Change-Id: Ic94f5a00346e47c394bd2cefc1cfca4ed8c3bdef
(cherry picked from commit 6b3d95e13b4dcb4782d1e50fb3653c791403503a)
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/26/745726/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/python_venv_wheel_build.yml', 'vars/main.yml', 'tasks/python_venv_install.yml']",3,e3bcafaeaef1556a9da98ba2d6d24a23146e963c,," {% for item in _venv_pip_packages %} name: ""{{ _venv_pip_packages }}"""," {% for item in (venv_default_pip_packages | union(venv_pip_packages)) | sort %} name: ""{{ (venv_default_pip_packages | union(venv_pip_packages)) | sort }}""",5,3
openstack%2Fproject-config~master~Ia8903686f940a26a2829094b4611c5a44d3df546,openstack/project-config,master,Ia8903686f940a26a2829094b4611c5a44d3df546,"Revert ""Temporarily disable vexxhost ca-ymq-1""",MERGED,2020-08-12 21:10:12.000000000,2020-08-12 21:57:50.000000000,2020-08-12 21:50:48.000000000,"[{'_account_id': 1004}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 21:10:12.000000000', 'files': ['nodepool/nl03.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3997bbb1febf2a8202a9c55fe6f5cc6fb6b470a9', 'message': 'Revert ""Temporarily disable vexxhost ca-ymq-1""\n\nThis reverts commit 685070c5445826e2a69c71d149dca43d9a37bb88.\n\nChange-Id: Ia8903686f940a26a2829094b4611c5a44d3df546\n'}]",0,745966,3997bbb1febf2a8202a9c55fe6f5cc6fb6b470a9,9,3,1,1004,,,0,"Revert ""Temporarily disable vexxhost ca-ymq-1""

This reverts commit 685070c5445826e2a69c71d149dca43d9a37bb88.

Change-Id: Ia8903686f940a26a2829094b4611c5a44d3df546
",git fetch https://review.opendev.org/openstack/project-config refs/changes/66/745966/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl03.openstack.org.yaml'],1,3997bbb1febf2a8202a9c55fe6f5cc6fb6b470a9,vexxhost-ymq, max-servers: 50, max-servers: 0,1,1
openstack%2Fcloudkitty~master~I6de2948ff49e1bb0b6a8b9a3a90f9f2ebbb8b7bb,openstack/cloudkitty,master,I6de2948ff49e1bb0b6a8b9a3a90f9f2ebbb8b7bb,Fix docs build error due to duplicate references,MERGED,2020-05-02 12:24:36.000000000,2020-08-12 21:53:16.000000000,2020-08-12 21:44:02.000000000,"[{'_account_id': 11904}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 28522}, {'_account_id': 29313}, {'_account_id': 29503}]","[{'number': 1, 'created': '2020-05-02 12:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/8e2a76b277d99a1c8a0151288f6f20bdf32aaf5b', 'message': 'Fix docs build error due to duplicate references\n\nClass docstrings were being pulled in to multiple locations, causing\nsphinx errors due to the duplicate references. This fixes it by adding\nthe :noindex: option to those references.\n\nChange-Id: I6de2948ff49e1bb0b6a8b9a3a90f9f2ebbb8b7bb\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-06-24 21:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/6823172dad31ba5fcd860d57568c3911487d7422', 'message': 'Fix docs build error due to duplicate references\n\nClass docstrings were being pulled in to multiple locations, causing\nsphinx errors due to the duplicate references. This fixes it by adding\nthe :noindex: option to those references.\n\nChange-Id: I6de2948ff49e1bb0b6a8b9a3a90f9f2ebbb8b7bb\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2020-06-24 21:57:48.000000000', 'files': ['doc/source/developer/collector.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/3dccfc76434b4390cd4b757aa6593a3806f4d1c6', 'message': 'Fix docs build error due to duplicate references\n\nClass docstrings were being pulled in to multiple locations, causing\nsphinx errors due to the duplicate references. This fixes it by adding\nthe :noindex: option to those references.\n\nAlso temporarily disabling the PDF build as that is failing with another\nissue that should be fixed in a follow up.\n\nChange-Id: I6de2948ff49e1bb0b6a8b9a3a90f9f2ebbb8b7bb\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,724975,3dccfc76434b4390cd4b757aa6593a3806f4d1c6,20,7,3,11904,,,0,"Fix docs build error due to duplicate references

Class docstrings were being pulled in to multiple locations, causing
sphinx errors due to the duplicate references. This fixes it by adding
the :noindex: option to those references.

Also temporarily disabling the PDF build as that is failing with another
issue that should be fixed in a follow up.

Change-Id: I6de2948ff49e1bb0b6a8b9a3a90f9f2ebbb8b7bb
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/75/724975/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/cloudkitty.conf.sample', 'doc/source/developer/collector.rst']",2,8e2a76b277d99a1c8a0151288f6f20bdf32aaf5b,docs, :noindex: :noindex: :noindex:,,21,0
openstack%2Fcloudkitty~master~I5cf5769d6241dcc22c0665aba7ad368bf63d1abd,openstack/cloudkitty,master,I5cf5769d6241dcc22c0665aba7ad368bf63d1abd,Update master for stable/ussuri,MERGED,2020-04-24 18:18:41.000000000,2020-08-12 21:46:49.000000000,2020-08-12 21:44:03.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-24 18:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/ecc245dbdb69981933419311d5dffa3368c0cd5c', 'message': 'Update master for stable/ussuri\n\nAdd file to the reno documentation build to show release notes for\nstable/ussuri.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/ussuri.\n\nChange-Id: I5cf5769d6241dcc22c0665aba7ad368bf63d1abd\nSem-Ver: feature\n'}, {'number': 2, 'created': '2020-06-24 14:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/ae8c17bb7456a06d05ba0a47ecf32855031d2d9a', 'message': 'Update master for stable/ussuri\n\nAdd file to the reno documentation build to show release notes for\nstable/ussuri.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/ussuri.\n\nChange-Id: I5cf5769d6241dcc22c0665aba7ad368bf63d1abd\nSem-Ver: feature\n'}, {'number': 3, 'created': '2020-06-24 22:55:24.000000000', 'files': ['releasenotes/source/ussuri.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/e8b7b3fd0b2a4c85a33e078595b5457e5e7dfbed', 'message': 'Update master for stable/ussuri\n\nAdd file to the reno documentation build to show release notes for\nstable/ussuri.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/ussuri.\n\nChange-Id: I5cf5769d6241dcc22c0665aba7ad368bf63d1abd\nSem-Ver: feature\n'}]",0,722986,e8b7b3fd0b2a4c85a33e078595b5457e5e7dfbed,11,2,3,22816,,,0,"Update master for stable/ussuri

Add file to the reno documentation build to show release notes for
stable/ussuri.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/ussuri.

Change-Id: I5cf5769d6241dcc22c0665aba7ad368bf63d1abd
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/86/722986/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/ussuri.rst', 'releasenotes/source/index.rst']",2,ecc245dbdb69981933419311d5dffa3368c0cd5c,reno-ussuri, ussuri,,7,0
openstack%2Fneutron-vpnaas-dashboard~master~If793877bf52bacabb2688323411858e3ec289755,openstack/neutron-vpnaas-dashboard,master,If793877bf52bacabb2688323411858e3ec289755,Imported Translations from Zanata,MERGED,2020-06-16 10:48:03.000000000,2020-08-12 21:35:49.000000000,2020-08-12 21:33:27.000000000,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-16 10:48:03.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/36827eeeadca50cbc2dc206f6c78dd8989a3df8d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If793877bf52bacabb2688323411858e3ec289755\n'}]",0,735866,36827eeeadca50cbc2dc206f6c78dd8989a3df8d,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If793877bf52bacabb2688323411858e3ec289755
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/66/735866/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,36827eeeadca50cbc2dc206f6c78dd8989a3df8d,zanata/translations,"""Project-Id-Version: Neutron VPNaaS Dashboard Release Notes\n""""POT-Creation-Date: 2020-06-12 23:40+0000\n""""PO-Revision-Date: 2020-06-15 05:38+0000\n""msgid ""2.0.0"" msgstr ""2.0.0""","""Project-Id-Version: neutron-vpnaas-dashboard\n""""POT-Creation-Date: 2020-05-02 03:43+0000\n""""PO-Revision-Date: 2020-05-04 09:21+0000\n""msgid ""2.0.0.0rc1"" msgstr ""2.0.0.0rc1""",5,5
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib5f017e95f961c04da3201d75ed17424e168b270,openstack/tripleo-heat-templates,stable/train,Ib5f017e95f961c04da3201d75ed17424e168b270,Unset keystone::public_endpoint,MERGED,2020-08-11 23:37:31.000000000,2020-08-12 21:16:10.000000000,2020-08-12 21:16:09.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25877}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-11 23:37:31.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8120c2df17935381a243831f5e4675822d3c9b43', 'message': 'Unset keystone::public_endpoint\n\nWhen public_endpoint parameter is set, keystone composes request urls\nfrom that parameter. However this can cause incorrect url detection\nespecially for requests coming from admin endpoint, because we use\ndifferent urls for each endpoints (admin/internal/public) in TripleO\ndeployment.\n\nThis patch unsets that public_endpoint parameter and makes keystone\ndetect request urls by headers passed from haproxy.\n\nCloses-bug: #1889017\nDepends-on: https://review.opendev.org/#/c/742412/\nChange-Id: Ib5f017e95f961c04da3201d75ed17424e168b270\n(cherry picked from commit ac50d6483da28748877ce2f1ac2d42ec4cc04b8b)\n(cherry picked from commit 09f524e7094d2ed976cf1cfb4236acf081b80081)\n'}]",0,745761,8120c2df17935381a243831f5e4675822d3c9b43,11,6,1,9816,,,0,"Unset keystone::public_endpoint

When public_endpoint parameter is set, keystone composes request urls
from that parameter. However this can cause incorrect url detection
especially for requests coming from admin endpoint, because we use
different urls for each endpoints (admin/internal/public) in TripleO
deployment.

This patch unsets that public_endpoint parameter and makes keystone
detect request urls by headers passed from haproxy.

Closes-bug: #1889017
Depends-on: https://review.opendev.org/#/c/742412/
Change-Id: Ib5f017e95f961c04da3201d75ed17424e168b270
(cherry picked from commit ac50d6483da28748877ce2f1ac2d42ec4cc04b8b)
(cherry picked from commit 09f524e7094d2ed976cf1cfb4236acf081b80081)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/745761/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,8120c2df17935381a243831f5e4675822d3c9b43,bug/1889017,," keystone::public_endpoint: {get_param: [EndpointMap, KeystonePublic, uri_no_suffix]}",0,1
openstack%2Fkeystone~master~I6c61df6c097fef698c659c79402c4381ec7f3586,openstack/keystone,master,I6c61df6c097fef698c659c79402c4381ec7f3586,Support format for msgpack < 1.0 in token formatter,MERGED,2020-08-11 21:38:39.000000000,2020-08-12 21:15:48.000000000,2020-08-12 21:13:52.000000000,"[{'_account_id': 4690}, {'_account_id': 5948}, {'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 11604}, {'_account_id': 11904}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2020-08-11 21:38:39.000000000', 'files': ['keystone/token/token_formatters.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/7d6c71ba26694c21110280e741b9ffe2d36a94ca', 'message': ""Support format for msgpack < 1.0 in token formatter\n\nmsgpack v1.0 changed its data format [1] and during a rolling upgrade, attempts\nto unpack cached tokens with old data format with the new default raw=False\nresult in the following error:\n\n  UnicodeDecodeError: 'utf-8' codec can't decode byte 0x87 in\n  position 3: invalid start byte\n\nThis passes raw=True to support backward-compat with the old format\nuntil we are guaranteed to have msgpack >= 1.0 in the N-1 release of\na rolling upgrade.\n\nCloses-Bug: #1891244\n\n[1]\nhttps://github.com/msgpack/msgpack-python/blob/v1.0.0/README.md#major-breaking-changes-in-msgpack-10\n\nChange-Id: I6c61df6c097fef698c659c79402c4381ec7f3586\n""}]",3,745752,7d6c71ba26694c21110280e741b9ffe2d36a94ca,29,12,1,4690,,,0,"Support format for msgpack < 1.0 in token formatter

msgpack v1.0 changed its data format [1] and during a rolling upgrade, attempts
to unpack cached tokens with old data format with the new default raw=False
result in the following error:

  UnicodeDecodeError: 'utf-8' codec can't decode byte 0x87 in
  position 3: invalid start byte

This passes raw=True to support backward-compat with the old format
until we are guaranteed to have msgpack >= 1.0 in the N-1 release of
a rolling upgrade.

Closes-Bug: #1891244

[1]
https://github.com/msgpack/msgpack-python/blob/v1.0.0/README.md#major-breaking-changes-in-msgpack-10

Change-Id: I6c61df6c097fef698c659c79402c4381ec7f3586
",git fetch https://review.opendev.org/openstack/keystone refs/changes/52/745752/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/token/token_formatters.py'],1,7d6c71ba26694c21110280e741b9ffe2d36a94ca,bug/1891244," # TODO(melwitt): msgpack changed their data format in version 1.0, so # in order to support a rolling upgrade, we must pass raw=True to # to support the old format. The try-except may be removed in the once # the N-1 release no longer supports msgpack < 1.0. try: versioned_payload = msgpack.unpackb(serialized_payload) except UnicodeDecodeError: versioned_payload = msgpack.unpackb(serialized_payload, raw=True) ", versioned_payload = msgpack.unpackb(serialized_payload),9,1
openstack%2Fglance~master~Ie0e91e2ee86f33bcdb63eed74f2d9948108acfd4,openstack/glance,master,Ie0e91e2ee86f33bcdb63eed74f2d9948108acfd4,Make wait_for_fork() more robust against infinite deadlock,MERGED,2020-08-11 23:49:26.000000000,2020-08-12 21:15:23.000000000,2020-08-12 21:13:54.000000000,"[{'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-11 23:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/88473d9397f80ccdcded792395c691c9648fb777', 'message': 'Make wait_for_fork() more robust against infinite deadlock\n\nThere is something about the process handling in the functional test base\nthat opens the scenario where we might signal our API master child,\nwaitpid() on it and never return (see bug 1891190). Specifically the\ntest_reload() case, where the API master is being sent SIGHUP various times,\nwhich may cause it to temporarily mask out SIGTERM or something, which\nmeans it ignores our request. Either way, a deadlock in the tests can\noccur when the cleanup() routine goes to waitpid() on that master,\nforever.\n\nThis change makes our wait_for_fork() helper call waitpid() with WNOHANG\nand progressively ramp up the aggression on asking it to stop. First, it\nwaits for the original signal to be honored, then it starts sending SIGTERM,\nfollowed by SIGKILLs until the overall timeout expires, after which it\nfails the test. The latter should only ever happen if something gets\nwedged in uninterruptible sleep.\n\nChange-Id: Ie0e91e2ee86f33bcdb63eed74f2d9948108acfd4\n'}, {'number': 2, 'created': '2020-08-12 13:55:17.000000000', 'files': ['glance/tests/functional/__init__.py', 'glance/tests/utils.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/8e8072c16a63ee652b6cc383f6ad81808b319c2f', 'message': 'Make wait_for_fork() more robust against infinite deadlock\n\nThere is something about the process handling in the functional test base\nthat opens the scenario where we might signal our API master child,\nwaitpid() on it and never return (see bug 1891190). Specifically the\ntest_reload() case, where the API master is being sent SIGHUP various times,\nwhich may cause it to temporarily mask out SIGTERM or something, which\nmeans it ignores our request. Either way, a deadlock in the tests can\noccur when the cleanup() routine goes to waitpid() on that master,\nforever.\n\nThis change makes our wait_for_fork() helper call waitpid() with WNOHANG\nand progressively ramp up the aggression on asking it to stop. First, it\nwaits for the original signal to be honored, then it starts sending SIGTERM,\nfollowed by SIGKILLs until the overall timeout expires, after which it\nfails the test. The latter should only ever happen if something gets\nwedged in uninterruptible sleep.\n\nRelated-Bug: #1891190\nChange-Id: Ie0e91e2ee86f33bcdb63eed74f2d9948108acfd4\n'}]",0,745763,8e8072c16a63ee652b6cc383f6ad81808b319c2f,13,5,2,4393,,,0,"Make wait_for_fork() more robust against infinite deadlock

There is something about the process handling in the functional test base
that opens the scenario where we might signal our API master child,
waitpid() on it and never return (see bug 1891190). Specifically the
test_reload() case, where the API master is being sent SIGHUP various times,
which may cause it to temporarily mask out SIGTERM or something, which
means it ignores our request. Either way, a deadlock in the tests can
occur when the cleanup() routine goes to waitpid() on that master,
forever.

This change makes our wait_for_fork() helper call waitpid() with WNOHANG
and progressively ramp up the aggression on asking it to stop. First, it
waits for the original signal to be honored, then it starts sending SIGTERM,
followed by SIGKILLs until the overall timeout expires, after which it
fails the test. The latter should only ever happen if something gets
wedged in uninterruptible sleep.

Related-Bug: #1891190
Change-Id: Ie0e91e2ee86f33bcdb63eed74f2d9948108acfd4
",git fetch https://review.opendev.org/openstack/glance refs/changes/63/745763/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/__init__.py', 'glance/tests/utils.py']",2,88473d9397f80ccdcded792395c691c9648fb777,bug/1891190,"import signalfrom oslo_utils import timeutilsLOG = log.getLogger(__name__) expected_exitcode=0, force=True): # For the first period, we wait without being pushy, but after # this timer expires, we start sending SIGTERM term_timer = timeutils.StopWatch(5) term_timer.start() # After this timer expires we start sending SIGKILL nice_timer = timeutils.StopWatch(7) nice_timer.start() # Process gets a maximum amount of time to exit before we fail the # test total_timer = timeutils.StopWatch(10) total_timer.start() while not total_timer.expired(): try: cpid, rc = os.waitpid(pid, force and os.WNOHANG or 0) if cpid == 0 and force: if not term_timer.expired(): # Waiting for exit on first signal pass elif not nice_timer.expired(): # Politely ask the process to GTFO LOG.warning('Killing child %i with SIGTERM' % pid) os.kill(pid, signal.SIGTERM) else: # No more Mr. Nice Guy LOG.warning('Killing child %i with SIGKILL' % pid) os.kill(pid, signal.SIGKILL) expected_exitcode = signal.SIGKILL time.sleep(1) continue LOG.info('waitpid(%i) returned %i,%i' % (pid, cpid, rc)) if rc != expected_exitcode: raise RuntimeError('The exit code %d is not %d' % (rc, expected_exitcode)) return rc except ChildProcessError: # Nothing to wait for return 0 except Exception as e: LOG.error('Got wait error: %s' % e) if raise_error: raise raise RuntimeError('Gave up waiting for %i to exit!' % pid)"," expected_exitcode=0): rc = 0 try: (pid, rc) = os.waitpid(pid, 0) rc = os.WEXITSTATUS(rc) if rc != expected_exitcode: raise RuntimeError('The exit code %d is not %d' % (rc, expected_exitcode)) except Exception: if raise_error: raise return rc",52,13
openstack%2Fproject-config~master~Iea8b96f4a1551ff8bee5d61163eeb8ddfa57198b,openstack/project-config,master,Iea8b96f4a1551ff8bee5d61163eeb8ddfa57198b,Temporarily disable vexxhost ca-ymq-1,MERGED,2020-08-12 16:45:27.000000000,2020-08-12 21:10:12.000000000,2020-08-12 16:59:53.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 16:45:27.000000000', 'files': ['nodepool/nl03.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/685070c5445826e2a69c71d149dca43d9a37bb88', 'message': 'Temporarily disable vexxhost ca-ymq-1\n\nCarrier issues are preventing ca-ymq-1 instances, including the\nmirror server, from reaching some IPv6 destinations such as PyPI.\nTemporarily stop booting job nodes there until the routing problem\nhas been addressed.\n\nChange-Id: Iea8b96f4a1551ff8bee5d61163eeb8ddfa57198b\n'}]",0,745929,685070c5445826e2a69c71d149dca43d9a37bb88,7,2,1,5263,,,0,"Temporarily disable vexxhost ca-ymq-1

Carrier issues are preventing ca-ymq-1 instances, including the
mirror server, from reaching some IPv6 destinations such as PyPI.
Temporarily stop booting job nodes there until the routing problem
has been addressed.

Change-Id: Iea8b96f4a1551ff8bee5d61163eeb8ddfa57198b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/29/745929/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl03.openstack.org.yaml'],1,685070c5445826e2a69c71d149dca43d9a37bb88,vexxhost-ymq, max-servers: 0, max-servers: 50,1,1
openstack%2Fkolla-ansible~stable%2Frocky~Ifbd37d8addd4322773118e2e9d46494741a8ae66,openstack/kolla-ansible,stable/rocky,Ifbd37d8addd4322773118e2e9d46494741a8ae66,[CI] Temporarily block new Ansible,MERGED,2020-08-12 08:42:38.000000000,2020-08-12 21:07:13.000000000,2020-08-12 21:05:53.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-12 08:42:38.000000000', 'files': ['tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e71912042ce674da91de5c87fcfb11a8e7b7414e', 'message': '[CI] Temporarily block new Ansible\n\nThe proper fix [1] needs fixing older branches before newer.\nThis one allows to fix CI first, in the usual order.\n\nTo revert after [1] gets merged in all relevant branches.\n\n[1] https://review.opendev.org/745648\n\nChange-Id: Ifbd37d8addd4322773118e2e9d46494741a8ae66\nRelated-Bug: #1891145\n(cherry picked from commit b2a30ab500c6601987b2943eeed3430072a12bf5)\n(cherry picked from commit cf733fdde6a9c23ecc875a4c7c06bf32ff41b826)\n(cherry picked from commit 460066721c6ae2101edd5c03fee5b2d34108f52f)\n'}]",0,745808,e71912042ce674da91de5c87fcfb11a8e7b7414e,10,5,1,30491,,,0,"[CI] Temporarily block new Ansible

The proper fix [1] needs fixing older branches before newer.
This one allows to fix CI first, in the usual order.

To revert after [1] gets merged in all relevant branches.

[1] https://review.opendev.org/745648

Change-Id: Ifbd37d8addd4322773118e2e9d46494741a8ae66
Related-Bug: #1891145
(cherry picked from commit b2a30ab500c6601987b2943eeed3430072a12bf5)
(cherry picked from commit cf733fdde6a9c23ecc875a4c7c06bf32ff41b826)
(cherry picked from commit 460066721c6ae2101edd5c03fee5b2d34108f52f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/08/745808/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/setup_gate.sh'],1,e71912042ce674da91de5c87fcfb11a8e7b7414e,ci-pin-ansible-stable/rocky," ANSIBLE_VERSION="">=2.4,<2.9,!=2.8.14"""," ANSIBLE_VERSION="">=2.4,<2.9""",1,1
openstack%2Fopenstack-helm~master~Ia5569f411abd2828c6ab289e3942e3a7dabf2d46,openstack/openstack-helm,master,Ia5569f411abd2828c6ab289e3942e3a7dabf2d46,Add retry for curling cfssl.org,MERGED,2020-08-12 17:25:08.000000000,2020-08-12 20:54:27.000000000,2020-08-12 20:51:18.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 17:25:08.000000000', 'files': ['tools/scripts/tls/cert-manager.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b334b221dbd1078a87315b4cbc9e8280de30ed2d', 'message': 'Add retry for curling cfssl.org\n\nWe observe SSL related errors rarely in jobs.\n\nChange-Id: Ia5569f411abd2828c6ab289e3942e3a7dabf2d46\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,745939,b334b221dbd1078a87315b4cbc9e8280de30ed2d,9,5,1,8863,,,0,"Add retry for curling cfssl.org

We observe SSL related errors rarely in jobs.

Change-Id: Ia5569f411abd2828c6ab289e3942e3a7dabf2d46
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/39/745939/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/scripts/tls/cert-manager.sh'],1,b334b221dbd1078a87315b4cbc9e8280de30ed2d,, curl --retry 3 --retry-connrefused -sSL -o cfssl $CFSSLURL/cfssl_linux-amd64 curl --retry 3 --retry-connrefused -sSL -o cfssljson $CFSSLURL/cfssljson_linux-amd64, curl -sSL -o cfssl $CFSSLURL/cfssl_linux-amd64 curl -sSL -o cfssljson $CFSSLURL/cfssljson_linux-amd64,2,2
openstack%2Fopenstack-helm~master~I1bf7d33811417866dd03bbed13dc9ef155b36f18,openstack/openstack-helm,master,I1bf7d33811417866dd03bbed13dc9ef155b36f18,Dont run cert-manager in jobs w/o tls enabled,MERGED,2020-08-12 18:04:37.000000000,2020-08-12 20:53:14.000000000,2020-08-12 20:48:51.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 18:04:37.000000000', 'files': ['zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ba412dec93f90b4b9fc9467c9dce567e9b2cdd73', 'message': 'Dont run cert-manager in jobs w/o tls enabled\n\nChange-Id: I1bf7d33811417866dd03bbed13dc9ef155b36f18\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,745943,ba412dec93f90b4b9fc9467c9dce567e9b2cdd73,9,5,1,8863,,,0,"Dont run cert-manager in jobs w/o tls enabled

Change-Id: I1bf7d33811417866dd03bbed13dc9ef155b36f18
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/43/745943/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs-openstack-helm.yaml'],1,ba412dec93f90b4b9fc9467c9dce567e9b2cdd73,, - ./tools/deployment/component/common/ingress.sh, - ./tools/scripts/tls/cert-manager.sh - ./tools/scripts/tls/cert-manager.sh - ./tools/deployment/component/common/ingress.sh - ./tools/scripts/tls/cert-manager.sh,1,4
openstack%2Ftripleo-heat-templates~master~Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5,openstack/tripleo-heat-templates,master,Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5,Run external_deploy_tasks per step for each role,MERGED,2020-07-21 22:55:47.000000000,2020-08-12 20:52:39.000000000,2020-08-12 16:55:12.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-21 22:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/31a7bbc90dbce95626f93e42d64175cb39158911', 'message': ""Combine playbooks for external tasks to reduce operations\n\nThis change combines the external task playbooks so that we're optimizing the\nruntime. Multiple plays creates an artificial pause, which hurts runtime\nespecially at scale.\n\nChange-Id: Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 2, 'created': '2020-07-22 13:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c80d4b2c19ffb6bd25faa11fbf361850d2d9802', 'message': 'Run external_deploy_tasks per step for each role\n\nInstead of running a giant playbook of external_deploy_tasks, we have\nnow one playbook per step and per role; which will run individually to\navoid a lot of skipped tasks at each step, and save time during a\ndeployment or day 2 operation.\n\nDepends-On: https://review.opendev.org/742426\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5\n'}, {'number': 3, 'created': '2020-07-24 01:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9b87b198aa2312e3fe5eecaf1d16492d6a1c6d58', 'message': 'Run external_deploy_tasks per step for each role\n\nInstead of running a giant playbook of external_deploy_tasks, we have\nnow one playbook per step and per role; which will run individually to\navoid a lot of skipped tasks at each step, and save time during a\ndeployment or day 2 operation.\n\nDepends-On: https://review.opendev.org/742426\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5\n'}, {'number': 4, 'created': '2020-07-24 12:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e08f3781f86595e0adecc73c5eed1cfa748650c8', 'message': 'Run external_deploy_tasks per step for each role\n\nInstead of running a giant playbook of external_deploy_tasks, we have\nnow one playbook per step and per role; which will run individually to\navoid a lot of skipped tasks at each step, and save time during a\ndeployment or day 2 operation.\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nChange-Id: Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5\n'}, {'number': 5, 'created': '2020-07-24 15:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1caba890d47acfe6d5c1a830974a3731cb70092e', 'message': 'Run external_deploy_tasks per step for each role\n\nInstead of running a giant playbook of external_deploy_tasks, we have\nnow one playbook per step and per role; which will run individually to\navoid a lot of skipped tasks at each step, and save time during a\ndeployment or day 2 operation.\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nChange-Id: Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5\n'}, {'number': 6, 'created': '2020-07-27 15:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d4bef49d75541a6844fa56e23e8fbd1f36db710', 'message': 'Run external_deploy_tasks per step for each role\n\nInstead of running a giant playbook of external_deploy_tasks, we have\nnow one playbook per step and per role; which will run individually to\navoid a lot of skipped tasks at each step, and save time during a\ndeployment or day 2 operation.\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nChange-Id: Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5\n'}, {'number': 7, 'created': '2020-07-30 13:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aa264b089bdef805ba4d2d81bea28fb0be6410a6', 'message': 'Run external_deploy_tasks per step for each role\n\nInstead of running a giant playbook of external_deploy_tasks, we have\nnow one playbook per step and per role; which will run individually to\navoid a lot of skipped tasks at each step, and save time during a\ndeployment or day 2 operation.\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nChange-Id: Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5\n'}, {'number': 8, 'created': '2020-08-10 12:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c215aaf33693c5f02e781eef8387347328f650b1', 'message': 'Run external_deploy_tasks per step for each role\n\nInstead of running a giant playbook of external_deploy_tasks, we have\nnow one playbook per step and per role; which will run individually to\navoid a lot of skipped tasks at each step, and save time during a\ndeployment or day 2 operation.\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nChange-Id: Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5\n'}, {'number': 9, 'created': '2020-08-10 20:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7f7cf9c7ee6474ac91b47464bf5ec69395f91a23', 'message': 'Run external_deploy_tasks per step for each role\n\nInstead of running a giant playbook of external_deploy_tasks, we have\nnow one playbook per step and per role; which will run individually to\navoid a lot of skipped tasks at each step, and save time during a\ndeployment or day 2 operation.\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nChange-Id: Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5\n'}, {'number': 10, 'created': '2020-08-10 20:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ecaec3e0f6ca5d58b7acd3e7da3bf0cc8a7183a5', 'message': 'Run external_deploy_tasks per step for each role\n\nInstead of running a giant playbook of external_deploy_tasks, we have\nnow one playbook per step and per role; which will run individually to\navoid a lot of skipped tasks at each step, and save time during a\ndeployment or day 2 operation.\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nChange-Id: Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5\n'}, {'number': 11, 'created': '2020-08-11 12:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/964cf8d9cabad04156aad5e89a5619db26453bd4', 'message': 'Run external_deploy_tasks per step for each role\n\nInstead of running a giant playbook of external_deploy_tasks, we have\nnow one playbook per step and per role; which will run individually to\navoid a lot of skipped tasks at each step, and save time during a\ndeployment or day 2 operation.\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nChange-Id: Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5\n'}, {'number': 12, 'created': '2020-08-12 01:30:11.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c4a270eec89a792a50496a438cf9070834935e25', 'message': 'Run external_deploy_tasks per step for each role\n\nInstead of running a giant playbook of external_deploy_tasks, we have\nnow one playbook per step and per role; which will run individually to\navoid a lot of skipped tasks at each step, and save time during a\ndeployment or day 2 operation.\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nChange-Id: Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5\n'}]",7,742307,c4a270eec89a792a50496a438cf9070834935e25,60,6,12,7353,,,0,"Run external_deploy_tasks per step for each role

Instead of running a giant playbook of external_deploy_tasks, we have
now one playbook per step and per role; which will run individually to
avoid a lot of skipped tasks at each step, and save time during a
deployment or day 2 operation.

Co-Authored-By: Kevin Carter <kecarter@redhat.com>
Change-Id: Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/742307/10 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,31a7bbc90dbce95626f93e42d64175cb39158911,external/split," name: External update steps tags: tasks: {%- for step in range(external_update_steps_max) %} - import_tasks: external_update_steps_tasks.yaml vars: step: '{{step}}' tags: - external_update_steps - step{{step}} vars: step: '{{step}}' tags: - external_deploy_steps - step{{step}} name: External deploy steps tags: tasks: {%- for step in range(external_upgrade_steps_max) %} - import_tasks: external_upgrade_steps_tasks.yaml vars: step: '{{step}}' tags: - external_upgrade_steps - step{{step}} {%- endfor %} {%- for step in range(1,deploy_steps_max) %} - import_tasks: external_deploy_steps_tasks.yaml vars: step: '{{step}}' tags: - external_deploy_steps - step{{step}}","{%- for step in range(external_update_steps_max) %} name: External update step {{step}} step: '{{step}}' tasks: - import_tasks: external_update_steps_tasks.yaml tags: - step{{step}} - external_update_steps # putting both update and deploy tasks in the same # playbook allows influencing the deploy tasks by # variables ""exported"" from update tasks - hosts: DEPLOY_SOURCE_HOST name: External deploy step {{step}} gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" any_errors_fatal: yes become: false vars: bootstrap_server_id: BOOTSTRAP_SERVER_ID step: '{{step}}' deploy_identifier: DEPLOY_IDENTIFIER enable_debug: ENABLE_DEBUG enable_puppet: ENABLE_PUPPET container_cli: CONTAINER_CLI container_log_stdout_path: CONTAINER_LOG_STDOUT_PATH container_healthcheck_disabled: CONTAINER_HEALTHCHECK_DISABLED docker_puppet_debug: DOCKER_PUPPET_DEBUG docker_puppet_process_count: DOCKER_PUPPET_PROCESS_COUNT docker_puppet_mount_host_puppet: DOCKER_PUPPET_MOUNT_HOST_PUPPET tasks: tags: - external - external_deploy_steps - step{{step}}{%- for step in range(external_upgrade_steps_max) %} - hosts: DEPLOY_SOURCE_HOST name: External upgrade step {{step}} gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" any_errors_fatal: yes become: false vars: # Explicit ansible_python_interpreter to allow connecting # to different OS releases (EL7/8) while using delegate_to. ansible_python_interpreter: /usr/libexec/platform-python step: '{{step}}' bootstrap_server_id: BOOTSTRAP_SERVER_ID deploy_identifier: DEPLOY_IDENTIFIER enable_debug: ENABLE_DEBUG enable_puppet: ENABLE_PUPPET container_cli: CONTAINER_CLI container_log_stdout_path: CONTAINER_LOG_STDOUT_PATH container_healthcheck_disabled: CONTAINER_HEALTHCHECK_DISABLED docker_puppet_debug: DOCKER_PUPPET_DEBUG docker_puppet_process_count: DOCKER_PUPPET_PROCESS_COUNT docker_puppet_mount_host_puppet: DOCKER_PUPPET_MOUNT_HOST_PUPPET tasks: - import_tasks: external_upgrade_steps_tasks.yaml tags: - step{{step}} - external - external_upgrade_steps {%- endfor %} {%- for step in range(1,deploy_steps_max) %} name: External deploy step {{step}} step: '{{step}}' tasks: - import_tasks: external_deploy_steps_tasks.yaml tags: - step{{step}} - external_deploy_steps",31,67
openstack%2Ftripleo-ansible~stable%2Ftrain~I935c0a752d7d001777ba99f7858875c8d2d48025,openstack/tripleo-ansible,stable/train,I935c0a752d7d001777ba99f7858875c8d2d48025,Restrict ansible install version,MERGED,2020-08-12 20:12:22.000000000,2020-08-12 20:52:02.000000000,2020-08-12 20:52:02.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 20:12:22.000000000', 'files': ['ansible-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fa03072a8506bc7db6d8656d521d009c81b0255f', 'message': 'Restrict ansible install version\n\nThis change excludes known broken versions of ansible from being\nused in test.\n\nSee https://github.com/ansible/ansible/issues/71200\n\nChange-Id: I935c0a752d7d001777ba99f7858875c8d2d48025\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 3ec04b419f95875cdd1097ce6cdb635ef7380e1f)\n'}]",0,745960,fa03072a8506bc7db6d8656d521d009c81b0255f,6,2,1,3153,,,0,"Restrict ansible install version

This change excludes known broken versions of ansible from being
used in test.

See https://github.com/ansible/ansible/issues/71200

Change-Id: I935c0a752d7d001777ba99f7858875c8d2d48025
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 3ec04b419f95875cdd1097ce6cdb635ef7380e1f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/60/745960/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-requirements.txt'],1,fa03072a8506bc7db6d8656d521d009c81b0255f,train/molecule,"ansible>=2.8,!=2.8.9,!=2.9.12",ansible>=2.8,1,1
openstack%2Ftripleo-ansible~stable%2Fussuri~I935c0a752d7d001777ba99f7858875c8d2d48025,openstack/tripleo-ansible,stable/ussuri,I935c0a752d7d001777ba99f7858875c8d2d48025,Restrict ansible install version,MERGED,2020-08-12 20:11:15.000000000,2020-08-12 20:50:40.000000000,2020-08-12 20:50:40.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 20:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3b3bc0e80cdcbf3198eacc99c846b7234df4f6a4', 'message': 'Restrict ansible install version\n\nThis change excludes known broken versions of ansible from being\nused in test.\n\nSee https://github.com/ansible/ansible/issues/71200\n\nChange-Id: I935c0a752d7d001777ba99f7858875c8d2d48025\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 3ec04b419f95875cdd1097ce6cdb635ef7380e1f)\n'}, {'number': 2, 'created': '2020-08-12 20:38:12.000000000', 'files': ['ansible-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/559ee2cb8830ff54070590f63fd3207208532db2', 'message': 'Restrict ansible install version\n\nThis change excludes known broken versions of ansible from being\nused in test.\n\nSee https://github.com/ansible/ansible/issues/71200\n\nChange-Id: I935c0a752d7d001777ba99f7858875c8d2d48025\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 3ec04b419f95875cdd1097ce6cdb635ef7380e1f)\n'}]",0,745959,559ee2cb8830ff54070590f63fd3207208532db2,8,3,2,3153,,,0,"Restrict ansible install version

This change excludes known broken versions of ansible from being
used in test.

See https://github.com/ansible/ansible/issues/71200

Change-Id: I935c0a752d7d001777ba99f7858875c8d2d48025
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 3ec04b419f95875cdd1097ce6cdb635ef7380e1f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/59/745959/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-requirements.txt'],1,3b3bc0e80cdcbf3198eacc99c846b7234df4f6a4,,"ansible>=2.8,!=2.8.9,!=2.9.12",ansible>=2.8,1,1
openstack%2Ftrove~master~I8557782dc80b9bc691268bc96d3188bf55cdd86d,openstack/trove,master,I8557782dc80b9bc691268bc96d3188bf55cdd86d,Fix functional test for instance access operation,MERGED,2020-08-12 05:36:29.000000000,2020-08-12 20:39:26.000000000,2020-08-12 20:38:20.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 05:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/55312515b6a011b8fd00c127e197858290d94ce0', 'message': 'Fix functional test for instance access operation\n\nChange-Id: I8557782dc80b9bc691268bc96d3188bf55cdd86d\n'}, {'number': 2, 'created': '2020-08-12 08:50:54.000000000', 'files': ['trove/tests/api/replication.py', 'trove/instance/service.py', 'trove/tests/api/instances.py', 'trove/tests/api/configurations.py', 'trove/tests/unittests/instance/test_instance_controller.py', 'trove/tests/scenario/runners/replication_runners.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/c4fd9cbe346de707281c3254bfbbda8f2759ec4d', 'message': 'Fix functional test for instance access operation\n\nChange-Id: I8557782dc80b9bc691268bc96d3188bf55cdd86d\n'}]",0,745782,c4fd9cbe346de707281c3254bfbbda8f2759ec4d,9,2,2,6732,,,0,"Fix functional test for instance access operation

Change-Id: I8557782dc80b9bc691268bc96d3188bf55cdd86d
",git fetch https://review.opendev.org/openstack/trove refs/changes/82/745782/2 && git format-patch -1 --stdout FETCH_HEAD,"['trove/tests/api/replication.py', 'trove/instance/service.py', 'trove/tests/api/instances.py', 'trove/tests/api/configurations.py', 'trove/tests/unittests/instance/test_instance_controller.py']",5,55312515b6a011b8fd00c127e197858290d94ce0,functional-test,"from unittest import mock from unittest.mock import MagicMockfrom trove.common import exception def test_update_api_invalid_field(self): body = { 'instance': { 'invalid': 'invalid' } } schema = self.controller.get_schema('update', body) validator = jsonschema.Draft4Validator(schema) self.assertFalse(validator.is_valid(body)) @mock.patch('trove.instance.models.Instance.load') def test_update_name(self, load_mock): body = { 'instance': { 'name': 'new_name' } } ins_mock = MagicMock() load_mock.return_value = ins_mock self.controller.update(MagicMock(), 'fake_id', body, 'fake_tenant_id') ins_mock.update_db.assert_called_once_with(name='new_name') def test_update_multiple_operations(self): body = { 'instance': { 'name': 'new_name', 'replica_of': None, 'configuration': 'fake_config_id' } } self.assertRaises( exception.BadRequest, self.controller.update, MagicMock(), 'fake_id', body, 'fake_tenant_id' ) @mock.patch('trove.instance.models.Instance.load') def test_update_name_and_access(self, load_mock): body = { 'instance': { 'name': 'new_name', 'access': { 'is_public': True, 'allowed_cidrs': [] } } } ins_mock = MagicMock() load_mock.return_value = ins_mock self.controller.update(MagicMock(), 'fake_id', body, 'fake_tenant_id') ins_mock.update_db.assert_called_once_with(name='new_name') ins_mock.update_access.assert_called_once_with( body['instance']['access'])"," def test_modify_instance_with_access(self): instance = self._setup_modify_instance_mocks() args = {} args['access'] = {'is_public': True} self.controller._modify_instance(self.context, self.req, instance, **args) instance.update_access.assert_called_once_with({'is_public': True})",97,66
openstack%2Fpuppet-tripleo~master~I46c7242d9b275861263af700221e5bdd0b9d8a28,openstack/puppet-tripleo,master,I46c7242d9b275861263af700221e5bdd0b9d8a28,Add designate coordination backend url,MERGED,2020-08-10 06:35:37.000000000,2020-08-12 20:31:41.000000000,2020-08-12 20:30:17.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6994}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-08-10 06:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bfd48dddc69321545d61509c85988b0ca1623cb1', 'message': 'Add designate coordination backend url\n\nDesignate producers will create duplicates if no coordination is\nspecified.\n\nChange-Id: I46c7242d9b275861263af700221e5bdd0b9d8a28\n'}, {'number': 2, 'created': '2020-08-10 13:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/537e40949e31409414890fad80266ebde2f898d4', 'message': 'Add designate coordination backend url\n\nDesignate producers will create duplicates if no coordination is\nspecified.\n\nChange-Id: I46c7242d9b275861263af700221e5bdd0b9d8a28\n'}, {'number': 3, 'created': '2020-08-11 01:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3ff22a84447549c5917b59376843a1ecca419ce1', 'message': 'Add designate coordination backend url\n\nDesignate producers will create duplicates if no coordination is\nspecified.\n\nChange-Id: I46c7242d9b275861263af700221e5bdd0b9d8a28\n'}, {'number': 4, 'created': '2020-08-11 02:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4fa0930346c53a589a41321aed0f84e08e97b438', 'message': 'Add designate coordination backend url\n\nDesignate producers will create duplicates if no coordination is\nspecified.\n\nDepends-On: https://review.opendev.org/#/c/745482/\n\nChange-Id: I46c7242d9b275861263af700221e5bdd0b9d8a28\n'}, {'number': 5, 'created': '2020-08-11 03:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/72ab4da1a4345da7691473f1ff29f46568369f53', 'message': 'Add designate coordination backend url\n\nDesignate producers will create duplicates if no coordination is\nspecified.\n\nChange-Id: I46c7242d9b275861263af700221e5bdd0b9d8a28\n'}, {'number': 6, 'created': '2020-08-12 14:44:57.000000000', 'files': ['manifests/profile/base/designate/producer.pp', 'releasenotes/notes/designate-redis-coordination-b4afdcc8855cc0ca.yaml', 'spec/classes/tripleo_profile_base_designate_producer_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9b9a46823a95eb08cecc4e4a3edb0561e8377f2b', 'message': 'Add designate coordination backend url\n\nDesignate producers will create duplicates if no coordination is\nspecified.\n\nChange-Id: I46c7242d9b275861263af700221e5bdd0b9d8a28\n'}]",2,745482,9b9a46823a95eb08cecc4e4a3edb0561e8377f2b,33,7,6,6994,,,0,"Add designate coordination backend url

Designate producers will create duplicates if no coordination is
specified.

Change-Id: I46c7242d9b275861263af700221e5bdd0b9d8a28
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/82/745482/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/designate/producer.pp'],1,bfd48dddc69321545d61509c85988b0ca1623cb1,designate_coordination,"# [*designate_redis_password*] # (Required) Password for the neutron redis user for the coordination url # Defaults to hiera('neutron_redis_password'), # # [*redis_vip*] # (Required) Redis ip address for the coordination url # Defaults to hiera('redis_vip'), # # [*enable_internal_tls*] # (Optional) Whether TLS in the internal network is enabled or not. # Defaults to hiera('enable_internal_tls', false) # $designate_redis_password = hiera('designate_redis_password'), $redis_vip = hiera('redis_vip'), $enable_internal_tls = hiera('enable_internal_tls', false), $step = Integer(hiera('step')), if $enable_internal_tls { $tls_query_param = '?ssl=true' } else { $tls_query_param = '' } if $step >= 4 { class { 'designate::producer': backend_url => join(['redis://:', $designate_redis_password, '@', normalize_ip_for_uri($redis_vip), ':6379/', $tls_query_param]) }"," $step = Integer(hiera('step')), if $step >= 4 { include designate::producer",26,2
openstack%2Fironic-python-agent~master~I1d2d9390cc24865dc274b27efadf1589dcd066dd,openstack/ironic-python-agent,master,I1d2d9390cc24865dc274b27efadf1589dcd066dd,empty magical test change,ABANDONED,2020-08-11 15:21:11.000000000,2020-08-12 20:24:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-11 15:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b98a7c3ac6cdc7ca635770efe22326b3fdd58569', 'message': 'empty magical test change\n\nDepends-On: https://review.opendev.org/745698\nChange-Id: I1d2d9390cc24865dc274b27efadf1589dcd066dd\n'}]",0,745700,b98a7c3ac6cdc7ca635770efe22326b3fdd58569,4,2,1,11655,,,0,"empty magical test change

Depends-On: https://review.opendev.org/745698
Change-Id: I1d2d9390cc24865dc274b27efadf1589dcd066dd
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/00/745700/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,b98a7c3ac6cdc7ca635770efe22326b3fdd58569,,,,0,0
openstack%2Fkolla-ansible~stable%2Fstein~Ifbd37d8addd4322773118e2e9d46494741a8ae66,openstack/kolla-ansible,stable/stein,Ifbd37d8addd4322773118e2e9d46494741a8ae66,[CI] Temporarily block new Ansible,MERGED,2020-08-12 08:40:06.000000000,2020-08-12 20:16:26.000000000,2020-08-12 20:15:14.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-12 08:40:06.000000000', 'files': ['tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/460066721c6ae2101edd5c03fee5b2d34108f52f', 'message': '[CI] Temporarily block new Ansible\n\nThe proper fix [1] needs fixing older branches before newer.\nThis one allows to fix CI first, in the usual order.\n\nTo revert after [1] gets merged in all relevant branches.\n\n[1] https://review.opendev.org/745648\n\nChange-Id: Ifbd37d8addd4322773118e2e9d46494741a8ae66\nRelated-Bug: #1891145\n(cherry picked from commit b2a30ab500c6601987b2943eeed3430072a12bf5)\n(cherry picked from commit cf733fdde6a9c23ecc875a4c7c06bf32ff41b826)\n'}]",0,745807,460066721c6ae2101edd5c03fee5b2d34108f52f,11,5,1,30491,,,0,"[CI] Temporarily block new Ansible

The proper fix [1] needs fixing older branches before newer.
This one allows to fix CI first, in the usual order.

To revert after [1] gets merged in all relevant branches.

[1] https://review.opendev.org/745648

Change-Id: Ifbd37d8addd4322773118e2e9d46494741a8ae66
Related-Bug: #1891145
(cherry picked from commit b2a30ab500c6601987b2943eeed3430072a12bf5)
(cherry picked from commit cf733fdde6a9c23ecc875a4c7c06bf32ff41b826)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/07/745807/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/setup_gate.sh'],1,460066721c6ae2101edd5c03fee5b2d34108f52f,ci-pin-ansible-stable/stein," ANSIBLE_VERSION="">=2.5,<2.10,!=2.9.12"" ANSIBLE_VERSION=""$ANSIBLE_VERSION,<2.9,!=2.8.14"""," ANSIBLE_VERSION="">=2.5,<2.10"" ANSIBLE_VERSION=""$ANSIBLE_VERSION,<2.9""",2,2
openstack%2Ftripleo-ansible~master~I935c0a752d7d001777ba99f7858875c8d2d48025,openstack/tripleo-ansible,master,I935c0a752d7d001777ba99f7858875c8d2d48025,Restrict ansible install version,MERGED,2020-08-11 20:18:51.000000000,2020-08-12 20:11:15.000000000,2020-08-12 19:59:15.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-11 20:18:51.000000000', 'files': ['ansible-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3ec04b419f95875cdd1097ce6cdb635ef7380e1f', 'message': 'Restrict ansible install version\n\nThis change excludes known broken versions of ansible from being\nused in test.\n\nSee https://github.com/ansible/ansible/issues/71200\n\nChange-Id: I935c0a752d7d001777ba99f7858875c8d2d48025\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,745739,3ec04b419f95875cdd1097ce6cdb635ef7380e1f,14,4,1,7353,,,0,"Restrict ansible install version

This change excludes known broken versions of ansible from being
used in test.

See https://github.com/ansible/ansible/issues/71200

Change-Id: I935c0a752d7d001777ba99f7858875c8d2d48025
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/39/745739/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-requirements.txt'],1,3ec04b419f95875cdd1097ce6cdb635ef7380e1f,,"ansible>=2.8,!=2.8.9,!=2.9.12",ansible>=2.8,1,1
openstack%2Fmanila~stable%2Fussuri~I1a2c28548d02eee6632313a41a5c4d8ab6ad9532,openstack/manila,stable/ussuri,I1a2c28548d02eee6632313a41a5c4d8ab6ad9532,Fix wrong capacity in pool_stat for DellEMC manila drivers.,MERGED,2020-08-11 00:41:39.000000000,2020-08-12 20:10:45.000000000,2020-08-12 20:09:03.000000000,"[{'_account_id': 9003}, {'_account_id': 18742}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-08-11 00:41:39.000000000', 'files': ['manila/tests/share/drivers/dell_emc/plugins/unity/test_connection.py', 'manila/share/drivers/dell_emc/plugins/vnx/connection.py', 'manila/share/drivers/dell_emc/plugins/unity/connection.py', 'manila/share/drivers/dell_emc/plugins/powermax/connection.py', 'releasenotes/releasenotes/notes/dellemc-fix-capacity-report-25f75a6c96e12b40.yaml', 'manila/tests/share/drivers/dell_emc/plugins/powermax/test_connection.py', 'manila/tests/share/drivers/dell_emc/common/enas/test_utils.py', 'manila/share/drivers/dell_emc/common/enas/utils.py', 'manila/tests/share/drivers/dell_emc/plugins/vnx/test_connection.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/ba00d1b9abe79a6569544f1b1f7f1587645f76c3', 'message': 'Fix wrong capacity in pool_stat for DellEMC manila drivers.\n\nDellEMC manila drivers have bugs in returning capacity in pool_stat.\nThe current powermax/vnx manila return size in MB and unity manila\nreturns size in bytes.\n\nChange-Id: I1a2c28548d02eee6632313a41a5c4d8ab6ad9532\nCloses-bug: #1890372\nCloses-bug: #1890375\nCloses-bug: #1890376\n(cherry picked from commit 53f756d0650a815cbb9eeac2fa7bcfa2334c674a)\n'}]",0,745608,ba00d1b9abe79a6569544f1b1f7f1587645f76c3,13,5,1,14624,,,0,"Fix wrong capacity in pool_stat for DellEMC manila drivers.

DellEMC manila drivers have bugs in returning capacity in pool_stat.
The current powermax/vnx manila return size in MB and unity manila
returns size in bytes.

Change-Id: I1a2c28548d02eee6632313a41a5c4d8ab6ad9532
Closes-bug: #1890372
Closes-bug: #1890375
Closes-bug: #1890376
(cherry picked from commit 53f756d0650a815cbb9eeac2fa7bcfa2334c674a)
",git fetch https://review.opendev.org/openstack/manila refs/changes/08/745608/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/drivers/dell_emc/plugins/unity/test_connection.py', 'manila/share/drivers/dell_emc/plugins/vnx/connection.py', 'manila/share/drivers/dell_emc/plugins/unity/connection.py', 'manila/share/drivers/dell_emc/plugins/powermax/connection.py', 'releasenotes/releasenotes/notes/dellemc-fix-capacity-report-25f75a6c96e12b40.yaml', 'manila/tests/share/drivers/dell_emc/plugins/powermax/test_connection.py', 'manila/tests/share/drivers/dell_emc/common/enas/test_utils.py', 'manila/share/drivers/dell_emc/common/enas/utils.py', 'manila/tests/share/drivers/dell_emc/plugins/vnx/test_connection.py']",9,ba00d1b9abe79a6569544f1b1f7f1587645f76c3,bug/1890372,"from manila.share.drivers.dell_emc.common.enas import utils as enas_utils self.assertEqual( enas_utils.mb_to_gb(fakes.FakeData.pool_total_size), pool['total_capacity_gb']) self.assertEqual( enas_utils.mb_to_gb(free_size), pool['free_capacity_gb'])"," self.assertEqual(fakes.FakeData.pool_total_size, pool['total_capacity_gb']) self.assertEqual(free_size, pool['free_capacity_gb'])",70,21
openstack%2Ftripleo-heat-templates~master~Ib636dc528687dc67fae85c27a1571f51ae7332e7,openstack/tripleo-heat-templates,master,Ib636dc528687dc67fae85c27a1571f51ae7332e7,Added scale_tasks to handle cleanup on scale down of nodes,MERGED,2020-02-07 16:46:54.000000000,2020-08-12 19:41:22.000000000,2020-04-09 15:11:12.000000000,"[{'_account_id': 3153}, {'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 9592}, {'_account_id': 9914}, {'_account_id': 9954}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-02-07 16:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/200c3f42a0fc8287e748121993630f9277bee748', 'message': 'WIP Added scale_tasks to handle cleanup on scale down of nodes\n\nscale_down tasks will be executed when a node is scaled down to\nderegister the node with ipa and clean up the relevant subhosts and\nservices and revoke the issued certs.\n\nChange-Id: Ib636dc528687dc67fae85c27a1571f51ae7332e7\n'}, {'number': 2, 'created': '2020-02-18 14:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/56d187904cd03dfbaa67e254d2defdeb19abb562', 'message': 'WIP Added scale_tasks to handle cleanup on scale down of nodes\n\nscale_down tasks will be executed when a node is scaled down to\nderegister the node with ipa and clean up the relevant subhosts and\nservices and revoke the issued certs.\n\nChange-Id: Ib636dc528687dc67fae85c27a1571f51ae7332e7\n'}, {'number': 3, 'created': '2020-02-28 12:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a3a4ed744ef9f50f711f293fbbd76f0380f42a9', 'message': 'WIP Added scale_tasks to handle cleanup on scale down of nodes\n\nscale_down tasks will be executed when a node is scaled down to\nderegister the node with ipa and clean up the relevant subhosts and\nservices and revoke the issued certs.\n\nChange-Id: Ib636dc528687dc67fae85c27a1571f51ae7332e7\n'}, {'number': 4, 'created': '2020-02-28 12:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1a023675360d9b902ecbd820b0ccf4b6a40d3fc', 'message': 'WIP Added scale_tasks to handle cleanup on scale down of nodes\n\nscale_down tasks will be executed when a node is scaled down to\nderegister the node with ipa and clean up the relevant subhosts and\nservices and revoke the issued certs.\n\nDepends-On: https://review.opendev.org/700226\nChange-Id: Ib636dc528687dc67fae85c27a1571f51ae7332e7\n'}, {'number': 5, 'created': '2020-03-12 14:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d2760286204144ad146dc70830a93f60f5ab5cf6', 'message': 'WIP Added scale_tasks to handle cleanup on scale down of nodes\n\nscale_down tasks will be executed when a node is scaled down to\nderegister the node with ipa and clean up the relevant subhosts and\nservices and revoke the issued certs.\n\nDepends-On: https://review.opendev.org/700226\nChange-Id: Ib636dc528687dc67fae85c27a1571f51ae7332e7\n'}, {'number': 6, 'created': '2020-03-13 21:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0d7b6feb519835899ce32d7aca564712bc09134d', 'message': 'WIP Added scale_tasks to handle cleanup on scale down of nodes\n\nscale_down tasks will be executed when a node is scaled down to\nderegister the node with ipa and clean up the relevant subhosts and\nservices and revoke the issued certs.\n\nDepends-On: https://review.opendev.org/700226\nChange-Id: Ib636dc528687dc67fae85c27a1571f51ae7332e7\n'}, {'number': 7, 'created': '2020-03-13 21:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c7c8524a6a13bade9aac0e23b52ed92125661b3c', 'message': 'WIP Added scale_tasks to handle cleanup on scale down of nodes\n\nscale_down tasks will be executed when a node is scaled down to\nderegister the node with ipa and clean up the relevant subhosts and\nservices and revoke the issued certs.\n\nDepends-On: https://review.opendev.org/700226\nChange-Id: Ib636dc528687dc67fae85c27a1571f51ae7332e7\n'}, {'number': 8, 'created': '2020-03-26 19:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a20c95a4d8acbc36dadbae04e5c3e5f55c50a7e0', 'message': 'WIP Added scale_tasks to handle cleanup on scale down of nodes\n\nscale_down tasks will be executed when a node is scaled down to\nderegister the node with ipa and clean up the relevant subhosts and\nservices and revoke the issued certs.\n\nDepends-On: https://review.opendev.org/700226\nChange-Id: Ib636dc528687dc67fae85c27a1571f51ae7332e7\n'}, {'number': 9, 'created': '2020-03-26 19:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/09d6e23fa2253d74c1f3a267f9f5f7e3294bb5da', 'message': 'WIP Added scale_tasks to handle cleanup on scale down of nodes\n\nscale_down tasks will be executed when a node is scaled down to\nderegister the node with ipa and clean up the relevant subhosts and\nservices and revoke the issued certs.\n\nChange-Id: Ib636dc528687dc67fae85c27a1571f51ae7332e7\n'}, {'number': 10, 'created': '2020-04-03 16:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f0efa9e8438a9751e874f19dfa1222ff3cf5b832', 'message': 'WIP Added scale_tasks to handle cleanup on scale down of nodes\n\nscale_down tasks will be executed when a node is scaled down to\nderegister the node with ipa and clean up the relevant subhosts and\nservices and revoke the issued certs.\n\nChange-Id: Ib636dc528687dc67fae85c27a1571f51ae7332e7\n'}, {'number': 11, 'created': '2020-04-07 16:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a85678929e377cd7c66d428fdee02c88c3299cd', 'message': 'WIP Added scale_tasks to handle cleanup on scale down of nodes\n\nscale_down tasks will be executed when a node is scaled down to\nderegister the node with ipa and clean up the relevant subhosts and\nservices and revoke the issued certs.\n\nChange-Id: Ib636dc528687dc67fae85c27a1571f51ae7332e7\n'}, {'number': 12, 'created': '2020-04-07 18:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6726a378ddc3f60712dfe344fac91caed991333d', 'message': 'WIP Added scale_tasks to handle cleanup on scale down of nodes\n\nscale_down tasks will be executed when a node is scaled down to\nderegister the node with ipa and clean up the relevant subhosts and\nservices and revoke the issued certs.\n\nChange-Id: Ib636dc528687dc67fae85c27a1571f51ae7332e7\n'}, {'number': 13, 'created': '2020-04-07 20:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/75989ec49811e6ab0f840acbe935126780336e1a', 'message': 'Added scale_tasks to handle cleanup on scale down of nodes\n\nscale_down tasks will be executed when a node is scaled down to\nderegister the node with ipa and clean up the relevant subhosts and\nservices and revoke the issued certs.\n\nChange-Id: Ib636dc528687dc67fae85c27a1571f51ae7332e7\n'}, {'number': 14, 'created': '2020-04-08 21:56:14.000000000', 'files': ['deployment/ipa/ipaservices-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3bb9cb3a623ae4c273bbd9c055939fed089359eb', 'message': 'Added scale_tasks to handle cleanup on scale down of nodes\n\nscale_down tasks will be executed when a node is scaled down to\nderegister the node with ipa and clean up the relevant subhosts and\nservices and revoke the issued certs.\n\nChange-Id: Ib636dc528687dc67fae85c27a1571f51ae7332e7\n'}]",2,706564,3bb9cb3a623ae4c273bbd9c055939fed089359eb,65,10,14,9914,,,0,"Added scale_tasks to handle cleanup on scale down of nodes

scale_down tasks will be executed when a node is scaled down to
deregister the node with ipa and clean up the relevant subhosts and
services and revoke the issued certs.

Change-Id: Ib636dc528687dc67fae85c27a1571f51ae7332e7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/706564/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ipa/ipaservices-baremetal-ansible.yaml'],1,200c3f42a0fc8287e748121993630f9277bee748,add_standalone_tls," scale_tasks: - when: step|int == 1 tags: down environment: IPA_HOST: {get_param: IdMServer} IPA_USER: ""nova/{{ ansible_fqdn }}"" KRB5_CLIENT_KTNAME: {get_param: IdMNovaKeytab} block: - name: unregister node from ipa server include_role: name: tripleo-ipa tasks_from: deregister.yml vars: tripleo_ipa_base_server_fqdn: ""{{ fqdn_canonical }}"" tripleo_ipa_server_metadata: ""{{ service_metadata_settings | to_json }}"" ",,16,0
openstack%2Fmasakari-dashboard~master~I41b69f83bceb8d6e2cd91d7b0a52186ad3962493,openstack/masakari-dashboard,master,I41b69f83bceb8d6e2cd91d7b0a52186ad3962493,remove comment,ABANDONED,2020-08-12 19:36:39.000000000,2020-08-12 19:38:54.000000000,,[],"[{'number': 1, 'created': '2020-08-12 19:36:39.000000000', 'files': ['masakaridashboard/api/api.py'], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/2de8842d13cca9e48424eb553326eeced51fe5cb', 'message': 'remove comment\n\nChange-Id: I41b69f83bceb8d6e2cd91d7b0a52186ad3962493\n'}]",0,745957,2de8842d13cca9e48424eb553326eeced51fe5cb,2,0,1,30176,,,0,"remove comment

Change-Id: I41b69f83bceb8d6e2cd91d7b0a52186ad3962493
",git fetch https://review.opendev.org/openstack/masakari-dashboard refs/changes/57/745957/1 && git format-patch -1 --stdout FETCH_HEAD,['masakaridashboard/api/api.py'],1,2de8842d13cca9e48424eb553326eeced51fe5cb,,, # Pass interface to honor 'OPENSTACK_ENDPOINT_TYPE',0,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I48893267cc8a65ff7bdab9ee623c2925b47aeceb,openstack/tripleo-heat-templates,stable/train,I48893267cc8a65ff7bdab9ee623c2925b47aeceb,[train-only] Fix delegation with FreeIPA cleanup,ABANDONED,2020-08-12 19:26:01.000000000,2020-08-12 19:32:29.000000000,,[{'_account_id': 9954}],"[{'number': 1, 'created': '2020-08-12 19:26:01.000000000', 'files': ['deployment/ipa/ipaservices-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c8e5246aa05f77302b92b4444ab1273119b87234', 'message': '[train-only] Fix delegation with FreeIPA cleanup\n\nPreviously, we were delegating the IPA cleanup role to the undercloud\nvia localhost. This is because the keytab used to authenticate to\nFreeIPA and perform the cleanup of host entries during scale down is on\nthe undercloud. However, when using train, ansible is invoked from the\nmistral container when using `delegate_to: localhost`. In this case,\nyou\'ll end up with a privilege escalation error:\n\n  ""sudo: unable to open /run/sudo/ts/mistral: Permission denied\\nsudo: a password is required\\n"",\n\nThis is because the mistral container doesn\'t have passwordless sudo,\nresulting in a failed privilege escalation.\n\nInstead, we should make sure we delegate this task to the Undercloud,\nwhere we know the tripleo-admin user is setup properly.\n\nChange-Id: I48893267cc8a65ff7bdab9ee623c2925b47aeceb\nRelated-Bug: 1891317\n'}]",0,745952,c8e5246aa05f77302b92b4444ab1273119b87234,2,1,1,5046,,,0,"[train-only] Fix delegation with FreeIPA cleanup

Previously, we were delegating the IPA cleanup role to the undercloud
via localhost. This is because the keytab used to authenticate to
FreeIPA and perform the cleanup of host entries during scale down is on
the undercloud. However, when using train, ansible is invoked from the
mistral container when using `delegate_to: localhost`. In this case,
you'll end up with a privilege escalation error:

  ""sudo: unable to open /run/sudo/ts/mistral: Permission denied\nsudo: a password is required\n"",

This is because the mistral container doesn't have passwordless sudo,
resulting in a failed privilege escalation.

Instead, we should make sure we delegate this task to the Undercloud,
where we know the tripleo-admin user is setup properly.

Change-Id: I48893267cc8a65ff7bdab9ee623c2925b47aeceb
Related-Bug: 1891317
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/745952/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ipa/ipaservices-baremetal-ansible.yaml'],1,c8e5246aa05f77302b92b4444ab1273119b87234,, delegate_to: Undercloud, delegate_to: localhost,1,1
openstack%2Fsahara-tests~master~If36606a2aace2d6e34b716252076eef99d706cb9,openstack/sahara-tests,master,If36606a2aace2d6e34b716252076eef99d706cb9,Temporarily disable ceilometer (currently broken),MERGED,2020-08-11 22:09:51.000000000,2020-08-12 19:18:03.000000000,2020-08-12 19:15:36.000000000,"[{'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2020-08-11 22:09:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/dc388e16148636c248c76b6a76435be33c91a862', 'message': 'Temporarily disable ceilometer (currently broken)\n\nStory: 2008003\nChange-Id: If36606a2aace2d6e34b716252076eef99d706cb9\n'}]",0,745754,dc388e16148636c248c76b6a76435be33c91a862,7,2,1,10459,,,0,"Temporarily disable ceilometer (currently broken)

Story: 2008003
Change-Id: If36606a2aace2d6e34b716252076eef99d706cb9
",git fetch https://review.opendev.org/openstack/sahara-tests refs/changes/54/745754/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dc388e16148636c248c76b6a76435be33c91a862,disable-ceilometer, # - openstack/ceilometer # ceilometer: https://opendev.org/openstack/ceilometer # - openstack/ceilometer # ceilometer: https://opendev.org/openstack/ceilometer, - openstack/ceilometer ceilometer: https://opendev.org/openstack/ceilometer - openstack/ceilometer ceilometer: https://opendev.org/openstack/ceilometer,4,4
openstack%2Fkolla-ansible~master~I1ebfd8208172a1db5b10dfd682ac6192c9de99bf,openstack/kolla-ansible,master,I1ebfd8208172a1db5b10dfd682ac6192c9de99bf,[doc] add ovn plugin into globals.yml file,MERGED,2020-08-12 15:43:03.000000000,2020-08-12 19:08:52.000000000,2020-08-12 19:06:57.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-12 15:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8338cfc90ae19a6facc46fe22dc1f60e4e49f1a9', 'message': '[doc] add ovn plugin into globals.yml file\n\nwe support ovn neutron plugin agent, but the comments miss it.\n\nChange-Id: I1ebfd8208172a1db5b10dfd682ac6192c9de99bf\n'}, {'number': 2, 'created': '2020-08-12 16:36:39.000000000', 'files': ['etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f66ee6e10516ca58595ac73a57bde1eb3ad3b6e3', 'message': '[doc] add ovn plugin into globals.yml file\n\nwe support ovn neutron plugin agent, but the comments miss it.\n\nChange-Id: I1ebfd8208172a1db5b10dfd682ac6192c9de99bf\n'}]",0,745926,f66ee6e10516ca58595ac73a57bde1eb3ad3b6e3,11,3,2,26285,,,0,"[doc] add ovn plugin into globals.yml file

we support ovn neutron plugin agent, but the comments miss it.

Change-Id: I1ebfd8208172a1db5b10dfd682ac6192c9de99bf
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/26/745926/2 && git format-patch -1 --stdout FETCH_HEAD,['etc/kolla/globals.yml'],1,8338cfc90ae19a6facc46fe22dc1f60e4e49f1a9,,"# Valid options are [ openvswitch, linuxbridge, ovn, vmware_nsxv, vmware_nsxv3, vmware_dvs ]","# Valid options are [ openvswitch, linuxbridge, vmware_nsxv, vmware_nsxv3, vmware_dvs ]",1,1
openstack%2Fopenstack-helm~master~I5c625f075a27ac08c8d72c8da52ae7b85f3f202f,openstack/openstack-helm,master,I5c625f075a27ac08c8d72c8da52ae7b85f3f202f,Run other tests consequently with neutron ones for compute kit,MERGED,2020-08-12 03:00:35.000000000,2020-08-12 19:08:48.000000000,2020-08-12 19:05:34.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 03:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/19f6622efafd0d14d357f6cbc4a9f1b14469fe94', 'message': 'Run other tests consequently with neutron ones for compute kit\n\nThis allows to distribute memory spike caused by running all tests\nin parallel, decreasing a chance of oom.\n\nWas:\n--------------------- neutron tests ---------------------\n--- nova tests ---\n--- keystone tests ---\n--- glance tests ---\n\nNow:\n--------------------- neutron tests ---------------------\n--- nova tests --- --- keystone tests --- --- glance tests ---\n\nChange-Id: I5c625f075a27ac08c8d72c8da52ae7b85f3f202f\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-08-12 03:47:38.000000000', 'files': ['zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7b7d117378d046b0497645cf7671ae9f848dff52', 'message': 'Run other tests consequently with neutron ones for compute kit\n\nThis allows to distribute memory spike caused by running all tests\nin parallel, decreasing a chance of oom.\n\nWas:\n--------------------- neutron tests ---------------------\n--- nova tests ---\n--- keystone tests ---\n--- glance tests ---\n\nNow:\n--------------------- neutron tests ---------------------\n--- nova tests --- --- keystone tests --- --- glance tests ---\n\nChange-Id: I5c625f075a27ac08c8d72c8da52ae7b85f3f202f\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,745771,7b7d117378d046b0497645cf7671ae9f848dff52,14,6,2,8863,,,0,"Run other tests consequently with neutron ones for compute kit

This allows to distribute memory spike caused by running all tests
in parallel, decreasing a chance of oom.

Was:
--------------------- neutron tests ---------------------
--- nova tests ---
--- keystone tests ---
--- glance tests ---

Now:
--------------------- neutron tests ---------------------
--- nova tests --- --- keystone tests --- --- glance tests ---

Change-Id: I5c625f075a27ac08c8d72c8da52ae7b85f3f202f
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/71/745771/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs-openstack-helm.yaml'],1,19f6622efafd0d14d357f6cbc4a9f1b14469fe94,, - ./tools/deployment/common/run-helm-tests.sh nova; \ ./tools/deployment/common/run-helm-tests.sh glance; \ ./tools/deployment/common/run-helm-tests.sh keystone;, - ./tools/deployment/common/run-helm-tests.sh nova - ./tools/deployment/common/run-helm-tests.sh glance - ./tools/deployment/common/run-helm-tests.sh keystone,3,3
openstack%2Fopenstack-helm-infra~master~I907f75d0a9e5ef27fba5306ddb86199e94b01b3b,openstack/openstack-helm-infra,master,I907f75d0a9e5ef27fba5306ddb86199e94b01b3b,[ceph-osd] update post apply job,MERGED,2020-08-12 04:00:02.000000000,2020-08-12 19:05:03.000000000,2020-08-12 19:03:39.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 17119}, {'_account_id': 18511}, {'_account_id': 20469}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 29974}, {'_account_id': 32260}]","[{'number': 1, 'created': '2020-08-12 04:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e0ddd4da3709c58b31bd90d119661f96bb05fa6e', 'message': '[ceph-osd] update post apply job\n\nThe PS updates post apply job and moves execution of the command outside\nof if statement. The output of the command stored in a variable\nwhich will be checked in if statement.\n\nChange-Id: I907f75d0a9e5ef27fba5306ddb86199e94b01b3b\n'}, {'number': 2, 'created': '2020-08-12 04:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7ea59896b58629fc73974e83986dbccbbcc98ed9', 'message': '[ceph-osd] update post apply job\n\nThe PS updates post apply job and moves execution of the command outside\nof if statement. The output of the command stored in a variable\nwhich will be checked in if statement.\n\nChange-Id: I907f75d0a9e5ef27fba5306ddb86199e94b01b3b\n'}, {'number': 3, 'created': '2020-08-12 04:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cf80e8fbdb2bd68812a4601ce715630385eb4c4d', 'message': '[ceph-osd] update post apply job\n\nThe PS updates post apply job and moves execution of the command outside\nof if statement. The output of the command stored in a variable\nwhich will be checked in if statement.\n\nChange-Id: I907f75d0a9e5ef27fba5306ddb86199e94b01b3b\n'}, {'number': 4, 'created': '2020-08-12 15:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/65c09b89d808e71144963164715bc1e0bc5ffad7', 'message': '[ceph-osd] update post apply job\n\nThe PS updates post apply job and moves execution of the command outside\nof if statement. The output of the command stored in a variable\nwhich will be checked in if statement. Added ""-z"" for correct comparison\nin case when the length of the string (variable) is zero.\n\nChange-Id: I907f75d0a9e5ef27fba5306ddb86199e94b01b3b\n'}, {'number': 5, 'created': '2020-08-12 15:49:26.000000000', 'files': ['ceph-osd/templates/bin/_post-apply.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/787052a9756456239e5d144588e45f2827ccd491', 'message': '[ceph-osd] update post apply job\n\nThe PS updates post apply job and moves execution of the command outside\nof if statement. The output of the command stored in a variable\nwhich will be checked in if statement. Added ""-z"" to correct comparison\nof the length of the string (variable). It was accidentally missed in\nthe initial PS.\n\nChange-Id: I907f75d0a9e5ef27fba5306ddb86199e94b01b3b\n'}]",1,745775,787052a9756456239e5d144588e45f2827ccd491,29,10,5,17119,,,0,"[ceph-osd] update post apply job

The PS updates post apply job and moves execution of the command outside
of if statement. The output of the command stored in a variable
which will be checked in if statement. Added ""-z"" to correct comparison
of the length of the string (variable). It was accidentally missed in
the initial PS.

Change-Id: I907f75d0a9e5ef27fba5306ddb86199e94b01b3b
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/75/745775/4 && git format-patch -1 --stdout FETCH_HEAD,['ceph-osd/templates/bin/_post-apply.sh.tpl'],1,e0ddd4da3709c58b31bd90d119661f96bb05fa6e,," remaining_pods=$(kubectl get pods --namespace=""${1}"" -o json | jq -c ""${query}"") if [[ -z ""${remaining_pods}"") ]]; then"," if [[ $(kubectl get pods --namespace=""${1}"" -o json | jq -c ""${query}"") ]]; then",2,1
openstack%2Fsahara-image-elements~stable%2Fussuri~If5ea0ffdfc51860842c19f0a6f238127d42eb292,openstack/sahara-image-elements,stable/ussuri,If5ea0ffdfc51860842c19f0a6f238127d42eb292,Fix the buildimages jobs: call the ensure-tox role,MERGED,2020-08-11 08:04:20.000000000,2020-08-12 19:02:02.000000000,2020-08-12 19:02:02.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2020-08-11 08:04:20.000000000', 'files': ['tools/gate/build-images', 'playbooks/buildimages/run.yaml', 'roles/build-sahara-images-dib/tasks/main.yaml', 'roles/build-sahara-images-dib/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/1d7279bababa71246a44a2b2da0ab8edfd56f4c7', 'message': 'Fix the buildimages jobs: call the ensure-tox role\n\n... and use its output.\n\ntox is not available by default on the images anymore.\n\nChange-Id: If5ea0ffdfc51860842c19f0a6f238127d42eb292\n(cherry picked from commit 2d0c3a8b9835a5616cc0cbe45db02769342695bd)\n'}]",0,745634,1d7279bababa71246a44a2b2da0ab8edfd56f4c7,7,3,1,10459,,,0,"Fix the buildimages jobs: call the ensure-tox role

... and use its output.

tox is not available by default on the images anymore.

Change-Id: If5ea0ffdfc51860842c19f0a6f238127d42eb292
(cherry picked from commit 2d0c3a8b9835a5616cc0cbe45db02769342695bd)
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/34/745634/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/build-images', 'playbooks/buildimages/run.yaml', 'roles/build-sahara-images-dib/tasks/main.yaml', 'roles/build-sahara-images-dib/defaults/main.yaml']",4,1d7279bababa71246a44a2b2da0ab8edfd56f4c7,,tox_executable: 'tox',,8,5
openstack%2Fironic-python-agent~stable%2Ftrain~I66db457e71a0586723ee753bef961aec5bf58827,openstack/ironic-python-agent,stable/train,I66db457e71a0586723ee753bef961aec5bf58827,Fix bootloader install issue with MDRAID,MERGED,2020-08-05 09:51:09.000000000,2020-08-12 18:59:31.000000000,2020-08-12 18:57:34.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-05 09:51:09.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/fix-bootloader-install-with-mdraid-0a254035df9d0bed.yaml', 'ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6e145c2d4f3f74f940e54c3ab222ee7d6ded8d29', 'message': 'Fix bootloader install issue with MDRAID\n\nWhen no root_device hint is set, an MDRAID partition can be incorrectly\nselected as the root device which causes installation of the bootloader\nto the physical disks behind the MDRAID volume to fail. See the notes\nin the referenced Story for more detail.\n\nThis change adds a little more specificity to the listing of block\ndevices.\n\nChange-Id: I66db457e71a0586723ee753bef961aec5bf58827\nStory: 2007905\nTask: 40303\n(cherry picked from commit 5e95b1321d6e4fe5c562092d0baba73ad6d5303e)\n'}]",0,744873,6e145c2d4f3f74f940e54c3ab222ee7d6ded8d29,9,4,1,17669,,,0,"Fix bootloader install issue with MDRAID

When no root_device hint is set, an MDRAID partition can be incorrectly
selected as the root device which causes installation of the bootloader
to the physical disks behind the MDRAID volume to fail. See the notes
in the referenced Story for more detail.

This change adds a little more specificity to the listing of block
devices.

Change-Id: I66db457e71a0586723ee753bef961aec5bf58827
Story: 2007905
Task: 40303
(cherry picked from commit 5e95b1321d6e4fe5c562092d0baba73ad6d5303e)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/73/744873/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'releasenotes/notes/fix-bootloader-install-with-mdraid-0a254035df9d0bed.yaml', 'ironic_python_agent/tests/unit/test_hardware.py']",3,6e145c2d4f3f74f940e54c3ab222ee7d6ded8d29,,"# NOTE(dszumski): We include some partitions here to verify that # they are filtered out when not requested. It is assumed that # ROTA has been set to 0 on some software RAID devices for testing # purposes. In practice is appears to inherit from the underyling # devices, so in this example it would normally be 1. 'KNAME=""sda1"" MODEL=""DRIVE 0"" SIZE=""107373133824"" ' 'ROTA=""1"" TYPE=""part""\n' 'KNAME=""sdb1"" MODEL=""DRIVE 1"" SIZE=""107373133824"" ' 'ROTA=""1"" TYPE=""part""\n' 'KNAME=""md0p1"" MODEL=""RAID"" SIZE=""107236818944"" ' 'ROTA=""0"" TYPE=""md""\n' [], # list_all_block_devices raid (md) [], # list_all_block_devices raid (md) [], # list_all_block_devices raid [raid_device1_part1], # list_all_block_devices raid (md) [], # list_all_block_devices raid (md) [], # list_all_block_devices raid (type md) [], # list_all_block_devices raid (type md) [], # list_all_block_devices raid (type md)"," [raid_device1_part1], # list_all_block_devices raid",52,6
openstack%2Fpython-troveclient~master~I750434c7ebc9038b0acf0e657768f57981817e1f,openstack/python-troveclient,master,I750434c7ebc9038b0acf0e657768f57981817e1f,Fix create instance,MERGED,2020-08-12 10:29:15.000000000,2020-08-12 18:31:10.000000000,2020-08-12 18:29:59.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 10:29:15.000000000', 'files': ['troveclient/osc/v1/database_instances.py', 'troveclient/tests/osc/v1/test_database_instances.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/ac96356fd5adf017d8d188492d8ee5bda4b49017', 'message': 'Fix create instance\n\nChange-Id: I750434c7ebc9038b0acf0e657768f57981817e1f\n'}]",0,745827,ac96356fd5adf017d8d188492d8ee5bda4b49017,7,2,1,6732,,,0,"Fix create instance

Change-Id: I750434c7ebc9038b0acf0e657768f57981817e1f
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/27/745827/1 && git format-patch -1 --stdout FETCH_HEAD,"['troveclient/osc/v1/database_instances.py', 'troveclient/tests/osc/v1/test_database_instances.py']",2,ac96356fd5adf017d8d188492d8ee5bda4b49017,fix-create,"from troveclient.v1 import instances def test_instance_create_without_allowed_cidrs(self): resp = { ""id"": ""a1fea1cf-18ad-48ab-bdfd-fce99a4b834e"", ""name"": ""test-mysql"", ""status"": ""BUILD"", ""flavor"": { ""id"": ""a48ea749-7ee3-4003-8aae-eb4e79773e2d"" }, ""datastore"": { ""type"": ""mysql"", ""version"": ""5.7.29"" }, ""region"": ""RegionOne"", ""access"": { ""is_public"": True }, ""volume"": { ""size"": 1 }, ""created"": ""2020-08-12T09:41:47"", ""updated"": ""2020-08-12T09:41:47"", ""service_status_updated"": ""2020-08-12T09:41:47"" } self.instance_client.create.return_value = instances.Instance( mock.MagicMock(), resp) args = [ 'test-mysql', '--flavor', 'a48ea749-7ee3-4003-8aae-eb4e79773e2d', '--size', '1', '--datastore', ""mysql"", '--datastore-version', ""5.7.29"", '--nic', 'net-id=net1', '--is-public' ] verifylist = [ ('name', 'test-mysql'), ('flavor', 'a48ea749-7ee3-4003-8aae-eb4e79773e2d'), ('size', 1), ('datastore', ""mysql""), ('datastore_version', ""5.7.29""), ('nics', 'net-id=net1'), ('is_public', True), ('allowed_cidrs', None) ] parsed_args = self.check_parser(self.cmd, args, verifylist) columns, data = self.cmd.take_action(parsed_args) expected_columns = ( 'allowed_cidrs', 'created', 'datastore', 'datastore_version', 'flavor', 'id', 'name', 'public', 'region', 'service_status_updated', 'status', 'updated', 'volume', ) expected_values = ( [], ""2020-08-12T09:41:47"", ""mysql"", ""5.7.29"", ""a48ea749-7ee3-4003-8aae-eb4e79773e2d"", ""a1fea1cf-18ad-48ab-bdfd-fce99a4b834e"", ""test-mysql"", True, ""RegionOne"", ""2020-08-12T09:41:47"", ""BUILD"", ""2020-08-12T09:41:47"", 1, ) self.assertEqual(expected_columns, columns) self.assertEqual(expected_values, data) ",,84,1
openstack%2Fironic~master~I1355afaa551baee7b9fd7883d2d29342d059c5a0,openstack/ironic,master,I1355afaa551baee7b9fd7883d2d29342d059c5a0,Fix console auto port allocation under IPv6,MERGED,2020-08-03 15:57:31.000000000,2020-08-12 18:11:49.000000000,2020-08-12 17:41:32.000000000,"[{'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-08-03 15:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7731704a7996f51f2840f295e5e92826863b0610', 'message': '[WIP] Fix console auto port allocation under IPv6\n\nChange-Id: I1355afaa551baee7b9fd7883d2d29342d059c5a0\n'}, {'number': 2, 'created': '2020-08-05 14:49:46.000000000', 'files': ['releasenotes/notes/socat-console-port-alloc-ipv6-26760f53f86209d0.yaml', 'ironic/tests/unit/drivers/modules/test_console_utils.py', 'ironic/drivers/modules/ipmitool.py', 'ironic/drivers/modules/console_utils.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/07a7a269bb34702d1922fe58b98c209674c08e33', 'message': 'Fix console auto port allocation under IPv6\n\nBy default _verify_port() only works for IPv4 network, the same port can be\nallocated to multiple nodes in a IPv6 network because the port checking\npassed and be used for other nodes.\n\nThis fix passes the socat_address to the port validation and use the\ncorrect address family to do the socket binding.\n\nStory: 2007946\nTask: 40412\n\nChange-Id: I1355afaa551baee7b9fd7883d2d29342d059c5a0\n'}]",0,744518,07a7a269bb34702d1922fe58b98c209674c08e33,17,6,2,24828,,,0,"Fix console auto port allocation under IPv6

By default _verify_port() only works for IPv4 network, the same port can be
allocated to multiple nodes in a IPv6 network because the port checking
passed and be used for other nodes.

This fix passes the socat_address to the port validation and use the
correct address family to do the socket binding.

Story: 2007946
Task: 40412

Change-Id: I1355afaa551baee7b9fd7883d2d29342d059c5a0
",git fetch https://review.opendev.org/openstack/ironic refs/changes/18/744518/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ipmitool.py', 'ironic/drivers/modules/console_utils.py']",2,7731704a7996f51f2840f295e5e92826863b0610,2007946,"def _verify_port(port, host=None): ip_version = None if host is not None: try: ip_version = ipaddress.ip_address(host) except ValueError: # Assume it's a hostname pass else: host = CONF.host if ip_version == 6: s = socket.socket(socket.AF_INET6) else: s = socket.socket() try: s.bind((host, port))def acquire_port(host=None): _verify_port(port, host=host)","def _verify_port(port): s = socket.socket() try: s.bind((CONF.host, port))def acquire_port(): _verify_port(port)",22,8
openstack%2Fkolla-ansible~stable%2Ftrain~Ifbd37d8addd4322773118e2e9d46494741a8ae66,openstack/kolla-ansible,stable/train,Ifbd37d8addd4322773118e2e9d46494741a8ae66,[CI] Temporarily block new Ansible,MERGED,2020-08-12 08:36:39.000000000,2020-08-12 18:09:34.000000000,2020-08-12 18:08:27.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-12 08:36:39.000000000', 'files': ['tests/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cf733fdde6a9c23ecc875a4c7c06bf32ff41b826', 'message': '[CI] Temporarily block new Ansible\n\nThe proper fix [1] needs fixing older branches before newer.\nThis one allows to fix CI first, in the usual order.\n\nTo revert after [1] gets merged in all relevant branches.\n\n[1] https://review.opendev.org/745648\n\nChange-Id: Ifbd37d8addd4322773118e2e9d46494741a8ae66\nRelated-Bug: #1891145\n(cherry picked from commit b2a30ab500c6601987b2943eeed3430072a12bf5)\n'}]",0,745805,cf733fdde6a9c23ecc875a4c7c06bf32ff41b826,13,5,1,30491,,,0,"[CI] Temporarily block new Ansible

The proper fix [1] needs fixing older branches before newer.
This one allows to fix CI first, in the usual order.

To revert after [1] gets merged in all relevant branches.

[1] https://review.opendev.org/745648

Change-Id: Ifbd37d8addd4322773118e2e9d46494741a8ae66
Related-Bug: #1891145
(cherry picked from commit b2a30ab500c6601987b2943eeed3430072a12bf5)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/05/745805/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/run.yml'],1,cf733fdde6a9c23ecc875a4c7c06bf32ff41b826,ci-pin-ansible-stable/train," ansible_version_constraint: ""{{ '<2.10,!=2.9.12' if ansible_version_latest else '<2.7' }}"""," ansible_version_constraint: ""{{ '<2.10' if ansible_version_latest else '<2.7' }}""",1,1
openstack%2Fpuppet-manila~master~I3891e8278c5b4a08d1baf435adede425498c3652,openstack/puppet-manila,master,I3891e8278c5b4a08d1baf435adede425498c3652,Fix deprecated netapp option,MERGED,2020-08-12 00:51:28.000000000,2020-08-12 18:00:36.000000000,2020-08-12 17:59:30.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 00:51:28.000000000', 'files': ['manifests/share/netapp.pp', 'spec/classes/manila_share_netapp_spec.rb', 'releasenotes/notes/cleanup-netapp-deprecation-6951452b46357d22.yaml', 'spec/defines/manila_backend_netapp_spec.rb', 'manifests/backend/netapp.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/d338064529759ba4aa047813a9fd20568f821d35', 'message': 'Fix deprecated netapp option\n\n""netapp_root_volume_name"" is a deprecated\nreference to ""netapp_root_volume"" and the\nfallback path is being removed [1]\n\n[1] https://review.opendev.org/745206/\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\nChange-Id: I3891e8278c5b4a08d1baf435adede425498c3652\n'}]",2,745767,d338064529759ba4aa047813a9fd20568f821d35,9,3,1,16643,,,0,"Fix deprecated netapp option

""netapp_root_volume_name"" is a deprecated
reference to ""netapp_root_volume"" and the
fallback path is being removed [1]

[1] https://review.opendev.org/745206/
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
Change-Id: I3891e8278c5b4a08d1baf435adede425498c3652
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/67/745767/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/share/netapp.pp', 'spec/classes/manila_share_netapp_spec.rb', 'releasenotes/notes/cleanup-netapp-deprecation-6951452b46357d22.yaml', 'spec/defines/manila_backend_netapp_spec.rb', 'manifests/backend/netapp.pp']",5,d338064529759ba4aa047813a9fd20568f821d35,cleanup-deprecations,"# [*netapp_root_volume*]# Defaults to $::os_service_default# # === DEPRECATED PARAMETERS # # [*netapp_root_volume_name*] # (optional) Root volume name. This option only applies when the option # driver_handles_share_servers is set to True. # Defaults to undef # $netapp_root_volume = $::os_service_default, # DEPRECATED PARAMETERS $netapp_root_volume_name = undef, if $netapp_root_volume_name { warning('The netapp_root_volume_name parameter is deprecated, use netapp_root_volume instead.') } $netapp_root_volume_real = pick($netapp_root_volume_name, $netapp_root_volume) ""${share_backend_name}/netapp_root_volume"": value => $netapp_root_volume_real;","# [*netapp_root_volume_name*]# Defaults to root $netapp_root_volume_name = 'root', ""${share_backend_name}/netapp_root_volume_name"": value => $netapp_root_volume_name;",52,10
openstack%2Fopenstack-ansible-os_heat~stable%2Fussuri~I1485160f330fa289e02874e9286cf7a27009ea76,openstack/openstack-ansible-os_heat,stable/ussuri,I1485160f330fa289e02874e9286cf7a27009ea76,Simplify service creation,MERGED,2020-08-12 12:54:29.000000000,2020-08-12 17:58:32.000000000,2020-08-12 17:57:23.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-12 12:54:29.000000000', 'files': ['tasks/heat_service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/037521a3c5051cd0a5534625d7dd38384ee89aa6', 'message': ""Simplify service creation\n\nSince ansible feature has been implemented and we can reference\nopenstack domain with it's name but not only id,\nwe can simplify service creation task.\n\nChange-Id: I1485160f330fa289e02874e9286cf7a27009ea76\n(cherry picked from commit 2878de0578f9a03cd9c9d0730c40693762a32f64)\n""}]",0,745880,037521a3c5051cd0a5534625d7dd38384ee89aa6,8,3,1,25023,,,0,"Simplify service creation

Since ansible feature has been implemented and we can reference
openstack domain with it's name but not only id,
we can simplify service creation task.

Change-Id: I1485160f330fa289e02874e9286cf7a27009ea76
(cherry picked from commit 2878de0578f9a03cd9c9d0730c40693762a32f64)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/80/745880/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/heat_service_setup.yml'],1,037521a3c5051cd0a5534625d7dd38384ee89aa6,," _domain_name: ""{{ heat_stack_user_domain_name }}"" _domain_name_description: ""{{ heat_stack_domain_description }}"" domain: ""{{ heat_stack_user_domain_name }}""","# NOTE (noonedeadpunk) We can't move domain creation inside service_setup.yml # since for role assignment we need to provide ID of created domain instead of # domain name (which we have). This might be dropped right after backport of # https://github.com/ansible/ansible/commit/737da1853ef2239e27a2fe380c3e83ba5b34de5b - name: Setup the service delegate_to: ""{{ heat_service_setup_host }}"" vars: ansible_python_interpreter: ""{{ heat_service_setup_host_python_interpreter }}"" os_keystone_domain: cloud: default state: present name: ""{{ heat_stack_user_domain_name }}"" endpoint_type: admin verify: ""{{ not keystone_service_adminuri_insecure }}"" register: add_stack_user_domain until: add_stack_user_domain is success retries: 5 delay: 10 domain: ""{{ add_stack_user_domain.id }}""",3,20
openstack%2Fopenstack-ansible-os_trove~master~I2edce5e48d0a1009841bdcdc9c75f84ad14b5c2e,openstack/openstack-ansible-os_trove,master,I2edce5e48d0a1009841bdcdc9c75f84ad14b5c2e,Updated from OpenStack Ansible Tests,MERGED,2020-08-12 11:35:43.000000000,2020-08-12 17:28:45.000000000,2020-08-12 17:27:38.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-12 11:35:43.000000000', 'files': ['tasks/service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/e64fb69561c613ab6977d4138541389b7f58c258', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I2edce5e48d0a1009841bdcdc9c75f84ad14b5c2e\n'}]",0,745865,e64fb69561c613ab6977d4138541389b7f58c258,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I2edce5e48d0a1009841bdcdc9c75f84ad14b5c2e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/65/745865/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/service_setup.yml'],1,e64fb69561c613ab6977d4138541389b7f58c258,openstack/openstack-ansible-tests/sync-tests," description: ""{{ _domain_name_description | default(omit) }}""",,1,0
openstack%2Fopenstack-ansible-os_masakari~master~Id99c17840f56e7ff9508248c8ef19047449d1643,openstack/openstack-ansible-os_masakari,master,Id99c17840f56e7ff9508248c8ef19047449d1643,Updated from OpenStack Ansible Tests,MERGED,2020-08-12 11:33:55.000000000,2020-08-12 17:08:58.000000000,2020-08-12 17:07:36.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-12 11:33:55.000000000', 'files': ['tasks/service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/6dcd13a98807c1cbf481d2a0d6294314466d2cb2', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Id99c17840f56e7ff9508248c8ef19047449d1643\n'}]",0,745852,6dcd13a98807c1cbf481d2a0d6294314466d2cb2,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Id99c17840f56e7ff9508248c8ef19047449d1643
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/52/745852/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/service_setup.yml'],1,6dcd13a98807c1cbf481d2a0d6294314466d2cb2,openstack/openstack-ansible-tests/sync-tests," description: ""{{ _domain_name_description | default(omit) }}""",,1,0
openstack%2Fcinder~master~I91b952dd04206b01be9017321110251968530f2b,openstack/cinder,master,I91b952dd04206b01be9017321110251968530f2b,Add online extend support for Dell EMC PowerStore driver,MERGED,2020-08-01 17:38:26.000000000,2020-08-12 17:06:33.000000000,2020-08-12 17:04:37.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7160}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10379}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13671}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 31016}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-08-01 17:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/94936301d0b3fd9f7016007451345670811cdac0', 'message': 'Add online extend support for Dell EMC PowerStore driver\n\nSince bug #17720636 has been resolved we can now declare that PowerStore driver\nsupports online volume extension.\n\nChange-Id: I91b952dd04206b01be9017321110251968530f2b\n'}, {'number': 2, 'created': '2020-08-01 17:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7c6c2b9e822e8b91d8728e6a4cec689c8537e2c8', 'message': 'Add online extend support for Dell EMC PowerStore driver\n\nSince bug #1793259 has been resolved we can now declare that PowerStore \ndriver supports online volume extension.\n\nChange-Id: I91b952dd04206b01be9017321110251968530f2b\n'}, {'number': 3, 'created': '2020-08-01 17:46:06.000000000', 'files': ['doc/source/reference/support-matrix.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c5bf313686bb91d689c87f231b411a424910da1e', 'message': 'Add online extend support for Dell EMC PowerStore driver\n\nSince bug #1793259 has been resolved we can now declare that PowerStore\ndriver supports online volume extension.\n\nChange-Id: I91b952dd04206b01be9017321110251968530f2b\n'}]",1,744285,c5bf313686bb91d689c87f231b411a424910da1e,58,33,3,31016,,,0,"Add online extend support for Dell EMC PowerStore driver

Since bug #1793259 has been resolved we can now declare that PowerStore
driver supports online volume extension.

Change-Id: I91b952dd04206b01be9017321110251968530f2b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/85/744285/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/support-matrix.ini'],1,94936301d0b3fd9f7016007451345670811cdac0,bug/1793259,driver.dell_emc_powerstore=complete,driver.dell_emc_powerstore=missing,1,1
openstack%2Fgovernance~master~Ic6db62499e379cc6b1233739d9d563cf8a8451d2,openstack/governance,master,Ic6db62499e379cc6b1233739d9d563cf8a8451d2,Pierre Riteau as CloudKitty PTL for Victoria,MERGED,2020-08-11 11:05:19.000000000,2020-08-12 17:05:04.000000000,2020-08-12 17:03:27.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 13995}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 16465}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-11 11:05:19.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/56442877d64dfd24453936562c1e10099dff0bf4', 'message': 'Pierre Riteau as CloudKitty PTL for Victoria\n\nCloudKitty review and development activity died in 2020 after the\nVictoria cycle started, possibly related to economic reasons.\n\nA new group of volunteers stepped up (Rafael Weingartner, Luis\nRamirez, Pierre Riteau...) to take over.\n\nPierre being the most experienced of the group, I suggest we add\nhim as PTL and core reviewer, so that he can add others as needed.\n\nChange-Id: Ic6db62499e379cc6b1233739d9d563cf8a8451d2\n'}]",0,745653,56442877d64dfd24453936562c1e10099dff0bf4,19,12,1,308,,,0,"Pierre Riteau as CloudKitty PTL for Victoria

CloudKitty review and development activity died in 2020 after the
Victoria cycle started, possibly related to economic reasons.

A new group of volunteers stepped up (Rafael Weingartner, Luis
Ramirez, Pierre Riteau...) to take over.

Pierre being the most experienced of the group, I suggest we add
him as PTL and core reviewer, so that he can add others as needed.

Change-Id: Ic6db62499e379cc6b1233739d9d563cf8a8451d2
",git fetch https://review.opendev.org/openstack/governance refs/changes/53/745653/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,56442877d64dfd24453936562c1e10099dff0bf4,formal-vote, name: Pierre Riteau irc: priteau email: pierre@stackhpc.com, name: Justin Ferrieu irc: jferrieu email: justin.ferrieu@objectif-libre.com,3,3
openstack%2Ftripleo-common~stable%2Ftrain~I7418ea45d89dd0da7ac39193200f47563acab4cb,openstack/tripleo-common,stable/train,I7418ea45d89dd0da7ac39193200f47563acab4cb,Correct the inventory generation,MERGED,2020-08-11 20:03:32.000000000,2020-08-12 16:57:55.000000000,2020-08-12 16:55:11.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-11 20:03:32.000000000', 'files': ['tripleo_common/tests/inventory_data/merged_static.yaml', 'tripleo_common/inventories.py', 'tripleo_common/tests/inventory_data/single_dynamic.json', 'tripleo_common/tests/inventory_data/merged_dynamic.json', 'tripleo_common/tests/test_inventories.py', 'tripleo_common/tests/inventory_data/single_static.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a51595922721eec1e155b88310068d1f7b1aa5a8', 'message': 'Correct the inventory generation\n\nThe missing quotes didn\'t trigger anything since ""vars"" is representing\nthe vars() method...\nAdding the missing quotes allows to actually get the injected host\nvariables in the inventory, among them the well needed ""container_cli""\nfor the validations.\n\nThis patch also makes a huge update in the different inline dict, in\norder to make them more human readable. This should help for further\neditions.\n\nCloses-Bug: #1889635\nChange-Id: I7418ea45d89dd0da7ac39193200f47563acab4cb\n(cherry picked from commit e2613f0317721cf8231fe6a5a27f29f555b50a69)\n'}]",0,745732,a51595922721eec1e155b88310068d1f7b1aa5a8,9,5,1,3153,,,0,"Correct the inventory generation

The missing quotes didn't trigger anything since ""vars"" is representing
the vars() method...
Adding the missing quotes allows to actually get the injected host
variables in the inventory, among them the well needed ""container_cli""
for the validations.

This patch also makes a huge update in the different inline dict, in
order to make them more human readable. This should help for further
editions.

Closes-Bug: #1889635
Change-Id: I7418ea45d89dd0da7ac39193200f47563acab4cb
(cherry picked from commit e2613f0317721cf8231fe6a5a27f29f555b50a69)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/32/745732/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/inventory_data/merged_static.yaml', 'tripleo_common/inventories.py', 'tripleo_common/tests/inventory_data/merged_dynamic.json', 'tripleo_common/tests/inventory_data/single_dynamic.json', 'tripleo_common/tests/test_inventories.py', 'tripleo_common/tests/inventory_data/single_static.yaml']",6,a51595922721eec1e155b88310068d1f7b1aa5a8,train/1889635, vars: container_cli: podman ctlplane_vip: 192.168.24.7 external_vip: 10.0.0.5 internal_api_vip: 172.16.2.164 redis_vip: 172.16.2.196 storage_mgmt_vip: 172.16.3.44 storage_vip: 172.16.1.147 vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin vars: ansible_ssh_user: heat-admin,,858,140
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I8dbfafebacf53e7b8ba587b3dd75f976b830b077,openstack/tripleo-heat-templates,stable/train,I8dbfafebacf53e7b8ba587b3dd75f976b830b077,Port jobs from centos7 to centos8,MERGED,2020-07-23 05:16:48.000000000,2020-08-12 16:55:19.000000000,2020-08-12 16:55:18.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-23 05:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/666e3ed65efb38721bd440060d2f139a81545524', 'message': '[WIP] Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8\n\nFew jobs having c8 version is not available yet\nso those jobs are keep as is.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447274\n\nDepends-On: https://review.opendev.org/#/c/738375/\n\nChange-Id: I8dbfafebacf53e7b8ba587b3dd75f976b830b077\nSigned-off-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 2, 'created': '2020-07-23 06:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5f4fdc9558ec1ffacfe481cfe58f8010e00959a8', 'message': '[WIP] Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8\n\nFew jobs having c8 version is not available yet\nso those jobs are keep as is.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447274\n\nDepends-On: https://review.opendev.org/#/c/738375/\n\nChange-Id: I8dbfafebacf53e7b8ba587b3dd75f976b830b077\nSigned-off-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 3, 'created': '2020-07-24 12:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d40189230a519502e3921ace1bc356f447c08740', 'message': '[WIP] Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8\n\nThis patch removed few jobs as below:\n\nJob list:\n\n1. tripleo-ci-centos-7-standalone-upgrade-stein: As this job does\n   rocky to stein upgrade not sure why this is on train branch,\n   looks like maybe left over from when the train branch was made.\n2. tripleo-ci-centos-7-scenario010-multinode-oooq-container: As fs038\n   is used in stein & queens, is replaced with standalone sc10 for\n   octavia testing.\n3. tripleo-ci-centos-7-scenario011-multinode-oooq-container: Here in [1]\n   mentioned fs044 but that is not present at [2]\n4. tripleo-ci-centos-7-scenario006-multinode-oooq-container: This job never\n   run successfully [3]. It is a validation specific job [4].\n   Will need more discussion on it as of now removing this and will\n   repropose it in future.\n\n[1]: https://opendev.org/openstack/tripleo-ci/src/branch/master/zuul.d/multinode-jobs.yaml#L529\n[2]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config\n[3]: https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario006-multinode-oooq-container\n[4]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config/featureset006.yml\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447274\n\nDepends-On: https://review.opendev.org/#/c/738375/\n\nChange-Id: I8dbfafebacf53e7b8ba587b3dd75f976b830b077\nSigned-off-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 4, 'created': '2020-07-24 12:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1c0b72e5d2716a9afed7f93f3f102135eb1e2f57', 'message': 'Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8.\n\nThis patch also removed few jobs which are given below:\n\nJob list:\n\n1. tripleo-ci-centos-7-standalone-upgrade-stein: As this job does\n   rocky to stein upgrade not sure why this is on train branch,\n   looks like maybe left over from when the train branch was made.\n2. tripleo-ci-centos-7-scenario010-multinode-oooq-container: As fs038\n   is used in stein & queens, is replaced with standalone sc10 for\n   octavia testing.\n3. tripleo-ci-centos-7-scenario011-multinode-oooq-container: Here in [1]\n   mentioned fs044 but that is not present at [2]\n4. tripleo-ci-centos-7-scenario006-multinode-oooq-container: This job never\n   run successfully [3]. It is a validation specific job [4].\n   Will need more discussion on it as of now removing this and will\n   repropose it in future.\n\n[1]: https://opendev.org/openstack/tripleo-ci/src/branch/master/zuul.d/multinode-jobs.yaml#L529\n[2]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config\n[3]: https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario006-multinode-oooq-container\n[4]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config/featureset006.yml\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447274\n\nDepends-On: https://review.opendev.org/#/c/738375/\n\nChange-Id: I8dbfafebacf53e7b8ba587b3dd75f976b830b077\nSigned-off-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 5, 'created': '2020-07-28 05:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e14e48ef968df1e1253d26cbb19c17e53f5265f5', 'message': 'Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8.\n\nThis patch also removed few jobs which are given below:\n\nJob list:\n\n1. tripleo-ci-centos-7-standalone-upgrade-stein: As this job does\n   rocky to stein upgrade not sure why this is on train branch,\n   looks like maybe left over from when the train branch was made.\n2. tripleo-ci-centos-7-scenario010-multinode-oooq-container: As fs038\n   is used in stein & queens, is replaced with standalone sc10 for\n   octavia testing.\n3. tripleo-ci-centos-7-scenario011-multinode-oooq-container: Here in [1]\n   mentioned fs044 but that is not present at [2]\n4. tripleo-ci-centos-7-scenario006-multinode-oooq-container: This job never\n   run successfully [3]. It is a validation specific job [4].\n   Will need more discussion on it as of now removing this and will\n   repropose it in future.\n\n[1]: https://opendev.org/openstack/tripleo-ci/src/branch/master/zuul.d/multinode-jobs.yaml#L529\n[2]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config\n[3]: https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario006-multinode-oooq-container\n[4]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config/featureset006.yml\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447274\n\nDepends-On: https://review.opendev.org/#/c/738375/\nDepends-On: https://review.opendev.org/#/c/743455/\n\nChange-Id: I8dbfafebacf53e7b8ba587b3dd75f976b830b077\nSigned-off-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 6, 'created': '2020-07-30 04:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d514667371b3d8e180b4fb38bb358fcfb56a6652', 'message': '[WIP] Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8\n\nThis patch removed few jobs as below:\n\nJob list:\n\n1. tripleo-ci-centos-7-standalone-upgrade-stein: As this job does\n   rocky to stein upgrade not sure why this is on train branch,\n   looks like maybe left over from when the train branch was made.\n2. tripleo-ci-centos-7-scenario010-multinode-oooq-container: As fs038\n   is used in stein & queens, is replaced with standalone sc10 for\n   octavia testing.\n3. tripleo-ci-centos-7-scenario011-multinode-oooq-container: Here in [1]\n   mentioned fs044 but that is not present at [2]\n4. tripleo-ci-centos-7-scenario006-multinode-oooq-container: This job never\n   run successfully [3]. It is a validation specific job [4].\n   Will need more discussion on it as of now removing this and will\n   repropose it in future.\n\nHere we are keeping c7 multinode containers job to\nmaintain c7 coverage.\n\n[1]: https://opendev.org/openstack/tripleo-ci/src/branch/master/zuul.d/multinode-jobs.yaml#L529\n[2]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config\n[3]: https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario006-multinode-oooq-container\n[4]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config/featureset006.yml\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447274\n\nDepends-On: https://review.opendev.org/#/c/738375/\n\nChange-Id: I8dbfafebacf53e7b8ba587b3dd75f976b830b077\nSigned-off-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 7, 'created': '2020-07-30 04:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/95bbc3ec2fb6b5fb3e28a8856ec1f96a9541373c', 'message': 'Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8.\n\nThis patch also removed few jobs which are given below:\n\nJob list:\n\n1. tripleo-ci-centos-7-standalone-upgrade-stein: As this job does\n   rocky to stein upgrade not sure why this is on train branch,\n   looks like maybe left over from when the train branch was made.\n2. tripleo-ci-centos-7-scenario010-multinode-oooq-container: As fs038\n   is used in stein & queens, is replaced with standalone sc10 for\n   octavia testing.\n3. tripleo-ci-centos-7-scenario011-multinode-oooq-container: Here in [1]\n   mentioned fs044 but that is not present at [2]\n4. tripleo-ci-centos-7-scenario006-multinode-oooq-container: This job never\n   run successfully [3]. It is a validation specific job [4].\n   Will need more discussion on it as of now removing this and will\n   repropose it in future.\n\nHere we are keeping c7 multinode containers job to\nmaintain c7 coverage.\n\n[1]: https://opendev.org/openstack/tripleo-ci/src/branch/master/zuul.d/multinode-jobs.yaml#L529\n[2]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config\n[3]: https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario006-multinode-oooq-container\n[4]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config/featureset006.yml\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447274\n\nDepends-On: https://review.opendev.org/#/c/738375/\nDepends-On: https://review.opendev.org/#/c/743455/\n\nChange-Id: I8dbfafebacf53e7b8ba587b3dd75f976b830b077\nSigned-off-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 8, 'created': '2020-07-30 05:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b97b240bdf01e9a38d50bdae2621e20588d95000', 'message': 'Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8.\n\nThis patch also removed few jobs which are given below:\n\nJob list:\n\n1. tripleo-ci-centos-7-standalone-upgrade-stein: As this job does\n   rocky to stein upgrade not sure why this is on train branch,\n   looks like maybe left over from when the train branch was made.\n2. tripleo-ci-centos-7-scenario010-multinode-oooq-container: As fs038\n   is used in stein & queens, is replaced with standalone sc10 for\n   octavia testing.\n3. tripleo-ci-centos-7-scenario011-multinode-oooq-container: Here in [1]\n   mentioned fs044 but that is not present at [2]\n4. tripleo-ci-centos-7-scenario006-multinode-oooq-container: This job never\n   run successfully [3]. It is a validation specific job [4].\n   Will need more discussion on it as of now removing this and will\n   repropose it in future.\n\nHere we are keeping c7 multinode containers job to\nmaintain c7 coverage.\n\n[1]: https://opendev.org/openstack/tripleo-ci/src/branch/master/zuul.d/multinode-jobs.yaml#L529\n[2]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config\n[3]: https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario006-multinode-oooq-container\n[4]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config/featureset006.yml\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447274\n\nDepends-On: https://review.opendev.org/#/c/738375/\nDepends-On: https://review.opendev.org/#/c/743455/\n\nChange-Id: I8dbfafebacf53e7b8ba587b3dd75f976b830b077\nSigned-off-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 9, 'created': '2020-07-30 05:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a18349293f6f26d8be331f38aed127869b7f69d0', 'message': 'Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8.\n\nThis patch also removed few jobs which are given below:\n\nJob list:\n\n1. tripleo-ci-centos-7-standalone-upgrade-stein: As this job does\n   rocky to stein upgrade not sure why this is on train branch,\n   looks like maybe left over from when the train branch was made.\n2. tripleo-ci-centos-7-scenario010-multinode-oooq-container: As fs038\n   is used in stein & queens, is replaced with standalone sc10 for\n   octavia testing.\n3. tripleo-ci-centos-7-scenario011-multinode-oooq-container: Here in [1]\n   mentioned fs044 but that is not present at [2]\n4. tripleo-ci-centos-7-scenario006-multinode-oooq-container: This job never\n   run successfully [3]. It is a validation specific job [4].\n   Will need more discussion on it as of now removing this and will\n   repropose it in future.\n\nHere we are keeping c7 multinode containers job to\nmaintain c7 coverage.\n\n[1]: https://opendev.org/openstack/tripleo-ci/src/branch/master/zuul.d/multinode-jobs.yaml#L529\n[2]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config\n[3]: https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario006-multinode-oooq-container\n[4]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config/featureset006.yml\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447274\n\nDepends-On: https://review.opendev.org/#/c/738375/\nDepends-On: https://review.opendev.org/#/c/743455/\n\nChange-Id: I8dbfafebacf53e7b8ba587b3dd75f976b830b077\nSigned-off-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 10, 'created': '2020-07-30 14:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5b35b67901e0c3b8763dc7ca474ce2659da5aa7f', 'message': 'Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8.\n\nThis patch also removed few jobs which are given below:\n\nJob list:\n\n1. tripleo-ci-centos-7-standalone-upgrade-stein: As this job does\n   rocky to stein upgrade not sure why this is on train branch,\n   looks like maybe left over from when the train branch was made.\n2. tripleo-ci-centos-7-scenario010-multinode-oooq-container: As fs038\n   is used in stein & queens, is replaced with standalone sc10 for\n   octavia testing.\n3. tripleo-ci-centos-7-scenario011-multinode-oooq-container: Here in [1]\n   mentioned fs044 but that is not present at [2]\n4. tripleo-ci-centos-7-scenario006-multinode-oooq-container: This job never\n   run successfully [3]. It is a validation specific job [4].\n   Will need more discussion on it as of now removing this and will\n   repropose it in future.\n\nHere we are keeping c7 multinode containers job and upgrade job to\nmaintain c7 coverage.\n\n[1]: https://opendev.org/openstack/tripleo-ci/src/branch/master/zuul.d/multinode-jobs.yaml#L529\n[2]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config\n[3]: https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario006-multinode-oooq-container\n[4]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config/featureset006.yml\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447274\n\nDepends-On: https://review.opendev.org/#/c/738375/\nDepends-On: https://review.opendev.org/#/c/743455/\nDepends-On: https://review.opendev.org/#/c/743959/\n\nChange-Id: I8dbfafebacf53e7b8ba587b3dd75f976b830b077\nSigned-off-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 11, 'created': '2020-07-31 07:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/99de12fc2ec05e7a7e58b058e08b061f72313d92', 'message': 'Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8.\n\nThis patch also removed few jobs which are given below:\n\nJob list:\n\n1. tripleo-ci-centos-7-standalone-upgrade-stein: As this job does\n   rocky to stein upgrade not sure why this is on train branch,\n   looks like maybe left over from when the train branch was made.\n2. tripleo-ci-centos-7-scenario010-multinode-oooq-container: As fs038\n   is used in stein & queens, is replaced with standalone sc10 for\n   octavia testing.\n3. tripleo-ci-centos-7-scenario011-multinode-oooq-container: Here in [1]\n   mentioned fs044 but that is not present at [2]\n4. tripleo-ci-centos-7-scenario006-multinode-oooq-container: This job never\n   run successfully [3]. It is a validation specific job [4].\n   Will need more discussion on it as of now removing this and will\n   repropose it in future.\n\nHere we are keeping c7 multinode containers job and upgrade job to\nmaintain c7 coverage.\n\n[1]: https://opendev.org/openstack/tripleo-ci/src/branch/master/zuul.d/multinode-jobs.yaml#L529\n[2]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config\n[3]: https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario006-multinode-oooq-container\n[4]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config/featureset006.yml\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447274\n\nDepends-On: https://review.opendev.org/#/c/738375/\n\nChange-Id: I8dbfafebacf53e7b8ba587b3dd75f976b830b077\nSigned-off-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 12, 'created': '2020-08-03 11:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5350ac7fd994ecbde68679f43ab2ec3d4a536add', 'message': 'Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8.\n\nThis patch also removed few jobs which are given below:\n\nJob list:\n\n1. tripleo-ci-centos-7-standalone-upgrade-stein: As this job does\n   rocky to stein upgrade not sure why this is on train branch,\n   looks like maybe left over from when the train branch was made.\n2. tripleo-ci-centos-7-scenario010-multinode-oooq-container: As fs038\n   is used in stein & queens, is replaced with standalone sc10 for\n   octavia testing.\n3. tripleo-ci-centos-7-scenario011-multinode-oooq-container: Here in [1]\n   mentioned fs044 but that is not present at [2]\n4. tripleo-ci-centos-7-scenario006-multinode-oooq-container: This job never\n   run successfully [3]. It is a validation specific job [4].\n   Will need more discussion on it as of now removing this and will\n   repropose it in future.\n\nHere we are keeping c7 multinode containers job and upgrade job to\nmaintain c7 coverage.\n\n[1]: https://opendev.org/openstack/tripleo-ci/src/branch/master/zuul.d/multinode-jobs.yaml#L529\n[2]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config\n[3]: https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario006-multinode-oooq-container\n[4]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config/featureset006.yml\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447274\n\nDepends-On: https://review.opendev.org/#/c/738375/\nDepends-On: https://review.opendev.org/#/c/743455/\nDepends-On: https://review.opendev.org/#/c/743959/\n\nChange-Id: I8dbfafebacf53e7b8ba587b3dd75f976b830b077\nSigned-off-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 13, 'created': '2020-08-04 09:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/670c59f9f2d48a64f583e05efc4c1798d671341f', 'message': 'Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8.\n\nThis patch also removed few jobs which are given below:\n\nJob list:\n\n1. tripleo-ci-centos-7-standalone-upgrade-stein: As this job does\n   rocky to stein upgrade not sure why this is on train branch,\n   looks like maybe left over from when the train branch was made.\n2. tripleo-ci-centos-7-scenario010-multinode-oooq-container: As fs038\n   is used in stein & queens, is replaced with standalone sc10 for\n   octavia testing.\n3. tripleo-ci-centos-7-scenario011-multinode-oooq-container: Here in [1]\n   mentioned fs044 but that is not present at [2]\n4. tripleo-ci-centos-7-scenario006-multinode-oooq-container: This job never\n   run successfully [3]. It is a validation specific job [4].\n   Will need more discussion on it as of now removing this and will\n   repropose it in future.\n\nHere we are keeping c7 multinode containers job and upgrade job to\nmaintain c7 coverage.\n\n[1]: https://opendev.org/openstack/tripleo-ci/src/branch/master/zuul.d/multinode-jobs.yaml#L529\n[2]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config\n[3]: https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario006-multinode-oooq-container\n[4]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config/featureset006.yml\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447274\n\nChange-Id: I8dbfafebacf53e7b8ba587b3dd75f976b830b077\nSigned-off-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 14, 'created': '2020-08-11 04:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/746e33a3fc9c871b9063ee06a5c2cd6420256b7a', 'message': 'Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8.\n\nThis patch also removed few jobs which are given below:\n\nJob list:\n\n1. tripleo-ci-centos-7-standalone-upgrade-stein: As this job does\n   rocky to stein upgrade not sure why this is on train branch,\n   looks like maybe left over from when the train branch was made.\n2. tripleo-ci-centos-7-scenario010-multinode-oooq-container: As fs038\n   is used in stein & queens, is replaced with standalone sc10 for\n   octavia testing.\n3. tripleo-ci-centos-7-scenario011-multinode-oooq-container: Here in [1]\n   mentioned fs044 but that is not present at [2]\n4. tripleo-ci-centos-7-scenario006-multinode-oooq-container: This job never\n   run successfully [3]. It is a validation specific job [4].\n   Will need more discussion on it as of now removing this and will\n   repropose it in future.\n\nHere we are keeping c7 multinode containers job and upgrade job to\nmaintain c7 coverage.\n\n[1]: https://opendev.org/openstack/tripleo-ci/src/branch/master/zuul.d/multinode-jobs.yaml#L529\n[2]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config\n[3]: https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario006-multinode-oooq-container\n[4]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config/featureset006.yml\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447274\n\nChange-Id: I8dbfafebacf53e7b8ba587b3dd75f976b830b077\nSigned-off-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 15, 'created': '2020-08-11 06:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e23bcf071c9a756f6655fdddffca848a6bde5bcf', 'message': 'Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8.\n\nThis patch also removed few jobs which are given below:\n\nJob list:\n\n1. tripleo-ci-centos-7-standalone-upgrade-stein: As this job does\n   rocky to stein upgrade not sure why this is on train branch,\n   looks like maybe left over from when the train branch was made.\n2. tripleo-ci-centos-7-scenario010-multinode-oooq-container: As fs038\n   is used in stein & queens, is replaced with standalone sc10 for\n   octavia testing.\n3. tripleo-ci-centos-7-scenario011-multinode-oooq-container: Here in [1]\n   mentioned fs044 but that is not present at [2]\n4. tripleo-ci-centos-7-scenario006-multinode-oooq-container: This job never\n   run successfully [3]. It is a validation specific job [4].\n   Will need more discussion on it as of now removing this and will\n   repropose it in future.\n\nHere we are keeping c7 multinode containers job and upgrade job to\nmaintain c7 coverage.\n\n[1]: https://opendev.org/openstack/tripleo-ci/src/branch/master/zuul.d/multinode-jobs.yaml#L529\n[2]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config\n[3]: https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario006-multinode-oooq-container\n[4]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config/featureset006.yml\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447274\n\nChange-Id: I8dbfafebacf53e7b8ba587b3dd75f976b830b077\nSigned-off-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 16, 'created': '2020-08-11 07:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b7480f738ff393d4e87491b2463af831b88ade6f', 'message': 'Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8.\n\nThis patch also removed few jobs which are given below:\n\nJob list:\n\n1. tripleo-ci-centos-7-standalone-upgrade-stein: As this job does\n   rocky to stein upgrade not sure why this is on train branch,\n   looks like maybe left over from when the train branch was made.\n2. tripleo-ci-centos-7-scenario010-multinode-oooq-container: As fs038\n   is used in stein & queens, is replaced with standalone sc10 for\n   octavia testing.\n3. tripleo-ci-centos-7-scenario011-multinode-oooq-container: Here in [1]\n   mentioned fs044 but that is not present at [2]\n4. tripleo-ci-centos-7-scenario006-multinode-oooq-container: This job never\n   run successfully [3]. It is a validation specific job [4].\n   Will need more discussion on it as of now removing this and will\n   repropose it in future.\n\nHere we are keeping c7 multinode containers job and upgrade job to\nmaintain c7 coverage.\n\n[1]: https://opendev.org/openstack/tripleo-ci/src/branch/master/zuul.d/multinode-jobs.yaml#L529\n[2]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config\n[3]: https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario006-multinode-oooq-container\n[4]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config/featureset006.yml\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447274\n\nChange-Id: I8dbfafebacf53e7b8ba587b3dd75f976b830b077\nSigned-off-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 17, 'created': '2020-08-11 07:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/58dffefd8a25a1b4be435d9e3f17cd9f74bcd870', 'message': 'Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8.\n\nThis patch also removed few jobs which are given below:\n\nJob list:\n\n1. tripleo-ci-centos-7-standalone-upgrade-stein: As this job does\n   rocky to stein upgrade not sure why this is on train branch,\n   looks like maybe left over from when the train branch was made.\n2. tripleo-ci-centos-7-scenario010-multinode-oooq-container: As fs038\n   is used in stein & queens, is replaced with standalone sc10 for\n   octavia testing.\n3. tripleo-ci-centos-7-scenario011-multinode-oooq-container: Here in [1]\n   mentioned fs044 but that is not present at [2]\n4. tripleo-ci-centos-7-scenario006-multinode-oooq-container: This job never\n   run successfully [3]. It is a validation specific job [4].\n   Will need more discussion on it as of now removing this and will\n   repropose it in future.\n\nHere we are keeping c7 multinode containers job and upgrade job to\nmaintain c7 coverage.\n\n[1]: https://opendev.org/openstack/tripleo-ci/src/branch/master/zuul.d/multinode-jobs.yaml#L529\n[2]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config\n[3]: https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario006-multinode-oooq-container\n[4]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config/featureset006.yml\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447274\n\nChange-Id: I8dbfafebacf53e7b8ba587b3dd75f976b830b077\nSigned-off-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 18, 'created': '2020-08-11 08:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/84d2f9136076eee092b3472ee45a58e7191a6762', 'message': 'Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8.\n\nThis patch also removed few jobs which are given below:\n\nJob list:\n\n1. tripleo-ci-centos-7-standalone-upgrade-stein: As this job does\n   rocky to stein upgrade not sure why this is on train branch,\n   looks like maybe left over from when the train branch was made.\n2. tripleo-ci-centos-7-scenario010-multinode-oooq-container: As fs038\n   is used in stein & queens, is replaced with standalone sc10 for\n   octavia testing.\n3. tripleo-ci-centos-7-scenario011-multinode-oooq-container: Here in [1]\n   mentioned fs044 but that is not present at [2]\n4. tripleo-ci-centos-7-scenario006-multinode-oooq-container: This job never\n   run successfully [3]. It is a validation specific job [4].\n   Will need more discussion on it as of now removing this and will\n   repropose it in future.\n\nHere we are keeping c7 multinode containers job and upgrade job to\nmaintain c7 coverage.\n\n[1]: https://opendev.org/openstack/tripleo-ci/src/branch/master/zuul.d/multinode-jobs.yaml#L529\n[2]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config\n[3]: https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario006-multinode-oooq-container\n[4]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config/featureset006.yml\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447274\n\nChange-Id: I8dbfafebacf53e7b8ba587b3dd75f976b830b077\nSigned-off-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 19, 'created': '2020-08-11 08:25:25.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b273143f015551e8f1b342a39d4d570c3d17faa8', 'message': 'Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8.\n\nThis patch also removed few jobs which are given below:\n\nJob list:\n\n1. tripleo-ci-centos-7-standalone-upgrade-stein: As this job does\n   rocky to stein upgrade not sure why this is on train branch,\n   looks like maybe left over from when the train branch was made.\n2. tripleo-ci-centos-7-scenario010-multinode-oooq-container: As fs038\n   is used in stein & queens, is replaced with standalone sc10 for\n   octavia testing.\n3. tripleo-ci-centos-7-scenario011-multinode-oooq-container: Here in [1]\n   mentioned fs044 but that is not present at [2]\n4. tripleo-ci-centos-7-scenario006-multinode-oooq-container: This job never\n   run successfully [3]. It is a validation specific job [4].\n   Will need more discussion on it as of now removing this and will\n   repropose it in future.\n\nHere we are keeping c7 multinode containers job and upgrade job to\nmaintain c7 coverage.\n\n[1]: https://opendev.org/openstack/tripleo-ci/src/branch/master/zuul.d/multinode-jobs.yaml#L529\n[2]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config\n[3]: https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario006-multinode-oooq-container\n[4]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config/featureset006.yml\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447274\n\nChange-Id: I8dbfafebacf53e7b8ba587b3dd75f976b830b077\nSigned-off-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}]",24,742587,b273143f015551e8f1b342a39d4d570c3d17faa8,98,11,19,20182,,,0,"Port jobs from centos7 to centos8

This change ports train jobs from centos7 to centos8.

This patch also removed few jobs which are given below:

Job list:

1. tripleo-ci-centos-7-standalone-upgrade-stein: As this job does
   rocky to stein upgrade not sure why this is on train branch,
   looks like maybe left over from when the train branch was made.
2. tripleo-ci-centos-7-scenario010-multinode-oooq-container: As fs038
   is used in stein & queens, is replaced with standalone sc10 for
   octavia testing.
3. tripleo-ci-centos-7-scenario011-multinode-oooq-container: Here in [1]
   mentioned fs044 but that is not present at [2]
4. tripleo-ci-centos-7-scenario006-multinode-oooq-container: This job never
   run successfully [3]. It is a validation specific job [4].
   Will need more discussion on it as of now removing this and will
   repropose it in future.

Here we are keeping c7 multinode containers job and upgrade job to
maintain c7 coverage.

[1]: https://opendev.org/openstack/tripleo-ci/src/branch/master/zuul.d/multinode-jobs.yaml#L529
[2]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config
[3]: https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario006-multinode-oooq-container
[4]: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config/featureset006.yml

https://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447274

Change-Id: I8dbfafebacf53e7b8ba587b3dd75f976b830b077
Signed-off-by: Bhagyashri Shewale <bshewale@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/742587/17 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,666e3ed65efb38721bd440060d2f139a81545524,c7-to-c8-train, - tripleo-ci-centos-8-containers-multinode: - tripleo-ci-centos-8-undercloud-containers: - tripleo-ci-centos-8-standalone: - tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades: - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates: - tripleo-ci-centos-8-scenario007-multinode-oooq-container: - tripleo-ci-centos-8-standalone-upgrade: - tripleo-ci-centos-8-scenario001-standalone: - tripleo-ci-centos-8-scenario002-standalone: - tripleo-ci-centos-8-scenario003-standalone: - tripleo-ci-centos-4-scenario004-standalone: - tripleo-ci-centos-8-scenario012-standalone: - tripleo-ci-centos-8-containerized-undercloud-upgrades: - tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates:, - tripleo-ci-centos-7-containers-multinode: - tripleo-ci-centos-7-undercloud-containers: - tripleo-ci-centos-7-standalone: - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades: - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: - tripleo-ci-centos-7-scenario007-multinode-oooq-container: - tripleo-ci-centos-7-standalone-upgrade: - tripleo-ci-centos-7-scenario001-standalone: - tripleo-ci-centos-7-scenario002-standalone: - tripleo-ci-centos-7-scenario003-standalone: - tripleo-ci-centos-7-scenario004-standalone: - tripleo-ci-centos-7-scenario012-standalone: - tripleo-ci-centos-7-containerized-undercloud-upgrades: - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates:,15,15
openstack%2Ftripleo-upgrade~stable%2Fussuri~Ic197e0936d4d4b203db0b05c5446ba93d3d20095,openstack/tripleo-upgrade,stable/ussuri,Ic197e0936d4d4b203db0b05c5446ba93d3d20095,Replace services-docker THT directory by services,MERGED,2020-08-12 13:11:39.000000000,2020-08-12 16:55:17.000000000,2020-08-12 16:55:17.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 31291}]","[{'number': 1, 'created': '2020-08-12 13:11:39.000000000', 'files': ['templates/overcloud_upgrade_prepare.sh.j2', 'templates/overcloud_upgrade_converge.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/5338451283092721808958a02f822053addb6dd6', 'message': 'Replace services-docker THT directory by services\n\nSome earlier releases of THT include the following different directories\nwith environment yaml files: services-docker and services\nIn later THT releases, services-docker directory was removed and only\nservices is available\nDue to that, services-docker needs to be replaced by services from the\nenvironment files path\n\nChange-Id: Ic197e0936d4d4b203db0b05c5446ba93d3d20095\n(cherry picked from commit 787ddc27e197012327f7ba9c033f617ccac55bae)\n'}]",0,745883,5338451283092721808958a02f822053addb6dd6,6,3,1,11166,,,0,"Replace services-docker THT directory by services

Some earlier releases of THT include the following different directories
with environment yaml files: services-docker and services
In later THT releases, services-docker directory was removed and only
services is available
Due to that, services-docker needs to be replaced by services from the
environment files path

Change-Id: Ic197e0936d4d4b203db0b05c5446ba93d3d20095
(cherry picked from commit 787ddc27e197012327f7ba9c033f617ccac55bae)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/83/745883/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/overcloud_upgrade_prepare.sh.j2', 'templates/overcloud_upgrade_converge.sh.j2']",2,5338451283092721808958a02f822053addb6dd6,," -e {{ _env | replace('services-docker', 'services') }} \", -e {{ _env }} \,2,2
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I3f007a23e0b2622efbe9f6e0eb9d1e55c61c7d69,openstack/tripleo-heat-templates,stable/queens,I3f007a23e0b2622efbe9f6e0eb9d1e55c61c7d69,[QUEENS-ONLY] Deploy clustered Redis with STF,MERGED,2020-08-10 21:01:36.000000000,2020-08-12 16:55:16.000000000,2020-08-12 16:55:15.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-10 21:01:36.000000000', 'files': ['environments/metrics/ceilometer-write-qdr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ebe0e5e8a80ac984bb4e690b4731c17c2aca5e0c', 'message': '[QUEENS-ONLY] Deploy clustered Redis with STF\n\nDuring feature backport standalone Redis instance deployment was incorrectly\nbackported instead of clustered Redis deployment. This patch is fixing this mistake.\n\nChange-Id: I3f007a23e0b2622efbe9f6e0eb9d1e55c61c7d69\n'}]",0,745589,ebe0e5e8a80ac984bb4e690b4731c17c2aca5e0c,9,5,1,5241,,,0,"[QUEENS-ONLY] Deploy clustered Redis with STF

During feature backport standalone Redis instance deployment was incorrectly
backported instead of clustered Redis deployment. This patch is fixing this mistake.

Change-Id: I3f007a23e0b2622efbe9f6e0eb9d1e55c61c7d69
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/745589/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/metrics/ceilometer-write-qdr.yaml'],1,ebe0e5e8a80ac984bb4e690b4731c17c2aca5e0c,stf-redis-fix, OS::TripleO::Services::Redis: ../../docker/services/pacemaker/database/redis.yaml, OS::TripleO::Services::Redis: ../../docker/services/database/redis.yaml,1,1
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ic197e0936d4d4b203db0b05c5446ba93d3d20095,openstack/tripleo-upgrade,stable/train,Ic197e0936d4d4b203db0b05c5446ba93d3d20095,Replace services-docker THT directory by services,MERGED,2020-08-12 10:20:42.000000000,2020-08-12 16:55:14.000000000,2020-08-12 16:55:14.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-12 10:20:42.000000000', 'files': ['templates/overcloud_upgrade_prepare.sh.j2', 'templates/overcloud_upgrade_converge.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/33c4e83cd5ede141899f7816cdfe3941e7e895cc', 'message': 'Replace services-docker THT directory by services\n\nSome earlier releases of THT include the following different directories\nwith environment yaml files: services-docker and services\nIn later THT releases, services-docker directory was removed and only\nservices is available\nDue to that, services-docker needs to be replaced by services from the\nenvironment files path\n\nChange-Id: Ic197e0936d4d4b203db0b05c5446ba93d3d20095\n(cherry picked from commit 787ddc27e197012327f7ba9c033f617ccac55bae)\n'}]",0,745824,33c4e83cd5ede141899f7816cdfe3941e7e895cc,6,5,1,31291,,,0,"Replace services-docker THT directory by services

Some earlier releases of THT include the following different directories
with environment yaml files: services-docker and services
In later THT releases, services-docker directory was removed and only
services is available
Due to that, services-docker needs to be replaced by services from the
environment files path

Change-Id: Ic197e0936d4d4b203db0b05c5446ba93d3d20095
(cherry picked from commit 787ddc27e197012327f7ba9c033f617ccac55bae)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/24/745824/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/overcloud_upgrade_prepare.sh.j2', 'templates/overcloud_upgrade_converge.sh.j2']",2,33c4e83cd5ede141899f7816cdfe3941e7e895cc,," -e {{ _env | replace('services-docker', 'services') }} \", -e {{ _env }} \,2,2
openstack%2Frequirements~master~I91358241da988b1a6e8ad7a9f03a14cf0a6aef16,openstack/requirements,master,I91358241da988b1a6e8ad7a9f03a14cf0a6aef16,update constraint for python-glanceclient to new release 3.2.1,MERGED,2020-08-12 09:21:50.000000000,2020-08-12 16:44:08.000000000,2020-08-12 16:42:41.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 09:21:50.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e822e76d221204c367cc483badb8818a06efa075', 'message': 'update constraint for python-glanceclient to new release 3.2.1\n\nChange-Id: I91358241da988b1a6e8ad7a9f03a14cf0a6aef16\nmeta:version: 3.2.1\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Erno Kuvaja <jokke@usr.fi>\nmeta:release:Commit: Erno Kuvaja <jokke@usr.fi>\nmeta:release:Change-Id: I3e6286665c6eaa6bb42cd6bf74d64965dafc3e99\nmeta:release:Code-Review+1: Abhishek Kekane <akekane@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,745815,e822e76d221204c367cc483badb8818a06efa075,9,3,1,11131,,,0,"update constraint for python-glanceclient to new release 3.2.1

Change-Id: I91358241da988b1a6e8ad7a9f03a14cf0a6aef16
meta:version: 3.2.1
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Erno Kuvaja <jokke@usr.fi>
meta:release:Commit: Erno Kuvaja <jokke@usr.fi>
meta:release:Change-Id: I3e6286665c6eaa6bb42cd6bf74d64965dafc3e99
meta:release:Code-Review+1: Abhishek Kekane <akekane@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/15/745815/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e822e76d221204c367cc483badb8818a06efa075,new-release,python-glanceclient===3.2.1,python-glanceclient===3.2.0,1,1
openstack%2Frequirements~stable%2Fussuri~I6e0a7f54b76b2efc2e674cf6bdf54f0d165d1aa5,openstack/requirements,stable/ussuri,I6e0a7f54b76b2efc2e674cf6bdf54f0d165d1aa5,update constraint for python-glanceclient to new release 3.1.2,MERGED,2020-08-12 09:14:15.000000000,2020-08-12 16:42:39.000000000,2020-08-12 16:42:39.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 09:14:15.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0cf95fef150ee7aa73bed3541d50a9707a3313f2', 'message': 'update constraint for python-glanceclient to new release 3.1.2\n\nChange-Id: I6e0a7f54b76b2efc2e674cf6bdf54f0d165d1aa5\nmeta:version: 3.1.2\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Erno Kuvaja <jokke@usr.fi>\nmeta:release:Commit: Erno Kuvaja <jokke@usr.fi>\nmeta:release:Change-Id: I3e6286665c6eaa6bb42cd6bf74d64965dafc3e99\nmeta:release:Code-Review+1: Abhishek Kekane <akekane@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,745813,0cf95fef150ee7aa73bed3541d50a9707a3313f2,7,3,1,11131,,,0,"update constraint for python-glanceclient to new release 3.1.2

Change-Id: I6e0a7f54b76b2efc2e674cf6bdf54f0d165d1aa5
meta:version: 3.1.2
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Erno Kuvaja <jokke@usr.fi>
meta:release:Commit: Erno Kuvaja <jokke@usr.fi>
meta:release:Change-Id: I3e6286665c6eaa6bb42cd6bf74d64965dafc3e99
meta:release:Code-Review+1: Abhishek Kekane <akekane@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/13/745813/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0cf95fef150ee7aa73bed3541d50a9707a3313f2,new-release,python-glanceclient===3.1.2;python_version=='3.6' python-glanceclient===3.1.2;python_version=='3.7' python-glanceclient===3.1.2;python_version=='3.8',python-glanceclient===3.1.1;python_version=='3.6' python-glanceclient===3.1.1;python_version=='3.7' python-glanceclient===3.1.1;python_version=='3.8',3,3
openstack%2Fironic-python-agent~stable%2Fussuri~I66db457e71a0586723ee753bef961aec5bf58827,openstack/ironic-python-agent,stable/ussuri,I66db457e71a0586723ee753bef961aec5bf58827,Fix bootloader install issue with MDRAID,MERGED,2020-08-05 09:13:53.000000000,2020-08-12 16:40:15.000000000,2020-08-12 16:39:00.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-05 09:13:53.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/fix-bootloader-install-with-mdraid-0a254035df9d0bed.yaml', 'ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c78d6beedd4ed7bebb113d7f1597e035f1d01a57', 'message': 'Fix bootloader install issue with MDRAID\n\nWhen no root_device hint is set, an MDRAID partition can be incorrectly\nselected as the root device which causes installation of the bootloader\nto the physical disks behind the MDRAID volume to fail. See the notes\nin the referenced Story for more detail.\n\nThis change adds a little more specificity to the listing of block\ndevices.\n\nChange-Id: I66db457e71a0586723ee753bef961aec5bf58827\nStory: 2007905\nTask: 40303\n(cherry picked from commit 5e95b1321d6e4fe5c562092d0baba73ad6d5303e)\n'}]",0,744863,c78d6beedd4ed7bebb113d7f1597e035f1d01a57,9,4,1,17669,,,0,"Fix bootloader install issue with MDRAID

When no root_device hint is set, an MDRAID partition can be incorrectly
selected as the root device which causes installation of the bootloader
to the physical disks behind the MDRAID volume to fail. See the notes
in the referenced Story for more detail.

This change adds a little more specificity to the listing of block
devices.

Change-Id: I66db457e71a0586723ee753bef961aec5bf58827
Story: 2007905
Task: 40303
(cherry picked from commit 5e95b1321d6e4fe5c562092d0baba73ad6d5303e)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/63/744863/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'releasenotes/notes/fix-bootloader-install-with-mdraid-0a254035df9d0bed.yaml', 'ironic_python_agent/tests/unit/test_hardware.py']",3,c78d6beedd4ed7bebb113d7f1597e035f1d01a57,raid_fix-stable/ussuri,"# NOTE(dszumski): We include some partitions here to verify that # they are filtered out when not requested. It is assumed that # ROTA has been set to 0 on some software RAID devices for testing # purposes. In practice is appears to inherit from the underyling # devices, so in this example it would normally be 1. 'KNAME=""sda1"" MODEL=""DRIVE 0"" SIZE=""107373133824"" ' 'ROTA=""1"" TYPE=""part""\n' 'KNAME=""sdb1"" MODEL=""DRIVE 1"" SIZE=""107373133824"" ' 'ROTA=""1"" TYPE=""part""\n' 'KNAME=""md0p1"" MODEL=""RAID"" SIZE=""107236818944"" ' 'ROTA=""0"" TYPE=""md""\n' [], # list_all_block_devices raid (md) [], # list_all_block_devices raid (md) [], # list_all_block_devices raid [raid_device1_part1], # list_all_block_devices raid (md) [], # list_all_block_devices raid (md) [], # list_all_block_devices raid (type md) [], # list_all_block_devices raid (type md) [], # list_all_block_devices raid (type md)"," [raid_device1_part1], # list_all_block_devices raid",52,6
openstack%2Fopenstack-ansible-os_heat~master~Ic23f4be11be0632f340c7e182c639307d01e9540,openstack/openstack-ansible-os_heat,master,Ic23f4be11be0632f340c7e182c639307d01e9540,Updated from OpenStack Ansible Tests,MERGED,2020-08-12 11:33:06.000000000,2020-08-12 16:16:11.000000000,2020-08-12 16:14:43.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-12 11:33:06.000000000', 'files': ['tasks/service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/309f97b62da2463b293d3345143ea4842362efe7', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ic23f4be11be0632f340c7e182c639307d01e9540\n'}]",0,745848,309f97b62da2463b293d3345143ea4842362efe7,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ic23f4be11be0632f340c7e182c639307d01e9540
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/48/745848/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/service_setup.yml'],1,309f97b62da2463b293d3345143ea4842362efe7,openstack/openstack-ansible-tests/sync-tests," description: ""{{ _domain_name_description | default(omit) }}""",,1,0
openstack%2Fcharm-manila-ganesha~master~I750ff976bedeaaf9806552b5ba11c452bbd14ea6,openstack/charm-manila-ganesha,master,I750ff976bedeaaf9806552b5ba11c452bbd14ea6,Release sync for 20.08,MERGED,2020-07-27 19:54:46.000000000,2020-08-12 15:51:03.000000000,2020-08-12 15:51:03.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 19:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/8130678f8d3763a39c5cb706793822ade5af5afa', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: I750ff976bedeaaf9806552b5ba11c452bbd14ea6\n'}, {'number': 2, 'created': '2020-08-04 14:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/6a7e72ed05f6e7aa7e2b37712c8a938b18ae3031', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: I750ff976bedeaaf9806552b5ba11c452bbd14ea6\n'}, {'number': 3, 'created': '2020-08-11 15:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/7d9afab6751e5522aaf99fb9fac1fc8bdaab33cf', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nCo-Authored-By: Dmitrii Shcherbakov <dmitrii.shcherbakov@canonical.com>\n\nChange-Id: I750ff976bedeaaf9806552b5ba11c452bbd14ea6\n'}, {'number': 4, 'created': '2020-08-11 16:42:22.000000000', 'files': ['rebuild', 'src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'src/files/.gitkeep', 'src/tests/bundles/bionic-stein.yaml', 'test-requirements.txt', 'src/tox.ini', 'src/tests/bundles/bionic-rocky.yaml', 'src/test-requirements.txt', 'tox.ini', 'src/tests/bundles/bionic-train.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/f86e8427e44465df614d6bd981086453ecdff6c1', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nCo-Authored-By: Dmitrii Shcherbakov <dmitrii.shcherbakov@canonical.com>\n\nChange-Id: I750ff976bedeaaf9806552b5ba11c452bbd14ea6\n'}]",0,743363,f86e8427e44465df614d6bd981086453ecdff6c1,29,5,4,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

Co-Authored-By: Dmitrii Shcherbakov <dmitrii.shcherbakov@canonical.com>

Change-Id: I750ff976bedeaaf9806552b5ba11c452bbd14ea6
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/63/743363/4 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'src/files/.gitkeep', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini']",6,8130678f8d3763a39c5cb706793822ade5af5afa,batch-2008-release-sync,"[testenv:py38] basepython = python3.8 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ignore = E402,W504 ","ignore = E402,W504",19,5
openstack%2Fkolla~master~Idc1bc1b80c763ff05dc8b02b73f148cbbfecea0a,openstack/kolla,master,Idc1bc1b80c763ff05dc8b02b73f148cbbfecea0a,add brctl command for neutron-linuxbridge image,ABANDONED,2020-08-10 12:15:16.000000000,2020-08-12 15:48:07.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-10 12:15:16.000000000', 'files': ['docker/neutron/neutron-linuxbridge-agent/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ba723a04cd14715bc32c719ae5bc80cfbac32c60', 'message': 'add brctl command for neutron-linuxbridge image\n\ninstall bridge-utils  command for neutron neutron-linuxbridge\nbrctl will used for bonding o-hm0 port for octavia\n\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: Idc1bc1b80c763ff05dc8b02b73f148cbbfecea0a\n'}]",0,745519,ba723a04cd14715bc32c719ae5bc80cfbac32c60,14,5,1,26285,,,0,"add brctl command for neutron-linuxbridge image

install bridge-utils  command for neutron neutron-linuxbridge
brctl will used for bonding o-hm0 port for octavia

Implements: blueprint implement-automatic-deploy-of-octavia

Change-Id: Idc1bc1b80c763ff05dc8b02b73f148cbbfecea0a
",git fetch https://review.opendev.org/openstack/kolla refs/changes/19/745519/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/neutron/neutron-linuxbridge-agent/Dockerfile.j2'],1,ba723a04cd14715bc32c719ae5bc80cfbac32c60,," 'bridge-utils', 'bridge-utils', 'bridge-utils',",,3,0
openstack%2Ftripleo-docs~master~Ib62963bef59062ac9d81d0cf1f3972a08335af9d,openstack/tripleo-docs,master,Ib62963bef59062ac9d81d0cf1f3972a08335af9d,Rename and update links related to tripleo-ansible roles,MERGED,2020-08-12 09:09:11.000000000,2020-08-12 15:45:05.000000000,2020-08-12 15:42:54.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-12 09:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/9516c1b83f481a4ef0a3f7e458edd1352f336946', 'message': 'Rename and update links related to the tripleo_container_manage role\n\nDuring the latest cycles, role names were changed, replacing the hyphen\nby underscore.\n\nChange-Id: Ib62963bef59062ac9d81d0cf1f3972a08335af9d\n'}, {'number': 2, 'created': '2020-08-12 09:18:23.000000000', 'files': ['deploy-guide/source/deployment/architecture.rst', 'deploy-guide/source/deployment/ansible_config_download.rst', 'doc/source/developer/tht_walkthrough/service_template_sections.rst', 'doc/source/upgrade/developer/upgrades/minor_update.rst', 'deploy-guide/source/deployment/tips_tricks.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/64aee82ad841bc33c07d3a96156e71495e5f6037', 'message': 'Rename and update links related to tripleo-ansible roles\n\nDuring the latest cycles, role names were changed, replacing the hyphen\nby underscore.\n\nChange-Id: Ib62963bef59062ac9d81d0cf1f3972a08335af9d\n'}]",0,745811,64aee82ad841bc33c07d3a96156e71495e5f6037,9,6,2,28223,,,0,"Rename and update links related to tripleo-ansible roles

During the latest cycles, role names were changed, replacing the hyphen
by underscore.

Change-Id: Ib62963bef59062ac9d81d0cf1f3972a08335af9d
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/11/745811/2 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/deployment/architecture.rst', 'deploy-guide/source/deployment/ansible_config_download.rst', 'doc/source/developer/tht_walkthrough/service_template_sections.rst', 'doc/source/upgrade/developer/upgrades/minor_update.rst', 'deploy-guide/source/deployment/tips_tricks.rst']",5,9516c1b83f481a4ef0a3f7e458edd1352f336946,rename-tripleo_container_manage,"Debugging with tripleo_container_manage Ansible roleThe debugging manual for tripleo_container_manage is documented in the role_.. _role: https://docs.openstack.org/tripleo-ansible/latest/roles/role-tripleo_container_manage.html#debug tripleo_container_manage Ansible role. Therefore, the following block","Debugging with tripleo-container-manage Ansible roleThe debugging manual for tripleo-container-manage is documented in the role_.. _role: https://docs.openstack.org/tripleo-ansible/latest/roles/role-tripleo-container-manage.html#debug tripleo-container-manage Ansible role. Therefore, the following block",14,14
openstack%2Frequirements~master~Ic847052a4696bb6058aafbfffc86f039d3310c70,openstack/requirements,master,Ic847052a4696bb6058aafbfffc86f039d3310c70,Revert to msgpack 0.6.1 in upper constraints,ABANDONED,2020-08-12 02:55:06.000000000,2020-08-12 15:32:57.000000000,,"[{'_account_id': 4690}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 02:55:06.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a333373248b241cc0e430b70d4201b476819bbec', 'message': 'Revert to msgpack 0.6.1 in upper constraints\n\nChange I112d173a9858e56bcd26cbfc5beffd686fe32401 bumped upper\nconstraints and the new version of msgpack 1.0 contains a change to\nthe default data format, which is breaking *-grenade-multinode jobs.\n\nThis reverts the upper constraint bump for msgpack to unblock the gate\nwhile a proper fix can be investigated.\n\nRelated-Bug: #1891244\n\nChange-Id: Ic847052a4696bb6058aafbfffc86f039d3310c70\n'}]",0,745769,a333373248b241cc0e430b70d4201b476819bbec,5,2,1,4690,,,0,"Revert to msgpack 0.6.1 in upper constraints

Change I112d173a9858e56bcd26cbfc5beffd686fe32401 bumped upper
constraints and the new version of msgpack 1.0 contains a change to
the default data format, which is breaking *-grenade-multinode jobs.

This reverts the upper constraint bump for msgpack to unblock the gate
while a proper fix can be investigated.

Related-Bug: #1891244

Change-Id: Ic847052a4696bb6058aafbfffc86f039d3310c70
",git fetch https://review.opendev.org/openstack/requirements refs/changes/69/745769/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a333373248b241cc0e430b70d4201b476819bbec,bug/1891244,msgpack===0.6.1,msgpack===1.0.0,1,1
openstack%2Fgovernance~master~I34e81b213253afba2910a7b3605ce1f562d1662d,openstack/governance,master,I34e81b213253afba2910a7b3605ce1f562d1662d,Clean up expired i18n SIG extra-ATCs,MERGED,2020-08-10 16:12:36.000000000,2020-08-12 15:27:15.000000000,2020-08-12 15:25:44.000000000,"[{'_account_id': 1004}, {'_account_id': 8556}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-10 16:12:36.000000000', 'files': ['reference/sigs-repos.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/0e9ffd109c1197e43948282855c3c204c86423e9', 'message': 'Clean up expired i18n SIG extra-ATCs\n\nChange-Id: I34e81b213253afba2910a7b3605ce1f562d1662d\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,745565,0e9ffd109c1197e43948282855c3c204c86423e9,15,5,1,11904,,,0,"Clean up expired i18n SIG extra-ATCs

Change-Id: I34e81b213253afba2910a7b3605ce1f562d1662d
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/65/745565/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/sigs-repos.yaml'],1,0e9ffd109c1197e43948282855c3c204c86423e9,documentation-change,, extra-atcs: - name: Ilya Alekseyev email: ilyaalekseyev@acm.org expires-in: July 2020 comment: adiantum (ru) - name: Akihiro Motoki email: amotoki@gmail.com expires-in: January 2020 comment: amotoki (ja) - name: Soonyeul Park email: ardentpark@gmail.com expires-in: July 2020 comment: ardentpark (ko-KR) - name: Dongbin Im email: bnitech88@gmail.com expires-in: January 2020 comment: bnitech (ko-KR) - name: Carlos Camacho email: ccamacho@redhat.com expires-in: January 2020 comment: ccamacho (es) - name: Jongwon Lee email: tothebinaryworld@gmail.com expires-in: January 2020 comment: chasetherabbit (ko-KR) - name: Sungwook Choi email: csucom@gmail.com expires-in: January 2020 comment: csucom (ko-KR) - name: Frank Kloeker email: eumel@arcor.de expires-in: July 2020 comment: eumel8 (de) - name: Fernando Pimenta email: fernando.c.pimenta@gmail.com expires-in: January 2020 comment: fcpimenta (pt-BR) - name: Franco Tseng email: francotseng18@gmail.com expires-in: July 2020 comment: francotseng (zh-CN) - name: Horace Li email: haoyang@openstack.org expires-in: July 2020 comment: horace (zh-CN) - name: Ian Y. Choi email: ianyrchoi@gmail.com expires-in: July 2020 comment: ianychoi (ko-KR) - name: Remo Mattei email: remo@rm.ht expires-in: January 2020 comment: itlinux (it) - name: Andreas Jaeger email: jaegerandi@gmail.com expires-in: July 2020 comment: jaegerandi (de) - name: JF Taltavull email: jftalta@gmail.com expires-in: July 2020 comment: jftalta (fr) - name: François Magimel email: magimel.francois@gmail.com expires-in: January 2020 comment: linkid (fr) - name: Rodrigo Loures email: rmoraesloures@gmail.com expires-in: July 2020 comment: loures (pt-BR) - name: Luigi Toscano email: ltoscano@redhat.com expires-in: July 2020 comment: ltoscano (it) - name: Majed Alangari email: mangari@stcs.com.sa expires-in: January 2020 comment: majed_alangari (ar) - name: Dmitriy Rabotyagov email: noonedeadpunk@ya.ru expires-in: July 2020 comment: noonedeadpunk (ru) - name: Jori Kuusinen email: jori.kuusinen@gmail.com expires-in: January 2020 comment: nuyori (fi-FI) - name: Robert Simai email: robert.simai@suse.com expires-in: July 2020 comment: rsimai (de) - name: SEEUNG KANG email: seeung0305@naver.com expires-in: January 2020 comment: seeung_kang (ko-KR) - name: Shu Muto email: shu.mutow@gmail.com expires-in: July 2020 comment: shu (ja) - name: suhartono email: cloudsuhartono@gmail.com expires-in: July 2020 comment: suhartono (id) - name: Surit Aryal email: aryalsurit@gmail.com expires-in: July 2020 comment: surit (ne) - name: Takashi Kuroda email: tkuroda@redhat.com expires-in: July 2020 comment: tkuroda (ja) - name: Taesung Oh email: ts5516@naver.com expires-in: January 2020 comment: ts5516 (ko-KR) - name: ByungYeol Woo email: wby1089@gmail.com expires-in: July 2020 comment: woobee (ko-KR) - name: Yuko Katabami email: yukokatabami@gmail.com expires-in: July 2020 comment: ykatabam (ja) - name: Yuki Kasuya email: yu-kasuya@kddilabs.jp expires-in: January 2020 comment: yu_kasuya (ja) - name: Yusuke Higashino email: yusuke_higashino@adoc.co.jp expires-in: January 2020 comment: yusuke1219 (ja),0,129
openstack%2Fgovernance~master~I40f1818955eaa0a2037f239aeced86c3faf3281e,openstack/governance,master,I40f1818955eaa0a2037f239aeced86c3faf3281e,Add legacy repository validation,MERGED,2020-06-23 15:10:34.000000000,2020-08-12 15:00:11.000000000,2020-08-12 14:55:09.000000000,"[{'_account_id': 1004}, {'_account_id': 7198}, {'_account_id': 7353}, {'_account_id': 8556}, {'_account_id': 13995}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-23 15:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/e5fc7b89de4c46bdae09ca757f6ab1cb1d5185b8', 'message': 'Add legacy repository validation\n\nThis patch improves the legacy repository validation by ensuring that we\nactually make sure the repository is properly retired.  This job will\nonly run on changes to the legacy.yaml file to avoid a high number of\nAPI calls.\n\nChange-Id: I40f1818955eaa0a2037f239aeced86c3faf3281e\n'}, {'number': 2, 'created': '2020-06-23 15:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/165466ef6658195a2df80eb44c4eca6b4f4ab13d', 'message': 'Add legacy repository validation\n\nThis patch improves the legacy repository validation by ensuring that we\nactually make sure the repository is properly retired.  This job will\nonly run on changes to the legacy.yaml file to avoid a high number of\nAPI calls.\n\nChange-Id: I40f1818955eaa0a2037f239aeced86c3faf3281e\n'}, {'number': 3, 'created': '2020-06-23 15:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/f329ef546c3917be86dd775b64344c3d70b52105', 'message': 'Add legacy repository validation\n\nThis patch improves the legacy repository validation by ensuring that we\nactually make sure the repository is properly retired.  This job will\nonly run on changes to the legacy.yaml file to avoid a high number of\nAPI calls.\n\nChange-Id: I40f1818955eaa0a2037f239aeced86c3faf3281e\n'}, {'number': 4, 'created': '2020-08-07 19:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/078975f779d539f96234f33a1cfecca5b9b2d68a', 'message': 'Add legacy repository validation\n\nThis patch improves the legacy repository validation by ensuring that we\nactually make sure the repository is properly retired.  This job will\nonly run on changes to the legacy.yaml file to avoid a high number of\nAPI calls.\n\nChange-Id: I40f1818955eaa0a2037f239aeced86c3faf3281e\n'}, {'number': 5, 'created': '2020-08-07 19:48:03.000000000', 'files': ['tools/validate-legacy.py', 'tools/validate_repositories.py', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/governance/commit/d5a9229ec27d916d5198d4b73fec1e3cafdd1a4e', 'message': 'Add legacy repository validation\n\nThis patch improves the legacy repository validation by ensuring that we\nactually make sure the repository is properly retired.  This job will\nonly run on changes to the legacy.yaml file to avoid a high number of\nAPI calls.\n\nChange-Id: I40f1818955eaa0a2037f239aeced86c3faf3281e\n'}]",0,737559,d5a9229ec27d916d5198d4b73fec1e3cafdd1a4e,29,7,5,1004,,,0,"Add legacy repository validation

This patch improves the legacy repository validation by ensuring that we
actually make sure the repository is properly retired.  This job will
only run on changes to the legacy.yaml file to avoid a high number of
API calls.

Change-Id: I40f1818955eaa0a2037f239aeced86c3faf3281e
",git fetch https://review.opendev.org/openstack/governance refs/changes/59/737559/5 && git format-patch -1 --stdout FETCH_HEAD,"['tools/validate-legacy.py', 'tools/validate_repositories.py', '.zuul.yaml', 'tox.ini']",4,e5fc7b89de4c46bdae09ca757f6ab1cb1d5185b8,code-change,[testenv:validate-legacy] envdir = {toxworkdir}/linters commands = {toxinidir}/tools/validate-legacy.py ,,93,25
openstack%2Ftripleo-upgrade~master~Ida167b368ba7f5332abf42a5f3a3ea7452402806,openstack/tripleo-upgrade,master,Ida167b368ba7f5332abf42a5f3a3ea7452402806,Keep ceph-ansible and ceph-3 repos during undercloud leapp,ABANDONED,2020-07-31 18:55:36.000000000,2020-08-12 14:43:30.000000000,,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-31 18:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/57bcea4900691fee1774c440cc444bf1b99608f5', 'message': ""Keep ceph-ansible and ceph-3 repos during undercloud leapp\n\nDuring the undercloud leapp process, we need to ensure that\nwe keep ceph-ansible and the ceph-3 repositories in-place.\n\nIn this patch we add ceph-ansible to the leapp to_keep file\nso that it is left alone during the leapp process. We also\nchange the 'Get enablerepo line for leapp' task so that it\nuses awk for everything (instead of also using grep and cut)\nand so that it grabs all ceph repositories. not just ceph-4\nrepositories.\n\nChange-Id: Ida167b368ba7f5332abf42a5f3a3ea7452402806\n""}, {'number': 2, 'created': '2020-07-31 18:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f65579491f6386fe5b9cacb401e69c68f9a72e5b', 'message': ""Keep ceph-ansible and ceph-3 repos during undercloud leapp\n\nDuring the undercloud leapp process, we need to ensure that\nwe keep ceph-ansible and the ceph-3 repositories in-place.\n\nIn this patch we add ceph-ansible to the leapp to_keep file\nso that it is left alone during the leapp process. We also\nchange the 'Get enablerepo line for leapp' task so that it\nuses awk for everything (instead of also using grep and cut)\nand so that it grabs all ceph repositories. not just ceph-4\nrepositories.\n\nChange-Id: Ida167b368ba7f5332abf42a5f3a3ea7452402806\n""}, {'number': 3, 'created': '2020-07-31 22:53:28.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d468fe7218ca4ae9ca1175c3dc502af71e8ac4df', 'message': ""Keep ceph-ansible and ceph-3 repos during undercloud leapp\n\nDuring the undercloud leapp process, we need to ensure that\nwe keep ceph-ansible and the ceph-3 repositories in-place.\n\nIn this patch we add ceph-ansible to the leapp to_keep file\nso that it is left alone during the leapp process. We also\nchange the 'Get enablerepo line for leapp' task so that it\nuses awk for everything (instead of also using grep and cut)\nand so that it grabs all ceph repositories. not just ceph-4\nrepositories.\n\nChange-Id: Ida167b368ba7f5332abf42a5f3a3ea7452402806\n""}]",1,744239,d468fe7218ca4ae9ca1175c3dc502af71e8ac4df,9,2,3,6816,,,0,"Keep ceph-ansible and ceph-3 repos during undercloud leapp

During the undercloud leapp process, we need to ensure that
we keep ceph-ansible and the ceph-3 repositories in-place.

In this patch we add ceph-ansible to the leapp to_keep file
so that it is left alone during the leapp process. We also
change the 'Get enablerepo line for leapp' task so that it
uses awk for everything (instead of also using grep and cut)
and so that it grabs all ceph repositories. not just ceph-4
repositories.

Change-Id: Ida167b368ba7f5332abf42a5f3a3ea7452402806
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/39/744239/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,57bcea4900691fee1774c440cc444bf1b99608f5,,"- name: Add packages into leapp's to_remove/to_install/to_keep files - file: 'to_remove' package: 'openvswitch2.11' - file: 'to_install' package: 'openvswitch2.13' - file: 'to_keep' package: 'ceph-ansible' shell: >- yum repolist enabled --color=never -q 2>/dev/null | awk -F'[/ ]' '/rhel-8.*baseos|rhel-8.*appstream|rhel-8.*fdp|rhel-8.*av|rhel-8.*av|ceph-.*/ {print ""--enablerepo "" $1 "" ""}' | tr -d '\n'","- name: Add openvswitch into leapp's to_remove/to_install files - {file: 'to_remove', package: 'openvswitch2.11'} - {file: 'to_install', package: 'openvswitch2.13'} shell: | yum repolist -q 2> /dev/null | grep -e rhos-16 -e 'rhel-8.*baseos' -e 'rhel-8.*appstream' -e 'rhel-8.*fdp' -e 'rhel-8.*av' -e 'ceph-4' | cut -d '/' -f1 | \ awk '{print ""--enablerepo "" $0 "" ""}' | tr -d '\n'",11,6
openstack%2Fneutron~master~Ib28fae4816b582b6a8540802f1138424f63cd3ed,openstack/neutron,master,Ib28fae4816b582b6a8540802f1138424f63cd3ed,[OVN]floating IP QoS.,ABANDONED,2020-03-11 06:50:20.000000000,2020-08-12 14:38:50.000000000,,"[{'_account_id': 9845}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}, {'_account_id': 31210}]","[{'number': 1, 'created': '2020-03-11 06:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e48da381fb2a9f464d8df48048ebcca8320f04e8', 'message': 'JUST TEST, Please ignore it\n\nSupport floating IP QoS.\n\nSupport for configuring QoS policies on floating IP, According to the\nconfiguration to add or delete northbound database QoS table.\n\nChange-Id: Ib28fae4816b582b6a8540802f1138424f63cd3ed\n'}, {'number': 2, 'created': '2020-04-11 14:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/589ba65ec7b0e0172dd33a26e84de22256e70065', 'message': 'JUST TEST, Please ignore it\n\nSupport floating IP QoS.\n\nSupport for configuring QoS policies on floating IP, According to the\nconfiguration to add or delete northbound database QoS table.\n\nChange-Id: Ib28fae4816b582b6a8540802f1138424f63cd3ed\n'}, {'number': 3, 'created': '2020-05-06 07:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4caf44354f53438d96b40df1b00f129972672f03', 'message': '[OVN]floating IP QoS.\n\nSupport for configuring QoS policies on floating IP, According to the\nconfiguration to add or delete northbound database QoS table.\n\nChange-Id: Ib28fae4816b582b6a8540802f1138424f63cd3ed\nSigned-off-by: zhangyuhe <1073258077@qq.com>\n'}, {'number': 4, 'created': '2020-05-07 02:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2491cee2306efa8e7d59f640df38c8dee800d15e', 'message': '[OVN]floating IP QoS.\n\nSupport for configuring QoS policies on floating IP, According to the\nconfiguration to add or delete northbound database QoS table.\n\nChange-Id: Ib28fae4816b582b6a8540802f1138424f63cd3ed\nSigned-off-by: zhangyuhe <1073258077@qq.com>\n'}, {'number': 5, 'created': '2020-05-12 03:27:21.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/api.py', 'neutron/common/ovn/constants.py', 'neutron/common/ovn/extensions.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_qos_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/base.py', 'neutron/common/ovn/utils.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e22f5e12a48dd7666f53fffe9d3e1e6a1c199da', 'message': '[OVN]floating IP QoS.\n\nSupport for configuring QoS policies on floating IP, According to the\nconfiguration to add or delete northbound database QoS table.\n\nChange-Id: Ib28fae4816b582b6a8540802f1138424f63cd3ed\nSigned-off-by: zhangyuhe <1073258077@qq.com>\n'}]",57,712239,5e22f5e12a48dd7666f53fffe9d3e1e6a1c199da,32,7,5,31210,,,0,"[OVN]floating IP QoS.

Support for configuring QoS policies on floating IP, According to the
configuration to add or delete northbound database QoS table.

Change-Id: Ib28fae4816b582b6a8540802f1138424f63cd3ed
Signed-off-by: zhangyuhe <1073258077@qq.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/712239/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/unit/services/qos/drivers/ovn/test_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/api.py', 'neutron/common/ovn/constants.py', 'neutron/common/ovn/extensions.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_qos_driver.py', 'neutron/services/qos/drivers/ovn/driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/base.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py', 'neutron/common/ovn/utils.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/common/ovn/qos.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py']",19,e48da381fb2a9f464d8df48048ebcca8320f04e8,FloatingIP_QoS,"from neutron.objects.qos import rulefrom neutron.tests.unit.extensions import test_qos_fip @mock.patch('neutron.db.l3_db.L3_NAT_dbonly_mixin._get_router') def test_create_floatingip(self, gf, gr): gr.return_value = {'gw_port_id': 'gw-port-id'} @mock.patch('neutron.db.l3_db.L3_NAT_dbonly_mixin._get_router') def test_create_floatingip_distributed(self, gf, gp, gr): gr.return_value = {'gw_port_id': 'gw-port-id'} @mock.patch('neutron.db.l3_db.L3_NAT_dbonly_mixin._get_router') def test_create_floatingip_distributed_logical_port_down(self, gf, gp, gr): gr.return_value = {'gw_port_id': 'gw-port-id'} @mock.patch('neutron.db.l3_db.L3_NAT_dbonly_mixin._get_router') def test_create_floatingip_external_ip_present_in_nat_rule(self, gf, gr): gr.return_value = {'gw_port_id': 'gw-port-id'} @mock.patch('neutron.db.l3_db.L3_NAT_dbonly_mixin._get_router') def test_create_floatingip_external_ip_present_type_snat(self, gf, gr): gr.return_value = {'gw_port_id': 'gw-port-id'} @mock.patch('neutron.objects.qos.rule.get_rules') @mock.patch('neutron.db.l3_db.L3_NAT_dbonly_mixin._get_router') @mock.patch('neutron.db.l3_db.L3_NAT_dbonly_mixin._get_floatingip') def test_create_floatingip_with_qos(self, gf, gr, grs): gf.return_value = {'floating_port_id': 'fip-port-id'} gr.return_value = {'gw_port_id': 'gw-port-id'} grs.return_value = [ rule.QosBandwidthLimitRule(context=None, id=uuidutils.generate_uuid(), max_kbps=100, max_burst_kbps=1000), rule.QosDscpMarkingRule(context=None, id=uuidutils.generate_uuid(), dscp_mark=36)] self.l3_inst.create_floatingip(self.context, 'floatingip') qos_rules = {'neutron:switch_name': 'neutron-fip-net-id', 'neutron:fip_id': self.fake_floating_ip['id'], 'dscp': 36, 'rate': 100, 'burst': 1000, 'priority': 1000, 'direction': 'from-lport', 'switch': 'neutron-fip-net-id', 'match': 'inport == ""gw-port-id"" && ip4.src == 192.168.0.' '10 && is_chassis_resident(""cr-lrp-gw-port-id"")'} self.l3_inst._ovn.qos_add.assert_called_once_with(**qos_rules) self.l3_inst._ovn.get_fip_qos_rules.return_value = ( self.fake_floating_ip_qos_rule) self.l3_inst._ovn.qos_del.assert_called_once_with( 'neutron-fip-net-id', 'from-lport', 1000, 'inport == ""gw-port-id"" && ip4.src == 192.168.0.10 && ' 'is_chassis_resident(""cr-lrp-gw-port-id"")') @mock.patch('neutron.db.l3_db.L3_NAT_dbonly_mixin._get_router') def test_update_floatingip(self, uf, gf, gr): gr.return_value = {'gw_port_id': 'gw-port-id'} @mock.patch('neutron.objects.qos.rule.get_rules') @mock.patch('neutron.db.l3_db.L3_NAT_dbonly_mixin._get_router') def test_update_floatingip_with_qos(self, uf, gf, gr, grs): gf.return_value = self.fake_floating_ip uf.return_value = self.fake_floating_ip_new gr.return_value = {'gw_port_id': 'gw-port-id'} grs.return_value = [ rule.QosBandwidthLimitRule(context=None, id=uuidutils.generate_uuid(), max_kbps=100, max_burst_kbps=1000, direction='ingress'), rule.QosDscpMarkingRule(context=None, id=uuidutils.generate_uuid(), dscp_mark=32)] self.l3_inst.update_floatingip(self.context, 'id', 'floatingip') qos_rules = [ mock.call(**{ 'neutron:fip_id': self.fake_floating_ip_new['id'], 'neutron:switch_name': 'neutron-fip-net-id', 'rate': 100, 'priority': 1000, 'burst': 1000, 'direction': 'to-lport', 'switch': 'neutron-fip-net-id', 'match': 'outport == ""gw-port-id"" && ip4.dst == 192.168.0.10 ' '&& is_chassis_resident(""cr-lrp-gw-port-id"")'}), mock.call(**{ 'neutron:switch_name': 'neutron-fip-net-id', 'neutron:fip_id': self.fake_floating_ip_new['id'], 'dscp': 32, 'direction': 'from-lport', 'priority': 1000, 'switch': 'neutron-fip-net-id', 'match': 'inport == ""gw-port-id"" && ip4.src == 192.168.0.10 ' '&& is_chassis_resident(""cr-lrp-gw-port-id"")'})] self.l3_inst._ovn.qos_add.assert_has_calls(qos_rules, any_order=True) @mock.patch('neutron.db.l3_db.L3_NAT_dbonly_mixin._get_router') @mock.patch('neutron.db.l3_db.L3_NAT_dbonly_mixin._get_floatingip') @mock.patch('neutron.db.extraroute_db.ExtraRoute_dbonly_mixin.' 'update_floatingip') def test_update_floatingip_associate(self, uf, gf, gr): gr.return_value = {'gw_port_id': 'gw-port-id'} @mock.patch('neutron.db.l3_db.L3_NAT_dbonly_mixin._get_router') def test_update_floatingip_associate_distributed(self, uf, gf, gp, gn, gr): gr.return_value = {'gw_port_id': 'gw-port-id'} @mock.patch('neutron.db.l3_db.L3_NAT_dbonly_mixin._get_router') def test_update_floatingip_association_empty_update(self, uf, gf, gr): gr.return_value = {'gw_port_id': 'gw-port-id'} @mock.patch('neutron.db.l3_db.L3_NAT_dbonly_mixin._get_router') self, uf, gf, gr): gr.return_value = {'gw_port_id': 'gw-port-id'} @mock.patch('neutron.objects.qos.rule.get_rules') @mock.patch('neutron.db.l3_db.L3_NAT_dbonly_mixin._get_router') @mock.patch('neutron.db.l3_db.L3_NAT_dbonly_mixin._get_floatingip') @mock.patch('neutron.db.extraroute_db.ExtraRoute_dbonly_mixin.' 'update_floatingip') def test_update_floatingip_associate_with_qos(self, uf, gf, gr, grs): self.fake_floating_ip.update({'fixed_port_id': None, 'qos_policy_id': None}) gf.return_value = self.fake_floating_ip uf.return_value = self.fake_floating_ip_new gr.return_value = {'gw_port_id': 'gw-port-id'} grs.return_value = [ rule.QosDscpMarkingRule(context=None, id=uuidutils.generate_uuid(), dscp_mark=34)] self.l3_inst.update_floatingip(self.context, 'id', 'floatingip') qos_rules = {'neutron:switch_name': 'neutron-fip-net-id', 'neutron:fip_id': self.fake_floating_ip_new['id'], 'dscp': 34, 'direction': 'from-lport', 'switch': 'neutron-fip-net-id', 'match': 'inport == ""gw-port-id"" && ip4.src == 192.168.0.' '10 && is_chassis_resident(""cr-lrp-gw-port-id"")', 'priority': 1000} self.l3_inst._ovn.qos_add.assert_called_once_with(**qos_rules) 'floating_network_id': 'fip-net-id', 'floating_network_id': 'fip-net-id', self.l3_inst._ovn.get_fip_qos_rules.return_value = [ {'priority': 1000, 'direction': 'from-lport', 'external_ids': { ovn_const.OVN_FIP_EXT_ID_KEY: self.fake_floating_ip['id'], ovn_const.OVN_SWITCH_NAME_EXT_ID_KEY: 'neutron-fip-net-id'}, 'match': 'inport == ""gw-port-id"" && ip4.src == 192.168.0.10 && ' 'is_chassis_resident(""cr-lrp-gw-port-id"")', 'action': {'dscp': 36}}, {'priority': 1000, 'direction': 'from-lport', 'external_ids': { ovn_const.OVN_FIP_EXT_ID_KEY: self.fake_floating_ip['id'], ovn_const.OVN_SWITCH_NAME_EXT_ID_KEY: 'neutron-fip-net-id'}, 'match': 'inport == ""gw-port-id"" && ip4.src == 192.167.0.10 && ' 'is_chassis_resident(""cr-lrp-gw-port-id"")', 'action': {'dscp': 36}}] delete_qos_calls = [ mock.call('neutron-fip-net-id', 'from-lport', 1000, 'inport == ""gw-port-id"" && ip4.src == 192.168.0.10 && ' 'is_chassis_resident(""cr-lrp-gw-port-id"")'), mock.call('neutron-fip-net-id', 'from-lport', 1000, 'inport == ""gw-port-id"" && ip4.src == 192.167.0.10 && ' 'is_chassis_resident(""cr-lrp-gw-port-id"")')] self.l3_inst._ovn.qos_del.assert_has_calls( delete_qos_calls, any_order=True) test_extraroute.ExtraRouteDBTestCaseBase, test_qos_fip.FloatingIPQoSDBTestCaseBase): qos_plugin = ('neutron.services.qos.qos_plugin.QoSPlugin') service_plugins = {'qos': qos_plugin, 'l3_plugin_name': l3_plugin, 'revision_plugin_name': 'revisions'} cfg.CONF.set_default('extension_drivers', 'port_security,qos', 'ml2') fip_qos_mgr = test_qos_fip.FloatingIPQoSTestExtensionManager() test_extensions.setup_extensions_middleware(fip_qos_mgr)"," def test_create_floatingip(self, gf): def test_create_floatingip_distributed(self, gf, gp): def test_create_floatingip_distributed_logical_port_down(self, gf, gp): def test_create_floatingip_external_ip_present_in_nat_rule(self, gf): def test_create_floatingip_external_ip_present_type_snat(self, gf): def test_update_floatingip(self, uf, gf): def test_update_floatingip_associate(self, uf, gf): def test_update_floatingip_associate_distributed(self, uf, gf, gp, gn): def test_update_floatingip_association_empty_update(self, uf, gf): self, uf, gf): test_extraroute.ExtraRouteDBTestCaseBase): service_plugins = {'l3_plugin_name': l3_plugin}",961,38
openstack%2Fgovernance~master~I94c777d456db04184afc8825c83abdca6093c1a7,openstack/governance,master,I94c777d456db04184afc8825c83abdca6093c1a7,Declare supported runtimes for Wallaby release,MERGED,2020-07-29 21:27:27.000000000,2020-08-12 14:01:48.000000000,2020-08-12 13:59:44.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 1736}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-29 21:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/fe9375ce59a13fc12d0d4cf53e7ed3c837a0d845', 'message': 'Declare supported runtimes for Wallaby release\n\nBased on the supported distros at the start of the cycle, unit tests\nwill need to run on the following Python runtimes:\n\n* Python 3.6 (default in CentOS 8.0 and openSUSE Leap 15.2)\n* Python 3.8 (default in Ubuntu 20.04 Focal)\n\nNotes kept about the test coverage for Python 3.7 since we have some\nintegration tests still running with 3.7.\n\nChange-Id: I94c777d456db04184afc8825c83abdca6093c1a7\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-07-29 23:41:42.000000000', 'files': ['reference/runtimes/wallaby.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/611f026c7c5fd37055e1e565a0d54c718f5019ee', 'message': 'Declare supported runtimes for Wallaby release\n\nBased on the supported distros at the start of the cycle, unit tests\nwill need to run on the following Python runtimes:\n\n* Python 3.6 (default in CentOS 8.0 and openSUSE Leap 15.2)\n* Python 3.8 (default in Ubuntu 20.04 Focal)\n\nChange-Id: I94c777d456db04184afc8825c83abdca6093c1a7\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",4,743847,611f026c7c5fd37055e1e565a0d54c718f5019ee,21,11,2,11904,,,0,"Declare supported runtimes for Wallaby release

Based on the supported distros at the start of the cycle, unit tests
will need to run on the following Python runtimes:

* Python 3.6 (default in CentOS 8.0 and openSUSE Leap 15.2)
* Python 3.8 (default in Ubuntu 20.04 Focal)

Change-Id: I94c777d456db04184afc8825c83abdca6093c1a7
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/47/743847/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/runtimes/wallaby.rst'],1,fe9375ce59a13fc12d0d4cf53e7ed3c837a0d845,formal-vote,"=========================== Tested Runtimes for Wallaby =========================== At the start of the Wallaby development cycle, the current :ref:`LTS or stable distribution <pti-linux-distros>` versions are: * Ubuntu 20.04 * CentOS 8 * openSUSE Leap 15 Python Runtimes for Wallaby ============================ It is the :doc:`policy <../../resolutions/20181024-python-update-process>` that each OpenStack release cycle will target the latest available version of Python; default Python runtimes on the distributions listed above; and versions used in integration tests at the start of the cycle, at least until the point when all projects have migrated to a later version. Based on the criteria above, all Python-based projects must target and test against, at a minimum: * Python 3.6 (default in CentOS 8.0 and OpenSUSE Leap 15.2) * Python 3.7 (currently used in integration tests) * Python 3.8 (latest available; default in Ubuntu 20.04) The Python 3.7 tests are no longer required once the migration of integration tests from Ubuntu 18.04 (Bionic - Python 3.7) to 20.04 (Focal - Python 3.8) is complete, even if that occurs during the Wallaby development cycle. The TC adjudges that Python 3.7 testing is unlikely to be needed in a future release, so it is unnecessary to maintain even periodic jobs after that point. More details on Python requirements can be found in :ref:`pti-python`. Node.js Runtime for Wallaby =========================== Based on the available versions of Node.js supported in our :ref:`LTS or stable distributions <pti-linux-distros>` all JavaScript testing should target: * Node.js 10 More details on Javascript requirements can be found in :ref:`pti-javascript`. Golang Runtime for Wallaby ========================== At this time, there are still frequent releases of Go with a wide variety of distribution packaged versions. Given the current state of Go support and the number of projects within OpenStack using Go, no formal version declaration is being made at this time. More details on Go requirements can be found in :ref:`pti-golang`. ",,54,0
openstack%2Ftripleo-validations~stable%2Ftrain~I9ef61bfbf5be734a3d533c2af5a1b9a9069b3c0a,openstack/tripleo-validations,stable/train,I9ef61bfbf5be734a3d533c2af5a1b9a9069b3c0a,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,ABANDONED,2019-10-21 14:23:07.000000000,2020-08-12 13:57:29.000000000,,"[{'_account_id': 3153}, {'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 14:23:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/dbff968b7f52da94285c5dc96990ad21e660fbfe', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I9ef61bfbf5be734a3d533c2af5a1b9a9069b3c0a\n'}]",0,689784,dbff968b7f52da94285c5dc96990ad21e660fbfe,7,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I9ef61bfbf5be734a3d533c2af5a1b9a9069b3c0a
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/84/689784/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,dbff968b7f52da94285c5dc96990ad21e660fbfe,create-train,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fkolla~master~I9c33eeaf03be037651f82c831f0e07ab9a27752a,openstack/kolla,master,I9c33eeaf03be037651f82c831f0e07ab9a27752a,[CI] Add no-infra-wheels jobs,MERGED,2020-08-12 08:28:43.000000000,2020-08-12 13:53:46.000000000,2020-08-12 13:48:14.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-12 08:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3d8f84578bb06f2576d69c15ce07dad3b7b89f50', 'message': '[CI] Add no-infra-wheels jobs\n\nSince Kolla is run in the wild against PyPI mirrors which do not\ninclude the OpenDev-provided wheels, it might be nice to be able\nto test these scenarios in the CI.\n\nThese jobs are added to the experimental queue so that they do\nnot consume resources when not needed.\nAny Gerrit user may run them now to verify whether the change\npasses them.\n\nChange-Id: I9c33eeaf03be037651f82c831f0e07ab9a27752a\n'}, {'number': 2, 'created': '2020-08-12 09:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/01391e94b7c17a182bac1ab10cd1be230a77ebe9', 'message': '[CI] Add no-infra-wheels jobs\n\nSince Kolla is run in the wild against PyPI mirrors which do not\ninclude the OpenDev-provided wheels, it might be nice to be able\nto test these scenarios in the CI.\n\nThese jobs are added to the experimental queue so that they do\nnot consume resources when not needed.\nAny Gerrit user may run them now to verify whether the change\npasses them.\n\nChange-Id: I9c33eeaf03be037651f82c831f0e07ab9a27752a\n'}, {'number': 3, 'created': '2020-08-12 09:57:37.000000000', 'files': ['.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/base.yaml', '.zuul.d/ubuntu.yaml', 'tests/templates/template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1ef537d65d95ccaf46190f043431385bd1df8b6b', 'message': '[CI] Add no-infra-wheels jobs\n\nSince Kolla is run in the wild against PyPI mirrors which do not\ninclude the OpenDev-provided wheels, it might be nice to be able\nto test these scenarios in the CI.\n\nThese jobs are added to the experimental queue so that they do\nnot consume resources when not needed.\nAny Gerrit user may run them now to verify whether the change\npasses them.\n\nChange-Id: I9c33eeaf03be037651f82c831f0e07ab9a27752a\n'}]",2,745804,1ef537d65d95ccaf46190f043431385bd1df8b6b,22,4,3,30491,,,0,"[CI] Add no-infra-wheels jobs

Since Kolla is run in the wild against PyPI mirrors which do not
include the OpenDev-provided wheels, it might be nice to be able
to test these scenarios in the CI.

These jobs are added to the experimental queue so that they do
not consume resources when not needed.
Any Gerrit user may run them now to verify whether the change
passes them.

Change-Id: I9c33eeaf03be037651f82c831f0e07ab9a27752a
",git fetch https://review.opendev.org/openstack/kolla refs/changes/04/745804/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/base.yaml', '.zuul.d/ubuntu.yaml', 'tests/templates/template_overrides.j2']",5,3d8f84578bb06f2576d69c15ce07dad3b7b89f50,ci-no-infra-wheels-exp,{% if infra_wheels | bool %}{% endif %},,42,0
openstack%2Fpython-tripleoclient~master~I37d75600825f48be9e15470cacba7b3a0371a3e2,openstack/python-tripleoclient,master,I37d75600825f48be9e15470cacba7b3a0371a3e2,Cleanup UndercloudHostsEntries,MERGED,2020-07-10 13:20:23.000000000,2020-08-12 13:41:05.000000000,2020-08-11 23:16:51.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-10 13:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9271513dcc7df9226b0938a4c3ee71cd8e5fa605', 'message': 'WIP Cleanup UndercloudHostsEntries\n\nChange-Id: I37d75600825f48be9e15470cacba7b3a0371a3e2\nCloses-Bug: #1887165\n'}, {'number': 2, 'created': '2020-07-10 13:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ab56709e4e417cf8d0d5290035ad5986bbfa9729', 'message': 'WIP Cleanup UndercloudHostsEntries\n\nChange-Id: I37d75600825f48be9e15470cacba7b3a0371a3e2\nCloses-Bug: #1887165\n'}, {'number': 3, 'created': '2020-07-11 06:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1f6123a7bd3d01e0a83842c6bf783895ca00770e', 'message': 'WIP Cleanup UndercloudHostsEntries\n\nChange-Id: I37d75600825f48be9e15470cacba7b3a0371a3e2\nCloses-Bug: #1887165\n'}, {'number': 4, 'created': '2020-07-11 17:16:34.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2873dd4df62f104bef6a9ce36bdf5385b75b96b5', 'message': 'Cleanup UndercloudHostsEntries\n\nWhen we update the UndercloudHostsEnries we basically\ntake the output of \'getent hosts ""$(hostname -s).ctlplane""\'\nand push it into a parameter, so tripleo-ansible can\nmake sure it adds the hostentry for the undercloud on\nthe whole overcloud.\n\nThe problem is that getent hosts can return multiple\nentries, which will then be injected into the parameter\nand then written into /etc/hosts. This contstantly adds the\nundercloud.ctlplane string and we end up adding it at\neverydeploy making it grow quadratically.\n\nThis eventually leads to a too large json file and the deploys\nstart failing with:\n    heat.common.exception.RequestLimitExceeded:\n      Request limit exceeded: JSON body size (4396634 bytes)\n        exceeds maximum allowed size (4194304 bytes).\n\nTested this by deploying an environment and then running\na few redeploys to make sure that the undercloud entries\nin /etc/hosts on the undercloud itself do not grow at\neach redeploy.\n\nChange-Id: I37d75600825f48be9e15470cacba7b3a0371a3e2\nCloses-Bug: #1887165\n'}]",4,740457,2873dd4df62f104bef6a9ce36bdf5385b75b96b5,36,9,4,20172,,,0,"Cleanup UndercloudHostsEntries

When we update the UndercloudHostsEnries we basically
take the output of 'getent hosts ""$(hostname -s).ctlplane""'
and push it into a parameter, so tripleo-ansible can
make sure it adds the hostentry for the undercloud on
the whole overcloud.

The problem is that getent hosts can return multiple
entries, which will then be injected into the parameter
and then written into /etc/hosts. This contstantly adds the
undercloud.ctlplane string and we end up adding it at
everydeploy making it grow quadratically.

This eventually leads to a too large json file and the deploys
start failing with:
    heat.common.exception.RequestLimitExceeded:
      Request limit exceeded: JSON body size (4396634 bytes)
        exceeds maximum allowed size (4194304 bytes).

Tested this by deploying an environment and then running
a few redeploys to make sure that the undercloud entries
in /etc/hosts on the undercloud itself do not grow at
each redeploy.

Change-Id: I37d75600825f48be9e15470cacba7b3a0371a3e2
Closes-Bug: #1887165
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/57/740457/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,9271513dcc7df9226b0938a4c3ee71cd8e5fa605,fix-etc-hosts," out_stripped = re.sub(' +', ' ', str(out).rstrip()) # removes any duplicate identical lines unique_lines = list(set(out_stripped.splitlines())) ret = '' # remove any duplicate word for line in unique_lines: hosts_unique = (' '.join( OrderedDict((w, w) for w in line.split()).keys())) ret += hosts_unique + '\n' return ret"," return re.sub(' +', ' ', str(out).rstrip())",10,1
openstack%2Fkuryr-kubernetes~master~I98a5f732b12c37334d85153f995c90f90bf3ba0c,openstack/kuryr-kubernetes,master,I98a5f732b12c37334d85153f995c90f90bf3ba0c,WiP: Update loadbalancer CRD with service spec and endpoints status,ABANDONED,2019-11-12 17:00:51.000000000,2020-08-12 13:35:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 30963}]","[{'number': 1, 'created': '2019-11-12 17:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/02cf38c90cccf3b2b38fabf589a86ecfbd040aa6', 'message': 'WiP: Update loadbalancer CRD with service spec and endpoints status\n\nThis commit adds support for moving the service spec annotation to the\nloadbalancer CRD spec, and also the status annotations on the endpoints.\n\nTODOs\n- Remove lbaas object from the lbaas.py\n- Properly fill the CRD status with the lbaas resources created based on\nthe loadbalncer CRD spec and endpoints\n\nChange-Id: I98a5f732b12c37334d85153f995c90f90bf3ba0c\nPartially-Implements: blueprint move-svc-annotations-to-crds\n'}, {'number': 2, 'created': '2019-11-12 17:09:11.000000000', 'files': ['kuryr_kubernetes/controller/handlers/lbaas.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0cfc25c3d316760ab09009d90651591a544f522a', 'message': 'WiP: Update loadbalancer CRD with service spec and endpoints status\n\nThis commit adds support for moving the service spec annotation to the\nloadbalancer CRD spec, and also the status annotations on the endpoints.\n\nTODOs\n- Remove lbaas object from the lbaas.py\n- Properly fill the CRD status with the lbaas resources created based on\nthe loadbalncer CRD spec and endpoints\n\nChange-Id: I98a5f732b12c37334d85153f995c90f90bf3ba0c\nPartially-Implements: blueprint move-svc-annotations-to-crds\n'}]",0,693884,0cfc25c3d316760ab09009d90651591a544f522a,5,2,2,30963,,,0,"WiP: Update loadbalancer CRD with service spec and endpoints status

This commit adds support for moving the service spec annotation to the
loadbalancer CRD spec, and also the status annotations on the endpoints.

TODOs
- Remove lbaas object from the lbaas.py
- Properly fill the CRD status with the lbaas resources created based on
the loadbalncer CRD spec and endpoints

Change-Id: I98a5f732b12c37334d85153f995c90f90bf3ba0c
Partially-Implements: blueprint move-svc-annotations-to-crds
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/84/693884/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/lbaas.py'],1,02cf38c90cccf3b2b38fabf589a86ecfbd040aa6,bp/move-svc-annotations-to-crds," array_of_ports = [] ports_spec = utils.get_service_ports(service) for port in ports_spec: if port['name'] == None: del port['name'] array_of_ports.append(port) svc_name = service['metadata']['name'] namespace = service['metadata']['namespace'] kubernetes = clients.get_kubernetes_client() net_crd_name = ""svc-"" + svc_name if spec_lb_ip == None: loadbalancer_crd = { 'apiVersion': 'openstack.org/v1', 'kind': 'KuryrLoadBalancer', 'metadata': { 'name': net_crd_name }, 'spec': { 'ip': ip, 'ports': array_of_ports, 'project_id': project_id, 'security_groups_ids': sg_ids, 'subnet_id': subnet_id, 'type': spec_type } } else: loadbalancer_crd = { 'apiVersion': 'openstack.org/v1', 'kind': 'KuryrLoadBalancer', 'metadata': { 'name': net_crd_name }, 'spec': { 'ip': ip, 'lb_ip': spec_lb_ip, 'ports': array_of_ports, 'project_id': project_id, 'security_groups_ids': sg_ids, 'subnet_id': subnet_id, 'type': spec_type } } try: k8s_post = '/apis/openstack.org/v1/namespaces/{}/kuryrloadbalancers'.format(namespace) kubernetes.post(k8s_post, loadbalancer_crd) except k_exc.K8sClientException: LOG.exception(""Kubernetes Client Exception creating kuryrloadbalancer "" ""CRD. %s"" % k_exc.K8sClientException) raise lbaas_state = {} self.parse_status(endpoints, lbaas_state) def parse_status(self, endpoints, lbaas_state): # TODO(scavnic) Do not rely on the lbaas_state obj. # Fill the CRD status when any lbaas resource is created. for lis in lbaas_state.listeners: listener_id = lis.id listener_loadb_id = lis.loadbalancer_id listener_name = lis.name listener_port = lis.port listener_project_id = lis.project_id listener_protocol = lis.protocol listener = [{'id': listener_id, 'loadbalancer_id': listener_loadb_id, 'name': listener_name, 'port': listener_port, 'project_id': listener_project_id, 'protocol': listener_protocol}] loadbalancer_id = lbaas_state.loadbalancer.id loadbalancer_ip = lbaas_state.loadbalancer.ip loadbalancer_name = lbaas_state.loadbalancer.name loadbalancer_port_id = lbaas_state.loadbalancer.port_id loadbalancer_project_id = lbaas_state.loadbalancer.project_id loadbalancer_provider = lbaas_state.loadbalancer.provider loadbalancer_sec_group = lbaas_state.loadbalancer.security_groups loadbalancer_subnet_id = lbaas_state.loadbalancer.subnet_id for member in lbaas_state.members: member_id = member.id member_ip = member.ip member_name = member.name member_pool_id = member.pool_id member_port = member.port member_project_id = member.project_id member_subnet_id = member.subnet_id member = [{'id': member_id, 'ip': member_ip, 'name': member_name, 'pool_id': member_pool_id, 'port': member_port, 'project_id': member_project_id, 'subnet_id': member_subnet_id}] for pool in lbaas_state.pools: pool_id = pool.id pool_loadb_id = pool.loadbalancer_id pool_list_id = pool.listener_id pool_name = pool.name pool_proj_id = pool.project_id pool_protocol = pool.protocol pool = [{'id': pool_id, 'listener_id': pool_list_id, 'loadbalancer_id': pool_loadb_id, 'name': pool_name, 'project_id': pool_proj_id, 'protocol': pool_protocol}] if lbaas_state.service_pub_ip_info == None: loadbalancer_crd_status = { 'status': { 'listeners': listener, 'loadbalancer':{ 'id': loadbalancer_id, 'ip': loadbalancer_ip, 'name': loadbalancer_name, 'port_id': loadbalancer_port_id, 'project_id': loadbalancer_project_id, 'provider': loadbalancer_provider, 'security_groups_ids': loadbalancer_sec_group, 'subnet_id': loadbalancer_subnet_id, }, 'members': member, 'pools': pool, } } else: ser_pub_info_ip_id = lbaas_state.service_pub_ip_info.ip_id ser_pub_info_ip_addr = lbaas_state.service_pub_ip_info.ip_addr ser_pub_info_alloc_method = lbaas_state.service_pub_ip_info.alloc_method loadbalancer_crd_status = { 'status': { 'listeners': listener, 'loadbalancer':{ 'id': loadbalancer_id, 'ip': loadbalancer_ip, 'name': loadbalancer_name, 'port_id': loadbalancer_port_id, 'project_id': loadbalancer_project_id, 'provider': loadbalancer_provider, 'security_groups_ids': loadbalancer_sec_group, 'subnet_id': loadbalancer_subnet_id, }, 'members': member, 'pools': pool, 'service_pub_ip_info':{ 'ip_id': ser_pub_info_ip_id, 'ip_addr': ser_pub_info_ip_addr, 'alloc_method': ser_pub_info_alloc_method, }, } } ",,151,0
openstack%2Ftripleo-upgrade~master~Ia04f6fac9538ac5f13bc084c9e41dc00e62b84fb,openstack/tripleo-upgrade,master,Ia04f6fac9538ac5f13bc084c9e41dc00e62b84fb,Refactor FFWD run to run on 1/3rd of controlplane,MERGED,2020-07-30 11:04:35.000000000,2020-08-12 13:31:12.000000000,2020-08-11 20:00:33.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23811}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-30 11:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b88625dece820868339a70d15861a0d1a12fad2c', 'message': ""Refactor FFWD run to run on 1/3rd of controlplane\n\nIn order to pass the workload test we can't skip networker and\nother roles. We have to upgrade whole controlplane at once. Ceph\nOSD in this case can be updated together with Ceph Mon and it will\nnot cause an outage.\n\nChange-Id: Ia04f6fac9538ac5f13bc084c9e41dc00e62b84fb\n""}, {'number': 2, 'created': '2020-08-05 13:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/838e630b04b978749c6341892dc4d8d87f73f8a2', 'message': ""Refactor FFWD run to run on 1/3rd of controlplane\n\nIn order to pass the workload test we can't skip networker and\nother roles. We have to upgrade whole controlplane at once. Ceph\nOSD in this case can be updated together with Ceph Mon and it will\nnot cause an outage.\n\nChange-Id: Ia04f6fac9538ac5f13bc084c9e41dc00e62b84fb\n""}, {'number': 3, 'created': '2020-08-06 06:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/509771826a586c4fc7204f0c625f3bc23f5ff930', 'message': ""Refactor FFWD run to run on 1/3rd of controlplane\n\nIn order to pass the workload test we can't skip networker and\nother roles. We have to upgrade whole controlplane at once. Ceph\nOSD in this case can be updated together with Ceph Mon and it will\nnot cause an outage.\n\nChange-Id: Ia04f6fac9538ac5f13bc084c9e41dc00e62b84fb\n""}, {'number': 4, 'created': '2020-08-07 13:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/04b446fcefaf936a0a7a83b895a3b95b21f66f37', 'message': ""Refactor FFWD run to run on 1/3rd of controlplane\n\nIn order to pass the workload test we can't skip networker and\nother roles. We have to upgrade whole controlplane at once. Ceph\nOSD in this case can be updated together with Ceph Mon and it will\nnot cause an outage.\n\nChange-Id: Ia04f6fac9538ac5f13bc084c9e41dc00e62b84fb\n""}, {'number': 5, 'created': '2020-08-07 13:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e4d68bc9c1b2348ca7bcf638d014441d007997da', 'message': ""Refactor FFWD run to run on 1/3rd of controlplane\n\nIn order to pass the workload test we can't skip networker and\nother roles. We have to upgrade whole controlplane at once. Ceph\nOSD in this case can be updated together with Ceph Mon and it will\nnot cause an outage.\n\nChange-Id: Ia04f6fac9538ac5f13bc084c9e41dc00e62b84fb\n""}, {'number': 6, 'created': '2020-08-10 07:45:01.000000000', 'files': ['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'tasks/fast-forward-upgrade/overcloud_upgrade_roles.yaml', 'templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6884d3c0d5227b1b31b67f99e5c459465a954d27', 'message': ""Refactor FFWD run to run on 1/3rd of controlplane\n\nIn order to pass the workload test we can't skip networker and\nother roles. We have to upgrade whole controlplane at once. Ceph\nOSD in this case can be updated together with Ceph Mon and it will\nnot cause an outage.\n\nChange-Id: Ia04f6fac9538ac5f13bc084c9e41dc00e62b84fb\n""}]",3,743952,6884d3c0d5227b1b31b67f99e5c459465a954d27,26,5,6,11166,,,0,"Refactor FFWD run to run on 1/3rd of controlplane

In order to pass the workload test we can't skip networker and
other roles. We have to upgrade whole controlplane at once. Ceph
OSD in this case can be updated together with Ceph Mon and it will
not cause an outage.

Change-Id: Ia04f6fac9538ac5f13bc084c9e41dc00e62b84fb
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/52/743952/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'tasks/fast-forward-upgrade/overcloud_upgrade_roles.yaml', 'templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2']",4,b88625dece820868339a70d15861a0d1a12fad2c,,"# FIXME: this is workaround for race in tripleoclient tripleo-ansible-inventory --stack {{ overcloud_stack_name }} --static-yaml-inventory upgrade_inventory.yaml --undercloud-connection ssh --undercloud-key-file /var/lib/mistral/.ssh/tripleo-admin-rsa --ansible_ssh_user tripleo-admin for host in $(echo ""{{ hosts }}"" | sed ""s/,/ /g"") do openstack overcloud upgrade run ${RUN_ANSWER} \ --stack {{ overcloud_stack_name }} \ --static-inventory upgrade_inventory.yaml \ --playbook upgrade_steps_playbook.yaml \ --tags system_upgrade \ --limit ""${host}"" 2>&1 | tee -a ""RHEL_upgrade_${host}"" & done wait",openstack overcloud upgrade run ${RUN_ANSWER} \ --stack {{ overcloud_stack_name }} \ --playbook upgrade_steps_playbook.yaml \ --tags system_upgrade \ --limit {{ hosts }} 2>&1,28,66
openstack%2Ftripleo-upgrade~stable%2Fussuri~I5511605a88c65788eb647df33815a5b19aca3d16,openstack/tripleo-upgrade,stable/ussuri,I5511605a88c65788eb647df33815a5b19aca3d16,Unify post upgrade tags.,MERGED,2020-08-10 16:25:22.000000000,2020-08-12 13:30:32.000000000,2020-08-11 19:57:51.000000000,"[{'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-10 16:25:22.000000000', 'files': ['tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f8d82f798b8e9b79140be2c0ccedcdeebe713410', 'message': 'Unify post upgrade tags.\n\nThere were two different tags for the post upgrade tasks,\nthe overcloud_post_controller and the ffu_overcloud_post.\nThis patch uses the same tag, ffu_overcloud_post, for both.\n\nChange-Id: I5511605a88c65788eb647df33815a5b19aca3d16\n(cherry picked from commit 95f3d031999b54b1e5b3b0c680cb76a01f0ca8ab)\n'}]",0,745570,f8d82f798b8e9b79140be2c0ccedcdeebe713410,9,3,1,11166,,,0,"Unify post upgrade tags.

There were two different tags for the post upgrade tasks,
the overcloud_post_controller and the ffu_overcloud_post.
This patch uses the same tag, ffu_overcloud_post, for both.

Change-Id: I5511605a88c65788eb647df33815a5b19aca3d16
(cherry picked from commit 95f3d031999b54b1e5b3b0c680cb76a01f0ca8ab)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/70/745570/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/main.yml'],1,f8d82f798b8e9b79140be2c0ccedcdeebe713410,, - ffu_overcloud_post tags: ffu_overcloud_post, - controller_post_upgrade tags: controller_post_upgrade,2,2
openstack%2Fneutron-tempest-plugin~master~I924855f9b0d29c54f74ef7fdc6d778fb4f8e2993,openstack/neutron-tempest-plugin,master,I924855f9b0d29c54f74ef7fdc6d778fb4f8e2993,[DNM] add segments to master_jobs.yaml neutron-tempest-plugin-dvr-multinode-scenario subnode,ABANDONED,2020-08-12 10:27:44.000000000,2020-08-12 13:18:32.000000000,,"[{'_account_id': 11952}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 10:27:44.000000000', 'files': ['zuul.d/master_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/50c44c94e9d7230b0c30bcdfcffcb74a52e19f72', 'message': '[DNM] add segments to master_jobs.yaml neutron-tempest-plugin-dvr-multinode-scenario subnode\n\nRelated-Bug: 1891243\nChange-Id: I924855f9b0d29c54f74ef7fdc6d778fb4f8e2993\n'}]",0,745826,50c44c94e9d7230b0c30bcdfcffcb74a52e19f72,4,2,1,11952,,,0,"[DNM] add segments to master_jobs.yaml neutron-tempest-plugin-dvr-multinode-scenario subnode

Related-Bug: 1891243
Change-Id: I924855f9b0d29c54f74ef7fdc6d778fb4f8e2993
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/26/745826/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/master_jobs.yaml'],1,50c44c94e9d7230b0c30bcdfcffcb74a52e19f72,, neutron-segments: true,,1,0
openstack%2Ftripleo-upgrade~master~Ic197e0936d4d4b203db0b05c5446ba93d3d20095,openstack/tripleo-upgrade,master,Ic197e0936d4d4b203db0b05c5446ba93d3d20095,Replace services-docker THT directory by services,MERGED,2020-08-11 10:14:13.000000000,2020-08-12 13:11:39.000000000,2020-08-12 09:29:09.000000000,"[{'_account_id': 11166}, {'_account_id': 18894}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 31291}]","[{'number': 1, 'created': '2020-08-11 10:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/12e6284980d498b770ae4ec3edd5f13cc21b5927', 'message': 'Replace services-docker by services for THT directories\n\nChange-Id: Ic197e0936d4d4b203db0b05c5446ba93d3d20095\n'}, {'number': 2, 'created': '2020-08-11 10:36:04.000000000', 'files': ['templates/overcloud_upgrade_prepare.sh.j2', 'templates/overcloud_upgrade_converge.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/787ddc27e197012327f7ba9c033f617ccac55bae', 'message': 'Replace services-docker THT directory by services\n\nSome earlier releases of THT include the following different directories\nwith environment yaml files: services-docker and services\nIn later THT releases, services-docker directory was removed and only\nservices is available\nDue to that, services-docker needs to be replaced by services from the\nenvironment files path\n\nChange-Id: Ic197e0936d4d4b203db0b05c5446ba93d3d20095\n'}]",0,745649,787ddc27e197012327f7ba9c033f617ccac55bae,14,6,2,31291,,,0,"Replace services-docker THT directory by services

Some earlier releases of THT include the following different directories
with environment yaml files: services-docker and services
In later THT releases, services-docker directory was removed and only
services is available
Due to that, services-docker needs to be replaced by services from the
environment files path

Change-Id: Ic197e0936d4d4b203db0b05c5446ba93d3d20095
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/49/745649/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/overcloud_upgrade_prepare.sh.j2', 'templates/overcloud_upgrade_converge.sh.j2']",2,12e6284980d498b770ae4ec3edd5f13cc21b5927,," -e {{ _env | replace('services-docker', 'services') }} \", -e {{ _env }} \,2,2
openstack%2Fgovernance~master~Ic1fbe5d7ec5400675ffe7e7de6f69da77ac6ac86,openstack/governance,master,Ic1fbe5d7ec5400675ffe7e7de6f69da77ac6ac86,Sort SIG names in repo owner list,MERGED,2020-08-10 16:11:02.000000000,2020-08-12 13:01:36.000000000,2020-08-12 12:58:06.000000000,"[{'_account_id': 1004}, {'_account_id': 8556}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-10 16:11:02.000000000', 'files': ['reference/sigs-repos.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/4db165ec497b7a5f17598d69043bbe1daaed80f4', 'message': 'Sort SIG names in repo owner list\n\nThis sorts the list of SIGs in sig-repos to keep it a little more\norganized. Also updates some of the names so things actually match\nbetween the names defined in openstack/governance-sigs and the list\nhere in case we want to start performing any kind of checks or reporting\nacross the data stored in each location.\n\nChange-Id: Ic1fbe5d7ec5400675ffe7e7de6f69da77ac6ac86\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,745563,4db165ec497b7a5f17598d69043bbe1daaed80f4,11,4,1,11904,,,0,"Sort SIG names in repo owner list

This sorts the list of SIGs in sig-repos to keep it a little more
organized. Also updates some of the names so things actually match
between the names defined in openstack/governance-sigs and the list
here in case we want to start performing any kind of checks or reporting
across the data stored in each location.

Change-Id: Ic1fbe5d7ec5400675ffe7e7de6f69da77ac6ac86
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/63/745563/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/sigs-repos.yaml'],1,4db165ec497b7a5f17598d69043bbe1daaed80f4,documentation-change,Ansible:API:Meta: - repo: openstack/governance-sigs Multi-Arch: - repo: openstack/multi-arch-sig Operation Docs and Tooling: - repo: openstack/operations-guide - repo: openstack/ha-guide - repo: openstack/arch-design PowerVMStackers: - repo: openstack/ceilometer-powervm - repo: openstack/networking-powervm - repo: openstack/nova-powervm Public Cloud SIG: - repo: openstack/publiccloud-sig Security: - repo: openstack/ossa - repo: openstack/security-analysis - repo: openstack/security-doc - repo: openstack/security-specs Technical Writing: - repo: openstack/constellations - repo: openstack/openstack-manuals - repo: openstack/training-labs - repo: openstack/training-guides - repo: openstack/upstream-institute-virtual-environment - repo: openstack/contributor-guide - repo: openstack/api-site Testing and Collaboration Tools: - repo: openstack/bugdaystats - repo: openstack/devstack-gate - repo: openstack/diskimage-builder - repo: openstack/logstash-filters - repo: openstack/nose-html-output - repo: openstack/openstack-nose - repo: openstack/openstack-planet - repo: openstack/openstack-zuul-jobs - repo: openstack/openstack-zuul-roles - repo: openstack/os-loganalyze - repo: openstack/project-config - repo: openstack/ptgbot - repo: openstack/reviewday - repo: openstack/reviewstats,ansible:meta: - repo: openstack/governance-sigs security: - repo: openstack/ossa - repo: openstack/security-analysis - repo: openstack/security-doc - repo: openstack/security-specs operations-docs: - repo: openstack/operations-guide - repo: openstack/ha-guide - repo: openstack/arch-design technical-writing: - repo: openstack/constellations - repo: openstack/openstack-manuals - repo: openstack/training-labs - repo: openstack/training-guides - repo: openstack/upstream-institute-virtual-environment - repo: openstack/contributor-guide - repo: openstack/api-site api:Public Cloud SIG: - repo: openstack/publiccloud-sig PowerVMStackers: - repo: openstack/ceilometer-powervm - repo: openstack/networking-powervm - repo: openstack/nova-powervm Multi-Arch: - repo: openstack/multi-arch-sigTesting and Collaboration Tools: - repo: openstack/bugdaystats - repo: openstack/devstack-gate - repo: openstack/diskimage-builder - repo: openstack/logstash-filters - repo: openstack/nose-html-output - repo: openstack/openstack-nose - repo: openstack/openstack-planet - repo: openstack/openstack-zuul-jobs - repo: openstack/openstack-zuul-roles - repo: openstack/os-loganalyze - repo: openstack/project-config - repo: openstack/ptgbot - repo: openstack/reviewday - repo: openstack/reviewstats,44,44
openstack%2Fopenstack-ansible-os_heat~master~I1485160f330fa289e02874e9286cf7a27009ea76,openstack/openstack-ansible-os_heat,master,I1485160f330fa289e02874e9286cf7a27009ea76,Simplify service creation,MERGED,2020-08-06 16:42:11.000000000,2020-08-12 12:54:29.000000000,2020-08-12 12:51:03.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-08-06 16:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/212c4969fd771a8d8534813b39ce45862fab11b7', 'message': ""Simplify service creation\n\nSince ansible feature has been implemented and we can reference\nopenstack domain with it's name but not only id,\nwe can simplify service creation task.\n\nChange-Id: I1485160f330fa289e02874e9286cf7a27009ea76\n""}, {'number': 2, 'created': '2020-08-06 16:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/b1b24a9a4921717c29e7f3b50f621a68a7f8424c', 'message': ""Simplify service creation\n\nSince ansible feature has been implemented and we can reference\nopenstack domain with it's name but not only id,\nwe can simplify service creation task.\n\nChange-Id: I1485160f330fa289e02874e9286cf7a27009ea76\n""}, {'number': 3, 'created': '2020-08-06 16:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/3135635bcfdf053f95cb4c30e8998a61e333fa52', 'message': ""Simplify service creation\n\nSince ansible feature has been implemented and we can reference\nopenstack domain with it's name but not only id,\nwe can simplify service creation task.\n\nChange-Id: I1485160f330fa289e02874e9286cf7a27009ea76\n""}, {'number': 4, 'created': '2020-08-06 16:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/ad84b4e97b4b5d92426873d6ec7f4ad7e4d9acec', 'message': ""Simplify service creation\n\nSince ansible feature has been implemented and we can reference\nopenstack domain with it's name but not only id,\nwe can simplify service creation task.\n\nChange-Id: I1485160f330fa289e02874e9286cf7a27009ea76\n""}, {'number': 5, 'created': '2020-08-06 19:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/14fd023e88e7cc94317a3c1669a335f41137ce53', 'message': ""Simplify service creation\n\nSince ansible feature has been implemented and we can reference\nopenstack domain with it's name but not only id,\nwe can simplify service creation task.\n\nChange-Id: I1485160f330fa289e02874e9286cf7a27009ea76\n""}, {'number': 6, 'created': '2020-08-06 20:28:32.000000000', 'files': ['tasks/heat_service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/2878de0578f9a03cd9c9d0730c40693762a32f64', 'message': ""Simplify service creation\n\nSince ansible feature has been implemented and we can reference\nopenstack domain with it's name but not only id,\nwe can simplify service creation task.\n\nChange-Id: I1485160f330fa289e02874e9286cf7a27009ea76\n""}]",0,745186,2878de0578f9a03cd9c9d0730c40693762a32f64,15,3,6,28619,,,0,"Simplify service creation

Since ansible feature has been implemented and we can reference
openstack domain with it's name but not only id,
we can simplify service creation task.

Change-Id: I1485160f330fa289e02874e9286cf7a27009ea76
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/86/745186/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/heat_service_setup.yml'],1,212c4969fd771a8d8534813b39ce45862fab11b7,," _domain_name: ""{{ heat_stack_user_domain_name }}"" domain: ""{{ heat_stack_user_domain_name }}""","# NOTE (noonedeadpunk) We can't move domain creation inside service_setup.yml # since for role assignment we need to provide ID of created domain instead of # domain name (which we have). This might be dropped right after backport of # https://github.com/ansible/ansible/commit/737da1853ef2239e27a2fe380c3e83ba5b34de5b - name: Setup the service delegate_to: ""{{ heat_service_setup_host }}"" vars: ansible_python_interpreter: ""{{ heat_service_setup_host_python_interpreter }}"" os_keystone_domain: cloud: default state: present name: ""{{ heat_stack_user_domain_name }}"" endpoint_type: admin verify: ""{{ not keystone_service_adminuri_insecure }}"" register: add_stack_user_domain until: add_stack_user_domain is success retries: 5 delay: 10 domain: ""{{ add_stack_user_domain.id }}""",2,20
openstack%2Fansible-hardening~master~I4e8bdbe8f482f61235b4b14a619e4ed91b01f2f4,openstack/ansible-hardening,master,I4e8bdbe8f482f61235b4b14a619e4ed91b01f2f4,Ensure that motd is not displayed twice,MERGED,2020-08-05 11:09:56.000000000,2020-08-12 12:53:37.000000000,2020-08-12 11:33:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-08-05 11:09:56.000000000', 'files': ['templates/sshd_config_block.j2'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/64ea421bba2e081ebda42297990f534b793b101b', 'message': 'Ensure that motd is not displayed twice\n\nmotd is handled by default with pam_motd.so module. Setting Banner option\nfor sshd_config makes motd to be shown twice, which is excessive\n\nChange-Id: I4e8bdbe8f482f61235b4b14a619e4ed91b01f2f4\n'}]",0,744885,64ea421bba2e081ebda42297990f534b793b101b,9,3,1,28619,,,0,"Ensure that motd is not displayed twice

motd is handled by default with pam_motd.so module. Setting Banner option
for sshd_config makes motd to be shown twice, which is excessive

Change-Id: I4e8bdbe8f482f61235b4b14a619e4ed91b01f2f4
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/85/744885/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/sshd_config_block.j2'],1,64ea421bba2e081ebda42297990f534b793b101b,,,# V-72225 Banner {{ security_sshd_banner_file }},0,2
openstack%2Fopenstack-ansible-tests~master~I9cfeaf79dcaf04f27515f7cf0d2bc27f4f2dba57,openstack/openstack-ansible-tests,master,I9cfeaf79dcaf04f27515f7cf0d2bc27f4f2dba57,Add description to domain during creation,MERGED,2020-08-06 16:53:50.000000000,2020-08-12 12:53:20.000000000,2020-08-12 11:26:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-08-06 16:53:50.000000000', 'files': ['sync/tasks/service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/838f69652e63ecda866302739798e175efbfea4b', 'message': 'Add description to domain during creation\n\nChange-Id: I9cfeaf79dcaf04f27515f7cf0d2bc27f4f2dba57\n'}]",0,745188,838f69652e63ecda866302739798e175efbfea4b,9,3,1,28619,,,0,"Add description to domain during creation

Change-Id: I9cfeaf79dcaf04f27515f7cf0d2bc27f4f2dba57
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/88/745188/1 && git format-patch -1 --stdout FETCH_HEAD,['sync/tasks/service_setup.yml'],1,838f69652e63ecda866302739798e175efbfea4b,," description: ""{{ _domain_name_description | default(omit) }}""",,1,0
openstack%2Fcharm-mysql-innodb-cluster~master~I56303af0dd080c9ca141338bdba4b580808b34ba,openstack/charm-mysql-innodb-cluster,master,I56303af0dd080c9ca141338bdba4b580808b34ba,[DO-NOT-MERGE] Validating https://github.com/stub42/layer-snap/pull/25,ABANDONED,2020-08-11 13:47:54.000000000,2020-08-12 12:47:21.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-11 13:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/bd151fccd7d3ea303783a2ac71c86eb7f1363b04', 'message': '[DO-NOT-MERGE] Validating https://github.com/stub42/layer-snap/pull/25\n\nChange-Id: I56303af0dd080c9ca141338bdba4b580808b34ba\n'}, {'number': 2, 'created': '2020-08-11 15:48:44.000000000', 'files': ['layers/snap/wheelhouse.txt', '.gitignore', 'layers/snap/config.yaml', 'layers/snap/tox.ini', 'layers/snap/reactive/snap.py', 'layers/snap/lib/charms/layer/snap.py', 'layers/snap/README.md', 'layers/snap/reactive/__init__.py', 'layers/snap/layer.yaml', 'layers/snap/copyright'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/8b9b27696ab0373a2db8d7d4331c07bd691fa0e2', 'message': '[DO-NOT-MERGE] Validating https://github.com/stub42/layer-snap/pull/25\n\nChange-Id: I56303af0dd080c9ca141338bdba4b580808b34ba\n'}]",0,745677,8b9b27696ab0373a2db8d7d4331c07bd691fa0e2,9,3,2,31289,,,0,"[DO-NOT-MERGE] Validating https://github.com/stub42/layer-snap/pull/25

Change-Id: I56303af0dd080c9ca141338bdba4b580808b34ba
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/77/745677/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'layers/snap/config.yaml', 'layers/snap/tox.ini', 'layers/snap/reactive/snap.py', 'layers/snap/lib/charms/layer/snap.py', 'layers/snap/README.md', 'layers/snap/reactive/__init__.py', 'layers/snap/copyright', 'layers/snap/layer.yaml']",9,bd151fccd7d3ea303783a2ac71c86eb7f1363b04,do-not-merge/snap-install-retry,includes: - layer:basic repo: https://git.launchpad.net/layer-snap defines: type: object default: {} description: Snaps to be installed during bootstrap and kept updated. ,,1261,1
openstack%2Fkolla-ansible~master~If38adbf124e793574a21ae986f9ee146d587f820,openstack/kolla-ansible,master,If38adbf124e793574a21ae986f9ee146d587f820,"Revert ""Fix post-deploy mode""",MERGED,2020-08-12 09:00:52.000000000,2020-08-12 12:28:17.000000000,2020-08-12 12:26:12.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-12 09:00:52.000000000', 'files': ['releasenotes/notes/bug-1891145-95e3943e8e030962.yaml', 'ansible/post-deploy.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/137f79e49e5bfdd0695755ea273c334ef43ebfd7', 'message': 'Revert ""Fix post-deploy mode""\n\nThis fix was premature as it completely ignores\nthe previously-respected umask.\n\nLet\'s discuss a proper fix and revert this one\nsince CI is fixed elsewhere [1].\n\n[1] https://review.opendev.org/743502\n\nThis reverts commit 87efdce24bc802777d4da58f9f63c8d0838e7120.\n\nChange-Id: If38adbf124e793574a21ae986f9ee146d587f820\n'}]",0,745810,137f79e49e5bfdd0695755ea273c334ef43ebfd7,11,5,1,30491,,,0,"Revert ""Fix post-deploy mode""

This fix was premature as it completely ignores
the previously-respected umask.

Let's discuss a proper fix and revert this one
since CI is fixed elsewhere [1].

[1] https://review.opendev.org/743502

This reverts commit 87efdce24bc802777d4da58f9f63c8d0838e7120.

Change-Id: If38adbf124e793574a21ae986f9ee146d587f820
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/10/745810/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1891145-95e3943e8e030962.yaml', 'ansible/post-deploy.yml']",2,137f79e49e5bfdd0695755ea273c334ef43ebfd7,bug/1891145,, mode: 0644,0,6
openstack%2Fkolla~master~I017d7a6a5d2b1ae6c04556dcf172453a36de5be7,openstack/kolla,master,I017d7a6a5d2b1ae6c04556dcf172453a36de5be7,Remove weird deps,MERGED,2020-08-10 19:20:18.000000000,2020-08-12 12:08:09.000000000,2020-08-12 12:06:07.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30810}]","[{'number': 1, 'created': '2020-08-10 19:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9c4c0f659bdde06be386092ab025528068df4997', 'message': 'Remove weird deps\n\nThis is a follow-up on ""Refactor httpd install to base image""\n[1].\n\nIt seems a copy-paste algorithm was used to craft Dockerfiles\nfor some httpd-enabled services which resulted in an abundance of\nldappool packages getting installed, even in the \'source\' case.\nThis seems to have also kept ldappool at a lower version because\nit did not get updated via pip later.\nThis patch deals with that and also moves ldap deps for Keystone\nto their proper place in \'source\' case (extras).\n\nCinder does not need to include Keystone either.\n\n[1] https://review.opendev.org/744037\n\nChange-Id: I017d7a6a5d2b1ae6c04556dcf172453a36de5be7\n'}, {'number': 2, 'created': '2020-08-10 19:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a97736b9b1057554896d57904e7a1910a2a16d3b', 'message': 'Remove weird deps\n\nThis is a follow-up on ""Refactor httpd install to base image""\n[1].\n\nIt seems a copy-paste algorithm was used to craft Dockerfiles\nfor some httpd-enabled services which resulted in an abundance of\nldappool packages getting installed, even in the \'source\' case.\nThis seems to have also kept ldappool at a lower version because\nit did not get updated via pip later.\nThis patch deals with that and also moves ldap deps for Keystone\nto their proper place in \'source\' case (extras).\nNote Keystone client gets installed in openstack-base.\n\nCinder does not need to include Keystone either.\n\n[1] https://review.opendev.org/744037\n\nChange-Id: I017d7a6a5d2b1ae6c04556dcf172453a36de5be7\n'}, {'number': 3, 'created': '2020-08-11 07:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/59d6744f30fe3228257b786e48ba5fb2b2d62bc9', 'message': 'Remove weird deps\n\nThis is a follow-up on ""Refactor httpd install to base image""\n[1].\n\nIt seems a copy-paste algorithm was used to craft Dockerfiles\nfor some httpd-enabled services which resulted in an abundance of\nldappool packages getting installed, even in the \'source\' case.\nThis seems to have also kept ldappool at a lower version because\nit did not get updated via pip later.\nThis patch deals with that and also moves ldap deps for Keystone\nto their proper place in \'source\' case (extras).\nNote Keystone client gets installed in openstack-base.\n\nCinder does not need to include Keystone either.\n\n[1] https://review.opendev.org/744037\n\nChange-Id: I017d7a6a5d2b1ae6c04556dcf172453a36de5be7\n'}, {'number': 4, 'created': '2020-08-11 17:07:44.000000000', 'files': ['docker/masakari/masakari-base/Dockerfile.j2', 'docker/panko/panko-base/Dockerfile.j2', 'docker/vitrage/vitrage-base/Dockerfile.j2', 'docker/openstack-base/Dockerfile.j2', 'docker/aodh/aodh-base/Dockerfile.j2', 'docker/vitrage/vitrage-api/Dockerfile.j2', 'docker/cinder/cinder-api/Dockerfile.j2', 'docker/zun/zun-base/Dockerfile.j2', 'docker/keystone/keystone-base/Dockerfile.j2', 'docker/qinling/qinling-base/Dockerfile.j2', 'docker/zaqar/zaqar-base/Dockerfile.j2', 'docker/gnocchi/gnocchi-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6319bc6f559ab5c49a7ad701b606b58af62337b0', 'message': 'Remove weird deps\n\nThis is a follow-up on ""Refactor httpd install to base image""\n[1].\n\nIt seems a copy-paste algorithm was used to craft Dockerfiles\nfor some httpd-enabled services which resulted in an abundance of\nldappool packages getting installed, even in the \'source\' case.\nThis seems to have also kept ldappool at a lower version because\nit did not get updated via pip later.\nThis patch deals with that and also moves ldap deps for Keystone\nto their proper place in \'source\' case (extras).\nNote Keystone client gets installed in openstack-base.\n\nCinder does not need to include Keystone either.\n\n[1] https://review.opendev.org/744037\n\nChange-Id: I017d7a6a5d2b1ae6c04556dcf172453a36de5be7\n'}]",10,745578,6319bc6f559ab5c49a7ad701b606b58af62337b0,27,5,4,30491,,,0,"Remove weird deps

This is a follow-up on ""Refactor httpd install to base image""
[1].

It seems a copy-paste algorithm was used to craft Dockerfiles
for some httpd-enabled services which resulted in an abundance of
ldappool packages getting installed, even in the 'source' case.
This seems to have also kept ldappool at a lower version because
it did not get updated via pip later.
This patch deals with that and also moves ldap deps for Keystone
to their proper place in 'source' case (extras).
Note Keystone client gets installed in openstack-base.

Cinder does not need to include Keystone either.

[1] https://review.opendev.org/744037

Change-Id: I017d7a6a5d2b1ae6c04556dcf172453a36de5be7
",git fetch https://review.opendev.org/openstack/kolla refs/changes/78/745578/4 && git format-patch -1 --stdout FETCH_HEAD,"['docker/aodh/aodh-base/Dockerfile.j2', 'docker/vitrage/vitrage-api/Dockerfile.j2', 'docker/cinder/cinder-api/Dockerfile.j2', 'docker/zun/zun-base/Dockerfile.j2', 'docker/keystone/keystone-base/Dockerfile.j2', 'docker/masakari/masakari-base/Dockerfile.j2', 'docker/panko/panko-base/Dockerfile.j2', 'docker/qinling/qinling-base/Dockerfile.j2', 'docker/zaqar/zaqar-base/Dockerfile.j2', 'docker/gnocchi/gnocchi-base/Dockerfile.j2', 'docker/vitrage/vitrage-base/Dockerfile.j2']",11,9c4c0f659bdde06be386092ab025528068df4997,remove-weird-deps,, 'python3-ldappool' 'python3-ldappool',1,29
openstack%2Fhorizon~master~I40042e3509c872a2962dc07ffba91ab50c9191be,openstack/horizon,master,I40042e3509c872a2962dc07ffba91ab50c9191be,Imported Translations from Zanata,MERGED,2020-08-06 06:50:34.000000000,2020-08-12 11:28:44.000000000,2020-08-12 11:27:13.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-06 06:50:34.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/55222ec594c3d48d95bfa16a46b1492742843c72', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I40042e3509c872a2962dc07ffba91ab50c9191be\n'}]",0,745074,55222ec594c3d48d95bfa16a46b1492742843c72,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I40042e3509c872a2962dc07ffba91ab50c9191be
",git fetch https://review.opendev.org/openstack/horizon refs/changes/74/745074/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'],1,55222ec594c3d48d95bfa16a46b1492742843c72,zanata/translations,"""POT-Creation-Date: 2020-08-04 05:32+0000\n""""PO-Revision-Date: 2020-08-05 05:41+0000\n""msgid ""18.4.1-12"" msgstr ""18.4.1-12""","""POT-Creation-Date: 2020-07-31 16:33+0000\n""""PO-Revision-Date: 2020-08-02 06:08+0000\n""msgid ""18.4.1-11"" msgstr ""18.4.1-11""",4,4
openstack%2Ftempest-horizon~master~I9788ddd2a0d60a0ab0cb240e7d97dce144032a1b,openstack/tempest-horizon,master,I9788ddd2a0d60a0ab0cb240e7d97dce144032a1b,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-06 16:20:31.000000000,2020-08-12 11:19:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-06 16:20:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest-horizon/commit/f82456c35dd93810b3ff72edbda3d544805d2c35', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40187\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I9788ddd2a0d60a0ab0cb240e7d97dce144032a1b\n'}]",0,745180,f82456c35dd93810b3ff72edbda3d544805d2c35,3,1,1,29313,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional integration tests jobs
- docs jobs
Story: #2007865
Task: #40187

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: I9788ddd2a0d60a0ab0cb240e7d97dce144032a1b
",git fetch https://review.opendev.org/openstack/tempest-horizon refs/changes/80/745180/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f82456c35dd93810b3ff72edbda3d544805d2c35,,#test-focal,,1,0
openstack%2Fironic-python-agent~master~I4e2ab36792c47997e4f604abe806a0cc4338398e,openstack/ironic-python-agent,master,I4e2ab36792c47997e4f604abe806a0cc4338398e,"Revert ""Switch the inspector job to tinyIPA until DIB is fixed""",MERGED,2020-07-03 08:33:15.000000000,2020-08-12 11:14:48.000000000,2020-08-12 11:11:36.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-03 08:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b308092d0287d97d9064579ea9fb7714cd74ca39', 'message': 'Revert ""Switch the inspector job to tinyIPA until DIB is fixed""\n\nThis reverts commit a08029a44ea4872d1c7afd51311a15be4f6a257f.\n\nChange-Id: I4e2ab36792c47997e4f604abe806a0cc4338398e\n'}, {'number': 2, 'created': '2020-08-07 11:29:59.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/15807819a85ce8ba49b4f88f3c268007ab520a87', 'message': 'Revert ""Switch the inspector job to tinyIPA until DIB is fixed""\n\nThis reverts commit a08029a44ea4872d1c7afd51311a15be4f6a257f.\n\nChange-Id: I4e2ab36792c47997e4f604abe806a0cc4338398e\n'}]",0,739180,15807819a85ce8ba49b4f88f3c268007ab520a87,20,5,2,10239,,,0,"Revert ""Switch the inspector job to tinyIPA until DIB is fixed""

This reverts commit a08029a44ea4872d1c7afd51311a15be4f6a257f.

Change-Id: I4e2ab36792c47997e4f604abe806a0cc4338398e
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/80/739180/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-python-agent-jobs.yaml'],1,b308092d0287d97d9064579ea9fb7714cd74ca39,gate,, # FIXME(dtantsur): switch back to DIB IRONIC_RAMDISK_TYPE: tinyipa,0,2
openstack%2Fironic~master~I2ac03dc2148a56aa23e86c6adb29a16bac443de3,openstack/ironic,master,I2ac03dc2148a56aa23e86c6adb29a16bac443de3,Adds support SUM based firmware update as deploy step,MERGED,2020-07-14 06:44:46.000000000,2020-08-12 10:48:05.000000000,2020-08-12 10:33:09.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-14 06:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c5ee7367ba5a4313b5970fffae2e062df98fb40a', 'message': 'Adds support SUM based firmware update as deploy step\n\nSUM based firmware update exists as an inband clean step. This commit\nadds it as inband deploy step to `ilo` and `ilo5` hardware types.\n\nNote: Need to update the patch with new proliantutils version where the\nsupport for this deploy step is added.\n\nChange-Id: I2ac03dc2148a56aa23e86c6adb29a16bac443de3\nStory: #2007923\nTask: #40337\nDepends-on: https://review.opendev.org/#/c/739465\n'}, {'number': 2, 'created': '2020-08-03 07:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1e89ee5739ec7e783182af9e54280c10ab7a8338', 'message': 'Adds support SUM based firmware update as deploy step\n\nSUM based firmware update exists as an inband clean step. This commit\nadds it as inband deploy step to `ilo` and `ilo5` hardware types.\n\nChange-Id: I2ac03dc2148a56aa23e86c6adb29a16bac443de3\nStory: #2007923\nTask: #40337\n'}, {'number': 3, 'created': '2020-08-08 08:53:13.000000000', 'files': ['ironic/drivers/modules/ilo/management.py', 'driver-requirements.txt', 'ironic/tests/unit/drivers/modules/ilo/test_management.py', 'releasenotes/notes/add-ilo-inband-deploy-step-update-firmware-using-sum-cfee84a19120dd3c.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/bc0cc8a8faf14a163e5751a353e1e1981afe4894', 'message': 'Adds support SUM based firmware update as deploy step\n\nSUM based firmware update exists as an inband clean step. This commit\nadds it as inband deploy step to `ilo` and `ilo5` hardware types.\n\nChange-Id: I2ac03dc2148a56aa23e86c6adb29a16bac443de3\nStory: #2007923\nTask: #40337\n'}]",4,740893,bc0cc8a8faf14a163e5751a353e1e1981afe4894,31,8,3,11076,,,0,"Adds support SUM based firmware update as deploy step

SUM based firmware update exists as an inband clean step. This commit
adds it as inband deploy step to `ilo` and `ilo5` hardware types.

Change-Id: I2ac03dc2148a56aa23e86c6adb29a16bac443de3
Story: #2007923
Task: #40337
",git fetch https://review.opendev.org/openstack/ironic refs/changes/93/740893/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ilo/management.py', 'ironic/tests/unit/drivers/modules/ilo/test_management.py', 'releasenotes/notes/add-ilo-inband-deploy-step-update-firmware-using-sum-cfee84a19120dd3c.yaml']",3,c5ee7367ba5a4313b5970fffae2e062df98fb40a,ilo_deploy_steps,--- features: - | Adds inband deploy step ``flash_firmware_sum`` to the ``management`` interface of the ``ilo`` and ``ilo5`` hardware types. ,,325,89
openstack%2Fsolum~master~I9d5bc3a079c489aa7853f75ad2500635406872f3,openstack/solum,master,I9d5bc3a079c489aa7853f75ad2500635406872f3,Fix lower-constraints.,MERGED,2020-08-11 11:13:35.000000000,2020-08-12 10:47:57.000000000,2020-08-12 10:46:35.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-08-11 11:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/2da705210b8e26d40bf5220726e01824c30f2f7a', 'message': 'Fix lower-constraints.\n\nFix several lower-constraints[1] dependency.\n\n[1] https://zuul.opendev.org/t/openstack/build/32ee2a3c45304aa5b0a8d368492a6c63\n\nChange-Id: I9d5bc3a079c489aa7853f75ad2500635406872f3\n'}, {'number': 2, 'created': '2020-08-11 13:10:47.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/solum/commit/369f4d2756190150e3cc117b4fb11778d0058529', 'message': 'Fix lower-constraints.\n\nFix several lower-constraints[1] dependency.\n\n[1] https://zuul.opendev.org/t/openstack/build/32ee2a3c45304aa5b0a8d368492a6c63\n\nChange-Id: I9d5bc3a079c489aa7853f75ad2500635406872f3\n'}]",0,745654,369f4d2756190150e3cc117b4fb11778d0058529,13,3,2,31245,,,0,"Fix lower-constraints.

Fix several lower-constraints[1] dependency.

[1] https://zuul.opendev.org/t/openstack/build/32ee2a3c45304aa5b0a8d368492a6c63

Change-Id: I9d5bc3a079c489aa7853f75ad2500635406872f3
",git fetch https://review.opendev.org/openstack/solum refs/changes/54/745654/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,2da705210b8e26d40bf5220726e01824c30f2f7a,fix_lower_constraints,kombu==4.3.0netaddr==0.7.20oslo.db==4.40.0,kombu==4.1.0netaddr==0.7.19oslo.db==4.35.0,3,3
openstack%2Fironic-inspector~master~I1a692a32b5731c33f56ddc53ac5e4f0089c464f0,openstack/ironic-inspector,master,I1a692a32b5731c33f56ddc53ac5e4f0089c464f0,Fix requirements job,MERGED,2020-08-11 15:07:23.000000000,2020-08-12 10:43:21.000000000,2020-08-12 10:41:43.000000000,"[{'_account_id': 11076}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-11 15:07:23.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/523c52d8f022c22740143b33604ccd72ba4b876e', 'message': 'Fix requirements job\n\nThe jsonpath-rw library has no cap anymore.\n\nChange-Id: I1a692a32b5731c33f56ddc53ac5e4f0089c464f0\n'}]",0,745695,523c52d8f022c22740143b33604ccd72ba4b876e,9,4,1,23851,,,0,"Fix requirements job

The jsonpath-rw library has no cap anymore.

Change-Id: I1a692a32b5731c33f56ddc53ac5e4f0089c464f0
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/95/745695/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,523c52d8f022c22740143b33604ccd72ba4b876e,fix-requirements,jsonpath-rw>=1.2.0 # Apache-2.0,"jsonpath-rw<2.0,>=1.2.0 # Apache-2.0",1,1
openstack%2Fnetworking-powervm~master~I246cd3325aae165e0da04c434546ac4499b35c34,openstack/networking-powervm,master,I246cd3325aae165e0da04c434546ac4499b35c34,Use unittest.mock instead of third party mock,NEW,2020-04-18 16:56:20.000000000,2020-08-12 10:42:18.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-04-18 16:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/47bd02050caaaeb1ff7bec3be0935fc17a8b3fc5', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I246cd3325aae165e0da04c434546ac4499b35c34\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-06-22 14:41:25.000000000', 'files': ['networking_powervm/tests/unit/plugins/ibm/powervm/test_utils.py', 'networking_powervm/tests/unit/plugins/ibm/powervm/base.py', 'networking_powervm/tests/unit/plugins/ibm/powervm/test_agent_base.py', 'test-requirements.txt', 'networking_powervm/tests/unit/plugins/ibm/powervm/test_sea_agent.py', 'networking_powervm/tests/unit/plugins/ibm/powervm/test_prov_req.py', 'networking_powervm/tests/unit/plugins/ml2/drivers/test_mech_pvm.py', 'networking_powervm/tests/unit/plugins/ibm/powervm/test_sriov_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/856d7116e25af206fac855ff4c060993e7927271', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I246cd3325aae165e0da04c434546ac4499b35c34\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,720959,856d7116e25af206fac855ff4c060993e7927271,9,5,2,11904,,,0,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: I246cd3325aae165e0da04c434546ac4499b35c34
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-powervm refs/changes/59/720959/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_powervm/tests/unit/plugins/ibm/powervm/test_utils.py', 'networking_powervm/tests/unit/plugins/ibm/powervm/base.py', 'networking_powervm/tests/unit/plugins/ibm/powervm/test_agent_base.py', 'test-requirements.txt', 'networking_powervm/tests/unit/plugins/ibm/powervm/test_sea_agent.py', 'networking_powervm/tests/unit/plugins/ibm/powervm/test_prov_req.py', 'networking_powervm/tests/unit/plugins/ml2/drivers/test_mech_pvm.py', 'networking_powervm/tests/unit/plugins/ibm/powervm/test_sriov_agent.py']",8,47bd02050caaaeb1ff7bec3be0935fc17a8b3fc5,unittest.mock,from unittest import mock ,import mock,11,8
openstack%2Ftripleo-upgrade~stable%2Fussuri~Ie1de1483d41d588b0792fb8dbbaee05f2acf2180,openstack/tripleo-upgrade,stable/ussuri,Ie1de1483d41d588b0792fb8dbbaee05f2acf2180,Evacuate computes before RHEL upgrade,MERGED,2020-08-12 07:06:49.000000000,2020-08-12 10:10:02.000000000,2020-08-12 10:10:02.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 07:06:49.000000000', 'files': ['templates/node_upgrade_pre.sh.j2', 'tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'templates/workload_launch.sh.j2', 'tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml', 'tasks/fast-forward-upgrade/overcloud_upgrade_roles.yaml', 'tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/554efaa15e399d0e4e4b9cc50afb59f55328ce3e', 'message': 'Evacuate computes before RHEL upgrade\n\nBy reusing the node_upgrade_pre code from upgrade\nwe can just evacuate each compute before it runs\nthe system upgrade. This requires us to limit the\noverall workloads and clean them up. One should\nalways use workloads yes and workloads-cleanup yes\nunless your computes can handle at least 9 workloads\nat the same time.\n\nChange-Id: Ie1de1483d41d588b0792fb8dbbaee05f2acf2180\n(cherry picked from commit d89639ad1b29a75a1fb3ad00210e2261fa0ac456)\n'}]",0,745793,554efaa15e399d0e4e4b9cc50afb59f55328ce3e,7,2,1,11166,,,0,"Evacuate computes before RHEL upgrade

By reusing the node_upgrade_pre code from upgrade
we can just evacuate each compute before it runs
the system upgrade. This requires us to limit the
overall workloads and clean them up. One should
always use workloads yes and workloads-cleanup yes
unless your computes can handle at least 9 workloads
at the same time.

Change-Id: Ie1de1483d41d588b0792fb8dbbaee05f2acf2180
(cherry picked from commit d89639ad1b29a75a1fb3ad00210e2261fa0ac456)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/93/745793/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/node_upgrade_pre.sh.j2', 'tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'templates/workload_launch.sh.j2', 'tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml', 'tasks/fast-forward-upgrade/overcloud_upgrade_roles.yaml', 'tasks/fast-forward-upgrade/main.yml']",7,554efaa15e399d0e4e4b9cc50afb59f55328ce3e,," - name: launch workload shell: | set -o pipefail bash {{ workload_launch_script }} 2>&1 {{ timestamper_cmd }} > workload_launch.log args: chdir: ""{{ working_dir }}"" when: workload_launch|bool ",,43,11
openstack%2Ftripleo-upgrade~stable%2Ftrain~I8b785a05533621cfbb3d273d9be292ab8f6c3e65,openstack/tripleo-upgrade,stable/train,I8b785a05533621cfbb3d273d9be292ab8f6c3e65,[Train only] Composable roles speedup hack,ABANDONED,2020-07-23 14:50:49.000000000,2020-08-12 10:02:42.000000000,,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-23 14:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/71558915dfbe4e14dab0f4760ec8e2dee0510aa5', 'message': '[Train only] Composable roles speedup hack\n\nTo resolve issue with not having strategy free in upgrade ansible\nwe should just run the system upgrade commands in parallel.\n\nChange-Id: I8b785a05533621cfbb3d273d9be292ab8f6c3e65\n'}, {'number': 2, 'created': '2020-07-23 16:04:51.000000000', 'files': ['templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6bc1c7e6a1c07721f5a73b6fb6b583ab4fa2dfc9', 'message': '[Train only] Composable roles speedup hack\n\nTo resolve issue with not having strategy free in upgrade ansible\nwe should just run the system upgrade commands in parallel.\n\nChange-Id: I8b785a05533621cfbb3d273d9be292ab8f6c3e65\n'}]",4,742690,6bc1c7e6a1c07721f5a73b6fb6b583ab4fa2dfc9,8,3,2,11166,,,0,"[Train only] Composable roles speedup hack

To resolve issue with not having strategy free in upgrade ansible
we should just run the system upgrade commands in parallel.

Change-Id: I8b785a05533621cfbb3d273d9be292ab8f6c3e65
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/90/742690/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2'],1,71558915dfbe4e14dab0f4760ec8e2dee0510aa5,,"for host in $(echo ""{{ hosts }}"" | sed ""s/,/ /g"") do openstack overcloud upgrade run ${RUN_ANSWER} \ --stack {{ overcloud_stack_name }} \ --playbook upgrade_steps_playbook.yaml \ --tags system_upgrade \ --limit ""${host}"" 2>&1 & done wait -n", openstack overcloud upgrade run ${RUN_ANSWER} \ --stack {{ overcloud_stack_name }} \ --playbook upgrade_steps_playbook.yaml \ --tags system_upgrade \ --limit {{ hosts }} 2>&1,9,5
openstack%2Fsushy~master~I4013f642b78ebec5b84ae1dd81f70c43e7060722,openstack/sushy,master,I4013f642b78ebec5b84ae1dd81f70c43e7060722,Fix retrieving software & firmware inventory,MERGED,2020-08-03 13:52:47.000000000,2020-08-12 09:30:10.000000000,2020-08-12 09:28:56.000000000,"[{'_account_id': 7160}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 27909}]","[{'number': 1, 'created': '2020-08-03 13:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/b87ca42d45056f80bdb637a94867fa0097101841', 'message': ""Fix retrieving software & firmware inventory\n\nThis patch fixes the UpdateService software_inventory and\nfirmware_inventory properties so that they don't error out and they\nreturn the correct data.\n\nChange-Id: I4013f642b78ebec5b84ae1dd81f70c43e7060722\nStory: 2007970\nTask: 40472\n""}, {'number': 2, 'created': '2020-08-05 18:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/e9e232c118283bb6d3bc36c66f055136309d7a6c', 'message': ""Fix retrieving software & firmware inventory\n\nThis patch fixes the UpdateService software_inventory and\nfirmware_inventory properties so that they don't error out and they\nreturn the correct data. Also overhauled the inventory related test\ncases.\n\nChange-Id: I4013f642b78ebec5b84ae1dd81f70c43e7060722\nStory: 2007970\nTask: 40472\n""}, {'number': 3, 'created': '2020-08-05 18:53:14.000000000', 'files': ['releasenotes/notes/fix-software-firmware-inventory-3e0e79e052aa76d9.yaml', 'sushy/tests/unit/json_samples/updateservice_no_inv.json', 'sushy/tests/unit/resources/updateservice/test_softwareinventory.py', 'sushy/tests/unit/json_samples/softwareinventory_collection.json', 'sushy/tests/unit/resources/updateservice/test_updateservice.py', 'sushy/resources/updateservice/updateservice.py', 'sushy/tests/unit/json_samples/firmwareinventory_collection.json'], 'web_link': 'https://opendev.org/openstack/sushy/commit/3d4555771623e35fbf64cb40a41135d9aa8ed5b4', 'message': ""Fix retrieving software & firmware inventory\n\nThis patch fixes the UpdateService software_inventory and\nfirmware_inventory properties so that they don't error out and they\nreturn the correct data. Also overhauled the inventory related test\ncases.\n\nChange-Id: I4013f642b78ebec5b84ae1dd81f70c43e7060722\nStory: 2007970\nTask: 40472\n""}]",4,744474,3d4555771623e35fbf64cb40a41135d9aa8ed5b4,24,11,3,10250,,,0,"Fix retrieving software & firmware inventory

This patch fixes the UpdateService software_inventory and
firmware_inventory properties so that they don't error out and they
return the correct data. Also overhauled the inventory related test
cases.

Change-Id: I4013f642b78ebec5b84ae1dd81f70c43e7060722
Story: 2007970
Task: 40472
",git fetch https://review.opendev.org/openstack/sushy refs/changes/74/744474/3 && git format-patch -1 --stdout FETCH_HEAD,['sushy/resources/updateservice/updateservice.py'],1,b87ca42d45056f80bdb637a94867fa0097101841,fix_soft_firm_inv," _firmware_inventory_path = base.Field(['FirmwareInventory', '@odata.id']) _software_inventory_path = base.Field(['SoftwareInventory', '@odata.id']) self._conn, self._software_inventory_path, redfish_version=self.redfish_version, registries=self.registries) self._conn, self._firmware_inventory_path, redfish_version=self.redfish_version, registries=self.registries)"," def _get_software_inventory_collection_path(self): """"""Helper function to find the SoftwareInventoryCollections path"""""" soft_inv_col = self.json.get('SoftwareInventory') if not soft_inv_col: raise exceptions.MissingAttributeError( attribute='SoftwareInventory', resource=self._path) return soft_inv_col.get('@odata.id') self._conn, self._get_software_inventory_collection_path, redfish_version=self.redfish_version, registries=self.registries) self._conn, self._get_software_inventory_collection_path, redfish_version=self.redfish_version, registries=self.registries)",12,12
openstack%2Fopenstack-ansible-os_gnocchi~stable%2Fussuri~Idb3d5da2dc851fb57dd94d31136e43c34350e0cf,openstack/openstack-ansible-os_gnocchi,stable/ussuri,Idb3d5da2dc851fb57dd94d31136e43c34350e0cf,Flush handlers before doing db upgrade,MERGED,2020-08-11 19:32:04.000000000,2020-08-12 09:29:33.000000000,2020-08-12 09:27:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-11 19:32:04.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/18005c69bdbafce13d697947eca8e8ba60fecfa3', 'message': 'Flush handlers before doing db upgrade\n\nDB upgrade should be run after service restart, as new config should\nbe applied for that (instead of the default one).\n\nChange-Id: Idb3d5da2dc851fb57dd94d31136e43c34350e0cf\n(cherry picked from commit a72f6d3ac8ea669c518c022112a751c9f192df89)\n'}]",0,745727,18005c69bdbafce13d697947eca8e8ba60fecfa3,9,3,1,25023,,,0,"Flush handlers before doing db upgrade

DB upgrade should be run after service restart, as new config should
be applied for that (instead of the default one).

Change-Id: Idb3d5da2dc851fb57dd94d31136e43c34350e0cf
(cherry picked from commit a72f6d3ac8ea669c518c022112a751c9f192df89)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/27/745727/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,18005c69bdbafce13d697947eca8e8ba60fecfa3,,- name: Flush handlers meta: flush_handlers ,,3,0
openstack%2Freleases~master~Ie5d9e24d083a63c9e4999191e85e2e3bd17035e8,openstack/releases,master,Ie5d9e24d083a63c9e4999191e85e2e3bd17035e8,release stable Glance,MERGED,2020-08-07 10:44:44.000000000,2020-08-12 09:08:00.000000000,2020-08-12 09:08:00.000000000,"[{'_account_id': 308}, {'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 10:44:44.000000000', 'files': ['deliverables/train/glance.yaml', 'deliverables/ussuri/glance.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1dcb6d1c0abfb8c50be9cd1d0ab3b3537388ada7', 'message': 'release stable Glance\n\nChange-Id: Ie5d9e24d083a63c9e4999191e85e2e3bd17035e8\n'}]",0,745309,1dcb6d1c0abfb8c50be9cd1d0ab3b3537388ada7,11,5,1,5202,,,0,"release stable Glance

Change-Id: Ie5d9e24d083a63c9e4999191e85e2e3bd17035e8
",git fetch https://review.opendev.org/openstack/releases refs/changes/09/745309/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/glance.yaml', 'deliverables/ussuri/glance.yaml']",2,1dcb6d1c0abfb8c50be9cd1d0ab3b3537388ada7,glance_tu, - version: 20.0.1 projects: - repo: openstack/glance hash: d63d72799766801414500934e06db8c88807fe59,,8,0
openstack%2Fkolla-ansible~master~I0f81214b4f95fe8a378844745ebc77f3c43027ab,openstack/kolla-ansible,master,I0f81214b4f95fe8a378844745ebc77f3c43027ab,Fix post-deploy mode,MERGED,2020-08-11 10:14:10.000000000,2020-08-12 09:00:52.000000000,2020-08-11 16:49:43.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-11 10:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/33a102674d207cb31ffbe4fa93c6756c336f9c1c', 'message': 'Fix post-deploy mode\n\nAnsible changed the default mode for files, even in stable\nreleases. [1]\n\n[1] https://github.com/ansible/ansible/pull/70221\n\nChange-Id: I0f81214b4f95fe8a378844745ebc77f3c43027ab\nCloses-Bug: #1891145\n'}, {'number': 2, 'created': '2020-08-11 10:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c7977396b205d18fcf882b2056be4a3df55db6d6', 'message': 'Fix post-deploy mode\n\nAnsible changed the default mode for files, even in stable\nreleases. [1]\n\nThis change restores the previous default (with the common\numask).\n\n[1] https://github.com/ansible/ansible/pull/70221\n\nChange-Id: I0f81214b4f95fe8a378844745ebc77f3c43027ab\nCloses-Bug: #1891145\n'}, {'number': 3, 'created': '2020-08-11 12:02:29.000000000', 'files': ['releasenotes/notes/bug-1891145-95e3943e8e030962.yaml', 'ansible/post-deploy.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/87efdce24bc802777d4da58f9f63c8d0838e7120', 'message': 'Fix post-deploy mode\n\nAnsible changed the default mode for files, even in stable\nreleases. [1]\n\nThis change restores the previous default (with the common\numask).\n\n[1] https://github.com/ansible/ansible/pull/70221\n\nChange-Id: I0f81214b4f95fe8a378844745ebc77f3c43027ab\nCloses-Bug: #1891145\n'}]",0,745648,87efdce24bc802777d4da58f9f63c8d0838e7120,24,5,3,30491,,,0,"Fix post-deploy mode

Ansible changed the default mode for files, even in stable
releases. [1]

This change restores the previous default (with the common
umask).

[1] https://github.com/ansible/ansible/pull/70221

Change-Id: I0f81214b4f95fe8a378844745ebc77f3c43027ab
Closes-Bug: #1891145
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/48/745648/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1891145-95e3943e8e030962.yaml', 'ansible/post-deploy.yml']",2,33a102674d207cb31ffbe4fa93c6756c336f9c1c,bug/1891145, mode: 0644,,6,0
openstack%2Freleases~master~I3e6286665c6eaa6bb42cd6bf74d64965dafc3e99,openstack/releases,master,I3e6286665c6eaa6bb42cd6bf74d64965dafc3e99,Release python-glanceclient,MERGED,2020-08-06 09:06:03.000000000,2020-08-12 09:00:22.000000000,2020-08-12 09:00:22.000000000,"[{'_account_id': 308}, {'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 09:06:03.000000000', 'files': ['deliverables/victoria/python-glanceclient.yaml', 'deliverables/ussuri/python-glanceclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b4b3682ade6f57a49d9506253690c17d0f201892', 'message': 'Release python-glanceclient\n\n3.1.2 stable/ussuri\n3.2.1 master\n\nChange-Id: I3e6286665c6eaa6bb42cd6bf74d64965dafc3e99\n'}]",0,745097,b4b3682ade6f57a49d9506253690c17d0f201892,11,5,1,5202,,,0,"Release python-glanceclient

3.1.2 stable/ussuri
3.2.1 master

Change-Id: I3e6286665c6eaa6bb42cd6bf74d64965dafc3e99
",git fetch https://review.opendev.org/openstack/releases refs/changes/97/745097/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/python-glanceclient.yaml', 'deliverables/ussuri/python-glanceclient.yaml']",2,b4b3682ade6f57a49d9506253690c17d0f201892,gc_uv, - version: 3.1.2 projects: - repo: openstack/python-glanceclient hash: 4c63903403d7ef7801c8e274b67f9647ff329991,,8,0
openstack%2Fkolla~master~I5365c813bab5e3205fd34eb64dc3337f192d67d4,openstack/kolla,master,I5365c813bab5e3205fd34eb64dc3337f192d67d4,[CI] Fix wheel url for CentOS,MERGED,2020-08-11 07:37:43.000000000,2020-08-12 08:29:08.000000000,2020-08-12 07:25:29.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23717}, {'_account_id': 24072}, {'_account_id': 25905}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-11 07:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1898d39b8118e200fd36913faf13fa0d553756f2', 'message': 'Fix wheel url for CentOS\n\nCentOS wheels do not differentiate between minor versions atm.\n\nChange-Id: I5365c813bab5e3205fd34eb64dc3337f192d67d4\n'}, {'number': 2, 'created': '2020-08-11 07:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/65b66fbeefd65322347d21c178bf662ffdd22e55', 'message': '[CI] Fix wheel url for CentOS\n\nCentOS wheels do not differentiate between minor versions atm.\n\nChange-Id: I5365c813bab5e3205fd34eb64dc3337f192d67d4\n'}, {'number': 3, 'created': '2020-08-11 08:02:08.000000000', 'files': ['tests/vars/zuul.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a3ef68d91c60c9d451450ae0e371e25402bb4c6f', 'message': '[CI] Fix wheel url for CentOS\n\nCentOS wheels do not differentiate between minor versions atm.\n\nChange-Id: I5365c813bab5e3205fd34eb64dc3337f192d67d4\n'}]",1,745631,a3ef68d91c60c9d451450ae0e371e25402bb4c6f,25,8,3,30491,,,0,"[CI] Fix wheel url for CentOS

CentOS wheels do not differentiate between minor versions atm.

Change-Id: I5365c813bab5e3205fd34eb64dc3337f192d67d4
",git fetch https://review.opendev.org/openstack/kolla refs/changes/31/745631/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/vars/zuul.yml'],1,1898d39b8118e200fd36913faf13fa0d553756f2,fix-wheels,"nodepool_wheel_mirror: ""https://{{ zuul_site_mirror_fqdn }}/wheel/{{ ansible_distribution | lower }}-{{ ansible_os_family == 'Debian' | ternary(ansible_distribution_version, ansible_distribution_major_version) }}-{{ ansible_architecture | lower }}""","nodepool_wheel_mirror: ""https://{{ zuul_site_mirror_fqdn }}/wheel/{{ ansible_distribution | lower }}-{{ ansible_distribution_version }}-{{ ansible_architecture | lower }}""",1,1
openstack%2Fironic-inspector~master~I000ffe5915a1c74b0e4eeb93ceeb4aee429a1901,openstack/ironic-inspector,master,I000ffe5915a1c74b0e4eeb93ceeb4aee429a1901,CI: run doc8 on api-ref,MERGED,2020-07-28 10:46:03.000000000,2020-08-12 08:10:04.000000000,2020-08-12 08:08:45.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-28 10:46:03.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/introspection-api-versions.inc', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/a5e8cce1afd008d828dec7de55c342bd42c38a57', 'message': 'CI: run doc8 on api-ref\n\nChange-Id: I000ffe5915a1c74b0e4eeb93ceeb4aee429a1901\n'}]",1,743507,a5e8cce1afd008d828dec7de55c342bd42c38a57,9,4,1,10239,,,0,"CI: run doc8 on api-ref

Change-Id: I000ffe5915a1c74b0e4eeb93ceeb4aee429a1901
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/07/743507/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/introspection-api-versions.inc', 'tox.ini']",3,a5e8cce1afd008d828dec7de55c342bd42c38a57,pep8, doc8 -e .rst -e .inc README.rst CONTRIBUTING.rst doc/source api-ref/source, doc8 README.rst CONTRIBUTING.rst doc/source,19,18
openstack%2Ftripleo-upgrade~master~Ie1de1483d41d588b0792fb8dbbaee05f2acf2180,openstack/tripleo-upgrade,master,Ie1de1483d41d588b0792fb8dbbaee05f2acf2180,Evacuate computes before RHEL upgrade,MERGED,2020-07-30 11:04:35.000000000,2020-08-12 07:06:49.000000000,2020-08-11 19:48:29.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-30 11:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e36f594791d58af372f613e0653c650bdf35f72b', 'message': 'Evacuate computes before RHEL upgrade\n\nChange-Id: Ie1de1483d41d588b0792fb8dbbaee05f2acf2180\n'}, {'number': 2, 'created': '2020-08-05 13:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6aef3f51fe6025942514dc91373663a2ae782486', 'message': 'Evacuate computes before RHEL upgrade\n\nChange-Id: Ie1de1483d41d588b0792fb8dbbaee05f2acf2180\n'}, {'number': 3, 'created': '2020-08-06 06:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3b7ef39a577e6db2221992955f1ff1f08b16b7f8', 'message': 'Evacuate computes before RHEL upgrade\n\nChange-Id: Ie1de1483d41d588b0792fb8dbbaee05f2acf2180\n'}, {'number': 4, 'created': '2020-08-07 13:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/abaf0dc11f845c9d2d2d091931cbceab15fbf156', 'message': 'Evacuate computes before RHEL upgrade\n\nBy reusing the node_upgrade_pre code from upgrade\nwe can just evacuate each compute before it runs\nthe system upgrade. This requires us to limit the\noverall workloads and clean them up. One should\nalways use workloads yes and workloads-cleanup yes\nunless your computes can handle at least 9 workloads\nat the same time.\n\nChange-Id: Ie1de1483d41d588b0792fb8dbbaee05f2acf2180\n'}, {'number': 5, 'created': '2020-08-10 07:45:01.000000000', 'files': ['templates/node_upgrade_pre.sh.j2', 'tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'templates/workload_launch.sh.j2', 'tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml', 'tasks/fast-forward-upgrade/overcloud_upgrade_roles.yaml', 'tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d89639ad1b29a75a1fb3ad00210e2261fa0ac456', 'message': 'Evacuate computes before RHEL upgrade\n\nBy reusing the node_upgrade_pre code from upgrade\nwe can just evacuate each compute before it runs\nthe system upgrade. This requires us to limit the\noverall workloads and clean them up. One should\nalways use workloads yes and workloads-cleanup yes\nunless your computes can handle at least 9 workloads\nat the same time.\n\nChange-Id: Ie1de1483d41d588b0792fb8dbbaee05f2acf2180\n'}]",2,743951,d89639ad1b29a75a1fb3ad00210e2261fa0ac456,28,5,5,11166,,,0,"Evacuate computes before RHEL upgrade

By reusing the node_upgrade_pre code from upgrade
we can just evacuate each compute before it runs
the system upgrade. This requires us to limit the
overall workloads and clean them up. One should
always use workloads yes and workloads-cleanup yes
unless your computes can handle at least 9 workloads
at the same time.

Change-Id: Ie1de1483d41d588b0792fb8dbbaee05f2acf2180
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/51/743951/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml', 'tasks/fast-forward-upgrade/overcloud_upgrade_roles.yaml']",4,e36f594791d58af372f613e0653c650bdf35f72b,, compute_present: false pcs_present: false compute_present: false pcs_present: false compute_present: true,,32,2
openstack%2Ftempest~master~I220211b349ecfa804ce82d6c4e73e0c0fdedb092,openstack/tempest,master,I220211b349ecfa804ce82d6c4e73e0c0fdedb092,Add reset_attach_status test for volume in scenario,ABANDONED,2017-11-02 09:46:40.000000000,2020-08-12 06:31:08.000000000,,"[{'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 20378}, {'_account_id': 21897}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-11-02 09:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a3f7db19abc3eefbf097b0bc9f3f440ef0521386', 'message': 'Add reset_attach_status test for volume\n\nAdd reset_attach_status test for volume in test_volumes_actions.py\n\nChange-Id: I220211b349ecfa804ce82d6c4e73e0c0fdedb092\n'}, {'number': 2, 'created': '2017-11-02 10:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f96212ef017776b1220c54a51fa32323ac54b66b', 'message': 'Add reset_attach_status test for volume\n\nAdd reset_attach_status test for volume in test_volumes_actions.py\n\nChange-Id: I220211b349ecfa804ce82d6c4e73e0c0fdedb092\n'}, {'number': 3, 'created': '2017-11-04 02:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ea4950a509e71bcc700be780931cee53dc11e6cf', 'message': 'Add reset_attach_status test for volume\n\nAdd reset_attach_status test for volume in test_volumes_actions.py\n\nChange-Id: I220211b349ecfa804ce82d6c4e73e0c0fdedb092\n'}, {'number': 4, 'created': '2017-11-04 06:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/abde65fdf5db8320202abdf9fc7788854952e143', 'message': 'Add reset_attach_status test for volume\n\nAdd reset_attach_status test for volume in test_volumes_actions.py\n\nChange-Id: I220211b349ecfa804ce82d6c4e73e0c0fdedb092\n'}, {'number': 5, 'created': '2017-11-04 09:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/802b9b2b5d9e4e2a1f48ec873f89f81b8422af46', 'message': 'Add reset_attach_status test for volume\n\nAdd reset_attach_status test for volume in test_volumes_actions.py\n\nChange-Id: I220211b349ecfa804ce82d6c4e73e0c0fdedb092\n'}, {'number': 6, 'created': '2017-11-04 10:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a4467a4a410f7859ac3ff52c6e7c9b7688ac51cd', 'message': 'Add reset_attach_status test for volume\n\nAdd reset_attach_status test for volume in test_volumes_actions.py\n\nChange-Id: I220211b349ecfa804ce82d6c4e73e0c0fdedb092\n'}, {'number': 7, 'created': '2017-11-08 08:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cb341c7a85a7e08b1c4cc1b2b4f1ac6f425f20d4', 'message': 'Add reset_attach_status test for volume in scenario\n\nReset_attach_status for the volume just change DB state and\nhave no effect on nova side.\n\nChange-Id: I220211b349ecfa804ce82d6c4e73e0c0fdedb092\n'}, {'number': 8, 'created': '2017-11-08 08:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6f6672a50f5e2140b68dc145778489e90d0b3615', 'message': 'Add reset_attach_status test for volume in scenario\n\nReset_attach_status for the volume just change DB state and\nhave no effect on nova side.\n\nChange-Id: I220211b349ecfa804ce82d6c4e73e0c0fdedb092\n'}, {'number': 9, 'created': '2017-11-08 08:47:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f17267cce3c08ae6bc8822a3e21909cf8277016f', 'message': 'Add reset_attach_status test for volume in scenario\n\nReset_attach_status for the volume just change DB state and\nhave no effect on nova side.\n\nChange-Id: I220211b349ecfa804ce82d6c4e73e0c0fdedb092\n'}, {'number': 10, 'created': '2017-11-08 09:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/63aac1aad14a5c0dc36d2d52ada28e2439425155', 'message': 'Add reset_attach_status test for volume in scenario\n\nReset_attach_status for the volume just change DB state and\nhave no effect on nova side.\n\nChange-Id: I220211b349ecfa804ce82d6c4e73e0c0fdedb092\n'}, {'number': 11, 'created': '2017-11-09 03:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/03a6a0f7db97dd30a17da7d88d9c459d2f802718', 'message': 'Add reset_attach_status test for volume in scenario\n\nReset_attach_status for the volume just change DB state and\nhave no effect on nova side.\n\nChange-Id: I220211b349ecfa804ce82d6c4e73e0c0fdedb092\n'}, {'number': 12, 'created': '2017-11-09 05:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fab791534bda8ce48b1851b7a70fe64e7c9c22b4', 'message': 'Add reset_attach_status test for volume in scenario\n\nReset_attach_status for the volume just change DB state and\nhave no effect on nova side.\n\nChange-Id: I220211b349ecfa804ce82d6c4e73e0c0fdedb092\n'}, {'number': 13, 'created': '2017-12-04 04:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a099d6c3c40f6d11ad394bf85a7810102adf321e', 'message': 'Add reset_attach_status test for volume in scenario\n\nReset_attach_status for the volume just change DB state and\nhave no effect on nova side.\n\nChange-Id: I220211b349ecfa804ce82d6c4e73e0c0fdedb092\n'}, {'number': 14, 'created': '2018-01-03 09:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7171f218b9ed654268ac9191affd2b4b76bd30e4', 'message': 'Add reset_attach_status test for volume in scenario\n\nReset_attach_status for the volume just change DB state and\nhave no effect on nova side.\n\nChange-Id: I220211b349ecfa804ce82d6c4e73e0c0fdedb092\n'}, {'number': 15, 'created': '2018-01-04 08:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/189196a883bc50ebc2055f1ae32d070a4be076f6', 'message': 'Add reset_attach_status test for volume in scenario\n\nReset_attach_status for the volume just change DB state and\nhave no effect on nova side.\n\nChange-Id: I220211b349ecfa804ce82d6c4e73e0c0fdedb092\n'}, {'number': 16, 'created': '2018-01-07 13:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bde72869caef2f44d6c8b081d9e5f559c2ca7acc', 'message': 'Add reset_attach_status test for volume in scenario\n\nReset_attach_status for the volume just change DB state and\nhave no effect on nova side.\n\nChange-Id: I220211b349ecfa804ce82d6c4e73e0c0fdedb092\n'}, {'number': 17, 'created': '2018-11-27 01:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0eed3085ead765359a3ddad3971d6072f4c76fee', 'message': '[WIP] Add reset_attach_status test for volume in scenario\n\nReset_attach_status for the volume just change DB state and\nhave no effect on nova side.\n\nChange-Id: I220211b349ecfa804ce82d6c4e73e0c0fdedb092\n'}, {'number': 18, 'created': '2018-11-27 07:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d638ddb2b7e5231a9de57cb645046a3ac33a0598', 'message': 'Add reset_attach_status test for volume in scenario\n\nReset_attach_status for the volume just change DB state and\nhave no effect on nova side.\n\nChange-Id: I220211b349ecfa804ce82d6c4e73e0c0fdedb092\n'}, {'number': 19, 'created': '2018-11-27 10:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7240a021bb751f96f068f37593fde77685245a41', 'message': 'Add reset_attach_status test for volume in scenario\n\nReset_attach_status for the volume just change DB state and\nhave no effect on nova side.\n\nChange-Id: I220211b349ecfa804ce82d6c4e73e0c0fdedb092\n'}, {'number': 20, 'created': '2018-11-28 04:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7f6663adac99271c8331131fd1ae3596ca27c7e7', 'message': 'Add reset_attach_status test for volume in scenario\n\nReset_attach_status for the volume just change DB state and\nhave no effect on nova side.\n\nChange-Id: I220211b349ecfa804ce82d6c4e73e0c0fdedb092\n'}, {'number': 21, 'created': '2018-11-28 04:43:21.000000000', 'files': ['tempest/scenario/test_volume_reset_attach_status.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/119df4259772c80f26d662cecfc84ee14b215011', 'message': 'Add reset_attach_status test for volume in scenario\n\nReset_attach_status for the volume just change DB state and\nhave no effect on nova side.\n\nChange-Id: I220211b349ecfa804ce82d6c4e73e0c0fdedb092\n'}]",28,517228,119df4259772c80f26d662cecfc84ee14b215011,133,9,21,21897,,,0,"Add reset_attach_status test for volume in scenario

Reset_attach_status for the volume just change DB state and
have no effect on nova side.

Change-Id: I220211b349ecfa804ce82d6c4e73e0c0fdedb092
",git fetch https://review.opendev.org/openstack/tempest refs/changes/28/517228/12 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_volumes_actions.py'],1,a3f7db19abc3eefbf097b0bc9f3f440ef0521386,reset_attach_status_volume," @decorators.idempotent_id('dd278a98-bfa7-11e7-9abc-fa163e65f5ce') @utils.services('compute') def test_volume_reset_attach_status(self): # Create a server and a volume server_id = self.create_server()['id'] volume_id = self.create_volume()['id'] # Attach volume self.volumes_client.attach_volume( volume_id, instance_uuid=server_id, mountpoint='/dev/%s' % CONF.compute.volume_device_name) waiters.wait_for_volume_resource_status(self.volumes_client, volume_id, 'in-use') self.addCleanup(waiters.wait_for_volume_resource_status, self.volumes_client, volume_id, 'available') self.addCleanup(self.volumes_client.detach_volume, volume_id) # Reset attach_status to detached self.admin_volume_client.reset_volume_status(volume_id, attach_status='detached') vol_info = self.volumes_client.show_volume(volume_id)['volume'] self.assertEmpty(vol_info['attachments']) ",,23,0
openstack%2Ftripleo-heat-templates~master~I1873baab4325521dbcdc142462940ee3cf370c1b,openstack/tripleo-heat-templates,master,I1873baab4325521dbcdc142462940ee3cf370c1b,Remove YAQL queries for RabbitCookie,MERGED,2020-08-05 17:42:43.000000000,2020-08-12 05:04:17.000000000,2020-08-12 05:04:16.000000000,"[{'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 27427}]","[{'number': 1, 'created': '2020-08-05 17:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/26f91bc99df4d963916b3c28aec10244edd52268', 'message': '[WIP] Remove YAQL queries for RabbitCookie\n\nThis change removes the YAQL used to parse the rabbitmq cookie. This will\nnow use heat directly to conditionally extract the cookie as needed.\n\nStory: 2007973\nTask: 40553\nTask: 40554\nTask: 40555\nTask: 40556\nTask: 40557\nTask: 40559\nTask: 40561\nTask: 40562\n\nChange-Id: I1873baab4325521dbcdc142462940ee3cf370c1b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-08-06 04:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f84d96a70380bd6be9df9610a7f73aa110afa498', 'message': '[WIP] Remove YAQL queries for RabbitCookie\n\nThis change removes the YAQL used to parse the rabbitmq cookie. This will\nnow use heat directly to conditionally extract the cookie as needed.\n\nStory: 2007973\nTask: 40553\nTask: 40554\nTask: 40555\nTask: 40556\nTask: 40557\nTask: 40559\nTask: 40561\nTask: 40562\n\nChange-Id: I1873baab4325521dbcdc142462940ee3cf370c1b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-08-06 04:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e9a93611fe08a7ad5c59c06aabf6c61ad4537e0c', 'message': '[WIP] Remove YAQL queries for RabbitCookie\n\nThis change removes the YAQL used to parse the rabbitmq cookie. This will\nnow use heat directly to conditionally extract the cookie as needed.\n\nStory: 2007973\nTask: 40553\nTask: 40554\nTask: 40555\nTask: 40556\nTask: 40557\nTask: 40559\nTask: 40561\nTask: 40562\n\nChange-Id: I1873baab4325521dbcdc142462940ee3cf370c1b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-08-06 04:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/37b82782f5977247990ea8525142cd65c2bb0bd0', 'message': '[WIP] Remove YAQL queries for RabbitCookie\n\nThis change removes the YAQL used to parse the rabbitmq cookie. This will\nnow use heat directly to conditionally extract the cookie as needed.\n\nStory: 2007973\nTask: 40553\nTask: 40554\nTask: 40555\nTask: 40556\nTask: 40557\nTask: 40559\nTask: 40561\nTask: 40562\n\nChange-Id: I1873baab4325521dbcdc142462940ee3cf370c1b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2020-08-06 12:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b9b187c627bdbe24a5f0ae0dacea8d8a6e422717', 'message': 'Remove YAQL queries for RabbitCookie\n\nThis change removes the YAQL used to parse the rabbitmq cookie. This\nwill now use heat directly to conditionally extract the cookie as\nneeded.\n\nStory: 2007973\nTask: 40553\nTask: 40554\nTask: 40555\nTask: 40556\nTask: 40557\nTask: 40559\nTask: 40561\nTask: 40562\n\nChange-Id: I1873baab4325521dbcdc142462940ee3cf370c1b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2020-08-11 13:13:19.000000000', 'files': ['deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52fdbaf9b2891e9665f1748e5862962b069dac21', 'message': 'Remove YAQL queries for RabbitCookie\n\nThis change removes the YAQL used to parse the rabbitmq cookie. This\nwill now use heat directly to conditionally extract the cookie as\nneeded.\n\nStory: 2007973\nTask: 40553\nTask: 40554\nTask: 40555\nTask: 40556\nTask: 40557\nTask: 40559\nTask: 40561\nTask: 40562\n\nChange-Id: I1873baab4325521dbcdc142462940ee3cf370c1b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",2,744957,52fdbaf9b2891e9665f1748e5862962b069dac21,25,8,6,7353,,,0,"Remove YAQL queries for RabbitCookie

This change removes the YAQL used to parse the rabbitmq cookie. This
will now use heat directly to conditionally extract the cookie as
needed.

Story: 2007973
Task: 40553
Task: 40554
Task: 40555
Task: 40556
Task: 40557
Task: 40559
Task: 40561
Task: 40562

Change-Id: I1873baab4325521dbcdc142462940ee3cf370c1b
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/744957/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",6,26f91bc99df4d963916b3c28aec10244edd52268,yaql-free," internal_rabbit_cookie: {equals: [{get_param: RabbitCookie}, '']} if: - internal_rabbit_cookie - {get_param: RabbitCookie} - {get_param: [DefaultPasswords, rabbit_cookie]} if: - internal_rabbit_cookie - {get_param: RabbitCookie} - {get_param: [DefaultPasswords, rabbit_cookie]}"," yaql: expression: $.data.passwords.where($ != '').first() data: passwords: - {get_param: RabbitCookie} - {get_param: [DefaultPasswords, rabbit_cookie]} yaql: expression: $.data.passwords.where($ != '').first() data: passwords: - {get_param: RabbitCookie} - {get_param: [DefaultPasswords, rabbit_cookie]}",35,42
openstack%2Fpython-tripleoclient~master~Iede9c498478c9249ce915258f2df496a52f3fc91,openstack/python-tripleoclient,master,Iede9c498478c9249ce915258f2df496a52f3fc91,Don't build image upload tasks when dry_run is True,MERGED,2020-08-05 07:33:15.000000000,2020-08-12 04:28:01.000000000,2020-08-06 17:56:51.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-05 07:33:15.000000000', 'files': ['tripleoclient/v1/container_image.py', 'tripleoclient/tests/v1/test_container_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/094bbc657c35b8249e362733675a28c1cf7b2042', 'message': ""Don't build image upload tasks when dry_run is True\n\nIt seems redundant to build upload tasks when dry-run\nflag is True with image push.\n\nChange-Id: Iede9c498478c9249ce915258f2df496a52f3fc91\n""}]",0,744836,094bbc657c35b8249e362733675a28c1cf7b2042,10,3,1,8833,,,0,"Don't build image upload tasks when dry_run is True

It seems redundant to build upload tasks when dry-run
flag is True with image push.

Change-Id: Iede9c498478c9249ce915258f2df496a52f3fc91
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/36/744836/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/container_image.py', 'tripleoclient/tests/v1/test_container_image.py']",2,094bbc657c35b8249e362733675a28c1cf7b2042,container_image, mock_task.assert_not_called() mock_add_upload.assert_not_called() mock_run_tasks.assert_not_called()," dry_run=parsed_args.dry_run, dry_run=parsed_args.dry_run, dry_run=parsed_args.dry_run, mock_task.assert_called_once_with( image_name='namespace/foo:tag', pull_source='docker.io', push_destination='127.0.0.1:8787', append_tag=parsed_args.append_tag, modify_role=None, modify_vars=None, dry_run=parsed_args.dry_run, cleanup=True, multi_arch=parsed_args.multi_arch) mock_add_upload.assert_called_once_with(mock_uploadtask) mock_run_tasks.assert_called_once()",16,29
openstack%2Ftripleo-heat-templates~master~I41c93394c171572bdd6e0b24c842b5e86e0b8e07,openstack/tripleo-heat-templates,master,I41c93394c171572bdd6e0b24c842b5e86e0b8e07,Add support for Gnocchi NFS Backend,MERGED,2020-06-08 06:15:20.000000000,2020-08-12 04:24:20.000000000,2020-08-05 18:34:45.000000000,"[{'_account_id': 3153}, {'_account_id': 4264}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-06-08 06:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cb83c3557e035164a97eb086460f68501620fb2f', 'message': 'Add support for Gnocchi NFS Backend\n\nChange-Id: I41c93394c171572bdd6e0b24c842b5e86e0b8e07\n'}, {'number': 2, 'created': '2020-06-08 06:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/195637ee566f954a4ea0d99ee05d492546938c62', 'message': 'Add support for Gnocchi NFS Backend\n\nThis patch introduces support for Gnocchi NFS backend, so that operatos\ncan configure nfs share to store data of Gnocchi.\n\nChange-Id: I41c93394c171572bdd6e0b24c842b5e86e0b8e07\n'}, {'number': 3, 'created': '2020-06-08 06:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/26c877b5863ad90cd3bd3462dded8a37b199a373', 'message': 'Add support for Gnocchi NFS Backend\n\nThis patch introduces support for Gnocchi NFS backend, so that\noperators can configure nfs share to store data of Gnocchi.\n\nChange-Id: I41c93394c171572bdd6e0b24c842b5e86e0b8e07\n'}, {'number': 4, 'created': '2020-06-08 07:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33f96e689a9bec9d0941578c9607b4ce2f3868b8', 'message': 'Add support for Gnocchi NFS Backend\n\nThis patch introduces support for Gnocchi NFS backend, so that\noperators can configure nfs share to store data of Gnocchi.\n\nChange-Id: I41c93394c171572bdd6e0b24c842b5e86e0b8e07\n'}, {'number': 5, 'created': '2020-06-08 10:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de01259a7c1b308e1c63c48858febad15ec44f2a', 'message': 'Add support for Gnocchi NFS Backend\n\nThis patch introduces support for Gnocchi NFS backend, so that\noperators can configure nfs share to store data of Gnocchi.\n\nChange-Id: I41c93394c171572bdd6e0b24c842b5e86e0b8e07\n'}, {'number': 6, 'created': '2020-06-09 03:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a8e92b3abe4f1d97ee318b998d305c8a3a3409bb', 'message': 'Add support for Gnocchi NFS Backend\n\nThis patch introduces support for Gnocchi NFS backend, so that\noperators can configure nfs share to store data of Gnocchi.\n\nChange-Id: I41c93394c171572bdd6e0b24c842b5e86e0b8e07\n'}, {'number': 7, 'created': '2020-06-10 12:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ce8bf088cc68ea05f0a4fa0b92c860e0b64c46e9', 'message': 'Add support for Gnocchi NFS Backend\n\nThis patch introduces support for Gnocchi NFS backend, so that\noperators can configure nfs share to store data of Gnocchi.\n\nChange-Id: I41c93394c171572bdd6e0b24c842b5e86e0b8e07\n'}, {'number': 8, 'created': '2020-06-24 10:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/35729e1b151082f499f8cfaa109afefb7dfda759', 'message': 'Add support for Gnocchi NFS Backend\n\nThis patch introduces support for Gnocchi NFS backend, so that\noperators can configure nfs share to store data of Gnocchi.\n\nChange-Id: I41c93394c171572bdd6e0b24c842b5e86e0b8e07\n'}, {'number': 9, 'created': '2020-07-27 13:34:03.000000000', 'files': ['deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'releasenotes/notes/gnocchi-nfs-backend-90febc9f87e7df08.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a6bbb4941ba846c9561f40c190f36991f384f68a', 'message': 'Add support for Gnocchi NFS Backend\n\nThis patch introduces support for Gnocchi NFS backend, so that\noperators can configure nfs share to store data of Gnocchi.\n\nCloses-Bug: #1889075\nChange-Id: I41c93394c171572bdd6e0b24c842b5e86e0b8e07\n'}]",10,734009,a6bbb4941ba846c9561f40c190f36991f384f68a,77,9,9,9816,,,0,"Add support for Gnocchi NFS Backend

This patch introduces support for Gnocchi NFS backend, so that
operators can configure nfs share to store data of Gnocchi.

Closes-Bug: #1889075
Change-Id: I41c93394c171572bdd6e0b24c842b5e86e0b8e07
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/09/734009/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/gnocchi-nfs-backend-90febc9f87e7df08.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml']",2,cb83c3557e035164a97eb086460f68501620fb2f,bug/1889075," GnocchiNfsEnabled: default: false description: > When using GnocchiBackend 'file', mount NFS share for data storage type: boolean GnocchiNfsShare: default: '' description: > NFS share to mount for data storage (when GnocchiNfsEnabled is true) type: string GnocchiNfsOptions: default: '_netdev,bg,intr,context=system_u:object_r:container_file_t:s0' description: > Nfs mount options for data storage (when GnocchiNfsEnabled is true) type: string nfs_backend_enabled: {equals: [{get_param: GnocchiNfsEnabled}, true]|} params: GNOCCHI_FILE_BASE_PATH: {get_param: GnocchiFileBasePath} SE_FLAGS: if: - nfs_backend_enabled - 'shared' - 'shared,z' params: GNOCCHI_FILE_BASE_PATH: {get_param: GnocchiFileBasePath} params: GNOCCHI_FILE_BASE_PATH: {get_param: GnocchiFileBasePath} SE_FLAGS: if: - nfs_backend_enabled - 'shared' - 'shared,z' params: GNOCCHI_FILE_BASE_PATH: {get_param: GnocchiFileBasePath} SE_FLAGS: if: - nfs_backend_enabled - 'shared' - 'shared,z' - name: Mount NFS on host vars: nfs_backend_enabled: {get_param: GnocchiNfsEnabled} nfs_share: {get_param: GnocchiNfsShare} nfs_options: {get_param: GnocchiNfsOptions} file_base_path: {get_param: GnocchiFileBasePath} mount: name=""{{file_base_path}}"" src=""{{nfs_share}}"" fstype=nfs opts=""{{nfs_options}}"" state=mounted when: nfs_backend_enabled"," params: {GNOCCHI_FILE_BASE_PATH: {get_param: GnocchiFileBasePath}, SE_FLAGS: 'shared,z'} params: {GNOCCHI_FILE_BASE_PATH: {get_param: GnocchiFileBasePath}} params: {GNOCCHI_FILE_BASE_PATH: {get_param: GnocchiFileBasePath}, SE_FLAGS: 'shared,z'} params: {GNOCCHI_FILE_BASE_PATH: {get_param: GnocchiFileBasePath}, SE_FLAGS: 'shared,z'}",56,4
openstack%2Fopenstack-helm~master~I56a436b3442c5102d6d2e67ef0cd1e035ebca109,openstack/openstack-helm,master,I56a436b3442c5102d6d2e67ef0cd1e035ebca109,Increase timeout for neutron helm tests run in parallel,MERGED,2020-08-11 17:36:19.000000000,2020-08-12 03:22:30.000000000,2020-08-12 03:20:09.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-11 17:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/77b70c8f3bf5f06dc432e5a48fbca874ba1c1df1', 'message': ""Increase timeout for neutron helm tests run in parallel\n\nOn small part of oversubscribed executors it takes longer than 15\nminutes to run neutron helm tests if it's run in parallel with others.\n\nChange-Id: I56a436b3442c5102d6d2e67ef0cd1e035ebca109\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n""}, {'number': 2, 'created': '2020-08-12 01:05:37.000000000', 'files': ['zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5dfb1ec9ee868c0ffa4864af70f1bd8e5c1b5f13', 'message': ""Increase timeout for neutron helm tests run in parallel\n\nOn small part of oversubscribed executors it takes longer than 15\nminutes to run neutron helm tests if it's run in parallel with others.\n\nChange-Id: I56a436b3442c5102d6d2e67ef0cd1e035ebca109\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n""}]",0,745715,5dfb1ec9ee868c0ffa4864af70f1bd8e5c1b5f13,11,4,2,8863,,,0,"Increase timeout for neutron helm tests run in parallel

On small part of oversubscribed executors it takes longer than 15
minutes to run neutron helm tests if it's run in parallel with others.

Change-Id: I56a436b3442c5102d6d2e67ef0cd1e035ebca109
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/15/745715/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs-openstack-helm.yaml'],1,77b70c8f3bf5f06dc432e5a48fbca874ba1c1df1,, - - export OSH_TEST_TIMEOUT=1200;./tools/deployment/common/run-helm-tests.sh neutron, - - ./tools/deployment/common/run-helm-tests.sh neutron,1,1
openstack%2Fkolla-ansible~stable%2Fstein~I4f4cbb09df752d00073a606463c62f0a6ca6c067,openstack/kolla-ansible,stable/stein,I4f4cbb09df752d00073a606463c62f0a6ca6c067,Stop using MountFlags=shared in Docker configuration,MERGED,2019-08-08 11:27:13.000000000,2020-08-12 02:47:07.000000000,2019-08-16 13:35:39.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-08-08 11:27:13.000000000', 'files': ['ansible/roles/neutron/tasks/precheck.yml', 'ansible/roles/baremetal/templates/docker_systemd_service.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5314581beb503f41b360c17678e81a4a7f5f222a', 'message': 'Stop using MountFlags=shared in Docker configuration\n\nAccording to Docker upstream release notes [1] MountFlags should be\nempty.\n\n1. https://docs.docker.com/engine/release-notes/#18091\n\n""Important notes about this release\n\nIn Docker versions prior to 18.09, containerd was managed by the Docker\nengine daemon. In Docker Engine 18.09, containerd is managed by systemd.\nSince containerd is managed by systemd, any custom configuration to the\ndocker.service systemd configuration which changes mount settings (for\nexample, MountFlags=slave) breaks interactions between the Docker Engine\ndaemon and containerd, and you will not be able to start containers.\n\nRun the following command to get the current value of the MountFlags\nproperty for the docker.service:\n\nsudo systemctl show --property=MountFlags docker.service\nMountFlags=\n\nUpdate your configuration if this command prints a non-empty value for\nMountFlags, and restart the docker service.""\n\nCloses-bug: #1833835\n\nChange-Id: I4f4cbb09df752d00073a606463c62f0a6ca6c067\n(cherry picked from commit 35941738d59002f8bbf55d25b3468619983dcea6)\n'}]",0,675299,5314581beb503f41b360c17678e81a4a7f5f222a,11,5,1,30491,,,0,"Stop using MountFlags=shared in Docker configuration

According to Docker upstream release notes [1] MountFlags should be
empty.

1. https://docs.docker.com/engine/release-notes/#18091

""Important notes about this release

In Docker versions prior to 18.09, containerd was managed by the Docker
engine daemon. In Docker Engine 18.09, containerd is managed by systemd.
Since containerd is managed by systemd, any custom configuration to the
docker.service systemd configuration which changes mount settings (for
example, MountFlags=slave) breaks interactions between the Docker Engine
daemon and containerd, and you will not be able to start containers.

Run the following command to get the current value of the MountFlags
property for the docker.service:

sudo systemctl show --property=MountFlags docker.service
MountFlags=

Update your configuration if this command prints a non-empty value for
MountFlags, and restart the docker service.""

Closes-bug: #1833835

Change-Id: I4f4cbb09df752d00073a606463c62f0a6ca6c067
(cherry picked from commit 35941738d59002f8bbf55d25b3468619983dcea6)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/99/675299/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/tasks/precheck.yml', 'ansible/roles/baremetal/templates/docker_systemd_service.j2']",2,5314581beb503f41b360c17678e81a4a7f5f222a,bug/1833835-stable/stein,,MountFlags=shared,0,17
openstack%2Fopenstack-helm~master~I0f22488fcb9f0247e6279e6754393f22b2dd0251,openstack/openstack-helm,master,I0f22488fcb9f0247e6279e6754393f22b2dd0251,Don't use jq in rally containers,MERGED,2020-08-11 19:04:58.000000000,2020-08-12 01:02:21.000000000,2020-08-12 01:00:43.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2020-08-11 19:04:58.000000000', 'files': ['neutron/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2895760204f50daba1bf87446c391bf3728a3b2f', 'message': ""Don't use jq in rally containers\n\njq is not a part of xrally-openstack container, so using something worse\nfor the same instead of producing an extra image.\n\nChange-Id: I0f22488fcb9f0247e6279e6754393f22b2dd0251\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n""}]",0,745724,2895760204f50daba1bf87446c391bf3728a3b2f,11,6,1,8863,,,0,"Don't use jq in rally containers

jq is not a part of xrally-openstack container, so using something worse
for the same instead of producing an extra image.

Change-Id: I0f22488fcb9f0247e6279e6754393f22b2dd0251
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/24/745724/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/values.yaml'],1,2895760204f50daba1bf87446c391bf3728a3b2f,," SUBNS=$(openstack router show $ROUTER -c interfaces_info --format=value | python -m json.tool | grep -oP '(?<=""subnet_id"": "")[a-f0-9\-]{36}(?="")' | sort | uniq)"," SUBNS=$(openstack router show $ROUTER -c interfaces_info --format=value | jq .[].subnet_id | tr -d '\r\""')",1,1
openstack%2Fopenstack-helm-infra~master~Ia15ab7d8ef882886fe0e37cc2599e6815d7bcc6c,openstack/openstack-helm-infra,master,Ia15ab7d8ef882886fe0e37cc2599e6815d7bcc6c,prometheus exporter to monitor health check for web URL,MERGED,2020-05-13 15:54:00.000000000,2020-08-12 00:54:24.000000000,2020-08-12 00:51:52.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 10068}, {'_account_id': 14277}, {'_account_id': 22348}, {'_account_id': 28849}, {'_account_id': 30777}, {'_account_id': 31957}]","[{'number': 1, 'created': '2020-05-13 15:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f1d5b8a18bea5e2c974d7c95fb7e0ba434ca3a25', 'message': 'New prometheus exporter to monitor health check for web URL\n\nChange-Id: Ia15ab7d8ef882886fe0e37cc2599e6815d7bcc6c\n'}, {'number': 2, 'created': '2020-05-14 06:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f68d3050e774995c953d480f8eeaf14a54a27ba1', 'message': 'New prometheus exporter to monitor health check for web URL\n\nChange-Id: Ia15ab7d8ef882886fe0e37cc2599e6815d7bcc6c\n'}, {'number': 3, 'created': '2020-07-29 07:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4bcd0cb2ff60e437b7911f2a8ee36ffaa26ccaf3', 'message': 'New prometheus exporter to monitor health check for web URL\n\nChange-Id: Ia15ab7d8ef882886fe0e37cc2599e6815d7bcc6c\n'}, {'number': 4, 'created': '2020-07-29 07:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d5bf6783dcc2aecd71f97cf86cc55063b118a092', 'message': 'New prometheus exporter to monitor health check for web URL\n\nChange-Id: Ia15ab7d8ef882886fe0e37cc2599e6815d7bcc6c\n'}, {'number': 5, 'created': '2020-08-04 04:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/880cf0522c744665261cab097141b4287d0bd2be', 'message': 'New prometheus exporter to monitor health check for web URL\n\nChange-Id: Ia15ab7d8ef882886fe0e37cc2599e6815d7bcc6c\n'}, {'number': 6, 'created': '2020-08-04 06:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/36584c5dfc54056f5cb728e024765aa06cc098af', 'message': 'New prometheus exporter to monitor health check for web URL\n\nChange-Id: Ia15ab7d8ef882886fe0e37cc2599e6815d7bcc6c\n'}, {'number': 7, 'created': '2020-08-05 12:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b169c8a947f88cea83510cd356266a928690ad40', 'message': 'prometheus exporter to monitor health check for web URL\n1) A separate prometheus job need to provide target and scrap metrics\n2) it is based on https://github.com/prometheus/blackbox_exporter\n\nChange-Id: Ia15ab7d8ef882886fe0e37cc2599e6815d7bcc6c\n'}, {'number': 8, 'created': '2020-08-06 03:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/af5a8777c19d49ea725943f500bdd01a66864f97', 'message': 'prometheus exporter to monitor health check for web URL\n1) A separate prometheus job need to provide target and scrap metrics\n2) it is based on https://github.com/prometheus/blackbox_exporter\n\nChange-Id: Ia15ab7d8ef882886fe0e37cc2599e6815d7bcc6c\n'}, {'number': 9, 'created': '2020-08-06 04:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/34163df3b68c61900552eebde9d2e6bbb3e9299a', 'message': 'prometheus exporter to monitor health check for web URL\n1) A separate prometheus job need to provide target and scrap metrics\n2) it is based on https://github.com/prometheus/blackbox_exporter\n\nAdding script file for deployment and job under zuul.d\nChange-Id: Ia15ab7d8ef882886fe0e37cc2599e6815d7bcc6c\n'}, {'number': 10, 'created': '2020-08-07 06:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c248fe868d2442f350e2db2e98c5ab6aff7984cf', 'message': 'prometheus exporter to monitor health check for web URL\n1) A separate prometheus job need to provide target and scrap metrics\n2) it is based on https://github.com/prometheus/blackbox_exporter\n\nAdding script file for deployment and job under zuul.d\nChange-Id: Ia15ab7d8ef882886fe0e37cc2599e6815d7bcc6c\n'}, {'number': 11, 'created': '2020-08-07 07:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1021338b1f55ef79b5fd707994ce96fdf517fb11', 'message': 'prometheus exporter to monitor health check for web URL\n1) A separate prometheus job need to provide target and scrap metrics\n2) it is based on https://github.com/prometheus/blackbox_exporter\n\nAdding script file for deployment and job under zuul.d\nChange-Id: Ia15ab7d8ef882886fe0e37cc2599e6815d7bcc6c\n'}, {'number': 12, 'created': '2020-08-07 10:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f7500e5fe0ab2c00468af64c28018a92ff63a619', 'message': 'prometheus exporter to monitor health check for web URL\n1) A separate prometheus job need to provide target and scrap metrics\n2) it is based on https://github.com/prometheus/blackbox_exporter\n\nAdding script file for deployment and job under zuul.d\nResolving conflict\nChange-Id: Ia15ab7d8ef882886fe0e37cc2599e6815d7bcc6c\n'}, {'number': 13, 'created': '2020-08-07 10:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c0d6349ec4d4418e824b786751ae9023819cabc4', 'message': 'prometheus exporter to monitor health check for web URL\n1) A separate prometheus job need to provide target and scrap metrics\n2) it is based on https://github.com/prometheus/blackbox_exporter\n\nAdding script file for deployment and job under zuul.d\nResolving conflict\nChange-Id: Ia15ab7d8ef882886fe0e37cc2599e6815d7bcc6c\n'}, {'number': 14, 'created': '2020-08-11 06:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e7536060815f9d5776a9d741353bf71217152746', 'message': 'prometheus exporter to monitor health check for web URL\n1) A separate prometheus job need to provide target and scrap metrics\n2) it is based on https://github.com/prometheus/blackbox_exporter\n\nAdding script file for deployment and job under zuul.d\nResolving conflict\nChange-Id: Ia15ab7d8ef882886fe0e37cc2599e6815d7bcc6c\n'}, {'number': 15, 'created': '2020-08-11 16:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/55e5aeaacddfa66d59c2748aaaf23d3725e3e166', 'message': 'prometheus exporter to monitor health check for web URL\n\n1) A separate prometheus job need to provide target and scrap metrics\n2) it is based on https://github.com/prometheus/blackbox_exporter\n\nAdding script file for deployment and job under zuul.d\nResolving conflict\nChange-Id: Ia15ab7d8ef882886fe0e37cc2599e6815d7bcc6c\n'}, {'number': 16, 'created': '2020-08-11 17:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9bbb724b94549ffc7240d43a1c735a9be8fe8289', 'message': 'prometheus exporter to monitor health check for web URL\n\n1) A separate prometheus job need to provide target and scrap metrics\n2) it is based on https://github.com/prometheus/blackbox_exporter\n\nAdding script file for deployment and job under zuul.d\nResolving conflict\nChange-Id: Ia15ab7d8ef882886fe0e37cc2599e6815d7bcc6c\n'}, {'number': 17, 'created': '2020-08-11 17:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8c4e421b00a0197027c98839192cb79234b8206d', 'message': 'prometheus exporter to monitor health check for web URL\n\n1) A separate prometheus job need to provide target and scrap metrics\n2) it is based on https://github.com/prometheus/blackbox_exporter\n\nAdding script file for deployment and job under zuul.d\nResolving conflict\nChange-Id: Ia15ab7d8ef882886fe0e37cc2599e6815d7bcc6c\n'}, {'number': 18, 'created': '2020-08-11 17:10:05.000000000', 'files': ['prometheus-blackbox-exporter/templates/deployment.yaml', 'prometheus-blackbox-exporter/templates/service.yaml', 'prometheus-blackbox-exporter/requirements.yaml', 'prometheus-blackbox-exporter/templates/secret.yaml', 'tools/deployment/common/blackbox-exporter.sh', 'tools/deployment/osh-infra-monitoring/105-blackbox-exporter.sh', 'zuul.d/jobs.yaml', 'prometheus-blackbox-exporter/Chart.yaml', 'prometheus-blackbox-exporter/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/628186f05e3bc5ce0438da58ac29dbf9c7c2cb83', 'message': 'prometheus exporter to monitor health check for web URL\n\n1) A separate prometheus job need to provide target and scrap metrics\n2) it is based on https://github.com/prometheus/blackbox_exporter\n\nAdding script file for deployment and job under zuul.d\nResolving conflict\nChange-Id: Ia15ab7d8ef882886fe0e37cc2599e6815d7bcc6c\n'}]",60,727814,628186f05e3bc5ce0438da58ac29dbf9c7c2cb83,51,8,18,31957,,,0,"prometheus exporter to monitor health check for web URL

1) A separate prometheus job need to provide target and scrap metrics
2) it is based on https://github.com/prometheus/blackbox_exporter

Adding script file for deployment and job under zuul.d
Resolving conflict
Change-Id: Ia15ab7d8ef882886fe0e37cc2599e6815d7bcc6c
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/14/727814/11 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-health-exporter/templates/cm.yaml', 'prometheus-health-exporter/templates/service.yaml', 'prometheus-health-exporter/templates/deployment.yaml', 'prometheus-health-exporter/values.yaml', 'prometheus-health-exporter/templates/config/config.json', 'prometheus-health-exporter/Chart.yaml', 'prometheus-health-exporter/requirements.yaml']",7,f1d5b8a18bea5e2c974d7c95fb7e0ba434ca3a25,,dependencies: - name: helm-toolkit repository: http://localhost:8879/charts version: 0.1.0 ,,186,0
openstack%2Fopenstack-ansible~stable%2Fstein~I4f1d8e4155c43366b55eea4d182f653b02dc249f,openstack/openstack-ansible,stable/stein,I4f1d8e4155c43366b55eea4d182f653b02dc249f,Bump SHAs for stable/stein,MERGED,2020-08-09 15:49:50.000000000,2020-08-11 23:51:26.000000000,2020-08-11 23:50:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-08-09 15:49:50.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f4c4d4c62fa90549aeeb1845f44156405e5ccea1', 'message': 'Bump SHAs for stable/stein\n\nChange-Id: I4f1d8e4155c43366b55eea4d182f653b02dc249f\n'}]",0,745467,f4c4d4c62fa90549aeeb1845f44156405e5ccea1,12,3,1,28619,,,0,"Bump SHAs for stable/stein

Change-Id: I4f1d8e4155c43366b55eea4d182f653b02dc249f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/67/745467/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,f4c4d4c62fa90549aeeb1845f44156405e5ccea1,bump_osa, version: 7d2a1cf04b4605417db81edac6ed9c6252463534 version: 8a154ae14a3eb24322b498a2afce19ea4d3672c0, version: 8a6327c67a47d22fffdde79b2b03f2d26ae0946a version: a16bb2b630a64e7801b79f2c8bb656bb7c14538f,50,50
openstack%2Fglance~master~Ib57afd6d74d0a39ab1a8b8ca91ef81a9acf31e9c,openstack/glance,master,Ib57afd6d74d0a39ab1a8b8ca91ef81a9acf31e9c,Increase aggression in functional base API worker management,ABANDONED,2020-08-11 16:41:23.000000000,2020-08-11 23:49:38.000000000,,"[{'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-11 16:41:23.000000000', 'files': ['glance/tests/functional/__init__.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/c2b198f26125f4dba4ea733be182ae10318e4429', 'message': 'Increase aggression in functional base API worker management\n\nThe functional test base attempts to send a single SIGINT to the\nAPI master process it starts, and then calls waitpid() for it to\nexit. If the master never exits, this will hang forever, as is the\ncase in the referenced bug, which we see in CI a lot.\n\nThis change makes us specifically always send SIGKILL to our API\nmaster child, and also traverse its entire tree of children making\nsure that they are killed as well. In testing, I definitely see\nsome of the cases where the hang would have manifested where this\nextra child killing takes out some child processes that were lost\nby the master. It seems that the SIGHUPing that happens in test_reload()\ntriggers this behavior.\n\nThis patch does not fix the problem, but does make the test infrastructure\nbe more aggressive about cleaning up.\n\nChange-Id: Ib57afd6d74d0a39ab1a8b8ca91ef81a9acf31e9c\n'}]",1,745708,c2b198f26125f4dba4ea733be182ae10318e4429,5,3,1,4393,,,0,"Increase aggression in functional base API worker management

The functional test base attempts to send a single SIGINT to the
API master process it starts, and then calls waitpid() for it to
exit. If the master never exits, this will hang forever, as is the
case in the referenced bug, which we see in CI a lot.

This change makes us specifically always send SIGKILL to our API
master child, and also traverse its entire tree of children making
sure that they are killed as well. In testing, I definitely see
some of the cases where the hang would have manifested where this
extra child killing takes out some child processes that were lost
by the master. It seems that the SIGHUPing that happens in test_reload()
triggers this behavior.

This patch does not fix the problem, but does make the test infrastructure
be more aggressive about cleaning up.

Change-Id: Ib57afd6d74d0a39ab1a8b8ca91ef81a9acf31e9c
",git fetch https://review.opendev.org/openstack/glance refs/changes/08/745708/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/functional/__init__.py'],1,c2b198f26125f4dba4ea733be182ae10318e4429,bug/1891190,"from oslo_log import log as loggingimport psutilLOG = logging.getLogger(__name__) process = psutil.Process(self.process_pid) children = process.children(recursive=True) os.kill(self.process_pid, signal.SIGKILL) for child in children: try: child.kill() except OSError: # These are children that we found by examination # before we issued our kill to the master pass else: LOG.warning('Killed an extra child pid %i' % child.pid) start = time.time() end = time.time() if end - start > 10: # We should never wait long for our child to exit, so if we do, # it's because we got blocked until something else triggered the # timeout (like an external kill), so abort here in order to # emit the forensics. raise Exception('Stop took %i seconds!' % (end - start)) def cleanup(self, force=True): if force: s.stop_kill = True self.addCleanup(self.cleanup, force=True) def cleanup(self, force=True): if force: s.stop_kill = True"," os.kill(self.process_pid, signal.SIGTERM) def cleanup(self): self.addCleanup(self.cleanup) def cleanup(self):",31,4
openstack%2Fopenstack-helm~master~I9a26d3db41e745a35209d531ec707734dd33659d,openstack/openstack-helm,master,I9a26d3db41e745a35209d531ec707734dd33659d,feat(tls): added mariadb certs to placement and nova-metadata,MERGED,2020-08-11 18:38:28.000000000,2020-08-11 23:46:13.000000000,2020-08-11 23:44:01.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-11 18:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/208b2cedf7c49d3834f16d922a1a2a63446deab9', 'message': 'feat(tls): added mariadb certs to placement\n\nChange-Id: I9a26d3db41e745a35209d531ec707734dd33659d\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-08-11 20:39:35.000000000', 'files': ['placement/templates/deployment.yaml', 'nova/templates/deployment-api-metadata.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/08ea8ec314be63a0c8d3b9db0a4c4863427fc1ac', 'message': 'feat(tls): added mariadb certs to placement and nova-metadata\n\nChange-Id: I9a26d3db41e745a35209d531ec707734dd33659d\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,745723,08ea8ec314be63a0c8d3b9db0a4c4863427fc1ac,17,5,2,8863,,,0,"feat(tls): added mariadb certs to placement and nova-metadata

Change-Id: I9a26d3db41e745a35209d531ec707734dd33659d
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/23/745723/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/templates/deployment.yaml'],1,208b2cedf7c49d3834f16d922a1a2a63446deab9,fix-tls-job,"{{- dict ""enabled"" $envAll.Values.manifests.certificates ""name"" $envAll.Values.endpoints.oslo_db.auth.admin.secret.tls.internal ""path"" ""/etc/mysql/certs"" | include ""helm-toolkit.snippets.tls_volume_mount"" | indent 12 }}{{- dict ""enabled"" $envAll.Values.manifests.certificates ""name"" $envAll.Values.endpoints.oslo_db.auth.admin.secret.tls.internal | include ""helm-toolkit.snippets.tls_volume"" | indent 8 }}",,2,0
openstack%2Fopenstack-helm~master~Iaec6c51c647a9e522346222464ab71ff73fb5083,openstack/openstack-helm,master,Iaec6c51c647a9e522346222464ab71ff73fb5083,Add missing parameter to tls job,MERGED,2020-08-11 04:04:49.000000000,2020-08-11 23:45:15.000000000,2020-08-11 23:42:43.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-11 04:04:49.000000000', 'files': ['zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/676c72a52da7c196359793f2eef04fb8b0d6771c', 'message': 'Add missing parameter to tls job\n\nChange-Id: Iaec6c51c647a9e522346222464ab71ff73fb5083\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,745619,676c72a52da7c196359793f2eef04fb8b0d6771c,11,5,1,8863,,,0,"Add missing parameter to tls job

Change-Id: Iaec6c51c647a9e522346222464ab71ff73fb5083
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/19/745619/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs-openstack-helm.yaml'],1,676c72a52da7c196359793f2eef04fb8b0d6771c,fix-tls-job, gate_scripts_relative_path: ../openstack-helm,,1,0
openstack%2Fopenstack-helm~master~I1ca01dd52d78a7eacc348439808bb12a65ce4680,openstack/openstack-helm,master,I1ca01dd52d78a7eacc348439808bb12a65ce4680,Add tls support to glance test pod,MERGED,2020-08-11 15:46:03.000000000,2020-08-11 23:44:00.000000000,2020-08-11 23:44:00.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2020-08-11 15:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/493b390704d8f48bd37f101e114cc9b765c62035', 'message': 'Add tls support to glance test pod\n\nChange-Id: I1ca01dd52d78a7eacc348439808bb12a65ce4680\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-08-11 16:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/79cb47a1692a0ed07dc31e52d25a75300cbfe9fe', 'message': 'Add tls support to glance test pod\n\nChange-Id: I1ca01dd52d78a7eacc348439808bb12a65ce4680\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-08-11 16:07:00.000000000', 'files': ['glance/templates/pod-rally-test.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f40d07060a9542f51fd41f035d13921d59fe194a', 'message': 'Add tls support to glance test pod\n\nChange-Id: I1ca01dd52d78a7eacc348439808bb12a65ce4680\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,745703,f40d07060a9542f51fd41f035d13921d59fe194a,20,7,3,8863,,,0,"Add tls support to glance test pod

Change-Id: I1ca01dd52d78a7eacc348439808bb12a65ce4680
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/03/745703/3 && git format-patch -1 --stdout FETCH_HEAD,['glance/templates/pod-rally-test.yaml'],1,493b390704d8f48bd37f101e114cc9b765c62035,fix-tls-job,"{{ dict ""enabled"" .Values.manifests.certificates ""name"" $envAll.Values.secrets.tls.volume.api.internal | include ""helm-toolkit.snippets.tls_volume_mount"" | indent 8 }} env: {{- with $env := dict ""ksUserSecret"" .Values.secrets.identity.admin ""useCA"" .Values.manifests.certificates }}{{- with $env := dict ""ksUserSecret"" .Values.secrets.identity.admin ""useCA"" .Values.manifests.certificates }}{{ dict ""enabled"" .Values.manifests.certificates ""name"" .Values.secrets.tls.volume.api.internal | include ""helm-toolkit.snippets.tls_volume_mount"" | indent 8 }}{{- dict ""enabled"" .Values.manifests.certificates ""name"" .Values.secrets.tls.volume.api.internal | include ""helm-toolkit.snippets.tls_volume"" | indent 4 }}"," env: {{- with $env := dict ""ksUserSecret"" .Values.secrets.identity.admin }}{{- with $env := dict ""ksUserSecret"" .Values.secrets.identity.admin }}",5,2
openstack%2Fopenstack-helm~master~I96205e337a28e12f3e3d06ca99e5f04e0f9a38f4,openstack/openstack-helm,master,I96205e337a28e12f3e3d06ca99e5f04e0f9a38f4,Make glance nginx.sh POSIX compatible,MERGED,2020-08-11 06:33:04.000000000,2020-08-11 23:43:59.000000000,2020-08-11 23:43:59.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2020-08-11 06:33:04.000000000', 'files': ['glance/templates/bin/_nginx.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0a1fa6c7b01725a3c2f1c8ea00f813a06504c60e', 'message': ""Make glance nginx.sh POSIX compatible\n\n'function' keyword is a bash extension and not recognizable by sh.\n\nChange-Id: I96205e337a28e12f3e3d06ca99e5f04e0f9a38f4\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n""}]",0,745628,0a1fa6c7b01725a3c2f1c8ea00f813a06504c60e,12,7,1,8863,,,0,"Make glance nginx.sh POSIX compatible

'function' keyword is a bash extension and not recognizable by sh.

Change-Id: I96205e337a28e12f3e3d06ca99e5f04e0f9a38f4
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/28/745628/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/templates/bin/_nginx.sh.tpl'],1,0a1fa6c7b01725a3c2f1c8ea00f813a06504c60e,fix-tls-job,start () {stop () {,function start () {function stop () {,2,2
openstack%2Ftripleo-ansible~stable%2Fussuri~Ib0d52c68245af9cbc579126920cca07a2db102ac,openstack/tripleo-ansible,stable/ussuri,Ib0d52c68245af9cbc579126920cca07a2db102ac,helpers: fix pep8 issues,MERGED,2020-08-10 12:33:28.000000000,2020-08-11 23:28:41.000000000,2020-08-11 23:28:40.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-10 12:33:28.000000000', 'files': ['tripleo_ansible/ansible_plugins/filter/helpers.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0d4aaf0a7f96f69be6875642d625b6d5ac970750', 'message': 'helpers: fix pep8 issues\n\nFix some pep8 issues with too-long lines in our filters.\n\nChange-Id: Ib0d52c68245af9cbc579126920cca07a2db102ac\n(cherry picked from commit a671a7c7e1fec6953c23bac6b60bae88ea613ce9)\n'}]",0,745523,0d4aaf0a7f96f69be6875642d625b6d5ac970750,13,5,1,3153,,,0,"helpers: fix pep8 issues

Fix some pep8 issues with too-long lines in our filters.

Change-Id: Ib0d52c68245af9cbc579126920cca07a2db102ac
(cherry picked from commit a671a7c7e1fec6953c23bac6b60bae88ea613ce9)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/23/745523/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/filter/helpers.py'],1,0d4aaf0a7f96f69be6875642d625b6d5ac970750,pep8-stable/ussuri," def get_filtered_role_resources(service_chain_resources, tripleo_resources): capabilities_dict = dict( [key.strip().split(':', 1) for key in caps.split(',')]) capabilities_dict = dict( [key.strip().split(':', 1) for key in caps.split(',')])"," def get_filtered_role_resources(service_chain_resources, tripleo_resources): capabilities_dict = dict([key.strip().split(':', 1) for key in caps.split(',')]) capabilities_dict = dict([key.strip().split(':', 1) for key in caps.split(',')])",6,3
openstack%2Ftripleo-heat-templates~master~I94310bf84a0af7a735bd6e1c0038686b0d0abfc8,openstack/tripleo-heat-templates,master,I94310bf84a0af7a735bd6e1c0038686b0d0abfc8,Support for PowerFlex Cinder Backend,MERGED,2020-07-29 22:20:49.000000000,2020-08-11 23:24:56.000000000,2020-08-11 23:23:52.000000000,"[{'_account_id': 3153}, {'_account_id': 7160}, {'_account_id': 9816}, {'_account_id': 10379}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-29 22:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e30d2817dd879f13c3059ae6e5e05f713f970c88', 'message': 'Support for PowerFlex cinder backend\n\nVxFlex OS driver is rebranded to PowerFlex.\nThis patch adds support for PowerFlex\nWill deprecate the VxFlexOS template in\na new patch\n\nDepends-On: https://review.opendev.org/#/c/742016/\nChange-Id: I94310bf84a0af7a735bd6e1c0038686b0d0abfc8\n'}, {'number': 2, 'created': '2020-07-30 22:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/65e984fe7b4e861aaf3c438abc44f89729ca951e', 'message': 'Support for PowerFlex cinder backend\n\nVxFlex OS driver is rebranded to PowerFlex.\nThis patch adds support for PowerFlex\nWill deprecate the VxFlexOS template in\na new patch\n\nDepends-On: https://review.opendev.org/#/c/743852/\nChange-Id: I94310bf84a0af7a735bd6e1c0038686b0d0abfc8\n'}, {'number': 3, 'created': '2020-07-31 20:58:05.000000000', 'files': ['deployment/cinder/cinder-backend-dellemc-powerflex.yaml', 'roles/Standalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/ControllerNoCeph.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/powerflex-driver-abd8e372280c44e7.yaml', 'roles_data.yaml', 'roles/Controller.yaml', 'roles/ControllerStorageDashboard.yaml', 'environments/cinder-dellemc-powerflex-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/08415cb54dfe31005fcc8261550d6f331e81c6af', 'message': 'Support for PowerFlex Cinder Backend\n\nVxFlex OS driver is rebranded to PowerFlex.\nThis patch adds support for PowerFlex.\nWill deprecate the VxFlexOS template in\na new patch.\n\nDepends-On: https://review.opendev.org/#/c/743852/\nChange-Id: I94310bf84a0af7a735bd6e1c0038686b0d0abfc8\n'}]",27,743851,08415cb54dfe31005fcc8261550d6f331e81c6af,37,7,3,10379,,,0,"Support for PowerFlex Cinder Backend

VxFlex OS driver is rebranded to PowerFlex.
This patch adds support for PowerFlex.
Will deprecate the VxFlexOS template in
a new patch.

Depends-On: https://review.opendev.org/#/c/743852/
Change-Id: I94310bf84a0af7a735bd6e1c0038686b0d0abfc8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/743851/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-backend-dellemc-powerflex.yaml', 'roles/Standalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/ControllerNoCeph.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/powerflex-driver-abd8e372280c44e7.yaml', 'roles/Controller.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'environments/cinder-dellemc-powerflex-config.yaml']",11,e30d2817dd879f13c3059ae6e5e05f713f970c88,powerflex,"# Copyright (c) 2020 Dell Inc, or its subsidiaries. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # # A Heat environment file which can be used to enable a # a Cinder Dell EMC PowerFlex backend, configured via puppet resource_registry: OS::TripleO::Services::CinderBackendPowerFlex: ../deployment/cinder/cinder-backend-powerflex-puppet.yaml parameter_defaults: CinderEnablePowerFlexBackend: true CinderPowerFlexBackendName: 'tripleo_dellemc_powerflex' CinderPowerFlexSanIp: '' CinderPowerFlexSanLogin: '' CinderPowerFlexSanPassword: '' CinderPowerFlexStoragePools: 'domain1:pool1' CinderPowerFlexAllowMigrationDuringRebuild: false CinderPowerFlexAllowNonPaddedVolumes: false CinderPowerFlexMaxOverSubscriptionRatio: 7.0 CinderPowerFlexRestServerPort: 443 CinderPowerFlexServerApiVersion: '' CinderPowerFlexUnmapVolumeBeforeDeletion: false CinderPowerFlexSanThinProvision: true CinderPowerFlexDriverSSLCertVerify: false CinderPowerFlexDriverSSLCertPath: '' ",,194,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I84287d9c1ef110511c66743f9a3a22709077b0cb,openstack/tripleo-heat-templates,stable/queens,I84287d9c1ef110511c66743f9a3a22709077b0cb,Exclude /etc/hostname,MERGED,2020-08-11 17:42:28.000000000,2020-08-11 23:23:54.000000000,2020-08-11 23:23:54.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-11 17:42:28.000000000', 'files': ['docker/docker-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9801dc7461cbd6cbd73868e72e74d21d586c6708', 'message': 'Exclude /etc/hostname\n\nNote: this is an unclean backport and we had to create\npuppet_generated_path var to make it simpler (and avoid path\nrepetition).\n\nSimilar to the previous patch where we excluded /etc/hosts, it turns out\nthat /etc/hostname is also a special file that cannot be synced in via\nkolla because they are bindmounted internally.\n\nhttps://github.com/containers/libpod/blob/6ac009d5304127f6758be157c7302646e5a481e5/libpod/container_internal_linux.go#L1236\n\nAdditionally this change includes cleanup for end users who may have hit\nLP#1860607 and allows folks who have hit this to just simply rerun the\ndeployment and not have to manually cleanup the synced files.\n\nChange-Id: I84287d9c1ef110511c66743f9a3a22709077b0cb\nCloses-Bug: #1885619\n(cherry picked from commit 777920dfba58fa7b26c063fa5d6df0203009d12c)\n(cherry picked from commit 39945d5630c0d83a8b7fafd6b45e945c3e89c800)\n'}]",0,745716,9801dc7461cbd6cbd73868e72e74d21d586c6708,8,3,1,3153,,,0,"Exclude /etc/hostname

Note: this is an unclean backport and we had to create
puppet_generated_path var to make it simpler (and avoid path
repetition).

Similar to the previous patch where we excluded /etc/hosts, it turns out
that /etc/hostname is also a special file that cannot be synced in via
kolla because they are bindmounted internally.

https://github.com/containers/libpod/blob/6ac009d5304127f6758be157c7302646e5a481e5/libpod/container_internal_linux.go#L1236

Additionally this change includes cleanup for end users who may have hit
LP#1860607 and allows folks who have hit this to just simply rerun the
deployment and not have to manually cleanup the synced files.

Change-Id: I84287d9c1ef110511c66743f9a3a22709077b0cb
Closes-Bug: #1885619
(cherry picked from commit 777920dfba58fa7b26c063fa5d6df0203009d12c)
(cherry picked from commit 39945d5630c0d83a8b7fafd6b45e945c3e89c800)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/745716/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/docker-puppet.py'],1,9801dc7461cbd6cbd73868e72e74d21d586c6708,queens/1885619," ro_files+=""/etc/hosts /etc/localtime /etc/hostname"" puppet_generated_path=/var/lib/config-data/puppet-generated/${NAME} mkdir -p ${puppet_generated_path} / ${puppet_generated_path} # Cleanup any special files that might have been copied into place # previously because fixes for LP#1860607 did not cleanup and required # manual intervention if a container hit this. We can safely remove these # files because they should be bind mounted into containers for ro in $ro_files; do if [ -e ""${puppet_generated_path}/${ro}"" ]; then rm -rf ""${puppet_generated_path}/${ro}"" fi done tar -c --mtime='1970-01-01' $EXCLUDE -f - ${puppet_generated_path} $additional_checksum_files --mtime='1970-01-01' | tar xO \ | sed '/^#.*HEADER.*/d' | md5sum | awk '{print $1}' > ${puppet_generated_path}.md5sum"," ro_files+=""/etc/hosts /etc/localtime"" mkdir -p /var/lib/config-data/puppet-generated/${NAME} / /var/lib/config-data/puppet-generated/${NAME} tar -c --mtime='1970-01-01' $EXCLUDE -f - /var/lib/config-data/puppet-generated/${NAME} $additional_checksum_files --mtime='1970-01-01' | tar xO \ | sed '/^#.*HEADER.*/d' | md5sum | awk '{print $1}' > /var/lib/config-data/puppet-generated/${NAME}.md5sum",16,5
openstack%2Ftripleo-quickstart-extras~master~I3fef7509b03b086727638e737a7d6eb2bbec47f9,openstack/tripleo-quickstart-extras,master,I3fef7509b03b086727638e737a7d6eb2bbec47f9,containers: add tcib_managed label to authorized images to be updated,MERGED,2020-07-09 13:57:28.000000000,2020-08-11 23:23:50.000000000,2020-08-11 23:23:50.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-09 13:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/49ec72fbb35d7fcb09f2450025361d302c66bd45', 'message': 'containers: add tcib_version label to authorized images to be updated\n\nFor containers to be updated by tripleo-modify-image, they need a\nspecial label. For now it was only ""kolla_version"" for TripleO CI, but\nsince we have new images which don\'t use Kolla, we now have the\ntcib_version that we\'ll use.\n\nDepends-On: https://review.opendev.org/740296\nRelated-Bug: #1886914\nChange-Id: I3fef7509b03b086727638e737a7d6eb2bbec47f9\n'}, {'number': 2, 'created': '2020-07-09 15:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/973c12751289bb8cdee58b82f37af81ae814a7f7', 'message': 'containers: add tcib_managed label to authorized images to be updated\n\nFor containers to be updated by tripleo-modify-image, they need a\nspecial label. For now it was only ""kolla_version"" for TripleO CI, but\nsince we have new images which don\'t use Kolla, we now have the\ntcib_managed that we\'ll use.\n\nDepends-On: https://review.opendev.org/740296\nRelated-Bug: #1886914\nChange-Id: I3fef7509b03b086727638e737a7d6eb2bbec47f9\n'}, {'number': 3, 'created': '2020-07-13 01:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/208001e79f33e138a173a24d1d12b89fb0e66d9c', 'message': 'containers: add tcib_managed label to authorized images to be updated\n\nFor containers to be updated by tripleo-modify-image, they need a\nspecial label. For now it was only ""kolla_version"" for TripleO CI, but\nsince we have new images which don\'t use Kolla, we now have the\ntcib_managed that we\'ll use.\n\nDepends-On: https://review.opendev.org/740296\nRelated-Bug: #1886914\nChange-Id: I3fef7509b03b086727638e737a7d6eb2bbec47f9\n'}, {'number': 4, 'created': '2020-07-15 02:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/711f8d2553560a52a9b2defc2aa67a3bfda012fe', 'message': 'containers: add tcib_managed label to authorized images to be updated\n\nFor containers to be updated by tripleo-modify-image, they need a\nspecial label. For now it was only ""kolla_version"" for TripleO CI, but\nsince we have new images which don\'t use Kolla, we now have the\ntcib_managed that we\'ll use.\n\nDepends-On: https://review.opendev.org/740296\nRelated-Bug: #1886914\nChange-Id: I3fef7509b03b086727638e737a7d6eb2bbec47f9\n'}, {'number': 5, 'created': '2020-07-20 13:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2d6b809ff722ed74ed48c5c66652b3d10ada39ec', 'message': 'containers: add tcib_managed label to authorized images to be updated\n\nFor containers to be updated by tripleo-modify-image, they need a\nspecial label. For now it was only ""kolla_version"" for TripleO CI, but\nsince we have new images which don\'t use Kolla, we now have the\ntcib_managed that we\'ll use.\n\nDepends-On: https://review.opendev.org/740296\nRelated-Bug: #1886914\nChange-Id: I3fef7509b03b086727638e737a7d6eb2bbec47f9\n'}, {'number': 6, 'created': '2020-07-21 13:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/02461606f0b55eaaa92eed7a901ab36123734089', 'message': 'containers: add tcib_managed label to authorized images to be updated\n\nFor containers to be updated by tripleo-modify-image, they need a\nspecial label. For now it was only ""kolla_version"" for TripleO CI, but\nsince we have new images which don\'t use Kolla, we now have the\ntcib_managed that we\'ll use.\n\nDepends-On: https://review.opendev.org/740296\nRelated-Bug: #1886914\nChange-Id: I3fef7509b03b086727638e737a7d6eb2bbec47f9\n'}, {'number': 7, 'created': '2020-07-23 13:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0fa5a189a85b0886da02dac635127b8074987c6e', 'message': 'containers: add tcib_managed label to authorized images to be updated\n\nFor containers to be updated by tripleo-modify-image, they need a\nspecial label. For now it was only ""kolla_version"" for TripleO CI, but\nsince we have new images which don\'t use Kolla, we now have the\ntcib_managed that we\'ll use.\n\nRelated-Bug: #1886914\nChange-Id: I3fef7509b03b086727638e737a7d6eb2bbec47f9\n'}, {'number': 8, 'created': '2020-07-23 13:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d694690cc6c9905087ee124657537334debdb409', 'message': 'containers: add tcib_managed label to authorized images to be updated\n\nFor containers to be updated by tripleo-modify-image, they need a\nspecial label. For now it was only ""kolla_version"" for TripleO CI, but\nsince we have new images which don\'t use Kolla, we now have the\ntcib_managed that we\'ll use.\n\nRelated-Bug: #1886914\nChange-Id: I3fef7509b03b086727638e737a7d6eb2bbec47f9\n'}, {'number': 9, 'created': '2020-07-27 20:07:36.000000000', 'files': ['roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2', 'roles/standalone/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9da8187e0b75137ccab833b682199ebcf218a175', 'message': 'containers: add tcib_managed label to authorized images to be updated\n\nFor containers to be updated by tripleo-modify-image, they need a\nspecial label. For now it was only ""kolla_version"" for TripleO CI, but\nsince we have new images which don\'t use Kolla, we now have the\ntcib_managed that we\'ll use.\n\nRelated-Bug: #1886914\nChange-Id: I3fef7509b03b086727638e737a7d6eb2bbec47f9\n'}]",0,740298,9da8187e0b75137ccab833b682199ebcf218a175,42,6,9,3153,,,0,"containers: add tcib_managed label to authorized images to be updated

For containers to be updated by tripleo-modify-image, they need a
special label. For now it was only ""kolla_version"" for TripleO CI, but
since we have new images which don't use Kolla, we now have the
tcib_managed that we'll use.

Related-Bug: #1886914
Change-Id: I3fef7509b03b086727638e737a7d6eb2bbec47f9
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/98/740298/8 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2', 'roles/standalone/tasks/main.yml']",2,49ec72fbb35d7fcb09f2450025361d302c66bd45,label, - tcib_version,,2,0
openstack%2Fpuppet-tripleo~master~Iacac98f012cdba03b3f0618b9774910c11e769ae,openstack/puppet-tripleo,master,Iacac98f012cdba03b3f0618b9774910c11e769ae,Deprecating VxFlex OS  Volume Config,MERGED,2020-08-07 18:33:17.000000000,2020-08-11 22:57:58.000000000,2020-08-11 22:56:54.000000000,"[{'_account_id': 3153}, {'_account_id': 7160}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 18:33:17.000000000', 'files': ['manifests/profile/base/cinder/volume/dellemc_vxflexos.pp', 'releasenotes/notes/vxflexos_driver_deprecation_5568457faab68824.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/afaa3a5443d7b1baea648b45a22e6fec5d5cadf3', 'message': 'Deprecating VxFlex OS  Volume Config\n\nA new Dell EMC VxFlexOS rebranded to PowerFlex.\nThe resource VxFlex OS will be deprecated and removed\nin W-Release.\n\nDepends-On: https://review.opendev.org/#/c/743852/\nChange-Id: Iacac98f012cdba03b3f0618b9774910c11e769ae\n'}]",0,745386,afaa3a5443d7b1baea648b45a22e6fec5d5cadf3,10,6,1,10379,,,0,"Deprecating VxFlex OS  Volume Config

A new Dell EMC VxFlexOS rebranded to PowerFlex.
The resource VxFlex OS will be deprecated and removed
in W-Release.

Depends-On: https://review.opendev.org/#/c/743852/
Change-Id: Iacac98f012cdba03b3f0618b9774910c11e769ae
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/86/745386/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/cinder/volume/dellemc_vxflexos.pp', 'releasenotes/notes/vxflexos_driver_deprecation_5568457faab68824.yaml']",2,afaa3a5443d7b1baea648b45a22e6fec5d5cadf3,deprecate_vxflex,--- deprecations: - Resource tripleo::profile::base::cinder::volume::dellemc_vxflexos will be removed in W-Release. Use the new resource tripleo::profile::base::cinder::volume::dellemc_powerflex._ ,,7,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ib5f017e95f961c04da3201d75ed17424e168b270,openstack/tripleo-heat-templates,stable/ussuri,Ib5f017e95f961c04da3201d75ed17424e168b270,Unset keystone::public_endpoint,MERGED,2020-07-26 23:57:56.000000000,2020-08-11 22:56:52.000000000,2020-08-11 22:56:52.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-26 23:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/162527bff6383321f31d3921332794a2f098de93', 'message': 'Unset public_endpoint\n\nWhen public_endpoint parameter is set, keystone composes request urls\nfrom that parameter. However this can cause incorrect url detection\nespecially for requests coming from admin endpoint, because we use\ndifferent urls for each endpoints (admin/internal/public) in TripleO\ndeployment.\n\nThis patch unsets that public_endpoint parameter and makes keystone\ndetect request urls by headers passed from haproxy.\n\nCloses-bug: #1889017\nDepends-on: https://review.opendev.org/#/c/742349/\nChange-Id: Ib5f017e95f961c04da3201d75ed17424e168b270\n(cherry picked from commit 83c380c288f72741e4d49d638cbc4ecfef780bc6)\n'}, {'number': 2, 'created': '2020-07-27 00:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f762bd0b37134a61b2d981709d4518cc84df93fc', 'message': 'Unset public_endpoint\n\nWhen public_endpoint parameter is set, keystone composes request urls\nfrom that parameter. However this can cause incorrect url detection\nespecially for requests coming from admin endpoint, because we use\ndifferent urls for each endpoints (admin/internal/public) in TripleO\ndeployment.\n\nThis patch unsets that public_endpoint parameter and makes keystone\ndetect request urls by headers passed from haproxy.\n\nCloses-bug: #1889017\nDepends-on: https://review.opendev.org/#/c/742350/\nChange-Id: Ib5f017e95f961c04da3201d75ed17424e168b270\n(cherry picked from commit 83c380c288f72741e4d49d638cbc4ecfef780bc6)\n'}, {'number': 3, 'created': '2020-07-27 00:05:44.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/09f524e7094d2ed976cf1cfb4236acf081b80081', 'message': 'Unset keystone::public_endpoint\n\nWhen public_endpoint parameter is set, keystone composes request urls\nfrom that parameter. However this can cause incorrect url detection\nespecially for requests coming from admin endpoint, because we use\ndifferent urls for each endpoints (admin/internal/public) in TripleO\ndeployment.\n\nThis patch unsets that public_endpoint parameter and makes keystone\ndetect request urls by headers passed from haproxy.\n\nCloses-bug: #1889017\nDepends-on: https://review.opendev.org/#/c/742350/\nChange-Id: Ib5f017e95f961c04da3201d75ed17424e168b270\n(cherry picked from commit ac50d6483da28748877ce2f1ac2d42ec4cc04b8b)\n'}]",0,743113,09f524e7094d2ed976cf1cfb4236acf081b80081,19,6,3,9816,,,0,"Unset keystone::public_endpoint

When public_endpoint parameter is set, keystone composes request urls
from that parameter. However this can cause incorrect url detection
especially for requests coming from admin endpoint, because we use
different urls for each endpoints (admin/internal/public) in TripleO
deployment.

This patch unsets that public_endpoint parameter and makes keystone
detect request urls by headers passed from haproxy.

Closes-bug: #1889017
Depends-on: https://review.opendev.org/#/c/742350/
Change-Id: Ib5f017e95f961c04da3201d75ed17424e168b270
(cherry picked from commit ac50d6483da28748877ce2f1ac2d42ec4cc04b8b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/743113/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,162527bff6383321f31d3921332794a2f098de93,bug/1889017,," keystone::public_endpoint: {get_param: [EndpointMap, KeystonePublic, uri_no_suffix]}",0,1
openstack%2Fneutron~stable%2Fussuri~I7d792ce288d96548298f169748565266a130bd86,openstack/neutron,stable/ussuri,I7d792ce288d96548298f169748565266a130bd86,Make DVR router support FLAT network for ovs-agent,MERGED,2020-07-04 05:58:13.000000000,2020-08-11 22:55:44.000000000,2020-08-11 22:53:30.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28329}]","[{'number': 1, 'created': '2020-07-04 05:58:13.000000000', 'files': ['neutron/plugins/ml2/drivers/linuxbridge/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'releasenotes/notes/dvr-support-flat-network-for-ovs-fdf8c3eb461426ec.yaml', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/functional/agent/test_ovs_flows.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_phys.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_phys.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b41d63f8f65768800df68b5e33315672960b961', 'message': ""Make DVR router support FLAT network for ovs-agent\n\nCurrently codes only support assocate tunnel network and vlan network\nto DVR router. This patch add codes that make the flat network assocate\nto DVR router and make it work fine.\n\nThe patch also remove two unused constant entries: 'FLAT_VLAN_ID' and\n'LOCAL_VLAN_ID'\n\nChange-Id: I7d792ce288d96548298f169748565266a130bd86\nCloses-Bug: #1876092\n(cherry picked from commit cd721a7dcb9073eca2671ffdc9dc7ed9819163ed)\n""}]",0,739295,7b41d63f8f65768800df68b5e33315672960b961,21,5,1,28329,,,0,"Make DVR router support FLAT network for ovs-agent

Currently codes only support assocate tunnel network and vlan network
to DVR router. This patch add codes that make the flat network assocate
to DVR router and make it work fine.

The patch also remove two unused constant entries: 'FLAT_VLAN_ID' and
'LOCAL_VLAN_ID'

Change-Id: I7d792ce288d96548298f169748565266a130bd86
Closes-Bug: #1876092
(cherry picked from commit cd721a7dcb9073eca2671ffdc9dc7ed9819163ed)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/739295/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/linuxbridge/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'releasenotes/notes/dvr-support-flat-network-for-ovs-fdf8c3eb461426ec.yaml', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/functional/agent/test_ovs_flows.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_phys.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_phys.py']",13,7b41d63f8f65768800df68b5e33315672960b961,bug/1876092-stable/ussuri," dvr_process_table_id = ovs_const.DVR_PROCESS_PHYSICAL def test_add_dvr_mac_physical(self): self.br.add_dvr_mac_physical(mac=mac, port=port)"," dvr_process_table_id = ovs_const.DVR_PROCESS_VLAN def test_add_dvr_mac_vlan(self): self.br.add_dvr_mac_vlan(mac=mac, port=port)",299,138
openstack%2Fopenstacksdk~master~I8b3f53f96f83dc0fbb09957097ed27755f255db1,openstack/openstacksdk,master,I8b3f53f96f83dc0fbb09957097ed27755f255db1,Add support for filters into the project cleanup,MERGED,2020-06-12 13:11:51.000000000,2020-08-11 22:54:47.000000000,2020-08-11 22:53:33.000000000,"[{'_account_id': 2}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-12 13:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/38d27c00ff5e0bfc5227e81101b9e1331cfdbddc', 'message': ""Add support for filters into the project cleanup\n\nWe might want do delete all resources i.e. older than X days. This is\nreally tricky, especially with regards to cleaning network service in\nthis case. To achieve this let's start looking to the port.device_id and\nlook, whether it will be present/deleted or not.\nATM only created_at and updated_at as filters are possible\n\nChange-Id: I8b3f53f96f83dc0fbb09957097ed27755f255db1\n""}, {'number': 2, 'created': '2020-06-19 07:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/fa15d9d0452fad9a3c9c92615e56b28f83d974f9', 'message': ""Add support for filters into the project cleanup\n\nWe might want do delete all resources i.e. older than X days. This is\nreally tricky, especially with regards to cleaning network service in\nthis case. To achieve this let's start looking to the port.device_id and\nlook, whether it will be present/deleted or not.\nATM only created_at and updated_at as filters are possible\n\nChange-Id: I8b3f53f96f83dc0fbb09957097ed27755f255db1\n""}, {'number': 3, 'created': '2020-06-19 12:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e12fb5ef027dd02cd2306cbe9dec269b25308fe8', 'message': ""Add support for filters into the project cleanup\n\nWe might want do delete all resources i.e. older than X days. This is\nreally tricky, especially with regards to cleaning network service in\nthis case. To achieve this let's start looking to the port.device_id and\nlook, whether it will be present/deleted or not.\nATM only created_at and updated_at as filters are possible\n\nChange-Id: I8b3f53f96f83dc0fbb09957097ed27755f255db1\n""}, {'number': 4, 'created': '2020-07-02 11:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1210ffcdb1d589ad21ea17eee87c816bac51d9c5', 'message': ""Add support for filters into the project cleanup\n\nWe might want do delete all resources i.e. older than X days. This is\nreally tricky, especially with regards to cleaning network service in\nthis case. To achieve this let's start looking to the port.device_id and\nlook, whether it will be present/deleted or not.\nATM only created_at and updated_at as filters are possible\n\nChange-Id: I8b3f53f96f83dc0fbb09957097ed27755f255db1\n""}, {'number': 5, 'created': '2020-07-07 09:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a011b64214998d714791833d9bcb726df9c30bd4', 'message': ""Add support for filters into the project cleanup\n\nWe might want do delete all resources i.e. older than X days. This is\nreally tricky, especially with regards to cleaning network service in\nthis case. To achieve this let's start looking to the port.device_id and\nlook, whether it will be present/deleted or not.\nATM only created_at and updated_at as filters are possible\n\nChange-Id: I8b3f53f96f83dc0fbb09957097ed27755f255db1\n""}, {'number': 6, 'created': '2020-08-03 12:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/37ee9d0a330e2beda53d9d474c794c9be99d9153', 'message': ""Add support for filters into the project cleanup\n\nWe might want do delete all resources i.e. older than X days. This is\nreally tricky, especially with regards to cleaning network service in\nthis case. To achieve this let's start looking to the port.device_id and\nlook, whether it will be present/deleted or not.\nATM only created_at and updated_at as filters are possible\n\nChange-Id: I8b3f53f96f83dc0fbb09957097ed27755f255db1\n""}, {'number': 7, 'created': '2020-08-03 17:35:17.000000000', 'files': ['openstack/cloud/openstackcloud.py', 'openstack/block_storage/v3/_proxy.py', 'openstack/network/v2/_proxy.py', 'openstack/tests/functional/cloud/test_project_cleanup.py', 'openstack/proxy.py', 'openstack/orchestration/v1/_proxy.py', 'openstack/tests/unit/test_proxy.py', 'openstack/compute/v2/_proxy.py', 'openstack/dns/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ef43a9ffb1c946d64f25c081a802117d248a4ae2', 'message': ""Add support for filters into the project cleanup\n\nWe might want do delete all resources i.e. older than X days. This is\nreally tricky, especially with regards to cleaning network service in\nthis case. To achieve this let's start looking to the port.device_id and\nlook, whether it will be present/deleted or not.\nATM only created_at and updated_at as filters are possible\n\nChange-Id: I8b3f53f96f83dc0fbb09957097ed27755f255db1\n""}]",8,735336,ef43a9ffb1c946d64f25c081a802117d248a4ae2,38,4,7,27900,,,0,"Add support for filters into the project cleanup

We might want do delete all resources i.e. older than X days. This is
really tricky, especially with regards to cleaning network service in
this case. To achieve this let's start looking to the port.device_id and
look, whether it will be present/deleted or not.
ATM only created_at and updated_at as filters are possible

Change-Id: I8b3f53f96f83dc0fbb09957097ed27755f255db1
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/36/735336/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/openstackcloud.py', 'openstack/block_storage/v3/_proxy.py', 'openstack/network/v2/_proxy.py', 'openstack/proxy.py', 'openstack/orchestration/v1/_proxy.py', 'openstack/utils.py', 'openstack/compute/v2/_proxy.py', 'openstack/dns/v2/_proxy.py']",8,38d27c00ff5e0bfc5227e81101b9e1331cfdbddc,project_cleanup," def _service_cleanup(self, dry_run=True, client_status_queue=False, identified_resources=None, filters=None, resource_evaluation_fn=None):"," def _service_cleanup(self, dry_run=True, status_queue=False):",315,69
openstack%2Fneutron~stable%2Fussuri~I0d9295545384844e81b0ffe3aa7483324f9a9ae5,openstack/neutron,stable/ussuri,I0d9295545384844e81b0ffe3aa7483324f9a9ae5,[ovn] Use normalized remote prefix IPs in OVN driver,MERGED,2020-07-29 20:59:44.000000000,2020-08-11 22:49:13.000000000,2020-08-11 22:47:24.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-29 20:59:44.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/common/ovn/test_acl.py', 'neutron/common/ovn/acl.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e699c3743857009f7e33bf0a2d780a6cfbeafb2', 'message': '[ovn] Use normalized remote prefix IPs in OVN driver\n\nOVN firewall driver can\'t silently normalize CIRDs given in\nthe security group rule\'s ""remote_ip_prefix"".\nBecause of that if user created rule with not normalized CIDR, it\nwasn\'t applied by the OVN driver.\nNow OVN driver will normalize such rules before applying them.\n\nThe OVN driver will now also check if SG rules with same normalized\nand same direction, port range, protocol and ethertype already exists in\nthe SG. If so, it will not add or remove rule in the OVN.\nRule will be added or removed only if there is no other same rules in\nthe SG.\n\nChange-Id: I0d9295545384844e81b0ffe3aa7483324f9a9ae5\nRelated-Bug: #1869129\n(cherry picked from commit 17f2ba3afbbbb929155c2ac3fa396784badd981b)\n'}]",0,743845,9e699c3743857009f7e33bf0a2d780a6cfbeafb2,12,7,1,11975,,,0,"[ovn] Use normalized remote prefix IPs in OVN driver

OVN firewall driver can't silently normalize CIRDs given in
the security group rule's ""remote_ip_prefix"".
Because of that if user created rule with not normalized CIDR, it
wasn't applied by the OVN driver.
Now OVN driver will normalize such rules before applying them.

The OVN driver will now also check if SG rules with same normalized
and same direction, port range, protocol and ethertype already exists in
the SG. If so, it will not add or remove rule in the OVN.
Rule will be added or removed only if there is no other same rules in
the SG.

Change-Id: I0d9295545384844e81b0ffe3aa7483324f9a9ae5
Related-Bug: #1869129
(cherry picked from commit 17f2ba3afbbbb929155c2ac3fa396784badd981b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/743845/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/common/ovn/test_acl.py', 'neutron/common/ovn/acl.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",4,9e699c3743857009f7e33bf0a2d780a6cfbeafb2,bug/1869129-stable/ussuri,"import netaddr if sg_rule.get('remote_ip_prefix') is not None: if self._sg_has_rules_with_same_normalized_cidr(sg_rule): return def _sg_has_rules_with_same_normalized_cidr(self, sg_rule): compare_keys = [ 'ethertype', 'direction', 'protocol', 'port_range_min', 'port_range_max'] sg_rules = self._plugin.get_security_group_rules( n_context.get_admin_context(), {'security_group_id': [sg_rule['security_group_id']]}) cidr_sg_rule = netaddr.IPNetwork(sg_rule['remote_ip_prefix']) normalized_sg_rule_prefix = ""%s/%s"" % (cidr_sg_rule.network, cidr_sg_rule.prefixlen) def _rules_equal(rule1, rule2): return not any( rule1.get(key) != rule2.get(key) for key in compare_keys) for rule in sg_rules: if not rule.get('remote_ip_prefix') or rule['id'] == sg_rule['id']: continue cidr_rule = netaddr.IPNetwork(rule['remote_ip_prefix']) normalized_rule_prefix = ""%s/%s"" % (cidr_rule.network, cidr_rule.prefixlen) if normalized_sg_rule_prefix != normalized_rule_prefix: continue if _rules_equal(sg_rule, rule): return True return False ",,140,6
openstack%2Ftripleo-validations~master~I9694ab3fde1248a25e1b1736a3351abde5d619ca,openstack/tripleo-validations,master,I9694ab3fde1248a25e1b1736a3351abde5d619ca,Add new dependency for the tests: lxml,MERGED,2020-08-05 13:18:27.000000000,2020-08-11 22:42:25.000000000,2020-08-11 22:42:25.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-05 13:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/27662a0caa733c39e932e20ae8679cfdaab18dd3', 'message': 'Add new dependency for the tests: lxml\n\nThis module is needed by the ""xml"" ansible module, used in the new\nnova_svirt role intruduced here:\nhttps://review.opendev.org/744835\n\nChange-Id: I9694ab3fde1248a25e1b1736a3351abde5d619ca\n'}, {'number': 2, 'created': '2020-08-05 14:44:06.000000000', 'files': ['lower-constraints.txt', 'molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5887cf03fa84d2b61bd0dd23548feb3337003fa6', 'message': 'Add new dependency for the tests: lxml\n\nThis module is needed by the ""xml"" ansible module, used in the new\nnova_svirt role intruduced here:\nhttps://review.opendev.org/744835\n\nChange-Id: I9694ab3fde1248a25e1b1736a3351abde5d619ca\n'}]",0,744903,5887cf03fa84d2b61bd0dd23548feb3337003fa6,11,5,2,28223,,,0,"Add new dependency for the tests: lxml

This module is needed by the ""xml"" ansible module, used in the new
nova_svirt role intruduced here:
https://review.opendev.org/744835

Change-Id: I9694ab3fde1248a25e1b1736a3351abde5d619ca
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/03/744903/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'molecule-requirements.txt']",3,27662a0caa733c39e932e20ae8679cfdaab18dd3,lxml,lxml # BSD,,3,0
openstack%2Ftripleo-validations~master~I07fd17501ea66d229549fcf4031ae4126b055906,openstack/tripleo-validations,master,I07fd17501ea66d229549fcf4031ae4126b055906,"Updated ""overcloud"" to ""allovercloud"" group",MERGED,2020-08-05 14:55:43.000000000,2020-08-11 22:39:51.000000000,2020-08-11 22:38:36.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23811}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-05 14:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5f0f62597a2a95f1bbda3ff3e9e3a3490f5b28d2', 'message': 'Updated ""overcloud"" to ""allovercloud"" group\n\nApparently this is the new term to access all the overcloud nodes.\n\nChange-Id: I07fd17501ea66d229549fcf4031ae4126b055906\n'}, {'number': 2, 'created': '2020-08-06 15:20:21.000000000', 'files': ['roles/openstack_endpoints/tasks/main.yml', 'playbooks/ntp.yaml', 'playbooks/tls-everywhere-post-deployment.yaml', 'playbooks/container-status.yaml', 'playbooks/ceph-dependencies-installed.yaml', 'playbooks/no-op.yaml', 'playbooks/repos.yaml', 'doc/source/readme.rst', 'playbooks/service-status.yaml', 'playbooks/check-ftype.yaml', 'roles/openshift_on_openstack/tasks/openshift-nw-requirements.yaml', 'playbooks/healthcheck-service-status.yaml', 'roles/node_health/tasks/main.yml', 'playbooks/dns.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1a4991daf38d61e453ae4d948e7e639f52986943', 'message': 'Updated ""overcloud"" to ""allovercloud"" group\n\nApparently this is the new term to access all the overcloud nodes.\n\nChange-Id: I07fd17501ea66d229549fcf4031ae4126b055906\n'}]",2,744922,1a4991daf38d61e453ae4d948e7e639f52986943,18,6,2,28223,,,0,"Updated ""overcloud"" to ""allovercloud"" group

Apparently this is the new term to access all the overcloud nodes.

Change-Id: I07fd17501ea66d229549fcf4031ae4126b055906
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/22/744922/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/ceph-dependencies-installed.yaml', 'playbooks/no-op.yaml', 'playbooks/repos.yaml', 'playbooks/ntp.yaml', 'playbooks/service-status.yaml', 'playbooks/tls-everywhere-post-deployment.yaml', 'playbooks/check-ftype.yaml', 'playbooks/container-status.yaml', 'playbooks/healthcheck-service-status.yaml', 'playbooks/dns.yaml']",10,5f0f62597a2a95f1bbda3ff3e9e3a3490f5b28d2,overcloud-allovercloud,"- hosts: undercloud, allovercloud","- hosts: undercloud, overcloud",10,10
openstack%2Fopenstack-helm-infra~master~I0db38599e037ac38b24e50bbc2228ef1fd264c4e,openstack/openstack-helm-infra,master,I0db38599e037ac38b24e50bbc2228ef1fd264c4e,Run node-problem-detector from 0 user,MERGED,2020-08-11 17:14:56.000000000,2020-08-11 22:37:21.000000000,2020-08-11 22:35:40.000000000,"[{'_account_id': 7769}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29144}, {'_account_id': 29161}, {'_account_id': 29298}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-08-11 17:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/db0c6d032f6331f9dfbe77ec03fd2bd930ad1ea7', 'message': 'Override pod values for node-problem-detector pod\n\nThis adds the runAsUser flag to node-problem-detector at pod level\n\nChange-Id: I0db38599e037ac38b24e50bbc2228ef1fd264c4e\n'}, {'number': 2, 'created': '2020-08-11 17:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/86d7d7e4ac2752836e8a5d89c505fb68b2d127e1', 'message': 'Override pod values for node-problem-detector pod\n\nThis adds the runAsUser flag to node-problem-detector at pod level\n\nChange-Id: I0db38599e037ac38b24e50bbc2228ef1fd264c4e\n'}, {'number': 3, 'created': '2020-08-11 19:36:23.000000000', 'files': ['kubernetes-node-problem-detector/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/117fae68e6ead96f326a25a112edcc15b6fe7030', 'message': 'Run node-problem-detector from 0 user\n\nThis adds the runAsUser flag to node-problem-detector at pod level\n\nChange-Id: I0db38599e037ac38b24e50bbc2228ef1fd264c4e\n'}]",0,745713,117fae68e6ead96f326a25a112edcc15b6fe7030,19,14,3,29161,,,0,"Run node-problem-detector from 0 user

This adds the runAsUser flag to node-problem-detector at pod level

Change-Id: I0db38599e037ac38b24e50bbc2228ef1fd264c4e
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/13/745713/1 && git format-patch -1 --stdout FETCH_HEAD,['kubernetes-node-problem-detector/values.yaml'],1,db0c6d032f6331f9dfbe77ec03fd2bd930ad1ea7,, pod: runAsUser: 0,,2,0
openstack%2Fkeystone~stable%2Fussuri~I3834b3b34641c006c70614d5331d292c41f8a346,openstack/keystone,stable/ussuri,I3834b3b34641c006c70614d5331d292c41f8a346,Fix lower-constraint for PyMySQL,MERGED,2020-08-04 17:17:34.000000000,2020-08-11 22:33:42.000000000,2020-08-11 16:38:26.000000000,"[{'_account_id': 8482}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-08-04 17:17:34.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/keystone/commit/300e79e93b9966e988ec92a74bf9b49b71d77d1b', 'message': ""Fix lower-constraint for PyMySQL\n\nkeystone does not have any lower constraint for PyMySQL so the\nlatest version 0.10.0 is picked by the job which is failing [1]\nIn OpenStack, PyMySQL upper constraint is .9.3 means that version\nis tested not 0.10.0 [2] let's add PyMySQL lower constraint also\nso that we test lower-constraint job with correct lower version.\n\n[1]https://zuul.opendev.org/t/openstack/build/3077d96f4fff4b7985cb763d0635d471/log/job-output.txt#621\n[2]https://github.com/openstack/requirements/blob/master/upper-constraints.txt#L384\n\nChange-Id: I3834b3b34641c006c70614d5331d292c41f8a346\nCloses-Bug: #1888886\n(cherry picked from commit 3de085b1eb9750cb0d0d25cb468250cf34804eaf)\n""}]",0,744759,300e79e93b9966e988ec92a74bf9b49b71d77d1b,15,4,1,8482,,,0,"Fix lower-constraint for PyMySQL

keystone does not have any lower constraint for PyMySQL so the
latest version 0.10.0 is picked by the job which is failing [1]
In OpenStack, PyMySQL upper constraint is .9.3 means that version
is tested not 0.10.0 [2] let's add PyMySQL lower constraint also
so that we test lower-constraint job with correct lower version.

[1]https://zuul.opendev.org/t/openstack/build/3077d96f4fff4b7985cb763d0635d471/log/job-output.txt#621
[2]https://github.com/openstack/requirements/blob/master/upper-constraints.txt#L384

Change-Id: I3834b3b34641c006c70614d5331d292c41f8a346
Closes-Bug: #1888886
(cherry picked from commit 3de085b1eb9750cb0d0d25cb468250cf34804eaf)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/59/744759/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,300e79e93b9966e988ec92a74bf9b49b71d77d1b,,PyMySQL==0.7.6,,1,0
openstack%2Ftripleo-puppet-elements~stable%2Ftrain~Idd57bb56d81ba76607246c7a4e4caaa71d1b84e0,openstack/tripleo-puppet-elements,stable/train,Idd57bb56d81ba76607246c7a4e4caaa71d1b84e0,Drop docker packages from overcloud-base,ABANDONED,2020-08-11 21:37:44.000000000,2020-08-11 22:09:59.000000000,,"[{'_account_id': 360}, {'_account_id': 8161}]","[{'number': 1, 'created': '2020-08-11 21:37:44.000000000', 'files': ['elements/overcloud-base/install.d/package-installs-overcloud-base', 'elements/overcloud-base/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/d89be8cd4317ea452e2767b83715c7284fd7c338', 'message': 'Drop docker packages from overcloud-base\n\nDepends-On: I561c52ce09c66a7f79763c59cd25f15949c054af\nChange-Id: Idd57bb56d81ba76607246c7a4e4caaa71d1b84e0\n(cherry picked from commit a5ca5d269d605eb232cc81f455f09e8d72d1911c)\n'}]",0,745751,d89be8cd4317ea452e2767b83715c7284fd7c338,6,2,1,8161,,,0,"Drop docker packages from overcloud-base

Depends-On: I561c52ce09c66a7f79763c59cd25f15949c054af
Change-Id: Idd57bb56d81ba76607246c7a4e4caaa71d1b84e0
(cherry picked from commit a5ca5d269d605eb232cc81f455f09e8d72d1911c)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/51/745751/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/overcloud-base/install.d/package-installs-overcloud-base', 'elements/overcloud-base/pkg-map']",2,d89be8cd4317ea452e2767b83715c7284fd7c338,drop-podman-from-oc,," ""docker"": ""docker"", ""python_docker_py"": ""python-docker-py"",",0,4
openstack%2Fopenstack-ansible~master~I3c34b63934383cebefc29811e68afe8a35584c1e,openstack/openstack-ansible,master,I3c34b63934383cebefc29811e68afe8a35584c1e,Trigger basic ironic tempest tests on os_ironic,MERGED,2020-06-18 08:54:17.000000000,2020-08-11 22:06:55.000000000,2020-08-11 22:05:19.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29881}]","[{'number': 1, 'created': '2020-06-18 08:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9b7ddb0768b037142173a111921ae40834f9a499', 'message': '[WIP] improve ironic tempest testing\n\nChange-Id: I3c34b63934383cebefc29811e68afe8a35584c1e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-06-18 11:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9f7df83b73586925e1cd2eea3ab1568620093fc8', 'message': '[WIP] improve ironic tempest testing\n\nChange-Id: I3c34b63934383cebefc29811e68afe8a35584c1e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-06-18 15:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9314c5188aed44c9dd65c575914cd56cc19c7622', 'message': '[WIP] improve ironic tempest testing\n\nChange-Id: I3c34b63934383cebefc29811e68afe8a35584c1e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-06-18 15:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/79a6f36a999d7335a042430a07b1208693147aca', 'message': '[WIP] improve ironic tempest testing\n\nChange-Id: I3c34b63934383cebefc29811e68afe8a35584c1e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2020-07-09 12:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/644855419f3903960c1cfeca4c646a6203d8adb1', 'message': '[WIP] improve ironic tempest testing\n\nChange-Id: I3c34b63934383cebefc29811e68afe8a35584c1e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2020-07-14 05:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2d333f1ca508a0b32c0741b869658e80120986e1', 'message': '[WIP] improve ironic tempest testing\n\nChange-Id: I3c34b63934383cebefc29811e68afe8a35584c1e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 7, 'created': '2020-07-14 05:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8ac575a21161a3388aaf37d764a878964262023e', 'message': '[WIP] improve ironic tempest testing\n\nChange-Id: I3c34b63934383cebefc29811e68afe8a35584c1e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 8, 'created': '2020-07-20 10:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d39047f7e2a46a48a9139f491cf7b0733827005e', 'message': '[WIP] improve ironic tempest testing\n\nChange-Id: I3c34b63934383cebefc29811e68afe8a35584c1e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 9, 'created': '2020-07-21 06:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/abc07611e773d565f52ad4157806a300fb859549', 'message': '[WIP] improve ironic tempest testing\n\nChange-Id: I3c34b63934383cebefc29811e68afe8a35584c1e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 10, 'created': '2020-07-29 09:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/94590b42b344f53415a5f91c392cffe325bd0d07', 'message': 'Trigger basic ironic tempest tests on os_ironic\n\nCurrently os_ironic project side, there is no ironic related\ntempest tests runned. It adds basic coverage so that we can\nvalidate the ironic related patches.\n\nChange-Id: I3c34b63934383cebefc29811e68afe8a35584c1e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 11, 'created': '2020-08-04 20:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/477d5bf16b7fe7be7b8728d87ca93789b4f3864e', 'message': 'Trigger basic ironic tempest tests on os_ironic\n\nCurrently os_ironic project side, there is no ironic related\ntempest tests runned. It adds basic coverage so that we can\nvalidate the ironic related patches.\n\nChange-Id: I3c34b63934383cebefc29811e68afe8a35584c1e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 12, 'created': '2020-08-10 12:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8eb714b9ee398ccd9b9094f1c5a0b84c686b7cd1', 'message': 'Trigger basic ironic tempest tests on os_ironic\n\nCurrently os_ironic project side, there is no ironic related\ntempest tests runned. It adds basic coverage so that we can\nvalidate the ironic related patches.\n\nhttps://review.opendev.org/#/c/744882/ adds\nchassis_node_list test to skiplist so moving it to skip list.\n\nChange-Id: I3c34b63934383cebefc29811e68afe8a35584c1e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 13, 'created': '2020-08-10 12:10:52.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'tests/roles/bootstrap-host/templates/user_variables_ironic.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4b5730cdb56166013d6ef699cb4f31fb38807fad', 'message': 'Trigger basic ironic tempest tests on os_ironic\n\nCurrently os_ironic project side, there is no ironic related\ntempest tests runned. It adds basic coverage so that we can\nvalidate the ironic related patches.\n\nhttps://review.opendev.org/#/c/744882/ adds\nchassis_node_list test to skiplist so moving it to skip list.\n\nChange-Id: I3c34b63934383cebefc29811e68afe8a35584c1e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",1,736507,4b5730cdb56166013d6ef699cb4f31fb38807fad,38,8,13,12393,,,0,"Trigger basic ironic tempest tests on os_ironic

Currently os_ironic project side, there is no ironic related
tempest tests runned. It adds basic coverage so that we can
validate the ironic related patches.

https://review.opendev.org/#/c/744882/ adds
chassis_node_list test to skiplist so moving it to skip list.

Change-Id: I3c34b63934383cebefc29811e68afe8a35584c1e
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/07/736507/13 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml'],1,9b7ddb0768b037142173a111921ae40834f9a499,ironic_tests," - src: user_variables_ironic.yml.j2 dest: user_variables_ironic.yml condition: ""{{ 'octavia' in bootstrap_host_scenarios_expanded }}""",,3,0
openstack%2Ftripleo-operator-ansible~master~I20e7f611510443f116750ecbe8eb5aee9eff4a47,openstack/tripleo-operator-ansible,master,I20e7f611510443f116750ecbe8eb5aee9eff4a47,Add role tripleo_overcloud_node_extract_provisioned,MERGED,2020-05-27 04:54:09.000000000,2020-08-11 21:28:53.000000000,2020-08-11 21:26:07.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-27 04:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/7aeca97770e872fb9c70120498d09d0d7b237f83', 'message': 'Add role tripleo_overcloud_node_extract_provisioned\n\nThis wraps the recently added command `overcloud node extract\nprovisioned`.\n\nIt will be used soon to extract nova provisioned servers during\nundercloud upgrade, just before the nova service is switched off.\n\nChange-Id: I20e7f611510443f116750ecbe8eb5aee9eff4a47\nBlueprint: nova-less-deploy\n'}, {'number': 2, 'created': '2020-05-27 21:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/797549676cf8fa2a23bbfad2ccb59c28ef03e71e', 'message': 'Add role tripleo_overcloud_node_extract_provisioned\n\nThis wraps the recently added command `overcloud node extract\nprovisioned`.\n\nIt will be used soon to extract nova provisioned servers during\nundercloud upgrade, just before the nova service is switched off.\n\nChange-Id: I20e7f611510443f116750ecbe8eb5aee9eff4a47\nBlueprint: nova-less-deploy\n'}, {'number': 3, 'created': '2020-06-08 23:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/4dc7f5f2e406e7357bd7a443d1a3ed5a724fcca4', 'message': 'Add role tripleo_overcloud_node_extract_provisioned\n\nThis wraps the recently added command `overcloud node extract\nprovisioned`.\n\nIt will be used soon to extract nova provisioned servers during\nundercloud upgrade, just before the nova service is switched off.\n\nChange-Id: I20e7f611510443f116750ecbe8eb5aee9eff4a47\nBlueprint: nova-less-deploy\n'}, {'number': 4, 'created': '2020-06-09 02:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/14ec9ec5d850c7bf339a01d50df888e1ec725d28', 'message': 'Add role tripleo_overcloud_node_extract_provisioned\n\nThis wraps the recently added command `overcloud node extract\nprovisioned`.\n\nIt will be used soon to extract nova provisioned servers during\nundercloud upgrade, just before the nova service is switched off.\n\nChange-Id: I20e7f611510443f116750ecbe8eb5aee9eff4a47\nBlueprint: nova-less-deploy\n'}, {'number': 5, 'created': '2020-06-14 23:36:28.000000000', 'files': ['roles/tripleo_overcloud_node_extract_provisioned/defaults/main.yml', 'roles/tripleo_overcloud_node_extract_provisioned/tests/test.yml', 'doc/source/roles/role-tripleo_overcloud_node_provision.rst', 'roles/tripleo_overcloud_node_extract_provisioned/meta/main.yml', 'roles/tripleo_overcloud_node_extract_provisioned/molecule/default/molecule.yml', 'roles/tripleo_overcloud_node_extract_provisioned/README.md', 'roles/tripleo_overcloud_node_extract_provisioned/molecule/default/prepare.yml', 'roles/tripleo_overcloud_node_extract_provisioned/tasks/main.yml', 'roles/tripleo_overcloud_node_provision/README.md', 'doc/source/roles/role-tripleo_overcloud_node_extract_provisioned.rst', 'roles/tripleo_overcloud_node_extract_provisioned/molecule/default/converge.yml', 'roles/tripleo_overcloud_node_extract_provisioned/tests/inventory'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/a6de99422a1764850c080f32a9e82795e9887a73', 'message': 'Add role tripleo_overcloud_node_extract_provisioned\n\nThis wraps the recently added command `overcloud node extract\nprovisioned`.\n\nChange-Id: I20e7f611510443f116750ecbe8eb5aee9eff4a47\nBlueprint: nova-less-deploy\n'}]",9,731074,a6de99422a1764850c080f32a9e82795e9887a73,18,4,5,4571,,,0,"Add role tripleo_overcloud_node_extract_provisioned

This wraps the recently added command `overcloud node extract
provisioned`.

Change-Id: I20e7f611510443f116750ecbe8eb5aee9eff4a47
Blueprint: nova-less-deploy
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/74/731074/5 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_node_extract_provisioned/defaults/main.yml', 'roles/tripleo_overcloud_node_extract_provisioned/tests/test.yml', 'doc/source/roles/role-tripleo_overcloud_node_provision.rst', 'roles/tripleo_overcloud_node_extract_provisioned/meta/main.yml', 'roles/tripleo_overcloud_node_extract_provisioned/molecule/default/molecule.yml', 'roles/tripleo_overcloud_node_extract_provisioned/README.md', 'roles/tripleo_overcloud_node_extract_provisioned/molecule/default/prepare.yml', 'roles/tripleo_overcloud_node_extract_provisioned/tasks/main.yml', 'roles/tripleo_overcloud_node_provision/README.md', 'doc/source/roles/role-tripleo_overcloud_node_extract_provisioned.rst', 'roles/tripleo_overcloud_node_extract_provisioned/molecule/default/converge.yml', 'roles/tripleo_overcloud_node_extract_provisioned/tests/inventory']",12,7aeca97770e872fb9c70120498d09d0d7b237f83,bp/nova-less-deploy,localhost ,,253,1
openstack%2Ftripleo-operator-ansible~master~I0a0d12da26309dbdf1773892dd65359848859f2a,openstack/tripleo-operator-ansible,master,I0a0d12da26309dbdf1773892dd65359848859f2a,zuul: run standalone job if tripleo_deploy role is touched,MERGED,2020-08-11 15:38:09.000000000,2020-08-11 21:26:06.000000000,2020-08-11 21:26:06.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-11 15:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/473e0c88d0bb7826afccfd42eac2af2d073c71d7', 'message': 'zuul: run standalone job if tripleo_deploy role is touched\n\nIt would be nice to test the ""openstack tripleo deploy"" using standalone\njob when the role is touched.\n\nChange-Id: I0a0d12da26309dbdf1773892dd65359848859f2a\n'}, {'number': 2, 'created': '2020-08-11 15:41:20.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/d27fffabc86d9ed1952b39d7c05efd5e982f3dbe', 'message': 'zuul: run standalone job if tripleo_deploy role is touched\n\nIt would be nice to test the ""openstack tripleo deploy"" using standalone\njob when the role is touched.\n\nChange-Id: I0a0d12da26309dbdf1773892dd65359848859f2a\n'}]",0,745702,d27fffabc86d9ed1952b39d7c05efd5e982f3dbe,9,3,2,3153,,,0,"zuul: run standalone job if tripleo_deploy role is touched

It would be nice to test the ""openstack tripleo deploy"" using standalone
job when the role is touched.

Change-Id: I0a0d12da26309dbdf1773892dd65359848859f2a
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/02/745702/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,473e0c88d0bb7826afccfd42eac2af2d073c71d7,standalone/zuul, - tripleo-ci-centos-8-standalone: dependencies: *deps_unit_lint files: &standalone_files - ^roles/tripleo_deploy/.*$ - tripleo-ci-centos-8-standalone: files: *&standalone_files,,6,0
openstack%2Fnova~master~Iaaebc5a42bcb8d7a7647544150ed32a1378f510a,openstack/nova,master,Iaaebc5a42bcb8d7a7647544150ed32a1378f510a,Moving get_hash_str() from md5 to sha-256,NEW,2018-11-06 01:03:51.000000000,2020-08-11 21:22:53.000000000,,"[{'_account_id': 4690}, {'_account_id': 7973}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20754}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28885}, {'_account_id': 29432}, {'_account_id': 29963}]","[{'number': 1, 'created': '2018-11-06 01:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4214170e96f33552a3f9257f7692b4893c1ec316', 'message': 'Moving get_hash_str() from md5 to sha-256\n\nFIPS 140-2 does not allow MD5 use for most purposes and systems\nin ""FIPS mode"" (fips=1 kernel flag) will cause software using\nMD5 from popular libraries to fail.\n\nChange-Id: Iaaebc5a42bcb8d7a7647544150ed32a1378f510a\n'}, {'number': 2, 'created': '2018-11-06 02:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19a48e57e43072f91ff8e19e2122ee003b0055f6', 'message': 'Moving get_hash_str() from md5 to sha-256\n\nFIPS 140-2 does not allow MD5 use for most purposes and systems\nin ""FIPS mode"" (fips=1 kernel flag) will cause software using\nMD5 from popular libraries to fail.\n\nCloses-Bug: #1801828\nChange-Id: Iaaebc5a42bcb8d7a7647544150ed32a1378f510a\n'}, {'number': 3, 'created': '2019-10-30 21:15:48.000000000', 'files': ['nova/tests/unit/privsep/test_fs.py', 'nova/tests/unit/test_utils.py', 'nova/utils.py', 'nova/privsep/fs.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/be565eac06e52503ab54aa110cf5fd6f91099d30', 'message': 'Moving get_hash_str() from md5 to sha-256\n\nFIPS 140-2 does not allow MD5 use for most purposes and systems\nin ""FIPS mode"" (fips=1 kernel flag) will cause software using\nMD5 from popular libraries to fail.\n\nCloses-Bug: #1801828\nChange-Id: Iaaebc5a42bcb8d7a7647544150ed32a1378f510a\n'}]",6,615704,be565eac06e52503ab54aa110cf5fd6f91099d30,43,21,3,29432,,,0,"Moving get_hash_str() from md5 to sha-256

FIPS 140-2 does not allow MD5 use for most purposes and systems
in ""FIPS mode"" (fips=1 kernel flag) will cause software using
MD5 from popular libraries to fail.

Closes-Bug: #1801828
Change-Id: Iaaebc5a42bcb8d7a7647544150ed32a1378f510a
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/615704/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/privsep/test_fs.py', 'nova/tests/unit/test_utils.py', 'nova/utils.py', 'nova/privsep/fs.py']",4,4214170e96f33552a3f9257f7692b4893c1ec316,bug/1801828," """"""Returns string that represents SHA-256 hash of base_str (in hex format). return hashlib.sha256(base_str).hexdigest()"," """"""Returns string that represents MD5 hash of base_str (in hex format). return hashlib.md5(base_str).hexdigest()",9,15
openstack%2Fopenstack-ansible~master~I61b266e68b6663fd0433b884eede703d910c6597,openstack/openstack-ansible,master,I61b266e68b6663fd0433b884eede703d910c6597,Bump SHAs for master,MERGED,2020-08-09 15:48:46.000000000,2020-08-11 21:21:49.000000000,2020-08-11 21:19:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-09 15:48:46.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/334845a72dcb56e0d9f585c889d36edbd18b4a31', 'message': 'Bump SHAs for master\n\nChange-Id: I61b266e68b6663fd0433b884eede703d910c6597\n'}]",0,745464,334845a72dcb56e0d9f585c889d36edbd18b4a31,20,3,1,28619,,,0,"Bump SHAs for master

Change-Id: I61b266e68b6663fd0433b884eede703d910c6597
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/64/745464/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml']",4,334845a72dcb56e0d9f585c889d36edbd18b4a31,bump_osa,tempest_git_install_branch: 24961f6244fd3798b26c0d516d18ab03cd764df8 # HEAD as of 09.08.2020,tempest_git_install_branch: 50ec7d74c392d364c18aaf0faaca26b8ff7a4809 # HEAD as of 26.07.2020,50,50
openstack%2Fnova~master~Ic5760a0fd2d30c6aaf819bfd7506ad092871de10,openstack/nova,master,Ic5760a0fd2d30c6aaf819bfd7506ad092871de10,Add regression test for bug 1879787,MERGED,2020-07-15 14:51:08.000000000,2020-08-11 21:14:10.000000000,2020-08-11 20:48:41.000000000,"[{'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-15 14:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fc806b56f4349b7d00248b0d5cd1a2e493f99f4', 'message': 'Add regression test for bug 1879787\n\n_post_live_migration() on the destination host has a call to\nself.network_api.get_instance_nw_info(), which eventually ends up\ncalling the Neutron REST API (via\nnova.network.neutron.API._build_network_info_model()). Any exceptions\nin that call are unhandled. This patch adds a test that assert the\nbroken behavior. The fix is in the subsequent patch.\n\nChange-Id: Ic5760a0fd2d30c6aaf819bfd7506ad092871de10\n'}, {'number': 2, 'created': '2020-07-16 14:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47997c296e58e08c96215064d9b6d3fb9869d8bf', 'message': 'Add regression test for bug 1879787\n\n_post_live_migration() on the destination host has a call to\nself.network_api.get_instance_nw_info(), which eventually ends up\ncalling the Neutron REST API (via\nnova.network.neutron.API._build_network_info_model()). Any exceptions\nin that call are unhandled. This patch adds a test that assert the\nbroken behavior. The fix is in the subsequent patch.\n\nChange-Id: Ic5760a0fd2d30c6aaf819bfd7506ad092871de10\n'}, {'number': 3, 'created': '2020-07-24 13:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3372f734d1d7c550de0679a3f0c5b3cda993ef4', 'message': 'Add regression test for bug 1879787\n\n_post_live_migration() on the destination host has a call to\nself.network_api.get_instance_nw_info(), which eventually ends up\ncalling the Neutron REST API (via\nnova.network.neutron.API._build_network_info_model()). Any exceptions\nin that call are unhandled. This patch adds a test that assert the\nbroken behavior. The fix is in the subsequent patch.\n\nChange-Id: Ic5760a0fd2d30c6aaf819bfd7506ad092871de10\n'}, {'number': 4, 'created': '2020-07-31 13:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53a45535aed41f4126e103050f4d92e1f72ca9cd', 'message': 'Add regression test for bug 1879787\n\n_post_live_migration() on the destination host has a call to\nself.network_api.get_instance_nw_info(), which eventually ends up\ncalling the Neutron REST API (via\nnova.network.neutron.API._build_network_info_model()). Any exceptions\nin that call are unhandled. This patch adds a test that assert the\nbroken behavior. The fix is in the subsequent patch.\n\nChange-Id: Ic5760a0fd2d30c6aaf819bfd7506ad092871de10\n'}, {'number': 5, 'created': '2020-07-31 13:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ad201082eaf42bbbb98bed8ddf2bc10aa398b85', 'message': 'Add regression test for bug 1879787\n\n_post_live_migration() on the destination host has a call to\nself.network_api.get_instance_nw_info(), which eventually ends up\ncalling the Neutron REST API (via\nnova.network.neutron.API._build_network_info_model()). Any exceptions\nin that call are unhandled. This patch adds a test that assert the\nbroken behavior. The fix is in the subsequent patch.\n\nChange-Id: Ic5760a0fd2d30c6aaf819bfd7506ad092871de10\n'}, {'number': 6, 'created': '2020-07-31 15:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d72bf9fd6606b132d8361a1c5690381157999a36', 'message': 'Add regression test for bug 1879787\n\n_post_live_migration() on the destination host has a call to\nself.network_api.get_instance_nw_info(), which eventually ends up\ncalling the Neutron REST API (via\nnova.network.neutron.API._build_network_info_model()). Any exceptions\nin that call are unhandled. This patch adds a test that assert the\nbroken behavior. The fix is in the subsequent patch.\n\nChange-Id: Ic5760a0fd2d30c6aaf819bfd7506ad092871de10\n'}, {'number': 7, 'created': '2020-08-03 19:41:44.000000000', 'files': ['nova/tests/functional/compute/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/81a44384a983ad9759454260a54a1d88375408cf', 'message': 'Add regression test for bug 1879787\n\n_post_live_migration() on the destination host has a call to\nself.network_api.get_instance_nw_info(), which eventually ends up\ncalling the Neutron REST API (via\nnova.network.neutron.API._build_network_info_model()). Any exceptions\nin that call are unhandled. This patch adds a test that assert the\nbroken behavior. The fix is in the subsequent patch.\n\nChange-Id: Ic5760a0fd2d30c6aaf819bfd7506ad092871de10\n'}]",15,741230,81a44384a983ad9759454260a54a1d88375408cf,79,12,7,8864,,,0,"Add regression test for bug 1879787

_post_live_migration() on the destination host has a call to
self.network_api.get_instance_nw_info(), which eventually ends up
calling the Neutron REST API (via
nova.network.neutron.API._build_network_info_model()). Any exceptions
in that call are unhandled. This patch adds a test that assert the
broken behavior. The fix is in the subsequent patch.

Change-Id: Ic5760a0fd2d30c6aaf819bfd7506ad092871de10
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/741230/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/compute/test_live_migration.py']",2,2fc806b56f4349b7d00248b0d5cd1a2e493f99f4,bug/1879787,"import mock class LiveMigrationNeutronFailure(integrated_helpers._IntegratedTestBase): api_major_version = 'v2.1' microversion = 'latest' def setUp(self): super(LiveMigrationNeutronFailure, self).setUp() self.compute2 = self.start_service('compute', host='host2') def test_live_migrate_get_nw_info_fails(self): server = self._create_server(networks='auto') source_mgr = (self.compute.manager if self.compute.host == server['OS-EXT-SRV-ATTR:host'] else self.compute2.manager) orig_plm = source_mgr._post_live_migration def stub_plm(*args, **kwargs): with mock.patch.object(source_mgr.network_api, 'get_instance_nw_info', side_effect=ConnectionError): return orig_plm(*args, **kwargs) with mock.patch.object(source_mgr, '_post_live_migration', side_effect=stub_plm): # FIXME(artom) Until bug 1879787 is fixed, the raised # ConnectionError will go unhandled, and the migration will fail. self._live_migrate(server, 'error', server_final_status='ERROR') ",,34,2
openstack%2Fpython-tripleoclient~stable%2Ftrain~I47c885697bf36b999fd0ad9bd99a23990440ed62,openstack/python-tripleoclient,stable/train,I47c885697bf36b999fd0ad9bd99a23990440ed62,"New command ""overcloud node extract provisioned""",ABANDONED,2020-05-07 21:53:44.000000000,2020-08-11 21:11:15.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-05-07 21:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/28d8587b803e47047200143a4d4613cc26ac96a8', 'message': 'New command ""overcloud node extract provisioned""\n\nAs a first step to upgrade to a nova-less undercloud, the baremetal\ndeployment yaml which represents the current overcloud needs to be\nbuilt.\n\nThis command builds the yaml for an existing overcloud using the\nheat stack output AnsibleHostVarsMap and a list of all baremetal\nnodes. When the generated yaml is used to run ""openstack overcloud\nnode provision"" no changes will be made to any nodes.\n\nBlueprint: nova-less-deploy\nChange-Id: I47c885697bf36b999fd0ad9bd99a23990440ed62\n(cherry picked from commit 51b0cc4c13f9960e087b34e9cd15fe09ecebc722\n as a backport to enable running this command before a major upgrade\n which removes nova from the undercloud)\n'}, {'number': 2, 'created': '2020-07-15 02:42:35.000000000', 'files': ['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'setup.cfg', 'tripleoclient/v1/overcloud_node.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1e73993da9a440aec888cc799f454ba9aa6a0d34', 'message': 'New command ""overcloud node extract provisioned""\n\nAs a first step to upgrade to a nova-less undercloud, the baremetal\ndeployment yaml which represents the current overcloud needs to be\nbuilt.\n\nThis command builds the yaml for an existing overcloud using the\nheat stack output AnsibleHostVarsMap and a list of all baremetal\nnodes. When the generated yaml is used to run ""openstack overcloud\nnode provision"" no changes will be made to any nodes.\n\nBlueprint: nova-less-deploy\nChange-Id: I47c885697bf36b999fd0ad9bd99a23990440ed62\n(cherry picked from commit 51b0cc4c13f9960e087b34e9cd15fe09ecebc722\n as a backport to enable running this command before a major upgrade\n which removes nova from the undercloud)\n'}]",2,726249,1e73993da9a440aec888cc799f454ba9aa6a0d34,9,4,2,4571,,,0,"New command ""overcloud node extract provisioned""

As a first step to upgrade to a nova-less undercloud, the baremetal
deployment yaml which represents the current overcloud needs to be
built.

This command builds the yaml for an existing overcloud using the
heat stack output AnsibleHostVarsMap and a list of all baremetal
nodes. When the generated yaml is used to run ""openstack overcloud
node provision"" no changes will be made to any nodes.

Blueprint: nova-less-deploy
Change-Id: I47c885697bf36b999fd0ad9bd99a23990440ed62
(cherry picked from commit 51b0cc4c13f9960e087b34e9cd15fe09ecebc722
 as a backport to enable running this command before a major upgrade
 which removes nova from the undercloud)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/49/726249/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'setup.cfg', 'tripleoclient/v1/overcloud_node.py']",3,28d8587b803e47047200143a4d4613cc26ac96a8,train/nova-less-deploy,"import datetime class ExtractProvisionedNode(command.Command): log = logging.getLogger(__name__ + "".ExtractProvisionedNode"") def _setup_clients(self): self.clients = self.app.client_manager self.orchestration_client = self.clients.orchestration self.baremetal_client = self.clients.baremetal def get_parser(self, prog_name): parser = super(ExtractProvisionedNode, self).get_parser(prog_name) parser.add_argument('--stack', dest='stack', help=_('Name or ID of heat stack ' '(default=Env: OVERCLOUD_STACK_NAME)'), default=utils.env('OVERCLOUD_STACK_NAME', default='overcloud')) parser.add_argument('-o', '--output', metavar='<baremetal_deployment.yaml>', help=_('The output file path describing the ' 'baremetal deployment')) parser.add_argument('-y', '--yes', default=False, action='store_true', help=_('Skip yes/no prompt for existing files ' '(assume yes).')) return parser def take_action(self, parsed_args): self.log.debug(""take_action(%s)"" % parsed_args) self._setup_clients() stack = oooutils.get_stack(self.orchestration_client, parsed_args.stack) host_vars = oooutils.get_stack_output_item( stack, 'AnsibleHostVarsMap') or {} parameters = stack.to_dict().get('parameters', {}) # list all baremetal nodes and map hostname to node name node_details = self.baremetal_client.node.list(detail=True) hostname_node_map = {} for node in node_details: hostname = node.instance_info.get('display_name') if hostname and node.name: hostname_node_map[hostname] = node.name role_data = six.StringIO() role_data.write('# Generated with the following on %s\n#\n' % datetime.datetime.now().isoformat()) role_data.write('# openstack %s\n#\n\n' % ' '.join(self.app.command_options)) for role, entries in host_vars.items(): role_count = len(entries) # skip zero count roles if not role_count: continue role_data.write('- name: %s\n' % role) role_data.write(' count: %s\n' % role_count) hostname_format = parameters.get('%sHostnameFormat' % role) if hostname_format: role_data.write(' hostname_format: ""%s""\n' % hostname_format) role_data.write(' instances:\n') for entry in sorted(entries): role_data.write(' - hostname: %s\n' % entry) if entry in hostname_node_map: role_data.write(' name: %s\n' % hostname_node_map[entry]) if parsed_args.output: if (os.path.exists(parsed_args.output) and not parsed_args.yes and sys.stdin.isatty()): prompt_response = six.moves.input( ('Overwrite existing file %s [y/N]?' % parsed_args.output) ).lower() if not prompt_response.startswith('y'): raise oscexc.CommandError( ""Will not overwrite existing file:"" "" %s"" % parsed_args.output) with open(parsed_args.output, 'w+') as fp: fp.write(role_data.getvalue()) self.app.stdout.write(role_data.getvalue())",,206,0
openstack%2Fcharm-guide~master~I0d06b9671b77fd498a21fcb81337100e7523f052,openstack/charm-guide,master,I0d06b9671b77fd498a21fcb81337100e7523f052,Update release notes for g-s-s and use_swift,MERGED,2020-08-11 20:53:31.000000000,2020-08-11 21:09:17.000000000,2020-08-11 21:07:53.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-11 20:53:31.000000000', 'files': ['doc/source/2008.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/c1710bb4b3d3950b0e233e83b8b611aa3921cdf5', 'message': 'Update release notes for g-s-s and use_swift\n\nChange-Id: I0d06b9671b77fd498a21fcb81337100e7523f052\n'}]",0,745744,c1710bb4b3d3950b0e233e83b8b611aa3921cdf5,7,2,1,30561,,,0,"Update release notes for g-s-s and use_swift

Change-Id: I0d06b9671b77fd498a21fcb81337100e7523f052
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/44/745744/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2008.rst'],1,c1710bb4b3d3950b0e233e83b8b611aa3921cdf5,release-note-for-gss-swift-required,glance-simplestreams-sync charm ``use_swift`` option ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The ``use_swift`` configuration option for the glance-simplestreams-sync charm is deprecated and will be removed in the 20.10 release of OpenStack Charms. This option allowed simplestreams metadata to be hosted on an Apache server local to a glance-simplestreams-sync unit. Object storage will become the only way to store this metadata. ,,10,0
openstack%2Fpython-tripleoclient~stable%2Ftrain~Iead0bf33a13adcd758506857e3a2bcd7f6cfbefa,openstack/python-tripleoclient,stable/train,Iead0bf33a13adcd758506857e3a2bcd7f6cfbefa,[train-only] Run tripleo-build-containers-ubi-8 under specific conditions,MERGED,2020-08-10 20:06:00.000000000,2020-08-11 20:42:14.000000000,2020-08-11 20:38:49.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-10 20:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e82f725283ae9a5c6f9689831b74558de4baace8', 'message': '[train-only] Run tripleo-build-containers-ubi-8 under specific conditions\n\nManual backport of I8367fb3b140f38bb61a32dedafd36052897ce80b into\nstable/train.\n\nChange-Id: Iead0bf33a13adcd758506857e3a2bcd7f6cfbefa\n'}, {'number': 2, 'created': '2020-08-11 12:34:43.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8d98d0b57db3003314d3068c6f6e7df5ae488a55', 'message': '[train-only] Run tripleo-build-containers-ubi-8 under specific conditions\n\nManual backport of I8367fb3b140f38bb61a32dedafd36052897ce80b into\nstable/train.\n\nChange-Id: Iead0bf33a13adcd758506857e3a2bcd7f6cfbefa\n'}]",0,745585,8d98d0b57db3003314d3068c6f6e7df5ae488a55,10,3,2,3153,,,0,"[train-only] Run tripleo-build-containers-ubi-8 under specific conditions

Manual backport of I8367fb3b140f38bb61a32dedafd36052897ce80b into
stable/train.

Change-Id: Iead0bf33a13adcd758506857e3a2bcd7f6cfbefa
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/85/745585/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,e82f725283ae9a5c6f9689831b74558de4baace8,train/tcib, - tripleo-build-containers-ubi-8: dependencies: *deps_unit_lint files: - ^tripleoclient/v1/tripleo_container_image.py$,,4,0
openstack%2Ftripleo-quickstart-extras~master~Ib9ac7f77a3c00d122b831527abedd0f55a28b68d,openstack/tripleo-quickstart-extras,master,Ib9ac7f77a3c00d122b831527abedd0f55a28b68d,Set the proper python version for python_venv_build role,MERGED,2020-08-10 09:42:47.000000000,2020-08-11 20:38:48.000000000,2020-08-11 20:38:48.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-10 09:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/85f9f72e092142cde96b12f5fae2917b757d1df0', 'message': ""Set the proper python version for python_venv_build role\n\nDefault venv_python_executable in python_venv_build role is python3, we\nneed to set the variable properly to python2 when we are running in\nqueens, since it doesn't have support to python3.\n\nChange-Id: Ib9ac7f77a3c00d122b831527abedd0f55a28b68d\n""}, {'number': 2, 'created': '2020-08-11 05:09:20.000000000', 'files': ['playbooks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/921692e29174fb31b6a9182562d050b2674af5a4', 'message': ""Set the proper python version for python_venv_build role\n\nDefault venv_python_executable in python_venv_build role is python3, we\nneed to set the variable properly to python2 when we are running in\nqueens, since it doesn't have support to python3.\n\nChange-Id: Ib9ac7f77a3c00d122b831527abedd0f55a28b68d\n""}]",0,745511,921692e29174fb31b6a9182562d050b2674af5a4,21,6,2,8367,,,0,"Set the proper python version for python_venv_build role

Default venv_python_executable in python_venv_build role is python3, we
need to set the variable properly to python2 when we are running in
queens, since it doesn't have support to python3.

Change-Id: Ib9ac7f77a3c00d122b831527abedd0f55a28b68d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/11/745511/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest.yml'],1,85f9f72e092142cde96b12f5fae2917b757d1df0,fix-queens-openstacksdk," venv_python_executable: ""{{ python_cmd }}""",,1,0
openstack%2Fopenstack-ansible~stable%2Ftrain~Ic0fd86d58df93b620e1bb01359dce255b95a7d73,openstack/openstack-ansible,stable/train,Ic0fd86d58df93b620e1bb01359dce255b95a7d73,Bump SHAs for stable/train,MERGED,2020-08-09 15:49:12.000000000,2020-08-11 20:28:10.000000000,2020-08-11 20:25:36.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-08-09 15:49:12.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/581e130735e67607bffe72acb333a5ac5eaec06d', 'message': 'Bump SHAs for stable/train\n\nChange-Id: Ic0fd86d58df93b620e1bb01359dce255b95a7d73\n'}]",0,745466,581e130735e67607bffe72acb333a5ac5eaec06d,8,3,1,28619,,,0,"Bump SHAs for stable/train

Change-Id: Ic0fd86d58df93b620e1bb01359dce255b95a7d73
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/66/745466/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,581e130735e67607bffe72acb333a5ac5eaec06d,bump_osa, version: 5ce44f19feef05282f11eef11780250f4aa31940 version: 021b1621e4a9d4ac5de606884eecd8ffb9efcc7c version: 7d2a1cf04b4605417db81edac6ed9c6252463534 version: 09a53b700af51c03ac07f699da6506d39529b21f version: 68f9ccab1cad0ac3422b7294598e09a4d05a2edf version: 8e5d1159e0a5f36f6758b5b09cc3ee0deaeff6a4, version: b791d30c7afef76aaa59afb54de3a8c7e29186ff version: 18c563c9ccef6eb15d12c28ea5efd52f919e1896 version: 8a6327c67a47d22fffdde79b2b03f2d26ae0946a version: 44b7ca7d3f8f53a6e2434cfaff103c5c647abfb0 version: 80a510c2439939a9f45bbdaefa88c1953be0f2c9 version: ab16128506152bdf1b7f68dfaa2017afd9fecb34,52,52
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I9aaeec1d9f8623cbd99b2f83254dda038651f0a2,openstack/tripleo-heat-templates,stable/train,I9aaeec1d9f8623cbd99b2f83254dda038651f0a2,Update octavia playbooks parameters,MERGED,2020-08-10 13:21:39.000000000,2020-08-11 20:25:21.000000000,2020-08-11 20:25:21.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-10 13:21:39.000000000', 'files': ['deployment/octavia/octavia-deployment-config.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1eb954241bb4988e9ab6a9a74f0d277fe33726d6', 'message': 'Update octavia playbooks parameters\n\nStackAction no longer conditions generate_certs.\nForward OctaviaGenerateCerts to the playbooks and add StackAction value\nas parameter, the need of creating certificates is now handled in the\nansible playbook.\n\nChange-Id: I9aaeec1d9f8623cbd99b2f83254dda038651f0a2\nRelated-Bug: #1849548\n(cherry picked from commit 648cde501eb31766ed333f48ac1f6a4854b26c41)\n(cherry picked from commit 5f336195f622c0191eb7cc432ff49a81a9d97e3b)\n'}]",0,745529,1eb954241bb4988e9ab6a9a74f0d277fe33726d6,13,6,1,29244,,,0,"Update octavia playbooks parameters

StackAction no longer conditions generate_certs.
Forward OctaviaGenerateCerts to the playbooks and add StackAction value
as parameter, the need of creating certificates is now handled in the
ansible playbook.

Change-Id: I9aaeec1d9f8623cbd99b2f83254dda038651f0a2
Related-Bug: #1849548
(cherry picked from commit 648cde501eb31766ed333f48ac1f6a4854b26c41)
(cherry picked from commit 5f336195f622c0191eb7cc432ff49a81a9d97e3b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/745529/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-deployment-config.j2.yaml'],1,1eb954241bb4988e9ab6a9a74f0d277fe33726d6,, generate_certs: { get_param: OctaviaGenerateCerts } stack_action: { get_param: StackAction }," generate_certs: and: - get_param: OctaviaGenerateCerts - equals: - get_param: StackAction - CREATE generate_certs: {if: [generate_certs, true, false]}",2,8
openstack%2Fopenstack-helm~master~I7201b87da7b20e1ca8efedf5d86a23123ccfa150,openstack/openstack-helm,master,I7201b87da7b20e1ca8efedf5d86a23123ccfa150,Remove delete port commands in ovs agent init,MERGED,2020-08-05 11:56:31.000000000,2020-08-11 20:25:00.000000000,2020-08-11 20:23:31.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 16881}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 27589}, {'_account_id': 29220}, {'_account_id': 29397}]","[{'number': 1, 'created': '2020-08-05 11:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/334c8f256bea8078afd2876e48dbc12b4f748414', 'message': ""Remove delete port commands in ovs agent init\n\nThis commit removes 'del-port' commands in neutron ovs\nagent init script. Since, 'add-bond' command allows\nmodification of the existing options, the commands\nbeing removed are not required. This also allows restart\nof neutron ovs agent pod without causing disruptions to\novs.\n\nChange-Id: I7201b87da7b20e1ca8efedf5d86a23123ccfa150\n""}, {'number': 2, 'created': '2020-08-10 09:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3a4537aa230e79d4e0c9e8286520e0be86b97d39', 'message': ""Remove delete port commands in ovs agent init\n\nThis commit removes 'del-port' commands in neutron ovs\nagent init script. Since, 'add-bond' command allows\nmodification of the existing options, the commands\nbeing removed are not required. This also allows to\navoid disruptions in ovs caused by deleteing ports\non restart.\n\nChange-Id: I7201b87da7b20e1ca8efedf5d86a23123ccfa150\n""}, {'number': 3, 'created': '2020-08-11 08:36:28.000000000', 'files': ['neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d2deb2b2dc2bd5317a0efb4b5251cf278f6d934a', 'message': ""Remove delete port commands in ovs agent init\n\nThis commit removes 'del-port' commands in neutron ovs\nagent init script. Since, 'add-bond' command allows\nmodification of the existing options, the commands\nbeing removed are not required. This also allows to\navoid disruptions in ovs caused by deleting ports on\nrestart.\n\nChange-Id: I7201b87da7b20e1ca8efedf5d86a23123ccfa150\n""}]",2,744891,d2deb2b2dc2bd5317a0efb4b5251cf278f6d934a,30,12,3,29397,,,0,"Remove delete port commands in ovs agent init

This commit removes 'del-port' commands in neutron ovs
agent init script. Since, 'add-bond' command allows
modification of the existing options, the commands
being removed are not required. This also allows to
avoid disruptions in ovs caused by deleting ports on
restart.

Change-Id: I7201b87da7b20e1ca8efedf5d86a23123ccfa150
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/91/744891/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl'],1,334c8f256bea8078afd2876e48dbc12b4f748414,,," ovs-vsctl --db=unix:${OVS_SOCKET} --if-exists del-port ${port_name} ovs-vsctl --db=unix:${OVS_SOCKET} --if-exists del-port ""${bond_name}""",0,3
openstack%2Fcharm-glance-simplestreams-sync~master~I4316c68a083601e6745ad93c0feeeae2fde89b6f,openstack/charm-glance-simplestreams-sync,master,I4316c68a083601e6745ad93c0feeeae2fde89b6f,Update README,MERGED,2020-08-10 21:07:24.000000000,2020-08-11 20:15:32.000000000,2020-08-11 20:15:32.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2020-08-10 21:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/3a239662a1ef0d52b982b18ae2cc25da986ba0e2', 'message': 'Update README\n\nRemoved `use_swift` option explanation as this\noption is now deprecated.\n\nChange-Id: I4316c68a083601e6745ad93c0feeeae2fde89b6f\n'}, {'number': 2, 'created': '2020-08-11 18:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/8f87e3a3a92651d800d087c9de8f5e499b91b624', 'message': 'Update README\n\nRemove `use_swift` option explanation as this\noption is now deprecated. Swift is now required.\n\nChange-Id: I4316c68a083601e6745ad93c0feeeae2fde89b6f\n'}, {'number': 3, 'created': '2020-08-11 19:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/f4137df868619276b4df9ef4b674f8a6b5e820d6', 'message': 'Update README\n\nRemove `use_swift` option explanation as this\noption is now deprecated. Object storage is now\nrequired.\n\nChange-Id: I4316c68a083601e6745ad93c0feeeae2fde89b6f\n'}, {'number': 4, 'created': '2020-08-11 20:03:28.000000000', 'files': ['config.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/3eb41b96aa707cd6d6af8d306a708a12684e5a45', 'message': 'Update README\n\nRemove `use_swift` option explanation as this\noption is now deprecated. Object storage is now\nrequired.\n\nChange-Id: I4316c68a083601e6745ad93c0feeeae2fde89b6f\n'}]",8,745590,3eb41b96aa707cd6d6af8d306a708a12684e5a45,19,4,4,30561,,,0,"Update README

Remove `use_swift` option explanation as this
option is now deprecated. Object storage is now
required.

Change-Id: I4316c68a083601e6745ad93c0feeeae2fde89b6f
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/90/745590/1 && git format-patch -1 --stdout FETCH_HEAD,"['config.yaml', 'README.md']",2,3a239662a1ef0d52b982b18ae2cc25da986ba0e2,apply-template-to-readme,"The glance-simplestreams-sync charm keeps OpenStack boot images (in Glance) synchronised with the latest available images from a Simplestreams mirror(s). It uses Cron to do this. The charm installs Simplestreams from a [snap][snap-upstream].This section covers common and/or important configuration options. See file `config.yaml` for the full list of options, along with their descriptions and default values. See the [Juju documentation][juju-docs-config-apps] for details on configuring applications. #### `run` The `run` option enables the synchronisation cron script. This option accepts Boolean values ('true' or 'false') with the default value being 'false'. Changing the value from 'false' to 'true' will immediately schedule an image sync. > **Note**: Enabling this option at cloud deploy time may cause a race condition with the set up of a possible storage backend for Glance. #### `frequency` The `frequency` option controls how often the sync cron job is run. It is used to link the cron script into `/etc/cron.<frequency>`. Valid string values are: 'hourly', 'daily', and 'weekly'. The default is 'daily'. #### `region` The `region` option states the OpenStack region to operate in. The default value is 'RegionOne'. #### `mirror_list` The `mirror_list` option is a YAML-formatted list of Simplestreams mirrors and their configuration properties. The default behaviour is to download images from [https://cloud-images.ubuntu.com][cloud-images.ubuntu.com]. #### `ssl_ca` The `ssl_ca` option verifies (optionally) the certificates when in SSL mode for Keystone and Glance. This should be provided as a base64 encoded PEM ## Deployment To deploy to an existing OpenStack cloud (that already includes Glance and Keystone): juju deploy glance-simplestreams-sync juju add-relation glance-simplestreams-sync:identity-service keystone:identity-service ## Actions Juju [actions][juju-docs-actions] allow specific operations to be performed on a per-unit basis. This charm supports the single action `sync-images`, which allows for a one-time image sync from the currently configured mirror list. # Bugs Please report bugs on [Launchpad][lp-bugs-charm-glance-simplestreams-sync]. For general charm questions refer to the [OpenStack Charm Guide][cg]. <!-- LINKS --> [cg]: https://docs.openstack.org/charm-guide [cdg]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide [lp-bugs-charm-glance-simplestreams-sync]: https://bugs.launchpad.net/charm-glance-simplestreams-sync/+filebug [juju-docs-actions]: https://juju.is/docs/working-with-actions [juju-docs-config-apps]: https://juju.is/docs/configuring-applications [snap-upstream]: https://snapcraft.io/ [cloud-images.ubuntu.com]: https://cloud-images.ubuntu.com","# Known Issues https://bugs.launchpad.net/charm-glance-simplestreams-sync This charm provides a service that syncs your OpenStack cloud's available OS images in OpenStack Glance with the available images from a set of simplestreams mirrors, by default using cloud-images.ubuntu.com. It will create a user named 'image-stream' in the 'services' tenant. If swift is enabled, glance will store its images in swift using the image-stream username. It can optionally also store simplestreams metadata into Swift for future use by juju. If enabled, it publishes the URL for that metadata as the endpoints of a new OpenStack service called 'product-streams'. If using Swift is not enabled, the product-streams service will still exist, but nothing will respond to requests to its endpoints. The charm installs a cron job that repeatedly checks the status of related services and begins syncing image data from your configured mirrors as soon as all services are in place. It can be deployed at any time, and upon deploy (or changing the 'run' config setting), it will attempt to contact keystone and glance and start a sync every minute until a successful sync occurs. # Requirements This charm requires a relation to keystone. It also requires a running glance instance, but not a direct relation to glance. It connects to glance via its endpoint as published in keystone. juju deploy glance-simplestreams-sync [--config optional-config.yaml] juju add-relation keystone glance-simplestreams-sync The charm has the following configuration variables: ## `run` `run` is a boolean that enables or disables the sync cron script. It is True by default, and changing it from False to True will schedule an immediate attempt to sync images. ## `use_swift` `use_swift` is a boolean that determines whether or not to store data in swift and publish the path to product metadata via the 'product-streams' endpoint. *NOTE* Changing the value will only affect the next sync, and does not currently remove an existing product-streams service or delete potentially stale product data. ## `frequency` `frequency` is a string, and must be one of 'hourly', 'daily', 'weekly'. It controls how often the sync cron job is run - it is used to link the script into `/etc/cron.$frequency`. ## `region` `region` is the OpenStack region in which the product-streams endpoint will be created. ## `mirror_list` `mirror_list` is a yaml-formatted list of options to be passed to Simplestreams. It defaults to settings for downloading images from cloud-images.ubuntu.com, and is not yet tested with other mirror locations. If you have set up your own Simplestreams mirror, you should be able to set the necessary configuration values. ## `ssl_ca` This is used, optionally, to verify the certificates when in ssl mode for keystone and glance. This should be provided as a base64 encoded PEM",61,66
openstack%2Ftripleo-quickstart-extras~master~Ic04e1bdf7b924aeb060f4e6c92fb0481fc094013,openstack/tripleo-quickstart-extras,master,Ic04e1bdf7b924aeb060f4e6c92fb0481fc094013,Set proper provider type for queens,MERGED,2020-08-03 10:50:18.000000000,2020-08-11 20:00:35.000000000,2020-08-11 20:00:35.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-03 10:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/210a6f7ba5ea8721190cc724f38b22c6c25ac1bf', 'message': ""Set proper provider type for queens\n\nQueens require a different tempest_private_net_provider_type than other\nreleases. os_tempest fails with network_type value 'geneve' not\nsupported. Only vlan is supported on queens.\n\nChange-Id: Ic04e1bdf7b924aeb060f4e6c92fb0481fc094013\n""}, {'number': 2, 'created': '2020-08-03 12:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0f3021f18e6355078386aed61d074f908a1bb12e', 'message': ""Set proper provider type for queens\n\nQueens require a different tempest_private_net_provider_type than other\nreleases. os_tempest fails with network_type value 'geneve' not\nsupported. Only vlan is supported on queens.\n\nChange-Id: Ic04e1bdf7b924aeb060f4e6c92fb0481fc094013\n""}, {'number': 3, 'created': '2020-08-06 23:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/08ea3063323d19502027ed3979abf915c7e6aa46', 'message': ""Set proper provider type for queens\n\nQueens require a different tempest_private_net_provider_type than other\nreleases. os_tempest fails with network_type value 'geneve' not\nsupported. Only vlan is supported on queens.\n\nChange-Id: Ic04e1bdf7b924aeb060f4e6c92fb0481fc094013\n""}, {'number': 4, 'created': '2020-08-07 07:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/dcdfaaf0671ef89f8d990ea1c3da325d0396f497', 'message': ""Set proper provider type for queens\n\nQueens require a different tempest_private_net_provider_type than other\nreleases. os_tempest fails with network_type value 'geneve' not\nsupported. Only vlan is supported on queens.\n\nChange-Id: Ic04e1bdf7b924aeb060f4e6c92fb0481fc094013\n""}, {'number': 5, 'created': '2020-08-07 10:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8848cbc7a11b16d3a9981851c33c7fe1dfd0ea74', 'message': ""Set proper provider type for queens\n\nQueens require a different tempest_private_net_provider_type than other\nreleases. os_tempest fails with network_type value 'geneve' not\nsupported. Only vlan is supported on queens.\n\nChange-Id: Ic04e1bdf7b924aeb060f4e6c92fb0481fc094013\n""}, {'number': 6, 'created': '2020-08-10 09:18:10.000000000', 'files': ['playbooks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f664abd1900be9e4993e35ce9c72eaf85a7aec3a', 'message': ""Set proper provider type for queens\n\nQueens require a different tempest_private_net_provider_type than other\nreleases. os_tempest fails with network_type value 'geneve' not\nsupported. Only vlan is supported on queens.\n\nChange-Id: Ic04e1bdf7b924aeb060f4e6c92fb0481fc094013\n""}]",5,744447,f664abd1900be9e4993e35ce9c72eaf85a7aec3a,27,10,6,8367,,,0,"Set proper provider type for queens

Queens require a different tempest_private_net_provider_type than other
releases. os_tempest fails with network_type value 'geneve' not
supported. Only vlan is supported on queens.

Change-Id: Ic04e1bdf7b924aeb060f4e6c92fb0481fc094013
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/47/744447/4 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest.yml'],1,210a6f7ba5ea8721190cc724f38b22c6c25ac1bf,os_tempest-queens," tempest_private_net_provider_type: ""{{ (release in ['queens']) ternary('vlan', 'geneve') }}""", tempest_private_net_provider_type: 'geneve',1,1
openstack%2Ftripleo-common~master~I7418ea45d89dd0da7ac39193200f47563acab4cb,openstack/tripleo-common,master,I7418ea45d89dd0da7ac39193200f47563acab4cb,Correct the inventory generation,MERGED,2020-07-30 14:38:58.000000000,2020-08-11 19:59:26.000000000,2020-08-11 19:57:52.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-30 14:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a2fe91d22c482c32d0f4f00619bc461025877bf0', 'message': 'Correct the inventory generation\n\nThe missing quotes didn\'t trigger anything since ""vars"" is representing\nthe vars() method...\nAdding the missing quotes allows to actually get the injected host\nvariables in the inventory, among them the well needed ""container_cli""\nfor the validations.\n\nChange-Id: I7418ea45d89dd0da7ac39193200f47563acab4cb\n'}, {'number': 2, 'created': '2020-07-30 14:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1beab9fdd9fbe9389d64269ed8ae8fb03191d6b5', 'message': 'Correct the inventory generation\n\nThe missing quotes didn\'t trigger anything since ""vars"" is representing\nthe vars() method...\nAdding the missing quotes allows to actually get the injected host\nvariables in the inventory, among them the well needed ""container_cli""\nfor the validations.\n\nCloses-Bug: #1889635\nChange-Id: I7418ea45d89dd0da7ac39193200f47563acab4cb\n'}, {'number': 3, 'created': '2020-08-03 15:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cbb99a93c2deaa24183c95683c67f2a3126a5c2f', 'message': 'Correct the inventory generation\n\nThe missing quotes didn\'t trigger anything since ""vars"" is representing\nthe vars() method...\nAdding the missing quotes allows to actually get the injected host\nvariables in the inventory, among them the well needed ""container_cli""\nfor the validations.\n\nThis patch also makes a huge update in the different inline dict, in\norder to make them more human readable. This should help for further\neditions.\n\nCloses-Bug: #1889635\nChange-Id: I7418ea45d89dd0da7ac39193200f47563acab4cb\n'}, {'number': 4, 'created': '2020-08-05 14:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/22585eb7f9676223ae3b3b6a70e55ced75cc3015', 'message': 'Correct the inventory generation\n\nThe missing quotes didn\'t trigger anything since ""vars"" is representing\nthe vars() method...\nAdding the missing quotes allows to actually get the injected host\nvariables in the inventory, among them the well needed ""container_cli""\nfor the validations.\n\nThis patch also makes a huge update in the different inline dict, in\norder to make them more human readable. This should help for further\neditions.\n\nCloses-Bug: #1889635\nChange-Id: I7418ea45d89dd0da7ac39193200f47563acab4cb\n'}, {'number': 5, 'created': '2020-08-05 14:28:28.000000000', 'files': ['tripleo_common/tests/inventory_data/merged_static.yaml', 'tripleo_common/inventories.py', 'tripleo_common/tests/inventory_data/single_dynamic.json', 'tripleo_common/tests/inventory_data/merged_dynamic.json', 'tripleo_common/tests/test_inventories.py', 'tripleo_common/tests/test_inventory.py', 'tripleo_common/tests/inventory_data/single_static.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e2613f0317721cf8231fe6a5a27f29f555b50a69', 'message': 'Correct the inventory generation\n\nThe missing quotes didn\'t trigger anything since ""vars"" is representing\nthe vars() method...\nAdding the missing quotes allows to actually get the injected host\nvariables in the inventory, among them the well needed ""container_cli""\nfor the validations.\n\nThis patch also makes a huge update in the different inline dict, in\norder to make them more human readable. This should help for further\neditions.\n\nCloses-Bug: #1889635\nChange-Id: I7418ea45d89dd0da7ac39193200f47563acab4cb\n'}]",5,743990,e2613f0317721cf8231fe6a5a27f29f555b50a69,38,9,5,28223,,,0,"Correct the inventory generation

The missing quotes didn't trigger anything since ""vars"" is representing
the vars() method...
Adding the missing quotes allows to actually get the injected host
variables in the inventory, among them the well needed ""container_cli""
for the validations.

This patch also makes a huge update in the different inline dict, in
order to make them more human readable. This should help for further
editions.

Closes-Bug: #1889635
Change-Id: I7418ea45d89dd0da7ac39193200f47563acab4cb
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/90/743990/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/inventories.py'],1,a2fe91d22c482c32d0f4f00619bc461025877bf0,inventory/vars, if 'vars' in inv[key]:, if vars in inv[key]:,1,1
openstack%2Fnova~master~Ie0852a89fc9423a92baa7c29a8806c0628cae220,openstack/nova,master,Ie0852a89fc9423a92baa7c29a8806c0628cae220,func: Introduce a server_expected_state kwarg to InstanceHelperMixin._live_migrate,MERGED,2020-07-29 10:02:02.000000000,2020-08-11 19:59:25.000000000,2020-08-11 19:57:30.000000000,"[{'_account_id': 4393}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-29 10:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16f1f3ed706f83fa8edc9850ce9e75a8c42755a8', 'message': 'func: Introduce a server_final_status kwarg to _IntegratedTestBase.live_migrate\n\nUseful when testing live migration failures that leave the server in an\nnon ACTIVE state.\n\nChange-Id: Ie0852a89fc9423a92baa7c29a8806c0628cae220\n'}, {'number': 2, 'created': '2020-07-29 10:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e88bdbbccb6db6332690f55b0738e20d5c9cbc4c', 'message': 'func: Introduce a server_final_status kwarg to InstanceHelperMixin._live_migrate\n\nUseful when testing live migration failures that leave the server in an\nnon ACTIVE state.\n\nChange-Id: Ie0852a89fc9423a92baa7c29a8806c0628cae220\n'}, {'number': 3, 'created': '2020-07-29 10:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35cc7eabbc4a152e9b10a433fae0e7d36b7a3f9d', 'message': 'func: Introduce a server_final_status kwarg to InstanceHelperMixin._live_migrate\n\nUseful when testing live migration failures that leave the server in an\nnon ACTIVE state.\n\nChange-Id: Ie0852a89fc9423a92baa7c29a8806c0628cae220\n'}, {'number': 4, 'created': '2020-07-29 12:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58e4d88e0d27ab936de49ec60dc209650dff4967', 'message': 'func: Introduce a server_expected_state kwarg to InstanceHelperMixin._live_migrate\n\nUseful when testing live migration failures that leave the server in an\nnon ACTIVE state. This change also renames the migration_final_status\narg to migration_expected_state within the method to keep it in line\nwith _create_server.\n\nChange-Id: Ie0852a89fc9423a92baa7c29a8806c0628cae220\n'}, {'number': 5, 'created': '2020-08-03 19:41:44.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/compute/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e70ddd621cb59a8845a4241387d8a49e443b7b69', 'message': 'func: Introduce a server_expected_state kwarg to InstanceHelperMixin._live_migrate\n\nUseful when testing live migration failures that leave the server in an\nnon ACTIVE state. This change also renames the migration_final_status\narg to migration_expected_state within the method to keep it in line\nwith _create_server.\n\nChange-Id: Ie0852a89fc9423a92baa7c29a8806c0628cae220\n'}]",1,743710,e70ddd621cb59a8845a4241387d8a49e443b7b69,48,13,5,10135,,,0,"func: Introduce a server_expected_state kwarg to InstanceHelperMixin._live_migrate

Useful when testing live migration failures that leave the server in an
non ACTIVE state. This change also renames the migration_final_status
arg to migration_expected_state within the method to keep it in line
with _create_server.

Change-Id: Ie0852a89fc9423a92baa7c29a8806c0628cae220
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/743710/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/compute/test_live_migration.py']",2,16f1f3ed706f83fa8edc9850ce9e75a8c42755a8,bug/1879787," self._live_migrate(server, 'error', server_final_status='ERROR')"," self.api.post_server_action( server['id'], {'os-migrateLive': {'host': None, 'block_migration': 'auto'}}) self._wait_for_migration_status(server, ['error']) self._wait_for_state_change(server, 'ERROR')",4,7
openstack%2Fpython-tripleoclient~master~If676c1075d1832b04e52d53385cac4da29aaa909,openstack/python-tripleoclient,master,If676c1075d1832b04e52d53385cac4da29aaa909,tripleo_deploy: stop requiring root user,ABANDONED,2020-08-11 18:30:45.000000000,2020-08-11 19:58:29.000000000,,[{'_account_id': 3153}],"[{'number': 1, 'created': '2020-08-11 18:30:45.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'releasenotes/notes/sudo-3057c5a2499ac881.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/afae8285649ae34d7ba8008998d90a0992513fa9', 'message': ""tripleo_deploy: stop requiring root user\n\nMost ansible tasks should have the become: true when needed so we\nshouldn't require an operator to run tripleo deploy with sudo.\n\nChange-Id: If676c1075d1832b04e52d53385cac4da29aaa909\n""}]",0,745722,afae8285649ae34d7ba8008998d90a0992513fa9,3,1,1,3153,,,0,"tripleo_deploy: stop requiring root user

Most ansible tasks should have the become: true when needed so we
shouldn't require an operator to run tripleo deploy with sudo.

Change-Id: If676c1075d1832b04e52d53385cac4da29aaa909
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/22/745722/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'releasenotes/notes/sudo-3057c5a2499ac881.yaml']",3,afae8285649ae34d7ba8008998d90a0992513fa9,root,"--- features: - | `openstack tripleo deploy` can now be executed without sudo, as we fixed the Ansible tasks which need root access to be run with ""become: true"". ",,10,18
openstack%2Ftripleo-upgrade~stable%2Fussuri~I69ac4ee4f7eb3214c925686c1efd1bd2f5972185,openstack/tripleo-upgrade,stable/ussuri,I69ac4ee4f7eb3214c925686c1efd1bd2f5972185,Mesure l3 agent connectivity in seconds instead of percentage.,MERGED,2020-08-10 16:20:19.000000000,2020-08-11 19:57:49.000000000,2020-08-11 19:57:48.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-10 16:20:19.000000000', 'files': ['templates/ceph-update-run.sh.j2', 'tasks/update/overcloud_update_converge.yml', 'templates/l3_agent_stop_ping.sh.j2', 'README.rst', 'tasks/update/overcloud_update_run.yml', 'tasks/common/l3_agent_connectivity_check_stop_script.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f0ecd9502dcc8501aafb46bdd6bb97bceefc3d44', 'message': ""Mesure l3 agent connectivity in seconds instead of percentage.\n\nThis make the ping check independent of the task time.  We can now\nspecify in absolute time how long we tolerate a ping loss during the\nping test.\n\nWe set this to 0 by default for update as no such cut should happen\nduring this workflow.\n\nFor other tasks it's 60 seconds.\n\nWe also maintain a percentage check for tasks that are very short in\ntotal time (less than 10min for instance) as the total number of\nseconds there could be less than 60 seconds, but with a 100% packet\nloss.\n\nEventually, we shield printf against locale that would use a comma as\na separator for number decimal and make sure it's always a point.\n\nChange-Id: I69ac4ee4f7eb3214c925686c1efd1bd2f5972185\n(cherry picked from commit 12db9ba27a95e498ba0ebb720540b699b881b6a2)\n""}]",0,745567,f0ecd9502dcc8501aafb46bdd6bb97bceefc3d44,7,6,1,11166,,,0,"Mesure l3 agent connectivity in seconds instead of percentage.

This make the ping check independent of the task time.  We can now
specify in absolute time how long we tolerate a ping loss during the
ping test.

We set this to 0 by default for update as no such cut should happen
during this workflow.

For other tasks it's 60 seconds.

We also maintain a percentage check for tasks that are very short in
total time (less than 10min for instance) as the total number of
seconds there could be less than 60 seconds, but with a 100% packet
loss.

Eventually, we shield printf against locale that would use a comma as
a separator for number decimal and make sure it's always a point.

Change-Id: I69ac4ee4f7eb3214c925686c1efd1bd2f5972185
(cherry picked from commit 12db9ba27a95e498ba0ebb720540b699b881b6a2)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/67/745567/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ceph-update-run.sh.j2', 'tasks/update/overcloud_update_converge.yml', 'templates/l3_agent_stop_ping.sh.j2', 'README.rst', 'tasks/common/l3_agent_connectivity_check_stop_script.yml', 'tasks/update/overcloud_update_run.yml', 'defaults/main.yml']",7,f0ecd9502dcc8501aafb46bdd6bb97bceefc3d44,,# Packet loss threshold for a ping test in seconds. loss_threshold: 60 # and in % loss_threshold_percent: 1 # default for update run tasks update_loss_threshold: 0,# Packet loss threshold for a ping test loss_threshold: 1,59,7
openstack%2Ftripleo-upgrade~stable%2Ftrain~I76cd33019be6d7e3dbc6e1d94e64ee1286255839,openstack/tripleo-upgrade,stable/train,I76cd33019be6d7e3dbc6e1d94e64ee1286255839,Stop configuring install_command in tox.,MERGED,2020-08-10 16:29:12.000000000,2020-08-11 19:57:48.000000000,2020-08-11 19:57:48.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-08-10 16:29:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/10995cc19c2c84165d89931a5a17035921bf3874', 'message': ""Stop configuring install_command in tox.\n\nCurrently, we are overriding 'install_command' to use 'pip'. This is\nconsidered poor behavior and 'python -m pip' should be used instead:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value.\n\nChange-Id: I76cd33019be6d7e3dbc6e1d94e64ee1286255839\n(cherry picked from commit fe36f676144ff766b0b1a9c6ea02def8b9c0efec)\n""}]",0,745571,10995cc19c2c84165d89931a5a17035921bf3874,7,4,1,11166,,,0,"Stop configuring install_command in tox.

Currently, we are overriding 'install_command' to use 'pip'. This is
considered poor behavior and 'python -m pip' should be used instead:

https://snarky.ca/why-you-should-use-python-m-pip/

It turns out that this is the the default value provided by tox:

https://tox.readthedocs.io/en/latest/config.html#conf-install_command

So we can remove the line and simply use the default value.

Change-Id: I76cd33019be6d7e3dbc6e1d94e64ee1286255839
(cherry picked from commit fe36f676144ff766b0b1a9c6ea02def8b9c0efec)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/71/745571/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,10995cc19c2c84165d89931a5a17035921bf3874,use_pip_as_module_new-stable/train,,install_command = pip install {opts} {packages} VIRTUAL_ENV={envdir} VIRTUAL_ENV={envdir},0,3
openstack%2Ftripleo-upgrade~stable%2Ftrain~I69ac4ee4f7eb3214c925686c1efd1bd2f5972185,openstack/tripleo-upgrade,stable/train,I69ac4ee4f7eb3214c925686c1efd1bd2f5972185,Mesure l3 agent connectivity in seconds instead of percentage.,MERGED,2020-08-10 16:20:36.000000000,2020-08-11 19:57:47.000000000,2020-08-11 19:57:46.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-10 16:20:36.000000000', 'files': ['templates/ceph-update-run.sh.j2', 'tasks/update/overcloud_update_converge.yml', 'templates/l3_agent_stop_ping.sh.j2', 'README.rst', 'tasks/update/overcloud_update_run.yml', 'tasks/common/l3_agent_connectivity_check_stop_script.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6f5c039856c58603a822ca143dd9ce4fd4f06ed5', 'message': ""Mesure l3 agent connectivity in seconds instead of percentage.\n\nThis make the ping check independent of the task time.  We can now\nspecify in absolute time how long we tolerate a ping loss during the\nping test.\n\nWe set this to 0 by default for update as no such cut should happen\nduring this workflow.\n\nFor other tasks it's 60 seconds.\n\nWe also maintain a percentage check for tasks that are very short in\ntotal time (less than 10min for instance) as the total number of\nseconds there could be less than 60 seconds, but with a 100% packet\nloss.\n\nEventually, we shield printf against locale that would use a comma as\na separator for number decimal and make sure it's always a point.\n\nChange-Id: I69ac4ee4f7eb3214c925686c1efd1bd2f5972185\n(cherry picked from commit 12db9ba27a95e498ba0ebb720540b699b881b6a2)\n""}]",0,745568,6f5c039856c58603a822ca143dd9ce4fd4f06ed5,7,6,1,11166,,,0,"Mesure l3 agent connectivity in seconds instead of percentage.

This make the ping check independent of the task time.  We can now
specify in absolute time how long we tolerate a ping loss during the
ping test.

We set this to 0 by default for update as no such cut should happen
during this workflow.

For other tasks it's 60 seconds.

We also maintain a percentage check for tasks that are very short in
total time (less than 10min for instance) as the total number of
seconds there could be less than 60 seconds, but with a 100% packet
loss.

Eventually, we shield printf against locale that would use a comma as
a separator for number decimal and make sure it's always a point.

Change-Id: I69ac4ee4f7eb3214c925686c1efd1bd2f5972185
(cherry picked from commit 12db9ba27a95e498ba0ebb720540b699b881b6a2)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/68/745568/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ceph-update-run.sh.j2', 'tasks/update/overcloud_update_converge.yml', 'templates/l3_agent_stop_ping.sh.j2', 'README.rst', 'tasks/common/l3_agent_connectivity_check_stop_script.yml', 'tasks/update/overcloud_update_run.yml', 'defaults/main.yml']",7,6f5c039856c58603a822ca143dd9ce4fd4f06ed5,,# Packet loss threshold for a ping test in seconds. loss_threshold: 60 # and in % loss_threshold_percent: 1 # default for update run tasks update_loss_threshold: 0,# Packet loss threshold for a ping test loss_threshold: 1,59,7
openstack%2Ftripleo-validations~stable%2Fqueens~I6841342d51ffaf80985a8bfe64ca04b7f81b0469,openstack/tripleo-validations,stable/queens,I6841342d51ffaf80985a8bfe64ca04b7f81b0469,[QUEENS-ONLY] Update minimal disk space for undercloud,MERGED,2020-07-30 06:51:49.000000000,2020-08-11 19:57:45.000000000,2020-08-11 19:57:45.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}, {'_account_id': 28223}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-07-30 06:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/39d934cd407074a172cdd695c4f9698d56a2a424', 'message': '[QUEENS-ONLY] Update minimal disk space for undercloud\n\nThis new value reflect whats we have in the doc:\nhttps://access.redhat.com/documentation/en-us/red_hat_openstack_platform/13/html-single/director_installation_and_usage/index#sect-Undercloud_Requirements\n\nChange-Id: I6841342d51ffaf80985a8bfe64ca04b7f81b0469\n'}, {'number': 2, 'created': '2020-08-04 12:11:22.000000000', 'files': ['validations/undercloud-disk-space.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5d9383059e49e774502f191727303acc5e2950c4', 'message': '[QUEENS-ONLY] Update minimal disk space for undercloud\n\nThis new value reflect whats we have in the doc:\nhttps://access.redhat.com/documentation/en-us/red_hat_openstack_platform/13/html-single/director_installation_and_usage/index#sect-Undercloud_Requirements\n\nChange-Id: I6841342d51ffaf80985a8bfe64ca04b7f81b0469\n'}]",0,743918,5d9383059e49e774502f191727303acc5e2950c4,14,7,2,28223,,,0,"[QUEENS-ONLY] Update minimal disk space for undercloud

This new value reflect whats we have in the doc:
https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/13/html-single/director_installation_and_usage/index#sect-Undercloud_Requirements

Change-Id: I6841342d51ffaf80985a8bfe64ca04b7f81b0469
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/18/743918/2 && git format-patch -1 --stdout FETCH_HEAD,['validations/undercloud-disk-space.yaml'],1,39d934cd407074a172cdd695c4f9698d56a2a424,heads/origin/stable/queens, min_undercloud_disk_gb: 100, min_undercloud_disk_gb: 60,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I8394cec6bbaca9c89c848eaddf724c072bc36cb3,openstack/tripleo-heat-templates,stable/train,I8394cec6bbaca9c89c848eaddf724c072bc36cb3,Add non-string value support for CephAnsibleEnvironmentVariables,MERGED,2020-08-05 09:06:21.000000000,2020-08-11 19:57:43.000000000,2020-08-11 19:57:43.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31695}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-05 09:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3f13e8ec61ab0cf01e28fccf3c4b2afec761eb66', 'message': 'Add non-string value support for CephAnsibleEnvironmentVariables\n\nCephAnsibleEnvironmentVariables data is supposed to be transformed\ninto ""KEY=VALUE"" format by yaql expression.\n\n```\nceph_ansible_environment_variables:\n  yaql:\n    data: {get_param: CephAnsibleEnvironmentVariables}\n    expression: $.data.items().select($[0] + \'=\' + $[1])\n```\n\nHowever, the expression here uses `+` to join the key($[0]) and\nvalue($[1]), which will cause syntax error when value is not string\ntype.\n\nFor example:\n\nIf we use boolean or integer for environment values such as\n```\nparameter_defaults:\n  CephAnsibleEnvironmentVariables:\n    ANSIBLE_DEBUG: true\n```\n\nthe following error will occour\n\n```\novercloud.CephStorageServiceChain:\n  resource_type: OS::TripleO::CephStorageServices\n  physical_resource_id: 51fd6f95-027b-4047-9132-763e1cb8150c\n  status: UPDATE_FAILED\n  status_reason: |\n    resources.CephStorageServiceChain:\n    Error in 4 output role_data:\n    Error in CephBase output role_data:\n    No function ""#operator_+"" matches supplied arguments\n```\n\nChange-Id: I8394cec6bbaca9c89c848eaddf724c072bc36cb3\nCloses-Bug: #1878720\n'}, {'number': 2, 'created': '2020-08-05 12:15:57.000000000', 'files': ['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ef76e92bb30169f8379a1963567f6bb22e49043d', 'message': 'Add non-string value support for CephAnsibleEnvironmentVariables\n\nCephAnsibleEnvironmentVariables data is supposed to be transformed\ninto ""KEY=VALUE"" format by yaql expression.\n\n```\nceph_ansible_environment_variables:\n  yaql:\n    data: {get_param: CephAnsibleEnvironmentVariables}\n    expression: $.data.items().select($[0] + \'=\' + $[1])\n```\n\nHowever, the expression here uses `+` to join the key($[0]) and\nvalue($[1]), which will cause syntax error when value is not string\ntype.\n\nFor example:\n\nIf we use boolean or integer for environment values such as\n```\nparameter_defaults:\n  CephAnsibleEnvironmentVariables:\n    ANSIBLE_DEBUG: true\n```\n\nthe following error will occour\n\n```\novercloud.CephStorageServiceChain:\n  resource_type: OS::TripleO::CephStorageServices\n  physical_resource_id: 51fd6f95-027b-4047-9132-763e1cb8150c\n  status: UPDATE_FAILED\n  status_reason: |\n    resources.CephStorageServiceChain:\n    Error in 4 output role_data:\n    Error in CephBase output role_data:\n    No function ""#operator_+"" matches supplied arguments\n```\n\nChange-Id: I8394cec6bbaca9c89c848eaddf724c072bc36cb3\nCloses-Bug: #1878720\n'}]",0,744861,ef76e92bb30169f8379a1963567f6bb22e49043d,25,6,2,31695,,,0,"Add non-string value support for CephAnsibleEnvironmentVariables

CephAnsibleEnvironmentVariables data is supposed to be transformed
into ""KEY=VALUE"" format by yaql expression.

```
ceph_ansible_environment_variables:
  yaql:
    data: {get_param: CephAnsibleEnvironmentVariables}
    expression: $.data.items().select($[0] + '=' + $[1])
```

However, the expression here uses `+` to join the key($[0]) and
value($[1]), which will cause syntax error when value is not string
type.

For example:

If we use boolean or integer for environment values such as
```
parameter_defaults:
  CephAnsibleEnvironmentVariables:
    ANSIBLE_DEBUG: true
```

the following error will occour

```
overcloud.CephStorageServiceChain:
  resource_type: OS::TripleO::CephStorageServices
  physical_resource_id: 51fd6f95-027b-4047-9132-763e1cb8150c
  status: UPDATE_FAILED
  status_reason: |
    resources.CephStorageServiceChain:
    Error in 4 output role_data:
    Error in CephBase output role_data:
    No function ""#operator_+"" matches supplied arguments
```

Change-Id: I8394cec6bbaca9c89c848eaddf724c072bc36cb3
Closes-Bug: #1878720
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/744861/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml']",5,3f13e8ec61ab0cf01e28fccf3c4b2afec761eb66,, ANSIBLE_SSH_RETRIES: 4 DEFAULT_FORKS: 3, ANSIBLE_SSH_RETRIES: '4' DEFAULT_FORKS: '3',10,9
openstack%2Foctavia~master~Iedd22e75a9124a41b776305f2fcb0caaabd07d6a,openstack/octavia,master,Iedd22e75a9124a41b776305f2fcb0caaabd07d6a,Add line terminator to certificate list file,MERGED,2020-08-03 15:48:05.000000000,2020-08-11 19:50:49.000000000,2020-08-11 19:48:45.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 15:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2f220368c5e7237dd1884b2bb7eea09454e38fa3', 'message': 'Add line terminator to certificate list file\n\nCommit c9e1551 changed file mode to binary from text. When on binary,\nPython does not apply newlines so the resulting file has no line\nterminator. This has not been an issue up to HAProxy version 1.8, but\ntesting on HAProxy 2.2.2 fails configuration check.\n\nWorkaround this HAProxy issue by adding a line terminator to the\ncertificate list file.\n\nTask: 40593\nStory: 2007974\n\nChange-Id: Iedd22e75a9124a41b776305f2fcb0caaabd07d6a\n'}, {'number': 2, 'created': '2020-08-05 13:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/67751ec1e1b52020dc8db6414f276d791b57791e', 'message': 'Add line terminator to certificate list file\n\nCommit c9e1551 changed file mode to binary from text. When on binary,\nPython does not apply newlines so the resulting file has no line\nterminator. This has not been an issue up to HAProxy version 1.8, but\ntesting on HAProxy 2.2.2 fails configuration check.\n\nWorkaround this HAProxy issue by adding a line terminator to the\ncertificate list file.\n\nTask: 40593\nStory: 2007974\n\nChange-Id: Iedd22e75a9124a41b776305f2fcb0caaabd07d6a\n'}, {'number': 3, 'created': '2020-08-11 15:21:42.000000000', 'files': ['octavia/amphorae/drivers/haproxy/rest_api_driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/13fe928c8ad979568f66ba738b86cc2d91e936fa', 'message': 'Add line terminator to certificate list file\n\nCommit c9e1551 changed file mode to binary from text. When on binary,\nPython does not apply newlines so the resulting file has no line\nterminator. This has not been an issue up to HAProxy version 1.8, but\ntesting on HAProxy 2.2.2 fails configuration check.\n\nWorkaround this HAProxy issue by adding a line terminator to the\ncertificate list file.\n\nTask: 40593\nStory: 2007974\n\nChange-Id: Iedd22e75a9124a41b776305f2fcb0caaabd07d6a\n'}]",0,744515,13fe928c8ad979568f66ba738b86cc2d91e936fa,12,3,3,6469,,,0,"Add line terminator to certificate list file

Commit c9e1551 changed file mode to binary from text. When on binary,
Python does not apply newlines so the resulting file has no line
terminator. This has not been an issue up to HAProxy version 1.8, but
testing on HAProxy 2.2.2 fails configuration check.

Workaround this HAProxy issue by adding a line terminator to the
certificate list file.

Task: 40593
Story: 2007974

Change-Id: Iedd22e75a9124a41b776305f2fcb0caaabd07d6a
",git fetch https://review.opendev.org/openstack/octavia refs/changes/15/744515/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia/amphorae/drivers/haproxy/rest_api_driver.py'],1,2f220368c5e7237dd1884b2bb7eea09454e38fa3,http2," crt_list = ""\n"".join(cert_filename_list) crt_list = f'{crt_list}\n'.encode('utf-8')"," crt_list = ""\n"".join(cert_filename_list).encode('utf-8')",2,1
openstack%2Freleases~master~I0cd292251c7005aa2b43fbc1471ddfdcf450371a,openstack/releases,master,I0cd292251c7005aa2b43fbc1471ddfdcf450371a,Release ironic-python-agent-builder 2.1.0,MERGED,2020-08-11 15:00:27.000000000,2020-08-11 19:44:18.000000000,2020-08-11 19:44:18.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-11 15:00:27.000000000', 'files': ['deliverables/_independent/ironic-python-agent-builder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fd5b50a612421a3b3b855119d90ce26acd40271c', 'message': 'Release ironic-python-agent-builder 2.1.0\n\nChange-Id: I0cd292251c7005aa2b43fbc1471ddfdcf450371a\n'}]",0,745690,fd5b50a612421a3b3b855119d90ce26acd40271c,6,2,1,23851,,,0,"Release ironic-python-agent-builder 2.1.0

Change-Id: I0cd292251c7005aa2b43fbc1471ddfdcf450371a
",git fetch https://review.opendev.org/openstack/releases refs/changes/90/745690/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/ironic-python-agent-builder.yaml'],1,fd5b50a612421a3b3b855119d90ce26acd40271c,ipa-builder-210, - version: 2.1.0 projects: - repo: openstack/ironic-python-agent-builder hash: a28b8fa5bc49bf8452c5e8f8fdf39f5f09e46ff2,,4,0
openstack%2Fopenstack-ansible-os_gnocchi~master~Idb3d5da2dc851fb57dd94d31136e43c34350e0cf,openstack/openstack-ansible-os_gnocchi,master,Idb3d5da2dc851fb57dd94d31136e43c34350e0cf,Flush handlers before doing db upgrade,MERGED,2020-07-29 15:26:19.000000000,2020-08-11 19:32:04.000000000,2020-08-11 19:02:03.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-29 15:26:19.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/a72f6d3ac8ea669c518c022112a751c9f192df89', 'message': 'Flush handlers before doing db upgrade\n\nDB upgrade should be run after service restart, as new config should\nbe applied for that (instead of the default one).\n\nChange-Id: Idb3d5da2dc851fb57dd94d31136e43c34350e0cf\n'}]",0,743783,a72f6d3ac8ea669c518c022112a751c9f192df89,11,4,1,28619,,,0,"Flush handlers before doing db upgrade

DB upgrade should be run after service restart, as new config should
be applied for that (instead of the default one).

Change-Id: Idb3d5da2dc851fb57dd94d31136e43c34350e0cf
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/83/743783/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,a72f6d3ac8ea669c518c022112a751c9f192df89,,- name: Flush handlers meta: flush_handlers ,,3,0
openstack%2Fansible-role-python_venv_build~master~Ic94f5a00346e47c394bd2cefc1cfca4ed8c3bdef,openstack/ansible-role-python_venv_build,master,Ic94f5a00346e47c394bd2cefc1cfca4ed8c3bdef,Drop empty pip packages from the list,MERGED,2020-08-10 17:13:04.000000000,2020-08-11 19:31:50.000000000,2020-08-11 19:05:03.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-08-10 17:13:04.000000000', 'files': ['tasks/python_venv_wheel_build.yml', 'vars/main.yml', 'tasks/python_venv_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/6b3d95e13b4dcb4782d1e50fb3653c791403503a', 'message': 'Drop empty pip packages from the list\n\nThis patch aims to remove empty records from venv_pip_packages list\nto avoid pip error due to that.\n\nThis also brings _venv_pip_packages variable, which optimize process by\ndoing union and sort only once.\n\nChange-Id: Ic94f5a00346e47c394bd2cefc1cfca4ed8c3bdef\n'}]",0,745572,6b3d95e13b4dcb4782d1e50fb3653c791403503a,9,3,1,28619,,,0,"Drop empty pip packages from the list

This patch aims to remove empty records from venv_pip_packages list
to avoid pip error due to that.

This also brings _venv_pip_packages variable, which optimize process by
doing union and sort only once.

Change-Id: Ic94f5a00346e47c394bd2cefc1cfca4ed8c3bdef
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/72/745572/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/python_venv_wheel_build.yml', 'vars/main.yml', 'tasks/python_venv_install.yml']",3,6b3d95e13b4dcb4782d1e50fb3653c791403503a,," {% for item in _venv_pip_packages %} name: ""{{ _venv_pip_packages }}"""," {% for item in (venv_default_pip_packages | union(venv_pip_packages)) | sort %} name: ""{{ (venv_default_pip_packages | union(venv_pip_packages)) | sort }}""",5,3
openstack%2Fnova~stable%2Fqueens~I8a2726b39d0444de8c35480024078a97430f5d0c,openstack/nova,stable/queens,I8a2726b39d0444de8c35480024078a97430f5d0c,objects: Update keypairs when saving an instance,MERGED,2020-07-27 15:57:05.000000000,2020-08-11 19:04:51.000000000,2020-08-11 19:04:50.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-27 15:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/975691764feedd6212975e875ee93f5f1bf24f2d', 'message': ""objects: Update keypairs when saving an instance\n\nThe keypair of a server is updated when rebuilding the server with a\nkeypair. This function has been added since API microversion 2.54.\nHowever the 'keypairs' of the instance object is not saved when saving\nthe instance object currently.\n\nMake the instance object update the 'keypairs' field when saving the\ninstance object.\n\nChange-Id: I8a2726b39d0444de8c35480024078a97430f5d0c\nCloses-Bug: #1843708\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 086796021b189c3ac64805ed8f6bde833906d284)\n(cherry picked from commit aed86ee5d6289edf1baf9fe0b2a9e509031fdd25)\n(cherry picked from commit b971dc82cb524fe86284c95ec671e2bad1c2874f)\n(cherry picked from commit 0bc5a4ecb524a73aacb5d0dd2887799885bdbb14)\n(cherry picked from commit 02504f7a4d6ece341f2d2c74f54c6c0a6c3da608)\n""}, {'number': 2, 'created': '2020-07-31 15:28:13.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1843708.py', 'nova/tests/unit/fake_instance.py', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6a7a78a44ea19497ea3e331ddd672f95cd49c50e', 'message': ""objects: Update keypairs when saving an instance\n\nThe keypair of a server is updated when rebuilding the server with a\nkeypair. This function has been added since API microversion 2.54.\nHowever the 'keypairs' of the instance object is not saved when saving\nthe instance object currently.\n\nMake the instance object update the 'keypairs' field when saving the\ninstance object.\n\nChange-Id: I8a2726b39d0444de8c35480024078a97430f5d0c\nCloses-Bug: #1843708\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 086796021b189c3ac64805ed8f6bde833906d284)\n(cherry picked from commit aed86ee5d6289edf1baf9fe0b2a9e509031fdd25)\n(cherry picked from commit b971dc82cb524fe86284c95ec671e2bad1c2874f)\n(cherry picked from commit 0bc5a4ecb524a73aacb5d0dd2887799885bdbb14)\n(cherry picked from commit aa7a6939d5177c0dd8c9f5a7bf7975264d2f5a2a)\n""}]",0,743271,6a7a78a44ea19497ea3e331ddd672f95cd49c50e,26,8,2,15334,,,0,"objects: Update keypairs when saving an instance

The keypair of a server is updated when rebuilding the server with a
keypair. This function has been added since API microversion 2.54.
However the 'keypairs' of the instance object is not saved when saving
the instance object currently.

Make the instance object update the 'keypairs' field when saving the
instance object.

Change-Id: I8a2726b39d0444de8c35480024078a97430f5d0c
Closes-Bug: #1843708
Co-authored-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit 086796021b189c3ac64805ed8f6bde833906d284)
(cherry picked from commit aed86ee5d6289edf1baf9fe0b2a9e509031fdd25)
(cherry picked from commit b971dc82cb524fe86284c95ec671e2bad1c2874f)
(cherry picked from commit 0bc5a4ecb524a73aacb5d0dd2887799885bdbb14)
(cherry picked from commit aa7a6939d5177c0dd8c9f5a7bf7975264d2f5a2a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/743271/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1843708.py', 'nova/tests/unit/fake_instance.py', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py']",4,975691764feedd6212975e875ee93f5f1bf24f2d,bug/1843708," inst.keypairs = objects.KeyPairList( objects=[objects.KeyPair(name='foo')]) json_keypairs = jsonutils.dumps(inst.keypairs.obj_to_primitive()) # Check changed fields in the instance object self.assertIn('keypairs', inst.obj_what_changed()) self.assertEqual({'objects'}, inst.keypairs.obj_what_changed()) inst.save() expected_vals = { 'numa_topology': None, 'migration_context': None, 'vcpu_model': json_vcpu_model, 'keypairs': json_keypairs, } # Verify that the record of changed fields has been cleared self.assertNotIn('keypairs', inst.obj_what_changed()) self.assertEqual(set(), inst.keypairs.obj_what_changed())"," inst.save() expected_vals = {'numa_topology': None, 'migration_context': None, 'vcpu_model': json_vcpu_model}",117,8
openstack%2Fopenstack-ansible-os_masakari~master~I143076190750cba64202509568b6d903eaf13d22,openstack/openstack-ansible-os_masakari,master,I143076190750cba64202509568b6d903eaf13d22,Disable distro CI,MERGED,2020-08-10 16:10:29.000000000,2020-08-11 19:00:42.000000000,2020-08-11 18:57:16.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-08-10 16:10:29.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/b406c58d537f89f4c264090de8a312a8b7900d53', 'message': 'Disable distro CI\n\nMasakari at the moment can be installed only via source packages\nFor distro install it still uses source way, so no reason\nto test this scenario for the project\n\nChange-Id: I143076190750cba64202509568b6d903eaf13d22\n'}]",0,745562,b406c58d537f89f4c264090de8a312a8b7900d53,8,3,1,28619,,,0,"Disable distro CI

Masakari at the moment can be installed only via source packages
For distro install it still uses source way, so no reason
to test this scenario for the project

Change-Id: I143076190750cba64202509568b6d903eaf13d22
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/62/745562/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,b406c58d537f89f4c264090de8a312a8b7900d53,,, - openstack-ansible-deploy-aio_distro_metal-jobs,0,1
openstack%2Fopenstack-helm-infra~master~Ibc23494e0e75cfdd7654f5c0d3b6048b146280f7,openstack/openstack-helm-infra,master,Ibc23494e0e75cfdd7654f5c0d3b6048b146280f7,[ceph-client] Refrain from reweighting OSDs to 0,MERGED,2020-08-11 15:10:10.000000000,2020-08-11 18:47:22.000000000,2020-08-11 18:46:01.000000000,"[{'_account_id': 17119}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28372}]","[{'number': 1, 'created': '2020-08-11 15:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7b4490bf03a8321057b5c69fa62c560824b5ee3c', 'message': '[ceph-client] Refrain from reweighting OSDs\n\nOSDs are weighted properly as they are deployed in the ceph-osd\nchart now, so reweighting them in the ceph-client chart is no\nlonger necessary.\n\nChange-Id: Ibc23494e0e75cfdd7654f5c0d3b6048b146280f7\n'}, {'number': 2, 'created': '2020-08-11 15:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/65a40be5f9b6d3a8c6e5e543f9f71fbc5f989a67', 'message': '[ceph-client] Refrain from reweighting OSDs to 0\n\nIf circumstances are such that the reweight function believes\nOSD disks have zero size, refrain from reweighting OSDs to 0.\nThis can happen if OSDs are deployed with the noup flag set.\n\nChange-Id: Ibc23494e0e75cfdd7654f5c0d3b6048b146280f7\n'}, {'number': 3, 'created': '2020-08-11 15:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/96fb26665669d73ae990fe1380eb5c6047bfedea', 'message': '[ceph-client] Refrain from reweighting OSDs to 0\n\nIf circumstances are such that the reweight function believes\nOSD disks have zero size, refrain from reweighting OSDs to 0.\nThis can happen if OSDs are deployed with the noup flag set.\n\nChange-Id: Ibc23494e0e75cfdd7654f5c0d3b6048b146280f7\n'}, {'number': 4, 'created': '2020-08-11 15:49:59.000000000', 'files': ['ceph-client/templates/bin/pool/_init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f1e9a6ba83cc424c82ef1513861554a91757712c', 'message': '[ceph-client] Refrain from reweighting OSDs to 0\n\nIf circumstances are such that the reweight function believes\nOSD disks have zero size, refrain from reweighting OSDs to 0.\nThis can happen if OSDs are deployed with the noup flag set.\n\nAlso move the setting and unsetting of flags above this\ncalculation as an additional precautionary measure.\n\nChange-Id: Ibc23494e0e75cfdd7654f5c0d3b6048b146280f7\n'}]",0,745697,f1e9a6ba83cc424c82ef1513861554a91757712c,15,6,4,29974,,,0,"[ceph-client] Refrain from reweighting OSDs to 0

If circumstances are such that the reweight function believes
OSD disks have zero size, refrain from reweighting OSDs to 0.
This can happen if OSDs are deployed with the noup flag set.

Also move the setting and unsetting of flags above this
calculation as an additional precautionary measure.

Change-Id: Ibc23494e0e75cfdd7654f5c0d3b6048b146280f7
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/97/745697/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-client/templates/bin/pool/_init.sh.tpl'],1,7b4490bf03a8321057b5c69fa62c560824b5ee3c,,"# OSDs are weighted properly as they are deployed now, so this isn't necessary # Leaving it in case it needs to be added back at some point #reweight_osds",reweight_osds,3,1
openstack%2Fopenstack-ansible-os_neutron~stable%2Fstein~I6176c17b7261fecbca82452b7d4ad2a2c5cdeeb6,openstack/openstack-ansible-os_neutron,stable/stein,I6176c17b7261fecbca82452b7d4ad2a2c5cdeeb6,Remove neutron from tempest_plugins,MERGED,2020-05-27 05:32:52.000000000,2020-08-11 18:16:24.000000000,2020-08-11 18:12:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-05-27 05:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/ced3a5d3765dcdd65742a0c4c705c590e9654c49', 'message': 'Remove neutron from tempest_plugins\n\nPulling the neutron repo into tempest is unnecessary since tests\nare run using the neutron-tempest-plugin or repo-specific plugins.\nThis patch removes neutron from tempest_plugins.\n\nChange-Id: I6176c17b7261fecbca82452b7d4ad2a2c5cdeeb6\n(cherry picked from commit 86008b67b975799a694df0235cdbd576716a783c)\n'}, {'number': 2, 'created': '2020-08-11 06:07:17.000000000', 'files': ['tests/os_neutron-overrides.yml', 'tests/neutron-overrides-ovs.yml', 'tests/neutron-overrides-opendaylight.yml', 'tests/neutron-overrides-ovs-nsh.yml', 'tests/neutron-overrides-ovs-sfc.yml', 'tests/neutron-overrides-ovn.yml', 'tests/neutron-overrides-ovs-fwaasv2.yml', 'tests/neutron-overrides-opendaylight-bgpvpn.yml', 'zuul.d/jobs.yaml', 'tests/neutron-overrides-odl-sfc.yml', 'tests/neutron-overrides-calico.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/11dcd6702343c0332405020e096d20323f345a88', 'message': 'Remove neutron from tempest_plugins\n\nPulling the neutron repo into tempest is unnecessary since tests\nare run using the neutron-tempest-plugin or repo-specific plugins.\nThis patch removes neutron from tempest_plugins.\n\nAdditionally for the stein branch backport centos7/ovn functional test\nis marked as non voting as this is now failing, likley due to a python2\ncompatibility issue.\n\nChange-Id: I6176c17b7261fecbca82452b7d4ad2a2c5cdeeb6\n(cherry picked from commit 86008b67b975799a694df0235cdbd576716a783c)\n'}]",0,731079,11dcd6702343c0332405020e096d20323f345a88,24,4,2,25023,,,0,"Remove neutron from tempest_plugins

Pulling the neutron repo into tempest is unnecessary since tests
are run using the neutron-tempest-plugin or repo-specific plugins.
This patch removes neutron from tempest_plugins.

Additionally for the stein branch backport centos7/ovn functional test
is marked as non voting as this is now failing, likley due to a python2
compatibility issue.

Change-Id: I6176c17b7261fecbca82452b7d4ad2a2c5cdeeb6
(cherry picked from commit 86008b67b975799a694df0235cdbd576716a783c)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/79/731079/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/os_neutron-overrides.yml', 'tests/neutron-overrides-ovs.yml', 'tests/neutron-overrides-opendaylight.yml', 'tests/neutron-overrides-ovs-nsh.yml', 'tests/neutron-overrides-ovs-sfc.yml', 'tests/neutron-overrides-ovn.yml', 'tests/neutron-overrides-opendaylight-bgpvpn.yml', 'tests/neutron-overrides-ovs-fwaasv2.yml', 'tests/neutron-overrides-calico.yml', 'tests/neutron-overrides-odl-sfc.yml']",10,ced3a5d3765dcdd65742a0c4c705c590e9654c49,,, - name: neutron repo: https://git.openstack.org/openstack/neutron branch: stable/stein,0,30
openstack%2Fcharm-guide~master~I439e485d0f6d95593c3dca328306eeec95e72009,openstack/charm-guide,master,I439e485d0f6d95593c3dca328306eeec95e72009,Update release notes for g-s-s,MERGED,2020-08-10 20:51:25.000000000,2020-08-11 18:16:14.000000000,2020-08-11 18:15:08.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-10 20:51:25.000000000', 'files': ['doc/source/2008.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/43a4dcf982074f4ad4d28453c2d6d1a00c6c0306', 'message': 'Update release notes for g-s-s\n\nChange-Id: I439e485d0f6d95593c3dca328306eeec95e72009\n'}]",0,745587,43a4dcf982074f4ad4d28453c2d6d1a00c6c0306,8,3,1,30561,,,0,"Update release notes for g-s-s

Change-Id: I439e485d0f6d95593c3dca328306eeec95e72009
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/87/745587/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2008.rst'],1,43a4dcf982074f4ad4d28453c2d6d1a00c6c0306,release-note-for-gss-behaviour,"such it no longer has a ``source`` configuration option (the new ``snap-channel`` option is used to select a channel in the Snap store). There is now a Juju action to perform a one-time sync of images: ``sync-images``.To prevent possible race conditions during the deployment of a cloud, the behaviour of enabling synchronisation via Cron by default has changed. You will now need to manually enable this feature (via the ``run`` configuration option): .. code-block:: none juju config glance-simplestreams-sync run=true ",such it no longer has a 'source' configuration option - the snapstore channel to use for the snap can be configured using the 'channel' option.,14,2
openstack%2Frequirements~master~I21039783ffcf0bb0257ecbaeeffecea3fca579cc,openstack/requirements,master,I21039783ffcf0bb0257ecbaeeffecea3fca579cc,Update PyMySQL upper constraint to 0.10.0,MERGED,2020-07-19 06:22:46.000000000,2020-08-11 18:15:09.000000000,2020-08-11 18:12:34.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27621}, {'_account_id': 28522}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-07-19 06:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/765e72bd9666545eec2c691d6c053017f65d69db', 'message': 'Updated from generate-constraints\n\nChange-Id: I21039783ffcf0bb0257ecbaeeffecea3fca579cc\n'}, {'number': 2, 'created': '2020-07-19 06:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ac1f42d3d199ba48da285b203ea62c681fab41c6', 'message': 'Updated from generate-constraints\n\nChange-Id: I21039783ffcf0bb0257ecbaeeffecea3fca579cc\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 3, 'created': '2020-08-05 22:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/35db6d2a490939d624c466be6fffde3314bb5306', 'message': 'Update PyMySQL upper constraint to 0.10.0\n\nDepends-on: https://review.opendev.org/744998\n\nChange-Id: I21039783ffcf0bb0257ecbaeeffecea3fca579cc\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 4, 'created': '2020-08-06 16:52:17.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/15f1946d57b829b763390decd7bc92f8005dc493', 'message': 'Update PyMySQL upper constraint to 0.10.0\n\nDepends-on: https://review.opendev.org/744940\n\nChange-Id: I21039783ffcf0bb0257ecbaeeffecea3fca579cc\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,741837,15f1946d57b829b763390decd7bc92f8005dc493,58,7,4,11131,,,0,"Update PyMySQL upper constraint to 0.10.0

Depends-on: https://review.opendev.org/744940

Change-Id: I21039783ffcf0bb0257ecbaeeffecea3fca579cc
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/37/741837/4 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,765e72bd9666545eec2c691d6c053017f65d69db,pymysql-0.10.0,mock===4.0.2docutils===0.16msgpack===1.0.0PyMySQL===0.10.0pkg-resources===0.0.0,mock===3.0.5docutils===0.15.2msgpack===0.6.1PyMySQL===0.9.3,5,4
openstack%2Foctavia~master~I3efa89992cc4a8e2645803dd867d7d2f6e39b966,openstack/octavia,master,I3efa89992cc4a8e2645803dd867d7d2f6e39b966,Fix amphora image build jobs,MERGED,2020-07-28 12:27:28.000000000,2020-08-11 17:22:47.000000000,2020-08-11 17:20:08.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-07-28 12:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/78f0798fd4ab90311fa3556ca2f08a4fd91632aa', 'message': 'Fix amphora image build jobs\n\nOur periodic amphora image build jobs started failing around June 15\nwith:\n\n""The conditional check \'install_packages|success\' failed. The error was:\ntemplate error while templating string: no filter named \'success\'.\nString: {% if install_packages|success %} True {% else %} False {% endif\n%}""\n\nFilters have changed in Ansible 2.9 after a deprecation period.\n\nChange-Id: I3efa89992cc4a8e2645803dd867d7d2f6e39b966\n'}, {'number': 2, 'created': '2020-07-28 12:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a50cdfc91612f097345f1c62278dd076b2cd987b', 'message': 'Fix amphora image build jobs\n\nOur periodic amphora image build jobs started failing around June 15\nwith:\n\n""The conditional check \'install_packages|success\' failed. The error was:\ntemplate error while templating string: no filter named \'success\'.\nString: {% if install_packages|success %} True {% else %} False {% endif\n%}""\n\nFilters have changed in Ansible 2.9 after a deprecation period.\n\nAdditionally, install required setuptools package.\n\nChange-Id: I3efa89992cc4a8e2645803dd867d7d2f6e39b966\n'}, {'number': 3, 'created': '2020-07-28 12:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1ced81aa660979eb01b4e197e0ac130265e0fb49', 'message': 'Fix amphora image build jobs\n\nOur periodic amphora image build jobs started failing around June 15\nwith:\n\n""The conditional check \'install_packages|success\' failed. The error was:\ntemplate error while templating string: no filter named \'success\'.\nString: {% if install_packages|success %} True {% else %} False {% endif\n%}""\n\nFilters have changed in Ansible 2.9 after a deprecation period.\n\nAdditionally, install required setuptools and virtualenv packages.\n\nChange-Id: I3efa89992cc4a8e2645803dd867d7d2f6e39b966\n'}, {'number': 4, 'created': '2020-07-28 15:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8f294b9e6c2fb1bfe013b1923e737ed95455c902', 'message': 'Fix amphora image build jobs\n\nOur periodic amphora image build jobs started failing around June 15\nwith:\n\n""The conditional check \'install_packages|success\' failed. The error was:\ntemplate error while templating string: no filter named \'success\'.\nString: {% if install_packages|success %} True {% else %} False {% endif\n%}""\n\nFilters have changed in Ansible 2.9 after a deprecation period.\n\nAdditionally, install required python3-venv and set virtualenv_command\n(defaults to Python 2 ""virtualenv"").\n\nChange-Id: I3efa89992cc4a8e2645803dd867d7d2f6e39b966\n'}, {'number': 5, 'created': '2020-07-28 15:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/61cf3e57da4e93a3ea9b8e548715eabec170fbaa', 'message': 'Fix amphora image build jobs\n\nOur periodic amphora image build jobs started failing around June 15\nwith:\n\n""The conditional check \'install_packages|success\' failed. The error was:\ntemplate error while templating string: no filter named \'success\'.\nString: {% if install_packages|success %} True {% else %} False {% endif\n%}""\n\nFilters have changed in Ansible 2.9 after a deprecation period.\n\nAdditionally, install required python3-venv and set virtualenv_command\n(defaults to Python 2 ""virtualenv"").\n\nChange-Id: I3efa89992cc4a8e2645803dd867d7d2f6e39b966\n'}, {'number': 6, 'created': '2020-07-28 15:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/833d262a383c58c3af98e519bfeefdca257a2772', 'message': 'Fix amphora image build jobs\n\nOur periodic amphora image build jobs started failing around mid June\nwith:\n\n""The conditional check \'install_packages|success\' failed. The error was:\ntemplate error while templating string: no filter named \'success\'.\nString: {% if install_packages|success %} True {% else %} False {% endif\n%}""\n\nFilters have changed in Ansible 2.9 after a deprecation period.\n\nAdditionally, install python3-venv and set virtualenv_command (defaults\nto Python 2 ""virtualenv"") as it seems to be required now too.\n\nChange-Id: I3efa89992cc4a8e2645803dd867d7d2f6e39b966\n'}, {'number': 7, 'created': '2020-07-31 06:42:30.000000000', 'files': ['playbooks/image-build/run.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/9df5f75d4913f966582290791c92a64b5e25acd4', 'message': 'Fix amphora image build jobs\n\nOur periodic amphora image build jobs started failing around mid June\nwith:\n\n""The conditional check \'install_packages|success\' failed. The error was:\ntemplate error while templating string: no filter named \'success\'.\nString: {% if install_packages|success %} True {% else %} False {% endif\n%}""\n\nFilters have changed in Ansible 2.9 after a deprecation period.\n\nAdditionally, install python3-venv and set virtualenv_command (defaults\nto Python 2 ""virtualenv"") as it seems to be required now too.\n\nChange-Id: I3efa89992cc4a8e2645803dd867d7d2f6e39b966\n'}]",0,743520,9df5f75d4913f966582290791c92a64b5e25acd4,21,4,7,6469,,,0,"Fix amphora image build jobs

Our periodic amphora image build jobs started failing around mid June
with:

""The conditional check 'install_packages|success' failed. The error was:
template error while templating string: no filter named 'success'.
String: {% if install_packages|success %} True {% else %} False {% endif
%}""

Filters have changed in Ansible 2.9 after a deprecation period.

Additionally, install python3-venv and set virtualenv_command (defaults
to Python 2 ""virtualenv"") as it seems to be required now too.

Change-Id: I3efa89992cc4a8e2645803dd867d7d2f6e39b966
",git fetch https://review.opendev.org/openstack/octavia refs/changes/20/743520/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/image-build/run.yaml', 'zuul.d/projects.yaml']",2,78f0798fd4ab90311fa3556ca2f08a4fd91632aa,, # templates: # - check-requirements # - periodic-stable-jobs-neutron # - openstack-cover-jobs # - openstack-lower-constraints-jobs # - openstack-python3-victoria-jobs # - publish-openstack-docs-pti # - release-notes-jobs-python3 # - octavia-tox-tips # - openstack-tox-functional-py36: # irrelevant-files: # - ^.*\.rst$ # - ^api-ref/.*$ # - ^doc/.*$ # - ^etc/.*$ # - ^octavia/tests/unit/.*$ # - ^releasenotes/.*$ # - octavia-v2-dsvm-noop-api: # irrelevant-files: &irrelevant-files # - ^.*\.rst$ # - ^api-ref/.*$ # - ^doc/.*$ # - ^octavia/tests/.*$ # - ^releasenotes/.*$ # - octavia-v2-dsvm-scenario: # irrelevant-files: *irrelevant-files # - octavia-v2-dsvm-tls-barbican: # irrelevant-files: *irrelevant-files # - octavia-v2-dsvm-spare-pool: # irrelevant-files: *irrelevant-files # - octavia-v2-act-stdby-dsvm-scenario: # irrelevant-files: *irrelevant-files # - octavia-grenade: # irrelevant-files: # - ^.*\.rst$ # - ^api-ref/.*$ # - ^doc/.*$ # - ^octavia/tests/.*$ # - ^releasenotes/.*$ # - ^setup.cfg$ # - ^tools/.*$ # - ^(test-|)requirements.txt$ # - ^tox.ini$ # - octavia-v2-dsvm-cinder-amphora: # irrelevant-files: *irrelevant-files # voting: false # - octavia-v2-dsvm-scenario-two-node: # irrelevant-files: *irrelevant-files # voting: false # - octavia-v2-dsvm-scenario-ipv6-only: # irrelevant-files: *irrelevant-files # voting: false # - octavia-v2-dsvm-scenario-amphora-v2: # irrelevant-files: *irrelevant-files # voting: false # - octavia-v2-dsvm-scenario-centos-8: # irrelevant-files: *irrelevant-files # voting: false - octavia-amphora-image-build, templates: - check-requirements - periodic-stable-jobs-neutron - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-victoria-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - octavia-tox-tips - openstack-tox-functional-py36: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^octavia/tests/unit/.*$ - ^releasenotes/.*$ - octavia-v2-dsvm-noop-api: irrelevant-files: &irrelevant-files - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^octavia/tests/.*$ - ^releasenotes/.*$ - octavia-v2-dsvm-scenario: irrelevant-files: *irrelevant-files - octavia-v2-dsvm-tls-barbican: irrelevant-files: *irrelevant-files - octavia-v2-dsvm-spare-pool: irrelevant-files: *irrelevant-files - octavia-v2-act-stdby-dsvm-scenario: irrelevant-files: *irrelevant-files - octavia-grenade: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^octavia/tests/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^(test-|)requirements.txt$ - ^tox.ini$ - octavia-v2-dsvm-cinder-amphora: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-two-node: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-ipv6-only: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-amphora-v2: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-centos-8: irrelevant-files: *irrelevant-files voting: false,61,60
openstack%2Fironic-python-agent-builder~master~I27d13b63b61ae44a3d04dc25566a27fa1e6c668f,openstack/ironic-python-agent-builder,master,I27d13b63b61ae44a3d04dc25566a27fa1e6c668f,Shift dhcp package for DHCPv6,NEW,2020-07-28 13:45:07.000000000,2020-08-11 17:19:56.000000000,,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-28 13:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/803056a5d8dc4216a5b0d1d58a6454036b24baf1', 'message': 'Shift dhcp package for DHCPv6\n\nThe default dhcp client, udhcpc, is limited to IPv4 support.\n\nHowever, we need IPv6. As such, we should install the full dhcp\npackage and have the client available to us, as well as execute\nthe client for v4 and v6.\n\nChange-Id: I27d13b63b61ae44a3d04dc25566a27fa1e6c668f\n'}, {'number': 2, 'created': '2020-07-28 13:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/68cfe011f7741ce15ae1eb78e0e4931ed21a05b1', 'message': 'Shift dhcp package for DHCPv6\n\nThe default dhcp client, udhcpc, is limited to IPv4 support.\n\nHowever, we need IPv6. As such, we should install the full dhcp\npackage and have the client available to us, as well as execute\nthe client for v4 and v6.\n\nChange-Id: I27d13b63b61ae44a3d04dc25566a27fa1e6c668f\n'}, {'number': 3, 'created': '2020-08-04 18:16:44.000000000', 'files': ['tinyipa/build_files/bootlocal.sh', 'tinyipa/build_files/buildreqs.lst', 'tinyipa/build_files/dhcp.sh', 'tinyipa/build_files/finalreqs.lst'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/0156af2b0617430d2143aa17364277245b545330', 'message': 'Shift dhcp package for DHCPv6\n\nThe default dhcp client, udhcpc, is limited to IPv4 support.\n\nHowever, we need IPv6. As such, we should install the full dhcp\npackage and have the client available to us, as well as execute\nthe client for v4 and v6.\n\nChange-Id: I27d13b63b61ae44a3d04dc25566a27fa1e6c668f\n'}]",0,743539,0156af2b0617430d2143aa17364277245b545330,10,4,3,11655,,,0,"Shift dhcp package for DHCPv6

The default dhcp client, udhcpc, is limited to IPv4 support.

However, we need IPv6. As such, we should install the full dhcp
package and have the client available to us, as well as execute
the client for v4 and v6.

Change-Id: I27d13b63b61ae44a3d04dc25566a27fa1e6c668f
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/39/743539/3 && git format-patch -1 --stdout FETCH_HEAD,"['tinyipa/build_files/dhcp.sh', 'tinyipa/build_files/finalreqs.lst']",2,803056a5d8dc4216a5b0d1d58a6454036b24baf1,,dhcp.tcz,,3,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Iedd149c123d807dee229160f8e9f1b17bf379368,openstack/tripleo-heat-templates,stable/train,Iedd149c123d807dee229160f8e9f1b17bf379368,Switch host sshd configuration to ansible,ABANDONED,2020-08-11 14:49:38.000000000,2020-08-11 17:08:20.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-11 14:49:38.000000000', 'files': ['sample-env-generator/standalone.yaml', 'sample-env-generator/undercloud-minion.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/sshd/sshd-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c1f149cf48147f4202dc9803d17ebe05b04bd3ab', 'message': 'Switch host sshd configuration to ansible\n\nThis change updates the baremetal host sshd management to use ansible\ninstead of puppet. It should still be noted that the nova-migration\ncontainer still uses puppet to manage sshd.\n\nChange-Id: Iedd149c123d807dee229160f8e9f1b17bf379368\nDepends-On: https://review.opendev.org/#/c/742970/\n(cherry picked from commit b5dad0cf1062f1016270ff343074a5ab9c5507be)\n'}]",0,745688,c1f149cf48147f4202dc9803d17ebe05b04bd3ab,4,2,1,7353,,,0,"Switch host sshd configuration to ansible

This change updates the baremetal host sshd management to use ansible
instead of puppet. It should still be noted that the nova-migration
container still uses puppet to manage sshd.

Change-Id: Iedd149c123d807dee229160f8e9f1b17bf379368
Depends-On: https://review.opendev.org/#/c/742970/
(cherry picked from commit b5dad0cf1062f1016270ff343074a5ab9c5507be)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/745688/1 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/standalone.yaml', 'sample-env-generator/undercloud-minion.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/sshd/sshd-baremetal-ansible.yaml']",4,c1f149cf48147f4202dc9803d17ebe05b04bd3ab,sshd-ansible-stable/ussuri-stable/train,"heat_template_version: rocky description: > Configure sshd_config parameters: ServiceData: default: {} description: Dictionary packing service data type: json ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. This mapping overrides those in ServiceNetMapDefaults. type: json DefaultPasswords: default: {} type: json RoleName: default: '' description: Role name on which the service is applied type: string RoleParameters: default: {} description: Parameters specific to the role type: json EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json BannerText: default: '' description: Configures Banner text in sshd_config type: string MessageOfTheDay: default: '' description: Configures /etc/motd text type: string SshServerOptions: default: HostKey: - '/etc/ssh/ssh_host_rsa_key' - '/etc/ssh/ssh_host_ecdsa_key' - '/etc/ssh/ssh_host_ed25519_key' SyslogFacility: 'AUTHPRIV' AuthorizedKeysFile: '.ssh/authorized_keys' ChallengeResponseAuthentication: 'no' GSSAPIAuthentication: 'yes' GSSAPICleanupCredentials: 'no' UsePAM: 'yes' UseDNS: 'no' X11Forwarding: 'yes' AcceptEnv: - 'LANG LC_CTYPE LC_NUMERIC LC_TIME LC_COLLATE LC_MONETARY LC_MESSAGES' - 'LC_PAPER LC_NAME LC_ADDRESS LC_TELEPHONE LC_MEASUREMENT' - 'LC_IDENTIFICATION LC_ALL LANGUAGE' - 'XMODIFIERS' Subsystem: 'sftp /usr/libexec/openssh/sftp-server' description: Mapping of sshd_config values type: json PasswordAuthentication: default: 'no' description: Whether or not disable password authentication type: string SshFirewallAllowAll: default: false description: Set this to true to open up ssh access from all sources. type: boolean conditions: ssh_firewall_allow_all: {equals: [{get_param: SshFirewallAllowAll}, true]} ssh_banner_text_empty: {equals: [{get_param: BannerText}, '']} ssh_motd_text_empty: {equals: [{get_param: MessageOfTheDay}, '']} outputs: role_data: description: Role data for the ssh value: service_name: sshd firewall_rules: '003 accept ssh from all': proto: 'tcp' dport: 22 extras: ensure: {if: [ssh_firewall_allow_all, 'present', 'absent']} host_prep_config: - include_role: name: tripleo_ssh vars: tripleo_sshd_server_options: {get_param: SshServerOptions} tripleo_sshd_password_authentication: {get_param: PasswordAuthentication} tripleo_sshd_banner_enabled: if: - ssh_banner_text_empty - true - false tripleo_sshd_banner_text: {get_param: BannerText} tripleo_sshd_motd_enabled: if: - ssh_motd_text_empty - true - false tripleo_sshd_message_of_the_day: {get_param: MessageOfTheDay} ",,108,3
openstack%2Fcinder~master~Ia13402213bc82027e3d658918a22003be26576d6,openstack/cinder,master,Ia13402213bc82027e3d658918a22003be26576d6,Make test-setup.sh compatible with mysql8,MERGED,2020-06-22 19:27:48.000000000,2020-08-11 16:53:37.000000000,2020-08-11 16:51:58.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 11611}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28522}, {'_account_id': 28801}, {'_account_id': 29705}]","[{'number': 1, 'created': '2020-06-22 19:27:48.000000000', 'files': ['tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f766c76f2aadb2d548558cdf1afc9d7c144efa51', 'message': ""Make test-setup.sh compatible with mysql8\n\nStarting from mysql version 8 it's not possible to create a user\nimplictly when using GRANT.\n\nThis patch makes the behavior compatible with that.\n\nChange-Id: Ia13402213bc82027e3d658918a22003be26576d6\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,737364,f766c76f2aadb2d548558cdf1afc9d7c144efa51,28,19,1,11904,,,0,"Make test-setup.sh compatible with mysql8

Starting from mysql version 8 it's not possible to create a user
implictly when using GRANT.

This patch makes the behavior compatible with that.

Change-Id: Ia13402213bc82027e3d658918a22003be26576d6
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/64/737364/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/test-setup.sh'],1,f766c76f2aadb2d548558cdf1afc9d7c144efa51,fix-grant-mysql8," CREATE USER '$DB_USER'@'%' IDENTIFIED BY '$DB_PW'; GRANT ALL PRIVILEGES ON *.* TO '$DB_USER'@'%' WITH GRANT OPTION;"""," GRANT ALL PRIVILEGES ON *.* TO '$DB_USER'@'%' identified by '$DB_PW' WITH GRANT OPTION;""",2,2
openstack%2Fkeystone~master~I207bb816affcb3e2725321de9a90a40c027a9f87,openstack/keystone,master,I207bb816affcb3e2725321de9a90a40c027a9f87,Skip tests to update u-c for PyMySql to 0.10.0,MERGED,2020-08-05 16:11:20.000000000,2020-08-11 16:41:48.000000000,2020-08-11 16:38:28.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-08-05 16:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/80334a96a95896eb53a8c5341a725c25be79f39d', 'message': '[WIP] Test PyMySql on latest version 0.10.0\n\nChange-Id: I207bb816affcb3e2725321de9a90a40c027a9f87\n'}, {'number': 2, 'created': '2020-08-05 16:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3601b07a787275f7512b29c2e6339ef44bc0a710', 'message': '[WIP] Test PyMySql on latest version 0.10.0\n\nChange-Id: I207bb816affcb3e2725321de9a90a40c027a9f87\n'}, {'number': 3, 'created': '2020-08-06 05:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c29b9dee70b841621d57320261d8175dd53c8a95', 'message': '[WIP] Test PyMySql on latest version 0.10.0\n\nDepends-on: https://review.opendev.org/#/c/741837/\n\nChange-Id: I207bb816affcb3e2725321de9a90a40c027a9f87\n'}, {'number': 4, 'created': '2020-08-06 10:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ec99884bf15d8ff84b4a0f4f61b1b8dffb3a3eb3', 'message': 'Fix PyMySql on latest version 0.10.0\n\nIn the new version of PyMySql the error > 1000, will be\noperational error [1], which is failing keystone migration\ntest cases [2] because we raise dberror [3] which does not\nhandle operational error.\n\nThis patch overrides the migration test cases for backend\nmysql and handles the operational error .\n\n[1]https://github.com/PyMySQL/PyMySQL/commit/c3e5a63514c57d1f4c9d5e7bf4b7e10b0608b0e1\n[2]https://da7bb9864083b9045f13-6176f3344d2541229da3be8329641f28.ssl.cf5.rackcdn.com/741837/2/check/cross-keystone-py36/d1a2e73/testr_results.html\n[3]https://github.com/openstack/keystone/blob/033e7aff870f2ccd4dec607e9c47efff630ece29/keystone/tests/unit/test_sql_upgrade.py#L1867\n\nDepends-on: https://review.opendev.org/#/c/741837/\n\nCloses-Bug: #1890325\nChange-Id: I207bb816affcb3e2725321de9a90a40c027a9f87\n'}, {'number': 5, 'created': '2020-08-06 14:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e69f831a2db843d47c99aba4dace780ce6a6449b', 'message': 'Fix PyMySql on latest version 0.10.0\n\nIn the new version of PyMySql the error > 1000, will be\noperational error [1], which is failing keystone migration\ntest cases [2] because we raise dberror [3] which does not\nhandle operational error.\n\nThis patch overrides the migration test cases for backend\nmysql and handles the operational error .\n\n[1]https://github.com/PyMySQL/PyMySQL/commit/c3e5a63514c57d1f4c9d5e7bf4b7e10b0608b0e1\n[2]https://da7bb9864083b9045f13-6176f3344d2541229da3be8329641f28.ssl.cf5.rackcdn.com/741837/2/check/cross-keystone-py36/d1a2e73/testr_results.html\n[3]https://github.com/openstack/keystone/blob/033e7aff870f2ccd4dec607e9c47efff630ece29/keystone/tests/unit/test_sql_upgrade.py#L1867\n\nDepends-on: https://review.opendev.org/#/c/741837/\n\nCloses-Bug: #1890325\nChange-Id: I207bb816affcb3e2725321de9a90a40c027a9f87\n'}, {'number': 6, 'created': '2020-08-06 16:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/17ab24262858864ffdca140626e637fe99782a8a', 'message': ""Skip tests to update u-c for PyMySql to 0.10.0\n\nIn the new version of PyMySql the error > 1000, will be\noperational error [1], which is failing keystone migration\ntest cases [2] for backend mysql because we raise dberror\n[3] which does not handle operational error.\n\nPyMySQL hasn't been raised to 0.10.0 in the upper-constraints\nyet, so this patch isn't going to be able to install it.\nWe can't raise the u-c since the current keystone jobs are\nfailing with it.\n\nThis patch overrides the test cases to handle operational\nerror for mysql and skips the same. This is so to make sure\nthat failed test cases are skipped because Once the upper-\nconstraints are updated to 0.10.0 for PyMySql and merged,\nwill revert the skip and handle for 0.10.0.\n\n[1]https://github.com/PyMySQL/PyMySQL/commit/c3e5a63514c57d1f4c9d5e7bf4b7e10b0608b0e1\n[2]https://da7bb9864083b9045f13-6176f3344d2541229da3be8329641f28.ssl.cf5.rackcdn.com/741837/2/check/cross-keystone-py36/d1a2e73/testr_results.html\n[3]https://github.com/openstack/keystone/blob/033e7aff870f2ccd4dec607e9c47efff630ece29/keystone/tests/unit/test_sql_upgrade.py#L1867\n\nDepends-on: https://review.opendev.org/#/c/741837/\n\nCloses-Bug: #1890325\nChange-Id: I207bb816affcb3e2725321de9a90a40c027a9f87\n""}, {'number': 7, 'created': '2020-08-06 16:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/46e7b1d466a3e0511c264fb69b0b9292cc4a4975', 'message': ""Skip tests to update u-c for PyMySql to 0.10.0\n\nIn the new version of PyMySql the error > 1000, will be\noperational error [1], which is failing keystone migration\ntest cases [2] for backend mysql because we raise dberror\n[3] which does not handle operational error.\n\nPyMySQL hasn't been raised to 0.10.0 in the upper-constraints\nyet, so this patch isn't going to be able to install it.\nWe can't raise the u-c since the current keystone jobs are\nfailing with it.\n\nThis patch overrides the test cases to handle operational\nerror for mysql and skips the same. This is so to make sure\nthat failed test cases are skipped because Once the upper-\nconstraints are updated to 0.10.0 for PyMySql and merged,\nwill revert the skip and handle for 0.10.0.\n\n[1]https://github.com/PyMySQL/PyMySQL/commit/c3e5a63514c57d1f4c9d5e7bf4b7e10b0608b0e1\n[2]https://da7bb9864083b9045f13-6176f3344d2541229da3be8329641f28.ssl.cf5.rackcdn.com/741837/2/check/cross-keystone-py36/d1a2e73/testr_results.html\n[3]https://github.com/openstack/keystone/blob/033e7aff870f2ccd4dec607e9c47efff630ece29/keystone/tests/unit/test_sql_upgrade.py#L1867\n\nCloses-Bug: #1890325\nChange-Id: I207bb816affcb3e2725321de9a90a40c027a9f87\n""}, {'number': 8, 'created': '2020-08-06 18:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cfde6b3ec71c86f28aac631c56ca3870daf5e796', 'message': ""Skip tests to update u-c for PyMySql to 0.10.0\n\nIn the new version of PyMySql the error > 1000, will be\noperational error [1], which is failing keystone migration\ntest cases [2] for backend mysql because we raise dberror\n[3] which does not handle operational error.\n\nPyMySQL hasn't been raised to 0.10.0 in the upper-constraints\nyet, so this patch isn't going to be able to install it.\nWe can't raise the u-c since the current keystone jobs are\nfailing with it.\n\nThis patch overrides the test cases to handle operational\nerror for mysql and skips the same. This is so to make sure\nthat failed test cases are skipped because Once the upper-\nconstraints are updated to 0.10.0 for PyMySql and merged,\nwill revert the skip and handle for 0.10.0.\n\n[1]https://github.com/PyMySQL/PyMySQL/commit/c3e5a63514c57d1f4c9d5e7bf4b7e10b0608b0e1\n[2]https://da7bb9864083b9045f13-6176f3344d2541229da3be8329641f28.ssl.cf5.rackcdn.com/741837/2/check/cross-keystone-py36/d1a2e73/testr_results.html\n[3]https://github.com/openstack/keystone/blob/033e7aff870f2ccd4dec607e9c47efff630ece29/keystone/tests/unit/test_sql_upgrade.py#L1867\n\nCloses-Bug: #1890325\nChange-Id: I207bb816affcb3e2725321de9a90a40c027a9f87\n""}, {'number': 9, 'created': '2020-08-07 12:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/052ba6d9be2c972c042a53123973f8ad3c03e9d6', 'message': ""Skip tests to update u-c for PyMySql to 0.10.0\n\nIn the new version of PyMySql the error > 1000, will be\noperational error [1], which is failing keystone migration\ntest cases [2] for backend mysql because we raise dberror\n[3] which does not handle operational error.\n\nPyMySQL hasn't been raised to 0.10.0 in the upper-constraints\nyet, so this patch isn't going to be able to install it.\nWe can't raise the u-c since the current keystone jobs are\nfailing with it.\n\nThis patch overrides the test cases for backend SQL and skips\nthe same. This is so to make sure that failed test cases are\nskipped because Once the upper-constraints are updated to\n0.10.0 for PyMySql and merged, will revert the skip and\nhandle for 0.10.0.\n\n[1]https://github.com/PyMySQL/PyMySQL/commit/c3e5a63514c57d1f4c9d5e7bf4b7e10b0608b0e1\n[2]https://da7bb9864083b9045f13-6176f3344d2541229da3be8329641f28.ssl.cf5.rackcdn.com/741837/2/check/cross-keystone-py36/d1a2e73/testr_results.html\n[3]https://github.com/openstack/keystone/blob/033e7aff870f2ccd4dec607e9c47efff630ece29/keystone/tests/unit/test_sql_upgrade.py#L1867\n\nCloses-Bug: #1890325\nChange-Id: I207bb816affcb3e2725321de9a90a40c027a9f87\n""}, {'number': 10, 'created': '2020-08-07 14:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d9a41cd66736f25c2369cfadedfad462504e3b6c', 'message': ""Skip tests to update u-c for PyMySql to 0.10.0\n\nIn the new version of PyMySql the error > 1000, will be\noperational error [1], which is failing keystone migration\ntest cases [2] for backend mysql because we raise dberror\n[3] which does not handle operational error.\n\nPyMySQL hasn't been raised to 0.10.0 in the upper-constraints\nyet, so this patch isn't going to be able to install it.\nWe can't raise the u-c since the current keystone jobs are\nfailing with it.\n\nThis patch overrides the test cases for backend SQL and skips\nthe same. This is so to make sure that failed test cases are\nskipped because Once the upper-constraints are updated to\n0.10.0 for PyMySql and merged, will revert the skip and\nhandle for 0.10.0.\n\n[1]https://github.com/PyMySQL/PyMySQL/commit/c3e5a63514c57d1f4c9d5e7bf4b7e10b0608b0e1\n[2]https://da7bb9864083b9045f13-6176f3344d2541229da3be8329641f28.ssl.cf5.rackcdn.com/741837/2/check/cross-keystone-py36/d1a2e73/testr_results.html\n[3]https://github.com/openstack/keystone/blob/033e7aff870f2ccd4dec607e9c47efff630ece29/keystone/tests/unit/test_sql_upgrade.py#L1867\n\nCloses-Bug: #1890325\nChange-Id: I207bb816affcb3e2725321de9a90a40c027a9f87\n""}, {'number': 11, 'created': '2020-08-10 14:09:39.000000000', 'files': ['keystone/tests/unit/test_sql_upgrade.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/56da348b4933de441986a353e1782cf498211344', 'message': ""Skip tests to update u-c for PyMySql to 0.10.0\n\nIn the new version of PyMySql the error > 1000, will be\noperational error [1], which is failing keystone migration\ntest cases [2] for backend mysql because we raise dberror\n[3] which does not handle operational error.\n\nPyMySQL hasn't been raised to 0.10.0 in the upper-constraints\nyet, so this patch isn't going to be able to install it.\nWe can't raise the u-c since the current keystone jobs are\nfailing with it.\n\nThis patch overrides the test cases for backend SQL and skips\nthe same. This is so to make sure that failed test cases are\nskipped because Once the upper-constraints are updated to\n0.10.0 for PyMySql and merged, will revert the skip and\nhandle for 0.10.0.\n\n[1]https://github.com/PyMySQL/PyMySQL/commit/c3e5a63514c57d1f4c9d5e7bf4b7e10b0608b0e1\n[2]https://da7bb9864083b9045f13-6176f3344d2541229da3be8329641f28.ssl.cf5.rackcdn.com/741837/2/check/cross-keystone-py36/d1a2e73/testr_results.html\n[3]https://github.com/openstack/keystone/blob/033e7aff870f2ccd4dec607e9c47efff630ece29/keystone/tests/unit/test_sql_upgrade.py#L1867\n\nRelated-Bug: #1890325\nChange-Id: I207bb816affcb3e2725321de9a90a40c027a9f87\n""}]",9,744940,56da348b4933de441986a353e1782cf498211344,49,8,11,27621,,,0,"Skip tests to update u-c for PyMySql to 0.10.0

In the new version of PyMySql the error > 1000, will be
operational error [1], which is failing keystone migration
test cases [2] for backend mysql because we raise dberror
[3] which does not handle operational error.

PyMySQL hasn't been raised to 0.10.0 in the upper-constraints
yet, so this patch isn't going to be able to install it.
We can't raise the u-c since the current keystone jobs are
failing with it.

This patch overrides the test cases for backend SQL and skips
the same. This is so to make sure that failed test cases are
skipped because Once the upper-constraints are updated to
0.10.0 for PyMySql and merged, will revert the skip and
handle for 0.10.0.

[1]https://github.com/PyMySQL/PyMySQL/commit/c3e5a63514c57d1f4c9d5e7bf4b7e10b0608b0e1
[2]https://da7bb9864083b9045f13-6176f3344d2541229da3be8329641f28.ssl.cf5.rackcdn.com/741837/2/check/cross-keystone-py36/d1a2e73/testr_results.html
[3]https://github.com/openstack/keystone/blob/033e7aff870f2ccd4dec607e9c47efff630ece29/keystone/tests/unit/test_sql_upgrade.py#L1867

Related-Bug: #1890325
Change-Id: I207bb816affcb3e2725321de9a90a40c027a9f87
",git fetch https://review.opendev.org/openstack/keystone refs/changes/40/744940/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/test_sql_upgrade.py'],1,80334a96a95896eb53a8c5341a725c25be79f39d,pymysql-0.10.0," self.assertRaises(sql.OperationalError, self.assertRaises(sql.OperationalError, self.assertRaises(sql.OperationalError, self.insert_dict, session, self.assertRaises(sql.OperationalError, self.insert_dict, session,"," self.assertRaises(db_exception.DBError, self.assertRaises(db_exception.DBError, self.assertRaises(db_exception.DBError, self.insert_dict, session, self.assertRaises(db_exception.DBError, self.insert_dict, session,",4,4
openstack%2Fglance_store~master~I9217f4a1379687241d23fe34deecd1f482cbb49c,openstack/glance_store,master,I9217f4a1379687241d23fe34deecd1f482cbb49c,Copy data files to glance upon installation,MERGED,2020-08-07 19:54:46.000000000,2020-08-11 16:39:11.000000000,2020-08-11 16:37:17.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 19:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/e552119f11e7be56f26bfa321cafcb4de7aeb124', 'message': 'Copy data files to glance upon installation\n\nAt the moment if you need to configure cinder store of glance in your\nenvironment then you need to mannualy copy rootwrap related files\nfrom glance_store/etc/glance to /etc/glance folder.\n\nAdded those rootwrap.* related files as data_files in setup.cfg\nwhich will copies those to /etc/glance on installation.\n\nChange-Id: I9217f4a1379687241d23fe34deecd1f482cbb49c\nCloses-Bug: #1890844\n'}, {'number': 2, 'created': '2020-08-10 06:16:31.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/3b71ce2d476a9fc4fa86091711d0b8ca1dff8868', 'message': 'Copy data files to glance upon installation\n\nAt the moment if you need to configure cinder store of glance in your\nenvironment then you need to mannualy copy rootwrap related files\nfrom glance_store/etc/glance to /etc/glance folder.\n\nAdded those rootwrap.* related files as data_files in setup.cfg\nwhich will copies those to /etc/glance on installation.\n\nChange-Id: I9217f4a1379687241d23fe34deecd1f482cbb49c\nCloses-Bug: #1890844\n'}]",2,745407,3b71ce2d476a9fc4fa86091711d0b8ca1dff8868,14,4,2,9303,,,0,"Copy data files to glance upon installation

At the moment if you need to configure cinder store of glance in your
environment then you need to mannualy copy rootwrap related files
from glance_store/etc/glance to /etc/glance folder.

Added those rootwrap.* related files as data_files in setup.cfg
which will copies those to /etc/glance on installation.

Change-Id: I9217f4a1379687241d23fe34deecd1f482cbb49c
Closes-Bug: #1890844
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/07/745407/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e552119f11e7be56f26bfa321cafcb4de7aeb124,bug/1890844,data_files = /etc/glance = etc/glance/rootwrap.conf /etc/glance/rootwrap.d = etc/glance/rootwrap.d/glance_cinder_store.filters,,5,0
openstack%2Fglance~master~I8667c17813f6e701db98595b0b30df9e7b275294,openstack/glance,master,I8667c17813f6e701db98595b0b30df9e7b275294,Update task message during import,MERGED,2020-07-27 22:07:03.000000000,2020-08-11 16:38:42.000000000,2020-08-11 16:34:26.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 22:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/205367f1cd5370cf0b81d74d49589eaee68853dd', 'message': 'WIP: Update task message during import\n\nThis updates the task.message field with details about the copy,\nwhich will also update the updated_at field on the task. This will\nfacilitate some rudimentary liveness checking from outside the task\nthread.\n\nChange-Id: I8667c17813f6e701db98595b0b30df9e7b275294\n'}, {'number': 2, 'created': '2020-07-28 17:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fd820f66043836f8906e085d95fa50a19cef6326', 'message': 'WIP: Update task message during import\n\nThis updates the task.message field with details about the copy,\nwhich will also update the updated_at field on the task. This will\nfacilitate some rudimentary liveness checking from outside the task\nthread.\n\nChange-Id: I8667c17813f6e701db98595b0b30df9e7b275294\n'}, {'number': 3, 'created': '2020-07-28 20:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e365613dbed53669e02260a4f1cd76f75628c3d5', 'message': ""Update task message during import\n\nThis updates the task.message field with details about the copy,\nwhich will also update the updated_at field on the task. This will\nfacilitate some rudimentary liveness checking from outside the task\nthread. Note that it also checks the state of our task, and will\nabort if it has been pushed out of 'processing' state externally.\nThis will be used in the following patch to faciliate import lock\nbusting behavior.\n\nChange-Id: I8667c17813f6e701db98595b0b30df9e7b275294\n""}, {'number': 4, 'created': '2020-07-28 22:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e618cca1911a9e4bb562a1b9950f5e79d6bf7fb5', 'message': ""Update task message during import\n\nThis updates the task.message field with details about the copy,\nwhich will also update the updated_at field on the task. This will\nfacilitate some rudimentary liveness checking from outside the task\nthread. Note that it also checks the state of our task, and will\nabort if it has been pushed out of 'processing' state externally.\nThis will be used in the following patch to faciliate import lock\nbusting behavior.\n\nChange-Id: I8667c17813f6e701db98595b0b30df9e7b275294\n""}, {'number': 5, 'created': '2020-07-29 20:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2052a995a6df63bce0b7001c5157ed0c3ab1ca16', 'message': ""Update task message during import\n\nThis updates the task.message field with details about the copy,\nwhich will also update the updated_at field on the task. This will\nfacilitate some rudimentary liveness checking from outside the task\nthread. Note that it also checks the state of our task, and will\nabort if it has been pushed out of 'processing' state externally.\nThis will be used in the following patch to faciliate import lock\nbusting behavior.\n\nChange-Id: I8667c17813f6e701db98595b0b30df9e7b275294\n""}, {'number': 6, 'created': '2020-07-30 13:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a2712e73212c4254dc25836790dd3f6e2718464f', 'message': ""Update task message during import\n\nThis updates the task.message field with details about the copy,\nwhich will also update the updated_at field on the task. This will\nfacilitate some rudimentary liveness checking from outside the task\nthread. Note that it also checks the state of our task, and will\nabort if it has been pushed out of 'processing' state externally.\nThis will be used in the following patch to faciliate import lock\nbusting behavior.\n\nChange-Id: I8667c17813f6e701db98595b0b30df9e7b275294\n""}, {'number': 7, 'created': '2020-07-30 13:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6474e14b2850262cafb424245a0ff25c9e353fe2', 'message': ""Update task message during import\n\nThis updates the task.message field with details about the copy,\nwhich will also update the updated_at field on the task. This will\nfacilitate some rudimentary liveness checking from outside the task\nthread. Note that it also checks the state of our task, and will\nabort if it has been pushed out of 'processing' state externally.\nThis will be used in the following patch to faciliate import lock\nbusting behavior.\n\nChange-Id: I8667c17813f6e701db98595b0b30df9e7b275294\n""}, {'number': 8, 'created': '2020-07-31 00:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/72aa41a2b51ca7aaeeb86c49903603e4ba268bcd', 'message': ""Update task message during import\n\nThis updates the task.message field with details about the copy,\nwhich will also update the updated_at field on the task. This will\nfacilitate some rudimentary liveness checking from outside the task\nthread. Note that it also checks the state of our task, and will\nabort if it has been pushed out of 'processing' state externally.\nThis will be used in the following patch to faciliate import lock\nbusting behavior.\n\nChange-Id: I8667c17813f6e701db98595b0b30df9e7b275294\n""}, {'number': 9, 'created': '2020-08-06 17:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9075fac9b79011733b0d25a81886df5d291f7169', 'message': ""Update task message during import\n\nThis updates the task.message field with details about the copy,\nwhich will also update the updated_at field on the task. This will\nfacilitate some rudimentary liveness checking from outside the task\nthread. Note that it also checks the state of our task, and will\nabort if it has been pushed out of 'processing' state externally.\nThis will be used in the following patch to faciliate import lock\nbusting behavior.\n\nChange-Id: I8667c17813f6e701db98595b0b30df9e7b275294\n""}, {'number': 10, 'created': '2020-08-07 16:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/70fd3ee8a10f4d62c5727aeb15bc4f77ccc21500', 'message': ""Update task message during import\n\nThis updates the task.message field with details about the copy,\nwhich will also update the updated_at field on the task. This will\nfacilitate some rudimentary liveness checking from outside the task\nthread. Note that it also checks the state of our task, and will\nabort if it has been pushed out of 'processing' state externally.\nThis will be used in the following patch to faciliate import lock\nbusting behavior.\n\nChange-Id: I8667c17813f6e701db98595b0b30df9e7b275294\n""}, {'number': 11, 'created': '2020-08-07 19:31:31.000000000', 'files': ['glance/common/exception.py', 'glance/async_/flows/api_image_import.py', 'glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/77d9cfa66e3c2e70a1cc515e7504fd5dd946549a', 'message': ""Update task message during import\n\nThis updates the task.message field with details about the copy,\nwhich will also update the updated_at field on the task. This will\nfacilitate some rudimentary liveness checking from outside the task\nthread. Note that it also checks the state of our task, and will\nabort if it has been pushed out of 'processing' state externally.\nThis will be used in the following patch to faciliate import lock\nbusting behavior.\n\nChange-Id: I8667c17813f6e701db98595b0b30df9e7b275294\n""}]",0,743427,77d9cfa66e3c2e70a1cc515e7504fd5dd946549a,55,7,11,4393,,,0,"Update task message during import

This updates the task.message field with details about the copy,
which will also update the updated_at field on the task. This will
facilitate some rudimentary liveness checking from outside the task
thread. Note that it also checks the state of our task, and will
abort if it has been pushed out of 'processing' state externally.
This will be used in the following patch to faciliate import lock
busting behavior.

Change-Id: I8667c17813f6e701db98595b0b30df9e7b275294
",git fetch https://review.opendev.org/openstack/glance refs/changes/27/743427/8 && git format-patch -1 --stdout FETCH_HEAD,['glance/async_/flows/api_image_import.py'],1,205367f1cd5370cf0b81d74d49589eaee68853dd,task-heartbeat," def __init__(self, task_id, task_type, task_repo, action_wrapper, uri, self.task_repo = task_repo task = script_utils.get_task(self.task_repo, self.task_id) if task is None: LOG.error( 'Status callback for task %(task)s found no task object!', {'task': self.task_id}) # FIXME(danms): Make this something useful raise Exception('Task not found; aborting') if task.status != 'processing': LOG.error('Task %(task)s expected ""processing"" status, ' 'but found ""%(status)s""; aborting.') raise Exception('Task was aborted underneath us') task.message = _('Copied %i MiB') % (total_bytes // units.Mi) self.task_repo.save(task) task_repo,"," def __init__(self, task_id, task_type, action_wrapper, uri,",17,1
openstack%2Fglance~master~I136ef792d601326a67266e9ea9fcadd79ddba69e,openstack/glance,master,I136ef792d601326a67266e9ea9fcadd79ddba69e,Heartbeat the actual work of the task,MERGED,2020-07-27 22:07:03.000000000,2020-08-11 16:36:44.000000000,2020-08-11 16:32:32.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 22:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/122d2866d037d1dfb5f5ef0456e9b17bed787929', 'message': 'WIP: Heartbeat the actual work of the task\n\nChange-Id: I136ef792d601326a67266e9ea9fcadd79ddba69e\n'}, {'number': 2, 'created': '2020-07-28 17:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5d9d726585e024c39e90d6bcc778ac1f42c5854a', 'message': 'WIP: Heartbeat the actual work of the task\n\nChange-Id: I136ef792d601326a67266e9ea9fcadd79ddba69e\n'}, {'number': 3, 'created': '2020-07-28 20:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/df951d07ab8fdf54c1e79a4a39d5157618402e15', 'message': 'Heartbeat the actual work of the task\n\nThis introduces a CallbackIterator object that can sit in the data\npipeline when setting image data and provide periodic callbacks to\nallow recording status, checking for cancellation, etc. If the\ncallback raises an exception, that will bubble up to the read\noperation and cause an abort.\n\nThe heartbeat is timer-based, but cooperative, which means if the\ndata pipeline stalls, we will stop heartbeating. The goal is to\nprovide a callback about once per minute, although blocking on\nthe pipeline could make that less regular of course.\n\nChange-Id: I136ef792d601326a67266e9ea9fcadd79ddba69e\n'}, {'number': 4, 'created': '2020-07-28 22:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f1a938f930a9cffe9809f5236189e7d861354fb4', 'message': 'Heartbeat the actual work of the task\n\nThis introduces a CallbackIterator object that can sit in the data\npipeline when setting image data and provide periodic callbacks to\nallow recording status, checking for cancellation, etc. If the\ncallback raises an exception, that will bubble up to the read\noperation and cause an abort.\n\nThe heartbeat is timer-based, but cooperative, which means if the\ndata pipeline stalls, we will stop heartbeating. The goal is to\nprovide a callback about once per minute, although blocking on\nthe pipeline could make that less regular of course.\n\nChange-Id: I136ef792d601326a67266e9ea9fcadd79ddba69e\n'}, {'number': 5, 'created': '2020-07-29 20:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/331ee31ce405145c563ee064eeaa467a50c8a608', 'message': 'Heartbeat the actual work of the task\n\nThis introduces a CallbackIterator object that can sit in the data\npipeline when setting image data and provide periodic callbacks to\nallow recording status, checking for cancellation, etc. If the\ncallback raises an exception, that will bubble up to the read\noperation and cause an abort.\n\nThe heartbeat is timer-based, but cooperative, which means if the\ndata pipeline stalls, we will stop heartbeating. The goal is to\nprovide a callback about once per minute, although blocking on\nthe pipeline could make that less regular of course.\n\nChange-Id: I136ef792d601326a67266e9ea9fcadd79ddba69e\n'}, {'number': 6, 'created': '2020-07-30 13:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a5996cdaadf2fb80b23027360c5aa2b10ed49689', 'message': 'Heartbeat the actual work of the task\n\nThis introduces a CallbackIterator object that can sit in the data\npipeline when setting image data and provide periodic callbacks to\nallow recording status, checking for cancellation, etc. If the\ncallback raises an exception, that will bubble up to the read\noperation and cause an abort.\n\nThe heartbeat is timer-based, but cooperative, which means if the\ndata pipeline stalls, we will stop heartbeating. The goal is to\nprovide a callback about once per minute, although blocking on\nthe pipeline could make that less regular of course.\n\nChange-Id: I136ef792d601326a67266e9ea9fcadd79ddba69e\n'}, {'number': 7, 'created': '2020-07-30 13:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ddc1ab753f111602ae4768204948c9ec87a70f12', 'message': 'Heartbeat the actual work of the task\n\nThis introduces a CallbackIterator object that can sit in the data\npipeline when setting image data and provide periodic callbacks to\nallow recording status, checking for cancellation, etc. If the\ncallback raises an exception, that will bubble up to the read\noperation and cause an abort.\n\nThe heartbeat is timer-based, but cooperative, which means if the\ndata pipeline stalls, we will stop heartbeating. The goal is to\nprovide a callback about once per minute, although blocking on\nthe pipeline could make that less regular of course.\n\nChange-Id: I136ef792d601326a67266e9ea9fcadd79ddba69e\n'}, {'number': 8, 'created': '2020-07-31 00:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7def80ddbc04054ee242629b383b3b6a7ced32f9', 'message': 'Heartbeat the actual work of the task\n\nThis introduces a CallbackIterator object that can sit in the data\npipeline when setting image data and provide periodic callbacks to\nallow recording status, checking for cancellation, etc. If the\ncallback raises an exception, that will bubble up to the read\noperation and cause an abort.\n\nThe heartbeat is timer-based, but cooperative, which means if the\ndata pipeline stalls, we will stop heartbeating. The goal is to\nprovide a callback about once per minute, although blocking on\nthe pipeline could make that less regular of course.\n\nChange-Id: I136ef792d601326a67266e9ea9fcadd79ddba69e\n'}, {'number': 9, 'created': '2020-08-06 17:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/065a4603cad1926768dbade9ba6e65024f2c0156', 'message': 'Heartbeat the actual work of the task\n\nThis introduces a CallbackIterator object that can sit in the data\npipeline when setting image data and provide periodic callbacks to\nallow recording status, checking for cancellation, etc. If the\ncallback raises an exception, that will bubble up to the read\noperation and cause an abort.\n\nThe heartbeat is timer-based, but cooperative, which means if the\ndata pipeline stalls, we will stop heartbeating. The goal is to\nprovide a callback about once per minute, although blocking on\nthe pipeline could make that less regular of course.\n\nChange-Id: I136ef792d601326a67266e9ea9fcadd79ddba69e\n'}, {'number': 10, 'created': '2020-08-07 16:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5c29ba45ddfd9e947aea9242e90062b6f2b967fb', 'message': 'Heartbeat the actual work of the task\n\nThis introduces a CallbackIterator object that can sit in the data\npipeline when setting image data and provide periodic callbacks to\nallow recording status, checking for cancellation, etc. If the\ncallback raises an exception, that will bubble up to the read\noperation and cause an abort.\n\nThe heartbeat is timer-based, but cooperative, which means if the\ndata pipeline stalls, we will stop heartbeating. The goal is to\nprovide a callback about once per minute, although blocking on\nthe pipeline could make that less regular of course.\n\nChange-Id: I136ef792d601326a67266e9ea9fcadd79ddba69e\n'}, {'number': 11, 'created': '2020-08-07 19:31:31.000000000', 'files': ['glance/common/scripts/utils.py', 'glance/async_/flows/api_image_import.py', 'glance/common/scripts/image_import/main.py', 'glance/tests/unit/async_/flows/test_api_image_import.py', 'glance/tests/unit/common/scripts/test_scripts_utils.py', 'glance/tests/unit/common/scripts/image_import/test_main.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/e49f23c04d784b5312d7df4556e2e5064555a84f', 'message': 'Heartbeat the actual work of the task\n\nThis introduces a CallbackIterator object that can sit in the data\npipeline when setting image data and provide periodic callbacks to\nallow recording status, checking for cancellation, etc. If the\ncallback raises an exception, that will bubble up to the read\noperation and cause an abort.\n\nThe heartbeat is timer-based, but cooperative, which means if the\ndata pipeline stalls, we will stop heartbeating. The goal is to\nprovide a callback about once per minute, although blocking on\nthe pipeline could make that less regular of course.\n\nChange-Id: I136ef792d601326a67266e9ea9fcadd79ddba69e\n'}]",11,743426,e49f23c04d784b5312d7df4556e2e5064555a84f,70,6,11,4393,,,0,"Heartbeat the actual work of the task

This introduces a CallbackIterator object that can sit in the data
pipeline when setting image data and provide periodic callbacks to
allow recording status, checking for cancellation, etc. If the
callback raises an exception, that will bubble up to the read
operation and cause an abort.

The heartbeat is timer-based, but cooperative, which means if the
data pipeline stalls, we will stop heartbeating. The goal is to
provide a callback about once per minute, although blocking on
the pipeline could make that less regular of course.

Change-Id: I136ef792d601326a67266e9ea9fcadd79ddba69e
",git fetch https://review.opendev.org/openstack/glance refs/changes/26/743426/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/common/scripts/utils.py', 'glance/async_/flows/api_image_import.py', 'glance/common/scripts/image_import/main.py']",3,122d2866d037d1dfb5f5ef0456e9b17bed787929,task-heartbeat,"from oslo_utils import unitsdef set_image_data(image, uri, task_id, backend=None, set_active=True, callback=None): if callback: # If a callback was provided, wrap our data iterator to call # the function every 100MiB. data_iter = script_utils.CallbackIterator( data_iter, callback, every_bytes=units.Mi * 100)","def set_image_data(image, uri, task_id, backend=None, set_active=True):",93,4
openstack%2Fkuryr-kubernetes~master~Iac82bb05a465e94e47356c3c873e11f00e5d0cd9,openstack/kuryr-kubernetes,master,Iac82bb05a465e94e47356c3c873e11f00e5d0cd9,Add finalizer for the pod as soon as possible.,MERGED,2020-07-31 08:50:45.000000000,2020-08-11 16:10:10.000000000,2020-08-11 16:07:32.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 30963}]","[{'number': 1, 'created': '2020-07-31 08:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/dfa1c364fc37c7b6bec415afc9988e3d8be1701d', 'message': 'Add finalizer for the pod as soon as possible.\n\nWe were observed the situation, where pod has been created, triggered\nKuryrPort CRD creation and removed just before Kuryrport on_present\nevent was handled, resulting in errors from KuryrPort side.\n\nIdea is to set the finalizer to the pod as quickly as possible, so that\nit wont disappear before we correctly set up the CRD.\n\nChange-Id: Iac82bb05a465e94e47356c3c873e11f00e5d0cd9\n'}, {'number': 2, 'created': '2020-07-31 08:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ce40dcdf7f99938c681f79dd093ada13a6a474e5', 'message': 'Add finalizer for the pod as soon as possible.\n\nWe were observed the situation, where pod has been created, triggered\nKuryrPort CRD creation and removed just before Kuryrport on_present\nevent was handled, resulting in errors from KuryrPort side.\n\nIdea is to set the finalizer to the pod as quickly as possible, so that\nit wont disappear before we correctly set up the CRD.\n\nChange-Id: Iac82bb05a465e94e47356c3c873e11f00e5d0cd9\n'}, {'number': 3, 'created': '2020-08-10 08:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a5badacb90966a8500d3aa2235f8a36891f29c98', 'message': 'Add finalizer for the pod as soon as possible.\n\nWe were observed the situation, where pod has been created, triggered\nKuryrPort CRD creation and removed just before Kuryrport on_present\nevent was handled, resulting in errors from KuryrPort side.\n\nIdea is to set the finalizer to the pod as quickly as possible, so that\nit wont disappear before we correctly set up the CRD.\n\nChange-Id: Iac82bb05a465e94e47356c3c873e11f00e5d0cd9\n'}, {'number': 4, 'created': '2020-08-11 10:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/aa27fa57900404b6d8e53e8954eb5ace3c363366', 'message': 'Add finalizer for the pod as soon as possible.\n\nWe were observed the situation, where pod has been created, triggered\nKuryrPort CRD creation and removed just before Kuryrport on_present\nevent was handled, resulting in errors from KuryrPort side.\n\nIdea is to set the finalizer to the pod as quickly as possible, so that\nit wont disappear before we correctly set up the CRD.\n\nChange-Id: Iac82bb05a465e94e47356c3c873e11f00e5d0cd9\n'}, {'number': 5, 'created': '2020-08-11 10:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ba5e07fa17d52cc7b6060c92f7a5b3c441bdf932', 'message': 'Add finalizer for the pod as soon as possible.\n\nWe were observed the situation, where pod has been created, triggered\nKuryrPort CRD creation and removed just before Kuryrport on_present\nevent was handled, resulting in errors from KuryrPort side.\n\nIdea is to set the finalizer to the pod as quickly as possible, so that\nit wont disappear before we correctly set up the CRD.\n\nChange-Id: Iac82bb05a465e94e47356c3c873e11f00e5d0cd9\n'}, {'number': 6, 'created': '2020-08-11 10:56:12.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/handlers/test_vif.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/exceptions.py', 'kuryr_kubernetes/k8s_client.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/24915ad66cc24637790c3f4ee76141ef034c58ee', 'message': 'Add finalizer for the pod as soon as possible.\n\nWe were observed the situation, where pod has been created, triggered\nKuryrPort CRD creation and removed just before Kuryrport on_present\nevent was handled, resulting in errors from KuryrPort side.\n\nIdea is to set the finalizer to the pod as quickly as possible, so that\nit wont disappear before we correctly set up the CRD.\n\nChange-Id: Iac82bb05a465e94e47356c3c873e11f00e5d0cd9\n'}]",4,744103,24915ad66cc24637790c3f4ee76141ef034c58ee,31,5,6,13692,,,0,"Add finalizer for the pod as soon as possible.

We were observed the situation, where pod has been created, triggered
KuryrPort CRD creation and removed just before Kuryrport on_present
event was handled, resulting in errors from KuryrPort side.

Idea is to set the finalizer to the pod as quickly as possible, so that
it wont disappear before we correctly set up the CRD.

Change-Id: Iac82bb05a465e94e47356c3c873e11f00e5d0cd9
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/03/744103/5 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/handlers/test_vif.py', 'kuryr_kubernetes/controller/handlers/vif.py']",2,dfa1c364fc37c7b6bec415afc9988e3d8be1701d,fix-pod-finalizer," # NOTE(gryf): Set the finlizer as soon, as we have pod created. On # subsequent updates of the pod, add_finalizer will ignore this if # finalizer exists. k8s = clients.get_kubernetes_client() k8s.add_finalizer(pod, constants.POD_FINALIZER) "," k8s = clients.get_kubernetes_client() k8s.add_finalizer(pod, constants.POD_FINALIZER) ",50,11
openstack%2Fcharm-vault~master~I802f31c853df4a69f6a4c1529e2acb1543e21831,openstack/charm-vault,master,I802f31c853df4a69f6a4c1529e2acb1543e21831,Ensure we clear the ca.ready flag when we generate a CA,MERGED,2020-08-10 08:23:33.000000000,2020-08-11 16:08:19.000000000,2020-08-11 16:02:22.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-10 08:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/1f888750cb0ae56cc3313fd14cbcd2aebed35c1c', 'message': 'Ensure we clear the ca.ready flag when we generate a CA\n\nPreviously, configuring any kind of CA, and then generating a new\nCA with CSR will cause the charm to have hook errors, as well\nas an error in the action to generate a CSR as a result of\nexpecting a fully setup CA elsewhere in the charm. This change\nadds removal of that ca.ready flag from the charm when a CSR\n(and accompanying CA) are generated.\n\nChange-Id: I802f31c853df4a69f6a4c1529e2acb1543e21831\nCloses-Bug: #1866150\n'}, {'number': 2, 'created': '2020-08-10 23:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/2cbf3127a55cc8a48e7db0bc5ead3df91a5b6da1', 'message': 'Ensure we clear the ca.ready flag when we generate a CA\n\nPreviously, configuring any kind of CA, and then generating a new\nCA with CSR will cause the charm to have hook errors, as well\nas an error in the action to generate a CSR as a result of\nexpecting a fully setup CA elsewhere in the charm. This change\nadds removal of that ca.ready flag from the charm when a CSR\n(and accompanying CA) are generated.\n\nChange-Id: I802f31c853df4a69f6a4c1529e2acb1543e21831\nCloses-Bug: #1866150\n'}, {'number': 3, 'created': '2020-08-11 15:35:51.000000000', 'files': ['src/actions/actions.py', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/9f68653578dfbbdb309def11491c463378211a5a', 'message': 'Ensure we clear the ca.ready flag when we generate a CA\n\nPreviously, configuring any kind of CA, and then generating a new\nCA with CSR will cause the charm to have hook errors, as well\nas an error in the action to generate a CSR as a result of\nexpecting a fully setup CA elsewhere in the charm. This change\nadds removal of that ca.ready flag from the charm when a CSR\n(and accompanying CA) are generated.\n\nChange-Id: I802f31c853df4a69f6a4c1529e2acb1543e21831\nCloses-Bug: #1866150\n'}]",0,745497,9f68653578dfbbdb309def11491c463378211a5a,26,6,3,20634,,,0,"Ensure we clear the ca.ready flag when we generate a CA

Previously, configuring any kind of CA, and then generating a new
CA with CSR will cause the charm to have hook errors, as well
as an error in the action to generate a CSR as a result of
expecting a fully setup CA elsewhere in the charm. This change
adds removal of that ca.ready flag from the charm when a CSR
(and accompanying CA) are generated.

Change-Id: I802f31c853df4a69f6a4c1529e2acb1543e21831
Closes-Bug: #1866150
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/97/745497/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/actions/actions.py', 'src/tests/tests.yaml']",2,1f888750cb0ae56cc3313fd14cbcd2aebed35c1c,bug/1866150,# This second run of the tests is to ensure that Vault can handle updating the # root CA in Vault with a refreshed CSR and won't end up in a hook-error # state. (LP: #1866150). - zaza.openstack.charm_tests.vault.tests.VaultTest,,10,0
openstack%2Fkolla-ansible~stable%2Fussuri~Ifbd37d8addd4322773118e2e9d46494741a8ae66,openstack/kolla-ansible,stable/ussuri,Ifbd37d8addd4322773118e2e9d46494741a8ae66,[CI] Temporarily block new Ansible,MERGED,2020-08-11 11:56:43.000000000,2020-08-11 15:39:31.000000000,2020-08-11 15:38:01.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-11 11:56:43.000000000', 'files': ['tests/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b2a30ab500c6601987b2943eeed3430072a12bf5', 'message': '[CI] Temporarily block new Ansible\n\nThe proper fix [1] needs fixing older branches before newer.\nThis one allows to fix CI first, in the usual order.\n\nTo revert after [1] gets merged in all relevant branches.\n\n[1] https://review.opendev.org/745648\n\nChange-Id: Ifbd37d8addd4322773118e2e9d46494741a8ae66\nRelated-Bug: #1891145\n'}]",0,745659,b2a30ab500c6601987b2943eeed3430072a12bf5,11,5,1,30491,,,0,"[CI] Temporarily block new Ansible

The proper fix [1] needs fixing older branches before newer.
This one allows to fix CI first, in the usual order.

To revert after [1] gets merged in all relevant branches.

[1] https://review.opendev.org/745648

Change-Id: Ifbd37d8addd4322773118e2e9d46494741a8ae66
Related-Bug: #1891145
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/59/745659/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/run.yml'],1,b2a30ab500c6601987b2943eeed3430072a12bf5,ci-pin-ansible-stable/ussuri," ansible_version_constraint: ""{{ '==2.9.*,!=2.9.8,!=2.9.12' if base_distro == 'ubuntu' else '==2.8.*,!=2.8.14' }}"""," ansible_version_constraint: ""{{ '==2.9.*,!=2.9.8' if base_distro == 'ubuntu' else '==2.8.*' }}""",1,1
openstack%2Fkolla-ansible~master~Ib8b70ee40ec2d19509cc84c0f530612f81907721,openstack/kolla-ansible,master,Ib8b70ee40ec2d19509cc84c0f530612f81907721,ubuntu: move to 20.04 Focal,MERGED,2020-07-28 10:08:26.000000000,2020-08-11 15:30:55.000000000,2020-08-11 15:26:39.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-28 10:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/774459b6967ca17eccaab42e2d6868642e45002e', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nDepends-on: https://review.opendev.org/#/c/738994/\nChange-Id: Ib8b70ee40ec2d19509cc84c0f530612f81907721\n""}, {'number': 2, 'created': '2020-07-28 11:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3c2ebf9993529086ae1d0aa783b0118b166f13e1', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nDepends-on: https://review.opendev.org/#/c/738994/\nChange-Id: Ib8b70ee40ec2d19509cc84c0f530612f81907721\n""}, {'number': 3, 'created': '2020-07-28 11:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d703def541439d6620f7e07faf58d65280497e1f', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nDepends-on: https://review.opendev.org/#/c/738994/\nChange-Id: Ib8b70ee40ec2d19509cc84c0f530612f81907721\n""}, {'number': 4, 'created': '2020-07-29 09:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/53826a614ff885a38ffec9048002596555aae632', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nDepends-on: https://review.opendev.org/#/c/738994/\nChange-Id: Ib8b70ee40ec2d19509cc84c0f530612f81907721\n""}, {'number': 5, 'created': '2020-07-31 10:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ccb963843054931a4d9d004525de2a040470d147', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nDepends-on: https://review.opendev.org/#/c/738994/\nChange-Id: Ib8b70ee40ec2d19509cc84c0f530612f81907721\n""}, {'number': 6, 'created': '2020-08-05 09:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/31c81f12885eb78f5084e2dd500e5952d3516bc0', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nDepends-on: https://review.opendev.org/#/c/738994/\nChange-Id: Ib8b70ee40ec2d19509cc84c0f530612f81907721\n""}, {'number': 7, 'created': '2020-08-05 09:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5d97726d3096ad17be0dc42876e0b356bb99a774', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nDepends-on: https://review.opendev.org/#/c/738994/\nChange-Id: Ib8b70ee40ec2d19509cc84c0f530612f81907721\n""}, {'number': 8, 'created': '2020-08-05 10:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/329ecf1ca1cf4c99a611d5476db7303872517414', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nDepends-on: https://review.opendev.org/#/c/738994/\nChange-Id: Ib8b70ee40ec2d19509cc84c0f530612f81907721\n""}, {'number': 9, 'created': '2020-08-11 11:55:46.000000000', 'files': ['tests/run.yml', 'ansible/group_vars/all.yml', 'doc/source/user/quickstart.rst', 'doc/source/user/support-matrix.rst', 'zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml', 'ansible/roles/prechecks/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/352f91ac1077d557d833b199cb5a5d489e96437f', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nIncludes CI fix to pass:\n\n[CI] Temporarily block new Ansible\n\nThe proper fix [1] needs fixing older branches before newer.\nThis one allows to fix CI first, in the usual order.\n\nTo revert after [1] gets merged in all relevant branches.\n\n[1] https://review.opendev.org/745648\n\nOld-Change-Id: Ifbd37d8addd4322773118e2e9d46494741a8ae66\nRelated-Bug: #1891145\n\nDepends-on: https://review.opendev.org/#/c/738994/\nChange-Id: Ib8b70ee40ec2d19509cc84c0f530612f81907721\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}]",7,743502,352f91ac1077d557d833b199cb5a5d489e96437f,48,6,9,24072,,,0,"ubuntu: move to 20.04 Focal

There is a time once every 2 years when ubuntu team releases new LTS
release. And then UCA joins with binary packages for current OpenStack
development cycle.

It is this time for Ubuntu 20.04 'focal'.

Includes CI fix to pass:

[CI] Temporarily block new Ansible

The proper fix [1] needs fixing older branches before newer.
This one allows to fix CI first, in the usual order.

To revert after [1] gets merged in all relevant branches.

[1] https://review.opendev.org/745648

Old-Change-Id: Ifbd37d8addd4322773118e2e9d46494741a8ae66
Related-Bug: #1891145

Depends-on: https://review.opendev.org/#/c/738994/
Change-Id: Ib8b70ee40ec2d19509cc84c0f530612f81907721
Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/02/743502/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/quickstart.rst', 'doc/source/user/support-matrix.rst', 'zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml']",4,774459b6967ca17eccaab42e2d6868642e45002e,focal, nodeset: kolla-ansible-focal nodeset: kolla-ansible-focal-nested-virt nodeset: kolla-ansible-focal-multi nodeset: kolla-ansible-focal nodeset: kolla-ansible-focal-multi nodeset: kolla-ansible-focal-multi nodeset: kolla-ansible-focal nodeset: kolla-ansible-focal-multi nodeset: kolla-ansible-focal-multi nodeset: kolla-ansible-focal-multi nodeset: kolla-ansible-focal nodeset: kolla-ansible-focal nodeset: kolla-ansible-focal nodeset: kolla-ansible-focal nodeset: kolla-ansible-focal-multi nodeset: kolla-ansible-focal, nodeset: kolla-ansible-bionic nodeset: kolla-ansible-bionic-nested-virt nodeset: kolla-ansible-bionic-multi nodeset: kolla-ansible-bionic nodeset: kolla-ansible-bionic-multi nodeset: kolla-ansible-bionic-multi nodeset: kolla-ansible-bionic nodeset: kolla-ansible-bionic-multi nodeset: kolla-ansible-bionic-multi nodeset: kolla-ansible-bionic-multi nodeset: kolla-ansible-bionic nodeset: kolla-ansible-bionic nodeset: kolla-ansible-bionic nodeset: kolla-ansible-bionic nodeset: kolla-ansible-bionic-multi nodeset: kolla-ansible-bionic,26,26
openstack%2Fcharm-guide~master~I9311419840d27cd11b035442065b4dd901cc71db,openstack/charm-guide,master,I9311419840d27cd11b035442065b4dd901cc71db,Add release note for cinder-backup-swift-proxy (os-brick/octopus),MERGED,2020-08-07 13:26:34.000000000,2020-08-11 15:24:26.000000000,2020-08-11 15:21:29.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-07 13:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/621974707db27a4f47c86c085b0ba6341e2d1d95', 'message': 'Add release note for cinder-backup-swift-proxy (os-brick/octopus)\n\nDue to os-brick not being able to talk to ceph-octopus due to the linked\nbug, this release not details the issues around ceph-rbd-mirror and\ncinder-backup-swift-proxy.\n\nChange-Id: I9311419840d27cd11b035442065b4dd901cc71db\nRelated-Bug: #1890821\nRelated-Bug: #1879749\nRelated-Bug: #1865754\n'}, {'number': 2, 'created': '2020-08-10 09:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/bf6036c104dcb458db42e1d1cba0edf17ee16d37', 'message': 'Add release note for cinder-backup-swift-proxy (os-brick/octopus)\n\nDue to os-brick not being able to talk to ceph-octopus due to the linked\nbug, this release not details the issues around ceph-rbd-mirror and\ncinder-backup-swift-proxy.\n\nChange-Id: I9311419840d27cd11b035442065b4dd901cc71db\nRelated-Bug: #1890821\nRelated-Bug: #1879749\nRelated-Bug: #1865754\n'}, {'number': 3, 'created': '2020-08-11 08:56:53.000000000', 'files': ['doc/source/2008.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/2cee08896e2c0641b9aaa120183c1c3700109c65', 'message': 'Add release note for cinder-backup-swift-proxy (os-brick/octopus)\n\nDue to os-brick not being able to talk to ceph-octopus due to the linked\nbug, this release not details the issues around ceph-rbd-mirror and\ncinder-backup-swift-proxy.\n\nChange-Id: I9311419840d27cd11b035442065b4dd901cc71db\nRelated-Bug: #1890821\nRelated-Bug: #1879749\nRelated-Bug: #1865754\n'}]",1,745328,2cee08896e2c0641b9aaa120183c1c3700109c65,13,3,3,20870,,,0,"Add release note for cinder-backup-swift-proxy (os-brick/octopus)

Due to os-brick not being able to talk to ceph-octopus due to the linked
bug, this release not details the issues around ceph-rbd-mirror and
cinder-backup-swift-proxy.

Change-Id: I9311419840d27cd11b035442065b4dd901cc71db
Related-Bug: #1890821
Related-Bug: #1879749
Related-Bug: #1865754
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/28/745328/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2008.rst'],1,621974707db27a4f47c86c085b0ba6341e2d1d95,bug/1890821,"Openstack os-brick, Focal, and Ceph-Octopus ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Due to bug `LP: #1865754` in os-brick, the Ceph RBD Mirror and Cinder Backup Swift Proxy charms do not work with Ceph-Octopus. Ceph-Octopus is the default install on Focal. This means that these charms cannot be used on Focal until the bug is resolved. Ceph RBD Mirror ^^^^^^^^^^^^^^^ Due to an unresolved permission issue due to `LP: #1865754`, the ceph-rbd-mirror charm will stay in a blocked state after configuring mirroring for pools when connected to a Ceph Octopus cluster. See bug `LP #1879749`_ for details. Cinder Backup Swift Proxy charm ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Whilst the charm will install with no errors, if a backup volume operation is performed the resulting volume will be in error if ceph-octopus is the underlying data store. See bug `LP #1890821` for further details. .. _LP #1865754: https://bugs.launchpad.net/tripleo/+bug/1865754 .. _LP #1890821: https://bugs.launchpad.net/charm-cinder-backup-swift-proxy/+bug/1890821",Ceph RBD Mirror and Ceph Octopus ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Due to an unresolved permission issue the ceph-rbd-mirror charm will stay in a blocked state after configuring mirroring for pools when connected to a Ceph Octopus cluster. See bug `LP #1879749`_ for details.,24,5
openstack%2Fansible-collections-openstack~master~Ic4073c28a4e4afb8ca5d2b72c4ea8582da244af1,openstack/ansible-collections-openstack,master,Ic4073c28a4e4afb8ca5d2b72c4ea8582da244af1,Fix non existing attribuites in SDK exception,MERGED,2020-08-11 11:18:22.000000000,2020-08-11 15:19:46.000000000,2020-08-11 15:19:46.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-08-11 11:18:22.000000000', 'files': ['plugins/module_utils/openstack.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/03fadf3b435b05975b5d3aec028ee92511fd5a13', 'message': 'Fix non existing attribuites in SDK exception\n\nSDK exception may not have extra_data, details or\nresponse attributes. Print None in this case.\n\nChange-Id: Ic4073c28a4e4afb8ca5d2b72c4ea8582da244af1\n'}]",0,745656,03fadf3b435b05975b5d3aec028ee92511fd5a13,7,3,1,10969,,,0,"Fix non existing attribuites in SDK exception

SDK exception may not have extra_data, details or
response attributes. Print None in this case.

Change-Id: Ic4073c28a4e4afb8ca5d2b72c4ea8582da244af1
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/56/745656/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/module_utils/openstack.py'],1,03fadf3b435b05975b5d3aec028ee92511fd5a13,," 'data': getattr(e, 'extra_data', 'None'), 'details': getattr(e, 'details', 'None'), 'response': getattr(getattr(e, 'response', ''), 'text', 'None')"," 'data': e.extra_data, 'details': e.details, 'response': e.response.text",4,3
openstack%2Fironic-lib~master~Ie52809d1519e827ddd596b3f4ac8106f252dc4c2,openstack/ironic-lib,master,Ie52809d1519e827ddd596b3f4ac8106f252dc4c2,Refactor ironic-lib to move to oslo.privsep,ABANDONED,2020-08-10 13:30:55.000000000,2020-08-11 15:14:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-10 13:30:55.000000000', 'files': ['ironic_lib/utils.py', 'ironic_lib/tests/test_utils.py', 'ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_partitioner.py', 'ironic_lib/tests/test_disk_partitioner.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/02286b9735edca42e204c1dd2b1dfe88fd236911', 'message': ""Refactor ironic-lib to move to oslo.privsep\n\n- Do not check for `run_as_root` and `root_helper` in\nour execute function in utils.py\n- Get rid of tests that require run_as_root=False\n- Simplify disk_partitioner (we don't need an _exec function)\n- Update tests to reflect that root is used.\n\nChange-Id: Ie52809d1519e827ddd596b3f4ac8106f252dc4c2\n""}]",0,745535,02286b9735edca42e204c1dd2b1dfe88fd236911,4,1,1,15519,,,0,"Refactor ironic-lib to move to oslo.privsep

- Do not check for `run_as_root` and `root_helper` in
our execute function in utils.py
- Get rid of tests that require run_as_root=False
- Simplify disk_partitioner (we don't need an _exec function)
- Update tests to reflect that root is used.

Change-Id: Ie52809d1519e827ddd596b3f4ac8106f252dc4c2
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/35/745535/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/utils.py', 'ironic_lib/tests/test_utils.py', 'ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_partitioner.py', 'ironic_lib/tests/test_disk_partitioner.py']",5,02286b9735edca42e204c1dd2b1dfe88fd236911,privsep-migration-refactor," def test_commit(self, mock_utils_exc): disk_partitioner_exec = mock.call( 'parted', '-a', mock.ANY, '-s', mock.ANY, '--', 'unit', 'MiB', 'mklabel', 'msdos', 'set', '4', 'fake-flag', 'on', check_exit_code=[0], use_standard_locale=True, run_as_root=True) fuser_exec = mock.call('fuser', '/dev/fake', run_as_root=True, check_exit_code=[0, 1]) self.assertEqual(2, mock_utils_exc.call_count) mock_utils_exc.assert_has_calls([disk_partitioner_exec, fuser_exec]) def test_commit_with_device_is_busy_once(self, mock_utils_exc): disk_partitioner_exec = mock.call( 'parted', '-a', mock.ANY, '-s', mock.ANY, '--', 'unit', 'MiB', 'mklabel', 'msdos', 'set', '2', 'boot', 'on', check_exit_code=[0], use_standard_locale=True, run_as_root=True) fuser_exec = mock.call('fuser', '/dev/fake', run_as_root=True, check_exit_code=[0, 1]) mock_utils_exc.assert_has_calls([disk_partitioner_exec, fuser_exec]) def test_commit_with_device_is_always_busy(self, mock_utils_exc): disk_partitioner_exec = mock.call( 'parted', '-a', mock.ANY, '-s', mock.ANY, '--', 'unit', 'MiB', 'mklabel', 'msdos', 'set', '2', 'boot', 'on', check_exit_code=[0], use_standard_locale=True, run_as_root=True) fuser_exec = mock.call('fuser', '/dev/fake', run_as_root=True, check_exit_code=[0, 1]) mock_utils_exc.assert_has_calls([disk_partitioner_exec, fuser_exec]) self.assertEqual(21, mock_utils_exc.call_count) def test_commit_with_device_disconnected(self, mock_utils_exc): disk_partitioner_exec = mock.call( 'parted', '-a', mock.ANY, '-s', mock.ANY, '--', 'unit', 'MiB', 'mklabel', 'msdos', 'set', '2', 'boot', 'on', check_exit_code=[0], use_standard_locale=True, run_as_root=True) fuser_exec = mock.call('fuser', '/dev/fake', run_as_root=True, check_exit_code=[0, 1]) mock_utils_exc.assert_has_calls([disk_partitioner_exec, fuser_exec]) self.assertEqual(21, mock_utils_exc.call_count)"," @mock.patch.object(disk_partitioner.DiskPartitioner, '_exec', autospec=True) def test_commit(self, mock_utils_exc, mock_disk_partitioner_exec): mock_disk_partitioner_exec.assert_called_once_with( mock.ANY, 'mklabel', 'msdos', 'set', '4', 'fake-flag', 'on') mock_utils_exc.assert_called_once_with( 'fuser', '/dev/fake', run_as_root=True, check_exit_code=[0, 1]) @mock.patch.object(disk_partitioner.DiskPartitioner, '_exec', autospec=True) def test_commit_with_device_is_busy_once(self, mock_utils_exc, mock_disk_partitioner_exec): mock_disk_partitioner_exec.assert_called_once_with( mock.ANY, 'mklabel', 'msdos', 'set', '2', 'boot', 'on') mock_utils_exc.assert_called_with( 'fuser', '/dev/fake', run_as_root=True, check_exit_code=[0, 1]) @mock.patch.object(disk_partitioner.DiskPartitioner, '_exec', autospec=True) def test_commit_with_device_is_always_busy(self, mock_utils_exc, mock_disk_partitioner_exec): mock_disk_partitioner_exec.assert_called_once_with( mock.ANY, 'mklabel', 'msdos', 'set', '2', 'boot', 'on') mock_utils_exc.assert_called_with( 'fuser', '/dev/fake', run_as_root=True, check_exit_code=[0, 1]) self.assertEqual(20, mock_utils_exc.call_count) @mock.patch.object(disk_partitioner.DiskPartitioner, '_exec', autospec=True) def test_commit_with_device_disconnected(self, mock_utils_exc, mock_disk_partitioner_exec): mock_disk_partitioner_exec.assert_called_once_with( mock.ANY, 'mklabel', 'msdos', 'set', '2', 'boot', 'on') mock_utils_exc.assert_called_with( 'fuser', '/dev/fake', run_as_root=True, check_exit_code=[0, 1]) self.assertEqual(20, mock_utils_exc.call_count)",73,98
openstack%2Fproject-config~master~Ia3ae33611896cc246923d9b449223c1643dd3011,openstack/project-config,master,Ia3ae33611896cc246923d9b449223c1643dd3011,Allow TC to review governance-sigs changes,MERGED,2020-08-11 14:03:09.000000000,2020-08-11 14:59:23.000000000,2020-08-11 14:55:53.000000000,"[{'_account_id': 1004}, {'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-11 14:03:09.000000000', 'files': ['gerrit/acls/openstack/governance-sigs.config', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7fe9c034bc42ddca5caa46c83f180e3edceac2d5', 'message': 'Allow TC to review governance-sigs changes\n\nSIGs used to be co-owned by two separate groups, so it used a custom\ngroup for core reviews (the Meta SIG).\n\nThis is no longer needed now that the UC and the TC operate as a single\ngroup.\n\nChange-Id: Ia3ae33611896cc246923d9b449223c1643dd3011\n'}]",0,745679,7fe9c034bc42ddca5caa46c83f180e3edceac2d5,9,4,1,308,,,0,"Allow TC to review governance-sigs changes

SIGs used to be co-owned by two separate groups, so it used a custom
group for core reviews (the Meta SIG).

This is no longer needed now that the UC and the TC operate as a single
group.

Change-Id: Ia3ae33611896cc246923d9b449223c1643dd3011
",git fetch https://review.opendev.org/openstack/project-config refs/changes/79/745679/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/governance-sigs.config', 'gerrit/projects.yaml']",2,7fe9c034bc42ddca5caa46c83f180e3edceac2d5,sigs-under-tc, acl-config: /home/gerrit2/acls/openstack/governance.config,,1,11
openstack%2Fcharm-vault~master~I5aae05dd2902094874500022ac18661a24f5726d,openstack/charm-vault,master,I5aae05dd2902094874500022ac18661a24f5726d,Better error catching for app role check,MERGED,2020-08-10 22:51:24.000000000,2020-08-11 14:59:11.000000000,2020-08-11 14:59:11.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-10 22:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/68a355e8fc6eb6238a7ab15001558a83bfe43997', 'message': 'Better error catching for app role check\n\nCatch when vault is sealed.\nRetries are only necessary for the internal server error (which\nindicates a DB failure).\n\nChange-Id: I5aae05dd2902094874500022ac18661a24f5726d\nRleated-Bug: #1866150\n'}, {'number': 2, 'created': '2020-08-11 12:23:57.000000000', 'files': ['src/lib/charm/vault.py', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/ed8ddb8caa51e9472ef64850c17475dee3cc2a4a', 'message': 'Better error catching for app role check\n\nCatch when vault is sealed.\nRetries are only necessary for the internal server error (which\nindicates a DB failure).\n\nChange-Id: I5aae05dd2902094874500022ac18661a24f5726d\nRelated-Bug: #1866150\n'}]",1,745599,ed8ddb8caa51e9472ef64850c17475dee3cc2a4a,19,7,2,20805,,,0,"Better error catching for app role check

Catch when vault is sealed.
Retries are only necessary for the internal server error (which
indicates a DB failure).

Change-Id: I5aae05dd2902094874500022ac18661a24f5726d
Related-Bug: #1866150
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/99/745599/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/vault.py', 'src/reactive/vault_handlers.py']",2,68a355e8fc6eb6238a7ab15001558a83bfe43997,bug/1866150," vault.VaultNotReady, vault.hvac.exceptions.VaultDown):", vault.VaultNotReady):,4,1
openstack%2Fgovernance-website~master~I6ced983f8297802a749d40088574a58470e5fc99,openstack/governance-website,master,I6ced983f8297802a749d40088574a58470e5fc99,Mention project teams at governance level,MERGED,2020-08-03 14:28:17.000000000,2020-08-11 14:56:40.000000000,2020-08-11 14:54:38.000000000,"[{'_account_id': 1004}, {'_account_id': 5263}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 14:28:17.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/governance-website/commit/09a55c3c3e83d307402015212604dcaab829c2ae', 'message': 'Mention project teams at governance level\n\nThe governance website describes SIGs at the top-level. It makes\nsense to also mention Project teams at that level, even if those\ndo not have a specific website about them.\n\nChange-Id: I6ced983f8297802a749d40088574a58470e5fc99\n'}]",0,744489,09a55c3c3e83d307402015212604dcaab829c2ae,13,6,1,308,,,0,"Mention project teams at governance level

The governance website describes SIGs at the top-level. It makes
sense to also mention Project teams at that level, even if those
do not have a specific website about them.

Change-Id: I6ced983f8297802a749d40088574a58470e5fc99
",git fetch https://review.opendev.org/openstack/governance-website refs/changes/89/744489/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,09a55c3c3e83d307402015212604dcaab829c2ae,tc-uc-merge,"Project Teams ------------- The `Project Teams <https://governance.openstack.org/tc/reference/projects/index.html>`_ are working groups that are directly responsible for the production of OpenStack software releases, either through the development and maintenance of specific components, or by running common development functions like QA or Release Management. Find more information about `Project Teams <https://governance.openstack.org/tc/reference/projects/index.html>`_. Find more information about community-organized Project Team leads and Technical Committee `elections <https://governance.openstack.org/election/>`_.",Find more information about community-organized PTL and Technical Committee `elections <https://governance.openstack.org/election/>`_.,12,2
openstack%2Fgovernance-website~master~Iac28c5f23dcae60a27653f50197461b22cbfecc9,openstack/governance-website,master,Iac28c5f23dcae60a27653f50197461b22cbfecc9,Merge UC and TC,MERGED,2020-08-03 14:28:17.000000000,2020-08-11 14:55:24.000000000,2020-08-11 14:53:45.000000000,"[{'_account_id': 1004}, {'_account_id': 2033}, {'_account_id': 5263}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 14:28:17.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/governance-website/commit/d861a0b17d14389a7f2347714eeee855f216ed59', 'message': 'Merge UC and TC\n\nSince the UC is no longer operating as a separate entity, stop\nlinking to a specific UC website. Mention the UC in the header\ninstead.\n\nChange-Id: Iac28c5f23dcae60a27653f50197461b22cbfecc9\n'}]",0,744488,d861a0b17d14389a7f2347714eeee855f216ed59,13,7,1,308,,,0,"Merge UC and TC

Since the UC is no longer operating as a separate entity, stop
linking to a specific UC website. Mention the UC in the header
instead.

Change-Id: Iac28c5f23dcae60a27653f50197461b22cbfecc9
",git fetch https://review.opendev.org/openstack/governance-website refs/changes/88/744488/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,d861a0b17d14389a7f2347714eeee855f216ed59,tc-uc-merge,"The OpenStack project is governed by two separate governance bodies, formally defined in the `OpenStack Foundation bylaws`_. The bylaws define a third body, the User Committee, which was previously run distinctly from the Technical Committee, but those effectively `merged <https://governance.openstack.org/tc/reference/user-committee-charter.html>`_ into a single elected governance body in August, 2020.The `OpenStack Technical Committee <https://governance.openstack.org/tc/>`_ is the governing body of the OpenStack open source project. It is directly elected by all the contributors to the project, and has oversight on all technical matters. This includes developers, operators and end users of the software. Find more information about the `Technical Committee <http://governance.openstack.org/tc/>`_, including its charter, current membership, reference documents and past resolutions.are working groups that are not directly responsible for the production of a specific piece of OpenStack software. SIGs activities center around a topic or practice that spans all the community (developers, operators, end users...), by forming a guild of people with a shared interest. Find more information about `SIGs <https://governance.openstack.org/sigs/>`_.","The OpenStack project is governed by three separate governance bodies, formally defined in the `OpenStack Foundation bylaws`_.The `OpenStack Technical Committee <https://governance.openstack.org/tc/>`_ has oversight over technical matters in the OpenStack open source project. Its membership is directly elected by the contributors to the upstream project. Find more information about the `Technical Committee <http://governance.openstack.org/tc/>`_, including its charter, current membership, reference documents and past resolutions. User Committee -------------- The `OpenStack User Committee <https://governance.openstack.org/uc/>`_ represents the downstream users of the OpenStack software. Its membership is directly elected by users involved in the OpenStack community. Find more information about the `User Committee <https://governance.openstack.org/uc/>`_.are a form of working group in OpenStack that is not directly tied to a specific governance body. SIGs activities center around a topic or practice that spans all the community (developers, operators, end users...), by forming a guild of people with a shared interest. Find more information about `SIGs <https://governance.openstack.org/sigs/>`_.",19,22
openstack%2Ftripleo-heat-templates~master~Iedd149c123d807dee229160f8e9f1b17bf379368,openstack/tripleo-heat-templates,master,Iedd149c123d807dee229160f8e9f1b17bf379368,Switch host sshd configuration to ansible,MERGED,2020-07-24 19:01:53.000000000,2020-08-11 14:49:32.000000000,2020-08-11 11:31:57.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-24 19:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ab24b66fc3f01ecf2fa87b5524b4d30d3dfaccc', 'message': 'Switch host sshd configuration to ansible\n\nThis change updates the baremetal host sshd management to use ansible\ninstead of puppet. It should still be noted that the nova-migration\ncontainer still uses puppet to manage sshd.\n\nChange-Id: Iedd149c123d807dee229160f8e9f1b17bf379368\nDepends-On: https://review.opendev.org/#/c/742970/\n'}, {'number': 2, 'created': '2020-07-24 20:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8fd79d7a62f4e5b7adcbde9963ae01615c56b632', 'message': 'Switch host sshd configuration to ansible\n\nThis change updates the baremetal host sshd management to use ansible\ninstead of puppet. It should still be noted that the nova-migration\ncontainer still uses puppet to manage sshd.\n\nChange-Id: Iedd149c123d807dee229160f8e9f1b17bf379368\nDepends-On: https://review.opendev.org/#/c/742970/\n'}, {'number': 3, 'created': '2020-07-27 08:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6df6db5e4bafd7a9bf5dd0fa9acc2c71ae23eacc', 'message': 'Switch host sshd configuration to ansible\n\nThis change updates the baremetal host sshd management to use ansible\ninstead of puppet. It should still be noted that the nova-migration\ncontainer still uses puppet to manage sshd.\n\nChange-Id: Iedd149c123d807dee229160f8e9f1b17bf379368\nDepends-On: https://review.opendev.org/#/c/742970/\n'}, {'number': 4, 'created': '2020-08-10 12:41:57.000000000', 'files': ['sample-env-generator/standalone.yaml', 'sample-env-generator/undercloud-minion.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/sshd/sshd-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b5dad0cf1062f1016270ff343074a5ab9c5507be', 'message': 'Switch host sshd configuration to ansible\n\nThis change updates the baremetal host sshd management to use ansible\ninstead of puppet. It should still be noted that the nova-migration\ncontainer still uses puppet to manage sshd.\n\nChange-Id: Iedd149c123d807dee229160f8e9f1b17bf379368\nDepends-On: https://review.opendev.org/#/c/742970/\n'}]",0,742975,b5dad0cf1062f1016270ff343074a5ab9c5507be,37,7,4,14985,,,0,"Switch host sshd configuration to ansible

This change updates the baremetal host sshd management to use ansible
instead of puppet. It should still be noted that the nova-migration
container still uses puppet to manage sshd.

Change-Id: Iedd149c123d807dee229160f8e9f1b17bf379368
Depends-On: https://review.opendev.org/#/c/742970/
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/742975/1 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/standalone.yaml', 'sample-env-generator/undercloud-minion.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/sshd/sshd-baremetal-ansible.yaml']",4,7ab24b66fc3f01ecf2fa87b5524b4d30d3dfaccc,sshd-ansible,"heat_template_version: rocky description: > Configure sshd_config parameters: ServiceData: default: {} description: Dictionary packing service data type: json ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. This mapping overrides those in ServiceNetMapDefaults. type: json DefaultPasswords: default: {} type: json RoleName: default: '' description: Role name on which the service is applied type: string RoleParameters: default: {} description: Parameters specific to the role type: json EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json BannerText: default: '' description: Configures Banner text in sshd_config type: string MessageOfTheDay: default: '' description: Configures /etc/motd text type: string SshServerOptions: default: HostKey: - '/etc/ssh/ssh_host_rsa_key' - '/etc/ssh/ssh_host_ecdsa_key' - '/etc/ssh/ssh_host_ed25519_key' SyslogFacility: 'AUTHPRIV' AuthorizedKeysFile: '.ssh/authorized_keys' ChallengeResponseAuthentication: 'no' GSSAPIAuthentication: 'yes' GSSAPICleanupCredentials: 'no' UsePAM: 'yes' UseDNS: 'no' X11Forwarding: 'yes' AcceptEnv: - 'LANG LC_CTYPE LC_NUMERIC LC_TIME LC_COLLATE LC_MONETARY LC_MESSAGES' - 'LC_PAPER LC_NAME LC_ADDRESS LC_TELEPHONE LC_MEASUREMENT' - 'LC_IDENTIFICATION LC_ALL LANGUAGE' - 'XMODIFIERS' Subsystem: 'sftp /usr/libexec/openssh/sftp-server' description: Mapping of sshd_config values type: json PasswordAuthentication: default: 'no' description: Whether or not disable password authentication type: string SshFirewallAllowAll: default: false description: Set this to true to open up ssh access from all sources. type: boolean conditions: ssh_firewall_allow_all: {equals: [{get_param: SshFirewallAllowAll}, true]} ssh_banner_text_empty: {equals: [{get_param: BannerText}, '']} ssh_motd_text_empty: {equals: [{get_param: MessageOfTheDay}, '']} outputs: role_data: description: Role data for the ssh value: service_name: sshd firewall_rules: '003 accept ssh from all': proto: 'tcp' dport: 22 extras: ensure: {if: [ssh_firewall_allow_all, 'present', 'absent']} host_prep_config: - include_role: name: tripleo_ssh vars: tripleo_sshd_server_options: {get_param: SshServerOptions} tripleo_sshd_password_authentication: {get_param: PasswordAuthenticatio} tripleo_sshd_banner_enabled: if: - sshd_banner_text_empty - true - false tripleo_sshd_banner_text: {get_param: BannerText} tripleo_sshd_motd_enabled: if: - sshd_motd_text_empty - true - false tripleo_sshd_message_of_the_day: {get_param: MessageOfTheDay} ",,108,3
openstack%2Fpython-barbicanclient~stable%2Fussuri~Ibce326044c240d6c4e7f1ca3c3ac50a18282a86d,openstack/python-barbicanclient,stable/ussuri,Ibce326044c240d6c4e7f1ca3c3ac50a18282a86d,Zuul: port to native v3 job,MERGED,2020-07-31 12:27:30.000000000,2020-08-11 14:35:27.000000000,2020-08-11 14:31:12.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-07-31 12:27:30.000000000', 'files': ['playbooks/python-barbicanclient-dsvm/run.yaml', 'functionaltests/run_tests.sh', 'playbooks/python-barbicanclient-dsvm/post.yaml', '.zuul.yaml', 'functionaltests/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/22c4d9b8d25498943f519d1ecddd4dfdfe33f489', 'message': 'Zuul: port to native v3 job\n\nPort the functional job to the native Zuul v3 format,\nand remove a few old wrapper scripts which are not needed\nanymore (the tests can be run locally through `tox -efunctional`\nas well).\n\nThe original commit did also change the unit test job\nto fit that branch, but it is not needed here.\n\nCo-Authored-By: Luigi Toscano <ltoscano@redhat.com>\nChange-Id: Ibce326044c240d6c4e7f1ca3c3ac50a18282a86d\n(cherry picked from commit 1f0feb30ccd3b19bc23453d85d3266c85fcf04d6)\n'}]",0,744147,22c4d9b8d25498943f519d1ecddd4dfdfe33f489,8,3,1,10459,,,0,"Zuul: port to native v3 job

Port the functional job to the native Zuul v3 format,
and remove a few old wrapper scripts which are not needed
anymore (the tests can be run locally through `tox -efunctional`
as well).

The original commit did also change the unit test job
to fit that branch, but it is not needed here.

Co-Authored-By: Luigi Toscano <ltoscano@redhat.com>
Change-Id: Ibce326044c240d6c4e7f1ca3c3ac50a18282a86d
(cherry picked from commit 1f0feb30ccd3b19bc23453d85d3266c85fcf04d6)
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/47/744147/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/python-barbicanclient-dsvm/run.yaml', 'functionaltests/run_tests.sh', 'playbooks/python-barbicanclient-dsvm/post.yaml', '.zuul.yaml', 'functionaltests/post_test_hook.sh']",5,22c4d9b8d25498943f519d1ecddd4dfdfe33f489,,,"#!/bin/bash # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # This script is executed inside post_test_hook function in devstack gate. # Install packages from test-requirements.txt sudo pip install -r /opt/stack/new/python-barbicanclient/test-requirements.txt # Make sure we're running the trunk client before we run the tests sudo pip install -U /opt/stack/new/python-barbicanclient cd /opt/stack/new/python-barbicanclient/functionaltests sudo ./run_tests.sh ",7,130
openstack%2Fopenstacksdk~master~I6ef2beaef947a59efbc8674ff71023cd69ce9246,openstack/openstacksdk,master,I6ef2beaef947a59efbc8674ff71023cd69ce9246,Update config to Keystone v3,MERGED,2020-08-11 08:56:34.000000000,2020-08-11 14:33:28.000000000,2020-08-11 14:29:51.000000000,"[{'_account_id': 2}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-11 08:56:34.000000000', 'files': ['doc/source/user/config/vendor-support.rst', 'openstack/config/vendors/switchengines.json'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5ee8a2b4efa8d9df2ed4f02e0da60e1b1f47c4d6', 'message': 'Update config to Keystone v3\n\nChange-Id: I6ef2beaef947a59efbc8674ff71023cd69ce9246\nImplements: Update cloud config for SWITCHengines\nTask: 40644\nStory: 2008000\n'}]",0,745640,5ee8a2b4efa8d9df2ed4f02e0da60e1b1f47c4d6,9,3,1,7654,,,0,"Update config to Keystone v3

Change-Id: I6ef2beaef947a59efbc8674ff71023cd69ce9246
Implements: Update cloud config for SWITCHengines
Task: 40644
Story: 2008000
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/40/745640/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/config/vendor-support.rst', 'openstack/config/vendors/switchengines.json']",2,5ee8a2b4efa8d9df2ed4f02e0da60e1b1f47c4d6,task/40644," ""auth_url"": ""https://keystone.cloud.switch.ch:5000/v3"" ""identity_api_version"": ""3"","," ""auth_url"": ""https://keystone.cloud.switch.ch:5000/v2.0"" ""block_storage_api_version"": ""1"", ""image_api_use_tasks"": true,",3,4
openstack%2Ftripleo-ansible~master~I084c7e933a024b76f4d6fa6ac000c58b6b3c7acf,openstack/tripleo-ansible,master,I084c7e933a024b76f4d6fa6ac000c58b6b3c7acf,Switch podman actions to use label,MERGED,2020-07-31 15:33:13.000000000,2020-08-11 14:10:20.000000000,2020-08-10 15:48:56.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-31 15:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7076eba34aa398fd92c416d80b671388ce4ea52c', 'message': ""Switch podman actions to use label\n\nWe don't have to use no_log if we use label to prevent all the info from\nbeing outputed during execution.\n\nChange-Id: I084c7e933a024b76f4d6fa6ac000c58b6b3c7acf\n""}, {'number': 2, 'created': '2020-07-31 16:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fde1ae8d3e475053ff605a6724f37a35d9751688', 'message': ""Switch podman actions to use label\n\nWe don't have to use no_log if we use label to prevent all the info from\nbeing outputed during execution.\n\nChange-Id: I084c7e933a024b76f4d6fa6ac000c58b6b3c7acf\n""}, {'number': 3, 'created': '2020-07-31 16:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b948d7ca0bcb26166bafcc41a1693b66e65ffffe', 'message': ""Switch podman actions to use label\n\nWe don't have to use no_log if we use label to prevent all the info from\nbeing outputed during execution.\n\nChange-Id: I084c7e933a024b76f4d6fa6ac000c58b6b3c7acf\n""}, {'number': 4, 'created': '2020-07-31 18:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aab4f8872449d591b4605a064ef3b19dc8d8aa85', 'message': ""Switch podman actions to use label\n\nWe don't have to use no_log if we use label to prevent all the info from\nbeing outputed during execution.\n\nChange-Id: I084c7e933a024b76f4d6fa6ac000c58b6b3c7acf\n""}, {'number': 5, 'created': '2020-07-31 18:43:13.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/exec.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5c880c0f61ed297d1fc91c5d2a3c5121fa212377', 'message': ""Switch podman actions to use label\n\nWe don't have to use no_log if we use label to prevent all the info from\nbeing outputed during execution.\n\nChange-Id: I084c7e933a024b76f4d6fa6ac000c58b6b3c7acf\n""}]",0,744202,5c880c0f61ed297d1fc91c5d2a3c5121fa212377,18,5,5,14985,,,0,"Switch podman actions to use label

We don't have to use no_log if we use label to prevent all the info from
being outputed during execution.

Change-Id: I084c7e933a024b76f4d6fa6ac000c58b6b3c7acf
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/02/744202/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/exec.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml']",2,7076eba34aa398fd92c416d80b671388ce4ea52c,use-label," label: ""{{ lookup('dict', container_data).key }}"" label: lookup('dict', create_async_result_item.container_data).key"," no_log: ""{{ tripleo_container_manage_hide_sensitive_logs | bool }}"" no_log: ""{{ not (tripleo_container_manage_debug | bool) }}""",4,4
openstack%2Fcharm-barbican-vault~master~I90c2a984500e6552217ef222196503ebef193728,openstack/charm-barbican-vault,master,I90c2a984500e6552217ef222196503ebef193728,Add Victoria test bundles,MERGED,2020-07-15 08:09:13.000000000,2020-08-11 13:50:57.000000000,2020-08-11 13:50:57.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-15 08:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/09804f2ee9983fbd0f14240963cfe9ba93718010', 'message': 'Add Victoria test bundles\n\nChange-Id: I90c2a984500e6552217ef222196503ebef193728\n'}, {'number': 2, 'created': '2020-07-27 09:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/6e6f566ed4af13b333221bc727e2e7a3fcabea30', 'message': 'Add Victoria test bundles\n\nChange-Id: I90c2a984500e6552217ef222196503ebef193728\n'}, {'number': 3, 'created': '2020-08-06 10:14:27.000000000', 'files': ['src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/9dfa29ec4d69f7b2098385acc9bc891b7832565c', 'message': 'Add Victoria test bundles\n\nChange-Id: I90c2a984500e6552217ef222196503ebef193728\n'}]",0,741106,9dfa29ec4d69f7b2098385acc9bc891b7832565c,14,4,3,31289,,,0,"Add Victoria test bundles

Change-Id: I90c2a984500e6552217ef222196503ebef193728
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/06/741106/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml']",3,09804f2ee9983fbd0f14240963cfe9ba93718010,victoria-charm-tests,dev_bundles: - focal-victoria - groovy-victoria - groovy-victoria, - focal-ussuri,220,1
openstack%2Fcharm-cinder-backup-swift-proxy~master~I63a7f44ff3d630e184ffb254202026d7c9c51347,openstack/charm-cinder-backup-swift-proxy,master,I63a7f44ff3d630e184ffb254202026d7c9c51347,Release sync for 20.08,MERGED,2020-07-27 19:51:12.000000000,2020-08-11 13:43:16.000000000,2020-08-11 13:43:16.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-27 19:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup-swift-proxy/commit/64f3bd7c2041d70105c20142a07ddc9f50299091', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: I63a7f44ff3d630e184ffb254202026d7c9c51347\n'}, {'number': 2, 'created': '2020-08-07 13:29:02.000000000', 'files': ['rebuild', 'src/files/.gitkeep', 'test-requirements.txt', 'src/tox.ini', 'src/tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup-swift-proxy/commit/8ffd5a407196cd99590018700ab7d7de3b94ad9b', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n- Disable focal-ussuri-swift-v3 test due to os-brick bug and\n  ceph-octopus\n\nRelated-Bug: #1890821\n\nChange-Id: I63a7f44ff3d630e184ffb254202026d7c9c51347\n'}]",0,743345,8ffd5a407196cd99590018700ab7d7de3b94ad9b,21,6,2,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt
- Disable focal-ussuri-swift-v3 test due to os-brick bug and
  ceph-octopus

Related-Bug: #1890821

Change-Id: I63a7f44ff3d630e184ffb254202026d7c9c51347
",git fetch https://review.opendev.org/openstack/charm-cinder-backup-swift-proxy refs/changes/45/743345/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'src/files/.gitkeep', 'test-requirements.txt', 'src/tox.ini', 'tox.ini']",5,64f3bd7c2041d70105c20142a07ddc9f50299091,batch-2008-release-sync,"[testenv:py38] basepython = python3.8 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ignore = E402,W504 ","ignore = E402,W504",38,12
openstack%2Fcharm-mysql-router~master~I9116a6340a302127969d5ba21b9edb66672e1960,openstack/charm-mysql-router,master,I9116a6340a302127969d5ba21b9edb66672e1960,Rebuild for layer-basic changes,MERGED,2020-08-10 21:42:15.000000000,2020-08-11 13:40:57.000000000,2020-08-11 13:40:57.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-10 21:42:15.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/389679b8bbfea02fb071a9f76580225013b33964', 'message': 'Rebuild for layer-basic changes\n\nThe current version of the charm is missing changes to layer-basic:\nhttps://github.com/juju-solutions/layer-basic/pull/184/files\n\nChange-Id: I9116a6340a302127969d5ba21b9edb66672e1960\nCloses-Bug: #1891082\n'}]",0,745592,389679b8bbfea02fb071a9f76580225013b33964,10,5,1,20805,,,0,"Rebuild for layer-basic changes

The current version of the charm is missing changes to layer-basic:
https://github.com/juju-solutions/layer-basic/pull/184/files

Change-Id: I9116a6340a302127969d5ba21b9edb66672e1960
Closes-Bug: #1891082
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/92/745592/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,389679b8bbfea02fb071a9f76580225013b33964,bug/1891082,082222c6-db52-11ea-a8da-033c6bdc9c87,d9db618c-d02c-11ea-8870-cf4b22eeb82f,1,1
openstack%2Ftripleo-ansible~master~I2ea2b77bcf1be66a57cfb22463b81189ef2802f1,openstack/tripleo-ansible,master,I2ea2b77bcf1be66a57cfb22463b81189ef2802f1,Use label rather than no_log,MERGED,2020-07-31 15:21:14.000000000,2020-08-11 13:25:06.000000000,2020-08-10 15:48:55.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-31 15:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/de2b7aea09c99b1b3633f147cba4a50ec1ddd692', 'message': 'Use label rather than no_log\n\nWe can prevent having to hide sensitive data while being able to provide\na more descriptive output for what task is being executed by using the\nlabel loop_control attribute.\n\nhttps://docs.ansible.com/ansible/latest/user_guide/playbooks_loops.html#limiting-loop-output-with-label\n\nChange-Id: I2ea2b77bcf1be66a57cfb22463b81189ef2802f1\n'}, {'number': 2, 'created': '2020-07-31 15:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8825e34b1068a9a3d9a35ac3e979d4489684c922', 'message': 'Use label rather than no_log\n\nWe can prevent having to hide sensitive data while being able to provide\na more descriptive output for what task is being executed by using the\nlabel loop_control attribute.\n\nhttps://docs.ansible.com/ansible/latest/user_guide/playbooks_loops.html#limiting-loop-output-with-label\n\nChange-Id: I2ea2b77bcf1be66a57cfb22463b81189ef2802f1\n'}, {'number': 3, 'created': '2020-07-31 16:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d5f1cd8abf0c0a876ac29a528941009e76da9c11', 'message': 'Use label rather than no_log\n\nWe can prevent having to hide sensitive data while being able to provide\na more descriptive output for what task is being executed by using the\nlabel loop_control attribute.\n\nhttps://docs.ansible.com/ansible/latest/user_guide/playbooks_loops.html#limiting-loop-output-with-label\n\nChange-Id: I2ea2b77bcf1be66a57cfb22463b81189ef2802f1\n'}, {'number': 4, 'created': '2020-07-31 16:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e3ea5ed4bb78ec3ed4940a3a58e8b0bcf48307f1', 'message': 'Use label rather than no_log\n\nWe can prevent having to hide sensitive data while being able to provide\na more descriptive output for what task is being executed by using the\nlabel loop_control attribute.\n\nhttps://docs.ansible.com/ansible/latest/user_guide/playbooks_loops.html#limiting-loop-output-with-label\n\nChange-Id: I2ea2b77bcf1be66a57cfb22463b81189ef2802f1\n'}, {'number': 5, 'created': '2020-07-31 18:43:13.000000000', 'files': ['tripleo_ansible/roles/tripleo_keystone_resources/tasks/roles.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/endpoints.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/user_per_role.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/projects.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/domains.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/services.yml', 'tripleo_ansible/roles/tripleo_clients_install/tasks/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/users.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1920faf816df2a001d7325306c8da94ece5216e1', 'message': 'Use label rather than no_log\n\nWe can prevent having to hide sensitive data while being able to provide\na more descriptive output for what task is being executed by using the\nlabel loop_control attribute.\n\nhttps://docs.ansible.com/ansible/latest/user_guide/playbooks_loops.html#limiting-loop-output-with-label\n\nChange-Id: I2ea2b77bcf1be66a57cfb22463b81189ef2802f1\n'}]",1,744200,1920faf816df2a001d7325306c8da94ece5216e1,21,5,5,14985,,,0,"Use label rather than no_log

We can prevent having to hide sensitive data while being able to provide
a more descriptive output for what task is being executed by using the
label loop_control attribute.

https://docs.ansible.com/ansible/latest/user_guide/playbooks_loops.html#limiting-loop-output-with-label

Change-Id: I2ea2b77bcf1be66a57cfb22463b81189ef2802f1
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/00/744200/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_keystone_resources/tasks/roles.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/endpoints.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/user_per_role.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/projects.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/domains.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/services.yml', 'tripleo_ansible/roles/tripleo_clients_install/tasks/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/users.yml']",9,de2b7aea09c99b1b3633f147cba4a50ec1ddd692,use-label," label: ""{{ lookup('dict', tripleo_keystone_resources_data).value.name | default(lookup('dict', tripleo_keystone_resources_data).key) }}"" label: ""{{ lookup('dict', tripleo_keystone_resources_user_async_result_item.tripleo_keystone_resources_data).key }}"""," no_log: ""{{ tripleo_keystone_resources_hide_sensitive_logs | bool }}"" no_log: ""{{ not (tripleo_keystone_resources_debug | bool) }}""",27,14
openstack%2Fcharm-keystone-kerberos~master~I70bca7bf187cb01d07db57be7afdfbad946825df,openstack/charm-keystone-kerberos,master,I70bca7bf187cb01d07db57be7afdfbad946825df,Trivial improvements,MERGED,2020-08-11 07:46:04.000000000,2020-08-11 13:15:50.000000000,2020-08-11 13:15:50.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-11 07:46:04.000000000', 'files': ['README.md', 'src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/22eb8345557e98ad8ccb296f0c844d02e8c5beeb', 'message': 'Trivial improvements\n\nChange-Id: I70bca7bf187cb01d07db57be7afdfbad946825df\n'}]",1,745632,22eb8345557e98ad8ccb296f0c844d02e8c5beeb,7,3,1,31289,,,0,"Trivial improvements

Change-Id: I70bca7bf187cb01d07db57be7afdfbad946825df
",git fetch https://review.opendev.org/openstack/charm-keystone-kerberos refs/changes/32/745632/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.md', 'src/layer.yaml']",2,22eb8345557e98ad8ccb296f0c844d02e8c5beeb,trivial,repo: https://github.com/openstack/charm-keystone-kerberos.git,repo: https://github.com/camille-rodriguez/keystone-kerberos.git,2,1
openstack%2Fglance~master~I0b71a7df04cd330749f35b07f96a120b49b412c7,openstack/glance,master,I0b71a7df04cd330749f35b07f96a120b49b412c7,Add image_delete_property_atomic() helper,MERGED,2020-07-28 17:08:12.000000000,2020-08-11 13:13:10.000000000,2020-08-11 13:10:36.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 17:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f2cece8fe2a786018bc6dbbb1b824b4f1c9cb9e5', 'message': 'Add image_delete_property_atomic() helper\n\nThis adds a new DB API method to atomically delete a property on an image\nin a way that we can be sure that it is deleted one and only once, and\nwithout affecting the rest of the image. This can be used in conjunction\nwith image_set_property_atomic() to create and delete properties for locking\nwithout the risk of clobbering other image data in the process.\n\nChange-Id: I0b71a7df04cd330749f35b07f96a120b49b412c7\n'}, {'number': 2, 'created': '2020-07-29 20:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2dd5a3d5af6666e940d8e828963b485bb7131fc2', 'message': 'Add image_delete_property_atomic() helper\n\nThis adds a new DB API method to atomically delete a property on an image\nin a way that we can be sure that it is deleted one and only once, and\nwithout affecting the rest of the image. This can be used in conjunction\nwith image_set_property_atomic() to create and delete properties for locking\nwithout the risk of clobbering other image data in the process.\n\nChange-Id: I0b71a7df04cd330749f35b07f96a120b49b412c7\n'}, {'number': 3, 'created': '2020-07-30 13:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a0d2b1bacd69540d4635323625bd1a0915172bf1', 'message': 'Add image_delete_property_atomic() helper\n\nThis adds a new DB API method to atomically delete a property on an image\nin a way that we can be sure that it is deleted one and only once, and\nwithout affecting the rest of the image. This can be used in conjunction\nwith image_set_property_atomic() to create and delete properties for locking\nwithout the risk of clobbering other image data in the process.\n\nChange-Id: I0b71a7df04cd330749f35b07f96a120b49b412c7\n'}, {'number': 4, 'created': '2020-07-30 13:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c0c2d5f2e8a3720e25c91a93adc41a8c7d51ae78', 'message': 'Add image_delete_property_atomic() helper\n\nThis adds a new DB API method to atomically delete a property on an image\nin a way that we can be sure that it is deleted one and only once, and\nwithout affecting the rest of the image. This can be used in conjunction\nwith image_set_property_atomic() to create and delete properties for locking\nwithout the risk of clobbering other image data in the process.\n\nChange-Id: I0b71a7df04cd330749f35b07f96a120b49b412c7\n'}, {'number': 5, 'created': '2020-07-31 00:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3418c235b332d032229c481ccf1a1e186ef3ecc4', 'message': 'Add image_delete_property_atomic() helper\n\nThis adds a new DB API method to atomically delete a property on an image\nin a way that we can be sure that it is deleted one and only once, and\nwithout affecting the rest of the image. This can be used in conjunction\nwith image_set_property_atomic() to create and delete properties for locking\nwithout the risk of clobbering other image data in the process.\n\nChange-Id: I0b71a7df04cd330749f35b07f96a120b49b412c7\n'}, {'number': 6, 'created': '2020-08-06 17:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/02f905aecfd6adef47d5b63c7860c2aecd6d478c', 'message': 'Add image_delete_property_atomic() helper\n\nThis adds a new DB API method to atomically delete a property on an image\nin a way that we can be sure that it is deleted one and only once, and\nwithout affecting the rest of the image. This can be used in conjunction\nwith image_set_property_atomic() to create and delete properties for locking\nwithout the risk of clobbering other image data in the process.\n\nChange-Id: I0b71a7df04cd330749f35b07f96a120b49b412c7\n'}, {'number': 7, 'created': '2020-08-07 19:31:31.000000000', 'files': ['glance/tests/unit/test_db.py', 'glance/db/simple/api.py', 'glance/db/__init__.py', 'glance/db/sqlalchemy/api.py', 'glance/tests/unit/test_domain_proxy.py', 'glance/domain/proxy.py', 'glance/tests/functional/db/test_sqlalchemy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/b093ae3514dea32a8829239e0297e3e170efff58', 'message': 'Add image_delete_property_atomic() helper\n\nThis adds a new DB API method to atomically delete a property on an image\nin a way that we can be sure that it is deleted one and only once, and\nwithout affecting the rest of the image. This can be used in conjunction\nwith image_set_property_atomic() to create and delete properties for locking\nwithout the risk of clobbering other image data in the process.\n\nChange-Id: I0b71a7df04cd330749f35b07f96a120b49b412c7\n'}]",0,743596,b093ae3514dea32a8829239e0297e3e170efff58,46,6,7,4393,,,0,"Add image_delete_property_atomic() helper

This adds a new DB API method to atomically delete a property on an image
in a way that we can be sure that it is deleted one and only once, and
without affecting the rest of the image. This can be used in conjunction
with image_set_property_atomic() to create and delete properties for locking
without the risk of clobbering other image data in the process.

Change-Id: I0b71a7df04cd330749f35b07f96a120b49b412c7
",git fetch https://review.opendev.org/openstack/glance refs/changes/96/743596/4 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_db.py', 'glance/db/simple/api.py', 'glance/db/__init__.py', 'glance/db/sqlalchemy/api.py', 'glance/tests/unit/test_domain_proxy.py', 'glance/domain/proxy.py', 'glance/tests/functional/db/test_sqlalchemy.py']",7,f2cece8fe2a786018bc6dbbb1b824b4f1c9cb9e5,task-heartbeat,"class TestImageAtomicOps(base.TestDriver, base.FunctionalInitWrapper): super(TestImageAtomicOps, self).setUp() def test_delete(self): """"""Try to double-delete a property atomically. This should ensure that a second attempt fails. """""" self.db_api.image_delete_property_atomic(self.image['id'], 'speed', '88mph') self.assertRaises(exception.NotFound, self.db_api.image_delete_property_atomic, self.image['id'], 'speed', '88mph') def test_delete_create_delete(self): """"""Try to delete, re-create, and then re-delete property."""""" self.db_api.image_delete_property_atomic(self.image['id'], 'speed', '88mph') self.db_api.image_update(self.adm_context, self.image['id'], {'properties': {'speed': '89mph'}}, purge_props=True) # We should no longer be able to delete the property by the *old* # value self.assertRaises(exception.NotFound, self.db_api.image_delete_property_atomic, self.image['id'], 'speed', '88mph') # Only the new value should result in proper deletion self.db_api.image_delete_property_atomic(self.image['id'], 'speed', '89mph')","class TestImageAtomicUpdate(base.TestDriver, base.FunctionalInitWrapper): super(TestImageAtomicUpdate, self).setUp()",119,3
openstack%2Fopenstack-ansible-os_nova~stable%2Fussuri~I3f284e6d32f4aa614f311d3e4e754830be2f11a6,openstack/openstack-ansible-os_nova,stable/ussuri,I3f284e6d32f4aa614f311d3e4e754830be2f11a6,Avoid rebuilding the venv with every run,MERGED,2020-07-27 11:08:00.000000000,2020-08-11 13:03:41.000000000,2020-08-11 13:02:06.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 30660}]","[{'number': 1, 'created': '2020-07-27 11:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/c09a7aafe76ad25ea1e599edd25847007c734b6f', 'message': ""Avoid rebuilding the venv with every run\n\nUntil now the necessary pip packages differ between nova-api and\ncompute hosts, when novnc is used, because 'websockify' was only\nadded to nova-api containers. As a result, the venv is rebuilt twice\nfor each run. With this change 'websockify' is always added to\nthe needed pip packages.\n\nChange-Id: I3f284e6d32f4aa614f311d3e4e754830be2f11a6\n(cherry picked from commit 40bf388734a15d348100417d66bdc3de8fcd799d)\n""}, {'number': 2, 'created': '2020-08-06 19:39:26.000000000', 'files': ['vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/7d46cb48d9f64ee4951553e7dd62e6ee37e70aea', 'message': ""Avoid rebuilding the venv with every run\n\nUntil now the necessary pip packages differ between nova-api and\ncompute hosts, when novnc is used, because 'websockify' was only\nadded to nova-api containers. As a result, the venv is rebuilt twice\nfor each run. With this change 'websockify' is always added to\nthe needed pip packages.\n\nChange-Id: I3f284e6d32f4aa614f311d3e4e754830be2f11a6\n(cherry picked from commit 40bf388734a15d348100417d66bdc3de8fcd799d)\n""}]",0,743194,7d46cb48d9f64ee4951553e7dd62e6ee37e70aea,12,3,2,25023,,,0,"Avoid rebuilding the venv with every run

Until now the necessary pip packages differ between nova-api and
compute hosts, when novnc is used, because 'websockify' was only
added to nova-api containers. As a result, the venv is rebuilt twice
for each run. With this change 'websockify' is always added to
the needed pip packages.

Change-Id: I3f284e6d32f4aa614f311d3e4e754830be2f11a6
(cherry picked from commit 40bf388734a15d348100417d66bdc3de8fcd799d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/94/743194/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/main.yml'],1,c09a7aafe76ad25ea1e599edd25847007c734b6f,avoid-rebuilding-venv-with-each-run-stable/ussuri, {%- if (nova_console_type == 'novnc') %}, {%- if (nova_services['nova-novncproxy']['group'] in group_names) and (nova_console_type == 'novnc') %},1,2
openstack%2Fwhitebox-tempest-plugin~master~I587b8cdcebef738bfa7b23267c54ccb90e4bc569,openstack/whitebox-tempest-plugin,master,I587b8cdcebef738bfa7b23267c54ccb90e4bc569,New [whitebox-hardware]/cpu_topology option,MERGED,2020-05-28 14:48:13.000000000,2020-08-11 13:00:00.000000000,2020-08-11 13:00:00.000000000,"[{'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 31033}]","[{'number': 1, 'created': '2020-05-28 14:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/7dfeb52a1de49c432db9d60aee585247caa5fe6e', 'message': 'New [whitebox-hardware]/cpu_topology option\n\nThis patch introduces a new config that describes the CPU topology of\nthe compute host(s) in the test environment. No existing tests are\nrefactored (yet), but the plan is to get rid of automagic\nintrospection and replace it with declarative config, like the rest of\nTempest does.\n\nChange-Id: I587b8cdcebef738bfa7b23267c54ccb90e4bc569\n'}, {'number': 2, 'created': '2020-05-28 15:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/4baf3130e75395011b12b97b65cc90dd85d01b78', 'message': 'New [whitebox-hardware]/cpu_topology option\n\nThis patch introduces a new config option that describes the CPU\ntopology of the compute host(s) in the test environment. No existing\ntests are refactored (yet), but the plan is to get rid of automagic\nintrospection and replace it with declarative config, like the rest of\nTempest does. To that end, a couple of helpers are included in the new\nhardware module.\n\nChange-Id: I587b8cdcebef738bfa7b23267c54ccb90e4bc569\n'}, {'number': 3, 'created': '2020-05-28 20:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/9d36d8da76ab0cece6a81f61601c30c42251d6f1', 'message': 'New [whitebox-hardware]/cpu_topology option\n\nThis patch introduces a new config option that describes the CPU\ntopology of the compute host(s) in the test environment. No existing\ntests are refactored (yet), but the plan is to get rid of automagic\nintrospection and replace it with declarative config, like the rest of\nTempest does. To that end, a couple of helpers are included in the new\nhardware module.\n\nChange-Id: I587b8cdcebef738bfa7b23267c54ccb90e4bc569\n'}, {'number': 4, 'created': '2020-06-25 15:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/6b8cf2d47713e251bb6b3a527887be58f619da6b', 'message': 'New [whitebox-hardware]/cpu_topology option\n\nThis patch introduces a new config option that describes the CPU\ntopology of the compute host(s) in the test environment. No existing\ntests are refactored (yet), but the plan is to get rid of automagic\nintrospection and replace it with declarative config, like the rest of\nTempest does. To that end, a couple of helpers are included in the new\nhardware module.\n\nChange-Id: I587b8cdcebef738bfa7b23267c54ccb90e4bc569\n'}, {'number': 5, 'created': '2020-06-25 17:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/26fe23988880cef2814a0e93f4659f5f4727fa19', 'message': 'New [whitebox-hardware]/cpu_topology option\n\nThis patch introduces a new config option that describes the CPU\ntopology of the compute host(s) in the test environment. No existing\ntests are refactored (yet), but the plan is to get rid of automagic\nintrospection and replace it with declarative config, like the rest of\nTempest does. To that end, a couple of helpers are included in the new\nhardware module.\n\nChange-Id: I587b8cdcebef738bfa7b23267c54ccb90e4bc569\n'}, {'number': 6, 'created': '2020-06-25 18:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/fa54cde5f7ef71b9fef66c9b6103dd11a4bc271f', 'message': 'New [whitebox-hardware]/cpu_topology option\n\nThis patch introduces a new config option that describes the CPU\ntopology of the compute host(s) in the test environment. No existing\ntests are refactored (yet), but the plan is to get rid of automagic\nintrospection and replace it with declarative config, like the rest of\nTempest does. To that end, a couple of helpers are included in the new\nhardware module.\n\nChange-Id: I587b8cdcebef738bfa7b23267c54ccb90e4bc569\n'}, {'number': 7, 'created': '2020-06-25 19:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/5155177e9f651a78bf0e38d339bdb68974cfcccf', 'message': 'New [whitebox-hardware]/cpu_topology option\n\nThis patch introduces a new config option that describes the CPU\ntopology of the compute host(s) in the test environment. No existing\ntests are refactored (yet), but the plan is to get rid of automagic\nintrospection and replace it with declarative config, like the rest of\nTempest does. To that end, a couple of helpers are included in the new\nhardware module.\n\nChange-Id: I587b8cdcebef738bfa7b23267c54ccb90e4bc569\n'}, {'number': 8, 'created': '2020-06-26 14:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/5ecc7af04a8cf5b396870074ec83cc7613dd6e5b', 'message': 'New [whitebox-hardware]/cpu_topology option\n\nThis patch introduces a new config option that describes the CPU\ntopology of the compute host(s) in the test environment. No existing\ntests are refactored (yet), but the plan is to get rid of automagic\nintrospection and replace it with declarative config, like the rest of\nTempest does. To that end, a couple of helpers are included in the new\nhardware module.\n\nChange-Id: I587b8cdcebef738bfa7b23267c54ccb90e4bc569\n'}, {'number': 9, 'created': '2020-08-10 16:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/91fe65dcf1b9a571db30ae59488337eceb69702b', 'message': 'New [whitebox-hardware]/cpu_topology option\n\nThis patch introduces a new config option that describes the CPU\ntopology of the compute host(s) in the test environment. No existing\ntests are refactored (yet), but the plan is to get rid of automagic\nintrospection and replace it with declarative config, like the rest of\nTempest does. To that end, a couple of helpers are included in the new\nhardware module.\n\nChange-Id: I587b8cdcebef738bfa7b23267c54ccb90e4bc569\n'}, {'number': 10, 'created': '2020-08-10 21:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/53f0c9a6338d4fc0cc87149a8bd2dc606488f3a6', 'message': 'New [whitebox-hardware]/cpu_topology option\n\nThis patch introduces a new config option that describes the CPU\ntopology of the compute host(s) in the test environment. No existing\ntests are refactored (yet), but the plan is to get rid of automagic\nintrospection and replace it with declarative config, like the rest of\nTempest does. To that end, a couple of helpers are included in the new\nhardware module.\n\nChange-Id: I587b8cdcebef738bfa7b23267c54ccb90e4bc569\n'}, {'number': 11, 'created': '2020-08-10 22:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/f1492b85f6db9164ef3224707213ba026e7ac21e', 'message': 'New [whitebox-hardware]/cpu_topology option\n\nThis patch introduces a new config option that describes the CPU\ntopology of the compute host(s) in the test environment. No existing\ntests are refactored (yet), but the plan is to get rid of automagic\nintrospection and replace it with declarative config, like the rest of\nTempest does. To that end, a couple of helpers are included in the new\nhardware module.\n\nChange-Id: I587b8cdcebef738bfa7b23267c54ccb90e4bc569\n'}, {'number': 12, 'created': '2020-08-11 00:00:21.000000000', 'files': ['.zuul.yaml', 'devstack/plugin.sh', 'whitebox_tempest_plugin/config.py', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/97713d8bf73a33faea3a2f629b44764773e8656c', 'message': 'New [whitebox-hardware]/cpu_topology option\n\nThis patch introduces a new config option that describes the CPU\ntopology of the compute host(s) in the test environment. No existing\ntests are refactored (yet), but the plan is to get rid of automagic\nintrospection and replace it with declarative config, like the rest of\nTempest does. To that end, a couple of helpers are included in the new\nhardware module.\n\nChange-Id: I587b8cdcebef738bfa7b23267c54ccb90e4bc569\n'}]",27,731557,97713d8bf73a33faea3a2f629b44764773e8656c,60,4,12,8864,,,0,"New [whitebox-hardware]/cpu_topology option

This patch introduces a new config option that describes the CPU
topology of the compute host(s) in the test environment. No existing
tests are refactored (yet), but the plan is to get rid of automagic
introspection and replace it with declarative config, like the rest of
Tempest does. To that end, a couple of helpers are included in the new
hardware module.

Change-Id: I587b8cdcebef738bfa7b23267c54ccb90e4bc569
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/57/731557/12 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'whitebox_tempest_plugin/config.py']",2,7dfeb52a1de49c432db9d60aee585247caa5fe6e,new-cpu-topology-opt," cfg.DictOpt( 'cpu_topology', help='Host CPU topology, as a dictionary of <NUMA node ID>:' '<List of CPUs in that node>. Due to limitations in config ' 'file parsing, the list is a string of CPU IDs with no extra ' 'characters. For example, if NUMA node 0 has CPUs 0 and 1, ' 'and NUMA node 1 has CPUs 2 and 3, the value to set would be ' '0:01,1:23.')",,10,0
openstack%2Fkuryr-tempest-plugin~master~I0c8247566422686f3ce2727c8347ef8b621dad70,openstack/kuryr-tempest-plugin,master,I0c8247566422686f3ce2727c8347ef8b621dad70,DNM: Set kubeconfig path,ABANDONED,2020-08-10 23:10:53.000000000,2020-08-11 12:55:22.000000000,,"[{'_account_id': 4727}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-10 23:10:53.000000000', 'files': ['kuryr_tempest_plugin/tests/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/c9edf4916b3c6f07007fb99e35204ee6a0f60ac6', 'message': 'DNM: Set kubeconfig path\n\nLoad kubeconfig from specfic path.\n\nChange-Id: I0c8247566422686f3ce2727c8347ef8b621dad70\n'}]",1,745601,c9edf4916b3c6f07007fb99e35204ee6a0f60ac6,4,2,1,27032,,,0,"DNM: Set kubeconfig path

Load kubeconfig from specfic path.

Change-Id: I0c8247566422686f3ce2727c8347ef8b621dad70
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/01/745601/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/base.py'],1,c9edf4916b3c6f07007fb99e35204ee6a0f60ac6,set-kubeconfig-path, kubernetes.config.load_kube_config( config_file='~/.kube/config'), kubernetes.config.load_kube_config(),2,1
openstack%2Fneutron-tempest-plugin~master~Ie27657cd1310c3e190530b4efd166edcb854d83a,openstack/neutron-tempest-plugin,master,Ie27657cd1310c3e190530b4efd166edcb854d83a,Remove dvr-multinode-scenario-queens job from the check queue,MERGED,2020-08-03 09:44:51.000000000,2020-08-11 12:54:09.000000000,2020-08-11 12:54:09.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 09:44:51.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e8d6bde36eb9f9dcb0931b5fe2fabd973dab4f39', 'message': 'Remove dvr-multinode-scenario-queens job from the check queue\n\nAs non-voting and not yet stable job it was moved to experimental queue\nsome time ago. But by mistake it was also left in the check queue in\nQueens template.\nThis patch fixes that by removing this job from the check queue in\nthe template for Queens.\n\nChange-Id: Ie27657cd1310c3e190530b4efd166edcb854d83a\n'}]",0,744433,e8d6bde36eb9f9dcb0931b5fe2fabd973dab4f39,7,6,1,11975,,,0,"Remove dvr-multinode-scenario-queens job from the check queue

As non-voting and not yet stable job it was moved to experimental queue
some time ago. But by mistake it was also left in the check queue in
Queens template.
This patch fixes that by removing this job from the check queue in
the template for Queens.

Change-Id: Ie27657cd1310c3e190530b4efd166edcb854d83a
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/33/744433/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,e8d6bde36eb9f9dcb0931b5fe2fabd973dab4f39,fix-queens-template,, - neutron-tempest-plugin-dvr-multinode-scenario-queens,0,1
openstack%2Foctavia~master~I72674a73767917df75d0576ded4e2aab56c9b074,openstack/octavia,master,I72674a73767917df75d0576ded4e2aab56c9b074,Correct a typo in the document,MERGED,2020-08-10 01:04:12.000000000,2020-08-11 12:44:43.000000000,2020-08-11 12:42:25.000000000,"[{'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-08-10 01:04:12.000000000', 'files': ['doc/source/user/guides/basic-cookbook.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/81f06616c91fad2f0d0e92806a9dadf90870cd09', 'message': 'Correct a typo in the document\n\nChange-Id: I72674a73767917df75d0576ded4e2aab56c9b074\n'}]",0,745471,81f06616c91fad2f0d0e92806a9dadf90870cd09,9,3,1,32163,,,0,"Correct a typo in the document

Change-Id: I72674a73767917df75d0576ded4e2aab56c9b074
",git fetch https://review.opendev.org/openstack/octavia refs/changes/71/745471/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/guides/basic-cookbook.rst'],1,81f06616c91fad2f0d0e92806a9dadf90870cd09,,This example will demonstrate how to enable TLS encryption from the load,This example will demostrate how to enable TLS encryption from the load,1,1
openstack%2Foslo-cookiecutter~master~I3ca46982ad336e5ca4241bf08b9349e602fe363b,openstack/oslo-cookiecutter,master,I3ca46982ad336e5ca4241bf08b9349e602fe363b,Fix warning in conf.py file.,MERGED,2020-07-31 10:04:33.000000000,2020-08-11 12:33:59.000000000,2020-08-11 12:33:59.000000000,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-31 10:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/c0f6215419a09d3d3ec5e2ad32acd960dfa84e91', 'message': 'Fix warning in conf.py file.\n\nThe variables repo_name, bug_project and bug_tag is deprecated.\n\nChange-Id: I3ca46982ad336e5ca4241bf08b9349e602fe363b\n'}, {'number': 2, 'created': '2020-08-11 09:59:11.000000000', 'files': ['oslo.{{cookiecutter.module_name}}/releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/6c17b40f5ccfa784a49d2030d33f6e956fe924de', 'message': 'Fix warning in conf.py file.\n\nThe variables repo_name, bug_project and bug_tag is deprecated.\n\nChange-Id: I3ca46982ad336e5ca4241bf08b9349e602fe363b\n'}]",0,744111,6c17b40f5ccfa784a49d2030d33f6e956fe924de,11,4,2,31245,,,0,"Fix warning in conf.py file.

The variables repo_name, bug_project and bug_tag is deprecated.

Change-Id: I3ca46982ad336e5ca4241bf08b9349e602fe363b
",git fetch https://review.opendev.org/openstack/oslo-cookiecutter refs/changes/11/744111/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo.{{cookiecutter.module_name}}/releasenotes/source/conf.py'],1,c0f6215419a09d3d3ec5e2ad32acd960dfa84e91,fix_warning,openstackdocs_repo_name = 'openstack/oslo.{{cookiecutter.module_name}}' openstackdocs_bug_project = 'oslo.{{cookiecutter.module_name}}' openstackdocs_bug_tag = '',repository_name = 'openstack/oslo.{{cookiecutter.module_name}}' bug_project = 'oslo.{{cookiecutter.module_name}}' bug_tag = '',3,3
openstack%2Fopenstack-ansible-os_gnocchi~stable%2Fussuri~I8cb2503a66e4b419ffbe2337d3e86ba68a2f574f,openstack/openstack-ansible-os_gnocchi,stable/ussuri,I8cb2503a66e4b419ffbe2337d3e86ba68a2f574f,Cleanup ansible_python_interpreter,MERGED,2020-07-27 17:54:45.000000000,2020-08-11 12:30:35.000000000,2020-08-11 12:29:23.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-27 17:54:45.000000000', 'files': ['tests/test-gnocchi-functional.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/2c4837d6f9d81239a796056b3ed34f59fd71b9ef', 'message': ""Cleanup ansible_python_interpreter\n\nansible_pyhton_interpreter is set to auto, it's not needed anywhere now.\n\nChange-Id: I8cb2503a66e4b419ffbe2337d3e86ba68a2f574f\n(cherry picked from commit 95d02e709ade6ebedc38e125214b4bab64473d02)\n""}]",0,743293,2c4837d6f9d81239a796056b3ed34f59fd71b9ef,12,4,1,25023,,,0,"Cleanup ansible_python_interpreter

ansible_pyhton_interpreter is set to auto, it's not needed anywhere now.

Change-Id: I8cb2503a66e4b419ffbe2337d3e86ba68a2f574f
(cherry picked from commit 95d02e709ade6ebedc38e125214b4bab64473d02)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/93/743293/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test-gnocchi-functional.yml'],1,2c4837d6f9d81239a796056b3ed34f59fd71b9ef,cleanup-interpreter-stable/ussuri,," vars: ansible_python_interpreter: ""{{ ansible_playbook_python }}""",0,2
openstack%2Fironic~stable%2Fqueens~I8e759168f1dc81cdcf430f3e33be990731595ec3,openstack/ironic,stable/queens,I8e759168f1dc81cdcf430f3e33be990731595ec3,Remove locks before RPC bus is started,MERGED,2020-07-29 17:40:21.000000000,2020-08-11 12:10:56.000000000,2020-08-11 12:08:49.000000000,"[{'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-29 17:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9b066825d4371c90caa0a0a71b7cb85411c21ca9', 'message': ""Remove locks before RPC bus is started\n\nA partner performing some testing recognized a case where if a request\nis sent to the Ironic Conductor while it is in the process of starting,\nand the request makes it into be processed, yet latter the operation\nfails with errors such as NodeNotLocked exception. Notably they were\nable to reproduce this by requesting the attachment or detachment of\na VIF at the same time as restarting the conductor.\n\nIn part, this condition is due to to the conductor being restarted\nwhere the conductors table includes the node being restarted and\nthe webserver has not possibly had a chance to observe that the\nconductor is in the process of restarting as the hash ring is\nstill valid.\n\nIn short - Incoming RPC requests can come in during the initialization\nwindow and as such we should not remove locks while the conductor could\npossibly already be receiving work.\n\nAs such, we've added a ``prepare_host`` method which initializes\nthe conductor database connection and removes the stale locks.\nUnder normal operating conditions, the database client is reused.\n\nrhbz# 1847305\n\nChange-Id: I8e759168f1dc81cdcf430f3e33be990731595ec3\n(cherry picked from commit b8e4aba1ec06885c9b377d5ad659a13fea41049d)\n(cherry picked from commit a54376cef0e8dd32c670fb359a5f7bd525c2c92e)\n(cherry picked from commit 17aba79ecfaabc40cc0ee85c73883244cf985256)\n""}, {'number': 2, 'created': '2020-08-04 18:45:39.000000000', 'files': ['ironic/common/rpc_service.py', 'ironic/tests/unit/conductor/test_base_manager.py', 'ironic/tests/unit/conductor/mgr_utils.py', 'ironic/conductor/base_manager.py', 'ironic/tests/unit/common/test_rpc_service.py', 'releasenotes/notes/remove-locks-first-d12ac27106f800f8.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5a429ce8888c882189b36214bcfba2bfd72a6d3b', 'message': ""Remove locks before RPC bus is started\n\nA partner performing some testing recognized a case where if a request\nis sent to the Ironic Conductor while it is in the process of starting,\nand the request makes it into be processed, yet latter the operation\nfails with errors such as NodeNotLocked exception. Notably they were\nable to reproduce this by requesting the attachment or detachment of\na VIF at the same time as restarting the conductor.\n\nIn part, this condition is due to to the conductor being restarted\nwhere the conductors table includes the node being restarted and\nthe webserver has not possibly had a chance to observe that the\nconductor is in the process of restarting as the hash ring is\nstill valid.\n\nIn short - Incoming RPC requests can come in during the initialization\nwindow and as such we should not remove locks while the conductor could\npossibly already be receiving work.\n\nAs such, we've added a ``prepare_host`` method which initializes\nthe conductor database connection and removes the stale locks.\nUnder normal operating conditions, the database client is reused.\n\nrhbz# 1847305\n\nChange-Id: I8e759168f1dc81cdcf430f3e33be990731595ec3\n(cherry picked from commit b8e4aba1ec06885c9b377d5ad659a13fea41049d)\n(cherry picked from commit a54376cef0e8dd32c670fb359a5f7bd525c2c92e)\n(cherry picked from commit 5b7ca45ae59d5656870a1a04c34d3774c5bc290d)\n(cherry picked from commit 47955272842c088e79d326f6282c16883b984fab)\n""}]",5,743812,5a429ce8888c882189b36214bcfba2bfd72a6d3b,16,5,2,11655,,,0,"Remove locks before RPC bus is started

A partner performing some testing recognized a case where if a request
is sent to the Ironic Conductor while it is in the process of starting,
and the request makes it into be processed, yet latter the operation
fails with errors such as NodeNotLocked exception. Notably they were
able to reproduce this by requesting the attachment or detachment of
a VIF at the same time as restarting the conductor.

In part, this condition is due to to the conductor being restarted
where the conductors table includes the node being restarted and
the webserver has not possibly had a chance to observe that the
conductor is in the process of restarting as the hash ring is
still valid.

In short - Incoming RPC requests can come in during the initialization
window and as such we should not remove locks while the conductor could
possibly already be receiving work.

As such, we've added a ``prepare_host`` method which initializes
the conductor database connection and removes the stale locks.
Under normal operating conditions, the database client is reused.

rhbz# 1847305

Change-Id: I8e759168f1dc81cdcf430f3e33be990731595ec3
(cherry picked from commit b8e4aba1ec06885c9b377d5ad659a13fea41049d)
(cherry picked from commit a54376cef0e8dd32c670fb359a5f7bd525c2c92e)
(cherry picked from commit 5b7ca45ae59d5656870a1a04c34d3774c5bc290d)
(cherry picked from commit 47955272842c088e79d326f6282c16883b984fab)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/12/743812/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/rpc_service.py', 'ironic/tests/unit/conductor/test_base_manager.py', 'ironic/tests/unit/conductor/mgr_utils.py', 'ironic/conductor/base_manager.py', 'ironic/tests/unit/common/test_rpc_service.py', 'releasenotes/notes/remove-locks-first-d12ac27106f800f8.yaml']",6,9b066825d4371c90caa0a0a71b7cb85411c21ca9,rocky-backport-stable/queens,--- fixes: - | Fixes an issue where ``ironic-conductor`` initialization could return a ``NodeNotLocked`` error for requests requiring locks when the conductor was starting. This was due to the conductor removing locks after beginning accepting new work. The lock removal has been moved to after the Database connectivity has been established but before the RPC bus is initialized. ,,87,6
openstack%2Fironic~stable%2Fstein~I8e759168f1dc81cdcf430f3e33be990731595ec3,openstack/ironic,stable/stein,I8e759168f1dc81cdcf430f3e33be990731595ec3,Remove locks before RPC bus is started,MERGED,2020-07-29 17:37:38.000000000,2020-08-11 12:10:43.000000000,2020-08-11 12:08:47.000000000,"[{'_account_id': 7160}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 31616}]","[{'number': 1, 'created': '2020-07-29 17:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/17aba79ecfaabc40cc0ee85c73883244cf985256', 'message': ""Remove locks before RPC bus is started\n\nA partner performing some testing recognized a case where if a request\nis sent to the Ironic Conductor while it is in the process of starting,\nand the request makes it into be processed, yet latter the operation\nfails with errors such as NodeNotLocked exception. Notably they were\nable to reproduce this by requesting the attachment or detachment of\na VIF at the same time as restarting the conductor.\n\nIn part, this condition is due to to the conductor being restarted\nwhere the conductors table includes the node being restarted and\nthe webserver has not possibly had a chance to observe that the\nconductor is in the process of restarting as the hash ring is\nstill valid.\n\nIn short - Incoming RPC requests can come in during the initialization\nwindow and as such we should not remove locks while the conductor could\npossibly already be receiving work.\n\nAs such, we've added a ``prepare_host`` method which initializes\nthe conductor database connection and removes the stale locks.\nUnder normal operating conditions, the database client is reused.\n\nrhbz# 1847305\n\nChange-Id: I8e759168f1dc81cdcf430f3e33be990731595ec3\n(cherry picked from commit b8e4aba1ec06885c9b377d5ad659a13fea41049d)\n(cherry picked from commit a54376cef0e8dd32c670fb359a5f7bd525c2c92e)\n""}, {'number': 2, 'created': '2020-08-04 18:38:45.000000000', 'files': ['ironic/common/rpc_service.py', 'ironic/tests/unit/conductor/test_base_manager.py', 'ironic/tests/unit/conductor/mgr_utils.py', 'ironic/conductor/base_manager.py', 'ironic/tests/unit/common/test_rpc_service.py', 'releasenotes/notes/remove-locks-first-d12ac27106f800f8.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5b7ca45ae59d5656870a1a04c34d3774c5bc290d', 'message': ""Remove locks before RPC bus is started\n\nA partner performing some testing recognized a case where if a request\nis sent to the Ironic Conductor while it is in the process of starting,\nand the request makes it into be processed, yet latter the operation\nfails with errors such as NodeNotLocked exception. Notably they were\nable to reproduce this by requesting the attachment or detachment of\na VIF at the same time as restarting the conductor.\n\nIn part, this condition is due to to the conductor being restarted\nwhere the conductors table includes the node being restarted and\nthe webserver has not possibly had a chance to observe that the\nconductor is in the process of restarting as the hash ring is\nstill valid.\n\nIn short - Incoming RPC requests can come in during the initialization\nwindow and as such we should not remove locks while the conductor could\npossibly already be receiving work.\n\nAs such, we've added a ``prepare_host`` method which initializes\nthe conductor database connection and removes the stale locks.\nUnder normal operating conditions, the database client is reused.\n\nrhbz# 1847305\n\nChange-Id: I8e759168f1dc81cdcf430f3e33be990731595ec3\n(cherry picked from commit b8e4aba1ec06885c9b377d5ad659a13fea41049d)\n(cherry picked from commit a54376cef0e8dd32c670fb359a5f7bd525c2c92e)\n""}]",5,743810,5b7ca45ae59d5656870a1a04c34d3774c5bc290d,19,8,2,11655,,,0,"Remove locks before RPC bus is started

A partner performing some testing recognized a case where if a request
is sent to the Ironic Conductor while it is in the process of starting,
and the request makes it into be processed, yet latter the operation
fails with errors such as NodeNotLocked exception. Notably they were
able to reproduce this by requesting the attachment or detachment of
a VIF at the same time as restarting the conductor.

In part, this condition is due to to the conductor being restarted
where the conductors table includes the node being restarted and
the webserver has not possibly had a chance to observe that the
conductor is in the process of restarting as the hash ring is
still valid.

In short - Incoming RPC requests can come in during the initialization
window and as such we should not remove locks while the conductor could
possibly already be receiving work.

As such, we've added a ``prepare_host`` method which initializes
the conductor database connection and removes the stale locks.
Under normal operating conditions, the database client is reused.

rhbz# 1847305

Change-Id: I8e759168f1dc81cdcf430f3e33be990731595ec3
(cherry picked from commit b8e4aba1ec06885c9b377d5ad659a13fea41049d)
(cherry picked from commit a54376cef0e8dd32c670fb359a5f7bd525c2c92e)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/10/743810/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/rpc_service.py', 'ironic/tests/unit/conductor/test_base_manager.py', 'ironic/tests/unit/conductor/mgr_utils.py', 'ironic/conductor/base_manager.py', 'ironic/tests/unit/common/test_rpc_service.py', 'releasenotes/notes/remove-locks-first-d12ac27106f800f8.yaml']",6,17aba79ecfaabc40cc0ee85c73883244cf985256,stein-backport,--- fixes: - | Fixes an issue where ``ironic-conductor`` initialization could return a ``NodeNotLocked`` error for requests requiring locks when the conductor was starting. This was due to the conductor removing locks after beginning accepting new work. The lock removal has been moved to after the Database connectivity has been established but before the RPC bus is initialized. ,,88,6
openstack%2Fkolla-ansible~master~Ifbd37d8addd4322773118e2e9d46494741a8ae66,openstack/kolla-ansible,master,Ifbd37d8addd4322773118e2e9d46494741a8ae66,[CI] Temporarily block new Ansible,ABANDONED,2020-08-11 10:55:22.000000000,2020-08-11 11:57:00.000000000,,"[{'_account_id': 14826}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-11 10:55:22.000000000', 'files': ['tests/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7ec5f7b0dbf14d861dc6f59ccf2500657de39ed1', 'message': '[CI] Temporarily block new Ansible\n\nThe proper fix [1] needs fixing older branches before newer.\nThis one allows to fix CI first, in the usual order.\n\nTo revert after [1] gets merged in all relevant branches.\n\n[1] https://review.opendev.org/745648\n\nChange-Id: Ifbd37d8addd4322773118e2e9d46494741a8ae66\nRelated-Bug: #1891145\n'}]",0,745652,7ec5f7b0dbf14d861dc6f59ccf2500657de39ed1,7,4,1,30491,,,0,"[CI] Temporarily block new Ansible

The proper fix [1] needs fixing older branches before newer.
This one allows to fix CI first, in the usual order.

To revert after [1] gets merged in all relevant branches.

[1] https://review.opendev.org/745648

Change-Id: Ifbd37d8addd4322773118e2e9d46494741a8ae66
Related-Bug: #1891145
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/745652/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/run.yml'],1,7ec5f7b0dbf14d861dc6f59ccf2500657de39ed1,ci-pin-ansible," ansible_version_constraint: ""{{ '==2.9.*,!=2.9.8,!=2.9.12' if base_distro == 'ubuntu' else '==2.8.*,!=2.8.14' }}"""," ansible_version_constraint: ""{{ '==2.9.*,!=2.9.8' if base_distro == 'ubuntu' else '==2.8.*' }}""",1,1
openstack%2Fkuryr-tempest-plugin~master~Ia28cf8b9c27560f4672a3bc46fd8a12eae790a51,openstack/kuryr-tempest-plugin,master,Ia28cf8b9c27560f4672a3bc46fd8a12eae790a51,Remove skip of test_service_udp_ping,MERGED,2020-08-03 09:44:05.000000000,2020-08-11 11:19:39.000000000,2020-08-11 11:18:05.000000000,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 21302}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-08-03 09:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/0049dee445d3ee44ee81ee2c2d4bb5a741f68d0c', 'message': 'Remove skip of test_service_udp_ping because\n\nIt as skipped because of 1886909 which should be fixed\n\nChange-Id: Ia28cf8b9c27560f4672a3bc46fd8a12eae790a51\n'}, {'number': 2, 'created': '2020-08-03 12:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/fd28f3959e7abfd18640f937cab4adcf80938017', 'message': 'Remove skip of test_service_udp_ping because\n\nIt was skipped because of 1886909 which should be fixed\n\nChange-Id: Ia28cf8b9c27560f4672a3bc46fd8a12eae790a51\n'}, {'number': 3, 'created': '2020-08-05 14:58:19.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_service.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/2fe1791ff2e6283c7f8d92e10fcaffa104457a95', 'message': 'Remove skip of test_service_udp_ping\n\nIt was skipped because of 1886909 which should be fixed\n\nDepends-On: https://review.opendev.org/#/c/742384/\nChange-Id: Ia28cf8b9c27560f4672a3bc46fd8a12eae790a51\n'}]",0,744432,2fe1791ff2e6283c7f8d92e10fcaffa104457a95,34,6,3,4727,,,0,"Remove skip of test_service_udp_ping

It was skipped because of 1886909 which should be fixed

Depends-On: https://review.opendev.org/#/c/742384/
Change-Id: Ia28cf8b9c27560f4672a3bc46fd8a12eae790a51
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/32/744432/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/test_service.py'],1,0049dee445d3ee44ee81ee2c2d4bb5a741f68d0c,,," @decorators.skip_because(bug=""1886909"")",0,1
openstack%2Ftrove~master~I640cd8b50fd0e0f80a1a45399b8bfdac437ae2b9,openstack/trove,master,I640cd8b50fd0e0f80a1a45399b8bfdac437ae2b9,Support to update instance access,MERGED,2020-08-10 22:08:37.000000000,2020-08-11 11:06:24.000000000,2020-08-11 11:04:26.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-10 22:08:37.000000000', 'files': ['trove/instance/models.py', 'trove/taskmanager/manager.py', 'trove/common/apischema.py', 'releasenotes/notes/victoria-show-update-instance-access.yaml', 'trove/instance/service.py', 'trove/common/neutron.py', 'api-ref/source/samples/instance-update-access-request.json', 'trove/taskmanager/api.py', 'trove/instance/tasks.py', 'trove/taskmanager/models.py', 'api-ref/source/instances.inc', 'trove/tests/unittests/instance/test_instance_controller.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/4de40cb5144cfd8cdc4b270f23acfdbd3eafa5be', 'message': 'Support to update instance access\n\nChange-Id: I640cd8b50fd0e0f80a1a45399b8bfdac437ae2b9\n'}]",0,745597,4de40cb5144cfd8cdc4b270f23acfdbd3eafa5be,7,2,1,6732,,,0,"Support to update instance access

Change-Id: I640cd8b50fd0e0f80a1a45399b8bfdac437ae2b9
",git fetch https://review.opendev.org/openstack/trove refs/changes/97/745597/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/instance/models.py', 'trove/taskmanager/manager.py', 'trove/common/apischema.py', 'releasenotes/notes/victoria-show-update-instance-access.yaml', 'trove/instance/service.py', 'trove/common/neutron.py', 'api-ref/source/samples/instance-update-access-request.json', 'trove/taskmanager/api.py', 'trove/instance/tasks.py', 'trove/taskmanager/models.py', 'api-ref/source/instances.inc', 'trove/tests/unittests/instance/test_instance_controller.py']",12,4de40cb5144cfd8cdc4b270f23acfdbd3eafa5be,update-access, instance.update_access = Mock() def test_modify_instance_with_access(self): args['access'] = {'is_public': True} instance.update_access.assert_called_once_with({'is_public': True})," def test_modify_instance_with_nonempty_args_calls_update_db(self): instance = self._setup_modify_instance_mocks() args = {} args['any'] = 'anything' self.controller._modify_instance(self.context, self.req, instance, **args) instance.update_db.assert_called_once_with(**args) def test_modify_instance_with_all_args(self): args['detach_replica'] = True args['configuration_id'] = 'some_id' self.assertEqual(1, instance.detach_replica.call_count) self.assertEqual(1, instance.attach_configuration.call_count) instance.update_db.assert_called_once_with(**args)",247,36
openstack%2Ftrove~master~I8c0a7827624ea432edc765ba14e1f6a7228509c3,openstack/trove,master,I8c0a7827624ea432edc765ba14e1f6a7228509c3,Show instance access information,MERGED,2020-08-10 22:08:37.000000000,2020-08-11 11:01:09.000000000,2020-08-11 10:59:46.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-10 22:08:37.000000000', 'files': ['trove/instance/views.py', 'trove/instance/models.py', 'trove/db/sqlalchemy/migrate_repo/schema.py', 'trove/db/sqlalchemy/migrate_repo/versions/046_add_access_to_instance.py', 'trove/instance/service.py', 'api-ref/source/instances.inc'], 'web_link': 'https://opendev.org/openstack/trove/commit/680a43002bfaba4a334736af052995373cecd349', 'message': 'Show instance access information\n\nChange-Id: I8c0a7827624ea432edc765ba14e1f6a7228509c3\n'}]",0,745596,680a43002bfaba4a334736af052995373cecd349,7,2,1,6732,,,0,"Show instance access information

Change-Id: I8c0a7827624ea432edc765ba14e1f6a7228509c3
",git fetch https://review.opendev.org/openstack/trove refs/changes/96/745596/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/instance/views.py', 'trove/instance/models.py', 'trove/db/sqlalchemy/migrate_repo/schema.py', 'api-ref/source/instances.inc', 'trove/db/sqlalchemy/migrate_repo/versions/046_add_access_to_instance.py', 'trove/instance/service.py']",6,680a43002bfaba4a334736af052995373cecd349,update-access," instance = models.load_instance_with_info(models.DetailInstance, context, id) self.authorize_instance_action(context, 'show', instance) views.InstanceDetailView(instance, req=req).data(), 200"," server = models.load_instance_with_info(models.DetailInstance, context, id) self.authorize_instance_action(context, 'show', server) views.InstanceDetailView(server, req=req).data(), 200",54,7
openstack%2Fironic~master~Iee18e476c0125b80583567f71ccd6c6be29aa36a,openstack/ironic,master,Iee18e476c0125b80583567f71ccd6c6be29aa36a,Use property plus abstractmethod for abstractproperty,MERGED,2020-08-05 16:28:33.000000000,2020-08-11 10:49:24.000000000,2020-08-11 10:40:13.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-08-05 16:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2d232feea316222a7a37970a36347c14d29e342a', 'message': 'Use property plus abstractmethod for abstractproperty\n\nThe abstractproperty method is deprecated since Python 3.3 [1]\n\n[1] https://docs.python.org/3/library/abc.html#abc.abstractproperty\n\nChange-Id: Iee18e476c0125b80583567f71ccd6c6be29aa36a\n'}, {'number': 2, 'created': '2020-08-06 09:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0aa1c3052f194577c27c1afedb2eb2b9f36deb11', 'message': 'Use property plus abstractmethod for abstractproperty\n\nThe abstractproperty method is deprecated since Python 3.3 [1]\n\n[1] https://docs.python.org/3/library/abc.html#abc.abstractproperty\n\nChange-Id: Iee18e476c0125b80583567f71ccd6c6be29aa36a\n'}, {'number': 3, 'created': '2020-08-06 09:34:29.000000000', 'files': ['ironic/drivers/modules/snmp.py', 'ironic/drivers/hardware_type.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/00a23de3aef65947a3a308baa592e40b95259352', 'message': 'Use property plus abstractmethod for abstractproperty\n\nThe abstractproperty method is deprecated since Python 3.3 [1]\n\n[1] https://docs.python.org/3/library/abc.html#abc.abstractproperty\n\nChange-Id: Iee18e476c0125b80583567f71ccd6c6be29aa36a\n'}]",0,744945,00a23de3aef65947a3a308baa592e40b95259352,22,8,3,23851,,,0,"Use property plus abstractmethod for abstractproperty

The abstractproperty method is deprecated since Python 3.3 [1]

[1] https://docs.python.org/3/library/abc.html#abc.abstractproperty

Change-Id: Iee18e476c0125b80583567f71ccd6c6be29aa36a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/45/744945/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/snmp.py', 'ironic/drivers/hardware_type.py']",2,2d232feea316222a7a37970a36347c14d29e342a,abstractmethod, @property @abc.abstractmethod @property @abc.abstractmethod @property @abc.abstractmethod @property @abc.abstractmethod, @abc.abstractproperty @abc.abstractproperty @abc.abstractproperty @abc.abstractproperty,14,7
openstack%2Fironic-lib~master~Iceed710dc24bdb41164d8edc9d32cd2d4f92203b,openstack/ironic-lib,master,Iceed710dc24bdb41164d8edc9d32cd2d4f92203b,Update ironic-lib jobs,NEW,2020-07-15 07:56:36.000000000,2020-08-11 10:26:04.000000000,,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-15 07:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/8cc11653c899f34c7714119765bc51aadc825460', 'message': ""Update ironic-lib jobs\n\nThis patch increases the number of VM's to 2, since basic_ops\ntests two different scenarios.\n\nRemoving `partition` and `wholedisk` from job names since\nthey cover both scenarios (also remove duplicated jobs)\n\nChange-Id: Iceed710dc24bdb41164d8edc9d32cd2d4f92203b\n""}, {'number': 2, 'created': '2020-07-15 08:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/04f8ec5bffa5280b4ab7f449d757b5c75500da3d', 'message': ""Update ironic-lib jobs\n\nThis patch increases the number of VM's to 2, since basic_ops\ntests two different scenarios.\n\nRemoving `partition` and `wholedisk` from job names since\nthey cover both scenarios (also remove duplicated jobs)\n\nChange-Id: Iceed710dc24bdb41164d8edc9d32cd2d4f92203b\n""}, {'number': 3, 'created': '2020-07-16 13:04:12.000000000', 'files': ['zuul.d/ironic-lib-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/54e51f21664bb4d875b95d9ee6c8743584c3a12c', 'message': ""Update ironic-lib jobs\n\nThis patch increases the number of VM's to 2, since basic_ops\ntests two different scenarios.\n\nRemoving `partition` and `wholedisk` from job names since\nthey cover both scenarios (also remove duplicated jobs)\n\nDepends-On: https://review.opendev.org/741445\nChange-Id: Iceed710dc24bdb41164d8edc9d32cd2d4f92203b\n""}]",0,741105,54e51f21664bb4d875b95d9ee6c8743584c3a12c,35,6,3,15519,,,0,"Update ironic-lib jobs

This patch increases the number of VM's to 2, since basic_ops
tests two different scenarios.

Removing `partition` and `wholedisk` from job names since
they cover both scenarios (also remove duplicated jobs)

Depends-On: https://review.opendev.org/741445
Change-Id: Iceed710dc24bdb41164d8edc9d32cd2d4f92203b
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/05/741105/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-lib-jobs.yaml', 'zuul.d/project.yaml']",2,8cc11653c899f34c7714119765bc51aadc825460,update_jobs, - ironic-lib-bios-ipmi-direct-src - ironic-lib-bios-ipmi-iscsi-src - ironic-lib-bios-ipmi-direct-src - ironic-lib-bios-ipmi-iscsi-src, - ironic-lib-wholedisk-bios-ipmi-direct-src - ironic-lib-partition-bios-ipmi-direct-src - ironic-lib-partition-bios-ipmi-iscsi-src - ironic-lib-wholedisk-bios-ipmi-iscsi-src - ironic-lib-wholedisk-bios-ipmi-direct-src - ironic-lib-partition-bios-ipmi-direct-src - ironic-lib-partition-bios-ipmi-iscsi-src - ironic-lib-wholedisk-bios-ipmi-iscsi-src,7,36
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ieab6f2c5c8c7d15fe514855078611a4cfba42f23,openstack/tripleo-heat-templates,stable/train,Ieab6f2c5c8c7d15fe514855078611a4cfba42f23,[Train-only] Ensure arch-facilities is not present in cpu_map.xml,ABANDONED,2020-08-07 12:17:22.000000000,2020-08-11 10:20:19.000000000,,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-07 12:17:22.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/53c6582e51606fd364243b492a2d5ff01a810737', 'message': ""[Train-only] Ensure arch-facilities is not present in cpu_map.xml\n\nThere is issue only on RHEL and only happening in hybrid state\nof compute during FFWD. We can't livemigrate unless we apply\nworkaround for libvirt issue with arch-facilities vs\narch-capabilities cpu capability name.\n\nFixes: error: Unknown CPU feature arch-facilities\nChange-Id: Ieab6f2c5c8c7d15fe514855078611a4cfba42f23\nCloses-Bug: rhbz#1867127\n""}]",0,745315,53c6582e51606fd364243b492a2d5ff01a810737,5,3,1,11166,,,0,"[Train-only] Ensure arch-facilities is not present in cpu_map.xml

There is issue only on RHEL and only happening in hybrid state
of compute during FFWD. We can't livemigrate unless we apply
workaround for libvirt issue with arch-facilities vs
arch-capabilities cpu capability name.

Fixes: error: Unknown CPU feature arch-facilities
Change-Id: Ieab6f2c5c8c7d15fe514855078611a4cfba42f23
Closes-Bug: rhbz#1867127
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/745315/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,53c6582e51606fd364243b492a2d5ff01a810737,," - name: Ensure arch-facilities is not present in cpu_map.xml [rhbz#1867127] shell: | set -o pipefail docker exec -u root -it nova_libvirt bash -c 'python << EOF import libxml2 doc = libxml2.parseFile(""/usr/share/libvirt/cpu_map.xml"") node = doc.xpathEval(""//cpus/arch/feature[@name=\""arch-facilities\""]"") if node: print(""Found arch-facilities feature. Removing it!"") node[0].unlinkNode() doc.saveFile(""/usr/share/libvirt/cpu_map.xml"") else: print(""No arch-facilities feature found. All clear!"") EOF' | grep ""Removing it"" && docker restart nova_libvirt",,14,0
openstack%2Ftripleo-common~stable%2Ftrain~I815443fa7cfd54c9884aff751caf701fd77a8f3a,openstack/tripleo-common,stable/train,I815443fa7cfd54c9884aff751caf701fd77a8f3a,Properly collect tasks with or conditional in step file.,MERGED,2020-07-31 12:04:54.000000000,2020-08-11 10:12:54.000000000,2020-08-11 10:11:38.000000000,"[{'_account_id': 6816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-07-31 12:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a2c38265419787deddf41cd27dc08f3f04a0907b', 'message': ""Properly collect tasks with or conditional in step file.\n\nTasks with or conditional (step == 1 or step == 0) were not showing up\nin the step file.\n\nTo make sure we collect the tasks properly we refactor the filter\nlogic:\n 1. make all conditional a big string with no spaces and no Boolean\n 2. use findall to collect all the conditional step\n 3. if step found and it does belong to the current step add it.\n 4. if step found and it doesn't belong to the current step remove it.\n 5. if step condition not found, let strict decide.\n 6. if strict remove it else add it (default behavior)\n\nWe also add a unit test related to that filtering.\n\nBackport unit tests were adjusted to accommodate the new interface to\n_write_tasks_per_step[1]\n\n[1] See I2781cae14663094d531ad70c3d412b3153b46612\n\nChange-Id: I815443fa7cfd54c9884aff751caf701fd77a8f3a\nCloses-Bug: #1887135\n(cherry picked from commit 5493304944a443dcab74439c522a18bbf62d1d2a)\n(cherry picked from commit 4c4ba312487e0be359838bc42442054c5b280f14)\n""}, {'number': 2, 'created': '2020-08-03 22:07:41.000000000', 'files': ['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/280ed7a59f4a8a6d7395ece2ded6e5959481e25e', 'message': ""Properly collect tasks with or conditional in step file.\n\nTasks with or conditional (step == 1 or step == 0) were not showing up\nin the step file.\n\nTo make sure we collect the tasks properly we refactor the filter\nlogic:\n 1. make all conditional a big string with no spaces and no Boolean\n 2. use findall to collect all the conditional step\n 3. if step found and it does belong to the current step add it.\n 4. if step found and it doesn't belong to the current step remove it.\n 5. if step condition not found, let strict decide.\n 6. if strict remove it else add it (default behavior)\n\nWe also add a unit test related to that filtering.\n\nBackport unit tests were adjusted to accommodate the new interface to\n_write_tasks_per_step[1]\n\n[1] See I2781cae14663094d531ad70c3d412b3153b46612\n\nChange-Id: I815443fa7cfd54c9884aff751caf701fd77a8f3a\nCloses-Bug: #1887135\n(cherry picked from commit 5493304944a443dcab74439c522a18bbf62d1d2a)\n(cherry picked from commit 4c4ba312487e0be359838bc42442054c5b280f14)\n""}]",4,744142,280ed7a59f4a8a6d7395ece2ded6e5959481e25e,35,5,2,8297,,,0,"Properly collect tasks with or conditional in step file.

Tasks with or conditional (step == 1 or step == 0) were not showing up
in the step file.

To make sure we collect the tasks properly we refactor the filter
logic:
 1. make all conditional a big string with no spaces and no Boolean
 2. use findall to collect all the conditional step
 3. if step found and it does belong to the current step add it.
 4. if step found and it doesn't belong to the current step remove it.
 5. if step condition not found, let strict decide.
 6. if strict remove it else add it (default behavior)

We also add a unit test related to that filtering.

Backport unit tests were adjusted to accommodate the new interface to
_write_tasks_per_step[1]

[1] See I2781cae14663094d531ad70c3d412b3153b46612

Change-Id: I815443fa7cfd54c9884aff751caf701fd77a8f3a
Closes-Bug: #1887135
(cherry picked from commit 5493304944a443dcab74439c522a18bbf62d1d2a)
(cherry picked from commit 4c4ba312487e0be359838bc42442054c5b280f14)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/42/744142/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py']",2,a2c38265419787deddf41cd27dc08f3f04a0907b,," @patch.object(ooo_config.Config, '_open_file') def test_overcloud_config__write_tasks_per_step(self, mock_open_file): heat = mock.MagicMock() self.config = ooo_config.Config(heat) # TODO: how can I share this tasks definition between to test # as a fixture So that I do two several test cases instead of # a big one. tasks = [ { ""when"": ""step|int == 0"", ""name"": ""Simple check"" }, { ""when"": ""(step|int == 0)"", ""name"": ""Check within parenthesis"" }, { ""when"": [""step|int == 0"", ""test1"", False], ""name"": ""Check with list with boolean"" }, { ""when"": [""test1"", False, ""step|int == 0""], ""name"": ""Check with list with boolean other order"" }, { ""when"": ""step|int == 0 or step|int == 3"", ""name"": ""Check with boolean expression"" }, { ""when"": ""(step|int == 0 or step|int == 3) and other_cond"", ""name"": ""Complex boolean expression"" }, { ""name"": ""Task with no conditional"" } ] # Everything should come back tasks_per_step = self.config._write_tasks_per_step( tasks, 'Compute/update_tasks_step0.yaml', 0 ) self.assertEqual(tasks, tasks_per_step) # Using stict the tasks with no conditional will be dropped tasks_per_step = self.config._write_tasks_per_step( tasks, 'Compute/update_tasks_step0.yaml', 0, strict=True, ) expected_tasks = [task for task in tasks if task != {""name"": ""Task with no conditional""}] self.assertEqual(expected_tasks, tasks_per_step) # Some tasks will be filtered out for step 3. tasks_per_step = self.config._write_tasks_per_step( tasks, 'Compute/update_tasks_step3.yaml', 3 ) self.assertEqual( [ { ""when"": ""step|int == 0 or step|int == 3"", ""name"": ""Check with boolean expression"" }, { ""when"": ""(step|int == 0 or step|int == 3) and other_cond"", ""name"": ""Complex boolean expression"" }, { ""name"": ""Task with no conditional"" } ], tasks_per_step) # Even more tasks will be filtered out for step 3 with strict. tasks_per_step = self.config._write_tasks_per_step( tasks, 'Compute/update_tasks_step3.yaml', 3, strict=True, ) self.assertEqual( [ { ""when"": ""step|int == 0 or step|int == 3"", ""name"": ""Check with boolean expression"" }, { ""when"": ""(step|int == 0 or step|int == 3) and other_cond"", ""name"": ""Complex boolean expression"" }, ], tasks_per_step)",,121,15
openstack%2Fmonasca-agent~stable%2Fussuri~Iccab9a225539a1d87a6ad6bfd873a65d36b8a515,openstack/monasca-agent,stable/ussuri,Iccab9a225539a1d87a6ad6bfd873a65d36b8a515,Avoid single quote in help text,MERGED,2020-08-11 08:47:48.000000000,2020-08-11 09:54:39.000000000,2020-08-11 09:54:39.000000000,"[{'_account_id': 16957}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2020-08-11 08:47:48.000000000', 'files': ['monasca_setup/main.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/5b34b64322263eab58aa0c3c126c2ceacca89dd3', 'message': ""Avoid single quote in help text\n\nSingle quote in help text caused issues on Red Hat.\nIn order to avoid issues on any platform,\nsingle quote (') has been removed.\n\nChange-Id: Iccab9a225539a1d87a6ad6bfd873a65d36b8a515\nStory:2007978\nTask: 40601\n(cherry picked from commit caffc7fbcf4987f25dd7dd07cd0cef2df309c186)\n""}]",0,745639,5b34b64322263eab58aa0c3c126c2ceacca89dd3,6,3,1,28062,,,0,"Avoid single quote in help text

Single quote in help text caused issues on Red Hat.
In order to avoid issues on any platform,
single quote (') has been removed.

Change-Id: Iccab9a225539a1d87a6ad6bfd873a65d36b8a515
Story:2007978
Task: 40601
(cherry picked from commit caffc7fbcf4987f25dd7dd07cd0cef2df309c186)
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/39/745639/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_setup/main.py'],1,5b34b64322263eab58aa0c3c126c2ceacca89dd3,," help=""systemd/sysv service name of agent"","," help=""agent's systemd/sysv service name"",",1,1
openstack%2Fmurano~stable%2Fussuri~I64d205b406ac220e481fd8d3c1d611a7b24f32f6,openstack/murano,stable/ussuri,I64d205b406ac220e481fd8d3c1d611a7b24f32f6,Add native grenade zuul v3 jobs,MERGED,2020-08-10 06:33:20.000000000,2020-08-11 09:25:54.000000000,2020-08-11 09:23:04.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-10 06:33:20.000000000', 'files': ['playbooks/legacy/grenade-devstack-murano/post.yaml', '.zuul.yaml', 'playbooks/legacy/grenade-devstack-murano/run.yaml'], 'web_link': 'https://opendev.org/openstack/murano/commit/1daccfced80ae3dfac59f08fd20d31244ef9d94a', 'message': 'Add native grenade zuul v3 jobs\n\nDepends-On: https://review.opendev.org/#/c/731681/\nChange-Id: I64d205b406ac220e481fd8d3c1d611a7b24f32f6\n'}]",0,745481,1daccfced80ae3dfac59f08fd20d31244ef9d94a,7,2,1,14107,,,0,"Add native grenade zuul v3 jobs

Depends-On: https://review.opendev.org/#/c/731681/
Change-Id: I64d205b406ac220e481fd8d3c1d611a7b24f32f6
",git fetch https://review.opendev.org/openstack/murano refs/changes/81/745481/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/grenade-devstack-murano/post.yaml', '.zuul.yaml', 'playbooks/legacy/grenade-devstack-murano/run.yaml']",3,1daccfced80ae3dfac59f08fd20d31244ef9d94a,native-zuulv3-migration-stable/ussuri,,"- hosts: all name: legacy-grenade-dsvm-watcher tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ https://opendev.org \ openstack/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x cat << 'EOF' >>""/tmp/dg-local.conf"" [[local|localrc]] TEMPEST_PLUGINS='/opt/stack/new/murano-tempest-plugin /opt/stack/new/heat-tempest-plugin' enable_plugin heat https://opendev.org/openstack/heat EOF executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PYTHONUNBUFFERED=true export DEVSTACK_GATE_TEMPEST_NOTESTS=1 export DEVSTACK_GATE_NEUTRON=1 export DEVSTACK_GATE_USE_PYTHON3=True export PROJECTS=""openstack/grenade $PROJECTS"" export PROJECTS=""openstack/heat $PROJECTS"" export PROJECTS=""openstack/python-heatclient $PROJECTS"" export PROJECTS=""openstack/murano $PROJECTS"" export PROJECTS=""openstack/murano-dashboard $PROJECTS"" export PROJECTS=""openstack/python-muranoclient $PROJECTS"" export PROJECTS=""openstack/heat-tempest-plugin $PROJECTS"" export PROJECTS=""openstack/murano-tempest-plugin $PROJECTS"" export BRANCH_OVERRIDE=default export GRENADE_PLUGINRC=""enable_grenade_plugin murano https://opendev.org/openstack/murano"" export GRENADE_PLUGINRC+=$'\n'""enable_grenade_plugin heat https://opendev.org/openstack/heat"" export DEVSTACK_GATE_GRENADE=pullup if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",30,98
openstack%2Fopenstack-helm-images~master~I53daac9c1ec4707628565abc912116d8997eba16,openstack/openstack-helm-images,master,I53daac9c1ec4707628565abc912116d8997eba16,Images: Update all images to allow base image over-rides,MERGED,2019-08-29 18:03:12.000000000,2020-08-11 09:18:46.000000000,2020-08-11 09:16:47.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 14525}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28237}, {'_account_id': 29624}, {'_account_id': 30777}]","[{'number': 1, 'created': '2019-08-29 18:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/4035951dd493a275a3cce6261c2e77acdd52ef04', 'message': 'Images: Update all images to allow base image over-rides\n\nThis PS updates all dockerfiles to allow base image over-rides as\nrequired by many consumers of OSH.\n\nChange-Id: I53daac9c1ec4707628565abc912116d8997eba16\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-08-29 19:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/39ef6b112187d24927efbf4e57b33bcb9a5b4af9', 'message': 'Images: Update all images to allow base image over-rides\n\nThis PS updates all dockerfiles to allow base image over-rides as\nrequired by many consumers of OSH.\n\nChange-Id: I53daac9c1ec4707628565abc912116d8997eba16\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-09-05 16:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/8a1a7508265c8dfb1f22dc7fd7a89670392f9116', 'message': 'Images: Update all images to allow base image over-rides\n\nThis PS updates all dockerfiles to allow base image over-rides as\nrequired by many consumers of OSH.\n\nChange-Id: I53daac9c1ec4707628565abc912116d8997eba16\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2019-12-26 20:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c0f4855b1114f3397f90d83764af58bf39bc2855', 'message': 'Images: Update all images to allow base image over-rides\n\nThis PS updates all dockerfiles to allow base image over-rides as\nrequired by many consumers of OSH.\n\nChange-Id: I53daac9c1ec4707628565abc912116d8997eba16\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2019-12-26 20:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/79d520bbfeaf9cd5f9a212c16d211ef665d23b9e', 'message': 'Images: Update all images to allow base image over-rides\n\nThis PS updates all dockerfiles to allow base image over-rides as\nrequired by many consumers of OSH.\n\nChange-Id: I53daac9c1ec4707628565abc912116d8997eba16\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 6, 'created': '2019-12-31 18:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/42b6069315048f3c58b9fecf2845254a4d59e5bc', 'message': 'Images: Update all images to allow base image over-rides\n\nThis PS updates all dockerfiles to allow base image over-rides as\nrequired by many consumers of OSH.\n\nChange-Id: I53daac9c1ec4707628565abc912116d8997eba16\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 7, 'created': '2020-01-31 04:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c682a8c02aaaabf5ecc5e590787e3bc6450440c5', 'message': 'Images: Update all images to allow base image over-rides\n\nThis PS updates all dockerfiles to allow base image over-rides as\nrequired by many consumers of OSH.\n\nChange-Id: I53daac9c1ec4707628565abc912116d8997eba16\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 8, 'created': '2020-08-07 19:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c7e84f42ff52d3f6b05b207a4b722b02ce91f9cc', 'message': 'Images: Update all images to allow base image over-rides\n\nThis PS updates all dockerfiles to allow base image over-rides as\nrequired by many consumers of OSH.\n\nChange-Id: I53daac9c1ec4707628565abc912116d8997eba16\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 9, 'created': '2020-08-11 04:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/ca2bc07abaa3f2ce59bd3d22d2cd4d523855c8c4', 'message': 'Images: Update all images to allow base image over-rides\n\nThis PS updates all dockerfiles to allow base image over-rides as\nrequired by many consumers of OSH.\n\nChange-Id: I53daac9c1ec4707628565abc912116d8997eba16\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 10, 'created': '2020-08-11 04:50:26.000000000', 'files': ['gate-utils/Dockerfile.debian', 'osh-selenium/Dockerfile.ubuntu_bionic', 'vbmc/Dockerfile.centos_7', 'fluentd/Dockerfile.debian', 'node-problem-detector/Dockerfile.ubuntu_bionic', 'mariadb/Dockerfile.ubuntu_xenial', 'mini-mirror/Dockerfile.ubuntu_xenial', 'elasticsearch-s3/Dockerfile.7_1_0', 'openvswitch/Dockerfile.ubuntu_bionic', 'ceph-rbd-provisioner/Dockerfile.ubuntu_xenial', 'patroni/Dockerfile.ubuntu_xenial', 'osh-selenium/Dockerfile.opensuse_15', 'tempest/Dockerfile.opensuse_15', 'libvirt/Dockerfile.suse_15', 'tempest/Dockerfile.ubuntu_xenial', 'ceph-cephfs-provisioner/Dockerfile.ubuntu_xenial', 'elasticsearch-s3/Dockerfile.5_6_4', 'openvswitch/Dockerfile.debian', 'minikube-aio/Dockerfile', 'tempest/Dockerfile.ubuntu_bionic'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/5046975869a328dc12104aa4b3ab6a93a9ddef5e', 'message': 'Images: Update all images to allow base image over-rides\n\nThis PS updates all dockerfiles to allow base image over-rides as\nrequired by many consumers of OSH.\n\nChange-Id: I53daac9c1ec4707628565abc912116d8997eba16\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,679315,5046975869a328dc12104aa4b3ab6a93a9ddef5e,55,9,10,23928,,,0,"Images: Update all images to allow base image over-rides

This PS updates all dockerfiles to allow base image over-rides as
required by many consumers of OSH.

Change-Id: I53daac9c1ec4707628565abc912116d8997eba16
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/15/679315/10 && git format-patch -1 --stdout FETCH_HEAD,"['gate-utils/Dockerfile.debian', 'vbmc/Dockerfile.centos_7', 'fluentd/Dockerfile.debian', 'mariadb/Dockerfile.ubuntu_xenial', 'mini-mirror/Dockerfile.ubuntu_xenial', 'openvswitch/Dockerfile.ubuntu_bionic', 'ceph-rbd-provisioner/Dockerfile.ubuntu_xenial', 'patroni/Dockerfile.ubuntu_xenial', 'osh-selenium/Dockerfile.opensuse_15', 'tempest/Dockerfile.opensuse_15', 'openvswitch/Dockerfile.ubuntu_bionic-dpdk', 'libvirt/Dockerfile.suse_15', 'tempest/Dockerfile.ubuntu_xenial', 'ceph-cephfs-provisioner/Dockerfile.ubuntu_xenial', 'elasticsearch-s3/Dockerfile.5_6_4', 'openvswitch/Dockerfile.debian', 'osh-selenium/Dockerfile.ubuntu_xenial']",17,4035951dd493a275a3cce6261c2e77acdd52ef04,selenium-size,ARG FROM=docker.io/ubuntu:xenial FROM ${FROM},FROM docker.io/ubuntu:xenial,37,22
openstack%2Fneutron~master~Ifbf2cfbe8c2fae7da382e8aff122ec00a8815bb6,openstack/neutron,master,Ifbf2cfbe8c2fae7da382e8aff122ec00a8815bb6,"DNM Revert ""Do not link up HA router gateway in backup node""",ABANDONED,2020-05-06 19:54:52.000000000,2020-08-11 09:02:18.000000000,,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-05-06 19:54:52.000000000', 'files': ['neutron/agent/linux/interface.py', 'neutron/agent/l3/ha_router.py', 'neutron/agent/linux/keepalived.py', 'neutron/agent/l3/router_info.py', 'neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/agent/l3/ha.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/992114403aebb5695b988abbab1f268e318caa44', 'message': 'DNM Revert ""Do not link up HA router gateway in backup node""\n\nThis is just my test\n\nThis reverts commit c52029c39aa824a67095fbbf9e59eff769d92587.\n\nChange-Id: Ifbf2cfbe8c2fae7da382e8aff122ec00a8815bb6\n'}]",0,725973,992114403aebb5695b988abbab1f268e318caa44,6,10,1,11975,,,0,"DNM Revert ""Do not link up HA router gateway in backup node""

This is just my test

This reverts commit c52029c39aa824a67095fbbf9e59eff769d92587.

Change-Id: Ifbf2cfbe8c2fae7da382e8aff122ec00a8815bb6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/725973/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/ha_router.py', 'neutron/agent/linux/interface.py', 'neutron/agent/linux/keepalived.py', 'neutron/agent/l3/router_info.py', 'neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/agent/l3/ha.py']",7,992114403aebb5695b988abbab1f268e318caa44,bug/1859832,," # Set external gateway port link up or down according to state if state == 'master': ri.set_external_gw_port_link_status(link_up=True, set_gw=True) elif state == 'backup': ri.set_external_gw_port_link_status(link_up=False) else: LOG.warning('Router %s has status %s, ' 'no action to router gateway device.', router_id, state)",16,121
openstack%2Fopenstack-helm~master~Ib0b0cfb46300eeb451b462bc37781e850361d63b,openstack/openstack-helm,master,Ib0b0cfb46300eeb451b462bc37781e850361d63b,Fix  Indentation for Apparmor in  cinder-volume Cron Job,MERGED,2020-08-09 16:03:18.000000000,2020-08-11 08:55:15.000000000,2020-08-11 08:52:09.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 29131}]","[{'number': 1, 'created': '2020-08-09 16:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c69681990a9735b0858f9ea39bd87574a4936777', 'message': 'Fix the Apparmor for cinder-volume Cron Job\n\nChange-Id: Ib0b0cfb46300eeb451b462bc37781e850361d63b\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 2, 'created': '2020-08-09 16:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7f742d2e30dd0d79722fa1674dc0a10e34771e44', 'message': 'Fix the Apparmor for cinder-volume Cron Job\n\nChange-Id: Ib0b0cfb46300eeb451b462bc37781e850361d63b\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 3, 'created': '2020-08-10 02:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a0d1100a98d0caad952b8b56881dd17da6c58016', 'message': '[wip] Fix Apparmor for cinder-volume Cron Job\n\nChange-Id: Ib0b0cfb46300eeb451b462bc37781e850361d63b\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 4, 'created': '2020-08-11 02:17:37.000000000', 'files': ['cinder/templates/cron-job-cinder-volume-usage-audit.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f0d3ad522bd7e4a96673a26a4fbe7a87fc167b6f', 'message': 'Fix  Indentation for Apparmor in  cinder-volume Cron Job\n\nChange-Id: Ib0b0cfb46300eeb451b462bc37781e850361d63b\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}]",0,745468,f0d3ad522bd7e4a96673a26a4fbe7a87fc167b6f,24,4,4,29131,,,0,"Fix  Indentation for Apparmor in  cinder-volume Cron Job

Change-Id: Ib0b0cfb46300eeb451b462bc37781e850361d63b
Signed-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/68/745468/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,c69681990a9735b0858f9ea39bd87574a4936777,test_cinder,,,0,0
openstack%2Fopenstack-helm~master~I2e05cfa627dad5d32e882af3ba82bcde21e2ad70,openstack/openstack-helm,master,I2e05cfa627dad5d32e882af3ba82bcde21e2ad70,[CEPH] update ceph installation script to skip loopback device creation,MERGED,2020-08-10 21:47:54.000000000,2020-08-11 08:53:57.000000000,2020-08-11 08:52:09.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 17119}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 29974}, {'_account_id': 32190}]","[{'number': 1, 'created': '2020-08-10 21:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7835bcf544aac80f7e6398dfed49917a1f54bf5c', 'message': '[CEPH] update ceph installation script to skip loopback device creation\n\nThis is to update installation script to enable option to skip the\nloopback device creation as this gives flexibility to skip loopback\ndevice creation and use exisitng  block devices  for ceph.\n\nChange-Id: I2e05cfa627dad5d32e882af3ba82bcde21e2ad70\n'}, {'number': 2, 'created': '2020-08-10 21:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0303e3d2c898515b8be85db2f328d3e5c8f47244', 'message': '[CEPH] update ceph installation script to skip loopback device creation\n\nThis is to update installation script to enable option to skip the\nloopback device creation as this gives flexibility to skip loopback\ndevice creation and use exisitng  block devices  for ceph.\n\nChange-Id: I2e05cfa627dad5d32e882af3ba82bcde21e2ad70\n'}, {'number': 3, 'created': '2020-08-10 22:20:52.000000000', 'files': ['doc/source/install/developer/deploy-with-ceph.rst', 'tools/deployment/component/ceph/ceph.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ab10fde533712909f34374decc4257757895d327', 'message': '[CEPH] update ceph installation script to skip loopback device creation\n\nThis is to update installation script to enable option to skip the\nloopback device creation as this gives flexibility to use exisitng\nblock devices for ceph.\n\nChange-Id: I2e05cfa627dad5d32e882af3ba82bcde21e2ad70\n'}]",2,745593,ab10fde533712909f34374decc4257757895d327,14,8,3,28372,,,0,"[CEPH] update ceph installation script to skip loopback device creation

This is to update installation script to enable option to skip the
loopback device creation as this gives flexibility to use exisitng
block devices for ceph.

Change-Id: I2e05cfa627dad5d32e882af3ba82bcde21e2ad70
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/93/745593/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/developer/deploy-with-ceph.rst', 'tools/deployment/component/ceph/ceph.sh']",2,7835bcf544aac80f7e6398dfed49917a1f54bf5c,,"export CREATE_LOOPBACK_DEVICES_FOR_CEPH=true if [ ""${CREATE_LOOPBACK_DEVICES_FOR_CEPH}"" == ""true"" ]; then ./tools/deployment/common/setup-ceph-loopback-device.sh --ceph-osd-data ${CEPH_OSD_DATA_DEVICE:=/dev/loop0} \ --ceph-osd-dbwal ${CEPH_OSD_DB_WAL_DEVICE:=/dev/loop1} fi", ./tools/deployment/common/setup-ceph-loopback-device.sh --ceph-osd-data ${CEPH_OSD_DATA_DEVICE:=/dev/loop0} \ --ceph-osd-dbwal ${CEPH_OSD_DB_WAL_DEVICE:=/dev/loop1},13,4
openstack%2Fmonasca-agent~master~Iccab9a225539a1d87a6ad6bfd873a65d36b8a515,openstack/monasca-agent,master,Iccab9a225539a1d87a6ad6bfd873a65d36b8a515,Avoid single quote in help text,MERGED,2020-08-10 15:22:26.000000000,2020-08-11 08:47:48.000000000,2020-08-11 08:46:49.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2020-08-10 15:22:26.000000000', 'files': ['monasca_setup/main.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/caffc7fbcf4987f25dd7dd07cd0cef2df309c186', 'message': ""Avoid single quote in help text\n\nSingle quote in help text caused issues on Red Hat.\nIn order to avoid issues on any platform,\nsingle quote (') has been removed.\n\nChange-Id: Iccab9a225539a1d87a6ad6bfd873a65d36b8a515\nStory:2007978\nTask: 40601\n""}]",0,745553,caffc7fbcf4987f25dd7dd07cd0cef2df309c186,8,2,1,16957,,,0,"Avoid single quote in help text

Single quote in help text caused issues on Red Hat.
In order to avoid issues on any platform,
single quote (') has been removed.

Change-Id: Iccab9a225539a1d87a6ad6bfd873a65d36b8a515
Story:2007978
Task: 40601
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/53/745553/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_setup/main.py'],1,caffc7fbcf4987f25dd7dd07cd0cef2df309c186,," help=""systemd/sysv service name of agent"","," help=""agent's systemd/sysv service name"",",1,1
openstack%2Ftripleo-ansible~master~I141e8b88517519e1d65d625abaf007694adfe67e,openstack/tripleo-ansible,master,I141e8b88517519e1d65d625abaf007694adfe67e,Run standalone sc1 on all tripleo-ansible changes,ABANDONED,2020-07-27 15:26:55.000000000,2020-08-11 08:45:58.000000000,,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 15:26:55.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/52d5b0b6d967f1fa9b28a1cc04c02d0d3413f0ae', 'message': 'Run standalone sc1 on all tripleo-ansible changes\n\nCurrently not all standalone scenarios run on the tripleo-ansible\nchanges. It leads have less coverage and leading to catch issues\nin periodic instead of check job.\n\nAdding standalone sc01 in check & gate will make sure we have\nadequate coverage and will help to find issues early.\n\nChange-Id: I141e8b88517519e1d65d625abaf007694adfe67e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,743258,52d5b0b6d967f1fa9b28a1cc04c02d0d3413f0ae,7,4,1,12393,,,0,"Run standalone sc1 on all tripleo-ansible changes

Currently not all standalone scenarios run on the tripleo-ansible
changes. It leads have less coverage and leading to catch issues
in periodic instead of check job.

Adding standalone sc01 in check & gate will make sure we have
adequate coverage and will help to find issues early.

Change-Id: I141e8b88517519e1d65d625abaf007694adfe67e
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/58/743258/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,52d5b0b6d967f1fa9b28a1cc04c02d0d3413f0ae,improve_coverage, files: *containers_files, files: - ^tripleo_ansible/roles/tripleo_ceph_.*/.* - ^tripleo_ansible/roles/tripleo_hieradata/.* - ^tripleo_ansible/roles/tripleo_upgrade_hiera/.* - ^setup.*,1,5
openstack%2Fpython-troveclient~master~Ifc919667e83573bd6c3b7aff205fe08e82667457,openstack/python-troveclient,master,Ifc919667e83573bd6c3b7aff205fe08e82667457,Support getting and updating instance access info,MERGED,2020-08-10 23:18:09.000000000,2020-08-11 08:43:30.000000000,2020-08-11 08:42:05.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-10 23:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/78fa2e49db1588ffcc0b359687f1d7dd65e0bbe6', 'message': 'Support getting instance access info\n\nAdded ""public"" and ""allowed_cidrs"" fields for getting instance.\n\nChange-Id: Ifc919667e83573bd6c3b7aff205fe08e82667457\n'}, {'number': 2, 'created': '2020-08-11 05:38:54.000000000', 'files': ['releasenotes/notes/victoria-get-and-update-instance-access.yaml', 'troveclient/v1/instances.py', 'troveclient/tests/fakes.py', 'troveclient/tests/test_instances.py', 'troveclient/osc/v1/database_instances.py', 'troveclient/tests/osc/v1/test_database_instances.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/61b76377fd41c312cafc0470cffdaee8143507e7', 'message': 'Support getting and updating instance access info\n\n* Added ""public"" and ""allowed_cidrs"" fields for getting instance.\n* Added \'--is-public/--is-private\' and \'--allowed-cidr\' for updating.\n\nChange-Id: Ifc919667e83573bd6c3b7aff205fe08e82667457\n'}]",0,745602,61b76377fd41c312cafc0470cffdaee8143507e7,9,2,2,6732,,,0,"Support getting and updating instance access info

* Added ""public"" and ""allowed_cidrs"" fields for getting instance.
* Added '--is-public/--is-private' and '--allowed-cidr' for updating.

Change-Id: Ifc919667e83573bd6c3b7aff205fe08e82667457
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/02/745602/2 && git format-patch -1 --stdout FETCH_HEAD,"['troveclient/tests/fakes.py', 'troveclient/osc/v1/database_instances.py', 'troveclient/tests/osc/v1/test_database_instances.py']",3,78fa2e49db1588ffcc0b359687f1d7dd65e0bbe6,update-access," ('1234', 'test-member-1', 'mysql', '5.6', 'ACTIVE', False, '02', 2, 'replica'), ('5678', 'test-member-2', 'mysql', '5.6', 'ACTIVE', False, '2', 2, '') 'ACTIVE', False, [{""type"": ""private"", ""address"": ""10.0.0.13""}], '02', 2, 'replica', 'fake_tenant_id'), 'ACTIVE', False, [{""type"": ""private"", ""address"": ""10.0.0.14""}], '2', 2, '', 'fake_tenant_id') values = ([], [{'address': '10.0.0.13', 'type': 'private'}], 'mysql', '5.6', '02', '1234', 'test-member-1', False, 'regionOne', 'fake_master_id', 'ACTIVE', 'fake_tenant_id', 2) 'allowed_cidrs', 'public',"," ('1234', 'test-member-1', 'mysql', '5.6', 'ACTIVE', '02', 2, 'regionOne', 'replica'), ('5678', 'test-member-2', 'mysql', '5.6', 'ACTIVE', '2', 2, 'regionOne', '') 'ACTIVE', [{""type"": ""private"", ""address"": ""10.0.0.13""}], '02', 2, 'replica'), 'ACTIVE', [{""type"": ""private"", ""address"": ""10.0.0.14""}], '2', 2, '') values = ([{'address': '10.0.0.13', 'type': 'private'}], 'mysql', '5.6', '02', '1234', 'test-member-1', 'regionOne', 'fake_master_id', 'ACTIVE', 'fake_tenant_id', 2)",28,18
openstack%2Fpython-troveclient~master~I08ba60e2f6c4caf55ed9547f14e4a676de0a1c45,openstack/python-troveclient,master,I08ba60e2f6c4caf55ed9547f14e4a676de0a1c45,Support updating instance access,ABANDONED,2020-08-11 02:19:15.000000000,2020-08-11 08:33:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-11 02:19:15.000000000', 'files': ['releasenotes/notes/victoria-get-and-update-instance-access.yaml', 'troveclient/v1/instances.py', 'troveclient/tests/test_instances.py', 'troveclient/osc/v1/database_instances.py', 'troveclient/tests/osc/v1/test_database_instances.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/46eec94c488699594730cd42c1fcc97dd0037ead', 'message': 'Support updating instance access\n\nChange-Id: I08ba60e2f6c4caf55ed9547f14e4a676de0a1c45\n'}]",0,745615,46eec94c488699594730cd42c1fcc97dd0037ead,3,1,1,6732,,,0,"Support updating instance access

Change-Id: I08ba60e2f6c4caf55ed9547f14e4a676de0a1c45
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/15/745615/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/victoria-get-and-update-instance-access.yaml', 'troveclient/v1/instances.py', 'troveclient/tests/test_instances.py', 'troveclient/osc/v1/database_instances.py', 'troveclient/tests/osc/v1/test_database_instances.py']",5,46eec94c488699594730cd42c1fcc97dd0037ead,update-access," ('1234', 'test-member-1', 'mysql', '5.6', ('5678', 'test-member-2', 'mysql', '5.6', values = ([{'address': '10.0.0.13', 'type': 'private'}], [], 'mysql', self.instance_client.update.assert_called_with( 'instance1', None, 'new_instance_name', True, True, is_public=None, allowed_cidrs=None) def test_instance_update_access(self): ins_id = '4c397f77-750d-43df-8fc5-f7388e4316ee' args = [ins_id, '--name', 'new_instance_name', '--is-private', '--allowed-cidr', '10.0.0.0/24', '--allowed-cidr', '10.0.1.0/24'] parsed_args = self.check_parser(self.cmd, args, []) self.cmd.take_action(parsed_args) self.instance_client.update.assert_called_with( ins_id, None, 'new_instance_name', False, False, is_public=False, allowed_cidrs=['10.0.0.0/24', '10.0.1.0/24']) "," ('1234', 'test-member-1', 'fake_tenant_id', 'mysql', '5.6', ('5678', 'test-member-2', 'fake_tenant_id', 'mysql', '5.6', values = ([], [{'address': '10.0.0.13', 'type': 'private'}], 'mysql', self.instance_client.edit.assert_called_with('instance1', None, 'new_instance_name', True, True)",82,43
openstack%2Fcinder~stable%2Fussuri~I172dab1641207849fdd6a9848ac7573cba236a8b,openstack/cinder,stable/ussuri,I172dab1641207849fdd6a9848ac7573cba236a8b,Fix rekeying volume with legacy encryption provider,MERGED,2020-07-30 19:13:25.000000000,2020-08-11 08:24:34.000000000,2020-08-10 17:45:02.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 30754}]","[{'number': 1, 'created': '2020-07-30 19:13:25.000000000', 'files': ['cinder/volume/volume_utils.py', 'cinder/tests/unit/test_volume_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2058cde4d0f8ac4128a5dc435d4950bdaba8be89', 'message': 'Fix rekeying volume with legacy encryption provider\n\nUpdate volume_utils.check_encryption_provider() so it translates\na legacy provider class in the encryption dict it returns. For\nexample, if the volume\'s encryption metadata specifies\n""nova.volume.encryptors.luks.LuksEncryptor"" for the provider,\nthe function will a dict with ""luks"" as the provider.\n\nCloses-Bug: #1886689\nChange-Id: I172dab1641207849fdd6a9848ac7573cba236a8b\n(cherry picked from commit 1788a9a71542eb6df8059a56c383c2e86e6f6c6b)\n'}]",0,744034,2058cde4d0f8ac4128a5dc435d4950bdaba8be89,42,18,1,21129,,,0,"Fix rekeying volume with legacy encryption provider

Update volume_utils.check_encryption_provider() so it translates
a legacy provider class in the encryption dict it returns. For
example, if the volume's encryption metadata specifies
""nova.volume.encryptors.luks.LuksEncryptor"" for the provider,
the function will a dict with ""luks"" as the provider.

Closes-Bug: #1886689
Change-Id: I172dab1641207849fdd6a9848ac7573cba236a8b
(cherry picked from commit 1788a9a71542eb6df8059a56c383c2e86e6f6c6b)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/34/744034/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/volume_utils.py', 'cinder/tests/unit/test_volume_utils.py']",2,2058cde4d0f8ac4128a5dc435d4950bdaba8be89,bug/1886689," self.assertEqual('luks', ret['provider'])",,2,0
openstack%2Ftripleo-heat-templates~master~Id647896fda6cc3fe7bf5eb5ba2de05111d174092,openstack/tripleo-heat-templates,master,Id647896fda6cc3fe7bf5eb5ba2de05111d174092,Add PermitRootLogin option in sshd_config before leapp.,MERGED,2020-07-03 14:05:57.000000000,2020-08-11 07:58:01.000000000,2020-08-11 04:32:07.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 26343}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-03 14:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/026e38f13bfa4687c7cfc8e563b353ed23bf340b', 'message': ""Add PermitRootLogin option in sshd_config before leapp.\n\nOne of the pre-requisites for leapp tool to be able to upgrade\nis the existence of the PermitRootLogin option in the\nsshd_config file. It doesn't mind which value it has, it needs\nto be set. For that reason, this patch will set the value to\nno (which is the default for the PermitRootLogin field).\n\nThe selection of the option isn't really relevant, as during\nthe installation of the openstack services puppet will just\noverwrite the sshd_config, therefore this is simply a hack\nfor leapp to let us upgrade.\n\nChange-Id: Id647896fda6cc3fe7bf5eb5ba2de05111d174092\n""}, {'number': 2, 'created': '2020-07-21 15:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/47219c3abf69b401cb6f3c3b017f7621765e114e', 'message': ""Add PermitRootLogin option in sshd_config before leapp.\n\nOne of the pre-requisites for leapp tool to be able to upgrade\nis the existence of the PermitRootLogin option in the\nsshd_config file. It doesn't mind which value it has, it needs\nto be set. For that reason, this patch will set the value to\nno (which is the default for the PermitRootLogin field).\n\nThe selection of the option isn't really relevant, as during\nthe installation of the openstack services puppet will just\noverwrite the sshd_config, therefore this is simply a hack\nfor leapp to let us upgrade.\n\nChange-Id: Id647896fda6cc3fe7bf5eb5ba2de05111d174092\n""}, {'number': 3, 'created': '2020-07-29 16:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d3379b24cac3ecf34cfb692adbc91b4900636767', 'message': ""Add PermitRootLogin option in sshd_config before leapp.\n\nOne of the pre-requisites for leapp tool to be able to upgrade\nis the existence of the PermitRootLogin option in the\nsshd_config file. It doesn't mind which value it has, it needs\nto be set. For that reason, this patch will set the value to\nwithout-password (which is the default for the PermitRootLogin\nfield).\n\nThe selection of the option isn't really relevant, as during\nthe installation of the openstack services puppet will just\noverwrite the sshd_config, therefore this is simply a hack\nfor leapp to let us upgrade.\n\nChange-Id: Id647896fda6cc3fe7bf5eb5ba2de05111d174092\n""}, {'number': 4, 'created': '2020-08-10 09:12:10.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8e5ccb8cb3be3425c831c2e12407430b052cdde', 'message': ""Add PermitRootLogin option in sshd_config before leapp.\n\nOne of the pre-requisites for leapp tool to be able to upgrade\nis the existence of the PermitRootLogin option in the\nsshd_config file. It doesn't mind which value it has, it needs\nto be set. For that reason, this patch will set the value to\nwithout-password (which is the default for the PermitRootLogin\nfield).\n\nThe selection of the option isn't really relevant, as during\nthe installation of the openstack services puppet will just\noverwrite the sshd_config, therefore this is simply a hack\nfor leapp to let us upgrade.\n\nChange-Id: Id647896fda6cc3fe7bf5eb5ba2de05111d174092\n""}]",2,739242,d8e5ccb8cb3be3425c831c2e12407430b052cdde,32,11,4,26343,,,0,"Add PermitRootLogin option in sshd_config before leapp.

One of the pre-requisites for leapp tool to be able to upgrade
is the existence of the PermitRootLogin option in the
sshd_config file. It doesn't mind which value it has, it needs
to be set. For that reason, this patch will set the value to
without-password (which is the default for the PermitRootLogin
field).

The selection of the option isn't really relevant, as during
the installation of the openstack services puppet will just
overwrite the sshd_config, therefore this is simply a hack
for leapp to let us upgrade.

Change-Id: Id647896fda6cc3fe7bf5eb5ba2de05111d174092
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/739242/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,026e38f13bfa4687c7cfc8e563b353ed23bf340b,ffwd-upgrade2," - name: ""check sshd_config file"" stat: path: ""/etc/ssh/sshd_config"" register: sshd_config_result - name: ""add PermitRootLogin option for leapp"" lineinfile: path: ""/etc/ssh/sshd_config"" regexp: ""^(# *)?PermitRootLogin"" line: ""PermitRootLogin no""",,9,1
openstack%2Fpuppet-keystone~stable%2Fussuri~Ia43e9dcd8085bbb0954b64873504398a85771032,openstack/puppet-keystone,stable/ussuri,Ia43e9dcd8085bbb0954b64873504398a85771032,Unset public_endpoint by default,MERGED,2020-07-22 06:20:25.000000000,2020-08-11 07:47:19.000000000,2020-08-10 18:54:51.000000000,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 06:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/8408913f19873412781b4ebd5cd1bbd6c92cb450', 'message': 'Unset public_endpoint by default\n\nWhen public_endpoint is set but different urls are used for endpoints\n(especially for admin endpoint and public endpoint), it can cause\nproblem with self-url detection in keystone because it always assumes\nthat the url should be directed to that public_endpoint even when\na request comes from admin endpoint.\n\nThis patch makes public_endpoint unset by default to avoid issues in\nthe deployment where admin endpoint and public endpoint are still\nseparated.\n\nChange-Id: Ia43e9dcd8085bbb0954b64873504398a85771032\n(cherry picked from commit ed815918f83e7b87c292bfa41cf170a0f78d7406)\n'}, {'number': 2, 'created': '2020-07-22 12:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/4db6b00910c7fc16755a21c7f278aed297011035', 'message': 'Unset public_endpoint by default\n\nWhen public_endpoint is set but different urls are used for endpoints\n(especially for admin endpoint and public endpoint), it can cause\nproblem with self-url detection in keystone because it always assumes\nthat the url should be directed to that public_endpoint even when\na request comes from admin endpoint.\n\nThis patch makes public_endpoint unset by default to avoid issues in\nthe deployment where admin endpoint and public endpoint are still\nseparated.\n\nChange-Id: Ia43e9dcd8085bbb0954b64873504398a85771032\n(cherry picked from commit 7fb347b888abdeefc1dce4bfb0adb5ed56fce86b)\n'}, {'number': 3, 'created': '2020-07-27 00:00:24.000000000', 'files': ['releasenotes/notes/unset-public_endpoint-1f28429335f3d0d7.yaml', 'manifests/init.pp', 'spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/5f19d18dd93b0f9e48ad75a216b2b6145760c870', 'message': 'Unset public_endpoint by default\n\nWhen public_endpoint is set but different urls are used for endpoints\n(especially for admin endpoint and public endpoint), it can cause\nproblem with self-url detection in keystone because it always assumes\nthat the url should be directed to that public_endpoint even when\na request comes from admin endpoint.\n\nThis patch makes public_endpoint unset by default to avoid issues in\nthe deployment where admin endpoint and public endpoint are still\nseparated.\n\nRelated-bug: #1889017\nChange-Id: Ia43e9dcd8085bbb0954b64873504398a85771032\n(cherry picked from commit a1a1e62012111e562dd2b1aabd0d6af3817eb307)\n'}]",0,742350,5f19d18dd93b0f9e48ad75a216b2b6145760c870,23,5,3,9816,,,0,"Unset public_endpoint by default

When public_endpoint is set but different urls are used for endpoints
(especially for admin endpoint and public endpoint), it can cause
problem with self-url detection in keystone because it always assumes
that the url should be directed to that public_endpoint even when
a request comes from admin endpoint.

This patch makes public_endpoint unset by default to avoid issues in
the deployment where admin endpoint and public endpoint are still
separated.

Related-bug: #1889017
Change-Id: Ia43e9dcd8085bbb0954b64873504398a85771032
(cherry picked from commit a1a1e62012111e562dd2b1aabd0d6af3817eb307)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/50/742350/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/unset-public_endpoint-1f28429335f3d0d7.yaml', 'manifests/init.pp', 'spec/classes/keystone_init_spec.rb']",3,8408913f19873412781b4ebd5cd1bbd6c92cb450,bug/1889017, is_expected.to contain_keystone_config('DEFAULT/public_endpoint').with_value('<SERVICE DEFAULT>')," is_expected.to contain_keystone_config('DEFAULT/public_endpoint').with_value('http://127.0.0.1:5000') describe 'when public_bind_host or public_bind_port are set' do describe 'when ipv6 loopback is set' do let :params do { :public_bind_host => '::0' } end it { is_expected.to contain_keystone_config(""DEFAULT/public_endpoint"").with_value('http://[::1]:5000') } end describe 'when ipv4 address is set' do let :params do { :public_bind_host => '192.168.0.1', :public_port => '15000' } end it { is_expected.to contain_keystone_config(""DEFAULT/public_endpoint"").with_value('http://192.168.0.1:15000') } end describe 'when unenclosed ipv6 address is set' do let :params do { :public_bind_host => '2001:db8::1' } end it { is_expected.to contain_keystone_config(""DEFAULT/public_endpoint"").with_value('http://[2001:db8::1]:5000') } end describe 'when enclosed ipv6 address is set' do let :params do { :public_bind_host => '[2001:db8::1]' } end it { is_expected.to contain_keystone_config(""DEFAULT/public_endpoint"").with_value('http://[2001:db8::1]:5000') } end end 'public_endpoint' => 'https://localhost:5000', it {is_expected.to contain_keystone_config('DEFAULT/public_endpoint').with_value('https://localhost:5000')} it {is_expected.to contain_keystone_config('DEFAULT/public_endpoint').with_value('http://127.0.0.1:5000')}",9,64
openstack%2Ftripleo-common~master~I694902dd9ea0eb62dedb41d78dc8cd45759cfd8b,openstack/tripleo-common,master,I694902dd9ea0eb62dedb41d78dc8cd45759cfd8b,Add a real-time kernel hardened images for python3,MERGED,2020-07-24 16:48:50.000000000,2020-08-11 07:26:38.000000000,2020-08-11 07:24:16.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-24 16:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c6c0694af40d72fcc56c18a1b61ea36355808d63', 'message': 'Add a real-time kernel hardened images for python3\n\nAdd a real-time kernel hardened images for python3\n\nChange-Id: I694902dd9ea0eb62dedb41d78dc8cd45759cfd8b\n'}, {'number': 2, 'created': '2020-07-24 16:59:17.000000000', 'files': ['image-yaml/overcloud-hardened-images-python3-rt-kernel.yaml', 'releasenotes/notes/add-real-time-kernel-images-cc790c6d7b6229da.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f0abcf0348a9267b922ce90962d16b3fbc9fbd18', 'message': 'Add a real-time kernel hardened images for python3\n\nAdd a real-time kernel hardened images for python3\n\nChange-Id: I694902dd9ea0eb62dedb41d78dc8cd45759cfd8b\n'}]",0,742945,f0abcf0348a9267b922ce90962d16b3fbc9fbd18,10,4,2,7130,,,0,"Add a real-time kernel hardened images for python3

Add a real-time kernel hardened images for python3

Change-Id: I694902dd9ea0eb62dedb41d78dc8cd45759cfd8b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/45/742945/1 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-hardened-images-python3-rt-kernel.yaml', 'releasenotes/notes/add-real-time-kernel-images-cc790c6d7b6229da.yaml']",2,c6c0694af40d72fcc56c18a1b61ea36355808d63,rtkernel,"--- features: - Added a image yaml for real time kernels support . If you use it, don't forget to also add the rhel-8-for-x86_64-rt-rpms channel. ",,48,0
openstack%2Ftripleo-heat-templates~master~Ib5f017e95f961c04da3201d75ed17424e168b270,openstack/tripleo-heat-templates,master,Ib5f017e95f961c04da3201d75ed17424e168b270,Unset keystone::public_endpoint,MERGED,2020-07-26 23:59:28.000000000,2020-08-11 06:59:07.000000000,2020-08-11 06:59:07.000000000,"[{'_account_id': 3153}, {'_account_id': 5046}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-26 23:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/83c380c288f72741e4d49d638cbc4ecfef780bc6', 'message': 'Unset public_endpoint\n\nWhen public_endpoint parameter is set, keystone composes request urls\nfrom that parameter. However this can cause incorrect url detection\nespecially for requests coming from admin endpoint, because we use\ndifferent urls for each endpoints (admin/internal/public) in TripleO\ndeployment.\n\nThis patch unsets that public_endpoint parameter and makes keystone\ndetect request urls by headers passed from haproxy.\n\nCloses-bug: #1889017\nDepends-on: https://review.opendev.org/#/c/742349/\nChange-Id: Ib5f017e95f961c04da3201d75ed17424e168b270\n'}, {'number': 2, 'created': '2020-07-27 00:04:42.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac50d6483da28748877ce2f1ac2d42ec4cc04b8b', 'message': 'Unset keystone::public_endpoint\n\nWhen public_endpoint parameter is set, keystone composes request urls\nfrom that parameter. However this can cause incorrect url detection\nespecially for requests coming from admin endpoint, because we use\ndifferent urls for each endpoints (admin/internal/public) in TripleO\ndeployment.\n\nThis patch unsets that public_endpoint parameter and makes keystone\ndetect request urls by headers passed from haproxy.\n\nCloses-bug: #1889017\nDepends-on: https://review.opendev.org/#/c/742349/\nChange-Id: Ib5f017e95f961c04da3201d75ed17424e168b270\n'}]",0,743114,ac50d6483da28748877ce2f1ac2d42ec4cc04b8b,14,7,2,9816,,,0,"Unset keystone::public_endpoint

When public_endpoint parameter is set, keystone composes request urls
from that parameter. However this can cause incorrect url detection
especially for requests coming from admin endpoint, because we use
different urls for each endpoints (admin/internal/public) in TripleO
deployment.

This patch unsets that public_endpoint parameter and makes keystone
detect request urls by headers passed from haproxy.

Closes-bug: #1889017
Depends-on: https://review.opendev.org/#/c/742349/
Change-Id: Ib5f017e95f961c04da3201d75ed17424e168b270
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/743114/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,83c380c288f72741e4d49d638cbc4ecfef780bc6,bug/1889017,," keystone::public_endpoint: {get_param: [EndpointMap, KeystonePublic, uri_no_suffix]}",0,1
openstack%2Fpuppet-placement~master~I76eaeef767b3489adeca572e7bf947e4948faa4f,openstack/puppet-placement,master,I76eaeef767b3489adeca572e7bf947e4948faa4f,Add basic beaker tests,MERGED,2020-08-07 00:50:18.000000000,2020-08-11 06:56:58.000000000,2020-08-11 06:56:58.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 00:50:18.000000000', 'files': ['spec/acceptance/placement_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/bce43d94ff65337c25b8197ac4f88287155f31fc', 'message': 'Add basic beaker tests\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I76eaeef767b3489adeca572e7bf947e4948faa4f\n'}]",0,745271,bce43d94ff65337c25b8197ac4f88287155f31fc,9,4,1,9816,,,0,"Add basic beaker tests

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: I76eaeef767b3489adeca572e7bf947e4948faa4f
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/71/745271/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/placement_wsgi_apache_spec.rb'],1,bce43d94ff65337c25b8197ac4f88287155f31fc,centos8-beaker,"require 'spec_helper_acceptance' describe 'basic placement' do context 'default parameters' do it 'should work with no errors' do pp= <<-EOS include openstack_integration include openstack_integration::repos include openstack_integration::apache include openstack_integration::mysql include openstack_integration::keystone include openstack_integration::placement EOS # Run it twice and test for idempotency apply_manifest(pp, :catch_failures => true) apply_manifest(pp, :catch_changes => true) end describe port(8778) do it { is_expected.to be_listening } end end end ",,26,0
openstack%2Fopenstack-helm-infra~master~I5aedbdcdbba397a9fddde19a0898cb91de08553a,openstack/openstack-helm-infra,master,I5aedbdcdbba397a9fddde19a0898cb91de08553a,Update alertmanager include snmp_notifier function,MERGED,2020-08-07 15:45:37.000000000,2020-08-11 06:18:26.000000000,2020-08-11 06:16:09.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 30582}, {'_account_id': 30777}, {'_account_id': 31713}]","[{'number': 1, 'created': '2020-08-07 15:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d2201dac3d08a7eb748e45768068a549e931ea9e', 'message': 'Update alertmanager include snmp_notifier function\n\nChange-Id: I5aedbdcdbba397a9fddde19a0898cb91de08553a\n'}, {'number': 2, 'created': '2020-08-07 16:25:46.000000000', 'files': ['prometheus-alertmanager/templates/bin/_alertmanager.sh.tpl', 'prometheus-alertmanager/templates/statefulset.yaml', 'prometheus-alertmanager/templates/configmap-etc.yaml', 'prometheus-alertmanager/values.yaml', 'tools/deployment/multinode/060-alertmanager.sh', 'prometheus-alertmanager/templates/snmp-notifier/snmp-service.yaml', 'prometheus/values.yaml', 'prometheus-alertmanager/templates/snmp-notifier/snmp-deployment.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7c94deae4337b4981e2d3f3f8dda8f7c508778b1', 'message': 'Update alertmanager include snmp_notifier function\n\nChange-Id: I5aedbdcdbba397a9fddde19a0898cb91de08553a\n'}]",2,745363,7c94deae4337b4981e2d3f3f8dda8f7c508778b1,20,7,2,31713,,,0,"Update alertmanager include snmp_notifier function

Change-Id: I5aedbdcdbba397a9fddde19a0898cb91de08553a
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/63/745363/2 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-alertmanager/templates/bin/_alertmanager.sh.tpl', 'prometheus-alertmanager/templates/statefulset.yaml', 'prometheus-alertmanager/templates/configmap-etc.yaml', 'prometheus-alertmanager/values.yaml', 'tools/deployment/multinode/060-alertmanager.sh', 'prometheus-alertmanager/templates/snmp-notifier/snmp-service.yaml', 'prometheus/values.yaml', 'prometheus-alertmanager/templates/snmp-notifier/snmp-deployment.yaml']",8,d2201dac3d08a7eb748e45768068a549e931ea9e,,"{{/* Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.snmpnotifier.deployment }} {{- $envAll := . }} {{- $mounts_snmpnotifier := .Values.pod.mounts.snmpnotifier.snmpnotifier }} {{- $mounts_snmpnotifier_init := .Values.pod.mounts.snmpnotifier.init_container }} {{- $serviceAccountName := ""snmpnotifier"" }} {{ tuple $envAll ""snmpnotifier"" $serviceAccountName | include ""helm-toolkit.snippets.kubernetes_pod_rbac_serviceaccount"" }} --- apiVersion: apps/v1 kind: Deployment metadata: name: snmpnotifier annotations: {{ tuple $envAll | include ""helm-toolkit.snippets.release_uuid"" }} labels: {{ tuple $envAll ""snmpnotifier"" ""server"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 4 }} spec: podManagementPolicy: ""Parallel"" replicas: {{ .Values.pod.replicas.snmpnotifier }} selector: matchLabels: {{ tuple $envAll ""snmpnotifier"" ""server"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 6 }} template: metadata: labels: {{ tuple $envAll ""snmpnotifier"" ""server"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 8 }} annotations: {{ dict ""envAll"" $envAll ""podName"" ""snmpnotifier"" ""containerNames"" (list ""snmpnotifier"" ""init"") | include ""helm-toolkit.snippets.kubernetes_mandatory_access_control_annotation"" | indent 8 }} spec: {{ dict ""envAll"" $envAll ""application"" ""server"" | include ""helm-toolkit.snippets.kubernetes_pod_security_context"" | indent 6 }} serviceAccountName: {{ $serviceAccountName }} affinity: {{ tuple $envAll ""snmpnotifier"" ""server"" | include ""helm-toolkit.snippets.kubernetes_pod_anti_affinity"" | indent 8 }} nodeSelector: {{ .Values.labels.snmpnotifier.node_selector_key }}: {{ .Values.labels.snmpnotifier.node_selector_value | quote }} terminationGracePeriodSeconds: {{ .Values.pod.lifecycle.termination_grace_period.snmpnotifier.timeout | default ""30"" }} containers: - name: snmpnotifier {{ tuple $envAll ""snmpnotifier"" | include ""helm-toolkit.snippets.image"" | indent 10 }} {{ tuple $envAll $envAll.Values.pod.resources.snmpnotifier | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} {{ dict ""envAll"" $envAll ""application"" ""server"" ""container"" ""snmpnotifier"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }} args: - --alert.severity-label={{ .Values.conf.command_flags.snmpnotifier.alert_severity_label}} - --alert.default-severity={{ .Values.conf.command_flags.snmpnotifier.alert_default_severity}} - --snmp.version={{ .Values.conf.command_flags.snmpnotifier.snmp_version}} - --snmp.destination={{ .Values.conf.command_flags.snmpnotifier.snmp_desination}} - --snmp.trap-default-oid={{ .Values.conf.command_flags.snmpnotifier.snmp_trap_default_oid}} - --snmp.trap-description-template={{ .Values.conf.command_flags.snmpnotifier.snmp_trap_description_template}} - --snmp.community={{ .Values.conf.command_flags.snmpnotifier.snmp_community}} - --log.level={{ .Values.conf.command_flags.snmpnotifier.log_level}} ports: - name: snmp-api containerPort: {{ tuple ""snmpnotifier"" ""internal"" ""api"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} readinessProbe: httpGet: path: /health port: {{ tuple ""snmpnotifier"" ""internal"" ""api"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} initialDelaySeconds: 30 timeoutSeconds: 30 {{- end }} ",,192,28
openstack%2Fopenstack-helm-infra~master~I2931eb1408d1d8145b476a76ff8cfac36e9f2bfe,openstack/openstack-helm-infra,master,I2931eb1408d1d8145b476a76ff8cfac36e9f2bfe,Add missing security context template to mariadb-backup pod,MERGED,2020-07-29 19:40:12.000000000,2020-08-11 05:29:56.000000000,2020-08-11 05:28:51.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18236}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 29161}, {'_account_id': 30746}]","[{'number': 1, 'created': '2020-07-29 19:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f1ce660d5257b500d5ff64dae2088843013aaadd', 'message': 'Add missing security context template to mariadb-backup pod\n\nChange-Id: I2931eb1408d1d8145b476a76ff8cfac36e9f2bfe\n'}, {'number': 2, 'created': '2020-07-29 19:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c3b3a7af7412c14717698f27ce6b0769359f5aad', 'message': 'Add missing security context template to mariadb-backup pod\n\nValues are already overridden in values.yaml\nhttps://github.com/openstack/openstack-helm-infra/blob/master/mariadb/values.yaml#L112-L122\n\nChange-Id: I2931eb1408d1d8145b476a76ff8cfac36e9f2bfe\n'}, {'number': 3, 'created': '2020-07-30 23:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/47b182f7729c2e5d6aa9838a8e88bd5983321f17', 'message': 'Add missing security context template to mariadb-backup pod\n\nValues are already overridden in values.yaml\nhttps://github.com/openstack/openstack-helm-infra/blob/master/mariadb/values.yaml#L112-L122\n\nChange-Id: I2931eb1408d1d8145b476a76ff8cfac36e9f2bfe\n'}, {'number': 4, 'created': '2020-07-30 23:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8f8d1abebe1fdfc6976c697b75291b93134753d7', 'message': 'Add missing security context template to mariadb-backup pod\n\nValues are already overridden in values.yaml\nhttps://github.com/openstack/openstack-helm-infra/blob/master/mariadb/values.yaml#L112-L122\n\nChange-Id: I2931eb1408d1d8145b476a76ff8cfac36e9f2bfe\n'}, {'number': 5, 'created': '2020-07-31 02:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ef4b393f4485912012cfc67229b7025e53d91fad', 'message': 'Add missing security context template to mariadb-backup pod\n\nValues are already overridden in values.yaml\nhttps://github.com/openstack/openstack-helm-infra/blob/master/mariadb/values.yaml#L112-L122\n\nChange-Id: I2931eb1408d1d8145b476a76ff8cfac36e9f2bfe\n'}, {'number': 6, 'created': '2020-07-31 20:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8bc17a22f50083811c7e373db02de8eef4a3ce3f', 'message': 'Add missing security context template to mariadb-backup pod\n\nValues are already overridden in values.yaml\nhttps://github.com/openstack/openstack-helm-infra/blob/master/mariadb/values.yaml#L112-L122\n\nChange-Id: I2931eb1408d1d8145b476a76ff8cfac36e9f2bfe\n'}, {'number': 7, 'created': '2020-07-31 20:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0009f3e64da2f9a0dbf42cec2aff9809ffad4fcf', 'message': 'Add missing security context template to mariadb-backup pod\n\nValues are already overridden in values.yaml\nhttps://github.com/openstack/openstack-helm-infra/blob/master/mariadb/values.yaml#L112-L122\n\nChange-Id: I2931eb1408d1d8145b476a76ff8cfac36e9f2bfe\n'}, {'number': 8, 'created': '2020-07-31 20:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f9a283bcb5a108a45624be5a6b7506ff289a17ac', 'message': 'Add missing security context template to mariadb-backup pod\n\nValues are already overridden in values.yaml\nhttps://github.com/openstack/openstack-helm-infra/blob/master/mariadb/values.yaml#L112-L122\n\nChange-Id: I2931eb1408d1d8145b476a76ff8cfac36e9f2bfe\n'}, {'number': 9, 'created': '2020-08-01 20:56:38.000000000', 'files': ['mariadb/templates/cron-job-backup-mariadb.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4397ed6152343ef17c602ba69777b09d553b82fd', 'message': 'Add missing security context template to mariadb-backup pod\n\nValues are already overridden in values.yaml\nhttps://github.com/openstack/openstack-helm-infra/blob/master/mariadb/values.yaml#L112-L122\n\nChange-Id: I2931eb1408d1d8145b476a76ff8cfac36e9f2bfe\n'}]",0,743831,4397ed6152343ef17c602ba69777b09d553b82fd,25,8,9,29161,,,0,"Add missing security context template to mariadb-backup pod

Values are already overridden in values.yaml
https://github.com/openstack/openstack-helm-infra/blob/master/mariadb/values.yaml#L112-L122

Change-Id: I2931eb1408d1d8145b476a76ff8cfac36e9f2bfe
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/31/743831/9 && git format-patch -1 --stdout FETCH_HEAD,['mariadb/templates/cron-job-backup-mariadb.yaml'],1,f1ce660d5257b500d5ff64dae2088843013aaadd,,"{{ dict ""envAll"" $envAll ""application"" ""mariadb_backup"" | include ""helm-toolkit.snippets.kubernetes_pod_security_context"" | indent 10 }}",,1,0
openstack%2Fmistral-tempest-plugin~master~I3651224de022bff78840df8cd6ca95792dc5cce5,openstack/mistral-tempest-plugin,master,I3651224de022bff78840df8cd6ca95792dc5cce5,[goal] Migrate mistral-tempest-plugin jobs to focal,MERGED,2020-07-30 21:21:54.000000000,2020-08-11 04:58:20.000000000,2020-08-11 04:58:20.000000000,"[{'_account_id': 8556}, {'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-07-30 21:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-tempest-plugin/commit/4ea3112ebb27e4c7528a6305538daf8a6255c2b8', 'message': '[goal] Migrate mistral-tempest-plugin jobs to focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nMost of the Tempest jobs will be migrate automatically once devstack\nbase job start running on Focal(Depends-On).\n\nStable jobs testing stable branch needs to keep running on their supported\ndistro version which is bionic from stein till ussuri.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nChange-Id: I3651224de022bff78840df8cd6ca95792dc5cce5\nStory: #2007865\nTask: #40196\n'}, {'number': 2, 'created': '2020-07-31 17:20:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/mistral-tempest-plugin/commit/c3bf5af3605271e5de9276f6230e8f829058ab60', 'message': '[goal] Migrate mistral-tempest-plugin jobs to focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nMost of the Tempest jobs will be migrate automatically once devstack\nbase job start running on Focal(Depends-On).\n\nStable jobs testing stable branch needs to keep running on their supported\ndistro version which is bionic from stein till ussuri.\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nChange-Id: I3651224de022bff78840df8cd6ca95792dc5cce5\nStory: #2007865\nTask: #40196\n'}]",0,744056,c3bf5af3605271e5de9276f6230e8f829058ab60,11,6,2,8556,,,0,"[goal] Migrate mistral-tempest-plugin jobs to focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Most of the Tempest jobs will be migrate automatically once devstack
base job start running on Focal(Depends-On).

Stable jobs testing stable branch needs to keep running on their supported
distro version which is bionic from stein till ussuri.

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html

Change-Id: I3651224de022bff78840df8cd6ca95792dc5cce5
Story: #2007865
Task: #40196
",git fetch https://review.opendev.org/openstack/mistral-tempest-plugin refs/changes/56/744056/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4ea3112ebb27e4c7528a6305538daf8a6255c2b8,migrate-to-focal, nodeset: openstack-single-node-bionic nodeset: openstack-single-node-bionic nodeset: openstack-single-node-bionic,,3,0
openstack%2Ftripleo-common~stable%2Ftrain~I3832332abdfd7daaf373dc0924fec268f159d774,openstack/tripleo-common,stable/train,I3832332abdfd7daaf373dc0924fec268f159d774,Add exponential backoff to ratelimited requests,MERGED,2020-08-07 13:10:58.000000000,2020-08-11 04:33:51.000000000,2020-08-11 04:32:03.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-07 13:10:58.000000000', 'files': ['tripleo_common/image/exception.py', 'tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8b379fb9f0528a1b7b034d1a3f5e1fcfe64201ef', 'message': ""Add exponential backoff to ratelimited requests\n\nIf we're ratelimited on a request, we should retry the request but back\noff significantly.  Previously we're not really handling 429 any\ndifferent than other requests which may lead to the requests being\nretried too quickly.\n\nChange-Id: I3832332abdfd7daaf373dc0924fec268f159d774\nRelated-Bug: #1889372\nRelated-bug: #1889122\n(cherry picked from commit d4f6eb64d4a54cfa90d4c1572ef54495f151fea5)\n""}]",0,745323,8b379fb9f0528a1b7b034d1a3f5e1fcfe64201ef,17,5,1,14985,,,0,"Add exponential backoff to ratelimited requests

If we're ratelimited on a request, we should retry the request but back
off significantly.  Previously we're not really handling 429 any
different than other requests which may lead to the requests being
retried too quickly.

Change-Id: I3832332abdfd7daaf373dc0924fec268f159d774
Related-Bug: #1889372
Related-bug: #1889122
(cherry picked from commit d4f6eb64d4a54cfa90d4c1572ef54495f151fea5)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/23/745323/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/exception.py', 'tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",3,8b379fb9f0528a1b7b034d1a3f5e1fcfe64201ef,bug/1889372-stable/train,"from tripleo_common.image.exception import ImageRateLimitedException if status_code == 429: raise ImageRateLimitedException('Rate Limited while requesting ' '{}'.format(request.url)) @tenacity.retry( # Retry up to 5 times with longer time for rate limit reraise=True, retry=tenacity.retry_if_exception_type( ImageRateLimitedException ), wait=tenacity.wait_random_exponential(multiplier=1.5, max=60), stop=tenacity.stop_after_attempt(5) ) @tenacity.retry( # Retry up to 5 times with longer time (requests.exceptions.RequestException, ImageRateLimitedException) wait=tenacity.wait_random_exponential(multiplier=1.5, max=60),"," @tenacity.retry( # Retry up to 5 times with jittered exponential backoff requests.exceptions.RequestException wait=tenacity.wait_random_exponential(multiplier=1, max=10),",39,3
openstack%2Ftripleo-heat-templates~stable%2Fqueens~If1178d80e32715f2cbf028182c59c2f434776bef,openstack/tripleo-heat-templates,stable/queens,If1178d80e32715f2cbf028182c59c2f434776bef,[Queens-only] fix paths for collectd-standalone,MERGED,2020-07-23 08:28:41.000000000,2020-08-11 04:32:12.000000000,2020-08-11 04:32:12.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-23 08:28:41.000000000', 'files': ['environments/metrics/collectd-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/225ebc53cf8b7bc3cedde77d453135969b4b20c7', 'message': '[Queens-only] fix paths for collectd-standalone\n\nDuring the rename/cherry-pick from commit\n492816a16637c41176778d0d1703bbafbba59885\nthis got lost. In its current form, the path is wrong.\n\nChange-Id: If1178d80e32715f2cbf028182c59c2f434776bef\n'}]",0,742612,225ebc53cf8b7bc3cedde77d453135969b4b20c7,8,4,1,4264,,,0,"[Queens-only] fix paths for collectd-standalone

During the rename/cherry-pick from commit
492816a16637c41176778d0d1703bbafbba59885
this got lost. In its current form, the path is wrong.

Change-Id: If1178d80e32715f2cbf028182c59c2f434776bef
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/742612/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/metrics/collectd-standalone.yaml'],1,225ebc53cf8b7bc3cedde77d453135969b4b20c7,collectd-standalone, OS::TripleO::Services::Collectd: ../../docker/services/metrics/collectd.yaml, OS::TripleO::Services::Collectd: ../docker/services/metrics/collectd.yaml,1,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I37611d516495b2b82b56a08df8b6ac38e0687083,openstack/tripleo-heat-templates,stable/queens,I37611d516495b2b82b56a08df8b6ac38e0687083,Add j2 per-role MetricsQdrNetwork,MERGED,2020-08-07 12:22:49.000000000,2020-08-11 04:32:10.000000000,2020-08-11 04:32:09.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30357}]","[{'number': 1, 'created': '2020-08-07 12:22:49.000000000', 'files': ['docker/services/metrics/qdr.yaml', 'network/service_net_map.j2.yaml', 'puppet/services/ceilometer-agent-notification.yaml', 'puppet/services/metrics/collectd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/058b3d3ecf076bd0dcdb86b607767f595c9da79b', 'message': 'Add j2 per-role MetricsQdrNetwork\n\nAllow the MetricsQdrNetwork to vary by role. This is needed\nas the CephStorage, BlockStorage, and ObjectStorage roles need\nto use the storage network, while other roles need internal_api.\n\nChange-Id: I37611d516495b2b82b56a08df8b6ac38e0687083\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\n(cherry picked from commit 0b2441cdc91c7e6a226e030927bde4be52e4591b)\n'}]",0,745316,058b3d3ecf076bd0dcdb86b607767f595c9da79b,8,5,1,5241,,,0,"Add j2 per-role MetricsQdrNetwork

Allow the MetricsQdrNetwork to vary by role. This is needed
as the CephStorage, BlockStorage, and ObjectStorage roles need
to use the storage network, while other roles need internal_api.

Change-Id: I37611d516495b2b82b56a08df8b6ac38e0687083
Signed-off-by: Ryan McCabe <rmccabe@redhat.com>
(cherry picked from commit 0b2441cdc91c7e6a226e030927bde4be52e4591b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/745316/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/metrics/qdr.yaml', 'network/service_net_map.j2.yaml', 'puppet/services/ceilometer-agent-notification.yaml', 'puppet/services/metrics/collectd.yaml']",4,058b3d3ecf076bd0dcdb86b607767f595c9da79b,," $NETWORK: get_param: - ServiceNetMap - str_replace: template: ""ROLENAMEMetricsQdrNetwork"" params: ROLENAME: {get_param: RoleName}"," $NETWORK: {get_param: [ServiceNetMap, MetricsQdrNetwork]}",29,4
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ia3764e56b526834283ae46dafe0b94e8a6639c96,openstack/tripleo-upgrade,stable/train,Ia3764e56b526834283ae46dafe0b94e8a6639c96,Switch from include to include_tasks.,MERGED,2020-07-30 09:22:48.000000000,2020-08-11 04:32:06.000000000,2020-08-11 04:32:06.000000000,"[{'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-07-30 09:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/72b0990e523d7a5a2a764a644a414965f7d78614', 'message': 'Switch from include to include_tasks.\n\nCurrently the main entry point to select the tasks use the deprecated\ninclude tasks.  This leads to a lot of skipped tasks during the any\nrun.\n\nIf you run update you can see all ffwd upgrade tasks and upgrade tasks\nbeing skipped.\n\nThis fix this by using include_tasks with the tag always.\n\nCloses-Bug: #1889126\nChange-Id: Ia3764e56b526834283ae46dafe0b94e8a6639c96\n(cherry picked from commit cdc3afc9e818234f7e7d562044317052e7189190)\n'}, {'number': 2, 'created': '2020-07-30 11:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/940b672e660714a5b4fa7095b6245820e9e1a771', 'message': 'Switch from include to include_tasks.\n\nCurrently the main entry point to select the tasks use the deprecated\ninclude tasks.  This leads to a lot of skipped tasks during the any\nrun.\n\nIf you run update you can see all ffwd upgrade tasks and upgrade tasks\nbeing skipped.\n\nThis fix this by using include_tasks with the tag always.\n\nCloses-Bug: #1889126\nChange-Id: Ia3764e56b526834283ae46dafe0b94e8a6639c96\n(cherry picked from commit cdc3afc9e818234f7e7d562044317052e7189190)\n'}, {'number': 3, 'created': '2020-07-30 11:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1fce83a5e829423016532d1cf2af59e8633f964d', 'message': 'Switch from include to include_tasks.\n\nCurrently the main entry point to select the tasks use the deprecated\ninclude tasks.  This leads to a lot of skipped tasks during the any\nrun.\n\nIf you run update you can see all ffwd upgrade tasks and upgrade tasks\nbeing skipped.\n\nThis fix this by using include_tasks with the tag always.\n\nCloses-Bug: #1889126\nChange-Id: Ia3764e56b526834283ae46dafe0b94e8a6639c96\n(cherry picked from commit cdc3afc9e818234f7e7d562044317052e7189190)\n'}, {'number': 4, 'created': '2020-08-04 09:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/96560c7b8e4fc162fff726deef938ebb4997ccaf', 'message': 'Switch from include to include_tasks.\n\nCurrently the main entry point to select the tasks use the deprecated\ninclude tasks.  This leads to a lot of skipped tasks during the any\nrun.\n\nIf you run update you can see all ffwd upgrade tasks and upgrade tasks\nbeing skipped.\n\nThis fix this by using include_tasks with the tag always.\n\nCloses-Bug: #1889126\nChange-Id: Ia3764e56b526834283ae46dafe0b94e8a6639c96\n(cherry picked from commit 7f2d2f9140651588435da997d1e0282aef8fd584)\n'}, {'number': 5, 'created': '2020-08-10 09:14:24.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8f6264becbe0d227f5184db5cde51453bd0b9d2a', 'message': 'Switch from include to include_tasks.\n\nCurrently the main entry point to select the tasks use the deprecated\ninclude tasks.  This leads to a lot of skipped tasks during the any\nrun.\n\nIf you run update you can see all ffwd upgrade tasks and upgrade tasks\nbeing skipped.\n\nThis fix this by using include_tasks with the tag always.\n\nCloses-Bug: #1889126\nChange-Id: Ia3764e56b526834283ae46dafe0b94e8a6639c96\n(cherry picked from commit 7f2d2f9140651588435da997d1e0282aef8fd584)\n'}]",1,743933,8f6264becbe0d227f5184db5cde51453bd0b9d2a,14,4,5,6816,,,0,"Switch from include to include_tasks.

Currently the main entry point to select the tasks use the deprecated
include tasks.  This leads to a lot of skipped tasks during the any
run.

If you run update you can see all ffwd upgrade tasks and upgrade tasks
being skipped.

This fix this by using include_tasks with the tag always.

Closes-Bug: #1889126
Change-Id: Ia3764e56b526834283ae46dafe0b94e8a6639c96
(cherry picked from commit 7f2d2f9140651588435da997d1e0282aef8fd584)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/33/743933/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,72b0990e523d7a5a2a764a644a414965f7d78614,train, include_tasks: common/create_workload.yml tags: always - include_tasks: upgrade/main.yml tags: always - include_tasks: update/main.yml tags: always - include_tasks: fast-forward-upgrade/main.yml tags: always, include: common/create_workload.yml - include: upgrade/main.yml - include: update/main.yml - include: fast-forward-upgrade/main.yml,8,4
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ide724e398a5cd4fdaf77d1a127e9d5c32852ae6b,openstack/tripleo-upgrade,stable/train,Ide724e398a5cd4fdaf77d1a127e9d5c32852ae6b,Keep ceph-ansible 3 during whole FFU.,MERGED,2020-08-10 09:13:36.000000000,2020-08-11 04:32:05.000000000,2020-08-11 04:32:05.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-10 09:13:36.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/991c2500ec9daa0006794a630fcad5a2aaad8034', 'message': 'Keep ceph-ansible 3 during whole FFU.\n\nTo be able to FFU a ceph-enabled environment, it is required to\nkeep installed in the system ceph-ansible 3 in the Undercloud until the\nconverge step.\n\nThis patch adds the ceph-ansible package in the to_keep files, as well as\nmodifies some of the Undercloud upgrade tasks to make sure the package\nsurvives to the leapp upgrade.\n\nCo-Authored-By: Jesse Pretorius <jesse@odyssey4.me>\nChange-Id: Ide724e398a5cd4fdaf77d1a127e9d5c32852ae6b\n(cherry picked from commit d43cfabd5163c9c50aac21caccd3b4f6858cc72b)\n'}]",0,745503,991c2500ec9daa0006794a630fcad5a2aaad8034,6,3,1,6816,,,0,"Keep ceph-ansible 3 during whole FFU.

To be able to FFU a ceph-enabled environment, it is required to
keep installed in the system ceph-ansible 3 in the Undercloud until the
converge step.

This patch adds the ceph-ansible package in the to_keep files, as well as
modifies some of the Undercloud upgrade tasks to make sure the package
survives to the leapp upgrade.

Co-Authored-By: Jesse Pretorius <jesse@odyssey4.me>
Change-Id: Ide724e398a5cd4fdaf77d1a127e9d5c32852ae6b
(cherry picked from commit d43cfabd5163c9c50aac21caccd3b4f6858cc72b)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/03/745503/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,991c2500ec9daa0006794a630fcad5a2aaad8034,," -python-httplib2 -python-passlib -python2-netaddr -ceph-ansible - name: ""Add packages into leapp's to_remove/to_install/to_keep files"" - file: 'to_remove' package: 'openvswitch2.11' - file: 'to_install' package: 'openvswitch2.13' - file: 'to_keep' package: 'ceph-ansible' yum repolist -q 2> /dev/null | grep -e rhos-16 -e 'rhel-8.*baseos' -e 'rhel-8.*appstream' -e 'rhel-8.*fdp' -e 'rhel-8.*av' -e 'ansible' | cut -d '/' -f1 | \- name: Relabel SELinux for filesystem after reboot. file: path: /.autorelabel state: touch ","- name: Add openvswitch into leapp's to_remove/to_install files - {file: 'to_remove', package: 'openvswitch2.11'} - {file: 'to_install', package: 'openvswitch2.13'} yum repolist -q 2> /dev/null | grep -e rhos-16 -e 'rhel-8.*baseos' -e 'rhel-8.*appstream' -e 'rhel-8.*fdp' -e 'rhel-8.*av' -e 'ceph-4' | cut -d '/' -f1 | \",18,4
openstack%2Ftripleo-common~stable%2Ftrain~I306c2a3c391e32fefa834aabd6063a7b40ec5b77,openstack/tripleo-common,stable/train,I306c2a3c391e32fefa834aabd6063a7b40ec5b77,[train-only] add ed25519 to TCIB (placement image),MERGED,2020-07-15 15:36:52.000000000,2020-08-11 04:19:39.000000000,2020-08-11 04:17:39.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-15 15:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/168d06f94cde572f6e9b31be4b1c126a89b4321e', 'message': '[train-only] add ed25519 to TCIB (placement image)\n\nPorting I011d0056c34150420eb4b9dfde721a7f30a0e25a into TCIB.\nThis is needed for FFU on Train, see context on:\nhttps://github.com/openstack/tripleo-heat-templates/commit/d1e84cc4b3693bcf8b8670fce33a07e73d74cfea\n\nChange-Id: I306c2a3c391e32fefa834aabd6063a7b40ec5b77\nPartial-Bug: #1866093\n'}, {'number': 2, 'created': '2020-07-24 01:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/356de525f97f20edd9e6f621810c94a1c31d6fc9', 'message': '[train-only] add ed25519 to TCIB (placement image)\n\nPorting I011d0056c34150420eb4b9dfde721a7f30a0e25a into TCIB.\nThis is needed for FFU on Train, see context on:\nhttps://github.com/openstack/tripleo-heat-templates/commit/d1e84cc4b3693bcf8b8670fce33a07e73d74cfea\n\nChange-Id: I306c2a3c391e32fefa834aabd6063a7b40ec5b77\nPartial-Bug: #1866093\n'}, {'number': 3, 'created': '2020-07-29 02:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0034ff70908e8ddb5a75fb9f45e6c7c18147fd4c', 'message': '[train-only] add ed25519 to TCIB (placement image)\n\nPorting I011d0056c34150420eb4b9dfde721a7f30a0e25a into TCIB.\nThis is needed for FFU on Train, see context on:\nhttps://github.com/openstack/tripleo-heat-templates/commit/d1e84cc4b3693bcf8b8670fce33a07e73d74cfea\n\nChange-Id: I306c2a3c391e32fefa834aabd6063a7b40ec5b77\nPartial-Bug: #1866093\n'}, {'number': 4, 'created': '2020-07-31 12:27:56.000000000', 'files': ['container-images/tcib/base/os/placement-api/placement-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a5b956c5c68378a19c3a0fdb221fa9fb1f4545c4', 'message': '[train-only] add ed25519 to TCIB (placement image)\n\nPorting I011d0056c34150420eb4b9dfde721a7f30a0e25a into TCIB.\nThis is needed for FFU on Train, see context on:\nhttps://github.com/openstack/tripleo-heat-templates/commit/d1e84cc4b3693bcf8b8670fce33a07e73d74cfea\n\nChange-Id: I306c2a3c391e32fefa834aabd6063a7b40ec5b77\nPartial-Bug: #1866093\n'}]",0,741252,a5b956c5c68378a19c3a0fdb221fa9fb1f4545c4,20,5,4,3153,,,0,"[train-only] add ed25519 to TCIB (placement image)

Porting I011d0056c34150420eb4b9dfde721a7f30a0e25a into TCIB.
This is needed for FFU on Train, see context on:
https://github.com/openstack/tripleo-heat-templates/commit/d1e84cc4b3693bcf8b8670fce33a07e73d74cfea

Change-Id: I306c2a3c391e32fefa834aabd6063a7b40ec5b77
Partial-Bug: #1866093
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/52/741252/4 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/placement-api/placement-api.yaml'],1,168d06f94cde572f6e9b31be4b1c126a89b4321e,ed25519/train, - mariadb - mariadb-server,,2,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I6da3823bdfd73d0bbd2d94289fa50a6b6cdc90d2,openstack/tripleo-heat-templates,stable/train,I6da3823bdfd73d0bbd2d94289fa50a6b6cdc90d2,Prevent ovn dbs related facts to run on each step.,MERGED,2020-07-31 12:11:30.000000000,2020-08-11 04:17:40.000000000,2020-08-11 04:17:40.000000000,"[{'_account_id': 3153}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-07-31 12:11:30.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ce6a7a1005f6256ab7652d01485b54d732b1f745', 'message': 'Prevent ovn dbs related facts to run on each step.\n\nPut them as vars for the relevant block or in the conditional.\n\nPartial-Bug: #1886932\n\nChange-Id: I6da3823bdfd73d0bbd2d94289fa50a6b6cdc90d2\n(cherry picked from commit 0e8a7ba2002a96747ef7e7a4c72d3642ed19dbde)\n(cherry picked from commit 7e3315110a4c75531e79120e00aa1a14a7c6f7ca)\n'}]",0,744143,ce6a7a1005f6256ab7652d01485b54d732b1f745,22,7,1,8297,,,0,"Prevent ovn dbs related facts to run on each step.

Put them as vars for the relevant block or in the conditional.

Partial-Bug: #1886932

Change-Id: I6da3823bdfd73d0bbd2d94289fa50a6b6cdc90d2
(cherry picked from commit 0e8a7ba2002a96747ef7e7a4c72d3642ed19dbde)
(cherry picked from commit 7e3315110a4c75531e79120e00aa1a14a7c6f7ca)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/744143/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,ce6a7a1005f6256ab7652d01485b54d732b1f745,bug/1886932-nocondtask-stable/ussuri-stable/train, vars: ovn_dbs_image: {get_param: ContainerOvnDbsImage} ovn_dbs_image_latest: *ovn_dbs_image_pcmklatest - ovn_dbs_short_bootstrap_node_name|lower == ansible_hostname|lower - ovn_dbs_short_bootstrap_node_name|lower == ansible_hostname|lower, - name: Get docker ovn-dbs image set_fact: ovn_dbs_image: {get_param: ContainerOvnDbsImage} ovn_dbs_image_latest: *ovn_dbs_image_pcmklatest - name: set is_ovn_dbs_bootstrap_node fact set_fact: is_ovn_dbs_bootstrap_node={{ovn_dbs_short_bootstrap_node_name|lower == ansible_hostname|lower}} - is_ovn_dbs_bootstrap_node - name: set is_ovn_dbs_bootstrap_node fact tags: common set_fact: is_ovn_dbs_bootstrap_node={{ovn_dbs_short_bootstrap_node_name|lower == ansible_hostname|lower}} - is_ovn_dbs_bootstrap_node,5,11
openstack%2Ftripleo-upgrade~stable%2Ftrain~I3dc8606fc2f13abe4364576ae75e7ffc466db813,openstack/tripleo-upgrade,stable/train,I3dc8606fc2f13abe4364576ae75e7ffc466db813,Port jobs from centos7 to centos8,MERGED,2020-07-24 13:23:30.000000000,2020-08-11 04:17:38.000000000,2020-08-11 04:17:38.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 29775}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-07-24 13:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0706f08edaa295f0c2582908b48acefe96516f5b', 'message': 'Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8.\n\nThis patch also removes below job :\nRemoving centos-7-standalone-upgrade-stein\nfor stable train, As this job does rocky to stein upgrade.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1905?kanban-status=1447274\n\nDepends-On: https://review.opendev.org/#/c/738375/\nChange-Id: I3dc8606fc2f13abe4364576ae75e7ffc466db813\n'}, {'number': 2, 'created': '2020-08-03 04:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1118c334e14ce13883c8e9f29d09d9e346440674', 'message': 'Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8.\n\nThis patch also removes below job :\nRemoving centos-7-standalone-upgrade-stein\nfor stable train, As this job does rocky to stein upgrade.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1905?kanban-status=1447274\n\nChange-Id: I3dc8606fc2f13abe4364576ae75e7ffc466db813\n'}, {'number': 3, 'created': '2020-08-03 11:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2c7367c94d459b721f11ecce22c84bc2c4ef4b52', 'message': 'Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8.\n\nThis patch also removes below job :\nRemoving centos-7-standalone-upgrade-stein\nfor stable train, As this job does rocky to stein upgrade.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1905?kanban-status=1447274\n\nChange-Id: I3dc8606fc2f13abe4364576ae75e7ffc466db813\n'}, {'number': 4, 'created': '2020-08-06 05:48:00.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9b3b6c5351fe3a54a9364c176f1847ab40fa21a2', 'message': 'Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8.\n\nThis patch also removes below job :\nRemoving centos-7-standalone-upgrade-stein\nfor stable train, As this job does rocky to stein upgrade.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1905?kanban-status=1447274\n\nChange-Id: I3dc8606fc2f13abe4364576ae75e7ffc466db813\n'}]",9,742879,9b3b6c5351fe3a54a9364c176f1847ab40fa21a2,39,14,4,31075,,,0,"Port jobs from centos7 to centos8

This change ports train jobs from centos7 to centos8.

This patch also removes below job :
Removing centos-7-standalone-upgrade-stein
for stable train, As this job does rocky to stein upgrade.

https://tree.taiga.io/project/tripleo-ci-board/task/1905?kanban-status=1447274

Change-Id: I3dc8606fc2f13abe4364576ae75e7ffc466db813
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/79/742879/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,0706f08edaa295f0c2582908b48acefe96516f5b,c7-to-c8-train, - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates: dependencies: - tripleo-upgrade-centos-8-molecule - tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades: - tripleo-upgrade-centos-8-molecule - tripleo-ci-centos-8-containerized-undercloud-upgrades: - tripleo-upgrade-centos-8-molecule - tripleo-ci-centos-8-standalone-upgrade: dependencies: - tripleo-upgrade-centos-8-molecule - tripleo-upgrade-centos-8-molecule: - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates: dependencies: - tripleo-upgrade-centos-8-molecule - tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades: - tripleo-upgrade-centos-8-molecule - tripleo-upgrade-centos-8-molecule: name: tripleo-upgrade-centos-8-base nodeset: centos-8 name: tripleo-upgrade-centos-8-molecule parent: tripleo-upgrade-centos-8-base, - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: dependencies: - tripleo-upgrade-centos-7-molecule - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades: - tripleo-upgrade-centos-7-molecule - tripleo-ci-centos-7-containerized-undercloud-upgrades: - tripleo-upgrade-centos-7-molecule - tripleo-ci-centos-7-standalone-upgrade: dependencies: - tripleo-upgrade-centos-7-molecule - tripleo-ci-centos-7-standalone-upgrade-stein: dependencies: - tripleo-upgrade-centos-7-molecule - tripleo-upgrade-centos-7-molecule: - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: dependencies: - tripleo-upgrade-centos-7-molecule - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades: - tripleo-upgrade-centos-7-molecule - tripleo-ci-centos-7-standalone-upgrade-stein: dependencies: - tripleo-upgrade-centos-7-molecule - tripleo-upgrade-centos-7-molecule: name: tripleo-upgrade-centos-7-base nodeset: centos-7 name: tripleo-upgrade-centos-7-molecule parent: tripleo-upgrade-centos-7-base,18,24
openstack%2Ftripleo-quickstart~master~I270d13654281f15d5ece35ec7640798f79e891e4,openstack/tripleo-quickstart,master,I270d13654281f15d5ece35ec7640798f79e891e4,Use container-tools:2.0 instead of default rhel8 stream,MERGED,2020-08-06 15:49:59.000000000,2020-08-11 03:58:11.000000000,2020-08-11 03:57:00.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-06 15:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3d875cd767c90c7124db54e0f55fdcbfc102997c', 'message': 'Use container-tools:2.0 instead of default rhel8 stream\n\npodman 1.9.3 is coming from rhel8 stream which have some\nissues, 1.6.4-15 is coming in container-tools:2.0 so use it.\n\nChange-Id: I270d13654281f15d5ece35ec7640798f79e891e4\n'}, {'number': 2, 'created': '2020-08-07 15:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1f75e617434ede3886985acfbd7dc2ae26b3bc92', 'message': 'Use container-tools:2.0 instead of default rhel8 stream\n\ncontainer-tools:2.0 is going to ship podman-1.6.4-15 the fix needed\nfor [1] and container-tools:rhel8 is going to ship podman 1.9.3\nand since rhel8 is the default stream, we need to disable it and enable\n2.0 as needed.\n\n[1] https://review.opendev.org/#/c/736173/\n\nChange-Id: I270d13654281f15d5ece35ec7640798f79e891e4\n'}, {'number': 3, 'created': '2020-08-10 06:08:16.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-8/ussuri.yml', 'config/release/trunk/master.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-ussuri.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/centosci/master-current-tripleo.yml', 'config/release/centosci/ussuri-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9819df4f2d6f657195b69f5dacb3bcf866e8db0e', 'message': 'Use container-tools:2.0 instead of default rhel8 stream\n\ncontainer-tools:2.0 is going to ship podman-1.6.4-15 the fix needed\nfor [1] and container-tools:rhel8 is going to ship podman 1.9.3\nand since rhel8 is the default stream, we need to disable it and enable\n2.0 as needed.\n\n[1] https://review.opendev.org/#/c/736173/\n\nChange-Id: I270d13654281f15d5ece35ec7640798f79e891e4\n'}]",2,745173,9819df4f2d6f657195b69f5dacb3bcf866e8db0e,26,8,3,13861,,,0,"Use container-tools:2.0 instead of default rhel8 stream

container-tools:2.0 is going to ship podman-1.6.4-15 the fix needed
for [1] and container-tools:rhel8 is going to ship podman 1.9.3
and since rhel8 is the default stream, we need to disable it and enable
2.0 as needed.

[1] https://review.opendev.org/#/c/736173/

Change-Id: I270d13654281f15d5ece35ec7640798f79e891e4
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/73/745173/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-8/train.yml', 'zuul.d/layout.yaml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-ussuri.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml']",6,3d875cd767c90c7124db54e0f55fdcbfc102997c,745173, sudo dnf module list; sudo dnf module disable container-tools:rhel8 -y; sudo dnf module enable container-tools:2.0 -y;,,16,33
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ie02a3a733f8bce8429c7e693f4e2766b289c66ab,openstack/tripleo-heat-templates,stable/train,Ie02a3a733f8bce8429c7e693f4e2766b289c66ab,[Train Only] Add CephAnsibleWarning into upgrade lifecycle environment files.,MERGED,2020-07-30 16:03:11.000000000,2020-08-11 03:56:59.000000000,2020-08-11 03:56:58.000000000,"[{'_account_id': 6796}, {'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 25877}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-30 16:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/93974c7113f0278f0e803e489d4434510271b2e1', 'message': 'Add CephAnsibleRepo into upgrade lifecycle environment files.\n\nDuring the whole FFU, the ceph-ansible 3 package is left in the Undercloud\ngetting upgraded once the upgrade converge steps finishes. One of the\nconsequences of leaving ceph-3 running in a RHEL8 system is that the\nrepository gets lost. Therefore, the ceph-ansible 3 package appears as\nbeing provided by @System.\nThis patch sets the CephAnsibleRepo heat parameter to @System during the\nupgrade prepara step and sets it back to its default value during converge.\n\nNOTE FOR DOWNSTREAM: CephAnsibleRepo defaults to\nrhceph-4-tools-for-rhel-8-x86_64-rpms downstream. Make sure the value gets\nchanged when cherry-picking.\n\nChange-Id: Ie02a3a733f8bce8429c7e693f4e2766b289c66ab\n'}, {'number': 2, 'created': '2020-07-31 08:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59d6770cb3da96e4fbf1eb9d33219ec82c44bd3a', 'message': '[Train Only] Add CephAnsibleRepo into upgrade lifecycle environment files.\n\nDuring the whole FFU, the ceph-ansible 3 package is left in the Undercloud\ngetting upgraded once the upgrade converge steps finishes. One of the\nconsequences of leaving ceph-3 running in a RHEL8 system is that the\nrepository gets lost. Therefore, the ceph-ansible 3 package appears as\nbeing provided by @System.\nThis patch sets the CephAnsibleRepo heat parameter to @System during the\nupgrade prepara step and sets it back to its default value during converge.\n\nNOTE FOR DOWNSTREAM: CephAnsibleRepo defaults to\nrhceph-4-tools-for-rhel-8-x86_64-rpms downstream. Make sure the value gets\nchanged when cherry-picking.\n\nChange-Id: Ie02a3a733f8bce8429c7e693f4e2766b289c66ab\n'}, {'number': 3, 'created': '2020-08-03 13:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/83dbc0907885aaa53746c6fb5c54b25d9a28f55e', 'message': '[Train Only] Add CephAnsibleWarning into upgrade lifecycle environment files.\n\nDuring the whole FFU, the ceph-ansible 3 package is left in the Undercloud\ngetting upgraded once the upgrade converge steps finishes. One of the\nconsequences of leaving ceph-3 running in a RHEL8 system is that the\nrepository gets lost. Therefore, the ceph-ansible 3 From-repo field is lost,\nwhich is the value checked by ceph-ansible validations.\nThis patch sets to false the CephAnsibleWrning heat parameter to skip the\nceph-ansible repo validation and sets it back to true during the converge\nstep, so the validation will be in order when we will run the ceph upgrade\nstep.\n\nDepends-On: I7083e4dc8b4d14f33837ffe7cc6299ea1ac4b70f\nChange-Id: Ie02a3a733f8bce8429c7e693f4e2766b289c66ab\n'}, {'number': 4, 'created': '2020-08-04 13:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d6b5482d539ef81614c1b364ef4e0b9dc2dade82', 'message': '[Train Only] Add CephAnsibleWarning into upgrade lifecycle environment files.\n\nDuring the whole FFU, the ceph-ansible 3 package is left in the Undercloud\ngetting upgraded once the upgrade converge steps finishes. One of the\nconsequences of leaving ceph-3 running in a RHEL8 system is that the\nrepository gets lost. Therefore, the ceph-ansible 3 From-repo field is lost,\nwhich is the value checked by ceph-ansible validations.\nThis patch sets to false the CephAnsibleWrning heat parameter to skip the\nceph-ansible repo validation and sets it back to true during the converge\nstep, so the validation will be in order when we will run the ceph upgrade\nstep.\n\nChange-Id: Ie02a3a733f8bce8429c7e693f4e2766b289c66ab\n'}, {'number': 5, 'created': '2020-08-04 14:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/085fac1599884e2c56fe7546c3506594d8c131d6', 'message': '[Train Only] Add CephAnsibleWarning into upgrade lifecycle environment files.\n\nDuring the whole FFU, the ceph-ansible 3 package is left in the Undercloud\ngetting upgraded once the upgrade converge steps finishes. One of the\nconsequences of leaving ceph-3 running in a RHEL8 system is that the\nrepository gets lost. Therefore, the ceph-ansible 3 From-repo field is lost,\nwhich is the value checked by ceph-ansible validations.\nThis patch sets to false the CephAnsibleWrning heat parameter to skip the\nceph-ansible repo validation and sets it back to true during the converge\nstep, so the validation will be in order when we will run the ceph upgrade\nstep.\n\nChange-Id: Ie02a3a733f8bce8429c7e693f4e2766b289c66ab\n'}, {'number': 6, 'created': '2020-08-10 09:18:01.000000000', 'files': ['environments/lifecycle/upgrade-converge.yaml', 'environments/lifecycle/upgrade-prepare.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d5aff2e17b2327cd50d76ca37c98b0c297ca012d', 'message': '[Train Only] Add CephAnsibleWarning into upgrade lifecycle environment files.\n\nDuring the whole FFU, the ceph-ansible 3 package is left in the Undercloud\ngetting upgraded once the upgrade converge steps finishes. One of the\nconsequences of leaving ceph-3 running in a RHEL8 system is that the\nrepository gets lost. Therefore, the ceph-ansible 3 From-repo field is lost,\nwhich is the value checked by ceph-ansible validations.\nThis patch sets to false the CephAnsibleWrning heat parameter to skip the\nceph-ansible repo validation and sets it back to true during the converge\nstep, so the validation will be in order when we will run the ceph upgrade\nstep.\n\nChange-Id: Ie02a3a733f8bce8429c7e693f4e2766b289c66ab\n'}]",3,744008,d5aff2e17b2327cd50d76ca37c98b0c297ca012d,42,9,6,26343,,,0,"[Train Only] Add CephAnsibleWarning into upgrade lifecycle environment files.

During the whole FFU, the ceph-ansible 3 package is left in the Undercloud
getting upgraded once the upgrade converge steps finishes. One of the
consequences of leaving ceph-3 running in a RHEL8 system is that the
repository gets lost. Therefore, the ceph-ansible 3 From-repo field is lost,
which is the value checked by ceph-ansible validations.
This patch sets to false the CephAnsibleWrning heat parameter to skip the
ceph-ansible repo validation and sets it back to true during the converge
step, so the validation will be in order when we will run the ceph upgrade
step.

Change-Id: Ie02a3a733f8bce8429c7e693f4e2766b289c66ab
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/744008/6 && git format-patch -1 --stdout FETCH_HEAD,"['environments/lifecycle/upgrade-converge.yaml', 'environments/lifecycle/upgrade-prepare.yaml']",2,93974c7113f0278f0e803e489d4434510271b2e1,," # Ceph parameters # As ceph-ansible 3 is kept during the whole upgrade # but the repository will be lost after the operating # system upgrade, we need to specify @System for the # ceph validations to work. CephAnsibleRepo: ""@System""",,10,0
openstack%2Ftrove~stable%2Focata~I8cd5bc59bc64ed170c65c7d905ffa06c856f666a,openstack/trove,stable/ocata,I8cd5bc59bc64ed170c65c7d905ffa06c856f666a,ignore_dbs add sys for mysql57,ABANDONED,2020-07-15 05:11:35.000000000,2020-08-11 03:46:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-15 05:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/562b60e998e4e2165d3dcb492618598e17b8775d', 'message': 'ignore_dbs add sys for mysql57\n\nUpdate ignore_dbs argument for mysql57 for ocata\n\nChange-Id: I8cd5bc59bc64ed170c65c7d905ffa06c856f666a\n'}, {'number': 2, 'created': '2020-07-15 06:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/00737f375cf002803697e8b9d5e4007118432137', 'message': 'ignore_dbs add sys for mysql57\n\nUpdate ignore_dbs argument for mysql57 for ocata\n\nChange-Id: I8cd5bc59bc64ed170c65c7d905ffa06c856f666a\n'}, {'number': 3, 'created': '2020-07-21 02:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f9490da7f8a9e2627fc2b4241e5cd0af1792d336', 'message': 'ignore_dbs add sys for mysql57\n\nUpdate ignore_dbs argument for mysql57 for ocata\n\nChange-Id: I8cd5bc59bc64ed170c65c7d905ffa06c856f666a\n'}, {'number': 4, 'created': '2020-07-21 02:33:21.000000000', 'files': ['trove/common/cfg.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/7c0208c3347636038b6c265d0cd3967e5ef3335f', 'message': 'ignore_dbs add sys for mysql57\n\nUpdate ignore_dbs argument for mysql57 for ocata\n\nChange-Id: I8cd5bc59bc64ed170c65c7d905ffa06c856f666a\n'}]",2,741084,7c0208c3347636038b6c265d0cd3967e5ef3335f,9,1,4,32029,,,0,"ignore_dbs add sys for mysql57

Update ignore_dbs argument for mysql57 for ocata

Change-Id: I8cd5bc59bc64ed170c65c7d905ffa06c856f666a
",git fetch https://review.opendev.org/openstack/trove refs/changes/84/741084/2 && git format-patch -1 --stdout FETCH_HEAD,['trove/common/cfg.py'],1,562b60e998e4e2165d3dcb492618598e17b8775d,ocata," default=['mysql', 'information_schema', 'performance_schema', 'sys'],"," default=['mysql', 'information_schema', 'performance_schema'],",2,1
openstack%2Ftacker~master~I3ea50426dc3c873d7b73553dab4b10cef52535c8,openstack/tacker,master,I3ea50426dc3c873d7b73553dab4b10cef52535c8,Revise docstring of convert case styles methods,MERGED,2020-08-07 02:31:46.000000000,2020-08-11 03:37:01.000000000,2020-08-11 03:35:38.000000000,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26588}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-08-07 02:31:46.000000000', 'files': ['tacker/common/utils.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/ef7bc61632b543dfd5b528282736c456e40195da', 'message': 'Revise docstring of convert case styles methods\n\nRevise docstring of convert_camelcase_to_snakecase() method and\nconvert_snakecase_to_camelcase() method to make it clear about the\nbehavior.\n\nChange-Id: I3ea50426dc3c873d7b73553dab4b10cef52535c8\nCloses-Bug: #1890078\n'}]",0,745277,ef7bc61632b543dfd5b528282736c456e40195da,9,4,1,31857,,,0,"Revise docstring of convert case styles methods

Revise docstring of convert_camelcase_to_snakecase() method and
convert_snakecase_to_camelcase() method to make it clear about the
behavior.

Change-Id: I3ea50426dc3c873d7b73553dab4b10cef52535c8
Closes-Bug: #1890078
",git fetch https://review.opendev.org/openstack/tacker refs/changes/77/745277/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker/common/utils.py'],1,ef7bc61632b543dfd5b528282736c456e40195da,bug/1890078," This method takes care only keys in a `dict` or `dicts in a list`. For simple list with string items, the elements which are actual values are ignored during conversion. This method takes care only keys in a `dict` or `dicts in a list`. For simple list with string items, the elements which are actual values are ignored during conversion.",,6,0
openstack%2Ftacker-specs~master~I15ccc870920a6f76316a7abcdf223132ad55e008,openstack/tacker-specs,master,I15ccc870920a6f76316a7abcdf223132ad55e008,Fix broken link in Tacker Rocky Spec,MERGED,2020-08-10 11:10:58.000000000,2020-08-11 03:10:54.000000000,2020-08-11 03:09:38.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-08-10 11:10:58.000000000', 'files': ['specs/rocky/vdu-affinity-policy.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/6e65e6f88181bb79618516c9c09312ac28d6917c', 'message': 'Fix broken link in Tacker Rocky Spec\n\nThe specification ""Affinity/Anti-affinity policies for VDUs"",\nin section ""Proposed change"" refers to an ETSI document,\nETSI GS NFV-IFA 011. The referred URL [1] is a broken link,\nand the correct link is [2].\n[1] http://www.etsi.org/deliver/etsi_gs/NFV-IFA/001_099/010/02.01.01_60/gs_NFV-IFA011v020101p.pdf\n[2] https://www.etsi.org/deliver/etsi_gs/NFV-IFA/001_099/011/02.01.01_60/gs_NFV-IFA011v020101p.pdf\n\nChange-Id: I15ccc870920a6f76316a7abcdf223132ad55e008\nCloses-Bug: #1891006\n'}]",0,745515,6e65e6f88181bb79618516c9c09312ac28d6917c,10,6,1,32102,,,0,"Fix broken link in Tacker Rocky Spec

The specification ""Affinity/Anti-affinity policies for VDUs"",
in section ""Proposed change"" refers to an ETSI document,
ETSI GS NFV-IFA 011. The referred URL [1] is a broken link,
and the correct link is [2].
[1] http://www.etsi.org/deliver/etsi_gs/NFV-IFA/001_099/010/02.01.01_60/gs_NFV-IFA011v020101p.pdf
[2] https://www.etsi.org/deliver/etsi_gs/NFV-IFA/001_099/011/02.01.01_60/gs_NFV-IFA011v020101p.pdf

Change-Id: I15ccc870920a6f76316a7abcdf223132ad55e008
Closes-Bug: #1891006
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/15/745515/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/vdu-affinity-policy.rst'],1,6e65e6f88181bb79618516c9c09312ac28d6917c,bug/1891006,.. [#f1] https://www.etsi.org/deliver/etsi_gs/NFV-IFA/001_099/011/02.01.01_60/gs_NFV-IFA011v020101p.pdf,.. [#f1] http://www.etsi.org/deliver/etsi_gs/NFV-IFA/001_099/010/02.01.01_60/gs_NFV-IFA011v020101p.pdf,1,1
openstack%2Ftripleo-ansible~master~I98bb188d6157326e41765fa3f77dcb47480c408b,openstack/tripleo-ansible,master,I98bb188d6157326e41765fa3f77dcb47480c408b,Stop using handlers for ovs,MERGED,2020-07-31 20:23:56.000000000,2020-08-11 02:19:23.000000000,2020-08-11 02:19:23.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8297}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-31 20:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8494e3b991479fbd9b2df031b768f9fbfbfad1ca', 'message': 'Stop using handlers for ovs\n\nMove openvswitch handler tasks to the update and upgrade tasks.\n\nRelated-Bug: #1888853\nChange-Id: I98bb188d6157326e41765fa3f77dcb47480c408b\n'}, {'number': 2, 'created': '2020-08-03 12:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c9caa05fea8070fc572271081f73c315727f9179', 'message': 'Stop using handlers for ovs\n\nMove openvswitch handler tasks to the update and upgrade tasks.\n\nRelated-Bug: #1888853\nChange-Id: I98bb188d6157326e41765fa3f77dcb47480c408b\n'}, {'number': 3, 'created': '2020-08-03 13:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dce6993d88677b1eefc8c5ab592ca64ed3e3b12a', 'message': 'Stop using handlers for ovs\n\nMove openvswitch handler tasks to the update and upgrade tasks.\n\nRelated-Bug: #1888853\nChange-Id: I98bb188d6157326e41765fa3f77dcb47480c408b\n'}, {'number': 4, 'created': '2020-08-03 13:55:43.000000000', 'files': ['tripleo_ansible/roles/tripleo_packages/molecule/upgrade/prepare.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/upgrade.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/openvswitch.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/update.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dc7cf609ff337a20f6953c8e072fb15371fb2906', 'message': 'Stop using handlers for ovs\n\nMove openvswitch handler tasks to the update and upgrade tasks.\n\nRelated-Bug: #1888853\nChange-Id: I98bb188d6157326e41765fa3f77dcb47480c408b\n'}]",0,744250,dc7cf609ff337a20f6953c8e072fb15371fb2906,26,7,4,14985,,,0,"Stop using handlers for ovs

Move openvswitch handler tasks to the update and upgrade tasks.

Related-Bug: #1888853
Change-Id: I98bb188d6157326e41765fa3f77dcb47480c408b
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/50/744250/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_packages/tasks/upgrade.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/openvswitch.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/update.yml']",3,8494e3b991479fbd9b2df031b768f9fbfbfad1ca,bug/1888853, register: tripleo_package_update_result - name: Handle openvswitch service include_tasks: openvswitch.yml when: - step|int == 3 - tripleo_package_update_result.changed, notify: start openvswitch,16,5
openstack%2Ftripleo-ansible~master~I454d8a8b87476e833a96beaf18b17047aee500f6,openstack/tripleo-ansible,master,I454d8a8b87476e833a96beaf18b17047aee500f6,Additional handler cleanup,MERGED,2020-07-31 20:17:23.000000000,2020-08-11 02:06:46.000000000,2020-08-11 02:06:46.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-31 20:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b1335bda13863fb734b8394cfcd54aacecae8c6d', 'message': 'Additional handler cleanup\n\nRemove empty handler files and move image serve handler to the tasks.\n\nChange-Id: I454d8a8b87476e833a96beaf18b17047aee500f6\nRelated-Bug: #1888853\n'}, {'number': 2, 'created': '2020-08-03 12:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/51d9a1ff0eef13a759f7debb141ba9b3c079dc5b', 'message': 'Additional handler cleanup\n\nRemove empty handler files and move image serve handler to the tasks.\n\nChange-Id: I454d8a8b87476e833a96beaf18b17047aee500f6\nRelated-Bug: #1888853\n'}, {'number': 3, 'created': '2020-08-03 13:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2e204a96e7047d324505feb5bf86ceacda99ceae', 'message': 'Additional handler cleanup\n\nRemove empty handler files and move image serve handler to the tasks.\n\nChange-Id: I454d8a8b87476e833a96beaf18b17047aee500f6\nRelated-Bug: #1888853\n'}, {'number': 4, 'created': '2020-08-03 13:55:43.000000000', 'files': ['tripleo_ansible/roles/tripleo_nvdimm/handlers/main.yml', 'tripleo_ansible/roles/tripleo_image_serve/handlers/main.yml', 'tripleo_ansible/roles/tripleo_hieradata/handlers/main.yml', 'tripleo_ansible/roles/tripleo_derived_parameters/handlers/main.yml', 'tripleo_ansible/roles/tripleo_image_serve/tasks/main.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/768e33e12b718dddef2225c7c477950a90d8035e', 'message': 'Additional handler cleanup\n\nRemove empty handler files and move image serve handler to the tasks.\n\nChange-Id: I454d8a8b87476e833a96beaf18b17047aee500f6\nRelated-Bug: #1888853\n'}]",0,744248,768e33e12b718dddef2225c7c477950a90d8035e,23,5,4,14985,,,0,"Additional handler cleanup

Remove empty handler files and move image serve handler to the tasks.

Change-Id: I454d8a8b87476e833a96beaf18b17047aee500f6
Related-Bug: #1888853
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/48/744248/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_nvdimm/handlers/main.yml', 'tripleo_ansible/roles/tripleo_image_serve/handlers/main.yml', 'tripleo_ansible/roles/tripleo_derived_parameters/handlers/main.yml', 'tripleo_ansible/roles/tripleo_hieradata/handlers/main.yml', 'tripleo_ansible/roles/tripleo_image_serve/tasks/main.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/handlers/main.yml']",6,b1335bda13863fb734b8394cfcd54aacecae8c6d,bug/1888853,,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. ",13,100
openstack%2Fxstatic-angular-ui-router~master~I8330ac11e191b460825a4890fcfca13b3c2a9596,openstack/xstatic-angular-ui-router,master,I8330ac11e191b460825a4890fcfca13b3c2a9596,Rename README.txt to README.rst,MERGED,2020-08-11 01:24:44.000000000,2020-08-11 01:25:11.000000000,2020-08-11 01:25:11.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-11 01:24:44.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/xstatic-angular-ui-router/commit/b5847c5e1c6d6d48d2d2c9f5c82ce7b3754d2665', 'message': 'Rename README.txt to README.rst\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\n\nChange-Id: I8330ac11e191b460825a4890fcfca13b3c2a9596\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n'}]",0,745613,b5847c5e1c6d6d48d2d2c9f5c82ce7b3754d2665,3,1,1,8556,,,0,"Rename README.txt to README.rst

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.

Change-Id: I8330ac11e191b460825a4890fcfca13b3c2a9596
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup
",git fetch https://review.opendev.org/openstack/xstatic-angular-ui-router refs/changes/13/745613/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,b5847c5e1c6d6d48d2d2c9f5c82ce7b3754d2665,cleanup-retirement,,,0,0
openstack%2Fxstatic-vis~master~I8bf9566d9067b379e7be6ece4dc4e728d109f855,openstack/xstatic-vis,master,I8bf9566d9067b379e7be6ece4dc4e728d109f855,Rename README.txt to README.rst,MERGED,2020-08-11 01:22:50.000000000,2020-08-11 01:24:59.000000000,2020-08-11 01:24:59.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2020-08-11 01:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/xstatic-vis/commit/3b8a4af8b6e44da2027425537cbab6a5b99de2c3', 'message': 'Rename README.txt to README.rst\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\n\nChange-Id: I8bf9566d9067b379e7be6ece4dc4e728d109f855\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n'}, {'number': 2, 'created': '2020-08-11 01:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/xstatic-vis/commit/e5dec84939019899b505ad93020568d9fd7451d0', 'message': 'Rename README.txt to README.rst\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\n\nChange-Id: I8bf9566d9067b379e7be6ece4dc4e728d109f855\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n'}, {'number': 3, 'created': '2020-08-11 01:23:39.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/xstatic-vis/commit/c90f7d0e5f7d4a0e9be12627cc41f2f9281e0dd3', 'message': 'Rename README.txt to README.rst\n\nThis repo is not properly retired. Retired repos can only have two files:\n- README.rst\n- gitreview\n\nTo cleanup the retirement of this repo, keeping these two files only and\nremoving the other remaining files if there is any.\n\nChange-Id: I8bf9566d9067b379e7be6ece4dc4e728d109f855\nDetail: https://etherpad.opendev.org/p/tc-retirement-cleanup\n'}]",0,745612,c90f7d0e5f7d4a0e9be12627cc41f2f9281e0dd3,5,1,3,8556,,,0,"Rename README.txt to README.rst

This repo is not properly retired. Retired repos can only have two files:
- README.rst
- gitreview

To cleanup the retirement of this repo, keeping these two files only and
removing the other remaining files if there is any.

Change-Id: I8bf9566d9067b379e7be6ece4dc4e728d109f855
Detail: https://etherpad.opendev.org/p/tc-retirement-cleanup
",git fetch https://review.opendev.org/openstack/xstatic-vis refs/changes/12/745612/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'README.rst']",2,3b8a4af8b6e44da2027425537cbab6a5b99de2c3,cleanup-retirement,,,4,0
openstack%2Fgovernance~master~I1f8c946f812e7e61ddb7ad8cea50e231f26b7a5b,openstack/governance,master,I1f8c946f812e7e61ddb7ad8cea50e231f26b7a5b,Drop neutron-vpnaas from legacy projects,MERGED,2020-08-07 19:42:50.000000000,2020-08-11 01:19:08.000000000,2020-08-11 01:17:24.000000000,"[{'_account_id': 1004}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 19:42:50.000000000', 'files': ['reference/legacy.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/cf2872a1e852ae44c0e4568549f2c982541f75b0', 'message': 'Drop neutron-vpnaas from legacy projects\n\nThe change I8c89a62566fdb332450b07448e96058933852675 missed removing\nvpnaas from the legacy projects list again as it was revived.  This\npatch removes it from there.\n\nChange-Id: I1f8c946f812e7e61ddb7ad8cea50e231f26b7a5b\n'}]",0,745401,cf2872a1e852ae44c0e4568549f2c982541f75b0,12,6,1,1004,,,0,"Drop neutron-vpnaas from legacy projects

The change I8c89a62566fdb332450b07448e96058933852675 missed removing
vpnaas from the legacy projects list again as it was revived.  This
patch removes it from there.

Change-Id: I1f8c946f812e7e61ddb7ad8cea50e231f26b7a5b
",git fetch https://review.opendev.org/openstack/governance refs/changes/01/745401/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/legacy.yaml'],1,cf2872a1e852ae44c0e4568549f2c982541f75b0,documentation-change,, neutron-vpnaas: retired-on: 2016-11-01 repos: - openstack/neutron-vpnaas,0,4
openstack%2Fcinder~stable%2Ftrain~I00637c94a6f93df736c78346af283eac16702f9f,openstack/cinder,stable/train,I00637c94a6f93df736c78346af283eac16702f9f,tst,ABANDONED,2020-08-10 09:32:38.000000000,2020-08-11 00:57:44.000000000,,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-08-10 09:32:38.000000000', 'files': ['cinder/api/v3/volumes.py', 'cinder/exception.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/17dd90080ff1cdf516529f1ae5a16200e8f34619', 'message': 'tst\n\nChange-Id: I00637c94a6f93df736c78346af283eac16702f9f\n'}]",0,745507,17dd90080ff1cdf516529f1ae5a16200e8f34619,13,9,1,30754,,,0,"tst

Change-Id: I00637c94a6f93df736c78346af283eac16702f9f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/745507/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/v3/volumes.py', 'cinder/exception.py']",2,17dd90080ff1cdf516529f1ae5a16200e8f34619,test1-stable/train,SHOULD!！ include dedicated exception logging.,SHOULD include dedicated exception logging.,2,2
openstack%2Fmanila~master~I1a2c28548d02eee6632313a41a5c4d8ab6ad9532,openstack/manila,master,I1a2c28548d02eee6632313a41a5c4d8ab6ad9532,Fix wrong capacity in pool_stat for DellEMC manila drivers.,MERGED,2020-08-05 08:27:02.000000000,2020-08-11 00:41:39.000000000,2020-08-10 12:49:06.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 18742}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-05 08:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7ae206a4116700c8c0e3c5f95c565a194ea7ae3c', 'message': 'Fix wrong capacity in pool_stat for DellEMC manila drivers.\n\nDellEMC manila drivers have bugs in returning capacity in pool_stat.\nThe current powermax/vnx manila return size in MB and unity manla returns size\nin bytes.\n\nChange-Id: I1a2c28548d02eee6632313a41a5c4d8ab6ad9532\nCloses-bug: #1890372\nCloses-bug: #1890375\nCloses-bug: #1890376\n'}, {'number': 2, 'created': '2020-08-06 04:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4e4558bced5fc55144f5313f5c8754a4060cba3f', 'message': 'Fix wrong capacity in pool_stat for DellEMC manila drivers.\n\nDellEMC manila drivers have bugs in returning capacity in pool_stat.\nThe current powermax/vnx manila return size in MB and unity manla returns size\nin bytes.\n\nChange-Id: I1a2c28548d02eee6632313a41a5c4d8ab6ad9532\nCloses-bug: #1890372\nCloses-bug: #1890375\nCloses-bug: #1890376\n'}, {'number': 3, 'created': '2020-08-06 05:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6dd52e073a3f78d95aa63b61a46e50d7a9f495b1', 'message': 'Fix wrong capacity in pool_stat for DellEMC manila drivers.\n\nDellEMC manila drivers have bugs in returning capacity in pool_stat.\nThe current powermax/vnx manila return size in MB and unity manla returns size\nin bytes.\n\nChange-Id: I1a2c28548d02eee6632313a41a5c4d8ab6ad9532\nCloses-bug: #1890372\nCloses-bug: #1890375\nCloses-bug: #1890376\n'}, {'number': 4, 'created': '2020-08-07 03:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/bf4316aa9b3c5309779ee0df367585124d66f6f3', 'message': 'Fix wrong capacity in pool_stat for DellEMC manila drivers.\n\nDellEMC manila drivers have bugs in returning capacity in pool_stat.\nThe current powermax/vnx manila return size in MB and unity manila returns size\nin bytes.\n\nChange-Id: I1a2c28548d02eee6632313a41a5c4d8ab6ad9532\nCloses-bug: #1890372\nCloses-bug: #1890375\nCloses-bug: #1890376\n'}, {'number': 5, 'created': '2020-08-07 06:51:37.000000000', 'files': ['manila/tests/share/drivers/dell_emc/plugins/unity/test_connection.py', 'manila/share/drivers/dell_emc/plugins/vnx/connection.py', 'manila/share/drivers/dell_emc/plugins/unity/connection.py', 'manila/share/drivers/dell_emc/plugins/powermax/connection.py', 'releasenotes/releasenotes/notes/dellemc-fix-capacity-report-25f75a6c96e12b40.yaml', 'manila/tests/share/drivers/dell_emc/plugins/powermax/test_connection.py', 'manila/tests/share/drivers/dell_emc/common/enas/test_utils.py', 'manila/share/drivers/dell_emc/common/enas/utils.py', 'manila/tests/share/drivers/dell_emc/plugins/vnx/test_connection.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/53f756d0650a815cbb9eeac2fa7bcfa2334c674a', 'message': 'Fix wrong capacity in pool_stat for DellEMC manila drivers.\n\nDellEMC manila drivers have bugs in returning capacity in pool_stat.\nThe current powermax/vnx manila return size in MB and unity manila\nreturns size in bytes.\n\nChange-Id: I1a2c28548d02eee6632313a41a5c4d8ab6ad9532\nCloses-bug: #1890372\nCloses-bug: #1890375\nCloses-bug: #1890376\n'}]",2,744850,53f756d0650a815cbb9eeac2fa7bcfa2334c674a,48,13,5,14624,,,0,"Fix wrong capacity in pool_stat for DellEMC manila drivers.

DellEMC manila drivers have bugs in returning capacity in pool_stat.
The current powermax/vnx manila return size in MB and unity manila
returns size in bytes.

Change-Id: I1a2c28548d02eee6632313a41a5c4d8ab6ad9532
Closes-bug: #1890372
Closes-bug: #1890375
Closes-bug: #1890376
",git fetch https://review.opendev.org/openstack/manila refs/changes/50/744850/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/drivers/dell_emc/plugins/unity/test_connection.py', 'manila/share/drivers/dell_emc/plugins/vnx/connection.py', 'manila/share/drivers/dell_emc/plugins/unity/connection.py', 'manila/share/drivers/dell_emc/plugins/powermax/connection.py', 'manila/tests/share/drivers/dell_emc/plugins/powermax/test_connection.py', 'manila/share/drivers/dell_emc/common/enas/utils.py', 'manila/tests/share/drivers/dell_emc/plugins/vnx/test_connection.py']",7,7ae206a4116700c8c0e3c5f95c565a194ea7ae3c,bug/1890372,"from manila.share.drivers.dell_emc.common.enas import utils as enas_utils self.assertEqual( enas_utils.mb_to_gb(fakes.FakeData.pool_total_size), pool['total_capacity_gb']) self.assertEqual( enas_utils.mb_to_gb(free_size), pool['free_capacity_gb'])"," self.assertEqual(fakes.FakeData.pool_total_size, pool['total_capacity_gb']) self.assertEqual(free_size, pool['free_capacity_gb'])",44,21
openstack%2Fmanila-tempest-plugin~master~I3723c4d256cc07a8ae931216eb247a8821a7195c,openstack/manila-tempest-plugin,master,I3723c4d256cc07a8ae931216eb247a8821a7195c,Fixed InvalidConfiguration() exception to print correct message,MERGED,2020-08-10 20:09:25.000000000,2020-08-11 00:11:30.000000000,2020-08-10 23:15:57.000000000,"[{'_account_id': 6413}, {'_account_id': 12017}, {'_account_id': 16643}, {'_account_id': 19262}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-08-10 20:09:25.000000000', 'files': ['manila_tempest_tests/tests/scenario/manager_share.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/58723ffbff12f19ff48f6d22f281e65d4d9d7cba', 'message': 'Fixed InvalidConfiguration() exception to print correct message\n\nChange-Id: I3723c4d256cc07a8ae931216eb247a8821a7195c\n'}]",0,745586,58723ffbff12f19ff48f6d22f281e65d4d9d7cba,10,7,1,30025,,,0,"Fixed InvalidConfiguration() exception to print correct message

Change-Id: I3723c4d256cc07a8ae931216eb247a8821a7195c
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/86/745586/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/scenario/manager_share.py'],1,58723ffbff12f19ff48f6d22f281e65d4d9d7cba,, raise exceptions.InvalidConfiguration(msg), raise exceptions.InvalidConfiguration(message=msg),1,1
openstack%2Fmonasca-agent~stable%2Fussuri~Id0a2140ceca38e3baf0de9d28d392e6b8929d26a,openstack/monasca-agent,stable/ussuri,Id0a2140ceca38e3baf0de9d28d392e6b8929d26a,Convert byte-stream to 'utf-8',MERGED,2020-08-10 13:30:32.000000000,2020-08-10 22:53:41.000000000,2020-08-10 22:53:41.000000000,"[{'_account_id': 11904}, {'_account_id': 16957}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 28062}]","[{'number': 1, 'created': '2020-08-10 13:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/7fc136222d1fe847091988547e74e84002265593', 'message': ""Convert byte-stream to 'utf-8'\n\nChange-Id: Id0a2140ceca38e3baf0de9d28d392e6b8929d26a\nStory: 2007977\nTask: 40599\n""}, {'number': 5, 'created': '2020-08-10 14:41:41.000000000', 'files': ['monasca_agent/collector/checks_d/http_check.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/2111e3935a9a3e80ce7216c91834537c3a048f04', 'message': ""Convert byte-stream to 'utf-8'\n\nChange-Id: Id0a2140ceca38e3baf0de9d28d392e6b8929d26a\nStory: 2007977\nTask: 40599\n(cherry picked from commit 79dd8cad21d210118886a9f6a36fd4745e1c3ed2)\n""}]",2,745534,2111e3935a9a3e80ce7216c91834537c3a048f04,12,5,2,28062,,,0,"Convert byte-stream to 'utf-8'

Change-Id: Id0a2140ceca38e3baf0de9d28d392e6b8929d26a
Story: 2007977
Task: 40599
(cherry picked from commit 79dd8cad21d210118886a9f6a36fd4745e1c3ed2)
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/34/745534/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_agent/collector/checks_d/http_check.py'],1,7fc136222d1fe847091988547e74e84002265593,Python3-support-stable/ussuri," return True, content.decode('utf-8')"," return True, content",1,1
openstack%2Fsphinx-feature-classification~master~Ibfda6fbe91deaa846b62732c38eef93c393c926f,openstack/sphinx-feature-classification,master,Ibfda6fbe91deaa846b62732c38eef93c393c926f,Reduce need for openstack specific requirements,MERGED,2018-03-29 12:30:00.000000000,2020-08-10 22:13:36.000000000,2020-08-10 22:12:29.000000000,"[{'_account_id': 6928}, {'_account_id': 7102}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 12:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sphinx-feature-classification/commit/abf75a7da6020b83f37e190c347be97575b2e6ab', 'message': 'Make openstack specific requirements optional or remove them\n\n- openstackdocstheme is not really needed so make it optional\n- oslotest is not used so remove it\n\nThis reduces the dependencies of the package (which makes distros\nhappy).\n\nChange-Id: Ibfda6fbe91deaa846b62732c38eef93c393c926f\n'}, {'number': 2, 'created': '2020-07-14 19:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sphinx-feature-classification/commit/39ce2252b0f09d6a012f41c801491e5bbfd15e4a', 'message': 'Reduce need for openstack specific requirements\n\n- openstackdocstheme is only needed for docs builds. Move this and some\n  missing doc-related requirements into the current convention of\n  doc/requirements.txt so they are not installed when just using the\n  library.\n- oslotest is not used directly. It only helped pick up self.useFixture\n  from testtools. Since nothing else is needed, just use testtools\n  directly.\n\nChange-Id: Ibfda6fbe91deaa846b62732c38eef93c393c926f\n'}, {'number': 3, 'created': '2020-07-14 19:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sphinx-feature-classification/commit/3db5f8689e8035fb7fad90ecb295e4351c334c3f', 'message': 'Reduce need for openstack specific requirements\n\n- openstackdocstheme is only needed for docs builds. Move this and some\n  missing doc-related requirements into the current convention of\n  doc/requirements.txt so they are not installed when just using the\n  library.\n- oslotest is not used directly. It only helped pick up self.useFixture\n  from testtools. Since nothing else is needed, just use testtools\n  directly.\n\nChange-Id: Ibfda6fbe91deaa846b62732c38eef93c393c926f\n'}, {'number': 4, 'created': '2020-07-14 19:52:22.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'sphinx_feature_classification/tests/base.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sphinx-feature-classification/commit/383d3eebe1749e8bc2718007d5155351d2d423be', 'message': 'Reduce need for openstack specific requirements\n\n- openstackdocstheme is only needed for docs builds. Move this and some\n  missing doc-related requirements into the current convention of\n  doc/requirements.txt so they are not installed when just using the\n  library.\n- oslotest is not used directly. It only helped pick up self.useFixture\n  from testtools. Since nothing else is needed, just use testtools\n  directly.\n\nChange-Id: Ibfda6fbe91deaa846b62732c38eef93c393c926f\n'}]",5,557695,383d3eebe1749e8bc2718007d5155351d2d423be,21,6,4,7102,,,0,"Reduce need for openstack specific requirements

- openstackdocstheme is only needed for docs builds. Move this and some
  missing doc-related requirements into the current convention of
  doc/requirements.txt so they are not installed when just using the
  library.
- oslotest is not used directly. It only helped pick up self.useFixture
  from testtools. Since nothing else is needed, just use testtools
  directly.

Change-Id: Ibfda6fbe91deaa846b62732c38eef93c393c926f
",git fetch https://review.opendev.org/openstack/sphinx-feature-classification refs/changes/95/557695/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/source/conf.py', 'setup.cfg', 'sphinx_feature_classification/tests/base.py', 'tox.ini']",5,abf75a7da6020b83f37e190c347be97575b2e6ab,,deps = -r{toxinidir}/test-requirements.txt .[docs] ,deps = -r{toxinidir}/test-requirements.txt,21,8
openstack%2Foslo.policy~stable%2Frocky~I8a6f8e971d881365c41ea409966723319d5b239a,openstack/oslo.policy,stable/rocky,I8a6f8e971d881365c41ea409966723319d5b239a,Reload files in policy_dirs on primary file change,MERGED,2020-06-08 17:00:19.000000000,2020-08-10 21:37:52.000000000,2020-08-10 21:36:33.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-08 17:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/9f96d06a494e950ebaeca1b399ddb95573999c26', 'message': 'Reload files in policy_dirs on primary file change\n\nIt was determined that rules from policy files located in the directory\nspecified in the policy_dirs option (/etc/<config_dir>/policy.d by\ndefault) are not re-applied after the rules from the primary policy file\nis re-applied due to a change.\n\nThis change introduces additional behavior to make sure the rules from\npolicy_dirs are reapplied if there is a change to the primary policy\nfile.\n\nChange-Id: I8a6f8e971d881365c41ea409966723319d5b239a\nCloses-Bug: #1880959\nRelated-Bug: #1880847\n(cherry picked from commit 75677a31108243e0adddc89f1fbf669053f9573b)\n'}, {'number': 2, 'created': '2020-06-16 12:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/8207ae76542e17d1ca202050551c96dbda862104', 'message': 'Reload files in policy_dirs on primary file change\n\nIt was determined that rules from policy files located in the directory\nspecified in the policy_dirs option (/etc/<config_dir>/policy.d by\ndefault) are not re-applied after the rules from the primary policy file\nis re-applied due to a change.\n\nThis change introduces additional behavior to make sure the rules from\npolicy_dirs are reapplied if there is a change to the primary policy\nfile.\n\nChange-Id: I8a6f8e971d881365c41ea409966723319d5b239a\nCloses-Bug: #1880959\nRelated-Bug: #1880847\n(cherry picked from commit 75677a31108243e0adddc89f1fbf669053f9573b)\n'}, {'number': 3, 'created': '2020-07-10 11:05:47.000000000', 'files': ['oslo_policy/policy.py', 'releasenotes/notes/bug-1880959-8f1370a59759d40d.yaml', 'oslo_policy/tests/test_policy.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/622bcf207948174535b4d04f15ef14fb265c834d', 'message': 'Reload files in policy_dirs on primary file change\n\nIt was determined that rules from policy files located in the directory\nspecified in the policy_dirs option (/etc/<config_dir>/policy.d by\ndefault) are not re-applied after the rules from the primary policy file\nis re-applied due to a change.\n\nThis change introduces additional behavior to make sure the rules from\npolicy_dirs are reapplied if there is a change to the primary policy\nfile.\n\nChange-Id: I8a6f8e971d881365c41ea409966723319d5b239a\nCloses-Bug: #1880959\nRelated-Bug: #1880847\n(cherry picked from commit 75677a31108243e0adddc89f1fbf669053f9573b)\n(cherry picked from commit c8c138e69d9189345a7366a10b0779ef70b7250e)\n(cherry picked from commit 5904564bf13bbac7d66e00ec6312487c507f09c4)\n(cherry picked from commit a49f31d3fc7690e3d15bc2428660b537967c89cc)\n'}]",2,734156,622bcf207948174535b4d04f15ef14fb265c834d,24,4,3,24824,,,0,"Reload files in policy_dirs on primary file change

It was determined that rules from policy files located in the directory
specified in the policy_dirs option (/etc/<config_dir>/policy.d by
default) are not re-applied after the rules from the primary policy file
is re-applied due to a change.

This change introduces additional behavior to make sure the rules from
policy_dirs are reapplied if there is a change to the primary policy
file.

Change-Id: I8a6f8e971d881365c41ea409966723319d5b239a
Closes-Bug: #1880959
Related-Bug: #1880847
(cherry picked from commit 75677a31108243e0adddc89f1fbf669053f9573b)
(cherry picked from commit c8c138e69d9189345a7366a10b0779ef70b7250e)
(cherry picked from commit 5904564bf13bbac7d66e00ec6312487c507f09c4)
(cherry picked from commit a49f31d3fc7690e3d15bc2428660b537967c89cc)
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/56/734156/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_policy/policy.py', 'releasenotes/notes/bug-1880959-8f1370a59759d40d.yaml', 'oslo_policy/tests/test_policy.py']",3,9f96d06a494e950ebaeca1b399ddb95573999c26,bug/1880959," def test_load_directory_after_file_update(self): self.create_config_file( os.path.join('policy.d', 'a.conf'), POLICY_A_CONTENTS) self.enforcer.load_rules(True) self.assertIsNotNone(self.enforcer.rules) loaded_rules = jsonutils.loads(str(self.enforcer.rules)) self.assertEqual('role:fakeA', loaded_rules['default']) self.assertEqual('is_admin:True', loaded_rules['admin']) self.check_loaded_files([ 'policy.json', os.path.join('policy.d', 'a.conf'), ]) new_policy_json_contents = jsonutils.dumps({ ""default"": ""rule:admin"", ""admin"": ""is_admin:True"", ""foo"": ""rule:bar"", }) # Modify the policy.json file and then validate that the rules # from the policy directory are re-applied on top of the # new rules from the file. self.create_config_file('policy.json', new_policy_json_contents) policy_file_path = self.get_config_file_fullname('policy.json') # Force the mtime change since the unit test may write to this file # too fast for mtime to actually change. stinfo = os.stat(policy_file_path) os.utime(policy_file_path, (stinfo.st_atime + 42, stinfo.st_mtime + 42)) self.enforcer.load_rules() self.assertIsNotNone(self.enforcer.rules) loaded_rules = jsonutils.loads(str(self.enforcer.rules)) self.assertEqual('role:fakeA', loaded_rules['default']) self.assertEqual('is_admin:True', loaded_rules['admin']) self.assertEqual('rule:bar', loaded_rules['foo']) self.check_loaded_files([ 'policy.json', os.path.join('policy.d', 'a.conf'), 'policy.json', os.path.join('policy.d', 'a.conf'), ]) self.assertRaises(ValueError, self.enforcer.load_rules, False)",,85,7
openstack%2Fopenstack-ansible-os_heat~stable%2Fussuri~I8b93233e30136f54221234e12c8b5eeffc1ba5a6,openstack/openstack-ansible-os_heat,stable/ussuri,I8b93233e30136f54221234e12c8b5eeffc1ba5a6,Fix _project_domain for heat,MERGED,2020-08-10 07:48:26.000000000,2020-08-10 21:17:16.000000000,2020-08-10 21:15:57.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-10 07:48:26.000000000', 'files': ['tasks/heat_service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/65a8a2e7b500f37ca811c80323066f04bdb7ee7f', 'message': 'Fix _project_domain for heat\n\nChange-Id: I8b93233e30136f54221234e12c8b5eeffc1ba5a6\nCloses-Bug: #1890635\n(cherry picked from commit 780dc2eb597d3736b702d5f8cdf830e83d177e3d)\n'}]",0,745490,65a8a2e7b500f37ca811c80323066f04bdb7ee7f,12,3,1,28619,,,0,"Fix _project_domain for heat

Change-Id: I8b93233e30136f54221234e12c8b5eeffc1ba5a6
Closes-Bug: #1890635
(cherry picked from commit 780dc2eb597d3736b702d5f8cdf830e83d177e3d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/90/745490/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/heat_service_setup.yml'],1,65a8a2e7b500f37ca811c80323066f04bdb7ee7f,," _project_domain: ""{{ heat_project_domain_name }}"" project:"," _project_domain: ""{{ add_stack_user_domain.id }}"" project: ""{{ heat_project_name }}""",2,2
openstack%2Fopenstack-helm-images~master~I717b62884e6df5a73f154ccb915054b1aa07ecdb,openstack/openstack-helm-images,master,I717b62884e6df5a73f154ccb915054b1aa07ecdb,[WIP] Add image for prometheus alertmanager snmp receiver,ABANDONED,2020-01-02 17:07:06.000000000,2020-08-10 21:10:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-01-02 17:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/8109018d2f3a798d192d54cf908789287bc573b0', 'message': '[WIP] Add image for prometheus-alertmanager snmp receiver\n\nChange-Id: I717b62884e6df5a73f154ccb915054b1aa07ecdb\n'}, {'number': 2, 'created': '2020-01-02 17:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/ca18694e9170703aa91ae0b4a2a5cd784f6ac6b5', 'message': '[WIP] Add image for prometheus-alertmanager snmp receiver\n\nDNM while personal repo url is used.\n\nChange-Id: I717b62884e6df5a73f154ccb915054b1aa07ecdb\n'}, {'number': 3, 'created': '2020-01-02 17:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/ecf5ea48703addeaa871e38843fab027b1fa4f35', 'message': '[WIP] Add image for prometheus-alertmanager snmp receiver\n\nDNM while personal repo url is used, also debug mode\n\nCo-Authored-By: Meghan Heisler <mkheisler93@gmail.com>\nChange-Id: I717b62884e6df5a73f154ccb915054b1aa07ecdb\n'}, {'number': 4, 'created': '2020-01-02 19:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c2c8557f6bf209c768aace93a646f884a3194237', 'message': '[WIP] Add image for prometheus alertmanager snmp receiver\n\nDNM while personal repo url is used, also debug mode in CMD\n\nCo-Authored-By: Meghan Heisler <mkheisler93@gmail.com>\nChange-Id: I717b62884e6df5a73f154ccb915054b1aa07ecdb\n'}, {'number': 5, 'created': '2020-01-02 19:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/64d9ae61452944945991708b03e09f7b0b203b2f', 'message': '[WIP] Add image for prometheus alertmanager snmp receiver\n\nDNM while personal repo url is used, also debug mode in CMD\n\nCo-Authored-By: Meghan Heisler <mkheisler93@gmail.com>\nChange-Id: I717b62884e6df5a73f154ccb915054b1aa07ecdb\n'}, {'number': 6, 'created': '2020-01-02 20:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/08b8eeff8ed529272987122c2417fd7fc86efcef', 'message': '[WIP] Add image for prometheus alertmanager snmp receiver\n\nDNM while personal repo url is used, also debug mode in CMD\n\nCo-Authored-By: Meghan Heisler <mkheisler93@gmail.com>\nChange-Id: I717b62884e6df5a73f154ccb915054b1aa07ecdb\n'}, {'number': 7, 'created': '2020-07-15 20:51:40.000000000', 'files': ['prometheus-alertmanager-webhook-snmp/build.sh', 'prometheus-alertmanager-webhook-snmp/Dockerfile.ubuntu_bionic'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/1bb4f4430830f04eb7a1a30b97d419c6ca08defe', 'message': '[WIP] Add image for prometheus alertmanager snmp receiver\n\nDNM while personal repo url is used, also debug mode in CMD\n\nCo-Authored-By: Meghan Heisler <mkheisler93@gmail.com>\nChange-Id: I717b62884e6df5a73f154ccb915054b1aa07ecdb\n'}]",0,700916,1bb4f4430830f04eb7a1a30b97d419c6ca08defe,14,1,7,30777,,,0,"[WIP] Add image for prometheus alertmanager snmp receiver

DNM while personal repo url is used, also debug mode in CMD

Co-Authored-By: Meghan Heisler <mkheisler93@gmail.com>
Change-Id: I717b62884e6df5a73f154ccb915054b1aa07ecdb
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/16/700916/5 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-alertmanager-snmp-webhook/build.sh', 'prometheus-alertmanager-snmp-webhook/Dockerfile.ubuntu_bionic']",2,8109018d2f3a798d192d54cf908789287bc573b0,alertmanager-snmp-webhook,ARG FROM=docker.io/ubuntu:bionic FROM ${FROM} RUN apt-get -y update; \ apt-get install --no-install-recommends -y curl; \ curl -o /tmp/prometheus-webhook-snmp.tar.gz https://codeload.github.com/SUSE/prometheus-webhook-snmp/tar.gz/v1.1; \ tar -xzf /tmp/prometheus-webhook-snmp.tar.gz -C /opt CMD /opt/prometheus-webhook-snmp-1.1/prometheus-webhook-snmp run ,,23,0
openstack%2Ftripleo-ansible~stable%2Fussuri~I4eb5ece7d5c1d25f5beacd9e21e20ae9f3d45c17,openstack/tripleo-ansible,stable/ussuri,I4eb5ece7d5c1d25f5beacd9e21e20ae9f3d45c17,Switch from handlers to tasks,MERGED,2020-07-31 16:39:33.000000000,2020-08-10 21:06:09.000000000,2020-08-10 21:06:08.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-31 16:39:33.000000000', 'files': ['tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_timezone/tasks/main.yml', 'tripleo_ansible/roles/tripleo_cellv2/handlers/main.yml', 'tripleo_ansible/roles/tripleo_cellv2/tasks/add_internalapi_hosts_entries.yml', 'tripleo_ansible/roles/tuned/tasks/tuned_install.yml', 'tripleo_ansible/roles/tripleo_module_load/handlers/main.yml', 'tripleo_ansible/roles/tripleo_ptp/handlers/main.yml', 'tripleo_ansible/roles/tripleo_kernel/handlers/main.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/tripleo_ptp.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/tripleo_phc2sys.yml', 'tripleo_ansible/roles/tripleo_timezone/handlers/main.yml', 'tripleo_ansible/roles/tuned/handlers/main.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/handlers/main.yml', 'tripleo_ansible/roles/tripleo_firewall/handlers/main.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/tasks/main.yml', 'tripleo_ansible/roles/tripleo_module_load/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d9cd021f06de4b389665e6102d53a24b2599c6c3', 'message': ""Switch from handlers to tasks\n\nHandlers normally don't run until the end of a play execution. Since we\nare forcing a handler run in the middle of the tasks there is not a good\nreason to use handlers for this case. Additionally we're not relying on\nthis handler anywhere else.  Because of this, let's switch to explicit\ntasks that check changed results instead of handlers.  We've seen issues\nwith trying to use handlers in ansible when not using a linear strategy.\n\nChange-Id: I4eb5ece7d5c1d25f5beacd9e21e20ae9f3d45c17\nCloses-Bug: #1888853\n(cherry picked from commit d057ad0b6a56110b49796bc2d6a331dd4ce9045f)\n""}]",0,744221,d9cd021f06de4b389665e6102d53a24b2599c6c3,14,5,1,14985,,,0,"Switch from handlers to tasks

Handlers normally don't run until the end of a play execution. Since we
are forcing a handler run in the middle of the tasks there is not a good
reason to use handlers for this case. Additionally we're not relying on
this handler anywhere else.  Because of this, let's switch to explicit
tasks that check changed results instead of handlers.  We've seen issues
with trying to use handlers in ansible when not using a linear strategy.

Change-Id: I4eb5ece7d5c1d25f5beacd9e21e20ae9f3d45c17
Closes-Bug: #1888853
(cherry picked from commit d057ad0b6a56110b49796bc2d6a331dd4ce9045f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/21/744221/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_timezone/tasks/main.yml', 'tripleo_ansible/roles/tripleo_cellv2/handlers/main.yml', 'tripleo_ansible/roles/tripleo_cellv2/tasks/add_internalapi_hosts_entries.yml', 'tripleo_ansible/roles/tuned/tasks/tuned_install.yml', 'tripleo_ansible/roles/tripleo_module_load/handlers/main.yml', 'tripleo_ansible/roles/tripleo_ptp/handlers/main.yml', 'tripleo_ansible/roles/tripleo_kernel/handlers/main.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/tripleo_ptp.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/tripleo_phc2sys.yml', 'tripleo_ansible/roles/tripleo_timezone/handlers/main.yml', 'tripleo_ansible/roles/tuned/handlers/main.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/handlers/main.yml', 'tripleo_ansible/roles/tripleo_firewall/handlers/main.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/tasks/main.yml', 'tripleo_ansible/roles/tripleo_module_load/tasks/main.yml']",17,d9cd021f06de4b389665e6102d53a24b2599c6c3,bug/1888853-stable/ussuri, register: _tripleo_modules_add register: _tripleo_modules_remove - name: Modules reload systemd: name: systemd-modules-load.service state: restarted when: - _tripleo_modules_add.changed or _tripleo_modules_remove.changed, notify: - Modules reload,161,290
openstack%2Fpython-tripleoclient~stable%2Ftrain~I18c38fb0cf69ac6ea636ea640bbbab3d345faa40,openstack/python-tripleoclient,stable/train,I18c38fb0cf69ac6ea636ea640bbbab3d345faa40,Port jobs from centos7 to centos8,MERGED,2020-07-23 06:25:38.000000000,2020-08-10 20:50:14.000000000,2020-08-10 20:47:11.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-23 06:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/95569cb6fe0902dc021b7188c6499fc8a6581a1e', 'message': 'Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8\n\nDepends-On: https://review.opendev.org/#/c/738375/\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447275\n\nChange-Id: I18c38fb0cf69ac6ea636ea640bbbab3d345faa40\nSigned-off-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 2, 'created': '2020-07-23 06:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/80c0750425b631fbb9a6a0381dc6728afbe20461', 'message': 'Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8\n\nDepends-On: https://review.opendev.org/#/c/738375/\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1903?kanban-status=1447275\n\nChange-Id: I18c38fb0cf69ac6ea636ea640bbbab3d345faa40\nSigned-off-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 3, 'created': '2020-07-30 14:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/19ed7986b2c50424e544b1c1d57b461e8b31a832', 'message': 'Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8\n\nHere we are keeping c7 multinode containers job and\nupgrade job to maintain c7 coverage.\n\nDepends-On: https://review.opendev.org/#/c/738375/\nDepends-On: https://review.opendev.org/#/c/743455/\nDepends-On: https://review.opendev.org/#/c/743959/\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447275\n\nChange-Id: I18c38fb0cf69ac6ea636ea640bbbab3d345faa40\nSigned-off-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 4, 'created': '2020-08-03 11:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f9f7e81907da53fa6b4f5f25099093633286d005', 'message': 'Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8\n\nHere we are keeping c7 multinode containers job and\nupgrade job to maintain c7 coverage.\n\nDepends-On: https://review.opendev.org/#/c/738375/\nDepends-On: https://review.opendev.org/#/c/743455/\nDepends-On: https://review.opendev.org/#/c/743959/\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447275\n\nChange-Id: I18c38fb0cf69ac6ea636ea640bbbab3d345faa40\nSigned-off-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 5, 'created': '2020-08-04 04:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/633b1d2a6bdfa081ec3eff1d35459a537476c1cc', 'message': 'Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8\n\nHere we are keeping c7 multinode containers job and\nupgrade job to maintain c7 coverage.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447275\n\nChange-Id: I18c38fb0cf69ac6ea636ea640bbbab3d345faa40\nSigned-off-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 6, 'created': '2020-08-04 09:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c52c6883dcad2aaa52d87bade1e300ad879ddee2', 'message': 'Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8\n\nHere we are keeping c7 multinode containers job and\nupgrade job to maintain c7 coverage.\n\nDepends-On: https://review.opendev.org/#/c/738375/\nDepends-On: https://review.opendev.org/#/c/743455/\nDepends-On: https://review.opendev.org/#/c/743959/\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447275\n\nChange-Id: I18c38fb0cf69ac6ea636ea640bbbab3d345faa40\nSigned-off-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 7, 'created': '2020-08-04 09:24:49.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ad603d3949d5dc1220aadfd2a209718ac0554e6d', 'message': 'Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8\n\nHere we are keeping c7 multinode containers job and\nupgrade job to maintain c7 coverage.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447275\n\nChange-Id: I18c38fb0cf69ac6ea636ea640bbbab3d345faa40\nSigned-off-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}]",4,742596,ad603d3949d5dc1220aadfd2a209718ac0554e6d,34,11,7,20182,,,0,"Port jobs from centos7 to centos8

This change ports train jobs from centos7 to centos8

Here we are keeping c7 multinode containers job and
upgrade job to maintain c7 coverage.

https://tree.taiga.io/project/tripleo-ci-board/task/1901?kanban-status=1447275

Change-Id: I18c38fb0cf69ac6ea636ea640bbbab3d345faa40
Signed-off-by: Bhagyashri Shewale <bshewale@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/96/742596/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,95569cb6fe0902dc021b7188c6499fc8a6581a1e,c7-to-c8-train, - tripleo-ci-centos-8-containers-multinode: - tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades: - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates: - tripleo-ci-centos-8-scenario007-multinode-oooq-container: - tripleo-ci-centos-8-standalone-upgrade: - tripleo-ci-centos-8-scenario001-standalone: - tripleo-ci-centos-8-scenario002-standalone: - tripleo-ci-centos-8-scenario003-standalone: - tripleo-ci-centos-8-scenario004-standalone: - tripleo-ci-centos-8-scenario012-standalone: - tripleo-ci-centos-8-containers-undercloud-minion:, - tripleo-ci-centos-7-containers-multinode: - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades: - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: - tripleo-ci-centos-7-scenario007-multinode-oooq-container: - tripleo-ci-centos-7-standalone-upgrade: - tripleo-ci-centos-7-scenario001-standalone: - tripleo-ci-centos-7-scenario002-standalone: - tripleo-ci-centos-7-scenario003-standalone: - tripleo-ci-centos-7-scenario004-standalone: - tripleo-ci-centos-7-scenario012-standalone: - tripleo-ci-centos-7-containers-undercloud-minion:,11,11
openstack%2Fkolla-ansible~master~I59a15186bbe931efd8d99a990a3ceafbd264e1df,openstack/kolla-ansible,master,I59a15186bbe931efd8d99a990a3ceafbd264e1df,keystone: all distros are Python3 - use /usr/bin/python3,MERGED,2020-08-06 09:31:05.000000000,2020-08-10 20:50:03.000000000,2020-08-10 20:48:44.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-06 09:31:05.000000000', 'files': ['ansible/roles/keystone/templates/fernet-node-sync.sh.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d7d4df26841335f3c7567a2aa9e4c4a4013c550b', 'message': 'keystone: all distros are Python3 - use /usr/bin/python3\n\nChange-Id: I59a15186bbe931efd8d99a990a3ceafbd264e1df\n'}]",0,745102,d7d4df26841335f3c7567a2aa9e4c4a4013c550b,10,4,1,24072,,,0,"keystone: all distros are Python3 - use /usr/bin/python3

Change-Id: I59a15186bbe931efd8d99a990a3ceafbd264e1df
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/02/745102/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/keystone/templates/fernet-node-sync.sh.j2'],1,d7d4df26841335f3c7567a2aa9e4c4a4013c550b,,"TOKEN_CHECK=$(/usr/bin/python3 /usr/bin/fetch_fernet_tokens.py -t {{ fernet_token_expiry }} -n 2)while /usr/bin/python3 /usr/bin/fetch_fernet_tokens.py -t 86400 -n 1 | grep -q '""populated"": false'; do","TOKEN_CHECK=$(/usr/bin/python{{ distro_python_version }} /usr/bin/fetch_fernet_tokens.py -t {{ fernet_token_expiry }} -n 2)while /usr/bin/python{{ distro_python_version }} /usr/bin/fetch_fernet_tokens.py -t 86400 -n 1 | grep -q '""populated"": false'; do",2,2
openstack%2Fpuppet-nova~master~I695834ac03a52d8569e50db600676a89e165491d,openstack/puppet-nova,master,I695834ac03a52d8569e50db600676a89e165491d,Use a 'params' hash for authtoken parameters,MERGED,2020-07-30 01:35:07.000000000,2020-08-10 20:48:46.000000000,2020-08-10 20:48:46.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-30 01:35:07.000000000', 'files': ['spec/classes/nova_api_spec.rb', 'spec/classes/nova_keystone_authtoken_spec.rb', 'manifests/api.pp', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/5c38281e1b698f157f03bf1815733277c541c30b', 'message': ""Use a 'params' hash for authtoken parameters\n\nCurrently adding a new authtoken parameter requires changes\nin nearly 30 different puppet projects. For options without defaults,\ndefining these individually in each puppet-* project doesn't\nappear to add any value since validation is already happening\nin the keystone::resource::authtoken class.\n\nThis change adds a params parameter which is a hash of options to\npass through to the authtoken resource. The individual params are\nstill used as defaults, but any keys set in the params hash override\nthem. I propose deprecating these individual parameters in a future\ncommit.\n\nDepends-On: https://review.opendev.org/#/c/743858/\nChange-Id: I695834ac03a52d8569e50db600676a89e165491d\n""}]",4,743861,5c38281e1b698f157f03bf1815733277c541c30b,9,5,1,5733,,,0,"Use a 'params' hash for authtoken parameters

Currently adding a new authtoken parameter requires changes
in nearly 30 different puppet projects. For options without defaults,
defining these individually in each puppet-* project doesn't
appear to add any value since validation is already happening
in the keystone::resource::authtoken class.

This change adds a params parameter which is a hash of options to
pass through to the authtoken resource. The individual params are
still used as defaults, but any keys set in the params hash override
them. I propose deprecating these individual parameters in a future
commit.

Depends-On: https://review.opendev.org/#/c/743858/
Change-Id: I695834ac03a52d8569e50db600676a89e165491d
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/61/743861/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_api_spec.rb', 'spec/classes/nova_keystone_authtoken_spec.rb', 'manifests/api.pp', 'manifests/keystone/authtoken.pp']",4,5c38281e1b698f157f03bf1815733277c541c30b,authtoken-params,"# [*params*] # (Optional) Hash of additional parameters to pass through to the keystone # authtoken class. Values set here override the individual parameters above. # $params = {}, keystone::resource::authtoken { 'nova_config': * => $params; default: username => $username, password => $password, project_name => $project_name, auth_url => $auth_url, www_authenticate_uri => $www_authenticate_uri, auth_version => $auth_version, auth_type => $auth_type, auth_section => $auth_section, user_domain_name => $user_domain_name, project_domain_name => $project_domain_name, insecure => $insecure, cache => $cache, cafile => $cafile, certfile => $certfile, delay_auth_decision => $delay_auth_decision, enforce_token_bind => $enforce_token_bind, http_connect_timeout => $http_connect_timeout, http_request_max_retries => $http_request_max_retries, include_service_catalog => $include_service_catalog, keyfile => $keyfile, memcache_pool_conn_get_timeout => $memcache_pool_conn_get_timeout, memcache_pool_dead_retry => $memcache_pool_dead_retry, memcache_pool_maxsize => $memcache_pool_maxsize, memcache_pool_socket_timeout => $memcache_pool_socket_timeout, memcache_secret_key => $memcache_secret_key, memcache_security_strategy => $memcache_security_strategy, memcache_use_advanced_pool => $memcache_use_advanced_pool, memcache_pool_unused_timeout => $memcache_pool_unused_timeout, memcached_servers => $memcached_servers, manage_memcache_package => $manage_memcache_package, region_name => $region_name, token_cache_time => $token_cache_time, service_token_roles => $service_token_roles, service_token_roles_required => $service_token_roles_required, interface => $interface;"," keystone::resource::authtoken { 'nova_config': username => $username, password => $password, project_name => $project_name, auth_url => $auth_url, www_authenticate_uri => $www_authenticate_uri, auth_version => $auth_version, auth_type => $auth_type, auth_section => $auth_section, user_domain_name => $user_domain_name, project_domain_name => $project_domain_name, insecure => $insecure, cache => $cache, cafile => $cafile, certfile => $certfile, delay_auth_decision => $delay_auth_decision, enforce_token_bind => $enforce_token_bind, http_connect_timeout => $http_connect_timeout, http_request_max_retries => $http_request_max_retries, include_service_catalog => $include_service_catalog, keyfile => $keyfile, memcache_pool_conn_get_timeout => $memcache_pool_conn_get_timeout, memcache_pool_dead_retry => $memcache_pool_dead_retry, memcache_pool_maxsize => $memcache_pool_maxsize, memcache_pool_socket_timeout => $memcache_pool_socket_timeout, memcache_secret_key => $memcache_secret_key, memcache_security_strategy => $memcache_security_strategy, memcache_use_advanced_pool => $memcache_use_advanced_pool, memcache_pool_unused_timeout => $memcache_pool_unused_timeout, memcached_servers => $memcached_servers, manage_memcache_package => $manage_memcache_package, region_name => $region_name, token_cache_time => $token_cache_time, service_token_roles => $service_token_roles, service_token_roles_required => $service_token_roles_required, interface => $interface,",75,48
openstack%2Ftripleo-ansible~stable%2Ftrain~I200efe00b735a17a996fbfe64e3f0f4d4c813f73,openstack/tripleo-ansible,stable/train,I200efe00b735a17a996fbfe64e3f0f4d4c813f73,Add toggle for sensitive data within keystone,MERGED,2020-08-04 17:15:33.000000000,2020-08-10 20:41:24.000000000,2020-08-10 20:41:24.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-04 17:15:33.000000000', 'files': ['tripleo_ansible/roles/test_deps/tasks/main.yml', 'tripleo_ansible/roles/test_deps/tasks/tripleo-setup.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/tasks/admin.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/tasks/users.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/tasks/endpoints.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/tasks/services.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b8d00df59a970a99588a2f29bb30819d0aa0401b', 'message': 'Add toggle for sensitive data within keystone\n\nThis change will allow deployers to expose sensitive data as needed.\n\n> This change also fixes the tests for keystone. The role test was\n  broken because the use of test-deps needed to be updated for the new\n  repo layout.\n\nChange-Id: I200efe00b735a17a996fbfe64e3f0f4d4c813f73\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 8cc51067d83ad8245ced0a0d62084de8717415d1)\n'}]",0,744757,b8d00df59a970a99588a2f29bb30819d0aa0401b,15,5,1,14985,,,0,"Add toggle for sensitive data within keystone

This change will allow deployers to expose sensitive data as needed.

> This change also fixes the tests for keystone. The role test was
  broken because the use of test-deps needed to be updated for the new
  repo layout.

Change-Id: I200efe00b735a17a996fbfe64e3f0f4d4c813f73
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 8cc51067d83ad8245ced0a0d62084de8717415d1)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/57/744757/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/test_deps/tasks/main.yml', 'tripleo_ansible/roles/test_deps/tasks/tripleo-setup.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/tasks/admin.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/tasks/users.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/tasks/endpoints.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/tasks/services.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/defaults/main.yml']",7,b8d00df59a970a99588a2f29bb30819d0aa0401b,bug/1888853-stable/train,"tripleo_keystone_resources_hide_sensitive_logs: ""{{ hide_sensitive_logs | default(true) }}"" tripleo_keystone_resources_debug: ""{{ ((ansible_verbosity | int) >= 2) | bool }}""",,32,80
openstack%2Ftripleo-common~stable%2Ftrain~I1fc5af1476a82bdc3eed80ce979954edcf591361,openstack/tripleo-common,stable/train,I1fc5af1476a82bdc3eed80ce979954edcf591361,Port jobs from centos7 to centos8,MERGED,2020-07-30 15:08:47.000000000,2020-08-10 20:20:38.000000000,2020-08-10 20:17:56.000000000,"[{'_account_id': 3153}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30750}, {'_account_id': 31075}]","[{'number': 1, 'created': '2020-07-30 15:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ceeff09b10f804281d67e9c15c8b8ae83c0ac06d', 'message': ""Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8.\n\nHowever, we are keeping c7 multinode containers job for c7 coverage\nand upgrade jobs as an exception because c8 stein -> c8 train is\ncurrently not feasible because we don't have stein bits on c8)\n\nDepends-On: https://review.opendev.org/#/c/738375/\nChange-Id: I1fc5af1476a82bdc3eed80ce979954edcf591361\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/1900\n""}, {'number': 2, 'created': '2020-07-31 12:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/aa5eee90001ba167f746e6b2cb085026d7f763fd', 'message': ""Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8.\n\nHowever, we are keeping c7 multinode containers job for c7 coverage\nand upgrade jobs as an exception because c8 stein -> c8 train is\ncurrently not feasible because we don't have stein bits on c8)\n\nDepends-On: https://review.opendev.org/#/c/738375/\nChange-Id: I1fc5af1476a82bdc3eed80ce979954edcf591361\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/1900\n""}, {'number': 3, 'created': '2020-07-31 12:37:21.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5ea95eca54bff0a78e4d4173a20b9e941d1c01c0', 'message': ""Port jobs from centos7 to centos8\n\nThis change ports train jobs from centos7 to centos8.\n\nHowever, we are keeping c7 multinode containers job for c7 coverage\nand upgrade jobs as an exception because c8 stein -> c8 train is\ncurrently not feasible because we don't have stein bits on c8)\n\nDepends-On: https://review.opendev.org/#/c/738375/\nChange-Id: I1fc5af1476a82bdc3eed80ce979954edcf591361\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/1900\n""}]",5,743998,5ea95eca54bff0a78e4d4173a20b9e941d1c01c0,37,14,3,29775,,,0,"Port jobs from centos7 to centos8

This change ports train jobs from centos7 to centos8.

However, we are keeping c7 multinode containers job for c7 coverage
and upgrade jobs as an exception because c8 stein -> c8 train is
currently not feasible because we don't have stein bits on c8)

Depends-On: https://review.opendev.org/#/c/738375/
Change-Id: I1fc5af1476a82bdc3eed80ce979954edcf591361
Story: https://tree.taiga.io/project/tripleo-ci-board/task/1900
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/98/743998/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,ceeff09b10f804281d67e9c15c8b8ae83c0ac06d,c7-to-c8-train, - tripleo-ci-centos-8-undercloud-containers: - tripleo-ci-centos-8-standalone: - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-train: - tripleo-ci-centos-8-scenario007-multinode-oooq-container: - tripleo-ci-centos-8-scenario001-standalone: - tripleo-ci-centos-8-scenario002-standalone: - tripleo-ci-centos-8-scenario003-standalone: - tripleo-ci-centos-8-scenario004-standalone: - tripleo-ci-centos-8-scenario012-standalone: - tripleo-buildimage-overcloud-full-centos-8: - tripleo-buildimage-ironic-python-agent-centos-8: - tripleo-buildimage-overcloud-hardened-full-centos-8: - tripleo-buildimage-overcloud-full-centos-8: - tripleo-buildimage-ironic-python-agent-centos-8: - tripleo-buildimage-overcloud-hardened-full-centos-8:, - tripleo-ci-centos-7-undercloud-containers: - tripleo-ci-centos-7-standalone: - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: - tripleo-ci-centos-7-scenario007-multinode-oooq-container: - tripleo-ci-centos-7-scenario001-standalone: - tripleo-ci-centos-7-scenario002-standalone: - tripleo-ci-centos-7-scenario003-standalone: - tripleo-ci-centos-7-scenario004-standalone: - tripleo-ci-centos-7-scenario012-standalone: - tripleo-buildimage-overcloud-full-centos-7: - tripleo-buildimage-ironic-python-agent-centos-7: - tripleo-buildimage-overcloud-hardened-full-centos-7: - tripleo-buildimage-overcloud-full-centos-7: - tripleo-buildimage-ironic-python-agent-centos-7: - tripleo-buildimage-overcloud-hardened-full-centos-7:,15,15
openstack%2Ftripleo-ansible~master~Ia590de251da1d23065cbc0070a0b3798f628800d,openstack/tripleo-ansible,master,Ia590de251da1d23065cbc0070a0b3798f628800d,DNM - debug,ABANDONED,2020-04-20 19:15:11.000000000,2020-08-10 20:15:36.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-20 19:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b2f89f5c126c78f85fc32f2e345fc4f9ff0c416b', 'message': 'DNM - debug\n\nChange-Id: Ia590de251da1d23065cbc0070a0b3798f628800d\n'}, {'number': 2, 'created': '2020-06-17 21:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d3aa9a80445d8d303a35c8a980d0b7fc535eba28', 'message': 'DNM - debug\n\nChange-Id: Ia590de251da1d23065cbc0070a0b3798f628800d\n'}, {'number': 3, 'created': '2020-06-17 21:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/32a2d5bcb55b5dce662fe726e531d8ce0b2caaab', 'message': 'DNM - debug\n\nChange-Id: Ia590de251da1d23065cbc0070a0b3798f628800d\n'}, {'number': 4, 'created': '2020-06-17 21:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/17fae420a4a18b39275d0d29e399f18ab65b1d07', 'message': 'DNM - debug\n\nChange-Id: Ia590de251da1d23065cbc0070a0b3798f628800d\n'}, {'number': 5, 'created': '2020-06-17 21:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b717475cdce6222c29e5ddc29123277f946980c5', 'message': 'DNM - debug\n\nChange-Id: Ia590de251da1d23065cbc0070a0b3798f628800d\n'}, {'number': 6, 'created': '2020-06-25 21:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6f0d4e9b288e21df7c526ce4b2c9d0b9e743f9ad', 'message': 'DNM - debug\n\nChange-Id: Ia590de251da1d23065cbc0070a0b3798f628800d\n'}, {'number': 7, 'created': '2020-06-29 23:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2c1086fc4111ed6f9cb303542060ea26048b7a49', 'message': 'DNM - debug\n\nChange-Id: Ia590de251da1d23065cbc0070a0b3798f628800d\n'}, {'number': 8, 'created': '2020-06-30 13:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9dba0d05c6d55935eb13a6ff940667c033dec235', 'message': 'DNM - debug\n\nChange-Id: Ia590de251da1d23065cbc0070a0b3798f628800d\n'}, {'number': 9, 'created': '2020-07-02 21:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/485db6e8b13825317a0d55a9d21608708a471bba', 'message': 'DNM - debug\n\nChange-Id: Ia590de251da1d23065cbc0070a0b3798f628800d\n'}, {'number': 10, 'created': '2020-07-29 19:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9e806072f3610b2c92291133c2edb28b1542d9d0', 'message': 'DNM - debug\n\nChange-Id: Ia590de251da1d23065cbc0070a0b3798f628800d\n'}, {'number': 11, 'created': '2020-07-29 19:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5f7a647c216010206a6732a8268a09a3c46e1dfc', 'message': 'DNM - debug\n\nChange-Id: Ia590de251da1d23065cbc0070a0b3798f628800d\n'}, {'number': 12, 'created': '2020-07-30 19:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cdd1227a3452cfde42752103e716afacd6c38b3c', 'message': 'DNM - debug\n\nChange-Id: Ia590de251da1d23065cbc0070a0b3798f628800d\n'}, {'number': 13, 'created': '2020-07-31 22:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e3baad1aab99037d95057fcf1c193646122b33ed', 'message': 'DNM - debug\n\nChange-Id: Ia590de251da1d23065cbc0070a0b3798f628800d\n'}, {'number': 14, 'created': '2020-07-31 22:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5737291bc064c8eccced269d15173d758353bb47', 'message': 'DNM - debug\n\nChange-Id: Ia590de251da1d23065cbc0070a0b3798f628800d\n'}, {'number': 15, 'created': '2020-07-31 22:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/03d945adf64bb82f17da2b7a87367b4c7fbbf584', 'message': 'DNM - debug\n\nChange-Id: Ia590de251da1d23065cbc0070a0b3798f628800d\n'}, {'number': 16, 'created': '2020-07-31 22:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0f6d77fbfacb9e8eaf9e8a99f8ba7fa8b55b8363', 'message': 'DNM - debug\n\nChange-Id: Ia590de251da1d23065cbc0070a0b3798f628800d\n'}, {'number': 17, 'created': '2020-07-31 23:05:32.000000000', 'files': ['tests/test_molecule.py', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a4242f94384a81381b74ef4ebf700bfc0b30b29b', 'message': 'DNM - debug\n\nChange-Id: Ia590de251da1d23065cbc0070a0b3798f628800d\n'}]",0,721330,a4242f94384a81381b74ef4ebf700bfc0b30b29b,44,2,17,3153,,,0,"DNM - debug

Change-Id: Ia590de251da1d23065cbc0070a0b3798f628800d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/30/721330/9 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_molecule.py', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/systemd.yml']",2,b2f89f5c126c78f85fc32f2e345fc4f9ff0c416b,module/check_status,,,2,1
openstack%2Fironic~stable%2Fussuri~I88c57a1345edb1b14c760753638ad927641b34a2,openstack/ironic,stable/ussuri,I88c57a1345edb1b14c760753638ad927641b34a2,Change non-tinyipa jobs to use multiple cores,MERGED,2020-07-17 04:25:38.000000000,2020-08-10 19:59:47.000000000,2020-08-10 19:56:38.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-17 04:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3b8c1c8d9231e643d287b831fa352ca53b6a9035', 'message': 'Change non-tinyipa jobs to use multiple cores\n\nA large ramdisk image tends to take an undesirable amount\nof time performing the initial uncompression into memory before\nthe system is booted and available. This sets the number of CPU cores\nby default for all jobs to 2, and only sets that back to 1 where\nTinyIPA is being used.\n\nChange-Id: I88c57a1345edb1b14c760753638ad927641b34a2\n(cherry picked from commit 44d56c559b5cc634911b5cdea42ae1b22aa4cb76)\n'}, {'number': 2, 'created': '2020-07-24 13:33:11.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d1fe4b61a66def93f58456376b64c3be7b15a0f8', 'message': 'Change non-tinyipa jobs to use multiple cores\n\nA large ramdisk image tends to take an undesirable amount\nof time performing the initial uncompression into memory before\nthe system is booted and available. This sets the number of CPU cores\nby default for all jobs to 2, and only sets that back to 1 where\nTinyIPA is being used.\n\nChange-Id: I88c57a1345edb1b14c760753638ad927641b34a2\n(cherry picked from commit 44d56c559b5cc634911b5cdea42ae1b22aa4cb76)\n'}]",0,741577,d1fe4b61a66def93f58456376b64c3be7b15a0f8,67,6,2,11655,,,0,"Change non-tinyipa jobs to use multiple cores

A large ramdisk image tends to take an undesirable amount
of time performing the initial uncompression into memory before
the system is booted and available. This sets the number of CPU cores
by default for all jobs to 2, and only sets that back to 1 where
TinyIPA is being used.

Change-Id: I88c57a1345edb1b14c760753638ad927641b34a2
(cherry picked from commit 44d56c559b5cc634911b5cdea42ae1b22aa4cb76)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/77/741577/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,3b8c1c8d9231e643d287b831fa352ca53b6a9035,741577, IRONIC_VM_SPECS_CPU: 2 IRONIC_VM_SPECS_CPU: 1 IRONIC_VM_SPECS_CPU: 1 IRONIC_VM_SPECS_CPU: 1,,4,0
openstack%2Fproject-config~master~I8e2313e45362ad53f437e0ac428ffdf11e2e9f6a,openstack/project-config,master,I8e2313e45362ad53f437e0ac428ffdf11e2e9f6a,Cleanup old periodic pbr jobs,MERGED,2020-08-06 17:02:58.000000000,2020-08-10 19:54:57.000000000,2020-08-10 19:54:56.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 17:02:58.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/9c9a701b3a24987a7ddf0215dd07fe0195ae6bfe', 'message': 'Cleanup old periodic pbr jobs\n\nThese jobs are legacy devstack-gate jobs and are going to be removed.\nClean them out of project-config so that we can remove the jobs from pbr\nentirely.\n\nDepends-On: https://review.opendev.org/#/c/745171/\nChange-Id: I8e2313e45362ad53f437e0ac428ffdf11e2e9f6a\n'}]",0,745189,9c9a701b3a24987a7ddf0215dd07fe0195ae6bfe,9,4,1,4146,,,0,"Cleanup old periodic pbr jobs

These jobs are legacy devstack-gate jobs and are going to be removed.
Clean them out of project-config so that we can remove the jobs from pbr
entirely.

Depends-On: https://review.opendev.org/#/c/745171/
Change-Id: I8e2313e45362ad53f437e0ac428ffdf11e2e9f6a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/89/745189/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,9c9a701b3a24987a7ddf0215dd07fe0195ae6bfe,native-zuulv3-migration,, periodic: jobs: - pbr-installation-devstack: branches: master - pbr-installation-upstream-devstack: branches: master,0,6
openstack%2Fsahara-image-elements~master~I7accc23d6e91ff4a525c31616033f76c07dec21e,openstack/sahara-image-elements,master,I7accc23d6e91ff4a525c31616033f76c07dec21e,Fix URL of Maven Central Repository,MERGED,2020-08-10 13:49:32.000000000,2020-08-10 19:54:11.000000000,2020-08-10 19:54:11.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-10 13:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/fe858877c6a8b8969cc0806f9e1da40c28a1f849', 'message': 'Fix URL of Maven Central Repository\n\nChange-Id: I7accc23d6e91ff4a525c31616033f76c07dec21e\nStory: 2007996\nTask: 40639\n'}, {'number': 2, 'created': '2020-08-10 18:21:16.000000000', 'files': ['elements/s3_hadoop/post-install.d/89-manipulate-s3', 'elements/hadoop-cdh/post-install.d/50-cdh-fixes'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/ded80db2667438313bab6d448d19ef2305f2e527', 'message': 'Fix URL of Maven Central Repository\n\nChange-Id: I7accc23d6e91ff4a525c31616033f76c07dec21e\nStory: 2007996\nTask: 40639\n'}]",0,745541,ded80db2667438313bab6d448d19ef2305f2e527,10,3,2,23078,,,0,"Fix URL of Maven Central Repository

Change-Id: I7accc23d6e91ff4a525c31616033f76c07dec21e
Story: 2007996
Task: 40639
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/41/745541/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/s3_hadoop/post-install.d/89-manipulate-s3', 'elements/hadoop-cdh/post-install.d/50-cdh-fixes']",2,fe858877c6a8b8969cc0806f9e1da40c28a1f849,, wget https://repo1.maven.org/maven2/org/slf4j/slf4j-log4j12/1.6.1/slf4j-log4j12-1.6.1.jar;, wget http://repo1.maven.org/maven2/org/slf4j/slf4j-log4j12/1.6.1/slf4j-log4j12-1.6.1.jar;,5,5
openstack%2Fpuppet-tripleo~master~Ia0d51665971f1fe3c7394f5a398ac70216ec27e2,openstack/puppet-tripleo,master,Ia0d51665971f1fe3c7394f5a398ac70216ec27e2,Update Puppet requirement to >= 6.0.0,MERGED,2020-08-04 06:23:40.000000000,2020-08-10 19:47:39.000000000,2020-08-10 19:47:39.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-04 06:23:40.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4143543eb01a57ca3be012bc9e8b21b086964719', 'message': 'Update Puppet requirement to >= 6.0.0\n\n... because now all openstack-puppet modules support Puppet 6 only .\n\nChange-Id: Ia0d51665971f1fe3c7394f5a398ac70216ec27e2\n'}]",0,744650,4143543eb01a57ca3be012bc9e8b21b086964719,8,4,1,9816,,,0,"Update Puppet requirement to >= 6.0.0

... because now all openstack-puppet modules support Puppet 6 only .

Change-Id: Ia0d51665971f1fe3c7394f5a398ac70216ec27e2
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/50/744650/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,4143543eb01a57ca3be012bc9e8b21b086964719,," { ""name"": ""puppet"", ""version_requirement"": "">= 6.0.0 < 7.0.0"" }"," { ""name"": ""puppet"",""version_requirement"": ""5.x"" }",4,1
openstack%2Fpuppet-tripleo~stable%2Ftrain~I0ea26253355a57b3721bfa6ceef3972eaabc5b1d,openstack/puppet-tripleo,stable/train,I0ea26253355a57b3721bfa6ceef3972eaabc5b1d,Add certmonger-etcd-refresh.sh script,MERGED,2020-08-07 00:15:57.000000000,2020-08-10 19:45:51.000000000,2020-08-10 19:45:51.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-07 00:15:57.000000000', 'files': ['manifests/certmonger/etcd.pp', 'files/certmonger-etcd-refresh.sh'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d833f860835362b2a28108264ebe44fb8286f9a0', 'message': 'Add certmonger-etcd-refresh.sh script\n\nAdd a script that refreshes the etcd cert and key files in all\ncontainers that reference them. This includes etcd itself, plus any\ncinder services that access etcd.\n\nChange-Id: I0ea26253355a57b3721bfa6ceef3972eaabc5b1d\n(cherry picked from commit 95db8b4947f0a80a0109131eda8f66ed4acb90d6)\n(cherry picked from commit 37b8666f64d8d8e65c483ec37efe99ac763f62c9)\n'}]",0,745255,d833f860835362b2a28108264ebe44fb8286f9a0,7,3,1,21129,,,0,"Add certmonger-etcd-refresh.sh script

Add a script that refreshes the etcd cert and key files in all
containers that reference them. This includes etcd itself, plus any
cinder services that access etcd.

Change-Id: I0ea26253355a57b3721bfa6ceef3972eaabc5b1d
(cherry picked from commit 95db8b4947f0a80a0109131eda8f66ed4acb90d6)
(cherry picked from commit 37b8666f64d8d8e65c483ec37efe99ac763f62c9)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/55/745255/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/certmonger/etcd.pp', 'files/certmonger-etcd-refresh.sh']",2,d833f860835362b2a28108264ebe44fb8286f9a0,etcd-cert-revamp,"#!/bin/bash container_cli=$(hiera -c /etc/puppet/hiera.yaml container_cli podman) # cinder uses etcd, so its containers also need to be refreshed container_names=$($container_cli ps --format=""{{.Names}}"" | grep -E 'cinder|etcd') service_crt=""$(hiera -c /etc/puppet/hiera.yaml tripleo::profile::base::etcd::certificate_specs.service_certificate)"" service_key=""$(hiera -c /etc/puppet/hiera.yaml tripleo::profile::base::etcd::certificate_specs.service_key)"" kolla_dir=""/var/lib/kolla/config_files/src-tls"" # For each container, check whether the cert and key files need to be updated. # The check is necessary because the original THT design directly bind mounted # the files to their final location, and did not copy them in via $kolla_dir. # Regardless of whether the container is directly using the files, or a copy, # there's no need to trigger a reload because the cert is not cached. for container_name in ${container_names[*]}; do $container_cli exec -u root ""$container_name"" bash -c "" [[ -f ${kolla_dir}/${service_crt} ]] && cp ${kolla_dir}/${service_crt} $service_crt; [[ -f ${kolla_dir}/${service_key} ]] && cp ${kolla_dir}/${service_key} $service_key; true "" done ",,31,2
openstack%2Fpbr~master~I77a38c4611dc28db79d6f25d96ad0de36b224c98,openstack/pbr,master,I77a38c4611dc28db79d6f25d96ad0de36b224c98,Begin work to modernize pbr's integration testing,MERGED,2020-08-06 15:35:18.000000000,2020-08-10 19:40:31.000000000,2020-08-10 19:37:27.000000000,"[{'_account_id': 5263}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 15:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/d4a62f3348b36f4315d9e959910c4e4a4592fbfd', 'message': ""WIP: Begin work to modernize pbr's integration testing\n\nPBR does integration testing by installing all of openstack's python\nprojects to ensure we can install all of them in a variety of different\nways with different pip versions. Unfortunately, these jobs are still\nusing devstack-gate. We can simplify them significantly because zuul is\nnow doing what devstack-gate does and provides repos configured the way\nwe want them to be.\n\nThis change update the jobs to drop devstack-gate and simply consume\nzuul's repo prep.\n\nChange-Id: I77a38c4611dc28db79d6f25d96ad0de36b224c98\n""}, {'number': 2, 'created': '2020-08-06 15:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/52ab68ec2e747aebfd91ebd2905f6b8f94a0bd76', 'message': ""WIP: Begin work to modernize pbr's integration testing\n\nPBR does integration testing by installing all of openstack's python\nprojects to ensure we can install all of them in a variety of different\nways with different pip versions. Unfortunately, these jobs are still\nusing devstack-gate. We can simplify them significantly because zuul is\nnow doing what devstack-gate does and provides repos configured the way\nwe want them to be.\n\nThis change update the jobs to drop devstack-gate and simply consume\nzuul's repo prep.\n\nChange-Id: I77a38c4611dc28db79d6f25d96ad0de36b224c98\n""}, {'number': 3, 'created': '2020-08-06 16:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/11407b554d16d91fcd757913d3903098b6c12f39', 'message': ""WIP: Begin work to modernize pbr's integration testing\n\nPBR does integration testing by installing all of openstack's python\nprojects to ensure we can install all of them in a variety of different\nways with different pip versions. Unfortunately, these jobs are still\nusing devstack-gate. We can simplify them significantly because zuul is\nnow doing what devstack-gate does and provides repos configured the way\nwe want them to be.\n\nThis change update the jobs to drop devstack-gate and simply consume\nzuul's repo prep.\n\nChange-Id: I77a38c4611dc28db79d6f25d96ad0de36b224c98\n""}, {'number': 4, 'created': '2020-08-06 16:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/6fac9231fda2b0c19cd30c5e9938e223197c0e6a', 'message': ""WIP: Begin work to modernize pbr's integration testing\n\nPBR does integration testing by installing all of openstack's python\nprojects to ensure we can install all of them in a variety of different\nways with different pip versions. Unfortunately, these jobs are still\nusing devstack-gate. We can simplify them significantly because zuul is\nnow doing what devstack-gate does and provides repos configured the way\nwe want them to be.\n\nThis change update the jobs to drop devstack-gate and simply consume\nzuul's repo prep.\n\nChange-Id: I77a38c4611dc28db79d6f25d96ad0de36b224c98\n""}, {'number': 5, 'created': '2020-08-06 16:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/cd2eaed5098d73e7fb3eab7a1493d43a483f4581', 'message': ""WIP: Begin work to modernize pbr's integration testing\n\nPBR does integration testing by installing all of openstack's python\nprojects to ensure we can install all of them in a variety of different\nways with different pip versions. Unfortunately, these jobs are still\nusing devstack-gate. We can simplify them significantly because zuul is\nnow doing what devstack-gate does and provides repos configured the way\nwe want them to be.\n\nThis change update the jobs to drop devstack-gate and simply consume\nzuul's repo prep.\n\nChange-Id: I77a38c4611dc28db79d6f25d96ad0de36b224c98\n""}, {'number': 6, 'created': '2020-08-06 17:46:11.000000000', 'files': ['playbooks/pbr-installation-openstack/pre.yaml', 'tools/integration.sh', '.zuul.yaml', 'playbooks/pbr-installation-openstack/run.yaml'], 'web_link': 'https://opendev.org/openstack/pbr/commit/9e229269b208671af5f4f3431b3f077dda5453c5', 'message': ""Begin work to modernize pbr's integration testing\n\nPBR does integration testing by installing all of openstack's python\nprojects to ensure we can install all of them in a variety of different\nways with different pip versions. Unfortunately, these jobs are still\nusing devstack-gate. We can simplify them significantly because zuul is\nnow doing what devstack-gate does and provides repos configured the way\nwe want them to be.\n\nThis change updates the jobs to drop devstack-gate and simply consume\nzuul's repo prep.\n\nA follow up will remove the old legacy jobs as they need to be removed\nfrom project-config first.\n\nNeeded-By: https://review.opendev.org/745189\nChange-Id: I77a38c4611dc28db79d6f25d96ad0de36b224c98\n""}]",0,745171,9e229269b208671af5f4f3431b3f077dda5453c5,19,3,6,4146,,,0,"Begin work to modernize pbr's integration testing

PBR does integration testing by installing all of openstack's python
projects to ensure we can install all of them in a variety of different
ways with different pip versions. Unfortunately, these jobs are still
using devstack-gate. We can simplify them significantly because zuul is
now doing what devstack-gate does and provides repos configured the way
we want them to be.

This change updates the jobs to drop devstack-gate and simply consume
zuul's repo prep.

A follow up will remove the old legacy jobs as they need to be removed
from project-config first.

Needed-By: https://review.opendev.org/745189
Change-Id: I77a38c4611dc28db79d6f25d96ad0de36b224c98
",git fetch https://review.opendev.org/openstack/pbr refs/changes/71/745171/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/integration.sh', '.zuul.yaml']",2,d4a62f3348b36f4315d9e959910c4e4a4592fbfd,native-zuulv3-migration, name: pbr-installation-openstack-base description: | Base job for pbr jobs that install openstack packages with current pbr. This ensures we don't break our ability to install openstack. required-projects: # TODO update this list with current active python projects name: pbr-installation-openstack parent: pbr-installation-openstack-base run: playbooks/pbr-installation-openstack/run.yaml - pbr-installation-openstack - pbr-installation-openstack, name: pbr-installation-devstack-base parent: legacy-dsvm-base required-projects: - openstack/devstack - openstack/grenade - openstack/devstack-gate name: pbr-installation-devstack parent: pbr-installation-devstack-base run: playbooks/legacy/pbr-installation-devstack/run.yaml post-run: playbooks/legacy/pbr-installation-devstack/post.yaml - job: name: pbr-installation-upstream-devstack parent: pbr-installation-devstack-base run: playbooks/legacy/pbr-installation-upstream-devstack/run.yaml post-run: playbooks/legacy/pbr-installation-upstream-devstack/post.yaml templates: - lib-forward-testing - lib-forward-testing-python3 - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python-jobs - openstack-python3-ussuri-jobs - periodic-stable-jobs - publish-openstack-docs-pti - pbr-installation-devstack - pbr-installation-upstream-devstack - pbr-installation-devstack - pbr-installation-upstream-devstack,13,31
openstack%2Fansible-role-uwsgi~stable%2Ftrain~I49d5154d80db6e7050cab7e71f1caa587e5cfe15,openstack/ansible-role-uwsgi,stable/train,I49d5154d80db6e7050cab7e71f1caa587e5cfe15,Fix uwsgi_venv_tag,MERGED,2020-08-10 14:49:58.000000000,2020-08-10 19:39:15.000000000,2020-08-10 19:37:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-10 14:49:58.000000000', 'files': ['tasks/uwsgi_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-uwsgi/commit/3e723cfcbbd62da3ad5fa305d9da9e716aeefe3f', 'message': 'Fix uwsgi_venv_tag\n\nChange-Id: I49d5154d80db6e7050cab7e71f1caa587e5cfe15\n'}]",0,745550,3e723cfcbbd62da3ad5fa305d9da9e716aeefe3f,8,3,1,28619,,,0,"Fix uwsgi_venv_tag

Change-Id: I49d5154d80db6e7050cab7e71f1caa587e5cfe15
",git fetch https://review.opendev.org/openstack/ansible-role-uwsgi refs/changes/50/745550/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/uwsgi_install.yml'],1,3e723cfcbbd62da3ad5fa305d9da9e716aeefe3f,," value: ""{{ uwsgi_venv_tag }}""", value: uwsgi_venv_tag,1,1
openstack%2Fansible-role-uwsgi~stable%2Fussuri~I49d5154d80db6e7050cab7e71f1caa587e5cfe15,openstack/ansible-role-uwsgi,stable/ussuri,I49d5154d80db6e7050cab7e71f1caa587e5cfe15,Fix uwsgi_venv_tag,MERGED,2020-08-10 14:49:50.000000000,2020-08-10 19:25:03.000000000,2020-08-10 19:23:55.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-10 14:49:50.000000000', 'files': ['tasks/uwsgi_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-uwsgi/commit/69f254bbead86af9c8fa3dae9576b359f8cb4c2e', 'message': 'Fix uwsgi_venv_tag\n\nChange-Id: I49d5154d80db6e7050cab7e71f1caa587e5cfe15\n'}]",0,745549,69f254bbead86af9c8fa3dae9576b359f8cb4c2e,8,3,1,28619,,,0,"Fix uwsgi_venv_tag

Change-Id: I49d5154d80db6e7050cab7e71f1caa587e5cfe15
",git fetch https://review.opendev.org/openstack/ansible-role-uwsgi refs/changes/49/745549/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/uwsgi_install.yml'],1,69f254bbead86af9c8fa3dae9576b359f8cb4c2e,," value: ""{{ uwsgi_venv_tag }}""", value: uwsgi_venv_tag,1,1
openstack%2Fglance~master~I4b63706927b599eb343b614f0c396f699378e14b,openstack/glance,master,I4b63706927b599eb343b614f0c396f699378e14b,Flesh out FakeImage for extra_properties,MERGED,2020-07-29 20:09:44.000000000,2020-08-10 19:24:46.000000000,2020-08-10 19:21:57.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-29 20:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1d22b1f69bddc871156c27d9aabe4802014928ce', 'message': 'Flesh out FakeImage for extra_properties\n\nThe FakeImage in test_images_resource.py is missing a lot of standard\nproperties. That becomes a problem as soon as you add extra_properties,\nwhich gets delegated to for any missing property by ImageTarget. Thus,\nif that fixture has extra_properties defined on it, any other base\nproperty (i.e. checksum, size, etc) will be looked for inside that dict\nif it is not defined on the fixture itself.\n\nThus, this adds fake values for all those properties and adds\nextra_properties={} so that subsequent patches can put things into\nextra_properties without a bunch of work.\n\nChange-Id: I4b63706927b599eb343b614f0c396f699378e14b\n'}, {'number': 2, 'created': '2020-07-30 13:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5dc69e61038038d4d159f1204771a7129089d0eb', 'message': 'Flesh out FakeImage for extra_properties\n\nThe FakeImage in test_images_resource.py is missing a lot of standard\nproperties. That becomes a problem as soon as you add extra_properties,\nwhich gets delegated to for any missing property by ImageTarget. Thus,\nif that fixture has extra_properties defined on it, any other base\nproperty (i.e. checksum, size, etc) will be looked for inside that dict\nif it is not defined on the fixture itself.\n\nThus, this adds fake values for all those properties and adds\nextra_properties={} so that subsequent patches can put things into\nextra_properties without a bunch of work.\n\nChange-Id: I4b63706927b599eb343b614f0c396f699378e14b\n'}, {'number': 3, 'created': '2020-07-30 13:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d9289566958f21404f65eec62250fa9d90bc5143', 'message': 'Flesh out FakeImage for extra_properties\n\nThe FakeImage in test_images_resource.py is missing a lot of standard\nproperties. That becomes a problem as soon as you add extra_properties,\nwhich gets delegated to for any missing property by ImageTarget. Thus,\nif that fixture has extra_properties defined on it, any other base\nproperty (i.e. checksum, size, etc) will be looked for inside that dict\nif it is not defined on the fixture itself.\n\nThus, this adds fake values for all those properties and adds\nextra_properties={} so that subsequent patches can put things into\nextra_properties without a bunch of work.\n\nChange-Id: I4b63706927b599eb343b614f0c396f699378e14b\n'}, {'number': 4, 'created': '2020-07-31 00:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c8b70f45b88127e4f8ab24443933a8e5072e8721', 'message': 'Flesh out FakeImage for extra_properties\n\nThe FakeImage in test_images_resource.py is missing a lot of standard\nproperties. That becomes a problem as soon as you add extra_properties,\nwhich gets delegated to for any missing property by ImageTarget. Thus,\nif that fixture has extra_properties defined on it, any other base\nproperty (i.e. checksum, size, etc) will be looked for inside that dict\nif it is not defined on the fixture itself.\n\nThus, this adds fake values for all those properties and adds\nextra_properties={} so that subsequent patches can put things into\nextra_properties without a bunch of work.\n\nChange-Id: I4b63706927b599eb343b614f0c396f699378e14b\n'}, {'number': 5, 'created': '2020-08-06 17:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f7f471af7ab62852c0ee5e11321733877fd7e3b6', 'message': 'Flesh out FakeImage for extra_properties\n\nThe FakeImage in test_images_resource.py is missing a lot of standard\nproperties. That becomes a problem as soon as you add extra_properties,\nwhich gets delegated to for any missing property by ImageTarget. Thus,\nif that fixture has extra_properties defined on it, any other base\nproperty (i.e. checksum, size, etc) will be looked for inside that dict\nif it is not defined on the fixture itself.\n\nThus, this adds fake values for all those properties and adds\nextra_properties={} so that subsequent patches can put things into\nextra_properties without a bunch of work.\n\nChange-Id: I4b63706927b599eb343b614f0c396f699378e14b\n'}, {'number': 6, 'created': '2020-08-07 19:31:31.000000000', 'files': ['glance/tests/unit/v2/test_images_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/7c91a177edeb3782e99993d0568cddf31bff96a8', 'message': 'Flesh out FakeImage for extra_properties\n\nThe FakeImage in test_images_resource.py is missing a lot of standard\nproperties. That becomes a problem as soon as you add extra_properties,\nwhich gets delegated to for any missing property by ImageTarget. Thus,\nif that fixture has extra_properties defined on it, any other base\nproperty (i.e. checksum, size, etc) will be looked for inside that dict\nif it is not defined on the fixture itself.\n\nThus, this adds fake values for all those properties and adds\nextra_properties={} so that subsequent patches can put things into\nextra_properties without a bunch of work.\n\nChange-Id: I4b63706927b599eb343b614f0c396f699378e14b\n'}]",1,743839,7c91a177edeb3782e99993d0568cddf31bff96a8,33,6,6,4393,,,0,"Flesh out FakeImage for extra_properties

The FakeImage in test_images_resource.py is missing a lot of standard
properties. That becomes a problem as soon as you add extra_properties,
which gets delegated to for any missing property by ImageTarget. Thus,
if that fixture has extra_properties defined on it, any other base
property (i.e. checksum, size, etc) will be looked for inside that dict
if it is not defined on the fixture itself.

Thus, this adds fake values for all those properties and adds
extra_properties={} so that subsequent patches can put things into
extra_properties without a bunch of work.

Change-Id: I4b63706927b599eb343b614f0c396f699378e14b
",git fetch https://review.opendev.org/openstack/glance refs/changes/39/743839/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/unit/v2/test_images_resource.py'],1,1d22b1f69bddc871156c27d9aabe4802014928ce,task-heartbeat, self.created_at = '' self.updated_at = '' self.min_disk = '' self.min_ram = '' self.protected = False self.checksum = '' self.os_hash_algo = '' self.os_hash_value = '' self.size = 0 self.virtual_size = 0 self.visibility = 'public' self.os_hidden = False self.name = 'foo' self.tags = [] self.extra_properties = {},,15,0
openstack%2Fglance~master~I6fd0505a265c8ffb03bf8c3c0f2d4a1176485b51,openstack/glance,master,I6fd0505a265c8ffb03bf8c3c0f2d4a1176485b51,Add tests for _ImportToStore.execute(),MERGED,2020-07-28 17:08:12.000000000,2020-08-10 19:23:36.000000000,2020-08-10 19:21:55.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 17:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2b983e9631a3269724b943664b4a061a32b1262d', 'message': 'Add tests for _ImportToStore.execute()\n\nThere are some existing tests for the body of this task, but none for the\nmeat of the task when things go right.\n\nChange-Id: I6fd0505a265c8ffb03bf8c3c0f2d4a1176485b51\n'}, {'number': 2, 'created': '2020-07-30 13:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/dc1bec0e8695be2c9633e217f73c6bc806704e93', 'message': 'Add tests for _ImportToStore.execute()\n\nThere are some existing tests for the body of this task, but none for the\nmeat of the task when things go right.\n\nChange-Id: I6fd0505a265c8ffb03bf8c3c0f2d4a1176485b51\n'}, {'number': 3, 'created': '2020-07-31 00:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/dcb2762f18131e3ef70c3157e2bd8d4f9bbad554', 'message': 'Add tests for _ImportToStore.execute()\n\nThere are some existing tests for the body of this task, but none for the\nmeat of the task when things go right.\n\nChange-Id: I6fd0505a265c8ffb03bf8c3c0f2d4a1176485b51\n'}, {'number': 4, 'created': '2020-08-06 17:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0ad367ffb974d27295b914b352a2ed4d66932849', 'message': 'Add tests for _ImportToStore.execute()\n\nThere are some existing tests for the body of this task, but none for the\nmeat of the task when things go right.\n\nChange-Id: I6fd0505a265c8ffb03bf8c3c0f2d4a1176485b51\n'}, {'number': 5, 'created': '2020-08-07 19:31:31.000000000', 'files': ['glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/94a672c7cdade9411c8973d3bcc8c556273d680a', 'message': 'Add tests for _ImportToStore.execute()\n\nThere are some existing tests for the body of this task, but none for the\nmeat of the task when things go right.\n\nChange-Id: I6fd0505a265c8ffb03bf8c3c0f2d4a1176485b51\n'}]",0,743595,94a672c7cdade9411c8973d3bcc8c556273d680a,30,6,5,4393,,,0,"Add tests for _ImportToStore.execute()

There are some existing tests for the body of this task, but none for the
meat of the task when things go right.

Change-Id: I6fd0505a265c8ffb03bf8c3c0f2d4a1176485b51
",git fetch https://review.opendev.org/openstack/glance refs/changes/95/743595/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/unit/async_/flows/test_api_image_import.py'],1,2b983e9631a3269724b943664b4a061a32b1262d,task-heartbeat," def test_execute(self): wrapper = mock.MagicMock() action = mock.MagicMock() wrapper.__enter__.return_value = action image_import = import_flow._ImportToStore(TASK_ID1, TASK_TYPE, wrapper, ""http://url"", ""store1"", False, True) # Assert file_path is honored with mock.patch.object(image_import, '_execute') as mock_execute: image_import.execute(mock.sentinel.path) mock_execute.assert_called_once_with(action, mock.sentinel.path) # Assert file_path is optional with mock.patch.object(image_import, '_execute') as mock_execute: image_import.execute() mock_execute.assert_called_once_with(action, None) def test_execute_body_with_store(self): image = mock.MagicMock() img_repo = mock.MagicMock() img_repo.get.return_value = image wrapper = import_flow.ImportActionWrapper(img_repo, IMAGE_ID1) image_import = import_flow._ImportToStore(TASK_ID1, TASK_TYPE, wrapper, ""http://url"", ""store1"", False, True) action = mock.MagicMock() image_import._execute(action, mock.sentinel.path) action.set_image_data.assert_called_once_with( mock.sentinel.path, TASK_ID1, backend='store1', set_active=True) action.remove_importing_stores(['store1']) def test_execute_body_with_store_no_path(self): image = mock.MagicMock() img_repo = mock.MagicMock() img_repo.get.return_value = image wrapper = import_flow.ImportActionWrapper(img_repo, IMAGE_ID1) image_import = import_flow._ImportToStore(TASK_ID1, TASK_TYPE, wrapper, ""http://url"", ""store1"", False, True) action = mock.MagicMock() image_import._execute(action, None) action.set_image_data.assert_called_once_with( 'http://url', TASK_ID1, backend='store1', set_active=True) action.remove_importing_stores(['store1']) def test_execute_body_without_store(self): image = mock.MagicMock() img_repo = mock.MagicMock() img_repo.get.return_value = image wrapper = import_flow.ImportActionWrapper(img_repo, IMAGE_ID1) image_import = import_flow._ImportToStore(TASK_ID1, TASK_TYPE, wrapper, ""http://url"", None, False, True) action = mock.MagicMock() image_import._execute(action, mock.sentinel.path) action.set_image_data.assert_called_once_with( mock.sentinel.path, TASK_ID1, backend=None, set_active=True) action.remove_importing_stores.assert_not_called() ",,73,0
openstack%2Fglance~master~I4af4202d6650b60aebbed813b7640cf018466e12,openstack/glance,master,I4af4202d6650b60aebbed813b7640cf018466e12,Add testing for _CompleteTask in api_image_import,MERGED,2020-07-28 17:08:12.000000000,2020-08-10 19:20:02.000000000,2020-08-10 19:18:33.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 17:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ee52f9a10d764c32588953add711293483631b03', 'message': 'Add testing for _CompleteTask in api_image_import\n\nThis critical task has no testing. Add some before we add more\nfunctionality to it.\n\nChange-Id: I4af4202d6650b60aebbed813b7640cf018466e12\n'}, {'number': 2, 'created': '2020-07-30 13:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0be1639fd7990035f608813462a64bf4dc2df93d', 'message': 'Add testing for _CompleteTask in api_image_import\n\nThis critical task has no testing. Add some before we add more\nfunctionality to it.\n\nChange-Id: I4af4202d6650b60aebbed813b7640cf018466e12\n'}, {'number': 3, 'created': '2020-07-31 00:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ff54b10351ae2d2bf52e29384550b513c34307a2', 'message': 'Add testing for _CompleteTask in api_image_import\n\nThis critical task has no testing. Add some before we add more\nfunctionality to it.\n\nChange-Id: I4af4202d6650b60aebbed813b7640cf018466e12\n'}, {'number': 4, 'created': '2020-08-06 17:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/790da3e175c8416e1ab9581a062f7c538ffa7588', 'message': 'Add testing for _CompleteTask in api_image_import\n\nThis critical task has no testing. Add some before we add more\nfunctionality to it.\n\nChange-Id: I4af4202d6650b60aebbed813b7640cf018466e12\n'}, {'number': 5, 'created': '2020-08-07 19:31:31.000000000', 'files': ['glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/2e11ecb15e63bac7b2de353ed77abf6a363d4158', 'message': 'Add testing for _CompleteTask in api_image_import\n\nThis critical task has no testing. Add some before we add more\nfunctionality to it.\n\nChange-Id: I4af4202d6650b60aebbed813b7640cf018466e12\n'}]",0,743593,2e11ecb15e63bac7b2de353ed77abf6a363d4158,32,6,5,4393,,,0,"Add testing for _CompleteTask in api_image_import

This critical task has no testing. Add some before we add more
functionality to it.

Change-Id: I4af4202d6650b60aebbed813b7640cf018466e12
",git fetch https://review.opendev.org/openstack/glance refs/changes/93/743593/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/unit/async_/flows/test_api_image_import.py'],1,ee52f9a10d764c32588953add711293483631b03,task-heartbeat," @mock.patch('glance.common.scripts.utils.get_task') class TestCompleteTask(test_utils.BaseTestCase): def setUp(self): super(TestCompleteTask, self).setUp() self.task_repo = mock.MagicMock() self.task = mock.MagicMock() def test_execute(self, mock_get_task): complete = import_flow._CompleteTask(TASK_ID1, TASK_TYPE, self.task_repo, IMAGE_ID1) mock_get_task.return_value = self.task complete.execute() mock_get_task.assert_called_once_with(self.task_repo, TASK_ID1) self.task.succeed.assert_called_once_with({'image_id': IMAGE_ID1}) self.task_repo.save.assert_called_once_with(self.task) def test_execute_no_task(self, mock_get_task): mock_get_task.return_value = None complete = import_flow._CompleteTask(TASK_ID1, TASK_TYPE, self.task_repo, IMAGE_ID1) complete.execute() self.task_repo.save.assert_not_called() def test_execute_succeed_fails(self, mock_get_task): mock_get_task.return_value = self.task self.task.succeed.side_effect = Exception('testing') complete = import_flow._CompleteTask(TASK_ID1, TASK_TYPE, self.task_repo, IMAGE_ID1) complete.execute() self.task.fail.assert_called_once_with( _('Error: <class \'Exception\'>: testing')) self.task_repo.save.assert_called_once_with(self.task)",,35,0
openstack%2Fneutron-tempest-plugin~master~I79581da5b2cb3df6fa9407f1f06509513ac7f96d,openstack/neutron-tempest-plugin,master,I79581da5b2cb3df6fa9407f1f06509513ac7f96d,Remove propagate_uplink_status API related tests,MERGED,2020-08-10 13:42:43.000000000,2020-08-10 19:18:32.000000000,2020-08-10 19:18:32.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-10 13:42:43.000000000', 'files': ['neutron_tempest_plugin/api/test_ports.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2466fa99685f970e40f84094d1600b1cf49bcf7d', 'message': 'Remove propagate_uplink_status API related tests\n\nDue to the related bug we can\'t have test\ntest_create_port_without_propagate_uplink_status in\nneutron-tempest-plugin repo anymore as this repo is branchless and we\nrun tests from it against neutron master branch and against stable\nbranches. Now default value of the ""propagate_uplink_status"" attribute\nwas changed in master branch but not in stable branches so this test\nwould fail always.\n\nBecause of that those tests are now moved to be in fullstack - see [1]\nfor details and we don\'t need them in neutron-tempest-plugin anymore so\nthis patch is removing them from neutron-tempest-plugin.\n\n[1] https://review.opendev.org/#/c/745521/\n\nChange-Id: I79581da5b2cb3df6fa9407f1f06509513ac7f96d\nCloses-Bug: #1890842\n'}]",0,745538,2466fa99685f970e40f84094d1600b1cf49bcf7d,10,6,1,11975,,,0,"Remove propagate_uplink_status API related tests

Due to the related bug we can't have test
test_create_port_without_propagate_uplink_status in
neutron-tempest-plugin repo anymore as this repo is branchless and we
run tests from it against neutron master branch and against stable
branches. Now default value of the ""propagate_uplink_status"" attribute
was changed in master branch but not in stable branches so this test
would fail always.

Because of that those tests are now moved to be in fullstack - see [1]
for details and we don't need them in neutron-tempest-plugin anymore so
this patch is removing them from neutron-tempest-plugin.

[1] https://review.opendev.org/#/c/745521/

Change-Id: I79581da5b2cb3df6fa9407f1f06509513ac7f96d
Closes-Bug: #1890842
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/38/745538/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/test_ports.py'],1,2466fa99685f970e40f84094d1600b1cf49bcf7d,bug/1890842,," @decorators.idempotent_id('9700828d-86eb-4f21-9fa3-da487a2d77f2') @utils.requires_ext(extension=""uplink-status-propagation"", service=""network"") def test_create_port_with_propagate_uplink_status(self): body = self.create_port(self.network, propagate_uplink_status=True) self.assertTrue(body['propagate_uplink_status']) body = self.client.list_ports(id=body['id'])['ports'][0] self.assertTrue(body['propagate_uplink_status']) body = self.client.show_port(body['id'])['port'] self.assertTrue(body['propagate_uplink_status']) @decorators.idempotent_id('c396a880-0c7b-409d-a80b-800a3d09bdc4') @utils.requires_ext(extension=""uplink-status-propagation"", service=""network"") def test_create_port_without_propagate_uplink_status(self): body = self.create_port(self.network) self.assertFalse(body['propagate_uplink_status']) body = self.client.list_ports(id=body['id'])['ports'][0] self.assertFalse(body['propagate_uplink_status']) body = self.client.show_port(body['id'])['port'] self.assertFalse(body['propagate_uplink_status']) ",0,22
openstack%2Fpuppet-tripleo~master~I33d56f1443f224c56654c5ec4a54aa9297a48497,openstack/puppet-tripleo,master,I33d56f1443f224c56654c5ec4a54aa9297a48497,Support for PowerFlex Cinder Backend,MERGED,2020-07-29 22:28:43.000000000,2020-08-10 19:17:07.000000000,2020-08-10 19:15:37.000000000,"[{'_account_id': 3153}, {'_account_id': 7160}, {'_account_id': 9816}, {'_account_id': 10379}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-29 22:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7c35357c2e625d4dbe6fe0c3fc7d6a371e745e23', 'message': 'Support for PowerFlex Cinder Backend\n\nAdding support for PowerFlex Volume Backend Driver\n\nDepends-On: https://review.opendev.org/#/c/742016/\nChange-Id: I33d56f1443f224c56654c5ec4a54aa9297a48497\n'}, {'number': 2, 'created': '2020-07-30 22:01:14.000000000', 'files': ['manifests/profile/base/cinder/volume.pp', 'spec/classes/tripleo_profile_base_cinder_powerflex_spec.rb', 'manifests/profile/base/cinder/volume/dellemc_powerflex.pp', 'releasenotes/notes/powerflex-driver-f728e372280c44e6.yaml', 'spec/classes/tripleo_profile_base_cinder_volume_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/63613d4bc0ce3936cabfead1ce50b11f66dd0afa', 'message': 'Support for PowerFlex Cinder Backend\n\nAdding support for PowerFlex Volume Backend Driver\n\nDepends-On: https://review.opendev.org/#/c/742016/\nChange-Id: I33d56f1443f224c56654c5ec4a54aa9297a48497\n'}]",4,743852,63613d4bc0ce3936cabfead1ce50b11f66dd0afa,13,6,2,10379,,,0,"Support for PowerFlex Cinder Backend

Adding support for PowerFlex Volume Backend Driver

Depends-On: https://review.opendev.org/#/c/742016/
Change-Id: I33d56f1443f224c56654c5ec4a54aa9297a48497
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/52/743852/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/cinder/volume.pp', 'spec/classes/tripleo_profile_base_cinder_powerflex_spec.rb', 'manifests/profile/base/cinder/volume/dellemc_powerflex.pp', 'releasenotes/notes/powerflex-driver-f728e372280c44e6.yaml', 'spec/classes/tripleo_profile_base_cinder_volume_spec.rb']",5,7c35357c2e625d4dbe6fe0c3fc7d6a371e745e23,powerflex," context 'with only powerflex' do before :each do params.merge!({ :cinder_enable_dellemc_powerflex_backend => true, :cinder_enable_iscsi_backend => false, }) end it 'should configure only powerflex' do is_expected.to contain_class('tripleo::profile::base::cinder::volume::dellemc_powerflex') is_expected.to_not contain_class('tripleo::profile::base::cinder::volume::iscsi') is_expected.to contain_class('tripleo::profile::base::cinder::volume') is_expected.to contain_class('tripleo::profile::base::cinder') is_expected.to contain_class('cinder::volume') is_expected.to contain_class('cinder::backends').with( :enabled_backends => ['tripleo_dellemc_powerflex'] ) end end is_expected.to_not contain_class('tripleo::profile::base::cinder::volume::dellemc_powerflex') :cinder_enable_dellemc_powerflex_backend => true, is_expected.to contain_class('tripleo::profile::base::cinder::volume::dellemc_powerflex') :enabled_backends => ['tripleo_iscsi', 'tripleo_ceph', 'tripleo_pure', 'tripleo_dellsc', 'tripleo_dellemc_sc','tripleo_dellemc_powerflex', 'tripleo_dellemc_powermax', 'tripleo_dellemc_powerstore','tripleo_dellemc_vxflexos', 'tripleo_dellemc_xtremio',"," :enabled_backends => ['tripleo_iscsi', 'tripleo_ceph', 'tripleo_pure', 'tripleo_dellsc', 'tripleo_dellemc_sc','tripleo_dellemc_powermax', 'tripleo_dellemc_powerstore','tripleo_dellemc_vxflexos', 'tripleo_dellemc_xtremio',",153,2
openstack%2Fpuppet-keystone~stable%2Ftrain~I4feb0dfb858bcf2ff5d97341908abd11f6939b32,openstack/puppet-keystone,stable/train,I4feb0dfb858bcf2ff5d97341908abd11f6939b32,"Revert ""Do not set public_bind_host and public_port in eventlet section""",MERGED,2020-07-22 12:51:38.000000000,2020-08-10 19:12:33.000000000,2020-08-10 19:10:57.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 12:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/f21b06e46171503094b2fe35072c3ffe1e1f7af0', 'message': 'Revert ""Do not set public_bind_host and public_port in eventlet section""\n\nWhen public_endpoint is set but different urls are used for endpoints\n(especially for admin endpoint and public endpoint), it can cause\nproblem with self-url detection in keystone because it always assumes\nthat the url should be directed to that public_endpoint even when\na request comes from admin endpoint.\n\nThis patch reverts previous change which made public_endpoint parameter\ngenerated automatically if unset, so that public_endpoint is not set\nby default.\n\nNote: We can\'t directly remove public_endpoint by default because\nthis is mandatory for provider implementations in stable/train. Thus\nwe need to revert the previous change to unset public_bind_host and\npublic_port so that these 2 parameters can be refered from proviers\ninstead of public_endpoint, in the deployments which can\'t depend on\npublic_endpoint.\n\nThis reverts commit d58fcfe75e887af3a1e6f6e9aa9e69752fec5a18.\n\nChange-Id: I4feb0dfb858bcf2ff5d97341908abd11f6939b32\n'}, {'number': 2, 'created': '2020-07-22 12:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/560252124eb5275c52018c1f862c4557d66a58ec', 'message': 'Revert ""Do not set public_bind_host and public_port in eventlet section""\n\nWhen public_endpoint is set but different urls are used for endpoints\n(especially for admin endpoint and public endpoint), it can cause\nproblem with self-url detection in keystone because it always assumes\nthat the url should be directed to that public_endpoint even when\na request comes from admin endpoint.\n\nThis patch reverts previous change which made public_endpoint parameter\ngenerated automatically if unset, so that public_endpoint is not set\nby default.\n\nNote: We can\'t directly remove public_endpoint by default because\nthis is mandatory for provider implementations in stable/train. Thus\nwe need to revert the previous change to unset public_bind_host and\npublic_port so that these 2 parameters can be refered from proviers\ninstead of public_endpoint, in the deployments which can\'t depend on\npublic_endpoint.\n\nThis reverts commit d58fcfe75e887af3a1e6f6e9aa9e69752fec5a18.\n\nChange-Id: I4feb0dfb858bcf2ff5d97341908abd11f6939b32\n'}, {'number': 3, 'created': '2020-07-22 15:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/5414e104c69b391d715f5b86fdfb92ff2fc0096e', 'message': 'Revert ""Do not set public_bind_host and public_port in eventlet section""\n\nWhen public_endpoint is set but different urls are used for endpoints\n(especially for admin endpoint and public endpoint), it can cause\nproblem with self-url detection in keystone because it always assumes\nthat the url should be directed to that public_endpoint even when\na request comes from admin endpoint.\n\nThis patch reverts previous change which made public_endpoint parameter\ngenerated automatically if unset, so that public_endpoint is not set\nby default.\n\nNote 1: We can\'t directly remove public_endpoint by default because\nthis parameter is mandatory for providers in stable/train.\nThus we need to revert the previous change to unset public_bind_host\nand public_port so that these 2 parameters can be refered from proviers\ninstead of public_endpoint, in the deployments which can\'t depend on\npublic_endpoint.\n\nThis reverts commit d58fcfe75e887af3a1e6f6e9aa9e69752fec5a18.\n\nChange-Id: I4feb0dfb858bcf2ff5d97341908abd11f6939b32\n'}, {'number': 4, 'created': '2020-07-27 00:02:29.000000000', 'files': ['lib/puppet/provider/keystone.rb', 'spec/unit/provider/keystone_spec.rb', 'manifests/init.pp', 'spec/classes/keystone_init_spec.rb', 'releasenotes/notes/unset-public_endpoint-be0e6c20416e9762.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/fe869f222ac8ef212971b67ee7ec673a8f85b5d8', 'message': 'Revert ""Do not set public_bind_host and public_port in eventlet section""\n\nWhen public_endpoint is set but different urls are used for endpoints\n(especially for admin endpoint and public endpoint), it can cause\nproblem with self-url detection in keystone because it always assumes\nthat the url should be directed to that public_endpoint even when\na request comes from admin endpoint.\n\nThis patch reverts previous change which made public_endpoint parameter\ngenerated automatically if unset, so that public_endpoint is not set\nby default.\n\nNote 1: We can\'t directly remove public_endpoint by default because\nthis parameter is mandatory for providers in stable/train.\nThus we need to revert the previous change to unset public_bind_host\nand public_port so that these 2 parameters can be refered from proviers\ninstead of public_endpoint, in the deployments which can\'t depend on\npublic_endpoint.\n\nThis reverts commit d58fcfe75e887af3a1e6f6e9aa9e69752fec5a18.\n\nRelated-bug: #1889017\nChange-Id: I4feb0dfb858bcf2ff5d97341908abd11f6939b32\n'}]",0,742412,fe869f222ac8ef212971b67ee7ec673a8f85b5d8,17,4,4,9816,,,0,"Revert ""Do not set public_bind_host and public_port in eventlet section""

When public_endpoint is set but different urls are used for endpoints
(especially for admin endpoint and public endpoint), it can cause
problem with self-url detection in keystone because it always assumes
that the url should be directed to that public_endpoint even when
a request comes from admin endpoint.

This patch reverts previous change which made public_endpoint parameter
generated automatically if unset, so that public_endpoint is not set
by default.

Note 1: We can't directly remove public_endpoint by default because
this parameter is mandatory for providers in stable/train.
Thus we need to revert the previous change to unset public_bind_host
and public_port so that these 2 parameters can be refered from proviers
instead of public_endpoint, in the deployments which can't depend on
public_endpoint.

This reverts commit d58fcfe75e887af3a1e6f6e9aa9e69752fec5a18.

Related-bug: #1889017
Change-Id: I4feb0dfb858bcf2ff5d97341908abd11f6939b32
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/12/742412/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/keystone.rb', 'spec/unit/provider/keystone_spec.rb', 'manifests/init.pp', 'spec/classes/keystone_init_spec.rb', 'releasenotes/notes/unset-public_endpoint-be0e6c20416e9762.yaml']",5,f21b06e46171503094b2fe35072c3ffe1e1f7af0,bug/1889017,"--- fixes: - | The ``default/public_endpiint`` parameter is no longer set by default because of known issue with different hosts/protocol used for each endpoints (especially for admin endpoint and public endpoint) - | In case public_endpoint can't be used and keystone providers are required, the deprecated ``keystone::public_bind_host`` and ``keystone::public_port`` can still be used so that all provider implementations can detect endpoint url from these parameters. These parameters are added to keystone.conf if non-default value is set. ",,178,110
openstack%2Fwhitebox-tempest-plugin~master~I42f5c739abca9949710f02d6c292efccc0d83756,openstack/whitebox-tempest-plugin,master,I42f5c739abca9949710f02d6c292efccc0d83756,trivial: remove end of line whitespace,ABANDONED,2020-08-10 17:49:47.000000000,2020-08-10 19:08:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-10 17:49:47.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/8a63714ac5b9a513aa5e30fdae56923f917fa73a', 'message': 'trivial: remove end of line whitespace\n\nChange-Id: I42f5c739abca9949710f02d6c292efccc0d83756\n'}]",0,745574,8a63714ac5b9a513aa5e30fdae56923f917fa73a,3,1,1,8864,,,0,"trivial: remove end of line whitespace

Change-Id: I42f5c739abca9949710f02d6c292efccc0d83756
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/74/745574/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,8a63714ac5b9a513aa5e30fdae56923f917fa73a,,,WHITEBOX_LIBVIRT_STOP_COMMAND=${WHITEBOX_LIBVIRT_STOP_COMMAND:-'systemctl stop libvirtd'},0,1
openstack%2Fglance~master~I9b5e6cb162d5f6aa44330e783aa2a43d0e16a8cc,openstack/glance,master,I9b5e6cb162d5f6aa44330e783aa2a43d0e16a8cc,DNM: Run tempest tests on WSGI stack,ABANDONED,2020-07-24 13:39:26.000000000,2020-08-10 18:42:37.000000000,,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 13:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d7726b79e5f873c3a59df55265d0da625cc1c592', 'message': 'DNM: Run tempest tests on WSGI stack\n\nDepends-On: https://review.opendev.org/#/c/742295\nChange-Id: I9b5e6cb162d5f6aa44330e783aa2a43d0e16a8cc\n'}, {'number': 2, 'created': '2020-07-24 14:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8752ec794d71dfecb86ad788acd40a1c6c6de899', 'message': 'DNM: Run tempest tests on WSGI stack\n\nDepends-On: https://review.opendev.org/#/c/742295\nChange-Id: I9b5e6cb162d5f6aa44330e783aa2a43d0e16a8cc\n'}, {'number': 3, 'created': '2020-07-24 17:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c6a61c62022ee033aa2297b0062f34219f451e18', 'message': 'DNM: Run tempest tests on WSGI stack\n\nDepends-On: https://review.opendev.org/#/c/742295\nChange-Id: I9b5e6cb162d5f6aa44330e783aa2a43d0e16a8cc\n'}, {'number': 4, 'created': '2020-07-24 17:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9fc9203577db80615f8a96326066545930114790', 'message': 'DNM: Run tempest tests on WSGI stack\n\nDepends-On: https://review.opendev.org/#/c/742295\nChange-Id: I9b5e6cb162d5f6aa44330e783aa2a43d0e16a8cc\n'}, {'number': 5, 'created': '2020-07-24 18:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/59a9309b895e7a0101c617777b8a6531e137be76', 'message': 'DNM: Run tempest tests on WSGI stack\n\nDepends-On: https://review.opendev.org/#/c/742295\nChange-Id: I9b5e6cb162d5f6aa44330e783aa2a43d0e16a8cc\n'}, {'number': 6, 'created': '2020-07-27 16:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e8ec1069217cc94f97e786438418a154f03e7424', 'message': 'DNM: Run tempest tests on WSGI stack\n\nDepends-On: https://review.opendev.org/#/c/742295\nChange-Id: I9b5e6cb162d5f6aa44330e783aa2a43d0e16a8cc\n'}, {'number': 7, 'created': '2020-07-27 17:53:25.000000000', 'files': ['glance/api/v2/images.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/86cdf8bdcb7bd707159a93376a2e40728b5039ab', 'message': 'DNM: Run tempest tests on WSGI stack\n\nDepends-On: https://review.opendev.org/#/c/742295\nChange-Id: I9b5e6cb162d5f6aa44330e783aa2a43d0e16a8cc\n'}]",0,742883,86cdf8bdcb7bd707159a93376a2e40728b5039ab,27,4,7,4393,,,0,"DNM: Run tempest tests on WSGI stack

Depends-On: https://review.opendev.org/#/c/742295
Change-Id: I9b5e6cb162d5f6aa44330e783aa2a43d0e16a8cc
",git fetch https://review.opendev.org/openstack/glance refs/changes/83/742883/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d7726b79e5f873c3a59df55265d0da625cc1c592,async-native-threads," # NOTE(rosmaita): we only need functional test jobs, oslo is"," # NOTE(rosmaita): we only need functional test jobs, oslo is",1,1
openstack%2Fpuppet-aodh~stable%2Fussuri~Ic5055279770342d244ef3a4592067351981b459a,openstack/puppet-aodh,stable/ussuri,Ic5055279770342d244ef3a4592067351981b459a,Expose vhost_custom_fragment,MERGED,2020-08-10 15:55:31.000000000,2020-08-10 18:34:47.000000000,2020-08-10 18:34:47.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-10 15:55:31.000000000', 'files': ['manifests/wsgi/apache.pp', 'spec/classes/aodh_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/c2d96fb1f03f520e15bc822fd9ea6379d641086a', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Aodh service.\n\nSigned-off-by: Luke Short <ekultails@gmail.com>\nChange-Id: Ic5055279770342d244ef3a4592067351981b459a\n(cherry picked from commit 40c6462da5afb8a39590ad9d5d19a9abd2c81cc0)\n""}]",0,745558,c2d96fb1f03f520e15bc822fd9ea6379d641086a,7,3,1,25877,,,0,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Aodh service.

Signed-off-by: Luke Short <ekultails@gmail.com>
Change-Id: Ic5055279770342d244ef3a4592067351981b459a
(cherry picked from commit 40c6462da5afb8a39590ad9d5d19a9abd2c81cc0)
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/58/745558/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'spec/classes/aodh_wsgi_apache_spec.rb']",2,c2d96fb1f03f520e15bc822fd9ea6379d641086a,," :wsgi_script_source => '/my/path/app.wsgi', :vhost_custom_fragment => 'Timeout 99' :vhost_custom_fragment => 'Timeout 99',", :wsgi_script_source => '/my/path/app.wsgi',10,1
openstack%2Fsahara-image-elements~master~If5ea0ffdfc51860842c19f0a6f238127d42eb292,openstack/sahara-image-elements,master,If5ea0ffdfc51860842c19f0a6f238127d42eb292,Fix the buildimages jobs: call the ensure-tox role,MERGED,2020-08-10 15:41:23.000000000,2020-08-10 18:29:38.000000000,2020-08-10 18:29:38.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2020-08-10 15:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/05f4a3d615774be3521971b421546527e89ca13c', 'message': 'Fix the buildimages jobs: call the ensure-tox role\n\nIt is not available on the images by default anymore.\n\nChange-Id: If5ea0ffdfc51860842c19f0a6f238127d42eb292\n'}, {'number': 2, 'created': '2020-08-10 15:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/939602ec6b1114cf0151a8c0cafa9ed0cb7e184a', 'message': 'Fix the buildimages jobs: call the ensure-tox role\n\n... and use its output.\n\ntox is not available by default on the images anymore.\n\nChange-Id: If5ea0ffdfc51860842c19f0a6f238127d42eb292\n'}, {'number': 3, 'created': '2020-08-10 16:00:14.000000000', 'files': ['tools/gate/build-images', 'playbooks/buildimages/run.yaml', 'roles/build-sahara-images-dib/tasks/main.yaml', 'roles/build-sahara-images-dib/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/2d0c3a8b9835a5616cc0cbe45db02769342695bd', 'message': 'Fix the buildimages jobs: call the ensure-tox role\n\n... and use its output.\n\ntox is not available by default on the images anymore.\n\nChange-Id: If5ea0ffdfc51860842c19f0a6f238127d42eb292\n'}]",0,745555,2d0c3a8b9835a5616cc0cbe45db02769342695bd,10,3,3,10459,,,0,"Fix the buildimages jobs: call the ensure-tox role

... and use its output.

tox is not available by default on the images anymore.

Change-Id: If5ea0ffdfc51860842c19f0a6f238127d42eb292
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/55/745555/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/buildimages/run.yaml'],1,05f4a3d615774be3521971b421546527e89ca13c,fix-buildimages-jobs, - ensure-tox,,1,0
openstack%2Fpuppet-designate~master~Idb5ecfd027728dc0c85ffac5ce08d475e6ea8cb6,openstack/puppet-designate,master,Idb5ecfd027728dc0c85ffac5ce08d475e6ea8cb6,Add backend coordination url option to producer,MERGED,2020-08-10 03:34:06.000000000,2020-08-10 18:25:46.000000000,2020-08-10 18:25:46.000000000,"[{'_account_id': 3153}, {'_account_id': 6994}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-10 03:34:06.000000000', 'files': ['manifests/producer.pp', 'spec/classes/designate_producer_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/ba9fa2ad2e31a969b4c481d7459d0fdc4c6adece', 'message': 'Add backend coordination url option to producer\n\nProducers that are deployed in an HA environment that do not have\na coordination url set will produce multiple copies of the same\nthing and operate in standalone mode.\n\nChange-Id: Idb5ecfd027728dc0c85ffac5ce08d475e6ea8cb6\n'}]",0,745473,ba9fa2ad2e31a969b4c481d7459d0fdc4c6adece,9,5,1,6994,,,0,"Add backend coordination url option to producer

Producers that are deployed in an HA environment that do not have
a coordination url set will produce multiple copies of the same
thing and operate in standalone mode.

Change-Id: Idb5ecfd027728dc0c85ffac5ce08d475e6ea8cb6
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/73/745473/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/producer.pp', 'spec/classes/designate_producer_spec.rb']",2,ba9fa2ad2e31a969b4c481d7459d0fdc4c6adece,," :backend_url => 'redis://10.0.0.1:1234' is_expected.to contain_designate_config(""coordination/backend_url"").with(:value => '<SERVICE DEFAULT>') is_expected.to contain_designate_config(""coordination/backend_url"").with(:value => 'redis://10.0.0.1:1234')",,9,0
openstack%2Fkolla~master~I651a55a9ebe258ef403d33de010a4dfb368a4021,openstack/kolla,master,I651a55a9ebe258ef403d33de010a4dfb368a4021,Refactor httpd install to base image,MERGED,2020-07-30 19:36:52.000000000,2020-08-10 17:53:32.000000000,2020-08-10 17:52:00.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30810}]","[{'number': 1, 'created': '2020-07-30 19:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f026beb55c461de48c5a8a73dc2d7ef366c2a6c3', 'message': 'Refactor httpd install to base image\n\nRefactor installing and initial setup of httpd and mod wsgi from\nindividual services to base image.\n\nChange-Id: I651a55a9ebe258ef403d33de010a4dfb368a4021\n'}, {'number': 2, 'created': '2020-07-30 21:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/64ef522caac014921812e306d50ebf8642390dc5', 'message': 'Refactor httpd install to base image\n\nRefactor installing and initial setup of httpd and mod wsgi from\nindividual services to base image.\n\nChange-Id: I651a55a9ebe258ef403d33de010a4dfb368a4021\n'}, {'number': 3, 'created': '2020-07-30 22:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a100249cec82bb98ec50885f761fdc4cb861affa', 'message': 'Refactor httpd install to base image\n\nRefactor installing and initial setup of httpd and mod wsgi from\nindividual services to base image.\n\nChange-Id: I651a55a9ebe258ef403d33de010a4dfb368a4021\n'}, {'number': 4, 'created': '2020-08-05 22:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5f505fa6112b19eae83068a0dc2b9691b55dda7b', 'message': 'Refactor httpd install to base image\n\nRefactor installing and initial setup of httpd and mod wsgi from\nindividual services to base image.\n\nChange-Id: I651a55a9ebe258ef403d33de010a4dfb368a4021\n'}, {'number': 5, 'created': '2020-08-05 22:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f424894a6d9377f584b9f64a04fce68a6db14b26', 'message': 'Refactor httpd install to base image\n\nRefactor installing and initial setup of httpd and mod wsgi from\nindividual services to base image.\n\nChange-Id: I651a55a9ebe258ef403d33de010a4dfb368a4021\n'}, {'number': 6, 'created': '2020-08-06 02:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/59d9b5831882111a3e188ade539c83cfc4a86a1e', 'message': 'Refactor httpd install to base image\n\nRefactor installing and initial setup of httpd and mod wsgi from\nindividual services to base image.\n\nChange-Id: I651a55a9ebe258ef403d33de010a4dfb368a4021\n'}, {'number': 7, 'created': '2020-08-06 04:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8c602e73f5fe6d9d1911f827c7785da9ddc74646', 'message': 'Refactor httpd install to base image\n\nRefactor installing and initial setup of httpd and mod wsgi from\nindividual services to base image.\n\nChange-Id: I651a55a9ebe258ef403d33de010a4dfb368a4021\n'}, {'number': 8, 'created': '2020-08-06 22:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e57ff5c5aff3cc99f026095e1a4c145ff1cb748c', 'message': 'Refactor httpd install to base image\n\nRefactor installing and initial setup of httpd and mod wsgi from\nindividual services to base image.\n\nChange-Id: I651a55a9ebe258ef403d33de010a4dfb368a4021\n'}, {'number': 9, 'created': '2020-08-07 21:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/72a65c579eafabeb61d2f891cc2f92969840130f', 'message': 'Refactor httpd install to base image\n\nRefactor installing and initial setup of httpd and mod wsgi from\nindividual services to base image.\n\nChange-Id: I651a55a9ebe258ef403d33de010a4dfb368a4021\n'}, {'number': 10, 'created': '2020-08-10 09:52:30.000000000', 'files': ['docker/barbican/barbican-api/Dockerfile.j2', 'docker/monasca/monasca-base/Dockerfile.j2', 'docker/vitrage/vitrage-base/Dockerfile.j2', 'docker/horizon/Dockerfile.j2', 'docker/openstack-base/Dockerfile.j2', 'docker/freezer/freezer-api/Dockerfile.j2', 'docker/ironic/ironic-pxe/Dockerfile.j2', 'docker/cloudkitty/cloudkitty-api/Dockerfile.j2', 'docker/zaqar/zaqar-base/Dockerfile.j2', 'docker/heat/heat-base/Dockerfile.j2', 'docker/manila/manila-api/Dockerfile.j2', 'docker/masakari/masakari-base/Dockerfile.j2', 'docker/panko/panko-base/Dockerfile.j2', 'docker/octavia/octavia-api/Dockerfile.j2', 'docker/placement/placement-api/Dockerfile.j2', 'docker/aodh/aodh-base/Dockerfile.j2', 'docker/vitrage/vitrage-api/Dockerfile.j2', 'docker/cyborg/cyborg-api/Dockerfile.j2', 'docker/ironic/ironic-api/Dockerfile.j2', 'docker/mistral/mistral-api/Dockerfile.j2', 'docker/cinder/cinder-api/Dockerfile.j2', 'docker/zun/zun-base/Dockerfile.j2', 'docker/keystone/keystone-base/Dockerfile.j2', 'docker/nova/nova-api/Dockerfile.j2', 'docker/qinling/qinling-base/Dockerfile.j2', 'docker/gnocchi/gnocchi-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5bdf514645e6ba603f813f299c68ff7fb12daa3c', 'message': 'Refactor httpd install to base image\n\nRefactor installing and initial setup of httpd and mod wsgi from\nindividual services to base image.\n\nChange-Id: I651a55a9ebe258ef403d33de010a4dfb368a4021\n'}]",24,744037,5bdf514645e6ba603f813f299c68ff7fb12daa3c,50,6,10,30810,,,0,"Refactor httpd install to base image

Refactor installing and initial setup of httpd and mod wsgi from
individual services to base image.

Change-Id: I651a55a9ebe258ef403d33de010a4dfb368a4021
",git fetch https://review.opendev.org/openstack/kolla refs/changes/37/744037/10 && git format-patch -1 --stdout FETCH_HEAD,"['docker/barbican/barbican-api/Dockerfile.j2', 'docker/monasca/monasca-base/Dockerfile.j2', 'docker/vitrage/vitrage-base/Dockerfile.j2', 'docker/horizon/Dockerfile.j2', 'docker/freezer/freezer-api/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/ironic/ironic-pxe/Dockerfile.j2', 'docker/cloudkitty/cloudkitty-api/Dockerfile.j2', 'docker/zaqar/zaqar-base/Dockerfile.j2', 'docker/heat/heat-base/Dockerfile.j2', 'docker/manila/manila-api/Dockerfile.j2', 'docker/masakari/masakari-base/Dockerfile.j2', 'docker/panko/panko-base/Dockerfile.j2', 'docker/octavia/octavia-api/Dockerfile.j2', 'docker/placement/placement-api/Dockerfile.j2', 'docker/aodh/aodh-base/Dockerfile.j2', 'docker/vitrage/vitrage-api/Dockerfile.j2', 'docker/cyborg/cyborg-api/Dockerfile.j2', 'docker/ironic/ironic-api/Dockerfile.j2', 'docker/mistral/mistral-api/Dockerfile.j2', 'docker/cinder/cinder-api/Dockerfile.j2', 'docker/zun/zun-base/Dockerfile.j2', 'docker/keystone/keystone-base/Dockerfile.j2', 'docker/nova/nova-api/Dockerfile.j2', 'docker/qinling/qinling-base/Dockerfile.j2', 'docker/gnocchi/gnocchi-base/Dockerfile.j2']",26,f026beb55c461de48c5a8a73dc2d7ef366c2a6c3,,"RUN {{ macros.install_pip(gnocchi_base_pip_packages | customizable(""pip_packages""), constraints=false, pip_version=""pip3"") }} 'python3-ldappool'RUN mkdir -p /var/www/cgi-bin/gnocchi"," 'httpd', 'mod_ssl', 'python3-mod_wsgi'RUN sed -i -r 's,^(Listen 80),#\1,' /etc/httpd/conf/httpd.conf \ && sed -i -r 's,^(Listen 443),#\1,' /etc/httpd/conf.d/ssl.conf 'apache2', 'libapache2-mod-wsgi-py3',RUN {{ macros.install_pip(gnocchi_base_pip_packages | customizable(""pip_packages""), constraints=false, pip_version=""pip3"") }} \ && truncate -s 0 /etc/apache2/ports.conf 'httpd', 'mod_ssl', 'python3-ldappool', 'python3-mod_wsgi'RUN mkdir -p /var/www/cgi-bin/gnocchi \ && sed -i -r 's,^(Listen 80),#\1,' /etc/httpd/conf/httpd.conf \ && sed -i -r 's,^(Listen 443),#\1,' /etc/httpd/conf.d/ssl.conf 'apache2', 'libapache2-mod-wsgi-py3',RUN truncate -s 0 /etc/apache2/ports.conf",114,593
openstack%2Fkolla-ansible~stable%2Fussuri~I056f3eebcf87bcbaaf89fdd0dc1f46d143db7785,openstack/kolla-ansible,stable/ussuri,I056f3eebcf87bcbaaf89fdd0dc1f46d143db7785,Fix Barbican client (Castellan) with TLS (part 2),MERGED,2020-08-10 12:58:47.000000000,2020-08-10 17:53:25.000000000,2020-08-10 17:52:03.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-10 12:58:47.000000000', 'files': ['ansible/roles/nova-cell/templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ed6c6babf85a2d26077ac0b407431e22732eef60', 'message': 'Fix Barbican client (Castellan) with TLS (part 2)\n\nThis patch is a continuation of\nI6a174468bd91d214c08477b93c88032a45c137be for the nova-cell role, which\nwas missed.\n\nThe Castellan (Barbican client) has different parameters to control\nthe used CA file.\nThis patch uses them.\nMoreover, this aligns Barbican with other services by defaulting\nits client config to the internal endpoint.\n\nSee also [1].\n\n[1] https://bugs.launchpad.net/castellan/+bug/1876102\n\nCloses-Bug: #1886615\n\nChange-Id: I056f3eebcf87bcbaaf89fdd0dc1f46d143db7785\n(cherry picked from commit 97e26b49cdb7962a1dc6f1a236a0c565ccba0d77)\n'}]",0,745526,ed6c6babf85a2d26077ac0b407431e22732eef60,9,3,1,14826,,,0,"Fix Barbican client (Castellan) with TLS (part 2)

This patch is a continuation of
I6a174468bd91d214c08477b93c88032a45c137be for the nova-cell role, which
was missed.

The Castellan (Barbican client) has different parameters to control
the used CA file.
This patch uses them.
Moreover, this aligns Barbican with other services by defaulting
its client config to the internal endpoint.

See also [1].

[1] https://bugs.launchpad.net/castellan/+bug/1876102

Closes-Bug: #1886615

Change-Id: I056f3eebcf87bcbaaf89fdd0dc1f46d143db7785
(cherry picked from commit 97e26b49cdb7962a1dc6f1a236a0c565ccba0d77)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/26/745526/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova-cell/templates/nova.conf.j2'],1,ed6c6babf85a2d26077ac0b407431e22732eef60,bug/1886615-stable/ussuri,barbican_endpoint_type = internal verify_ssl_path = {{ openstack_cacert }},cafile = {{ openstack_cacert }},2,1
openstack%2Fnova~stable%2Frocky~I8a2726b39d0444de8c35480024078a97430f5d0c,openstack/nova,stable/rocky,I8a2726b39d0444de8c35480024078a97430f5d0c,objects: Update keypairs when saving an instance,MERGED,2020-07-27 15:53:37.000000000,2020-08-10 17:44:58.000000000,2020-08-10 17:44:58.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-27 15:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02504f7a4d6ece341f2d2c74f54c6c0a6c3da608', 'message': ""objects: Update keypairs when saving an instance\n\nThe keypair of a server is updated when rebuilding the server with a\nkeypair. This function has been added since API microversion 2.54.\nHowever the 'keypairs' of the instance object is not saved when saving\nthe instance object currently.\n\nMake the instance object update the 'keypairs' field when saving the\ninstance object.\n\nChange-Id: I8a2726b39d0444de8c35480024078a97430f5d0c\nCloses-Bug: #1843708\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 086796021b189c3ac64805ed8f6bde833906d284)\n(cherry picked from commit aed86ee5d6289edf1baf9fe0b2a9e509031fdd25)\n(cherry picked from commit b971dc82cb524fe86284c95ec671e2bad1c2874f)\n(cherry picked from commit 0bc5a4ecb524a73aacb5d0dd2887799885bdbb14)\n""}, {'number': 2, 'created': '2020-07-31 15:24:20.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1843708.py', 'nova/tests/unit/fake_instance.py', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aa7a6939d5177c0dd8c9f5a7bf7975264d2f5a2a', 'message': ""objects: Update keypairs when saving an instance\n\nThe keypair of a server is updated when rebuilding the server with a\nkeypair. This function has been added since API microversion 2.54.\nHowever the 'keypairs' of the instance object is not saved when saving\nthe instance object currently.\n\nMake the instance object update the 'keypairs' field when saving the\ninstance object.\n\nChanges:\n\tnova/tests/functional/regressions/test_bug_1843708.py\n\nNOTE(stephenfin): Changes are necessary since 'PlacementFixture' moved\nin stable/stein with change Idaed39629095f86d24a54334c699a26c218c6593\nbut it's still in the old place here.\n\nChange-Id: I8a2726b39d0444de8c35480024078a97430f5d0c\nCloses-Bug: #1843708\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 086796021b189c3ac64805ed8f6bde833906d284)\n(cherry picked from commit aed86ee5d6289edf1baf9fe0b2a9e509031fdd25)\n(cherry picked from commit b971dc82cb524fe86284c95ec671e2bad1c2874f)\n(cherry picked from commit 0bc5a4ecb524a73aacb5d0dd2887799885bdbb14)\n""}]",1,743268,aa7a6939d5177c0dd8c9f5a7bf7975264d2f5a2a,22,8,2,15334,,,0,"objects: Update keypairs when saving an instance

The keypair of a server is updated when rebuilding the server with a
keypair. This function has been added since API microversion 2.54.
However the 'keypairs' of the instance object is not saved when saving
the instance object currently.

Make the instance object update the 'keypairs' field when saving the
instance object.

Changes:
	nova/tests/functional/regressions/test_bug_1843708.py

NOTE(stephenfin): Changes are necessary since 'PlacementFixture' moved
in stable/stein with change Idaed39629095f86d24a54334c699a26c218c6593
but it's still in the old place here.

Change-Id: I8a2726b39d0444de8c35480024078a97430f5d0c
Closes-Bug: #1843708
Co-authored-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit 086796021b189c3ac64805ed8f6bde833906d284)
(cherry picked from commit aed86ee5d6289edf1baf9fe0b2a9e509031fdd25)
(cherry picked from commit b971dc82cb524fe86284c95ec671e2bad1c2874f)
(cherry picked from commit 0bc5a4ecb524a73aacb5d0dd2887799885bdbb14)
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/743268/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1843708.py', 'nova/tests/unit/fake_instance.py', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py']",4,02504f7a4d6ece341f2d2c74f54c6c0a6c3da608,bug/1843708," inst.keypairs = objects.KeyPairList( objects=[objects.KeyPair(name='foo')]) json_keypairs = jsonutils.dumps(inst.keypairs.obj_to_primitive()) # Check changed fields in the instance object self.assertIn('keypairs', inst.obj_what_changed()) self.assertEqual({'objects'}, inst.keypairs.obj_what_changed()) inst.save() expected_vals = { 'numa_topology': None, 'migration_context': None, 'vcpu_model': json_vcpu_model, 'keypairs': json_keypairs, } # Verify that the record of changed fields has been cleared self.assertNotIn('keypairs', inst.obj_what_changed()) self.assertEqual(set(), inst.keypairs.obj_what_changed())"," inst.save() expected_vals = {'numa_topology': None, 'migration_context': None, 'vcpu_model': json_vcpu_model}",117,8
openstack%2Fglance~master~I66cdd29341089ef89123fa1f5420258433a660fe,openstack/glance,master,I66cdd29341089ef89123fa1f5420258433a660fe,DNM: Try to debug spurious DB file failure,ABANDONED,2020-08-07 19:31:31.000000000,2020-08-10 17:11:11.000000000,,"[{'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 11816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 19:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/724ccc29a9eb1d3e975e5c91852bac92710655c1', 'message': 'DNM: Try to debug spurious DB file failure\n\nChange-Id: I66cdd29341089ef89123fa1f5420258433a660fe\n'}, {'number': 2, 'created': '2020-08-08 02:20:09.000000000', 'files': ['glance/db/sqlalchemy/api.py', 'glance/tests/functional/v2/test_images_import_locking.py', 'glance/db/sqlalchemy/alembic_migrations/env.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/47f994b28810e13ca3c427938d70cf585863fc89', 'message': 'DNM: Try to debug spurious DB file failure\n\nAlembic env.py is using oslo_db.sqlalchemy.enginefacade\nfor connectivity but the test suite seems to be creating\na new CONF.database.connection tempfile directory + file\neach time and assigning it to _FACADE, which is a legacy facade.\n\nnot sure where glance wants to go here but switching\nenv.py to use _FACADE allows the tests in question to pass.\n\nChange-Id: I66cdd29341089ef89123fa1f5420258433a660fe\n'}]",3,745398,47f994b28810e13ca3c427938d70cf585863fc89,10,4,2,4393,,,0,"DNM: Try to debug spurious DB file failure

Alembic env.py is using oslo_db.sqlalchemy.enginefacade
for connectivity but the test suite seems to be creating
a new CONF.database.connection tempfile directory + file
each time and assigning it to _FACADE, which is a legacy facade.

not sure where glance wants to go here but switching
env.py to use _FACADE allows the tests in question to pass.

Change-Id: I66cdd29341089ef89123fa1f5420258433a660fe
",git fetch https://review.opendev.org/openstack/glance refs/changes/98/745398/2 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/functional/v2/test_images_import_locking.py'],1,724ccc29a9eb1d3e975e5c91852bac92710655c1,task-heartbeat," db_file = '/%s/test.db' % self.test_dir self.config(connection='sqlite://%s' % db_file, try: test_utils.db_sync() except Exception as e: # FIXME(danms): WTF debug = '\n'.join([ 'Test dir: %s' % self.test_dir, 'File: %s' % db_file, 'Exists: %s' % os.path.exists(db_file), 'Connection: %s' % CONF.database.connection, ]) self.addDetail('DB sync context', ttc.text_content(debug)) raise"," db_file = 'sqlite:///%s/test-%s.db' % (self.test_dir, uuid.uuid4()) self.config(connection=db_file, test_utils.db_sync()",14,4
openstack%2Fironic-python-agent~stable%2Frocky~I6b689bd16dfe6fa849e876f056f1c5cfd1937764,openstack/ironic-python-agent,stable/rocky,I6b689bd16dfe6fa849e876f056f1c5cfd1937764,Pin Ironic Tempest Plugin,MERGED,2020-08-04 18:28:22.000000000,2020-08-10 17:02:14.000000000,2020-08-10 17:02:14.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-04 18:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b1ef0342d6e1be4c0679a85794808616d5716293', 'message': ""Pin Ironic Tempest Plugin\n\nPin the ironic-tempest-plugin to an older version so\nwe don't run the net set of tests with wholedisk + partition\ntesting.\n\nChange-Id: I6b689bd16dfe6fa849e876f056f1c5cfd1937764\n""}, {'number': 2, 'created': '2020-08-05 18:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c7b3d9f062f6ca23c8a394aa528d5097d3b6b9f4', 'message': ""Pin Ironic Tempest Plugin\n\nPin the ironic-tempest-plugin to an older version so\nwe don't run the net set of tests with wholedisk + partition\ntesting.\n\nAlso removes CoreOS jobs as CoreOS is EOL and no longer receiving\nany updates.\n\nAnd also signals to the user to try and manually install python-pip\nas opposed to install the package from the package manager as\nolder mirrors have older versions at this point and we are\nrisking breaking things by automatically doing so. This should\nfix test jobs on ubuntu-xenial as there is a conflict in the\nrepositories.\n\n    python-pip : Depends: python-pip-whl (= 8.1.1-2ubuntu0.4) but 9.0.1-3~3 is to be installed\n\nChange-Id: I6b689bd16dfe6fa849e876f056f1c5cfd1937764\n""}, {'number': 3, 'created': '2020-08-05 19:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/16e6d00655c18d0d639a2afb1e177384c85133d8', 'message': ""Pin Ironic Tempest Plugin\n\nPin the ironic-tempest-plugin to an older version so\nwe don't run the net set of tests with wholedisk + partition\ntesting.\n\nAlso removes CoreOS jobs as CoreOS is EOL and no longer receiving\nany updates.\n\nAnd also signals to the user to try and manually install python-pip\nas opposed to install the package from the package manager as\nolder mirrors have older versions at this point and we are\nrisking breaking things by automatically doing so. This should\nfix test jobs on ubuntu-xenial as there is a conflict in the\nrepositories.\n\n    python-pip : Depends: python-pip-whl (= 8.1.1-2ubuntu0.4) but 9.0.1-3~3 is to be installed\n\nChange-Id: I6b689bd16dfe6fa849e876f056f1c5cfd1937764\n""}, {'number': 4, 'created': '2020-08-06 13:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/fac9af884a7217a20f72401a74f685be4d8b63d8', 'message': ""Pin Ironic Tempest Plugin\n\nPin the ironic-tempest-plugin to an older version so\nwe don't run the net set of tests with wholedisk + partition\ntesting.\n\nAlso removes CoreOS jobs as CoreOS is EOL and no longer receiving\nany updates.\n\nAnd also signals to the user to try and manually install python-pip\nas opposed to install the package from the package manager as\nolder mirrors have older versions at this point and we are\nrisking breaking things by automatically doing so. This should\nfix test jobs on ubuntu-xenial as there is a conflict in the\nrepositories.\n\n    python-pip : Depends: python-pip-whl (= 8.1.1-2ubuntu0.4) but 9.0.1-3~3 is to be installed\n\nChange-Id: I6b689bd16dfe6fa849e876f056f1c5cfd1937764\n""}, {'number': 5, 'created': '2020-08-07 13:45:07.000000000', 'files': ['zuul.d/project.yaml', 'imagebuild/tinyipa/install-deps.sh', 'zuul.d/legacy-ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a5eaf207825951edea3630abea6c0f7d3a0992cf', 'message': ""Pin Ironic Tempest Plugin\n\nPin the ironic-tempest-plugin to an older version so\nwe don't run the net set of tests with wholedisk + partition\ntesting.\n\nAlso removes CoreOS jobs as CoreOS is EOL and no longer receiving\nany updates.\n\nAnd also signals to the user to try and manually install python-pip\nas opposed to install the package from the package manager as\nolder mirrors have older versions at this point and we are\nrisking breaking things by automatically doing so. This should\nfix test jobs on ubuntu-xenial as there is a conflict in the\nrepositories.\n\n    python-pip : Depends: python-pip-whl (= 8.1.1-2ubuntu0.4) but 9.0.1-3~3 is to be installed\n\nChange-Id: I6b689bd16dfe6fa849e876f056f1c5cfd1937764\n""}]",2,744773,a5eaf207825951edea3630abea6c0f7d3a0992cf,26,6,5,11655,,,0,"Pin Ironic Tempest Plugin

Pin the ironic-tempest-plugin to an older version so
we don't run the net set of tests with wholedisk + partition
testing.

Also removes CoreOS jobs as CoreOS is EOL and no longer receiving
any updates.

And also signals to the user to try and manually install python-pip
as opposed to install the package from the package manager as
older mirrors have older versions at this point and we are
risking breaking things by automatically doing so. This should
fix test jobs on ubuntu-xenial as there is a conflict in the
repositories.

    python-pip : Depends: python-pip-whl (= 8.1.1-2ubuntu0.4) but 9.0.1-3~3 is to be installed

Change-Id: I6b689bd16dfe6fa849e876f056f1c5cfd1937764
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/73/744773/5 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/legacy-ironic-jobs.yaml'],1,b1ef0342d6e1be4c0679a85794808616d5716293,, - name: openstack/ironic-tempest-plugin override-checkout: 1.2.1, - openstack/ironic-tempest-plugin,2,1
openstack%2Fansible-role-uwsgi~master~I49d5154d80db6e7050cab7e71f1caa587e5cfe15,openstack/ansible-role-uwsgi,master,I49d5154d80db6e7050cab7e71f1caa587e5cfe15,Fix uwsgi_venv_tag,MERGED,2020-08-05 08:08:56.000000000,2020-08-10 16:52:43.000000000,2020-08-10 16:49:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-05 08:08:56.000000000', 'files': ['tasks/uwsgi_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-uwsgi/commit/1b52c1799ab8a70e0b1d05f3ccb28fb21db066bf', 'message': 'Fix uwsgi_venv_tag\n\nChange-Id: I49d5154d80db6e7050cab7e71f1caa587e5cfe15\n'}]",0,744846,1b52c1799ab8a70e0b1d05f3ccb28fb21db066bf,10,3,1,28619,,,0,"Fix uwsgi_venv_tag

Change-Id: I49d5154d80db6e7050cab7e71f1caa587e5cfe15
",git fetch https://review.opendev.org/openstack/ansible-role-uwsgi refs/changes/46/744846/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/uwsgi_install.yml'],1,1b52c1799ab8a70e0b1d05f3ccb28fb21db066bf,," value: ""{{ uwsgi_venv_tag }}""", value: uwsgi_venv_tag,1,1
openstack%2Fopenstack-ansible-os_heat~stable%2Ftrain~I8b93233e30136f54221234e12c8b5eeffc1ba5a6,openstack/openstack-ansible-os_heat,stable/train,I8b93233e30136f54221234e12c8b5eeffc1ba5a6,Fix _project_domain for heat,MERGED,2020-08-10 07:48:46.000000000,2020-08-10 16:29:35.000000000,2020-08-10 16:27:08.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-10 07:48:46.000000000', 'files': ['tasks/heat_service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/9f752d4ffa5e61cbc966c51f7120b96e84374fab', 'message': 'Fix _project_domain for heat\n\nChange-Id: I8b93233e30136f54221234e12c8b5eeffc1ba5a6\nCloses-Bug: #1890635\n(cherry picked from commit 780dc2eb597d3736b702d5f8cdf830e83d177e3d)\n'}]",0,745491,9f752d4ffa5e61cbc966c51f7120b96e84374fab,8,3,1,28619,,,0,"Fix _project_domain for heat

Change-Id: I8b93233e30136f54221234e12c8b5eeffc1ba5a6
Closes-Bug: #1890635
(cherry picked from commit 780dc2eb597d3736b702d5f8cdf830e83d177e3d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/91/745491/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/heat_service_setup.yml'],1,9f752d4ffa5e61cbc966c51f7120b96e84374fab,," _project_domain: ""{{ heat_project_domain_name }}"" project:"," _project_domain: ""{{ add_stack_user_domain.id }}"" project: ""{{ heat_project_name }}""",2,2
openstack%2Ftripleo-upgrade~master~I76cd33019be6d7e3dbc6e1d94e64ee1286255839,openstack/tripleo-upgrade,master,I76cd33019be6d7e3dbc6e1d94e64ee1286255839,Stop configuring install_command in tox.,MERGED,2019-11-14 13:56:09.000000000,2020-08-10 16:29:12.000000000,2019-11-22 12:48:54.000000000,"[{'_account_id': 2472}, {'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2019-11-14 13:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a449645345628a1416df3ba0fe0bcaae38141a20', 'message': ""Stop configuring install_command in tox.\n\nCurrently, we are overriding 'install_command' to use 'pip'. This is\nconsidered poor behavior and 'python -m pip' should be used instead:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value.\n\nChange-Id: I76cd33019be6d7e3dbc6e1d94e64ee1286255839\n""}, {'number': 2, 'created': '2019-11-21 12:53:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/fe36f676144ff766b0b1a9c6ea02def8b9c0efec', 'message': ""Stop configuring install_command in tox.\n\nCurrently, we are overriding 'install_command' to use 'pip'. This is\nconsidered poor behavior and 'python -m pip' should be used instead:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value.\n\nChange-Id: I76cd33019be6d7e3dbc6e1d94e64ee1286255839\n""}]",0,694299,fe36f676144ff766b0b1a9c6ea02def8b9c0efec,14,6,2,31245,,,0,"Stop configuring install_command in tox.

Currently, we are overriding 'install_command' to use 'pip'. This is
considered poor behavior and 'python -m pip' should be used instead:

https://snarky.ca/why-you-should-use-python-m-pip/

It turns out that this is the the default value provided by tox:

https://tox.readthedocs.io/en/latest/config.html#conf-install_command

So we can remove the line and simply use the default value.

Change-Id: I76cd33019be6d7e3dbc6e1d94e64ee1286255839
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/99/694299/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a449645345628a1416df3ba0fe0bcaae38141a20,use_pip_as_module_new,,install_command = pip install {opts} {packages} setenv = VIRTUAL_ENV={envdir},0,2
openstack%2Ftripleo-upgrade~master~I5511605a88c65788eb647df33815a5b19aca3d16,openstack/tripleo-upgrade,master,I5511605a88c65788eb647df33815a5b19aca3d16,Unify post upgrade tags.,MERGED,2020-06-18 12:51:37.000000000,2020-08-10 16:25:22.000000000,2020-07-10 11:34:07.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-18 12:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/901995802893665c5e1606038bf3befd54893935', 'message': 'Unify post upgrade tags.\n\nThere were two different tags for the post upgrade tasks,\nthe overcloud_post_controller and the ffu_overcloud_post.\nThis patch uses the same tag, ffu_overcloud_post, for both.\n\nChange-Id: I5511605a88c65788eb647df33815a5b19aca3d16\n'}, {'number': 2, 'created': '2020-06-18 12:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/bd93b0a925f8ebcad3b8683753ee52436002c38a', 'message': 'Unify post upgrade tags.\n\nThere were two different tags for the post upgrade tasks,\nthe overcloud_post_controller and the ffu_overcloud_post.\nThis patch uses the same tag, ffu_overcloud_post, for both.\n\nChange-Id: I5511605a88c65788eb647df33815a5b19aca3d16\n'}, {'number': 3, 'created': '2020-07-01 21:32:42.000000000', 'files': ['tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/95f3d031999b54b1e5b3b0c680cb76a01f0ca8ab', 'message': 'Unify post upgrade tags.\n\nThere were two different tags for the post upgrade tasks,\nthe overcloud_post_controller and the ffu_overcloud_post.\nThis patch uses the same tag, ffu_overcloud_post, for both.\n\nChange-Id: I5511605a88c65788eb647df33815a5b19aca3d16\n'}]",0,736706,95f3d031999b54b1e5b3b0c680cb76a01f0ca8ab,11,4,3,26343,,,0,"Unify post upgrade tags.

There were two different tags for the post upgrade tasks,
the overcloud_post_controller and the ffu_overcloud_post.
This patch uses the same tag, ffu_overcloud_post, for both.

Change-Id: I5511605a88c65788eb647df33815a5b19aca3d16
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/06/736706/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/main.yml'],1,901995802893665c5e1606038bf3befd54893935,, - ffu_overcloud_post tags: ffu_overcloud_post, - controller_post_upgrade tags: controller_post_upgrade,2,2
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I368e99d2384469ca166e2e2b00e8621b7afe72db,openstack/tripleo-heat-templates,stable/ussuri,I368e99d2384469ca166e2e2b00e8621b7afe72db,Stop using a conditional for role tasks,MERGED,2020-08-05 21:07:20.000000000,2020-08-10 16:21:22.000000000,2020-08-10 16:21:22.000000000,"[{'_account_id': 3153}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-05 21:07:20.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7f8770b6e3f97833cd138306eade4da43a5f0884', 'message': ""Stop using a conditional for role tasks\n\nCurrently this task definition is causing the following warning to be\nthrown at execution time:\n\n    [WARNING]: conditional statements should not include jinja2 templating\n    delimiters such as {{ }} or {% %}. Found: '{{ playbook_dir }}/{{\n    _task_file_path }}' is exists\n\nThere is no reason to be using this conditional with a variable since\nthis file path is known when we create the playbook. Additionally we\ndon't need to use the playbook_dir because we're not using it in the\ninclude_tasks. This allows us to specifically express the file that\nwe're using for these tasks inclusions rather than relying on a\nconditional that is not recommended.\n\nChange-Id: I368e99d2384469ca166e2e2b00e8621b7afe72db\n(cherry picked from commit ea62bcf150885ca91aeb37f098d60bf51cd5a7b7)\n""}]",0,744988,7f8770b6e3f97833cd138306eade4da43a5f0884,8,4,1,14985,,,0,"Stop using a conditional for role tasks

Currently this task definition is causing the following warning to be
thrown at execution time:

    [WARNING]: conditional statements should not include jinja2 templating
    delimiters such as {{ }} or {% %}. Found: '{{ playbook_dir }}/{{
    _task_file_path }}' is exists

There is no reason to be using this conditional with a variable since
this file path is known when we create the playbook. Additionally we
don't need to use the playbook_dir because we're not using it in the
include_tasks. This allows us to specifically express the file that
we're using for these tasks inclusions rather than relying on a
conditional that is not recommended.

Change-Id: I368e99d2384469ca166e2e2b00e8621b7afe72db
(cherry picked from commit ea62bcf150885ca91aeb37f098d60bf51cd5a7b7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/744988/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,7f8770b6e3f97833cd138306eade4da43a5f0884,stop-conditional-in-when-stable/ussuri," - include_tasks: ""{{role.name}}/deploy_steps_tasks_step{{step}}.yaml"" - ""'{{role.name}}/deploy_steps_tasks_step{{step}}.yaml' is exists"""," - include_tasks: ""{% raw %}{{ _task_file_path }}{% endraw %}"" vars: _task_file_path: ""{{role.name}}/deploy_steps_tasks_step{{step}}.yaml"" - ""{% raw %}'{{ playbook_dir }}/{{ _task_file_path }}' is exists{% endraw %}""",2,4
openstack%2Ftripleo-upgrade~master~I69ac4ee4f7eb3214c925686c1efd1bd2f5972185,openstack/tripleo-upgrade,master,I69ac4ee4f7eb3214c925686c1efd1bd2f5972185,Mesure l3 agent connectivity in seconds instead of percentage.,MERGED,2020-07-23 09:31:50.000000000,2020-08-10 16:20:36.000000000,2020-07-31 14:26:52.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 8655}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 25864}, {'_account_id': 26343}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-07-23 09:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f6e6be3ea14e5b24ded604a97b6b80c56db01a11', 'message': 'Mesure l3 agent connectivity in seconds instead of percentage.\n\nThis make the ping check independent of the task time.  We can now\nspecify in absolute time how long we tolerate a ping loss during the\nping test.\n\nWe set this to 0 by default for update as no such cut should happen\nduring this workflow.\n\nChange-Id: I69ac4ee4f7eb3214c925686c1efd1bd2f5972185\n'}, {'number': 2, 'created': '2020-07-28 09:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ba8c38b7fdb808a77f79d4c8106f90657c8b3fad', 'message': ""Mesure l3 agent connectivity in seconds instead of percentage.\n\nThis make the ping check independent of the task time.  We can now\nspecify in absolute time how long we tolerate a ping loss during the\nping test.\n\nWe set this to 0 by default for update as no such cut should happen\nduring this workflow.\n\nFor other tasks it's 60 seconds.\n\nWe also maintain a percentage check for tasks that are very short in\ntotal time (less than 10min for instance) as the total number of\nseconds there could be less than 60 seconds, but with a 100% packet\nloss.\n\nEventually, we shield printf against locale that would use a comma as\na separator for number decimal and make sure it's always a point.\n\nChange-Id: I69ac4ee4f7eb3214c925686c1efd1bd2f5972185\n""}, {'number': 3, 'created': '2020-07-29 12:48:07.000000000', 'files': ['templates/ceph-update-run.sh.j2', 'tasks/update/overcloud_update_converge.yml', 'templates/l3_agent_stop_ping.sh.j2', 'README.rst', 'tasks/update/overcloud_update_run.yml', 'tasks/common/l3_agent_connectivity_check_stop_script.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/12db9ba27a95e498ba0ebb720540b699b881b6a2', 'message': ""Mesure l3 agent connectivity in seconds instead of percentage.\n\nThis make the ping check independent of the task time.  We can now\nspecify in absolute time how long we tolerate a ping loss during the\nping test.\n\nWe set this to 0 by default for update as no such cut should happen\nduring this workflow.\n\nFor other tasks it's 60 seconds.\n\nWe also maintain a percentage check for tasks that are very short in\ntotal time (less than 10min for instance) as the total number of\nseconds there could be less than 60 seconds, but with a 100% packet\nloss.\n\nEventually, we shield printf against locale that would use a comma as\na separator for number decimal and make sure it's always a point.\n\nChange-Id: I69ac4ee4f7eb3214c925686c1efd1bd2f5972185\n""}]",0,742626,12db9ba27a95e498ba0ebb720540b699b881b6a2,18,10,3,8297,,,0,"Mesure l3 agent connectivity in seconds instead of percentage.

This make the ping check independent of the task time.  We can now
specify in absolute time how long we tolerate a ping loss during the
ping test.

We set this to 0 by default for update as no such cut should happen
during this workflow.

For other tasks it's 60 seconds.

We also maintain a percentage check for tasks that are very short in
total time (less than 10min for instance) as the total number of
seconds there could be less than 60 seconds, but with a 100% packet
loss.

Eventually, we shield printf against locale that would use a comma as
a separator for number decimal and make sure it's always a point.

Change-Id: I69ac4ee4f7eb3214c925686c1efd1bd2f5972185
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/26/742626/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ceph-update-run.sh.j2', 'tasks/update/overcloud_update_converge.yml', 'templates/l3_agent_stop_ping.sh.j2', 'README.rst', 'tasks/common/l3_agent_connectivity_check_stop_script.yml', 'tasks/update/overcloud_update_run.yml', 'defaults/main.yml']",7,f6e6be3ea14e5b24ded604a97b6b80c56db01a11,,# Packet loss threshold for a ping test in seconds. loss_threshold: 60 update_loss_threshold: 0,# Packet loss threshold for a ping test loss_threshold: 1,34,7
openstack%2Ftripleo-common~stable%2Fussuri~I3832332abdfd7daaf373dc0924fec268f159d774,openstack/tripleo-common,stable/ussuri,I3832332abdfd7daaf373dc0924fec268f159d774,Add exponential backoff to ratelimited requests,MERGED,2020-08-07 13:10:51.000000000,2020-08-10 16:10:18.000000000,2020-08-10 16:07:56.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-07 13:10:51.000000000', 'files': ['tripleo_common/image/exception.py', 'tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/be81e6ee690a8a5f8bc15309d333ea8266f43af2', 'message': ""Add exponential backoff to ratelimited requests\n\nIf we're ratelimited on a request, we should retry the request but back\noff significantly.  Previously we're not really handling 429 any\ndifferent than other requests which may lead to the requests being\nretried too quickly.\n\nChange-Id: I3832332abdfd7daaf373dc0924fec268f159d774\nRelated-Bug: #1889372\nRelated-bug: #1889122\n(cherry picked from commit d4f6eb64d4a54cfa90d4c1572ef54495f151fea5)\n""}]",0,745322,be81e6ee690a8a5f8bc15309d333ea8266f43af2,13,5,1,14985,,,0,"Add exponential backoff to ratelimited requests

If we're ratelimited on a request, we should retry the request but back
off significantly.  Previously we're not really handling 429 any
different than other requests which may lead to the requests being
retried too quickly.

Change-Id: I3832332abdfd7daaf373dc0924fec268f159d774
Related-Bug: #1889372
Related-bug: #1889122
(cherry picked from commit d4f6eb64d4a54cfa90d4c1572ef54495f151fea5)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/22/745322/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/exception.py', 'tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",3,be81e6ee690a8a5f8bc15309d333ea8266f43af2,bug/1889372-stable/ussuri,"from tripleo_common.image.exception import ImageRateLimitedException if status_code == 429: raise ImageRateLimitedException('Rate Limited while requesting ' '{}'.format(request.url)) @tenacity.retry( # Retry up to 5 times with longer time for rate limit reraise=True, retry=tenacity.retry_if_exception_type( ImageRateLimitedException ), wait=tenacity.wait_random_exponential(multiplier=1.5, max=60), stop=tenacity.stop_after_attempt(5) ) @tenacity.retry( # Retry up to 5 times with longer time (requests.exceptions.RequestException, ImageRateLimitedException) wait=tenacity.wait_random_exponential(multiplier=1.5, max=60),"," @tenacity.retry( # Retry up to 5 times with jittered exponential backoff requests.exceptions.RequestException wait=tenacity.wait_random_exponential(multiplier=1, max=10),",39,3
openstack%2Fironic-inspector~master~I23714b1614aa0df8a6d4a531746f6300523b16da,openstack/ironic-inspector,master,I23714b1614aa0df8a6d4a531746f6300523b16da,More flexible definitions of conditions in rules,NEW,2020-05-29 15:50:55.000000000,2020-08-10 15:59:36.000000000,,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 31258}]","[{'number': 1, 'created': '2020-05-29 15:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/8c01bef7daf5cb0cd8f21d4322d43008f2c158cc', 'message': 'WIP: using condition_join how to interpret multiple\nconditions if rule passed or not.\n\nChange-Id: I23714b1614aa0df8a6d4a531746f6300523b16da\nStory: #2007649\nTask: #39710\n'}, {'number': 2, 'created': '2020-05-29 16:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/320c58d2aa173c242710a95580dd83ee028cd586', 'message': 'WIP: adding condition_join to rules.\n\n`condition_join` tells how multiple conditions are joined and when rule has passed and when not.\n\nChange-Id: I23714b1614aa0df8a6d4a531746f6300523b16da\nStory: #2007649\nTask: #39710\n'}, {'number': 3, 'created': '2020-05-29 16:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/03148c80f6c233179922dbb9a8549bda6fe6e8d2', 'message': 'WIP: adding condition_join to rules.\n\n`condition_join` tells how multiple conditions\nare joined and when rule has passed and when not.\n\nChange-Id: I23714b1614aa0df8a6d4a531746f6300523b16da\nStory: #2007649\nTask: #39710\n'}, {'number': 4, 'created': '2020-07-22 16:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/7c69a2d733ac3f4b5a49b7720af9c8893ce5705d', 'message': 'WIP: adding condition_join to rules.\n\n`condition_join` tells how multiple conditions\nare joined and when rule has passed and when not.\n\nChange-Id: I23714b1614aa0df8a6d4a531746f6300523b16da\nStory: #2007649\nTask: #39710\n'}, {'number': 5, 'created': '2020-07-22 22:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/568a6bbfc76baba32f858be36ed3971ffb2e7def', 'message': 'WIP: adding condition_join to rules.\n\n`condition_join` tells how multiple conditions\nare joined and when rule has passed and when not.\n\nChange-Id: I23714b1614aa0df8a6d4a531746f6300523b16da\nStory: #2007649\nTask: #39710\n'}, {'number': 6, 'created': '2020-07-23 08:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/529c48523c1ec129aaaf128215714a41b19f1ab0', 'message': 'WIP: adding condition_join to rules.\n\n`condition_join` tells how multiple conditions\nare joined and when rule has passed and when not.\n\nChange-Id: I23714b1614aa0df8a6d4a531746f6300523b16da\nStory: #2007649\nTask: #39710\n'}, {'number': 7, 'created': '2020-07-24 15:11:11.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/samples/api-v1-create-rule-request.json', 'doc/source/user/usage.rst', 'ironic_inspector/test/functional.py', 'ironic_inspector/db.py', 'api-ref/source/introspection-api-v1-rules.inc', 'releasenotes/notes/introspection-conditions-improve-9252c5b1da4480e4.yaml', 'ironic_inspector/enums.py', 'api-ref/source/samples/api-v1-create-rule-response.json', 'ironic_inspector/rules.py', 'ironic_inspector/test/unit/test_rules.py', 'ironic_inspector/main.py', 'doc/source/user/http-api.rst', 'ironic_inspector/migrations/versions/4c9b9b4712d6_add_fields_to_better_manipulate_rules_conditions.py', 'ironic_inspector/test/unit/test_main.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/01afca672ae191bfc3608633ad2a7664b5e0c09f', 'message': 'More flexible definitions of conditions in rules\n\nAdded `invert_conditions_outcome` and\n`condition_join` to introspection rule.\nIt allows to use boolean algebra logic\nwhen rule should be applied using conditions.\n\nChange-Id: I23714b1614aa0df8a6d4a531746f6300523b16da\nStory: #2007649\nTask: #39710\n'}]",45,731794,01afca672ae191bfc3608633ad2a7664b5e0c09f,24,6,7,31258,,,0,"More flexible definitions of conditions in rules

Added `invert_conditions_outcome` and
`condition_join` to introspection rule.
It allows to use boolean algebra logic
when rule should be applied using conditions.

Change-Id: I23714b1614aa0df8a6d4a531746f6300523b16da
Story: #2007649
Task: #39710
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/94/731794/5 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/rules.py'],1,8c01bef7daf5cb0cd8f21d4322d43008f2c158cc,story/2007649," self._conditions_join = None # To be defined. n_of_cond_false = 0 n_of_cond_false += 1 continue n_of_cond_false += 1 continue n_of_cond_true += 1 if self._conditions_join == ""and"": if n_of_cond_true and not n_of_cond_false: return True else: return False if self._conditions_join == ""not_and"": if not n_of_cond_true and n_of_cond_false: return True else: return False if self._conditions_join == ""or"": if n_of_cond_true: return True else: return False if self._conditions_join == ""not_or"": if n_of_cond_true: return False else: return True if self._conditions_join == ""xor"": if n_of_cond_true and n_of_cond_false: return True else:"," n_of_cond_false = 0 return False LOG.info('Rule ""%(rule)s"" will not be applied: condition ' '%(field)s %(op)s %(params)s failed', {'rule': self.description, 'field': cond.field, 'op': cond.op, 'params': cond.params}, node_info=node_info, data=data)",31,7
openstack%2Foslo.messaging~stable%2Fussuri~I50226ed476280f9e61c6b302a1f71a27ae88fbca,openstack/oslo.messaging,stable/ussuri,I50226ed476280f9e61c6b302a1f71a27ae88fbca,"Revert ""tests: Resolves issues with kombu > 4.6.8""",ABANDONED,2020-07-24 15:08:19.000000000,2020-08-10 15:43:41.000000000,,"[{'_account_id': 11904}, {'_account_id': 12907}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 15:08:19.000000000', 'files': ['oslo_messaging/tests/drivers/test_impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/b3101c0436cb3a59ad0a6a7a0d2a5cc27b19c753', 'message': 'Revert ""tests: Resolves issues with kombu > 4.6.8""\n\nThis reverts commit 6727be7890f64446f1658d79fac196d30b6f1a18.\n\nChange-Id: I50226ed476280f9e61c6b302a1f71a27ae88fbca\n'}]",1,742907,b3101c0436cb3a59ad0a6a7a0d2a5cc27b19c753,10,4,1,15334,,,0,"Revert ""tests: Resolves issues with kombu > 4.6.8""

This reverts commit 6727be7890f64446f1658d79fac196d30b6f1a18.

Change-Id: I50226ed476280f9e61c6b302a1f71a27ae88fbca
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/07/742907/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/tests/drivers/test_impl_rabbit.py'],1,b3101c0436cb3a59ad0a6a7a0d2a5cc27b19c753,test_setup.sh-stable/ussuri, self.useFixture(fixtures.MockPatch( 'kombu.connection.Connection.connect')),"import kombu.connection # TODO(stephenfin): Drop hasattr when we drop support for kombo < 4.6.8 if hasattr(kombu.connection.Connection, '_connection_factory'): self.useFixture(fixtures.MockPatch( 'kombu.connection.Connection._connection_factory')) # TODO(stephenfin): Remove when we drop support for kombo < 4.6.8 if hasattr(kombu.connection.Connection, 'connect'): self.useFixture(fixtures.MockPatch( 'kombu.connection.Connection.connect'))",2,9
openstack%2Foslo-cookiecutter~master~I87fd248858923753f708709b62833bfefd67506e,openstack/oslo-cookiecutter,master,I87fd248858923753f708709b62833bfefd67506e,sync oslo-cookiecutter contributing template,MERGED,2020-07-30 09:34:38.000000000,2020-08-10 15:43:17.000000000,2020-08-10 15:43:17.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-07-30 09:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/1771647e42dfc4d99f5ab3ee0c0ee3330f499084', 'message': 'sync oslo-cookiecutter contributing template\n\nChange-Id: I87fd248858923753f708709b62833bfefd67506e\n'}, {'number': 2, 'created': '2020-08-10 15:18:39.000000000', 'files': ['CONTRIBUTING.rst', 'oslo.{{cookiecutter.module_name}}/CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/2204e2dd148f5545d4767f60241e5149d93620e3', 'message': 'sync oslo-cookiecutter contributing template\n\nChange-Id: I87fd248858923753f708709b62833bfefd67506e\n'}]",0,743939,2204e2dd148f5545d4767f60241e5149d93620e3,10,4,2,28522,,,0,"sync oslo-cookiecutter contributing template

Change-Id: I87fd248858923753f708709b62833bfefd67506e
",git fetch https://review.opendev.org/openstack/oslo-cookiecutter refs/changes/39/743939/2 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'oslo.{{cookiecutter.module_name}}/CONTRIBUTING.rst']",2,1771647e42dfc4d99f5ab3ee0c0ee3330f499084,contrib,"If you would like to contribute to the development of oslo's libraries, first you must take a look to this page: https://specs.openstack.org/openstack/oslo-specs/specs/policy/contributing.html ",,10,0
openstack%2Frequirements~stable%2Ftrain~I254a9abce41551c19990a8285aa592189bf00206,openstack/requirements,stable/train,I254a9abce41551c19990a8285aa592189bf00206,Update constraint pyOpenSSL 19.1.0 for byte array issue,MERGED,2020-08-06 13:56:15.000000000,2020-08-10 15:41:36.000000000,2020-08-10 15:41:36.000000000,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 13:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/caa6bf7c420e460e9b4a15a58befedaddf60c325', 'message': 'DNM: Testing pyOpenSSL byte array issue\n\nChange-Id: I254a9abce41551c19990a8285aa592189bf00206\n'}, {'number': 2, 'created': '2020-08-07 16:38:21.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a8446d313555bcee47d0b80d7d5e0218ca4fc754', 'message': 'Update constraint pyOpenSSL 19.1.0 for byte array issue\n\npyOpenSSL 19.1.0 fixes the byte array issue[1] which\nstartd failing the patrole stable/train|stein jobs\n\n- https://zuul.opendev.org/t/openstack/build/2f1e7e415b074b62ae54845bd72dbef5\n\nthose jobs passing with this patch:\n- https://zuul.opendev.org/t/openstack/build/65878b6e4790458f9f6bb141470cdd84\n\npyOpenSSL 19.1.0 need cryptography 2.8\n\n[1] https://github.com/pyca/pyopenssl/pull/852\n\nChange-Id: I254a9abce41551c19990a8285aa592189bf00206\n'}]",0,745158,a8446d313555bcee47d0b80d7d5e0218ca4fc754,12,4,2,8556,,,0,"Update constraint pyOpenSSL 19.1.0 for byte array issue

pyOpenSSL 19.1.0 fixes the byte array issue[1] which
startd failing the patrole stable/train|stein jobs

- https://zuul.opendev.org/t/openstack/build/2f1e7e415b074b62ae54845bd72dbef5

those jobs passing with this patch:
- https://zuul.opendev.org/t/openstack/build/65878b6e4790458f9f6bb141470cdd84

pyOpenSSL 19.1.0 need cryptography 2.8

[1] https://github.com/pyca/pyopenssl/pull/852

Change-Id: I254a9abce41551c19990a8285aa592189bf00206
",git fetch https://review.opendev.org/openstack/requirements refs/changes/58/745158/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,caa6bf7c420e460e9b4a15a58befedaddf60c325,,pyOpenSSL===19.1.0,pyOpenSSL===19.0.0,1,1
openstack%2Foslo-cookiecutter~master~I575e42fe15f16d0bd51597a540a13c4e384ec096,openstack/oslo-cookiecutter,master,I575e42fe15f16d0bd51597a540a13c4e384ec096,Add ensure-tox support.,MERGED,2020-08-07 09:37:59.000000000,2020-08-10 15:27:50.000000000,2020-08-10 15:27:50.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 09:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/1221c5d2cb924e9ea0102825b6e26fd830d36e27', 'message': 'Add ensure-tox support.\n\nAdd the ensure-tox role to fix the CI fail.\n\nChange-Id: I575e42fe15f16d0bd51597a540a13c4e384ec096\n'}, {'number': 2, 'created': '2020-08-07 09:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/4da09d2456eb0ca7a53d43cece7c9b3557b00c90', 'message': 'Add ensure-tox support.\n\nAdd the ensure-tox role to fix the CI fail.\n\nChange-Id: I575e42fe15f16d0bd51597a540a13c4e384ec096\n'}, {'number': 3, 'created': '2020-08-07 10:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/bfaf16c34555e4d2ab5134277ee680df833843dd', 'message': 'Add ensure-tox support.\n\nAdd the ensure-tox role to fix the CI fail.\n\nChange-Id: I575e42fe15f16d0bd51597a540a13c4e384ec096\n'}, {'number': 4, 'created': '2020-08-07 13:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/894bf8c1176331b616bca143f0428f043b55e7aa', 'message': 'Add ensure-tox support.\n\nAdd the ensure-tox role to fix the CI fail.\n\nChange-Id: I575e42fe15f16d0bd51597a540a13c4e384ec096\n'}, {'number': 5, 'created': '2020-08-07 13:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/80b11c4b4e3b9cdbab021cff1b0cb0bd317d1f3d', 'message': 'Add ensure-tox support.\n\nAdd the ensure-tox role to fix the CI fail.\n\nChange-Id: I575e42fe15f16d0bd51597a540a13c4e384ec096\n'}, {'number': 6, 'created': '2020-08-07 13:53:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/db278b6103a8f0510e5f5ecc40e6c6a0e888edee', 'message': 'Add ensure-tox support.\n\nUse ensure_global_symlinks from ensure-tox to fix the CI fail. We need\nto do that, because when we install the new sub environment in the new\nproject the tox is not visible. With the ensure_global_symlinks we do a\nsymlink into /usr/local/bin path.\n\nCo-authored-by: Bernard Cafarelli <bcafarel@redhat.com>\n\nChange-Id: I575e42fe15f16d0bd51597a540a13c4e384ec096\n'}]",0,745304,db278b6103a8f0510e5f5ecc40e6c6a0e888edee,17,4,6,31245,,,0,"Add ensure-tox support.

Use ensure_global_symlinks from ensure-tox to fix the CI fail. We need
to do that, because when we install the new sub environment in the new
project the tox is not visible. With the ensure_global_symlinks we do a
symlink into /usr/local/bin path.

Co-authored-by: Bernard Cafarelli <bcafarel@redhat.com>

Change-Id: I575e42fe15f16d0bd51597a540a13c4e384ec096
",git fetch https://review.opendev.org/openstack/oslo-cookiecutter refs/changes/04/745304/6 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/run_functional_job.yaml']",2,1221c5d2cb924e9ea0102825b6e26fd830d36e27,add_ensure_tox,- hosts: all tasks: - name: Ensure tox is installed include_role: name: tox vars: ensure_global_symlinks: True ,,8,0
openstack%2Fcharm-keystone~master~I0cb3edc852f23bc80af67d92be0fe6ea07179af3,openstack/charm-keystone,master,I0cb3edc852f23bc80af67d92be0fe6ea07179af3,test commit please ignore,ABANDONED,2020-08-10 14:06:46.000000000,2020-08-10 15:23:30.000000000,,"[{'_account_id': 10068}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-10 14:06:46.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/118050ef3be832fd4c3efc2d7604eaa6f0e51a20', 'message': 'test commit please ignore\n\nChange-Id: I0cb3edc852f23bc80af67d92be0fe6ea07179af3\n'}]",0,745544,118050ef3be832fd4c3efc2d7604eaa6f0e51a20,5,3,1,32288,,,0,"test commit please ignore

Change-Id: I0cb3edc852f23bc80af67d92be0fe6ea07179af3
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/44/745544/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,118050ef3be832fd4c3efc2d7604eaa6f0e51a20,kalcok-test,# Test Nothing to see here ,,4,0
openstack%2Fironic-python-agent~master~If341c3a8a268fc8cab6bd6be04b12ca32b31c8d8,openstack/ironic-python-agent,master,If341c3a8a268fc8cab6bd6be04b12ca32b31c8d8,Support changing the protocol part of callback_url to https,MERGED,2020-08-06 13:15:49.000000000,2020-08-10 15:02:49.000000000,2020-08-10 14:59:50.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-06 13:15:49.000000000', 'files': ['releasenotes/notes/advertise-protocol-110ae1587f727e62.yaml', 'ironic_python_agent/tests/unit/test_ironic_api_client.py', 'ironic_python_agent/config.py', 'ironic_python_agent/agent.py', 'ironic_python_agent/ironic_api_client.py', 'ironic_python_agent/cmd/agent.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/353d09c3b01ddca76335f9797bce4c6ba5900c2f', 'message': 'Support changing the protocol part of callback_url to https\n\nAdds a new kernel parameter for manual configuration and also creates\nfoundation for automatic TLS support later.\n\nChange-Id: If341c3a8a268fc8cab6bd6be04b12ca32b31c8d8\nStory: #2007214\nTask: #40619\n'}]",0,745142,353d09c3b01ddca76335f9797bce4c6ba5900c2f,9,4,1,10239,,,0,"Support changing the protocol part of callback_url to https

Adds a new kernel parameter for manual configuration and also creates
foundation for automatic TLS support later.

Change-Id: If341c3a8a268fc8cab6bd6be04b12ca32b31c8d8
Story: #2007214
Task: #40619
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/42/745142/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/advertise-protocol-110ae1587f727e62.yaml', 'ironic_python_agent/tests/unit/test_ironic_api_client.py', 'ironic_python_agent/config.py', 'ironic_python_agent/agent.py', 'ironic_python_agent/ironic_api_client.py', 'ironic_python_agent/cmd/agent.py']",6,353d09c3b01ddca76335f9797bce4c6ba5900c2f,story/2007214," CONF.hardware_initialization_delay, CONF.advertise_protocol).run()", CONF.hardware_initialization_delay).run(),28,8
openstack%2Fopenstack-ansible-os_masakari~stable%2Fstein~I366e754bbc32f07bfc3166c119fec7141bd2e904,openstack/openstack-ansible-os_masakari,stable/stein,I366e754bbc32f07bfc3166c119fec7141bd2e904,Add libvirt-devel installation,MERGED,2020-08-04 11:32:53.000000000,2020-08-10 14:38:44.000000000,2020-08-10 14:36:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-04 11:32:53.000000000', 'files': ['vars/redhat-7.yml', 'vars/debian.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/6bff0044e46a392ca433c3e37784ebc57f28bf81', 'message': ""Add libvirt-devel installation\n\nlibvirt-python package is required by masakari-monitors, however it\ncan't be build without libvirt-devel.\nAfterwards we should replace it with symlink from distro.\n\nWithout libvirt-devel installation of masakari-monitors fails [1]\n\n[1] http://paste.openstack.org/show/767655/\n\nChange-Id: I366e754bbc32f07bfc3166c119fec7141bd2e904\n(cherry picked from commit a26ed9d5c4f666e8c754da278d39d54ea88909fa)\n""}]",0,744682,6bff0044e46a392ca433c3e37784ebc57f28bf81,8,3,1,28619,,,0,"Add libvirt-devel installation

libvirt-python package is required by masakari-monitors, however it
can't be build without libvirt-devel.
Afterwards we should replace it with symlink from distro.

Without libvirt-devel installation of masakari-monitors fails [1]

[1] http://paste.openstack.org/show/767655/

Change-Id: I366e754bbc32f07bfc3166c119fec7141bd2e904
(cherry picked from commit a26ed9d5c4f666e8c754da278d39d54ea88909fa)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/82/744682/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-7.yml', 'vars/debian.yml', 'vars/suse.yml']",3,6bff0044e46a392ca433c3e37784ebc57f28bf81,, - libvirt-devel,,3,0
openstack%2Fpuppet-openstack-integration~master~Ibacded7599f26f09e50813c7406728a01365abe7,openstack/puppet-openstack-integration,master,Ibacded7599f26f09e50813c7406728a01365abe7,Use sudo to gather netstat/ps results,MERGED,2020-08-07 02:53:44.000000000,2020-08-10 14:35:37.000000000,2020-08-10 14:35:37.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 02:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/085a440292de45a9815f95f6e65dff473c024639', 'message': 'Gather service logs\n\n... so that we can debug gate failures more easily.\n\nChange-Id: Ibacded7599f26f09e50813c7406728a01365abe7\n'}, {'number': 2, 'created': '2020-08-07 04:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/463bbaea0627a2bea34cd78cbfd19cb88f95de29', 'message': 'Gather service logs\n\n... so that we can debug gate failures more easily.\n\nChange-Id: Ibacded7599f26f09e50813c7406728a01365abe7\n'}, {'number': 3, 'created': '2020-08-07 06:28:41.000000000', 'files': ['copy_logs.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/72358b3306d879eb89434324132e3553641a6ba1', 'message': 'Use sudo to gather netstat/ps results\n\nso that we can capture whole infomration.\n\nChange-Id: Ibacded7599f26f09e50813c7406728a01365abe7\n'}]",0,745279,72358b3306d879eb89434324132e3553641a6ba1,11,4,3,9816,,,0,"Use sudo to gather netstat/ps results

so that we can capture whole infomration.

Change-Id: Ibacded7599f26f09e50813c7406728a01365abe7
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/79/745279/1 && git format-patch -1 --stdout FETCH_HEAD,['copy_logs.sh'],1,085a440292de45a9815f95f6e65dff473c024639,centos8-beaker,# core services for svc in keystone nova cinder glance neutron placement heat swift; do if [ -d /var/log/${svc} ]; then sudo cp -r /var/log/${svc} $LOG_DIR/${svc} fi done # telemetry services for svc in aodh ceilometer gnocchi panko; do if [ -d /var/log/${svc} ]; then sudo cp -r /var/log/${svc} $LOG_DIR/${svc} fi done # advanced services for svc in designate octavia barbican; do if [ -d /var/log/${svc} ]; then sudo cp -r /var/log/${svc} $LOG_DIR/${svc} fi done ,,21,0
openstack%2Frequirements~master~I2f22a640d14d7a1538532b14e43417d35c2cc515,openstack/requirements,master,I2f22a640d14d7a1538532b14e43417d35c2cc515,"Revert ""Apply cmd2 upper bound to python3""",ABANDONED,2019-10-22 21:11:47.000000000,2020-08-10 14:00:35.000000000,,"[{'_account_id': 6593}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 21:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/983e956d4eb90b5fafa2421ad04f1519eb6ac095', 'message': 'Revert ""Apply cmd2 upper bound to python3""\n\nGenerally a good idea to not have upper caps on our dependencies.\nLets see if we can finally move forward with the newest cmd2 release.\n\nThis reverts commit af04e0c0292cbdd6db6159bbcf2723c9c9fd3b6a.\n\nChange-Id: I2f22a640d14d7a1538532b14e43417d35c2cc515\n'}, {'number': 2, 'created': '2020-03-18 20:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/50788419648205ad44453c07accc143b697ba093', 'message': 'Revert ""Apply cmd2 upper bound to python3""\n\nGenerally a good idea to not have upper caps on our dependencies.\nLets see if we can finally move forward with the newest cmd2 release.\n\nThis reverts commit af04e0c0292cbdd6db6159bbcf2723c9c9fd3b6a.\n\nChange-Id: I2f22a640d14d7a1538532b14e43417d35c2cc515\n'}, {'number': 3, 'created': '2020-06-10 20:40:23.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/79626cf57380788576724c5220c7513de363cd5b', 'message': 'Revert ""Apply cmd2 upper bound to python3""\n\nGenerally a good idea to not have upper caps on our dependencies.\nLets see if we can finally move forward with the newest cmd2 release.\n\nThis reverts commit af04e0c0292cbdd6db6159bbcf2723c9c9fd3b6a.\n\nChange-Id: I2f22a640d14d7a1538532b14e43417d35c2cc515\n'}]",1,690416,79626cf57380788576724c5220c7513de363cd5b,16,4,3,6593,,,0,"Revert ""Apply cmd2 upper bound to python3""

Generally a good idea to not have upper caps on our dependencies.
Lets see if we can finally move forward with the newest cmd2 release.

This reverts commit af04e0c0292cbdd6db6159bbcf2723c9c9fd3b6a.

Change-Id: I2f22a640d14d7a1538532b14e43417d35c2cc515
",git fetch https://review.opendev.org/openstack/requirements refs/changes/16/690416/3 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,983e956d4eb90b5fafa2421ad04f1519eb6ac095,uncap-cmd2,cmd2===0.8.9;python_version=='2.7' cmd2===0.9.19;python_version=='3.4' cmd2===0.9.19;python_version=='3.5' cmd2===0.9.19;python_version=='3.6' cmd2===0.9.19;python_version=='3.7',cmd2===0.8.9,7,3
openstack%2Frequirements~master~I5ec237ec4db95fc7c51b29cb8715e1490b3a26e5,openstack/requirements,master,I5ec237ec4db95fc7c51b29cb8715e1490b3a26e5,Updated from generate-constraints,MERGED,2020-08-10 06:27:43.000000000,2020-08-10 13:57:04.000000000,2020-08-10 13:54:07.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-10 06:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a633a5c5ed7a7fa6604d0db7a3462b6eadee0680', 'message': 'Updated from generate-constraints\n\nChange-Id: I5ec237ec4db95fc7c51b29cb8715e1490b3a26e5\n'}, {'number': 2, 'created': '2020-08-10 06:30:09.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6acca5f25d3b5b2aa44f9a42f2a76ca929841743', 'message': 'Updated from generate-constraints\n\nChange-Id: I5ec237ec4db95fc7c51b29cb8715e1490b3a26e5\n'}]",0,745479,6acca5f25d3b5b2aa44f9a42f2a76ca929841743,10,3,2,11131,,,0,"Updated from generate-constraints

Change-Id: I5ec237ec4db95fc7c51b29cb8715e1490b3a26e5
",git fetch https://review.opendev.org/openstack/requirements refs/changes/79/745479/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a633a5c5ed7a7fa6604d0db7a3462b6eadee0680,openstack/requirements/constraints/noclob,pywbem===1.0.1mock===4.0.2os-brick===3.2.1docutils===0.16ldap3===2.8sympy===1.6.2Sphinx===3.2.0PyMySQL===0.10.0pkg-resources===0.0.0,pywbem===1.0.0mock===3.0.5os-brick===3.2.0docutils===0.15.2ldap3===2.7sympy===1.6.1Sphinx===3.1.2PyMySQL===0.9.3,9,8
openstack%2Fpython-glanceclient~master~I6f0dc11d4eb7a75d29da3eb5071b156bbe46ad01,openstack/python-glanceclient,master,I6f0dc11d4eb7a75d29da3eb5071b156bbe46ad01,[goal] Migrate testing to ubuntu focal,MERGED,2020-07-30 23:06:51.000000000,2020-08-10 13:50:15.000000000,2020-08-10 13:47:59.000000000,"[{'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-30 23:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/9a04f4381f5b41ab37f544308fd449ead98fed79', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40200\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: I6f0dc11d4eb7a75d29da3eb5071b156bbe46ad01\n'}, {'number': 2, 'created': '2020-08-07 21:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/eaba5ac19a0e62f16ab4b700c6a064a92a6fbb1c', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40200\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: I6f0dc11d4eb7a75d29da3eb5071b156bbe46ad01\n'}, {'number': 3, 'created': '2020-08-07 21:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/4ce7a6e080ce24ba35a257a4f132246f86492ac1', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40200\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: I6f0dc11d4eb7a75d29da3eb5071b156bbe46ad01\n'}, {'number': 4, 'created': '2020-08-07 22:37:45.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/ff70a0df131504f543646266a49ca71a63f59410', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nStory: #2007865\nTask: #40200\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: I6f0dc11d4eb7a75d29da3eb5071b156bbe46ad01\n'}]",0,744075,ff70a0df131504f543646266a49ca71a63f59410,16,4,4,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8 support
in their later version.

Story: #2007865
Task: #40200

Closes-Bug: #1886298

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>

Change-Id: I6f0dc11d4eb7a75d29da3eb5071b156bbe46ad01
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/75/744075/4 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,9a04f4381f5b41ab37f544308fd449ead98fed79,migrate-to-focal,cffi==1.14.0PyYAML==3.13,cffi==1.7.0PyYAML==3.12,2,2
openstack%2Fmonasca-agent~master~Id0a2140ceca38e3baf0de9d28d392e6b8929d26a,openstack/monasca-agent,master,Id0a2140ceca38e3baf0de9d28d392e6b8929d26a,Convert byte-stream to 'utf-8',MERGED,2020-08-06 14:07:39.000000000,2020-08-10 13:47:18.000000000,2020-08-10 13:47:18.000000000,"[{'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 28062}]","[{'number': 1, 'created': '2020-08-06 14:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/9dfcc902f191ad1c90c67a45ce41ea2df4bf3bd5', 'message': ""Convert byte-stream to 'utf-8'\n\nChange-Id: Id0a2140ceca38e3baf0de9d28d392e6b8929d26a\nStory: 2007977\nTask: 40599\n""}, {'number': 2, 'created': '2020-08-10 12:28:09.000000000', 'files': ['monasca_agent/collector/checks_d/http_check.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/79dd8cad21d210118886a9f6a36fd4745e1c3ed2', 'message': ""Convert byte-stream to 'utf-8'\n\nChange-Id: Id0a2140ceca38e3baf0de9d28d392e6b8929d26a\nStory: 2007977\nTask: 40599\n""}]",0,745159,79dd8cad21d210118886a9f6a36fd4745e1c3ed2,9,3,2,16957,,,0,"Convert byte-stream to 'utf-8'

Change-Id: Id0a2140ceca38e3baf0de9d28d392e6b8929d26a
Story: 2007977
Task: 40599
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/59/745159/2 && git format-patch -1 --stdout FETCH_HEAD,['monasca_agent/collector/checks_d/http_check.py'],1,9dfcc902f191ad1c90c67a45ce41ea2df4bf3bd5,Python3-support," return True, content.decode('utf-8')"," return True, content",1,1
openstack%2Fmonasca-agent~master~Ia3f2c8abc87cf5551d3469d616790e8e9d567bce,openstack/monasca-agent,master,Ia3f2c8abc87cf5551d3469d616790e8e9d567bce,Use unittest.mock instead of mock,MERGED,2020-08-10 11:45:09.000000000,2020-08-10 13:44:56.000000000,2020-08-10 13:44:56.000000000,"[{'_account_id': 16957}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2020-08-10 11:45:09.000000000', 'files': ['tests/test_remove_config.py', 'tests/detection/test_cert_check.py', 'tests/detection/test_cert_file_check.py', 'tests/detection/test_process_check.py', 'tests/detection/test_ovs.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/d3cc8c1e7d8808ca3f1b4fb94c06b9c91af5f710', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ia3f2c8abc87cf5551d3469d616790e8e9d567bce\n'}]",0,745517,d3cc8c1e7d8808ca3f1b4fb94c06b9c91af5f710,7,3,1,28062,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Ia3f2c8abc87cf5551d3469d616790e8e9d567bce
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/17/745517/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_remove_config.py', 'tests/detection/test_cert_check.py', 'tests/detection/test_cert_file_check.py', 'tests/detection/test_process_check.py', 'tests/detection/test_ovs.py']",5,d3cc8c1e7d8808ca3f1b4fb94c06b9c91af5f710,drop_mock,"from unittest import mock from unittest import TestCaseclass TestOvs(TestCase): TestCase.setUp(self) with mock.patch.object(Ovs, '_detect') as mock_detect: self.get_value = [mock.MagicMock(), mock.MagicMock(), mock.MagicMock(), mock.MagicMock(), mock.MagicMock(), 'http://10.10.10.10', with mock.patch.object(cfg, 'CONF') as mock_conf, \ mock.patch.object(psutil, 'process_iter', return_value=[ps_util_get_proc()]) \ mock.patch.object(os.path, 'isfile', return_value=True) \ mock.patch.object(ovs_obj, 'dependencies_installed', return_value=True) \ mock.patch.object(ovs_obj, '_is_neutron_conf_valid', return_value=file_config_valid) as _: ovs_obj.conf = mock.MagicMock() with mock.patch.object(configparser, 'SafeConfigParser') as mock_config_parser: with mock.patch.object(cfg, 'CONF') as mock_conf, \ mock.patch.object(LOG, 'info') as mock_log_info, \ mock.patch.object(ovs_obj, 'has_option', side_effect=self.has_option) as mock_has_option, \ mock.patch.object(ovs_obj, 'get_option', side_effect=self.get_value) as mock_get: mock.MagicMock) mock.MagicMock) mock.MagicMock) mock.MagicMock) mock.MagicMock) mock.MagicMock) with mock.patch.object(utils, 'load_oslo_configuration'): with mock.patch.object(utils, 'load_oslo_configuration'): with mock.patch.object(LOG, 'info') as mock_log_warn: with mock.patch.object(utils, 'load_oslo_configuration') as mock_conf, \ mock.patch.object(psutil, 'process_iter', return_value=[ps_util_get_proc()]) as mock_process_iter, \ mock.patch.object(os.path, 'isfile', return_value=True) as mock_isfile, \ mock.patch.object(self.ovs_obj, 'dependencies_installed', return_value=True) as dependencies, \ mock.patch.object(self.ovs_obj, '_is_neutron_conf_valid', return_value=True) as _: with mock.patch.object(LOG, 'warn') as mock_log_warn: with mock.patch.object(LOG, 'warn') as mock_log_warn: self.get_value = [mock.MagicMock(), mock.MagicMock(), mock.MagicMock(), mock.MagicMock(), mock.MagicMock(), 'http://10.10.10.10', self.get_value = [mock.MagicMock(), mock.MagicMock(), mock.MagicMock(), mock.MagicMock(), mock.MagicMock(), 'http://10.10.10.10/v1', self.get_value = [mock.MagicMock(), mock.MagicMock(), mock.MagicMock(), mock.MagicMock(), mock.MagicMock(), 'http://10.10.10.10', 'region2'] with mock.patch.object(re, 'compile', side_effect=re.error('error')) as mock_re_error, \ mock.patch.object(LOG, 'exception') as mock_log:","import unittest from mock import patch from mock.mock import MagicMockclass TestOvs(unittest.TestCase): unittest.TestCase.setUp(self) with patch.object(Ovs, '_detect') as mock_detect: self.get_value = [MagicMock(), MagicMock(), MagicMock(), MagicMock(), MagicMock(), 'http://10.10.10.10', with patch.object(cfg, 'CONF') as mock_conf, \ patch.object(psutil, 'process_iter', return_value=[ps_util_get_proc()]) \ patch.object(os.path, 'isfile', return_value=True) \ patch.object(ovs_obj, 'dependencies_installed', return_value=True) \ patch.object(ovs_obj, '_is_neutron_conf_valid', return_value=file_config_valid) as _: ovs_obj.conf = MagicMock() with patch.object(configparser, 'SafeConfigParser') as mock_config_parser: with patch.object(cfg, 'CONF') as mock_conf, \ patch.object(LOG, 'info') as mock_log_info,\ patch.object(ovs_obj, 'has_option', side_effect=self.has_option) as mock_has_option, \ patch.object(ovs_obj, 'get_option', side_effect=self.get_value) as mock_get: MagicMock) MagicMock) MagicMock) MagicMock) MagicMock) MagicMock) with patch.object(utils, 'load_oslo_configuration'): with patch.object(utils, 'load_oslo_configuration'): with patch.object(LOG, 'info') as mock_log_warn: with patch.object(utils, 'load_oslo_configuration') as mock_conf, \ patch.object(psutil, 'process_iter', return_value=[ps_util_get_proc()]) as mock_process_iter, \ patch.object(os.path, 'isfile', return_value=True) as mock_isfile, \ patch.object(self.ovs_obj, 'dependencies_installed', return_value=True) as dependencies, \ patch.object(self.ovs_obj, '_is_neutron_conf_valid', return_value=True) as _: with patch.object(LOG, 'warn') as mock_log_warn: with patch.object(LOG, 'warn') as mock_log_warn: self.get_value = [MagicMock(), MagicMock(), MagicMock(), MagicMock(), MagicMock(), 'http://10.10.10.10', self.get_value = [MagicMock(), MagicMock(), MagicMock(), MagicMock(), MagicMock(), 'http://10.10.10.10/v1', self.get_value = [MagicMock(), MagicMock(), MagicMock(), MagicMock(), MagicMock(), 'http://10.10.10.10', 'region2'] with patch.object(re, 'compile', side_effect=re.error('error')) as mock_re_error, \ patch.object(LOG, 'exception') as mock_log:",63,71
openstack%2Ftripleo-ci~master~I668e21cbe6027c0ca366361e2d625fa070c54501,openstack/tripleo-ci,master,I668e21cbe6027c0ca366361e2d625fa070c54501,Add python-tempestconf files to scenario010,MERGED,2020-06-17 10:01:28.000000000,2020-08-10 13:42:18.000000000,2020-08-10 13:42:18.000000000,"[{'_account_id': 6469}, {'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2020-06-17 10:01:28.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/14c566e5b04c9b6696fd712df86ca9966ff00c78', 'message': 'Add python-tempestconf files to scenario010\n\nChange-Id: I668e21cbe6027c0ca366361e2d625fa070c54501\n'}]",0,736149,14c566e5b04c9b6696fd712df86ca9966ff00c78,15,6,1,6469,,,0,"Add python-tempestconf files to scenario010

Change-Id: I668e21cbe6027c0ca366361e2d625fa070c54501
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/49/736149/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,14c566e5b04c9b6696fd712df86ca9966ff00c78,octavia-ci, # python-tempestconf - ^config_tempest/services/octavia.*$,,2,0
openstack%2Fos-brick~master~I9d74e639bae1742964558bd06dc8ca956ecf8fb7,openstack/os-brick,master,I9d74e639bae1742964558bd06dc8ca956ecf8fb7,Remove the glusterfs connector code,ABANDONED,2020-08-07 17:27:32.000000000,2020-08-10 13:37:41.000000000,,"[{'_account_id': 4523}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 30615}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-08-07 17:27:32.000000000', 'files': ['releasenotes/notes/remove-glusterfs-f63b38a07d5942df.yaml', 'os_brick/initiator/__init__.py', 'os_brick/tests/remotefs/test_remotefs.py', 'os_brick/tests/initiator/test_connector.py', 'os_brick/remotefs/remotefs.py', 'os_brick/initiator/connector.py', 'os_brick/initiator/connectors/remotefs.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/13b9ee295019af429440834d233255a7a0887db2', 'message': 'Remove the glusterfs connector code\n\nWe dropped support for glusterfs many releases ago. This cleans up the\nos-brick code for its connector.\n\nChange-Id: I9d74e639bae1742964558bd06dc8ca956ecf8fb7\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,745380,13b9ee295019af429440834d233255a7a0887db2,20,14,1,11904,,,0,"Remove the glusterfs connector code

We dropped support for glusterfs many releases ago. This cleans up the
os-brick code for its connector.

Change-Id: I9d74e639bae1742964558bd06dc8ca956ecf8fb7
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/80/745380/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/__init__.py', 'releasenotes/notes/remove-glusterfs-f63b38a07d5942df.yaml', 'os_brick/tests/remotefs/test_remotefs.py', 'os_brick/tests/initiator/test_connector.py', 'os_brick/remotefs/remotefs.py', 'os_brick/initiator/connector.py', 'os_brick/initiator/connectors/remotefs.py']",7,13b9ee295019af429440834d233255a7a0887db2,major-bump," """"""Connector class to attach/detach NFS volumes."""""" if mount_type_lower in ('nfs', 'scality',"," """"""Connector class to attach/detach NFS and GlusterFS volumes."""""" if mount_type_lower in ('nfs', 'glusterfs', 'scality',",9,15
openstack%2Fpuppet-octavia~master~I8b52c1a2ef70463ec0bca7bf1f41f0f00becdc4f,openstack/puppet-octavia,master,I8b52c1a2ef70463ec0bca7bf1f41f0f00becdc4f,Add non-voting TripleO Octavia CI job,MERGED,2020-08-02 14:57:32.000000000,2020-08-10 13:22:02.000000000,2020-08-10 13:22:02.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-02 14:57:32.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/94ec48e057aaad089f16f5b879042baad5da1db9', 'message': 'Add non-voting TripleO Octavia CI job\n\nJob tripleo-ci-centos-8-scenario010-standalone tests a TripleO\ndeployment with Octavia enabled which heavily relies on puppet-octavia,\nproviding additional test coverage to the project.\n\nChange-Id: I8b52c1a2ef70463ec0bca7bf1f41f0f00becdc4f\n'}]",0,744377,94ec48e057aaad089f16f5b879042baad5da1db9,7,3,1,6469,,,0,"Add non-voting TripleO Octavia CI job

Job tripleo-ci-centos-8-scenario010-standalone tests a TripleO
deployment with Octavia enabled which heavily relies on puppet-octavia,
providing additional test coverage to the project.

Change-Id: I8b52c1a2ef70463ec0bca7bf1f41f0f00becdc4f
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/77/744377/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,94ec48e057aaad089f16f5b879042baad5da1db9,, check: jobs: - tripleo-ci-centos-8-scenario010-standalone: voting: false,,4,0
openstack%2Fgovernance-sigs~master~If7f47e1cb12b27f5118dcd2d16464fac10463534,openstack/governance-sigs,master,If7f47e1cb12b27f5118dcd2d16464fac10463534,Propose new Hardware Vendor SIG,MERGED,2020-08-06 16:40:53.000000000,2020-08-10 13:18:12.000000000,2020-08-10 09:03:21.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 6476}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 10250}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 13995}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 16:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/a8c995c3c9075a661129edb7ff8156f9108e38e9', 'message': 'Propose new Hardware Vendor SIG\n\nThis proposes the creation of a new SIG for those working on integration\nwith different hardware platforms. This is to enable collaboration and\nopen development for things like drivers, tooling, libraries, and any\nother needs related to specific hardware support. The hope is this will\nallow vendors to work together and share code and expertise to improve\noverall hardware support.\n\nChange-Id: If7f47e1cb12b27f5118dcd2d16464fac10463534\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-08-06 17:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/9dfc069c467b9cffce556f18b6c0da30d0e1aac8', 'message': 'Propose new Hardware Vendor SIG\n\nThis proposes the creation of a new SIG for those working on integration\nwith different hardware platforms. This is to enable collaboration and\nopen development for things like drivers, tooling, libraries, and any\nother needs related to specific hardware support. The hope is this will\nallow vendors to work together and share code and expertise to improve\noverall hardware support.\n\nChange-Id: If7f47e1cb12b27f5118dcd2d16464fac10463534\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2020-08-07 18:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/cf288542e8d78d74857e23a294f1bb679341324e', 'message': 'Propose new Hardware Vendor SIG\n\nThis proposes the creation of a new SIG for those working on integration\nwith different hardware platforms. This is to enable collaboration and\nopen development for things like drivers, tooling, libraries, and any\nother needs related to specific hardware support. The hope is this will\nallow vendors to work together and share code and expertise to improve\noverall hardware support.\n\nChange-Id: If7f47e1cb12b27f5118dcd2d16464fac10463534\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 4, 'created': '2020-08-07 19:53:43.000000000', 'files': ['sigs.yaml'], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/38a0b352b52dac7a695e9639c8f2d3db4d3a32b7', 'message': 'Propose new Hardware Vendor SIG\n\nThis proposes the creation of a new SIG for those working on integration\nwith different hardware platforms. This is to enable collaboration and\nopen development for things like drivers, tooling, libraries, and any\nother needs related to specific hardware support. The hope is this will\nallow vendors to work together and share code and expertise to improve\noverall hardware support.\n\nChange-Id: If7f47e1cb12b27f5118dcd2d16464fac10463534\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",8,745185,38a0b352b52dac7a695e9639c8f2d3db4d3a32b7,31,12,4,11904,,,0,"Propose new Hardware Vendor SIG

This proposes the creation of a new SIG for those working on integration
with different hardware platforms. This is to enable collaboration and
open development for things like drivers, tooling, libraries, and any
other needs related to specific hardware support. The hope is this will
allow vendors to work together and share code and expertise to improve
overall hardware support.

Change-Id: If7f47e1cb12b27f5118dcd2d16464fac10463534
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/governance-sigs refs/changes/85/745185/4 && git format-patch -1 --stdout FETCH_HEAD,['sigs.yaml'],1,a8c995c3c9075a661129edb7ff8156f9108e38e9,hardware-vendor-sig,"Hardware Vendor: chairs: - name: Sean McGinnis irc: smcginnis email: sean.mcginnis@gmail.com - name: Jay Bryant irc: jungleboyj email: jsbryant@electronicjungle.net scope: > The goals of this SIG are to provide a place where vendors, and those interested in vendor specific things like drivers and supporting libs, can work together and collaborate openly to enable OpenStack services to integrate and work well on various hardware platforms. ",,14,0
openstack%2Ftripleo-ansible~stable%2Fussuri~I575d67521719ae3908777284b4225eff5169ae6b,openstack/tripleo-ansible,stable/ussuri,I575d67521719ae3908777284b4225eff5169ae6b,Set the OpenFlow protocol while upgrading OVS from 2.11,MERGED,2020-08-07 07:15:29.000000000,2020-08-10 13:11:06.000000000,2020-08-10 13:11:06.000000000,"[{'_account_id': 6681}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24791}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-08-07 07:15:29.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_ovs_upgrade.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b83126b21e6c651921c6051aac37fb6d760ff5b2', 'message': 'Set the OpenFlow protocol while upgrading OVS from 2.11\n\nWe noticed a bug in OSP that OVN controller (2.13) was unable to\ncontact to OVS bridge (2.11).\nBefore running the update we should set the OpenFlow protocols on\nintegration bridge (br-int).\n\nMore about the issue [1].\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1843811\n\nChange-Id: I575d67521719ae3908777284b4225eff5169ae6b\n(cherry picked from commit 29993d43b3a884fab35284fc2c56515400036e1f)\n'}]",0,745295,b83126b21e6c651921c6051aac37fb6d760ff5b2,14,5,1,24791,,,0,"Set the OpenFlow protocol while upgrading OVS from 2.11

We noticed a bug in OSP that OVN controller (2.13) was unable to
contact to OVS bridge (2.11).
Before running the update we should set the OpenFlow protocols on
integration bridge (br-int).

More about the issue [1].

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1843811

Change-Id: I575d67521719ae3908777284b4225eff5169ae6b
(cherry picked from commit 29993d43b3a884fab35284fc2c56515400036e1f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/95/745295/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_ovs_upgrade.py'],1,b83126b21e6c651921c6051aac37fb6d760ff5b2,test_tripleo_ovs_upgrade-stable/ussuri,"from ansible.module_utils._text import to_nativedef set_openflow_version_on_bridges(module, bridges=None): if bridges is None: bridges = ['br-int'] for bridge in bridges: cmd = ['ovs-vsctl', 'set', 'bridge', bridge, 'protocols=OpenFlow13,OpenFlow15'] rc, out, err = module.run_command(cmd) if rc != 0: module.warn('Cannot set OpenFlow13 and OpenFlow15 ' 'protocol on a bridge: %s: %s.' % (bridge, to_native(err))) # NOTE(mjozefcz): Workaround for bz1863024. if '2.11' == flatten_version(ovs_current_version, join_str='.'): set_openflow_version_on_bridges(module)",,17,0
openstack%2Fkolla-ansible~master~I056f3eebcf87bcbaaf89fdd0dc1f46d143db7785,openstack/kolla-ansible,master,I056f3eebcf87bcbaaf89fdd0dc1f46d143db7785,Fix Barbican client (Castellan) with TLS (part 2),MERGED,2020-08-07 13:17:13.000000000,2020-08-10 12:58:47.000000000,2020-08-10 11:55:40.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-07 13:17:13.000000000', 'files': ['ansible/roles/nova-cell/templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/97e26b49cdb7962a1dc6f1a236a0c565ccba0d77', 'message': 'Fix Barbican client (Castellan) with TLS (part 2)\n\nThis patch is a continuation of\nI6a174468bd91d214c08477b93c88032a45c137be for the nova-cell role, which\nwas missed.\n\nThe Castellan (Barbican client) has different parameters to control\nthe used CA file.\nThis patch uses them.\nMoreover, this aligns Barbican with other services by defaulting\nits client config to the internal endpoint.\n\nSee also [1].\n\n[1] https://bugs.launchpad.net/castellan/+bug/1876102\n\nCloses-Bug: #1886615\n\nChange-Id: I056f3eebcf87bcbaaf89fdd0dc1f46d143db7785\n'}]",0,745324,97e26b49cdb7962a1dc6f1a236a0c565ccba0d77,11,4,1,14826,,,0,"Fix Barbican client (Castellan) with TLS (part 2)

This patch is a continuation of
I6a174468bd91d214c08477b93c88032a45c137be for the nova-cell role, which
was missed.

The Castellan (Barbican client) has different parameters to control
the used CA file.
This patch uses them.
Moreover, this aligns Barbican with other services by defaulting
its client config to the internal endpoint.

See also [1].

[1] https://bugs.launchpad.net/castellan/+bug/1876102

Closes-Bug: #1886615

Change-Id: I056f3eebcf87bcbaaf89fdd0dc1f46d143db7785
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/24/745324/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova-cell/templates/nova.conf.j2'],1,97e26b49cdb7962a1dc6f1a236a0c565ccba0d77,bug/1886615,barbican_endpoint_type = internal verify_ssl_path = {{ openstack_cacert }},cafile = {{ openstack_cacert }},2,1
openstack%2Fproject-config~master~I83cff14f19a829b5e56771442ffb3a0341e82d69,openstack/project-config,master,I83cff14f19a829b5e56771442ffb3a0341e82d69,[maintain-github-mirror] Skip abandoned gov files,MERGED,2020-08-10 09:14:07.000000000,2020-08-10 12:58:46.000000000,2020-08-10 12:58:46.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-10 09:14:07.000000000', 'files': ['playbooks/maintain-github-mirror/github_manager.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0f12fa2d5a0e460f1022b9c0f52d326ccc0f620f', 'message': '[maintain-github-mirror] Skip abandoned gov files\n\nFollowing the deletion of the foundation-board-repos.yaml file,\nthe script failed as it was expecting it.\n\nRemove that file from the scanned list, and make the script more\nresilient in case other extra files go missing in the future (like\nuser-committee.yaml which should soon be cleaned up).\n\nChange-Id: I83cff14f19a829b5e56771442ffb3a0341e82d69\n'}]",1,745504,0f12fa2d5a0e460f1022b9c0f52d326ccc0f620f,8,4,1,308,,,0,"[maintain-github-mirror] Skip abandoned gov files

Following the deletion of the foundation-board-repos.yaml file,
the script failed as it was expecting it.

Remove that file from the scanned list, and make the script more
resilient in case other extra files go missing in the future (like
user-committee.yaml which should soon be cleaned up).

Change-Id: I83cff14f19a829b5e56771442ffb3a0341e82d69
",git fetch https://review.opendev.org/openstack/project-config refs/changes/04/745504/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/maintain-github-mirror/github_manager.py'],1,0f12fa2d5a0e460f1022b9c0f52d326ccc0f620f,fix-gh-manager, if not os.path.exists(yaml_filename): print(f'Skipping {extrafile} as it no longer exists') continue," 'foundation-board-repos.yaml',",3,1
openstack%2Ftripleo-operator-ansible~master~Idf77ea052c783cfdbd74c8b6e4b3064c4b94b968,openstack/tripleo-operator-ansible,master,Idf77ea052c783cfdbd74c8b6e4b3064c4b94b968,Add --skip-ipa-cleanup to overcloud delete,MERGED,2020-08-04 13:42:38.000000000,2020-08-10 12:49:43.000000000,2020-08-10 12:49:43.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-04 13:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/1e82b63d70c2a8b42a4ba182affcb02e452bef8a', 'message': ""Add --skip-ipa-cleanup to overcloud delete\n\nThe IPA cleanup bits may fail if the stack is in a bad state or IPA\nwasn't used. We need to add the flag to allow a user to skip this\naction.\n\nChange-Id: Idf77ea052c783cfdbd74c8b6e4b3064c4b94b968\n""}, {'number': 2, 'created': '2020-08-04 14:22:34.000000000', 'files': ['roles/tripleo_overcloud_delete/defaults/main.yml', 'roles/tripleo_overcloud_delete/molecule/default/converge.yml', 'roles/tripleo_overcloud_delete/tasks/main.yml', 'roles/tripleo_overcloud_delete/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/e510b61b0bfe3f112b47ef18a46cfd8ccdc4e6d3', 'message': ""Add --skip-ipa-cleanup to overcloud delete\n\nThe IPA cleanup bits may fail if the stack is in a bad state or IPA\nwasn't used. We need to add the flag to allow a user to skip this\naction.\n\nChange-Id: Idf77ea052c783cfdbd74c8b6e4b3064c4b94b968\n""}]",0,744709,e510b61b0bfe3f112b47ef18a46cfd8ccdc4e6d3,11,4,2,14985,,,0,"Add --skip-ipa-cleanup to overcloud delete

The IPA cleanup bits may fail if the stack is in a bad state or IPA
wasn't used. We need to add the flag to allow a user to skip this
action.

Change-Id: Idf77ea052c783cfdbd74c8b6e4b3064c4b94b968
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/09/744709/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_delete/defaults/main.yml', 'roles/tripleo_overcloud_delete/tasks/main.yml', 'roles/tripleo_overcloud_delete/README.md']",3,1e82b63d70c2a8b42a4ba182affcb02e452bef8a,skip-ipa,* `tripleo_overcloud_delete_skip_ipa_cleanup`: (Boolean) Skip IPA cleanup actions during overcloud removal. Default: false,,3,0
openstack%2Ftripleo-ansible~master~Ib0d52c68245af9cbc579126920cca07a2db102ac,openstack/tripleo-ansible,master,Ib0d52c68245af9cbc579126920cca07a2db102ac,helpers: fix pep8 issues,MERGED,2020-07-31 15:04:35.000000000,2020-08-10 12:33:28.000000000,2020-07-31 23:01:11.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-31 15:04:35.000000000', 'files': ['tripleo_ansible/ansible_plugins/filter/helpers.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a671a7c7e1fec6953c23bac6b60bae88ea613ce9', 'message': 'helpers: fix pep8 issues\n\nFix some pep8 issues with too-long lines in our filters.\n\nChange-Id: Ib0d52c68245af9cbc579126920cca07a2db102ac\n'}]",0,744193,a671a7c7e1fec6953c23bac6b60bae88ea613ce9,9,4,1,3153,,,0,"helpers: fix pep8 issues

Fix some pep8 issues with too-long lines in our filters.

Change-Id: Ib0d52c68245af9cbc579126920cca07a2db102ac
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/93/744193/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/filter/helpers.py'],1,a671a7c7e1fec6953c23bac6b60bae88ea613ce9,pep8," def get_filtered_role_resources(service_chain_resources, tripleo_resources): capabilities_dict = dict( [key.strip().split(':', 1) for key in caps.split(',')]) capabilities_dict = dict( [key.strip().split(':', 1) for key in caps.split(',')])"," def get_filtered_role_resources(service_chain_resources, tripleo_resources): capabilities_dict = dict([key.strip().split(':', 1) for key in caps.split(',')]) capabilities_dict = dict([key.strip().split(':', 1) for key in caps.split(',')])",6,3
openstack%2Fkuryr-kubernetes~master~I59d41026825a3dd19edf4b9f172ccdfcbac8d08e,openstack/kuryr-kubernetes,master,I59d41026825a3dd19edf4b9f172ccdfcbac8d08e,Upgrade ovn version on the gates,MERGED,2020-07-22 10:22:17.000000000,2020-08-10 12:32:48.000000000,2020-08-10 12:29:34.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24604}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-07-22 10:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9f7e306c75ae268e7233808380f2ab6d4e345121', 'message': 'DNM: Upgrade ovn version on the gates\n\nThis commit upgrades core OVN version on the gates\nto help with the etcd issues reported.\n\nChange-Id: I59d41026825a3dd19edf4b9f172ccdfcbac8d08e\n'}, {'number': 2, 'created': '2020-08-06 07:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fa2d725d5e77ad2a776cca4d2e9dc2fbef80d215', 'message': 'Upgrade ovn version on the gates\n\nThis commit upgrades core OVN version on the gates\nto include fixes added in the newer release.\n\nChange-Id: I59d41026825a3dd19edf4b9f172ccdfcbac8d08e\n'}, {'number': 3, 'created': '2020-08-10 08:53:42.000000000', 'files': ['.zuul.d/sdn.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ddb589531168090d22d663ab71048ef26bbff933', 'message': 'Upgrade ovn version on the gates\n\nThis commit upgrades core OVN version on the gates\nto include fixes added in the newer release.\n\nChange-Id: I59d41026825a3dd19edf4b9f172ccdfcbac8d08e\n'}]",0,742384,ddb589531168090d22d663ab71048ef26bbff933,17,6,3,27032,,,0,"Upgrade ovn version on the gates

This commit upgrades core OVN version on the gates
to include fixes added in the newer release.

Change-Id: I59d41026825a3dd19edf4b9f172ccdfcbac8d08e
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/84/742384/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/sdn.yaml'],1,9f7e306c75ae268e7233808380f2ab6d4e345121,upgrade-ovn-version, OVN_BRANCH: branch-20.06 OVN_BRANCH: branch-20.06, OVN_BRANCH: branch-20.03 OVN_BRANCH: branch-20.03,2,2
openstack%2Freleases~master~Id68796065bd287fb0b65a1b5bf62a9910689b813,openstack/releases,master,Id68796065bd287fb0b65a1b5bf62a9910689b813,Release sushy-tools 0.12.0 for Victoria,MERGED,2020-08-07 13:37:12.000000000,2020-08-10 12:19:43.000000000,2020-08-10 12:19:43.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 13:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/669d43b327eff28daa69f5da8b4a9b24a7af4970', 'message': 'Release sushy-tools 0.11.2 for Victoria\n\nChange-Id: Id68796065bd287fb0b65a1b5bf62a9910689b813\n'}, {'number': 2, 'created': '2020-08-07 14:04:47.000000000', 'files': ['deliverables/_independent/sushy-tools.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3ccffee6b6213490de8f91a60d7986d8ddcd3b43', 'message': 'Release sushy-tools 0.12.0 for Victoria\n\nChange-Id: Id68796065bd287fb0b65a1b5bf62a9910689b813\n'}]",0,745329,3ccffee6b6213490de8f91a60d7986d8ddcd3b43,13,4,2,23851,,,0,"Release sushy-tools 0.12.0 for Victoria

Change-Id: Id68796065bd287fb0b65a1b5bf62a9910689b813
",git fetch https://review.opendev.org/openstack/releases refs/changes/29/745329/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/sushy-tools.yaml'],1,669d43b327eff28daa69f5da8b4a9b24a7af4970,sushy-tools-0120, - version: 0.11.2 projects: - repo: openstack/sushy-tools hash: c5b99058b2359983f8e1846a2d80be48bc72fae5,,4,0
openstack%2Freleases~master~I8759aae230d0abefbf9555b8c42e29eb3560e5ce,openstack/releases,master,I8759aae230d0abefbf9555b8c42e29eb3560e5ce,Release ironic-python-agent 6.1.1 for ussuri,MERGED,2020-07-23 14:10:18.000000000,2020-08-10 12:19:42.000000000,2020-08-10 12:19:42.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-23 14:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/47d5afc38346b4d86cf4323b7a93858e754f72ca', 'message': 'Release ironic-python-agent 6.1.1 for ussuri\n\nChange-Id: I8759aae230d0abefbf9555b8c42e29eb3560e5ce\n'}, {'number': 2, 'created': '2020-08-04 13:58:25.000000000', 'files': ['deliverables/ussuri/ironic-python-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/57a618d7d572650fde10e5116921941c43ace106', 'message': 'Release ironic-python-agent 6.1.1 for ussuri\n\nChange-Id: I8759aae230d0abefbf9555b8c42e29eb3560e5ce\n'}]",0,742680,57a618d7d572650fde10e5116921941c43ace106,12,7,2,23851,,,0,"Release ironic-python-agent 6.1.1 for ussuri

Change-Id: I8759aae230d0abefbf9555b8c42e29eb3560e5ce
",git fetch https://review.opendev.org/openstack/releases refs/changes/80/742680/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/ironic-python-agent.yaml'],1,47d5afc38346b4d86cf4323b7a93858e754f72ca,ironic-python-agent-ussuri-611, - version: 6.1.1 projects: - repo: openstack/ironic-python-agent hash: 056e97039c0628e476d4cdd8aa7aa17601b36737,,4,0
openstack%2Fopenstack-tempest-skiplist~master~I5349360b9136b841ade1696e582b82080a242711,openstack/openstack-tempest-skiplist,master,I5349360b9136b841ade1696e582b82080a242711,Adding ironic chassis_node_list test to skiplist.,MERGED,2020-08-05 10:41:31.000000000,2020-08-10 12:10:39.000000000,2020-08-10 12:09:28.000000000,"[{'_account_id': 8367}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 24162}, {'_account_id': 30750}]","[{'number': 1, 'created': '2020-08-05 10:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/2b45ef478f7e645b8c0c0c1ea81ef7ba8536f540', 'message': 'Adding ironic chessis_node_list test to skiplist.\n\nironic_tempest_plugin.tests.api.admin.test_chassis.TestChassis.test_chassis_node_list\ntest is failing while ironic tests run against tripleo.\n\nChange-Id: I5349360b9136b841ade1696e582b82080a242711\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 2, 'created': '2020-08-05 12:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/dd8acba700c19326543b4530e2c77731eb6dbfda', 'message': 'Adding ironic chessis_node_list test to skiplist.\n\nironic_tempest_plugin.tests.api.admin.test_chassis.TestChassis.test_chassis_node_list\ntest is failing while ironic tests run against tripleo.\n\nChange-Id: I5349360b9136b841ade1696e582b82080a242711\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 3, 'created': '2020-08-05 12:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/2aac756e42fc9a4f599999a77b676c263f03e711', 'message': 'Adding ironic chessis_node_list test to skiplist.\n\nironic_tempest_plugin.tests.api.admin.test_chassis.TestChassis.test_chassis_node_list\ntest is failing while ironic tests run against tripleo.\n\nChange-Id: I5349360b9136b841ade1696e582b82080a242711\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 4, 'created': '2020-08-05 12:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/923edb0ac1843ba6916e60569b14140fb849e78c', 'message': 'Adding ironic chessis_node_list test to skiplist.\n\nironic_tempest_plugin.tests.api.admin.test_chassis.TestChassis.test_chassis_node_list\ntest is failing while ironic tests run against tripleo.\n\nRelated-Bug: #1890424\n\nChange-Id: I5349360b9136b841ade1696e582b82080a242711\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 5, 'created': '2020-08-07 14:33:18.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/bca4f7eb6c761bf8cabffcb2b3b8eb85bc00ab6a', 'message': 'Adding ironic chassis_node_list test to skiplist.\n\nironic_tempest_plugin.tests.api.admin.test_chassis.TestChassis.test_chassis_node_list\ntest is failing while ironic tests run against tripleo.\n\nRelated-Bug: #1890424\n\nChange-Id: I5349360b9136b841ade1696e582b82080a242711\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}]",4,744882,bca4f7eb6c761bf8cabffcb2b3b8eb85bc00ab6a,20,6,5,30750,,,0,"Adding ironic chassis_node_list test to skiplist.

ironic_tempest_plugin.tests.api.admin.test_chassis.TestChassis.test_chassis_node_list
test is failing while ironic tests run against tripleo.

Related-Bug: #1890424

Change-Id: I5349360b9136b841ade1696e582b82080a242711
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/82/744882/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip_master.yml'],1,2b45ef478f7e645b8c0c0c1ea81ef7ba8536f540,baremetal_resources, - test: 'ironic_tempest_plugin.tests.api.admin.test_chassis.TestChassis.test_chassis_node_list' reason: 'No valid host was found. Reason: No conductor service registered which supports driver fake-hardware for conductor group' lp: 'https://bugs.launchpad.net/tripleo/+bug/1890424',,3,0
openstack%2Ftap-as-a-service~master~I1544bd93e1d861b89615079e7cc9d570600674bc,openstack/tap-as-a-service,master,I1544bd93e1d861b89615079e7cc9d570600674bc,Enable doc building job,MERGED,2020-04-22 14:51:20.000000000,2020-08-10 12:00:31.000000000,2020-08-10 12:00:30.000000000,"[{'_account_id': 6547}, {'_account_id': 6854}, {'_account_id': 8313}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 25380}, {'_account_id': 27589}]","[{'number': 1, 'created': '2020-04-22 14:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/d1d9f43c028e0eb8d498fe2996e07f5686be684a', 'message': 'Enable doc building job\n\nChange-Id: I1544bd93e1d861b89615079e7cc9d570600674bc\n'}, {'number': 2, 'created': '2020-04-23 10:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/c3461a9bf3941b7440a1f6dbcdbdfb9cec639974', 'message': 'Enable doc building job\n\nAdd docs job to .zuul.yaml and make tox -edocs target working again.\n\nChange-Id: I1544bd93e1d861b89615079e7cc9d570600674bc\n'}, {'number': 3, 'created': '2020-05-21 12:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/8207a72d9e8f49833ce4c9a1285d12f1dfda0349', 'message': 'Enable doc building job\n\nAdd docs job to .zuul.yaml and make tox -edocs target working again.\n\nChange-Id: I1544bd93e1d861b89615079e7cc9d570600674bc\n'}, {'number': 4, 'created': '2020-05-21 14:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/312b3f8243418fa42e47389576970c1be4878a93', 'message': 'Enable doc building job\n\nAdd docs job to .zuul.yaml and make tox -edocs target working again.\n\nChange-Id: I1544bd93e1d861b89615079e7cc9d570600674bc\n'}, {'number': 5, 'created': '2020-05-25 09:38:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/c6b4afefeb97312620fbd83730ea2c33f47fabf2', 'message': 'Enable doc building job\n\nAdd docs job to .zuul.yaml and make tox -edocs target working again.\n\nChange-Id: I1544bd93e1d861b89615079e7cc9d570600674bc\n'}, {'number': 6, 'created': '2020-08-10 09:30:08.000000000', 'files': ['specs/mitaka/tap-as-a-service.rst', 'test-requirements.txt', '.zuul.yaml', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/5c776ddfa9a27bdf8eaa8c12c24e4150310a86ac', 'message': 'Enable doc building job\n\nAdd docs job to .zuul.yaml and make tox -edocs target working again.\n\nChange-Id: I1544bd93e1d861b89615079e7cc9d570600674bc\n'}]",4,721994,5c776ddfa9a27bdf8eaa8c12c24e4150310a86ac,26,7,6,8313,,,0,"Enable doc building job

Add docs job to .zuul.yaml and make tox -edocs target working again.

Change-Id: I1544bd93e1d861b89615079e7cc9d570600674bc
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/94/721994/5 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d1d9f43c028e0eb8d498fe2996e07f5686be684a,docs, - publish-openstack-docs-pti,,1,0
openstack%2Ftripleo-upgrade~stable%2Fussuri~Ide724e398a5cd4fdaf77d1a127e9d5c32852ae6b,openstack/tripleo-upgrade,stable/ussuri,Ide724e398a5cd4fdaf77d1a127e9d5c32852ae6b,Keep ceph-ansible 3 during whole FFU.,MERGED,2020-08-10 09:13:22.000000000,2020-08-10 11:38:17.000000000,2020-08-10 11:38:17.000000000,"[{'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-10 09:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6df410929175f76d606484b68960ea4af8d2eb61', 'message': 'Keep ceph-ansible 3 during whole FFU.\n\nTo be able to FFU a ceph-enabled environment, it is required to\nkeep installed in the system ceph-ansible 3 in the Undercloud until the\nconverge step.\n\nThis patch adds the ceph-ansible package in the to_keep files, as well as\nmodifies some of the Undercloud upgrade tasks to make sure the package\nsurvives to the leapp upgrade.\n\nCo-Authored-By: Jesse Pretorius <jesse@odyssey4.me>\nChange-Id: Ide724e398a5cd4fdaf77d1a127e9d5c32852ae6b\n(cherry picked from commit d43cfabd5163c9c50aac21caccd3b4f6858cc72b)\n'}, {'number': 2, 'created': '2020-08-10 09:13:23.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a098a472e5a675877861ea75d51865324e219597', 'message': 'Keep ceph-ansible 3 during whole FFU.\n\nTo be able to FFU a ceph-enabled environment, it is required to\nkeep installed in the system ceph-ansible 3 in the Undercloud until the\nconverge step.\n\nThis patch adds the ceph-ansible package in the to_keep files, as well as\nmodifies some of the Undercloud upgrade tasks to make sure the package\nsurvives to the leapp upgrade.\n\nCo-Authored-By: Jesse Pretorius <jesse@odyssey4.me>\nChange-Id: Ide724e398a5cd4fdaf77d1a127e9d5c32852ae6b\n(cherry picked from commit d43cfabd5163c9c50aac21caccd3b4f6858cc72b)\n'}]",0,745502,a098a472e5a675877861ea75d51865324e219597,7,4,2,6816,,,0,"Keep ceph-ansible 3 during whole FFU.

To be able to FFU a ceph-enabled environment, it is required to
keep installed in the system ceph-ansible 3 in the Undercloud until the
converge step.

This patch adds the ceph-ansible package in the to_keep files, as well as
modifies some of the Undercloud upgrade tasks to make sure the package
survives to the leapp upgrade.

Co-Authored-By: Jesse Pretorius <jesse@odyssey4.me>
Change-Id: Ide724e398a5cd4fdaf77d1a127e9d5c32852ae6b
(cherry picked from commit d43cfabd5163c9c50aac21caccd3b4f6858cc72b)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/02/745502/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,6df410929175f76d606484b68960ea4af8d2eb61,," -python-httplib2 -python-passlib -python2-netaddr -ceph-ansible - name: ""Add packages into leapp's to_remove/to_install/to_keep files"" - file: 'to_remove' package: 'openvswitch2.11' - file: 'to_install' package: 'openvswitch2.13' - file: 'to_keep' package: 'ceph-ansible' yum repolist -q 2> /dev/null | grep -e rhos-16 -e 'rhel-8.*baseos' -e 'rhel-8.*appstream' -e 'rhel-8.*fdp' -e 'rhel-8.*av' -e 'ansible' | cut -d '/' -f1 | \- name: Relabel SELinux for filesystem after reboot. file: path: /.autorelabel state: touch ","- name: Add openvswitch into leapp's to_remove/to_install files - {file: 'to_remove', package: 'openvswitch2.11'} - {file: 'to_install', package: 'openvswitch2.13'} yum repolist -q 2> /dev/null | grep -e rhos-16 -e 'rhel-8.*baseos' -e 'rhel-8.*appstream' -e 'rhel-8.*fdp' -e 'rhel-8.*av' -e 'ceph-4' | cut -d '/' -f1 | \",18,4
openstack%2Ftripleo-upgrade~stable%2Ftrain~Id7cca3e4f819c2dfdb3947c8c3522d98d03b5a86,openstack/tripleo-upgrade,stable/train,Id7cca3e4f819c2dfdb3947c8c3522d98d03b5a86,Remove any python3 package before UC leapp.,MERGED,2020-08-04 07:04:18.000000000,2020-08-10 11:38:17.000000000,2020-08-10 11:38:16.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 27978}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-04 07:04:18.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ada8fdef5aa3611b8375758befdf357e4f3ab38f', 'message': 'Remove any python3 package before UC leapp.\n\nThe Tobiko package installas python3-devel which enters in\nconflict during the leapp upgrade procedure. This change removes any\npython3 package before running leapp.\n\nChange-Id: Id7cca3e4f819c2dfdb3947c8c3522d98d03b5a86\n(cherry picked from commit e121bd00cd2149da1ad77f14631e6b1125c8f735)\n(cherry picked from commit 2ef35a298456874138445af46e9dafce010e15e6)\n'}]",0,744653,ada8fdef5aa3611b8375758befdf357e4f3ab38f,10,6,1,26343,,,0,"Remove any python3 package before UC leapp.

The Tobiko package installas python3-devel which enters in
conflict during the leapp upgrade procedure. This change removes any
python3 package before running leapp.

Change-Id: Id7cca3e4f819c2dfdb3947c8c3522d98d03b5a86
(cherry picked from commit e121bd00cd2149da1ad77f14631e6b1125c8f735)
(cherry picked from commit 2ef35a298456874138445af46e9dafce010e15e6)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/53/744653/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,ada8fdef5aa3611b8375758befdf357e4f3ab38f,, python3*,,1,0
openstack%2Ftripleo-upgrade~stable%2Ftrain~I7c5b81545d56fabd021a306a549485e46a785241,openstack/tripleo-upgrade,stable/train,I7c5b81545d56fabd021a306a549485e46a785241,Remove skip ceph-validations and --playbook for system_upgrade.,MERGED,2020-08-05 17:55:59.000000000,2020-08-10 11:18:32.000000000,2020-08-10 11:18:31.000000000,"[{'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-05 17:55:59.000000000', 'files': ['templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0bd6bc987a72be4e6c3ff152b40884937b08da6f', 'message': ""Remove skip ceph-validations and --playbook for system_upgrade.\n\nNow that the ceph-systemd validations are fixed, we don't need\nto add all the skip ceph validations when running the ceph_systemd\nstep. Also, for [0] to take action, we need to run all playbooks\nso the noout/nobalance params are executed in the\npost_upgrades_steps_playbook.yaml. Therefore, the --playbook option\nis removed from the system_upgrade step.\n\n[0] - Ib10b6ad50e1052fe69640b39a173e856a426d607\n\nChange-Id: I7c5b81545d56fabd021a306a549485e46a785241\n""}]",0,744960,0bd6bc987a72be4e6c3ff152b40884937b08da6f,6,2,1,11166,,,0,"Remove skip ceph-validations and --playbook for system_upgrade.

Now that the ceph-systemd validations are fixed, we don't need
to add all the skip ceph validations when running the ceph_systemd
step. Also, for [0] to take action, we need to run all playbooks
so the noout/nobalance params are executed in the
post_upgrades_steps_playbook.yaml. Therefore, the --playbook option
is removed from the system_upgrade step.

[0] - Ib10b6ad50e1052fe69640b39a173e856a426d607

Change-Id: I7c5b81545d56fabd021a306a549485e46a785241
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/60/744960/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2'],1,0bd6bc987a72be4e6c3ff152b40884937b08da6f,ffwd-upgrade2-stable/train,," --skip-tags validation,opendev-validation-ceph,opendev-validation \ --playbook upgrade_steps_playbook.yaml \",0,2
openstack%2Ftripleo-quickstart~master~Ic17bf6e69b1620bdcca339f436e1399b29c0437e,openstack/tripleo-quickstart,master,Ic17bf6e69b1620bdcca339f436e1399b29c0437e,Switch Standalone environment to centos8,MERGED,2020-07-30 07:07:50.000000000,2020-08-10 11:17:30.000000000,2020-08-10 11:16:20.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-30 07:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d03370bf5aeb81bbc3c675dcb15c59195c8d8dbb', 'message': '[WIP] Switch Standalone environment to centos8\n\nAlso add some os tempest options to fs052.\n\nCloses-Bug: #1889219\nDepends-On: https://review.opendev.org/#/c/743916/\nChange-Id: Ic17bf6e69b1620bdcca339f436e1399b29c0437e\n'}, {'number': 2, 'created': '2020-07-30 11:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2074353a84e2b9cb05db693e8c6411b738f88b15', 'message': '[WIP] Switch Standalone environment to centos8\n\nAlso add some os tempest options to fs052 and update\nrelease file for container builds.\n\nCloses-Bug: #1889219\nDepends-On: https://review.opendev.org/#/c/743916/\nChange-Id: Ic17bf6e69b1620bdcca339f436e1399b29c0437e\n'}, {'number': 3, 'created': '2020-07-30 11:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c1cafcf68de1adf6eef1378ed1aeac7d705bfc02', 'message': '[WIP] Switch Standalone environment to centos8\n\nAlso add some os tempest options to fs052 and update\nrelease file for container builds.\n\nCloses-Bug: #1889219\nDepends-On: https://review.opendev.org/#/c/743916/\nChange-Id: Ic17bf6e69b1620bdcca339f436e1399b29c0437e\n'}, {'number': 4, 'created': '2020-08-04 07:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5d5d850f9ebc4f384d519ece795ba09dce6eea0e', 'message': '[WIP] Switch Standalone environment to centos8\n\nAlso add some os tempest options to fs052 and update\nrelease file for container builds.\n\nCloses-Bug: #1889219\nDepends-On: I67d37134372f9d71e4a5fc82740051b98cfdf3e1\nChange-Id: Ic17bf6e69b1620bdcca339f436e1399b29c0437e\n'}, {'number': 5, 'created': '2020-08-04 11:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e23fd7689676df721f95abe787433bf8ee81b0c7', 'message': '[WIP] Switch Standalone environment to centos8\n\nAlso add some os tempest options to fs052 and update\nrelease file for container builds.\n\nCloses-Bug: #1889219\nDepends-On: I67d37134372f9d71e4a5fc82740051b98cfdf3e1\nChange-Id: Ic17bf6e69b1620bdcca339f436e1399b29c0437e\n'}, {'number': 6, 'created': '2020-08-05 09:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0e1c421322d5e8b7b2d50d8ce3d85898abcd0b9b', 'message': ""Switch Standalone environment to centos8\n\nFollowing changes are done with this patch:-\n- Ussuri+ releases are CentOS8 only, switch the standalone\nenvironment settings to reflect the same.\n- Add some os tempest options in standalone environment\nfile to get tempest run with it.\n- Enable repo setup on virthost it will be needed to get\nrepos needed by DLRN run.\n- Add settings to not prepare overcloud nodes as standalone\ndeploy doesn't need those.\n- Also add some vars required for standalone deployment.\n\nThis environment file will be used to test standalone\ndeployments on ci.centos.org.\n\nCloses-Bug: #1889219\nDepends-On: I87a0214a344a9b23dd267e412a37b2abe0eb0571\nChange-Id: Ic17bf6e69b1620bdcca339f436e1399b29c0437e\n""}, {'number': 7, 'created': '2020-08-06 05:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dd803ffab8058ab463cebf571a6cbab0f1444c88', 'message': ""Switch Standalone environment to centos8\n\nFollowing changes are done with this patch:-\n- Ussuri+ releases are CentOS8 only, switch the standalone\nenvironment settings to reflect the same.\n- Add some os tempest options in standalone environment\nfile to get tempest run with it.\n- Enable repo setup on virthost it will be needed to get\nrepos needed by DLRN run.\n- Add settings to not prepare overcloud nodes as standalone\ndeploy doesn't need those.\n- Also add some vars required for standalone deployment.\n\nThis environment file will be used to test standalone\ndeployments on ci.centos.org.\n\nCloses-Bug: #1889219\nDepends-On: I87a0214a344a9b23dd267e412a37b2abe0eb0571\nChange-Id: Ic17bf6e69b1620bdcca339f436e1399b29c0437e\n""}, {'number': 8, 'created': '2020-08-06 05:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2ac5748c5c71aedcb35ff0e9d286fc48bd4ee9f4', 'message': ""Switch Standalone environment to centos8\n\nFollowing changes are done with this patch:-\n- Ussuri+ releases are CentOS8 only, switch the standalone\nenvironment settings to reflect the same.\n- Add some os tempest options in standalone environment\nfile to get tempest run with it.\n- Enable repo setup on virthost it will be needed to get\nrepos needed by DLRN run.\n- Add settings to not prepare overcloud nodes as standalone\ndeploy doesn't need those.\n- Also add some vars required for standalone deployment.\n\nThis environment file will be used to test standalone\ndeployments on ci.centos.org.\n\nCloses-Bug: #1889219\nDepends-On: I87a0214a344a9b23dd267e412a37b2abe0eb0571\nChange-Id: Ic17bf6e69b1620bdcca339f436e1399b29c0437e\n""}, {'number': 9, 'created': '2020-08-06 05:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fd010b945fc5335fd02b4795c8903fde3414eeab', 'message': ""Switch Standalone environment to centos8\n\nFollowing changes are done with this patch:-\n- Ussuri+ releases are CentOS8 only, switch the standalone\nenvironment settings to reflect the same.\n- Add some os tempest options in standalone environment\nfile to get tempest run with it.\n- Enable repo setup on virthost it will be needed to get\nrepos needed by DLRN run.\n- Add settings to not prepare overcloud nodes as standalone\ndeploy doesn't need those.\n- Also add some vars required for standalone deployment.\n\nThis environment file will be used to test standalone\ndeployments on ci.centos.org.\n\nCloses-Bug: #1889219\nDepends-On: I87a0214a344a9b23dd267e412a37b2abe0eb0571\nChange-Id: Ic17bf6e69b1620bdcca339f436e1399b29c0437e\n""}, {'number': 10, 'created': '2020-08-07 12:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/82f94a5dce5ac0f2565c6e58ec98767a885731ad', 'message': ""Switch Standalone environment to centos8\n\nFollowing changes are done with this patch:-\n- Ussuri+ releases are CentOS8 only, switch the standalone\nenvironment settings to reflect the same.\n- Add some os tempest options in standalone environment\nfile to get tempest run with it.\n- Enable repo setup on virthost it will be needed to get\nrepos needed by DLRN run.\n- Add settings to not prepare overcloud nodes as standalone\ndeploy doesn't need those.\n- Also add some vars required for standalone deployment.\n\nThis environment file will be used to test standalone\ndeployments on ci.centos.org.\n\nCloses-Bug: #1889219\nDepends-On: I87a0214a344a9b23dd267e412a37b2abe0eb0571\nChange-Id: Ic17bf6e69b1620bdcca339f436e1399b29c0437e\n""}, {'number': 11, 'created': '2020-08-07 14:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/949e393cb274e53fc05f082c62fed6b2bad39351', 'message': ""Switch Standalone environment to centos8\n\nFollowing changes are done with this patch:-\n- Ussuri+ releases are CentOS8 only, switch the standalone\nenvironment settings to reflect the same.\n- Add some os tempest options in standalone environment\nfile to get tempest run with it.\n- Enable repo setup on virthost it will be needed to get\nrepos needed by DLRN run.\n- Add settings to not prepare overcloud nodes as standalone\ndeploy doesn't need those.\n- Also add some vars required for standalone deployment.\n- Use git+file for tripleo-quickstart-extras path to\navoid quickstart-extras installation from pip cache and instead\ninstall it from specified path.\n\nThis environment file will be used to test standalone\ndeployments on ci.centos.org.\n\nCloses-Bug: #1889219\nDepends-On: I87a0214a344a9b23dd267e412a37b2abe0eb0571\nChange-Id: Ic17bf6e69b1620bdcca339f436e1399b29c0437e\n""}, {'number': 12, 'created': '2020-08-10 04:12:00.000000000', 'files': ['config/environments/standalone_centos_libvirt.yml', 'ci-scripts/include-gate-changes.sh', 'ci-scripts/full-deploy.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/814b080a60f08dc6d292138cb5a1603c6885672c', 'message': ""Switch Standalone environment to centos8\n\nFollowing changes are done with this patch:-\n- Ussuri+ releases are CentOS8 only, switch the standalone\nenvironment settings to reflect the same.\n- Add some os tempest options in standalone environment\nfile to get tempest run with it.\n- Enable repo setup on virthost it will be needed to get\nrepos needed by DLRN run.\n- Add settings to not prepare overcloud nodes as standalone\ndeploy doesn't need those.\n- Also add some vars required for standalone deployment.\n- Do not use egg_info for tripleo-quickstart-extras path to\navoid quickstart-extras installation from pip cache and instead\ninstall it from specified path.\n\nThis environment file will be used to test standalone\ndeployments on ci.centos.org.\n\nCloses-Bug: #1889219\nDepends-On: I87a0214a344a9b23dd267e412a37b2abe0eb0571\nChange-Id: Ic17bf6e69b1620bdcca339f436e1399b29c0437e\n""}]",19,743919,814b080a60f08dc6d292138cb5a1603c6885672c,73,7,12,13861,,,0,"Switch Standalone environment to centos8

Following changes are done with this patch:-
- Ussuri+ releases are CentOS8 only, switch the standalone
environment settings to reflect the same.
- Add some os tempest options in standalone environment
file to get tempest run with it.
- Enable repo setup on virthost it will be needed to get
repos needed by DLRN run.
- Add settings to not prepare overcloud nodes as standalone
deploy doesn't need those.
- Also add some vars required for standalone deployment.
- Do not use egg_info for tripleo-quickstart-extras path to
avoid quickstart-extras installation from pip cache and instead
install it from specified path.

This environment file will be used to test standalone
deployments on ci.centos.org.

Closes-Bug: #1889219
Depends-On: I87a0214a344a9b23dd267e412a37b2abe0eb0571
Change-Id: Ic17bf6e69b1620bdcca339f436e1399b29c0437e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/19/743919/4 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/featureset052.yml', 'config/environments/standalone_centos_libvirt.yml', 'quickstart-extras-requirements.txt', 'zuul.d/layout.yaml']",4,d03370bf5aeb81bbc3c675dcb15c59195c8d8dbb,bug/1889219, check: jobs: [], templates: - tripleo-undercloud-jobs - tripleo-multinode-container-minimal - tripleo-multinode-branchful - publish-openstack-docs-pti - release-notes-jobs-python3 - tripleo-standalone-scenarios-full - openstack-tox-molecule check: jobs: - tripleo-ci-centos-7-scenario007-multinode-oooq-container: files: - config/general_config/featureset030.yml - tripleo-ci-centos-8-scenario007-multinode-oooq-container: files: - config/general_config/featureset030.yml - tripleo-ci-centos-7-standalone: files: - config/general_config/featureset052.yml - requirements.txt - openstack-tox-linters - tripleo-ci-centos-7-scenario010-multinode-oooq-container: files: - config/general_config/featureset038.yml gate: queue: tripleo jobs: - openstack-tox-linters - tripleo-ci-centos-7-standalone: files: - config/general_config/featureset052.yml experimental: jobs: - tripleo-ci-centos-7-scenario006-multinode-oooq-container: files: - config/general_config/featureset026.yml,48,38
openstack%2Fnova~stable%2Ftrain~Ic5e60c8e28263365fad5867e483b6ad55cee7281,openstack/nova,stable/train,Ic5e60c8e28263365fad5867e483b6ad55cee7281,catch libvirt exception when nodedev not found.,MERGED,2020-08-06 11:24:41.000000000,2020-08-10 11:16:39.000000000,2020-08-10 11:15:08.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-06 11:24:41.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2442344fa1afd8d0a4c58b4df35f1b896129a0a1', 'message': 'catch libvirt exception when nodedev not found.\n\nThis is a minimal fix to workaround instance where libvirt\nretruns stale data due to internal caching. In some cases\nlibivrt can return stale data vai the nodedev api when the\nmac adress of an interface such as an sriov virtual function\ncanages, i.e. when a mac adress is reset after a vm with\na virtual funciton is migrated.\n\nChange-Id: Ic5e60c8e28263365fad5867e483b6ad55cee7281\nPartial-Bug: #1883671\n(cherry picked from commit af80c3ffd116837b296e79858595d42c893708a6)\n(cherry picked from commit 247e33af8fa1705b037e3343ec3b72a1b520c0c5)\n'}]",0,745116,2442344fa1afd8d0a4c58b4df35f1b896129a0a1,14,8,1,11604,,,0,"catch libvirt exception when nodedev not found.

This is a minimal fix to workaround instance where libvirt
retruns stale data due to internal caching. In some cases
libivrt can return stale data vai the nodedev api when the
mac adress of an interface such as an sriov virtual function
canages, i.e. when a mac adress is reset after a vm with
a virtual funciton is migrated.

Change-Id: Ic5e60c8e28263365fad5867e483b6ad55cee7281
Partial-Bug: #1883671
(cherry picked from commit af80c3ffd116837b296e79858595d42c893708a6)
(cherry picked from commit 247e33af8fa1705b037e3343ec3b72a1b520c0c5)
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/745116/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,2442344fa1afd8d0a4c58b4df35f1b896129a0a1,bug/1883671," def test_get_pcinet_info_raises(self): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) dev_name = ""net_enp2s2_02_9a_a1_37_be_54"" parent_address = ""pci_0000_04_11_7"" with mock.patch.object(pci_utils, 'get_net_name_by_vf_pci_address', return_value=dev_name) as mock_get_net_name, \ mock.patch.object( drvr._host, 'device_lookup_by_name', side_effect=fakelibvirt.libvirtError(""message"") ) as mock_dev_lookup: actualvf = drvr._get_pcinet_info(parent_address) self.assertIsNone(actualvf) mock_get_net_name.assert_called_once_with(parent_address) mock_dev_lookup.assert_called_once_with(dev_name) ",,22,2
openstack%2Ftripleo-quickstart-extras~master~I87a0214a344a9b23dd267e412a37b2abe0eb0571,openstack/tripleo-quickstart-extras,master,I87a0214a344a9b23dd267e412a37b2abe0eb0571,Honour standalone updates too for container-prep,MERGED,2020-08-05 09:18:43.000000000,2020-08-10 11:01:41.000000000,2020-08-10 11:01:41.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-05 09:18:43.000000000', 'files': ['roles/container-prep/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d151bee4a67d1e201999cd77402474e0f30d2be9', 'message': 'Honour standalone updates too for container-prep\n\nThis is needed for running standalone deploy with\ncontainer updates outside of zuul. In zuul jobs issue\nwas not detected as update_containers is always\nset for zuul jobs.\n\nPartial-Bug: #1889219\nChange-Id: I87a0214a344a9b23dd267e412a37b2abe0eb0571\n'}]",3,744864,d151bee4a67d1e201999cd77402474e0f30d2be9,14,7,1,13861,,,0,"Honour standalone updates too for container-prep

This is needed for running standalone deploy with
container updates outside of zuul. In zuul jobs issue
was not detected as update_containers is always
set for zuul jobs.

Partial-Bug: #1889219
Change-Id: I87a0214a344a9b23dd267e412a37b2abe0eb0571
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/64/744864/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/container-prep/tasks/main.yml'],1,d151bee4a67d1e201999cd77402474e0f30d2be9,bug/1889219, when: - update_containers_append_tag is undefined - (update_containers is defined and update_containers|bool) or (standalone_container_prep_updates is defined and standalone_container_prep_updates|bool), when: update_containers is defined and update_containers|bool and update_containers_append_tag is undefined,3,1
openstack%2Fkolla~stable%2Fussuri~I472af9ec8cee3462beb5aca04ea6171b79933abe,openstack/kolla,stable/ussuri,I472af9ec8cee3462beb5aca04ea6171b79933abe,Install Monasca plugin for Grafana by default,MERGED,2020-08-10 07:28:27.000000000,2020-08-10 10:47:37.000000000,2020-08-10 10:45:45.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30438}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-10 07:28:27.000000000', 'files': ['releasenotes/notes/add-monasca-grafana-app-ea24f8ca43fa9c7d.yaml', 'docker/monasca/monasca-grafana/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c305746b65a98ba9f70b9b20c37e33a4ac6edbfe', 'message': 'Install Monasca plugin for Grafana by default\n\nChange-Id: I472af9ec8cee3462beb5aca04ea6171b79933abe\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n(cherry picked from commit 2f92e4341f58d20e5277ebe2b1372b3ae00dc960)\n'}]",0,745488,c305746b65a98ba9f70b9b20c37e33a4ac6edbfe,10,6,1,23084,,,0,"Install Monasca plugin for Grafana by default

Change-Id: I472af9ec8cee3462beb5aca04ea6171b79933abe
Co-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>
(cherry picked from commit 2f92e4341f58d20e5277ebe2b1372b3ae00dc960)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/88/745488/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-monasca-grafana-app-ea24f8ca43fa9c7d.yaml', 'docker/monasca/monasca-grafana/Dockerfile.j2']",2,c305746b65a98ba9f70b9b20c37e33a4ac6edbfe,monasca_grafana_app,ARG monasca_grafana_app_version=1.0.0 ARG monasca_grafana_app_url=https://github.com/monasca/monasca-grafana/archive/$monasca_grafana_app_version.tar.gz{% block monasca_plugins_install %} RUN mkdir -p /var/lib/grafana/plugins/monasca-grafana \ && curl -Lo tmp.tgz ${monasca_grafana_app_url} \ && tar zxvf tmp.tgz -C /var/lib/grafana/plugins/monasca-grafana --strip-components=1 \ && rm tmp.tgz \ && npm install -g grunt \ && cd /var/lib/grafana/plugins/monasca-grafana \ && npm install \ && grunt {% endblock %} ,,20,0
openstack%2Fkolla~master~I045aa6b4b4fd83fbe7d1fda89549f0ef1e88ec12,openstack/kolla,master,I045aa6b4b4fd83fbe7d1fda89549f0ef1e88ec12,ubuntu: move to 20.04 Focal,MERGED,2020-07-02 09:00:02.000000000,2020-08-10 10:34:32.000000000,2020-08-10 10:31:51.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-02 09:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/17b456bf7ce82aab46ebb9d916534d6fdb49cd24', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nChange-Id: I045aa6b4b4fd83fbe7d1fda89549f0ef1e88ec12\n""}, {'number': 2, 'created': '2020-07-02 09:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/09c80594716fec59036a213b97cb1c8ef23e2de1', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nChange-Id: I045aa6b4b4fd83fbe7d1fda89549f0ef1e88ec12\n""}, {'number': 3, 'created': '2020-07-02 14:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0a35410cff811e6aaee489d656311b01f4c26746', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nDepends-on: https://review.opendev.org/739051\n\nChange-Id: I045aa6b4b4fd83fbe7d1fda89549f0ef1e88ec12\n""}, {'number': 4, 'created': '2020-07-07 12:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/23244506e9470ef111915e07b429ed262b675d75', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nChange-Id: I045aa6b4b4fd83fbe7d1fda89549f0ef1e88ec12\n""}, {'number': 5, 'created': '2020-07-07 15:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/03e346b217c9a2daa02e9b6afecc090847a129dd', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nChange-Id: I045aa6b4b4fd83fbe7d1fda89549f0ef1e88ec12\n""}, {'number': 6, 'created': '2020-07-08 09:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/901a6c1cb2bc21ce3fa807dbcd0beebf193ab958', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nChange-Id: I045aa6b4b4fd83fbe7d1fda89549f0ef1e88ec12\n""}, {'number': 7, 'created': '2020-07-08 10:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c139c03184c7badc99362f14e9131530339655ec', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nChange-Id: I045aa6b4b4fd83fbe7d1fda89549f0ef1e88ec12\n""}, {'number': 8, 'created': '2020-07-08 10:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5a08a3d786994d69354e15de9284630c42059adf', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nChange-Id: I045aa6b4b4fd83fbe7d1fda89549f0ef1e88ec12\n""}, {'number': 9, 'created': '2020-07-08 14:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4e09e5f2c4b9fdccad14aa703e927afb968819a3', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nChange-Id: I045aa6b4b4fd83fbe7d1fda89549f0ef1e88ec12\n""}, {'number': 10, 'created': '2020-07-09 21:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/70b04ebf29e81fc10a50161a176ecd9be6a57083', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nChange-Id: I045aa6b4b4fd83fbe7d1fda89549f0ef1e88ec12\n""}, {'number': 11, 'created': '2020-07-27 08:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1d44ee0c3ff58c9d4f4b6585705e1390077bd172', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nChange-Id: I045aa6b4b4fd83fbe7d1fda89549f0ef1e88ec12\n""}, {'number': 12, 'created': '2020-07-27 08:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7cc7dffa5ae90a13508210059f92b9dfefda2a3f', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nChange-Id: I045aa6b4b4fd83fbe7d1fda89549f0ef1e88ec12\n""}, {'number': 13, 'created': '2020-07-28 09:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4e5cb6bd9650b695fc8c38d436e30393dc0b1ef6', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nChange-Id: I045aa6b4b4fd83fbe7d1fda89549f0ef1e88ec12\n""}, {'number': 14, 'created': '2020-08-06 13:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8ccfdeb46edc6d947e6de9631f670e9d017b11f5', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nDepends-On: https://review.opendev.org/745156\nChange-Id: I045aa6b4b4fd83fbe7d1fda89549f0ef1e88ec12\n""}, {'number': 15, 'created': '2020-08-06 13:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/93182fe0c9c9a448435af961f75c4580f1da50fe', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nDepends-On: https://review.opendev.org/745156\nChange-Id: I045aa6b4b4fd83fbe7d1fda89549f0ef1e88ec12\n""}, {'number': 16, 'created': '2020-08-06 15:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0eff632d5cb0581b1f17ab4ad535cc65345e62d4', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nDepends-On: https://review.opendev.org/745156\nChange-Id: I045aa6b4b4fd83fbe7d1fda89549f0ef1e88ec12\n""}, {'number': 17, 'created': '2020-08-07 05:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f527025eb4953bc53da1a3fb3d7e4efdd656bdba', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nDepends-On: https://review.opendev.org/745156\nChange-Id: I045aa6b4b4fd83fbe7d1fda89549f0ef1e88ec12\n""}, {'number': 18, 'created': '2020-08-07 14:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/de14814178bebf4c2696a21dc3c7310a8a76effa', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nDepends-On: https://review.opendev.org/745156\nChange-Id: I045aa6b4b4fd83fbe7d1fda89549f0ef1e88ec12\n""}, {'number': 19, 'created': '2020-08-07 14:38:06.000000000', 'files': ['docker/swift/swift-proxy-server/Dockerfile.j2', 'kolla/image/build.py', 'doc/source/support_matrix.rst', '.zuul.d/base.yaml', '.zuul.d/ubuntu.yaml', 'kolla/template/repos.yaml', 'docker/base/sources.list.ubuntu.aarch64', 'docker/base/sources.list.ubuntu.ppc64le', 'kolla/common/config.py', 'docker/base/sources.list.ubuntu', 'kolla/tests/test_build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d2966452c56c3dee27839a8d277eb069671b51df', 'message': ""ubuntu: move to 20.04 Focal\n\nThere is a time once every 2 years when ubuntu team releases new LTS\nrelease. And then UCA joins with binary packages for current OpenStack\ndevelopment cycle.\n\nIt is this time for Ubuntu 20.04 'focal'.\n\nDepends-On: https://review.opendev.org/745156\nChange-Id: I045aa6b4b4fd83fbe7d1fda89549f0ef1e88ec12\n""}]",4,738994,d2966452c56c3dee27839a8d277eb069671b51df,77,6,19,24072,,,0,"ubuntu: move to 20.04 Focal

There is a time once every 2 years when ubuntu team releases new LTS
release. And then UCA joins with binary packages for current OpenStack
development cycle.

It is this time for Ubuntu 20.04 'focal'.

Depends-On: https://review.opendev.org/745156
Change-Id: I045aa6b4b4fd83fbe7d1fda89549f0ef1e88ec12
",git fetch https://review.opendev.org/openstack/kolla refs/changes/94/738994/13 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/template/repos.yaml', 'kolla/common/config.py', 'docker/base/sources.list.ubuntu']",3,17b456bf7ce82aab46ebb9d916534d6fdb49cd24,focal,deb mirror://mirrors.ubuntu.com/mirrors.txt focal main universe deb mirror://mirrors.ubuntu.com/mirrors.txt focal-updates main universe deb mirror://mirrors.ubuntu.com/mirrors.txt focal-security main universedeb http://archive.ubuntu.com/ubuntu/ focal-backports main universedeb http://ubuntu-cloud.archive.canonical.com/ubuntu focal-updates/victoria main#deb https://repos.influxdata.com/ubuntu focal stable#deb http://packages.treasuredata.com/3/ubuntu/focal/ focal contrib#deb http://ppa.launchpad.net/qpid/released/ubuntu/ focal main#deb https://sensu.global.ssl.fastly.net/apt focal main#deb https://dl.bintray.com/rabbitmq/debian/ focal main#deb https://dl.bintray.com/rabbitmq-erlang/debian/ focal erlang#deb https://obs.linaro.org/repos/home:/marcin.juszkiewicz/ubuntu-focal ./#deb http://downloads.mariadb.com/MariaDB/mariadb-10.3/repo/ubuntu focal main,deb mirror://mirrors.ubuntu.com/mirrors.txt bionic main universe deb mirror://mirrors.ubuntu.com/mirrors.txt bionic-updates main universe deb mirror://mirrors.ubuntu.com/mirrors.txt bionic-security main universedeb http://archive.ubuntu.com/ubuntu/ bionic-backports main universedeb http://ubuntu-cloud.archive.canonical.com/ubuntu bionic-updates/ussuri main#deb https://repos.influxdata.com/ubuntu bionic stable#deb http://packages.treasuredata.com/3/ubuntu/bionic/ bionic contrib#deb http://ppa.launchpad.net/qpid/released/ubuntu/ bionic main#deb https://sensu.global.ssl.fastly.net/apt bionic main#deb https://dl.bintray.com/rabbitmq/debian/ bionic main#deb https://dl.bintray.com/rabbitmq-erlang/debian/ bionic erlang#deb https://obs.linaro.org/repos/home:/marcin.juszkiewicz/ubuntu-bionic ./#deb http://downloads.mariadb.com/MariaDB/mariadb-10.3/repo/ubuntu bionic main,28,28
openstack%2Fironic~bugfix%2F15.1~I4336d71f57bcfbde90fa7b62a5435a7f9d0a73d3,openstack/ironic,bugfix/15.1,I4336d71f57bcfbde90fa7b62a5435a7f9d0a73d3,Use TLS for json_rpc when configured,MERGED,2020-08-08 18:14:27.000000000,2020-08-10 10:22:08.000000000,2020-08-10 10:20:45.000000000,"[{'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32254}]","[{'number': 1, 'created': '2020-08-08 18:14:27.000000000', 'files': ['ironic/common/json_rpc/client.py', 'releasenotes/notes/fix-json-rpc-client-ssl-2438a731beb3d5f9.yaml', 'ironic/tests/unit/common/test_json_rpc.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/df9b79907c96d2c027033cbde2d4a425915b030f', 'message': 'Use TLS for json_rpc when configured\n\nThe configuration for json_rpc contains the option use_ssl but its value\nwas not respected by the json_rpc client. Therefore the client tried to\nconnect to HTTPS endpoints using HTTP.\n\nChange-Id: I4336d71f57bcfbde90fa7b62a5435a7f9d0a73d3\n(cherry picked from commit feae197c5ad02fa0898a30d4ffaaba8a21d4f884)\n'}]",0,745444,df9b79907c96d2c027033cbde2d4a425915b030f,9,5,1,11655,,,0,"Use TLS for json_rpc when configured

The configuration for json_rpc contains the option use_ssl but its value
was not respected by the json_rpc client. Therefore the client tried to
connect to HTTPS endpoints using HTTP.

Change-Id: I4336d71f57bcfbde90fa7b62a5435a7f9d0a73d3
(cherry picked from commit feae197c5ad02fa0898a30d4ffaaba8a21d4f884)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/44/745444/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/json_rpc/client.py', 'releasenotes/notes/fix-json-rpc-client-ssl-2438a731beb3d5f9.yaml', 'ironic/tests/unit/common/test_json_rpc.py']",3,df9b79907c96d2c027033cbde2d4a425915b030f,json-rpc-ssl-bugfix/15.1," def test_call_with_ssl(self, mock_session): self.config(use_ssl=True, group='json_rpc') response = mock_session.return_value.post.return_value response.json.return_value = { 'jsonrpc': '2.0', 'result': 42 } cctx = self.client.prepare('foo.example.com') self.assertEqual('example.com', cctx.host) result = cctx.call(self.context, 'do_something', answer=42) self.assertEqual(42, result) mock_session.return_value.post.assert_called_once_with( 'https://example.com:8089', json={'jsonrpc': '2.0', 'method': 'do_something', 'params': {'answer': 42, 'context': self.ctx_json}, 'id': self.context.request_id}) ",,27,1
openstack%2Fironic-inspector~master~Ie918bc8572ff7f0ce2712cbb248e8ee9bf4c3d20,openstack/ironic-inspector,master,Ie918bc8572ff7f0ce2712cbb248e8ee9bf4c3d20,Listen on :: by default,MERGED,2020-08-07 10:18:18.000000000,2020-08-10 10:22:04.000000000,2020-08-10 10:20:43.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-07 10:18:18.000000000', 'files': ['releasenotes/notes/listen-v6-effec95455e900f8.yaml', 'ironic_inspector/conf/default.py', 'api-ref/source/index.rst', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/6a8d46b33bbd6f3612b33f24adc1cec8aaa94fbb', 'message': 'Listen on :: by default\n\nOn most target systems it will make it available on both V4 and V6.\n\nChange-Id: Ie918bc8572ff7f0ce2712cbb248e8ee9bf4c3d20\n'}]",0,745308,6a8d46b33bbd6f3612b33f24adc1cec8aaa94fbb,14,5,1,10239,,,0,"Listen on :: by default

On most target systems it will make it available on both V4 and V6.

Change-Id: Ie918bc8572ff7f0ce2712cbb248e8ee9bf4c3d20
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/08/745308/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/listen-v6-effec95455e900f8.yaml', 'ironic_inspector/conf/default.py', 'api-ref/source/index.rst', 'devstack/plugin.sh']",4,6a8d46b33bbd6f3612b33f24adc1cec8aaa94fbb,listen-v6,, inspector_iniset DEFAULT listen_address 0.0.0.0 # do not change,8,4
openstack%2Fnova~master~I51673e58fc8d5f051df911630f6d7a928d123a5b,openstack/nova,master,I51673e58fc8d5f051df911630f6d7a928d123a5b,Revert resize: wait for events according to hybrid plug,MERGED,2019-06-24 18:42:40.000000000,2020-08-10 10:01:36.000000000,2019-07-12 17:25:51.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-24 18:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4db2c21e0adccb96b19a0c03b83e49fa81eb1bce', 'message': 'Revert resize: wait for events according to hybrid plug\n\nSince 4817165fc5938a553fafa1a69c6086f9ebe311af, when reverting a\nresized instance back to the source host, the libvirt driver waits for\nvif-plugged events when spawning the instance. When called from\nfinish_revert_resize() in the source compute manager, libvirt\'s\nfinish_revert_migration() does not pass vifs_already_plugged to\n_create_domain_and_network(), making the latter use the default False\nvalue.\n\nWhen the source compute manager calls\nnetwork_api.migrate_instance_finish() in finish_revert_resize(), this\nupdates the port binding back to the source host. If Neutron is\nconfigured to use OVS hybrid plug, it will send the vif-plugged event\nimmediately after completing this request. This happens before the\nvirt driver\'s finish_revert_migration() method is called. This causes\nthe wait in the libvirt driver to time out because the event is\nreceived before Nova starts waiting for it.\n\nThe neutron ovs l2 agent sends vif-plugged events when two conditions\nare met. First the port must be bound to the host managed by the\nl2 agent and second, the agent must have completed configuring the\nport on ovs. This involves assigning the port a local VLAN for tenant\nisolation, applying security group rules if required and applying\nQoS policies or other agent extensions like service function chaining.\n\nDuring the boot process, we bind the port first to the host\nthen plug the interface into ovs which triggers the l2 agent to\nconfigure it resulting in the emission of the vif-plugged event.\nIn the revert case, as noted above, since the vif is already plugged\non the source node when hybrid-plug is used, binding the port to the\nsource node fulfils the second condition to send the vif-plugged event.\n\nEvents sent immediately after port binding update are hereafter known\nas ""bind-time"" events. For ports that do not use OVS hybrid plug,\nNeutron will continue to send vif-plugged events only when Nova\nactually plugs the VIF. These types of events are hereafter known as\n""plug-time"" events. OVS hybrid plug is a per agent setting, so for\na particular host, bind-time events are an all-or-nothing thing for the\novs backend: either all VIF_TYPE=ovs ports have them, or no ovs ports\nhave them. In general, a host will only have one network backend.\nThe only exception to this is SR-IOV. SR-IOV is commonly deployed on\nthe same host as other network backends such as OVS or linuxbridge.\nSR-IOV ports with VNIC_TYPE=direct-physical will always have only\nbind-time events. If an instance mixes OVS ports with hybrid-plug=False\nwith direct physical ports, it will have both kinds of events.\n\nFor same host resize reverts we do not update the binding host as the\nhost does not change, as such for same host resize we do not recive\nbind time events. For same host revert we therefore do not wait for\nbind time events in the compute manager.\n\nThis patch adds functions to the NetworkInfo model that return what\nkinds of events each VIF has. These are then used in the migration\nrevert logic to decide when to wait for external events: in the\ncompute manager, when binding the port, for bind-time events,\nand/or in libvirt, when plugging the VIFs, for plug-time events.\n\nChange-Id: I51673e58fc8d5f051df911630f6d7a928d123a5b\nCloses-bug: 1832028\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nCo-Authored-By: Artom Lifshitz <alifshit@redhat.com>\n'}, {'number': 2, 'created': '2019-06-24 19:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/137a2b4c36d513031cbf9dd5c1c9c8e5dcd504b3', 'message': 'Revert resize: wait for events according to hybrid plug\n\nSince 4817165fc5938a553fafa1a69c6086f9ebe311af, when reverting a\nresized instance back to the source host, the libvirt driver waits for\nvif-plugged events when spawning the instance. When called from\nfinish_revert_resize() in the source compute manager, libvirt\'s\nfinish_revert_migration() does not pass vifs_already_plugged to\n_create_domain_and_network(), making the latter use the default False\nvalue.\n\nWhen the source compute manager calls\nnetwork_api.migrate_instance_finish() in finish_revert_resize(), this\nupdates the port binding back to the source host. If Neutron is\nconfigured to use OVS hybrid plug, it will send the vif-plugged event\nimmediately after completing this request. This happens before the\nvirt driver\'s finish_revert_migration() method is called. This causes\nthe wait in the libvirt driver to time out because the event is\nreceived before Nova starts waiting for it.\n\nThe neutron ovs l2 agent sends vif-plugged events when two conditions\nare met. First the port must be bound to the host managed by the\nl2 agent and second, the agent must have completed configuring the\nport on ovs. This involves assigning the port a local VLAN for tenant\nisolation, applying security group rules if required and applying\nQoS policies or other agent extensions like service function chaining.\n\nDuring the boot process, we bind the port first to the host\nthen plug the interface into ovs which triggers the l2 agent to\nconfigure it resulting in the emission of the vif-plugged event.\nIn the revert case, as noted above, since the vif is already plugged\non the source node when hybrid-plug is used, binding the port to the\nsource node fulfils the second condition to send the vif-plugged event.\n\nEvents sent immediately after port binding update are hereafter known\nas ""bind-time"" events. For ports that do not use OVS hybrid plug,\nNeutron will continue to send vif-plugged events only when Nova\nactually plugs the VIF. These types of events are hereafter known as\n""plug-time"" events. OVS hybrid plug is a per agent setting, so for\na particular host, bind-time events are an all-or-nothing thing for the\novs backend: either all VIF_TYPE=ovs ports have them, or no ovs ports\nhave them. In general, a host will only have one network backend.\nThe only exception to this is SR-IOV. SR-IOV is commonly deployed on\nthe same host as other network backends such as OVS or linuxbridge.\nSR-IOV ports with VNIC_TYPE=direct-physical will always have only\nbind-time events. If an instance mixes OVS ports with hybrid-plug=False\nwith direct physical ports, it will have both kinds of events.\n\nFor same host resize reverts we do not update the binding host as the\nhost does not change, as such for same host resize we do not receive\nbind time events. For same host revert we therefore do not wait for\nbind time events in the compute manager.\n\nThis patch adds functions to the NetworkInfo model that return what\nkinds of events each VIF has. These are then used in the migration\nrevert logic to decide when to wait for external events: in the\ncompute manager, when binding the port, for bind-time events,\nand/or in libvirt, when plugging the VIFs, for plug-time events.\n\nCloses-bug: #1832028\nCloses-Bug: #1833902\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nCo-Authored-By: Artom Lifshitz <alifshit@redhat.com>\nChange-Id: I51673e58fc8d5f051df911630f6d7a928d123a5b\n'}, {'number': 3, 'created': '2019-07-01 06:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e36a605ab37fd7d5f156892fec10b7705d437e95', 'message': 'Revert resize: wait for events according to hybrid plug\n\nSince 4817165fc5938a553fafa1a69c6086f9ebe311af, when reverting a\nresized instance back to the source host, the libvirt driver waits for\nvif-plugged events when spawning the instance. When called from\nfinish_revert_resize() in the source compute manager, libvirt\'s\nfinish_revert_migration() does not pass vifs_already_plugged to\n_create_domain_and_network(), making the latter use the default False\nvalue.\n\nWhen the source compute manager calls\nnetwork_api.migrate_instance_finish() in finish_revert_resize(), this\nupdates the port binding back to the source host. If Neutron is\nconfigured to use OVS hybrid plug, it will send the vif-plugged event\nimmediately after completing this request. This happens before the\nvirt driver\'s finish_revert_migration() method is called. This causes\nthe wait in the libvirt driver to time out because the event is\nreceived before Nova starts waiting for it.\n\nThe neutron ovs l2 agent sends vif-plugged events when two conditions\nare met. First the port must be bound to the host managed by the\nl2 agent and second, the agent must have completed configuring the\nport on ovs. This involves assigning the port a local VLAN for tenant\nisolation, applying security group rules if required and applying\nQoS policies or other agent extensions like service function chaining.\n\nDuring the boot process, we bind the port first to the host\nthen plug the interface into ovs which triggers the l2 agent to\nconfigure it resulting in the emission of the vif-plugged event.\nIn the revert case, as noted above, since the vif is already plugged\non the source node when hybrid-plug is used, binding the port to the\nsource node fulfils the second condition to send the vif-plugged event.\n\nEvents sent immediately after port binding update are hereafter known\nas ""bind-time"" events. For ports that do not use OVS hybrid plug,\nNeutron will continue to send vif-plugged events only when Nova\nactually plugs the VIF. These types of events are hereafter known as\n""plug-time"" events. OVS hybrid plug is a per agent setting, so for\na particular host, bind-time events are an all-or-nothing thing for the\novs backend: either all VIF_TYPE=ovs ports have them, or no ovs ports\nhave them. In general, a host will only have one network backend.\nThe only exception to this is SR-IOV. SR-IOV is commonly deployed on\nthe same host as other network backends such as OVS or linuxbridge.\nSR-IOV ports with VNIC_TYPE=direct-physical will always have only\nbind-time events. If an instance mixes OVS ports with hybrid-plug=False\nwith direct physical ports, it will have both kinds of events.\n\nFor same host resize reverts we do not update the binding host as the\nhost does not change, as such for same host resize we do not receive\nbind time events. For same host revert we therefore do not wait for\nbind time events in the compute manager.\n\nThis patch adds functions to the NetworkInfo model that return what\nkinds of events each VIF has. These are then used in the migration\nrevert logic to decide when to wait for external events: in the\ncompute manager, when binding the port, for bind-time events,\nand/or in libvirt, when plugging the VIFs, for plug-time events.\n\nCloses-bug: #1832028\nCloses-Bug: #1833902\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nCo-Authored-By: Artom Lifshitz <alifshit@redhat.com>\nChange-Id: I51673e58fc8d5f051df911630f6d7a928d123a5b\n'}, {'number': 4, 'created': '2019-07-01 06:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7240386558494e26906e412f829abcc515c6607e', 'message': 'Revert resize: wait for events according to hybrid plug\n\nSince 4817165fc5938a553fafa1a69c6086f9ebe311af, when reverting a\nresized instance back to the source host, the libvirt driver waits for\nvif-plugged events when spawning the instance. When called from\nfinish_revert_resize() in the source compute manager, libvirt\'s\nfinish_revert_migration() does not pass vifs_already_plugged to\n_create_domain_and_network(), making the latter use the default False\nvalue.\n\nWhen the source compute manager calls\nnetwork_api.migrate_instance_finish() in finish_revert_resize(), this\nupdates the port binding back to the source host. If Neutron is\nconfigured to use OVS hybrid plug, it will send the vif-plugged event\nimmediately after completing this request. This happens before the\nvirt driver\'s finish_revert_migration() method is called. This causes\nthe wait in the libvirt driver to time out because the event is\nreceived before Nova starts waiting for it.\n\nThe neutron ovs l2 agent sends vif-plugged events when two conditions\nare met. First the port must be bound to the host managed by the\nl2 agent and second, the agent must have completed configuring the\nport on ovs. This involves assigning the port a local VLAN for tenant\nisolation, applying security group rules if required and applying\nQoS policies or other agent extensions like service function chaining.\n\nDuring the boot process, we bind the port first to the host\nthen plug the interface into ovs which triggers the l2 agent to\nconfigure it resulting in the emission of the vif-plugged event.\nIn the revert case, as noted above, since the vif is already plugged\non the source node when hybrid-plug is used, binding the port to the\nsource node fulfils the second condition to send the vif-plugged event.\n\nEvents sent immediately after port binding update are hereafter known\nas ""bind-time"" events. For ports that do not use OVS hybrid plug,\nNeutron will continue to send vif-plugged events only when Nova\nactually plugs the VIF. These types of events are hereafter known as\n""plug-time"" events. OVS hybrid plug is a per agent setting, so for\na particular host, bind-time events are an all-or-nothing thing for the\novs backend: either all VIF_TYPE=ovs ports have them, or no ovs ports\nhave them. In general, a host will only have one network backend.\nThe only exception to this is SR-IOV. SR-IOV is commonly deployed on\nthe same host as other network backends such as OVS or linuxbridge.\nSR-IOV ports with VNIC_TYPE=direct-physical will always have only\nbind-time events. If an instance mixes OVS ports with hybrid-plug=False\nwith direct physical ports, it will have both kinds of events.\n\nFor same host resize reverts we do not update the binding host as the\nhost does not change, as such for same host resize we do not receive\nbind time events. For same host revert we therefore do not wait for\nbind time events in the compute manager.\n\nThis patch adds functions to the NetworkInfo model that return what\nkinds of events each VIF has. These are then used in the migration\nrevert logic to decide when to wait for external events: in the\ncompute manager, when binding the port, for bind-time events,\nand/or in libvirt, when plugging the VIFs, for plug-time events.\n\nCloses-bug: #1832028\nCloses-Bug: #1833902\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nCo-Authored-By: Artom Lifshitz <alifshit@redhat.com>\nChange-Id: I51673e58fc8d5f051df911630f6d7a928d123a5b\n'}, {'number': 5, 'created': '2019-07-01 11:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d5832c65e5784394bbcc2d38164af45c965082e', 'message': 'Revert resize: wait for events according to hybrid plug\n\nSince 4817165fc5938a553fafa1a69c6086f9ebe311af, when reverting a\nresized instance back to the source host, the libvirt driver waits for\nvif-plugged events when spawning the instance. When called from\nfinish_revert_resize() in the source compute manager, libvirt\'s\nfinish_revert_migration() does not pass vifs_already_plugged to\n_create_domain_and_network(), making the latter use the default False\nvalue.\n\nWhen the source compute manager calls\nnetwork_api.migrate_instance_finish() in finish_revert_resize(), this\nupdates the port binding back to the source host. If Neutron is\nconfigured to use OVS hybrid plug, it will send the vif-plugged event\nimmediately after completing this request. This happens before the\nvirt driver\'s finish_revert_migration() method is called. This causes\nthe wait in the libvirt driver to time out because the event is\nreceived before Nova starts waiting for it.\n\nThe neutron ovs l2 agent sends vif-plugged events when two conditions\nare met. First the port must be bound to the host managed by the\nl2 agent and second, the agent must have completed configuring the\nport on ovs. This involves assigning the port a local VLAN for tenant\nisolation, applying security group rules if required and applying\nQoS policies or other agent extensions like service function chaining.\n\nDuring the boot process, we bind the port first to the host\nthen plug the interface into ovs which triggers the l2 agent to\nconfigure it resulting in the emission of the vif-plugged event.\nIn the revert case, as noted above, since the vif is already plugged\non the source node when hybrid-plug is used, binding the port to the\nsource node fulfils the second condition to send the vif-plugged event.\n\nEvents sent immediately after port binding update are hereafter known\nas ""bind-time"" events. For ports that do not use OVS hybrid plug,\nNeutron will continue to send vif-plugged events only when Nova\nactually plugs the VIF. These types of events are hereafter known as\n""plug-time"" events. OVS hybrid plug is a per agent setting, so for\na particular host, bind-time events are an all-or-nothing thing for the\novs backend: either all VIF_TYPE=ovs ports have them, or no ovs ports\nhave them. In general, a host will only have one network backend.\nThe only exception to this is SR-IOV. SR-IOV is commonly deployed on\nthe same host as other network backends such as OVS or linuxbridge.\nSR-IOV ports with VNIC_TYPE=direct-physical will always have only\nbind-time events. If an instance mixes OVS ports with hybrid-plug=False\nwith direct physical ports, it will have both kinds of events.\n\nFor same host resize reverts we do not update the binding host as the\nhost does not change, as such for same host resize we do not receive\nbind time events. For same host revert we therefore do not wait for\nbind time events in the compute manager.\n\nThis patch adds functions to the NetworkInfo model that return what\nkinds of events each VIF has. These are then used in the migration\nrevert logic to decide when to wait for external events: in the\ncompute manager, when binding the port, for bind-time events,\nand/or in libvirt, when plugging the VIFs, for plug-time events.\n\nCloses-bug: #1832028\nCloses-Bug: #1833902\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nCo-Authored-By: Artom Lifshitz <alifshit@redhat.com>\nChange-Id: I51673e58fc8d5f051df911630f6d7a928d123a5b\n'}, {'number': 6, 'created': '2019-07-02 08:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e9c0ad8c0fd4f62a1110b9d2b839123a1444d90', 'message': 'Revert resize: wait for events according to hybrid plug\n\nSince 4817165fc5938a553fafa1a69c6086f9ebe311af, when reverting a\nresized instance back to the source host, the libvirt driver waits for\nvif-plugged events when spawning the instance. When called from\nfinish_revert_resize() in the source compute manager, libvirt\'s\nfinish_revert_migration() does not pass vifs_already_plugged to\n_create_domain_and_network(), making the latter use the default False\nvalue.\n\nWhen the source compute manager calls\nnetwork_api.migrate_instance_finish() in finish_revert_resize(), this\nupdates the port binding back to the source host. If Neutron is\nconfigured to use OVS hybrid plug, it will send the vif-plugged event\nimmediately after completing this request. This happens before the\nvirt driver\'s finish_revert_migration() method is called. This causes\nthe wait in the libvirt driver to time out because the event is\nreceived before Nova starts waiting for it.\n\nThe neutron ovs l2 agent sends vif-plugged events when two conditions\nare met. First the port must be bound to the host managed by the\nl2 agent and second, the agent must have completed configuring the\nport on ovs. This involves assigning the port a local VLAN for tenant\nisolation, applying security group rules if required and applying\nQoS policies or other agent extensions like service function chaining.\n\nDuring the boot process, we bind the port first to the host\nthen plug the interface into ovs which triggers the l2 agent to\nconfigure it resulting in the emission of the vif-plugged event.\nIn the revert case, as noted above, since the vif is already plugged\non the source node when hybrid-plug is used, binding the port to the\nsource node fulfils the second condition to send the vif-plugged event.\n\nEvents sent immediately after port binding update are hereafter known\nas ""bind-time"" events. For ports that do not use OVS hybrid plug,\nNeutron will continue to send vif-plugged events only when Nova\nactually plugs the VIF. These types of events are hereafter known as\n""plug-time"" events. OVS hybrid plug is a per agent setting, so for\na particular host, bind-time events are an all-or-nothing thing for the\novs backend: either all VIF_TYPE=ovs ports have them, or no ovs ports\nhave them. In general, a host will only have one network backend.\nThe only exception to this is SR-IOV. SR-IOV is commonly deployed on\nthe same host as other network backends such as OVS or linuxbridge.\nSR-IOV ports with VNIC_TYPE=direct-physical will always have only\nbind-time events. If an instance mixes OVS ports with hybrid-plug=False\nwith direct physical ports, it will have both kinds of events.\n\nFor same host resize reverts we do not update the binding host as the\nhost does not change, as such for same host resize we do not receive\nbind time events. For same host revert we therefore do not wait for\nbind time events in the compute manager.\n\nThis patch adds functions to the NetworkInfo model that return what\nkinds of events each VIF has. These are then used in the migration\nrevert logic to decide when to wait for external events: in the\ncompute manager, when binding the port, for bind-time events,\nand/or in libvirt, when plugging the VIFs, for plug-time events.\n\nCloses-bug: #1832028\nCloses-Bug: #1833902\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nCo-Authored-By: Artom Lifshitz <alifshit@redhat.com>\nChange-Id: I51673e58fc8d5f051df911630f6d7a928d123a5b\n'}, {'number': 7, 'created': '2019-07-04 08:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad2b3e65b3e5567cbbbc4d1de5d31f78b449966c', 'message': 'Revert resize: wait for events according to hybrid plug\n\nSince 4817165fc5938a553fafa1a69c6086f9ebe311af, when reverting a\nresized instance back to the source host, the libvirt driver waits for\nvif-plugged events when spawning the instance. When called from\nfinish_revert_resize() in the source compute manager, libvirt\'s\nfinish_revert_migration() does not pass vifs_already_plugged to\n_create_domain_and_network(), making the latter use the default False\nvalue.\n\nWhen the source compute manager calls\nnetwork_api.migrate_instance_finish() in finish_revert_resize(), this\nupdates the port binding back to the source host. If Neutron is\nconfigured to use OVS hybrid plug, it will send the vif-plugged event\nimmediately after completing this request. This happens before the\nvirt driver\'s finish_revert_migration() method is called. This causes\nthe wait in the libvirt driver to time out because the event is\nreceived before Nova starts waiting for it.\n\nThe neutron ovs l2 agent sends vif-plugged events when two conditions\nare met. First the port must be bound to the host managed by the\nl2 agent and second, the agent must have completed configuring the\nport on ovs. This involves assigning the port a local VLAN for tenant\nisolation, applying security group rules if required and applying\nQoS policies or other agent extensions like service function chaining.\n\nDuring the boot process, we bind the port first to the host\nthen plug the interface into ovs which triggers the l2 agent to\nconfigure it resulting in the emission of the vif-plugged event.\nIn the revert case, as noted above, since the vif is already plugged\non the source node when hybrid-plug is used, binding the port to the\nsource node fulfils the second condition to send the vif-plugged event.\n\nEvents sent immediately after port binding update are hereafter known\nas ""bind-time"" events. For ports that do not use OVS hybrid plug,\nNeutron will continue to send vif-plugged events only when Nova\nactually plugs the VIF. These types of events are hereafter known as\n""plug-time"" events. OVS hybrid plug is a per agent setting, so for\na particular host, bind-time events are an all-or-nothing thing for the\novs backend: either all VIF_TYPE=ovs ports have them, or no ovs ports\nhave them. In general, a host will only have one network backend.\nThe only exception to this is SR-IOV. SR-IOV is commonly deployed on\nthe same host as other network backends such as OVS or linuxbridge.\nSR-IOV ports with VNIC_TYPE=direct-physical will always have only\nbind-time events. If an instance mixes OVS ports with hybrid-plug=False\nwith direct physical ports, it will have both kinds of events.\n\nFor same host resize reverts we do not update the binding host as the\nhost does not change, as such for same host resize we do not receive\nbind time events. For same host revert we therefore do not wait for\nbind time events in the compute manager.\n\nThis patch adds functions to the NetworkInfo model that return what\nkinds of events each VIF has. These are then used in the migration\nrevert logic to decide when to wait for external events: in the\ncompute manager, when binding the port, for bind-time events,\nand/or in libvirt, when plugging the VIFs, for plug-time events.\n\nCloses-bug: #1832028\nCloses-Bug: #1833902\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nCo-Authored-By: Artom Lifshitz <alifshit@redhat.com>\nChange-Id: I51673e58fc8d5f051df911630f6d7a928d123a5b\n'}, {'number': 8, 'created': '2019-07-04 13:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee7880c1d91ca559b5fbdebdeac05f01cc044b1c', 'message': 'Revert resize: wait for events according to hybrid plug\n\nSince 4817165fc5938a553fafa1a69c6086f9ebe311af, when reverting a\nresized instance back to the source host, the libvirt driver waits for\nvif-plugged events when spawning the instance. When called from\nfinish_revert_resize() in the source compute manager, libvirt\'s\nfinish_revert_migration() does not pass vifs_already_plugged to\n_create_domain_and_network(), making the latter use the default False\nvalue.\n\nWhen the source compute manager calls\nnetwork_api.migrate_instance_finish() in finish_revert_resize(), this\nupdates the port binding back to the source host. If Neutron is\nconfigured to use OVS hybrid plug, it will send the vif-plugged event\nimmediately after completing this request. This happens before the\nvirt driver\'s finish_revert_migration() method is called. This causes\nthe wait in the libvirt driver to time out because the event is\nreceived before Nova starts waiting for it.\n\nThe neutron ovs l2 agent sends vif-plugged events when two conditions\nare met. First the port must be bound to the host managed by the\nl2 agent and second, the agent must have completed configuring the\nport on ovs. This involves assigning the port a local VLAN for tenant\nisolation, applying security group rules if required and applying\nQoS policies or other agent extensions like service function chaining.\n\nDuring the boot process, we bind the port first to the host\nthen plug the interface into ovs which triggers the l2 agent to\nconfigure it resulting in the emission of the vif-plugged event.\nIn the revert case, as noted above, since the vif is already plugged\non the source node when hybrid-plug is used, binding the port to the\nsource node fulfils the second condition to send the vif-plugged event.\n\nEvents sent immediately after port binding update are hereafter known\nas ""bind-time"" events. For ports that do not use OVS hybrid plug,\nNeutron will continue to send vif-plugged events only when Nova\nactually plugs the VIF. These types of events are hereafter known as\n""plug-time"" events. OVS hybrid plug is a per agent setting, so for\na particular host, bind-time events are an all-or-nothing thing for the\novs backend: either all VIF_TYPE=ovs ports have them, or no ovs ports\nhave them. In general, a host will only have one network backend.\nThe only exception to this is SR-IOV. SR-IOV is commonly deployed on\nthe same host as other network backends such as OVS or linuxbridge.\nSR-IOV ports with VNIC_TYPE=direct-physical will always have only\nbind-time events. If an instance mixes OVS ports with hybrid-plug=False\nwith direct physical ports, it will have both kinds of events.\n\nFor same host resize reverts we do not update the binding host as the\nhost does not change, as such for same host resize we do not receive\nbind time events. For same host revert we therefore do not wait for\nbind time events in the compute manager.\n\nThis patch adds functions to the NetworkInfo model that return what\nkinds of events each VIF has. These are then used in the migration\nrevert logic to decide when to wait for external events: in the\ncompute manager, when binding the port, for bind-time events,\nand/or in libvirt, when plugging the VIFs, for plug-time events.\n\nCloses-bug: #1832028\nCloses-Bug: #1833902\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nCo-Authored-By: Artom Lifshitz <alifshit@redhat.com>\nChange-Id: I51673e58fc8d5f051df911630f6d7a928d123a5b\n'}, {'number': 9, 'created': '2019-07-10 16:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bcbb33abfee416b0cfdbf9ab39b8a468409a9fd', 'message': 'Revert resize: wait for events according to hybrid plug\n\nSince 4817165fc5938a553fafa1a69c6086f9ebe311af, when reverting a\nresized instance back to the source host, the libvirt driver waits for\nvif-plugged events when spawning the instance. When called from\nfinish_revert_resize() in the source compute manager, libvirt\'s\nfinish_revert_migration() does not pass vifs_already_plugged to\n_create_domain_and_network(), making the latter use the default False\nvalue.\n\nWhen the source compute manager calls\nnetwork_api.migrate_instance_finish() in finish_revert_resize(), this\nupdates the port binding back to the source host. If Neutron is\nconfigured to use OVS hybrid plug, it will send the vif-plugged event\nimmediately after completing this request. This happens before the\nvirt driver\'s finish_revert_migration() method is called. This causes\nthe wait in the libvirt driver to time out because the event is\nreceived before Nova starts waiting for it.\n\nThe neutron ovs l2 agent sends vif-plugged events when two conditions\nare met. First the port must be bound to the host managed by the\nl2 agent and second, the agent must have completed configuring the\nport on ovs. This involves assigning the port a local VLAN for tenant\nisolation, applying security group rules if required and applying\nQoS policies or other agent extensions like service function chaining.\n\nDuring the boot process, we bind the port first to the host\nthen plug the interface into ovs which triggers the l2 agent to\nconfigure it resulting in the emission of the vif-plugged event.\nIn the revert case, as noted above, since the vif is already plugged\non the source node when hybrid-plug is used, binding the port to the\nsource node fulfils the second condition to send the vif-plugged event.\n\nEvents sent immediately after port binding update are hereafter known\nas ""bind-time"" events. For ports that do not use OVS hybrid plug,\nNeutron will continue to send vif-plugged events only when Nova\nactually plugs the VIF. These types of events are hereafter known as\n""plug-time"" events. OVS hybrid plug is a per agent setting, so for\na particular host, bind-time events are an all-or-nothing thing for the\novs backend: either all VIF_TYPE=ovs ports have them, or no ovs ports\nhave them. In general, a host will only have one network backend.\nThe only exception to this is SR-IOV. SR-IOV is commonly deployed on\nthe same host as other network backends such as OVS or linuxbridge.\nSR-IOV ports with VNIC_TYPE=direct-physical will always have only\nbind-time events. If an instance mixes OVS ports with hybrid-plug=False\nwith direct physical ports, it will have both kinds of events.\n\nFor same host resize reverts we do not update the binding host as the\nhost does not change, as such for same host resize we do not receive\nbind time events. For same host revert we therefore do not wait for\nbind time events in the compute manager.\n\nThis patch adds functions to the NetworkInfo model that return what\nkinds of events each VIF has. These are then used in the migration\nrevert logic to decide when to wait for external events: in the\ncompute manager, when binding the port, for bind-time events,\nand/or in libvirt, when plugging the VIFs, for plug-time events.\n\nCloses-bug: #1832028\nCloses-Bug: #1833902\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nChange-Id: I51673e58fc8d5f051df911630f6d7a928d123a5b\n'}, {'number': 10, 'created': '2019-07-11 00:31:46.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_network_info.py', 'nova/tests/unit/objects/test_migration.py', 'nova/virt/libvirt/driver.py', 'nova/network/model.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/objects/migration.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b', 'message': 'Revert resize: wait for events according to hybrid plug\n\nSince 4817165fc5938a553fafa1a69c6086f9ebe311af, when reverting a\nresized instance back to the source host, the libvirt driver waits for\nvif-plugged events when spawning the instance. When called from\nfinish_revert_resize() in the source compute manager, libvirt\'s\nfinish_revert_migration() does not pass vifs_already_plugged to\n_create_domain_and_network(), making the latter use the default False\nvalue.\n\nWhen the source compute manager calls\nnetwork_api.migrate_instance_finish() in finish_revert_resize(), this\nupdates the port binding back to the source host. If Neutron is\nconfigured to use OVS hybrid plug, it will send the vif-plugged event\nimmediately after completing this request. This happens before the\nvirt driver\'s finish_revert_migration() method is called. This causes\nthe wait in the libvirt driver to time out because the event is\nreceived before Nova starts waiting for it.\n\nThe neutron ovs l2 agent sends vif-plugged events when two conditions\nare met. First the port must be bound to the host managed by the\nl2 agent and second, the agent must have completed configuring the\nport on ovs. This involves assigning the port a local VLAN for tenant\nisolation, applying security group rules if required and applying\nQoS policies or other agent extensions like service function chaining.\n\nDuring the boot process, we bind the port first to the host\nthen plug the interface into ovs which triggers the l2 agent to\nconfigure it resulting in the emission of the vif-plugged event.\nIn the revert case, as noted above, since the vif is already plugged\non the source node when hybrid-plug is used, binding the port to the\nsource node fulfils the second condition to send the vif-plugged event.\n\nEvents sent immediately after port binding update are hereafter known\nas ""bind-time"" events. For ports that do not use OVS hybrid plug,\nNeutron will continue to send vif-plugged events only when Nova\nactually plugs the VIF. These types of events are hereafter known as\n""plug-time"" events. OVS hybrid plug is a per agent setting, so for\na particular host, bind-time events are an all-or-nothing thing for the\novs backend: either all VIF_TYPE=ovs ports have them, or no ovs ports\nhave them. In general, a host will only have one network backend.\nThe only exception to this is SR-IOV. SR-IOV is commonly deployed on\nthe same host as other network backends such as OVS or linuxbridge.\nSR-IOV ports with VNIC_TYPE=direct-physical will always have only\nbind-time events. If an instance mixes OVS ports with hybrid-plug=False\nwith direct physical ports, it will have both kinds of events.\n\nFor same host resize reverts we do not update the binding host as the\nhost does not change, as such for same host resize we do not receive\nbind time events. For same host revert we therefore do not wait for\nbind time events in the compute manager.\n\nThis patch adds functions to the NetworkInfo model that return what\nkinds of events each VIF has. These are then used in the migration\nrevert logic to decide when to wait for external events: in the\ncompute manager, when binding the port, for bind-time events,\nand/or in libvirt, when plugging the VIFs, for plug-time events.\n\nCloses-bug: #1832028\nCloses-Bug: #1833902\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nChange-Id: I51673e58fc8d5f051df911630f6d7a928d123a5b\n'}]",77,667177,7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b,135,18,10,11604,,,0,"Revert resize: wait for events according to hybrid plug

Since 4817165fc5938a553fafa1a69c6086f9ebe311af, when reverting a
resized instance back to the source host, the libvirt driver waits for
vif-plugged events when spawning the instance. When called from
finish_revert_resize() in the source compute manager, libvirt's
finish_revert_migration() does not pass vifs_already_plugged to
_create_domain_and_network(), making the latter use the default False
value.

When the source compute manager calls
network_api.migrate_instance_finish() in finish_revert_resize(), this
updates the port binding back to the source host. If Neutron is
configured to use OVS hybrid plug, it will send the vif-plugged event
immediately after completing this request. This happens before the
virt driver's finish_revert_migration() method is called. This causes
the wait in the libvirt driver to time out because the event is
received before Nova starts waiting for it.

The neutron ovs l2 agent sends vif-plugged events when two conditions
are met. First the port must be bound to the host managed by the
l2 agent and second, the agent must have completed configuring the
port on ovs. This involves assigning the port a local VLAN for tenant
isolation, applying security group rules if required and applying
QoS policies or other agent extensions like service function chaining.

During the boot process, we bind the port first to the host
then plug the interface into ovs which triggers the l2 agent to
configure it resulting in the emission of the vif-plugged event.
In the revert case, as noted above, since the vif is already plugged
on the source node when hybrid-plug is used, binding the port to the
source node fulfils the second condition to send the vif-plugged event.

Events sent immediately after port binding update are hereafter known
as ""bind-time"" events. For ports that do not use OVS hybrid plug,
Neutron will continue to send vif-plugged events only when Nova
actually plugs the VIF. These types of events are hereafter known as
""plug-time"" events. OVS hybrid plug is a per agent setting, so for
a particular host, bind-time events are an all-or-nothing thing for the
ovs backend: either all VIF_TYPE=ovs ports have them, or no ovs ports
have them. In general, a host will only have one network backend.
The only exception to this is SR-IOV. SR-IOV is commonly deployed on
the same host as other network backends such as OVS or linuxbridge.
SR-IOV ports with VNIC_TYPE=direct-physical will always have only
bind-time events. If an instance mixes OVS ports with hybrid-plug=False
with direct physical ports, it will have both kinds of events.

For same host resize reverts we do not update the binding host as the
host does not change, as such for same host resize we do not receive
bind time events. For same host revert we therefore do not wait for
bind time events in the compute manager.

This patch adds functions to the NetworkInfo model that return what
kinds of events each VIF has. These are then used in the migration
revert logic to decide when to wait for external events: in the
compute manager, when binding the port, for bind-time events,
and/or in libvirt, when plugging the VIFs, for plug-time events.

Closes-bug: #1832028
Closes-Bug: #1833902
Co-Authored-By: Sean Mooney <work@seanmooney.info>
Change-Id: I51673e58fc8d5f051df911630f6d7a928d123a5b
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/667177/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_network_info.py', 'nova/virt/libvirt/driver.py', 'nova/network/model.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",7,4db2c21e0adccb96b19a0c03b83e49fa81eb1bce,bug/1813789," power_on=True, events=None): events_passed_to_prepare = [] events_passed_to_prepare.append((name, tag)) power_on=power_on, external_events=events) if events and utils.is_neutron() and CONF.vif_plugging_timeout: self.assertEqual(events_passed_to_prepare, events) elif utils.is_neutron() and CONF.vif_plugging_timeout and power_on: @mock.patch('nova.utils.is_neutron', new=mock.Mock(return_value=True)) def test_create_with_network_events_passed_in(self): self._test_create_with_network_events( events=[('network-vif-plugged', uuids.fake_vif)]) @mock.patch('nova.utils.is_neutron', new=mock.Mock(return_value=False)) def test_create_with_network_events_passed_in_nova_net(self): self._test_create_with_network_events( events=[('network-vif-plugged', uuids.fake_vif)]) @mock.patch('nova.utils.is_neutron', new=mock.Mock(return_value=True)) def test_create_with_network_events_passed_in_0_timeout(self): self.flags(vif_plugging_timeout=0) self._test_create_with_network_events( events=[('network-vif-plugged', uuids.fake_vif)]) vifs_already_plugged=None, external_events=None): self.assertEqual(self.events_passed_to_fake_create, external_events) network_info = network_model.NetworkInfo( [network_model.VIF(id=uuids.normal_plug_time_vif), network_model.VIF(id=uuids.hybrid_bind_time_vif, details={'ovs_hybrid_plug': True})]) self.events_passed_to_fake_create = [ ('network-vif-plugged', uuids.normal_plug_time_vif)] context.get_admin_context(), ins_ref, network_info, None, power_on) drvr.finish_revert_migration(context, ins_ref, network_model.NetworkInfo()) drvr.finish_revert_migration('', instance, network_model.NetworkInfo(), power_on=False) drvr.finish_revert_migration('', ins_ref, network_model.NetworkInfo(), power_on=False) drvr.finish_revert_migration('', ins_ref, network_model.NetworkInfo(), power_on=False)"," power_on=True): power_on=power_on) if utils.is_neutron() and CONF.vif_plugging_timeout and power_on: vifs_already_plugged=None): context.get_admin_context(), ins_ref, [], None, power_on) drvr.finish_revert_migration(context, ins_ref, []) drvr.finish_revert_migration('', instance, None, power_on=False) drvr.finish_revert_migration('', ins_ref, None, power_on=False) drvr.finish_revert_migration('', ins_ref, None, power_on=False)",260,34
openstack%2Fsenlin~master~I382ed590ad6e6792b764e1922df6b0fde55c595f,openstack/senlin,master,I382ed590ad6e6792b764e1922df6b0fde55c595f,Remove neutron-fwaas from the jobs' required project,MERGED,2020-06-16 10:33:46.000000000,2020-08-10 09:40:46.000000000,2020-08-10 09:37:31.000000000,"[{'_account_id': 6348}, {'_account_id': 7404}, {'_account_id': 8246}, {'_account_id': 8556}, {'_account_id': 9323}, {'_account_id': 11034}, {'_account_id': 11975}, {'_account_id': 15857}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 23401}, {'_account_id': 23517}, {'_account_id': 25395}, {'_account_id': 25674}, {'_account_id': 27224}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-06-16 10:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/c6d2e755df043b79408758def698b3099d5ce4ee', 'message': ""Remove neutron-fwaas from the jobs' required project\n\nNeutron-fwaas is going to be deprecated in master branch with [1].\n\n[1] https://review.opendev.org/#/c/735828/\n\nChange-Id: I382ed590ad6e6792b764e1922df6b0fde55c595f\n""}, {'number': 2, 'created': '2020-08-03 09:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/38543ecc7220dbb22e6771900f667a76ad13ee13', 'message': ""Remove neutron-fwaas from the jobs' required project\n\nNeutron-fwaas is going to be deprecated in master branch with [1].\n\n[1] https://review.opendev.org/#/c/735828/\n\nChange-Id: I382ed590ad6e6792b764e1922df6b0fde55c595f\n""}, {'number': 3, 'created': '2020-08-10 07:26:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/senlin/commit/585bd14c70415b63265321cc7728b4e8c50702a7', 'message': ""Remove neutron-fwaas from the jobs' required project\n\nNeutron-fwaas is going to be deprecated in master branch with [1].\n\n[1] https://review.opendev.org/#/c/735828/\n\nChange-Id: I382ed590ad6e6792b764e1922df6b0fde55c595f\n""}]",0,735859,585bd14c70415b63265321cc7728b4e8c50702a7,28,17,3,11975,,,0,"Remove neutron-fwaas from the jobs' required project

Neutron-fwaas is going to be deprecated in master branch with [1].

[1] https://review.opendev.org/#/c/735828/

Change-Id: I382ed590ad6e6792b764e1922df6b0fde55c595f
",git fetch https://review.opendev.org/openstack/senlin refs/changes/59/735859/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c6d2e755df043b79408758def698b3099d5ce4ee,retire-neutron-fwaas,, - openstack/neutron-fwaas,0,1
openstack%2Fcinder~master~Iee8143755f7d180d9f560721b7087952c7a03b8c,openstack/cinder,master,Iee8143755f7d180d9f560721b7087952c7a03b8c,Updating the release notes for PowerFlex Driver Rebrand,MERGED,2020-08-07 15:31:00.000000000,2020-08-10 09:17:13.000000000,2020-08-07 21:04:06.000000000,"[{'_account_id': 5314}, {'_account_id': 7160}, {'_account_id': 9008}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13671}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 21129}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 31016}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-08-07 15:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b9f0d501a2801872fa5cc08c7ed9e2f5ba1dd400', 'message': 'Updating the release notes for PowerFlex Driver Rebrand\n\nThis release note update is a follow up to the review\nhttps://review.opendev.org/#/c/740522\n\nChange-Id: Iee8143755f7d180d9f560721b7087952c7a03b8c\n'}, {'number': 2, 'created': '2020-08-07 15:31:31.000000000', 'files': ['releasenotes/notes/vxflexos-powerflex-rebrand-37dfe2b82d35b6a2.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/db4c1ec55a5dd46a133833bc5377ea3e9f714716', 'message': 'Updating the release notes for PowerFlex Driver Rebrand\n\nThis release note update is a follow up to the review\nhttps://review.opendev.org/#/c/740522\n\nChange-Id: Iee8143755f7d180d9f560721b7087952c7a03b8c\n'}]",0,745361,db4c1ec55a5dd46a133833bc5377ea3e9f714716,35,26,2,10379,,,0,"Updating the release notes for PowerFlex Driver Rebrand

This release note update is a follow up to the review
https://review.opendev.org/#/c/740522

Change-Id: Iee8143755f7d180d9f560721b7087952c7a03b8c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/61/745361/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/vxflexos-powerflex-rebrand-37dfe2b82d35b6a2.yaml'],1,b9f0d501a2801872fa5cc08c7ed9e2f5ba1dd400,powerflex_rebrand2," Dell EMC VxFlex OS has been rebranded to PowerFlex. The driver has been renamed to ``cinder.volume.drivers.dell_emc.powerflex.driver.PowerFlexDriver``. Although in this release the volume manager will recognize the old driver name, that functionality will be removed in the Wallaby release, and thus we recommend that you update the driver name in ``cinder.conf`` at your earliest convenience. Existing vxFlex OS configuration options will continue to work in this release, but this functionality will be removed in the Wallaby release. Thus all driver configuration options that start with ``vxflexos`` should be updated to ``powerflex`` in your ``cinder.conf`` as soon as possible. Before the Rocky release, this driver was named ``cinder.volume.drivers.dell_emc.scaleio.driver.ScaleIODriver``. That name was deprecated in the Rocky release. In this release, the pre-Rocky name for this driver is no longer recognized and support for configuration options beginning with ``sio`` has been removed. The online documentation has been updated to reflect these changes. ", Dell EMC VxFlex OS has been rebranded to PowerFlex. The drivers will now be updated to ``cinder.volume.drivers.dell_emc.powerflex.driver.PowerFlexDriver`` in cinder.conf. Driver configuration options that start with ``vxflexos`` should also be updated to ``powerflex``. Existing vxFlex OS configuration options will continue to work but will be removed in the W release. The previously deprecated driver ``cinder.volume.drivers.dell_emc.scaleio.driver.ScaleIODriver`` and the corresponding sio options will now be removed. Online documentation will also change to reflect these changes.,23,10
openstack%2Ftripleo-upgrade~master~Ide724e398a5cd4fdaf77d1a127e9d5c32852ae6b,openstack/tripleo-upgrade,master,Ide724e398a5cd4fdaf77d1a127e9d5c32852ae6b,Keep ceph-ansible 3 during whole FFU.,MERGED,2020-08-03 10:01:56.000000000,2020-08-10 09:13:36.000000000,2020-08-07 15:22:47.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-08-03 10:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/69389c1a36acc147b050a6f13a40f17708a8510a', 'message': 'Keep ceph-ansible 3 during whole FFU.\n\nTo be able to FFU a ceph-enabled environment, it is required to\nkeep installed in the system ceph-ansible 3 in the Undercloud until the\nconverge step.\n\nThis patch adds the ceph-ansible package in the to_keep files, as well as\nmodifies some of the Undercloud upgrade tasks to make sure the package\nsurvives to the leapp upgrade.\n\nChange-Id: Ide724e398a5cd4fdaf77d1a127e9d5c32852ae6b\n'}, {'number': 2, 'created': '2020-08-03 12:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/af93b3d2453cbf1e0af2b9190a702716fc3b2378', 'message': 'Keep ceph-ansible 3 during whole FFU.\n\nTo be able to FFU a ceph-enabled environment, it is required to\nkeep installed in the system ceph-ansible 3 in the Undercloud until the\nconverge step.\n\nThis patch adds the ceph-ansible package in the to_keep files, as well as\nmodifies some of the Undercloud upgrade tasks to make sure the package\nsurvives to the leapp upgrade.\n\nCo-Authored-By: Jesse Pretorius <jesse@odyssey4.me>\nChange-Id: Ide724e398a5cd4fdaf77d1a127e9d5c32852ae6b\n'}, {'number': 3, 'created': '2020-08-03 14:00:21.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d43cfabd5163c9c50aac21caccd3b4f6858cc72b', 'message': 'Keep ceph-ansible 3 during whole FFU.\n\nTo be able to FFU a ceph-enabled environment, it is required to\nkeep installed in the system ceph-ansible 3 in the Undercloud until the\nconverge step.\n\nThis patch adds the ceph-ansible package in the to_keep files, as well as\nmodifies some of the Undercloud upgrade tasks to make sure the package\nsurvives to the leapp upgrade.\n\nCo-Authored-By: Jesse Pretorius <jesse@odyssey4.me>\nChange-Id: Ide724e398a5cd4fdaf77d1a127e9d5c32852ae6b\n'}]",0,744441,d43cfabd5163c9c50aac21caccd3b4f6858cc72b,12,5,3,26343,,,0,"Keep ceph-ansible 3 during whole FFU.

To be able to FFU a ceph-enabled environment, it is required to
keep installed in the system ceph-ansible 3 in the Undercloud until the
converge step.

This patch adds the ceph-ansible package in the to_keep files, as well as
modifies some of the Undercloud upgrade tasks to make sure the package
survives to the leapp upgrade.

Co-Authored-By: Jesse Pretorius <jesse@odyssey4.me>
Change-Id: Ide724e398a5cd4fdaf77d1a127e9d5c32852ae6b
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/41/744441/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,69389c1a36acc147b050a6f13a40f17708a8510a,," -python-httplib2 -python-passlib -python2-netaddr -ceph-ansible - name: Add ceph-ansible into leapp's to_keep file if installed lineinfile: path: ""/etc/leapp/transaction/to_keep"" line: ""ceph-ansible"" when: ceph_ansible_pre_leapp|bool yum repolist -q 2> /dev/null | grep -e rhos-16 -e 'rhel-8.*baseos' -e 'rhel-8.*appstream' -e 'rhel-8.*fdp' -e 'rhel-8.*av' -e 'ansible' | cut -d '/' -f1 | \- name: Relabel SELinux for filesystem after reboot. file: path: {{ working_dir}}/.autorelabel state: touch ", yum repolist -q 2> /dev/null | grep -e rhos-16 -e 'rhel-8.*baseos' -e 'rhel-8.*appstream' -e 'rhel-8.*fdp' -e 'rhel-8.*av' -e 'ceph-4' | cut -d '/' -f1 | \,17,1
openstack%2Fcinder~master~Ifd81fce46a1c4632f9bfbface2e585c65b3f197f,openstack/cinder,master,Ifd81fce46a1c4632f9bfbface2e585c65b3f197f,=recheck,ABANDONED,2020-08-10 07:05:45.000000000,2020-08-10 09:13:07.000000000,,"[{'_account_id': 12032}, {'_account_id': 24921}, {'_account_id': 29705}]","[{'number': 1, 'created': '2020-08-10 07:05:45.000000000', 'files': ['cinder/exception.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6ff4473a485b75c07900bec80159477720f77b46', 'message': '=recheck\n\nChange-Id: Ifd81fce46a1c4632f9bfbface2e585c65b3f197f\n'}]",0,745486,6ff4473a485b75c07900bec80159477720f77b46,6,3,1,30754,,,0,"=recheck

Change-Id: Ifd81fce46a1c4632f9bfbface2e585c65b3f197f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/86/745486/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/exception.py'],1,6ff4473a485b75c07900bec80159477720f77b46,test1,SHOULD! include dedicated exception logging.,SHOULD include dedicated exception logging.,1,1
openstack%2Fsecurity-doc~master~I31bc682c34b2c9111ad1f3d45a570606eba4b6f6,openstack/security-doc,master,I31bc682c34b2c9111ad1f3d45a570606eba4b6f6,Fix some typos in the document,MERGED,2020-08-10 07:22:45.000000000,2020-08-10 09:12:48.000000000,2020-08-10 09:11:18.000000000,"[{'_account_id': 6547}, {'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 32281}]","[{'number': 1, 'created': '2020-08-10 07:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/4e046ca23b29a003f4493f6c02c361bdd75d82cf', 'message': ""Fix some typos in the documents\n\nThis patch changes 'Kernal-based' to\n'Kernel-based' and 'Kernal Samepage' to\n'Kernel Samepage'\n\nChange-Id: I31bc682c34b2c9111ad1f3d45a570606eba4b6f6\n""}, {'number': 2, 'created': '2020-08-10 08:06:36.000000000', 'files': ['security-guide/source/compute/hypervisor-selection.rst'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/febfb1224e69bb7853b19b61a0d5fe32e72fc87d', 'message': ""Fix some typos in the document\n\nThis patch changes 'Kernal-based' to\n'Kernel-based' and 'Kernal Samepage' to\n'Kernel Samepage'\n\nChange-Id: I31bc682c34b2c9111ad1f3d45a570606eba4b6f6\n""}]",2,745487,febfb1224e69bb7853b19b61a0d5fe32e72fc87d,13,4,2,32281,,,0,"Fix some typos in the document

This patch changes 'Kernal-based' to
'Kernel-based' and 'Kernal Samepage' to
'Kernel Samepage'

Change-Id: I31bc682c34b2c9111ad1f3d45a570606eba4b6f6
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/87/745487/2 && git format-patch -1 --stdout FETCH_HEAD,"['security-guide/source/compute/hypervisor-selection.rst', 'security-guide/source/locale/id/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/tr_TR/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/de/LC_MESSAGES/security-guide.po']",4,4e046ca23b29a003f4493f6c02c361bdd75d82cf,security-doc-0810,"""KVM: kernel-based Virtual Machine. kernel Samepage Merging. 2010. `http://""""KVM: Kernbasierte virtuelle Maschine. kernel Samepage Merging. 2010. `http://""","""KVM: Kernal-based Virtual Machine. Kernal Samepage Merging. 2010. `http://""""KVM: Kernbasierte virtuelle Maschine. Kernal Samepage Merging. 2010. `http://""",7,7
openstack%2Fironic-inspector~master~I6123e8fd197b18c02de03e8cb9ced5a7ddf91ed7,openstack/ironic-inspector,master,I6123e8fd197b18c02de03e8cb9ced5a7ddf91ed7,Normalize formatting in the API versions reference,MERGED,2020-08-07 11:25:41.000000000,2020-08-10 09:02:59.000000000,2020-08-10 09:01:00.000000000,"[{'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-07 11:25:41.000000000', 'files': ['api-ref/source/introspection-api-versions.inc'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/9de65e337a5802e11074b3c0fc102a074a9311b6', 'message': 'Normalize formatting in the API versions reference\n\nChange-Id: I6123e8fd197b18c02de03e8cb9ced5a7ddf91ed7\n'}]",0,745312,9de65e337a5802e11074b3c0fc102a074a9311b6,9,4,1,10239,,,0,"Normalize formatting in the API versions reference

Change-Id: I6123e8fd197b18c02de03e8cb9ced5a7ddf91ed7
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/12/745312/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/introspection-api-versions.inc'],1,9de65e337a5802e11074b3c0fc102a074a9311b6,api-ref,"* **1.3** endpoint for canceling running introspection.* **1.7** UUID, ``started_at``, ``finished_at`` in the introspection status API. are requested, API gets HTTP 400 response. * **1.10** adds node state to the ``GET /v1/introspection/<node>`` and ``GET /v1/introspection`` API response data. * **1.11** adds ``invert`` and multiple fields into rules response data.","* **1.3** endpoint for canceling running introspection* **1.7** UUID, started_at, finished_at in the introspection status API. are requested, API gets HTTP 400 response. * **1.10** adds node state to the GET /v1/introspection/<Node ID> and GET /v1/introspection API response data. * **1.11** adds invert&multiple fields into rules response data",7,6
openstack%2Ftap-as-a-service~master~I7a065a0cde1344af38655c9f136526eaa2524923,openstack/tap-as-a-service,master,I7a065a0cde1344af38655c9f136526eaa2524923,"Complete removal of dependency on the ""mock"" package",MERGED,2020-07-13 08:28:15.000000000,2020-08-10 08:56:22.000000000,2020-08-10 08:56:22.000000000,"[{'_account_id': 6854}, {'_account_id': 8313}, {'_account_id': 22348}, {'_account_id': 27589}, {'_account_id': 29220}]","[{'number': 1, 'created': '2020-07-13 08:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/ef3e3877c6bef4671196abb2260ae55aa4eda159', 'message': 'Complete removal of dependency on the ""mock"" package\n\nChange-Id: I7a065a0cde1344af38655c9f136526eaa2524923\n'}, {'number': 2, 'created': '2020-07-13 11:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/d27f6294773e97cc85553f456ef94c54e4a3019c', 'message': 'Complete removal of dependency on the ""mock"" package\n\nChange requirement for sphinx as it brakes requirements-check job in its\ncurrent state.\n\nChange-Id: I7a065a0cde1344af38655c9f136526eaa2524923\n'}, {'number': 3, 'created': '2020-07-13 13:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/4706a3a2c3b6ea5cdcdf042174e34e1abb017bcf', 'message': 'Complete removal of dependency on the ""mock"" package\n\nChange requirement for sphinx as it brakes requirements-check job in its\ncurrent state.\n\nChange-Id: I7a065a0cde1344af38655c9f136526eaa2524923\n'}, {'number': 4, 'created': '2020-07-13 13:21:30.000000000', 'files': ['neutron_taas/tests/unit/extensions/test_taas.py', 'neutron_taas/tests/unit/taas_client/test_cli20_tapservice.py', 'test-requirements.txt', 'neutron_taas/tests/unit/taas_client/test_cli20_tapflow.py', 'neutron_taas/tests/unit/services/taas/test_taas_plugin.py', 'neutron_taas/tests/unit/services/drivers/test_linux_sriov_utils.py', 'neutron_taas/tests/unit/extensions/test_vlan_filter.py', 'neutron_taas/tests/unit/services/drivers/test_linux_sriov_nic_driver.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/4eb270d886e8347b8f94921b564ccd9dc28e876b', 'message': 'Complete removal of dependency on the ""mock"" package\n\nRemove sphinx from test-requirements.txt as the whole doc building is\nis fixed in this patch: https://review.opendev.org/721994\n\nChange-Id: I7a065a0cde1344af38655c9f136526eaa2524923\n'}]",5,740633,4eb270d886e8347b8f94921b564ccd9dc28e876b,12,5,4,8313,,,0,"Complete removal of dependency on the ""mock"" package

Remove sphinx from test-requirements.txt as the whole doc building is
is fixed in this patch: https://review.opendev.org/721994

Change-Id: I7a065a0cde1344af38655c9f136526eaa2524923
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/33/740633/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_taas/tests/unit/extensions/test_taas.py', 'neutron_taas/tests/unit/taas_client/test_cli20_tapservice.py', 'neutron_taas/tests/unit/taas_client/test_cli20_tapflow.py', 'neutron_taas/tests/unit/services/taas/test_taas_plugin.py', 'neutron_taas/tests/unit/extensions/test_vlan_filter.py', 'neutron_taas/tests/unit/services/drivers/test_linux_sriov_utils.py', 'neutron_taas/tests/unit/services/drivers/test_linux_sriov_nic_driver.py', 'lower-constraints.txt']",8,ef3e3877c6bef4671196abb2260ae55aa4eda159,unittest.mock.functional,,mock==2.0.0,7,8
openstack%2Fkuryr-kubernetes~master~I0723d1269e7523d0bb38b3b06ca002aed3bf5653,openstack/kuryr-kubernetes,master,I0723d1269e7523d0bb38b3b06ca002aed3bf5653,Ignore update_lbaas_sg() failure on NP creation,MERGED,2020-08-05 10:32:05.000000000,2020-08-10 08:50:16.000000000,2020-08-10 08:48:22.000000000,"[{'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 30963}]","[{'number': 1, 'created': '2020-08-05 10:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ce06c0247f095a663afd110e9cd0b8957df5b4e1', 'message': ""Ignore update_lbaas_sg() failure on NP creation\n\nRaising ResourceNotReady from update_lbaas_sg() executed when\nKuryrNetworkPolicy is handled leads to timing out to apply the NP when\nthere's an LB in creation even though clearly it should not, as once LB\nis up and members will start to get added to it - they'll have correct\nSGs applied.\n\nThis should help with test_update_network_policy failing on gate.\n\nChange-Id: I0723d1269e7523d0bb38b3b06ca002aed3bf5653\nCloses-Bug: 1890421\n""}, {'number': 2, 'created': '2020-08-05 10:35:42.000000000', 'files': ['kuryr_kubernetes/controller/handlers/kuryrnetworkpolicy.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5e8511f63b55a54062433a717228cfb7586c40e3', 'message': ""Ignore update_lbaas_sg() failure on NP creation\n\nRaising ResourceNotReady from update_lbaas_sg() executed when\nKuryrNetworkPolicy is handled leads to timing out to apply the NP when\nthere's an LB in creation even though clearly it should not, as once LB\nis up and members will start to get added to it - they'll have correct\nSGs applied.\n\nThis should help with test_update_network_policy failing on gate.\n\nChange-Id: I0723d1269e7523d0bb38b3b06ca002aed3bf5653\nCloses-Bug: 1890421\n""}]",0,744880,5e8511f63b55a54062433a717228cfb7586c40e3,9,4,2,11600,,,0,"Ignore update_lbaas_sg() failure on NP creation

Raising ResourceNotReady from update_lbaas_sg() executed when
KuryrNetworkPolicy is handled leads to timing out to apply the NP when
there's an LB in creation even though clearly it should not, as once LB
is up and members will start to get added to it - they'll have correct
SGs applied.

This should help with test_update_network_policy failing on gate.

Change-Id: I0723d1269e7523d0bb38b3b06ca002aed3bf5653
Closes-Bug: 1890421
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/80/744880/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/kuryrnetworkpolicy.py'],1,ce06c0247f095a663afd110e9cd0b8957df5b4e1,bug/1890421," try: self._drv_lbaas.update_lbaas_sg(service, sgs) except exceptions.ResourceNotReady: # We can ignore LBs that's being created - those will get # handled by their own handler once created. pass"," self._drv_lbaas.update_lbaas_sg(service, sgs)",6,1
openstack%2Foctavia~master~I89519d59ab0f2cf265e41e3def540d725c6e6e89,openstack/octavia,master,I89519d59ab0f2cf265e41e3def540d725c6e6e89,[Trivial]Add missing space between words,MERGED,2020-07-28 07:35:36.000000000,2020-08-10 08:35:48.000000000,2020-08-10 08:32:52.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 20190}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 07:35:36.000000000', 'files': ['octavia/amphorae/drivers/noop_driver/driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/01541ade06a74d7965744be6de49b322380ccdd8', 'message': '[Trivial]Add missing space between words\n\nThis is to add missing space between words in log messages.\n\nChange-Id: I89519d59ab0f2cf265e41e3def540d725c6e6e89\n'}]",0,743476,01541ade06a74d7965744be6de49b322380ccdd8,20,5,1,20190,,,0,"[Trivial]Add missing space between words

This is to add missing space between words in log messages.

Change-Id: I89519d59ab0f2cf265e41e3def540d725c6e6e89
",git fetch https://review.opendev.org/openstack/octavia refs/changes/76/743476/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/amphorae/drivers/noop_driver/driver.py'],1,01541ade06a74d7965744be6de49b322380ccdd8,missing_ws," LOG.debug(""Amphora %s no-op, start listeners, lb %s, amp %s """," LOG.debug(""Amphora %s no-op, start listeners, lb %s, amp %s""",1,1
openstack%2Fmurano~master~I64d205b406ac220e481fd8d3c1d611a7b24f32f6,openstack/murano,master,I64d205b406ac220e481fd8d3c1d611a7b24f32f6,Add native grenade zuul v3 jobs,MERGED,2020-05-14 10:56:19.000000000,2020-08-10 08:14:27.000000000,2020-08-10 07:41:45.000000000,"[{'_account_id': 10459}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-14 10:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/1c33f8178711d713e2e44dabc58eddc31f1fa46f', 'message': 'Add native grenade zuul v3 jobs\n\nChange-Id: I64d205b406ac220e481fd8d3c1d611a7b24f32f6\n'}, {'number': 2, 'created': '2020-05-14 11:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/b417b3a6ec594010010c6e3c558174b12380749e', 'message': 'Add native grenade zuul v3 jobs\n\nChange-Id: I64d205b406ac220e481fd8d3c1d611a7b24f32f6\n'}, {'number': 3, 'created': '2020-05-15 01:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/53ec9b4dd5ebc42fafaf4774ff9f6891576c1201', 'message': 'Add native grenade zuul v3 jobs\n\nChange-Id: I64d205b406ac220e481fd8d3c1d611a7b24f32f6\n'}, {'number': 4, 'created': '2020-05-29 08:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/88b8c4839cb794c39f2a3f14bc69153a5797980c', 'message': 'Add native grenade zuul v3 jobs\n\nDepends-On: https://review.opendev.org/#/c/731681/\nChange-Id: I64d205b406ac220e481fd8d3c1d611a7b24f32f6\n'}, {'number': 5, 'created': '2020-08-10 02:13:21.000000000', 'files': ['playbooks/legacy/grenade-devstack-murano/post.yaml', '.zuul.yaml', 'playbooks/legacy/grenade-devstack-murano/run.yaml'], 'web_link': 'https://opendev.org/openstack/murano/commit/242d617502eba2b8328a7be6440275cbe3182de9', 'message': 'Add native grenade zuul v3 jobs\n\nDepends-On: https://review.opendev.org/#/c/731681/\nChange-Id: I64d205b406ac220e481fd8d3c1d611a7b24f32f6\n'}]",2,728026,242d617502eba2b8328a7be6440275cbe3182de9,27,3,5,14107,,,0,"Add native grenade zuul v3 jobs

Depends-On: https://review.opendev.org/#/c/731681/
Change-Id: I64d205b406ac220e481fd8d3c1d611a7b24f32f6
",git fetch https://review.opendev.org/openstack/murano refs/changes/26/728026/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/grenade-devstack-murano/post.yaml', '.zuul.yaml', 'playbooks/legacy/grenade-devstack-murano/run.yaml']",3,1c33f8178711d713e2e44dabc58eddc31f1fa46f,native-zuulv3-migration,,"- hosts: all name: legacy-grenade-dsvm-watcher tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ https://opendev.org \ openstack/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x cat << 'EOF' >>""/tmp/dg-local.conf"" [[local|localrc]] TEMPEST_PLUGINS='/opt/stack/new/murano-tempest-plugin /opt/stack/new/heat-tempest-plugin' enable_plugin heat https://opendev.org/openstack/heat EOF executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PYTHONUNBUFFERED=true export DEVSTACK_GATE_TEMPEST_NOTESTS=1 export DEVSTACK_GATE_NEUTRON=1 export DEVSTACK_GATE_USE_PYTHON3=True export PROJECTS=""openstack/grenade $PROJECTS"" export PROJECTS=""openstack/heat $PROJECTS"" export PROJECTS=""openstack/python-heatclient $PROJECTS"" export PROJECTS=""openstack/murano $PROJECTS"" export PROJECTS=""openstack/murano-dashboard $PROJECTS"" export PROJECTS=""openstack/python-muranoclient $PROJECTS"" export PROJECTS=""openstack/heat-tempest-plugin $PROJECTS"" export PROJECTS=""openstack/murano-tempest-plugin $PROJECTS"" export BRANCH_OVERRIDE=default export GRENADE_PLUGINRC=""enable_grenade_plugin murano https://opendev.org/openstack/murano"" export GRENADE_PLUGINRC+=$'\n'""enable_grenade_plugin heat https://opendev.org/openstack/heat"" export DEVSTACK_GATE_GRENADE=pullup if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",9,97
openstack%2Fpymod2pkg~master~I3537bd87c29d59d3eeb42d3b2e81a2adbcb40a60,openstack/pymod2pkg,master,I3537bd87c29d59d3eeb42d3b2e81a2adbcb40a60,Fix PyYAML mapping for RDO,MERGED,2019-10-30 11:15:05.000000000,2020-08-10 08:14:18.000000000,2020-08-10 08:12:29.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 10068}, {'_account_id': 13294}, {'_account_id': 13861}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31068}]","[{'number': 1, 'created': '2019-10-30 11:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pymod2pkg/commit/c0a9b156c40d7bde98cb604de59c6f3a4fdaf1a6', 'message': 'Fix PyYAML mapping for RDO\n\nChange-Id: I3537bd87c29d59d3eeb42d3b2e81a2adbcb40a60\n'}, {'number': 2, 'created': '2020-08-07 13:46:45.000000000', 'files': ['pymod2pkg/__init__.py'], 'web_link': 'https://opendev.org/openstack/pymod2pkg/commit/3b2f6d77308cb7fafaa1a0171a4b64fd5e3d632b', 'message': 'Fix PyYAML mapping for RDO\n\nChange-Id: I3537bd87c29d59d3eeb42d3b2e81a2adbcb40a60\n'}]",3,692108,3b2f6d77308cb7fafaa1a0171a4b64fd5e3d632b,19,9,2,31068,,,0,"Fix PyYAML mapping for RDO

Change-Id: I3537bd87c29d59d3eeb42d3b2e81a2adbcb40a60
",git fetch https://review.opendev.org/openstack/pymod2pkg refs/changes/08/692108/1 && git format-patch -1 --stdout FETCH_HEAD,['pymod2pkg/__init__.py'],1,c0a9b156c40d7bde98cb604de59c6f3a4fdaf1a6,," SingleRule('PyYAML', 'python-PyYAML', py3pkg='python3-PyYAML'),"," SingleRule('PyYAML', 'python-yaml', py3pkg='python3-yaml'),",1,1
openstack%2Fironic-python-agent~bugfix%2F6.2~Ic4608b7c6ff9773d1403926efb3d59869c71343b,openstack/ironic-python-agent,bugfix/6.2,Ic4608b7c6ff9773d1403926efb3d59869c71343b,Fix TypeError on agent lookup failure,MERGED,2020-08-07 22:29:35.000000000,2020-08-10 08:04:41.000000000,2020-08-10 08:02:07.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-07 22:29:35.000000000', 'files': ['ironic_python_agent/tests/unit/test_ironic_api_client.py', 'releasenotes/notes/fixes-agent-lookup-retries-1b4bb90b8e783aca.yaml', 'ironic_python_agent/ironic_api_client.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ab5e1f57a379f55bcc1f49d396fd0d5e9bc1a7b2', 'message': 'Fix TypeError on agent lookup failure\n\nAgent lookups can fail as we presently use logging.exception,\nbetter known in our code as LOG.exception, which can also generate\nother fun issues on journald based systems where additional errors\ncould be raised resulting in us being unable to troubleshoot the\nthe actual issue.\n\nBecause of the mis-use of LOG.exception and the default behavior\nof the backoff retry handler, the retry logic was also not\nfunctional as any error no matter how small caused IPA to\njust exit.\n\nChange-Id: Ic4608b7c6ff9773d1403926efb3d59869c71343b\nStory: 2007968\nTask: 40465\n(cherry picked from commit 5eab9bced63b2b9a6753cbbf594dda7ef9d03a3a)\n'}]",0,745422,ab5e1f57a379f55bcc1f49d396fd0d5e9bc1a7b2,9,3,1,11655,,,0,"Fix TypeError on agent lookup failure

Agent lookups can fail as we presently use logging.exception,
better known in our code as LOG.exception, which can also generate
other fun issues on journald based systems where additional errors
could be raised resulting in us being unable to troubleshoot the
the actual issue.

Because of the mis-use of LOG.exception and the default behavior
of the backoff retry handler, the retry logic was also not
functional as any error no matter how small caused IPA to
just exit.

Change-Id: Ic4608b7c6ff9773d1403926efb3d59869c71343b
Story: 2007968
Task: 40465
(cherry picked from commit 5eab9bced63b2b9a6753cbbf594dda7ef9d03a3a)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/22/745422/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/test_ironic_api_client.py', 'releasenotes/notes/fixes-agent-lookup-retries-1b4bb90b8e783aca.yaml', 'ironic_python_agent/ironic_api_client.py']",3,ab5e1f57a379f55bcc1f49d396fd0d5e9bc1a7b2,," except (requests.exceptions.Timeout, requests.exceptions.ConnectTimeout, requests.exceptions.ConnectionError, requests.exceptions.ReadTimeout, requests.exceptions.HTTPError) as err: LOG.warning( 'Error detected while attempting to perform lookup ' 'with %s, retrying. Error: %s', self.api_url, err except Exception as err: # NOTE(TheJulia): If you're looking here, and you're wondering # why the retry logic is not working or your investigating a weird # error or even IPA just exiting, # See https://storyboard.openstack.org/#!/story/2007968 # To be clear, we're going to try to provide as much detail as # possible in the exit handling msg = ('Unhandled error looking up node with addresses {} at ' '{}: {}'.format(params['addresses'], self.api_url, err)) # No matter what we do at this point, IPA is going to exit. # This is because we don't know why the exception occured and # we likely should not try to retry as such. # We will attempt to provide as much detail to the logs as # possible as to what occured, although depending on the logging # subsystem, additional errors can occur, thus the additional # handling below. try: LOG.exception(msg) return False except Exception as exc_err: LOG.error(msg) exc_msg = ('Unexpected exception occured while trying to ' 'log additional detail. Error: {}'.format(exc_err)) LOG.error(exc_msg) raise errors.LookupNodeError(msg)"," except Exception as err: LOG.exception( 'Unhandled error looking up node with addresses %r at %s: %s', params['addresses'], self.api_url, err,",84,4
openstack%2Fironic-python-agent~master~I4b0be2b0755108490f9cd3c4f3b71a5e036761a1,openstack/ironic-python-agent,master,I4b0be2b0755108490f9cd3c4f3b71a5e036761a1,Ignore devices with size 0 when collecting inventory,MERGED,2020-07-09 14:32:24.000000000,2020-08-10 07:59:33.000000000,2020-07-15 10:07:27.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-09 14:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9ee9b597cbaf1dcda73890aa31649ee82ae7b7d5', 'message': 'Ignore devices with size 0 when collecting inventory\n\nChange-Id: I4b0be2b0755108490f9cd3c4f3b71a5e036761a1\n'}, {'number': 2, 'created': '2020-07-09 14:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/24f1a094ce734fab425bca0f4c09f45d8fcdbc2e', 'message': 'Ignore devices with size 0 when collecting inventory\n\nStory: #2007907\nTask: #40307\nChange-Id: I4b0be2b0755108490f9cd3c4f3b71a5e036761a1\n'}, {'number': 3, 'created': '2020-07-09 16:28:56.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/zero-size-78d3be2ac8fd59c2.yaml', 'ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1f3b70c4e968464a93ea68e6f64c4836b90446de', 'message': 'Ignore devices with size 0 when collecting inventory\n\ndelete_configuration still fetches all devices as it needs to clean\nones with broken RAID.\n\nStory: #2007907\nTask: #40307\nChange-Id: I4b0be2b0755108490f9cd3c4f3b71a5e036761a1\n'}]",0,740309,1f3b70c4e968464a93ea68e6f64c4836b90446de,25,7,3,10239,,,0,"Ignore devices with size 0 when collecting inventory

delete_configuration still fetches all devices as it needs to clean
ones with broken RAID.

Story: #2007907
Task: #40307
Change-Id: I4b0be2b0755108490f9cd3c4f3b71a5e036761a1
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/09/740309/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'releasenotes/notes/zero-size-78d3be2ac8fd59c2.yaml', 'ironic_python_agent/tests/unit/test_hardware.py']",3,9ee9b597cbaf1dcda73890aa31649ee82ae7b7d5,zero-size," 'KNAME=""fd1"" MODEL=""magic"" SIZE=""4096"" ROTA=""1"" TYPE=""disk""\n' 'KNAME=""sdf"" MODEL=""virtual floppy"" SIZE=""0"" ROTA=""1"" TYPE=""disk""'"," 'KNAME=""fd1"" MODEL=""magic"" SIZE=""4096"" ROTA=""1"" TYPE=""disk""'",15,2
openstack%2Fopenstack-ansible-os_heat~master~I8b93233e30136f54221234e12c8b5eeffc1ba5a6,openstack/openstack-ansible-os_heat,master,I8b93233e30136f54221234e12c8b5eeffc1ba5a6,Fix _project_domain for heat,MERGED,2020-08-06 16:37:00.000000000,2020-08-10 07:48:46.000000000,2020-08-10 07:43:40.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-06 16:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/56fdb1837714fe14c41af40ed560db306b20500d', 'message': 'Fix _project_domain for heat\n\nChange-Id: I8b93233e30136f54221234e12c8b5eeffc1ba5a6\nCloses-Bug: https://bugs.launchpad.net/openstack-ansible/+bug/1890635\n'}, {'number': 2, 'created': '2020-08-06 16:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/d3b9eb8e6af95aa04ab4b6b4a6fc56a311087f13', 'message': 'Fix _project_domain for heat\n\nChange-Id: I8b93233e30136f54221234e12c8b5eeffc1ba5a6\nCloses-Bug: #1890635\n'}, {'number': 3, 'created': '2020-08-06 16:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/1fec9645a9ae1475df468b2ce9af2a22272e6c0e', 'message': 'Fix _project_domain for heat\n\nChange-Id: I8b93233e30136f54221234e12c8b5eeffc1ba5a6\nCloses-Bug: #1890635\n'}, {'number': 4, 'created': '2020-08-06 19:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/dcdc8e1f56887fc297d892ddb88adcbc04374e4a', 'message': 'Fix _project_domain for heat\n\nChange-Id: I8b93233e30136f54221234e12c8b5eeffc1ba5a6\nCloses-Bug: #1890635\n'}, {'number': 5, 'created': '2020-08-06 19:53:51.000000000', 'files': ['tasks/heat_service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/780dc2eb597d3736b702d5f8cdf830e83d177e3d', 'message': 'Fix _project_domain for heat\n\nChange-Id: I8b93233e30136f54221234e12c8b5eeffc1ba5a6\nCloses-Bug: #1890635\n'}]",0,745184,780dc2eb597d3736b702d5f8cdf830e83d177e3d,15,3,5,28619,,,0,"Fix _project_domain for heat

Change-Id: I8b93233e30136f54221234e12c8b5eeffc1ba5a6
Closes-Bug: #1890635
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/84/745184/5 && git format-patch -1 --stdout FETCH_HEAD,['tasks/heat_service_setup.yml'],1,56fdb1837714fe14c41af40ed560db306b20500d,," _project_domain: ""{{ heat_project_domain_name }}"""," _project_domain: ""{{ add_stack_user_domain.id }}""",1,1
openstack%2Ftripleo-common~master~I7d1df6c5eb2af94fe6c4c574fdc0970f8adfa975,openstack/tripleo-common,master,I7d1df6c5eb2af94fe6c4c574fdc0970f8adfa975,"Less workers, longer exp. failback upon reconnects",ABANDONED,2020-07-29 09:23:39.000000000,2020-08-10 07:35:02.000000000,,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-29 09:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a70efc2b12daa504166e3e7de757fc8a868f7945', 'message': 'Less workers, longer exp. failback upon reconnects\n\nImage prepare uses 2-8 workers or 4 when streaming image layers to\nremote registries. Given quite short exponential failback settings\nto reconnect upon streaming errors, that often ends up rate-limited\nby the remote registry.\n\nReduce workers to 2-4 and 3 when streaming to remote registry or\nmoving layers across registries. Also increase exponential failback\nintervals when retrying the failed streams.\n\nCloses-bug: #1889372\nRelated-bug: #1889122\n\nChange-Id: I7d1df6c5eb2af94fe6c4c574fdc0970f8adfa975\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2020-08-05 12:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a9b7579c26c31a6ffcd83ad7a39343dc517de57d', 'message': 'Less workers, longer exp. failback upon reconnects\n\nImage prepare uses 4 workers, also when streaming image layers to\nremote registries. Given quite short exponential failback settings\nto reconnect upon streaming errors, that often ends up rate-limited\nby the remote registry.\n\nReduce workers to 3 and increase exponential failback intervals\nwhen retrying the failed streams.\n\nCloses-bug: #1889372\nRelated-bug: #1889122\n\nChange-Id: I7d1df6c5eb2af94fe6c4c574fdc0970f8adfa975\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2020-08-06 08:32:12.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/93fa290ff69dab8400e98fd8121cc612e320350c', 'message': 'Less workers, longer exp. failback upon reconnects\n\nImage prepare uses 4 workers, also when streaming image layers to\nremote registries. Given quite short exponential failback settings\nto reconnect upon streaming errors, that often ends up rate-limited\nby the remote registry.\n\nReduce workers to 3 and increase exponential failback intervals\nwhen retrying the failed streams.\n\nCloses-bug: #1889372\nRelated-bug: #1889122\n\nChange-Id: I7d1df6c5eb2af94fe6c4c574fdc0970f8adfa975\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",4,743704,93fa290ff69dab8400e98fd8121cc612e320350c,24,9,3,6926,,,0,"Less workers, longer exp. failback upon reconnects

Image prepare uses 4 workers, also when streaming image layers to
remote registries. Given quite short exponential failback settings
to reconnect upon streaming errors, that often ends up rate-limited
by the remote registry.

Reduce workers to 3 and increase exponential failback intervals
when retrying the failed streams.

Closes-bug: #1889372
Related-bug: #1889122

Change-Id: I7d1df6c5eb2af94fe6c4c574fdc0970f8adfa975
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/04/743704/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,a70efc2b12daa504166e3e7de757fc8a868f7945,bug/1889122," wait=tenacity.wait_random_exponential(multiplier=2, max=32), with futures.ThreadPoolExecutor(max_workers=3) as p: # workers will scale from 2 to 4 based on the cpu count // 2 workers = min(max(2, processutils.get_worker_count() // 2), 4) # RAM required which can lead to OOMs. And the higher chances are # to trigger rate limiting by remote registries. It's best to limit # it to 3 return futures.ProcessPoolExecutor(max_workers=3)"," wait=tenacity.wait_random_exponential(multiplier=1, max=10), with futures.ThreadPoolExecutor(max_workers=4) as p: # workers will scale from 2 to 8 based on the cpu count // 2 workers = min(max(2, processutils.get_worker_count() // 2), 8) # RAM required which can lead to OOMs. It's best to limit to 4 return futures.ProcessPoolExecutor(max_workers=4)",8,6
openstack%2Ftripleo-ci~master~Id6f1e141a9b8801f0fb56f7b2c8137e91ef9a2f9,openstack/tripleo-ci,master,Id6f1e141a9b8801f0fb56f7b2c8137e91ef9a2f9,Fix path for the collected image prepare logs,ABANDONED,2020-08-06 08:56:46.000000000,2020-08-10 07:33:01.000000000,,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-06 08:56:46.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d60c3ea23706c9b845c579cc5a32a475f3aecd6b', 'message': 'Fix path for the collected image prepare logs\n\nCloses-Bug: #1866676\n\nChange-Id: Id6f1e141a9b8801f0fb56f7b2c8137e91ef9a2f9\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",3,745096,d60c3ea23706c9b845c579cc5a32a475f3aecd6b,11,7,1,6926,,,0,"Fix path for the collected image prepare logs

Closes-Bug: #1866676

Change-Id: Id6f1e141a9b8801f0fb56f7b2c8137e91ef9a2f9
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/96/745096/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,d60c3ea23706c9b845c579cc5a32a475f3aecd6b,bug/1866676, - /home/{{ undercloud_user }}/tripleo-container-image-prepare-ansible.log - /home/{{ undercloud_user }}/tripleo-container-image-prepare.log - /home/{{ undercloud_user }}/tripleo-container-image-prepare-ansible.log - /home/{{ undercloud_user }}/tripleo-container-image-prepare.log, - /tmp/tripleo-container-image-prepare-ansible.log - /var/log/tripleo-container-image-prepare.log - /var/log/tripleo-container-image-prepare-ansible.log,4,3
openstack%2Fpython-glanceclient~master~Ie22a4630eb0f5993a909efed27088321c1865ca8,openstack/python-glanceclient,master,Ie22a4630eb0f5993a909efed27088321c1865ca8,Update test certificates to use strong signing,MERGED,2020-04-07 12:50:17.000000000,2020-08-10 06:57:37.000000000,2020-08-10 06:55:34.000000000,"[{'_account_id': 5202}, {'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-07 12:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/c063414635634aca517760c82a6d8f4e8bd08012', 'message': 'Update test certificates to use strong signing\n\nModern OpenSSL (and specifically on Ubuntu) will reject certificates\nsigned using the sha1 algorithm.  Refresh test CA and associated\ncertificates using sha256.\n\nChange-Id: Ie22a4630eb0f5993a909efed27088321c1865ca8\n'}, {'number': 2, 'created': '2020-08-07 21:31:07.000000000', 'files': ['glanceclient/tests/unit/var/certificate.crt', 'glanceclient/tests/unit/var/privatekey.key', 'glanceclient/tests/unit/var/ca.crt'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/5aca99d653ed457c288df939bbdc00b57c41ad93', 'message': 'Update test certificates to use strong signing\n\nModern OpenSSL (and specifically on Ubuntu) will reject certificates\nsigned using the sha1 algorithm.  Refresh test CA and associated\ncertificates using sha256.\n\nChange-Id: Ie22a4630eb0f5993a909efed27088321c1865ca8\n'}]",0,718093,5aca99d653ed457c288df939bbdc00b57c41ad93,12,4,2,935,,,0,"Update test certificates to use strong signing

Modern OpenSSL (and specifically on Ubuntu) will reject certificates
signed using the sha1 algorithm.  Refresh test CA and associated
certificates using sha256.

Change-Id: Ie22a4630eb0f5993a909efed27088321c1865ca8
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/93/718093/1 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/tests/unit/var/certificate.crt', 'glanceclient/tests/unit/var/privatekey.key', 'glanceclient/tests/unit/var/ca.crt']",3,c063414635634aca517760c82a6d8f4e8bd08012,better-certificates-for-testing,MIIGVTCCBD2gAwIBAgIUEstxpjoCFDZo8K1Mmz7QIpYwSXIwDQYJKoZIhvcNAQEL BQAwgbgxCzAJBgNVBAYTAkFVMREwDwYDVQQIDAhTdGF0ZSBDQTELMAkGA1UEBwwC Q0ExGTAXBgNVBAoMEE9wZW5TdGFjayBDQSBPcmcxGjAYBgNVBAsMEU9wZW5TdGFj ayBUZXN0IENBMS0wKwYDVQQDDCRPcGVuc3RhY2sgVGVzdCBDZXJ0aWZpY2F0ZSBB dXRob3JpdHkxIzAhBgkqhkiG9w0BCQEWFGFkbWluQGNhLmV4YW1wbGUuY29tMCAX DTIwMDQwNzEyMjYwMVoYDzI5OTkwMTAxMTIyNjAxWjCBuDELMAkGA1UEBhMCQVUx ETAPBgNVBAgMCFN0YXRlIENBMQswCQYDVQQHDAJDQTEZMBcGA1UECgwQT3BlblN0 YWNrIENBIE9yZzEaMBgGA1UECwwRT3BlblN0YWNrIFRlc3QgQ0ExLTArBgNVBAMM JE9wZW5zdGFjayBUZXN0IENlcnRpZmljYXRlIEF1dGhvcml0eTEjMCEGCSqGSIb3 DQEJARYUYWRtaW5AY2EuZXhhbXBsZS5jb20wggIiMA0GCSqGSIb3DQEBAQUAA4IC DwAwggIKAoICAQD6KfGpVSJsmhTgdbdovaaa3Qe4PeP+Dg9Y7muSggVQVlqUp3YB xUSo1RDoLyu1ci+KrNODr+kkD/Cbo8yJQCxqTzUpCw3tadFhUJOWvPaqdcYTA8R9 p7Xjvw3Me7Q7xr4l0pCUIiz/kwxYxk+GCQyXzpXZm14zz+Qm8gz37eoW2jJfoyzA dB9Tp609Id7C6VHFCWZ2Zsa4+Ua/q+Pn7vLNJ61C2H5sfus8dtcGDzViDWwnWyHw spyR79rciV2yA3xeq09RvIx2SB1tc3S2Rxw7SmKeYcnkv6YplvhIG5QpErvp+URh De2wbbxzjFzJqFQO0Yh8IgTBIvQI02++lA8ZX84UDaxmrT92m8GfqQvb96em/H1k RKJTq0QqSC+BbGDeFxHkuOTJiOZm5Bnivpo0TAPwX6YqpadXARAFWw+fJiHCuFGr 6ltD7zgRnx6SR5WNRNWmTZQNx7wC2Bm0cJ2ec0Asn+bl93RVloaNtbFJhkaN555G GnUDLvxiwIN7aMGviJLte/qIhkKTtxD7zxyk+PQhokPAiz8J9P8INDd3GzMvcRPX ufDoXjSGjSLzjVPMhkFxXaHHylBdEAtHxROKz5wJnHqCnKlyyyv0nGBPQxFjT+rb G0HFn1JjodPBLrwooPttDgkEnq5yBpDkhFuYdZbgwjvQ4p5qrCp3EbDJ/QIDAQAB o1MwUTAdBgNVHQ4EFgQUkfKdH+sf7F/69HDbvtZ/ggVDCt4wHwYDVR0jBBgwFoAU kfKdH+sf7F/69HDbvtZ/ggVDCt4wDwYDVR0TAQH/BAUwAwEB/zANBgkqhkiG9w0B AQsFAAOCAgEAsUIwMa+2lR2a77AaVDDJikt4twylxJudJ4WEerFWOJeshCUCEGZF udlkLDMl9/f7XjpWPH2jc8c1xoxO63GZiLumk8mO9VzleGW6O03fQ9z6pOE1ueSg WnqHQYLbb5KizbiLen4xpa13cjZ2KFKJBkBEn2yOXXSOGP/yuWf1nQ1QumHCFFxf SRrJaaVqR8Ow6yPIjeCFT0IyeoGP5ihlxTvgSo+HeQx1wuYcBIG6clx4BGEgUa2N kaUF6v6EBl/mfX6YkhzvDygaS3men1XRgAkNFPXN9L7XVQdAh2hJSenq73seCJcc lD6Pr4U3VdWaTNYNZqpySspfJ6vp4XGNJFWZiaHPC5CALjgMzljdq9Xohedl2v0i zFZ4T3Zd+RT1941yD5rqlTnaqscpPnZpEUkULjH63v42/vLRSVkZOb6uSdOTL/c3 bxDr4ZbN6cPY5As+XADPgOALuiQql+bRYOZOQL6i5lwtepfvmT6YGZZMk0WKhDcD C/cWX7z7834T2yYez2OmFdTr1UCmGd9IqTTQ01JTgr02y5lCN5J4KlG0SQBnQeQB Pj+gi1WElCIsBIX67WNCss5bpzn+T9cvMD5w2uG94ceT7jbIQ8LQ5x90kn+4HKr0 PnD937DKLY+HPbm5l9CIhmsX+mWUOcqqWSvxBWeJSk4Qk60K3G/oQeY=,MIIF7jCCA9YCCQDbl9qx7iIeJDANBgkqhkiG9w0BAQUFADCBuDEZMBcGA1UEChMQ T3BlbnN0YWNrIENBIE9yZzEaMBgGA1UECxMRT3BlbnN0YWNrIFRlc3QgQ0ExIzAh BgkqhkiG9w0BCQEWFGFkbWluQGNhLmV4YW1wbGUuY29tMREwDwYDVQQHEwhTdGF0 ZSBDQTELMAkGA1UECBMCQ0ExCzAJBgNVBAYTAkFVMS0wKwYDVQQDEyRPcGVuc3Rh Y2sgVGVzdCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkwHhcNMTIxMTE2MTI1MDE2WhcN NDAwNDAzMTI1MDE2WjCBuDEZMBcGA1UEChMQT3BlbnN0YWNrIENBIE9yZzEaMBgG A1UECxMRT3BlbnN0YWNrIFRlc3QgQ0ExIzAhBgkqhkiG9w0BCQEWFGFkbWluQGNh LmV4YW1wbGUuY29tMREwDwYDVQQHEwhTdGF0ZSBDQTELMAkGA1UECBMCQ0ExCzAJ BgNVBAYTAkFVMS0wKwYDVQQDEyRPcGVuc3RhY2sgVGVzdCBDZXJ0aWZpY2F0ZSBB dXRob3JpdHkwggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQC94cpBjwj2 MD0w5j1Jlcy8Ljmk3r7CRaoV5vhWUrAWpT7Thxr/Ti0qAfZZRSIVpvBM0RlseH0Q toUJixuYMoNRPUQ74r/TRoO8HfjQDJfnXtWg2L7DRP8p4Zgj3vByBUCU+rKsbI/H Nssl/AronADbZXCoL5hJRN8euMYZGrt/Gh1ZotKE5gQlEjylDFlA3s3pn+ABLgzf 7L7iufwV3zLdPRHCb6Ve8YvUmKfI6gy+WwTRhNhLz4Nj0uBthnj6QhnRXtxkNT7A aAStqKH6TtYRnk2Owh8ITFbtLQ0/MSV8jHAxMXx9AloBhEKxv3cIpgLH6lOCnj// Ql+H6/QWtmTUHzP1kBfMhTQnWTfR92QTcgEMiZ7a07VyVtLh+kp/G5IUqpM6Pyz/ O6QDs7FF69bTpws7Ce916PPrGFZ9Gqvo/P0jXge8kYqO+a8QnTRldAxdUzPJCK9+ Dyi2LWeHf8nPFYdwW9Ov6Jw1CKDYxjJg6KIwnrMPa2eUdPB6/OKkqr9/KemOoKQu 4KSaYadFZbaJwt7JPZaHy6TpkGxW7Af8RqGrW6a6nWEFcfO2POuHcAHWL5LiRmni unm60DBF3b3itDTqCvER3mZE9pN8dqtxdpB8SUX8eq0UJJK2K8mJQS+oE9crbqYb 1kQbYjhhPLlvOQru+/m/abqZrC04u2OtYQIDAQABMA0GCSqGSIb3DQEBBQUAA4IC AQA8wGVBbzfpQ3eYpchiHyHF9N5LIhr6Bt4jYDKLz8DIbElLtoOlgH/v7hLGJ7wu R9OteonwQ1qr9umMmnp61bKXOEBJLBJbGKEt0MNLmmX89+M/h3rdMVZEz/Hht/xK Xm4di8pjkHfmdhqsbiFW81lAt9W1r74lnH7wQHr9ueALGKDx0hi8pAZ27itgQVHL eA1erhw0kjr9BqWpDIskVwePcD7pFoZ48GQlST0uIEq5U+1AWq7AbOABsqODygKi Ri5pmTasNFT7nEX3ti4VN214MNy0JnPzTRNWR2rD0I30AebM3KkzTprbLVfnGkm4 7hOPV+Wc8EjgbbrUAIp2YpOfO/9nbgljTOUsqfjqxzvHx/09XOo2M6NIE5UiHqIq TXN7CeGIhBoYbvBAH2QvtveFXv41IYL4zFFXo4wTBSzCCOUGeDDv0U4hhsNaCkDQ G2TcubNA4g/FAtqLvPj/6VbIIgFE/1/6acsT+W0O+kkVAb7ej2dpI7J+jKXDXuiA PDCMn9dVQ7oAcaQvVdvvRphLdIZ9wHgqKhxKsMwzIMExuDKL0lWe/3sueFyol6nv xRCSgzr5MqSObbO3EnWgcUocBvlPyYLnTM2T8C5wh3BGnJXqJSRETggNn8PXBVIm +c5o+Ic0mYu4v8P1ZSozFdgf+HLriVPwzJU5dHvvTEu7sw==,115,145
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I700492a880d0c70b0cd5c0610cf72cd403f9aaa1,openstack/tripleo-heat-templates,stable/ussuri,I700492a880d0c70b0cd5c0610cf72cd403f9aaa1,DNM test,ABANDONED,2020-07-23 10:53:54.000000000,2020-08-10 06:53:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-23 10:53:54.000000000', 'files': ['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/828665a09e5bc060fee4301158304d129a521a22', 'message': 'DNM test\n\ntesting for https://bugs.launchpad.net/tripleo/+bug/1887159\n\nChange-Id: I700492a880d0c70b0cd5c0610cf72cd403f9aaa1\n'}]",0,742638,828665a09e5bc060fee4301158304d129a521a22,6,2,1,8449,,,0,"DNM test

testing for https://bugs.launchpad.net/tripleo/+bug/1887159

Change-Id: I700492a880d0c70b0cd5c0610cf72cd403f9aaa1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/742638/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'],1,828665a09e5bc060fee4301158304d129a521a22,,, - name: upgrade step 4 when: step|int == 4 block: - name: Start pacemaker cluster pacemaker_cluster: state=online when: not cluster_recreate|bool,0,6
openstack%2Ftripleo-upgrade~stable%2Fussuri~I0d428b767be3e304dad3a5cd801a126ec68de285,openstack/tripleo-upgrade,stable/ussuri,I0d428b767be3e304dad3a5cd801a126ec68de285,DNM test ussuri standalone upgrade Depends-On: https://review.opendev.org/742638,ABANDONED,2020-07-27 12:12:52.000000000,2020-08-10 06:52:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-27 12:12:52.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f77a96d7125cd3b7f195b6ad79d69fa43b743ddf', 'message': 'DNM test ussuri standalone upgrade\nDepends-On: https://review.opendev.org/742638\n\nChange-Id: I0d428b767be3e304dad3a5cd801a126ec68de285\n'}]",0,743205,f77a96d7125cd3b7f195b6ad79d69fa43b743ddf,3,1,1,8449,,,0,"DNM test ussuri standalone upgrade
Depends-On: https://review.opendev.org/742638

Change-Id: I0d428b767be3e304dad3a5cd801a126ec68de285
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/05/743205/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,f77a96d7125cd3b7f195b6ad79d69fa43b743ddf,, - tripleo-ci-centos-8-standalone-upgrade-ussuri, - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates: dependencies: - tripleo-upgrade-centos-8-molecule - openstack-tox-linters - tripleo-tox-molecule - tripleo-upgrade-centos-8-molecule: dependencies: - tripleo-tox-molecule,1,8
openstack%2Fneutron~master~Ia635f705fa03036a9e9c1c14eab59038ec39bda3,openstack/neutron,master,Ia635f705fa03036a9e9c1c14eab59038ec39bda3,migration: Restart OVS after setting protocols,MERGED,2020-08-06 12:49:06.000000000,2020-08-10 06:41:57.000000000,2020-08-07 17:54:45.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-06 12:49:06.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/templates/activate-ovn.sh.j2'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ad21fd23ae648536c4f07f980e9e156b5c41421', 'message': 'migration: Restart OVS after setting protocols\n\nThis patch is a workaround for bug in OVS [1]. The OVS is restarted\nafter setting protocols for the integration bridge. This will cause\na data plane disruption. We can remove the workaround once\nthe bug [1] is fixed.\n\nCloses-bug: #1890596\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1782834\n\nChange-Id: Ia635f705fa03036a9e9c1c14eab59038ec39bda3\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n'}]",0,745122,4ad21fd23ae648536c4f07f980e9e156b5c41421,15,6,1,8655,,,0,"migration: Restart OVS after setting protocols

This patch is a workaround for bug in OVS [1]. The OVS is restarted
after setting protocols for the integration bridge. This will cause
a data plane disruption. We can remove the workaround once
the bug [1] is fixed.

Closes-bug: #1890596

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1782834

Change-Id: Ia635f705fa03036a9e9c1c14eab59038ec39bda3
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/745122/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/templates/activate-ovn.sh.j2'],1,4ad21fd23ae648536c4f07f980e9e156b5c41421,bug/1890596,"# WORKAROUND for https://bugzilla.redhat.com/show_bug.cgi?id=1782834 # By restarting ovs-vswitchd process, new connection is made based # on the protocols values set in OVS database. OVS 2.13 by default # implements OpenFlow protocols up to 1.5 and 1.5 is the one that # is required by ovn-controller. systemctl restart openvswitch ",,7,0
openstack%2Fcinder~master~I05a95f921f1e3ec825b7e1b73acd40ae6e27f5b7,openstack/cinder,master,I05a95f921f1e3ec825b7e1b73acd40ae6e27f5b7,query information of volume according to volume id or user id,ABANDONED,2019-08-01 05:56:19.000000000,2020-08-10 06:17:47.000000000,,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-08-01 05:56:19.000000000', 'files': ['cinder/db/__init__.py', 'cinder/api/v3/volumes.py', 'cinder/objects/volume.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7f210a06fecff410f4639c5c24e1810cbb3bdfe6', 'message': 'query information of volume according to volume id or user id\n\nset the paramas of req includeing user id or volume id,the users can only acquire the information that they need\n\nDocImpact\nCloses-Bug:#1838494\n\nChange-Id: I05a95f921f1e3ec825b7e1b73acd40ae6e27f5b7\n'}]",0,673943,7f210a06fecff410f4639c5c24e1810cbb3bdfe6,20,18,1,30754,,,0,"query information of volume according to volume id or user id

set the paramas of req includeing user id or volume id,the users can only acquire the information that they need

DocImpact
Closes-Bug:#1838494

Change-Id: I05a95f921f1e3ec825b7e1b73acd40ae6e27f5b7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/43/673943/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/db/__init__.py', 'cinder/api/v3/volumes.py', 'cinder/objects/volume.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/volume/api.py']",6,7f210a06fecff410f4639c5c24e1810cbb3bdfe6,cinder_study," offset=None,user_id=None,volume_id=None): offset=offset,user_id=user_id,volume_id=volume_id)", offset=None): offset=offset),15,11
openstack%2Fmistral~master~Ib025191bdc2762a9f920dd6c83e427d75d9a8d01,openstack/mistral,master,Ib025191bdc2762a9f920dd6c83e427d75d9a8d01,Use assertCountEqual instead of assertItemsEqual,MERGED,2020-07-21 02:39:34.000000000,2020-08-10 05:20:28.000000000,2020-08-10 05:19:22.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 29139}, {'_account_id': 30755}]","[{'number': 1, 'created': '2020-07-21 02:39:34.000000000', 'files': ['mistral/tests/unit/test_coordination.py', 'mistral/tests/unit/api/v2/test_services.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/f2392bae79af18b6def0a47c8d7ded777323c8db', 'message': 'Use assertCountEqual instead of assertItemsEqual\n\nThe assertItemsEqual method has been removed in Python 3.3 [1] but\nit was kept alive by unittest2, imported by testtools. For better\ncompatibility, change to assertCountEqual.\n\n[1] https://bugs.python.org/issue17866\n\nChange-Id: Ib025191bdc2762a9f920dd6c83e427d75d9a8d01\n'}]",0,742058,f2392bae79af18b6def0a47c8d7ded777323c8db,13,5,1,29139,,,0,"Use assertCountEqual instead of assertItemsEqual

The assertItemsEqual method has been removed in Python 3.3 [1] but
it was kept alive by unittest2, imported by testtools. For better
compatibility, change to assertCountEqual.

[1] https://bugs.python.org/issue17866

Change-Id: Ib025191bdc2762a9f920dd6c83e427d75d9a8d01
",git fetch https://review.opendev.org/openstack/mistral refs/changes/58/742058/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/test_coordination.py', 'mistral/tests/unit/api/v2/test_services.py']",2,f2392bae79af18b6def0a47c8d7ded777323c8db,assertItemsEqual," self.assertCountEqual(srv_ret, resp.json['services'])"," self.assertItemsEqual(srv_ret, resp.json['services'])",2,2
openstack%2Fcinder~master~I3cecd3b31820e24128454b25a28939e185480915,openstack/cinder,master,I3cecd3b31820e24128454b25a28939e185480915,test,ABANDONED,2020-08-10 02:26:21.000000000,2020-08-10 04:46:22.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}]","[{'number': 1, 'created': '2020-08-10 02:26:21.000000000', 'files': ['cinder/exception.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4196b062a1cd744966619ff1f158cd35d40a41c7', 'message': 'test\n\nChange-Id: I3cecd3b31820e24128454b25a28939e185480915\n'}]",0,745472,4196b062a1cd744966619ff1f158cd35d40a41c7,18,13,1,30754,,,0,"test

Change-Id: I3cecd3b31820e24128454b25a28939e185480915
",git fetch https://review.opendev.org/openstack/cinder refs/changes/72/745472/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/exception.py'],1,4196b062a1cd744966619ff1f158cd35d40a41c7,test1,SHOULD!!! include dedicated exception logging.,SHOULD include dedicated exception logging.,1,1
openstack%2Fkolla-ansible~stable%2Fussuri~I95d8528766474750447fe83f54110a3d95b18d3b,openstack/kolla-ansible,stable/ussuri,I95d8528766474750447fe83f54110a3d95b18d3b,Update trove config file for ussuri,ABANDONED,2020-07-24 03:06:40.000000000,2020-08-10 03:04:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-24 03:06:40.000000000', 'files': ['ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/trove/templates/trove-conductor.conf.j2', 'ansible/roles/trove/templates/trove-taskmanager.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/daba27992154adf952ecbd4a26c3341a7a44fcd9', 'message': 'Update trove config file for ussuri\n\nOption ""trove_auth_url/os_region_name"" from group ""DEFAULT"" is deprecated.\nUse option ""auth_url/region_name"" from group service_credentials\n\nChange-Id: I95d8528766474750447fe83f54110a3d95b18d3b\n'}]",0,742783,daba27992154adf952ecbd4a26c3341a7a44fcd9,8,4,1,32029,,,0,"Update trove config file for ussuri

Option ""trove_auth_url/os_region_name"" from group ""DEFAULT"" is deprecated.
Use option ""auth_url/region_name"" from group service_credentials

Change-Id: I95d8528766474750447fe83f54110a3d95b18d3b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/83/742783/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/trove/templates/trove-conductor.conf.j2', 'ansible/roles/trove/templates/trove-taskmanager.conf.j2']",3,daba27992154adf952ecbd4a26c3341a7a44fcd9,update-config,[service_credentials] auth_url = {{ keystone_internal_url }}/v3 region_name = {{ openstack_region_name }} project_name = service password = {{ trove_keystone_password }} project_domain_name = {{ default_project_domain_name }} user_domain_name = {{ default_user_domain_name }} username = {{ trove_keystone_user }},trove_auth_url = {{ keystone_internal_url }}/v3 os_region_name = {{ openstack_region_name }} network_label_regex = .*,25,12
openstack%2Fpython-muranoclient~master~If52778edf7ab5ade5794f12d9d167d6ad562b983,openstack/python-muranoclient,master,If52778edf7ab5ade5794f12d9d167d6ad562b983,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-02 00:36:02.000000000,2020-08-10 02:47:12.000000000,2020-08-10 02:46:08.000000000,"[{'_account_id': 8556}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 30615}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-08-02 00:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/e9ea97f9e272c7e52585892b6a9dd8507ead4475', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional tests jobs\n- docs jobs\nDepends-On: https://review.opendev.org/#/c/734700/\nStory: #2007865\nTask: #40198\n\nChange-Id: If52778edf7ab5ade5794f12d9d167d6ad562b983\n'}, {'number': 2, 'created': '2020-08-04 22:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/457565db807e14b363f168cd1f845f826341d27c', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40198\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: If52778edf7ab5ade5794f12d9d167d6ad562b983\n'}, {'number': 3, 'created': '2020-08-04 23:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/886a8a99be5421b38b53f31b4be066e57b0fdc66', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40198\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: If52778edf7ab5ade5794f12d9d167d6ad562b983\n'}, {'number': 4, 'created': '2020-08-05 01:41:12.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/019f79ec2eb19e93242675679917d99b808a8786', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nStory: #2007865\nTask: #40198\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>\n\nChange-Id: If52778edf7ab5ade5794f12d9d167d6ad562b983\n'}]",0,744356,019f79ec2eb19e93242675679917d99b808a8786,17,6,4,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8 support
in their later version.

Story: #2007865
Task: #40198

Closes-Bug: #1886298

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>

Change-Id: If52778edf7ab5ade5794f12d9d167d6ad562b983
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/56/744356/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e9ea97f9e272c7e52585892b6a9dd8507ead4475,migrate-to-focal,#test focal,,1,0
openstack%2Fadjutant~master~Ic3a46d075dd83e11ee3cccc1ad2bbdb81005c60d,openstack/adjutant,master,Ic3a46d075dd83e11ee3cccc1ad2bbdb81005c60d,Update CONFspirator with example and toml support,MERGED,2020-08-07 05:45:35.000000000,2020-08-10 01:49:53.000000000,2020-08-10 01:48:53.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 05:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/473e07f5b79634fae5f9e93f8ecb122eef69a620', 'message': 'Update CONFspirator with example and toml support\n\nExample config generation now is in CONFspirator so we can instead\nuse that.\n\nWe now also natively get toml support through the new version of the\nlibrary.\n\nChange-Id: Ic3a46d075dd83e11ee3cccc1ad2bbdb81005c60d\n'}, {'number': 2, 'created': '2020-08-07 08:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/50aae8b1d5d53a817e516aa60ed0a8020820b07a', 'message': 'Update CONFspirator with example and toml support\n\nExample config generation now is in CONFspirator so we can instead\nuse that.\n\nWe now also natively get toml support through the new version of the\nlibrary.\n\nChange-Id: Ic3a46d075dd83e11ee3cccc1ad2bbdb81005c60d\n'}, {'number': 3, 'created': '2020-08-07 08:28:58.000000000', 'files': ['requirements.txt', 'releasenotes/notes/toml-d8fba261f61313bf.yaml', 'doc/source/configuration.rst', 'adjutant/commands/management/commands/exampleconfig.py', 'adjutant/config/__init__.py', 'etc/adjutant.yaml'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/9dd1f3a3024bd67341068a225271b11c67ccfc71', 'message': 'Update CONFspirator with example and toml support\n\nExample config generation now is in CONFspirator so we can instead\nuse that.\n\nWe now also natively get toml support through the new version of the\nlibrary.\n\nChange-Id: Ic3a46d075dd83e11ee3cccc1ad2bbdb81005c60d\n'}]",0,745287,9dd1f3a3024bd67341068a225271b11c67ccfc71,10,2,3,10420,,,0,"Update CONFspirator with example and toml support

Example config generation now is in CONFspirator so we can instead
use that.

We now also natively get toml support through the new version of the
library.

Change-Id: Ic3a46d075dd83e11ee3cccc1ad2bbdb81005c60d
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/87/745287/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'adjutant/commands/management/commands/exampleconfig.py', 'adjutant/config/__init__.py', 'doc/source/configuration.rst', 'etc/adjutant.yaml']",5,473e07f5b79634fae5f9e93f8ecb122eef69a620,new/config_toml," # String - The Django secret key. # Boolean - Django debug mode is turned on. debug: false # List - The Django allowed hosts # String - The header representing a HTTP header/value combination that signifies a request is secure. # String - The value representing a HTTP header/value combination that signifies a request is secure. # Dict - Django databases config. # Dict - A full override of the Django logging config for more customised logging. # logging: # String - The name and location of the Adjutant log file, superceded by 'adjutant.django.logging'. # String - Django email backend to use. # Integer - Email backend timeout. # Hostname - Email backend server location. # Port - Email backend server port. # String - Email backend user. # String - Email backend user password. # Boolean - Whether to use TLS for email. Mutually exclusive with 'use_ssl'. use_tls: false # Boolean - Whether to use SSL for email. Mutually exclusive with 'use_tls'. use_ssl: false # Integer - Cache time for Keystone Tokens in the Keystone Middleware. # Boolean - Is Adjutant allowed (or able) to edit users in Keystone. can_edit_users: true # Boolean - Should Adjutant assume and treat all usernames as emails. username_is_email: true # Dict - A mapping from held role to roles it is allowed to manage. - project_admin - project_mod - heat_stack_owner - member project_admin: - project_admin - project_mod - heat_stack_owner - member project_mod: - project_mod - heat_stack_owner - member auth: # String - Username for Adjutant Keystone admin user. # String - Password for Adjutant Keystone admin user. # String - Project name for Adjutant Keystone admin user. # String - Project domain id for Adjutant Keystone admin user. # String - User domain id for Adjutant Keystone admin user. # URI - Keystone auth url that Adjutant will use. # List - List of Active Delegate APIs. # String - Default region in which any potential resources may be created. # String - Domain in which project and users will be created. # String - Parent id under which this project will be created. Default is None, and will create under default domain. # List - Users with any of these roles will be hidden from the user list. # List - User with these roles will return not found. # List - User with these roles will return not found. # String - Default region in which any potential resources may be created. # String - Domain in which project and users will be created. # String - Parent id under which this project will be created. Default is None, and will create under default domain. # List - List of email addresses to send this notification to. # emails: # String - From email for this notification. # String - Reply-to email for this notification. # String - Email template for this notification. No template will cause the email not to send. # String - Email html template for this notification. # URI - The base Horizon url for Adjutant to use when producing links to Horizon. # Integer - The default token expiry time for Task tokens. # String - Default email subject for this stage # String - Default from email for this stage # String - Default reply-to email for this stage # String - Default email template for this stage # String - Default email html template for this stage # String - Default email subject for this stage # String - Default from email for this stage # String - Default reply-to email for this stage # String - Default email template for this stage # String - Default email html template for this stage # String - Default email subject for this stage # String - Default from email for this stage # String - Default reply-to email for this stage # String - Default email template for this stage # String - Default email html template for this stage # List - Handlers to use for standard notifications. # List - Handlers to use for error notifications. # Dict - Settings for standard notification handlers. # standard_handler_config: # Dict - Settings for error notification handlers. # error_handler_config: # List - Error types which are safe to acknowledge automatically. # List - Roles to be given on project for the user. # List - Roles to be given on project to the creating user. # List - Users which this action should add to the project. # default_users: # List - Roles which those users should get. # Dict - Specific per region config for default network. See 'region_defaults'. # regions: region_defaults: # String - Name to be given to the default network. network_name: default_network # String - Name to be given to the default subnet. subnet_name: default_subnet # String - Name to be given to the default router. router_name: default_router # String - ID of the public network. # public_network: <your_value> # String - CIDR for the default subnet. # subnet_cidr: <your_value> # List - DNS nameservers for the subnet. # dns_nameservers: NewProjectDefaultNetworkAction: # Dict - Specific per region config for default network. See 'region_defaults'. # regions: region_defaults: # String - Name to be given to the default network. network_name: default_network # String - Name to be given to the default subnet. subnet_name: default_subnet # String - Name to be given to the default router. router_name: default_router # String - ID of the public network. # public_network: <your_value> # String - CIDR for the default subnet. # subnet_cidr: <your_value> # List - DNS nameservers for the subnet. # dns_nameservers: SetProjectQuotaAction: # Float - Precentage different allowed when matching quota sizes. # Integer - The allowed number of days between auto approved quota changes. # Dict - Which quota size to use for which region. # Float - Precentage different allowed when matching quota sizes. # Integer - The allowed number of days between auto approved quota changes. # List - Users with these roles cannot reset their passwords. # String - Email subject for this stage. # String - From email for this stage. # String - Reply-to email for this stage. # String - Email template for this stage. No template will cause the email not to send. # String - Email html template for this stage. No template will cause the email not to send. # Boolean - Email the user who started the task. email_current_user: false # Boolean - Send to an email set in the task cache. email_task_cache: false # List - Send emails to the given roles on the project. # email_roles: # List - Send emails to an arbitrary admin emails # String - Email subject for this stage. # String - From email for this stage. # String - Reply-to email for this stage. # String - Email template for this stage. No template will cause the email not to send. # String - Email html template for this stage. No template will cause the email not to send. # Boolean - Email the user who started the task. email_current_user: false # Boolean - Send to an email set in the task cache. email_task_cache: false # List - Send emails to the given roles on the project. # email_roles: # List - Send emails to an arbitrary admin emails # String - Email subject for this stage. # String - From email for this stage. # String - Reply-to email for this stage. # String - Email template for this stage. No template will cause the email not to send. # String - Email html template for this stage. No template will cause the email not to send. # Boolean - Email the user who started the task. email_current_user: false # Boolean - Send to an email set in the task cache. email_task_cache: false # List - Send emails to the given roles on the project. # email_roles: # List - Send emails to an arbitrary admin emails # Boolean - Override if this task allows auto_approval. Otherwise uses task default. allow_auto_approve: true # List - Additional actions to be run as part of the task after default actions. # additional_actions: # Integer - Override for the task token expiry. Otherwise uses task default. # Dict - Action config overrides over the action defaults. See 'adjutant.workflow.action_defaults'. # Dict - Email config overrides for this task over task defaults.See 'adjutant.workflow.emails'. # Dict - Notification config overrides for this task over task defaults.See 'adjutant.workflow.notifications'. - example@example.com - EmailNotification - example@example.com - EmailNotification edit_user_roles: # Boolean - Override if this task allows auto_approval. Otherwise uses task default. allow_auto_approve: true # List - Additional actions to be run as part of the task after default actions. # additional_actions: # Integer - Override for the task token expiry. Otherwise uses task default. # Dict - Action config overrides over the action defaults. See 'adjutant.workflow.action_defaults'. # Dict - Email config overrides for this task over task defaults.See 'adjutant.workflow.emails'. # Dict - Notification config overrides for this task over task defaults.See 'adjutant.workflow.notifications'. - example@example.com - EmailNotification - example@example.com - EmailNotification invite_user_to_project: # Boolean - Override if this task allows auto_approval. Otherwise uses task default. allow_auto_approve: true # List - Additional actions to be run as part of the task after default actions. # additional_actions: # Integer - Override for the task token expiry. Otherwise uses task default. # Dict - Action config overrides over the action defaults. See 'adjutant.workflow.action_defaults'. # Dict - Email config overrides for this task over task defaults.See 'adjutant.workflow.emails'. # Dict - Notification config overrides for this task over task defaults.See 'adjutant.workflow.notifications'. - example@example.com - EmailNotification - example@example.com - EmailNotification reset_user_password: # Boolean - Override if this task allows auto_approval. Otherwise uses task default. allow_auto_approve: true # List - Additional actions to be run as part of the task after default actions. # additional_actions: # Integer - Override for the task token expiry. Otherwise uses task default. # Dict - Action config overrides over the action defaults. See 'adjutant.workflow.action_defaults'. # Dict - Email config overrides for this task over task defaults.See 'adjutant.workflow.emails'. # Dict - Notification config overrides for this task over task defaults.See 'adjutant.workflow.notifications'. - example@example.com - EmailNotification - example@example.com - EmailNotification update_user_email: # Boolean - Override if this task allows auto_approval. Otherwise uses task default. allow_auto_approve: true # List - Additional actions to be run as part of the task after default actions. # Integer - Override for the task token expiry. Otherwise uses task default. # Dict - Action config overrides over the action defaults. See 'adjutant.workflow.action_defaults'. # Dict - Email config overrides for this task over task defaults.See 'adjutant.workflow.emails'. # Dict - Notification config overrides for this task over task defaults.See 'adjutant.workflow.notifications'. - example@example.com - EmailNotification - example@example.com - EmailNotification update_quota: # Boolean - Override if this task allows auto_approval. Otherwise uses task default. allow_auto_approve: true # List - Additional actions to be run as part of the task after default actions. # additional_actions: # Integer - Override for the task token expiry. Otherwise uses task default. # Dict - Action config overrides over the action defaults. See 'adjutant.workflow.action_defaults'. # Dict - Email config overrides for this task over task defaults.See 'adjutant.workflow.emails'. # Dict - Notification config overrides for this task over task defaults.See 'adjutant.workflow.notifications'. - example@example.com - EmailNotification - example@example.com - EmailNotification # Dict - A definition of the quota size groups that Adjutant should use. # List - An ascending list of all the quota size names, so that Adjutant knows their relative sizes/order. # Dict - A per region definition of what services Adjutant should manage quotas for. '*' means all or default region. - cinder - neutron - nova"," # String # The Django secret key. # Boolean # Django debug mode is turned on. debug: False # List # The Django allowed hosts # String # The header representing a HTTP header/value combination that signifies a request is secure. # String # The value representing a HTTP header/value combination that signifies a request is secure. # Dict # Django databases config. # Dict # A full override of the Django logging config for more customised logging. # logging: # String # The name and location of the Adjutant log file, superceded by 'adjutant.django.logging'. # String # Django email backend to use. # Integer # Email backend timeout. # Hostname # Email backend server location. # Port # Email backend server port. # String # Email backend user. # String # Email backend user password. # Boolean # Whether to use TLS for email. Mutually exclusive with 'use_ssl'. use_tls: False # Boolean # Whether to use SSL for email. Mutually exclusive with 'use_tls'. use_ssl: False # Integer # Cache time for Keystone Tokens in the Keystone Middleware. # Boolean # Is Adjutant allowed (or able) to edit users in Keystone. can_edit_users: True # Boolean # Should Adjutant assume and treat all usernames as emails. username_is_email: True # Dict # A mapping from held role to roles it is allowed to manage. - project_admin - project_mod - heat_stack_owner - member project_admin: - project_admin - project_mod - heat_stack_owner - member project_mod: - project_mod - heat_stack_owner - member auth: # String # Username for Adjutant Keystone admin user. # String # Password for Adjutant Keystone admin user. # String # Project name for Adjutant Keystone admin user. # String # Project domain id for Adjutant Keystone admin user. # String # User domain id for Adjutant Keystone admin user. # URI # Keystone auth url that Adjutant will use. # List # List of Active Delegate APIs. # String # Default region in which any potential resources may be created. # String # Domain in which project and users will be created. # String # Parent id under which this project will be created. Default is None, and will create under default domain. # List # Users with any of these roles will be hidden from the user list. # List # User with these roles will return not found. # List # User with these roles will return not found. # String # Default region in which any potential resources may be created. # String # Domain in which project and users will be created. # String # Parent id under which this project will be created. Default is None, and will create under default domain. # List # List of email addresses to send this notification to. # emails: # String # From email for this notification. # String # Reply-to email for this notification. # String # Email template for this notification. No template will cause the email not to send. # String # Email html template for this notification. # URI # The base Horizon url for Adjutant to use when producing links to Horizon. # Integer # The default token expiry time for Task tokens. # String # Default email subject for this stage # String # Default from email for this stage # String # Default reply-to email for this stage # String # Default email template for this stage # String # Default email html template for this stage # String # Default email subject for this stage # String # Default from email for this stage # String # Default reply-to email for this stage # String # Default email template for this stage # String # Default email html template for this stage # String # Default email subject for this stage # String # Default from email for this stage # String # Default reply-to email for this stage # String # Default email template for this stage # String # Default email html template for this stage # List # Handlers to use for standard notifications. # List # Handlers to use for error notifications. # Dict # Settings for standard notification handlers. # standard_handler_config: # Dict # Settings for error notification handlers. # error_handler_config: # List # Error types which are safe to acknowledge automatically. # List # Roles to be given on project for the user. # List # Roles to be given on project to the creating user. # List # Users which this action should add to the project. # default_users: # List # Roles which those users should get. region_defaults: # String # Name to be given to the default network. network_name: default_network # String # Name to be given to the default subnet. subnet_name: default_subnet # String # Name to be given to the default router. router_name: default_router # String # ID of the public network. # public_network: <your_value> # String # CIDR for the default subnet. # subnet_cidr: <your_value> # List # DNS nameservers for the subnet. # dns_nameservers: # Dict # Specific per region config for default network. See 'region_defaults'. # regions: NewProjectDefaultNetworkAction: region_defaults: # String # Name to be given to the default network. network_name: default_network # String # Name to be given to the default subnet. subnet_name: default_subnet # String # Name to be given to the default router. router_name: default_router # String # ID of the public network. # public_network: <your_value> # String # CIDR for the default subnet. # subnet_cidr: <your_value> # List # DNS nameservers for the subnet. # dns_nameservers: # Dict # Specific per region config for default network. See 'region_defaults'. # regions: SetProjectQuotaAction: # Float # Precentage different allowed when matching quota sizes. # Integer # The allowed number of days between auto approved quota changes. # Dict # Which quota size to use for which region. # Float # Precentage different allowed when matching quota sizes. # Integer # The allowed number of days between auto approved quota changes. # List # Users with these roles cannot reset their passwords. # String # Email subject for this stage. # String # From email for this stage. # String # Reply-to email for this stage. # String # Email template for this stage. No template will cause the email not to send. # String # Email html template for this stage. No template will cause the email not to send. # Boolean # Email the user who started the task. email_current_user: False # Boolean # Send to an email set in the task cache. email_task_cache: False # List # Send emails to the given roles on the project. # email_roles: # List # Send emails to an arbitrary admin emails # String # Email subject for this stage. # String # From email for this stage. # String # Reply-to email for this stage. # String # Email template for this stage. No template will cause the email not to send. # String # Email html template for this stage. No template will cause the email not to send. # Boolean # Email the user who started the task. email_current_user: False # Boolean # Send to an email set in the task cache. email_task_cache: False # List # Send emails to the given roles on the project. # email_roles: # List # Send emails to an arbitrary admin emails # String # Email subject for this stage. # String # From email for this stage. # String # Reply-to email for this stage. # String # Email template for this stage. No template will cause the email not to send. # String # Email html template for this stage. No template will cause the email not to send. # Boolean # Email the user who started the task. email_current_user: False # Boolean # Send to an email set in the task cache. email_task_cache: False # List # Send emails to the given roles on the project. # email_roles: # List # Send emails to an arbitrary admin emails # Boolean # Override if this task allows auto_approval. Otherwise uses task default. allow_auto_approve: True # List # Additional actions to be run as part of the task after default actions. # additional_actions: # Integer # Override for the task token expiry. Otherwise uses task default. # Dict # Action config overrides over the action defaults. See 'adjutant.workflow.action_defaults'. # Dict # Email config overrides for this task over task defaults.See 'adjutant.workflow.emails'. # Dict # Notification config overrides for this task over task defaults.See 'adjutant.workflow.notifications'. - example@example.com - EmailNotification - example@example.com - EmailNotification edit_user_roles: # Boolean # Override if this task allows auto_approval. Otherwise uses task default. allow_auto_approve: True # List # Additional actions to be run as part of the task after default actions. # additional_actions: # Integer # Override for the task token expiry. Otherwise uses task default. # Dict # Action config overrides over the action defaults. See 'adjutant.workflow.action_defaults'. # Dict # Email config overrides for this task over task defaults.See 'adjutant.workflow.emails'. # Dict # Notification config overrides for this task over task defaults.See 'adjutant.workflow.notifications'. - example@example.com - EmailNotification - example@example.com - EmailNotification invite_user_to_project: # Boolean # Override if this task allows auto_approval. Otherwise uses task default. allow_auto_approve: True # List # Additional actions to be run as part of the task after default actions. # additional_actions: # Integer # Override for the task token expiry. Otherwise uses task default. # Dict # Action config overrides over the action defaults. See 'adjutant.workflow.action_defaults'. # Dict # Email config overrides for this task over task defaults.See 'adjutant.workflow.emails'. # Dict # Notification config overrides for this task over task defaults.See 'adjutant.workflow.notifications'. - example@example.com - EmailNotification - example@example.com - EmailNotification reset_user_password: # Boolean # Override if this task allows auto_approval. Otherwise uses task default. allow_auto_approve: True # List # Additional actions to be run as part of the task after default actions. # additional_actions: # Integer # Override for the task token expiry. Otherwise uses task default. # Dict # Action config overrides over the action defaults. See 'adjutant.workflow.action_defaults'. # Dict # Email config overrides for this task over task defaults.See 'adjutant.workflow.emails'. # Dict # Notification config overrides for this task over task defaults.See 'adjutant.workflow.notifications'. - example@example.com - EmailNotification - example@example.com - EmailNotification update_user_email: # Boolean # Override if this task allows auto_approval. Otherwise uses task default. allow_auto_approve: True # List # Additional actions to be run as part of the task after default actions. # Integer # Override for the task token expiry. Otherwise uses task default. # Dict # Action config overrides over the action defaults. See 'adjutant.workflow.action_defaults'. # Dict # Email config overrides for this task over task defaults.See 'adjutant.workflow.emails'. # Dict # Notification config overrides for this task over task defaults.See 'adjutant.workflow.notifications'. - example@example.com - EmailNotification - example@example.com - EmailNotification update_quota: # Boolean # Override if this task allows auto_approval. Otherwise uses task default. allow_auto_approve: True # List # Additional actions to be run as part of the task after default actions. # additional_actions: # Integer # Override for the task token expiry. Otherwise uses task default. # Dict # Action config overrides over the action defaults. See 'adjutant.workflow.action_defaults'. # Dict # Email config overrides for this task over task defaults.See 'adjutant.workflow.emails'. # Dict # Notification config overrides for this task over task defaults.See 'adjutant.workflow.notifications'. - example@example.com - EmailNotification - example@example.com - EmailNotification # Dict # A definition of the quota size groups that Adjutant should use. # List # An ascending list of all the quota size names, so that Adjutant knows their relative sizes/order. # Dict # A per region definition of what services Adjutant should manage quotas for. '*' means all or default region. - cinder - neutron - nova",265,476
openstack%2Ftrove~master~Ie6a44c442e1d17587435638851a58058408d5ea8,openstack/trove,master,Ie6a44c442e1d17587435638851a58058408d5ea8,Wait for instance after rebuild,MERGED,2020-08-07 00:06:04.000000000,2020-08-10 00:26:02.000000000,2020-08-10 00:24:47.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 00:06:04.000000000', 'files': ['trove/taskmanager/models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/722ac4bcc98111c153061dbcb54e824fa5a4595f', 'message': 'Wait for instance after rebuild\n\nChange-Id: Ie6a44c442e1d17587435638851a58058408d5ea8\n'}]",0,745249,722ac4bcc98111c153061dbcb54e824fa5a4595f,7,2,1,6732,,,0,"Wait for instance after rebuild

Change-Id: Ie6a44c442e1d17587435638851a58058408d5ea8
",git fetch https://review.opendev.org/openstack/trove refs/changes/49/745249/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/taskmanager/models.py'],1,722ac4bcc98111c153061dbcb54e824fa5a4595f,fix-rebuild," def _guest_is_healthy(self): self.instance._refresh_datastore_status() return self.instance.datastore_status_matches( srvstatus.ServiceStatuses.HEALTHY) def wait_for_healthy(self): utils.poll_until( self._guest_is_healthy, sleep_time=3, time_out=CONF.resize_time_out) """"""Send rebuild async request to the guest and wait."""""" LOG.info(f""Waiting for instance {self.instance.id} healthy"") self._assert_guest_is_ok() self.wait_for_healthy() LOG.info(f""Finished to rebuild {self.instance.id}"") def _revert_nova_action(self): pass def _wait_for_revert_nova_action(self): pass def _confirm_nova_action(self): pass "," pass def _revert_nova_action(self): pass def _wait_for_revert_nova_action(self): pass def _confirm_nova_action(self): """"""Send rebuild async request to the guest.""""""",26,10
openstack%2Ftrove-tempest-plugin~master~I0d59d8f8ed87867d3ba3de441132d1d19cb2bbe2,openstack/trove-tempest-plugin,master,I0d59d8f8ed87867d3ba3de441132d1d19cb2bbe2,Add rebuild test,MERGED,2020-08-07 01:12:54.000000000,2020-08-10 00:25:49.000000000,2020-08-10 00:24:48.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 01:12:54.000000000', 'files': ['trove_tempest_plugin/config.py', 'trove_tempest_plugin/tests/scenario/base_actions.py', 'trove_tempest_plugin/tests/scenario/test_instance_actions.py'], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/4e10f9e3998faeedb3a723733765044d02a0446e', 'message': 'Add rebuild test\n\nChange-Id: I0d59d8f8ed87867d3ba3de441132d1d19cb2bbe2\n'}]",0,745274,4e10f9e3998faeedb3a723733765044d02a0446e,7,2,1,6732,,,0,"Add rebuild test

Change-Id: I0d59d8f8ed87867d3ba3de441132d1d19cb2bbe2
",git fetch https://review.opendev.org/openstack/trove-tempest-plugin refs/changes/74/745274/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove_tempest_plugin/config.py', 'trove_tempest_plugin/tests/scenario/base_actions.py', 'trove_tempest_plugin/tests/scenario/test_instance_actions.py']",3,4e10f9e3998faeedb3a723733765044d02a0446e,rebuild-test," def insert_data_before_rebuild(self, ip, username, password, database): LOG.info(f""Inserting data to database {database} on {ip} "" f""before rebuilding instance"") db_url = f'mysql+pymysql://{username}:{password}@{ip}:3306/{database}' db_client = utils.SQLClient(db_url) cmds = [ ""CREATE TABLE Rebuild (ID int, String varchar(255));"", ""insert into Rebuild VALUES (1, 'rebuild-data');"" ] db_client.execute(cmds) def verify_data_after_rebuild(self, ip, username, password, database): LOG.info(f""Verifying data in database {database} on {ip} "" f""after rebuilding instance"") db_url = f'mysql+pymysql://{username}:{password}@{ip}:3306/{database}' db_client = utils.SQLClient(db_url) cmd = ""select * from Rebuild;"" ret = db_client.execute(cmd) keys = ret.keys() rows = ret.fetchall() self.assertEqual(1, len(rows)) actual = dict(zip(keys, rows[0])) expected = {'ID': 1, 'String': 'rebuild-data'} self.assertEqual(expected, actual) ",,65,1
openstack%2Fproject-config~master~Iac1c49eb1ff257d13556242735c08cdba3a5ae51,openstack/project-config,master,Iac1c49eb1ff257d13556242735c08cdba3a5ae51,"Increase custom jobs, decrease GP jobs",MERGED,2020-08-09 11:34:22.000000000,2020-08-09 19:50:08.000000000,2020-08-09 19:38:11.000000000,"[{'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 20754}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-09 11:34:22.000000000', 'files': ['nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c3b87ffee058062cf6c334f4c1743032ec940f6e', 'message': 'Increase custom jobs, decrease GP jobs\n\nChange-Id: Iac1c49eb1ff257d13556242735c08cdba3a5ae51\n'}]",0,745456,c3b87ffee058062cf6c334f4c1743032ec940f6e,9,4,1,20754,,,0,"Increase custom jobs, decrease GP jobs

Change-Id: Iac1c49eb1ff257d13556242735c08cdba3a5ae51
",git fetch https://review.opendev.org/openstack/project-config refs/changes/56/745456/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.openstack.org.yaml'],1,c3b87ffee058062cf6c334f4c1743032ec940f6e,, max-servers: 0 max-servers: 10, max-servers: 4 max-servers: 4,2,2
openstack%2Ftacker~master~Ibc3c2055496d4b3891664966f9875e3a78810b30,openstack/tacker,master,Ibc3c2055496d4b3891664966f9875e3a78810b30,Support LCM notifications for VNF based on ETSI NFV-SOL specification    Support for Flow of sending notifications as defined in ETSI SOL003      * Notify LCM status to the cannback URL registered in subscription      * Support for transmission processing from each LCM,ABANDONED,2020-07-23 05:35:37.000000000,2020-08-09 16:21:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 27180}, {'_account_id': 31072}]","[{'number': 1, 'created': '2020-07-23 05:35:37.000000000', 'files': ['tacker/vnflcm/utils.py', 'tacker/conductor/conductorrpc/vnf_lcm_rpc.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/db/migration/alembic_migrations/versions/985e28392890_add_vnflcm_db.py', 'tacker/objects/__init__.py', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/tests/unit/vnflcm/test_vnflcm_driver.py', 'tacker/db/db_sqlalchemy/models.py', 'tacker/objects/fields.py', 'tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/conductor/conductor_server.py', 'tacker/vnflcm/vnflcm_driver.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/3b43333a170789efccb95748b0e39f464fe54cef', 'message': 'Support LCM notifications for VNF based on ETSI NFV-SOL specification\n   Support for Flow of sending notifications as defined in ETSI SOL003\n     * Notify LCM status to the cannback URL registered in subscription\n     * Support for transmission processing from each LCM\n\nChange-Id: Ibc3c2055496d4b3891664966f9875e3a78810b30\n'}]",739,742588,3b43333a170789efccb95748b0e39f464fe54cef,7,4,1,32219,,,0,"Support LCM notifications for VNF based on ETSI NFV-SOL specification
   Support for Flow of sending notifications as defined in ETSI SOL003
     * Notify LCM status to the cannback URL registered in subscription
     * Support for transmission processing from each LCM

Change-Id: Ibc3c2055496d4b3891664966f9875e3a78810b30
",git fetch https://review.opendev.org/openstack/tacker refs/changes/88/742588/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/vnflcm/utils.py', 'tacker/conductor/conductorrpc/vnf_lcm_rpc.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/db/migration/alembic_migrations/versions/985e28392890_add_vnflcm_db.py', 'tacker/objects/__init__.py', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/tests/unit/vnflcm/test_vnflcm_driver.py', 'tacker/db/db_sqlalchemy/models.py', 'tacker/objects/fields.py', 'tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/conductor/conductor_server.py', 'tacker/vnflcm/vnflcm_driver.py']",14,3b43333a170789efccb95748b0e39f464fe54cef,bp/support-etsi-nfv-specs,"@utils.expects_func_args('vnf_info', 'vnf_instance', 'scale_vnf_request') def revert_to_error_scale(function): """"""Decorator to revert task_state to error on failure."""""" @functools.wraps(function) def decorated_function(self, context, *args, **kwargs): try: return function(self, context, *args, **kwargs) except Exception as ex: with excutils.save_and_reraise_exception(): wrapped_func = safe_utils.get_wrapped_function(function) keyed_args = inspect.getcallargs(wrapped_func, self, context, *args, **kwargs) try: vnf_info = keyed_args['vnf_info'] vnf_instance = keyed_args['vnf_instance'] scale_vnf_request = keyed_args['scale_vnf_request'] vim_info = vnflcm_utils._get_vim(context, vnf_instance.vim_connection_info) vim_connection_info = objects.VimConnectionInfo.obj_from_primitive( vim_info, context) if vnf_info.get('resource_changes'): resource_changes = vnf_info.get('resource_changes') else: resource_changes=self._scale_resource_update(context, vnf_info, vnf_instance, scale_vnf_request, vim_connection_info, error=True) except Exception as e: LOG.warning(traceback.format_exc()) LOG.warning(""Failed to scale resource update "" ""instance %(id)s. Error: %(error)s"", {""id"": vnf_instance.id, ""error"": e}) problem = objects.ProblemDetails(status=500, detail=str(ex)) try: notification=vnf_info['notification'] notification['notificationStatus']='RESULT' notification['operationStates']='FAILED_TEMP' notification['error']=problem.to_dict() resource_dict = resource_changes.to_dict() if resource_dict.get('affected_vnfcs'): notification['affectedVnfcs']=jsonutils.dump_as_bytes(resource_dict.get('affected_vnfcs')) if resource_dict.get('affected_virtual_links'): notification['affectedVirtualLinks']=jsonutils.dump_as_bytes(resource_dict.get('affected_virtual_links')) if resource_dict.get('affected_virtual_storages'): notification['affectedVirtualStorages']=jsonutils.dump_as_bytes(resource_dict.get('affected_virtual_storages')) self.rpc_api.sendNotification(context, notification) except Exception as e: LOG.warning(""Failed to revert scale info for vnf "" ""instance %(id)s. Error: %(error)s"", {""id"": vnf_instance.id, ""error"": e}) return decorated_function @utils.expects_func_args('vnf_info', 'vnf_instance', 'operation_params') def revert_to_error_rollback(function): """"""Decorator to revert task_state to error on failure."""""" @functools.wraps(function) def decorated_function(self, context, *args, **kwargs): try: return function(self, context, *args, **kwargs) except Exception as ex: with excutils.save_and_reraise_exception(): wrapped_func = safe_utils.get_wrapped_function(function) keyed_args = inspect.getcallargs(wrapped_func, self, context, *args, **kwargs) resource_changes = None try: vnf_info = keyed_args['vnf_info'] vnf_instance = keyed_args['vnf_instance'] operation_params = keyed_args['operation_params'] vim_info = vnflcm_utils._get_vim(context, vnf_instance.vim_connection_info) vim_connection_info = objects.VimConnectionInfo.obj_from_primitive( vim_info, context) vnf_lcm_op_occs=vnf_info['vnf_lcm_op_occ'] if vnf_info.get('resource_changes'): resource_changes = vnf_info.get('resource_changes') else: if vnf_lcm_op_occs.operation == 'SCALE': scale_vnf_request = objects.ScaleVnfRequest.obj_from_primitive( operation_params, context=context) resource_changes=self._scale_resource_update(context, vnf_info, vnf_instance, scale_vnf_request, vim_connection_info, error=True) else: resource_changes=self._term_resource_update(context, vnf_info, vnf_instance) except Exception as e: LOG.warning(traceback.format_exc()) LOG.warning(""Failed to scale resource update "" ""instance %(id)s. Error: %(error)s"", {""id"": vnf_instance.id, ""error"": e}) problem = objects.ProblemDetails(status=500, detail=str(ex)) try: notification=vnf_info['notification'] notification['notificationStatus']='RESULT' notification['operationStates']='FAILED_TEMP' notification['error']=problem.to_dict() if resource_changes: resource_dict = resource_changes.to_dict() if resource_dict.get('affected_vnfcs'): notification['affectedVnfcs']=jsonutils.dump_as_bytes(resource_dict.get('affected_vnfcs')) if resource_dict.get('affected_virtual_links'): notification['affectedVirtualLinks']=jsonutils.dump_as_bytes(resource_dict.get('affected_virtual_links')) if resource_dict.get('affected_virtual_storages'): notification['affectedVirtualStorages']=jsonutils.dump_as_bytes(resource_dict.get('affected_virtual_storages')) self.rpc_api.sendNotification(context, notification) except Exception as e: LOG.warning(""Failed to revert scale info for vnf "" ""instance %(id)s. Error: %(error)s"", {""id"": vnf_instance.id, ""error"": e}) return decorated_function LOG.error(""Failed to update vnf %(id)s resources for instance"" def _scale_vnf_post(self, context, vnf_info, vnf_instance, scale_vnf_request, vim_connection_info, scale_id_list, resource_changes): notification=vnf_info['notification'] notification['notificationStatus']='RESULT' notification['operationStates']='COMPLETED' resource_dict = resource_changes.to_dict() if resource_dict.get('affected_vnfcs'): notification['affectedVnfcs']=resource_dict.get('affected_vnfcs') if resource_dict.get('affected_virtual_links'): notification['affectedVirtualLinks']=resource_dict.get('affected_virtual_links') if resource_dict.get('affected_virtual_storages'): notification['affectedVirtualStorages']=resource_dict.get('affected_virtual_storages') self.rpc_api.sendNotification(context, notification) @log.log @revert_to_error_scale def scale_vnf(self, context, vnf_info, vnf_instance, scale_vnf_request): LOG.info(""Request received for scale vnf '%s'"", vnf_instance.id) timestamp = datetime.utcnow() vnf_lcm_op_occ=vnf_info['vnf_lcm_op_occ'] vnf_lcm_op_occ.operation_state='PROCESSING' vnf_lcm_op_occ.state_entered_time=timestamp LOG.debug(""vnf_lcm_op_occ %s"", vnf_lcm_op_occ) vnf_lcm_op_occ.save() notification=vnf_info['notification'] notification['operationStates']='PROCESSING' self.rpc_api.sendNotification(context, notification) vim_info = vnflcm_utils._get_vim(context, vnf_instance.vim_connection_info) vim_connection_info = objects.VimConnectionInfo.obj_from_primitive( vim_info, context) self._scale_vnf_post(context, vnf_info, vnf_instance, scale_vnf_request, vim_connection_info, scale_id_list, resource_changes) LOG.info(""Request received for scale vnf '%s' is completed "" ""successfully"", vnf_instance.id) def _rollback_vnf_post(self, context, vnf_info, vnf_instance, operation_params, vim_connection_info): notification=vnf_info['notification'] notification['notificationStatus']='RESULT' notification['operationStates']='ROLLED_BACK' resource_dict = resource_changes.to_dict() if resource_dict.get('affected_vnfcs'): notification['affectedVnfcs']=resource_dict.get('affected_vnfcs') if resource_dict.get('affected_virtual_links'): notification['affectedVirtualLinks']=resource_dict.get('affected_virtual_links') if resource_dict.get('affected_virtual_storages'): notification['affectedVirtualStorages']=resource_dict.get('affected_virtual_storages') self.rpc_api.sendNotification(context, notification) @log.log @revert_to_error_rollback def rollback_vnf(self, context, vnf_info, vnf_instance, operation_params): LOG.info(""Request received for scale vnf '%s'"", vnf_instance.id) vnf_lcm_op_occs=vnf_info['vnf_lcm_op_occ'] if vnf_lcm_op_occs.operation == 'SCALE': scale_vnf_request = objects.ScaleVnfRequest.obj_from_primitive( operation_params, context=context) for scale in vnf_instance.instantiated_vnf_info.scale_status: if scale_vnf_request.aspect_id == scale.aspect_id: vnf_info['after_scale_level'] = scale.scale_level break timestamp = datetime.datetime.utcnow() vnf_lcm_op_occs.operation_state='PROCESSING' vnf_lcm_op_occs.state_entered_time=timestamp LOG.debug(""vnf_lcm_op_occs %s"", vnf_lcm_op_occs) instaUrl = CONF.vnf_lcm.endpoint_url+""/vnflcm/v1/vnf_instances/""+vnf_instance.id vnflcmUrl = CONF.vnf_lcm.endpoint_url+""/vnflcm/v1/vnf_lcm_op_occs/""+vnf_lcm_op_occs.id notification={} notification['notificationTypes']='VnfLcmOperationOccurrenceNotification' notification['vnfInstanceId']=vnf_instance.id notification['notificationStatus']='START' notification['operationTypes']=vnf_lcm_op_occs.operation notification['operationStates']='ROLLING_BACK' if vnf_lcm_op_occs.operation == 'SCALE': notification['isAutomaticInvocation']=vnf_lcm_op_occs.is_automatic_invocation else: notification['isAutomaticInvocation']=False notification['vnfLcmOpOccId']=vnf_lcm_op_occs.id notification['_links']={} notification['_links']['vnfInstance']={} notification['_links']['vnfInstance']['href']=instaUrl notification['_links']['vnfLcmOpOcc']={} notification['_links']['vnfLcmOpOcc']['href']=vnflcmUrl vnf_info['notification']=notification vnf_lcm_op_occs.save() self.rpc_api.sendNotification(context, notification) vim_info = vnflcm_utils._get_vim(context, vnf_instance.vim_connection_info) vim_connection_info = objects.VimConnectionInfo.obj_from_primitive( vim_info, context) self._rollback_vnf_post(context, vnf_info, vnf_instance, operation_params, vim_connection_info)"," LOG.error(""Failed to update vnf %(id)s resources for instance """,2349,115
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I7083e4dc8b4d14f33837ffe7cc6299ea1ac4b70f,openstack/tripleo-heat-templates,stable/train,I7083e4dc8b4d14f33837ffe7cc6299ea1ac4b70f,Add CephAnsibleRepo warning to make this validation more flexible,MERGED,2020-08-03 13:25:54.000000000,2020-08-09 12:45:46.000000000,2020-08-09 12:45:46.000000000,"[{'_account_id': 6796}, {'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-03 13:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0826cafcbd4b27de28f82215b6a701695860ff9e', 'message': 'Add CephAnsibleRepo warning to make this validation more flexible\n\nUnder specific scenarios (FFU) we have ceph-ansible installed but\nno repo is available on the system due to the leapp process.\nThis patch expose an existing parameter (always hard-coded to true)\nto let the validation print the warning but avoiding the whole\nplaybook failing on the CephAnsibleRepo task.\n\nChange-Id: I7083e4dc8b4d14f33837ffe7cc6299ea1ac4b70f\n(cherry picked from commit 6c33feb3058a5797a1fca803239f06107f5afb2d)\n'}, {'number': 2, 'created': '2020-08-04 14:41:34.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/82d8fda57df520f05ce767e62e2fcd8fa5015de1', 'message': 'Add CephAnsibleRepo warning to make this validation more flexible\n\nUnder specific scenarios (FFU) we have ceph-ansible installed but\nno repo is available on the system due to the leapp process.\nThis patch expose an existing parameter (always hard-coded to true)\nto let the validation print the warning but avoiding the whole\nplaybook failing on the CephAnsibleRepo task.\n\nChange-Id: I7083e4dc8b4d14f33837ffe7cc6299ea1ac4b70f\n(cherry picked from commit 6c33feb3058a5797a1fca803239f06107f5afb2d)\n'}]",0,744470,82d8fda57df520f05ce767e62e2fcd8fa5015de1,36,7,2,25402,,,0,"Add CephAnsibleRepo warning to make this validation more flexible

Under specific scenarios (FFU) we have ceph-ansible installed but
no repo is available on the system due to the leapp process.
This patch expose an existing parameter (always hard-coded to true)
to let the validation print the warning but avoiding the whole
playbook failing on the CephAnsibleRepo task.

Change-Id: I7083e4dc8b4d14f33837ffe7cc6299ea1ac4b70f
(cherry picked from commit 6c33feb3058a5797a1fca803239f06107f5afb2d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/70/744470/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,0826cafcbd4b27de28f82215b6a701695860ff9e,, CephAnsibleWarning: type: boolean description: | In particular scenarios we want this validation to show the warning but don't fail because the package is installed on the system but repos are disabled. default: true fail_without_ceph_ansible: {get_param: CephAnsibleWarning}, fail_without_ceph_ansible: true,8,1
openstack%2Fironic-python-agent~stable%2Ftrain~Id3b1ae5e59282f4109f6246d5614d44c93aefa7c,openstack/ironic-python-agent,stable/train,Id3b1ae5e59282f4109f6246d5614d44c93aefa7c,Prevent un-needed iscsi cleanup,MERGED,2020-07-28 14:17:09.000000000,2020-08-09 12:14:38.000000000,2020-08-09 12:12:28.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-28 14:17:09.000000000', 'files': ['ironic_python_agent/extensions/iscsi.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/agent.py', 'ironic_python_agent/tests/unit/extensions/test_iscsi.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/prevent-needless-iscsi-cleanup-f8d602c0abc7e8ba.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0b7c31841e4d3ec6e8027b837229d08b4562e5f7', 'message': ""Prevent un-needed iscsi cleanup\n\nWhen we added software raid support, we started calling bootloader\ninstallation. As time went on, we ehnanced that code path for non\nRAID cases in order to ensure that UEFI nvram was setup\nfor the instance to boot properly.\n\nSomewhere in this process, we missed a possible failure case where\nthe iscsi client tgtadm may return failures. Obviously, the correct\npath is to not call iscsi teardown if we don't need to.\n\nSince it was always semi-opportunistic teardown, we can't blindly\ncatch any error, and if we started iSCSI and failed to tear the\nconnection down, we might want to still fail, so this change\nmoves the logic over to use a flag on the agent object which\none extension to set the flag and the other to read it and take\naction based upon that.\n\nChange-Id: Id3b1ae5e59282f4109f6246d5614d44c93aefa7c\nStory: 2007937\nTask: 40395\n(cherry picked from commit 2a56ee03b6ffb2d8c8f5ff553e90ecf6ee07f9af)\n(cherry picked from commit 4746f09b3dfa765684e6e20cf4b9742e1bb3bd62)\n""}]",0,743550,0b7c31841e4d3ec6e8027b837229d08b4562e5f7,12,4,1,11655,,,0,"Prevent un-needed iscsi cleanup

When we added software raid support, we started calling bootloader
installation. As time went on, we ehnanced that code path for non
RAID cases in order to ensure that UEFI nvram was setup
for the instance to boot properly.

Somewhere in this process, we missed a possible failure case where
the iscsi client tgtadm may return failures. Obviously, the correct
path is to not call iscsi teardown if we don't need to.

Since it was always semi-opportunistic teardown, we can't blindly
catch any error, and if we started iSCSI and failed to tear the
connection down, we might want to still fail, so this change
moves the logic over to use a flag on the agent object which
one extension to set the flag and the other to read it and take
action based upon that.

Change-Id: Id3b1ae5e59282f4109f6246d5614d44c93aefa7c
Story: 2007937
Task: 40395
(cherry picked from commit 2a56ee03b6ffb2d8c8f5ff553e90ecf6ee07f9af)
(cherry picked from commit 4746f09b3dfa765684e6e20cf4b9742e1bb3bd62)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/50/743550/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/extensions/iscsi.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/agent.py', 'ironic_python_agent/tests/unit/extensions/test_iscsi.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/prevent-needless-iscsi-cleanup-f8d602c0abc7e8ba.yaml']",6,0b7c31841e4d3ec6e8027b837229d08b4562e5f7,,"--- fixes: - | Fixes an issue with the ironic-python-agent where we would call to setup the bootloader, which is necessary with software raid, but also attempt to clean up iSCSI. This can cause issues when using the ``direct`` ``deploy_interface``. Now the agent will only clean up iSCSI connections if iSCSI was explicitly started. For more information, please see `story 2007937 <https://storyboard.openstack.org/#!/story/2007937>`_. ",,22,2
openstack%2Fironic-python-agent~stable%2Fstein~Id3b1ae5e59282f4109f6246d5614d44c93aefa7c,openstack/ironic-python-agent,stable/stein,Id3b1ae5e59282f4109f6246d5614d44c93aefa7c,Prevent un-needed iscsi cleanup,MERGED,2020-07-28 14:17:37.000000000,2020-08-09 12:14:30.000000000,2020-08-09 12:12:32.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-28 14:17:37.000000000', 'files': ['ironic_python_agent/extensions/iscsi.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/agent.py', 'ironic_python_agent/tests/unit/extensions/test_iscsi.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/prevent-needless-iscsi-cleanup-f8d602c0abc7e8ba.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/53d53290c357ecace4872b4fd71f0516e82e700c', 'message': ""Prevent un-needed iscsi cleanup\n\nWhen we added software raid support, we started calling bootloader\ninstallation. As time went on, we ehnanced that code path for non\nRAID cases in order to ensure that UEFI nvram was setup\nfor the instance to boot properly.\n\nSomewhere in this process, we missed a possible failure case where\nthe iscsi client tgtadm may return failures. Obviously, the correct\npath is to not call iscsi teardown if we don't need to.\n\nSince it was always semi-opportunistic teardown, we can't blindly\ncatch any error, and if we started iSCSI and failed to tear the\nconnection down, we might want to still fail, so this change\nmoves the logic over to use a flag on the agent object which\none extension to set the flag and the other to read it and take\naction based upon that.\n\nChange-Id: Id3b1ae5e59282f4109f6246d5614d44c93aefa7c\nStory: 2007937\nTask: 40395\n(cherry picked from commit 2a56ee03b6ffb2d8c8f5ff553e90ecf6ee07f9af)\n(cherry picked from commit 4746f09b3dfa765684e6e20cf4b9742e1bb3bd62)\n""}]",0,743552,53d53290c357ecace4872b4fd71f0516e82e700c,11,4,1,11655,,,0,"Prevent un-needed iscsi cleanup

When we added software raid support, we started calling bootloader
installation. As time went on, we ehnanced that code path for non
RAID cases in order to ensure that UEFI nvram was setup
for the instance to boot properly.

Somewhere in this process, we missed a possible failure case where
the iscsi client tgtadm may return failures. Obviously, the correct
path is to not call iscsi teardown if we don't need to.

Since it was always semi-opportunistic teardown, we can't blindly
catch any error, and if we started iSCSI and failed to tear the
connection down, we might want to still fail, so this change
moves the logic over to use a flag on the agent object which
one extension to set the flag and the other to read it and take
action based upon that.

Change-Id: Id3b1ae5e59282f4109f6246d5614d44c93aefa7c
Story: 2007937
Task: 40395
(cherry picked from commit 2a56ee03b6ffb2d8c8f5ff553e90ecf6ee07f9af)
(cherry picked from commit 4746f09b3dfa765684e6e20cf4b9742e1bb3bd62)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/52/743552/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/extensions/iscsi.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/agent.py', 'ironic_python_agent/tests/unit/extensions/test_iscsi.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/prevent-needless-iscsi-cleanup-f8d602c0abc7e8ba.yaml']",6,53d53290c357ecace4872b4fd71f0516e82e700c,,"--- fixes: - | Fixes an issue with the ironic-python-agent where we would call to setup the bootloader, which is necessary with software raid, but also attempt to clean up iSCSI. This can cause issues when using the ``direct`` ``deploy_interface``. Now the agent will only clean up iSCSI connections if iSCSI was explicitly started. For more information, please see `story 2007937 <https://storyboard.openstack.org/#!/story/2007937>`_. ",,22,2
openstack%2Fironic-python-agent~stable%2Ftrain~Ic4608b7c6ff9773d1403926efb3d59869c71343b,openstack/ironic-python-agent,stable/train,Ic4608b7c6ff9773d1403926efb3d59869c71343b,Fix TypeError on agent lookup failure,MERGED,2020-08-07 22:30:00.000000000,2020-08-09 12:13:40.000000000,2020-08-09 12:12:15.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-07 22:30:00.000000000', 'files': ['ironic_python_agent/tests/unit/test_ironic_api_client.py', 'releasenotes/notes/fixes-agent-lookup-retries-1b4bb90b8e783aca.yaml', 'ironic_python_agent/ironic_api_client.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e45ee3f64221962ad243f7df8bc123510c632935', 'message': 'Fix TypeError on agent lookup failure\n\nAgent lookups can fail as we presently use logging.exception,\nbetter known in our code as LOG.exception, which can also generate\nother fun issues on journald based systems where additional errors\ncould be raised resulting in us being unable to troubleshoot the\nthe actual issue.\n\nBecause of the mis-use of LOG.exception and the default behavior\nof the backoff retry handler, the retry logic was also not\nfunctional as any error no matter how small caused IPA to\njust exit.\n\nChange-Id: Ic4608b7c6ff9773d1403926efb3d59869c71343b\nStory: 2007968\nTask: 40465\n(cherry picked from commit 5eab9bced63b2b9a6753cbbf594dda7ef9d03a3a)\n'}]",0,745424,e45ee3f64221962ad243f7df8bc123510c632935,8,3,1,11655,,,0,"Fix TypeError on agent lookup failure

Agent lookups can fail as we presently use logging.exception,
better known in our code as LOG.exception, which can also generate
other fun issues on journald based systems where additional errors
could be raised resulting in us being unable to troubleshoot the
the actual issue.

Because of the mis-use of LOG.exception and the default behavior
of the backoff retry handler, the retry logic was also not
functional as any error no matter how small caused IPA to
just exit.

Change-Id: Ic4608b7c6ff9773d1403926efb3d59869c71343b
Story: 2007968
Task: 40465
(cherry picked from commit 5eab9bced63b2b9a6753cbbf594dda7ef9d03a3a)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/24/745424/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/test_ironic_api_client.py', 'releasenotes/notes/fixes-agent-lookup-retries-1b4bb90b8e783aca.yaml', 'ironic_python_agent/ironic_api_client.py']",3,e45ee3f64221962ad243f7df8bc123510c632935,," except (requests.exceptions.Timeout, requests.exceptions.ConnectTimeout, requests.exceptions.ConnectionError, requests.exceptions.ReadTimeout, requests.exceptions.HTTPError) as err: LOG.warning( 'Error detected while attempting to perform lookup ' 'with %s, retrying. Error: %s', self.api_url, err except Exception as err: # NOTE(TheJulia): If you're looking here, and you're wondering # why the retry logic is not working or your investigating a weird # error or even IPA just exiting, # See https://storyboard.openstack.org/#!/story/2007968 # To be clear, we're going to try to provide as much detail as # possible in the exit handling msg = ('Unhandled error looking up node with addresses {} at ' '{}: {}'.format(params['addresses'], self.api_url, err)) # No matter what we do at this point, IPA is going to exit. # This is because we don't know why the exception occured and # we likely should not try to retry as such. # We will attempt to provide as much detail to the logs as # possible as to what occured, although depending on the logging # subsystem, additional errors can occur, thus the additional # handling below. try: LOG.exception(msg) return False except Exception as exc_err: LOG.error(msg) exc_msg = ('Unexpected exception occured while trying to ' 'log additional detail. Error: {}'.format(exc_err)) LOG.error(exc_msg) raise errors.LookupNodeError(msg)"," except Exception as err: LOG.exception( 'Unhandled error looking up node with addresses %r at %s: %s', params['addresses'], self.api_url, err,",84,4
openstack%2Fironic-python-agent~stable%2Fussuri~Ic4608b7c6ff9773d1403926efb3d59869c71343b,openstack/ironic-python-agent,stable/ussuri,Ic4608b7c6ff9773d1403926efb3d59869c71343b,Fix TypeError on agent lookup failure,MERGED,2020-08-07 22:29:49.000000000,2020-08-09 12:13:39.000000000,2020-08-09 12:12:12.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-07 22:29:49.000000000', 'files': ['ironic_python_agent/tests/unit/test_ironic_api_client.py', 'releasenotes/notes/fixes-agent-lookup-retries-1b4bb90b8e783aca.yaml', 'ironic_python_agent/ironic_api_client.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0153622c289e0af4d5895098468d1b1c118fb8bf', 'message': 'Fix TypeError on agent lookup failure\n\nAgent lookups can fail as we presently use logging.exception,\nbetter known in our code as LOG.exception, which can also generate\nother fun issues on journald based systems where additional errors\ncould be raised resulting in us being unable to troubleshoot the\nthe actual issue.\n\nBecause of the mis-use of LOG.exception and the default behavior\nof the backoff retry handler, the retry logic was also not\nfunctional as any error no matter how small caused IPA to\njust exit.\n\nChange-Id: Ic4608b7c6ff9773d1403926efb3d59869c71343b\nStory: 2007968\nTask: 40465\n(cherry picked from commit 5eab9bced63b2b9a6753cbbf594dda7ef9d03a3a)\n'}]",0,745423,0153622c289e0af4d5895098468d1b1c118fb8bf,9,3,1,11655,,,0,"Fix TypeError on agent lookup failure

Agent lookups can fail as we presently use logging.exception,
better known in our code as LOG.exception, which can also generate
other fun issues on journald based systems where additional errors
could be raised resulting in us being unable to troubleshoot the
the actual issue.

Because of the mis-use of LOG.exception and the default behavior
of the backoff retry handler, the retry logic was also not
functional as any error no matter how small caused IPA to
just exit.

Change-Id: Ic4608b7c6ff9773d1403926efb3d59869c71343b
Story: 2007968
Task: 40465
(cherry picked from commit 5eab9bced63b2b9a6753cbbf594dda7ef9d03a3a)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/23/745423/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/test_ironic_api_client.py', 'releasenotes/notes/fixes-agent-lookup-retries-1b4bb90b8e783aca.yaml', 'ironic_python_agent/ironic_api_client.py']",3,0153622c289e0af4d5895098468d1b1c118fb8bf,," except (requests.exceptions.Timeout, requests.exceptions.ConnectTimeout, requests.exceptions.ConnectionError, requests.exceptions.ReadTimeout, requests.exceptions.HTTPError) as err: LOG.warning( 'Error detected while attempting to perform lookup ' 'with %s, retrying. Error: %s', self.api_url, err except Exception as err: # NOTE(TheJulia): If you're looking here, and you're wondering # why the retry logic is not working or your investigating a weird # error or even IPA just exiting, # See https://storyboard.openstack.org/#!/story/2007968 # To be clear, we're going to try to provide as much detail as # possible in the exit handling msg = ('Unhandled error looking up node with addresses {} at ' '{}: {}'.format(params['addresses'], self.api_url, err)) # No matter what we do at this point, IPA is going to exit. # This is because we don't know why the exception occured and # we likely should not try to retry as such. # We will attempt to provide as much detail to the logs as # possible as to what occured, although depending on the logging # subsystem, additional errors can occur, thus the additional # handling below. try: LOG.exception(msg) return False except Exception as exc_err: LOG.error(msg) exc_msg = ('Unexpected exception occured while trying to ' 'log additional detail. Error: {}'.format(exc_err)) LOG.error(exc_msg) raise errors.LookupNodeError(msg)"," except Exception as err: LOG.exception( 'Unhandled error looking up node with addresses %r at %s: %s', params['addresses'], self.api_url, err,",84,4
openstack%2Fironic-python-agent~stable%2Fstein~Ia54faf05c80159d1d5fde0b222627c673f1cffe3,openstack/ironic-python-agent,stable/stein,Ia54faf05c80159d1d5fde0b222627c673f1cffe3,improve error messages during node lookup failures,MERGED,2020-07-30 20:57:09.000000000,2020-08-09 12:13:35.000000000,2020-08-09 12:12:24.000000000,"[{'_account_id': 2472}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-30 20:57:09.000000000', 'files': ['ironic_python_agent/ironic_api_client.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b549e791795b82b197520e3fdbd1b71a47738d52', 'message': ""improve error messages during node lookup failures\n\nThe error messages reported on the console when the agent can't find\nits node do not give enough information to debug the cause of the\nfailure. This change adds some basic details like the URL of the API\nserver and the addresses of the node being sought there.\n\nChange-Id: Ia54faf05c80159d1d5fde0b222627c673f1cffe3\n(cherry picked from commit f7740c7919584389e907f66bdfa1b4f31c75ead1)\n""}]",0,744052,b549e791795b82b197520e3fdbd1b71a47738d52,12,5,1,11655,,,0,"improve error messages during node lookup failures

The error messages reported on the console when the agent can't find
its node do not give enough information to debug the cause of the
failure. This change adds some basic details like the URL of the API
server and the addresses of the node being sought there.

Change-Id: Ia54faf05c80159d1d5fde0b222627c673f1cffe3
(cherry picked from commit f7740c7919584389e907f66bdfa1b4f31c75ead1)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/52/744052/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/ironic_api_client.py'],1,b549e791795b82b197520e3fdbd1b71a47738d52,node-lookup-error-verbosity-stable/stein," except Exception as err: LOG.exception( 'Unhandled error looking up node with addresses %r at %s: %s', params['addresses'], self.api_url, err, ) LOG.warning( 'Failed looking up node with addresses %r at %s, ' 'status code: %s', params['addresses'], self.api_url, response.status_code, ) LOG.warning( 'Got invalid node data in response to query for node ' 'with addresses %r from %s: %s', params['addresses'], self.api_url, content, )"," except Exception: LOG.exception('Lookup failed') LOG.warning('Failure status code: %s', response.status_code) LOG.warning('Got invalid node data from the API: %s', content)",15,4
openstack%2Fironic-python-agent~stable%2Fqueens~Ic4608b7c6ff9773d1403926efb3d59869c71343b,openstack/ironic-python-agent,stable/queens,Ic4608b7c6ff9773d1403926efb3d59869c71343b,Fix TypeError on agent lookup failure,MERGED,2020-08-07 22:36:38.000000000,2020-08-09 12:13:29.000000000,2020-08-09 12:12:20.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-07 22:36:38.000000000', 'files': ['ironic_python_agent/tests/unit/test_ironic_api_client.py', 'releasenotes/notes/fixes-agent-lookup-retries-1b4bb90b8e783aca.yaml', 'ironic_python_agent/ironic_api_client.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6befbd6c45c2590da95d7920b19d882f19d22957', 'message': 'Fix TypeError on agent lookup failure\n\nAgent lookups can fail as we presently use logging.exception,\nbetter known in our code as LOG.exception, which can also generate\nother fun issues on journald based systems where additional errors\ncould be raised resulting in us being unable to troubleshoot the\nthe actual issue.\n\nBecause of the mis-use of LOG.exception and the default behavior\nof the backoff retry handler, the retry logic was also not\nfunctional as any error no matter how small caused IPA to\njust exit.\n\nChange-Id: Ic4608b7c6ff9773d1403926efb3d59869c71343b\nStory: 2007968\nTask: 40465\n(cherry picked from commit 5eab9bced63b2b9a6753cbbf594dda7ef9d03a3a)\n(cherry picked from commit e45ee3f64221962ad243f7df8bc123510c632935)\n(cherry picked from commit 9fe5cb92be3c3b0342612a0317e34254fc551cda)\n(cherry picked from commit 47a8ae6744fb80e3eb51fac4021d637e4379984a)\n'}]",0,745427,6befbd6c45c2590da95d7920b19d882f19d22957,8,3,1,11655,,,0,"Fix TypeError on agent lookup failure

Agent lookups can fail as we presently use logging.exception,
better known in our code as LOG.exception, which can also generate
other fun issues on journald based systems where additional errors
could be raised resulting in us being unable to troubleshoot the
the actual issue.

Because of the mis-use of LOG.exception and the default behavior
of the backoff retry handler, the retry logic was also not
functional as any error no matter how small caused IPA to
just exit.

Change-Id: Ic4608b7c6ff9773d1403926efb3d59869c71343b
Story: 2007968
Task: 40465
(cherry picked from commit 5eab9bced63b2b9a6753cbbf594dda7ef9d03a3a)
(cherry picked from commit e45ee3f64221962ad243f7df8bc123510c632935)
(cherry picked from commit 9fe5cb92be3c3b0342612a0317e34254fc551cda)
(cherry picked from commit 47a8ae6744fb80e3eb51fac4021d637e4379984a)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/27/745427/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/test_ironic_api_client.py', 'releasenotes/notes/fixes-agent-lookup-retries-1b4bb90b8e783aca.yaml', 'ironic_python_agent/ironic_api_client.py']",3,6befbd6c45c2590da95d7920b19d882f19d22957,node-lookup-error-verbosity-stable/stein-stable/rocky-stable/queens," except (requests.exceptions.Timeout, requests.exceptions.ConnectTimeout, requests.exceptions.ConnectionError, requests.exceptions.ReadTimeout, requests.exceptions.HTTPError) as err: LOG.warning( 'Error detected while attempting to perform lookup ' 'with %s, retrying. Error: %s', self.api_url, err except Exception as err: # NOTE(TheJulia): If you're looking here, and you're wondering # why the retry logic is not working or your investigating a weird # error or even IPA just exiting, # See https://storyboard.openstack.org/#!/story/2007968 # To be clear, we're going to try to provide as much detail as # possible in the exit handling msg = ('Unhandled error looking up node with addresses {} at ' '{}: {}'.format(params['addresses'], self.api_url, err)) # No matter what we do at this point, IPA is going to exit. # This is because we don't know why the exception occured and # we likely should not try to retry as such. # We will attempt to provide as much detail to the logs as # possible as to what occured, although depending on the logging # subsystem, additional errors can occur, thus the additional # handling below. try: LOG.exception(msg) return False except Exception as exc_err: LOG.error(msg) exc_msg = ('Unexpected exception occured while trying to ' 'log additional detail. Error: {}'.format(exc_err)) LOG.error(exc_msg) raise errors.LookupNodeError(msg)"," except Exception as err: LOG.exception( 'Unhandled error looking up node with addresses %r at %s: %s', params['addresses'], self.api_url, err,",84,4
openstack%2Fironic-python-agent~stable%2Fstein~Ic4608b7c6ff9773d1403926efb3d59869c71343b,openstack/ironic-python-agent,stable/stein,Ic4608b7c6ff9773d1403926efb3d59869c71343b,Fix TypeError on agent lookup failure,MERGED,2020-08-07 22:34:40.000000000,2020-08-09 12:12:25.000000000,2020-08-09 12:12:24.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-07 22:34:40.000000000', 'files': ['ironic_python_agent/tests/unit/test_ironic_api_client.py', 'releasenotes/notes/fixes-agent-lookup-retries-1b4bb90b8e783aca.yaml', 'ironic_python_agent/ironic_api_client.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9fe5cb92be3c3b0342612a0317e34254fc551cda', 'message': 'Fix TypeError on agent lookup failure\n\nAgent lookups can fail as we presently use logging.exception,\nbetter known in our code as LOG.exception, which can also generate\nother fun issues on journald based systems where additional errors\ncould be raised resulting in us being unable to troubleshoot the\nthe actual issue.\n\nBecause of the mis-use of LOG.exception and the default behavior\nof the backoff retry handler, the retry logic was also not\nfunctional as any error no matter how small caused IPA to\njust exit.\n\nChange-Id: Ic4608b7c6ff9773d1403926efb3d59869c71343b\nStory: 2007968\nTask: 40465\n(cherry picked from commit 5eab9bced63b2b9a6753cbbf594dda7ef9d03a3a)\n(cherry picked from commit e45ee3f64221962ad243f7df8bc123510c632935)\n'}]",0,745425,9fe5cb92be3c3b0342612a0317e34254fc551cda,7,3,1,11655,,,0,"Fix TypeError on agent lookup failure

Agent lookups can fail as we presently use logging.exception,
better known in our code as LOG.exception, which can also generate
other fun issues on journald based systems where additional errors
could be raised resulting in us being unable to troubleshoot the
the actual issue.

Because of the mis-use of LOG.exception and the default behavior
of the backoff retry handler, the retry logic was also not
functional as any error no matter how small caused IPA to
just exit.

Change-Id: Ic4608b7c6ff9773d1403926efb3d59869c71343b
Story: 2007968
Task: 40465
(cherry picked from commit 5eab9bced63b2b9a6753cbbf594dda7ef9d03a3a)
(cherry picked from commit e45ee3f64221962ad243f7df8bc123510c632935)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/25/745425/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/test_ironic_api_client.py', 'releasenotes/notes/fixes-agent-lookup-retries-1b4bb90b8e783aca.yaml', 'ironic_python_agent/ironic_api_client.py']",3,9fe5cb92be3c3b0342612a0317e34254fc551cda,node-lookup-error-verbosity-stable/stein," except (requests.exceptions.Timeout, requests.exceptions.ConnectTimeout, requests.exceptions.ConnectionError, requests.exceptions.ReadTimeout, requests.exceptions.HTTPError) as err: LOG.warning( 'Error detected while attempting to perform lookup ' 'with %s, retrying. Error: %s', self.api_url, err except Exception as err: # NOTE(TheJulia): If you're looking here, and you're wondering # why the retry logic is not working or your investigating a weird # error or even IPA just exiting, # See https://storyboard.openstack.org/#!/story/2007968 # To be clear, we're going to try to provide as much detail as # possible in the exit handling msg = ('Unhandled error looking up node with addresses {} at ' '{}: {}'.format(params['addresses'], self.api_url, err)) # No matter what we do at this point, IPA is going to exit. # This is because we don't know why the exception occured and # we likely should not try to retry as such. # We will attempt to provide as much detail to the logs as # possible as to what occured, although depending on the logging # subsystem, additional errors can occur, thus the additional # handling below. try: LOG.exception(msg) return False except Exception as exc_err: LOG.error(msg) exc_msg = ('Unexpected exception occured while trying to ' 'log additional detail. Error: {}'.format(exc_err)) LOG.error(exc_msg) raise errors.LookupNodeError(msg)"," except Exception as err: LOG.exception( 'Unhandled error looking up node with addresses %r at %s: %s', params['addresses'], self.api_url, err,",84,4
openstack%2Fironic-python-agent~stable%2Fqueens~Ia54faf05c80159d1d5fde0b222627c673f1cffe3,openstack/ironic-python-agent,stable/queens,Ia54faf05c80159d1d5fde0b222627c673f1cffe3,improve error messages during node lookup failures,MERGED,2020-07-30 20:57:25.000000000,2020-08-09 12:12:19.000000000,2020-08-09 12:12:19.000000000,"[{'_account_id': 2472}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-30 20:57:25.000000000', 'files': ['ironic_python_agent/ironic_api_client.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c9925f250d069b8db5109c3a976ed73f474a35e3', 'message': ""improve error messages during node lookup failures\n\nThe error messages reported on the console when the agent can't find\nits node do not give enough information to debug the cause of the\nfailure. This change adds some basic details like the URL of the API\nserver and the addresses of the node being sought there.\n\nChange-Id: Ia54faf05c80159d1d5fde0b222627c673f1cffe3\n(cherry picked from commit f7740c7919584389e907f66bdfa1b4f31c75ead1)\n""}]",0,744054,c9925f250d069b8db5109c3a976ed73f474a35e3,10,5,1,11655,,,0,"improve error messages during node lookup failures

The error messages reported on the console when the agent can't find
its node do not give enough information to debug the cause of the
failure. This change adds some basic details like the URL of the API
server and the addresses of the node being sought there.

Change-Id: Ia54faf05c80159d1d5fde0b222627c673f1cffe3
(cherry picked from commit f7740c7919584389e907f66bdfa1b4f31c75ead1)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/54/744054/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/ironic_api_client.py'],1,c9925f250d069b8db5109c3a976ed73f474a35e3,node-lookup-error-verbosity-stable/stein-stable/rocky-stable/queens," except Exception as err: LOG.exception( 'Unhandled error looking up node with addresses %r at %s: %s', params['addresses'], self.api_url, err, ) LOG.warning( 'Failed looking up node with addresses %r at %s, ' 'status code: %s', params['addresses'], self.api_url, response.status_code, ) LOG.warning( 'Got invalid node data in response to query for node ' 'with addresses %r from %s: %s', params['addresses'], self.api_url, content, )"," except Exception: LOG.exception('Lookup failed') LOG.warning('Failure status code: %s', response.status_code) LOG.warning('Got invalid node data from the API: %s', content)",15,4
openstack%2Fironic~stable%2Frocky~I13da6275c04ffc6237a7f2edf25c03b4ddee936a,openstack/ironic,stable/rocky,I13da6275c04ffc6237a7f2edf25c03b4ddee936a,Update number of VM on ironic-base,MERGED,2020-08-03 19:09:54.000000000,2020-08-09 11:15:58.000000000,2020-08-09 11:15:58.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 19:09:54.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1eb07f08741b7ed2910da010cc6d53064a30eda1', 'message': ""Update number of VM on ironic-base\n\nSince we merged the change to have partition and wholedisk\ntesting on basic_ops most of the jobs started requiring 2 VMs\nto run the tempest tets.\n\nLet's increase on the ironic-base so all jobs will be default to 2.\n\nRemoving IRONIC_VM_COUNT=2 from jobs that uses ironic-base as parent.\n\nChange-Id: I13da6275c04ffc6237a7f2edf25c03b4ddee936a\n(cherry picked from commit dc87a189cb0d5bf2e96650ffd699fbaa972b7983)\n(cherry picked from commit 3730c92ce35ca30ff15d5d8310f4dd37092fbb14)\n(cherry picked from commit 3df540a35d567ea78b04afb3188c76c64a7e7fae)\n(cherry picked from commit 310db650890477bc882e9a7a398454c768ac4224)\n""}]",0,744541,1eb07f08741b7ed2910da010cc6d53064a30eda1,10,5,1,11655,,,0,"Update number of VM on ironic-base

Since we merged the change to have partition and wholedisk
testing on basic_ops most of the jobs started requiring 2 VMs
to run the tempest tets.

Let's increase on the ironic-base so all jobs will be default to 2.

Removing IRONIC_VM_COUNT=2 from jobs that uses ironic-base as parent.

Change-Id: I13da6275c04ffc6237a7f2edf25c03b4ddee936a
(cherry picked from commit dc87a189cb0d5bf2e96650ffd699fbaa972b7983)
(cherry picked from commit 3730c92ce35ca30ff15d5d8310f4dd37092fbb14)
(cherry picked from commit 3df540a35d567ea78b04afb3188c76c64a7e7fae)
(cherry picked from commit 310db650890477bc882e9a7a398454c768ac4224)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/41/744541/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,1eb07f08741b7ed2910da010cc6d53064a30eda1,, IRONIC_VM_COUNT: 2, IRONIC_VM_COUNT: 1,1,1
openstack%2Ftacker-specs~master~Iad826c7a0b7a5bce892b330bcee33b36a0bbe814,openstack/tacker-specs,master,Iad826c7a0b7a5bce892b330bcee33b36a0bbe814,Fix for broken link in tacker-specs.,MERGED,2020-07-27 05:17:56.000000000,2020-08-09 10:48:28.000000000,2020-08-09 10:47:24.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-07-27 05:17:56.000000000', 'files': ['specs/ussuri/enhance_vnf_package_support.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/8065ca6e1a455d2303600032beb2ce9eed05ccc7', 'message': 'Fix for broken link in tacker-specs.\n\nA broken link [1] is found at the beginning of the page,\nEnhance VNF package (TOSCA CSAR) in Tacker.\nThere is a typo in the URL, correct URL is [2].\n\n[1] https://blueprints.launchpad.net/tacker/+spec/tosca-scar-mgmt-driver\n[2] https://blueprints.launchpad.net/tacker/+spec/tosca-csar-mgmt-driver\n\nChange-Id: Iad826c7a0b7a5bce892b330bcee33b36a0bbe814\nCloses-Bug: #1880551\n'}]",0,743146,8065ca6e1a455d2303600032beb2ce9eed05ccc7,10,6,1,32102,,,0,"Fix for broken link in tacker-specs.

A broken link [1] is found at the beginning of the page,
Enhance VNF package (TOSCA CSAR) in Tacker.
There is a typo in the URL, correct URL is [2].

[1] https://blueprints.launchpad.net/tacker/+spec/tosca-scar-mgmt-driver
[2] https://blueprints.launchpad.net/tacker/+spec/tosca-csar-mgmt-driver

Change-Id: Iad826c7a0b7a5bce892b330bcee33b36a0bbe814
Closes-Bug: #1880551
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/46/743146/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/ussuri/enhance_vnf_package_support.rst'],1,8065ca6e1a455d2303600032beb2ce9eed05ccc7,bug/1880551,https://blueprints.launchpad.net/tacker/+spec/tosca-csar-mgmt-driver,https://blueprints.launchpad.net/tacker/+spec/tosca-scar-mgmt-driver,1,1
openstack%2Frequirements~master~I50024dab0aaf84330203c82e5c333f8f78f06860,openstack/requirements,master,I50024dab0aaf84330203c82e5c333f8f78f06860,Updated from generate-constraints,ABANDONED,2020-08-09 06:23:46.000000000,2020-08-09 06:33:59.000000000,,[],"[{'number': 1, 'created': '2020-08-09 06:23:46.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d94406dc8b221e257b5c28c3d079076de8f1a5e5', 'message': 'Updated from generate-constraints\n\nChange-Id: I50024dab0aaf84330203c82e5c333f8f78f06860\n'}]",0,745452,d94406dc8b221e257b5c28c3d079076de8f1a5e5,2,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: I50024dab0aaf84330203c82e5c333f8f78f06860
",git fetch https://review.opendev.org/openstack/requirements refs/changes/52/745452/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d94406dc8b221e257b5c28c3d079076de8f1a5e5,openstack/requirements/constraints,mock===4.0.2os-brick===3.2.1docutils===0.16ldap3===2.8Sphinx===3.2.0PyMySQL===0.10.0pkg-resources===0.0.0,mock===3.0.5os-brick===3.2.0docutils===0.15.2ldap3===2.7Sphinx===3.1.2PyMySQL===0.9.3,7,6
openstack%2Fzun~master~Ia81975d15cab318dc6688a6ebd51dd6877ba0aaf,openstack/zun,master,Ia81975d15cab318dc6688a6ebd51dd6877ba0aaf,Refactor kuryr libnetwork code,MERGED,2020-08-02 03:49:33.000000000,2020-08-09 01:39:58.000000000,2020-08-09 01:38:49.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-02 03:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/55be048eadb5a6885c4ad4001da1098b2ed40f8f', 'message': 'Refactor kuryr libnetwork code\n\nChange-Id: Ia81975d15cab318dc6688a6ebd51dd6877ba0aaf\nImplement: blueprint migrate-docker-to-cni\n'}, {'number': 2, 'created': '2020-08-02 21:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/9d59493e1023d1acd4024cefb59aede7960a7f3e', 'message': 'Refactor kuryr libnetwork code\n\nChange-Id: Ia81975d15cab318dc6688a6ebd51dd6877ba0aaf\nImplement: blueprint migrate-docker-to-cni\n'}, {'number': 3, 'created': '2020-08-03 00:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/ffb3e6afca32ed0d5785496c0f7b19a7add4c4c3', 'message': 'Refactor kuryr libnetwork code\n\nChange-Id: Ia81975d15cab318dc6688a6ebd51dd6877ba0aaf\nImplement: blueprint migrate-docker-to-cni\n'}, {'number': 4, 'created': '2020-08-03 17:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/30063e2c0f8ab8c6dca81f16b1257c53b78bd351', 'message': 'Refactor kuryr libnetwork code\n\nChange-Id: Ia81975d15cab318dc6688a6ebd51dd6877ba0aaf\nImplement: blueprint migrate-docker-to-cni\n'}, {'number': 5, 'created': '2020-08-03 22:57:03.000000000', 'files': ['zun/network/kuryr_network.py', 'zun/container/docker/driver.py', 'zun/network/network.py', 'zun/container/driver.py', 'zun/tests/unit/network/test_kuryr_network.py', 'zun/tests/unit/container/docker/test_docker_driver.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/05d55ec9bdafb7ab06923c428906b0051a79c383', 'message': 'Refactor kuryr libnetwork code\n\nChange-Id: Ia81975d15cab318dc6688a6ebd51dd6877ba0aaf\nImplement: blueprint migrate-docker-to-cni\n'}]",0,744367,05d55ec9bdafb7ab06923c428906b0051a79c383,15,2,5,11536,,,0,"Refactor kuryr libnetwork code

Change-Id: Ia81975d15cab318dc6688a6ebd51dd6877ba0aaf
Implement: blueprint migrate-docker-to-cni
",git fetch https://review.opendev.org/openstack/zun refs/changes/67/744367/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/network/kuryr_network.py', 'zun/container/docker/driver.py', 'zun/network/network.py']",3,55be048eadb5a6885c4ad4001da1098b2ed40f8f,bp/migrate-docker-to-cni," def get_or_create_network(self, *args, **kwargs): raise NotImplementedError() def process_networking_config(self, *args, **kwargs):"," def inspect_network(self, network_name, **kwargs): raise NotImplementedError() def list_networks(self, **kwargs):",64,97
openstack%2Fnova~stable%2Fussuri~I9edb36c4df1cc0d8b529e669f06540de71766085,openstack/nova,stable/ussuri,I9edb36c4df1cc0d8b529e669f06540de71766085,compute: Don't delete the original attachment during pre LM rollback,MERGED,2020-07-31 13:10:23.000000000,2020-08-08 22:39:21.000000000,2020-08-08 22:37:50.000000000,"[{'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-31 13:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/008bb63af3e3257661d77eab66c87afa73f39e9f', 'message': ""compute: Don't delete the original attachment during pre LM rollback\n\nI0bfb11296430dfffe9b091ae7c3a793617bd9d0d introduced support for live\nmigration with cinderv3 volume attachments during Queens. This initial\nsupport handled failures in pre_live_migration directly by removing any\nattachments created on the destination and reverting to the original\nattachment ids before re-raising the caught exception to the source\ncompute. It also added rollback code within the main\n_rollback_live_migration method but missed that this would also be\ncalled during a pre_live_migration rollback.\n\nAs a result after a failure in pre_live_migration\n_rollback_live_migration will attempt to delete the source host volume\nattachments referenced by the bdm before updating the bdms with the now\nnon-existent attachment ids, leaving the volumes in an `available` state\nin Cinder as they have no attachment records associated with them\nanymore.\n\nThis change aims to resolve this within _rollback_volume_bdms by\nensuring that the current and original attachment_ids are not equal\nbefore requesting that the current attachment referenced by the bdm is\ndeleted. When called after a failure in pre_live_migration this should\nresult in no attempt being made to remove the original source host\nattachments from Cinder.\n\nNote that the following changes muddy the waters slightly here but\nintroduced no actual changes to the logic within\n_rollback_live_migration:\n\n* I0f3ab6604d8b79bdb75cf67571e359cfecc039d8 reworked some of the error\n  handling in Rocky but isn't the source of the issue here.\n\n* Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0 reworked\n  _rollback_live_migration to use the provided source_bdms.\n\n* I6bc73e8c8f98d9955f33f309beb8a7c56981b553 then refactored\n  _rollback_live_migration, moving the logic into a self contained\n  _rollback_volume_bdms method.\n\nCloses-Bug: #1889108\nChange-Id: I9edb36c4df1cc0d8b529e669f06540de71766085\n(cherry picked from commit 76362fad58b8a19871fdb531e9921192078689c8)\n""}, {'number': 2, 'created': '2020-08-05 23:56:38.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1889108.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/034b2fa8fea0e34fed95a2ba728e4387ce4e78de', 'message': ""compute: Don't delete the original attachment during pre LM rollback\n\nI0bfb11296430dfffe9b091ae7c3a793617bd9d0d introduced support for live\nmigration with cinderv3 volume attachments during Queens. This initial\nsupport handled failures in pre_live_migration directly by removing any\nattachments created on the destination and reverting to the original\nattachment ids before re-raising the caught exception to the source\ncompute. It also added rollback code within the main\n_rollback_live_migration method but missed that this would also be\ncalled during a pre_live_migration rollback.\n\nAs a result after a failure in pre_live_migration\n_rollback_live_migration will attempt to delete the source host volume\nattachments referenced by the bdm before updating the bdms with the now\nnon-existent attachment ids, leaving the volumes in an `available` state\nin Cinder as they have no attachment records associated with them\nanymore.\n\nThis change aims to resolve this within _rollback_volume_bdms by\nensuring that the current and original attachment_ids are not equal\nbefore requesting that the current attachment referenced by the bdm is\ndeleted. When called after a failure in pre_live_migration this should\nresult in no attempt being made to remove the original source host\nattachments from Cinder.\n\nNote that the following changes muddy the waters slightly here but\nintroduced no actual changes to the logic within\n_rollback_live_migration:\n\n* I0f3ab6604d8b79bdb75cf67571e359cfecc039d8 reworked some of the error\n  handling in Rocky but isn't the source of the issue here.\n\n* Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0 reworked\n  _rollback_live_migration to use the provided source_bdms.\n\n* I6bc73e8c8f98d9955f33f309beb8a7c56981b553 then refactored\n  _rollback_live_migration, moving the logic into a self contained\n  _rollback_volume_bdms method.\n\nCloses-Bug: #1889108\nChange-Id: I9edb36c4df1cc0d8b529e669f06540de71766085\n(cherry picked from commit 2102f1834a6ac9fd870bfb457b28a2172f33e281)\n""}]",0,744162,034b2fa8fea0e34fed95a2ba728e4387ce4e78de,26,8,2,10135,,,0,"compute: Don't delete the original attachment during pre LM rollback

I0bfb11296430dfffe9b091ae7c3a793617bd9d0d introduced support for live
migration with cinderv3 volume attachments during Queens. This initial
support handled failures in pre_live_migration directly by removing any
attachments created on the destination and reverting to the original
attachment ids before re-raising the caught exception to the source
compute. It also added rollback code within the main
_rollback_live_migration method but missed that this would also be
called during a pre_live_migration rollback.

As a result after a failure in pre_live_migration
_rollback_live_migration will attempt to delete the source host volume
attachments referenced by the bdm before updating the bdms with the now
non-existent attachment ids, leaving the volumes in an `available` state
in Cinder as they have no attachment records associated with them
anymore.

This change aims to resolve this within _rollback_volume_bdms by
ensuring that the current and original attachment_ids are not equal
before requesting that the current attachment referenced by the bdm is
deleted. When called after a failure in pre_live_migration this should
result in no attempt being made to remove the original source host
attachments from Cinder.

Note that the following changes muddy the waters slightly here but
introduced no actual changes to the logic within
_rollback_live_migration:

* I0f3ab6604d8b79bdb75cf67571e359cfecc039d8 reworked some of the error
  handling in Rocky but isn't the source of the issue here.

* Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0 reworked
  _rollback_live_migration to use the provided source_bdms.

* I6bc73e8c8f98d9955f33f309beb8a7c56981b553 then refactored
  _rollback_live_migration, moving the logic into a self contained
  _rollback_volume_bdms method.

Closes-Bug: #1889108
Change-Id: I9edb36c4df1cc0d8b529e669f06540de71766085
(cherry picked from commit 2102f1834a6ac9fd870bfb457b28a2172f33e281)
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/744162/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1889108.py']",3,008bb63af3e3257661d77eab66c87afa73f39e9f,bug/1889108," are not removed during the rollback from pre_live_migration failures on the destination. # Assert that the src attachment is still present self.assertIn(src_attachment_id, attachments.keys()) self.assertEqual(1, len(attachments))"," are incorrectly removed during the rollback from pre_live_migration failures on the destination. # FIXME(lyarwood): Assert that both the src and dest attachments have # been removed. Only the dest attachment should be removed during the # rollback of a pre_live_migration failure. self.assertNotIn(src_attachment_id, attachments.keys()) self.assertEqual(0, len(attachments))",24,8
openstack%2Fcinder~master~I3fd514126dbdf56d4d4d8e423e98e462238c683f,openstack/cinder,master,I3fd514126dbdf56d4d4d8e423e98e462238c683f,Doc note warning about retyping unencrypted/encrypted volume,MERGED,2020-08-06 18:16:21.000000000,2020-08-08 21:51:46.000000000,2020-08-07 06:26:46.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 18883}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-08-06 18:16:21.000000000', 'files': ['api-ref/source/v2/volumes-v2-volumes-actions.inc', 'api-ref/source/v3/volumes-v3-volumes-actions.inc', 'doc/source/configuration/block-storage/volume-encryption.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/09ad89b7eecd6ea654a17690996c2ec4a63dd31e', 'message': 'Doc note warning about retyping unencrypted/encrypted volume\n\nAs suggested in 662b8210aab8e08bdddbf30e2b21ae357f3be32e and\ndiscussed at Victoria PTG[1] it would be nice to have a notes\nwarning users to don’t try this.\n\n[1] https://wiki.openstack.org/wiki/CinderVictoriaPTGSummary#Sizing_encrypted_volumes\n\nChange-Id: I3fd514126dbdf56d4d4d8e423e98e462238c683f\nPartial-Bug: #1687880\n'}]",0,745199,09ad89b7eecd6ea654a17690996c2ec4a63dd31e,28,23,1,20813,,,0,"Doc note warning about retyping unencrypted/encrypted volume

As suggested in 662b8210aab8e08bdddbf30e2b21ae357f3be32e and
discussed at Victoria PTG[1] it would be nice to have a notes
warning users to don’t try this.

[1] https://wiki.openstack.org/wiki/CinderVictoriaPTGSummary#Sizing_encrypted_volumes

Change-Id: I3fd514126dbdf56d4d4d8e423e98e462238c683f
Partial-Bug: #1687880
",git fetch https://review.opendev.org/openstack/cinder refs/changes/99/745199/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/volumes-v2-volumes-actions.inc', 'api-ref/source/v3/volumes-v3-volumes-actions.inc', 'doc/source/configuration/block-storage/volume-encryption.rst']",3,09ad89b7eecd6ea654a17690996c2ec4a63dd31e,sizing-encrypted-volumes," Known Issues ~~~~~~~~~~~~ Retyping an unencrypted volume to the same size encrypted volume will most likely fail. Even though the volume is the same size as the source volume, the encrypted volume needs to store additional encryption information overhead. This results in the new volume not being large enough to hold all data.",,19,0
openstack%2Fkolla~master~I472af9ec8cee3462beb5aca04ea6171b79933abe,openstack/kolla,master,I472af9ec8cee3462beb5aca04ea6171b79933abe,Install Monasca plugin for Grafana by default,MERGED,2019-08-13 12:59:39.000000000,2020-08-08 21:07:58.000000000,2020-08-08 21:06:48.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30438}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-08-13 12:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ca3eb62d9b855071c4ced440c87c5ce6eb47e2ec', 'message': 'Install Monasca plugin for Grafana by default\n\nChange-Id: I472af9ec8cee3462beb5aca04ea6171b79933abe\n'}, {'number': 2, 'created': '2019-08-14 07:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2e1512a676d7c761f7ded0389ab69c230cd531e5', 'message': 'Install Monasca plugin for Grafana by default\n\nChange-Id: I472af9ec8cee3462beb5aca04ea6171b79933abe\n'}, {'number': 3, 'created': '2020-08-05 09:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e564ea2d76df06296d18b98dbeb7b255f7c24a01', 'message': 'Install Monasca plugin for Grafana by default\n\nChange-Id: I472af9ec8cee3462beb5aca04ea6171b79933abe\n'}, {'number': 4, 'created': '2020-08-05 13:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/90fa6db702601e2ef189ea3de748cc35f770d4c8', 'message': 'Install Monasca plugin for Grafana by default\n\nChange-Id: I472af9ec8cee3462beb5aca04ea6171b79933abe\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n'}, {'number': 5, 'created': '2020-08-05 13:52:38.000000000', 'files': ['releasenotes/notes/add-monasca-grafana-app-ea24f8ca43fa9c7d.yaml', 'docker/monasca/monasca-grafana/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2f92e4341f58d20e5277ebe2b1372b3ae00dc960', 'message': 'Install Monasca plugin for Grafana by default\n\nChange-Id: I472af9ec8cee3462beb5aca04ea6171b79933abe\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n'}]",3,676185,2f92e4341f58d20e5277ebe2b1372b3ae00dc960,36,9,5,30438,,,0,"Install Monasca plugin for Grafana by default

Change-Id: I472af9ec8cee3462beb5aca04ea6171b79933abe
Co-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/85/676185/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/monasca/monasca-grafana/Dockerfile.j2'],1,ca3eb62d9b855071c4ced440c87c5ce6eb47e2ec,monasca_grafana_app,RUN mkdir -p /var/lib/grafana/plugins/monasca-grafana \ && curl -Lo tmp.tgz https://github.com/monasca/monasca-grafana/tarball/master \ && tar zxvf tmp.tgz -C /var/lib/grafana/plugins/monasca-grafana --strip-components=1 \ && rm tmp.tgz \ && npm install -g grunt \ && cd /var/lib/grafana/plugins/monasca-grafana \ && npm install \ && grunt ,,9,0
openstack%2Frequirements~master~I112d173a9858e56bcd26cbfc5beffd686fe32401,openstack/requirements,master,I112d173a9858e56bcd26cbfc5beffd686fe32401,Updated from generate-constraints,MERGED,2020-08-08 06:19:56.000000000,2020-08-08 20:27:35.000000000,2020-08-08 20:26:29.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-08 06:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e11e8e9f024ccb73c177ec68f289c4af617454b1', 'message': 'Updated from generate-constraints\n\nChange-Id: I112d173a9858e56bcd26cbfc5beffd686fe32401\n'}, {'number': 2, 'created': '2020-08-08 17:27:26.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/04152885d25001131e4bcf488da8c033468114c4', 'message': 'Updated from generate-constraints\n\nChange-Id: I112d173a9858e56bcd26cbfc5beffd686fe32401\n'}]",0,745437,04152885d25001131e4bcf488da8c033468114c4,13,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: I112d173a9858e56bcd26cbfc5beffd686fe32401
",git fetch https://review.opendev.org/openstack/requirements refs/changes/37/745437/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e11e8e9f024ccb73c177ec68f289c4af617454b1,openstack/requirements/constraints/noclob,pywbem===1.0.0mock===4.0.2nocasedict===0.5.0os-brick===3.2.1docutils===0.16boto3===1.14.38pifpaf===2.6.0yamlloader===0.5.5msgpack===1.0.0PyMySQL===0.10.0dogpile.cache===1.0.2salt===3001.1botocore===1.17.38nocaselist===1.0.1custom-inherit===2.2.2pkg-resources===0.0.0,pywbem===0.17.4mock===3.0.5os-brick===3.2.0docutils===0.15.2boto3===1.14.37pifpaf===2.5.0msgpack===0.6.1PyMySQL===0.9.3dogpile.cache===1.0.1salt===3001botocore===1.17.37,16,11
openstack%2Fironic~stable%2Frocky~I7e1eafb334fe3a3337926aca27c14fe559ce0e39,openstack/ironic,stable/rocky,I7e1eafb334fe3a3337926aca27c14fe559ce0e39,Kill misbehaving `ipmitool` process,MERGED,2019-11-01 09:09:27.000000000,2020-08-08 20:24:40.000000000,2020-08-08 20:23:30.000000000,"[{'_account_id': 6618}, {'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-11-01 09:09:27.000000000', 'files': ['ironic/conf/ipmi.py', 'releasenotes/notes/force-out-hung-ipmitool-process-519c7567bcbaa882.yaml', 'ironic/drivers/modules/ipmitool.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2fe5c65c073e80b4b5b4d3f2682721d7c239c033', 'message': 'Kill misbehaving `ipmitool` process\n\nWe can\'t trust ipmitool to terminate in time. We may have to kill\nthe process if it\'s running for longer than we asked it to.\n\nOn the other hand, abrupt IPMI exchange termination is said to be\ndangerous to the state of the BMC being managed. Therefore this patch\nonly kills timed out IPMI ""power status"" call.\n\nFor the purpose of killing hung `ipmitool` we inject the time-capped\n`popen.wait` call before the uncapped `popen.communicate` is called\ninternally. Then just kill stuck `ipmitool` process and go on.\n\nStory: 2004449\nTask: 28127\nChange-Id: I7e1eafb334fe3a3337926aca27c14fe559ce0e39\n(cherry picked from commit 9efb9e313d684489aaa3fbb17564fe2de96877b1)\n'}]",11,692516,2fe5c65c073e80b4b5b4d3f2682721d7c239c033,36,10,1,26340,,,0,"Kill misbehaving `ipmitool` process

We can't trust ipmitool to terminate in time. We may have to kill
the process if it's running for longer than we asked it to.

On the other hand, abrupt IPMI exchange termination is said to be
dangerous to the state of the BMC being managed. Therefore this patch
only kills timed out IPMI ""power status"" call.

For the purpose of killing hung `ipmitool` we inject the time-capped
`popen.wait` call before the uncapped `popen.communicate` is called
internally. Then just kill stuck `ipmitool` process and go on.

Story: 2004449
Task: 28127
Change-Id: I7e1eafb334fe3a3337926aca27c14fe559ce0e39
(cherry picked from commit 9efb9e313d684489aaa3fbb17564fe2de96877b1)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/16/692516/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/ipmi.py', 'releasenotes/notes/force-out-hung-ipmitool-process-519c7567bcbaa882.yaml', 'ironic/drivers/modules/ipmitool.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py']",4,2fe5c65c073e80b4b5b4d3f2682721d7c239c033,kill-hung-ipmitool-stable/rocky," def test__exec_ipmitool_wait(self): mock_popen = mock.MagicMock() mock_popen.poll.side_effect = [1, 1, 1, 1, 1] ipmi._exec_ipmitool_wait(1, {'uuid': ''}, mock_popen) self.assertTrue(mock_popen.terminate.called) self.assertTrue(mock_popen.kill.called) mock_exec.assert_called_once_with(self.info, ""power status"", kill_on_timeout=True) mock_exec.assert_called_once_with(self.info, ""power status"", kill_on_timeout=True) mock_exec.assert_called_once_with(self.info, ""power status"", kill_on_timeout=True) mock_exec.assert_called_once_with(self.info, ""power status"", kill_on_timeout=True) def side_effect(driver_info, command, **kwargs): mock.call(self.info, ""power status"", kill_on_timeout=True), mock.call(self.info, ""power status"", kill_on_timeout=True)] def side_effect(driver_info, command, **kwargs): mock.call(self.info, ""power status"", kill_on_timeout=True)] def side_effect(driver_info, command, **kwargs): mock.call(self.info, ""power status"", kill_on_timeout=True), mock.call(self.info, ""power status"", kill_on_timeout=True)] expected = [mock.call(self.info, ""power status"", kill_on_timeout=True), mock.call(self.info, ""power status"", kill_on_timeout=True), mock.call(self.info, ""power status"", kill_on_timeout=True)] mock_exec.assert_called_once_with(self.info, ""power status"", kill_on_timeout=True)"," mock_exec.assert_called_once_with(self.info, ""power status"") mock_exec.assert_called_once_with(self.info, ""power status"") mock_exec.assert_called_once_with(self.info, ""power status"") mock_exec.assert_called_once_with(self.info, ""power status"") def side_effect(driver_info, command): mock.call(self.info, ""power status""), mock.call(self.info, ""power status"")] def side_effect(driver_info, command): mock.call(self.info, ""power status"")] def side_effect(driver_info, command): mock.call(self.info, ""power status""), mock.call(self.info, ""power status"")] expected = [mock.call(self.info, ""power status""), mock.call(self.info, ""power status""), mock.call(self.info, ""power status"")] mock_exec.assert_called_once_with(self.info, ""power status"")",96,22
openstack%2Fironic~stable%2Frocky~Iad6cb02ee4f17b7c5987719b3a0603df210c840d,openstack/ironic,stable/rocky,Iad6cb02ee4f17b7c5987719b3a0603df210c840d,Clean up nodes in DELETING on conductor restart,MERGED,2020-07-06 12:36:19.000000000,2020-08-08 20:08:43.000000000,2020-08-08 20:07:37.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-06 12:36:19.000000000', 'files': ['ironic/tests/unit/conductor/test_base_manager.py', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/deleting-dcdb9cf0d2a6a1a6.yaml', 'ironic/common/states.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1be065afb7d744902d5da5455009c0ebf398e543', 'message': 'Clean up nodes in DELETING on conductor restart\n\nChange-Id: Iad6cb02ee4f17b7c5987719b3a0603df210c840d\n(cherry picked from commit 4f6374a209dcf96ecf7d55da4999b045ae4061ef)\n'}]",0,739475,1be065afb7d744902d5da5455009c0ebf398e543,24,7,1,10239,,,0,"Clean up nodes in DELETING on conductor restart

Change-Id: Iad6cb02ee4f17b7c5987719b3a0603df210c840d
(cherry picked from commit 4f6374a209dcf96ecf7d55da4999b045ae4061ef)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/75/739475/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/conductor/test_base_manager.py', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/deleting-dcdb9cf0d2a6a1a6.yaml', 'ironic/common/states.py']",5,1be065afb7d744902d5da5455009c0ebf398e543,deleting-stable/rocky," ADOPTING, RESCUING, UNRESCUING, DELETING)machine.add_transition(DELETING, ERROR, 'fail')"," ADOPTING, RESCUING, UNRESCUING)machine.add_transition(DELETING, ERROR, 'error')",9,4
openstack%2Fnova~stable%2Fussuri~If1a45886adfc6448a626a54449ff66f400879b83,openstack/nova,stable/ussuri,If1a45886adfc6448a626a54449ff66f400879b83,func: Add live migration rollback volume attachment tests,MERGED,2020-07-31 13:10:23.000000000,2020-08-08 19:41:53.000000000,2020-08-08 00:39:16.000000000,"[{'_account_id': 4690}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-31 13:10:23.000000000', 'files': ['nova/tests/functional/compute/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6070c55793d184bb3484b6af8ccadded0a907cbb', 'message': 'func: Add live migration rollback volume attachment tests\n\nThis test asserts that the original source host volume attachments\nremain intact after a failure and rollback during the main live\nmigration flow on the virt driver.\n\nChange-Id: If1a45886adfc6448a626a54449ff66f400879b83\n(cherry picked from commit e6c2a863286bae6a8a8caff0d6a54c001e0a2ffb)\n'}]",0,744160,6070c55793d184bb3484b6af8ccadded0a907cbb,10,5,1,10135,,,0,"func: Add live migration rollback volume attachment tests

This test asserts that the original source host volume attachments
remain intact after a failure and rollback during the main live
migration flow on the virt driver.

Change-Id: If1a45886adfc6448a626a54449ff66f400879b83
(cherry picked from commit e6c2a863286bae6a8a8caff0d6a54c001e0a2ffb)
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/744160/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/compute/test_live_migration.py'],1,6070c55793d184bb3484b6af8ccadded0a907cbb,bug/1889108,"import mockfrom nova import test class TestVolAttachmentsDuringLiveMigration( integrated_helpers._IntegratedTestBase ): """"""Assert the lifecycle of volume attachments during LM rollbacks """""" # Default self.api to the self.admin_api as live migration is admin only ADMIN_API = True microversion = 'latest' def setUp(self): super().setUp() self.cinder = self.useFixture(nova_fixtures.CinderFixture(self)) def _setup_compute_service(self): self._start_compute('src') self._start_compute('dest') @mock.patch('nova.virt.fake.FakeDriver.live_migration') def test_vol_attachments_during_driver_live_mig_failure(self, mock_lm): """"""Assert volume attachments during live migration rollback * Mock live_migration to always rollback and raise a failure within the fake virt driver * Launch a boot from volume instance * Assert that the volume is attached correctly to the instance * Live migrate the instance to another host invoking the mocked live_migration method * Assert that the instance is still on the source host * Assert that the original source host volume attachment remains """""" # Mock out driver.live_migration so that we always rollback def _fake_live_migration_with_rollback( context, instance, dest, post_method, recover_method, block_migration=False, migrate_data=None): # Just call the recover_method to simulate a rollback recover_method(context, instance, dest, migrate_data) # raise test.TestingException here to imitate a virt driver raise test.TestingException() mock_lm.side_effect = _fake_live_migration_with_rollback volume_id = nova_fixtures.CinderFixture.IMAGE_BACKED_VOL server = self._build_server( name='test_bfv_live_migration_failure', image_uuid='', networks='none' ) server['block_device_mapping_v2'] = [{ 'source_type': 'volume', 'destination_type': 'volume', 'boot_index': 0, 'uuid': volume_id }] server = self.api.post_server({'server': server}) self._wait_for_state_change(server, 'ACTIVE') # Fetch the source host for use later server = self.api.get_server(server['id']) src_host = server['OS-EXT-SRV-ATTR:host'] # Assert that the volume is connected to the instance self.assertIn( volume_id, self.cinder.volume_ids_for_instance(server['id'])) # Assert that we have an active attachment in the fixture attachments = self.cinder.volume_to_attachment.get(volume_id) self.assertEqual(1, len(attachments)) # Fetch the attachment_id for use later once we have migrated src_attachment_id = list(attachments.keys())[0] # Migrate the instance and wait until the migration errors out thanks # to our mocked version of live_migration raising TestingException self.api.post_server_action( server['id'], {'os-migrateLive': {'host': None, 'block_migration': 'auto'}}) self._wait_for_migration_status(server, ['error']) # Assert that we called the fake live_migration method mock_lm.assert_called_once() # Assert that the instance is listed as ERROR on the source self._wait_for_state_change(server, 'ERROR') server = self.api.get_server(server['id']) self.assertEqual(src_host, server['OS-EXT-SRV-ATTR:host']) # Assert that the src attachment is still present attachments = self.cinder.volume_to_attachment.get(volume_id) self.assertIn(src_attachment_id, attachments.keys()) self.assertEqual(1, len(attachments))",,93,0
openstack%2Fcharm-nova-compute~master~I97777f537f564d2693d23aab436d0a42b8441443,openstack/charm-nova-compute,master,I97777f537f564d2693d23aab436d0a42b8441443,[DEBUG] Testing charm-nova-compute CI,ABANDONED,2020-07-14 19:38:51.000000000,2020-08-08 19:03:09.000000000,,"[{'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 19:38:51.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/71e01ea6afe771e5cf0e09a2a1d5e0e969296d50', 'message': '[DEBUG] Testing charm-nova-compute CI\n\nChange-Id: I97777f537f564d2693d23aab436d0a42b8441443\n'}]",0,741038,71e01ea6afe771e5cf0e09a2a1d5e0e969296d50,8,3,1,14567,,,0,"[DEBUG] Testing charm-nova-compute CI

Change-Id: I97777f537f564d2693d23aab436d0a42b8441443
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/38/741038/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,71e01ea6afe771e5cf0e09a2a1d5e0e969296d50,, description: Enable TEST debug logging., description: Enable debug logging.,1,1
openstack%2Frequirements~master~I3f4b76bd39a44be0cb0cdaa1bb2d212dbc9f40ec,openstack/requirements,master,I3f4b76bd39a44be0cb0cdaa1bb2d212dbc9f40ec,DNM: test msgpack-1.0.0,ABANDONED,2020-03-14 22:20:01.000000000,2020-08-08 18:54:55.000000000,,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-14 22:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/fea03e319bc959035815c96f02bd004f5a40acea', 'message': 'DNM: test msgpack-1.0.0\n\nChange-Id: I3f4b76bd39a44be0cb0cdaa1bb2d212dbc9f40ec\n'}, {'number': 2, 'created': '2020-03-28 17:33:09.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c8d38d8ed8bf71ae5fb03e6a014a4a61094ec737', 'message': 'DNM: test msgpack-1.0.0\n\nChange-Id: I3f4b76bd39a44be0cb0cdaa1bb2d212dbc9f40ec\n'}]",0,713113,c8d38d8ed8bf71ae5fb03e6a014a4a61094ec737,10,2,2,14288,,,0,"DNM: test msgpack-1.0.0

Change-Id: I3f4b76bd39a44be0cb0cdaa1bb2d212dbc9f40ec
",git fetch https://review.opendev.org/openstack/requirements refs/changes/13/713113/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,fea03e319bc959035815c96f02bd004f5a40acea,,msgpack===1.0.0,msgpack===0.6.2,1,1
openstack%2Fironic~master~I4336d71f57bcfbde90fa7b62a5435a7f9d0a73d3,openstack/ironic,master,I4336d71f57bcfbde90fa7b62a5435a7f9d0a73d3,Use TLS for json_rpc when configured,MERGED,2020-07-30 06:11:32.000000000,2020-08-08 18:14:27.000000000,2020-07-31 11:04:10.000000000,"[{'_account_id': 10068}, {'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-30 06:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e6d9a051e3dd0b55be64348100c6404f08fc3f93', 'message': 'Use TLS for json_rpc when configured\n\nThe configuration for json_rpc contains the option use_ssl but its value\nwas not respected by the json_rpc client. Therefore the client tried to\nconnect to HTTPS endpoints using HTTP.\n\nChange-Id: I4336d71f57bcfbde90fa7b62a5435a7f9d0a73d3\n'}, {'number': 2, 'created': '2020-07-30 10:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8697f3e1e1746ab89f17fbbeeb4450372bccce85', 'message': 'Use TLS for json_rpc when configured\n\nThe configuration for json_rpc contains the option use_ssl but its value\nwas not respected by the json_rpc client. Therefore the client tried to\nconnect to HTTPS endpoints using HTTP.\n\nChange-Id: I4336d71f57bcfbde90fa7b62a5435a7f9d0a73d3\n'}, {'number': 3, 'created': '2020-07-30 12:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bf28e7acc601b2ed550d881961d1e7e4890fd799', 'message': 'Use TLS for json_rpc when configured\n\nThe configuration for json_rpc contains the option use_ssl but its value\nwas not respected by the json_rpc client. Therefore the client tried to\nconnect to HTTPS endpoints using HTTP.\n\nChange-Id: I4336d71f57bcfbde90fa7b62a5435a7f9d0a73d3\n'}, {'number': 4, 'created': '2020-07-30 14:20:42.000000000', 'files': ['ironic/common/json_rpc/client.py', 'releasenotes/notes/fix-json-rpc-client-ssl-2438a731beb3d5f9.yaml', 'ironic/tests/unit/common/test_json_rpc.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/feae197c5ad02fa0898a30d4ffaaba8a21d4f884', 'message': 'Use TLS for json_rpc when configured\n\nThe configuration for json_rpc contains the option use_ssl but its value\nwas not respected by the json_rpc client. Therefore the client tried to\nconnect to HTTPS endpoints using HTTP.\n\nChange-Id: I4336d71f57bcfbde90fa7b62a5435a7f9d0a73d3\n'}]",2,743912,feae197c5ad02fa0898a30d4ffaaba8a21d4f884,34,8,4,32254,,,0,"Use TLS for json_rpc when configured

The configuration for json_rpc contains the option use_ssl but its value
was not respected by the json_rpc client. Therefore the client tried to
connect to HTTPS endpoints using HTTP.

Change-Id: I4336d71f57bcfbde90fa7b62a5435a7f9d0a73d3
",git fetch https://review.opendev.org/openstack/ironic refs/changes/12/743912/4 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/json_rpc/client.py'],1,e6d9a051e3dd0b55be64348100c6404f08fc3f93,json-rpc-ssl," if CONF.json_rpc.use_ssl: url = 'https://%s:%d' % (self.host, CONF.json_rpc.port) else: url = 'http://%s:%d' % (self.host, CONF.json_rpc.port)"," url = 'http://%s:%d' % (self.host, CONF.json_rpc.port)",4,1
openstack%2Fnova~master~I4108f4b98c57174ca4e71dcf53cd0617093d3f88,openstack/nova,master,I4108f4b98c57174ca4e71dcf53cd0617093d3f88,Pass the actual target in volumes policy,MERGED,2020-07-24 02:07:31.000000000,2020-08-08 18:09:28.000000000,2020-08-08 18:07:53.000000000,"[{'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-24 02:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e12c2e1618448fff1ced27dd589e595370810ac7', 'message': ""Pass the actual target in volumes policy\n\nCurrently if target is not passed in context.can(),\nit use defauls target which is context.user_id, context.project_id.\nThese defaults target are not useful as it pass the\ncontext's user_id and project_id only which means we tell\noslo policy to verify the context data with context data.\n\nThis commit pass the actual target for networks policies\nwhich is context.project_id itself as nova cannot verify the owner of\nvolumes. Neutron will return the authorise error is requester is not\nowner of volumes.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I4108f4b98c57174ca4e71dcf53cd0617093d3f88\n""}, {'number': 2, 'created': '2020-07-28 15:54:10.000000000', 'files': ['nova/api/openstack/compute/volumes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/abeb47b20d616f6b9be7014f27fbfb79393f256d', 'message': ""Pass the actual target in volumes policy\n\nCurrently if target is not passed in context.can(),\nit use defauls target which is context.user_id, context.project_id.\nThese defaults target are not useful as it pass the\ncontext's user_id and project_id only which means we tell\noslo policy to verify the context data with context data.\n\nThis commit pass the actual target for networks policies\nwhich is context.project_id itself as nova cannot verify the owner of\nvolumes. Neutron will return the authorise error is requester is not\nowner of volumes.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I4108f4b98c57174ca4e71dcf53cd0617093d3f88\n""}]",0,742779,abeb47b20d616f6b9be7014f27fbfb79393f256d,62,15,2,8556,,,0,"Pass the actual target in volumes policy

Currently if target is not passed in context.can(),
it use defauls target which is context.user_id, context.project_id.
These defaults target are not useful as it pass the
context's user_id and project_id only which means we tell
oslo policy to verify the context data with context data.

This commit pass the actual target for networks policies
which is context.project_id itself as nova cannot verify the owner of
volumes. Neutron will return the authorise error is requester is not
owner of volumes.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I4108f4b98c57174ca4e71dcf53cd0617093d3f88
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/742779/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/volumes.py'],1,e12c2e1618448fff1ced27dd589e595370810ac7,bp/policy-defaults-refresh-deprecated-apis," context.can(vol_policies.POLICY_NAME % 'show', target={'project_id': context.project_id}) context.can(vol_policies.POLICY_NAME % 'delete', target={'project_id': context.project_id}) context.can(vol_policies.POLICY_NAME % 'list', target={'project_id': context.project_id}) context.can(vol_policies.POLICY_NAME % 'detail', target={'project_id': context.project_id}) context.can(vol_policies.POLICY_NAME % 'create', target={'project_id': context.project_id}) context.can(vol_policies.POLICY_NAME % 'snapshots:show', target={'project_id': context.project_id}) context.can(vol_policies.POLICY_NAME % 'snapshots:delete', target={'project_id': context.project_id}) context.can(vol_policies.POLICY_NAME % 'snapshots:list', target={'project_id': context.project_id}) context.can(vol_policies.POLICY_NAME % 'snapshots:detail', target={'project_id': context.project_id}) context.can(vol_policies.POLICY_NAME % 'snapshots:create', target={'project_id': context.project_id})", context.can(vol_policies.POLICY_NAME % 'show') context.can(vol_policies.POLICY_NAME % 'delete') context.can(vol_policies.POLICY_NAME % 'list') context.can(vol_policies.POLICY_NAME % 'detail') context.can(vol_policies.POLICY_NAME % 'create') context.can(vol_policies.POLICY_NAME % 'snapshots:show') context.can(vol_policies.POLICY_NAME % 'snapshots:delete') context.can(vol_policies.POLICY_NAME % 'snapshots:list') context.can(vol_policies.POLICY_NAME % 'snapshots:detail') context.can(vol_policies.POLICY_NAME % 'snapshots:create'),20,10
openstack%2Fsearchlight-ui~master~I0e0c8e9cf604a75ba3cec8c4d14dad479974f44c,openstack/searchlight-ui,master,I0e0c8e9cf604a75ba3cec8c4d14dad479974f44c,migrate testing to ubuntu focal,MERGED,2020-08-04 01:55:01.000000000,2020-08-08 13:39:57.000000000,2020-08-08 13:38:39.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}, {'_account_id': 29313}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-08-04 01:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight-ui/commit/b36692fae94a6e3b47287b9ae1fb4a2daf27d08f', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40217\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I0e0c8e9cf604a75ba3cec8c4d14dad479974f44c\n'}, {'number': 2, 'created': '2020-08-04 10:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight-ui/commit/9410640bf83ab39fa9030e39ea874e9e2eb34b61', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40217\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I0e0c8e9cf604a75ba3cec8c4d14dad479974f44c\n'}, {'number': 3, 'created': '2020-08-04 12:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight-ui/commit/7849d090bede8f8ecc972b7f1f0e30390c108c73', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40217\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I0e0c8e9cf604a75ba3cec8c4d14dad479974f44c\n'}, {'number': 4, 'created': '2020-08-04 13:10:06.000000000', 'files': ['searchlight_ui/tests/api_tests/test_searchlight_rest.py', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/searchlight-ui/commit/7aa5bbf556c1e25eb3e252b04a6865a3f9afd45d', 'message': 'migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886296\nBump the pyflakes to 2.1.1 as min version to run pep8 jobs\non py3.8 which is default python vesion in ubuntu focal.\n\nStory: #2007865\nTask: #40217\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\nChange-Id: I0e0c8e9cf604a75ba3cec8c4d14dad479974f44c\n'}]",0,744585,7aa5bbf556c1e25eb3e252b04a6865a3f9afd45d,16,4,4,8556,,,0,"migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886296
Bump the pyflakes to 2.1.1 as min version to run pep8 jobs
on py3.8 which is default python vesion in ubuntu focal.

Story: #2007865
Task: #40217

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html
Change-Id: I0e0c8e9cf604a75ba3cec8c4d14dad479974f44c
",git fetch https://review.opendev.org/openstack/searchlight-ui refs/changes/85/744585/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b36692fae94a6e3b47287b9ae1fb4a2daf27d08f,migrate-to-focal,#test focal,,1,0
openstack%2Fpython-searchlightclient~master~I596615a6f714d329fbba28007dfc103f58ceb0b1,openstack/python-searchlightclient,master,I596615a6f714d329fbba28007dfc103f58ceb0b1,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-04 01:55:08.000000000,2020-08-08 13:38:30.000000000,2020-08-08 13:37:24.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2020-08-04 01:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-searchlightclient/commit/e5868e78104f57d5a52003cbecd2e593842d88d6', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40217\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I596615a6f714d329fbba28007dfc103f58ceb0b1\n'}, {'number': 2, 'created': '2020-08-04 22:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-searchlightclient/commit/03070f2fba24ff44791974b63d90d889295d8168', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nStory: #2007865\nTask: #40217\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I596615a6f714d329fbba28007dfc103f58ceb0b1\n'}, {'number': 3, 'created': '2020-08-04 23:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-searchlightclient/commit/17b6ed2208f2c8bc2f9a13d3556bf91a56042078', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nStory: #2007865\nTask: #40217\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I596615a6f714d329fbba28007dfc103f58ceb0b1\n'}, {'number': 4, 'created': '2020-08-05 01:42:00.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-searchlightclient/commit/9b7c80cfc48924f71aefd0527363d54e13fd113e', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nStory: #2007865\nTask: #40217\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>\n\nChange-Id: I596615a6f714d329fbba28007dfc103f58ceb0b1\n'}]",0,744587,9b7c80cfc48924f71aefd0527363d54e13fd113e,14,3,4,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8 support
in their later version.

Story: #2007865
Task: #40217

Closes-Bug: #1886298

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>

Change-Id: I596615a6f714d329fbba28007dfc103f58ceb0b1
",git fetch https://review.opendev.org/openstack/python-searchlightclient refs/changes/87/744587/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e5868e78104f57d5a52003cbecd2e593842d88d6,migrate-to-focal,#test focal,,1,0
openstack%2Ffreezer-web-ui~stable%2Fussuri~I5ebeed63e50be1fc1afcfa97ce20355e9d53daed,openstack/freezer-web-ui,stable/ussuri,I5ebeed63e50be1fc1afcfa97ce20355e9d53daed,Imported Translations from Zanata,MERGED,2020-05-26 06:37:08.000000000,2020-08-08 13:38:08.000000000,2020-08-08 13:38:08.000000000,"[{'_account_id': 1736}, {'_account_id': 5202}, {'_account_id': 11151}, {'_account_id': 13940}, {'_account_id': 14340}, {'_account_id': 14509}, {'_account_id': 21069}, {'_account_id': 22348}, {'_account_id': 22405}, {'_account_id': 22484}, {'_account_id': 27068}]","[{'number': 1, 'created': '2020-05-26 06:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/ac1623c67da28d082808876ac364ffcaae2cb833', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I5ebeed63e50be1fc1afcfa97ce20355e9d53daed\n'}, {'number': 2, 'created': '2020-06-09 07:08:41.000000000', 'files': ['disaster_recovery/locale/id/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/0019c6e5552b61a896b7d0ad34cd1bda527d8bc5', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I5ebeed63e50be1fc1afcfa97ce20355e9d53daed\n'}]",0,730708,0019c6e5552b61a896b7d0ad34cd1bda527d8bc5,11,11,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I5ebeed63e50be1fc1afcfa97ce20355e9d53daed
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/08/730708/1 && git format-patch -1 --stdout FETCH_HEAD,['disaster_recovery/locale/id/LC_MESSAGES/django.po'],1,ac1623c67da28d082808876ac364ffcaae2cb833,zanata/translations,"# OpenStack Infra <zanata@openstack.org>, 2015. #zanata # Andreas Jaeger <jaegerandi@gmail.com>, 2016. #zanata # suhartono <cloudsuhartono@gmail.com>, 2020. #zanata msgid """" msgstr """" ""Project-Id-Version: freezer-web-ui VERSION\n"" ""Report-Msgid-Bugs-To: https://bugs.launchpad.net/openstack-i18n/\n"" ""POT-Creation-Date: 2020-04-07 01:53+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2020-05-25 07:55+0000\n"" ""Last-Translator: suhartono <cloudsuhartono@gmail.com>\n"" ""Language-Team: Indonesian\n"" ""Language: id\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=1; plural=0\n"" msgid ""A group of jobs which share the same scheduling time."" msgstr ""Sekelompok jobs yang memiliki waktu penjadwalan yang sama."" msgid ""Action"" msgstr ""Action"" msgid ""Action Configuration"" msgstr ""Action Configuration (Konfigurasi Tindakan)"" msgid ""Action Name"" msgstr ""Action Name"" msgid ""Action Name *"" msgstr ""Action Name *"" msgid ""Action Type"" msgstr ""Action Type"" msgid ""Action queued correctly. It will appear soon"" msgstr ""Tindakan diantrIkan dengan benar. Akan segera muncul"" msgid ""Actions"" msgstr ""Aksi"" msgid ""Actions Configuration"" msgstr ""Actions Configuration"" msgid ""Actions saved correctly."" msgstr ""Actions disimpan dengan benar."" msgid ""Actions updated correctly."" msgstr ""Tindakan diperbarui dengan benar."" msgid ""Admin"" msgstr ""Admin"" msgid ""Advanced"" msgstr ""Advanced (Maju)"" msgid ""Advanced configuration"" msgstr ""Konfigurasi lanjutan"" msgid ""All Clients"" msgstr ""All Clients (Semua Klien)"" msgid ""Allow to access swift servers without checking SSL certs."" msgstr ""Izinkan mengakses server swift tanpa memeriksa sertifikat SSL."" msgid ""Always Level"" msgstr ""Always Level"" msgid """" ""An action is the simplest execution within a job, it could be a backup or a "" ""restore and it contains rules that the action must follow (max retries, "" ""interval between executions, etc)."" msgstr """" ""Suatu tindakan adalah eksekusi paling sederhana dalam suatu pekerjaan, bisa "" ""berupa cadangan atau pemulihan dan berisi aturan yang harus diikuti oleh "" ""tindakan (maks retries, interval antara eksekusi, dll)."" msgid ""Attach"" msgstr ""Attach (Melampirkan)"" msgid ""Attach To Session"" msgstr ""Attach To Session"" msgid ""Backup"" msgstr ""Backup"" msgid ""Backup History"" msgstr ""Backup History"" msgid ""Backup Name"" msgstr ""Backup Name (Nama Cadangan)"" msgid ""Backup and Restore"" msgstr ""Backup dan Restore"" msgid ""Backups"" msgstr ""Backups (Cadangan)"" msgid """" ""Checks in the specified container for object older than the specified days."" ""If i.e. 30 is specified, it will remove the remote object older than 30 "" ""days. Default False (Disabled) The option --remove-older-then is deprecated "" ""and will be removed soon"" msgstr """" ""Cek dalam kontainer yang ditentukan untuk objek yang lebih tua dari hari "" ""yang ditentukan. Jika misal 30 ditentukan, itu akan menghapus objek jarak "" ""jauh yang lebih tua dari 30 hari. Default False (Disabled) Opsi --remove-"" ""older-then sudah usang dan akan segera dihapus"" msgid """" ""Checks the specified container and removes objects older than the provided "" ""datetime in the format YYYY-MM-DDThh:mm:ss i.e. 1974-03-25T23:23:23. Make "" ""sure the 'T' is between date and time "" msgstr """" ""Memeriksa kontainer yang ditentukan dan menghapus objek yang lebih tua dari "" ""datetime yang disediakan dalam format YYYY-MM-DDThh:mm:ss misal "" ""1974-03-25T23:23:23. Pastikan 'T' berada di antara tanggal dan waktu"" msgid ""Choose what you want to backup"" msgstr ""Pilih apa yang ingin Anda backup"" msgid ""Cinder"" msgstr ""Cinder"" msgid ""Cinder Volume ID *"" msgstr ""Cinder Volume ID *"" msgid ""Client"" msgstr ""Client"" msgid ""Client ID"" msgstr ""Client ID"" msgid ""Client is required"" msgstr ""Klien diperlukan"" msgid ""Clients"" msgstr ""Klien"" msgid ""Clone Job"" msgstr ""Clone Job"" msgid ""Clone and edit a job file"" msgstr ""Mengkloning dan mengedit file job"" msgid ""Compression Level"" msgstr ""Tingkat Kompresi"" msgid ""Container Name or Path"" msgstr ""Container Name atau Path"" msgid ""Continuous"" msgstr ""Continuous (Kontinu)"" msgid ""Create Action"" msgstr ""Create Action"" msgid ""Create Job"" msgstr ""Buat Job"" msgid ""Create Session"" msgstr ""Create Session (Buat Sesi)"" msgid ""Created At"" msgstr ""Created At (Dibuat di)"" msgid ""Days"" msgstr ""Days"" msgid ""Define a name for this session"" msgstr ""Tetapkan nama untuk sesi ini"" msgid ""Define extra information for the action executed by the client."" msgstr ""Tetapkan informasi tambahan untuk tindakan yang dilakukan oleh klien."" msgid """" ""Define the following action rules: <ul> <li>Number of retries</li> "" ""<li>Retries interval</li> <li>Action is mandatory</li> </ul>"" msgstr """" ""Tetapkan aturan tindakan berikut: <ul> <li>Number of retries</li> "" ""<li>Retries interval</li> <li>Action is mandatory</li> </ul>"" msgid ""Delete Action"" msgid_plural ""Delete Actions"" msgstr[0] ""Delete Action"" msgid ""Delete Backup"" msgid_plural ""Delete Backups"" msgstr[0] ""Delete Backup"" msgid ""Delete Client"" msgid_plural ""Delete Clients"" msgstr[0] ""Delete Client"" msgid ""Delete Clients is not recoverable."" msgstr ""Hapus Klien tidak dapat dipulihkan."" msgid ""Delete Job"" msgid_plural ""Delete Jobs"" msgstr[0] ""Delete Job"" msgid ""Delete Job File"" msgid_plural ""Delete Job Files"" msgstr[0] ""Delete Job File"" msgid ""Delete Session"" msgid_plural ""Delete Sessions"" msgstr[0] ""Delete Session"" msgid ""Delete actions is not recoverable."" msgstr ""Tindakan menghapus tidak dapat dipulihkan."" msgid ""Delete backups is not recoverable."" msgstr ""Hapus cadangan tidak dapat dipulihkan."" msgid ""Delete jobs is not recoverable."" msgstr ""Hapus pekerjaan tidak dapat dipulihkan."" msgid ""Delete sessions is not recoverable."" msgstr ""Sesi penghapusan tidak dapat dipulihkan."" msgid ""Deleted Action"" msgid_plural ""Deleted Actions"" msgstr[0] ""Deleted Action"" msgid ""Deleted Backup"" msgid_plural ""Deleted Backups"" msgstr[0] ""Deleted Backup"" msgid ""Deleted Client"" msgid_plural ""Deleted Clients"" msgstr[0] ""Deleted Client"" msgid ""Deleted Job"" msgid_plural ""Deleted Jobs"" msgstr[0] ""Deleted Job"" msgid ""Deleted Job File"" msgid_plural ""Deleted Job Files"" msgstr[0] ""Deleted Job File"" msgid ""Deleted Session"" msgid_plural ""Deleted Sessions"" msgstr[0] ""Deleted Session"" msgid ""Deleted action File"" msgid_plural ""Deleted action Files"" msgstr[0] ""Deleted action File"" msgid ""Describes actions to be executed by a client."" msgstr ""Menjelaskan tindakan yang akan dieksekusi oleh klien."" msgid ""Destination"" msgstr ""Tujuan"" msgid ""Destination File"" msgstr ""Destination File"" msgid ""Destination Path"" msgstr ""Destination Path (Jalur Tujuan)"" msgid """" ""Disable incremental feature. By default freezer build the meta data even for "" ""level 0 backup. By setting this option incremental meta data is not created "" ""at all. Default disabled"" msgstr """" ""Nonaktifkan fitur tambahan. Secara default, freezer membuat data meta bahkan "" ""untuk cadangan level 0. Dengan mengatur opsi ini, meta data tambahan tidak "" ""dibuat sama sekali. Bawaan dinonaktifkan"" msgid ""Disaster Recovery"" msgstr ""Disaster Recovery"" msgid ""Do everything except writing or removing objects"" msgstr ""Lakukan segalanya kecuali menulis atau menghapus objek"" msgid ""Download Limit"" msgstr ""Download Limit (Batas Unduhan)"" msgid """" ""Download bandwidth limit in Bytes per sec. Can be invoked with dimensions "" ""(10K, 120M, 10G)."" msgstr """" ""Unduh batas bandwidth dalam Bytes per detik. Itu dapat dipanggil dengan "" ""dimensi (10K, 120M, 10G)."" msgid ""Dry Run"" msgstr ""Dry Run"" msgid ""Edit"" msgstr ""Ubah"" msgid ""Edit Actions"" msgstr ""Edit Actions"" msgid ""Edit Job"" msgstr ""Edit Job"" msgid ""Edit Session"" msgstr ""Edit Session"" msgid ""Encryption Key"" msgstr ""Encryption Key"" msgid ""End Date and Time"" msgstr ""End Date and Time (Tanggal dan Waktu Berakhir)"" msgid ""End date time is not in ISO format."" msgstr ""Waktu tanggal akhir tidak dalam format ISO."" msgid ""Enforce proxy that alters system HTTP_PROXY and HTTPS_PROXY"" msgstr ""Terapkan proxy yang mengubah sistem HTTP_PROXY dan HTTPS_PROXY"" msgid """" ""Engine to be used for backup/restore. With tar, the file inode will be "" ""checked for changes amid backup execution. If the file inode changed, the "" ""whole file will be backed up. With rsync, the data blocks changes will be "" ""verified and only the changed blocks will be backed up. Tar is faster, but "" ""is uses more space and bandwidth. Rsync is slower, but uses less space and "" ""bandwidth. Nova engine can be used to backup/restore running instances. "" ""Backing up instances and it's metadata."" msgstr """" ""Mesin yang akan digunakan untuk backup/restore. Dengan tar, inode file akan "" ""diperiksa untuk perubahan di tengah eksekusi backup. Jika inode file "" ""berubah, seluruh file akan backed up. Dengan rsync, perubahan blok data akan "" ""diverifikasi dan hanya blok yang diubah yang akan backed up. Tar lebih "" ""cepat, tetapi menggunakan lebih banyak ruang dan bandwidth. Rsync lebih "" ""lambat, tetapi menggunakan lebih sedikit ruang dan bandwidth. Mesin Nova "" ""dapat digunakan untuk membuat backup/restore instance yang berjalan. Backing "" ""up instance dan metadatanya."" msgid ""Error getting session list"" msgstr ""Kesalahan mendapatkan daftar sesi"" msgid ""Exclude Files"" msgstr ""Exclude Files"" msgid """" ""Exclude files, given as a PATTERN.Ex: '*.log, *.pyc' will exclude any file "" ""with name ending with .log. Default no exclude"" msgstr """" ""Kecualikan file, diberikan sebagai PATTERN.Ex: '*.log, *.pyc' akan "" ""mengecualikan file apa pun dengan nama yang diakhiri dengan .log. Bawaan "" ""tidak dikecualikan"" msgid ""File system"" msgstr ""File system"" msgid ""Follow Symlinks"" msgstr ""Follow Symlinks"" msgid """" ""Follow hard and soft links and archive and dump the files they refer to. "" ""Default False"" msgstr """" ""Ikuti tautan keras dan lunak serta arsipkan dan buang file yang dirujuk. "" ""Default False"" msgid """" ""For Linux, in order to use snapshot features, the data has to reside on an "" ""LVM volume."" msgstr """" ""Untuk Linux, agar dapat menggunakan fitur snapshot, data harus berada pada "" ""volume LVM."" msgid """" ""From here you can add and remove clients to this job from the list of "" ""available clients"" msgstr """" ""Dari sini Anda dapat menambah dan menghapus klien ke job ini dari daftar "" ""klien yang tersedia"" msgid ""Get A Single Object"" msgstr ""Get A Single Object"" msgid ""Host"" msgstr ""Host"" msgid ""Hostname"" msgstr ""Hostname"" msgid ""Hours"" msgstr ""Hours"" msgid ""IP address or dns name of host to connect through ssh"" msgstr ""Alamat IP atau nama host dns untuk terhubung melalui ssh"" msgid ""Id of cinder volume for backup"" msgstr ""Id volume cinder untuk backup"" msgid ""Id of nova instance for backup"" msgstr ""Id of nova instance untuk backup"" msgid ""Id of nova network for recover"" msgstr ""Id of nova-network untuk recover"" msgid ""In case of error, set the amount of retries for this job"" msgstr """" ""Jika terjadi kesalahan, atur jumlah percobaan ulang untuk pekerjaan ini"" msgid ""Info"" msgstr ""Info"" msgid ""Interval Unit"" msgstr ""Interval Unit"" msgid ""Interval Value"" msgstr ""Interval Value (nilai interval)"" msgid ""Job"" msgstr ""Job"" msgid ""Job Configuration"" msgstr ""Konfigurasi Job"" msgid ""Job ID"" msgstr ""Job ID"" msgid ""Job Info"" msgstr ""Job Info"" msgid ""Job Name"" msgstr ""Job Name (Nama Pekerjaan)"" msgid ""Job attached successfully."" msgstr ""Pekerjaan terlampir dengan sukses."" msgid """" ""Job executions can be executed and scheduled, by providing the following "" ""settings."" msgstr """" ""Eksekusi Job dapat dieksekusi dan dijadwalkan, dengan memberikan pengaturan "" ""berikut."" msgid ""Job has started"" msgstr ""Job sudah dimulai"" msgid ""Job has stopped"" msgstr ""Job telah berhenti"" msgid ""Job queued correctly. It will appear soon"" msgstr ""Pekerjaan diantrikan dengan benar. Akan segera muncul"" msgid ""Job updated correctly."" msgstr ""Pekerjaan diperbarui dengan benar."" msgid ""Jobs"" msgstr ""Jobs"" msgid ""Local Path"" msgstr ""Local Path"" msgid ""Log File Path"" msgstr ""Log File Path"" msgid ""Lossless Data Compression (XZ)"" msgstr ""Lossless Data Compression (XZ)"" msgid ""Mandatory"" msgstr ""Mandatory (Wajib)"" msgid ""Max Level"" msgstr ""Max Level"" msgid ""Max Priority"" msgstr ""Max Priority"" msgid ""Max Retries"" msgstr ""Max Retries"" msgid ""Max Retries Interval"" msgstr ""Max Retries Interval"" msgid ""Maximum Segment Size"" msgstr ""Ukuran Segmen Maksimum"" msgid ""Microsoft SQL Server"" msgstr ""Microsoft SQL Server"" msgid ""Minimum Compression (GZip/Zip/Zlib)"" msgstr ""Kompresi Minimum (GZip/Zip/Zlib)"" msgid ""Mode"" msgstr ""Mode"" msgid ""MongoDB"" msgstr ""MongoDB"" msgid ""More Effective Compression (Bzip2)"" msgstr ""Kompresi Lebih Efektif (Bzip2)"" msgid ""MySQL"" msgstr ""MySQL"" msgid ""MySQL Configuration File *"" msgstr ""MySQL Configuration File *"" msgid ""Name"" msgstr ""Nama"" msgid ""No Incremental"" msgstr ""No Incremental (Tidak ada tambahan)"" msgid ""No clients found."" msgstr ""Tidak ada klien yang ditemukan."" msgid ""No clients selected."" msgstr ""Tidak ada klien yang dipilih."" msgid ""Nova"" msgstr ""Nova"" msgid ""Nova Instance ID *"" msgstr ""Nova Instance ID *"" msgid ""Nova network ID *"" msgstr ""Nova network ID *"" msgid ""OpenStack Authentication Version"" msgstr ""OpenStack Authentication Version"" msgid ""Path To Backup or Restore"" msgstr ""Path To Backup atau Restore"" msgid ""Path for ssh private key"" msgstr ""Path untuk ssh private key"" msgid ""Please choose a interval unit"" msgstr ""Silakan pilih unit interval"" msgid ""Please provide this value."" msgstr ""Tolong berikan nilai ini."" msgid ""Proxy URL"" msgstr ""Proxy URL"" msgid ""Quiet"" msgstr ""Quiet (Diam)"" msgid ""Remove From Date"" msgstr ""Remove From Date"" msgid ""Remove Older Than"" msgstr ""Remove Older Than"" msgid ""Restart Always Level"" msgstr ""Restart Always Level"" msgid """" ""Restart the backup from level 0 after n days. Valid only if --always-level "" ""option if set. If --always-level is used together with --remove-older-then, "" ""there might be the chance where the initial level 0 will be removed Default "" ""False (Disabled)"" msgstr """" ""Restart backup dari level 0 setelah n hari. Valid jika hanya opsi --always-"" ""level disetel. Jika --always-level digunakan bersama dengan --remove-older-"" ""then, mungkin ada kemungkinan di mana level awal 0 akan dihapus Default "" ""False (Disabled)"" msgid ""Restore"" msgstr ""Restore"" msgid ""Restore Absolute Path *"" msgstr ""Restore Absolute Path *"" msgid ""Restore From Date"" msgstr ""Restore From Date"" msgid ""Restore From Host"" msgstr ""Restore From Host"" msgid ""Restore job successfully queued. It will get executed soon."" msgstr ""Pulihkan pekerjaan yang berhasil antri. Ini akan segera dieksekusi."" msgid ""Result"" msgstr ""Hasil"" msgid ""Rules"" msgstr ""Rules"" msgid ""SQL Server Configuration File *"" msgstr ""SQL Server Configuration File *"" msgid ""SSH"" msgstr ""SSH"" msgid ""SSH Host *"" msgstr ""SSH Host *"" msgid ""SSH Private Key *"" msgstr ""SSH Private Key *"" msgid ""SSH Username *"" msgstr ""SSH Username *"" msgid ""Save"" msgstr ""Simpan"" msgid ""Seconds"" msgstr ""Seconds"" msgid ""Select A Session"" msgstr ""Select A Session"" msgid ""Selected Clients"" msgstr ""Selected Clients (Klien yang Dipilih)"" msgid ""Session"" msgstr ""Session"" msgid ""Session Configuration"" msgstr ""Session Configuration"" msgid ""Session Information"" msgstr ""Session Information (Informasi Sesi)"" msgid ""Session Name"" msgstr ""Session Name (Nama Sesi)"" msgid ""Session queued correctly. It will appear soon"" msgstr ""Sesi antri dengan benar. Akan segera muncul"" msgid ""Sessions"" msgstr ""Sessions"" msgid ""Set a name for this job"" msgstr ""Tetapkan nama untuk job ini"" msgid ""Set a session to attach this job"" msgstr ""Atur sesi untuk melampirkan job ini"" msgid """" ""Set backup maximum level used with tar to implement incremental backup. If a "" ""level 3 is specified, the backup will be executed from level 0 to level 3 "" ""and to that point always a backup level 3 will be executed. It will not "" ""restart from level 0. This option has precedence over --max-backup-level. "" ""Default False (Disabled)"" msgstr """" ""Setel level maksimum backup yang digunakan dengan tar untuk "" ""mengimplementasikan backup inkremental. Jika level 3 ditentukan, cadangan "" ""akan dieksekusi dari level 0 ke level 3, dan ke titik itu selalu level "" ""cadangan 3 akan dieksekusi. Ini tidak akan restart dari level 0. Opsi ini "" ""lebih diutamakan daripada --max-backup-level. Default False (Disabled)"" msgid """" ""Set hostname to execute actions. If you are executing freezer from one host "" ""but you want to delete objects belonging to another host then you can set "" ""this option that hostname and execute appropriate actions. Default current "" ""node hostname."" msgstr """" ""Tetapkan nama host untuk menjalankan tindakan. Jika Anda menjalankan freezer "" ""dari satu host tetapi Anda ingin menghapus objek milik host lain maka Anda "" ""dapat mengatur opsi ini menjadi hostname dan melakukan tindakan yang sesuai. "" ""Hostname node aktif saat ini."" msgid """" ""Set log file. By default logs to /var/log/freezer.log If that file is not "" ""writable, freezer tries to log to ~/.freezer/freezer.log"" msgstr """" ""Atur file log. Secara default log ke /var/log/freezer.log Jika file itu "" ""tidak bisa ditulisi, freezer mencoba masuk ke ~/.freezer/freezer.log"" msgid ""Set storage backend for a backup"" msgstr ""Setel backend penyimpanan untuk backup"" msgid ""Set the absolute path where you want your data restored."" msgstr """" ""Tetapkan path absolut tempat Anda ingin data Anda dipulihkan (restored)"" msgid """" ""Set the absolute path where you want your data restored.Please provide "" ""datetime in format 'YYYY-MM-DDThh:mm:ss' i.e. '1979-10-03T23:23:23'. Make "" ""sure the 'T' is between date and time"" msgstr """" ""Tetapkan jalur absolut di mana Anda ingin data Anda dipulihkan. Mohon "" ""berikan datetime dalam format 'YYYY-MM-DDThh:mm:ss' i.e. "" ""'1979-10-03T23:23:23'. Pastikan 'T' berada di antara tanggal dan waktu"" msgid ""Set the action to be taken"" msgstr ""Tetapkan tindakan yang akan diambil"" msgid """" ""Set the backup level used with tar to implement incremental backup. If a "" ""level 1 is specified but no level 0 is already available, a level 0 will be "" ""done and subsequently backs to level 1. Default 0 (No Incremental)"" msgstr """" ""Setel level backup yang digunakan dengan tar untuk mengimplementasikan "" ""backup inkremental. Jika level 1 ditentukan tetapi tidak ada level 0 yang "" ""tersedia, level 0 akan dilakukan dan kemudian kembali ke level 1. Default 0 "" ""(No Incremental)"" msgid """" ""Set the cpu process to the highest priority (i.e. -20 on Linux) and real-"" ""time for I/O. The process priority will be set only if nice and ionice are "" ""installed Default disabled. Use with caution."" msgstr """" ""Atur proses CPU ke prioritas tertinggi (mis. -20 di Linux) dan real-time "" ""untuk I/O. Prioritas proses akan ditetapkan hanya jika nice dan ionice "" ""diinstal. Default dinonaktifkan. Gunakan dengan hati-hati."" msgid """" ""Set the hostname used to identify the data you want to restore from. If you "" ""want to restore data in the same host where the backup was executed just "" ""type from your shell: '$ hostname' and the output is the value that needs to "" ""be passed to this option. Mandatory with Restore"" msgstr """" ""Tetapkan hostname yang digunakan untuk mengidentifikasi data yang ingin Anda "" ""pulihkan. Jika Anda ingin mengembalikan data di host yang sama dengan tempat "" ""backup dilakukan, ketikkan saja dari shell Anda: '$ hostname' dan hasilnya "" ""adalah nilai yang harus diberikan ke opsi ini. Mandatory dengan Restore"" msgid ""Set the interval between executions for retries in seconds"" msgstr """" ""Tetapkan interval antara eksekusi untuk mencoba lagi dalam hitungan detik"" msgid """" ""Set the interval in the following format:\n"" "" continuous,\n"" "" N weeks,\n"" "" N days,\n"" "" N hours,\n"" "" N minutes,\n"" "" N seconds,\n"" "" If no start date is provided the job\n"" "" will start immediately"" msgstr """" ""Atur interval dalam format berikut:\n"" "" kontinu,\n"" "" N minggu,\n"" "" N hari,\n"" "" N jam,\n"" "" N menit,\n"" "" N detik,\n"" "" Jika tidak ada tanggal mulai disediakan job\n"" "" akan segera dimulai"" msgid ""Set the interval value"" msgstr ""Tetapkan nilai interval"" msgid """" ""Set the maximum file chunk size in bytes to upload to swift. Default "" ""67108864 bytes (64MB)"" msgstr """" ""Atur ukuran potongan file maksimum dalam byte untuk diunggah ke swift. "" ""Default 67108864 byte (64MB)"" msgid ""Set the path where the MySQL configuration file is on the file system "" msgstr ""Atur jalur tempat file konfigurasi MySQL berada di sistem file"" msgid """" ""Set the path where the SQL Server configuration file is on the file system"" msgstr ""Atur jalur di mana file konfigurasi SQL Server berada di sistem file"" msgid ""Set the path where the encryption keyis on the file system"" msgstr ""Atur path tempat kunci enkripsi berada di sistem file"" msgid ""Set the unit for the Interval"" msgstr ""Atur unit untuk Interval"" msgid ""Set this action as mandatory"" msgstr ""Tetapkan tindakan ini sebagai wajib"" msgid ""Snapshot"" msgstr ""Snapshot"" msgid ""Source File/Directory *"" msgstr ""Source File/Directory *"" msgid ""Start Date and Time"" msgstr ""Start Date and Time (Tanggal dan Waktu Mulai)"" msgid ""Start Job"" msgstr ""Start Job"" msgid ""Start date time is not in ISO format."" msgstr ""Waktu tanggal mulai tidak dalam format ISO."" msgid ""Status"" msgstr ""Status"" msgid ""Stop Job"" msgstr ""Stop Job"" msgid ""Storage"" msgstr ""Storage"" msgid ""Suppress error messages"" msgstr ""Menekan pesan kesalahan"" msgid ""Swift"" msgstr ""Swift"" msgid ""Swift auth version, could be 1, 2 or 3"" msgstr ""Swift auth version, bisa 1, 2 atau 3"" msgid ""Swift container for swift backend or path for ssh or local backend"" msgstr """" ""Kontainer Swift untuk swift backend atau path untuk ssh atau backend lokal"" msgid ""The Object name you want to download on the local file system."" msgstr ""Nama Objek yang ingin Anda unduh di sistem file lokal."" msgid """" ""The file name used to save the object on your local disk and upload file in "" ""swift."" msgstr """" ""Nama file yang digunakan untuk menyimpan objek di disk lokal Anda dan "" ""mengunggah file dengan swift."" msgid ""The file or directory you want to back up."" msgstr ""File atau direktori yang ingin Anda buat back up."" msgid ""The path in which the backup should be restored"" msgstr ""Path di mana cadangan harus dipulihkan"" msgid """" ""The snapshot technologies currently supported are LVM for Linux and Volume "" ""Shadow Copy for Windows."" msgstr """" ""Teknologi snapshot yang saat ini didukung adalah LVM untuk Linux dan Volume "" ""Shadow Copy untuk Windows."" msgid ""Unable to attach to session."" msgstr ""Tidak dapat melampirkan sesi."" msgid ""Unable to create session."" msgstr ""Tidak dapat membuat sesi."" msgid ""Unable to created job."" msgstr ""Tidak dapat menciptakan job."" msgid ""Unable to retrieve client list."" msgstr ""Tidak dapat mengambil daftar klien."" msgid ""Unable to save action file."" msgstr ""Tidak dapat menyimpan file tindakan."" msgid ""Unable to save actions."" msgstr ""Tidak dapat menyimpan tindakan."" msgid ""Unable to update actions."" msgstr ""Tidak dapat memperbarui tindakan."" msgid ""Unable to update job."" msgstr ""Tidak dapat memperbarui pekerjaan."" msgid ""Update Actions"" msgstr ""Update Actions (Perbarui Tindakan)"" msgid ""Update Job"" msgstr ""Update Job (Perbarui Pekerjaan)"" msgid ""Upload Limit"" msgstr ""Upload Limit (Batas Pengunggahan)"" msgid """" ""Upload bandwidth limit in Bytes per sec. Can be invoked with dimensions "" ""(10K, 120M, 10G)."" msgstr """" ""Unggah batas bandwidth dalam Bytes per detik. Itu dapat dipanggil dengan "" ""dimensi (10K, 120M, 10G)."" msgid """" ""Use a LVM or Shadow Copy snapshot to have point in time consistent backups"" msgstr """" ""Gunakan snapshot LVM atau Shadow Copy untuk mendapatkan backups konsisten "" ""waktu"" msgid ""Weeks"" msgstr ""Weeks"" msgid ""You must define a container or path to backup."" msgstr ""Anda harus menentukan kontainer atau path untuk backup."" msgid ""You must define a path to backup."" msgstr ""Anda harus menentukan path untuk backup."" msgid ""You must define a path to restore."" msgstr ""Anda harus menetapkan path untuk restore."" msgid ""You must define an action name."" msgstr ""Anda harus menentukan nama tindakan (action name)."" msgid ""You must define cinder volume id to backup."" msgstr ""Anda harus menentukan id volume cinder untuk dicadangkan (backup)"" msgid ""You must define nova instance id to restore or backup."" msgstr ""Anda harus menentukan id instance-nova untuk restore atau backup."" msgid ""You must define nova network id to restore."" msgstr ""Anda harus menentukan id network-nova untuk dipulihkan (restore)"" msgid ""insecure"" msgstr ""insecure"" msgid ""nova"" msgstr ""nova"" msgid ""osbrick"" msgstr ""osbrick"" msgid ""rsync"" msgstr ""rsync"" msgid ""rsyncv2"" msgstr ""rsyncv2"" msgid ""tar"" msgstr ""tar"" msgid ""v1"" msgstr ""v1"" msgid ""v2"" msgstr ""v2"" msgid ""v3"" msgstr ""v3"" ",,919,0
openstack%2Fcinder~master~I39b818bd560bf57dc7e52583061b6ceb87686f45,openstack/cinder,master,I39b818bd560bf57dc7e52583061b6ceb87686f45,Docs: Improve contributor's release notes,MERGED,2020-08-05 15:11:30.000000000,2020-08-08 12:34:43.000000000,2020-08-07 17:54:53.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-08-05 15:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/00fd9d1cb0da8ef53e49f094d0217fc7af8bd6c2', 'message': ""Docs: Improve contributor's release notes\n\nAdd some specifics on the contributor's release notes page regarding bug\nreferences and driver patches.\n\nChange-Id: I39b818bd560bf57dc7e52583061b6ceb87686f45\n""}, {'number': 2, 'created': '2020-08-06 11:51:19.000000000', 'files': ['doc/source/contributor/releasenotes.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d2182aac3a664bfecf2f64c81058462e27d15625', 'message': ""Docs: Improve contributor's release notes\n\nAdd some specifics on the contributor's release notes page regarding bug\nreferences and driver patches.\n\nChange-Id: I39b818bd560bf57dc7e52583061b6ceb87686f45\n""}]",8,744925,d2182aac3a664bfecf2f64c81058462e27d15625,60,26,2,9535,,,0,"Docs: Improve contributor's release notes

Add some specifics on the contributor's release notes page regarding bug
references and driver patches.

Change-Id: I39b818bd560bf57dc7e52583061b6ceb87686f45
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/744925/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/releasenotes.rst'],1,00fd9d1cb0da8ef53e49f094d0217fc7af8bd6c2,reno-bugs-message,"Bugs ---- For bug fixes, release notes must include the bug number in launchap with a link to it as a RST link like in the following example: .. code-block:: yaml --- fixes: - | `Bug #1889758 <https://bugs.launchpad.net/cinder/+bug/1889758>`_: Fix revert to snapshot not working for non admin users when using the snapshot's name. Drivers ------- For release notes related to a specific driver -be it volume, backup, or zone manager- the release note line must start with ``<driver-name> driver:``. ie: .. code-block:: yaml --- features: - | RBD driver: Add support for volume manage and unmanage operations. When fixing a driver bug we must not only have the driver name prefix but also the bug number and link: .. code-block:: yaml --- fixes: - | Brocade driver `bug #1866860 <https://bugs.launchpad.net/cinder/+bug/1889758>`_: Fix ``AttributeError`` when using ``REST_HTTP`` or ``REST_HTTPS`` as the ``fc_southbound_protocol`` option and an exception is raised by the client. There are times when a bug affects multiple drivers. In such a cases we must list each of the driver as an independent item following above rules: .. code-block:: yaml --- fixes: - | Unity driver `bug #1881108 <https://bugs.launchpad.net/cinder/+bug/1881108>`_: Fix leaving leftover devices on the host when validation of the attached volume fails on some cloning cases and create volume from snapshot. - | Kaminario driver `bug #1881108 <https://bugs.launchpad.net/cinder/+bug/1881108>`_: Fix leaving leftover devices on the host when validation of the attached volume fails on some cloning cases and create volume from snapshot. Creating the note ----------------- ",,64,0
openstack%2Fironic~stable%2Fstein~Iad6cb02ee4f17b7c5987719b3a0603df210c840d,openstack/ironic,stable/stein,Iad6cb02ee4f17b7c5987719b3a0603df210c840d,Clean up nodes in DELETING on conductor restart,MERGED,2020-07-06 12:36:10.000000000,2020-08-08 12:04:23.000000000,2020-08-08 12:02:53.000000000,"[{'_account_id': 7160}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-06 12:36:10.000000000', 'files': ['ironic/tests/unit/conductor/test_base_manager.py', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/deleting-dcdb9cf0d2a6a1a6.yaml', 'ironic/common/states.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/549af3cec21cdf1c8b9103755ca836ce245a2f2b', 'message': 'Clean up nodes in DELETING on conductor restart\n\nChange-Id: Iad6cb02ee4f17b7c5987719b3a0603df210c840d\n(cherry picked from commit 4f6374a209dcf96ecf7d55da4999b045ae4061ef)\n'}]",1,739474,549af3cec21cdf1c8b9103755ca836ce245a2f2b,20,7,1,10239,,,0,"Clean up nodes in DELETING on conductor restart

Change-Id: Iad6cb02ee4f17b7c5987719b3a0603df210c840d
(cherry picked from commit 4f6374a209dcf96ecf7d55da4999b045ae4061ef)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/74/739474/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/conductor/test_base_manager.py', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/deleting-dcdb9cf0d2a6a1a6.yaml', 'ironic/common/states.py']",5,549af3cec21cdf1c8b9103755ca836ce245a2f2b,deleting-stable/stein," ADOPTING, RESCUING, UNRESCUING, DELETING)machine.add_transition(DELETING, ERROR, 'fail')"," ADOPTING, RESCUING, UNRESCUING)machine.add_transition(DELETING, ERROR, 'error')",9,4
openstack%2Fironic~master~I2fcca0c697970264b711f90000087991bd6125ac,openstack/ironic,master,I2fcca0c697970264b711f90000087991bd6125ac,Enforce autospec in xclarity tests,MERGED,2020-08-07 15:48:06.000000000,2020-08-08 09:48:51.000000000,2020-08-08 09:18:34.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-08-07 15:48:06.000000000', 'files': ['ironic/tests/unit/drivers/modules/xclarity/test_management.py', 'ironic/tests/unit/drivers/modules/xclarity/test_power.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c6c79d1437997140541772a444e7161035e92042', 'message': 'Enforce autospec in xclarity tests\n\nAnd remove corresponding filter from tox.ini\n\nChange-Id: I2fcca0c697970264b711f90000087991bd6125ac\n'}]",1,745364,c6c79d1437997140541772a444e7161035e92042,11,5,1,23851,,,0,"Enforce autospec in xclarity tests

And remove corresponding filter from tox.ini

Change-Id: I2fcca0c697970264b711f90000087991bd6125ac
",git fetch https://review.opendev.org/openstack/ironic refs/changes/64/745364/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/xclarity/test_management.py', 'ironic/tests/unit/drivers/modules/xclarity/test_power.py', 'tox.ini']",3,c6c79d1437997140541772a444e7161035e92042,enforce-autospec,, ironic/tests/unit/drivers/modules/xclarity/*:H210,17,15
openstack%2Fcinderlib~master~Ieb4e94850a1705a5d2b36a9a963646f10250e811,openstack/cinderlib,master,Ieb4e94850a1705a5d2b36a9a963646f10250e811,Fix cinderlib-lvm-functional,MERGED,2020-08-04 11:04:26.000000000,2020-08-08 08:01:12.000000000,2020-08-07 18:07:37.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 11:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/e62b4434933e97ef23442ceceebe510c134eed46', 'message': 'Fix cinderlib-lvm-functional\n\nIn change-id I867c972d9f712c0df4260ebc8211b786006ed7a2 the os-brick\nlibrary added a new binary dependency, lsscsi, and now the cinderlib lvm\nfunctional tests are failing because they cannot find the package.\n\nThe reason why the CI didn\'t fail on the patch is because devstack\ninstalls the bindeps of the projects installed from source, but Zuul\ndoesn\'t do the same for the ""required-projects"".\n\nTo solve this issue an prevent future gate breaks this patch uses the\nbindep zuul role to install os-brick missing packages before running any\nof its functional jobs.\n\nChange-Id: Ieb4e94850a1705a5d2b36a9a963646f10250e811\n'}, {'number': 2, 'created': '2020-08-06 12:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/a178652863734ee9aa0b3523a9737f42b7fe3acc', 'message': 'Fix cinderlib-lvm-functional\n\nIn change-id I867c972d9f712c0df4260ebc8211b786006ed7a2 the os-brick\nlibrary added a new binary dependency, lsscsi, and now the cinderlib lvm\nfunctional tests are failing because they cannot find the package.\n\nThe reason why the CI didn\'t fail on the patch is because devstack\ninstalls the bindeps of the projects installed from source, but Zuul\ndoesn\'t do the same for the ""required-projects"".\n\nTo solve this issue an prevent future gate breaks this patch uses the\nbindep zuul role to install os-brick missing packages before running any\nof its functional jobs.\n\nChange-Id: Ieb4e94850a1705a5d2b36a9a963646f10250e811\n'}, {'number': 3, 'created': '2020-08-06 14:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/7bc1ed034e6b52d2c70a1d0f0050b2122009af37', 'message': 'Fix cinderlib-lvm-functional\n\nIn change-id I867c972d9f712c0df4260ebc8211b786006ed7a2 the os-brick\nlibrary added a new binary dependency, lsscsi, and now the cinderlib lvm\nfunctional tests are failing because they cannot find the package.\n\nThe reason why the CI didn\'t fail on the patch is because devstack\ninstalls the bindeps of the projects installed from source, but Zuul\ndoesn\'t do the same for the ""required-projects"".\n\nTo solve this issue an prevent future gate breaks this patch uses the\nbindep zuul role to install os-brick missing packages before running any\nof its functional jobs.\n\nChange-Id: Ieb4e94850a1705a5d2b36a9a963646f10250e811\n'}, {'number': 4, 'created': '2020-08-06 16:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/33386220d2324d5535ee5add31832b3ce8459e70', 'message': 'Fix cinderlib-lvm-functional\n\nIn change-id I867c972d9f712c0df4260ebc8211b786006ed7a2 the os-brick\nlibrary added a new binary dependency, lsscsi, and now the cinderlib lvm\nfunctional tests are failing because they cannot find the package.\n\nThe reason why the CI didn\'t fail on the patch is because devstack\ninstalls the bindeps of the projects installed from source, but Zuul\ndoesn\'t do the same for the ""required-projects"".\n\nTo solve this issue an prevent future gate breaks this patch uses the\nbindep zuul role to install os-brick missing packages before running any\nof its functional jobs.\n\nChange-Id: Ieb4e94850a1705a5d2b36a9a963646f10250e811\n'}, {'number': 5, 'created': '2020-08-07 09:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/b3ba2518d5a741e7b2d0ac2eb668a6c742e441b6', 'message': 'Fix cinderlib-lvm-functional\n\nIn change-id I867c972d9f712c0df4260ebc8211b786006ed7a2 the os-brick\nlibrary added a new binary dependency, lsscsi, and now the cinderlib lvm\nfunctional tests and tempest with lvm are failing because they cannot\nfind the package.\n\nThe reason why the CI didn\'t fail on the patch is because devstack\ninstalls the bindeps of the projects installed from source, but Zuul\ndoesn\'t do the same for the ""required-projects"".\n\nTo solve this issue an prevent future gate breaks this patch uses the\nbindep zuul role to install os-brick missing packages before running any\nof its functional jobs.\n\nFor the tempest lvm job we install os-brick from source, which makes\ndevstack automatically install bindeps from the project.\n\nChange-Id: Ieb4e94850a1705a5d2b36a9a963646f10250e811\n'}, {'number': 6, 'created': '2020-08-07 12:46:30.000000000', 'files': ['playbooks/required-projects-bindeps.yaml', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/6ad3c4a19c18da6c58586dfb2773ea0d38cd2e9a', 'message': 'Fix cinderlib-lvm-functional\n\nIn change-id I867c972d9f712c0df4260ebc8211b786006ed7a2 the os-brick\nlibrary added a new binary dependency, lsscsi, and now the cinderlib lvm\nfunctional tests and tempest with lvm are failing because they cannot\nfind the package.\n\nThe reason why the CI didn\'t fail on the patch is because devstack\ninstalls the bindeps of the projects installed from source, but Zuul\ndoesn\'t do the same for the ""required-projects"".\n\nTo solve this issue an prevent future gate breaks this patch uses the\nbindep zuul role to install os-brick missing packages before running any\nof its functional jobs.\n\nFor the tempest lvm job we install os-brick from source, which makes\ndevstack automatically install bindeps from the project.\n\nChange-Id: Ieb4e94850a1705a5d2b36a9a963646f10250e811\n'}]",6,744680,6ad3c4a19c18da6c58586dfb2773ea0d38cd2e9a,36,8,6,9535,,,0,"Fix cinderlib-lvm-functional

In change-id I867c972d9f712c0df4260ebc8211b786006ed7a2 the os-brick
library added a new binary dependency, lsscsi, and now the cinderlib lvm
functional tests and tempest with lvm are failing because they cannot
find the package.

The reason why the CI didn't fail on the patch is because devstack
installs the bindeps of the projects installed from source, but Zuul
doesn't do the same for the ""required-projects"".

To solve this issue an prevent future gate breaks this patch uses the
bindep zuul role to install os-brick missing packages before running any
of its functional jobs.

For the tempest lvm job we install os-brick from source, which makes
devstack automatically install bindeps from the project.

Change-Id: Ieb4e94850a1705a5d2b36a9a963646f10250e811
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/80/744680/5 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/required-projects-bindeps.yaml', '.zuul.yaml', 'tox.ini']",3,e62b4434933e97ef23442ceceebe510c134eed46,bindeps,# NOTE: Functional tests may fail if host is missing bindeps from deps projects,,38,10
openstack%2Fcinder~master~Iea46b378c6bdfd9772c1541e01dbd5f3468a9293,openstack/cinder,master,Iea46b378c6bdfd9772c1541e01dbd5f3468a9293,Revert to any snapshot support for allowed driver.,ABANDONED,2020-08-08 03:02:32.000000000,2020-08-08 07:57:39.000000000,,"[{'_account_id': 10118}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}]","[{'number': 1, 'created': '2020-08-08 03:02:32.000000000', 'files': ['cinder/tests/unit/api/v3/test_volumes.py', 'cinder/volume/drivers/rbd.py', 'cinder/volume/manager.py', 'cinder/api/v3/volumes.py', 'cinder/volume/driver.py', 'cinder/volume/drivers/inspur/instorage/instorage_fc.py', 'cinder/volume/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7f33c99abc8243a7c55b3f5c7f303ce751eaca23', 'message': 'Revert to any snapshot support for allowed driver.\n\nAdd support to revert to any snapshot for specified driver.\nWhen revert_to_any_snapshot return false, the operation is\nthe same as before. If false, perform revert to snapshot\neven if a non-latest snapshot_id is entered. For drivers\nsupported revert to any snapshot, they can enable the function\n of restoring to any snapshot by returning true from its own\n revert_to_any_snapshot.\n\n Implements: blueprint suport-revert-any-snapshot\n\nChange-Id: Iea46b378c6bdfd9772c1541e01dbd5f3468a9293\n'}]",4,745435,7f33c99abc8243a7c55b3f5c7f303ce751eaca23,13,10,1,30754,,,0,"Revert to any snapshot support for allowed driver.

Add support to revert to any snapshot for specified driver.
When revert_to_any_snapshot return false, the operation is
the same as before. If false, perform revert to snapshot
even if a non-latest snapshot_id is entered. For drivers
supported revert to any snapshot, they can enable the function
 of restoring to any snapshot by returning true from its own
 revert_to_any_snapshot.

 Implements: blueprint suport-revert-any-snapshot

Change-Id: Iea46b378c6bdfd9772c1541e01dbd5f3468a9293
",git fetch https://review.opendev.org/openstack/cinder refs/changes/35/745435/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/api/v3/test_volumes.py', 'cinder/volume/drivers/rbd.py', 'cinder/volume/manager.py', 'cinder/api/v3/volumes.py', 'cinder/volume/driver.py', 'cinder/volume/drivers/inspur/instorage/instorage_fc.py', 'cinder/volume/rpcapi.py']",7,7f33c99abc8243a7c55b3f5c7f303ce751eaca23,revert-to-any-snapshot-allowed," def revert_to_any_snapshot_allowed(self, ctxt, volume): cctxt = self._get_cctxt(volume.service_topic_queue) return cctxt.call(ctxt, 'revert_to_any_snapshot_allowed') ",,62,9
openstack%2Fopenstack-ansible-tests~stable%2Fstein~I34d5ac3c163a76992ee92e50974ab65af4590cdf,openstack/openstack-ansible-tests,stable/stein,I34d5ac3c163a76992ee92e50974ab65af4590cdf,Add pre-run playbook to clean up CI nodes before OSA tests run,MERGED,2020-06-25 13:16:47.000000000,2020-08-08 07:40:49.000000000,2020-06-25 15:14:54.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-25 13:16:47.000000000', 'files': ['zuul.d/playbooks/pre-gate-cleanup.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/f19f4607cd2eea306bf2e9cde6e246f8ec678194', 'message': 'Add pre-run playbook to clean up CI nodes before OSA tests run\n\nSwitch the apt sources from https to http. Remove blacklists on\nyum and zypper repos.\n\nChange-Id: I34d5ac3c163a76992ee92e50974ab65af4590cdf\n'}]",0,738012,f19f4607cd2eea306bf2e9cde6e246f8ec678194,9,3,1,25023,,,0,"Add pre-run playbook to clean up CI nodes before OSA tests run

Switch the apt sources from https to http. Remove blacklists on
yum and zypper repos.

Change-Id: I34d5ac3c163a76992ee92e50974ab65af4590cdf
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/12/738012/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/playbooks/pre-gate-cleanup.yml', 'zuul.d/jobs.yaml']",2,f19f4607cd2eea306bf2e9cde6e246f8ec678194,, pre-run: zuul.d/playbooks/pre-gate-cleanup.yml,,41,0
openstack%2Ffreezer~master~Iac143982f7f4f295bb36364f609079fa21db302b,openstack/freezer,master,Iac143982f7f4f295bb36364f609079fa21db302b,zuul: use the native jobs from freezer-tempest-plugin,MERGED,2020-08-07 14:39:20.000000000,2020-08-08 07:35:43.000000000,2020-08-08 07:33:30.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 14:39:20.000000000', 'files': ['.zuul.yaml', 'playbooks/legacy/freezer/post.yaml', 'playbooks/legacy/freezer/run.yaml'], 'web_link': 'https://opendev.org/openstack/freezer/commit/663737694ff9129fae222dd6fe0b7253c29490f3', 'message': 'zuul: use the native jobs from freezer-tempest-plugin\n\n... and remove the legacy jobs.\n\nAlso, remove the custom jobs which are simple alias for the jobs\nin freezer-tempest-plugin.\n\nChange-Id: Iac143982f7f4f295bb36364f609079fa21db302b\n'}]",0,745349,663737694ff9129fae222dd6fe0b7253c29490f3,7,2,1,10459,,,0,"zuul: use the native jobs from freezer-tempest-plugin

... and remove the legacy jobs.

Also, remove the custom jobs which are simple alias for the jobs
in freezer-tempest-plugin.

Change-Id: Iac143982f7f4f295bb36364f609079fa21db302b
",git fetch https://review.opendev.org/openstack/freezer refs/changes/49/745349/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/legacy/freezer/post.yaml', 'playbooks/legacy/freezer/run.yaml']",3,663737694ff9129fae222dd6fe0b7253c29490f3,native-zuulv3-migration,,"- hosts: all name: Autoconverted job legacy-osbackup-freezer-dsvm from old job gate-osbackup-freezer-dsvm tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ https://opendev.org \ openstack/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x cat << 'EOF' >>""/tmp/dg-local.conf"" [[local|localrc]] # enable freezer-agent and freezer-scheduler enable_plugin freezer https://opendev.org/openstack/freezer # enable freezer-api and python-freezerclient enable_plugin freezer-api https://opendev.org/openstack/freezer-api # enable freezer-web-ui and python-freezerclient enable_plugin freezer-web-ui https://opendev.org/openstack/freezer-web-ui TEMPEST_PLUGINS='/opt/stack/new/freezer-tempest-plugin' EOF executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PYTHONUNBUFFERED=true # checkout freezer components export PROJECTS=""openstack/freezer-api $PROJECTS"" export PROJECTS=""openstack/freezer-web-ui $PROJECTS"" export PROJECTS=""openstack/freezer $PROJECTS"" export PROJECTS=""openstack/python-freezerclient $PROJECTS"" export PROJECTS=""openstack/freezer-tempest-plugin $PROJECTS"" # tempest config export DEVSTACK_GATE_TEMPEST=1 export DEVSTACK_GATE_TEMPEST_REGEX=""freezer_tempest_plugin.tests.freezer"" # which repo is being tested export DEVSTACK_PROJECT_FROM_GIT=freezer,python-freezerclient export ""OVERRIDE_FREEZER_PROJECT_BRANCH""=$ZUUL_BRANCH cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",11,172
openstack%2Ffreezer-tempest-plugin~master~I6bafe75e602c76037d3859c8c7829773740199c6,openstack/freezer-tempest-plugin,master,I6bafe75e602c76037d3859c8c7829773740199c6,zuul: cleanup the jobs a bit,MERGED,2020-08-07 13:51:30.000000000,2020-08-08 07:29:01.000000000,2020-08-08 07:29:01.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 13:51:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/36d588ab9020a0934de0dfae9a9e9a1810442749', 'message': 'zuul: cleanup the jobs a bit\n\n- use tempest_plugins to define the list of plugins;\n- remove devstack-gate, not needed;\n- do not set PYTHONUNBUFFERED, a leftover from the old jenkins days;\n- make freezer-tempest-basic-sql inherit from freezer-tempest-basic -\n  they are basically the same, apart from an additional definition\n  and the removal of the explicit swift from freezer-tempest-basic-sql,\n  which is inherited from devstack-tempest anyway.\n\nChange-Id: I6bafe75e602c76037d3859c8c7829773740199c6\n'}]",0,745334,36d588ab9020a0934de0dfae9a9e9a1810442749,6,2,1,10459,,,0,"zuul: cleanup the jobs a bit

- use tempest_plugins to define the list of plugins;
- remove devstack-gate, not needed;
- do not set PYTHONUNBUFFERED, a leftover from the old jenkins days;
- make freezer-tempest-basic-sql inherit from freezer-tempest-basic -
  they are basically the same, apart from an additional definition
  and the removal of the explicit swift from freezer-tempest-basic-sql,
  which is inherited from devstack-tempest anyway.

Change-Id: I6bafe75e602c76037d3859c8c7829773740199c6
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/34/745334/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,36d588ab9020a0934de0dfae9a9e9a1810442749,native-zuulv3-migration, tempest_plugins: - freezer-tempest-plugin parent: freezer-tempest-basic vars:, - openstack/devstack-gate devstack_localrc: TEMPEST_PLUGINS: '/opt/stack/freezer-tempest-plugin' tox_environment: PYTHONUNBUFFERED: 'true' parent: devstack-tempest timeout: 7200 required-projects: - openstack/devstack-gate - openstack/python-openstackclient - openstack/python-freezerclient - openstack/freezer - openstack/freezer-api - openstack/freezer-tempest-plugin - openstack/tempest vars: devstack_plugins: freezer-api: https://opendev.org/openstack/freezer-api freezer: https://opendev.org/openstack/freezer devstack_services: tls-proxy: false freezer-api: true tempest: true s-account: false s-container: false s-object: false s-proxy: false TEMPEST_PLUGINS: '/opt/stack/freezer-tempest-plugin' tempest_test_regex: '^(freezer_tempest_plugin.tests.freezer_api)' tox_envlist: all tox_environment: PYTHONUNBUFFERED: 'true' zuul_copy_output: /etc/hosts: logs,3,33
openstack%2Ffreezer-web-ui~master~I3d9cc639f5d5f523a1cdf395acacbfd88920e339,openstack/freezer-web-ui,master,I3d9cc639f5d5f523a1cdf395acacbfd88920e339,zuul: migrate the freezer-web-ui job to native Zuul v3,MERGED,2020-08-07 15:29:15.000000000,2020-08-08 06:45:38.000000000,2020-08-08 06:45:38.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 15:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/273fbe050da110846b18328dc24a7ad2c7318e99', 'message': 'zuul: migrate the freezer-web-ui job to native Zuul v3\n\nThe current job only checks whether the repository can be installed.\nIt specifies a tempest regex, but it is invalid, and anyway\nthe tempest tests do not touch horizon and its plugins, so\nthe job can just inherit from devstack instead of devstack-tempest.\n\nDrop the distribution-specific suffix, ubuntu is the default.\n\nChange-Id: I3d9cc639f5d5f523a1cdf395acacbfd88920e339\n'}, {'number': 2, 'created': '2020-08-07 15:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/6d694bceefbd7731ea396ad9aa4aa49aea983530', 'message': 'zuul: migrate the freezer-web-ui job to native Zuul v3\n\nThe current job only checks whether the repository can be installed.\nIt specifies a tempest regex, but it is invalid, and anyway\nthe tempest tests do not touch horizon and its plugins, so\nthe job can just inherit from devstack instead of devstack-tempest.\n\nDrop the distribution-specific suffix, ubuntu is the default.\n\nChange-Id: I3d9cc639f5d5f523a1cdf395acacbfd88920e339\n'}, {'number': 3, 'created': '2020-08-07 16:18:59.000000000', 'files': ['playbooks/legacy/freezer-web-ui-ubuntu/post.yaml', '.zuul.yaml', 'playbooks/legacy/freezer-web-ui-ubuntu/run.yaml'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/1f5004d5214e46064ba6f3444ff813715e7808ff', 'message': 'zuul: migrate the freezer-web-ui job to native Zuul v3\n\nThe current job only checks whether the repository can be installed.\nIt specifies a tempest regex, but it is invalid, and anyway\nthe tempest tests do not touch horizon and its plugins, so\nthe job can just inherit from devstack instead of devstack-tempest.\n\nDrop the distribution-specific suffix, ubuntu is the default.\n\nChange-Id: I3d9cc639f5d5f523a1cdf395acacbfd88920e339\n'}]",0,745360,1f5004d5214e46064ba6f3444ff813715e7808ff,11,2,3,10459,,,0,"zuul: migrate the freezer-web-ui job to native Zuul v3

The current job only checks whether the repository can be installed.
It specifies a tempest regex, but it is invalid, and anyway
the tempest tests do not touch horizon and its plugins, so
the job can just inherit from devstack instead of devstack-tempest.

Drop the distribution-specific suffix, ubuntu is the default.

Change-Id: I3d9cc639f5d5f523a1cdf395acacbfd88920e339
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/60/745360/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/freezer-web-ui-ubuntu/post.yaml', '.zuul.yaml', 'playbooks/legacy/freezer-web-ui-ubuntu/run.yaml']",3,273fbe050da110846b18328dc24a7ad2c7318e99,native-zuulv3-migration,,"- hosts: all name: Autoconverted job legacy-osbackup-freezer-web-ui-dsvm from old job gate-osbackup-freezer-web-ui-dsvm-ubuntu-xenial tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ https://opendev.org \ openstack/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x cat << 'EOF' >>""/tmp/dg-local.conf"" [[local|localrc]] # enable freezer-agent and freezer-scheduler enable_plugin freezer https://opendev.org/openstack/freezer # enable freezer-api and python-freezerclient enable_plugin freezer-api https://opendev.org/openstack/freezer-api # enable freezer-web-ui and python-freezerclient enable_plugin freezer-web-ui https://opendev.org/openstack/freezer-web-ui EOF executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x # checkout freezer components export PROJECTS=""openstack/freezer-api $PROJECTS"" export PROJECTS=""openstack/freezer-web-ui $PROJECTS"" export PROJECTS=""openstack/freezer $PROJECTS"" export PROJECTS=""openstack/python-freezerclient $PROJECTS"" # tempest config export DEVSTACK_GATE_TEMPEST=0 export DEVSTACK_GATE_TEMPEST_ALL_PLUGINS=0 TEMPEST_REGEX=""freezer_api_tempest_plugin"" export DEVSTACK_GATE_TEMPEST_REGEX=freezer_api_tempest_plugin # which repo is being tested export DEVSTACK_PROJECT_FROM_GIT=freezer-api export ""OVERRIDE_FREEZER_PROJECT_BRANCH""=$ZUUL_BRANCH cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",12,155
openstack%2Fglance~master~I25cd3cde94fefaa5d8ac72f10a075fe34a5df7bf,openstack/glance,master,I25cd3cde94fefaa5d8ac72f10a075fe34a5df7bf,Inspect upload/import stream and set virtual_size,MERGED,2020-07-31 18:02:42.000000000,2020-08-08 05:57:30.000000000,2020-08-08 05:56:02.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-31 18:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/04b8714fb5521ef55dd87e5df32d4ddb02b3f4f3', 'message': 'WIP: Inspect upload stream and set virtual_size on upload\n\nThis is just hacked into place and tested by hand.\n\nChange-Id: I25cd3cde94fefaa5d8ac72f10a075fe34a5df7bf\n'}, {'number': 2, 'created': '2020-08-04 17:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fbadbff38843791e7ef09ea0637994b59b4a22e2', 'message': 'Inspect upload stream and set virtual_size on upload\n\nIf we are processing a disk_format that we know about, wrap the\ndata pipeline with the format inspector and set virtual_size\nafter upload is complete.\n\nRelated to blueprint image-introspect-plugin\n\nChange-Id: I25cd3cde94fefaa5d8ac72f10a075fe34a5df7bf\n'}, {'number': 3, 'created': '2020-08-04 19:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/44e9ff939d5acfa4d0ec7f3cc817b5324ef59947', 'message': 'Inspect upload stream and set virtual_size on upload\n\nIf we are processing a disk_format that we know about, wrap the\ndata pipeline with the format inspector and set virtual_size\nafter upload is complete.\n\nRelated to blueprint image-introspect-plugin\n\nChange-Id: I25cd3cde94fefaa5d8ac72f10a075fe34a5df7bf\n'}, {'number': 4, 'created': '2020-08-05 14:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c66e09596031a2dc139bc7f130d2b10f4c966b7f', 'message': 'Inspect upload stream and set virtual_size on upload\n\nIf we are processing a disk_format that we know about, wrap the\ndata pipeline with the format inspector and set virtual_size\nafter upload is complete.\n\nRelated to blueprint image-introspect-plugin\n\nChange-Id: I25cd3cde94fefaa5d8ac72f10a075fe34a5df7bf\n'}, {'number': 5, 'created': '2020-08-05 14:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d38c54bd3a8a66a1d9a267d198b25f5dfe81c25e', 'message': 'Inspect upload stream and set virtual_size on upload\n\nIf we are processing a disk_format that we know about, wrap the\ndata pipeline with the format inspector and set virtual_size\nafter upload is complete.\n\nRelated to blueprint image-introspect-plugin\n\nChange-Id: I25cd3cde94fefaa5d8ac72f10a075fe34a5df7bf\n'}, {'number': 6, 'created': '2020-08-05 15:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e1b1a6b3e3cb5377802fea1ff6ede25a569245e1', 'message': 'Inspect upload stream and set virtual_size on upload\n\nIf we are processing a disk_format that we know about, wrap the\ndata pipeline with the format inspector and set virtual_size\nafter upload is complete.\n\nRelated to blueprint image-introspect-plugin\n\nChange-Id: I25cd3cde94fefaa5d8ac72f10a075fe34a5df7bf\n'}, {'number': 7, 'created': '2020-08-05 15:42:20.000000000', 'files': ['glance/location.py', 'glance/tests/functional/v2/test_images.py', 'glance/tests/unit/utils.py', 'glance/tests/unit/test_store_image.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/b0197656684e3fa8445b859434fe29ba44499fa1', 'message': 'Inspect upload/import stream and set virtual_size\n\nIf we are processing a disk_format that we know about, wrap the\ndata pipeline with the format inspector and set virtual_size\nafter upload is complete.\n\nRelated to blueprint calculate-virtual-size\n\nChange-Id: I25cd3cde94fefaa5d8ac72f10a075fe34a5df7bf\n'}]",0,744234,b0197656684e3fa8445b859434fe29ba44499fa1,49,5,7,4393,,,0,"Inspect upload/import stream and set virtual_size

If we are processing a disk_format that we know about, wrap the
data pipeline with the format inspector and set virtual_size
after upload is complete.

Related to blueprint calculate-virtual-size

Change-Id: I25cd3cde94fefaa5d8ac72f10a075fe34a5df7bf
",git fetch https://review.opendev.org/openstack/glance refs/changes/34/744234/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/location.py'],1,04b8714fb5521ef55dd87e5df32d4ddb02b3f4f3,bp/calculate-virtual-size,"from glance.common import format_inspector if self.image.disk_format == 'qcow2': fmt = format_inspector.QcowInspector() else: fmt = format_inspector.FileInspector() data = format_inspector.InfoWrapper(data, fmt) if fmt and fmt.format_match and fmt.virtual_size: self.image.virtual_size = fmt.virtual_size LOG.info('Image format matched and virtual size computed: %i', self.image.virtual_size) else: LOG.info('Image format unknown, unsupported, or unable ' 'to calculate virtual size') ",,16,0
openstack%2Fmurano~master~I169a7e5fc5d5562aac4f8c02f5ceb1843122696e,openstack/murano,master,I169a7e5fc5d5562aac4f8c02f5ceb1843122696e,Fix requirements-check  job,MERGED,2020-08-04 01:41:09.000000000,2020-08-08 04:24:45.000000000,2020-08-08 04:23:38.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 01:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/98c6cc198440b5d385644cf41bf0d552d7505e3d', 'message': '[CI] TEST\n\nChange-Id: I169a7e5fc5d5562aac4f8c02f5ceb1843122696e\n'}, {'number': 2, 'created': '2020-08-04 03:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/10f844381613ecb9cabd41bd15edc45f9422a217', 'message': '[CI] TEST\n\nChange-Id: I169a7e5fc5d5562aac4f8c02f5ceb1843122696e\n'}, {'number': 3, 'created': '2020-08-05 09:22:07.000000000', 'files': ['requirements.txt', 'murano/tests/unit/policy/test_model_policy_enforcer.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/murano/commit/fc12a87932291130067e6350fb0d0b5bd3a6c6d5', 'message': 'Fix requirements-check  job\n\nChange-Id: I169a7e5fc5d5562aac4f8c02f5ceb1843122696e\n'}]",0,744581,fc12a87932291130067e6350fb0d0b5bd3a6c6d5,11,2,3,14107,,,0,"Fix requirements-check  job

Change-Id: I169a7e5fc5d5562aac4f8c02f5ceb1843122696e
",git fetch https://review.opendev.org/openstack/murano refs/changes/81/744581/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,98c6cc198440b5d385644cf41bf0d552d7505e3d,,,,0,0
openstack%2Fnova~master~Ie9b575cc15ae43d8b1eb1b74180ecead45702efe,openstack/nova,master,Ie9b575cc15ae43d8b1eb1b74180ecead45702efe,Fix multinic policy for admin_or_owner,MERGED,2020-07-22 00:01:03.000000000,2020-08-08 03:53:28.000000000,2020-08-07 19:30:26.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-22 00:01:03.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_multinic.py', 'nova/api/openstack/compute/multinic.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/904e4db1f8d2a1af0a1d8186d02b1b8c5ae8a62b', 'message': ""Fix multinic policy for admin_or_owner\n\nmultinic API policy is default to admin_or_owner[1] but API\nis allowed for everyone.\n\nWe can see the test trying with other project context can access the API\n- https://review.opendev.org/#/c/742315\n\nThis is because API does not pass the server project_id in policy target[2]\nand if no target is passed then, policy.py add the default targets which is\nnothing but context.project_id (allow for everyone who try to access)[3]\n\nThis commit fix this policy by passing the server's project_id in policy\ntarget.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\n[1] https://github.com/openstack/nova/blob/cd16ae25c865f25dbb313976b3d8ef9372db80af/nova/policies/multinic.py#L27\n[2] https://github.com/openstack/nova/blob/cd16ae25c865f25dbb313976b3d8ef9372db80af/nova/api/openstack/compute/multinic.py#L44\n[3] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/policy.py#L191\n\nChange-Id: Ie9b575cc15ae43d8b1eb1b74180ecead45702efe\n""}]",0,742317,904e4db1f8d2a1af0a1d8186d02b1b8c5ae8a62b,27,11,1,8556,,,0,"Fix multinic policy for admin_or_owner

multinic API policy is default to admin_or_owner[1] but API
is allowed for everyone.

We can see the test trying with other project context can access the API
- https://review.opendev.org/#/c/742315

This is because API does not pass the server project_id in policy target[2]
and if no target is passed then, policy.py add the default targets which is
nothing but context.project_id (allow for everyone who try to access)[3]

This commit fix this policy by passing the server's project_id in policy
target.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

[1] https://github.com/openstack/nova/blob/cd16ae25c865f25dbb313976b3d8ef9372db80af/nova/policies/multinic.py#L27
[2] https://github.com/openstack/nova/blob/cd16ae25c865f25dbb313976b3d8ef9372db80af/nova/api/openstack/compute/multinic.py#L44
[3] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/policy.py#L191

Change-Id: Ie9b575cc15ae43d8b1eb1b74180ecead45702efe
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/742317/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_multinic.py', 'nova/api/openstack/compute/multinic.py']",2,904e4db1f8d2a1af0a1d8186d02b1b8c5ae8a62b,bp/policy-defaults-refresh-deprecated-apis," context.can(multinic_policies.BASE_POLICY_NAME, target={'project_id': instance.project_id}) context.can(multinic_policies.BASE_POLICY_NAME, target={'project_id': instance.project_id}) ", context.can(multinic_policies.BASE_POLICY_NAME) context.can(multinic_policies.BASE_POLICY_NAME) ,18,4
openstack%2Fmurano-dashboard~master~I1158e928766888a1db9081f20e3c3540d7ce1fd3,openstack/murano-dashboard,master,I1158e928766888a1db9081f20e3c3540d7ce1fd3,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-02 00:32:35.000000000,2020-08-08 03:45:01.000000000,2020-08-08 03:45:01.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-02 00:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/14667bcd4b25ba75764d81b42e40623909036ab9', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional tests jobs\n- docs jobs\nDepends-On: https://review.opendev.org/#/c/734700/\nStory: #2007865\nTask: #40198\n\nChange-Id: I1158e928766888a1db9081f20e3c3540d7ce1fd3\n'}, {'number': 2, 'created': '2020-08-04 09:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/81b4824f5a879a1812334b794bd0a4a4247242f4', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional tests jobs\n- docs jobs\nDepends-On: https://review.opendev.org/#/c/734700/\nStory: #2007865\nTask: #40198\n\nChange-Id: I1158e928766888a1db9081f20e3c3540d7ce1fd3\n'}, {'number': 3, 'created': '2020-08-04 12:48:06.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/65b44569a5924f18b6e7155d64607b9f2cd2a659', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\n\nStory: #2007865\nTask: #40198\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\nChange-Id: I1158e928766888a1db9081f20e3c3540d7ce1fd3\n'}]",0,744352,65b44569a5924f18b6e7155d64607b9f2cd2a659,12,3,3,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8
support in their later version.

Story: #2007865
Task: #40198

Closes-Bug: #1886298

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal

Change-Id: I1158e928766888a1db9081f20e3c3540d7ce1fd3
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/52/744352/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,14667bcd4b25ba75764d81b42e40623909036ab9,migrate-to-focal,#test focal,,1,0
openstack%2Fmurano-agent~master~Ia4f3ec1b6714178a8b14672cc1be3eca14d3c148,openstack/murano-agent,master,Ia4f3ec1b6714178a8b14672cc1be3eca14d3c148,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-02 00:32:28.000000000,2020-08-08 03:42:29.000000000,2020-08-08 03:42:29.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-02 00:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/51d6c7f7a620d019d9f7d6e7f67a54bb1867e919', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional tests jobs\n- docs jobs\nDepends-On: https://review.opendev.org/#/c/734700/\nStory: #2007865\nTask: #40198\n\nChange-Id: Ia4f3ec1b6714178a8b14672cc1be3eca14d3c148\n'}, {'number': 2, 'created': '2020-08-04 22:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/aec7a6e3d64ab8a00c812ee62370e1dc9046363c', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nStory: #2007865\nTask: #40198\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: Ia4f3ec1b6714178a8b14672cc1be3eca14d3c148\n'}, {'number': 3, 'created': '2020-08-04 23:02:16.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/306b131d2adb0535b194d5c3371cf17d9dd80c63', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nStory: #2007865\nTask: #40198\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>\n\nChange-Id: Ia4f3ec1b6714178a8b14672cc1be3eca14d3c148\n'}]",0,744351,306b131d2adb0535b194d5c3371cf17d9dd80c63,10,2,3,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8 support
in their later version.

Story: #2007865
Task: #40198

Closes-Bug: #1886298

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>

Change-Id: Ia4f3ec1b6714178a8b14672cc1be3eca14d3c148
",git fetch https://review.opendev.org/openstack/murano-agent refs/changes/51/744351/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,51d6c7f7a620d019d9f7d6e7f67a54bb1867e919,migrate-to-focal,#test focal,,1,0
openstack%2Fsolum-dashboard~master~I41c58ef250f9cd17e4ad944ae07638797786a0ce,openstack/solum-dashboard,master,I41c58ef250f9cd17e4ad944ae07638797786a0ce,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-04 03:31:49.000000000,2020-08-08 03:41:44.000000000,2020-08-08 03:41:44.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-04 03:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum-dashboard/commit/522f8aee635b5205024e59f26d79608571c852f3', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40219\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I41c58ef250f9cd17e4ad944ae07638797786a0ce\n'}, {'number': 2, 'created': '2020-08-04 13:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum-dashboard/commit/f1d2cd1d7f9bef407b523dee3f1c304a0b40b567', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40219\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I41c58ef250f9cd17e4ad944ae07638797786a0ce\n'}, {'number': 3, 'created': '2020-08-04 13:35:56.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/solum-dashboard/commit/9c3c10344ec76532d07e456cfc90053c90e59de0', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\n\nStory: #2007865\nTask: #40219\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\nChange-Id: I41c58ef250f9cd17e4ad944ae07638797786a0ce\n'}]",0,744603,9c3c10344ec76532d07e456cfc90053c90e59de0,12,3,3,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8
support in their later version.

Story: #2007865
Task: #40219

Closes-Bug: #1886298

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal

Change-Id: I41c58ef250f9cd17e4ad944ae07638797786a0ce
",git fetch https://review.opendev.org/openstack/solum-dashboard refs/changes/03/744603/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,522f8aee635b5205024e59f26d79608571c852f3,migrate-to-focal,#test focal,,1,0
openstack%2Fcinder~master~I962f0729ccc49b3d46e46277ed190fa7712b0ec2,openstack/cinder,master,I962f0729ccc49b3d46e46277ed190fa7712b0ec2,Revert to any snapshot support for specified driver.,ABANDONED,2020-08-07 07:26:07.000000000,2020-08-08 03:04:45.000000000,,"[{'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 22348}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}]","[{'number': 1, 'created': '2020-08-07 07:26:07.000000000', 'files': ['cinder/tests/unit/api/v3/test_volumes.py', 'cinder/volume/drivers/rbd.py', 'cinder/volume/manager.py', 'cinder/api/v3/volumes.py', 'cinder/volume/driver.py', 'cinder/volume/drivers/inspur/instorage/instorage_fc.py', 'cinder/volume/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/27486430c80953bbdbdb9587bef61a1fb236355c', 'message': 'Revert to any snapshot support for specified driver.\n\nAdd support to revert to any snapshot for specified driver.\n\nWhen revert_to_any_snapshot return false, the operation is the same as before. If false, perform revert to snapshot even if a non-latest snapshot_id is entered. For drivers supported revert to any snapshot, they can enable the function of restoring to any snapshot by returning true from its own revert_to_any_snapshot.\n\nChange-Id: I962f0729ccc49b3d46e46277ed190fa7712b0ec2\n'}]",3,745298,27486430c80953bbdbdb9587bef61a1fb236355c,15,11,1,30754,,,0,"Revert to any snapshot support for specified driver.

Add support to revert to any snapshot for specified driver.

When revert_to_any_snapshot return false, the operation is the same as before. If false, perform revert to snapshot even if a non-latest snapshot_id is entered. For drivers supported revert to any snapshot, they can enable the function of restoring to any snapshot by returning true from its own revert_to_any_snapshot.

Change-Id: I962f0729ccc49b3d46e46277ed190fa7712b0ec2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/98/745298/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/api/v3/test_volumes.py', 'cinder/volume/drivers/rbd.py', 'cinder/volume/manager.py', 'cinder/api/v3/volumes.py', 'cinder/volume/driver.py', 'cinder/volume/drivers/inspur/instorage/instorage_fc.py', 'cinder/volume/rpcapi.py']",7,27486430c80953bbdbdb9587bef61a1fb236355c,revert-to-any-snapshot," def revert_to_any_snapshot(self, ctxt, volume): cctxt = self._get_cctxt(volume.service_topic_queue) return cctxt.call(ctxt, 'revert_to_any_snapshot') ",,58,8
openstack%2Fironic~stable%2Fussuri~I0cd08e527763f0626fd1e43cc3b87163a4b0d018,openstack/ironic,stable/ussuri,I0cd08e527763f0626fd1e43cc3b87163a4b0d018,Auto extend the timeout for RAX hosts,MERGED,2020-07-19 21:20:28.000000000,2020-08-08 02:52:50.000000000,2020-08-08 02:51:19.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-19 21:20:28.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7908a61753fd65b291407dcc5fcbf3c476b1c875', 'message': ""Auto extend the timeout for RAX hosts\n\nRax hosts uses qemu software emulated VMs without leveraging the\nmagic with-in the processors to help ensure speedy execution.\n\nAs such, they can be substantially slower in some operations, such\ndecompressing ramdisks. This adds an unpredictable element into our\nCI and causes job failures when they should ahve succeeded, which\ncauses more rechecks, which consumes more resources... and the cycle\ncontinues.\n\nSo instead, we'll extend the timeout a little, to hopefully give the\njob time to complete without causing failures.\n\nChange-Id: I0cd08e527763f0626fd1e43cc3b87163a4b0d018\n(cherry picked from commit 3750ba62dff13c82392ac3667325d42b5c8d2fe2)\n""}]",0,741853,7908a61753fd65b291407dcc5fcbf3c476b1c875,49,8,1,11655,,,0,"Auto extend the timeout for RAX hosts

Rax hosts uses qemu software emulated VMs without leveraging the
magic with-in the processors to help ensure speedy execution.

As such, they can be substantially slower in some operations, such
decompressing ramdisks. This adds an unpredictable element into our
CI and causes job failures when they should ahve succeeded, which
causes more rechecks, which consumes more resources... and the cycle
continues.

So instead, we'll extend the timeout a little, to hopefully give the
job time to complete without causing failures.

Change-Id: I0cd08e527763f0626fd1e43cc3b87163a4b0d018
(cherry picked from commit 3750ba62dff13c82392ac3667325d42b5c8d2fe2)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/53/741853/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,7908a61753fd65b291407dcc5fcbf3c476b1c875,,"hostdomain=$(hostname) if [[ ""$hostdomain"" =~ ""rax"" ]]; then echo ""WARNING: Auto-increasing the requested build timeout by 1.5 as the detected hostname suggests a cloud host where VMs are software emulated."" # NOTE(TheJulia): Rax hosts are entirely qemu emulated, not CPU enabled # virtualization. As such, the ramdisk decompression is known to take an # eceptional amount of time and we need to afford a little more time to # these hosts for jobs to complete without issues. new_timeout=$(echo ""$IRONIC_TEMPEST_BUILD_TIMEOUT * 1.5 / 1"" | bc) IRONIC_TEMPEST_BUILD_TIMEOUT=$new_timeout fi ",,11,0
openstack%2Fopenstack-helm~master~I1778e047774b8d74a021153674ab53915649663f,openstack/openstack-helm,master,I1778e047774b8d74a021153674ab53915649663f,fix tempest conf,MERGED,2019-12-26 03:25:57.000000000,2020-08-08 02:27:42.000000000,2020-08-08 02:24:45.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29071}, {'_account_id': 30777}]","[{'number': 1, 'created': '2019-12-26 03:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c365f7e28e1dde95f18f162b060610595fb0b54e', 'message': 'fix tempest conf\n\nChange-Id: I1778e047774b8d74a021153674ab53915649663f\n'}, {'number': 2, 'created': '2019-12-26 06:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6bee3f556710cc752c237bde91db8b33ab62aff3', 'message': 'fix tempest conf\n\nThe configuration of conf:volume:backend_name\nin openstack-helm/tempest/values.yaml is missing an ""s"",\nand the standard configuration of volume\nin tempest.conf is ""backend_names"".\n\nChange-Id: I1778e047774b8d74a021153674ab53915649663f\n'}, {'number': 3, 'created': '2020-01-08 15:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dbef5e5886ccac74b017cc4e6e712ca1ad073845', 'message': 'fix tempest conf\n\nThe configuration of conf:volume:backend_name\nin openstack-helm/tempest/values.yaml is missing an ""s"",\nand the standard configuration of volume\nin tempest.conf is ""backend_names"".\n\nChange-Id: I1778e047774b8d74a021153674ab53915649663f\n'}, {'number': 4, 'created': '2020-01-09 01:44:51.000000000', 'files': ['tempest/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4beb0eba34162756fa02e1d8244a4de99c1f235e', 'message': 'fix tempest conf\n\nThe configuration of conf.volume.backend_name\nin openstack-helm/tempest/values.yaml is missing an ""s"",\nand the standard configuration of volume\nin tempest.conf is ""backend_names"".\n\nChange-Id: I1778e047774b8d74a021153674ab53915649663f\n'}]",0,700583,4beb0eba34162756fa02e1d8244a4de99c1f235e,19,6,4,30736,,,0,"fix tempest conf

The configuration of conf.volume.backend_name
in openstack-helm/tempest/values.yaml is missing an ""s"",
and the standard configuration of volume
in tempest.conf is ""backend_names"".

Change-Id: I1778e047774b8d74a021153674ab53915649663f
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/83/700583/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/values.yaml'],1,c365f7e28e1dde95f18f162b060610595fb0b54e,, backend_names: rbd1, backend_name: rbd1,1,1
openstack%2Fopenstack-helm~master~I3c1105422307fda5b014fc17bcdfe24999ce97eb,openstack/openstack-helm,master,I3c1105422307fda5b014fc17bcdfe24999ce97eb,Switch from 32GB to 16GB nodes for jobs requiring more ram,MERGED,2020-08-07 23:41:44.000000000,2020-08-08 02:26:34.000000000,2020-08-08 02:24:42.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 23:41:44.000000000', 'files': ['zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d996fde6576e7fb4caef6f54c9c540a223312353', 'message': 'Switch from 32GB to 16GB nodes for jobs requiring more ram\n\nAlso use osh-infra-gate-runner for tls job instead of non-existent\nosh-gate-runner.\n\nChange-Id: I3c1105422307fda5b014fc17bcdfe24999ce97eb\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,745432,d996fde6576e7fb4caef6f54c9c540a223312353,11,6,1,8863,,,0,"Switch from 32GB to 16GB nodes for jobs requiring more ram

Also use osh-infra-gate-runner for tls job instead of non-existent
osh-gate-runner.

Change-Id: I3c1105422307fda5b014fc17bcdfe24999ce97eb
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/32/745432/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs-openstack-helm.yaml'],1,d996fde6576e7fb4caef6f54c9c540a223312353,, nodeset: openstack-helm-single-16GB-node nodeset: openstack-helm-single-16GB-node, run: tools/gate/playbooks/osh-gate-runner.yaml nodeset: openstack-helm-single-32GB-node nodeset: openstack-helm-single-32GB-node,2,3
openstack%2Fopenstack-helm~master~Ic1a83fbc7a25716fd082f4896355ce1014c4134d,openstack/openstack-helm,master,Ic1a83fbc7a25716fd082f4896355ce1014c4134d,remove tempest deprecated config,MERGED,2020-01-08 02:05:14.000000000,2020-08-08 02:24:44.000000000,2020-08-08 02:24:44.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-01-08 02:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/00c32cd4b703c58d90ee5a6d8dd61aa555c67675', 'message': 'remove tempest deprecated config\n\ndns_servers in openstack-helm/temepst/values.yaml is deprecated,\nthis config option is no longer used anywhere,\nso it can be removed.\n\nChange-Id: Ic1a83fbc7a25716fd082f4896355ce1014c4134d\n'}, {'number': 2, 'created': '2020-08-07 19:31:27.000000000', 'files': ['tempest/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8c846a06d5a8ad5a3f4fc6e5c6c28e4dc4eb77f2', 'message': 'remove tempest deprecated config\n\ndns_servers in openstack-helm/temepst/values.yaml is deprecated,\nthis config option is no longer used anywhere,\nso it can be removed.\n\nChange-Id: Ic1a83fbc7a25716fd082f4896355ce1014c4134d\n'}]",0,701487,8c846a06d5a8ad5a3f4fc6e5c6c28e4dc4eb77f2,13,4,2,30736,,,0,"remove tempest deprecated config

dns_servers in openstack-helm/temepst/values.yaml is deprecated,
this config option is no longer used anywhere,
so it can be removed.

Change-Id: Ic1a83fbc7a25716fd082f4896355ce1014c4134d
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/87/701487/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/values.yaml'],1,00c32cd4b703c58d90ee5a6d8dd61aa555c67675,openstack-helm/remove_deprecated_config,, dns_servers: 10.96.0.10,0,1
openstack%2Fnova~master~I0ddd4a06413c2e069175a357e9baa2f3c61003cd,openstack/nova,master,I0ddd4a06413c2e069175a357e9baa2f3c61003cd,Introduce scope_types in multinic policy,MERGED,2020-07-22 01:40:53.000000000,2020-08-08 01:19:57.000000000,2020-08-07 21:04:02.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-22 01:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/445f62ae3eb6cff09c37e9c2fb3279e4b4a881eb', 'message': ""Introduce scope_types in multinic policy\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for multinic policies\nas 'system' and 'project'.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I0ddd4a06413c2e069175a357e9baa2f3c61003cd\n""}, {'number': 2, 'created': '2020-07-22 02:18:01.000000000', 'files': ['nova/policies/multinic.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9c129ccef9e8a2f31937944d27bdbeca5d7d1383', 'message': ""Introduce scope_types in multinic policy\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for multinic policies\nas 'system' and 'project'.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I0ddd4a06413c2e069175a357e9baa2f3c61003cd\n""}]",0,742328,9c129ccef9e8a2f31937944d27bdbeca5d7d1383,31,14,2,8556,,,0,"Introduce scope_types in multinic policy

Appropriate scope_type for nova case:
- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope

This commit introduce scope_type for multinic policies
as 'system' and 'project'.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I0ddd4a06413c2e069175a357e9baa2f3c61003cd
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/742328/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/policies/multinic.py'],1,445f62ae3eb6cff09c37e9c2fb3279e4b4a881eb,bp/policy-defaults-refresh-deprecated-apis," name=BASE_POLICY_NAME, check_str=base.RULE_ADMIN_OR_OWNER, description=""""""Add or remove a fixed IP address from a server. operations=[ ], scope_types=['system', 'project']),"," BASE_POLICY_NAME, base.RULE_ADMIN_OR_OWNER, """"""Add or remove a fixed IP address from a server. [ ]),",6,5
openstack%2Foctavia~master~I8b20602c5b075a6e47d3f7dc42a1bffb1b7a14ea,openstack/octavia,master,I8b20602c5b075a6e47d3f7dc42a1bffb1b7a14ea,Install ppc64-diag in ppc64le amphora images,MERGED,2020-08-03 09:16:29.000000000,2020-08-08 00:49:55.000000000,2020-08-08 00:48:19.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 09:16:29.000000000', 'files': ['elements/amphora-agent/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b29487952e018d1aecf2e95fcc58571cdc9adf35', 'message': 'Install ppc64-diag in ppc64le amphora images\n\nThis package provides rtas_errd which is necessary to process hotplug\nevents like VIP and member port attachments.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1862726\n\nChange-Id: I8b20602c5b075a6e47d3f7dc42a1bffb1b7a14ea\n'}]",0,744425,b29487952e018d1aecf2e95fcc58571cdc9adf35,15,5,1,6469,,,0,"Install ppc64-diag in ppc64le amphora images

This package provides rtas_errd which is necessary to process hotplug
events like VIP and member port attachments.

https://bugzilla.redhat.com/show_bug.cgi?id=1862726

Change-Id: I8b20602c5b075a6e47d3f7dc42a1bffb1b7a14ea
",git fetch https://review.opendev.org/openstack/octavia refs/changes/25/744425/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/amphora-agent/package-installs.yaml'],1,b29487952e018d1aecf2e95fcc58571cdc9adf35,ppc64le,"ppc64-diag: arch: ppc64le, ppc64el",,2,0
openstack%2Fnova~stable%2Fussuri~Ib9dbc792dc918e7ea45915e2c1dbd96be82ef562,openstack/nova,stable/ussuri,Ib9dbc792dc918e7ea45915e2c1dbd96be82ef562,Add regression tests for bug #1889108,MERGED,2020-07-31 13:10:23.000000000,2020-08-08 00:41:44.000000000,2020-08-08 00:39:49.000000000,"[{'_account_id': 4690}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-31 13:10:23.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1889108.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6db72002a65f30ac44b8df0a642b400ea272247e', 'message': 'Add regression tests for bug #1889108\n\nRelated-Bug: #1889108\nChange-Id: Ib9dbc792dc918e7ea45915e2c1dbd96be82ef562\n(cherry picked from commit 4c970f499c31370495d84c91a10319d308d13fb9)\n'}]",0,744161,6db72002a65f30ac44b8df0a642b400ea272247e,10,5,1,10135,,,0,"Add regression tests for bug #1889108

Related-Bug: #1889108
Change-Id: Ib9dbc792dc918e7ea45915e2c1dbd96be82ef562
(cherry picked from commit 4c970f499c31370495d84c91a10319d308d13fb9)
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/744161/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1889108.py'],1,6db72002a65f30ac44b8df0a642b400ea272247e,bug/1889108,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional import integrated_helpers class TestVolAttachmentsDuringPreLiveMigration( integrated_helpers._IntegratedTestBase ): """"""Regression test for bug 1889108. This regression test asserts that the original source volume attachments are incorrectly removed during the rollback from pre_live_migration failures on the destination. """""" # Default self.api to the self.admin_api as live migration is admin only ADMIN_API = True microversion = 'latest' def setUp(self): super().setUp() self.cinder = self.useFixture(nova_fixtures.CinderFixture(self)) def _setup_compute_service(self): self._start_compute('src') self._start_compute('dest') @mock.patch('nova.virt.fake.FakeDriver.pre_live_migration', side_effect=test.TestingException) def test_vol_attachments_during_driver_pre_live_mig_failure( self, mock_plm): """"""Assert that the src attachment is incorrectly removed * Mock pre_live_migration to always fail within the virt driver * Launch a boot from volume instance * Assert that the volume is attached correctly to the instance. * Live migrate the instance to another host invoking the mocked pre_live_migration * Assert that the instance is still on the source host * Assert that both the original source host volume attachment and new destination volume attachment have been removed """""" volume_id = nova_fixtures.CinderFixture.IMAGE_BACKED_VOL server = self._build_server( name='test_bfv_pre_live_migration_failure', image_uuid='', networks='none' ) server['block_device_mapping_v2'] = [{ 'source_type': 'volume', 'destination_type': 'volume', 'boot_index': 0, 'uuid': volume_id }] server = self.api.post_server({'server': server}) self._wait_for_state_change(server, 'ACTIVE') # Fetch the source host for use later server = self.api.get_server(server['id']) src_host = server['OS-EXT-SRV-ATTR:host'] # Assert that the volume is connected to the instance self.assertIn( volume_id, self.cinder.volume_ids_for_instance(server['id'])) # Assert that we have an active attachment in the fixture attachments = self.cinder.volume_to_attachment.get(volume_id) self.assertEqual(1, len(attachments)) # Fetch the attachment_id for use later once we have migrated src_attachment_id = list(attachments.keys())[0] # Migrate the instance and wait until the migration errors out thanks # to our mocked version of pre_live_migration raising # test.TestingException self._live_migrate(server, 'error') # Assert that we called the fake pre_live_migration method mock_plm.assert_called_once() # Assert that the instance is listed on the source server = self.api.get_server(server['id']) self.assertEqual(src_host, server['OS-EXT-SRV-ATTR:host']) # FIXME(lyarwood): Assert that both the src and dest attachments have # been removed. Only the dest attachment should be removed during the # rollback of a pre_live_migration failure. attachments = self.cinder.volume_to_attachment.get(volume_id) self.assertNotIn(src_attachment_id, attachments.keys()) self.assertEqual(0, len(attachments)) ",,103,0
openstack%2Fnova~stable%2Fussuri~I70c4715de05d64fabc498b02d5c757af9450fbe9,openstack/nova,stable/ussuri,I70c4715de05d64fabc498b02d5c757af9450fbe9,func: Add _live_migrate helper to InstanceHelperMixin,MERGED,2020-07-31 13:10:23.000000000,2020-08-08 00:40:35.000000000,2020-08-08 00:38:01.000000000,"[{'_account_id': 4690}, {'_account_id': 8864}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-31 13:10:23.000000000', 'files': ['nova/tests/functional/integrated_helpers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/726ca4aec5ccea96748de88b2c2a2fd1a078cfc5', 'message': 'func: Add _live_migrate helper to InstanceHelperMixin\n\nThis is a partial backport of I70c4715de05d64fabc498b02d5c757af9450fbe9\nthat introduced this helper will addressing feedback on\nIa3d7351c1805d98bcb799ab0375673c7f1cb8848 and\nI78e79112a9c803fb45d828cfb4641456da66364a that landed in Victoria.\n\nFollow-up for NUMA live migration functional tests\n\nThis patch addresses outstanding feedback on\nIa3d7351c1805d98bcb799ab0375673c7f1cb8848 and\nI78e79112a9c803fb45d828cfb4641456da66364a.\n\nChange-Id: I70c4715de05d64fabc498b02d5c757af9450fbe9\n(cherry picked from commit ca8f1f422298b0a26cf30165595d256f4fa71135)\n'}]",3,744159,726ca4aec5ccea96748de88b2c2a2fd1a078cfc5,12,7,1,10135,,,0,"func: Add _live_migrate helper to InstanceHelperMixin

This is a partial backport of I70c4715de05d64fabc498b02d5c757af9450fbe9
that introduced this helper will addressing feedback on
Ia3d7351c1805d98bcb799ab0375673c7f1cb8848 and
I78e79112a9c803fb45d828cfb4641456da66364a that landed in Victoria.

Follow-up for NUMA live migration functional tests

This patch addresses outstanding feedback on
Ia3d7351c1805d98bcb799ab0375673c7f1cb8848 and
I78e79112a9c803fb45d828cfb4641456da66364a.

Change-Id: I70c4715de05d64fabc498b02d5c757af9450fbe9
(cherry picked from commit ca8f1f422298b0a26cf30165595d256f4fa71135)
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/744159/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/integrated_helpers.py'],1,726ca4aec5ccea96748de88b2c2a2fd1a078cfc5,bug/1889108," def _live_migrate(self, server, migration_final_status): self.api.post_server_action( server['id'], {'os-migrateLive': {'host': None, 'block_migration': 'auto'}}) self._wait_for_state_change(server, 'ACTIVE') self._wait_for_migration_status(server, [migration_final_status]) ",,8,0
openstack%2Fnova~stable%2Fussuri~Id30e10eab6697e9543d432a8feb2f50d454b6ac8,openstack/nova,stable/ussuri,Id30e10eab6697e9543d432a8feb2f50d454b6ac8,tests: Define constants in '_IntegratedTestBase',MERGED,2020-07-31 13:10:23.000000000,2020-08-08 00:39:23.000000000,2020-08-08 00:37:56.000000000,"[{'_account_id': 4690}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-31 13:10:23.000000000', 'files': ['nova/tests/functional/api_sample_tests/api_sample_base.py', 'nova/tests/functional/api_sample_tests/test_versions.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/api_samples_test_base.py', 'nova/tests/functional/api_sample_tests/test_compare_result.py', 'nova/tests/functional/api_sample_tests/test_simple_tenant_usage.py', 'nova/tests/functional/test_middleware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9069b2802fe09ad997d8dfdbdc3aa599abdce29b', 'message': ""tests: Define constants in '_IntegratedTestBase'\n\nUse a slightly more consistent naming scheme for variables, including\ndocumentation, and add some variables that should always be defined.\n\nChange-Id: Id30e10eab6697e9543d432a8feb2f50d454b6ac8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit c558b58619affccd505d6e69f16267864c6313ec)\n""}]",0,744158,9069b2802fe09ad997d8dfdbdc3aa599abdce29b,11,6,1,10135,,,0,"tests: Define constants in '_IntegratedTestBase'

Use a slightly more consistent naming scheme for variables, including
documentation, and add some variables that should always be defined.

Change-Id: Id30e10eab6697e9543d432a8feb2f50d454b6ac8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit c558b58619affccd505d6e69f16267864c6313ec)
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/744158/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api_sample_tests/api_sample_base.py', 'nova/tests/functional/api_sample_tests/test_versions.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/api_samples_test_base.py', 'nova/tests/functional/api_sample_tests/test_compare_result.py', 'nova/tests/functional/api_sample_tests/test_simple_tenant_usage.py', 'nova/tests/functional/test_middleware.py']",7,9069b2802fe09ad997d8dfdbdc3aa599abdce29b,bug/1889108, self.exp_version_status = 300 if self.USE_PROJECT_ID else 200, self.exp_version_status = 300 if self._use_project_id else 200,35,18
openstack%2Fopenstack-helm~master~I075ec8351faa44b3d133b4bc1182213bd6527588,openstack/openstack-helm,master,I075ec8351faa44b3d133b4bc1182213bd6527588,Adds apparmor profile to Placement pods,MERGED,2020-08-07 16:31:58.000000000,2020-08-07 23:46:30.000000000,2020-08-07 23:45:14.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 24780}]","[{'number': 1, 'created': '2020-08-07 16:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/60e48b0fb8965165f4a5ecb134821a5da782bd43', 'message': 'Adds apparmor profile to Placement pods.\n\nChange-Id: I075ec8351faa44b3d133b4bc1182213bd6527588\n'}, {'number': 2, 'created': '2020-08-07 18:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/095ce33b78133e9c3a5888294688514eefa0a587', 'message': 'Adds apparmor profile to Placement pods.\n\nChange-Id: I075ec8351faa44b3d133b4bc1182213bd6527588\n'}, {'number': 3, 'created': '2020-08-07 19:50:08.000000000', 'files': ['placement/values_overrides/apparmor.yaml', 'placement/templates/deployment.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/610159a4fd473b9ff98a9511ef18f059902f1e98', 'message': 'Adds apparmor profile to Placement pods\n\nChange-Id: I075ec8351faa44b3d133b4bc1182213bd6527588\n'}]",3,745372,610159a4fd473b9ff98a9511ef18f059902f1e98,42,10,3,18256,,,0,"Adds apparmor profile to Placement pods

Change-Id: I075ec8351faa44b3d133b4bc1182213bd6527588
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/72/745372/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/apparmor.yaml', 'placement/templates/deployment.yaml']",2,60e48b0fb8965165f4a5ecb134821a5da782bd43,,"{{ dict ""envAll"" $envAll ""podName"" ""placement-api"" ""containerNames"" (list ""placement-api"" ""init"") | include ""helm-toolkit.snippets.kubernetes_mandatory_access_control_annotation"" | indent 8 }}",,9,0
openstack%2Fopenstack-helm-images~master~I7e6ec0ac10d4ba562b11f742aad7874f3e7b1a02,openstack/openstack-helm-images,master,I7e6ec0ac10d4ba562b11f742aad7874f3e7b1a02,Publish loci requirements image,MERGED,2020-08-06 19:20:10.000000000,2020-08-07 23:31:04.000000000,2020-08-07 23:25:27.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 19:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/d33d98d5013a913128852a5b18a6987697606c80', 'message': 'Publish loci requirements image\n\nChange-Id: I7e6ec0ac10d4ba562b11f742aad7874f3e7b1a02\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-08-06 19:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/b3578ef1ad3be591e2de63394fd69c044f9a708b', 'message': 'Publish loci requirements image\n\nChange-Id: I7e6ec0ac10d4ba562b11f742aad7874f3e7b1a02\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-08-06 19:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/a1e679881981b9183f8777b1f1401ab6b1d7ecc0', 'message': 'Publish loci requirements image\n\nChange-Id: I7e6ec0ac10d4ba562b11f742aad7874f3e7b1a02\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2020-08-06 20:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/8e7d9a484cbb9562eb353a03b148d6a83c071f5a', 'message': ""Publish loci requirements image\n\nIt's handy to have a requirements image for each release/distro\nused in OSH for development purposes.\n\nDepends-On: https://review.opendev.org/744271\nChange-Id: I7e6ec0ac10d4ba562b11f742aad7874f3e7b1a02\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n""}, {'number': 5, 'created': '2020-08-07 17:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/11d7bfb1e13da5dfca7c76c87b7f31414b4ba7cb', 'message': ""Publish loci requirements image\n\nIt's handy to have a requirements image for each release/distro\nused in OSH for development purposes.\n\nDepends-On: https://review.opendev.org/744271\nChange-Id: I7e6ec0ac10d4ba562b11f742aad7874f3e7b1a02\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n""}, {'number': 6, 'created': '2020-08-07 17:12:57.000000000', 'files': ['zuul.d/openstack-loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/e3b2bf84cc90f125eb8434a1abb5797d22816bc1', 'message': ""Publish loci requirements image\n\nIt's handy to have a requirements image for each release/distro\nused in OSH for development purposes.\n\nDepends-On: https://review.opendev.org/744271\nChange-Id: I7e6ec0ac10d4ba562b11f742aad7874f3e7b1a02\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n""}]",0,745207,e3b2bf84cc90f125eb8434a1abb5797d22816bc1,27,6,6,8863,,,0,"Publish loci requirements image

It's handy to have a requirements image for each release/distro
used in OSH for development purposes.

Depends-On: https://review.opendev.org/744271
Change-Id: I7e6ec0ac10d4ba562b11f742aad7874f3e7b1a02
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/07/745207/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/openstack-loci.yaml'],1,d33d98d5013a913128852a5b18a6987697606c80,, - &requirements_project,,1,0
openstack%2Ftacker~master~I271e99f23c4dae398fb3d51241a64231e971fa95,openstack/tacker,master,I271e99f23c4dae398fb3d51241a64231e971fa95,Support LCM notifications for VNF based on ETSI NFV-SOL specification    Support for Flow of managing subscriptions as defined in ETSI SOL003      * Support POST/DELETE/GET(List)/GET(Individual) LccnSubscription,ABANDONED,2020-07-23 06:40:38.000000000,2020-08-07 22:41:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 27180}, {'_account_id': 31072}]","[{'number': 1, 'created': '2020-07-23 06:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/cfe313cf8968907994d9668954849a7874674e46', 'message': 'Support LCM notifications for VNF based on ETSI NFV-SOL specification\n   Support for Flow of managing subscriptions as defined in ETSI SOL003\n     * Support POST/DELETE/GET(List)/GET(Individual) LccnSubscription\n\nNote: This commit does not contain test codes.\n      Test codes will follow on the next patch.\n\nChange-Id: I271e99f23c4dae398fb3d51241a64231e971fa95\n'}, {'number': 2, 'created': '2020-07-27 08:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/87a8bf23e5075c42257b7daa1bd257685151e6ba', 'message': 'Support LCM notifications for VNF based on ETSI NFV-SOL specification\n   Support for Flow of managing subscriptions as defined in ETSI SOL003\n     * Support POST/DELETE/GET(List)/GET(Individual) LccnSubscription\n\nNote: Patch that contains test codes.\n\nChange-Id: I271e99f23c4dae398fb3d51241a64231e971fa95\n'}, {'number': 3, 'created': '2020-07-27 08:29:11.000000000', 'files': ['tacker/tests/unit/objects/fakes.py', 'tacker/api/views/vnf_lcm.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/api/vnflcm/v1/router.py', 'tacker/conf/vnf_lcm.py', 'tacker/db/migration/alembic_migrations/versions/985e28392890_add_vnflcm_db.py', 'tacker/objects/__init__.py', 'tacker/objects/vnf_lcm_subscriptions.py', 'tacker/tests/unit/objects/test_vnf_lcm_subscriptions.py', 'tacker/conf/__init__.py', 'tacker/db/db_sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/5aa4b002bebbcb25cc37b1d9d7f14f6b850c04e0', 'message': 'Support LCM notifications for VNF based on ETSI NFV-SOL specification\n   Support for Flow of managing subscriptions as defined in ETSI SOL003\n     * Support POST/DELETE/GET(List)/GET(Individual) LccnSubscription\n\nChange-Id: I271e99f23c4dae398fb3d51241a64231e971fa95\n'}]",889,742599,5aa4b002bebbcb25cc37b1d9d7f14f6b850c04e0,11,4,3,32219,,,0,"Support LCM notifications for VNF based on ETSI NFV-SOL specification
   Support for Flow of managing subscriptions as defined in ETSI SOL003
     * Support POST/DELETE/GET(List)/GET(Individual) LccnSubscription

Change-Id: I271e99f23c4dae398fb3d51241a64231e971fa95
",git fetch https://review.opendev.org/openstack/tacker refs/changes/99/742599/2 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/api/views/vnf_lcm.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/api/vnflcm/v1/router.py', 'tacker/conf/vnf_lcm.py', 'tacker/db/migration/alembic_migrations/versions/985e28392890_add_vnflcm_db.py', 'tacker/objects/__init__.py', 'tacker/objects/vnf_lcm_subscriptions.py', 'tacker/conf/__init__.py', 'tacker/db/db_sqlalchemy/models.py']",9,cfe313cf8968907994d9668954849a7874674e46,bp/support-etsi-nfv-specs," class VnfLcmSubscriptions(model_base.BASE, models.SoftDeleteMixin, models.TimestampMixin): """"""Contains all info about vnf LCM Subscriptions."""""" __tablename__ = 'vnf_lcm_subscriptions' id = sa.Column(sa.String(36), nullable=False, primary_key=True) callback_uri = sa.Column(sa.String(255), nullable=False) subscription_authentication = sa.Column(sa.JSON, nullable=True) class VnfLcmFilters(model_base.BASE): """"""Contains all info about vnf LCM filters."""""" __tablename__ = 'vnf_lcm_filters' __maxsize__ = 65536 id = sa.Column(sa.Integer, nullable=True, primary_key=True) subscription_uuid = sa.Column(sa.String(36), sa.ForeignKey('vnf_lcm_subscriptions.id'), nullable=False) filter = sa.Column(sa.JSON, nullable=False) notification_types = sa.Column(sa.VARBINARY(255), nullable=True) notification_types_len = sa.Column(sa.Integer, nullable=True) operation_types = sa.Column(sa.LargeBinary(length=__maxsize__), nullable=True) operation_types_len = sa.Column(sa.Integer, nullable=True) class VnfLcmOpOccs(model_base.BASE, models.SoftDeleteMixin, models.TimestampMixin): """"""VNF LCM OP OCCS Fields"""""" __tablename__ = 'vnf_lcm_op_occs' id = sa.Column(sa.Integer, primary_key=True, autoincrement=True) vnf_instance_id = sa.Column(sa.String(36), sa.ForeignKey('vnf_instances.id'), nullable=False) state_entered_time = sa.Column(sa.DateTime(), nullable=False) start_time = sa.Column(sa.DateTime(), nullable=False) operation_state = sa.Column(sa.String(length=255), nullable=False) grant_id = sa.Column(sa.String(length=255), nullable=True) operation = sa.Column(sa.String(length=255), nullable=False) is_automatic_invocation = sa.Column(sa.Boolean, nullable=False) operation_params = sa.Column(sa.JSON(), nullable=True) is_cancel_pending = sa.Column(sa.Boolean, nullable=False) cancel_mode = sa.Column(sa.String(length=255), nullable=True) error = sa.Column(sa.JSON(), nullable=True) resource_changes = sa.Column(sa.JSON(), nullable=True) changed_info = sa.Column(sa.JSON(), nullable=True) changed_ext_connectivity = sa.Column(sa.JSON(), nullable=True) error_point = sa.Column(sa.Integer(), nullable=True)",,912,1
openstack%2Fironic-python-agent~master~Ic4608b7c6ff9773d1403926efb3d59869c71343b,openstack/ironic-python-agent,master,Ic4608b7c6ff9773d1403926efb3d59869c71343b,Fix TypeError on agent lookup failure,MERGED,2020-07-30 23:19:56.000000000,2020-08-07 22:29:35.000000000,2020-08-07 16:32:30.000000000,"[{'_account_id': 4257}, {'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-30 23:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/46ae8a7d2427b698477e37ed2850491c7025f5d1', 'message': 'Fix TypeError on agent lookup failure\n\nAgent lookups can fail as we presently use logging.exception,\nbetter known in our code as LOG.exception, which can also generate\nother fun issues on journald based systems where additional errors\ncould be raised resulting in us being unable to troubleshoot the\nthe actual issue.\n\nChange-Id: Ic4608b7c6ff9773d1403926efb3d59869c71343b\nStory: 2007968\nTask: 40465\n'}, {'number': 2, 'created': '2020-08-03 16:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1f92a959b85a7fb0ce36330c5e3818a7e871ef49', 'message': 'Fix TypeError on agent lookup failure\n\nAgent lookups can fail as we presently use logging.exception,\nbetter known in our code as LOG.exception, which can also generate\nother fun issues on journald based systems where additional errors\ncould be raised resulting in us being unable to troubleshoot the\nthe actual issue.\n\nBecause of the mis-use of LOG.exception and the default behavior\nof the backoff retry handler, the retry logic was also not\nfunctional as any error no matter how small caused IPA to\njust exit.\n\nChange-Id: Ic4608b7c6ff9773d1403926efb3d59869c71343b\nStory: 2007968\nTask: 40465\n'}, {'number': 3, 'created': '2020-08-05 03:43:08.000000000', 'files': ['ironic_python_agent/tests/unit/test_ironic_api_client.py', 'releasenotes/notes/fixes-agent-lookup-retries-1b4bb90b8e783aca.yaml', 'ironic_python_agent/ironic_api_client.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5eab9bced63b2b9a6753cbbf594dda7ef9d03a3a', 'message': 'Fix TypeError on agent lookup failure\n\nAgent lookups can fail as we presently use logging.exception,\nbetter known in our code as LOG.exception, which can also generate\nother fun issues on journald based systems where additional errors\ncould be raised resulting in us being unable to troubleshoot the\nthe actual issue.\n\nBecause of the mis-use of LOG.exception and the default behavior\nof the backoff retry handler, the retry logic was also not\nfunctional as any error no matter how small caused IPA to\njust exit.\n\nChange-Id: Ic4608b7c6ff9773d1403926efb3d59869c71343b\nStory: 2007968\nTask: 40465\n'}]",18,744077,5eab9bced63b2b9a6753cbbf594dda7ef9d03a3a,27,9,3,11655,,,0,"Fix TypeError on agent lookup failure

Agent lookups can fail as we presently use logging.exception,
better known in our code as LOG.exception, which can also generate
other fun issues on journald based systems where additional errors
could be raised resulting in us being unable to troubleshoot the
the actual issue.

Because of the mis-use of LOG.exception and the default behavior
of the backoff retry handler, the retry logic was also not
functional as any error no matter how small caused IPA to
just exit.

Change-Id: Ic4608b7c6ff9773d1403926efb3d59869c71343b
Story: 2007968
Task: 40465
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/77/744077/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/test_ironic_api_client.py', 'releasenotes/notes/fixes-agent-lookup-retries-1b4bb90b8e783aca.yaml', 'ironic_python_agent/ironic_api_client.py']",3,46ae8a7d2427b698477e37ed2850491c7025f5d1,," except (requests.exceptions.ConnectionError, requests.exceptions.ReadTimeout, requests.exceptions.HTTPError) as err: LOG.warning( 'Error detected while attempting to perform lookup ' 'with %s, retrying. Error: %s', self.api_url, err except (requests.exceptions.Timeout, requests.exceptions.ConnectTimeout) as err: LOG.warning( 'Timeout encountered while attempting to perform lookup ' 'with %s, retrying. Error: %s', self.api_url, err ) return False except Exception as err: # Hey! If your looking here, and you are wondering why your # getting to this point, perhaps we might need another, different # exception being handled above. msg = ('Unhandled error looking up node with addresses {}i at ' '{}: {}'.format(params['addresses'], self.api_url, err)) LOG.error(msg) raise errors.LookupNodeError(msg)"," except Exception as err: LOG.exception( 'Unhandled error looking up node with addresses %r at %s: %s', params['addresses'], self.api_url, err,",59,4
openstack%2Fnova~master~Ieed4e23c4296fe8a338910a235348574327decb3,openstack/nova,master,Ieed4e23c4296fe8a338910a235348574327decb3,Introduce scope_types in baremetal node,MERGED,2020-07-17 20:23:15.000000000,2020-08-07 22:27:52.000000000,2020-08-07 19:38:37.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-17 20:23:15.000000000', 'files': ['nova/policies/baremetal_nodes.py', 'nova/tests/unit/policies/test_baremetal_nodes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/672aa45dd1229c55d06d862d6b359eb3925308a4', 'message': ""Introduce scope_types in baremetal node\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for baremetal nodes policies\nas 'system'.\n\nAlso adds the test case with scope_type enabled and verify we\npass and fail the policy check with expected context.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Ieed4e23c4296fe8a338910a235348574327decb3\n""}]",0,741709,672aa45dd1229c55d06d862d6b359eb3925308a4,22,10,1,8556,,,0,"Introduce scope_types in baremetal node

Appropriate scope_type for nova case:
- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope

This commit introduce scope_type for baremetal nodes policies
as 'system'.

Also adds the test case with scope_type enabled and verify we
pass and fail the policy check with expected context.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: Ieed4e23c4296fe8a338910a235348574327decb3
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/741709/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/policies/baremetal_nodes.py', 'nova/tests/unit/policies/test_baremetal_nodes.py']",2,672aa45dd1229c55d06d862d6b359eb3925308a4,bp/policy-defaults-refresh-deprecated-apis," # Check that system admin is able to get baremetal nodes. self.admin_authorized_contexts = [ self.system_admin_context] # Check that non-system or non-admin is not able to get # baremetal nodes. self.admin_unauthorized_contexts = [ self.legacy_admin_context, self.system_member_context, self.system_reader_context, self.system_foo_context, self.project_admin_context, self.project_member_context, self.other_project_member_context, self.project_foo_context, self.project_reader_context, self.other_project_reader_context ]",,20,5
openstack%2Fironic~bugfix%2F15.1~I4f9db300e792980059c401fce4c37a68c438d7c0,openstack/ironic,bugfix/15.1,I4f9db300e792980059c401fce4c37a68c438d7c0,Extend base build timeouts,MERGED,2020-08-07 14:31:58.000000000,2020-08-07 22:24:00.000000000,2020-08-07 18:39:22.000000000,"[{'_account_id': 10239}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 14:31:58.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c51b55d9f95f00c9228d52df20fa6c619354e7e5', 'message': ""Extend base build timeouts\n\nOur ramdisks have swelled, and are taking anywhere from 500-700\nseconds to even reach the point where IPA is starting up.\n\nThis means, that a 900 second build timeout is cutting it close\nand intermittent performance degredation in CI means that a job\nmay fail simply because it is colliding with the timeout.\n\nOne example I deconstruted today where a 900 second timout was\nin effect:\n\n* 08:21:41 Tempest job startes\n* 08:21:46 Nova instance requested\n* Compute service requests ironic to do the thing.\n* Ironic downloads IPA and stages it - ~20-30 seconds\n* VM boots and loads ipxe ~30 seconds.\n* 08:23:22 - ipxe downloads kernel/ramdisk (time should be completion\n             unless apache has changed logging behavior for requests.)\n* 08:26:28 - Kernel at 120 second marker and done decompressing\n             the ramdisk.\n* ~08:34:30 - Kernel itself hit the six hundred second runtime\n              marker and hasn't even started IPA.\n* 08:35:02 - Ironic declars the deploy failed due to wait timeout.\n             ([conductor]deploy_callback_timeout hit at 700 seconds.)\n* 08:35:32 - Nova fails the build saying it can't be scheduled.\n\n(Note, I started adding times to figure out the window to myself, so\nthey are incomplete above.)\n\nThe time we can account for in the job is about 14 minutes or 840\nseconds. As such, our existing defaults are just not enough to handle\nthe ramdisk size AND variance in cloud performance.\n\nChange-Id: I4f9db300e792980059c401fce4c37a68c438d7c0\n(cherry picked from commit 9169085db781e2a27bdfc36e45a4d0feeb9bca53)\n""}]",0,745347,c51b55d9f95f00c9228d52df20fa6c619354e7e5,8,3,1,11655,,,0,"Extend base build timeouts

Our ramdisks have swelled, and are taking anywhere from 500-700
seconds to even reach the point where IPA is starting up.

This means, that a 900 second build timeout is cutting it close
and intermittent performance degredation in CI means that a job
may fail simply because it is colliding with the timeout.

One example I deconstruted today where a 900 second timout was
in effect:

* 08:21:41 Tempest job startes
* 08:21:46 Nova instance requested
* Compute service requests ironic to do the thing.
* Ironic downloads IPA and stages it - ~20-30 seconds
* VM boots and loads ipxe ~30 seconds.
* 08:23:22 - ipxe downloads kernel/ramdisk (time should be completion
             unless apache has changed logging behavior for requests.)
* 08:26:28 - Kernel at 120 second marker and done decompressing
             the ramdisk.
* ~08:34:30 - Kernel itself hit the six hundred second runtime
              marker and hasn't even started IPA.
* 08:35:02 - Ironic declars the deploy failed due to wait timeout.
             ([conductor]deploy_callback_timeout hit at 700 seconds.)
* 08:35:32 - Nova fails the build saying it can't be scheduled.

(Note, I started adding times to figure out the window to myself, so
they are incomplete above.)

The time we can account for in the job is about 14 minutes or 840
seconds. As such, our existing defaults are just not enough to handle
the ramdisk size AND variance in cloud performance.

Change-Id: I4f9db300e792980059c401fce4c37a68c438d7c0
(cherry picked from commit 9169085db781e2a27bdfc36e45a4d0feeb9bca53)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/47/745347/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,c51b55d9f95f00c9228d52df20fa6c619354e7e5,, BUILD_TIMEOUT: 1800 IRONIC_CALLBACK_TIMEOUT: 1800 IRONIC_PXE_BOOT_RETRY_TIMEOUT: 900 IRONIC_TEMPEST_BUILD_TIMEOUT: 1800 BUILD_TIMEOUT: 2000 IRONIC_TEMPEST_BUILD_TIMEOUT: 2000, BUILD_TIMEOUT: 900 IRONIC_CALLBACK_TIMEOUT: 700 IRONIC_TEMPEST_BUILD_TIMEOUT: 900 BUILD_TIMEOUT: 1440 IRONIC_TEMPEST_BUILD_TIMEOUT: 1440,6,5
openstack%2Fironic~stable%2Fussuri~I4336d71f57bcfbde90fa7b62a5435a7f9d0a73d3,openstack/ironic,stable/ussuri,I4336d71f57bcfbde90fa7b62a5435a7f9d0a73d3,Use TLS for json_rpc when configured,MERGED,2020-07-31 11:17:08.000000000,2020-08-07 22:23:00.000000000,2020-08-07 22:21:19.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32254}]","[{'number': 1, 'created': '2020-07-31 11:17:08.000000000', 'files': ['ironic/common/json_rpc/client.py', 'releasenotes/notes/fix-json-rpc-client-ssl-2438a731beb3d5f9.yaml', 'ironic/tests/unit/common/test_json_rpc.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/528e54c795d791d3fa9fd25b6d80508a4a01877d', 'message': 'Use TLS for json_rpc when configured\n\nThe configuration for json_rpc contains the option use_ssl but its value\nwas not respected by the json_rpc client. Therefore the client tried to\nconnect to HTTPS endpoints using HTTP.\n\nChange-Id: I4336d71f57bcfbde90fa7b62a5435a7f9d0a73d3\n(cherry picked from commit feae197c5ad02fa0898a30d4ffaaba8a21d4f884)\n'}]",0,744131,528e54c795d791d3fa9fd25b6d80508a4a01877d,29,8,1,10239,,,0,"Use TLS for json_rpc when configured

The configuration for json_rpc contains the option use_ssl but its value
was not respected by the json_rpc client. Therefore the client tried to
connect to HTTPS endpoints using HTTP.

Change-Id: I4336d71f57bcfbde90fa7b62a5435a7f9d0a73d3
(cherry picked from commit feae197c5ad02fa0898a30d4ffaaba8a21d4f884)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/31/744131/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/json_rpc/client.py', 'releasenotes/notes/fix-json-rpc-client-ssl-2438a731beb3d5f9.yaml', 'ironic/tests/unit/common/test_json_rpc.py']",3,528e54c795d791d3fa9fd25b6d80508a4a01877d,json-rpc-ssl-stable/ussuri," def test_call_with_ssl(self, mock_session): self.config(use_ssl=True, group='json_rpc') response = mock_session.return_value.post.return_value response.json.return_value = { 'jsonrpc': '2.0', 'result': 42 } cctx = self.client.prepare('foo.example.com') self.assertEqual('example.com', cctx.host) result = cctx.call(self.context, 'do_something', answer=42) self.assertEqual(42, result) mock_session.return_value.post.assert_called_once_with( 'https://example.com:8089', json={'jsonrpc': '2.0', 'method': 'do_something', 'params': {'answer': 42, 'context': self.ctx_json}, 'id': self.context.request_id}) ",,27,1
openstack%2Fnova~master~Ica29330ac8c22a40bbf5e88ef554bbc44e1ac293,openstack/nova,master,Ica29330ac8c22a40bbf5e88ef554bbc44e1ac293,Introduce scope_types in FIP pools,MERGED,2020-07-18 02:55:48.000000000,2020-08-07 21:48:42.000000000,2020-08-07 19:30:54.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-18 02:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c0d6731a46c9a86190ec546b2db27e0b89f8e7d', 'message': ""Introduce scope_types in FIP pools\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for baremetal nodes policies\nas 'system' and 'project'\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Ica29330ac8c22a40bbf5e88ef554bbc44e1ac293\n""}, {'number': 2, 'created': '2020-07-18 18:48:44.000000000', 'files': ['nova/policies/floating_ip_pools.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8c0d1acf6ea41adc3743a4e190eaf777188282c0', 'message': ""Introduce scope_types in FIP pools\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for FIP pools policies\nas 'system' and 'project'\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Ica29330ac8c22a40bbf5e88ef554bbc44e1ac293\n""}]",0,741796,8c0d1acf6ea41adc3743a4e190eaf777188282c0,35,11,2,8556,,,0,"Introduce scope_types in FIP pools

Appropriate scope_type for nova case:
- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope

This commit introduce scope_type for FIP pools policies
as 'system' and 'project'

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: Ica29330ac8c22a40bbf5e88ef554bbc44e1ac293
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/741796/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/policies/floating_ip_pools.py'],1,3c0d6731a46c9a86190ec546b2db27e0b89f8e7d,bp/policy-defaults-refresh-deprecated-apis," name=BASE_POLICY_NAME, check_str=base.RULE_ADMIN_OR_OWNER, description=""List floating IP pools. This API is deprecated."", operations=[ ], scope_types=['system', 'project']),"," BASE_POLICY_NAME, base.RULE_ADMIN_OR_OWNER, ""List floating IP pools. This API is deprecated."", [ ]),",6,5
openstack%2Fironic~stable%2Fqueens~I3fe02bd88bcde567607b0d1992d85d98361516aa,openstack/ironic,stable/queens,I3fe02bd88bcde567607b0d1992d85d98361516aa,Disable the multinode job for queens,MERGED,2020-08-07 13:52:19.000000000,2020-08-07 21:26:54.000000000,2020-08-07 18:27:32.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 13:52:19.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/aa99108e85a71189b43e50bf0638ef2848606455', 'message': ""Disable the multinode job for queens\n\nWhile we would prefer it to be working and voting,\nwe seem to be fighting some sort of issue on multiple\nbranches where authentication is now failing without\nany real version change.\n\nGiven the age of this branch, and the real purpose just to\nprovide basic testing for older backports, we're disabling\nthe job at this time.\n\nChange-Id: I3fe02bd88bcde567607b0d1992d85d98361516aa\n""}]",0,745335,aa99108e85a71189b43e50bf0638ef2848606455,9,5,1,11655,,,0,"Disable the multinode job for queens

While we would prefer it to be working and voting,
we seem to be fighting some sort of issue on multiple
branches where authentication is now failing without
any real version change.

Given the age of this branch, and the real purpose just to
provide basic testing for older backports, we're disabling
the job at this time.

Change-Id: I3fe02bd88bcde567607b0d1992d85d98361516aa
",git fetch https://review.opendev.org/openstack/ironic refs/changes/35/745335/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,aa99108e85a71189b43e50bf0638ef2848606455,, - ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode: voting: false # - ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode, - ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode - ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode,3,2
openstack%2Fnova~master~I78283bcf7a0d188cadaf2eb9501af782deb33f88,openstack/nova,master,I78283bcf7a0d188cadaf2eb9501af782deb33f88,Add test coverage of multinic policies,MERGED,2020-07-21 23:36:44.000000000,2020-08-07 21:24:07.000000000,2020-08-07 19:30:32.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-21 23:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8c04952aaa1d5c0d51dbfa66cfcc983700a0c293', 'message': ""Add test coverage of multinic policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nTo adopt the keystone's scope_type and new defaults in deprecated\nAPI policies, we need to first write test coverage for the same to\nknow the complete effect of policies changes.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I78283bcf7a0d188cadaf2eb9501af782deb33f88\n""}, {'number': 2, 'created': '2020-07-22 00:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0e02b3a03e8abee86ae4fa1950f79bd05b76f78', 'message': ""Add test coverage of multinic policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nTo adopt the keystone's scope_type and new defaults in deprecated\nAPI policies, we need to first write test coverage for the same to\nknow the complete effect of policies changes.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I78283bcf7a0d188cadaf2eb9501af782deb33f88\n""}, {'number': 3, 'created': '2020-07-22 01:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d11bd9964373e026ad6a36535fa7854f3f18845', 'message': ""Add test coverage of multinic policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nTo adopt the keystone's scope_type and new defaults in deprecated\nAPI policies, we need to first write test coverage for the same to\nknow the complete effect of policies changes.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I78283bcf7a0d188cadaf2eb9501af782deb33f88\n""}, {'number': 4, 'created': '2020-07-22 02:17:54.000000000', 'files': ['nova/tests/unit/policies/test_multinic.py', 'nova/tests/unit/api/openstack/compute/test_multinic.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d9954df201f32d1a794229225de092b4545aa76b', 'message': ""Add test coverage of multinic policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nTo adopt the keystone's scope_type and new defaults in deprecated\nAPI policies, we need to first write test coverage for the same to\nknow the complete effect of policies changes.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I78283bcf7a0d188cadaf2eb9501af782deb33f88\n""}]",2,742315,d9954df201f32d1a794229225de092b4545aa76b,26,11,4,8556,,,0,"Add test coverage of multinic policies

Current tests do not have good test coverage of existing policies.
Either tests for policies do not exist or if they exist then they
do not cover the actual negative and positive testing.

To adopt the keystone's scope_type and new defaults in deprecated
API policies, we need to first write test coverage for the same to
know the complete effect of policies changes.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I78283bcf7a0d188cadaf2eb9501af782deb33f88
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/742315/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/policies/test_multinic.py'],1,8c04952aaa1d5c0d51dbfa66cfcc983700a0c293,bp/policy-defaults-refresh-deprecated-apis,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import fixtures import mock from oslo_utils.fixture import uuidsentinel as uuids from oslo_utils import timeutils from nova.api.openstack.compute import multinic from nova.compute import vm_states from nova.tests.unit.api.openstack import fakes from nova.tests.unit import fake_instance from nova.tests.unit.policies import base class MultinicPolicyTest(base.BasePolicyTest): """"""Test Multinic APIs policies with all possible context. This class defines the set of context with different roles which are allowed and not allowed to pass the policy checks. With those set of context, it will call the API operation and verify the expected behaviour. """""" def setUp(self): super(MultinicPolicyTest, self).setUp() self.controller = multinic.MultinicController() self.req = fakes.HTTPRequest.blank('') self.mock_get = self.useFixture( fixtures.MockPatch('nova.api.openstack.common.get_instance')).mock uuid = uuids.fake_id self.instance = fake_instance.fake_instance_obj( self.project_member_context, project_id=self.project_id, id=1, uuid=uuid, vm_state=vm_states.ACTIVE, task_state=None, launched_at=timeutils.utcnow()) self.mock_get.return_value = self.instance # Check that admin or owner is able to add/remove fixed ip. self.admin_or_owner_authorized_contexts = [ self.legacy_admin_context, self.system_admin_context, self.project_admin_context, self.project_member_context, self.project_reader_context, self.project_foo_context ] # Check that non-admin and non-owner is not able to add/remove # fixed ip. self.admin_or_owner_unauthorized_contexts = [ self.system_member_context, self.system_reader_context, self.system_foo_context, self.other_project_member_context ] @mock.patch('nova.compute.api.API.add_fixed_ip') def test_add_fixed_ip_policy(self, mock_add): rule_name = ""os_compute_api:os-multinic"" body = dict(addFixedIp=dict(networkId='test_net')) self.common_policy_check(self.admin_or_owner_authorized_contexts, self.admin_or_owner_unauthorized_contexts, rule_name, self.controller._add_fixed_ip, self.req, self.instance.uuid, body=body) @mock.patch('nova.compute.api.API.remove_fixed_ip') def test_remove_fixed_ip_policy(self, mock_add): rule_name = ""os_compute_api:os-multinic"" body = dict(removeFixedIp=dict(address='1.2.3.4')) self.common_policy_check(self.admin_or_owner_authorized_contexts, self.admin_or_owner_unauthorized_contexts, rule_name, self.controller._remove_fixed_ip, self.req, self.instance.uuid, body=body) class MultinicScopeTypePolicyTest(MultinicPolicyTest): """"""Test Multinic APIs policies with system scope enabled. This class set the nova.conf [oslo_policy] enforce_scope to True so that we can switch on the scope checking on oslo policy side. It defines the set of context with scoped token which are allowed and not allowed to pass the policy checks. With those set of context, it will run the API operation and verify the expected behaviour. """""" def setUp(self): super(MultinicScopeTypePolicyTest, self).setUp() self.flags(enforce_scope=True, group=""oslo_policy"") ",,94,0
openstack%2Ftripleo-docs~master~I8038a6ca4ad6ea02184195a4052a22d84a658fa2,openstack/tripleo-docs,master,I8038a6ca4ad6ea02184195a4052a22d84a658fa2,Add missing FreeIPA install steps,MERGED,2020-05-15 19:26:57.000000000,2020-08-07 20:30:20.000000000,2020-08-07 20:28:46.000000000,"[{'_account_id': 3153}, {'_account_id': 5046}, {'_account_id': 7353}, {'_account_id': 9954}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-05-15 19:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/4939165af0e9969b7d9b144c3a6a10038fd96c66', 'message': 'Add missing FreeIPA install steps\n\nWe need a couple of additional steps for the IPA setup.\n\nChange-Id: I8038a6ca4ad6ea02184195a4052a22d84a658fa2\n'}, {'number': 2, 'created': '2020-05-22 21:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/f52530a7df08bb990bb04786197c167c0a40777f', 'message': 'Add missing FreeIPA install steps\n\nWe need a couple of additional steps for the IPA setup.\n\nChange-Id: I8038a6ca4ad6ea02184195a4052a22d84a658fa2\n'}, {'number': 3, 'created': '2020-08-06 19:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/0691f02b991f5e2276d41bf7dbad536fa31f075b', 'message': 'Add missing FreeIPA install steps\n\nWe need a couple of additional steps for the IPA setup.\n\nChange-Id: I8038a6ca4ad6ea02184195a4052a22d84a658fa2\n'}, {'number': 4, 'created': '2020-08-06 19:42:32.000000000', 'files': ['deploy-guide/source/features/tls-introduction.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/f32bea5415d9d789e40a26eaf82a1154e02f21f1', 'message': 'Add missing FreeIPA install steps\n\nWe need a couple of additional steps for the IPA setup.\n\nChange-Id: I8038a6ca4ad6ea02184195a4052a22d84a658fa2\n'}]",2,728561,f32bea5415d9d789e40a26eaf82a1154e02f21f1,18,7,4,9914,,,0,"Add missing FreeIPA install steps

We need a couple of additional steps for the IPA setup.

Change-Id: I8038a6ca4ad6ea02184195a4052a22d84a658fa2
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/61/728561/4 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/tls-everywhere.rst'],1,4939165af0e9969b7d9b144c3a6a10038fd96c66,add_ipa_steps," Also, you will need to configure IPA to immediaely publish a CRL, and restart IPA.:: sed -i -e \ 's/ca.crl.MasterCRL.publishOnStart=.*/ca.crl.MasterCRL.publishOnStart=true/' \ /etc/pki/pki-tomcat/ca/CS.cfg systemctl restart ipa Finally, if your IPA server is not at 4.8.5 or higher, you will need to add an ACL to allow for the proper generation of certificates with a IP SAN.:: cat << EOF | ldapmodify -x -D ""cn=Directory Manager"" -w $DIRECTORY_MANAGER_PASSWORD dn: cn=dns,dc=redhat,dc=local changetype: modify add: aci aci: (targetattr = ""aaaarecord || arecord || cnamerecord || idnsname || objectclass || ptrrecord"")(targetfilter = ""(&(objectclass=idnsrecord)(|(aaaarecord=*)(arecord=*)(cnamerecord=*)(ptrrecord=*)(idnsZoneActive=TRUE)))"")(version 3.0; acl ""Allow hosts to read DNS A/AAA/CNAME/PTR records""; allow (read,search,compare) userdn = ""ldap:///fqdn=*,cn=computers,cn=accounts,dc=redhat,dc=local"";) EOF ",,19,0
openstack%2Fnova~master~I1efb4aec986cee3ab65aa80559e57b2a407ca444,openstack/nova,master,I1efb4aec986cee3ab65aa80559e57b2a407ca444,Pass the actual target in tenant networks policy,MERGED,2020-07-24 00:23:53.000000000,2020-08-07 20:27:51.000000000,2020-08-07 19:30:42.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 17887}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-24 00:23:53.000000000', 'files': ['nova/api/openstack/compute/tenant_networks.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3423d44c5e573da6d8ce7456b9843854f98723fa', 'message': ""Pass the actual target in tenant networks policy\n\nCurrently if target is not passed in context.can(),\nit use defauls target which is context.user_id, context.project_id.\nThese defaults target are not useful as it pass the\ncontext's user_id and project_id only which means we tell\noslo policy to verify the context data with context data.\n\nThis commit pass the actual target for tenant networks policies\nwhich is context.project_id itself as nova cannot verify the owner of\nnetwork. Neutron will return the authorise error is requester is not\nowner of network.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I1efb4aec986cee3ab65aa80559e57b2a407ca444\n""}]",0,742772,3423d44c5e573da6d8ce7456b9843854f98723fa,38,15,1,8556,,,0,"Pass the actual target in tenant networks policy

Currently if target is not passed in context.can(),
it use defauls target which is context.user_id, context.project_id.
These defaults target are not useful as it pass the
context's user_id and project_id only which means we tell
oslo policy to verify the context data with context data.

This commit pass the actual target for tenant networks policies
which is context.project_id itself as nova cannot verify the owner of
network. Neutron will return the authorise error is requester is not
owner of network.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I1efb4aec986cee3ab65aa80559e57b2a407ca444
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/742772/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/tenant_networks.py'],1,3423d44c5e573da6d8ce7456b9843854f98723fa,bp/policy-defaults-refresh-deprecated-apis," context.can(tn_policies.POLICY_NAME % 'list', target={'project_id': context.project_id}) context.can(tn_policies.POLICY_NAME % 'show', target={'project_id': context.project_id})", context.can(tn_policies.POLICY_NAME % 'list') context.can(tn_policies.POLICY_NAME % 'show'),4,2
openstack%2Ftripleo-ansible~stable%2Fussuri~I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b,openstack/tripleo-ansible,stable/ussuri,I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b,Scan existing controllers on update to pick up existing certs/private keys,MERGED,2020-07-31 14:35:40.000000000,2020-08-07 20:15:09.000000000,2020-08-07 20:15:09.000000000,"[{'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-07-31 14:35:40.000000000', 'files': ['tripleo_ansible/roles/octavia_overcloud_config/tasks/main.yml', 'tripleo_ansible/playbooks/octavia-files.yaml', 'tripleo_ansible/roles/octavia_controller_check/meta/main.yml', 'tripleo_ansible/roles/octavia-controller-check', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/check_existing_certs.yml', 'tripleo_ansible/roles/octavia_controller_check/tasks/main.yml', 'tripleo_ansible/roles/octavia_controller_config/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2e5be7b96859d1eff7c2680c6780e3ac27c6dd63', 'message': 'Scan existing controllers on update to pick up existing certs/private keys\n\nAdds an octavia related role to pick up CA (cert and private key pairs)\nand client certificate from controllers and modifies existing roles to\nuse them instead of generating new ones.\n\nDepends-On: https://review.opendev.org/744183\n\nChange-Id: I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b\nCo-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>\nRelated-Bug: #1849548\nRelated-Bug: #1849550\n(cherry picked from commit d3e7a42cdad6a12d63afd23906cffe081f036745)\n'}]",2,744184,2e5be7b96859d1eff7c2680c6780e3ac27c6dd63,13,6,1,29244,,,0,"Scan existing controllers on update to pick up existing certs/private keys

Adds an octavia related role to pick up CA (cert and private key pairs)
and client certificate from controllers and modifies existing roles to
use them instead of generating new ones.

Depends-On: https://review.opendev.org/744183

Change-Id: I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b
Co-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>
Related-Bug: #1849548
Related-Bug: #1849550
(cherry picked from commit d3e7a42cdad6a12d63afd23906cffe081f036745)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/84/744184/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/octavia_overcloud_config/tasks/main.yml', 'tripleo_ansible/playbooks/octavia-files.yaml', 'tripleo_ansible/roles/octavia_controller_check/meta/main.yml', 'tripleo_ansible/roles/octavia-controller-check', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/check_existing_certs.yml', 'tripleo_ansible/roles/octavia_controller_check/tasks/main.yml', 'tripleo_ansible/roles/octavia_controller_config/tasks/main.yml']",7,2e5be7b96859d1eff7c2680c6780e3ac27c6dd63,,"# Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - generate_certs | bool - update_certs | bool", - private_key_content|length > 0 - ca_cert_content|length > 0 - service_pem_content|length > 0,226,3
openstack%2Fpatrole~master~I58359093054d68373d4585f93131756b21096bc7,openstack/patrole,master,I58359093054d68373d4585f93131756b21096bc7,Shorten Identity project name due to 64 char limit.,ABANDONED,2020-08-02 16:18:20.000000000,2020-08-07 19:49:00.000000000,,"[{'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}, {'_account_id': 26365}, {'_account_id': 30690}, {'_account_id': 30745}]","[{'number': 1, 'created': '2020-08-02 16:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/5fd6ab3d919a50fbcd3dc3f410ea07e5d5479940', 'message': 'Shorten Identity project name due to 64 char limit.\n\nRemoved -testproject from identity project created using\nsetup_test_project since rand_name it already has tempest-\nin front of the name. Adding -testproject to a project\nprovides no additional value on a name with restricted size limit.\n\nOur downstream tooling we replace tempest- with shorter word\nand unique id to find project, global and orphaned project resources\nin test and production site. This will allow us to find resource\nleaks and submit upstream corrections.\n\nChange-Id: I58359093054d68373d4585f93131756b21096bc7\n'}, {'number': 2, 'created': '2020-08-02 19:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/0c0263e62496391a6f9981ffb70826ed8a7397a9', 'message': 'Shorten Identity project name due to 64 char limit.\n\nRemoved -testproject from identity project created using\nsetup_test_project since rand_name it already has tempest-\nin front of the name. Adding -testproject to a project\nprovides no additional value on a name with restricted size limit.\n\nOur downstream tooling we replace tempest- with shorter word\nand unique id to find project, global and orphaned project resources\nin test and production site. This will allow us to find resource\nleaks and submit upstream corrections.\n\nAlso had to add mock to test-requirements.txt since patrole extends\ntempest tests base.py I  will submit a change to tempest to use\nunittest mock that is in 3.3 on and delete the mock in tempest\nand when the next tempest in pypi I will delete the this mock for\nunittest mock.\nChange-Id: I58359093054d68373d4585f93131756b21096bc7\n'}, {'number': 3, 'created': '2020-08-02 19:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/e6bec71add5a5930b577488e5da18cb274d67021', 'message': 'Shorten Identity project name due to 64 char limit.\n\nRemoved -testproject from identity project created using\nsetup_test_project since rand_name it already has tempest-\nin front of the name. Adding -testproject to a project\nprovides no additional value on a name with restricted size limit.\n\nOur downstream tooling we replace tempest- with shorter word\nand unique id to find project, global and orphaned project resources\nin test and production site. This will allow us to find resource\nleaks and submit upstream corrections.\n\nAlso had to add mock to test-requirements.txt since patrole extends\ntempest tests base.py and the greatest version of tempest 24.0.0\nimport mock library and does not used unittest mock class.\nThe current tempest master supports unittest mock but it is not in\npypi at thie time.\n\nChange-Id: I58359093054d68373d4585f93131756b21096bc7\n'}, {'number': 4, 'created': '2020-08-02 19:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/305e3fdd17ba3142c70b7a6988160e38b5b49e5e', 'message': 'Shorten Identity project name due to 64 char limit.\n\nRemoved -testproject from identity project created using\nsetup_test_project since rand_name it already has tempest-\nin front of the name. Adding -testproject to a project\nprovides no additional value on a name with restricted size limit.\n\nOur downstream tooling we replace tempest- with shorter word\nand unique id to find project, global and orphaned project resources\nin test and production site. This will allow us to find resource\nleaks and submit upstream corrections.\n\nAlso had to add mock to test-requirements.txt since patrole extends\ntempest tests base.py and the greatest version of tempest 24.0.0\nimport mock library and does not used unittest mock class.\nThe current tempest master supports unittest mock but it is not in\npypi at thie time.\n\nChange-Id: I58359093054d68373d4585f93131756b21096bc7\n'}, {'number': 5, 'created': '2020-08-02 23:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/7ee551fd5d8ee919228f7f7c4a00df4fa99c212e', 'message': 'Shorten Identity project name due to 64 char limit.\n\nRemoved -testproject from identity project created using\nsetup_test_project since rand_name it already has tempest-\nin front of the name. Adding -testproject to a project\nprovides no additional value on a name with restricted size limit.\n\nOur downstream tooling we replace tempest- with shorter word\nand unique id to find project, global and orphaned project resources\nin test and production site. This will allow us to find resource\nleaks and submit upstream corrections.\n\nAlso had to add mock to test-requirements.txt since patrole extends\ntempest tests base.py and the greatest version of tempest 24.0.0\nimport mock library and does not used unittest mock class.\nThe current tempest master supports unittest mock but it is not in\npypi at thie time.\n\nChange-Id: I58359093054d68373d4585f93131756b21096bc7\n'}, {'number': 6, 'created': '2020-08-03 11:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/2ec77604f232c228a623de19bb39020878b3bde4', 'message': 'Shorten Identity project name due to 64 char limit.\n\nRemoved -testproject from identity project created using\nsetup_test_project since rand_name it already has tempest-\nin front of the name. Adding -testproject to a project\nprovides no additional value on a name with restricted size limit.\n\nOur downstream tooling we replace tempest- with shorter word\nand unique id to find project, global and orphaned project resources\nin test and production site. This will allow us to find resource\nleaks and submit upstream corrections.\n\nAlso had to add mock to test-requirements.txt since patrole extends\ntempest tests base.py and the greatest version of tempest 24.0.0\ndo not pip install mock it is only in tempest test-requirements.txt\nSo I rebase off gmann change to correct mock.\n\nHaving issue with _image_store_file on all calls so trying to remove\nsix wrapper\n\nChange-Id: I58359093054d68373d4585f93131756b21096bc7\n'}, {'number': 7, 'created': '2020-08-03 14:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/aaf822aada0b64753916088d5d319c046174042b', 'message': 'Shorten Identity project name due to 64 char limit.\n\nRemoved -testproject from identity project created using\nsetup_test_project since rand_name it already has tempest-\nin front of the name. Adding -testproject to a project\nprovides no additional value on a name with restricted size limit.\n\nAlso removing -test_domain and -test_update_domain sufix from\ndomain name since they have a 64 char limit also.  Thisshould\nbe the last ones from our testing.\n\nOur downstream tooling we replace tempest- with shorter word\nand unique id to find project, global and orphaned project resources\nin test and production site. This will allow us to find resource\nleaks and submit upstream corrections.\n\nAlso had to add mock to test-requirements.txt since patrole extends\ntempest tests base.py and the greatest version of tempest 24.0.0\ndo not pip install mock it is only in tempest test-requirements.txt\nSo I rebase off gmann change to correct mock.\n\nChange-Id: I58359093054d68373d4585f93131756b21096bc7\n'}, {'number': 8, 'created': '2020-08-03 15:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/5f99ffe2973f0ff6f23f3f26c23453de47252efe', 'message': 'Shorten Identity project name due to 64 char limit.\n\nRemoved -testproject from identity project created using\nsetup_test_project since rand_name it already has tempest-\nin front of the name. Adding -testproject to a project\nprovides no additional value on a name with restricted size limit.\n\nAlso removing -test_domain and -test_update_domain sufix from\ndomain name since they have a 64 char limit also.  Thisshould\nbe the last ones from our testing.\n\nremove -IdentityCosumer from test.\n\nOur downstream tooling we replace tempest- with shorter word\nand unique id to find project, global and orphaned project resources\nin test and production site. This will allow us to find resource\nleaks and submit upstream corrections.\n\nAlso had to add mock to test-requirements.txt since patrole extends\ntempest tests base.py and the greatest version of tempest 24.0.0\ndo not pip install mock it is only in tempest test-requirements.txt\nSo I rebase off gmann change to correct mock.\n\nChange-Id: I58359093054d68373d4585f93131756b21096bc7\n'}, {'number': 9, 'created': '2020-08-04 20:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/c086d3b70bc5e7485ce7b01547d8a31efe1647e8', 'message': 'Shorten Identity project name due to 64 char limit.\n\nRemoved -testproject from identity project created using\nsetup_test_project since rand_name it already has tempest-\nin front of the name. Adding -testproject to a project\nprovides no additional value on a name with restricted size limit.\n\nAlso removing -test_domain and -test_update_domain sufix from\ndomain name since they have a 64 char limit also.  Thisshould\nbe the last ones from our testing.\n\nremove -IdentityCosumer from test.\n\nOur downstream tooling we replace tempest- with shorter word\nand unique id to find project, global and orphaned project resources\nin test and production site. This will allow us to find resource\nleaks and submit upstream corrections.\n\nAlso had to add mock to test-requirements.txt since patrole extends\ntempest tests base.py and the greatest version of tempest 24.0.0\ndo not pip install mock it is only in tempest test-requirements.txt\nSo I rebase off gmann change to correct mock.\n\nChange-Id: I58359093054d68373d4585f93131756b21096bc7\n'}, {'number': 10, 'created': '2020-08-04 22:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/8c038bbc030f3cd380e78adeada4ef37101bd002', 'message': 'Shorten Identity project name due to 64 char limit.\n\nRemoved -testproject from identity project created using\nsetup_test_project since rand_name it already has tempest-\nin front of the name. Adding -testproject to a project\nprovides no additional value on a name with restricted size limit.\n\nAlso removing -test_domain and -test_update_domain sufix from\ndomain name since they have a 64 char limit also.\n\nremove -IdentityCosumer from test test_oauth_consumers_rbac.py.\n\nOur downstream tooling we replace tempest- with shorter word\nand unique id to find project, global and orphaned project resources\nin test and production site. This will allow us to find resource\nleaks and submit upstream corrections.\n\nAlso had to add mock to test-requirements.txt since patrole extends\ntempest tests base.py and the greatest version of tempest 24.0.0\ndo not pip install mock it is only in tempest test-requirements.txt\nSo I rebase off gmann change to correct mock.\n\nChange-Id: I58359093054d68373d4585f93131756b21096bc7\nDepends-On: https://review.opendev.org/#/c/743064\n'}, {'number': 11, 'created': '2020-08-06 00:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/5f13eb2b14d7ec8986c068a5d9861fbed7f9c92e', 'message': 'Shorten Identity project name due to 64 char limit.\n\nDNM Trying to get the train gates running\nRemoved -testproject from identity project created using\nsetup_test_project since rand_name it already has tempest-\nin front of the name. Adding -testproject to a project\nprovides no additional value on a name with restricted size limit.\n\nAlso removing -test_domain and -test_update_domain sufix from\ndomain name since they have a 64 char limit also.\n\nremove -IdentityCosumer from test test_oauth_consumers_rbac.py.\n\nOur downstream tooling we replace tempest- with shorter word\nand unique id to find project, global and orphaned project resources\nin test and production site. This will allow us to find resource\nleaks and submit upstream corrections.\n\nAlso had to add mock to test-requirements.txt since patrole extends\ntempest tests base.py and the greatest version of tempest 24.0.0\ndo not pip install mock it is only in tempest test-requirements.txt\nSo I rebase off gmann change to correct mock.\n\nChange-Id: I58359093054d68373d4585f93131756b21096bc7\nDepends-On: https://review.opendev.org/#/c/743064\n'}, {'number': 12, 'created': '2020-08-06 01:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/cf9ceca59748c36cf2ede5aa405db4928409b31d', 'message': 'Shorten Identity project name due to 64 char limit.\n\nRemoved -testproject from identity project created using\nsetup_test_project since rand_name it already has tempest-\nin front of the name. Adding -testproject to a project\nprovides no additional value on a name with restricted size limit.\n\nAlso removing -test_domain and -test_update_domain sufix from\ndomain name since they have a 64 char limit also.\n\nremove -IdentityCosumer from test test_oauth_consumers_rbac.py.\n\nOur downstream tooling we replace tempest- with shorter word\nand unique id to find project, global and orphaned project resources\nin test and production site. This will allow us to find resource\nleaks and submit upstream corrections.\n\nAlso had to add mock to test-requirements.txt since patrole extends\ntempest tests base.py and the greatest version of tempest 24.0.0\ndo not pip install mock it is only in tempest test-requirements.txt\nSo I rebase off gmann change to correct mock.\n\nhad to set low requirements for pyOpenSSL to 19.1.0 to fix bytearry\nissue in 19.0.0 https://pypi.org/project/pyOpenSSL/19.1.0/\n\nChange-Id: I58359093054d68373d4585f93131756b21096bc7\nDepends-On: https://review.opendev.org/#/c/743064\n'}, {'number': 13, 'created': '2020-08-06 23:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/4233513b38ba3ccb32a4d52a7deb2203b67aa0e2', 'message': 'Shorten Identity project name due to 64 char limit.\n\nRemoved -testproject from identity project created using\nsetup_test_project since rand_name it already has tempest-\nin front of the name. Adding -testproject to a project\nprovides no additional value on a name with restricted size limit.\n\nAlso removing -test_domain and -test_update_domain sufix from\ndomain name since they have a 64 char limit also.\n\nremove -IdentityCosumer from test test_oauth_consumers_rbac.py.\n\nOur downstream tooling we replace tempest- with shorter word\nand unique id to find project, global and orphaned project resources\nin test and production site. This will allow us to find resource\nleaks and submit upstream corrections.\n\nAlso had to add mock to test-requirements.txt since patrole extends\ntempest tests base.py and the greatest version of tempest 24.0.0\ndo not pip install mock it is only in tempest test-requirements.txt\nSo I rebase off gmann change to correct mock.\n\nTrying to get around the train and stein gate issue\n\nChange-Id: I58359093054d68373d4585f93131756b21096bc7\nDepends-On: https://review.opendev.org/#/c/743064\n'}, {'number': 14, 'created': '2020-08-07 02:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/ab0a0afb34b9d933bdfc3b1a6f00b01812740b43', 'message': 'Shorten Identity project name due to 64 char limit.\n\nRemoved -testproject from identity project created using\nsetup_test_project since rand_name it already has tempest-\nin front of the name. Adding -testproject to a project\nprovides no additional value on a name with restricted size limit.\n\nAlso removing -test_domain and -test_update_domain sufix from\ndomain name since they have a 64 char limit also.\n\nremove -IdentityCosumer from test test_oauth_consumers_rbac.py.\n\nOur downstream tooling we replace tempest- with shorter word\nand unique id to find project, global and orphaned project resources\nin test and production site. This will allow us to find resource\nleaks and submit upstream corrections.\n\nAlso had to add mock to test-requirements.txt since patrole extends\ntempest tests base.py and the greatest version of tempest 24.0.0\ndo not pip install mock it is only in tempest test-requirements.txt\nSo I rebase off gmann change to correct mock.\n\nTrying to get around the train and stein gate issue\n\nChange-Id: I58359093054d68373d4585f93131756b21096bc7\nDepends-On: https://review.opendev.org/#/c/743064\n'}, {'number': 15, 'created': '2020-08-07 03:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/aeff226cd7faa2cc8f8ff25d8b64fe8527d4f3b0', 'message': 'Shorten Identity project name due to 64 char limit.\n\nRemoved -testproject from identity project created using\nsetup_test_project since rand_name it already has tempest-\nin front of the name. Adding -testproject to a project\nprovides no additional value on a name with restricted size limit.\n\nAlso removing -test_domain and -test_update_domain sufix from\ndomain name since they have a 64 char limit also.\n\nremove -IdentityCosumer from test test_oauth_consumers_rbac.py.\n\nOur downstream tooling we replace tempest- with shorter word\nand unique id to find project, global and orphaned project resources\nin test and production site. This will allow us to find resource\nleaks and submit upstream corrections.\n\nAlso had to add mock to test-requirements.txt since patrole extends\ntempest tests base.py and the greatest version of tempest 24.0.0\ndo not pip install mock it is only in tempest test-requirements.txt\nSo I rebase off gmann change to correct mock.\n\nTrying to get around the train and stein gate issue\n\nChange-Id: I58359093054d68373d4585f93131756b21096bc7\nDepends-On: https://review.opendev.org/#/c/743064\n'}, {'number': 16, 'created': '2020-08-07 03:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/ec63d0cca8ffdc19fc8ffc00557c130bfb73edd9', 'message': 'Shorten Identity project name due to 64 char limit.\n\nRemoved -testproject from identity project created using\nsetup_test_project since rand_name it already has tempest-\nin front of the name. Adding -testproject to a project\nprovides no additional value on a name with restricted size limit.\n\nAlso removing -test_domain and -test_update_domain sufix from\ndomain name since they have a 64 char limit also.\n\nremove -IdentityCosumer from test test_oauth_consumers_rbac.py.\n\nOur downstream tooling we replace tempest- with shorter word\nand unique id to find project, global and orphaned project resources\nin test and production site. This will allow us to find resource\nleaks and submit upstream corrections.\n\nAlso had to add mock to test-requirements.txt since patrole extends\ntempest tests base.py and the greatest version of tempest 24.0.0\ndo not pip install mock it is only in tempest test-requirements.txt\nSo I rebase off gmann change to correct mock.\n\nTrying to get around the train and stein gate issue\n\nChange-Id: I58359093054d68373d4585f93131756b21096bc7\nDepends-On: https://review.opendev.org/#/c/743064\n'}, {'number': 17, 'created': '2020-08-07 03:06:50.000000000', 'files': ['patrole_tempest_plugin/tests/api/identity/rbac_base.py', 'patrole_tempest_plugin/tests/api/compute/test_quota_class_sets_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_oauth_consumers_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_quota_sets_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_domains_rbac.py', 'patrole_tempest_plugin/tests/api/image/test_images_rbac.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/6b020107e4390f0e2a929599958a0bcaf09dc528', 'message': 'Shorten Identity project name due to 64 char limit.\n\nRemoved -testproject from identity project created using\nsetup_test_project since rand_name it already has tempest-\nin front of the name. Adding -testproject to a project\nprovides no additional value on a name with restricted size limit.\n\nAlso removing -test_domain and -test_update_domain sufix from\ndomain name since they have a 64 char limit also.\n\nremove -IdentityCosumer from test test_oauth_consumers_rbac.py.\n\nOur downstream tooling we replace tempest- with shorter word\nand unique id to find project, global and orphaned project resources\nin test and production site. This will allow us to find resource\nleaks and submit upstream corrections.\n\nAlso had to add mock to test-requirements.txt since patrole extends\ntempest tests base.py and the greatest version of tempest 24.0.0\ndo not pip install mock it is only in tempest test-requirements.txt\nSo I rebase off gmann change to correct mock.\n\nTrying to get around the train and stein gate issue\n\nChange-Id: I58359093054d68373d4585f93131756b21096bc7\nDepends-On: https://review.opendev.org/#/c/743064\n'}]",2,744378,6b020107e4390f0e2a929599958a0bcaf09dc528,44,14,17,17887,,,0,"Shorten Identity project name due to 64 char limit.

Removed -testproject from identity project created using
setup_test_project since rand_name it already has tempest-
in front of the name. Adding -testproject to a project
provides no additional value on a name with restricted size limit.

Also removing -test_domain and -test_update_domain sufix from
domain name since they have a 64 char limit also.

remove -IdentityCosumer from test test_oauth_consumers_rbac.py.

Our downstream tooling we replace tempest- with shorter word
and unique id to find project, global and orphaned project resources
in test and production site. This will allow us to find resource
leaks and submit upstream corrections.

Also had to add mock to test-requirements.txt since patrole extends
tempest tests base.py and the greatest version of tempest 24.0.0
do not pip install mock it is only in tempest test-requirements.txt
So I rebase off gmann change to correct mock.

Trying to get around the train and stein gate issue

Change-Id: I58359093054d68373d4585f93131756b21096bc7
Depends-On: https://review.opendev.org/#/c/743064
",git fetch https://review.opendev.org/openstack/patrole refs/changes/78/744378/10 && git format-patch -1 --stdout FETCH_HEAD,['patrole_tempest_plugin/tests/api/identity/rbac_base.py'],1,5fd6ab3d919a50fbcd3dc3f410ea07e5d5479940,," name=data_utils.rand_name(cls.__name__),"," name=data_utils.rand_name( cls.__name__ + '-testproject'),",1,2
openstack%2Fpython-openstackclient~stable%2Fstein~Ib878982b1d469212ca3483dcfaf407a8e1d2b417,openstack/python-openstackclient,stable/stein,Ib878982b1d469212ca3483dcfaf407a8e1d2b417,Fix openstack server list --deleted --marker option,MERGED,2020-01-13 17:05:19.000000000,2020-08-07 19:41:15.000000000,2020-08-07 19:41:01.000000000,"[{'_account_id': 2}, {'_account_id': 970}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 14892}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-13 17:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bb3628461ab93cdc820fc13df3ffc8ccdb791ae9', 'message': 'Fix openstack server list --deleted --marker option\n\nThis patch removes using the ""name"" option for a marker when\n--deleted is also used. The find_resource() function\nthat is being called does not correctly handle using the marker\nas the ""name"" in the search when also using deleted=True.\nOne simple way to fix this is force the marker to only be an ID\nwhen --deleted is used. This is how the nova client works.\n\nUsing the --deleted option is available to users with the admin\nrole by default. If you\'re an admin listing --deleted servers\nwith a marker by name, find_resource() is going to fail to find\nit since it doesn\'t apply the --deleted filter to find_resource().\n\nThe find_resource() function is trying to find the marker server\nby name if it\'s not found by id, and to find it by name it\'s\nlisting servers with the given marker as the name, but not\napplying the --deleted filter so it doesn\'t get back any results.\n\nIn the story it was suggested modifying find_resource to include\nthe deleted query param when it\'s specified on the command line but\nthat didn\'t work because it still results in something like this:\n\nhttp://192.168.1.123/compute/v2.1/servers?deleted=True&name=4cecd49f-bc25-4a7e-826e-4aea6f9267d9\n\nIt seems like there are bugs in find_resource().\n\nRestricting the marker to be the server ID when listing deleted servers\nis probably OK since if you\'re using --deleted you\'re an admin and you could\nbe listing across all projects and if you\'re filtering by a server across all\nprojects anyway (not that you have to, I\'m just saying if you are), or even\nshowing a server in another project, you have to do it by id rather than name\nbecause find_resource() won\'t find the server in another project by name, only ID.\n\nstory: 2006761\nTask: 37258\n\nChange-Id: Ib878982b1d469212ca3483dcfaf407a8e1d2b417\n(cherry picked from commit f5384ae16a24cdd54149fa21827d14b8b8983d4f)\n'}, {'number': 2, 'created': '2020-01-20 17:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c25302ae97211544a4fc1d3cafed2f55fdc5c364', 'message': 'Fix openstack server list --deleted --marker option\n\nThis patch removes using the ""name"" option for a marker when\n--deleted is also used. The find_resource() function\nthat is being called does not correctly handle using the marker\nas the ""name"" in the search when also using deleted=True.\nOne simple way to fix this is force the marker to only be an ID\nwhen --deleted is used. This is how the nova client works.\n\nUsing the --deleted option is available to users with the admin\nrole by default. If you\'re an admin listing --deleted servers\nwith a marker by name, find_resource() is going to fail to find\nit since it doesn\'t apply the --deleted filter to find_resource().\n\nThe find_resource() function is trying to find the marker server\nby name if it\'s not found by id, and to find it by name it\'s\nlisting servers with the given marker as the name, but not\napplying the --deleted filter so it doesn\'t get back any results.\n\nIn the story it was suggested modifying find_resource to include\nthe deleted query param when it\'s specified on the command line but\nthat didn\'t work because it still results in something like this:\n\nhttp://192.168.1.123/compute/v2.1/servers?deleted=True&name=4cecd49f-bc25-4a7e-826e-4aea6f9267d9\n\nIt seems like there are bugs in find_resource().\n\nRestricting the marker to be the server ID when listing deleted servers\nis probably OK since if you\'re using --deleted you\'re an admin and you could\nbe listing across all projects and if you\'re filtering by a server across all\nprojects anyway (not that you have to, I\'m just saying if you are), or even\nshowing a server in another project, you have to do it by id rather than name\nbecause find_resource() won\'t find the server in another project by name, only ID.\n\nstory: 2006761\nTask: 37258\n\nChange-Id: Ib878982b1d469212ca3483dcfaf407a8e1d2b417\n(cherry picked from commit f5384ae16a24cdd54149fa21827d14b8b8983d4f)\n'}, {'number': 3, 'created': '2020-01-21 19:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a401e0993cd20eaba4fe273bb3161dde4f19ab9e', 'message': 'Fix openstack server list --deleted --marker option\n\nThis patch removes using the ""name"" option for a marker when\n--deleted is also used. The find_resource() function\nthat is being called does not correctly handle using the marker\nas the ""name"" in the search when also using deleted=True.\nOne simple way to fix this is force the marker to only be an ID\nwhen --deleted is used. This is how the nova client works.\n\nUsing the --deleted option is available to users with the admin\nrole by default. If you\'re an admin listing --deleted servers\nwith a marker by name, find_resource() is going to fail to find\nit since it doesn\'t apply the --deleted filter to find_resource().\n\nThe find_resource() function is trying to find the marker server\nby name if it\'s not found by id, and to find it by name it\'s\nlisting servers with the given marker as the name, but not\napplying the --deleted filter so it doesn\'t get back any results.\n\nIn the story it was suggested modifying find_resource to include\nthe deleted query param when it\'s specified on the command line but\nthat didn\'t work because it still results in something like this:\n\nhttp://192.168.1.123/compute/v2.1/servers?deleted=True&name=4cecd49f-bc25-4a7e-826e-4aea6f9267d9\n\nIt seems like there are bugs in find_resource().\n\nRestricting the marker to be the server ID when listing deleted servers\nis probably OK since if you\'re using --deleted you\'re an admin and you could\nbe listing across all projects and if you\'re filtering by a server across all\nprojects anyway (not that you have to, I\'m just saying if you are), or even\nshowing a server in another project, you have to do it by id rather than name\nbecause find_resource() won\'t find the server in another project by name, only ID.\n\nstory: 2006761\nTask: 37258\n\nChange-Id: Ib878982b1d469212ca3483dcfaf407a8e1d2b417\n(cherry picked from commit f5384ae16a24cdd54149fa21827d14b8b8983d4f)\n'}, {'number': 4, 'created': '2020-01-21 21:56:37.000000000', 'files': ['releasenotes/notes/bug-2006761-9041d1b25e845cfb.yaml', 'openstackclient/tests/functional/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3b48ef54c8ad205dd086520cc17e4f96583e88ec', 'message': 'Fix openstack server list --deleted --marker option\n\nThis patch removes using the ""name"" option for a marker when\n--deleted is also used. The find_resource() function\nthat is being called does not correctly handle using the marker\nas the ""name"" in the search when also using deleted=True.\nOne simple way to fix this is force the marker to only be an ID\nwhen --deleted is used. This is how the nova client works.\n\nUsing the --deleted option is available to users with the admin\nrole by default. If you\'re an admin listing --deleted servers\nwith a marker by name, find_resource() is going to fail to find\nit since it doesn\'t apply the --deleted filter to find_resource().\n\nThe find_resource() function is trying to find the marker server\nby name if it\'s not found by id, and to find it by name it\'s\nlisting servers with the given marker as the name, but not\napplying the --deleted filter so it doesn\'t get back any results.\n\nIn the story it was suggested modifying find_resource to include\nthe deleted query param when it\'s specified on the command line but\nthat didn\'t work because it still results in something like this:\n\nhttp://192.168.1.123/compute/v2.1/servers?deleted=True&name=4cecd49f-bc25-4a7e-826e-4aea6f9267d9\n\nIt seems like there are bugs in find_resource().\n\nRestricting the marker to be the server ID when listing deleted servers\nis probably OK since if you\'re using --deleted you\'re an admin and you could\nbe listing across all projects and if you\'re filtering by a server across all\nprojects anyway (not that you have to, I\'m just saying if you are), or even\nshowing a server in another project, you have to do it by id rather than name\nbecause find_resource() won\'t find the server in another project by name, only ID.\n\nstory: 2006761\nTask: 37258\n\nThe server test case was removed from the cherry-pick as it used\nfeatures of the openstack client that are not in stable/stein\n\nChange-Id: Ib878982b1d469212ca3483dcfaf407a8e1d2b417\n(cherry picked from commit c42c27aa926e93a2507e686eeaf0c5510a29d245)\n'}]",3,702260,3b48ef54c8ad205dd086520cc17e4f96583e88ec,23,9,4,14892,,,0,"Fix openstack server list --deleted --marker option

This patch removes using the ""name"" option for a marker when
--deleted is also used. The find_resource() function
that is being called does not correctly handle using the marker
as the ""name"" in the search when also using deleted=True.
One simple way to fix this is force the marker to only be an ID
when --deleted is used. This is how the nova client works.

Using the --deleted option is available to users with the admin
role by default. If you're an admin listing --deleted servers
with a marker by name, find_resource() is going to fail to find
it since it doesn't apply the --deleted filter to find_resource().

The find_resource() function is trying to find the marker server
by name if it's not found by id, and to find it by name it's
listing servers with the given marker as the name, but not
applying the --deleted filter so it doesn't get back any results.

In the story it was suggested modifying find_resource to include
the deleted query param when it's specified on the command line but
that didn't work because it still results in something like this:

http://192.168.1.123/compute/v2.1/servers?deleted=True&name=4cecd49f-bc25-4a7e-826e-4aea6f9267d9

It seems like there are bugs in find_resource().

Restricting the marker to be the server ID when listing deleted servers
is probably OK since if you're using --deleted you're an admin and you could
be listing across all projects and if you're filtering by a server across all
projects anyway (not that you have to, I'm just saying if you are), or even
showing a server in another project, you have to do it by id rather than name
because find_resource() won't find the server in another project by name, only ID.

story: 2006761
Task: 37258

The server test case was removed from the cherry-pick as it used
features of the openstack client that are not in stable/stein

Change-Id: Ib878982b1d469212ca3483dcfaf407a8e1d2b417
(cherry picked from commit c42c27aa926e93a2507e686eeaf0c5510a29d245)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/60/702260/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-2006761-9041d1b25e845cfb.yaml', 'openstackclient/tests/functional/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",3,bb3628461ab93cdc820fc13df3ffc8ccdb791ae9,fix_server_list," 'specified. When used with ``--deleted``, the marker must ' 'be an ID, otherwise a name or ID can be used.'), if parsed_args.marker: # Check if both ""--marker"" and ""--deleted"" are used. # In that scenario a lookup is not needed as the marker # needs to be an ID, because find_resource does not # handle deleted resources if parsed_args.deleted: marker_id = parsed_args.marker else: marker_id = utils.find_resource(compute_client.servers, parsed_args.marker).id"," 'specified. (name or ID)') if parsed_args.marker: marker_id = utils.find_resource(compute_client.servers, parsed_args.marker).id",141,3
openstack%2Fglance~master~Ibeea8a93f140f35daa47024d07ad806162ff690d,openstack/glance,master,Ibeea8a93f140f35daa47024d07ad806162ff690d,Fix non-deterministic copy_image_revert_lifecycle test,MERGED,2020-08-07 17:09:44.000000000,2020-08-07 19:40:53.000000000,2020-08-07 19:38:41.000000000,"[{'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 17:09:44.000000000', 'files': ['glance/tests/functional/v2/test_images.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/5a7fb9db6e4df30253f3f1f3a55f0746fc9dee39', 'message': ""Fix non-deterministic copy_image_revert_lifecycle test\n\nThis test is failing fairly often in zuul. The test attempts to delete\none of the stores while the import is happening to simulate a failure\nand ensure that the first store is not reverted. This can race and fail\nto delete before the task completes. Instead, if we just delete the\nstore directory before the import, we know that when the flow gets to\nthe second store's step, it will fail to write the image, giving the same\nresult, reliably.\n\nChange-Id: Ibeea8a93f140f35daa47024d07ad806162ff690d\n""}]",0,745379,5a7fb9db6e4df30253f3f1f3a55f0746fc9dee39,14,4,1,4393,,,0,"Fix non-deterministic copy_image_revert_lifecycle test

This test is failing fairly often in zuul. The test attempts to delete
one of the stores while the import is happening to simulate a failure
and ensure that the first store is not reverted. This can race and fail
to delete before the task completes. Instead, if we just delete the
store directory before the import, we know that when the flow gets to
the second store's step, it will fail to write the image, giving the same
result, reliably.

Change-Id: Ibeea8a93f140f35daa47024d07ad806162ff690d
",git fetch https://review.opendev.org/openstack/glance refs/changes/79/745379/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/functional/v2/test_images.py'],1,5a7fb9db6e4df30253f3f1f3a55f0746fc9dee39,test-fixes," # NOTE(abhishekk): Deleting file3 image directory to trigger the # failure, so that we can verify that revert call does not delete # the data from existing stores # NOTE(danms): Do this before we start the import, on a later store, # which will cause that store to fail after we have already completed # the first one. os.rmdir(self.test_dir + ""/images_3"") "," # NOTE(abhishekk): Deleting file3 image directory to trigger the # failure, so that we can verify that revert call does not delete # the data from existing stores os.rmdir(self.test_dir + ""/images_3"") ",8,5
openstack%2Fopenstack-helm-infra~master~Id1e6b70db03f71b87539f6e3e466f39d8440b773,openstack/openstack-helm-infra,master,Id1e6b70db03f71b87539f6e3e466f39d8440b773,Add Application Armor to elastic-apm,MERGED,2020-08-02 03:18:19.000000000,2020-08-07 19:38:16.000000000,2020-08-07 19:35:34.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 29298}, {'_account_id': 30445}]","[{'number': 1, 'created': '2020-08-02 03:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9277ff03d7035ac4a2ce598a8fae87bad456d632', 'message': 'Add Application Armor to elastic-apm\n\nChange-Id: Id1e6b70db03f71b87539f6e3e466f39d8440b773\n'}, {'number': 2, 'created': '2020-08-06 18:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/46374838c5780c55d89c7a47e8d8d5813c964da6', 'message': 'Add Application Armor to elastic-apm\n\nChange-Id: Id1e6b70db03f71b87539f6e3e466f39d8440b773\n'}, {'number': 3, 'created': '2020-08-07 14:34:27.000000000', 'files': ['elastic-apm-server/values_overrides/apparmor.yaml', 'elastic-apm-server/templates/deployment.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/564cada4ad0ad873dbde17199ad945839d0ae8eb', 'message': 'Add Application Armor to elastic-apm\n\nChange-Id: Id1e6b70db03f71b87539f6e3e466f39d8440b773\n'}]",0,744365,564cada4ad0ad873dbde17199ad945839d0ae8eb,16,5,3,29131,,,0,"Add Application Armor to elastic-apm

Change-Id: Id1e6b70db03f71b87539f6e3e466f39d8440b773
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/65/744365/1 && git format-patch -1 --stdout FETCH_HEAD,"['elastic-apm-server/values_overrides/apparmor.yaml', 'elastic-apm-server/templates/deployment.yaml']",2,9277ff03d7035ac4a2ce598a8fae87bad456d632,,"{{ dict ""envAll"" $envAll ""podName"" ""elastic-apm-server"" ""containerNames"" (list ""elastic-apm-server"" ""init"") | include ""helm-toolkit.snippets.kubernetes_mandatory_access_control_annotation"" | indent 8 }}",,9,0
openstack%2Fopenstack-helm-infra~master~Ie2abdaf0a87ca377f5ce287a3de9e87d1ca6c0d4,openstack/openstack-helm-infra,master,Ie2abdaf0a87ca377f5ce287a3de9e87d1ca6c0d4,[ceph-osd] update post_apply job,MERGED,2020-07-31 15:34:39.000000000,2020-08-07 19:36:52.000000000,2020-08-07 19:35:33.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 29974}]","[{'number': 1, 'created': '2020-07-31 15:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ed832505f08fe6c6d446c00e89a4b1655f43ff1a', 'message': '[Ceph osd] update post_apply job\n\nThe PS updates post apply job.\n\nChange-Id: Ie2abdaf0a87ca377f5ce287a3de9e87d1ca6c0d4\n'}, {'number': 2, 'created': '2020-08-04 22:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2348a017011235ce9513fa10af7bf62c68389e14', 'message': ""[ceph-osd] update post_apply job\n\nThe PS updates wait_for_pods function and adds query to filter the pods\nwhich are not in Running or Succeeded state.\nAlso the PS reduces the amount of 'kubectl get' requests.\n\nChange-Id: Ie2abdaf0a87ca377f5ce287a3de9e87d1ca6c0d4\n""}, {'number': 3, 'created': '2020-08-04 22:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2ca062e79d59a319937fdc2096d14f6bc39b252c', 'message': ""[ceph-osd] update post_apply job\n\nThe PS updates wait_for_pods function and adds query to filter the pods\nwhich are not in Running or Succeeded state.\nAlso the PS reduces the amount of 'kubectl get' requests.\n\nChange-Id: Ie2abdaf0a87ca377f5ce287a3de9e87d1ca6c0d4\n""}, {'number': 4, 'created': '2020-08-05 04:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ce952ddaeb7bac21d5a1cda936b8bb232099113d', 'message': ""[ceph-osd] update post_apply job\n\nThe PS updates wait_for_pods function and adds query to filter the pods\nwhich are not in Running or Succeeded state.\nAlso the PS reduces the amount of 'kubectl get' requests.\n\nChange-Id: Ie2abdaf0a87ca377f5ce287a3de9e87d1ca6c0d4\n""}, {'number': 5, 'created': '2020-08-05 05:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/94b5fcd975352cc0334afa57f44a7155ed3b3311', 'message': ""[ceph-osd] update post_apply job\n\nThe PS updates wait_for_pods function and adds query to filter the pods\nwhich are not in Running or Succeeded state.\nAlso the PS reduces the amount of 'kubectl get' requests.\n\nChange-Id: Ie2abdaf0a87ca377f5ce287a3de9e87d1ca6c0d4\n""}, {'number': 6, 'created': '2020-08-07 17:16:53.000000000', 'files': ['ceph-osd/templates/bin/_post-apply.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f99444f37a879f1c071c103db0adaa34e3be3031', 'message': ""[ceph-osd] update post_apply job\n\nThe PS updates wait_for_pods function and adds query to filter the pods\nwhich are not in Running or Succeeded state.\nAlso the PS reduces the amount of 'kubectl get' requests.\n\nChange-Id: Ie2abdaf0a87ca377f5ce287a3de9e87d1ca6c0d4\n""}]",1,744203,f99444f37a879f1c071c103db0adaa34e3be3031,23,6,6,17119,,,0,"[ceph-osd] update post_apply job

The PS updates wait_for_pods function and adds query to filter the pods
which are not in Running or Succeeded state.
Also the PS reduces the amount of 'kubectl get' requests.

Change-Id: Ie2abdaf0a87ca377f5ce287a3de9e87d1ca6c0d4
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/03/744203/6 && git format-patch -1 --stdout FETCH_HEAD,['ceph-osd/templates/bin/_post-apply.sh.tpl'],1,ed832505f08fe6c6d446c00e89a4b1655f43ff1a,," kubectl get pods --namespace=$1 -l component=osd -o json | jq -r ""$init_query"" | \ kubectl get pods --namespace=$1 -l component=osd | grep -E 'Terminating|PodInitializing' \"," kubectl get pods --namespace=$1 -o json | jq -r ""$init_query"" | \ kubectl get pods --namespace=$1 | grep -E 'Terminating|PodInitializing' \",2,2
openstack%2Fglance~master~I7ce94addb5c9a28e9091fa47261638ee488d6f13,openstack/glance,master,I7ce94addb5c9a28e9091fa47261638ee488d6f13,Squelch the stevedore.extension debug logging in functional tests,MERGED,2020-08-07 16:44:51.000000000,2020-08-07 19:32:57.000000000,2020-08-07 19:30:38.000000000,"[{'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 16:44:51.000000000', 'files': ['glance/tests/functional/__init__.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/12167a9508bbbfb5550268e81a3c263e3df9928c', 'message': ""Squelch the stevedore.extension debug logging in functional tests\n\nThese are super verbose and log the same thing many times, making the\ntest output very hard to read. They're not likely to be very useful in\ndebugging, so just quiet them down.\n\nChange-Id: I7ce94addb5c9a28e9091fa47261638ee488d6f13\n""}]",0,745374,12167a9508bbbfb5550268e81a3c263e3df9928c,13,4,1,4393,,,0,"Squelch the stevedore.extension debug logging in functional tests

These are super verbose and log the same thing many times, making the
test output very hard to read. They're not likely to be very useful in
debugging, so just quiet them down.

Change-Id: I7ce94addb5c9a28e9091fa47261638ee488d6f13
",git fetch https://review.opendev.org/openstack/glance refs/changes/74/745374/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/functional/__init__.py'],1,12167a9508bbbfb5550268e81a3c263e3df9928c,squelch-stevedore,"default_log_levels = eventlet.wsgi.server=DEBUG,stevedore.extension=INFOdefault_log_levels = eventlet.wsgi.server=DEBUG,stevedore.extension=INFO",default_log_levels = eventlet.wsgi.server=DEBUGdefault_log_levels = eventlet.wsgi.server=DEBUG,2,2
openstack%2Ftempest~master~I3726f5df4afd23366a5a34de9c9da8b69287d30e,openstack/tempest,master,I3726f5df4afd23366a5a34de9c9da8b69287d30e,Adding description for testcases - compute part3,MERGED,2020-05-13 09:23:23.000000000,2020-08-07 19:32:21.000000000,2020-08-07 19:30:22.000000000,"[{'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 31239}]","[{'number': 1, 'created': '2020-05-13 09:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/717b07b028163c2e23a483b715528fffd09cf0d5', 'message': 'Adding description for testcases - compute part3\n\nWhen Tempest is used in customer site, often we are required to\nprovide a testcase list including testcase names and descriptions.\nNow no this kind of doc is available, so we can add descriptions\nwith the format of doc string for every testcase, so later we\ncan generata such a testcase description list.\n\nThere are hundreds of testcases missing descriptions, so we can\nadd them gradually, and limit the modified files in one patch\nfor the convenience of reviewing.\n\nChange-Id: I3726f5df4afd23366a5a34de9c9da8b69287d30e\npartially-implements: blueprint testcase-description\n'}, {'number': 2, 'created': '2020-05-29 01:20:23.000000000', 'files': ['tempest/api/compute/admin/test_floating_ips_bulk.py', 'tempest/api/compute/admin/test_hosts.py', 'tempest/api/compute/admin/test_hypervisor_negative.py', 'tempest/api/compute/admin/test_hypervisor.py', 'tempest/api/compute/admin/test_services.py', 'tempest/api/compute/admin/test_quotas_negative.py', 'tempest/api/compute/admin/test_hosts_negative.py', 'tempest/api/compute/admin/test_keypairs_v210.py', 'tempest/api/compute/flavors/test_flavors.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a0e87dc58239032bc6be15ecae66dc2a530683d4', 'message': 'Adding description for testcases - compute part3\n\nWhen Tempest is used in customer site, often we are required to\nprovide a testcase list including testcase names and descriptions.\nNow no this kind of doc is available, so we can add descriptions\nwith the format of doc string for every testcase, so later we\ncan generata such a testcase description list.\n\nThere are hundreds of testcases missing descriptions, so we can\nadd them gradually, and limit the modified files in one patch\nfor the convenience of reviewing.\n\nChange-Id: I3726f5df4afd23366a5a34de9c9da8b69287d30e\npartially-implements: blueprint testcase-description\n'}]",5,727680,a0e87dc58239032bc6be15ecae66dc2a530683d4,19,5,2,20190,,,0,"Adding description for testcases - compute part3

When Tempest is used in customer site, often we are required to
provide a testcase list including testcase names and descriptions.
Now no this kind of doc is available, so we can add descriptions
with the format of doc string for every testcase, so later we
can generata such a testcase description list.

There are hundreds of testcases missing descriptions, so we can
add them gradually, and limit the modified files in one patch
for the convenience of reviewing.

Change-Id: I3726f5df4afd23366a5a34de9c9da8b69287d30e
partially-implements: blueprint testcase-description
",git fetch https://review.opendev.org/openstack/tempest refs/changes/80/727680/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/admin/test_floating_ips_bulk.py', 'tempest/api/compute/admin/test_hosts.py', 'tempest/api/compute/admin/test_hypervisor_negative.py', 'tempest/api/compute/admin/test_hypervisor.py', 'tempest/api/compute/admin/test_services.py', 'tempest/api/compute/admin/test_quotas_negative.py', 'tempest/api/compute/admin/test_hosts_negative.py', 'tempest/api/compute/admin/test_keypairs_v210.py', 'tempest/api/compute/flavors/test_flavors.py']",9,717b07b028163c2e23a483b715528fffd09cf0d5,bp/testcase-description," """"""Tests Flavors"""""" """"""List of all flavors should contain the expected flavor"""""" """"""Detailed list of all flavors should contain the expected flavor"""""" """"""The expected flavor details should be returned"""""" """"""Only the expected number of flavors should be returned"""""" """"""Only the expected number of flavors(detailed) should be returned"""""" """"""The list of flavors should start from the provided marker"""""" """"""The list of flavors should start from the provided marker"""""" """"""The detailed list of flavors should be filtered by disk space"""""" """"""The detailed list of flavors should be filtered by RAM"""""" """"""The list of flavors should be filtered by disk space"""""" """"""The list of flavors should be filtered by RAM""""""", # List of all flavors should contain the expected flavor # Detailed list of all flavors should contain the expected flavor # The expected flavor details should be returned # Only the expected number of flavors should be returned # Only the expected number of flavors (detailed) should be returned # The list of flavors should start from the provided marker # The list of flavors should start from the provided marker # The detailed list of flavors should be filtered by disk space # The detailed list of flavors should be filtered by RAM # The list of flavors should be filtered by disk space # The list of flavors should be filtered by RAM,102,65
openstack%2Fopenstack-helm~master~I62e741fe5192b7a0018bc84ccdac1ea5311a1e03,openstack/openstack-helm,master,I62e741fe5192b7a0018bc84ccdac1ea5311a1e03,Do no recreate fernet tokens on setup,MERGED,2019-12-06 10:44:34.000000000,2020-08-07 19:23:12.000000000,2020-08-07 19:21:17.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 21813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-06 10:44:34.000000000', 'files': ['keystone/templates/bin/_fernet-manage.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8957bacb4aa8aab0d4547e285eff49b18b4de41f', 'message': ""Do no recreate fernet tokens on setup\n\nIn case of keystone-fernet-setup job rerun (delete and create),\nfernet tokens are recreated. Which leads to ongoing openstack request\nfail.\n\nkeystone-manage fernet_setup is idempotent, let's make the\nkeystone-fernet-setup job idempotent as well.\n\nChange-Id: I62e741fe5192b7a0018bc84ccdac1ea5311a1e03\n""}]",0,697646,8957bacb4aa8aab0d4547e285eff49b18b4de41f,13,4,1,21813,,,0,"Do no recreate fernet tokens on setup

In case of keystone-fernet-setup job rerun (delete and create),
fernet tokens are recreated. Which leads to ongoing openstack request
fail.

keystone-manage fernet_setup is idempotent, let's make the
keystone-fernet-setup job idempotent as well.

Change-Id: I62e741fe5192b7a0018bc84ccdac1ea5311a1e03
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/46/697646/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/templates/bin/_fernet-manage.py.tpl'],1,8957bacb4aa8aab0d4547e285eff49b18b4de41f,," if args.command in ('credential_setup', 'fernet_setup'): if secret.get('data', False): LOG.info('Keys already exist, skipping setup...')"," if args.command == 'credential_setup': if secret.get('data', False): LOG.info('Credential keys already exist, skipping setup...')",2,2
openstack%2Fnova~master~I5cea86d96418f625b69c9790594e1ceb0b83d5b5,openstack/nova,master,I5cea86d96418f625b69c9790594e1ceb0b83d5b5,Add test coverage of baremetal nodes policies,MERGED,2020-07-17 20:01:32.000000000,2020-08-07 19:23:02.000000000,2020-08-07 18:23:36.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-17 20:01:32.000000000', 'files': ['nova/tests/unit/policies/test_baremetal_nodes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bf9762f701555d1bbc1ae3d5e9d8854f4ece395b', 'message': ""Add test coverage of baremetal nodes policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nTo adopt the keystone's scope_type and new defaults in deprecated\nAPI policies, we need to first write test coverage for the same to\nknow the complete effect of policies changes.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I5cea86d96418f625b69c9790594e1ceb0b83d5b5\n""}]",1,741707,bf9762f701555d1bbc1ae3d5e9d8854f4ece395b,21,10,1,8556,,,0,"Add test coverage of baremetal nodes policies

Current tests do not have good test coverage of existing policies.
Either tests for policies do not exist or if they exist then they
do not cover the actual negative and positive testing.

To adopt the keystone's scope_type and new defaults in deprecated
API policies, we need to first write test coverage for the same to
know the complete effect of policies changes.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I5cea86d96418f625b69c9790594e1ceb0b83d5b5
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/741707/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/policies/test_baremetal_nodes.py'],1,bf9762f701555d1bbc1ae3d5e9d8854f4ece395b,bp/policy-defaults-refresh-deprecated-apis,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from oslo_utils.fixture import uuidsentinel as uuids from nova.api.openstack.compute import baremetal_nodes from nova.tests.unit.api.openstack import fakes from nova.tests.unit.policies import base from nova.tests.unit.virt.ironic import utils as ironic_utils FAKE_IRONIC_CLIENT = ironic_utils.FakeClient() class BaremetalNodesPolicyTest(base.BasePolicyTest): """"""Test Baremetal Nodes APIs policies with all possible context. This class defines the set of context with different roles which are allowed and not allowed to pass the policy checks. With those set of context, it will call the API operation and verify the expected behaviour. """""" def setUp(self): super(BaremetalNodesPolicyTest, self).setUp() self.controller = baremetal_nodes.BareMetalNodeController() self.req = fakes.HTTPRequest.blank('') self.stub_out('nova.api.openstack.compute.' 'baremetal_nodes._get_ironic_client', lambda *_: FAKE_IRONIC_CLIENT) # Check that admin is able to get baremetal nodes. self.admin_authorized_contexts = [ self.legacy_admin_context, self.system_admin_context, self.project_admin_context] # Check that non-admin is not able to get baremetal nodes. self.admin_unauthorized_contexts = [ self.system_member_context, self.system_reader_context, self.system_foo_context, self.project_member_context, self.other_project_member_context, self.project_foo_context, self.project_reader_context, self.other_project_reader_context ] def test_index_nodes_policy(self): rule_name = ""os_compute_api:os-baremetal-nodes"" self.common_policy_check(self.admin_authorized_contexts, self.admin_unauthorized_contexts, rule_name, self.controller.index, self.req) @mock.patch.object(FAKE_IRONIC_CLIENT.node, 'list_ports') @mock.patch.object(FAKE_IRONIC_CLIENT.node, 'get') def test_show_node_policy(self, mock_get, mock_port): rule_name = ""os_compute_api:os-baremetal-nodes"" properties = {'cpus': 1, 'memory_mb': 512, 'local_gb': 10} node = ironic_utils.get_test_node(properties=properties) mock_get.return_value = node mock_port.return_value = [] self.common_policy_check(self.admin_authorized_contexts, self.admin_unauthorized_contexts, rule_name, self.controller.show, self.req, uuids.fake_id) class BaremetalNodesScopeTypePolicyTest(BaremetalNodesPolicyTest): """"""Test Baremetal Nodes APIs policies with system scope enabled. This class set the nova.conf [oslo_policy] enforce_scope to True so that we can switch on the scope checking on oslo policy side. It defines the set of context with scopped token which are allowed and not allowed to pass the policy checks. With those set of context, it will run the API operation and verify the expected behaviour. """""" def setUp(self): super(BaremetalNodesScopeTypePolicyTest, self).setUp() self.flags(enforce_scope=True, group=""oslo_policy"") ",,90,0
openstack%2Fnova~master~Iaec6a54e3656881643b28e5c35878f925f5655f3,openstack/nova,master,Iaec6a54e3656881643b28e5c35878f925f5655f3,Add test coverage of FIP pools policies,MERGED,2020-07-18 02:46:01.000000000,2020-08-07 19:10:05.000000000,2020-08-07 18:23:26.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-18 02:46:01.000000000', 'files': ['nova/tests/unit/policies/test_floating_ip_pools.py', 'nova/tests/unit/api/openstack/compute/test_floating_ip_pools.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4e67f4aa27f4d7a220b18de6c5511c7c99283bfe', 'message': ""Add test coverage of FIP pools policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nTo adopt the keystone's scope_type and new defaults in deprecated\nAPI policies, we need to first write test coverage for the same to\nknow the complete effect of policies changes.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Iaec6a54e3656881643b28e5c35878f925f5655f3\n""}]",2,741795,4e67f4aa27f4d7a220b18de6c5511c7c99283bfe,22,10,1,8556,,,0,"Add test coverage of FIP pools policies

Current tests do not have good test coverage of existing policies.
Either tests for policies do not exist or if they exist then they
do not cover the actual negative and positive testing.

To adopt the keystone's scope_type and new defaults in deprecated
API policies, we need to first write test coverage for the same to
know the complete effect of policies changes.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: Iaec6a54e3656881643b28e5c35878f925f5655f3
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/741795/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/policies/test_floating_ip_pools.py', 'nova/tests/unit/api/openstack/compute/test_floating_ip_pools.py']",2,4e67f4aa27f4d7a220b18de6c5511c7c99283bfe,bp/policy-defaults-refresh-deprecated-apis,,"class FloatingIPPoolsPolicyEnforcementV21(test.NoDBTestCase): def setUp(self): super(FloatingIPPoolsPolicyEnforcementV21, self).setUp() self.controller = fipp_v21.FloatingIPPoolsController() self.req = fakes.HTTPRequest.blank('') def test_change_password_policy_failed(self): rule_name = ""os_compute_api:os-floating-ip-pools"" rule = {rule_name: ""project:non_fake""} self.policy.set_rules(rule) exc = self.assertRaises( exception.PolicyNotAuthorized, self.controller.index, self.req) self.assertEqual( ""Policy doesn't allow %s to be performed."" % rule_name, exc.format_message()) ",67,18
