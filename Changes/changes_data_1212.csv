id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fpuppet-neutron~master~I66b78e9766f60d544e2bd6754cadfba273d09c64,openstack/puppet-neutron,master,I66b78e9766f60d544e2bd6754cadfba273d09c64,Fixes error when manifest is re run,ABANDONED,2014-04-23 08:56:59.000000000,2015-02-03 22:36:48.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 7156}, {'_account_id': 7462}, {'_account_id': 7822}, {'_account_id': 8083}, {'_account_id': 11166}]","[{'number': 1, 'created': '2014-04-23 08:56:59.000000000', 'files': ['lib/puppet/provider/neutron_subnet/neutron.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/48322bd698eab090deda06c1cf63cd929c244545', 'message': 'Fixes error when manifest is re run\n\nFixes an error when running a manifest that contains\nneutron_subnet statements for second or more times and\nthe subnets already exist.\n\nChange-Id: I66b78e9766f60d544e2bd6754cadfba273d09c64\nCloses-bug: 1311535\n'}]",1,89775,48322bd698eab090deda06c1cf63cd929c244545,9,8,1,7462,,,0,"Fixes error when manifest is re run

Fixes an error when running a manifest that contains
neutron_subnet statements for second or more times and
the subnets already exist.

Change-Id: I66b78e9766f60d544e2bd6754cadfba273d09c64
Closes-bug: 1311535
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/75/89775/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/neutron_subnet/neutron.rb'],1,48322bd698eab090deda06c1cf63cd929c244545,bug/1311535," results = """" begin results = auth_neutron('subnet-create', '--format=shell', rescue Exception => e if e.message =~ /overlaps with another subnet/ notice ""This subnet already exists, ignoring.."" return else raise(e) end end"," results = auth_neutron('subnet-create', '--format=shell',",11,1
openstack%2Fpuppet-nova~master~I6a22017fcf101f8e1d1fb6361218d38fabdaacd1,openstack/puppet-nova,master,I6a22017fcf101f8e1d1fb6361218d38fabdaacd1,Use 2.2 as the default mysql_module,ABANDONED,2014-07-16 13:17:18.000000000,2015-02-03 22:34:54.000000000,,"[{'_account_id': 3}, {'_account_id': 518}, {'_account_id': 2265}, {'_account_id': 6554}, {'_account_id': 6754}, {'_account_id': 6994}, {'_account_id': 7822}]","[{'number': 1, 'created': '2014-07-16 13:17:18.000000000', 'files': ['spec/classes/nova_db_mysql_spec.rb', '.fixtures.yml', 'manifests/init.pp', 'manifests/db/mysql/host_access.pp', 'manifests/db/mysql.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f48986a89b0c57851e6c2c9ff43aec91e0623e1a', 'message': 'Use 2.2 as the default mysql_module\n\nChange-Id: I6a22017fcf101f8e1d1fb6361218d38fabdaacd1\n'}]",5,107372,f48986a89b0c57851e6c2c9ff43aec91e0623e1a,20,7,1,518,,,0,"Use 2.2 as the default mysql_module

Change-Id: I6a22017fcf101f8e1d1fb6361218d38fabdaacd1
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/72/107372/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_db_mysql_spec.rb', '.fixtures.yml', 'manifests/init.pp', 'manifests/db/mysql/host_access.pp', 'manifests/db/mysql.pp']",5,f48986a89b0c57851e6c2c9ff43aec91e0623e1a,,"# Defaults to '2.2' $mysql_module = '2.2',","# Defaults to '0.9' $mysql_module = '0.9',",8,8
openstack%2Fpuppet-nova~stable%2Fhavana~I09d315c59d6c75acd10fe6b8de989663ca2479c0,openstack/puppet-nova,stable/havana,I09d315c59d6c75acd10fe6b8de989663ca2479c0,Add User[nova] definitions to stable/havana,ABANDONED,2014-08-15 10:36:25.000000000,2015-02-03 22:34:44.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 10068}, {'_account_id': 12119}]","[{'number': 1, 'created': '2014-08-15 10:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f3e2442f77fe9a3b09ba70b7acdcd53c9e58ec39', 'message': 'Backport User[nova] definitions to stable/havana, mainly config home and shell parameter.\n\nChange-Id: I09d315c59d6c75acd10fe6b8de989663ca2479c0\n'}, {'number': 2, 'created': '2014-08-15 10:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d2adff75bcb205048e2d2114eba8b09f7939350a', 'message': 'Backport User[nova] definitions to stable/havana\n\n         Mainly config home and shell parameter\n\nChange-Id: I09d315c59d6c75acd10fe6b8de989663ca2479c0\n'}, {'number': 3, 'created': '2014-08-18 01:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6273dc5b980e50eb307a2996f813e07d4bff9a8b', 'message': 'Backport User[nova] definitions to stable/havana\n\n         Mainly config home and shell parameter\n\nChange-Id: I09d315c59d6c75acd10fe6b8de989663ca2479c0\n'}, {'number': 4, 'created': '2014-08-25 08:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/751ce3f693bd843398de7137b927be7f0d9a7cec', 'message': 'Add User[nova] definitions to stable/havana\n\nMainly config home and shell parameter\n\nChange-Id: I09d315c59d6c75acd10fe6b8de989663ca2479c0\n'}, {'number': 5, 'created': '2014-08-25 08:25:33.000000000', 'files': ['manifests/init.pp', 'spec/classes/nova_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/5519f68a56c47480d671ed3e221b123bb6fbe675', 'message': 'Add User[nova] definitions to stable/havana\n\nMainly config home and shell parameter\n\nChange-Id: I09d315c59d6c75acd10fe6b8de989663ca2479c0\n'}]",1,114499,5519f68a56c47480d671ed3e221b123bb6fbe675,22,5,5,12119,,,0,"Add User[nova] definitions to stable/havana

Mainly config home and shell parameter

Change-Id: I09d315c59d6c75acd10fe6b8de989663ca2479c0
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/99/114499/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/nova_init_spec.rb']",2,f3e2442f77fe9a3b09ba70b7acdcd53c9e58ec39,origin-stable/havana," 'ensure' => 'present', 'gid' => 'nova', 'system' => true, 'home' => '/var/lib/nova', 'managehome' => false, 'shell' => '/bin/false', 'before' => 'Package[nova-common]', 'require' => 'Group[nova]', 'nova_shell' => '/bin/bash', it { should contain_user('nova').with('shell' => '/bin/bash') } "," 'ensure' => 'present', 'gid' => 'nova', 'system' => true, 'require' => 'Package[nova-common]'",24,8
openstack%2Fpuppet-nova~master~Iad55054eb8dd7c3df654cdb0f3f5143b43410c90,openstack/puppet-nova,master,Iad55054eb8dd7c3df654cdb0f3f5143b43410c90,Do not set special_service_provider on Red Hat,ABANDONED,2014-06-22 19:27:50.000000000,2015-02-03 22:34:31.000000000,,"[{'_account_id': 3}, {'_account_id': 6554}, {'_account_id': 7822}, {'_account_id': 12066}]","[{'number': 1, 'created': '2014-06-22 19:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/b6dd46645a782aa58a981a812ed785b73000a817', 'message': 'CentOS should be treated as RedHat\n\ninit system should be the same for RHEL and CentOS\n\nChange-Id: Iad55054eb8dd7c3df654cdb0f3f5143b43410c90\n'}, {'number': 2, 'created': '2014-06-23 21:44:42.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4fa471764756eb23a62c30d24d470656e4a46a0c', 'message': ""Do not set special_service_provider on Red Hat\n\nUse the default for all operating systems when\n$::osfamily is 'RedHat'. This change fixes setup\non CentOS 7.\n\nChange-Id: Iad55054eb8dd7c3df654cdb0f3f5143b43410c90\n""}]",3,101775,4fa471764756eb23a62c30d24d470656e4a46a0c,13,4,2,12066,,,0,"Do not set special_service_provider on Red Hat

Use the default for all operating systems when
$::osfamily is 'RedHat'. This change fixes setup
on CentOS 7.

Change-Id: Iad55054eb8dd7c3df654cdb0f3f5143b43410c90
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/75/101775/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,b6dd46645a782aa58a981a812ed785b73000a817,," 'Fedora', 'RedHat', 'CentOS': {"," 'Fedora', 'RedHat': {",1,1
openstack%2Fpuppet-neutron~master~I2d1ced6916199a6b442bb954712299115987b77c,openstack/puppet-neutron,master,I2d1ced6916199a6b442bb954712299115987b77c,Add more retry logic to neutron resource auth_neutron call,ABANDONED,2014-07-10 19:18:00.000000000,2015-02-03 22:33:40.000000000,,"[{'_account_id': 3}, {'_account_id': 8797}]","[{'number': 1, 'created': '2014-07-10 19:18:00.000000000', 'files': ['lib/puppet/provider/neutron.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/4d8409ceb73a434b90e800c063e9d0e2a7def6f3', 'message': 'Add more retry logic to neutron resource auth_neutron call\n\nThere are many cases where puppet may attempt to configure resource when\n neutron or keystone may need some more time to start. Because of these\n cases we need to be more proactive about allowing retries.\n\nChange-Id: I2d1ced6916199a6b442bb954712299115987b77c\nCloses-bug: #1246795\n'}]",0,106141,4d8409ceb73a434b90e800c063e9d0e2a7def6f3,5,2,1,8797,,,0,"Add more retry logic to neutron resource auth_neutron call

There are many cases where puppet may attempt to configure resource when
 neutron or keystone may need some more time to start. Because of these
 cases we need to be more proactive about allowing retries.

Change-Id: I2d1ced6916199a6b442bb954712299115987b77c
Closes-bug: #1246795
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/41/106141/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/neutron.rb'],1,4d8409ceb73a434b90e800c063e9d0e2a7def6f3,bug/1246795," # FIXME:(xarses) needs to be abstraced from subresources and re-written here #def self.prefetch(resources) # networks = instances # resources.keys.each do |name| # if provider = networks.find{ |net| net.name == name } # resources[name].provider = provider # end # end #end return Hash[ auth_keys.map \ rv = nil timeout = 120 end_time = Time.now.to_i + timeout loop do begin rv = neutron(args) break rescue Puppet::ExecutionFailure => e if ! e.message =~ /(\(HTTP\s+400\))| (400-\{\'message\'\:\s+\'\'\})| (\[Errno 111\]\s+Connection\s+refused)| (503\s+Service\s+Unavailable)| (504\s+Gateway\s+Time-out)| (\:\s+Maximum\s+attempts\s+reached)| (Unauthorized\:\s+bad\s+credentials)| (Max\s+retries\s+exceeded)/ raise(e) end current_time = Time.now.to_i if current_time > end_time #raise(e) break else wait = end_time - current_time Puppet::debug(""Non-fatal error: \""#{e.message}\"""") notice(""Neutron API not avalaible. Wait up to #{wait} sec."") end sleep(2) # Note(xarses): Don't remove, we know that there is one of the # Recoverable erros above, So we will retry a few more times return rv if list.nil? raise(Puppet::ExecutionFailure, ""Cen't prefetch #{type}-list Neutron or Keystone API is not avalaible."") end if net.nil? raise(Puppet::ExecutionFailure, ""Cen't prefetch #{type}-show Neutron or Keystone API is not avalaible."") end", creds = Hash[ auth_keys.map \ if conf['DEFAULT'] and !conf['DEFAULT']['nova_region_name'].nil? creds['nova_region_name'] = conf['DEFAULT']['nova_region_name'] end return creds if q.key?('nova_region_name') authenv[:OS_REGION_NAME] = q['nova_region_name'] end begin withenv authenv do neutron(args) end rescue Exception => e if (e.message =~ /\[Errno 111\] Connection refused/) or (e.message =~ /\(HTTP 400\)/) sleep 10 neutron(args) else raise(e),50,19
openstack%2Fswift~master~Ia542d35b58552dde0f324bb9c42531f98c9058fa,openstack/swift,master,Ia542d35b58552dde0f324bb9c42531f98c9058fa,Prevent redundant commenting by drive-audit,MERGED,2015-01-22 15:33:14.000000000,2015-02-03 22:33:20.000000000,2015-02-03 22:33:18.000000000,"[{'_account_id': 3}, {'_account_id': 330}, {'_account_id': 597}, {'_account_id': 2622}]","[{'number': 1, 'created': '2015-01-22 15:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/229c60497584251be897f16aa4e3642591a729af', 'message': 'Prevent redundant commenting by drive-audit\n\nThe drive-audit detects error log about a device and comments out it\nin /etc/fstab. When the error log is generated several times, it\ncomments out the line for each time.\nThis patch makes drive-audit to check if the device is already\ncommented out, and prevents redundant commenting out.\n\nChange-Id: Ia542d35b58552dde0f324bb9c42531f98c9058fa\n'}, {'number': 2, 'created': '2015-02-01 07:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7626bb7aae406da2139845fc1c95a3757943e2c0', 'message': 'Prevent redundant commenting by drive-audit\n\nThe drive-audit detects error log about a device and comments out it\nin /etc/fstab. When the error log is generated several times, it\ncomments out the line for each time.\nThis patch makes drive-audit to check if the device is already\ncommented out, and prevents redundant commenting out.\n\nChange-Id: Ia542d35b58552dde0f324bb9c42531f98c9058fa\n'}, {'number': 3, 'created': '2015-02-02 13:01:49.000000000', 'files': ['bin/swift-drive-audit'], 'web_link': 'https://opendev.org/openstack/swift/commit/a270dca23989b5cf7b59cf1d0e285bc736717a44', 'message': 'Prevent redundant commenting by drive-audit\n\nThe drive-audit detects error log about a device and comments out it\nin /etc/fstab. When the error log is generated several times, it\ncomments out the line for each time.\nThis patch makes drive-audit to check if the device is already\ncommented out, and prevents redundant commenting out.\n\nChange-Id: Ia542d35b58552dde0f324bb9c42531f98c9058fa\n'}]",2,149317,a270dca23989b5cf7b59cf1d0e285bc736717a44,16,4,3,9816,,,0,"Prevent redundant commenting by drive-audit

The drive-audit detects error log about a device and comments out it
in /etc/fstab. When the error log is generated several times, it
comments out the line for each time.
This patch makes drive-audit to check if the device is already
commented out, and prevents redundant commenting out.

Change-Id: Ia542d35b58552dde0f324bb9c42531f98c9058fa
",git fetch https://review.opendev.org/openstack/swift refs/changes/17/149317/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/swift-drive-audit'],1,229c60497584251be897f16aa4e3642591a729af,bug/drive-audit, if len(parts) > 2 \ and line.split()[1] == mount_point \ and not line.startswith('#'):, if len(parts) > 2 and line.split()[1] == mount_point:,3,1
openstack%2Fpuppet-nova~master~Icef7d526f908ba8512c3985ba5b77b1cc39b6408,openstack/puppet-nova,master,Icef7d526f908ba8512c3985ba5b77b1cc39b6408,"Revert ""Do not set special_service_provider on RHEL7.""",ABANDONED,2014-06-22 19:27:50.000000000,2015-02-03 22:32:20.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-06-22 19:27:50.000000000', 'files': ['spec/classes/nova_compute_libvirt_spec.rb', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/dde46137a90e97a5bb623e9c07f87caa6440ffeb', 'message': 'Revert ""Do not set special_service_provider on RHEL7.""\n\nThis reverts commit ae014c9abd72da29601a979ad22588852e7e2aa6.\nTwo commits solving the same problem were commited, the other\ncommit is 5a8ac8a5d03c1fd93d05a672dc482e04d42c0715.\n\nThis code is not used because the other commit has added a\ntest for \'RedHat\' above this code in the case statement.\n\nChange-Id: Icef7d526f908ba8512c3985ba5b77b1cc39b6408\n'}]",0,101774,dde46137a90e97a5bb623e9c07f87caa6440ffeb,5,1,1,12066,,,0,"Revert ""Do not set special_service_provider on RHEL7.""

This reverts commit ae014c9abd72da29601a979ad22588852e7e2aa6.
Two commits solving the same problem were commited, the other
commit is 5a8ac8a5d03c1fd93d05a672dc482e04d42c0715.

This code is not used because the other commit has added a
test for 'RedHat' above this code in the case statement.

Change-Id: Icef7d526f908ba8512c3985ba5b77b1cc39b6408
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/74/101774/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_compute_libvirt_spec.rb', 'manifests/params.pp']",2,dde46137a90e97a5bb623e9c07f87caa6440ffeb,,, 'RedHat': { if ($::operatingsystemrelease < 7) { $special_service_provider = 'init' } else { $special_service_provider = undef } },1,23
openstack%2Fpuppet-keystone~master~Ic69129483150539eaad91267d892e6291f8edc51,openstack/puppet-keystone,master,Ic69129483150539eaad91267d892e6291f8edc51,Use 2.2 as the default mysql_module,ABANDONED,2014-07-16 13:16:27.000000000,2015-02-03 22:29:10.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6994}, {'_account_id': 7822}]","[{'number': 1, 'created': '2014-07-16 13:16:27.000000000', 'files': ['.fixtures.yml', 'spec/classes/keystone_spec.rb', 'manifests/init.pp', 'manifests/db/mysql/host_access.pp', 'manifests/db/mysql.pp', 'spec/classes/keystone_db_mysql_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/ea78186bc24effc0bf3c37f7b33a29020525aab5', 'message': 'Use 2.2 as the default mysql_module\n\nChange-Id: Ic69129483150539eaad91267d892e6291f8edc51\n'}]",0,107368,ea78186bc24effc0bf3c37f7b33a29020525aab5,12,4,1,518,,,0,"Use 2.2 as the default mysql_module

Change-Id: Ic69129483150539eaad91267d892e6291f8edc51
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/68/107368/1 && git format-patch -1 --stdout FETCH_HEAD,"['.fixtures.yml', 'spec/classes/keystone_spec.rb', 'manifests/init.pp', 'manifests/db/mysql/host_access.pp', 'manifests/db/mysql.pp', 'spec/classes/keystone_db_mysql_spec.rb']",6,ea78186bc24effc0bf3c37f7b33a29020525aab5,, 'require' => 'Service[mysqld]', it { should contain_class('mysql::python') } 'require' => 'Class[Mysql::Config]',8,10
openstack%2Fceilometer~master~I6e1e5f6261ca55c5a0a0c70822f80257061d56c2,openstack/ceilometer,master,I6e1e5f6261ca55c5a0a0c70822f80257061d56c2,discovery: allow to discover all endpoints,MERGED,2015-02-03 13:36:30.000000000,2015-02-03 22:22:54.000000000,2015-02-03 22:22:53.000000000,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 6537}, {'_account_id': 7729}, {'_account_id': 10987}]","[{'number': 1, 'created': '2015-02-03 13:36:30.000000000', 'files': ['ceilometer/agent/discovery/endpoint.py', 'ceilometer/tests/agent/test_discovery.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6ae96098572b9c3d178e8f9f5d7e7a533a739ecb', 'message': 'discovery: allow to discover all endpoints\n\nThis allow the Keystone endpoints discoverer to discover all the URLs if\nno service type is specified.\n\nBlueprint: ceilometer-healthcheck-middleware\n\nChange-Id: I6e1e5f6261ca55c5a0a0c70822f80257061d56c2\n'}]",0,152510,6ae96098572b9c3d178e8f9f5d7e7a533a739ecb,9,5,1,1669,,,0,"discovery: allow to discover all endpoints

This allow the Keystone endpoints discoverer to discover all the URLs if
no service type is specified.

Blueprint: ceilometer-healthcheck-middleware

Change-Id: I6e1e5f6261ca55c5a0a0c70822f80257061d56c2
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/10/152510/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/agent/discovery/endpoint.py', 'ceilometer/tests/agent/test_discovery.py']",2,6ae96098572b9c3d178e8f9f5d7e7a533a739ecb,bp/ceilometer-healthcheck-middleware," def test_keystone_called(self): def test_keystone_called_no_service_type(self): self.discovery.discover(self.manager) expected = [mock.call(service_type=None, endpoint_type='test-endpoint-type', region_name='test-region-name')] self.assertEqual(expected, self.manager.keystone.service_catalog.get_urls .call_args_list)", def test_keystone_called(self):,17,9
openstack%2Fpuppet-neutron~master~Ic230d694e10d7899b06eaf0dc688200e5b36f764,openstack/puppet-neutron,master,Ic230d694e10d7899b06eaf0dc688200e5b36f764,Service Validation for neutron-server,ABANDONED,2014-12-09 01:00:19.000000000,2015-02-03 22:18:54.000000000,,"[{'_account_id': 3}, {'_account_id': 1918}, {'_account_id': 3153}, {'_account_id': 7155}, {'_account_id': 7156}, {'_account_id': 7616}, {'_account_id': 8482}, {'_account_id': 9410}]","[{'number': 1, 'created': '2014-12-09 01:00:19.000000000', 'files': ['spec/classes/neutron_server_spec.rb', 'manifests/server.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/3a123420b92bcfe28244386346f106fd4caf7c90', 'message': 'Service Validation for neutron-server\n\nAs an option, validate Neutron Server service with a default or custom\ncommand, and if the service is up and running, create a Puppet Anchor.\n\nChange-Id: Ic230d694e10d7899b06eaf0dc688200e5b36f764\n'}]",2,140194,3a123420b92bcfe28244386346f106fd4caf7c90,9,8,1,3153,,,0,"Service Validation for neutron-server

As an option, validate Neutron Server service with a default or custom
command, and if the service is up and running, create a Puppet Anchor.

Change-Id: Ic230d694e10d7899b06eaf0dc688200e5b36f764
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/94/140194/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_server_spec.rb', 'manifests/server.pp']",2,3a123420b92bcfe28244386346f106fd4caf7c90,validate-api-service,"# [*validate*] # (optional) Whether to validate the service is working after any service refreshes # Defaults to false # # [*validation_options*] # (optional) Service validation options # Should be a hash of options defined in openstacklib::service_validation # If empty, defaults values are taken from openstacklib function. # Default command list networks. # Require validate set at True. # Example: # glance::api::validation_options: # glance-api: # command: check_neutron-server.py # path: /usr/bin:/bin:/usr/sbin:/sbin # provider: shell # tries: 5 # try_sleep: 10 # Defaults to {} # $validate = false, $validation_options = {}, $auth_uri_real = $auth_uri } else { $auth_uri_real = ""${auth_protocol}://${auth_host}:5000/"" } neutron_config { 'keystone_authtoken/auth_uri': value => $auth_uri_real; } neutron_api_config { 'filter:authtoken/auth_uri': value => $auth_uri_real; if $validate { $defaults = { 'neutron-server' => { 'command' => ""neutron --os-auth-url ${auth_uri_real} --os-tenant-name ${auth_tenant} --os-username ${auth_user} --os-password ${auth_password} net-list"", } } $validation_options_hash = merge ($defaults, $validation_options) create_resources('openstacklib::service_validation', $validation_options_hash, {'subscribe' => 'Service[neutron-server]'}) } "," neutron_config { 'keystone_authtoken/auth_uri': value => $auth_uri; } neutron_api_config { 'filter:authtoken/auth_uri': value => $auth_uri; } } else { neutron_config { 'keystone_authtoken/auth_uri': value => ""${auth_protocol}://${auth_host}:5000/""; } neutron_api_config { 'filter:authtoken/auth_uri': value => ""${auth_protocol}://${auth_host}:5000/""; }",84,12
openstack%2Fswift~master~Ib1d58fdd228a6ee7865321e65d7c04a891fa5c49,openstack/swift,master,Ib1d58fdd228a6ee7865321e65d7c04a891fa5c49,Allow per-policy overrides in object replicator.,MERGED,2015-01-23 00:11:10.000000000,2015-02-03 21:58:33.000000000,2015-02-03 21:58:32.000000000,"[{'_account_id': 3}, {'_account_id': 6968}, {'_account_id': 7479}]","[{'number': 1, 'created': '2015-01-23 00:11:10.000000000', 'files': ['swift/obj/replicator.py', 'test/unit/obj/test_replicator.py', 'bin/swift-object-replicator'], 'web_link': 'https://opendev.org/openstack/swift/commit/3ac43e8299239657b37a3c52ef495d658b224a2e', 'message': ""Allow per-policy overrides in object replicator.\n\nThe replicator already supports --devices and --partitions to restrict\nits operation to a subset of devices and partitions. However,\noperators don't always want to replicate a partition in all policies\nsince different policies (usually) have different rings.\n\nFor example, if I know that policy 0's partition 1234 is has no\nreplicas on primary nodes due to over-aggressive rebalancing, I really\nwant to find a node where the partition isa and make the replicator\npush it onto the primaries. However, if I haven't been messing with\npolicy 1's ring, its partition 1234 is fine. With the existing\nreplicator args, I get both or neither; this commit lets me get just\nthe useful one.\n\nChange-Id: Ib1d58fdd228a6ee7865321e65d7c04a891fa5c49\n""}]",0,149441,3ac43e8299239657b37a3c52ef495d658b224a2e,7,3,1,2622,,,0,"Allow per-policy overrides in object replicator.

The replicator already supports --devices and --partitions to restrict
its operation to a subset of devices and partitions. However,
operators don't always want to replicate a partition in all policies
since different policies (usually) have different rings.

For example, if I know that policy 0's partition 1234 is has no
replicas on primary nodes due to over-aggressive rebalancing, I really
want to find a node where the partition isa and make the replicator
push it onto the primaries. However, if I haven't been messing with
policy 1's ring, its partition 1234 is fine. With the existing
replicator args, I get both or neither; this commit lets me get just
the useful one.

Change-Id: Ib1d58fdd228a6ee7865321e65d7c04a891fa5c49
",git fetch https://review.opendev.org/openstack/swift refs/changes/41/149441/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/replicator.py', 'test/unit/obj/test_replicator.py', 'bin/swift-object-replicator']",3,3ac43e8299239657b37a3c52ef495d658b224a2e,obj-replicator-fast-start," parser.add_option('-i', '--policies', help='Replicate only given policy indices. ' 'Comma-separated list')",,41,9
openstack%2Fkeystone~master~I299db2ada1d36f01d8e62b7dd74856109dd0e820,openstack/keystone,master,I299db2ada1d36f01d8e62b7dd74856109dd0e820,Update as per oslo namespace changes. Devstack seems broken without these changes,ABANDONED,2015-02-02 12:17:16.000000000,2015-02-03 21:55:46.000000000,,"[{'_account_id': 3}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 10118}, {'_account_id': 11022}, {'_account_id': 12088}]","[{'number': 1, 'created': '2015-02-02 12:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/91920d56a43be6fec71b4321de57ddd2bcf39ac0', 'message': 'Update as per oslo namespace changes. Devstack seems broken\nwithout these changes\n\nChange-Id: I299db2ada1d36f01d8e62b7dd74856109dd0e820\n'}, {'number': 2, 'created': '2015-02-02 12:51:12.000000000', 'files': ['keystone/auth/controllers.py', 'keystone/notifications.py', 'keystone/models/token_model.py', 'keystone/trust/backends/sql.py', 'keystone/contrib/revoke/model.py', 'keystone/common/sql/migrate_repo/versions/042_endpoint_enabled.py', 'keystone/tests/test_backend.py', 'keystone/token/providers/common.py', 'keystone/common/sql/migration_helpers.py', 'keystone/tests/test_revoke.py', 'keystone/tests/test_v3_os_revoke.py', 'keystone/token/persistence/backends/kvs.py', 'keystone/tests/test_auth.py', 'keystone/common/kvs/core.py', 'keystone/common/manager.py', 'keystone/tests/test_token_provider.py', 'keystone/tests/test_backend_sql.py', 'keystone/contrib/revoke/core.py', 'keystone/identity/core.py', 'keystone/contrib/revoke/backends/kvs.py', 'keystone/contrib/federation/utils.py', 'keystone/contrib/oauth1/controllers.py', 'keystone/common/cache/core.py', 'keystone/common/config.py', 'keystone/contrib/federation/idp.py', 'keystone/tests/unit/token/test_token_model.py', 'keystone/common/wsgi.py', 'keystone/tests/test_sql_migrate_extensions.py', 'keystone/tests/test_v3.py', 'keystone/tests/ksfixtures/database.py', 'keystone/token/controllers.py', 'keystone/token/persistence/core.py', 'keystone/trust/controllers.py', 'keystone/auth/plugins/oauth1.py', 'keystone/token/provider.py', 'keystone/openstack/common/fileutils.py', 'keystone/tests/test_keystoneclient.py', 'keystone/token/persistence/backends/sql.py', 'keystone/common/cache/backends/mongo.py', 'keystone/contrib/oauth1/backends/sql.py', 'keystone/contrib/revoke/controllers.py', 'keystone/openstack/common/log.py', 'keystone/tests/test_v3_auth.py', 'keystone/common/sql/migrate_repo/versions/044_service_enabled.py', 'keystone/tests/test_backend_kvs.py', 'keystone/common/sql/core.py', 'keystone/exception.py', 'keystone/tests/test_sql_upgrade.py', 'keystone/common/utils.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/c9c7dfb006513c5d094e48e7d8dbe1b26f13249a', 'message': 'Update as per oslo namespace changes. Devstack seems broken\nwithout these changes\n\nChange-Id: I299db2ada1d36f01d8e62b7dd74856109dd0e820\n'}]",3,152095,c9c7dfb006513c5d094e48e7d8dbe1b26f13249a,10,6,2,12088,,,0,"Update as per oslo namespace changes. Devstack seems broken
without these changes

Change-Id: I299db2ada1d36f01d8e62b7dd74856109dd0e820
",git fetch https://review.opendev.org/openstack/keystone refs/changes/95/152095/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/auth/controllers.py', 'keystone/notifications.py', 'keystone/models/token_model.py', 'keystone/trust/backends/sql.py', 'keystone/contrib/revoke/model.py', 'keystone/common/sql/migrate_repo/versions/042_endpoint_enabled.py', 'keystone/tests/test_backend.py', 'keystone/token/providers/common.py', 'keystone/common/sql/migration_helpers.py', 'keystone/tests/test_revoke.py', 'keystone/tests/test_v3_os_revoke.py', 'keystone/token/persistence/backends/kvs.py', 'keystone/tests/test_auth.py', 'keystone/common/kvs/core.py', 'keystone/common/manager.py', 'keystone/tests/test_token_provider.py', 'keystone/tests/test_backend_sql.py', 'keystone/contrib/revoke/core.py', 'keystone/identity/core.py', 'keystone/contrib/revoke/backends/kvs.py', 'keystone/contrib/federation/utils.py', 'keystone/contrib/oauth1/controllers.py', 'keystone/common/cache/core.py', 'keystone/common/config.py', 'keystone/contrib/federation/idp.py', 'keystone/tests/unit/token/test_token_model.py', 'keystone/common/wsgi.py', 'keystone/tests/test_sql_migrate_extensions.py', 'keystone/tests/test_v3.py', 'keystone/tests/ksfixtures/database.py', 'keystone/token/controllers.py', 'keystone/token/persistence/core.py', 'keystone/trust/controllers.py', 'keystone/auth/plugins/oauth1.py', 'keystone/token/provider.py', 'keystone/openstack/common/fileutils.py', 'keystone/tests/test_keystoneclient.py', 'keystone/token/persistence/backends/sql.py', 'keystone/common/cache/backends/mongo.py', 'keystone/contrib/oauth1/backends/sql.py', 'keystone/contrib/revoke/controllers.py', 'keystone/openstack/common/log.py', 'keystone/tests/test_v3_auth.py', 'keystone/common/sql/migrate_repo/versions/044_service_enabled.py', 'keystone/tests/test_backend_kvs.py', 'keystone/common/sql/core.py', 'keystone/exception.py', 'keystone/tests/test_sql_upgrade.py', 'keystone/common/utils.py']",49,91920d56a43be6fec71b4321de57ddd2bcf39ac0,keystone_oslo_namespace,from oslo_utils import strutils,from oslo.utils import strutils,65,65
openstack%2Fnova~master~I9c4aa566fea40cf92bdc33f24da84ff783316c0f,openstack/nova,master,I9c4aa566fea40cf92bdc33f24da84ff783316c0f,Remove useless argparse requirement,MERGED,2015-02-03 10:53:32.000000000,2015-02-03 21:55:16.000000000,2015-02-03 21:55:12.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10618}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-02-03 10:53:32.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/d57a7b2890cbf0895e5c8d833282379b52d7b8c3', 'message': 'Remove useless argparse requirement\n\nThis patch cleans up the requirement list to remove argparse that is\npart of Python >= 2.7\n\nChange-Id: I9c4aa566fea40cf92bdc33f24da84ff783316c0f\n'}]",0,152463,d57a7b2890cbf0895e5c8d833282379b52d7b8c3,14,10,1,1669,,,0,"Remove useless argparse requirement

This patch cleans up the requirement list to remove argparse that is
part of Python >= 2.7

Change-Id: I9c4aa566fea40cf92bdc33f24da84ff783316c0f
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/152463/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,d57a7b2890cbf0895e5c8d833282379b52d7b8c3,jd/remove-argparse,,argparse,0,1
openstack%2Fneutron-fwaas~master~I4ae59fe875bf5a111ec2147496b87d150028fab0,openstack/neutron-fwaas,master,I4ae59fe875bf5a111ec2147496b87d150028fab0,Move extensions to service repo,MERGED,2015-01-30 06:17:48.000000000,2015-02-03 21:55:03.000000000,2015-02-03 21:55:01.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 490}, {'_account_id': 748}, {'_account_id': 6659}, {'_account_id': 6854}, {'_account_id': 6995}, {'_account_id': 8645}, {'_account_id': 9656}, {'_account_id': 10387}, {'_account_id': 10980}]","[{'number': 1, 'created': '2015-01-30 06:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/f32a30dc3dd468d02ee8f9ddec84c1150b084e21', 'message': 'Move config and extensions to service repo\n\nDepends on neutron change I16b5e5b2bb70717166da14faa975fa2ab9129049\n\nChange-Id: I4ae59fe875bf5a111ec2147496b87d150028fab0\nPartially-Implements: blueprint services-split\n'}, {'number': 2, 'created': '2015-01-30 18:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/756b1da4d8bea503df8f36bdbdbf1c1af48aca20', 'message': 'Move config and extensions to service repo\n\nDepends on neutron change I16b5e5b2bb70717166da14faa975fa2ab9129049\n\nChange-Id: I4ae59fe875bf5a111ec2147496b87d150028fab0\nPartially-Implements: blueprint services-split\n'}, {'number': 3, 'created': '2015-02-02 15:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/321f5dbb5827ba9b61c07a2104e121a285b30144', 'message': 'Move extensions to service repo\n\nDepends on neutron change I16b5e5b2bb70717166da14faa975fa2ab9129049\n\nChange-Id: I4ae59fe875bf5a111ec2147496b87d150028fab0\nPartially-Implements: blueprint services-split\n'}, {'number': 4, 'created': '2015-02-02 15:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/ad502668e01aaf38a478f8a87b91a0fefd2d6a0d', 'message': 'Move extensions to service repo\n\nDepends on neutron change I16b5e5b2bb70717166da14faa975fa2ab9129049\n\nChange-Id: I4ae59fe875bf5a111ec2147496b87d150028fab0\nPartially-Implements: blueprint services-split\n'}, {'number': 5, 'created': '2015-02-02 16:11:07.000000000', 'files': ['neutron_fwaas/extensions/firewall.py', 'neutron_fwaas/extensions/__init__.py', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin.py', 'neutron_fwaas/tests/unit/test_extension_firewall.py', 'neutron_fwaas/services/firewall/agents/l3reference/firewall_l3_agent.py', 'neutron_fwaas/db/firewall/firewall_db.py', 'neutron_fwaas/services/firewall/fwaas_plugin.py', 'neutron_fwaas/services/firewall/drivers/linux/iptables_fwaas.py', 'neutron_fwaas/tests/unit/db/firewall/test_db_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/89f621029b1c2acd45dc273eeb7ca3714c82d638', 'message': 'Move extensions to service repo\n\nDepends on neutron change I16b5e5b2bb70717166da14faa975fa2ab9129049\n\nChange-Id: I4ae59fe875bf5a111ec2147496b87d150028fab0\nPartially-Implements: blueprint services-split\n'}]",2,151545,89f621029b1c2acd45dc273eeb7ca3714c82d638,38,11,5,10980,,,0,"Move extensions to service repo

Depends on neutron change I16b5e5b2bb70717166da14faa975fa2ab9129049

Change-Id: I4ae59fe875bf5a111ec2147496b87d150028fab0
Partially-Implements: blueprint services-split
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/45/151545/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/extensions/firewall.py', 'neutron_fwaas/extensions/__init__.py']",2,f32a30dc3dd468d02ee8f9ddec84c1150b084e21,bp/services-split,,,470,0
openstack%2Fhorizon~master~Ib8616cefaa09d21d226d9c568287d4d23a3a4afe,openstack/horizon,master,Ib8616cefaa09d21d226d9c568287d4d23a3a4afe,Metadata widget support for default values,MERGED,2014-12-22 14:04:13.000000000,2015-02-03 21:53:28.000000000,2015-02-03 21:53:26.000000000,"[{'_account_id': 3}, {'_account_id': 5623}, {'_account_id': 7634}, {'_account_id': 7665}, {'_account_id': 8871}, {'_account_id': 9576}, {'_account_id': 10442}, {'_account_id': 11592}, {'_account_id': 12814}, {'_account_id': 12825}, {'_account_id': 13161}]","[{'number': 1, 'created': '2014-12-22 14:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2c9ff882404fbff8a6fbd865726a19710357af93', 'message': ""Metadata widget support for default values\n\nMetadata widget doesn't handle default values for glance meta definition\nproperties which type is one of the following: integer, number or\nboolean. Currently it supports only string properties.\nThis change provides a fix for auto-filling default value when new\nproperty is being added to the resource.\n\nChange-Id: Ib8616cefaa09d21d226d9c568287d4d23a3a4afe\nCloses-Bug: #1404888\n""}, {'number': 2, 'created': '2014-12-22 15:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e122a3ba04af8b796fea7e1a0ce15419142f1a27', 'message': ""Metadata widget support for default values\n\nMetadata widget doesn't handle default values for glance meta definition\nproperties which type is one of the following: integer, number or\nboolean. Currently it supports only string properties.\nThis change provides a fix for auto-filling default value when new\nproperty is being added to the resource.\n\nChange-Id: Ib8616cefaa09d21d226d9c568287d4d23a3a4afe\nCloses-Bug: #1404888\n""}, {'number': 3, 'created': '2014-12-23 08:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9c72d4477f4443f966578cdaa6861358a91fecbb', 'message': ""Metadata widget support for default values\n\nMetadata widget doesn't handle default values for glance meta definition\nproperties which type is one of the following: integer, number or\nboolean. Currently it supports only string properties.\nThis change provides a fix for auto-filling default value when new\nproperty is being added to the resource.\n\nChange-Id: Ib8616cefaa09d21d226d9c568287d4d23a3a4afe\nCloses-Bug: #1404888\n""}, {'number': 4, 'created': '2015-01-14 10:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/66f9dee2c134c0350ff5a57e9e7b0b06047b7053', 'message': ""Metadata widget support for default values\n\nMetadata widget doesn't handle default values for glance meta definition\nproperties which type is one of the following: integer, number or\nboolean. Currently it supports only string properties.\nThis change provides a fix for auto-filling default value when new\nproperty is being added to the resource.\n\nChange-Id: Ib8616cefaa09d21d226d9c568287d4d23a3a4afe\nCloses-Bug: #1404888\n""}, {'number': 5, 'created': '2015-01-23 11:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/879426bb6dcbdab34170b424a771536b2d5a3d6c', 'message': ""Metadata widget support for default values\n\nMetadata widget doesn't handle default values for glance meta definition\nproperties which type is one of the following: integer, number or\nboolean. Currently it supports only string properties.\nThis change provides a fix for auto-filling default value when new\nproperty is being added to the resource.\n\nChange-Id: Ib8616cefaa09d21d226d9c568287d4d23a3a4afe\nCloses-Bug: #1404888\n""}, {'number': 6, 'created': '2015-01-26 08:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e42f2e055459e662064b1194096315ab96d99cf3', 'message': ""Metadata widget support for default values\n\nMetadata widget doesn't handle default values for glance meta definition\nproperties which type is one of the following: integer, number or\nboolean. Currently it supports only string properties.\nThis change provides a fix for auto-filling default value when new\nproperty is being added to the resource.\n\nChange-Id: Ib8616cefaa09d21d226d9c568287d4d23a3a4afe\nCloses-Bug: #1404888\nCloses-Bug: #1413731\n""}, {'number': 7, 'created': '2015-01-29 11:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d57c8e3b4a4fe003f49788be58284ce2dbd2c94a', 'message': ""Metadata widget support for default values\n\nMetadata widget doesn't handle default values for glance meta definition\nproperties which type is one of the following: integer, number or\nboolean. Currently it supports only string properties.\nThis change provides a fix for auto-filling default value when new\nproperty is being added to the resource.\n\nChange-Id: Ib8616cefaa09d21d226d9c568287d4d23a3a4afe\nCloses-Bug: #1404888\nCloses-Bug: #1413731\n""}, {'number': 8, 'created': '2015-01-30 19:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d4b2f51e41fcb8d8d37ba80a30970b2b96b59bc1', 'message': ""Metadata widget support for default values\n\nMetadata widget doesn't handle default values for glance meta definition\nproperties which type is one of the following: integer, number or\nboolean. Currently it supports only string properties.\nThis change provides a fix for auto-filling default value when new\nproperty is being added to the resource.\n\nChange-Id: Ib8616cefaa09d21d226d9c568287d4d23a3a4afe\nCloses-Bug: #1404888\nCloses-Bug: #1413731\n""}, {'number': 9, 'created': '2015-02-02 11:54:10.000000000', 'files': ['horizon/templates/horizon/common/_modal_form_update_metadata.html', 'horizon/static/horizon/js/angular/controllers/metadata-widget-controller.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/aaf7e02be3048cbe36bcb3cdaa009d56534c3217', 'message': ""Metadata widget support for default values\n\nMetadata widget doesn't handle default values for glance meta definition\nproperties which type is one of the following: integer, number or\nboolean. Currently it supports only string properties.\nThis change provides a fix for auto-filling default value when new\nproperty is being added to the resource.\n\nChange-Id: Ib8616cefaa09d21d226d9c568287d4d23a3a4afe\nCloses-Bug: #1404888\nCloses-Bug: #1413731\n""}]",10,143444,aaf7e02be3048cbe36bcb3cdaa009d56534c3217,59,11,9,13161,,,0,"Metadata widget support for default values

Metadata widget doesn't handle default values for glance meta definition
properties which type is one of the following: integer, number or
boolean. Currently it supports only string properties.
This change provides a fix for auto-filling default value when new
property is being added to the resource.

Change-Id: Ib8616cefaa09d21d226d9c568287d4d23a3a4afe
Closes-Bug: #1404888
Closes-Bug: #1413731
",git fetch https://review.opendev.org/openstack/horizon refs/changes/44/143444/8 && git format-patch -1 --stdout FETCH_HEAD,['horizon/static/horizon/js/angular/controllers/metadata-widget-controller.js'],1,2c9ff882404fbff8a6fbd865726a19710357af93,bp/launch-instance-redesign," this.setLeafValue(this.leaf.default || null); Item.prototype.setLeafValue = function(value) { if(value === null) { this.leaf.value = null; return; } switch (this.leaf.type) { case 'integer': this.leaf.value = parseInt(value); break; case 'number': this.leaf.value = parseFloat(value); break; case 'array': this.leaf.value = value.replace(/^<in> /, ''); break; case 'boolean': this.leaf.value = value.toLowerCase(); break; default: this.leaf.value = value; } } item.setLeafValue(value);"," this.leaf.value = this.leaf.default || null; switch (item.leaf.type) { case 'integer': item.leaf.value = parseInt(value); break; case 'number': item.leaf.value = parseFloat(value); break; case 'array': item.leaf.value = value.replace(/^<in> /, ''); break; default: item.leaf.value = value; }",17,7
openstack%2Fheat~master~I0932abc6ed410739263d5ef8b5d5aaf57def1d10,openstack/heat,master,I0932abc6ed410739263d5ef8b5d5aaf57def1d10,Change to basic notification unit tests,MERGED,2015-02-02 10:14:45.000000000,2015-02-03 21:53:18.000000000,2015-02-03 21:53:17.000000000,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 8246}]","[{'number': 1, 'created': '2015-02-02 10:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8ea9003dea3f35704b92bc03e38b24eec9411c6b', 'message': 'Change to basic notification unit tests\n\npart of blueprint decouple-nested\nChange-Id: I0932abc6ed410739263d5ef8b5d5aaf57def1d10\n'}, {'number': 2, 'created': '2015-02-03 07:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/13a3f4cece18859b585bf6ee0fad0e727b37bd9d', 'message': 'Change to basic notification unit tests\n\npart of blueprint decouple-nested\nChange-Id: I0932abc6ed410739263d5ef8b5d5aaf57def1d10\n'}, {'number': 3, 'created': '2015-02-03 08:56:21.000000000', 'files': ['heat/tests/test_notifications.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/6f54a3cec3619801c0d125e1a4082c8852587366', 'message': 'Change to basic notification unit tests\n\npart of blueprint decouple-nested\nChange-Id: I0932abc6ed410739263d5ef8b5d5aaf57def1d10\n'}]",0,152074,6f54a3cec3619801c0d125e1a4082c8852587366,15,3,3,4715,,,0,"Change to basic notification unit tests

part of blueprint decouple-nested
Change-Id: I0932abc6ed410739263d5ef8b5d5aaf57def1d10
",git fetch https://review.opendev.org/openstack/heat refs/changes/74/152074/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/test_notifications.py'],1,8ea9003dea3f35704b92bc03e38b24eec9411c6b,bp/decouple-nested,"from heat.engine import notificationclass StackTest(common.HeatTestCase): super(StackTest, self).setUp() def test_send(self): created_time = timeutils.utcnow() st = mock.Mock() st.state = ('x', 'f') st.status = st.state[0] st.action = st.state[1] st.name = 'fred' st.status_reason = 'this is why' st.created_time = created_time st.context = self.ctx st.identifier.return_value.arn.return_value = 'hay-are-en' notify = self.patchobject(notification, 'notify') notification.stack.send(st) notify.assert_called_once_with( self.ctx, 'stack.f.error', 'ERROR', {'state_reason': 'this is why', 'stack_identity': 'hay-are-en', 'stack_name': 'fred', 'tenant_id': 'test_tenant_id', 'create_at': timeutils.isotime(created_time), 'state': 'x_f'}) class AutoScaleTest(common.HeatTestCase): def setUp(self): super(AutoScaleTest, self).setUp() self.ctx = utils.dummy_context() def test_send(self): created_time = timeutils.utcnow() st = mock.Mock() st.state = ('x', 'f') st.status = st.state[0] st.action = st.state[1] st.name = 'fred' st.status_reason = 'this is why' st.created_time = created_time st.context = self.ctx st.identifier.return_value.arn.return_value = 'hay-are-en' notify = self.patchobject(notification, 'notify') notification.autoscaling.send(st, adjustment='x', adjustment_type='y', capacity='5', groupname='c', message='fred', suffix='the-end') notify.assert_called_once_with( self.ctx, 'autoscaling.the-end', 'INFO', {'state_reason': 'this is why', 'user_id': 'test_username', 'stack_identity': 'hay-are-en', 'stack_name': 'fred', 'tenant_id': 'test_tenant_id', 'create_at': timeutils.isotime(created_time), 'state': 'x_f', 'adjustment_type': 'y', 'groupname': 'c', 'capacity': '5', 'message': 'fred', 'adjustment': 'x'}) def test_send_error(self): created_time = timeutils.utcnow() st = mock.Mock() st.state = ('x', 'f') st.status = st.state[0] st.action = st.state[1] st.name = 'fred' st.status_reason = 'this is why' st.created_time = created_time st.context = self.ctx st.identifier.return_value.arn.return_value = 'hay-are-en' notify = self.patchobject(notification, 'notify') notification.autoscaling.send(st, adjustment='x', adjustment_type='y', capacity='5', groupname='c', suffix='error') notify.assert_called_once_with( self.ctx, 'autoscaling.error', 'ERROR', {'state_reason': 'this is why', 'user_id': 'test_username', 'stack_identity': 'hay-are-en', 'stack_name': 'fred', 'tenant_id': 'test_tenant_id', 'create_at': timeutils.isotime(created_time), 'state': 'x_f', 'adjustment_type': 'y', 'groupname': 'c', 'capacity': '5', 'message': 'error', 'adjustment': 'x'})","from heat.common import exception from heat.common import grouputils from heat.common import template_format from heat.engine.clients.os import glance from heat.engine.clients.os import nova from heat.engine import environment from heat.engine import parser from heat.engine import resource # imports for mocking from heat.engine.resources.aws import autoscaling_group as aws_asg from heat.engine.resources.aws import wait_condition as aws_wc from heat.engine.resources import instance from heat.engine.resources import loadbalancer from heat.engine.resources import user from heat.engine import signal_responder as signal from heat.engine import stack_resourcefrom heat.tests import generic_resource # reuse the same template than autoscaling tests from heat.tests import test_autoscaling as test_asclass NotificationTest(common.HeatTestCase): super(NotificationTest, self).setUp() resource._register_class('GenericResource', generic_resource.ResourceWithProps) def create_test_stack(self): test_template = {'HeatTemplateFormatVersion': '2012-12-12', 'Parameters': {'Foo': {'Type': 'String'}, 'Pass': {'Type': 'String', 'NoEcho': True}}, 'Resources': {'TestResource': {'Type': 'GenericResource', 'Properties': {'Foo': 'abc'}}}, 'Outputs': {'food': {'Value': {'Fn::GetAtt': ['TestResource', 'foo']}}}} template = parser.Template(test_template) self.ctx.tenant_id = 'test_tenant' env = environment.Environment() env.load({u'parameters': {u'Foo': 'user_data', u'Pass': 'secret'}}) self.stack_name = utils.random_name() stack = parser.Stack(self.ctx, self.stack_name, template, env=env, disable_rollback=True) self.stack = stack stack.store() self.created_time = stack.created_time self.create_at = timeutils.isotime(self.created_time) stack.create() self.expected = {} for action in ('create', 'suspend', 'delete'): self.make_mocks(action) def make_mocks(self, action): stack_arn = self.stack.identifier().arn() self.expected[action] = [ mock.call(self.ctx, 'orchestration.stack.%s.start' % action, {'state_reason': 'Stack %s started' % action.upper(), 'user_id': 'test_username', 'stack_identity': stack_arn, 'tenant_id': 'test_tenant', 'create_at': self.create_at, 'stack_name': self.stack_name, 'state': '%s_IN_PROGRESS' % action.upper()}), mock.call(self.ctx, 'orchestration.stack.%s.end' % action, {'state_reason': 'Stack %s completed successfully' % action.upper(), 'user_id': 'test_username', 'stack_identity': stack_arn, 'tenant_id': 'test_tenant', 'create_at': self.create_at, 'stack_name': self.stack_name, 'state': '%s_COMPLETE' % action.upper()})] @mock.patch('oslo.messaging.notify.notifier.Notifier.info') def test_create_stack(self, mock_notify): self.create_test_stack() self.assertEqual((self.stack.CREATE, self.stack.COMPLETE), self.stack.state) self.assertEqual(self.expected['create'], mock_notify.call_args_list) @mock.patch('oslo.messaging.notify.notifier.Notifier.info') def test_create_and_suspend_stack(self, mock_notify): self.create_test_stack() self.assertEqual((self.stack.CREATE, self.stack.COMPLETE), self.stack.state) self.assertEqual(self.expected['create'], mock_notify.call_args_list) self.stack.suspend() self.assertEqual((self.stack.SUSPEND, self.stack.COMPLETE), self.stack.state) expected = self.expected['create'] + self.expected['suspend'] self.assertEqual(expected, mock_notify.call_args_list) @mock.patch('oslo.messaging.notify.notifier.Notifier.info') def test_create_and_delete_stack(self, mock_notify): self.create_test_stack() self.assertEqual((self.stack.CREATE, self.stack.COMPLETE), self.stack.state) self.assertEqual(self.expected['create'], mock_notify.call_args_list) self.stack.delete() self.assertEqual((self.stack.DELETE, self.stack.COMPLETE), self.stack.state) expected = self.expected['create'] + self.expected['delete'] self.assertEqual(expected, mock_notify.call_args_list) class ScaleNotificationTest(common.HeatTestCase): def setUp(self): super(ScaleNotificationTest, self).setUp() self.ctx = utils.dummy_context() self.ctx.tenant_id = 'test_tenant' def create_autoscaling_stack_and_get_group(self): env = environment.Environment() env.load({u'parameters': {u'KeyName': 'foo', 'ImageId': 'cloudimage'}}) t = template_format.parse(test_as.as_template) template = parser.Template(t) self.stack_name = utils.random_name() stack = parser.Stack(self.ctx, self.stack_name, template, env=env, disable_rollback=True) stack.store() self.created_time = stack.created_time self.create_at = timeutils.isotime(self.created_time) self.stub_SnapshotConstraint_validate() self.m.ReplayAll() stack.create() self.stack = stack group = stack['WebServerGroup'] self.assertEqual((group.CREATE, group.COMPLETE), group.state) self.m.VerifyAll() return group def mock_stack_except_for_group(self): self.m_validate = self.patchobject(parser.Stack, 'validate') self.patchobject(nova.KeypairConstraint, 'validate') self.patchobject(glance.ImageConstraint, 'validate') self.patchobject(nova.FlavorConstraint, 'validate') self.patchobject(instance.Instance, 'handle_create' ).return_value = True self.patchobject(instance.Instance, 'check_create_complete' ).return_value = True self.patchobject(stack_resource.StackResource, 'check_update_complete').return_value = True self.patchobject(loadbalancer.LoadBalancer, 'handle_update') self.patchobject(user.User, 'handle_create') self.patchobject(user.AccessKey, 'handle_create') self.patchobject(aws_wc.WaitCondition, 'handle_create') self.patchobject(aws_wc.WaitCondition, 'check_create_complete').return_value = True self.patchobject(signal.SignalResponder, 'handle_create') def expected_notifs_calls(self, group, adjust, start_capacity, end_capacity=None, with_error=None): stack_arn = self.stack.identifier().arn() expected = [mock.call( self.ctx, 'orchestration.autoscaling.start', {'state_reason': 'Stack CREATE completed successfully', 'stack_identity': stack_arn, 'tenant_id': 'test_tenant', 'create_at': self.create_at, 'adjustment_type': 'ChangeInCapacity', 'groupname': group.FnGetRefId(), 'capacity': start_capacity, 'adjustment': adjust, 'stack_name': self.stack_name, 'message': 'Start resizing the group %s' % group.FnGetRefId(), 'state': 'CREATE_COMPLETE'}) ] if with_error: expected += [mock.call( self.ctx, 'orchestration.autoscaling.error', {'state_reason': 'Stack CREATE completed successfully', 'user_id': 'test_username', 'stack_identity': stack_arn, 'tenant_id': 'test_tenant', 'create_at': self.create_at, 'adjustment_type': 'ChangeInCapacity', 'groupname': group.FnGetRefId(), 'capacity': start_capacity, 'adjustment': adjust, 'stack_name': self.stack_name, 'message': with_error, 'state': 'CREATE_COMPLETE'}) ] else: expected += [mock.call( self.ctx, 'orchestration.autoscaling.end', {'state_reason': 'Stack CREATE completed successfully', 'user_id': 'test_username', 'stack_identity': stack_arn, 'tenant_id': 'test_tenant', 'create_at': self.create_at, 'adjustment_type': 'ChangeInCapacity', 'groupname': group.FnGetRefId(), 'capacity': end_capacity, 'adjustment': adjust, 'stack_name': self.stack_name, 'message': 'End resizing the group %s' % group.FnGetRefId(), 'state': 'CREATE_COMPLETE'}) ] return expected @mock.patch('heat.engine.notification.stack.send') @mock.patch('oslo.messaging.notify.notifier.Notifier.info') def test_scale_success(self, mock_notify, mock_send): self.mock_stack_except_for_group() group = self.create_autoscaling_stack_and_get_group() expected = self.expected_notifs_calls(group, adjust=1, start_capacity=1, end_capacity=2, ) group.adjust(1) self.assertEqual(2, grouputils.get_size(group)) mock_notify.assert_has_calls(expected) expected = self.expected_notifs_calls(group, adjust=-1, start_capacity=2, end_capacity=1, ) group.adjust(-1) self.assertEqual(1, grouputils.get_size(group)) mock_notify.assert_has_calls(expected) @mock.patch('heat.engine.notification.stack.send') @mock.patch('oslo.messaging.notify.notifier.Notifier.info') @mock.patch('oslo.messaging.notify.notifier.Notifier.error') def test_scaleup_failure(self, mock_error, mock_info, mock_send): self.mock_stack_except_for_group() group = self.create_autoscaling_stack_and_get_group() err_message = 'Boooom' m_as = self.patchobject(aws_asg.AutoScalingGroup, 'resize') m_as.side_effect = exception.Error(err_message) info, error = self.expected_notifs_calls(group, adjust=2, start_capacity=1, with_error=err_message) self.assertRaises(exception.Error, group.adjust, 2) self.assertEqual(1, grouputils.get_size(group)) mock_error.assert_has_calls([error]) mock_info.assert_has_calls([info])",87,261
openstack%2Fheat~master~Ibe8cfee0cc534c22debc2ffdabdbaa831f8807b5,openstack/heat,master,Ibe8cfee0cc534c22debc2ffdabdbaa831f8807b5,Remove duplicate heat_autoscaling_group tests,MERGED,2015-02-02 10:14:45.000000000,2015-02-03 21:53:09.000000000,2015-02-03 21:53:07.000000000,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 8246}, {'_account_id': 8871}]","[{'number': 1, 'created': '2015-02-02 10:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2b2b53c0a3c9d6c414e8097d2f9e5c78b411d32a', 'message': 'Remove duplicate heat_autoscaling_group tests\n\nThese have been moved to autoscaling/.\n\nChange-Id: Ibe8cfee0cc534c22debc2ffdabdbaa831f8807b5\n'}, {'number': 2, 'created': '2015-02-03 07:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/93ff9f2189aaf7110f952ffb36320ef1d820a183', 'message': 'Remove duplicate heat_autoscaling_group tests\n\nThese have been moved to autoscaling/.\n\nChange-Id: Ibe8cfee0cc534c22debc2ffdabdbaa831f8807b5\n'}, {'number': 3, 'created': '2015-02-03 08:56:21.000000000', 'files': ['heat/tests/test_heat_autoscaling_group.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/3e6ab22187e76e8e18cb4b9592809d1fcbf0798a', 'message': 'Remove duplicate heat_autoscaling_group tests\n\nThese have been moved to autoscaling/.\n\nChange-Id: Ibe8cfee0cc534c22debc2ffdabdbaa831f8807b5\n'}]",0,152073,3e6ab22187e76e8e18cb4b9592809d1fcbf0798a,17,4,3,4715,,,0,"Remove duplicate heat_autoscaling_group tests

These have been moved to autoscaling/.

Change-Id: Ibe8cfee0cc534c22debc2ffdabdbaa831f8807b5
",git fetch https://review.opendev.org/openstack/heat refs/changes/73/152073/3 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/test_heat_autoscaling_group.py'],1,2b2b53c0a3c9d6c414e8097d2f9e5c78b411d32a,bp/decouple-nested,,"from heat.common import exception from heat.common import grouputilsclass AutoScalingGroupTest(common.HeatTestCase): as_template = ''' heat_template_version: 2013-05-23 description: AutoScaling Test resources: my-group: properties: max_size: 5 min_size: 1 resource: type: ResourceWithPropsAndAttrs properties: Foo: hello type: OS::Heat::AutoScalingGroup ''' def setUp(self): super(AutoScalingGroupTest, self).setUp() resource._register_class('ResourceWithPropsAndAttrs', generic_resource.ResourceWithPropsAndAttrs) cfg.CONF.set_default('heat_waitcondition_server_url', 'http://server.test:8000/v1/waitcondition') self.stub_keystoneclient() self.parsed = template_format.parse(self.as_template) def create_stack(self, t): stack = utils.parse_stack(t) stack.create() self.assertEqual((stack.CREATE, stack.COMPLETE), stack.state) return stack def test_scaling_delete_empty(self): properties = self.parsed['resources']['my-group']['properties'] properties['min_size'] = 0 properties['max_size'] = 0 rsrc = self.create_stack(self.parsed)['my-group'] self.assertEqual(0, grouputils.get_size(rsrc)) rsrc.delete() def test_scaling_adjust_down_empty(self): properties = self.parsed['resources']['my-group']['properties'] properties['min_size'] = 1 properties['max_size'] = 1 rsrc = self.create_stack(self.parsed)['my-group'] resources = grouputils.get_members(rsrc) self.assertEqual(1, len(resources)) # Reduce the min size to 0, should complete without adjusting props = copy.copy(rsrc.properties.data) props['min_size'] = 0 update_snippet = rsrc_defn.ResourceDefinition(rsrc.name, rsrc.type(), props) scheduler.TaskRunner(rsrc.update, update_snippet)() self.assertEqual(resources, grouputils.get_members(rsrc)) # trigger adjustment to reduce to 0, there should be no more instances rsrc.adjust(-1) self.assertEqual(0, grouputils.get_size(rsrc)) def test_scaling_group_suspend(self): rsrc = self.create_stack(self.parsed)['my-group'] self.assertEqual(1, grouputils.get_size(rsrc)) self.assertEqual((rsrc.CREATE, rsrc.COMPLETE), rsrc.state) scheduler.TaskRunner(rsrc.suspend)() self.assertEqual((rsrc.SUSPEND, rsrc.COMPLETE), rsrc.state) def test_scaling_group_resume(self): rsrc = self.create_stack(self.parsed)['my-group'] self.assertEqual(1, grouputils.get_size(rsrc)) self.assertEqual((rsrc.CREATE, rsrc.COMPLETE), rsrc.state) rsrc.state_set(rsrc.SUSPEND, rsrc.COMPLETE) for i in rsrc.nested().values(): i.state_set(rsrc.SUSPEND, rsrc.COMPLETE) scheduler.TaskRunner(rsrc.resume)() self.assertEqual((rsrc.RESUME, rsrc.COMPLETE), rsrc.state) def test_scaling_group_create_error(self): mock_create = self.patchobject(generic_resource.ResourceWithProps, 'handle_create') mock_create.side_effect = Exception(""Creation failed!"") rsrc = utils.parse_stack(self.parsed)['my-group'] self.assertRaises(exception.ResourceFailure, scheduler.TaskRunner(rsrc.create)) self.assertEqual((rsrc.CREATE, rsrc.FAILED), rsrc.state) self.assertEqual(0, grouputils.get_size(rsrc)) def test_scaling_group_update_ok_maxsize(self): properties = self.parsed['resources']['my-group']['properties'] properties['min_size'] = 1 properties['max_size'] = 3 rsrc = self.create_stack(self.parsed)['my-group'] resources = grouputils.get_members(rsrc) self.assertEqual(1, len(resources)) # Reduce the max size to 2, should complete without adjusting props = copy.copy(rsrc.properties.data) props['max_size'] = 2 update_snippet = rsrc_defn.ResourceDefinition(rsrc.name, rsrc.type(), props) scheduler.TaskRunner(rsrc.update, update_snippet)() self.assertEqual(resources, grouputils.get_members(rsrc)) self.assertEqual(2, rsrc.properties['max_size']) def test_scaling_group_update_ok_minsize(self): properties = self.parsed['resources']['my-group']['properties'] properties['min_size'] = 1 properties['max_size'] = 3 rsrc = self.create_stack(self.parsed)['my-group'] self.assertEqual(1, grouputils.get_size(rsrc)) props = copy.copy(rsrc.properties.data) props['min_size'] = 2 update_snippet = rsrc_defn.ResourceDefinition(rsrc.name, rsrc.type(), props) scheduler.TaskRunner(rsrc.update, update_snippet)() self.assertEqual(2, grouputils.get_size(rsrc)) self.assertEqual(2, rsrc.properties['min_size']) def test_scaling_group_update_ok_desired(self): properties = self.parsed['resources']['my-group']['properties'] properties['min_size'] = 1 properties['max_size'] = 3 rsrc = self.create_stack(self.parsed)['my-group'] self.assertEqual(1, grouputils.get_size(rsrc)) props = copy.copy(rsrc.properties.data) props['desired_capacity'] = 2 update_snippet = rsrc_defn.ResourceDefinition(rsrc.name, rsrc.type(), props) scheduler.TaskRunner(rsrc.update, update_snippet)() self.assertEqual(2, grouputils.get_size(rsrc)) self.assertEqual(2, rsrc.properties['desired_capacity']) def test_scaling_group_update_ok_desired_remove(self): properties = self.parsed['resources']['my-group']['properties'] properties['desired_capacity'] = 2 rsrc = self.create_stack(self.parsed)['my-group'] resources = grouputils.get_members(rsrc) self.assertEqual(2, len(resources)) props = copy.copy(rsrc.properties.data) props.pop('desired_capacity') update_snippet = rsrc_defn.ResourceDefinition(rsrc.name, rsrc.type(), props) scheduler.TaskRunner(rsrc.update, update_snippet)() self.assertEqual(resources, grouputils.get_members(rsrc)) self.assertIsNone(rsrc.properties['desired_capacity']) def test_scaling_group_scale_up_failure(self): stack = self.create_stack(self.parsed) mock_create = self.patchobject(generic_resource.ResourceWithProps, 'handle_create') rsrc = stack['my-group'] self.assertEqual(1, grouputils.get_size(rsrc)) mock_create.side_effect = exception.Error('Bang') self.assertRaises(exception.Error, rsrc.adjust, 1) self.assertEqual(1, grouputils.get_size(rsrc)) ",0,174
openstack%2Fheat~master~Id11e86835addc21301b3534a559d1754a802425e,openstack/heat,master,Id11e86835addc21301b3534a559d1754a802425e,Move aws nested stack tests to functional tests,MERGED,2014-12-31 10:28:32.000000000,2015-02-03 21:52:00.000000000,2015-02-03 21:51:58.000000000,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 4715}, {'_account_id': 8289}]","[{'number': 1, 'created': '2014-12-31 10:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a4456744394182d8086d52a90d3b0ae3d3386f7c', 'message': 'Move aws nested stack tests to functional tests\n\nChange-Id: Id11e86835addc21301b3534a559d1754a802425e\n'}, {'number': 2, 'created': '2015-01-05 05:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/196b85acfd25c10094a6c40b11b4f70981f35d02', 'message': 'Move aws nested stack tests to functional tests\n\nChange-Id: Id11e86835addc21301b3534a559d1754a802425e\n'}, {'number': 3, 'created': '2015-01-06 13:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bca4dae7cb183aae24d5b405dbdb921a339df50a', 'message': 'WIP: Move aws nested stack tests to functional tests\n\n(TODO: need to get swift going)\n\nChange-Id: Id11e86835addc21301b3534a559d1754a802425e\n'}, {'number': 4, 'created': '2015-01-07 06:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/dc39b7df203ba3d52363fe7e67313e83703b43b6', 'message': 'WIP: Move aws nested stack tests to functional tests\n\n(TODO: need to get swift going)\n\nChange-Id: Id11e86835addc21301b3534a559d1754a802425e\n'}, {'number': 5, 'created': '2015-01-23 05:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/69f4d96c91e496f938e144f7bf971e29c08c1ed0', 'message': 'Move aws nested stack tests to functional tests\n\n- use swift to post templates to.\n- move limit tests to test_stack_resource\n\nChange-Id: Id11e86835addc21301b3534a559d1754a802425e\n'}, {'number': 6, 'created': '2015-01-27 11:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ad918245b3dc7f28ba0e9deca40bb337b9873a83', 'message': 'Move aws nested stack tests to functional tests\n\n- use swift to post templates to.\n- move limit tests to test_stack_resource\n\nChange-Id: Id11e86835addc21301b3534a559d1754a802425e\n'}, {'number': 7, 'created': '2015-01-28 11:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/528f91bd07871e3dee9f11d0b9cd6c85b6768bd5', 'message': 'Move aws nested stack tests to functional tests\n\n- use swift to post templates to.\n- move limit tests to test_stack_resource\n\nChange-Id: Id11e86835addc21301b3534a559d1754a802425e\n'}, {'number': 8, 'created': '2015-01-30 08:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1faddb0f79c8c132bcc674d11c3401625aae5366', 'message': 'Move aws nested stack tests to functional tests\n\n- use swift to post templates to.\n- move limit tests to test_stack_resource\n\nChange-Id: Id11e86835addc21301b3534a559d1754a802425e\n'}, {'number': 9, 'created': '2015-02-02 10:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/812bd7a5a5c00196cc29040255617b8fda4e1eb6', 'message': 'Move aws nested stack tests to functional tests\n\n- use swift to post templates to.\n- move limit tests to test_stack_resource\n\nPart of blueprint decouple-nested\nChange-Id: Id11e86835addc21301b3534a559d1754a802425e\n'}, {'number': 10, 'created': '2015-02-03 07:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f008bb5b95d7c699aa3810b50a7a853416dd7c70', 'message': 'Move aws nested stack tests to functional tests\n\n- use swift to post templates to.\n- move limit tests to test_stack_resource\n\nPart of blueprint decouple-nested\nChange-Id: Id11e86835addc21301b3534a559d1754a802425e\n'}, {'number': 11, 'created': '2015-02-03 08:56:21.000000000', 'files': ['heat_integrationtests/functional/test_aws_stack.py', 'heat/tests/test_nested_stack.py', 'heat_integrationtests/common/test.py', 'heat_integrationtests/common/clients.py', 'heat/tests/test_stack_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/fe762a51fa6dfdc03652f817f853c1b5922c7f3f', 'message': 'Move aws nested stack tests to functional tests\n\n- use swift to post templates to.\n- move limit tests to test_stack_resource\n\nPart of blueprint decouple-nested\nChange-Id: Id11e86835addc21301b3534a559d1754a802425e\n'}]",6,144621,fe762a51fa6dfdc03652f817f853c1b5922c7f3f,41,4,11,4715,,,0,"Move aws nested stack tests to functional tests

- use swift to post templates to.
- move limit tests to test_stack_resource

Part of blueprint decouple-nested
Change-Id: Id11e86835addc21301b3534a559d1754a802425e
",git fetch https://review.opendev.org/openstack/heat refs/changes/21/144621/8 && git format-patch -1 --stdout FETCH_HEAD,"['heat_integrationtests/functional/test_aws_stack.py', 'heat_integrationtests/functional/test_update.py', 'heat/tests/test_nested_stack.py', 'heat_integrationtests/common/test.py']",4,a4456744394182d8086d52a90d3b0ae3d3386f7c,bp/decouple-nested," def assert_resource_is_a_stack(self, stack_identifier, res_name): rsrc = self.client.resources.get(stack_identifier, res_name) nested_link = [l for l in rsrc.links if l['rel'] == 'nested'] nested_href = nested_link[0]['href'] nested_id = nested_href.split('/')[-1] nested_identifier = '/'.join(nested_href.split('/')[-2:]) self.assertEqual(rsrc.physical_resource_id, nested_id) nested_stack = self.client.stacks.get(nested_id) nested_identifier2 = '%s/%s' % (nested_stack.stack_name, nested_stack.id) self.assertEqual(nested_identifier, nested_identifier2) parent_id = stack_identifier.split(""/"")[-1] self.assertEqual(parent_id, nested_stack.parent) return nested_identifier def stack_adopt(self, stack_name=None, files=None, parameters=None, environment=None, adopt_data=None, wait_for_status='ADOPT_COMPLETE'): name = stack_name or self._stack_rand_name() templ_files = files or {} params = parameters or {} env = environment or {} self.client.stacks.create( stack_name=name, files=templ_files, disable_rollback=True, parameters=params, environment=env, adopt_stack_data=adopt_data, ) self.addCleanup(self.client.stacks.delete, name) stack = self.client.stacks.get(name) stack_identifier = '%s/%s' % (name, stack.id) self._wait_for_stack_status(stack_identifier, wait_for_status) return stack_identifier",,230,175
openstack%2Fneutron-vpnaas~master~Ieb5f5d5fb1af865229934167b150f2a4d7638782,openstack/neutron-vpnaas,master,Ieb5f5d5fb1af865229934167b150f2a4d7638782,Pass root_helper to ip_lib by keyword argument to prep for removal,MERGED,2015-02-03 15:48:44.000000000,2015-02-03 21:51:49.000000000,2015-02-03 21:51:47.000000000,"[{'_account_id': 3}, {'_account_id': 6524}, {'_account_id': 6659}, {'_account_id': 7448}]","[{'number': 1, 'created': '2015-02-03 15:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/fc212e32151d3d644ba1e2fee9ab358cca1b5adc', 'message': 'Pass root_helper to ip_lib by keyward arguemnt to prep for removal\n\nTo assist in being able to stop passing the root_helper option to\nvarious classes/functions and instead handle root_helper just in\nexecute(), pass root_helper in advanced services via keyword\nargument, so that the root_helper removal patch will be able to\naccept, but ignore it and still have tests pass.\n\nChange-Id: Ieb5f5d5fb1af865229934167b150f2a4d7638782\n'}, {'number': 2, 'created': '2015-02-03 15:52:25.000000000', 'files': ['neutron_vpnaas/services/vpn/device_drivers/ipsec.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/b69aeec85bb2da70aa5e60ac93e7568bd6b9f497', 'message': 'Pass root_helper to ip_lib by keyword argument to prep for removal\n\nTo assist in being able to stop passing the root_helper option to\nvarious classes/functions and instead handle root_helper just in\nexecute(), pass root_helper in advanced services via keyword\nargument, so that the root_helper removal patch will be able to\naccept, but ignore it and still have tests pass.\n\nChange-Id: Ieb5f5d5fb1af865229934167b150f2a4d7638782\n'}]",0,152575,b69aeec85bb2da70aa5e60ac93e7568bd6b9f497,11,4,2,5756,,,0,"Pass root_helper to ip_lib by keyword argument to prep for removal

To assist in being able to stop passing the root_helper option to
various classes/functions and instead handle root_helper just in
execute(), pass root_helper in advanced services via keyword
argument, so that the root_helper removal patch will be able to
accept, but ignore it and still have tests pass.

Change-Id: Ieb5f5d5fb1af865229934167b150f2a4d7638782
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/75/152575/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas/services/vpn/device_drivers/ipsec.py'],1,fc212e32151d3d644ba1e2fee9ab358cca1b5adc,," ip_wrapper = ip_lib.IPWrapper(root_helper=self.root_helper, namespace=self.namespace)"," ip_wrapper = ip_lib.IPWrapper(self.root_helper, self.namespace)",2,1
openstack%2Fapi-site~master~Ie3efe4eb9bcb0c29d769ae706aa2ab966d5aa975,openstack/api-site,master,Ie3efe4eb9bcb0c29d769ae706aa2ab966d5aa975,Removes port_security_enabled lines from Networking responses,MERGED,2014-12-22 21:17:33.000000000,2015-02-03 21:42:25.000000000,2015-02-03 21:42:25.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 964}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-12-22 21:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/8420cf23ee8a8da418f5a2fb22aefe98156adcf8', 'message': 'Removes port_security_enabled lines from Networking responses\n\nChange-Id: Ie3efe4eb9bcb0c29d769ae706aa2ab966d5aa975\nCloses-bug: 1385304\n'}, {'number': 2, 'created': '2014-12-22 22:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/d8bbb30ac5330649f6852f79d998bc1a8a8f63cd', 'message': 'Removes port_security_enabled lines from Networking responses\n\nChange-Id: Ie3efe4eb9bcb0c29d769ae706aa2ab966d5aa975\nCloses-bug: 1385304\n'}, {'number': 3, 'created': '2015-02-02 19:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/c2170e468f1cf44c584d75e20c108e64c033e877', 'message': 'Removes port_security_enabled lines from Networking responses\n\nChange-Id: Ie3efe4eb9bcb0c29d769ae706aa2ab966d5aa975\nCloses-bug: 1385304\n'}, {'number': 4, 'created': '2015-02-02 20:55:32.000000000', 'files': ['api-ref/src/wadls/netconn-api/src/api_samples/networks-multi-get-detail-resp.json', 'api-ref/src/wadls/netconn-api/src/api_samples/network-multi-post-resp.json', 'api-ref/src/wadls/netconn-api/src/api_samples/network-post-resp.json', 'api-ref/src/wadls/netconn-api/src/api_samples/networks-multi-list-resp.json'], 'web_link': 'https://opendev.org/openstack/api-site/commit/b552258c5199572a24314e1f360a495f547d18eb', 'message': 'Removes port_security_enabled lines from Networking responses\n\nChange-Id: Ie3efe4eb9bcb0c29d769ae706aa2ab966d5aa975\nCloses-bug: 1385304\n'}]",2,143542,b552258c5199572a24314e1f360a495f547d18eb,15,4,4,964,,,0,"Removes port_security_enabled lines from Networking responses

Change-Id: Ie3efe4eb9bcb0c29d769ae706aa2ab966d5aa975
Closes-bug: 1385304
",git fetch https://review.opendev.org/openstack/api-site refs/changes/42/143542/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/src/wadls/netconn-api/src/api_samples/networks-multi-get-detail-resp.json', 'api-ref/src/wadls/netconn-api/src/api_samples/network-multi-post-resp.json', 'api-ref/src/wadls/netconn-api/src/api_samples/network-post-resp.json', 'api-ref/src/wadls/netconn-api/src/api_samples/networks-multi-list-resp.json']",4,8420cf23ee8a8da418f5a2fb22aefe98156adcf8,bug/1385304,," ""router:external"": true,",0,4
openstack%2Fsolum~master~I07ef559325cdc6abad4852518765f66daaff46ee,openstack/solum,master,I07ef559325cdc6abad4852518765f66daaff46ee,Filter images by languagepack type.,MERGED,2015-02-03 18:58:34.000000000,2015-02-03 21:41:05.000000000,2015-02-03 21:41:03.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 2506}, {'_account_id': 6662}]","[{'number': 1, 'created': '2015-02-03 18:58:34.000000000', 'files': ['solum/builder/handlers/image_handler.py', 'solum/objects/sqlalchemy/image.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/39674ff8b64bebcceef8405f5e99c012e1e732bd', 'message': ""Filter images by languagepack type.\n\nTo support languagepack list and show commands, I'm filtering\nimages by the artifact_type field. The image table stores LP's and\nDU's today. Languagepack list should only show LP's and not DU's.\n\nChange-Id: I07ef559325cdc6abad4852518765f66daaff46ee\n""}]",0,152652,39674ff8b64bebcceef8405f5e99c012e1e732bd,7,4,1,9095,,,0,"Filter images by languagepack type.

To support languagepack list and show commands, I'm filtering
images by the artifact_type field. The image table stores LP's and
DU's today. Languagepack list should only show LP's and not DU's.

Change-Id: I07ef559325cdc6abad4852518765f66daaff46ee
",git fetch https://review.opendev.org/openstack/solum refs/changes/52/152652/1 && git format-patch -1 --stdout FETCH_HEAD,"['solum/builder/handlers/image_handler.py', 'solum/objects/sqlalchemy/image.py']",2,39674ff8b64bebcceef8405f5e99c012e1e732bd,languagepack_list," """"""Return all images."""""" @classmethod def get_all_languagepacks(cls, context): """"""Return all images that are languagepacks."""""" return ImageList(sql.model_query( context, Image).filter_by(artifact_type='language_pack'))",,8,1
openstack%2Fopenstacksdk~master~I4160857f28eadc9384bc7e75d9d4e0582904c955,openstack/openstacksdk,master,I4160857f28eadc9384bc7e75d9d4e0582904c955,Add image v2 proxy,MERGED,2015-01-14 22:06:38.000000000,2015-02-03 21:36:36.000000000,2015-02-03 21:36:35.000000000,"[{'_account_id': 3}, {'_account_id': 8736}, {'_account_id': 12807}]","[{'number': 1, 'created': '2015-01-14 22:06:38.000000000', 'files': ['openstack/image/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/01010b4ca07f7258c22b2484b9c74d49956ab08d', 'message': 'Add image v2 proxy\n\nChange-Id: I4160857f28eadc9384bc7e75d9d4e0582904c955\n'}]",0,147314,01010b4ca07f7258c22b2484b9c74d49956ab08d,8,3,1,12000,,,0,"Add image v2 proxy

Change-Id: I4160857f28eadc9384bc7e75d9d4e0582904c955
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/14/147314/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/image/v2/_proxy.py'],1,01010b4ca07f7258c22b2484b9c74d49956ab08d,add-image-v2-proxy,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack.image.v2 import image from openstack.image.v2 import member from openstack.image.v2 import tag class Proxy(object): def __init__(self, session): self.session = session def create_image(self, **data): return image.Image(data).create(self.session) def delete_image(self, **data): return image.Image(data).delete(self.session) def find_image(self, name_or_id): return image.Image.find(self.session, name_or_id) def get_image(self, **data): return image.Image(data).get(self.session) def list_images(self, **params): return image.Image.list(self.session, **params) def update_image(self, **data): return image.Image(data).update(self.session) def create_member(self, **data): return member.Member(data).create(self.session) def delete_member(self, **data): return member.Member(data).delete(self.session) def find_member(self, name_or_id): return member.Member.find(self.session, name_or_id) def get_member(self, **data): return member.Member(data).get(self.session) def list_members(self, **params): return member.Member.list(self.session, **params) def update_member(self, **data): return member.Member(data).update(self.session) def create_tag(self, **data): return tag.Tag(data).create(self.session) def delete_tag(self, **data): return member.Tag(data).delete(self.session) ",,63,0
openstack%2Fproject-config~master~I055cf6a7a0ae4737e24800dd6968359505663df5,openstack/project-config,master,I055cf6a7a0ae4737e24800dd6968359505663df5,add devstack up/down test,MERGED,2015-02-02 21:30:21.000000000,2015-02-03 21:17:07.000000000,2015-02-03 21:17:06.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-02-02 21:30:21.000000000', 'files': ['zuul/layout.yaml', 'jenkins/jobs/devstack-gate.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d9a3d34a97215163fb8fe271bb1a8e8dd1dffafe', 'message': ""add devstack up/down test\n\nthis is a simple functional test for devstack that ensures that the\nreset scripts correctly shut things down at the end of the run. With\nthis in place we'll make the cleanup scripts do a set -o errexit.\n\nThis will help prevent us from breaking repeatability in devstack.\n\nChange-Id: I055cf6a7a0ae4737e24800dd6968359505663df5\n""}]",0,152280,d9a3d34a97215163fb8fe271bb1a8e8dd1dffafe,8,4,1,2750,,,0,"add devstack up/down test

this is a simple functional test for devstack that ensures that the
reset scripts correctly shut things down at the end of the run. With
this in place we'll make the cleanup scripts do a set -o errexit.

This will help prevent us from breaking repeatability in devstack.

Change-Id: I055cf6a7a0ae4737e24800dd6968359505663df5
",git fetch https://review.opendev.org/openstack/project-config refs/changes/80/152280/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul/layout.yaml', 'jenkins/jobs/devstack-gate.yaml']",2,d9a3d34a97215163fb8fe271bb1a8e8dd1dffafe,updown,"# dsvm-updown builds up an devstack and shuts it down, this ensures # that things like unstack.sh and clean.sh work correctly. This should # only be run on the devstack tree. - job-template: name: '{pipeline}-devstack-dsvm-updown{branch-designator}' node: '{node}' wrappers: - build-timeout: timeout: 65 - timestamps builders: - link-logs - net-info - devstack-checkout - shell: | #!/bin/bash -xe export PYTHONUNBUFFERED=true export DEVSTACK_GATE_TIMEOUT=60 export BRANCH_OVERRIDE={branch-override} if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi # ensure that the unstack.sh and clean.sh scripts run # without errors, so that we can function post_test_hook {{ cd /opt/stack/new/devstack ./unstack.sh ./clean.sh }} export -f post_test_hook cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh - '{pipeline}-devstack-dsvm-updown{branch-designator}'",,40,0
openstack%2Fopenstack-manuals~master~I8818d4d7430c26619cd7bfc364c0f3d19f174152,openstack/openstack-manuals,master,I8818d4d7430c26619cd7bfc364c0f3d19f174152,Adds reboot into rescue mode,MERGED,2015-01-27 12:01:51.000000000,2015-02-03 21:14:55.000000000,2015-02-03 21:14:53.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 964}, {'_account_id': 6547}, {'_account_id': 6772}, {'_account_id': 6849}, {'_account_id': 9382}, {'_account_id': 9788}, {'_account_id': 10014}, {'_account_id': 12402}, {'_account_id': 13082}, {'_account_id': 14396}]","[{'number': 1, 'created': '2015-01-27 12:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a2dfc7c3dff3ded1577a8d96ff3c582fc8725ac2', 'message': 'Adds reboot into rescue mode, CLI\n\nThere were no usage instructions how to reboot an instance into\nthe rescue mode. So, it was decided to add the description of\n$ nova rescue INSTANCE_NAME and $ nova unrescue INSTANCE_NAME\ncommands to the user guide (Reboot an instance section).\n\nAs it is much related to the bug\nhttps://bugs.launchpad.net/openstack-manuals/+bug/1346793\nit also adds a note, informing the user about the restricted\nnumber of available actions for the instance in the\nvm_state RESCUED.\n\nChange-Id: I8818d4d7430c26619cd7bfc364c0f3d19f174152\nPartial-Bug: 1346793\n'}, {'number': 2, 'created': '2015-01-27 12:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/b478c48a7a18678e359f1cabff58b64e819880d1', 'message': 'Adds reboot into rescue mode, CLI\n\nThere were no usage instructions on how to reboot an instance into\nthe rescue mode. So, it was decided to add the description of\n$ nova rescue INSTANCE_NAME and $ nova unrescue INSTANCE_NAME\ncommands to the user guide (Reboot an instance section).\n\nAs it is much related to the bug\nhttps://bugs.launchpad.net/openstack-manuals/+bug/1346793\nit also adds a note, informing the user about the restricted\nnumber of available actions for the instance in the\nvm_state RESCUED.\n\nChange-Id: I8818d4d7430c26619cd7bfc364c0f3d19f174152\nPartial-Bug: 1346793\n'}, {'number': 3, 'created': '2015-01-27 13:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c51f1c6b5d5b2e6403fe1e1aeb63757d85e699ad', 'message': 'Adds reboot into rescue mode, CLI\n\nThere were no usage instructions on how to reboot an instance into\nthe rescue mode. So, it was decided to add the description of\n$ nova rescue INSTANCE_NAME and $ nova unrescue INSTANCE_NAME\ncommands to the user guide (Reboot an instance section).\n\nAs it is much related to the bug\nhttps://bugs.launchpad.net/openstack-manuals/+bug/1346793\nit also adds a note, informing the user about the restricted\nnumber of available actions for the instance in the\nvm_state RESCUED.\n\nChange-Id: I8818d4d7430c26619cd7bfc364c0f3d19f174152\nPartial-Bug: 1346793\n'}, {'number': 4, 'created': '2015-01-27 14:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/3f630f515df2b773f84a596b4775debbf06f576f', 'message': 'Adds reboot into rescue mode, CLI\n\nThere were no usage instructions on how to reboot an instance into\nthe rescue mode. So, it was decided to add the description of\n$ nova rescue INSTANCE_NAME and $ nova unrescue INSTANCE_NAME\ncommands to the user guide (Reboot an instance section).\n\nAs it is much related to the bug\nhttps://bugs.launchpad.net/openstack-manuals/+bug/1346793\nit also adds a note, informing the user about the restricted\nnumber of available actions for the instance in the\nvm_state RESCUED.\n\nChange-Id: I8818d4d7430c26619cd7bfc364c0f3d19f174152\nPartial-Bug: 1346793\n'}, {'number': 5, 'created': '2015-01-28 09:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/9503349562afdb4789560867af2d852f9f355951', 'message': 'Adds reboot into rescue mode, CLI\n\nThere were no usage instructions on how to reboot an instance into\nthe rescue mode. So, it was decided to add the description of\n$ nova rescue INSTANCE_NAME and $ nova unrescue INSTANCE_NAME\ncommands to the user guide (Reboot an instance section).\n\nAs it is much related to the bug\nhttps://bugs.launchpad.net/openstack-manuals/+bug/1346793\nit also adds a note, informing the user about the restricted\nnumber of available actions for the instance in the\nvm_state RESCUED.\n\nChange-Id: I8818d4d7430c26619cd7bfc364c0f3d19f174152\nPartial-Bug: 1346793\n'}, {'number': 6, 'created': '2015-01-28 14:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f8acb4e481243feb792988f37c06a5efbc51e4a2', 'message': 'Adds reboot into rescue mode, CLI\n\nThere were no usage instructions on how to reboot an instance into\nthe rescue mode. So, it was decided to add the description of\n$ nova rescue INSTANCE_NAME and $ nova unrescue INSTANCE_NAME\ncommands to the user guide (Reboot an instance section).\n\nAs it is much related to the bug\nhttps://bugs.launchpad.net/openstack-manuals/+bug/1346793\nit also adds a note, informing the user about the restricted\nnumber of available actions for the instance in the\nvm_state RESCUED.\n\nChange-Id: I8818d4d7430c26619cd7bfc364c0f3d19f174152\nPartial-Bug: 1346793\n'}, {'number': 7, 'created': '2015-01-29 14:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/221724226a18a05191e61944cf178ee2d57cd1e2', 'message': 'Adds reboot into rescue mode\n\nThere were no usage instructions on how to reboot an instance into\nthe rescue mode. So, it was decided to add the description of\n$ nova rescue SERVER and $ nova unrescue SERVER\ncommands to the user guide (Reboot an instance section).\n\nAs it is much related to the bug\nhttps://bugs.launchpad.net/openstack-manuals/+bug/1346793\nit also adds a note, informing the user about the restricted\nnumber of available actions for the instance in running\nin the rescue mode.\n\nBesides, it adds --rescue_image_ref\n\nChange-Id: I8818d4d7430c26619cd7bfc364c0f3d19f174152\nPartial-Bug: 1346793\nFix-Bug: 1306174\n'}, {'number': 8, 'created': '2015-01-29 14:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a5680de2854499e6ca43ce0366bd2385799e48ed', 'message': 'Adds reboot into rescue mode\n\nThere were no usage instructions on how to reboot an instance into\nthe rescue mode. So, it was decided to add the description of\n$ nova rescue SERVER and $ nova unrescue SERVER\ncommands to the user guide (Reboot an instance section).\n\nAs it is much related to the bug\nhttps://bugs.launchpad.net/openstack-manuals/+bug/1346793\nit also adds a note, informing the user about the restricted\nnumber of available actions for the instance in running\nin the rescue mode.\n\nBesides, it adds --rescue_image_ref\n\nChange-Id: I8818d4d7430c26619cd7bfc364c0f3d19f174152\nPartial-Bug: 1346793\nCloses-Bug: 1306174\n'}, {'number': 9, 'created': '2015-01-30 08:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/bdd6719b7f746c576fbcbb9a1f43b36ec96d8527', 'message': 'Adds reboot into rescue mode\n\nThere were no usage instructions on how to reboot an instance into\nthe rescue mode. So, it was decided to add the description of\n$ nova rescue SERVER and $ nova unrescue SERVER\ncommands to the user guide (Reboot an instance section).\n\nAs it is much related to the bug\nhttps://bugs.launchpad.net/openstack-manuals/+bug/1346793\nit also adds a note, informing the user about the restricted\nnumber of available actions for the instance in running\nin the rescue mode.\n\nBesides, it adds --rescue_image_ref\n\nChange-Id: I8818d4d7430c26619cd7bfc364c0f3d19f174152\nPartial-Bug: 1346793\nCloses-Bug: 1306174\n'}, {'number': 10, 'created': '2015-01-30 12:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a60cc1a1a5ab4a75648ccc1700eb1cc36bc14dea', 'message': 'Adds reboot into rescue mode\n\nThere were no usage instructions on how to reboot an instance into\nthe rescue mode. So, it was decided to add the description of\n$ nova rescue SERVER and $ nova unrescue SERVER\ncommands to the user guide (Reboot an instance section).\n\nAs it is much related to the bug\nhttps://bugs.launchpad.net/openstack-manuals/+bug/1346793\nit also adds a note, informing the user about the restricted\nnumber of available actions for the instance in running\nin the rescue mode.\n\nBesides, it adds --rescue_image_ref\n\nChange-Id: I8818d4d7430c26619cd7bfc364c0f3d19f174152\nPartial-Bug: 1346793\nCloses-Bug: 1306174\n'}, {'number': 11, 'created': '2015-02-02 08:02:25.000000000', 'files': ['doc/user-guide/section_cli_nova_reboot.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/2c288fbe52e04922eb1a190a3a2c812d8ef7f63b', 'message': 'Adds reboot into rescue mode\n\nThere were no usage instructions on how to reboot an instance into\nthe rescue mode. So, it was decided to add the description of\n$ nova rescue SERVER and $ nova unrescue SERVER\ncommands to the user guide (Reboot an instance section).\n\nAs it is much related to the bug\nhttps://bugs.launchpad.net/openstack-manuals/+bug/1346793\nit also adds a note, informing the user about the restricted\nnumber of available actions for the instance in running\nin the rescue mode.\n\nBesides, it adds --rescue_image_ref\n\nChange-Id: I8818d4d7430c26619cd7bfc364c0f3d19f174152\nPartial-Bug: 1346793\nCloses-Bug: 1306174\n'}]",15,150385,2c288fbe52e04922eb1a190a3a2c812d8ef7f63b,40,12,11,14643,,,0,"Adds reboot into rescue mode

There were no usage instructions on how to reboot an instance into
the rescue mode. So, it was decided to add the description of
$ nova rescue SERVER and $ nova unrescue SERVER
commands to the user guide (Reboot an instance section).

As it is much related to the bug
https://bugs.launchpad.net/openstack-manuals/+bug/1346793
it also adds a note, informing the user about the restricted
number of available actions for the instance in running
in the rescue mode.

Besides, it adds --rescue_image_ref

Change-Id: I8818d4d7430c26619cd7bfc364c0f3d19f174152
Partial-Bug: 1346793
Closes-Bug: 1306174
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/85/150385/8 && git format-patch -1 --stdout FETCH_HEAD,['doc/user-guide/section_cli_nova_reboot.xml'],1,a2dfc7c3dff3ded1577a8d96ff3c582fc8725ac2,bug/1346793," <procedure> <step><para>By default, when you reboot a server, it is a soft reboot.</para> <procedure> <step><para>To perform a hard reboot, pass the <parameter>--hard</parameter> parameter, as follows:</para> <screen><prompt>$</prompt> <userinput>nova reboot --hard <replaceable>SERVER</replaceable></userinput></screen></step></procedure> <para>There is might be a necessity to reboot a running instance into the rescue mode, which starts an instance from the initial image attaching the current boot disk as a secondary one.</para> <procedure> <step><para>To perform an instance reboot into the rescue mode, run the following command:</para> <screen><prompt>$</prompt> <userinput>nova rescue <replaceable>INSTANCE_NAME</replaceable></userinput></screen></step></procedure> <procedure> <step><para>To restart the instance from the normal boot disk, run the following command:</para> <screen><prompt>$</prompt> <userinput>nova unrescue <replaceable>INSTANCE_NAME</replaceable></userinput></screen></step></procedure> <note> <para>It is not allowed to perform pause, suspend or stop operations while an instance is in vm_state rescued, as triggering these actions will cause the loss of the original instance state and make it impossible to unrescue the instance.</para> </note> </section>"," <procedure> <step><para>By default, when you reboot a server, it is a soft reboot.</para><para>To perform a hard reboot, pass the <parameter>--hard</parameter> parameter, as follows:</para><screen><prompt>$</prompt> <userinput>nova reboot --hard <replaceable>SERVER</replaceable></userinput></screen></section>",27,3
openstack%2Fsolum~master~I7c2cfbcb92377e697e55cb79db2598a316a197e7,openstack/solum,master,I7c2cfbcb92377e697e55cb79db2598a316a197e7,Fixed missing values,ABANDONED,2015-01-16 23:43:34.000000000,2015-02-03 21:14:50.000000000,,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 1375}, {'_account_id': 2506}]","[{'number': 1, 'created': '2015-01-16 23:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/f1d0652550fff89cd9865d6ccfc093c42d2785d3', 'message': 'Fixed missing val for service_tenant and admin_role variables in devstack\n\nChange-Id: I7c2cfbcb92377e697e55cb79db2598a316a197e7\n'}, {'number': 2, 'created': '2015-01-19 15:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/66e4c7a72834124d6dfcc394cb6e655e19c55e35', 'message': 'Fixed missing values\n\nservice_tenant and admin_role variables were not\nbeing set in setting up solum in devstack; this\npatch adds those lines\n\nChange-Id: I7c2cfbcb92377e697e55cb79db2598a316a197e7\n'}, {'number': 3, 'created': '2015-01-19 18:19:26.000000000', 'files': ['contrib/devstack/lib/solum', 'requirements.txt'], 'web_link': 'https://opendev.org/openstack/solum/commit/181b0301038aef454663dbe3ab02698bde362d5c', 'message': 'Fixed missing values\n\nservice_tenant and admin_role variables were not\nbeing set in setting up solum in devstack; this\npatch adds those lines\n\nChange-Id: I7c2cfbcb92377e697e55cb79db2598a316a197e7\n'}]",0,148023,181b0301038aef454663dbe3ab02698bde362d5c,14,4,3,2506,,,0,"Fixed missing values

service_tenant and admin_role variables were not
being set in setting up solum in devstack; this
patch adds those lines

Change-Id: I7c2cfbcb92377e697e55cb79db2598a316a197e7
",git fetch https://review.opendev.org/openstack/solum refs/changes/23/148023/3 && git format-patch -1 --stdout FETCH_HEAD,['contrib/devstack/lib/solum'],1,f1d0652550fff89cd9865d6ccfc093c42d2785d3,devstack-fix," local SERVICE_TENANT=$(openstack project list | awk ""/ $SERVICE_TENANT_NAME / { print \$2 }"") echo ""SERVICE_TENANT=$SERVICE_TENANT"" local ADMIN_ROLE=$(keystone role-list | awk ""/ admin / { print \$2 }"") echo ""ADMIN_ROLE=$ADMIN_ROLE"" ",,7,0
openstack%2Fopenstack-manuals~stable%2Fjuno~I70e1232b41c51b0efb6249f93ad8e006f0f57f4a,openstack/openstack-manuals,stable/juno,I70e1232b41c51b0efb6249f93ad8e006f0f57f4a,Use correct service name,MERGED,2015-02-03 15:31:13.000000000,2015-02-03 21:07:11.000000000,2015-02-03 21:07:09.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6843}]","[{'number': 1, 'created': '2015-02-03 15:31:13.000000000', 'files': ['doc/install-guide/section_glance-install.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/6a28bdca73f568cfadbd41dfca6ddda89063968d', 'message': ""Use correct service name\n\nUpdate patch #151729 to use 'Image Service' instead of 'glance'\nfor service name.\n\nChange-Id: I70e1232b41c51b0efb6249f93ad8e006f0f57f4a\nCloses-Bug: #1404956\nbackport: juno\n(cherry picked from commit 1a9e1a2f971bd1007bda45f2d8936ccd1d1e33f4)\n""}]",0,152572,6a28bdca73f568cfadbd41dfca6ddda89063968d,7,3,1,9515,,,0,"Use correct service name

Update patch #151729 to use 'Image Service' instead of 'glance'
for service name.

Change-Id: I70e1232b41c51b0efb6249f93ad8e006f0f57f4a
Closes-Bug: #1404956
backport: juno
(cherry picked from commit 1a9e1a2f971bd1007bda45f2d8936ccd1d1e33f4)
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/72/152572/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/section_glance-install.xml'],1,6a28bdca73f568cfadbd41dfca6ddda89063968d,juno/backport/152521," <para>In the <literal>[DEFAULT]</literal> section, configure the <literal>noop</literal> notification driver to disable notifications because they only pertain to the optional Telemetry service:</para> <programlisting language=""ini"">[DEFAULT] ... notification_driver = noop</programlisting> <para>The Telemetry chapter provides an Image Service configuration that enables notifications.</para> </step> <step> <para>In the <literal>[DEFAULT]</literal> section, configure the <literal>noop</literal> notification driver to disable notifications because they only pertain to the optional Telemetry service:</para> <programlisting language=""ini"">[DEFAULT] ... notification_driver = noop</programlisting> <para>The Telemetry chapter provides an Image Service configuration that enables notifications.</para> </step> <step>",,22,0
openstack%2Fproject-config~master~Iac7ffde66a2d5d1a1361ed9bcadb9144e034f10f,openstack/project-config,master,Iac7ffde66a2d5d1a1361ed9bcadb9144e034f10f,Stop using py3k-precise nodes,MERGED,2015-01-30 17:35:03.000000000,2015-02-03 21:02:56.000000000,2015-02-03 21:02:54.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-01-30 17:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/5bd16b7c943a72a2f65a9ac125693e7382fe9b13', 'message': 'Stop using py3k-precise nodes\n\nThese are no longer being used to run jobs, so clean up references\nto them.\n\nChange-Id: Iac7ffde66a2d5d1a1361ed9bcadb9144e034f10f\nDepends-On: I40d5d09f28ef53583d239d2e852e9c50b5962cf8\n'}, {'number': 2, 'created': '2015-01-30 21:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/40e2ee8dc40ed08ead8ba80b9894b3a004323344', 'message': 'Stop using py3k-precise nodes\n\nThese are no longer being used to run jobs, so clean up references\nto them.\n\nChange-Id: Iac7ffde66a2d5d1a1361ed9bcadb9144e034f10f\nDepends-On: I40d5d09f28ef53583d239d2e852e9c50b5962cf8\n'}, {'number': 3, 'created': '2015-01-30 23:47:38.000000000', 'files': ['nodepool/elements/puppet/bin/prepare-node', 'nodepool/elements/nodepool-base/install.d/90-venv-swift-logs', 'jenkins/jobs/python-jobs.yaml', 'zuul/openstack_functions.py', 'nodepool/scripts/prepare_node_bare.sh', 'nodepool/scripts/prepare_node.sh', 'nodepool/scripts/prepare_node_py3k.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/90e3c200bd51940fe58f9640621d5bfa97e28d48', 'message': 'Stop using py3k-precise nodes\n\nThese are no longer being used to run jobs, so clean up references\nto them.\n\nChange-Id: Iac7ffde66a2d5d1a1361ed9bcadb9144e034f10f\nDepends-On: I40d5d09f28ef53583d239d2e852e9c50b5962cf8\n'}]",0,151715,90e3c200bd51940fe58f9640621d5bfa97e28d48,15,5,3,5263,,,0,"Stop using py3k-precise nodes

These are no longer being used to run jobs, so clean up references
to them.

Change-Id: Iac7ffde66a2d5d1a1361ed9bcadb9144e034f10f
Depends-On: I40d5d09f28ef53583d239d2e852e9c50b5962cf8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/15/151715/3 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/elements/puppet/bin/prepare-node', 'nodepool/elements/nodepool-base/install.d/90-venv-swift-logs', 'jenkins/jobs/python-jobs.yaml', 'zuul/openstack_functions.py', 'nodepool/scripts/prepare_node_bare.sh', 'jenkins/jobs/projects.yaml', 'nodepool/scripts/prepare_node.sh', 'nodepool/scripts/prepare_node_py3k.sh']",8,5bd16b7c943a72a2f65a9ac125693e7382fe9b13,151715,,"#!/bin/bash -xe # Copyright (C) 2011-2014 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # # See the License for the specific language governing permissions and # limitations under the License. HOSTNAME=$1 export SUDO='false' export THIN='false' export PYTHON3='true' export PYPY='true' export ALL_MYSQL_PRIVS='true' ./prepare_node.sh ""$HOSTNAME"" ./fix_pip.sh ./restrict_memory.sh ",5,76
openstack%2Fdiskimage-builder~master~I76030654e7dfc7b7d4dfa87e082c14e7cee479b9,openstack/diskimage-builder,master,I76030654e7dfc7b7d4dfa87e082c14e7cee479b9,Use DIB_IMAGE_CACHE in dpkg element,MERGED,2015-01-13 22:43:02.000000000,2015-02-03 20:56:28.000000000,2015-02-03 20:56:26.000000000,"[{'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 7745}, {'_account_id': 8449}, {'_account_id': 9369}, {'_account_id': 10035}, {'_account_id': 12459}]","[{'number': 1, 'created': '2015-01-13 22:43:02.000000000', 'files': ['elements/dpkg/README.md', 'elements/dpkg/root.d/99-shared_apt_cache'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/bab9595524d5f9cd116fe0d56a6c95fb3b51cc96', 'message': 'Use DIB_IMAGE_CACHE in dpkg element\n\nThe dpkg element was hardcoding ~/.cache/image-create as the cache path,\nbut elements should use DIB_IMAGE_CACHE as the root for the cache to\nallow users to override the path. Replace the hardcoded path with one\nthat is rooted at $DIB_IMAGE_CACHE.\n\nChange-Id: I76030654e7dfc7b7d4dfa87e082c14e7cee479b9\n'}]",1,147000,bab9595524d5f9cd116fe0d56a6c95fb3b51cc96,17,7,1,4146,,,0,"Use DIB_IMAGE_CACHE in dpkg element

The dpkg element was hardcoding ~/.cache/image-create as the cache path,
but elements should use DIB_IMAGE_CACHE as the root for the cache to
allow users to override the path. Replace the hardcoded path with one
that is rooted at $DIB_IMAGE_CACHE.

Change-Id: I76030654e7dfc7b7d4dfa87e082c14e7cee479b9
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/00/147000/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/dpkg/README.md', 'elements/dpkg/root.d/99-shared_apt_cache']",2,bab9595524d5f9cd116fe0d56a6c95fb3b51cc96,use-dib-image-cache,apt_cache_dir=$DIB_IMAGE_CACHE/apt/$DISTRO_NAME,apt_cache_dir=$HOME/.cache/image-create/apt/$DISTRO_NAME,2,2
openstack%2Fkeystone~master~I9ded266b368e7955b1e295950df394823b1a4088,openstack/keystone,master,I9ded266b368e7955b1e295950df394823b1a4088,Adds a wip decorator for tests,MERGED,2014-10-28 17:42:54.000000000,2015-02-03 20:56:19.000000000,2015-02-03 20:56:17.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 6460}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 7634}, {'_account_id': 7725}, {'_account_id': 8978}, {'_account_id': 9101}, {'_account_id': 9142}, {'_account_id': 9751}, {'_account_id': 11022}, {'_account_id': 11387}, {'_account_id': 13055}]","[{'number': 1, 'created': '2014-10-28 17:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ff45930de8bd1cec794d644eb3f6b71140a03ebb', 'message': 'Adds a wip decorator for tests\n\nThis decorator can be used to commit failing tests while they are still\nin development. It can also be used be people that can show how an issue\ncan be reproduced without them having to make the code changes necessary\nto make the test pass.\n\nThis is nicer than just raising TestSkipped because there is a built in\nreminder to remove the decorator when the test starts passing.\n\nImplements: blueprint failing-tests\nChange-Id: I9ded266b368e7955b1e295950df394823b1a4088\n'}, {'number': 2, 'created': '2014-10-28 19:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c03f8c5342bc644ea642fb0efba82734a52c8fb7', 'message': 'Adds a wip decorator for tests\n\nThis decorator can be used to commit failing tests while they are still\nin development. It can also be used be people that can show how an issue\ncan be reproduced without them having to make the code changes necessary\nto make the test pass.\n\nThis is nicer than just raising TestSkipped because there is a built in\nreminder to remove the decorator when the test starts passing.\n\nImplements: blueprint failing-tests\nChange-Id: I9ded266b368e7955b1e295950df394823b1a4088\n'}, {'number': 3, 'created': '2014-10-29 17:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c6d4cb8e39157c14b6c418de126f33bf03e50b12', 'message': 'Adds a wip decorator for tests\n\nThis decorator can be used to commit failing tests while they are still\nin development. It can also be used be people that can show how an issue\ncan be reproduced without them having to make the code changes necessary\nto make the test pass.\n\nThis is nicer than just raising TestSkipped because there is a built in\nreminder to remove the decorator when the test starts passing.\n\nImplements: blueprint failing-tests\nChange-Id: I9ded266b368e7955b1e295950df394823b1a4088\n'}, {'number': 4, 'created': '2014-11-21 03:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8b667712ae31b59b76bf54c1efbfe8e55b0a564e', 'message': 'Adds a wip decorator for tests\n\nThis decorator can be used to commit failing tests while they are still\nin development. It can also be used be people that can show how an issue\ncan be reproduced without them having to make the code changes necessary\nto make the test pass.\n\nThis is nicer than just raising TestSkipped because there is a built in\nreminder to remove the decorator when the test starts passing.\n\nImplements: blueprint failing-tests\nChange-Id: I9ded266b368e7955b1e295950df394823b1a4088\n'}, {'number': 5, 'created': '2014-12-09 18:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7a5d6a2004e67869a511bc8c0824cce7a1b83163', 'message': 'Adds a wip decorator for tests\n\nThis decorator can be used to commit failing tests while they are still\nin development. It can also be used be people that can show how an issue\ncan be reproduced without them having to make the code changes necessary\nto make the test pass.\n\nThis is nicer than just raising TestSkipped because there is a built in\nreminder to remove the decorator when the test starts passing.\n\nImplements: blueprint failing-tests\nChange-Id: I9ded266b368e7955b1e295950df394823b1a4088\n'}, {'number': 6, 'created': '2014-12-16 16:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ddc2999f30192eadc108154a3c32c0a249783930', 'message': 'Adds a wip decorator for tests\n\nThis decorator can be used to commit failing tests while they are still\nin development. It can also be used by people to show how an issue can\nbe reproduced without them having to make the code changes necessary to\nmake the test pass.\n\nThis is nicer than just raising TestSkipped because there is a built in\nreminder to remove the decorator when the test starts passing.\n\nImplements: blueprint failing-tests\nChange-Id: I9ded266b368e7955b1e295950df394823b1a4088\n'}, {'number': 7, 'created': '2014-12-19 18:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/81f8925a714857723993d6b57ceb01982b6adb26', 'message': 'Adds a wip decorator for tests\n\nThis decorator can be used to commit failing tests while they are still\nin development. It can also be used by people to show how an issue can\nbe reproduced without them having to make the code changes necessary to\nmake the test pass.\n\nThis is nicer than just raising TestSkipped because there is a built in\nreminder to remove the decorator when the test starts passing.\n\nImplements: blueprint failing-tests\nChange-Id: I9ded266b368e7955b1e295950df394823b1a4088\n'}, {'number': 8, 'created': '2015-01-27 21:43:27.000000000', 'files': ['doc/source/developing.rst', 'keystone/tests/unit/tests/test_utils.py', 'keystone/tests/unit/tests/__init__.py', 'keystone/tests/utils.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/3b7988f45dbe00efa663bf941265529dae485ac2', 'message': 'Adds a wip decorator for tests\n\nThis decorator can be used to commit failing tests while they are still\nin development. It can also be used by people to show how an issue can\nbe reproduced without them having to make the code changes necessary to\nmake the test pass.\n\nThis is nicer than just raising TestSkipped because there is a built in\nreminder to remove the decorator when the test starts passing.\n\nImplements: blueprint failing-tests\nChange-Id: I9ded266b368e7955b1e295950df394823b1a4088\n'}]",14,131516,3b7988f45dbe00efa663bf941265529dae485ac2,51,17,8,7725,,,0,"Adds a wip decorator for tests

This decorator can be used to commit failing tests while they are still
in development. It can also be used by people to show how an issue can
be reproduced without them having to make the code changes necessary to
make the test pass.

This is nicer than just raising TestSkipped because there is a built in
reminder to remove the decorator when the test starts passing.

Implements: blueprint failing-tests
Change-Id: I9ded266b368e7955b1e295950df394823b1a4088
",git fetch https://review.opendev.org/openstack/keystone refs/changes/16/131516/8 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/tests/test_utils.py', 'keystone/tests/unit/tests/__init__.py', 'keystone/tests/utils.py']",3,ff45930de8bd1cec794d644eb3f6b71140a03ebb,bp/failing-tests,"import osimport six from testtools import testcase def wip(arg): """"""Mark a test as work in progress. Based on code by Nat Pryce: https://gist.github.com/npryce/997195#file-wip-py The test will always be run. If the test fails then a TestSkipped exception is raised. If the test passes an AssertionError exception is raised so that the developer knows they made the test pass. This is a reminder to remove the decorator. :param arg: can be either a string message to help clarify why the test is marked as a work in progress or the actual test usage: >>> @wip >>> def test(): >>> pass >>> @wip('waiting on bug #000000') >>> def test(): >>> pass """""" def _wip(f): @six.wraps(f) def run_test(*args, **kwargs): try: f(*args, **kwargs) except Exception: msg = 'work in progress test failed' msg = msg + ': ' + extra_message if extra_message else msg raise testcase.TestSkipped(msg) msg = 'work in progress test passed' msg = msg + ': ' + extra_message if extra_message else msg raise AssertionError(msg) return run_test if not callable(arg): extra_message = str(arg) return _wip else: extra_message = '' return _wip(arg)",,105,0
openstack%2Fkeystone~master~I1c4e59e253b1816ccfb4d5bf1d2aa40b49221b4f,openstack/keystone,master,I1c4e59e253b1816ccfb4d5bf1d2aa40b49221b4f,Refactor keystone-all and http/keystone,MERGED,2014-04-28 20:01:23.000000000,2015-02-03 20:56:02.000000000,2015-02-03 20:56:01.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 91}, {'_account_id': 220}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 6282}, {'_account_id': 6460}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7725}, {'_account_id': 8871}, {'_account_id': 9751}, {'_account_id': 13055}]","[{'number': 2, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ee949c70683b761a793c81ec8f02f1310ca2d3ba', 'message': ""Refactor keystone-all\n\nThere was a lot of code in keystone-all. Functions in keystone-all\ncan't be called from the tests.\n\nThis change moves most of the code from keystone-all into a new\nkeystone.eventlet_server module.\n\nChange-Id: I1c4e59e253b1816ccfb4d5bf1d2aa40b49221b4f\n""}, {'number': 3, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d8de053080418b266828b1aa10e7db09b0d3a4d4', 'message': ""Refactor keystone-all and http/keystone\n\nThere was a lot of code in keystone-all. Functions in keystone-all\ncan't be called from the tests.\n\nThis change moves most of the code from keystone-all into a new\nkeystone.application.eventlet_server module.\n\nAlso, the code in http/keystone.py was minimized in the\nsame way, by moving code to keystone.application.wsgi.\n\nThis allowed a bit of sharing with the tests.\n\nChange-Id: I1c4e59e253b1816ccfb4d5bf1d2aa40b49221b4f\n""}, {'number': 1, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/457f9c17b36100324f887f8d28fd76ea6eaa6a7b', 'message': ""Refactor keystone-all\n\nThere was a lot of code in keystone-all. Functions in keystone-all\ncan't be called from the tests.\n\nThis change moves most of the code from keystone-all into a new\nkeystone.eventlet_server module.\n\nChange-Id: I1c4e59e253b1816ccfb4d5bf1d2aa40b49221b4f\n""}, {'number': 4, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e948cc4f551a79e2c42e21bebee8627cf48b51d6', 'message': ""Refactor keystone-all and http/keystone\n\nThere was a lot of code in keystone-all. Functions in keystone-all\ncan't be called from the tests.\n\nThis change moves most of the code from keystone-all into a new\nkeystone.application.eventlet_server module.\n\nAlso, the code in http/keystone.py was minimized in the\nsame way, by moving code to keystone.application.wsgi.\n\nThis allowed a bit of sharing with the tests.\n\nChange-Id: I1c4e59e253b1816ccfb4d5bf1d2aa40b49221b4f\n""}, {'number': 5, 'created': '2014-04-28 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/169235cb50eac559acd4dc8341bb92cf0f75b8a0', 'message': ""Refactor keystone-all and http/keystone\n\nThere was a lot of code in keystone-all. Functions in keystone-all\ncan't be called from the tests.\n\nThis change moves most of the code from keystone-all into a new\nkeystone.application.eventlet_server module.\n\nAlso, the code in http/keystone.py was minimized in the\nsame way, by moving code to keystone.application.wsgi.\n\nThis allowed a bit of sharing with the tests.\n\nChange-Id: I1c4e59e253b1816ccfb4d5bf1d2aa40b49221b4f\n""}, {'number': 6, 'created': '2014-08-31 16:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/27c37c5bbd55c9bcfc63aed8c604f0438a4f4919', 'message': ""Refactor keystone-all and http/keystone\n\nThere was a lot of code in keystone-all and httpd/keystone.\nFunctions in keystone-all and http/keystone can't be called from the\ntests, so this code should be in the keystone package.\n\nThis also allows some sharing of common code between keystone-all,\nhttpd/keystone, and the tests.\n\nChange-Id: I1c4e59e253b1816ccfb4d5bf1d2aa40b49221b4f\n""}, {'number': 7, 'created': '2014-09-08 16:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/184f81a3df1b108a01c3819c7d3e584aa963b123', 'message': ""Refactor keystone-all and http/keystone\n\nThere was a lot of code in keystone-all and httpd/keystone.\nFunctions in keystone-all and http/keystone can't be called from the\ntests, so this code should be in the keystone package.\n\nThis also allows some sharing of common code between keystone-all,\nhttpd/keystone, and the tests.\n\nChange-Id: I1c4e59e253b1816ccfb4d5bf1d2aa40b49221b4f\n""}, {'number': 8, 'created': '2014-09-12 14:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/144c7d964aecc62aaefea6c55ff6236ab60f9129', 'message': ""Refactor keystone-all and http/keystone\n\nThere was a lot of code in keystone-all and httpd/keystone.\nFunctions in keystone-all and http/keystone can't be called from the\ntests, so this code should be in the keystone package.\n\nThis also allows some sharing of common code between keystone-all,\nhttpd/keystone, and the tests.\n\nChange-Id: I1c4e59e253b1816ccfb4d5bf1d2aa40b49221b4f\n""}, {'number': 9, 'created': '2014-09-27 14:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/976df4baefcb21f1c7adb8d4bea1dacb456135f3', 'message': ""Refactor keystone-all and http/keystone\n\nThere was a lot of code in keystone-all and httpd/keystone.\nFunctions in keystone-all and http/keystone can't be called from the\ntests, so this code should be in the keystone package.\n\nThis also allows some sharing of common code between keystone-all,\nhttpd/keystone, and the tests.\n\nChange-Id: I1c4e59e253b1816ccfb4d5bf1d2aa40b49221b4f\n""}, {'number': 10, 'created': '2014-09-27 14:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/419166b7c83603a3106fd3b6000dd13c6b18c11d', 'message': ""Refactor keystone-all and http/keystone\n\nThere was a lot of code in keystone-all and httpd/keystone.\nFunctions in keystone-all and http/keystone can't be called from the\ntests, so this code should be in the keystone package.\n\nThis also allows some sharing of common code between keystone-all,\nhttpd/keystone, and the tests.\n\nChange-Id: I1c4e59e253b1816ccfb4d5bf1d2aa40b49221b4f\n""}, {'number': 11, 'created': '2014-10-28 02:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9256dcc4c423d306553efad9a16e4cb76d775a70', 'message': ""Refactor keystone-all and http/keystone\n\nThere was a lot of code in keystone-all and httpd/keystone.\nFunctions in keystone-all and http/keystone can't be called from the\ntests, so this code should be in the keystone package.\n\nThis also allows some sharing of common code between keystone-all,\nhttpd/keystone, and the tests.\n\nChange-Id: I1c4e59e253b1816ccfb4d5bf1d2aa40b49221b4f\n""}, {'number': 12, 'created': '2014-10-28 02:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0d2a66d1c1ee220bc5b3488c0358f1519f434d68', 'message': ""Refactor keystone-all and http/keystone\n\nThere was a lot of code in keystone-all and httpd/keystone.\nFunctions in keystone-all and http/keystone can't be called from the\ntests, so this code should be in the keystone package.\n\nThis also allows some sharing of common code between keystone-all,\nhttpd/keystone, and the tests.\n\nChange-Id: I1c4e59e253b1816ccfb4d5bf1d2aa40b49221b4f\n""}, {'number': 13, 'created': '2014-10-28 02:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5203babebdde57e41cdaeaf3f4bf0e946e2a817c', 'message': ""Refactor keystone-all and http/keystone\n\nThere was a lot of code in keystone-all and httpd/keystone.\nFunctions in keystone-all and http/keystone can't be called from the\ntests, so this code should be in the keystone package.\n\nThis also allows some sharing of common code between keystone-all,\nhttpd/keystone, and the tests.\n\nChange-Id: I1c4e59e253b1816ccfb4d5bf1d2aa40b49221b4f\n""}, {'number': 14, 'created': '2014-10-28 13:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/967088b0535e133d719a5133bc0ba471768860d0', 'message': ""Refactor keystone-all and http/keystone\n\nThere was a lot of code in keystone-all and httpd/keystone.\nFunctions in keystone-all and http/keystone can't be called from the\ntests, so this code should be in the keystone package.\n\nThis also allows some sharing of common code between keystone-all,\nhttpd/keystone, and the tests.\n\nChange-Id: I1c4e59e253b1816ccfb4d5bf1d2aa40b49221b4f\n""}, {'number': 15, 'created': '2014-10-30 00:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5a19143e96b9ddcdd4192edbf23d3689af3c213f', 'message': ""Refactor keystone-all and http/keystone\n\nThere was a lot of code in keystone-all and httpd/keystone.\nFunctions in keystone-all and http/keystone can't be called from the\ntests, so this code should be in the keystone package.\n\nThis also allows some sharing of common code between keystone-all,\nhttpd/keystone, and the tests.\n\nChange-Id: I1c4e59e253b1816ccfb4d5bf1d2aa40b49221b4f\n""}, {'number': 16, 'created': '2014-10-30 00:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/32e20be435bd7af8de646d758ecd18b1f0bad758', 'message': ""Refactor keystone-all and http/keystone\n\nThere was a lot of code in keystone-all and httpd/keystone.\nFunctions in keystone-all and http/keystone can't be called from the\ntests, so this code should be in the keystone package.\n\nThis also allows some sharing of common code between keystone-all,\nhttpd/keystone, and the tests.\n\nChange-Id: I1c4e59e253b1816ccfb4d5bf1d2aa40b49221b4f\n""}, {'number': 17, 'created': '2014-12-29 15:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/42b73732b1b92d3db6cc7c68f09111161dbe7982', 'message': ""Refactor keystone-all and http/keystone\n\nThere was a lot of code in keystone-all and httpd/keystone.\nFunctions in keystone-all and http/keystone can't be called from the\ntests, so this code should be in the keystone package.\n\nThis also allows some sharing of common code between keystone-all,\nhttpd/keystone, and the tests.\n\nChange-Id: I1c4e59e253b1816ccfb4d5bf1d2aa40b49221b4f\n""}, {'number': 18, 'created': '2015-01-06 22:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/21a15f710eae059b83f5d07f310ca9c6850aff6f', 'message': ""Refactor keystone-all and http/keystone\n\nThere was a lot of code in keystone-all and httpd/keystone.\nFunctions in keystone-all and http/keystone can't be called from the\ntests, so this code should be in the keystone package.\n\nThis also allows some sharing of common code between keystone-all,\nhttpd/keystone, and the tests.\n\nbp refactor-keystone-all-http\n\nChange-Id: I1c4e59e253b1816ccfb4d5bf1d2aa40b49221b4f\n""}, {'number': 19, 'created': '2015-01-09 19:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7333fe0740eaed2f39f99682cf862d46fc395080', 'message': ""Refactor keystone-all and http/keystone\n\nThere was a lot of code in keystone-all and httpd/keystone.\nFunctions in keystone-all and http/keystone can't be called from the\ntests, so this code should be in the keystone package.\n\nThis also allows some sharing of common code between keystone-all,\nhttpd/keystone, and the tests.\n\nbp refactor-keystone-all-http\n\nChange-Id: I1c4e59e253b1816ccfb4d5bf1d2aa40b49221b4f\n""}, {'number': 20, 'created': '2015-01-16 18:26:33.000000000', 'files': ['keystone/server/wsgi.py', 'keystone/tests/core.py', 'keystone/server/common.py', 'bin/keystone-all', 'keystone/server/__init__.py', 'httpd/keystone.py', 'keystone/server/eventlet.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/ea8845a48f3def7a53407aadc14d45bf0609cc7d', 'message': ""Refactor keystone-all and http/keystone\n\nThere was a lot of code in keystone-all and httpd/keystone.\nFunctions in keystone-all and http/keystone can't be called from the\ntests, so this code should be in the keystone package.\n\nThis also allows some sharing of common code between keystone-all,\nhttpd/keystone, and the tests.\n\nbp refactor-keystone-all-http\n\nChange-Id: I1c4e59e253b1816ccfb4d5bf1d2aa40b49221b4f\n""}]",9,62275,ea8845a48f3def7a53407aadc14d45bf0609cc7d,98,15,20,6486,,,0,"Refactor keystone-all and http/keystone

There was a lot of code in keystone-all and httpd/keystone.
Functions in keystone-all and http/keystone can't be called from the
tests, so this code should be in the keystone package.

This also allows some sharing of common code between keystone-all,
httpd/keystone, and the tests.

bp refactor-keystone-all-http

Change-Id: I1c4e59e253b1816ccfb4d5bf1d2aa40b49221b4f
",git fetch https://review.opendev.org/openstack/keystone refs/changes/75/62275/10 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/eventlet_server.py', 'bin/keystone-all']",2,ee949c70683b761a793c81ec8f02f1310ca2d3ba,bp/refactor-keystone-all-http,"from keystone import eventlet_serverdef setup_interrupt_handler(): signal.signal(signal.SIGINT, _sigint_handler) eventlet_server.run(pre_start_fn=setup_interrupt_handler)","import socketfrom paste import deployfrom keystone.common import environmentfrom keystone.common import utilsfrom keystone.openstack.common import importutils from keystone import servicedef create_server(conf, name, host, port): app = deploy.loadapp('config:%s' % conf, name=name) server = environment.Server(app, host=host, port=port) if CONF.ssl.enable: server.set_ssl(CONF.ssl.certfile, CONF.ssl.keyfile, CONF.ssl.ca_certs, CONF.ssl.cert_required) return name, server def serve(*servers): signal.signal(signal.SIGINT, sigint_handler) for name, server in servers: try: server.start() except socket.error: logging.exception(_('Failed to start the %(name)s server') % { 'name': name}) raise # notify calling process we are ready to serve if CONF.onready: try: notifier = importutils.import_module(CONF.onready) notifier.notify() except ImportError: try: utils.check_output(CONF.onready.split()) except Exception: logging.exception('Failed to execute onready command') for name, server in servers: server.wait() # Log the options used when starting if we're in debug mode... if CONF.debug: CONF.log_opt_values(logging.getLogger(CONF.prog), logging.DEBUG) paste_config = config.find_paste_config() monkeypatch_thread = not CONF.standard_threads pydev_debug_url = utils.setup_remote_pydev_debug() if pydev_debug_url: # in order to work around errors caused by monkey patching we have to # set the thread to False. An explanation is here: # http://lists.openstack.org/pipermail/openstack-dev/2012-August/ # 000794.html monkeypatch_thread = False environment.use_eventlet(monkeypatch_thread) service.load_backends() servers = [] servers.append(create_server(paste_config, 'admin', CONF.admin_bind_host, int(CONF.admin_port))) servers.append(create_server(paste_config, 'main', CONF.public_bind_host, int(CONF.public_port))) serve(*servers)",109,67
openstack%2Frequirements~stable%2Fjuno~Id147a7b31f96650159f5178ac6dbeec2736d73f6,openstack/requirements,stable/juno,Id147a7b31f96650159f5178ac6dbeec2736d73f6,attempt to install all of global requirements,MERGED,2015-01-28 22:18:59.000000000,2015-02-03 20:47:50.000000000,2015-02-02 19:15:56.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 2592}, {'_account_id': 5263}]","[{'number': 1, 'created': '2015-01-28 22:18:59.000000000', 'files': ['tools/integration.sh'], 'web_link': 'https://opendev.org/openstack/requirements/commit/50ae1fe1503b0a6903c0609df8f5f14ea655a325', 'message': 'attempt to install all of global requirements\n\nThis adds a test to try to install all of the global-requirements.txt\ninto a venv to see if it works. If we can get this functioning, it\nwill help determine ordering issues and compatibility between all\ncomponents at an early stage.\n\nChange-Id: Id147a7b31f96650159f5178ac6dbeec2736d73f6\n(cherry picked from commit b380f04a253a0f010cd872cb72a61b9027adb276)\n'}]",0,151010,50ae1fe1503b0a6903c0609df8f5f14ea655a325,9,6,1,2750,,,0,"attempt to install all of global requirements

This adds a test to try to install all of the global-requirements.txt
into a venv to see if it works. If we can get this functioning, it
will help determine ordering issues and compatibility between all
components at an early stage.

Change-Id: Id147a7b31f96650159f5178ac6dbeec2736d73f6
(cherry picked from commit b380f04a253a0f010cd872cb72a61b9027adb276)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/10/151010/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/integration.sh'],1,50ae1fe1503b0a6903c0609df8f5f14ea655a325,test_backports,function install_all_of_gr { mkvenv $tmpdir/all_requirements $tmpdir/all_requirements/bin/pip install -r $REPODIR/requirements/global-requirements.txt } # Attempt to install all of global requirements install_all_of_gr,,7,0
openstack%2Fproject-config~master~Id12a2fd480eb136d2a71557c306451ef4090d0b6,openstack/project-config,master,Id12a2fd480eb136d2a71557c306451ef4090d0b6,Add proliantutils module to stackforge,MERGED,2015-02-03 09:43:06.000000000,2015-02-03 20:46:39.000000000,2015-02-03 20:46:38.000000000,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 5805}, {'_account_id': 6547}, {'_account_id': 6786}, {'_account_id': 9315}, {'_account_id': 11809}]","[{'number': 1, 'created': '2015-02-03 09:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4e103d20d405ddecd2e64b0c8bf69d2739ddad5a', 'message': 'Add proliantutils module to stackforge\n\nThis module is used by Ironic iLO drivers to manage\nHP Proliant Servers.\n\nChange-Id: Id12a2fd480eb136d2a71557c306451ef4090d0b6\n'}, {'number': 2, 'created': '2015-02-03 12:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/24155dc31da5cc7a8cadf0c60839a19473be677f', 'message': 'Add proliantutils module to stackforge\n\nThis module is used by Ironic iLO drivers to manage\nHP Proliant Servers.\n\nChange-Id: Id12a2fd480eb136d2a71557c306451ef4090d0b6\n'}, {'number': 3, 'created': '2015-02-03 15:38:17.000000000', 'files': ['gerritbot/channels.yaml', 'gerrit/acls/stackforge/proliantutils.config', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8563804fd96abfb66da31a4671d3e82ab98446d6', 'message': 'Add proliantutils module to stackforge\n\nThis module is used by Ironic iLO drivers to manage\nHP Proliant Servers.\n\nChange-Id: Id12a2fd480eb136d2a71557c306451ef4090d0b6\n'}]",5,152442,8563804fd96abfb66da31a4671d3e82ab98446d6,22,7,3,9315,,,0,"Add proliantutils module to stackforge

This module is used by Ironic iLO drivers to manage
HP Proliant Servers.

Change-Id: Id12a2fd480eb136d2a71557c306451ef4090d0b6
",git fetch https://review.opendev.org/openstack/project-config refs/changes/42/152442/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/acls/stackforge/proliantutils.config', 'gerrit/projects.yaml', 'zuul/layout.yaml']",4,4e103d20d405ddecd2e64b0c8bf69d2739ddad5a,proliantutils, - name: stackforge/proliantutils template: - name: merge-check - name: noop-jobs ,,23,0
openstack%2Fnova~master~I075ab2a522272f2082c292dfedc877abd8ebe328,openstack/nova,master,I075ab2a522272f2082c292dfedc877abd8ebe328,Replacing log.warn to log.warning  and adding _LW,ABANDONED,2014-11-20 08:53:11.000000000,2015-02-03 20:35:03.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 642}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 6849}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9420}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11531}]","[{'number': 1, 'created': '2014-11-20 08:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14f6a82cb52c052960a4aaf17f8f668600a0860a', 'message': ""Replacement `_` on `_LW` in all LOG.warning part 5\n\noslo.i18n uses different marker functions to separate the\ntranslatable messages into different catalogs, which the translation\nteams can prioritize translating. For details, please refer to:\nhttp://docs.openstack.org/developer/oslo.i18n/guidelines.html#guidelines-for-use-in-openstack\n\nThere were not marker fuctions some places in directory network.\nThis commit makes changes:\n* Add missing marker functions\n* Use ',' instead of '%' while adding variables to log messages\n\nChange-Id: I075ab2a522272f2082c292dfedc877abd8ebe328\n""}, {'number': 2, 'created': '2014-11-20 09:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8d31057e46a0c662327d6394ddd399c8c10b02b', 'message': ""Replacement `_` on `_LW` in all LOG.warning part 5\n\noslo.i18n uses different marker functions to separate the\ntranslatable messages into different catalogs, which the translation\nteams can prioritize translating. For details, please refer to:\nhttp://docs.openstack.org/developer/oslo.i18n/guidelines.html#guidelines-for-use-in-openstack\n\nThere were not marker fuctions some places in directory network.\nThis commit makes changes:\n* Add missing marker functions\n* Use ',' instead of '%' while adding variables to log messages\n\nChange-Id: I075ab2a522272f2082c292dfedc877abd8ebe328\n""}, {'number': 3, 'created': '2014-11-20 13:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/51390321801c0b66adb6f7243514f04c74253bef', 'message': ""Replacement `_` on `_LW` in all LOG.warning part 5\n\noslo.i18n uses different marker functions to separate the\ntranslatable messages into different catalogs, which the translation\nteams can prioritize translating. For details, please refer to:\nhttp://docs.openstack.org/developer/oslo.i18n/guidelines.html#guidelines-for-use-in-openstack\n\nThere were not marker fuctions some places in directory network.\nThis commit makes changes:\n* Add missing marker functions\n* Use ',' instead of '%' while adding variables to log messages\n\nChange-Id: I075ab2a522272f2082c292dfedc877abd8ebe328\n""}, {'number': 4, 'created': '2014-11-23 07:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3de7e5defc096494e9edc2c4354d4b76c0ec58fa', 'message': ""Replacement `_` on `_LW` in all LOG.warning part 5\n\noslo.i18n uses different marker functions to separate the\ntranslatable messages into different catalogs, which the translation\nteams can prioritize translating. For details, please refer to:\nhttp://docs.openstack.org/developer/oslo.i18n/guidelines.html#guidelines-for-use-in-openstack\n\nThere were not marker fuctions some places in directory network.\nThis commit makes changes:\n* Add missing marker functions\n* Use ',' instead of '%' while adding variables to log messages\n\nChange-Id: I075ab2a522272f2082c292dfedc877abd8ebe328\n""}, {'number': 5, 'created': '2014-11-26 08:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/072d1fabbe6ac36a808f57d53b27c7859b79658e', 'message': ""Replacement `_` on `_LW` in all LOG.warning part 5\n\noslo.i18n uses different marker functions to separate the\ntranslatable messages into different catalogs, which the translation\nteams can prioritize translating. For details, please refer to:\nhttp://docs.openstack.org/developer/oslo.i18n/guidelines.html#guidelines-for-use-in-openstack\n\nThere were not marker fuctions some places in directory network.\nThis commit makes changes:\n* Add missing marker functions\n* Use ',' instead of '%' while adding variables to log messages\n\nChange-Id: I075ab2a522272f2082c292dfedc877abd8ebe328\n""}, {'number': 6, 'created': '2014-12-04 12:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/314ef5a381f6e6d69d7f1af2317de86194c82982', 'message': ""Replacement `_` on `_LW` in all LOG.warning part 5\n\noslo.i18n uses different marker functions to separate the\ntranslatable messages into different catalogs, which the translation\nteams can prioritize translating. For details, please refer to:\nhttp://docs.openstack.org/developer/oslo.i18n/guidelines.html#guidelines-for-use-in-openstack\n\nThere were not marker fuctions some places in directory network.\nThis commit makes changes:\n* Add missing marker functions\n* Use ',' instead of '%' while adding variables to log messages\n\nChange-Id: I075ab2a522272f2082c292dfedc877abd8ebe328\n""}, {'number': 7, 'created': '2014-12-08 15:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bddfa104565241fc640fe072795710cd3e447f58', 'message': ""Replacement `_` on `_LW` in all LOG.warning part 5\n\noslo.i18n uses different marker functions to separate the\ntranslatable messages into different catalogs, which the translation\nteams can prioritize translating. For details, please refer to:\nhttp://docs.openstack.org/developer/oslo.i18n/guidelines.html#guidelines-for-use-in-openstack\n\nThere were not marker fuctions some places in directory network.\nThis commit makes changes:\n* Add missing marker functions\n* Use ',' instead of '%' while adding variables to log messages\n\nChange-Id: I075ab2a522272f2082c292dfedc877abd8ebe328\n""}, {'number': 8, 'created': '2014-12-15 09:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46eb2330f2c93b49915f3a117b8614d09ea06395', 'message': 'Replacing missed log.warn to log.warning\n\nJust replaced the missing log.warn to log.warning and cleared the checking.\n\nChange-Id: I075ab2a522272f2082c292dfedc877abd8ebe328'}, {'number': 9, 'created': '2014-12-15 11:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90aab06ae7701beef0ffdd46a3e4fdbac6b16bec', 'message': 'Replacing missed log.warn to log.warning\n\nJust replaced the missing log.warn to log.warning and cleared the checking.\n\nChange-Id: I075ab2a522272f2082c292dfedc877abd8ebe328\n'}, {'number': 10, 'created': '2014-12-16 10:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c00d92c9b64dcc718f6ab68bc6d9e4c863afd4e', 'message': ""Replacing log.warn to log.warning\n\nLogging from oslo interfaces directly with the logging stdlib from python. If so warn() and warning() is just an alias.\nBut, even it's an alias, we still should be stick to warning() because although warn() was kept as backwards compatibility in PY3 it's not even documented there[1] and they recommended to use warning()\n[1] https://docs.python.org/3/library/logging.html\n\nReplaced the missing log.warn to log.warning and cleared the checking.\n\nChange-Id: I075ab2a522272f2082c292dfedc877abd8ebe328""}, {'number': 11, 'created': '2014-12-16 10:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0952e172f1e801d89a30fb6d5b0051e314cfb9b8', 'message': ""Replacing log.warn to log.warning\n\nLogging from oslo interfaces directly with the logging stdlib from \npython. If so warn() and warning() is just an alias.\nBut, even it's an alias, we still should be stick to warning() because\nalthough warn() was kept as backwards compatibility in PY3 it's not even\ndocumented there[1] and they recommended to use warning()\n[1] https://docs.python.org/3/library/logging.html\n\nReplaced the missing log.warn to log.warning and cleared the checking.\n\nChange-Id: I075ab2a522272f2082c292dfedc877abd8ebe328""}, {'number': 12, 'created': '2015-01-07 08:56:25.000000000', 'files': ['nova/virt/libvirt/imagecache.py', 'nova/virt/libvirt/driver.py', 'nova/virt/libvirt/remotefs.py', 'nova/virt/libvirt/host.py', 'nova/hacking/checks.py', 'nova/virt/libvirt/rbd_utils.py', 'nova/virt/libvirt/volume.py', 'nova/virt/libvirt/utils.py', 'nova/virt/libvirt/lvm.py', 'nova/virt/libvirt/firewall.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/13bcabc38b277402b812240a447823ff3abb828d', 'message': ""Replacing log.warn to log.warning  and adding _LW\n\nLogging from oslo interfaces directly with the logging stdlib from\npython. If so warn() and warning() is just an alias.\nBut, even it's an alias, we still should be stick to warning() because\nalthough warn() was kept as backwards compatibility in PY3 it's not even\ndocumented there[1] and they recommended to use warning()\n[1] https://docs.python.org/3/library/logging.html\n\nReplaced the missing log.warn to log.warning and cleared the checking.\n\nThere were not marker fuctions some places in directory libvirt.\nThis commit makes changes:\n* Add missing marker functions\n* Use ',' instead of '%' while adding variables to log messages\n\nChange-Id: I075ab2a522272f2082c292dfedc877abd8ebe328\n""}]",1,135888,13bcabc38b277402b812240a447823ff3abb828d,90,16,12,8412,,,0,"Replacing log.warn to log.warning  and adding _LW

Logging from oslo interfaces directly with the logging stdlib from
python. If so warn() and warning() is just an alias.
But, even it's an alias, we still should be stick to warning() because
although warn() was kept as backwards compatibility in PY3 it's not even
documented there[1] and they recommended to use warning()
[1] https://docs.python.org/3/library/logging.html

Replaced the missing log.warn to log.warning and cleared the checking.

There were not marker fuctions some places in directory libvirt.
This commit makes changes:
* Add missing marker functions
* Use ',' instead of '%' while adding variables to log messages

Change-Id: I075ab2a522272f2082c292dfedc877abd8ebe328
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/135888/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/imagecache.py', 'nova/virt/libvirt/driver.py', 'nova/hacking/checks.py', 'nova/virt/libvirt/rbd_utils.py', 'nova/virt/libvirt/volume.py', 'nova/virt/libvirt/lvm.py', 'nova/virt/libvirt/utils.py', 'nova/virt/libvirt/firewall.py']",8,14f6a82cb52c052960a4aaf17f8f668600a0860a,Replacement_LOG.warn_to_LOG.warning," LOG.warning(_LW(""Libvirt module could not be loaded. "" ""NWFilterFirewall will not work correctly.""))"," LOG.warn(_LW(""Libvirt module could not be loaded. "" ""NWFilterFirewall will not work correctly.""))",159,161
openstack%2Fproject-config~master~I9c9eb7abad121f23884d58c17771be412e7614c2,openstack/project-config,master,I9c9eb7abad121f23884d58c17771be412e7614c2,Sort filenames in swift indexes,MERGED,2015-02-02 23:58:33.000000000,2015-02-03 20:32:47.000000000,2015-02-03 20:32:45.000000000,"[{'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-02-02 23:58:33.000000000', 'files': ['jenkins/scripts/zuul_swift_upload.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ee1406f72357748c5cae2bf813ee22cdb9f475a1', 'message': 'Sort filenames in swift indexes\n\nSort the folders first then the file list for swift indexes.\nThe sorted() function runs on the whole path even though only the\nbasename is displayed. This will still result in the correct order\nthough as the folder paths will be identical.\n\nChange-Id: I9c9eb7abad121f23884d58c17771be412e7614c2\n'}]",0,152346,ee1406f72357748c5cae2bf813ee22cdb9f475a1,8,4,1,7069,,,0,"Sort filenames in swift indexes

Sort the folders first then the file list for swift indexes.
The sorted() function runs on the whole path even though only the
basename is displayed. This will still result in the correct order
though as the folder paths will be identical.

Change-Id: I9c9eb7abad121f23884d58c17771be412e7614c2
",git fetch https://review.opendev.org/openstack/project-config refs/changes/46/152346/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/scripts/zuul_swift_upload.py'],1,ee1406f72357748c5cae2bf813ee22cdb9f475a1,sort_index," for f in sorted(folders): for f in sorted(files): filename = os.path.basename(f) full_path = os.path.join(path, filename) relative_name = os.path.relpath(full_path, parent_dir) url = os.path.join(destination_prefix, relative_name) file_details = { 'filename': filename, 'path': full_path, 'relative_name': relative_name, 'url': url, 'metadata': get_file_metadata(full_path), } file_list.append(file_details) folder_links.append(file_details) "," for f in files: filename = os.path.basename(f) full_path = os.path.join(path, filename) relative_name = os.path.relpath(full_path, parent_dir) url = os.path.join(destination_prefix, relative_name) file_details = { 'filename': filename, 'path': full_path, 'relative_name': relative_name, 'url': url, 'metadata': get_file_metadata(full_path), } file_list.append(file_details) folder_links.append(file_details) for f in folders:",18,18
openstack%2Foslo.messaging~master~I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df,openstack/oslo.messaging,master,I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df,RabbitMQ heartbeat implementation,ABANDONED,2014-10-06 15:45:09.000000000,2015-02-03 20:27:53.000000000,,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 1297}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 2813}, {'_account_id': 5638}, {'_account_id': 7536}, {'_account_id': 7582}, {'_account_id': 8415}, {'_account_id': 8770}, {'_account_id': 8788}, {'_account_id': 8797}, {'_account_id': 9257}, {'_account_id': 9312}, {'_account_id': 10234}, {'_account_id': 13290}, {'_account_id': 13762}]","[{'number': 1, 'created': '2014-10-06 15:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/998a9e7c7894fdecb5cb9c52c9e056f218c95750', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nRelated-Bug: #856764\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 2, 'created': '2014-10-07 14:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/56c82612eb9938aabcbd3a2a8fae51b5e557ae1f', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nRelated-Bug: #856764\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 3, 'created': '2014-10-08 10:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/687f773c4c0a0a787196656d92fee68c303599d9', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nRelated-Bug: #856764\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 4, 'created': '2014-10-09 08:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/2ae5f5bd4040e4f9c14aa013f31ef10994cdd696', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nRelated-Bug: #856764\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 5, 'created': '2014-10-09 16:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/9cbeb06200555cff4c12a47570d8629e7f250785', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nRelated-Bug: #856764\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 6, 'created': '2014-10-10 15:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/647c08d55ee7e58c1cccd1a32eed8c3a39995ac7', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nRelated-Bug: #856764\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 7, 'created': '2014-11-05 12:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/7e7bea4a5a89d0bdcd59ce0cc7a510141aac5d93', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 8, 'created': '2014-11-19 16:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/630d9bf8fe5dd8bc517bc1c2dbd7af6b8f6989ab', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 9, 'created': '2014-11-20 14:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/19fa74b0a39c00b76e040a587ba04f311a9e76a7', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 10, 'created': '2014-11-20 16:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0469542d891f6cbaaf02bbd6bbcde5f661cf947e', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 11, 'created': '2014-11-21 11:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/e53cc6cb5420f45409204d5a004ee12b4609e4cf', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 12, 'created': '2014-11-21 14:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/9ac04d9bbf9b948fef57eef5d211b4810024ce86', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 13, 'created': '2014-11-21 15:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/7da6f6ea9d2798fcedaa7d05d1acaf6d723bfcc1', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 14, 'created': '2014-11-24 10:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/729d486ea6aa4d4daef5bfa5fc6846340eb76b7c', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 15, 'created': '2014-11-27 15:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/7c2384804dcb9658a16eccb952a7476b2a525f0e', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 16, 'created': '2014-11-28 07:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/c904f2e8df8c97d898bb40058c7ccea8207f17a6', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 17, 'created': '2014-11-28 12:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/62dc2d23ecc3b69f5af75632db256156ca6e5849', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nCo-Authored-By: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>\n\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 18, 'created': '2014-11-28 13:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/bc52b80514882f276bff6591284f2748b751023a', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nCo-Authored-By: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>\n\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 19, 'created': '2014-11-28 14:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/2187d00c86df54471063cd7ff0a78d74c546bd8e', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nCo-Authored-By: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>\n\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 20, 'created': '2014-11-28 18:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/3476e750326942195d44633952427b792414f195', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nCo-Authored-By: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>\n\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 21, 'created': '2014-12-01 12:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/26ec99f3b562f72fa65f18ea68141efd758ac717', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nCo-Authored-By: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>\n\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 22, 'created': '2014-12-01 12:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/baf85120abd2e8b9714b9cbf5585252bda6b040b', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nCo-Authored-By: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>\n\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 23, 'created': '2014-12-01 13:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/3d40e8925db12ff22974889dff2191a47bc8b283', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nCo-Authored-By: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>\n\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 24, 'created': '2014-12-01 18:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/f11f28be55e4144eee31831429eff569e57898b4', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nCo-Authored-By: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>\n\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 25, 'created': '2014-12-01 23:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/8a55db142f9594c87bffa7ff629803515104f384', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nCo-Authored-By: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>\n\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 26, 'created': '2014-12-02 07:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/f89d03ef86be01b0acb6aa26bb6f6eb29f8f9fc4', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nCo-Authored-By: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>\n\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 27, 'created': '2014-12-02 11:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/69a529820b9aab62661c1e866fa6a41216fc4d98', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nCo-Authored-By: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>\n\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 28, 'created': '2014-12-02 14:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/e653a9169552b54a044aa0629bc2df4e03b9c394', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nCo-Authored-By: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>\n\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 29, 'created': '2014-12-02 15:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/2f964abae884ee1c20604d9e062312c01512820d', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nCo-Authored-By: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>\n\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 30, 'created': '2014-12-03 14:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d6d86f7b5ec83d61dc0e9db1717f2521eb5e6909', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nCo-Authored-By: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>\n\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 31, 'created': '2014-12-09 11:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/80f9739e3c51b206af2a36139a73c7b96087a680', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nCo-Authored-By: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>\n\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 32, 'created': '2014-12-30 16:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ae9a95bbee210e17805a1898b5c967e3cd66273f', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nCo-Authored-By: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>\n\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 33, 'created': '2015-01-07 21:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/a5125a49e0f9065b696c697e6cd0125b105cebbb', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nCo-Authored-By: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>\n\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}, {'number': 34, 'created': '2015-01-07 22:12:13.000000000', 'files': ['oslo/messaging/_drivers/pool.py', 'oslo/messaging/_drivers/impl_rabbit.py', 'tests/drivers/test_impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/921e4e454a801be8f93a4cb89166e187c6bcf820', 'message': 'RabbitMQ heartbeat implementation\n\nAMQP offers a heartbeat feature to ensure that the application layer\npromptly finds out about disrupted connections (and also completely\nunresponsive peers). If the client requests heartbeats on connection, rabbit\nserver will regularly send messages to each connections with the expectation of\na response.\n\nCo-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>\nCo-Authored-By: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>\n\nRelated-Bug: #856764\nRelated-Bug: #1371723\nChange-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df\n'}]",71,126330,921e4e454a801be8f93a4cb89166e187c6bcf820,137,18,34,7536,,,0,"RabbitMQ heartbeat implementation

AMQP offers a heartbeat feature to ensure that the application layer
promptly finds out about disrupted connections (and also completely
unresponsive peers). If the client requests heartbeats on connection, rabbit
server will regularly send messages to each connections with the expectation of
a response.

Co-Authored-By: Oleksii Zamiatin <ozamiatin@mirantis.com>
Co-Authored-By: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>

Related-Bug: #856764
Related-Bug: #1371723
Change-Id: I3dae1c1bee4ecf521903f3b1bee44dcda18bc3df
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/30/126330/14 && git format-patch -1 --stdout FETCH_HEAD,"['oslo/messaging/_drivers/amqpdriver.py', 'oslo/messaging/_drivers/pool.py', 'oslo/messaging/_drivers/impl_rabbit.py', 'test-requirements.txt', 'test-requirements-py3.txt', 'tests/drivers/test_impl_rabbit.py']",6,998a9e7c7894fdecb5cb9c52c9e056f218c95750,bug/856764," expected=[dict(heartbeat=60, hostname='localhost', expected=[dict(heartbeat=60, hostname='host', expected=[dict(heartbeat=60, hostname='host', expected=[dict(heartbeat=60, hostname='host', expected=[dict(heartbeat=60, hostname='host', dict(heartbeat=60, hostname='host2',"," expected=[dict(hostname='localhost', expected=[dict(hostname='host', expected=[dict(hostname='host', expected=[dict(hostname='host', expected=[dict(hostname='host', dict(hostname='host2',",158,16
openstack%2Fnova~master~I353eb87f915a5ab7d492c2dbd028a839aa5041a6,openstack/nova,master,I353eb87f915a5ab7d492c2dbd028a839aa5041a6,Add host field to ComputeNode,MERGED,2014-10-06 17:47:07.000000000,2015-02-03 20:23:36.000000000,2014-12-09 14:58:30.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 100}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 2271}, {'_account_id': 5170}, {'_account_id': 5367}, {'_account_id': 5511}, {'_account_id': 6450}, {'_account_id': 7166}, {'_account_id': 7461}, {'_account_id': 8412}, {'_account_id': 8574}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-06 17:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2526bb83c88f6e2c7857d264ec811d1f164b2223', 'message': 'Add host field to ComputeNode\n\nIn order to remove the Service dependency, we need to add\nthe host field to ComputeNode when creating an entry\n\nChange-Id: I353eb87f915a5ab7d492c2dbd028a839aa5041a6\nRelated-Bug: #1357491\n'}, {'number': 2, 'created': '2014-10-06 19:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f90abf4330ca17c169f4a7e5702a95fa1555f684', 'message': 'Add host field to ComputeNode\n\nIn order to remove the Service dependency, we need to add\nthe host field to ComputeNode when creating an entry\n\nChange-Id: I353eb87f915a5ab7d492c2dbd028a839aa5041a6\nRelated-Bug: #1357491\n'}, {'number': 3, 'created': '2014-10-07 10:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf2ce71f455cf7fe637edb46b1ad8ce7b2dfa21e', 'message': 'Add host field to ComputeNode\n\nIn order to remove the Service dependency, we need to add\nthe host field to ComputeNode when creating an entry\n\nChange-Id: I353eb87f915a5ab7d492c2dbd028a839aa5041a6\nRelated-Bug: #1357491\n'}, {'number': 4, 'created': '2014-10-07 13:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86b99d53a0dc8daa0e2bd23fe07b7b6c45e82cb3', 'message': 'Add host field to ComputeNode\n\nIn order to remove the Service dependency, we need to add\nthe host field to ComputeNode when creating an entry\n\nRelated-Bug: #1357491\n\nChange-Id: I353eb87f915a5ab7d492c2dbd028a839aa5041a6\n'}, {'number': 5, 'created': '2014-10-08 12:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19b200d53801560962ec4dbfe957b618cf87ce4e', 'message': 'Add host field to ComputeNode\n\nIn order to remove the Service dependency, we need to add\nthe host field to ComputeNode when creating an entry\n\nRelated-Bug: #1357491\n\nChange-Id: I353eb87f915a5ab7d492c2dbd028a839aa5041a6\n'}, {'number': 6, 'created': '2014-10-08 13:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b905817d92d08809c77f8675809810d3ebd3bf3b', 'message': 'Add host field to ComputeNode\n\nIn order to remove the Service dependency, we need to add\nthe host field to ComputeNode when creating an entry\n\nImplements blueprint detach-service-from-computenode\n\nChange-Id: I353eb87f915a5ab7d492c2dbd028a839aa5041a6\n'}, {'number': 7, 'created': '2014-10-15 09:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cdd1a4557a98ea352ddfc7ec186fa9aca6322bca', 'message': 'Add host field to ComputeNode\n\nIn order to remove the Service dependency, we need to add\nthe host field to ComputeNode when creating an entry\n\nImplements blueprint detach-service-from-computenode\n\nChange-Id: I353eb87f915a5ab7d492c2dbd028a839aa5041a6\n'}, {'number': 8, 'created': '2014-11-13 11:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba6254b316a447381c4575d7b42f330e8e0ac1a4', 'message': 'Add host field to ComputeNode\n\nIn order to remove the Service dependency, we need to add\nthe host field to ComputeNode when creating an entry\n\nImplements blueprint detach-service-from-computenode\n\nChange-Id: I353eb87f915a5ab7d492c2dbd028a839aa5041a6\n'}, {'number': 9, 'created': '2014-11-13 16:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/597f0958e2cfc5f8b01f6430dbc809ee4c2da86b', 'message': 'Add host field to ComputeNode\n\nIn order to remove the Service dependency, we need to add\nthe host field to ComputeNode when creating an entry\n\nImplements blueprint detach-service-from-computenode\n\nChange-Id: I353eb87f915a5ab7d492c2dbd028a839aa5041a6\n'}, {'number': 10, 'created': '2014-11-21 15:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c1ed134cecdcd7b231a2551fa267da5bfd73e73', 'message': 'Add host field to ComputeNode\n\nIn order to remove the Service dependency, we need to add\nthe host field to ComputeNode when creating an entry\n\nImplements blueprint detach-service-from-computenode\n\nChange-Id: I353eb87f915a5ab7d492c2dbd028a839aa5041a6\n'}, {'number': 11, 'created': '2014-11-24 11:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9da1a32e05669c9fd5de89976ed2c041746e75b7', 'message': 'Add host field to ComputeNode\n\nIn order to remove the Service dependency, we need to add\nthe host field to ComputeNode when creating an entry\n\nImplements blueprint detach-service-from-computenode\n\nChange-Id: I353eb87f915a5ab7d492c2dbd028a839aa5041a6\n'}, {'number': 12, 'created': '2014-12-02 09:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7c25fd0a507df70cdf8f0efffe3e943ebf4d937', 'message': 'Add host field to ComputeNode\n\nIn order to remove the Service dependency, we need to add\nthe host field to ComputeNode when creating an entry\n\nImplements blueprint detach-service-from-computenode\n\nChange-Id: I353eb87f915a5ab7d492c2dbd028a839aa5041a6\n'}, {'number': 13, 'created': '2014-12-02 10:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71b2265f6acdaa5cd3c7f6fc7b29844646e09569', 'message': 'Add host field to ComputeNode\n\nIn order to remove the Service dependency, we need to add\nthe host field to ComputeNode when creating an entry\n\nImplements blueprint detach-service-from-computenode\n\nChange-Id: I353eb87f915a5ab7d492c2dbd028a839aa5041a6\n'}, {'number': 14, 'created': '2014-12-02 15:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd09c2653d08d3bf763b747bb9e1ec4829f169e9', 'message': 'Add host field to ComputeNode\n\nIn order to remove the Service dependency, we need to add\nthe host field to ComputeNode when creating an entry\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I353eb87f915a5ab7d492c2dbd028a839aa5041a6\n'}, {'number': 15, 'created': '2014-12-02 15:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45b0395965fdd6eb4086a57aba04f24e234edd24', 'message': 'Add host field to ComputeNode\n\nIn order to remove the Service dependency, we need to add\nthe host field to ComputeNode when creating an entry\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I353eb87f915a5ab7d492c2dbd028a839aa5041a6\n'}, {'number': 16, 'created': '2014-12-03 17:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a50b03f3541322d4c55c0e174aefab3e3ac0c62', 'message': 'Add host field to ComputeNode\n\nIn order to remove the Service dependency, we need to add\nthe host field to ComputeNode when creating an entry\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I353eb87f915a5ab7d492c2dbd028a839aa5041a6\n'}, {'number': 17, 'created': '2014-12-04 08:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90cd139eb38229caccf49e29d287a3a4381d2ce7', 'message': 'Add host field to ComputeNode\n\nIn order to remove the Service dependency, we need to add\nthe host field to ComputeNode when creating an entry\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I353eb87f915a5ab7d492c2dbd028a839aa5041a6\n'}, {'number': 18, 'created': '2014-12-05 09:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a015a8d9c13b544f8bdfbe765ac9c286e3f8fb60', 'message': 'Add host field to ComputeNode\n\nIn order to remove the Service dependency, we need to add\nthe host field to ComputeNode when creating an entry\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I353eb87f915a5ab7d492c2dbd028a839aa5041a6\n'}, {'number': 19, 'created': '2014-12-08 14:33:27.000000000', 'files': ['nova/tests/unit/db/test_migrations.py', 'nova/objects/service.py', 'nova/tests/unit/scheduler/fakes.py', 'nova/tests/unit/scheduler/test_weights.py', 'nova/tests/functional/v3/test_pci.py', 'nova/db/sqlalchemy/migrate_repo/versions/268_add_host_in_compute_node.py', 'nova/tests/unit/api/openstack/compute/contrib/test_extended_hypervisors.py', 'nova/objects/compute_node.py', 'nova/tests/unit/cells/test_cells_state_manager.py', 'nova/tests/unit/api/openstack/compute/contrib/test_hosts.py', 'nova/tests/unit/compute/test_multiple_nodes.py', 'nova/tests/unit/api/openstack/compute/plugins/v3/test_pci.py', 'nova/tests/unit/scheduler/ironic_fakes.py', 'nova/tests/unit/objects/test_compute_node.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/objects/test_objects.py', 'nova/db/sqlalchemy/models.py', 'nova/tests/unit/compute/test_tracker.py', 'nova/tests/unit/cells/test_cells_manager.py', 'nova/tests/unit/api/openstack/compute/contrib/test_hypervisors.py', 'nova/compute/resource_tracker.py', 'nova/tests/unit/db/test_db_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ba925464ba776c2ed459f2f0e11166db84432eb4', 'message': 'Add host field to ComputeNode\n\nIn order to remove the Service dependency, we need to add\nthe host field to ComputeNode when creating an entry\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I353eb87f915a5ab7d492c2dbd028a839aa5041a6\n'}]",20,126372,ba925464ba776c2ed459f2f0e11166db84432eb4,144,20,19,7166,,,0,"Add host field to ComputeNode

In order to remove the Service dependency, we need to add
the host field to ComputeNode when creating an entry

Partially-Implements blueprint detach-service-from-computenode

Change-Id: I353eb87f915a5ab7d492c2dbd028a839aa5041a6
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/126372/13 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/scheduler/fakes.py', 'nova/tests/objects/test_compute_node.py', 'nova/tests/cells/test_cells_manager.py', 'nova/tests/api/openstack/compute/plugins/v3/test_pci.py', 'nova/tests/compute/test_resource_tracker.py', 'nova/tests/db/test_migrations.py', 'nova/db/sqlalchemy/models.py', 'nova/tests/integrated/v3/test_pci.py', 'nova/tests/scheduler/ironic_fakes.py', 'nova/objects/compute_node.py', 'nova/tests/api/openstack/compute/contrib/test_hosts.py', 'nova/tests/api/openstack/compute/contrib/test_hypervisors.py', 'nova/tests/db/test_db_api.py', 'nova/compute/resource_tracker.py', 'nova/tests/virt/libvirt/test_driver.py', 'nova/db/sqlalchemy/migrate_repo/versions/266_add_host_in_compute_node.py']",16,2526bb83c88f6e2c7857d264ec811d1f164b2223,bp/detach-service-from-computenode,"# Copyright (c) 2014 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from migrate import UniqueConstraint import sqlalchemy from sqlalchemy import MetaData, Table, Column, String def upgrade(migrate_engine): meta = MetaData() meta.bind = migrate_engine # Add a new column host compute_nodes = Table('compute_nodes', meta, autoload=True) services = Table('services', meta, autoload=True) shadow_compute_nodes = Table('shadow_compute_nodes', meta, autoload=True) host = Column('host', String(255), nullable=True) if not hasattr(compute_nodes.c, 'host'): compute_nodes.create_column(host) if not hasattr(shadow_compute_nodes.c, 'host'): shadow_compute_nodes.create_column(host.copy()) # Populate the host field with the value from the services table. populate_host = compute_nodes.update().values( # pylint: disable=E1120 host=sqlalchemy.sql.select([services.c.host]).where( compute_nodes.c.service_id == services.c.id).as_scalar() ) migrate_engine.execute(populate_host) # Make the host field not nullable host_column = getattr(compute_nodes.c, 'host') host_column.alter(nullable=False) host_column = getattr(shadow_compute_nodes.c, 'host') host_column.alter(nullable=False) ukey = UniqueConstraint('host', 'hypervisor_hostname', table=compute_nodes, name=""uniq_compute_nodes0host0hypervisor_hostname"") ukey.create() def downgrade(migrate_engine): meta = MetaData() meta.bind = migrate_engine # Remove the new column compute_nodes = Table('compute_nodes', meta, autoload=True) shadow_compute_nodes = Table('shadow_compute_nodes', meta, autoload=True) ukey = UniqueConstraint('host', 'hypervisor_hostname', table=compute_nodes, name=""uniq_compute_nodes0host0hypervisor_hostname"") ukey.drop() compute_nodes.drop_column('host') shadow_compute_nodes.drop_column('host') ",,131,25
openstack%2Fhorizon~master~Ic57e64eb85b46e77ed03d86722523c316c873d18,openstack/horizon,master,Ic57e64eb85b46e77ed03d86722523c316c873d18,View encryption metadata for encrypted volumes,MERGED,2014-11-13 19:37:05.000000000,2015-02-03 20:22:50.000000000,2015-02-03 20:22:47.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 5623}, {'_account_id': 6802}, {'_account_id': 6804}, {'_account_id': 7012}, {'_account_id': 8623}, {'_account_id': 8871}, {'_account_id': 13325}]","[{'number': 1, 'created': '2014-11-13 19:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5ba6767feb7197793f6be165ac3f1b0f83a0360f', 'message': 'View encryption metadata for encrypted volumes\n\nAlthough it is possible to see whether a volume is encrypted or not encrypted\n(by viewing the ""Encrypted"" column of the volume), it is not yet possible to\nview the encryption metadata for an encrypted volume.\n\nThis patch adds a link to the ""Yes"" in the Encrypted column of the volume,\nwhich displays an overview of the encryption metadata for the volume when\nclicked.  This encryption metadata includes cipher, key size, provider,\ncontrol location, and volume type name.  Also adds unit tests.\n\nChange-Id: Ic57e64eb85b46e77ed03d86722523c316c873d18\n'}, {'number': 2, 'created': '2014-11-13 19:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e0c63d2228fdb97e087567abe4b388f7eaf6b439', 'message': 'View encryption metadata for encrypted volumes\n\nAlthough it is possible to see whether a volume is encrypted or not\nencrypted (by viewing the ""Encrypted"" column of the volume), it is\nnot yet possible to view the encryption metadata for an encrypted\nvolume.\n\nThis patch adds a link to the ""Yes"" in the Encrypted column of the\nvolume, which displays an overview of the encryption metadata for\nthe volume when clicked.  This encryption metadata includes cipher,\nkey size, provider, control location, and volume type name.  Also\nadds unit tests.\n\nChange-Id: Ic57e64eb85b46e77ed03d86722523c316c873d18\n'}, {'number': 3, 'created': '2014-12-02 16:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8f24a13177d0c249565f282f9727b524476c69c4', 'message': 'View encryption metadata for encrypted volumes\n\nAlthough it is possible to see whether a volume is encrypted or not\nencrypted (by viewing the ""Encrypted"" column of the volume), it is\nnot yet possible to view the encryption metadata for an encrypted\nvolume.\n\nThis patch adds a link to the ""Yes"" in the Encrypted column of the\nvolume, which displays an overview of the encryption metadata for\nthe volume when clicked.  This encryption metadata includes cipher,\nkey size, provider, control location, and volume type name.  Also\nadds unit tests.\n\nImplements: blueprint view-volume-encryption-metadata\nChange-Id: Ic57e64eb85b46e77ed03d86722523c316c873d18\n'}, {'number': 4, 'created': '2014-12-04 22:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d4fbb550abfd9253e46f3feeb7ccbf987502b7af', 'message': 'View encryption metadata for encrypted volumes\n\nAlthough it is possible to see whether a volume is encrypted or not\nencrypted (by viewing the ""Encrypted"" column of the volume), it is\nnot yet possible to view the encryption metadata for an encrypted\nvolume.\n\nThis patch adds a link to the ""Yes"" in the Encrypted column of the\nvolume, which displays an overview of the encryption metadata for\nthe volume when clicked.  This encryption metadata includes cipher,\nkey size, provider, control location, and volume type name.  Also\nadds unit tests.\n\nChange-Id: Ic57e64eb85b46e77ed03d86722523c316c873d18\n'}, {'number': 5, 'created': '2014-12-19 15:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/dd07d222c6f92a3c681942b9350f936d40672bec', 'message': 'View encryption metadata for encrypted volumes\n\nAlthough it is possible to see whether a volume is encrypted or not\nencrypted (by viewing the ""Encrypted"" column of the volume), it is\nnot yet possible to view the encryption metadata for an encrypted\nvolume.\n\nThis patch adds a link to the ""Yes"" in the Encrypted column of the\nvolume, which displays an overview of the encryption metadata for\nthe volume when clicked.  This encryption metadata includes cipher,\nkey size, provider, control location, and volume type name.  Also\nadds unit tests.\n\nChange-Id: Ic57e64eb85b46e77ed03d86722523c316c873d18\n'}, {'number': 6, 'created': '2015-01-05 16:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4dbe1567bf47a490aca69a50513cda52240141eb', 'message': 'View encryption metadata for encrypted volumes\n\nAlthough it is possible to see whether a volume is encrypted or not\nencrypted (by viewing the ""Encrypted"" column of the volume), it is\nnot yet possible to view the encryption metadata for an encrypted\nvolume.\n\nThis patch adds a link to the ""Yes"" in the Encrypted column of the\nvolume, which displays an overview of the encryption metadata for\nthe volume when clicked.  This encryption metadata includes cipher,\nkey size, provider, control location, and volume type name.  Also\nadds unit tests.\n\nChange-Id: Ic57e64eb85b46e77ed03d86722523c316c873d18\nImplements: blueprint view-volume-encryption-metadata\n'}, {'number': 7, 'created': '2015-01-09 15:28:32.000000000', 'files': ['openstack_dashboard/dashboards/project/volumes/volumes/tests.py', 'openstack_dashboard/test/test_data/cinder_data.py', 'openstack_dashboard/api/cinder.py', 'openstack_dashboard/dashboards/project/volumes/templates/volumes/volumes/_encryption_detail_overview.html', 'openstack_dashboard/dashboards/project/volumes/volumes/urls.py', 'openstack_dashboard/dashboards/project/volumes/templates/volumes/volumes/encryption_detail.html', 'openstack_dashboard/dashboards/project/volumes/volumes/tables.py', 'openstack_dashboard/dashboards/project/volumes/volumes/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a8d2a3504c55329ea842bfeeb078dcd690f84973', 'message': 'View encryption metadata for encrypted volumes\n\nAlthough it is possible to see whether a volume is encrypted or not\nencrypted (by viewing the ""Encrypted"" column of the volume), it is\nnot yet possible to view the encryption metadata for an encrypted\nvolume.\n\nThis patch adds a link to the ""Yes"" in the Encrypted column of the\nvolume, which displays an overview of the encryption metadata for\nthe volume when clicked.  This encryption metadata includes cipher,\nkey size, provider, control location, and volume type name.  Also\nadds unit tests.\n\nChange-Id: Ic57e64eb85b46e77ed03d86722523c316c873d18\nImplements: blueprint view-volume-encryption-metadata\n'}]",3,134341,a8d2a3504c55329ea842bfeeb078dcd690f84973,45,9,7,7012,,,0,"View encryption metadata for encrypted volumes

Although it is possible to see whether a volume is encrypted or not
encrypted (by viewing the ""Encrypted"" column of the volume), it is
not yet possible to view the encryption metadata for an encrypted
volume.

This patch adds a link to the ""Yes"" in the Encrypted column of the
volume, which displays an overview of the encryption metadata for
the volume when clicked.  This encryption metadata includes cipher,
key size, provider, control location, and volume type name.  Also
adds unit tests.

Change-Id: Ic57e64eb85b46e77ed03d86722523c316c873d18
Implements: blueprint view-volume-encryption-metadata
",git fetch https://review.opendev.org/openstack/horizon refs/changes/41/134341/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/volumes/volumes/tests.py', 'openstack_dashboard/test/test_data/cinder_data.py', 'openstack_dashboard/api/cinder.py', 'openstack_dashboard/dashboards/project/volumes/templates/volumes/volumes/_encryption_detail_overview.html', 'openstack_dashboard/dashboards/project/volumes/volumes/urls.py', 'openstack_dashboard/dashboards/project/volumes/templates/volumes/volumes/encryption_detail.html', 'openstack_dashboard/dashboards/project/volumes/volumes/tables.py', 'openstack_dashboard/dashboards/project/volumes/volumes/views.py']",8,5ba6767feb7197793f6be165ac3f1b0f83a0360f,bp/view-volume-encryption-metadata,"from django.views import generic class EncryptionDetailView(generic.TemplateView): template_name = 'project/volumes/volumes/encryption_detail.html' def get_context_data(self, **kwargs): context = super(EncryptionDetailView, self).get_context_data(**kwargs) context[""encryption_metadata""] = self.get_encryption_data() context[""volume""] = self.get_volume_data() return context @memoized.memoized_method def get_encryption_data(self): if not hasattr(self, ""_encryption_metadata""): try: volume_id = self.kwargs['volume_id'] self._encryption_metadata = \ cinder.volume_get_encryption_metadata(self.request, volume_id) except Exception: redirect = self.get_redirect_url() exceptions.handle(self.request, _('Unable to retrieve volume encryption ' 'details.'), redirect=redirect) return self._encryption_metadata @memoized.memoized_method def get_volume_data(self): try: volume_id = self.kwargs['volume_id'] volume = cinder.volume_get(self.request, volume_id) except Exception: redirect = self.get_redirect_url() exceptions.handle(self.request, _('Unable to retrieve volume details.'), redirect=redirect) return volume def get_redirect_url(self): return reverse('horizon:project:volumes:index')",,160,1
openstack%2Fopenstacksdk~master~I3c9bb7da4f283e2696e7bcea84824c778bbcecfb,openstack/openstacksdk,master,I3c9bb7da4f283e2696e7bcea84824c778bbcecfb,Reorganize existing documentation files,MERGED,2015-01-30 21:38:11.000000000,2015-02-03 20:20:33.000000000,2015-02-03 20:20:33.000000000,"[{'_account_id': 3}, {'_account_id': 1112}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-01-30 21:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/37c1577f3d785bab2e4448ba43c8a2402a6c4296', 'message': ""Reorganize existing documentation files\n\nThis change creates two directories of content, based on who they're\nrelevant to: users and contributors. Files which were in the top-level\nfolder were moved, as well as some within folders in that top-level.\nThis is one change of a multi-step process, so it only deals with\nrenamings in order to make further changes cleaner.\n\nChange-Id: I3c9bb7da4f283e2696e7bcea84824c778bbcecfb\nPartial-Bug: 1416553\n""}, {'number': 2, 'created': '2015-02-01 23:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/353d69f5dd261119b025de13683bb4f2c6070286', 'message': ""Reorganize existing documentation files\n\nThis change creates two directories of content, based on who they're\nrelevant to: users and contributors. Files which were in the top-level\nfolder were moved, as well as some within folders in that top-level.\nThis is one change of a multi-step process, so it only deals with\nrenamings in order to make further changes cleaner.\n\nChange-Id: I3c9bb7da4f283e2696e7bcea84824c778bbcecfb\nPartial-Bug: 1416553\n""}, {'number': 3, 'created': '2015-02-03 18:45:31.000000000', 'files': ['doc/source/users/identity_v3.rst', 'doc/source/users/service_filter.rst', 'doc/source/users/installation.rst', 'doc/source/users/resources/object_store/v1/container.rst', 'doc/source/users/connection.rst', 'doc/source/contributors/contributing.rst', 'doc/source/users/transport.rst', 'doc/source/users/identity_base.rst', 'doc/source/users/identity_v2.rst', 'doc/source/users/base_auth_plugin.rst', 'doc/source/index.rst', 'doc/source/users/user_preference.rst', 'doc/source/users/highlevel/object_store.rst', 'doc/source/users/userguides/object_store.rst', 'doc/source/users/resources/object_store/v1/obj.rst', 'doc/source/users/session.rst', 'doc/source/users/glossary.rst', 'doc/source/users/usage.rst', 'doc/source/users/resource.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f86cc2fc8ebd12ed98a72f93b29506a0a8d433f6', 'message': ""Reorganize existing documentation files\n\nThis change creates two directories of content, based on who they're\nrelevant to: users and contributors. Files which were in the top-level\nfolder were moved, as well as some within folders in that top-level.\nThis is one change of a multi-step process, so it only deals with\nrenamings in order to make further changes cleaner.\n\nChange-Id: I3c9bb7da4f283e2696e7bcea84824c778bbcecfb\nPartial-Bug: 1416553\n""}]",0,151785,f86cc2fc8ebd12ed98a72f93b29506a0a8d433f6,12,3,3,8257,,,0,"Reorganize existing documentation files

This change creates two directories of content, based on who they're
relevant to: users and contributors. Files which were in the top-level
folder were moved, as well as some within folders in that top-level.
This is one change of a multi-step process, so it only deals with
renamings in order to make further changes cleaner.

Change-Id: I3c9bb7da4f283e2696e7bcea84824c778bbcecfb
Partial-Bug: 1416553
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/85/151785/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/users/identity_v3.rst', 'doc/source/users/service_filter.rst', 'doc/source/users/installation.rst', 'doc/source/users/resources/object_store/v1/container.rst', 'doc/source/users/connection.rst', 'doc/source/contributors/contributing.rst', 'doc/source/users/transport.rst', 'doc/source/users/identity_base.rst', 'doc/source/users/identity_v2.rst', 'doc/source/users/base_auth_plugin.rst', 'doc/source/index.rst', 'doc/source/users/user_preference.rst', 'doc/source/users/highlevel/object_store.rst', 'doc/source/users/userguides/object_store.rst', 'doc/source/users/resources/object_store/v1/obj.rst', 'doc/source/users/session.rst', 'doc/source/users/glossary.rst', 'doc/source/users/usage.rst', 'doc/source/users/resource.rst']",19,37c1577f3d785bab2e4448ba43c8a2402a6c4296,add_network_docs,,,19,19
openstack%2Ftrove-specs~master~I2dd5430c4ccab37eb3d01aee4c2e85db04a4d6c1,openstack/trove-specs,master,I2dd5430c4ccab37eb3d01aee4c2e85db04a4d6c1,Guest Agent RPC Ping Pong Mgmt API - Spec,MERGED,2014-10-22 23:19:58.000000000,2015-02-03 20:16:28.000000000,2015-02-03 20:16:28.000000000,"[{'_account_id': 3}, {'_account_id': 5293}, {'_account_id': 8214}, {'_account_id': 8415}, {'_account_id': 9664}]","[{'number': 1, 'created': '2014-10-22 23:19:58.000000000', 'files': ['specs/kilo/guest-rpc-ping-pong.rst'], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/3f1cef60c8a57cbd15099e218749d118159f57bc', 'message': 'Guest Agent RPC Ping Pong Mgmt API - Spec\n\nblueprint guest-rpc-ping-pong\n\nChange-Id: I2dd5430c4ccab37eb3d01aee4c2e85db04a4d6c1\n'}]",4,130392,3f1cef60c8a57cbd15099e218749d118159f57bc,16,5,1,8214,,,0,"Guest Agent RPC Ping Pong Mgmt API - Spec

blueprint guest-rpc-ping-pong

Change-Id: I2dd5430c4ccab37eb3d01aee4c2e85db04a4d6c1
",git fetch https://review.opendev.org/openstack/trove-specs refs/changes/92/130392/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/guest-rpc-ping-pong.rst'],1,3f1cef60c8a57cbd15099e218749d118159f57bc,bp/guest-rpc-ping-pong,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =================== Guest RPC Ping Pong =================== Blueprint: https://blueprints.launchpad.net/trove/+spec/guest-rpc-ping-pong The proposal is to introduce a new Management API route that facilitates a lightweight ping/pong mechanism for determining whether RPC communication is working as expected. Problem Description =================== Today, the only means of ascertaining whether direct or indirect RPC connectivity between the control-plane and the guest is functioning, via an API, is by using the 'show' operation in the Management API. Although mgmt-show indirectly answers the question of ""is the guest reachable?"", it is a relatively heavyweight call. Beyond consulting the filesystem for rudimentary information, mgmt-show sends 'show' requests to Nova and Cinder. Use Cases ---------- * As a deployer, I want to be able to determine whether RPC connectivity between the control-plane and a specific guest is broken. Proposed change =============== **Introduce**:: GET HOST:8779/v1.0/<tenant_id>/mgmt/instances/<instance_id>/rpc_ping **Behavior** The request:: GET HOST:8779/v1.0/<tenant_id>/mgmt/instances/<instance_id>/rpc_ping will result in the following if it's successful:: HTTP/1.1 204 No Content Content-Length: 0 Content-Type: application/json Date: Thu, 02 Oct 2014 23:32:26 GMT on the other hand, if trove-guest is shutdown, or the guest is generally not responding, the following will be returned:: HTTP/1.1 400 Bad Request Content-Length: 237 Content-Type: application/json; charset=UTF-8 Date: Thu, 02 Oct 2014 23:32:59 GMT {""badRequest"": {""message"": ""An error occurred communicating with the guest: Timeout while waiting on RPC response - topic: \""guestagent.1e4099f1-7f8d-4564-bd83-0b9f66aa35b9\"", RPC method: \""rpc_ping\"" info: \""<unknown>\""."", ""code"": 400}} Configuration ------------- No Configuration changes. Database -------- No Database changes. Public API ---------- No public API changes. Management API -------------- Introduces:: GET HOST:8779/v1.0/<tenant_id>/mgmt/instances/<instance_id>/rpc_ping Internal API ------------ No internal API changes. Guest Agent ----------- No Guest Agent changes. Alternatives ------------ The current alternative is mgmt-show, but it's too heavyweight of a call, and can fail to return meaningful information if the underlying compute and/or volume are unhealthy. Implementation ============== Assignee(s) ----------- Primary assignee: Auston McReynolds (amcrn) Milestones ---------- Kilo-1 Work Items ---------- See https://review.openstack.org/#/c/125819/ Dependencies ============ No dependencies. Testing ======= Standard. Documentation Impact ==================== If the Management API is documented (which I don't believe it is), then the addition of the 'rpc_ping' route is relevant. References ========== None. ",,153,0
openstack%2Fceilometermiddleware~master~I8b6f3129038950357bced25103a5f7904ab9f2c7,openstack/ceilometermiddleware,master,I8b6f3129038950357bced25103a5f7904ab9f2c7,ignore changelog,MERGED,2015-02-02 21:05:10.000000000,2015-02-03 20:11:05.000000000,2015-02-03 20:11:05.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2284}]","[{'number': 1, 'created': '2015-02-02 21:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/3d4c67b17a0f78a6ee77ca76535029e13191a6ca', 'message': 'ignore changelog\n\nignore ChangeLog file.\n\nChange-Id: I8b6f3129038950357bced25103a5f7904ab9f2c7\n'}, {'number': 2, 'created': '2015-02-02 22:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/08b9d4678e80f4483694726bb011cf1d9c521da6', 'message': 'ignore changelog\n\nignore ChangeLog file.\n\nChange-Id: I8b6f3129038950357bced25103a5f7904ab9f2c7\n'}, {'number': 3, 'created': '2015-02-03 01:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/76f36b177a8d5c42038e98deda879c78d87a3df1', 'message': 'ignore changelog\n\nignore ChangeLog file.\n\nChange-Id: I8b6f3129038950357bced25103a5f7904ab9f2c7\n'}, {'number': 4, 'created': '2015-02-03 02:38:38.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/a409b1a10446555eb090f07459a391fc03958673', 'message': 'ignore changelog\n\nignore ChangeLog file.\n\nChange-Id: I8b6f3129038950357bced25103a5f7904ab9f2c7\n'}]",0,152276,a409b1a10446555eb090f07459a391fc03958673,13,3,4,6537,,,0,"ignore changelog

ignore ChangeLog file.

Change-Id: I8b6f3129038950357bced25103a5f7904ab9f2c7
",git fetch https://review.opendev.org/openstack/ceilometermiddleware refs/changes/76/152276/4 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,3d4c67b17a0f78a6ee77ca76535029e13191a6ca,git,# ChangeLog ChangeLog ,,3,0
openstack%2Fceilometermiddleware~master~I1ec858b61ec3786b139be8736a6e1fd1a47f5845,openstack/ceilometermiddleware,master,I1ec858b61ec3786b139be8736a6e1fd1a47f5845,fix py34 tests,MERGED,2015-02-02 22:40:49.000000000,2015-02-03 20:11:00.000000000,2015-02-03 20:10:59.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2284}, {'_account_id': 6537}]","[{'number': 1, 'created': '2015-02-02 22:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/1e614f33e66ebb4e6d1e911d6aa27a72cd7b8975', 'message': 'fix py34 tests\n\ntests should use six iteritems to pass py34 tests\n\nChange-Id: I1ec858b61ec3786b139be8736a6e1fd1a47f5845\nCloses-Bug: #1417303\n'}, {'number': 2, 'created': '2015-02-03 01:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/b3910120191c000fd2d45bf7e28f88e58be7bcfa', 'message': 'fix py34 tests\n\ntests should use six iteritems to pass py34 tests\n\nChange-Id: I1ec858b61ec3786b139be8736a6e1fd1a47f5845\nCloses-Bug: #1417303\n'}, {'number': 3, 'created': '2015-02-03 02:38:13.000000000', 'files': ['ceilometermiddleware/swift.py', 'ceilometermiddleware/tests/test_swift.py'], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/468cedc34bef4c7316de5f148c3a99e62c103ffa', 'message': ""fix py34 tests\n\ntests should use six.iteritems to pass py34 tests. also,\nencode doesn't work consistently across py2 and py3\n\nChange-Id: I1ec858b61ec3786b139be8736a6e1fd1a47f5845\nCloses-Bug: #1417303""}]",0,152319,468cedc34bef4c7316de5f148c3a99e62c103ffa,13,4,3,6537,,,0,"fix py34 tests

tests should use six.iteritems to pass py34 tests. also,
encode doesn't work consistently across py2 and py3

Change-Id: I1ec858b61ec3786b139be8736a6e1fd1a47f5845
Closes-Bug: #1417303",git fetch https://review.opendev.org/openstack/ceilometermiddleware refs/changes/19/152319/3 && git format-patch -1 --stdout FETCH_HEAD,['ceilometermiddleware/tests/test_swift.py'],1,1e614f33e66ebb4e6d1e911d6aa27a72cd7b8975,bug/1417303," for header, value in six.iteritems(headers):"," for header, value in headers.iteritems():",1,1
openstack%2Ftripleo-puppet-elements~master~I04b9e40cdf521c91d00f21fa36b07aa1fb3057f8,openstack/tripleo-puppet-elements,master,I04b9e40cdf521c91d00f21fa36b07aa1fb3057f8,Add puppet-tripleo module.,MERGED,2015-02-02 15:23:03.000000000,2015-02-03 20:10:38.000000000,2015-02-03 20:10:37.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 9453}]","[{'number': 1, 'created': '2015-02-02 15:23:03.000000000', 'files': ['elements/puppet-modules/environment.d/01-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/51eaf541e2717366f57d3219362ead3aa9b21709', 'message': 'Add puppet-tripleo module.\n\nAs much as possible we are trying to avoid composition layers with\nour TripleO puppet integration and just use the stackforge\npuppet-* modules directly. There are some exceptions to this\nfor things like setting up the loadbalancers, and databases...\nso we are starting a puppet-tripleo project.\n\nFor now puppet-triplo lives on github. Once we have approval the hope\nis it will live alongside tripleo-puppet-elements on git.openstack.org\nunder TripleO.\n\nChange-Id: I04b9e40cdf521c91d00f21fa36b07aa1fb3057f8\n'}]",0,152151,51eaf541e2717366f57d3219362ead3aa9b21709,9,3,1,360,,,0,"Add puppet-tripleo module.

As much as possible we are trying to avoid composition layers with
our TripleO puppet integration and just use the stackforge
puppet-* modules directly. There are some exceptions to this
for things like setting up the loadbalancers, and databases...
so we are starting a puppet-tripleo project.

For now puppet-triplo lives on github. Once we have approval the hope
is it will live alongside tripleo-puppet-elements on git.openstack.org
under TripleO.

Change-Id: I04b9e40cdf521c91d00f21fa36b07aa1fb3057f8
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/51/152151/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/puppet-modules/environment.d/01-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules']",2,51eaf541e2717366f57d3219362ead3aa9b21709,puppet-modules,puppet-tripleo git /opt/stack/puppet-modules/tripleo https://github.com/enovance/puppet-tripleo.git,,2,1
openstack%2Ftripleo-puppet-elements~master~I8ae104de7382767c3448a493cd37ff2994cf4f52,openstack/tripleo-puppet-elements,master,I8ae104de7382767c3448a493cd37ff2994cf4f52,Add puppet-snmp module.,MERGED,2015-02-01 22:10:49.000000000,2015-02-03 20:10:16.000000000,2015-02-03 20:10:14.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 3153}]","[{'number': 1, 'created': '2015-02-01 22:10:49.000000000', 'files': ['elements/puppet-modules/environment.d/01-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/58f1fc03fb9e754e87ee7b2903d1e86adce8ae92', 'message': ""Add puppet-snmp module.\n\nWe run an snmp agent on all baremetal nodes to provide the\nundercloud ceilometer 'hardware' metrics.\n\nChange-Id: I8ae104de7382767c3448a493cd37ff2994cf4f52\n""}]",0,151949,58f1fc03fb9e754e87ee7b2903d1e86adce8ae92,8,3,1,360,,,0,"Add puppet-snmp module.

We run an snmp agent on all baremetal nodes to provide the
undercloud ceilometer 'hardware' metrics.

Change-Id: I8ae104de7382767c3448a493cd37ff2994cf4f52
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/49/151949/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/puppet-modules/environment.d/01-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules']",2,58f1fc03fb9e754e87ee7b2903d1e86adce8ae92,puppet-modules,puppet-snmp git /opt/stack/puppet-modules/snmp https://github.com/razorsedge/puppet-snmp.git,,2,1
openstack%2Ftripleo-puppet-elements~master~Ib10ccbfdb3140b19f40049707548c6655d250e1c,openstack/tripleo-puppet-elements,master,Ib10ccbfdb3140b19f40049707548c6655d250e1c,Add puppetlabs-ntp module.,MERGED,2015-01-22 19:17:55.000000000,2015-02-03 20:09:40.000000000,2015-02-03 20:09:39.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 6554}, {'_account_id': 12459}]","[{'number': 1, 'created': '2015-01-22 19:17:55.000000000', 'files': ['elements/puppet-modules/environment.d/01-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/6578bdcdf11997010d8684a0a28fa2f8b10bc541', 'message': 'Add puppetlabs-ntp module.\n\nChange-Id: Ib10ccbfdb3140b19f40049707548c6655d250e1c\n'}]",2,149370,6578bdcdf11997010d8684a0a28fa2f8b10bc541,13,5,1,360,,,0,"Add puppetlabs-ntp module.

Change-Id: Ib10ccbfdb3140b19f40049707548c6655d250e1c
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/70/149370/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/puppet-modules/environment.d/01-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules']",2,6578bdcdf11997010d8684a0a28fa2f8b10bc541,add_ntp_module,puppetlabs-ntp git /opt/stack/puppet-modules/ntp https://github.com/puppetlabs/puppetlabs-ntp.git,,2,1
openstack%2Fhorizon~master~Ia3ed7b742ae10e04434612a64a4680e3f06c87f3,openstack/horizon,master,Ia3ed7b742ae10e04434612a64a4680e3f06c87f3,Make values for image status be translatable,MERGED,2015-02-02 05:52:21.000000000,2015-02-03 20:03:48.000000000,2015-02-03 20:03:47.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 2874}, {'_account_id': 6610}, {'_account_id': 6763}, {'_account_id': 9622}, {'_account_id': 10442}, {'_account_id': 11592}]","[{'number': 1, 'created': '2015-02-02 05:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1b1cd7a3449fd6efd4162490b97f6022b9033f10', 'message': 'Make values for image status be translatable\n\nAdd STATUS_DISPLAY_CHOICES in files:\nopenstack_dashboard/dashboards/project/images/images/tables.py\n\nChange-Id: Ia3ed7b742ae10e04434612a64a4680e3f06c87f3\nCloses-Bug: #1415640\n'}, {'number': 2, 'created': '2015-02-02 06:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/11c0d5110c1b497ba90c1190de92e542addb554c', 'message': 'Make values for image status be translatable\n\nAdd STATUS_DISPLAY_CHOICES in files:\nopenstack_dashboard/dashboards/project/images/images/tables.py\n\nChange-Id: Ia3ed7b742ae10e04434612a64a4680e3f06c87f3\nCloses-Bug: #1415640\n'}, {'number': 3, 'created': '2015-02-02 13:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5b9f8196240575a40afc74e2a255e538071beb53', 'message': 'Make values for image status be translatable\n\nAdd STATUS_DISPLAY_CHOICES in files:\nopenstack_dashboard/dashboards/project/images/images/tables.py\n\nChange-Id: Ia3ed7b742ae10e04434612a64a4680e3f06c87f3\nCloses-Bug: #1415640\n'}, {'number': 4, 'created': '2015-02-03 01:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/573c690b82186cd35fe0c6f5fe5c09a0ed5d446a', 'message': 'Make values for image status be translatable\n\nAdd STATUS_DISPLAY_CHOICES in files:\nopenstack_dashboard/dashboards/project/images/images/tables.py\n\nChange-Id: Ia3ed7b742ae10e04434612a64a4680e3f06c87f3\nCloses-Bug: #1415640\n'}, {'number': 5, 'created': '2015-02-03 01:22:40.000000000', 'files': ['openstack_dashboard/dashboards/project/images/images/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/bd483ffcacd47772f44480d35a0f2e1627601f84', 'message': 'Make values for image status be translatable\n\nAdd STATUS_DISPLAY_CHOICES in files:\nopenstack_dashboard/dashboards/project/images/images/tables.py\n\nChange-Id: Ia3ed7b742ae10e04434612a64a4680e3f06c87f3\nCloses-Bug: #1415640\n'}]",5,151991,bd483ffcacd47772f44480d35a0f2e1627601f84,21,8,5,6282,,,0,"Make values for image status be translatable

Add STATUS_DISPLAY_CHOICES in files:
openstack_dashboard/dashboards/project/images/images/tables.py

Change-Id: Ia3ed7b742ae10e04434612a64a4680e3f06c87f3
Closes-Bug: #1415640
",git fetch https://review.opendev.org/openstack/horizon refs/changes/91/151991/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/images/images/tables.py'],1,1b1cd7a3449fd6efd4162490b97f6022b9033f10,bug/1415640,"from django.utils.translation import pgettext_lazy STATUS_DISPLAY_CHOICES = ( (""active"", pgettext_lazy(""Current status of an Image"", u""Active"")), (""saving"", pgettext_lazy(""Current status of an Image"", u""Saving"")), (""queued"", pgettext_lazy(""Current status of an Image"", u""Queued"")), (""pending_delete"", pgettext_lazy(""Current status of an Image"", u""Pending_delete"")), (""killed"", pgettext_lazy(""Current status of an Image"", u""killed"")), (""deleted"", pgettext_lazy(""Current status of an Image"", u""Deleted"")), ) status_choices=STATUS_CHOICES, display_choices=STATUS_DISPLAY_CHOICES)", status_choices=STATUS_CHOICES),12,1
openstack%2Fcookbook-openstack-object-storage~master~Ia6a598bca2f0890ffa853e012dfdac08b51147c4,openstack/cookbook-openstack-object-storage,master,Ia6a598bca2f0890ffa853e012dfdac08b51147c4,Use new common specific_endpoint routines,MERGED,2015-01-30 21:53:57.000000000,2015-02-03 20:02:10.000000000,2015-02-03 20:02:10.000000000,"[{'_account_id': 3}, {'_account_id': 7128}, {'_account_id': 9488}, {'_account_id': 12323}, {'_account_id': 12612}]","[{'number': 1, 'created': '2015-01-30 21:53:57.000000000', 'files': ['spec/identity_registration_spec.rb', 'CHANGELOG.md', 'recipes/identity_registration.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-object-storage/commit/93e4487124369bd68bc514e64f63c9ebd18fb527', 'message': 'Use new common specific_endpoint routines\n\nNow that admin_endpoint, public_endpoint, and internal_endpoint\nin the common library are working, these are the changes to use\nthem in the openstack-object-storage recipes.\n\nChange-Id: Ia6a598bca2f0890ffa853e012dfdac08b51147c4\nPartial-Bug: 1412919\n'}]",0,151793,93e4487124369bd68bc514e64f63c9ebd18fb527,9,5,1,1298,,,0,"Use new common specific_endpoint routines

Now that admin_endpoint, public_endpoint, and internal_endpoint
in the common library are working, these are the changes to use
them in the openstack-object-storage recipes.

Change-Id: Ia6a598bca2f0890ffa853e012dfdac08b51147c4
Partial-Bug: 1412919
",git fetch https://review.opendev.org/openstack/cookbook-openstack-object-storage refs/changes/93/151793/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/identity_registration_spec.rb', 'CHANGELOG.md', 'recipes/identity_registration.rb']",3,93e4487124369bd68bc514e64f63c9ebd18fb527,bug/1412919,identity_admin_endpoint = admin_endpoint 'identity-admin'admin_api_endpoint = admin_endpoint 'object-storage-api' internal_api_endpoint = internal_endpoint 'object-storage-api' public_api_endpoint = public_endpoint 'object-storage-api' endpoint_adminurl admin_api_endpoint.to_s endpoint_internalurl internal_api_endpoint.to_s endpoint_publicurl public_api_endpoint.to_s,identity_admin_endpoint = endpoint 'identity-admin'api_endpoint = endpoint 'object-storage-api' endpoint_adminurl api_endpoint.to_s endpoint_internalurl api_endpoint.to_s endpoint_publicurl api_endpoint.to_s,99,5
openstack%2Fgovernance~master~Id2f7c257bc6628aa62ec4671a238d769d81c87f9,openstack/governance,master,Id2f7c257bc6628aa62ec4671a238d769d81c87f9,Move oslo.version to openstack-attic,ABANDONED,2015-01-30 20:57:08.000000000,2015-02-03 19:59:21.000000000,,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2271}, {'_account_id': 2472}]","[{'number': 1, 'created': '2015-01-30 20:57:08.000000000', 'files': ['reference/programs.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/fea4f0c8f395f0e8c889f766fcb5dd0b3f969e67', 'message': 'Move oslo.version to openstack-attic\n\nThe library is deprecated, and was renamed to move it under the attic\nnamespace.\n\nChange-Id: Id2f7c257bc6628aa62ec4671a238d769d81c87f9\n'}]",2,151772,fea4f0c8f395f0e8c889f766fcb5dd0b3f969e67,7,5,1,2472,,,0,"Move oslo.version to openstack-attic

The library is deprecated, and was renamed to move it under the attic
namespace.

Change-Id: Id2f7c257bc6628aa62ec4671a238d769d81c87f9
",git fetch https://review.opendev.org/openstack/governance refs/changes/72/151772/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/programs.yaml'],1,fea4f0c8f395f0e8c889f766fcb5dd0b3f969e67,oslo-version-attic, - repo: openstack-attic/oslo.version, - repo: openstack/oslo.version,1,1
openstack%2Foslo.db~master~I56777834187651f5ba2e43482546c2981524b11c,openstack/oslo.db,master,I56777834187651f5ba2e43482546c2981524b11c,Implement backend-specific drop_all_objects for provisioning.,MERGED,2015-01-29 00:27:12.000000000,2015-02-03 19:58:35.000000000,2015-02-03 19:58:34.000000000,"[{'_account_id': 3}, {'_account_id': 100}, {'_account_id': 2472}, {'_account_id': 6849}, {'_account_id': 7491}, {'_account_id': 11816}]","[{'number': 1, 'created': '2015-01-29 00:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/0dc310b7ab800feefabc92972d7de9881458bee6', 'message': ""Implement backend-specific drop_all_objects for provisioning.\n\nThis patch implements the drop_all_objects() portion\nof the testresources series of changes, so that this\nutility is usable right now.  In particular, as SQLAlchemy 1.0\nwill support reflection of foreign key names in SQLite,\nit's necessary that we don't emit a DROP CONSTRAINT\nfor these against SQLite as SQLite does not support\nthis command.\n\nThe drop_all_objects() is added as a first class element\nhere and is also added to the _cleanup() method of\nthe test_migrations base.\n\nTests are added which exercise the case of mutually-dependent\nforeign keys on Postgresql and MySQL as well.\n\npartially implement bp: long-lived-transactionalized-db-fixtures\nPartial-Bug: #1339206\n\nChange-Id: I56777834187651f5ba2e43482546c2981524b11c\n""}, {'number': 2, 'created': '2015-01-29 19:30:57.000000000', 'files': ['oslo_db/sqlalchemy/test_migrations.py', 'oslo_db/sqlalchemy/test_base.py', 'oslo_db/sqlalchemy/provision.py', 'oslo_db/tests/sqlalchemy/test_provision.py', 'oslo_db/sqlalchemy/compat/utils.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/dcd137a6d5f29600c87060f9ca1e169f88211c15', 'message': ""Implement backend-specific drop_all_objects for provisioning.\n\nThis patch implements the drop_all_objects() portion\nof the testresources series of changes, so that this\nutility is usable right now.  In particular, as SQLAlchemy 1.0\nwill support reflection of foreign key names in SQLite,\nit's necessary that we don't emit a DROP CONSTRAINT\nfor these against SQLite as SQLite does not support\nthis command.\n\nThe drop_all_objects() is added as a first class element\nhere and is also added to the _cleanup() method of\nthe test_migrations base.\n\nTests are added which exercise the case of mutually-dependent\nforeign keys on Postgresql and MySQL as well.\n\npartially implement bp: long-lived-transactionalized-db-fixtures\nPartial-Bug: #1339206\n\nChange-Id: I56777834187651f5ba2e43482546c2981524b11c\n""}]",2,151059,dcd137a6d5f29600c87060f9ca1e169f88211c15,13,6,2,11816,,,0,"Implement backend-specific drop_all_objects for provisioning.

This patch implements the drop_all_objects() portion
of the testresources series of changes, so that this
utility is usable right now.  In particular, as SQLAlchemy 1.0
will support reflection of foreign key names in SQLite,
it's necessary that we don't emit a DROP CONSTRAINT
for these against SQLite as SQLite does not support
this command.

The drop_all_objects() is added as a first class element
here and is also added to the _cleanup() method of
the test_migrations base.

Tests are added which exercise the case of mutually-dependent
foreign keys on Postgresql and MySQL as well.

partially implement bp: long-lived-transactionalized-db-fixtures
Partial-Bug: #1339206

Change-Id: I56777834187651f5ba2e43482546c2981524b11c
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/59/151059/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/sqlalchemy/test_migrations.py', 'oslo_db/sqlalchemy/test_base.py', 'oslo_db/sqlalchemy/provision.py', 'oslo_db/tests/sqlalchemy/test_provision.py']",4,0dc310b7ab800feefabc92972d7de9881458bee6,bug/1339206,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from sqlalchemy import inspect from sqlalchemy import schema from sqlalchemy import types from oslo_db.sqlalchemy import test_base class DropAllObjectsTest(test_base.DbTestCase): def setUp(self): super(DropAllObjectsTest, self).setUp() self.metadata = metadata = schema.MetaData() schema.Table( 'a', metadata, schema.Column('id', types.Integer, primary_key=True), mysql_engine='InnoDB' ) schema.Table( 'b', metadata, schema.Column('id', types.Integer, primary_key=True), schema.Column('a_id', types.Integer, schema.ForeignKey('a.id')), mysql_engine='InnoDB' ) schema.Table( 'c', metadata, schema.Column('id', types.Integer, primary_key=True), schema.Column('b_id', types.Integer, schema.ForeignKey('b.id')), schema.Column( 'd_id', types.Integer, schema.ForeignKey('d.id', use_alter=True, name='c_d_fk')), mysql_engine='InnoDB' ) schema.Table( 'd', metadata, schema.Column('id', types.Integer, primary_key=True), schema.Column('c_id', types.Integer, schema.ForeignKey('c.id')), mysql_engine='InnoDB' ) metadata.create_all(self.engine, checkfirst=False) # will drop nothing if the test worked self.addCleanup(metadata.drop_all, self.engine, checkfirst=True) def test_drop_all(self): insp = inspect(self.engine) self.assertEqual( set(['a', 'b', 'c', 'd']), set(insp.get_table_names()) ) self.provision.drop_all_objects() insp = inspect(self.engine) self.assertEqual( [], insp.get_table_names() ) class MySQLRetainSchemaTest( DropAllObjectsTest, test_base.MySQLOpportunisticTestCase): pass class PostgresqlRetainSchemaTest( DropAllObjectsTest, test_base.PostgreSQLOpportunisticTestCase): pass ",,154,24
openstack%2Fcookbook-openstack-telemetry~master~Ibddb87c1ae2e92c43c0b88495d363b6d8179d300,openstack/cookbook-openstack-telemetry,master,Ibddb87c1ae2e92c43c0b88495d363b6d8179d300,Use new common specific_endpoint routines,MERGED,2015-01-30 22:21:03.000000000,2015-02-03 19:56:52.000000000,2015-02-03 19:56:51.000000000,"[{'_account_id': 3}, {'_account_id': 7128}, {'_account_id': 9488}, {'_account_id': 12323}, {'_account_id': 12612}]","[{'number': 1, 'created': '2015-01-30 22:21:03.000000000', 'files': ['spec/identity_registration_spec.rb', 'CHANGELOG.md', 'recipes/common.rb', 'recipes/identity_registration.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-telemetry/commit/dcaeffd75c40b379f6e9af998aa44abe94566e4e', 'message': 'Use new common specific_endpoint routines\n\nNow that admin_endpoint, public_endpoint, and internal_endpoint\nin the common library are working, these are the changes to use\nthem in the openstack-telemetry recipes.\n\nChange-Id: Ibddb87c1ae2e92c43c0b88495d363b6d8179d300\nPartial-Bug: 1412919\n'}]",0,151800,dcaeffd75c40b379f6e9af998aa44abe94566e4e,9,5,1,1298,,,0,"Use new common specific_endpoint routines

Now that admin_endpoint, public_endpoint, and internal_endpoint
in the common library are working, these are the changes to use
them in the openstack-telemetry recipes.

Change-Id: Ibddb87c1ae2e92c43c0b88495d363b6d8179d300
Partial-Bug: 1412919
",git fetch https://review.opendev.org/openstack/cookbook-openstack-telemetry refs/changes/00/151800/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/identity_registration_spec.rb', 'CHANGELOG.md', 'recipes/common.rb', 'recipes/identity_registration.rb']",4,dcaeffd75c40b379f6e9af998aa44abe94566e4e,bug/1412919,admin_api_endpoint = admin_endpoint 'telemetry-api' internal_api_endpoint = internal_endpoint 'telemetry-api' public_api_endpoint = public_endpoint 'telemetry-api' identity_admin_endpoint = admin_endpoint 'identity-admin' endpoint_adminurl ::URI.decode admin_api_endpoint.to_s endpoint_internalurl ::URI.decode internal_api_endpoint.to_s endpoint_publicurl ::URI.decode public_api_endpoint.to_s,api_endpoint = endpoint 'telemetry-api' identity_admin_endpoint = endpoint 'identity-admin' endpoint_adminurl ::URI.decode api_endpoint.to_s endpoint_internalurl ::URI.decode api_endpoint.to_s endpoint_publicurl ::URI.decode api_endpoint.to_s,95,8
openstack%2Fcookbook-openstack-orchestration~master~Ib89150c12ea833137b5f96c8ac5443c8aac364b4,openstack/cookbook-openstack-orchestration,master,Ib89150c12ea833137b5f96c8ac5443c8aac364b4,Use new common specific_endpoint routines,MERGED,2015-01-29 18:54:00.000000000,2015-02-03 19:56:32.000000000,2015-02-03 19:56:32.000000000,"[{'_account_id': 3}, {'_account_id': 1298}, {'_account_id': 7128}, {'_account_id': 9488}, {'_account_id': 12323}, {'_account_id': 12612}]","[{'number': 1, 'created': '2015-01-29 18:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-orchestration/commit/dfb489c7b1899904185b575afe69ee53eb86cf61', 'message': 'Use new common specific_endpoint routines\n\nNow that admin_endpoint, public_endpoint, and internal_endpoint\nin the common library are working, these are the changes to use\nthem in the openstack-orchestration recipes.\n\nChange-Id: Ib89150c12ea833137b5f96c8ac5443c8aac364b4\n'}, {'number': 2, 'created': '2015-02-02 14:28:47.000000000', 'files': ['spec/identity_registration_spec.rb', 'CHANGELOG.md', 'recipes/common.rb', 'recipes/identity_registration.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-orchestration/commit/aab5d086d8fc5fb957019bc22ee6459a797867fa', 'message': 'Use new common specific_endpoint routines\n\nNow that admin_endpoint, public_endpoint, and internal_endpoint\nin the common library are working, these are the changes to use\nthem in the openstack-orchestration recipes.\n\nPartial-Bug: 1412919\n\nChange-Id: Ib89150c12ea833137b5f96c8ac5443c8aac364b4\n'}]",1,151344,aab5d086d8fc5fb957019bc22ee6459a797867fa,15,6,2,1298,,,0,"Use new common specific_endpoint routines

Now that admin_endpoint, public_endpoint, and internal_endpoint
in the common library are working, these are the changes to use
them in the openstack-orchestration recipes.

Partial-Bug: 1412919

Change-Id: Ib89150c12ea833137b5f96c8ac5443c8aac364b4
",git fetch https://review.opendev.org/openstack/cookbook-openstack-orchestration refs/changes/44/151344/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/identity_registration_spec.rb', 'CHANGELOG.md', 'recipes/common.rb', 'recipes/identity_registration.rb']",4,dfb489c7b1899904185b575afe69ee53eb86cf61,bug/1412919,identity_admin_endpoint = admin_endpoint 'identity-admin'admin_heat_endpoint = admin_endpoint 'orchestration-api' internal_heat_endpoint = internal_endpoint 'orchestration-api' public_heat_endpoint = public_endpoint 'orchestration-api' admin_heat_cfn_endpoint = admin_endpoint 'orchestration-api-cfn' internal_heat_cfn_endpoint = internal_endpoint 'orchestration-api-cfn' public_heat_cfn_endpoint = public_endpoint 'orchestration-api-cfn' endpoint_adminurl admin_heat_endpoint.to_s endpoint_internalurl internal_heat_endpoint.to_s endpoint_publicurl public_heat_endpoint.to_s endpoint_adminurl admin_heat_cfn_endpoint.to_s endpoint_internalurl internal_heat_cfn_endpoint.to_s endpoint_publicurl public_heat_cfn_endpoint.to_s,identity_admin_endpoint = endpoint 'identity-admin'heat_endpoint = endpoint 'orchestration-api' heat_cfn_endpoint = endpoint 'orchestration-api-cfn' endpoint_adminurl heat_endpoint.to_s endpoint_internalurl heat_endpoint.to_s endpoint_publicurl heat_endpoint.to_s endpoint_adminurl heat_cfn_endpoint.to_s endpoint_internalurl heat_cfn_endpoint.to_s endpoint_publicurl heat_cfn_endpoint.to_s,199,17
openstack%2Fcookbook-openstack-integration-test~master~Ib38c9bf9675e688a8a4de7e7e8e04993eba57911,openstack/cookbook-openstack-integration-test,master,Ib38c9bf9675e688a8a4de7e7e8e04993eba57911,Use new common specific_endpoint routines,MERGED,2015-01-29 23:57:02.000000000,2015-02-03 19:55:30.000000000,2015-02-03 19:55:30.000000000,"[{'_account_id': 3}, {'_account_id': 7128}, {'_account_id': 9488}, {'_account_id': 12323}]","[{'number': 1, 'created': '2015-01-29 23:57:02.000000000', 'files': ['recipes/setup.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/8ef48dd064b387fbabf2ebe502c5cc07de85ebc4', 'message': 'Use new common specific_endpoint routines\n\nNow that admin_endpoint, public_endpoint, and internal_endpoint\nin the common library are working, these are the changes to use\nthem in the openstack-integration-test recipes.\n\nNo endpoints are created in these recipes, so no new tests\nwere added.\n\nChange-Id: Ib38c9bf9675e688a8a4de7e7e8e04993eba57911\nPartial-Bug: 1412919\n'}]",0,151474,8ef48dd064b387fbabf2ebe502c5cc07de85ebc4,8,4,1,1298,,,0,"Use new common specific_endpoint routines

Now that admin_endpoint, public_endpoint, and internal_endpoint
in the common library are working, these are the changes to use
them in the openstack-integration-test recipes.

No endpoints are created in these recipes, so no new tests
were added.

Change-Id: Ib38c9bf9675e688a8a4de7e7e8e04993eba57911
Partial-Bug: 1412919
",git fetch https://review.opendev.org/openstack/cookbook-openstack-integration-test refs/changes/74/151474/1 && git format-patch -1 --stdout FETCH_HEAD,['recipes/setup.rb'],1,8ef48dd064b387fbabf2ebe502c5cc07de85ebc4,bug/1412919,identity_admin_endpoint = admin_endpoint 'identity-admin' identity_api_endpoint = internal_endpoint 'identity-api',identity_admin_endpoint = endpoint 'identity-admin' identity_api_endpoint = endpoint 'identity-api',2,2
openstack%2Fcookbook-openstack-common~master~Ic830a8bae71a690682ceaf876eaff40540e28b5f,openstack/cookbook-openstack-common,master,Ic830a8bae71a690682ceaf876eaff40540e28b5f,Add global bind-interface attribute like the existing bind-host one,MERGED,2015-01-16 22:02:52.000000000,2015-02-03 19:54:57.000000000,2015-02-03 19:54:56.000000000,"[{'_account_id': 3}, {'_account_id': 7128}, {'_account_id': 8112}, {'_account_id': 8410}, {'_account_id': 9488}, {'_account_id': 11915}, {'_account_id': 12323}]","[{'number': 1, 'created': '2015-01-16 22:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/78b8cb4cf824fef0a63c4911cc299f00807c0321', 'message': 'Add global bind-interface attribute like the existing bind-host one\n\nTo make environment config easier add a bind-interface, very similar to\nthe existing bind-host attribuite.\n\nChange-Id: Ic830a8bae71a690682ceaf876eaff40540e28b5f\nCloses-Bug: #1411840\n'}, {'number': 2, 'created': '2015-01-19 19:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/a697bbd4e05d45f422eee8bb3be8c2f4b5840899', 'message': 'Add global bind-interface attribute like the existing bind-host one\n\nTo make environment config easier add a bind-interface, very similar to\nthe existing bind-host attribuite.\nCleanup endpoint recipe to skip parent override keys.\n\nChange-Id: Ic830a8bae71a690682ceaf876eaff40540e28b5f\nCloses-Bug: #1411840\n'}, {'number': 3, 'created': '2015-01-19 22:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/00a878615f2a6d72040f7d56f94ebae8a7366859', 'message': 'Add global bind-interface attribute like the existing bind-host one\n\nTo make environment config easier add a bind-interface, very similar to\nthe existing bind-host attribuite.\nCleanup endpoint recipe to skip parent override keys.\n\nChange-Id: Ic830a8bae71a690682ceaf876eaff40540e28b5f\nCloses-Bug: #1411840\n'}, {'number': 4, 'created': '2015-01-21 22:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/fe8e87c808dc98c58b18b458dc68226433557e8b', 'message': 'Add global bind-interface attribute like the existing bind-host one\n\nTo make environment config easier add a bind-interface, very similar to\nthe existing bind-host attribuite.\nCleanup endpoint recipe to skip parent override keys.\n\nChange-Id: Ic830a8bae71a690682ceaf876eaff40540e28b5f\nCloses-Bug: #1411840\n'}, {'number': 5, 'created': '2015-01-26 16:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/cbda0faa93750dc694da2abc91ec79626a5a4973', 'message': 'Add global bind-interface attribute like the existing bind-host one\n\nTo make environment config easier add a bind-interface, very similar to\nthe existing bind-host attribuite.\nCleanup endpoint recipe to skip parent override keys.\n\nChange-Id: Ic830a8bae71a690682ceaf876eaff40540e28b5f\nCloses-Bug: #1411840\n'}, {'number': 6, 'created': '2015-01-29 20:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/88bbf9c3ca0da4f7b50f6601db9bbe031910b82a', 'message': 'Add global bind-interface attribute like the existing bind-host one\n\nTo make environment config easier add a bind-interface, very similar to\nthe existing bind-host attribuite.\nCleanup endpoint recipe to skip parent override keys.\n\nChange-Id: Ic830a8bae71a690682ceaf876eaff40540e28b5f\nCloses-Bug: #1411840\n'}, {'number': 7, 'created': '2015-02-02 22:55:33.000000000', 'files': ['attributes/default.rb', 'spec/default_spec.rb', 'CHANGELOG.md', 'recipes/set_endpoints_by_interface.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/0aeb4fc7ea53703585c93cc9f1eba765abedb10b', 'message': 'Add global bind-interface attribute like the existing bind-host one\n\nTo make environment config easier add a bind-interface, very similar to\nthe existing bind-host attribuite.\nCleanup endpoint recipe to skip parent override keys.\n\nChange-Id: Ic830a8bae71a690682ceaf876eaff40540e28b5f\nCloses-Bug: #1411840\n'}]",5,148012,0aeb4fc7ea53703585c93cc9f1eba765abedb10b,43,7,7,7128,,,0,"Add global bind-interface attribute like the existing bind-host one

To make environment config easier add a bind-interface, very similar to
the existing bind-host attribuite.
Cleanup endpoint recipe to skip parent override keys.

Change-Id: Ic830a8bae71a690682ceaf876eaff40540e28b5f
Closes-Bug: #1411840
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/12/148012/6 && git format-patch -1 --stdout FETCH_HEAD,"['attributes/default.rb', 'spec/default_spec.rb', 'CHANGELOG.md']",3,78b8cb4cf824fef0a63c4911cc299f00807c0321,bug/1411840,* Add global bind-interface attribute like the existing bind-host one,,61,40
openstack%2Fcookbook-openstack-database~master~Id90237f2ede9dee6afeb4ceb9dc23126ce35e05b,openstack/cookbook-openstack-database,master,Id90237f2ede9dee6afeb4ceb9dc23126ce35e05b,Use new common specific_endpoint routines,MERGED,2015-01-30 00:16:33.000000000,2015-02-03 19:54:19.000000000,2015-02-03 19:54:18.000000000,"[{'_account_id': 3}, {'_account_id': 7128}, {'_account_id': 9488}, {'_account_id': 12323}]","[{'number': 1, 'created': '2015-01-30 00:16:33.000000000', 'files': ['recipes/taskmanager.rb', 'CHANGELOG.md', 'recipes/api.rb', 'recipes/identity_registration.rb', 'spec/identity_registration-suse_spec.rb', 'recipes/conductor.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-database/commit/553ee424c853de55607be8d3e3733db69de02586', 'message': 'Use new common specific_endpoint routines\n\nNow that admin_endpoint, public_endpoint, and internal_endpoint\nin the common library are working, these are the changes to use\nthem in the openstack-database recipes.\n\nChange-Id: Id90237f2ede9dee6afeb4ceb9dc23126ce35e05b\nPartial-Bug: 1412919\n'}]",0,151481,553ee424c853de55607be8d3e3733db69de02586,8,4,1,1298,,,0,"Use new common specific_endpoint routines

Now that admin_endpoint, public_endpoint, and internal_endpoint
in the common library are working, these are the changes to use
them in the openstack-database recipes.

Change-Id: Id90237f2ede9dee6afeb4ceb9dc23126ce35e05b
Partial-Bug: 1412919
",git fetch https://review.opendev.org/openstack/cookbook-openstack-database refs/changes/81/151481/1 && git format-patch -1 --stdout FETCH_HEAD,"['recipes/taskmanager.rb', 'CHANGELOG.md', 'recipes/api.rb', 'recipes/identity_registration.rb', 'spec/identity_registration-suse_spec.rb', 'recipes/conductor.rb']",6,553ee424c853de55607be8d3e3733db69de02586,bug/1412919,identity_uri = internal_endpoint('identity-api'),identity_uri = endpoint('identity-api'),103,16
openstack%2Fsolum~master~I2050e7c44c9d0f98cc9e128c3dafbe3bf11acf21,openstack/solum,master,I2050e7c44c9d0f98cc9e128c3dafbe3bf11acf21,Swift image storage backend Bug fixes,MERGED,2015-02-01 05:02:49.000000000,2015-02-03 19:47:56.000000000,2015-02-03 19:47:56.000000000,"[{'_account_id': 3}, {'_account_id': 2506}, {'_account_id': 6662}, {'_account_id': 7784}, {'_account_id': 9095}]","[{'number': 1, 'created': '2015-02-01 05:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/c84e5eaea009870656e5a6a7092769345dac92d5', 'message': ""Swift image storage backend Bug fixes\n\n- When uploading an image to swift, we need the swift service endpoint\n  for the CLI to be able to upload. Fixed this in shell.py\n- Removed unnecessary quotes in the commands to swift CLI.\n- Deleting downloaded image files after using them.\n  (Removed '.tar' from the filename)\n\nChange-Id: I2050e7c44c9d0f98cc9e128c3dafbe3bf11acf21\n""}, {'number': 2, 'created': '2015-02-01 16:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/689955ba158c27aaecdca417cc53dbb38fbcaaa7', 'message': ""Swift image storage backend Bug fixes\n\n- When uploading an image to swift, we need the swift service endpoint\n  for the CLI to be able to upload. Fixed this in shell.py\n- Removed unnecessary quotes in the commands to swift CLI.\n- Deleting downloaded image files after using them.\n  (Removed '.tar' from the filename)\n\nChange-Id: I2050e7c44c9d0f98cc9e128c3dafbe3bf11acf21\n""}, {'number': 3, 'created': '2015-02-02 17:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/d784a6146fdf86a9b24d9aaf232cebf2c0a38cbc', 'message': ""Swift image storage backend Bug fixes\n\n- When uploading an image to swift, we need the swift service endpoint\n  for the CLI to be able to upload. Fixed this in shell.py\n- Removed unnecessary quotes in the commands to swift CLI.\n- Deleting downloaded image files after using them.\n  (Removed '.tar' from the filename)\n\nChange-Id: I2050e7c44c9d0f98cc9e128c3dafbe3bf11acf21\n""}, {'number': 4, 'created': '2015-02-02 19:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/cbb9fae76aac2b2fb890ae26d3092eb3c1db0fe2', 'message': ""Swift image storage backend Bug fixes\n\n- When uploading an image to swift, we need the swift service endpoint\n  for the CLI to be able to upload. Fixed this in shell.py\n- Removed unnecessary quotes in the commands to swift CLI.\n- Deleting downloaded image files after using them.\n  (Removed '.tar' from the filename)\n\nChange-Id: I2050e7c44c9d0f98cc9e128c3dafbe3bf11acf21\n""}, {'number': 5, 'created': '2015-02-02 23:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/5a6b8d188dc660cc6ea1c259caacd4a223950633', 'message': ""Swift image storage backend Bug fixes\n\n- When uploading an image to swift, we need the swift service endpoint\n  for the CLI to be able to upload. Fixed this in shell.py\n- Removed unnecessary quotes in the commands to swift CLI.\n- Deleting downloaded image files after using them.\n  (Removed '.tar' from the filename)\n- Improved logging when uploading an LP fails.\n\nChange-Id: I2050e7c44c9d0f98cc9e128c3dafbe3bf11acf21\n""}, {'number': 6, 'created': '2015-02-03 00:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/8fe839cf45e4a5c86526f9b8ab7a1fced9469381', 'message': ""Swift image storage backend Bug fixes\n\n- When uploading an image to swift, we need the swift service endpoint\n  for the CLI to be able to upload. Fixed this in shell.py\n- Removed unnecessary quotes in the commands to swift CLI.\n- Deleting downloaded image files after using them.\n  (Removed '.tar' from the filename)\n- Improved logging when uploading an LP fails.\n\nChange-Id: I2050e7c44c9d0f98cc9e128c3dafbe3bf11acf21\n""}, {'number': 7, 'created': '2015-02-03 17:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/3c189e95dc22483cc36ce05b869d30a9622886af', 'message': ""Swift image storage backend Bug fixes\n\n- When uploading an image to swift, we need the swift service endpoint\n  for the CLI to be able to upload. Fixed this in shell.py\n- Removed unnecessary quotes in the commands to swift CLI.\n- Deleting downloaded image files after using them.\n  (Removed '.tar' from the filename)\n- Improved logging when uploading an LP fails.\n\nChange-Id: I2050e7c44c9d0f98cc9e128c3dafbe3bf11acf21\n""}, {'number': 8, 'created': '2015-02-03 17:39:03.000000000', 'files': ['solum/worker/handlers/shell.py', 'contrib/lp-cedarish/docker/build-lp', 'contrib/lp-cedarish/docker/build-app'], 'web_link': 'https://opendev.org/openstack/solum/commit/816dbda7ce34ab93ea4042afe8eb6875f24a87b3', 'message': ""Swift image storage backend Bug fixes\n\n- When uploading an image to swift, we need the swift service endpoint\n  for the CLI to be able to upload. Fixed this in shell.py\n- Removed unnecessary quotes in the commands to swift CLI.\n- Deleting downloaded image files after using them.\n  (Removed '.tar' from the filename)\n- Improved logging when uploading an LP fails.\n\nChange-Id: I2050e7c44c9d0f98cc9e128c3dafbe3bf11acf21\n""}]",13,151909,816dbda7ce34ab93ea4042afe8eb6875f24a87b3,33,5,8,9095,,,0,"Swift image storage backend Bug fixes

- When uploading an image to swift, we need the swift service endpoint
  for the CLI to be able to upload. Fixed this in shell.py
- Removed unnecessary quotes in the commands to swift CLI.
- Deleting downloaded image files after using them.
  (Removed '.tar' from the filename)
- Improved logging when uploading an LP fails.

Change-Id: I2050e7c44c9d0f98cc9e128c3dafbe3bf11acf21
",git fetch https://review.opendev.org/openstack/solum refs/changes/09/151909/8 && git format-patch -1 --stdout FETCH_HEAD,"['solum/worker/handlers/shell.py', 'contrib/lp-cedarish/docker/build-lp', 'contrib/lp-cedarish/docker/build-app']",3,c84e5eaea009870656e5a6a7092769345dac92d5,swift_image_storage_bug_fixes, swift --os-auth-token $OS_AUTH_TOKEN download solum_lp $IMG_EXTERNAL_REF --output $LP_NAME sudo rm $LP_NAME BASE_IMG=$LP_NAME sudo docker save --output $APP $APP swift --os-auth-token $OS_AUTH_TOKEN upload solum_du $APP sudo rm $APP," swift --os-auth-token $OS_AUTH_TOKEN download solum_lp $LP_NAME --output $IMG_EXTERNAL_REF BASE_IMG=${LP_NAME%%.tar} sudo docker save --output ""$APP"" ""$APP"" swift --os-auth-token $OS_AUTH_TOKEN upload solum_du ""$APP"".tar sudo rm ""$APP"".tar",13,8
openstack%2Fcookbook-openstack-ops-messaging~master~I1196f95465c0cb21824954feb261b9d1cfd84d26,openstack/cookbook-openstack-ops-messaging,master,I1196f95465c0cb21824954feb261b9d1cfd84d26,Allow on-the-fly mq clusters,MERGED,2015-01-20 17:30:42.000000000,2015-02-03 19:47:40.000000000,2015-02-03 19:47:38.000000000,"[{'_account_id': 3}, {'_account_id': 7128}, {'_account_id': 8410}, {'_account_id': 9488}, {'_account_id': 11915}, {'_account_id': 12323}]","[{'number': 1, 'created': '2015-01-20 17:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-messaging/commit/0b041f55bae2a31dc57818c4d1542450c82e2797', 'message': 'Allow on-the-fly mq clusters\n\nAdd attribute to allow mq cluster to be built on-the-fly rather\nthen searching nodes.\n\nChange-Id: I1196f95465c0cb21824954feb261b9d1cfd84d26\nCloses-Bug: #1412886\n'}, {'number': 2, 'created': '2015-01-20 19:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-messaging/commit/9402dae33412b5b87593b3ffda093d6910cd0374', 'message': 'Allow on-the-fly mq clusters\n\nAdd attribute to allow mq cluster to be built on-the-fly rather\nthen searching nodes.\n\nChange-Id: I1196f95465c0cb21824954feb261b9d1cfd84d26\nCloses-Bug: #1412886\n'}, {'number': 3, 'created': '2015-01-21 14:24:00.000000000', 'files': ['recipes/rabbitmq-server.rb', 'attributes/default.rb', 'CHANGELOG.md', 'spec/rabbitmq-server_spec.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-messaging/commit/e706132417cb66c279328faf22ba1ec94a84a307', 'message': 'Allow on-the-fly mq clusters\n\nAdd attribute to allow mq cluster to be built on-the-fly rather\nthan searching nodes.\n\nChange-Id: I1196f95465c0cb21824954feb261b9d1cfd84d26\nCloses-Bug: #1412886\n'}]",3,148669,e706132417cb66c279328faf22ba1ec94a84a307,17,6,3,7128,,,0,"Allow on-the-fly mq clusters

Add attribute to allow mq cluster to be built on-the-fly rather
than searching nodes.

Change-Id: I1196f95465c0cb21824954feb261b9d1cfd84d26
Closes-Bug: #1412886
",git fetch https://review.opendev.org/openstack/cookbook-openstack-ops-messaging refs/changes/69/148669/1 && git format-patch -1 --stdout FETCH_HEAD,"['recipes/rabbitmq-server.rb', 'attributes/default.rb', 'CHANGELOG.md', 'spec/rabbitmq-server_spec.rb']",4,0b041f55bae2a31dc57818c4d1542450c82e2797,bug/1412886, it 'dees not search for cluster_disk_nodes' do node.set['openstack']['mq']['search_for_cluster_disk_nodes'] = false expect(chef_run.node['rabbitmq']['cluster_disk_nodes']).to eq([]) end,,18,5
openstack%2Fopenstack-ansible~juno~Ic505c8cdb08e762ec06536ead46b3dfaf6a474d3,openstack/openstack-ansible,juno,Ic505c8cdb08e762ec06536ead46b3dfaf6a474d3,Updated for version bump,MERGED,2015-02-02 23:12:04.000000000,2015-02-03 19:39:48.000000000,2015-02-03 19:32:23.000000000,"[{'_account_id': 3}, {'_account_id': 425}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 9884}, {'_account_id': 12892}]","[{'number': 1, 'created': '2015-02-02 23:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4169535f16efb2daa5823b15d12d4100e3827956', 'message': 'Updated for version bump\n\nThis change preps the required files to point everything at the correct\nversions for release.\n\n* The file ""rpc_deployment/vars/repo_packages/os-ansible-deployment.yml"" is no longer\n  needed and has been removed.\n* Heat templates have been set to point to the Juno Branches.\n* Release version has been set to version 10.1.2rc1.\n* The raxmon agent release tag has been set to the juno branch because there is no\n  current release tag that corresponds with the 10.1.2rc tag.\n\nChange-Id: Ic505c8cdb08e762ec06536ead46b3dfaf6a474d3\n'}, {'number': 2, 'created': '2015-02-03 18:26:13.000000000', 'files': ['rpc_deployment/vars/repo_packages/raxmon_agent.yml', 'rpc_deployment/vars/repo_packages/os-ansible-deployment.yml', 'scripts/rpc-aio-rax-heat-template.yml', 'scripts/rpc-aio-heat-template.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/33ba65ef9ee87f9d59de848310150a367a8f94b6', 'message': 'Updated for version bump\n\nThis change preps the required files to point everything at the correct\nversions for release.\n\n* The file ""rpc_deployment/vars/repo_packages/os-ansible-deployment.yml"" is no longer\n  needed and has been removed.\n* Heat templates have been set to point to the Juno Branches.\n* Release version has been set to version 10.1.2rc1.\n* The raxmon agent release tag has been set to the 10.1.2rc1\n\nChange-Id: Ic505c8cdb08e762ec06536ead46b3dfaf6a474d3\n'}]",0,152331,33ba65ef9ee87f9d59de848310150a367a8f94b6,14,6,2,7353,,,0,"Updated for version bump

This change preps the required files to point everything at the correct
versions for release.

* The file ""rpc_deployment/vars/repo_packages/os-ansible-deployment.yml"" is no longer
  needed and has been removed.
* Heat templates have been set to point to the Juno Branches.
* Release version has been set to version 10.1.2rc1.
* The raxmon agent release tag has been set to the 10.1.2rc1

Change-Id: Ic505c8cdb08e762ec06536ead46b3dfaf6a474d3
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/31/152331/1 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/vars/repo_packages/raxmon_agent.yml', 'rpc_deployment/vars/repo_packages/os-ansible-deployment.yml', 'scripts/rpc-aio-rax-heat-template.yml', 'scripts/rpc-aio-heat-template.yml']",4,4169535f16efb2daa5823b15d12d4100e3827956,, default: RPC-AIO default: https://raw.githubusercontent.com/stackforge/os-ansible-deployment/juno/scripts/cloudserver-aio.sh default: juno, default: RPCv9.0.0-AIO default: https://raw.githubusercontent.com/stackforge/os-ansible-deployment/10.1.1/scripts/cloudserver-aio.sh default: 10.1.1,7,30
openstack%2Fopenstack-manuals~stable%2Fjuno~Ib2aad429c77b39f5f568306da18dbe3d67c71938,openstack/openstack-manuals,stable/juno,Ib2aad429c77b39f5f568306da18dbe3d67c71938,clean up of section_sahara-install,MERGED,2015-02-03 18:47:45.000000000,2015-02-03 19:38:29.000000000,2015-02-03 19:38:28.000000000,"[{'_account_id': 3}, {'_account_id': 9515}, {'_account_id': 9563}]","[{'number': 1, 'created': '2015-02-03 18:47:45.000000000', 'files': ['doc/install-guide/section_sahara-install.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8a4b9a6f05227654dc6c9c1f80e39a8537f192c4', 'message': 'clean up of section_sahara-install\n\nchanged verbiage and sentence structure for clarity\n\nCo-Authored-By: Matt Kassawara <mkassawara@gmail.com>\nbackport: juno\nChange-Id: Ib2aad429c77b39f5f568306da18dbe3d67c71938\n'}]",0,152649,8a4b9a6f05227654dc6c9c1f80e39a8537f192c4,6,3,1,6547,,,0,"clean up of section_sahara-install

changed verbiage and sentence structure for clarity

Co-Authored-By: Matt Kassawara <mkassawara@gmail.com>
backport: juno
Change-Id: Ib2aad429c77b39f5f568306da18dbe3d67c71938
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/49/152649/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/section_sahara-install.xml'],1,8a4b9a6f05227654dc6c9c1f80e39a8537f192c4,juno/backport/134741," <step> <para>If you use the Data processing service with a MySQL or MariaDB database, you must configure the maximum number of allowed packets for storing big job binaries in the service internal database.</para> <substeps> <step> <para>Edit the <filename os=""ubuntu;debian"">/etc/mysql/my.cnf</filename> <filename os=""rhel;centos;fedora;sles;opensuse"">/etc/my.cnf</filename> file and change the <literal>max_allowed_packet</literal> option:</para> <programlisting language=""ini"">[mysqld] </step> <step> <para>Restart the database service:</para> <screen os=""ubuntu;debian""><prompt>#</prompt> <userinput>service mysql restart</userinput></screen> <screen os=""rhel;centos;fedora""><prompt>#</prompt> <userinput>systemctl restart mariadb.service</userinput></screen> <para os=""sles;opensuse"">On SLES:</para> <screen os=""sles""><prompt>#</prompt> <userinput>service mysql restart</userinput></screen> <para os=""sles;opensuse"">On openSUSE:</para> <screen os=""opensuse""><prompt>#</prompt> <userinput>systemctl restart mysql.service</userinput></screen> </step> </substeps> </step>"," <step><para>If you use the Data processing service with a MySQL database, then for storing big job binaries in the sahara internal database you must configure the size of max allowed packets. Edit the <filename>my.cnf</filename> file and change parameter: <programlisting language=""ini"">[mysqld] and restart MySQL server. </para></step>",24,7
openstack%2Fopenstack-manuals~stable%2Fjuno~I5d0836ebe9a3cb455c457dadfe46f68bb3e9317e,openstack/openstack-manuals,stable/juno,I5d0836ebe9a3cb455c457dadfe46f68bb3e9317e,few changes on section_sahara-install,MERGED,2015-02-03 18:47:45.000000000,2015-02-03 19:36:00.000000000,2015-02-03 19:35:59.000000000,"[{'_account_id': 3}, {'_account_id': 9382}, {'_account_id': 9515}]","[{'number': 1, 'created': '2015-02-03 18:47:45.000000000', 'files': ['doc/install-guide/section_sahara-install.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/e0abbc25ff00ba9b5653dd09f32bc4d6d34dfa73', 'message': 'few changes on section_sahara-install\n\nadded the in multiple places where needed\nminor cleanup\n\nChange-Id: I5d0836ebe9a3cb455c457dadfe46f68bb3e9317e\n(cherry picked from commit 60bccec2236a24d8ba260df72b15875294cb3c7a)\n'}]",0,152648,e0abbc25ff00ba9b5653dd09f32bc4d6d34dfa73,6,3,1,6547,,,0,"few changes on section_sahara-install

added the in multiple places where needed
minor cleanup

Change-Id: I5d0836ebe9a3cb455c457dadfe46f68bb3e9317e
(cherry picked from commit 60bccec2236a24d8ba260df72b15875294cb3c7a)
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/48/152648/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/section_sahara-install.xml'],1,e0abbc25ff00ba9b5653dd09f32bc4d6d34dfa73,juno/backport/134741," <para>Install the required packages:</para> <step><para>If you use the Data processing service with a MySQL database, then for storing big job binaries in the sahara internal database you must configure the size of max allowed packets. Edit the <filename>my.cnf</filename>"," <para>Install required packages:</para> <step><para>If you use the Data processing service with MySQL database, then for storing big job binaries in sahara internal database you must configure size of max allowed packet. Edit <filename>my.cnf</filename>",4,4
openstack%2Fpython-solumclient~master~Ia93adfd82854a16da1d1ee05c8d113c9dd50f511,openstack/python-solumclient,master,Ia93adfd82854a16da1d1ee05c8d113c9dd50f511,Support for Languagepack list and show commands,MERGED,2015-02-03 06:08:24.000000000,2015-02-03 19:28:18.000000000,2015-02-03 19:28:17.000000000,"[{'_account_id': 3}, {'_account_id': 1375}, {'_account_id': 2506}, {'_account_id': 9095}]","[{'number': 1, 'created': '2015-02-03 06:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/89b0410d13bcea0b17ead9ff03758647a379e558', 'message': 'Support for Languagepack list and show commands\n\nChange-Id: Ia93adfd82854a16da1d1ee05c8d113c9dd50f511\n'}, {'number': 2, 'created': '2015-02-03 18:13:05.000000000', 'files': ['solumclient/builder/v1/image.py', 'solumclient/tests/test_solum.py', 'solumclient/solum.py', 'solumclient/common/cli_utils.py'], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/3da43338a9bb26028b510958b0a6e5e86bf4f180', 'message': 'Support for Languagepack list and show commands\n\nChange-Id: Ia93adfd82854a16da1d1ee05c8d113c9dd50f511\n'}]",7,152400,3da43338a9bb26028b510958b0a6e5e86bf4f180,13,4,2,9095,,,0,"Support for Languagepack list and show commands

Change-Id: Ia93adfd82854a16da1d1ee05c8d113c9dd50f511
",git fetch https://review.opendev.org/openstack/python-solumclient refs/changes/00/152400/2 && git format-patch -1 --stdout FETCH_HEAD,"['solumclient/builder/v1/image.py', 'solumclient/solum.py', 'solumclient/common/cli_utils.py']",3,89b0410d13bcea0b17ead9ff03758647a379e558,lp_commands," self.bldclient = builder_client.get_client(parsed.solum_api_version, **client_args) self.client = solum_client.get_client(parsed.solum_api_version, **client_args)"," if vars(parsed).get('action') == 'build': self.client = builder_client.get_client(parsed.solum_api_version, **client_args) else: self.client = solum_client.get_client(parsed.solum_api_version, **client_args)",32,19
openstack%2Fneutron-lbaas~master~I8dfb020b6df30f28a32702098025199fb2143d70,openstack/neutron-lbaas,master,I8dfb020b6df30f28a32702098025199fb2143d70,Implement managers for synchronous haproxy driver,MERGED,2015-01-03 07:19:35.000000000,2015-02-03 19:27:47.000000000,2015-02-03 19:27:47.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 6951}, {'_account_id': 7398}, {'_account_id': 10273}, {'_account_id': 10980}, {'_account_id': 11302}, {'_account_id': 12040}, {'_account_id': 12403}, {'_account_id': 13051}]","[{'number': 1, 'created': '2015-01-03 07:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/1c1f999945933b60147151e537b1db8812613342', 'message': 'Implement managers for synchronous haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\nAdded commented service_provider to line in neutron.conf to enable\nthis driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I8dfb020b6df30f28a32702098025199fb2143d70\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 2, 'created': '2015-01-08 00:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/d123fdefcfe9ecacef2140a6715a8ae5e15b7662', 'message': 'Implement managers for synchronous haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\nAdded commented service_provider to line in neutron.conf to enable\nthis driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I8dfb020b6df30f28a32702098025199fb2143d70\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 3, 'created': '2015-01-09 22:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/3d7c350b11df1e0fd2e4b2b2452e970659f0f5f3', 'message': 'Implement managers for synchronous haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\nAdded commented service_provider to line in neutron.conf to enable\nthis driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I8dfb020b6df30f28a32702098025199fb2143d70\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 4, 'created': '2015-01-13 00:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/ed3752bc82a39dd698bcb4323c39975e6f3f8d38', 'message': 'Implement managers for synchronous haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\nAdded commented service_provider to line in neutron.conf to enable\nthis driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I8dfb020b6df30f28a32702098025199fb2143d70\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 5, 'created': '2015-01-19 19:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/9407e3d759ffedb0257f725f88faa30429567308', 'message': 'Implement managers for synchronous haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\nAdded commented service_provider to line in neutron.conf to enable\nthis driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I8dfb020b6df30f28a32702098025199fb2143d70\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 6, 'created': '2015-01-29 23:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/4b258decb953fc1822e39e5909519bec5c15c493', 'message': 'Implement managers for synchronous haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\nAdded commented service_provider to line in neutron.conf to enable\nthis driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I8dfb020b6df30f28a32702098025199fb2143d70\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 7, 'created': '2015-01-31 05:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/85397d103e9fe512b8cbfbffbc9d3ec1f93936f4', 'message': 'Implement managers for synchronous haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\nAdded commented service_provider to line in neutron.conf to enable\nthis driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I8dfb020b6df30f28a32702098025199fb2143d70\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 8, 'created': '2015-02-02 19:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/65099dd64ee402108a02902c2a6eac029deae316', 'message': 'Implement managers for synchronous haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\nAdded commented service_provider to line in neutron.conf to enable\nthis driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I8dfb020b6df30f28a32702098025199fb2143d70\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 9, 'created': '2015-02-02 21:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/75e769a40864424756e3f0ecf389e3551b37ac92', 'message': 'Implement managers for synchronous haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\nAdded commented service_provider to line in neutron.conf to enable\nthis driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I8dfb020b6df30f28a32702098025199fb2143d70\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 10, 'created': '2015-02-02 22:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/7501adbdfab369f85f3e0594db817acb1052e53c', 'message': 'Implement managers for synchronous haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\nAdded commented service_provider to line in neutron.conf to enable\nthis driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I8dfb020b6df30f28a32702098025199fb2143d70\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 11, 'created': '2015-02-02 23:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/a442ab347dfc65b43b33ffb254f65ae534677aff', 'message': 'Implement managers for synchronous haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\nAdded commented service_provider to line in neutron.conf to enable\nthis driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I8dfb020b6df30f28a32702098025199fb2143d70\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 12, 'created': '2015-02-03 02:44:12.000000000', 'files': ['neutron_lbaas/tests/unit/services/loadbalancer/drivers/haproxy/test_synchronous_driver.py', 'neutron_lbaas/services/loadbalancer/drivers/haproxy/synchronous_namespace_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/e50112a99fcb4da583f45f5c901035cca67a586b', 'message': 'Implement managers for synchronous haproxy driver\n\nLoadBalancer, Listener, Pool, Member, and HealthMonitor Managers\nManager instances added into driver.\nAdded commented service_provider to line in neutron.conf to enable\nthis driver.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I8dfb020b6df30f28a32702098025199fb2143d70\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}]",17,144832,e50112a99fcb4da583f45f5c901035cca67a586b,61,11,12,6951,,,0,"Implement managers for synchronous haproxy driver

LoadBalancer, Listener, Pool, Member, and HealthMonitor Managers
Manager instances added into driver.
Added commented service_provider to line in neutron.conf to enable
this driver.

Partially-implements: blueprint lbaas-api-and-objmodel-improvement
Partially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface

Change-Id: I8dfb020b6df30f28a32702098025199fb2143d70
Co-authored-by: Brandon Logan <brandon.logan@rackspace.com>
Co-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/32/144832/12 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas/tests/unit/services/loadbalancer/drivers/haproxy/test_synchronous_driver.py', 'etc/neutron.conf', 'neutron_lbaas/services/loadbalancer/drivers/haproxy/synchronous_namespace_driver.py']",3,1c1f999945933b60147151e537b1db8812613342,bp/lbaas-api-and-objmodel-improvement," self.load_balancer = LoadBalancerManager(self) self.listener = ListenerManager(self) self.pool = PoolManager(self) self.member = MemberManager(self) self.health_monitor = HealthMonitorManager(self) class LoadBalancerManager(driver_base.BaseLoadBalancerManager): def refresh(self, context, loadbalancer): super(LoadBalancerManager, self).refresh(context, loadbalancer) if not self.deployable(loadbalancer): #TODO(brandon-logan): Ensure there is a way to sync the change #later. Periodic task perhaps. return if self.driver.exists(loadbalancer): self.driver.update_instance(loadbalancer) else: self.driver.create_instance(context, loadbalancer) def delete(self, context, loadbalancer): super(LoadBalancerManager, self).delete(context, loadbalancer) self.db_delete(context, loadbalancer.id) self.driver.delete_instance(loadbalancer) def create(self, context, loadbalancer): super(LoadBalancerManager, self).create(context, loadbalancer) # loadbalancer has no listeners then just set it to ACTIVE if not loadbalancer.listeners: self.active(context, loadbalancer.id) return self.refresh(context, loadbalancer) self.driver.plugin.activate_linked_entities(context, loadbalancer) def stats(self, context, loadbalancer): super(LoadBalancerManager, self).stats(context, loadbalancer) return self.driver.get_stats(loadbalancer) def update(self, context, old_loadbalancer, loadbalancer): super(LoadBalancerManager, self).update(context, old_loadbalancer, loadbalancer) self.refresh(context, loadbalancer) self.driver.plugin.activate_linked_entities(context, loadbalancer) def deployable(self, loadbalancer): if not loadbalancer: return False acceptable_listeners = [ listener for listener in loadbalancer.listeners if (listener.status != constants.PENDING_DELETE and listener.admin_state_up)] return (acceptable_listeners and loadbalancer.status != constants.PENDING_DELETE) class ListenerManager(driver_base.BaseListenerManager): def _remove_listener(self, loadbalancer, listener_id): index_to_remove = None for index, listener in enumerate(loadbalancer.listeners): if listener.id == listener_id: index_to_remove = index loadbalancer.listeners.pop(index_to_remove) def update(self, context, old_listener, new_listener): super(ListenerManager, self).update(context, old_listener, new_listener) if new_listener.attached_to_loadbalancer(): self.driver.load_balancer.refresh(context, new_listener.loadbalancer) else: # Remove because haproxy will throw error without full frontend # configuration self.driver.delete_instance(old_listener.loadbalancer, cleanup_namespace=True) if new_listener.attached_to_loadbalancer(): # Always activate listener and its children if attached to # loadbalancer self.driver.plugin.activate_linked_entities(context, new_listener) elif old_listener.attached_to_loadbalancer(): # If listener has just been detached from loadbalancer # defer listener and its children self.driver.plugin.defer_listener(context, new_listener) if not new_listener.default_pool and old_listener.default_pool: # if listener's pool has been detached then defer the pool # and its children self.driver.plugin.defer_pool(context, old_listener.default_pool) def create(self, context, listener): super(ListenerManager, self).create(context, listener) self.driver.load_balancer.refresh(context, listener.loadbalancer) self.driver.plugin.activate_linked_entities(context, listener) def delete(self, context, obj): super(ListenerManager, self).delete(context, obj) self.db_delete(context, obj.id) loadbalancer = obj.loadbalancer self._remove_listener(loadbalancer, obj.id) if len(loadbalancer.listeners) > 0: self.driver.load_balancer.refresh(context, loadbalancer) else: # delete instance because haproxy will throw error if port is # missing in frontend self.driver.delete_instance(loadbalancer) if obj.default_pool: self.driver.plugin.defer_pool(context, obj.default_pool) class PoolManager(driver_base.BasePoolManager): def update(self, context, obj_old, obj): super(PoolManager, self).update(context, obj_old, obj) self.driver.load_balancer.refresh(context, obj.listener.loadbalancer) self.driver.plugin.activate_linked_entities(context, obj) if not obj.healthmonitor and obj_old.healthmonitor: self.driver.plugin.defer_healthmonitor(context, obj_old.healthmonitor) def create(self, context, obj): super(PoolManager, self).delete(context, obj) self.driver.load_balancer.refresh(context, obj.listener.loadbalancer) # This shouldn't be called since a pool cannot be created and linked # to a loadbalancer at the same time self.driver.plugin.activate_linked_entities(context, obj) def delete(self, context, obj): super(PoolManager, self).delete(context, obj) self.db_delete(context, obj.id) loadbalancer = obj.listener.loadbalancer obj.listener.default_pool = None # just refresh because haproxy is fine if only frontend is listed self.driver.load_balancer.refresh(context, loadbalancer) if obj.healthmonitor: self.driver.plugin.defer_healthmonitor(context, obj.healthmonitor) class MemberManager(driver_base.BaseMemberManager): def _remove_member(self, pool, member_id): index_to_remove = None for index, member in enumerate(pool.members): if member.id == member_id: index_to_remove = index pool.members.pop(index_to_remove) def update(self, context, obj_old, obj): super(MemberManager, self).update(context, obj_old, obj) self.driver.load_balancer.refresh(context, obj.pool.listener.loadbalancer) self.driver.plugin.activate_linked_entities(context, obj) def create(self, context, obj): super(MemberManager, self).create(context, obj) self.driver.load_balancer.refresh(context, obj.pool.listener.loadbalancer) self.driver.plugin.activate_linked_entities(context, obj) def delete(self, context, obj): super(MemberManager, self).delete(context, obj) loadbalancer = obj.pool.listener.loadbalancer self._remove_member(obj.pool, obj.id) self.driver.load_balancer.refresh(context, loadbalancer) self.db_delete(context, obj.id) class HealthMonitorManager(driver_base.BaseHealthMonitorManager): def update(self, context, obj_old, obj): super(HealthMonitorManager, self).update(context, obj_old, obj) self.driver.load_balancer.refresh(context, obj.pool.listener.loadbalancer) self.driver.plugin.activate_linked_entities(context, obj) def create(self, context, obj): super(HealthMonitorManager, self).create(context, obj) self.driver.load_balancer.refresh(context, obj.pool.listener.loadbalancer) self.driver.plugin.activate_linked_entities(context, obj) def delete(self, context, obj): super(HealthMonitorManager, self).delete(context, obj) loadbalancer = obj.pool.listener.loadbalancer obj.pool.healthmonitor = None self.driver.load_balancer.refresh(context, loadbalancer) self.db_delete(context, obj.id)",,1242,1
openstack%2Fmonasca-api~master~I70ce117785336713b18dfcabedf629b3cdf662c5,openstack/monasca-api,master,I70ce117785336713b18dfcabedf629b3cdf662c5,Added 2 spaces for indentation and also added the inner class,ABANDONED,2015-01-31 02:42:05.000000000,2015-02-03 19:20:40.000000000,,"[{'_account_id': 3}, {'_account_id': 11809}]","[{'number': 1, 'created': '2015-01-31 02:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/0b1b74af99e1157adf82dd2ce9a6c0ac1f1e2d39', 'message': 'Added 2 spaces for indentation\n\nChange-Id: I70ce117785336713b18dfcabedf629b3cdf662c5\n'}, {'number': 2, 'created': '2015-01-31 06:32:28.000000000', 'files': ['src/main/java/monasca/api/infrastructure/persistence/mysql/AlarmDefinitionMySqlRepositoryImpl.java', 'src/main/java/monasca/api/infrastructure/persistence/mysql/AlarmDefinitionMapper.java'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/5e202cd9550588f55ce19f2ec7aecfe857b4daf5', 'message': 'Added 2 spaces for indentation and also added the inner class\n\nChange-Id: I70ce117785336713b18dfcabedf629b3cdf662c5\n'}]",0,151844,5e202cd9550588f55ce19f2ec7aecfe857b4daf5,6,2,2,14375,,,0,"Added 2 spaces for indentation and also added the inner class

Change-Id: I70ce117785336713b18dfcabedf629b3cdf662c5
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/44/151844/2 && git format-patch -1 --stdout FETCH_HEAD,['src/main/java/monasca/api/infrastructure/persistence/mysql/AlarmDefinitionMySqlRepositoryImpl.java'],1,0b1b74af99e1157adf82dd2ce9a6c0ac1f1e2d39,904," AlarmDefinitionRepository { private static final Joiner COMMA_JOINER = Joiner.on(','); private static final String SUB_ALARM_SQL = ""select sa.*, sad.dimensions from sub_alarm_definition as sa "" + ""left join (select sub_alarm_definition_id, group_concat(dimension_name, '=', value) as dimensions from sub_alarm_definition_dimension group by sub_alarm_definition_id ) as sad "" + ""on sad.sub_alarm_definition_id = sa.id where sa.alarm_definition_id = :alarmDefId""; private final DBI db; @Inject public AlarmDefinitionMySqlRepositoryImpl(@Named(""mysql"") DBI db) { this.db = db; } @Override public AlarmDefinition create(String tenantId, String id, String name, String description, String severity, String expression, Map<String, AlarmSubExpression> subExpressions, List<String> matchBy, List<String> alarmActions, List<String> okActions, List<String> undeterminedActions) { Handle h = db.open(); try { h.begin(); h.insert( ""insert into alarm_definition (id, tenant_id, name, description, severity, expression, match_by, actions_enabled, created_at, updated_at, deleted_at) values (?, ?, ?, ?, ?, ?, ?, ?, NOW(), NOW(), NULL)"", id, tenantId, name, description, severity, expression, matchBy == null || Iterables.isEmpty(matchBy) ? null : COMMA_JOINER .join(matchBy), true); // Persist sub-alarms createSubExpressions(h, id, subExpressions); // Persist actions persistActions(h, id, AlarmState.ALARM, alarmActions); persistActions(h, id, AlarmState.OK, okActions); persistActions(h, id, AlarmState.UNDETERMINED, undeterminedActions); h.commit(); return new AlarmDefinition(id, name, description, severity, expression, matchBy, true, alarmActions, okActions == null ? Collections.<String> emptyList() : okActions, undeterminedActions == null ? Collections.<String> emptyList() : undeterminedActions); } catch (RuntimeException e) { h.rollback(); throw e; } finally { h.close(); } } @Override public void deleteById(String tenantId, String alarmDefId) { try (Handle h = db.open()) { if (h .update( ""update alarm_definition set deleted_at = NOW() where tenant_id = ? and id = ? and deleted_at is NULL"", tenantId, alarmDefId) == 0) throw new EntityNotFoundException(""No alarm definition exists for %s"", alarmDefId); // Cascade soft delete to alarms h.execute(""delete from alarm where alarm_definition_id = :id"", alarmDefId); } } @Override public boolean exists(String tenantId, String name) { try (Handle h = db.open()) { return h .createQuery( ""select exists(select 1 from alarm_definition where tenant_id = :tenantId and name = :name and deleted_at is NULL)"") .bind(""tenantId"", tenantId).bind(""name"", name).mapTo(Boolean.TYPE) .first(); } } @SuppressWarnings(""unchecked"") @Override public List<AlarmDefinition> find(String tenantId, String name, Map<String, String> dimensions, String offset) { try (Handle h = db.open()) { String query = ""select T1.* ,group_concat(notification_method.name) as alarmNames, "" + ""group_concat(alarm_action.alarm_state) as states, group_concat(alarm_action.action_id) as notificationIds from (select distinct alarm_definition.id,tenant_id,"" + ""name,description, severity, expression, match_by, actions_enabled, alarm_definition.created_at, alarm_definition.updated_at,"" + "" alarm_definition.deleted_at from alarm_definition inner join sub_alarm_definition sub on alarm_definition.id = sub.alarm_definition_id"" + "" left outer join sub_alarm_definition_dimension dim on sub.id = dim.sub_alarm_definition_id%s where tenant_id = :tenantId"" + "" and deleted_at is NULL %s order by %s alarm_definition.created_at %s) AS T1 INNER JOIN alarm_action ON T1.id=alarm_action.alarm_definition_id"" + "" INNER JOIN notification_method ON alarm_action.action_id=notification_method.id""; StringBuilder sbWhere = new StringBuilder(); if (name != null) { sbWhere.append("" and alarm_definition.name = :name""); } if (offset != null) { sbWhere.append("" and alarm_definition.id > :offset""); } String orderBy = offset != null ? ""alarm_definition.id,"" : """"; String limit = offset != null ? "" limit :limit"" : """"; String sql = String.format(query, SubAlarmQueries.buildJoinClauseFor(dimensions), sbWhere, orderBy, limit); Query<?> q = h.createQuery(sql).bind(""tenantId"", tenantId); if (name != null) { q.bind(""name"", name); } if (offset != null) { q.bind(""offset"", offset); q.bind(""limit"", Paged.LIMIT); } q.registerMapper(new AlarmDefinitionMapper()); q = q.mapTo(AlarmDefinition.class); DimensionQueries.bindDimensionsToQuery(q, dimensions); List<AlarmDefinition> resultSet = (List<AlarmDefinition>) q.list(); return resultSet; } } public AlarmDefinition findById(String tenantId, String alarmDefId) { try (Handle h = db.open()) { String query = ""select alarm_definition.*, group_concat(notification_method.name)as alarmNames,"" + ""group_concat(alarm_action.action_id) as notificationIds,group_concat(alarm_action.alarm_state) as states "" + ""from alarm_definition, alarm_action,notification_method where alarm_definition.id=alarm_action.alarm_definition_id "" + ""and alarm_action.action_id=notification_method.id and alarm_definition.tenant_id=:tenantId and alarm_definition.id=:alarmDefId and alarm_definition.deleted_at is NULL group by alarm_definition.id""; Query<?> q = h.createQuery(query); q.bind(""tenantId"", tenantId); q.bind(""alarmDefId"", alarmDefId); q.registerMapper(new AlarmDefinitionMapper()); q = q.mapTo(AlarmDefinition.class); AlarmDefinition alarmDefinition = (AlarmDefinition) q.first(); return alarmDefinition; } } @Override public Map<String, MetricDefinition> findSubAlarmMetricDefinitions( String alarmDefId) { try (Handle h = db.open()) { List<Map<String, Object>> rows = h.createQuery(SUB_ALARM_SQL) .bind(""alarmDefId"", alarmDefId).list(); Map<String, MetricDefinition> subAlarmMetricDefs = new HashMap<>(); for (Map<String, Object> row : rows) { String id = (String) row.get(""id""); String metricName = (String) row.get(""metric_name""); Map<String, String> dimensions = DimensionQueries .dimensionsFor((String) row.get(""dimensions"")); subAlarmMetricDefs .put(id, new MetricDefinition(metricName, dimensions)); } return subAlarmMetricDefs; } } @Override public Map<String, AlarmSubExpression> findSubExpressions(String alarmDefId) { try (Handle h = db.open()) { List<Map<String, Object>> rows = h.createQuery(SUB_ALARM_SQL) .bind(""alarmDefId"", alarmDefId).list(); Map<String, AlarmSubExpression> subExpressions = new HashMap<>(); for (Map<String, Object> row : rows) { String id = (String) row.get(""id""); AggregateFunction function = AggregateFunction.fromJson((String) row .get(""function"")); String metricName = (String) row.get(""metric_name""); AlarmOperator operator = AlarmOperator.fromJson((String) row .get(""operator"")); Double threshold = (Double) row.get(""threshold""); Integer period = (Integer) row.get(""period""); Integer periods = (Integer) row.get(""periods""); Map<String, String> dimensions = DimensionQueries .dimensionsFor((String) row.get(""dimensions"")); subExpressions.put(id, new AlarmSubExpression(function, new MetricDefinition(metricName, dimensions), operator, threshold, period, periods)); } return subExpressions; } } @Override public void update(String tenantId, String id, boolean patch, String name, String description, String expression, List<String> matchBy, String severity, boolean actionsEnabled, Collection<String> oldSubAlarmIds, Map<String, AlarmSubExpression> changedSubAlarms, Map<String, AlarmSubExpression> newSubAlarms, List<String> alarmActions, List<String> okActions, List<String> undeterminedActions) { Handle h = db.open(); try { h.begin(); h.insert( ""update alarm_definition set name = ?, description = ?, expression = ?, match_by = ?, severity = ?, actions_enabled = ?, updated_at = NOW() where tenant_id = ? and id = ?"", name, description, expression, matchBy == null || Iterables.isEmpty(matchBy) ? null : COMMA_JOINER .join(matchBy), severity, actionsEnabled, tenantId, id); // Delete old sub-alarms if (oldSubAlarmIds != null) for (String oldSubAlarmId : oldSubAlarmIds) h.execute(""delete from sub_alarm_definition where id = ?"", oldSubAlarmId); // Update changed sub-alarms if (changedSubAlarms != null) for (Map.Entry<String, AlarmSubExpression> entry : changedSubAlarms .entrySet()) { AlarmSubExpression sa = entry.getValue(); h.execute( ""update sub_alarm_definition set operator = ?, threshold = ?, updated_at = NOW() where id = ?"", sa.getOperator().name(), sa.getThreshold(), entry.getKey()); } // Insert new sub-alarms createSubExpressions(h, id, newSubAlarms); // Delete old actions if (patch) { deleteActions(h, id, AlarmState.ALARM, alarmActions); deleteActions(h, id, AlarmState.OK, okActions); deleteActions(h, id, AlarmState.UNDETERMINED, undeterminedActions); } else h.execute(""delete from alarm_action where alarm_definition_id = ?"", id); // Insert new actions persistActions(h, id, AlarmState.ALARM, alarmActions); persistActions(h, id, AlarmState.OK, okActions); persistActions(h, id, AlarmState.UNDETERMINED, undeterminedActions); h.commit(); } catch (RuntimeException e) { h.rollback(); throw e; } finally { h.close(); } } private void deleteActions(Handle handle, String id, AlarmState alarmState, List<String> actions) { if (actions != null) handle .execute( ""delete from alarm_action where alarm_definition_id = ? and alarm_state = ?"", id, alarmState.name()); } private List<String> findActionsById(Handle handle, String alarmDefId, AlarmState state) { return handle .createQuery( ""select action_id from alarm_action where alarm_definition_id = :alarmDefId and alarm_state = :alarmState"") .bind(""alarmDefId"", alarmDefId).bind(""alarmState"", state.name()) .map(StringMapper.FIRST).list(); } private void persistActions(Handle handle, String id, AlarmState alarmState, List<String> actions) { if (actions != null) for (String action : actions) handle.insert(""insert into alarm_action values (?, ?, ?)"", id, alarmState.name(), action); } private void createSubExpressions(Handle handle, String id, Map<String, AlarmSubExpression> alarmSubExpressions) { if (alarmSubExpressions != null) { for (Map.Entry<String, AlarmSubExpression> subEntry : alarmSubExpressions .entrySet()) { String subAlarmId = subEntry.getKey(); AlarmSubExpression subExpr = subEntry.getValue(); MetricDefinition metricDef = subExpr.getMetricDefinition(); // Persist sub-alarm handle .insert( ""insert into sub_alarm_definition (id, alarm_definition_id, function, metric_name, operator, threshold, period, periods, created_at, updated_at) "" + ""values (?, ?, ?, ?, ?, ?, ?, ?, NOW(), NOW())"", subAlarmId, id, subExpr.getFunction().name(), metricDef.name, subExpr.getOperator().name(), subExpr.getThreshold(), subExpr.getPeriod(), subExpr.getPeriods()); // Persist sub-alarm dimensions if (metricDef.dimensions != null && !metricDef.dimensions.isEmpty()) for (Map.Entry<String, String> dimEntry : metricDef.dimensions .entrySet()) handle.insert( ""insert into sub_alarm_definition_dimension values (?, ?, ?)"", subAlarmId, dimEntry.getKey(), dimEntry.getValue()); } } }"," AlarmDefinitionRepository { private static final Joiner COMMA_JOINER = Joiner.on(','); private static final String SUB_ALARM_SQL = ""select sa.*, sad.dimensions from sub_alarm_definition as sa "" + ""left join (select sub_alarm_definition_id, group_concat(dimension_name, '=', value) as dimensions from sub_alarm_definition_dimension group by sub_alarm_definition_id ) as sad "" + ""on sad.sub_alarm_definition_id = sa.id where sa.alarm_definition_id = :alarmDefId""; private final DBI db; @Inject public AlarmDefinitionMySqlRepositoryImpl(@Named(""mysql"") DBI db) { this.db = db; } @Override public AlarmDefinition create(String tenantId, String id, String name, String description, String severity, String expression, Map<String, AlarmSubExpression> subExpressions, List<String> matchBy, List<String> alarmActions, List<String> okActions, List<String> undeterminedActions) { Handle h = db.open(); try { h.begin(); h.insert( ""insert into alarm_definition (id, tenant_id, name, description, severity, expression, match_by, actions_enabled, created_at, updated_at, deleted_at) values (?, ?, ?, ?, ?, ?, ?, ?, NOW(), NOW(), NULL)"", id, tenantId, name, description, severity, expression, matchBy == null || Iterables.isEmpty(matchBy) ? null : COMMA_JOINER.join(matchBy), true); // Persist sub-alarms createSubExpressions(h, id, subExpressions); // Persist actions persistActions(h, id, AlarmState.ALARM, alarmActions); persistActions(h, id, AlarmState.OK, okActions); persistActions(h, id, AlarmState.UNDETERMINED, undeterminedActions); h.commit(); return new AlarmDefinition(id, name, description, severity, expression, matchBy, true, alarmActions, okActions == null ? Collections.<String> emptyList() : okActions, undeterminedActions == null ? Collections .<String> emptyList() : undeterminedActions); } catch (RuntimeException e) { h.rollback(); throw e; } finally { h.close(); } } @Override public void deleteById(String tenantId, String alarmDefId) { try (Handle h = db.open()) { if (h.update( ""update alarm_definition set deleted_at = NOW() where tenant_id = ? and id = ? and deleted_at is NULL"", tenantId, alarmDefId) == 0) throw new EntityNotFoundException( ""No alarm definition exists for %s"", alarmDefId); // Cascade soft delete to alarms h.execute(""delete from alarm where alarm_definition_id = :id"", alarmDefId); } } @Override public boolean exists(String tenantId, String name) { try (Handle h = db.open()) { return h.createQuery( ""select exists(select 1 from alarm_definition where tenant_id = :tenantId and name = :name and deleted_at is NULL)"") .bind(""tenantId"", tenantId).bind(""name"", name) .mapTo(Boolean.TYPE).first(); } } @SuppressWarnings(""unchecked"") @Override public List<AlarmDefinition> find(String tenantId, String name, Map<String, String> dimensions, String offset) { try (Handle h = db.open()) { String query = ""select T1.* ,group_concat(notification_method.name) as alarmNames, "" + ""group_concat(alarm_action.alarm_state) as states, group_concat(alarm_action.action_id) as notificationIds from (select distinct alarm_definition.id,tenant_id,"" + ""name,description, severity, expression, match_by, actions_enabled, alarm_definition.created_at, alarm_definition.updated_at,"" + "" alarm_definition.deleted_at from alarm_definition inner join sub_alarm_definition sub on alarm_definition.id = sub.alarm_definition_id"" + "" left outer join sub_alarm_definition_dimension dim on sub.id = dim.sub_alarm_definition_id%s where tenant_id = :tenantId"" + "" and deleted_at is NULL %s order by %s alarm_definition.created_at %s) AS T1 INNER JOIN alarm_action ON T1.id=alarm_action.alarm_definition_id"" + "" INNER JOIN notification_method ON alarm_action.action_id=notification_method.id""; StringBuilder sbWhere = new StringBuilder(); if (name != null) { sbWhere.append("" and alarm_definition.name = :name""); } if (offset != null) { sbWhere.append("" and alarm_definition.id > :offset""); } String orderBy = offset != null ? ""alarm_definition.id,"" : """"; String limit = offset != null ? "" limit :limit"" : """"; String sql = String.format(query, SubAlarmQueries.buildJoinClauseFor(dimensions), sbWhere, orderBy, limit); Query<?> q = h.createQuery(sql).bind(""tenantId"", tenantId); if (name != null) { q.bind(""name"", name); } if (offset != null) { q.bind(""offset"", offset); q.bind(""limit"", Paged.LIMIT); } q.registerMapper(new AlarmDefinitionMapper()); q = q.mapTo(AlarmDefinition.class); DimensionQueries.bindDimensionsToQuery(q, dimensions); List<AlarmDefinition> resultSet = (List<AlarmDefinition>) q.list(); return resultSet; } } public AlarmDefinition findById(String tenantId, String alarmDefId) { try (Handle h = db.open()) { String query = ""select alarm_definition.*, group_concat(notification_method.name)as alarmNames,"" + ""group_concat(alarm_action.action_id) as notificationIds,group_concat(alarm_action.alarm_state) as states "" + ""from alarm_definition, alarm_action,notification_method where alarm_definition.id=alarm_action.alarm_definition_id "" + ""and alarm_action.action_id=notification_method.id and alarm_definition.tenant_id=:tenantId and alarm_definition.id=:alarmDefId and alarm_definition.deleted_at is NULL group by alarm_definition.id""; Query<?> q = h.createQuery(query); q.bind(""tenantId"", tenantId); q.bind(""alarmDefId"", alarmDefId); q.registerMapper(new AlarmDefinitionMapper()); q = q.mapTo(AlarmDefinition.class); AlarmDefinition alarmDefinition = (AlarmDefinition) q.first(); return alarmDefinition; } } @Override public Map<String, MetricDefinition> findSubAlarmMetricDefinitions( String alarmDefId) { try (Handle h = db.open()) { List<Map<String, Object>> rows = h.createQuery(SUB_ALARM_SQL) .bind(""alarmDefId"", alarmDefId).list(); Map<String, MetricDefinition> subAlarmMetricDefs = new HashMap<>(); for (Map<String, Object> row : rows) { String id = (String) row.get(""id""); String metricName = (String) row.get(""metric_name""); Map<String, String> dimensions = DimensionQueries .dimensionsFor((String) row.get(""dimensions"")); subAlarmMetricDefs.put(id, new MetricDefinition(metricName, dimensions)); } return subAlarmMetricDefs; } } @Override public Map<String, AlarmSubExpression> findSubExpressions(String alarmDefId) { try (Handle h = db.open()) { List<Map<String, Object>> rows = h.createQuery(SUB_ALARM_SQL) .bind(""alarmDefId"", alarmDefId).list(); Map<String, AlarmSubExpression> subExpressions = new HashMap<>(); for (Map<String, Object> row : rows) { String id = (String) row.get(""id""); AggregateFunction function = AggregateFunction .fromJson((String) row.get(""function"")); String metricName = (String) row.get(""metric_name""); AlarmOperator operator = AlarmOperator.fromJson((String) row .get(""operator"")); Double threshold = (Double) row.get(""threshold""); Integer period = (Integer) row.get(""period""); Integer periods = (Integer) row.get(""periods""); Map<String, String> dimensions = DimensionQueries .dimensionsFor((String) row.get(""dimensions"")); subExpressions.put(id, new AlarmSubExpression(function, new MetricDefinition(metricName, dimensions), operator, threshold, period, periods)); } return subExpressions; } } @Override public void update(String tenantId, String id, boolean patch, String name, String description, String expression, List<String> matchBy, String severity, boolean actionsEnabled, Collection<String> oldSubAlarmIds, Map<String, AlarmSubExpression> changedSubAlarms, Map<String, AlarmSubExpression> newSubAlarms, List<String> alarmActions, List<String> okActions, List<String> undeterminedActions) { Handle h = db.open(); try { h.begin(); h.insert( ""update alarm_definition set name = ?, description = ?, expression = ?, match_by = ?, severity = ?, actions_enabled = ?, updated_at = NOW() where tenant_id = ? and id = ?"", name, description, expression, matchBy == null || Iterables.isEmpty(matchBy) ? null : COMMA_JOINER.join(matchBy), severity, actionsEnabled, tenantId, id); // Delete old sub-alarms if (oldSubAlarmIds != null) for (String oldSubAlarmId : oldSubAlarmIds) h.execute(""delete from sub_alarm_definition where id = ?"", oldSubAlarmId); // Update changed sub-alarms if (changedSubAlarms != null) for (Map.Entry<String, AlarmSubExpression> entry : changedSubAlarms .entrySet()) { AlarmSubExpression sa = entry.getValue(); h.execute( ""update sub_alarm_definition set operator = ?, threshold = ?, updated_at = NOW() where id = ?"", sa.getOperator().name(), sa.getThreshold(), entry.getKey()); } // Insert new sub-alarms createSubExpressions(h, id, newSubAlarms); // Delete old actions if (patch) { deleteActions(h, id, AlarmState.ALARM, alarmActions); deleteActions(h, id, AlarmState.OK, okActions); deleteActions(h, id, AlarmState.UNDETERMINED, undeterminedActions); } else h.execute( ""delete from alarm_action where alarm_definition_id = ?"", id); // Insert new actions persistActions(h, id, AlarmState.ALARM, alarmActions); persistActions(h, id, AlarmState.OK, okActions); persistActions(h, id, AlarmState.UNDETERMINED, undeterminedActions); h.commit(); } catch (RuntimeException e) { h.rollback(); throw e; } finally { h.close(); } } private void deleteActions(Handle handle, String id, AlarmState alarmState, List<String> actions) { if (actions != null) handle.execute( ""delete from alarm_action where alarm_definition_id = ? and alarm_state = ?"", id, alarmState.name()); } private List<String> findActionsById(Handle handle, String alarmDefId, AlarmState state) { return handle .createQuery( ""select action_id from alarm_action where alarm_definition_id = :alarmDefId and alarm_state = :alarmState"") .bind(""alarmDefId"", alarmDefId) .bind(""alarmState"", state.name()).map(StringMapper.FIRST) .list(); } private void persistActions(Handle handle, String id, AlarmState alarmState, List<String> actions) { if (actions != null) for (String action : actions) handle.insert(""insert into alarm_action values (?, ?, ?)"", id, alarmState.name(), action); } private void createSubExpressions(Handle handle, String id, Map<String, AlarmSubExpression> alarmSubExpressions) { if (alarmSubExpressions != null) { for (Map.Entry<String, AlarmSubExpression> subEntry : alarmSubExpressions .entrySet()) { String subAlarmId = subEntry.getKey(); AlarmSubExpression subExpr = subEntry.getValue(); MetricDefinition metricDef = subExpr.getMetricDefinition(); // Persist sub-alarm handle.insert( ""insert into sub_alarm_definition (id, alarm_definition_id, function, metric_name, operator, threshold, period, periods, created_at, updated_at) "" + ""values (?, ?, ?, ?, ?, ?, ?, ?, NOW(), NOW())"", subAlarmId, id, subExpr.getFunction().name(), metricDef.name, subExpr.getOperator().name(), subExpr.getThreshold(), subExpr.getPeriod(), subExpr.getPeriods()); // Persist sub-alarm dimensions if (metricDef.dimensions != null && !metricDef.dimensions.isEmpty()) for (Map.Entry<String, String> dimEntry : metricDef.dimensions .entrySet()) handle.insert( ""insert into sub_alarm_definition_dimension values (?, ?, ?)"", subAlarmId, dimEntry.getKey(), dimEntry.getValue()); } } }",270,271
openstack%2Fmonasca-api~master~I545345da6edc6aac9e41a128b24a6383ad29a7a1,openstack/monasca-api,master,I545345da6edc6aac9e41a128b24a6383ad29a7a1,Implemented single MySQL query to read all notifications associated with an AlarmDefinition. Previously thecode was making three additional sql calls to the DB.,ABANDONED,2015-01-28 00:30:11.000000000,2015-02-03 19:19:11.000000000,,"[{'_account_id': 3}, {'_account_id': 11809}]","[{'number': 1, 'created': '2015-01-28 00:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/1fe585b22a2bd3faee849e0c17634819f523ab3a', 'message': 'Implemented single MySQL query to read all notifications associated with an AlarmDefinition. Previously thecode was making three additional sql calls to the DB.\n\nChange-Id: I545345da6edc6aac9e41a128b24a6383ad29a7a1\n'}, {'number': 2, 'created': '2015-01-28 00:43:29.000000000', 'files': ['src/main/java/monasca/api/infrastructure/persistence/mysql/AlarmDefinitionMySqlRepositoryImpl.java', 'src/main/java/monasca/api/infrastructure/persistence/mysql/AlarmDefinitionMapper.java', 'src/main/java/monasca/api/MonApiModule.java'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/0db707ad1337ac2e7c98a10c4e8563b4e7fca91d', 'message': 'Implemented single MySQL query to read all notifications associated with an AlarmDefinition. Previously thecode was making three additional sql calls to the DB.\n\nChange-Id: I545345da6edc6aac9e41a128b24a6383ad29a7a1\n'}]",4,150637,0db707ad1337ac2e7c98a10c4e8563b4e7fca91d,7,2,2,14375,,,0,"Implemented single MySQL query to read all notifications associated with an AlarmDefinition. Previously thecode was making three additional sql calls to the DB.

Change-Id: I545345da6edc6aac9e41a128b24a6383ad29a7a1
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/37/150637/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/main/java/monasca/api/infrastructure/persistence/mysql/CustomizedAlarmDefinition.java', 'src/main/java/monasca/api/infrastructure/persistence/mysql/AlarmDefinitionMySqlRepositoryImpl.java', 'src/main/java/monasca/api/infrastructure/persistence/mysql/AlarmDefinitionMapper.java', 'src/main/java/monasca/api/MonApiModule.java']",4,1fe585b22a2bd3faee849e0c17634819f523ab3a,904,import monasca.api.app.ApplicationModule; import monasca.api.domain.DomainModule; import monasca.api.infrastructure.InfrastructureModule;,import monasca.api.app.ApplicationModule; import monasca.api.domain.DomainModule; import monasca.api.infrastructure.InfrastructureModule;,395,256
openstack%2Fmonasca-agent~master~I0c50e1d2825dd6324ef8ebd4b3a1bc32e1b2a3d5,openstack/monasca-agent,master,I0c50e1d2825dd6324ef8ebd4b3a1bc32e1b2a3d5,Adding apache web server monitoring for OpenStack,MERGED,2015-01-30 19:52:20.000000000,2015-02-03 19:14:56.000000000,2015-02-03 19:14:55.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 11094}, {'_account_id': 12108}, {'_account_id': 12443}, {'_account_id': 12512}]","[{'number': 1, 'created': '2015-01-30 19:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/15f8c32ca81096cf542bbefcde4ffd92dd3db70c', 'message': 'Adding apache web server monitoring for OpenStack\n\nChange-Id: I0c50e1d2825dd6324ef8ebd4b3a1bc32e1b2a3d5\n'}, {'number': 2, 'created': '2015-02-03 17:08:22.000000000', 'files': ['monasca_agent/common/metrics.py', 'monasca_setup/detection/plugins/apache.py', 'monasca_agent/collector/checks_d/apache.py', 'monasca_setup/main.py', 'README.md'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/42f7c5ac167ddc1b48fc1bfd22196c5619120a38', 'message': 'Adding apache web server monitoring for OpenStack\n\nChange-Id: I0c50e1d2825dd6324ef8ebd4b3a1bc32e1b2a3d5\n'}]",4,151750,42f7c5ac167ddc1b48fc1bfd22196c5619120a38,13,6,2,12108,,,0,"Adding apache web server monitoring for OpenStack

Change-Id: I0c50e1d2825dd6324ef8ebd4b3a1bc32e1b2a3d5
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/50/151750/2 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_agent/common/metrics.py', 'monasca_setup/detection/plugins/apache.py', 'monasca_agent/collector/checks_d/apache.py', 'monasca_setup/main.py', 'README.md']",5,15f8c32ca81096cf542bbefcde4ffd92dd3db70c,monasca/add-apache-monitoring," - [Apache Web Server Checks](#apache-web-server-checks)## Apache Web Server Checks This section describes the Apache Web Server check that can be performed by the Agent. The Apache check gathers metrics on the Apache Web Server. The Apache check requires a configuration file called apache.yaml to be available in the agent conf.d configuration directory. The config file must contain the server url, username and password (If you are using authentication) that you are interested in monitoring. Sample config: ``` init_config: instances: - apache_status_url: http://localhost/server-status?auto rabbitmq_user: root rabbitmq_pass: password ``` If you want the monasca-setup program to detect and auto-configure the plugin for you, you must create the file /root/.apache.cnf with the information needed in the configuration yaml file before running the setup program. It should look something like this: ``` [client] url=http://localhost/server-status?auto user=root password=password ``` The Apache checks return the following metrics: | Metric Name | Dimensions | Semantics | | ----------- | ---------- | --------- | | apache.performance.idle_worker_count | hostname, service=apache component=apache || | apache.performance.busy_worker_count | hostname, service=apache component=apache || | apache.performance.cpu_load_perc | hostname, service=apache component=apache || | apache.performance.uptime_sec | hostname, service=apache component=apache || | apache.net.total_kbytes | hostname, service=apache component=apache || | apache.net.hits | hostname, service=apache component=apache || | apache.net.kbytes_sec | hostname, service=apache component=apache || | apache.net.requests_sec | hostname, service=apache component=apache || ",,236,55
openstack%2Fpuppet-monasca~master~Ib55a64637ede56acfa90d1f4e8428ea41b096380,openstack/puppet-monasca,master,Ib55a64637ede56acfa90d1f4e8428ea41b096380,Makes agent version configurable via param,MERGED,2015-02-03 18:05:55.000000000,2015-02-03 19:02:55.000000000,2015-02-03 19:02:55.000000000,"[{'_account_id': 3}, {'_account_id': 8126}]","[{'number': 1, 'created': '2015-02-03 18:05:55.000000000', 'files': ['manifests/agent.pp'], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/98144723c95f3bf89157800d0a1769d3a3c273f9', 'message': 'Makes agent version configurable via param\n\nChange-Id: Ib55a64637ede56acfa90d1f4e8428ea41b096380\n'}]",0,152639,98144723c95f3bf89157800d0a1769d3a3c273f9,7,2,1,11155,,,0,"Makes agent version configurable via param

Change-Id: Ib55a64637ede56acfa90d1f4e8428ea41b096380
",git fetch https://review.opendev.org/openstack/puppet-monasca refs/changes/39/152639/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/agent.pp'],1,98144723c95f3bf89157800d0a1769d3a3c273f9,agent-update," $agent_version = 'latest', ensure => $agent_version,"," ensure => '1.0.14',",2,1
openstack%2Fglance~master~I7b7e14d7da082ae37a9737d2078017b04c19b87b,openstack/glance,master,I7b7e14d7da082ae37a9737d2078017b04c19b87b,Replace snet config with endpoint config,MERGED,2015-01-26 21:08:26.000000000,2015-02-03 18:59:17.000000000,2015-02-03 18:59:16.000000000,"[{'_account_id': 3}, {'_account_id': 2537}, {'_account_id': 5202}, {'_account_id': 6159}, {'_account_id': 11642}, {'_account_id': 12000}]","[{'number': 1, 'created': '2015-01-26 21:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/de464f67f011fe1be53b45c15d04693197232fa9', 'message': 'Replace snet config with endpoint config\n\nThe snet option forces the deployer to name the desired endpoint after\nthe public endpoint. In order to switch between multiple internal\nnetworks, names have to be changed. Instead of constructing a URL with a\nprefix from what is returned by auth, specify the URL via configuration.\n\nDocImpact\n\nbp replace-snet-config-with-endpoint-config\n\nChange-Id: I7b7e14d7da082ae37a9737d2078017b04c19b87b\n'}, {'number': 2, 'created': '2015-02-02 18:09:04.000000000', 'files': ['etc/glance-api.conf', 'doc/source/configuring.rst', 'etc/glance-cache.conf'], 'web_link': 'https://opendev.org/openstack/glance/commit/41a9a065531ec946b4a9baf999f97d10fa493826', 'message': 'Replace snet config with endpoint config\n\nThe snet option forces the deployer to name the desired endpoint after\nthe public endpoint. In order to switch between multiple internal\nnetworks, names have to be changed. Instead of constructing a URL with a\nprefix from what is returned by auth, specify the URL via configuration.\n\nDocImpact\nUpgradeImpact\n\nbp replace-snet-config-with-endpoint-config\n\nChange-Id: I7b7e14d7da082ae37a9737d2078017b04c19b87b\n'}]",1,150144,41a9a065531ec946b4a9baf999f97d10fa493826,18,6,2,11642,,,0,"Replace snet config with endpoint config

The snet option forces the deployer to name the desired endpoint after
the public endpoint. In order to switch between multiple internal
networks, names have to be changed. Instead of constructing a URL with a
prefix from what is returned by auth, specify the URL via configuration.

DocImpact
UpgradeImpact

bp replace-snet-config-with-endpoint-config

Change-Id: I7b7e14d7da082ae37a9737d2078017b04c19b87b
",git fetch https://review.opendev.org/openstack/glance refs/changes/44/150144/2 && git format-patch -1 --stdout FETCH_HEAD,"['etc/glance-api.conf', 'etc/glance-cache.conf']",2,de464f67f011fe1be53b45c15d04693197232fa9,bp/replace-snet-config-with-endpoint-config,"# If set, the configured endpoint will be used. If None, the storage URL # from the auth response will be used. The location of an object is # obtained by appending the container and object to the configured URL.# swift_store_endpoint = https://www.example.com/v1/not_a_container swift_store_endpoint = None","# Whether to use ServiceNET to communicate with the Swift storage servers. # (If you aren't RACKSPACE, leave this False!)# To use ServiceNET for authentication, prefix hostname of # `swift_store_auth_address` with 'snet-'. # Ex. https://example.com/v1.0/ -> https://snet-example.com/v1.0/ swift_enable_snet = False",10,12
openstack%2Fcinder~stable%2Fjuno~I8a370cfdf96801442ee355b12e892066982ce5f9,openstack/cinder,stable/juno,I8a370cfdf96801442ee355b12e892066982ce5f9,Updated from global requirements,MERGED,2015-02-03 03:47:31.000000000,2015-02-03 18:59:13.000000000,2015-02-03 11:05:21.000000000,"[{'_account_id': 3}, {'_account_id': 1955}, {'_account_id': 7198}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 12202}, {'_account_id': 12370}, {'_account_id': 12493}, {'_account_id': 13628}, {'_account_id': 14242}]","[{'number': 1, 'created': '2015-02-03 03:47:31.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/532b82059fe16678da7f7ed10d2f862ff1d2e9ea', 'message': 'Updated from global requirements\n\nChange-Id: I8a370cfdf96801442ee355b12e892066982ce5f9\n'}]",0,152380,532b82059fe16678da7f7ed10d2f862ff1d2e9ea,15,10,1,11131,,,0,"Updated from global requirements

Change-Id: I8a370cfdf96801442ee355b12e892066982ce5f9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/80/152380/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,532b82059fe16678da7f7ed10d2f862ff1d2e9ea,openstack/requirements,"taskflow>=0.4,<0.7.0",taskflow>=0.4,1,1
openstack%2Fhorizon~master~Idd831318d1d51e4191f863bae9e4e7af6fe08d68,openstack/horizon,master,Idd831318d1d51e4191f863bae9e4e7af6fe08d68,fix bug - failed loading external angular templates,MERGED,2015-02-02 22:34:31.000000000,2015-02-03 18:59:07.000000000,2015-02-03 18:59:05.000000000,"[{'_account_id': 3}, {'_account_id': 5623}, {'_account_id': 7665}, {'_account_id': 8871}, {'_account_id': 9382}, {'_account_id': 9576}, {'_account_id': 11098}, {'_account_id': 12071}]","[{'number': 1, 'created': '2015-02-02 22:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/08afdaa4684419bf83b5db665accaf34aaf2775f', 'message': 'fix bug - failed loading external angular templates\n\nThe approach of loading external angular templates was added when\njasmine testing was temporarly disabled for upgrading Jasmine from\n1.3.x to 2.1.x. This bug was exposed when jasmine test getting\nre-enabled after the upgraing.\n\nChange-Id: Idd831318d1d51e4191f863bae9e4e7af6fe08d68\n'}, {'number': 2, 'created': '2015-02-02 22:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/529784e3ef9d11f13d24960aa85d2114cfcf3534', 'message': 'fix bug - failed loading external angular templates\n\nThe approach of loading external angular templates was added when\njasmine testing was temporarily disabled for upgrading Jasmine from\n1.3.x to 2.1.x. This bug was exposed when jasmine test getting\nre-enabled after the upgrading.\n\nChange-Id: Idd831318d1d51e4191f863bae9e4e7af6fe08d68\n'}, {'number': 3, 'created': '2015-02-03 06:46:26.000000000', 'files': ['horizon/templates/horizon/jasmine/jasmine.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/0b6ee8a99bdbb1506afcc6d21ef2e7d2094696bc', 'message': 'fix bug - failed loading external angular templates\n\nThe approach of loading external angular templates was added when\njasmine testing was temporarily disabled for upgrading Jasmine from\n1.3.x to 2.1.x. This bug was exposed when jasmine test getting\nre-enabled after the upgrading.\n\nChange-Id: Idd831318d1d51e4191f863bae9e4e7af6fe08d68\n'}]",0,152314,0b6ee8a99bdbb1506afcc6d21ef2e7d2094696bc,19,8,3,13805,,,0,"fix bug - failed loading external angular templates

The approach of loading external angular templates was added when
jasmine testing was temporarily disabled for upgrading Jasmine from
1.3.x to 2.1.x. This bug was exposed when jasmine test getting
re-enabled after the upgrading.

Change-Id: Idd831318d1d51e4191f863bae9e4e7af6fe08d68
",git fetch https://review.opendev.org/openstack/horizon refs/changes/14/152314/1 && git format-patch -1 --stdout FETCH_HEAD,['horizon/templates/horizon/jasmine/jasmine.html'],1,08afdaa4684419bf83b5db665accaf34aaf2775f,bp/initial-reusable-angular-wizard," '{{ STATIC_URL }}{{ externalTemplate }}',"," {{ STATIC_URL }}{{ externalTemplate }} + "",""",1,1
openstack%2Fpython-swiftclient~master~I3250bdeeef8484a9122c4b5b854756a7c8f8731e,openstack/python-swiftclient,master,I3250bdeeef8484a9122c4b5b854756a7c8f8731e,This patch fixes downloading files to stdout.,MERGED,2015-01-04 21:16:03.000000000,2015-02-03 18:55:49.000000000,2015-02-03 18:55:47.000000000,"[{'_account_id': 3}, {'_account_id': 1179}, {'_account_id': 6968}, {'_account_id': 7847}, {'_account_id': 9216}, {'_account_id': 12193}, {'_account_id': 13470}]","[{'number': 1, 'created': '2015-01-04 21:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/db1d449da65d800970eea185f13737103217ce72', 'message': 'This patch fixes downloading files to stdout, allows _SwiftReader to\noperate as an iterator as well as a context manager.\n\nChange-Id: I3250bdeeef8484a9122c4b5b854756a7c8f8731e\nCloses-Bug: 1395922\n'}, {'number': 2, 'created': '2015-01-04 21:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/611d40625d84fa9c12fc752f9660babc7e043747', 'message': 'This patch fixes downloading files to stdout, allows\n_SwiftReader to operate as an iterator as well as a\ncontext manager.\n\nChange-Id: I3250bdeeef8484a9122c4b5b854756a7c8f8731e\nCloses-Bug: 1395922\n'}, {'number': 3, 'created': '2015-01-05 13:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/bfb30703234093f196f64a9b9f4b7320e1199302', 'message': 'This patch fixes downloading files to stdout, allows\n_SwiftReader to operate as an iterator as well as a\ncontext manager.\n\nChange-Id: I3250bdeeef8484a9122c4b5b854756a7c8f8731e\nCloses-Bug: 1395922\n'}, {'number': 4, 'created': '2015-01-05 14:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/3e42d407895240ac635a125c38ebddff25ffb777', 'message': 'This patch fixes downloading files to stdout, allows\n_SwiftReader to operate as an iterator as well as a\ncontext manager.\n\nChange-Id: I3250bdeeef8484a9122c4b5b854756a7c8f8731e\nCloses-Bug: 1395922\n'}, {'number': 5, 'created': '2015-01-05 14:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/806bdcaa521a7f1b793038f7d8822ded5920afb6', 'message': 'This patch fixes downloading files to stdout, allows\n_SwiftReader to operate as an iterator as well as a\ncontext manager.\n\nChange-Id: I3250bdeeef8484a9122c4b5b854756a7c8f8731e\nCloses-Bug: 1395922\nCloses-Bug: 1387376\n'}, {'number': 6, 'created': '2015-01-06 00:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/b0fd57bf8889ba012101a3f9411d524b80bdcfb2', 'message': 'This patch fixes downloading files to stdout, allows\n_SwiftReader to operate as an iterator as well as a\ncontext manager.\n\nChange-Id: I3250bdeeef8484a9122c4b5b854756a7c8f8731e\nCloses-Bug: 1395922\nCloses-Bug: 1387376\n'}, {'number': 7, 'created': '2015-01-12 18:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/22e29cfd450d82535494cf401e2a925ab0e4ef14', 'message': 'This patch fixes downloading files to stdout, allows\n_SwiftReader to operate as an iterator as well as a\ncontext manager.\n\nChange-Id: I3250bdeeef8484a9122c4b5b854756a7c8f8731e\nCloses-Bug: 1395922\nCloses-Bug: 1387376\n'}, {'number': 8, 'created': '2015-01-12 19:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/7c05fc3be6c478878576fff908c02a76271830ad', 'message': 'This patch fixes downloading files to stdout, allows\n_SwiftReader to operate as an iterator as well as a\ncontext manager.\n\nChange-Id: I3250bdeeef8484a9122c4b5b854756a7c8f8731e\nCloses-Bug: 1395922\nCloses-Bug: 1387376\n'}, {'number': 9, 'created': '2015-01-19 19:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/63fee89c22f85bc25171b14d23fe9552d95159be', 'message': 'This patch fixes downloading files to stdout.\n\nThis patch fixes downloading files to stdout and modifies\n_SwiftReader to operate as an iterator that performs file\nchecks at the end of iteration as well as a context manager.\nFile verification checks have been removed from __exit__\nand added to __iter__.\n\nChange-Id: I3250bdeeef8484a9122c4b5b854756a7c8f8731e\nCloses-Bug: 1395922\nCloses-Bug: 1387376\n'}, {'number': 10, 'created': '2015-01-23 11:46:46.000000000', 'files': ['swiftclient/shell.py', 'tests/unit/test_multithreading.py', 'tests/unit/test_service.py', 'tests/unit/test_shell.py', 'swiftclient/multithreading.py', 'swiftclient/service.py', 'tests/unit/utils.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/bd42c2b00d0e4a18d15fd494bd9b9101742c4a37', 'message': 'This patch fixes downloading files to stdout.\n\nThis patch fixes downloading files to stdout and modifies\n_SwiftReader to operate as an iterator that performs file\nchecks at the end of iteration as well as a context manager.\nFile verification checks have been removed from __exit__\nand added to __iter__.\n\nChange-Id: I3250bdeeef8484a9122c4b5b854756a7c8f8731e\nCloses-Bug: 1395922\nCloses-Bug: 1387376\n'}]",9,144899,bd42c2b00d0e4a18d15fd494bd9b9101742c4a37,47,7,10,9216,,,0,"This patch fixes downloading files to stdout.

This patch fixes downloading files to stdout and modifies
_SwiftReader to operate as an iterator that performs file
checks at the end of iteration as well as a context manager.
File verification checks have been removed from __exit__
and added to __iter__.

Change-Id: I3250bdeeef8484a9122c4b5b854756a7c8f8731e
Closes-Bug: 1395922
Closes-Bug: 1387376
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/99/144899/4 && git format-patch -1 --stdout FETCH_HEAD,"['swiftclient/shell.py', 'swiftclient/multithreading.py', 'swiftclient/service.py']",3,db1d449da65d800970eea185f13737103217ce72,bug/1395922," def __iter__(self): for chunk in self.buffer(): yield chunk self._check_contents() self._check_contents() def _check_contents(self): no_file = options['no_download'] if out_file == ""-"" and not no_file: res = { 'action': 'download_object', 'container': container, 'object': obj, 'path': path, 'pseudodir': pseudodir, 'contents': reader } return res start_time = time() if options['out_file']:"," start_time = time() no_file = options['no_download'] if out_file == ""-"": res = { 'path': path, 'contents': obj_body } return res if options['out_file'] \ and not options['out_file'] == ""-"":",37,13
openstack%2Fkeystone~master~Ife13b4851e23088803c51d88209b371329814066,openstack/keystone,master,Ife13b4851e23088803c51d88209b371329814066,Explicit Unscoped,MERGED,2014-12-17 17:50:57.000000000,2015-02-03 18:55:38.000000000,2015-02-03 18:55:37.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 792}, {'_account_id': 1916}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 5707}, {'_account_id': 6482}, {'_account_id': 7191}, {'_account_id': 7725}, {'_account_id': 8871}, {'_account_id': 9098}, {'_account_id': 9101}, {'_account_id': 9142}, {'_account_id': 9751}, {'_account_id': 11022}]","[{'number': 1, 'created': '2014-12-17 17:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a7c1f669d86592e1cafe44e541736a2d401abe4f', 'message': 'Explicit Unscoped\n\nAllow a user to explicitly request an unscoped token\n\nAdjoining unit tests show that the same request without the\nunscoped keyword fetch a project scoped token.\n\nbp: explicit-unscoped\n\nChange-Id: Ife13b4851e23088803c51d88209b371329814066\n'}, {'number': 2, 'created': '2014-12-22 20:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e769a0a6360732a2b2d2347ae71c86f314bf12b6', 'message': 'Explicit Unscoped\n\nAllow a user to explicitly request an unscoped token\n\nAdjoining unit tests show that the same request without the\nunscoped keyword fetch a project scoped token.\n\nbp: explicit-unscoped\n\nChange-Id: Ife13b4851e23088803c51d88209b371329814066\n'}, {'number': 3, 'created': '2015-01-05 17:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/bdec4a805db9c968bdcf7dd73d2550e22f3a81ed', 'message': 'Explicit Unscoped\n\nAllow a user to explicitly request an unscoped token\n\nAdjoining unit tests show that the same request without the\nunscoped keyword fetch a project scoped token.\n\nbp: explicit-unscoped\n\nChange-Id: Ife13b4851e23088803c51d88209b371329814066\n'}, {'number': 4, 'created': '2015-01-08 17:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2c344d677dffa55c622858bacfda75a278ee5eb1', 'message': 'Explicit Unscoped\n\nAllow a user to explicitly request an unscoped token\n\nAdjoining unit tests show that the same request without the\nunscoped keyword fetch a project scoped token.\n\nbp: explicit-unscoped\n\nChange-Id: Ife13b4851e23088803c51d88209b371329814066\n'}, {'number': 5, 'created': '2015-01-16 02:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d486f98cbbb00380998b3d9e4123ce73c5680e07', 'message': 'Explicit Unscoped\n\nAllow a user to explicitly request an unscoped token\n\nAdjoining unit tests show that the same request without the\nunscoped keyword fetch a project scoped token.\n\nbp: explicit-unscoped\n\nChange-Id: Ife13b4851e23088803c51d88209b371329814066\n'}, {'number': 6, 'created': '2015-01-16 19:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8bf2a55cc013bebd39bb4832bce593d03ffd4778', 'message': 'Explicit Unscoped\n\nAllow a user to explicitly request an unscoped token\n\nAdjoining unit tests show that the same request without the\nunscoped keyword fetch a project scoped token.\n\nbp: explicit-unscoped\n\nChange-Id: Ife13b4851e23088803c51d88209b371329814066\n'}, {'number': 7, 'created': '2015-01-16 20:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/876d209f46979ec137090dfd3106a4f19a921a36', 'message': 'Explicit Unscoped\n\nAllow a user to explicitly request an unscoped token\n\nAdjoining unit tests show that the same request without the\nunscoped keyword fetch a project scoped token.\n\nbp: explicit-unscoped\n\nChange-Id: Ife13b4851e23088803c51d88209b371329814066\n'}, {'number': 8, 'created': '2015-01-20 22:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d835a2e7ff1d744d237466ea23bb8d7285f1b49c', 'message': 'Explicit Unscoped\n\nAllow a user to explicitly request an unscoped token\n\nAdjoining unit tests show that the same request without the\nunscoped keyword fetch a project scoped token.\n\nbp: explicit-unscoped\n\nChange-Id: Ife13b4851e23088803c51d88209b371329814066\n'}, {'number': 9, 'created': '2015-01-22 20:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/343db74b661cebd0873d7ac71a5e2fdeb287c1fc', 'message': 'Explicit Unscoped\n\nAllow a user to explicitly request an unscoped token\n\nAdjoining unit tests show that the same request without the\nunscoped keyword fetch a project scoped token.\n\nbp: explicit-unscoped\n\nChange-Id: Ife13b4851e23088803c51d88209b371329814066\n'}, {'number': 10, 'created': '2015-01-22 20:31:10.000000000', 'files': ['keystone/auth/controllers.py', 'keystone/tests/test_v3_auth.py', 'keystone/tests/test_v3.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e8ac71f0360b88772044ac2638d161aa00ec5b55', 'message': 'Explicit Unscoped\n\nAllow a user to explicitly request an unscoped token\n\nAdjoining unit tests show that the same request without the\nunscoped keyword fetch a project scoped token.\n\nbp: explicit-unscoped\n\nChange-Id: Ife13b4851e23088803c51d88209b371329814066\n'}]",7,142521,e8ac71f0360b88772044ac2638d161aa00ec5b55,42,17,10,2218,,,0,"Explicit Unscoped

Allow a user to explicitly request an unscoped token

Adjoining unit tests show that the same request without the
unscoped keyword fetch a project scoped token.

bp: explicit-unscoped

Change-Id: Ife13b4851e23088803c51d88209b371329814066
",git fetch https://review.opendev.org/openstack/keystone refs/changes/21/142521/10 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/auth/controllers.py', 'keystone/tests/test_v3_auth.py', 'keystone/tests/test_v3.py']",3,a7c1f669d86592e1cafe44e541736a2d401abe4f,bp/rescoping," domain_id=None, domain_name=None, trust_id=None, unscoped=None): if unscoped: scope_data['unscoped'] = {}"," domain_id=None, domain_name=None, trust_id=None):",48,36
openstack%2Ftraining-guides~master~I372e6551029fdc879f308659ca28bb114b07e3db,openstack/training-guides,master,I372e6551029fdc879f308659ca28bb114b07e3db,Displays time taken to run osbash,MERGED,2015-02-02 21:03:35.000000000,2015-02-03 18:51:44.000000000,2015-02-03 18:51:44.000000000,"[{'_account_id': 3}, {'_account_id': 7007}, {'_account_id': 11109}]","[{'number': 1, 'created': '2015-02-02 21:03:35.000000000', 'files': ['labs/osbash.sh'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/c3dbdbdf97d8482bdca7e1eea64749043020ed6e', 'message': 'Displays time taken to run osbash\n\nThis displays the total time required to\nrun osbash in seconds.\n\nChange-Id: I372e6551029fdc879f308659ca28bb114b07e3db\n'}]",0,152274,c3dbdbdf97d8482bdca7e1eea64749043020ed6e,8,3,1,9178,,,0,"Displays time taken to run osbash

This displays the total time required to
run osbash in seconds.

Change-Id: I372e6551029fdc879f308659ca28bb114b07e3db
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/74/152274/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/osbash.sh'],1,c3dbdbdf97d8482bdca7e1eea64749043020ed6e,time,"STARTTIME=$(date +%s)ENDTIME=$(date +%s)echo ""osbash completed in $(($ENDTIME - $STARTTIME)) seconds.""",,3,0
openstack%2Fnova~master~I0c09223807ba85182d7b7c7b8cc35d8ac8cd3088,openstack/nova,master,I0c09223807ba85182d7b7c7b8cc35d8ac8cd3088,libvirt: always pass image_meta when getting guest XML,MERGED,2014-12-19 11:48:49.000000000,2015-02-03 18:40:51.000000000,2015-02-03 17:51:55.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 8802}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-12-19 11:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ac5d3d28f16b4967149ca018d5a812087ca6169', 'message': ""libvirt: always pass image_meta when getting guest XML\n\nMake the _get_guest_xml method's image_meta parameter\ncompulsory\n\nRelated-bug: #1404196\nChange-Id: I0c09223807ba85182d7b7c7b8cc35d8ac8cd3088\n""}, {'number': 2, 'created': '2014-12-19 13:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e8e75b2578991b032c18008f2197efa7d60ba22', 'message': ""libvirt: always pass image_meta when getting guest XML\n\nMake the _get_guest_xml method's image_meta parameter\ncompulsory\n\nRelated-bug: #1404196\nChange-Id: I0c09223807ba85182d7b7c7b8cc35d8ac8cd3088\n""}, {'number': 3, 'created': '2015-01-12 18:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd609dbbf0935bdfa332b1d0af61a6da74c8ad46', 'message': ""libvirt: always pass image_meta when getting guest XML\n\nMake the _get_guest_xml method's image_meta parameter\ncompulsory\n\nCloses-bug: #1404196\nChange-Id: I0c09223807ba85182d7b7c7b8cc35d8ac8cd3088\n""}, {'number': 4, 'created': '2015-01-19 16:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f2a3708ba930ab7a7ffd9de14f64adeae7acd74', 'message': ""libvirt: always pass image_meta when getting guest XML\n\nMake the _get_guest_xml method's image_meta parameter\ncompulsory\n\nCloses-bug: #1404196\nChange-Id: I0c09223807ba85182d7b7c7b8cc35d8ac8cd3088\n""}, {'number': 5, 'created': '2015-01-19 18:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/073026dd0ac94e2adcd0a2de36f83212e58a900b', 'message': ""libvirt: always pass image_meta when getting guest XML\n\nMake the _get_guest_xml method's image_meta parameter\ncompulsory\n\nCloses-bug: #1404196\nChange-Id: I0c09223807ba85182d7b7c7b8cc35d8ac8cd3088\n""}, {'number': 6, 'created': '2015-01-22 11:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/420650146176432d56aadc49484d8f8495d2eb14', 'message': ""libvirt: always pass image_meta when getting guest XML\n\nMake the _get_guest_xml method's image_meta parameter\ncompulsory\n\nCloses-bug: #1404196\nChange-Id: I0c09223807ba85182d7b7c7b8cc35d8ac8cd3088\n""}, {'number': 7, 'created': '2015-01-26 12:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f33221d249e321e98bc0269314797f38a0380f80', 'message': ""libvirt: always pass image_meta when getting guest XML\n\nMake the _get_guest_xml method's image_meta parameter\ncompulsory\n\nCloses-bug: #1404196\nChange-Id: I0c09223807ba85182d7b7c7b8cc35d8ac8cd3088\n""}, {'number': 8, 'created': '2015-01-26 13:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fcbb2ea923805b11c14c132719dfebb3b4415477', 'message': ""libvirt: always pass image_meta when getting guest XML\n\nMake the _get_guest_xml method's image_meta parameter\ncompulsory\n\nCloses-bug: #1404196\nChange-Id: I0c09223807ba85182d7b7c7b8cc35d8ac8cd3088\n""}, {'number': 9, 'created': '2015-01-26 16:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4048421b4ee2abf5c9bef4cdd21e99997bb8514', 'message': ""libvirt: always pass image_meta when getting guest XML\n\nMake the _get_guest_xml method's image_meta parameter\ncompulsory\n\nCloses-bug: #1404196\nChange-Id: I0c09223807ba85182d7b7c7b8cc35d8ac8cd3088\n""}, {'number': 10, 'created': '2015-01-27 12:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ed64d328f1635f5fa8bc5f2777a2f81e5585844', 'message': ""libvirt: always pass image_meta when getting guest XML\n\nMake the _get_guest_xml method's image_meta parameter\ncompulsory\n\nCloses-bug: #1404196\nChange-Id: I0c09223807ba85182d7b7c7b8cc35d8ac8cd3088\n""}, {'number': 11, 'created': '2015-01-29 10:50:59.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e596924523f5213a8097e04283192bdb2209a75d', 'message': ""libvirt: always pass image_meta when getting guest XML\n\nMake the _get_guest_xml method's image_meta parameter\ncompulsory\n\nCloses-bug: #1404196\nChange-Id: I0c09223807ba85182d7b7c7b8cc35d8ac8cd3088\n""}]",0,143056,e596924523f5213a8097e04283192bdb2209a75d,87,15,11,1779,,,0,"libvirt: always pass image_meta when getting guest XML

Make the _get_guest_xml method's image_meta parameter
compulsory

Closes-bug: #1404196
Change-Id: I0c09223807ba85182d7b7c7b8cc35d8ac8cd3088
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/143056/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,3ac5d3d28f16b4967149ca018d5a812087ca6169,virtimageprops-5," network_info, disk_info, image_meta) network_info, disk_info, image_meta) network_info, disk_info, image_meta) image_meta, image_meta, image_meta, block_device_info=None):"," network_info, disk_info) network_info, disk_info) network_info, disk_info) image_meta=image_meta, block_device_info=None):",15,12
openstack%2Fopenstacksdk~master~I475aa0fbbcb54905aa19dea3ccb894d6fb68e657,openstack/openstacksdk,master,I475aa0fbbcb54905aa19dea3ccb894d6fb68e657,Rename floatingip to floating_ip,MERGED,2015-02-02 17:08:11.000000000,2015-02-03 18:33:24.000000000,2015-02-03 18:33:23.000000000,"[{'_account_id': 3}, {'_account_id': 8257}]","[{'number': 1, 'created': '2015-02-02 17:08:11.000000000', 'files': ['openstack/tests/network/v2/test_proxy.py', 'openstack/network/v2/floating_ip.py', 'openstack/tests/network/v2/test_floating_ip.py', 'openstack/network/v2/_proxy.py', 'openstack/network/v2/thin.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5a64115c85cba58c9e883064f05ea2b4aa0a3e3c', 'message': 'Rename floatingip to floating_ip\n\nChange-Id: I475aa0fbbcb54905aa19dea3ccb894d6fb68e657\n'}]",0,152189,5a64115c85cba58c9e883064f05ea2b4aa0a3e3c,7,2,1,8736,,,0,"Rename floatingip to floating_ip

Change-Id: I475aa0fbbcb54905aa19dea3ccb894d6fb68e657
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/89/152189/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/network/v2/test_proxy.py', 'openstack/network/v2/floating_ip.py', 'openstack/tests/network/v2/test_floating_ip.py', 'openstack/network/v2/_proxy.py', 'openstack/network/v2/thin.py']",5,5a64115c85cba58c9e883064f05ea2b4aa0a3e3c,,from openstack.network.v2 import floating_ip create_ip = floating_ip.FloatingIP.create_by_id delete_ip = floating_ip.FloatingIP.delete_by_id find_ip = floating_ip.FloatingIP.find get_ip = floating_ip.FloatingIP.get_data_by_id list_ips = floating_ip.FloatingIP.list update_ip = floating_ip.FloatingIP.update_by_id,from openstack.network.v2 import floatingip create_ip = floatingip.FloatingIP.create_by_id delete_ip = floatingip.FloatingIP.delete_by_id find_ip = floatingip.FloatingIP.find get_ip = floatingip.FloatingIP.get_data_by_id list_ips = floatingip.FloatingIP.list update_ip = floatingip.FloatingIP.update_by_id,42,39
openstack%2Fcinder~master~I1a00d8922cc876a943fb7822cd86c580d8e6beac,openstack/cinder,master,I1a00d8922cc876a943fb7822cd86c580d8e6beac,Roll back if VMAX masking view not created,MERGED,2014-11-18 04:57:26.000000000,2015-02-03 18:31:02.000000000,2015-02-03 18:31:00.000000000,"[{'_account_id': 3}, {'_account_id': 5538}, {'_account_id': 5997}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 13527}, {'_account_id': 13628}, {'_account_id': 13900}, {'_account_id': 14206}, {'_account_id': 14242}]","[{'number': 1, 'created': '2014-11-18 04:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d2f3d06959ebb23e323d9a17c90aa581cad9545', 'message': 'Raise exception if VMAX masking view not created\n\nIn emc_vmax_masking.py, an exception object is created if\nthere is a failure in the masking view creation logic.\nHowever, the exception is not raised. As a result,\ninitialize_connection will succeed in spite of a failure\nbut the VM will not be able to access the disk.\n\nThis patch adds the missing ""raise"".\n\nChange-Id: I1a00d8922cc876a943fb7822cd86c580d8e6beac\nCloses-Bug: #1393540\n'}, {'number': 2, 'created': '2014-12-13 23:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ab15cf1147d20cc7ca3eeef1ac6c5eaa2b59714', 'message': 'Roll back if VMAX masking view not created\n\nIn emc_vmax_masking.py, an exception object is created if\nthere is a failure in the masking view creation logic.\nHowever, the exception is not raised. As a result,\ninitialize_connection will succeed in spite of a failure\nbut the VM will not be able to access the disk.\n\nThis patch adds rollback logic to handle failures in\ncreating masking view. If the masking view cannot be\ncreated, the volume will be added back to the default\nstorage group and an exception will be raised.\n\nCloses-Bug: #1393540\nChange-Id: I1a00d8922cc876a943fb7822cd86c580d8e6beac\n'}, {'number': 3, 'created': '2014-12-17 06:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/09f42d93b52c4b0b2c49a63a60eb5ee49544932e', 'message': 'Roll back if VMAX masking view not created\n\nIn emc_vmax_masking.py, an exception object is created if\nthere is a failure in the masking view creation logic.\nHowever, the exception is not raised. As a result,\ninitialize_connection will succeed in spite of a failure\nbut the VM will not be able to access the disk.\nThis patch adds rollback logic to handle failures in\ncreating masking view. If the masking view cannot be\ncreated, the volume will be added back to the default\nstorage group and an exception will be raised.\n\nCloses-Bug: #1393540\nChange-Id: I1a00d8922cc876a943fb7822cd86c580d8e6beac\n'}, {'number': 4, 'created': '2014-12-17 23:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/db5bcf005df1687009bd8e6dcf2a61a616b87af3', 'message': 'Roll back if VMAX masking view not created\n\nIn emc_vmax_masking.py, an exception object is created if\nthere is a failure in the masking view creation logic.\nHowever, the exception is not raised. As a result,\ninitialize_connection will succeed in spite of a failure\nbut the VM will not be able to access the disk.\nThis patch adds rollback logic to handle failures in\ncreating masking view. If the masking view cannot be\ncreated, the volume will be added back to the default\nstorage group and an exception will be raised.\n\nCloses-Bug: #1393540\nChange-Id: I1a00d8922cc876a943fb7822cd86c580d8e6beac\n'}, {'number': 5, 'created': '2014-12-22 05:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0eff51fc2502ba3b77013a035dbe0fd1c501190b', 'message': 'Roll back if VMAX masking view not created\n\nIn emc_vmax_masking.py, an exception object is created if\nthere is a failure in the masking view creation logic.\nHowever, the exception is not raised. As a result,\ninitialize_connection will succeed in spite of a failure\nbut the VM will not be able to access the disk.\nThis patch adds rollback logic to handle failures in\ncreating masking view. If the masking view cannot be\ncreated, the volume will be added back to the default\nstorage group and an exception will be raised.\n\nCloses-Bug: #1393540\nChange-Id: I1a00d8922cc876a943fb7822cd86c580d8e6beac\n'}, {'number': 6, 'created': '2014-12-22 05:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/909c0dce7ab2c3746a2fa865f4ce353ae84d4445', 'message': 'Roll back if VMAX masking view is not created\n\nIn emc_vmax_masking.py, an exception object is created if\nthere is a failure in the masking view creation logic.\nHowever, the exception is not raised. As a result,\ninitialize_connection will succeed in spite of a failure\nbut the VM will not be able to access the disk.\nThis patch adds rollback logic to handle failures in\ncreating masking view. If the masking view cannot be\ncreated, the volume will be added back to the default\nstorage group and an exception will be raised.\n\nCloses-Bug: #1393540\nChange-Id: I1a00d8922cc876a943fb7822cd86c580d8e6beac\n'}, {'number': 7, 'created': '2014-12-22 06:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/79c16af27765a8f77f238a6b32b465de178e37d5', 'message': 'Roll back if VMAX masking view is not created\n\nIn emc_vmax_masking.py, an exception object is created if\nthere is a failure in the masking view creation logic.\nHowever, the exception is not raised. As a result,\ninitialize_connection will succeed in spite of a failure\nbut the VM will not be able to access the disk.\nThis patch adds rollback logic to handle failures in\ncreating masking view. If the masking view cannot be\ncreated, the volume will be added back to the default\nstorage group and an exception will be raised.\n\nCloses-Bug: #1393540\nChange-Id: I1a00d8922cc876a943fb7822cd86c580d8e6beac\n'}, {'number': 8, 'created': '2014-12-22 07:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d182136aaa8b65da5598596e5b9e28113afcb0bc', 'message': 'Roll back if VMAX masking view not created\n\nIn emc_vmax_masking.py, an exception object is created if\nthere is a failure in the masking view creation logic.\nHowever, the exception is not raised. As a result,\ninitialize_connection will succeed in spite of a failure\nbut the VM will not be able to access the disk.\nThis patch adds rollback logic to handle failures in\ncreating masking view. If the masking view cannot be\ncreated, the volume will be added back to the default\nstorage group and an exception will be raised.\n\nCloses-Bug: #1393540\nChange-Id: I1a00d8922cc876a943fb7822cd86c580d8e6beac\n'}, {'number': 9, 'created': '2014-12-22 07:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a8089d02a776b77b664c0b916f4ea2accff52d01', 'message': 'Roll back if VMAX masking view not created\n\nIn emc_vmax_masking.py, an exception object is created if\nthere is a failure in the masking view creation logic.\nHowever, the exception is not raised. As a result,\ninitialize_connection will succeed in spite of a failure\nbut the VM will not be able to access the disk.\nThis patch adds rollback logic to handle failures in\ncreating masking view. If the masking view cannot be\ncreated, the volume will be added back to the default\nstorage group and an exception will be raised.\n\nCloses-Bug: #1393540\nChange-Id: I1a00d8922cc876a943fb7822cd86c580d8e6beac\n'}, {'number': 10, 'created': '2014-12-22 19:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/617a742276018933f62d2798d4dc7083570ec2ba', 'message': 'Roll back if VMAX masking view not created\n\nIn emc_vmax_masking.py, an exception object is created if\nthere is a failure in the masking view creation logic.\nHowever, the exception is not raised. As a result,\ninitialize_connection will succeed in spite of a failure\nbut the VM will not be able to access the disk.\nThis patch adds rollback logic to handle failures in\ncreating masking view. If the masking view cannot be\ncreated, the volume will be added back to the default\nstorage group and an exception will be raised.\n\nCloses-Bug: #1393540\nChange-Id: I1a00d8922cc876a943fb7822cd86c580d8e6beac\n'}, {'number': 11, 'created': '2014-12-26 02:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6e40d3f3f2226440b2c43843c46c1c4a619b945d', 'message': 'Roll back if VMAX masking view not created\n\nIn emc_vmax_masking.py, an exception object is created if\nthere is a failure in the masking view creation logic.\nHowever, the exception is not raised. As a result,\ninitialize_connection will succeed in spite of a failure\nbut the VM will not be able to access the disk.\nThis patch adds rollback logic to handle failures in\ncreating masking view. If the masking view cannot be\ncreated, the volume will be added back to the default\nstorage group and an exception will be raised.\n\nCloses-Bug: #1393540\nChange-Id: I1a00d8922cc876a943fb7822cd86c580d8e6beac\n'}, {'number': 12, 'created': '2015-01-19 18:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4c19bf8c0fb514226f6da4f65c760588c4bb8a25', 'message': 'Roll back if VMAX masking view not created\n\nIn emc_vmax_masking.py, an exception object is created if\nthere is a failure in the masking view creation logic.\nHowever, the exception is not raised. As a result,\ninitialize_connection will succeed in spite of a failure\nbut the VM will not be able to access the disk.\nThis patch adds rollback logic to handle failures in\ncreating masking view. If the masking view cannot be\ncreated, the volume will be added back to the default\nstorage group and an exception will be raised.\n\nCloses-Bug: #1393540\nChange-Id: I1a00d8922cc876a943fb7822cd86c580d8e6beac\n'}, {'number': 13, 'created': '2015-01-19 21:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b0eb0c9a68cc9f153f7d3aeb1301aefe1b911567', 'message': 'Roll back if VMAX masking view not created\n\nIn emc_vmax_masking.py, an exception object is created if\nthere is a failure in the masking view creation logic.\nHowever, the exception is not raised. As a result,\ninitialize_connection will succeed in spite of a failure\nbut the VM will not be able to access the disk.\nThis patch adds rollback logic to handle failures in\ncreating masking view. If the masking view cannot be\ncreated, the volume will be added back to the default\nstorage group and an exception will be raised.\n\nCloses-Bug: #1393540\nChange-Id: I1a00d8922cc876a943fb7822cd86c580d8e6beac\n'}, {'number': 14, 'created': '2015-01-21 16:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/620ded8b847dd6ac455ed3553e7b07b16f0c1377', 'message': 'Roll back if VMAX masking view not created\n\nIn emc_vmax_masking.py, an exception object is created if\nthere is a failure in the masking view creation logic.\nHowever, the exception is not raised. As a result,\ninitialize_connection will succeed in spite of a failure\nbut the VM will not be able to access the disk.\nThis patch adds rollback logic to handle failures in\ncreating masking view. If the masking view cannot be\ncreated, the volume will be added back to the default\nstorage group and an exception will be raised.\n\nCloses-Bug: #1393540\nChange-Id: I1a00d8922cc876a943fb7822cd86c580d8e6beac\n'}, {'number': 15, 'created': '2015-01-31 20:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fcef4a3550189a5de4d869559a684ff520bb6fcf', 'message': 'Roll back if VMAX masking view not created\n\nIn emc_vmax_masking.py, an exception object is created if\nthere is a failure in the masking view creation logic.\nHowever, the exception is not raised. As a result,\ninitialize_connection will succeed in spite of a failure\nbut the VM will not be able to access the disk.\nThis patch adds rollback logic to handle failures in\ncreating masking view. If the masking view cannot be\ncreated, the volume will be added back to the default\nstorage group and an exception will be raised.\n\nCloses-Bug: #1393540\nChange-Id: I1a00d8922cc876a943fb7822cd86c580d8e6beac\n'}, {'number': 16, 'created': '2015-02-02 19:07:38.000000000', 'files': ['cinder/volume/drivers/emc/emc_vmax_common.py', 'cinder/volume/drivers/emc/emc_vmax_masking.py', 'cinder/tests/test_emc_vmax.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e62eaccf7a74a786ce92f22620f840eaeb145d1f', 'message': 'Roll back if VMAX masking view not created\n\nIn emc_vmax_masking.py, an exception object is created if\nthere is a failure in the masking view creation logic.\nHowever, the exception is not raised. As a result,\ninitialize_connection will succeed in spite of a failure\nbut the VM will not be able to access the disk.\nThis patch adds rollback logic to handle failures in\ncreating masking view. If the masking view cannot be\ncreated, the volume will be added back to the default\nstorage group and an exception will be raised.\n\nCloses-Bug: #1393540\nChange-Id: I1a00d8922cc876a943fb7822cd86c580d8e6beac\n'}]",89,135165,e62eaccf7a74a786ce92f22620f840eaeb145d1f,175,27,16,6491,,,0,"Roll back if VMAX masking view not created

In emc_vmax_masking.py, an exception object is created if
there is a failure in the masking view creation logic.
However, the exception is not raised. As a result,
initialize_connection will succeed in spite of a failure
but the VM will not be able to access the disk.
This patch adds rollback logic to handle failures in
creating masking view. If the masking view cannot be
created, the volume will be added back to the default
storage group and an exception will be raised.

Closes-Bug: #1393540
Change-Id: I1a00d8922cc876a943fb7822cd86c580d8e6beac
",git fetch https://review.opendev.org/openstack/cinder refs/changes/65/135165/11 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/emc/emc_vmax_masking.py'],1,9d2f3d06959ebb23e323d9a17c90aa581cad9545,bug/1393540_maskingview, raise exception.VolumeBackendAPIException(data=errorMessage), exception.VolumeBackendAPIException(data=errorMessage),1,1
openstack%2Fmonasca-agent~master~Iad3fd7386ed401e20e3bcc74e3f7f2ddc12ff4d2,openstack/monasca-agent,master,Iad3fd7386ed401e20e3bcc74e3f7f2ddc12ff4d2,Moved to using psutil for some system metrics.,MERGED,2015-02-02 23:58:42.000000000,2015-02-03 18:27:44.000000000,2015-02-03 18:27:43.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 12108}, {'_account_id': 14273}]","[{'number': 1, 'created': '2015-02-02 23:58:42.000000000', 'files': ['monasca_agent/collector/checks/system/unix.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/e93410bcb1bbcfcbfe33706b887505e887d55385', 'message': 'Moved to using psutil for some system metrics.\n\nNot only is psutil much cleaner and come with built in support for\nmultiple operating systems, the previous system was really slow.\nSpecifically for cpu it took 3 seconds to run.\n\nChange-Id: Iad3fd7386ed401e20e3bcc74e3f7f2ddc12ff4d2\n'}]",0,152347,e93410bcb1bbcfcbfe33706b887505e887d55385,9,4,1,11094,,,0,"Moved to using psutil for some system metrics.

Not only is psutil much cleaner and come with built in support for
multiple operating systems, the previous system was really slow.
Specifically for cpu it took 3 seconds to run.

Change-Id: Iad3fd7386ed401e20e3bcc74e3f7f2ddc12ff4d2
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/47/152347/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_agent/collector/checks/system/unix.py'],1,e93410bcb1bbcfcbfe33706b887505e887d55385,feature/psutil,"import psutil # psutil can be used for disk usage stats but not for inode information, so df is used. # TODO psutil.disk_io_counters() will also return this infomration but it isn't per second and so must be # converted possibly by doing two runs a second apart or storing timestamp+data from the previous collection def check(self): mem_info = psutil.virtual_memory() swap_info = psutil.swap_memory() mem_data = { 'mem.total_mb': int(mem_info.total/1048576), 'mem.free_mb': int(mem_info.free/1048576), 'mem.usable_mb': int(mem_info.available/1048576), 'mem.usable_perc': float(100 - mem_info.percent), 'mem.swap_total_mb': int(swap_info.total/1048576), 'mem.swap_used_mb': int(swap_info.used/1048576), 'mem.swap_free_mb': int(swap_info.free/1048576), 'mem.swap_free_perc': float(100 - swap_info.percent) } if 'buffers' in mem_info: mem_data['mem.used_buffers'] = int(mem_info.buffers/1048576) if 'cached' in mem_info: mem_data['mem.used_cache'] = int(mem_info.cached/1048576) if 'shared' in mem_info: mem_data['mem.used_shared'] = int(mem_info.shared/1048576) return [metrics.Measurement(key, timestamp, value, dimensions) for key, value in mem_data.iteritems()] cpu_stats = psutil.cpu_times_percent(percpu=False) return self._format_results(cpu_stats.user + cpu_stats.nice, cpu_stats.system + cpu_stats.irq + cpu_stats.softirq, cpu_stats.iowait, cpu_stats.idle, cpu_stats.steal)","import functoolsimport operator import platform def __init__(self, logger, agent_config=None): super(Memory, self).__init__(logger, agent_config) macV = None if sys.platform == 'darwin': macV = platform.mac_ver() macV_minor_version = int(re.match(r'10\.(\d+)\.?.*', macV[0]).group(1)) # Output from top is slightly modified on OS X 10.6 (case #28239) and greater if macV and (macV_minor_version >= 6): self.topIndex = 6 else: self.topIndex = 5 self.pagesize = 0 if sys.platform == 'sunos5': try: pgsz = sp.Popen(['pagesize'], stdout=sp.PIPE, close_fds=True).communicate()[0] self.pagesize = int(pgsz.strip()) except Exception: # No page size available pass def check(self): memData = {} if util.Platform.is_linux(): try: meminfoProc = open('/proc/meminfo', 'r') lines = meminfoProc.readlines() meminfoProc.close() except Exception: self.logger.exception('Cannot get memory metrics from /proc/meminfo') return [] # $ cat /proc/meminfo # MemTotal: 7995360 kB # MemFree: 1045120 kB # Buffers: 226284 kB # Cached: 775516 kB # SwapCached: 248868 kB # Active: 1004816 kB # Inactive: 1011948 kB # Active(anon): 455152 kB # Inactive(anon): 584664 kB # Active(file): 549664 kB # Inactive(file): 427284 kB # Unevictable: 4392476 kB # Mlocked: 4392476 kB # SwapTotal: 11120632 kB # SwapFree: 10555044 kB # Dirty: 2948 kB # Writeback: 0 kB # AnonPages: 5203560 kB # Mapped: 50520 kB # Shmem: 10108 kB # Slab: 161300 kB # SReclaimable: 136108 kB # SUnreclaim: 25192 kB # KernelStack: 3160 kB # PageTables: 26776 kB # NFS_Unstable: 0 kB # Bounce: 0 kB # WritebackTmp: 0 kB # CommitLimit: 15118312 kB # Committed_AS: 6703508 kB # VmallocTotal: 34359738367 kB # VmallocUsed: 400668 kB # VmallocChunk: 34359329524 kB # HardwareCorrupted: 0 kB # HugePages_Total: 0 # HugePages_Free: 0 # HugePages_Rsvd: 0 # HugePages_Surp: 0 # Hugepagesize: 2048 kB # DirectMap4k: 10112 kB # DirectMap2M: 8243200 kB # We run this several times so one-time compile now regexp = re.compile(r'^(\w+):\s+([0-9]+)') meminfo = {} for line in lines: try: match = re.search(regexp, line) if match is not None: meminfo[match.group(1)] = match.group(2) except Exception: self.logger.exception(""Cannot parse /proc/meminfo"") # Physical memory # FIXME units are in MB, we should use bytes instead try: memData['mem.total_mb'] = int(meminfo.get('MemTotal', 0)) / 1024 memData['mem.free_mb'] = int(meminfo.get('MemFree', 0)) / 1024 memData['mem.used_buffers'] = int(meminfo.get('Buffers', 0)) / 1024 memData['mem.used_cached'] = int(meminfo.get('Cached', 0)) / 1024 memData['mem.used_shared'] = int(meminfo.get('Shmem', 0)) / 1024 # Usable is relative since cached and buffers are actually used to speed things up. memData['mem.usable_mb'] = memData['mem.free_mb'] + \ memData['mem.used_buffers'] + memData['mem.used_cached'] if memData['mem.total_mb'] > 0: memData['mem.usable_perc'] = float( (memData['mem.usable_mb']) / float(memData['mem.total_mb']) * 100) except Exception: self.logger.exception('Cannot compute stats from /proc/meminfo') # Swap # FIXME units are in MB, we should use bytes instead try: memData['mem.swap_total_mb'] = int(meminfo.get('SwapTotal', 0)) / 1024 memData['mem.swap_free_mb'] = int(meminfo.get('SwapFree', 0)) / 1024 memData['mem.swap_used_mb'] = memData[ 'mem.swap_total_mb'] - memData['mem.swap_free_mb'] if memData['mem.swap_total_mb'] > 0: memData['mem.swap_free_perc'] = float( (memData['mem.swap_free_mb']) / float(memData['mem.swap_total_mb']) * 100) except Exception: self.logger.exception('Cannot compute swap stats') return [] elif sys.platform == 'darwin': macV = platform.mac_ver() macV_minor_version = int(re.match(r'10\.(\d+)\.?.*', macV[0]).group(1)) try: top = sp.Popen(['top', '-l 1'], stdout=sp.PIPE, close_fds=True).communicate()[0] sysctl = sp.Popen( ['sysctl', 'vm.swapusage'], stdout=sp.PIPE, close_fds=True).communicate()[0] except Exception: self.logger.exception('getMemoryUsage') return [] # Deal with top lines = top.split('\n') physParts = re.findall(r'([0-9]\d+)', lines[self.topIndex]) # Deal with sysctl swapParts = re.findall(r'([0-9]+\.\d+)', sysctl) # Mavericks changes the layout of physical memory format in `top` physUsedPartIndex = 3 physFreePartIndex = 4 if macV and (macV_minor_version >= 9): physUsedPartIndex = 0 physFreePartIndex = 2 memData = {'physUsed': physParts[physUsedPartIndex], 'physFree': physParts[physFreePartIndex], 'swapUsed': swapParts[1], 'swapFree': swapParts[2]} elif sys.platform.startswith(""freebsd""): try: sysctl = sp.Popen( ['sysctl', 'vm.stats.vm'], stdout=sp.PIPE, close_fds=True).communicate()[0] except Exception: self.logger.exception('getMemoryUsage') return [] lines = sysctl.split('\n') # ... # vm.stats.vm.v_page_size: 4096 # vm.stats.vm.v_page_count: 759884 # vm.stats.vm.v_wire_count: 122726 # vm.stats.vm.v_active_count: 109350 # vm.stats.vm.v_cache_count: 17437 # vm.stats.vm.v_inactive_count: 479673 # vm.stats.vm.v_free_count: 30542 # ... # We run this several times so one-time compile now regexp = re.compile(r'^vm\.stats\.vm\.(\w+):\s+([0-9]+)') meminfo = {} for line in lines: try: match = re.search(regexp, line) if match is not None: meminfo[match.group(1)] = match.group(2) except Exception: self.logger.exception(""Cannot parse sysctl vm.stats.vm output"") # Physical memory try: pageSize = int(meminfo.get('v_page_size')) memData['physTotal'] = (int(meminfo.get('v_page_count', 0)) * pageSize) / 1048576 memData['physFree'] = (int(meminfo.get('v_free_count', 0)) * pageSize) / 1048576 memData['physCached'] = (int(meminfo.get('v_cache_count', 0)) * pageSize) / 1048576 memData['physUsed'] = ((int(meminfo.get('v_active_count'), 0) + int(meminfo.get('v_wire_count', 0))) * pageSize) / 1048576 memData['physUsable'] = ((int(meminfo.get('v_free_count'), 0) + int(meminfo.get('v_cache_count', 0)) + int(meminfo.get('v_inactive_count', 0))) * pageSize) / 1048576 if memData['physTotal'] > 0: memData['physPctUsable'] = float( memData['physUsable']) / float(memData['physTotal']) except Exception: self.logger.exception('Cannot compute stats from /proc/meminfo') # Swap try: sysctl = sp.Popen( ['swapinfo', '-m'], stdout=sp.PIPE, close_fds=True).communicate()[0] except Exception: self.logger.exception('getMemoryUsage') return [] lines = sysctl.split('\n') # ... # Device 1M-blocks Used Avail Capacity # /dev/ad0s1b 570 0 570 0% # ... assert ""Device"" in lines[0] try: memData['swapTotal'] = 0 memData['swapFree'] = 0 memData['swapUsed'] = 0 for line in lines[1:-1]: line = line.split() memData['swapTotal'] += int(line[1]) memData['swapFree'] += int(line[3]) memData['swapUsed'] += int(line[2]) except Exception: self.logger.exception('Cannot compute stats from swapinfo') return [] elif sys.platform == 'sunos5': try: memData = {} kmem = sp.Popen([""kstat"", ""-c"", ""zone_memory_cap"", ""-p""], stdout=sp.PIPE, close_fds=True).communicate()[0] # memory_cap:360:53aa9b7e-48ba-4152-a52b-a6368c:anon_alloc_fail 0 # memory_cap:360:53aa9b7e-48ba-4152-a52b-a6368c:anonpgin 0 # memory_cap:360:53aa9b7e-48ba-4152-a52b-a6368c:class zone_memory_cap # memory_cap:360:53aa9b7e-48ba-4152-a52b-a6368c:crtime 16359935.0680834 # memory_cap:360:53aa9b7e-48ba-4152-a52b-a6368c:execpgin 185 # memory_cap:360:53aa9b7e-48ba-4152-a52b-a6368c:fspgin 2556 # memory_cap:360:53aa9b7e-48ba-4152-a52b-a6368c:n_pf_throttle 0 # memory_cap:360:53aa9b7e-48ba-4152-a52b-a6368c:n_pf_throttle_usec 0 # memory_cap:360:53aa9b7e-48ba-4152-a52b-a6368c:nover 0 # memory_cap:360:53aa9b7e-48ba-4152-a52b-a6368c:pagedout 0 # memory_cap:360:53aa9b7e-48ba-4152-a52b-a6368c:pgpgin 2741 # memory_cap:360:53aa9b7e-48ba-4152-a52b-a6368c:physcap 536870912 <-- # memory_cap:360:53aa9b7e-48ba-4152-a52b-a6368c:rss 115544064 <-- # memory_cap:360:53aa9b7e-48ba-4152-a52b-a6368c:snaptime 16787393.9439095 # memory_cap:360:53aa9b7e-48ba-4152-a52b-a6368c:swap 91828224 <-- # memory_cap:360:53aa9b7e-48ba-4152-a52b-a6368c:swapcap 1073741824 <-- # memory_cap:360:53aa9b7e-48ba-4152-a52b-a6368c:zonename # 53aa9b7e-48ba-4152-a52b-a6368c3d9e7c # turn memory_cap:360:zone_name:key value # into { ""key"": value, ...} kv = [l.strip().split() for l in kmem.split(""\n"") if len(l) > 0] entries = dict([(k.split("":"")[-1], v) for (k, v) in kv]) # extract rss, physcap, swap, swapcap, turn into MB convert = lambda v: int(long(v)) / 2 ** 20 memData[""physTotal""] = convert(entries[""physcap""]) memData[""physUsed""] = convert(entries[""rss""]) memData[""physFree""] = memData[""physTotal""] - memData[""physUsed""] memData[""swapTotal""] = convert(entries[""swapcap""]) memData[""swapUsed""] = convert(entries[""swap""]) memData[""swapFree""] = memData[""swapTotal""] - memData[""swapUsed""] if memData['swapTotal'] > 0: memData['swapPctFree'] = float( memData['swapFree']) / float(memData['swapTotal']) except Exception: self.logger.exception(""Cannot compute mem stats from kstat -c zone_memory_cap"") return [] return [metrics.Measurement(key, timestamp, value, dimensions) for key, value in memData.iteritems()] When figures are not available, False is sent back. if util.Platform.is_linux(): mpstat = sp.Popen(['mpstat', '1', '3'], stdout=sp.PIPE, close_fds=True).communicate()[0] # topdog@ip:~$ mpstat 1 3 # Linux 2.6.32-341-ec2 (ip) 01/19/2012 _x86_64_ (2 CPU) # # 04:22:41 PM CPU %usr %nice %sys %iowait %irq %soft %steal %guest %idle # 04:22:42 PM all 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 100.00 # 04:22:43 PM all 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 100.00 # 04:22:44 PM all 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 100.00 # Average: all 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 100.00 # # OR # # Thanks to Mart Visser to spotting this one. # blah:/etc/dd-agent# mpstat # Linux 2.6.26-2-xen-amd64 (atira) 02/17/2012 _x86_64_ # # 05:27:03 PM CPU %user %nice %sys %iowait %irq %soft %steal %idle intr/s # 05:27:03 PM all 3.59 0.00 0.68 0.69 0.00 0.00 0.01 95.03 43.65 # lines = mpstat.split(""\n"") legend = [l for l in lines if ""%usr"" in l or ""%user"" in l] avg = [l for l in lines if ""Average"" in l] if len(legend) == 1 and len(avg) == 1: headers = [h for h in legend[0].split() if h not in (""AM"", ""PM"")] data = avg[0].split() # Userland # Debian lenny says %user so we look for both # One of them will be 0 cpu_metrics = {""%usr"": None, ""%user"": None, ""%nice"": None, ""%iowait"": None, ""%idle"": None, ""%sys"": None, ""%irq"": None, ""%soft"": None, ""%steal"": None} for cpu_m in cpu_metrics: cpu_metrics[cpu_m] = self._get_value(headers, data, cpu_m, filter_value=110) if any([v is None for v in cpu_metrics.values()]): self.logger.warning(""Invalid mpstat data: %s"" % data) cpu_user = cpu_metrics[""%usr""] + cpu_metrics[""%user""] + cpu_metrics[""%nice""] cpu_system = cpu_metrics[""%sys""] + cpu_metrics[""%irq""] + cpu_metrics[""%soft""] cpu_wait = cpu_metrics[""%iowait""] cpu_idle = cpu_metrics[""%idle""] cpu_stolen = cpu_metrics[""%steal""] return self._format_results(cpu_user, cpu_system, cpu_wait, cpu_idle, cpu_stolen) else: return [] elif sys.platform == 'darwin': # generate 3 seconds of data # [' disk0 disk1 cpu load average', ' KB/t tps MB/s KB/t tps MB/s us sy id 1m 5m 15m', ' 21.23 13 0.27 17.85 7 0.13 14 7 79 1.04 1.27 1.31', ' 4.00 3 0.01 5.00 8 0.04 12 10 78 1.04 1.27 1.31', ''] iostats = sp.Popen(['iostat', '-C', '-w', '3', '-c', '2'], stdout=sp.PIPE, close_fds=True).communicate()[0] lines = [l for l in iostats.split(""\n"") if len(l) > 0] legend = [l for l in lines if ""us"" in l] if len(legend) == 1: headers = legend[0].split() data = lines[-1].split() cpu_user = self._get_value(headers, data, ""us"") cpu_sys = self._get_value(headers, data, ""sy"") cpu_wait = 0 cpu_idle = self._get_value(headers, data, ""id"") cpu_st = 0 return self._format_results(cpu_user, cpu_sys, cpu_wait, cpu_idle, cpu_st) else: self.logger.warn( ""Expected to get at least 4 lines of data from iostat instead of just "" + str( iostats[ : max( 80, len(iostats))])) return [] elif sys.platform.startswith(""freebsd""): # generate 3 seconds of data # tty ada0 cd0 pass0 cpu # tin tout KB/t tps MB/s KB/t tps MB/s KB/t tps MB/s us ni sy in id # 0 69 26.71 0 0.01 0.00 0 0.00 0.00 0 0.00 2 0 0 1 97 # 0 78 0.00 0 0.00 0.00 0 0.00 0.00 0 0.00 0 0 0 0 100 iostats = sp.Popen( ['iostat', '-w', '3', '-c', '2'], stdout=sp.PIPE, close_fds=True).communicate()[0] lines = [l for l in iostats.split(""\n"") if len(l) > 0] legend = [l for l in lines if ""us"" in l] if len(legend) == 1: headers = legend[0].split() data = lines[-1].split() cpu_user = self._get_value(headers, data, ""us"") cpu_nice = self._get_value(headers, data, ""ni"") cpu_sys = self._get_value(headers, data, ""sy"") cpu_intr = self._get_value(headers, data, ""in"") cpu_wait = 0 cpu_idle = self._get_value(headers, data, ""id"") cpu_stol = 0 return self._format_results(cpu_user + cpu_nice, cpu_sys + cpu_intr, cpu_wait, cpu_idle, cpu_stol) else: self.logger.warn( ""Expected to get at least 4 lines of data from iostat instead of just "" + str( iostats[ :max( 80, len(iostats))])) return [] elif sys.platform == 'sunos5': # mpstat -aq 1 2 # SET minf mjf xcal intr ithr csw icsw migr smtx srw syscl usr sys wt idl sze # 0 5239 0 12857 22969 5523 14628 73 546 4055 1 146856 5 6 0 89 24 <-- since boot # 1 ... # SET minf mjf xcal intr ithr csw icsw migr smtx srw syscl usr sys wt idl sze # 0 20374 0 45634 57792 5786 26767 80 876 20036 2 724475 13 13 0 75 24 <-- past 1s # 1 ... # http://docs.oracle.com/cd/E23824_01/html/821-1462/mpstat-1m.html # # Will aggregate over all processor sets try: mpstat = sp.Popen( ['mpstat', '-aq', '1', '2'], stdout=sp.PIPE, close_fds=True).communicate()[0] lines = [l for l in mpstat.split(""\n"") if len(l) > 0] # discard the first len(lines)/2 lines lines = lines[len(lines) / 2:] legend = [l for l in lines if ""SET"" in l] assert len(legend) == 1 if len(legend) == 1: headers = legend[0].split() # collect stats for each processor set # and aggregate them based on the relative set size d_lines = [l for l in lines if ""SET"" not in l] user = [self._get_value(headers, l.split(), ""usr"") for l in d_lines] kern = [self._get_value(headers, l.split(), ""sys"") for l in d_lines] wait = [self._get_value(headers, l.split(), ""wt"") for l in d_lines] idle = [self._get_value(headers, l.split(), ""idl"") for l in d_lines] size = [self._get_value(headers, l.split(), ""sze"") for l in d_lines] count = sum(size) rel_size = [s / count for s in size] dot = lambda v1, v2: functools.reduce(operator.add, map(operator.mul, v1, v2)) return self._format_results(dot(user, rel_size), dot(kern, rel_size), dot(wait, rel_size), dot(idle, rel_size), 0.0) except Exception: self.logger.exception(""Cannot compute CPU stats"") return [] else: self.logger.warn(""CPUStats: unsupported platform"") return [] def _get_value(self, legend, data, name, filter_value=None): """"""Using the legend and a metric name, get the value or None from the data line. """""" if name in legend: value = to_float(data[legend.index(name)]) if filter_value is not None: if value > filter_value: return None return value else: # FIXME return a float or False, would trigger type error if not python self.logger.debug(""Cannot extract cpu value %s from %s (%s)"" % (name, data, legend)) return 0.0 ",31,466
openstack%2Ffuel-library~master~If00a7b99fa56fa5788d7418b7f4a6974306aefcb,openstack/fuel-library,master,If00a7b99fa56fa5788d7418b7f4a6974306aefcb,Fix ceph-osd task dependency,MERGED,2015-02-03 13:40:21.000000000,2015-02-03 18:22:36.000000000,2015-02-03 18:22:35.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 11827}, {'_account_id': 13343}]","[{'number': 1, 'created': '2015-02-03 13:40:21.000000000', 'files': ['deployment/puppet/osnailyfacter/modular/tasks.yaml'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/2147da0c583a7944f440ceb51236e7cb2e6610c9', 'message': 'Fix ceph-osd task dependency\n\nWrong ceph-osd task dependency causes wrong tasks ordering.\n\nChange-Id: If00a7b99fa56fa5788d7418b7f4a6974306aefcb\nCloses-bug: #1417579\n'}]",0,152511,2147da0c583a7944f440ceb51236e7cb2e6610c9,17,8,1,9387,,,0,"Fix ceph-osd task dependency

Wrong ceph-osd task dependency causes wrong tasks ordering.

Change-Id: If00a7b99fa56fa5788d7418b7f4a6974306aefcb
Closes-bug: #1417579
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/11/152511/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/osnailyfacter/modular/tasks.yaml'],1,2147da0c583a7944f440ceb51236e7cb2e6610c9,fix-ceph-osd-graph," requires: [hosts, firewall]"," requires: [top-role-controller, top-role-compute, top-role-cinder]",1,2
openstack%2Fmagnum~master~I0140e5233fc801b8353a65b8342a181a162f8cb4,openstack/magnum,master,I0140e5233fc801b8353a65b8342a181a162f8cb4,Add project_id and user_id to service and rc,MERGED,2015-02-03 05:12:28.000000000,2015-02-03 18:09:38.000000000,2015-02-03 18:09:37.000000000,"[{'_account_id': 3}, {'_account_id': 11536}, {'_account_id': 12385}]","[{'number': 1, 'created': '2015-02-03 05:12:28.000000000', 'files': ['magnum/objects/service.py', 'magnum/tests/db/utils.py', 'magnum/objects/replicationcontroller.py', 'magnum/db/sqlalchemy/alembic/versions/3bea56f25597_multi_tenant.py', 'magnum/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/41f15002e3350afbf2bb5357c5ab746e65ec03bc', 'message': 'Add project_id and user_id to service and rc\n\nImplements part of bp multi-tenant\n\nChange-Id: I0140e5233fc801b8353a65b8342a181a162f8cb4\n'}]",0,152391,41f15002e3350afbf2bb5357c5ab746e65ec03bc,7,3,1,7494,,,0,"Add project_id and user_id to service and rc

Implements part of bp multi-tenant

Change-Id: I0140e5233fc801b8353a65b8342a181a162f8cb4
",git fetch https://review.opendev.org/openstack/magnum refs/changes/91/152391/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/objects/service.py', 'magnum/tests/db/utils.py', 'magnum/objects/replicationcontroller.py', 'magnum/db/sqlalchemy/alembic/versions/3bea56f25597_multi_tenant.py', 'magnum/db/sqlalchemy/models.py']",5,41f15002e3350afbf2bb5357c5ab746e65ec03bc,bp/multi-tenant, project_id = Column(String(255)) user_id = Column(String(255)) project_id = Column(String(255)) user_id = Column(String(255)),,24,0
openstack%2Fcookbook-openstack-bare-metal~master~I48202ea1ebf7621141f97778961758b73da76e27,openstack/cookbook-openstack-bare-metal,master,I48202ea1ebf7621141f97778961758b73da76e27,Add installation and configuration support for Ironic,MERGED,2015-01-22 05:50:09.000000000,2015-02-03 17:55:41.000000000,2015-02-03 17:55:41.000000000,"[{'_account_id': 3}, {'_account_id': 7128}, {'_account_id': 8106}, {'_account_id': 8112}, {'_account_id': 9488}, {'_account_id': 12323}]","[{'number': 1, 'created': '2015-01-22 05:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/c5079d7c494e7500039b5727203e76b4b60971af', 'message': 'Add installation and configuration support for Ironic\n\nThis commit adds attributes, templates, recipes and spec files to\nsupport the installation and configuration of Ironic.\n\nDepends on:\n  https://review.openstack.org/#/c/148458/\n  https://review.openstack.org/#/c/148463/\n\nblueprint bare-metal-enablement\n\nChange-Id: I48202ea1ebf7621141f97778961758b73da76e27\n'}, {'number': 2, 'created': '2015-01-22 09:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/d78002dd301c7f16884c0fb83446231c1e62f489', 'message': 'Add installation and configuration support for Ironic\n\nThis commit adds attributes, templates, recipes and spec files to\nsupport the installation and configuration of Ironic.\n\nDepends on:\n  https://review.openstack.org/#/c/148458/\n  https://review.openstack.org/#/c/148463/\n\nblueprint bare-metal-enablement\n\nChange-Id: I48202ea1ebf7621141f97778961758b73da76e27\n'}, {'number': 3, 'created': '2015-01-24 14:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/9f4ab9b940dc51d1e480777de891708532c282bc', 'message': 'Add installation and configuration support for Ironic\n\nThis commit adds attributes, templates, recipes and spec files to\nsupport the installation and configuration of Ironic.\n\nDepends on:\n  https://review.openstack.org/#/c/148458/\n  https://review.openstack.org/#/c/148463/\n\nAdds temp workaround to cover the common attributes and\ncreate ironic database with user util Kilo branch is created.\n\nblueprint bare-metal-enablement\n\nChange-Id: I48202ea1ebf7621141f97778961758b73da76e27\n'}, {'number': 4, 'created': '2015-01-24 14:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/3e0f5ff0d9ec8b551e9e977e4507a79710615116', 'message': 'Add installation and configuration support for Ironic\n\nThis commit adds attributes, templates, recipes and spec files to\nsupport the installation and configuration of Ironic.\n\nDepends on:\n  https://review.openstack.org/#/c/148458/\n  https://review.openstack.org/#/c/148463/\n\nAdds temp workaround to cover the common attributes and\ncreate ironic database with user util Kilo branch is created.\n\nblueprint bare-metal-enablement\n\nChange-Id: I48202ea1ebf7621141f97778961758b73da76e27\n'}, {'number': 5, 'created': '2015-01-24 14:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/cb92752417885c90db67d92c0a2437711d3c9822', 'message': 'Add installation and configuration support for Ironic\n\nThis commit adds attributes, templates, recipes and spec files to\nsupport the installation and configuration of Ironic.\n\nDepends on:\n  https://review.openstack.org/#/c/148458/\n  https://review.openstack.org/#/c/148463/\n\nAdds temp workaround to cover the common attributes and\ncreate ironic database with user util Kilo branch is created.\n\nblueprint bare-metal-enablement\n\nChange-Id: I48202ea1ebf7621141f97778961758b73da76e27\n'}, {'number': 6, 'created': '2015-01-24 14:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/fbbcf6b299c64750004c0e58954aaf580efa8774', 'message': 'Add installation and configuration support for Ironic\n\nThis commit adds attributes, templates, recipes and spec files to\nsupport the installation and configuration of Ironic.\n\nDepends on:\n  https://review.openstack.org/#/c/148458/\n  https://review.openstack.org/#/c/148463/\n\nAdds temp workaround to cover the common attributes and\ncreate ironic database with user util Kilo branch is created.\n\nblueprint bare-metal-enablement\n\nChange-Id: I48202ea1ebf7621141f97778961758b73da76e27\n'}, {'number': 7, 'created': '2015-01-24 15:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/c95f5cad2fe258fd11fcda2defbc61b8d6493f05', 'message': 'Add installation and configuration support for Ironic\n\nThis commit adds attributes, templates, recipes and spec files to\nsupport the installation and configuration of Ironic.\n\nDepends on:\n  https://review.openstack.org/#/c/148458/\n  https://review.openstack.org/#/c/148463/\n\nAdds temp workaround to cover the common attributes and\ncreate ironic database with user util Kilo branch is created.\n\nblueprint bare-metal-enablement\n\nChange-Id: I48202ea1ebf7621141f97778961758b73da76e27\n'}, {'number': 8, 'created': '2015-01-24 15:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/a03b139ca9d9418b5e0034dbc31112571aa29c51', 'message': 'Add installation and configuration support for Ironic\n\nThis commit adds attributes, templates, recipes and spec files to\nsupport the installation and configuration of Ironic.\n\nDepends on:\n  https://review.openstack.org/#/c/148458/\n  https://review.openstack.org/#/c/148463/\n\nAdds temp workaround to cover the common attributes and\ncreate ironic database with user util Kilo branch is created.\n\nblueprint bare-metal-enablement\n\nChange-Id: I48202ea1ebf7621141f97778961758b73da76e27\n'}, {'number': 9, 'created': '2015-01-26 09:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/ec057770f8f589b3ba163b5e9edb0c1790ced626', 'message': 'Add installation and configuration support for Ironic\n\nThis commit adds attributes, templates, recipes and spec files to\nsupport the installation and configuration of Ironic.\n\nDepends on:\n  https://review.openstack.org/#/c/148458/\n  https://review.openstack.org/#/c/148463/\n\nAdds temp workaround to cover the common attributes and\ncreate ironic database with user util Kilo branch is created.\n\nblueprint bare-metal-enablement\n\nChange-Id: I48202ea1ebf7621141f97778961758b73da76e27\n'}, {'number': 10, 'created': '2015-01-27 03:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/78fbdef61693db149d885440e1a5b433fb47b87f', 'message': 'Add installation and configuration support for Ironic\n\nThis commit adds attributes, templates, recipes and spec files to\nsupport the installation and configuration of Ironic.\n\nDepends on:\n  https://review.openstack.org/#/c/148458/\n  https://review.openstack.org/#/c/148463/\n\nAdds temp workaround to cover the common attributes and\ncreate ironic database with user util Kilo branch is created.\n\nblueprint bare-metal-enablement\n\nChange-Id: I48202ea1ebf7621141f97778961758b73da76e27\n'}, {'number': 11, 'created': '2015-01-27 05:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/20c5252360c3c96ab8dff24218b469fa8bc271ad', 'message': 'Add installation and configuration support for Ironic\n\nThis commit adds attributes, templates, recipes and spec files to\nsupport the installation and configuration of Ironic.\n\nDepends on:\n  https://review.openstack.org/#/c/148458/\n  https://review.openstack.org/#/c/148463/\n\nAdds temp workaround to cover the common attributes and\ncreate ironic database with user util Kilo branch is created.\n\nblueprint bare-metal-enablement\n\nChange-Id: I48202ea1ebf7621141f97778961758b73da76e27\n'}, {'number': 12, 'created': '2015-01-27 05:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/bb472e62d818b3c9903d8b7590f5932dbc24ac85', 'message': 'Add installation and configuration support for Ironic\n\nThis commit adds attributes, templates, recipes and spec files to\nsupport the installation and configuration of Ironic.\n\nDepends on:\n  https://review.openstack.org/#/c/148458/\n  https://review.openstack.org/#/c/148463/\n\nAdds temp workaround to cover the common attributes and\ncreate ironic database with user util Kilo branch is created.\n\nblueprint bare-metal-enablement\n\nChange-Id: I48202ea1ebf7621141f97778961758b73da76e27\n'}, {'number': 13, 'created': '2015-01-27 05:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/ae444ef6eefabb1ed24ac3adddf229af41d6a37c', 'message': 'Add installation and configuration support for Ironic\n\nThis commit adds attributes, templates, recipes and spec files to\nsupport the installation and configuration of Ironic.\n\nDepends on:\n  https://review.openstack.org/#/c/148458/\n  https://review.openstack.org/#/c/148463/\n\nAdds temp workaround to cover the common attributes and\ncreate ironic database with user util Kilo branch is created.\n\nblueprint bare-metal-enablement\n\nChange-Id: I48202ea1ebf7621141f97778961758b73da76e27\n'}, {'number': 14, 'created': '2015-01-28 02:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/9777d55f3e74804a245464fc9d01a82dd9e939c5', 'message': 'Add installation and configuration support for Ironic\n\nThis commit adds attributes, templates, recipes and spec files to\nsupport the installation and configuration of Ironic.\n\nDepends on:\n  https://review.openstack.org/#/c/148458/\n  https://review.openstack.org/#/c/148463/\n\nAdds temp workaround to cover the common attributes and\ncreate ironic database with user util Kilo branch is created.\n\nblueprint bare-metal-enablement\n\nChange-Id: I48202ea1ebf7621141f97778961758b73da76e27\n'}, {'number': 15, 'created': '2015-01-28 02:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/4b520e5e909b70d6f1f0bc1cfb598e89a41299a1', 'message': 'Add installation and configuration support for Ironic\n\nThis commit adds attributes, templates, recipes and spec files to\nsupport the installation and configuration of Ironic.\n\nDepends on:\n  https://review.openstack.org/#/c/148458/\n  https://review.openstack.org/#/c/148463/\n\nAdds temp workaround to cover the common attributes and\ncreate ironic database with user util Kilo branch is created.\n\nblueprint bare-metal-enablement\n\nChange-Id: I48202ea1ebf7621141f97778961758b73da76e27\n'}, {'number': 16, 'created': '2015-01-29 02:44:15.000000000', 'files': ['spec/conductor_spec.rb', 'spec/ironic-common_spec.rb', 'templates/default/ironic.conf.erb', 'spec/api_spec.rb', 'CHANGELOG.md', 'recipes/api.rb', 'recipes/ironic-common.rb', 'recipes/conductor.rb', 'templates/default/rootwrap.conf.erb', 'attributes/common-temp.rb', 'spec/spec_helper.rb', 'attributes/default.rb', 'metadata.rb', 'recipes/default.rb', 'recipes/identity_registration.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/591c8773d21e49a5050bc4bc9eedf1a13c854947', 'message': 'Add installation and configuration support for Ironic\n\nThis commit adds attributes, templates, recipes and spec files to\nsupport the installation and configuration of Ironic.\n\nDepends on:\n  https://review.openstack.org/#/c/148458/\n  https://review.openstack.org/#/c/148463/\n\nAdds temp workaround to cover the common attributes and\ncreate ironic database with user util Kilo branch is created.\n\nblueprint bare-metal-enablement\n\nChange-Id: I48202ea1ebf7621141f97778961758b73da76e27\n'}]",36,149152,591c8773d21e49a5050bc4bc9eedf1a13c854947,51,6,16,8112,,,0,"Add installation and configuration support for Ironic

This commit adds attributes, templates, recipes and spec files to
support the installation and configuration of Ironic.

Depends on:
  https://review.openstack.org/#/c/148458/
  https://review.openstack.org/#/c/148463/

Adds temp workaround to cover the common attributes and
create ironic database with user util Kilo branch is created.

blueprint bare-metal-enablement

Change-Id: I48202ea1ebf7621141f97778961758b73da76e27
",git fetch https://review.opendev.org/openstack/cookbook-openstack-bare-metal refs/changes/52/149152/13 && git format-patch -1 --stdout FETCH_HEAD,"['spec/conductor_spec.rb', 'templates/default/ironic.conf.erb', 'spec/api_spec.rb', 'CHANGELOG.md', 'recipes/api.rb', 'recipes/ironic-common.rb', 'recipes/conductor.rb', 'templates/default/rootwrap.conf.erb', 'spec/ironic_common_spec.rb', 'attributes/default.rb', 'metadata.rb', 'recipes/identity_registration.rb']",12,c5079d7c494e7500039b5727203e76b4b60971af,bp/bare-metal-enablement,"# encoding: UTF-8 # # Cookbook Name:: openstack-bare-metal # Recipe:: identity_registration # # Copyright 2015, IBM, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # require 'uri' class ::Chef::Recipe # rubocop:disable Documentation include ::Openstack end identity_admin_endpoint = endpoint 'identity-admin' bootstrap_token = get_secret 'openstack_identity_bootstrap_token' auth_uri = ::URI.decode identity_admin_endpoint.to_s ironic_api_endpoint = endpoint 'bare-metal-api' service_pass = get_password 'service', 'openstack-bare-metal' region = node['openstack']['bare-metal']['region'] service_tenant_name = node['openstack']['bare-metal']['service_tenant_name'] service_user = node['openstack']['bare-metal']['service_user'] service_role = node['openstack']['bare-metal']['service_role'] openstack_identity_register 'Register Service Tenant' do auth_uri auth_uri bootstrap_token bootstrap_token tenant_name service_tenant_name tenant_description 'Service Tenant' action :create_tenant end openstack_identity_register 'Register Ironic bare metal Service' do auth_uri auth_uri bootstrap_token bootstrap_token service_name 'ironic' service_type 'baremetal' service_description 'Ironic bare metal provisioning service' action :create_service end openstack_identity_register 'Register Ironic bare metal Endpoint' do auth_uri auth_uri bootstrap_token bootstrap_token service_type 'baremetal' endpoint_region region endpoint_adminurl ::URI.decode ironic_api_endpoint.to_s endpoint_internalurl ::URI.decode ironic_api_endpoint.to_s endpoint_publicurl ::URI.decode ironic_api_endpoint.to_s action :create_endpoint end openstack_identity_register 'Register Ironic bare metal Service User' do auth_uri auth_uri bootstrap_token bootstrap_token tenant_name service_tenant_name user_name service_user user_pass service_pass action :create_user end openstack_identity_register 'Grant service Role to Ironic Service User for Ironic Service Tenant' do auth_uri auth_uri bootstrap_token bootstrap_token tenant_name service_tenant_name user_name service_user role_name service_role action :grant_role end ",,1916,1
openstack%2Fkeystone-specs~master~Iacb7a2e39edb055fc1063584c7a84ac9126e54bf,openstack/keystone-specs,master,Iacb7a2e39edb055fc1063584c7a84ac9126e54bf,Update doc for generating SAML2 assertion,MERGED,2015-02-02 11:09:08.000000000,2015-02-03 17:55:39.000000000,2015-02-03 17:55:39.000000000,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 6482}, {'_account_id': 11022}]","[{'number': 1, 'created': '2015-02-02 11:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/b61cd345dcb8809a73fe5b42c32a90851ee2a627', 'message': 'Update doc for generating SAML2 assertion\n\nAs ``service_provider`` objects are merged we need to update\ndocumentation and examples of requests for exchanging project-scoped\ntokens to SAML2 assertions.\n\nPartially-Implements bp k2k-service-providers\n\nChange-Id: Iacb7a2e39edb055fc1063584c7a84ac9126e54bf\n'}, {'number': 2, 'created': '2015-02-02 13:28:50.000000000', 'files': ['api/v3/identity-api-v3-os-federation-ext.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/5f5e0a2d65b49338cf646c60e308d84f99b3aac5', 'message': 'Update doc for generating SAML2 assertion\n\nAs ``service_provider`` objects are merged we need to update\ndocumentation and examples of requests for exchanging project-scoped\ntokens to SAML2 assertions.\n\nPartially-Implements bp k2k-service-providers\n\nChange-Id: Iacb7a2e39edb055fc1063584c7a84ac9126e54bf\n'}]",0,152083,5f5e0a2d65b49338cf646c60e308d84f99b3aac5,10,4,2,8978,,,0,"Update doc for generating SAML2 assertion

As ``service_provider`` objects are merged we need to update
documentation and examples of requests for exchanging project-scoped
tokens to SAML2 assertions.

Partially-Implements bp k2k-service-providers

Change-Id: Iacb7a2e39edb055fc1063584c7a84ac9126e54bf
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/83/152083/1 && git format-patch -1 --stdout FETCH_HEAD,['api/v3/identity-api-v3-os-federation-ext.rst'],1,b61cd345dcb8809a73fe5b42c32a90851ee2a627,bp/k2k-service-providers,"To generate a SAML assertion, a user must provides a scoped token ID and Service Provider ID in the request body. ""service_provider"": { ""id"": ""--sp_id--""","To generate a SAML assertion, a user must provides a scoped token ID and region ID in the request body. ""region"": { ""id"": ""--region_id--""",4,4
openstack%2Fglance~master~I9ab487cc409addbacdcea3c80cef8fbcda5374b9,openstack/glance,master,I9ab487cc409addbacdcea3c80cef8fbcda5374b9,Update vmware_adaptertype metadef values,MERGED,2015-02-01 00:32:41.000000000,2015-02-03 17:52:36.000000000,2015-02-03 17:52:35.000000000,"[{'_account_id': 3}, {'_account_id': 6159}, {'_account_id': 6484}, {'_account_id': 7634}, {'_account_id': 12000}, {'_account_id': 12807}]","[{'number': 1, 'created': '2015-02-01 00:32:41.000000000', 'files': ['etc/metadefs/compute-vmware.json'], 'web_link': 'https://opendev.org/openstack/glance/commit/6abb49bb64ec18111a333d32fa78cb34becc8ae8', 'message': 'Update vmware_adaptertype metadef values\n\nThe metadef value for vmware_adaptertype is missing LSI Logic SAS\nand VMware Paravirtual (PVSCSI) adapters that is supported by\nnova.\nSee nova/virt/vmwareapi/constants.py in the nova tree for the\nlist of supported ADAPTER_TYPE_*.\n\nChange-Id: I9ab487cc409addbacdcea3c80cef8fbcda5374b9\n'}]",0,151901,6abb49bb64ec18111a333d32fa78cb34becc8ae8,10,6,1,7575,,,0,"Update vmware_adaptertype metadef values

The metadef value for vmware_adaptertype is missing LSI Logic SAS
and VMware Paravirtual (PVSCSI) adapters that is supported by
nova.
See nova/virt/vmwareapi/constants.py in the nova tree for the
list of supported ADAPTER_TYPE_*.

Change-Id: I9ab487cc409addbacdcea3c80cef8fbcda5374b9
",git fetch https://review.opendev.org/openstack/glance refs/changes/01/151901/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/metadefs/compute-vmware.json'],1,6abb49bb64ec18111a333d32fa78cb34becc8ae8,update_adapter_types," ""lsiLogicsas"", ""paraVirtual"",",,2,0
openstack%2Fceilometer~master~I52551f88bc3beac4bf8a92afa45ac70cd97ffcec,openstack/ceilometer,master,I52551f88bc3beac4bf8a92afa45ac70cd97ffcec,Declarative HTTP testing for the Ceilometer API,MERGED,2015-01-09 19:46:06.000000000,2015-02-03 17:52:24.000000000,2015-02-03 17:52:23.000000000,"[{'_account_id': 3}, {'_account_id': 2284}, {'_account_id': 6537}, {'_account_id': 7052}, {'_account_id': 7729}, {'_account_id': 8871}, {'_account_id': 9562}, {'_account_id': 10987}, {'_account_id': 11564}]","[{'number': 1, 'created': '2015-01-09 19:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9fdf2f901780d6c3e3945f6af024869705f6d3b0', 'message': ""Declarative HTTP testing for the Ceilometer API\n\nA 'gabbi' tox target is added which runs a declarative HTTP tests\ndescribed in YAML files in 'ceilomber/gabbi/gabbits' and loaded by\n'ceilomber/gabbi/test_gabbi.py'. These are driven by the 'gabbi' python\npackage (available from PyPI).\n\ntox and testr are configured to start and run the tests efficiently:\n\n* a mongodb server, using multiple databases, is made available\n* the API wsgi application is used directly via 'wsgi-intercept', no\n  web server required\n* each YAML file is run as a sequence and where number of processors\n  allows, in a different test process\n* individual tests can be requested in the usual way:\n\n    tox -egabbi -- <test pattern>\n\n  If this is done, all the tests prior to the one requested, from\n  its YAML file, will be run as ordered prerequisites.\n\nFixtures are implemented as nested context managers that are declared\nper YAML file, see ceilometer/gabbi/fixtures.py and fixtures-samples.yaml\nfor an example of how they can be used.\n\nYAML files can use a variety of strategies for formatting requests\nand evaluating the correctness of response. See:\nhttp://gabbi.readthedocs.org/en/latest/format.html\n\nThe YAML files included here test simple API features for creating and\nretrieving samples. Subsequent patches can (and should) create\nadditional YAML files to describe more complex scenarios that cover\nthe entire API (for example alarms are not touched at all by this\npatch).\n\nChange-Id: I52551f88bc3beac4bf8a92afa45ac70cd97ffcec\nImplements: blueprint declarative-http-tests\n""}, {'number': 2, 'created': '2015-01-10 00:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/68e86e2b569756610566bfa484aba880af91b58b', 'message': ""Declarative HTTP testing for the Ceilometer API\n\nA 'gabbi' tox target is added which runs a declarative HTTP tests\ndescribed in YAML files in 'ceilomber/gabbi/gabbits' and loaded by\n'ceilomber/gabbi/test_gabbi.py'. These are driven by the 'gabbi' python\npackage (available from PyPI).\n\ntox and testr are configured to start and run the tests efficiently:\n\n* a mongodb server, using multiple databases, is made available\n* the API wsgi application is used directly via 'wsgi-intercept', no\n  web server required\n* each YAML file is run as a sequence and where number of processors\n  allows, in a different test process\n* individual tests can be requested in the usual way:\n\n    tox -egabbi -- <test pattern>\n\n  If this is done, all the tests prior to the one requested, from\n  its YAML file, will be run as ordered prerequisites.\n\nFixtures are implemented as nested context managers that are declared\nper YAML file, see ceilometer/gabbi/fixtures.py and fixtures-samples.yaml\nfor an example of how they can be used.\n\nYAML files can use a variety of strategies for formatting requests\nand evaluating the correctness of response. See:\nhttp://gabbi.readthedocs.org/en/latest/format.html\n\nThe YAML files included here test simple API features for creating and\nretrieving samples. Subsequent patches can (and should) create\nadditional YAML files to describe more complex scenarios that cover\nthe entire API (for example alarms are not touched at all by this\npatch).\n\nChange-Id: I52551f88bc3beac4bf8a92afa45ac70cd97ffcec\nImplements: blueprint declarative-http-tests\n""}, {'number': 3, 'created': '2015-01-14 15:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d575f01c4d5d173e2c1d7cdbcf15470965e40a2a', 'message': ""Declarative HTTP testing for the Ceilometer API\n\nA 'gabbi' tox target is added which runs a declarative HTTP tests\ndescribed in YAML files in 'ceilomber/gabbi/gabbits' and loaded by\n'ceilomber/gabbi/test_gabbi.py'. These are driven by the 'gabbi' python\npackage (available from PyPI).\n\ntox and testr are configured to start and run the tests efficiently:\n\n* a mongodb server, using multiple databases, is made available\n* the API wsgi application is used directly via 'wsgi-intercept', no\n  web server required\n* each YAML file is run as a sequence and where number of processors\n  allows, in a different test process\n* individual tests can be requested in the usual way:\n\n    tox -egabbi -- <test pattern>\n\n  If this is done, all the tests prior to the one requested, from\n  its YAML file, will be run as ordered prerequisites.\n\ntest_gabbi does the necessary work to adjust the configuration and\npipeline to just use the mongodb database and nothing else.\n\nFixtures are implemented as nested context managers that are declared\nper YAML file, see ceilometer/gabbi/fixtures.py and fixtures-samples.yaml\nfor an example of how they can be used.\n\nYAML files can use a variety of strategies for formatting requests\nand evaluating the correctness of response. See:\nhttp://gabbi.readthedocs.org/en/latest/format.html\n\nThe YAML files included here test simple API features for creating and\nretrieving samples. Subsequent patches can (and should) create\nadditional YAML files to describe more complex scenarios that cover\nthe entire API (for example alarms are not touched at all by this\npatch).\n\nChange-Id: I52551f88bc3beac4bf8a92afa45ac70cd97ffcec\nImplements: blueprint declarative-http-tests\n""}, {'number': 4, 'created': '2015-01-16 15:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/beb5b03b7b7bbaa2222c0f915e443a69142ff0c0', 'message': ""Declarative HTTP testing for the Ceilometer API\n\nA 'gabbi' tox target is added which runs a declarative HTTP tests\ndescribed in YAML files in 'ceilomber/gabbi/gabbits' and loaded by\n'ceilomber/gabbi/test_gabbi.py'. These are driven by the 'gabbi' python\npackage (available from PyPI).\n\ntox and testr are configured to start and run the tests efficiently:\n\n* a mongodb server, using multiple databases, is made available\n* the API wsgi application is used directly via 'wsgi-intercept', no\n  web server required\n* each YAML file is run as a sequence and where number of processors\n  allows, in a different test process\n* individual tests can be requested in the usual way:\n\n    tox -egabbi -- <test pattern>\n\n  If this is done, all the tests prior to the one requested, from\n  its YAML file, will be run as ordered prerequisites.\n\ntest_gabbi does the necessary work to adjust the configuration and\npipeline to just use the mongodb database and nothing else.\n\nFixtures are implemented as nested context managers that are declared\nper YAML file, see ceilometer/gabbi/fixtures.py and fixtures-samples.yaml\nfor an example of how they can be used.\n\nYAML files can use a variety of strategies for formatting requests\nand evaluating the correctness of response. See:\nhttp://gabbi.readthedocs.org/en/latest/format.html\n\nThe YAML files included here test simple API features for creating and\nretrieving samples. Subsequent patches can (and should) create\nadditional YAML files to describe more complex scenarios that cover\nthe entire API (for example alarms are not touched at all by this\npatch).\n\nChange-Id: I52551f88bc3beac4bf8a92afa45ac70cd97ffcec\nImplements: blueprint declarative-http-tests\n""}, {'number': 5, 'created': '2015-01-16 15:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a02c0b26da2726f823144a690c8bd13e0c8ea8b9', 'message': ""Declarative HTTP testing for the Ceilometer API\n\nA 'gabbi' tox target is added which runs a declarative HTTP tests\ndescribed in YAML files in 'ceilomber/gabbi/gabbits' and loaded by\n'ceilomber/gabbi/test_gabbi.py'. These are driven by the 'gabbi' python\npackage (available from PyPI).\n\ntox and testr are configured to start and run the tests efficiently:\n\n* a mongodb server, using multiple databases, is made available\n* the API wsgi application is used directly via 'wsgi-intercept', no\n  web server required\n* each YAML file is run as a sequence and where number of processors\n  allows, in a different test process\n* individual tests can be requested in the usual way:\n\n    tox -egabbi -- <test pattern>\n\n  If this is done, all the tests prior to the one requested, from\n  its YAML file, will be run as ordered prerequisites.\n\ntest_gabbi does the necessary work to adjust the configuration and\npipeline to just use the mongodb database and nothing else.\n\nFixtures are implemented as nested context managers that are declared\nper YAML file, see ceilometer/gabbi/fixtures.py and fixtures-samples.yaml\nfor an example of how they can be used.\n\nYAML files can use a variety of strategies for formatting requests\nand evaluating the correctness of response. See:\nhttp://gabbi.readthedocs.org/en/latest/format.html\n\nThe YAML files included here test simple API features for creating and\nretrieving samples. Subsequent patches can (and should) create\nadditional YAML files to describe more complex scenarios that cover\nthe entire API (for example alarms are not touched at all by this\npatch).\n\nChange-Id: I52551f88bc3beac4bf8a92afa45ac70cd97ffcec\nImplements: blueprint declarative-http-tests\n""}, {'number': 6, 'created': '2015-01-22 22:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/33ae4d5dd11ee68fa7dda02ae596bfc4d2247bc7', 'message': ""Declarative HTTP testing for the Ceilometer API\n\nA 'gabbi' tox target is added which runs a declarative HTTP tests\ndescribed in YAML files in 'ceilometer/tests/gabbi/gabbits' and loaded by\n'ceilometer/tests/gabbi/test_gabbi.py'. These are driven by the 'gabbi'\npython package (available from PyPI).\n\ntox and testr are configured to start and run the tests efficiently:\n\n* a mongodb server, using multiple databases, is made available\n* the API wsgi application is used directly via 'wsgi-intercept', no\n  web server required\n* each YAML file is run as a sequence and where number of processors\n  allows, in a different test process\n* individual tests can be requested in the usual way:\n\n    tox -egabbi -- <test pattern>\n\n  If this is done, all the tests prior to the one requested, from\n  its YAML file, will be run as ordered prerequisites.\n* tox targets that already run the tests in ceilometer/tests will\n  also discover gabbi tests. If there is no mongodb, they will\n  be skipped.\n\nA ConfigFixture does the necessary work of adjusting the configuration\nand pipeline to use the mongodb database and nothing else. An\ninternal InterceptFixture uses wsgi-intercept to access the\nceilometer API. Each yaml file has its own intercepted host.\n\nFixtures are implemented as nested context managers that are declared\nper YAML file, see ceilometer/gabbi/fixtures.py and fixtures-samples.yaml\nfor an example of how they can be used. Every yaml file uses at\nleast ConfigFixture.\n\nYAML files can use a variety of strategies for formatting requests\nand evaluating the correctness of response. See:\nhttp://gabbi.readthedocs.org/en/latest/format.html\n\nThe YAML files included here test simple API features for creating and\nretrieving samples. Subsequent patches can (and should) create\nadditional YAML files to describe more complex scenarios that cover\nthe entire API (for example alarms are not touched at all by this\npatch).\n\nChange-Id: I52551f88bc3beac4bf8a92afa45ac70cd97ffcec\nImplements: blueprint declarative-http-tests\n""}, {'number': 7, 'created': '2015-02-02 15:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/0e8455fe6fa7eeacd7e8773516968a8390b90adf', 'message': ""Declarative HTTP testing for the Ceilometer API\n\nA 'gabbi' tox target is added which runs a declarative HTTP tests\ndescribed in YAML files in 'ceilometer/tests/gabbi/gabbits' and loaded by\n'ceilometer/tests/gabbi/test_gabbi.py'. These are driven by the 'gabbi'\npython package (available from PyPI).\n\ntox and testr are configured to start and run the tests efficiently:\n\n* a mongodb server, using multiple databases, is made available\n* the API wsgi application is used directly via 'wsgi-intercept', no\n  web server required\n* each YAML file is run as a sequence and where number of processors\n  allows, in a different test process\n* individual tests can be requested in the usual way:\n\n    tox -egabbi -- <test pattern>\n\n  If this is done, all the tests prior to the one requested, from\n  its YAML file, will be run as ordered prerequisites.\n* tox targets that already run the tests in ceilometer/tests will\n  also discover gabbi tests. If there is no mongodb, they will\n  be skipped.\n\nA ConfigFixture does the necessary work of adjusting the configuration\nand pipeline to use the mongodb database and nothing else. An\ninternal InterceptFixture uses wsgi-intercept to access the\nceilometer API. Each yaml file has its own intercepted host.\n\nFixtures are implemented as nested context managers that are declared\nper YAML file, see ceilometer/gabbi/fixtures.py and fixtures-samples.yaml\nfor an example of how they can be used. Every yaml file uses at\nleast ConfigFixture.\n\nYAML files can use a variety of strategies for formatting requests\nand evaluating the correctness of response. See:\nhttp://gabbi.readthedocs.org/en/latest/format.html\n\nThe YAML files included here test simple API features for creating and\nretrieving samples. Subsequent patches can (and should) create\nadditional YAML files to describe more complex scenarios that cover\nthe entire API (for example alarms are not touched at all by this\npatch).\n\nChange-Id: I52551f88bc3beac4bf8a92afa45ac70cd97ffcec\nImplements: blueprint declarative-http-tests\n""}, {'number': 8, 'created': '2015-02-02 15:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9b647b5b212dbd40f1420bb49b98dd81a2eb9395', 'message': ""Declarative HTTP testing for the Ceilometer API\n\nA 'gabbi' tox target is added which runs a declarative HTTP tests\ndescribed in YAML files in 'ceilometer/tests/gabbi/gabbits' and loaded by\n'ceilometer/tests/gabbi/test_gabbi.py'. These are driven by the 'gabbi'\npython package (available from PyPI).\n\ntox and testr are configured to start and run the tests efficiently:\n\n* a mongodb server, using multiple databases, is made available\n* the API wsgi application is used directly via 'wsgi-intercept', no\n  web server required\n* each YAML file is run as a sequence and where number of processors\n  allows, in a different test process\n* individual tests can be requested in the usual way:\n\n    tox -egabbi -- <test pattern>\n\n  If this is done, all the tests prior to the one requested, from\n  its YAML file, will be run as ordered prerequisites.\n* tox targets that already run the tests in ceilometer/tests will\n  also discover gabbi tests. If there is no mongodb, they will\n  be skipped.\n\nA ConfigFixture does the necessary work of adjusting the configuration\nand pipeline to use the mongodb database and nothing else. An\ninternal InterceptFixture uses wsgi-intercept to access the\nceilometer API. Each yaml file has its own intercepted host.\n\nFixtures are implemented as nested context managers that are declared\nper YAML file, see ceilometer/gabbi/fixtures.py and fixtures-samples.yaml\nfor an example of how they can be used. Every yaml file uses at\nleast ConfigFixture.\n\nYAML files can use a variety of strategies for formatting requests\nand evaluating the correctness of response. See:\nhttp://gabbi.readthedocs.org/en/latest/format.html\n\nThe YAML files included here test simple API features for creating and\nretrieving samples. Subsequent patches can (and should) create\nadditional YAML files to describe more complex scenarios that cover\nthe entire API (for example alarms are not touched at all by this\npatch).\n\nChange-Id: I52551f88bc3beac4bf8a92afa45ac70cd97ffcec\nImplements: blueprint declarative-http-tests\n""}, {'number': 9, 'created': '2015-02-03 09:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/34530968cd9a5266d4477e039e4c47852fa1f430', 'message': ""Declarative HTTP testing for the Ceilometer API\n\nA 'gabbi' tox target is added which runs a declarative HTTP tests\ndescribed in YAML files in 'ceilometer/tests/gabbi/gabbits' and loaded by\n'ceilometer/tests/gabbi/test_gabbi.py'. These are driven by the 'gabbi'\npython package (available from PyPI).\n\ntox and testr are configured to start and run the tests efficiently:\n\n* a mongodb server, using multiple databases, is made available\n* the API wsgi application is used directly via 'wsgi-intercept', no\n  web server required\n* each YAML file is run as a sequence and where number of processors\n  allows, in a different test process\n* individual tests can be requested in the usual way:\n\n    tox -egabbi -- <test pattern>\n\n  If this is done, all the tests prior to the one requested, from\n  its YAML file, will be run as ordered prerequisites.\n* tox targets that already run the tests in ceilometer/tests will\n  also discover gabbi tests. If there is no mongodb, they will\n  be skipped.\n\nA ConfigFixture does the necessary work of adjusting the configuration\nand pipeline to use the mongodb database and nothing else. An\ninternal InterceptFixture uses wsgi-intercept to access the\nceilometer API. Each yaml file has its own intercepted host.\n\nFixtures are implemented as nested context managers that are declared\nper YAML file, see ceilometer/gabbi/fixtures.py and fixtures-samples.yaml\nfor an example of how they can be used. Every yaml file uses at\nleast ConfigFixture.\n\nYAML files can use a variety of strategies for formatting requests\nand evaluating the correctness of response. See:\nhttp://gabbi.readthedocs.org/en/latest/format.html\n\nThe YAML files included here test simple API features for creating and\nretrieving samples. Subsequent patches can (and should) create\nadditional YAML files to describe more complex scenarios that cover\nthe entire API (for example alarms are not touched at all by this\npatch).\n\nChange-Id: I52551f88bc3beac4bf8a92afa45ac70cd97ffcec\nImplements: blueprint declarative-http-tests\n""}, {'number': 10, 'created': '2015-02-03 13:03:48.000000000', 'files': ['doc/source/contributing/source.rst', 'test-requirements.txt', 'ceilometer/tests/gabbi/gabbits/clean-samples.yaml', 'ceilometer/tests/gabbi/gabbits/fixture-samples.yaml', 'ceilometer/tests/gabbi/fixtures.py', 'ceilometer/tests/gabbi/gabbits/capabilities.yaml', 'etc/ceilometer/gabbi_pipeline.yaml', '.testr.conf', 'ceilometer/tests/gabbi/test_gabbi.py', 'ceilometer/tests/gabbi/gabbits/basic.yaml', 'ceilometer/tests/gabbi/__init__.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/552c63849ed961035473bc8f72ed4bed1f5b2446', 'message': ""Declarative HTTP testing for the Ceilometer API\n\nA 'gabbi' tox target is added which runs a declarative HTTP tests\ndescribed in YAML files in 'ceilometer/tests/gabbi/gabbits' and loaded by\n'ceilometer/tests/gabbi/test_gabbi.py'. These are driven by the 'gabbi'\npython package (available from PyPI).\n\ntox and testr are configured to start and run the tests efficiently:\n\n* a mongodb server, using multiple databases, is made available\n* the API wsgi application is used directly via 'wsgi-intercept', no\n  web server required\n* each YAML file is run as a sequence and where number of processors\n  allows, in a different test process\n* individual tests can be requested in the usual way:\n\n    tox -egabbi -- <test pattern>\n\n  If this is done, all the tests prior to the one requested, from\n  its YAML file, will be run as ordered prerequisites.\n* tox targets that already run the tests in ceilometer/tests will\n  also discover gabbi tests. If there is no mongodb, they will\n  be skipped.\n\nA ConfigFixture does the necessary work of adjusting the configuration\nand pipeline to use the mongodb database and nothing else. An\ninternal InterceptFixture uses wsgi-intercept to access the\nceilometer API. Each yaml file has its own intercepted host.\n\nFixtures are implemented as nested context managers that are declared\nper YAML file, see ceilometer/gabbi/fixtures.py and fixtures-samples.yaml\nfor an example of how they can be used. Every yaml file uses at\nleast ConfigFixture.\n\nYAML files can use a variety of strategies for formatting requests\nand evaluating the correctness of response. See:\nhttp://gabbi.readthedocs.org/en/latest/format.html\n\nThe YAML files included here test simple API features for creating and\nretrieving samples. Subsequent patches can (and should) create\nadditional YAML files to describe more complex scenarios that cover\nthe entire API (for example alarms are not touched at all by this\npatch).\n\nChange-Id: I52551f88bc3beac4bf8a92afa45ac70cd97ffcec\nImplements: blueprint declarative-http-tests\n""}]",6,146187,552c63849ed961035473bc8f72ed4bed1f5b2446,54,9,10,11564,,,0,"Declarative HTTP testing for the Ceilometer API

A 'gabbi' tox target is added which runs a declarative HTTP tests
described in YAML files in 'ceilometer/tests/gabbi/gabbits' and loaded by
'ceilometer/tests/gabbi/test_gabbi.py'. These are driven by the 'gabbi'
python package (available from PyPI).

tox and testr are configured to start and run the tests efficiently:

* a mongodb server, using multiple databases, is made available
* the API wsgi application is used directly via 'wsgi-intercept', no
  web server required
* each YAML file is run as a sequence and where number of processors
  allows, in a different test process
* individual tests can be requested in the usual way:

    tox -egabbi -- <test pattern>

  If this is done, all the tests prior to the one requested, from
  its YAML file, will be run as ordered prerequisites.
* tox targets that already run the tests in ceilometer/tests will
  also discover gabbi tests. If there is no mongodb, they will
  be skipped.

A ConfigFixture does the necessary work of adjusting the configuration
and pipeline to use the mongodb database and nothing else. An
internal InterceptFixture uses wsgi-intercept to access the
ceilometer API. Each yaml file has its own intercepted host.

Fixtures are implemented as nested context managers that are declared
per YAML file, see ceilometer/gabbi/fixtures.py and fixtures-samples.yaml
for an example of how they can be used. Every yaml file uses at
least ConfigFixture.

YAML files can use a variety of strategies for formatting requests
and evaluating the correctness of response. See:
http://gabbi.readthedocs.org/en/latest/format.html

The YAML files included here test simple API features for creating and
retrieving samples. Subsequent patches can (and should) create
additional YAML files to describe more complex scenarios that cover
the entire API (for example alarms are not touched at all by this
patch).

Change-Id: I52551f88bc3beac4bf8a92afa45ac70cd97ffcec
Implements: blueprint declarative-http-tests
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/87/146187/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/gabbi/gabbits/fixture-samples.yaml', 'etc/ceilometer/gabbi_pipeline.yaml', 'ceilometer/gabbi/gabbits/basic.yaml', '.testr.conf', 'ceilometer/gabbi/gabbits/capabilities.yaml', 'ceilometer/gabbi/test_gabbi.py', 'ceilometer/gabbi/__init__.py', 'tox.ini', 'ceilometer/gabbi/gabbits/clean-samples.yaml', 'ceilometer/gabbi/fixtures.py']",10,9fdf2f901780d6c3e3945f6af024869705f6d3b0,bp/declarative-http-tests,"# # Copyright 2015 Red Hat. All Rights Reserved. # # Author: Chris Dent <chdent@redhat.com> # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Fixtures used during Gabbi-based test runs."""""" import datetime import random import uuid from gabbi import fixture from oslo.config import fixture as fixture_config from ceilometer.publisher import utils from ceilometer import sample from ceilometer import storage CONF = fixture_config.Config().conf class SampleDataFixture(fixture.GabbiFixture): """"""Instantiate some sample data for use in testing."""""" def start_fixture(self): """"""Create some samples."""""" self.conn = storage.get_connection_from_config(CONF) timestamp = datetime.datetime.utcnow() project_id = str(uuid.uuid4()) self.source = str(uuid.uuid4()) resource_metadata = {'farmed_by': 'nancy'} for name in ['cow', 'pig', 'sheep']: resource_metadata.update({'breed': name}), c = sample.Sample(name='livestock', type='gauge', unit='head', volume=int(10 * random.random()), user_id='farmerjon', project_id=project_id, resource_id=project_id, timestamp=timestamp, resource_metadata=resource_metadata, source=self.source, ) data = utils.meter_message_from_counter( c, CONF.publisher.metering_secret) self.conn.record_metering_data(data) def stop_fixture(self): """"""Destroy the samples."""""" # NOTE(chdent): print here for sake of info during testing. # This will go away eventually. print('resource', self.conn.db.resource.remove({'source': self.source})) print('meter', self.conn.db.meter.remove({'source': self.source})) ",,301,1
openstack%2Fnova~master~I8fb0f3a2a00a0750227d4a796e23d8b0d2625b1d,openstack/nova,master,I8fb0f3a2a00a0750227d4a796e23d8b0d2625b1d,libvirt: Support iSCSI live migration for different iSCSI target,MERGED,2014-11-26 20:26:04.000000000,2015-02-03 17:44:29.000000000,2015-02-03 17:44:26.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 9008}, {'_account_id': 9176}, {'_account_id': 9578}, {'_account_id': 10115}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-11-26 20:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5dfab302ae17e31803c8476d690cc50280f8235', 'message': ""Support iSCSI live migration for different iSCSI target\n\nCurrently, Nova premises a situation which iSCSI target is not changed\nbefore and after live migration. Therefore, if destination node has\ndifferent iSCSI target, the live migration fails in current Nova's\nspecification. However, if each compute node uses same iSCSI target,\neach compute node recognizes all volumes in the iSCSI target and this\nis undesirable situation from the view point of security.\n\nTherefore, this spec proposes to support live migration of instances with\nCinder volumes among compute nodes that need to log into different\niSCSI targets to access the volumes.\n\nFor your reference, if iSCSI storages have features to manage visibility\nof LUNs for each initiator within one iSCSI target, using same iSCSI\ntarget for each compute node is not a problem. But general iSCSI storages\ndon't have such kind features, therefore they need this feature to\nsupport live migration.\n\nBlueprint iscsi-live-migration-different-target\nChange-Id: I8fb0f3a2a00a0750227d4a796e23d8b0d2625b1d\n""}, {'number': 2, 'created': '2014-12-02 15:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3a4512b44dc24c4b8f714bccfd185632a8b1026', 'message': ""libvirt: Support iSCSI live migration for different iSCSI target\n\nCurrently, Nova premises a situation which iSCSI target is not changed\nbefore and after live migration. Therefore, if destination node has\ndifferent iSCSI target, the live migration fails in current Nova's\nspecification. However, if each compute node uses same iSCSI target,\neach compute node recognizes all volumes in the iSCSI target and this\nis undesirable situation from the view point of security.\n\nTherefore, this spec proposes to support live migration of instances with\nCinder volumes among compute nodes that need to log into different\niSCSI targets to access the volumes.\n\nFor your reference, if iSCSI storages have features to manage visibility\nof LUNs for each initiator within one iSCSI target, using same iSCSI\ntarget for each compute node is not a problem. But general iSCSI storages\ndon't have such kind features, therefore they need this feature to\nsupport live migration.\n\nBlueprint iscsi-live-migration-different-target\nChange-Id: I8fb0f3a2a00a0750227d4a796e23d8b0d2625b1d\n""}, {'number': 3, 'created': '2015-01-12 21:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c04bc0b71371581790f83ce8036f98594823a135', 'message': ""libvirt: Support iSCSI live migration for different iSCSI target\n\nCurrently, Nova premises a situation which iSCSI target is not changed\nbefore and after live migration. Therefore, if destination node has\ndifferent iSCSI target, the live migration fails in current Nova's\nspecification. However, if each compute node uses same iSCSI target,\neach compute node recognizes all volumes in the iSCSI target and this\nis undesirable situation from the view point of security.\n\nTherefore, this spec proposes to support live migration of instances with\nCinder volumes among compute nodes that need to log into different\niSCSI targets to access the volumes.\n\nFor your reference, if iSCSI storages have features to manage visibility\nof LUNs for each initiator within one iSCSI target, using same iSCSI\ntarget for each compute node is not a problem. But general iSCSI storages\ndon't have such kind features, therefore they need this feature to\nsupport live migration.\n\nBlueprint iscsi-live-migration-different-target\nChange-Id: I8fb0f3a2a00a0750227d4a796e23d8b0d2625b1d\n""}, {'number': 4, 'created': '2015-01-20 22:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f139c7698c895affb2ceb24b54337ca7f8e4216', 'message': ""libvirt: Support iSCSI live migration for different iSCSI target\n\nCurrently, Nova premises a situation which iSCSI target is not changed\nbefore and after live migration. Therefore, if destination node has\ndifferent iSCSI target, the live migration fails in current Nova's\nspecification. However, if each compute node uses same iSCSI target,\neach compute node recognizes all volumes in the iSCSI target and this\nis undesirable situation from the view point of security.\n\nTherefore, this spec proposes to support live migration of instances with\nCinder volumes among compute nodes that need to log into different\niSCSI targets to access the volumes.\n\nFor your reference, if iSCSI storages have features to manage visibility\nof LUNs for each initiator within one iSCSI target, using same iSCSI\ntarget for each compute node is not a problem. But general iSCSI storages\ndon't have such kind features, therefore they need this feature to\nsupport live migration.\n\nBlueprint iscsi-live-migration-different-target\nChange-Id: I8fb0f3a2a00a0750227d4a796e23d8b0d2625b1d\n""}, {'number': 5, 'created': '2015-01-23 00:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72b71c1a197c664155cc9baa3a6e6a691e81b023', 'message': ""libvirt: Support iSCSI live migration for different iSCSI target\n\nCurrently, Nova premises a situation which iSCSI target is not changed\nbefore and after live migration. Therefore, if destination node has\ndifferent iSCSI target, the live migration fails in current Nova's\nspecification. However, if each compute node uses same iSCSI target,\neach compute node recognizes all volumes in the iSCSI target and this\nis undesirable situation from the view point of security.\n\nTherefore, this spec proposes to support live migration of instances with\nCinder volumes among compute nodes that need to log into different\niSCSI targets to access the volumes.\n\nFor your reference, if iSCSI storages have features to manage visibility\nof LUNs for each initiator within one iSCSI target, using same iSCSI\ntarget for each compute node is not a problem. But general iSCSI storages\ndon't have such kind features, therefore they need this feature to\nsupport live migration.\n\nBlueprint iscsi-live-migration-different-target\nChange-Id: I8fb0f3a2a00a0750227d4a796e23d8b0d2625b1d\n""}, {'number': 6, 'created': '2015-01-28 03:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/820e2c97a7cd9f682f9eda1f53bbac096e486551', 'message': ""libvirt: Support iSCSI live migration for different iSCSI target\n\nCurrently, Nova premises a situation which iSCSI target is not changed\nbefore and after live migration. Therefore, if destination node has\ndifferent iSCSI target, the live migration fails in current Nova's\nspecification. However, if each compute node uses same iSCSI target,\neach compute node recognizes all volumes in the iSCSI target and this\nis undesirable situation from the view point of security.\n\nTherefore, this spec proposes to support live migration of instances with\nCinder volumes among compute nodes that need to log into different\niSCSI targets to access the volumes.\n\nFor your reference, if iSCSI storages have features to manage visibility\nof LUNs for each initiator within one iSCSI target, using same iSCSI\ntarget for each compute node is not a problem. But general iSCSI storages\ndon't have such kind features, therefore they need this feature to\nsupport live migration.\n\nBlueprint iscsi-live-migration-different-target\nChange-Id: I8fb0f3a2a00a0750227d4a796e23d8b0d2625b1d\n""}, {'number': 7, 'created': '2015-01-30 00:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa8d1180fe6b33cfc802bf9c48435a74bd5795f9', 'message': ""libvirt: Support iSCSI live migration for different iSCSI target\n\nCurrently, Nova premises a situation which iSCSI target is not changed\nbefore and after live migration. Therefore, if destination node has\ndifferent iSCSI target, the live migration fails in current Nova's\nspecification. However, if each compute node uses same iSCSI target,\neach compute node recognizes all volumes in the iSCSI target and this\nis undesirable situation from the view point of security.\n\nTherefore, this spec proposes to support live migration of instances with\nCinder volumes among compute nodes that need to log into different\niSCSI targets to access the volumes.\n\nFor your reference, if iSCSI storages have features to manage visibility\nof LUNs for each initiator within one iSCSI target, using same iSCSI\ntarget for each compute node is not a problem. But general iSCSI storages\ndon't have such kind features, therefore they need this feature to\nsupport live migration.\n\nBlueprint iscsi-live-migration-different-target\nChange-Id: I8fb0f3a2a00a0750227d4a796e23d8b0d2625b1d\n""}, {'number': 8, 'created': '2015-01-30 01:31:18.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/152fb73a341558e45e891deb88ac3ca98afb4d2d', 'message': ""libvirt: Support iSCSI live migration for different iSCSI target\n\nCurrently, Nova premises a situation which iSCSI target is not changed\nbefore and after live migration. Therefore, if destination node has\ndifferent iSCSI target, the live migration fails in current Nova's\nspecification. However, if each compute node uses same iSCSI target,\neach compute node recognizes all volumes in the iSCSI target and this\nis undesirable situation from the view point of security.\n\nTherefore, this spec proposes to support live migration of instances with\nCinder volumes among compute nodes that need to log into different\niSCSI targets to access the volumes.\n\nFor your reference, if iSCSI storages have features to manage visibility\nof LUNs for each initiator within one iSCSI target, using same iSCSI\ntarget for each compute node is not a problem. But general iSCSI storages\ndon't have such kind features, therefore they need this feature to\nsupport live migration.\n\nBlueprint iscsi-live-migration-different-target\nChange-Id: I8fb0f3a2a00a0750227d4a796e23d8b0d2625b1d\n""}]",22,137466,152fb73a341558e45e891deb88ac3ca98afb4d2d,92,14,8,10115,,,0,"libvirt: Support iSCSI live migration for different iSCSI target

Currently, Nova premises a situation which iSCSI target is not changed
before and after live migration. Therefore, if destination node has
different iSCSI target, the live migration fails in current Nova's
specification. However, if each compute node uses same iSCSI target,
each compute node recognizes all volumes in the iSCSI target and this
is undesirable situation from the view point of security.

Therefore, this spec proposes to support live migration of instances with
Cinder volumes among compute nodes that need to log into different
iSCSI targets to access the volumes.

For your reference, if iSCSI storages have features to manage visibility
of LUNs for each initiator within one iSCSI target, using same iSCSI
target for each compute node is not a problem. But general iSCSI storages
don't have such kind features, therefore they need this feature to
support live migration.

Blueprint iscsi-live-migration-different-target
Change-Id: I8fb0f3a2a00a0750227d4a796e23d8b0d2625b1d
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/137466/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,a5dfab302ae17e31803c8476d690cc50280f8235,bp/iscsi-live-migration-different-target," @mock.patch.object(libvirt, 'VIR_DOMAIN_XML_MIGRATABLE', 8675, create=True) def test_live_migration_update_migrate_target(self): self.compute = importutils.import_object(CONF.compute_manager) instance_dict = dict(self.test_instance) instance_dict.update({'host': 'fake', 'power_state': power_state.RUNNING, 'vm_state': vm_states.ACTIVE}) instance_ref = objects.Instance(**instance_dict) xml_tmpl = (""<domain type='kvm'>"" ""<devices>"" ""<disk type='block' device='disk'>"" ""<driver name='qemu' type='raw' cache='none'/>"" ""<source dev='{device_path}'/>"" ""<target bus='virtio' dev='vdb'/>"" ""<serial>58a84f6d-3f0c-4e19-a0af-eb657b790657</serial>"" ""<address type='pci' domain='0x0' bus='0x0' slot='0x04' "" ""function='0x0'/>"" ""</disk>"" ""</devices>"" ""</domain>"") initial_xml = xml_tmpl.format(device_path='/dev/disk/by-path/' 'ip-1.2.3.4:3260-iqn.' 'abc.12345.opst-lun-X') target_xml = xml_tmpl.format(device_path='/dev/disk/by-path/' 'ip-1.2.3.4:3260-iqn.' 'cde.67890.opst-lun-Z') target_xml = etree.tostring(etree.fromstring(target_xml), pretty_print=True) # Preparing mocks vdmock = self.mox.CreateMock(libvirt.virDomain) self.mox.StubOutWithMock(vdmock, ""migrateToURI2"") _bandwidth = CONF.libvirt.live_migration_bandwidth vdmock.XMLDesc(libvirt.VIR_DOMAIN_XML_MIGRATABLE).AndReturn( initial_xml) vdmock.migrateToURI2(CONF.libvirt.live_migration_uri % 'dest', None, target_xml, mox.IgnoreArg(), None, _bandwidth).AndRaise(libvirt.libvirtError(""ERR"")) def fake_lookup(instance_name): if instance_name == instance_ref['name']: return vdmock self.create_fake_libvirt_mock(lookupByName=fake_lookup) self.mox.StubOutWithMock(self.compute, ""_rollback_live_migration"") self.compute._rollback_live_migration(self.context, instance_ref, 'dest', False) # start test migrate_data = {'pre_live_migration_result': {'volume': {u'58a84f6d-3f0c-4e19-a0af-eb657b790657': {'connection_info': {u'driver_volume_type': u'iscsi', 'serial': u'58a84f6d-3f0c-4e19-a0af-eb657b790657', u'data': {u'access_mode': u'rw', u'target_discovered': False, u'target_iqn': u'ip-1.2.3.4:3260-iqn.cde.67890.opst-lun-Z', u'volume_id': u'58a84f6d-3f0c-4e19-a0af-eb657b790657', 'device_path': u'/dev/disk/by-path/ip-1.2.3.4:3260-iqn.cde.67890.opst-lun-Z'}}, 'disk_info': {'bus': u'virtio', 'type': u'disk', 'dev': u'vdb'}}}}, 'graphics_listen_addrs': {'vnc': '127.0.0.1', 'spice': '127.0.0.1'}} conf = vconfig.LibvirtConfigGuestDisk() conf.source_device = u'disk' conf.driver_name = ""qemu"" conf.driver_format = ""raw"" conf.driver_cache = ""none"" conf.target_dev = u'vdb' conf.target_bus = u'virtio' conf.serial = u'58a84f6d-3f0c-4e19-a0af-eb657b790657' conf.source_type = ""block"" conf.source_path = \ u'/dev/disk/by-path/ip-1.2.3.4:3260-iqn.cde.67890.opst-lun-Z' conn = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) with mock.patch.object(conn, '_get_volume_config', return_value=conf): self.mox.ReplayAll() self.assertRaises(libvirt.libvirtError, conn._live_migration, self.context, instance_ref, 'dest', False, self.compute._rollback_live_migration, migrate_data=migrate_data) def test_update_migrate_target(self): conn = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) xml_tmpl = (""<domain type='kvm'>"" ""<devices>"" ""<disk type='block' device='disk'>"" ""<driver name='qemu' type='raw' cache='none'/>"" ""<source dev='{device_path}'/>"" ""<target bus='virtio' dev='vdb'/>"" ""<serial>58a84f6d-3f0c-4e19-a0af-eb657b790657</serial>"" ""<address type='pci' domain='0x0' bus='0x0' slot='0x04' "" ""function='0x0'/>"" ""</disk>"" ""</devices>"" ""</domain>"") initial_xml = xml_tmpl.format(device_path='/dev/disk/by-path/' 'ip-1.2.3.4:3260-iqn.' 'abc.12345.opst-lun-X') target_xml = xml_tmpl.format(device_path='/dev/disk/by-path/' 'ip-1.2.3.4:3260-iqn.' 'cde.67890.opst-lun-Z') target_xml = etree.tostring(etree.fromstring(target_xml), pretty_print=True) serial = ""58a84f6d-3f0c-4e19-a0af-eb657b790657"" volume_xml = {'volume': {}} volume_xml['volume'][serial] = {'connection_info': {}, 'disk_info': {}} volume_xml['volume'][serial]['connection_info'] = \ {u'driver_volume_type': u'iscsi', 'serial': u'58a84f6d-3f0c-4e19-a0af-eb657b790657', u'data': {u'access_mode': u'rw', u'target_discovered': False, u'target_iqn': u'ip-1.2.3.4:3260-iqn.cde.67890.opst-lun-Z', u'volume_id': u'58a84f6d-3f0c-4e19-a0af-eb657b790657', 'device_path': u'/dev/disk/by-path/ip-1.2.3.4:3260-iqn.cde.67890.opst-lun-Z'}} volume_xml['volume'][serial]['disk_info'] = \ {'bus': u'virtio', 'type': u'disk', 'dev': u'vdb'} connection_info = volume_xml['volume'][serial]['connection_info'] disk_info = volume_xml['volume'][serial]['disk_info'] conf = vconfig.LibvirtConfigGuestDisk() conf.source_device = disk_info['type'] conf.driver_name = ""qemu"" conf.driver_format = ""raw"" conf.driver_cache = ""none"" conf.target_dev = disk_info['dev'] conf.target_bus = disk_info['bus'] conf.serial = connection_info.get('serial') conf.source_type = ""block"" conf.source_path = connection_info['data'].get('device_path') with mock.patch.object(conn, '_get_volume_config', return_value=conf): config = conn._update_migrate_target(initial_xml, volume_xml['volume']) self.assertEqual(target_xml, config) {'connection_info': {'serial': '12345', u'data': {'device_path': u'/dev/disk/by-path/ip-1.2.3.4:3260-iqn.abc.12345.opst-lun-X'}}, 'mount_device': '/dev/sda'}, {'connection_info': {'serial': '67890', u'data': {'device_path': u'/dev/disk/by-path/ip-1.2.3.4:3260-iqn.cde.67890.opst-lun-Z'}}, 'mount_device': '/dev/sdb'}]} target_ret = { 'graphics_listen_addrs': {'spice': '127.0.0.1', 'vnc': '127.0.0.1'}, 'volume': { '12345': {'connection_info': {u'data': {'device_path': u'/dev/disk/by-path/ip-1.2.3.4:3260-iqn.abc.12345.opst-lun-X'}, 'serial': '12345'}, 'disk_info': {'bus': 'scsi', 'dev': 'sda', 'type': 'disk'}}, '67890': {'connection_info': {u'data': {'device_path': u'/dev/disk/by-path/ip-1.2.3.4:3260-iqn.cde.67890.opst-lun-Z'}, 'serial': '67890'}, 'disk_info': {'bus': 'scsi', 'dev': 'sdb', 'type': 'disk'}}}} self.assertEqual(result, target_ret) {'connection_info': {'serial': '12345', u'data': {'device_path': u'/dev/disk/by-path/ip-1.2.3.4:3260-iqn.abc.12345.opst-lun-X'}}, 'mount_device': '/dev/sda'}, {'connection_info': {'serial': '67890', u'data': {'device_path': u'/dev/disk/by-path/ip-1.2.3.4:3260-iqn.cde.67890.opst-lun-Z'}}, 'mount_device': '/dev/sdb'}]} target_ret = { 'graphics_listen_addrs': {'spice': '127.0.0.1', 'vnc': '127.0.0.1'}, 'volume': { '12345': {'connection_info': {u'data': {'device_path': u'/dev/disk/by-path/ip-1.2.3.4:3260-iqn.abc.12345.opst-lun-X'}, 'serial': '12345'}, 'disk_info': {'bus': 'scsi', 'dev': 'sda', 'type': 'disk'}}, '67890': {'connection_info': {u'data': {'device_path': u'/dev/disk/by-path/ip-1.2.3.4:3260-iqn.cde.67890.opst-lun-Z'}, 'serial': '67890'}, 'disk_info': {'bus': 'scsi', 'dev': 'sdb', 'type': 'disk'}}}}"," {'connection_info': 'dummy', 'mount_device': '/dev/sda'}, {'connection_info': 'dummy', 'mount_device': '/dev/sdb'}]} target_res = {'graphics_listen_addrs': {'spice': '127.0.0.1', 'vnc': '127.0.0.1'}} self.assertEqual(result, target_res) {'connection_info': 'dummy', 'mount_device': '/dev/sda'}, {'connection_info': 'dummy', 'mount_device': '/dev/sdb'}]} target_ret = {'graphics_listen_addrs': {'spice': '127.0.0.1', 'vnc': '127.0.0.1'}}",265,13
openstack%2Fneutron~master~I1864c0882cda7eddc9ced519ed3f96c91b2b63f3,openstack/neutron,master,I1864c0882cda7eddc9ced519ed3f96c91b2b63f3,Allow port mac_address to be modified,MERGED,2014-08-05 20:17:00.000000000,2015-02-03 17:37:43.000000000,2015-02-03 17:37:40.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 333}, {'_account_id': 642}, {'_account_id': 704}, {'_account_id': 748}, {'_account_id': 1653}, {'_account_id': 1689}, {'_account_id': 2031}, {'_account_id': 2888}, {'_account_id': 4395}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 5217}, {'_account_id': 6502}, {'_account_id': 6524}, {'_account_id': 6598}, {'_account_id': 6659}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 7293}, {'_account_id': 7448}, {'_account_id': 8124}, {'_account_id': 8645}, {'_account_id': 8788}, {'_account_id': 9008}, {'_account_id': 9093}, {'_account_id': 9361}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9911}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10354}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 10980}, {'_account_id': 11208}, {'_account_id': 12040}, {'_account_id': 12444}, {'_account_id': 12737}, {'_account_id': 13051}, {'_account_id': 14103}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-08-05 20:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d52d440f3eb9d0581056033ae027009fd3e9bcf', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\nCloses-Bug: 1341268\n'}, {'number': 2, 'created': '2014-08-06 18:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3790d33acb5a0d74250647a2a5e42f305b39e6f8', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\nCloses-Bug: 1341268\n'}, {'number': 3, 'created': '2014-08-28 15:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/795e74e3b6bee9b1ec73d2fb56fbdfb5f9333c45', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\nCloses-Bug: 1341268\n'}, {'number': 4, 'created': '2014-08-28 18:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa2d9e47aed3370316f100f0a38606684eef707e', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\nCloses-Bug: 1341268\n'}, {'number': 5, 'created': '2014-09-05 20:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c52a5e7a39c17398765570d222c4d90d86e0ec5', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\nCloses-Bug: 1341268\n'}, {'number': 6, 'created': '2014-09-16 05:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e6602cbb0f7d668688ae30f3941a634f829bbed6', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\nCloses-Bug: 1341268\n'}, {'number': 7, 'created': '2014-09-18 07:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/187cf065bfece838a3747477e8badfa1657ba817', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\nCloses-Bug: 1341268\n'}, {'number': 8, 'created': '2014-09-22 16:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa4648e53b59db18ceb960e01f676338a8b7d692', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\nCloses-Bug: #1341268\n'}, {'number': 9, 'created': '2014-09-22 16:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c86aa65c2baac7767187c4aba68f420c11c25e10', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\nCloses-Bug: #1341268\n'}, {'number': 10, 'created': '2014-09-23 19:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/798370e7e4b2d56cea01c669e620b62f21820b43', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\nCloses-Bug: #1341268\n'}, {'number': 11, 'created': '2014-09-25 20:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e03d9325e5f7f4cac5cc57cae29f7fbe923ceb5d', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\nCloses-Bug: #1341268\n'}, {'number': 12, 'created': '2014-10-06 20:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9a9710fb148a16f26a8a964b54b66b2de699cc5c', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\nCloses-Bug: #1341268\n'}, {'number': 13, 'created': '2014-10-07 19:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d89d32a6a48dd0876e69c3ebb5eaf9f9a4f1464', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\nCloses-Bug: #1341268\n'}, {'number': 14, 'created': '2014-10-07 19:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f40ef11c54303ea8897a7261a8bfaa23ebf6b669', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\nCloses-Bug: #1341268\n'}, {'number': 15, 'created': '2014-10-08 00:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb59a84bf9926f63bf5d9029a11d7cc5f23f9e58', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\nCloses-Bug: #1341268\n'}, {'number': 16, 'created': '2014-10-18 01:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c7300fe17a3cd25c609300a1426c5d3c3f34230', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\nCloses-Bug: #1341268\nDocImpact: minor port update api change\n'}, {'number': 17, 'created': '2014-10-23 22:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4de9fab1e64ef421de9b237149cdc1a46776d4b8', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nCloses-Bug: #1341268\nPartially-implements: blueprint allow-mac-to-be-updated\nDocImpact: minor port update api change\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\n'}, {'number': 18, 'created': '2014-10-25 23:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f3099fd873a95702496d0fd941c4be92f783666a', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nThis change enables this feature in the ml2 plugin.  There may need to\nbe changes to other plugins to disable or complete the implementation of\nthis feature.\n\nCloses-Bug: #1341268\nPartially-implements: blueprint allow-mac-to-be-updated\nDocImpact: minor port update api change\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\n'}, {'number': 19, 'created': '2014-11-11 22:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d5ca759f6643e2fcd41eef0f3ae79bb04124e444', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nThis change enables this feature in the ml2 plugin.  There may need to\nbe changes to other plugins to disable or complete the implementation of\nthis feature.\n\nCloses-Bug: #1341268\nPartially-implements: blueprint allow-mac-to-be-updated\nDocImpact: minor port update api change\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\n'}, {'number': 20, 'created': '2014-11-19 00:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c6b6e6b4a16ad57ce036bfd0cbe24c0e37bc0d1', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nThis change enables this feature in the ml2 plugin.  There may need to\nbe changes to other plugins to disable or complete the implementation of\nthis feature.\n\nCloses-Bug: #1341268\nPartially-implements: blueprint allow-mac-to-be-updated\nDocImpact: minor port update api change\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\n'}, {'number': 21, 'created': '2014-11-19 01:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/98d49ab5b61ff4ce3f938e12490bd25ba21e59d4', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nThis change enables this feature in the ml2 plugin.  There may need to\nbe changes to other plugins to disable or complete the implementation of\nthis feature.\n\nCloses-Bug: #1341268\nPartially-implements: blueprint allow-mac-to-be-updated\nDocImpact: minor port update api change\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\n'}, {'number': 22, 'created': '2014-11-21 23:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c3b1355e925a707aae6ea0dd86283b71c7fb14e5', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nThis change enables this feature in the ml2 plugin.  There may need to\nbe changes to other plugins to disable or complete the implementation of\nthis feature.\n\nCloses-Bug: #1341268\nPartially-implements: blueprint allow-mac-to-be-updated\nDocImpact: minor port update api change\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\n'}, {'number': 23, 'created': '2014-11-22 00:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5536d61d1b004c464290fa95cf16e0396e093820', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nThis change enables this feature in the ml2 plugin.  There may need to\nbe changes to other plugins to disable or complete the implementation of\nthis feature.\n\nCloses-Bug: #1341268\nPartially-implements: blueprint allow-mac-to-be-updated\nDocImpact: minor port update api change\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\n'}, {'number': 24, 'created': '2014-11-22 00:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/53f751dbb3ac0668448190b360cf9d2ca2590f30', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nThis change enables this feature in the ml2 plugin.  There may need to\nbe changes to other plugins to disable or complete the implementation of\nthis feature.\n\nCloses-Bug: #1341268\nPartially-implements: blueprint allow-mac-to-be-updated\nDocImpact: minor port update api change\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\n'}, {'number': 25, 'created': '2014-11-24 23:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/264b36771cace8f7fb289242894e2cf689664618', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nThis change enables this feature in the ml2 plugin.  There may need to\nbe changes to other plugins to disable or complete the implementation of\nthis feature.\n\nCloses-Bug: #1341268\nPartially-implements: blueprint allow-mac-to-be-updated\nAPIImpact: Ports\nDocImpact: minor port update api change\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\n'}, {'number': 26, 'created': '2014-11-25 15:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5bbe84cab7466c12b7deefc9669eb11775d75713', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nThis change enables this feature in the ml2 plugin.  There may need to\nbe changes to other plugins to disable or complete the implementation of\nthis feature.\n\nCloses-Bug: #1341268\nPartially-implements: blueprint allow-mac-to-be-updated\nAPIImpact: Ports\nDocImpact: minor port update api change\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\n'}, {'number': 27, 'created': '2014-12-18 16:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/78f59a5378b7c0646af45d7e045f6de913d1a466', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nThis change enables this feature in the ml2 plugin.  There may need to\nbe changes to other plugins to disable or complete the implementation of\nthis feature.\n\nCloses-Bug: #1341268\nPartially-implements: blueprint allow-mac-to-be-updated\nAPIImpact: Ports\nDocImpact: minor port update api change\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\n'}, {'number': 28, 'created': '2014-12-19 07:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b5193a1da7796675621deeee000ad277dea67637', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nThis change enables this feature in the ml2 plugin.  There may need to\nbe changes to other plugins to disable or complete the implementation of\nthis feature.\n\nCloses-Bug: #1341268\nPartially-implements: blueprint allow-mac-to-be-updated\nAPIImpact: Ports\nDocImpact: minor port update api change\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\n'}, {'number': 29, 'created': '2014-12-19 22:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1c54393b85d82d8697bad1aeacdc5523d8c0a31b', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nThis change enables this feature in the ml2 plugin.  There may need to\nbe changes to other plugins to disable or complete the implementation of\nthis feature.\n\nCloses-Bug: #1341268\nPartially-implements: blueprint allow-mac-to-be-updated\nAPIImpact: Ports\nDocImpact: minor port update api change\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\n'}, {'number': 30, 'created': '2015-01-06 08:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb20ec4e2916d2df7bb9e17d01bec1f6dcc11c46', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nThis change enables this feature in the ml2 plugin.  There may need to\nbe changes to other plugins to disable or complete the implementation of\nthis feature.\n\nCloses-Bug: #1341268\nPartially-implements: blueprint allow-mac-to-be-updated\nAPIImpact: Ports\nDocImpact: minor port update api change\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\n'}, {'number': 31, 'created': '2015-01-14 22:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/260f5eb09440ac1029ba96ed6dc39f8f3a9ae020', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nThis change enables this feature in the ml2 plugin.  There may need to\nbe changes to other plugins to disable or complete the implementation of\nthis feature.\n\nCloses-Bug: #1341268\nPartially-implements: blueprint allow-mac-to-be-updated\nAPIImpact: Ports\nDocImpact: minor port update api change\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\n'}, {'number': 32, 'created': '2015-01-22 18:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd61d26691a6ce7b5d37cb68aa149ed187c2f9b1', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nThis change enables this feature in the ml2 plugin.  There may need to\nbe changes to other plugins to disable or complete the implementation of\nthis feature.\n\nCloses-Bug: #1341268\nPartially-implements: blueprint allow-mac-to-be-updated\nAPIImpact: Ports\nDocImpact: minor port update api change\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\n'}, {'number': 33, 'created': '2015-01-22 18:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d3c10181833f16e67bf488b9ebe6d560c0bbd299', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nThis change enables this feature in the ml2 plugin.  There may need to\nbe changes to other plugins to disable or complete the implementation of\nthis feature.\n\nCloses-Bug: #1341268\nPartially-implements: blueprint allow-mac-to-be-updated\nAPIImpact: Ports\nDocImpact: minor port update api change\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\n'}, {'number': 34, 'created': '2015-01-23 16:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/54c1d245d91210715dd173fd19b5bb2db3b5ca40', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nThis change enables this feature in the ml2 plugin.  There may need to\nbe changes to other plugins to disable or complete the implementation of\nthis feature.\n\nCloses-Bug: #1341268\nPartially-implements: blueprint allow-mac-to-be-updated\nAPIImpact: Ports\nDocImpact: minor port update api change\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\n'}, {'number': 35, 'created': '2015-01-27 19:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c2c4247d770a683a45510732aaa8b93961b23d0', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nThis change enables this feature in the ml2 plugin.  There may need to\nbe changes to other plugins to disable or complete the implementation of\nthis feature.\n\nCloses-Bug: #1341268\nPartially-implements: blueprint allow-mac-to-be-updated\nAPIImpact: Ports\nDocImpact: minor port update api change\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\n'}, {'number': 36, 'created': '2015-01-27 19:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e781f5f64b3910b7ffa936d9ce27e2696cf094bc', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nThis change enables this feature in the ml2 plugin.  There may need to\nbe changes to other plugins to disable or complete the implementation of\nthis feature.\n\nCloses-Bug: #1341268\nPartially-implements: blueprint allow-mac-to-be-updated\nAPIImpact: Ports\nDocImpact: minor port update api change\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\n'}, {'number': 37, 'created': '2015-01-27 21:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f028a280de9b998601b5d7d6812db44fa0297976', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nThis change enables this feature in the ml2 plugin.  There may need to\nbe changes to other plugins to disable or complete the implementation of\nthis feature.\n\nCloses-Bug: #1341268\nPartially-implements: blueprint allow-mac-to-be-updated\nAPIImpact: Ports\nDocImpact: minor port update api change\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\n'}, {'number': 38, 'created': '2015-01-29 23:03:22.000000000', 'files': ['neutron/plugins/ml2/drivers/l2pop/mech_driver.py', 'neutron/tests/unit/ml2/test_ml2_plugin.py', 'neutron/tests/unit/test_db_plugin.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/tests/unit/ml2/drivers/cisco/nexus/test_cisco_mech.py', 'neutron/tests/unit/ml2/drivers/test_l2population.py', 'neutron/plugins/ml2/drivers/brocade/mechanism_brocade.py', 'neutron/tests/unit/opencontrail/test_contrail_plugin.py', 'neutron/plugins/ml2/plugin.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/api/v2/attributes.py', 'etc/policy.json', 'neutron/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cf99eb988e05c56d3842ac388dfe9ada5aa8af86', 'message': 'Allow port mac_address to be modified\n\nWith ironic servers, a NIC can fail and be replaced with one that has a\ndifferent mac.  The corresponding neutron port needs to be updated with\nthe new mac address so the NIC can be guaranteed to retain the same IP\naddress.\n\nThis change enables this feature in the ml2 plugin.  There may need to\nbe changes to other plugins to disable or complete the implementation of\nthis feature.\n\nCloses-Bug: #1341268\nPartially-implements: blueprint allow-mac-to-be-updated\nAPIImpact: Ports\nDocImpact: minor port update api change\nChange-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3\n'}]",183,112129,cf99eb988e05c56d3842ac388dfe9ada5aa8af86,925,60,38,9093,,,0,"Allow port mac_address to be modified

With ironic servers, a NIC can fail and be replaced with one that has a
different mac.  The corresponding neutron port needs to be updated with
the new mac address so the NIC can be guaranteed to retain the same IP
address.

This change enables this feature in the ml2 plugin.  There may need to
be changes to other plugins to disable or complete the implementation of
this feature.

Closes-Bug: #1341268
Partially-implements: blueprint allow-mac-to-be-updated
APIImpact: Ports
DocImpact: minor port update api change
Change-Id: I1864c0882cda7eddc9ced519ed3f96c91b2b63f3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/112129/38 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_rpc_base.py', 'neutron/api/v2/attributes.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/openvswitch/test_openvswitch_plugin.py']",4,0d52d440f3eb9d0581056033ae027009fd3e9bcf,bp/allow-mac-to-be-updated," ""mac_address"": ""fake_mac"", ""mac_address"": ""fake_mac"",",,7,1
openstack%2Foslosphinx~master~I3db26daee17f61c6c9fe5a2f59ec5b2426eaef61,openstack/oslosphinx,master,I3db26daee17f61c6c9fe5a2f59ec5b2426eaef61,Add missing simplejson requirement,ABANDONED,2015-02-02 17:59:19.000000000,2015-02-03 17:36:15.000000000,,"[{'_account_id': 3}, {'_account_id': 1669}]","[{'number': 1, 'created': '2015-02-02 17:59:19.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslosphinx/commit/4ed6fc06819ab62e62308876b4a0774a585cfa45', 'message': 'Add missing simplejson requirement\n\nThe blueprint checking extension needs simplejson.\n\nChange-Id: I3db26daee17f61c6c9fe5a2f59ec5b2426eaef61\n'}]",0,152214,4ed6fc06819ab62e62308876b4a0774a585cfa45,4,2,1,2472,,,0,"Add missing simplejson requirement

The blueprint checking extension needs simplejson.

Change-Id: I3db26daee17f61c6c9fe5a2f59ec5b2426eaef61
",git fetch https://review.opendev.org/openstack/oslosphinx refs/changes/14/152214/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,4ed6fc06819ab62e62308876b4a0774a585cfa45,bp/checking,simplejson>=2.2.0,,1,0
openstack%2Fsolum~master~Id22e68dd8907b7807eb5c3453be7643ede3e9e84,openstack/solum,master,Id22e68dd8907b7807eb5c3453be7643ede3e9e84,Support for languagepack list and show,MERGED,2015-02-03 05:59:46.000000000,2015-02-03 17:33:33.000000000,2015-02-03 17:33:32.000000000,"[{'_account_id': 3}, {'_account_id': 1375}, {'_account_id': 2506}, {'_account_id': 9095}]","[{'number': 1, 'created': '2015-02-03 05:59:46.000000000', 'files': ['solum/builder/controllers/v1/image.py', 'solum/builder/handlers/image_handler.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/f4397085cb4050e72c34ae92d8949ccf654e4743', 'message': 'Support for languagepack list and show\n\n- Added missing get_all component to support LP\n  list and show CLI commands\n\nChange-Id: Id22e68dd8907b7807eb5c3453be7643ede3e9e84\n'}]",4,152394,f4397085cb4050e72c34ae92d8949ccf654e4743,9,4,1,9095,,,0,"Support for languagepack list and show

- Added missing get_all component to support LP
  list and show CLI commands

Change-Id: Id22e68dd8907b7807eb5c3453be7643ede3e9e84
",git fetch https://review.opendev.org/openstack/solum refs/changes/94/152394/1 && git format-patch -1 --stdout FETCH_HEAD,"['solum/builder/controllers/v1/image.py', 'solum/builder/handlers/image_handler.py']",2,f4397085cb4050e72c34ae92d8949ccf654e4743,languagepack_list," def get_all(self): """"""Return all images."""""" return objects.registry.ImageList.get_all(self.context) ",,14,0
openstack%2Fpuppet-ceph~master~I2d15fc06506a3e8364c00de4660ea2d2f76def55,openstack/puppet-ceph,master,I2d15fc06506a3e8364c00de4660ea2d2f76def55,spec: pin rspec-puppet to 1.0.1,MERGED,2015-02-03 14:33:32.000000000,2015-02-03 17:26:20.000000000,2015-02-03 16:31:14.000000000,"[{'_account_id': 3}, {'_account_id': 2064}, {'_account_id': 6994}, {'_account_id': 9133}]","[{'number': 1, 'created': '2015-02-03 14:33:32.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/22d30ee370352b6b886cfc68b7458bd417dc0f85', 'message': ""spec: pin rspec-puppet to 1.0.1\n\nrspec-puppet (2.0.0) was released yesterday[1], this new version broke\npuppet-openstack unit tests (undefined method `resource')[2] as talked on\nand in a second time to update your specs to 2.0.0 and rspec 3.x`)\n\n[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474\n[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html\n\nChange-Id: I2d15fc06506a3e8364c00de4660ea2d2f76def55\nPartial-bug: #1417604\n""}]",0,152530,22d30ee370352b6b886cfc68b7458bd417dc0f85,9,4,1,7155,,,0,"spec: pin rspec-puppet to 1.0.1

rspec-puppet (2.0.0) was released yesterday[1], this new version broke
puppet-openstack unit tests (undefined method `resource')[2] as talked on
and in a second time to update your specs to 2.0.0 and rspec 3.x`)

[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474
[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html

Change-Id: I2d15fc06506a3e8364c00de4660ea2d2f76def55
Partial-bug: #1417604
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/30/152530/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,22d30ee370352b6b886cfc68b7458bd417dc0f85,bug/1417604," gem 'rspec-puppet', '~> 1.0.1'",,1,0
openstack%2Fpython-neutronclient~master~Id7a489df5460038aca8ebf80f782b3b4f675bdba,openstack/python-neutronclient,master,Id7a489df5460038aca8ebf80f782b3b4f675bdba,Fix typo in test_cli20_agentschedulers filename,MERGED,2015-02-02 14:42:56.000000000,2015-02-03 17:22:30.000000000,2015-02-03 17:22:29.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 4395}, {'_account_id': 7634}]","[{'number': 1, 'created': '2015-02-02 14:42:56.000000000', 'files': ['neutronclient/tests/unit/test_cli20_agentschedulers.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/3d6769c0bfa4f7dce45864f76d8e350cac4d96a9', 'message': 'Fix typo in test_cli20_agentschedulers filename\n\nChange-Id: Id7a489df5460038aca8ebf80f782b3b4f675bdba\n'}]",0,152135,3d6769c0bfa4f7dce45864f76d8e350cac4d96a9,8,4,1,7293,,,0,"Fix typo in test_cli20_agentschedulers filename

Change-Id: Id7a489df5460038aca8ebf80f782b3b4f675bdba
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/35/152135/1 && git format-patch -1 --stdout FETCH_HEAD,['neutronclient/tests/unit/test_cli20_agentschedulers.py'],1,3d6769c0bfa4f7dce45864f76d8e350cac4d96a9,bug/1206113,,,0,0
openstack%2Fpuppet-ceph~master~I4e0e1a00d3f452c39f6676b1a464f6c6f865b55c,openstack/puppet-ceph,master,I4e0e1a00d3f452c39f6676b1a464f6c6f865b55c,run rspec-system tests in parallel,ABANDONED,2014-06-22 12:02:27.000000000,2015-02-03 17:17:18.000000000,,"[{'_account_id': 3}, {'_account_id': 2064}, {'_account_id': 9061}, {'_account_id': 11479}]","[{'number': 1, 'created': '2014-06-22 12:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/19103396e3d4467b321421d28135375d58c5f194', 'message': ""run rspec-system tests in parallel\n\nrspec-system is unable to run tests in parallel and running them\nsequentially can take a long time. The rspec-system-vagrant.sh is\nreworked to loop over each spec file match spec/system/*_spec.rb and run\nan independant bundle exec rake spec:system process for each of them.\n\nrspec-system-vagrant.sh waits for each of them to complete. It then\nchecks if they all end with the line '0 failures' and only return\nsuccess if they all do.\n\nTo help with forensic analysis, each output is individually uploaded\nwith pastebin and the link included in the output.\n\nThe script itself can be tested locally with\n\n  rspec-system-vagrant.sh TESTS\n\nand checks that it behaves as expected with a single test and a single\nmachine, on failure or success.\n\nChange-Id: I4e0e1a00d3f452c39f6676b1a464f6c6f865b55c\nSigned-off-by: Loic Dachary <loic@dachary.org>\n""}, {'number': 2, 'created': '2014-06-22 15:52:03.000000000', 'files': ['rspec-system-vagrant.sh', 'spec/fail_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/2fa0717a8dd9b398e9a712898d80723aa4ddbd0f', 'message': ""run rspec-system tests in parallel\n\nrspec-system is unable to run tests in parallel and running them\nsequentially can take a long time. The rspec-system-vagrant.sh is\nreworked to loop over each spec file match spec/system/*_spec.rb and run\nan independant bundle exec rake spec:system process for each of them.\n\nrspec-system-vagrant.sh waits for each of them to complete. It then\nchecks if they all end with the line '0 failures' and only return\nsuccess if they all do.\n\nTo help forensics, each output is individually uploaded with pastebin\nand the link included in the output.\n\nThe script itself can be tested locally with\n\n  rspec-system-vagrant.sh TESTS\n\nand checks that it behaves as expected with a single test and a single\nmachine, on failure or success.\n\nChange-Id: I4e0e1a00d3f452c39f6676b1a464f6c6f865b55c\nSigned-off-by: Loic Dachary <loic@dachary.org>\n""}]",4,101751,2fa0717a8dd9b398e9a712898d80723aa4ddbd0f,14,4,2,2064,,,0,"run rspec-system tests in parallel

rspec-system is unable to run tests in parallel and running them
sequentially can take a long time. The rspec-system-vagrant.sh is
reworked to loop over each spec file match spec/system/*_spec.rb and run
an independant bundle exec rake spec:system process for each of them.

rspec-system-vagrant.sh waits for each of them to complete. It then
checks if they all end with the line '0 failures' and only return
success if they all do.

To help forensics, each output is individually uploaded with pastebin
and the link included in the output.

The script itself can be tested locally with

  rspec-system-vagrant.sh TESTS

and checks that it behaves as expected with a single test and a single
machine, on failure or success.

Change-Id: I4e0e1a00d3f452c39f6676b1a464f6c6f865b55c
Signed-off-by: Loic Dachary <loic@dachary.org>
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/51/101751/1 && git format-patch -1 --stdout FETCH_HEAD,"['rspec-system-vagrant.sh', 'spec/fail_spec.rb']",2,19103396e3d4467b321421d28135375d58c5f194,wip-rspec-system-script,"# # Copyright 2014 Cloudwatt <libre-licensing@cloudwatt.com> # # Author: Loic Dachary <loic@dachary.org> # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # require 'spec_helper_system' describe 'ceph::repo' do FAIL ! end ",,93,6
openstack%2Fglance~master~I0125811e1afeccb5896c9bcb4447cd7fac58f247,openstack/glance,master,I0125811e1afeccb5896c9bcb4447cd7fac58f247,Simplify context by using oslo.context,MERGED,2014-12-22 14:11:18.000000000,2015-02-03 17:13:47.000000000,2015-02-03 17:13:46.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2537}, {'_account_id': 5202}, {'_account_id': 6159}, {'_account_id': 11356}, {'_account_id': 12000}]","[{'number': 1, 'created': '2014-12-22 14:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fa6a916bcfede7fbd9de4f834833b5f8ad031285', 'message': 'Simplify context by using oslo.context\n\nThis is a first step toward removing Glance specific context object.\n\nChange-Id: I0125811e1afeccb5896c9bcb4447cd7fac58f247\n'}, {'number': 2, 'created': '2015-01-12 07:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/396e224da1800a1b116f9a144602ac885bf7f0f7', 'message': 'Simplify context by using oslo.context\n\nThis is a first step toward removing Glance specific context object.\n\nChange-Id: I0125811e1afeccb5896c9bcb4447cd7fac58f247\n'}, {'number': 3, 'created': '2015-02-02 08:52:06.000000000', 'files': ['glance/tests/unit/test_context.py', 'glance/context.py', 'requirements.txt', 'glance/db/simple/api.py', 'glance/db/sqlalchemy/api.py', 'glance/tests/unit/base.py', 'openstack-common.conf', 'glance/api/middleware/context.py', 'glance/tests/unit/test_context_middleware.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/84955d6353dbcd0c5951d1a5aa1b1e282cdf53bb', 'message': 'Simplify context by using oslo.context\n\nThis is a first step toward removing Glance specific context object.\n\nChange-Id: I0125811e1afeccb5896c9bcb4447cd7fac58f247\n'}]",8,143449,84955d6353dbcd0c5951d1a5aa1b1e282cdf53bb,26,7,3,1669,,,0,"Simplify context by using oslo.context

This is a first step toward removing Glance specific context object.

Change-Id: I0125811e1afeccb5896c9bcb4447cd7fac58f247
",git fetch https://review.opendev.org/openstack/glance refs/changes/49/143449/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_context.py', 'glance/context.py', 'requirements.txt', 'glance/db/simple/api.py', 'glance/db/sqlalchemy/api.py', 'glance/tests/unit/base.py', 'openstack-common.conf', 'glance/api/middleware/context.py', 'glance/tests/unit/test_context_middleware.py']",9,fa6a916bcfede7fbd9de4f834833b5f8ad031285,jd/oslo.context,,"from glance.openstack.common import local def test_clear_context(self): # context should be cleared between requests middleware = self._build_middleware() req = self._build_request() middleware.process_request(req) self.assertTrue(hasattr(local.store, 'context')) # response processing should clear reference to # the context resp = webob.Response() resp.request = req resp = middleware.process_response(resp) self.assertFalse(hasattr(local.store, 'context')) ",18,111
openstack%2Fkeystone~master~I3020325ed7d09ec2a9d7593ee601211a04b108ce,openstack/keystone,master,I3020325ed7d09ec2a9d7593ee601211a04b108ce,Remove TODO comment which has been addressed,MERGED,2015-01-17 09:01:29.000000000,2015-02-03 17:13:37.000000000,2015-02-03 17:13:36.000000000,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 7725}, {'_account_id': 11022}, {'_account_id': 13478}]","[{'number': 1, 'created': '2015-01-17 09:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/304b13b9509ad174f1fb641a1702d56b5ed6fa7e', 'message': 'Remove TODO comment which has been addressed\n\nToken validation against revocation API has been addressed in\ncheck_revocation_v2 method in `keystone.token.Manager`.\n\nChange-Id: I3020325ed7d09ec2a9d7593ee601211a04b108ce\n'}, {'number': 2, 'created': '2015-01-17 09:05:18.000000000', 'files': ['keystone/token/controllers.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/1f901348abb92a52bd47c5855408830d6ea256cc', 'message': 'Remove TODO comment which has been addressed\n\nToken validation against revocation API has been addressed in\ncheck_revocation_v2 method in `keystone.token.provider.Manager`.\n\nChange-Id: I3020325ed7d09ec2a9d7593ee601211a04b108ce\n'}]",0,148053,1f901348abb92a52bd47c5855408830d6ea256cc,10,5,2,13063,,,0,"Remove TODO comment which has been addressed

Token validation against revocation API has been addressed in
check_revocation_v2 method in `keystone.token.provider.Manager`.

Change-Id: I3020325ed7d09ec2a9d7593ee601211a04b108ce
",git fetch https://review.opendev.org/openstack/keystone refs/changes/53/148053/2 && git format-patch -1 --stdout FETCH_HEAD,['keystone/token/controllers.py'],1,304b13b9509ad174f1fb641a1702d56b5ed6fa7e,remove_todo,, # TODO(ayoung) validate against revocation API,0,1
openstack%2Frally~master~I44155575621c715af1109690ed2788663a4c36c3,openstack/rally,master,I44155575621c715af1109690ed2788663a4c36c3,Refactor rally.api,MERGED,2015-01-23 12:19:44.000000000,2015-02-03 17:12:37.000000000,2015-02-03 16:52:09.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 7369}, {'_account_id': 8507}, {'_account_id': 8576}, {'_account_id': 9180}, {'_account_id': 9545}, {'_account_id': 14135}]","[{'number': 1, 'created': '2015-01-23 12:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d268c94b7c3298936e158b6e55a0ae230508c0b8', 'message': '[WIP] Refactor rally.api\n\n* Move API methods to classes, make them @staticmethod\n* Move rally-manage stuff to rally.api\n\nTODO: restructure unit tests\n\nChange-Id: I44155575621c715af1109690ed2788663a4c36c3\n'}, {'number': 2, 'created': '2015-01-23 12:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/19b115f61c469d34d0fe96b3ccf366a16c56e1f8', 'message': '[WIP] Refactor rally.api\n\n* Move API methods to classes, make them @staticmethod\n* Move rally-manage stuff to rally.api\n\nTODO: restructure unit tests\n\nChange-Id: I44155575621c715af1109690ed2788663a4c36c3\n'}, {'number': 3, 'created': '2015-01-23 15:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/2db998d3b6acf68acad2341ccaa1a49e1e3317ea', 'message': '[WIP] Refactor rally.api\n\n* Move API methods to classes, make them @staticmethod\n* Move rally-manage stuff to rally.api\n* s/deploy/deployment\n\nTODO: restructure unit tests\n\nChange-Id: I44155575621c715af1109690ed2788663a4c36c3\n'}, {'number': 4, 'created': '2015-01-25 20:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c4763a8b8c2867b5e50f0d7091070d7f4d0b4cbb', 'message': '[WIP] Refactor rally.api\n\n* Move API methods to classes, make them @staticmethod\n* Move rally-manage stuff to rally.api\n* s/deploy/deployment\n\nTODO: restructure unit tests\n\nChange-Id: I44155575621c715af1109690ed2788663a4c36c3\n'}, {'number': 5, 'created': '2015-01-25 20:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/536b749d2025b084f3ae2d48209161872731ca4e', 'message': 'Refactor rally.api\n\n* Move API methods to classes, make them @staticmethod\n* Move rally-manage stuff to rally.api\n* s/deploy/deployment\n\nAlso modify unit tests\n\nChange-Id: I44155575621c715af1109690ed2788663a4c36c3\n'}, {'number': 6, 'created': '2015-01-25 23:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/442f625c58b607224110327ba4214492ac2f7d20', 'message': 'Refactor rally.api\n\n* Move API methods to classes, make them @staticmethod\n* Move rally-manage stuff to rally.api\n* s/deploy/deployment\n\nAlso modify unit tests\n\nChange-Id: I44155575621c715af1109690ed2788663a4c36c3\n'}, {'number': 7, 'created': '2015-01-26 13:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/6c55e845564cee62964967adc09e5a9ec44593b8', 'message': 'Refactor rally.api\n\n* Move API methods to classes, make them @classmethod\n* Move rally-manage stuff to rally.api\n* s/deploy/deployment\n\nAlso modify unit tests.\n\nToDo in next patches: add get(), list() methods to API.\n\nChange-Id: I44155575621c715af1109690ed2788663a4c36c3\n'}, {'number': 8, 'created': '2015-01-27 08:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/007b6ef7ca7f47bb62678668cfed2b2c1cf57232', 'message': 'Refactor rally.api\n\n* Move API methods to classes, make them @classmethod\n* Move rally-manage stuff to rally.api\n* s/deploy/deployment\n\nAlso modify unit tests.\n\nWe leave the old API methods for compability, but they are going to be\ndeprecated by the mid February.\n\nToDo in next patches:\n * Remove old API methods\n * add get(), list() methods to API.\n\nChange-Id: I44155575621c715af1109690ed2788663a4c36c3\n'}, {'number': 9, 'created': '2015-01-27 08:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/2dd89617ff2edc8cb9321de73a94c728e8030fd7', 'message': 'Refactor rally.api\n\n* Move API methods to classes, make them @classmethod\n* Move rally-manage stuff to rally.api\n* s/deploy/deployment\n\nAlso modify unit tests.\n\nWe leave the old API methods for compability, but they are going to be\ndeprecated by the mid February.\n\nToDo in next patches:\n * Remove old API methods\n * add get(), list() methods to API.\n\nChange-Id: I44155575621c715af1109690ed2788663a4c36c3\n'}, {'number': 10, 'created': '2015-01-27 15:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/517033e8439b9b59576129363f3deaf29f3891d8', 'message': 'Refactor rally.api\n\n* Move API methods to classes, make them @classmethod\n* Move rally-manage stuff to rally.api\n* s/deploy/deployment\n\nAlso modify unit tests.\n\nWe leave the old API methods for compability, but they are going to be\ndeprecated by the mid February.\n\nChange-Id: I44155575621c715af1109690ed2788663a4c36c3\n'}, {'number': 11, 'created': '2015-01-27 16:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/349ed860366ebe121fa9f14028ab2fa45a2254f1', 'message': 'Refactor rally.api\n\n* Move API methods to classes, make them @classmethod\n* s/deploy/deployment\n\nAlso modify unit tests.\n\nWe leave the old API methods for compability, but they are going to be\ndeprecated by the mid February.\n\nChange-Id: I44155575621c715af1109690ed2788663a4c36c3\n'}, {'number': 12, 'created': '2015-01-28 07:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/2c39773219e725d2be20ca7a906c0a51f006aa31', 'message': 'Refactor rally.api\n\n* Move API methods to classes, make them @classmethod\n* s/deploy/deployment\n\nAlso modify unit tests.\n\nWe leave the old API methods for compability, but they are going to be\ndeprecated by the mid February.\n\nChange-Id: I44155575621c715af1109690ed2788663a4c36c3\n'}, {'number': 13, 'created': '2015-01-28 12:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4dae532d81fe021e12026318fdaa07ba02641e4b', 'message': 'Refactor rally.api\n\n* Move API methods to classes, make them @classmethod\n* s/deploy/deployment\n\nAlso modify unit tests.\n\nWe leave the old API methods for compability, but they are going to be\ndeprecated by the mid February.\n\nChange-Id: I44155575621c715af1109690ed2788663a4c36c3\n'}, {'number': 14, 'created': '2015-01-29 02:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/70cb34a2281bbeb35cfecd437042b71aba31a689', 'message': 'Refactor rally.api\n\n* Move API methods to classes, make them @classmethod\n* Add a new DB class in API (it will be used later instead of some of the code\n  in rally-manage)\n* s/deploy/deployment\n\nAlso modify unit tests.\n\nWe leave the old API methods for compability, but they are going to be\ndeprecated by the mid February.\n\nChange-Id: I44155575621c715af1109690ed2788663a4c36c3\n'}, {'number': 15, 'created': '2015-01-29 10:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/9dea6741d951f974d193a6e58c6c9673d9b96ba1', 'message': 'Refactor rally.api\n\n* Move API methods to classes, make them @classmethod\n* Add a new DB class in API (it will be used later instead of some of the code\n  in rally-manage)\n* s/deploy/deployment\n\nAlso modify unit tests.\n\nWe leave the old API methods for compability, but they are going to be\ndeprecated by the mid February.\n\nChange-Id: I44155575621c715af1109690ed2788663a4c36c3\n'}, {'number': 16, 'created': '2015-01-30 21:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/43a8346af304926345978744807b0d354b99f562', 'message': 'Refactor rally.api\n\n* Move API methods to classes, make them @classmethod\n* s/deploy/deployment\n\nAlso modify unit tests.\n\nWe leave the old API methods for compability, but they are going to be\ndeprecated in Rally v0.0.2.\n\nChange-Id: I44155575621c715af1109690ed2788663a4c36c3\n'}, {'number': 17, 'created': '2015-02-02 09:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a55fa30df02d8bf82acc15ffd70fafeda88ec23c', 'message': 'Refactor rally.api\n\n* Move API methods to classes, make them @classmethod\n* s/deploy/deployment\n\nAlso modify unit tests.\n\nWe leave the old API methods for compability, but they are going to be\ndeprecated in Rally v0.0.2.\n\nChange-Id: I44155575621c715af1109690ed2788663a4c36c3\n'}, {'number': 18, 'created': '2015-02-02 10:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4d3b89cb266cffb6cbb32db1e45cfda345ac7db9', 'message': 'Refactor rally.api\n\n* Move API methods to classes, make them @classmethod\n* s/deploy/deployment\n\nAlso modify unit tests.\n\nWe leave the old API methods for compability, but they are going to be\ndeprecated in Rally v0.0.2.\n\nChange-Id: I44155575621c715af1109690ed2788663a4c36c3\n'}, {'number': 19, 'created': '2015-02-02 11:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c478024aac0a28afec8ca2f237fdd216302b381c', 'message': 'Refactor rally.api\n\n* Move API methods to classes, make them @classmethod\n* s/deploy/deployment\n\nAlso modify unit tests.\n\nWe leave the old API methods for compability, but they are going to be\ndeprecated in Rally v0.0.2.\n\nChange-Id: I44155575621c715af1109690ed2788663a4c36c3\n'}, {'number': 20, 'created': '2015-02-02 16:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/1390c8f2a3bd0cd873e59ffc5189f9fa0f3c4242', 'message': 'Refactor rally.api\n\n* Move API methods to classes, make them @classmethod\n* s/deploy/deployment\n\nAlso modify unit tests.\n\nWe leave the old API methods for compability, but they are going to be\ndeprecated in Rally v0.0.2.\n\nChange-Id: I44155575621c715af1109690ed2788663a4c36c3\n'}, {'number': 21, 'created': '2015-02-03 08:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4569f5562effee67a4b05acf23a2a2fe84408803', 'message': 'Refactor rally.api\n\n* Move API methods to classes, make them @classmethod\n* s/deploy/deployment\n\nAlso modify unit tests.\n\nWe leave the old API methods for compability, but they are going to be\ndeprecated in Rally v0.0.2.\n\nChange-Id: I44155575621c715af1109690ed2788663a4c36c3\n'}, {'number': 22, 'created': '2015-02-03 12:35:04.000000000', 'files': ['tests/unit/common/test_utils.py', 'rally/api.py', 'tests/unit/test_api.py', 'rally/common/utils.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/e2a204d35b12a7f5231c97a16e7acb127ed3ec69', 'message': 'Refactor rally.api\n\n* Move API methods to classes, make them @classmethod\n* s/deploy/deployment\n\nAlso modify unit tests.\n\nWe leave the old API methods for compability, but they are going to be\ndeprecated in Rally v0.0.2.\n\nChange-Id: I44155575621c715af1109690ed2788663a4c36c3\n'}]",27,149597,e2a204d35b12a7f5231c97a16e7acb127ed3ec69,107,8,22,8507,,,0,"Refactor rally.api

* Move API methods to classes, make them @classmethod
* s/deploy/deployment

Also modify unit tests.

We leave the old API methods for compability, but they are going to be
deprecated in Rally v0.0.2.

Change-Id: I44155575621c715af1109690ed2788663a4c36c3
",git fetch https://review.opendev.org/openstack/rally refs/changes/97/149597/4 && git format-patch -1 --stdout FETCH_HEAD,"['rally/cmd/commands/verify.py', 'rally/cmd/manage.py', 'rally/api.py', 'tests/unit/test_api.py', 'rally/cmd/commands/deployment.py', 'rally/deploy/engines/multihost.py', 'tests/unit/deploy/test_multihost.py', 'tests/unit/cmd/commands/test_deployment.py', 'rally/cmd/commands/task.py']",9,d268c94b7c3298936e158b6e55a0ae230508c0b8,rally_api," rendered_task = api.Task.render_template(input_task, **kw) api.Task.validate(deployment, input_task) task = api.Task.create(deployment, tag) api.Task.start(deployment, input_task, task=task) api.Task.abort(task_id) api.Task.delete(tid, force=force) else: api.Task.delete(task_id, force=force)"," rendered_task = api.task_template_render(input_task, **kw) api.task_validate(deployment, input_task) task = api.create_task(deployment, tag) api.start_task(deployment, input_task, task=task) api.abort_task(task_id) api.delete_task(tid, force=force) else: api.delete_task(task_id, force=force)",227,208
openstack%2Fbarbican~master~Ief4f404cc899f04a9819517538e0d554d1c11d34,openstack/barbican,master,Ief4f404cc899f04a9819517538e0d554d1c11d34,Add the ability to use either identity v2 or v3 API,MERGED,2015-02-02 21:12:29.000000000,2015-02-03 17:08:11.000000000,2015-02-03 17:08:09.000000000,"[{'_account_id': 3}, {'_account_id': 7262}, {'_account_id': 7789}, {'_account_id': 9234}, {'_account_id': 10873}]","[{'number': 1, 'created': '2015-02-02 21:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/56477cd5a2f2b7641c73133dc739a623a5e6f8cd', 'message': 'Add the ability to use either identity v2 or v3 API\n\nThe etc/dev_tempest.conf file specifies which version of\nidentity to use, but the functional tests only support v3.\n\nThis CR honors the version and supports either v2 or v3.\n\nChange-Id: Ief4f404cc899f04a9819517538e0d554d1c11d34\n'}, {'number': 2, 'created': '2015-02-03 01:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/f325eac737a68be2bf94746e9d2d00d2b9e5e947', 'message': 'Add the ability to use either identity v2 or v3 API\n\nThe etc/dev_tempest.conf file specifies which version of\nidentity to use, but the functional tests only support v3.\n\nThis CR honors the version and supports either v2 or v3.\n\nChange-Id: Ief4f404cc899f04a9819517538e0d554d1c11d34\n'}, {'number': 3, 'created': '2015-02-03 01:32:20.000000000', 'files': ['functionaltests/common/client.py', 'functionaltests/api/base.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/5098564e7ac11ec49814859336a6afecb3aff58b', 'message': 'Add the ability to use either identity v2 or v3 API\n\nThe etc/dev_tempest.conf file specifies which version of\nidentity to use, but the functional tests only support v3.\n\nThis CR honors the version and supports either v2 or v3.\n\nChange-Id: Ief4f404cc899f04a9819517538e0d554d1c11d34\n'}]",5,152277,5098564e7ac11ec49814859336a6afecb3aff58b,14,5,3,9234,,,0,"Add the ability to use either identity v2 or v3 API

The etc/dev_tempest.conf file specifies which version of
identity to use, but the functional tests only support v3.

This CR honors the version and supports either v2 or v3.

Change-Id: Ief4f404cc899f04a9819517538e0d554d1c11d34
",git fetch https://review.opendev.org/openstack/barbican refs/changes/77/152277/2 && git format-patch -1 --stdout FETCH_HEAD,"['functionaltests/common/client.py', 'functionaltests/api/base.py']",2,56477cd5a2f2b7641c73133dc739a623a5e6f8cd,raxauth," # determine which type of credentials to use if ""v3"" == CONF.identity.auth_version: credentials = BarbicanV3Credentials() else: credentials = BarbicanV2Credentials()class BarbicanV2Credentials(auth.KeystoneV2Credentials): def __init__(self): credentials = dict( username=CONF.identity.admin_username, password=CONF.identity.admin_password, #tenant=CONF.identity.admin_tenant_name ) super(BarbicanV2Credentials, self).__init__(**credentials) class BarbicanV3Credentials(auth.KeystoneV3Credentials): super(BarbicanV3Credentials, self).__init__(**credentials)"," credentials = BarbicanCredentials()class BarbicanCredentials(auth.KeystoneV3Credentials): super(BarbicanCredentials, self).__init__(**credentials)",34,5
openstack%2Fneutron-vpnaas~master~I081b7482776b7294fcafcae6c8610ddd5271cc5e,openstack/neutron-vpnaas,master,I081b7482776b7294fcafcae6c8610ddd5271cc5e,Move config and extensions to service repo,MERGED,2015-01-30 06:16:24.000000000,2015-02-03 16:48:54.000000000,2015-02-03 16:48:53.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 6659}, {'_account_id': 10980}]","[{'number': 1, 'created': '2015-01-30 06:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/85b5fce718dae9c8fa400f9bfa61ac81ec919a20', 'message': 'Move config and extensions to service repo\n\nDepends on neutron change I16b5e5b2bb70717166da14faa975fa2ab9129049\n\nChange-Id: I081b7482776b7294fcafcae6c8610ddd5271cc5e\nPartially-Implements: blueprint services-split\n'}, {'number': 2, 'created': '2015-01-30 18:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/c613d06f12b392ed116272b7f05e0fac64cf7e1c', 'message': 'Move config and extensions to service repo\n\nDepends on neutron change I16b5e5b2bb70717166da14faa975fa2ab9129049\n\nChange-Id: I081b7482776b7294fcafcae6c8610ddd5271cc5e\nPartially-Implements: blueprint services-split\n'}, {'number': 3, 'created': '2015-02-02 15:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/0a02b1424e48a910efa425cc797f4b5bee2cb163', 'message': 'Move config and extensions to service repo\n\nMove some shared exceptioninto neutron proper\n\nDepends on neutron change I16b5e5b2bb70717166da14faa975fa2ab9129049\n\nChange-Id: I081b7482776b7294fcafcae6c8610ddd5271cc5e\nPartially-Implements: blueprint services-split\n'}, {'number': 4, 'created': '2015-02-02 16:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/a30f5bbd72733ca927c3d9752ae6ef79b7c51f8b', 'message': 'Move config and extensions to service repo\n\nMove some shared exceptioninto neutron proper\n\nDepends on neutron change I16b5e5b2bb70717166da14faa975fa2ab9129049\n\nChange-Id: I081b7482776b7294fcafcae6c8610ddd5271cc5e\nPartially-Implements: blueprint services-split\n'}, {'number': 5, 'created': '2015-02-02 16:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/16354d1f49270a9b27e5127294a1f82fb83c6659', 'message': 'Move config and extensions to service repo\n\n- Some shared exceptions will be left in Neutron, until further l3 refactoring\n\nDepends on neutron change I16b5e5b2bb70717166da14faa975fa2ab9129049\n\nChange-Id: I081b7482776b7294fcafcae6c8610ddd5271cc5e\nPartially-Implements: blueprint services-split\n'}, {'number': 6, 'created': '2015-02-03 04:00:50.000000000', 'files': ['neutron_vpnaas/tests/unit/services/vpn/test_vpnaas_extension.py', 'etc/neutron_vpnaas.conf', 'neutron_vpnaas/db/vpn/vpn_validator.py', 'neutron_vpnaas/services/vpn/vpn_service.py', 'neutron_vpnaas/tests/unit/services/vpn/test_vpn_service.py', 'neutron_vpnaas/tests/unit/services/vpn/service_drivers/test_ipsec.py', 'neutron_vpnaas/extensions/__init__.py', 'neutron_vpnaas/tests/unit/db/vpn/test_db_vpnaas.py', 'neutron_vpnaas/extensions/vpnaas.py', 'setup.cfg', 'neutron_vpnaas/db/vpn/vpn_db.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/df9dd76988f69221bade61af3bfe6c2551eb0f62', 'message': 'Move config and extensions to service repo\n\n- Some shared exceptions will be left in Neutron, until further l3 refactoring\n\nDepends on neutron change I16b5e5b2bb70717166da14faa975fa2ab9129049\n\nChange-Id: I081b7482776b7294fcafcae6c8610ddd5271cc5e\nPartially-Implements: blueprint services-split\n'}]",5,151544,df9dd76988f69221bade61af3bfe6c2551eb0f62,30,4,6,10980,,,0,"Move config and extensions to service repo

- Some shared exceptions will be left in Neutron, until further l3 refactoring

Depends on neutron change I16b5e5b2bb70717166da14faa975fa2ab9129049

Change-Id: I081b7482776b7294fcafcae6c8610ddd5271cc5e
Partially-Implements: blueprint services-split
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/44/151544/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/neutron_vpnaas.conf', 'neutron_vpnaas/extensions/__init__.py', 'neutron_vpnaas/extensions/vpnaas.py', 'setup.cfg']",4,85b5fce718dae9c8fa400f9bfa61ac81ec919a20,bp/services-split, etc/neutron_vpnaas.conf,,496,0
openstack%2Fceilometer~master~Id5b3ee6b26ac8ae3627bbd3f8a1e73d90fd165ca,openstack/ceilometer,master,Id5b3ee6b26ac8ae3627bbd3f8a1e73d90fd165ca,remove empty module tests.collector,MERGED,2015-02-03 12:31:27.000000000,2015-02-03 16:41:50.000000000,2015-02-03 16:41:48.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6537}, {'_account_id': 7729}, {'_account_id': 10987}]","[{'number': 1, 'created': '2015-02-03 12:31:27.000000000', 'files': ['ceilometer/tests/collector/__init__.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/2ed6715059543c1ae8057c4ddc7521c0fcff0a07', 'message': 'remove empty module tests.collector\n\nThe test code for collector has been moved from tests/collector/test_service.py\nto tests/test_collector.py, but the empty directory has been left.\nThis patch removes it.\n\nref-commitid: b6aab6658697016950309d1276fe0709be0c3fca\nref-changeid: I4c39ea74fc5cb59d487626b998eaed9c5cf30eff\n\nChange-Id: Id5b3ee6b26ac8ae3627bbd3f8a1e73d90fd165ca\n'}]",0,152492,2ed6715059543c1ae8057c4ddc7521c0fcff0a07,9,5,1,6676,,,0,"remove empty module tests.collector

The test code for collector has been moved from tests/collector/test_service.py
to tests/test_collector.py, but the empty directory has been left.
This patch removes it.

ref-commitid: b6aab6658697016950309d1276fe0709be0c3fca
ref-changeid: I4c39ea74fc5cb59d487626b998eaed9c5cf30eff

Change-Id: Id5b3ee6b26ac8ae3627bbd3f8a1e73d90fd165ca
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/92/152492/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/tests/collector/__init__.py'],1,2ed6715059543c1ae8057c4ddc7521c0fcff0a07,rmdir-tests-collector,,,0,0
openstack%2Fglance_store~master~I76b0a0de54e909fb0ec90bd7f9972da76a2501eb,openstack/glance_store,master,I76b0a0de54e909fb0ec90bd7f9972da76a2501eb,Validate metadata JSON file,MERGED,2014-12-12 09:34:25.000000000,2015-02-03 16:38:46.000000000,2015-02-03 16:38:45.000000000,"[{'_account_id': 3}, {'_account_id': 2537}, {'_account_id': 5202}, {'_account_id': 6159}, {'_account_id': 6549}, {'_account_id': 8300}, {'_account_id': 8759}, {'_account_id': 10300}, {'_account_id': 11356}, {'_account_id': 11391}, {'_account_id': 12000}, {'_account_id': 13717}]","[{'number': 1, 'created': '2014-12-12 09:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/81905ddaa8cd0f0daa5aa41cb4c6ec0987033072', 'message': ""Validate metadata JSON file\n\nIf metadata is not valid dictionary then glance-api\nthrows 'internal server' error.\n\nValidating metadata JSON file using jsonschema library.\nMetadata JSON file requires 'id' and 'mountpoint' keys\nto be 'string'. If value of 'id' and 'mountpoint' are not\nstring then it will raise ValidationError error.\nAfter getting ValidationError empty dictionary will be returned\nto glance api.\n\nIf metadata file is list of dicts containing multiple mountpoints\nthen return image metadata as dict containing exact mountpoint\nwhere image is stored.\n\nChange-Id: I76b0a0de54e909fb0ec90bd7f9972da76a2501eb\nCloses-Bug: 1401778\n""}, {'number': 2, 'created': '2014-12-19 06:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/4feec0dd0a453860fe2609008b7e3c6b013c2871', 'message': ""Validate metadata JSON file\n\nIf metadata is not valid dictionary then glance-api\nthrows 'internal server' error.\n\nValidating metadata JSON file using jsonschema library.\nMetadata JSON file requires 'id' and 'mountpoint' keys\nto be 'string'. If value of 'id' and 'mountpoint' are not\nstring then it will raise ValidationError error.\nAfter getting ValidationError empty dictionary will be returned\nto glance api.\n\nIf metadata file is list of dicts containing multiple mountpoints\nthen return image metadata as dict containing exact mountpoint\nwhere image is stored.\n\nChange-Id: I76b0a0de54e909fb0ec90bd7f9972da76a2501eb\nCloses-Bug: 1401778\n""}, {'number': 3, 'created': '2014-12-24 12:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/3f77c2179dfa102c6a23683073f705d4191d1cf2', 'message': ""Validate metadata JSON file\n\nIf metadata is not valid dictionary then glance-api\nthrows 'internal server' error.\n\nValidating metadata JSON file using jsonschema library.\nMetadata JSON file requires 'id' and 'mountpoint' keys\nto be 'string'. If value of 'id' and 'mountpoint' are not\nstring then it will raise ValidationError error.\nAfter getting ValidationError empty dictionary will be returned\nto glance api.\n\nIf metadata file is list of dicts containing multiple mountpoints\nthen return image metadata as dict containing exact mountpoint\nwhere image is stored.\n\nChange-Id: I76b0a0de54e909fb0ec90bd7f9972da76a2501eb\nCloses-Bug: 1401778\n""}, {'number': 4, 'created': '2014-12-24 13:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/051db68ef618a3569fd1295fabfbf517c0131bfb', 'message': ""Validate metadata JSON file\n\nIf metadata is not valid dictionary then glance-api\nthrows 'internal server' error.\n\nValidating metadata JSON file using jsonschema library.\nMetadata JSON file requires 'id' and 'mountpoint' keys\nto be 'string'. If value of 'id' and 'mountpoint' are not\nstring then it will raise ValidationError error.\nAfter getting ValidationError empty dictionary will be returned\nto glance api.\n\nIf metadata file is list of dicts containing multiple mountpoints\nthen return image metadata as dict containing exact mountpoint\nwhere image is stored.\n\nIf image path do not starts with any of the 'mountpoint' provided\nin metadata JSON file then 'BackendException' is raised and empty\ndictionary is returned to glance api.\n\nChange-Id: I76b0a0de54e909fb0ec90bd7f9972da76a2501eb\nCloses-Bug: 1401778\n""}, {'number': 5, 'created': '2015-01-02 07:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/3920690b6a3a970900414d1ea6748eb154275eb9', 'message': ""Validate metadata JSON file\n\nIf metadata is not valid dictionary then glance-api\nthrows 'internal server' error.\n\nValidating metadata JSON file using jsonschema library.\nMetadata JSON file requires 'id' and 'mountpoint' keys\nto be 'string'. If value of 'id' and 'mountpoint' are not\nstring then it will raise ValidationError error.\nAfter getting ValidationError empty dictionary will be returned\nto glance api.\n\nIf metadata file is list of dicts containing multiple mountpoints\nthen return image metadata as dict containing exact mountpoint\nwhere image is stored.\n\nIf image path do not starts with any of the 'mountpoint' provided\nin metadata JSON file then 'BackendException' is raised and empty\ndictionary is returned to glance api.\n\nChange-Id: I76b0a0de54e909fb0ec90bd7f9972da76a2501eb\nCloses-Bug: 1401778\n""}, {'number': 6, 'created': '2015-01-09 12:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/8fafe11454bf503bf33cd757ec0818a8413fbc61', 'message': ""Validate metadata JSON file\n\nIf metadata is not valid dictionary then glance-api\nthrows 'internal server' error.\n\nValidating metadata JSON file using jsonschema library\nat configuration stage and caching metadata and using it\ndirectly when new image being added.\nMetadata JSON file requires 'id' and 'mountpoint' keys\nto be 'string'. If value of 'id' and 'mountpoint' are not\nstring then it will raise ValidationError error.\nAfter getting exception during json data validation,\n'BadStoreConfiguration' exception will be raised and glance api\nservice will not start.\n\nIf metadata file is list of dicts containing multiple mountpoints\nthen return image metadata as dict containing exact mountpoint\nwhere image is stored.\n\nIf image path do not starts with any of the 'mountpoint' provided\nin metadata JSON file then 'BackendException' is raised and empty\ndictionary is returned to glance api.\n\nChange-Id: I76b0a0de54e909fb0ec90bd7f9972da76a2501eb\nCloses-Bug: 1401778\n""}, {'number': 7, 'created': '2015-01-12 11:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/3eb280b89c5aeb30d8b4f175de3cc9acb8ffba5a', 'message': ""Validate metadata JSON file\n\nIf metadata is not valid dictionary then glance-api\nthrows 'internal server' error.\n\nValidating metadata JSON file using jsonschema library\nat configuration stage and caching metadata and using it\ndirectly when new image being added.\nMetadata JSON file requires 'id' and 'mountpoint' keys\nto be 'string'. If value of 'id' and 'mountpoint' are not\nstring then it will raise ValidationError error.\nAfter getting exception during json data validation,\n'BadStoreConfiguration' exception will be raised and glance api\nservice will not start.\n\nIf metadata file is list of dicts containing multiple mountpoints\nthen return image metadata as dict containing exact mountpoint\nwhere image is stored.\n\nIf image path do not starts with any of the 'mountpoint' provided\nin metadata JSON file then 'BackendException' is raised and empty\ndictionary is returned to glance api.\n\nChange-Id: I76b0a0de54e909fb0ec90bd7f9972da76a2501eb\nCloses-Bug: 1401778\n""}, {'number': 8, 'created': '2015-01-13 13:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/9a4b2646f4be6b4c49f716dbce0ab958f31b71d9', 'message': ""Validate metadata JSON file\n\nIf metadata is not valid dictionary then glance-api\nthrows 'internal server' error.\n\nValidating metadata JSON file using jsonschema library\nat configuration stage and caching metadata and using it\ndirectly when new image being added.\nMetadata JSON file requires 'id' and 'mountpoint' keys\nto be 'string'. If value of 'id' and 'mountpoint' are not\nstring then it will raise ValidationError error.\nAfter getting exception during json data validation,\n'BadStoreConfiguration' exception will be raised and glance api\nservice will not start.\n\nIf metadata file is list of dicts containing multiple mountpoints\nthen return image metadata as dict containing exact mountpoint\nwhere image is stored.\n\nIf image path do not starts with any of the 'mountpoint' provided\nin metadata JSON file then error is logged and empty\ndictionary is returned to glance api.\n\nChange-Id: I76b0a0de54e909fb0ec90bd7f9972da76a2501eb\nCloses-Bug: 1401778\n""}, {'number': 9, 'created': '2015-01-14 07:19:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/4284fc0152ae43c5ca1ca6c943d5d4d8b9e4f6ec', 'message': ""Validate metadata JSON file\n\nIf metadata is not valid dictionary then glance-api\nthrows 'internal server' error.\n\nValidating metadata JSON file using jsonschema library\nat configuration stage and caching metadata and using it\ndirectly when new image being added.\nMetadata JSON file requires 'id' and 'mountpoint' keys\nto be 'string'. If value of 'id' and 'mountpoint' are not\nstring then it will raise ValidationError error.\nAfter getting exception during json data validation,\n'BadStoreConfiguration' exception will be raised and glance api\nservice will not start.\n\nIf metadata file is list of dicts containing multiple mountpoints\nthen returned image metadata as dict containing exact mountpoint\nwhere image is stored.\n\nIf image path do not starts with any of the 'mountpoint' provided\nin metadata JSON file then error is logged and empty\ndictionary is returned to glance api.\n\nChange-Id: I76b0a0de54e909fb0ec90bd7f9972da76a2501eb\nCloses-Bug: 1401778\n""}, {'number': 10, 'created': '2015-01-20 09:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/acf34c4d315a0fde9fb3a9148249e675a61567cb', 'message': ""Validate metadata JSON file\n\nIf metadata is not valid dictionary then glance-api\nthrows 'internal server' error.\n\nValidating metadata JSON file using jsonschema library\nat configuration stage and caching metadata and using it\ndirectly when new image being added.\nMetadata JSON file requires 'id' and 'mountpoint' keys\nto be 'string'. If value of 'id' and 'mountpoint' are not\nstring then it will raise ValidationError error.\nAfter getting exception during json data validation,\n'BadStoreConfiguration' exception will be raised.\n\nIf metadata file is list of dicts containing multiple mountpoints\nthen returned image metadata as dict containing exact mountpoint\nwhere image is stored.\n\nIf image path do not starts with any of the 'mountpoint' provided\nin metadata JSON file then error is logged and empty\ndictionary is returned to glance api.\n\nChange-Id: I76b0a0de54e909fb0ec90bd7f9972da76a2501eb\nCloses-Bug: 1401778\n""}, {'number': 11, 'created': '2015-01-21 14:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/3d95f30508f1bdf9a858ca70163b8a4bf3d5717c', 'message': ""Validate metadata JSON file\n\nIf metadata is not valid dictionary then glance-api\nthrows 'internal server' error.\n\nValidating metadata JSON file using jsonschema library\nat configuration stage and caching metadata and using it\ndirectly when new image being added.\nMetadata JSON file requires 'id' and 'mountpoint' keys\nto be 'string'. If value of 'id' and 'mountpoint' are not\nstring then it will raise ValidationError error.\nAfter getting exception during json data validation,\n'BadStoreConfiguration' exception will be raised.\n\nIf metadata file is list of dicts containing multiple mountpoints\nthen returned image metadata as dict containing exact mountpoint\nwhere image is stored.\n\nIf image path do not starts with any of the 'mountpoint' provided\nin metadata JSON file then error is logged and empty\ndictionary is returned to glance api.\n\nChange-Id: I76b0a0de54e909fb0ec90bd7f9972da76a2501eb\nCloses-Bug: 1401778\n""}, {'number': 12, 'created': '2015-01-29 14:43:37.000000000', 'files': ['tests/unit/test_filesystem_store.py', 'requirements.txt', 'glance_store/_drivers/filesystem.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/6b9cfa2951beda340d5d63069d63ddd2bd7a3467', 'message': 'Validate metadata JSON file\n\nIf metadata is not valid dictionary then glance-api\nthrows \'internal server\' error.\n\nValidating metadata JSON file using jsonschema library\nat configuration stage and caching metadata and using it\ndirectly when new image being added.\nMetadata JSON file requires \'id\' and \'mountpoint\' keys\nto be \'string\'. If value of \'id\' and \'mountpoint\' are not\nstring then it will raise ValidationError error.\nAfter getting exception during json data validation,\n\'BadStoreConfiguration\' exception will be raised.\n\nIf metadata file is list of dicts containing multiple mountpoints\nthen returned image metadata as dict containing exact mountpoint\nwhere image is stored.\n\nIf image path do not starts with any of the \'mountpoint\' provided\nin metadata JSON file then error is logged and empty\ndictionary is returned to glance api.\n\nDocImpact:\nMetadata JSON schema file should be valid object. This JSON object\nshould contain keys \'id\', \'mountpoint\' and value of both keys\nshould be string.\n\nExample of valid metadata JSON:\n\n1. If there is only one mountpoint-\n{\n  ""id"": ""f0781415-cf81-47cd-8860-b83f9c2a415c"",\n  ""mountpoint"": ""/var/lib/glance/images/""\n}\n\n2. If there are more than one mountpoints-\n[\n  {\n    ""id"": ""f0781415-cf81-47cd-8860-b83f9c2a415c"",\n    ""mountpoint"": ""/var/lib/glance/images1/""\n  },\n  {\n    ""id"": ""asd81415-cf81-47cd-8860-b83f9c2a415c"",\n    ""mountpoint"": ""/var/lib/glance/images2/""\n  }\n]\n\nChange-Id: I76b0a0de54e909fb0ec90bd7f9972da76a2501eb\nCloses-Bug: 1401778\n'}]",42,141311,6b9cfa2951beda340d5d63069d63ddd2bd7a3467,68,12,12,8300,,,0,"Validate metadata JSON file

If metadata is not valid dictionary then glance-api
throws 'internal server' error.

Validating metadata JSON file using jsonschema library
at configuration stage and caching metadata and using it
directly when new image being added.
Metadata JSON file requires 'id' and 'mountpoint' keys
to be 'string'. If value of 'id' and 'mountpoint' are not
string then it will raise ValidationError error.
After getting exception during json data validation,
'BadStoreConfiguration' exception will be raised.

If metadata file is list of dicts containing multiple mountpoints
then returned image metadata as dict containing exact mountpoint
where image is stored.

If image path do not starts with any of the 'mountpoint' provided
in metadata JSON file then error is logged and empty
dictionary is returned to glance api.

DocImpact:
Metadata JSON schema file should be valid object. This JSON object
should contain keys 'id', 'mountpoint' and value of both keys
should be string.

Example of valid metadata JSON:

1. If there is only one mountpoint-
{
  ""id"": ""f0781415-cf81-47cd-8860-b83f9c2a415c"",
  ""mountpoint"": ""/var/lib/glance/images/""
}

2. If there are more than one mountpoints-
[
  {
    ""id"": ""f0781415-cf81-47cd-8860-b83f9c2a415c"",
    ""mountpoint"": ""/var/lib/glance/images1/""
  },
  {
    ""id"": ""asd81415-cf81-47cd-8860-b83f9c2a415c"",
    ""mountpoint"": ""/var/lib/glance/images2/""
  }
]

Change-Id: I76b0a0de54e909fb0ec90bd7f9972da76a2501eb
Closes-Bug: 1401778
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/11/141311/12 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/test_filesystem_store.py', 'requirements.txt', 'glance_store/_drivers/filesystem.py']",3,81905ddaa8cd0f0daa5aa41cb4c6ec0987033072,bug/1401778,"import jsonschema ""contain a valid JSON dict. Also this dict "" ""should contain keys 'id', 'mountpoint' and all the "" ""values should be string only."")),SCHEMA_FOR_DICT = { ""type"": ""object"", ""properties"": { ""id"": {""type"": ""string""}, ""mountpoint"": {""type"": ""string""}, }, ""required"": [""id"", ""mountpoint""], } SCHEMA_FOR_LIST_OF_DICTS = { ""type"": ""array"", ""items"": { ""type"": ""object"", ""properties"": { ""id"": {""type"": ""string""}, ""mountpoint"": {""type"": ""string""} }, ""required"": [""id"", ""mountpoint""], } } def _get_metadata_from_path(self, path, metadata): """""" Return metadata dictionary containing 'id' and 'mountpoint' if metadata is provided as list of dictionaries. If there are multiple nfs directories (mountpoints) configured for glance, then we need to create metadata JSON file as list of dictionaries containing all mountpoints with unique id. But Nova will not be able to find in which directory (mountpoint) image is present if we store list of dictionary(containing mountpoints) in glance image metadata. So if there are multiple mountpoints then we will return dict containing exact mountpoint where image is stored. :param path: Path of image on store :param metadata: Metadata as dict or list of dicts """""" reason = (_(""The image path %(path)s does not match with any of the "" ""mountpoint defined in metadata : %(metadata)s"") % dict(path=path, metadata=metadata)) if isinstance(metadata, dict): if not path.startswith(metadata['mountpoint']): raise exceptions.BackendException(reason) return metadata if isinstance(metadata, list): for instance_meta in metadata: if path.startswith(instance_meta['mountpoint']): return instance_meta else: raise exceptions.BackendException(reason) def _get_metadata(self, filepath): # If metadata is of type dictionary # i.e. - it contains only one mountpoint if isinstance(metadata, dict): jsonschema.validate(metadata, SCHEMA_FOR_DICT) # If metadata is of type list (list of dicts) # i.e. - it contains multiple mountpoints elif isinstance(metadata, list): jsonschema.validate(metadata, SCHEMA_FOR_LIST_OF_DICTS) # Get metadata dict containing 'id' and 'mountpoint' metadata = self._get_metadata_from_path(filepath, metadata) except jsonschema.exceptions.ValidationError as jev: reason = _LE('The JSON in the metadata file %(file)s is not valid ' 'and it can not be used: %(jev)s \nAn empty ' 'dictionary will be returned to the client.' % dict(file=metadata_file, jev=unicode(jev))) LOG.error(reason) return {} except exceptions.BackendException as bee: reason = _LE('The JSON in the metadata file %(file)s could not ' 'be used: %(bee)s \nAn empty dictionary will be ' 'returned to the client.' % dict(file=metadata_file, bee=unicode(bee))) LOG.error(reason) return {} except ValueError as ve: reason = _LE('Invalid JSON data is provided in file : %(file)s ' 'and it can not be used: %(ve)s' '\nAn empty dictionary will be returned to the ' 'client.' % dict(file=metadata_file, ve=unicode(ve))) LOG.error(reason) metadata = self._get_metadata(filepath)"," ""contain a valid JSON dict."")), def _get_metadata(self): except exceptions.BackendException as bee: LOG.error(_('The JSON in the metadata file %(file)s could not ' 'be used: %(bee)s An empty dictionary will be ' 'returned to the client.') % dict(file=metadata_file, bee=str(bee))) metadata = self._get_metadata()",170,36
openstack%2Fpuppet-nova~master~Ie3a09a03e7b831fca22b2d6275e3c611b020a39f,openstack/puppet-nova,master,Ie3a09a03e7b831fca22b2d6275e3c611b020a39f,Support for heal_instance_info_cache_interval,MERGED,2014-07-07 17:54:28.000000000,2015-02-03 16:32:49.000000000,2015-02-03 16:32:47.000000000,"[{'_account_id': 3}, {'_account_id': 2792}, {'_account_id': 3153}, {'_account_id': 6754}, {'_account_id': 7155}, {'_account_id': 7156}, {'_account_id': 7462}, {'_account_id': 7822}, {'_account_id': 9060}, {'_account_id': 10068}, {'_account_id': 11166}]","[{'number': 1, 'created': '2014-07-07 17:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/356548e9516c3bebbc8c10a0873f9d73bcc0600a', 'message': 'Support for heal_instance_info_cache_interval\n\nChange-Id: Ie3a09a03e7b831fca22b2d6275e3c611b020a39f\n'}, {'number': 2, 'created': '2014-07-13 18:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a5f51ca7c0ecda7e52e2bac42c47e6509c60235c', 'message': ""Support for heal_instance_info_cache_interval\nNova caches a copy of the instance's network information by reaching to neutron for network data.\nThis will be executed on every heal_instance_info_cache_interval(default to 1min). In large scale deployment controlling this param can reduce the load on the neutron api and keystone.\n\nChange-Id: Ie3a09a03e7b831fca22b2d6275e3c611b020a39f\n""}, {'number': 3, 'created': '2014-07-13 18:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7854a07807bc8ec8c88f2e4712745ca735e90677', 'message': ""Support for heal_instance_info_cache_interval\nNova caches a copy of the instance's network information by reaching to neutron for network data.\n\nThis will be executed on every heal_instance_info_cache_interval(default to 1min). \nIn large scale deployment controlling this param can reduce the load on the neutron api and keystone.\n\nChange-Id: Ie3a09a03e7b831fca22b2d6275e3c611b020a39f\n""}, {'number': 4, 'created': '2014-07-20 18:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7d3fbcb926e6730a4218df5cbdfa8759ede0a4fb', 'message': ""Support for heal_instance_info_cache_interval\n\nNova caches a copy of the instance's network information by\nreaching to neutron for network data.\nThis action will be executed on every \nheal_instance_info_cache_interval(default to 1min).\nIn large scale deployment controlling this param will reduce \nthe load on the neutron-server api and keystone.\n\nChange-Id: Ie3a09a03e7b831fca22b2d6275e3c611b020a39f\n""}, {'number': 5, 'created': '2015-02-02 13:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a86f2e1ba10ff6af259b584dfc8c1ce9054482d9', 'message': ""Support for heal_instance_info_cache_interval\n\nNova caches a copy of the instance's network information by reaching\nto neutron for network data. This action will be executed on every\nheal_instance_info_cache_interval (default to 1min). In large scale\ndeployment controlling this param will reduce the load on the\nneutron-server api and keystone.\n\nThe original work on this was done by Liran Cohen of LivePerson; the\nfinalization of the patch was done by Martin Loschwitz from SysEleven.\n\nChange-Id: Ie3a09a03e7b831fca22b2d6275e3c611b020a39f\n""}, {'number': 6, 'created': '2015-02-03 12:23:13.000000000', 'files': ['manifests/compute.pp', 'spec/classes/nova_compute_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/bebce23cb0873eb788c95499a97553e2ab8fc989', 'message': ""Support for heal_instance_info_cache_interval\n\nNova caches a copy of the instance's network information by reaching\nto neutron for network data. This action will be executed on every\nheal_instance_info_cache_interval (default to 1min). In large scale\ndeployment controlling this param will reduce the load on the\nneutron-server api and keystone.\n\nThe original work on this was done by Liran Cohen of LivePerson; the\nfinalization of the patch was done by Martin Loschwitz from SysEleven.\n\nChange-Id: Ie3a09a03e7b831fca22b2d6275e3c611b020a39f\n""}]",1,105245,bebce23cb0873eb788c95499a97553e2ab8fc989,39,11,6,9587,,,0,"Support for heal_instance_info_cache_interval

Nova caches a copy of the instance's network information by reaching
to neutron for network data. This action will be executed on every
heal_instance_info_cache_interval (default to 1min). In large scale
deployment controlling this param will reduce the load on the
neutron-server api and keystone.

The original work on this was done by Liran Cohen of LivePerson; the
finalization of the patch was done by Martin Loschwitz from SysEleven.

Change-Id: Ie3a09a03e7b831fca22b2d6275e3c611b020a39f
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/45/105245/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/nova_init_spec.rb']",2,356548e9516c3bebbc8c10a0873f9d73bcc0600a,nova-params," should contain_nova_config('DEFAULT/heal_instance_info_cache_interval').with_value('60') { :database_connection => 'mysql://user:pass@db/db', :database_idle_timeout => '30', :verbose => true, :debug => true, :log_dir => '/var/log/nova2', :image_service => 'nova.image.local.LocalImageService', :rabbit_host => 'rabbit', :rabbit_userid => 'rabbit_user', :rabbit_port => '5673', :rabbit_password => 'password', :lock_path => '/var/locky/path', :state_path => '/var/lib/nova2', :service_down_time => '120', :auth_strategy => 'foo', :ensure_package => '2012.1.1-15.el6', :memcached_servers => ['memcached01:11211', 'memcached02:11211'], :install_utilities => false, :notification_driver => 'ceilometer.compute.nova_notifier', :notification_topics => 'openstack', :notify_api_faults => true, :nova_user_id => '499', :nova_group_id => '499', :report_interval => '60', :heal_instance_info_cache_interval => '120', :nova_shell => '/bin/bash', :os_region_name => 'MyRegion' } should contain_nova_config('DEFAULT/heal_instance_info_cache_interval').with_value('120')"," { :database_connection => 'mysql://user:pass@db/db', :database_idle_timeout => '30', :verbose => true, :debug => true, :log_dir => '/var/log/nova2', :image_service => 'nova.image.local.LocalImageService', :rabbit_host => 'rabbit', :rabbit_userid => 'rabbit_user', :rabbit_port => '5673', :rabbit_password => 'password', :lock_path => '/var/locky/path', :state_path => '/var/lib/nova2', :service_down_time => '120', :auth_strategy => 'foo', :ensure_package => '2012.1.1-15.el6', :memcached_servers => ['memcached01:11211', 'memcached02:11211'], :install_utilities => false, :notification_driver => 'ceilometer.compute.nova_notifier', :notification_topics => 'openstack', :notify_api_faults => true, :nova_user_id => '499', :nova_group_id => '499', :report_interval => '60', :nova_shell => '/bin/bash', :os_region_name => 'MyRegion' }",101,92
openstack%2Fopenstacksdk~master~I25c041fa621c7cc92da4afc0171435aedd59c8ac,openstack/openstacksdk,master,I25c041fa621c7cc92da4afc0171435aedd59c8ac,Convert the find method to use the page method rather than list,MERGED,2015-01-24 23:51:18.000000000,2015-02-03 16:32:15.000000000,2015-02-03 16:32:15.000000000,"[{'_account_id': 3}, {'_account_id': 8257}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-01-24 23:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/231cdb66bb8bac5e391f3f481a764eeb2339c84f', 'message': ""Convert the find method to use the page method rather than list\n\nFind can be more efficient if it doesn't use the list method\nsince with find we can specify a limit of 2.  If we get more\nthan 2 results, we have a duplicate.\n\nChange-Id: I25c041fa621c7cc92da4afc0171435aedd59c8ac\n""}, {'number': 2, 'created': '2015-01-28 16:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1208ef080964d2fc74e772bb1faf6d98780477be', 'message': ""Convert the find method to use the page method rather than list\n\nFind can be more efficient if it doesn't use the list method\nsince with find we can specify a limit of 2.  If we get more\nthan 2 results, we have a duplicate.\n\nChange-Id: I25c041fa621c7cc92da4afc0171435aedd59c8ac\n""}, {'number': 3, 'created': '2015-02-03 16:16:48.000000000', 'files': ['openstack/resource.py', 'openstack/tests/test_resource.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/01a4f899ffa4c4aaa7aff662952becf6c14353cf', 'message': ""Convert the find method to use the page method rather than list\n\nFind can be more efficient if it doesn't use the list method\nsince with find we can specify a limit of 2.  If we get more\nthan 2 results, we have a duplicate.\n\nChange-Id: I25c041fa621c7cc92da4afc0171435aedd59c8ac\n""}]",1,149850,01a4f899ffa4c4aaa7aff662952becf6c14353cf,12,3,3,8736,,,0,"Convert the find method to use the page method rather than list

Find can be more efficient if it doesn't use the list method
since with find we can specify a limit of 2.  If we get more
than 2 results, we have a duplicate.

Change-Id: I25c041fa621c7cc92da4afc0171435aedd59c8ac
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/50/149850/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/resource.py', 'openstack/tests/test_resource.py']",2,231cdb66bb8bac5e391f3f481a764eeb2339c84f,find_by_page," path = fake_path + ""?limit=2"" self.mock_get.assert_any_call(path, params=p, service=None) path = fake_path + ""?limit=2"" self.mock_get.assert_any_call(path, params=p, service=None) path = fake_path + ""?limit=2"" self.mock_get.assert_any_call(path, params=p, service=None) path = fake_path + ""?limit=2"" self.mock_get.assert_any_call(path, params=p, service=None)"," self.mock_get.assert_any_call(fake_path, params=p, service=None) self.mock_get.assert_any_call(fake_path, params=p, service=None) self.mock_get.assert_any_call(fake_path, params=p, service=None) self.mock_get.assert_any_call(fake_path, params=p, service=None)",16,26
openstack%2Fironic~master~I2a4f5c4f6ef22092ca97734d02b54838f38b0602,openstack/ironic,master,I2a4f5c4f6ef22092ca97734d02b54838f38b0602,Partial revert of 4606716 until we debug further,MERGED,2015-02-02 22:59:54.000000000,2015-02-03 16:18:36.000000000,2015-02-03 16:18:35.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 1926}, {'_account_id': 5805}, {'_account_id': 6773}, {'_account_id': 10239}, {'_account_id': 12081}]","[{'number': 1, 'created': '2015-02-02 22:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f9582c27fbac89c6d23f1800281382aac1b4877f', 'message': 'Partial revert of 4606716 until we debug further\n\nThis patch partially reverts 46067160e6787631fb5a55193a02794449f22ebf\nwhich breaks deployment on some distros (Fedora). Using this\npatch fixes deployment when trying to deploy on a real baremetal\nundercloud using Fedora (my dev environment).\n\nNot doing a full revert because this patch was large and it now\ncauses conflicts to revert cleanly.\n\nPartial bug: 1417307\n\nChange-Id: I2a4f5c4f6ef22092ca97734d02b54838f38b0602\n'}, {'number': 2, 'created': '2015-02-03 00:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/782e0bd13ee3d9ddfbb0b874a3f9bc2e3047f7a8', 'message': 'Partial revert of 4606716 until we debug further\n\nThis patch partially reverts 46067160e6787631fb5a55193a02794449f22ebf\nwhich breaks deployment on some distros (Fedora). Using this\npatch fixes deployment when trying to deploy on a real baremetal\nundercloud using Fedora (my dev environment).\n\nNot doing a full revert because this patch was large and it now\ncauses conflicts to revert cleanly.\n\nPartial bug: 1417307\n\nChange-Id: I2a4f5c4f6ef22092ca97734d02b54838f38b0602\n'}, {'number': 3, 'created': '2015-02-03 13:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2af16d3d675e9c8f6cf86f518a398f09e887044b', 'message': 'Partial revert of 4606716 until we debug further\n\nThis patch partially reverts 46067160e6787631fb5a55193a02794449f22ebf\nwhich breaks deployment on some distros (Fedora). Using this\npatch fixes deployment when trying to deploy on a real baremetal\nundercloud using Fedora (my dev environment).\n\nNot doing a full revert because this patch was large and it now\ncauses conflicts to revert cleanly.\n\nPartial bug: 1417307\n\nChange-Id: I2a4f5c4f6ef22092ca97734d02b54838f38b0602\n'}, {'number': 4, 'created': '2015-02-03 13:06:07.000000000', 'files': ['ironic/drivers/modules/deploy_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/53a93ad49d5ffcd1ae76747ca826676e4c4ef5cb', 'message': 'Partial revert of 4606716 until we debug further\n\nThis patch partially reverts 46067160e6787631fb5a55193a02794449f22ebf\nwhich breaks deployment on some distros (Fedora). Using this\npatch fixes deployment when trying to deploy on a real baremetal\nundercloud using Fedora (my dev environment).\n\nNot doing a full revert because this patch was large and it now\ncauses conflicts to revert cleanly.\n\nPartial bug: 1417307\n\nChange-Id: I2a4f5c4f6ef22092ca97734d02b54838f38b0602\n'}]",1,152328,53a93ad49d5ffcd1ae76747ca826676e4c4ef5cb,26,7,4,360,,,0,"Partial revert of 4606716 until we debug further

This patch partially reverts 46067160e6787631fb5a55193a02794449f22ebf
which breaks deployment on some distros (Fedora). Using this
patch fixes deployment when trying to deploy on a real baremetal
undercloud using Fedora (my dev environment).

Not doing a full revert because this patch was large and it now
causes conflicts to revert cleanly.

Partial bug: 1417307

Change-Id: I2a4f5c4f6ef22092ca97734d02b54838f38b0602
",git fetch https://review.opendev.org/openstack/ironic refs/changes/28/152328/3 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/deploy_utils.py'],1,f9582c27fbac89c6d23f1800281382aac1b4877f,bug/1417307, #NOTE(dprince: partial revert of 4606716 until we debug further) time.sleep(3) #verify_iscsi_connection(target_iqn) #force_iscsi_lun_update(target_iqn), verify_iscsi_connection(target_iqn) force_iscsi_lun_update(target_iqn),4,2
openstack%2Fnova~master~I076d35d2c4a54816b00345a6ef563853e2abae11,openstack/nova,master,I076d35d2c4a54816b00345a6ef563853e2abae11,check the configuration num_vbd_unplug_retries,MERGED,2014-09-23 03:36:36.000000000,2015-02-03 16:18:10.000000000,2015-02-03 16:18:05.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5367}, {'_account_id': 5441}, {'_account_id': 5638}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11530}, {'_account_id': 11642}]","[{'number': 1, 'created': '2014-09-23 03:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f67488c12c27cca3e62356581e5e0812a2b0eb79', 'message': 'check the configuration num_vbd_unplug_retries\n\nwe need to to check the value of the configuration item\nnum_vbd_unplug_retries in the code in order to ensure the ""\nnum_vbd_unplug_retries "" equal or bigger than 0 , done like that the\nconfiguration item network_allocate_retries\n\nChange-Id: I076d35d2c4a54816b00345a6ef563853e2abae11\nCloses-Bug: #1372436\n'}, {'number': 2, 'created': '2014-09-23 08:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb4d412b5057667d954226aad1e0be0650a21752', 'message': 'check the configuration num_vbd_unplug_retries\n\nwe need to check the value of the configuration item\nnum_vbd_unplug_retries in the code in order to ensure the ""\nnum_vbd_unplug_retries "" equal or bigger than 0 , done like that the\nconfiguration item network_allocate_retries\n\nChange-Id: I076d35d2c4a54816b00345a6ef563853e2abae11\nCloses-Bug: #1372436\n'}, {'number': 3, 'created': '2014-09-23 12:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de631259fc50fafdcb279b20bb9432158fc85b51', 'message': 'check the configuration num_vbd_unplug_retries\n\nwe need to to check the value of the configuration item\nnum_vbd_unplug_retries in the code in order to ensure the ""\nnum_vbd_unplug_retries "" equal or bigger than 0 , done like that the\nconfiguration item network_allocate_retries\n\nChange-Id: I076d35d2c4a54816b00345a6ef563853e2abae11\nCloses-Bug: #1372436\n'}, {'number': 4, 'created': '2014-09-24 11:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3a59eef8c61c3ea0f2dd36d9658ee1167c55671', 'message': 'check the configuration num_vbd_unplug_retries\n\nwe need to to check the value of the configuration item\nnum_vbd_unplug_retries in the code in order to ensure the ""\nnum_vbd_unplug_retries "" equal or bigger than 0 , done like that the\nconfiguration item network_allocate_retries\n\nChange-Id: I076d35d2c4a54816b00345a6ef563853e2abae11\nCloses-Bug: #1372436\n'}, {'number': 5, 'created': '2014-09-25 12:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df58738947d3fc5911fb2f62a24006b26bb89036', 'message': ""nova: add a better coverage for num_vbd_unplug_retries's option \n\nEnsures that the glance num_vbd_unplug_retries's option is equal or bigger\nthan 0.Inspired by the configuration option 'network_allocate_retries'.\n\nChange-Id: I076d35d2c4a54816b00345a6ef563853e2abae11\nCloses-Bug: #1372436\n""}, {'number': 6, 'created': '2014-10-16 03:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db64fdf4d60b0a5f743f7c22bdcdea082bea3b36', 'message': 'check the configuration num_vbd_unplug_retries\n\nwe need to to check the value of the configuration item\nnum_vbd_unplug_retries in the code in order to ensure the ""\nnum_vbd_unplug_retries "" equal or bigger than 0 , done like that the\nconfiguration item network_allocate_retries\n\nChange-Id: I076d35d2c4a54816b00345a6ef563853e2abae11\nCloses-Bug: #1372436\n'}, {'number': 7, 'created': '2014-10-23 01:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68adbeda090dfbd1d417158086151cd56fefe782', 'message': 'check the configuration num_vbd_unplug_retries\n\nwe need to to check the value of the configuration item\nnum_vbd_unplug_retries in the code in order to ensure the ""\nnum_vbd_unplug_retries "" equal or bigger than 0 , done like that the\nconfiguration item network_allocate_retries\n\nChange-Id: I076d35d2c4a54816b00345a6ef563853e2abae11\nCloses-Bug: #1372436\n'}, {'number': 8, 'created': '2014-12-09 12:31:38.000000000', 'files': ['nova/virt/xenapi/vm_utils.py', 'nova/tests/unit/virt/xenapi/test_vm_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fd40541cafb2af643062dbdce87478aea3cc7bfc', 'message': 'check the configuration num_vbd_unplug_retries\n\nwe need to to check the value of the configuration item\nnum_vbd_unplug_retries in the code in order to ensure the ""\nnum_vbd_unplug_retries "" equal or bigger than 0 , done like that the\nconfiguration item network_allocate_retries\n\nChange-Id: I076d35d2c4a54816b00345a6ef563853e2abae11\nCloses-Bug: #1372436\n'}]",1,123321,fd40541cafb2af643062dbdce87478aea3cc7bfc,58,14,8,11530,,,0,"check the configuration num_vbd_unplug_retries

we need to to check the value of the configuration item
num_vbd_unplug_retries in the code in order to ensure the ""
num_vbd_unplug_retries "" equal or bigger than 0 , done like that the
configuration item network_allocate_retries

Change-Id: I076d35d2c4a54816b00345a6ef563853e2abae11
Closes-Bug: #1372436
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/123321/8 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/xenapi/vm_utils.py'],1,f67488c12c27cca3e62356581e5e0812a2b0eb79,bug/1372436," max_attempts = max(0, CONF.xenserver.num_vbd_unplug_retries) + 1", max_attempts = CONF.xenserver.num_vbd_unplug_retries + 1,1,1
openstack%2Fpython-saharaclient~master~Ibdb97023977db36f89570344b731e5ad4028cc43,openstack/python-saharaclient,master,Ibdb97023977db36f89570344b731e5ad4028cc43,Update apiclient.auth oslo-incubator module,MERGED,2015-01-27 13:17:50.000000000,2015-02-03 16:17:56.000000000,2015-02-03 11:55:29.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 7555}, {'_account_id': 7710}, {'_account_id': 8411}, {'_account_id': 12038}, {'_account_id': 12039}]","[{'number': 1, 'created': '2015-01-27 13:17:50.000000000', 'files': ['saharaclient/openstack/common/apiclient/auth.py'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/d443d80035861f6f8441713c0bd0bcd08a1f73ef', 'message': 'Update apiclient.auth oslo-incubator module\n\nChanges -\n * deprecate apiclient package\n\nChange-Id: Ibdb97023977db36f89570344b731e5ad4028cc43\n'}]",3,150409,d443d80035861f6f8441713c0bd0bcd08a1f73ef,22,8,1,7555,,,0,"Update apiclient.auth oslo-incubator module

Changes -
 * deprecate apiclient package

Change-Id: Ibdb97023977db36f89570344b731e5ad4028cc43
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/09/150409/1 && git format-patch -1 --stdout FETCH_HEAD,['saharaclient/openstack/common/apiclient/auth.py'],1,d443d80035861f6f8441713c0bd0bcd08a1f73ef,,######################################################################## # # THIS MODULE IS DEPRECATED # # Please refer to # https://etherpad.openstack.org/p/kilo-saharaclient-library-proposals for # the discussion leading to this deprecation. # # We recommend checking out the python-openstacksdk project # (https://launchpad.net/python-openstacksdk) instead. # ######################################################################## ,,13,0
openstack%2Fpuppet-vswitch~master~I8c374db05c41c6cf9bde3dfcf17f97e1088b50c2,openstack/puppet-vswitch,master,I8c374db05c41c6cf9bde3dfcf17f97e1088b50c2,spec: pin rspec-puppet to 1.0.1,MERGED,2015-02-03 14:35:12.000000000,2015-02-03 16:11:41.000000000,2015-02-03 15:44:11.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6994}]","[{'number': 1, 'created': '2015-02-03 14:35:12.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/331726326a275da158a62cafdd49fb961a71d3e2', 'message': ""spec: pin rspec-puppet to 1.0.1\n\nrspec-puppet (2.0.0) was released yesterday[1], this new version broke\npuppet-openstack unit tests (undefined method `resource')[2] as talked on\nand in a second time to update your specs to 2.0.0 and rspec 3.x`)\n\n[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474\n[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html\n\nChange-Id: I8c374db05c41c6cf9bde3dfcf17f97e1088b50c2\nPartial-bug: #1417604\n""}]",0,152549,331726326a275da158a62cafdd49fb961a71d3e2,8,3,1,7155,,,0,"spec: pin rspec-puppet to 1.0.1

rspec-puppet (2.0.0) was released yesterday[1], this new version broke
puppet-openstack unit tests (undefined method `resource')[2] as talked on
and in a second time to update your specs to 2.0.0 and rspec 3.x`)

[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474
[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html

Change-Id: I8c374db05c41c6cf9bde3dfcf17f97e1088b50c2
Partial-bug: #1417604
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/49/152549/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,331726326a275da158a62cafdd49fb961a71d3e2,bug/1417604," gem 'rspec-puppet', '~> 1.0.1'",,1,0
openstack%2Fpuppet-swift~master~Ia98ccb05dddf592b5680cf27dfbc37c96e691f04,openstack/puppet-swift,master,Ia98ccb05dddf592b5680cf27dfbc37c96e691f04,spec: pin rspec-puppet to 1.0.1,MERGED,2015-02-03 14:34:54.000000000,2015-02-03 16:11:27.000000000,2015-02-03 15:47:04.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6994}]","[{'number': 1, 'created': '2015-02-03 14:34:54.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/2c61fd3187b2f367aa4738bb8239933aec1ff883', 'message': ""spec: pin rspec-puppet to 1.0.1\n\nrspec-puppet (2.0.0) was released yesterday[1], this new version broke\npuppet-openstack unit tests (undefined method `resource')[2] as talked on\nand in a second time to update your specs to 2.0.0 and rspec 3.x`)\n\n[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474\n[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html\n\nChange-Id: Ia98ccb05dddf592b5680cf27dfbc37c96e691f04\nPartial-bug: #1417604\n""}]",0,152545,2c61fd3187b2f367aa4738bb8239933aec1ff883,8,3,1,7155,,,0,"spec: pin rspec-puppet to 1.0.1

rspec-puppet (2.0.0) was released yesterday[1], this new version broke
puppet-openstack unit tests (undefined method `resource')[2] as talked on
and in a second time to update your specs to 2.0.0 and rspec 3.x`)

[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474
[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html

Change-Id: Ia98ccb05dddf592b5680cf27dfbc37c96e691f04
Partial-bug: #1417604
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/45/152545/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,2c61fd3187b2f367aa4738bb8239933aec1ff883,bug/1417604," gem 'rspec-puppet', '~> 1.0.1'",,1,0
openstack%2Fpuppet-glance~master~I7474f99231c8edbafcf4576f78e58506410e7052,openstack/puppet-glance,master,I7474f99231c8edbafcf4576f78e58506410e7052,spec: pin rspec-puppet to 1.0.1,MERGED,2015-02-03 14:33:45.000000000,2015-02-03 16:11:13.000000000,2015-02-03 15:50:13.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6994}]","[{'number': 1, 'created': '2015-02-03 14:33:45.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/eed2801f238fd4c518a552dd0e055b812903f54f', 'message': ""spec: pin rspec-puppet to 1.0.1\n\nrspec-puppet (2.0.0) was released yesterday[1], this new version broke\npuppet-openstack unit tests (undefined method `resource')[2] as talked on\nand in a second time to update your specs to 2.0.0 and rspec 3.x`)\n\n[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474\n[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html\n\nChange-Id: I7474f99231c8edbafcf4576f78e58506410e7052\nPartial-bug: #1417604\n""}]",0,152533,eed2801f238fd4c518a552dd0e055b812903f54f,8,3,1,7155,,,0,"spec: pin rspec-puppet to 1.0.1

rspec-puppet (2.0.0) was released yesterday[1], this new version broke
puppet-openstack unit tests (undefined method `resource')[2] as talked on
and in a second time to update your specs to 2.0.0 and rspec 3.x`)

[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474
[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html

Change-Id: I7474f99231c8edbafcf4576f78e58506410e7052
Partial-bug: #1417604
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/33/152533/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,eed2801f238fd4c518a552dd0e055b812903f54f,bug/1417604," gem 'rspec-puppet', '~> 1.0.1'",,1,0
openstack%2Fpuppet-horizon~master~Ic4dd93b3dbb8b22cd31e93e0c18ba7356a79d7b6,openstack/puppet-horizon,master,Ic4dd93b3dbb8b22cd31e93e0c18ba7356a79d7b6,spec: pin rspec-puppet to 1.0.1,MERGED,2015-02-03 14:33:59.000000000,2015-02-03 16:10:57.000000000,2015-02-03 15:50:22.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6994}]","[{'number': 1, 'created': '2015-02-03 14:33:59.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/1c31420b4a444443eba2d9d1710b1200d905ccdf', 'message': ""spec: pin rspec-puppet to 1.0.1\n\nrspec-puppet (2.0.0) was released yesterday[1], this new version broke\npuppet-openstack unit tests (undefined method `resource')[2] as talked on\nand in a second time to update your specs to 2.0.0 and rspec 3.x`)\n\n[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474\n[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html\n\nChange-Id: Ic4dd93b3dbb8b22cd31e93e0c18ba7356a79d7b6\nPartial-bug: #1417604\n""}]",0,152536,1c31420b4a444443eba2d9d1710b1200d905ccdf,8,3,1,7155,,,0,"spec: pin rspec-puppet to 1.0.1

rspec-puppet (2.0.0) was released yesterday[1], this new version broke
puppet-openstack unit tests (undefined method `resource')[2] as talked on
and in a second time to update your specs to 2.0.0 and rspec 3.x`)

[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474
[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html

Change-Id: Ic4dd93b3dbb8b22cd31e93e0c18ba7356a79d7b6
Partial-bug: #1417604
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/36/152536/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,1c31420b4a444443eba2d9d1710b1200d905ccdf,bug/1417604," gem 'rspec-puppet', '~> 1.0.1'",,1,0
openstack%2Fpuppet-keystone~master~I2a44926b034a831a010090c2ec43e96190431c16,openstack/puppet-keystone,master,I2a44926b034a831a010090c2ec43e96190431c16,spec: pin rspec-puppet to 1.0.1,MERGED,2015-02-03 14:34:08.000000000,2015-02-03 16:10:52.000000000,2015-02-03 15:50:52.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6994}, {'_account_id': 9500}]","[{'number': 1, 'created': '2015-02-03 14:34:08.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/36e4c8861803c7b698a3f36612fffeb1614646d1', 'message': ""spec: pin rspec-puppet to 1.0.1\n\nrspec-puppet (2.0.0) was released yesterday[1], this new version broke\npuppet-openstack unit tests (undefined method `resource')[2] as talked on\nand in a second time to update your specs to 2.0.0 and rspec 3.x`)\n\n[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474\n[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html\n\nChange-Id: I2a44926b034a831a010090c2ec43e96190431c16\nPartial-bug: #1417604\n""}]",0,152538,36e4c8861803c7b698a3f36612fffeb1614646d1,9,4,1,7155,,,0,"spec: pin rspec-puppet to 1.0.1

rspec-puppet (2.0.0) was released yesterday[1], this new version broke
puppet-openstack unit tests (undefined method `resource')[2] as talked on
and in a second time to update your specs to 2.0.0 and rspec 3.x`)

[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474
[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html

Change-Id: I2a44926b034a831a010090c2ec43e96190431c16
Partial-bug: #1417604
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/38/152538/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,36e4c8861803c7b698a3f36612fffeb1614646d1,bug/1417604," gem 'rspec-puppet', '~> 1.0.1'",,1,0
openstack%2Fpuppet-openstacklib~master~I5517a8c21acfb879a8210487748d8f2d049d0b9d,openstack/puppet-openstacklib,master,I5517a8c21acfb879a8210487748d8f2d049d0b9d,spec: pin rspec-puppet to 1.0.1,MERGED,2015-02-03 14:34:45.000000000,2015-02-03 16:10:43.000000000,2015-02-03 15:50:26.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6994}]","[{'number': 1, 'created': '2015-02-03 14:34:45.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/b7d3c8eaaf47ffbddb50cd942f8654e1aa8fe2f2', 'message': ""spec: pin rspec-puppet to 1.0.1\n\nrspec-puppet (2.0.0) was released yesterday[1], this new version broke\npuppet-openstack unit tests (undefined method `resource')[2] as talked on\nand in a second time to update your specs to 2.0.0 and rspec 3.x`)\n\n[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474\n[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html\n\nChange-Id: I5517a8c21acfb879a8210487748d8f2d049d0b9d\nPartial-bug: #1417604\n""}]",0,152543,b7d3c8eaaf47ffbddb50cd942f8654e1aa8fe2f2,8,3,1,7155,,,0,"spec: pin rspec-puppet to 1.0.1

rspec-puppet (2.0.0) was released yesterday[1], this new version broke
puppet-openstack unit tests (undefined method `resource')[2] as talked on
and in a second time to update your specs to 2.0.0 and rspec 3.x`)

[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474
[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html

Change-Id: I5517a8c21acfb879a8210487748d8f2d049d0b9d
Partial-bug: #1417604
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/43/152543/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,b7d3c8eaaf47ffbddb50cd942f8654e1aa8fe2f2,bug/1417604," gem 'rspec-puppet', '~> 1.0.1'",,1,0
openstack%2Fpuppet-ceilometer~master~Ia41394433be65435fc7de6327a5659b26e1a85a5,openstack/puppet-ceilometer,master,Ia41394433be65435fc7de6327a5659b26e1a85a5,spec: pin rspec-puppet to 1.0.1,MERGED,2015-02-03 14:33:26.000000000,2015-02-03 16:10:39.000000000,2015-02-03 15:51:52.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6994}, {'_account_id': 9500}]","[{'number': 1, 'created': '2015-02-03 14:33:26.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/71f27f1a49d04f13cf950871946b2da8240c54fc', 'message': ""spec: pin rspec-puppet to 1.0.1\n\nrspec-puppet (2.0.0) was released yesterday[1], this new version broke\npuppet-openstack unit tests (undefined method `resource')[2] as talked on\nand in a second time to update your specs to 2.0.0 and rspec 3.x`)\n\n[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474\n[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html\n\nChange-Id: Ia41394433be65435fc7de6327a5659b26e1a85a5\nPartial-bug: #1417604\n""}]",0,152529,71f27f1a49d04f13cf950871946b2da8240c54fc,9,4,1,7155,,,0,"spec: pin rspec-puppet to 1.0.1

rspec-puppet (2.0.0) was released yesterday[1], this new version broke
puppet-openstack unit tests (undefined method `resource')[2] as talked on
and in a second time to update your specs to 2.0.0 and rspec 3.x`)

[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474
[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html

Change-Id: Ia41394433be65435fc7de6327a5659b26e1a85a5
Partial-bug: #1417604
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/29/152529/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,71f27f1a49d04f13cf950871946b2da8240c54fc,bug/1417604," gem 'rspec-puppet', '~> 1.0.1'",,1,0
openstack%2Fpuppet-heat~master~If038d97ca2e0fb6701de7f3c47b5800356aa423d,openstack/puppet-heat,master,If038d97ca2e0fb6701de7f3c47b5800356aa423d,spec: pin rspec-puppet to 1.0.1,MERGED,2015-02-03 14:33:54.000000000,2015-02-03 16:10:31.000000000,2015-02-03 15:51:09.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6994}, {'_account_id': 9500}]","[{'number': 1, 'created': '2015-02-03 14:33:54.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/3d32a5289b1bea5dd84d6180eca6fdcecfc11a52', 'message': ""spec: pin rspec-puppet to 1.0.1\n\nrspec-puppet (2.0.0) was released yesterday[1], this new version broke\npuppet-openstack unit tests (undefined method `resource')[2] as talked on\nand in a second time to update your specs to 2.0.0 and rspec 3.x`)\n\n[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474\n[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html\n\nChange-Id: If038d97ca2e0fb6701de7f3c47b5800356aa423d\nPartial-bug: #1417604\n""}]",0,152535,3d32a5289b1bea5dd84d6180eca6fdcecfc11a52,9,4,1,7155,,,0,"spec: pin rspec-puppet to 1.0.1

rspec-puppet (2.0.0) was released yesterday[1], this new version broke
puppet-openstack unit tests (undefined method `resource')[2] as talked on
and in a second time to update your specs to 2.0.0 and rspec 3.x`)

[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474
[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html

Change-Id: If038d97ca2e0fb6701de7f3c47b5800356aa423d
Partial-bug: #1417604
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/35/152535/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,3d32a5289b1bea5dd84d6180eca6fdcecfc11a52,bug/1417604," gem 'rspec-puppet', '~> 1.0.1'",,1,0
openstack%2Fpuppet-neutron~master~I711cc3c99565edbf4bebf9f5f36a387ebe1665c7,openstack/puppet-neutron,master,I711cc3c99565edbf4bebf9f5f36a387ebe1665c7,spec: pin rspec-puppet to 1.0.1,MERGED,2015-02-03 14:34:33.000000000,2015-02-03 16:10:20.000000000,2015-02-03 15:52:48.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6994}]","[{'number': 1, 'created': '2015-02-03 14:34:33.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/b561004004b62488a5cdbaf8dd45c4ef522c68c6', 'message': ""spec: pin rspec-puppet to 1.0.1\n\nrspec-puppet (2.0.0) was released yesterday[1], this new version broke\npuppet-openstack unit tests (undefined method `resource')[2] as talked on\nand in a second time to update your specs to 2.0.0 and rspec 3.x`)\n\n[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474\n[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html\n\nChange-Id: I711cc3c99565edbf4bebf9f5f36a387ebe1665c7\nPartial-bug: #1417604\n""}]",0,152541,b561004004b62488a5cdbaf8dd45c4ef522c68c6,8,3,1,7155,,,0,"spec: pin rspec-puppet to 1.0.1

rspec-puppet (2.0.0) was released yesterday[1], this new version broke
puppet-openstack unit tests (undefined method `resource')[2] as talked on
and in a second time to update your specs to 2.0.0 and rspec 3.x`)

[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474
[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html

Change-Id: I711cc3c99565edbf4bebf9f5f36a387ebe1665c7
Partial-bug: #1417604
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/41/152541/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,b561004004b62488a5cdbaf8dd45c4ef522c68c6,bug/1417604," gem 'rspec-puppet', '~> 1.0.1'",,1,0
openstack%2Fmonasca-ui~master~I7a7812f04739a9f30324a0a7d092336151ad1e18,openstack/monasca-ui,master,I7a7812f04739a9f30324a0a7d092336151ad1e18,Fix filter action logic to allow server side filtering in future,MERGED,2015-01-29 20:44:48.000000000,2015-02-03 16:08:57.000000000,2015-02-03 16:08:56.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 6230}]","[{'number': 1, 'created': '2015-01-29 20:44:48.000000000', 'files': ['monitoring/alarmdefs/tables.py', 'monitoring/alarms/tables.py', 'monitoring/notifications/tables.py'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/1130a7fe2f9a9c5d782f59e3ea3cc6a17a3149dd', 'message': 'Fix filter action logic to allow server side filtering in future\n\nChange-Id: I7a7812f04739a9f30324a0a7d092336151ad1e18\n'}]",0,151378,1130a7fe2f9a9c5d782f59e3ea3cc6a17a3149dd,7,3,1,6230,,,0,"Fix filter action logic to allow server side filtering in future

Change-Id: I7a7812f04739a9f30324a0a7d092336151ad1e18
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/78/151378/1 && git format-patch -1 --stdout FETCH_HEAD,"['monitoring/alarmdefs/tables.py', 'monitoring/alarms/tables.py', 'monitoring/notifications/tables.py']",3,1130a7fe2f9a9c5d782f59e3ea3cc6a17a3149dd,, if q in notif['name'].lower()], if q in notif.name.lower()],3,3
openstack%2Fopenstacksdk~master~I7f0e4522185ebaddab9d38f23b37019e1bf3874f,openstack/openstacksdk,master,I7f0e4522185ebaddab9d38f23b37019e1bf3874f,Add the capability for the user to get a page of data,MERGED,2015-01-24 23:16:08.000000000,2015-02-03 16:05:17.000000000,2015-02-03 16:05:15.000000000,"[{'_account_id': 3}, {'_account_id': 8257}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-01-24 23:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/605855dc48b49f73830965a7419b91b16ae1713d', 'message': 'Add the capability for the user to get a page of data\n\nPull the page logic out of list so applications can get pages\none at a time.\n\nChange-Id: I7f0e4522185ebaddab9d38f23b37019e1bf3874f\n'}, {'number': 2, 'created': '2015-01-26 13:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f7a5c50f669aa6d75c47323f00dfc233e1e88526', 'message': 'Add the capability for the user to get a page of data\n\nPull the page logic out of list so applications can get pages\none at a time.\n\nChange-Id: I7f0e4522185ebaddab9d38f23b37019e1bf3874f\n'}, {'number': 3, 'created': '2015-01-26 22:03:34.000000000', 'files': ['openstack/resource.py', 'openstack/tests/test_resource.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/00fae4b800da9f8e931157c630bd3e08dc74d214', 'message': 'Add the capability for the user to get a page of data\n\nPull the page logic out of list so applications can get pages\none at a time.\n\nChange-Id: I7f0e4522185ebaddab9d38f23b37019e1bf3874f\n'}]",0,149848,00fae4b800da9f8e931157c630bd3e08dc74d214,13,3,3,8736,,,0,"Add the capability for the user to get a page of data

Pull the page logic out of list so applications can get pages
one at a time.

Change-Id: I7f0e4522185ebaddab9d38f23b37019e1bf3874f
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/48/149848/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/resource.py'],1,605855dc48b49f73830965a7419b91b16ae1713d,page," resp = cls.page(session, limit, marker, path_args, **params) def page(cls, session, limit, marker, path_args=None, **params): """"""Get a one page response. This method gets starting at ``marker`` with a maximum of ``limit`` records. :param session: The session to use for making this request. :type session: :class:`~openstack.session.Session` :param limit: The maximum amount of results to retrieve. :param marker: The position in the list to begin requests from. The type of value to use for ``marker`` depends on the API being called. :param dict path_args: A dictionary of arguments to construct a compound URL. See `How path_args are used`_ for details. :param dict params: Parameters to be passed into the underlying :meth:`~openstack.session.Session.get` method. :return: An array of :class:`Resource` objects. :raises: :exc:`~openstack.exceptions.MethodNotSupported` if :data:`Resource.allow_list` is not set to ``True``. """""" filters = {} if limit: filters['limit'] = limit if marker: filters['marker'] = marker if path_args: url = cls.base_path % path_args else: url = cls.base_path if filters: url = '%s?%s' % (url, url_parse.urlencode(filters)) resp = session.get(url, service=cls.service, params=params).body if cls.resources_key: resp = resp[cls.resources_key] return resp @classmethod"," filters = {} if limit: filters['limit'] = limit if marker: filters['marker'] = marker if path_args: url = cls.base_path % path_args else: url = cls.base_path if filters: url = '%s?%s' % (url, url_parse.urlencode(filters)) resp = session.get(url, service=cls.service, params=params).body if cls.resources_key: resp = resp[cls.resources_key]",46,18
openstack%2Fnova~master~I02f47ee69b48a38db348573259d471cd3b236231,openstack/nova,master,I02f47ee69b48a38db348573259d471cd3b236231,Fix likely undesired use of redirection,MERGED,2015-02-02 15:35:10.000000000,2015-02-03 16:04:35.000000000,2015-02-03 16:04:32.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 9555}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-02-02 15:35:10.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/6ca2947e2688d2e0c6735cfed7a3266916ed312d', 'message': 'Fix likely undesired use of redirection\n\nRedirection set up like this will not work as expected as the\nduplication (2>&1 part) is set up before redirection, and thus only\nstdout ends up getting redirected.\n\nChange-Id: I02f47ee69b48a38db348573259d471cd3b236231\n'}]",0,152158,6ca2947e2688d2e0c6735cfed7a3266916ed312d,13,9,1,5511,,,0,"Fix likely undesired use of redirection

Redirection set up like this will not work as expected as the
duplication (2>&1 part) is set up before redirection, and thus only
stdout ends up getting redirected.

Change-Id: I02f47ee69b48a38db348573259d471cd3b236231
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/152158/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,6ca2947e2688d2e0c6735cfed7a3266916ed312d,fix_filede_redirection, if ${wrapper} which subunit-2to1 >/dev/null 2>&1, if ${wrapper} which subunit-2to1 2>&1 > /dev/null,1,1
openstack%2Ftripleo-image-elements~master~If87696f57709d6cc658a3190e8d940422c34e656,openstack/tripleo-image-elements,master,If87696f57709d6cc658a3190e8d940422c34e656,Fix multipath.conf devnode blacklist expression,MERGED,2015-01-27 11:44:52.000000000,2015-02-03 15:57:40.000000000,2015-02-03 15:57:38.000000000,"[{'_account_id': 3}, {'_account_id': 215}, {'_account_id': 5215}, {'_account_id': 6153}, {'_account_id': 7579}, {'_account_id': 8688}, {'_account_id': 11650}, {'_account_id': 13728}]","[{'number': 1, 'created': '2015-01-27 11:44:52.000000000', 'files': ['elements/multipath/files/multipath.conf'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/97736ed1f098df2da2224ebe937d4378cfa17b8e', 'message': 'Fix multipath.conf devnode blacklist expression\n\nThe default multipath.conf installed with this element disables\nmultipath for all devices. This change fixes the blacklist expression in\nthat multipath.conf to use a regular expression.\n\nChange-Id: If87696f57709d6cc658a3190e8d940422c34e656\n'}]",0,150376,97736ed1f098df2da2224ebe937d4378cfa17b8e,24,8,1,6153,,,0,"Fix multipath.conf devnode blacklist expression

The default multipath.conf installed with this element disables
multipath for all devices. This change fixes the blacklist expression in
that multipath.conf to use a regular expression.

Change-Id: If87696f57709d6cc658a3190e8d940422c34e656
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/76/150376/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/multipath/files/multipath.conf'],1,97736ed1f098df2da2224ebe937d4378cfa17b8e,," devnode "".*"""," devnode ""*""",1,1
openstack%2Fopenstack-ansible~juno~Ia97e2a90d5a9fed0d9bfdd3e575c8cdc01b83dab,openstack/openstack-ansible,juno,Ia97e2a90d5a9fed0d9bfdd3e575c8cdc01b83dab,Add configure ssh task,MERGED,2015-02-03 10:33:29.000000000,2015-02-03 15:51:28.000000000,2015-02-03 11:15:49.000000000,"[{'_account_id': 3}, {'_account_id': 7217}, {'_account_id': 7307}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-02-03 10:33:29.000000000', 'files': ['rpc_deployment/roles/common/tasks/main.yml', 'rpc_deployment/roles/common/tasks/ssh_config.yml', 'rpc_deployment/roles/common/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c5d488059d9407f1b9b96552159ffc298c8dc547', 'message': 'Add configure ssh task\n\nThis task will run on all nodes as part of the common role, it will:\n * enable logging to /var/log/sshd\n * set MaxSessions to 500 (Default 10)\n * set MaxStartups to 500 (Defualt 10)\n\nI believe that the low default values of of MaxS* may be causing us problems\nwhen we are delegating container tasks to the host, and forks > MaxS*.\n\nLogging Bug:\nCloses-Bug: #1404219\n\nGate Ssh Failures Bug:\nCloses-Bug: #1404343\n\nChange-Id: Ia97e2a90d5a9fed0d9bfdd3e575c8cdc01b83dab\n(cherry picked from commit 1dae4cca9f9cfb8230385c303f6c1b0292934bf6)\n'}]",0,152454,c5d488059d9407f1b9b96552159ffc298c8dc547,7,4,1,6816,,,0,"Add configure ssh task

This task will run on all nodes as part of the common role, it will:
 * enable logging to /var/log/sshd
 * set MaxSessions to 500 (Default 10)
 * set MaxStartups to 500 (Defualt 10)

I believe that the low default values of of MaxS* may be causing us problems
when we are delegating container tasks to the host, and forks > MaxS*.

Logging Bug:
Closes-Bug: #1404219

Gate Ssh Failures Bug:
Closes-Bug: #1404343

Change-Id: Ia97e2a90d5a9fed0d9bfdd3e575c8cdc01b83dab
(cherry picked from commit 1dae4cca9f9cfb8230385c303f6c1b0292934bf6)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/54/152454/1 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/roles/common/tasks/main.yml', 'rpc_deployment/roles/common/tasks/ssh_config.yml', 'rpc_deployment/roles/common/handlers/main.yml']",3,c5d488059d9407f1b9b96552159ffc298c8dc547,,"--- # Copyright 2014, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: restart ssh service: name: ssh state: restarted ",,56,0
openstack%2Fpuppet-cinder~master~I1ceae5bc5232d859a11c87a567a2456acf3c8be8,openstack/puppet-cinder,master,I1ceae5bc5232d859a11c87a567a2456acf3c8be8,spec: pin rspec-puppet to 1.0.1,MERGED,2015-02-03 14:33:36.000000000,2015-02-03 15:51:23.000000000,2015-02-03 15:51:22.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6994}, {'_account_id': 9500}]","[{'number': 1, 'created': '2015-02-03 14:33:36.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/155017859ac4fedc3ca3778a4a4024166a3c09a7', 'message': ""spec: pin rspec-puppet to 1.0.1\n\nrspec-puppet (2.0.0) was released yesterday[1], this new version broke\npuppet-openstack unit tests (undefined method `resource')[2] as talked on\nand in a second time to update your specs to 2.0.0 and rspec 3.x`)\n\n[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474\n[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html\n\nChange-Id: I1ceae5bc5232d859a11c87a567a2456acf3c8be8\nPartial-bug: #1417604\n""}]",0,152531,155017859ac4fedc3ca3778a4a4024166a3c09a7,8,4,1,7155,,,0,"spec: pin rspec-puppet to 1.0.1

rspec-puppet (2.0.0) was released yesterday[1], this new version broke
puppet-openstack unit tests (undefined method `resource')[2] as talked on
and in a second time to update your specs to 2.0.0 and rspec 3.x`)

[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474
[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html

Change-Id: I1ceae5bc5232d859a11c87a567a2456acf3c8be8
Partial-bug: #1417604
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/31/152531/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,155017859ac4fedc3ca3778a4a4024166a3c09a7,bug/1417604," gem 'rspec-puppet', '~> 1.0.1'",,1,0
openstack%2Fpuppet-manila~master~I368650d61b23e81caf07f637b8da0d5b5f788233,openstack/puppet-manila,master,I368650d61b23e81caf07f637b8da0d5b5f788233,spec: pin rspec-puppet to 1.0.1,MERGED,2015-02-03 14:34:17.000000000,2015-02-03 15:50:45.000000000,2015-02-03 15:50:44.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6994}]","[{'number': 1, 'created': '2015-02-03 14:34:17.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/03cd7da5dd3b2564a0c007effe1f50c391582c87', 'message': ""spec: pin rspec-puppet to 1.0.1\n\nrspec-puppet (2.0.0) was released yesterday[1], this new version broke\npuppet-openstack unit tests (undefined method `resource')[2] as talked on\nand in a second time to update your specs to 2.0.0 and rspec 3.x`)\n\n[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474\n[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html\n\nChange-Id: I368650d61b23e81caf07f637b8da0d5b5f788233\nPartial-bug: #1417604\n""}]",0,152539,03cd7da5dd3b2564a0c007effe1f50c391582c87,7,3,1,7155,,,0,"spec: pin rspec-puppet to 1.0.1

rspec-puppet (2.0.0) was released yesterday[1], this new version broke
puppet-openstack unit tests (undefined method `resource')[2] as talked on
and in a second time to update your specs to 2.0.0 and rspec 3.x`)

[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474
[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html

Change-Id: I368650d61b23e81caf07f637b8da0d5b5f788233
Partial-bug: #1417604
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/39/152539/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,03cd7da5dd3b2564a0c007effe1f50c391582c87,bug/1417604," gem 'rspec-puppet', '~> 1.0.1'",,1,0
openstack%2Fdiskimage-builder~master~Iaf8eb962eb600760974bc33c30b809a07a23278e,openstack/diskimage-builder,master,Iaf8eb962eb600760974bc33c30b809a07a23278e,Corrected `element-info` usage,MERGED,2015-01-27 02:17:05.000000000,2015-02-03 15:50:07.000000000,2015-02-03 15:50:06.000000000,"[{'_account_id': 3}, {'_account_id': 216}, {'_account_id': 6928}, {'_account_id': 8449}, {'_account_id': 12092}, {'_account_id': 12459}]","[{'number': 1, 'created': '2015-01-27 02:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4627735a4638796911004ad918b420870a55a9d7', 'message': 'Corrected `element-info` usage\n\nRemoved the `--expand-dependencies` flag from `element-info` usage.  The flag\nwas required and not optional.\n\nChange-Id: Iaf8eb962eb600760974bc33c30b809a07a23278e\nCloses-Bug: 1265649\n'}, {'number': 2, 'created': '2015-01-27 02:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/db7c915b2aeec23841bdbd010b1b15b9dd285139', 'message': 'Corrected `element-info` usage\n\nRemoved the `--expand-dependencies` flag from `element-info` usage.  The flag\nwas required and not optional.  We can rely on argparse to exit non-0 when the\nrequired positional argument is not provided.\n\nChange-Id: Iaf8eb962eb600760974bc33c30b809a07a23278e\nCloses-Bug: 1265649\n'}, {'number': 3, 'created': '2015-01-27 19:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/40917740a763218fd08db38f013a861eb4222a9a', 'message': 'Corrected `element-info` usage\n\nRemoved the `--expand-dependencies` flag from `element-info` usage.  The flag\nwas required and not optional.  We can rely on argparse to exit non-0 when the\nrequired positional argument is not provided.\n\nChange-Id: Iaf8eb962eb600760974bc33c30b809a07a23278e\nCloses-Bug: 1265649\n'}, {'number': 4, 'created': '2015-01-29 03:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ac82957371a22ec135a11eb9f5a5c24772eaf47c', 'message': 'Corrected `element-info` usage\n\nDeprecated the `--expand-dependencies` flag from `element-info` usage.\nThe flag was required and not optional.  We can rely on argparse to exit non-0\nwhen the required positional argument is not provided.\n\nChange-Id: Iaf8eb962eb600760974bc33c30b809a07a23278e\nCloses-Bug: 1265649\n'}, {'number': 5, 'created': '2015-01-29 16:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9c7f5d04c94695fd8eb9c70cd76b065e01506984', 'message': 'Corrected `element-info` usage\n\nDeprecated the `--expand-dependencies` flag from `element-info` usage.\nThe flag was required and not optional.  We can rely on argparse to exit non-0\nwhen the required positional argument is not provided.\n\nChange-Id: Iaf8eb962eb600760974bc33c30b809a07a23278e\nCloses-Bug: 1265649\n'}, {'number': 6, 'created': '2015-01-29 21:43:55.000000000', 'files': ['lib/common-functions', 'diskimage_builder/element_dependencies.py'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8fc027227a9679b51980a4f80d1a043fb9fc570d', 'message': 'Corrected `element-info` usage\n\nDeprecated the `--expand-dependencies` flag from `element-info` usage.\nThe flag was required and not optional.  We can rely on argparse to exit non-0\nwhen the required positional argument is not provided.\n\nChange-Id: Iaf8eb962eb600760974bc33c30b809a07a23278e\nCloses-Bug: 1265649\n'}]",5,150206,8fc027227a9679b51980a4f80d1a043fb9fc570d,41,6,6,216,,,0,"Corrected `element-info` usage

Deprecated the `--expand-dependencies` flag from `element-info` usage.
The flag was required and not optional.  We can rely on argparse to exit non-0
when the required positional argument is not provided.

Change-Id: Iaf8eb962eb600760974bc33c30b809a07a23278e
Closes-Bug: 1265649
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/06/150206/2 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/element_dependencies.py'],1,4627735a4638796911004ad918b420870a55a9d7,bug/1265649, print(' '.join(expand_dependencies(args.elements))) return 0," parser.add_argument('--expand-dependencies', '-d', action='store_true', default=False, help='Print expanded dependencies of all args') if args.expand_dependencies: print(' '.join(expand_dependencies(args.elements))) return 0 sys.stderr.write(""ERROR: please choose an option.\n"") return -1",2,10
openstack%2Fnova~master~I131802ddf801eaa9bd69815cce3a43fa44e413de,openstack/nova,master,I131802ddf801eaa9bd69815cce3a43fa44e413de,Fixes Hyper-V instance snapshot,MERGED,2015-01-27 10:25:37.000000000,2015-02-03 15:49:37.000000000,2015-02-03 15:49:34.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1063}, {'_account_id': 3185}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 8213}, {'_account_id': 8247}, {'_account_id': 8543}, {'_account_id': 8688}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10618}, {'_account_id': 10635}, {'_account_id': 11103}, {'_account_id': 12604}]","[{'number': 1, 'created': '2015-01-27 10:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d35f3e82373328f21350d2c839adb70e03981820', 'message': 'Fixes Hyper-V instance snapshot\n\nChanging differencing vhd/x images parent path fails because of a\nwrong XML item check. This causes merging vhd/x images to fail\nas well.\n\nThis bug was introduced by this patch:\nI18b6a1adf398a5fc8f75d0f6276f6896846dbf3a\n\nThe issue is that XML elements with no subelements will test as\nFalse.\n\nThis patch solves the bug by properly handling the vhd info XML.\n\nChange-Id: I131802ddf801eaa9bd69815cce3a43fa44e413de\nCloses-bug: #1414965\n'}, {'number': 2, 'created': '2015-01-30 12:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa17221487d07a00660d52c8c59aa2c30bc65ec9', 'message': 'Fixes Hyper-V instance snapshot\n\nChanging differencing vhd/x images parent path fails because of a\nwrong XML item check. This causes merging vhd/x images to fail\nas well.\n\nThis bug was introduced by this patch:\nI18b6a1adf398a5fc8f75d0f6276f6896846dbf3a\n\nThe issue is that XML elements with no subelements will test as\nFalse.\n\nThis patch solves the bug by properly handling the vhd info XML.\n\nChange-Id: I131802ddf801eaa9bd69815cce3a43fa44e413de\nCloses-bug: #1414965\n'}, {'number': 3, 'created': '2015-02-03 10:28:01.000000000', 'files': ['nova/virt/hyperv/vhdutilsv2.py', 'nova/tests/unit/virt/hyperv/test_vhdutilsv2.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8058ac9ac199355ae5d0d3c19860995f329c1aa5', 'message': 'Fixes Hyper-V instance snapshot\n\nChanging differencing vhd/x images parent path fails because of a\nwrong XML item check. This causes merging vhd/x images to fail\nas well.\n\nThis bug was introduced by this patch:\nI18b6a1adf398a5fc8f75d0f6276f6896846dbf3a\n\nThe issue is that XML elements with no subelements will test as\nFalse.\n\nThis patch solves the bug by properly handling the vhd info XML.\n\nChange-Id: I131802ddf801eaa9bd69815cce3a43fa44e413de\nCloses-bug: #1414965\n'}]",0,150346,8058ac9ac199355ae5d0d3c19860995f329c1aa5,39,17,3,8543,,,0,"Fixes Hyper-V instance snapshot

Changing differencing vhd/x images parent path fails because of a
wrong XML item check. This causes merging vhd/x images to fail
as well.

This bug was introduced by this patch:
I18b6a1adf398a5fc8f75d0f6276f6896846dbf3a

The issue is that XML elements with no subelements will test as
False.

This patch solves the bug by properly handling the vhd info XML.

Change-Id: I131802ddf801eaa9bd69815cce3a43fa44e413de
Closes-bug: #1414965
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/150346/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/hyperv/vhdutilsv2.py'],1,d35f3e82373328f21350d2c839adb70e03981820,bug/1414965," if item is not None: else: msg = (_(""Failed to reconnect image %(child_vhd_path)s to "" ""parent %(parent_vhd_path)s. The child image has no "" ""parent path property."") % {'child_vhd_path': child_vhd_path, 'parent_vhd_path': parent_vhd_path}) raise vmutils.HyperVException(msg) ", if item:,9,1
openstack%2Fpuppet-ironic~master~I4789fcf8280e724853faf8f0140de673e5a92841,openstack/puppet-ironic,master,I4789fcf8280e724853faf8f0140de673e5a92841,spec: pin rspec-puppet to 1.0.1,MERGED,2015-02-03 14:34:03.000000000,2015-02-03 15:48:30.000000000,2015-02-03 15:48:29.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6994}]","[{'number': 1, 'created': '2015-02-03 14:34:03.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/6733465482dc092486ee7d9227e9068fee506d6b', 'message': ""spec: pin rspec-puppet to 1.0.1\n\nrspec-puppet (2.0.0) was released yesterday[1], this new version broke\npuppet-openstack unit tests (undefined method `resource')[2] as talked on\nand in a second time to update your specs to 2.0.0 and rspec 3.x`)\n\n[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474\n[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html\n\nChange-Id: I4789fcf8280e724853faf8f0140de673e5a92841\nPartial-bug: #1417604\n""}]",0,152537,6733465482dc092486ee7d9227e9068fee506d6b,7,3,1,7155,,,0,"spec: pin rspec-puppet to 1.0.1

rspec-puppet (2.0.0) was released yesterday[1], this new version broke
puppet-openstack unit tests (undefined method `resource')[2] as talked on
and in a second time to update your specs to 2.0.0 and rspec 3.x`)

[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474
[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html

Change-Id: I4789fcf8280e724853faf8f0140de673e5a92841
Partial-bug: #1417604
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/37/152537/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,6733465482dc092486ee7d9227e9068fee506d6b,bug/1417604," gem 'rspec-puppet', '~> 1.0.1'",,1,0
openstack%2Fpuppet-designate~master~I5c2422e70dd081fc0b37485c263291c0f47942df,openstack/puppet-designate,master,I5c2422e70dd081fc0b37485c263291c0f47942df,spec: pin rspec-puppet to 1.0.1,MERGED,2015-02-03 14:33:41.000000000,2015-02-03 15:48:24.000000000,2015-02-03 15:48:23.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6994}]","[{'number': 1, 'created': '2015-02-03 14:33:41.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/8be5919026e0b3e59497b0f087b7efe64a00d09a', 'message': ""spec: pin rspec-puppet to 1.0.1\n\nrspec-puppet (2.0.0) was released yesterday[1], this new version broke\npuppet-openstack unit tests (undefined method `resource')[2] as talked on\nand in a second time to update your specs to 2.0.0 and rspec 3.x`)\n\n[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474\n[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html\n\nChange-Id: I5c2422e70dd081fc0b37485c263291c0f47942df\nPartial-bug: #1417604\n""}]",0,152532,8be5919026e0b3e59497b0f087b7efe64a00d09a,7,3,1,7155,,,0,"spec: pin rspec-puppet to 1.0.1

rspec-puppet (2.0.0) was released yesterday[1], this new version broke
puppet-openstack unit tests (undefined method `resource')[2] as talked on
and in a second time to update your specs to 2.0.0 and rspec 3.x`)

[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474
[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html

Change-Id: I5c2422e70dd081fc0b37485c263291c0f47942df
Partial-bug: #1417604
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/32/152532/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,8be5919026e0b3e59497b0f087b7efe64a00d09a,bug/1417604," gem 'rspec-puppet', '~> 1.0.1'",,1,0
openstack%2Fpuppet-nova~master~I6b5ef612b0a0911bb52622c65560afec713d45c0,openstack/puppet-nova,master,I6b5ef612b0a0911bb52622c65560afec713d45c0,spec: pin rspec-puppet to 1.0.1,MERGED,2015-02-03 14:34:40.000000000,2015-02-03 15:47:30.000000000,2015-02-03 15:47:29.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6994}, {'_account_id': 9500}]","[{'number': 1, 'created': '2015-02-03 14:34:40.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ad97aa23723ad93886da085e26a712024be79823', 'message': ""spec: pin rspec-puppet to 1.0.1\n\nrspec-puppet (2.0.0) was released yesterday[1], this new version broke\npuppet-openstack unit tests (undefined method `resource')[2] as talked on\nand in a second time to update your specs to 2.0.0 and rspec 3.x`)\n\n[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474\n[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html\n\nChange-Id: I6b5ef612b0a0911bb52622c65560afec713d45c0\nPartial-bug: #1417604\n""}]",0,152542,ad97aa23723ad93886da085e26a712024be79823,8,4,1,7155,,,0,"spec: pin rspec-puppet to 1.0.1

rspec-puppet (2.0.0) was released yesterday[1], this new version broke
puppet-openstack unit tests (undefined method `resource')[2] as talked on
and in a second time to update your specs to 2.0.0 and rspec 3.x`)

[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474
[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html

Change-Id: I6b5ef612b0a0911bb52622c65560afec713d45c0
Partial-bug: #1417604
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/42/152542/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,ad97aa23723ad93886da085e26a712024be79823,bug/1417604," gem 'rspec-puppet', '~> 1.0.1', :require => false"," gem 'rspec-puppet', :require => false",1,1
openstack%2Fbarbican~master~I8b870367d2d16e935ef668395faf627a76da27cc,openstack/barbican,master,I8b870367d2d16e935ef668395faf627a76da27cc,Imported Translations from Transifex,MERGED,2015-02-03 06:10:23.000000000,2015-02-03 15:47:14.000000000,2015-02-03 15:47:13.000000000,"[{'_account_id': 3}, {'_account_id': 7136}, {'_account_id': 7789}, {'_account_id': 10873}]","[{'number': 1, 'created': '2015-02-03 06:10:23.000000000', 'files': ['barbican/locale/zh_CN/LC_MESSAGES/barbican-log-info.po', 'barbican/locale/zh_CN/LC_MESSAGES/barbican-log-warning.po', 'barbican/locale/zh_CN/LC_MESSAGES/barbican-log-error.po'], 'web_link': 'https://opendev.org/openstack/barbican/commit/4f1f6fd38563239a5c778516d530bba98ab337c0', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I8b870367d2d16e935ef668395faf627a76da27cc\n'}]",0,152403,4f1f6fd38563239a5c778516d530bba98ab337c0,8,4,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I8b870367d2d16e935ef668395faf627a76da27cc
",git fetch https://review.opendev.org/openstack/barbican refs/changes/03/152403/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/locale/zh_CN/LC_MESSAGES/barbican-log-info.po', 'barbican/locale/zh_CN/LC_MESSAGES/barbican-log-warning.po', 'barbican/locale/zh_CN/LC_MESSAGES/barbican-log-error.po']",3,4f1f6fd38563239a5c778516d530bba98ab337c0,transifex/translations,"""POT-Creation-Date: 2015-02-03 06:10+0000\n"" ""PO-Revision-Date: 2015-02-02 08:54+0000\n""""处理 Keystone 事件错误，项目id=%(project_id)s，事件资源=%(resource)s，事件操"" ""作=%(operation)s，状态=%(status)s，错误信息=%(message)s""","""POT-Creation-Date: 2015-02-01 06:10+0000\n"" ""PO-Revision-Date: 2015-01-31 07:53+0000\n""""处理 Keystone 事件错误，项目身份号=%(project_id)s，事件资源=%(resource)s，事"" ""件操作=%(operation)s，状态=%(status)s，错误信息=%(message)s""",113,4
openstack%2Fpuppet-trove~master~Id1c6d205f309d7480b15d086563a34f119535c42,openstack/puppet-trove,master,Id1c6d205f309d7480b15d086563a34f119535c42,spec: pin rspec-puppet to 1.0.1,MERGED,2015-02-03 14:35:03.000000000,2015-02-03 15:45:05.000000000,2015-02-03 15:45:04.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6994}]","[{'number': 1, 'created': '2015-02-03 14:35:03.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/6a8ce8a6b2d51d0cb6d94aa8885c72cf6ee214e3', 'message': ""spec: pin rspec-puppet to 1.0.1\n\nrspec-puppet (2.0.0) was released yesterday[1], this new version broke\npuppet-openstack unit tests (undefined method `resource')[2] as talked on\nand in a second time to update your specs to 2.0.0 and rspec 3.x`)\n\n[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474\n[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html\n\nChange-Id: Id1c6d205f309d7480b15d086563a34f119535c42\nPartial-bug: #1417604\n""}]",0,152547,6a8ce8a6b2d51d0cb6d94aa8885c72cf6ee214e3,7,3,1,7155,,,0,"spec: pin rspec-puppet to 1.0.1

rspec-puppet (2.0.0) was released yesterday[1], this new version broke
puppet-openstack unit tests (undefined method `resource')[2] as talked on
and in a second time to update your specs to 2.0.0 and rspec 3.x`)

[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474
[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html

Change-Id: Id1c6d205f309d7480b15d086563a34f119535c42
Partial-bug: #1417604
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/47/152547/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,6a8ce8a6b2d51d0cb6d94aa8885c72cf6ee214e3,bug/1417604," gem 'rspec-puppet', '~> 1.0.1'",,1,0
openstack%2Fpuppet-sahara~master~Ic4db4738468ebc2c05a6915033fb49d62e4d0e36,openstack/puppet-sahara,master,Ic4db4738468ebc2c05a6915033fb49d62e4d0e36,spec: pin rspec-puppet to 1.0.1,MERGED,2015-02-03 14:34:49.000000000,2015-02-03 15:42:53.000000000,2015-02-03 15:42:50.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6994}]","[{'number': 1, 'created': '2015-02-03 14:34:49.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/638e4d0439de15deffcb7465b6ad41a26fde9396', 'message': ""spec: pin rspec-puppet to 1.0.1\n\nrspec-puppet (2.0.0) was released yesterday[1], this new version broke\npuppet-openstack unit tests (undefined method `resource')[2] as talked on\nand in a second time to update your specs to 2.0.0 and rspec 3.x`)\n\n[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474\n[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html\n\nChange-Id: Ic4db4738468ebc2c05a6915033fb49d62e4d0e36\nPartial-bug: #1417604\n""}]",0,152544,638e4d0439de15deffcb7465b6ad41a26fde9396,7,3,1,7155,,,0,"spec: pin rspec-puppet to 1.0.1

rspec-puppet (2.0.0) was released yesterday[1], this new version broke
puppet-openstack unit tests (undefined method `resource')[2] as talked on
and in a second time to update your specs to 2.0.0 and rspec 3.x`)

[1] https://github.com/rodjek/rspec-puppet/commit/8459e14807977244c00bdbcf190062c529b63474
[2] http://logs.openstack.org/45/105245/6/check/gate-puppet-nova-puppet-unit-3.3/3682541/console.html

Change-Id: Ic4db4738468ebc2c05a6915033fb49d62e4d0e36
Partial-bug: #1417604
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/44/152544/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,638e4d0439de15deffcb7465b6ad41a26fde9396,bug/1417604," gem 'rspec-puppet', '~> 1.0.1'",,1,0
openstack%2Fgnocchi~master~I09abf7586c7fc53f0979cf5e8443f25d19f398d6,openstack/gnocchi,master,I09abf7586c7fc53f0979cf5e8443f25d19f398d6,Fix order of arguments in assertEqual,MERGED,2015-01-27 11:43:32.000000000,2015-02-03 15:42:06.000000000,2015-02-03 15:42:04.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 13273}]","[{'number': 1, 'created': '2015-01-27 11:43:32.000000000', 'files': ['gnocchi/tests/test_indexer.py', 'gnocchi/tests/test_carbonara.py', 'gnocchi/tests/test_aggregates.py', 'gnocchi/tests/test_rest.py'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/557233b5e96ae248bc6d9d76ccb6e5b1bf49c593', 'message': 'Fix order of arguments in assertEqual\n\nRelated-Bug: 1277104\n\nChange-Id: I09abf7586c7fc53f0979cf5e8443f25d19f398d6\n'}]",0,150375,557233b5e96ae248bc6d9d76ccb6e5b1bf49c593,8,3,1,13273,,,0,"Fix order of arguments in assertEqual

Related-Bug: 1277104

Change-Id: I09abf7586c7fc53f0979cf5e8443f25d19f398d6
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/75/150375/1 && git format-patch -1 --stdout FETCH_HEAD,"['gnocchi/tests/test_indexer.py', 'gnocchi/tests/test_carbonara.py', 'gnocchi/tests/test_aggregates.py', 'gnocchi/tests/test_rest.py']",4,557233b5e96ae248bc6d9d76ccb6e5b1bf49c593,bug/1277104," self.assertEqual(""medium"", metric['archive_policy_name']) self.assertEqual(""medium"", metric['archive_policy_name']) self.assertEqual(self.resource, resource) self.assertEqual({}, result['metrics']) self.assertEqual({}, result['metrics']) self.assertEqual(self.resource, resource) self.assertEqual(self.attributes['id'], resource[""id""])"," self.assertEqual(metric['archive_policy_name'], ""medium"") self.assertEqual(metric['archive_policy_name'], ""medium"") self.assertEqual(resource, self.resource) self.assertEqual(result['metrics'], {}) self.assertEqual(result['metrics'], {}) self.assertEqual(resource, self.resource) self.assertEqual(resource[""id""], self.attributes['id'])",29,29
openstack%2Fbarbican~master~Iacb3ccd8bba631bcb7917e4a510acfe2d44ba889,openstack/barbican,master,Iacb3ccd8bba631bcb7917e4a510acfe2d44ba889,Add support for simple cmc requests to Dogtag plugin,MERGED,2015-01-12 18:56:32.000000000,2015-02-03 15:41:58.000000000,2015-02-03 15:41:56.000000000,"[{'_account_id': 3}, {'_account_id': 6783}, {'_account_id': 7136}, {'_account_id': 7262}, {'_account_id': 7354}, {'_account_id': 7355}, {'_account_id': 7687}, {'_account_id': 7789}, {'_account_id': 7973}, {'_account_id': 8004}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}]","[{'number': 1, 'created': '2015-01-12 18:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/b23551f44699d8522948fa7fddc44b87041b7804', 'message': 'Add support for simple cmc requests to Dogtag plugin\n\nChange-Id: Iacb3ccd8bba631bcb7917e4a510acfe2d44ba889\nImplements: blueprint certificate-order-api\n'}, {'number': 2, 'created': '2015-01-28 04:06:21.000000000', 'files': ['etc/barbican/barbican-api.conf', 'barbican/tests/plugin/test_dogtag.py', 'barbican/plugin/dogtag.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/a083f4ee1367c07f71f60af2bf86ef094c6a3dca', 'message': 'Add support for simple cmc requests to Dogtag plugin\n\nChange-Id: Iacb3ccd8bba631bcb7917e4a510acfe2d44ba889\nImplements: blueprint certificate-order-api\n'}]",4,146611,a083f4ee1367c07f71f60af2bf86ef094c6a3dca,15,13,2,9914,,,0,"Add support for simple cmc requests to Dogtag plugin

Change-Id: Iacb3ccd8bba631bcb7917e4a510acfe2d44ba889
Implements: blueprint certificate-order-api
",git fetch https://review.opendev.org/openstack/barbican refs/changes/11/146611/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/barbican/barbican-api.conf', 'barbican/tests/plugin/test_dogtag.py', 'barbican/plugin/dogtag.py']",3,b23551f44699d8522948fa7fddc44b87041b7804,bp/certificate-order-api," help=u._('Password for NSS certificate database')), cfg.StrOpt('simple_cmc_profile', help=u._('Profile for simple CMC requests'))def _catch_enrollment_exceptions(ca_related_function): def _catch_enrollment_exception(self, *args, **kwargs): try: return ca_related_function(self, *args, **kwargs) except pki.BadRequestException as e: return cm.ResultDTO( cm.CertificateStatus.CLIENT_DATA_ISSUE_SEEN, status_message=e.message) except pki.PKIException as e: raise cm.CertificateGeneralException( u._(""Exception thrown by enroll_cert: {message}"").format( message=e.message)) return _catch_enrollment_exception self.simple_cmc_profile = conf.dogtag_plugin.simple_cmc_profile """"""Issue a certificate request to the Dogtag CA Call the relevant certificate issuance function depending on the Barbican defined request type in the order_meta. :param order_id: ID of the order associated with this request :param order_meta: dict containing all the inputs for this request. This includes the request_type. :param plugin_meta: Used to store data for status check :return: cm.ResultDTO """""" request_type = order_meta.get( cm.REQUEST_TYPE, cm.CertificateRequestType.CUSTOM_REQUEST) jump_table = { cm.CertificateRequestType.SIMPLE_CMC_REQUEST: self._issue_simple_cmc_request, cm.CertificateRequestType.FULL_CMC_REQUEST: self._issue_full_cmc_request, cm.CertificateRequestType.STORED_KEY_REQUEST: self._issue_stored_key_request, cm.CertificateRequestType.CUSTOM_REQUEST: self._issue_custom_certificate_request } if request_type not in jump_table: raise DogtagPluginNotSupportedException( ""Dogtag plugin does not support %s request type"".format( request_type)) return jump_table[request_type](order_id, order_meta, plugin_meta) @_catch_enrollment_exceptions def _issue_simple_cmc_request(self, order_id, order_meta, plugin_meta): """"""Issue a simple CMC request to the Dogtag CA. :param order_id: :param order_meta: :param plugin_meta: :return: cm.ResultDTO """""" profile_id = self.simple_cmc_profile inputs = { 'cert_request_type': 'pkcs10', 'cert_request': order_meta.get('request_data') } request = self.certclient.create_enrollment_request(profile_id, inputs) results = self.certclient.submit_enrollment_request(request) return self._process_enrollment_results(results, plugin_meta) def _issue_full_cmc_request(self, order_id, order_meta, plugin_meta): """"""Issue a full CMC request to the Dogtag CA. :param order_id: :param order_meta: :param plugin_meta: :return: cm.ResultDTO """""" raise DogtagPluginNotSupportedException( ""Dogtag plugin does not support %s request type"".format( cm.CertificateRequestType.FULL_CMC_REQUEST)) def _issue_stored_key_request(self, order_id, order_meta, plugin_meta): """"""Issue a simple CMC request to the Dogtag CA. :param order_id: :param order_meta: :param plugin_meta: :return: cm.ResultDTO """""" return self._issue_simple_cmc_request( order_id, order_meta, plugin_meta) @_catch_enrollment_exceptions def _issue_custom_certificate_request(self, order_id, order_meta, plugin_meta): """"""Issue a custom certificate request to Dogtag CA results = self.certclient.enroll_cert(profile_id, order_meta) return self._process_enrollment_results(results, plugin_meta) def _process_enrollment_results(self, enrollment_results, plugin_meta): """"""Process results received from Dogtag CA for enrollment :param enrollment_results: list of CertEnrollmentResult objects :param plugin_meta: metadata dict for storing plugin specific data :return: cm.ResultDTO """""" # Although it is possible to create multiple certs in an invocation # of enroll_cert, Barbican cannot handle this case. Assume # only once cert and request generated for now. enrollment_result = enrollment_results[0] request = enrollment_result.request if not request: u._(""No request returned in enrollment_results"")) # store the request_id in the plugin metadata plugin_meta[self.REQUEST_ID] = request.request_id cert = enrollment_result.cert if not cert: request_status = request.request_status if request_status == pki.cert.CertRequestStatus.REJECTED: return cm.ResultDTO( cm.CertificateStatus.CLIENT_DATA_ISSUE_SEEN, status_message=request.error_message) elif request_status == pki.cert.CertRequestStatus.CANCELED: return cm.ResultDTO(cm.CertificateStatus.REQUEST_CANCELED) elif request_status == pki.cert.CertRequestStatus.PENDING: return cm.ResultDTO(cm.CertificateStatus.WAITING_FOR_CA) elif request_status == pki.cert.CertRequestStatus.COMPLETE: raise cm.CertificateGeneralException( u._(""request_id {req_id} returns COMPLETE but no cert "" ""returned"").format(req_id=request.request_id)) else: raise cm.CertificateGeneralException( u._(""Invalid request_status {status} for "" ""request_id {request_id}"").format( status=request_status, request_id=request.request_id) ) return cm.ResultDTO( cm.CertificateStatus.CERTIFICATE_GENERATED, certificate=cert.encoded, intermediates=cert.pkcs7_cert_chain) def supported_request_types(self): """"""Returns the request_types supported by this plugin. :returns: a list of the Barbican-core defined request_types supported by this plugin. """""" return [cm.CertificateRequestType.SIMPLE_CMC_REQUEST, cm.CertificateRequestType.STORED_KEY_REQUEST, cm.CertificateRequestType.CUSTOM_REQUEST]"," help=u._('Password for NSS certificate database')) """"""Issue a certificate request to Dogtag CA try: enrollment_results = self.certclient.enroll_cert( profile_id, order_meta) # Although it is possible to create multiple certs in an invocation # of enroll_cert, Barbican cannot handle this case. Assume # only once cert and request generated for now. enrollment_result = enrollment_results[0] request = enrollment_result.request if not request: raise cm.CertificateGeneralException( u._(""No request returned in enrollment_results"")) # store the request_id in the plugin metadata plugin_meta[self.REQUEST_ID] = request.request_id cert = enrollment_result.cert if not cert: request_status = request.request_status if request_status == pki.cert.CertRequestStatus.REJECTED: return cm.ResultDTO( cm.CertificateStatus.CLIENT_DATA_ISSUE_SEEN, status_message=request.error_message) elif request_status == pki.cert.CertRequestStatus.CANCELED: return cm.ResultDTO( cm.CertificateStatus.REQUEST_CANCELED) elif request_status == pki.cert.CertRequestStatus.PENDING: return cm.ResultDTO( cm.CertificateStatus.WAITING_FOR_CA) elif request_status == pki.cert.CertRequestStatus.COMPLETE: raise cm.CertificateGeneralException( u._(""request_id {req_id} returns COMPLETE but no cert "" ""returned"").format(req_id=request.request_id)) else: raise cm.CertificateGeneralException( u._( ""Invalid request_status {status} for "" ""request_id {request_id}"" ).format( status=request_status, request_id=request.request_id ) ) return cm.ResultDTO( cm.CertificateStatus.CERTIFICATE_GENERATED, certificate=cert.encoded, intermediates=cert.pkcs7_cert_chain) except pki.BadRequestException as e: return cm.ResultDTO( cm.CertificateStatus.CLIENT_DATA_ISSUE_SEEN, status_message=e.message) except pki.PKIException as e: u._(""Exception thrown by enroll_cert: {message}"").format( message=e.message))",252,60
openstack%2Fbarbican~master~I727b61fdca4bcedb06caba7283b8933fc6d9e0d8,openstack/barbican,master,I727b61fdca4bcedb06caba7283b8933fc6d9e0d8,Trivial refactors to secret controller,MERGED,2015-01-30 15:27:06.000000000,2015-02-03 15:41:50.000000000,2015-02-03 15:41:49.000000000,"[{'_account_id': 3}, {'_account_id': 6783}, {'_account_id': 7136}, {'_account_id': 7262}, {'_account_id': 7354}, {'_account_id': 7355}, {'_account_id': 7687}, {'_account_id': 7789}, {'_account_id': 7973}, {'_account_id': 8004}, {'_account_id': 8623}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}]","[{'number': 1, 'created': '2015-01-30 15:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/ae6e26d07b0494b051ee6382767c39e1a29a5239', 'message': 'Trivial refactors to secret controller\n\nDid some trivial refactors to secret controller to improve\nreadability.\n\nChange-Id: I727b61fdca4bcedb06caba7283b8933fc6d9e0d8\n'}, {'number': 2, 'created': '2015-02-01 15:53:40.000000000', 'files': ['barbican/api/controllers/secrets.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/d28b6d25cdfebed5d915ff9a744a212b562f35b6', 'message': 'Trivial refactors to secret controller\n\nDid some trivial refactors to secret controller to improve\nreadability.\n\nChange-Id: I727b61fdca4bcedb06caba7283b8933fc6d9e0d8\n'}]",7,151670,d28b6d25cdfebed5d915ff9a744a212b562f35b6,15,14,2,10873,,,0,"Trivial refactors to secret controller

Did some trivial refactors to secret controller to improve
readability.

Change-Id: I727b61fdca4bcedb06caba7283b8933fc6d9e0d8
",git fetch https://review.opendev.org/openstack/barbican refs/changes/70/151670/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/api/controllers/secrets.py'],1,ae6e26d07b0494b051ee6382767c39e1a29a5239,secret_readability," return self._on_get_secret_metadata(secret, **kwargs) else: return self._on_get_secret_payload(secret, external_project_id, **kwargs) def _on_get_secret_metadata(self, secret, **kwargs): """"""GET Metadata-only for a secret."""""" pecan.override_template('json', 'application/json') secret_fields = putil.mime_types.augment_fields_with_content_types( secret) transport_key_id = self._get_transport_key_id_if_needed( kwargs.get('transport_key_needed', 'false'), secret) if transport_key_id is not None: secret_fields['transport_key_id'] = transport_key_id return hrefs.convert_to_hrefs(secret_fields) def _get_transport_key_id_if_needed(self, transport_key_needed, secret): if transport_key_needed.lower() == 'true': return plugin.get_transport_key_id_for_retrieval(secret) return None def _on_get_secret_payload(self, secret, external_project_id, **kwargs): """"""GET actual payload containing the secret."""""" project = res.get_or_create_project(external_project_id, self.repos.project_repo) pecan.override_template('', pecan.request.accept.header_value) twsk = kwargs.get('trans_wrapped_session_key', None) transport_key = None if twsk is not None: transport_key = self._get_transport_key( kwargs.get('transport_key_id', None)) return plugin.get_secret(pecan.request.accept.header_value, secret, project, self.repos, twsk, transport_key) def _get_transport_key(self, transport_key_id): if transport_key_id is None: _request_has_twsk_but_no_transport_key_id() transport_key_model = self.repos.transport_key_repo.get( entity_id=transport_key_id, suppress_exception=True) return transport_key_model.transport_key"," # Metadata-only response, no secret retrieval is necessary. pecan.override_template('json', 'application/json') secret_fields = putil.mime_types.augment_fields_with_content_types( secret) transport_key_needed = kwargs.get('transport_key_needed', 'false').lower() == 'true' if transport_key_needed: transport_key_id = plugin.get_transport_key_id_for_retrieval( secret) if transport_key_id is not None: secret_fields['transport_key_id'] = transport_key_id return hrefs.convert_to_hrefs(secret_fields) else: project = res.get_or_create_project(external_project_id, self.repos.project_repo) pecan.override_template('', pecan.request.accept.header_value) transport_key = None twsk = kwargs.get('trans_wrapped_session_key', None) if twsk is not None: transport_key_id = kwargs.get('transport_key_id', None) if transport_key_id is None: _request_has_twsk_but_no_transport_key_id() transport_key_model = self.repos.transport_key_repo.get( entity_id=transport_key_id, suppress_exception=True) transport_key = transport_key_model.transport_key return plugin.get_secret(pecan.request.accept.header_value, secret, project, self.repos, twsk, transport_key)",53,32
openstack%2Fnova~master~I1034f1e26e0b00e64430e6347d232793c3401ba8,openstack/nova,master,I1034f1e26e0b00e64430e6347d232793c3401ba8,libvirt : Add support for --interface option in iscsiadm.,MERGED,2015-01-10 00:30:34.000000000,2015-02-03 15:30:17.000000000,2015-02-03 15:30:14.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 2243}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10115}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 11904}, {'_account_id': 11968}, {'_account_id': 12065}, {'_account_id': 12088}, {'_account_id': 12285}]","[{'number': 1, 'created': '2015-01-10 00:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/840571ec66a6a982f46a151ad25d670815b8cda9', 'message': '[WIP] Add support for --interface option in iscsiadm.\n\nCode is working, but tests missing. Also happens to implement code that was\noriginally supposed to be covered by\nhttps://blueprints.launchpad.net/nova/+spec/hw-iscsi-device-name-support as\nthis is a requirement for transport support.\n\nImplements: blueprint add-open-iscsi-transport-support\nChange-Id: I1034f1e26e0b00e64430e6347d232793c3401ba8\n'}, {'number': 2, 'created': '2015-01-10 02:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b20479061a1f56bb2e9d7076369146c122c4a5b', 'message': '[WIP] Add support for --interface option in iscsiadm.\n\nCode is working, but tests missing. Also happens to implement code that was\noriginally supposed to be covered by\nhttps://blueprints.launchpad.net/nova/+spec/hw-iscsi-device-name-support as\nthis is a requirement for transport support.\n\nImplements: blueprint add-open-iscsi-transport-support\nChange-Id: I1034f1e26e0b00e64430e6347d232793c3401ba8\n'}, {'number': 3, 'created': '2015-01-10 08:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1683e72ce8dea52fe2b42b1f7f9b2ea4372327fb', 'message': '[WIP] Add support for --interface option in iscsiadm.\n\nCode is working, but tests missing. Also happens to implement code that was\noriginally supposed to be covered by\nhttps://blueprints.launchpad.net/nova/+spec/hw-iscsi-device-name-support as\nthis is a requirement for transport support.\n\nImplements: blueprint add-open-iscsi-transport-support\nChange-Id: I1034f1e26e0b00e64430e6347d232793c3401ba8\n'}, {'number': 4, 'created': '2015-01-13 06:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5572491da1bc0712b78c9fb9a8cb1fdd3240eb6', 'message': 'Add support for --interface option in iscsiadm.\n\nAlso happens to implement code that was originally supposed to be covered by\nhttps://blueprints.launchpad.net/nova/+spec/hw-iscsi-device-name-support as\nthis is a requirement for transport support.\n\nImplements: blueprint add-open-iscsi-transport-support\nChange-Id: I1034f1e26e0b00e64430e6347d232793c3401ba8\n'}, {'number': 5, 'created': '2015-01-13 08:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/823e8bc05bd620717d9a55d287ace770b26e34da', 'message': 'Add support for --interface option in iscsiadm.\n\nAlso happens to implement code that was originally supposed to be covered by\nhttps://blueprints.launchpad.net/nova/+spec/hw-iscsi-device-name-support as\nthis is a requirement for transport support.\n\nImplements: blueprint add-open-iscsi-transport-support\nChange-Id: I1034f1e26e0b00e64430e6347d232793c3401ba8\n'}, {'number': 6, 'created': '2015-01-13 22:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0bdc9cfab629653654644df2f3393492a415ca2b', 'message': 'libvirt : Add support for --interface option in iscsiadm.\n\nAdds the new libvirt parameter iscsi_transport that can be used to specify an\niscsi transport, which used in conjuction with the --interface parameter\nprovides offloaded iscsi support.\n\nAlso happens to implement code that was originally supposed to be covered by\nhttps://blueprints.launchpad.net/nova/+spec/hw-iscsi-device-name-support as\nthis is a requirement for transport support.\n\nDocImpact\n\nImplements: blueprint add-open-iscsi-transport-support\nChange-Id: I1034f1e26e0b00e64430e6347d232793c3401ba8\n'}, {'number': 7, 'created': '2015-01-13 22:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37bbb25e5c1f9c33283b9ee0a68274a59b3a8d40', 'message': 'libvirt : Add support for --interface option in iscsiadm.\n\nAdds the new libvirt parameter iscsi_transport that can be used to specify an\niscsi transport, which used in conjuction with the --interface parameter\nprovides offloaded iscsi support.\n\nAlso happens to implement code that was originally supposed to be covered by\nhttps://blueprints.launchpad.net/nova/+spec/hw-iscsi-device-name-support as\nthis is a requirement for transport support.\n\nDocImpact\n\nImplements: blueprint add-open-iscsi-transport-support\nChange-Id: I1034f1e26e0b00e64430e6347d232793c3401ba8\n'}, {'number': 8, 'created': '2015-01-13 22:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f855edfb26b9da5968349f14d735fbf80350bd02', 'message': 'libvirt : Add support for --interface option in iscsiadm.\n\nAdds the new libvirt parameter iscsi_transport that can be used to specify an\niscsi transport, which used in conjuction with the --interface parameter\nprovides offloaded iscsi support.\n\nAlso happens to implement code that was originally supposed to be covered by\nhttps://blueprints.launchpad.net/nova/+spec/hw-iscsi-device-name-support as\nthis is a requirement for transport support.\n\nDocImpact\n\nImplements: blueprint add-open-iscsi-transport-support\nChange-Id: I1034f1e26e0b00e64430e6347d232793c3401ba8\n'}, {'number': 9, 'created': '2015-01-14 00:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/357585507d944df31b472bbf6a7c28460bb743f8', 'message': 'libvirt : Add support for --interface option in iscsiadm.\n\nAdds the new libvirt parameter iscsi_transport that can be used to specify an\niscsi transport, which used in conjuction with the --interface parameter\nprovides offloaded iscsi support.\n\nAlso happens to implement code that was originally supposed to be covered by\nhttps://blueprints.launchpad.net/nova/+spec/hw-iscsi-device-name-support as\nthis is a requirement for transport support.\n\nDocImpact\n\nImplements: blueprint add-open-iscsi-transport-support\nChange-Id: I1034f1e26e0b00e64430e6347d232793c3401ba8\n'}, {'number': 10, 'created': '2015-01-18 22:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c6b0050e35a5401462470318b601ffee02e527f', 'message': 'libvirt : Add support for --interface option in iscsiadm.\n\nAdds the new libvirt parameter iscsi_transport that can be used to specify an\niscsi transport, which used in conjuction with the --interface parameter\nprovides offloaded iscsi support.\n\nAlso happens to implement code that was originally supposed to be covered by\nhttps://blueprints.launchpad.net/nova/+spec/hw-iscsi-device-name-support as\nthis is a requirement for transport support.\n\nDocImpact\n\nImplements: blueprint support-other-iscsi-transports-besides\n\nChange-Id: I1034f1e26e0b00e64430e6347d232793c3401ba8\n'}, {'number': 11, 'created': '2015-01-18 22:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/849244e6ec2beddcf453f7cfcbb50fa982b29b12', 'message': 'libvirt : Add support for --interface option in iscsiadm.\n\nAdds the new libvirt parameter iscsi_transport that can be used to\nspecify an iscsi transport, which used in conjuction with the\n--interface parameter provides offloaded iscsi support.\n\nAlso happens to implement code that was originally supposed to be\ncovered by https://blueprints.launchpad.net/nova/+spec/hw-iscsi-device-name-support\nas this is a requirement for transport support.\n\nDocImpact\n\nImplements: blueprint add-open-iscsi-transport-support\n\nChange-Id: I1034f1e26e0b00e64430e6347d232793c3401ba8\n'}, {'number': 12, 'created': '2015-01-18 22:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c19278502d7dbe72a3dd79d57b3e4aa4e9627579', 'message': 'libvirt : Add support for --interface option in iscsiadm.\n\nAdds the new libvirt parameter iscsi_transport that can be used to\nspecify an iscsi transport, which used in conjuction with the\n--interface parameter provides offloaded iscsi support.\n\nAlso happens to implement code that was originally supposed to be\ncovered by blueprint hw-iscsi-device-name-support as this is a\nrequirement for transport support.\n\nDocImpact\n\nImplements: blueprint add-open-iscsi-transport-support\nImplements: blueprint hw-iscsi-device-name-support\n\nChange-Id: I1034f1e26e0b00e64430e6347d232793c3401ba8\n'}, {'number': 13, 'created': '2015-01-18 22:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3345e6155d5ae3dfef269888a258c277ea6eda50', 'message': 'libvirt : Add support for --interface option in iscsiadm.\n\nAdds the new libvirt parameter iscsi_transport that can be used to\nspecify an iscsi transport, which used in conjuction with the\n--interface parameter provides offloaded iscsi support.\n\nAlso happens to implement code that was originally supposed to be\ncovered by blueprint hw-iscsi-device-name-support as this is a\nrequirement for transport support.\n\nDocImpact\n\nImplements: blueprint hw-iscsi-device-name-support\nImplements: blueprint add-open-iscsi-transport-support\n\nChange-Id: I1034f1e26e0b00e64430e6347d232793c3401ba8\n'}, {'number': 14, 'created': '2015-01-18 22:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1594272601021088a172cab074ae90f7920ab8c', 'message': 'libvirt : Add support for --interface option in iscsiadm.\n\nAdds the new libvirt parameter iscsi_transport that can be used to\nspecify an iscsi transport, which used in conjuction with the\n--interface parameter provides offloaded iscsi support.\n\nAlso happens to implement code that was originally supposed to be\ncovered by blueprint hw-iscsi-device-name-support as this is a\nrequirement for transport support.\n\nDocImpact\n\nImplements: blueprint add-open-iscsi-transport-support\nImplements: blueprint hw-iscsi-device-name-support\n\nChange-Id: I1034f1e26e0b00e64430e6347d232793c3401ba8\n'}, {'number': 15, 'created': '2015-01-19 00:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e578b797c688cd3e9e892c65acf8502cb09570fb', 'message': 'libvirt : Add support for --interface option in iscsiadm.\n\nAdds the new libvirt parameter iscsi_transport that can be used to\nspecify an iscsi transport, which used in conjuction with the\n--interface parameter provides offloaded iscsi support.\n\nAlso happens to implement code that was originally supposed to be\ncovered by blueprint hw-iscsi-device-name-support as this is a\nrequirement for transport support.\n\nDocImpact\n\nImplements: blueprint hw-iscsi-device-name-support\nImplements: blueprint add-open-iscsi-transport-support\n\nChange-Id: I1034f1e26e0b00e64430e6347d232793c3401ba8\n'}, {'number': 16, 'created': '2015-01-21 00:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23d358f72fa50529d8ad77dc292a807cbb88b416', 'message': 'libvirt : Add support for --interface option in iscsiadm.\n\nAdds the new libvirt parameter iscsi_transport that can be used to\nspecify an iscsi transport, which used in conjuction with the\n--interface parameter provides offloaded iscsi support.\n\nAlso happens to implement code that was originally supposed to be\ncovered by hw-iscsi-device-name-support as this is a\nrequirement for transport support.\n\nDocImpact\n\nImplements: blueprint hw-iscsi-device-name-support\nImplements: blueprint add-open-iscsi-transport-support\n\nChange-Id: I1034f1e26e0b00e64430e6347d232793c3401ba8\n'}, {'number': 17, 'created': '2015-01-23 00:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80ae3cde3e793f55a9c811d3f4c2aaa1aa081a35', 'message': 'libvirt : Add support for --interface option in iscsiadm.\n\nAdds the new libvirt parameter iscsi_transport that can be used to\nspecify an iscsi transport, which used in conjuction with the\n--interface parameter provides offloaded iscsi support.\n\nAlso happens to implement code that was originally supposed to be\ncovered by hw-iscsi-device-name-support as this is a\nrequirement for transport support.\n\nDocImpact\nCloses-Bug: #1370226\nImplements: blueprint hw-iscsi-device-name-support\nImplements: blueprint add-open-iscsi-transport-support\n\nChange-Id: I1034f1e26e0b00e64430e6347d232793c3401ba8\n'}, {'number': 18, 'created': '2015-01-26 07:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e6e8d1fc3e62e9f7eec5f3c77e89236b6b7fd51', 'message': 'libvirt : Add support for --interface option in iscsiadm.\n\nAdds the new libvirt parameter iscsi_transport that can be used to\nspecify an iscsi transport, which used in conjuction with the\n--interface parameter provides offloaded iscsi support.\n\nAlso happens to implement code that was originally supposed to be\ncovered by hw-iscsi-device-name-support as this is a\nrequirement for transport support.\n\nDocImpact\n\nImplements: blueprint hw-iscsi-device-name-support\nImplements: blueprint add-open-iscsi-transport-support\n\nChange-Id: I1034f1e26e0b00e64430e6347d232793c3401ba8\n'}, {'number': 19, 'created': '2015-01-26 07:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fda1d6aae63e84c510066b08646d6ec8833939c8', 'message': 'libvirt : Add support for --interface option in iscsiadm.\n\nAdds the new libvirt parameter iscsi_transport that can be used to\nspecify an iscsi transport, which used in conjuction with the\n--interface parameter provides offloaded iscsi support.\n\nAlso happens to implement code that was originally supposed to be\ncovered by hw-iscsi-device-name-support as this is a\nrequirement for transport support.\n\nDocImpact\nCloses-Bug: #1370226\nImplements: blueprint hw-iscsi-device-name-support\nImplements: blueprint add-open-iscsi-transport-support\n\nChange-Id: I1034f1e26e0b00e64430e6347d232793c3401ba8\n'}, {'number': 20, 'created': '2015-02-02 20:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e65248f24a598707cdf945d7c1dd345544be8269', 'message': 'libvirt : Add support for --interface option in iscsiadm.\n\nAdds the new libvirt parameter iscsi_transport that can be used to\nspecify an iscsi transport, which used in conjuction with the\n--interface parameter provides offloaded iscsi support.\n\nAlso happens to implement code that was originally supposed to be\ncovered by hw-iscsi-device-name-support as this is a\nrequirement for transport support.\n\nDocImpact\nCloses-Bug: #1370226\nImplements: blueprint hw-iscsi-device-name-support\nImplements: blueprint add-open-iscsi-transport-support\n\nChange-Id: I1034f1e26e0b00e64430e6347d232793c3401ba8\n'}, {'number': 21, 'created': '2015-02-02 22:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/663a18eabcb569990a736bcfc5f5db8c2d385c9d', 'message': 'libvirt : Add support for --interface option in iscsiadm.\n\nAdds the new libvirt parameter iscsi_transport that can be used to\nspecify an iscsi transport, which used in conjuction with the\n--interface parameter provides offloaded iscsi support.\n\nAlso happens to implement code that was originally supposed to be\ncovered by hw-iscsi-device-name-support as this is a\nrequirement for transport support.\n\nDocImpact\nCloses-Bug: #1370226\nImplements: blueprint hw-iscsi-device-name-support\nImplements: blueprint add-open-iscsi-transport-support\n\nChange-Id: I1034f1e26e0b00e64430e6347d232793c3401ba8\n'}, {'number': 22, 'created': '2015-02-03 00:10:39.000000000', 'files': ['nova/virt/libvirt/volume.py', 'nova/tests/unit/virt/libvirt/test_volume.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/554647a4deee6ece221eb79fc93551de72b17ae3', 'message': 'libvirt : Add support for --interface option in iscsiadm.\n\nAdds the new libvirt parameter iscsi_transport that can be used to\nspecify an iscsi transport, which used in conjuction with the\n--interface parameter provides offloaded iscsi support.\n\nAlso happens to implement code that was originally supposed to be\ncovered by hw-iscsi-device-name-support as this is a\nrequirement for transport support.\n\nDocImpact\nCloses-Bug: #1370226\nImplements: blueprint hw-iscsi-device-name-support\nImplements: blueprint add-open-iscsi-transport-support\n\nChange-Id: I1034f1e26e0b00e64430e6347d232793c3401ba8\n'}]",23,146233,554647a4deee6ece221eb79fc93551de72b17ae3,163,23,22,12088,,,0,"libvirt : Add support for --interface option in iscsiadm.

Adds the new libvirt parameter iscsi_transport that can be used to
specify an iscsi transport, which used in conjuction with the
--interface parameter provides offloaded iscsi support.

Also happens to implement code that was originally supposed to be
covered by hw-iscsi-device-name-support as this is a
requirement for transport support.

DocImpact
Closes-Bug: #1370226
Implements: blueprint hw-iscsi-device-name-support
Implements: blueprint add-open-iscsi-transport-support

Change-Id: I1034f1e26e0b00e64430e6347d232793c3401ba8
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/146233/18 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/volume.py'],1,840571ec66a6a982f46a151ad25d670815b8cda9,bug/1370226," 'from QEMU. Currently supported protocols: [gluster]'), cfg.StrOpt('iscsi_transport', default='default', help='iSCSI transport to use to connect to target in case ' 'offload support is desired'), self.transport = CONF.libvirt.iscsi_transport device_byname = (""ip-%s-iscsi-%s-lun-"" % devices = [dev for dev in devices if (device_byname in dev and dev.startswith('/dev/disk/by-path/'))] elif entry_ip_iqn[:4] == ""pci-"": # Look at an offset of len('pci-0000:00:00.0') offset = entry_ip_iqn.find(""ip-"", 16, 21) entry_ip_iqn = entry_ip_iqn[(offset + 3):] return [entry for entry in devices if ""ip-"" in entry] def _get_host_device(self, transport_properties): device = (""ip-%s-iscsi-%s-lun-%s"" % (transport_properties['target_portal'], transport_properties['target_iqn'], transport_properties.get('target_lun', 0))) if self.transport == ""default"": return (""/dev/disk/by-path/%s"" % device) else: host_device = None look_for_device = glob.glob('/dev/disk/by-path/*%s' % device) if look_for_device: host_device = look_for_device[0] return host_device """""" Note: iscsiadm does not support changing iface.iscsi_ifacename via --op update, so we do this at creation time """""" self._run_iscsiadm(iscsi_properties, ('--interface', self.transport, '--op', 'new'))"," 'from QEMU. Currently supported protocols: [gluster]') device_prefix = (""/dev/disk/by-path/ip-%s-iscsi-%s-lun-"" % devices = [dev for dev in devices if dev.startswith(device_prefix)] return [entry for entry in devices if entry.startswith(""ip-"")] def _get_host_device(self, iscsi_properties): return (""/dev/disk/by-path/ip-%s-iscsi-%s-lun-%s"" % (iscsi_properties['target_portal'], iscsi_properties['target_iqn'], iscsi_properties.get('target_lun', 0))) self._run_iscsiadm(iscsi_properties, ('--op', 'new')) def _get_host_device(self, iser_properties): time.sleep(1) host_device = None device = (""ip-%s-iscsi-%s-lun-%s"" % (iser_properties['target_portal'], iser_properties['target_iqn'], iser_properties.get('target_lun', 0))) look_for_device = glob.glob('/dev/disk/by-path/*%s' % device) if look_for_device: host_device = look_for_device[0] return host_device ",34,22
openstack%2Fcastellan~master~I14b774235a81a0537fea59d76167b0cf6e3831bd,openstack/castellan,master,I14b774235a81a0537fea59d76167b0cf6e3831bd,Add openstack/common log and policy modules,MERGED,2015-01-29 20:19:48.000000000,2015-02-03 15:27:49.000000000,2015-02-03 15:27:49.000000000,"[{'_account_id': 3}, {'_account_id': 6783}, {'_account_id': 7012}, {'_account_id': 7136}, {'_account_id': 7262}, {'_account_id': 7354}, {'_account_id': 7355}, {'_account_id': 7687}, {'_account_id': 7789}, {'_account_id': 7973}, {'_account_id': 8004}, {'_account_id': 8623}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}]","[{'number': 1, 'created': '2015-01-29 20:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/8c239a5a75262c80751e93beaa8b0710386531de', 'message': 'Add openstack/common log and policy modules\n\nAdd the log and policy modules of openstack/common since these are\nneeded for the initial keymgr commit.\n\nChange-Id: I14b774235a81a0537fea59d76167b0cf6e3831bd\n'}, {'number': 2, 'created': '2015-01-29 20:46:37.000000000', 'files': ['castellan/openstack/common/fileutils.py', 'castellan/openstack/__init__.py', 'castellan/openstack/common/log.py', 'castellan/openstack/common/policy.py', 'castellan/openstack/common/_i18n.py', 'castellan/openstack/common/__init__.py', 'openstack-common.conf', 'castellan/openstack/common/local.py'], 'web_link': 'https://opendev.org/openstack/castellan/commit/bcf648e9bad4032d649894b226f9bb314fc0fbd3', 'message': 'Add openstack/common log and policy modules\n\nAdd the log and policy modules of openstack/common since these are\nneeded for the initial keymgr commit.\n\nChange-Id: I14b774235a81a0537fea59d76167b0cf6e3831bd\n'}]",4,151371,bcf648e9bad4032d649894b226f9bb314fc0fbd3,14,15,2,7012,,,0,"Add openstack/common log and policy modules

Add the log and policy modules of openstack/common since these are
needed for the initial keymgr commit.

Change-Id: I14b774235a81a0537fea59d76167b0cf6e3831bd
",git fetch https://review.opendev.org/openstack/castellan refs/changes/71/151371/1 && git format-patch -1 --stdout FETCH_HEAD,"['castellan/openstack/common/fileutils.py', 'castellan/openstack/__init__.py', 'castellan/openstack/common/log.py', 'castellan/openstack/common/policy.py', 'castellan/openstack/common/_i18n.py', 'castellan/openstack/common/__init__.py', 'openstack-common.conf', 'castellan/openstack/common/local.py']",8,8c239a5a75262c80751e93beaa8b0710386531de,copy-cinder-keymgr,"# Copyright 2011 OpenStack Foundation. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Local storage of variables using weak references"""""" import threading import weakref class WeakLocal(threading.local): def __getattribute__(self, attr): rval = super(WeakLocal, self).__getattribute__(attr) if rval: # NOTE(mikal): this bit is confusing. What is stored is a weak # reference, not the value itself. We therefore need to lookup # the weak reference and return the inner value here. rval = rval() return rval def __setattr__(self, attr, value): value = weakref.ref(value) return super(WeakLocal, self).__setattr__(attr, value) # NOTE(mikal): the name ""store"" should be deprecated in the future store = WeakLocal() # A ""weak"" store uses weak references and allows an object to fall out of scope # when it falls out of scope in the code that uses the thread local storage. A # ""strong"" store will hold a reference to the object so that it never falls out # of scope. weak_store = WeakLocal() strong_store = threading.local() ",,1918,0
openstack%2Fnova-specs~master~I413ddbfc2fcc8f21cb7213391288d6768bef9d88,openstack/nova-specs,master,I413ddbfc2fcc8f21cb7213391288d6768bef9d88,Update the use-configdrive-with-ironic spec,MERGED,2015-01-30 17:39:46.000000000,2015-02-03 15:26:10.000000000,2015-02-03 15:26:09.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 10343}]","[{'number': 1, 'created': '2015-01-30 17:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6c3baa85f28aee79ddefbde03e320dc1c3579878', 'message': ""Update the use-configdrive-with-ironic spec\n\nThis patch is updating the use-configdrive-with-ironic spec to reflect\nthe changes discussed in https://review.openstack.org/#/c/144792/. Now,\nNova will not have a hard dependency on Swift anymore, the Nova Ironic\ndriver will be only responsable for generating the config drive, gzip\nand encode it and give it to Ironic via Ironic's API.\n\nChange-Id: I413ddbfc2fcc8f21cb7213391288d6768bef9d88\n""}, {'number': 2, 'created': '2015-02-03 15:11:44.000000000', 'files': ['specs/kilo/approved/use-configdrive-with-ironic.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ab97f578d3be3f0aca7038e22fc448a289b3b5e5', 'message': ""Update the use-configdrive-with-ironic spec\n\nThis patch is updating the use-configdrive-with-ironic spec to reflect\nthe changes discussed in https://review.openstack.org/#/c/144792/. Now,\nNova will not have a hard dependency on Swift anymore, the Nova Ironic\ndriver will be only responsable for generating the config drive, gzip\nand encode it and give it to Ironic via Ironic's API.\n\nChange-Id: I413ddbfc2fcc8f21cb7213391288d6768bef9d88\n""}]",1,151717,ab97f578d3be3f0aca7038e22fc448a289b3b5e5,12,6,2,6773,,,0,"Update the use-configdrive-with-ironic spec

This patch is updating the use-configdrive-with-ironic spec to reflect
the changes discussed in https://review.openstack.org/#/c/144792/. Now,
Nova will not have a hard dependency on Swift anymore, the Nova Ironic
driver will be only responsable for generating the config drive, gzip
and encode it and give it to Ironic via Ironic's API.

Change-Id: I413ddbfc2fcc8f21cb7213391288d6768bef9d88
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/17/151717/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/approved/use-configdrive-with-ironic.rst'],1,6c3baa85f28aee79ddefbde03e320dc1c3579878,bp/use-configdrive-with-ironic,"* The virt driver generates the configdrivem gzips and base64 encode it. * The virt driver passes the encoded image to Ironic via the Ironic API. * The Ironic service will then store the image in some system and holds on to a URI for it, or if no external system is configured, Ironic will save the image into its database. The reference implementation for this will be using Swift, with a configurable TTL. * Ironic pass the image to the deploy driver that will then expose it to the tenant. The initial implementation will create a config drive partition on the disk and copy the image onto it, but it could be extended to use the virtual media out-of-band if the target hardware supports it.None for this spec, but Ironic might store the end user data in Swift. This may be a security concern, as this data is not encrypted at rest.None.* Implement the code and unit tests. This will involve changing the spawn() function in Ironic's virt driver to generate the configdrive, gzip, base64 encode it and pass it to Ironic as part of the request BODY of the API call to start the deployment of the Node.Unittests.","* The virt driver generates the configdrive and gzips it. * The virt driver puts the gzipped image in some system and holds on to a URI for the image. * The virt driver will pass this URI to Ironic. * If present, Ironic will pass this URI to its DeployDriver, which will in turn provide it to the instance during provisioning, by means appropriate to that driver. * Ironic uses this URI to write a configdrive partition on the instance during provisioning. * The reference implementation for this will be using Swift, with a configurable TTL.This proposal involves storing end user data in Swift. This may be a security concern, as this data is not encrypted at rest.The reference implementation will add a hard dependency on Swift for deployers that wish to use configdrive support with Ironic. Other implementations may remove this dependency. The reference implementation will also add corresponding config options for the Swift client.* Add a wrapper for python-swiftclient that can, at a minimum, upload objects to Swift. * Implement the code and unit tests. This will involve changing the deploy() function in Ironic's virt driver to generate the configdrive, upload it to Swift, and pass the Swift URL for the configdrive in the PATCH request to Ironic. The tear_down() method of Ironic's virt driver will be changed to remove the configdrive key from instance_info. Unit tests will need to be updated accordingly. * Configure tempest tests to properly exercise this feature. Use tempest to test this feature, when configured properly.",19,34
openstack%2Fglance_store~master~I7a349fc8fb4864c2e45b8429e7a4dcc5781bc2dc,openstack/glance_store,master,I7a349fc8fb4864c2e45b8429e7a4dcc5781bc2dc,Use testr directly from tox,MERGED,2014-12-15 14:12:51.000000000,2015-02-03 15:25:35.000000000,2015-02-03 15:25:34.000000000,"[{'_account_id': 3}, {'_account_id': 6159}, {'_account_id': 7575}, {'_account_id': 11356}, {'_account_id': 11391}, {'_account_id': 13717}]","[{'number': 1, 'created': '2014-12-15 14:12:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/fde5fae723a0a535d80b40e8425e9feafc513d2f', 'message': 'Use testr directly from tox\n\nThis replicates the patch in glance to use testr directly\n(I21351880db0848b860e7c61d4a8c711be2a49de0).\n\nChange-Id: I7a349fc8fb4864c2e45b8429e7a4dcc5781bc2dc\n'}]",0,141809,fde5fae723a0a535d80b40e8425e9feafc513d2f,10,6,1,11356,,,0,"Use testr directly from tox

This replicates the patch in glance to use testr directly
(I21351880db0848b860e7c61d4a8c711be2a49de0).

Change-Id: I7a349fc8fb4864c2e45b8429e7a4dcc5781bc2dc
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/09/141809/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fde5fae723a0a535d80b40e8425e9feafc513d2f,testr,commands = python setup.py testr --slowest --testr-args='{posargs}',commands = python setup.py test --slowest --testr-args='{posargs}',1,1
openstack%2Fpython-cinderclient~master~If2a87e23cabde006833de70e5c7aa066d95dbf50,openstack/python-cinderclient,master,If2a87e23cabde006833de70e5c7aa066d95dbf50,Don't use sessions if third party plugin is used,MERGED,2014-10-13 18:06:01.000000000,2015-02-03 15:25:10.000000000,2015-02-03 15:25:09.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 694}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 2559}, {'_account_id': 4240}, {'_account_id': 4463}, {'_account_id': 5538}, {'_account_id': 6268}, {'_account_id': 6491}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-10-13 18:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/a4a42e5cbd55caef14beb0574ad0bbf5e153f6d3', 'message': ""Don't use sessions if third party plugin is used\n\nIf an auth_plugin is used don not try to load the session\nfrom the default keystone providers.\n\nChange-Id: If2a87e23cabde006833de70e5c7aa066d95dbf50\nCloses-Bug: 1380729\n""}, {'number': 2, 'created': '2014-10-14 14:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/13a535619f0e62a4c2a13d2483f90c2a5ab84dca', 'message': ""Don't use sessions if third party plugin is used\n\nIf an auth_plugin is used don not try to load the session\nfrom the default keystone providers.\n\nChange-Id: If2a87e23cabde006833de70e5c7aa066d95dbf50\nCloses-Bug: #1380729""}, {'number': 3, 'created': '2014-10-14 14:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/0abb267fcf016e371a304a0783da5b154b78cc76', 'message': ""Don't use sessions if third party plugin is used\n\nIf an auth_plugin is used do not try to load the session\nfrom the default keystone providers.\n\nChange-Id: If2a87e23cabde006833de70e5c7aa066d95dbf50\nCloses-Bug: #1380729\n""}, {'number': 4, 'created': '2014-12-09 17:41:52.000000000', 'files': ['cinderclient/client.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/7783767f23494b549b74cc2843631c8aed456866', 'message': ""Don't use sessions if third party plugin is used\n\nIf an auth_plugin is used do not try to load the session\nfrom the default keystone providers.\n\nChange-Id: If2a87e23cabde006833de70e5c7aa066d95dbf50\nCloses-Bug: #1380729\n""}]",0,128031,7783767f23494b549b74cc2843631c8aed456866,40,12,4,6268,,,0,"Don't use sessions if third party plugin is used

If an auth_plugin is used do not try to load the session
from the default keystone providers.

Change-Id: If2a87e23cabde006833de70e5c7aa066d95dbf50
Closes-Bug: #1380729
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/31/128031/4 && git format-patch -1 --stdout FETCH_HEAD,['cinderclient/client.py'],1,a4a42e5cbd55caef14beb0574ad0bbf5e153f6d3,bug/1380729, # Don't use sessions if third party plugin is used if session and not auth_plugin:, if session:,2,1
openstack%2Fnova~master~I739b0980a1bf465f71e4993fa3ea99bacfa73d9f,openstack/nova,master,I739b0980a1bf465f71e4993fa3ea99bacfa73d9f,libvirt: timeout migration after 10 minutes,ABANDONED,2015-01-30 15:16:18.000000000,2015-02-03 15:24:27.000000000,,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 2271}, {'_account_id': 5170}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-01-30 15:16:18.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cb35c01ce7023fd94ce0030e87abe0e811831983', 'message': ""libvirt: timeout migration after 10 minutes\n\nCurrently live migration operations will be allowed to continue\nthe end of the universe. This is a rather silly waste of resources.\nAdd a configuration parameter allowing the live migration time\nto be capped, defaulting to 10 minutes.\n\nIf a migration takes longer than this, it'll probably never going\nto complete in reasonable time. Nova needs to be enhanced so that\nit monitors live migration progress and increases max downtime,\nor increases available bandwidth to force convergance, or even\npause the VM to make it non-live.\n\nChange-Id: I739b0980a1bf465f71e4993fa3ea99bacfa73d9f\n""}]",2,151665,cb35c01ce7023fd94ce0030e87abe0e811831983,10,8,1,1779,,,0,"libvirt: timeout migration after 10 minutes

Currently live migration operations will be allowed to continue
the end of the universe. This is a rather silly waste of resources.
Add a configuration parameter allowing the live migration time
to be capped, defaulting to 10 minutes.

If a migration takes longer than this, it'll probably never going
to complete in reasonable time. Nova needs to be enhanced so that
it monitors live migration progress and increases max downtime,
or increases available bandwidth to force convergance, or even
pause the VM to make it non-live.

Change-Id: I739b0980a1bf465f71e4993fa3ea99bacfa73d9f
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/151665/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,cb35c01ce7023fd94ce0030e87abe0e811831983,migration-fail-2," cfg.IntOpt('live_migration_timeout', default=60*10, help='Maximum time (in seconds) allowed for live migration ' 'to complete before it is automatically cancelled. ' 'Defaults to 600 seconds (10 minutes)'), startTime = time.time() now = time.time() if (now - startTime) > CONF.libvirt.live_migration_timeout: LOG.warn(_LW(""Migration timed out after %d seconds, aborting""), CONF.libvirt.live_migration_timeout) try: dom.abortJob() except libvirt.libvirtError as ex: LOG.warn(_LW(""Error while trying to cancel migration %(ex)s""), ex=ex, instance=instance)",,16,0
openstack%2Fmanila~master~Ie5f203c0b2cb57ad00d9ec8db0529075b6fef261,openstack/manila,master,Ie5f203c0b2cb57ad00d9ec8db0529075b6fef261,Replace legacy StubOutForTesting class,MERGED,2015-02-02 22:50:52.000000000,2015-02-03 15:24:07.000000000,2015-02-03 15:24:05.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 8851}]","[{'number': 1, 'created': '2015-02-02 22:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/711af3d7b23bbb9df1aa78b071392b35e952d631', 'message': 'Replace legacy StubOutForTesting class\n\nThe Manila test module uses a class called StubOutForTesting, which\nis an awkward holdover from when the unit tests were using Mox.\nAlex wrote a more elegant and capable mocker method,\nmanila.test.TestCase.mock_object, in the Cinder project which we\nhave now added to Manila. So to remove the duplicate functionality\nand legacy code, all references to self.stubs.Set() in the Manila\ntests should be replaced with self.mock_object() and any related\ndead code should be removed.\n\nResolves-bug: #1415602\nChange-Id: Ie5f203c0b2cb57ad00d9ec8db0529075b6fef261\n'}, {'number': 2, 'created': '2015-02-03 14:31:20.000000000', 'files': ['manila/tests/network/neutron/test_neutron_plugin.py', 'manila/tests/api/v1/test_shares.py', 'manila/tests/share/drivers/test_service_instance.py', 'manila/tests/scheduler/test_host_filters.py', 'manila/tests/share/drivers/zfssa/test_zfssashare.py', 'manila/tests/test_quota.py', 'manila/tests/api/contrib/test_types_manage.py', 'manila/tests/share/drivers/zfssa/test_zfssarest.py', 'manila/tests/share/test_rpcapi.py', 'manila/tests/api/v1/test_volume_types.py', 'manila/tests/fake_notifier.py', 'manila/tests/share/drivers/test_glusterfs_native.py', 'manila/tests/share/drivers/test_glusterfs.py', 'manila/tests/api/contrib/test_services.py', 'manila/tests/api/contrib/test_share_actions.py', 'manila/tests/share/drivers/test_ganesha.py', 'manila/tests/share/test_driver.py', 'manila/tests/share/drivers/emc/test_emc_vnx.py', 'manila/tests/api/v1/test_limits.py', 'manila/tests/share/drivers/ibm/test_gpfs.py', 'manila/tests/share/test_manager.py', 'manila/tests/api/v1/test_share_snapshots.py', 'manila/tests/network/neutron/test_neutron_api.py', 'manila/tests/api/contrib/test_admin_actions.py', 'manila/tests/api/contrib/test_types_extra_specs.py', 'manila/tests/api/v1/test_share_servers.py', 'manila/tests/volume/test_cinder.py', 'manila/tests/scheduler/test_host_manager.py', 'manila/tests/share/drivers/huawei/test_huawei_nas.py', 'manila/tests/scheduler/test_scheduler.py', 'manila/tests/api/v1/test_share_metadata.py', 'manila/tests/share/test_volume_types.py', 'manila/tests/share/drivers/ibm/test_ganesha_utils.py', 'manila/tests/share/test_api.py', 'manila/test.py', 'manila/tests/share/drivers/ganesha/test_manager.py', 'manila/tests/test_utils.py', 'manila/tests/api/fakes.py', 'manila/tests/share/drivers/test_generic.py', 'manila/tests/compute/test_nova.py', 'manila/tests/share/drivers/netapp/test_cluster_mode.py', 'manila/tests/fake_utils.py', 'manila/tests/share/drivers/emc/test_driver.py', 'manila/tests/api/v1/test_security_service.py', 'manila/tests/share/drivers/ganesha/test_utils.py', 'manila/tests/test_context.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/65d1158526d9597506bf1d29e8a219e76ce6866b', 'message': 'Replace legacy StubOutForTesting class\n\nThe Manila test module uses a class called StubOutForTesting, which\nis an awkward holdover from when the unit tests were using Mox.\nAlex wrote a more elegant and capable mocker method,\nmanila.test.TestCase.mock_object, in the Cinder project which we\nhave now added to Manila. So to remove the duplicate functionality\nand legacy code, all references to self.stubs.Set() in the Manila\ntests should be replaced with self.mock_object() and any related\ndead code should be removed.\n\nResolves-bug: #1415602\nChange-Id: Ie5f203c0b2cb57ad00d9ec8db0529075b6fef261\n'}]",0,152324,65d1158526d9597506bf1d29e8a219e76ce6866b,10,3,2,11865,,,0,"Replace legacy StubOutForTesting class

The Manila test module uses a class called StubOutForTesting, which
is an awkward holdover from when the unit tests were using Mox.
Alex wrote a more elegant and capable mocker method,
manila.test.TestCase.mock_object, in the Cinder project which we
have now added to Manila. So to remove the duplicate functionality
and legacy code, all references to self.stubs.Set() in the Manila
tests should be replaced with self.mock_object() and any related
dead code should be removed.

Resolves-bug: #1415602
Change-Id: Ie5f203c0b2cb57ad00d9ec8db0529075b6fef261
",git fetch https://review.opendev.org/openstack/manila refs/changes/24/152324/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/network/neutron/test_neutron_plugin.py', 'manila/tests/api/v1/test_shares.py', 'manila/tests/share/drivers/test_service_instance.py', 'manila/tests/scheduler/test_host_filters.py', 'manila/tests/share/drivers/zfssa/test_zfssashare.py', 'manila/tests/test_quota.py', 'manila/tests/api/contrib/test_types_manage.py', 'manila/tests/share/drivers/zfssa/test_zfssarest.py', 'manila/tests/share/test_rpcapi.py', 'manila/tests/api/v1/test_volume_types.py', 'manila/tests/fake_notifier.py', 'manila/tests/share/drivers/test_glusterfs_native.py', 'manila/tests/share/drivers/test_glusterfs.py', 'manila/tests/api/contrib/test_services.py', 'manila/tests/api/contrib/test_share_actions.py', 'manila/tests/share/drivers/test_ganesha.py', 'manila/tests/share/test_driver.py', 'manila/tests/share/drivers/emc/test_emc_vnx.py', 'manila/tests/api/v1/test_limits.py', 'manila/tests/share/drivers/ibm/test_gpfs.py', 'manila/tests/share/test_manager.py', 'manila/tests/api/v1/test_share_snapshots.py', 'manila/tests/network/neutron/test_neutron_api.py', 'manila/tests/api/contrib/test_admin_actions.py', 'manila/tests/api/contrib/test_types_extra_specs.py', 'manila/tests/api/v1/test_share_servers.py', 'manila/tests/volume/test_cinder.py', 'manila/tests/scheduler/test_host_manager.py', 'manila/tests/share/drivers/huawei/test_huawei_nas.py', 'manila/tests/scheduler/test_scheduler.py', 'manila/tests/api/v1/test_share_metadata.py', 'manila/tests/share/test_volume_types.py', 'manila/tests/share/drivers/ibm/test_ganesha_utils.py', 'manila/tests/share/test_api.py', 'manila/test.py', 'manila/tests/share/drivers/ganesha/test_manager.py', 'manila/tests/test_utils.py', 'manila/tests/api/fakes.py', 'manila/tests/share/drivers/test_generic.py', 'manila/tests/compute/test_nova.py', 'manila/tests/share/drivers/netapp/test_cluster_mode.py', 'manila/tests/fake_utils.py', 'manila/tests/share/drivers/emc/test_driver.py', 'manila/tests/api/v1/test_security_service.py', 'manila/tests/share/drivers/ganesha/test_utils.py', 'manila/tests/test_context.py']",46,711af3d7b23bbb9df1aa78b071392b35e952d631,bug/1415602," self.mock_object(context.LOG, 'warn', fake_warn)"," self.stubs.Set(context.LOG, 'warn', fake_warn)",1304,1358
openstack%2Fopenstack-manuals~master~I52046e71046cea0ab46929a0f1a2833e01f8cd9b,openstack/openstack-manuals,master,I52046e71046cea0ab46929a0f1a2833e01f8cd9b,General updates to Compute for style and convention,MERGED,2015-02-02 05:10:56.000000000,2015-02-03 15:21:40.000000000,2015-02-03 15:21:39.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 9162}, {'_account_id': 9382}, {'_account_id': 14643}]","[{'number': 1, 'created': '2015-02-02 05:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/7d08e98516d83e8f595df697da1f1551cceefd67', 'message': 'General updates to Compute for style and convention\n\nEditing the nested sections for the compute chapter. Mostly grammar, wording,\nstyle, convention, etc. This patch includes recovery. Watch this space for more.\n\nChange-Id: I52046e71046cea0ab46929a0f1a2833e01f8cd9b\nPartial-Bug: #1251195\n'}, {'number': 2, 'created': '2015-02-02 05:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a5595e1ea0a97804522720c4d2e1d1c573a3f301', 'message': 'General updates to Compute for style and convention\n\nEditing the nested sections for the compute chapter. Mostly grammar, wording,\nstyle, convention, etc. This patch includes recovery. Watch this space for more.\n\nChange-Id: I52046e71046cea0ab46929a0f1a2833e01f8cd9b\nPartial-Bug: #1251195\n'}, {'number': 3, 'created': '2015-02-03 02:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/b0c9664a7dd9c1058800c7d0d9453687c804797d', 'message': 'General updates to Compute for style and convention\n\nEditing the nested sections for the compute chapter. Mostly grammar, wording,\nstyle, convention, etc. This patch includes recovery. Watch this space for more.\n\nChange-Id: I52046e71046cea0ab46929a0f1a2833e01f8cd9b\nPartial-Bug: #1251195\n'}, {'number': 4, 'created': '2015-02-03 02:51:06.000000000', 'files': ['doc/admin-guide-cloud/compute/section_compute-recover-nodes.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/efa6f3b412ffc18784bae58bd6501ac5f2cb069b', 'message': 'General updates to Compute for style and convention\n\nEditing the nested sections for the compute chapter. Mostly grammar, wording,\nstyle, convention, etc. This patch includes recovery. Watch this space for more.\n\nChange-Id: I52046e71046cea0ab46929a0f1a2833e01f8cd9b\nPartial-Bug: #1251195\n'}]",30,151988,efa6f3b412ffc18784bae58bd6501ac5f2cb069b,14,5,4,9162,,,0,"General updates to Compute for style and convention

Editing the nested sections for the compute chapter. Mostly grammar, wording,
style, convention, etc. This patch includes recovery. Watch this space for more.

Change-Id: I52046e71046cea0ab46929a0f1a2833e01f8cd9b
Partial-Bug: #1251195
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/88/151988/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/admin-guide-cloud/compute/section_compute-recover-nodes.xml'],1,7d08e98516d83e8f595df697da1f1551cceefd67,evenmorebug1251195/loquacity," <para>If Compute is deployed with a shared file system, and a node fails, there are two methods to quickly recover from the failure. Evacuating is the preferred method even in the absence of shared storage. Evacuating provides many benefits over manual recovery, such as re-attachment of volumes and floating IPs.</para> <para>To recover a KVM or libvirt compute node, see <xref linkend=""nova-compute-node-down-manual-recovery"" />. For all other hypervisors, use this procedure:</para> <step> <para>Identify the VMs on the affected hosts. To do this, you can use a combination of <command>nova list</command> and <command>nova show</command> or <command>euca-describe-instances</command>. For example, this command displays information about instance <systemitem>i-000015b9</systemitem> that is running on node <systemitem>np-rcc54</systemitem>:</para> <screen><prompt>$</prompt> <userinput>euca-describe-instances</userinput> </step> <step> <para>Query the Compute database to check the status of the host. This example converts an EC2 API instance ID into an OpenStack ID. If you use the <command>nova</command> commands, you can substitute the ID directly (the output in this example has been truncated):</para> <screen><prompt>mysql></prompt> <userinput>SELECT * FROM instances WHERE id = CONV('15b9', 16, 10) \G;</userinput>created_at: 2012-06-19 00:48:11 updated_at: 2012-07-03 00:35:11 deleted_at: NULLid: 5561power_state: 5 vm_state: shutoffhostname: at3-ui02 host: np-rcc54uuid: 3f57699a-e773-4650-a443-b4b37eed5a06task_state: NULL <note> <para>The credentials for your database can be found in <filename>/etc/nova.conf</filename>.</para> </note> </step> <step> <para>Decide which compute host the affected VM should be moved to, and run this database command to move the VM to to the new host:</para> <screen><prompt>mysql></prompt> <userinput>UPDATE instances SET host = 'np-rcc46' WHERE uuid = '3f57699a-e773-4650-a443-b4b37eed5a06';</userinput></screen> </step> <step performance=""optional""> <para>If you are using a hypervisor that relies on libvirt (such as KVM), update the <literal>libvirt.xml</literal> file (found in <literal>/var/lib/nova/instances/[instance ID]</literal>) with these changes:</para> <itemizedlist> <listitem> <para>Change the <literal>DHCPSERVER</literal> value to the host IP address of the new compute host.</para> </listitem> <listitem> <para>Update the VNC IP to <uri>0.0.0.0</uri>.</para> </listitem> </itemizedlist> </step> <step> <para>Reboot the VM:</para> <screen><prompt>$</prompt> <userinput>nova reboot --hard 3f57699a-e773-4650-a443-b4b37eed5a06</userinput></screen> </step> <para>The database update and <command>nova reboot</command> command should be all that is required to recover a VM from a failed host. However, if you continue to have problems try recreating the network filter configuration using <command>virsh</command>, restarting the Compute services, or updating the <literal>vm_state</literal> and <literal>power_state</literal> in the Compute database.</para> <para>In some cases, files on your compute node could end up using the wrong UID or GID. This can happen when running OpenStack Compute, using a shared file system, or with an automated configuration tool. This can cause a number of problems, such as being unable to do live migrations, or start virtual machines.</para> <para>This procedure runs on <systemitem class=""service"">nova-compute</systemitem> hosts, based on the KVM hypervisor:</para> <title>Recovering from a UID/GID mismatch</title> <step> <para>Set the nova UID in <filename>/etc/passwd</filename> to the same number on all hosts (for example, 112).</para> <note> <para>Make sure you choose UIDs or GIDs that are not in use for other users or groups.</para> </note> </step> <step> <para>Set the <parameter>libvirt-qemu</parameter> UID in <filename>/etc/passwd</filename> to the same number on all hosts (for example, 119).</para> </step> <step> <para>Set the <parameter>nova group</parameter> in <filename>/etc/group</filename> file to the same number on all hosts (for example, 120).</para> </step> <step> <para>Set the <parameter>libvirtd</parameter> group in <filename>/etc/group</filename> file to the same number on all hosts (for example, 119).</para> </step> <step> <para>Stop the services on the compute node.</para> </step> <step> <para>Change all the files owned by user or group <systemitem>nova</systemitem>. For example:</para> <screen><prompt>#</prompt> <userinput>find / -uid 108 -exec chown nova {} \; </userinput># note the 108 here is the old nova UID before the change </step> <step> <para>Repeat all steps for the <parameter>libvirt-qemu</parameter> files if required.</para> </step> <step> <para>Restart the services.</para> </step> <step> <para>Run the <command>find</command> command to verify that all files are using the correct identifiers.</para> </step> <title>Recover cloud after disaster</title> <para>This section covers procedures for managing your cloud after a disaster, and backing up persistent storage volumes. Backups are mandatory, even outside of disaster scenarios.</para> <para>For a definition of a disaster recovery plan (DRP), see <link xlink:href=""http://en.wikipedia.org/wiki/Disaster_Recovery_Plan""> http://en.wikipedia.org/wiki/Disaster_Recovery_Plan</link>.</para> <title>Disaster recovery example</title> <para>A disaster could happen to several components of your architecture (for example, a disk crash, network loss, or a power failure). In this example, the following components are configured:</para> <itemizedlist> <listitem> <para>A cloud controller (<systemitem>nova-api</systemitem>, <systemitem>nova-objectstore</systemitem>, <systemitem>nova-network</systemitem>)</para> </listitem> <listitem> <para>A compute node (<systemitem class=""service"">nova-compute</systemitem>)</para> </listitem> <listitem> <para>A storage area network (SAN) used by OpenStack Block Storage (<systemitem class=""service"">cinder-volumes</systemitem>)</para> </listitem> </itemizedlist> <para>The worst disaster for a cloud is power loss, which applies to all three components. Before a power loss:</para> <itemizedlist> <listitem> <para>Create an active iSCSI session from the SAN to the cloud controller (used for the <parameter>cinder-volumes</parameter> LVM's VG).</para> </listitem> <listitem> <para>Create an active iSCSI session from the cloud controller to the compute node (managed by <systemitem class=""service"">cinder-volume</systemitem>).</para> </listitem> <listitem> <para>Create an iSCSI session for every volume (so 14 EBS volumes requires 14 iSCSI sessions).</para> </listitem> <listitem> <para>Create iptables or ebtables rules from the cloud controller to the compute node. This allows access from the cloud controller to the running instance.</para> </listitem> <listitem> <para>Save the current state of the database, the current state of the running instances, and the attached volumes (mount point, volume ID, volume status, etc), at least from the cloud controller to the compute node.</para> </listitem> </itemizedlist> <para>After power is recovered and all hardware components have restarted:</para> <itemizedlist> <listitem> <para>The iSCSI session from the SAN to the cloud no longer exists.</para> </listitem> <listitem> <para>The iSCSI session from the cloud controller to the compute node no longer exists.</para> </listitem> <listitem> <para>The iptables and ebtables from the cloud controller to the compute node are recreated. This is because <systemitem>nova-network</systemitem> reapplies configurations on boot.</para> </listitem> <listitem> <para>Instances are no longer running.</para> <para>Note that instances won't be lost, because no <command>destroy</command> or <command>terminate</command> command was invoked. The files for the instances will remain on the compute node.</para> </listitem> <listitem> <para>The database has not been updated.</para> </listitem> </itemizedlist> <procedure> <title>Begin recovery</title> <warning> <para>Do not add any extra steps to this procedure, or perform the steps out of order.</para> </warning> <step> <para>Check the current relationship between the volume and its instance, so that you can recreate the attachment.</para> <para>This information can be found using the <command>nova volume-list</command>. Note that the <command>nova</command> client also includes the ability to get volume information from OpenStack Block Storage.</para> </step> <step> <para>Update the database to clean the stalled state. Do this for every volume, using these queries:</para> <screen><prompt>mysql></prompt> <userinput>use cinder;</userinput> <para>Use <command>nova volume-list</command> commands to list all volumes.</para> </step> <step> <para>Restart the instances using the <command>nova reboot <replaceable>INSTANCE</replaceable></command> command.</para> <important> <para>Some instances will completely reboot and become reachable, while some might stop at the <application>plymouth</application> stage. This is expected behavior, DO NOT reboot a second time.</para> <para>Instance state at this stage depends on whether you added an <filename>/etc/fstab</filename> entry for that volume. Images built with the <package>cloud-init</package> package remain in a <parameter>pending</parameter> state, while others skip the missing volume and start. This step is performed in order to ask Compute to reboot every instance, so that the stored state is preserved. It does not matter if not all instances come up successfully. For more information about <package>cloud-init</package>, see <link xlink:href=""https://help.ubuntu.com/community/CloudInit""> help.ubuntu.com/community/CloudInit</link>.</para> </important> </step> <step performance=""optional""> <para>Reattach the volumes to their respective instances, if required, using the <command>nova volume-attach</command> command. This example uses a file of listed volumes to reattach them:</para> <programlisting language=""bash"">#!/bin/bash <para>Instances that were stopped at the <application>plymouth</application> stage will now automatically continue booting and start normally. Instances that previously started successfully will now be able to see the volume.</para> </step> <step> <para>SSH into the instances and reboot them.</para> <para>If some services depend on the volume, or if a volume has an entry in <systemitem>fstab</systemitem>, you should now be able to restart the instance. Restart directly from the instance itself, not through <command>nova</command>:</para> <screen><prompt>#</prompt> <userinput>shutdown -r now</userinput></screen> </step> </procedure> <para>When you are planning for and performing a disaster recovery, follow these tips:</para> <itemizedlist> <listitem> <para>Use the <parameter>errors=remount</parameter> parameter in the <filename>fstab</filename> file to prevent data corruption.</para> <para>This parameter will cause the system to disable the ability to write to the disk if it detects an I/O error. This configuration option should be added into the <systemitem class=""service"">cinder-volume</systemitem> server (the one which performs the iSCSI connection to the SAN), and into the instances' <filename>fstab</filename> files.</para> </listitem> <listitem> <para>Do not add the entry for the SAN's disks to the <systemitem class=""service"">cinder-volume</systemitem>'s <filename>fstab</filename> file.</para> <para>Some systems hang on that step, which means you could lose access to your cloud-controller. To re-run the session manually, run this command before performing the mount: <screen><prompt>#</prompt> <userinput>iscsiadm -m discovery -t st -p $SAN_IP $ iscsiadm -m node --target-name $IQN -p $SAN_IP -l</userinput></screen></para> </listitem> <listitem> <para>On your instances, if you have the whole <filename>/home/</filename> directory on the disk, leave a user's directory with the user's bash files and the <filename>authorized_keys</filename> file (instead of emptying the <filename>/home</filename> directory and mapping the disk on it).</para> <para>This allows you to connect to the instance even without the volume attached, if you allow only connections through public keys.</para> </listitem> </itemizedlist> <para> If you want to script the disaster recovery plan (DRP), a bash script is available from <link xlink:href=""https://github.com/Razique/BashStuff/blob/master/SYSTEMS/OpenStack/SCR_5006_V00_NUAC-OPENSTACK-DRP-OpenStack.sh""> https://github.com/Razique</link> which performs the following steps:</para> <orderedlist> <listitem> <para>An array is created for instances and their attached volumes.</para> </listitem> <listitem> <para>The MySQL database is updated.</para> </listitem> <listitem> <para>All instances are restarted with <systemitem>euca2ools</systemitem>.</para> </listitem> <listitem> <para>The volumes are reattached.</para> </listitem> <listitem> <para>An SSH connection is performed into every instance using Compute credentials.</para> </listitem> </orderedlist> <para>The script includes a <command>test mode</command>, which allows you to perform that whole sequence for only one instance.</para> <para>To reproduce the power loss, connect to the compute node which runs that instance and close the iSCSI session. Do not detach the volume using the <command>nova volume-detach</command> command, manually close the iSCSI session. This example closes an iSCSI session with the number 15:</para> <screen><prompt>#</prompt> <userinput>iscsiadm -m session -u -r 15</userinput></screen> <para>Do not forget the <literal>-r</literal> flag. Otherwise, you will close all sessions.</para> </section>"," <para>If you deployed Compute with a shared file system, you can quickly recover from a failed compute node. Of the two methods covered in these sections, evacuating is the preferred method even in the absence of shared storage. Evacuating provides many benefits over manual recovery, such as re-attachment of volumes and floating IPs.</para> <para>To recover a KVM/libvirt compute node, see the previous section. Use the following procedure for all other hypervisors.</para> <title>Review host information</title> <step> <para>Identify the VMs on the affected hosts, using tools such as a combination of <literal>nova list</literal> and <literal>nova show</literal> or <literal>euca-describe-instances</literal>. For example, the following output displays information about instance <systemitem>i-000015b9</systemitem> that is running on node <systemitem>np-rcc54</systemitem>:</para> <screen><prompt>$</prompt> <userinput>euca-describe-instances</userinput> </step> <step> <para>Review the status of the host by querying the Compute database. Some of the important information is highlighted below. The following example converts an EC2 API instance ID into an OpenStack ID; if you used the <literal>nova</literal> commands, you can substitute the ID directly. You can find the credentials for your database in <filename>/etc/nova.conf</filename>.</para> <screen><prompt>mysql></prompt> <userinput>SELECT * FROM instances WHERE id = CONV('15b9', 16, 10) \G;</userinput> created_at: 2012-06-19 00:48:11 updated_at: 2012-07-03 00:35:11 deleted_at: NULL id: 5561 power_state: 5 vm_state: shutoff hostname: at3-ui02 host: np-rcc54 uuid: 3f57699a-e773-4650-a443-b4b37eed5a06 task_state: NULL </step> <procedure> <title>Recover the VM</title> <step> <para>After you have determined the status of the VM on the failed host, decide to which compute host the affected VM should be moved. For example, run the following database command to move the VM to <systemitem>np-rcc46</systemitem>:</para> <screen><prompt>mysql></prompt> <userinput>UPDATE instances SET host = 'np-rcc46' WHERE uuid = '3f57699a-e773-4650-a443-b4b37eed5a06';</userinput></screen> </step> <step> <para>If using a hypervisor that relies on libvirt (such as KVM), it is a good idea to update the <literal>libvirt.xml</literal> file (found in <literal>/var/lib/nova/instances/[instance ID]</literal>). The important changes to make are:</para> <itemizedlist> <listitem> <para>Change the <literal>DHCPSERVER</literal> value to the host IP address of the compute host that is now the VM's new home.</para> </listitem> <listitem> <para>Update the VNC IP, if it isn't already updated, to: <literal>0.0.0.0</literal>.</para> </listitem> </itemizedlist> </step> <step> <para>Reboot the VM:</para> <screen><prompt>$</prompt> <userinput>nova reboot --hard 3f57699a-e773-4650-a443-b4b37eed5a06</userinput></screen> </step> </procedure> <para>In theory, the above database update and <literal>nova reboot</literal> command are all that is required to recover a VM from a failed host. However, if further problems occur, consider looking at recreating the network filter configuration using <literal>virsh</literal>, restarting the Compute services or updating the <literal>vm_state</literal> and <literal>power_state</literal> in the Compute database.</para> <para>When running OpenStack Compute, using a shared file system or an automated configuration tool, you could encounter a situation where some files on your compute node are using the wrong UID or GID. This causes a number of errors, such as being unable to do live migration or start virtual machines.</para> <para>The following procedure runs on <systemitem class=""service"">nova-compute</systemitem> hosts, based on the KVM hypervisor, and could help to restore the situation:</para> <title>To recover from a UID/GID mismatch</title> <step> <para>Ensure you do not use numbers that are already used for some other user/group.</para> </step> <step> <para>Set the nova uid in <filename>/etc/passwd</filename> to the same number in all hosts (for example, 112).</para> </step> <step> <para>Set the libvirt-qemu uid in <filename>/etc/passwd</filename> to the same number in all hosts (for example, 119).</para> </step> <step> <para>Set the nova group in <filename>/etc/group</filename> file to the same number in all hosts (for example, 120).</para> </step> <step> <para>Set the libvirtd group in <filename>/etc/group</filename> file to the same number in all hosts (for example, 119).</para> </step> <step> <para>Stop the services on the compute node.</para> </step> <step> <para>Change all the files owned by user <systemitem>nova</systemitem> or by group <systemitem>nova</systemitem>. For example:</para> <screen><prompt>#</prompt> <userinput>find / -uid 108 -exec chown nova {} \; </userinput># note the 108 here is the old nova uid before the change </step> <step> <para>Repeat the steps for the libvirt-qemu owned files if those needed to change.</para> </step> <step> <para>Restart the services.</para> </step> <step> <para>Now you can run the <command>find</command> command to verify that all files using the correct identifiers.</para> </step> <title>Recover cloud after disaster</title> <para>Use the following procedures to manage your cloud after a disaster, and to easily back up its persistent storage volumes. Backups <emphasis role=""bold"">are</emphasis> mandatory, even outside of disaster scenarios.</para> <para>For a DRP definition, see <link xlink:href=""http://en.wikipedia.org/wiki/Disaster_Recovery_Plan"" >http://en.wikipedia.org/wiki/Disaster_Recovery_Plan</link>.</para> <simplesect> <title>Disaster recovery example</title> <para>A disaster could happen to several components of your architecture (for example, a disk crash, a network loss, or a power cut). In this example, the following components are configured:</para> <orderedlist> <listitem> <para>A cloud controller (<systemitem>nova-api</systemitem>, <systemitem>nova-objectstore</systemitem>, <systemitem>nova-network</systemitem>)</para> </listitem> <listitem> <para>A compute node (<systemitem class=""service"" >nova-compute</systemitem>)</para> </listitem> <listitem> <para>A Storage Area Network (SAN) used by OpenStack Block Storage (<systemitem class=""service"">cinder-volumes</systemitem>)</para> </listitem> </orderedlist> <para>The worst disaster for a cloud is a power loss, which applies to all three components. Before a power loss:</para> <itemizedlist> <listitem> <para>From the SAN to the cloud controller, we have an active iSCSI session (used for the ""cinder-volumes"" LVM's VG).</para> </listitem> <listitem> <para>From the cloud controller to the compute node, we also have active iSCSI sessions (managed by <systemitem class=""service"" >cinder-volume</systemitem>).</para> </listitem> <listitem> <para>For every volume, an iSCSI session is made (so 14 ebs volumes equals 14 sessions).</para> </listitem> <listitem> <para>From the cloud controller to the compute node, we also have iptables/ ebtables rules, which allow access from the cloud controller to the running instance.</para> </listitem> <listitem> <para>And at least, from the cloud controller to the compute node; saved into database, the current state of the instances (in that case ""running"" ), and their volumes attachment (mount point, volume ID, volume status, and so on.)</para> </listitem> </itemizedlist> <para>After the power loss occurs and all hardware components restart:</para> <itemizedlist> <listitem> <para>From the SAN to the cloud, the iSCSI session no longer exists.</para> </listitem> <listitem> <para>From the cloud controller to the compute node, the iSCSI sessions no longer exist.</para> </listitem> <listitem> <para>From the cloud controller to the compute node, the iptables and ebtables are recreated, since at boot, <systemitem>nova-network</systemitem> reapplies configurations.</para> </listitem> <listitem> <para>From the cloud controller, instances are in a shutdown state (because they are no longer running).</para> </listitem> <listitem> <para>In the database, data was not updated at all, since Compute could not have anticipated the crash.</para> </listitem> </itemizedlist> <para>Before going further, and to prevent the administrator from making fatal mistakes,<emphasis role=""bold""> instances won't be lost</emphasis>, because no ""<command>destroy</command>"" or ""<command>terminate</command>"" command was invoked, so the files for the instances remain on the compute node.</para> <para>Perform these tasks in the following order.</para> <warning> <para>Do not add any extra steps at this stage.</para> </warning> <orderedlist> <listitem> <para>Get the current relation from a volume to its instance, so that you can recreate the attachment.</para> </listitem> <listitem> <para>Update the database to clean the stalled state. (After that, you cannot perform the first step).</para> </listitem> <listitem> <para>Restart the instances. In other words, go from a shutdown to running state.</para> </listitem> <listitem> <para>After the restart, reattach the volumes to their respective instances (optional).</para> </listitem> <listitem> <para>SSH into the instances to reboot them.</para> </listitem> </orderedlist> </simplesect> <simplesect> <title>Recover after a disaster</title> <procedure> <title>To perform disaster recovery</title> <step> <title>Get the instance-to-volume relationship</title> <para>You must determine the current relationship from a volume to its instance, because you will re-create the attachment.</para> <para>You can find this relationship by running <command>nova volume-list</command>. Note that the <command>nova</command> client includes the ability to get volume information from OpenStack Block Storage.</para> </step> <step> <title>Update the database</title> <para>Update the database to clean the stalled state. You must restore for every volume, using these queries to clean up the database:</para> <screen><prompt>mysql></prompt> <userinput>use cinder;</userinput> <para>You can then run <command>nova volume-list</command> commands to list all volumes.</para> </step> <step> <title>Restart instances</title> <para>Restart the instances using the <command>nova reboot <replaceable>INSTANCE</replaceable></command> command.</para> <para>At this stage, depending on your image, some instances completely reboot and become reachable, while others stop on the ""plymouth"" stage.</para> </step> <step> <title>DO NOT reboot a second time</title> <para>Do not reboot instances that are stopped at this point. Instance state depends on whether you added an <filename>/etc/fstab</filename> entry for that volume. Images built with the <package>cloud-init</package> package remain in a pending state, while others skip the missing volume and start. The idea of that stage is only to ask Compute to reboot every instance, so the stored state is preserved. For more information about <package>cloud-init</package>, see <link xlink:href=""https://help.ubuntu.com/community/CloudInit"" >help.ubuntu.com/community/CloudInit</link>.</para> </step> <step> <title>Reattach volumes</title> <para>After the restart, and Compute has restored the right status, you can reattach the volumes to their respective instances using the <command>nova volume-attach</command> command. The following snippet uses a file of listed volumes to reattach them:</para> <programlisting language=""bash"">#!/bin/bash <para>At this stage, instances that were pending on the boot sequence (<application>plymouth</application>) automatically continue their boot, and restart normally, while the ones that booted see the volume.</para> </step> <step> <title>SSH into instances</title> <para>If some services depend on the volume, or if a volume has an entry into <systemitem>fstab</systemitem>, you should now simply restart the instance. This restart needs to be made from the instance itself, not through <command>nova</command>.</para> <para>SSH into the instance and perform a reboot:</para> <screen><prompt>#</prompt> <userinput>shutdown -r now</userinput></screen> </step> </procedure> <para>By completing this procedure, you can successfully recover your cloud.</para> <note> <para>Follow these guidelines:</para> <itemizedlist> <listitem> <para>Use the <parameter> errors=remount</parameter> parameter in the <filename>fstab</filename> file, which prevents data corruption.</para> <para>The system locks any write to the disk if it detects an I/O error. This configuration option should be added into the <systemitem class=""service"">cinder-volume</systemitem> server (the one which performs the iSCSI connection to the SAN), but also into the instances' <filename>fstab</filename> file.</para> </listitem> <listitem> <para>Do not add the entry for the SAN's disks to the <systemitem class=""service"">cinder-volume</systemitem>'s <filename>fstab</filename> file.</para> <para>Some systems hang on that step, which means you could lose access to your cloud-controller. To re-run the session manually, run the following command before performing the mount: <screen><prompt>#</prompt> <userinput>iscsiadm -m discovery -t st -p $SAN_IP $ iscsiadm -m node --target-name $IQN -p $SAN_IP -l</userinput></screen></para> </listitem> <listitem> <para>For your instances, if you have the whole <filename>/home/</filename> directory on the disk, leave a user's directory with the user's bash files and the <filename>authorized_keys</filename> file (instead of emptying the <filename>/home</filename> directory and mapping the disk on it).</para> <para>This enables you to connect to the instance, even without the volume attached, if you allow only connections through public keys.</para> </listitem> </itemizedlist> </note> </simplesect> <simplesect> <title>Script the DRP</title> <para>You can download from <link xlink:href=""https://github.com/Razique/BashStuff/blob/master/SYSTEMS/OpenStack/SCR_5006_V00_NUAC-OPENSTACK-DRP-OpenStack.sh"" >here</link> a bash script which performs the following steps:</para> <orderedlist> <listitem> <para>An array is created for instances and their attached volumes.</para> </listitem> <listitem> <para>The MySQL database is updated.</para> </listitem> <listitem> <para>Using <systemitem>euca2ools</systemitem>, all instances are restarted.</para> </listitem> <listitem> <para>The volume attachment is made.</para> </listitem> <listitem> <para>An SSH connection is performed into every instance using Compute credentials.</para> </listitem> </orderedlist> <para>The ""test mode"" allows you to perform that whole sequence for only one instance.</para> <para>To reproduce the power loss, connect to the compute node which runs that same instance and close the iSCSI session. Do not detach the volume using the <command>nova volume-detach</command> command; instead, manually close the iSCSI session. For the following example command uses an iSCSI session with the number 15:</para> <screen><prompt>#</prompt> <userinput>iscsiadm -m session -u -r 15</userinput></screen> <para>Do not forget the <literal>-r</literal> flag. Otherwise, you close ALL sessions.</para> </simplesect> </section>",336,356
openstack%2Fopenstack-manuals~master~I07c021b653787dd95ffeba70e67f9b66f6eb242c,openstack/openstack-manuals,master,I07c021b653787dd95ffeba70e67f9b66f6eb242c,General updates to Compute for style and convention,MERGED,2015-01-30 06:14:18.000000000,2015-02-03 15:21:32.000000000,2015-02-03 15:21:30.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 6547}, {'_account_id': 9162}, {'_account_id': 9382}]","[{'number': 1, 'created': '2015-01-30 06:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/3ee018845d8819829e37b75e6e3eb1aed547c18e', 'message': 'General updates to Compute for style and convention\n\n    Editing the nested sections for the compute chapter. Mostly grammar,\n    wording, style, convention, etc. This patch includes service groups,\n    image management, building blocks, management tools, and nova networking.\n    Watch this space for more.\n\n    Partial-Bug: #1251195\n\nChange-Id: I07c021b653787dd95ffeba70e67f9b66f6eb242c\n'}, {'number': 2, 'created': '2015-02-02 01:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/4c6a241bf3402fcd40c6a71c7453016a93693138', 'message': 'General updates to Compute for style and convention\n\n    Editing the nested sections for the compute chapter. Mostly grammar,\n    wording, style, convention, etc. This patch includes service groups,\n    image management, building blocks, management tools, and nova networking.\n    Watch this space for more.\n\n    Partial-Bug: #1251195\n\nChange-Id: I07c021b653787dd95ffeba70e67f9b66f6eb242c\n'}, {'number': 3, 'created': '2015-02-03 01:55:19.000000000', 'files': ['doc/admin-guide-cloud/compute/section_compute-instance-mgt-tools.xml', 'doc/admin-guide-cloud/compute/section_compute-images-instances.xml', 'doc/admin-guide-cloud/compute/section_compute-image-mgt.xml', 'doc/admin-guide-cloud/compute/section_compute-instance-building-blocks.xml', 'doc/admin-guide-cloud/compute/section_compute-configure-service-groups.xml', 'doc/admin-guide-cloud/compute/section_compute-networking-nova.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/e84da9e7b6011bf600674b385fdf669ee52aa087', 'message': 'General updates to Compute for style and convention\n\n    Editing the nested sections for the compute chapter. Mostly grammar,\n    wording, style, convention, etc. This patch includes service groups,\n    image management, building blocks, management tools, and nova networking.\n    Watch this space for more.\n\n    Partial-Bug: #1251195\n\nChange-Id: I07c021b653787dd95ffeba70e67f9b66f6eb242c\n'}]",10,151543,e84da9e7b6011bf600674b385fdf669ee52aa087,13,5,3,9162,,,0,"General updates to Compute for style and convention

    Editing the nested sections for the compute chapter. Mostly grammar,
    wording, style, convention, etc. This patch includes service groups,
    image management, building blocks, management tools, and nova networking.
    Watch this space for more.

    Partial-Bug: #1251195

Change-Id: I07c021b653787dd95ffeba70e67f9b66f6eb242c
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/43/151543/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/admin-guide-cloud/compute/section_compute-instance-mgt-tools.xml', 'doc/admin-guide-cloud/compute/section_compute-images-instances.xml', 'doc/admin-guide-cloud/compute/section_compute-image-mgt.xml', 'doc/admin-guide-cloud/compute/section_compute-instance-building-blocks.xml', 'doc/admin-guide-cloud/compute/section_compute-configure-service-groups.xml', 'doc/admin-guide-cloud/compute/section_compute-networking-nova.xml']",6,3ee018845d8819829e37b75e6e3eb1aed547c18e,morebug1251195/loquacity," <para>Understanding the networking configuration options helps you design the best configuration for your Compute instances.</para> <para>You can choose to either install and configure <systemitem class=""service"">nova-network</systemitem> or use the OpenStack Networking service (neutron). This section contains a brief overview of <systemitem class=""service"">nova-network</systemitem>. For more information about OpenStack Networking, see <xref linkend=""ch_networking""/>.</para> <para>Compute assigns a private IP address to each VM instance. Compute makes a distinction between fixed IPs and <glossterm baseform=""floating IP address"">floating IP</glossterm>. Fixed IPs are IP addresses that are assigned to an instance on creation and stay the same until the instance is explicitly terminated. Floating IPs are addresses that can be dynamically associated with an instance. A floating IP address can be disassociated and associated with another instance at any time. A user can reserve a floating IP for their project.</para> <para>Currently, Compute with <systemitem class=""service"">nova-network</systemitem> only supports Linux bridge networking that allows virtual interfaces to connect to the outside network through the physical interface.</para> <para>The network controller with <systemitem class=""service"">nova-network</systemitem> provides virtual networks to enable compute servers to interact with each other and with the public network. Compute with <systemitem class=""service"">nova-network</systemitem> supports the following network modes, which are implemented as Network Manager types:</para> <variablelist> <varlistentry> <term>Flat Network Manager</term> <para>In this mode, a network administrator specifies a subnet. IP addresses for VM instances are assigned from the subnet, and then injected into the image on launch. Each instance receives a fixed IP address from the pool of available addresses. A system administrator must create the Linux networking bridge (typically named <literal>br100</literal>, although this is configurable) on the systems running the <systemitem class=""service"">nova-network</systemitem> service. All instances of the system are attached to the same bridge, which is configured manually by the network administrator.</para> <note> <para>Configuration injection currently only works on Linux-style systems that keep networking configuration in <filename>/etc/network/interfaces</filename>.</para> </note> </varlistentry> <varlistentry> <term>Flat DHCP Network Manager</term> <para>In this mode, OpenStack starts a DHCP server (<systemitem>dnsmasq</systemitem>) to allocate IP addresses to VM instances from the specified subnet, in addition to manually configuring the networking bridge. IP addresses for VM instances are assigned from a subnet specified by the network administrator.</para> <para>Like flat mode, all instances are attached to a single bridge on the compute node. Additionally, a DHCP server configures instances depending on single-/multi-host mode, alongside each <systemitem class=""service"">nova-network</systemitem>. In this mode, Compute does a bit more configuration. It attempts to bridge into an Ethernet device (<literal>flat_interface</literal>, eth0 by default). For every instance, Compute allocates a fixed IP address and configures <systemitem>dnsmasq</systemitem> with the MAC ID and IP address for the VM. <systemitem>dnsmasq</systemitem> does not take part in the IP address allocation process, it only hands out IPs according to the mapping done by Compute. Instances receive their fixed IPs with the <command>dhcpdiscover</command> command. These IPs are not assigned to any of the host's network interfaces, only to the guest-side interface for the VM.</para> <para>In any setup with flat networking, the hosts providing the <systemitem class=""service"">nova-network</systemitem> service are responsible for forwarding traffic from the private network. They also run and configure <systemitem>dnsmasq</systemitem> as a DHCP server listening on this bridge, usually on IP address 10.0.0.1 (see <link linkend=""section_dnsmasq"">DHCP server: dnsmasq </link>). Compute can determine the NAT entries for each network, although sometimes NAT is not used, such as when the network has been configured with all public IPs, or if a hardware router is used (which is a high availability option). In this case, hosts need to have <literal>br100</literal> configured and physically connected to any other nodes that are hosting VMs. You must set the <literal>flat_network_bridge</literal> option or create networks with the bridge parameter in order to avoid raising an error. Compute nodes have iptables or ebtables entries created for each project and instance to protect against MAC ID or IP address spoofing and ARP poisoning.</para> <note> <para>In single-host Flat DHCP mode you will be able to ping VMs through their fixed IP from the <systemitem>nova-network</systemitem> node, but you cannot ping them from the compute nodes. This is expected behavior.</para> </note> </varlistentry> <varlistentry> <term>VLAN Network Manager</term> <listitem> <para>This is the default mode for OpenStack Compute. In this mode, Compute creates a VLAN and bridge for each tenant. For multiple-machine installations, the VLAN Network Mode requires a switch that supports VLAN tagging (IEEE 802.1Q). The tenant gets a range of private IPs that are only accessible from inside the VLAN. In order for a user to access the instances in their tenant, a special VPN instance (code named <systemitem>cloudpipe</systemitem>) needs to be created. Compute generates a certificate and key for the user to access the VPN and starts the VPN automatically. It provides a private network segment for each tenant's instances that can be accessed through a dedicated VPN connection from the internet. In this mode, each tenant gets its own VLAN, Linux networking bridge, and subnet.</para> <para>The subnets are specified by the network administrator, and are assigned dynamically to a tenant when required. A DHCP server is started for each VLAN to pass out IP addresses to VM instances from the subnet assigned to the tenant. All instances belonging to one tenant are bridged into the same VLAN for that tenant. OpenStack Compute creates the Linux networking bridges and VLANs when required.</para> </listitem> </varlistentry> </variablelist> <para>These network managers can co-exist in a cloud system. However, because you cannot select the type of network for a given tenant, you cannot configure multiple network types in a single Compute installation.</para> <para>All network managers configure the network using network drivers. For example, the Linux L3 driver (<literal>l3.py</literal> and <literal>linux_net.py</literal>), which makes use of <literal>iptables</literal>, <literal>route</literal> and other network management facilities, and the libvirt <link xlink:href=""http://libvirt.org/formatnwfilter.html"">network filtering facilities</link>. The driver is not tied to any particular network manager; all network managers use the same driver. The driver usually initializes only when the first VM lands on this host node.</para> <para>All network managers operate in either single-host or multi-host mode. This choice greatly influences the network configuration. In single-host mode, a single <systemitem class=""service"">nova-network</systemitem> service provides a default gateway for VMs and hosts a single DHCP server (<systemitem>dnsmasq</systemitem>). In multi-host mode, each compute node runs its own <systemitem class=""service"">nova-network</systemitem> service. In both cases, all traffic between VMs and the internet flows through <systemitem class=""service"">nova-network</systemitem>. Each mode has benefits and drawbacks. For more on this, see the <citetitle>Network Topology</citetitle> section in the <link xlink:href=""http://docs.openstack.org/openstack-ops/content/""> <citetitle>OpenStack Operations Guide</citetitle></link>.</para> <para>All networking options require network connectivity to be already set up between OpenStack physical nodes. OpenStack does not configure any physical network interfaces. All network managers automatically create VM virtual interfaces. Some network managers can also create network bridges such as <literal>br100</literal>.</para> <para>The internal network interface is used for communication with VMs. The interface should not have an IP address attached to it before OpenStack installation, it serves only as a fabric where the actual endpoints are VMs and dnsmasq. Additionally, the internal network interface must be in <literal>promiscuous</literal> mode, so that it can receive packets whose target MAC address is the guest VM, not the host.</para> <para>All machines must have a public and internal network interface (controlled by these options: <literal>public_interface</literal> for the public interface, and <literal>flat_interface</literal> and <literal>vlan_interface</literal> for the internal interface with flat or VLAN managers). This guide refers to the public network as the external network and the private network as the internal or tenant network.</para> <para>For flat and flat DHCP modes, use the <command>nova network-create</command> command to create a network:</para> <screen><prompt>$</prompt> <userinput>nova network-create vmnet \ --fixed-range-v4 10.0.0.0/16 --fixed-cidr 10.0.20.0/24 --bridge br100</userinput></screen> <para>This example uses the following parameters:</para> <itemizedlist> <listitem> <para><parameter>--fixed-range-v4-</parameter> specifies the network subnet.</para> </listitem> <listitem> <para><parameter>--fixed-cidr</parameter> specifies a range of fixed IP addresses to allocate, and can be a subset of the <parameter>--fixed-range-v4</parameter> argument.</para> </listitem> <listitem> <para><parameter>--bridge</parameter> specifies the bridge device to which this network is connected on every compute node.</para> </listitem> </itemizedlist> </section> <para>The Compute service uses <link xlink:href=""http://www.thekelleys.org.uk/dnsmasq/doc.html""> dnsmasq</link> as the DHCP server when using either Flat DHCP Network Manager or VLAN Network Manager. For Compute to operate in IPv4/IPv6 dual-stack mode, use at least <systemitem>dnsmasq</systemitem> v2.63. The <systemitem class=""service"">nova-network</systemitem> service is responsible for starting <systemitem>dnsmasq</systemitem> processes.</para> <para>The behavior of <systemitem>dnsmasq</systemitem> can be customized by creating a <systemitem>dnsmasq</systemitem> configuration file. Specify the configuration file using the <literal>dnsmasq_config_file</literal> configuration option:</para> <programlisting language=""ini"">dnsmasq_config_file=/etc/dnsmasq-nova.conf</programlisting> <para>For more information about creating a <systemitem>dnsmasq</systemitem> configuration file, see the <link xlink:href=""http://docs.openstack.org/juno/config-reference/content/""> <citetitle>OpenStack Configuration Reference</citetitle></link>, and <link xlink:href=""http://www.thekelleys.org.uk/dnsmasq/docs/dnsmasq.conf.example""> the dnsmasq documentation</link>.</para> <para><systemitem>dnsmasq</systemitem> also acts as a caching DNS server for instances. You can specify the DNS server that <systemitem>dnsmasq</systemitem> uses by setting the <literal>dns_server</literal> configuration option in <filename>/etc/nova/nova.conf</filename>. This example configures <systemitem>dnsmasq</systemitem> to use Google's public DNS server:</para> <programlisting language=""ini"">dns_server=8.8.8.8</programlisting> <para><systemitem>dnsmasq</systemitem> logs to <systemitem>syslog</systemitem> (typically <filename>/var/log/syslog</filename> or <filename>/var/log/messages</filename>, depending on Linux distribution). Logs can be useful for troubleshooting, especially in a situation where VM instances boot successfully but are not reachable over the network.</para> <para>Administrators can specify the starting point IP address to reserve with the DHCP server (in the format <replaceable>n</replaceable>.<replaceable>n</replaceable>.<replaceable>n</replaceable>.<replaceable>n</replaceable>) with this command:</para> <screen><prompt>$</prompt><userinput>nova-manage fixed reserve --address <replaceable>IP_ADDRESS</replaceable></userinput></screen> <para>This reservation only affects which IP address the VMs start at, not the fixed IP addresses that <systemitem class=""service"">nova-network</systemitem> places on the bridges.</para> <title>Metadata service</title> <para>Compute uses a metadata service for virtual machine instances to retrieve instance-specific data. Instances access the metadata service at <literal>http://169.254.169.254</literal>. The metadata service supports two sets of APIs: an OpenStack metadata API and an EC2-compatible API. Both APIs are versioned by date.</para> <para>To retrieve a list of supported versions for the OpenStack metadata API, make a GET request to <literal>http://169.254.169.254/openstack</literal>:</para> <screen><prompt>$</prompt> <userinput>curl http://169.254.169.254/openstack</userinput> <para>To list supported versions for the EC2-compatible metadata API, make a GET request to <literal>http://169.254.169.254</literal>:</para> <screen><prompt>$</prompt> <userinput>curl http://169.254.169.254</userinput> <para>If you write a consumer for one of these APIs, always attempt to access the most recent API version supported by your consumer first, then fall back to an earlier version if the most recent one is not available.</para> <para>Metadata from the OpenStack API is distributed in JSON format. To retrieve the metadata, make a GET request to <literal>http://169.254.169.254/openstack/2012-08-10/meta_data.json</literal>:</para> <screen><prompt>$</prompt> <userinput>curl http://169.254.169.254/openstack/2012-08-10/meta_data.json</userinput></screen> <programlisting language=""json""><xi:include href=""../../common/samples/list_metadata.json"" parse=""text""/></programlisting> <para>Instances also retrieve user data (passed as the <literal>user_data</literal> parameter in the API call or by the <literal>--user_data</literal> flag in the <command>nova boot</command> command) through the metadata service, by making a GET request to <literal>http://169.254.169.254/openstack/2012-08-10/user_data</literal>:</para> <screen><prompt>$</prompt> <userinput>curl http://169.254.169.254/openstack/2012-08-10/user_data</userinput> <computeroutput>#!/bin/bash <para>The metadata service has an API that is compatible with version 2009-04-04 of the <link xlink:href=""http://docs.amazonwebservices.com/AWSEC2/2009-04-04/UserGuide/AESDG-chapter-instancedata.html""> Amazon EC2 metadata service</link>. This means that virtual machine images designed for EC2 will work properly with OpenStack.</para> <para>The EC2 API exposes a separate URL for each metadata element. Retrieve a listing of these elements by making a GET query to <literal>http://169.254.169.254/2009-04-04/meta-data/</literal>:</para> <screen><prompt>$</prompt> <userinput>curl http://169.254.169.254/2009-04-04/meta-data/</userinput> <screen><prompt>$</prompt> <userinput>curl http://169.254.169.254/2009-04-04/meta-data/block-device-mapping/</userinput> <screen><prompt>$</prompt> <userinput>curl http://169.254.169.254/2009-04-04/meta-data/placement/</userinput> <screen><prompt>$</prompt> <userinput>curl http://169.254.169.254/2009-04-04/meta-data/public-keys/</userinput> <para>Instances can retrieve the public SSH key (identified by keypair name when a user requests a new instance) by making a GET request to <literal>http://169.254.169.254/2009-04-04/meta-data/public-keys/0/openssh-key</literal>:</para> <screen><prompt>$</prompt> <userinput>curl http://169.254.169.254/2009-04-04/meta-data/public-keys/0/openssh-key</userinput> <para>Instances can retrieve user data by making a GET request to <literal>http://169.254.169.254/2009-04-04/user-data</literal>:</para> <screen><prompt>$</prompt> <userinput>curl http://169.254.169.254/2009-04-04/user-data</userinput> <para>The metadata service is implemented by either the <systemitem class=""service"">nova-api</systemitem> service or the <systemitem class=""service"">nova-api-metadata</systemitem> service. Note that the <systemitem class=""service"">nova-api-metadata</systemitem> service is generally only used when running in multi-host mode, as it retrieves instance-specific metadata. If you are running the <systemitem class=""service"">nova-api</systemitem> service, you must have <literal>metadata</literal> as one of the elements listed in the <literal>enabled_apis</literal> configuration option in <filename>/etc/nova/nova.conf</filename>. The default <literal>enabled_apis</literal> configuration setting includes the metadata service, so you should not need to modify it.</para> <para>Hosts access the service at <literal>169.254.169.254:80</literal>, and this is translated to <literal>metadata_host:metadata_port</literal> by an iptables rule established by the <systemitem class=""service"">nova-network</systemitem> service. In multi-host mode, you can set <option>metadata_host</option> to <literal>127.0.0.1</literal>.</para> <para>For instances to reach the metadata service, the <systemitem class=""service"">nova-network</systemitem> service must configure iptables to NAT port <literal>80</literal> of the <literal>169.254.169.254</literal> address to the IP address specified in <option>metadata_host</option> (this defaults to <literal>$my_ip</literal>, which is the IP address of the <systemitem class=""service"">nova-network</systemitem> service) and port specified in <option>metadata_port</option> (which defaults to <literal>8775</literal>) in <filename>/etc/nova/nova.conf</filename>.</para> <note> <para>The <literal>metadata_host</literal> configuration option must be an IP address, not a host name. </para> </note> <para>The default Compute service settings assume that <systemitem class=""service"">nova-network</systemitem> and <systemitem class=""service"">nova-api</systemitem> are running on the same host. If this is not the case, in the <filename>/etc/nova/nova.conf</filename> file on the host running <systemitem class=""service"">nova-network</systemitem>, set the <literal>metadata_host</literal> configuration option to the IP address of the host where <systemitem class=""service"">nova-api</systemitem> is running.</para> <xi:include href=""../../common/tables/nova-metadata.xml""/> <title>Enable ping and SSH on VMs</title> <para>You need to enable <command>ping</command> and <command>ssh</command> on your VMs for network access. This can be done with either the <command>nova</command> or <command>euca2ools</command> commands.</para> <note> <para>Run these commands as root only if the credentials used to interact with <systemitem class=""service"">nova-api</systemitem> are in <filename>/root/.bashrc</filename>. If the EC2 credentials in the <filename>.bashrc</filename> file are for an unprivileged user, you must run these commands as that user instead.</para> </note> <para>Enable ping and SSH with <command>nova</command> commands:</para> <screen><prompt>$</prompt> <userinput>nova secgroup-add-rule default icmp -1 -1 0.0.0.0/0</userinput> <para>Enable ping and SSH with <command>euca2ools</command>:</para> <screen><prompt>$</prompt> <userinput>euca-authorize -P icmp -t -1:-1 -s 0.0.0.0/0 default</userinput> <para>If you have run these commands and still cannot ping or SSH your instances, check the number of running <literal>dnsmasq</literal> processes, there should be two. If not, kill the processes and restart the service with these commands: command:</para> <screen><prompt>#</prompt> <userinput>killall dnsmasq</userinput> <prompt>#</prompt> <userinput>service nova-network restart</userinput></screen> <para>This section describes how to configure floating IP addresses with <systemitem class=""service"">nova-network</systemitem>. For information about doing this with OpenStack Networking, see <xref linkend=""section_l3_router_and_nat""/>.</para> <section xml:id=""private-and-public-IP-addresses""> <title>Private and public IP addresses</title> <para>In this section, the term <glossterm baseform=""floating IP address"">floating IP address</glossterm> is used to refer to an IP address, usually public, that you can dynamically add to a running virtual instance.</para> <para>Every virtual instance is automatically assigned a private IP address. You can choose to assign a public (or floating) IP address instead. OpenStack Compute uses network address translation (NAT) to assign floating IPs to virtual instances.</para> <para>To be able to assign a floating IP address, edit the <filename>/etc/nova/nova.conf</filename> file to specify which interface the <systemitem class=""service"">nova-network</systemitem> service should bind public IP addresses to:</para> <programlisting language=""ini"">public_interface=<replaceable>VLAN100</replaceable></programlisting> <para>If you make changes to the <filename>/etc/nova/nova.conf</filename> file while the <systemitem class=""service"">nova-network</systemitem> service is running, you will need to restart the service to pick up the changes.</para> <note> <title>Traffic between VMs using floating IPs</title> <para>Floating IPs are implemented by using a source NAT (SNAT rule in iptables), so security groups can sometimes display inconsistent behavior if VMs use their floating IP to communicate with other VMs, particularly on the same physical host. Traffic from VM to VM across the fixed network does not have this issue, and so this is the recommended setup. To ensure that traffic does not get SNATed to the floating range, explicitly set:</para> <programlisting language=""ini"">dmz_cidr=x.x.x.x/y</programlisting> <para>The <literal>x.x.x.x/y</literal> value specifies the range of floating IPs for each pool of floating IPs that you define. This configuration is also required if the VMs in the source group have floating IPs.</para> </note> <title>Enable IP forwarding</title> <para>IP forwarding is disabled by default on most Linux distributions. You will need to enable it in order to use floating IPs.</para> <note> <para>IP forwarding only needs to be enabled on the nodes that run <systemitem class=""service"">nova-network</systemitem>. However, you will need to enable it on all compute nodes if you use <literal>multi_host</literal> mode.</para> </note> <para>To check if IP forwarding is enabled, run:</para> <screen><prompt>$</prompt> <userinput>cat /proc/sys/net/ipv4/ip_forward</userinput> <para>Alternatively, run:</para> <screen><prompt>$</prompt> <userinput>sysctl net.ipv4.ip_forward</userinput> <para>In these examples, IP forwarding is disabled.</para> <para>To enable IP forwarding dynamically, run:</para> <screen><prompt>#</prompt> <userinput>sysctl -w net.ipv4.ip_forward=1</userinput></screen> <para>Alternatively, run:</para> <screen><prompt>#</prompt> <userinput>echo 1 > /proc/sys/net/ipv4/ip_forward</userinput></screen> <para>To make the changes permanent, edit the <filename>/etc/sysctl.conf</filename> file and update the IP forwarding setting:</para> <programlisting language=""ini"">net.ipv4.ip_forward = 1</programlisting> <para>Save the file and run this command to apply the changes:</para> <screen><prompt>#</prompt> <userinput>sysctl -p</userinput></screen> <para>You can also apply the changes by restarting the network service:</para> <itemizedlist> <listitem> <para>On Ubuntu:</para> <screen><userinput><prompt>#</prompt>/etc/init.d/procps.sh restart</userinput></screen> </listitem> <listitem> <para>On RHEL/Fedora/CentOS:</para> <screen><prompt>#</prompt> <userinput>service network restart</userinput></screen> </listitem> </itemizedlist> <title>Create a list of available floating IP addresses</title> <para>Compute maintains a list of floating IP addresses that are available for assigning to instances. Use the <command>nova-manage floating create</command> command to add entries to the list:</para> <screen><prompt>#</prompt> <userinput>nova-manage floating create --pool nova --ip_range 68.99.26.170/31</userinput></screen> <para>Use these <command>nova-manage</command> commands to perform floating IP operations:</para> <itemizedlist> <listitem> <screen><prompt>#</prompt> <userinput>nova-manage floating list</userinput></screen> <para>Lists the floating IP addresses in the pool.</para> </listitem> <listitem> <screen><prompt>#</prompt> <userinput>nova-manage floating create --pool <replaceable>POOL_NAME</replaceable> --ip_range <replaceable>CIDR</replaceable></userinput></screen> <para>Creates specific floating IPs for either a single address or a subnet.</para> </listitem> <listitem> <screen><prompt>#</prompt> <userinput>nova-manage floating delete <replaceable>CIDR</replaceable></userinput></screen> <para>Removes floating IP addresses using the same parameters as the create command.</para> </listitem> </itemizedlist> <para>For more information about how administrators can associate floating IPs with instances, see <link xlink:href=""http://docs.openstack.org/user-guide-admin/content/manage_ip_addresses.html""> Manage IP addresses</link> in the <citetitle>OpenStack Admin User Guide</citetitle>.</para> <title>Automatically add floating IPs</title> <para>You can configure <systemitem class=""service"">nova-network</systemitem> to automatically allocate and assign a floating IP address to virtual instances when they are launched. Add this line to the <filename>/etc/nova/nova.conf</filename> file:</para> <programlisting language=""ini"">auto_assign_floating_ip=True</programlisting> <para>Save the file, and restart <systemitem class=""service"">nova-network</systemitem></para> <note> <para>If this option is enabled, but all floating IP addresses have already been allocated, the <command>nova boot</command> command will fail.</para> </note> <title>Remove a network from a project</title> <para>You cannot delete a network that has been associated to a project. This section describes the procedure for dissociating it so that it can be deleted.</para> <para>In order to disassociate the network, you will need the ID of the project it has been associated to. To get the project ID, you will need to be an administrator.</para> <para> Disassociate the network from the project using the <command>scrub</command> command, with the project ID as the final parameter:</para> <screen><prompt>#</prompt> <userinput>nova-manage project scrub --project <replaceable>ID</replaceable></userinput></screen> <title>Multiple interfaces for instances (multinic)</title> <para>The multinic feature allows you to use more than one interface with your instances. This is useful in several scenarios:</para> <itemizedlist> <listitem> <para>SSL Configurations (VIPs)</para> </listitem> <listitem> <para>Services failover/HA</para> </listitem> <listitem> <para>Bandwidth Allocation</para> </listitem> <listitem> <para>Administrative/Public access to your instances</para> </listitem> </itemizedlist> <para>Each VIP represents a separate network with its own IP block. Every network mode has its own set of changes regarding multinic usage:</para> <figure> <title>multinic flat manager</title> <mediaobject> <imageobject> <imagedata scale=""40"" fileref=""../../common/figures/SCH_5007_V00_NUAC-multi_nic_OpenStack-Flat-manager.jpg""/> </imageobject> </mediaobject> </figure> <figure> <title>multinic flatdhcp manager</title> <mediaobject> <imageobject> <imagedata scale=""40"" fileref=""../../common/figures/SCH_5007_V00_NUAC-multi_nic_OpenStack-Flat-DHCP-manager.jpg""/> </imageobject> </mediaobject> </figure> <figure> <title>multinic VLAN manager</title> <mediaobject> <imageobject> <imagedata scale=""40"" fileref=""../../common/figures/SCH_5007_V00_NUAC-multi_nic_OpenStack-VLAN-manager.jpg""/> </imageobject> </mediaobject> </figure> <section xml:id=""using-multiple-nics-usage""> <title>Using multinic</title> <para>In order to use multinic, create two networks, and attach them to the tenant (named <parameter>project</parameter> on the command line):</para> <screen><prompt>$</prompt> <userinput>nova network-create first-net --fixed-range-v4 20.20.0.0/24 --project-id $your-project</userinput> <prompt>$</prompt> <userinput>nova network-create second-net --fixed-range-v4 20.20.10.0/24 --project-id $your-project</userinput></screen> <para>Each new instance will now receive two IP addresses from their respective DHCP servers:</para> <screen><prompt>$</prompt> <userinput>nova list</userinput> <note> <para>Make sure you start the second interface on the instance, or it won't be reachable through the second IP.</para> </note> <para>This example demonstrates how to set up the interfaces within the instance. This is the configuration that needs to be applied inside the image.</para> <para>Edit the <filename>/etc/network/interfaces</filename> file:</para> <programlisting language=""bash""># The loopback network interface <para>If the Virtual Network Service Neutron is installed, you can specify the networks to attach to the interfaces by using the <literal>--nic</literal> flag with the the <command>nova</command> command:</para> <screen><prompt>$</prompt> <userinput>nova boot --image ed8b2a37-5535-4a5f-a615-443513036d71 --flavor 1 --nic net-id=<replaceable>NETWORK1_ID</replaceable> --nic net-id=<replaceable>NETWORK2_ID</replaceable> test-vm1</userinput></screen> </section> <title>Troubleshooting Networking</title><!-- I think this would be better as a qandaset, what do others think? LKB--> <para>If you cannot reach your instances through the floating IP address:</para> <listitem> <para>Check that the default security group allows ICMP (ping) and SSH (port 22), so that you can reach the instances:</para> <screen><prompt>$</prompt> <userinput>nova secgroup-list-rules default</userinput> <para>Check the NAT rules have been added to <systemitem>iptables</systemitem> on the node that is running <systemitem>nova-network</systemitem>:</para> <screen><prompt>#</prompt> <userinput>iptables -L -nv -t nat</userinput> <para>Check that the public address (<url>68.99.26.170</url> in this example), has been added to your public interface. You should see the address in the listing when you use the <command>ip addr</command> command:</para> <screen><prompt>$</prompt> <userinput>ip addr</userinput> <para>You cannot <command>ssh</command> to an instance with a public IP from within the same server because the routing configuration does not allow it.</para> <para>Use <command>tcpdump</command> to identify if packets are being routed to the inbound interface on the compute host. If the packets are reaching the compute hosts but the connection is failing, the issue may be that the packet is being dropped by reverse path filtering. Try disabling reverse-path filtering on the inbound interface. For example, if the inbound interface is <literal>eth2</literal>, run:</para> <screen><prompt>#</prompt> <userinput>sysctl -w net.ipv4.conf.<replaceable>ETH2</replaceable>.rp_filter=0</userinput></screen> <para>If this solves the problem, add the following line to <filename>/etc/sysctl.conf</filename> so that the reverse-path filter is persistent:</para> <programlisting language=""ini"">net.ipv4.conf.rp_filter=0</programlisting> <title>Temporarily disable the firewall</title> <para>To help debug networking issues with reaching VMs, you can disable the firewall by setting this option in <filename>/etc/nova/nova.conf</filename>:</para> <programlisting language=""ini"">firewall_driver=nova.virt.firewall.NoopFirewallDriver</programlisting> <para>We strongly recommend you remove this line to re-enable the firewall once your networking issues have been resolved.</para> <title>Packet loss from instances to nova-network server (VLANManager mode)</title> <para>If you can SSH to your instances but the network to your instance is slow, or if you find that running certain operations are slower than they should be (for example, <command>sudo</command>), packet loss could be occurring on the connection to the instance.</para> <para>Packet loss can be caused by Linux networking configuration settings related to bridges. Certain settings can cause packets to be dropped between the VLAN interface (for example, <literal>vlan100</literal>) and the associated bridge interface (for example, <literal>br100</literal>) on the host running <systemitem class=""service"">nova-network</systemitem>.</para> <para>One way to check whether this is the problem is to open three terminals and run the following commands:</para> <para>In the first terminal, on the host running <systemitem>nova-network</systemitem>, use <command>tcpdump</command> on the VLAN interface to monitor DNS-related traffic (UDP, port 53). As root, run:</para> <screen><prompt>#</prompt> <userinput>tcpdump -K -p -i vlan100 -v -vv udp port 53</userinput></screen> <para>In the second terminal, also on the host running <systemitem>nova-network</systemitem>, use <command>tcpdump</command> to monitor DNS-related traffic on the bridge interface. As root, run:</para> <screen><prompt>#</prompt> <userinput>tcpdump -K -p -i br100 -v -vv udp port 53</userinput></screen> <para>In the third terminal, SSH to the instance and generate DNS requests by using the <command>nslookup</command> command:</para> <screen><prompt>$</prompt> <userinput>nslookup www.google.com</userinput></screen> <command>nslookup</command> multiple times. If the network configuration is correct, the command should return immediately each time. If it is not correct, the command hangs for several seconds before returning.</para> <para>If the <command>nslookup</command> command sometimes hangs, and there are packets that appear in the first terminal but not the second, then the problem may be due to filtering done on the bridges. Try disabling filtering, and running these commands as root:</para> <screen><prompt>#</prompt> <userinput>sysctl -w net.bridge.bridge-nf-call-arptables=0</userinput> <filename>/etc/sysctl.conf</filename> so that the changes are persistent:</para> <programlisting language=""ini"">net.bridge.bridge-nf-call-arptables=0 <para>With KVM hypervisors, instances running Ubuntu 12.04 sometimes lose network connectivity after functioning properly for a period of time. Try loading the <literal>vhost_net</literal> kernel module as a workaround for this issue (see <link xlink:href=""https://bugs.launchpad.net/ubuntu/+source/libvirt/+bug/997978/"">bug #997978</link>) . This kernel module may also <link xlink:href=""http://www.linux-kvm.org/page/VhostNet"">improve network performance</link> on KVM. To load the kernel module:</para> <screen><prompt>#</prompt> <userinput>modprobe vhost_net</userinput></screen>"," <para>Understanding the networking configuration options helps you design the best configuration for your Compute instances.</para> <para>You can choose to either install and configure <systemitem class=""service"" >nova-network</systemitem> for networking between VMs or use the OpenStack Networking service (neutron) for networking. To configure Compute networking options with OpenStack Networking, see <xref linkend=""ch_networking""/>.</para> <para>This section offers a brief overview of networking concepts for Compute.</para> <para>Compute assigns a private IP address to each VM instance. (Currently, Compute with <systemitem class=""service"">nova-network</systemitem> only supports Linux bridge networking that enables the virtual interfaces to connect to the outside network through the physical interface.) Compute makes a distinction between <emphasis role=""italic"" >fixed IPs</emphasis> and <emphasis role=""italic"">floating IPs</emphasis>. Fixed IPs are IP addresses that are assigned to an instance on creation and stay the same until the instance is explicitly terminated. By contrast, floating IPs are addresses that can be dynamically associated with an instance. A floating IP address can be disassociated and associated with another instance at any time. A user can reserve a floating IP for their project.</para> <para>The network controller with <systemitem class=""service"">nova-network</systemitem> provides virtual networks to enable compute servers to interact with each other and with the public network. Compute with <systemitem class=""service"">nova-network</systemitem> supports the following network modes, which are implemented as ""Network Manager"" types.</para> <variablelist> <varlistentry> <term>Flat Network Manager</term> <listitem> <para>In <emphasis role=""bold"">Flat</emphasis> mode, a network administrator specifies a subnet. IP addresses for VM instances are assigned from the subnet, and then injected into the image on launch. Each instance receives a fixed IP address from the pool of available addresses. A system administrator must create the Linux networking bridge (typically named <literal>br100</literal>, although this is configurable) on the systems running the <systemitem class=""service"">nova-network</systemitem> service. All instances of the system are attached to the same bridge, and this is configured manually by the network administrator.</para> <note> <para>Configuration injection currently only works on Linux-style systems that keep networking configuration in <filename>/etc/network/interfaces</filename>.</para> </note> </listitem> </varlistentry> <varlistentry> <term>Flat DHCP Network Manager</term> <listitem> <para>In <emphasis role=""bold"">FlatDHCP</emphasis> mode, OpenStack starts a DHCP server (<systemitem>dnsmasq</systemitem>) to allocate IP addresses to VM instances from the specified subnet, in addition to manually configuring the networking bridge. IP addresses for VM instances are assigned from a subnet specified by the network administrator.</para> <para>Like Flat Mode, all instances are attached to a single bridge on the compute node. Additionally, a DHCP server is running to configure instances (depending on single-/multi-host mode, alongside each <systemitem class=""service"">nova-network</systemitem>). In this mode, Compute does a bit more configuration in that it attempts to bridge into an Ethernet device (<literal>flat_interface</literal>, eth0 by default). For every instance, Compute allocates a fixed IP address and configures dnsmasq with the MAC/IP pair for the VM. Dnsmasq does not take part in the IP address allocation process, it only hands out IPs according to the mapping done by Compute. Instances receive their fixed IPs by doing a <command>dhcpdiscover</command>. These IPs are <emphasis role=""italic"" >not</emphasis> assigned to any of the host's network interfaces, only to the guest-side interface for the VM.</para> <para>In any setup with flat networking, the hosts providing the <systemitem class=""service"">nova-network</systemitem> service are responsible for forwarding traffic from the private network. They also run and configure <systemitem>dnsmasq</systemitem> as a DHCP server listening on this bridge, usually on IP address 10.0.0.1 (see <link linkend=""section_dnsmasq"" >DHCP server: dnsmasq </link>). Compute can determine the NAT entries for each network, although sometimes NAT is not used, such as when configured with all public IPs or a hardware router is used (one of the HA options). Such hosts need to have <literal>br100</literal> configured and physically connected to any other nodes that are hosting VMs. You must set the <literal>flat_network_bridge</literal> option or create networks with the bridge parameter in order to avoid raising an error. Compute nodes have iptables/ebtables entries created for each project and instance to protect against IP/MAC address spoofing and ARP poisoning.</para> <note> <para>In single-host Flat DHCP mode you <emphasis role=""italic"" >will</emphasis> be able to ping VMs through their fixed IP from the <systemitem>nova-network</systemitem> node, but you <emphasis role=""italic"">cannot</emphasis> ping them from the compute nodes. This is expected behavior.</para> </note> </listitem> </varlistentry> <varlistentry> <term>VLAN Network Manager</term> <listitem> <para><emphasis role=""bold"">VLANManager</emphasis> mode is the default mode for OpenStack Compute. In this mode, Compute creates a VLAN and bridge for each tenant. For multiple-machine installation, the VLAN Network Mode requires a switch that supports VLAN tagging (IEEE 802.1Q). The tenant gets a range of private IPs that are only accessible from inside the VLAN. In order for a user to access the instances in their tenant, a special VPN instance (code named cloudpipe) needs to be created. Compute generates a certificate and key for the user to access the VPN and starts the VPN automatically. It provides a private network segment for each tenant's instances that can be accessed through a dedicated VPN connection from the Internet. In this mode, each tenant gets its own VLAN, Linux networking bridge, and subnet.</para> <para>The subnets are specified by the network administrator, and are assigned dynamically to a tenant when required. A DHCP Server is started for each VLAN to pass out IP addresses to VM instances from the subnet assigned to the tenant. All instances belonging to one tenant are bridged into the same VLAN for that tenant. OpenStack Compute creates the Linux networking bridges and VLANs when required.</para> </listitem> </varlistentry> </variablelist> <para>These network managers can co-exist in a cloud system. However, because you cannot select the type of network for a given tenant, you cannot configure multiple network types in a single Compute installation.</para> <para>All network managers configure the network using <emphasis role=""italic"">network drivers</emphasis>. For example, the Linux L3 driver (<literal>l3.py</literal> and <literal>linux_net.py</literal>), which makes use of <literal>iptables</literal>, <literal>route</literal> and other network management facilities, and the libvirt <link xlink:href=""http://libvirt.org/formatnwfilter.html"">network filtering facilities</link>. The driver is not tied to any particular network manager; all network managers use the same driver. The driver usually initializes (creates bridges and so on) only when the first VM lands on this host node.</para> <para>All network managers operate in either <emphasis role=""italic"">single-host</emphasis> or <emphasis role=""italic"">multi-host</emphasis> mode. This choice greatly influences the network configuration. In single-host mode, a single <systemitem class=""service"" >nova-network</systemitem> service provides a default gateway for VMs and hosts a single DHCP server (<systemitem>dnsmasq</systemitem>). In multi-host mode, each compute node runs its own <systemitem class=""service"">nova-network</systemitem> service. In both cases, all traffic between VMs and the outer world flows through <systemitem class=""service"">nova-network</systemitem>. Each mode has its pros and cons (see the <citetitle>Network Topology</citetitle> section in the <link xlink:href=""http://docs.openstack.org/openstack-ops/content/""><citetitle>OpenStack Operations Guide</citetitle></link>.</para> <para>All networking options require network connectivity to be already set up between OpenStack physical nodes. OpenStack does not configure any physical network interfaces. All network managers automatically create VM virtual interfaces. Some, but not all, managers create network bridges such as <literal>br100</literal>.</para> <para>All machines must have a <emphasis role=""italic"">public</emphasis> and <emphasis role=""italic"">internal</emphasis> network interface (controlled by the options: <literal>public_interface</literal> for the public interface, and <literal>flat_interface</literal> and <literal>vlan_interface</literal> for the internal interface with flat / VLAN managers). This guide refers to the public network as the external network and the private network as the internal or tenant network.</para> <para>The internal network interface is used for communication with VMs; the interface should not have an IP address attached to it before OpenStack installation (it serves merely as a fabric where the actual endpoints are VMs and dnsmasq). Also, you must put the internal network interface in <emphasis role=""italic"">promiscuous mode</emphasis>, because it must receive packets whose target MAC address is of the guest VM, not of the host.</para> <para>Throughout this documentation, the public network is sometimes referred to as the external network, while the internal network is also sometimes referred to as the private network or tenant network.</para> <para>For flat and flat DHCP modes, use the following command to create a network:</para> <screen><prompt>$</prompt> <userinput>nova network-create vmnet \ --fixed-range-v4 10.0.0.0/16 --fixed-cidr 10.0.20.0/24 --bridge br100</userinput></screen> <para>Where:</para> <itemizedlist> <para><parameter>--fixed-range-v4-</parameter> specifies the network subnet.</para> <para><parameter>--fixed-cidr</parameter> specifies a range of fixed IP addresses to allocate, and can be a subset of the <parameter>--fixed-range-v4</parameter> argument.</para> <listitem> <para><parameter>--bridge</parameter> specifies the bridge device to which this network is connected on every compute node.</para> </listitem> </itemizedlist> </section> <para>The Compute service uses <link xlink:href=""http://www.thekelleys.org.uk/dnsmasq/doc.html"">dnsmasq</link> as the DHCP server when running with either that Flat DHCP Network Manager or the VLAN Network Manager. <systemitem>Dnsmasq</systemitem> v2.63 is the minimum version required for the Compute service to operate in IPv4/IPv6 dual-stack mode. The <systemitem class=""service"">nova-network</systemitem> service is responsible for starting up <systemitem>dnsmasq</systemitem> processes.</para> <para>The behavior of <systemitem>dnsmasq</systemitem> can be customized by creating a <systemitem>dnsmasq</systemitem> configuration file. Specify the configuration file using the <literal>dnsmasq_config_file</literal> configuration option. For example:</para> <programlisting language=""ini"">dnsmasq_config_file=/etc/dnsmasq-nova.conf</programlisting> <para>For an example of how to change the behavior of <systemitem>dnsmasq</systemitem> using a <systemitem>dnsmasq</systemitem> configuration file, see the <link xlink:href=""http://docs.openstack.org/juno/config-reference/content/"" ><citetitle>OpenStack Configuration Reference</citetitle></link>. The <systemitem>dnsmasq</systemitem> documentation also has a more comprehensive <link xlink:href=""http://www.thekelleys.org.uk/dnsmasq/docs/dnsmasq.conf.example"">dnsmasq configuration file example</link>.</para> <para><systemitem>dnsmasq</systemitem> also acts as a caching DNS server for instances. You can explicitly specify the DNS server that <systemitem>dnsmasq</systemitem> should use by setting the <literal>dns_server</literal> configuration option in <filename>/etc/nova/nova.conf</filename>. The following example would configure <systemitem>dnsmasq</systemitem> to use Google's public DNS server:</para> <programlisting language=""ini"">dns_server=8.8.8.8</programlisting> <para>Logging output for <systemitem>dnsmasq</systemitem> goes to the <systemitem>syslog</systemitem> (typically <filename>/var/log/syslog</filename> or <filename>/var/log/messages</filename>, depending on Linux distribution). <systemitem>dnsmasq</systemitem> logging output can be useful for troubleshooting if VM instances boot successfully but are not reachable over the network.</para> <para>A network administrator can run <code>nova-manage fixed reserve --address <replaceable>IP_ADDRESS</replaceable></code> to specify the starting point IP address (<replaceable>n</replaceable>.<replaceable>n</replaceable>.<replaceable>n</replaceable>.<replaceable>n</replaceable>) to reserve with the DHCP server. This reservation only affects which IP address the VMs start at, not the fixed IP addresses that the <systemitem class=""service"" >nova-network</systemitem> service places on the bridges.</para> <title>Metadata service</title> <simplesect> <title>Introduction</title> <para>The Compute service uses a special metadata service to enable virtual machine instances to retrieve instance-specific data. Instances access the metadata service at <literal>http://169.254.169.254</literal>. The metadata service supports two sets of APIs: an OpenStack metadata API and an EC2-compatible API. Each of the APIs is versioned by date.</para> <para>To retrieve a list of supported versions for the OpenStack metadata API, make a GET request to <literal>http://169.254.169.254/openstack</literal> For example:</para> <screen><prompt>$</prompt> <userinput>curl http://169.254.169.254/openstack</userinput> <para>To list supported versions for the EC2-compatible metadata API, make a GET request to <literal>http://169.254.169.254</literal>.</para> <para>For example:</para> <screen><prompt>$</prompt> <userinput>curl http://169.254.169.254</userinput> <para>If you write a consumer for one of these APIs, always attempt to access the most recent API version supported by your consumer first, then fall back to an earlier version if the most recent one is not available.</para> </simplesect> <simplesect> <title>OpenStack metadata API</title> <para>Metadata from the OpenStack API is distributed in JSON format. To retrieve the metadata, make a GET request to <literal>http://169.254.169.254/openstack/2012-08-10/meta_data.json</literal>.</para> <para>For example:</para> <screen><prompt>$</prompt> <userinput>curl http://169.254.169.254/openstack/2012-08-10/meta_data.json</userinput></screen> <programlisting language=""json""><xi:include href=""../../common/samples/list_metadata.json"" parse=""text""/></programlisting> <para>Instances also retrieve user data (passed as the <literal>user_data</literal> parameter in the API call or by the <literal>--user_data</literal> flag in the <command>nova boot</command> command) through the metadata service, by making a GET request to <literal>http://169.254.169.254/openstack/2012-08-10/user_data</literal>.</para> <para>For example:</para> <screen><prompt>$</prompt> <userinput>curl http://169.254.169.254/openstack/2012-08-10/user_data</userinput> <computeroutput>#!/bin/bash </simplesect> <simplesect> <title>EC2 metadata API</title> <para>The metadata service has an API that is compatible with version 2009-04-04 of the <link xlink:href=""http://docs.amazonwebservices.com/AWSEC2/2009-04-04/UserGuide/AESDG-chapter-instancedata.html"" >Amazon EC2 metadata service</link>; virtual machine images that are designed for EC2 work properly with OpenStack.</para> <para>The EC2 API exposes a separate URL for each metadata. You can retrieve a listing of these elements by making a GET query to <literal>http://169.254.169.254/2009-04-04/meta-data/</literal></para> <para>For example:</para> <screen><prompt>$</prompt> <userinput>curl http://169.254.169.254/2009-04-04/meta-data/</userinput> <screen><prompt>$</prompt> <userinput>curl http://169.254.169.254/2009-04-04/meta-data/block-device-mapping/</userinput> <screen><prompt>$</prompt> <userinput>curl http://169.254.169.254/2009-04-04/meta-data/placement/</userinput> <screen><prompt>$</prompt> <userinput>curl http://169.254.169.254/2009-04-04/meta-data/public-keys/</userinput> <para>Instances can retrieve the public SSH key (identified by keypair name when a user requests a new instance) by making a GET request to <literal>http://169.254.169.254/2009-04-04/meta-data/public-keys/0/openssh-key</literal>.</para> <para>For example:</para> <screen><prompt>$</prompt> <userinput>curl http://169.254.169.254/2009-04-04/meta-data/public-keys/0/openssh-key</userinput> <para>Instances can retrieve user data by making a GET request to <literal>http://169.254.169.254/2009-04-04/user-data</literal>.</para> <para>For example:</para> <screen><prompt>$</prompt> <userinput>curl http://169.254.169.254/2009-04-04/user-data</userinput> </simplesect> <simplesect> <title>Run the metadata service</title> <para>The metadata service is implemented by either the <systemitem class=""service"" >nova-api</systemitem> service or the <systemitem class=""service"" >nova-api-metadata</systemitem> service. (The <systemitem class=""service"" >nova-api-metadata</systemitem> service is generally only used when running in multi-host mode, it retrieves instance-specific metadata). If you are running the <systemitem class=""service"">nova-api</systemitem> service, you must have <literal>metadata</literal> as one of the elements of the list of the <literal>enabled_apis</literal> configuration option in <filename>/etc/nova/nova.conf</filename>. The default <literal>enabled_apis</literal> configuration setting includes the metadata service, so you should not need to modify it.</para> <para>Hosts access the service at <literal>169.254.169.254:80</literal>, and this is translated to <literal>metadata_host:metadata_port</literal> by an iptables rule established by the <systemitem class=""service"">nova-network</systemitem> service. In multi-host mode, you can set <option>metadata_host</option> to <literal>127.0.0.1</literal>.</para> <para>To enable instances to reach the metadata service, the <systemitem class=""service"" >nova-network</systemitem> service configures iptables to NAT port <literal>80</literal> of the <literal>169.254.169.254</literal> address to the IP address specified in <option>metadata_host</option> (default <literal>$my_ip</literal>, which is the IP address of the <systemitem class=""service"">nova-network</systemitem> service) and port specified in <option>metadata_port</option> (default <literal>8775</literal>) in <filename>/etc/nova/nova.conf</filename>.</para> <warning> <para>The <literal>metadata_host</literal> configuration option must be an IP address, not a host name.</para> </warning> <note> <para>The default Compute service settings assume that the <systemitem class=""service"">nova-network</systemitem> service and the <systemitem class=""service"">nova-api</systemitem> service are running on the same host. If this is not the case, you must make this change in the <filename>/etc/nova/nova.conf</filename> file on the host running the <systemitem class=""service"">nova-network</systemitem> service:</para> <para>Set the <literal>metadata_host</literal> configuration option to the IP address of the host where the <systemitem class=""service"">nova-api</systemitem> service runs.</para> </note> <xi:include href=""../../common/tables/nova-metadata.xml""/> </simplesect> <title>Enable ping and SSH on VMs</title> <para>Be sure you enable access to your VMs by using the <command>euca-authorize</command> or <command>nova secgroup-add-rule</command> command. These commands enable you to <command>ping</command> and <command>ssh</command> to your VMs:</para> <note> <para>You must run these commands as root only if the credentials used to interact with <systemitem class=""service"">nova-api</systemitem> are in <filename>/root/.bashrc</filename>. If the EC2 credentials are the <filename>.bashrc</filename> file for another user, you must run these commands as the user.</para> </note> <para>Run <command>nova</command> commands:</para> <screen><prompt>$</prompt> <userinput>nova secgroup-add-rule default icmp -1 -1 0.0.0.0/0</userinput> <para>Using euca2ools:</para> <screen><prompt>$</prompt> <userinput>euca-authorize -P icmp -t -1:-1 -s 0.0.0.0/0 default</userinput> <para>If you still cannot ping or SSH your instances after issuing the <command>nova secgroup-add-rule</command> commands, look at the number of <literal>dnsmasq</literal> processes that are running. If you have a running instance, check to see that TWO <literal>dnsmasq</literal> processes are running. If not, perform the following commands as root:</para> <screen><prompt>#</prompt> <userinput>killall dnsmasq</userinput> <prompt>#</prompt> <userinput>service nova-network restart</userinput> </screen> <?dbhtml stop-chunking?> <para>If you are using Compute's <systemitem class=""service"">nova-network</systemitem> instead of OpenStack Networking (neutron) for networking in OpenStack, use procedures in this section to configure floating IP addresses. For instructions on how to configure OpenStack Networking (neutron) to provide access to instances through floating IP addresses, see <xref linkend=""section_l3_router_and_nat""/>.</para> <section xml:id=""private-and-public-IP-addresses""> <title>Private and public IP addresses</title> <para>Every virtual instance is automatically assigned a private IP address. You can optionally assign public IP addresses to instances. The term <glossterm baseform=""floating IP address"">floating IP</glossterm> refers to an IP address, typically public, that you can dynamically add to a running virtual instance. OpenStack Compute uses Network Address Translation (NAT) to assign floating IPs to virtual instances.</para> <para>If you plan to use this feature, you must add edit the <filename>/etc/nova/nova.conf</filename> file to specify to which interface the <systemitem class=""service"">nova-network</systemitem> service binds public IP addresses, as follows:</para> <programlisting language=""ini"">public_interface=<replaceable>VLAN100</replaceable></programlisting> <para>If you make changes to the <filename>/etc/nova/nova.conf</filename> file while the <systemitem class=""service"">nova-network</systemitem> service is running, you must restart the service.</para> <note> <title>Traffic between VMs using floating IPs</title> <para>Because floating IPs are implemented by using a source NAT (SNAT rule in iptables), security groups can display inconsistent behavior if VMs use their floating IP to communicate with other VMs, particularly on the same physical host. Traffic from VM to VM across the fixed network does not have this issue, and so this is the recommended path. To ensure that traffic does not get SNATed to the floating range, explicitly set:</para> <programlisting language=""ini"">dmz_cidr=x.x.x.x/y</programlisting> <para>The <literal>x.x.x.x/y</literal> value specifies the range of floating IPs for each pool of floating IPs that you define. If the VMs in the source group have floating IPs, this configuration is also required.</para> </note> <title>Enable IP forwarding</title> <para>By default, IP forwarding is disabled on most Linux distributions. To use the floating IP feature, you must enable IP forwarding.</para> <note> <para>You must enable IP forwarding only on the nodes that run the <systemitem class=""service"">nova-network</systemitem> service. If you use <literal>multi_host</literal> mode, ensure that you enable it on all compute nodes. Otherwise, enable it on only the node that runs the <systemitem class=""service"">nova-network</systemitem> service.</para> </note> <para>To check whether forwarding is enabled, run:</para> <screen><prompt>$</prompt> <userinput>cat /proc/sys/net/ipv4/ip_forward</userinput> <para>Alternatively, you can run:</para> <screen><prompt>$</prompt> <userinput>sysctl net.ipv4.ip_forward</userinput> <para>In the previous example, IP forwarding is <emphasis role=""bold"" >disabled</emphasis>. To enable it dynamically, run:</para> <screen><prompt>#</prompt> <userinput>sysctl -w net.ipv4.ip_forward=1</userinput></screen> <para>Or:</para> <screen><prompt>#</prompt> <userinput>echo 1 > /proc/sys/net/ipv4/ip_forward</userinput></screen> <para>To make the changes permanent, edit the <filename>/etc/sysctl.conf</filename> file and update the IP forwarding setting:</para> <programlisting language=""ini"">net.ipv4.ip_forward = 1</programlisting> <para>Save the file and run the following command to apply the changes:</para> <screen><prompt>#</prompt> <userinput>sysctl -p</userinput></screen> <para>You can also update the setting by restarting the network service:</para> <itemizedlist> <listitem> <para>On Ubuntu, run:</para> <screen><userinput><prompt>#</prompt>/etc/init.d/procps.sh restart</userinput></screen> </listitem> <listitem> <para>On RHEL/Fedora/CentOS, run:</para> <screen><prompt>#</prompt> <userinput>service network restart</userinput></screen> </listitem> </itemizedlist> <title>Create a list of available floating IP addresses</title> <para>Compute maintains a list of floating IP addresses that you can assign to instances. Use the <command>nova-manage floating create</command> command to add entries to this list.</para> <para>For example:</para> <screen><prompt>#</prompt> <userinput>nova-manage floating create --pool nova --ip_range 68.99.26.170/31</userinput></screen> <para>You can use the following <command>nova-manage</command> commands to perform floating IP operations:</para> <itemizedlist> <listitem> <screen><prompt>#</prompt> <userinput>nova-manage floating list</userinput></screen> <para>Lists the floating IP addresses in the pool.</para> </listitem> <listitem> <screen><prompt>#</prompt> <userinput>nova-manage floating create --pool <replaceable>POOL_NAME</replaceable> --ip_range <replaceable>CIDR</replaceable></userinput></screen> <para>Creates specific floating IPs for either a single address or a subnet.</para> </listitem> <listitem> <screen><prompt>#</prompt> <userinput>nova-manage floating delete <replaceable>CIDR</replaceable></userinput></screen> <para>Removes floating IP addresses using the same parameters as the create command.</para> </listitem> </itemizedlist> <para>For information about how administrators can associate floating IPs with instances, see <link xlink:href=""http://docs.openstack.org/user-guide-admin/content/manage_ip_addresses.html"" >Manage IP addresses</link> in the <citetitle>OpenStack Admin User Guide</citetitle>.</para> <title>Automatically add floating IPs</title> <para>You can configure the <systemitem class=""service"">nova-network</systemitem> service to automatically allocate and assign a floating IP address to virtual instances when they are launched. Add the following line to the <filename>/etc/nova/nova.conf</filename> file and restart the <systemitem class=""service"">nova-network</systemitem> service:</para> <programlisting language=""ini"">auto_assign_floating_ip=True</programlisting> <note> <para>If you enable this option and all floating IP addresses have already been allocated, the <command>nova boot</command> command fails.</para> </note> <title>Remove a network from a project</title> <para>You cannot remove a network that has already been associated to a project by simply deleting it.</para> <para>To determine the project ID, you must have administrative rights. You can disassociate the project from the network with a scrub command and the project ID as the final parameter:</para> <screen><prompt>#</prompt> <userinput>nova-manage project scrub --project <replaceable>ID</replaceable></userinput></screen> <title>Multiple interfaces for your instances (multinic)</title> <?dbhtml stop-chunking?> <para>The multinic feature allows you to plug more than one interface to your instances, making it possible to make several use cases available:</para> <itemizedlist> <listitem> <para>SSL Configurations (VIPs)</para> </listitem> <listitem> <para>Services failover/ HA</para> </listitem> <listitem> <para>Bandwidth Allocation</para> </listitem> <listitem> <para>Administrative/ Public access to your instances</para> </listitem> </itemizedlist> <para>Each VIF is representative of a separate network with its own IP block. Every network mode introduces its own set of changes regarding the multinic usage:</para> <figure> <title>multinic flat manager</title> <mediaobject> <imageobject> <imagedata scale=""40"" fileref=""../../common/figures/SCH_5007_V00_NUAC-multi_nic_OpenStack-Flat-manager.jpg"" /> </imageobject> </mediaobject> </figure> <figure> <title>multinic flatdhcp manager</title> <mediaobject> <imageobject> <imagedata scale=""40"" fileref=""../../common/figures/SCH_5007_V00_NUAC-multi_nic_OpenStack-Flat-DHCP-manager.jpg"" /> </imageobject> </mediaobject> </figure> <figure> <title>multinic VLAN manager</title> <mediaobject> <imageobject> <imagedata scale=""40"" fileref=""../../common/figures/SCH_5007_V00_NUAC-multi_nic_OpenStack-VLAN-manager.jpg"" /> </imageobject> </mediaobject> </figure> <section xml:id=""using-multiple-nics-usage""> <title>Use the multinic feature</title> <para>In order to use the multinic feature, first create two networks, and attach them to your tenant (still named 'project' on the command line): <screen><prompt>$</prompt> <userinput>nova network-create first-net --fixed-range-v4 20.20.0.0/24 --project-id $your-project</userinput> <prompt>$</prompt> <userinput>nova network-create second-net --fixed-range-v4 20.20.10.0/24 --project-id $your-project</userinput> </screen> Now every time you spawn a new instance, it gets two IP addresses from the respective DHCP servers:</para> <screen><prompt>$</prompt> <userinput>nova list</userinput> <note> <para>Make sure to power up the second interface on the instance, otherwise that last won't be reachable through its second IP. Here is an example of how to setup the interfaces within the instance (this is the configuration that needs to be applied inside the image):</para> <para><filename>/etc/network/interfaces</filename></para> <programlisting language=""bash""># The loopback network interface </note> <note> <para>If the Virtual Network Service Neutron is installed, it is possible to specify the networks to attach to the respective interfaces by using the <literal>--nic</literal> flag when invoking the <literal>nova</literal> command:</para> <screen><prompt>$</prompt> <userinput>nova boot --image ed8b2a37-5535-4a5f-a615-443513036d71 --flavor 1 --nic net-id=<replaceable>NETWORK1_ID</replaceable> --nic net-id=<replaceable>NETWORK2_ID</replaceable> test-vm1</userinput></screen> </note> </section> <title>Troubleshoot Networking</title> <para>If you cannot reach your instances through the floating IP address, check the following:</para> <listitem> <para>Ensure the default security group allows ICMP (ping) and SSH (port 22), so that you can reach the instances:</para> <screen><prompt>$</prompt> <userinput>nova secgroup-list-rules default</userinput> <para>Ensure the NAT rules have been added to <systemitem>iptables</systemitem> on the node that <systemitem>nova-network</systemitem> is running on, as root:</para> <screen><prompt>#</prompt> <userinput>iptables -L -nv -t nat</userinput> <para>Check that the public address, in this example ""68.99.26.170"", has been added to your public interface. You should see the address in the listing when you enter ""ip addr"" at the command prompt.</para> <screen><prompt>$</prompt> <userinput>ip addr</userinput> <para>You cannot <command>ssh</command> to an instance with a public IP from within the same server because the routing configuration does not allow it.</para> <para>You can use <command>tcpdump</command> to identify if packets are being routed to the inbound interface on the compute host. If the packets are reaching the compute hosts but the connection is failing, the issue may be that the packet is being dropped by reverse path filtering. Try disabling reverse-path filtering on the inbound interface. For example, if the inbound interface is <literal>eth2</literal>, as root, run:</para> <screen><prompt>#</prompt> <userinput>sysctl -w net.ipv4.conf.<replaceable>ETH2</replaceable>.rp_filter=0</userinput></screen> <para>If this solves your issue, add the following line to <filename>/etc/sysctl.conf</filename> so that the reverse-path filter is disabled the next time the compute host reboots:</para> <programlisting language=""ini"">net.ipv4.conf.rp_filter=0</programlisting> <title>Disable firewall</title> <para>To help debug networking issues with reaching VMs, you can disable the firewall by setting the following option in <filename>/etc/nova/nova.conf</filename>:</para> <programlisting language=""ini"">firewall_driver=nova.virt.firewall.NoopFirewallDriver</programlisting> <para>We strongly recommend you remove this line to re-enable the firewall once your networking issues have been resolved.</para> <title>Packet loss from instances to nova-network server (VLANManager mode)</title> <para>If you can SSH to your instances but you find that the network interactions to your instance is slow, or if you find that running certain operations are slower than they should be (for example, <command>sudo</command>), then there may be packet loss occurring on the connection to the instance.</para> <para>Packet loss can be caused by Linux networking configuration settings related to bridges. Certain settings can cause packets to be dropped between the VLAN interface (for example, <literal>vlan100</literal>) and the associated bridge interface (for example, <literal>br100</literal>) on the host running the <systemitem class=""service"">nova-network</systemitem> service.</para> <para>One way to check whether this is the issue in your setup, is to open up three terminals and run the following commands:</para> <para>In the first terminal, on the host running nova-network, use <command>tcpdump</command> on the VLAN interface to monitor DNS-related traffic (UDP, port 53). As root, run:</para> <screen><prompt>#</prompt> <userinput>tcpdump -K -p -i vlan100 -v -vv udp port 53</userinput></screen> <para>In the second terminal, also on the host running nova-network, use <command>tcpdump</command> to monitor DNS-related traffic on the bridge interface. As root, run:</para> <screen><prompt>#</prompt> <userinput>tcpdump -K -p -i br100 -v -vv udp port 53</userinput></screen> <para>In the third terminal, SSH inside of the instance and generate DNS requests by using the <command>nslookup</command> command:</para> <screen><prompt>$</prompt> <userinput>nslookup www.google.com</userinput></screen> <command>nslookup</command> multiple times. If the network configuration is correct, the command should return immediately each time. If it is not functioning properly, the command hangs for several seconds.</para> <para>If the <command>nslookup</command> command sometimes hangs, and there are packets that appear in the first terminal but not the second, then the problem may be due to filtering done on the bridges. Try to disable filtering, run the following commands as root:</para> <screen><prompt>#</prompt> <userinput>sysctl -w net.bridge.bridge-nf-call-arptables=0</userinput> <filename>/etc/sysctl.conf</filename> so that these changes take effect the next time the host reboots:</para> <programlisting language=""ini"">net.bridge.bridge-nf-call-arptables=0 <para>Some administrators have observed an issue with the KVM hypervisor where instances running Ubuntu 12.04 sometimes loses network connectivity after functioning properly for a period of time. Some users have reported success with loading the vhost_net kernel module as a workaround for this issue (see <link xlink:href=""https://bugs.launchpad.net/ubuntu/+source/libvirt/+bug/997978/"">bug #997978</link>) . This kernel module may also <link xlink:href=""http://www.linux-kvm.org/page/VhostNet"">improve network performance on KVM</link>. To load the kernel module, as root:</para> <screen><prompt>#</prompt> <userinput>modprobe vhost_net</userinput></screen>",855,773
openstack%2Ftripleo-heat-templates~master~I4aa89347c60ec6258bd66725a895f6fd2b4844f6,openstack/tripleo-heat-templates,master,I4aa89347c60ec6258bd66725a895f6fd2b4844f6,Remove unused cinder params from -without-mergepy,MERGED,2015-01-20 14:55:46.000000000,2015-02-03 15:19:32.000000000,2015-02-03 15:19:32.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4328}, {'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 7585}]","[{'number': 1, 'created': '2015-01-20 14:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e5363daddf093c679c9a8f2d1fa55a9cfcc64d91', 'message': ""Remove unused cinder params from -without-mergepy\n\nCinder block storage nodes shouldn't need to know the\nAdminPassword and CinderPassword values. There are\nno services which require Keystone related passwords\non the block storage nodes.\n\nChange-Id: I4aa89347c60ec6258bd66725a895f6fd2b4844f6\n""}, {'number': 2, 'created': '2015-01-20 18:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/652f8572400670829fc75917ac943f03b07f49ea', 'message': ""Remove unused cinder params from -without-mergepy\n\nCinder block storage nodes shouldn't need to know the\nAdminPassword and CinderPassword values. There are\nno services which require Keystone related passwords\non the block storage nodes.\n\nChange-Id: I4aa89347c60ec6258bd66725a895f6fd2b4844f6\n""}, {'number': 3, 'created': '2015-01-27 14:07:30.000000000', 'files': ['overcloud-without-mergepy.yaml', 'cinder-storage.yaml', 'cinder-storage-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0fce77e3c2169a05d84ee6e7b76fe651429aa380', 'message': ""Remove unused cinder params from -without-mergepy\n\nCinder block storage nodes shouldn't need to know the\nAdminPassword and CinderPassword values. There are\nno services which require Keystone related passwords\non the block storage nodes.\n\nChange-Id: I4aa89347c60ec6258bd66725a895f6fd2b4844f6\n""}]",0,148586,0fce77e3c2169a05d84ee6e7b76fe651429aa380,23,6,3,360,,,0,"Remove unused cinder params from -without-mergepy

Cinder block storage nodes shouldn't need to know the
AdminPassword and CinderPassword values. There are
no services which require Keystone related passwords
on the block storage nodes.

Change-Id: I4aa89347c60ec6258bd66725a895f6fd2b4844f6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/148586/3 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud-without-mergepy.yaml', 'cinder-storage.yaml', 'cinder-storage-puppet.yaml']",3,e5363daddf093c679c9a8f2d1fa55a9cfcc64d91,puppet,," #FIXME: this should not be required AdminPassword: default: '' type: string # FIXME: this should not be required CinderPassword: default: unset description: The password for the cinder service account, used by cinder-api. hidden: true type: string",0,23
openstack%2Ftripleo-ci~master~I1478241094876071f97b7a519f9e2f8d3b4f931b,openstack/tripleo-ci,master,I1478241094876071f97b7a519f9e2f8d3b4f931b,Switch TE host VM to amd64,MERGED,2015-02-02 17:07:37.000000000,2015-02-03 15:18:51.000000000,2015-02-03 15:18:49.000000000,"[{'_account_id': 3}, {'_account_id': 1926}, {'_account_id': 6928}, {'_account_id': 7144}]","[{'number': 1, 'created': '2015-02-02 17:07:37.000000000', 'files': ['elements/testenv-worker/bin/ensure-test-env'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4016d9d5984d009e00069bcc39353da6792d862b', 'message': 'Switch TE host VM to amd64\n\nSwitch to testing a 64 bit arch, also bump RAM to 4G to allow for the\nextra usage.\n\nChange-Id: I1478241094876071f97b7a519f9e2f8d3b4f931b\n'}]",3,152188,4016d9d5984d009e00069bcc39353da6792d862b,10,4,1,1926,,,0,"Switch TE host VM to amd64

Switch to testing a 64 bit arch, also bump RAM to 4G to allow for the
extra usage.

Change-Id: I1478241094876071f97b7a519f9e2f8d3b4f931b
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/88/152188/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/testenv-worker/bin/ensure-test-env'],1,4016d9d5984d009e00069bcc39353da6792d862b,,export NODE_ARCH=amd64 export NODE_MEM=4096,export NODE_ARCH=i386,2,1
openstack%2Ftripleo-heat-templates~master~Iac8b4679a00f58d5faac4a1d08b7a830f0360ba5,openstack/tripleo-heat-templates,master,Iac8b4679a00f58d5faac4a1d08b7a830f0360ba5,Puppet: Cinder common block storage support,MERGED,2015-01-19 20:45:33.000000000,2015-02-03 15:18:08.000000000,2015-02-03 15:18:08.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4328}, {'_account_id': 7144}, {'_account_id': 7585}]","[{'number': 1, 'created': '2015-01-19 20:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c88b5b7fa296555b61404345d5c4880f563b31bc', 'message': 'Puppet: Cinder common block storage support\n\nThis patch implements the required changes to configure\ncommon Cinder block storage nodes via Puppet.\n\nChange-Id: Iac8b4679a00f58d5faac4a1d08b7a830f0360ba5\n'}, {'number': 2, 'created': '2015-01-20 18:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/57a0d1b8d30a0c2bf8c9bd10061ce546ad0be112', 'message': 'Puppet: Cinder common block storage support\n\nThis patch implements the required changes to configure\ncommon Cinder block storage nodes via Puppet.\n\nChange-Id: Iac8b4679a00f58d5faac4a1d08b7a830f0360ba5\n'}, {'number': 3, 'created': '2015-01-27 14:07:30.000000000', 'files': ['cinder-storage-puppet.yaml', 'puppet/overcloud_volume.pp', 'overcloud-resource-registry-puppet.yaml', 'puppet/hieradata/volume.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8633aca4ed5461b5758866f5b64fdaf9957ae151', 'message': 'Puppet: Cinder common block storage support\n\nThis patch implements the required changes to configure\ncommon Cinder block storage nodes via Puppet.\n\nChange-Id: Iac8b4679a00f58d5faac4a1d08b7a830f0360ba5\n'}]",0,148357,8633aca4ed5461b5758866f5b64fdaf9957ae151,19,5,3,360,,,0,"Puppet: Cinder common block storage support

This patch implements the required changes to configure
common Cinder block storage nodes via Puppet.

Change-Id: Iac8b4679a00f58d5faac4a1d08b7a830f0360ba5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/148357/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder-storage-puppet.yaml', 'overcloud-resource-registry-puppet.yaml', 'overcloud_volume.pp', 'puppet/hieradata/volume.yaml']",4,c88b5b7fa296555b61404345d5c4880f563b31bc,puppet,# Hiera data here applies to all volume storage nodes # cinder cinder::scheduler::scheduler_driver: cinder.scheduler.filter_scheduler.FilterScheduler ,,211,1
openstack%2Fglance_store~master~I97c53af4e696a47ac630facbb67dc07309f5e9b3,openstack/glance_store,master,I97c53af4e696a47ac630facbb67dc07309f5e9b3,Add needed extra space to error message,MERGED,2015-01-09 18:22:43.000000000,2015-02-03 15:16:20.000000000,2015-02-03 15:16:19.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 6159}, {'_account_id': 7575}, {'_account_id': 7634}, {'_account_id': 11356}, {'_account_id': 11391}]","[{'number': 1, 'created': '2015-01-09 18:22:43.000000000', 'files': ['glance_store/_drivers/swift/store.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/daebb930f2d2076c6ff80731e7e9abf5bdc6abb7', 'message': ""Add needed extra space to error message\n\nThe 'swift_store_create_container_on_put option' error message\nneeds an extra space to make it read more clearly.\n\nChange-Id: I97c53af4e696a47ac630facbb67dc07309f5e9b3\n""}]",0,146152,daebb930f2d2076c6ff80731e7e9abf5bdc6abb7,12,7,1,360,,,0,"Add needed extra space to error message

The 'swift_store_create_container_on_put option' error message
needs an extra space to make it read more clearly.

Change-Id: I97c53af4e696a47ac630facbb67dc07309f5e9b3
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/52/146152/1 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/_drivers/swift/store.py'],1,daebb930f2d2076c6ff80731e7e9abf5bdc6abb7,extra_space," ""swift_store_create_container_on_put option """," ""swift_store_create_container_on_put option""",1,1
openstack%2Fglance_store~master~I7827f1d8301585562d6dd85a7d1bfe4d1b28a1e5,openstack/glance_store,master,I7827f1d8301585562d6dd85a7d1bfe4d1b28a1e5,Rename oslo.concurrency to oslo_concurrency,MERGED,2014-12-31 12:16:51.000000000,2015-02-03 15:16:13.000000000,2015-02-03 15:16:11.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 6159}, {'_account_id': 6484}, {'_account_id': 6549}, {'_account_id': 7575}, {'_account_id': 11356}, {'_account_id': 12000}]","[{'number': 1, 'created': '2014-12-31 12:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/6355d0d29b7bf03edf6310064176a070086ad834', 'message': 'Rename oslo.concurrency to oslo_concurrency\n\noslo.concurrency-0.3.0 has moved its path to oslo_concurrency,\nthe old path oslo.concurrency can still work but is deprecated now.\n    \nChange-Id: I7827f1d8301585562d6dd85a7d1bfe4d1b28a1e5\nCloses-Bug: #1398656\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>'}, {'number': 2, 'created': '2015-01-08 14:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/9b7ec467e5230887e210c5c87c88644e158e4051', 'message': 'Rename oslo.concurrency to oslo_concurrency\n\noslo.concurrency-0.3.0 has moved its path to oslo_concurrency,\nthe old path oslo.concurrency can still work but is deprecated now.\n\nChange-Id: I7827f1d8301585562d6dd85a7d1bfe4d1b28a1e5\nCloses-Bug: #1398656\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>\n'}, {'number': 3, 'created': '2015-01-23 16:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/ccb4840d04b00156fd5ae9075a8505d57fd89900', 'message': 'Rename oslo.concurrency to oslo_concurrency\n\noslo.concurrency-0.3.0 has moved its path to oslo_concurrency,\nthe old path oslo.concurrency can still work but is deprecated now.\n\nChange-Id: I7827f1d8301585562d6dd85a7d1bfe4d1b28a1e5\nCloses-Bug: #1398656\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>\n'}, {'number': 4, 'created': '2015-02-02 06:15:50.000000000', 'files': ['tests/unit/test_sheepdog_store.py', 'requirements.txt', 'glance_store/_drivers/sheepdog.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/df444d6531176e5928f92b95569071d4ec27c8cc', 'message': 'Rename oslo.concurrency to oslo_concurrency\n\noslo.concurrency-0.3.0 has moved its path to oslo_concurrency,\nthe old path oslo.concurrency can still work but is deprecated now.\n\nChange-Id: I7827f1d8301585562d6dd85a7d1bfe4d1b28a1e5\nCloses-Bug: #1398656\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>\n'}]",0,144631,df444d6531176e5928f92b95569071d4ec27c8cc,32,8,4,6549,,,0,"Rename oslo.concurrency to oslo_concurrency

oslo.concurrency-0.3.0 has moved its path to oslo_concurrency,
the old path oslo.concurrency can still work but is deprecated now.

Change-Id: I7827f1d8301585562d6dd85a7d1bfe4d1b28a1e5
Closes-Bug: #1398656
Signed-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/31/144631/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/test_sheepdog_store.py', 'glance_store/_drivers/sheepdog.py']",2,6355d0d29b7bf03edf6310064176a070086ad834,,from oslo_concurrency import processutils,from oslo.concurrency import processutils,2,2
openstack%2Ftripleo-heat-templates~master~I44bdfff7aae6bdf845b79ca1f8f450c22113caed,openstack/tripleo-heat-templates,master,I44bdfff7aae6bdf845b79ca1f8f450c22113caed,Swift: set default replicas to 3,MERGED,2015-01-11 03:11:03.000000000,2015-02-03 15:15:32.000000000,2015-02-03 15:15:32.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 597}, {'_account_id': 4328}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 8399}, {'_account_id': 12459}]","[{'number': 1, 'created': '2015-01-11 03:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d01f006f71d0d21d149048d5fc8a2f6033029e94', 'message': ""Swift: set default replicas to 3\n\nOur existing default (replicas == 1) means that no data\n(or copies) is being replicated in a multi-node Swift\nenvironment. This seems like a bad production default\nsetting and could easily slip by if not set.\n\nSetting it to 3 shouldn't hurt anything and seems to follow\nsuit with what several production installers (based around Puppet)\nactually use. If using an installation with less than 3 swift\nnodes I believe swift will do its best, and still work fine.\n\nFWIW I noticed this when testing a multi-node Puppet swift\ninstallation and was surprised when I didn't see any *data\nfiles getting replicated across the storage cluster.\n\nChange-Id: I44bdfff7aae6bdf845b79ca1f8f450c22113caed\n""}, {'number': 2, 'created': '2015-01-14 22:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/55fbb8b916e115740fadf5438faa374a64767876', 'message': ""Swift: set default replicas to 3\n\nOur existing default (replicas == 1) means that no data\n(or copies) is being replicated in a multi-node Swift\nenvironment. This seems like a bad production default\nsetting and could easily slip by if not set.\n\nSetting it to 3 shouldn't hurt anything and seems to follow\nsuit with what several production installers (based around Puppet)\nactually use. If using an installation with less than 3 swift\nnodes I believe swift will do its best, and still work fine.\n\nFWIW I noticed this when testing a multi-node Puppet swift\ninstallation and was surprised when I didn't see any *data\nfiles getting replicated across the storage cluster.\n\nChange-Id: I44bdfff7aae6bdf845b79ca1f8f450c22113caed\n""}, {'number': 3, 'created': '2015-01-19 13:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d6412e698c318e5766abbb924934dce376ff0b0', 'message': ""Swift: set default replicas to 3\n\nOur existing default (replicas == 1) means that no data\n(or copies) is being replicated in a multi-node Swift\nenvironment. This seems like a bad production default\nsetting and could easily slip by if not set.\n\nSetting it to 3 shouldn't hurt anything and seems to follow\nsuit with what several production installers (based around Puppet)\nactually use. If using an installation with less than 3 swift\nnodes I believe swift will do its best, and still work fine.\n\nFWIW I noticed this when testing a multi-node Puppet swift\ninstallation and was surprised when I didn't see any *data\nfiles getting replicated across the storage cluster.\n\nChange-Id: I44bdfff7aae6bdf845b79ca1f8f450c22113caed\n""}, {'number': 4, 'created': '2015-01-19 14:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0f27ac16eabebb1f914f71092671dbd8c518187f', 'message': ""Swift: set default replicas to 3\n\nOur existing default (replicas == 1) means that no data\n(or copies) is being replicated in a multi-node Swift\nenvironment. This seems like a bad production default\nsetting and could easily slip by if not set.\n\nSetting it to 3 shouldn't hurt anything and seems to follow\nsuit with what several production installers (based around Puppet)\nactually use. If using an installation with less than 3 swift\nnodes I believe swift will do its best, and still work fine.\n\nFWIW I noticed this when testing a multi-node Puppet swift\ninstallation and was surprised when I didn't see any *data\nfiles getting replicated across the storage cluster.\n\nChange-Id: I44bdfff7aae6bdf845b79ca1f8f450c22113caed\n""}, {'number': 5, 'created': '2015-01-19 20:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c53ed38d6e04c2e8c0fd436e058b4702be6a2000', 'message': ""Swift: set default replicas to 3\n\nOur existing default (replicas == 1) means that no data\n(or copies) is being replicated in a multi-node Swift\nenvironment. This seems like a bad production default\nsetting and could easily slip by if not set.\n\nSetting it to 3 shouldn't hurt anything and seems to follow\nsuit with what several production installers (based around Puppet)\nactually use. If using an installation with less than 3 swift\nnodes I believe swift will do its best, and still work fine.\n\nFWIW I noticed this when testing a multi-node Puppet swift\ninstallation and was surprised when I didn't see any *data\nfiles getting replicated across the storage cluster.\n\nChange-Id: I44bdfff7aae6bdf845b79ca1f8f450c22113caed\n""}, {'number': 6, 'created': '2015-01-27 14:07:30.000000000', 'files': ['swift-storage.yaml', 'overcloud-without-mergepy.yaml', 'swift-storage-puppet.yaml', 'swift-deploy.yaml', 'controller.yaml', 'controller-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/25b35cb71174c1db971e2f80b693d1be2e502d4e', 'message': ""Swift: set default replicas to 3\n\nOur existing default (replicas == 1) means that no data\n(or copies) is being replicated in a multi-node Swift\nenvironment. This seems like a bad production default\nsetting and could easily slip by if not set.\n\nSetting it to 3 shouldn't hurt anything and seems to follow\nsuit with what several production installers (based around Puppet)\nactually use. If using an installation with less than 3 swift\nnodes I believe swift will do its best, and still work fine.\n\nFWIW I noticed this when testing a multi-node Puppet swift\ninstallation and was surprised when I didn't see any *data\nfiles getting replicated across the storage cluster.\n\nChange-Id: I44bdfff7aae6bdf845b79ca1f8f450c22113caed\n""}]",0,146293,25b35cb71174c1db971e2f80b693d1be2e502d4e,34,8,6,360,,,0,"Swift: set default replicas to 3

Our existing default (replicas == 1) means that no data
(or copies) is being replicated in a multi-node Swift
environment. This seems like a bad production default
setting and could easily slip by if not set.

Setting it to 3 shouldn't hurt anything and seems to follow
suit with what several production installers (based around Puppet)
actually use. If using an installation with less than 3 swift
nodes I believe swift will do its best, and still work fine.

FWIW I noticed this when testing a multi-node Puppet swift
installation and was surprised when I didn't see any *data
files getting replicated across the storage cluster.

Change-Id: I44bdfff7aae6bdf845b79ca1f8f450c22113caed
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/93/146293/3 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud-without-mergepy.yaml', 'swift-storage.yaml', 'swift-storage-puppet.yaml', 'swift-deploy.yaml', 'controller.yaml']",5,d01f006f71d0d21d149048d5fc8a2f6033029e94,puppet, default: 3, default: 1,5,5
openstack%2Ftripleo-heat-templates~master~Icbf05363475c388fc722277da3d3d00a7355b19a,openstack/tripleo-heat-templates,master,Icbf05363475c388fc722277da3d3d00a7355b19a,Remove unused swift params from -without-mergepy,MERGED,2015-01-11 03:00:26.000000000,2015-02-03 15:15:26.000000000,2015-02-03 15:15:26.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 597}, {'_account_id': 4328}, {'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 7585}, {'_account_id': 8399}]","[{'number': 1, 'created': '2015-01-11 03:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec23dcf517f3946fcd1ae31bd252e2f6b5974177', 'message': ""Remove unused swift params from -without-mergepy\n\nIn doing the Puppet version of the Swift role I noticed\n4 parameters which we apply to storage nodes which should\nnot be required. This patch drops the following parameters\nfrom the swift-storage and swift-storage-puppet nested\nstacks which should not be required.\n\n 1) ControllerIP: There is no reason a storage node should need\n the IP address of the controller. The swift proxy would need\n this information in order to be able to contact keystone.\n This swift-proxy is not installed on storage nodes so we can\n drop the parameter here.\n\n 2) NeutronEnableTunnelling: There is no reason for Neutron\n to be installed on Swift storage nodes. No need to create\n an OVS bridge either.\n\n 3) NeutronNetworkType: Similar to above. No neutron requirements\n exist here so this parameter is not required.\n\n 4) Password: This only applies to the the swift-proxy which is\n currently part of our controller role. Storage nodes shouldn't need\n the keystone service-password for any reason.\n\nChange-Id: Icbf05363475c388fc722277da3d3d00a7355b19a\n""}, {'number': 2, 'created': '2015-01-14 22:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5163a3ca3b19e71a89fb0768a62b15ea22283591', 'message': ""Remove unused swift params from -without-mergepy\n\nIn doing the Puppet version of the Swift role I noticed\n4 parameters which we apply to storage nodes which should\nnot be required. This patch drops the following parameters\nfrom the swift-storage and swift-storage-puppet nested\nstacks which should not be required.\n\n 1) ControllerIP: There is no reason a storage node should need\n the IP address of the controller. The swift proxy would need\n this information in order to be able to contact keystone.\n This swift-proxy is not installed on storage nodes so we can\n drop the parameter here.\n\n 2) NeutronEnableTunnelling: There is no reason for Neutron\n to be installed on Swift storage nodes. No need to create\n an OVS bridge either.\n\n 3) NeutronNetworkType: Similar to above. No neutron requirements\n exist here so this parameter is not required.\n\n 4) Password: This only applies to the the swift-proxy which is\n currently part of our controller role. Storage nodes shouldn't need\n the keystone service-password for any reason.\n\nChange-Id: Icbf05363475c388fc722277da3d3d00a7355b19a\n""}, {'number': 3, 'created': '2015-01-19 13:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e9f59250085ed5593fb70b58c0f9d6f15cb5e376', 'message': ""Remove unused swift params from -without-mergepy\n\nIn doing the Puppet version of the Swift role I noticed\n4 parameters which we apply to storage nodes which should\nnot be required. This patch drops the following parameters\nfrom the swift-storage and swift-storage-puppet nested\nstacks which should not be required.\n\n 1) ControllerIP: There is no reason a storage node should need\n the IP address of the controller. The swift proxy would need\n this information in order to be able to contact keystone.\n This swift-proxy is not installed on storage nodes so we can\n drop the parameter here.\n\n 2) NeutronEnableTunnelling: There is no reason for Neutron\n to be installed on Swift storage nodes. No need to create\n an OVS bridge either.\n\n 3) NeutronNetworkType: Similar to above. No neutron requirements\n exist here so this parameter is not required.\n\n 4) Password: This only applies to the the swift-proxy which is\n currently part of our controller role. Storage nodes shouldn't need\n the keystone service-password for any reason.\n\nChange-Id: Icbf05363475c388fc722277da3d3d00a7355b19a\n""}, {'number': 4, 'created': '2015-01-19 14:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6ef7166f85d64ecd39f4166eef8b3639f18e0171', 'message': ""Remove unused swift params from -without-mergepy\n\nIn doing the Puppet version of the Swift role I noticed\n4 parameters which we apply to storage nodes which should\nnot be required. This patch drops the following parameters\nfrom the swift-storage and swift-storage-puppet nested\nstacks which should not be required.\n\n 1) ControllerIP: There is no reason a storage node should need\n the IP address of the controller. The swift proxy would need\n this information in order to be able to contact keystone.\n This swift-proxy is not installed on storage nodes so we can\n drop the parameter here.\n\n 2) NeutronEnableTunnelling: There is no reason for Neutron\n to be installed on Swift storage nodes. No need to create\n an OVS bridge either.\n\n 3) NeutronNetworkType: Similar to above. No neutron requirements\n exist here so this parameter is not required.\n\n 4) Password: This only applies to the the swift-proxy which is\n currently part of our controller role. Storage nodes shouldn't need\n the keystone service-password for any reason.\n\nChange-Id: Icbf05363475c388fc722277da3d3d00a7355b19a\n""}, {'number': 5, 'created': '2015-01-19 20:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4c72df32af903c4d3014a5dfb771e22d58b372c4', 'message': ""Remove unused swift params from -without-mergepy\n\nIn doing the Puppet version of the Swift role I noticed\n4 parameters which we apply to storage nodes which should\nnot be required. This patch drops the following parameters\nfrom the swift-storage and swift-storage-puppet nested\nstacks which should not be required.\n\n 1) ControllerIP: There is no reason a storage node should need\n the IP address of the controller. The swift proxy would need\n this information in order to be able to contact keystone.\n This swift-proxy is not installed on storage nodes so we can\n drop the parameter here.\n\n 2) NeutronEnableTunnelling: There is no reason for Neutron\n to be installed on Swift storage nodes. No need to create\n an OVS bridge either.\n\n 3) NeutronNetworkType: Similar to above. No neutron requirements\n exist here so this parameter is not required.\n\n 4) Password: This only applies to the the swift-proxy which is\n currently part of our controller role. Storage nodes shouldn't need\n the keystone service-password for any reason.\n\nChange-Id: Icbf05363475c388fc722277da3d3d00a7355b19a\n""}, {'number': 6, 'created': '2015-01-27 14:07:30.000000000', 'files': ['swift-storage.yaml', 'overcloud-without-mergepy.yaml', 'swift-storage-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af061f09c68e11ca03a9b63c7183a52782d6cc10', 'message': ""Remove unused swift params from -without-mergepy\n\nIn doing the Puppet version of the Swift role I noticed\n4 parameters which we apply to storage nodes which should\nnot be required. This patch drops the following parameters\nfrom the swift-storage and swift-storage-puppet nested\nstacks which should not be required.\n\n 1) ControllerIP: There is no reason a storage node should need\n the IP address of the controller. The swift proxy would need\n this information in order to be able to contact keystone.\n This swift-proxy is not installed on storage nodes so we can\n drop the parameter here.\n\n 2) NeutronEnableTunnelling: There is no reason for Neutron\n to be installed on Swift storage nodes. No need to create\n an OVS bridge either.\n\n 3) NeutronNetworkType: Similar to above. No neutron requirements\n exist here so this parameter is not required.\n\n 4) Password: This only applies to the the swift-proxy which is\n currently part of our controller role. Storage nodes shouldn't need\n the keystone service-password for any reason.\n\nChange-Id: Icbf05363475c388fc722277da3d3d00a7355b19a\n""}]",0,146292,af061f09c68e11ca03a9b63c7183a52782d6cc10,41,8,6,360,,,0,"Remove unused swift params from -without-mergepy

In doing the Puppet version of the Swift role I noticed
4 parameters which we apply to storage nodes which should
not be required. This patch drops the following parameters
from the swift-storage and swift-storage-puppet nested
stacks which should not be required.

 1) ControllerIP: There is no reason a storage node should need
 the IP address of the controller. The swift proxy would need
 this information in order to be able to contact keystone.
 This swift-proxy is not installed on storage nodes so we can
 drop the parameter here.

 2) NeutronEnableTunnelling: There is no reason for Neutron
 to be installed on Swift storage nodes. No need to create
 an OVS bridge either.

 3) NeutronNetworkType: Similar to above. No neutron requirements
 exist here so this parameter is not required.

 4) Password: This only applies to the the swift-proxy which is
 currently part of our controller role. Storage nodes shouldn't need
 the keystone service-password for any reason.

Change-Id: Icbf05363475c388fc722277da3d3d00a7355b19a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/92/146292/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud-without-mergepy.yaml', 'swift-storage.yaml', 'swift-storage-puppet.yaml']",3,ec23dcf517f3946fcd1ae31bd252e2f6b5974177,puppet,," #FIXME: this should not be required. ControllerIP: default: '' type: string #FIXME: this is is not required. Leaving here for compatability with the overcloud template. NeutronEnableTunnelling: default: ""True"" type: string #FIXME: this is is not required. Leaving here for compatability with the overcloud template. NeutronNetworkType: default: gre type: string #FIXME: this is is not required. Leaving here for compatability with the overcloud template. Password: default: unset description: The password for the swift service account, used by the swift proxy services. hidden: true type: string",0,56
openstack%2Ffuel-web~master~Idb0dccb35aab10d02c5ad942fd30d52a461e1a0e,openstack/fuel-web,master,Idb0dccb35aab10d02c5ad942fd30d52a461e1a0e,fuel_agent: removed reread_partitions method,MERGED,2015-01-14 07:34:52.000000000,2015-02-03 15:14:56.000000000,2015-01-15 11:50:55.000000000,"[{'_account_id': 3}, {'_account_id': 7903}, {'_account_id': 8003}, {'_account_id': 8392}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 10391}]","[{'number': 1, 'created': '2015-01-14 07:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/61e3755f4f2984a8c229f8c02485e0d96220f45e', 'message': 'fuel_agent: removed reread_partitions method\n\nThis reread_partitions method was a desperate attempt\nto work around udev related ""device is busy"" error.\nThe correct way to deal with that stuff is to use\nudevadm --settle which is to block thread until udev is\nready to handle events.\n\nChange-Id: Idb0dccb35aab10d02c5ad942fd30d52a461e1a0e\n'}, {'number': 2, 'created': '2015-01-14 14:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/ccf98f620ea29ab1e0e8daa6387bd6234cca923d', 'message': 'fuel_agent: removed reread_partitions method\n\nThis reread_partitions method was a desperate attempt\nto work around udev related ""device is busy"" error.\nThe correct way to deal with that stuff is to use\nudevadm --settle which is to block thread until udev is\nready to handle events.\n\nChange-Id: Idb0dccb35aab10d02c5ad942fd30d52a461e1a0e\n'}, {'number': 3, 'created': '2015-01-14 15:26:03.000000000', 'files': ['fuel_agent/fuel_agent/tests/test_partition_utils.py', 'fuel_agent/fuel_agent/manager.py', 'fuel_agent/fuel_agent/utils/partition_utils.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/d28128aa0283262c5f19daa95b4aa9feabb71758', 'message': 'fuel_agent: removed reread_partitions method\n\nThis reread_partitions method was a desperate attempt\nto work around udev related ""device is busy"" error.\nThe correct way to deal with that stuff is to use\nudevadm --settle which is to block thread until udev is\nready to handle events.\n\nCloses-Bug: 1410471\nChange-Id: Idb0dccb35aab10d02c5ad942fd30d52a461e1a0e\n'}]",0,147083,d28128aa0283262c5f19daa95b4aa9feabb71758,25,7,3,3009,,,0,"fuel_agent: removed reread_partitions method

This reread_partitions method was a desperate attempt
to work around udev related ""device is busy"" error.
The correct way to deal with that stuff is to use
udevadm --settle which is to block thread until udev is
ready to handle events.

Closes-Bug: 1410471
Change-Id: Idb0dccb35aab10d02c5ad942fd30d52a461e1a0e
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/83/147083/2 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_agent/fuel_agent/tests/test_partition_utils.py', 'fuel_agent/fuel_agent/utils/partition_utils.py']",2,61e3755f4f2984a8c229f8c02485e0d96220f45e,bug/1410471," utils.execute('udevadm', 'settle', '--quiet', check_exit_code=[0]) utils.execute('udevadm', 'settle', '--quiet', check_exit_code=[0]) utils.execute('udevadm', 'settle', '--quiet', check_exit_code=[0]) utils.execute('udevadm', 'settle', '--quiet', check_exit_code=[0]) utils.execute('udevadm', 'settle', '--quiet', check_exit_code=[0])","import time reread_partitions(dev, out=out) reread_partitions(dev, out=out) reread_partitions(dev, out=out) reread_partitions(dev, out=out) def reread_partitions(dev, out='Device or resource busy', timeout=30): # The reason for this method to exist is that old versions of parted # use ioctl(fd, BLKRRPART, NULL) to tell Linux to re-read partitions. # This system call does not work sometimes. So we try to re-read partition # table several times. Besides partprobe uses BLKPG instead, which # is better than BLKRRPART for this case. BLKRRPART tells Linux to re-read # partitions while BLKPG tells Linux which partitions are available # BLKPG is usually used as a fallback system call. begin = time.time() while 'Device or resource busy' in out: if time.time() > begin + timeout: raise errors.BaseError('Unable to re-read partition table on' 'device %s' % dev) LOG.debug('Last time output contained ""Device or resource busy"". ' 'Trying to re-read partition table on device %s' % dev) out, err = utils.execute('partprobe', dev, check_exit_code=[0, 1]) LOG.debug('Partprobe output: \n%s' % out) pout, perr = utils.execute('partx', '-a', dev, check_exit_code=[0, 1]) LOG.debug('Partx output: \n%s' % pout) time.sleep(1)",51,92
openstack%2Fglance_store~master~I453a14cb832c07c8cd932a3db7b4a34a80a73116,openstack/glance_store,master,I453a14cb832c07c8cd932a3db7b4a34a80a73116,Remove retry on failed uploads to VMware datastore,MERGED,2015-01-23 07:05:15.000000000,2015-02-03 15:14:45.000000000,2015-02-03 15:14:43.000000000,"[{'_account_id': 3}, {'_account_id': 6159}, {'_account_id': 6549}, {'_account_id': 7575}, {'_account_id': 12000}]","[{'number': 1, 'created': '2015-01-23 07:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/7b0a491f91c83d167d65204197dbabd53fce4f8d', 'message': ""VMware store: Remove retry mechanism in image upload\n\nvmware store retries to upload the image data but\nfails when seeking to reposition the file.\n\nSince the image_file is not seekable, we can never\nretry from the begining. Removing the retry logic\nas it doesn't work for image-upload.\n\nCloses-Bug: #1413852\n\nChange-Id: I453a14cb832c07c8cd932a3db7b4a34a80a73116\n""}, {'number': 2, 'created': '2015-01-28 07:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/948aa232c75ccf5cee88d202ff4d041878427ec0', 'message': 'VMware store: Remove retry mechanism in image upload\n\nvmware store retries to upload the image data but fails when\nseeking to reposition the file. Since the image_file is not\nseekable, we can never retry from the begining. Also, the\ndatastore http server does not support resumable upload.\n\nThus,\n1. Removing the retry logic in store.add().\n2. Replace non-existing UnexpectedStatus with BackendException.\n\nCloses-Bug: #1413852\n\nChange-Id: I453a14cb832c07c8cd932a3db7b4a34a80a73116\n'}, {'number': 3, 'created': '2015-01-28 07:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/9f7b085c50a8b003eaf1f9bd4702fed8c0a6af5f', 'message': 'VMware store: Remove retry mechanism in image upload\n\nvmware store retries to upload the image data but fails when\nseeking to reposition the file. Since the image_file is not\nseekable, we can never retry from the begining. Also, the\ndatastore http server does not support resumable upload.\n\nThus,\n1. Removing the retry logic in store.add().\n2. Replace non-existing UnexpectedStatus with BackendException.\n\nCloses-Bug: #1413852\n\nChange-Id: I453a14cb832c07c8cd932a3db7b4a34a80a73116\n'}, {'number': 4, 'created': '2015-01-31 23:49:19.000000000', 'files': ['tests/unit/test_vmware_store.py', 'glance_store/tests/utils.py', 'glance_store/_drivers/vmware_datastore.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/632ce4000a303ece3dc0e497a7bdaaa72d396648', 'message': 'Remove retry on failed uploads to VMware datastore\n\nVMware store retries to upload the image data but fails when\nseeking to reposition the file. Since the image_file is not\nseekable, we can never retry from the beginning. Also, the\nbackend datastore server does not support resumable upload.\n\nThus,\n1. Removing the retry logic in store.add().\n2. Replace non-existing UnexpectedStatus with BackendException.\n\nCloses-Bug: #1413852\n\nChange-Id: I453a14cb832c07c8cd932a3db7b4a34a80a73116\n'}]",4,149515,632ce4000a303ece3dc0e497a7bdaaa72d396648,15,5,4,7575,,,0,"Remove retry on failed uploads to VMware datastore

VMware store retries to upload the image data but fails when
seeking to reposition the file. Since the image_file is not
seekable, we can never retry from the beginning. Also, the
backend datastore server does not support resumable upload.

Thus,
1. Removing the retry logic in store.add().
2. Replace non-existing UnexpectedStatus with BackendException.

Closes-Bug: #1413852

Change-Id: I453a14cb832c07c8cd932a3db7b4a34a80a73116
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/15/149515/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/test_vmware_store.py', 'glance_store/tests/utils.py', 'glance_store/_drivers/vmware_datastore.py']",3,7b0a491f91c83d167d65204197dbabd53fce4f8d,bug/1413852," cookie = self._build_vim_cookie_header() headers = dict(headers.items() + {'Cookie': cookie}.items()) conn_class = self._get_http_conn_class() conn = conn_class(loc.server_host) url = urlparse.quote('%s?%s' % (loc.path, loc.query)) try: conn.request('PUT', url, image_file, headers) except IOError: # When a session is not authenticated, the socket is closed by # the server after sending the response. httplib has an open # issue with https that raises Broken Pipe # error instead of returning the response. # See http://bugs.python.org/issue16062. Here, we log the error # and continue to look into the response. msg = (""Communication error sending http %(method)s request"" ""to the url %(url)s."" % {'method': 'PUT', 'url': url}) LOG.error(msg) except Exception: with excutils.save_and_reraise_exception(): LOG.exception(_LE('Failed to upload content of image ' '%(image)s'), {'image': image_id}) res = conn.getresponse() if res.status == httplib.CONFLICT: raise exceptions.Duplicate(_(""Image file %(image_id)s already "" ""exists!"") % {'image_id': image_id}) if res.status not in (httplib.CREATED, httplib.OK): msg = ( _('Failed to upload content of image %(image)s. ' 'The request returned an unexpected status: %(status)s.' '\nThe response body:\n%(body)s') % {'image': image_id, 'status': res.status, 'body': res.body}) LOG.error(msg) raise exceptions.BackendException(msg)"," # NOTE(arnaud): use a decorator when the config is not tied to self for i in range(self.api_retry_count + 1): cookie = self._build_vim_cookie_header() headers = dict(headers.items() + {'Cookie': cookie}.items()) conn_class = self._get_http_conn_class() conn = conn_class(loc.server_host) url = urlparse.quote('%s?%s' % (loc.path, loc.query)) try: conn.request('PUT', url, image_file, headers) except IOError: # When a session is not authenticated, the socket is closed by # the server after sending the response. httplib has an open # issue with https that raises Broken Pipe # error instead of returning the response. # See http://bugs.python.org/issue16062. Here, we log the error # and continue to look into the response. msg = (""Communication error sending http %(method)s request"" ""to the url %(url)s."" % {'method': 'PUT', 'url': url}) LOG.error(msg) except Exception: with excutils.save_and_reraise_exception(): LOG.exception(_LE('Failed to upload content of image ' '%(image)s'), {'image': image_id}) res = conn.getresponse() if res.status == httplib.UNAUTHORIZED: self.reset_session(force=True) image_file.rewind() continue if res.status == httplib.CONFLICT: raise exceptions.Duplicate(_(""Image file %(image_id)s already "" ""exists!"") % {'image_id': image_id}) if res.status not in (httplib.CREATED, httplib.OK): msg = ( _('Failed to upload content of image %(image)s. ' 'The request returned an unexpected status: %(status)s.' '\nThe response body:\n%(body)s') % {'image': image_id, 'status': res.status, 'body': res.body}) LOG.error(msg) raise exceptions.BackendException(msg) break",41,76
openstack%2Fsahara~master~I9b5553e9e08e3df0f928effdace5946fdfc5aa68,openstack/sahara,master,I9b5553e9e08e3df0f928effdace5946fdfc5aa68,Add indirect VMs access implementation,MERGED,2014-11-11 01:47:36.000000000,2015-02-03 15:14:23.000000000,2015-02-03 15:14:22.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7109}, {'_account_id': 7125}, {'_account_id': 7213}, {'_account_id': 7428}, {'_account_id': 7604}, {'_account_id': 7710}, {'_account_id': 8091}, {'_account_id': 8411}, {'_account_id': 8871}, {'_account_id': 10670}, {'_account_id': 12038}, {'_account_id': 12561}]","[{'number': 1, 'created': '2014-11-11 01:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/00d7763db3f10ec8517d0133a4575cd46d1cd555', 'message': 'Add indirect VMs access implementation\n\nImplements blueprint: indirect-vm-access\n\nChange-Id: I9b5553e9e08e3df0f928effdace5946fdfc5aa68\n'}, {'number': 2, 'created': '2014-11-11 01:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/4c0fc97239cde622c4d2a0511cff641fa242de62', 'message': 'Add indirect VMs access implementation\n\nImplements blueprint: indirect-vm-access\n\nChange-Id: I9b5553e9e08e3df0f928effdace5946fdfc5aa68\n'}, {'number': 3, 'created': '2014-11-11 01:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/48c1d82673fc1a204e42395ade123007ceed19bc', 'message': 'Add indirect VMs access implementation\n\nImplements blueprint: indirect-vm-access\n\nChange-Id: I9b5553e9e08e3df0f928effdace5946fdfc5aa68\n'}, {'number': 4, 'created': '2014-11-11 21:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/4ffe1dafabd7179fd18fe3e92bb85ab46ed6df10', 'message': 'Add indirect VMs access implementation\n\n* Added ""ip_proxy_gateway"" field to nodegroups\n* Made floating IP not required for nodes if there is proxy gateway\n* implemented access through proxy both for ssh and http connections\n\nImplements blueprint: indirect-vm-access\nChange-Id: I9b5553e9e08e3df0f928effdace5946fdfc5aa68\n'}, {'number': 5, 'created': '2014-11-12 00:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/1d9ba38344509fa0bb083f504bc108f3db48c846', 'message': 'Add indirect VMs access implementation\n\n* Added ""ip_proxy_gateway"" field to nodegroups\n* Made floating IP not required for nodes if there is proxy gateway\n* implemented access through proxy both for ssh and http connections\n\nImplements blueprint: indirect-vm-access\nChange-Id: I9b5553e9e08e3df0f928effdace5946fdfc5aa68\n'}, {'number': 6, 'created': '2014-11-12 23:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/52fe065acc455a06bc9abadd64f3f2c127e38801', 'message': 'Add indirect VMs access implementation\n\n* Added ""ip_proxy_gateway"" field to nodegroups\n* Made floating IP not required for nodes if there is proxy gateway\n* implemented access through proxy both for ssh and http connections\n\nImplements blueprint: indirect-vm-access\nChange-Id: I9b5553e9e08e3df0f928effdace5946fdfc5aa68\n'}, {'number': 7, 'created': '2014-11-13 19:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/6a8ac2a2650a5a3f04b3424d373cb6c6b86bca3e', 'message': 'Add indirect VMs access implementation\n\n* Added ""ip_proxy_gateway"" field to nodegroups\n* Made floating IP not required for nodes if there is proxy gateway\n* implemented access through proxy both for ssh and http connections\n\nImplements blueprint: indirect-vm-access\nChange-Id: I9b5553e9e08e3df0f928effdace5946fdfc5aa68\n'}, {'number': 8, 'created': '2014-11-13 23:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/4e7cd9572df5909d0ad868d788c59e0860fcfb4b', 'message': 'Add indirect VMs access implementation\n\n* Added ""ip_proxy_gateway"" field to nodegroups\n* Made floating IP not required for nodes if there is proxy gateway\n* implemented access through proxy both for ssh and http connections\n\nImplements blueprint: indirect-vm-access\nChange-Id: I9b5553e9e08e3df0f928effdace5946fdfc5aa68\n'}, {'number': 9, 'created': '2014-11-18 00:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/c7e6fcfc3af80e6a9c9b54af0afbe7d9289376ca', 'message': 'Add indirect VMs access implementation\n\n* Added ""ip_proxy_gateway"" field to nodegroups\n* Made floating IP not required for nodes if there is proxy gateway\n* implemented access through proxy both for ssh and http connections\n* introduced interactive ssh command for remote nc execution\n\nImplements blueprint: indirect-vm-access\nChange-Id: I9b5553e9e08e3df0f928effdace5946fdfc5aa68\n'}, {'number': 10, 'created': '2014-11-18 21:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/d97f282a5142f38e3d5c52aa3284da0ee5af318d', 'message': 'Add indirect VMs access implementation\n\n* Added ""is_proxy_gateway"" field to nodegroups\n* Made floating IP not required for nodes if there is proxy gateway\n* implemented access through proxy both for ssh and http connections\n* introduced interactive ssh command for remote nc execution\n\nImplements blueprint: indirect-vm-access\nChange-Id: I9b5553e9e08e3df0f928effdace5946fdfc5aa68\n'}, {'number': 11, 'created': '2014-11-18 21:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/210567ae95f48650f7cd6ea636e99eb64571edda', 'message': 'Add indirect VMs access implementation\n\n* Added ""is_proxy_gateway"" field to nodegroups\n* Made floating IP not required for nodes if there is proxy gateway\n* implemented access through proxy both for ssh and http connections\n* introduced interactive ssh command for remote nc execution\n\nImplements blueprint: indirect-vm-access\nChange-Id: I9b5553e9e08e3df0f928effdace5946fdfc5aa68\n'}, {'number': 12, 'created': '2014-11-19 00:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/be4c49774cfcb23738dddb5e2ce3fe0f1bd45a1a', 'message': 'Add indirect VMs access implementation\n\n* Added ""is_proxy_gateway"" field to nodegroups\n* Made floating IP not required for nodes if there is proxy gateway\n* implemented access through proxy both for ssh and http connections\n* introduced interactive ssh command for remote nc execution\n\nImplements blueprint: indirect-vm-access\nChange-Id: I9b5553e9e08e3df0f928effdace5946fdfc5aa68\n'}, {'number': 13, 'created': '2014-11-20 17:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/187b3b8293f3ee18b485ea4380f3b2865588fb57', 'message': 'Add indirect VMs access implementation\n\n* Added ""is_proxy_gateway"" field to nodegroups\n* Made floating IP not required for nodes if there is proxy gateway\n* implemented access through proxy both for ssh and http connections\n* introduced interactive ssh command for remote nc execution\n\nImplements blueprint: indirect-vm-access\nChange-Id: I9b5553e9e08e3df0f928effdace5946fdfc5aa68\n'}, {'number': 14, 'created': '2014-11-24 19:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/59c1675afad4b653d5376449381c13d493a04b7f', 'message': 'Add indirect VMs access implementation\n\n* Added ""is_proxy_gateway"" field to nodegroups\n* Made floating IP not required for nodes if there is proxy gateway\n* implemented access through proxy both for ssh and http connections\n* introduced interactive ssh command for remote nc execution\n\nImplements blueprint: indirect-vm-access\nChange-Id: I9b5553e9e08e3df0f928effdace5946fdfc5aa68\n'}, {'number': 15, 'created': '2014-11-28 18:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/ff2574324f20593f4a7e12ad2d4f923e6beb6dd1', 'message': 'Add indirect VMs access implementation\n\n* Added ""is_proxy_gateway"" field to nodegroups\n* Made floating IP not required for nodes if there is proxy gateway\n* implemented access through proxy both for ssh and http connections\n* introduced interactive ssh command for remote nc execution\n\nImplements blueprint: indirect-vm-access\nChange-Id: I9b5553e9e08e3df0f928effdace5946fdfc5aa68\n'}, {'number': 16, 'created': '2015-01-26 17:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/a5da768bade13513e3e8e6f542039e5a3fc34b7f', 'message': 'Add indirect VMs access implementation\n\n* Added ""is_proxy_gateway"" field to nodegroups\n* Made floating IP not required for nodes if there is proxy gateway\n* implemented access through proxy both for ssh and http connections\n* introduced interactive ssh command for remote nc execution\n\nImplements blueprint: indirect-vm-access\nChange-Id: I9b5553e9e08e3df0f928effdace5946fdfc5aa68\n'}, {'number': 18, 'created': '2015-01-28 00:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/a111d937cf796e49c089d94c0f7e58923c91f7fa', 'message': 'Add indirect VMs access implementation\n\n* Added ""is_proxy_gateway"" field to nodegroups\n* Made floating IP not required for nodes if there is proxy gateway\n* implemented access through proxy both for ssh and http connections\n* introduced interactive ssh command for remote nc execution\n\nImplements blueprint: indirect-vm-access\nChange-Id: I9b5553e9e08e3df0f928effdace5946fdfc5aa68\n'}, {'number': 19, 'created': '2015-01-30 20:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/1d49f0384362d832ccde107159a58a12d526104e', 'message': 'Add indirect VMs access implementation\n\n* Added ""is_proxy_gateway"" field to nodegroups\n* Made floating IP not required for nodes if there is proxy gateway\n* implemented access through proxy both for ssh and http connections\n* introduced interactive ssh command for remote nc execution\n\nImplements blueprint: indirect-vm-access\nChange-Id: I9b5553e9e08e3df0f928effdace5946fdfc5aa68\n'}, {'number': 20, 'created': '2015-02-02 09:59:03.000000000', 'files': ['sahara/db/migration/alembic_migrations/versions/016_is_proxy_gateway.py', 'sahara/db/sqlalchemy/models.py', 'sahara/service/validations/node_group_templates.py', 'sahara/service/validations/base.py', 'sahara/conductor/objects.py', 'sahara/utils/procutils.py', 'sahara/tests/unit/conductor/manager/test_clusters.py', 'sahara/tests/unit/testutils.py', 'sahara/tests/unit/db/migration/test_migrations.py', 'sahara/tests/unit/conductor/manager/test_templates.py', 'sahara/utils/ssh_remote.py', 'sahara/service/validations/clusters_scaling.py', 'sahara/service/validations/clusters.py', 'sahara/tests/unit/service/validation/test_cluster_create_validation.py', 'sahara/tests/unit/utils/test_ssh_remote.py', 'sahara/conductor/manager.py', 'sahara/service/networks.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/d85cac90da6f5be74dde8e9cc1ed8d0c3955e524', 'message': 'Add indirect VMs access implementation\n\n* Added ""is_proxy_gateway"" field to nodegroups\n* Made floating IP not required for nodes if there is proxy gateway\n* implemented access through proxy both for ssh and http connections\n* introduced interactive ssh command for remote nc execution\n\nImplements blueprint: indirect-vm-access\nChange-Id: I9b5553e9e08e3df0f928effdace5946fdfc5aa68\n'}]",30,133590,d85cac90da6f5be74dde8e9cc1ed8d0c3955e524,184,14,19,8411,,,0,"Add indirect VMs access implementation

* Added ""is_proxy_gateway"" field to nodegroups
* Made floating IP not required for nodes if there is proxy gateway
* implemented access through proxy both for ssh and http connections
* introduced interactive ssh command for remote nc execution

Implements blueprint: indirect-vm-access
Change-Id: I9b5553e9e08e3df0f928effdace5946fdfc5aa68
",git fetch https://review.opendev.org/openstack/sahara refs/changes/90/133590/16 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/db/sqlalchemy/models.py', 'sahara/service/validations/node_group_templates.py', 'sahara/service/validations/base.py', 'sahara/conductor/objects.py', 'sahara/plugins/vanilla/plugin.py', 'sahara/db/migration/alembic_migrations/versions/015_is_proxy_gateway.py', 'sahara/tests/unit/testutils.py', 'sahara/tests/unit/db/migration/test_migrations.py', 'sahara/plugins/provisioning.py', 'sahara/utils/ssh_remote.py', 'sahara/plugins/vanilla/utils.py', 'sahara/service/validations/clusters_scaling.py', 'sahara/service/validations/clusters.py', 'sahara/conductor/manager.py', 'sahara/service/networks.py']",15,00d7763db3f10ec8517d0133a4575cd46d1cd555,bp/indirect-vm-access, cluster = instance.node_group.cluster if (not CONF.use_floating_ips or (cluster.has_proxy_gateway() and not instance.node_group.is_proxy_gateway)):, if not CONF.use_floating_ips:,315,28
openstack%2Ftripleo-heat-templates~master~I9513cb63079235337b684aa734af73a0f0cc0afd,openstack/tripleo-heat-templates,master,I9513cb63079235337b684aa734af73a0f0cc0afd,Puppet: Switch glance to use a swift backend,MERGED,2015-01-09 19:02:18.000000000,2015-02-03 15:13:31.000000000,2015-02-03 15:13:30.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4328}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 7585}, {'_account_id': 12459}]","[{'number': 1, 'created': '2015-01-09 19:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da441d4d605f18047dd51fd9c27423b6a030e4f5', 'message': 'Puppet: Switch glance to use a swift backend\n\nNow that we have swift we can switch glance over\nto make use of it.\n\nChange-Id: I9513cb63079235337b684aa734af73a0f0cc0afd\n'}, {'number': 2, 'created': '2015-01-09 22:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a9e000c68d67103fee03737950a2e0bcab2d023e', 'message': 'Puppet: Switch glance to use a swift backend\n\nNow that we have swift we can switch glance over\nto make use of it.\n\nChange-Id: I9513cb63079235337b684aa734af73a0f0cc0afd\n'}, {'number': 3, 'created': '2015-01-14 22:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/afd55b017d9bb7f6ad1b8fa7a16f0913b6e1e798', 'message': 'Puppet: Switch glance to use a swift backend\n\nNow that we have swift we can switch glance over\nto make use of it.\n\nChange-Id: I9513cb63079235337b684aa734af73a0f0cc0afd\n'}, {'number': 4, 'created': '2015-01-19 13:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0ef326000d8ee77cd31f981ebd96fb6e8338a99f', 'message': 'Puppet: Switch glance to use a swift backend\n\nNow that we have swift we can switch glance over\nto make use of it.\n\nChange-Id: I9513cb63079235337b684aa734af73a0f0cc0afd\n'}, {'number': 5, 'created': '2015-01-19 14:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1aa7c071bb5f6c86ada3bfdada16a2acddb20c39', 'message': 'Puppet: Switch glance to use a swift backend\n\nNow that we have swift we can switch glance over\nto make use of it.\n\nChange-Id: I9513cb63079235337b684aa734af73a0f0cc0afd\n'}, {'number': 6, 'created': '2015-01-19 20:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0e0885ec380cc4af74c8f1979d248e3c4d054bd8', 'message': 'Puppet: Switch glance to use a swift backend\n\nNow that we have swift we can switch glance over\nto make use of it.\n\nChange-Id: I9513cb63079235337b684aa734af73a0f0cc0afd\n'}, {'number': 7, 'created': '2015-01-27 14:07:30.000000000', 'files': ['puppet/overcloud_controller.pp', 'puppet/hieradata/controller.yaml', 'controller-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e6a88fcc66e1f19a50caa81b3171e74f03756f2e', 'message': 'Puppet: Switch glance to use a swift backend\n\nNow that we have swift we can switch glance over\nto make use of it.\n\nChange-Id: I9513cb63079235337b684aa734af73a0f0cc0afd\n'}]",0,146178,e6a88fcc66e1f19a50caa81b3171e74f03756f2e,50,7,7,360,,,0,"Puppet: Switch glance to use a swift backend

Now that we have swift we can switch glance over
to make use of it.

Change-Id: I9513cb63079235337b684aa734af73a0f0cc0afd
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/146178/7 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/overcloud_controller.pp', 'controller-config-puppet.yaml', 'puppet/hieradata/controller.yaml']",3,da441d4d605f18047dd51fd9c27423b6a030e4f5,puppet,glance::api::known_stores: - glance.store.filesystem.Store - glance.store.swift.Storeglance::backend::swift::swift_store_create_container_on_put: true,,10,1
openstack%2Ffuel-main~stable%2F6.0~I8c7a8dbc8f71591f7fedfc7b280014cc4887bf66,openstack/fuel-main,stable/6.0,I8c7a8dbc8f71591f7fedfc7b280014cc4887bf66,Improve time sync and its logging in system tests,MERGED,2015-01-30 07:35:42.000000000,2015-02-03 15:13:13.000000000,2015-02-03 15:13:11.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 11827}, {'_account_id': 11969}]","[{'number': 1, 'created': '2015-01-30 07:35:42.000000000', 'files': ['fuelweb_test/models/environment.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/c799e3a6d88289e58db764a6be7910aab7da3149', 'message': ""Improve time sync and its logging in system tests\n\n1. Don't kill ntp process, let daemon init script\ndo its work.\n2. Run time synchronization in debug mode ('-d').\n3. Sync time on master node using ntpdate instead of\nntpd (remove debug key '-d', add '-v' - be verbose)\n4. Print 'stdout' and 'exit_code' in addition to\n'stderr' if remote command returned non-zero code.\n\nCloses-bug: #1415596\n\nChange-Id: I8c7a8dbc8f71591f7fedfc7b280014cc4887bf66\n""}]",0,151558,c799e3a6d88289e58db764a6be7910aab7da3149,11,7,1,11081,,,0,"Improve time sync and its logging in system tests

1. Don't kill ntp process, let daemon init script
do its work.
2. Run time synchronization in debug mode ('-d').
3. Sync time on master node using ntpdate instead of
ntpd (remove debug key '-d', add '-v' - be verbose)
4. Print 'stdout' and 'exit_code' in addition to
'stderr' if remote command returned non-zero code.

Closes-bug: #1415596

Change-Id: I8c7a8dbc8f71591f7fedfc7b280014cc4887bf66
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/58/151558/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/models/environment.py'],1,c799e3a6d88289e58db764a6be7910aab7da3149,bug/1415596_6.0," '/etc/init.d/\(ntp.?\|ntp-dev\)\');' '$NTPD stop && ntpd -dqg && $NTPD ' 'start') self.execute_remote_cmd(remote, ""ntpdate -vu $(awk '/^server/ && "" ""$2 !~ /127.*/ {print $2}' "" ""/etc/ntp.conf)"") self.execute_remote_cmd(remote, 'service ntpd stop && ntpd -dqg &&' ' service ntpd start') format(cmd, result))"," '/etc/init.d/ntp.?\'); $NTPD stop; ' 'killall ntpd; ntpd -qg && ' '$NTPD start') self.execute_remote_cmd(remote, ""ntpdate -d $(awk '/^server/{print"" "" $2}' /etc/ntp.conf)"") self.execute_remote_cmd(remote, 'service ntpd stop && ntpd -qg && ' 'service ntpd start') format(cmd, result['stderr']))",9,8
openstack%2Ftripleo-heat-templates~master~I677c85b09b6e656b3ac1f938a4bd6bc7daae1755,openstack/tripleo-heat-templates,master,I677c85b09b6e656b3ac1f938a4bd6bc7daae1755,Puppet: Swift Storage node support,MERGED,2015-01-09 16:18:51.000000000,2015-02-03 15:11:21.000000000,2015-02-03 15:11:19.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4328}, {'_account_id': 7144}, {'_account_id': 7585}, {'_account_id': 8399}]","[{'number': 1, 'created': '2015-01-09 16:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/037ef79ed6119aa83b3f887e62ac47db4f121676', 'message': 'Puppet: Swift Storage node support\n\nThis patch implements the required changes to configure\nswift storage nodes via Puppet. Similar to the overcloud\nwe generate the rings on each node (with the same seed).\n\nChange-Id: I677c85b09b6e656b3ac1f938a4bd6bc7daae1755\n'}, {'number': 2, 'created': '2015-01-09 22:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ca95a5ade473e80ca1515464423652bb9171dd7', 'message': 'Puppet: Swift Storage node support\n\nThis patch implements the required changes to configure\nswift storage nodes via Puppet. Similar to the overcloud\nwe generate the rings on each node (with the same seed).\n\nChange-Id: I677c85b09b6e656b3ac1f938a4bd6bc7daae1755\n'}, {'number': 3, 'created': '2015-01-14 22:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d79de386295a43afd924cfbea7b7f8d3d9702e2f', 'message': 'Puppet: Swift Storage node support\n\nThis patch implements the required changes to configure\nswift storage nodes via Puppet. Similar to the overcloud\nwe generate the rings on each node (with the same seed).\n\nChange-Id: I677c85b09b6e656b3ac1f938a4bd6bc7daae1755\n'}, {'number': 4, 'created': '2015-01-19 13:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec2f296f13b8f696c5fc9488300726e21b49f5ec', 'message': 'Puppet: Swift Storage node support\n\nThis patch implements the required changes to configure\nswift storage nodes via Puppet. Similar to the overcloud\nwe generate the rings on each node (with the same seed).\n\nChange-Id: I677c85b09b6e656b3ac1f938a4bd6bc7daae1755\n'}, {'number': 5, 'created': '2015-01-19 14:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/56676b56d16e0dcca9927dd350318cdb191b75fa', 'message': 'Puppet: Swift Storage node support\n\nThis patch implements the required changes to configure\nswift storage nodes via Puppet. Similar to the overcloud\nwe generate the rings on each node (with the same seed).\n\nChange-Id: I677c85b09b6e656b3ac1f938a4bd6bc7daae1755\n'}, {'number': 6, 'created': '2015-01-19 20:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aa4d6959c94cc1cc6e4b0cc186176f9f13560f09', 'message': 'Puppet: Swift Storage node support\n\nThis patch implements the required changes to configure\nswift storage nodes via Puppet. Similar to the overcloud\nwe generate the rings on each node (with the same seed).\n\nChange-Id: I677c85b09b6e656b3ac1f938a4bd6bc7daae1755\n'}, {'number': 7, 'created': '2015-01-27 14:07:30.000000000', 'files': ['swift-storage-puppet.yaml', 'overcloud-resource-registry-puppet.yaml', 'puppet/overcloud_object.pp'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/82de366b75d9782ce7b35fb90e9b2b60d4cff61d', 'message': 'Puppet: Swift Storage node support\n\nThis patch implements the required changes to configure\nswift storage nodes via Puppet. Similar to the overcloud\nwe generate the rings on each node (with the same seed).\n\nChange-Id: I677c85b09b6e656b3ac1f938a4bd6bc7daae1755\n'}]",4,146129,82de366b75d9782ce7b35fb90e9b2b60d4cff61d,47,6,7,360,,,0,"Puppet: Swift Storage node support

This patch implements the required changes to configure
swift storage nodes via Puppet. Similar to the overcloud
we generate the rings on each node (with the same seed).

Change-Id: I677c85b09b6e656b3ac1f938a4bd6bc7daae1755
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/146129/5 && git format-patch -1 --stdout FETCH_HEAD,"['swift-storage-puppet.yaml', 'overcloud-resource-registry-puppet.yaml', 'puppet/overcloud_storage.pp']",3,037ef79ed6119aa83b3f887e62ac47db4f121676,puppet,"# Copyright 2015 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. include ::swift class {'swift::storage::all': mount_check => str2bool(hiera('swift_mount_check')) } if(!defined(File['/srv/node'])) { file { '/srv/node': ensure => directory, owner => 'swift', group => 'swift', require => Package['openstack-swift'], } } $swift_components = ['account', 'container', 'object'] swift::storage::filter::recon { $swift_components : } swift::storage::filter::healthcheck { $swift_components : } ",,210,1
openstack%2Ffuel-web~master~I317345108b4d44c455172205911d5bd3ea54d0eb,openstack/fuel-web,master,I317345108b4d44c455172205911d5bd3ea54d0eb,Descriptions for Glance backend selection added,MERGED,2015-02-03 13:00:50.000000000,2015-02-03 15:10:14.000000000,2015-02-03 15:10:13.000000000,"[{'_account_id': 3}, {'_account_id': 8392}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8935}, {'_account_id': 8971}, {'_account_id': 12141}, {'_account_id': 12199}, {'_account_id': 14840}]","[{'number': 1, 'created': '2015-02-03 13:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/b0593c29e7445ce80a2fac695937f0d3ff150638', 'message': 'Descriptions for Glance backend selection added.\n\nChange-Id: I317345108b4d44c455172205911d5bd3ea54d0eb\n'}, {'number': 2, 'created': '2015-02-03 13:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/32e43030e860d83f9fe9ebc12b8ed4f3a60e3707', 'message': 'Descriptions for Glance backend selection added\n\nChange-Id: I317345108b4d44c455172205911d5bd3ea54d0eb\n'}, {'number': 3, 'created': '2015-02-03 14:41:41.000000000', 'files': ['nailgun/nailgun/fixtures/openstack.yaml'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/62dd62897850795fa35d2f359cf4f310d33f65c5', 'message': 'Descriptions for Glance backend selection added\n\nChange-Id: I317345108b4d44c455172205911d5bd3ea54d0eb\n'}]",3,152502,62dd62897850795fa35d2f359cf4f310d33f65c5,27,9,3,14840,,,0,"Descriptions for Glance backend selection added

Change-Id: I317345108b4d44c455172205911d5bd3ea54d0eb
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/02/152502/1 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/nailgun/fixtures/openstack.yaml'],1,b0593c29e7445ce80a2fac695937f0d3ff150638,warning_txt_fix," message: ""Only one Glance backend could be selected."" - condition: ""settings:storage.images_ceph.value == true"" message: ""Only one Glance backend could be selected.""",,3,0
openstack%2Ftripleo-heat-templates~master~Id1272f796e2507a7357309e8cd6a51ad9e0160af,openstack/tripleo-heat-templates,master,Id1272f796e2507a7357309e8cd6a51ad9e0160af,Puppet: Swift Overcloud Proxy/Storage support,MERGED,2015-01-08 15:20:44.000000000,2015-02-03 15:10:05.000000000,2015-02-03 15:10:05.000000000,"[{'_account_id': 3}, {'_account_id': 330}, {'_account_id': 360}, {'_account_id': 597}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 7144}, {'_account_id': 7585}]","[{'number': 1, 'created': '2015-01-08 15:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f3c1b8a5fc0be9d28f15d75368aeb220530f6776', 'message': ""Puppet: Swift Overcloud Proxy/Storage support\n\nThis patch adds support for a Swift proxy and storage\nnode on the controller.\n\nThe implementation is fairly straightforward with the\nexception of building the ring. I've followed an\nupstream TripleO model here where we build the\nactual ring on each node (rather than build once\nand rsync). This works because Heat will always\nknow all the devices ahead of time.\n\nFor now the ringbuilder logic is executed as a seperate\nHeat software deployment. On the controller the ring\nis executed in between the base service (mysql/rabbit)\nand OpenStack service steps. This is to ensure the\nring exists before the Swift proxy is started.\nHaving the ringbuilder.pp logic as a separate software\nconfig should allow us to reuse it for the Storage\nnode role.\n\nIt should also be noted that swift.zones support is\nadded here but we are missing an upstream Heat\ntemplate change in order for it to be wired\nin properly. See: I0e0f5189da1575f2e1ed7fba4bbbe13a8fbf6221\n\nLikewise we need to properly wire in SwiftRingBuild as well.\nSee: I01311ec3ca265b151f8740bf7dc57cdf0cf0df6f\nThe underlying puppet ringbuilder code is already wired\nto support this change when it lands.\n\nAs is this works today and will provide a working Overcloud\nSwift-proxy/storage node config. Will follow this up with\na related Swift storage node patch which should allow\npuppet to be used for configuration on the storage nodes\nas well...\n\nChange-Id: Id1272f796e2507a7357309e8cd6a51ad9e0160af\n""}, {'number': 2, 'created': '2015-01-09 16:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5431c361f6cd62f8e1c600c1dbb292f86549b117', 'message': ""Puppet: Swift Overcloud Proxy/Storage support\n\nThis patch adds support for a Swift proxy and storage\nnode on the controller.\n\nThe implementation is fairly straightforward with the\nexception of building the ring. I've followed an\nupstream TripleO model here where we build the\nactual ring on each node (rather than build once\nand rsync). This works because Heat will always\nknow all the devices ahead of time. In the future\nwhen we have Heat breakpoints it might be possible\nto consider optimizing this by generating the ring\nonce and then rsyncing to all the nodes.\n\nThe ringbuilder logic is executed as a seperate\nHeat software deployment. On the controller the ring\nis executed in between the base service (mysql/rabbit)\nand OpenStack service steps. This is to ensure the\nring exists before the Swift proxy is started.\nHaving the ringbuilder.pp logic as a separate software\nconfig should allow us to reuse it for the Storage\nnode role.\n\nIt should also be noted that swift.zones support is\nadded here but we are missing an upstream Heat\ntemplate change in order for it to be wired\nin properly. See: I0e0f5189da1575f2e1ed7fba4bbbe13a8fbf6221\n\nLikewise we need to properly wire in SwiftRingBuild as well.\nSee: I01311ec3ca265b151f8740bf7dc57cdf0cf0df6f\nThe underlying puppet ringbuilder code is already wired\nto support this change when it lands.\n\nAs is this works today and will provide a working Overcloud\nSwift-proxy/storage node config. Will follow this up with\na related Swift storage node patch which should allow\npuppet to be used for configuration on the storage nodes\nas well...\n\nChange-Id: Id1272f796e2507a7357309e8cd6a51ad9e0160af\n""}, {'number': 3, 'created': '2015-01-09 22:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d1e3eba2200b8d31896a42fd30ef12887b103089', 'message': ""Puppet: Swift Overcloud Proxy/Storage support\n\nThis patch adds support for a Swift proxy and storage\nnode on the controller.\n\nThe implementation is fairly straightforward with the\nexception of building the ring. I've followed an\nupstream TripleO model here where we build the\nactual ring on each node (rather than build once\nand rsync). This works because Heat will always\nknow all the devices ahead of time. In the future\nwhen we have Heat breakpoints it might be possible\nto consider optimizing this by generating the ring\nonce and then rsyncing to all the nodes.\n\nThe ringbuilder logic is executed as a seperate\nHeat software deployment. On the controller the ring\nis executed in between the base service (mysql/rabbit)\nand OpenStack service steps. This is to ensure the\nring exists before the Swift proxy is started.\nHaving the ringbuilder.pp logic as a separate software\nconfig should allow us to reuse it for the Storage\nnode role.\n\nIt should also be noted that swift.zones support is\nadded here but we are missing an upstream Heat\ntemplate change in order for it to be wired\nin properly. See: I0e0f5189da1575f2e1ed7fba4bbbe13a8fbf6221\n\nLikewise we need to properly wire in SwiftRingBuild as well.\nSee: I01311ec3ca265b151f8740bf7dc57cdf0cf0df6f\nThe underlying puppet ringbuilder code is already wired\nto support this change when it lands.\n\nAs is this works today and will provide a working Overcloud\nSwift-proxy/storage node config. Will follow this up with\na related Swift storage node patch which should allow\npuppet to be used for configuration on the storage nodes\nas well...\n\nChange-Id: Id1272f796e2507a7357309e8cd6a51ad9e0160af\n""}, {'number': 4, 'created': '2015-01-14 22:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/848806a07176fd12ef78bb7f5657376958b1d9d3', 'message': ""Puppet: Swift Overcloud Proxy/Storage support\n\nThis patch adds support for a Swift proxy and storage\nnode on the controller.\n\nThe implementation is fairly straightforward with the\nexception of building the ring. I've followed an\nupstream TripleO model here where we build the\nactual ring on each node (rather than build once\nand rsync). This works because Heat will always\nknow all the devices ahead of time. In the future\nwhen we have Heat breakpoints it might be possible\nto consider optimizing this by generating the ring\nonce and then rsyncing to all the nodes.\n\nThe ringbuilder logic is executed as a seperate\nHeat software deployment. On the controller the ring\nis executed in between the base service (mysql/rabbit)\nand OpenStack service steps. This is to ensure the\nring exists before the Swift proxy is started.\nHaving the ringbuilder.pp logic as a separate software\nconfig should allow us to reuse it for the Storage\nnode role.\n\nIt should also be noted that swift.zones support is\nadded here but we are missing an upstream Heat\ntemplate change in order for it to be wired\nin properly. See: I0e0f5189da1575f2e1ed7fba4bbbe13a8fbf6221\n\nLikewise we need to properly wire in SwiftRingBuild as well.\nSee: I01311ec3ca265b151f8740bf7dc57cdf0cf0df6f\nThe underlying puppet ringbuilder code is already wired\nto support this change when it lands.\n\nAs is this works today and will provide a working Overcloud\nSwift-proxy/storage node config. Will follow this up with\na related Swift storage node patch which should allow\npuppet to be used for configuration on the storage nodes\nas well...\n\nChange-Id: Id1272f796e2507a7357309e8cd6a51ad9e0160af\n""}, {'number': 5, 'created': '2015-01-19 13:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/880987dd1ff2d78c515906941893920f1aa7fe7a', 'message': ""Puppet: Swift Overcloud Proxy/Storage support\n\nThis patch adds support for a Swift proxy and storage\nnode on the controller.\n\nThe implementation is fairly straightforward with the\nexception of building the ring. I've followed an\nupstream TripleO model here where we build the\nactual ring on each node (rather than build once\nand rsync). This works because Heat will always\nknow all the devices ahead of time. In the future\nwhen we have Heat breakpoints it might be possible\nto consider optimizing this by generating the ring\nonce and then rsyncing to all the nodes.\n\nThe ringbuilder logic is executed as a seperate\nHeat software deployment. On the controller the ring\nis executed in between the base service (mysql/rabbit)\nand OpenStack service steps. This is to ensure the\nring exists before the Swift proxy is started.\nHaving the ringbuilder.pp logic as a separate software\nconfig should allow us to reuse it for the Storage\nnode role.\n\nIt should also be noted that swift.zones support is\nadded here but we are missing an upstream Heat\ntemplate change in order for it to be wired\nin properly. See: I0e0f5189da1575f2e1ed7fba4bbbe13a8fbf6221\n\nLikewise we need to properly wire in SwiftRingBuild as well.\nSee: I01311ec3ca265b151f8740bf7dc57cdf0cf0df6f\nThe underlying puppet ringbuilder code is already wired\nto support this change when it lands.\n\nAs is this works today and will provide a working Overcloud\nSwift-proxy/storage node config. Will follow this up with\na related Swift storage node patch which should allow\npuppet to be used for configuration on the storage nodes\nas well...\n\nChange-Id: Id1272f796e2507a7357309e8cd6a51ad9e0160af\n""}, {'number': 6, 'created': '2015-01-27 14:07:30.000000000', 'files': ['puppet/hieradata/object.yaml', 'puppet/ringbuilder.pp', 'puppet/overcloud_controller.pp', 'puppet/hieradata/common.yaml', 'puppet/hieradata/controller.yaml', 'controller-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/65d64b6a52366f36955e5e48a29f4ef0ca2ff973', 'message': ""Puppet: Swift Overcloud Proxy/Storage support\n\nThis patch adds support for a Swift proxy and storage\nnode on the controller.\n\nThe implementation is fairly straightforward with the\nexception of building the ring. I've followed an\nupstream TripleO model here where we build the\nactual ring on each node (rather than build once\nand rsync). This works because Heat will always\nknow all the devices ahead of time. In the future\nwhen we have Heat breakpoints it might be possible\nto consider optimizing this by generating the ring\nonce and then rsyncing to all the nodes.\n\nThe ringbuilder logic is executed as a seperate\nHeat software deployment. On the controller the ring\nis executed in between the base service (mysql/rabbit)\nand OpenStack service steps. This is to ensure the\nring exists before the Swift proxy is started.\nHaving the ringbuilder.pp logic as a separate software\nconfig should allow us to reuse it for the Storage\nnode role.\n\nIt should also be noted that swift.zones support is\nadded here but we are missing an upstream Heat\ntemplate change in order for it to be wired\nin properly. See: I0e0f5189da1575f2e1ed7fba4bbbe13a8fbf6221\n\nLikewise we need to properly wire in SwiftRingBuild as well.\nSee: I01311ec3ca265b151f8740bf7dc57cdf0cf0df6f\nThe underlying puppet ringbuilder code is already wired\nto support this change when it lands.\n\nAs is this works today and will provide a working Overcloud\nSwift-proxy/storage node config. Will follow this up with\na related Swift storage node patch which should allow\npuppet to be used for configuration on the storage nodes\nas well...\n\nChange-Id: Id1272f796e2507a7357309e8cd6a51ad9e0160af\n""}]",7,145809,65d64b6a52366f36955e5e48a29f4ef0ca2ff973,52,8,6,360,,,0,"Puppet: Swift Overcloud Proxy/Storage support

This patch adds support for a Swift proxy and storage
node on the controller.

The implementation is fairly straightforward with the
exception of building the ring. I've followed an
upstream TripleO model here where we build the
actual ring on each node (rather than build once
and rsync). This works because Heat will always
know all the devices ahead of time. In the future
when we have Heat breakpoints it might be possible
to consider optimizing this by generating the ring
once and then rsyncing to all the nodes.

The ringbuilder logic is executed as a seperate
Heat software deployment. On the controller the ring
is executed in between the base service (mysql/rabbit)
and OpenStack service steps. This is to ensure the
ring exists before the Swift proxy is started.
Having the ringbuilder.pp logic as a separate software
config should allow us to reuse it for the Storage
node role.

It should also be noted that swift.zones support is
added here but we are missing an upstream Heat
template change in order for it to be wired
in properly. See: I0e0f5189da1575f2e1ed7fba4bbbe13a8fbf6221

Likewise we need to properly wire in SwiftRingBuild as well.
See: I01311ec3ca265b151f8740bf7dc57cdf0cf0df6f
The underlying puppet ringbuilder code is already wired
to support this change when it lands.

As is this works today and will provide a working Overcloud
Swift-proxy/storage node config. Will follow this up with
a related Swift storage node patch which should allow
puppet to be used for configuration on the storage nodes
as well...

Change-Id: Id1272f796e2507a7357309e8cd6a51ad9e0160af
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/09/145809/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/ringbuilder.pp', 'puppet/overcloud_controller.pp', 'controller-config-puppet.yaml', 'puppet/hieradata/controller.yaml']",4,f3c1b8a5fc0be9d28f15d75368aeb220530f6776,puppet,swift::proxy::authtoken::admin_tenant_name: 'service' #swift ssh::server::storeconfigs_enabled: false swift::proxy::pipeline: - 'catch_errors' - 'healthcheck' - 'cache' - 'ratelimit' - 'tempurl' - 'formpost' - 'staticweb' - 'authtoken' - 'keystone' - 'proxy-logging' - 'proxy-server' swift::proxy::account_autocreate: true,,175,3
openstack%2Foslo-incubator~stable%2Fjuno~I2528731d094e07bf13b8190a61ceeb024b32f607,openstack/oslo-incubator,stable/juno,I2528731d094e07bf13b8190a61ceeb024b32f607,Move instantiation of the Syslog handler,MERGED,2015-02-03 09:31:47.000000000,2015-02-03 14:55:07.000000000,2015-02-03 14:55:06.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 6926}, {'_account_id': 6983}]","[{'number': 1, 'created': '2015-02-03 09:31:47.000000000', 'files': ['openstack/common/log.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/55ea9c74ea93958b447e0d540afb4264baa46bcf', 'message': 'Move instantiation of the Syslog handler\n\nMove the creation of the Syslog handler before setting up the log\nformatter and the log level. The issue has been introduced when fixing\nbug #1328501.\n\nChange-Id: I2528731d094e07bf13b8190a61ceeb024b32f607\nCloses-Bug: 1399088\n'}]",0,152438,55ea9c74ea93958b447e0d540afb4264baa46bcf,11,6,1,6794,,,0,"Move instantiation of the Syslog handler

Move the creation of the Syslog handler before setting up the log
formatter and the log level. The issue has been introduced when fixing
bug #1328501.

Change-Id: I2528731d094e07bf13b8190a61ceeb024b32f607
Closes-Bug: 1399088
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/38/152438/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/common/log.py'],1,55ea9c74ea93958b447e0d540afb4264baa46bcf,bug/1328501, if CONF.use_syslog: try: facility = _find_facility_from_conf() # TODO(bogdando) use the format provided by RFCSysLogHandler # after existing syslog format deprecation in J if CONF.use_syslog_rfc_format: syslog = RFCSysLogHandler(facility=facility) else: syslog = logging.handlers.SysLogHandler(facility=facility) log_root.addHandler(syslog) except socket.error: log_root.error('Unable to add syslog handler. Verify that syslog' 'is running.') , if CONF.use_syslog: try: facility = _find_facility_from_conf() # TODO(bogdando) use the format provided by RFCSysLogHandler # after existing syslog format deprecation in J if CONF.use_syslog_rfc_format: syslog = RFCSysLogHandler(facility=facility) else: syslog = logging.handlers.SysLogHandler(facility=facility) log_root.addHandler(syslog) except socket.error: log_root.error('Unable to add syslog handler. Verify that syslog' 'is running.') ,14,14
openstack%2Ffuel-library~master~I0d97a7fdb696c9208cbd5ba8a9ae7851f52f6357,openstack/fuel-library,master,I0d97a7fdb696c9208cbd5ba8a9ae7851f52f6357,New post-deploy task for astute for multi HV support,ABANDONED,2015-02-03 11:38:37.000000000,2015-02-03 14:51:37.000000000,,"[{'_account_id': 3}, {'_account_id': 8776}, {'_account_id': 8935}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 11427}, {'_account_id': 12139}, {'_account_id': 14167}]","[{'number': 1, 'created': '2015-02-03 11:38:37.000000000', 'files': ['deployment/puppet/osnailyfacter/modular/astute/vcenter_compute_zones.py'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/e6a21ac505f8344d6101085405ad748717a97074', 'message': 'New post-deploy task for astute for multi HV support\n\nThis task creates needed availability zones and puts coresponding compute\nservices in corresponding availability zones according to vcenter settings\nin astute.yaml\n\nChange-Id: I0d97a7fdb696c9208cbd5ba8a9ae7851f52f6357\nImplements: blueprint vmware-dual-hypervisor\n'}]",9,152479,e6a21ac505f8344d6101085405ad748717a97074,12,8,1,12139,,,0,"New post-deploy task for astute for multi HV support

This task creates needed availability zones and puts coresponding compute
services in corresponding availability zones according to vcenter settings
in astute.yaml

Change-Id: I0d97a7fdb696c9208cbd5ba8a9ae7851f52f6357
Implements: blueprint vmware-dual-hypervisor
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/79/152479/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/osnailyfacter/modular/astute/vcenter_compute_zones.py'],1,e6a21ac505f8344d6101085405ad748717a97074,bp/vmware-dual-hypervisor,"#!/usr/bin/python import os import sys import json from novaclient.client import Client def get_data_from_hiera(key): data = os.popen(""hiera "" + key).read().replace('=>', ':') try: data = json.loads(data) except: pass return data def check_availability_zones(nova_client, compute): nova_zones = nova_client.availability_zones.list() nova_aggregates = nova_client.aggregates.list() compute_zone = compute['availability_zone_name'] a = next((az for az in nova_zones if az.to_dict()['zoneName'] == compute_zone), None) b = next((az for az in nova_aggregates if az.to_dict()['availability_zone'] == compute_zone), None) if a is None and b is None: print ""Zone "" + compute_zone + "" is missing, create it."" nova_client.aggregates.create(compute_zone, compute_zone) else: print ""Zone "" + compute_zone + "" already present."" def check_host_in_zone(nova_client, compute): nova_zones = nova_client.availability_zones.list() compute_host = compute['availability_zone_name'] + ""-"" + \ compute['service_name'] c = next((az for az in nova_zones if compute_host in az.to_dict()['hosts']), None) if c is None: print ""Compute service "" + compute['service_name'] + "" not in "" + \ compute['availability_zone_name'] + "" zone. "" + ""Adding."" nova_client.aggregates.add_host(compute['availability_zone_name'], compute_host) else: print ""Compute service "" + compute['service_name'] + "" already in "" + \ compute['availability_zone_name'] + "" zone."" use_vcenter = get_data_from_hiera('use_vcenter') if use_vcenter is not True: sys.exit(0) VERSION = 2 USERNAME = os.environ.get('OS_USERNAME') PASSWORD = os.environ.get('OS_PASSWORD') PROJECT_ID = os.environ.get('OS_TENANT_NAME') AUTH_URL = os.environ.get('OS_AUTH_URL') nova = Client(VERSION, USERNAME, PASSWORD, PROJECT_ID, AUTH_URL) vcenter_settings = get_data_from_hiera('vcenter') for compute in vcenter_settings['computes']: print ""---Start of Compute service "" + compute['service_name'] + \ "" zone creation.---"" check_availability_zones(nova, compute) check_host_in_zone(nova, compute) print ""----End of Compute service "" + compute['service_name'] + ""----\n"" ",,65,0
openstack%2Fceilometer~master~Ie770e58b3b9643d07f14cec350235356a0b07b34,openstack/ceilometer,master,Ie770e58b3b9643d07f14cec350235356a0b07b34,add listener to pick up notification from ceilometermiddleware,MERGED,2015-01-30 19:38:06.000000000,2015-02-03 14:50:26.000000000,2015-02-03 14:50:24.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2284}, {'_account_id': 7052}, {'_account_id': 7729}, {'_account_id': 9562}, {'_account_id': 10987}, {'_account_id': 11564}]","[{'number': 1, 'created': '2015-01-30 19:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/447ed0c553bf675d8ccf4a8c311b0bae1ef2c797', 'message': 'add listener to pick up notification from ceilometermiddleware\n\nthis patch add listener to create sample/events from new\nceilometermiddleware event.\n\nChange-Id: Ie770e58b3b9643d07f14cec350235356a0b07b34\nImplements: blueprint ceilometermiddleware\n'}, {'number': 2, 'created': '2015-01-31 18:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/914a53fd7549c57e90a1af7723831002f800bc87', 'message': 'add listener to pick up notification from ceilometermiddleware\n\nthis patch add listener to create sample/events from new\nceilometermiddleware event.\n\nChange-Id: Ie770e58b3b9643d07f14cec350235356a0b07b34\nImplements: blueprint ceilometermiddleware\n'}, {'number': 3, 'created': '2015-02-03 12:50:27.000000000', 'files': ['ceilometer/objectstore/notifications.py', 'etc/ceilometer/event_definitions.yaml', 'ceilometer/tests/objectstore/test_notifications.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d2af9a72d5bd7c50192069122f70257789a899ed', 'message': 'add listener to pick up notification from ceilometermiddleware\n\nthis patch add listener to create sample/events from new\nceilometermiddleware event.\n\nChange-Id: Ie770e58b3b9643d07f14cec350235356a0b07b34\nImplements: blueprint ceilometermiddleware\n'}]",4,151744,d2af9a72d5bd7c50192069122f70257789a899ed,21,8,3,6537,,,0,"add listener to pick up notification from ceilometermiddleware

this patch add listener to create sample/events from new
ceilometermiddleware event.

Change-Id: Ie770e58b3b9643d07f14cec350235356a0b07b34
Implements: blueprint ceilometermiddleware
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/44/151744/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/objectstore/notifications.py', 'etc/ceilometer/event_definitions.yaml', 'ceilometer/tests/objectstore/test_notifications.py']",3,447ed0c553bf675d8ccf4a8c311b0bae1ef2c797,bp/ceilometermiddleware,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Tests for swift notification events."""""" import mock from ceilometer.objectstore import notifications from ceilometer.tests import base as test MIDDLEWARE_EVENT = { u'_context_request_id': u'req-a8bfa89b-d28b-4b95-9e4b-7d7875275650', u'_context_quota_class': None, u'event_type': u'objectstore.http.request', u'_context_service_catalog': [], u'_context_auth_token': None, u'_context_user_id': None, u'priority': u'INFO', u'_context_is_admin': True, u'_context_user': None, u'publisher_id': u'ceilometermiddleware', u'message_id': u'6eccedba-120e-4db8-9735-2ad5f061e5ee', u'_context_remote_address': None, u'_context_roles': [], u'timestamp': u'2013-07-29 06:51:34.474815', u'_context_timestamp': u'2013-07-29T06:51:34.348091', u'_unique_id': u'0ee26117077648e18d88ac76e28a72e2', u'_context_project_name': None, u'_context_read_deleted': u'no', u'_context_tenant': None, u'_context_instance_lock_checked': False, u'_context_project_id': None, u'_context_user_name': None, u'payload': { 'typeURI': 'http: //schemas.dmtf.org/cloud/audit/1.0/event', 'eventTime': '2015-01-30T16: 38: 43.233621', 'target': { 'action': 'get', 'typeURI': 'service/storage/object', 'id': 'account', 'metadata': { 'path': '/1.0/CUSTOM_account/container/obj', 'version': '1.0', 'container': 'container', 'object': 'obj' } }, 'observer': { 'id': 'target' }, 'eventType': 'activity', 'measurements': [ { 'metric': { 'metricId': 'openstack: uuid', 'name': 'storage.objects.outgoing.bytes', 'unit': 'B' }, 'result': 28 }, { 'metric': { 'metricId': 'openstack: uuid2', 'name': 'storage.objects.incoming.bytes', 'unit': 'B' }, 'result': 1 } ], 'initiator': { 'typeURI': 'service/security/account/user', 'project_id': None, 'id': 'openstack: 288f6260-bf37-4737-a178-5038c84ba244' }, 'action': 'read', 'outcome': 'success', 'id': 'openstack: 69972bb6-14dd-46e4-bdaf-3148014363dc' } } class TestMiddlewareNotifications(test.BaseTestCase): def test_middleware_event(self): v = notifications.SwiftWsgiMiddleware(mock.Mock()) samples = list(v.process_notification(MIDDLEWARE_EVENT)) self.assertEqual(3, len(samples)) for i in range(2): measure = MIDDLEWARE_EVENT['payload']['measurements'][i] self.assertEqual(measure['metric']['name'], samples[i].name) self.assertEqual(measure['metric']['unit'], samples[i].unit) self.assertEqual(measure['result'], samples[i].volume) target = MIDDLEWARE_EVENT['payload']['target'] initiator = MIDDLEWARE_EVENT['payload']['initiator'] for i in range(3): self.assertEqual(target['id'], samples[i].resource_id) self.assertEqual(initiator['id'], samples[i].user_id) self.assertEqual(initiator['project_id'], samples[i].project_id) ",,215,0
openstack%2Fopenstack-manuals~master~I70e1232b41c51b0efb6249f93ad8e006f0f57f4a,openstack/openstack-manuals,master,I70e1232b41c51b0efb6249f93ad8e006f0f57f4a,Use correct service name,MERGED,2015-02-03 14:06:02.000000000,2015-02-03 14:48:26.000000000,2015-02-03 14:48:25.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 12402}]","[{'number': 1, 'created': '2015-02-03 14:06:02.000000000', 'files': ['doc/install-guide/section_glance-install.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1a9e1a2f971bd1007bda45f2d8936ccd1d1e33f4', 'message': ""Use correct service name\n\nUpdate patch #151729 to use 'Image Service' instead of 'glance'\nfor service name.\n\nChange-Id: I70e1232b41c51b0efb6249f93ad8e006f0f57f4a\nCloses-Bug: #1404956\nbackport: juno\n""}]",0,152521,1a9e1a2f971bd1007bda45f2d8936ccd1d1e33f4,7,3,1,9515,,,0,"Use correct service name

Update patch #151729 to use 'Image Service' instead of 'glance'
for service name.

Change-Id: I70e1232b41c51b0efb6249f93ad8e006f0f57f4a
Closes-Bug: #1404956
backport: juno
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/21/152521/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/section_glance-install.xml'],1,1a9e1a2f971bd1007bda45f2d8936ccd1d1e33f4,bug/1404956, <para>The Telemetry chapter provides an Image Service configuration that enables notifications.</para> <para>The Telemetry chapter provides an Image Service configuration that enables notifications.</para>, <para>The Telemetry chapter provides a glance configuration that enables notifications.</para> <para>The Telemetry chapter provides a glance configuration that enables notifications.</para>,4,4
openstack%2Foslo.log~master~I3330e3b6e44ea697d8e3dbbfe5817eb1f1df4c67,openstack/oslo.log,master,I3330e3b6e44ea697d8e3dbbfe5817eb1f1df4c67,Sync latest run_cross_tests.sh,ABANDONED,2015-01-14 14:29:16.000000000,2015-02-03 14:48:23.000000000,,"[{'_account_id': 3}, {'_account_id': 9397}]","[{'number': 1, 'created': '2015-01-14 14:29:16.000000000', 'files': ['tools/run_cross_tests.sh'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/6c88136d59630ce42feb394ccd35d8fc964775b9', 'message': 'Sync latest run_cross_tests.sh\n\nBring in the changes to let us specify positional arguments and to\nignore errors if the library is not installed.\n\nChange-Id: I3330e3b6e44ea697d8e3dbbfe5817eb1f1df4c67\n'}]",0,147177,6c88136d59630ce42feb394ccd35d8fc964775b9,4,2,1,2472,,,0,"Sync latest run_cross_tests.sh

Bring in the changes to let us specify positional arguments and to
ignore errors if the library is not installed.

Change-Id: I3330e3b6e44ea697d8e3dbbfe5817eb1f1df4c67
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/77/147177/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/run_cross_tests.sh'],1,6c88136d59630ce42feb394ccd35d8fc964775b9,sync-run-cross-test,"shift venv=""$1"" shift posargs=""$*"" $0 PROJECT_DIR VIRTUAL_ENV [POSARGS] $0 /opt/stack/nova py27 xenapi# Build the egg-info, including the source file list, # so we install all of the files, even if the package # list or name has changed. python setup.py egg_info $tox_envbin/pip uninstall -y $our_name || echo ""Ignoring error""(cd $project_dir && tox -e $venv -- $posargs)","venv=""$2"" $0 PROJECT_DIR VIRTUAL_ENV $tox_envbin/pip uninstall -y $our_name(cd $project_dir && tox -e $venv)",13,4
openstack%2Fopenstack-manuals~master~I8b9551ec9954927aa232cc78a1c4686cc33911dc,openstack/openstack-manuals,master,I8b9551ec9954927aa232cc78a1c4686cc33911dc,Build Simplified Chinese Guides,MERGED,2015-01-26 09:10:24.000000000,2015-02-03 14:48:18.000000000,2015-02-03 14:48:17.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 612}, {'_account_id': 964}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-01-26 09:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/55ac9db9dcd89f9c7d092798edbaebb260553374', 'message': 'Build Chinese Architecture Design Guide\n\nAdd new Chinese Guides also to drafts page for now.\n\nNote that common is not translated, so the book is not fully translated.\n\nChange-Id: I8b9551ec9954927aa232cc78a1c4686cc33911dc\n'}, {'number': 2, 'created': '2015-01-26 09:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/7332b5b96ea010126e8a87fcd9b163eb8d4fd569', 'message': 'Build Chinese Architecture Design Guide\n\nAdd new Chinese Guides also to drafts page for now.\n\nNote that common is not translated, so the book is not fully translated.\n\nChange-Id: I8b9551ec9954927aa232cc78a1c4686cc33911dc\n'}, {'number': 3, 'created': '2015-01-27 14:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/3ada348d59aeb8f1ce307fd1739b417bc96016b7', 'message': 'WIP: Build Chinese Guides\n\nBuild Chinese Guides and add them also to drafts page for\nevaluation.\n\nNote that common is not translated, so the book is not fully translated,\nthis currently fails building.\n\nChange-Id: I8b9551ec9954927aa232cc78a1c4686cc33911dc\n'}, {'number': 4, 'created': '2015-01-27 19:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ada0f8d585a058888916979584240d7e1a323792', 'message': 'WIP: Build Simplified Chinese Guides\n\nBuild Simplied Chinese Guides and add them also to drafts page for\nevaluation.\n\nNote that common is not translated, so the book is not fully translated,\nthis currently fails building.\n\nChange-Id: I8b9551ec9954927aa232cc78a1c4686cc33911dc\n'}, {'number': 5, 'created': '2015-02-01 06:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/b8e2d987f98355eca81eccc71481d9e04720569a', 'message': 'WIP: Build Simplified Chinese Guides\n\nBuild Simplied Chinese Guides and add them also to drafts page for\nevaluation.\n\nNote that common is not translated, so the book is not fully translated,\nthis currently fails building.\n\nChange-Id: I8b9551ec9954927aa232cc78a1c4686cc33911dc\n'}, {'number': 6, 'created': '2015-02-01 06:44:15.000000000', 'files': ['www/draft-i18n-manuals.html', 'doc-tools-check-languages.conf'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/0f0489d3778788df598c3e8cd711ae03d532c62d', 'message': 'Build Simplified Chinese Guides\n\nBuild Simplied Chinese Guides and add them also to drafts page for\nevaluation.\n\n\nChange-Id: I8b9551ec9954927aa232cc78a1c4686cc33911dc\n'}]",0,149950,0f0489d3778788df598c3e8cd711ae03d532c62d,23,5,6,6547,,,0,"Build Simplified Chinese Guides

Build Simplied Chinese Guides and add them also to drafts page for
evaluation.


Change-Id: I8b9551ec9954927aa232cc78a1c4686cc33911dc
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/50/149950/4 && git format-patch -1 --stdout FETCH_HEAD,['doc-tools-check-languages.conf'],1,55ac9db9dcd89f9c7d092798edbaebb260553374,zh_CN-arch-design," [""zh_CN""]=""common glossary arch-design"" [""ja""]=""common glossary image-guide install-guide user-guide user-guide-admin"" [""zh_CN""]=""arch-design"" [""ja""]=""image-guide install-guide user-guide user-guide-admin"""," [""ja""]=""common glossary image-guide install-guide user-guide user-guide-admin"" [""ja""]=""image-guide install-guide user-guide user-guide-admin""",4,2
openstack%2Fopenstack-ansible~juno~Icdf251532774a2b79ae029f1b3729090f4eebba6,openstack/openstack-ansible,juno,Icdf251532774a2b79ae029f1b3729090f4eebba6,Specify filename for horizon config file,MERGED,2015-02-03 10:34:32.000000000,2015-02-03 14:48:12.000000000,2015-02-03 11:19:55.000000000,"[{'_account_id': 3}, {'_account_id': 7217}, {'_account_id': 7307}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-02-03 10:34:32.000000000', 'files': ['rpc_deployment/roles/horizon_apache/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/32ef0e24873b1b36e1ec738726e0939fd3489b4d', 'message': 'Specify filename for horizon config file\n\nChange-Id: Icdf251532774a2b79ae029f1b3729090f4eebba6\nCloses-Bug: #1413585\n(cherry picked from commit 7688df8d10905054098c92d13a9690bd9f692447)\n'}]",0,152455,32ef0e24873b1b36e1ec738726e0939fd3489b4d,7,4,1,6816,,,0,"Specify filename for horizon config file

Change-Id: Icdf251532774a2b79ae029f1b3729090f4eebba6
Closes-Bug: #1413585
(cherry picked from commit 7688df8d10905054098c92d13a9690bd9f692447)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/55/152455/1 && git format-patch -1 --stdout FETCH_HEAD,['rpc_deployment/roles/horizon_apache/tasks/main.yml'],1,32ef0e24873b1b36e1ec738726e0939fd3489b4d,," dest: ""/etc/apache2/sites-available/openstack-dashboard.conf"""," dest: ""/etc/apache2/sites-available""",1,1
openstack%2Fgnocchi~master~If206ece26e0b9f237548007cefd5cb45ad35b657,openstack/gnocchi,master,If206ece26e0b9f237548007cefd5cb45ad35b657,Update oslo-incubator,MERGED,2015-02-03 12:20:21.000000000,2015-02-03 14:40:49.000000000,2015-02-03 14:40:47.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 7729}, {'_account_id': 10987}]","[{'number': 1, 'created': '2015-02-03 12:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/86e8839f3dab8404a3f9dae3d1d6a4a048b89b49', 'message': 'Update oslo-incubator\n\nChange-Id: If206ece26e0b9f237548007cefd5cb45ad35b657\n'}, {'number': 2, 'created': '2015-02-03 12:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/eb17561ac1b2db0b6391a75a3e29944dfe11815e', 'message': 'Update oslo-incubator\n\nChange-Id: If206ece26e0b9f237548007cefd5cb45ad35b657\n'}, {'number': 3, 'created': '2015-02-03 12:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/7685124ed266ce6754d19571527fd7f8f7df13e0', 'message': 'Update oslo-incubator\n\nChange-Id: If206ece26e0b9f237548007cefd5cb45ad35b657\n'}, {'number': 4, 'created': '2015-02-03 13:38:44.000000000', 'files': ['gnocchi/opts.py', 'gnocchi/openstack/common/fileutils.py', 'gnocchi/rest/app.py', 'gnocchi/tests/base.py', 'gnocchi/openstack/common/local.py', 'gnocchi/service.py', 'tox.ini', 'gnocchi/openstack/common/log.py', 'gnocchi/openstack/common/policy.py'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/3d378f0088203bc4cb880533de9fcf8b2ce1df11', 'message': 'Update oslo-incubator\n\nChange-Id: If206ece26e0b9f237548007cefd5cb45ad35b657\n'}]",0,152491,3d378f0088203bc4cb880533de9fcf8b2ce1df11,14,5,4,1669,,,0,"Update oslo-incubator

Change-Id: If206ece26e0b9f237548007cefd5cb45ad35b657
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/91/152491/3 && git format-patch -1 --stdout FETCH_HEAD,"['gnocchi/openstack/common/fileutils.py', 'gnocchi/opts.py', 'gnocchi/openstack/common/local.py', 'tox.ini', 'gnocchi/openstack/common/log.py', 'gnocchi/openstack/common/policy.py']",6,86e8839f3dab8404a3f9dae3d1d6a4a048b89b49,jd/update-oslo,import logging,from gnocchi.openstack.common import log as logging,7,771
openstack%2Fpython-saharaclient~master~Ibec7dd2713f5f964407acdffa684cb6e9c874c88,openstack/python-saharaclient,master,Ibec7dd2713f5f964407acdffa684cb6e9c874c88,Update apiclient.exceptions oslo-incubator module,MERGED,2015-01-27 13:17:50.000000000,2015-02-03 14:35:11.000000000,2015-02-03 13:25:35.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7125}, {'_account_id': 7213}, {'_account_id': 7555}, {'_account_id': 7710}, {'_account_id': 8091}, {'_account_id': 8411}, {'_account_id': 12038}, {'_account_id': 13953}]","[{'number': 1, 'created': '2015-01-27 13:17:50.000000000', 'files': ['saharaclient/openstack/common/apiclient/exceptions.py'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/47f31b63cee06517cc5f75497cc9e9ac2f1275ed', 'message': 'Update apiclient.exceptions oslo-incubator module\n\nChanges -\n * Prefer delayed %r formatting over explicit repr use\n * Add ConnectionError exception\n\nChange-Id: Ibec7dd2713f5f964407acdffa684cb6e9c874c88\n'}]",0,150410,47f31b63cee06517cc5f75497cc9e9ac2f1275ed,23,10,1,7555,,,0,"Update apiclient.exceptions oslo-incubator module

Changes -
 * Prefer delayed %r formatting over explicit repr use
 * Add ConnectionError exception

Change-Id: Ibec7dd2713f5f964407acdffa684cb6e9c874c88
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/10/150410/1 && git format-patch -1 --stdout FETCH_HEAD,['saharaclient/openstack/common/apiclient/exceptions.py'],1,47f31b63cee06517cc5f75497cc9e9ac2f1275ed,,"class ConnectionError(ClientException):class ConnectionRefused(ConnectionError): """"""Connection refused while trying to connect to API service."""""" pass _(""AuthSystemNotFound: %r"") % auth_system) _(""AmbiguousEndpoints: %r"") % endpoints)","class ConnectionRefused(ClientException): _(""AuthSystemNotFound: %s"") % repr(auth_system)) _(""AmbiguousEndpoints: %s"") % repr(endpoints))",8,3
openstack%2Fopenstack-manuals~master~Iccbea43eea85ad78910f86c81d7f32383c5d4440,openstack/openstack-manuals,master,Iccbea43eea85ad78910f86c81d7f32383c5d4440,Improved ceilometer content,MERGED,2015-01-15 16:24:51.000000000,2015-02-03 14:31:41.000000000,2015-02-03 14:31:39.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 964}, {'_account_id': 6547}, {'_account_id': 6772}, {'_account_id': 7923}, {'_account_id': 9382}, {'_account_id': 9515}, {'_account_id': 12402}, {'_account_id': 14396}]","[{'number': 1, 'created': '2015-01-15 16:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8ea409e312e7d8fb5b051442dbd5666e63f9f940', 'message': 'Improved ceilometer content\n\nChange-Id: Iccbea43eea85ad78910f86c81d7f32383c5d4440\n'}, {'number': 2, 'created': '2015-01-25 15:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1867c247f6cc7a7c0ec91ff30caafabb2bb6bdc1', 'message': 'Improved ceilometer content\n\nChange-Id: Iccbea43eea85ad78910f86c81d7f32383c5d4440\n'}, {'number': 3, 'created': '2015-01-29 19:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/5016545a9dd4dc7f8c4c62c55bf7e1f1a597c52a', 'message': 'Improved ceilometer content\n\nChange-Id: Iccbea43eea85ad78910f86c81d7f32383c5d4440\n'}, {'number': 4, 'created': '2015-01-30 10:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/b3fcca11c754e5da4afb5ae84b574febfe2f4f8d', 'message': 'Improved ceilometer content\n\nCloses-bug: #1403126\n\nChange-Id: Iccbea43eea85ad78910f86c81d7f32383c5d4440\n'}, {'number': 5, 'created': '2015-01-30 10:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/9ff40349c97ef52e6b7949da287c40e629c8bb5f', 'message': 'Improved ceilometer content\n\nCloses-bug: #1405252\n\nChange-Id: Iccbea43eea85ad78910f86c81d7f32383c5d4440\n'}, {'number': 6, 'created': '2015-01-31 08:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/31ca41002a26e9c4c2585204c23dd08154902f00', 'message': 'Improved ceilometer content\n\nCloses-bug: #1405252\n\nChange-Id: Iccbea43eea85ad78910f86c81d7f32383c5d4440\n'}, {'number': 7, 'created': '2015-01-31 22:26:07.000000000', 'files': ['doc/install-guide/section_ceilometer-controller.xml', 'doc/install-guide/section_ceilometer-glance.xml', 'doc/install-guide/section_ceilometer-nova.xml', 'doc/install-guide/section_ceilometer-verify.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f6268ba315ae708b3c30ea6b1189ec9b31159f54', 'message': 'Improved ceilometer content\n\nCloses-bug: #1405252\nCo-Authored-By: Matt Kassawara <mkassawara@gmail.com>\nbackport: juno\n\nChange-Id: Iccbea43eea85ad78910f86c81d7f32383c5d4440\n'}]",11,147574,f6268ba315ae708b3c30ea6b1189ec9b31159f54,37,10,7,14474,,,0,"Improved ceilometer content

Closes-bug: #1405252
Co-Authored-By: Matt Kassawara <mkassawara@gmail.com>
backport: juno

Change-Id: Iccbea43eea85ad78910f86c81d7f32383c5d4440
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/74/147574/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/install-guide/section_ceilometer-controller.xml', 'doc/install-guide/section_ceilometer-glance.xml', 'doc/install-guide/section_ceilometer-nova.xml', 'doc/install-guide/section_ceilometer-verify.xml']",4,8ea409e312e7d8fb5b051442dbd5666e63f9f940,bug#1403126, the access to Telemetry. Some meters might not appear until successful launch of at least one instance:</para>, the access to Telemetry:</para>,18,25
openstack%2Fsecurity-doc~master~Ic360a85bc9e344a7b186df52abe4043c36074e7c,openstack/security-doc,master,Ic360a85bc9e344a7b186df52abe4043c36074e7c,Updated from openstack-manuals,MERGED,2015-02-03 07:58:56.000000000,2015-02-03 14:26:20.000000000,2015-02-03 14:26:19.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-02-03 07:58:56.000000000', 'files': ['glossary/locale/zh_CN.po'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/c8d959943e16dc7cc524eb62171357b4743a7eaf', 'message': 'Updated from openstack-manuals\n\nChange-Id: Ic360a85bc9e344a7b186df52abe4043c36074e7c\n'}]",0,152421,c8d959943e16dc7cc524eb62171357b4743a7eaf,6,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: Ic360a85bc9e344a7b186df52abe4043c36074e7c
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/21/152421/1 && git format-patch -1 --stdout FETCH_HEAD,['glossary/locale/zh_CN.po'],1,c8d959943e16dc7cc524eb62171357b4743a7eaf,openstack/openstack-manuals,"""POT-Creation-Date: 2015-02-03 04:45+0000\n"" ""PO-Revision-Date: 2015-02-02 17:01+0000\n""msgstr ""DHCP""msgstr ""Havana""msgstr ""Icehouse""msgstr ""管理网络""","""POT-Creation-Date: 2015-01-31 17:09+0000\n"" ""PO-Revision-Date: 2015-01-31 21:01+0000\n""msgstr """"msgstr """"msgstr """"msgstr """"",6,6
openstack%2Foperations-guide~master~I4bcb7f8e14e279efd7d5438217704a2a5d04959b,openstack/operations-guide,master,I4bcb7f8e14e279efd7d5438217704a2a5d04959b,Updated from openstack-manuals,MERGED,2015-02-03 07:58:53.000000000,2015-02-03 14:25:39.000000000,2015-02-03 14:25:38.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-02-03 07:58:53.000000000', 'files': ['doc/glossary/locale/zh_CN.po'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/f52b4bd9340e273aa9898df99cd90ec1573a0c3b', 'message': 'Updated from openstack-manuals\n\nChange-Id: I4bcb7f8e14e279efd7d5438217704a2a5d04959b\n'}]",0,152420,f52b4bd9340e273aa9898df99cd90ec1573a0c3b,6,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: I4bcb7f8e14e279efd7d5438217704a2a5d04959b
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/20/152420/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/glossary/locale/zh_CN.po'],1,f52b4bd9340e273aa9898df99cd90ec1573a0c3b,openstack/openstack-manuals,"""POT-Creation-Date: 2015-02-03 04:45+0000\n"" ""PO-Revision-Date: 2015-02-02 17:01+0000\n""msgstr ""DHCP""msgstr ""Havana""msgstr ""Icehouse""msgstr ""管理网络""","""POT-Creation-Date: 2015-01-31 17:09+0000\n"" ""PO-Revision-Date: 2015-01-31 21:01+0000\n""msgstr """"msgstr """"msgstr """"msgstr """"",6,6
openstack%2Fha-guide~master~I65caaac16e8f92de5be9c0a9ee02c6959a32cace,openstack/ha-guide,master,I65caaac16e8f92de5be9c0a9ee02c6959a32cace,Updated from openstack-manuals,MERGED,2015-02-03 07:58:47.000000000,2015-02-03 14:24:50.000000000,2015-02-03 14:24:49.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-02-03 07:58:47.000000000', 'files': ['doc/glossary/locale/zh_CN.po'], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/656bceb0f03b1b40590df5ed6c8e28b36ea27c38', 'message': 'Updated from openstack-manuals\n\nChange-Id: I65caaac16e8f92de5be9c0a9ee02c6959a32cace\n'}]",0,152419,656bceb0f03b1b40590df5ed6c8e28b36ea27c38,6,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: I65caaac16e8f92de5be9c0a9ee02c6959a32cace
",git fetch https://review.opendev.org/openstack/ha-guide refs/changes/19/152419/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/glossary/locale/zh_CN.po'],1,656bceb0f03b1b40590df5ed6c8e28b36ea27c38,openstack/openstack-manuals,"""POT-Creation-Date: 2015-02-03 04:45+0000\n"" ""PO-Revision-Date: 2015-02-02 17:01+0000\n""msgstr ""DHCP""msgstr ""Havana""msgstr ""Icehouse""msgstr ""管理网络""","""POT-Creation-Date: 2015-01-31 17:09+0000\n"" ""PO-Revision-Date: 2015-01-31 21:01+0000\n""msgstr """"msgstr """"msgstr """"msgstr """"",6,6
openstack%2Fanchor~master~I0a1fc13fdcfb8956a7501ecae3ee1842ae25d36b,openstack/anchor,master,I0a1fc13fdcfb8956a7501ecae3ee1842ae25d36b,Adding tests for reading bad certificate or csr data,MERGED,2015-01-29 13:27:13.000000000,2015-02-03 14:20:32.000000000,2015-02-03 14:20:32.000000000,"[{'_account_id': 3}, {'_account_id': 7063}, {'_account_id': 11397}]","[{'number': 1, 'created': '2015-01-29 13:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/anchor/commit/f0f27cf88f8082762e0d86bc94e64a117ec51519', 'message': 'Adding tests for reading bad certificate or csr data\n\nChange-Id: I0a1fc13fdcfb8956a7501ecae3ee1842ae25d36b\n'}, {'number': 2, 'created': '2015-01-29 13:33:22.000000000', 'files': ['tests/X509/test_x509_csr.py', 'tests/X509/test_x509_certificate.py'], 'web_link': 'https://opendev.org/openstack/anchor/commit/ea26f5fef632407e9adc6b71bdd0f29a29238c27', 'message': 'Adding tests for reading bad certificate or csr data\n\nChange-Id: I0a1fc13fdcfb8956a7501ecae3ee1842ae25d36b\n'}]",0,151228,ea26f5fef632407e9adc6b71bdd0f29a29238c27,10,3,2,11716,,,0,"Adding tests for reading bad certificate or csr data

Change-Id: I0a1fc13fdcfb8956a7501ecae3ee1842ae25d36b
",git fetch https://review.opendev.org/openstack/anchor refs/changes/28/151228/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/X509/test_x509_csr.py', 'tests/X509/test_x509_certificate.py']",2,f0f27cf88f8082762e0d86bc94e64a117ec51519,testing-bad-data," def test_bad_data_throws(self): bad_data = ( ""some bad data is "" ""EHRlc3RAYW5jaG9yLnRlc3QwTDANBgkqhkiG9w0BAQEFAAM7ADA4AjEA6m"") cert = certificate.X509Certificate() cert.from_buffer(TestX509Cert.cert_data) self.assertRaises(x509_errors.X509Error, cert.from_buffer, bad_data) ",,21,0
openstack%2Ftripleo-ci~master~I3e0b475a287405f0741cd7bd986022cdc8e7de70,openstack/tripleo-ci,master,I3e0b475a287405f0741cd7bd986022cdc8e7de70,Remove tempreverts,MERGED,2015-02-02 23:50:51.000000000,2015-02-03 14:19:44.000000000,2015-02-03 14:19:44.000000000,"[{'_account_id': 3}, {'_account_id': 1926}, {'_account_id': 7144}, {'_account_id': 10035}]","[{'number': 1, 'created': '2015-02-02 23:50:51.000000000', 'files': ['toci_devtest.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a4022a518c4d478c5fcb4cf24fe6cf5f65417aa7', 'message': 'Remove tempreverts\n\nThese are no longer required, the nova one was fixed in\nIeaf2d6c456f8bcc4bc7a0ffe7dc912c7cc8b3dc6 and the ironic one was reverted\nIe623483d01db434241bfb00a84c5e6b7321e04d5.\n\nChange-Id: I3e0b475a287405f0741cd7bd986022cdc8e7de70\n'}]",0,152343,a4022a518c4d478c5fcb4cf24fe6cf5f65417aa7,9,4,1,1926,,,0,"Remove tempreverts

These are no longer required, the nova one was fixed in
Ieaf2d6c456f8bcc4bc7a0ffe7dc912c7cc8b3dc6 and the ironic one was reverted
Ie623483d01db434241bfb00a84c5e6b7321e04d5.

Change-Id: I3e0b475a287405f0741cd7bd986022cdc8e7de70
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/43/152343/1 && git format-patch -1 --stdout FETCH_HEAD,['toci_devtest.sh'],1,a4022a518c4d478c5fcb4cf24fe6cf5f65417aa7,rm-reverts,,# https://review.openstack.org/#/c/143054/ temprevert nova 024ac74ffbc47239426fa95580851825d67dbe61 1416321 # https://review.openstack.org/#/c/141148/ temprevert ironic cb82dabdca5c37d9ac54e4c207a896a32f18525b 1417026,0,4
openstack%2Fanchor~master~I51d87d8255c651d1dca725d13df955f437e22720,openstack/anchor,master,I51d87d8255c651d1dca725d13df955f437e22720,Adding hash algoprithm info and more doc-strings,MERGED,2015-01-29 13:06:46.000000000,2015-02-03 14:19:30.000000000,2015-02-03 14:19:30.000000000,"[{'_account_id': 3}, {'_account_id': 7063}, {'_account_id': 11397}, {'_account_id': 11716}]","[{'number': 1, 'created': '2015-01-29 13:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/anchor/commit/a639dad358883ab9d0ad6ee92508c82d92048b21', 'message': 'Adding hash algoprithm info and more doc-strings\n\nChange-Id: I51d87d8255c651d1dca725d13df955f437e22720\n'}, {'number': 2, 'created': '2015-01-29 13:14:47.000000000', 'files': ['tests/X509/test_message_digest.py', 'anchor/X509/message_digest.py'], 'web_link': 'https://opendev.org/openstack/anchor/commit/e9171aba1eb6eab526859b0ea4583b1b93e868b1', 'message': 'Adding hash algoprithm info and more doc-strings\n\nChange-Id: I51d87d8255c651d1dca725d13df955f437e22720\n'}]",0,151219,e9171aba1eb6eab526859b0ea4583b1b93e868b1,10,4,2,11716,,,0,"Adding hash algoprithm info and more doc-strings

Change-Id: I51d87d8255c651d1dca725d13df955f437e22720
",git fetch https://review.opendev.org/openstack/anchor refs/changes/19/151219/1 && git format-patch -1 --stdout FETCH_HEAD,['anchor/X509/message_digest.py'],1,a639dad358883ab9d0ad6ee92508c82d92048b21,add-algorithm-info," """"""Compute a message digest from input data"""""" @staticmethod def getValidAlgorithms(): """"""Get a list of available valid hash algorithms."""""" algs = [ ""md5"", ""ripemd160"" ""sha1"", ""sha224"", ""sha256"", ""sha384"", ""sha512"" ] ret = [] for alg in algs: if getattr(backend._lib, ""EVP_%s"" % alg, None) is not None: ret.appned(alg) return ret """"""Add more data to the digest"""""" """"""get the final resulting digest value. Note that you should not call update() with additional data after using final. """"""",,27,0
openstack%2Fanchor~master~I564267be8098ddfabc2503f1e4ee90320327067b,openstack/anchor,master,I564267be8098ddfabc2503f1e4ee90320327067b,Adding tests against the message digest class,MERGED,2015-01-29 12:51:01.000000000,2015-02-03 14:18:08.000000000,2015-02-03 14:18:07.000000000,"[{'_account_id': 3}, {'_account_id': 7063}, {'_account_id': 11397}]","[{'number': 1, 'created': '2015-01-29 12:51:01.000000000', 'files': ['anchor/X509/certificate.py', 'tests/X509/test_message_digest.py', 'anchor/X509/message_digest.py'], 'web_link': 'https://opendev.org/openstack/anchor/commit/9a8c5a66bc618bd97c53a6a78eee0f4a45cdf67d', 'message': 'Adding tests against the message digest class\n\nChange-Id: I564267be8098ddfabc2503f1e4ee90320327067b\n'}]",0,151210,9a8c5a66bc618bd97c53a6a78eee0f4a45cdf67d,8,3,1,11716,,,0,"Adding tests against the message digest class

Change-Id: I564267be8098ddfabc2503f1e4ee90320327067b
",git fetch https://review.opendev.org/openstack/anchor refs/changes/10/151210/1 && git format-patch -1 --stdout FETCH_HEAD,"['anchor/X509/certificate.py', 'anchor/X509/message_digest.py', 'tests/X509/test_message_digest.py']",3,9a8c5a66bc618bd97c53a6a78eee0f4a45cdf67d,check-message-digest,"# -*- coding:utf-8 -*- # # Copyright 2014 Hewlett-Packard Development Company, L.P. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os import unittest import base64 from anchor.X509 import message_digest class TestMessageDigest(unittest.TestCase): data = ""this is test data to test with"" def setUp(self): super(TestMessageDigest, self).setUp() def tearDown(self): super(TestMessageDigest, self).tearDown() def test_bad_algo(self): self.assertRaises(message_digest.MessageDigestError, message_digest.MessageDigest, 'BAD') def test_md5(self): v = ""B2F81E9F287884AF6A8B3E8EFB96C711"" md = message_digest.MessageDigest(""md5"") md.update(TestMessageDigest.data) ret = md.final() self.assertEqual(ret, v) def test_ripmed160(self): v = ""BA5CCC4574D676266D821269CA77BFFD7FD9FCB0"" md = message_digest.MessageDigest(""ripemd160"") md.update(TestMessageDigest.data) ret = md.final() self.assertEqual(ret, v) def test_sha224(self): v = ""675170C12E88D549DB0F608AD6857103D7B792F29FACFCC53173F178"" md = message_digest.MessageDigest(""sha224"") md.update(TestMessageDigest.data) ret = md.final() self.assertEqual(ret, v) def test_sha256(self): v = ""91F672E796E84BECC6F051A47D7392BD789AEA7D55090588F212CF041C862678"" md = message_digest.MessageDigest(""sha256"") md.update(TestMessageDigest.data) ret = md.final() self.assertEqual(ret, v) def test_sha384(self): v = (""9667AF42DF2E6B81EE679757BB207A3F9BB7CED49CF838FF3ED8237C9B15291B"" ""15"") md = message_digest.MessageDigest(""sha384"") md.update(TestMessageDigest.data) ret = md.final() self.assertEqual(ret, v) def test_sha512(self): v = (""283B3ECD8AE687226C3EA46B59F65E5CA50A11735C9C14BED11F0CCB515707B5"" ""1031145ED8AE4B35B24B91F26E70AC0ACAC37B5BEE933B28834FE6447D1298CB"" ) md = message_digest.MessageDigest(""sha512"") md.update(TestMessageDigest.data) ret = md.final() self.assertEqual(ret, v) ",,85,4
openstack%2Fnetworking-odl~master~I17adc228e2070e29b539fc557114354393197e34,openstack/networking-odl,master,I17adc228e2070e29b539fc557114354393197e34,Use in-module ODL driver,MERGED,2015-01-30 17:09:49.000000000,2015-02-03 14:12:17.000000000,2015-02-03 14:12:16.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 8645}, {'_account_id': 10386}, {'_account_id': 11952}]","[{'number': 1, 'created': '2015-01-30 17:09:49.000000000', 'files': ['networking_odl/tests/unit/ml2/test_mechanism_odl.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/77374f1157086163c9e23dbd63d13be0b172a9c7', 'message': 'Use in-module ODL driver\n\nThis change is needed to use the new location of the ML2 Driver for ODL.\n\nChange-Id: I17adc228e2070e29b539fc557114354393197e34\nRelated-bug: #1409149\n'}]",4,151707,77374f1157086163c9e23dbd63d13be0b172a9c7,20,7,1,748,,,0,"Use in-module ODL driver

This change is needed to use the new location of the ML2 Driver for ODL.

Change-Id: I17adc228e2070e29b539fc557114354393197e34
Related-bug: #1409149
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/07/151707/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/tests/unit/ml2/test_mechanism_odl.py', 'setup.cfg']",2,77374f1157086163c9e23dbd63d13be0b172a9c7,use-odl-in-module, opendaylight = neutron.plugins.ml2.drivers.opendaylight.driver:OpenDaylightMechanismDriver, opendaylight = neutron.plugins.ml2.drivers.mechanism_odl:OpenDaylightMechanismDriver,4,4
openstack%2Fnova~master~I887969119756cba3721d1031bc4d109babb1977e,openstack/nova,master,I887969119756cba3721d1031bc4d109babb1977e,add asserts of DriverBlockDevice save call parameters,MERGED,2015-02-03 01:09:42.000000000,2015-02-03 14:11:37.000000000,2015-02-03 14:11:34.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 8247}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-02-03 01:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4defd585f53b0437ee35636339adc6ffc8839a6', 'message': ""add asserts of DriverBlockDevice save call parameters\n\nCurrently, the libvirt driver unit tests only assert that the\nDriverBlockDevice wrapper save function is called -- they don't\nverify the save call parameters. This change adds verification\nof the call parameters for save.\n\nChange-Id: I887969119756cba3721d1031bc4d109babb1977e\n""}, {'number': 2, 'created': '2015-02-03 02:17:03.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4cf4a80bb5d500a172f39caf225207a97133fe21', 'message': ""add asserts of DriverBlockDevice save call parameters\n\nCurrently, the libvirt driver unit tests only assert that the\nDriverBlockDevice wrapper save function is called -- they don't\nverify the save call parameters. This change adds verification\nof the call parameters for save.\n\nChange-Id: I887969119756cba3721d1031bc4d109babb1977e\n""}]",0,152362,4cf4a80bb5d500a172f39caf225207a97133fe21,17,9,2,4690,,,0,"add asserts of DriverBlockDevice save call parameters

Currently, the libvirt driver unit tests only assert that the
DriverBlockDevice wrapper save function is called -- they don't
verify the save call parameters. This change adds verification
of the call parameters for save.

Change-Id: I887969119756cba3721d1031bc4d109babb1977e
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/152362/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/libvirt/test_driver.py'],1,a4defd585f53b0437ee35636339adc6ffc8839a6,bug/1417348," driver_block_device.DriverVolumeBlockDevice, 'save' ) as mock_save: mock_save.assert_called_with() driver_block_device.DriverVolumeBlockDevice, 'save' ) as mock_save: mock_save.assert_called_with() driver_block_device.DriverVolumeBlockDevice, 'save' ) as mock_save: mock_save.assert_called_with() mock.patch.object(objects.Instance, 'save') ) as (mock_volume_save, mock_get_by_id, mock_instance_save): mock_volume_save.assert_called_once_with() volume_save.assert_called_once_with()"," driver_block_device.DriverVolumeBlockDevice, 'save'): self.assertTrue(info['block_device_mapping'][0].save.called) self.assertTrue(info['block_device_mapping'][1].save.called) driver_block_device.DriverVolumeBlockDevice, 'save'): driver_block_device.DriverVolumeBlockDevice, 'save'): mock.patch.object(objects.Instance, 'save')): self.assertTrue( block_device_info['block_device_mapping'][0].save.called) self.assertEqual(1, volume_save.call_count)",13,9
openstack%2Fec2-api~master~I475e422af28b8b14a57cbb86901b5059e457d3a0,openstack/ec2-api,master,I475e422af28b8b14a57cbb86901b5059e457d3a0,rework v4 auth.,MERGED,2015-02-03 09:40:21.000000000,2015-02-03 14:10:46.000000000,2015-02-03 14:10:45.000000000,"[{'_account_id': 3}, {'_account_id': 9312}, {'_account_id': 10224}]","[{'number': 1, 'created': '2015-02-03 09:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/830122641dcec8e61866b99a0041ce43fa9f7c9a', 'message': 'rework v4 auth.\n\nworkaround webob bug.\nunify keystone auth with current nova code.\nmake secret_key lazy loaded.\n\nChange-Id: I475e422af28b8b14a57cbb86901b5059e457d3a0\n'}, {'number': 2, 'created': '2015-02-03 13:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/7fc27c89c14e5979fbba7695cccf54ae532f3425', 'message': 'rework v4 auth.\n\nworkaround webob bug.\nunify keystone auth with current nova code.\nmake secret_key lazy loaded.\n\nChange-Id: I475e422af28b8b14a57cbb86901b5059e457d3a0\n'}, {'number': 3, 'created': '2015-02-03 14:00:40.000000000', 'files': ['ec2api/tests/test_error_response.py', 'ec2api/api/image.py', 'ec2api/metadata/__init__.py', 'ec2api/api/__init__.py', 'ec2api/tests/test_db_api.py', 'ec2api/tests/base.py', 'ec2api/api/availability_zone.py', 'ec2api/context.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/47d0a7c35bd0af6ab855ba882d00944f7b78ba32', 'message': 'rework v4 auth.\n\nworkaround webob bug.\nunify keystone auth with current nova code.\nmake secret_key lazy loaded.\n\nChange-Id: I475e422af28b8b14a57cbb86901b5059e457d3a0\n'}]",0,152440,47d0a7c35bd0af6ab855ba882d00944f7b78ba32,10,3,3,10234,,,0,"rework v4 auth.

workaround webob bug.
unify keystone auth with current nova code.
make secret_key lazy loaded.

Change-Id: I475e422af28b8b14a57cbb86901b5059e457d3a0
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/40/152440/1 && git format-patch -1 --stdout FETCH_HEAD,"['ec2api/metadata/__init__.py', 'ec2api/tests/test_error_response.py', 'ec2api/api/__init__.py', 'ec2api/tests/test_db_api.py', 'ec2api/tests/base.py', 'ec2api/api/availability_zone.py', 'ec2api/context.py']",7,830122641dcec8e61866b99a0041ce43fa9f7c9a,master-2,"from oslo.config import cfg import requestsCONF = cfg.CONF def __init__(self, user_id, project_id, access_key, self.cached_secret_key = None @property def secret_key(self): if self.cached_secret_key: return self.cached_secret_key headers = { 'Content-Type': 'application/json', 'X-Auth-Token': self.auth_token } url = CONF.keystone_url + (""/users/%s/credentials/OS-EC2/%s"" % (self.user_id, self.access_key)) response = requests.request('GET', url, headers=headers) status_code = response.status_code if status_code != 200: raise exception.EC2Exception(response.reason) ec2_creds = response.json() self.cached_secret_key = ec2_creds[""credential""][""secret""] return self.cached_secret_key "," def __init__(self, user_id, project_id, access_key, secret_key, self.secret_key = secret_key secret_key=None,",120,144
openstack%2Fnova~master~I7f5c5580e3a0345c0c40b4b2d66bc99b1451c883,openstack/nova,master,I7f5c5580e3a0345c0c40b4b2d66bc99b1451c883,fix call of DriverVolumeBlockDevice save in swap_volume,MERGED,2015-02-03 00:53:33.000000000,2015-02-03 14:04:50.000000000,2015-02-03 14:04:47.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-02-03 00:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8943e5cbcafc372557a703a49a4df8b8de548262', 'message': 'fix call of DriverVolumeBlockDevice save in swap_volume\n\nCommit fac0e90b3d54e9a2c74f8017b9a9c592bc296e0c removed the context\nparameter from the DriverBlockDevice wrapper save function. One call\nof the function was missed in the driver and this change fixes the\ncall and enhances the unit test to verify the save function call\nparameters.\n\nRelated to blueprint kilo-objects\n\nChange-Id: I7f5c5580e3a0345c0c40b4b2d66bc99b1451c883\n'}, {'number': 2, 'created': '2015-02-03 02:17:03.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/494756c822793f28d69c36e23920ff59809e9a44', 'message': 'fix call of DriverVolumeBlockDevice save in swap_volume\n\nCommit fac0e90b3d54e9a2c74f8017b9a9c592bc296e0c removed the context\nparameter from the DriverBlockDevice wrapper save function. One call\nof the function was missed in the driver and this change fixes the\ncall and enhances the unit test to verify the save function call\nparameters.\n\nCloses-Bug: #1417348\n\nChange-Id: I7f5c5580e3a0345c0c40b4b2d66bc99b1451c883\n'}]",1,152356,494756c822793f28d69c36e23920ff59809e9a44,17,10,2,4690,,,0,"fix call of DriverVolumeBlockDevice save in swap_volume

Commit fac0e90b3d54e9a2c74f8017b9a9c592bc296e0c removed the context
parameter from the DriverBlockDevice wrapper save function. One call
of the function was missed in the driver and this change fixes the
call and enhances the unit test to verify the save function call
parameters.

Closes-Bug: #1417348

Change-Id: I7f5c5580e3a0345c0c40b4b2d66bc99b1451c883
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/152356/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,8943e5cbcafc372557a703a49a4df8b8de548262,bug/1417348, volume_save.assert_called_once_with(),,2,1
openstack%2Fneutron-specs~master~Iebe6aae92fe3fbc675752fbd8196d2382fc800bb,openstack/neutron-specs,master,Iebe6aae92fe3fbc675752fbd8196d2382fc800bb,Neutron ML2 mechanism driver for VCenter DVS network creation,ABANDONED,2015-02-03 06:43:36.000000000,2015-02-03 14:03:36.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 1653}, {'_account_id': 5638}, {'_account_id': 7148}, {'_account_id': 10370}, {'_account_id': 12860}]","[{'number': 1, 'created': '2015-02-03 06:43:36.000000000', 'files': ['specs/kilo/ml2-dvs-mech-driver.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/0bba77c0c9297ab25cb33c11e3f7dad3bef2d406', 'message': 'Neutron ML2 mechanism driver for VCenter DVS network creation\n\nimplements blueprint ml2-dvs-mech-driver\n\nChange-Id: Iebe6aae92fe3fbc675752fbd8196d2382fc800bb\n'}]",0,152411,0bba77c0c9297ab25cb33c11e3f7dad3bef2d406,4,8,1,10327,,,0,"Neutron ML2 mechanism driver for VCenter DVS network creation

implements blueprint ml2-dvs-mech-driver

Change-Id: Iebe6aae92fe3fbc675752fbd8196d2382fc800bb
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/11/152411/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/ml2-dvs-mech-driver.rst'],1,0bba77c0c9297ab25cb33c11e3f7dad3bef2d406,bp/ml2-dvs-mech-driver,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================================ Neutron mechanism driver for VMWare vCenter DVS network creation ================================================================ https://blueprints.launchpad.net/neutron/+spec/ml2-dvs-mech-driver Within current ML2 plugin, there is no mechanism driver for vCenter DVS networks creation. It would benefit users if neutron can support creation of DVS networks from OpenStack instead of relying on vSphere client. This blueprint will implement such a mechanism driver for DVS network creation via vSphere SDK. Problem description =================== Currently, Neutron does not have a mechanism driver supporting creating network(port group) in vCenter. For now, working with nova-network, nova vmware driver can create the network(port group) automatically if it does not exist on certain ESXi host during VM deployment phase, but this is realy a compromise becuase the lack of an available neutron mechanism driver for vCenter network creation. So it is really necessary for neutron to support vCenter network(port group) creation, and a good choice is to implement a mechanism diver for vCenter DVS netowrk creation. Proposed change =============== Implement a mechanism driver by inheriting from basic mechanism api class ""MechanismDriver"", and override the standard methods to cover bellowing functions: DVS network creation/deletion/update. In nova side, register a new VIF TYPE ‘dvs’ to represent DVS network, and accordingly pass the network name as the bridge name, so that nova vmware driver can use the DVS network(port group) for VM deployment. For the network creation, we will add marks to the network to tell users that the network is neutron-managed. For example, we can add ""Managed by Neutron"" in network's description. For the network update, it will not update provider attributes such as segmentation id, network type and physical network. Scope: Mechanism driver network(port group) creation scope will be based on the DVS(distributed virtual switch) that ML2 plug-in is pointing to. For now, the DVS mechanism driver will only support creating vlan and flat networks. For the failure scenarios: If DVS does not exist, DVSNotFound exception will be thrown out. If port group already exist in the switch, conflict exception will be thrown out. Things will not covered for now: DVS switch creation/deletion We will also change nova code, to pass the network(port group) name to brigde so that nova vmware driver can use it for instance deployment. Alternatives ------------ Users can use out-of-band scripts to import existing port groups into neutron database as networks, and use them for VM deployment. But this requires users to create port groups in advance in vCenter, and this will undoubtly add burden to cloud operators. Some more new alternative features of vmware networking are working in process: https://review.openstack.org/#/q/status:open+project:openstack/neutron-specs+branch:master+topic:bp/vsphere-neutron,n,z Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ As vSphere Web Services SDK is used to communicate with vCenter, it will add some time addtions in following ways: * Establishment of SDK API connections. * Loading and querying operations from vCenter. * Invoking port group operation api method. Other deployer impact --------------------- The deployer must add some addtional configurations to enable the DVS mechanism driver: * Modify the ML2 plugin configuration to add the DVS mechanism driver in: [ml2] mechanism_drivers = openvswitch, dvs * Add a new section containing vCenter connection info to ML2 plugin configuration file: [ml2_vcenter] host_name=<vcenter server hostname> host_username=<vcenter login name> host_password=<vcenter login password> wsdl_location=file:///directory/of/SDK/wsdl/file task_poll_interval=5.0 api_retry_count=10 # Mappings of physical network devices and DVS network_map = physnet1:dvSwitch1, physnet2:dvSwitch2 Developer impact ---------------- None Implementation ============== Assignee(s) ----------- yanfengxi Work Items ---------- * Mechanism driver * Unit test code * Neutron config examples for vCenter session * Add oslo.vmware into Neutron requirement Dependencies ============ We will use oslo.vmware for vSphere WebServices SDK connection. Testing ======= Unit Test Third Party CI Documentation Impact ==================== Configuration Reference guide will be updated from the code. References ========== VMware vSphere API Reference Documentation http://pubs.vmware.com/vsphere-55/index.jsp?topic=%2Fcom.vmware.wssdk.apiref.doc%2Fright-pane.html ",,190,0
openstack%2Fpython-heatclient~master~Ie27eb1491b984e65fedeb21864e2833ada2872fe,openstack/python-heatclient,master,Ie27eb1491b984e65fedeb21864e2833ada2872fe,Fix different behavior in python3.4 json module,MERGED,2015-02-03 12:44:10.000000000,2015-02-03 14:01:40.000000000,2015-02-03 14:01:40.000000000,"[{'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 6577}, {'_account_id': 9542}]","[{'number': 1, 'created': '2015-02-03 12:44:10.000000000', 'files': ['heatclient/common/utils.py'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/eaf05d32cfa54fd278e772b517705bb997bb5a5e', 'message': 'Fix different behavior in python3.4 json module\n\nTHe 3.4 json changes the way json.dumps works when indent is specified,\nwhich breaks tests. Passing the separators argument explicitely forces\nthe old behavior back.\n\nChange-Id: Ie27eb1491b984e65fedeb21864e2833ada2872fe\n'}]",0,152499,eaf05d32cfa54fd278e772b517705bb997bb5a5e,10,4,1,7385,,,0,"Fix different behavior in python3.4 json module

THe 3.4 json changes the way json.dumps works when indent is specified,
which breaks tests. Passing the separators argument explicitely forces
the old behavior back.

Change-Id: Ie27eb1491b984e65fedeb21864e2833ada2872fe
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/99/152499/1 && git format-patch -1 --stdout FETCH_HEAD,['heatclient/common/utils.py'],1,eaf05d32cfa54fd278e772b517705bb997bb5a5e,fix-3.4-json," return jsonutils.dumps(js, indent=2, ensure_ascii=False, separators=(', ', ': '))"," return jsonutils.dumps(js, indent=2, ensure_ascii=False)",2,1
openstack%2Ftripleo-heat-templates~master~I49175d1843520abc80fefe9528442e5dda151f5d,openstack/tripleo-heat-templates,master,I49175d1843520abc80fefe9528442e5dda151f5d,Compute: consolidated nested stack,MERGED,2015-01-14 21:00:42.000000000,2015-02-03 13:52:46.000000000,2015-02-03 13:52:45.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4328}, {'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 8399}, {'_account_id': 8449}]","[{'number': 1, 'created': '2015-01-14 21:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3bd21fa477b8e482c1670a7088025d37b50e4b37', 'message': 'Compute: consolidated nested stack\n\nIn I250dc1a8c02626cf7d1a5d2ce92706504ec0c7de we split\nout just the Controller software config in an effort\nto provide hooks for alternate implementations (puppet).\n\nThis sort of worked but caused quirky ordering issues\nwith signal handling. It also causes problems for Tuskar\nwhich would prefer to think of these nested stacks and\nnot have us split out just the software configs like this.\n\nThis patch moves all the compute related stuff for\nour two implementations:\n\ncompute.yaml: is used by os-apply-config (uses the\ntripleo-image-elements)\ncompute-puppet.yaml: uses stackforge puppet-* modules for\nconfiguration\n\nBy duplicating the entire compute in this manner we make\nit much easier to create dependencies and implement proper\nsignal handling. The only (temporary) downside is the duplication\nof parameters most of which will eventually go away when we move\nusing the global parameters via Heat environment files instead.\n\nChange-Id: I49175d1843520abc80fefe9528442e5dda151f5d\n'}, {'number': 2, 'created': '2015-01-14 22:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c0441937964ed0ac3f3bffe0e6958e936c128d7e', 'message': 'Compute: consolidated nested stack\n\nIn I250dc1a8c02626cf7d1a5d2ce92706504ec0c7de we split\nout just the Controller software config in an effort\nto provide hooks for alternate implementations (puppet).\n\nThis sort of worked but caused quirky ordering issues\nwith signal handling. It also causes problems for Tuskar\nwhich would prefer to think of these nested stacks and\nnot have us split out just the software configs like this.\n\nThis patch moves all the compute related stuff for\nour two implementations:\n\ncompute.yaml: is used by os-apply-config (uses the\ntripleo-image-elements)\ncompute-puppet.yaml: uses stackforge puppet-* modules for\nconfiguration\n\nBy duplicating the entire compute in this manner we make\nit much easier to create dependencies and implement proper\nsignal handling. The only (temporary) downside is the duplication\nof parameters most of which will eventually go away when we move\nusing the global parameters via Heat environment files instead.\n\nChange-Id: I49175d1843520abc80fefe9528442e5dda151f5d\n'}, {'number': 3, 'created': '2015-01-19 13:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc9dffaf1c44c60611d61ece7dd34169e25dd3d5', 'message': 'Compute: consolidated nested stack\n\nIn I250dc1a8c02626cf7d1a5d2ce92706504ec0c7de we split\nout just the Controller software config in an effort\nto provide hooks for alternate implementations (puppet).\n\nThis sort of worked but caused quirky ordering issues\nwith signal handling. It also causes problems for Tuskar\nwhich would prefer to think of these nested stacks and\nnot have us split out just the software configs like this.\n\nThis patch moves all the compute related stuff for\nour two implementations:\n\ncompute.yaml: is used by os-apply-config (uses the\ntripleo-image-elements)\ncompute-puppet.yaml: uses stackforge puppet-* modules for\nconfiguration\n\nBy duplicating the entire compute in this manner we make\nit much easier to create dependencies and implement proper\nsignal handling. The only (temporary) downside is the duplication\nof parameters most of which will eventually go away when we move\nusing the global parameters via Heat environment files instead.\n\nChange-Id: I49175d1843520abc80fefe9528442e5dda151f5d\n'}, {'number': 4, 'created': '2015-01-27 14:07:30.000000000', 'files': ['overcloud-resource-registry.yaml', 'overcloud-resource-registry-puppet.yaml', 'compute.yaml', 'compute-config.yaml', 'compute-puppet.yaml', 'compute-config-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2698bb457309108dbf5821fe3976a64509c692e5', 'message': 'Compute: consolidated nested stack\n\nIn I250dc1a8c02626cf7d1a5d2ce92706504ec0c7de we split\nout just the Controller software config in an effort\nto provide hooks for alternate implementations (puppet).\n\nThis sort of worked but caused quirky ordering issues\nwith signal handling. It also causes problems for Tuskar\nwhich would prefer to think of these nested stacks and\nnot have us split out just the software configs like this.\n\nThis patch moves all the compute related stuff for\nour two implementations:\n\ncompute.yaml: is used by os-apply-config (uses the\ntripleo-image-elements)\ncompute-puppet.yaml: uses stackforge puppet-* modules for\nconfiguration\n\nBy duplicating the entire compute in this manner we make\nit much easier to create dependencies and implement proper\nsignal handling. The only (temporary) downside is the duplication\nof parameters most of which will eventually go away when we move\nusing the global parameters via Heat environment files instead.\n\nChange-Id: I49175d1843520abc80fefe9528442e5dda151f5d\n'}]",1,147297,2698bb457309108dbf5821fe3976a64509c692e5,42,7,4,360,,,0,"Compute: consolidated nested stack

In I250dc1a8c02626cf7d1a5d2ce92706504ec0c7de we split
out just the Controller software config in an effort
to provide hooks for alternate implementations (puppet).

This sort of worked but caused quirky ordering issues
with signal handling. It also causes problems for Tuskar
which would prefer to think of these nested stacks and
not have us split out just the software configs like this.

This patch moves all the compute related stuff for
our two implementations:

compute.yaml: is used by os-apply-config (uses the
tripleo-image-elements)
compute-puppet.yaml: uses stackforge puppet-* modules for
configuration

By duplicating the entire compute in this manner we make
it much easier to create dependencies and implement proper
signal handling. The only (temporary) downside is the duplication
of parameters most of which will eventually go away when we move
using the global parameters via Heat environment files instead.

Change-Id: I49175d1843520abc80fefe9528442e5dda151f5d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/147297/4 && git format-patch -1 --stdout FETCH_HEAD,"['compute.yaml', 'compute-config.yaml', 'compute-puppet.yaml', 'compute-config-puppet.yaml']",4,3bd21fa477b8e482c1670a7088025d37b50e4b37,puppet,,"# Copyright 2014 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. heat_template_version: 2014-10-16 description: > Puppet Software Config for Nova Compute. parameters: server_id: type: string hidden: true resources: ComputePuppetConfig: type: OS::Heat::SoftwareConfig properties: group: puppet outputs: - name: result config: get_file: puppet/overcloud_compute.pp ComputePuppetDeployment: type: OS::Heat::StructuredDeployment properties: server: {get_param: server_id} config: {get_resource: ComputePuppetConfig} signal_transport: NO_SIGNAL NovaComputeConfigImpl: type: OS::Heat::StructuredConfig properties: group: os-apply-config config: hiera: hierarchy: - heat_config_%{::deploy_config_name} - compute - common datafiles: common: raw_data: {get_file: puppet/hieradata/common.yaml} compute: raw_data: {get_file: puppet/hieradata/compute.yaml} oac_data: nova::compute::vncserver_proxyclient_address: local-ipv4 mapped_data: #nova::debug: {get_input: debug} nova_compute_driver: {get_input: nova_compute_driver} nova::compute::libvirt::libvirt_virt_type: {get_input: nova_compute_libvirt_type} nova_api_host: {get_input: nova_api_host} nova::compute::vncproxy_host: {get_input: nova_public_ip} nova_password: {get_input: nova_password} #ceilometer::debug: {get_input: debug} ceilometer::metering_secret: {get_input: ceilometer_metering_secret} ceilometer::agent::auth::auth_password: {get_input: ceilometer_password} ceilometer_compute_agent: {get_input: ceilometer_compute_agent} snmpd_readonly_user_name: {get_input: snmpd_readonly_user_name} snmpd_readonly_user_password: {get_input: snmpd_readonly_user_password} glance_host: {get_input: glance_host} glance_port: {get_input: glance_port} glance_protocol: {get_input: glance_protocol} keystone_host: {get_input: keystone_host} #neutron::debug: {get_input: debug} neutron_flat_networks: {get_input: neutron_flat_networks} neutron_host: {get_input: neutron_host} neutron::agents::ml2::ovs::local_ip: {get_input: neutron_local_ip} neutron_tenant_network_type: {get_input: neutron_tenant_network_type} neutron_tunnel_types: {get_input: neutron_tunnel_types} neutron::network_vlan_ranges: {get_input: neutron_network_vlan_ranges} neutron_bridge_mappings: {get_input: neutron_bridge_mappings} neutron::agents::ml2::ovs::enable_tunneling: {get_input: neutron_enable_tunneling} neutron_physical_bridge: {get_input: neutron_physical_bridge} neutron_public_interface: {get_input: neutron_public_interface} nova::network::neutron::neutron_admin_password: {get_input: neutron_password} neutron_router_distributed: {get_input: neutron_router_distributed} neutron_agent_mode: {get_input: neutron_agent_mode} neutron_metadata_proxy_shared_secret: {get_input: neutron_metadata_proxy_shared_secret} neutron_mechanism_drivers: {get_input: neutron_mechanism_drivers} neutron_allow_l3agent_failover: {get_input: neutron_allow_l3agent_failover} neutron_allow_l3agent_failover: {get_input: neutron_allow_l3agent_failover} neutron_public_interface_raw_device: {get_input: neutron_public_interface_raw_device} admin_password: {get_input: admin_password} nova::rabbit_host: {get_input: rabbit_host} neutron::rabbit_host: {get_input: rabbit_host} ceilometer::rabbit_host: {get_input: rabbit_host} nova::rabbit_userid: {get_input: rabbit_username} neutron::rabbit_user: {get_input: rabbit_username} ceilometer::rabbit_userid: {get_input: rabbit_username} nova::rabbit_password: {get_input: rabbit_password} neutron::rabbit_password: {get_input: rabbit_password} ceilometer::rabbit_password: {get_input: rabbit_password} ntp_server: {get_input: ntp_server} outputs: config_id: description: The ID of the NovaComputeConfigImpl resource. value: {get_resource: NovaComputeConfigImpl} ",457,193
openstack%2Ftripleo-heat-templates~master~Iaf3c889d7c8815f862308cd8e15ce1010059f5c6,openstack/tripleo-heat-templates,master,Iaf3c889d7c8815f862308cd8e15ce1010059f5c6,Controller: consolidated nested stack,MERGED,2015-01-14 20:08:15.000000000,2015-02-03 13:52:02.000000000,2015-02-03 13:52:02.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 9453}]","[{'number': 1, 'created': '2015-01-14 20:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a33c7695029e98da3d7866f009d90256900eaf5', 'message': 'Controller: consolidate implementations\n\nIn I228216a0b55ff2d384b281d9ad2a61b93d58dab9 we split\nout just the Controller software config in an effort\nto provide hooks for alternate implementations (puppet).\n\nThis sort of worked but caused quirky ordering issues\nwith signal handling. It also causes problems for Tuskar\nwhich would prefer to think of these nested stacks and\nnot have us split out just the software configs like this.\n\nThis patch moves all the controller related stuff for\nour two implementations:\n\n controller.yaml: is used by os-apply-config (uses the\ntripleo-image-elements)\n controller-puppet.yaml: uses stackforge puppet-* modules for\nconfiguration\n\nBy duplicating the entire controller in this manner we make\nit much easier to create dependencies and implement proper\nsignal handling. The only (temporary) downside is the duplication\nof parameters most of which will eventually go away when we move towards\nusing the global parameters via Heat environment files instead.\n\nChange-Id: Iaf3c889d7c8815f862308cd8e15ce1010059f5c6\n'}, {'number': 2, 'created': '2015-01-14 21:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/368448dadd9b7356a7d4bbf98c3a83e06384b79c', 'message': 'Controller: consolidated nested stack\n\nIn I228216a0b55ff2d384b281d9ad2a61b93d58dab9 we split\nout just the Controller software config in an effort\nto provide hooks for alternate implementations (puppet).\n\nThis sort of worked but caused quirky ordering issues\nwith signal handling. It also causes problems for Tuskar\nwhich would prefer to think of these nested stacks and\nnot have us split out just the software configs like this.\n\nThis patch moves all the controller related stuff for\nour two implementations:\n\n controller.yaml: is used by os-apply-config (uses the\ntripleo-image-elements)\n controller-puppet.yaml: uses stackforge puppet-* modules for\nconfiguration\n\nBy duplicating the entire controller in this manner we make\nit much easier to create dependencies and implement proper\nsignal handling. The only (temporary) downside is the duplication\nof parameters most of which will eventually go away when we move towards\nusing the global parameters via Heat environment files instead.\n\nChange-Id: Iaf3c889d7c8815f862308cd8e15ce1010059f5c6\n'}, {'number': 3, 'created': '2015-01-19 13:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ab57a71fcbe493b22eb338e21bd84927d5ee613', 'message': 'Controller: consolidated nested stack\n\nIn I228216a0b55ff2d384b281d9ad2a61b93d58dab9 we split\nout just the Controller software config in an effort\nto provide hooks for alternate implementations (puppet).\n\nThis sort of worked but caused quirky ordering issues\nwith signal handling. It also causes problems for Tuskar\nwhich would prefer to think of these nested stacks and\nnot have us split out just the software configs like this.\n\nThis patch moves all the controller related stuff for\nour two implementations:\n\n controller.yaml: is used by os-apply-config (uses the\ntripleo-image-elements)\n controller-puppet.yaml: uses stackforge puppet-* modules for\nconfiguration\n\nBy duplicating the entire controller in this manner we make\nit much easier to create dependencies and implement proper\nsignal handling. The only (temporary) downside is the duplication\nof parameters most of which will eventually go away when we move towards\nusing the global parameters via Heat environment files instead.\n\nChange-Id: Iaf3c889d7c8815f862308cd8e15ce1010059f5c6\n'}, {'number': 4, 'created': '2015-01-27 14:07:30.000000000', 'files': ['overcloud-resource-registry.yaml', 'controller.yaml', 'overcloud-resource-registry-puppet.yaml', 'controller-config.yaml', 'controller-config-puppet.yaml', 'controller-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7f09f73a314ac0412a4410582a143899acf0528c', 'message': 'Controller: consolidated nested stack\n\nIn I228216a0b55ff2d384b281d9ad2a61b93d58dab9 we split\nout just the Controller software config in an effort\nto provide hooks for alternate implementations (puppet).\n\nThis sort of worked but caused quirky ordering issues\nwith signal handling. It also causes problems for Tuskar\nwhich would prefer to think of these nested stacks and\nnot have us split out just the software configs like this.\n\nThis patch moves all the controller related stuff for\nour two implementations:\n\n controller.yaml: is used by os-apply-config (uses the\ntripleo-image-elements)\n controller-puppet.yaml: uses stackforge puppet-* modules for\nconfiguration\n\nBy duplicating the entire controller in this manner we make\nit much easier to create dependencies and implement proper\nsignal handling. The only (temporary) downside is the duplication\nof parameters most of which will eventually go away when we move towards\nusing the global parameters via Heat environment files instead.\n\nChange-Id: Iaf3c889d7c8815f862308cd8e15ce1010059f5c6\n'}]",12,147287,7f09f73a314ac0412a4410582a143899acf0528c,59,8,4,360,,,0,"Controller: consolidated nested stack

In I228216a0b55ff2d384b281d9ad2a61b93d58dab9 we split
out just the Controller software config in an effort
to provide hooks for alternate implementations (puppet).

This sort of worked but caused quirky ordering issues
with signal handling. It also causes problems for Tuskar
which would prefer to think of these nested stacks and
not have us split out just the software configs like this.

This patch moves all the controller related stuff for
our two implementations:

 controller.yaml: is used by os-apply-config (uses the
tripleo-image-elements)
 controller-puppet.yaml: uses stackforge puppet-* modules for
configuration

By duplicating the entire controller in this manner we make
it much easier to create dependencies and implement proper
signal handling. The only (temporary) downside is the duplication
of parameters most of which will eventually go away when we move towards
using the global parameters via Heat environment files instead.

Change-Id: Iaf3c889d7c8815f862308cd8e15ce1010059f5c6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/147287/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud-resource-registry.yaml', 'controller.yaml', 'overcloud-resource-registry-puppet.yaml', 'controller-config.yaml', 'controller-config-puppet.yaml', 'controller-puppet.yaml']",6,5a33c7695029e98da3d7866f009d90256900eaf5,puppet,"heat_template_version: 2014-10-16 description: > OpenStack control plane node. Can be wrapped in a ResourceGroup for scaling. parameters: AdminPassword: default: unset description: The password for the keystone admin account, used for monitoring, querying neutron etc. type: string hidden: true AdminToken: default: unset description: The keystone auth secret. type: string hidden: true CeilometerMeteringSecret: default: unset description: Secret shared by the ceilometer services. type: string hidden: true CeilometerPassword: default: unset description: The password for the ceilometer service account. type: string hidden: true CinderISCSIHelper: default: tgtadm description: The iSCSI helper to use with cinder. type: string CinderLVMLoopDeviceSize: default: 5000 description: The size of the loopback file used by the cinder LVM driver. type: number CinderPassword: default: unset description: The password for the cinder service account, used by cinder-api. type: string hidden: true CloudName: default: '' description: The DNS name of this cloud. E.g. ci-overcloud.tripleo.org type: string ControllerExtraConfig: default: {} description: | Controller specific configuration to inject into the cluster. Same structure as ExtraConfig. type: json ControlVirtualInterface: default: 'br-ex' description: Interface where virtual ip will be assigned. type: string Debug: default: '' description: Set to True to enable debugging on all services. type: string ExtraConfig: default: {} description: | Additional configuration to inject into the cluster. The JSON should have the following structure: {""FILEKEY"": {""config"": [{""section"": ""SECTIONNAME"", ""values"": [{""option"": ""OPTIONNAME"", ""value"": ""VALUENAME"" } ] } ] } } For instance: {""nova"": {""config"": [{""section"": ""default"", ""values"": [{""option"": ""compute_manager"", ""value"": ""ironic.nova.compute.manager.ClusterComputeManager"" } ] }, {""section"": ""cells"", ""values"": [{""option"": ""driver"", ""value"": ""nova.cells.rpc_driver.CellsRPCDriver"" } ] } ] } } type: json Flavor: description: Flavor for control nodes to request when deploying. type: string constraints: - custom_constraint: nova.flavor GlanceNotifierStrategy: description: Strategy to use for Glance notification queue type: string default: noop GlanceLogFile: description: The filepath of the file to use for logging messages from Glance. type: string default: '' GlancePassword: default: unset description: The password for the glance service account, used by the glance services. type: string hidden: true GlancePort: default: ""9292"" description: Glance port. type: string GlanceProtocol: default: http description: Protocol to use when connecting to glance, set to https for SSL. type: string HeatPassword: default: unset description: The password for the Heat service account, used by the Heat services. type: string hidden: true HeatStackDomainAdminPassword: description: Password for heat_domain_admin user. type: string default: '' hidden: true Image: type: string default: overcloud-control constraints: - custom_constraint: glance.image ImageUpdatePolicy: default: 'REBUILD_PRESERVE_EPHEMERAL' description: What policy to use when reconstructing instances. REBUILD for rebuilds, REBUILD_PRESERVE_EPHEMERAL to preserve /mnt. type: string KeyName: default: default description: Name of an existing EC2 KeyPair to enable SSH access to the instances type: string constraints: - custom_constraint: nova.keypair KeystoneCACertificate: default: '' description: Keystone self-signed certificate authority certificate. type: string KeystoneSigningCertificate: default: '' description: Keystone certificate for verifying token validity. type: string KeystoneSigningKey: default: '' description: Keystone key for signing tokens. type: string hidden: true KeystoneSSLCertificate: default: '' description: Keystone certificate for verifying token validity. type: string KeystoneSSLCertificateKey: default: '' description: Keystone key for signing tokens. type: string hidden: true MysqlClusterUniquePart: description: A unique identifier of the MySQL cluster the controller is in. type: string default: 'unset' # Has to be here because of the ignored empty value bug # Drop the validation: https://bugs.launchpad.net/tripleo/+bug/1405446 # constraints: # - length: {min: 4, max: 10} MysqlInnodbBufferPoolSize: description: > Specifies the size of the buffer pool in megabytes. Setting to zero should be interpreted as ""no value"" and will defer to the lower level default. type: number default: 0 MysqlRootPassword: type: string hidden: true default: '' # Has to be here because of the ignored empty value bug NeutronBridgeMappings: description: > The OVS logical->physical bridge mappings to use. See the Neutron documentation for details. Defaults to mapping br-ex - the external bridge on hosts - to a physical name 'datacentre' which can be used to create provider networks (and we use this for the default floating network) - if changing this either use different post-install network scripts or be sure to keep 'datacentre' as a mapping network name. type: string default: """" NeutronDnsmasqOptions: default: 'dhcp-option-force=26,1400' description: Dnsmasq options for neutron-dhcp-agent. The default value here forces MTU to be set to 1400 to account for the gre tunnel overhead. type: string NeutronAgentMode: default: 'dvr_snat' description: Agent mode for the neutron-l3-agent on the controller hosts type: string NeutronDVR: default: 'False' description: Whether to configure Neutron Distributed Virtual Routers type: string NeutronMetadataProxySharedSecret: default: 'unset' description: Shared secret to prevent spoofing type: string NeutronMechanismDrivers: default: 'openvswitch' description: | The mechanism drivers for the Neutron tenant network. To specify multiple values, use a comma separated string, like so: 'openvswitch,l2_population' type: string NeutronAllowL3AgentFailover: default: 'True' description: Allow automatic l3-agent failover type: string NeutronEnableTunnelling: type: string default: ""True"" NeutronFlatNetworks: type: string default: '' description: If set, flat networks to configure in neutron plugins. NeutronNetworkType: default: 'gre' description: The tenant network type for Neutron, either gre or vxlan. type: string NeutronNetworkVLANRanges: default: 'datacentre' description: > The Neutron ML2 and OpenVSwitch vlan mapping range to support. See the Neutron documentation for permitted values. Defaults to permitting any VLAN on the 'datacentre' physical network (See NeutronBridgeMappings). type: string NeutronPassword: default: unset description: The password for the neutron service account, used by neutron agents. type: string hidden: true NeutronPublicInterface: default: nic1 description: What interface to bridge onto br-ex for network nodes. type: string NeutronPublicInterfaceTag: default: '' description: > VLAN tag for creating a public VLAN. The tag will be used to create an access port on the exterior bridge for each control plane node, and that port will be given the IP address returned by neutron from the public network. Set CONTROLEXTRA=overcloud-vlan-port.yaml when compiling overcloud.yaml to include the deployment of VLAN ports to the control plane. type: string NeutronPublicInterfaceDefaultRoute: default: '' description: A custom default route for the NeutronPublicInterface. type: string NeutronPublicInterfaceIP: default: '' description: A custom IP address to put onto the NeutronPublicInterface. type: string NeutronPublicInterfaceRawDevice: default: '' description: If set, the public interface is a vlan with this device as the raw device. type: string NeutronTunnelTypes: default: 'gre' description: | The tunnel types for the Neutron tenant network. To specify multiple values, use a comma separated string, like so: 'gre,vxlan' type: string NovaPassword: default: unset description: The password for the nova service account, used by nova-api. type: string hidden: true NtpServer: type: string default: '' PublicVirtualInterface: default: 'br-ex' description: > Specifies the interface where the public-facing virtual ip will be assigned. This should be int_public when a VLAN is being used. type: string PublicVirtualIP: type: string default: '' # Has to be here because of the ignored empty value bug RabbitCookie: type: string default: '' # Has to be here because of the ignored empty value bug hidden: true RabbitPassword: default: guest description: The password for RabbitMQ type: string hidden: true RabbitUserName: default: guest description: The username for RabbitMQ type: string RabbitClientUseSSL: default: false description: > Rabbit client subscriber parameter to specify an SSL connection to the RabbitMQ host. type: string RabbitClientPort: default: 5672 description: Set rabbit subscriber port, change this if using SSL type: number SnmpdReadonlyUserName: default: ro_snmp_user description: The user name for SNMPd with readonly rights running on all Overcloud nodes type: string SnmpdReadonlyUserPassword: default: unset description: The user password for SNMPd with readonly rights running on all Overcloud nodes type: string hidden: true SSLCACertificate: default: '' description: If set, the contents of an SSL certificate authority file. type: string SSLCertificate: default: '' description: If set, the contents of an SSL certificate .crt file for encrypting SSL endpoints. type: string hidden: true SSLKey: default: '' description: If set, the contents of an SSL certificate .key file for encrypting SSL endpoints. type: string hidden: true SwiftHashSuffix: default: unset description: A random string to be used as a salt when hashing to determine mappings in the ring. hidden: true type: string SwiftMountCheck: default: 'false' description: Value of mount_check in Swift account/container/object -server.conf type: boolean SwiftMinPartHours: type: number default: 1 description: The minimum time (in hours) before a partition in a ring can be moved following a rebalance. SwiftPartPower: default: 10 description: Partition Power to use when building Swift rings type: number SwiftPassword: default: unset description: The password for the swift service account, used by the swift proxy services. hidden: true type: string SwiftReplicas: type: number default: 1 description: How many replicas to use in the swift rings. VirtualIP: type: string default: '' # Has to be here because of the ignored empty value bug resources: Controller: type: OS::Nova::Server properties: image: {get_param: Image} image_update_policy: {get_param: ImageUpdatePolicy} flavor: {get_param: Flavor} key_name: {get_param: KeyName} networks: - network: ctlplane user_data_format: SOFTWARE_CONFIG NetworkConfig: type: OS::TripleO::Net::SoftwareConfig NetworkDeployment: type: OS::TripleO::SoftwareDeployment properties: signal_transport: NO_SIGNAL config: {get_attr: [NetworkConfig, config_id]} server: {get_resource: Controller} input_values: bridge_name: br-ex interface_name: {get_param: NeutronPublicInterface} ControllerDeployment: type: OS::TripleO::SoftwareDeployment properties: signal_transport: NO_SIGNAL config: {get_resource: ControllerConfig} server: {get_resource: Controller} input_values: bootstack_nodeid: {get_attr: [Controller, name]} controller_host: {get_attr: [Controller, networks, ctlplane, 0]} controller_virtual_ip: {get_param: VirtualIP} neutron_enable_tunneling: {get_param: NeutronEnableTunnelling} heat.watch_server_url: list_join: - '' - - 'http://' - {get_param: VirtualIP} - ':8003' heat.metadata_server_url: list_join: - '' - - 'http://' - {get_param: VirtualIP} - ':8000' heat.waitcondition_server_url: list_join: - '' - - 'http://' - {get_param: VirtualIP} - ':8000/v1/waitcondition' admin_password: {get_param: AdminPassword} admin_token: {get_param: AdminToken} neutron_public_interface_ip: {get_param: NeutronPublicInterfaceIP} debug: {get_param: Debug} cinder_lvm_loop_device_size: {get_param: CinderLVMLoopDeviceSize} cinder_password: {get_param: CinderPassword} cinder_iscsi_helper: {get_param: CinderISCSIHelper} cinder_dsn: list_join: - '' - - 'mysql://cinder:unset@' - {get_param: VirtualIP} - '/cinder' glance_port: {get_param: GlancePort} glance_protocol: {get_param: GlanceProtocol} glance_password: {get_param: GlancePassword} glance_notifier_strategy: {get_param: GlanceNotifierStrategy} glance_log_file: {get_param: GlanceLogFile} glance_dsn: list_join: - '' - - 'mysql://glance:unset@' - {get_param: VirtualIP} - '/glance' heat_password: {get_param: HeatPassword} heat_stack_domain_admin_password: {get_param: HeatStackDomainAdminPassword} heat_dsn: list_join: - '' - - 'mysql://heat:unset@' - {get_param: VirtualIP} - '/heat' keystone_ca_certificate: {get_param: KeystoneCACertificate} keystone_signing_key: {get_param: KeystoneSigningKey} keystone_signing_certificate: {get_param: KeystoneSigningCertificate} keystone_ssl_certificate: {get_param: KeystoneSSLCertificate} keystone_ssl_certificate_key: {get_param: KeystoneSSLCertificateKey} keystone_dsn: list_join: - '' - - 'mysql://keystone:unset@' - {get_param: VirtualIP} - '/keystone' mysql_innodb_buffer_pool_size: {get_param: MysqlInnodbBufferPoolSize} mysql_root_password: {get_param: MysqlRootPassword} mysql_cluster_name: str_replace: template: tripleo-CLUSTER params: CLUSTER: {get_param: MysqlClusterUniquePart} neutron_flat_networks: {get_param: NeutronFlatNetworks} neutron_metadata_proxy_shared_secret: {get_param: NeutronMetadataProxySharedSecret} neutron_agent_mode: {get_param: NeutronAgentMode} neutron_router_distributed: {get_param: NeutronDVR} neutron_mechanism_drivers: {get_param: NeutronMechanismDrivers} neutron_allow_l3agent_failover: {get_param: NeutronAllowL3AgentFailover} neutron_network_vlan_ranges: {get_param: NeutronNetworkVLANRanges} neutron_bridge_mappings: {get_param: NeutronBridgeMappings} neutron_public_interface: {get_param: NeutronPublicInterface} neutron_public_interface_raw_device: {get_param: NeutronPublicInterfaceRawDevice} neutron_public_interface_default_route: {get_param: NeutronPublicInterfaceDefaultRoute} neutron_public_interface_tag: {get_param: NeutronPublicInterfaceTag} neutron_tenant_network_type: {get_param: NeutronNetworkType} neutron_tunnel_types: {get_param: NeutronTunnelTypes} neutron_password: {get_param: NeutronPassword} neutron_dnsmasq_options: {get_param: NeutronDnsmasqOptions} neutron_dsn: list_join: - '' - - 'mysql://neutron:unset@' - {get_param: VirtualIP} - '/ovs_neutron?charset=utf8' ceilometer_metering_secret: {get_param: CeilometerMeteringSecret} ceilometer_password: {get_param: CeilometerPassword} ceilometer_dsn: list_join: - '' - - 'mysql://ceilometer:unset@' - {get_param: VirtualIP} - '/ceilometer' snmpd_readonly_user_name: {get_param: SnmpdReadonlyUserName} snmpd_readonly_user_password: {get_param: SnmpdReadonlyUserPassword} nova_password: {get_param: NovaPassword} nova_dsn: list_join: - '' - - 'mysql://nova:unset@' - {get_param: VirtualIP} - '/nova' rabbit_username: {get_param: RabbitUserName} rabbit_password: {get_param: RabbitPassword} rabbit_cookie: {get_param: RabbitCookie} rabbit_client_use_ssl: {get_param: RabbitClientUseSSL} rabbit_client_port: {get_param: RabbitClientPort} ntp_server: {get_param: NtpServer} control_virtual_interface: {get_param: ControlVirtualInterface} public_virtual_interface: {get_param: PublicVirtualInterface} public_virtual_ip: {get_param: PublicVirtualIP} # Map heat metadata into hiera datafiles ControllerConfig: type: OS::Heat::StructuredConfig properties: group: os-apply-config config: hiera: hierarchy: - heat_config_%{::deploy_config_name} - controller - common datafiles: common: raw_data: {get_file: puppet/hieradata/common.yaml} controller: raw_data: {get_file: puppet/hieradata/controller.yaml} oac_data: # data we map in from other OAC configurations bootstrap_nodeid: bootstrap_host.bootstrap_nodeid mapped_data: # data supplied directly to this deployment configuration, etc debug: {get_input: debug} bootstack_nodeid: {get_input: bootstack_nodeid} controller_host: {get_input: controller_host} #local-ipv4 # Cinder cinder_lvm_loop_device_size: {get_input: cinder_lvm_loop_device_size} cinder::volume::iscsi::iscsi_helper: {get_input: cinder_iscsi_helper} cinder::volume::iscsi::iscsi_ip_address: {get_input: controller_host} cinder::database_connection: {get_input: cinder_dsn} cinder::api::keystone_password: {get_input: cinder_password} cinder::api::keystone_auth_host: {get_input: controller_virtual_ip} cinder::api::bind_host: {get_input: controller_host} cinder::rabbit_userid: {get_input: rabbit_username} cinder::rabbit_password: {get_input: rabbit_password} #cinder::debug: {get_input: debug} # Glance glance::api::bind_port: {get_input: glance_port} glance::api::bind_host: {get_input: controller_host} glance::api::auth_host: {get_input: controller_virtual_ip} glance::api::registry_host: {get_input: controller_host} glance::api::keystone_password: {get_input: glance_password} # used to construct glance_api_servers glance_port: {get_input: glance_port} glance_protocol: {get_input: glance_protocol} glance_notifier_strategy: {get_input: glance_notifier_strategy} glance_log_file: {get_input: glance_log_file} glance_log_file: {get_input: glance_log_file} glance::api::database_connection: {get_input: glance_dsn} glance::registry::keystone_password: {get_input: glance_password} glance::registry::database_connection: {get_input: glance_dsn} glance::registry::bind_host: {get_input: controller_host} glance::registry::auth_host: {get_input: controller_virtual_ip} # Heat heat_password: {get_input: heat_password} heat_stack_domain_admin_password: {get_input: heat_stack_domain_admin_password} heat_dsn: {get_input: heat_dsn} heat.watch_server_url: {get_input: heat.watch_server_url} heat.metadata_server_url: {get_input: heat.metadata_server_url} heat.waitcondition_server_url: {get_input: heat.waitcondition_server_url} # Keystone keystone::admin_token: {get_input: admin_token} keystone_ca_certificate: {get_input: keystone_ca_certificate} keystone_signing_key: {get_input: keystone_signing_key} keystone_signing_certificate: {get_input: keystone_signing_certificate} keystone_ssl_certificate: {get_input: keystone_ssl_certificate} keystone_ssl_certificate_key: {get_input: keystone_ssl_certificate_key} keystone::database_connection: {get_input: keystone_dsn} keystone::public_bind_host: {get_input: controller_host} keystone::admin_bind_host: {get_input: controller_host} #keystone::debug: {get_input: debug} # MySQL admin_password: {get_input: admin_password} mysql_innodb_buffer_pool_size: {get_input: mysql_innodb_buffer_pool_size} mysql_root_password: {get_input: mysql_root_password} mysql_cluster_name: {get_input: mysql_cluster_name} # Neutron neutron::bind_host: {get_input: controller_host} neutron::rabbit_password: {get_input: rabbit_password} neutron::rabbit_user: {get_input: rabbit_user} #neutron::debug: {get_input: debug} neutron::server::auth_host: {get_input: controller_virtual_ip} neutron::server::database_connection: {get_input: neutron_dsn} neutron::agents::ml2::ovs::enable_tunneling: {get_input: neutron_enable_tunneling} neutron::agents::ml2::ovs::local_ip: {get_input: controller_host} neutron_flat_networks: {get_input: neutron_flat_networks} neutron::agents::metadata::shared_secret: {get_input: neutron_metadata_proxy_shared_secret} neutron_agent_mode: {get_input: neutron_agent_mode} neutron_router_distributed: {get_input: neutron_router_distributed} neutron_mechanism_drivers: {get_input: neutron_mechanism_drivers} neutron_allow_l3agent_failover: {get_input: neutron_allow_l3agent_failover} neutron::plugins::ml2::network_vlan_ranges: {get_input: neutron_network_vlan_ranges} neutron_bridge_mappings: {get_input: neutron_bridge_mappings} neutron_public_interface: {get_input: neutron_public_interface} neutron_public_interface_raw_device: {get_input: neutron_public_interface_raw_device} neutron_public_interface_default_route: {get_input: neutron_public_interface_default_route} neutron_public_interface_tag: {get_input: neutron_public_interface_tag} neutron_tenant_network_type: {get_input: neutron_tenant_network_type} neutron_tunnel_types: {get_input: neutron_tunnel_types} neutron::server::auth_password: {get_input: neutron_password} neutron::agents::metadata::auth_password: {get_input: neutron_password} neutron_dnsmasq_options: {get_input: neutron_dnsmasq_options} neutron_dsn: {get_input: neutron_dsn} # Ceilometer ceilometer_metering_secret: {get_input: ceilometer_metering_secret} ceilometer_password: {get_input: ceilometer_password} ceilometer_dsn: {get_input: ceilometer_dsn} snmpd_readonly_user_name: {get_input: snmpd_readonly_user_name} snmpd_readonly_user_password: {get_input: snmpd_readonly_user_password} # Nova nova::rabbit_userid: {get_input: rabbit_username} nova::rabbit_password: {get_input: rabbit_password} nova::api::auth_host: {get_input: controller_virtual_ip} nova::api::api_bind_address: {get_input: controller_host} nova::api::metadata_listen: {get_input: controller_host} nova::api::admin_password: {get_input: nova_password} nova::database_connection: {get_input: nova_dsn} nova::api::neutron_metadata_proxy_shared_secret: {get_input: neutron_metadata_proxy_shared_secret} # Rabbit rabbit_username: {get_input: rabbit_username} rabbit_password: {get_input: rabbit_password} rabbit_cookie: {get_input: rabbit_cookie} rabbit_client_use_ssl: {get_input: rabbit_client_use_ssl} rabbit_client_port: {get_input: rabbit_client_port} # Misc neutron_public_interface_ip: {get_input: neutron_public_interface_ip} ntp_server: {get_input: ntp_server} control_virtual_interface: {get_input: control_virtual_interface} controller_virtual_ip: {get_input: controller_virtual_ip} public_virtual_interface: {get_input: public_virtual_interface} public_virtual_ip: {get_input: public_virtual_ip} # Load Balancer (composition class parameters) tripleo::loadbalancer::keystone_admin: true tripleo::loadbalancer::keystone_public: true tripleo::loadbalancer::neutron: true tripleo::loadbalancer::cinder: true tripleo::loadbalancer::glance_api: true tripleo::loadbalancer::glance_registry: true tripleo::loadbalancer::nova_ec2: true tripleo::loadbalancer::nova_osapi: true tripleo::loadbalancer::nova_metadata: true tripleo::loadbalancer::nova_novncproxy: true tripleo::loadbalancer::mysql: true tripleo::loadbalancer::rabbitmq: true # NOTE(dprince): this example uses a composition class # on the puppet side (loadbalancer.pp). This seemed like the # cleanest way to encapulate the puppet resources definitions # for HAProxy and Keepalived. ControllerLoadbalancerPuppetConfig: type: OS::Heat::SoftwareConfig properties: group: puppet options: enable_hiera: True enable_facter: False inputs: outputs: - name: result config: get_file: puppet/loadbalancer.pp ControllerLoadbalancerPuppetDeployment: type: OS::Heat::StructuredDeployment properties: name: puppet_1 server: {get_resource: Controller} config: {get_resource: ControllerLoadbalancerPuppetConfig} input_values: #signal_transport: NO_SIGNAL ControllerPuppetConfig: type: OS::Heat::SoftwareConfig properties: group: puppet options: enable_hiera: True enable_facter: False inputs: - name: step outputs: - name: result config: get_file: puppet/overcloud_controller.pp # Step through a series of two more Puppet runs using the same manifest. # NOTE(dprince): Heat breakpoints would make for a really cool way to step # through breakpoints in a controlled manner across the entire cluster ControllerPuppetDeploymentTwo: type: OS::Heat::StructuredDeployment properties: name: puppet_2 server: {get_resource: Controller} config: {get_resource: ControllerPuppetConfig} input_values: step: 1 #signal_transport: NO_SIGNAL actions: ['CREATE'] # no need for two passes on an UPDATE ControllerPuppetDeploymentThree: type: OS::Heat::StructuredDeployment properties: name: puppet_3 server: {get_resource: Controller} config: {get_resource: ControllerPuppetConfig} input_values: step: 2 #signal_transport: NO_SIGNAL outputs: config_id: description: The ID of the ControllerConfigImpl resource. value: {get_resource: ControllerConfigImpl} outputs: ip_address: description: IP address of the server in the ctlplane network value: {get_attr: [Controller, networks, ctlplane, 0]} hostname: description: Hostname of the server value: {get_attr: [Controller, name]} corosync_node: description: > Node object in the format {ip: ..., name: ...} format that the corosync element expects value: ip: {get_attr: [Controller, networks, ctlplane, 0]} name: {get_attr: [Controller, name]} hosts_entry: description: > Server's IP address and hostname in the /etc/hosts format value: str_replace: template: IP HOST HOST.novalocal CLOUDNAME params: IP: {get_attr: [Controller, networks, ctlplane, 0]} HOST: {get_attr: [Controller, name]} CLOUDNAME: {get_param: CloudName} nova_server_resource: description: Heat resource handle for the Nova compute server value: {get_resource: Controller} swift_device: description: Swift device formatted for swift-ring-builder value: str_replace: template: 'r1z1-IP:%PORT%/d1' params: IP: {get_attr: [Controller, networks, ctlplane, 0]} swift_proxy_memcache: description: Swift proxy-memcache value value: str_replace: template: ""IP:11211"" params: IP: {get_attr: [Controller, networks, ctlplane, 0]} ",,1006,488
openstack%2Fopenstack-ansible~juno~If60a4429217580a205925607465a978a51a3b04f,openstack/openstack-ansible,juno,If60a4429217580a205925607465a978a51a3b04f,Improve documentation in the swift.yml file,MERGED,2015-02-03 10:10:47.000000000,2015-02-03 13:51:42.000000000,2015-02-03 10:50:13.000000000,"[{'_account_id': 3}, {'_account_id': 7217}, {'_account_id': 7307}, {'_account_id': 9515}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-02-03 10:10:47.000000000', 'files': ['etc/rpc_deploy/conf.d/swift.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0734f50cd359b0b90e6a48d5bb5dd950a3feb0f2', 'message': 'Improve documentation in the swift.yml file\n\nImprove the documentation in the swift.yml configuration file.\n\nChange-Id: If60a4429217580a205925607465a978a51a3b04f\nCloses-Bug: #1408391\n(cherry picked from commit 109c8755090dbe2c46d88603d9bb1c6d695597e6)\n'}]",0,152447,0734f50cd359b0b90e6a48d5bb5dd950a3feb0f2,7,5,1,6816,,,0,"Improve documentation in the swift.yml file

Improve the documentation in the swift.yml configuration file.

Change-Id: If60a4429217580a205925607465a978a51a3b04f
Closes-Bug: #1408391
(cherry picked from commit 109c8755090dbe2c46d88603d9bb1c6d695597e6)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/47/152447/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/rpc_deploy/conf.d/swift.yml'],1,0734f50cd359b0b90e6a48d5bb5dd950a3feb0f2,,"# Copyright 2015, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # # Overview # ======== # # This file contains the configuration for the Object Storage (swift) # service. Only enable these options for environments that contain the # Object Storage service. For more information on Object Storage options, # see the documentation at # # http://docs.openstack.org/developer/swift/index.html # # The hierarchical structure of this file supports overrides for most # options. However, for typical deployments, defining options closest # to the top level provides a functional configuration. # # Configuration reference # ======================= # # Level: swift (required) # Contains global options. # # Option: storage_network (optional, string) # Network to use for object storage operations. Defaults to the management # network if omitted. # If using a storage network, specify the network bridge containing it, # typically 'br-storage'. # # Option: repl_network (optional, string) # Network to use for object replication operations. Defaults to the # 'storage_network' value if omitted. # If using a replication network, specify the network bridge containing it, # typically 'br-repl'. # # Option: part_power (required, integer) # Partition power. Immutable without rebuilding the rings. # Applies to all rings unless overridden at the 'account' or 'container' # levels or within a policy under the 'storage_policies' level. # # Option: repl_number (optional, integer) # Number of replicas for each partition. Defaults to 3. # Applies to all rings unless overridden at the 'account' or 'container' # levels or within a policy under the 'storage_policies' level. # # Option: min_part_hours (optional, integer) # Minimum time in hours between multiple moves of the same partition. # Defaults to 1. # Applies to all rings unless overridden at the 'account' or 'container' # levels or within a policy under the 'storage_policies' level. # # Option: region (optional, integer) # Region of a disk. Defaults to 1. # Applies to all disks in all hosts unless overridden deeper in the # structure. # # Option: zone (optional, integer) # Zone of a disk. Defaults to 0. # Applies to all disks in all hosts unless overridden deeper in the # structure. # # Option: weight (optional, integer) # Weight of a disk. Defaults to 100. # Applies to all disks in all hosts unless overridden deeper in the # structure. # # Option: mount_point (required, string) # Top-level directory for mount points of disks. Defaults to /mnt. # Applies to all hosts unless overridden deeper in the structure. # # Level: drives (required) # Contains the mount points of disks. # Applies to all hosts unless overridden deeper in the structure. # # Option: name (required, string) # Mount point of a disk. Use one entry for each disk. # Applies to all hosts unless overridden deeper in the structure. # # The following example shows disks mounted at /mnt/sda and /mnt/sdb # on all storage hosts: # mount_point: /mnt # drives: # - name: sda # - name: sdb # # Level: account (optional) # Contains 'min_part_hours' and 'repl_number' options specific to the # account ring. # # Level: container (optional) # Contains 'min_part_hours' and 'repl_number' options specific to the # container ring. # # Level: storage_policies (required) # Contains storage policies. Minimum one policy. One policy must include # the 'index: 0' and 'default: True' options. # # Level: policy (required) # Contains a storage policy. # # Option: name (required, string) # Policy name. # # Option: index (required, integer) # Policy index. One policy must include this option with a '0' # value. # # Option: default (optional, boolean) # Defines the default policy. One policy must include this option # with a 'True' value. # # Option: deprecated (optional, boolean) # Defines a deprecated policy. # # Note: The following levels and options override any values higher # in the structure and generally apply to advanced deployments. # # Option: repl_number (optional, integer) # Number of replicas of each partition in this policy. # # Option: min_part_hours (optional, integer) # Minimum time between multiple moves of the same partition in this # policy. # # Level: swift_proxy-hosts (required) # Contains definitions for proxy hosts. # # Level: <value> (optional, string) # Name of a proxy host. Typical deployments require at least three # proxy hosts. # # Option: ip (required, string) # IP address of the host. # # Level: swift_hosts (required) # Contains definitions for storage hosts. # # Level: <value> (required, string) # Name of a storage host. Typical deployments require at least three # storage hosts. # # Option: ip (required, string) # IP address of the host. # # Note: The following levels and options override any values higher # in the structure and generally apply to advanced deployments. # # Level: container_vars (optional) # Contains options specific to this host. # # Level: swift_vars (optional) # Contains swift options specific to this host. # # Option: region (optional, integer) # Region of all disks in this host. # # Option: zone (optional, integer) # Zone of all disks in this host. # # Option: weight (optional, integer) # Weight of all disks in this host. # # Level: groups (optional) # Contains groups specific to this host. # The following example shows a storage host with the account ring, # container ring, and 'silver' storage policy: # groups: # - account # - container # - silver # # Level: drives (optional) # Contains the mount points of disks specific to this host. # # Level or option: name (optional, string) # Mount point of a disk specific to this host. Use one entry for # each disk. Functions as a level for disks that contain additional # options. # # Option: region (optional, integer) # Region of a disk in this host. # # Option: zone (optional, integer) # Zone of a disk in this host. # # Option: weight (optional, integer) # Weight of a disk in this host. # # Level: groups (optional) # Contains groups for a disk in this host. # The following example shows a disk with the account ring, # container ring, and 'silver' storage policy: # groups: # - account # - container # - silver # Default (example) configuration # =============================== # Global options# part_power: 8 # repl_number: 3 # min_part_hours: 1 # region: 1 # zone: 0 # weight: 100 # mount_point: /mnt# Proxy hosts# Storage hosts # # The first three hosts contain options for typical deployments. Hosts # four and five show options for more advanced deployments.# zone: 4","## Swift group variables are required only when using swift. ## Below is a sample configuration. ## ## part_power value is required at the swift_level and cannot be changed once the ring has been built without removing the rings manually and rerunning the ring_builder. ## ## The weight value is not required, and will default to 100 if not specified. This value will apply to all drives setup, but can be overriden on a drive or node basis by setting this value in the node or drive config. ## ## The min_part_hours and repl_number values are not required, and will default to ""1"" and ""3"" respectively. Setting these at the swift level will apply this value as a default for all rings (including account/container). These can be overriden on a per ring basis by adjusting the value for account/container or specific storage_policy. ## ## If you are using a storage_network specify the interface that the storage_network is setup on. If this value isn't specified the swift services will listen on the default management ip. NB If the storage_network isn't set but storage_ip's per host are set (or the storage_ip is not on the storage_network interface) the proxy server will not be able to connect to the storage services as this directly changes the IP address the storage hosts are listening on. ## ## If you are using a dedicated replication network specify the interface that the storage_network is setup on. If this value isn't specified no dedicated replication_network will be set. As with the storage_network this impacts the IP that the replication service listens on, if the repl_ip isn't set on that interface replication will not work properly. ## ## Set the default drives per host. This is useful when all hosts have the exact same drives. This can be overridden on a ""per host"" basis. ## ## Set the default mount_point - which is the location where your swift drives are mounted. For example with a mount point of /mnt and a drive of sdc there should be a drive mounted at /mnt/sdc on the swift_host. This can be overriden on a per host basis if required. ## ## For account and container rings, min_part_hours and repl_number are the only values that can be set. Setting them here will override the defaults for the specific ring. ## ## Specify your storage_policies, there must be atleast one storage policy, and atleast one storage policy with index of 0 for legacy containers created before storage policies were instituted. At least one storage policy must have ""default: True"" set. The options that can be set for storage_policies are name (str), index (int), default (bool), deprecated (bool), repl_number (int) and min_part_hours (int) - with the last 2 overriding the default if specified. ### part_power: 8 # weight: 100 # min_part_hours: 1 # repl_number: 3# mount_point: /mnt## Specify the swift-proxy_hosts - these will typically be your infra nodes and are where your swift_proxy containers will be created. ## All that is required is the IP address of the host that ansible will connect to.## Specify the swift_hosts which will be the swift storage nodes. ## ## The ip is the address of the host that ansible will connect to. ## ## all swift settings are set under swift_vars. ## ## The storage_ip and repl_ip represent the IP that will go in the ring for storage and replication. ## These will be pulled from the server's interface (specified by storage_network & replication_network), but can be overriden by specifying them at the node or drive level. ## If only the storage_ip is specified then the repl_ip will default to the storage_ip ## If only the repl_ip is specified then the storage_ip will default to the host ip above. ## If neither are specified both will default to the host ip above. ## ## zone and region can be specified for swift when building the ring. ## ## groups can be set to list which rings a host's drive should belong to. This can be set on a per drive basis which will override the host setting. ## ## swift-node5 is an example of overriding the values. Where the groups are set, and overridden on drive sdb. The weight is overriden for the host, and specifically adjusted on drive sdb, and the storage/repl_ip's are different for sdb. ### container_vars: # swift_vars: # zone: 0# container_vars: # swift_vars: # zone: 1# container_vars: # swift_vars: # zone: 2# zone: 4",225,57
openstack%2Fgnocchi~master~I156585cf4b1b459e10b348470226a219065e045e,openstack/gnocchi,master,I156585cf4b1b459e10b348470226a219065e045e,rest: allow aggregation against any metrics,MERGED,2014-12-10 14:51:57.000000000,2015-02-03 13:51:14.000000000,2015-02-03 13:51:12.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2284}, {'_account_id': 2813}]","[{'number': 1, 'created': '2014-12-10 14:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/20471319111d485992f060a7bc7e08c14aca2fbc', 'message': 'rest: allow aggregation against any metrics\n\nChange-Id: I156585cf4b1b459e10b348470226a219065e045e\n'}, {'number': 2, 'created': '2014-12-10 14:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/b2f9720258df1c5f391414a2a4fde374eab5f1d1', 'message': 'rest: allow aggregation against any metrics\n\nChange-Id: I156585cf4b1b459e10b348470226a219065e045e\n'}, {'number': 3, 'created': '2014-12-11 07:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/b4950eb310660e31f400cb7aaecf505696d8cdd2', 'message': 'rest: allow aggregation against any metrics\n\nChange-Id: I156585cf4b1b459e10b348470226a219065e045e\n'}, {'number': 4, 'created': '2014-12-11 15:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/75cb359845dcf0d552a3d8eb36f0e412614de769', 'message': 'rest: allow aggregation against any metrics\n\nChange-Id: I156585cf4b1b459e10b348470226a219065e045e\n'}, {'number': 5, 'created': '2014-12-18 15:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/35f0c74762d4274eeca98e5eada727d04a0569ae', 'message': 'rest: allow aggregation against any metrics\n\nChange-Id: I156585cf4b1b459e10b348470226a219065e045e\n'}, {'number': 6, 'created': '2014-12-19 10:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/602a1dac8c9ab44d466f0f94741ead0339ba5ec7', 'message': 'rest: allow aggregation against any metrics\n\nChange-Id: I156585cf4b1b459e10b348470226a219065e045e\n'}, {'number': 7, 'created': '2015-01-15 11:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/fda4ee36bb829e6386e497271713f1a1f733a1ed', 'message': 'rest: allow aggregation against any metrics\n\nChange-Id: I156585cf4b1b459e10b348470226a219065e045e\n'}, {'number': 8, 'created': '2015-01-16 10:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/3b086cc5bf79da9249d8c94995859f4f3d328be9', 'message': 'rest: allow aggregation against any metrics\n\nChange-Id: I156585cf4b1b459e10b348470226a219065e045e\n'}, {'number': 9, 'created': '2015-01-27 08:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/c5af2d7b218c635969c1c24ba9885ad7dc30e833', 'message': 'rest: allow aggregation against any metrics\n\nChange-Id: I156585cf4b1b459e10b348470226a219065e045e\n'}, {'number': 10, 'created': '2015-01-27 10:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/6d12363f06c0793541f140e4df3df4c9b39950dd', 'message': 'rest: allow aggregation against any metrics\n\nChange-Id: I156585cf4b1b459e10b348470226a219065e045e\n'}, {'number': 11, 'created': '2015-01-27 10:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/b17c92cffb87b60293ca8c874e85456b382d8437', 'message': 'rest: allow aggregation against any metrics\n\nChange-Id: I156585cf4b1b459e10b348470226a219065e045e\n'}, {'number': 12, 'created': '2015-01-28 07:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/366a172cc24279ee37a1d2d8e334946736c1732f', 'message': 'rest: allow aggregation against any metrics\n\nChange-Id: I156585cf4b1b459e10b348470226a219065e045e\n'}, {'number': 13, 'created': '2015-01-29 13:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/7e324b7f0165c80206e28a7b8766f03d35ff5b84', 'message': 'rest: allow aggregation against any metrics\n\nChange-Id: I156585cf4b1b459e10b348470226a219065e045e\n'}, {'number': 14, 'created': '2015-02-02 09:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/9a19d8b68bf14ed30d55b6970ebcaf3c66412767', 'message': 'rest: allow aggregation against any metrics\n\nChange-Id: I156585cf4b1b459e10b348470226a219065e045e\n'}, {'number': 15, 'created': '2015-02-02 10:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/10c25a36928f14d4a94fd2cdac3f73c62322f1df', 'message': 'rest: allow aggregation against any metrics\n\nChange-Id: I156585cf4b1b459e10b348470226a219065e045e\n'}, {'number': 16, 'created': '2015-02-03 11:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/5d72ad7cb0bf57aa0a258857362dd3c7681896d1', 'message': 'rest: allow aggregation against any metrics\n\nChange-Id: I156585cf4b1b459e10b348470226a219065e045e\n'}, {'number': 17, 'created': '2015-02-03 12:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/ca359bfa49111b20b4d50f8fcc2913d95073930a', 'message': 'rest: allow aggregation against any metrics\n\nChange-Id: I156585cf4b1b459e10b348470226a219065e045e\n'}, {'number': 18, 'created': '2015-02-03 13:14:38.000000000', 'files': ['gnocchi/rest/__init__.py', 'doc/source/rest.j2', 'doc/source/rest.yaml', 'gnocchi/tests/test_rest.py'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/c20e3cbee82f6125a8beed8f1127e04293ad4cc1', 'message': 'rest: allow aggregation against any metrics\n\nChange-Id: I156585cf4b1b459e10b348470226a219065e045e\n'}]",11,140704,c20e3cbee82f6125a8beed8f1127e04293ad4cc1,59,4,18,2813,,,0,"rest: allow aggregation against any metrics

Change-Id: I156585cf4b1b459e10b348470226a219065e045e
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/04/140704/3 && git format-patch -1 --stdout FETCH_HEAD,"['gnocchi/rest/__init__.py', 'gnocchi/storage/_carbonara.py', 'gnocchi/carbonara.py', 'gnocchi/tests/test_rest.py']",4,20471319111d485992f060a7bc7e08c14aca2fbc,sileht/aggregated-measurement," def test_get_aggregated_measures_across_entities(self): result = self.app.post_json(""/v1/metric"", params={""archive_policy"": ""medium""}) metric1 = json.loads(result.text) self.app.post_json(""/v1/metric/%s/measures"" % metric1['id'], params=[{""timestamp"": '2013-01-01 12:00:01', ""value"": 8}, {""timestamp"": '2013-01-01 12:00:02', ""value"": 16}]) result = self.app.post_json(""/v1/metric"", params={""archive_policy"": ""medium""}) metric2 = json.loads(result.text) self.app.post_json(""/v1/metric/%s/measures"" % metric2['id'], params=[{""timestamp"": '2013-01-01 12:00:01', ""value"": 0}, {""timestamp"": '2013-01-01 12:00:02', ""value"": 4}]) result = self.app.post(""/v1/aggregated_metric_measures"" + ""?aggregation=max"", params=dict(metrics=[metric1['id'], metric2['id']]), expect_errors=True) self.assertEqual(200, result.status_code, result.body) measures = json.loads(result.text) self.assertEqual([[u'2013-01-01T00:00:00.000000', 86400.0, 16.0], [u'2013-01-01T12:00:00.000000', 3600.0, 16.0], [u'2013-01-01T12:00:00.000000', 60.0, 16.0]], measures)",,55,7
openstack%2Ffuel-stats~master~If74e4bea0bc9c6a28ce859d775d1b33f36b547a1,openstack/fuel-stats,master,If74e4bea0bc9c6a28ce859d775d1b33f36b547a1,Collecting OSWL,MERGED,2015-01-29 10:29:30.000000000,2015-02-03 13:49:40.000000000,2015-02-03 13:49:40.000000000,"[{'_account_id': 3}, {'_account_id': 8392}, {'_account_id': 8907}, {'_account_id': 8931}, {'_account_id': 8954}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10959}, {'_account_id': 11577}]","[{'number': 1, 'created': '2015-01-29 10:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-stats/commit/0ffd1f19cddfcb7890eca7c4320e9492c8580281', 'message': 'Draft for collecting OSWL\n\nChange-Id: If74e4bea0bc9c6a28ce859d775d1b33f36b547a1\n'}, {'number': 2, 'created': '2015-01-30 16:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-stats/commit/721a777ee8810875becaac51b5f3c4e820de0ac2', 'message': 'Collecting OSWL\n\nDb model created.\nJson scema for API created.\nBlueprints urls moved to app.\nInsert and update for lists of data generalized.\nSQL logging enabled for test mode.\n\nBlueprint: openstack-workload-statistics\nChange-Id: If74e4bea0bc9c6a28ce859d775d1b33f36b547a1\n'}, {'number': 3, 'created': '2015-01-30 16:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-stats/commit/a8a7e297f3b694502654e958a2fe482a36e2d736', 'message': 'Collecting OSWL\n\nDb model created.\nJson scema for API created.\nBlueprints urls moved to app.\nInsert and update for lists of data generalized.\nSQL logging enabled for test mode.\n\nBlueprint: openstack-workload-statistics\nChange-Id: If74e4bea0bc9c6a28ce859d775d1b33f36b547a1\n'}, {'number': 4, 'created': '2015-02-02 09:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-stats/commit/0acec98bc2ba65e7c0c005b7b4390f1d74d771c1', 'message': 'Collecting OSWL\n\nDb model created.\nJson scema for API created.\nBlueprints urls moved to app.\nInsert and update for lists of data generalized.\nSQL logging enabled for test mode.\n\nImplements: blueprint openstack-workload-statistics\nChange-Id: If74e4bea0bc9c6a28ce859d775d1b33f36b547a1\n'}, {'number': 5, 'created': '2015-02-02 13:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-stats/commit/1cb47fb5386fc836a233986c084645e9630ca555', 'message': 'Collecting OSWL\n\nDb model created.\nJson scema for API created.\nBlueprints urls moved to app.\nInsert and update for lists of data generalized.\nSQL logging enabled for test mode.\n\nImplements: blueprint openstack-workload-statistics\nChange-Id: If74e4bea0bc9c6a28ce859d775d1b33f36b547a1\n'}, {'number': 6, 'created': '2015-02-02 13:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-stats/commit/6859ff7007156a8709ccc3912246ea37b539903d', 'message': 'Collecting OSWL\n\nDb model created.\nJson scema for API created.\nBlueprints urls moved to app.\nInsert and update for lists of data generalized.\nSQL logging enabled for test mode.\n\nImplements: blueprint openstack-workload-statistics\nChange-Id: If74e4bea0bc9c6a28ce859d775d1b33f36b547a1\n'}, {'number': 7, 'created': '2015-02-02 13:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-stats/commit/f42d68a5106c03a0050150322acf343ef12ff4c1', 'message': 'Collecting OSWL\n\nDb model created.\nJson scema for API created.\nBlueprints urls moved to app.\nInsert and update for lists of data generalized.\nSQL logging enabled for test mode.\n\nImplements: blueprint openstack-workload-statistics\nChange-Id: If74e4bea0bc9c6a28ce859d775d1b33f36b547a1\n'}, {'number': 8, 'created': '2015-02-02 13:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-stats/commit/7faf97b117f149f06a1f5bd59f75e7827bee6319', 'message': 'Collecting OSWL\n\nDb model created.\nJson scema for API created.\nBlueprints urls moved to app.\nInsert and update for lists of data generalized.\nSQL logging enabled for test mode.\n\nImplements: blueprint openstack-workload-statistics\nChange-Id: If74e4bea0bc9c6a28ce859d775d1b33f36b547a1\n'}, {'number': 9, 'created': '2015-02-02 13:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-stats/commit/ba49a81043d0946605825f9655d9452db3e830aa', 'message': 'Collecting OSWL\n\nDb model created.\nJson scema for API created.\nBlueprints urls moved to app.\nInsert and update for lists of data generalized.\nSQL logging enabled for test mode.\n\nImplements: blueprint openstack-workload-statistics\nChange-Id: If74e4bea0bc9c6a28ce859d775d1b33f36b547a1\n'}, {'number': 10, 'created': '2015-02-02 13:29:35.000000000', 'files': ['collector/collector/api/common/util.py', 'collector/collector/test/base.py', 'collector/collector/api/resources/action_logs.py', 'collector/collector/api/db/model.py', 'collector/collector/api/resources/installation_structure.py', 'collector/collector/api/config.py', 'collector/collector/test/resources/test_oswl_stats.py', 'collector/collector/api/common/consts.py', 'collector/collector/api/resources/oswl.py', 'collector/collector/api/db/migrations/versions/4da2da15ec42_oswl_stats_db_structure.py', 'collector/collector/api/schemas/oswl.json', 'collector/collector/api/app.py', 'collector/collector/api/resources/ping.py', 'collector/collector/test/common/test_util.py'], 'web_link': 'https://opendev.org/openstack/fuel-stats/commit/5321a4e4b15a7a4c06482bc6d4be51adc131dfd0', 'message': 'Collecting OSWL\n\nDb model created.\nJson scema for API created.\nBlueprints urls moved to app.\nInsert and update for lists of data generalized.\nSQL logging enabled for test mode.\n\nImplements: blueprint openstack-workload-statistics\nChange-Id: If74e4bea0bc9c6a28ce859d775d1b33f36b547a1\n'}]",17,151171,5321a4e4b15a7a4c06482bc6d4be51adc131dfd0,56,9,10,10959,,,0,"Collecting OSWL

Db model created.
Json scema for API created.
Blueprints urls moved to app.
Insert and update for lists of data generalized.
SQL logging enabled for test mode.

Implements: blueprint openstack-workload-statistics
Change-Id: If74e4bea0bc9c6a28ce859d775d1b33f36b547a1
",git fetch https://review.opendev.org/openstack/fuel-stats refs/changes/71/151171/8 && git format-patch -1 --stdout FETCH_HEAD,"['collector/collector/test/base.py', 'collector/collector/api/resources/action_logs.py', 'collector/collector/api/db/model.py', 'collector/collector/api/resources/installation_structure.py', 'collector/collector/api/schemas/oswl_1.json', 'collector/collector/api/common/consts.py', 'collector/collector/api/resources/oswl.py', 'collector/collector/api/db/migrations/versions/4da2da15ec42_oswl_stats_db_structure.py', 'collector/collector/test/resources/test_oswl.py', 'collector/collector/api/schemas/oswl.json', 'collector/collector/api/app.py', 'collector/collector/api/resources/ping.py']",12,0ffd1f19cddfcb7890eca7c4320e9492c8580281,bp/s,"bp = Blueprint('ping', __name__)","bp = Blueprint('ping', __name__, url_prefix='/api/v1/ping')",577,9
openstack%2Fgnocchi~master~I480a10064db921d04029e91baa219ad2495acb15,openstack/gnocchi,master,I480a10064db921d04029e91baa219ad2495acb15,Add capabilities documentation,MERGED,2015-02-03 10:59:53.000000000,2015-02-03 13:47:07.000000000,2015-02-03 13:47:06.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2813}]","[{'number': 1, 'created': '2015-02-03 10:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/c41f08b81a1c81dc04ad8986456e3a4e33fa8e0a', 'message': 'Add somes missing documentation\n\nAdd the missing documentation about capability and\nmetrics aggregation.\n\nChange-Id: I480a10064db921d04029e91baa219ad2495acb15\n'}, {'number': 2, 'created': '2015-02-03 11:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/2a289daf4d4b2c6b02482ab25f68005e2481111b', 'message': 'Add missing documentation\n\nThic change adds the missing documentation about capability and\nmetrics aggregation.\n\nChange-Id: I480a10064db921d04029e91baa219ad2495acb15\n'}, {'number': 3, 'created': '2015-02-03 12:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/5f1829a858e4e535f0b53e295c0042c2f0efd4c0', 'message': 'Add capabilities documentation\n\nThis change adds the missing capabilities section into\nthe documentation.\n\nChange-Id: I480a10064db921d04029e91baa219ad2495acb15\n'}, {'number': 4, 'created': '2015-02-03 13:14:27.000000000', 'files': ['doc/source/rest.j2', 'doc/source/rest.yaml'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/1435cc44bab8509886ac3a971c2ab9cb55277e6e', 'message': 'Add capabilities documentation\n\nThis change adds the missing capabilities section into\nthe documentation.\n\nChange-Id: I480a10064db921d04029e91baa219ad2495acb15\n'}]",17,152468,1435cc44bab8509886ac3a971c2ab9cb55277e6e,15,3,4,2813,,,0,"Add capabilities documentation

This change adds the missing capabilities section into
the documentation.

Change-Id: I480a10064db921d04029e91baa219ad2495acb15
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/68/152468/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/rest.j2', 'doc/source/rest.yaml']",2,c41f08b81a1c81dc04ad8986456e3a4e33fa8e0a,," ""display_name"": ""myvm2"", ""server_group"": ""my_autoscaling_group"", ""display_name"": ""myvm2"", ""server_group"": ""my_autoscaling_group"",- name: post-resource-named-metrics-measures1 request: | POST /v1/resource/generic/{{ scenarios['create-resource-instance-with-metrics']['response'].json['id'] }}/metric/cpu.util/measures HTTP/1.1 Content-Type: application/json [ { ""timestamp"": ""2014-10-06T14:33:57"", ""value"": 3.5 }, { ""timestamp"": ""2014-10-06T14:34:12"", ""value"": 20 }, { ""timestamp"": ""2014-10-06T14:34:20"", ""value"": 9 } ] - name: post-resource-named-metrics-measures2 request: | POST /v1/resource/generic/{{ scenarios['create-resource-instance-with-dynamic-metrics']['response'].json['id'] }}/metric/cpu.util/measures HTTP/1.1 Content-Type: application/json [ { ""timestamp"": ""2014-10-06T14:33:57"", ""value"": 25.1 }, { ""timestamp"": ""2014-10-06T14:34:12"", ""value"": 4.5 }, { ""timestamp"": ""2014-10-06T14:34:20"", ""value"": 14.2 } ] - name: get-across-metrics-measures-by-attributes-lookup request: GET /v1/resource/instance/server_group=my_autoscaling_group/metric/cpu.util/measures?start=2014-10-06T14:34&aggregation=mean HTTP/1.1 - name: get-across-metrics-measures-by-metric-ids request: | GET /v1/metric_aggregation?metric={{ scenarios['create-resource-instance-with-metrics']['response'].json['metrics']['cpu.util'] }}&metric={{ scenarios['create-resource-instance-with-dynamic-metrics']['response'].json['metrics']['cpu.util'] }}&start=2014-10-06T14:34&aggregation=mean HTTP/1.1 - name: get-capabilities request: GET /v1/capabilities HTTP/1.1"," ""display_name"": ""myvm"", ""display_name"": ""myvm"",",82,2
openstack%2Fneutron~master~I8f10c5933555e78c75e3ca9c4c1110a3fa66c899,openstack/neutron,master,I8f10c5933555e78c75e3ca9c4c1110a3fa66c899,Cleanup/refactor neutron/agent/linux/iptables_firewall.py,ABANDONED,2014-11-28 16:18:26.000000000,2015-02-03 13:43:37.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 333}, {'_account_id': 1131}, {'_account_id': 1561}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 7448}, {'_account_id': 8655}, {'_account_id': 8788}, {'_account_id': 8976}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 13051}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-11-28 16:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ce0602c460e63ef3329a6548c11075a6095f150', 'message': 'Cleanup/refactor neutron/agent/linux/iptables_firewall.py\n\n- Split long functions into smaller ones.\n- Normalized ipset/normal security group rules generation.\n- Added log error on a not-to-happen condition.\n\nChange-Id: I8f10c5933555e78c75e3ca9c4c1110a3fa66c899\n'}, {'number': 2, 'created': '2014-11-28 16:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9cd7051cfac4cb66991299e5478b238af66c9090', 'message': 'Cleanup/refactor neutron/agent/linux/iptables_firewall.py\n\n- Split long functions into smaller ones.\n- Normalized ipset/normal security group rules generation.\n- Added log error on a not-to-happen condition.\n- Corrected singular/plurals.\n\nChange-Id: I8f10c5933555e78c75e3ca9c4c1110a3fa66c899\n'}, {'number': 3, 'created': '2014-11-28 16:39:55.000000000', 'files': ['neutron/agent/linux/iptables_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/379aed2ac56115f1cdaa1a7ea2c98d5529effa0c', 'message': 'Cleanup/refactor neutron/agent/linux/iptables_firewall.py\n\n- Split long functions into smaller ones.\n- Normalized ipset/normal security group rules generation.\n- Added log error on a not-to-happen condition.\n- Corrected singular/plurals.\n\nChange-Id: I8f10c5933555e78c75e3ca9c4c1110a3fa66c899\n'}]",8,137823,379aed2ac56115f1cdaa1a7ea2c98d5529effa0c,70,32,3,8788,,,0,"Cleanup/refactor neutron/agent/linux/iptables_firewall.py

- Split long functions into smaller ones.
- Normalized ipset/normal security group rules generation.
- Added log error on a not-to-happen condition.
- Corrected singular/plurals.

Change-Id: I8f10c5933555e78c75e3ca9c4c1110a3fa66c899
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/137823/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/iptables_firewall.py'],1,9ce0602c460e63ef3329a6548c11075a6095f150,bp/refactor-iptables-firewall-driver,"from neutron.i18n import _LI,_LE def _add_rules_to_chain_v4v6(self, chain_name, ipv4_rules, ipv6_rules, comment=None): self._add_rules_to_chain_v4v6('FORWARD', jump_rule, jump_rule, comment=ic.VM_INT_SG) self._add_rules_to_chain_v4v6(SG_CHAIN, jump_rule, jump_rule, comment=ic.SG_TO_VM_SG) self._add_rules_to_chain_v4v6('INPUT', jump_rule, jump_rule, comment=ic.INPUT_TO_SG) """"""Select rules from the security groups the port is member of."""""" else: expanded_rules = self._expand_sg_rule_with_remote_ips( rule, port, direction) port_rules.extend(expanded_rules) def _expand_sg_rule_with_remote_ips(self, rule, port, direction): """"""Expand security group rule into several per remote group ips."""""" remote_group_id = rule.get('remote_group_id') if not remote_group_id: return [rule] expanded_rules = [] ethertype = rule['ethertype'] port_ips = port.get('fixed_ips', []) for ip in self.sg_members[remote_group_id][ethertype]: if ip not in port_ips: ip_rule = rule.copy() direction_ip_prefix = DIRECTION_IP_PREFIX[direction] ip_rule[direction_ip_prefix] = str(netaddr.IPNetwork(ip).cidr) expanded_rules.append(ip_rule) return expanded_rules # select rules for current port and direction ipv4_iptables_rules = [] ipv6_iptables_rules = [] ipv4_iptables_rules, ipv6_iptables_rules) self._drop_dhcp_rule(ipv4_iptables_rules, ipv6_iptables_rules) if direction == INGRESS_DIRECTION: ipv6_iptables_rules += self._accept_inbound_icmpv6() ipv4_iptables_rules += self._convert_sgr_to_iptables_rules( ipv4_sg_rules) ipv6_iptables_rules += self._convert_sgr_to_iptables_rules( ipv6_sg_rules) self._add_rules_to_chain_v4v6(self._port_chain_name(port, direction), ipv4_iptables_rules, ipv6_iptables_rules) def _select_sgr_by_direction(self, port, direction): #TODO(ajo): why do we have specific security_group_rules in port? # isn't it all covered in the next function? return [rule for rule in port.get('security_group_rules', []) if rule['direction'] == direction] def _get_current_sg_member_ips(self, sg_id, ethertype): current_ips = self._get_current_sg_member_ips(sg_id, ethertype) if current_ips: ipset = ethertype + sg_id[:IPSET_MAX_LEN] self.ipset.set_members(ipset, current_ips, ethertype) args = self._ipset_rule_args(rule) else: args = self._normal_rule_args(rule) if args: iptables_rules += [' '.join(args)] def _ipset_rule_args(self, sg_rule): remote_gid = sg_rule.get('remote_group_id') if not remote_gid: return self._normal_rule_args(sg_rule) ipset = sg_rule.get('ethertype') + remote_gid[:IPSET_MAX_LEN] if not self.ipset.set_exists(ipset): LOG.error(_LE(""Tried to generate an ipset iptable rule "" ""for a security group rule (%(rule)r) referencing "" ""an ipset (%(ipset)s) which doesn't exist yet.""), {'rule': sg_rule, 'ipset': ipset}) return None ipset_direction = IPSET_DIRECTION[sg_rule.get('direction')] args = self._protocol_arg(sg_rule.get('protocol')) args = self._port_arg('sport', sg_rule.get('protocol'), sg_rule.get('source_port_range_min'), sg_rule.get('source_port_range_max')) args += self._port_arg('dport', sg_rule.get('protocol'), sg_rule.get('port_range_min'), sg_rule.get('port_range_max')) args += ['-m set', '--match-set', ipset, ipset_direction] args += ['-j RETURN'] return args def _normal_rule_args(self, rule): # These arguments MUST be in the format iptables-save will # display them: source/dest, protocol, sport, dport, target # Otherwise the iptables_manager code won't be able to find # them to preserve their [packet:byte] counts. args = self._ip_prefix_arg('s', rule.get('source_ip_prefix')) args += self._ip_prefix_arg('d', rule.get('dest_ip_prefix')) args += self._protocol_arg(rule.get('protocol')) args += self._port_arg('sport', rule.get('protocol'), rule.get('source_port_range_min'), rule.get('source_port_range_max')) args += self._port_arg('dport', rule.get('protocol'), rule.get('port_range_min'), rule.get('port_range_max')) args += ['-j RETURN'] return args def _remove_unused_sg_members(self): def _remove_unused_security_group_info(self): filtered_ports = self.filtered_ports.values() remote_sgs_to_remove = self._calc_remote_sgs_to_remove(filtered_ports) security_groups_to_remove = self._calc_sgs_to_remove(filtered_ports) for ethertype, remote_sg_ids in remote_sgs_to_remove.items(): self._clear_sg_members(ethertype, remote_sg_ids) if self.enable_ipset: self._remove_ipsets_for_remote_sgs(ethertype, remote_sg_ids) # Remove unused remote security group member ips self._remove_unused_sg_members() for remove_group_id in security_groups_to_remove: self.sg_rules.pop(remove_group_id, None) def _calc_remote_sgs_to_remove(self, filtered_ports): ipsets_to_remove = {constants.IPv4: set(), constants.IPv6: set()} remote_group_ids = self._ports_remote_gids_per_ethertype_sets( filtered_ports) for ethertype in [constants.IPv4, constants.IPv6]: ipsets_to_remove[ethertype].update( set(self.pre_sg_members) - remote_group_ids[ethertype]) return ipsets_to_remove def _ports_remote_gids_per_ethertype_sets(self, filtered_ports): remote_group_ids = {constants.IPv4: set(), constants.IPv6: set()} for port in filtered_ports: for direction in INGRESS_DIRECTION, EGRESS_DIRECTION: for ethertype, sg_ids in self._get_remote_sg_ids( port, direction).items(): remote_group_ids[ethertype].update(sg_ids) return remote_group_ids def _calc_sgs_to_remove(self, filtered_ports): security_groups_to_remove = set() port_group_ids = self._ports_gids_set(filtered_ports) security_groups_to_remove.update( set(self.pre_sg_rules) - port_group_ids) return security_groups_to_remove def _ports_gids_set(self, filtered_ports): port_group_ids = set() for port in filtered_ports: port_group_ids.update(port.get('security_groups', [])) return port_group_ids def _clear_sg_members(self, ethertype, remote_sg_ids): for remote_sg_id in remote_sg_ids: if self.sg_members.get(remote_sg_id, {}).get(ethertype, []): self.sg_members[remote_sg_id][ethertype] = [] def _remove_ipsets_for_remote_sgs(self, ethertype, remote_sg_ids): for remote_sg_id in remote_sg_ids: self.ipset.destroy(ethertype + remote_sg_id[:IPSET_MAX_LEN])","from neutron.i18n import _LI def _add_rule_to_chain_v4v6(self, chain_name, ipv4_rules, ipv6_rules, comment=None): self._add_rule_to_chain_v4v6('FORWARD', jump_rule, jump_rule, comment=ic.VM_INT_SG) self._add_rule_to_chain_v4v6(SG_CHAIN, jump_rule, jump_rule, comment=ic.SG_TO_VM_SG) self._add_rule_to_chain_v4v6('INPUT', jump_rule, jump_rule, comment=ic.INPUT_TO_SG) def _select_sgr_by_direction(self, port, direction): return [rule for rule in port.get('security_group_rules', []) if rule['direction'] == direction] fixed_ips = port.get('fixed_ips', []) continue remote_group_id = rule.get('remote_group_id') if not remote_group_id: port_rules.append(rule) continue ethertype = rule['ethertype'] for ip in self.sg_members[remote_group_id][ethertype]: if ip in fixed_ips: continue ip_rule = rule.copy() direction_ip_prefix = DIRECTION_IP_PREFIX[direction] ip_rule[direction_ip_prefix] = str( netaddr.IPNetwork(ip).cidr) port_rules.append(ip_rule) chain_name = self._port_chain_name(port, direction) # select rules for current direction # update the corresponding ipset members ipv4_iptables_rule = [] ipv6_iptables_rule = [] ipv4_iptables_rule, ipv6_iptables_rule) self._drop_dhcp_rule(ipv4_iptables_rule, ipv6_iptables_rule) if direction == INGRESS_DIRECTION: ipv6_iptables_rule += self._accept_inbound_icmpv6() ipv4_iptables_rule += self._convert_sgr_to_iptables_rules( ipv4_sg_rules) ipv6_iptables_rule += self._convert_sgr_to_iptables_rules( ipv6_sg_rules) self._add_rule_to_chain_v4v6(chain_name, ipv4_iptables_rule, ipv6_iptables_rule) def _get_cur_sg_member_ips(self, sg_id, ethertype): cur_member_ips = self._get_cur_sg_member_ips(sg_id, ethertype) set_name = ethertype + sg_id[:IPSET_MAX_LEN] if cur_member_ips: self.ipset.set_members(set_name, cur_member_ips, ethertype) def _generate_ipset_chain(self, sg_rule, remote_gid): iptables_rules = [] args = self._protocol_arg(sg_rule.get('protocol')) args += self._port_arg('sport', sg_rule.get('protocol'), sg_rule.get('source_port_range_min'), sg_rule.get('source_port_range_max')) args += self._port_arg('dport', sg_rule.get('protocol'), sg_rule.get('port_range_min'), sg_rule.get('port_range_max')) direction = sg_rule.get('direction') ethertype = sg_rule.get('ethertype') ipset = (ethertype + remote_gid[:IPSET_MAX_LEN]) if self.ipset.set_exists(ipset): args += ['-m set', '--match-set', ipset, IPSET_DIRECTION[direction]] args += ['-j RETURN'] iptables_rules += [' '.join(args)] return iptables_rules remote_gid = rule.get('remote_group_id') if remote_gid: iptables_rules.extend( self._generate_ipset_chain(rule, remote_gid)) continue # These arguments MUST be in the format iptables-save will # display them: source/dest, protocol, sport, dport, target # Otherwise the iptables_manager code won't be able to find # them to preserve their [packet:byte] counts. args = self._ip_prefix_arg('s', rule.get('source_ip_prefix')) args += self._ip_prefix_arg('d', rule.get('dest_ip_prefix')) args += self._protocol_arg(rule.get('protocol')) args += self._port_arg('sport', rule.get('protocol'), rule.get('source_port_range_min'), rule.get('source_port_range_max')) args += self._port_arg('dport', rule.get('protocol'), rule.get('port_range_min'), rule.get('port_range_max')) args += ['-j RETURN'] iptables_rules += [' '.join(args)] def _remove_unused_security_group_info(self): need_removed_ipsets = {constants.IPv4: set(), constants.IPv6: set()} need_removed_security_groups = set() remote_group_ids = {constants.IPv4: set(), constants.IPv6: set()} cur_group_ids = set() for port in self.filtered_ports.values(): for direction in INGRESS_DIRECTION, EGRESS_DIRECTION: for ethertype, sg_ids in self._get_remote_sg_ids( port, direction).items(): remote_group_ids[ethertype].update(sg_ids) groups = port.get('security_groups', []) cur_group_ids.update(groups) for ethertype in [constants.IPv4, constants.IPv6]: need_removed_ipsets[ethertype].update( [x for x in self.pre_sg_members if x not in remote_group_ids[ ethertype]]) need_removed_security_groups.update( [x for x in self.pre_sg_rules if x not in cur_group_ids]) # Remove unused remote ipset set for ethertype, remove_sg_ids in need_removed_ipsets.items(): for remove_sg_id in remove_sg_ids: if self.sg_members.get(remove_sg_id, {}).get(ethertype, []): self.sg_members[remove_sg_id][ethertype] = [] if self.enable_ipset: self.ipset.destroy( ethertype + remove_sg_id[:IPSET_MAX_LEN]) # Remove unused remote security group member ips for remove_group_id in need_removed_security_groups: if remove_group_id in self.sg_rules: self.sg_rules.pop(remove_group_id, None)",184,134
openstack%2Fopenstack-ansible~juno~I9237c2a191c5145e946288e2f1466493844f1ad5,openstack/openstack-ansible,juno,I9237c2a191c5145e946288e2f1466493844f1ad5,Include paths in cron jobs,MERGED,2015-02-03 10:16:35.000000000,2015-02-03 13:30:26.000000000,2015-02-03 11:00:42.000000000,"[{'_account_id': 3}, {'_account_id': 425}, {'_account_id': 6816}, {'_account_id': 7217}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-02-03 10:16:35.000000000', 'files': ['rpc_deployment/roles/keystone_setup/tasks/keystone_token_cron.yml', 'rpc_deployment/roles/glance_cache_crons/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/35e352ead77ee6d6f8d66ae8496f540fb1a21e49', 'message': 'Include paths in cron jobs\n\nAs reported, keystone-manage is failing to run via cron due to default\nPATH not including /usr/local/bin.  This commit includes path while\nalso updating the cron jobs in roles/glance_cache_crons/tasks/main.yml\nwhich are also affected.\n\nOn a side note, we may want to create these crons under /etc/cron.d\nso we can have system cron jobs all under one place, but that can be\ndone in a later commit if others agree.\n\nChange-Id: I9237c2a191c5145e946288e2f1466493844f1ad5\nCloses-Bug: #1410437\n(cherry picked from commit 4f77d789e877e887f2c3f2d86cf9a5527bb421fd)\n'}]",0,152450,35e352ead77ee6d6f8d66ae8496f540fb1a21e49,8,5,1,7307,,,0,"Include paths in cron jobs

As reported, keystone-manage is failing to run via cron due to default
PATH not including /usr/local/bin.  This commit includes path while
also updating the cron jobs in roles/glance_cache_crons/tasks/main.yml
which are also affected.

On a side note, we may want to create these crons under /etc/cron.d
so we can have system cron jobs all under one place, but that can be
done in a later commit if others agree.

Change-Id: I9237c2a191c5145e946288e2f1466493844f1ad5
Closes-Bug: #1410437
(cherry picked from commit 4f77d789e877e887f2c3f2d86cf9a5527bb421fd)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/50/152450/1 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/roles/keystone_setup/tasks/keystone_token_cron.yml', 'rpc_deployment/roles/glance_cache_crons/tasks/main.yml']",2,35e352ead77ee6d6f8d66ae8496f540fb1a21e49,, - name: /usr/local/bin/glance-cache-pruner - name: /usr/local/bin/glance-cache-cleaner, - name: glance-cache-pruner - name: glance-cache-cleaner,3,3
openstack%2Fhorizon~master~I8d6de7199299428224bce76b4c5216e604bb6979,openstack/horizon,master,I8d6de7199299428224bce76b4c5216e604bb6979,Imported Translations from Transifex,MERGED,2015-02-03 06:07:53.000000000,2015-02-03 13:25:57.000000000,2015-02-03 13:25:55.000000000,"[{'_account_id': 3}, {'_account_id': 6914}, {'_account_id': 9317}]","[{'number': 1, 'created': '2015-02-03 06:07:53.000000000', 'files': ['horizon/locale/es/LC_MESSAGES/django.po', 'horizon/locale/hi/LC_MESSAGES/django.po', 'horizon/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pl_PL/LC_MESSAGES/django.po', 'horizon/locale/hu/LC_MESSAGES/django.po', 'horizon/locale/pl_PL/LC_MESSAGES/django.po', 'horizon/locale/cs/LC_MESSAGES/django.po', 'horizon/locale/pa_IN/LC_MESSAGES/django.po', 'horizon/locale/en/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en/LC_MESSAGES/django.po', 'horizon/locale/ca/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'horizon/locale/es_MX/LC_MESSAGES/django.po', 'horizon/locale/sl_SI/LC_MESSAGES/django.po', 'horizon/locale/fr/LC_MESSAGES/django.po', 'horizon/locale/fi_FI/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_TW/LC_MESSAGES/django.po', 'horizon/locale/it/LC_MESSAGES/django.po', 'horizon/locale/tr_TR/LC_MESSAGES/django.po', 'horizon/locale/en_AU/LC_MESSAGES/django.po', 'horizon/locale/en_GB/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_AU/LC_MESSAGES/django.po', 'horizon/locale/zh_CN/LC_MESSAGES/django.po', 'horizon/locale/zh_TW/LC_MESSAGES/django.po', 'openstack_dashboard/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'openstack_dashboard/locale/sr/LC_MESSAGES/django.po', 'horizon/locale/ru/LC_MESSAGES/django.po', 'horizon/locale/fr/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/cs/LC_MESSAGES/django.po', 'openstack_dashboard/locale/nl_NL/LC_MESSAGES/django.po', 'horizon/locale/fil/LC_MESSAGES/django.po', 'horizon/locale/ko_KR/LC_MESSAGES/django.po', 'horizon/locale/nl_NL/LC_MESSAGES/django.po', 'openstack_dashboard/locale/hi/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'horizon/locale/id/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'horizon/locale/sr/LC_MESSAGES/django.po', 'horizon/locale/pt/LC_MESSAGES/django.po', 'horizon/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'horizon/locale/pt_BR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6d7cb3836673d532a7490d79dd8dcfbf1c44e420', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I8d6de7199299428224bce76b4c5216e604bb6979\n'}]",0,152399,6d7cb3836673d532a7490d79dd8dcfbf1c44e420,7,3,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I8d6de7199299428224bce76b4c5216e604bb6979
",git fetch https://review.opendev.org/openstack/horizon refs/changes/99/152399/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/locale/es/LC_MESSAGES/django.po', 'horizon/locale/hi/LC_MESSAGES/django.po', 'horizon/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pl_PL/LC_MESSAGES/django.po', 'horizon/locale/hu/LC_MESSAGES/django.po', 'horizon/locale/pl_PL/LC_MESSAGES/django.po', 'horizon/locale/cs/LC_MESSAGES/django.po', 'horizon/locale/pa_IN/LC_MESSAGES/django.po', 'horizon/locale/en/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en/LC_MESSAGES/django.po', 'horizon/locale/ca/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'horizon/locale/es_MX/LC_MESSAGES/django.po', 'horizon/locale/sl_SI/LC_MESSAGES/django.po', 'horizon/locale/fr/LC_MESSAGES/django.po', 'horizon/locale/fi_FI/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_TW/LC_MESSAGES/django.po', 'horizon/locale/it/LC_MESSAGES/django.po', 'horizon/locale/tr_TR/LC_MESSAGES/django.po', 'horizon/locale/en_AU/LC_MESSAGES/django.po', 'horizon/locale/en_GB/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_AU/LC_MESSAGES/django.po', 'horizon/locale/zh_CN/LC_MESSAGES/django.po', 'horizon/locale/zh_TW/LC_MESSAGES/django.po', 'openstack_dashboard/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'openstack_dashboard/locale/sr/LC_MESSAGES/django.po', 'horizon/locale/ru/LC_MESSAGES/django.po', 'horizon/locale/fr/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/cs/LC_MESSAGES/django.po', 'openstack_dashboard/locale/nl_NL/LC_MESSAGES/django.po', 'horizon/locale/fil/LC_MESSAGES/django.po', 'horizon/locale/ko_KR/LC_MESSAGES/django.po', 'horizon/locale/nl_NL/LC_MESSAGES/django.po', 'openstack_dashboard/locale/hi/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'horizon/locale/id/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'horizon/locale/sr/LC_MESSAGES/django.po', 'horizon/locale/pt/LC_MESSAGES/django.po', 'horizon/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'horizon/locale/pt_BR/LC_MESSAGES/django.po']",46,6d7cb3836673d532a7490d79dd8dcfbf1c44e420,transifex/translations,"""POT-Creation-Date: 2015-02-02 15:13-0600\n"" ""PO-Revision-Date: 2015-02-02 19:18+0000\n""#: templates/horizon/common/_usage_summary.html:24 msgid ""This Period's RAM-Hours:"" msgstr """" ","""POT-Creation-Date: 2015-01-29 23:24-0600\n"" ""PO-Revision-Date: 2015-01-27 05:48+0000\n""",1232,864
openstack%2Fneutron~master~Idc0648d5c4688c8f797cc5427b71c2a3919ce722,openstack/neutron,master,Idc0648d5c4688c8f797cc5427b71c2a3919ce722,Refactor ml2 manager,MERGED,2015-01-21 23:53:11.000000000,2015-02-03 13:25:45.000000000,2015-02-03 13:25:43.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 1561}, {'_account_id': 1689}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 7249}, {'_account_id': 7293}, {'_account_id': 7715}, {'_account_id': 8124}, {'_account_id': 8645}, {'_account_id': 8792}, {'_account_id': 8873}, {'_account_id': 9008}, {'_account_id': 9093}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14039}, {'_account_id': 14208}, {'_account_id': 14212}]","[{'number': 1, 'created': '2015-01-21 23:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9cbd19c4669e5886c9fb351e5a7f96202dc93e5a', 'message': 'Refactor ml2 manager\n\nRefactor code to facilitate other changes. Keeping the\nrefactored code in different patch for ease of review.\n\nChange-Id: Idc0648d5c4688c8f797cc5427b71c2a3919ce722\n'}, {'number': 2, 'created': '2015-01-22 17:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/703ed00c1e30ee69214d59acc257644e7a9ffcb1', 'message': 'Refactor ml2 manager\n\nRefactor code to facilitate other changes. Keeping the\nrefactored code in different patch for ease of review.\n\nChange-Id: Idc0648d5c4688c8f797cc5427b71c2a3919ce722\n'}, {'number': 3, 'created': '2015-01-28 00:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/74665eb44aea32dccdf42c9d0ec48eb0dfd981e5', 'message': 'Refactor ml2 manager\n\nRefactor code to facilitate other changes. Keeping the\nrefactored code in different patch for ease of review.\nThis patch mainly consolidates the keys that are referenced\ntogether most of the time in reference to providernet\nextension. By doing this, the subsequent changes are less\nrepetitive and makes the code little cleaner as well.\n\nChange-Id: Idc0648d5c4688c8f797cc5427b71c2a3919ce722\nRelated-Bug: #1333475\n'}, {'number': 4, 'created': '2015-01-28 21:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/73c09a7b41f64247d2cc09cafbfe322815367b87', 'message': 'Refactor ml2 manager\n\nRefactor code to facilitate other changes. Keeping the\nrefactored code in different patch for ease of review.\nThis patch mainly consolidates the keys that are referenced\ntogether most of the time in reference to providernet\nextension. By doing this, the subsequent changes are less\nrepetitive and makes the code little cleaner as well.\n\nChange-Id: Idc0648d5c4688c8f797cc5427b71c2a3919ce722\nRelated-Bug: #1333475\n'}, {'number': 5, 'created': '2015-01-30 16:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e670e402093486e0ba802fb49c917f66f811897d', 'message': 'Refactor ml2 manager\n\nRefactor code to facilitate other changes. Keeping the\nrefactored code in different patch for ease of review.\nThis patch mainly consolidates the keys that are referenced\ntogether most of the time in reference to providernet\nextension. By doing this, the subsequent changes are less\nrepetitive and makes the code little cleaner as well.\n\nChange-Id: Idc0648d5c4688c8f797cc5427b71c2a3919ce722\nRelated-Bug: #1333475\n'}, {'number': 6, 'created': '2015-02-02 16:53:44.000000000', 'files': ['neutron/plugins/ml2/managers.py', 'neutron/extensions/providernet.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9213a5a9f89f9b0833e9d0dc088aaf3ce99a4d8f', 'message': 'Refactor ml2 manager\n\nRefactor code to facilitate other changes. Keeping the\nrefactored code in different patch for ease of review.\nThis patch mainly consolidates the keys that are referenced\ntogether most of the time in reference to providernet\nextension. By doing this, the subsequent changes are less\nrepetitive and makes the code little cleaner as well.\n\nChange-Id: Idc0648d5c4688c8f797cc5427b71c2a3919ce722\nRelated-Bug: #1333475\n'}]",32,149088,9213a5a9f89f9b0833e9d0dc088aaf3ce99a4d8f,142,35,6,8792,,,0,"Refactor ml2 manager

Refactor code to facilitate other changes. Keeping the
refactored code in different patch for ease of review.
This patch mainly consolidates the keys that are referenced
together most of the time in reference to providernet
extension. By doing this, the subsequent changes are less
repetitive and makes the code little cleaner as well.

Change-Id: Idc0648d5c4688c8f797cc5427b71c2a3919ce722
Related-Bug: #1333475
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/149088/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/managers.py'],1,9cbd19c4669e5886c9fb351e5a7f96202dc93e5a,ml2-provider-refactor," PROVIDER_NET_KEYS = [provider.NETWORK_TYPE, provider.PHYSICAL_NETWORK, provider.SEGMENTATION_ID] (network_type, physical_network, segmentation_id) = \ (self._get_attribute(segment, key) for key in self.PROVIDER_NET_KEYS) def _get_segment_attributes(self, network): return dict((key, self._get_attribute(network, key)) for key in self.PROVIDER_NET_KEYS) for f in self.PROVIDER_NET_KEYS): segments = [self._get_segment_attributes(network)] for k in self.PROVIDER_NET_KEYS: network[k] = None"," network_type = self._get_attribute(segment, provider.NETWORK_TYPE) physical_network = self._get_attribute(segment, provider.PHYSICAL_NETWORK) segmentation_id = self._get_attribute(segment, provider.SEGMENTATION_ID) for f in (provider.NETWORK_TYPE, provider.PHYSICAL_NETWORK, provider.SEGMENTATION_ID)): network_type = self._get_attribute(network, provider.NETWORK_TYPE) physical_network = self._get_attribute(network, provider.PHYSICAL_NETWORK) segmentation_id = self._get_attribute(network, provider.SEGMENTATION_ID) segments = [{provider.NETWORK_TYPE: network_type, provider.PHYSICAL_NETWORK: physical_network, provider.SEGMENTATION_ID: segmentation_id}] network[provider.NETWORK_TYPE] = None network[provider.PHYSICAL_NETWORK] = None network[provider.SEGMENTATION_ID] = None",15,18
openstack%2Ffuel-main~master~I54881d0b83d5e4a76393b60a61d6a3a5dd95708f,openstack/fuel-main,master,I54881d0b83d5e4a76393b60a61d6a3a5dd95708f,Add RabbitMQ waiting in HA,ABANDONED,2014-10-29 13:11:31.000000000,2015-02-03 13:21:08.000000000,,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 6926}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 9439}, {'_account_id': 10136}, {'_account_id': 11081}, {'_account_id': 11969}, {'_account_id': 12129}]","[{'number': 1, 'created': '2014-10-29 13:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/3b3b6bf6512face3bf7b58bf71cef73eba19ac2f', 'message': ""Add RabbitMQ waiting in HA\n\n* Added 'wait_rabbitmq_is_up' method to fuel_web_client.\n\n  1) This method checks, if pacemaker promoted rabbitmq service on\n  some node as the Master, and if the rabbitmq cluster is accepting\n  connections (by checking 'haproxy' backend status).\n  After 1800 sec the method raises a timeout error.\n\n  2) If rabbitmq has started then wait for 120 sec to make\n  sure that pacemaker won't perform re-assembling the rabbitmq\n  cluster by some reason. Yet if the rabbitmq ran away then repeat\n  the 1) and wait again. After 3 times of running/stopping the\n  rabbitmq cluster, the method raises an error.\n\n* Added 'wait_rabbitmq_is_up' to the test 'ceph_ha_restart'\n\n* Added 'remote_install_pkg' method to perform installing packages\n  on any node of the cluster.\n\nChange-Id: I54881d0b83d5e4a76393b60a61d6a3a5dd95708f\n""}, {'number': 2, 'created': '2014-10-29 13:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/1c3c26c079a1cd04bf689f2cec34a47da5a4bd41', 'message': ""Add RabbitMQ waiting in HA\n\n* Added 'wait_rabbitmq_is_up' method to fuel_web_client.\n\n  1) This method checks, if pacemaker promoted rabbitmq service on\n  some node as the Master, and if the rabbitmq cluster is accepting\n  connections (by checking 'haproxy' backend status).\n  After 1800 sec the method raises a timeout error.\n\n  2) If rabbitmq has started then wait for 120 sec to make\n  sure that pacemaker won't perform re-assembling the rabbitmq\n  cluster by some reason. Yet if the rabbitmq ran away then repeat\n  the 1) and wait again. After 3 times of running/stopping the\n  rabbitmq cluster, the method raises an error.\n\n* Added 'wait_rabbitmq_is_up' to the test 'ceph_ha_restart'\n\n* Added 'remote_install_pkg' method to perform installing packages\n  on any node of the cluster.\n\nChange-Id: I54881d0b83d5e4a76393b60a61d6a3a5dd95708f\n""}, {'number': 3, 'created': '2014-10-29 13:16:17.000000000', 'files': ['fuelweb_test/models/fuel_web_client.py', 'fuelweb_test/tests/tests_strength/test_restart.py', 'fuelweb_test/models/environment.py', 'fuelweb_test/helpers/security.py', 'fuelweb_test/helpers/checkers.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/e6ca2507d19c58c85557a1fb5080de0d3ca5dad6', 'message': ""Add RabbitMQ waiting in HA\n\n* Added 'wait_rabbitmq_is_up' method to fuel_web_client.\n\n  1) This method checks, if pacemaker promoted rabbitmq service on\n  some node as the Master, and if the rabbitmq cluster is accepting\n  connections (by checking 'haproxy' backend status).\n  After 1800 sec the method raises a timeout error.\n\n  2) If rabbitmq has started then wait for 120 sec to make\n  sure that pacemaker won't perform re-assembling the rabbitmq\n  cluster by some reason. Yet if the rabbitmq ran away then repeat\n  the 1) and wait again. After 3 times of running/stopping the\n  rabbitmq cluster, the method raises an error.\n\n* Added 'wait_rabbitmq_is_up' to the test 'ceph_ha_restart'\n\n* Added 'remote_install_pkg' method to perform installing packages\n  on any node of the cluster.\n\nRelated-Bug: #1383247\n\nChange-Id: I54881d0b83d5e4a76393b60a61d6a3a5dd95708f\n""}]",2,131742,e6ca2507d19c58c85557a1fb5080de0d3ca5dad6,18,11,3,11969,,,0,"Add RabbitMQ waiting in HA

* Added 'wait_rabbitmq_is_up' method to fuel_web_client.

  1) This method checks, if pacemaker promoted rabbitmq service on
  some node as the Master, and if the rabbitmq cluster is accepting
  connections (by checking 'haproxy' backend status).
  After 1800 sec the method raises a timeout error.

  2) If rabbitmq has started then wait for 120 sec to make
  sure that pacemaker won't perform re-assembling the rabbitmq
  cluster by some reason. Yet if the rabbitmq ran away then repeat
  the 1) and wait again. After 3 times of running/stopping the
  rabbitmq cluster, the method raises an error.

* Added 'wait_rabbitmq_is_up' to the test 'ceph_ha_restart'

* Added 'remote_install_pkg' method to perform installing packages
  on any node of the cluster.

Related-Bug: #1383247

Change-Id: I54881d0b83d5e4a76393b60a61d6a3a5dd95708f
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/42/131742/3 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/models/fuel_web_client.py', 'fuelweb_test/tests/tests_strength/test_restart.py', 'fuelweb_test/models/environment.py', 'fuelweb_test/helpers/security.py', 'fuelweb_test/helpers/checkers.py']",5,3b3b6bf6512face3bf7b58bf71cef73eba19ac2f,bug/1383247,"def check_rabbitmq_crm_status(remote): cmd = 'crm_resource --resource master_p_rabbitmq-server --locate' result = remote.execute(cmd) rabbitmq_resources = ''.join(result['stdout']) for rabbitmq_res in rabbitmq_resources.splitlines(): logger.debug(rabbitmq_res) if ('Master' in rabbitmq_res and 'is running on:' in rabbitmq_res): return True return False @logwrap def check_rabbitmq_ha_backend(remote): cmd = ('echo show stat |' 'socat unix-connect:///var/lib/haproxy/stats stdio |' 'grep rabbitmq,BACKEND,.*,UP') return (remote.execute(cmd)['exit_code'] == 0) @logwrap",,103,25
openstack%2Fopenstacksdk~master~Ieae03407e2e8bd94ecbbfe471f3835cb3ba29dc9,openstack/openstacksdk,master,Ieae03407e2e8bd94ecbbfe471f3835cb3ba29dc9,Add six to requirements,MERGED,2015-02-03 00:04:49.000000000,2015-02-03 13:07:29.000000000,2015-02-03 13:07:28.000000000,"[{'_account_id': 3}, {'_account_id': 8736}, {'_account_id': 12000}, {'_account_id': 12807}]","[{'number': 1, 'created': '2015-02-03 00:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bf0074963297a64b41a7cea2f07053833bb30141', 'message': ""Add six to requirements.\n\nWe have been getting ``six`` most recently through stevedore, but\nbecause we use it directly, it should be an explicit dependency of\nours. The version it's pinned on, >=1.7.0, matches what is in\nglobal-requirements.\n\nChange-Id: Ieae03407e2e8bd94ecbbfe471f3835cb3ba29dc9\n""}, {'number': 2, 'created': '2015-02-03 01:57:52.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/364800b2be008e29c99b3d5338ac02842ee535a2', 'message': ""Add six to requirements\n\nWe have been getting ``six`` most recently through stevedore, but\nbecause we use it directly, it should be an explicit dependency of\nours. The version it's pinned on, >=1.7.0, matches what is in\nglobal-requirements.\n\nChange-Id: Ieae03407e2e8bd94ecbbfe471f3835cb3ba29dc9\n""}]",0,152351,364800b2be008e29c99b3d5338ac02842ee535a2,10,4,2,8257,,,0,"Add six to requirements

We have been getting ``six`` most recently through stevedore, but
because we use it directly, it should be an explicit dependency of
ours. The version it's pinned on, >=1.7.0, matches what is in
global-requirements.

Change-Id: Ieae03407e2e8bd94ecbbfe471f3835cb3ba29dc9
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/51/152351/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,bf0074963297a64b41a7cea2f07053833bb30141,add_six,six>=1.7.0,,1,0
openstack%2Fopenstacksdk~master~I7eb26590afb8e42e5884f0e15d2387a11d58d76c,openstack/openstacksdk,master,I7eb26590afb8e42e5884f0e15d2387a11d58d76c,Remove iso8601 from dependencies,MERGED,2015-02-02 23:29:50.000000000,2015-02-03 13:06:57.000000000,2015-02-03 13:06:55.000000000,"[{'_account_id': 3}, {'_account_id': 8736}, {'_account_id': 12807}]","[{'number': 1, 'created': '2015-02-02 23:29:50.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/819e1ff4c79aa9b6207ea1895b254ed30281e9c4', 'message': 'Remove iso8601 from dependencies\n\nOur usage of this is now handled within oslo.utils.timeutils\n\nChange-Id: I7eb26590afb8e42e5884f0e15d2387a11d58d76c\n'}]",0,152336,819e1ff4c79aa9b6207ea1895b254ed30281e9c4,7,3,1,8257,,,0,"Remove iso8601 from dependencies

Our usage of this is now handled within oslo.utils.timeutils

Change-Id: I7eb26590afb8e42e5884f0e15d2387a11d58d76c
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/36/152336/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,819e1ff4c79aa9b6207ea1895b254ed30281e9c4,remove_iso8601,,iso8601>=0.1.9,0,1
openstack%2Fsahara~master~I895b3a622d213d9ca80bc37288a9987a3d6f5e13,openstack/sahara,master,I895b3a622d213d9ca80bc37288a9987a3d6f5e13,Waiting should depends on cluster state,MERGED,2015-01-27 12:56:42.000000000,2015-02-03 13:06:53.000000000,2015-02-03 13:06:53.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 8411}, {'_account_id': 12038}]","[{'number': 1, 'created': '2015-01-27 12:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/3a1b7f8dc5e515e865c87e5b8db0c25ee0011cc2', 'message': ""Waiting should depends on cluster state\n\nWaiting for hosts registrations should depends on cluster state,\nso let's add such checks.\n\nChange-Id: I895b3a622d213d9ca80bc37288a9987a3d6f5e13\nCloses-bug: #1319079\n""}, {'number': 2, 'created': '2015-01-28 13:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/7b5f397c3159358c066c9051bb453f7d0f4815ac', 'message': ""Waiting should depends on cluster state\n\nWaiting for hosts registrations should depends on cluster state,\nso let's add such checks.\n\nChange-Id: I895b3a622d213d9ca80bc37288a9987a3d6f5e13\nCloses-bug: #1319079\n""}, {'number': 3, 'created': '2015-01-28 13:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/c9f9fd944258e5b9b5fcd36147936f7d1770347f', 'message': ""Waiting should depends on cluster state\n\nWaiting for hosts registrations should depends on cluster state,\nso let's add such checks.\n\nChange-Id: I895b3a622d213d9ca80bc37288a9987a3d6f5e13\nCloses-bug: #1319079\n""}, {'number': 4, 'created': '2015-01-29 12:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/349fd75ade35563647e5e1e6de32aecceb6bc1f7', 'message': ""Waiting should depends on cluster state\n\nWaiting for hosts registrations should depends on cluster state,\nso let's add such checks.\n\nChange-Id: I895b3a622d213d9ca80bc37288a9987a3d6f5e13\nCloses-bug: #1319079\n""}, {'number': 5, 'created': '2015-01-29 13:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/f472b12be7c4f0d9739466783fcb3c2fa1dccf16', 'message': ""Waiting should depends on cluster state\n\nWaiting for hosts registrations should depends on cluster state,\nso let's add such checks.\n\nChange-Id: I895b3a622d213d9ca80bc37288a9987a3d6f5e13\nCloses-bug: #1319079\n""}, {'number': 6, 'created': '2015-01-30 09:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/725e9a279c098bd715eecd73fc6a7b078071398e', 'message': ""Waiting should depends on cluster state\n\nWaiting for hosts registrations should depends on cluster state,\nso let's add such checks.\n\nChange-Id: I895b3a622d213d9ca80bc37288a9987a3d6f5e13\nCloses-bug: #1319079\n""}, {'number': 7, 'created': '2015-01-30 09:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/c4acf529cc2e9f7389966ff63cbdeec90792c9ee', 'message': ""Waiting should depends on cluster state\n\nWaiting for hosts registrations should depends on cluster state,\nso let's add such checks.\n\nChange-Id: I895b3a622d213d9ca80bc37288a9987a3d6f5e13\nCloses-bug: #1319079\n""}, {'number': 8, 'created': '2015-02-02 10:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/f5a5b8f3fb455e5f77e742d5e138a2c460eb909f', 'message': ""Waiting should depends on cluster state\n\nWaiting for hosts registrations should depends on cluster state,\nso let's add such checks.\n\nChange-Id: I895b3a622d213d9ca80bc37288a9987a3d6f5e13\nCloses-bug: #1319079\n""}, {'number': 9, 'created': '2015-02-02 15:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/f2e8f3b3162ffcc111b5bed48c27b155d85725a9', 'message': ""Waiting should depends on cluster state\n\nWaiting for hosts registrations should depends on cluster state,\nso let's add such checks.\n\nChange-Id: I895b3a622d213d9ca80bc37288a9987a3d6f5e13\nCloses-bug: #1319079\n""}, {'number': 10, 'created': '2015-02-03 08:07:37.000000000', 'files': ['sahara/plugins/hdp/versions/version_1_3_2/versionhandler.py', 'sahara/exceptions.py', 'sahara/utils/general.py', 'sahara/plugins/hdp/ambariplugin.py', 'sahara/plugins/hdp/versions/version_2_0_6/versionhandler.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/6d5624220edd63db127e430946571779f1f9b7df', 'message': ""Waiting should depends on cluster state\n\nWaiting for hosts registrations should depends on cluster state,\nso let's add such checks.\n\nChange-Id: I895b3a622d213d9ca80bc37288a9987a3d6f5e13\nCloses-bug: #1319079\n""}]",8,150399,6d5624220edd63db127e430946571779f1f9b7df,44,6,10,12038,,,0,"Waiting should depends on cluster state

Waiting for hosts registrations should depends on cluster state,
so let's add such checks.

Change-Id: I895b3a622d213d9ca80bc37288a9987a3d6f5e13
Closes-bug: #1319079
",git fetch https://review.opendev.org/openstack/sahara refs/changes/99/150399/8 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/plugins/hdp/versions/version_1_3_2/versionhandler.py', 'sahara/plugins/hdp/saharautils.py', 'sahara/plugins/hdp/versions/version_2_0_6/versionhandler.py']",3,3a1b7f8dc5e515e865c87e5b8db0c25ee0011cc2,hdp-bug,"from sahara.plugins.hdp import saharautils as sufrom sahara.utils import general as g cluster = su.get_cluster(ambari_info) if not g.check_cluster_exists(cluster): LOG.info(_LI(""Stop waiting all Ambari agents to register, "" ""because cluster was deleted"")) return ",,30,0
openstack%2Ffuel-library~master~I70bb85fc3235f8bc144b8ea2aca4c0d502cec1f7,openstack/fuel-library,master,I70bb85fc3235f8bc144b8ea2aca4c0d502cec1f7,Remove deprecated cinder parameter from openstack keystone manifest,ABANDONED,2015-02-03 10:58:32.000000000,2015-02-03 12:58:16.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 11827}]","[{'number': 1, 'created': '2015-02-03 10:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/7a7b53cfb4a5250914587f0c4968bf56aceeca36', 'message': 'Remove deprecated cinder parameter from keystone manifest\n\nThe parameter has been deprecated in upstream Nova module and has\ncurrently no other effect than displaying a warning about its\ndeprecation.\n\nChange-Id: I70bb85fc3235f8bc144b8ea2aca4c0d502cec1f7\nRelated-Bug: 1390099\n'}, {'number': 2, 'created': '2015-02-03 10:59:22.000000000', 'files': ['deployment/puppet/openstack/manifests/keystone.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/1cae7758127111c841777129ba44de9347bbd0f5', 'message': 'Remove deprecated cinder parameter from openstack keystone manifest\n\nThe parameter has been deprecated in upstream Nova module and has\ncurrently no other effect than displaying a warning about its\ndeprecation.\n\nChange-Id: I70bb85fc3235f8bc144b8ea2aca4c0d502cec1f7\nRelated-Bug: 1390099\n'}]",0,152467,1cae7758127111c841777129ba44de9347bbd0f5,16,3,2,13948,,,0,"Remove deprecated cinder parameter from openstack keystone manifest

The parameter has been deprecated in upstream Nova module and has
currently no other effect than displaying a warning about its
deprecation.

Change-Id: I70bb85fc3235f8bc144b8ea2aca4c0d502cec1f7
Related-Bug: 1390099
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/67/152467/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/openstack/manifests/keystone.pp'],1,7a7b53cfb4a5250914587f0c4968bf56aceeca36,bug/1390099,," cinder => $cinder,",0,1
openstack%2Fopenstack-ansible~juno~Ifbf0e264d0cdc61f38a93b98e1d91d7ea17d293d,openstack/openstack-ansible,juno,Ifbf0e264d0cdc61f38a93b98e1d91d7ea17d293d,Allow storage & replication_network to be the same,MERGED,2015-02-03 10:26:21.000000000,2015-02-03 12:53:24.000000000,2015-02-03 11:08:07.000000000,"[{'_account_id': 3}, {'_account_id': 2799}, {'_account_id': 7217}, {'_account_id': 7307}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-02-03 10:26:21.000000000', 'files': ['rpc_deployment/roles/swift_object/tasks/main.yml', 'rpc_deployment/roles/swift_container/tasks/main.yml', 'rpc_deployment/roles/swift_account/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e1dbcf7eab090f6876834ad845a0aa412f440899', 'message': ""Allow storage & replication_network to be the same\n\nWe don't want to attempt to start 2 swift services on the same IP/Port,\nif replication_network is the same as storage_network this should be\ntreated as though replication_network was not specified.\n\nChange-Id: Ifbf0e264d0cdc61f38a93b98e1d91d7ea17d293d\nCloses-Bug: 1411465\n(cherry picked from commit 4cb6720f9cc017f50ea8868510c187649219808c)\n""}]",0,152451,e1dbcf7eab090f6876834ad845a0aa412f440899,7,5,1,6816,,,0,"Allow storage & replication_network to be the same

We don't want to attempt to start 2 swift services on the same IP/Port,
if replication_network is the same as storage_network this should be
treated as though replication_network was not specified.

Change-Id: Ifbf0e264d0cdc61f38a93b98e1d91d7ea17d293d
Closes-Bug: 1411465
(cherry picked from commit 4cb6720f9cc017f50ea8868510c187649219808c)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/51/152451/1 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/roles/swift_object/tasks/main.yml', 'rpc_deployment/roles/swift_container/tasks/main.yml', 'rpc_deployment/roles/swift_account/tasks/main.yml']",3,e1dbcf7eab090f6876834ad845a0aa412f440899,, when: swift.replication_network is defined and swift.replication_network != swift.storage_network, when: swift.replication_network is defined,3,3
openstack%2Fceilometer~master~I6250c91e913864c3973e2d93022e38ad8bed8328,openstack/ceilometer,master,I6250c91e913864c3973e2d93022e38ad8bed8328,add event listener to collector,MERGED,2015-01-16 20:10:11.000000000,2015-02-03 12:49:52.000000000,2015-02-03 11:11:09.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2284}, {'_account_id': 2813}, {'_account_id': 6537}, {'_account_id': 6676}, {'_account_id': 7336}, {'_account_id': 7729}, {'_account_id': 8052}, {'_account_id': 8871}, {'_account_id': 10987}]","[{'number': 1, 'created': '2015-01-16 20:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ba0d496de59d4bf10525d081b8b24fbdaa7d6fbe', 'message': ""add event listener to collector\n\nenable a listener in collector that listens to events queue. this\npatch also renames 'metering_*' options which are now used by both\nevents and samples.\n\nChange-Id: I6250c91e913864c3973e2d93022e38ad8bed8328\nImplements: blueprint notification-pipelines\n""}, {'number': 2, 'created': '2015-01-19 14:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f378a52226d6d5e1a12f1ff8faea53ae55bcb741', 'message': ""add event listener to collector\n\nenable a listener in collector that listens to events queue. this\npatch also renames 'metering_*' options which are now used by both\nevents and samples.\n\nChange-Id: I6250c91e913864c3973e2d93022e38ad8bed8328\nImplements: blueprint notification-pipelines\n""}, {'number': 3, 'created': '2015-01-19 17:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a942486fc9736ebe7aa890403c33a9aa54140c59', 'message': ""add event listener to collector\n\nenable a listener in collector that listens to events queue. this\npatch also renames 'metering_*' options which are now used by both\nevents and samples.\n\nChange-Id: I6250c91e913864c3973e2d93022e38ad8bed8328\nImplements: blueprint notification-pipelines\n""}, {'number': 4, 'created': '2015-01-26 16:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a60ea69c44917aeb3d6eefeff7afe6d2bf85b9b0', 'message': ""add event listener to collector\n\nenable a listener in collector that listens to events queue. this\npatch also renames 'metering_*' options which are now used by both\nevents and samples.\n\nChange-Id: I6250c91e913864c3973e2d93022e38ad8bed8328\nImplements: blueprint notification-pipelines\n""}, {'number': 5, 'created': '2015-02-02 15:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3f46016974d2f608f4e2104ba8b47226dbd6a98f', 'message': ""add event listener to collector\n\nenable a listener in collector that listens to events queue. this\npatch also renames 'metering_*' options which are now used by both\nevents and samples.\n\nChange-Id: I6250c91e913864c3973e2d93022e38ad8bed8328\nImplements: blueprint notification-pipelines\n""}, {'number': 6, 'created': '2015-02-02 16:02:31.000000000', 'files': ['ceilometer/tests/api/v2/test_list_meters_scenarios.py', 'ceilometer/tests/storage/test_storage_scenarios.py', 'tools/make_test_data.py', 'ceilometer/agent/plugin_base.py', 'doc/source/install/manual.rst', 'ceilometer/tests/dispatcher/test_db.py', 'ceilometer/tests/dispatcher/test_http.py', 'ceilometer/tests/publisher/test_udp.py', 'ceilometer/publisher/utils.py', 'ceilometer/dispatcher/http.py', 'ceilometer/publisher/messaging.py', 'ceilometer/notification.py', 'ceilometer/utils.py', 'ceilometer/tests/api/v2/test_list_resources_scenarios.py', 'ceilometer/collector.py', 'ceilometer/publisher/direct.py', 'ceilometer/tests/api/v2/test_statistics_scenarios.py', 'ceilometer/tests/dispatcher/test_file.py', 'ceilometer/tests/api/v2/test_acl_scenarios.py', 'ceilometer/tests/api/v2/test_complex_query_scenarios.py', 'ceilometer/dispatcher/database.py', 'ceilometer/event/endpoint.py', 'ceilometer/tests/api/v2/test_list_events_scenarios.py', 'ceilometer/publisher/udp.py', 'ceilometer/tests/test_collector.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/7fc0d1e6c71198fa865c7cbf9cab6debc7274f4f', 'message': ""add event listener to collector\n\nenable a listener in collector that listens to events queue. this\npatch also renames 'metering_*' options which are now used by both\nevents and samples.\n\nChange-Id: I6250c91e913864c3973e2d93022e38ad8bed8328\nImplements: blueprint notification-pipelines\n""}]",6,147975,7fc0d1e6c71198fa865c7cbf9cab6debc7274f4f,26,11,6,6537,,,0,"add event listener to collector

enable a listener in collector that listens to events queue. this
patch also renames 'metering_*' options which are now used by both
events and samples.

Change-Id: I6250c91e913864c3973e2d93022e38ad8bed8328
Implements: blueprint notification-pipelines
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/75/147975/3 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/api/v2/test_list_meters_scenarios.py', 'ceilometer/tests/storage/test_storage_scenarios.py', 'tools/make_test_data.py', 'ceilometer/agent/plugin_base.py', 'doc/source/install/manual.rst', 'ceilometer/tests/dispatcher/test_db.py', 'ceilometer/tests/dispatcher/test_http.py', 'ceilometer/tests/publisher/test_udp.py', 'ceilometer/publisher/utils.py', 'ceilometer/dispatcher/http.py', 'ceilometer/publisher/messaging.py', 'ceilometer/notification.py', 'ceilometer/utils.py', 'ceilometer/tests/api/v2/test_list_resources_scenarios.py', 'ceilometer/collector.py', 'ceilometer/publisher/direct.py', 'ceilometer/tests/api/v2/test_statistics_scenarios.py', 'ceilometer/tests/dispatcher/test_file.py', 'ceilometer/tests/api/v2/test_acl_scenarios.py', 'ceilometer/tests/api/v2/test_complex_query_scenarios.py', 'ceilometer/dispatcher/database.py', 'ceilometer/event/endpoint.py', 'ceilometer/tests/api/v2/test_list_events_scenarios.py', 'ceilometer/publisher/udp.py', 'ceilometer/tests/test_collector.py']",25,ba0d496de59d4bf10525d081b8b24fbdaa7d6fbe,bp/notification-pipelines," self.CONF.set_override('telemetry_secret', 'not-so-secret', def _test_collector_requeue(self, listener): self.CONF.set_override('requeue_data_on_dispatcher_error', True, endp = getattr(self.srv, listener).dispatcher.endpoints[0] ret = endp.sample({}, 'pub_id', 'event', {}, {}) @mock.patch.object(oslo.messaging.MessageHandlingServer, 'start', mock.Mock()) @mock.patch.object(collector.CollectorService, 'start_udp', mock.Mock()) def test_collector_sample_requeue(self): self._test_collector_requeue('sample_listener') @mock.patch.object(oslo.messaging.MessageHandlingServer, 'start', mock.Mock()) @mock.patch.object(collector.CollectorService, 'start_udp', mock.Mock()) def test_collector_event_requeue(self): self.CONF.set_override('store_events', True, group='notification') self._test_collector_requeue('event_listener') def _test_collector_no_requeue(self, listener): self.CONF.set_override('requeue_data_on_dispatcher_error', False, endp = getattr(self.srv, listener).dispatcher.endpoints[0] self.assertRaises(FakeException, endp.sample, {}, 'pub_id', @mock.patch.object(oslo.messaging.MessageHandlingServer, 'start', mock.Mock()) @mock.patch.object(collector.CollectorService, 'start_udp', mock.Mock()) def test_collector_sample_no_requeue(self): self._test_collector_no_requeue('sample_listener') @mock.patch.object(oslo.messaging.MessageHandlingServer, 'start', mock.Mock()) @mock.patch.object(collector.CollectorService, 'start_udp', mock.Mock()) def test_collector_event_no_requeue(self): self.CONF.set_override('store_events', True, group='notification') self._test_collector_no_requeue('event_listener')"," self.CONF.set_override('metering_secret', 'not-so-secret', @mock.patch.object(oslo.messaging.MessageHandlingServer, 'start') @mock.patch.object(collector.CollectorService, 'start_udp') def test_collector_requeue(self, udp_start, rpc_start): self.CONF.set_override('requeue_sample_on_dispatcher_error', True, ret = self.srv.sample({}, 'pub_id', 'event', {}, {}) @mock.patch.object(oslo.messaging.MessageHandlingServer, 'start') @mock.patch.object(collector.CollectorService, 'start_udp') def test_collector_no_requeue(self, udp_start, rpc_start): self.CONF.set_override('requeue_sample_on_dispatcher_error', False, self.assertRaises(FakeException, self.srv.sample, {}, 'pub_id',",205,174
openstack%2Ffuel-web~stable%2F6.0~Ib10595613acf98139786df19dc91685aafe9e6eb,openstack/fuel-web,stable/6.0,Ib10595613acf98139786df19dc91685aafe9e6eb,Spell mistake fix,MERGED,2015-01-28 09:20:13.000000000,2015-02-03 12:42:53.000000000,2015-02-03 12:42:53.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8954}, {'_account_id': 8971}]","[{'number': 1, 'created': '2015-01-28 09:20:13.000000000', 'files': ['nailgun/nailgun/fixtures/openstack.yaml'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/ec399d1d636be8c501336359041b13a78c139dd5', 'message': 'Spell mistake fix\n\nCloses-Bug:#1413571\n\nChange-Id: Ib10595613acf98139786df19dc91685aafe9e6eb\n'}]",0,150733,ec399d1d636be8c501336359041b13a78c139dd5,14,5,1,9730,,,0,"Spell mistake fix

Closes-Bug:#1413571

Change-Id: Ib10595613acf98139786df19dc91685aafe9e6eb
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/33/150733/1 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/nailgun/fixtures/openstack.yaml'],1,ec399d1d636be8c501336359041b13a78c139dd5,bug/1413571," description: ""List of upstream DNS servers, separated by comma"" description: ""List of upstream NTP servers, separated by comma"""," description: ""List of upstream DNS servers separated by comma"" description: ""List of upstream NTP servers separated by comma""",2,2
openstack%2Fironic~master~I249c21800df854089b9e0db0ee08a11f53053cf2,openstack/ironic,master,I249c21800df854089b9e0db0ee08a11f53053cf2,Clean driver_internal_info when changes nodes' driver,MERGED,2015-02-02 05:46:54.000000000,2015-02-03 12:40:44.000000000,2015-02-03 12:40:42.000000000,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 12081}, {'_account_id': 13362}]","[{'number': 1, 'created': '2015-02-02 05:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b1fc7453f3e9115174707e6bd33f4f93c9713169', 'message': ""Clean driver_internal_info when changes nodes' driver.\n\nImplements: blueprint driver-internal-info\nChange-Id: I249c21800df854089b9e0db0ee08a11f53053cf2\n""}, {'number': 2, 'created': '2015-02-02 06:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/12c6eecd6b51a9a86a658bd9ceb560c2f9ca45da', 'message': ""Clean driver_internal_info when changes nodes' driver\n\nBecause 'driver' field is able to be updated by using node-update,\nit's necessary to clean driver_internal_info. Also left the open\npossibility of changing driver and driver_internal_info at once.\n\nImplements: blueprint driver-internal-info\nChange-Id: I249c21800df854089b9e0db0ee08a11f53053cf2\n""}, {'number': 3, 'created': '2015-02-03 08:43:15.000000000', 'files': ['ironic/objects/node.py', 'ironic/tests/objects/test_node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d1504d2569e42b97bfb3d8e13d56fd30408b0a4c', 'message': ""Clean driver_internal_info when changes nodes' driver\n\nBecause 'driver' field is able to be updated by using node-update,\nit's necessary to clean driver_internal_info. Also left the open\npossibility of changing driver and driver_internal_info at once.\n\nImplements: blueprint driver-internal-info\nChange-Id: I249c21800df854089b9e0db0ee08a11f53053cf2\n""}]",5,151990,d1504d2569e42b97bfb3d8e13d56fd30408b0a4c,20,6,3,13362,,,0,"Clean driver_internal_info when changes nodes' driver

Because 'driver' field is able to be updated by using node-update,
it's necessary to clean driver_internal_info. Also left the open
possibility of changing driver and driver_internal_info at once.

Implements: blueprint driver-internal-info
Change-Id: I249c21800df854089b9e0db0ee08a11f53053cf2
",git fetch https://review.opendev.org/openstack/ironic refs/changes/90/151990/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/objects/node.py', 'ironic/tests/objects/test_node.py']",2,b1fc7453f3e9115174707e6bd33f4f93c9713169,bp/driver-internal-info," self.assertEqual({""foo"": ""bar""}, n.driver_internal_info) n.driver = ""fake-driver"" uuid, {'properties': {""fake"": ""property""}, 'driver': 'fake-driver', 'driver_internal_info': {}}) self.assertEqual({}, n.driver_internal_info)"," uuid, {'properties': {""fake"": ""property""}})",10,1
openstack%2Fgnocchi~master~Idb3394c7d9eeda75b4ab9673819f31b52cba42be,openstack/gnocchi,master,Idb3394c7d9eeda75b4ab9673819f31b52cba42be,Add capabilities documentations,ABANDONED,2015-02-03 12:38:10.000000000,2015-02-03 12:39:58.000000000,,[],"[{'number': 1, 'created': '2015-02-03 12:38:10.000000000', 'files': ['doc/source/rest.j2', 'doc/source/rest.yaml'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/97442482205e9789c8039118a912ae29af26f917', 'message': 'Add capabilities documentations\n\nChange-Id: Idb3394c7d9eeda75b4ab9673819f31b52cba42be\n'}]",0,152498,97442482205e9789c8039118a912ae29af26f917,2,0,1,2813,,,0,"Add capabilities documentations

Change-Id: Idb3394c7d9eeda75b4ab9673819f31b52cba42be
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/98/152498/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/rest.j2', 'doc/source/rest.yaml']",2,97442482205e9789c8039118a912ae29af26f917,, - name: get-capabilities request: GET /v1/capabilities HTTP/1.1,,13,0
openstack%2Fopenstack-ansible~juno~Ib28a509b2fd6933d9c6a5c14911305da51602ab5,openstack/openstack-ansible,juno,Ib28a509b2fd6933d9c6a5c14911305da51602ab5,Fixing docstring typo,MERGED,2015-02-03 09:29:08.000000000,2015-02-03 12:39:23.000000000,2015-02-03 10:45:28.000000000,"[{'_account_id': 3}, {'_account_id': 7217}, {'_account_id': 7307}, {'_account_id': 9884}, {'_account_id': 12807}]","[{'number': 1, 'created': '2015-02-03 09:29:08.000000000', 'files': ['rpc_deployment/inventory/dynamic_inventory.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1dc3fbe9576df1a3a72046668ba2d413cc24b0dc', 'message': 'Fixing docstring typo\n\nChange to docstring for _build_container_hosts.\n\nChange-Id: Ib28a509b2fd6933d9c6a5c14911305da51602ab5\n(cherry picked from commit eb34b51b1c8798250da28ed6458d5bd7ebf640fe)\n'}]",0,152436,1dc3fbe9576df1a3a72046668ba2d413cc24b0dc,7,5,1,6816,,,0,"Fixing docstring typo

Change to docstring for _build_container_hosts.

Change-Id: Ib28a509b2fd6933d9c6a5c14911305da51602ab5
(cherry picked from commit eb34b51b1c8798250da28ed6458d5bd7ebf640fe)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/36/152436/1 && git format-patch -1 --stdout FETCH_HEAD,['rpc_deployment/inventory/dynamic_inventory.py'],1,1dc3fbe9576df1a3a72046668ba2d413cc24b0dc,," """"""Add in all of the host associations into inventory."," """"""Add in all of hte host associations into inventory.",1,1
openstack%2Fironic~master~I085c67fcc6ddda9f55cd3526cf9847d947a94c96,openstack/ironic,master,I085c67fcc6ddda9f55cd3526cf9847d947a94c96,Add Node.driver_internal_info,MERGED,2015-01-28 14:06:32.000000000,2015-02-03 12:32:22.000000000,2015-02-03 12:32:21.000000000,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 12081}, {'_account_id': 13362}]","[{'number': 1, 'created': '2015-01-28 14:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/92623712598161f0615904619ed6e762d136684c', 'message': ""Add Node.driver_internal_info\n\nDriver should have its own infos, which are not input from admin like\ndriver_info. Add a json column to allow driver user this info.\n\nAdd '/driver_internal_info/' as internal_attribute to disable patch.path\nlike 'driver_internal_info/test'\n\nImplements: blueprint driver-internal-info\nChange-Id: I085c67fcc6ddda9f55cd3526cf9847d947a94c96\n""}, {'number': 2, 'created': '2015-01-29 03:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bfbac1572ddf5b06803de2ec43a952c262379b2e', 'message': ""Add Node.driver_internal_info\n\nDriver should have its own infos, which are not input from admin like\ndriver_info. Add a json column to allow driver user this info.\n\nAdd '/driver_internal_info' as internal_attribute to disable patch.path\nlike '/driver_internal_info/test'\n\nImplements: blueprint driver-internal-info\nChange-Id: I085c67fcc6ddda9f55cd3526cf9847d947a94c96\n""}, {'number': 3, 'created': '2015-02-02 03:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ba97fec619881f97362e80469016fc4b0a14841f', 'message': ""Add Node.driver_internal_info\n\nDriver should have its own infos, which are not input from admin like\ndriver_info. Add a json column to allow driver user this info.\n\nAdd '/driver_internal_info' as internal_attribute to disable patch.path\nlike '/driver_internal_info/test'\n\nImplements: blueprint driver-internal-info\nChange-Id: I085c67fcc6ddda9f55cd3526cf9847d947a94c96\n""}, {'number': 4, 'created': '2015-02-02 05:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/304a059e2a071c018a7dd797486d06441efca330', 'message': ""Add Node.driver_internal_info\n\nDriver should have its own infos, which are not input from admin like\ndriver_info. Add a json column to allow driver user this info.\n\nAdd '/driver_internal_info' as internal_attribute to disable patch.path\nlike '/driver_internal_info/test'\n\nImplements: blueprint driver-internal-info\nChange-Id: I085c67fcc6ddda9f55cd3526cf9847d947a94c96\n""}, {'number': 5, 'created': '2015-02-03 08:41:06.000000000', 'files': ['ironic/api/controllers/v1/types.py', 'ironic/objects/node.py', 'ironic/api/controllers/v1/__init__.py', 'ironic/tests/db/utils.py', 'ironic/tests/api/v1/test_types.py', 'ironic/tests/api/v1/test_nodes.py', 'ironic/tests/db/sqlalchemy/test_migrations.py', 'ironic/db/sqlalchemy/alembic/versions/bb59b63f55a_add_node_driver_internal_info.py', 'ironic/db/sqlalchemy/models.py', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/418d9d17fa607a068ce7de48e57992845625e2a2', 'message': ""Add Node.driver_internal_info\n\nDriver should have its own infos, which are not input from admin like\ndriver_info. Add a json column to allow driver user this info.\n\nAdd '/driver_internal_info' as internal_attribute to disable patch.path\nlike '/driver_internal_info/test'\n\nBump API micro-version to 1.2 and hide driver_internal_info for old ones\n\nImplements: blueprint driver-internal-info\nChange-Id: I085c67fcc6ddda9f55cd3526cf9847d947a94c96\n""}]",4,150784,418d9d17fa607a068ce7de48e57992845625e2a2,35,6,5,13362,,,0,"Add Node.driver_internal_info

Driver should have its own infos, which are not input from admin like
driver_info. Add a json column to allow driver user this info.

Add '/driver_internal_info' as internal_attribute to disable patch.path
like '/driver_internal_info/test'

Bump API micro-version to 1.2 and hide driver_internal_info for old ones

Implements: blueprint driver-internal-info
Change-Id: I085c67fcc6ddda9f55cd3526cf9847d947a94c96
",git fetch https://review.opendev.org/openstack/ironic refs/changes/84/150784/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/types.py', 'ironic/objects/node.py', 'ironic/tests/db/utils.py', 'ironic/tests/api/utils.py', 'ironic/tests/api/v1/test_types.py', 'ironic/tests/api/v1/test_nodes.py', 'ironic/tests/db/sqlalchemy/test_migrations.py', 'ironic/db/sqlalchemy/alembic/versions/bb59b63f55a_add_node_driver_internal_info.py', 'ironic/db/sqlalchemy/models.py', 'ironic/api/controllers/v1/node.py']",10,92623712598161f0615904619ed6e762d136684c,bp/driver-internal-info," '/provision_updated_at', '/maintenance_reason', '/driver_internal_info/'] driver_internal_info = wsme.wsattr({wtypes.text: types.jsontype}, readonly=True) """"""This driver's internal configuration"""""" reservation=None, driver='fake', driver_info={}, driver_internal_info={}, extra={},"," '/provision_updated_at', '/maintenance_reason'] reservation=None, driver='fake', driver_info={}, extra={},",78,6
openstack%2Fneutron-lbaas~master~I98c67346b75619b9cc64f68c3c2f7329123f1e3c,openstack/neutron-lbaas,master,I98c67346b75619b9cc64f68c3c2f7329123f1e3c,Implement synchronous haproxy driver methods,MERGED,2015-01-03 07:19:35.000000000,2015-02-03 12:32:19.000000000,2015-02-03 12:32:18.000000000,"[{'_account_id': 3}, {'_account_id': 261}, {'_account_id': 6951}, {'_account_id': 10273}, {'_account_id': 10806}, {'_account_id': 10980}, {'_account_id': 11302}, {'_account_id': 11628}, {'_account_id': 12040}, {'_account_id': 12403}, {'_account_id': 13051}]","[{'number': 1, 'created': '2015-01-03 07:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/4a4073671e6b4619086c6047f80577a0a759e2cd', 'message': 'Implement synchronous haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I98c67346b75619b9cc64f68c3c2f7329123f1e3c\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 2, 'created': '2015-01-08 00:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/a4ca7a5f47ec77712b3077c287ac172f61bb3393', 'message': 'Implement synchronous haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I98c67346b75619b9cc64f68c3c2f7329123f1e3c\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 3, 'created': '2015-01-09 22:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/a37d491207b4f4c34449dd46f0cf8b982ab97fbd', 'message': 'Implement synchronous haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I98c67346b75619b9cc64f68c3c2f7329123f1e3c\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 4, 'created': '2015-01-13 00:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/6d13262d69897a93477e3f3c6cec5d8d74afe652', 'message': 'Implement synchronous haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I98c67346b75619b9cc64f68c3c2f7329123f1e3c\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 5, 'created': '2015-01-19 19:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/d2256e061a88c6b7f8ea0b4997f20cf412465c9e', 'message': 'Implement synchronous haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I98c67346b75619b9cc64f68c3c2f7329123f1e3c\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 6, 'created': '2015-01-29 23:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/4031bdba72f0cd31b8105a63a532a51b3a554e64', 'message': 'Implement synchronous haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I98c67346b75619b9cc64f68c3c2f7329123f1e3c\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 7, 'created': '2015-01-31 05:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/00c253ec677f8c0a6541b4a591d4b30477209098', 'message': 'Implement synchronous haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I98c67346b75619b9cc64f68c3c2f7329123f1e3c\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 8, 'created': '2015-02-02 17:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/9785cf92fb77217f72812c430b7f80373b85811e', 'message': 'Implement synchronous haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I98c67346b75619b9cc64f68c3c2f7329123f1e3c\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 9, 'created': '2015-02-02 19:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/3fd0db693c4406e509017b3aa4a8763bab68eff7', 'message': 'Implement synchronous haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I98c67346b75619b9cc64f68c3c2f7329123f1e3c\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 10, 'created': '2015-02-02 21:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/5a470cac11d61cfbaaf8580e3b2cbd017aa6cfef', 'message': 'Implement synchronous haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I98c67346b75619b9cc64f68c3c2f7329123f1e3c\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 11, 'created': '2015-02-02 22:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/c5ee6eee0c3375e58b2ee06ad2a956f656b2568b', 'message': 'Implement synchronous haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I98c67346b75619b9cc64f68c3c2f7329123f1e3c\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 12, 'created': '2015-02-02 23:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/4302d1b10037f4dc998de6a751afec6ca859b9ab', 'message': 'Implement synchronous haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\nAdded quotas to the neutron.conf\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I98c67346b75619b9cc64f68c3c2f7329123f1e3c\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 13, 'created': '2015-02-02 23:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/3ff26aaab4eb5529dea319111c3e3a84d3a49623', 'message': 'Implement synchronous haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\nAdded quotas to the neutron.conf\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I98c67346b75619b9cc64f68c3c2f7329123f1e3c\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}, {'number': 14, 'created': '2015-02-03 02:44:12.000000000', 'files': ['neutron_lbaas/tests/unit/services/loadbalancer/drivers/haproxy/test_synchronous_driver.py', 'etc/neutron_lbaas.conf', 'neutron_lbaas/db/loadbalancer/loadbalancer_dbv2.py', 'etc/services_lbaas.conf', 'neutron_lbaas/services/loadbalancer/drivers/haproxy/synchronous_namespace_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/31eb058c1dae145106d4682e325e62b13fde0435', 'message': 'Implement synchronous haproxy driver methods\n\nMethods deploy the actual haproxy process when called.\nIncludes a service that periodically runs to collect stats.\nAdded quotas to the neutron.conf\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: I98c67346b75619b9cc64f68c3c2f7329123f1e3c\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\n'}]",17,144831,31eb058c1dae145106d4682e325e62b13fde0435,71,11,14,6951,,,0,"Implement synchronous haproxy driver methods

Methods deploy the actual haproxy process when called.
Includes a service that periodically runs to collect stats.
Added quotas to the neutron.conf

Partially-implements: blueprint lbaas-api-and-objmodel-improvement
Partially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface

Change-Id: I98c67346b75619b9cc64f68c3c2f7329123f1e3c
Co-authored-by: Brandon Logan <brandon.logan@rackspace.com>
Co-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/31/144831/13 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas/tests/unit/services/loadbalancer/drivers/haproxy/test_synchronous_driver.py', 'etc/services.conf', 'neutron_lbaas/services/loadbalancer/drivers/haproxy/synchronous_namespace_driver.py']",3,4a4073671e6b4619086c6047f80577a0a759e2cd,bp/lbaas-api-and-objmodel-improvement,"# # Copyright 2014 Openstack Foundation. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os import shutil import socket import uuid import netaddr from neutron.agent.common import config from neutron.agent.linux import interface from neutron.agent.linux import ip_lib from neutron.common import exceptions from neutron.common import log from neutron import context from neutron.extensions import loadbalancerv2 from neutron.extensions import portbindings from neutron.i18n import _LE, _LW from neutron.openstack.common import log as logging from neutron.openstack.common import service from neutron.plugins.common import constants from oslo.config import cfg from oslo.utils import excutils from oslo.utils import importutils from neutron_lbaas.services.loadbalancer.agent import agent as lb_agent from neutron_lbaas.services.loadbalancer import constants as lb_const from neutron_lbaas.services.loadbalancer.drivers import driver_base from neutron_lbaas.services.loadbalancer.drivers.haproxy import jinja_cfg from neutron_lbaas.services.loadbalancer.drivers.haproxy \ import namespace_driver LOG = logging.getLogger(__name__) NS_PREFIX = 'nlbaas-' STATS_TYPE_BACKEND_REQUEST = 2 STATS_TYPE_BACKEND_RESPONSE = '1' STATS_TYPE_SERVER_REQUEST = 4 STATS_TYPE_SERVER_RESPONSE = '2' # Do not want v1 instances to be in same directory as v2 STATE_PATH_V2_APPEND = 'v2' DEFAULT_INTERFACE_DRIVER = 'neutron.agent.linux.interface.OVSInterfaceDriver' cfg.CONF.register_opts(namespace_driver.OPTS, 'haproxy') cfg.CONF.register_opts(lb_agent.OPTS, 'haproxy') cfg.CONF.register_opts(interface.OPTS) cfg.CONF.register_opts(config.INTERFACE_DRIVER_OPTS, 'haproxy') config.register_root_helper(cfg.CONF) def get_ns_name(namespace_id): return NS_PREFIX + namespace_id class SimpleHaproxyStatsService(service.Service): def __init__(self, driver): super(SimpleHaproxyStatsService, self).__init__() self.driver = driver def start(self): super(SimpleHaproxyStatsService, self).start() self.tg.add_timer(self.driver.conf.haproxy.periodic_interval, self.driver.periodic_tasks, None, None) class HaproxyNSDriver(driver_base.LoadBalancerBaseDriver): def __init__(self, plugin): super(HaproxyNSDriver, self).__init__(plugin) self.conf = cfg.CONF self.root_helper = config.get_root_helper(self.conf) self.state_path = os.path.join( self.conf.haproxy.loadbalancer_state_path, STATE_PATH_V2_APPEND) if not self.conf.haproxy.interface_driver: self.conf.haproxy.interface_driver = DEFAULT_INTERFACE_DRIVER try: vif_driver = importutils.import_object( self.conf.haproxy.interface_driver, self.conf) except ImportError: with excutils.save_and_reraise_exception(): msg = (_LE('Error importing interface driver: %s') % self.conf.haproxy.interface_driver) LOG.error(msg) self.vif_driver = vif_driver # instantiate managers here self.admin_ctx = context.get_admin_context() self.deployed_loadbalancer_ids = set() self._deploy_existing_instances() SimpleHaproxyStatsService(self).start() def _deploy_existing_instances(self): dirs = self._retrieve_deployed_instance_dirs() loadbalancers = self._retrieve_db_loadbalancers_from_dirs(dirs) loadbalancer_ids = [loadbalancer.id for loadbalancer in loadbalancers] self.deployed_loadbalancer_ids.update(loadbalancer_ids) for loadbalancer in loadbalancers: try: self.update_instance(loadbalancer) except RuntimeError: # do not stop anything this is a minor error pass def _retrieve_deployed_instance_dirs(self): if not os.path.exists(self.state_path): os.makedirs(self.state_path) return [dir for dir in os.listdir(self.state_path) if os.path.isdir(os.path.join(self.state_path, dir))] def _retrieve_db_loadbalancers_from_dirs(self, dirs): loadbalancers = [] for dir in dirs: try: db_lb = self.plugin.db.get_loadbalancer(self.admin_ctx, dir) loadbalancers.append(db_lb) except loadbalancerv2.EntityNotFound: # Doesn't exist in database so clean up self._delete_instance_from_system(dir) continue return loadbalancers def _plug_vip_port(self, context, port): port_dict = self.plugin.db._core_plugin.get_port(context, port.id) port_dict.update(self._build_port_dict()) self.plugin.db._core_plugin.update_port( context, port.id, {'port': port_dict} ) def _build_port_dict(self): return {'admin_state_up': True, 'device_owner': 'neutron:{0}'.format( constants.LOADBALANCER), 'device_id': str(uuid.uuid5(uuid.NAMESPACE_DNS, str(self.conf.host))), portbindings.HOST_ID: self.conf.host} def _get_state_file_path(self, loadbalancer_id, kind, ensure_state_dir=True): """"""Returns the file name for a given kind of config file."""""" confs_dir = os.path.abspath(os.path.normpath(self.state_path)) conf_dir = os.path.join(confs_dir, loadbalancer_id) if ensure_state_dir: if not os.path.isdir(conf_dir): os.makedirs(conf_dir, 0o755) return os.path.join(conf_dir, kind) def _populate_subnets(self, context, port): for fixed_ip in port.fixed_ips: fixed_ip.subnet = self.plugin.db._core_plugin.get_subnet( context, fixed_ip.subnet_id) def _plug(self, context, namespace, port, reuse_existing=True): self._plug_vip_port(context, port) interface_name = self.vif_driver.get_device_name(port) if ip_lib.device_exists(interface_name, self.root_helper, namespace): if not reuse_existing: raise exceptions.PreexistingDeviceFailure( dev_name=interface_name ) else: self.vif_driver.plug( port.network_id, port.id, interface_name, port.mac_address, namespace=namespace ) self._populate_subnets(context, port) cidrs = [ '%s/%s' % (ip.ip_address, netaddr.IPNetwork(ip.subnet['cidr']).prefixlen) for ip in port.fixed_ips ] self.vif_driver.init_l3(interface_name, cidrs, namespace=namespace) gw_ip = port.fixed_ips[0].subnet.get('gateway_ip') if not gw_ip: host_routes = port.fixed_ips[0].subnet.get('host_routes', []) for host_route in host_routes: if host_route['destination'] == ""0.0.0.0/0"": gw_ip = host_route['nexthop'] break if gw_ip: cmd = ['route', 'add', 'default', 'gw', gw_ip] ip_wrapper = ip_lib.IPWrapper(self.root_helper, namespace=namespace) ip_wrapper.netns.execute(cmd, check_exit_code=False) # When delete and re-add the same vip, we need to # send gratuitous ARP to flush the ARP cache in the Router. gratuitous_arp = self.conf.haproxy.send_gratuitous_arp if gratuitous_arp > 0: for ip in port.fixed_ips: cmd_arping = ['arping', '-U', '-I', interface_name, '-c', gratuitous_arp, ip.ip_address] ip_wrapper.netns.execute(cmd_arping, check_exit_code=False) def _unplug(self, namespace, port_id): port_stub = {'id': port_id} interface_name = self.vif_driver.get_device_name( namespace_driver.Wrap(port_stub)) self.vif_driver.unplug(interface_name, namespace=namespace) def _spawn(self, loadbalancer, extra_cmd_args=()): namespace = get_ns_name(loadbalancer.id) conf_path = self._get_state_file_path(loadbalancer.id, 'haproxy.conf') pid_path = self._get_state_file_path(loadbalancer.id, 'haproxy.pid') sock_path = self._get_state_file_path(loadbalancer.id, 'haproxy_stats.sock') user_group = self.conf.haproxy.user_group jinja_cfg.save_config(conf_path, loadbalancer, sock_path, user_group) cmd = ['haproxy', '-f', conf_path, '-p', pid_path] cmd.extend(extra_cmd_args) ns = ip_lib.IPWrapper(self.root_helper, namespace) ns.netns.execute(cmd) # remember deployed loadbalancer id self.deployed_loadbalancer_ids.add(loadbalancer.id) def _get_backend_stats(self, parsed_stats): for stats in parsed_stats: if stats.get('type') == STATS_TYPE_BACKEND_RESPONSE: unified_stats = dict((k, stats.get(v, '')) for k, v in jinja_cfg.STATS_MAP.items()) return unified_stats return {} def _get_servers_stats(self, parsed_stats): res = {} for stats in parsed_stats: if stats.get('type') == STATS_TYPE_SERVER_RESPONSE: res[stats['svname']] = { lb_const.STATS_STATUS: (constants.INACTIVE if stats['status'] == 'DOWN' else constants.ACTIVE), lb_const.STATS_HEALTH: stats['check_status'], lb_const.STATS_FAILED_CHECKS: stats['chkfail'] } return res def _get_stats_from_socket(self, socket_path, entity_type): try: s = socket.socket(socket.AF_UNIX, socket.SOCK_STREAM) s.connect(socket_path) s.send('show stat -1 %s -1\n' % entity_type) raw_stats = '' chunk_size = 1024 while True: chunk = s.recv(chunk_size) raw_stats += chunk if len(chunk) < chunk_size: break return self._parse_stats(raw_stats) except socket.error as e: LOG.warn(_LW('Error while connecting to stats socket: %s'), e) return {} def _parse_stats(self, raw_stats): stat_lines = raw_stats.splitlines() if len(stat_lines) < 2: return [] stat_names = [name.strip('# ') for name in stat_lines[0].split(',')] res_stats = [] for raw_values in stat_lines[1:]: if not raw_values: continue stat_values = [value.strip() for value in raw_values.split(',')] res_stats.append(dict(zip(stat_names, stat_values))) return res_stats def _collect_and_store_stats(self): for loadbalancer_id in self.deployed_loadbalancer_ids: loadbalancer = self.plugin.db.get_loadbalancer(self.admin_ctx, loadbalancer_id) stats = self.get_stats(loadbalancer) self.plugin.db.update_loadbalancer_stats( self.admin_ctx, loadbalancer.id, stats) if 'members' in stats: self._set_member_status(self.admin_ctx, loadbalancer, stats['members']) def _get_members(self, loadbalancer): for listener in loadbalancer.listeners: if listener.default_pool: for member in listener.default_pool.members: yield member def _set_member_status(self, context, loadbalancer, members_stats): for member in self._get_members(loadbalancer): if member.id in members_stats: status = members_stats[member.id].get('status') if status and status == constants.ACTIVE: self.plugin.db.update_status( context, self.member.model_class, member.id, constants.ACTIVE) else: self.plugin.db.update_status( context, self.member.model_class, member.id, constants.INACTIVE) def _remove_config_directory(self, loadbalancer_id): conf_dir = os.path.dirname( self._get_state_file_path(loadbalancer_id, '')) if os.path.isdir(conf_dir): shutil.rmtree(conf_dir) if loadbalancer_id in self.deployed_loadbalancer_ids: # If it doesn't exist then didn't need to remove in the first place self.deployed_loadbalancer_ids.remove(loadbalancer_id) def _cleanup_namespace(self, loadbalancer_id): namespace = get_ns_name(loadbalancer_id) ns = ip_lib.IPWrapper(self.root_helper, namespace) try: for device in ns.get_devices(exclude_loopback=True): if ip_lib.device_exists(device.name, self.root_helper): self.vif_driver.unplug(device.name, namespace=namespace) except RuntimeError as re: LOG.warn(_LW('An error happend on namespace cleanup: ' '%s') % re.message) ns.garbage_collect_namespace() def _kill_processes(self, loadbalancer_id): pid_path = self._get_state_file_path(loadbalancer_id, 'haproxy.pid') # kill the process namespace_driver.kill_pids_in_file(self.root_helper, pid_path) def _unplug_vip_port(self, loadbalancer): namespace = get_ns_name(loadbalancer.id) if loadbalancer.vip_port_id: self._unplug(namespace, loadbalancer.vip_port_id) def _delete_instance_from_system(self, loadbalancer_id): self._kill_processes(loadbalancer_id) self._cleanup_namespace(loadbalancer_id) self._remove_config_directory(loadbalancer_id) @log.log def periodic_tasks(self, *args): try: self._collect_and_store_stats() except Exception: LOG.exception(_LE(""Periodic task failed."")) def create_instance(self, context, loadbalancer): namespace = get_ns_name(loadbalancer.id) self._plug(context, namespace, loadbalancer.vip_port) self._spawn(loadbalancer) def update_instance(self, loadbalancer): pid_path = self._get_state_file_path(loadbalancer.id, 'haproxy.pid') extra_args = ['-sf'] extra_args.extend(p.strip() for p in open(pid_path, 'r')) self._spawn(loadbalancer, extra_args) def delete_instance(self, loadbalancer, cleanup_namespace=False): self._kill_processes(loadbalancer.id) # unplug the ports self._unplug_vip_port(loadbalancer) # delete all devices from namespace; # used when deleting orphans and vip_port_id is not known for # loadbalancer_id if cleanup_namespace: self._cleanup_namespace(loadbalancer.id) self._remove_config_directory(loadbalancer.id) def exists(self, loadbalancer): namespace = get_ns_name(loadbalancer.id) root_ns = ip_lib.IPWrapper(self.root_helper) socket_path = self._get_state_file_path( loadbalancer.id, 'haproxy_stats.sock', False) if root_ns.netns.exists(namespace) and os.path.exists(socket_path): try: s = socket.socket(socket.AF_UNIX, socket.SOCK_STREAM) s.connect(socket_path) return True except socket.error: pass return False def get_stats(self, loadbalancer): socket_path = self._get_state_file_path(loadbalancer.id, 'haproxy_stats.sock', False) if os.path.exists(socket_path): parsed_stats = self._get_stats_from_socket( socket_path, entity_type=(STATS_TYPE_BACKEND_REQUEST | STATS_TYPE_SERVER_REQUEST)) lb_stats = self._get_backend_stats(parsed_stats) lb_stats['members'] = self._get_servers_stats(parsed_stats) return lb_stats else: LOG.warn(_LW('Stats socket not found for load balancer %s'), loadbalancer.id) return {} ",,1222,0
openstack%2Ffuel-library~master~I1c4e9149760fa37800159f789f1840a73c5a42b2,openstack/fuel-library,master,I1c4e9149760fa37800159f789f1840a73c5a42b2,Fix dependencies for tasks validator,MERGED,2015-01-30 11:02:52.000000000,2015-02-03 12:31:07.000000000,2015-02-03 12:31:07.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8907}, {'_account_id': 8954}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 11577}, {'_account_id': 12200}, {'_account_id': 13445}]","[{'number': 1, 'created': '2015-01-30 11:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/5d722daf47c0f39cdd4c4b730a5f0faa33479ac3', 'message': ""Fix yaml dependency for tasks validator\n\nThere is no package 'yaml' on pypi. Correct name of it\nis PyYAML.\n\nChange-Id: I1c4e9149760fa37800159f789f1840a73c5a42b2\nRelated: blueprint granular-deployment-based-on-tasks\n""}, {'number': 2, 'created': '2015-01-30 11:31:31.000000000', 'files': ['utils/configuration_validator/requirements.txt'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/4cc261ba6c3bad933d02d8f97392f2faeac387fb', 'message': ""Fix dependencies for tasks validator\n\nThere is no package 'yaml' on pypi. Correct name of it\nis PyYAML.\nAdded versions for requirements.\n\nChange-Id: I1c4e9149760fa37800159f789f1840a73c5a42b2\nRelated: blueprint granular-deployment-based-on-tasks\n""}]",0,151597,4cc261ba6c3bad933d02d8f97392f2faeac387fb,26,9,2,12200,,,0,"Fix dependencies for tasks validator

There is no package 'yaml' on pypi. Correct name of it
is PyYAML.
Added versions for requirements.

Change-Id: I1c4e9149760fa37800159f789f1840a73c5a42b2
Related: blueprint granular-deployment-based-on-tasks
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/97/151597/2 && git format-patch -1 --stdout FETCH_HEAD,['utils/configuration_validator/requirements.txt'],1,5d722daf47c0f39cdd4c4b730a5f0faa33479ac3,fix_requirements,pyyaml ,yaml,1,1
openstack%2Fnova~master~Ieac2068fa1a0a9aaee4fb312107f8c617a0a6f6d,openstack/nova,master,Ieac2068fa1a0a9aaee4fb312107f8c617a0a6f6d,objects: fix pci device list version,ABANDONED,2015-02-03 09:12:33.000000000,2015-02-03 12:20:43.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 6450}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-02-03 09:12:33.000000000', 'files': ['nova/objects/pci_device.py', 'nova/tests/unit/objects/test_objects.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/89607c97ee572e72c1e2c34183b530f115e1d275', 'message': 'objects: fix pci device list version\n\nThe commit 1d4ad44f15503b8710ff59dea9f5e3f4894d56fb introduces a new\nversion of the object PCIDevice. The version of PCIDeviceList should\nalso be updated since it have for children PCIDevice.\n\nNote: child_versions of PCIDeviceList has well been updated.\n\nChange-Id: Ieac2068fa1a0a9aaee4fb312107f8c617a0a6f6d\n'}]",0,152433,89607c97ee572e72c1e2c34183b530f115e1d275,10,8,1,7730,,,0,"objects: fix pci device list version

The commit 1d4ad44f15503b8710ff59dea9f5e3f4894d56fb introduces a new
version of the object PCIDevice. The version of PCIDeviceList should
also be updated since it have for children PCIDevice.

Note: child_versions of PCIDeviceList has well been updated.

Change-Id: Ieac2068fa1a0a9aaee4fb312107f8c617a0a6f6d
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/152433/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/pci_device.py', 'nova/tests/unit/objects/test_objects.py']",2,89607c97ee572e72c1e2c34183b530f115e1d275,fix-version," 'PciDeviceList': '1.2-38cbe2d3c23b9e46f7a74b486abcad85', 'PciDeviceList': '1.2',"," 'PciDeviceList': '1.1-38cbe2d3c23b9e46f7a74b486abcad85', 'PciDeviceList': '1.1',",4,3
openstack%2Ftrove~master~I9f15a91bf602b43ed20933787f6384e7d9dc41a0,openstack/trove,master,I9f15a91bf602b43ed20933787f6384e7d9dc41a0,Fix default value for guest_config,ABANDONED,2015-01-20 13:26:08.000000000,2015-02-03 11:54:20.000000000,,"[{'_account_id': 3}, {'_account_id': 7806}, {'_account_id': 8214}, {'_account_id': 9746}]","[{'number': 1, 'created': '2015-01-20 13:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/27e3862a41897c66c514cb9caa5e9114faa0caa1', 'message': 'Fix default value for guest_config\n\nReason:\n - old defaul value (FS path) points to non-existing\n   file that was dropped when devstack installation\n   procedure moved away use of sample configs.\n\nChanges:\n - changing $pybasedir/etc/trove/trove-guestagent.conf.sample to\n   /etc/trove/trove-guestagent.conf\n\nChange-Id: I9f15a91bf602b43ed20933787f6384e7d9dc41a0\nCloses-Bug: #1394650\n'}, {'number': 2, 'created': '2015-01-20 13:52:35.000000000', 'files': ['trove/common/cfg.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/a798c129710ed39d275fa427b7c8ab0c21088b22', 'message': 'Fix default value for guest_config\n\nReason:\n - old default value (FS path) points to non-existing\n   file that was dropped when devstack installation\n   procedure moved away use of sample configs.\n\nChanges:\n - changing $pybasedir/etc/trove/trove-guestagent.conf.sample to\n   /etc/trove/trove-guestagent.conf\n\nChange-Id: I9f15a91bf602b43ed20933787f6384e7d9dc41a0\nCloses-Bug: #1394650\n'}]",0,148550,a798c129710ed39d275fa427b7c8ab0c21088b22,8,4,2,8415,,,0,"Fix default value for guest_config

Reason:
 - old default value (FS path) points to non-existing
   file that was dropped when devstack installation
   procedure moved away use of sample configs.

Changes:
 - changing $pybasedir/etc/trove/trove-guestagent.conf.sample to
   /etc/trove/trove-guestagent.conf

Change-Id: I9f15a91bf602b43ed20933787f6384e7d9dc41a0
Closes-Bug: #1394650
",git fetch https://review.opendev.org/openstack/trove refs/changes/50/148550/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/common/cfg.py'],1,27e3862a41897c66c514cb9caa5e9114faa0caa1,bug/1394650," default='/etc/trove/trove-guestagent.conf', help='Path to the Guest Agent config file ' 'at Taskmanager site.'),"," default='$pybasedir/etc/trove/trove-guestagent.conf.sample', help='Path to the Guest Agent config file.'),",3,2
openstack%2Fneutron-vpnaas~master~I1b48ce261181ec066c9951bb81a0876a9862311a,openstack/neutron-vpnaas,master,I1b48ce261181ec066c9951bb81a0876a9862311a,Provide hooks for VPNaaS repo functional gate,MERGED,2015-01-28 21:48:09.000000000,2015-02-03 11:51:15.000000000,2015-02-03 00:28:29.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 2035}, {'_account_id': 6659}, {'_account_id': 7448}, {'_account_id': 10237}, {'_account_id': 10980}]","[{'number': 1, 'created': '2015-01-28 21:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/f7241eccd6aa76f27ed4a25dd088e3a6c969d082', 'message': 'Provide hooks for VPNaaS repo functional gate\n\nThis provides the needed hook files so that functional tests\ncan be run in the neutron-vpnaas repo.\n\nA placeholder test case is added, to actually exercise the\ngate. In a separate commit, real test cases will be added\nfor testing the OpenSwan implementation.  Just adding the\nplaceholder here, to get around the chicken and egg problem\nof having a test to check the gate.\n\nChange-Id: I1b48ce261181ec066c9951bb81a0876a9862311a\nPartial-Bug: 1412770\n'}, {'number': 2, 'created': '2015-01-29 20:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/31df3c22a343e0dd121098270918c97050c6e125', 'message': 'Provide hooks for VPNaaS repo functional gate\n\nThis provides the needed hook files so that functional tests\ncan be run in the neutron-vpnaas repo.\n\nA placeholder test case is added, to actually exercise the\ngate. In a separate commit, real test cases will be added\nfor testing the OpenSwan implementation.  Just adding the\nplaceholder here, to get around the chicken and egg problem\nof having a test to check the gate.\n\nChange-Id: I1b48ce261181ec066c9951bb81a0876a9862311a\nPartial-Bug: 1412770\n'}, {'number': 3, 'created': '2015-01-30 18:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/311b89f598971dea8a08605ef765826e8f5f061c', 'message': 'Provide hooks for VPNaaS repo functional gate\n\nThis provides the needed hook files so that functional tests\ncan be run in the neutron-vpnaas repo.\n\nA placeholder test case is added, to actually exercise the\ngate. In a separate commit, real test cases will be added\nfor testing the OpenSwan implementation.  Just adding the\nplaceholder here, to get around the chicken and egg problem\nof having a test to check the gate.\n\nChange-Id: I1b48ce261181ec066c9951bb81a0876a9862311a\nPartial-Bug: 1412770\n'}, {'number': 4, 'created': '2015-01-30 18:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/5560008d8ca0c3e1ea5a2671925b85b079d50790', 'message': 'Provide hooks for VPNaaS repo functional gate\n\nThis provides the needed hook files so that functional tests\ncan be run in the neutron-vpnaas repo.\n\nA placeholder test case is added, to actually exercise the\ngate. In a separate commit, real test cases will be added\nfor testing the OpenSwan implementation.  Just adding the\nplaceholder here, to get around the chicken and egg problem\nof having a test to check the gate.\n\nChange-Id: I1b48ce261181ec066c9951bb81a0876a9862311a\nPartial-Bug: 1412770\n'}, {'number': 5, 'created': '2015-01-30 19:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/9bc47c8e2a4933d4983fe698eec59511a7d3b573', 'message': 'Provide hooks for VPNaaS repo functional gate\n\nThis provides the needed hook files so that functional tests\ncan be run in the neutron-vpnaas repo.\n\nA placeholder test case is added, to actually exercise the\ngate. In a separate commit, real test cases will be added\nfor testing the OpenSwan implementation.  Just adding the\nplaceholder here, to get around the chicken and egg problem\nof having a test to check the gate.\n\nChange-Id: I1b48ce261181ec066c9951bb81a0876a9862311a\nPartial-Bug: 1412770\n'}, {'number': 6, 'created': '2015-01-30 21:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/6085410d5691b98d22f5d0c62150e0f875c97982', 'message': 'Provide hooks for VPNaaS repo functional gate\n\nThis provides the needed hook files so that functional tests\ncan be run in the neutron-vpnaas repo.\n\nA placeholder test case is added, to actually exercise the\ngate. In a separate commit, real test cases will be added\nfor testing the OpenSwan implementation.  Just adding the\nplaceholder here, to get around the chicken and egg problem\nof having a test to check the gate.\n\nChange-Id: I1b48ce261181ec066c9951bb81a0876a9862311a\nPartial-Bug: 1412770\n'}, {'number': 7, 'created': '2015-01-30 23:30:03.000000000', 'files': ['neutron_vpnaas/tests/contrib/gate_hook.sh', 'neutron_vpnaas/tests/contrib/README', 'neutron_vpnaas/tests/contrib/post_test_hook.sh', 'neutron_vpnaas/tests/functional/__init__.py', 'neutron_vpnaas/tests/functional/test_openswan_driver.py', 'neutron_vpnaas/tests/contrib/filters.template'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/7bb70fa4d1b351e1e5b13bc639c554d503e93fa5', 'message': 'Provide hooks for VPNaaS repo functional gate\n\nThis provides the needed hook files so that functional tests\ncan be run in the neutron-vpnaas repo.\n\nA placeholder test case is added, to actually exercise the\ngate. In a separate commit, real test cases will be added\nfor testing the OpenSwan implementation.  Just adding the\nplaceholder here, to get around the chicken and egg problem\nof having a test to check the gate.\n\nChange-Id: I1b48ce261181ec066c9951bb81a0876a9862311a\nPartial-Bug: 1412770\n'}]",11,150990,7bb70fa4d1b351e1e5b13bc639c554d503e93fa5,36,7,7,6659,,,0,"Provide hooks for VPNaaS repo functional gate

This provides the needed hook files so that functional tests
can be run in the neutron-vpnaas repo.

A placeholder test case is added, to actually exercise the
gate. In a separate commit, real test cases will be added
for testing the OpenSwan implementation.  Just adding the
placeholder here, to get around the chicken and egg problem
of having a test to check the gate.

Change-Id: I1b48ce261181ec066c9951bb81a0876a9862311a
Partial-Bug: 1412770
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/90/150990/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/tests/contrib/gate_hook.sh', 'neutron_vpnaas/tests/contrib/README', 'neutron_vpnaas/tests/contrib/functions.sh', 'neutron_vpnaas/tests/contrib/post_test_hook.sh', 'neutron_vpnaas/tests/functional/__init__.py', 'neutron_vpnaas/tests/functional/test_openswan_driver.py', 'neutron_vpnaas/tests/contrib/devstack-vm-gate.sh', 'neutron_vpnaas/tests/contrib/filters.template']",8,f7241eccd6aa76f27ed4a25dd088e3a6c969d082,bug/1412770,"# neutron-rootwrap command filters to support functional testing. It # is NOT intended to be used outside of a test environment. # # This file should be owned by (and only-writeable by) the root user [Filters] # '$BASE_PATH' is intended to be replaced with the expected tox path # (e.g. /opt/stack/new/neutron/.tox/dsvm-functional) by the neutron # functional jenkins job. This ensures that tests can kill the # processes that they launch with their containing tox environment's # python. kill_tox_python: KillFilter, root, $BASE_PATH/bin/python, -9 # enable ping from namespace ping_filter: CommandFilter, ping, root # enable curl from namespace curl_filter: CommandFilter, curl, root tee_filter: CommandFilter, tee, root tee_kill: KillFilter, root, tee, -9 ",,1548,0
openstack%2Fnova~master~I42e4fc0b634c88b2a69486bcfdd2f8d75ef4bf80,openstack/nova,master,I42e4fc0b634c88b2a69486bcfdd2f8d75ef4bf80,Bump PciDeviceList version.,ABANDONED,2015-02-02 17:46:17.000000000,2015-02-03 11:44:39.000000000,,"[{'_account_id': 3}, {'_account_id': 642}, {'_account_id': 4393}, {'_account_id': 4573}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 6450}, {'_account_id': 7730}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 11647}]","[{'number': 1, 'created': '2015-02-02 17:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fabaa4cdd4ebc9ed4af0171b12d974a8abc0c7a7', 'message': 'Bump PciDeviceList version.\n\nVersion of PciDeviceList was not increased as PciDevice\nversion was increased. This brings the versions back in sync.\n\nChange-Id: I42e4fc0b634c88b2a69486bcfdd2f8d75ef4bf80\n'}, {'number': 2, 'created': '2015-02-02 17:52:55.000000000', 'files': ['nova/objects/pci_device.py', 'nova/tests/unit/objects/test_objects.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/90a4b4ba867710eec274ce27a9d91dbd4f9cbab6', 'message': 'Bump PciDeviceList version.\n\nVersion of PciDeviceList was not increased as PciDevice\nversion was increased. This brings the versions back in sync.\n\nChange-Id: I42e4fc0b634c88b2a69486bcfdd2f8d75ef4bf80\n'}]",4,152208,90a4b4ba867710eec274ce27a9d91dbd4f9cbab6,18,14,2,11647,,,0,"Bump PciDeviceList version.

Version of PciDeviceList was not increased as PciDevice
version was increased. This brings the versions back in sync.

Change-Id: I42e4fc0b634c88b2a69486bcfdd2f8d75ef4bf80
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/152208/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/pci_device.py', 'nova/tests/unit/objects/test_objects.py']",2,fabaa4cdd4ebc9ed4af0171b12d974a8abc0c7a7,," 'PciDeviceList': '1.2-38cbe2d3c23b9e46f7a74b486abcad85', 'PciDeviceList': '1.2',"," 'PciDeviceList': '1.1-38cbe2d3c23b9e46f7a74b486abcad85', 'PciDeviceList': '1.1',",3,3
openstack%2Fceilometer~master~I1621fc7d4226ae1f46cdfca878e8b52487ca4379,openstack/ceilometer,master,I1621fc7d4226ae1f46cdfca878e8b52487ca4379,Add disk latency metrics implementation in Hyper-V Inspector,MERGED,2015-01-30 13:10:20.000000000,2015-02-03 11:40:50.000000000,2015-02-03 11:40:48.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2284}, {'_account_id': 6537}, {'_account_id': 7052}, {'_account_id': 7729}, {'_account_id': 8213}, {'_account_id': 9562}, {'_account_id': 12604}]","[{'number': 1, 'created': '2015-01-30 13:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/72f5acbcade12b4ebe54b3a0cf4c52a97b549e36', 'message': 'Add disk latency metrics implementation in Hyper-V Inspector\n\nHigh latency between I/O requests can be a sign of issues. Collecting\ndisk metrics can help detect those issues. Windows / Hyper-V Server\n2012 R2 can collect those metrics. This patch adds a disk latency\nmetrics implementation for the Hyper-V Inspector as well as disk latency\nand per device latency pollsters.\n\nChange-Id: I1621fc7d4226ae1f46cdfca878e8b52487ca4379\nImplements: blueprint hyper-v-disk-latency-metrics\n'}, {'number': 2, 'created': '2015-01-30 14:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/1c505620ac17d7b0f71b28e8b26622c3cdca80ef', 'message': 'Add disk latency metrics implementation in Hyper-V Inspector\n\nHigh latency between I/O requests can be a sign of issues. Collecting\ndisk metrics can help detect those issues. Windows / Hyper-V Server\n2012 R2 can collect those metrics. This patch adds a disk latency\nmetrics implementation for the Hyper-V Inspector as well as disk latency\nand per device latency pollsters.\n\nChange-Id: I1621fc7d4226ae1f46cdfca878e8b52487ca4379\nImplements: blueprint hyper-v-disk-latency-metrics\n'}, {'number': 3, 'created': '2015-02-02 10:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ace405c26ea33b4d8180074df02ebbfd297ab278', 'message': 'Add disk latency metrics implementation in Hyper-V Inspector\n\nHigh latency between I/O requests can be a sign of issues. Collecting\ndisk metrics can help detect those issues. Windows / Hyper-V Server\n2012 R2 can collect those metrics. This patch adds a disk latency\nmetrics implementation for the Hyper-V Inspector as well as disk latency\nand per device latency pollsters.\n\nDocImpact\n\nChange-Id: I1621fc7d4226ae1f46cdfca878e8b52487ca4379\nImplements: blueprint hyper-v-disk-latency-metrics\n'}, {'number': 4, 'created': '2015-02-02 10:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/31a0ec4c04276a54672a393f08cafaa695363de4', 'message': 'Add disk latency metrics implementation in Hyper-V Inspector\n\nHigh latency between I/O requests can be a sign of issues. Collecting\ndisk metrics can help detect those issues. Windows / Hyper-V Server\n2012 R2 can collect those metrics. This patch adds a disk latency\nmetrics implementation for the Hyper-V Inspector as well as disk latency\nand per device latency pollsters.\n\nDocImpact\n\nChange-Id: I1621fc7d4226ae1f46cdfca878e8b52487ca4379\nImplements: blueprint hyper-v-disk-latency-metrics\n'}, {'number': 5, 'created': '2015-02-02 11:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/2fb3c18fa2be246f01f3dd8b85939c747ece4265', 'message': 'Add disk latency metrics implementation in Hyper-V Inspector\n\nHigh latency between I/O requests can be a sign of issues. Collecting\ndisk metrics can help detect those issues. Windows / Hyper-V Server\n2012 R2 can collect those metrics. This patch adds a disk latency\nmetrics implementation for the Hyper-V Inspector as well as disk latency\nand per device latency pollsters.\n\nDocImpact\n\nChange-Id: I1621fc7d4226ae1f46cdfca878e8b52487ca4379\nImplements: blueprint hyper-v-disk-latency-metrics\n'}, {'number': 6, 'created': '2015-02-02 14:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f6589f971f9a563f20b687ebb7c2125467a16cf3', 'message': 'Add disk latency metrics implementation in Hyper-V Inspector\n\nHigh latency between I/O requests can be a sign of issues. Collecting\ndisk metrics can help detect those issues. Windows / Hyper-V Server\n2012 R2 can collect those metrics. This patch adds a disk latency\nmetrics implementation for the Hyper-V Inspector as well as disk latency\nand per device latency pollsters.\n\nDocImpact\n\nChange-Id: I1621fc7d4226ae1f46cdfca878e8b52487ca4379\nImplements: blueprint hyper-v-disk-latency-metrics\n'}, {'number': 7, 'created': '2015-02-03 01:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d616b07cdab01191c86856f7ffa30ebd6ed9d8f5', 'message': 'Add disk latency metrics implementation in Hyper-V Inspector\n\nHigh latency between I/O requests can be a sign of issues. Collecting\ndisk metrics can help detect those issues. Windows / Hyper-V Server\n2012 R2 can collect those metrics. This patch adds a disk latency\nmetrics implementation for the Hyper-V Inspector as well as disk latency\nand per device latency pollsters.\n\nDocImpact\n\nChange-Id: I1621fc7d4226ae1f46cdfca878e8b52487ca4379\nImplements: blueprint hyper-v-disk-latency-metrics\n'}, {'number': 8, 'created': '2015-02-03 01:19:22.000000000', 'files': ['ceilometer/compute/virt/hyperv/utilsv2.py', 'ceilometer/tests/agent/test_manager.py', 'ceilometer/compute/virt/inspector.py', 'ceilometer/tests/compute/pollsters/test_diskio.py', 'ceilometer/compute/virt/hyperv/inspector.py', 'ceilometer/compute/pollsters/disk.py', 'ceilometer/tests/compute/virt/hyperv/test_inspector.py', 'setup.cfg', 'doc/source/measurements.rst', 'ceilometer/tests/compute/virt/hyperv/test_utilsv2.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ef6f21ada72973d00f36f23e7ff30996f60e6094', 'message': 'Add disk latency metrics implementation in Hyper-V Inspector\n\nHigh latency between I/O requests can be a sign of issues. Collecting\ndisk metrics can help detect those issues. Windows / Hyper-V Server\n2012 R2 can collect those metrics. This patch adds a disk latency\nmetrics implementation for the Hyper-V Inspector as well as disk latency\nand per device latency pollsters.\n\nDocImpact\n\nChange-Id: I1621fc7d4226ae1f46cdfca878e8b52487ca4379\nImplements: blueprint hyper-v-disk-latency-metrics\n'}]",19,151627,ef6f21ada72973d00f36f23e7ff30996f60e6094,32,9,8,12604,,,0,"Add disk latency metrics implementation in Hyper-V Inspector

High latency between I/O requests can be a sign of issues. Collecting
disk metrics can help detect those issues. Windows / Hyper-V Server
2012 R2 can collect those metrics. This patch adds a disk latency
metrics implementation for the Hyper-V Inspector as well as disk latency
and per device latency pollsters.

DocImpact

Change-Id: I1621fc7d4226ae1f46cdfca878e8b52487ca4379
Implements: blueprint hyper-v-disk-latency-metrics
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/27/151627/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/compute/virt/hyperv/utilsv2.py', 'ceilometer/compute/virt/inspector.py', 'ceilometer/tests/compute/pollsters/test_diskio.py', 'ceilometer/compute/virt/hyperv/inspector.py', 'ceilometer/compute/pollsters/disk.py', 'ceilometer/tests/compute/virt/hyperv/test_inspector.py', 'setup.cfg', 'ceilometer/tests/compute/virt/hyperv/test_utilsv2.py', 'doc/source/measurements.rst']",9,72f5acbcade12b4ebe54b3a0cf4c52a97b549e36,bp/hyper-v-disk-latency-metrics,disk.latency g us inst ID p 2 Average disk latencydisk.device.latency g us disk ID p 2 Average disk latency per device,,224,0
openstack%2Fopenstack-manuals~master~I3447172321731989703849b7c99eb030b04fd74f,openstack/openstack-manuals,master,I3447172321731989703849b7c99eb030b04fd74f,New homepage design,MERGED,2014-12-17 06:44:59.000000000,2015-02-03 11:40:19.000000000,2015-02-03 04:45:03.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 287}, {'_account_id': 612}, {'_account_id': 964}, {'_account_id': 2448}, {'_account_id': 6547}, {'_account_id': 6772}, {'_account_id': 9162}, {'_account_id': 14046}]","[{'number': 1, 'created': '2014-12-17 06:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/29ffa03b3260a0d6cc2a3ffc6485c49ead1f0aa2', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 2, 'created': '2014-12-17 07:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/9325450169eafcb18f94b25fb3c3193928a7c756', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 3, 'created': '2014-12-17 07:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/12443ffa17f4216428d877eb39c7c65004ae77a0', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 4, 'created': '2014-12-17 07:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ddc388f9971c2d16d9f25339caa7a584bff8bebd', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 5, 'created': '2014-12-17 07:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ea425d5d29333de4d18fc0f30c6c652b3022eb7c', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 6, 'created': '2014-12-17 08:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/3f8bb317696168e4b0d1545eacf01487a6d1491c', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 7, 'created': '2014-12-17 22:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/914e39981b9dbeef4e4d63a51a2dbf0971ceeeda', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 8, 'created': '2014-12-18 05:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/18c31289600081f8ed7bff2cde4b5f246ccf996d', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 9, 'created': '2014-12-18 22:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/45c4658f36fe1828576edc4a857791b2db77c779', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 10, 'created': '2014-12-24 16:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/9df935e626003bd683440b5a5a7554c0afb82d94', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 11, 'created': '2014-12-26 18:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d667f1f37dafa215ac5724ebe0cd71a234b936e2', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 12, 'created': '2014-12-27 05:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/cf0f8bfd26a2e374369a7a2700579b26bba9e4da', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 13, 'created': '2014-12-27 07:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/49bc3fee4b1c2752ee84cc6ca8cbfc38d05f97ea', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 14, 'created': '2014-12-27 08:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/695534d1d96ab34ba98ae11aff60c875967071aa', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 15, 'created': '2014-12-29 07:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/265654ac9b425fb4af7cc7038df0504543093ed8', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 16, 'created': '2014-12-29 11:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ca6f61cd3bda090d468286999e43643ce1fd11d9', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 17, 'created': '2015-01-01 13:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/bb498d834ca7f5324524f3b5fc73f414a41b2f8b', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 18, 'created': '2015-01-01 13:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/83fb3d941a9be0070bb80d78c6263fdb4e1b65ca', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 19, 'created': '2015-01-01 14:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/9f44fe403916f6a24c85db8a1343239c34aaf042', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 20, 'created': '2015-01-01 14:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/4b92df1f5aa6d327948a0a31861fdde75c2f6b12', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 21, 'created': '2015-01-02 05:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1a8d81ec677a0b5f709c7f71144d2055e46a9349', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 22, 'created': '2015-01-02 05:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f1c8b51ff6f52f78081f3c404b8a068aa7b154e0', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 23, 'created': '2015-01-02 06:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/44ca53761aa1da06b10a68fa5aa7e42b0a76e2b1', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 24, 'created': '2015-01-02 06:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/2d0a5d7e787cf41aab3778a7c2ecb4925440db2f', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 25, 'created': '2015-01-02 06:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/fe9b6487f85e95f5d5c1021fc51662bf38020b69', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 26, 'created': '2015-01-02 09:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8b936d800db632483c104adf4e0c211940964fb7', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 27, 'created': '2015-01-02 09:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/66067d796320d32373f73e326eb4b576904cb565', 'message': 'First attempt at integrating new homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, and attempts to modify templates to allow them\nto be used.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 28, 'created': '2015-01-02 09:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/cdf5679b280a29fd87c13c17573779b700193e85', 'message': 'New homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, modifies templates and pages to use the new\ndesign.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 29, 'created': '2015-01-05 04:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/38a5e92f3f6d42f9ba360b037c075fa7b9b14154', 'message': 'New homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, modifies templates and pages to use the new\ndesign.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 30, 'created': '2015-01-05 04:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/06033fae2df776d4540cd45d1b35bd390c547f7e', 'message': 'New homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, modifies templates and pages to use the new\ndesign.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 31, 'created': '2015-01-05 05:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/166b37e57802f06e40b76ed6df2b77c7326b9194', 'message': 'New homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, modifies templates and pages to use the new\ndesign.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 32, 'created': '2015-01-05 05:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/9e9fc337bbbad2f1c45c44b5e1f381d3a85a2e73', 'message': 'New homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, modifies templates and pages to use the new\ndesign.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 33, 'created': '2015-01-05 05:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/312d76b0308c8e2d92a5ef1a2eda2723c4f02973', 'message': 'New homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, modifies templates and pages to use the new\ndesign.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 34, 'created': '2015-01-05 05:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c5aea001e1a86be17da26f3b7b1feea38d48e31f', 'message': 'New homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, modifies templates and pages to use the new\ndesign.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 35, 'created': '2015-01-05 14:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/2e589c4a50387677994470f145399abd45240549', 'message': 'New homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, modifies templates and pages to use the new\ndesign.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 36, 'created': '2015-01-06 06:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/77ba50539e01abe509f1b08db273fb5bdcc8061c', 'message': 'New homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, modifies templates and pages to use the new\ndesign.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 37, 'created': '2015-01-06 14:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8d7b9ad41b8dc415a7d512fba6d9e4d6d5db13d9', 'message': 'New homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, modifies templates and pages to use the new\ndesign.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 38, 'created': '2015-01-06 14:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/92c49eac3d86126c2c8f1b07a3d83ccd344f0f5b', 'message': 'New homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, modifies templates and pages to use the new\ndesign.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 39, 'created': '2015-01-06 15:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/63cc7df1d9e66f23c2e36cef2bd11df943f2e624', 'message': 'New homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, modifies templates and pages to use the new\ndesign.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 40, 'created': '2015-01-06 15:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c9ad19b9f981e4ee8ba47d80943a798f027627aa', 'message': 'New homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, modifies templates and pages to use the new\ndesign.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 41, 'created': '2015-01-09 07:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/4a62484e792fd8be9ef925f94f10d57ba8200b53', 'message': 'New homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, modifies templates and pages to use the new\ndesign.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 42, 'created': '2015-01-10 21:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a2784f6451a7645029e15436ec9742aea21a5010', 'message': 'New homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, modifies templates and pages to use the new\ndesign.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 43, 'created': '2015-01-16 16:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/4436a86d0b300f93d2794213cffba9ba04aa174d', 'message': 'New homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, modifies templates and pages to use the new\ndesign.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 44, 'created': '2015-01-27 21:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a4cf72d1b941809ee4668dae7d0e29ac010f9fab', 'message': 'New homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, modifies templates and pages to use the new\ndesign.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}, {'number': 45, 'created': '2015-01-30 07:37:00.000000000', 'files': ['www/api/api-ref-guides.html', 'www/static/common/js/bootstrap.min.js', 'www/trunk/index.html', 'www/zh_CN/index.html', 'www/developer/language-bindings.html', 'www/static/common/js/docs.js', 'www/sec/index.html', 'www/static/common/css/combined.css', 'www/de/index.html', 'www/static/common/images/footer-logo.png', 'www/pt_BR/index.html', 'www/static/common/js/doc-characters.json', 'www/static/common/css/styles.css', 'www/static/common/images/footer-youtube.png', 'www/static/common/images/openstack-logo-vert.svg', 'www/ko_KR/index.html', 'www/static/common/images/footer-github.png', 'www/templates/base.tmpl', 'www/static/common/images/footer-youtube-hover.png', 'www/draft-i18n-manuals.html', 'www/static/common/images/docs/superuser2.png', 'www/templates/header.tmpl', 'www/static/common/images/footer-twitter-hover.png', 'www/templates/css.tmpl', 'www/templates/footer.tmpl', 'www/static/common/js/jquery-1.11.0.js', 'www/static/common/images/docs/superuser1.png', 'www/developer/openstack-projects.html', 'www/static/common/images/docs/license.jpg', 'www/templates/dropdown_releases_and_languages.tmpl', 'www/static/common/js/webui-popover.js', 'www/ops/index.html', 'www/static/common/images/footer-linkedin-hover.png', 'www/static/common/images/footer-facebook.png', 'www/static/common/css/font-awesome.min.css', 'www/static/common/images/footer-github-hover.png', 'www/templates/script_footer.tmpl', 'www/static/common/fonts/fontawesome-webfont.woff', 'www/static/common/images/openstack-logo-full.svg', 'www/static/common/images/footer-linkedin.png', 'www/index.html', 'www/static/common/images/footer-facebook-hover.png', 'www/static/common/images/docs/superuser3.png', 'www/static/common/images/openstack-logo-vert.png', 'www/arch/index.html', 'www/static/common/images/openstack-logo-full.png', 'www/havana/index.html', 'www/fr/index.html', 'www/juno/index.html', 'www/static/common/js/navigation.js', 'www/static/common/images/docs/superuser4.png', 'www/static/common/images/openstack-logo.png', 'www/icehouse/index.html', 'www/static/common/js/bootstrap-hover-dropdown.min.js', 'www/static/common/css/bootstrap.css', 'www/static/common/images/footer-twitter.png', 'www/static/common/js/bootstrap.js', 'www/static/common/css/bootstrap.min.css', 'www/ja/index.html'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c7ed201cf551e162a55785a1f208d30ef552825e', 'message': 'New homepage design\n\nThis commit adds all files for the new landing design by\nWes Wilson, modifies templates and pages to use the new\ndesign.\n\nChange-Id: I3447172321731989703849b7c99eb030b04fd74f\n'}]",75,142369,c7ed201cf551e162a55785a1f208d30ef552825e,180,10,45,612,,,0,"New homepage design

This commit adds all files for the new landing design by
Wes Wilson, modifies templates and pages to use the new
design.

Change-Id: I3447172321731989703849b7c99eb030b04fd74f
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/69/142369/2 && git format-patch -1 --stdout FETCH_HEAD,"['www/static/common/js/webui-popover.js', 'www/static/common/js/bootstrap.min.js', 'www/static/common/images/footer-linkedin-hover.png', 'www/static/common/js/docs.js', 'www/static/common/css/combined.css', 'www/static/common/images/footer-facebook.png', 'www/static/common/css/font-awesome.min.css', 'www/static/common/images/footer-github-hover.png', 'www/static/common/images/footer-logo.png', 'www/templates/script_footer.tmpl', 'www/static/common/images/openstack-logo-full.svg', 'www/static/common/images/footer-linkedin.png', 'www/static/common/css/styles.css', 'www/static/common/images/footer-youtube.png', 'www/index.html', 'www/static/common/images/footer-facebook-hover.png', 'www/static/common/images/openstack-logo-vert.svg', 'www/static/common/images/openstack-logo-vert.png', 'www/static/common/images/footer-github.png', 'www/templates/base.tmpl', 'www/static/common/images/footer-youtube-hover.png', 'www/static/common/images/openstack-logo-full.png', 'www/static/common/images/docs/superuser.png', 'www/static/common/js/navigation.js', 'www/static/common/images/openstack-logo.png', 'www/templates/header.tmpl', 'www/static/common/images/footer-twitter-hover.png', 'www/static/common/js/bootstrap-hover-dropdown.min.js', 'www/templates/css.tmpl', 'www/static/common/css/bootstrap.css', 'www/templates/footer.tmpl', 'www/static/common/images/footer-twitter.png', 'www/static/common/js/jquery-1.11.0.js', 'www/static/common/js/bootstrap.js', 'www/static/common/css/bootstrap.min.css', 'www/static/common/images/docs/license.jpg']",36,29ffa03b3260a0d6cc2a3ffc6485c49ead1f0aa2,new-website,,,16087,341
openstack%2Fcinder~master~I293128364dcd1a83e990d9c75555b04c1e4226fb,openstack/cinder,master,I293128364dcd1a83e990d9c75555b04c1e4226fb,Use get_my_ipv4 from oslo.utils,MERGED,2014-12-23 08:19:16.000000000,2015-02-03 11:06:00.000000000,2015-02-03 11:05:59.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5538}, {'_account_id': 7219}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9796}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11811}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 13636}, {'_account_id': 13900}, {'_account_id': 14242}, {'_account_id': 14305}]","[{'number': 1, 'created': '2014-12-23 08:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e1d9192d218d168892f30c3b634bb607fa97f3f4', 'message': ""Use get_my_ipv4 from oslo.utils\n\nRemove _get_my_ip from Cinder and replace it's usages\nby usages of get_my_ipv4 from netutils, because this methods\nimplements the same functionality.\n\nChange-Id: I293128364dcd1a83e990d9c75555b04c1e4226fb\n""}, {'number': 2, 'created': '2015-01-28 03:18:11.000000000', 'files': ['cinder/common/config.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/92a67f4207ffecf11df5b58e689b11277f3d65cb', 'message': ""Use get_my_ipv4 from oslo.utils\n\nRemove _get_my_ip from Cinder and replace it's usages\nby usages of get_my_ipv4 from netutils, because this methods\nimplements the same functionality.\n\nChange-Id: I293128364dcd1a83e990d9c75555b04c1e4226fb\n""}]",0,143619,92a67f4207ffecf11df5b58e689b11277f3d65cb,39,22,2,9796,,,0,"Use get_my_ipv4 from oslo.utils

Remove _get_my_ip from Cinder and replace it's usages
by usages of get_my_ipv4 from netutils, because this methods
implements the same functionality.

Change-Id: I293128364dcd1a83e990d9c75555b04c1e4226fb
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/143619/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/common/config.py'],1,e1d9192d218d168892f30c3b634bb607fa97f3f4,use_get_my_ip,"from oslo.utils import netutils default=netutils.get_my_ipv4(),"," def _get_my_ip(): """""" Returns the actual ip of the local machine. This code figures out what source address would be used if some traffic were to be sent out to some well known address on the Internet. In this case, a Google DNS server is used, but the specific address does not matter much. No traffic is actually sent. """""" try: csock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM) csock.connect(('8.8.8.8', 80)) (addr, _port) = csock.getsockname() csock.close() return addr except socket.error: return ""127.0.0.1"" default=_get_my_ip(),",2,21
openstack%2Fironic-inspector~master~Ica2e05bb5172249a293ea56e1a440ff26f144f6c,openstack/ironic-inspector,master,Ica2e05bb5172249a293ea56e1a440ff26f144f6c,Start 1.1 development,MERGED,2015-02-03 10:55:43.000000000,2015-02-03 11:05:45.000000000,2015-02-03 11:05:44.000000000,"[{'_account_id': 3}, {'_account_id': 10239}]","[{'number': 1, 'created': '2015-02-03 10:55:43.000000000', 'files': ['ironic_discoverd/__init__.py', 'README.rst'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/07b2f8e4157271920d16df81c3f5d72f5510f0ec', 'message': 'Start 1.1 development\n\nChange-Id: Ica2e05bb5172249a293ea56e1a440ff26f144f6c\n'}]",0,152465,07b2f8e4157271920d16df81c3f5d72f5510f0ec,6,2,1,10239,,,0,"Start 1.1 development

Change-Id: Ica2e05bb5172249a293ea56e1a440ff26f144f6c
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/65/152465/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_discoverd/__init__.py', 'README.rst']",2,07b2f8e4157271920d16df81c3f5d72f5510f0ec,,1.1 Series ~~~~~~~~~~ See `1.1.0 release tracking page`_ for details. **Upgrade Notes** **Major Features** **Other Changes** **Known Issues** .. _1.1.0 release tracking page: https://bugs.launchpad.net/ironic-discoverd/+milestone/1.1.0 ,,16,1
openstack%2Fironic~master~I64697863ef7e3d57d84d9681cc4c54a9a2a06478,openstack/ironic,master,I64697863ef7e3d57d84d9681cc4c54a9a2a06478,region missing in endpoint selection,MERGED,2015-01-18 21:29:25.000000000,2015-02-03 11:03:06.000000000,2015-02-03 11:03:05.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 7882}, {'_account_id': 8106}, {'_account_id': 8125}, {'_account_id': 10068}, {'_account_id': 10343}, {'_account_id': 12081}, {'_account_id': 12356}, {'_account_id': 13762}, {'_account_id': 14678}]","[{'number': 1, 'created': '2015-01-18 21:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ed5a9382e033c1710d2c0e349cd3a9973b478b68', 'message': 'Fix for bug# 1412238\n\nRegion parameter is missing in selecting other components endpoint. (nova, neutron).\nThis causes problem if there are multiple service endpoints available in keystone service catalog for different regions.\n\nChange-Id: I64697863ef7e3d57d84d9681cc4c54a9a2a06478\n'}, {'number': 2, 'created': '2015-01-19 23:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d856d256b547e72901d8527d07ebe195628595cd', 'message': 'region missing in endpoint selection\n\nRegion parameter is missing in selecting other components\nendpoint. This causes problem if there are multiple service\nendpoints available in keystone service catalog for different\nregions.\n\nCloses-Bug: #1412238\nChange-Id: I64697863ef7e3d57d84d9681cc4c54a9a2a06478\n'}, {'number': 3, 'created': '2015-01-19 23:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cbb3a3d3c9052e8a645644ce884595e1ba8ed92a', 'message': 'region missing in endpoint selection\n\nRegion parameter is missing in selecting other components\nendpoint. This causes problem if there are multiple service\nendpoints available in keystone service catalog for different\nregions.\n\nCloses-Bug: #1412238\nChange-Id: I64697863ef7e3d57d84d9681cc4c54a9a2a06478\n'}, {'number': 4, 'created': '2015-01-21 00:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ae221f1e961e684144a2e7bfd73ff314e471e1f6', 'message': 'region missing in endpoint selection\n\nRegion parameter is missing in selecting other components\nendpoint. This causes problem if there are multiple service\nendpoints available in keystone service catalog for different\nregions.\n\nCloses-Bug: #1412238\nChange-Id: I64697863ef7e3d57d84d9681cc4c54a9a2a06478\n'}, {'number': 5, 'created': '2015-01-30 23:54:10.000000000', 'files': ['ironic/common/keystone.py', 'etc/ironic/ironic.conf.sample', 'ironic/dhcp/neutron.py', 'ironic/tests/test_keystone.py', 'ironic/tests/dhcp/test_neutron.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f47b0e2aea14178f24de03f68f775f9f1f556bce', 'message': 'region missing in endpoint selection\n\nRegion parameter is missing in selecting other components\nendpoint. This causes problem if there are multiple service\nendpoints available in keystone service catalog for different\nregions.\n\nCloses-Bug: #1412238\nChange-Id: I64697863ef7e3d57d84d9681cc4c54a9a2a06478\n'}]",37,148128,f47b0e2aea14178f24de03f68f775f9f1f556bce,49,12,5,14678,,,0,"region missing in endpoint selection

Region parameter is missing in selecting other components
endpoint. This causes problem if there are multiple service
endpoints available in keystone service catalog for different
regions.

Closes-Bug: #1412238
Change-Id: I64697863ef7e3d57d84d9681cc4c54a9a2a06478
",git fetch https://review.opendev.org/openstack/ironic refs/changes/28/148128/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/keystone.py', 'etc/ironic/ironic.conf.sample', 'ironic/dhcp/neutron.py']",3,ed5a9382e033c1710d2c0e349cd3a9973b478b68,bug/1412238, if CONF.region_name: params['region_name'] = CONF.region_name,,15,2
openstack%2Fheat~master~I4988b5d5dc150d5ee949266916d0f06a4d4176ce,openstack/heat,master,I4988b5d5dc150d5ee949266916d0f06a4d4176ce,Add all dotfiles to the list of pep8 exceptions,MERGED,2015-01-27 03:06:21.000000000,2015-02-03 11:02:56.000000000,2015-02-03 11:02:54.000000000,"[{'_account_id': 3}, {'_account_id': 4715}, {'_account_id': 7404}, {'_account_id': 8871}, {'_account_id': 9542}, {'_account_id': 12606}]","[{'number': 1, 'created': '2015-01-27 03:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fce5eb821358cef2e9d25f74030c0a0533b4ff51', 'message': 'Add "".ropeproject"" to the list of pep8 exceptions\n\nChange-Id: I4988b5d5dc150d5ee949266916d0f06a4d4176ce\nCloses-Bug: 1414869\n'}, {'number': 2, 'created': '2015-01-27 20:29:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/9cd15afe74ed42f8df3459183236da733dcb9cae', 'message': 'Add all dotfiles to the list of pep8 exceptions\n\nThis helps avoid bogus errors in third party configuration files such as\nthose in .ropeproject folders.\n\nChange-Id: I4988b5d5dc150d5ee949266916d0f06a4d4176ce\nCloses-Bug: 1414869\n'}]",2,150237,9cd15afe74ed42f8df3459183236da733dcb9cae,18,6,2,12606,,,0,"Add all dotfiles to the list of pep8 exceptions

This helps avoid bogus errors in third party configuration files such as
those in .ropeproject folders.

Change-Id: I4988b5d5dc150d5ee949266916d0f06a4d4176ce
Closes-Bug: 1414869
",git fetch https://review.opendev.org/openstack/heat refs/changes/37/150237/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fce5eb821358cef2e9d25f74030c0a0533b4ff51,bug/1414869,"exclude=.venv,.git,.tox,dist,*openstack/common*,*lib/python*,*egg,tools,build,.ropeproject","exclude=.venv,.git,.tox,dist,*openstack/common*,*lib/python*,*egg,tools,build",1,1
openstack%2Fzaqar~master~Id539d3f143809696253043d5832d9c4b91f1b6b9,openstack/zaqar,master,Id539d3f143809696253043d5832d9c4b91f1b6b9,Imported Translations from Transifex,MERGED,2015-01-30 06:23:55.000000000,2015-02-03 10:55:11.000000000,2015-02-03 10:55:11.000000000,"[{'_account_id': 3}, {'_account_id': 6159}, {'_account_id': 6484}]","[{'number': 1, 'created': '2015-01-30 06:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/e641621c3f4c95331c5488ab08e3fa164831425f', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Id539d3f143809696253043d5832d9c4b91f1b6b9\n'}, {'number': 2, 'created': '2015-01-31 06:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/943c169499e89815d4d7b209bb96dca58248600c', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Id539d3f143809696253043d5832d9c4b91f1b6b9\n'}, {'number': 3, 'created': '2015-02-01 06:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/660d2645e148b01ca620c22671b533814e3bbade', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Id539d3f143809696253043d5832d9c4b91f1b6b9\n'}, {'number': 4, 'created': '2015-02-02 06:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/e3ff3b362c365f6ddfaa88bbd62a6dfac6490233', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Id539d3f143809696253043d5832d9c4b91f1b6b9\n'}, {'number': 5, 'created': '2015-02-03 06:03:47.000000000', 'files': ['zaqar/locale/zaqar.pot', 'zaqar/locale/pt_BR/LC_MESSAGES/zaqar.po'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/238ed536d0b1f436d7061d75703b1da33fac183d', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Id539d3f143809696253043d5832d9c4b91f1b6b9\n'}]",1,151549,238ed536d0b1f436d7061d75703b1da33fac183d,15,3,5,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: Id539d3f143809696253043d5832d9c4b91f1b6b9
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/49/151549/2 && git format-patch -1 --stdout FETCH_HEAD,"['zaqar/locale/zaqar.pot', 'zaqar/locale/pt_BR/LC_MESSAGES/zaqar.po']",2,e641621c3f4c95331c5488ab08e3fa164831425f,transifex/translations,"# Copyright (C) 2015 ORGANIZATION""POT-Creation-Date: 2015-01-30 06:23+0000\n"" ""PO-Revision-Date: 2015-01-29 15:00+0000\n"" ""Last-Translator: openstackjenkins <jenkins@openstack.org>\n""msgid ""{0} is not a valid action"" msgstr """"#: zaqar/transport/wsgi/driver.py:115#: zaqar/transport/wsgi/v2_0/claims.py:97#: zaqar/transport/wsgi/v2_0/claims.py:149#: zaqar/transport/wsgi/v2_0/claims.py:196#: zaqar/transport/wsgi/v2_0/claims.py:214#: zaqar/transport/wsgi/v2_0/messages.py:74 #: zaqar/transport/wsgi/v2_0/messages.py:323#: zaqar/transport/wsgi/v2_0/messages.py:120#: zaqar/transport/wsgi/v2_0/messages.py:195#: zaqar/transport/wsgi/v2_0/messages.py:200#: zaqar/transport/wsgi/v2_0/messages.py:268#: zaqar/transport/wsgi/v2_0/messages.py:343 #: zaqar/transport/wsgi/v2_0/pools.py:197#: zaqar/transport/wsgi/v2_0/messages.py:354#: zaqar/transport/wsgi/v2_0/messages.py:360#: zaqar/transport/wsgi/v2_0/messages.py:366#: zaqar/transport/wsgi/v2_0/messages.py:372#: zaqar/transport/wsgi/v2_0/queues.py:55#: zaqar/transport/wsgi/v2_0/queues.py:90#: zaqar/transport/wsgi/v2_0/queues.py:105#: zaqar/transport/wsgi/v2_0/queues.py:141#: zaqar/transport/wsgi/v2_0/stats.py:72#: zaqar/transport/wsgi/v2_0/flavors.py:159#: zaqar/transport/wsgi/v2_0/flavors.py:162#: zaqar/transport/wsgi/v2_0/health.py:37#: zaqar/transport/wsgi/v2_0/messages.py:166#: zaqar/transport/wsgi/v2_0/messages.py:286#: zaqar/transport/wsgi/v2_0/pools.py:198","# Copyright (C) 2014 ORGANIZATION""POT-Creation-Date: 2015-01-04 06:08+0000\n"" ""PO-Revision-Date: 2014-11-07 20:00+0000\n"" ""Last-Translator: Rodrigo Felix de Almeida "" ""<rodrigofelixdealmeida@gmail.com>\n""msgid ""{0} is not a valid operation"" msgstr ""{0} não é uma operação válida""#: zaqar/transport/wsgi/driver.py:110",65,12
openstack%2Fopenstack-ansible~icehouse~Ib28a509b2fd6933d9c6a5c14911305da51602ab5,openstack/openstack-ansible,icehouse,Ib28a509b2fd6933d9c6a5c14911305da51602ab5,Fixing docstring typo,MERGED,2015-02-03 09:29:23.000000000,2015-02-03 10:48:26.000000000,2015-02-03 10:48:26.000000000,"[{'_account_id': 3}, {'_account_id': 7217}, {'_account_id': 7307}, {'_account_id': 9884}, {'_account_id': 12807}]","[{'number': 1, 'created': '2015-02-03 09:29:23.000000000', 'files': ['rpc_deployment/inventory/dynamic_inventory.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/21f4d09637ebf00491db7d980b58567b56278a79', 'message': 'Fixing docstring typo\n\nChange to docstring for _build_container_hosts.\n\nChange-Id: Ib28a509b2fd6933d9c6a5c14911305da51602ab5\n(cherry picked from commit eb34b51b1c8798250da28ed6458d5bd7ebf640fe)\n'}]",0,152437,21f4d09637ebf00491db7d980b58567b56278a79,7,5,1,6816,,,0,"Fixing docstring typo

Change to docstring for _build_container_hosts.

Change-Id: Ib28a509b2fd6933d9c6a5c14911305da51602ab5
(cherry picked from commit eb34b51b1c8798250da28ed6458d5bd7ebf640fe)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/37/152437/1 && git format-patch -1 --stdout FETCH_HEAD,['rpc_deployment/inventory/dynamic_inventory.py'],1,21f4d09637ebf00491db7d980b58567b56278a79,," """"""Add in all of the host associations into inventory."," """"""Add in all of hte host associations into inventory.",1,1
openstack%2Fmagnum~master~I8c7a63c021c02b0506cf8a0581ec44fd9de53b6d,openstack/magnum,master,I8c7a63c021c02b0506cf8a0581ec44fd9de53b6d,Persist project_id and user_id,ABANDONED,2015-02-03 08:38:03.000000000,2015-02-03 10:45:37.000000000,,"[{'_account_id': 3}, {'_account_id': 7494}, {'_account_id': 12385}]","[{'number': 1, 'created': '2015-02-03 08:38:03.000000000', 'files': ['magnum/api/controllers/v1/replicationcontroller.py', 'magnum/api/controllers/v1/pod.py', 'magnum/api/controllers/v1/service.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/05b6135f6ed2ba8f0227e646d6d31438be76e622', 'message': 'Persist project_id and user_id\n\nInclude following tables:\n1) pod\n2) service\n3) replicationcontroller\n\nImplements part of bp multi-tenant\n\nChange-Id: I8c7a63c021c02b0506cf8a0581ec44fd9de53b6d\n'}]",0,152427,05b6135f6ed2ba8f0227e646d6d31438be76e622,6,3,1,7494,,,0,"Persist project_id and user_id

Include following tables:
1) pod
2) service
3) replicationcontroller

Implements part of bp multi-tenant

Change-Id: I8c7a63c021c02b0506cf8a0581ec44fd9de53b6d
",git fetch https://review.opendev.org/openstack/magnum refs/changes/27/152427/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/api/controllers/v1/replicationcontroller.py', 'magnum/api/controllers/v1/pod.py', 'magnum/api/controllers/v1/service.py']",3,05b6135f6ed2ba8f0227e646d6d31438be76e622,bp/multi-tenant," service_dict = service.as_dict() ctxt = pecan.request.context auth_token = ctxt.auth_token_info['token'] service_dict['project_id'] = auth_token['project']['id'] service_dict['user_id'] = auth_token['user']['id'] service_obj = objects.Service(ctxt, **service_dict)"," service_obj = objects.Service(pecan.request.context, **service.as_dict())",18,6
openstack%2Fopenstack-ansible~master~Icdf251532774a2b79ae029f1b3729090f4eebba6,openstack/openstack-ansible,master,Icdf251532774a2b79ae029f1b3729090f4eebba6,Specify filename for horizon config file,MERGED,2015-01-22 13:08:56.000000000,2015-02-03 10:34:32.000000000,2015-01-22 14:26:35.000000000,"[{'_account_id': 3}, {'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-01-22 13:08:56.000000000', 'files': ['rpc_deployment/roles/horizon_apache/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7688df8d10905054098c92d13a9690bd9f692447', 'message': 'Specify filename for horizon config file\n\nChange-Id: Icdf251532774a2b79ae029f1b3729090f4eebba6\nCloses-Bug: #1413585\n'}]",0,149243,7688df8d10905054098c92d13a9690bd9f692447,9,4,1,7217,,,0,"Specify filename for horizon config file

Change-Id: Icdf251532774a2b79ae029f1b3729090f4eebba6
Closes-Bug: #1413585
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/43/149243/1 && git format-patch -1 --stdout FETCH_HEAD,['rpc_deployment/roles/horizon_apache/tasks/main.yml'],1,7688df8d10905054098c92d13a9690bd9f692447,bug/1413585," dest: ""/etc/apache2/sites-available/openstack-dashboard.conf"""," dest: ""/etc/apache2/sites-available""",1,1
openstack%2Fopenstack-ansible~master~Ia97e2a90d5a9fed0d9bfdd3e575c8cdc01b83dab,openstack/openstack-ansible,master,Ia97e2a90d5a9fed0d9bfdd3e575c8cdc01b83dab,Add configure ssh task,MERGED,2014-12-19 18:05:11.000000000,2015-02-03 10:33:29.000000000,2015-01-05 13:23:13.000000000,"[{'_account_id': 3}, {'_account_id': 425}, {'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7217}, {'_account_id': 7307}, {'_account_id': 9820}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-12-19 18:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cc32b87921ab0a97eb83b804e044ecedc0a468f0', 'message': '[WIP] Add configure ssh task\n\nThis task will run on all nodes as part of the common role, it will:\n * enable logging to /var/log/sshd\n * set MaxSessions to 100 (Default 10)\n * set MaxStartups to 100 (Defualt 10)\n\nI believe that the low default values of of MaxS* may be causing us problems\nwhen we are delegating container tasks to the host, and forks > MaxS*.\n\nLogging Bug:\nCloses-Bug: #1404219\n\nGate Ssh Failures Bug:\nCloses-Bug: #1404343\n\nChange-Id: Ia97e2a90d5a9fed0d9bfdd3e575c8cdc01b83dab\n'}, {'number': 2, 'created': '2014-12-19 18:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/98963735fc9683b6ea7e7eb62b7c00bde555d789', 'message': '[WIP] Add configure ssh task\n\nThis task will run on all nodes as part of the common role, it will:\n * enable logging to /var/log/sshd\n * set MaxSessions to 100 (Default 10)\n * set MaxStartups to 100 (Defualt 10)\n\nI believe that the low default values of of MaxS* may be causing us problems\nwhen we are delegating container tasks to the host, and forks > MaxS*.\n\nLogging Bug:\nCloses-Bug: #1404219\n\nGate Ssh Failures Bug:\nCloses-Bug: #1404343\n\nChange-Id: Ia97e2a90d5a9fed0d9bfdd3e575c8cdc01b83dab\n'}, {'number': 3, 'created': '2014-12-19 19:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a993f8aeeaf0763e6d7263981866fe27836d0783', 'message': '[WIP] Add configure ssh task\n\nThis task will run on all nodes as part of the common role, it will:\n * enable logging to /var/log/sshd\n * set MaxSessions to 100 (Default 10)\n * set MaxStartups to 100 (Defualt 10)\n\nI believe that the low default values of of MaxS* may be causing us problems\nwhen we are delegating container tasks to the host, and forks > MaxS*.\n\nLogging Bug:\nCloses-Bug: #1404219\n\nGate Ssh Failures Bug:\nCloses-Bug: #1404343\n\nChange-Id: Ia97e2a90d5a9fed0d9bfdd3e575c8cdc01b83dab\n'}, {'number': 4, 'created': '2014-12-22 12:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e3b4e728f5720376e89287dd71937bbee2b77e33', 'message': '[WIP] Add configure ssh task\n\nThis task will run on all nodes as part of the common role, it will:\n * enable logging to /var/log/sshd\n * set MaxSessions to 500 (Default 10)\n * set MaxStartups to 500 (Defualt 10)\n\nI believe that the low default values of of MaxS* may be causing us problems\nwhen we are delegating container tasks to the host, and forks > MaxS*.\n\nLogging Bug:\nCloses-Bug: #1404219\n\nGate Ssh Failures Bug:\nCloses-Bug: #1404343\n\nChange-Id: Ia97e2a90d5a9fed0d9bfdd3e575c8cdc01b83dab\n'}, {'number': 5, 'created': '2014-12-30 16:38:12.000000000', 'files': ['rpc_deployment/roles/common/tasks/main.yml', 'rpc_deployment/roles/common/tasks/ssh_config.yml', 'rpc_deployment/roles/common/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1dae4cca9f9cfb8230385c303f6c1b0292934bf6', 'message': 'Add configure ssh task\n\nThis task will run on all nodes as part of the common role, it will:\n * enable logging to /var/log/sshd\n * set MaxSessions to 500 (Default 10)\n * set MaxStartups to 500 (Defualt 10)\n\nI believe that the low default values of of MaxS* may be causing us problems\nwhen we are delegating container tasks to the host, and forks > MaxS*.\n\nLogging Bug:\nCloses-Bug: #1404219\n\nGate Ssh Failures Bug:\nCloses-Bug: #1404343\n\nChange-Id: Ia97e2a90d5a9fed0d9bfdd3e575c8cdc01b83dab\n'}]",0,143151,1dae4cca9f9cfb8230385c303f6c1b0292934bf6,30,8,5,7217,,,0,"Add configure ssh task

This task will run on all nodes as part of the common role, it will:
 * enable logging to /var/log/sshd
 * set MaxSessions to 500 (Default 10)
 * set MaxStartups to 500 (Defualt 10)

I believe that the low default values of of MaxS* may be causing us problems
when we are delegating container tasks to the host, and forks > MaxS*.

Logging Bug:
Closes-Bug: #1404219

Gate Ssh Failures Bug:
Closes-Bug: #1404343

Change-Id: Ia97e2a90d5a9fed0d9bfdd3e575c8cdc01b83dab
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/51/143151/1 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/roles/common/tasks/main.yml', 'roles/common/tasks/ssh_config.yml']",2,cc32b87921ab0a97eb83b804e044ecedc0a468f0,bug/1404219,"--- # Copyright 2014, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. --- - name: set max sessions lineinfile: dest: /etc/ssh/sshd_config line: ""MaxSessions 100"" notify: - restart ssh - name: set max startups lineinfile: dest: /etc/ssh/sshd_config line: ""MaxStartups 100"" notify: - restart ssh - name: configure sshd to log to /var/log/sshd lineinfile: dest: /etc/init/ssh.conf regexp: 'exec /usr/sbin/sshd' line: ""exec /usr/sbin/sshd -D -E /var/log/sshd"" notify: - restart ssh handlers: - name: restart ssh service: name: ssh state: restarted ",,40,0
openstack%2Ftempest~master~Ic6b06a8cb4747a94259602e013306a7632fb1b45,openstack/tempest,master,Ic6b06a8cb4747a94259602e013306a7632fb1b45,Add Forbidden translation,MERGED,2015-01-29 01:55:49.000000000,2015-02-03 10:33:20.000000000,2015-02-03 10:33:18.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 8556}, {'_account_id': 8859}, {'_account_id': 10385}, {'_account_id': 11671}, {'_account_id': 12378}]","[{'number': 1, 'created': '2015-01-29 01:55:49.000000000', 'files': ['tempest/common/service_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b8c2d7cf2da02a7c951c1c8e8a955293ed600624', 'message': 'Add Forbidden translation\n\nI890498b2df6ae8d8f689537c8d6da1b5c06c2bd6 is trying to separate\nForbidden from Unauthorized in tempest-lib, but the gate tests\nfails because some negative tests expect Unauthorized in Tempest\nside. To avoid failures, this patch adds Forbidden translation\ntemporary.\n\nChange-Id: Ic6b06a8cb4747a94259602e013306a7632fb1b45\n'}]",1,151071,b8c2d7cf2da02a7c951c1c8e8a955293ed600624,11,7,1,6167,,,0,"Add Forbidden translation

I890498b2df6ae8d8f689537c8d6da1b5c06c2bd6 is trying to separate
Forbidden from Unauthorized in tempest-lib, but the gate tests
fails because some negative tests expect Unauthorized in Tempest
side. To avoid failures, this patch adds Forbidden translation
temporary.

Change-Id: Ic6b06a8cb4747a94259602e013306a7632fb1b45
",git fetch https://review.opendev.org/openstack/tempest refs/changes/71/151071/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/common/service_client.py'],1,b8c2d7cf2da02a7c951c1c8e8a955293ed600624,add-Forbidden, # TODO(oomichi): This is just a workaround for failing gate tests # when separating Forbidden from Unauthorized in tempest-lib. # We will need to remove this translation and replace negative tests # with lib_exceptions.Forbidden in the future. except lib_exceptions.Forbidden as ex: raise exceptions.Unauthorized(ex),,6,0
openstack%2Fzaqar~master~I3d19bba74bf35861cb8f52c06e8617bf4f9c22fe,openstack/zaqar,master,I3d19bba74bf35861cb8f52c06e8617bf4f9c22fe,Add args and kwargs when get storage pipeline,ABANDONED,2015-01-31 09:40:00.000000000,2015-02-03 10:31:00.000000000,,"[{'_account_id': 3}, {'_account_id': 6159}]","[{'number': 1, 'created': '2015-01-31 09:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/e0355b8ac31d37d0b3e09455ba3ac61c8333af30', 'message': ""Add args and kwargs when get storage pipeline\n\nWhen loading storage pipeline drivers, current code doesn't\nsupport pass in parameters for the pipeline drivers. As a\nresult, it's hard to get a controller instance in those\ndrivers. This patch will add args and kwargs for method\n_get_storage_pipeline, so that the pipeline drivers can\nbe initialized with parameters.\n\nChange-Id: I3d19bba74bf35861cb8f52c06e8617bf4f9c22fe\n""}, {'number': 2, 'created': '2015-01-31 10:06:09.000000000', 'files': ['zaqar/storage/pipeline.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/5b6ca4bac94c57630ce7888680cb8e161a3d1334', 'message': ""Add args and kwargs when get storage pipeline\n\nWhen loading storage pipeline drivers, current code doesn't\nsupport pass in parameters for the pipeline drivers. As a\nresult, it's hard to get a controller instance in those\ndrivers. This patch will add args and kwargs for method\n_get_storage_pipeline, so that the pipeline drivers can\nbe initialized with parameters.\n\nPartially-Implements blueprint: notifications\n\nChange-Id: I3d19bba74bf35861cb8f52c06e8617bf4f9c22fe\n""}]",0,151871,5b6ca4bac94c57630ce7888680cb8e161a3d1334,6,2,2,6484,,,0,"Add args and kwargs when get storage pipeline

When loading storage pipeline drivers, current code doesn't
support pass in parameters for the pipeline drivers. As a
result, it's hard to get a controller instance in those
drivers. This patch will add args and kwargs for method
_get_storage_pipeline, so that the pipeline drivers can
be initialized with parameters.

Partially-Implements blueprint: notifications

Change-Id: I3d19bba74bf35861cb8f52c06e8617bf4f9c22fe
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/71/151871/2 && git format-patch -1 --stdout FETCH_HEAD,['zaqar/storage/pipeline.py'],1,e0355b8ac31d37d0b3e09455ba3ac61c8333af30,bp/notifications,"def _get_storage_pipeline(resource_name, conf, *args, **kwargs): ns, invoke_args=args, invoke_kwds=kwargs, invoke_on_load=True) stages.append()","def _get_storage_pipeline(resource_name, conf): ns, invoke_on_load=True) stages.append(self._storage.subscription_controller)",6,3
openstack%2Ffuel-web~master~I781d95c028526f5a8788bd980d1c61f5f98458a9,openstack/fuel-web,master,I781d95c028526f5a8788bd980d1c61f5f98458a9,Add OSWL collector,MERGED,2015-01-29 13:51:09.000000000,2015-02-03 10:29:13.000000000,2015-02-03 10:29:13.000000000,"[{'_account_id': 3}, {'_account_id': 8392}, {'_account_id': 8907}, {'_account_id': 8931}, {'_account_id': 8954}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10959}, {'_account_id': 11082}, {'_account_id': 11577}]","[{'number': 1, 'created': '2015-01-29 13:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/9a2150d2075dda2aa8024f51586b731798051869', 'message': 'Add OSWL collector\n\nScript for collecting OSWL for particular resource is added. It is\nsupposed to be managed via supervisor so corresponding entry in console\nscripts in setup.py added.\n\nThis patch is utilizing functionality being introduced by this change\nhttps://review.openstack.org/#/c/150519/7\n\nChange-Id: I781d95c028526f5a8788bd980d1c61f5f98458a9\nImplements: blueprint openstack-workload-statistics\n'}, {'number': 2, 'created': '2015-01-29 14:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/ae682c079c704debfb9e6661db9f0df8b10f9228', 'message': 'Add OSWL collector\n\nScript for collecting OSWL for particular resource is added. It is\nsupposed to be managed via supervisor so corresponding entry in console\nscripts in setup.py added.\n\nThis patch is utilizing functionality being introduced by this change\nhttps://review.openstack.org/#/c/150519/7\n\nChange-Id: I781d95c028526f5a8788bd980d1c61f5f98458a9\nImplements: blueprint openstack-workload-statistics\n'}, {'number': 3, 'created': '2015-01-29 15:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/6084d0fd7d854c595bbad8fc612cffd74ec352b8', 'message': 'Add OSWL collector\n\nScript for collecting OSWL for particular resource is added. It is\nsupposed to be managed via supervisor so corresponding entry in console\nscripts in setup.py added.\n\nThis patch is utilizing functionality being introduced by this change\nhttps://review.openstack.org/#/c/150519/7\n\nChange-Id: I781d95c028526f5a8788bd980d1c61f5f98458a9\nImplements: blueprint openstack-workload-statistics\n'}, {'number': 4, 'created': '2015-01-30 11:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/6db7a95e874d4ed28679d63dc17b6913c04fdfbf', 'message': 'Add OSWL collector\n\nPeriodical collecting OSWL info for particular resource. It is\nsupposed to be managed via supervisord so corresponding entry in console\nscripts in setup.py added.\n\nImplements: blueprint openstack-workload-statistics\n\nChange-Id: I781d95c028526f5a8788bd980d1c61f5f98458a9\n'}, {'number': 5, 'created': '2015-01-30 11:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/de6bca39611ec67f8b491f13f61b91653cc422bd', 'message': 'Add OSWL collector\n\nPeriodical collecting OSWL info for particular resource. It is\nsupposed to be managed via supervisord so corresponding entry in console\nscripts in setup.py added.\n\nImplements: blueprint openstack-workload-statistics\n\nChange-Id: I781d95c028526f5a8788bd980d1c61f5f98458a9\n'}, {'number': 6, 'created': '2015-01-30 12:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/f5be434d6a51f740335e6d8fc4fef85f51273acc', 'message': 'Add OSWL collector\n\nPeriodical collecting OSWL info for particular resource. It is\nsupposed to be managed via supervisord so corresponding entry in console\nscripts in setup.py added.\n\nImplements: blueprint openstack-workload-statistics\n\nChange-Id: I781d95c028526f5a8788bd980d1c61f5f98458a9\n'}, {'number': 7, 'created': '2015-02-02 13:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/d7cfc4b6ecdf0f322dfbfb11fd563359890471e3', 'message': 'Add OSWL collector\n\nPeriodical collecting OSWL info for particular resource. It is\nsupposed to be managed via supervisord so corresponding entry in console\nscripts in setup.py added.\n\nImplements: blueprint openstack-workload-statistics\n\nChange-Id: I781d95c028526f5a8788bd980d1c61f5f98458a9\n'}, {'number': 8, 'created': '2015-02-02 14:37:58.000000000', 'files': ['nailgun/nailgun/statistics/utils.py', 'nailgun/nailgun/statistics/oswl_collector.py', 'nailgun/nailgun/settings.yaml', 'nailgun/setup.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/713175dc377242679f1cd62069f9e8062a0a1ff3', 'message': 'Add OSWL collector\n\nPeriodical collecting OSWL info for particular resource. It is\nsupposed to be managed via supervisord so corresponding entry in console\nscripts in setup.py added.\n\nImplements: blueprint openstack-workload-statistics\n\nChange-Id: I781d95c028526f5a8788bd980d1c61f5f98458a9\n'}]",15,151243,713175dc377242679f1cd62069f9e8062a0a1ff3,62,10,8,8931,,,0,"Add OSWL collector

Periodical collecting OSWL info for particular resource. It is
supposed to be managed via supervisord so corresponding entry in console
scripts in setup.py added.

Implements: blueprint openstack-workload-statistics

Change-Id: I781d95c028526f5a8788bd980d1c61f5f98458a9
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/43/151243/8 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/statistics/oswl_collector.py', 'nailgun/nailgun/settings.yaml', 'nailgun/setup.py']",3,9a2150d2075dda2aa8024f51586b731798051869,bp/openstack-workload-statistics," 'statsenderd = nailgun.statistics.statsenderd:run', 'oswl_collectord = nailgun.statistics.oswl_collector:run',", 'statsenderd = nailgun.statistics.statsenderd:run',69,1
openstack%2Ffuel-library~master~I43cdf4ce049eeb2a032dae425c5254535475d63f,openstack/fuel-library,master,I43cdf4ce049eeb2a032dae425c5254535475d63f,Lower vm.swappiness parameter to 10 on controller nodes,MERGED,2015-01-23 08:41:54.000000000,2015-02-03 10:27:22.000000000,2015-01-23 13:54:15.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8967}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 11090}]","[{'number': 1, 'created': '2015-01-23 08:41:54.000000000', 'files': ['deployment/puppet/osnailyfacter/manifests/cluster_ha.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_simple.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/893bf1de12c4aa65709c056cb72267665df806cd', 'message': 'Lower vm.swappiness parameter to 10 on controller nodes\n\nThe default value 60 might cause unneccessary swapping to disk,\nresulting in delays in request to the APIs and general RabbitMQ\nor MySQL slugishness.\n\nChange-Id: I43cdf4ce049eeb2a032dae425c5254535475d63f\nCloses-Bug: 1413702\n'}]",0,149534,893bf1de12c4aa65709c056cb72267665df806cd,16,7,1,13948,,,0,"Lower vm.swappiness parameter to 10 on controller nodes

The default value 60 might cause unneccessary swapping to disk,
resulting in delays in request to the APIs and general RabbitMQ
or MySQL slugishness.

Change-Id: I43cdf4ce049eeb2a032dae425c5254535475d63f
Closes-Bug: 1413702
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/34/149534/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/osnailyfacter/manifests/cluster_ha.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_simple.pp']",2,893bf1de12c4aa65709c056cb72267665df806cd,bug/1413702," # Reduce swapiness on controllers, see LP#1413702 sysctl::value { 'vm.swappiness': value => ""10"" } ",,10,0
openstack%2Fopenstack-ansible~master~Ifbf0e264d0cdc61f38a93b98e1d91d7ea17d293d,openstack/openstack-ansible,master,Ifbf0e264d0cdc61f38a93b98e1d91d7ea17d293d,Allow storage & replication_network to be the same,MERGED,2015-01-16 11:11:30.000000000,2015-02-03 10:26:21.000000000,2015-01-19 17:39:37.000000000,"[{'_account_id': 3}, {'_account_id': 7217}, {'_account_id': 7414}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-01-16 11:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dd7c4d9af68865c898ce3e4555c5f57b9de178d4', 'message': ""Ensure separate replicator conf is not used when storage and replication network are the same\n\nWe don't want to attempt to start 2 swift services on the same IP/Port, if replication_network is the same as storage_network this should be treated as though replication_network is not specified.\n\nChange-Id: Ifbf0e264d0cdc61f38a93b98e1d91d7ea17d293d\nCloses-Bug: 1411465\n""}, {'number': 2, 'created': '2015-01-16 14:05:26.000000000', 'files': ['rpc_deployment/roles/swift_object/tasks/main.yml', 'rpc_deployment/roles/swift_container/tasks/main.yml', 'rpc_deployment/roles/swift_account/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4cb6720f9cc017f50ea8868510c187649219808c', 'message': ""Allow storage & replication_network to be the same\n\nWe don't want to attempt to start 2 swift services on the same IP/Port,\nif replication_network is the same as storage_network this should be\ntreated as though replication_network was not specified.\n\nChange-Id: Ifbf0e264d0cdc61f38a93b98e1d91d7ea17d293d\nCloses-Bug: 1411465\n""}]",0,147812,4cb6720f9cc017f50ea8868510c187649219808c,12,4,2,2799,,,0,"Allow storage & replication_network to be the same

We don't want to attempt to start 2 swift services on the same IP/Port,
if replication_network is the same as storage_network this should be
treated as though replication_network was not specified.

Change-Id: Ifbf0e264d0cdc61f38a93b98e1d91d7ea17d293d
Closes-Bug: 1411465
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/12/147812/2 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/roles/swift_object/tasks/main.yml', 'rpc_deployment/roles/swift_container/tasks/main.yml', 'rpc_deployment/roles/swift_account/tasks/main.yml']",3,dd7c4d9af68865c898ce3e4555c5f57b9de178d4,bug/1411465, when: swift.replication_network is defined and swift.replication_network != swift.storage_network, when: swift.replication_network is defined,3,3
openstack%2Fpuppet-ceph~master~I9820258034dcd1fb9e2c130fc72a9a29a22953f1,openstack/puppet-ceph,master,I9820258034dcd1fb9e2c130fc72a9a29a22953f1,Fix incorrect email in header,MERGED,2015-02-03 05:19:12.000000000,2015-02-03 10:23:32.000000000,2015-02-03 10:23:30.000000000,"[{'_account_id': 3}, {'_account_id': 2064}, {'_account_id': 9133}, {'_account_id': 11479}]","[{'number': 1, 'created': '2015-02-03 05:19:12.000000000', 'files': ['spec/system/ceph_osd_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/20efd9972816bb08358d2ac5d1f9a58f4baf5551', 'message': 'Fix incorrect email in header\n\nChange-Id: I9820258034dcd1fb9e2c130fc72a9a29a22953f1\nCloses-Bug: #1331023\n'}]",0,152392,20efd9972816bb08358d2ac5d1f9a58f4baf5551,9,4,1,9500,,,0,"Fix incorrect email in header

Change-Id: I9820258034dcd1fb9e2c130fc72a9a29a22953f1
Closes-Bug: #1331023
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/92/152392/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/system/ceph_osd_spec.rb'],1,20efd9972816bb08358d2ac5d1f9a58f4baf5551,bug/1331023,# Copyright 2014 Cloudwatt <libre.licensing@cloudwatt.com>,# Copyright 2014 Cloudwatt <libre-licensing@cloudwatt.com>,1,1
openstack%2Ffuel-main~master~I1f421934de0e4e05d11e2b630a1f6eef27a8fd80,openstack/fuel-main,master,I1f421934de0e4e05d11e2b630a1f6eef27a8fd80,Change groups for BVTs,MERGED,2015-02-03 08:51:44.000000000,2015-02-03 10:20:54.000000000,2015-02-03 10:20:54.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 11081}, {'_account_id': 11969}, {'_account_id': 12817}, {'_account_id': 12867}]","[{'number': 1, 'created': '2015-02-03 08:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/4a29b67b6873e890d8f478b3fed925c2eb8c2da5', 'message': 'Change groups for BVTs\n- centos: HA nova\n- ubuntu: HA neutron ceph\n\nChange-Id: I1f421934de0e4e05d11e2b630a1f6eef27a8fd80\nCloses-Bug: #1417437\n'}, {'number': 2, 'created': '2015-02-03 08:53:02.000000000', 'files': ['fuelweb_test/tests/test_ha.py', 'fuelweb_test/tests/test_neutron.py', 'fuelweb_test/tests/test_ceph.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/053d3a8a1ac8e846cc61c74e0e67c9d5f470bb03', 'message': 'Change groups for BVTs\n\n- centos: HA nova\n- ubuntu: HA neutron ceph\n\nChange-Id: I1f421934de0e4e05d11e2b630a1f6eef27a8fd80\nCloses-Bug: #1417437\n'}]",0,152430,053d3a8a1ac8e846cc61c74e0e67c9d5f470bb03,15,9,2,8882,,,0,"Change groups for BVTs

- centos: HA nova
- ubuntu: HA neutron ceph

Change-Id: I1f421934de0e4e05d11e2b630a1f6eef27a8fd80
Closes-Bug: #1417437
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/30/152430/2 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/tests/test_ha.py', 'fuelweb_test/tests/test_neutron.py', 'fuelweb_test/tests/test_ceph.py']",3,4a29b67b6873e890d8f478b3fed925c2eb8c2da5,," groups=[""ceph_ha"", ""ha_nova_ceph"", ""ha_neutron_ceph"", ""bvt_2""])"," groups=[""ceph_ha"", ""ha_nova_ceph"", ""ha_neutron_ceph"", ""promo_bvt""])",3,3
openstack%2Fpuppet-ceph~master~I65f1661a8478ef455a277b91d435d669aa462eb7,openstack/puppet-ceph,master,I65f1661a8478ef455a277b91d435d669aa462eb7,fix osd removal to be idempotent,MERGED,2015-02-02 00:58:08.000000000,2015-02-03 10:17:55.000000000,2015-02-03 00:55:19.000000000,"[{'_account_id': 3}, {'_account_id': 2064}, {'_account_id': 8797}, {'_account_id': 9061}, {'_account_id': 9133}, {'_account_id': 11479}]","[{'number': 1, 'created': '2015-02-02 00:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/75115dd7c10214f781628aac5b9ec5451f56779e', 'message': 'fix osd removal to be idempotent\n\nthe osd removal exec was missing an unless clause.\nwith this the osd removal should be idempotent from\nthe puppet view as well (from what happened on the system\nit already was idempotent.)\n\nChange-Id: I65f1661a8478ef455a277b91d435d669aa462eb7\n'}, {'number': 2, 'created': '2015-02-02 09:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/53c0cfc3cd7ceffcf8e43c9cbebd18f9394f3023', 'message': 'fix osd removal to be idempotent\n\nthe osd removal exec was missing an unless clause.\nwith this the osd removal should be idempotent from\nthe puppet view as well (from what happened on the system\nit already was idempotent.)\n\nChange-Id: I65f1661a8478ef455a277b91d435d669aa462eb7\n'}, {'number': 3, 'created': '2015-02-03 00:38:24.000000000', 'files': ['spec/defines/ceph_osd_spec.rb', 'manifests/osd.pp', 'spec/system/ceph_osd_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/5d455c949aea0844adb6dee09eb76a12a85dd088', 'message': 'fix osd removal to be idempotent\n\nthe osd removal exec was missing an unless clause.\nwith this the osd removal should be idempotent from\nthe puppet view as well (from what happened on the system\nit already was idempotent.)\n\nChange-Id: I65f1661a8478ef455a277b91d435d669aa462eb7\n'}]",4,151968,5d455c949aea0844adb6dee09eb76a12a85dd088,19,6,3,11479,,,0,"fix osd removal to be idempotent

the osd removal exec was missing an unless clause.
with this the osd removal should be idempotent from
the puppet view as well (from what happened on the system
it already was idempotent.)

Change-Id: I65f1661a8478ef455a277b91d435d669aa462eb7
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/68/151968/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/osd.pp'],1,75115dd7c10214f781628aac5b9ec5451f56779e,fix/osd_removal," unless => ""/bin/true # comment to satisfy puppet syntax requirements set -ex if [ -z \""\$id\"" ] ; then id=\$(ceph-disk list | grep ' *${data}.*ceph data' | sed -ne 's/.*osd.\\([0-9][0-9]*\\).*/\\1/p') fi if [ -z \""\$id\"" ] ; then id=\$(ceph-disk list | grep ' *${data}.*mounted on' | sed -ne 's/.*osd.\\([0-9][0-9]*\\)\$/\\1/p') fi if [ -z \""\$id\"" ] ; then id=\$(ls -l /var/lib/ceph/osd/${cluster_name}-* | grep ' ${data}' | sed -ne 's:.*/${cluster_name}-\\([0-9][0-9]*\\) -> .*:\\1:p' || true) fi if [ \""\$id\"" ] ; then test ! -d /var/lib/ceph/osd/${cluster_name}-\$id fi "",",,15,0
openstack%2Fopenstack-ansible~master~I9237c2a191c5145e946288e2f1466493844f1ad5,openstack/openstack-ansible,master,I9237c2a191c5145e946288e2f1466493844f1ad5,Include paths in cron jobs,MERGED,2015-01-16 15:16:00.000000000,2015-02-03 10:16:35.000000000,2015-01-19 10:08:02.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7217}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-01-16 15:16:00.000000000', 'files': ['rpc_deployment/roles/keystone_setup/tasks/keystone_token_cron.yml', 'rpc_deployment/roles/glance_cache_crons/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4f77d789e877e887f2c3f2d86cf9a5527bb421fd', 'message': 'Include paths in cron jobs\n\nAs reported, keystone-manage is failing to run via cron due to default\nPATH not including /usr/local/bin.  This commit includes path while\nalso updating the cron jobs in roles/glance_cache_crons/tasks/main.yml\nwhich are also affected.\n\nOn a side note, we may want to create these crons under /etc/cron.d\nso we can have system cron jobs all under one place, but that can be\ndone in a later commit if others agree.\n\nChange-Id: I9237c2a191c5145e946288e2f1466493844f1ad5\nCloses-Bug: #1410437\n'}]",0,147877,4f77d789e877e887f2c3f2d86cf9a5527bb421fd,12,4,1,7307,,,0,"Include paths in cron jobs

As reported, keystone-manage is failing to run via cron due to default
PATH not including /usr/local/bin.  This commit includes path while
also updating the cron jobs in roles/glance_cache_crons/tasks/main.yml
which are also affected.

On a side note, we may want to create these crons under /etc/cron.d
so we can have system cron jobs all under one place, but that can be
done in a later commit if others agree.

Change-Id: I9237c2a191c5145e946288e2f1466493844f1ad5
Closes-Bug: #1410437
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/77/147877/1 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/roles/keystone_setup/tasks/keystone_token_cron.yml', 'rpc_deployment/roles/glance_cache_crons/tasks/main.yml']",2,4f77d789e877e887f2c3f2d86cf9a5527bb421fd,bug/1410437, - name: /usr/local/bin/glance-cache-pruner - name: /usr/local/bin/glance-cache-cleaner, - name: glance-cache-pruner - name: glance-cache-cleaner,3,3
openstack%2Fironic-inspector~master~I1f2287b4ab0a29c2298695b4bc14043be1b565a8,openstack/ironic-inspector,master,I1f2287b4ab0a29c2298695b4bc14043be1b565a8,Log a warning on a failed match,ABANDONED,2015-01-29 20:19:09.000000000,2015-02-03 10:14:18.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2015-01-29 20:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/acd1ff15f9d528e1be58c7f9c0c1136db3f7baa9', 'message': ""Log a warning on a failed match\n\nLog a warning when a node failes to match a hardware profile instead of\nraising an exception. I don't consider a failed match to be an\nexception. In fact, it's something that's probably going to happen quite\nfrequently.\n\nThe current behavior of using an exception here causes 2 other\nundeseriable side effects:\n\n- ironic-discoverd treats the discovery process as failed and keeps the\n  node powered on indefinitely.\n- The discovery ramdisk receives an invalid response back from\n  ironic-discoverd and drops down to a troubleshooting console.\n\nAn alternative way to handle this more gracefully would be to perhaps\nupdate the Ironic data with an empty hardware dict, and record a Null\nvalue for the matched profile. But, I think just using an Log message is\nsufficient for now.\n\nChange-Id: I1f2287b4ab0a29c2298695b4bc14043be1b565a8\n""}, {'number': 2, 'created': '2015-01-29 20:31:13.000000000', 'files': ['ironic_discoverd/plugins/edeploy.py', 'ironic_discoverd/test/test_plugins_edeploy.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/232d6e7a2e9917eddba0855453084f5c7902d8d0', 'message': ""Log a warning on a failed match\n\nLog a warning when a node failes to match a hardware profile instead of\nraising an exception. I don't consider a failed match to be an\nexception. In fact, it's something that's probably going to happen quite\nfrequently.\n\nThe current behavior of using an exception here causes 2 other\nundeseriable side effects:\n\n- ironic-discoverd treats the discovery process as failed and keeps the\n  node powered on indefinitely.\n- The discovery ramdisk receives an invalid response back from\n  ironic-discoverd and drops down to a troubleshooting console.\n\nAn alternative way to handle this more gracefully would be to perhaps\nupdate the Ironic data with an empty hardware dict, and record a Null\nvalue for the matched profile. But, I think just using an Log message is\nsufficient for now.\n\nChange-Id: I1f2287b4ab0a29c2298695b4bc14043be1b565a8\n""}]",0,151370,232d6e7a2e9917eddba0855453084f5c7902d8d0,6,1,2,7144,,,0,"Log a warning on a failed match

Log a warning when a node failes to match a hardware profile instead of
raising an exception. I don't consider a failed match to be an
exception. In fact, it's something that's probably going to happen quite
frequently.

The current behavior of using an exception here causes 2 other
undeseriable side effects:

- ironic-discoverd treats the discovery process as failed and keeps the
  node powered on indefinitely.
- The discovery ramdisk receives an invalid response back from
  ironic-discoverd and drops down to a troubleshooting console.

An alternative way to handle this more gracefully would be to perhaps
update the Ironic data with an empty hardware dict, and record a Null
value for the matched profile. But, I think just using an Log message is
sufficient for now.

Change-Id: I1f2287b4ab0a29c2298695b4bc14043be1b565a8
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/70/151370/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic_discoverd/plugins/edeploy.py'],1,acd1ff15f9d528e1be58c7f9c0c1136db3f7baa9,bp/edeploy, LOG.warning(, raise utils.Error(,1,1
openstack%2Fironic-inspector~master~Iebe28a0eebc12a23b01dce8a0b476857e8d564e6,openstack/ironic-inspector,master,Iebe28a0eebc12a23b01dce8a0b476857e8d564e6,Save state object after match,ABANDONED,2015-01-29 20:19:09.000000000,2015-02-03 10:14:13.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2015-01-29 20:19:09.000000000', 'files': ['ironic_discoverd/plugins/edeploy.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/6086c038ea9075a7a81a6ec3256d6e0666718d68', 'message': 'Save state object after match\n\nThe save method needs to be called on the State object sobj from\nhardware/state.py so that the updated counts are recorded in the state\nfile /etc/edeploy/state. Otherwise, the role counts are not actually\nenforced because the counts never decrease.\n\nChange-Id: Iebe28a0eebc12a23b01dce8a0b476857e8d564e6\n'}]",0,151369,6086c038ea9075a7a81a6ec3256d6e0666718d68,4,1,1,7144,,,0,"Save state object after match

The save method needs to be called on the State object sobj from
hardware/state.py so that the updated counts are recorded in the state
file /etc/edeploy/state. Otherwise, the role counts are not actually
enforced because the counts never decrease.

Change-Id: Iebe28a0eebc12a23b01dce8a0b476857e8d564e6
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/69/151369/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_discoverd/plugins/edeploy.py'],1,6086c038ea9075a7a81a6ec3256d6e0666718d68,bp/edeploy, sobj.save(),,1,0
openstack%2Ffuel-library~master~Ie2744b1c4196b30a9d5c16f6745d944b8b2ce4c1,openstack/fuel-library,master,Ie2744b1c4196b30a9d5c16f6745d944b8b2ce4c1,Use apache::mod instead of deprecated a2mod type,MERGED,2015-02-03 01:50:01.000000000,2015-02-03 10:11:43.000000000,2015-02-03 10:11:42.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 11090}, {'_account_id': 11827}, {'_account_id': 13343}, {'_account_id': 13344}]","[{'number': 1, 'created': '2015-02-03 01:50:01.000000000', 'files': ['deployment/puppet/ceph/manifests/radosgw.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/d0ebf5985d5cff5b4958dc9734739b126d516292', 'message': ""Use apache::mod instead of deprecated a2mod type\n\nThe a2mod type has been deprecated as of 0.9.0 and we\nshould use apache::mod instead. After updating the apache\nmodule, radosgw's use of a2mod no longer worked.\n\nChange-Id: Ie2744b1c4196b30a9d5c16f6745d944b8b2ce4c1\nCloses-bug: #1412446\n""}]",0,152366,d0ebf5985d5cff5b4958dc9734739b126d516292,18,8,1,8829,,,0,"Use apache::mod instead of deprecated a2mod type

The a2mod type has been deprecated as of 0.9.0 and we
should use apache::mod instead. After updating the apache
module, radosgw's use of a2mod no longer worked.

Change-Id: Ie2744b1c4196b30a9d5c16f6745d944b8b2ce4c1
Closes-bug: #1412446
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/66/152366/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/ceph/manifests/radosgw.pp'],1,d0ebf5985d5cff5b4958dc9734739b126d516292,bug/1412446," apache::mod {'rewrite': } apache::mod {'fastcgi': } Apache::Mod[['rewrite', 'fastcgi']] ~>"," #a2mod is provided by horizon module a2mod { ['rewrite', 'fastcgi']: ensure => present, } A2mod[['rewrite', 'fastcgi']] ~>",4,5
openstack%2Fdevstack~master~Iccf6aeffd461fdc1f78022cbda370be4b9573267,openstack/devstack,master,Iccf6aeffd461fdc1f78022cbda370be4b9573267,Bump up the count of workers for heat,MERGED,2015-01-25 00:25:18.000000000,2015-02-03 10:11:27.000000000,2015-02-03 10:11:26.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5174}, {'_account_id': 5638}, {'_account_id': 7118}]","[{'number': 1, 'created': '2015-01-25 00:25:18.000000000', 'files': ['lib/heat'], 'web_link': 'https://opendev.org/openstack/devstack/commit/905275ec9f51614911fbb915f8bba9896b3ab684', 'message': 'Bump up the count of workers for heat\n\nLooks like the workers is set to 0 which in heat is used\nmainly for profiling/debugging and not really useful in\nthe devstack scenarios.\nhttps://github.com/openstack/heat/blob/master/heat/common/wsgi.py#L286\n\nPartial-Bug: #1412923\nChange-Id: Iccf6aeffd461fdc1f78022cbda370be4b9573267\n'}]",0,149851,905275ec9f51614911fbb915f8bba9896b3ab684,15,7,1,5638,,,0,"Bump up the count of workers for heat

Looks like the workers is set to 0 which in heat is used
mainly for profiling/debugging and not really useful in
the devstack scenarios.
https://github.com/openstack/heat/blob/master/heat/common/wsgi.py#L286

Partial-Bug: #1412923
Change-Id: Iccf6aeffd461fdc1f78022cbda370be4b9573267
",git fetch https://review.opendev.org/openstack/devstack refs/changes/51/149851/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/heat'],1,905275ec9f51614911fbb915f8bba9896b3ab684,bug/1412923," iniset $HEAT_CONF heat_api workers ""$API_WORKERS""",,1,0
openstack%2Fopenstack-ansible~master~If60a4429217580a205925607465a978a51a3b04f,openstack/openstack-ansible,master,If60a4429217580a205925607465a978a51a3b04f,Improve documentation in the swift.yml file,MERGED,2015-01-12 19:23:52.000000000,2015-02-03 10:10:47.000000000,2015-01-22 11:39:25.000000000,"[{'_account_id': 3}, {'_account_id': 2799}, {'_account_id': 3114}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 9162}, {'_account_id': 9515}, {'_account_id': 9884}, {'_account_id': 10897}]","[{'number': 1, 'created': '2015-01-12 19:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ee6f42762b38078b7b58c0c299dec186278ed96d', 'message': 'Improve documentation in the swift.yml file\n\nImprove the documentation in the swift.yml configuration file.\n\nChange-Id: If60a4429217580a205925607465a978a51a3b04f\nCloses-Bug: #1408391\n'}, {'number': 2, 'created': '2015-01-14 17:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/95033fda8d50951eb729d3171987ce95a4d767c3', 'message': 'Improve documentation in the swift.yml file\n\nImprove the documentation in the swift.yml configuration file.\n\nChange-Id: If60a4429217580a205925607465a978a51a3b04f\nCloses-Bug: #1408391\n'}, {'number': 3, 'created': '2015-01-14 19:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c8adb5df23a62a1d7441ee3451cc22dec3e5d462', 'message': 'Improve documentation in the swift.yml file\n\nImprove the documentation in the swift.yml configuration file.\n\nChange-Id: If60a4429217580a205925607465a978a51a3b04f\nCloses-Bug: #1408391\n'}, {'number': 4, 'created': '2015-01-19 16:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/efa14c46eaa338a184faab241f2f1ccade066079', 'message': 'Improve documentation in the swift.yml file\n\nImprove the documentation in the swift.yml configuration file.\n\nChange-Id: If60a4429217580a205925607465a978a51a3b04f\nCloses-Bug: #1408391\n'}, {'number': 5, 'created': '2015-01-22 01:21:33.000000000', 'files': ['etc/rpc_deploy/conf.d/swift.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/109c8755090dbe2c46d88603d9bb1c6d695597e6', 'message': 'Improve documentation in the swift.yml file\n\nImprove the documentation in the swift.yml configuration file.\n\nChange-Id: If60a4429217580a205925607465a978a51a3b04f\nCloses-Bug: #1408391\n'}]",52,146617,109c8755090dbe2c46d88603d9bb1c6d695597e6,35,9,5,9515,,,0,"Improve documentation in the swift.yml file

Improve the documentation in the swift.yml configuration file.

Change-Id: If60a4429217580a205925607465a978a51a3b04f
Closes-Bug: #1408391
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/17/146617/5 && git format-patch -1 --stdout FETCH_HEAD,['etc/rpc_deploy/conf.d/swift.yml'],1,ee6f42762b38078b7b58c0c299dec186278ed96d,bug/1408391,"# Copyright 2015, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # # Overview # ======== # # This file contains the configuration for the Object Storage (swift) # service. Only enable these options for environments that contain the # Object Storage service. For more information on Object Storage options, # see the documentation at # http://docs.openstack.org/developer/swift/index.html # # Configuration reference # ======================= # # Level: swift # Contains global options. Required. # # Option: storage_network (string) # Network to use for object storage operations. Optional, defaults to the # management network bridge if blank. # If using a storage network, specify the network bridge containing it, # typically 'br-storage'. Also configure the 'storage_ip' option on each # host to contain a unique IP address on the storage network. If using the # default management network, remove the 'storage_ip' option on each host # or leave it blank. # # Option: repl_network (string) # Network to use for object replication operations. Optional, defaults to # the 'storage_network' configuration. # If using a replication network, specify the network bridge containing it, # typically 'br-repl'. Also configure the 'repl_ip' option on each # host to contain a unique IP address on the replication network. If using # the 'storage_network' configuration, remove the 'repl_ip' option on each # host. # # Option: part_power (integer) # Partition power. Required, immutable without rebuilding the rings. # Applies to all rings unless overridden at the 'account' or 'container' # levels or within a policy under the 'storage_policies' level. Only # define here for typical deployments. # # Option: repl_number (integer) # Number of replicas of each partition. Optional, defaults to 3. # Applies to all rings unless overridden at the 'account' or 'container' # levels or within a policy under the 'storage_policies' level. Only # define here for typical deployments. # # Option: min_part_hours (integer) # Minimum time in hours between multiple moves of the same partition. # Optional, defaults to 1. # Applies to all rings unless overridden at the 'account' or 'container' # levels or within a policy under the 'storage_policies' level. Only # define here for typical deployments. # # Option: region (integer) # Storage host region. Optional, defaults to 1. # Applies to all disks unless overridden lower in the structure. # # Option: zone (integer) # Storage host zone. Optional, defaults to 0. # Applies to all disks unless overridden lower in the structure. # # Option: weight (integer) # Device weight. Optional, defaults to 100. # Applies to all disks unless overridden lower in the structure. # # Option: mount_point (string) # Top-level directory for disks. Required, defaults to /mnt and applies # to all hosts unless overridden lower in the structure. # For example: # mount_point: /mnt # drives: # - name: sda # - name: sdb # The Object Storage services look for disks at /mnt/sda and /mnt/sdb. # # Level: drives # Contains the mount points of disks. Required, applies to all hosts # unless overridden lower in the structure. # # Option: name (string) # Mount point of a disk. Required, applies to all hosts unless overridden # lower in the structure. One entry per disk. # # Level: account # Contains 'min_part_hours' and 'repl_number' options specific to the # account ring. Optional. # # Level: container # Contains 'min_part_hours' and 'repl_number' options specific to the # container ring. Optional. # # Level: storage_policies # Contains storage policies. Required, exactly one policy must contain # 'index: 0' and 'default: True' options. # # Level: policy # Contains a storage policy. Required, minimum one entry. # # Option: name (string) # Policy name. Required. # # Option: index (integer) # Policy index. Required. # # Option: default (boolean) # Defines the default policy. # # Option: deprecated (boolean) # Defines a deprecated policy. Optional. # # Option: repl_number (integer) # Number of replicas of each partition. Optional, overrides any value # higher in the structure. # # Option: min_part_hours (integer) # Minimum time between multiple moves of the same partition. Optional, # overrides any value higher in the structure. # # Level: swift_proxy-hosts # Contains definitions for proxy hosts. Required. # # Level: <value> (string) # Name of a proxy host. Required, minimum three entries for typical # deployments. # # Option: ip (string) # IP address of the host. Required. # # Level: swift_hosts # Contains definitions for storage hosts. Required. # # Level: <value> (string) # Name of a storage host. Required, minimum three entries for typical # deployments. # # Option: ip (string) # IP address of the host. Required. # # Note: The following levels and options apply to more advanced # deployments. # # Level: container_vars # Contains options specific to this host. Optional. # # Level: swift_vars # Contains swift options specific to this host. Optional, overrides # any values higher in the structure. # # Option: region (integer) # Region of all disks in this host. Optional, overrides any # value higher in the structure. # # Option: zone (integer) # Zone of all disks in this host. Optional, overrides any value # higher in the structure. # # Option: weight (integer) # Weight of all disks in this host. Optional, overrides any # value higher in the structure. # # Level: groups # Contains groups specific to this host. Optional, overrides any # values higher in the stucture. # For example: # groups: # - account # - container # - silver # This storage host contains the account ring, container ring, # and the 'silver' storage policy. # # Level: drives # Contains the mount points of disks specific to this host. # Optional, overrides any value higher in the structure. # # Level or option: name (string) # Mount point of a disk specific to this host. Optional, any values # higher in the structure. One entry per disk. # # Option: region (integer) # Region of a disk in this host. Optional, overrides any value # higher in the structure. # # Option: zone (integer) # Zone of a disk in this host. Optional, overrides any value # higher in the structure. # # Option: weight (integer) # Weight of a disk in this host. Optional, overrides any value # higher in the structure. # # Level: groups # Contains groups for a disk in this host. Optional, overrides # any values higher in the structure. # For example: # groups: # - account # - container # - silver # This disk contains the account ring, container ring, and the # 'silver' storage policy. # Default (example) configuration # =============================== # Global options# part_power: 8 # repl_number: 3 # min_part_hours: 1 # region: 1 # zone: 0 # weight: 100 # mount_point: /mnt# Proxy hosts# Storage hosts # # The first three hosts contain options for typical deployments. Hosts # four and five show configuration for more advanced deployments. # zone: 4","## Swift group variables are required only when using swift. ## Below is a sample configuration. ## ## part_power value is required at the swift_level and cannot be changed once the ring has been built without removing the rings manually and rerunning the ring_builder. ## ## The weight value is not required, and will default to 100 if not specified. This value will apply to all drives setup, but can be overriden on a drive or node basis by setting this value in the node or drive config. ## ## The min_part_hours and repl_number values are not required, and will default to ""1"" and ""3"" respectively. Setting these at the swift level will apply this value as a default for all rings (including account/container). These can be overriden on a per ring basis by adjusting the value for account/container or specific storage_policy. ## ## If you are using a storage_network specify the interface that the storage_network is setup on. If this value isn't specified the swift services will listen on the default management ip. NB If the storage_network isn't set but storage_ip's per host are set (or the storage_ip is not on the storage_network interface) the proxy server will not be able to connect to the storage services as this directly changes the IP address the storage hosts are listening on. ## ## If you are using a dedicated replication network specify the interface that the storage_network is setup on. If this value isn't specified no dedicated replication_network will be set. As with the storage_network this impacts the IP that the replication service listens on, if the repl_ip isn't set on that interface replication will not work properly. ## ## Set the default drives per host. This is useful when all hosts have the exact same drives. This can be overridden on a ""per host"" basis. ## ## Set the default mount_point - which is the location where your swift drives are mounted. For example with a mount point of /mnt and a drive of sdc there should be a drive mounted at /mnt/sdc on the swift_host. This can be overriden on a per host basis if required. ## ## For account and container rings, min_part_hours and repl_number are the only values that can be set. Setting them here will override the defaults for the specific ring. ## ## Specify your storage_policies, there must be atleast one storage policy, and atleast one storage policy with index of 0 for legacy containers created before storage policies were instituted. At least one storage policy must have ""default: True"" set. The options that can be set for storage_policies are name (str), index (int), default (bool), deprecated (bool), repl_number (int) and min_part_hours (int) - with the last 2 overriding the default if specified. ### part_power: 8 # weight: 100 # min_part_hours: 1 # repl_number: 3# mount_point: /mnt## Specify the swift-proxy_hosts - these will typically be your infra nodes and are where your swift_proxy containers will be created. ## All that is required is the IP address of the host that ansible will connect to.## Specify the swift_hosts which will be the swift storage nodes. ## ## The ip is the address of the host that ansible will connect to. ## ## all swift settings are set under swift_vars. ## ## The storage_ip and repl_ip represent the IP that will go in the ring for storage and replication. ## These will be pulled from the server's interface (specified by storage_network & replication_network), but can be overriden by specifying them at the node or drive level. ## If only the storage_ip is specified then the repl_ip will default to the storage_ip ## If only the repl_ip is specified then the storage_ip will default to the host ip above. ## If neither are specified both will default to the host ip above. ## ## zone and region can be specified for swift when building the ring. ## ## groups can be set to list which rings a host's drive should belong to. This can be set on a per drive basis which will override the host setting. ## ## swift-node5 is an example of overriding the values. Where the groups are set, and overridden on drive sdb. The weight is overriden for the host, and specifically adjusted on drive sdb, and the storage/repl_ip's are different for sdb. ## # container_vars: # swift_vars: # zone: 0# container_vars: # swift_vars: # zone: 1# container_vars: # swift_vars: # zone: 2# zone: 4",233,57
openstack%2Fdevstack~master~I615627c85d6aa5a465355c0ea27148f24d863a01,openstack/devstack,master,I615627c85d6aa5a465355c0ea27148f24d863a01,Add q-l3 conntrack dependency for ubuntu,MERGED,2015-01-30 22:27:20.000000000,2015-02-03 10:03:52.000000000,2015-02-03 10:03:51.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 6854}, {'_account_id': 7118}]","[{'number': 1, 'created': '2015-01-30 22:27:20.000000000', 'files': ['files/debs/q-l3'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c4b871f613b2bb8f29083f4a7200734d1cf3d8b1', 'message': 'Add q-l3 conntrack dependency for ubuntu\n\nThe conntrack binary is included with conntrackd on rpm-based\ndistros but needs to be explicitly installed on ubuntu.\n\nChange-Id: I615627c85d6aa5a465355c0ea27148f24d863a01\n'}]",0,151801,c4b871f613b2bb8f29083f4a7200734d1cf3d8b1,8,6,1,2035,,,0,"Add q-l3 conntrack dependency for ubuntu

The conntrack binary is included with conntrackd on rpm-based
distros but needs to be explicitly installed on ubuntu.

Change-Id: I615627c85d6aa5a465355c0ea27148f24d863a01
",git fetch https://review.opendev.org/openstack/devstack refs/changes/01/151801/1 && git format-patch -1 --stdout FETCH_HEAD,['files/debs/q-l3'],1,c4b871f613b2bb8f29083f4a7200734d1cf3d8b1,fix-q-l3-conntrack,conntrack,,1,0
openstack%2Fmagnum~master~Ic7251e1fec612603e9126022e1c21986090b79ab,openstack/magnum,master,Ic7251e1fec612603e9126022e1c21986090b79ab,Add project_id and user_id to pod,MERGED,2015-01-30 07:26:15.000000000,2015-02-03 09:58:48.000000000,2015-02-03 09:58:47.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 2834}, {'_account_id': 6836}, {'_account_id': 7494}, {'_account_id': 11536}, {'_account_id': 12385}]","[{'number': 1, 'created': '2015-01-30 07:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/be679d6d1124b590abe9a622e422964a27dbae36', 'message': 'Add project_id and user_id to pod\n\nImplements part of bp multi-tenant\n\nChange-Id: Ic7251e1fec612603e9126022e1c21986090b79ab\n'}, {'number': 2, 'created': '2015-02-03 03:17:50.000000000', 'files': ['magnum/tests/db/utils.py', 'magnum/objects/pod.py', 'magnum/db/sqlalchemy/alembic/versions/3bea56f25597_multi_tenant.py', 'magnum/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/2a4332b9adebf2ab14d47a6a6354e8755f3d8e0c', 'message': 'Add project_id and user_id to pod\n\nImplements part of bp multi-tenant\n\nChange-Id: Ic7251e1fec612603e9126022e1c21986090b79ab\n'}]",0,151557,2a4332b9adebf2ab14d47a6a6354e8755f3d8e0c,19,7,2,7494,,,0,"Add project_id and user_id to pod

Implements part of bp multi-tenant

Change-Id: Ic7251e1fec612603e9126022e1c21986090b79ab
",git fetch https://review.opendev.org/openstack/magnum refs/changes/57/151557/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/tests/db/utils.py', 'magnum/objects/pod.py', 'magnum/db/sqlalchemy/alembic/versions/3bea56f25597_multi_tenant.py', 'magnum/db/sqlalchemy/models.py']",4,be679d6d1124b590abe9a622e422964a27dbae36,bp/multi-tenant, project_id = Column(String(255)) user_id = Column(String(255)),,12,0
openstack%2Fsahara~master~Id27ade473ed8597f2741ed0c746fa6b7ef6c7f06,openstack/sahara,master,Id27ade473ed8597f2741ed0c746fa6b7ef6c7f06,Remove log module from common modules,MERGED,2015-02-02 09:22:02.000000000,2015-02-03 09:57:16.000000000,2015-02-03 09:57:14.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 8090}, {'_account_id': 8411}, {'_account_id': 10670}, {'_account_id': 12038}, {'_account_id': 12039}]","[{'number': 1, 'created': '2015-02-02 09:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/c8b7518e46677e36f29f391751681882d597a201', 'message': ""Remove log module from common modules\n\nLog module was removed from oslo-incubator,\nso let's sync with latest oslo-incubator and remove\nlog module.\n\nChange-Id: Id27ade473ed8597f2741ed0c746fa6b7ef6c7f06\nRelated-bug: #1412673\n""}, {'number': 2, 'created': '2015-02-02 09:30:03.000000000', 'files': ['sahara/openstack/common/threadgroup.py', 'sahara/openstack/common/policy.py', 'sahara/openstack/common/log.py', 'openstack-common.conf', 'sahara/openstack/common/periodic_task.py', 'sahara/openstack/common/fileutils.py', 'setup.cfg', 'sahara/openstack/common/loopingcall.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/a05419996109f268599a603eda16f9aedd4032ee', 'message': ""Remove log module from common modules\n\nLog module was removed from oslo-incubator,\nso let's sync with latest oslo-incubator and remove\nlog module.\n\nChange-Id: Id27ade473ed8597f2741ed0c746fa6b7ef6c7f06\nRelated-bug: #1412673\n""}]",0,152057,a05419996109f268599a603eda16f9aedd4032ee,22,9,2,12038,,,0,"Remove log module from common modules

Log module was removed from oslo-incubator,
so let's sync with latest oslo-incubator and remove
log module.

Change-Id: Id27ade473ed8597f2741ed0c746fa6b7ef6c7f06
Related-bug: #1412673
",git fetch https://review.opendev.org/openstack/sahara refs/changes/57/152057/2 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/openstack/common/threadgroup.py', 'sahara/openstack/common/policy.py', 'sahara/openstack/common/log.py', 'openstack-common.conf', 'sahara/openstack/common/periodic_task.py', 'sahara/openstack/common/fileutils.py', 'setup.cfg', 'sahara/openstack/common/loopingcall.py']",8,c8b7518e46677e36f29f391751681882d597a201,oslo-log,import logging,from sahara.openstack.common import log as logging,53,750
openstack%2Fheat~master~Ifbb6b68643a6fc1533fd152d535994b87820627e,openstack/heat,master,Ifbb6b68643a6fc1533fd152d535994b87820627e,Expose stack limits API,ABANDONED,2014-06-12 07:33:07.000000000,2015-02-03 09:55:42.000000000,,"[{'_account_id': 3}, {'_account_id': 7404}, {'_account_id': 8289}, {'_account_id': 8505}, {'_account_id': 8871}, {'_account_id': 10692}]","[{'number': 1, 'created': '2014-06-12 07:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/94cd0a38e014e688d74e4b3c95946c2d43bda952', 'message': 'Expose stack limits API\n\nWe should expose the absolute limits via an API like nova does.\n\nChange-Id: Ifbb6b68643a6fc1533fd152d535994b87820627e\nImplements: blueprint limits-api\n'}, {'number': 2, 'created': '2014-06-13 02:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/344274e81c0368d990c40dbd3170900748445e3c', 'message': 'Expose stack limits API\n\nWe should expose the absolute limits via an API like nova does.\n\nChange-Id: Ifbb6b68643a6fc1533fd152d535994b87820627e\nImplements: blueprint limits-api\n'}, {'number': 3, 'created': '2014-06-17 02:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8b180ee55080f9a0887c64643354820fd4c0f874', 'message': 'Expose stack limits API\n\nWe should expose the absolute limits via an API like nova does.\n\nChange-Id: Ifbb6b68643a6fc1533fd152d535994b87820627e\nImplements: blueprint limits-api\n'}, {'number': 4, 'created': '2014-06-17 03:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/64b95878534acfc52cf7852f9e2b197eeb904ae3', 'message': 'Expose stack limits API\n\nWe should expose the absolute limits via an API like nova does.\n\nChange-Id: Ifbb6b68643a6fc1533fd152d535994b87820627e\nImplements: blueprint limits-api\n'}, {'number': 5, 'created': '2014-06-19 15:42:46.000000000', 'files': ['heat/tests/test_engine_service.py', 'heat/rpc/client.py', 'heat/api/openstack/v1/absolute_limits.py', 'heat/tests/test_api_openstack_v1.py', 'heat/engine/service.py', 'etc/heat/policy.json', 'heat/api/openstack/v1/__init__.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/60cf76e69ee8f9c9ede1ec6b296d3a969b906ea4', 'message': 'Expose stack limits API\n\nWe should expose the absolute limits via an API like nova does.\n\nChange-Id: Ifbb6b68643a6fc1533fd152d535994b87820627e\nImplements: blueprint limits-api\n'}]",0,99589,60cf76e69ee8f9c9ede1ec6b296d3a969b906ea4,25,6,5,8289,,,0,"Expose stack limits API

We should expose the absolute limits via an API like nova does.

Change-Id: Ifbb6b68643a6fc1533fd152d535994b87820627e
Implements: blueprint limits-api
",git fetch https://review.opendev.org/openstack/heat refs/changes/89/99589/3 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_engine_service.py', 'heat/rpc/client.py', 'heat/api/openstack/v1/absolute_limits.py', 'heat/tests/test_api_openstack_v1.py', 'etc/heat/policy.json', 'heat/engine/service.py', 'heat/api/openstack/v1/__init__.py']",7,94cd0a38e014e688d74e4b3c95946c2d43bda952,bp/limits-api,"from heat.api.openstack.v1 import absolute_limits # Absolute limits al_resource = absolute_limits.create_resource(conf) with mapper.submapper( controller=al_resource, path_prefix='/{tenant_id}/limits' ) as al_mapper: al_mapper.connect(""show"", ""/{project_id}"", action=""show"", conditions={'method': 'GET'}) ",,178,1
openstack%2Fheat~master~Ia4f4638b4b122ec625486a7f62f754d7cdcbde7b,openstack/heat,master,Ia4f4638b4b122ec625486a7f62f754d7cdcbde7b,Add APIs for quota,ABANDONED,2014-06-05 04:51:44.000000000,2015-02-03 09:55:34.000000000,,"[{'_account_id': 3}, {'_account_id': 8289}, {'_account_id': 8505}, {'_account_id': 8871}, {'_account_id': 10692}]","[{'number': 1, 'created': '2014-06-05 04:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9e2941de66c2df541ba2b7a5e9f19484c80b0cc5', 'message': 'Add APIs for quota\n\nThis adds actions for quota_show, quota_list, quota_update\nand quota_delete.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: Ia4f4638b4b122ec625486a7f62f754d7cdcbde7b\n'}, {'number': 2, 'created': '2014-06-05 10:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/62e044a337c9c4c769bce7a228a8a36393bd46ab', 'message': 'Add APIs for quota\n\nThis adds actions for quota_show, quota_list, quota_update\nand quota_delete.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: Ia4f4638b4b122ec625486a7f62f754d7cdcbde7b\n'}, {'number': 3, 'created': '2014-06-06 06:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/df9e3b858e82cb4a5f07319bc37bd0e73cba27bd', 'message': 'Add APIs for quota\n\nThis adds actions for quota_show, quota_list, quota_update\nand quota_delete.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: Ia4f4638b4b122ec625486a7f62f754d7cdcbde7b\n'}, {'number': 4, 'created': '2014-06-10 10:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/09b84a281f9793044b1edcb8b04f11f1f5cdd167', 'message': 'Add APIs for quota\n\nThis adds actions for quota_show, quota_list, quota_update\nand quota_delete.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: Ia4f4638b4b122ec625486a7f62f754d7cdcbde7b\n'}, {'number': 5, 'created': '2014-06-11 02:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/34a86f299dcd3bed49d4ec34787917e247ed33bd', 'message': 'Add APIs for quota\n\nThis adds actions for quota_show, quota_list, quota_update\nand quota_delete.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: Ia4f4638b4b122ec625486a7f62f754d7cdcbde7b\n'}, {'number': 6, 'created': '2014-06-11 08:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/905029eb507bcfe2517539331d841ae38775b4a8', 'message': 'Add APIs for quota\n\nThis adds actions for quota_show, quota_list, quota_update\nand quota_delete.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: Ia4f4638b4b122ec625486a7f62f754d7cdcbde7b\n'}, {'number': 7, 'created': '2014-06-11 10:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f24662a617dcdb920eff854753ac8f3a55deddc7', 'message': 'Add APIs for quota\n\nThis adds actions for quota_show, quota_list, quota_update\nand quota_delete.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: Ia4f4638b4b122ec625486a7f62f754d7cdcbde7b\n'}, {'number': 8, 'created': '2014-06-12 02:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1c98a117dc3e25779e2ec776bc4fefd3a44d7099', 'message': 'Add APIs for quota\n\nThis adds actions for quota_show, quota_list, quota_update\nand quota_delete.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: Ia4f4638b4b122ec625486a7f62f754d7cdcbde7b\n'}, {'number': 9, 'created': '2014-06-12 07:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/cd6c32357c7b371978483bf7160101657dcda399', 'message': 'Add APIs for quota\n\nThis adds actions for quota_show, quota_list, quota_update\nand quota_delete.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: Ia4f4638b4b122ec625486a7f62f754d7cdcbde7b\n'}, {'number': 10, 'created': '2014-06-17 02:23:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/358234abb197aecdf22996303f8a7d594a368e2a', 'message': 'Add APIs for quota\n\nThis adds actions for quota_show, quota_list, quota_update\nand quota_delete.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: Ia4f4638b4b122ec625486a7f62f754d7cdcbde7b\n'}, {'number': 11, 'created': '2014-06-17 03:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f74d3a343ecc9507ac81fa3911b16a31bb14c5b4', 'message': 'Add APIs for quota\n\nThis adds actions for quota_show, quota_list, quota_update\nand quota_delete.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: Ia4f4638b4b122ec625486a7f62f754d7cdcbde7b\n'}, {'number': 12, 'created': '2014-06-19 15:42:35.000000000', 'files': ['heat/tests/test_api_openstack_v1.py', 'heat/api/openstack/v1/quotas.py', 'etc/heat/policy.json', 'heat/api/openstack/v1/__init__.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/079e5206cda609ed2d46a07f7940a5b33dbc382f', 'message': 'Add APIs for quota\n\nThis adds actions for quota_show, quota_list, quota_update\nand quota_delete.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: Ia4f4638b4b122ec625486a7f62f754d7cdcbde7b\n'}]",0,98026,079e5206cda609ed2d46a07f7940a5b33dbc382f,57,5,12,8289,,,0,"Add APIs for quota

This adds actions for quota_show, quota_list, quota_update
and quota_delete.

Implements: blueprint add-quota-api-for-heat

Change-Id: Ia4f4638b4b122ec625486a7f62f754d7cdcbde7b
",git fetch https://review.opendev.org/openstack/heat refs/changes/26/98026/12 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_api_openstack_v1.py', 'heat/api/openstack/v1/quotas.py', 'etc/heat/policy.json', 'heat/api/openstack/v1/__init__.py']",4,9e2941de66c2df541ba2b7a5e9f19484c80b0cc5,bp/add-quota-api-for-heat,"from heat.api.openstack.v1 import quotas # Quato quota_resource = quotas.create_resource(conf) with mapper.submapper( controller=quota_resource, path_prefix=""/{tenant_id}/quotas"" ) as qt_mapper: qt_mapper.connect(""quota_update"", ""/{quota_project_id}"", action=""update"", conditions={'method': 'PUT'}) qt_mapper.connect(""quota_show"", ""/{quota_project_id}/{quota_resource}"", action=""show"", conditions={'method': 'GET'}) qt_mapper.connect(""quota_list"", ""/{quota_project_id}"", action=""list"", conditions={'method': 'GET'}) qt_mapper.connect(""quota_delete"", ""/{quota_project_id}"", action=""delete"", conditions={'method': 'DELETE'}) ",,334,1
openstack%2Fheat~master~I85e659b740b93322fbf956f064e115a145a4dc5b,openstack/heat,master,I85e659b740b93322fbf956f064e115a145a4dc5b,Add RPC methods for quota actions,ABANDONED,2014-05-31 04:15:28.000000000,2015-02-03 09:55:27.000000000,,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 4428}, {'_account_id': 6732}, {'_account_id': 8289}, {'_account_id': 8871}, {'_account_id': 10692}]","[{'number': 1, 'created': '2014-05-31 04:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/145d0a51b1b238e475ccfdf0a13af257762e1a53', 'message': 'Add RPC methods for quota actions\n\nThis adds new methods for quota actions.\n\nChange-Id: I85e659b740b93322fbf956f064e115a145a4dc5b\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 2, 'created': '2014-05-31 07:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/50952e7aa553f717ffc0aa5bd9dfa1bb82871d4a', 'message': 'Add RPC methods for quota actions\n\nThis adds new methods for quota actions.\n\nChange-Id: I85e659b740b93322fbf956f064e115a145a4dc5b\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 3, 'created': '2014-05-31 09:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ec80fab41cd9485947c0c64a0f3e7e0974b3fc3c', 'message': 'Add RPC methods for quota actions\n\nThis adds new methods for quota actions.\n\nChange-Id: I85e659b740b93322fbf956f064e115a145a4dc5b\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 4, 'created': '2014-06-05 04:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/574014ff91889925deb55def761a43b2a3f74609', 'message': 'Add RPC methods for quota actions\n\nThis adds new methods for quota actions.\n\nChange-Id: I85e659b740b93322fbf956f064e115a145a4dc5b\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 5, 'created': '2014-06-05 10:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bdb8881b25967f545bb1bea4a47d20d0c4193a45', 'message': 'Add RPC methods for quota actions\n\nThis adds new methods for quota actions.\n\nChange-Id: I85e659b740b93322fbf956f064e115a145a4dc5b\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 6, 'created': '2014-06-06 06:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/17b18d3e86ccef732c2d5fbff18d0c127df4afb7', 'message': 'Add RPC methods for quota actions\n\nThis adds new methods for quota actions.\n\nChange-Id: I85e659b740b93322fbf956f064e115a145a4dc5b\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 7, 'created': '2014-06-10 10:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/efb21f49bfd3331807f636b646b58638175681eb', 'message': 'Add RPC methods for quota actions\n\nThis adds new methods for quota actions. And apply the check_limit\nand count methods of quota_engine.\n\nChange-Id: I85e659b740b93322fbf956f064e115a145a4dc5b\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 8, 'created': '2014-06-11 02:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c0d72dead4b21cc9d0631e2e607da7aa0f4be42e', 'message': 'Add RPC methods for quota actions\n\nThis adds new methods for quota actions. And apply the check_limit\nand count methods of quota_engine.\n\nChange-Id: I85e659b740b93322fbf956f064e115a145a4dc5b\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 9, 'created': '2014-06-11 08:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/106c4694dc6fbc781ac706b01a38365c2b8669f4', 'message': 'Add RPC methods for quota actions\n\nThis adds new methods for quota actions. And apply the check_limit\nand count methods of quota_engine.\n\nChange-Id: I85e659b740b93322fbf956f064e115a145a4dc5b\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 10, 'created': '2014-06-11 10:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/67eaaa52e8369592d804ecbc23289871a0ae40d7', 'message': 'Add RPC methods for quota actions\n\nThis adds new methods for quota actions. And apply the check_limit\nand count methods of quota_engine.\n\nChange-Id: I85e659b740b93322fbf956f064e115a145a4dc5b\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 11, 'created': '2014-06-12 02:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fa9619064f9e57ad944a8ad0ca9550d825deb925', 'message': 'Add RPC methods for quota actions\n\nThis adds new methods for quota actions. And apply the check_limit\nand count methods of quota_engine.\n\nChange-Id: I85e659b740b93322fbf956f064e115a145a4dc5b\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 12, 'created': '2014-06-12 07:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/27b1581a0a56151bb366c2bd3d768f0ef1ece44a', 'message': 'Add RPC methods for quota actions\n\nThis adds new methods for quota actions. And apply the check_limit\nand count methods of quota_engine.\n\nChange-Id: I85e659b740b93322fbf956f064e115a145a4dc5b\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 13, 'created': '2014-06-17 02:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/421e706d6016f8332b2be719f410f77f8701577a', 'message': 'Add RPC methods for quota actions\n\nThis adds new methods for quota actions. And apply the check_limit\nand count methods of quota_engine.\n\nChange-Id: I85e659b740b93322fbf956f064e115a145a4dc5b\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 14, 'created': '2014-06-17 03:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2f5d8a8fdfcd466e368985c394ca6d7316967599', 'message': 'Add RPC methods for quota actions\n\nThis adds new methods for quota actions. And apply the check_limit\nand count methods of quota_engine.\n\nChange-Id: I85e659b740b93322fbf956f064e115a145a4dc5b\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 15, 'created': '2014-06-19 15:42:07.000000000', 'files': ['heat/tests/test_engine_service.py', 'heat/rpc/client.py', 'heat/engine/stack_resource.py', 'heat/db/sqlalchemy/api.py', 'heat/tests/test_stack_resource.py', 'heat/engine/service.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/08430f2c2a543fe23d9266928bc43d2c4a9eb800', 'message': 'Add RPC methods for quota actions\n\nThis adds new methods for quota actions. And apply the check_limit\nand count methods of quota_engine.\n\nChange-Id: I85e659b740b93322fbf956f064e115a145a4dc5b\nImplements: blueprint add-quota-api-for-heat\n'}]",10,97001,08430f2c2a543fe23d9266928bc43d2c4a9eb800,66,7,15,8289,,,0,"Add RPC methods for quota actions

This adds new methods for quota actions. And apply the check_limit
and count methods of quota_engine.

Change-Id: I85e659b740b93322fbf956f064e115a145a4dc5b
Implements: blueprint add-quota-api-for-heat
",git fetch https://review.opendev.org/openstack/heat refs/changes/01/97001/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_engine_service.py', 'heat/rpc/client.py', 'heat/engine/service.py']",3,145d0a51b1b238e475ccfdf0a13af257762e1a53,bp/add-quota-api-for-heat,"from heat.engine import quotasQUOTAS = quotas.QUOTAS @request_context def update_quota(self, cnxt, resource, limit, tenant, user=None): # if the quota name is unknown, raise exception if resource not in QUOTAS: LOG.error(_('Unknown quota resource %s') % resource) raise exception.QuotaResourceUnknown(unknown=[resource]) quota = db_api.quota_update(cnxt, resource, limit, tenant, user=user) return quota @request_context def show_quota(self, cnxt, resource, tenant, user=None): if resource not in QUOTAS: LOG.error(_('Unknown quota resource %s') % resource) raise exception.QuotaResourceUnknown(unknown=[resource]) quota = QUOTAS.get_a_quota(cnxt, resource, tenant, user=user) return quota @request_context def list_quotas(self, cnxt, tenant, user=None): quotas = QUOTAS.get_all_quotas(cnxt, tenant, user=user) return quotas @request_context def delete_quota(self, cnxt, tenant, resource=None, user=None): db_api.quota_delete(cnxt, tenant, resource=resource, user=user)",,123,0
openstack%2Fheat~master~If277982546c731ce23b8a4052e89cf0da65ab6b2,openstack/heat,master,If277982546c731ce23b8a4052e89cf0da65ab6b2,Add quotas module with driver and resources,ABANDONED,2014-05-30 10:40:42.000000000,2015-02-03 09:55:19.000000000,,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 4428}, {'_account_id': 7236}, {'_account_id': 7404}, {'_account_id': 8289}, {'_account_id': 8871}, {'_account_id': 10692}]","[{'number': 1, 'created': '2014-05-30 10:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2998b0263679c5fc827091b8ccbc5b3bbce80619', 'message': 'Add quotas module with driver and resources\n\nAdd quotas module with DBQuotaDriver implements get_a_quota,\nquota_get_all and limit_check methods.\n\nChange-Id: If277982546c731ce23b8a4052e89cf0da65ab6b2\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 2, 'created': '2014-05-31 03:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7b83f161625aca667c216d08a39639cdeb11f0df', 'message': 'Add quotas module with driver and resources\n\nAdd quotas module with DBQuotaDriver implements get_a_quota,\nquota_get_all and limit_check methods.\n\nChange-Id: If277982546c731ce23b8a4052e89cf0da65ab6b2\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 3, 'created': '2014-05-31 04:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/048e68012176af8a99bbddd9522d0f10eb6cc1fc', 'message': 'Add quotas module with driver and resources\n\nAdd quotas module with DBQuotaDriver implements get_a_quota,\nquota_get_all and limit_check methods.\n\nChange-Id: If277982546c731ce23b8a4052e89cf0da65ab6b2\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 4, 'created': '2014-05-31 09:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/56587feb7ab954099354a62739a1e94f571680ee', 'message': 'Add quotas module with driver and resources\n\nAdd quotas module with DBQuotaDriver implements get_a_quota,\nquota_get_all and limit_check methods.\n\nChange-Id: If277982546c731ce23b8a4052e89cf0da65ab6b2\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 5, 'created': '2014-06-05 04:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/da68794471dd3be7a8e4f7afe54096af85fb6345', 'message': 'Add quotas module with driver and resources\n\nAdds quotas module and implements the DBQuotaDriver(default driver)\nand ConfQuotaDriver(as a plungin).\n\nImplement get_a_quota, quota_get_all, quota_update, quota_delete\nand limit_check methods for each QuotaDriver.\n\nChange-Id: If277982546c731ce23b8a4052e89cf0da65ab6b2\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 6, 'created': '2014-06-05 10:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d4d5bf94b2b3bd5e8c821ab0cd9ed1541faa0ef2', 'message': 'Add quotas module with driver and resources\n\nAdds quotas module and implements the DBQuotaDriver(default driver)\nand ConfQuotaDriver(as a plungin).\n\nImplement get_a_quota, quota_get_all, quota_update, quota_delete\nand limit_check methods for each QuotaDriver.\n\nChange-Id: If277982546c731ce23b8a4052e89cf0da65ab6b2\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 7, 'created': '2014-06-06 06:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1c4e80fd355570a09b5daaac0bf28756763c923d', 'message': 'Add quotas module with driver and resources\n\nAdds quotas module and implements the DBQuotaDriver(default driver)\nand ConfQuotaDriver(as a plungin).\n\nImplement get_a_quota, quota_get_all, quota_update, quota_delete\nand limit_check methods for each QuotaDriver.\n\nChange-Id: If277982546c731ce23b8a4052e89cf0da65ab6b2\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 8, 'created': '2014-06-10 10:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4bc4440f1e96d43a1f42171a401a5a9e903901f5', 'message': 'Add quotas module with driver and resources\n\nAdds quotas module and implements the DBQuotaDriver(default driver)\nand ConfQuotaDriver(as a plungin).\n\nImplement get_a_quota, quota_get_all, quota_update, quota_delete\nand limit_check methods for each QuotaDriver.\n\nChange-Id: If277982546c731ce23b8a4052e89cf0da65ab6b2\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 9, 'created': '2014-06-11 02:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8ea4c9fa37ea1a6647e20d0e36c5a0a609e30294', 'message': 'Add quotas module with driver and resources\n\nAdds quotas module and implements the DBQuotaDriver(default driver)\nand ConfQuotaDriver(as a plungin).\n\nImplement get_a_quota, quota_get_all, quota_update, quota_delete\nand limit_check methods for each QuotaDriver.\n\nChange-Id: If277982546c731ce23b8a4052e89cf0da65ab6b2\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 10, 'created': '2014-06-11 08:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8ba10143196d1dbd2bec96593693a24fa350ea1e', 'message': 'Add quotas module with driver and resources\n\nAdds quotas module and implements the DBQuotaDriver(default driver)\nand ConfQuotaDriver(as a plungin).\n\nImplement get_a_quota, quota_get_all, quota_update, quota_delete\nand limit_check methods for each QuotaDriver.\n\nChange-Id: If277982546c731ce23b8a4052e89cf0da65ab6b2\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 11, 'created': '2014-06-11 10:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5454835e756c103e6337689c09ff91fd6f7c5913', 'message': 'Add quotas module with driver and resources\n\nAdds quotas module and implements the DBQuotaDriver(default driver)\nand ConfQuotaDriver(as a plungin).\n\nImplement get_a_quota, quota_get_all, quota_update, quota_delete\nand limit_check methods for each QuotaDriver.\n\nChange-Id: If277982546c731ce23b8a4052e89cf0da65ab6b2\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 12, 'created': '2014-06-12 02:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/adbdd8beff2b8b2905603df59039293f867d6f13', 'message': 'Add quotas module with driver and resources\n\nAdds quotas module and implements the DBQuotaDriver(default driver)\nand ConfQuotaDriver(as a plungin).\n\nImplement get_a_quota, quota_get_all, quota_update, quota_delete\nand limit_check methods for each QuotaDriver.\n\nChange-Id: If277982546c731ce23b8a4052e89cf0da65ab6b2\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 13, 'created': '2014-06-12 07:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8f6a61bbefb2ef076f32b1a59a09905221503248', 'message': 'Add quotas module with driver and resources\n\nAdds quotas module and implements the DBQuotaDriver(default driver)\nand ConfQuotaDriver(as a plungin).\n\nImplement get_a_quota, quota_get_all, quota_update, quota_delete\nand limit_check methods for each QuotaDriver.\n\nChange-Id: If277982546c731ce23b8a4052e89cf0da65ab6b2\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 14, 'created': '2014-06-17 02:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bbd3509f2389f0a0b732fdf460f92412d738c13d', 'message': 'Add quotas module with driver and resources\n\nAdds quotas module and implements the DBQuotaDriver(default driver)\nand ConfQuotaDriver(as a plungin).\n\nImplement get_a_quota, quota_get_all, quota_update, quota_delete\nand limit_check methods for each QuotaDriver.\n\nChange-Id: If277982546c731ce23b8a4052e89cf0da65ab6b2\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 15, 'created': '2014-06-17 03:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c2a8faadc48fdfb777b4f542e087f384b2893379', 'message': 'Add quotas module with driver and resources\n\nAdds quotas module and implements the DBQuotaDriver(default driver)\nand ConfQuotaDriver(as a plungin).\n\nImplement get_a_quota, quota_get_all, quota_update, quota_delete\nand limit_check methods for each QuotaDriver.\n\nChange-Id: If277982546c731ce23b8a4052e89cf0da65ab6b2\nImplements: blueprint add-quota-api-for-heat\n'}, {'number': 16, 'created': '2014-06-19 15:41:44.000000000', 'files': ['heat/api/aws/exception.py', 'heat/db/api.py', 'contrib/quota_conf_driver/README.md', 'heat/db/sqlalchemy/api.py', 'contrib/quota_conf_driver/quota_conf_driver/driver.py', 'heat/engine/quotas.py', 'etc/heat/heat.conf.sample', 'heat/api/middleware/fault.py', 'heat/common/quota_db_driver.py', 'contrib/quota_conf_driver/quota_conf_driver/__init__.py', 'heat/common/exception.py', 'heat/common/config.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/701e5e972480adf5dd4b3e54f895d44c238f3363', 'message': 'Add quotas module with driver and resources\n\nAdds quotas module and implements the DBQuotaDriver(default driver)\nand ConfQuotaDriver(as a plungin).\n\nImplement get_a_quota, quota_get_all, quota_update, quota_delete\nand limit_check methods for each QuotaDriver.\n\nChange-Id: If277982546c731ce23b8a4052e89cf0da65ab6b2\nImplements: blueprint add-quota-api-for-heat\n'}]",13,96716,701e5e972480adf5dd4b3e54f895d44c238f3363,70,8,16,8289,,,0,"Add quotas module with driver and resources

Adds quotas module and implements the DBQuotaDriver(default driver)
and ConfQuotaDriver(as a plungin).

Implement get_a_quota, quota_get_all, quota_update, quota_delete
and limit_check methods for each QuotaDriver.

Change-Id: If277982546c731ce23b8a4052e89cf0da65ab6b2
Implements: blueprint add-quota-api-for-heat
",git fetch https://review.opendev.org/openstack/heat refs/changes/16/96716/16 && git format-patch -1 --stdout FETCH_HEAD,"['etc/heat/heat.conf.sample', 'heat/common/exception.py', 'heat/common/config.py', 'heat/engine/quotas.py']",4,2998b0263679c5fc827091b8ccbc5b3bbce80619,bp/add-quota-api-for-heat,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Quotas for stacks, stack_resources, stack_events, template_size, nested_stack_depth and event_purge_batch_size. """""" from oslo.config import cfg import six from heat.common import exception from heat.db import api as db_api from heat.openstack.common import importutils cfg.CONF.import_opt('event_purge_batch_size', 'heat.common.config') cfg.CONF.import_opt('max_resources_per_stack', 'heat.common.config') cfg.CONF.import_opt('max_stacks_per_tenant', 'heat.common.config') cfg.CONF.import_opt('max_events_per_stack', 'heat.common.config') cfg.CONF.import_opt('max_template_size', 'heat.common.config') cfg.CONF.import_opt('max_nested_stack_depth', 'heat.common.config') cfg.CONF.import_opt('quota_driver', 'heat.common.config') class DbQuotaDriver(object): """""" Driver to perform necessary checks to enforce quotas and obtain quota information. The default driver utilizes the local database. """""" def get_a_quota(self, context, resource, resources, tenant, user=None): """""" Retrieve a quota associated with a given tenant/user. """""" db_quota = db_api.quota_get(context, resource, tenant, user=user) default_quotas = self.get_defaults(context, resources) # if quota is None, return the default value of the resource if resource not in db_quota: for key, value in six.iteritems(default_quotas): if key == resource: db_quota[key] = value break return db_quota def quota_get_all(self, resources, context, tenant, user=None): """"""Retrieve all quotas associated with a given tenant/user."""""" db_quotas = db_api.quota_get(context, tenant, user=user) default_quotas = self.get_defaults(context, resources) for key, value in six.iteritems(default_quotas): if key in db_quotas: default_quotas[key] = db_quotas[key] return default_quotas def get_defaults(self, context, resources): """""" Given a list of resources, retrieve the default quotas. :param context: The request context, for access checks. :param resources: A dictionary of the registered resources. """""" quotas = {} for resource in resources.values(): quotas[resource.name] = resource.default return quotas def limit_check(self, context, resources, values, tenant=None, user=None): """"""Check simple quota limits."""""" # Ensure no value is less than zero unders = [key for key, val in values.items() if val < 0] if unders: raise exception.InvalidQuotaValue(unders=sorted(unders)) # Get the quota value, and check for key, val in values.items(): quota = self.get_a_quota(context, key, resources, tenant, user=user) if quota[key] and quota[key] < val: raise exception.OverQuota(key=key) class BaseResource(object): """"""Describe a single resource for quota checking."""""" def __init__(self, name, flag=None): """"""Initializes a Resource. :param name: The name of the resource, i.e., ""instances"". :param flag: The name of the flag or configuration option which specifies the default value of the quota for this resource. """""" self.name = name self.flag = flag @property def default(self): """"""Return the default value of the quota."""""" return cfg.CONF[self.flag] if self.flag else -1 class AbsoluteResource(BaseResource): """"""Describe a non-reservable resource."""""" pass class CountableResource(AbsoluteResource): """"""Describe a resource where the counts aren't based solely on the project ID. """""" def __init__(self, name, count, flag=None): """"""Initializes a CountableResource. Countable resources are those resources which directly correspond to objects in the database, i.e., instances, cores, etc., but for which a count by project ID is inappropriate. A CountableResource must be constructed with a counting function, which will be called to determine the current counts of the resource. The counting function will be passed the context, along with the extra positional and keyword arguments that are passed to Quota.count(). It should return an integer specifying the count. Note that this counting is not performed in a transaction-safe manner. This resource class is a temporary measure to provide required functionality, until a better approach to solving this problem can be evolved. :param name: The name of the resource, i.e., ""instances"". :param count: A callable which returns the count of the resource. The arguments passed are as described above. :param flag: The name of the flag or configuration option which specifies the default value of the quota for this resource. """""" super(CountableResource, self).__init__(name, flag=flag) self.count = count class QuotaEngine(object): """"""Represent the set of recognized quotas."""""" def __init__(self, quota_driver_class=None): """"""Initialize a Quota object."""""" self._resources = {} self._driver_cls = quota_driver_class self.__driver = None @property def _driver(self): if self.__driver: return self.__driver if not self._driver_cls: self._driver_cls = cfg.CONF.quota_driver if isinstance(self._driver_cls, six.string_types): self._driver_cls = importutils.import_object(self._driver_cls) self.__driver = self._driver_cls return self.__driver def __contains__(self, resource): return resource in self._resources def register_resource(self, resource): """"""Register a resource."""""" self._resources[resource.name] = resource def register_resources(self, resources): """"""Register a list of resources."""""" for resource in resources: self.register_resource(resource) def get_a_quota(self, context, resource, tenant, user=None): """"""Retrieve a quota associated with a given tenant/user."""""" return self._driver.get_a_quota(context, resource, self._resources, tenant, user=user) def get_all_quotas(self, context, tenant, user=None): """"""Retrieve all quotas associated with a given tenant/user."""""" return self._driver.quota_get_all(context, self._resources, tenant, user=user) def get_defaults(self, context): """"""Retrieve the default quotas. :param context: The request context, for access checks. """""" return self._driver.get_defaults(context, self._resources) def count(self, context, resource, *args, **kwargs): """"""Count a resource. For countable resources, invokes the count() function and returns its result. Arguments following the context and resource are passed directly to the count function declared by the resource. :param context: The request context, for access checks. :param resource: The name of the resource, as a string. """""" # Get the resource res = self._resources.get(resource) if not res or not hasattr(res, 'count'): raise exception.QuotaResourceUnknown(unknown=[resource]) return res.count(context, *args, **kwargs) def limit_check(self, context, tenant=None, user=None, **values): """"""Check simple quota limits."""""" return self._driver.limit_check(context, self._resources, values, tenant=tenant, user=user) @property def resources(self): return sorted(self._resources.keys()) QUOTAS = QuotaEngine() resources = [ AbsoluteResource('stack_resources', 'max_resources_per_stack'), AbsoluteResource('event_purge_batch_size', 'event_purge_batch_size'), AbsoluteResource('template_size', 'max_template_size'), AbsoluteResource('nested_stack_depth', 'max_nested_stack_depth'), CountableResource('stacks', db_api.stack_count_all, 'max_stacks_per_tenant'), CountableResource('stack_events', db_api.event_count_all_by_stack, 'max_events_per_stack')] QUOTAS.register_resources(resources) ",,287,1
openstack%2Fheat~master~I77044886006b893d08322e860dd4a841d5658814,openstack/heat,master,I77044886006b893d08322e860dd4a841d5658814,Add db APIs to access quota,ABANDONED,2014-05-30 09:08:43.000000000,2015-02-03 09:55:12.000000000,,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 4428}, {'_account_id': 6577}, {'_account_id': 6732}, {'_account_id': 7404}, {'_account_id': 8289}, {'_account_id': 8871}, {'_account_id': 10692}]","[{'number': 1, 'created': '2014-05-30 09:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c8df315cf8c475ead742283903874fd9cae9bd45', 'message': 'Add db APIs to access quota\n\nThis adds the db APIs to access quota.\n\nblueprint add-quota-api-for-heat\n\nChange-Id: I77044886006b893d08322e860dd4a841d5658814\n'}, {'number': 2, 'created': '2014-05-31 03:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3db31463b1d14a898b07f3ff8c374af1fb6e6d27', 'message': 'Add db APIs to access quota\n\nThis adds the db APIs to access quota.\n\nblueprint add-quota-api-for-heat\n\nChange-Id: I77044886006b893d08322e860dd4a841d5658814\n'}, {'number': 3, 'created': '2014-05-31 09:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7909015e1b429bf640a5e9c90d74658100a8aa53', 'message': 'Add db APIs to access quota\n\nThis adds the db APIs to access quota.\n\nblueprint add-quota-api-for-heat\n\nChange-Id: I77044886006b893d08322e860dd4a841d5658814\n'}, {'number': 4, 'created': '2014-05-31 09:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/97214332a1e5a317931ea1281e60960d9c03374d', 'message': 'Add db APIs to access quota\n\nThis adds the db APIs to access quota.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: I77044886006b893d08322e860dd4a841d5658814\n'}, {'number': 5, 'created': '2014-06-05 04:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d2baea056172dc7be5a2e19c2474718d964c7e01', 'message': 'Add db APIs to access quota\n\nThis adds the db APIs to access quota.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: I77044886006b893d08322e860dd4a841d5658814\n'}, {'number': 6, 'created': '2014-06-05 10:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4d2fe5f991eec967d5ac48b53e4a8cc37cf27db0', 'message': 'Add db APIs to access quota\n\nThis adds the db APIs to access quota.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: I77044886006b893d08322e860dd4a841d5658814\n'}, {'number': 7, 'created': '2014-06-06 06:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/30a0c98ecc68ee0cfb5b1573db235f4ccf5691d8', 'message': 'Add db APIs to access quota\n\nThis adds the db APIs to access quota.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: I77044886006b893d08322e860dd4a841d5658814\n'}, {'number': 8, 'created': '2014-06-10 10:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/01aa560f08f2330b70804f604f8c6a981c508c83', 'message': 'Add db APIs to access quota\n\nThis adds the db APIs to access quota.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: I77044886006b893d08322e860dd4a841d5658814\n'}, {'number': 9, 'created': '2014-06-11 08:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/090050f09ee780670529a54d6cdc7a6562cdbfb0', 'message': 'Add db APIs to access quota\n\nThis adds the db APIs to access quota.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: I77044886006b893d08322e860dd4a841d5658814\n'}, {'number': 10, 'created': '2014-06-11 10:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/54eaf10262c131f92a2aefb6dd60a4b4b33e3ccb', 'message': 'Add db APIs to access quota\n\nThis adds the db APIs to access quota.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: I77044886006b893d08322e860dd4a841d5658814\n'}, {'number': 11, 'created': '2014-06-12 02:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/30ec2d56ad51bba859e9269b22029fac72169256', 'message': 'Add db APIs to access quota\n\nThis adds the db APIs to access quota.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: I77044886006b893d08322e860dd4a841d5658814\n'}, {'number': 12, 'created': '2014-06-12 07:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8900b920a5ef73fb40498413d990ec7279ee8ad5', 'message': 'Add db APIs to access quota\n\nThis adds the db APIs to access quota.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: I77044886006b893d08322e860dd4a841d5658814\n'}, {'number': 13, 'created': '2014-06-17 02:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/00be78e519af59d3cba233b1044f0f66ef8632bd', 'message': 'Add db APIs to access quota\n\nThis adds the db APIs to access quota.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: I77044886006b893d08322e860dd4a841d5658814\n'}, {'number': 14, 'created': '2014-06-19 15:41:17.000000000', 'files': ['heat/db/api.py', 'heat/db/sqlalchemy/api.py', 'heat/tests/test_sqlalchemy_api.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/e3823ccbedcea6a6b85d38af3d548a8ad4add2e2', 'message': 'Add db APIs to access quota\n\nThis adds the db APIs to access quota.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: I77044886006b893d08322e860dd4a841d5658814\n'}]",15,96697,e3823ccbedcea6a6b85d38af3d548a8ad4add2e2,75,9,14,8289,,,0,"Add db APIs to access quota

This adds the db APIs to access quota.

Implements: blueprint add-quota-api-for-heat

Change-Id: I77044886006b893d08322e860dd4a841d5658814
",git fetch https://review.opendev.org/openstack/heat refs/changes/97/96697/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/db/api.py', 'heat/db/sqlalchemy/api.py', 'heat/tests/test_sqlalchemy_api.py']",3,c8df315cf8c475ead742283903874fd9cae9bd45,bp/add-quota-api-for-heat," def test_quota_create_update_delete(self): quota_item = 'stacks' quota_limit = 10 tenant = '014911d4a21f4eca8bb0375aec6effd7' user = '5b4b6658529645449e3f2d0b467d1e1b' quota = db_api.quota_create(self.ctx, quota_item, quota_limit, tenant, user=user) self.assertIsNotNone(quota) self.assertEqual(tenant, quota.tenant) self.assertEqual(user, quota.user) self.assertEqual(quota_limit, quota.limit) self.assertEqual(quota_item, quota.resource) # get quota quota_dict = db_api.quota_get(self.ctx, quota_item, tenant, user=user) self.assertIsNotNone(quota) self.assertEqual(tenant, quota_dict['tenant']) self.assertEqual(user, quota_dict['user']) self.assertEqual(quota_limit, quota_dict[quota_item]) # update limit for same quota resource update_quota_limit = 20 quota = db_api.quota_update(self.ctx, quota_item, update_quota_limit, tenant, user=user) self.assertIsNotNone(quota) self.assertEqual(tenant, quota.tenant) self.assertEqual(user, quota.user) self.assertEqual(update_quota_limit, quota.limit) self.assertEqual(quota_item, quota.resource) # get again quota_dict = db_api.quota_get(self.ctx, quota_item, tenant, user=user) self.assertIsNotNone(quota_dict) self.assertEqual(update_quota_limit, quota_dict[quota_item]) # update the other resource limit, to create quota_item_1 = 'stack_resources' quota_limit_1 = 500 quota = db_api.quota_update(self.ctx, quota_item_1, quota_limit_1, tenant, user=user) self.assertIsNotNone(quota) self.assertEqual(tenant, quota.tenant) self.assertEqual(user, quota.user) self.assertEqual(quota_limit_1, quota.limit) self.assertEqual(quota_item_1, quota.resource) # get all quotas qs_dict = db_api.quota_get_all(self.ctx, tenant, user=user) self.assertIsNotNone(qs_dict) self.assertEqual(update_quota_limit, qs_dict[quota_item]) self.assertEqual(quota_limit_1, qs_dict[quota_item_1]) # update a quota only for tenant quota_item_2 = 'stack_events' quota_limit_2 = 600 quota = db_api.quota_update(self.ctx, quota_item_2, quota_limit_2, tenant) self.assertIsNotNone(quota) self.assertEqual(tenant, quota.tenant) self.assertEqual(None, quota.user) self.assertEqual(quota_limit_2, quota.limit) self.assertEqual(quota_item_2, quota.resource) # get all quotas qs_dict = db_api.quota_get_all(self.ctx, tenant) self.assertIsNotNone(qs_dict) self.assertEqual(update_quota_limit, qs_dict[quota_item]) self.assertEqual(quota_limit_1, qs_dict[quota_item_1]) self.assertEqual(quota_limit_2, qs_dict[quota_item_2]) # delete quota tests db_api.quota_delete(self.ctx, tenant, quota_item, user=user) quota_dict = db_api.quota_get(self.ctx, quota_item, tenant, user=user) self.assertNotIn(quota_item, quota_dict) qs_dict = db_api.quota_get_all(self.ctx, tenant, user=user) self.assertIsNotNone(qs_dict) self.assertEqual(quota_limit_1, qs_dict[quota_item_1]) db_api.quota_delete(self.ctx, tenant) qs_dict = db_api.quota_get_all(self.ctx, tenant) self.assertNotIn(quota_item, qs_dict) self.assertNotIn(quota_item_1, qs_dict) self.assertNotIn(quota_item_2, qs_dict) ",,209,0
openstack%2Fheat~master~Ie6ac20baf6f2e57a499e6d04bfe2b0dcb71f0bc8,openstack/heat,master,Ie6ac20baf6f2e57a499e6d04bfe2b0dcb71f0bc8,Add quota model and migration,ABANDONED,2014-05-30 09:08:43.000000000,2015-02-03 09:55:03.000000000,,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 6488}, {'_account_id': 6577}, {'_account_id': 6732}, {'_account_id': 7404}, {'_account_id': 8289}, {'_account_id': 8871}, {'_account_id': 10692}]","[{'number': 1, 'created': '2014-05-30 09:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/20c38cc848ebf217e91ad5f8c6c1853e6ebd8d00', 'message': 'Add quota model and migration\n\nThis adds a new table to store quotas, and the table migration.\n\nblueprint add-quota-api-for-heat\n\nChange-Id: Ie6ac20baf6f2e57a499e6d04bfe2b0dcb71f0bc8\n'}, {'number': 2, 'created': '2014-05-31 03:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b3ac318e329e189aae6e0d3ae1eac860df67eaa2', 'message': 'Add quota model and migration\n\nThis adds a new table to store quotas, and the table migration.\n\nblueprint add-quota-api-for-heat\n\nChange-Id: Ie6ac20baf6f2e57a499e6d04bfe2b0dcb71f0bc8\n'}, {'number': 3, 'created': '2014-05-31 08:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0d0e52c14740ef5b24099d360d8f4b9251c2dc24', 'message': 'Add quota model and migration\n\nThis adds a new table to store quotas, and the table migration.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: Ie6ac20baf6f2e57a499e6d04bfe2b0dcb71f0bc8\n'}, {'number': 4, 'created': '2014-05-31 08:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0a371f262e85d64b70d8a840e7553425e6b43b6f', 'message': 'Add quota model and migration\n\nThis adds a new table to store quotas, and the table migration.\n\nblueprint add-quota-api-for-heat\n\nChange-Id: Ie6ac20baf6f2e57a499e6d04bfe2b0dcb71f0bc8\n'}, {'number': 5, 'created': '2014-05-31 08:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f6ab43caf67f36a620d44695796587f85511af79', 'message': 'Add quota model and migration\n\nThis adds a new table to store quotas, and the table migration.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: Ie6ac20baf6f2e57a499e6d04bfe2b0dcb71f0bc8\n'}, {'number': 6, 'created': '2014-06-05 04:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b04f4bdf9329048d9691bda828c1812923ae171e', 'message': 'Add quota model and migration\n\nThis adds a new table to store quotas, and the table migration.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: Ie6ac20baf6f2e57a499e6d04bfe2b0dcb71f0bc8\n'}, {'number': 7, 'created': '2014-06-05 10:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/14bcc424f6720509458057238476aaa11d0f501a', 'message': 'Add quota model and migration\n\nThis adds a new table to store quotas, and the table migration.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: Ie6ac20baf6f2e57a499e6d04bfe2b0dcb71f0bc8\n'}, {'number': 8, 'created': '2014-06-06 06:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d92f90299272d26103273d0eef1c09df1d81ae9c', 'message': 'Add quota model and migration\n\nThis adds a new table to store quotas, and the table migration.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: Ie6ac20baf6f2e57a499e6d04bfe2b0dcb71f0bc8\n'}, {'number': 9, 'created': '2014-06-10 10:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f0116987b920cc5a4ca0cae97e6e9dc8b5dbed93', 'message': 'Add quota model and migration\n\nThis adds a new table to store quotas, and the table migration.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: Ie6ac20baf6f2e57a499e6d04bfe2b0dcb71f0bc8\n'}, {'number': 10, 'created': '2014-06-11 08:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a16a7bd3ce6d67ea2882e6987dacdf8ea1d643d0', 'message': 'Add quota model and migration\n\nThis adds a new table to store quotas, and the table migration.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: Ie6ac20baf6f2e57a499e6d04bfe2b0dcb71f0bc8\n'}, {'number': 11, 'created': '2014-06-11 10:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d9a650a8aa4b010c1596e75337db2dcae56672bc', 'message': 'Add quota model and migration\n\nThis adds a new table to store quotas, and the table migration.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: Ie6ac20baf6f2e57a499e6d04bfe2b0dcb71f0bc8\n'}, {'number': 12, 'created': '2014-06-12 07:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/58d5509656b08ebf340afecb3d067d068ce1f849', 'message': 'Add quota model and migration\n\nThis adds a new table to store quotas, and the table migration.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: Ie6ac20baf6f2e57a499e6d04bfe2b0dcb71f0bc8\n'}, {'number': 13, 'created': '2014-06-17 02:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0a9c88ba166cc20a3952f1bcf4a2364eaac77f49', 'message': 'Add quota model and migration\n\nThis adds a new table to store quotas, and the table migration.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: Ie6ac20baf6f2e57a499e6d04bfe2b0dcb71f0bc8\n'}, {'number': 14, 'created': '2014-06-19 15:40:44.000000000', 'files': ['heat/db/sqlalchemy/migrate_repo/versions/045_quotas.py', 'heat/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/ebf5974edbcc2d7c18c429b8b86f1e60077a5c90', 'message': 'Add quota model and migration\n\nThis adds a new table to store quotas, and the table migration.\n\nImplements: blueprint add-quota-api-for-heat\n\nChange-Id: Ie6ac20baf6f2e57a499e6d04bfe2b0dcb71f0bc8\n'}]",9,96696,ebf5974edbcc2d7c18c429b8b86f1e60077a5c90,73,11,14,8289,,,0,"Add quota model and migration

This adds a new table to store quotas, and the table migration.

Implements: blueprint add-quota-api-for-heat

Change-Id: Ie6ac20baf6f2e57a499e6d04bfe2b0dcb71f0bc8
",git fetch https://review.opendev.org/openstack/heat refs/changes/96/96696/4 && git format-patch -1 --stdout FETCH_HEAD,"['heat/db/sqlalchemy/migrate_repo/versions/045_quotas.py', 'heat/db/sqlalchemy/models.py']",2,20c38cc848ebf217e91ad5f8c6c1853e6ebd8d00,bp/add-quota-api-for-heat," class Quota(BASE, HeatBase): __tablename__ = 'quotas' id = sqlalchemy.Column('id', sqlalchemy.Integer, primary_key=True, nullable=False) tenant = sqlalchemy.Column('tenant', sqlalchemy.String(64), nullable=False) user = sqlalchemy.Column('user', sqlalchemy.String(64)) resource = sqlalchemy.Column('resource', sqlalchemy.String(255), nullable=False) limit = sqlalchemy.Column('limit', sqlalchemy.Integer, nullable=False)",,60,0
openstack%2Fmanila~master~Ic8e1f4472812aa501ffa0588b782f9fce5832af4,openstack/manila,master,Ic8e1f4472812aa501ffa0588b782f9fce5832af4,fix typo in config.py,MERGED,2015-01-21 22:01:24.000000000,2015-02-03 09:51:07.000000000,2015-02-03 09:51:05.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 7102}, {'_account_id': 7634}, {'_account_id': 8851}, {'_account_id': 9067}, {'_account_id': 11878}, {'_account_id': 14232}]","[{'number': 1, 'created': '2015-01-21 22:01:24.000000000', 'files': ['manila/common/config.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/4377465dc3601dea82947d564b4124079db6c0b4', 'message': 'fix typo in config.py\n\nChange help text from GigaByte to Gigabyte.\n\nChange-Id: Ic8e1f4472812aa501ffa0588b782f9fce5832af4\nSigned-off-by: Danny Al-Gaaf <danny.al-gaaf@bisect.de>\n'}]",0,149060,4377465dc3601dea82947d564b4124079db6c0b4,12,8,1,9064,,,0,"fix typo in config.py

Change help text from GigaByte to Gigabyte.

Change-Id: Ic8e1f4472812aa501ffa0588b782f9fce5832af4
Signed-off-by: Danny Al-Gaaf <danny.al-gaaf@bisect.de>
",git fetch https://review.opendev.org/openstack/manila refs/changes/60/149060/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/common/config.py'],1,4377465dc3601dea82947d564b4124079db6c0b4,dalgaaf-fix-typo-helpline-1," help='Whether snapshots count against Gigabyte quota.'), ]"," help='Whether snapshots count against GigaByte quota.'), ]",1,1
openstack%2Fsahara-extra~master~I6d6aeee958ff877b6f8e95f3108c8059f5d3b5c7,openstack/sahara-extra,master,I6d6aeee958ff877b6f8e95f3108c8059f5d3b5c7,Changes directory representation,MERGED,2015-01-27 07:19:26.000000000,2015-02-03 09:49:47.000000000,2015-02-03 09:49:46.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7125}, {'_account_id': 8411}, {'_account_id': 10670}, {'_account_id': 11059}]","[{'number': 1, 'created': '2015-01-27 07:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-extra/commit/fcd1c0f8aa32eb8651737010624d051996dda5a1', 'message': ""Changes directory representation\n\nCurrent directory representation is zero-byte file but swift's pseudo-directory\nis trailing-slash file. This patch changes direcotry representation and improves\ncompatibility with Swift and Horizon.\n\nChange-Id: I6d6aeee958ff877b6f8e95f3108c8059f5d3b5c7\nCloses-Bug: 1390414\n""}, {'number': 2, 'created': '2015-01-27 10:25:49.000000000', 'files': ['hadoop-swiftfs/src/main/java/org/apache/hadoop/fs/swift/http/SwiftRestClient.java', 'hadoop-swiftfs/src/main/java/org/apache/hadoop/fs/swift/snative/SwiftObjectFileStatus.java', 'hadoop-swiftfs/src/main/java/org/apache/hadoop/fs/swift/snative/SwiftFileStatus.java', 'hadoop-swiftfs/src/main/java/org/apache/hadoop/fs/swift/util/SwiftUtils.java', 'hadoop-swiftfs/src/main/java/org/apache/hadoop/fs/swift/snative/SwiftNativeFileSystem.java', 'hadoop-swiftfs/src/main/java/org/apache/hadoop/fs/swift/snative/SwiftNativeFileSystemStore.java', 'hadoop-swiftfs/src/test/java/org/apache/hadoop/fs/swift/TestSwiftFileSystemBasicOps.java', 'hadoop-swiftfs/src/test/java/org/apache/hadoop/fs/swift/TestSwiftFileSystemDirectories.java'], 'web_link': 'https://opendev.org/openstack/sahara-extra/commit/49adcd9cfd91b85489119799e579335ee4730ab0', 'message': ""Changes directory representation\n\nCurrent directory representation is zero-byte file but swift's pseudo-directory\nis trailing-slash file. This patch changes direcotry representation and improves\ncompatibility with Swift and Horizon.\n\nChange-Id: I6d6aeee958ff877b6f8e95f3108c8059f5d3b5c7\nCloses-Bug: 1390414\n""}]",0,150291,49adcd9cfd91b85489119799e579335ee4730ab0,13,6,2,11059,,,0,"Changes directory representation

Current directory representation is zero-byte file but swift's pseudo-directory
is trailing-slash file. This patch changes direcotry representation and improves
compatibility with Swift and Horizon.

Change-Id: I6d6aeee958ff877b6f8e95f3108c8059f5d3b5c7
Closes-Bug: 1390414
",git fetch https://review.opendev.org/openstack/sahara-extra refs/changes/91/150291/1 && git format-patch -1 --stdout FETCH_HEAD,"['hadoop-swiftfs/src/main/java/org/apache/hadoop/fs/swift/http/SwiftRestClient.java', 'hadoop-swiftfs/src/main/java/org/apache/hadoop/fs/swift/snative/SwiftObjectFileStatus.java', 'hadoop-swiftfs/src/main/java/org/apache/hadoop/fs/swift/snative/SwiftFileStatus.java', 'hadoop-swiftfs/src/main/java/org/apache/hadoop/fs/swift/util/SwiftUtils.java', 'hadoop-swiftfs/src/main/java/org/apache/hadoop/fs/swift/snative/SwiftNativeFileSystem.java', 'hadoop-swiftfs/src/main/java/org/apache/hadoop/fs/swift/snative/SwiftNativeFileSystemStore.java', 'hadoop-swiftfs/src/test/java/org/apache/hadoop/fs/swift/TestSwiftFileSystemDirectories.java']",7,fcd1c0f8aa32eb8651737010624d051996dda5a1,bug/1390414,"import org.apache.hadoop.fs.swift.http.SwiftRestClient;import org.apache.hadoop.fs.swift.snative.SwiftObjectFileStatus; import org.apache.hadoop.fs.swift.util.JSONUtil; import org.apache.hadoop.fs.swift.util.SwiftObjectPath;import org.codehaus.jackson.map.type.CollectionType;import java.net.URI; import java.util.ArrayList; import java.util.List; import static org.apache.hadoop.fs.swift.util.SwiftTestUtils.cleanup; * file or symlink public void testZeroByteFilesAreFiles() throws Exception { SwiftTestUtils.assertIsFile(fs, src); //create a directory fs.mkdirs(src); /** * Asserts that a mkdir with trailing slash makes single object only * * @throws Exception on failures */ @Test(timeout = SWIFT_TEST_TIMEOUT) public void testDirectoriesUseURI() throws Exception { cleanup(""testDirectoriesUseURI"", fs, ""/""); Path test = new Path(fs.getUri().resolve(""/test/"")); mkdirs(test); assertExists(""created test directory"", test); FileStatus[] statuses = fs.listStatus(test); String statusString = statusToString(test.toString(), statuses); assertEquals(""Wrong number of elements in file status "" + statusString, 0, statuses.length); String[] objects = getRawObjectNames(); assertEquals(""Wrong number of objects in swift"", 1, objects.length); assertEquals(""Wrong directory name"", ""/test/"", objects[0]); } private String[] getRawObjectNames() throws Exception { SwiftRestClient client; client = SwiftRestClient.getInstance(fs.getUri(), fs.getConf()); SwiftObjectPath path = SwiftObjectPath.fromPath(fs.getUri(), new Path(""/"")); byte[] bytes = client.listDeepObjectsInDirectory(path, true, true); final CollectionType collectionType = JSONUtil.getJsonMapper(). getTypeFactory().constructCollectionType(List.class, SwiftObjectFileStatus.class); final List<SwiftObjectFileStatus> fileStatusList = JSONUtil.toObject(new String(bytes), collectionType); final ArrayList<String> objects = new ArrayList(); for (SwiftObjectFileStatus status : fileStatusList) { if (status.getName() != null) { objects.add(status.getName()); } else if (status.getSubdir() != null) { objects.add(status.getSubdir()); } } return objects.toArray(new String[objects.size()]); }"," * directory or symlink public void testZeroByteFilesAreDirectories() throws Exception { SwiftTestUtils.assertIsDirectory(fs, src); //create a zero byte file SwiftTestUtils.touch(fs, src);",280,127
openstack%2Fpython-saharaclient~master~I3680fa775cec11fe1e722173c535c2e43dedca8b,openstack/python-saharaclient,master,I3680fa775cec11fe1e722173c535c2e43dedca8b,Make node_processes parameter non-default,ABANDONED,2015-01-28 13:06:30.000000000,2015-02-03 09:41:39.000000000,,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 7745}, {'_account_id': 8411}, {'_account_id': 12039}]","[{'number': 1, 'created': '2015-01-28 13:06:30.000000000', 'files': ['saharaclient/api/node_group_templates.py'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/c3cbfb7ef803ead9e4642c832c189b07a3020438', 'message': 'Make node_processes parameter non-default\n\nChange-Id: I3680fa775cec11fe1e722173c535c2e43dedca8b\nCloses-bug: #1415469\n'}]",0,150773,c3cbfb7ef803ead9e4642c832c189b07a3020438,1196,6,1,12039,,,0,"Make node_processes parameter non-default

Change-Id: I3680fa775cec11fe1e722173c535c2e43dedca8b
Closes-bug: #1415469
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/73/150773/1 && git format-patch -1 --stdout FETCH_HEAD,['saharaclient/api/node_group_templates.py'],1,c3cbfb7ef803ead9e4642c832c189b07a3020438,bug/1415469," node_processes, description=None, volumes_per_node=None, volumes_size=None, node_configs=None, floating_ip_pool=None, security_groups=None, auto_security_group=None, availability_zone=None, volumes_availability_zone=None, volume_type=None): node_processes, description=None, volumes_per_node=None, volumes_size=None, node_configs=None, floating_ip_pool=None, node_processes, description, volumes_per_node, volumes_size, node_configs, flavor_id, node_processes, description=None, volumes_per_node=None, volumes_size=None, node_configs=None, node_processes, description, volumes_per_node, volumes_size, node_configs,"," description=None, volumes_per_node=None, volumes_size=None, node_processes=None, node_configs=None, floating_ip_pool=None, security_groups=None, auto_security_group=None, availability_zone=None, volumes_availability_zone=None, volume_type=None): description=None, volumes_per_node=None, volumes_size=None, node_processes=None, node_configs=None, floating_ip_pool=None, description, volumes_per_node, volumes_size, node_processes, node_configs, flavor_id, description=None, volumes_per_node=None, volumes_size=None, node_processes=None, node_configs=None, description, volumes_per_node, volumes_size, node_processes, node_configs,",13,14
openstack%2Fironic-inspector~master~If5bdcebc96b16283466cc5c32d88e5eea1b189bd,openstack/ironic-inspector,master,If5bdcebc96b16283466cc5c32d88e5eea1b189bd,Finalize name + small readme fixes,MERGED,2015-02-03 09:25:18.000000000,2015-02-03 09:38:01.000000000,2015-02-03 09:38:00.000000000,"[{'_account_id': 3}, {'_account_id': 10239}]","[{'number': 1, 'created': '2015-02-03 09:25:18.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/b7d8913c03731a29621c5afbe0e4850e28644602', 'message': 'Finalize name + small readme fixes\n\nChange-Id: If5bdcebc96b16283466cc5c32d88e5eea1b189bd\n'}]",0,152435,b7d8913c03731a29621c5afbe0e4850e28644602,6,2,1,10239,,,0,"Finalize name + small readme fixes

Change-Id: If5bdcebc96b16283466cc5c32d88e5eea1b189bd
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/35/152435/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,b7d8913c03731a29621c5afbe0e4850e28644602,,Hardware introspection for OpenStack Ironic =========================================== This is an auxiliary service for discovering hardware properties for a* Operator installs undercloud with **ironic-discoverd** (e.g. using instack-undercloud_).,Hardware properties introspection for OpenStack Ironic ====================================================== This is an auxiliary service for discovering basic hardware properties for a* Operator installs undercloud (e.g. using instack-undercloud_),5,4
openstack%2Fsahara~master~Idf9fe4657f380953e7af8927dcf7aadeeb358c8c,openstack/sahara,master,Idf9fe4657f380953e7af8927dcf7aadeeb358c8c,Open port 8088 for HDP 2.0.6,MERGED,2015-02-02 18:44:21.000000000,2015-02-03 09:37:53.000000000,2015-02-03 09:37:52.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 8090}, {'_account_id': 8411}, {'_account_id': 12038}]","[{'number': 1, 'created': '2015-02-02 18:44:21.000000000', 'files': ['sahara/plugins/hdp/versions/version_2_0_6/versionhandler.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/fc35b44dccf508e1f9cf767f06e6cfeaf930cfc3', 'message': 'Open port 8088 for HDP 2.0.6\n\nWhen creating a cluster with auto security groups, port 8088 for\nResource Manager Web UI is not opened for HDP 2.0.6. In order to\nresolve this issue we need to open port 8088.\n\nChange-Id: Idf9fe4657f380953e7af8927dcf7aadeeb358c8c\nCloses-Bug: #1417218\n'}]",0,152225,fc35b44dccf508e1f9cf767f06e6cfeaf930cfc3,10,5,1,7428,,,0,"Open port 8088 for HDP 2.0.6

When creating a cluster with auto security groups, port 8088 for
Resource Manager Web UI is not opened for HDP 2.0.6. In order to
resolve this issue we need to open port 8088.

Change-Id: Idf9fe4657f380953e7af8927dcf7aadeeb358c8c
Closes-Bug: #1417218
",git fetch https://review.opendev.org/openstack/sahara refs/changes/25/152225/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara/plugins/hdp/versions/version_2_0_6/versionhandler.py'],1,fc35b44dccf508e1f9cf767f06e6cfeaf930cfc3,bug/1417218," 'RESOURCEMANAGER': [8025, 8041, 8050, 8088],"," 'RESOURCEMANAGER': [8025, 8041, 8050],",1,1
openstack%2Fsahara~master~Ibe2a170cc60eb69b44aec43fb61f367e53c47b9f,openstack/sahara,master,Ibe2a170cc60eb69b44aec43fb61f367e53c47b9f,Drop cli/sahara-rootwrap,MERGED,2015-01-28 06:57:51.000000000,2015-02-03 09:37:45.000000000,2015-02-03 09:37:44.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 7555}, {'_account_id': 7710}, {'_account_id': 8090}, {'_account_id': 8091}, {'_account_id': 8411}, {'_account_id': 8871}, {'_account_id': 9796}, {'_account_id': 10670}, {'_account_id': 12038}, {'_account_id': 12039}]","[{'number': 1, 'created': '2015-01-28 06:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/7382feaa7bba58e15b0062b5cd617ef9db441510', 'message': ""Drop cli/neutron-rootwrap\n\nIt can be automatically generated from console_scripts entry in\nsetup.cfg. So we don't need maintain it for sahara.\n\nChange-Id: Ibe2a170cc60eb69b44aec43fb61f367e53c47b9f\n""}, {'number': 2, 'created': '2015-01-28 08:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/060dbc177053c87436e1d4527b5dcf5f839fc6d1', 'message': ""Drop cli/sahara_rootwrap.py\n\nIt can be automatically generated from console_scripts entry in\nsetup.cfg. So we don't need maintain it for sahara.\n\nChange-Id: Ibe2a170cc60eb69b44aec43fb61f367e53c47b9f\n""}, {'number': 3, 'created': '2015-01-29 12:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/3977ff290f5d03c4be6cdf3700ad2822cd0ec17e', 'message': ""Drop cli/sahara_rootwrap.py\n\nIt can be automatically generated from console_scripts entry in\nsetup.cfg. So we don't need maintain it for sahara.\n\nCloses-Bug: #1415876\n\nChange-Id: Ibe2a170cc60eb69b44aec43fb61f367e53c47b9f\n""}, {'number': 4, 'created': '2015-01-30 13:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/c600526bfd218e9baad11646b025ad31e45eb063', 'message': ""Drop cli/neutron-rootwrap\n\nIt can be automatically generated from console_scripts entry in\nsetup.cfg. So we don't need maintain it for sahara.\n\nChange-Id: Ibe2a170cc60eb69b44aec43fb61f367e53c47b9f\n""}, {'number': 5, 'created': '2015-01-30 14:41:40.000000000', 'files': ['sahara/cli/sahara_rootwrap.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/sahara/commit/33b12a36dee7f3edd9aef1e27bec497eb9f38ef8', 'message': ""Drop cli/sahara-rootwrap\n\nIt can be automatically generated from console_scripts entry in\nsetup.cfg. So we don't need maintain it for sahara.\n\nChange-Id: Ibe2a170cc60eb69b44aec43fb61f367e53c47b9f\n""}]",2,150715,33b12a36dee7f3edd9aef1e27bec497eb9f38ef8,51,13,5,9796,,,0,"Drop cli/sahara-rootwrap

It can be automatically generated from console_scripts entry in
setup.cfg. So we don't need maintain it for sahara.

Change-Id: Ibe2a170cc60eb69b44aec43fb61f367e53c47b9f
",git fetch https://review.opendev.org/openstack/sahara refs/changes/15/150715/4 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/cli/sahara_rootwrap.py', 'setup.cfg']",2,7382feaa7bba58e15b0062b5cd617ef9db441510,use_rootwrap_direct, sahara-rootwrap = oslo.rootwrap.cmd:main, sahara-rootwrap = sahara.cli.sahara_rootwrap:main,1,22
openstack%2Fpython-keystoneclient~master~I95c00d85f60da3e9680aca956562d8155fcd2d0c,openstack/python-keystoneclient,master,I95c00d85f60da3e9680aca956562d8155fcd2d0c,Handle Keystone default admin_endpoint and public_endpoint settings,ABANDONED,2015-01-14 20:02:06.000000000,2015-02-03 09:33:31.000000000,,"[{'_account_id': 3}, {'_account_id': 7191}]","[{'number': 1, 'created': '2015-01-14 20:02:06.000000000', 'files': ['keystoneclient/auth/identity/generic/password.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/2680d8eaee2d6b88bdb34c1c57fb1d59e0fceb81', 'message': ""Handle Keystone default admin_endpoint and public_endpoint settings\n\nModify the generic Password plugin to allow version discovery with\nKeystone configurations that leave admin_endpoint and public_endpoint\nat the default values (http://localhost:xxxx).  This copies the scheme\nand netloc from the original auth_url into the URL returned from version\ndiscovery if the returned netloc begins with 'localhost'.\n\nThis is implemented in generic.password.Password as the need in generic.token\nis unclear, but it could easily be moved up a layer in the object hierarchy.\n\nA POC implementation in OpenStackClient is at https://review.openstack.org/145681\n\nCloses-bug: #1410364\nChange-Id: I95c00d85f60da3e9680aca956562d8155fcd2d0c\n""}]",1,147284,2680d8eaee2d6b88bdb34c1c57fb1d59e0fceb81,5,2,1,970,,,0,"Handle Keystone default admin_endpoint and public_endpoint settings

Modify the generic Password plugin to allow version discovery with
Keystone configurations that leave admin_endpoint and public_endpoint
at the default values (http://localhost:xxxx).  This copies the scheme
and netloc from the original auth_url into the URL returned from version
discovery if the returned netloc begins with 'localhost'.

This is implemented in generic.password.Password as the need in generic.token
is unclear, but it could easily be moved up a layer in the object hierarchy.

A POC implementation in OpenStackClient is at https://review.openstack.org/145681

Closes-bug: #1410364
Change-Id: I95c00d85f60da3e9680aca956562d8155fcd2d0c
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/84/147284/1 && git format-patch -1 --stdout FETCH_HEAD,['keystoneclient/auth/identity/generic/password.py'],1,2680d8eaee2d6b88bdb34c1c57fb1d59e0fceb81,bug/1410364,"from six.moves.urllib import parse as urlparse # The default Keystone configuration uses http://localhost:xxxx in # admin_endpoint and public_endpoint and are returned in the links.href # attribute by the version routes. Deployments that do not set these # are unusable with keystoneclient version discovery. # Build the actual API endpoint from the scheme, host and port of the # original auth URL and the rest from the returned version URL. v_u = urlparse.urlparse(url) a_u = urlparse.urlparse(self.auth_url) # from original auth_url: scheme, netloc # from api_url: path, query (basically, the rest) if v_u.netloc.startswith('localhost'): # Only hack this if it is the default setting url = urlparse.urlunparse(( a_u.scheme, a_u.netloc, v_u.path, v_u.params, v_u.query, v_u.fragment, )) ",,24,0
openstack%2Fdevstack~stable%2Ficehouse~I5c5f7a57a25d99142a4add49857cfb381c884565,openstack/devstack,stable/icehouse,I5c5f7a57a25d99142a4add49857cfb381c884565,Run OSC in a venv,ABANDONED,2015-01-20 06:08:12.000000000,2015-02-03 09:32:29.000000000,,"[{'_account_id': 3}, {'_account_id': 970}]","[{'number': 1, 'created': '2015-01-20 06:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a7af98523eb90bc81dfa1e662a3d1bcc80ebed56', 'message': ""Run OSC in a venv\n\n* Add pip_install_venv()\n* Install OSC into osc_venv\n* Force every invocation of 'openstack' to run from osc_venv\n* Cap python-openstackclient at last known wokring release, 1.0.1\n\nTODO: exercises have not been done yet\n\nChange-Id: I5c5f7a57a25d99142a4add49857cfb381c884565\n""}, {'number': 2, 'created': '2015-01-20 07:26:58.000000000', 'files': ['lib/ceilometer', 'lib/ironic', 'lib/cinder', 'lib/neutron', 'lib/nova', 'eucarc', 'lib/sahara', 'lib/tempest', 'functions-common', 'lib/heat', 'lib/keystone', 'lib/swift', 'lib/glance', 'lib/marconi', 'lib/trove', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/0170d7c5a95f34069d84d040357b27495d21a02b', 'message': ""Run OSC in a venv\n\n* Add pip_install_venv()\n* Install OSC into osc_venv\n* Force every invocation of 'openstack' to run from osc_venv\n* Cap python-openstackclient at last known working release, 1.0.1\n* Force pycadf 0.6.0 to be installed until proper caps can be added\n  to keystone and nova requirements.txt\n\nTODO: exercises have not been done yet\n\nChange-Id: I5c5f7a57a25d99142a4add49857cfb381c884565\n""}]",0,148442,0170d7c5a95f34069d84d040357b27495d21a02b,7,2,2,970,,,0,"Run OSC in a venv

* Add pip_install_venv()
* Install OSC into osc_venv
* Force every invocation of 'openstack' to run from osc_venv
* Cap python-openstackclient at last known working release, 1.0.1
* Force pycadf 0.6.0 to be installed until proper caps can be added
  to keystone and nova requirements.txt

TODO: exercises have not been done yet

Change-Id: I5c5f7a57a25d99142a4add49857cfb381c884565
",git fetch https://review.opendev.org/openstack/devstack refs/changes/42/148442/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/ceilometer', 'lib/ironic', 'lib/cinder', 'lib/neutron', 'lib/nova', 'eucarc', 'lib/sahara', 'lib/tempest', 'functions-common', 'lib/heat', 'lib/keystone', 'lib/swift', 'lib/glance', 'lib/marconi', 'lib/trove', 'stack.sh']",16,a7af98523eb90bc81dfa1e662a3d1bcc80ebed56,osc-venv," OSC_CMD=/usr/local/bin/openstack virtualenv $DEST/osc_venv pip_install_venv $DEST/osc_venv ""python-openstackclient<=1.0.1"" OSC_CMD=""$DEST/osc_venv/bin/openstack"" eval $($OSC_CMD ec2 credentials create --user nova --project $SERVICE_TENANT_NAME -f shell -c access -c secret)", pip_install python-openstackclient eval $(openstack ec2 credentials create --user nova --project $SERVICE_TENANT_NAME -f shell -c access -c secret),139,120
openstack%2Fdevstack~master~I616f405c15086820d8e158c2b046af8f417049f4,openstack/devstack,master,I616f405c15086820d8e158c2b046af8f417049f4,Add virtual env builder,ABANDONED,2014-12-18 15:51:50.000000000,2015-02-03 09:31:46.000000000,,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-18 15:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0bb107ab26cd6b873357d6b5c674c8b2408e7afa', 'message': 'Add virtual env builder\n\ntools/build_venv.sh:\n* Install required system packages (python dev, virtualenv)\n* Create a virtualenv, including the contents of files/venv-requirements.txt\n* Install common packages that have system dependencies\n\nOther changes to DevStack:\n* Add USE_VENV and VENV_PATH to screenrc\n* Create venv early in the stack.sh run\n* Change pip_install to not use sudo if it detects a virutal env is\n  present ($VIRTUAL_ENV is set)\n* Return the venv path in get_python_exec_prefix() when a venv is active\n* pip_install() does not need to be root when a venv is active\n* nova-rootwrap needed some PATH help in sudo\n\nChange-Id: I616f405c15086820d8e158c2b046af8f417049f4\n'}, {'number': 2, 'created': '2014-12-18 20:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8f14592781d23bb30e112b234afbffd74af081d9', 'message': 'Add virtual env builder\n\ntools/build_venv.sh:\n* Install required system packages (python dev, virtualenv)\n* Create a virtualenv, including the contents of files/venv-requirements.txt\n* Install common packages that have system dependencies\n\nOther changes to DevStack:\n* Add USE_VENV and VENV_PATH to screenrc\n* Create venv early in the stack.sh run\n* Change pip_install to not use sudo if it detects a virutal env is\n  present ($VIRTUAL_ENV is set)\n* Return the venv path in get_python_exec_prefix() when a venv is active\n* pip_install() does not need to be root when a venv is active\n* nova-rootwrap needed some PATH help in sudo\n\nChange-Id: I616f405c15086820d8e158c2b046af8f417049f4\n'}, {'number': 3, 'created': '2014-12-18 22:20:18.000000000', 'files': ['clean.sh', 'files/rpms/venv', 'files/debs/venv', 'lib/nova', 'functions-common', 'lib/keystone', 'files/rpms-suse/venv', 'openrc', 'stackrc', 'files/venv-requirements.txt', 'tools/build_venv.sh', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/80a2b16885064d4cc7b5d5f7018714fba9084475', 'message': 'Add virtual env builder\n\ntools/build_venv.sh:\n* Install required system packages (python dev, virtualenv)\n* Create a virtualenv, including the contents of files/venv-requirements.txt\n* Install common packages that have system dependencies\n\nOther changes to DevStack:\n* Add USE_VENV and VENV_PATH to screenrc\n* Create venv early in the stack.sh run\n* Change pip_install to not use sudo if it detects a virutal env is\n  present ($VIRTUAL_ENV is set)\n* Return the venv path in get_python_exec_prefix() when a venv is active\n* pip_install() does not need to be root when a venv is active\n* nova-rootwrap needed some PATH help in sudo\n\nChange-Id: I616f405c15086820d8e158c2b046af8f417049f4\n'}]",0,142822,80a2b16885064d4cc7b5d5f7018714fba9084475,11,3,3,970,,,0,"Add virtual env builder

tools/build_venv.sh:
* Install required system packages (python dev, virtualenv)
* Create a virtualenv, including the contents of files/venv-requirements.txt
* Install common packages that have system dependencies

Other changes to DevStack:
* Add USE_VENV and VENV_PATH to screenrc
* Create venv early in the stack.sh run
* Change pip_install to not use sudo if it detects a virutal env is
  present ($VIRTUAL_ENV is set)
* Return the venv path in get_python_exec_prefix() when a venv is active
* pip_install() does not need to be root when a venv is active
* nova-rootwrap needed some PATH help in sudo

Change-Id: I616f405c15086820d8e158c2b046af8f417049f4
",git fetch https://review.opendev.org/openstack/devstack refs/changes/22/142822/3 && git format-patch -1 --stdout FETCH_HEAD,"['clean.sh', 'files/rpms/venv', 'files/debs/venv', 'lib/nova', 'functions-common', 'lib/keystone', 'files/rpms-suse/venv', 'stackrc', 'files/venv-requirements.txt', 'tools/build_venv.sh', 'stack.sh']",11,0bb107ab26cd6b873357d6b5c674c8b2408e7afa,venv,"# Virtual Environment # ------------------- USE_VENV=$(trueorfalse False $USE_VENV) if [[ ""$USE_VENV"" = ""True"" ]]; then # Create or update a venv tools/build_venv.sh $VENV_PATH # Activate it if [[ -r $VENV_PATH/bin/activate ]]; then source $VENV_PATH/bin/activate else # Something went wrong...bail die ""Error creating virtual environment $VENV_PATH"" fi fi ",,125,9
openstack%2Fopenstack-ansible~master~Ib28a509b2fd6933d9c6a5c14911305da51602ab5,openstack/openstack-ansible,master,Ib28a509b2fd6933d9c6a5c14911305da51602ab5,Fixing docstring typo,MERGED,2015-02-02 22:56:31.000000000,2015-02-03 09:29:23.000000000,2015-02-03 09:27:28.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 9884}, {'_account_id': 12402}, {'_account_id': 12892}]","[{'number': 1, 'created': '2015-02-02 22:56:31.000000000', 'files': ['rpc_deployment/inventory/dynamic_inventory.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/eb34b51b1c8798250da28ed6458d5bd7ebf640fe', 'message': 'Fixing docstring typo\n\nChange to docstring for _build_container_hosts.\n\nChange-Id: Ib28a509b2fd6933d9c6a5c14911305da51602ab5\n'}]",0,152326,eb34b51b1c8798250da28ed6458d5bd7ebf640fe,12,6,1,12807,,,0,"Fixing docstring typo

Change to docstring for _build_container_hosts.

Change-Id: Ib28a509b2fd6933d9c6a5c14911305da51602ab5
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/26/152326/1 && git format-patch -1 --stdout FETCH_HEAD,['rpc_deployment/inventory/dynamic_inventory.py'],1,eb34b51b1c8798250da28ed6458d5bd7ebf640fe,typo," """"""Add in all of the host associations into inventory."," """"""Add in all of hte host associations into inventory.",1,1
openstack%2Ffuel-library~master~I024201cd49c5dd4633fdbcaf544984863f1eca0f,openstack/fuel-library,master,I024201cd49c5dd4633fdbcaf544984863f1eca0f,Enable monit for granular roles,MERGED,2015-02-02 13:09:13.000000000,2015-02-03 09:28:53.000000000,2015-02-03 09:28:53.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 10136}, {'_account_id': 11090}]","[{'number': 1, 'created': '2015-02-02 13:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/fdc32468a794cdf49b73e025fd50a63b013483ee', 'message': 'Enable monit for granular roles\n\n* Enables monit for all roles but\n  (primary)controller ones.\n* Fix missing parameter for enabling monit\n( related gerrit id change: I221733daee4419b7a2c647cb0bb849623719c396 )\n\nRelated blueprint services-under-supervisor\n\nChange-Id: I024201cd49c5dd4633fdbcaf544984863f1eca0f\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n'}, {'number': 2, 'created': '2015-02-02 13:47:56.000000000', 'files': ['deployment/puppet/osnailyfacter/modular/compute.pp', 'deployment/puppet/osnailyfacter/modular/globals.pp', 'deployment/puppet/osnailyfacter/modular/cinder.pp', 'deployment/puppet/osnailyfacter/modular/legacy.pp', 'deployment/puppet/osnailyfacter/modular/controller.pp', 'deployment/puppet/osnailyfacter/examples/site.pp', 'deployment/puppet/osnailyfacter/modular/ceph-osd.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/8e2fc4537915778f7ab36778c2b4cfa69ed9d054', 'message': 'Enable monit for granular roles\n\n* Enables monit for all roles but\n  primary and other controller ones.\n* Fix missing parameter for enabling monit\n( related gerrit id change: I221733daee4419b7a2c647cb0bb849623719c396 )\n\nRelated blueprint services-under-supervisor\n\nChange-Id: I024201cd49c5dd4633fdbcaf544984863f1eca0f\nSigned-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n'}]",0,152107,8e2fc4537915778f7ab36778c2b4cfa69ed9d054,22,6,2,6926,,,0,"Enable monit for granular roles

* Enables monit for all roles but
  primary and other controller ones.
* Fix missing parameter for enabling monit
( related gerrit id change: I221733daee4419b7a2c647cb0bb849623719c396 )

Related blueprint services-under-supervisor

Change-Id: I024201cd49c5dd4633fdbcaf544984863f1eca0f
Signed-off-by: Bogdan Dobrelya <bdobrelia@mirantis.com>
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/07/152107/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/osnailyfacter/modular/compute.pp', 'deployment/puppet/osnailyfacter/modular/globals.pp', 'deployment/puppet/osnailyfacter/modular/cinder.pp', 'deployment/puppet/osnailyfacter/modular/legacy.pp', 'deployment/puppet/osnailyfacter/modular/controller.pp', 'deployment/puppet/osnailyfacter/examples/site.pp', 'deployment/puppet/osnailyfacter/modular/ceph-osd.pp']",7,fdc32468a794cdf49b73e025fd50a63b013483ee,bp/services-under-supervisor,"$use_monit = hiera('use_monit', false)",$use_monit = false,7,8
openstack%2Fdevstack~stable%2Fjuno~I1fd00fb5a817ed8e08da9a89edc64519f990f6cf,openstack/devstack,stable/juno,I1fd00fb5a817ed8e08da9a89edc64519f990f6cf,Pin python-openstackclient version,MERGED,2015-01-31 00:48:18.000000000,2015-02-03 09:13:56.000000000,2015-02-03 09:13:55.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 2874}, {'_account_id': 7634}, {'_account_id': 8871}]","[{'number': 1, 'created': '2015-01-31 00:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e8f99acf6f5fcf67ca315f6ccbb3ee47121709cf', 'message': 'Pin python-openstackclient version\n\nCurrently we are installing the latest version of python-openstackclient\nin stable/juno devstack meaning if the latest python-openstackclient has\nconflicting dependencies things will break.\n\nThis is needed before we can pin all of stable/juno global requirements.\n\nPin python-openstackclient client version to 0.3.0, the minimum allowed\nversion in Juno.\n\nChange-Id: I1fd00fb5a817ed8e08da9a89edc64519f990f6cf\n'}, {'number': 2, 'created': '2015-01-31 02:28:00.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/bcba698d6c4f3552d2a96beb968205337bab82bd', 'message': 'Pin python-openstackclient version\n\nCurrently we are installing the latest version of python-openstackclient\nin stable/juno devstack meaning if the latest python-openstackclient has\nconflicting dependencies things will break.\n\nThis is needed before we can pin all of stable/juno global requirements.\n\nPin python-openstackclient client version to 1.0.1, The same version as\nin icehouse.\n\nChange-Id: I1fd00fb5a817ed8e08da9a89edc64519f990f6cf\n'}]",0,151831,bcba698d6c4f3552d2a96beb968205337bab82bd,27,7,2,1849,,,0,"Pin python-openstackclient version

Currently we are installing the latest version of python-openstackclient
in stable/juno devstack meaning if the latest python-openstackclient has
conflicting dependencies things will break.

This is needed before we can pin all of stable/juno global requirements.

Pin python-openstackclient client version to 1.0.1, The same version as
in icehouse.

Change-Id: I1fd00fb5a817ed8e08da9a89edc64519f990f6cf
",git fetch https://review.opendev.org/openstack/devstack refs/changes/31/151831/1 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,e8f99acf6f5fcf67ca315f6ccbb3ee47121709cf,151831, pip_install 'python-openstackclient~=0.3.0', pip_install python-openstackclient,1,1
openstack%2Fkeystone~master~I2147a8c7a50d65fde906ca9893b20a09e2429a03,openstack/keystone,master,I2147a8c7a50d65fde906ca9893b20a09e2429a03,Imported Translations from Transifex,MERGED,2015-01-31 06:04:08.000000000,2015-02-03 09:08:22.000000000,2015-02-03 09:08:21.000000000,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 10118}]","[{'number': 1, 'created': '2015-01-31 06:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a4142de6c76b770d6053eacf876c9ed57018e1fc', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I2147a8c7a50d65fde906ca9893b20a09e2429a03\n'}, {'number': 2, 'created': '2015-02-01 06:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/96d0bcf90aae1d337b2767a0dde2961e8b467c98', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I2147a8c7a50d65fde906ca9893b20a09e2429a03\n'}, {'number': 3, 'created': '2015-02-02 06:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/efa0ba79046c611d83f650106a2efc0e15ea8c1b', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I2147a8c7a50d65fde906ca9893b20a09e2429a03\n'}, {'number': 4, 'created': '2015-02-03 06:04:26.000000000', 'files': ['keystone/locale/fr/LC_MESSAGES/keystone-log-error.po', 'keystone/locale/fr/LC_MESSAGES/keystone-log-warning.po', 'keystone/locale/keystone.pot', 'keystone/locale/en_AU/LC_MESSAGES/keystone.po', 'keystone/locale/pt_BR/LC_MESSAGES/keystone.po', 'keystone/locale/zh_TW/LC_MESSAGES/keystone-log-error.po', 'keystone/locale/en_GB/LC_MESSAGES/keystone-log-error.po', 'keystone/locale/pt_BR/LC_MESSAGES/keystone-log-error.po', 'keystone/locale/keystone-log-warning.pot', 'keystone/locale/keystone-log-error.pot', 'keystone/locale/en_AU/LC_MESSAGES/keystone-log-error.po', 'keystone/locale/it/LC_MESSAGES/keystone-log-error.po', 'keystone/locale/ja/LC_MESSAGES/keystone-log-error.po', 'keystone/locale/zh_CN/LC_MESSAGES/keystone-log-error.po', 'keystone/locale/es/LC_MESSAGES/keystone-log-error.po', 'keystone/locale/de/LC_MESSAGES/keystone-log-error.po', 'keystone/locale/ko_KR/LC_MESSAGES/keystone-log-error.po'], 'web_link': 'https://opendev.org/openstack/keystone/commit/9016c16a9c6f075017b5eca3c791cb1584bccd6e', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I2147a8c7a50d65fde906ca9893b20a09e2429a03\n'}]",0,151856,9016c16a9c6f075017b5eca3c791cb1584bccd6e,15,3,4,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I2147a8c7a50d65fde906ca9893b20a09e2429a03
",git fetch https://review.opendev.org/openstack/keystone refs/changes/56/151856/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/locale/fr/LC_MESSAGES/keystone-log-error.po', 'keystone/locale/keystone.pot', 'keystone/locale/en_AU/LC_MESSAGES/keystone.po', 'keystone/locale/pt_BR/LC_MESSAGES/keystone.po', 'keystone/locale/zh_TW/LC_MESSAGES/keystone-log-error.po', 'keystone/locale/en_GB/LC_MESSAGES/keystone-log-error.po', 'keystone/locale/pt_BR/LC_MESSAGES/keystone-log-error.po', 'keystone/locale/keystone-log-error.pot', 'keystone/locale/en_AU/LC_MESSAGES/keystone-log-error.po', 'keystone/locale/it/LC_MESSAGES/keystone-log-error.po', 'keystone/locale/ja/LC_MESSAGES/keystone-log-error.po', 'keystone/locale/zh_CN/LC_MESSAGES/keystone-log-error.po', 'keystone/locale/es/LC_MESSAGES/keystone-log-error.po', 'keystone/locale/de/LC_MESSAGES/keystone-log-error.po', 'keystone/locale/ko_KR/LC_MESSAGES/keystone-log-error.po']",15,a4142de6c76b770d6053eacf876c9ed57018e1fc,transifex/translations,"# Copyright (C) 2015 OpenStack Foundation""POT-Creation-Date: 2015-01-31 06:04+0000\n"" ""PO-Revision-Date: 2015-01-05 20:11+0000\n""#: keystone/notifications.py:204#: keystone/notifications.py:248#: keystone/notifications.py:437#: keystone/contrib/federation/idp.py:410#: keystone/resource/core.py:350 #, python-format msgid """" ""Circular reference or a repeated entry found projects hierarchy - "" ""%(project_id)s."" msgstr """" #: keystone/resource/backends/sql.py:101 keystone/resource/backends/sql.py:120 #, python-format msgid """" ""Circular reference or a repeated entry found in projects hierarchy - "" ""%(project_id)s."" msgstr """" #: keystone/token/provider.py:350#: keystone/token/providers/common.py:586","# Copyright (C) 2014 OpenStack Foundation""POT-Creation-Date: 2014-12-28 06:03+0000\n"" ""PO-Revision-Date: 2014-12-10 14:52+0000\n""#: keystone/notifications.py:223#: keystone/notifications.py:267#: keystone/notifications.py:455#: keystone/assignment/core.py:524 #, python-format msgid """" ""Circular reference or a repeated entry found projects hierarchy - "" ""%(project_id)s."" msgstr """" #: keystone/assignment/backends/sql.py:342 #: keystone/assignment/backends/sql.py:361 #, python-format msgid """" ""Circular reference or a repeated entry found in projects hierarchy - "" ""%(project_id)s."" msgstr """" #: keystone/contrib/federation/idp.py:405#: keystone/token/provider.py:352#: keystone/token/providers/common.py:580",584,599
openstack%2Fironic-inspector~master~Idf830a084ed19f42be9f97d4064e91b0f8080e0e,openstack/ironic-inspector,master,Idf830a084ed19f42be9f97d4064e91b0f8080e0e,Last-minute release notes update for 1.0.0,MERGED,2015-02-03 08:44:48.000000000,2015-02-03 08:56:23.000000000,2015-02-03 08:56:22.000000000,"[{'_account_id': 3}, {'_account_id': 10239}]","[{'number': 1, 'created': '2015-02-03 08:44:48.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/f1d54408d9bd1ae06c29fdadffc7961ba5b747ef', 'message': 'Last-minute release notes update for 1.0.0\n\nChange-Id: Idf830a084ed19f42be9f97d4064e91b0f8080e0e\n'}]",0,152428,f1d54408d9bd1ae06c29fdadffc7961ba5b747ef,6,2,1,10239,,,0,"Last-minute release notes update for 1.0.0

Change-Id: Idf830a084ed19f42be9f97d4064e91b0f8080e0e
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/28/152428/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,f1d54408d9bd1ae06c29fdadffc7961ba5b747ef,,"to follow standard OpenStack processes from the beginning. All 0.2 series users are advised to upgrade.* Stop relying on **ironic-discoverd** setting maintenance mode itself. * Stop relying on ``discovery_timestamp`` node extra field.* Switch from ``discover`` to ``introspect`` HTTP endpoint and client API. As a side effect, no longer depend on maintenance mode for introspection. Stop putting node in maintenance mode before introspection. **Known Issues** * `bug 1415040 <https://bugs.launchpad.net/ironic-discoverd/+bug/1415040>`_ it is required to set IP addresses instead of host names in ``ipmi_address``/``ilo_address``/``drac_host`` node ``driver_info`` field for **ironic-discoverd** to work properly. 0.2 series is designed to work with OpenStack Juno release. The major changes are:","to follow standard OpenStack processes from the beginning.0.2 is a long-term support series designed to work with OpenStack Juno release. The major changes are:* ``discovery_timestamp`` is added to node extra on starting discovery **[version 0.2.2]**.* Switch to Gerrit **[version 0.2.3]**, setuptools entry points and tox.",18,6
openstack%2Fnetworking-l2gw~master~Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1,openstack/networking-l2gw,master,Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1,L2gateway db implementation for RESTful API,MERGED,2014-12-26 08:33:07.000000000,2015-02-03 08:55:32.000000000,2015-02-03 08:55:32.000000000,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 5217}, {'_account_id': 6558}, {'_account_id': 9361}, {'_account_id': 10761}, {'_account_id': 10780}, {'_account_id': 10781}, {'_account_id': 11614}, {'_account_id': 11820}, {'_account_id': 12711}]","[{'number': 1, 'created': '2014-12-26 08:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/bc55d6ddf5c55470d1b37595e0ba1f83799f4fa7', 'message': 'L2gateway db implementation for API\n\nThis is initial db related files for l2gateway REST API\n\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 2, 'created': '2015-01-06 10:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/bca3292219bac87cb1f0bde53e65b83c7dfdbb50', 'message': 'L2gateway db implementation for API\n\nThis is initial db related files for l2gateway REST API\n\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 3, 'created': '2015-01-08 11:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/037949f4b708ab013d79bfafc563279b21980548', 'message': 'L2gateway db implementation for API\n\nThis is initial db related files for l2gateway REST API\n\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 4, 'created': '2015-01-12 12:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/f84faa833166a32cf70e18bb0449dea623979526', 'message': 'L2gateway db implementation for API\n\nThis is initial db related files for l2gateway REST API\n\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 5, 'created': '2015-01-14 07:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/6da797fecca2ce534d598c6b4b12d734b063db38', 'message': 'L2gateway db implementation for API\n\nThis is initial db related files for l2gateway REST API\n\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 6, 'created': '2015-01-15 20:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/ac863fc943cab151a7ccb5cf88a94179b5258642', 'message': 'L2gateway db implementation for API\n\nThis is initial db related files for l2gateway REST API\n\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 7, 'created': '2015-01-15 20:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/079f9f7f7c14d5ec9773224bfe756c37210763bc', 'message': 'L2gateway db implementation for API\n\nThis is initial db related files for l2gateway REST API\n\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 8, 'created': '2015-01-17 15:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/f13953e99a328e634beea9d0ad1d8b455abeeef6', 'message': 'L2gateway db implementation for API\n\nThis is initial db related files for l2gateway REST API\n\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 9, 'created': '2015-01-18 12:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/39089c3ac2e49d52474c9bc85ccf14e17bf975b0', 'message': 'L2gateway db implementation for API\n\nThis is initial db related files for l2gateway REST API\n\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 10, 'created': '2015-01-18 14:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/434909461c7b6f804a9e70d6b013ca2b8e0ed657', 'message': 'L2gateway db implementation for API\n\nThis is initial db related files for l2gateway REST API\n\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 11, 'created': '2015-01-21 04:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/122748c8f6b273a383e53fd5efea29286e1ac861', 'message': 'L2gateway db implementation for API\n\nThis is initial db related files for l2gateway REST API\n\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 12, 'created': '2015-01-21 06:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/57a06b8adbe01ad1549a94bfec5cb48363cdfe33', 'message': 'L2gateway db implementation for API\n\nThis is initial db related files for l2gateway REST API\n\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 13, 'created': '2015-01-21 08:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/29d2dafac60708a72b64951767a343e53513f3de', 'message': 'L2gateway db implementation for API\n\nThis is initial db related files for l2gateway REST API\n\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 14, 'created': '2015-01-21 09:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/2d20ec33913d3d26c23ac3fb02f1fb60f9c3c7f1', 'message': 'L2gateway db implementation for API\n\nThis is initial db related files for l2gateway REST API\n\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 15, 'created': '2015-01-22 10:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/2aa232935fef2800bdc34a746f83176671e24faf', 'message': 'L2gateway db implementation for API\n\nThis is initial db related files for l2gateway REST API\n\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 16, 'created': '2015-01-22 11:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/71464626106c02c59656f367670f62c0e7fc1a82', 'message': 'L2gateway db implementation for API\n\nThis is initial db related files for l2gateway REST API\n\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 17, 'created': '2015-01-22 20:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/23f3fefa7550c807c1c557bad834c916cfafe3e2', 'message': 'L2gateway db implementation for API\n\nThis is initial db related files for l2gateway REST API\n\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 18, 'created': '2015-01-25 17:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/f468994756703a4d880c274da91e624fecb0c514', 'message': 'L2gateway db implementation for API\n\nThis is initial db related files for l2gateway REST API\n\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 19, 'created': '2015-01-27 06:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/11d1c29467bec3a6dc02b833799dbcfb2b0f294e', 'message': 'L2gateway db implementation for RESTful API\n\nThis is initial db related files required\nfor implementing l2gateway RESTful API\n\nImplements: blueprint l2-gateway-api\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 20, 'created': '2015-01-31 12:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/a5946b5547871dbbed0fcdfe6073f9303b0adeeb', 'message': 'L2gateway db implementation for RESTful API\n\nThis is initial db related files required\nfor implementing l2gateway RESTful API\n\nImplements: blueprint l2-gateway-api\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 21, 'created': '2015-01-31 12:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/33cfd4abdb3b979f427b440e7514a610feb9eac5', 'message': 'L2gateway db implementation for RESTful API\n\nThis is initial db related files required\nfor implementing l2gateway RESTful API\n\nImplements: blueprint l2-gateway-api\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 22, 'created': '2015-01-31 14:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/bba1c1f7d3338433de0c7b5dcead1f3d558a85a3', 'message': 'L2gateway db implementation for RESTful API\n\nThis is initial db related files required\nfor implementing l2gateway RESTful API\n\nImplements: blueprint l2-gateway-api\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 23, 'created': '2015-01-31 15:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/cd7daf9784274e1d6160adcb9fc108e4c2be8742', 'message': 'L2gateway db implementation for RESTful API\n\nThis is initial db related files required\nfor implementing l2gateway RESTful API\n\nImplements: blueprint l2-gateway-api\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 24, 'created': '2015-01-31 15:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/75df9a22f3cb67ba4de30869d324e6389e0b620e', 'message': 'L2gateway db implementation for RESTful API\n\nThis is initial db related files required\nfor implementing l2gateway RESTful API\n\nImplements: blueprint l2-gateway-api\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 25, 'created': '2015-02-01 07:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/b70248e739577470a337cdff8aea11b836ce9e20', 'message': 'L2gateway db implementation for RESTful API\n\nThis is initial db related files required\nfor implementing l2gateway RESTful API\n\nImplements: blueprint l2-gateway-api\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 26, 'created': '2015-02-02 20:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/c5991d7343bd2bf2500f35a961a83881dc9df670', 'message': 'L2gateway db implementation for RESTful API\n\nThis is initial db related files required\nfor implementing l2gateway RESTful API\n\nImplements: blueprint l2-gateway-api\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 27, 'created': '2015-02-03 05:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/9d7adf0e6b016616c96258cc0b3f1f458b0b0ae1', 'message': 'L2gateway db implementation for RESTful API\n\nThis is initial db related files required\nfor implementing l2gateway RESTful API\n\nImplements: blueprint l2-gateway-api\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 28, 'created': '2015-02-03 08:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/08e0ae2f407bbb6260b989aba11eb1aa1d358fab', 'message': 'L2gateway db implementation for RESTful API\n\nThis is initial db related files required\nfor implementing l2gateway RESTful API\n\nImplements: blueprint l2-gateway-api\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 29, 'created': '2015-02-03 08:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/237e457d78c8dc0830ac04d1ba4a5572dae439f6', 'message': 'L2gateway db implementation for RESTful API\n\nThis is initial db related files required\nfor implementing l2gateway RESTful API\n\nImplements: blueprint l2-gateway-api\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}, {'number': 30, 'created': '2015-02-03 08:49:54.000000000', 'files': ['networking_l2gw/db/l2gateway/__init__.py', 'networking_l2gw/db/migration/alembic_migrations/versions/42438454c556_l2gateway_models.py', 'networking_l2gw/tests/unit/db/__init__.py', 'networking_l2gw/db/l2gateway/l2gateway_db.py', 'networking_l2gw/services/l2gateway/common/constants.py', 'networking_l2gw/db/migration/__init__.py', 'networking_l2gw/tests/unit/db/test_l2gw_db.py', 'networking_l2gw/services/l2gateway/common/l2gw_validators.py', 'networking_l2gw/db/migration/alembic_migrations/versions/HEAD', 'networking_l2gw/db/migration/alembic_migrations/versions/__init__.py', 'networking_l2gw/services/l2gateway/exceptions.py', 'networking_l2gw/db/l2gateway/db_query.py', 'networking_l2gw/extensions/__init__.py', 'networking_l2gw/extensions/l2gateway.py', 'networking_l2gw/db/l2gateway/l2gateway_models.py', 'networking_l2gw/extensions/l2gatewayconnection.py'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/47de11fc2ef7bc341dce47684b944cbccb715579', 'message': 'L2gateway db implementation for RESTful API\n\nThis is initial db related files required\nfor implementing l2gateway RESTful API\n\nImplements: blueprint l2-gateway-api\nChange-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1\n'}]",235,144097,47de11fc2ef7bc341dce47684b944cbccb715579,130,12,30,10781,,,0,"L2gateway db implementation for RESTful API

This is initial db related files required
for implementing l2gateway RESTful API

Implements: blueprint l2-gateway-api
Change-Id: Ie6bd6b506bd704e0a86273ec7240b7eebb3b18b1
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/97/144097/3 && git format-patch -1 --stdout FETCH_HEAD,"['networking_l2gw/db/l2gateway/__init__.py', 'networking_l2gw/db/migration/alembic_migrations/README', 'networking_l2gw/db/migration/alembic_migrations/versions/42438454c556_l2gateway_models.py', 'networking_l2gw/services/__init__.py', 'networking_l2gw/db/migration/alembic_migrations/versions/start_neutron_l2gw.py', 'networking_l2gw/db/l2gateway/l2gateway_db.py', 'networking_l2gw/services/l2gateway/__init__.py', 'networking_l2gw/db/migration/alembic_migrations/__init__.py', 'networking_l2gw/db/migration/alembic_migrations/script.py.mako', 'networking_l2gw/db/migration/alembic_migrations/versions/HEAD', 'networking_l2gw/db/__init__.py', 'networking_l2gw/db/migration/alembic_migrations/env.py']",12,bc55d6ddf5c55470d1b37595e0ba1f83799f4fa7,l2gateway,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from logging import config as logging_config from alembic import context from neutron.db import model_base from oslo.config import cfg from oslo.db.sqlalchemy import session import sqlalchemy as sa from sqlalchemy import event MYSQL_ENGINE = None LBAAS_VERSION_TABLE = 'alembic_version_lbaas' config = context.config neutron_config = config.neutron_config logging_config.fileConfig(config.config_file_name) target_metadata = model_base.BASEV2.metadata def set_mysql_engine(): try: mysql_engine = neutron_config.command.mysql_engine except cfg.NoSuchOptError: mysql_engine = None global MYSQL_ENGINE MYSQL_ENGINE = (mysql_engine or model_base.BASEV2.__table_args__['mysql_engine']) def run_migrations_offline(): set_mysql_engine() kwargs = dict() if neutron_config.database.connection: kwargs['url'] = neutron_config.database.connection else: kwargs['dialect_name'] = neutron_config.database.engine kwargs['version_table'] = LBAAS_VERSION_TABLE context.configure(**kwargs) with context.begin_transaction(): context.run_migrations() @event.listens_for(sa.Table, 'after_parent_attach') def set_storage_engine(target, parent): if MYSQL_ENGINE: target.kwargs['mysql_engine'] = MYSQL_ENGINE def run_migrations_online(): set_mysql_engine() engine = session.create_engine(neutron_config.database.connection) connection = engine.connect() context.configure( connection=connection, target_metadata=target_metadata, version_table=LBAAS_VERSION_TABLE ) try: with context.begin_transaction(): context.run_migrations() finally: connection.close() engine.dispose() if context.is_offline_mode(): run_migrations_offline() else: run_migrations_online() ",,681,0
openstack%2Fcinder~master~I1e79c04d83a59ab37d7550b0021a67fe61e8096e,openstack/cinder,master,I1e79c04d83a59ab37d7550b0021a67fe61e8096e,Tests: Don't sleep for looping calls,MERGED,2015-02-02 16:39:19.000000000,2015-02-03 08:44:14.000000000,2015-02-03 04:08:12.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 6491}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12780}, {'_account_id': 13628}, {'_account_id': 14242}]","[{'number': 1, 'created': '2015-02-02 16:39:19.000000000', 'files': ['cinder/tests/utils.py', 'cinder/tests/test_emc_vnxdirect.py', 'cinder/tests/test_srb.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a564550eab1a4fa4f0702dd00d2400bc485b4b6', 'message': ""Tests: Don't sleep for looping calls\n\nSome tests are sleeping for a few seconds when\nrunning looping calls.  Mock this out so that\ntests do not take longer than required to run.\n\nThis takes running vnxdirect and srb tests from:\nRan 105 tests in 37.876s\n to:\nRan 105 tests in 23.154s\n\nChange-Id: I1e79c04d83a59ab37d7550b0021a67fe61e8096e\n""}]",0,152176,9a564550eab1a4fa4f0702dd00d2400bc485b4b6,18,14,1,4523,,,0,"Tests: Don't sleep for looping calls

Some tests are sleeping for a few seconds when
running looping calls.  Mock this out so that
tests do not take longer than required to run.

This takes running vnxdirect and srb tests from:
Ran 105 tests in 37.876s
 to:
Ran 105 tests in 23.154s

Change-Id: I1e79c04d83a59ab37d7550b0021a67fe61e8096e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/76/152176/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/utils.py', 'cinder/tests/test_emc_vnxdirect.py', 'cinder/tests/test_srb.py']",3,9a564550eab1a4fa4f0702dd00d2400bc485b4b6,sleep_fix," @srb.retry(count=4, exceptions=(Exception), sleep_mechanism=srb.retry.SLEEP_NONE)"," @srb.retry(count=4, exceptions=(Exception))",14,2
openstack%2Ffuel-main~master~Id127f469ffe9460494774093e596804b07f4179c,openstack/fuel-main,master,Id127f469ffe9460494774093e596804b07f4179c,Remove harcoded deployment mode,MERGED,2015-01-28 14:37:17.000000000,2015-02-03 08:31:51.000000000,2015-02-03 08:31:51.000000000,"[{'_account_id': 3}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 9977}, {'_account_id': 10136}, {'_account_id': 11081}, {'_account_id': 11577}, {'_account_id': 11969}]","[{'number': 1, 'created': '2015-01-28 14:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/ec4e9acb6c346044bd2c2bfd6d448368fd11a475', 'message': ""Remove harcoded deployment mode for neutron_gre\n\nIn case if we want to run deploy_neutron gre\nin simple node we shoult export DEPLOYMENT_MODE='multinode'\n\nin case if we want to see it in ha,\nwe can leave default value\n\nChange-Id: Id127f469ffe9460494774093e596804b07f4179c\n""}, {'number': 2, 'created': '2015-01-28 15:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/c429ff80e8beb667b654621f12d85f7a35b93554', 'message': ""Remove harcoded deployment mode for neutron_gre\n\nIn case if we want to run deploy_neutron gre\nin simple node we shoult export DEPLOYMENT_MODE='multinode'\n\nin case if we want to see it in ha,\nwe can leave default value\n\nAlso change group simple_neutron* to one_controller_ha_neutron*\n\nChange-Id: Id127f469ffe9460494774093e596804b07f4179c\n""}, {'number': 3, 'created': '2015-02-02 15:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/f2dbfba1f3044ceefcb8b47d18d59dfa35ba0b57', 'message': ""Remove harcoded deployment mode for neutron_gre\n\nIn case if we want to run deploy_neutron gre\nin simple node we shoult export DEPLOYMENT_MODE='multinode'\n\nin case if we want to see it in ha,\nwe can leave default value\n\nAlso change group simple_neutron* to one_controller_ha_neutron*\n\nChange-Id: Id127f469ffe9460494774093e596804b07f4179c\n""}, {'number': 4, 'created': '2015-02-02 15:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/8c2160c490cb6c3496e78a019b849610c47fdbaf', 'message': ""Remove harcoded deployment mode for neutron_gre\n\nIn case if we want to run deploy_neutron gre\nin simple node we shoult export DEPLOYMENT_MODE='multinode'\n\nin case if we want to see it in ha,\nwe can leave default value\n\nAlso change group simple_neutron* to one_controller_ha_neutron*\n\nChange-Id: Id127f469ffe9460494774093e596804b07f4179c\n""}, {'number': 5, 'created': '2015-02-02 17:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/9cd8b8c2a596638d185d69aeb28cbe93e2d840b1', 'message': ""Remove harcoded deployment mode\n\nIn case if we want to run tests\nin simple node we shoult export DEPLOYMENT_MODE='multinode'\n\nin case if we want to see it in ha,\nwe can leave default value\n\nChange-Id: Id127f469ffe9460494774093e596804b07f4179c\nRelated-Bug: #1417103\n""}, {'number': 6, 'created': '2015-02-02 18:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/7a8ab01935cf8b2cc66adb0ded100fc3208dc7c0', 'message': ""Remove harcoded deployment mode\n\nIn case if we want to run tests\nin simple node we shoult export DEPLOYMENT_MODE='multinode'\n\nin case if we want to see it in ha,\nwe can leave default value\nURGENT: Disable test for lbaas plugin,\naccording plugin restriction is simple_mode\nChange-Id: Id127f469ffe9460494774093e596804b07f4179c\nRelated-Bug: #1417103\n""}, {'number': 7, 'created': '2015-02-02 18:47:41.000000000', 'files': ['fuelweb_test/tests/test_services.py', 'fuelweb_test/tests/test_zabbix.py', 'fuelweb_test/tests/tests_strength/test_restart.py', 'fuelweb_test/tests/plugins/plugin_glusterfs/test_plugin_glusterfs.py', 'fuelweb_test/tests/tests_strength/test_ostf_repeatable_tests.py', 'fuelweb_test/tests/test_ceph.py', 'fuelweb_test/run_tests.py', 'fuelweb_test/tests/test_bonding.py', 'fuelweb_test/tests/test_ha_one_controller.py', 'fuelweb_test/tests/test_neutron.py', 'fuelweb_test/tests/tests_strength/test_huge_environments.py', 'fuelweb_test/tests/tests_strength/test_failover.py', 'fuelweb_test/tests/plugins/plugin_lbaas/test_plugin_lbaas.py', 'fuelweb_test/tests/tests_strength/test_master_node_failover.py', 'fuelweb_test/tests/plugins/plugin_example/test_fuel_plugin_example.py', 'fuelweb_test/tests/test_environment_action.py', 'fuelweb_test/tests/test_upgrade.py', 'fuelweb_test/tests/tests_strength/test_neutron.py', 'fuelweb_test/tests/tests_strength/test_image_based.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/e666f112cf7dff1eadfd360b03ead033d9543087', 'message': ""Remove harcoded deployment mode\n\nIn case if we want to run tests\nin simple node we shoult export DEPLOYMENT_MODE='multinode'\n\nin case if we want to see it in ha,\nwe can leave default value\nURGENT: Disable test for lbaas plugin,\naccording plugin restriction is simple_mode\nChange-Id: Id127f469ffe9460494774093e596804b07f4179c\nRelated-Bug: #1417103\n""}]",44,150791,e666f112cf7dff1eadfd360b03ead033d9543087,50,8,7,6719,,,0,"Remove harcoded deployment mode

In case if we want to run tests
in simple node we shoult export DEPLOYMENT_MODE='multinode'

in case if we want to see it in ha,
we can leave default value
URGENT: Disable test for lbaas plugin,
according plugin restriction is simple_mode
Change-Id: Id127f469ffe9460494774093e596804b07f4179c
Related-Bug: #1417103
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/91/150791/3 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_neutron.py'],1,ec4e9acb6c346044bd2c2bfd6d448368fd11a475,change_mode,"from fuelweb_test.settings import DEPLOYMENT_MODE mode=DEPLOYMENT_MODE,"," mode=DEPLOYMENT_MODE_SIMPLE,",2,1
openstack%2Ffuel-library~master~Ie5a4906c98288b8f43c7f9d59b86001104cd069c,openstack/fuel-library,master,Ie5a4906c98288b8f43c7f9d59b86001104cd069c,Add missing mp_hash to globals.pp,MERGED,2015-02-02 17:38:14.000000000,2015-02-03 08:30:31.000000000,2015-02-03 08:30:31.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 11090}, {'_account_id': 11827}, {'_account_id': 13343}]","[{'number': 1, 'created': '2015-02-02 17:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/07b1f13879a9fe85fe8e92ad25bd7e0a01471202', 'message': ""Add missing mp_hash to globals.pp\n\nWe need to pull 'mp' hash from astute.yaml in order to use mp_hash\nlater.\n\nChange-Id: Ie5a4906c98288b8f43c7f9d59b86001104cd069c\n""}, {'number': 2, 'created': '2015-02-02 17:38:46.000000000', 'files': ['deployment/puppet/osnailyfacter/modular/globals.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/215660ca7f272fe6e5e9076fc5345e72fcfc3871', 'message': ""Add missing mp_hash to globals.pp\n\nWe need to pull 'mp' hash from astute.yaml in order to use mp_hash\nlater.\n\nCloses-bug: #1417193\nChange-Id: Ie5a4906c98288b8f43c7f9d59b86001104cd069c\n""}]",0,152204,215660ca7f272fe6e5e9076fc5345e72fcfc3871,20,7,2,9387,,,0,"Add missing mp_hash to globals.pp

We need to pull 'mp' hash from astute.yaml in order to use mp_hash
later.

Closes-bug: #1417193
Change-Id: Ie5a4906c98288b8f43c7f9d59b86001104cd069c
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/04/152204/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/osnailyfacter/modular/globals.pp'],1,07b1f13879a9fe85fe8e92ad25bd7e0a01471202,bug/1417193,"$mp_hash = hiera('mp', {})",,1,0
openstack%2Ffuel-library~master~Iaf0c023e3d52d1073135698decb9070319d1d41b,openstack/fuel-library,master,Iaf0c023e3d52d1073135698decb9070319d1d41b,"Replace Keystone's bind_host with {public,admin}_bind_host.",MERGED,2014-12-05 12:16:27.000000000,2015-02-03 08:25:36.000000000,2015-02-03 08:25:35.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9546}, {'_account_id': 11090}, {'_account_id': 13343}, {'_account_id': 13344}]","[{'number': 1, 'created': '2014-12-05 12:16:27.000000000', 'files': ['deployment/puppet/openstack/manifests/keystone.pp', 'deployment/puppet/openstack/manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/9f249265fa3872ed1f71283c1f40bf0688501e56', 'message': ""Replace Keystone's bind_host with {public,admin}_bind_host.\n\nChange-Id: Iaf0c023e3d52d1073135698decb9070319d1d41b\nPartial-Bug: 1390099\n""}]",0,139608,9f249265fa3872ed1f71283c1f40bf0688501e56,12,8,1,13948,,,0,"Replace Keystone's bind_host with {public,admin}_bind_host.

Change-Id: Iaf0c023e3d52d1073135698decb9070319d1d41b
Partial-Bug: 1390099
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/08/139608/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/openstack/manifests/keystone.pp', 'deployment/puppet/openstack/manifests/controller.pp']",2,9f249265fa3872ed1f71283c1f40bf0688501e56,bug/1390099," public_bind_host => $api_bind_address, admin_bind_host => $api_bind_address,"," bind_host => $api_bind_address,",9,5
openstack%2Fhorizon~stable%2Fjuno~Ic36485216830f56a796f591927697d2f7837d00d,openstack/horizon,stable/juno,Ic36485216830f56a796f591927697d2f7837d00d,Updated from global requirements,MERGED,2015-01-27 14:44:35.000000000,2015-02-03 08:15:31.000000000,2015-01-27 21:23:28.000000000,"[{'_account_id': 3}, {'_account_id': 1420}, {'_account_id': 1941}, {'_account_id': 4264}, {'_account_id': 9576}, {'_account_id': 9981}]","[{'number': 1, 'created': '2015-01-27 14:44:35.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/horizon/commit/5703152ab27e496aa1384561809ce1df49dd6508', 'message': 'Updated from global requirements\n\nChange-Id: Ic36485216830f56a796f591927697d2f7837d00d\n'}]",0,150440,5703152ab27e496aa1384561809ce1df49dd6508,10,6,1,11131,,,0,"Updated from global requirements

Change-Id: Ic36485216830f56a796f591927697d2f7837d00d
",git fetch https://review.opendev.org/openstack/horizon refs/changes/40/150440/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,5703152ab27e496aa1384561809ce1df49dd6508,openstack/requirements,"django_openstack_auth>=1.1.7,!=1.1.8",django_openstack_auth>=1.1.7,1,1
openstack%2Fsahara-specs~master~Ic1c31852cedc750078a41c62f8a72a79aca27e24,openstack/sahara-specs,master,Ic1c31852cedc750078a41c62f8a72a79aca27e24,Fix tests for specs,MERGED,2015-02-02 15:25:39.000000000,2015-02-03 07:56:52.000000000,2015-02-03 07:56:51.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 8411}, {'_account_id': 13953}]","[{'number': 1, 'created': '2015-02-02 15:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/59d951c49215e346dfcd245ecb1e917e12c8a6f1', 'message': 'Fix tests for specs\n\nChanges:\n* Fix errors in specs\n* Fix regexp for find spec files\n\nCloses-bug: #1417125\n\nChange-Id: Ic1c31852cedc750078a41c62f8a72a79aca27e24\n'}, {'number': 2, 'created': '2015-02-02 16:01:29.000000000', 'files': ['specs/kilo/edp-data-sources-in-job-configs.rst', 'specs/kilo/indirect-vm-access.rst', 'specs/kilo/adding-ids-to-logs.rst', 'specs/kilo/hdp-plugin-enable-hdfs-ha.rst', 'tests/test_titles.py', 'specs/kilo/edp-spark-swift-integration.rst', 'specs/kilo/add-service-test-in-integration.rst', 'specs/kilo/support-template-editing.rst', 'specs/kilo/default-templates.rst'], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/b3751b72c2d4e8f214a543fd65085aa23c400212', 'message': 'Fix tests for specs\n\nChanges:\n* Fix errors in specs\n* Fix regexp for find spec files\n\nCloses-bug: #1417125\n\nChange-Id: Ic1c31852cedc750078a41c62f8a72a79aca27e24\n'}]",0,152153,b3751b72c2d4e8f214a543fd65085aa23c400212,11,4,2,7710,,,0,"Fix tests for specs

Changes:
* Fix errors in specs
* Fix regexp for find spec files

Closes-bug: #1417125

Change-Id: Ic1c31852cedc750078a41c62f8a72a79aca27e24
",git fetch https://review.opendev.org/openstack/sahara-specs refs/changes/53/152153/2 && git format-patch -1 --stdout FETCH_HEAD,"['specs/kilo/edp-data-sources-in-job-configs.rst', 'specs/kilo/indirect-vm-access.rst', 'specs/kilo/adding-ids-to-logs.rst', 'specs/kilo/hdp-plugin-enable-hdfs-ha.rst', 'tests/test_titles.py', 'specs/kilo/support-template-editing.rst', 'specs/kilo/default-templates.rst']",7,59d951c49215e346dfcd245ecb1e917e12c8a6f1,bug/1417125,Sahara-dashboard / Horizon impact ---------------------------------N/A ,Horizon impact --------------N/A,48,37
openstack%2Fopenstack-manuals~master~I6e4f373a5a558d7b162d5d90f9dd4e8f01986b20,openstack/openstack-manuals,master,I6e4f373a5a558d7b162d5d90f9dd4e8f01986b20,Imported Translations from Transifex,MERGED,2015-02-02 06:12:20.000000000,2015-02-03 07:56:32.000000000,2015-02-03 07:56:31.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6772}]","[{'number': 1, 'created': '2015-02-02 06:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c9ce0b25fab5b44142d1de3253b7ffd13accaf7d', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I6e4f373a5a558d7b162d5d90f9dd4e8f01986b20\n'}, {'number': 2, 'created': '2015-02-03 06:12:56.000000000', 'files': ['doc/install-guide/locale/install-guide.pot', 'doc/config-reference/locale/config-reference.pot', 'doc/install-guide/locale/ko_KR.po', 'doc/common/locale/common.pot', 'doc/image-guide/locale/zh_CN.po', 'doc/arch-design/locale/arch-design.pot', 'doc/glossary/locale/zh_CN.po', 'doc/install-guide/locale/ja.po', 'doc/arch-design/locale/zh_CN.po', 'doc/common/locale/ja.po', 'doc/common/locale/zh_CN.po', 'doc/common/locale/fr.po', 'doc/install-guide/locale/pt_BR.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c26dcff77a40b7ebc86be1efbd2f6fb576c681e4', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I6e4f373a5a558d7b162d5d90f9dd4e8f01986b20\n'}]",0,151995,c26dcff77a40b7ebc86be1efbd2f6fb576c681e4,9,3,2,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I6e4f373a5a558d7b162d5d90f9dd4e8f01986b20
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/95/151995/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/install-guide/locale/install-guide.pot', 'doc/install-guide/locale/pt_BR.po', 'doc/config-reference/locale/config-reference.pot', 'doc/install-guide/locale/ko_KR.po', 'doc/image-guide/locale/zh_CN.po', 'doc/arch-design/locale/arch-design.pot', 'doc/install-guide/locale/ja.po', 'doc/arch-design/locale/zh_CN.po']",8,c9ce0b25fab5b44142d1de3253b7ffd13accaf7d,transifex/translations,"""POT-Creation-Date: 2015-02-02 00:58+0000\n"" ""PO-Revision-Date: 2015-02-02 05:00+0000\n"" ""Last-Translator: johnwoo_lee <lijiangsheng1@gmail.com>\n""""self-service cloud and Infrastructure-as-a-Service (IaaS) provides. However,"" "" in order to reap those benefits, the cloud must be designed and architected"" "" properly."" msgstr ""在云计算技术的“淘金热”中，OpenStack无疑是作为领导者出现的，在云自助服务和基础设施即服务(IaaS)的市场，为形形色色的>组织发现更大的灵活性，并加速这个市场。当然，要想知道它的全部好处，云必须要有正确的架构设计。""""disaster recovery, and a secure environment. A well-architected cloud does "" ""not magically build itself. It requires careful consideration of a multitude"" "" of factors both technical and non-technical.""""deployment. OpenStack can be used for any number of different purposes, each"" "" with its own particular requirements and architectural peculiarities.""""This book is designed to examine some of the most common uses for OpenStack "" ""clouds (and some less common uses) and to provide knowledge and advice to "" ""help explain the issues that require consideration. These examples, coupled "" ""with a wealth of knowledge and advice will help an organization design and "" ""build a well-architected OpenStack cloud to fit its unique requirements.""msgstr ""当考虑OpenStack块设备的性能时，硬件和架构的选择就显得非常重要。块存储可以使用企业级后端系统如NetApp或EMC的产品，也可以使用横向扩展存储如GlusterFS和Ceph，更可以是简单的在节点上直接附加的存储。块存储或许是云所关注的贯穿主机网络的部署，又或许是前端应用程序接口所关注的流量性能。无论怎么，都得在控制器和计算主机上考虑使用专用的数据存储网络和专用的接口。""msgstr ""关于更多OpenStack安全方面的信息，请参考 <link href=\""http://docs.openstack.org/security-guide/\""><citetitle>OpenStack 安全指南</citetitle></link>""msgstr ""服务水平协议(SLA)是一种合同义务，它给服务的可用性提供一个保证。因此，当设计一个OpenStack云时，兑现合同上的承诺就是实现可用性，确保冗余和弹性的水平。""msgstr ""如果存在SLA的话，它其中的条款必定包含，知道何时何地实现冗余和高可用(HA)。""msgstr ""为了较好的支持和维护、安装，OpenStack云管理需求运维人员理解和搞懂架构设计的内容。运维人员和工程师人员的技能级别，区分他们，取决于安装的规模和目的。大型云服务提供商，或者电信级提供商，拥有特别的培训计划，有专门的运维队伍。对于小型组织来说，就要求支持团队要精，即是工程师、设计师、运维一起做。""msgstr ""另外一个属性是评估平均负载和增加运行在计算环境中的实例数量，即通过调整超分配比例。但这仅适合于某些环境，更改CPU超分配比例会带来负面影响而且会增加影响到其他组件的风险，记住这点很重要。增加超分配比例带来的风险有，当一个计算主机宕机会引发除其本机运行的实例之外更多的实例会失效。在计算型OpenStack设计架构中，增加CPU超分配比例会增加破坏系统的风险，这是我们不建议的。""msgstr ""选择商业支持的hypervisor如微软的Hyper-V，和选择社区支持的开源hypervisor如kinstance或Xen，在开销模式上是完全不同的。甚至在开源解决方案也表现不同，如选择Ubuntu而不是RedHat(或类似)在支持上有着不同的开销。换句话说，业务和应用的需求主宰着选用特殊的或商业支持的hypervisor。""msgstr ""排除一些特定的OpenStack组件会让其他组件的功能受到限制。如果在一个设计中有Orchestration模块但是没有包括Telemetry模块，那么此设计就无法使用Orchestration带来自动伸缩功能的优点(Orchestration需要Telemetery提供监测数据)。用户使用Orchestration在计算密集型处理任务时可自动启动大量的实例，因此强烈建议在计算型架构设计中使用Orchestration。""msgstr ""大部分的OpenStack组件都需要访问后端的数据库服务，以存放状态和配置信息。选择一个合适的后端数据库可以满足可用性和容错是OpenStack服务所必须的。OpenStack服务支持连接由SQLAlchemy所支持的任何数据库，尽管如此，绝大多数的数据库部署还是使用MySQL或其变种。我们建议提供后端服务的数据库做到高可用，使用一些可用的技术手段，多数使用的软件解决方案是使用包括Galera,MariaDB>以及多主节点复制的MySQL。""msgstr ""千万要意识到每一个云实现的服务是不同的，这点很重要！在这个云里可以保证数据的安全，在另外一个就不一定安全。一定要知道，每个云处理其组织的数据或负载对于安全的需求是不一样的。""msgstr ""对象存储系统必须设计得拥有充足的区域提供法定数量，为所定义的复制份数。举个例子，在一个swift集群中配置了三份复制，那么建议区域数量是5。当然，也可以部署时少于这个数，但是这有数据不可用的风险以及API请求无法应答。基于这个原因，在对象存储系统中要确保正确的数量。""msgstr ""每个对象存储区域须包含到其自身的可用区域里。每个可用区域须拥有独立的访问网络、电力和制冷等基础设施，确保访问数据不会中断。另外，每个可用区域须服务于对象存储池代理服务，而代理服务提供访问存放在对象节点的数据。在每个region的对象代理应充分利用本地的读写，所以尽可能的访问本地存储资源。我们建议在上游的负载均衡的部署要确保代理服务是分布在不同的区域的。在一些情况下，有必要使用第三方的解决方案来处理跨地域分布式服务。""","""POT-Creation-Date: 2015-01-31 17:08+0000\n"" ""PO-Revision-Date: 2015-01-31 13:16+0000\n"" ""Last-Translator: openstackjenkins <jenkins@openstack.org>\n""""self-service cloud and Infrastructure-as-a-Service (IaaS) provides. To truly"" "" reap those benefits, however, the cloud must be designed and architected "" ""properly."" msgstr ""在云计算技术的“淘金热”中，OpenStack无疑是作为领导者出现的，在云自助服务和基础设施即服务(IaaS)的市场，为形形色色的组织发现更大的灵活性，并加速这个市场。当然，要想知道它的全部好处，云必须要有正确的架构设计。""""disaster recovery, and a secure environment, but a well-architected cloud "" ""does not magically build itself. It requires careful consideration of a "" ""multitude of factors, both technical and non-technical.""""deployment. OpenStack can be used for any number of different purposes, and "" ""each of them has its own particular requirements and architectural "" ""peculiarities.""""This book is designed to look at some of the most common uses for OpenStack "" ""clouds (and even some that are less common, but provide a good example) and "" ""explain what issues need to be considered and why, along with a wealth of "" ""knowledge and advice to help an organization to design and build a well-"" ""architected OpenStack cloud that will fit its unique requirements.""msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"",130,96
openstack%2Fec2-api~master~Ifddf62a9ebfe316af5b85b5d524fd743cf630a71,openstack/ec2-api,master,Ifddf62a9ebfe316af5b85b5d524fd743cf630a71,Fix minor grammar in README file,MERGED,2015-02-03 01:10:34.000000000,2015-02-03 07:48:16.000000000,2015-02-03 07:48:14.000000000,"[{'_account_id': 3}, {'_account_id': 9309}, {'_account_id': 9312}, {'_account_id': 10224}]","[{'number': 1, 'created': '2015-02-03 01:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/e2c500f00908eb1393d5d8af865d03366a064141', 'message': 'Fix minor grammar in README file\n\nAdded some missing links to complete the sentence structure.\n\nChange-Id: Ifddf62a9ebfe316af5b85b5d524fd743cf630a71\n'}, {'number': 2, 'created': '2015-02-03 01:18:49.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/4587f6644c3ecdc7f805f3aeaa37d4f53bfc8899', 'message': 'Fix minor grammar in README file\n\nAdded some missing links to complete the sentence structure.\n\nChange-Id: Ifddf62a9ebfe316af5b85b5d524fd743cf630a71\n'}]",0,152363,4587f6644c3ecdc7f805f3aeaa37d4f53bfc8899,8,4,2,12609,,,0,"Fix minor grammar in README file

Added some missing links to complete the sentence structure.

Change-Id: Ifddf62a9ebfe316af5b85b5d524fd743cf630a71
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/63/152363/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,e2c500f00908eb1393d5d8af865d03366a064141,," 1. Implement VPC API is which now absent in nova's EC2 API 2. Create a standalone service for EC2 API support which accommodatesIt doesn't replace existing nova EC2 API service in deployment, it getsaws --endpoint-url http://10.0.2.15:8788/services/Cloud ec2 describe-instancesVPN-related and ACL-related functionality is not supported.EC2 API with VPC API except for the limitations above.", 1. Implement VPC API which now absent in nova's EC2 API 2. Create a standalone service for EC2 API support accommodatesIt doesn't replace existing nova EC2 API service in deployment it gets aws --endpoint-url http://10.0.2.15:8788/services/Cloud ec2 describe-instances VPN-related and ACL-related functionality is not supported. EC2 API with VPC API except for the limitations above,6,6
openstack%2Fkeystone~master~I5d7d79bfa8d5b9325784ed6f197b11b7ffcbc8fb,openstack/keystone,master,I5d7d79bfa8d5b9325784ed6f197b11b7ffcbc8fb,Refactor role assignment assertions,MERGED,2014-12-31 00:06:41.000000000,2015-02-03 07:42:51.000000000,2015-02-03 07:42:49.000000000,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 5707}, {'_account_id': 9101}, {'_account_id': 9142}, {'_account_id': 9751}, {'_account_id': 10118}, {'_account_id': 11022}, {'_account_id': 13063}]","[{'number': 1, 'created': '2014-12-31 00:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9b96cf21b20ae4e7c384d1c492a11dbdb58b1f44', 'message': ""Refactor role assignment assertions\n\nRefactor assertValidRoleAssignment(..) in order\nto do a clearer comparison between 'actual' and\n'ref'. In addition, ensure that all required\nentities have 'id' info (added for role, for ex).\n\nPartial-Bug: 1406640\nChange-Id: I5d7d79bfa8d5b9325784ed6f197b11b7ffcbc8fb\n""}, {'number': 2, 'created': '2015-01-02 02:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ce4aed99f7b20bc05702c1e2a33cedeb0860a67f', 'message': ""Refactor role assignment assertions\n\nRefactor assertValidRoleAssignment(..) in order\nto do a clearer comparison between 'actual' and\n'ref'. In addition, ensure that all required\nentities have 'id' info (added for role, for ex).\n\nPartial-Bug: 1406640\n\nChange-Id: I5d7d79bfa8d5b9325784ed6f197b11b7ffcbc8fb\n""}, {'number': 3, 'created': '2015-01-12 17:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/99c116ef43015384deafb20f557a79adad171f4b', 'message': ""Refactor role assignment assertions\n\nRefactor assertValidRoleAssignment(..) in order\nto do a clearer comparison between 'actual' and\n'ref'. In addition, ensure that all required\nentities have 'id' info (added for role, for ex).\n\nPartial-Bug: 1406640\n\nChange-Id: I5d7d79bfa8d5b9325784ed6f197b11b7ffcbc8fb\n""}, {'number': 4, 'created': '2015-01-12 21:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f007d8cc54fb7275d55adad0ddb6b3a787472949', 'message': ""Refactor role assignment assertions\n\nRefactor assertValidRoleAssignment(..) in order\nto do a clearer comparison between 'actual' and\n'ref'. In addition, ensure that all required\nentities have 'id' info (added for role, for ex).\n\nPartial-Bug: 1406640\n\nChange-Id: I5d7d79bfa8d5b9325784ed6f197b11b7ffcbc8fb\n""}, {'number': 5, 'created': '2015-01-15 23:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/be8ac871f778057a8cab2eb519b80e5f5c89a223', 'message': ""Refactor role assignment assertions\n\nRefactor assertValidRoleAssignment(..) in order\nto do a clearer comparison between 'actual' and\n'ref'. In addition, ensure that all required\nentities have 'id' info (added for role, for ex).\n\nPartial-Bug: 1406640\n\nChange-Id: I5d7d79bfa8d5b9325784ed6f197b11b7ffcbc8fb\n""}, {'number': 6, 'created': '2015-01-15 23:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/dcf8bec06fd50db4124e7065cb5ba3ee05660225', 'message': ""Refactor role assignment assertions\n\nRefactor assertValidRoleAssignment(..) in order\nto do a clearer comparison between 'actual' and\n'ref'. In addition, ensure that all required\nentities have 'id' info (added for role, for ex).\n\nPartial-Bug: 1406640\n\nChange-Id: I5d7d79bfa8d5b9325784ed6f197b11b7ffcbc8fb\n""}, {'number': 7, 'created': '2015-01-16 20:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/819451de0a733eefe90a7235d2333d2f2cd349fb', 'message': ""Refactor role assignment assertions\n\nRefactor assertValidRoleAssignment(..) in order\nto do a clearer comparison between 'actual' and\n'ref'. In addition, ensure that all required\nentities have 'id' info (added for role, for ex).\n\nPartial-Bug: 1406640\n\nChange-Id: I5d7d79bfa8d5b9325784ed6f197b11b7ffcbc8fb\n""}, {'number': 8, 'created': '2015-01-18 18:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/61dbdd8cb1500c41632a69b7ec770cd211e2170c', 'message': ""Refactor role assignment assertions\n\nRefactor assertValidRoleAssignment(..) in order\nto do a clearer comparison between 'actual' and\n'ref'. In addition, ensure that all required\nentities have 'id' info (added for role, for ex).\n\nPartial-Bug: 1406640\n\nChange-Id: I5d7d79bfa8d5b9325784ed6f197b11b7ffcbc8fb\n""}, {'number': 9, 'created': '2015-01-21 12:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2f532c6481a94b0deae3a8d4c5d92540ba0bf2a1', 'message': ""Refactor role assignment assertions\n\nRefactor assertValidRoleAssignment(..) in order\nto do a clearer comparison between 'actual' and\n'ref'. In addition, ensure that all required\nentities have 'id' info (added for role, for ex).\n\nPartial-Bug: 1406640\n\nChange-Id: I5d7d79bfa8d5b9325784ed6f197b11b7ffcbc8fb\n""}, {'number': 10, 'created': '2015-01-27 10:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/316008041a81163deec765b5d54e8ff1c9c60c1e', 'message': ""Refactor role assignment assertions\n\nRefactor assertValidRoleAssignment(..) in order\nto do a clearer comparison between 'actual' and\n'ref'. In addition, ensure that all required\nentities have 'id' info (added for role, for ex).\n\nPartial-Bug: 1406640\n\nChange-Id: I5d7d79bfa8d5b9325784ed6f197b11b7ffcbc8fb\n""}, {'number': 11, 'created': '2015-01-28 15:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9ebf0b48db5df95bccc0b5b5bb8f0a4da06f6d3e', 'message': ""Refactor role assignment assertions\n\nRefactor assertValidRoleAssignment(..) in order\nto do a clearer comparison between 'actual' and\n'ref'. In addition, ensure that all required\nentities have 'id' info (added for role, for ex).\n\nPartial-Bug: 1406640\n\nChange-Id: I5d7d79bfa8d5b9325784ed6f197b11b7ffcbc8fb\n""}, {'number': 12, 'created': '2015-02-02 10:10:34.000000000', 'files': ['keystone/tests/test_v3.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/189011b456a1a8cd96c81b1ebdfca857e00a3c36', 'message': ""Refactor role assignment assertions\n\nRefactor assertValidRoleAssignment(..) in order\nto do a clearer comparison between 'actual' and\n'ref'. In addition, ensure that all required\nentities have 'id' info (added for role, for ex).\n\nPartial-Bug: 1406640\n\nChange-Id: I5d7d79bfa8d5b9325784ed6f197b11b7ffcbc8fb\n""}]",21,144543,189011b456a1a8cd96c81b1ebdfca857e00a3c36,49,9,12,9142,,,0,"Refactor role assignment assertions

Refactor assertValidRoleAssignment(..) in order
to do a clearer comparison between 'actual' and
'ref'. In addition, ensure that all required
entities have 'id' info (added for role, for ex).

Partial-Bug: 1406640

Change-Id: I5d7d79bfa8d5b9325784ed6f197b11b7ffcbc8fb
",git fetch https://review.opendev.org/openstack/keystone refs/changes/43/144543/8 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/test_v3.py'],1,9b96cf21b20ae4e7c384d1c492a11dbdb58b1f44,bug/1406640," def assertDictContainsSubset(self, expected, actual): for k, v in expected.iteritems(): self.assertIn(k, actual) if isinstance(v, dict): self.assertDictContainsSubset(v, actual[k]) else: self.assertEqual(v, actual[k]) # A scope AND a role should be present s, r = entity.get('scope'), entity.get('role') self.assertIsNotNone(s and (r and r.get('id'))) # A user XOR a group should be present u, g = entity.get('user'), entity.get('group') self.assertTrue(bool(u and u.get('id')) ^ bool(g and g.get('id'))) # A domain XOR a project should be present p, d = s.get('project'), s.get('domain') self.assertTrue(bool(p and p.get('id')) ^ bool(d and d.get('id'))) # A link to the assignment should be present l = entity.get('links') self.assertIsNotNone(l and l.get('assignment')) links = ref.pop('links', None) try: self.assertDictContainsSubset(ref, entity) finally: if links: ref['links'] = links if url: self.assertIn(url, l['assignment'])"," self.assertIsNotNone(entity.get('role')) self.assertIsNotNone(entity.get('scope')) # Only one of user or group should be present self.assertIsNotNone(entity.get('user') or entity.get('group')) self.assertIsNone(entity.get('user') and entity.get('group')) # Only one of domain or project should be present self.assertIsNotNone(entity['scope'].get('project') or entity['scope'].get('domain')) self.assertIsNone(entity['scope'].get('project') and entity['scope'].get('domain')) if entity['scope'].get('project'): self.assertIsNotNone(entity['scope']['project'].get('id')) else: self.assertIsNotNone(entity['scope']['domain'].get('id')) self.assertIsNotNone(entity.get('links')) self.assertIsNotNone(entity['links'].get('assignment')) if ref.get('user'): self.assertEqual(ref['user']['id'], entity['user']['id']) if ref.get('group'): self.assertEqual(ref['group']['id'], entity['group']['id']) if ref.get('role'): self.assertEqual(ref['role']['id'], entity['role']['id']) if ref['scope'].get('project'): self.assertEqual(ref['scope']['project']['id'], entity['scope']['project']['id']) if ref['scope'].get('domain'): self.assertEqual(ref['scope']['domain']['id'], entity['scope']['domain']['id']) if ref['scope'].get('OS-INHERIT:inherited_to'): self.assertEqual(ref['scope']['OS-INHERIT:inherited_to'], entity['scope']['OS-INHERIT:inherited_to']) if url: self.assertIn(url, entity['links']['assignment'])",28,35
openstack%2Fkeystone~master~I973eb4d1526122c3a2f5fba2d196918b8f06a60b,openstack/keystone,master,I973eb4d1526122c3a2f5fba2d196918b8f06a60b,Add positive test case for content types,MERGED,2014-10-23 16:28:13.000000000,2015-02-03 07:42:41.000000000,2015-02-03 07:42:40.000000000,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 6486}, {'_account_id': 13478}]","[{'number': 1, 'created': '2014-10-23 16:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8536af54f631bf0c8b78ef9802dce094c1d6667f', 'message': 'Add positive test case for content types\n\nWhen removing the XML support from Keystone. It was suggesting in review\nthat a positive test case be added to test_content_types.py for boolean\n`enabled`.\n\nChange-Id: I973eb4d1526122c3a2f5fba2d196918b8f06a60b\n'}, {'number': 2, 'created': '2014-10-23 16:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c42b777266c4b670d164e8ddb84a8b628963e33e', 'message': 'Add positive test case for content types\n\nWhen removing the XML support from Keystone. It was suggesting in\nreview that a positive test case be added to test_content_types.py\nfor boolean `enabled`.\n\nChange-Id: I973eb4d1526122c3a2f5fba2d196918b8f06a60b\n'}, {'number': 3, 'created': '2014-11-11 20:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d4ad90826201fa1a872fa4173200cfe493b3caa2', 'message': 'Add positive test case for content types\n\nWhen removing the XML support from Keystone. It was suggesting in\nreview that a positive test case be added to test_content_types.py\nfor boolean `enabled`.\n\nChange-Id: I973eb4d1526122c3a2f5fba2d196918b8f06a60b\n'}, {'number': 4, 'created': '2014-12-02 14:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4dbe7b2b671b29e05fb03543f755d9f5cfadddba', 'message': 'Add positive test case for content types\n\nWhen removing the XML support from Keystone. It was suggesting in\nreview that a positive test case be added to test_content_types.py\nfor boolean `enabled`.\n\nChange-Id: I973eb4d1526122c3a2f5fba2d196918b8f06a60b\n'}, {'number': 5, 'created': '2014-12-12 21:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6f648e63cc079c6ec950249337513500a48b9617', 'message': 'Add positive test case for content types\n\nWhen removing the XML support from Keystone. It was suggesting in\nreview that a positive test case be added to test_content_types.py\nfor boolean `enabled`.\n\nChange-Id: I973eb4d1526122c3a2f5fba2d196918b8f06a60b\n'}, {'number': 6, 'created': '2014-12-13 16:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7406132136a1e0f7dac89f6b6f6f4588f2e3a8ed', 'message': 'Add positive test case for content types\n\nWhen removing the XML support from Keystone. It was suggesting in\nreview that a positive test case be added to test_content_types.py\nfor boolean `enabled`.\n\nChange-Id: I973eb4d1526122c3a2f5fba2d196918b8f06a60b\n'}, {'number': 7, 'created': '2014-12-17 13:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0f3720d6c61e1671b33f44723d0e3432e6d267fc', 'message': 'Add positive test case for content types\n\nThe case here was previously untested and brought up in a previous review.\n\nChange-Id: I973eb4d1526122c3a2f5fba2d196918b8f06a60b\n'}, {'number': 8, 'created': '2015-01-02 18:31:36.000000000', 'files': ['keystone/tests/test_content_types.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/ffd8e5a81b40450854a1decadbcfd0ef9c827980', 'message': 'Add positive test case for content types\n\nThe case here was previously untested and brought up in a previous review.\n\nChange-Id: I973eb4d1526122c3a2f5fba2d196918b8f06a60b\n'}]",4,130591,ffd8e5a81b40450854a1decadbcfd0ef9c827980,24,5,8,5046,,,0,"Add positive test case for content types

The case here was previously untested and brought up in a previous review.

Change-Id: I973eb4d1526122c3a2f5fba2d196918b8f06a60b
",git fetch https://review.opendev.org/openstack/keystone refs/changes/91/130591/7 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/test_content_types.py'],1,8536af54f631bf0c8b78ef9802dce094c1d6667f,bp/removed-as-of-kilo," def test_create_update_user_valid_enabled_type(self): # Enforce usage of boolean for 'enabled' field token = self.get_scoped_token() # Test CREATE request self.admin_request(method='POST', path='/v2.0/users', body={ 'user': { 'name': uuid.uuid4().hex, 'password': uuid.uuid4().hex, 'enabled': False, }, }, token=token, expected_status=200) ",,17,0
openstack%2Fneutron~master~I4fc5207a9ec74c770c3e0cac14daed10000bb2b7,openstack/neutron,master,I4fc5207a9ec74c770c3e0cac14daed10000bb2b7,"NSX DB models split, part 3 (and final)",MERGED,2015-02-02 18:04:09.000000000,2015-02-03 07:36:35.000000000,2015-02-03 07:36:34.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 12040}, {'_account_id': 14212}]","[{'number': 1, 'created': '2015-02-02 18:04:09.000000000', 'files': ['neutron/plugins/vmware/dbexts/nsx_models.py', 'neutron/plugins/vmware/dbexts/qos_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e566c9f4e2ea43f64a4047680134984fd5198bd8', 'message': 'NSX DB models split, part 3 (and final)\n\nMove data models for the QoS extensions into\nneutron.plugins.vmware.dbexts.nsx_models\n\nThis patch is part of a set of minor refactorings in the NSX plugin\nwhich will then lead to a semi-full decomposition by the end of\nthe Kilo release cycle.\n\nRelated-to blueprint core-vendor-decomposition\n\nChange-Id: I4fc5207a9ec74c770c3e0cac14daed10000bb2b7\n'}]",0,152216,e566c9f4e2ea43f64a4047680134984fd5198bd8,19,14,1,261,,,0,"NSX DB models split, part 3 (and final)

Move data models for the QoS extensions into
neutron.plugins.vmware.dbexts.nsx_models

This patch is part of a set of minor refactorings in the NSX plugin
which will then lead to a semi-full decomposition by the end of
the Kilo release cycle.

Related-to blueprint core-vendor-decomposition

Change-Id: I4fc5207a9ec74c770c3e0cac14daed10000bb2b7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/152216/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/vmware/dbexts/nsx_models.py', 'neutron/plugins/vmware/dbexts/qos_db.py']",2,e566c9f4e2ea43f64a4047680134984fd5198bd8,bp/core-vendor-decomposition,"from neutron.plugins.vmware.dbexts import nsx_models qos_queue = nsx_models.QoSQueue( id=q.get('id', uuidutils.generate_uuid()), name=q.get('name'), tenant_id=q['tenant_id'], default=q.get('default'), min=q.get('min'), max=q.get('max'), qos_marking=q.get('qos_marking'), dscp=q.get('dscp')) return self._get_by_id(context, nsx_models.QoSQueue, queue_id) return self._get_collection(context, nsx_models.QoSQueue, context.session.add(nsx_models.PortQueueMapping( port_id=port_data['id'], return self._get_collection(context, nsx_models.PortQueueMapping, query = self._model_query(context, nsx_models.PortQueueMapping) try: binding = query.filter( nsx_models.PortQueueMapping.port_id == port_id).one() nsx_models.NetworkQueueMapping(network_id=net_data['id'], queue_id=queue_id)) return self._get_collection(context, nsx_models.NetworkQueueMapping, query = self._model_query(context, nsx_models.NetworkQueueMapping)","import sqlalchemy as sa from sqlalchemy import ormfrom sqlalchemy import sqlfrom neutron.db import model_baseclass QoSQueue(model_base.BASEV2, models_v2.HasId, models_v2.HasTenant): name = sa.Column(sa.String(255)) default = sa.Column(sa.Boolean, default=False, server_default=sql.false()) min = sa.Column(sa.Integer, nullable=False) max = sa.Column(sa.Integer, nullable=True) qos_marking = sa.Column(sa.Enum('untrusted', 'trusted', name='qosqueues_qos_marking')) dscp = sa.Column(sa.Integer) class PortQueueMapping(model_base.BASEV2): port_id = sa.Column(sa.String(36), sa.ForeignKey(""ports.id"", ondelete=""CASCADE""), primary_key=True) queue_id = sa.Column(sa.String(36), sa.ForeignKey(""qosqueues.id""), primary_key=True) # Add a relationship to the Port model adding a backref which will # allow SQLAlchemy for eagerly load the queue binding port = orm.relationship( models_v2.Port, backref=orm.backref(""qos_queue"", uselist=False, cascade='delete', lazy='joined')) class NetworkQueueMapping(model_base.BASEV2): network_id = sa.Column(sa.String(36), sa.ForeignKey(""networks.id"", ondelete=""CASCADE""), primary_key=True) queue_id = sa.Column(sa.String(36), sa.ForeignKey(""qosqueues.id"", ondelete=""CASCADE"")) # Add a relationship to the Network model adding a backref which will # allow SQLAlcremy for eagerly load the queue binding network = orm.relationship( models_v2.Network, backref=orm.backref(""qos_queue"", uselist=False, cascade='delete', lazy='joined')) qos_queue = QoSQueue(id=q.get('id', uuidutils.generate_uuid()), name=q.get('name'), tenant_id=q['tenant_id'], default=q.get('default'), min=q.get('min'), max=q.get('max'), qos_marking=q.get('qos_marking'), dscp=q.get('dscp')) return self._get_by_id(context, QoSQueue, queue_id) return self._get_collection(context, QoSQueue, context.session.add(PortQueueMapping(port_id=port_data['id'], return self._get_collection(context, PortQueueMapping, query = self._model_query(context, PortQueueMapping) try: binding = query.filter(PortQueueMapping.port_id == port_id).one() NetworkQueueMapping(network_id=net_data['id'], queue_id=queue_id)) return self._get_collection(context, NetworkQueueMapping, query = self._model_query(context, NetworkQueueMapping)",65,65
openstack%2Fneutron~master~I0faba801b90893d949655e895899dd6aa0da6d96,openstack/neutron,master,I0faba801b90893d949655e895899dd6aa0da6d96,"NSX DB models split, part 2",MERGED,2015-02-02 17:52:30.000000000,2015-02-03 07:36:23.000000000,2015-02-03 07:36:21.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 12040}, {'_account_id': 14212}]","[{'number': 1, 'created': '2015-02-02 17:52:30.000000000', 'files': ['neutron/plugins/vmware/dbexts/maclearning.py', 'neutron/plugins/vmware/dbexts/nsx_models.py', 'neutron/plugins/vmware/dbexts/lsn_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/74623fee4bf4dec356ee48efde50f3af35691897', 'message': 'NSX DB models split, part 2\n\nMove models for mac learning and logical services extensions\ninto the module neutron.plugins.vmware.dbexts.nsx_models\n\nThis patch is part of a set of minor refactorings in the NSX plugin\nwhich will then lead to a semi-full decomposition by the end of\nthe Kilo release cycle.\n\nRelated-to blueprint core-vendor-decomposition\n\nChange-Id: I0faba801b90893d949655e895899dd6aa0da6d96\n'}]",0,152212,74623fee4bf4dec356ee48efde50f3af35691897,20,15,1,261,,,0,"NSX DB models split, part 2

Move models for mac learning and logical services extensions
into the module neutron.plugins.vmware.dbexts.nsx_models

This patch is part of a set of minor refactorings in the NSX plugin
which will then lead to a semi-full decomposition by the end of
the Kilo release cycle.

Related-to blueprint core-vendor-decomposition

Change-Id: I0faba801b90893d949655e895899dd6aa0da6d96
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/152212/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/vmware/dbexts/maclearning.py', 'neutron/plugins/vmware/dbexts/nsx_models.py', 'neutron/plugins/vmware/dbexts/lsn_db.py']",3,74623fee4bf4dec356ee48efde50f3af35691897,bp/core-vendor-decomposition,"from neutron.plugins.vmware.dbexts import nsx_models lsn = nsx_models.Lsn(network_id, lsn_id) context.session.query(nsx_models.Lsn).filter_by(lsn_id=lsn_id).delete() context.session.query(nsx_models.Lsn).filter_by( net_id=network_id).delete() query = context.session.query(nsx_models.Lsn) lsn_port = nsx_models.LsnPort(lsn_port_id, subnet_id, mac, lsn_id) return (context.session.query(nsx_models.LsnPort). return (context.session.query(nsx_models.LsnPort). (context.session.query(nsx_models.LsnPort).","from sqlalchemy import Column from sqlalchemy import ForeignKeyfrom sqlalchemy import String from neutron.db import models_v2class LsnPort(models_v2.model_base.BASEV2): __tablename__ = 'lsn_port' lsn_port_id = Column(String(36), primary_key=True) lsn_id = Column(String(36), ForeignKey('lsn.lsn_id', ondelete=""CASCADE""), nullable=False) sub_id = Column(String(36), nullable=False, unique=True) mac_addr = Column(String(32), nullable=False, unique=True) def __init__(self, lsn_port_id, subnet_id, mac_address, lsn_id): self.lsn_port_id = lsn_port_id self.lsn_id = lsn_id self.sub_id = subnet_id self.mac_addr = mac_address class Lsn(models_v2.model_base.BASEV2): __tablename__ = 'lsn' lsn_id = Column(String(36), primary_key=True) net_id = Column(String(36), nullable=False) def __init__(self, net_id, lsn_id): self.net_id = net_id self.lsn_id = lsn_id lsn = Lsn(network_id, lsn_id) context.session.query(Lsn).filter_by(lsn_id=lsn_id).delete() context.session.query(Lsn).filter_by(net_id=network_id).delete() query = context.session.query(Lsn) lsn_port = LsnPort(lsn_port_id, subnet_id, mac, lsn_id) return (context.session.query(LsnPort). return (context.session.query(LsnPort). (context.session.query(LsnPort).",62,64
openstack%2Fkeystone~master~Ie81eaa621b4517da1a00a723503ea4b8cbe84b8e,openstack/keystone,master,Ie81eaa621b4517da1a00a723503ea4b8cbe84b8e,Remove local conf information from paste-ini,MERGED,2014-11-13 07:23:37.000000000,2015-02-03 07:28:33.000000000,2015-02-03 07:28:31.000000000,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 6486}, {'_account_id': 8871}, {'_account_id': 9101}, {'_account_id': 9142}, {'_account_id': 11022}, {'_account_id': 13055}, {'_account_id': 13063}, {'_account_id': 13478}, {'_account_id': 14248}]","[{'number': 1, 'created': '2014-11-13 07:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a6d05cfe9332784911c01d1d150e6bc3005e7f3c', 'message': 'Remove local conf information from paste-ini\n\nSince Keystone\'s paste.deploy configuration file has been separated\nfrom main Keystone configuration file, ""keystone.conf"", all of\nlocal configuration or driver-specific configuration parameters\nshould go to main Keystone configuration file instead of PasteDeploy\nconf file, i.e. configuration within the ""keystone-paste.ini""\nis not (and will not) be supported.\n\nThis patch set intent to remove the legacy code which may cause user\nconfusion when some newbies start to work and deploy keystone\nservice in OpenStack.\n\nThis patch is doc specific changes in order to make usage more\nclear, code specific change is submitted in another patch(134124).\n\nDocImpact\nPartial-Bug: #1369388\n\nChange-Id: Ie81eaa621b4517da1a00a723503ea4b8cbe84b8e\n'}, {'number': 2, 'created': '2014-11-18 02:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/114ddc8cec58700cf96ad56ccd741eae6bb70ed8', 'message': 'Remove local conf information from paste-ini\n\nSince Keystone\'s PasteDeploy configuration file has been separated\nfrom main Keystone configuration file, ""keystone.conf"", all of\nlocal configuration or driver-specific configuration parameters\nshould go to main Keystone configuration file instead of PasteDeploy\nconf file, i.e. configuration within the ""keystone-paste.ini""\nis not (and will not be) supported.\n\nThis patch is doc specific changes in order to make usage more\nclear, code specific change is submitted in another patch(134124).\n\nDocImpact\nPartial-Bug: #1369388\n\nChange-Id: Ie81eaa621b4517da1a00a723503ea4b8cbe84b8e\n'}, {'number': 3, 'created': '2014-12-08 05:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b623a4f56946ce96695eb88efb8fe2ad9d2a3b41', 'message': 'Remove local conf information from paste-ini\n\nSince Keystone\'s PasteDeploy configuration file has been separated\nfrom the main Keystone configuration file, ""keystone.conf"", all\nlocal configuration or driver-specific configuration parameters\nmust go in the main Keystone configuration file instead of PasteDeploy\nconf file, i.e. configuration in ""keystone-paste.ini"" is not supported.\n\nThis patch is doc specific changes in order to make usage more\nclear, code specific change is submitted in another patch(134124).\n\nDocImpact\nPartial-Bug: #1369388\n\nChange-Id: Ie81eaa621b4517da1a00a723503ea4b8cbe84b8e\n'}, {'number': 4, 'created': '2014-12-19 02:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5739d7ba6521d4340cf1f3ca1d084dc3483d7d11', 'message': 'Remove local conf information from paste-ini\n\nSince Keystone\'s PasteDeploy configuration file has been separated\nfrom the main Keystone configuration file, ""keystone.conf"", all\nlocal configuration or driver-specific configuration parameters\nmust go in the main Keystone configuration file instead of PasteDeploy\nconf file, i.e. configuration in ""keystone-paste.ini"" is not supported.\n\nThis patch is doc specific changes in order to make usage more\nclear, code specific change is submitted in another patch(134124).\n\nDocImpact\nPartial-Bug: #1369388\n\nChange-Id: Ie81eaa621b4517da1a00a723503ea4b8cbe84b8e\n'}, {'number': 5, 'created': '2015-01-14 02:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a060e0520be91d251ee4ac378bc693d1d70d3f40', 'message': 'Remove local conf information from paste-ini\n\nSince Keystone\'s PasteDeploy configuration file has been separated\nfrom the main Keystone configuration file, ""keystone.conf"", all\nlocal configuration or driver-specific configuration parameters\nmust go in the main Keystone configuration file instead of PasteDeploy\nconf file, i.e. configuration in ""keystone-paste.ini"" is not supported.\n\nThis patch is doc specific changes in order to make usage more\nclear, code specific change is submitted in another patch(134124).\n\nDocImpact\nPartial-Bug: #1369388\n\nChange-Id: Ie81eaa621b4517da1a00a723503ea4b8cbe84b8e\n'}, {'number': 6, 'created': '2015-01-28 08:45:23.000000000', 'files': ['doc/source/configuration.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/fd92c3848bf4ae3dc823690759a54fd7675afccc', 'message': 'Remove local conf information from paste-ini\n\nSince keystone\'s PasteDeploy configuration file has been separated\nfrom the main keystone configuration file, ""keystone.conf"", all\nlocal configuration or driver-specific configuration parameters\nmust go in the main keystone configuration file instead of PasteDeploy\nconf file, i.e. configuration in ""keystone-paste.ini"" is not supported.\n\nThis patch is doc specific changes in order to make usage more\nclear, code specific change is submitted in another\npatch(https://review.openstack.org/#/c/134124/).\n\nDocImpact\nPartial-Bug: #1369388\n\nChange-Id: Ie81eaa621b4517da1a00a723503ea4b8cbe84b8e\n'}]",17,134125,fd92c3848bf4ae3dc823690759a54fd7675afccc,38,11,6,13063,,,0,"Remove local conf information from paste-ini

Since keystone's PasteDeploy configuration file has been separated
from the main keystone configuration file, ""keystone.conf"", all
local configuration or driver-specific configuration parameters
must go in the main keystone configuration file instead of PasteDeploy
conf file, i.e. configuration in ""keystone-paste.ini"" is not supported.

This patch is doc specific changes in order to make usage more
clear, code specific change is submitted in another
patch(https://review.openstack.org/#/c/134124/).

DocImpact
Partial-Bug: #1369388

Change-Id: Ie81eaa621b4517da1a00a723503ea4b8cbe84b8e
",git fetch https://review.opendev.org/openstack/keystone refs/changes/25/134125/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration.rst'],1,a6d05cfe9332784911c01d1d150e6bc3005e7f3c,bug_doc/1369388,"``keystone.conf``. .. NOTE:: Since Keystone's paste.deploy configuration file has been separated from main Keystone configuration file, ``keystone.conf``, all of local configuration or driver-specific configuration parameters should go to main Keystone configuration file instead of PasteDeploy configuration file, i.e. configuration within the ``keystone-paste.ini`` is not (and will not) be supported. The primary configuration file is organized into the following sections:",``keystone.conf``. The primary configuration file is organized into the following sections:,12,2
openstack%2Fkeystone~master~I5d2312dd20fe1adba06d4d603da805550d26be12,openstack/keystone,master,I5d2312dd20fe1adba06d4d603da805550d26be12,Implements subtree_as_ids query param,MERGED,2015-01-20 16:26:19.000000000,2015-02-03 07:28:22.000000000,2015-02-03 07:28:20.000000000,"[{'_account_id': 3}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5707}, {'_account_id': 6482}, {'_account_id': 8866}, {'_account_id': 9098}, {'_account_id': 9101}, {'_account_id': 9142}, {'_account_id': 9751}, {'_account_id': 10118}, {'_account_id': 11022}]","[{'number': 1, 'created': '2015-01-20 16:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/10a0bb6a3a562b98daac503b4ecbca5ad1b51daf', 'message': 'Implements subtree_ids query param\n\nThis change implements the subtree_ids query param. It gives the\npossibility to retrieve the subtree from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_in_subtree() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5d2312dd20fe1adba06d4d603da805550d26be12\n'}, {'number': 2, 'created': '2015-01-20 20:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/40442d6366b11467a5c858714da37c232a6a9ed8', 'message': 'Implements subtree_ids query param\n\nThis change implements the subtree_ids query param. It gives the\npossibility to retrieve the subtree from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_in_subtree() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5d2312dd20fe1adba06d4d603da805550d26be12\n'}, {'number': 3, 'created': '2015-01-20 22:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5b6e0c217eb4df3d45aab3de941f33330fe6afe8', 'message': 'Implements subtree_ids query param\n\nThis change implements the subtree_ids query param. It gives the\npossibility to retrieve the subtree from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_in_subtree() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5d2312dd20fe1adba06d4d603da805550d26be12\n'}, {'number': 4, 'created': '2015-01-21 12:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9341718a445010839fa5c23b25f10ab9e6cd110a', 'message': 'Implements subtree_ids query param\n\nThis change implements the subtree_ids query param. It gives the\npossibility to retrieve the subtree from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_in_subtree() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5d2312dd20fe1adba06d4d603da805550d26be12\n'}, {'number': 5, 'created': '2015-01-21 17:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/74512eadaf46cc219db4ec420832ea48e881983d', 'message': 'Implements subtree_as_ids query param\n\nThis change implements the subtree_as_ids query param. It gives the\npossibility to retrieve the subtree from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_in_subtree() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5d2312dd20fe1adba06d4d603da805550d26be12\n'}, {'number': 6, 'created': '2015-01-22 18:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c22d6006844beedbf72378de0c8ebe43afd5f9c5', 'message': 'Implements subtree_as_ids query param\n\nThis change implements the subtree_as_ids query param. It gives the\npossibility to retrieve the subtree from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_in_subtree() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5d2312dd20fe1adba06d4d603da805550d26be12\n'}, {'number': 7, 'created': '2015-01-26 16:31:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b9ee16e143fd3e4299116cf78d4b74fc35c53493', 'message': 'Implements subtree_as_ids query param\n\nThis change implements the subtree_as_ids query param. It gives the\npossibility to retrieve the subtree from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_in_subtree() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5d2312dd20fe1adba06d4d603da805550d26be12\n'}, {'number': 8, 'created': '2015-01-26 17:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8e908bf7bab1c1d738f9e098378c4fbbfae9afca', 'message': 'Implements subtree_as_ids query param\n\nThis change implements the subtree_as_ids query param. It gives the\npossibility to retrieve the subtree from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_in_subtree() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5d2312dd20fe1adba06d4d603da805550d26be12\n'}, {'number': 9, 'created': '2015-01-27 11:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a94aa89944e70eed0b4681a824abc0d761a086d9', 'message': 'Implements subtree_as_ids query param\n\nThis change implements the subtree_as_ids query param. It gives the\npossibility to retrieve the subtree from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_in_subtree() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5d2312dd20fe1adba06d4d603da805550d26be12\n'}, {'number': 10, 'created': '2015-01-27 20:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d366236fdaadd27ccb22f2baae631503711bae0b', 'message': 'Implements subtree_as_ids query param\n\nThis change implements the subtree_as_ids query param. It gives the\npossibility to retrieve the subtree from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_in_subtree() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5d2312dd20fe1adba06d4d603da805550d26be12\n'}, {'number': 11, 'created': '2015-01-27 22:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cf1a877fa52c1cbd7e99c5e386a4ccf5c900e1aa', 'message': 'Implements subtree_as_ids query param\n\nThis change implements the subtree_as_ids query param. It gives the\npossibility to retrieve the subtree from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_in_subtree() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5d2312dd20fe1adba06d4d603da805550d26be12\n'}, {'number': 12, 'created': '2015-01-28 17:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/95a9def88ee8353dce14f2401fbf545e02163c7d', 'message': 'Implements subtree_as_ids query param\n\nThis change implements the subtree_as_ids query param. It gives the\npossibility to retrieve the subtree from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_in_subtree() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5d2312dd20fe1adba06d4d603da805550d26be12\n'}, {'number': 13, 'created': '2015-01-29 18:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/87e16acd041a3ddded910d3b3fd97fecec0f874b', 'message': 'Implements subtree_as_ids query param\n\nThis change implements the subtree_as_ids query param. It gives the\npossibility to retrieve the subtree from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_in_subtree() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5d2312dd20fe1adba06d4d603da805550d26be12\n'}, {'number': 14, 'created': '2015-01-30 22:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/348f166a08433299f6f952e16195b6709a5d29f2', 'message': 'Implements subtree_as_ids query param\n\nThis change implements the subtree_as_ids query param. It gives the\npossibility to retrieve the subtree from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_in_subtree() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5d2312dd20fe1adba06d4d603da805550d26be12\n'}, {'number': 15, 'created': '2015-01-31 14:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/77a74791d36284e3a74ee99c2da5e9234e6aa3ee', 'message': 'Implements subtree_as_ids query param\n\nThis change implements the subtree_as_ids query param. It gives the\npossibility to retrieve the subtree from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_in_subtree() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5d2312dd20fe1adba06d4d603da805550d26be12\n'}, {'number': 16, 'created': '2015-02-02 17:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d1c1ce250c7812ca134815284569b1308f0d47ad', 'message': 'Implements subtree_as_ids query param\n\nThis change implements the subtree_as_ids query param. It gives the\npossibility to retrieve the subtree from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_in_subtree() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5d2312dd20fe1adba06d4d603da805550d26be12\n'}, {'number': 17, 'created': '2015-02-02 17:18:36.000000000', 'files': ['keystone/assignment/controllers.py', 'keystone/resource/core.py', 'keystone/tests/test_v3_assignment.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/f3218bb8f2a3f099c6592e6d9e965853e1aee67d', 'message': 'Implements subtree_as_ids query param\n\nThis change implements the subtree_as_ids query param. It gives the\npossibility to retrieve the subtree from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_in_subtree() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5d2312dd20fe1adba06d4d603da805550d26be12\n'}]",30,148618,f3218bb8f2a3f099c6592e6d9e965853e1aee67d,66,12,17,11022,,,0,"Implements subtree_as_ids query param

This change implements the subtree_as_ids query param. It gives the
possibility to retrieve the subtree from a project in a structured way
by using nested dictionaries.

It reuses the already implemented list_projects_in_subtree() method and
builds the dictionaries hierarchy using the returned list.

bp hierarchical-multitenancy-improvements

Change-Id: I5d2312dd20fe1adba06d4d603da805550d26be12
",git fetch https://review.opendev.org/openstack/keystone refs/changes/18/148618/7 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/resource/core.py', 'keystone/resource/controllers.py', 'keystone/tests/test_v3_assignment.py']",3,10a0bb6a3a562b98daac503b4ecbca5ad1b51daf,bp/hierarchical-multitenancy-improvements," def test_get_project_with_subtree_ids(self): """"""Call ``GET /projects/{project_id}?subtree_ids``. This test creates a more complex hierarchy to test if the structured dictionary returned by using the ``subtree_ids`` query param correctly represents the hierarchy. The hierarchy contains 4 projects with the following structure: A | B / \ C D """""" projects = self._create_projects_hierarchy(hierarchy_size=2) # Add another child to projects[1] new_ref = self.new_project_ref( domain_id=self.domain_id, parent_id=projects[1]['project']['id']) resp = self.post('/projects', body={'project': new_ref}) self.assertValidProjectResponse(resp, new_ref) projects.append(resp.result) # Query for projects[0] subtree_ids r = self.get( '/projects/%(project_id)s?subtree_ids' % { 'project_id': projects[0]['project']['id']}) subtree_ids = r.result['project']['subtree'] # projects[0] has only one direct child self.assertEqual(1, len(subtree_ids)) # The subtree hierarchy from projects[0] should have the following # structure: # { # projects[1]: { # projects[2]: None, # projects[3]: None # } # } expected_dict = { projects[1]['project']['id']: { projects[2]['project']['id']: None, projects[3]['project']['id']: None } } self.assertDictEqual(expected_dict, subtree_ids) # Now query for projects[1] subtree_ids r = self.get( '/projects/%(project_id)s?subtree_ids' % { 'project_id': projects[1]['project']['id']}) subtree_ids = r.result['project']['subtree'] # projects[1] has two direct childs self.assertEqual(2, len(subtree_ids)) # The subtree hierarchy from projects[1] should have the following # structure: # { # projects[2]: None, # projects[3]: None # } expected_dict = { projects[2]['project']['id']: None, projects[3]['project']['id']: None } self.assertDictEqual(expected_dict, subtree_ids) ",,112,0
openstack%2Fkeystone~master~I8e020bf4a63cabf653be95f46d70e8f58439d78d,openstack/keystone,master,I8e020bf4a63cabf653be95f46d70e8f58439d78d,add circular check when updating region,MERGED,2014-10-23 09:27:11.000000000,2015-02-03 07:28:12.000000000,2015-02-03 07:28:10.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 7725}, {'_account_id': 9101}, {'_account_id': 9751}, {'_account_id': 11022}]","[{'number': 1, 'created': '2014-10-23 09:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/59210d008b5d8ee0bee988e6a3819800773fb9db', 'message': 'add circular check when updating region\n\nNow, we can make a circle in hierarchical regions via updating region,\nthis can lead to endless loop when deleting region.\nAdd a check when updating region to ensure no circle in hierarchical\nregions. And, add a circular deletion check as well to delete already\nexist circular hierarchies.\n\nChange-Id: I8e020bf4a63cabf653be95f46d70e8f58439d78d\nCloses-Bug: #1383676\n'}, {'number': 2, 'created': '2014-10-23 10:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b834ac0d0542a55e734fe1e2f6d516b4cbd22efe', 'message': 'add circular check when updating region\n\nNow, we can make a circle in hierarchical regions via updating region,\nthis can lead to endless loop when deleting region.\nAdd a check when updating region to ensure no circle in hierarchical\nregions. And, add a circular deletion check as well to delete already\nexist circular hierarchies.\n\nChange-Id: I8e020bf4a63cabf653be95f46d70e8f58439d78d\nCloses-Bug: #1383676\n'}, {'number': 3, 'created': '2014-10-29 00:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/60fdd54d9e6b6e4bb37bd3ba8d8b69fd02c50c0a', 'message': 'add circular check when updating region\n\nNow, we can make a circle in hierarchical regions via updating region,\nthis can lead to endless loop when deleting region.\nAdd a check when updating region to ensure no circle in hierarchical\nregions. And, add a circular deletion check as well to delete already\nexist circular hierarchies.\n\nChange-Id: I8e020bf4a63cabf653be95f46d70e8f58439d78d\nCloses-Bug: #1383676\n'}, {'number': 4, 'created': '2014-12-08 02:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/17c9388493e95fdf3337cffd8f819e3a7d0f3a82', 'message': 'add circular check when updating region\n\nNow, we can make a circle in hierarchical regions via updating region,\nthis can lead to endless loop when deleting region.\nAdd a check when updating region to ensure no circle in hierarchical\nregions. And, add a circular deletion check as well to delete already\nexist circular hierarchies.\n\nChange-Id: I8e020bf4a63cabf653be95f46d70e8f58439d78d\nCloses-Bug: #1383676\n'}, {'number': 5, 'created': '2014-12-08 02:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e57729ca5f1364a41f6cd3e9579fba07cf19a613', 'message': 'add circular check when updating region\n\nNow, we can make a circle in hierarchical regions via updating region,\nthis can lead to endless loop when deleting region.\nAdd a check when updating region to ensure no circle in hierarchical\nregions. And, add a circular deletion check as well to delete already\nexist circular hierarchies.\n\nChange-Id: I8e020bf4a63cabf653be95f46d70e8f58439d78d\nCloses-Bug: #1383676\n'}, {'number': 6, 'created': '2014-12-16 22:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ee980e54671e5eb9859375ed0622648bae911404', 'message': 'add circular check when updating region\n\nNow, we can make a circle in hierarchical regions via updating region,\nthis can lead to endless loop when deleting region.\nAdd a check when updating region to ensure no circle in hierarchical\nregions. And, add a circular deletion check as well to delete already\nexist circular hierarchies.\n\nChange-Id: I8e020bf4a63cabf653be95f46d70e8f58439d78d\nCloses-Bug: #1383676\n'}, {'number': 7, 'created': '2014-12-16 22:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2b6ae39774ff9a95f2490ad805fda89e83f28e7e', 'message': 'add circular check when updating region\n\nNow, we can make a circle in hierarchical regions via updating region,\nthis can lead to endless loop when deleting region.\nAdd a check when updating region to ensure no circle in hierarchical\nregions. And, add a circular deletion check as well to delete already\nexist circular hierarchies.\n\nChange-Id: I8e020bf4a63cabf653be95f46d70e8f58439d78d\nCloses-Bug: #1383676\n'}, {'number': 8, 'created': '2014-12-17 03:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7ff4094de8b91419a755b7d34900efe294becabe', 'message': 'add circular check when updating region\n\nNow, we can make a circle in hierarchical regions via updating region,\nthis can lead to endless loop when deleting region.\nAdd a check when updating region to ensure no circle in hierarchical\nregions. And, add a circular deletion check as well to delete already\nexist circular hierarchies.\n\nChange-Id: I8e020bf4a63cabf653be95f46d70e8f58439d78d\nCloses-Bug: #1383676\n'}, {'number': 9, 'created': '2014-12-17 03:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e543fafef1ec100c9d0d3de263d5a4b5069e1be0', 'message': 'add circular check when updating region\n\nNow, we can make a circle in hierarchical regions via updating region,\nthis can lead to endless loop when deleting region.\nAdd a check when updating region to ensure no circle in hierarchical\nregions. And, add a circular deletion check as well to delete already\nexist circular hierarchies.\n\nChange-Id: I8e020bf4a63cabf653be95f46d70e8f58439d78d\nCloses-Bug: #1383676\n'}, {'number': 10, 'created': '2014-12-18 02:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d5008aaa32c414a375003b3c2b23fe87c3236840', 'message': 'add circular check when updating region\n\nNow, we can make a circle in hierarchical regions via updating region,\nthis can lead to endless loop when deleting region.\nAdd a check when updating region to ensure no circle in hierarchical\nregions. And, add a circular deletion check as well to delete already\nexist circular hierarchies.\n\nChange-Id: I8e020bf4a63cabf653be95f46d70e8f58439d78d\nCloses-Bug: #1383676\n'}, {'number': 11, 'created': '2014-12-19 06:45:48.000000000', 'files': ['keystone/catalog/backends/kvs.py', 'keystone/catalog/backends/sql.py', 'keystone/exception.py', 'keystone/catalog/core.py', 'keystone/tests/test_backend.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/35a2834aecdde5fff9a930c38dae678a91c7fa67', 'message': 'add circular check when updating region\n\nNow, we can make a circle in hierarchical regions via updating region,\nthis can lead to endless loop when deleting region.\nAdd a check when updating region to ensure no circle in hierarchical\nregions. And, add a circular deletion check as well to delete already\nexist circular hierarchies.\n\nChange-Id: I8e020bf4a63cabf653be95f46d70e8f58439d78d\nCloses-Bug: #1383676\n'}]",8,130474,35a2834aecdde5fff9a930c38dae678a91c7fa67,39,8,11,9101,,,0,"add circular check when updating region

Now, we can make a circle in hierarchical regions via updating region,
this can lead to endless loop when deleting region.
Add a check when updating region to ensure no circle in hierarchical
regions. And, add a circular deletion check as well to delete already
exist circular hierarchies.

Change-Id: I8e020bf4a63cabf653be95f46d70e8f58439d78d
Closes-Bug: #1383676
",git fetch https://review.opendev.org/openstack/keystone refs/changes/74/130474/11 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/catalog/backends/kvs.py', 'keystone/catalog/backends/sql.py', 'keystone/exception.py', 'keystone/catalog/core.py', 'keystone/tests/test_backend.py']",5,59210d008b5d8ee0bee988e6a3819800773fb9db,circular_check,"from keystone.catalog import core def test_can_not_create_circle_regions_via_region_update(self): region_one = self._create_region_with_parent_id() # self circle: region_one->region_one self.assertRaises(exception.CircularRegionHierarchyError, self.catalog_api.update_region, region_one['id'], {'parent_region_id': region_one['id']}) # region_one->reiong_two->region_one region_two = self._create_region_with_parent_id(region_one['id']) self.assertRaises(exception.CircularRegionHierarchyError, self.catalog_api.update_region, region_one['id'], {'parent_region_id': region_two['id']}) # region_one region_tow->region_three->region_four->region_two region_three = self._create_region_with_parent_id(region_two['id']) region_four = self._create_region_with_parent_id(region_three['id']) self.assertRaises(exception.CircularRegionHierarchyError, self.catalog_api.update_region, region_two['id'], {'parent_region_id': region_four['id']}) @mock.patch.object(core.Driver, ""_ensure_no_circle_in_hierarchical_regions"") def test_circular_regions_can_be_deleted(self, mock_ensure_on_circle): mock_ensure_on_circle.return_value = None region_one = self._create_region_with_parent_id() # self circle: region_one->region_one self.catalog_api.update_region( region_one['id'], {'parent_region_id': region_one['id']}) self.catalog_api.delete_region(region_one['id']) # region_one->region_two->region_one region_one = self._create_region_with_parent_id() region_two = self._create_region_with_parent_id(region_one['id']) self.catalog_api.update_region( region_one['id'], {'parent_region_id': region_two['id']}) self.catalog_api.delete_region(region_one['id']) self.assertRaises(exception.RegionNotFound, self.catalog_api.get_region, region_two['id']) # region_one->region_two->region_three->region_one region_one = self._create_region_with_parent_id() region_two = self._create_region_with_parent_id(region_one['id']) region_three = self._create_region_with_parent_id(region_two['id']) self.catalog_api.update_region( region_one['id'], {'parent_region_id': region_three['id']}) self.catalog_api.delete_region(region_two['id']) self.assertRaises(exception.RegionNotFound, self.catalog_api.get_region, region_one['id']) self.assertRaises(exception.RegionNotFound, self.catalog_api.get_region, region_three['id']) ",,112,11
openstack%2Fkeystone~master~I9ea0e28b4847eacaa072deb3246e7897e09a097e,openstack/keystone,master,I9ea0e28b4847eacaa072deb3246e7897e09a097e,Update federation config to use Service Providers,MERGED,2015-02-02 20:07:42.000000000,2015-02-03 07:28:02.000000000,2015-02-03 07:28:00.000000000,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 6482}, {'_account_id': 8978}, {'_account_id': 10118}, {'_account_id': 11022}]","[{'number': 1, 'created': '2015-02-02 20:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a34f1970070c7ce8b6a873a23d8fcb800e3777e6', 'message': 'Update federation config to use Service Providers\n\nCurrently, the documentation shows an example using the regions\ntable, which has been removed in favor of the Service Provider\nobject.\n\nbp k2k-service-providers\n\nChange-Id: I9ea0e28b4847eacaa072deb3246e7897e09a097e\n'}, {'number': 2, 'created': '2015-02-02 21:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b98e491b627964596385c87c8f94eb7e079dd8ba', 'message': 'Update federation config to use Service Providers\n\nCurrently, the documentation shows an example using the regions\ntable, which has been removed in favor of the Service Provider\nobject.\n\nbp k2k-service-providers\n\nChange-Id: I9ea0e28b4847eacaa072deb3246e7897e09a097e\n'}, {'number': 3, 'created': '2015-02-02 23:14:06.000000000', 'files': ['doc/source/configure_federation.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/f74c8c95a2482b2f3a7e00a38919a74600a0d074', 'message': 'Update federation config to use Service Providers\n\nCurrently, the documentation shows an example using the regions\ntable, which has been removed in favor of the Service Provider\nobject.\n\nbp k2k-service-providers\n\nChange-Id: I9ea0e28b4847eacaa072deb3246e7897e09a097e\n'}]",6,152260,f74c8c95a2482b2f3a7e00a38919a74600a0d074,15,6,3,11022,,,0,"Update federation config to use Service Providers

Currently, the documentation shows an example using the regions
table, which has been removed in favor of the Service Provider
object.

bp k2k-service-providers

Change-Id: I9ea0e28b4847eacaa072deb3246e7897e09a097e
",git fetch https://review.opendev.org/openstack/keystone refs/changes/60/152260/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configure_federation.rst'],1,a34f1970070c7ce8b6a873a23d8fcb800e3777e6,bp/k2k-service-providers,"Create a Service Provider (SP) ------------------------------ In this example we are creating a new Service Provider with an ID of ``BETA``, a ``sp_url`` of ``http://beta.example.com/Shibboleth.sso/POST/ECP`` and a ``auth_url`` of ``http://beta.example.com:5000/v3/OS-FEDERATION/identity_providers/beta/protocols/auth`` . The first URL will be used when creating a SAML assertion for ``BETA`` and signed by the current Keystone IdP. The second URL is used to retrieve the token for ``BETA`` once the SAML assertion is sent. -d '{""service_provider"": {""auth_url"": ""http://beta.example.com:5000/v3/OS-FEDERATION/identity_providers/beta/protocols/auth"", ""sp_url"": ""https://example.com:5000/Shibboleth.sso/SAML2/ECP""}' \ http://localhost:5000/v3/service_providers/BETA | python -mjson.tool -d '{""auth"": {""scope"": {""service_provider"": {""id"": ""BETA""}}, ""identity"": {""token"": {""id"": ""d793d935b9c343f783955cf39ee7dc3c""}, ""methods"": [""token""]}}}' \At this point the SAML Assertion can be sent to the Service Provider Keystone using the provided ``auth_url`` in the ``X-auth-url`` header present in the response containing the SAML Assertion, and a valid OpenStack token, issued by a Service Provider Keystone, will be returned. ","Create a region for the Service Provider (SP) --------------------------------------------- Create a new region for the service provider, in this example, we are creating a new region with an ID of ``BETA``, and URL of ``https://beta.com/Shibboleth.sso/SAML2/ECP``. This URL will be used when creating a SAML assertion for ``BETA``, and signed by the current Keystone IdP. -d '{""region"": {""url"": ""http://beta.com/Shibboleth.sso/SAML2/ECP""}}' \ http://localhost:5000/v3/regions/BETA | python -mjson.tool -d '{""auth"": {""scope"": {""region"": {""id"": ""BETA""}}, ""identity"": {""token"": {""id"": ""d793d935b9c343f783955cf39ee7dc3c""}, ""methods"": [""token""]}}}' \At this point the SAML Assertion can be sent to the Service Provider Keystone, and a valid OpenStack token, issued by a Service Provider Keystone, will be returned.",16,12
openstack%2Fkeystone~master~I916ded957208a79ad92e0924464fb112ce9ac2cc,openstack/keystone,master,I916ded957208a79ad92e0924464fb112ce9ac2cc,Drop URL field from region table,MERGED,2015-01-26 19:35:08.000000000,2015-02-03 07:23:56.000000000,2015-02-03 07:23:55.000000000,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 6482}, {'_account_id': 8978}, {'_account_id': 10118}, {'_account_id': 11022}]","[{'number': 1, 'created': '2015-01-26 19:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/297791e2955fbf1ba2622c3f289eb1e7084edab3', 'message': 'Drop URL field from region table\n\nWith the advent of the service provider concept, there\nis no need to maintain the URL field from the regions\ntable since it was used only to map an external\nservice provider.\n\nbp k2k-service-providers\n\nChange-Id: I916ded957208a79ad92e0924464fb112ce9ac2cc\n'}, {'number': 2, 'created': '2015-01-26 19:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/412b5d119a58f95f0636ad3783fdd5d5ac204c99', 'message': 'Drop URL field from region table\n\nWith the advent of the service provider concept, there\nis no need to maintain the URL field from the regions\ntable since it was used only to map an external\nservice provider.\n\nbp k2k-service-providers\n\nChange-Id: I916ded957208a79ad92e0924464fb112ce9ac2cc\n'}, {'number': 3, 'created': '2015-02-02 19:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e687bff5cc0e6847b34870596c896103bcbda2fa', 'message': 'Drop URL field from region table\n\nWith the advent of the service provider concept, there\nis no need to maintain the URL field from the regions\ntable since it was used only to map an external\nservice provider.\n\nbp k2k-service-providers\n\nChange-Id: I916ded957208a79ad92e0924464fb112ce9ac2cc\n'}, {'number': 4, 'created': '2015-02-02 20:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1ebbdcebab76c90bafc43dee4d79735359da2f91', 'message': 'Drop URL field from region table\n\nWith the advent of the service provider concept, there\nis no need to maintain the URL field from the regions\ntable since it was used only to map an external\nservice provider.\n\nbp k2k-service-providers\n\nChange-Id: I916ded957208a79ad92e0924464fb112ce9ac2cc\n'}, {'number': 5, 'created': '2015-02-02 23:13:27.000000000', 'files': ['keystone/catalog/schema.py', 'keystone/common/sql/migrate_repo/versions/063_drop_region_auth_url.py', 'keystone/tests/test_v3_catalog.py', 'keystone/catalog/backends/kvs.py', 'keystone/catalog/backends/sql.py', 'keystone/tests/test_sql_upgrade.py', 'keystone/tests/test_validation.py', 'keystone/tests/test_backend.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/45346ce7b350b29efbb14dc8a46ac2131b24ffdd', 'message': 'Drop URL field from region table\n\nWith the advent of the service provider concept, there\nis no need to maintain the URL field from the regions\ntable since it was used only to map an external\nservice provider.\n\nbp k2k-service-providers\n\nChange-Id: I916ded957208a79ad92e0924464fb112ce9ac2cc\n'}]",0,150122,45346ce7b350b29efbb14dc8a46ac2131b24ffdd,21,6,5,11022,,,0,"Drop URL field from region table

With the advent of the service provider concept, there
is no need to maintain the URL field from the regions
table since it was used only to map an external
service provider.

bp k2k-service-providers

Change-Id: I916ded957208a79ad92e0924464fb112ce9ac2cc
",git fetch https://review.opendev.org/openstack/keystone refs/changes/22/150122/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/catalog/schema.py', 'keystone/common/sql/migrate_repo/versions/063_drop_region_auth_url.py', 'keystone/tests/test_v3_catalog.py', 'keystone/catalog/backends/kvs.py', 'keystone/catalog/backends/sql.py', 'keystone/tests/test_sql_upgrade.py', 'keystone/tests/test_validation.py', 'keystone/tests/test_backend.py']",8,297791e2955fbf1ba2622c3f289eb1e7084edab3,bp/k2k-service-providers,, expected_region['url'] = None 'url': uuid.uuid4().hex,49,77
openstack%2Fkeystone~master~I5458ebb545edc3cdb0e44c297eb450a555f1e7a3,openstack/keystone,master,I5458ebb545edc3cdb0e44c297eb450a555f1e7a3,Create K2K SAML assertion from Service Provider,MERGED,2015-02-02 08:49:58.000000000,2015-02-03 07:23:46.000000000,2015-02-03 07:23:45.000000000,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 6482}, {'_account_id': 8978}, {'_account_id': 10118}, {'_account_id': 11022}]","[{'number': 1, 'created': '2015-02-02 08:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4d84d9067eda03d61d55383602b70616002f028a', 'message': 'Create K2K SAML assertion from service provider.\n\nWhen transforming project-scoped token to a SAML assertion we should\nread information from ``service_provider`` token attribute rather than\n``region``. Operation should be also accessible only for enabled service\nproviders.\n\nChange-Id: I5458ebb545edc3cdb0e44c297eb450a555f1e7a3\nPartially-Implements: bp k2k-service-providers\n'}, {'number': 2, 'created': '2015-02-02 10:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/43e7f7d14287e664f0258189d331df72a141aa9c', 'message': 'Create K2K SAML assertion from service provider.\n\nWhen transforming project-scoped token to a SAML assertion we should\nread information from ``service_provider`` token attribute rather than\n``region``. Operation should be also accessible only for enabled service\nproviders.\n\nChange-Id: I5458ebb545edc3cdb0e44c297eb450a555f1e7a3\nPartially-Implements: bp k2k-service-providers\n'}, {'number': 3, 'created': '2015-02-02 10:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/306b005e368857ccda540497604986f1c3fc6052', 'message': 'Create K2K SAML assertion from service provider\n\nWhen transforming project-scoped token to a SAML assertion we should\nread information from ``service_provider`` token attribute rather than\n``region``. Operation should be also accessible only for enabled service\nproviders.\n\nChange-Id: I5458ebb545edc3cdb0e44c297eb450a555f1e7a3\nPartially-Implements: bp k2k-service-providers\n'}, {'number': 4, 'created': '2015-02-02 11:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/bbcc242d4d1425c703d091cf9514bdd056a2df65', 'message': 'Create K2K SAML assertion from Service Provider\n\nWhen transforming project-scoped token to a SAML assertion we should\nread information from ``service_provider`` token attribute rather than\n``region``. Operation should be also accessible only for enabled service\nproviders.\n\nChange-Id: I5458ebb545edc3cdb0e44c297eb450a555f1e7a3\nPartially-Implements: bp k2k-service-providers\n'}, {'number': 5, 'created': '2015-02-02 11:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c074148bd8a677124ab99a3b021dd7b334e085d6', 'message': 'Create K2K SAML assertion from Service Provider\n\nWhen transforming project-scoped token to a SAML assertion we should\nread information from ``service_provider`` token attribute rather than\n``region``. Operation should be also accessible only for enabled service\nproviders.\n\nChange-Id: I5458ebb545edc3cdb0e44c297eb450a555f1e7a3\nPartially-Implements: bp k2k-service-providers\n'}, {'number': 6, 'created': '2015-02-02 13:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4c80e0de6a0aedd3e0421605b30701afbd23505b', 'message': 'Create K2K SAML assertion from Service Provider\n\nWhen transforming project-scoped token to a SAML assertion we should\nread information from ``service_provider`` token attribute rather than\n``region``. Operation should be also accessible only for enabled service\nproviders.\n\nChange-Id: I5458ebb545edc3cdb0e44c297eb450a555f1e7a3\nPartially-Implements: bp k2k-service-providers\n'}, {'number': 7, 'created': '2015-02-02 13:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7c320fc972e32709e97de0e5a8d62f897eecba89', 'message': 'Create K2K SAML assertion from Service Provider\n\nWhen transforming project-scoped token to a SAML assertion we should\nread information from ``service_provider`` token attribute rather than\n``region``. Operation should be also accessible only for enabled service\nproviders.\n\nChange-Id: I5458ebb545edc3cdb0e44c297eb450a555f1e7a3\nPartially-Implements: bp k2k-service-providers\n'}, {'number': 8, 'created': '2015-02-02 20:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e6ff4c2e1130f518f5f6cf1f4546049494c495b5', 'message': 'Create K2K SAML assertion from Service Provider\n\nWhen transforming project-scoped token to a SAML assertion we should\nread information from ``service_provider`` token attribute rather than\n``region``. Operation should be also accessible only for enabled service\nproviders.\n\nChange-Id: I5458ebb545edc3cdb0e44c297eb450a555f1e7a3\nPartially-Implements: bp k2k-service-providers\n'}, {'number': 9, 'created': '2015-02-02 23:12:56.000000000', 'files': ['keystone/contrib/federation/controllers.py', 'keystone/contrib/federation/schema.py', 'keystone/tests/test_v3_federation.py', 'keystone/contrib/federation/utils.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/2c096b961b7b891809b4d929ea7d827f59cfbf06', 'message': 'Create K2K SAML assertion from Service Provider\n\nWhen transforming project-scoped token to a SAML assertion we should\nread information from ``service_provider`` token attribute rather than\n``region``. Operation should be also accessible only for enabled service\nproviders.\n\nChange-Id: I5458ebb545edc3cdb0e44c297eb450a555f1e7a3\nPartially-Implements: bp k2k-service-providers\n'}]",2,152046,2c096b961b7b891809b4d929ea7d827f59cfbf06,26,6,9,8978,,,0,"Create K2K SAML assertion from Service Provider

When transforming project-scoped token to a SAML assertion we should
read information from ``service_provider`` token attribute rather than
``region``. Operation should be also accessible only for enabled service
providers.

Change-Id: I5458ebb545edc3cdb0e44c297eb450a555f1e7a3
Partially-Implements: bp k2k-service-providers
",git fetch https://review.opendev.org/openstack/keystone refs/changes/46/152046/6 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/contrib/federation/controllers.py', 'keystone/contrib/federation/utils.py']",2,4d84d9067eda03d61d55383602b70616002f028a,bp/k2k-service-providers, def assert_enabled_service_provider_object(service_provider): if service_provider.get('enabled') is not True: sp_id = service_provider['id'] msg = _('Service Provider %(sp)s is disabled') % {'sp': sp_id} LOG.debug(msg) raise exception.Forbidden(msg),,13,4
openstack%2Fkeystone~master~I69673045009926365803a89a2e4b0d892d841ed6,openstack/keystone,master,I69673045009926365803a89a2e4b0d892d841ed6,Service Providers API for OS-FEDERATION,MERGED,2014-07-03 17:40:07.000000000,2015-02-03 07:23:36.000000000,2015-02-03 07:23:35.000000000,"[{'_account_id': 3}, {'_account_id': 220}, {'_account_id': 1228}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 5707}, {'_account_id': 6482}, {'_account_id': 7725}, {'_account_id': 8866}, {'_account_id': 8871}, {'_account_id': 8978}, {'_account_id': 9101}, {'_account_id': 9751}, {'_account_id': 10118}, {'_account_id': 11022}, {'_account_id': 13478}]","[{'number': 1, 'created': '2014-07-03 17:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9eb82c4dd90774f66b84f82608b9bae54e475a66', 'message': 'Implement Service Providers API for OS-FEDERATION\n\nFor new Keystone2Keystone federation usecase Keystone needs to\nmanage trusted Service Providers. This patch implements\nCRUD API calls for that.\n\nImplements blueprint: keystone-to-keystone-federation\n\nChange-Id: I69673045009926365803a89a2e4b0d892d841ed6\n'}, {'number': 2, 'created': '2014-07-04 09:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/bfe63a5509d92f369f079f1be38be3a8bd7cd99b', 'message': 'Implement Service Providers API for OS-FEDERATION\n\nFor new Keystone2Keystone federation usecase Keystone needs to\nmanage trusted Service Providers. This patch implements\nCRUD API calls for that.\n\nImplements blueprint: keystone-to-keystone-federation\n\nChange-Id: I69673045009926365803a89a2e4b0d892d841ed6\n'}, {'number': 3, 'created': '2014-07-04 13:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/debe5006614d837519c540fee4595b25e222748c', 'message': 'Implement Service Providers API for OS-FEDERATION\n\nFor new Keystone2Keystone federation usecase Keystone needs to\nmanage trusted Service Providers. This patch implements\nCRUD API calls for that.\n\nImplements blueprint: keystone-to-keystone-federation\n\nChange-Id: I69673045009926365803a89a2e4b0d892d841ed6\n'}, {'number': 4, 'created': '2014-07-10 03:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7dd38e7cc01183bfdd7716a0c55fe7068ad30cdb', 'message': 'Implement Service Providers API for OS-FEDERATION\n\nFor new Keystone2Keystone federation usecase Keystone needs to\nmanage trusted Service Providers. This patch implements\nCRUD API calls for that.\n\nImplements blueprint: keystone-to-keystone-federation\n\nChange-Id: I69673045009926365803a89a2e4b0d892d841ed6\n'}, {'number': 5, 'created': '2014-07-10 03:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c009ed101e623789699b3e967e1e125903482e75', 'message': 'Implement Service Providers API for OS-FEDERATION\n\nFor new Keystone2Keystone federation usecase Keystone needs to\nmanage trusted Service Providers. This patch implements\nCRUD API calls for that.\n\nImplements blueprint: keystone-to-keystone-federation\n\nChange-Id: I69673045009926365803a89a2e4b0d892d841ed6\n'}, {'number': 6, 'created': '2015-01-26 14:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/daa76e294c31f10aa4cd7e1948a296885680ff22', 'message': 'Implement Service Providers API for OS-FEDERATION\n\nFor new Keystone2Keystone federation usecase Keystone needs to\nmanage trusted Service Providers. This patch implements\nCRUD API calls for that.\n\nImplements blueprint: keystone-to-keystone-federation\n\nChange-Id: I69673045009926365803a89a2e4b0d892d841ed6\n'}, {'number': 7, 'created': '2015-01-26 14:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2e6e0a0249d234bc5453ef1728a0a61f272c06d4', 'message': 'Implement Service Providers API for OS-FEDERATION\n\nFor new Keystone2Keystone federation usecase Keystone needs to\nmanage trusted Service Providers. This patch implements\nCRUD API calls for that.\n\nImplements blueprint: keystone-to-keystone-federation\n\nChange-Id: I69673045009926365803a89a2e4b0d892d841ed6\n'}, {'number': 8, 'created': '2015-01-27 11:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5dedf42d52da8253c93cf852c3de4abaa3a9727e', 'message': 'Implement Service Providers API for OS-FEDERATION\n\nFor new Keystone2Keystone federation usecase Keystone needs to\nmanage trusted Service Providers. This patch implements\nCRUD API calls for that.\n\nImplements blueprint: k2k-service-providers\n\nChange-Id: I69673045009926365803a89a2e4b0d892d841ed6\n'}, {'number': 9, 'created': '2015-01-28 10:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/267ee59090fcd111e900358be8294d31ad9e52d5', 'message': 'Implement Service Providers API for OS-FEDERATION\n\nFor new Keystone2Keystone federation usecase Keystone needs to\nmanage trusted Service Providers. This patch implements\nCRUD API calls for that.\n\nImplements blueprint: k2k-service-providers\n\nChange-Id: I69673045009926365803a89a2e4b0d892d841ed6\n'}, {'number': 10, 'created': '2015-01-28 12:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c01b542e5a05ab9ade1aa8fccc06b5d7c65f7a92', 'message': 'Implement Service Providers API for OS-FEDERATION\n\nFor new Keystone2Keystone federation usecase Keystone needs to\nmanage trusted Service Providers. This patch implements\nCRUD API calls for that.\n\nImplements blueprint: k2k-service-providers\n\nChange-Id: I69673045009926365803a89a2e4b0d892d841ed6\n'}, {'number': 11, 'created': '2015-01-28 21:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9526c45bc38a271e473226d3c0712bd166525c8f', 'message': 'Implement Service Providers API for OS-FEDERATION\n\nFor new Keystone2Keystone federation usecase Keystone needs to\nmanage trusted Service Providers. This patch implements\nCRUD API calls for that.\n\nImplements blueprint: k2k-service-providers\n\nChange-Id: I69673045009926365803a89a2e4b0d892d841ed6\n'}, {'number': 12, 'created': '2015-01-30 09:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/87948b5793a0889b18637300132c546c851b5e23', 'message': 'Implement Service Providers API for OS-FEDERATION\n\nFor new Keystone2Keystone federation usecase Keystone needs to\nmanage trusted Service Providers. This patch implements\nCRUD API calls for that.\n\nImplements blueprint: k2k-service-providers\n\nChange-Id: I69673045009926365803a89a2e4b0d892d841ed6\n'}, {'number': 13, 'created': '2015-01-30 11:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3c75194fd2d651e0bf8e18ba0f7ff659ebfbfc8c', 'message': 'Service Providers API for OS-FEDERATION\n\nFor new Keystone2Keystone federation usecase Keystone needs to\nmanage trusted Service Providers. This patch implements\nCRUD API calls for that.\n\nImplements blueprint: k2k-service-providers\n\nChange-Id: I69673045009926365803a89a2e4b0d892d841ed6'}, {'number': 14, 'created': '2015-02-02 10:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/925e001a02cc80b2e8817aa3e0f996cce5d0a736', 'message': 'Service Providers API for OS-FEDERATION\n\nFor new Keystone2Keystone federation usecase Keystone needs to\nmanage trusted Service Providers. This patch implements\nCRUD API calls for that.\n\nImplements blueprint: k2k-service-providers\n\nChange-Id: I69673045009926365803a89a2e4b0d892d841ed6\n'}, {'number': 15, 'created': '2015-02-02 11:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f860dd78546292677ea2746cce4a1757a26d4dcb', 'message': 'Service Providers API for OS-FEDERATION\n\nFor new Keystone2Keystone federation usecase Keystone needs to\nmanage trusted Service Providers. This patch implements\nCRUD API calls for that.\n\nImplements blueprint: k2k-service-providers\n\nChange-Id: I69673045009926365803a89a2e4b0d892d841ed6\n'}, {'number': 16, 'created': '2015-02-02 20:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5d10385f9a107120d4b8933730b88b878446122b', 'message': 'Service Providers API for OS-FEDERATION\n\nFor new Keystone2Keystone federation usecase Keystone needs to\nmanage trusted Service Providers. This patch implements\nCRUD API calls for that.\n\nImplements blueprint: k2k-service-providers\n\nChange-Id: I69673045009926365803a89a2e4b0d892d841ed6\n'}, {'number': 17, 'created': '2015-02-02 23:11:19.000000000', 'files': ['keystone/contrib/federation/migrate_repo/versions/005_add_service_provider_table.py', 'keystone/contrib/federation/core.py', 'keystone/contrib/federation/controllers.py', 'keystone/contrib/federation/routers.py', 'keystone/exception.py', 'keystone/tests/test_v3_federation.py', 'etc/policy.v3cloudsample.json', 'keystone/contrib/federation/backends/sql.py', 'etc/policy.json', 'keystone/tests/test_backend_federation_sql.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/96747bc484cc2d184f5ba477c8e5f40e11f0340b', 'message': 'Service Providers API for OS-FEDERATION\n\nFor new Keystone2Keystone federation usecase Keystone needs to\nmanage trusted Service Providers. This patch implements\nCRUD API calls for that.\n\nImplements blueprint: k2k-service-providers\n\nChange-Id: I69673045009926365803a89a2e4b0d892d841ed6\n'}]",95,104623,96747bc484cc2d184f5ba477c8e5f40e11f0340b,104,17,17,8978,,,0,"Service Providers API for OS-FEDERATION

For new Keystone2Keystone federation usecase Keystone needs to
manage trusted Service Providers. This patch implements
CRUD API calls for that.

Implements blueprint: k2k-service-providers

Change-Id: I69673045009926365803a89a2e4b0d892d841ed6
",git fetch https://review.opendev.org/openstack/keystone refs/changes/23/104623/4 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/contrib/federation/controllers.py', 'keystone/contrib/federation/routers.py', 'keystone/exception.py', 'keystone/contrib/federation/migrate_repo/versions/004_add_service_provider_table.py', 'keystone/contrib/federation/backends/sql.py']",5,9eb82c4dd90774f66b84f82608b9bae54e475a66,bp/k2k-service-providers," class ServiceProviderModel(sql.ModelBase, sql.DictBase): __tablename__ = 'service_provider' attributes = ['id', 'enabled', 'description'] mutable_attributes = frozenset(['description', 'enabled']) id = sql.Column(sql.String(64), primary_key=True) enabled = sql.Column(sql.Boolean, nullable=False) description = sql.Column(sql.Text(), nullable=True) @classmethod def from_dict(cls, dictionary): new_dictionary = dictionary.copy() return cls(**new_dictionary) def to_dict(self, include_extra_dict=False): """"""Return the model's attributes as a dictionary."""""" d = dict() for attr in self.__class__.attributes: d[attr] = getattr(self, attr) return d class ServiceProvider(core.Driver): # Service Provider CRUD @sql.handle_conflicts(conflict_type='service_provider') def create_sp(self, sp_id, sp): session = sql.get_session() with session.begin(): sp['id'] = sp_id sp_ref = ServiceProviderModel.from_dict(sp) session.add(sp_ref) return sp_ref.to_dict() def delete_sp(self, sp_id): session = sql.get_session() with session.begin(): sp_ref = self._get_sp(session, sp_id) session.delete(sp_ref) def _get_sp(self, session, sp_id): sp_ref = session.query(ServiceProviderModel).get(sp_id) if not sp_ref: raise exception.ServiceProviderNotFound(sp_id=sp_id) return sp_ref def list_sps(self): session = sql.get_session() with session.begin(): sps = session.query(ServiceProviderModel) sps_list = [sp.to_dict() for sp in sps] return sps_list def get_sp(self, sp_id): session = sql.get_session() sp_ref = self._get_sp(session, sp_id) return sp_ref.to_dict() def update_sp(self, sp_id, sp): session = sql.get_session() with session.begin(): sp_ref = self._get_sp(session, sp_id) old_sp = sp_ref.to_dict() old_sp.update(sp) new_sp = ServiceProviderModel.from_dict(old_sp) for attr in ServiceProviderModel.mutable_attributes: setattr(sp_ref, attr, getattr(new_sp, attr)) return sp_ref.to_dict()",,183,0
openstack%2Fkeystone-specs~master~I0c3eb10b2228fd3a0dff139e4d90e431c45014b9,openstack/keystone-specs,master,I0c3eb10b2228fd3a0dff139e4d90e431c45014b9,Address federated domain comments from 149071,MERGED,2015-02-02 21:37:10.000000000,2015-02-03 06:52:17.000000000,2015-02-03 06:52:17.000000000,"[{'_account_id': 3}, {'_account_id': 1916}, {'_account_id': 2903}, {'_account_id': 6460}, {'_account_id': 8978}]","[{'number': 1, 'created': '2015-02-02 21:37:10.000000000', 'files': ['specs/kilo/federated-direct-user-mapping.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/2d101a4f15b962d86dc89a3a3b11d1619b16bdc2', 'message': 'Address federated domain comments from 149071\n\nThere were comments left over from this patch:\n  https://review.openstack.org/#/c/149071/\n\nChange-Id: I0c3eb10b2228fd3a0dff139e4d90e431c45014b9\n'}]",1,152281,2d101a4f15b962d86dc89a3a3b11d1619b16bdc2,8,5,1,6482,,,0,"Address federated domain comments from 149071

There were comments left over from this patch:
  https://review.openstack.org/#/c/149071/

Change-Id: I0c3eb10b2228fd3a0dff139e4d90e431c45014b9
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/81/152281/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/federated-direct-user-mapping.rst'],1,2d101a4f15b962d86dc89a3a3b11d1619b16bdc2,fix-comments-from-149071,"This problem is manifested in many ways, firstly when an ephemeral user obtains a token, the user section of the token does not have a 'domain' portion. This, breaks the API contract we established when obtaining tokens. Currently, consuming projects work around this issue by checking to see if 'OS-FEDERATION' is present in the token. default federated domain. The domain's name will be immutable and will be named Even though there are many users from many IdPs being placed in the default ``Federated`` domain, there is no collision between user ids and names, since the users do not exist in Keystone, and domains are a Keystone concept. The user's token will provide information about the Identity Provider that was used to authenticate. specify the domain the user belongs to. If such an attribute is not specifiedchecking by membership in the federated domain. If no domain information is provided, then it is assumed that the user is ephemeral and will use the default federated domain.",default federated domain. The domain's name will be hardcoded and will be namedspecify the domain the user belongs to. If such attribute is not specifiedchecking by membership in the federated domain.,18,3
openstack%2Frally~master~I1628d08d76500ec2b0f46a7520b59d0a1b8a047f,openstack/rally,master,I1628d08d76500ec2b0f46a7520b59d0a1b8a047f,Neutron: remove ports before removing network,MERGED,2015-02-02 18:49:23.000000000,2015-02-03 06:52:00.000000000,2015-02-03 06:43:29.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 9545}, {'_account_id': 14135}]","[{'number': 1, 'created': '2015-02-02 18:49:23.000000000', 'files': ['rally/benchmark/wrappers/network.py', 'tests/unit/benchmark/wrappers/test_network.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/fe7ce24b61689a8482ce31b9361a0767b171bf86', 'message': 'Neutron: remove ports before removing network\n\nFixes rally being unable to remove network because there are still\nports allocated under it.\n\nChange-Id: I1628d08d76500ec2b0f46a7520b59d0a1b8a047f\nCloses-Bug: #1414597\n'}]",0,152226,fe7ce24b61689a8482ce31b9361a0767b171bf86,13,4,1,13609,,,0,"Neutron: remove ports before removing network

Fixes rally being unable to remove network because there are still
ports allocated under it.

Change-Id: I1628d08d76500ec2b0f46a7520b59d0a1b8a047f
Closes-Bug: #1414597
",git fetch https://review.opendev.org/openstack/rally refs/changes/26/152226/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/benchmark/wrappers/network.py', 'tests/unit/benchmark/wrappers/test_network.py']",2,fe7ce24b61689a8482ce31b9361a0767b171bf86,(detached," service.client.list_ports.return_value = {""ports"": []} def test_delete_network_with_dhcp_and_router_and_ports_and_subnets(self): ports = [""foo_port"", ""bar_port""] service.client.list_ports.return_value = ( {""ports"": [{""id"": port_id} for port_id in ports]}) self.assertEqual(service.client.delete_port.mock_calls, [mock.call(port_id) for port_id in ports])", def test_delete_network_with_dhcp_and_router_and_subnets(self):,10,1
openstack%2Fnova~master~Idcdc6ebecc38fda1b36356a34cabdba8fb9cbefb,openstack/nova,master,Idcdc6ebecc38fda1b36356a34cabdba8fb9cbefb,Make test re-use HTTPRequest part 4,MERGED,2015-01-16 23:18:28.000000000,2015-02-03 06:36:55.000000000,2015-02-03 06:36:51.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9550}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 11189}]","[{'number': 1, 'created': '2015-01-16 23:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/681f79f239e682f487440e4bdeaad18e19c00773', 'message': ""Make test re-use HTTPReuqest part 4\n\nWe are using the controller to do test instead of\nwsgi URI now, the HTTPRequest is only a fake value\nand mostly is not used. Make test class reuse\nthe Request to remove code complication.\nAlso, some method set such as 'POST', 'DELETE' etc\nare not needed anymore since controller are\ndirectly used.\n\nThis patch focus on evacuate, instance_usage_audit_log,\nmultiple_create, networks, services.\n\nChange-Id: Idcdc6ebecc38fda1b36356a34cabdba8fb9cbefb\n""}, {'number': 2, 'created': '2015-01-17 23:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad63fbae62adba8e14940a69895c2248edcfb6bf', 'message': ""Make test re-use HTTPReuqest part 4\n\nWe are using the controller to do test instead of\nwsgi URI now, the HTTPRequest is only a fake value\nand mostly is not used. Make test class reuse\nthe Request to remove code complication.\nAlso, some method set such as 'POST', 'DELETE' etc\nare not needed anymore since controller are\ndirectly used.\n\nThis patch focus on evacuate, instance_usage_audit_log,\nmultiple_create, networks, services.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: Idcdc6ebecc38fda1b36356a34cabdba8fb9cbefb\n""}, {'number': 3, 'created': '2015-01-23 13:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/03ff478e3ec01823507e0078dcb8d05e17c7f409', 'message': ""Make test re-use HTTPRequest part 4\n\nWe are using the controller to do test instead of\nwsgi URI now, the HTTPRequest is only a fake value\nand mostly is not used. Make test class reuse\nthe Request to remove code complication.\nAlso, some method set such as 'POST', 'DELETE' etc\nare not needed anymore since controller are\ndirectly used.\n\nThis patch focus on evacuate, instance_usage_audit_log,\nmultiple_create, networks, services.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: Idcdc6ebecc38fda1b36356a34cabdba8fb9cbefb\n""}, {'number': 4, 'created': '2015-02-02 23:38:25.000000000', 'files': ['nova/tests/unit/api/openstack/compute/contrib/test_evacuate.py', 'nova/tests/unit/api/openstack/compute/contrib/test_multiple_create.py', 'nova/tests/unit/api/openstack/compute/contrib/test_networks.py', 'nova/tests/unit/api/openstack/compute/contrib/test_services.py', 'nova/tests/unit/api/openstack/compute/contrib/test_instance_usage_audit_log.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7e709f8ca0ca34fb6b60ddb4aa07b31bf2f367a1', 'message': ""Make test re-use HTTPRequest part 4\n\nWe are using the controller to do test instead of\nwsgi URI now, the HTTPRequest is only a fake value\nand mostly is not used. Make test class reuse\nthe Request to remove code complication.\nAlso, some method set such as 'POST', 'DELETE' etc\nare not needed anymore since controller are\ndirectly used.\n\nThis patch focus on evacuate, instance_usage_audit_log,\nmultiple_create, networks, services.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: Idcdc6ebecc38fda1b36356a34cabdba8fb9cbefb\n""}]",4,148021,7e709f8ca0ca34fb6b60ddb4aa07b31bf2f367a1,56,16,4,6062,,,0,"Make test re-use HTTPRequest part 4

We are using the controller to do test instead of
wsgi URI now, the HTTPRequest is only a fake value
and mostly is not used. Make test class reuse
the Request to remove code complication.
Also, some method set such as 'POST', 'DELETE' etc
are not needed anymore since controller are
directly used.

This patch focus on evacuate, instance_usage_audit_log,
multiple_create, networks, services.

Partially implements blueprint v2-on-v3-api

Change-Id: Idcdc6ebecc38fda1b36356a34cabdba8fb9cbefb
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/148021/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/contrib/test_evacuate.py', 'nova/tests/unit/api/openstack/compute/contrib/test_multiple_create.py', 'nova/tests/unit/api/openstack/compute/contrib/test_networks.py', 'nova/tests/unit/api/openstack/compute/contrib/test_services.py', 'nova/tests/unit/api/openstack/compute/contrib/test_instance_usage_audit_log.py']",5,681f79f239e682f487440e4bdeaad18e19c00773,bp/v2-on-v3-api," self.req = fakes.HTTPRequest.blank('') self.admin_req = fakes.HTTPRequest.blank('', use_admin_context=True) result = self.controller.index(self.admin_req) self.controller.index, self.req) result = self.controller.show(self.admin_req, '2012-07-05 10:00:00') self.controller.show, self.req, '2012-07-05 10:00:00') result = self.controller.show(self.admin_req, '2012-07-06 10:00:00') result = self.controller.show(self.admin_req, '2012-07-07 10:00:00')"," req = fakes.HTTPRequest.blank('/v2/fake/os-instance_usage_audit_log', use_admin_context=True) result = self.controller.index(req) req = fakes.HTTPRequest.blank('/v2/fake/os-instance_usage_audit_log', use_admin_context=False) self.controller.index, req) req = fakes.HTTPRequest.blank( '/v2/fake/os-instance_usage_audit_log/show', use_admin_context=True) result = self.controller.show(req, '2012-07-05 10:00:00') req = fakes.HTTPRequest.blank('/v2/fake/os-instance_usage_audit_log', use_admin_context=False) self.controller.show, req, '2012-07-05 10:00:00') req = fakes.HTTPRequest.blank( '/v2/fake/os-instance_usage_audit_log/show', use_admin_context=True) result = self.controller.show(req, '2012-07-06 10:00:00') req = fakes.HTTPRequest.blank( '/v2/fake/os-instance_usage_audit_log/show', use_admin_context=True) result = self.controller.show(req, '2012-07-07 10:00:00')",93,216
openstack%2Fmanila~master~I77127115a89caaaa8701c2089cd5db4b609e6c7f,openstack/manila,master,I77127115a89caaaa8701c2089cd5db4b609e6c7f,Add CI job support for second mode of Generic driver,MERGED,2015-01-12 19:59:28.000000000,2015-02-03 06:30:55.000000000,2015-02-03 06:30:54.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 11878}, {'_account_id': 14232}]","[{'number': 1, 'created': '2015-01-12 19:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3e311e28fd5c493873184a6ad6decd513ce21873', 'message': 'Add single_svm CI job support for Generic driver\n\nAdd possibility to create service share server for each generic driver with\nsingle svm mode enabled.\nAdd autodetection of driver mode for post_test_hook.\n\nImplements generic-driver-single-svm-ci-job\n\nChange-Id: I77127115a89caaaa8701c2089cd5db4b609e6c7f\n'}, {'number': 2, 'created': '2015-01-13 09:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/76c156557b81ee82118d0d337460433347e07b79', 'message': 'Add single_svm CI job support for Generic driver\n\nAdd possibility to create service share server for each generic driver with\nsingle svm mode enabled.\nAdd autodetection of driver mode for post_test_hook.\n\nImplements generic-driver-single-svm-ci-job\n\nChange-Id: I77127115a89caaaa8701c2089cd5db4b609e6c7f\n'}, {'number': 3, 'created': '2015-01-14 12:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a39ffd0e774f99eb73c678e69f3c978f7c37a1ef', 'message': 'Add single_svm CI job support for Generic driver\n\nAdd possibility to create service share server for each generic driver with\nsingle svm mode enabled.\nAdd autodetection of driver mode for post_test_hook.\n\nImplements bp generic-driver-single-svm-ci-job\n\nChange-Id: I77127115a89caaaa8701c2089cd5db4b609e6c7f\n'}, {'number': 4, 'created': '2015-01-22 17:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9ea8362a3f220f47f1a8cda32686859bf497adf1', 'message': 'Add support of none-share-servers mode for Generic driver\n\nAdd possibility to create service share server for each generic driver with\nmode that does not allow share servers handling.\nAdd autodetection of driver mode for post_test_hook.\n\nImplements bp generic-driver-single-svm-ci-job\n\nChange-Id: I77127115a89caaaa8701c2089cd5db4b609e6c7f\n'}, {'number': 5, 'created': '2015-01-22 17:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d3018c6d30a6f27e6d433b0150c9e47283e5cc0c', 'message': 'Add support of none-share-servers mode for Generic driver\n\nAdd possibility to create service share server for each generic driver with\nmode that does not allow share servers handling.\nAdd autodetection of driver mode for post_test_hook.\n\nImplements bp generic-driver-single-svm-ci-job\n\nChange-Id: I77127115a89caaaa8701c2089cd5db4b609e6c7f\n'}, {'number': 6, 'created': '2015-01-22 18:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f818b79163bb9b5f97128af7b977a957d59c03d0', 'message': 'Add CI job support for second mode of Generic driver\n\nAfter appearence of second mode for Generic driver we need to run additional\njob with functional tests using this second mode.\n\nChanges:\n- Add possibility to create service share server for each generic driver with\nmode that does not allow share servers handling.\n- Add autodetection of driver mode for post_test_hook.\n\nImplements bp generic-driver-single-svm-ci-job\n\nChange-Id: I77127115a89caaaa8701c2089cd5db4b609e6c7f\n'}, {'number': 7, 'created': '2015-01-27 17:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f288b30ad5aecb5bb3d45124eab5ff68aa85e3e8', 'message': 'Add CI job support for second mode of Generic driver\n\nAfter appearence of second mode for Generic driver we need to run additional\njob with functional tests using this second mode.\n\nChanges:\n- Add possibility to create service share server for each generic driver with\nmode that does not allow share servers handling.\n- Add autodetection of driver mode for post_test_hook.\n\nImplements bp generic-driver-single-svm-ci-job\n\nChange-Id: I77127115a89caaaa8701c2089cd5db4b609e6c7f\n'}, {'number': 8, 'created': '2015-01-27 18:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a4860349f6af7d2d9594b2050a07e8564427c595', 'message': 'Add CI job support for second mode of Generic driver\n\nAfter appearence of second mode for Generic driver we need to run additional\njob with functional tests using this second mode.\n\nChanges:\n- Add possibility to create service share server for each generic driver with\nmode that does not allow share servers handling.\n- Add autodetection of driver mode for post_test_hook.\n\nImplements bp generic-driver-single-svm-ci-job\n\nChange-Id: I77127115a89caaaa8701c2089cd5db4b609e6c7f\n'}, {'number': 9, 'created': '2015-01-27 19:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a1231cd3fb03e491626ded71788654fbbbdb43e3', 'message': 'Add CI job support for second mode of Generic driver\n\nAfter appearence of second mode for Generic driver we need to run additional\njob with functional tests using this second mode.\n\nChanges:\n- Add possibility to create service share server for each generic driver with\nmode that does not allow share servers handling.\n- Add autodetection of driver mode for post_test_hook.\n\nImplements bp generic-driver-single-svm-ci-job\n\nChange-Id: I77127115a89caaaa8701c2089cd5db4b609e6c7f\n'}, {'number': 10, 'created': '2015-01-31 08:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5c39d32bd880232e1ea9424bcf9f0242265318f3', 'message': 'Add CI job support for second mode of Generic driver\n\nAfter appearence of second mode for Generic driver we need to run additional\njob with functional tests using this second mode.\n\nChanges:\n- Add possibility to create service share server for each generic driver with\nmode that does not allow share servers handling.\n- Add autodetection of driver mode for post_test_hook.\n\nImplements bp generic-driver-single-svm-ci-job\n\nChange-Id: I77127115a89caaaa8701c2089cd5db4b609e6c7f\n'}, {'number': 11, 'created': '2015-01-31 22:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f6843bbfb4dfcc688f12e053e4874d50edbff39b', 'message': 'Add CI job support for second mode of Generic driver\n\nAfter appearence of second mode for Generic driver we need to run additional\njob with functional tests using this second mode.\n\nChanges:\n- Add possibility to create service share server for each generic driver with\nmode that does not allow share servers handling.\n- Add autodetection of driver mode for post_test_hook.\n\nImplements bp generic-driver-single-svm-ci-job\n\nChange-Id: I77127115a89caaaa8701c2089cd5db4b609e6c7f\n'}, {'number': 12, 'created': '2015-02-02 11:57:39.000000000', 'files': ['contrib/devstack/extras.d/70-manila.sh', 'contrib/ci/post_test_hook.sh', 'contrib/devstack/lib/manila'], 'web_link': 'https://opendev.org/openstack/manila/commit/75c4aae09e25f604e1606c22ebef9cc099dbe996', 'message': 'Add CI job support for second mode of Generic driver\n\nAfter appearence of second mode for Generic driver we need to run additional\njob with functional tests using this second mode.\n\nChanges:\n- Add possibility to create service share server for each generic driver with\nmode that does not allow share servers handling.\n- Add autodetection of driver mode for post_test_hook.\n\nImplements bp generic-driver-single-svm-ci-job\n\nChange-Id: I77127115a89caaaa8701c2089cd5db4b609e6c7f\n'}]",0,146625,75c4aae09e25f604e1606c22ebef9cc099dbe996,36,5,12,8851,,,0,"Add CI job support for second mode of Generic driver

After appearence of second mode for Generic driver we need to run additional
job with functional tests using this second mode.

Changes:
- Add possibility to create service share server for each generic driver with
mode that does not allow share servers handling.
- Add autodetection of driver mode for post_test_hook.

Implements bp generic-driver-single-svm-ci-job

Change-Id: I77127115a89caaaa8701c2089cd5db4b609e6c7f
",git fetch https://review.opendev.org/openstack/manila refs/changes/25/146625/12 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/devstack/extras.d/70-manila.sh', 'contrib/ci/post_test_hook.sh', 'contrib/devstack/lib/manila']",3,3e311e28fd5c493873184a6ad6decd513ce21873,bp/generic-driver-single-svm-ci-job,"MANILA_SERVICE_SECGROUP=""manila-service"" export MANILA_ENABLED_BACKENDS=$default_backendsfunction create_service_share_servers { private_net_id=$(neutron net-list --all-tenants | grep ' private ' | get_field 1) for BE in ${MANILA_ENABLED_BACKENDS//,/ }; do share_driver_mode=$(iniget $MANILA_CONF $BE share_driver_mode) share_driver=$(iniget $MANILA_CONF $BE share_driver) generic_driver='manila.share.drivers.generic.GenericShareDriver' if [[ $share_driver_mode == 'single_svm' && $share_driver == $generic_driver ]]; then # Create service share servers for all Generic driver instances with enabled single_svm mode vm_name='manila_service_share_server_'$BE nova boot $vm_name \ --flavor $MANILA_SERVICE_VM_FLAVOR_NAME \ --image $MANILA_SERVICE_IMAGE_NAME \ --nic net-id=$private_net_id \ --security-groups $MANILA_SERVICE_SECGROUP iniset $MANILA_CONF $BE service_instance_name_or_id $vm_name iniset $MANILA_CONF $BE service_net_name_or_ip $private_net_id iniset $MANILA_CONF $BE tenant_net_name_or_ip $private_net_id fi done } "," MANILA_ENABLED_BACKENDS=$default_backends MANILA_SERVICE_SECGROUP=""manila-service"" ",68,6
openstack%2Fhorizon~master~I1e2acf46277355e6ef89a21572a7a742875f5135,openstack/horizon,master,I1e2acf46277355e6ef89a21572a7a742875f5135,Removing reference to deleted template,MERGED,2015-02-02 20:57:20.000000000,2015-02-03 06:19:11.000000000,2015-02-03 06:19:09.000000000,"[{'_account_id': 3}, {'_account_id': 6914}, {'_account_id': 8091}, {'_account_id': 8411}, {'_account_id': 9576}, {'_account_id': 9622}, {'_account_id': 9940}, {'_account_id': 12355}, {'_account_id': 14151}]","[{'number': 1, 'created': '2015-02-02 20:57:20.000000000', 'files': ['openstack_dashboard/dashboards/project/data_processing/jobs/templates/data_processing.jobs/jobs.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/007387d11015a4c189c540f732d369afeff4a11e', 'message': 'Removing reference to deleted template\n\nThe data processing jobs panel was referencing a\ntemplate that no longer exists.  The fix is to remove\nthe reference to that template since it is no longer\nrequired.\n\nChange-Id: I1e2acf46277355e6ef89a21572a7a742875f5135\nCloses-Bug: #1417264\n'}]",0,152272,007387d11015a4c189c540f732d369afeff4a11e,13,9,1,8090,,,0,"Removing reference to deleted template

The data processing jobs panel was referencing a
template that no longer exists.  The fix is to remove
the reference to that template since it is no longer
required.

Change-Id: I1e2acf46277355e6ef89a21572a7a742875f5135
Closes-Bug: #1417264
",git fetch https://review.opendev.org/openstack/horizon refs/changes/72/152272/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/data_processing/jobs/templates/data_processing.jobs/jobs.html'],1,007387d11015a4c189c540f732d369afeff4a11e,bug/1417264,,"{% include ""project/data_processing.job_binaries/job_binaries_form_script.html"" %}",0,1
openstack%2Fironic~master~Ib755163c5621ae8195a4c6179675ee18001577f7,openstack/ironic,master,Ib755163c5621ae8195a4c6179675ee18001577f7,Update etc/ironic/ironic.conf.sample,ABANDONED,2015-02-03 04:33:39.000000000,2015-02-03 06:08:08.000000000,,"[{'_account_id': 3}, {'_account_id': 12356}, {'_account_id': 13719}]","[{'number': 1, 'created': '2015-02-03 04:33:39.000000000', 'files': ['etc/ironic/ironic.conf.sample'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e73cc9f538d71ac25af83d70e9bdcbd4fcacb704', 'message': 'Update etc/ironic/ironic.conf.sample\n\netc/ironic/ironic.conf.sample has been updated by\ntools/config/generate_sample.sh before merging [irmc]\nsection parameters of iRMC Virtual Media Deploy Driver\n(blueprint irmc-virtualmedia-deploy-driver)\n\nChange-Id: Ib755163c5621ae8195a4c6179675ee18001577f7\nRelated-Bug: #1408879\n'}]",0,152385,e73cc9f538d71ac25af83d70e9bdcbd4fcacb704,5,3,1,13719,,,0,"Update etc/ironic/ironic.conf.sample

etc/ironic/ironic.conf.sample has been updated by
tools/config/generate_sample.sh before merging [irmc]
section parameters of iRMC Virtual Media Deploy Driver
(blueprint irmc-virtualmedia-deploy-driver)

Change-Id: Ib755163c5621ae8195a4c6179675ee18001577f7
Related-Bug: #1408879
",git fetch https://review.opendev.org/openstack/ironic refs/changes/85/152385/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/ironic/ironic.conf.sample'],1,e73cc9f538d71ac25af83d70e9bdcbd4fcacb704,bp/irmc-virtualmedia-deploy-driver,#my_ip=10.0.0.1,#my_ip=192.168.122.1,1,1
openstack%2Fironic-specs~master~I3822825246587e44e4eaa73e3b7002555f66904f,openstack/ironic-specs,master,I3822825246587e44e4eaa73e3b7002555f66904f,Enable boot images sharing for iLO driver(s),ABANDONED,2014-11-26 07:19:00.000000000,2015-02-03 05:48:55.000000000,,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 5805}, {'_account_id': 6618}, {'_account_id': 9315}, {'_account_id': 10202}]","[{'number': 1, 'created': '2014-11-26 07:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/8d71dddbe6d853690678d1997a600bf1e55591af', 'message': 'Enable iscsi_ilo driver to share boot images\n\nThis change is to enable iscsi_ilo driver to share the boot images\nfor instances so that the storage space can be efficiently utilized.\n\nThis is the stage 1 of proposing a spec for Kilo, in this stage we\nshould determine whether the idea is in the scope and in alignment with\nproject direction.\n\nChange-Id: I3822825246587e44e4eaa73e3b7002555f66904f\n'}, {'number': 2, 'created': '2014-11-28 04:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/8b465440fb6c6181aa7b4fc822056f520fa014ea', 'message': 'Enable iscsi_ilo driver to share boot images\n\nThis change is to enable iscsi_ilo driver to share the boot images\nfor instances so that the storage space can be efficiently utilized.\n\nThis is the stage 1 of proposing a spec for Kilo, in this stage we\nshould determine whether the idea is in the scope and in alignment with\nproject direction.\n\nChange-Id: I3822825246587e44e4eaa73e3b7002555f66904f\n'}, {'number': 3, 'created': '2014-12-08 08:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e1019e82a20d28fc9c25ca8f67ecd2cca363ed4d', 'message': 'Enable iscsi_ilo driver to share boot images\n\nThis change is to enable iscsi_ilo driver to share the boot images\nfor instances so that the storage space can be efficiently utilized.\n\nThis is the stage 1 of proposing a spec for Kilo, in this stage we\nshould determine whether the idea is in the scope and in alignment with\nproject direction.\n\nChange-Id: I3822825246587e44e4eaa73e3b7002555f66904f\n'}, {'number': 4, 'created': '2014-12-09 08:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/1720dccf3b4926c8ec2b4332cdf59d8cf8797aaf', 'message': 'Enable iscsi_ilo driver to share boot images\n\nThis change is to enable iscsi_ilo driver to share the boot images\nfor instances so that the storage space can be efficiently utilized.\n\nThis is the stage 1 of proposing a spec for Kilo, in this stage we\nshould determine whether the idea is in the scope and in alignment with\nproject direction.\n\nChange-Id: I3822825246587e44e4eaa73e3b7002555f66904f\n'}, {'number': 5, 'created': '2014-12-09 09:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/39ef11211547db50f60c74c8c7c9771012778aae', 'message': 'Enable boot images sharing for iLO driver(s)\n\nThis change is to enable ``iscsi_ilo`` driver to\nshare the boot images so that the storage space can\nbe efficiently utilized. The same change may be\napplied to ``agent_ilo`` driver if/when it supports\npartition images.\n\nChange-Id: I3822825246587e44e4eaa73e3b7002555f66904f\n'}, {'number': 6, 'created': '2014-12-11 04:58:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/293652cf76d86836de4af7a2065de7affe704637', 'message': 'Enable boot images sharing for iLO driver(s)\n\nThis change is to enable iscsi_ilo driver to\nshare the boot images so that the storage space can\nbe efficiently utilized. The same change may be\napplied to agent_ilo driver if/when it supports\npartition images.\n\nChange-Id: I3822825246587e44e4eaa73e3b7002555f66904f\n'}, {'number': 7, 'created': '2014-12-18 07:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/47a7aeb1c2cde3ec55a59431e09b7e1ca9bb3fc1', 'message': 'Enable boot images sharing for iLO driver(s)\n\nThis change is to enable iscsi_ilo driver to\nshare the boot images so that the storage space can\nbe efficiently utilized. The same change may be\napplied to agent_ilo driver if/when it supports\npartition images.\n\nChange-Id: I3822825246587e44e4eaa73e3b7002555f66904f\n'}, {'number': 8, 'created': '2014-12-18 14:31:42.000000000', 'files': ['specs/kilo/ilo-drivers-share-boot-images.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/369945b195658b328306e0e803646d17a26d6f6b', 'message': 'Enable boot images sharing for iLO driver(s)\n\nThis change is to enable iscsi_ilo driver to\nshare the boot images so that the storage space can\nbe efficiently utilized. The same change may be\napplied to agent_ilo driver if/when it supports\npartition images.\n\nChange-Id: I3822825246587e44e4eaa73e3b7002555f66904f\n'}]",36,137291,369945b195658b328306e0e803646d17a26d6f6b,35,6,8,9315,,,0,"Enable boot images sharing for iLO driver(s)

This change is to enable iscsi_ilo driver to
share the boot images so that the storage space can
be efficiently utilized. The same change may be
applied to agent_ilo driver if/when it supports
partition images.

Change-Id: I3822825246587e44e4eaa73e3b7002555f66904f
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/91/137291/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/iscsi-ilo-share-boot-images.rst'],1,8d71dddbe6d853690678d1997a600bf1e55591af,share_boot_images,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============================================== Enable boot images sharing for iscsi_ilo driver =============================================== https://blueprints.launchpad.net/ironic/+spec/iscsi-ilo-share-boot-images This change is to enable ``iscsi_ilo`` driver to share the boot images so that the storage space can be efficiently utilized. Problem description =================== Currently ``iscsi_ilo`` driver builds boot ISO images for each instance during the deploy. It builds separate boot images for each instance, even though instances deployed with same image might be using the same boot files and same kernel command-line arguments. This leads to the wastage of storage space in Swift, when it can be more efficiently utilized. Proposed change =============== ``iscsi_ilo`` driver can enable boot ISO image sharing by the following mechanism: * Instances deployed from the same conductor can share the same boot image. * Currently the boot ISO image name in Swift is ``boot-<node-uuid>``. Instead of this, the boot ISO image name can be a hashed value derived from four parameters: + Glance UUID of boot kernel + Glance UUID of boot ramdisk + Name of the conductor node + Kernel command-line arguments * A meta-property named ``reference_count`` can be used in the boot ISO Swift object to indicate how many instances are using the boot ISO. Everytime a new instance is using the boot ISO, it is incremented, and when a node is teared down, it is decremented. When ``reference_count`` becomes 0, the Swift object is removed. * A lock is acquired by the thread during deploy or tear_down when handling with the boot ISO - creating boot ISO and/or manipulating ``reference count``. The name of the lock will be the Glance UUID of the image being deployed. * This doesn't have any impact when a different conductor takes over the node after it is deployed because tear_down operation just checks the ``reference_count`` within the Swift object (whose UUID is mentioned in instance_info of the node). ",,56,0
openstack%2Fnova~master~I6feeee92ac705e75315d630d391197e58a34387c,openstack/nova,master,I6feeee92ac705e75315d630d391197e58a34387c,libvirt: use XPath in _get_serial_ports_from_instance,MERGED,2015-01-06 13:25:18.000000000,2015-02-03 05:43:32.000000000,2015-02-03 04:27:27.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 8247}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9796}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-06 13:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d209a0a54bdef88fafcc9087acff4d4c4bdf0314', 'message': ""libvirt: use XPath in _get_serial_ports_from_instance\n\netree supports XPath to find specific node, so we don't need\nfind the node with comparing its tag and attribute. This commit\nuses Xpath in method _get_serial_ports_from_instance.\n\nPartial-Bug: #1407915\nChange-Id: I6feeee92ac705e75315d630d391197e58a34387c\n""}, {'number': 2, 'created': '2015-01-12 03:43:26.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/109196259af584a116d73edb7514b88b043b1740', 'message': ""libvirt: use XPath in _get_serial_ports_from_instance\n\netree supports XPath to find specific node, so we don't need\nfind the node with comparing its tag and attribute. This commit\nuses Xpath in method _get_serial_ports_from_instance.\n\nPartial-Bug: #1407915\nChange-Id: I6feeee92ac705e75315d630d391197e58a34387c\n""}]",0,145225,109196259af584a116d73edb7514b88b043b1740,27,11,2,9796,,,0,"libvirt: use XPath in _get_serial_ports_from_instance

etree supports XPath to find specific node, so we don't need
find the node with comparing its tag and attribute. This commit
uses Xpath in method _get_serial_ports_from_instance.

Partial-Bug: #1407915
Change-Id: I6feeee92ac705e75315d630d391197e58a34387c
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/145225/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,d209a0a54bdef88fafcc9087acff4d4c4bdf0314,xpath_get_serial_ports_from_instance," source_xpath = ""./devices/serial[@type='tcp']/source"" if mode: source_xpath = source_xpath + ""[@mode='%s']"" % mode for source in tree.findall(source_xpath): yield (source.get(""host""), int(source.get(""service"")))"," for serial in tree.findall(""./devices/serial""): if serial.get(""type"") == ""tcp"": source = serial.find(""./source"") if source is not None: if mode and source.get(""mode"") != mode: continue yield (source.get(""host""), int(source.get(""service"")))",5,7
openstack%2Ftempest~master~I2070d33ea8d174092981dca3e59fe65d13a13fa7,openstack/tempest,master,I2070d33ea8d174092981dca3e59fe65d13a13fa7,Remove data_utils import from a service client,MERGED,2015-01-22 05:09:18.000000000,2015-02-03 05:33:44.000000000,2015-02-03 05:33:43.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 8859}, {'_account_id': 8871}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-22 05:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0eb5c1e3d91ee59dfa328ad33b91e89db8aaa129', 'message': 'Remove data_utils import from a service client\n\nThere is data_utils module in Tempest for generating random\ndata, but it is better to avoid using it in service clients\nbecause service clients will be moved to tempest-lib in the\nfuture but we are not sure whether data_utils also is moved\nor not. Then, this patch removes data_utils import from the\nmessaging client.\n\nChange-Id: I2070d33ea8d174092981dca3e59fe65d13a13fa7\n'}, {'number': 2, 'created': '2015-01-22 05:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e051740f40f32e9d9aa8c041db0b56ea3f48b522', 'message': 'Remove data_utils import from a service client\n\nThere is data_utils module in Tempest for generating random\ndata, but it is better to avoid using it in service clients\nbecause service clients will be moved to tempest-lib in the\nfuture but we are not sure whether data_utils also is moved\nor not. Then, this patch removes data_utils import from the\nmessaging client.\n\nChange-Id: I2070d33ea8d174092981dca3e59fe65d13a13fa7\n'}, {'number': 3, 'created': '2015-01-22 06:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/52c50f5756c19b9f6f182a2ea5bd26db85d2e78f', 'message': 'Remove data_utils import from a service client\n\nThere is data_utils module in Tempest for generating random\ndata, but it is better to avoid using it in service clients\nbecause service clients will be moved to tempest-lib in the\nfuture but we are not sure whether data_utils also is moved\nor not. Then, this patch removes data_utils import from the\nmessaging client.\n\nChange-Id: I2070d33ea8d174092981dca3e59fe65d13a13fa7\n'}, {'number': 4, 'created': '2015-01-22 08:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/99d6faa7ae6021f154b4df9ef305619cd1bb6ea3', 'message': 'Remove data_utils import from a service client\n\nThere is data_utils module in Tempest for generating random\ndata, but it is better to avoid using it in service clients\nbecause service clients will be moved to tempest-lib in the\nfuture but we are not sure whether data_utils also is moved\nor not. Then, this patch removes data_utils import from the\nmessaging client.\n\nChange-Id: I2070d33ea8d174092981dca3e59fe65d13a13fa7\n'}, {'number': 5, 'created': '2015-01-24 07:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a141f56b1d479f61c838bfbf282c887c04f016f5', 'message': 'Remove data_utils import from a service client\n\nThere is data_utils module in Tempest for generating random\ndata, but it is better to avoid using it in service clients\nbecause service clients will be moved to tempest-lib in the\nfuture but we are not sure whether data_utils also is moved\nor not. Then, this patch removes data_utils import from the\nmessaging client.\n\nChange-Id: I2070d33ea8d174092981dca3e59fe65d13a13fa7\n'}, {'number': 6, 'created': '2015-01-27 11:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3e9fd37a697eb201bddc89305b5ff9d60ade8604', 'message': 'Remove data_utils import from a service client\n\nThere is data_utils module in Tempest for generating random\ndata, but it is better to avoid using it in service clients\nbecause service clients will be moved to tempest-lib in the\nfuture but we are not sure whether data_utils also is moved\nor not. Then, this patch removes data_utils import from the\nmessaging client.\n\nChange-Id: I2070d33ea8d174092981dca3e59fe65d13a13fa7\n'}, {'number': 7, 'created': '2015-01-29 01:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ffef0c7da75994bb4fa4df13c40d85bf9be79a3f', 'message': 'Remove data_utils import from a service client\n\nThere is data_utils module in Tempest for generating random\ndata, but it is better to avoid using it in service clients\nbecause service clients will be moved to tempest-lib in the\nfuture but we are not sure whether data_utils also is moved\nor not. Then, this patch removes data_utils import from the\nmessaging client.\n\nChange-Id: I2070d33ea8d174092981dca3e59fe65d13a13fa7\n'}, {'number': 8, 'created': '2015-02-03 02:07:30.000000000', 'files': ['tempest/services/messaging/json/messaging_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b3b75687698b28a9641896d2a6f7e20a7ba6fded', 'message': 'Remove data_utils import from a service client\n\nThere is data_utils module in Tempest for generating random\ndata, but it is better to avoid using it in service clients\nbecause service clients will be moved to tempest-lib in the\nfuture but we are not sure whether data_utils also is moved\nor not. Then, this patch removes data_utils import from the\nmessaging client.\n\nChange-Id: I2070d33ea8d174092981dca3e59fe65d13a13fa7\n'}]",0,149144,b3b75687698b28a9641896d2a6f7e20a7ba6fded,32,7,8,6167,,,0,"Remove data_utils import from a service client

There is data_utils module in Tempest for generating random
data, but it is better to avoid using it in service clients
because service clients will be moved to tempest-lib in the
future but we are not sure whether data_utils also is moved
or not. Then, this patch removes data_utils import from the
messaging client.

Change-Id: I2070d33ea8d174092981dca3e59fe65d13a13fa7
",git fetch https://review.opendev.org/openstack/tempest refs/changes/44/149144/8 && git format-patch -1 --stdout FETCH_HEAD,['tempest/services/messaging/json/messaging_client.py'],1,0eb5c1e3d91ee59dfa328ad33b91e89db8aaa129,service-client,import uuid client_id = uuid.uuid4().hex,from tempest.common.utils import data_utils client_id = data_utils.rand_uuid_hex(),2,2
openstack%2Ftempest~master~Iedda3da7074e9db6759f2b32bb905cf3d83baf52,openstack/tempest,master,Iedda3da7074e9db6759f2b32bb905cf3d83baf52,Remove CONF values from messaging client,MERGED,2015-01-14 14:27:26.000000000,2015-02-03 05:33:34.000000000,2015-02-03 05:33:33.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 1921}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 8859}, {'_account_id': 8871}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-14 14:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/71699452e1ee48f1ded9ff5226969a8a1e153f04', 'message': 'Remove CONF.identity.region from service clients\n\nCONF.identity.region is used for default region, and the value is passed\nin each service client.\nThis patch adds ""region"" argument to set_service_client_defaults() and\nremoves CONF.identity.region value setting from service clients by using\nCONF.identity.region as the default value.\n\nChange-Id: Iedda3da7074e9db6759f2b32bb905cf3d83baf52\n'}, {'number': 2, 'created': '2015-01-22 05:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c153089e9bbf935e9113d7c11023cd8bfb02e5d3', 'message': 'Remove CONF values from messaging client\n\nTo move messaging client to tempest-lib, this patch moves\nCONF values from messaging client to the client setting.\n\nChange-Id: Iedda3da7074e9db6759f2b32bb905cf3d83baf52\n'}, {'number': 3, 'created': '2015-01-22 05:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/43cf302836a61397445992c35176fdb4a06f6b0f', 'message': 'Remove CONF values from messaging client\n\nTo move messaging client to tempest-lib, this patch moves\nCONF values from messaging client to the client setting.\n\nChange-Id: Iedda3da7074e9db6759f2b32bb905cf3d83baf52\n'}, {'number': 4, 'created': '2015-01-22 06:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/29bbbf84434a1213af612075b241792c4d7ee680', 'message': 'Remove CONF values from messaging client\n\nTo move messaging client to tempest-lib, this patch moves\nCONF values from messaging client to the client setting.\n\nChange-Id: Iedda3da7074e9db6759f2b32bb905cf3d83baf52\n'}, {'number': 5, 'created': '2015-01-22 08:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/162734e04bbb3a43aebba44f5edab394153b6f5e', 'message': 'Remove CONF values from messaging client\n\nTo move messaging client to tempest-lib, this patch moves\nCONF values from messaging client to the client setting.\n\nChange-Id: Iedda3da7074e9db6759f2b32bb905cf3d83baf52\n'}, {'number': 6, 'created': '2015-01-24 07:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/30381f752b9bf189fd0678d8a9c49b8814c9a45a', 'message': 'Remove CONF values from messaging client\n\nTo move messaging client to tempest-lib, this patch moves\nCONF values from messaging client to the client setting.\n\nChange-Id: Iedda3da7074e9db6759f2b32bb905cf3d83baf52\n'}, {'number': 7, 'created': '2015-01-27 11:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/df5294763f00120a2d0dedc4fe2d1e8d259ba145', 'message': 'Remove CONF values from messaging client\n\nTo move messaging client to tempest-lib, this patch moves\nCONF values from messaging client to the client setting.\n\nChange-Id: Iedda3da7074e9db6759f2b32bb905cf3d83baf52\n'}, {'number': 8, 'created': '2015-01-29 01:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5064d45dbf9153949fdc04ebf8ad18d1690e387a', 'message': 'Remove CONF values from messaging client\n\nTo move messaging client to tempest-lib, this patch moves\nCONF values from messaging client to the client setting.\n\nChange-Id: Iedda3da7074e9db6759f2b32bb905cf3d83baf52\n'}, {'number': 9, 'created': '2015-02-03 02:06:45.000000000', 'files': ['tempest/services/messaging/json/messaging_client.py', 'tempest/clients.py', 'tempest/tests/common/test_service_clients.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2183a65887d6ff0b23d0d7d77bf2440e66420a4c', 'message': 'Remove CONF values from messaging client\n\nTo move messaging client to tempest-lib, this patch moves\nCONF values from messaging client to the client setting.\n\nChange-Id: Iedda3da7074e9db6759f2b32bb905cf3d83baf52\n'}]",0,147170,2183a65887d6ff0b23d0d7d77bf2440e66420a4c,42,8,9,6167,,,0,"Remove CONF values from messaging client

To move messaging client to tempest-lib, this patch moves
CONF values from messaging client to the client setting.

Change-Id: Iedda3da7074e9db6759f2b32bb905cf3d83baf52
",git fetch https://review.opendev.org/openstack/tempest refs/changes/70/147170/8 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/services/orchestration/json/orchestration_client.py', 'tempest/services/network/json/network_client.py', 'tempest/services/identity/v3/json/base.py', 'tempest/services/messaging/json/messaging_client.py', 'tempest/services/object_storage/base.py', 'tempest/services/volume/json/base.py', 'tempest/services/compute/json/base.py', 'tempest/common/service_client.py', 'tempest/services/telemetry/json/telemetry_client.py', 'tempest/services/data_processing/v1_1/client.py', 'tempest/services/image/v2/json/image_client.py', 'tempest/services/identity/json/identity_client.py', 'tempest/clients.py', 'tempest/services/database/json/flavors_client.py', 'tempest/services/baremetal/base.py', 'tempest/services/database/json/versions_client.py', 'tempest/services/image/v1/json/image_client.py']",17,71699452e1ee48f1ded9ff5226969a8a1e153f04,service-client," region=CONF.image.region,"," CONF.image.region or CONF.identity.region,",20,21
openstack%2Fheat~master~I77a2b72f3877d372ead2351e1b37ae4571fa6f59,openstack/heat,master,I77a2b72f3877d372ead2351e1b37ae4571fa6f59,Imported Translations from Transifex,MERGED,2015-01-31 06:02:16.000000000,2015-02-03 04:44:26.000000000,2015-02-03 04:44:25.000000000,"[{'_account_id': 3}, {'_account_id': 4715}, {'_account_id': 9542}]","[{'number': 1, 'created': '2015-01-31 06:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ac2bcf3a2f66a9e6e5c5d805e8ba3afd8818d03b', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I77a2b72f3877d372ead2351e1b37ae4571fa6f59\n'}, {'number': 2, 'created': '2015-02-01 06:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a443c868107a6645b5ea7a508323c61f7ac40b51', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I77a2b72f3877d372ead2351e1b37ae4571fa6f59\n'}, {'number': 3, 'created': '2015-02-02 06:02:12.000000000', 'files': ['heat/locale/heat.pot', 'heat/locale/heat-log-info.pot', 'heat/locale/fr/LC_MESSAGES/heat-log-info.po', 'heat/locale/es/LC_MESSAGES/heat-log-info.po'], 'web_link': 'https://opendev.org/openstack/heat/commit/57b6c4d0ed85f8e15ea17c0a63ef295d62140a19', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I77a2b72f3877d372ead2351e1b37ae4571fa6f59\n'}]",0,151853,57b6c4d0ed85f8e15ea17c0a63ef295d62140a19,14,3,3,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I77a2b72f3877d372ead2351e1b37ae4571fa6f59
",git fetch https://review.opendev.org/openstack/heat refs/changes/53/151853/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/locale/heat.pot', 'heat/locale/heat-log-info.pot', 'heat/locale/fr/LC_MESSAGES/heat-log-info.po', 'heat/locale/es/LC_MESSAGES/heat-log-info.po']",4,ac2bcf3a2f66a9e6e5c5d805e8ba3afd8818d03b,transifex/translations,"""POT-Creation-Date: 2015-01-31 06:01+0000\n"" ""PO-Revision-Date: 2015-01-30 17:10+0000\n""#: heat/api/cfn/v1/stacks.py:439 heat/engine/service.py:732#: heat/common/urlfetch.py:43#: heat/engine/resource.py:562#: heat/engine/resource.py:711#: heat/engine/resource.py:736#: heat/engine/resource.py:773#: heat/engine/resource.py:789#: heat/engine/resource.py:794#: heat/engine/resource.py:840#: heat/engine/resource.py:873#: heat/engine/service.py:541#: heat/engine/service.py:575#: heat/engine/service.py:598#: heat/engine/service.py:636#: heat/engine/service.py:698#: heat/engine/service.py:827#: heat/engine/service.py:880#: heat/engine/service.py:1165 #, python-format msgid """" ""%(stack)s is in state %(action)s_IN_PROGRESS, snapshot is not permitted."" msgstr """" #: heat/engine/service.py:1208#: heat/engine/stack.py:537#: heat/engine/stack.py:923#: heat/engine/stack.py:931#: heat/engine/stack.py:1016 heat/engine/stack.py:1028#: heat/engine/stack.py:1044#: heat/engine/stack.py:1065#: heat/engine/stack_resource.py:283#: heat/engine/resources/aws/scaling_policy.py:118#: heat/engine/resources/loadbalancer.py:504#: heat/engine/resources/sahara_cluster.py:160#: heat/engine/resources/sahara_cluster.py:172#: heat/engine/resources/sahara_cluster.py:195#: heat/engine/resources/sahara_templates.py:195#: heat/engine/resources/sahara_templates.py:208#: heat/engine/resources/sahara_templates.py:368#: heat/engine/resources/sahara_templates.py:381#: heat/engine/resources/server.py:1004#: heat/engine/resources/swiftsignal.py:320 #: heat/engine/resources/openstack/wait_condition.py:101#: heat/engine/resources/swiftsignal.py:327 #: heat/engine/resources/openstack/wait_condition.py:106#: heat/engine/resources/aws/autoscaling_group.py:264#: heat/engine/resources/aws/scaling_policy.py:124 #: heat/engine/resources/openstack/scaling_policy.py:133#: heat/engine/resources/aws/scaling_policy.py:138 #: heat/engine/resources/openstack/scaling_policy.py:147#: heat/engine/resources/openstack/scaling_policy.py:127#: heat/engine/resources/openstack/wait_condition.py:93","""POT-Creation-Date: 2015-01-19 06:01+0000\n"" ""PO-Revision-Date: 2014-12-23 12:43+0000\n""#: heat/api/cfn/v1/stacks.py:439 heat/engine/service.py:730#: heat/common/urlfetch.py:44#: heat/engine/resource.py:561#: heat/engine/resource.py:710#: heat/engine/resource.py:735#: heat/engine/resource.py:772#: heat/engine/resource.py:788#: heat/engine/resource.py:793#: heat/engine/resource.py:839#: heat/engine/resource.py:872#: heat/engine/service.py:539#: heat/engine/service.py:573#: heat/engine/service.py:596#: heat/engine/service.py:634#: heat/engine/service.py:696#: heat/engine/service.py:825#: heat/engine/service.py:878#: heat/engine/service.py:1181#: heat/engine/stack.py:536#: heat/engine/stack.py:922#: heat/engine/stack.py:930#: heat/engine/stack.py:1015 heat/engine/stack.py:1027#: heat/engine/stack.py:1043#: heat/engine/stack.py:1064#: heat/engine/stack_resource.py:279#: heat/engine/resources/aws/scaling_policy.py:119#: heat/engine/resources/loadbalancer.py:453#: heat/engine/resources/sahara_cluster.py:141#: heat/engine/resources/sahara_cluster.py:153#: heat/engine/resources/sahara_cluster.py:176#: heat/engine/resources/sahara_templates.py:196#: heat/engine/resources/sahara_templates.py:209#: heat/engine/resources/sahara_templates.py:354#: heat/engine/resources/sahara_templates.py:367#: heat/engine/resources/server.py:1002#: heat/engine/resources/swiftsignal.py:249 #: heat/engine/resources/openstack/wait_condition.py:104#: heat/engine/resources/swiftsignal.py:256 #: heat/engine/resources/openstack/wait_condition.py:109#: heat/engine/resources/aws/autoscaling_group.py:251#: heat/engine/resources/aws/scaling_policy.py:125 #: heat/engine/resources/openstack/scaling_policy.py:134#: heat/engine/resources/aws/scaling_policy.py:139 #: heat/engine/resources/openstack/scaling_policy.py:148#: heat/engine/resources/openstack/scaling_policy.py:128#: heat/engine/resources/openstack/wait_condition.py:96",234,211
openstack%2Fheat~master~Ie765eab75de835d5dec94024f1d90197f1723b4d,openstack/heat,master,Ie765eab75de835d5dec94024f1d90197f1723b4d,Enable some unit tests back,MERGED,2015-01-28 15:06:38.000000000,2015-02-03 04:38:48.000000000,2015-02-03 04:38:47.000000000,"[{'_account_id': 3}, {'_account_id': 4715}, {'_account_id': 8289}, {'_account_id': 9542}]","[{'number': 1, 'created': '2015-01-28 15:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/836ec1b23b0da3feec38e32ebfe6b90d1bfd564f', 'message': 'Enable some unit tests back\n\nSince split between AWS and OS WaitConidtion/Volume resources unit tests\nfor those resources were not running as they were not discovered.\n\nDuring this time some changes were merged that actually broke some\ntests (mostly the mocking) so this patch fixes those broken tests too.\n\nSome AWS WaitConidtion tests were testing the hande_update method,\nwhich has no sense now as it no longer returns a TaskRunner instance.\nThese tests were modified to use the general resource.update method.\n\nOne test in AWS volumes is modified to use mocked ServerConstraint,\nwhich is added to base TestCase as stubs for other contraints.\n\nChange-Id: Ie765eab75de835d5dec94024f1d90197f1723b4d\nCloses-Bug: #1414083\n'}, {'number': 2, 'created': '2015-01-29 15:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/30e60b37e72bf1f4c8a2f4aa3e3688e25ad6d13a', 'message': 'Enable some unit tests back\n\nSince split between AWS and OS WaitConidtion/Volume resources unit tests\nfor those resources were not running as they were not discovered.\n\nDuring this time some changes were merged that actually broke some\ntests (mostly the mocking) so this patch fixes those broken tests too.\n\nSome AWS WaitConidtion tests were testing the handle_update method,\nwhich has no sense now as it no longer returns a TaskRunner instance.\nThese tests were modified to use the general resource.update method.\n\nOne test in AWS volumes is modified to use mocked ServerConstraint,\nwhich is added to base TestCase as stubs for other contraints.\n\nChange-Id: Ie765eab75de835d5dec94024f1d90197f1723b4d\nCloses-Bug: #1414083\n'}, {'number': 3, 'created': '2015-01-30 19:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/81adf1d4ceea3c33f0c74699795d5864465c4b39', 'message': 'Enable some unit tests back\n\nSince split between AWS and OS WaitConidtion/Volume resources unit tests\nfor those resources were not running as they were not discovered.\n\nDuring this time some changes were merged that actually broke some\ntests (mostly the mocking) so this patch fixes those broken tests too.\n\nSome AWS WaitConidtion tests were testing the handle_update method,\nwhich has no sense now as it no longer returns a TaskRunner instance.\nThese tests were modified to use the general resource.update method.\n\nOne test in AWS volumes is modified to use mocked ServerConstraint,\nwhich is added to base TestCase as are stubs for other contraints.\nAnother test in AWS volumes was using a dumb monkey-patching\ninstead of proper mock, leading to clashes during cincurrent test runs.\n\nChange-Id: Ie765eab75de835d5dec94024f1d90197f1723b4d\nCloses-Bug: #1414083\n'}, {'number': 4, 'created': '2015-02-02 11:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d392ab2480326b87af6c2246322c5860e3a81b50', 'message': 'Enable some unit tests back\n\nSince split between AWS and OS WaitConidtion/Volume resources unit tests\nfor those resources were not running as they were not discovered.\n\nDuring this time some changes were merged that actually broke some\ntests (mostly the mocking) so this patch fixes those broken tests too.\n\nSome AWS WaitConidtion tests were testing the handle_update method,\nwhich has no sense now as it no longer returns a TaskRunner instance.\nThese tests were modified to use the general resource.update method.\n\nOne test in AWS volumes is modified to use mocked ServerConstraint,\nwhich is added to base TestCase as are stubs for other constraints.\nAnother test in AWS volumes was using a dumb monkey-patching\ninstead of proper mock, leading to clashes during concurrent test runs.\n\nChange-Id: Ie765eab75de835d5dec94024f1d90197f1723b4d\nCloses-Bug: #1414083'}, {'number': 5, 'created': '2015-02-03 02:21:49.000000000', 'files': ['heat/tests/aws/__init__.py', 'heat/tests/aws/test_volume.py', 'heat/tests/openstack/__init__.py', 'heat/tests/common.py', 'heat/tests/aws/test_waitcondition.py', 'heat/tests/openstack/test_waitcondition.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/5f3f379422053829a406c80b291fcbe37c970075', 'message': 'Enable some unit tests back\n\nSince split between AWS and OS WaitConidtion/Volume resources unit tests\nfor those resources were not running as they were not discovered.\n\nDuring this time some changes were merged that actually broke some\ntests (mostly the mocking) so this patch fixes those broken tests too.\n\nSome AWS WaitConidtion tests were testing the handle_update method,\nwhich has no sense now as it no longer returns a TaskRunner instance.\nThese tests were modified to use the general resource.update method.\n\nOne test in AWS volumes is modified to use mocked ServerConstraint,\nwhich is added to base TestCase as are stubs for other constraints.\nAnother test in AWS volumes was using a dumb monkey-patching\ninstead of proper mock, leading to clashes during concurrent test runs.\n\nChange-Id: Ie765eab75de835d5dec94024f1d90197f1723b4d\nCloses-Bug: #1414083'}]",0,150804,5f3f379422053829a406c80b291fcbe37c970075,25,4,5,9542,,,0,"Enable some unit tests back

Since split between AWS and OS WaitConidtion/Volume resources unit tests
for those resources were not running as they were not discovered.

During this time some changes were merged that actually broke some
tests (mostly the mocking) so this patch fixes those broken tests too.

Some AWS WaitConidtion tests were testing the handle_update method,
which has no sense now as it no longer returns a TaskRunner instance.
These tests were modified to use the general resource.update method.

One test in AWS volumes is modified to use mocked ServerConstraint,
which is added to base TestCase as are stubs for other constraints.
Another test in AWS volumes was using a dumb monkey-patching
instead of proper mock, leading to clashes during concurrent test runs.

Change-Id: Ie765eab75de835d5dec94024f1d90197f1723b4d
Closes-Bug: #1414083",git fetch https://review.opendev.org/openstack/heat refs/changes/04/150804/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/aws/__init__.py', 'heat/tests/aws/test_volume.py', 'heat/tests/openstack/__init__.py', 'heat/tests/common.py', 'heat/tests/aws/test_waitcondition.py', 'heat/tests/openstack/test_waitcondition.py']",6,836ec1b23b0da3feec38e32ebfe6b90d1bfd564f,bp/decouple-aws-os-resources,"import datetimefrom oslo_utils import timeutils now = timeutils.utcnow() fake_clock = [now + datetime.timedelta(0, t) for t in (0, 0.001, 0.1, 4.1, 5.1)] timeutils.set_time_override(fake_clock) self.addCleanup(timeutils.clear_time_override) heat_wch.HeatWaitConditionHandle.get_status( ).MultipleTimes().AndReturn([])","import timefrom heat.engine import scheduler st = time.time() self.m.StubOutWithMock(scheduler, 'wallclock') scheduler.wallclock().AndReturn(st) scheduler.wallclock().AndReturn(st + 0.001) scheduler.wallclock().AndReturn(st + 0.1) heat_wch.HeatWaitConditionHandle.get_status().AndReturn([]) scheduler.wallclock().AndReturn(st + 4.1) heat_wch.HeatWaitConditionHandle.get_status().AndReturn([]) scheduler.wallclock().AndReturn(st + 5.1)",54,90
openstack%2Fheat~master~Id018166caf73534c8ed90f68159f74b24c1a96d9,openstack/heat,master,Id018166caf73534c8ed90f68159f74b24c1a96d9,fixed typo form dependancy to dependency,MERGED,2015-02-03 02:20:13.000000000,2015-02-03 04:38:38.000000000,2015-02-03 04:38:37.000000000,"[{'_account_id': 3}, {'_account_id': 8246}, {'_account_id': 8289}]","[{'number': 1, 'created': '2015-02-03 02:20:13.000000000', 'files': ['heat/engine/resources/instance_group.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/4087cc8204c92088ddfae02e078b1aeeb30d42e8', 'message': 'fixed typo form dependancy to dependency\n\nChange-Id: Id018166caf73534c8ed90f68159f74b24c1a96d9\n'}]",0,152370,4087cc8204c92088ddfae02e078b1aeeb30d42e8,8,3,1,12849,,,0,"fixed typo form dependancy to dependency

Change-Id: Id018166caf73534c8ed90f68159f74b24c1a96d9
",git fetch https://review.opendev.org/openstack/heat refs/changes/70/152370/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/instance_group.py'],1,4087cc8204c92088ddfae02e078b1aeeb30d42e8,, # It seems to be a common error to not have a dependency on the, # It seems to be a common error to not have a dependancy on the,1,1
openstack%2Fneutron~master~I6da021bdf0c79f72336416d02ab989407f352904,openstack/neutron,master,I6da021bdf0c79f72336416d02ab989407f352904,Make prevent_l3_port_deletion handle missing port,MERGED,2015-01-30 21:43:12.000000000,2015-02-03 04:24:04.000000000,2015-02-03 04:00:05.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 7183}, {'_account_id': 7787}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}]","[{'number': 1, 'created': '2015-01-30 21:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d1fa0f87aebce5b2dfaa09c75e614bbfa3a0d58', 'message': ""Make prevent_l3_port_deletion handle missing port\n\nThis adjusts the prevent_l3_port_deletion function to handle\nthe case where the port ID that is passed to it does not have\nan entry in the database.\n\nPreviously it was raising an exception in this case, which is\ninconsistent to how ML2 was handling concurrent port_delete requests\nfurther in the port delete function (log them but don't fail).\n\nCloses-Bug: #1416554\nChange-Id: I6da021bdf0c79f72336416d02ab989407f352904\n""}, {'number': 2, 'created': '2015-02-02 22:07:03.000000000', 'files': ['neutron/tests/unit/test_l3_plugin.py', 'neutron/db/l3_db.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f5b01c18b66e9f456150ceed08e8f0264499d7e', 'message': ""Make prevent_l3_port_deletion handle missing port\n\nThis adjusts the prevent_l3_port_deletion function to handle\nthe case where the port ID that is passed to it does not have\nan entry in the database.\n\nPreviously it was raising an exception in this case, which is\ninconsistent to how ML2 was handling concurrent port_delete requests\nfurther in the port delete function (log them but don't fail).\n\nCloses-Bug: #1416554\nChange-Id: I6da021bdf0c79f72336416d02ab989407f352904\n""}]",2,151788,4f5b01c18b66e9f456150ceed08e8f0264499d7e,56,24,2,7787,,,0,"Make prevent_l3_port_deletion handle missing port

This adjusts the prevent_l3_port_deletion function to handle
the case where the port ID that is passed to it does not have
an entry in the database.

Previously it was raising an exception in this case, which is
inconsistent to how ML2 was handling concurrent port_delete requests
further in the port delete function (log them but don't fail).

Closes-Bug: #1416554
Change-Id: I6da021bdf0c79f72336416d02ab989407f352904
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/151788/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/test_l3_plugin.py', 'neutron/db/l3_db.py', 'neutron/plugins/ml2/plugin.py']",3,0d1fa0f87aebce5b2dfaa09c75e614bbfa3a0d58,bug/1416554,, # the port existed when l3plugin.prevent_l3_port_deletion # was called but now is already gone,12,4
openstack%2Ftempest~master~I0fabc1036bcf8ce2e96ac946a6fe1d67deee140d,openstack/tempest,master,I0fabc1036bcf8ce2e96ac946a6fe1d67deee140d,Remove CONF values from object_storage clients,MERGED,2015-01-22 04:27:38.000000000,2015-02-03 04:04:09.000000000,2015-02-03 04:04:07.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 1921}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 8859}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-22 04:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d72426da9531a8879b36b64cf4cdbb0bef88209f', 'message': 'Remove CONF values from object_storage clients\n\nTo move object_storage clients to tempest-lib, this patch moves\nCONF values from object_storage clients to the client setting.\n\nChange-Id: I0fabc1036bcf8ce2e96ac946a6fe1d67deee140d\n'}, {'number': 2, 'created': '2015-01-22 05:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ac458dc075035a3a7758ca141e062802e1111b2b', 'message': 'Remove CONF values from object_storage clients\n\nTo move object_storage clients to tempest-lib, this patch moves\nCONF values from object_storage clients to the client setting.\n\nChange-Id: I0fabc1036bcf8ce2e96ac946a6fe1d67deee140d\n'}, {'number': 3, 'created': '2015-01-22 08:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/75e23674e6423987788c677eb5bbbe18c6c13fe4', 'message': 'Remove CONF values from object_storage clients\n\nTo move object_storage clients to tempest-lib, this patch moves\nCONF values from object_storage clients to the client setting.\n\nChange-Id: I0fabc1036bcf8ce2e96ac946a6fe1d67deee140d\n'}, {'number': 4, 'created': '2015-01-24 07:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c88a203c47579fcc6f16af4b84e8fccf9de08287', 'message': 'Remove CONF values from object_storage clients\n\nTo move object_storage clients to tempest-lib, this patch moves\nCONF values from object_storage clients to the client setting.\n\nChange-Id: I0fabc1036bcf8ce2e96ac946a6fe1d67deee140d\n'}, {'number': 5, 'created': '2015-01-27 11:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4fce14f64f73235998b19bc3833066a66a3ad887', 'message': 'Remove CONF values from object_storage clients\n\nTo move object_storage clients to tempest-lib, this patch moves\nCONF values from object_storage clients to the client setting.\n\nChange-Id: I0fabc1036bcf8ce2e96ac946a6fe1d67deee140d\n'}, {'number': 6, 'created': '2015-01-29 01:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3b87d7e1abfec377040fedbbb3b58ec2e89b650a', 'message': 'Remove CONF values from object_storage clients\n\nTo move object_storage clients to tempest-lib, this patch moves\nCONF values from object_storage clients to the client setting.\n\nChange-Id: I0fabc1036bcf8ce2e96ac946a6fe1d67deee140d\n'}, {'number': 7, 'created': '2015-02-03 02:04:47.000000000', 'files': ['tempest/services/object_storage/account_client.py', 'tempest/cmd/javelin.py', 'tempest/services/object_storage/object_client.py', 'tempest/services/object_storage/container_client.py', 'tempest/services/object_storage/base.py', 'tempest/clients.py', 'tempest/tests/common/test_service_clients.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/564b2adf1ef5ed73c529a9fabdc1c74553f2a48d', 'message': 'Remove CONF values from object_storage clients\n\nTo move object_storage clients to tempest-lib, this patch moves\nCONF values from object_storage clients to the client setting.\n\nChange-Id: I0fabc1036bcf8ce2e96ac946a6fe1d67deee140d\n'}]",5,149139,564b2adf1ef5ed73c529a9fabdc1c74553f2a48d,35,7,7,6167,,,0,"Remove CONF values from object_storage clients

To move object_storage clients to tempest-lib, this patch moves
CONF values from object_storage clients to the client setting.

Change-Id: I0fabc1036bcf8ce2e96ac946a6fe1d67deee140d
",git fetch https://review.opendev.org/openstack/tempest refs/changes/39/149139/6 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/services/object_storage/account_client.py', 'tempest/services/object_storage/object_client.py', 'tempest/services/object_storage/container_client.py', 'tempest/clients.py', 'tempest/services/object_storage/base.py', 'tempest/tests/common/test_service_clients.py']",6,d72426da9531a8879b36b64cf4cdbb0bef88209f,service-client,"from tempest.services.object_storage import account_client from tempest.services.object_storage import container_client from tempest.services.object_storage import object_client account_client.AccountClient, container_client.ContainerClient, object_client.ObjectClient,",,22,47
openstack%2Fheat~master~Ieec2c9d540c30c3e4da5b38026daf60de286b2ff,openstack/heat,master,Ieec2c9d540c30c3e4da5b38026daf60de286b2ff,Wait for all resources to get updated before asserting state,MERGED,2015-02-02 12:13:59.000000000,2015-02-03 04:03:53.000000000,2015-02-03 04:03:52.000000000,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 6577}, {'_account_id': 8289}]","[{'number': 1, 'created': '2015-02-02 12:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d0d8edfc64146b6cb6fe21b7b7126617ba2ade91', 'message': 'Wait for all resources to get updated before asserting state\n\nChange-Id: Ieec2c9d540c30c3e4da5b38026daf60de286b2ff\nCloses-bug: 1417077\n'}, {'number': 2, 'created': '2015-02-02 12:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2264846e225fbb3a8a8c0a28378e95d432bd0eee', 'message': 'Wait for all resources to get updated before asserting state\n\nChange-Id: Ieec2c9d540c30c3e4da5b38026daf60de286b2ff\nCloses-bug: 1417077\n'}, {'number': 3, 'created': '2015-02-03 01:27:58.000000000', 'files': ['heat_integrationtests/functional/test_instance_group.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/78da88dd77fa11fade502a5b083866c3cf48d30a', 'message': 'Wait for all resources to get updated before asserting state\n\nChange-Id: Ieec2c9d540c30c3e4da5b38026daf60de286b2ff\nCloses-bug: 1417077\n'}]",0,152094,78da88dd77fa11fade502a5b083866c3cf48d30a,14,4,3,4715,,,0,"Wait for all resources to get updated before asserting state

Change-Id: Ieec2c9d540c30c3e4da5b38026daf60de286b2ff
Closes-bug: 1417077
",git fetch https://review.opendev.org/openstack/heat refs/changes/94/152094/3 && git format-patch -1 --stdout FETCH_HEAD,['heat_integrationtests/functional/test_instance_group.py'],1,d0d8edfc64146b6cb6fe21b7b7126617ba2ade91,bug/1417077," for res in self.client.resources.list(nested_ident): self._wait_for_resource_status(nested_ident, res.resource_name, 'UPDATE_COMPLETE')"," self._assert_instance_state(nested_ident, 0, 3)",3,1
openstack%2Fheat~master~I07f3943b56fb925e550246b41df2956655869301,openstack/heat,master,I07f3943b56fb925e550246b41df2956655869301,Add check_adopt_complete to the stack_resource,MERGED,2015-02-02 10:14:45.000000000,2015-02-03 04:00:47.000000000,2015-02-03 04:00:46.000000000,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 8289}, {'_account_id': 12606}]","[{'number': 1, 'created': '2015-02-02 10:14:45.000000000', 'files': ['heat/tests/test_nested_stack.py', 'heat/engine/resources/resource_group.py', 'heat/engine/stack_resource.py', 'heat/engine/resources/template_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/6b520b2cd19bd223f9c15b38ef422f5515cf63f8', 'message': 'Add check_adopt_complete to the stack_resource\n\nNestedStack was hiding adopt failures from the user.\nWe have identical versions of check_adopt_complete in\ntemplate_resource and resource_group, so just move it\nto the base class to catch all the nested stack implementations.\n\nChange-Id: I07f3943b56fb925e550246b41df2956655869301\nCloses-bug: 1416934\n'}]",0,152072,6b520b2cd19bd223f9c15b38ef422f5515cf63f8,10,4,1,4715,,,0,"Add check_adopt_complete to the stack_resource

NestedStack was hiding adopt failures from the user.
We have identical versions of check_adopt_complete in
template_resource and resource_group, so just move it
to the base class to catch all the nested stack implementations.

Change-Id: I07f3943b56fb925e550246b41df2956655869301
Closes-bug: 1416934
",git fetch https://review.opendev.org/openstack/heat refs/changes/72/152072/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_nested_stack.py', 'heat/engine/resources/resource_group.py', 'heat/engine/stack_resource.py', 'heat/engine/resources/template_resource.py']",4,6b520b2cd19bd223f9c15b38ef422f5515cf63f8,bp/decouple-nested,," def check_adopt_complete(self, stack_creator): done = stack_creator.step() if done: if self._nested.state != (self._nested.ADOPT, self._nested.COMPLETE): raise exception.Error(self._nested.status_reason) return done ",15,21
openstack%2Fheat~master~Ibdd1cb5dee6ce8e58f7d8f2586a495caded79134,openstack/heat,master,Ibdd1cb5dee6ce8e58f7d8f2586a495caded79134,"Use ""if stack is not None"" and not ""if stack""",MERGED,2015-02-02 10:14:45.000000000,2015-02-03 04:00:37.000000000,2015-02-03 04:00:36.000000000,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 9542}, {'_account_id': 12606}, {'_account_id': 13009}]","[{'number': 1, 'created': '2015-02-02 10:14:45.000000000', 'files': ['heat/engine/api.py', 'heat/engine/resources/template_resource.py', 'heat/tests/test_engine_api_utils.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/734f777da48cc008d8da4bf197c7a87a03be8846', 'message': 'Use ""if stack is not None"" and not ""if stack""\n\nProblem:\nIf a nested stack has no resources, then we do not get\na ""nested"" link in the resource information returned by\nour API.\n\nWhy?\nIn engine/api.py we have:\n\nif (hasattr(resource, \'nested\') and callable(resource.nested) and\n            resource.nested()):\n         res[rpc_api.RES_NESTED_STACK_ID] = dict(resource.nested().identifier())\n\nThe problem with this is the python definition of False, from the docs:\n\n""instances of user-defined classes, if the class defines a __nonzero__()\n or __len__() method, when that method returns the integer zero or bool\n value False. [1]""\n\nSo if you have a stack with zero resources (len() returns 0), the\nstack will be False :-O\n\nSolution:\nUse ""if stack is not None:"" instead of ""if stack"".\n\nChange-Id: Ibdd1cb5dee6ce8e58f7d8f2586a495caded79134\nCloses-bug: 1416917\n'}]",0,152071,734f777da48cc008d8da4bf197c7a87a03be8846,10,5,1,4715,,,0,"Use ""if stack is not None"" and not ""if stack""

Problem:
If a nested stack has no resources, then we do not get
a ""nested"" link in the resource information returned by
our API.

Why?
In engine/api.py we have:

if (hasattr(resource, 'nested') and callable(resource.nested) and
            resource.nested()):
         res[rpc_api.RES_NESTED_STACK_ID] = dict(resource.nested().identifier())

The problem with this is the python definition of False, from the docs:

""instances of user-defined classes, if the class defines a __nonzero__()
 or __len__() method, when that method returns the integer zero or bool
 value False. [1]""

So if you have a stack with zero resources (len() returns 0), the
stack will be False :-O

Solution:
Use ""if stack is not None:"" instead of ""if stack"".

Change-Id: Ibdd1cb5dee6ce8e58f7d8f2586a495caded79134
Closes-bug: 1416917
",git fetch https://review.opendev.org/openstack/heat refs/changes/71/152071/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/api.py', 'heat/engine/resources/template_resource.py', 'heat/tests/test_engine_api_utils.py']",3,734f777da48cc008d8da4bf197c7a87a03be8846,bp/decouple-nested," def test_format_stack_resource_with_nested_stack_empty(self): res = self.stack['generic1'] nested_id = {'foo': 'bar'} res.nested = mock.MagicMock() res.nested.return_value.identifier.return_value = nested_id res.nested.return_value.__len__.return_value = 0 formatted = api.format_stack_resource(res, False) res.nested.return_value.identifier.assert_called_once_with() self.assertEqual(nested_id, formatted[rpc_api.RES_NESTED_STACK_ID]) ",,15,3
openstack%2Fheat~master~I4406ee772568ea24edfb34e43891f600e9de4573,openstack/heat,master,I4406ee772568ea24edfb34e43891f600e9de4573,Make the update policy timeout check into a unit test,MERGED,2015-01-27 11:12:17.000000000,2015-02-03 04:00:28.000000000,2015-02-03 04:00:26.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 4715}, {'_account_id': 8246}]","[{'number': 1, 'created': '2015-01-27 11:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3baf776c2684216a26991e5f9bfd75a90a5ca6cf', 'message': 'Make the update policy timeout check into a unit test\n\nThere is a lot of repeated tests here, the one the looks unique\nis the testing of a timeout replacement.\nThis is an instance group method so it is moved to test_instance_group and\nit is reworked to not need a stack creation.\n\nPart of blueprint decouple-nested\nChange-Id: I4406ee772568ea24edfb34e43891f600e9de4573\n'}, {'number': 2, 'created': '2015-01-28 11:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9632ea56a274d859d08aba82896a928d96ec1ed8', 'message': 'Make the update policy timeout check into a unit test\n\nThere is a lot of repeated tests here, the one the looks unique\nis the testing of a timeout replacement.\nThis is an instance group method so it is moved to test_instance_group and\nit is reworked to not need a stack creation.\n\nPart of blueprint decouple-nested\nChange-Id: I4406ee772568ea24edfb34e43891f600e9de4573\n'}, {'number': 3, 'created': '2015-01-30 08:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/719eeb7e4437512c84366004d51dcdbc6291f546', 'message': 'Make the update policy timeout check into a unit test\n\nThere are a lot of repeated tests here, the one that looks unique\nis the one that tests a timed out replacement.\nThis is an instance group method so it is moved to test_instance_group and\nit is reworked to not need a stack creation.\n\nPart of blueprint decouple-nested\nChange-Id: I4406ee772568ea24edfb34e43891f600e9de4573\n'}, {'number': 4, 'created': '2015-02-02 10:14:45.000000000', 'files': ['heat/tests/test_autoscaling_update_policy.py', 'heat/tests/test_instance_group_update_policy.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/33f26722b9d9905648a6be79d2d2450f14f2d8d0', 'message': 'Make the update policy timeout check into a unit test\n\nThere are a lot of repeated tests here, the one that looks unique\nis the one that tests a timed out replacement.\nThis is an instance group method so it is moved to test_instance_group and\nit is reworked to not need a stack creation.\n\nPart of blueprint decouple-nested\nChange-Id: I4406ee772568ea24edfb34e43891f600e9de4573\n'}]",1,150366,33f26722b9d9905648a6be79d2d2450f14f2d8d0,25,5,4,4715,,,0,"Make the update policy timeout check into a unit test

There are a lot of repeated tests here, the one that looks unique
is the one that tests a timed out replacement.
This is an instance group method so it is moved to test_instance_group and
it is reworked to not need a stack creation.

Part of blueprint decouple-nested
Change-Id: I4406ee772568ea24edfb34e43891f600e9de4573
",git fetch https://review.opendev.org/openstack/heat refs/changes/66/150366/3 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_autoscaling_update_policy.py', 'heat/tests/test_instance_group_update_policy.py']",2,3baf776c2684216a26991e5f9bfd75a90a5ca6cf,bp/decouple-nested,"import mockfrom heat.engine.resources import instance_group as instgrp from heat.engine import rsrc_defn class InstanceGroupReplaceTest(common.HeatTestCase): def test_timeout_exception(self): t = template_format.parse(ig_tmpl_with_updt_policy) stack = utils.parse_stack(t) defn = rsrc_defn.ResourceDefinition( 'asg', 'OS::Heat::InstanceGroup', {'Size': 2, 'AvailabilityZones': ['zoneb'], ""LaunchConfigurationName"": ""LaunchConfig"", ""LoadBalancerNames"": [""ElasticLoadBalancer""]}) # the following test, effective_capacity is 12 # batch_count = (effective_capacity + batch_size -1)//batch_size # = (12 + 2 - 1)//2 = 6 # if (batch_count - 1)* pause_time > stack.time_out, to raise error # (6 - 1)*14*60 > 3600, so to raise error group = instgrp.InstanceGroup('asg', defn, stack) group.nested = mock.MagicMock(return_value=range(12)) self.assertRaises(ValueError, group._replace, 10, 1, 14 * 60)","import copyimport mox from testtools import matchersfrom heat.engine.clients.os import novafrom heat.engine import parser from heat.engine.resources import instance def _stub_validate(self): self.m.StubOutWithMock(parser.Stack, 'validate') parser.Stack.validate().MultipleTimes() self.stub_ImageConstraint_validate() self.stub_KeypairConstraint_validate() self.stub_FlavorConstraint_validate() def _stub_grp_create(self, capacity): """""" Expect creation of instances to capacity """""" self._stub_validate() self.m.StubOutWithMock(instance.Instance, 'handle_create') self.m.StubOutWithMock(instance.Instance, 'check_create_complete') cookie = object() for x in range(capacity): instance.Instance.handle_create().AndReturn(cookie) instance.Instance.check_create_complete(cookie).AndReturn(True) def _stub_grp_replace(self, num_creates_expected_on_updt=0, num_deletes_expected_on_updt=0): """""" Expect update replacement of the instances """""" self._stub_validate() self.m.StubOutWithMock(instance.Instance, 'handle_create') self.m.StubOutWithMock(instance.Instance, 'check_create_complete') self.m.StubOutWithMock(instance.Instance, 'destroy') cookie = object() for i in range(num_creates_expected_on_updt): instance.Instance.handle_create().AndReturn(cookie) instance.Instance.check_create_complete(cookie).AndReturn(True) for i in range(num_deletes_expected_on_updt): instance.Instance.destroy().AndReturn(None) def _stub_grp_update(self, num_creates_expected_on_updt=0, num_deletes_expected_on_updt=0): """""" Expect update of the instances """""" self.m.StubOutWithMock(nova.NovaClientPlugin, '_create') nova.NovaClientPlugin._create().AndReturn(self.fc) def activate_status(server): server.status = 'VERIFY_RESIZE' return_server = self.fc.servers.list()[1] return_server.id = '1234' return_server.get = activate_status.__get__(return_server) self.m.StubOutWithMock(self.fc.servers, 'get') self.m.StubOutWithMock(self.fc.client, 'post_servers_1234_action') self.fc.servers.get( mox.IgnoreArg()).MultipleTimes().AndReturn(return_server) self.fc.client.post_servers_1234_action( body={'resize': {'flavorRef': 3}} ).MultipleTimes().AndReturn((202, None)) self.fc.client.post_servers_1234_action( body={'confirmResize': None} ).MultipleTimes().AndReturn((202, None)) self._stub_grp_replace(num_creates_expected_on_updt, num_deletes_expected_on_updt) def test_instance_group_update_policy_removed(self): # setup stack from the initial template tmpl = template_format.parse(ig_tmpl_with_updt_policy) stack = utils.parse_stack(tmpl) # test stack create size = int(stack['JobServerGroup'].properties['Size']) self._stub_grp_create(size) self.m.ReplayAll() stack.create() self.m.VerifyAll() self.assertEqual(('CREATE', 'COMPLETE'), stack.state) # test that update policy is loaded current_grp = stack['JobServerGroup'] self.assertIn('RollingUpdate', current_grp.update_policy) current_policy = current_grp.update_policy['RollingUpdate'] self.assertTrue(current_policy) self.assertTrue(len(current_policy) > 0) init_grp_tmpl = tmpl['Resources']['JobServerGroup'] init_roll_updt = init_grp_tmpl['UpdatePolicy']['RollingUpdate'] init_batch_sz = int(init_roll_updt['MaxBatchSize']) self.assertEqual(init_batch_sz, int(current_policy['MaxBatchSize'])) # test that physical resource name of launch configuration is used conf = stack['JobServerConfig'] conf_name_pattern = '%s-JobServerConfig-[a-zA-Z0-9]+$' % stack.name self.assertThat(conf.FnGetRefId(), matchers.MatchesRegex(conf_name_pattern)) # test the number of instances created nested = stack['JobServerGroup'].nested() self.assertEqual(size, len(nested.resources)) # test stack update updated_tmpl = template_format.parse(ig_tmpl_without_updt_policy) updated_stack = utils.parse_stack(updated_tmpl) stack.update(updated_stack) self.assertEqual(('UPDATE', 'COMPLETE'), stack.state) # test that update policy is removed updated_grp = stack['JobServerGroup'] self.assertFalse(updated_grp.update_policy['RollingUpdate']) def test_instance_group_update_policy_check_timeout(self): # setup stack from the initial template tmpl = template_format.parse(ig_tmpl_with_updt_policy) stack = utils.parse_stack(tmpl) # test stack create size = int(stack['JobServerGroup'].properties['Size']) self._stub_grp_create(size) self.m.ReplayAll() stack.create() self.m.VerifyAll() self.assertEqual(('CREATE', 'COMPLETE'), stack.state) # test that update policy is loaded current_grp = stack['JobServerGroup'] self.assertIn('RollingUpdate', current_grp.update_policy) current_policy = current_grp.update_policy['RollingUpdate'] self.assertTrue(current_policy) self.assertTrue(len(current_policy) > 0) init_grp_tmpl = tmpl['Resources']['JobServerGroup'] init_roll_updt = init_grp_tmpl['UpdatePolicy']['RollingUpdate'] init_batch_sz = int(init_roll_updt['MaxBatchSize']) self.assertEqual(init_batch_sz, int(current_policy['MaxBatchSize'])) # test the number of instances created nested = stack['JobServerGroup'].nested() self.assertEqual(size, len(nested.resources)) # clean up for next test self.m.UnsetStubs() # modify the pause time and test for error new_pause_time = 'PT30M' updt_template = json.loads(copy.deepcopy(ig_tmpl_with_updt_policy)) group = updt_template['Resources']['JobServerGroup'] policy = group['UpdatePolicy']['RollingUpdate'] policy['PauseTime'] = new_pause_time config = updt_template['Resources']['JobServerConfig'] config['Properties']['ImageId'] = 'bar' updated_tmpl = template_format.parse(json.dumps(updt_template)) updated_stack = utils.parse_stack(updated_tmpl) self.stub_KeypairConstraint_validate() self.stub_ImageConstraint_validate() self.stub_FlavorConstraint_validate() self.m.ReplayAll() stack.update(updated_stack) self.assertEqual(('UPDATE', 'FAILED'), stack.state) # test that the update policy is updated updated_grp = stack['JobServerGroup'] self.assertIn('RollingUpdate', updated_grp.update_policy) updated_policy = updated_grp.update_policy['RollingUpdate'] self.assertTrue(updated_policy) self.assertTrue(len(updated_policy) > 0) self.assertEqual(new_pause_time, updated_policy['PauseTime']) # test that error message match expected_error_message = ('The current UpdatePolicy will result ' 'in stack update timeout.') self.assertIn(expected_error_message, stack.status_reason) self.m.VerifyAll()",24,427
openstack%2Fironic~master~Iefe0a771dc8328bc92e13dd6d66fdd3853d5bba6,openstack/ironic,master,Iefe0a771dc8328bc92e13dd6d66fdd3853d5bba6,Move oslo.db references to oslo_db,MERGED,2015-02-01 23:06:04.000000000,2015-02-03 04:00:19.000000000,2015-02-03 04:00:18.000000000,"[{'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 6618}, {'_account_id': 8106}, {'_account_id': 10239}, {'_account_id': 12081}]","[{'number': 1, 'created': '2015-02-01 23:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d2e13f5ca46da6104c18ce633f92bbe4d44594e0', 'message': 'Move oslo.db references to oslo_db\n\nThe oslo team is recommending changing to non-namespaced references.\n\nChange-Id: Iefe0a771dc8328bc92e13dd6d66fdd3853d5bba6\n'}, {'number': 2, 'created': '2015-02-01 23:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a2df7e7de449e75af6e9da45f32546760a373d35', 'message': 'Move oslo.db references to oslo_db\n\nThe oslo team is recommending changing to non-namespaced references.\n\nImplements: blueprint drop-namespace-packages\nChange-Id: Iefe0a771dc8328bc92e13dd6d66fdd3853d5bba6\n'}, {'number': 3, 'created': '2015-02-02 14:40:26.000000000', 'files': ['ironic/tests/conductor/test_manager.py', 'ironic/conductor/manager.py', 'ironic/db/migration.py', 'ironic/tests/db/sqlalchemy/test_types.py', 'ironic/db/sqlalchemy/api.py', 'ironic/db/sqlalchemy/migration.py', 'ironic/tests/db/sqlalchemy/test_migrations.py', 'ironic/db/sqlalchemy/models.py', 'ironic/db/api.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8e7643192881e5a86adafdb4fe5020657d03524b', 'message': 'Move oslo.db references to oslo_db\n\nThe oslo team is recommending changing to non-namespaced references.\n\nImplements: blueprint drop-namespace-packages\nChange-Id: Iefe0a771dc8328bc92e13dd6d66fdd3853d5bba6\n'}]",0,151955,8e7643192881e5a86adafdb4fe5020657d03524b,16,6,3,10343,,,0,"Move oslo.db references to oslo_db

The oslo team is recommending changing to non-namespaced references.

Implements: blueprint drop-namespace-packages
Change-Id: Iefe0a771dc8328bc92e13dd6d66fdd3853d5bba6
",git fetch https://review.opendev.org/openstack/ironic refs/changes/55/151955/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/conductor/test_manager.py', 'ironic/conductor/manager.py', 'ironic/db/migration.py', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/db/sqlalchemy/test_types.py', 'ironic/db/sqlalchemy/migration.py', 'ironic/tests/db/sqlalchemy/test_migrations.py', 'ironic/db/sqlalchemy/models.py', 'ironic/db/api.py']",9,d2e13f5ca46da6104c18ce633f92bbe4d44594e0,bp/drop-namespace-packages,from oslo_db import api as db_api,from oslo.db import api as db_api,16,16
openstack%2Fpython-cinderclient~master~Ife966120d9250be8d8149cdec9c1a53405d37027,openstack/python-cinderclient,master,Ife966120d9250be8d8149cdec9c1a53405d37027,Add support for os-volume-type-access extension,MERGED,2014-08-16 00:11:33.000000000,2015-02-03 03:55:15.000000000,2015-02-03 03:55:13.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 2759}, {'_account_id': 5538}, {'_account_id': 5997}, {'_account_id': 7156}, {'_account_id': 8871}, {'_account_id': 11600}, {'_account_id': 11904}, {'_account_id': 13636}, {'_account_id': 14305}]","[{'number': 1, 'created': '2014-08-16 00:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/7bbd358f175a61253bd1d86eb1b2b25547603a47', 'message': 'Add support for os-volume-type-access extension\n\nThis change adds the ability to manage volume type access:\n- Create non-public volume type\n- List volume type access\n- Add a project access\n- Remove a project access\n\nThis change also adds the is_public flag to volume type list.\n\nImplements: blueprint private-volume-types\nChange-Id: Ife966120d9250be8d8149cdec9c1a53405d37027\n'}, {'number': 2, 'created': '2014-08-19 02:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/eddd4d7ddb9cf69451577abd82953288e568baf7', 'message': 'Add support for os-volume-type-access extension\n\nThis change adds the ability to manage volume type access:\n- Create non-public volume type\n- List volume type access\n- Add a project access\n- Remove a project access\n\nThis change also adds the is_public flag to volume type list.\n\nDocImpact: Add volume type access extension support\nImplements: blueprint private-volume-types\nChange-Id: Ife966120d9250be8d8149cdec9c1a53405d37027\n'}, {'number': 3, 'created': '2014-11-17 16:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/5f4e3ba9ca098d61b5e2aa70820ad6be8c47f49d', 'message': 'Add support for os-volume-type-access extension\n\nThis change adds the ability to manage volume type access:\n- Create non-public volume type\n- List volume type access\n- Add a project access\n- Remove a project access\n\nThis change also adds the is_public flag to volume type list.\n\nDocImpact: Add volume type access extension support\nImplements: blueprint private-volume-types\nChange-Id: Ife966120d9250be8d8149cdec9c1a53405d37027\n'}, {'number': 4, 'created': '2014-11-17 19:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/63d2fda1e93b1ff9e4b6e2af19db2aee9c0e4085', 'message': 'Add support for os-volume-type-access extension\n\nThis change adds the ability to manage volume type access:\n- Create non-public volume type\n- List volume type access\n- Add a project access\n- Remove a project access\n\nThis change also adds the is_public flag to volume type list.\n\nDocImpact: Add volume type access extension support\nImplements: blueprint private-volume-types\nChange-Id: Ife966120d9250be8d8149cdec9c1a53405d37027\n'}, {'number': 5, 'created': '2014-11-24 17:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/607493f0f91c2d298cd6c024b42ccd7bc23e22a4', 'message': 'Add support for os-volume-type-access extension\n\nThis change adds the ability to manage volume type access:\n- Create non-public volume type\n- List volume type access\n- Add a project access\n- Remove a project access\n\nThis change also adds the is_public flag to volume type list.\n\nNote: The volume type access extension is only implemented\nin the Cinder API v2.\n\nDocImpact: Add volume type access extension support\nImplements: blueprint private-volume-types\nChange-Id: Ife966120d9250be8d8149cdec9c1a53405d37027\n'}, {'number': 6, 'created': '2014-12-02 00:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/576445a207ca89b81eaaba01b82f587f9d3508f8', 'message': 'Add support for os-volume-type-access extension\n\nThis change adds the ability to manage volume type access:\n- Create non-public volume type\n- List volume type access\n- Add a project access\n- Remove a project access\n\nThis change also adds the is_public flag to volume type list.\n\nNote: The volume type access extension is only implemented\nin the Cinder API v2.\n\nDocImpact: Add volume type access extension support\nImplements: blueprint private-volume-types\nChange-Id: Ife966120d9250be8d8149cdec9c1a53405d37027\n'}, {'number': 7, 'created': '2014-12-03 18:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/8d11e5b4cc59a2160614c5a8750b5b3245b3ac6e', 'message': 'Add support for os-volume-type-access extension\n\nThis change adds the ability to manage volume type access:\n- Create non-public volume type\n- List volume type access\n- Add a project access\n- Remove a project access\n\nThis change also adds the is_public flag to volume type list.\n\nNote: The volume type access extension is only implemented\nin the Cinder API v2.\n\nDocImpact: Add volume type access extension support\nImplements: blueprint private-volume-types\nChange-Id: Ife966120d9250be8d8149cdec9c1a53405d37027\n'}, {'number': 8, 'created': '2014-12-03 18:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/755613cfeb2e242559dd0b2349cb38f41d667f22', 'message': 'Add support for os-volume-type-access extension\n\nThis change adds the ability to manage volume type access:\n- Create non-public volume type\n- List volume type access\n- Add a project access\n- Remove a project access\n\nThis change also adds the is_public flag to volume type list.\n\nNote: The volume type access extension is only implemented\nin the Cinder API v2.\n\nDocImpact: Add volume type access extension support\nImplements: blueprint private-volume-types\nChange-Id: Ife966120d9250be8d8149cdec9c1a53405d37027\n'}, {'number': 9, 'created': '2014-12-03 18:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/765a0ccc957cccc3f649d7e3516c42ef3b94b297', 'message': 'Add support for os-volume-type-access extension\n\nThis change adds the ability to manage volume type access:\n- Create non-public volume type\n- List volume type access\n- Add a project access\n- Remove a project access\n\nThis change also adds the is_public flag to volume type list.\n\nNote: The volume type access extension is only implemented\nin the Cinder API v2.\n\nDocImpact: Add volume type access extension support\nImplements: blueprint private-volume-types\nChange-Id: Ife966120d9250be8d8149cdec9c1a53405d37027\n'}, {'number': 10, 'created': '2014-12-05 21:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/40a719fba294c0cfa4202677611ed6bc55dc7850', 'message': 'Add support for os-volume-type-access extension\n\nThis change adds the ability to manage volume type access:\n- Create non-public volume type\n- List volume type access\n- Add a project access\n- Remove a project access\n\nThis change also adds the is_public flag to volume type list.\n\nNote: The volume type access extension is only implemented\nin the Cinder API v2.\n\nDocImpact: Add volume type access extension support\nImplements: blueprint private-volume-types\nChange-Id: Ife966120d9250be8d8149cdec9c1a53405d37027\n'}, {'number': 11, 'created': '2014-12-08 16:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/cab7139f1807f8662a6740804f2cf8ec40d0de12', 'message': 'Add support for os-volume-type-access extension\n\nThis change adds the ability to manage volume type access:\n- Create non-public volume type\n- List volume type access\n- Add a project access\n- Remove a project access\n\nThis change also adds the is_public flag to volume type list.\n\nNote: The volume type access extension is only implemented\nin the Cinder API v2.\n\nDocImpact: Add volume type access extension support\nImplements: blueprint private-volume-types\nChange-Id: Ife966120d9250be8d8149cdec9c1a53405d37027\n'}, {'number': 12, 'created': '2014-12-11 17:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/25d9e780078b5dfbad83f36b5424368929a5f243', 'message': 'Add support for os-volume-type-access extension\n\nThis change adds the ability to manage volume type access:\n- Create non-public volume type\n- List volume type access\n- Add a project access\n- Remove a project access\n\nThis change also adds the is_public flag to volume type list.\n\nNote: The volume type access extension is only implemented\nin the Cinder API v2.\n\nDocImpact: Add volume type access extension support\nImplements: blueprint private-volume-types\nChange-Id: Ife966120d9250be8d8149cdec9c1a53405d37027\n'}, {'number': 13, 'created': '2014-12-19 18:26:32.000000000', 'files': ['cinderclient/tests/v2/test_shell.py', 'cinderclient/tests/v2/fakes.py', 'cinderclient/tests/v2/test_type_access.py', 'cinderclient/v2/volume_type_access.py', 'cinderclient/v2/volume_types.py', 'cinderclient/v2/client.py', 'cinderclient/v2/shell.py', 'cinderclient/tests/v2/test_types.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/6f8c235a92b683448d4afbc96f3f4711a96fab8f', 'message': 'Add support for os-volume-type-access extension\n\nThis change adds the ability to manage volume type access:\n- Create non-public volume type\n- List volume type access\n- Add a project access\n- Remove a project access\n\nThis change also adds the is_public flag to volume type list.\n\nNote: The volume type access extension is only implemented\nin the Cinder API v2.\n\nDocImpact: Add volume type access extension support\nImplements: blueprint private-volume-types\nChange-Id: Ife966120d9250be8d8149cdec9c1a53405d37027\n'}]",20,114706,6f8c235a92b683448d4afbc96f3f4711a96fab8f,71,13,13,7156,,,0,"Add support for os-volume-type-access extension

This change adds the ability to manage volume type access:
- Create non-public volume type
- List volume type access
- Add a project access
- Remove a project access

This change also adds the is_public flag to volume type list.

Note: The volume type access extension is only implemented
in the Cinder API v2.

DocImpact: Add volume type access extension support
Implements: blueprint private-volume-types
Change-Id: Ife966120d9250be8d8149cdec9c1a53405d37027
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/06/114706/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/v1/volume_type_access.py', 'cinderclient/tests/v1/test_types.py', 'cinderclient/tests/v2/test_type_access.py', 'cinderclient/tests/v1/fakes.py', 'cinderclient/v1/volume_types.py', 'cinderclient/tests/v1/test_type_access.py', 'cinderclient/tests/v2/fakes.py', 'cinderclient/v2/volume_type_access.py', 'cinderclient/v1/client.py', 'cinderclient/v1/shell.py', 'cinderclient/v2/volume_types.py', 'cinderclient/v2/client.py', 'cinderclient/v2/shell.py', 'cinderclient/tests/v2/test_types.py']",14,7bbd358f175a61253bd1d86eb1b2b25547603a47,bp/private-volume-types," cs.assert_called('POST', '/types', {'volume_type': { 'name': 'test-type-3', 'os-volume-type-access:is_public': True }}) self.assertIsInstance(t, volume_types.VolumeType) def test_create_non_public(self): t = cs.volume_types.create('test-type-3', False) cs.assert_called('POST', '/types', {'volume_type': { 'name': 'test-type-3', 'os-volume-type-access:is_public': False }})"," cs.assert_called('POST', '/types')",421,7
openstack%2Fneutron~master~I79c82ad491a4b280b981eb751fbb0bd0fa6f4302,openstack/neutron,master,I79c82ad491a4b280b981eb751fbb0bd0fa6f4302,Remove unused mocks,MERGED,2015-01-30 08:17:47.000000000,2015-02-03 03:54:15.000000000,2015-02-03 03:54:14.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1653}, {'_account_id': 2035}, {'_account_id': 5170}, {'_account_id': 6072}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 7249}, {'_account_id': 7293}, {'_account_id': 7634}, {'_account_id': 8645}, {'_account_id': 8655}, {'_account_id': 8788}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14943}]","[{'number': 1, 'created': '2015-01-30 08:17:47.000000000', 'files': ['neutron/tests/unit/test_dhcp_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1c7de1ddaed5d30e76654026682b0a123f7edec', 'message': 'Remove unused mocks\n\nRemove unused mocks, which were recently introduced by\ncommit 0db17ea6ece6ce3135034052bb974226074302b6 .\n\nChange-Id: I79c82ad491a4b280b981eb751fbb0bd0fa6f4302\n'}]",0,151569,a1c7de1ddaed5d30e76654026682b0a123f7edec,35,26,1,6854,,,0,"Remove unused mocks

Remove unused mocks, which were recently introduced by
commit 0db17ea6ece6ce3135034052bb974226074302b6 .

Change-Id: I79c82ad491a4b280b981eb751fbb0bd0fa6f4302
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/151569/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/test_dhcp_scheduler.py'],1,a1c7de1ddaed5d30e76654026682b0a123f7edec,remove-unused-mock,," plugin = mock.MagicMock() plugin.get_subnets.return_value = [{""network_id"": self.network_id, ""enable_dhcp"": True}] plugin = mock.MagicMock() plugin.get_subnets.return_value = [{""network_id"": self.network_id, ""enable_dhcp"": True}]",0,6
openstack%2Fneutron~master~I2e9e27f72abf2e0ec359bce4a55f3698c0068159,openstack/neutron,master,I2e9e27f72abf2e0ec359bce4a55f3698c0068159,"Extension moving tweaks, exceptions and extension path fix",MERGED,2015-02-02 16:08:59.000000000,2015-02-03 03:46:25.000000000,2015-02-03 03:46:23.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 490}, {'_account_id': 5170}, {'_account_id': 6659}, {'_account_id': 7787}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 14212}]","[{'number': 1, 'created': '2015-02-02 16:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/588609d3abb5a07c5de6260d69bf5f0e51d6932b', 'message': 'Put a few shared *aas exceptions into neutron.common exceptions\n\nChange-Id: I2e9e27f72abf2e0ec359bce4a55f3698c0068159\nPartially-Implements: blueprint services-split\n'}, {'number': 2, 'created': '2015-02-02 16:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fbe7d502e2363cfa79f61b2622b50af4d4a8cd01', 'message': 'Put a few shared *aas exceptions into neutron.common exceptions\n\nChange-Id: I2e9e27f72abf2e0ec359bce4a55f3698c0068159\nPartially-Implements: blueprint services-split\n'}, {'number': 3, 'created': '2015-02-02 16:30:52.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/api/extensions.py', 'neutron/services/firewall/agents/l3reference/firewall_l3_agent.py', 'neutron/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c85c9e073b407f3fa9db48142718485adb382d1c', 'message': 'Extension moving tweaks, exceptions and extension path fix\n\n- Put a few shared *aas exceptions into neutron.common exceptions, pending\nthem being unnecessary after L3 refactor.\n- Fix extension path creation, which dropped the extensions sub-module\nfor service repos in one of the patch refactors.\n\nChange-Id: I2e9e27f72abf2e0ec359bce4a55f3698c0068159\nPartially-Implements: blueprint services-split\n'}]",2,152168,c85c9e073b407f3fa9db48142718485adb382d1c,55,18,3,10980,,,0,"Extension moving tweaks, exceptions and extension path fix

- Put a few shared *aas exceptions into neutron.common exceptions, pending
them being unnecessary after L3 refactor.
- Fix extension path creation, which dropped the extensions sub-module
for service repos in one of the patch refactors.

Change-Id: I2e9e27f72abf2e0ec359bce4a55f3698c0068159
Partially-Implements: blueprint services-split
",git fetch https://review.opendev.org/openstack/neutron refs/changes/68/152168/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/common/exceptions.py'],1,588609d3abb5a07c5de6260d69bf5f0e51d6932b,bp/services-split," # Shared *aas exceptions, pending them being refactored out of Neutron # proper. class FirewallInternalDriverError(nexception.NeutronException): """"""Fwaas exception for all driver errors. On any failure or exception in the driver, driver should log it and raise this exception to the agent """""" message = _(""%(driver)s: Internal driver error."") class RouterInUseByVPNService(nexception.InUse): message = _(""Router %(router_id)s is used by VPNService %(vpnservice_id)s"")",,14,0
openstack%2Fheat~master~I50012daf8b8669f1910003f73296a6c16b6b4cf3,openstack/heat,master,I50012daf8b8669f1910003f73296a6c16b6b4cf3,Further fix standalone authentication,MERGED,2015-02-02 00:54:47.000000000,2015-02-03 03:46:04.000000000,2015-02-03 03:46:01.000000000,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 8289}]","[{'number': 1, 'created': '2015-02-02 00:54:47.000000000', 'files': ['heat/engine/clients/client_plugin.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/700feb1304a677b7e9a31864369e0751994fd533', 'message': ""Further fix standalone authentication\n\nWhilst a previous patch fixed the main problem in using the keystone v2\nclient these references were missed. The v2 client has not been updated\nto use the session so it has no session attribute that can be relied\nupon.\n\nIn this patch I've left a FIXME to make this session object more global.\nMy hope is that when all these smaller issues have been eradicated we\ncan come back and make a more consistent authentication workflow for all\nthese clients.\n\nChange-Id: I50012daf8b8669f1910003f73296a6c16b6b4cf3\nRelated-Bug: #1416170\n""}]",0,151966,700feb1304a677b7e9a31864369e0751994fd533,9,3,1,7191,,,0,"Further fix standalone authentication

Whilst a previous patch fixed the main problem in using the keystone v2
client these references were missed. The v2 client has not been updated
to use the session so it has no session attribute that can be relied
upon.

In this patch I've left a FIXME to make this session object more global.
My hope is that when all these smaller issues have been eradicated we
can come back and make a more consistent authentication workflow for all
these clients.

Change-Id: I50012daf8b8669f1910003f73296a6c16b6b4cf3
Related-Bug: #1416170
",git fetch https://review.opendev.org/openstack/heat refs/changes/66/151966/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/clients/client_plugin.py'],1,700feb1304a677b7e9a31864369e0751994fd533,bug/1416170,"from keystoneclient import session self._keystone_session_obj = None @property def _keystone_session(self): # FIXME(jamielennox): This session object is essentially static as the # options won't change. Further it is allowed to be shared by multiple # authentication requests so there is no reason to construct it fresh # for every client plugin. It should be global and shared amongst them. if not self._keystone_session_obj: o = {'cacert': self._get_client_option('keystone', 'ca_file'), 'insecure': self._get_client_option('keystone', 'insecure'), 'cert': self._get_client_option('keystone', 'cert_file'), 'key': self._get_client_option('keystone', 'key_file')} self._keystone_session_obj = session.Session.construct(o) return self._keystone_session_obj return self.context.auth_plugin.get_token(self._keystone_session) url = self.context.auth_plugin.get_endpoint(self._keystone_session, **kwargs)"," session = self.clients.client('keystone').session return self.context.auth_plugin.get_token(session) session = self.clients.client('keystone').session url = self.context.auth_plugin.get_endpoint(session, **kwargs)",21,5
openstack%2Fdiskimage-builder~master~Ia1a5af9ab4653e2646870ebd2d2db7e00a59305b,openstack/diskimage-builder,master,Ia1a5af9ab4653e2646870ebd2d2db7e00a59305b,Add installtype support to package-installs,MERGED,2015-01-21 00:42:29.000000000,2015-02-03 03:45:45.000000000,2015-02-03 03:45:44.000000000,"[{'_account_id': 3}, {'_account_id': 6488}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 10035}, {'_account_id': 12459}]","[{'number': 1, 'created': '2015-01-21 00:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/904b1d057d921b0126dfb9a782cb3af06d046e57', 'message': 'Add installtype support to package-installs\n\nSome packages should only be installed if a certain installtype is\nspecified.\n\nChange-Id: Ia1a5af9ab4653e2646870ebd2d2db7e00a59305b\n'}, {'number': 2, 'created': '2015-01-21 00:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/bbcea5a4aa40413656638d7972b00cb7f6d9e1fb', 'message': 'Add installtype support to package-installs\n\nSome packages should only be installed if a certain installtype is\nspecified.\n\nChange-Id: Ia1a5af9ab4653e2646870ebd2d2db7e00a59305b\n'}, {'number': 3, 'created': '2015-01-28 22:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fa4c23128357d92ff9c731396cfbc2af5cf1ecf0', 'message': 'Add installtype support to package-installs\n\nSome packages should only be installed if a certain installtype is\nspecified.\n\nChange-Id: Ia1a5af9ab4653e2646870ebd2d2db7e00a59305b\n'}, {'number': 4, 'created': '2015-01-29 04:07:16.000000000', 'files': ['elements/package-installs/bin/package-installs-squash', 'elements/package-installs/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3ff92589e153eb38a45c55d3d8ebb61b7a8f4083', 'message': 'Add installtype support to package-installs\n\nSome packages should only be installed if a certain installtype is\nspecified.\n\nChange-Id: Ia1a5af9ab4653e2646870ebd2d2db7e00a59305b\n'}]",0,148766,3ff92589e153eb38a45c55d3d8ebb61b7a8f4083,29,6,4,10035,,,0,"Add installtype support to package-installs

Some packages should only be installed if a certain installtype is
specified.

Change-Id: Ia1a5af9ab4653e2646870ebd2d2db7e00a59305b
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/66/148766/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/package-installs/bin/package-installs-squash', 'elements/package-installs/README.rst']",2,904b1d057d921b0126dfb9a782cb3af06d046e57,feature/package-installs-installtype," os-collect-config: installtype: source ""os-collect-config"": {""installtype"": ""source""} } Setting phase, uninstall, or installtype properties for a package overrides the following default values:: installtype: source Setting the installtype property causes the package only to be installed if the specified installtype would be used for the element. See the diskimage-builder docs for more information on installtypes.", } Setting phase or uninstall properties for a package overrides the following default values::,20,3
openstack%2Fhorizon~stable%2Fjuno~Ic5d1d78176d068d483a282020a8da3833b7ad23e,openstack/horizon,stable/juno,Ic5d1d78176d068d483a282020a8da3833b7ad23e,Update project limits when using input selector,MERGED,2015-01-30 00:53:39.000000000,2015-02-03 03:45:35.000000000,2015-02-03 03:45:35.000000000,"[{'_account_id': 3}, {'_account_id': 24}, {'_account_id': 1941}, {'_account_id': 1955}, {'_account_id': 2455}, {'_account_id': 6610}, {'_account_id': 6638}, {'_account_id': 6914}, {'_account_id': 11599}]","[{'number': 1, 'created': '2015-01-30 00:53:39.000000000', 'files': ['horizon/static/horizon/js/horizon.quota.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/889f9d9000f5e0512453e15de66aa08a845b451f', 'message': 'Update project limits when using input selector\n\nLook for all changes to instance count to update project limits not just a keyup\nevent.\n\n(cherry picked from commit bf667644fd7d3da6610c51b624a67f4c51700a57)\n\nChange-Id: Ic5d1d78176d068d483a282020a8da3833b7ad23e\nCloses-bug:1369621\n'}]",0,151490,889f9d9000f5e0512453e15de66aa08a845b451f,14,9,1,5733,,,0,"Update project limits when using input selector

Look for all changes to instance count to update project limits not just a keyup
event.

(cherry picked from commit bf667644fd7d3da6610c51b624a67f4c51700a57)

Change-Id: Ic5d1d78176d068d483a282020a8da3833b7ad23e
Closes-bug:1369621
",git fetch https://review.opendev.org/openstack/horizon refs/changes/90/151490/1 && git format-patch -1 --stdout FETCH_HEAD,['horizon/static/horizon/js/horizon.quota.js'],1,889f9d9000f5e0512453e15de66aa08a845b451f,bug/1369621," $('#id_count').on('input', eventCallback); $(element).on('input', function(evt) {"," $('#id_count').on('keyup', eventCallback); $(element).on('keyup', function(evt) {",2,2
openstack%2Fglance~stable%2Fjuno~I7176924a979b6f71a03a13609d81f25f4007770a,openstack/glance,stable/juno,I7176924a979b6f71a03a13609d81f25f4007770a,Adding filesystem schema check in async task,MERGED,2015-01-23 21:27:41.000000000,2015-02-03 03:44:45.000000000,2015-02-03 03:44:43.000000000,"[{'_account_id': 3}, {'_account_id': 24}, {'_account_id': 1955}, {'_account_id': 2537}, {'_account_id': 6549}, {'_account_id': 11356}, {'_account_id': 12000}, {'_account_id': 12807}]","[{'number': 1, 'created': '2015-01-23 21:27:41.000000000', 'files': ['glance/common/scripts/utils.py', 'glance/tests/unit/common/scripts/test_scripts_utils.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/da10e96bd6d3e405054afc6a7b56e8eaabd4e575', 'message': 'Adding filesystem schema check in async task\n\nMinor improvement for proper exception.\n\nConflicts:\n\tglance/common/scripts/utils.py\n\nChange-Id: I7176924a979b6f71a03a13609d81f25f4007770a\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>\n(cherry picked from commit e086049c30218e111a2514673956ce98a6d1d9c0)\n'}]",0,149759,da10e96bd6d3e405054afc6a7b56e8eaabd4e575,14,8,1,12000,,,0,"Adding filesystem schema check in async task

Minor improvement for proper exception.

Conflicts:
	glance/common/scripts/utils.py

Change-Id: I7176924a979b6f71a03a13609d81f25f4007770a
Signed-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>
(cherry picked from commit e086049c30218e111a2514673956ce98a6d1d9c0)
",git fetch https://review.opendev.org/openstack/glance refs/changes/59/149759/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/common/scripts/utils.py', 'glance/tests/unit/common/scripts/test_scripts_utils.py']",2,da10e96bd6d3e405054afc6a7b56e8eaabd4e575,backport/juno/async-filesystem-check," self.assertRaises(StandardError, script_utils.validate_location_uri, ""filesystem:///tmp"")",,6,4
openstack%2Fheat~stable%2Fjuno~I1e0014576c4df447bfa1595c530f1e24f411195d,openstack/heat,stable/juno,I1e0014576c4df447bfa1595c530f1e24f411195d,Convert bool/int values into string for string properties,MERGED,2015-01-29 11:06:39.000000000,2015-02-03 03:43:40.000000000,2015-02-03 03:43:39.000000000,"[{'_account_id': 3}, {'_account_id': 24}, {'_account_id': 1955}, {'_account_id': 4715}, {'_account_id': 7253}, {'_account_id': 7256}, {'_account_id': 7582}, {'_account_id': 8289}, {'_account_id': 13323}]","[{'number': 1, 'created': '2015-01-29 11:06:39.000000000', 'files': ['heat/tests/test_engine_service.py', 'heat/tests/test_instance.py', 'heat/tests/test_autoscaling.py', 'heat/tests/test_event.py', 'heat/tests/test_properties.py', 'heat/tests/generic_resource.py', 'heat/engine/properties.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/b52c916da0759fb5b310ecbcce5db2608b67fdb1', 'message': 'Convert bool/int values into string for string properties\n\nInstead of rising an exception, boolean and integer values are\nconverted into string if string is expected.\n\nChange-Id: I1e0014576c4df447bfa1595c530f1e24f411195d\nCloses-Bug: #1367375\n(cherry picked from commit 48214930bbec2e09569d848fa5b8759c429acd5b)\n'}]",0,151180,b52c916da0759fb5b310ecbcce5db2608b67fdb1,14,9,1,4328,,,0,"Convert bool/int values into string for string properties

Instead of rising an exception, boolean and integer values are
converted into string if string is expected.

Change-Id: I1e0014576c4df447bfa1595c530f1e24f411195d
Closes-Bug: #1367375
(cherry picked from commit 48214930bbec2e09569d848fa5b8759c429acd5b)
",git fetch https://review.opendev.org/openstack/heat refs/changes/80/151180/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_engine_service.py', 'heat/tests/test_instance.py', 'heat/tests/test_autoscaling.py', 'heat/tests/test_event.py', 'heat/tests/test_properties.py', 'heat/tests/generic_resource.py', 'heat/engine/properties.py']",7,b52c916da0759fb5b310ecbcce5db2608b67fdb1,bug/1367375," if isinstance(value, (bool, int)): value = six.text_type(value) else: raise ValueError(_('Value must be a string'))", raise ValueError(_('Value must be a string')),37,52
openstack%2Frequirements~stable%2Fjuno~I3ecdd6a45e503a34b693b9eeb6866b516db6f9ef,openstack/requirements,stable/juno,I3ecdd6a45e503a34b693b9eeb6866b516db6f9ef,Cap Taskflow 0.7.0  due to oslo.serialization>=1.2.0,MERGED,2015-02-02 23:16:10.000000000,2015-02-03 03:43:32.000000000,2015-02-03 03:43:31.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 2472}, {'_account_id': 4146}, {'_account_id': 5196}, {'_account_id': 7069}]","[{'number': 1, 'created': '2015-02-02 23:16:10.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d7448947c5c9b21d60ab3fc40aa2b854f562376d', 'message': 'Cap Taskflow 0.7.0  due to oslo.serialization>=1.2.0\n\nTaskflow  0.7.0 was just released and requires oslo.serialization 1.2.0,\nbut stable/juno requires\nglobal-requirements.txt:oslo.serialization>=1.0.0\n\nThis has resulted in cinder-manage db sync failing on the new side of\ngrenade and breaking stable/icehouse -> stable/juno grenade.\n\nFunny enough this change is blocking the effort to pin all stable/juno\nrequirements as we need to land a change to stable/juno devstack.\n\nChange-Id: I3ecdd6a45e503a34b693b9eeb6866b516db6f9ef\n'}]",0,152333,d7448947c5c9b21d60ab3fc40aa2b854f562376d,12,7,1,1849,,,0,"Cap Taskflow 0.7.0  due to oslo.serialization>=1.2.0

Taskflow  0.7.0 was just released and requires oslo.serialization 1.2.0,
but stable/juno requires
global-requirements.txt:oslo.serialization>=1.0.0

This has resulted in cinder-manage db sync failing on the new side of
grenade and breaking stable/icehouse -> stable/juno grenade.

Funny enough this change is blocking the effort to pin all stable/juno
requirements as we need to land a change to stable/juno devstack.

Change-Id: I3ecdd6a45e503a34b693b9eeb6866b516db6f9ef
",git fetch https://review.opendev.org/openstack/requirements refs/changes/33/152333/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,d7448947c5c9b21d60ab3fc40aa2b854f562376d,,"taskflow>=0.4,<0.7.0",taskflow>=0.4,1,1
openstack%2Fneutron~master~Ie04f6c94055ac20b938c17cea251ec6532a1e16a,openstack/neutron,master,Ie04f6c94055ac20b938c17cea251ec6532a1e16a,"NSX DB models split, part 1",MERGED,2015-02-02 14:10:02.000000000,2015-02-03 03:43:21.000000000,2015-02-03 03:43:19.000000000,"[{'_account_id': 3}, {'_account_id': 704}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14212}]","[{'number': 1, 'created': '2015-02-02 14:10:02.000000000', 'files': ['neutron/plugins/vmware/dbexts/networkgw_db.py', 'neutron/plugins/vmware/dbexts/nsx_models.py', 'neutron/plugins/vmware/plugins/base.py', 'neutron/tests/unit/vmware/extensions/test_networkgw.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1111fb8cafd459fa38028e68292054100e0f2ee0', 'message': ""NSX DB models split, part 1\n\nThis patch introduces a new module for hosting NSX DB model classes,\nand populates it with models for the 'network gateway' extension,\nwhich are then removed from the model hosting the network gateway\nmixin.\n\nThis patch is part of a set of minor refactorings in the NSX plugin\nwhich will then lead to a semi-full decomposition by the end of\nthe Kilo release cycle.\n\nRelated-to blueprint core-vendor-decomposition\n\nChange-Id: Ie04f6c94055ac20b938c17cea251ec6532a1e16a\n""}]",0,152126,1111fb8cafd459fa38028e68292054100e0f2ee0,23,16,1,261,,,0,"NSX DB models split, part 1

This patch introduces a new module for hosting NSX DB model classes,
and populates it with models for the 'network gateway' extension,
which are then removed from the model hosting the network gateway
mixin.

This patch is part of a set of minor refactorings in the NSX plugin
which will then lead to a semi-full decomposition by the end of
the Kilo release cycle.

Related-to blueprint core-vendor-decomposition

Change-Id: Ie04f6c94055ac20b938c17cea251ec6532a1e16a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/152126/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/vmware/dbexts/networkgw_db.py', 'neutron/plugins/vmware/dbexts/nsx_models.py', 'neutron/plugins/vmware/plugins/base.py', 'neutron/tests/unit/vmware/extensions/test_networkgw.py']",4,1111fb8cafd459fa38028e68292054100e0f2ee0,bp/core-vendor-decomposition,from neutron.plugins.vmware.dbexts import nsx_models nsx_models.NetworkGatewayDevice).filter( nsx_models.NetworkGatewayDevice.id == device_id) gw_query = session.query(nsx_models.NetworkGateway).filter( nsx_models.NetworkGateway.id == gw_id) dev_query = session.query(nsx_models.NetworkGatewayDevice) dev_query.filter(nsx_models.NetworkGatewayDevice.id == dev_id), networkgw_db.NetworkGatewayDevice).filter( networkgw_db.NetworkGatewayDevice.id == device_id) gw_query = session.query(networkgw_db.NetworkGateway).filter( networkgw_db.NetworkGateway.id == gw_id) dev_query = session.query(networkgw_db.NetworkGatewayDevice) dev_query.filter(networkgw_db.NetworkGatewayDevice.id == dev_id),123,94
openstack%2Fdevstack~master~I5515dd1668183608c2bf8f8af77f3df40a89eb5d,openstack/devstack,master,I5515dd1668183608c2bf8f8af77f3df40a89eb5d,Corrected the position to get token in uploading image,ABANDONED,2014-09-26 06:16:07.000000000,2015-02-03 03:35:38.000000000,,"[{'_account_id': 3}, {'_account_id': 6735}, {'_account_id': 7350}, {'_account_id': 9009}, {'_account_id': 9122}]","[{'number': 1, 'created': '2014-09-26 06:16:07.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/afd16983049e37b58570646f46a348b1fc6bf35d', 'message': 'Corrected the position to get token in uploading image\n\nDevstack failing because of authentication error\nError resolved by passing correct token value to\nupload_image function in stack.sh\n\nChange-Id: I5515dd1668183608c2bf8f8af77f3df40a89eb5d\nCloses-Bug: #1373823\n'}]",1,124298,afd16983049e37b58570646f46a348b1fc6bf35d,12,5,1,9122,,,0,"Corrected the position to get token in uploading image

Devstack failing because of authentication error
Error resolved by passing correct token value to
upload_image function in stack.sh

Change-Id: I5515dd1668183608c2bf8f8af77f3df40a89eb5d
Closes-Bug: #1373823
",git fetch https://review.opendev.org/openstack/devstack refs/changes/98/124298/1 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,afd16983049e37b58570646f46a348b1fc6bf35d,bug/1373823," TOKEN=$(keystone token-get | grep ' id ' | get_field 2) die_if_not_set $LINENO TOKEN ""Keystone fail to get token""",,2,0
openstack%2Ftempest~master~Ieb3042ca996fd4aaa466814916ddd1a9028c84f1,openstack/tempest,master,Ieb3042ca996fd4aaa466814916ddd1a9028c84f1,boto: Remove skip for bug 1072318,MERGED,2015-01-30 22:56:47.000000000,2015-02-03 03:33:54.000000000,2015-02-03 03:33:53.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 1921}, {'_account_id': 5196}]","[{'number': 1, 'created': '2015-01-30 22:56:47.000000000', 'files': ['tempest/thirdparty/boto/test_ec2_keys.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/3a1ca3e11b5ea3b2456d8c8a702650c0e45bed0a', 'message': 'boto: Remove skip for bug 1072318\n\nThe nova bug is marked as fixed so remove the skip.\n\nRelated-Bug: #1072318\n\nChange-Id: Ieb3042ca996fd4aaa466814916ddd1a9028c84f1\n'}]",0,151809,3a1ca3e11b5ea3b2456d8c8a702650c0e45bed0a,8,4,1,6873,,,0,"boto: Remove skip for bug 1072318

The nova bug is marked as fixed so remove the skip.

Related-Bug: #1072318

Change-Id: Ieb3042ca996fd4aaa466814916ddd1a9028c84f1
",git fetch https://review.opendev.org/openstack/tempest refs/changes/09/151809/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/thirdparty/boto/test_ec2_keys.py'],1,3a1ca3e11b5ea3b2456d8c8a702650c0e45bed0a,bug/1072318,,"from tempest import test @test.skip_because(bug=""1072318"")",0,2
openstack%2Fnova~master~I858cca475748795aa2532f32bfe0f1443b30966f,openstack/nova,master,I858cca475748795aa2532f32bfe0f1443b30966f,Transform IPAddress to string when creating port,MERGED,2015-01-26 02:28:37.000000000,2015-02-03 03:07:40.000000000,2015-02-02 22:28:16.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 8074}, {'_account_id': 8276}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 11303}, {'_account_id': 12076}, {'_account_id': 12604}, {'_account_id': 14358}]","[{'number': 1, 'created': '2015-01-26 02:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee35a50ffeccaefdca799be024195bec9fb12a90', 'message': 'Transform IPAddress to string when creating port\n\nIf ip address is provided when running nova boot, nova compute\nwill invoke neutron client to create a port. However, the ip\naddress parameter is an IPAddress object so neutron client will\nfail to send the request to neutron server. Transform IPAddress\nobject to string to address this issue.\n\nChange-Id: I858cca475748795aa2532f32bfe0f1443b30966f\nCloses-Bug: #1408529\n'}, {'number': 2, 'created': '2015-01-26 07:35:19.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aae858a246e20b1bf55004517b5d9ab28968190a', 'message': 'Transform IPAddress to string when creating port\n\nIf ip address is provided when running nova boot, nova compute\nwill invoke neutron client to create a port. However, the ip\naddress parameter is an IPAddress object so neutron client will\nfail to send the request to neutron server. Transform IPAddress\nobject to string to address this issue.\n\nChange-Id: I858cca475748795aa2532f32bfe0f1443b30966f\nCloses-Bug: #1408529\n'}]",2,149905,aae858a246e20b1bf55004517b5d9ab28968190a,27,17,2,12076,,,0,"Transform IPAddress to string when creating port

If ip address is provided when running nova boot, nova compute
will invoke neutron client to create a port. However, the ip
address parameter is an IPAddress object so neutron client will
fail to send the request to neutron server. Transform IPAddress
object to string to address this issue.

Change-Id: I858cca475748795aa2532f32bfe0f1443b30966f
Closes-Bug: #1408529
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/149905/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutronv2/api.py'],1,ee35a50ffeccaefdca799be024195bec9fb12a90,bug/1408529, port_req_body['port']['fixed_ips'] = [ {'ip_address': str(fixed_ip)}], port_req_body['port']['fixed_ips'] = [{'ip_address': fixed_ip}],2,1
openstack%2Fmagnum~master~I2479c89de91618f891f7501cac059323b476f7d3,openstack/magnum,master,I2479c89de91618f891f7501cac059323b476f7d3,Consolidate codes for k8s resources api,MERGED,2015-02-01 01:30:40.000000000,2015-02-03 02:46:23.000000000,2015-02-03 02:46:22.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 11536}, {'_account_id': 12385}]","[{'number': 1, 'created': '2015-02-01 01:30:40.000000000', 'files': ['magnum/api/controllers/v1/replicationcontroller.py', 'magnum/tests/api/controllers/v1/test_service.py', 'magnum/api/controllers/v1/pod.py', 'magnum/api/controllers/v1/base.py', 'magnum/api/controllers/v1/service.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/e63918416c9115855ccea32206894683c0bc544f', 'message': 'Consolidate codes for k8s resources api\n\nChange-Id: I2479c89de91618f891f7501cac059323b476f7d3\n'}]",1,151903,e63918416c9115855ccea32206894683c0bc544f,8,4,1,11536,,,0,"Consolidate codes for k8s resources api

Change-Id: I2479c89de91618f891f7501cac059323b476f7d3
",git fetch https://review.opendev.org/openstack/magnum refs/changes/03/151903/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/api/controllers/v1/replicationcontroller.py', 'magnum/tests/api/controllers/v1/test_service.py', 'magnum/api/controllers/v1/pod.py', 'magnum/api/controllers/v1/base.py', 'magnum/api/controllers/v1/service.py']",5,e63918416c9115855ccea32206894683c0bc544f,restapi,class ServicePatchType(v1_base.K8sPatchType): pass,"class ServicePatchType(types.JsonPatchType): @staticmethod def mandatory_attrs(): return ['/bay_uuid'] name = wsme.wsattr(wtypes.text, readonly=True) """""" The name of the service."""""" labels = wsme.wsattr({wtypes.text: wtypes.text}, readonly=True) """"""Labels of this service"""""" ",26,40
openstack%2Ftempest~master~Ib6de5616dc4229350e1ff3c2ef3d79a3712f0006,openstack/tempest,master,Ib6de5616dc4229350e1ff3c2ef3d79a3712f0006,Improves a couple of docstrings in Javelin,MERGED,2015-01-27 17:34:01.000000000,2015-02-03 02:44:13.000000000,2015-02-03 02:44:11.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 1921}, {'_account_id': 6167}, {'_account_id': 8859}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-27 17:34:01.000000000', 'files': ['tempest/cmd/javelin.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/027367316ec9aac308835e6110957f436c5decac', 'message': 'Improves a couple of docstrings in Javelin\n\nChange-Id: Ib6de5616dc4229350e1ff3c2ef3d79a3712f0006\n'}]",0,150510,027367316ec9aac308835e6110957f436c5decac,11,6,1,7020,,,0,"Improves a couple of docstrings in Javelin

Change-Id: Ib6de5616dc4229350e1ff3c2ef3d79a3712f0006
",git fetch https://review.opendev.org/openstack/tempest refs/changes/10/150510/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/cmd/javelin.py'],1,027367316ec9aac308835e6110957f436c5decac,javelin_typo," """"""Load the expected resources from a yaml file."""""" """"""Check that the security groups still exist."""""""," """"""Load the expected resources from a yaml flie."""""" """"""Check that the security groups are still existing.""""""",2,2
openstack%2Fheat~master~Ic42b1cac6a8e25448cb9e9b9b03062df331b2efb,openstack/heat,master,Ic42b1cac6a8e25448cb9e9b9b03062df331b2efb,Add a session to keystoneclient_v2,ABANDONED,2015-02-03 01:54:49.000000000,2015-02-03 02:40:18.000000000,,[{'_account_id': 7191}],"[{'number': 1, 'created': '2015-02-03 01:54:49.000000000', 'files': ['contrib/heat_keystoneclient_v2/heat_keystoneclient_v2/client.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/e9bfa19b8f998c2e74d560abd872a9fa038115f3', 'message': 'Add a session to keystoneclient_v2\n\nThis is referenced in multiple places, so just add this\nto the v2 class.\n\nChange-Id: Ic42b1cac6a8e25448cb9e9b9b03062df331b2efb\n'}]",0,152367,e9bfa19b8f998c2e74d560abd872a9fa038115f3,2,1,1,4715,,,0,"Add a session to keystoneclient_v2

This is referenced in multiple places, so just add this
to the v2 class.

Change-Id: Ic42b1cac6a8e25448cb9e9b9b03062df331b2efb
",git fetch https://review.opendev.org/openstack/heat refs/changes/67/152367/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/heat_keystoneclient_v2/heat_keystoneclient_v2/client.py'],1,e9bfa19b8f998c2e74d560abd872a9fa038115f3,standalone,"from keystoneclient import session self.session = session.Session.construct(self._ssl_options()) def _ssl_options(self): opts = {'cacert': self._get_client_option('ca_file'), 'insecure': self._get_client_option('insecure'), 'cert': self._get_client_option('cert_file'), 'key': self._get_client_option('key_file')} return opts ",,9,0
openstack%2Fpuppet-ceph~master~I77c585cdcb064ad1925f7071ba1b53ec15a89dd5,openstack/puppet-ceph,master,I77c585cdcb064ad1925f7071ba1b53ec15a89dd5,fix mon removal to be idempotent,MERGED,2015-02-02 00:57:51.000000000,2015-02-03 02:22:15.000000000,2015-02-02 21:47:21.000000000,"[{'_account_id': 3}, {'_account_id': 2064}, {'_account_id': 8797}, {'_account_id': 9061}, {'_account_id': 9133}]","[{'number': 1, 'created': '2015-02-02 00:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/f215e5404dcdbbddb3a2ee17025ae571b6b4d2bd', 'message': 'fix mon removal to be idempotent\n\nthe mon removal exec was missing an unless clause.\nwith this the mon removal should be idempotent from\nthe puppet view as well (from what happened on the system\nit already was idempotent.)\n\nChange-Id: I77c585cdcb064ad1925f7071ba1b53ec15a89dd5\n'}, {'number': 2, 'created': '2015-02-02 09:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/48e8e8f89e2051daf1dc5da81f572787b92f7b33', 'message': 'fix mon removal to be idempotent\n\nthe mon removal exec was missing an unless clause.\nwith this the mon removal should be idempotent from\nthe puppet view as well (from what happened on the system\nit already was idempotent.)\n\nChange-Id: I77c585cdcb064ad1925f7071ba1b53ec15a89dd5\n'}, {'number': 3, 'created': '2015-02-02 17:49:33.000000000', 'files': ['spec/system/ceph_mon_spec.rb', 'manifests/mon.pp', 'spec/defines/ceph_mon_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/1e151789ea51f9f557d3eedb2ab2721464b5de7c', 'message': 'fix mon removal to be idempotent\n\nthe mon removal exec was missing an unless clause.\nwith this the mon removal should be idempotent from\nthe puppet view as well (from what happened on the system\nit already was idempotent.)\n\nalso added system tests to prove idempotency and the long\nmissing spec tests.\n\nChange-Id: I77c585cdcb064ad1925f7071ba1b53ec15a89dd5\n'}]",2,151967,1e151789ea51f9f557d3eedb2ab2721464b5de7c,15,5,3,11479,,,0,"fix mon removal to be idempotent

the mon removal exec was missing an unless clause.
with this the mon removal should be idempotent from
the puppet view as well (from what happened on the system
it already was idempotent.)

also added system tests to prove idempotency and the long
missing spec tests.

Change-Id: I77c585cdcb064ad1925f7071ba1b53ec15a89dd5
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/67/151967/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/mon.pp'],1,f215e5404dcdbbddb3a2ee17025ae571b6b4d2bd,fix/mon_removal," unless => ""/bin/true # comment to satisfy puppet syntax requirements set -ex mon_data=\$(ceph-mon ${cluster_option} --id ${id} --show-config | sed -n -e 's/mon_data = //p') test ! -d \$mon_data "",",,5,0
openstack%2Fopenstack-ansible~juno~I206daf4df18aa90d975f979a656de60a06e7c8f3,openstack/openstack-ansible,juno,I206daf4df18aa90d975f979a656de60a06e7c8f3,Pin rabbitmq package version,MERGED,2015-02-02 19:20:42.000000000,2015-02-03 02:15:12.000000000,2015-02-02 21:09:56.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7307}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-02-02 19:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3f7178671a4be4cb363e71045bd77c2dcd02fd27', 'message': 'Pin rabbitmq package version\n\nThis patch implements a pinned RabbitMQ package version which is\ndownloaded (by default) from the official RabbitMQ package download\nlocation.\n\nThe user has the ability to use the following variables in order to\noverride where the package downloads from and what version is\ndownloaded:\n - rabbitmq_version: the package version\n - rabbitmq_repo_url: the base url to download from\n - rabbitmq_package_url: the full url including the base, the path and\n   the package file name\n\nConflicts:\n        rpc_deployment/inventory/group_vars/all.yml\n        rpc_deployment/vars/repo_packages/rabbitmq.yml\n\nPartial-Bug: #1412898\nChange-Id: I206daf4df18aa90d975f979a656de60a06e7c8f3\n'}, {'number': 2, 'created': '2015-02-02 20:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6ae51b1e707e1c9e6a3a7d413dfcb4ccc511477d', 'message': 'Pin rabbitmq package version\n\nThis patch implements a pinned RabbitMQ package version which is\ndownloaded (by default) from the official RabbitMQ package download\nlocation.\n\nThe user has the ability to use the following variables in order to\noverride where the package downloads from and what version is\ndownloaded:\n - rabbitmq_version: the package version\n - rabbitmq_repo_url: the base url to download from\n - rabbitmq_package_url: the full url including the base, the path and\n   the package file name\n\nConflicts:\n        rpc_deployment/inventory/group_vars/all.yml\n        rpc_deployment/vars/repo_packages/rabbitmq.yml\n\nPartial-Bug: #1412898\nChange-Id: I206daf4df18aa90d975f979a656de60a06e7c8f3\n(cherry picked from commit 7fcf6026b783ca079c760d3ac6ce29fbfcc8d6ad)\n'}, {'number': 3, 'created': '2015-02-02 20:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/83ae8898c60ab6d1d50df9b0d77c6b197f47f4f9', 'message': 'Pin rabbitmq package version\n\nThis patch implements a pinned RabbitMQ package version which is\ndownloaded (by default) from the official RabbitMQ package download\nlocation.\n\nThe user has the ability to use the following variables in order to\noverride where the package downloads from and what version is\ndownloaded:\n - rabbitmq_version: the package version\n - rabbitmq_repo_url: the base url to download from\n - rabbitmq_package_url: the full url including the base, the path and\n   the package file name\n\nConflicts:\n        rpc_deployment/inventory/group_vars/all.yml\n        rpc_deployment/vars/repo_packages/rabbitmq.yml\n\nPartial-Bug: #1412898\nChange-Id: I206daf4df18aa90d975f979a656de60a06e7c8f3\n(cherry picked from commit 7fcf6026b783ca079c760d3ac6ce29fbfcc8d6ad)\n'}, {'number': 4, 'created': '2015-02-02 20:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/515be0b6ee0c489ed4848d1b6d96cbfefaccd0d7', 'message': 'Pin rabbitmq package version\n\nThis patch implements a pinned RabbitMQ package version which is\ndownloaded (by default) from the official RabbitMQ package download\nlocation.\n\nThe user has the ability to use the following variables in order to\noverride where the package downloads from and what version is\ndownloaded:\n - rabbitmq_version: the package version\n - rabbitmq_repo_url: the base url to download from\n - rabbitmq_package_url: the full url including the base, the path and\n   the package file name\n\nPartial-Bug: #1412898\nChange-Id: I206daf4df18aa90d975f979a656de60a06e7c8f3\n'}, {'number': 5, 'created': '2015-02-02 20:26:11.000000000', 'files': ['rpc_deployment/inventory/group_vars/all.yml', 'rpc_deployment/roles/rabbit_common/tasks/main.yml', 'rpc_deployment/inventory/group_vars/rabbit.yml', 'rpc_deployment/vars/repo_packages/rabbitmq.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2c4b464be395dd9d3d485d87d7af576f04c436ab', 'message': 'Pin rabbitmq package version\n\nThis patch implements a pinned RabbitMQ package version which is\ndownloaded (by default) from the official RabbitMQ package download\nlocation.\n\nThe user has the ability to use the following variables in order to\noverride where the package downloads from and what version is\ndownloaded:\n - rabbitmq_version: the package version\n - rabbitmq_repo_url: the base url to download from\n - rabbitmq_package_url: the full url including the base, the path and\n   the package file name\n\nPartial-Bug: #1412898\nChange-Id: I206daf4df18aa90d975f979a656de60a06e7c8f3\n(cherry picked from commit 7fcf6026b783ca079c760d3ac6ce29fbfcc8d6ad)\n'}]",0,152239,2c4b464be395dd9d3d485d87d7af576f04c436ab,19,4,5,7353,,,0,"Pin rabbitmq package version

This patch implements a pinned RabbitMQ package version which is
downloaded (by default) from the official RabbitMQ package download
location.

The user has the ability to use the following variables in order to
override where the package downloads from and what version is
downloaded:
 - rabbitmq_version: the package version
 - rabbitmq_repo_url: the base url to download from
 - rabbitmq_package_url: the full url including the base, the path and
   the package file name

Partial-Bug: #1412898
Change-Id: I206daf4df18aa90d975f979a656de60a06e7c8f3
(cherry picked from commit 7fcf6026b783ca079c760d3ac6ce29fbfcc8d6ad)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/39/152239/1 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/inventory/group_vars/all.yml', 'rpc_deployment/roles/rabbit_common/tasks/main.yml', 'rpc_deployment/inventory/group_vars/rabbit.yml', 'rpc_deployment/vars/repo_packages/rabbitmq.yml']",4,3f7178671a4be4cb363e71045bd77c2dcd02fd27,bug/1412898,container_packages:,"repo_package_name: rabbitmq apt_container_keys: - { url: ""http://www.rabbitmq.com/rabbitmq-signing-key-public.asc"", state: ""present"" } apt_container_repos: - { repo: ""deb http://www.rabbitmq.com/debian/ testing main"", state: ""present"" } container_packages: - rabbitmq-server",60,24
openstack%2Fproject-config~master~I9792712c43e1195a1a6db648bd9a0af7a186e54c,openstack/project-config,master,I9792712c43e1195a1a6db648bd9a0af7a186e54c,File updated gerrit/acls/stackforge/networking-brocade.config,ABANDONED,2015-01-30 00:44:56.000000000,2015-02-03 02:04:43.000000000,,"[{'_account_id': 3}, {'_account_id': 5217}, {'_account_id': 5263}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-01-30 00:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7845fd97b1d3abee003a44003d217ecdeb498892', 'message': 'As a next step: Adding <project>.config file\n\nFile added is gerrit/acls/openstack/networking-brocade.config\n\nChange-Id: I9792712c43e1195a1a6db648bd9a0af7a186e54c\n'}, {'number': 2, 'created': '2015-01-30 01:10:24.000000000', 'files': ['gerrit/acls/stackforge/networking-brocade.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/23d794deff6386081019c7ac8c456726a9efe4e6', 'message': 'File updated gerrit/acls/stackforge/networking-brocade.config\n\nAdding stable release reviewers\n\nChange-Id: I9792712c43e1195a1a6db648bd9a0af7a186e54c\n'}]",8,151487,23d794deff6386081019c7ac8c456726a9efe4e6,12,4,2,5217,,,0,"File updated gerrit/acls/stackforge/networking-brocade.config

Adding stable release reviewers

Change-Id: I9792712c43e1195a1a6db648bd9a0af7a186e54c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/87/151487/2 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/openstack/networking-brocade.config'],1,7845fd97b1d3abee003a44003d217ecdeb498892,new-project,"[access ""refs/heads/*""] abandon = group networking-brocade-core label-Code-Review = -2..+2 group networking-brocade-core label-Workflow = -1..+1 group networking-brocade-drivers [access ""refs/heads/stable/*""] abandon = group networking-brocade-core label-Code-Review = -2..+2 group networking-brocade-core label-Code-Review = -1..+1 group Registered Users label-Workflow = -1..+1 group networking-brocade-drivers [access ""refs/tags/*""] pushSignedTag = group networking-brocade-release [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",,20,0
openstack%2Fopenstack-ansible~juno~I0c8546770f8e41fc42374785d3e7ba63f4d5adf9,openstack/openstack-ansible,juno,I0c8546770f8e41fc42374785d3e7ba63f4d5adf9,Updates required client version,MERGED,2015-02-02 19:52:25.000000000,2015-02-03 01:43:30.000000000,2015-02-02 21:17:42.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7307}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-02-02 19:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dff257b58b6a525f435875031698dd22749a23ce', 'message': 'Updates required client version\n\nThis change updates the required client versions in our configuration\nsuch that it will now support the updated 2014.2.1 code base.\nThis resolve issue where the service was uninstallable due to missing\nclient version.\n\nThis change also pinns the keystonemiddleware package as it was using\nmaster and it should be set to using a stable tag.\n\nThe following clients were updated:\n- cinderclient==1.1.1\n- keystoneclient==1.0.0\n- zaqarclient==0.1.0\n- keystonemiddleware==1.3.1\n\nTo support this update we\'ve also pinned global requirements to the\n""stable/juno"" branch.\n\nConflicts:\n        rpc_deployment/vars/repo_packages/keystonemiddleware.yml\n\nChange-Id: I0c8546770f8e41fc42374785d3e7ba63f4d5adf9\nCloses-Bug: 1416725\n'}, {'number': 2, 'created': '2015-02-02 19:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3c11912d42149326e40a8daff55ab386abe99bd9', 'message': 'Updates required client version\n\nThis change updates the required client versions in our configuration\nsuch that it will now support the updated 2014.2.1 code base.\nThis resolve issue where the service was uninstallable due to missing\nclient version.\n\nThis change also pinns the keystonemiddleware package as it was using\nmaster and it should be set to using a stable tag.\n\nThe following clients were updated:\n- cinderclient==1.1.1\n- keystoneclient==1.0.0\n- zaqarclient==0.1.0\n- keystonemiddleware==1.3.1\n\nTo support this update we\'ve also pinned global requirements to the\n""stable/juno"" branch.\n\nConflicts:\n        rpc_deployment/vars/repo_packages/keystonemiddleware.yml\n\nChange-Id: I0c8546770f8e41fc42374785d3e7ba63f4d5adf9\nCloses-Bug: 1416725\n(cherry picked from commit 3399bc1e6d4ee6d0a038921e0f5914e407aaa46a)\n'}, {'number': 3, 'created': '2015-02-02 20:31:52.000000000', 'files': ['rpc_deployment/vars/repo_packages/python_cinderclient.yml', 'rpc_deployment/vars/repo_packages/python_keystoneclient.yml', 'rpc_deployment/vars/repo_packages/python_zaqarclient.yml', 'rpc_deployment/vars/repo_packages/keystonemiddleware.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/251d902eeb8822a36c5a82147573a42a1d8d8504', 'message': 'Updates required client version\n\nThis change updates the required client versions in our configuration\nsuch that it will now support the updated 2014.2.1 code base.\nThis resolve issue where the service was uninstallable due to missing\nclient version.\n\nThis change also pinns the keystonemiddleware package as it was using\nmaster and it should be set to using a stable tag.\n\nThe following clients were updated:\n- cinderclient==1.1.1\n- keystoneclient==1.0.0\n- zaqarclient==0.1.0\n- keystonemiddleware==1.3.1\n\nTo support this update we\'ve also pinned global requirements to the\n""stable/juno"" branch.\n\nConflicts:\n        rpc_deployment/vars/repo_packages/keystonemiddleware.yml\n\nChange-Id: I0c8546770f8e41fc42374785d3e7ba63f4d5adf9\nCloses-Bug: 1416725\n(cherry picked from commit 3399bc1e6d4ee6d0a038921e0f5914e407aaa46a)\n'}]",0,152254,251d902eeb8822a36c5a82147573a42a1d8d8504,13,4,3,7353,,,0,"Updates required client version

This change updates the required client versions in our configuration
such that it will now support the updated 2014.2.1 code base.
This resolve issue where the service was uninstallable due to missing
client version.

This change also pinns the keystonemiddleware package as it was using
master and it should be set to using a stable tag.

The following clients were updated:
- cinderclient==1.1.1
- keystoneclient==1.0.0
- zaqarclient==0.1.0
- keystonemiddleware==1.3.1

To support this update we've also pinned global requirements to the
""stable/juno"" branch.

Conflicts:
        rpc_deployment/vars/repo_packages/keystonemiddleware.yml

Change-Id: I0c8546770f8e41fc42374785d3e7ba63f4d5adf9
Closes-Bug: 1416725
(cherry picked from commit 3399bc1e6d4ee6d0a038921e0f5914e407aaa46a)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/54/152254/1 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/vars/repo_packages/python_cinderclient.yml', 'rpc_deployment/vars/repo_packages/python_keystoneclient.yml', 'rpc_deployment/vars/repo_packages/python_zaqarclient.yml', 'rpc_deployment/vars/repo_packages/keystonemiddleware.yml']",4,dff257b58b6a525f435875031698dd22749a23ce,bug/1416725,git_install_branch: 1.3.1,git_install_branch: 1.2.0,4,4
openstack%2Ftempest~master~I0a09b9de9822106b8f0a816ae064f07691097d39,openstack/tempest,master,I0a09b9de9822106b8f0a816ae064f07691097d39,Add _set_object_storage_clients() to client setting,MERGED,2015-01-22 04:27:38.000000000,2015-02-03 01:40:25.000000000,2015-02-03 01:40:24.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 1921}, {'_account_id': 8556}, {'_account_id': 8859}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-22 04:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3dda378808ff031a59c51ff7c8e2f21304cb0191', 'message': 'Add _set_object_storage_clients() to client setting\n\nThere are three clients for object_storage, and this patch adds\nan internal method for code cleanup.\n\nChange-Id: I0a09b9de9822106b8f0a816ae064f07691097d39\n'}, {'number': 2, 'created': '2015-01-24 07:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6e54ba9b59267e47b1d5288f087203b67929c6ea', 'message': 'Add _set_object_storage_clients() to client setting\n\nThere are three clients for object_storage, and this patch adds\nan internal method for code cleanup.\n\nChange-Id: I0a09b9de9822106b8f0a816ae064f07691097d39\n'}, {'number': 3, 'created': '2015-01-27 11:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3a799196609c5fe97eb1c97ffc099f77c7bb9b72', 'message': 'Add _set_object_storage_clients() to client setting\n\nThere are three clients for object_storage, and this patch adds\nan internal method for code cleanup.\n\nChange-Id: I0a09b9de9822106b8f0a816ae064f07691097d39\n'}, {'number': 4, 'created': '2015-01-29 01:47:53.000000000', 'files': ['tempest/clients.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c95eb85a4f54ed55ec25e6cd34f2f473fa25109d', 'message': 'Add _set_object_storage_clients() to client setting\n\nThere are three clients for object_storage, and this patch adds\nan internal method for code cleanup.\n\nChange-Id: I0a09b9de9822106b8f0a816ae064f07691097d39\n'}]",0,149138,c95eb85a4f54ed55ec25e6cd34f2f473fa25109d,18,6,4,6167,,,0,"Add _set_object_storage_clients() to client setting

There are three clients for object_storage, and this patch adds
an internal method for code cleanup.

Change-Id: I0a09b9de9822106b8f0a816ae064f07691097d39
",git fetch https://review.opendev.org/openstack/tempest refs/changes/38/149138/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/clients.py'],1,3dda378808ff031a59c51ff7c8e2f21304cb0191,service-client, self._set_object_storage_clients() def _set_object_storage_clients(self): self.account_client = AccountClient(self.auth_provider) self.container_client = ContainerClient(self.auth_provider) self.object_client = ObjectClient(self.auth_provider) , self.account_client = AccountClient(self.auth_provider) self.container_client = ContainerClient(self.auth_provider) self.object_client = ObjectClient(self.auth_provider),6,3
openstack%2Ftempest~master~Ic6e1efd6ff9931e16a4ba490ef4aba4a23f71370,openstack/tempest,master,Ic6e1efd6ff9931e16a4ba490ef4aba4a23f71370,Add a tests for service clients,MERGED,2015-01-22 04:27:38.000000000,2015-02-03 01:40:15.000000000,2015-02-03 01:40:14.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 8859}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-22 04:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b765dcd9884c6c0bc63d38b807f190c84a72b009', 'message': ""Add a tests for service clients\n\nNow we are trying to migrate service clients to tempest-lib,\nand we need to check all arguments of each service client work\nfine as library functions.\nThis patch adds a test for doing it.\n\nThere is data_utils module in Tempest for generating random\ndata, but this test doesn't use it because this test will be\nmoved to tempest-lib in the future and we are not sure whether\ndata_utils also is moved or not.\n\nNote:\n  If adding migrated client to test_clients which is added by\n  this patch on each migration patch, we can test each client\n  migration after this patch.\n\nChange-Id: Ic6e1efd6ff9931e16a4ba490ef4aba4a23f71370\n""}, {'number': 2, 'created': '2015-01-24 07:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d3ab2e647df6079d5c93518b31bc6f2785d7471f', 'message': ""Add a tests for service clients\n\nNow we are trying to migrate service clients to tempest-lib,\nand we need to check all arguments of each service client work\nfine as library functions.\nThis patch adds a test for doing it.\n\nThere is data_utils module in Tempest for generating random\ndata, but this test doesn't use it because this test will be\nmoved to tempest-lib in the future and we are not sure whether\ndata_utils also is moved or not.\n\nNote:\n  If adding migrated client to test_clients which is added by\n  this patch on each migration patch, we can test each client\n  migration after this patch.\n\nChange-Id: Ic6e1efd6ff9931e16a4ba490ef4aba4a23f71370\n""}, {'number': 3, 'created': '2015-01-27 11:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c37e33452a89bf6f7576e0789d614e0834538e01', 'message': ""Add a tests for service clients\n\nNow we are trying to migrate service clients to tempest-lib,\nand we need to check all arguments of each service client work\nfine as library functions.\nThis patch adds a test for doing it.\n\nThere is data_utils module in Tempest for generating random\ndata, but this test doesn't use it because this test will be\nmoved to tempest-lib in the future and we are not sure whether\ndata_utils also is moved or not.\n\nNote:\n  If adding migrated client to test_clients which is added by\n  this patch on each migration patch, we can test each client\n  migration after this patch.\n\nChange-Id: Ic6e1efd6ff9931e16a4ba490ef4aba4a23f71370\n""}, {'number': 4, 'created': '2015-01-29 01:47:53.000000000', 'files': ['tempest/tests/common/test_service_clients.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d7df383651ba21188ebc37df00052e030fcafc49', 'message': ""Add a tests for service clients\n\nNow we are trying to migrate service clients to tempest-lib,\nand we need to check all arguments of each service client work\nfine as library functions.\nThis patch adds a test for doing it.\n\nThere is data_utils module in Tempest for generating random\ndata, but this test doesn't use it because this test will be\nmoved to tempest-lib in the future and we are not sure whether\ndata_utils also is moved or not.\n\nNote:\n  If adding migrated client to test_clients which is added by\n  this patch on each migration patch, we can test each client\n  migration after this patch.\n\nChange-Id: Ic6e1efd6ff9931e16a4ba490ef4aba4a23f71370\n""}]",0,149137,d7df383651ba21188ebc37df00052e030fcafc49,17,6,4,6167,,,0,"Add a tests for service clients

Now we are trying to migrate service clients to tempest-lib,
and we need to check all arguments of each service client work
fine as library functions.
This patch adds a test for doing it.

There is data_utils module in Tempest for generating random
data, but this test doesn't use it because this test will be
moved to tempest-lib in the future and we are not sure whether
data_utils also is moved or not.

Note:
  If adding migrated client to test_clients which is added by
  this patch on each migration patch, we can test each client
  migration after this patch.

Change-Id: Ic6e1efd6ff9931e16a4ba490ef4aba4a23f71370
",git fetch https://review.opendev.org/openstack/tempest refs/changes/37/149137/3 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/common/test_service_clients.py'],1,b765dcd9884c6c0bc63d38b807f190c84a72b009,service-client,"# Copyright 2015 NEC Corporation. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock import random import six from tempest.services.compute.json import agents_client from tempest.services.compute.json import aggregates_client from tempest.services.compute.json import availability_zone_client from tempest.services.compute.json import certificates_client from tempest.services.compute.json import extensions_client from tempest.services.compute.json import fixed_ips_client from tempest.services.compute.json import flavors_client from tempest.services.compute.json import floating_ips_client from tempest.services.compute.json import hosts_client from tempest.services.compute.json import hypervisor_client from tempest.services.compute.json import images_client from tempest.services.compute.json import instance_usage_audit_log_client from tempest.services.compute.json import interfaces_client from tempest.services.compute.json import keypairs_client from tempest.services.compute.json import limits_client from tempest.services.compute.json import migrations_client from tempest.services.compute.json import networks_client as nova_net_client from tempest.services.compute.json import quotas_client from tempest.services.compute.json import security_group_default_rules_client \ as nova_secgrop_default_client from tempest.services.compute.json import security_groups_client from tempest.services.compute.json import servers_client from tempest.services.compute.json import services_client from tempest.services.compute.json import tenant_usages_client from tempest.services.compute.json import volumes_extensions_client from tempest.services.database.json import flavors_client as db_flavor_client from tempest.services.database.json import versions_client as db_version_client from tempest.services.network.json import network_client from tempest.services.orchestration.json import orchestration_client from tempest.tests import base class TestServiceClient(base.TestCase): @mock.patch('tempest_lib.common.rest_client.RestClient.__init__') def test_service_client_creations_with_specified_args(self, mock_init): test_clients = [ agents_client.AgentsClientJSON, aggregates_client.AggregatesClientJSON, availability_zone_client.AvailabilityZoneClientJSON, certificates_client.CertificatesClientJSON, extensions_client.ExtensionsClientJSON, fixed_ips_client.FixedIPsClientJSON, flavors_client.FlavorsClientJSON, floating_ips_client.FloatingIPsClientJSON, hosts_client.HostsClientJSON, hypervisor_client.HypervisorClientJSON, images_client.ImagesClientJSON, instance_usage_audit_log_client.InstanceUsagesAuditLogClientJSON, interfaces_client.InterfacesClientJSON, keypairs_client.KeyPairsClientJSON, limits_client.LimitsClientJSON, migrations_client.MigrationsClientJSON, nova_net_client.NetworksClientJSON, quotas_client.QuotasClientJSON, quotas_client.QuotaClassesClientJSON, nova_secgrop_default_client.SecurityGroupDefaultRulesClientJSON, security_groups_client.SecurityGroupsClientJSON, servers_client.ServersClientJSON, services_client.ServicesClientJSON, tenant_usages_client.TenantUsagesClientJSON, volumes_extensions_client.VolumesExtensionsClientJSON, db_flavor_client.DatabaseFlavorsClientJSON, db_version_client.DatabaseVersionsClientJSON, network_client.NetworkClientJSON, orchestration_client.OrchestrationClient] for client in test_clients: fake_string = six.text_type(random.randint(1, 0x7fffffff)) auth = 'auth' + fake_string service = 'service' + fake_string region = 'region' + fake_string params = { 'endpoint_type': 'URL' + fake_string, 'build_interval': random.randint(1, 100), 'build_timeout': random.randint(1, 100), 'disable_ssl_certificate_validation': True if random.randint(0, 1) else False, 'ca_certs': None, 'trace_requests': 'foo' + fake_string } client(auth, service, region, **params) mock_init.assert_called_once_with(auth, service, region, **params) mock_init.reset_mock() ",,102,0
openstack%2Ftempest~master~Ib50716cb96c103da24fd0e0f1b3cb4bfd484dea4,openstack/tempest,master,Ib50716cb96c103da24fd0e0f1b3cb4bfd484dea4,Always use an available plugin for CLI sahara test,MERGED,2015-01-23 18:25:08.000000000,2015-02-03 01:40:06.000000000,2015-02-03 01:40:04.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5803}, {'_account_id': 7428}, {'_account_id': 10385}, {'_account_id': 10459}]","[{'number': 1, 'created': '2015-01-23 18:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4ce3a7659a72ccf908f19ce593187d1ae530dfa2', 'message': 'Always use an available plugin for CLI sahara test\n\nThe test is skipped if no plugins are specified in tempest configuration.\nOtherwise, the first available one is used.\n\nChange-Id: Ib50716cb96c103da24fd0e0f1b3cb4bfd484dea4\n'}, {'number': 2, 'created': '2015-01-26 14:01:16.000000000', 'files': ['tempest/cli/simple_read_only/data_processing/test_sahara.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ab61e49b186901999fb5e6812462dbf6afb0c06c', 'message': 'Always use an available plugin for CLI sahara test\n\nThe test is skipped if no plugins are specified in tempest configuration.\nOtherwise, the first available one is used.\n\nChange-Id: Ib50716cb96c103da24fd0e0f1b3cb4bfd484dea4\n'}]",0,149699,ab61e49b186901999fb5e6812462dbf6afb0c06c,13,6,2,10459,,,0,"Always use an available plugin for CLI sahara test

The test is skipped if no plugins are specified in tempest configuration.
Otherwise, the first available one is used.

Change-Id: Ib50716cb96c103da24fd0e0f1b3cb4bfd484dea4
",git fetch https://review.opendev.org/openstack/tempest refs/changes/99/149699/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/cli/simple_read_only/data_processing/test_sahara.py'],1,4ce3a7659a72ccf908f19ce593187d1ae530dfa2,sahara-config-plugins,"import testtools @testtools.skipIf( len(CONF.data_processing_feature_enabled.plugins) == 0, 'No plugins defined') def test_sahara_plugins_show(self): name_param = '--name %s' % \ (CONF.data_processing_feature_enabled.plugins[0]) result = self.sahara('plugin-show', params=name_param)"," def test_sahara_plugins_show(self): result = self.sahara('plugin-show', params='--name vanilla')",7,1
openstack%2Fcue~master~Ie90ac7fae654afd573e7a53055918785e347cca0,openstack/cue,master,Ie90ac7fae654afd573e7a53055918785e347cca0,Wrapping Cluster and Clusters Resources in API responces,ABANDONED,2015-01-21 01:36:50.000000000,2015-02-03 01:22:08.000000000,,"[{'_account_id': 3}, {'_account_id': 395}, {'_account_id': 1925}, {'_account_id': 13771}]","[{'number': 1, 'created': '2015-01-21 01:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cue/commit/64768a5fcb8c85dcab80ea4764a3892ac8b56dee', 'message': ""Wrapping List Clusters API with 'clusters' resource name\n\n* Updating related unit tests witch change\n\nChange-Id: Ie90ac7fae654afd573e7a53055918785e347cca0\nCloses-Bug:1399501\n""}, {'number': 2, 'created': '2015-01-21 02:05:25.000000000', 'files': ['cue/tests/api/test_cluster.py', 'cue/api/controllers/v1.py', 'cue/tests/api/test_clusters.py'], 'web_link': 'https://opendev.org/openstack/cue/commit/e7ff08fa6b8974d5ec1a46489c0351efe8a3ba3a', 'message': 'Wrapping Cluster and Clusters Resources in API responces\n\n* Updating related unit tests witch change\n\nChange-Id: Ie90ac7fae654afd573e7a53055918785e347cca0\nCloses-Bug:1399501\n'}]",1,148775,e7ff08fa6b8974d5ec1a46489c0351efe8a3ba3a,9,4,2,13771,,,0,"Wrapping Cluster and Clusters Resources in API responces

* Updating related unit tests witch change

Change-Id: Ie90ac7fae654afd573e7a53055918785e347cca0
Closes-Bug:1399501
",git fetch https://review.opendev.org/openstack/cue refs/changes/75/148775/1 && git format-patch -1 --stdout FETCH_HEAD,"['cue/api/controllers/v1.py', 'cue/tests/api/test_clusters.py']",2,64768a5fcb8c85dcab80ea4764a3892ac8b56dee,bug/1399501," self.assertEqual([], data[""clusters""]) self.validate_cluster_values(cluster, data[""clusters""][0]) self.assertEqual(len(data[""clusters""]), 5, ""Invalid number of clusters"" "" returned"") self.validate_cluster_values(cluster_0, data[""clusters""][0]) self.validate_cluster_values(cluster_1, data[""clusters""][1]) self.validate_cluster_values(cluster_2, data[""clusters""][2]) self.validate_cluster_values(cluster_3, data[""clusters""][3]) self.validate_cluster_values(cluster_4, data[""clusters""][4])"," self.assertEqual([], data) self.validate_cluster_values(cluster, data[0]) self.assertEqual(len(data), 5, ""Invalid number of clusters returned"") self.validate_cluster_values(cluster_0, data[0]) self.validate_cluster_values(cluster_1, data[1]) self.validate_cluster_values(cluster_2, data[2]) self.validate_cluster_values(cluster_3, data[3]) self.validate_cluster_values(cluster_4, data[4])",23,11
openstack%2Fopenstack-ansible~juno~I747e233a2c2d7e2c30e4d653cbeaca2e3cbe249a,openstack/openstack-ansible,juno,I747e233a2c2d7e2c30e4d653cbeaca2e3cbe249a,Allow the pinning of apt package versions,MERGED,2015-02-02 19:47:16.000000000,2015-02-03 00:48:01.000000000,2015-02-02 21:58:18.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7307}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-02-02 19:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a34761d504a16940dcc66bdac23329f32e14ee1e', 'message': ""Allow the pinning of apt package versions\n\nThis patch implements the capability to pin package versions using apt\npreferences. This prevents the unwitting upgrading of packages when\ndoing general packages deployment and maintenance.\n\nThe list of packages and versions can be overridden using user\nvariables.\n\nFor each item in 'apt_pinned_packages'\n - package: package name\n - version: package version to pin\n - priority: pin priority (default is 900, over 1000 will make apt force\n   a downgrade)\n\nThe patch also removes the usage of the LXC PPA - it was only deployed\nif the operating system was < 14.04 and the reality is that the entire\nproject has not been tested on a platform < 14.04. The removal of the\nPPA is thus to reduce confusion.\n\nIt also includes a known set of packages which are important to pin for\na stable OpenStack deployment. The packages pinned use sources and\nversion which should be available for a typical 'Long Term Support'\ntime-frame.\n\nConflicts:\n        rpc_deployment/vars/repo_packages/hosts.yml\n\nCloses-Bug: #1412898\nChange-Id: I747e233a2c2d7e2c30e4d653cbeaca2e3cbe249a\n""}, {'number': 2, 'created': '2015-02-02 19:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e409579eaea3e799c548678655a63479a6c1d957', 'message': ""Allow the pinning of apt package versions\n\nThis patch implements the capability to pin package versions using apt\npreferences. This prevents the unwitting upgrading of packages when\ndoing general packages deployment and maintenance.\n\nThe list of packages and versions can be overridden using user\nvariables.\n\nFor each item in 'apt_pinned_packages'\n - package: package name\n - version: package version to pin\n - priority: pin priority (default is 900, over 1000 will make apt force\n   a downgrade)\n\nThe patch also removes the usage of the LXC PPA - it was only deployed\nif the operating system was < 14.04 and the reality is that the entire\nproject has not been tested on a platform < 14.04. The removal of the\nPPA is thus to reduce confusion.\n\nIt also includes a known set of packages which are important to pin for\na stable OpenStack deployment. The packages pinned use sources and\nversion which should be available for a typical 'Long Term Support'\ntime-frame.\n\nConflicts:\n        rpc_deployment/vars/repo_packages/hosts.yml\n\nCloses-Bug: #1412898\nChange-Id: I747e233a2c2d7e2c30e4d653cbeaca2e3cbe249a\n(cherry picked from commit f2ef204f97f0811c23169baf131546699b7a1a1b)\n""}, {'number': 3, 'created': '2015-02-02 20:29:22.000000000', 'files': ['rpc_deployment/vars/repo_packages/hosts.yml', 'rpc_deployment/roles/common/tasks/main.yml', 'rpc_deployment/roles/lxc_common/tasks/lxc_install.yml', 'rpc_deployment/inventory/group_vars/all.yml', 'rpc_deployment/roles/common/tasks/apt_pinning.yml', 'rpc_deployment/roles/common/templates/apt_pinned_packages.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/164ddb2b9a5848c237b52c218522fdaa283b7e5c', 'message': ""Allow the pinning of apt package versions\n\nThis patch implements the capability to pin package versions using apt\npreferences. This prevents the unwitting upgrading of packages when\ndoing general packages deployment and maintenance.\n\nThe list of packages and versions can be overridden using user\nvariables.\n\nFor each item in 'apt_pinned_packages'\n - package: package name\n - version: package version to pin\n - priority: pin priority (default is 900, over 1000 will make apt force\n   a downgrade)\n\nThe patch also removes the usage of the LXC PPA - it was only deployed\nif the operating system was < 14.04 and the reality is that the entire\nproject has not been tested on a platform < 14.04. The removal of the\nPPA is thus to reduce confusion.\n\nIt also includes a known set of packages which are important to pin for\na stable OpenStack deployment. The packages pinned use sources and\nversion which should be available for a typical 'Long Term Support'\ntime-frame.\n\nCloses-Bug: #1412898\nChange-Id: I747e233a2c2d7e2c30e4d653cbeaca2e3cbe249a\n(cherry picked from commit f2ef204f97f0811c23169baf131546699b7a1a1b)\n""}]",0,152250,164ddb2b9a5848c237b52c218522fdaa283b7e5c,15,4,3,7353,,,0,"Allow the pinning of apt package versions

This patch implements the capability to pin package versions using apt
preferences. This prevents the unwitting upgrading of packages when
doing general packages deployment and maintenance.

The list of packages and versions can be overridden using user
variables.

For each item in 'apt_pinned_packages'
 - package: package name
 - version: package version to pin
 - priority: pin priority (default is 900, over 1000 will make apt force
   a downgrade)

The patch also removes the usage of the LXC PPA - it was only deployed
if the operating system was < 14.04 and the reality is that the entire
project has not been tested on a platform < 14.04. The removal of the
PPA is thus to reduce confusion.

It also includes a known set of packages which are important to pin for
a stable OpenStack deployment. The packages pinned use sources and
version which should be available for a typical 'Long Term Support'
time-frame.

Closes-Bug: #1412898
Change-Id: I747e233a2c2d7e2c30e4d653cbeaca2e3cbe249a
(cherry picked from commit f2ef204f97f0811c23169baf131546699b7a1a1b)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/50/152250/3 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/roles/common/tasks/main.yml', 'rpc_deployment/vars/repo_packages/hosts.yml', 'rpc_deployment/roles/lxc_common/tasks/lxc_install.yml', 'rpc_deployment/roles/common/tasks/apt_pinning.yml', 'rpc_deployment/roles/common/templates/apt_pinned_packages.j2']",5,a34761d504a16940dcc66bdac23329f32e14ee1e,bug/1412898,"# ### packages pinned by os-ansible-deployment ### # # DO NOT edit this file, it may be overwritten! {% for item in apt_pinned_packages %} Package: {{ item.package }} Pin: version {{ item.version }} Pin-Priority: {{ item.priority | default(""900"") }} {% endfor %} ",,32,10
openstack%2Fopenstack-ansible~master~I0c8546770f8e41fc42374785d3e7ba63f4d5adf9,openstack/openstack-ansible,master,I0c8546770f8e41fc42374785d3e7ba63f4d5adf9,Updates required client version,MERGED,2015-01-31 19:20:35.000000000,2015-02-03 00:30:34.000000000,2015-02-02 19:02:21.000000000,"[{'_account_id': 3}, {'_account_id': 425}, {'_account_id': 7219}, {'_account_id': 7307}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 9884}, {'_account_id': 12807}, {'_account_id': 14886}]","[{'number': 1, 'created': '2015-01-31 19:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8beff37a33ac7547a303101941231e4b5d5ea60b', 'message': 'Updates required client version\n\nThis change updates the required client versions in our configuration\nsuch that it will now support the updated 2014.2.1 code base.\nThis resolve issue where the service was uninstallable due to missing\nclient version.\n\nThe following clients were updated:\n- cinderclient\n- zaqarclient\n\nChange-Id: I0c8546770f8e41fc42374785d3e7ba63f4d5adf9\nCloses-Bug: 1416725\n'}, {'number': 2, 'created': '2015-02-02 09:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1e98d74835380fcf3ffbe0c3e83061f5d5dbaa58', 'message': 'Updates required client version\n\nThis change updates the required client versions in our configuration\nsuch that it will now support the updated 2014.2.1 code base.\nThis resolve issue where the service was uninstallable due to missing\nclient version.\n\nThe following clients were updated:\n- cinderclient\n- zaqarclient\n\nChange-Id: I0c8546770f8e41fc42374785d3e7ba63f4d5adf9\nCloses-Bug: 1416725\n'}, {'number': 3, 'created': '2015-02-02 12:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/87344a00dd08d338473a981fd60a6f17d1401a54', 'message': 'Updates required client version\n\nThis change updates the required client versions in our configuration\nsuch that it will now support the updated 2014.2.1 code base.\nThis resolve issue where the service was uninstallable due to missing\nclient version.\n\nThe following clients were updated:\n- cinderclient\n- keystoneclient\n- zaqarclient\n\nChange-Id: I0c8546770f8e41fc42374785d3e7ba63f4d5adf9\nCloses-Bug: 1416725\n'}, {'number': 4, 'created': '2015-02-02 13:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c992dc1c9f0069880f5333e0ae2d7646054057a2', 'message': 'Updates required client version\n\nThis change updates the required client versions in our configuration\nsuch that it will now support the updated 2014.2.1 code base.\nThis resolve issue where the service was uninstallable due to missing\nclient version.\n\nThis change also pinns the keystonemiddleware package as it was using\nmaster and it should be set to using a stable tag.\n\nThe following clients were updated:\n- cinderclient==1.1.1\n- keystoneclient==1.0.0\n- zaqarclient==0.1.0\n- keystonemiddleware==1.3.1\n\nChange-Id: I0c8546770f8e41fc42374785d3e7ba63f4d5adf9\nCloses-Bug: 1416725\n'}, {'number': 5, 'created': '2015-02-02 17:24:05.000000000', 'files': ['rpc_deployment/vars/repo_packages/python_cinderclient.yml', 'rpc_deployment/vars/repo_packages/python_keystoneclient.yml', 'rpc_deployment/vars/repo_packages/python_zaqarclient.yml', 'rpc_deployment/vars/repo_packages/openstack_global_requirements.yml', 'rpc_deployment/vars/repo_packages/keystonemiddleware.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3399bc1e6d4ee6d0a038921e0f5914e407aaa46a', 'message': 'Updates required client version\n\nThis change updates the required client versions in our configuration\nsuch that it will now support the updated 2014.2.1 code base.\nThis resolve issue where the service was uninstallable due to missing\nclient version.\n\nThis change also pinns the keystonemiddleware package as it was using\nmaster and it should be set to using a stable tag.\n\nThe following clients were updated:\n- cinderclient==1.1.1\n- keystoneclient==1.0.0\n- zaqarclient==0.1.0\n- keystonemiddleware==1.3.1\n\nTo support this update we\'ve also pinned global requirements to the\n""stable/juno"" branch.\n\nChange-Id: I0c8546770f8e41fc42374785d3e7ba63f4d5adf9\nCloses-Bug: 1416725\n'}]",1,151890,3399bc1e6d4ee6d0a038921e0f5914e407aaa46a,38,9,5,7353,,,0,"Updates required client version

This change updates the required client versions in our configuration
such that it will now support the updated 2014.2.1 code base.
This resolve issue where the service was uninstallable due to missing
client version.

This change also pinns the keystonemiddleware package as it was using
master and it should be set to using a stable tag.

The following clients were updated:
- cinderclient==1.1.1
- keystoneclient==1.0.0
- zaqarclient==0.1.0
- keystonemiddleware==1.3.1

To support this update we've also pinned global requirements to the
""stable/juno"" branch.

Change-Id: I0c8546770f8e41fc42374785d3e7ba63f4d5adf9
Closes-Bug: 1416725
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/90/151890/4 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/vars/repo_packages/python_cinderclient.yml', 'rpc_deployment/vars/repo_packages/python_zaqarclient.yml']",2,8beff37a33ac7547a303101941231e4b5d5ea60b,bug/1416725,git_install_branch: 0.1.0,git_install_branch: 0.0.2,2,2
openstack%2Ftempest~master~I3b355fb592dbbd38cb6805ec413e02644088b088,openstack/tempest,master,I3b355fb592dbbd38cb6805ec413e02644088b088,Turn off sitepackages,MERGED,2015-01-28 19:26:28.000000000,2015-02-03 00:29:36.000000000,2015-02-03 00:29:34.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 10385}, {'_account_id': 14943}]","[{'number': 1, 'created': '2015-01-28 19:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e1c8742a5fb3d3882f4681e7a953a195dd5d2fd3', 'message': 'Turn off sitepackages\n\nFully decouple the versions needed for tempest from the underlying\nsystem. This will help make it possible to pin library versions on\nstable branches to the library version used when the branch was\ncut, while allowing master global requirements to move beyond that\nversion.\n\nNote: We previously enabled sitepackages everywhere to avoid\nrecompiling indirect dependencies that were pulled in via the\npythonclients. To address this we were working on removing the CLI tests\nfrom tempest.\n\nChange-Id: I3b355fb592dbbd38cb6805ec413e02644088b088\n'}, {'number': 2, 'created': '2015-01-28 21:36:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9f1612e7afd9de56bc70d5c5b1c63ad5181d84ab', 'message': 'Turn off sitepackages\n\nFully decouple the versions needed for tempest from the underlying\nsystem. This will help make it possible to pin library versions on\nstable branches to the library version used when the branch was\ncut, while allowing master global requirements to move beyond that\nversion.\n\nNote: We previously enabled sitepackages everywhere to avoid\nrecompiling indirect dependencies that were pulled in via the\npythonclients. To address this we were working on removing the CLI tests\nfrom tempest.\n\nChange-Id: I3b355fb592dbbd38cb6805ec413e02644088b088\n'}]",0,150928,9f1612e7afd9de56bc70d5c5b1c63ad5181d84ab,11,5,2,1849,,,0,"Turn off sitepackages

Fully decouple the versions needed for tempest from the underlying
system. This will help make it possible to pin library versions on
stable branches to the library version used when the branch was
cut, while allowing master global requirements to move beyond that
version.

Note: We previously enabled sitepackages everywhere to avoid
recompiling indirect dependencies that were pulled in via the
pythonclients. To address this we were working on removing the CLI tests
from tempest.

Change-Id: I3b355fb592dbbd38cb6805ec413e02644088b088
",git fetch https://review.opendev.org/openstack/tempest refs/changes/28/150928/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e1c8742a5fb3d3882f4681e7a953a195dd5d2fd3,sitepackages,,sitepackages = True,0,1
openstack%2Fnova~master~I06d798a125b700d9b4670448804d6be27f978d75,openstack/nova,master,I06d798a125b700d9b4670448804d6be27f978d75,Make code compatible with v4 auth and workaround webob bug.,MERGED,2015-02-02 13:34:03.000000000,2015-02-03 00:28:51.000000000,2015-02-03 00:25:20.000000000,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 6873}, {'_account_id': 9312}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10224}, {'_account_id': 10234}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 13734}]","[{'number': 1, 'created': '2015-02-02 13:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/150466c635f2bc7ea0d0ae7a6fa37386001cb1c9', 'message': 'Related-Bug: #1410622\n\nChange-Id: I06d798a125b700d9b4670448804d6be27f978d75\n'}, {'number': 2, 'created': '2015-02-02 13:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b363a2ccca94a9724a4659c167d6310b8104593', 'message': 'Related-Bug: #1410622\n\nChange-Id: I06d798a125b700d9b4670448804d6be27f978d75\n'}, {'number': 3, 'created': '2015-02-02 13:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb4e51f97b14180de5af745bf03fa3facfac6c6c', 'message': ""Body hash calculation is updated.\n\nWebob library has a bug https://github.com/Pylons/webob/issues/149\nwhich causes modification of req.body after first access. So it's\ncritical to calculate the body hash before any other access is made.\n\nRelated-Bug: #1410622\n\nChange-Id: I06d798a125b700d9b4670448804d6be27f978d75\n""}, {'number': 4, 'created': '2015-02-02 15:42:54.000000000', 'files': ['nova/api/ec2/__init__.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fb588f87db65f28823f9e07a9900c34c7b3576a2', 'message': ""Make code compatible with v4 auth and workaround webob bug.\n\nWebob library has a bug https://github.com/Pylons/webob/issues/149\nwhich causes modification of req.body after first access. So it's\ncritical to calculate the body hash before any other access is made.\n\nauth_params should be empty for v4 auth algorythm.\n\nRelated-Bug: #1410622\n\nChange-Id: I06d798a125b700d9b4670448804d6be27f978d75\n""}]",1,152112,fb588f87db65f28823f9e07a9900c34c7b3576a2,34,14,4,10234,,,0,"Make code compatible with v4 auth and workaround webob bug.

Webob library has a bug https://github.com/Pylons/webob/issues/149
which causes modification of req.body after first access. So it's
critical to calculate the body hash before any other access is made.

auth_params should be empty for v4 auth algorythm.

Related-Bug: #1410622

Change-Id: I06d798a125b700d9b4670448804d6be27f978d75
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/152112/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/ec2/__init__.py'],1,150466c635f2bc7ea0d0ae7a6fa37386001cb1c9,bug/1410622, # NOTE(andrey-mp): call to 'req.params' rewrites 'req.body_file' with # decoded params and code can't get original body anywhere saved_body = req.body body_hash = hashlib.sha256(saved_body).hexdigest(), body_hash = hashlib.sha256(req.body).hexdigest(),5,1
openstack%2Ftempest~master~Id52e08067911ef7c6aff49f5c78d7d970fa77d2a,openstack/tempest,master,Id52e08067911ef7c6aff49f5c78d7d970fa77d2a,Fixed a small spelling mistake,MERGED,2015-01-29 19:31:51.000000000,2015-02-03 00:28:41.000000000,2015-02-03 00:28:40.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 8889}, {'_account_id': 8890}, {'_account_id': 9100}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-29 19:31:51.000000000', 'files': ['tempest/cmd/verify_tempest_config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ca600f5aa7a850b38d7136b0977ae8cbf28f9094', 'message': 'Fixed a small spelling mistake\n\nFixed a small typo.\n\nChange-Id: Id52e08067911ef7c6aff49f5c78d7d970fa77d2a\n'}]",0,151357,ca600f5aa7a850b38d7136b0977ae8cbf28f9094,14,9,1,9100,,,0,"Fixed a small spelling mistake

Fixed a small typo.

Change-Id: Id52e08067911ef7c6aff49f5c78d7d970fa77d2a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/57/151357/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/cmd/verify_tempest_config.py'],1,ca600f5aa7a850b38d7136b0977ae8cbf28f9094,, # Verify API versions of all services in the keystone catalog and keystone, # Verify API verisons of all services in the keystone catalog and keystone,1,1
openstack%2Fnova~master~I409a90fcc51b87ca3178df7064c7c4293aa504c4,openstack/nova,master,I409a90fcc51b87ca3178df7064c7c4293aa504c4,Expand instances project_id index to cover deleted as well,MERGED,2014-10-07 15:41:00.000000000,2015-02-03 00:28:10.000000000,2015-02-03 00:28:07.000000000,"[{'_account_id': 3}, {'_account_id': 100}, {'_account_id': 642}, {'_account_id': 782}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6450}, {'_account_id': 6802}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 11642}]","[{'number': 1, 'created': '2014-10-07 15:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39fe749cb38dea40bd14b6db2ed887947b746704', 'message': 'Expand instances project_id index to cover deleted as well\n\nWhen lots of deleted instances exist (for example by busy projects like\nOpenstack CI), some queries can run really slowly. This is because there\nis no easy way for mysqld to efficiently select only non-deleted instances\nlike most queries use.\n\nExpanding the index to cover deleted allows queries that select\nnon-deleted instances to run much more efficiently while allowing queries\nthat select against only project_id to still be efficient.\n\nChange-Id: I409a90fcc51b87ca3178df7064c7c4293aa504c4\nCloses-Bug: 1378395\n'}, {'number': 2, 'created': '2014-10-08 00:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa2a71c3cdc6bccc5623627de09a6e4e1a79979a', 'message': 'Expand instances project_id index to cover deleted as well\n\nWhen lots of deleted instances exist (for example by busy projects like\nOpenstack CI), some queries can run really slowly. This is because there\nis no easy way for mysqld to efficiently select only non-deleted instances\nlike most queries use.\n\nExpanding the index to cover deleted allows queries that select\nnon-deleted instances to run much more efficiently while allowing queries\nthat select against only project_id to still be efficient.\n\nChange-Id: I409a90fcc51b87ca3178df7064c7c4293aa504c4\nCloses-Bug: 1378395\n'}, {'number': 3, 'created': '2014-10-08 15:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d5dd77d5259ee304742d9b901312636fef96a3a', 'message': 'Expand instances project_id index to cover deleted as well\n\nWhen lots of deleted instances exist (for example by busy projects like\nOpenstack CI), some queries can run really slowly. This is because there\nis no easy way for mysqld to efficiently select only non-deleted instances\nlike most queries use.\n\nExpanding the index to cover deleted allows queries that select\nnon-deleted instances to run much more efficiently while allowing queries\nthat select against only project_id to still be efficient.\n\nChange-Id: I409a90fcc51b87ca3178df7064c7c4293aa504c4\nCloses-Bug: 1378395\n'}, {'number': 4, 'created': '2014-10-30 14:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dccde82dfa78d000fc77bebb2ba6744bf4bcd653', 'message': 'Expand instances project_id index to cover deleted as well\n\nWhen lots of deleted instances exist (for example by busy projects like\nOpenstack CI), some queries can run really slowly. This is because there\nis no easy way for mysqld to efficiently select only non-deleted instances\nlike most queries use.\n\nExpanding the index to cover deleted allows queries that select\nnon-deleted instances to run much more efficiently while allowing queries\nthat select against only project_id to still be efficient.\n\nChange-Id: I409a90fcc51b87ca3178df7064c7c4293aa504c4\nCloses-Bug: 1378395\n'}, {'number': 5, 'created': '2014-10-30 14:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2886f48bd05c43941d0df0bc46b33fd795273570', 'message': 'Expand instances project_id index to cover deleted as well\n\nWhen lots of deleted instances exist (for example by busy projects\nlike Openstack CI), some queries can run really slowly. This is\nbecause there is no easy way for mysqld to efficiently select only\nnon-deleted instances like most queries use.\n\nExpanding the index to cover deleted allows queries that select\nnon-deleted instances to run much more efficiently while allowing\nqueries that select against only project_id to still be efficient.\n\nChange-Id: I409a90fcc51b87ca3178df7064c7c4293aa504c4\nCloses-Bug: 1378395\n'}, {'number': 6, 'created': '2014-11-13 15:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a33e3ebb5e7775154917a8b8eb866cf03c91a4fa', 'message': 'Expand instances project_id index to cover deleted as well\n\nWhen lots of deleted instances exist (for example by busy projects\nlike Openstack CI), some queries can run really slowly. This is\nbecause there is no easy way for mysqld to efficiently select only\nnon-deleted instances like most queries use.\n\nExpanding the index to cover deleted allows queries that select\nnon-deleted instances to run much more efficiently while allowing\nqueries that select against only project_id to still be efficient.\n\nChange-Id: I409a90fcc51b87ca3178df7064c7c4293aa504c4\nCloses-Bug: 1378395\n'}, {'number': 7, 'created': '2014-12-05 16:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6ef415105cfa40b6b382e263c997cab455aedf2', 'message': 'Expand instances project_id index to cover deleted as well\n\nWhen lots of deleted instances exist (for example by busy projects\nlike Openstack CI), some queries can run really slowly. This is\nbecause there is no easy way for mysqld to efficiently select only\nnon-deleted instances like most queries use.\n\nExpanding the index to cover deleted allows queries that select\nnon-deleted instances to run much more efficiently while allowing\nqueries that select against only project_id to still be efficient.\n\nChange-Id: I409a90fcc51b87ca3178df7064c7c4293aa504c4\nCloses-Bug: 1378395\n'}, {'number': 8, 'created': '2014-12-09 17:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/880d31c0098353e0a7e42d3db834d3ce4be8ad54', 'message': 'Expand instances project_id index to cover deleted as well\n\nWhen lots of deleted instances exist (for example by busy projects\nlike Openstack CI), some queries can run really slowly. This is\nbecause there is no easy way for mysqld to efficiently select only\nnon-deleted instances like most queries use.\n\nExpanding the index to cover deleted allows queries that select\nnon-deleted instances to run much more efficiently while allowing\nqueries that select against only project_id to still be efficient.\n\nChange-Id: I409a90fcc51b87ca3178df7064c7c4293aa504c4\nCloses-Bug: 1378395\n'}, {'number': 9, 'created': '2014-12-19 17:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d8ee77722fb176f635d28114bcb4ef58be16433', 'message': 'Expand instances project_id index to cover deleted as well\n\nWhen lots of deleted instances exist (for example by busy projects\nlike Openstack CI), some queries can run really slowly. This is\nbecause there is no easy way for mysqld to efficiently select only\nnon-deleted instances like most queries use.\n\nExpanding the index to cover deleted allows queries that select\nnon-deleted instances to run much more efficiently while allowing\nqueries that select against only project_id to still be efficient.\n\nChange-Id: I409a90fcc51b87ca3178df7064c7c4293aa504c4\nCloses-Bug: 1378395\n'}, {'number': 10, 'created': '2015-02-02 16:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8251299c2bad90cec8af71de0e914fc8201579b6', 'message': 'Expand instances project_id index to cover deleted as well\n\nWhen lots of deleted instances exist (for example by busy projects\nlike Openstack CI), some queries can run really slowly. This is\nbecause there is no easy way for mysqld to efficiently select only\nnon-deleted instances like most queries use.\n\nExpanding the index to cover deleted allows queries that select\nnon-deleted instances to run much more efficiently while allowing\nqueries that select against only project_id to still be efficient.\n\nChange-Id: I409a90fcc51b87ca3178df7064c7c4293aa504c4\nCloses-Bug: 1378395\n'}, {'number': 11, 'created': '2015-02-02 21:42:32.000000000', 'files': ['nova/db/sqlalchemy/models.py', 'nova/tests/unit/db/test_migrations.py', 'nova/db/sqlalchemy/migrate_repo/versions/274_update_instances_project_id_index.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d6d26b9164a4138e05b774efde9137417a0cd4c0', 'message': 'Expand instances project_id index to cover deleted as well\n\nWhen lots of deleted instances exist (for example by busy projects\nlike Openstack CI), some queries can run really slowly. This is\nbecause there is no easy way for mysqld to efficiently select only\nnon-deleted instances like most queries use.\n\nExpanding the index to cover deleted allows queries that select\nnon-deleted instances to run much more efficiently while allowing\nqueries that select against only project_id to still be efficient.\n\nChange-Id: I409a90fcc51b87ca3178df7064c7c4293aa504c4\nCloses-Bug: 1378395\n'}]",4,126603,d6d26b9164a4138e05b774efde9137417a0cd4c0,104,17,11,100,,,0,"Expand instances project_id index to cover deleted as well

When lots of deleted instances exist (for example by busy projects
like Openstack CI), some queries can run really slowly. This is
because there is no easy way for mysqld to efficiently select only
non-deleted instances like most queries use.

Expanding the index to cover deleted allows queries that select
non-deleted instances to run much more efficiently while allowing
queries that select against only project_id to still be efficient.

Change-Id: I409a90fcc51b87ca3178df7064c7c4293aa504c4
Closes-Bug: 1378395
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/126603/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/migrate_repo/versions/266_update_instances_project_id_index.py', 'nova/tests/db/test_migrations.py']",2,39fe749cb38dea40bd14b6db2ed887947b746704,bug/1378395," index_names = set(idx.name for idx in t.indexes) def assertIndexNotExists(self, engine, table, index): t = oslodbutils.get_table(engine, table) index_names = set(idx.name for idx in t.indexes) self.assertNotIn(index, index_names) def _check_266(self, engine, data): self.assertIndexMembers(engine, 'instances', 'instances_project_id_deleted_idx', ['project_id', 'deleted']) self.assertIndexNotExists(engine, 'instances', 'project_id') def _post_downgrade_266(self, engine): self.assertIndexMembers(engine, 'instances', 'project_id', ['project_id']) self.assertIndexNotExists(engine, 'instances', 'instances_project_id_deleted_idx') ", index_names = [idx.name for idx in t.indexes],69,1
openstack%2Fnova~master~I84e8cb402291ab1401d432cac8701d34a82d2d60,openstack/nova,master,I84e8cb402291ab1401d432cac8701d34a82d2d60,Add more status when do _poll_rebooting_instances,MERGED,2014-09-23 08:23:52.000000000,2015-02-03 00:25:54.000000000,2015-02-03 00:25:51.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 1653}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10618}, {'_account_id': 11103}, {'_account_id': 12175}]","[{'number': 1, 'created': '2014-09-23 08:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7080b41b185ba26d68d91ca96537213c636b701', 'message': ""Add restarted stauts when do _poll_rebooting_instances\n\nAdd task_states.REBOOT_STARTED to the filters when doing\n_poll_rebooting_instances.\n\nWhen doing reboot, the task status will be REBOOT_STARTED for\nlong time in some cases, it's better to add this status\nwhen polling the rebooting instances and try to trigger\nreboot again.\n\nChange-Id: I84e8cb402291ab1401d432cac8701d34a82d2d60\nCloses-Bug: 1372812\n""}, {'number': 2, 'created': '2014-09-24 05:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60c1c813b8d310bce60aa32cae5485ed77c9d68f', 'message': ""[WIP]Add restarted status when do _poll_rebooting_instances\n\nAdd task_states.REBOOT_STARTED to the filters when doing\n_poll_rebooting_instances.\n\nWhen doing reboot, the task status will be REBOOT_STARTED for\nlong time in some cases, it's better to add this status\nwhen polling the rebooting instances and try to trigger\nreboot again.\n\nthis patch add new unit test case for _poll_rebooting_instances.\n\nChange-Id: I84e8cb402291ab1401d432cac8701d34a82d2d60\nCloses-Bug: 1372812\n""}, {'number': 3, 'created': '2014-09-24 06:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d444cc9bf923ccc111fa5feb96b26e8c2f57a24a', 'message': ""Add more status when do _poll_rebooting_instances\n\nAdd task_states.REBOOT_STARTED and REBOOT_PENDING to the filters\nwhen doing _poll_rebooting_instances.\n\nWhen doing reboot, the task status will be REBOOT_STARTED for\nlong time in some cases, it's better to add this status\nwhen polling the rebooting instances and try to trigger\nreboot again.\nfor REBOOT_PENDING, it is also reasonable to be added.\n\nbesides, this patch also adds new unit test case for\n_poll_rebooting_instances.\n\nChange-Id: I84e8cb402291ab1401d432cac8701d34a82d2d60\nCloses-Bug: 1372812\n""}, {'number': 4, 'created': '2014-12-09 01:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96b2818203dfa6abd8b325663f85839b6a471ea6', 'message': ""Add more status when do _poll_rebooting_instances\n\nAdd task_states.REBOOT_STARTED and REBOOT_PENDING to the filters\nwhen doing _poll_rebooting_instances.\n\nWhen doing reboot, the task status will be REBOOT_STARTED for\nlong time in some cases, it's better to add this status\nwhen polling the rebooting instances and try to trigger\nreboot again.\nfor REBOOT_PENDING, it is also reasonable to be added.\n\nbesides, this patch also adds new unit test case for\n_poll_rebooting_instances.\n\nChange-Id: I84e8cb402291ab1401d432cac8701d34a82d2d60\nCloses-Bug: 1372812\n""}, {'number': 5, 'created': '2015-02-02 19:13:57.000000000', 'files': ['nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cb42b79c1bf3a260c52087416ce46d4602bf2941', 'message': ""Add more status when do _poll_rebooting_instances\n\nAdd task_states.REBOOT_STARTED and REBOOT_PENDING to the filters\nwhen doing _poll_rebooting_instances.\n\nWhen doing reboot, the task status will be REBOOT_STARTED for\nlong time in some cases, it's better to add this status\nwhen polling the rebooting instances and try to trigger\nreboot again.\nfor REBOOT_PENDING, it is also reasonable to be added.\n\nbesides, this patch also adds new unit test case for\n_poll_rebooting_instances.\n\nChange-Id: I84e8cb402291ab1401d432cac8701d34a82d2d60\nCloses-Bug: 1372812\n""}]",10,123392,cb42b79c1bf3a260c52087416ce46d4602bf2941,59,17,5,12175,,,0,"Add more status when do _poll_rebooting_instances

Add task_states.REBOOT_STARTED and REBOOT_PENDING to the filters
when doing _poll_rebooting_instances.

When doing reboot, the task status will be REBOOT_STARTED for
long time in some cases, it's better to add this status
when polling the rebooting instances and try to trigger
reboot again.
for REBOOT_PENDING, it is also reasonable to be added.

besides, this patch also adds new unit test case for
_poll_rebooting_instances.

Change-Id: I84e8cb402291ab1401d432cac8701d34a82d2d60
Closes-Bug: 1372812
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/123392/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,f7080b41b185ba26d68d91ca96537213c636b701,bug/1372812," filters = {'task_state': [task_states.REBOOTING, task_states.REBOOT_STARTED],"," filters = {'task_state': task_states.REBOOTING,",2,1
openstack%2Fpuppet-ceph~master~I753c0ef326c4b8585e9e9f330a64160f95edd8a8,openstack/puppet-ceph,master,I753c0ef326c4b8585e9e9f330a64160f95edd8a8,"Bump default version to giant, test against giant and drop emperor",MERGED,2014-11-19 17:24:16.000000000,2015-02-03 00:22:32.000000000,2015-02-03 00:22:31.000000000,"[{'_account_id': 3}, {'_account_id': 2064}, {'_account_id': 9061}, {'_account_id': 9133}, {'_account_id': 11479}]","[{'number': 1, 'created': '2014-11-19 17:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/4175f80a181173dbd0ca0d1451adc7d8ff09ae17', 'message': 'Bump default version to giant, test against giant and drop emperor\n\n- The default version in repo should be the latest stable release\n- We want to keep tests against all LTS releases as well as the\nlatest stable release. So drop emperor and add giant. When hammer\nis released, we will drop giant and add hammer.\n\nChange-Id: I753c0ef326c4b8585e9e9f330a64160f95edd8a8\n'}, {'number': 2, 'created': '2015-02-02 15:45:13.000000000', 'files': ['spec/system/ceph_key_spec.rb', 'spec/system/ceph_profile_base_spec.rb', 'spec/system/ceph_profile_mon_spec.rb', 'examples/common.yaml', 'manifests/repo.pp', 'spec/system/ceph_repo_spec.rb', 'README.md', 'spec/system/ceph_osd_spec.rb', 'spec/system/ceph_pool_spec.rb', 'spec/system/ceph_mons_spec.rb', 'spec/system/ceph_profile_osd_spec.rb', 'spec/system/ceph_mon_spec.rb', 'spec/system/ceph_profile_client_spec.rb', 'spec/classes/ceph_repo_spec.rb', 'spec/system/ceph_osds_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/e147439ecd323eacd47ad85c2724e5457144d109', 'message': 'Bump default version to giant, test against giant and drop emperor\n\n- The default version in repo should be the latest stable release\n- We want to keep tests against all LTS releases as well as the\nlatest stable release. So drop emperor and add giant. When hammer\nis released, we will drop giant and add hammer.\n\nChange-Id: I753c0ef326c4b8585e9e9f330a64160f95edd8a8\n'}]",0,135668,e147439ecd323eacd47ad85c2724e5457144d109,19,5,2,9061,,,0,"Bump default version to giant, test against giant and drop emperor

- The default version in repo should be the latest stable release
- We want to keep tests against all LTS releases as well as the
latest stable release. So drop emperor and add giant. When hammer
is released, we will drop giant and add hammer.

Change-Id: I753c0ef326c4b8585e9e9f330a64160f95edd8a8
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/68/135668/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/system/ceph_key_spec.rb', 'spec/system/ceph_profile_base_spec.rb', 'spec/system/ceph_profile_mon_spec.rb', 'examples/common.yaml', 'manifests/repo.pp', 'spec/system/ceph_repo_spec.rb', 'README.md', 'spec/system/ceph_osd_spec.rb', 'spec/system/ceph_pool_spec.rb', 'spec/system/ceph_mons_spec.rb', 'spec/system/ceph_profile_osd_spec.rb', 'spec/system/ceph_mon_spec.rb', 'spec/system/ceph_profile_client_spec.rb', 'spec/classes/ceph_repo_spec.rb', 'spec/system/ceph_osds_spec.rb']",15,4175f80a181173dbd0ca0d1451adc7d8ff09ae17,tests," releases = ENV['RELEASES'] ? ENV['RELEASES'].split : [ 'dumpling', 'firefly', 'giant' ]"," releases = ENV['RELEASES'] ? ENV['RELEASES'].split : [ 'dumpling', 'emperor', 'firefly' ]",49,50
openstack%2Fproject-config~master~I6e9b6184deaea9f9aa43bc329147f2e9a9622306,openstack/project-config,master,I6e9b6184deaea9f9aa43bc329147f2e9a9622306,Upload console and logs together for index gen,MERGED,2015-02-02 21:57:12.000000000,2015-02-03 00:22:15.000000000,2015-02-03 00:22:13.000000000,"[{'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 7069}]","[{'number': 1, 'created': '2015-02-02 21:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0f7a273de65e820b1fe868e7faabc153ce0c2fc4', 'message': 'Upload console and logs together for index gen\n\nWe get one shot at uploading a set of correct indexes to swift. If we do\nmultiple passes at uploading swift logs then we can have incomplete\nindexes as the index generator will only have a partial view of the\nworld.\n\nSwitch the dg swift upload publisher to upload console.html and\nthe devstack logs together so that we generate a complete and correct\nroot index that includes the console log and the logs/ dir.\n\nChange-Id: I6e9b6184deaea9f9aa43bc329147f2e9a9622306\n'}, {'number': 2, 'created': '2015-02-02 23:50:27.000000000', 'files': ['jenkins/jobs/devstack-gate.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b8156b12a13e3a752d9a6baec2994ce037e795f8', 'message': 'Upload console and logs together for index gen\n\nWe get one shot at uploading a set of correct indexes to swift. If we do\nmultiple passes at uploading swift logs then we can have incomplete\nindexes as the index generator will only have a partial view of the\nworld.\n\nSwitch the dg swift upload publisher to upload console.html and\nthe devstack logs together so that we generate a complete and correct\nroot index that includes the console log and the logs/ dir.\n\nChange-Id: I6e9b6184deaea9f9aa43bc329147f2e9a9622306\n'}]",0,152294,b8156b12a13e3a752d9a6baec2994ce037e795f8,10,3,2,4146,,,0,"Upload console and logs together for index gen

We get one shot at uploading a set of correct indexes to swift. If we do
multiple passes at uploading swift logs then we can have incomplete
indexes as the index generator will only have a partial view of the
world.

Switch the dg swift upload publisher to upload console.html and
the devstack logs together so that we generate a complete and correct
root index that includes the console log and the logs/ dir.

Change-Id: I6e9b6184deaea9f9aa43bc329147f2e9a9622306
",git fetch https://review.opendev.org/openstack/project-config refs/changes/94/152294/2 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/devstack-gate.yaml'],1,0f7a273de65e820b1fe868e7faabc153ce0c2fc4,better-swift-dg-logs, - zuul-swift-upload-logs-with-console upload_source: 'logs' - zuul-swift-upload-logs-with-console upload_source: 'logs', - zuul-swift-devstack-logs - zuul-swift-upload-console-log - zuul-swift-devstack-logs - zuul-swift-upload-console-log,4,4
openstack%2Fopenstack-ansible~juno~I2e25029dab4969181a4481af68ed802414e8d5c1,openstack/openstack-ansible,juno,I2e25029dab4969181a4481af68ed802414e8d5c1,Store all package repo URLs in variables,MERGED,2015-02-02 20:03:07.000000000,2015-02-03 00:20:18.000000000,2015-02-02 20:56:26.000000000,"[{'_account_id': 3}, {'_account_id': 7307}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 9884}, {'_account_id': 14805}]","[{'number': 1, 'created': '2015-02-02 20:03:07.000000000', 'files': ['rpc_deployment/vars/repo_packages/raxmon_agent.yml', 'rpc_deployment/vars/repo_packages/hosts.yml', 'rpc_deployment/vars/repo_packages/elasticsearch.yml', 'rpc_deployment/vars/repo_packages/logstash.yml', 'rpc_deployment/inventory/group_vars/all.yml', 'rpc_deployment/vars/repo_packages/rsyslog.yml', 'rpc_deployment/vars/repo_packages/rabbitmq.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2aec4ce96bebfa0b776c7269672a043b8363cc70', 'message': 'Store all package repo URLs in variables\n\nThis change stores the URL of each package repo in a variable\nto allow for them to be overridable through user configuration.\n\nChange-Id: I2e25029dab4969181a4481af68ed802414e8d5c1\nCloses-Bug: 1414880\n(cherry picked from commit c7f37d6efc570071e4733035a573b464e6b0d3b3)\n'}]",0,152259,2aec4ce96bebfa0b776c7269672a043b8363cc70,10,6,1,6816,,,0,"Store all package repo URLs in variables

This change stores the URL of each package repo in a variable
to allow for them to be overridable through user configuration.

Change-Id: I2e25029dab4969181a4481af68ed802414e8d5c1
Closes-Bug: 1414880
(cherry picked from commit c7f37d6efc570071e4733035a573b464e6b0d3b3)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/59/152259/1 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/vars/repo_packages/raxmon_agent.yml', 'rpc_deployment/vars/repo_packages/hosts.yml', 'rpc_deployment/vars/repo_packages/elasticsearch.yml', 'rpc_deployment/vars/repo_packages/logstash.yml', 'rpc_deployment/inventory/group_vars/all.yml', 'rpc_deployment/vars/repo_packages/rsyslog.yml', 'rpc_deployment/vars/repo_packages/rabbitmq.yml']",7,2aec4ce96bebfa0b776c7269672a043b8363cc70,," - { repo: ""deb {{ rabbitmq_repo_url }} testing main"", state: ""present"" }"," - { repo: ""deb http://www.rabbitmq.com/debian/ testing main"", state: ""present"" }",19,9
openstack%2Fglance-specs~master~I7f01579f8e19e40c1585d359f8390ba734d46871,openstack/glance-specs,master,I7f01579f8e19e40c1585d359f8390ba734d46871,Spec to replace snet config with endpoint config,MERGED,2015-01-13 19:53:59.000000000,2015-02-02 23:54:17.000000000,2015-01-30 22:59:55.000000000,"[{'_account_id': 3}, {'_account_id': 2537}, {'_account_id': 5314}, {'_account_id': 11642}, {'_account_id': 11864}, {'_account_id': 12000}]","[{'number': 1, 'created': '2015-01-13 19:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/3322acd3de92da70d751d42602555b97557117d2', 'message': 'Spec to replace snet config with endpoint config\n\nbp replace-snet-config-with-endpoint-config\n\nChange-Id: I7f01579f8e19e40c1585d359f8390ba734d46871\n'}, {'number': 2, 'created': '2015-01-22 17:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/e168d9ceba9a18f21e1be959057934dd8dbbd5fc', 'message': 'Spec to replace snet config with endpoint config\n\nbp replace-snet-config-with-endpoint-config\n\nChange-Id: I7f01579f8e19e40c1585d359f8390ba734d46871\n'}, {'number': 3, 'created': '2015-01-26 19:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/b0d69f70f1ccd633ffbbc7c5d85d272046e59cad', 'message': 'Spec to replace snet config with endpoint config\n\nbp replace-snet-config-with-endpoint-config\n\nChange-Id: I7f01579f8e19e40c1585d359f8390ba734d46871\n'}, {'number': 4, 'created': '2015-01-29 14:31:53.000000000', 'files': ['specs/kilo/replace-snet-config-with-endpoint-config.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/9f158867be82ad041916024aad1895010aa83930', 'message': 'Spec to replace snet config with endpoint config\n\nbp replace-snet-config-with-endpoint-config\n\nChange-Id: I7f01579f8e19e40c1585d359f8390ba734d46871\n'}]",17,146972,9f158867be82ad041916024aad1895010aa83930,29,6,4,11642,,,0,"Spec to replace snet config with endpoint config

bp replace-snet-config-with-endpoint-config

Change-Id: I7f01579f8e19e40c1585d359f8390ba734d46871
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/72/146972/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/replace-snet-config-with-endpoint-config.rst'],1,3322acd3de92da70d751d42602555b97557117d2,bp/replace-snet-config-with-endpoint-config,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================== Smooth Deletes Over Time ======================== https://blueprints.launchpad.net/glance/+spec/replace-snet-config-with-endpoint-config The snet option forces the deployer to name the desired endpoint after the public endpoint. Problem description =================== The snet option forces the deployer to name the desired endpoint after the public endpoint. In order to switch between multiple internal networks, names have to be changed. Proposed change =============== Instead of constructing a URL with a prefix from what is returned by auth, specify the URL via configuration. Alternatives ------------ Only use auth v2. Store and retrieve multiple internal endpoints from the catalog. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- Configuration options will change. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: jesse-j-cook Reviewers --------- Core reviewer(s): nikhil-komawar Other reviewer(s): johngarbutt ben-roble Work Items ---------- * Modify code to use endpoint config * Remove snet prefix code Dependencies ============ None Testing ======= * Verify auth works * Verify configured endpoint is reached Documentation Impact ==================== * Document new scrubber configuration options. References ========== https://review.openstack.org/#/c/139726/ ",,122,0
openstack%2Fcookbook-openstack-compute~master~Ia87e123ae2d88e3122b8d66d8ff144a804e6d8c4,openstack/cookbook-openstack-compute,master,Ia87e123ae2d88e3122b8d66d8ff144a804e6d8c4,Add dependency on upstream ceph cookbook for better key management,MERGED,2015-01-13 03:19:04.000000000,2015-02-02 23:11:35.000000000,2015-02-02 23:11:35.000000000,"[{'_account_id': 3}, {'_account_id': 7128}, {'_account_id': 8112}, {'_account_id': 9488}, {'_account_id': 12323}, {'_account_id': 12588}, {'_account_id': 13252}]","[{'number': 1, 'created': '2015-01-13 03:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/5266ff4142c636d8cd832c78f22ab2a80656e436', 'message': 'Add dependency on upstream ceph cookbook for better key management\n\nThe upstream ceph cookbook already hooks into chef for environment information.\nThis patch utilizes the client LWRP to create or add ceph keys for RBD support.\nThis patch also changes some default attribute names for more sane organization\n\nLaunchpad Bug: https://bugs.launchpad.net/openstack-chef/+bug/1409943\n\nChange-Id: Ia87e123ae2d88e3122b8d66d8ff144a804e6d8c4\n'}, {'number': 2, 'created': '2015-01-13 16:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/2f663aba700ddd9222f2d7ee3627ee719f54344d', 'message': 'Add dependency on upstream ceph cookbook for better key management\n\nThe upstream ceph cookbook already hooks into chef for environment information.\nThis patch utilizes the client LWRP to create or add ceph keys for RBD support.\nThis patch also changes some default attribute names for more sane organization\n\nLaunchpad Bug: https://bugs.launchpad.net/openstack-chef/+bug/1409943\n\nChange-Id: Ia87e123ae2d88e3122b8d66d8ff144a804e6d8c4\n'}, {'number': 3, 'created': '2015-01-13 17:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/9b3a4de83107b8f4ef5c8db833ad2b46434a84ec', 'message': 'Add dependency on upstream ceph cookbook for better key management\n\nThe upstream ceph cookbook already hooks into chef for environment information.\nThis patch utilizes the client LWRP to create or add ceph keys for RBD support.\nThis patch also changes some default attribute names for more sane organization\n\nLaunchpad Bug: https://bugs.launchpad.net/openstack-chef/+bug/1409943\n\nChange-Id: Ia87e123ae2d88e3122b8d66d8ff144a804e6d8c4\n'}, {'number': 4, 'created': '2015-01-13 23:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/a038f43456fef5bfc03a4f980e56f9eecc44a9d7', 'message': 'Add dependency on upstream ceph cookbook for better key management\n\nThe upstream ceph cookbook already hooks into chef for environment information.\nThis patch utilizes the client LWRP to create or add ceph keys for RBD support.\nThis patch also changes some default attribute names for more sane organization\n\nLaunchpad Bug: https://bugs.launchpad.net/openstack-chef/+bug/1409943\n\nChange-Id: Ia87e123ae2d88e3122b8d66d8ff144a804e6d8c4\n'}, {'number': 5, 'created': '2015-01-15 02:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/59c695055d33b53ec538d2f61e76c18592dad9d8', 'message': 'Add dependency on upstream ceph cookbook for better key management\n\nThe upstream ceph cookbook already hooks into chef for environment information.\nThis patch utilizes the client LWRP to create or add ceph keys for RBD support.\nThis patch also changes some default attribute names for more sane organization\n\nPartial-Bug: #1409943\n\nChange-Id: Ia87e123ae2d88e3122b8d66d8ff144a804e6d8c4\n'}, {'number': 6, 'created': '2015-01-15 02:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/003fd64136522005316928b38efcb80b8eedc2f0', 'message': 'Add dependency on upstream ceph cookbook for better key management\n\nThe upstream ceph cookbook already hooks into chef for environment information.\nThis patch utilizes the client LWRP to create or add ceph keys for RBD support.\nThis patch also changes some default attribute names for more sane organization\n\nPartial-Bug: #1409943\n\nChange-Id: Ia87e123ae2d88e3122b8d66d8ff144a804e6d8c4\n'}, {'number': 7, 'created': '2015-01-15 03:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/9f751a618b7bf3f0fb7730fc1fdadde6adcb5736', 'message': 'Add dependency on upstream ceph cookbook for better key management\n\nThe upstream ceph cookbook already hooks into chef for environment information.\nThis patch utilizes the client LWRP to create or add ceph keys for RBD support.\nThis patch also changes some default attribute names for more sane organization\n\nPartial-Bug: #1409943\n\nChange-Id: Ia87e123ae2d88e3122b8d66d8ff144a804e6d8c4\n'}, {'number': 8, 'created': '2015-01-15 06:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/c095eca670364ae6b38241eda2fb11130d58fba4', 'message': 'Add dependency on upstream ceph cookbook for better key management\n\nThe upstream ceph cookbook already hooks into chef for environment information.\nThis patch utilizes the client LWRP to create or add ceph keys for RBD support.\nThis patch also changes some default attribute names for more sane organization\n\nPartial-Bug: #1409943\n\nChange-Id: Ia87e123ae2d88e3122b8d66d8ff144a804e6d8c4\n'}, {'number': 9, 'created': '2015-01-15 13:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/8127d240c777819ad22b52e3fdcacfe130bd4fa1', 'message': 'Add dependency on upstream ceph cookbook for better key management\n\nThe upstream ceph cookbook already hooks into chef for environment information.\nThis patch utilizes the client LWRP to create or add ceph keys for RBD support.\nThis patch also changes some default attribute names for more sane organization\n\nPartial-Bug: #1409943\n\nChange-Id: Ia87e123ae2d88e3122b8d66d8ff144a804e6d8c4\n'}, {'number': 10, 'created': '2015-01-15 13:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/ea1f7470c6821002c90e9b56ceb73946f90ad715', 'message': 'Add dependency on upstream ceph cookbook for better key management\n\nThe upstream ceph cookbook already hooks into chef for environment information.\nThis patch utilizes the client LWRP to create or add ceph keys for RBD support.\nThis patch also changes some default attribute names for more sane organization\n\nPartial-Bug: #1409943\n\nChange-Id: Ia87e123ae2d88e3122b8d66d8ff144a804e6d8c4\n'}, {'number': 11, 'created': '2015-01-15 14:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/61e1f6b082a22b459f785bf78a0e20809dfafb2b', 'message': 'Add dependency on upstream ceph cookbook for better key management\n\nThe upstream ceph cookbook already hooks into chef for environment information.\nThis patch utilizes the client LWRP to create or add ceph keys for RBD support.\nThis patch also changes some default attribute names for more sane organization\n\nPartial-Bug: #1409943\n\nChange-Id: Ia87e123ae2d88e3122b8d66d8ff144a804e6d8c4\n'}, {'number': 12, 'created': '2015-01-22 12:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/2fb0f58b5e3af3008a5b4813c774d062e296033a', 'message': 'Add dependency on upstream ceph cookbook for better key management\n\nThe upstream ceph cookbook already hooks into chef for environment information.\nThis patch utilizes the client LWRP to create or add ceph keys for RBD support.\nThis patch also changes some default attribute names for more sane organization\n\nPartial-Bug: #1409943\n\nChange-Id: Ia87e123ae2d88e3122b8d66d8ff144a804e6d8c4\n'}, {'number': 13, 'created': '2015-02-02 16:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/09049e6e5caea8027835d67491d3033e80021670', 'message': 'Add dependency on upstream ceph cookbook for better key management\n\nThe upstream ceph cookbook already hooks into chef for environment information.\nThis patch utilizes the client LWRP to create or add ceph keys for RBD support.\nThis patch also changes some default attribute names for more sane organization\n\nPartial-Bug: #1409943\n\nChange-Id: Ia87e123ae2d88e3122b8d66d8ff144a804e6d8c4\n'}, {'number': 14, 'created': '2015-02-02 17:16:23.000000000', 'files': ['spec/libvirt_rbd_spec.rb', 'spec/nova-common_spec.rb', 'CHANGELOG.md', 'Berksfile', 'README.md', 'recipes/libvirt_rbd.rb', 'spec/spec_helper.rb', 'attributes/default.rb', 'metadata.rb', 'templates/default/nova.conf.erb', 'spec/libvirt_spec.rb', 'recipes/nova-common.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/557afe098937ff4cd6661e7ad9104846081c0fdc', 'message': 'Add dependency on upstream ceph cookbook for better key management\n\nThe upstream ceph cookbook already hooks into chef for environment information.\nThis patch utilizes the client LWRP to create or add ceph keys for RBD support.\nThis patch also changes some default attribute names for more sane organization\n\nPartial-Bug: #1409943\n\nChange-Id: Ia87e123ae2d88e3122b8d66d8ff144a804e6d8c4\n'}]",29,146745,557afe098937ff4cd6661e7ad9104846081c0fdc,53,7,14,12588,,,0,"Add dependency on upstream ceph cookbook for better key management

The upstream ceph cookbook already hooks into chef for environment information.
This patch utilizes the client LWRP to create or add ceph keys for RBD support.
This patch also changes some default attribute names for more sane organization

Partial-Bug: #1409943

Change-Id: Ia87e123ae2d88e3122b8d66d8ff144a804e6d8c4
",git fetch https://review.opendev.org/openstack/cookbook-openstack-compute refs/changes/45/146745/14 && git format-patch -1 --stdout FETCH_HEAD,"['recipes/libvirt_rbd.rb', '.gitignore', 'Gemfile', 'attributes/default.rb', 'spec/libvirt_rbd_spec.rb', 'metadata.rb', 'templates/default/nova.conf.erb', '.kitchen.yml', 'Berksfile', 'recipes/nova-common.rb']",10,5266ff4142c636d8cd832c78f22ab2a80656e436,bug/1409943,,"if node['openstack']['compute']['libvirt']['images_type'] == 'rbd' rbd_secret_uuid = get_secret node['openstack']['compute']['libvirt']['rbd']['rbd_secret_name'] end rbd_secret_uuid: rbd_secret_uuid,",74,75
openstack%2Fnova~master~I598df35d055b39f25b28e7bcff1062b875788ded,openstack/nova,master,I598df35d055b39f25b28e7bcff1062b875788ded,initialize objects with context in block device,MERGED,2015-01-21 04:43:36.000000000,2015-02-02 23:10:58.000000000,2015-02-02 23:10:55.000000000,"[{'_account_id': 3}, {'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 5638}, {'_account_id': 6873}, {'_account_id': 8688}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-21 04:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eab134c2f7f4b41989483dc71d6dcd8cfdf8e1bc', 'message': ""initialize objects with context in block device\n\nThese changes aim to clean up the pattern of passing a context in\nobject member functions create/destroy/refresh/save and instead\ninitialize the object with the context when it's constructed.\n\nRelated to blueprint kilo-objects\n\n(cherry picked from commit 570c98cb9e9e7327477d92c52bfdc0a28ab7f88e)\n\nThis patch was reverted in https://review.openstack.org/#/c/147751/\nbecause it broke boot from block device functionality, the test for\nwhich is currently being skipped in tempest, temporarily. I tested\nthis locally with tempest with test_volume_boot_pattern enabled.\n\nThis is a resubmission of the reverted patch with the broken call\nsite fixed.\n\nThis clean up is intended to reduce complexity and confusion about\nthe use of objects, and in the future, objects will no longer\ngive the option of passing a context to create/destroy/refresh/save.\nInstead, the context manager obj_as_admin() should be used to perform\nan action with an elevated context.\n\nChange-Id: I598df35d055b39f25b28e7bcff1062b875788ded\n""}, {'number': 2, 'created': '2015-01-21 08:35:27.000000000', 'files': ['nova/virt/libvirt/blockinfo.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/test_block_device.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fac0e90b3d54e9a2c74f8017b9a9c592bc296e0c', 'message': ""initialize objects with context in block device\n\nThese changes aim to clean up the pattern of passing a context in\nobject member functions create/destroy/refresh/save and instead\ninitialize the object with the context when it's constructed.\n\nRelated to blueprint kilo-objects\n\n(cherry picked from commit 570c98cb9e9e7327477d92c52bfdc0a28ab7f88e)\n\nThis patch was reverted in https://review.openstack.org/#/c/147751/\nbecause it broke boot from block device functionality, the test for\nwhich is currently being skipped in tempest, temporarily. I tested\nthis locally with tempest with test_volume_boot_pattern enabled.\n\nThis is a resubmission of the reverted patch with the broken call\nsite fixed.\n\nThis clean up is intended to reduce complexity and confusion about\nthe use of objects, and in the future, objects will no longer\ngive the option of passing a context to create/destroy/refresh/save.\nInstead, the context manager obj_as_admin() should be used to perform\nan action with an elevated context.\n\nChange-Id: I598df35d055b39f25b28e7bcff1062b875788ded\n""}]",6,148788,fac0e90b3d54e9a2c74f8017b9a9c592bc296e0c,27,12,2,4690,,,0,"initialize objects with context in block device

These changes aim to clean up the pattern of passing a context in
object member functions create/destroy/refresh/save and instead
initialize the object with the context when it's constructed.

Related to blueprint kilo-objects

(cherry picked from commit 570c98cb9e9e7327477d92c52bfdc0a28ab7f88e)

This patch was reverted in https://review.openstack.org/#/c/147751/
because it broke boot from block device functionality, the test for
which is currently being skipped in tempest, temporarily. I tested
this locally with tempest with test_volume_boot_pattern enabled.

This is a resubmission of the reverted patch with the broken call
site fixed.

This clean up is intended to reduce complexity and confusion about
the use of objects, and in the future, objects will no longer
give the option of passing a context to create/destroy/refresh/save.
Instead, the context manager obj_as_admin() should be used to perform
an action with an elevated context.

Change-Id: I598df35d055b39f25b28e7bcff1062b875788ded
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/148788/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/blockinfo.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/test_block_device.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/block_device.py']",5,eab134c2f7f4b41989483dc71d6dcd8cfdf8e1bc,bp/kilo-objects," obj.save() def save(self): self._bdm_obj.save() def save(self): super(DriverVolumeBlockDevice, self).save()"," obj.save(context) def save(self, context=None): if context: self._bdm_obj.save(context) else: self._bdm_obj.save() def save(self, context=None): super(DriverVolumeBlockDevice, self).save(context)",17,25
openstack%2Fceilometer~master~Ia2cdfe351dad2336bce8519da3e568f226a2593a,openstack/ceilometer,master,Ia2cdfe351dad2336bce8519da3e568f226a2593a,add notifier publisher for events,MERGED,2015-01-15 23:54:03.000000000,2015-02-02 22:57:52.000000000,2015-02-02 22:57:51.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2284}, {'_account_id': 2813}, {'_account_id': 3012}, {'_account_id': 6676}, {'_account_id': 7052}, {'_account_id': 7729}, {'_account_id': 8052}, {'_account_id': 10987}, {'_account_id': 13273}]","[{'number': 1, 'created': '2015-01-15 23:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f5df29f3ef20cfe10b9baea2418f59207c78711d', 'message': 'add notifier publisher for events\n\nthis allows the ability for deployers to push events to MQ rather\nthan send data directly to a database. the notifier publisher\nsupports the same options as the sample publisher.\n\nChange-Id: Ia2cdfe351dad2336bce8519da3e568f226a2593a\nImplements: blueprint notification-pipelines\n'}, {'number': 2, 'created': '2015-01-19 14:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ed78309f3bdbf832e69169db143770782fae5b9a', 'message': 'add notifier publisher for events\n\nthis allows the ability for deployers to push events to MQ rather\nthan send data directly to a database. the notifier publisher\nsupports the same options as the sample publisher.\n\nChange-Id: Ia2cdfe351dad2336bce8519da3e568f226a2593a\nImplements: blueprint notification-pipelines\n'}, {'number': 3, 'created': '2015-01-26 16:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ce9c98daf6fa2f1ea6b841e4b202c87455358107', 'message': 'add notifier publisher for events\n\nthis allows the ability for deployers to push events to MQ rather\nthan send data directly to a database. the notifier publisher\nsupports the same options as the sample publisher.\n\nChange-Id: Ia2cdfe351dad2336bce8519da3e568f226a2593a\nImplements: blueprint notification-pipelines\n'}, {'number': 4, 'created': '2015-02-02 15:21:48.000000000', 'files': ['ceilometer/tests/publisher/test_messaging_publisher.py', 'ceilometer/publisher/messaging.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/de0c2944b7f9d23de343cd449abcdd4897528771', 'message': 'add notifier publisher for events\n\nthis allows the ability for deployers to push events to MQ rather\nthan send data directly to a database. the notifier publisher\nsupports the same options as the sample publisher.\n\nChange-Id: Ia2cdfe351dad2336bce8519da3e568f226a2593a\nImplements: blueprint notification-pipelines\n'}]",0,147704,de0c2944b7f9d23de343cd449abcdd4897528771,22,11,4,6537,,,0,"add notifier publisher for events

this allows the ability for deployers to push events to MQ rather
than send data directly to a database. the notifier publisher
supports the same options as the sample publisher.

Change-Id: Ia2cdfe351dad2336bce8519da3e568f226a2593a
Implements: blueprint notification-pipelines
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/04/147704/4 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/publisher/test_messaging_publisher.py', 'ceilometer/publisher/messaging.py', 'setup.cfg']",3,f5df29f3ef20cfe10b9baea2418f59207c78711d,bp/notification-pipelines, notifier = ceilometer.publisher.messaging:SampleNotifierPublisher notifier = ceilometer.publisher.messaging:EventNotifierPublisher, notifier = ceilometer.publisher.messaging:NotifierPublisher,102,60
openstack%2Fceilometer~master~I7cad6dd39d50a42f2af347f79a24fc776d261896,openstack/ceilometer,master,I7cad6dd39d50a42f2af347f79a24fc776d261896,enable event pipeline,MERGED,2015-01-12 22:08:20.000000000,2015-02-02 22:57:44.000000000,2015-02-02 22:57:43.000000000,"[{'_account_id': 3}, {'_account_id': 2284}, {'_account_id': 3012}, {'_account_id': 4491}, {'_account_id': 6537}, {'_account_id': 6676}, {'_account_id': 6924}, {'_account_id': 7049}, {'_account_id': 7478}, {'_account_id': 7729}, {'_account_id': 10987}, {'_account_id': 11564}]","[{'number': 1, 'created': '2015-01-12 22:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b4dc0249a411ab31ad11c50e14788ca3e96ada1f', 'message': 'enable event pipeline\n\nthis patch enables the event pipeline. by default the event pipeline\nwill republish events to message queue.\n\nChange-Id: I7cad6dd39d50a42f2af347f79a24fc776d261896\n'}, {'number': 2, 'created': '2015-01-13 20:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/0127d53e8f39a3af5badd22fc63e5160852f2baf', 'message': 'enable event pipeline\n\nthis patch enables the event pipeline. by default the event pipeline\nwill republish events to message queue.\n\nImplements: blueprint notification-pipelines\nChange-Id: I7cad6dd39d50a42f2af347f79a24fc776d261896\n'}, {'number': 3, 'created': '2015-01-13 21:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/63290ea8a88595b4002fadd8e8b16dd00350333f', 'message': 'enable event pipeline\n\nthis patch enables the event pipeline. by default the event pipeline\nwill republish events to message queue. additionally, a notifier\npublisher is added which pushes events to MQ.\n\nImplements: blueprint notification-pipelines\nChange-Id: I7cad6dd39d50a42f2af347f79a24fc776d261896\n'}, {'number': 4, 'created': '2015-01-15 20:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c745dc0c22866418e64f36a8edf63a0af8cb27d8', 'message': 'enable event pipeline\n\nthis patch enables the event pipeline. by default the event pipeline\nwill publish events straight to db.\n\nImplements: blueprint notification-pipelines\nChange-Id: I7cad6dd39d50a42f2af347f79a24fc776d261896\n'}, {'number': 5, 'created': '2015-01-15 23:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/94110805b7420a02912160f80aea19b84bc48c7d', 'message': 'enable event pipeline\n\nthis patch enables the event pipeline. by default the event pipeline\nwill publish events straight to db.\n\nImplements: blueprint notification-pipelines\nChange-Id: I7cad6dd39d50a42f2af347f79a24fc776d261896\n'}, {'number': 6, 'created': '2015-01-19 14:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9bb86370751d6b14067f579177f7ca3ce36bd84b', 'message': 'enable event pipeline\n\nthis patch enables the event pipeline. by default the event pipeline\nwill publish events straight to db.\n\nImplements: blueprint notification-pipelines\nChange-Id: I7cad6dd39d50a42f2af347f79a24fc776d261896\n'}, {'number': 7, 'created': '2015-01-26 16:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/8af389ec493a10c5dd553f7dd6c87a097a6d028e', 'message': 'enable event pipeline\n\nthis patch enables the event pipeline. by default the event pipeline\nwill publish events straight to db.\n\nImplements: blueprint notification-pipelines\nChange-Id: I7cad6dd39d50a42f2af347f79a24fc776d261896\n'}, {'number': 8, 'created': '2015-02-02 15:04:05.000000000', 'files': ['ceilometer/tests/test_notification.py', 'ceilometer/pipeline.py', 'ceilometer/publisher/direct.py', 'ceilometer/event/storage/models.py', 'ceilometer/publisher/utils.py', 'ceilometer/tests/publisher/test_direct.py', 'ceilometer/event/endpoint.py', 'ceilometer/tests/event/test_endpoint.py', 'setup.cfg', 'ceilometer/notification.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c834442ff2bd5959b51fd1bbaa3981cc8f176a35', 'message': 'enable event pipeline\n\nthis patch enables the event pipeline. by default the event pipeline\nwill publish events straight to db.\n\nImplements: blueprint notification-pipelines\nChange-Id: I7cad6dd39d50a42f2af347f79a24fc776d261896\n'}]",37,146657,c834442ff2bd5959b51fd1bbaa3981cc8f176a35,47,12,8,6537,,,0,"enable event pipeline

this patch enables the event pipeline. by default the event pipeline
will publish events straight to db.

Implements: blueprint notification-pipelines
Change-Id: I7cad6dd39d50a42f2af347f79a24fc776d261896
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/57/146657/5 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/test_notification.py', 'ceilometer/agent/plugin_base.py', 'ceilometer/event/storage/models.py', 'ceilometer/publisher/utils.py', 'ceilometer/event/endpoint.py', 'etc/ceilometer/event_pipeline.yaml', 'ceilometer/publisher/messaging.py', 'ceilometer/notification.py', 'ceilometer/pipeline.py', 'ceilometer/tests/publisher/test_messaging_publisher.py', 'ceilometer/publisher/udp.py', 'ceilometer/tests/event/test_endpoint.py', 'setup.cfg', 'ceilometer/publisher/file.py']",14,b4dc0249a411ab31ad11c50e14788ca3e96ada1f,bp/notification-pipelines, raise NotImplementedError, pass,190,112
openstack%2Fneutron~master~Ia98cd4de04100be2a32532a058a31ef8b4df7905,openstack/neutron,master,Ia98cd4de04100be2a32532a058a31ef8b4df7905,"Backout 152195, which doesn't check the same token that it saves",MERGED,2015-02-02 20:27:49.000000000,2015-02-02 22:57:33.000000000,2015-02-02 22:57:32.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 12040}, {'_account_id': 14212}]","[{'number': 1, 'created': '2015-02-02 20:27:49.000000000', 'files': ['neutron/api/extensions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9033879e0257d185e930e7927cfd672c85eceaa7', 'message': ""Backout 152195, which doesn't check the same token that it saves\n\nChange-Id: Ia98cd4de04100be2a32532a058a31ef8b4df7905\n""}]",0,152267,9033879e0257d185e930e7927cfd672c85eceaa7,18,13,1,10980,,,0,"Backout 152195, which doesn't check the same token that it saves

Change-Id: Ia98cd4de04100be2a32532a058a31ef8b4df7905
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/152267/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/api/extensions.py'],1,9033879e0257d185e930e7927cfd672c85eceaa7,backout_loaded_change, loaded.append(mod_name), loaded.append(new_ext_class.get_alias()),1,1
openstack%2Fsahara~master~I69ae2d5fda03999c57f0b0e48cee2ffa758b21a3,openstack/sahara,master,I69ae2d5fda03999c57f0b0e48cee2ffa758b21a3,Specify the package name when executing Java type edp jobs,MERGED,2015-02-02 07:20:47.000000000,2015-02-02 22:51:23.000000000,2015-02-02 22:51:22.000000000,"[{'_account_id': 3}, {'_account_id': 7213}, {'_account_id': 8091}, {'_account_id': 8411}, {'_account_id': 10670}]","[{'number': 1, 'created': '2015-02-02 07:20:47.000000000', 'files': ['doc/source/userdoc/edp.rst'], 'web_link': 'https://opendev.org/openstack/sahara/commit/855bfd133dd86a9c851b21a33d567fcb6fd86288', 'message': 'Specify the package name when executing Java type edp jobs\n\nChange-Id: I69ae2d5fda03999c57f0b0e48cee2ffa758b21a3\nCloses-bug: #1406169\n'}]",0,152009,855bfd133dd86a9c851b21a33d567fcb6fd86288,9,5,1,9740,,,0,"Specify the package name when executing Java type edp jobs

Change-Id: I69ae2d5fda03999c57f0b0e48cee2ffa758b21a3
Closes-bug: #1406169
",git fetch https://review.opendev.org/openstack/sahara refs/changes/09/152009/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/userdoc/edp.rst'],1,855bfd133dd86a9c851b21a33d567fcb6fd86288,bug/1406169,"* ``edp.java.main_class`` (required) Specifies the class(including the package name, for example: org.openstack.sahara.examples.WordCount) containing ``main(String[] args)``",* ``edp.java.main_class`` (required) Specifies the class containing ``main(String[] args)``,1,1
openstack%2Fpython-keystoneclient~master~I1375bed51e9670fc4d174e7afce0ef3b3be83822,openstack/python-keystoneclient,master,I1375bed51e9670fc4d174e7afce0ef3b3be83822,Enable hacking rule E122 and H304,MERGED,2014-11-13 02:16:15.000000000,2015-02-02 22:50:11.000000000,2015-02-02 22:50:10.000000000,"[{'_account_id': 3}, {'_account_id': 6486}, {'_account_id': 6676}, {'_account_id': 7191}, {'_account_id': 7725}, {'_account_id': 9101}, {'_account_id': 9142}, {'_account_id': 13055}]","[{'number': 1, 'created': '2014-11-13 02:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/9e3816de7e799f5870b3aff8816828f607e6b59f', 'message': 'Enable hacking rule E122\n\nE122: continuation line missing indentation or outdented\n\nChange-Id: I1375bed51e9670fc4d174e7afce0ef3b3be83822\n'}, {'number': 2, 'created': '2014-11-29 07:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/21b9386942e148565601ac0fce8f1d5cecb3d4b2', 'message': 'Enable hacking rule E122\n\nE122: continuation line missing indentation or outdented\n\nChange-Id: I1375bed51e9670fc4d174e7afce0ef3b3be83822\n'}, {'number': 3, 'created': '2014-12-07 19:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/f176317f38af880068e197f1c4182da943425378', 'message': 'Enable PEP8 rule E122\n\nE122: continuation line missing indentation or outdented\n\nCode without well formated indentation is a bit hard to read, enable\nPEP8 rule E122 can improve code readability and maintainability.\n\nChange-Id: I1375bed51e9670fc4d174e7afce0ef3b3be83822\n'}, {'number': 4, 'created': '2014-12-07 19:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/b20da411899dad6b014e0bdcbb51678e9ea1345a', 'message': 'Enable PEP8 rule E122\n\nE122: continuation line missing indentation or outdented\n\nCode without well formated indentation is a bit hard to read, enable\nPEP8 rule E122 can improve code readability and maintainability.\n\nChange-Id: I1375bed51e9670fc4d174e7afce0ef3b3be83822\n'}, {'number': 5, 'created': '2015-01-22 04:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/d59934a921741166eddea6af5489c67445c0baa3', 'message': 'Enable hacking rule E122 and H304\n\nE122: continuation line missing indentation or outdented\nH304: no relative imports\n\nCode without well formated indentation is a bit hard to read, enable\nPEP8 rule E122 can improve code readability and maintainability.\n\nH304 has already been fixed but not removed from exception list,\nso just enable it.\n\nChange-Id: I1375bed51e9670fc4d174e7afce0ef3b3be83822\n'}, {'number': 6, 'created': '2015-02-02 01:24:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/eafafe8315e73d5748972ba80cf5c6c74acc2e47', 'message': 'Enable hacking rule E122 and H304\n\nE122: continuation line missing indentation or outdented\nH304: no relative imports\n\nE122 and H304 havealready been fixed but not removed from exception\nlist, this patch enables them.\n\nChange-Id: I1375bed51e9670fc4d174e7afce0ef3b3be83822\n'}]",0,134101,eafafe8315e73d5748972ba80cf5c6c74acc2e47,31,8,6,6676,,,0,"Enable hacking rule E122 and H304

E122: continuation line missing indentation or outdented
H304: no relative imports

E122 and H304 havealready been fixed but not removed from exception
list, this patch enables them.

Change-Id: I1375bed51e9670fc4d174e7afce0ef3b3be83822
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/01/134101/6 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/tests/v3/test_auth_saml2.py', 'tox.ini']",2,9e3816de7e799f5870b3aff8816828f607e6b59f,enable-h304,"ignore = H304,H803,H405,H904","# E122: continuation line missing indentation or outdentedignore = H304,H803,H405,E122,H904",6,7
openstack%2Fnova~master~I640dfa1bcddbc5d9a5c47d616840da9a4d170b5b,openstack/nova,master,I640dfa1bcddbc5d9a5c47d616840da9a4d170b5b,Remove module sizelimit,ABANDONED,2015-02-02 19:30:16.000000000,2015-02-02 22:50:02.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-02-02 19:30:16.000000000', 'files': ['nova/api/sizelimit.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/33d7a1c8291bf83a50eb4189353a27035fbaa22c', 'message': 'Remove module sizelimit\n\nSince nova grenade jobs starts upgrading from stable/juno\nthere is no more need in this aliases\n\nChange-Id: I640dfa1bcddbc5d9a5c47d616840da9a4d170b5b\n'}]",0,152242,33d7a1c8291bf83a50eb4189353a27035fbaa22c,8,6,1,9550,,,0,"Remove module sizelimit

Since nova grenade jobs starts upgrading from stable/juno
there is no more need in this aliases

Change-Id: I640dfa1bcddbc5d9a5c47d616840da9a4d170b5b
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/152242/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/sizelimit.py'],1,33d7a1c8291bf83a50eb4189353a27035fbaa22c,sizelimit,,"# Copyright (c) 2012 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Request Body limiting middleware. """""" from oslo.middleware import sizelimit # TODO(ekudryashova): Remove below aliases when grenade jobs # will start upgrading from juno LimitingReader = sizelimit.LimitingReader RequestBodySizeLimiter = sizelimit.RequestBodySizeLimiter ",0,24
openstack%2Fcookbook-openstack-common~master~I10620f2d5adc240fda6273680638d0429260b9cc,openstack/cookbook-openstack-common,master,I10620f2d5adc240fda6273680638d0429260b9cc,Making gpgcheck configurable for RDO repo,MERGED,2015-01-25 20:25:21.000000000,2015-02-02 22:46:48.000000000,2015-02-02 22:46:48.000000000,"[{'_account_id': 3}, {'_account_id': 704}, {'_account_id': 7128}, {'_account_id': 8112}, {'_account_id': 9488}, {'_account_id': 10068}, {'_account_id': 12323}, {'_account_id': 14790}]","[{'number': 1, 'created': '2015-01-25 20:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/17470bdc89af28192ebf0af50f90c348319679af', 'message': 'Making gpgcheck configurable for RDO repo\n\nCurrently, gpgcheck flag is not configurable and is always enabled by\ndefault. For certain use cases, for example, using these cookbooks in\nproduction where internet access is restricted, we need to disable\ngpgcheck.\n\nThis commit makes the gpgcheck configurable so that users can override\nit if needed.\n\nChange-Id: I10620f2d5adc240fda6273680638d0429260b9cc\n'}, {'number': 2, 'created': '2015-02-02 08:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/12cb5df564173a33fcfab9581182deee06769112', 'message': 'Making gpgcheck configurable for RDO repo\n\nCurrently, gpgcheck flag is not configurable and is always enabled by\ndefault. For certain use cases, for example, using these cookbooks in\nproduction where internet access is restricted, we need to disable\ngpgcheck.\n\nThis commit makes the gpgcheck configurable so that users can override\nit if needed.\n\nChange-Id: I10620f2d5adc240fda6273680638d0429260b9cc\n'}, {'number': 3, 'created': '2015-02-02 08:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/f35dc7fcd665bfe3fba7a920f1b2ccd9eb6c8732', 'message': 'Making gpgcheck configurable for RDO repo\n\nCurrently, gpgcheck flag is not configurable and is always enabled by\ndefault. For certain use cases, for example, using these cookbooks in\nproduction where internet access is restricted, we need to disable\ngpgcheck.\n\nThis commit makes the gpgcheck configurable so that users can override\nit if needed.\n\nChange-Id: I10620f2d5adc240fda6273680638d0429260b9cc\n'}, {'number': 4, 'created': '2015-02-02 14:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/1838b5bee84359fc92e82c07b16e4d1752cf70f2', 'message': 'Making gpgcheck configurable for RDO repo\n\nCurrently, gpgcheck flag is not configurable and is always enabled by\ndefault. For certain use cases, for example, using these cookbooks in\nproduction where internet access is restricted, we need to disable\ngpgcheck.\n\nThis commit makes the gpgcheck configurable so that users can override\nit if needed.\n\nChange-Id: I10620f2d5adc240fda6273680638d0429260b9cc\n'}, {'number': 5, 'created': '2015-02-02 14:44:26.000000000', 'files': ['attributes/default.rb', 'CHANGELOG.md', 'spec/default-redhat_spec.rb', 'recipes/default.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/987e0e13386714d055de593267272e864e10ccef', 'message': 'Making gpgcheck configurable for RDO repo\n\nCurrently, gpgcheck flag is not configurable and is always enabled by\ndefault. For certain use cases, for example, using these cookbooks in\nproduction where internet access is restricted, we need to disable\ngpgcheck.\n\nThis commit makes the gpgcheck configurable so that users can override\nit if needed.\n\nChange-Id: I10620f2d5adc240fda6273680638d0429260b9cc\nRelated-Bug: #1417119\n'}]",5,149895,987e0e13386714d055de593267272e864e10ccef,21,8,5,10594,,,0,"Making gpgcheck configurable for RDO repo

Currently, gpgcheck flag is not configurable and is always enabled by
default. For certain use cases, for example, using these cookbooks in
production where internet access is restricted, we need to disable
gpgcheck.

This commit makes the gpgcheck configurable so that users can override
it if needed.

Change-Id: I10620f2d5adc240fda6273680638d0429260b9cc
Related-Bug: #1417119
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/95/149895/2 && git format-patch -1 --stdout FETCH_HEAD,['recipes/default.rb'],1,17470bdc89af28192ebf0af50f90c348319679af,bug/1417119, gpgcheck node['openstack']['yum']['gpgcheck'],,1,0
openstack%2Fopenstack-ansible~juno~I3528f5712d5a2d6a15e718516f0dab9ea2c68c27,openstack/openstack-ansible,juno,I3528f5712d5a2d6a15e718516f0dab9ea2c68c27,Add functionality to nuke old checks and alarms,MERGED,2015-02-02 19:02:17.000000000,2015-02-02 22:45:27.000000000,2015-02-02 19:54:59.000000000,"[{'_account_id': 3}, {'_account_id': 2556}, {'_account_id': 7307}, {'_account_id': 7414}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-02-02 19:02:17.000000000', 'files': ['scripts/rpc_maas_tool.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5379666982b10a2c1ae7244662fde91be79569dc', 'message': 'Add functionality to nuke old checks and alarms\n\nThis commit adds some basic functionality to rpc_maas_tool.py to nuke\nold alarms that should no longer exist.  These include alarms containing:\n\nWSREP_CLUSTER_SIZE\nWSREP_LOCAL_STATE_COMMENT\ndisk_free_alarm\nmem_alarm\n\nWe limit deletion against alarms that also include\nrabbit_mq_container or galera_container.\n\nWe also delete any checks that were created without filesystem patch\nincluded.  Note that remove-defunct-checks should not be run against\nan icehouse installation as the change to check name was not backported\nthere.\n\nCloses-Bug: #1416476\nChange-Id: I3528f5712d5a2d6a15e718516f0dab9ea2c68c27\n(cherry picked from commit a0e09c0da4fbe009440380ad21974cc9e5119584)\n'}]",0,152231,5379666982b10a2c1ae7244662fde91be79569dc,7,5,1,7353,,,0,"Add functionality to nuke old checks and alarms

This commit adds some basic functionality to rpc_maas_tool.py to nuke
old alarms that should no longer exist.  These include alarms containing:

WSREP_CLUSTER_SIZE
WSREP_LOCAL_STATE_COMMENT
disk_free_alarm
mem_alarm

We limit deletion against alarms that also include
rabbit_mq_container or galera_container.

We also delete any checks that were created without filesystem patch
included.  Note that remove-defunct-checks should not be run against
an icehouse installation as the change to check name was not backported
there.

Closes-Bug: #1416476
Change-Id: I3528f5712d5a2d6a15e718516f0dab9ea2c68c27
(cherry picked from commit a0e09c0da4fbe009440380ad21974cc9e5119584)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/31/152231/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/rpc_maas_tool.py'],1,5379666982b10a2c1ae7244662fde91be79569dc,,"import re elif args.command == 'remove-defunct-checks': remove_defunct_checks(args, conn) elif args.command == 'remove-defunct-alarms': remove_defunct_alarms(args, conn)def remove_defunct_checks(args, conn): check_count = 0 for entity in _get_entities(args, conn): for check in conn.list_checks(entity): if re.match('filesystem--.*', check.label): conn.delete_check(check) check_count += 1 print ""Number of checks deleted: %s"" % check_count def remove_defunct_alarms(args, conn): alarm_count = 0 defunct_alarms = {'rabbit_mq_container': ['disk_free_alarm', 'mem_alarm'], 'galera_container': ['WSREP_CLUSTER_SIZE', 'WSREP_LOCAL_STATE_COMMENT']} for entity in _get_entities(args, conn): for alarm in conn.list_alarms(entity): for container in defunct_alarms: for defunct_alarm in defunct_alarms[container]: if re.match('%s--.*%s' % (defunct_alarm, container), alarm.label): conn.delete_alarm(alarm) alarm_count += 1 print ""Number of alarms deleted: %s"" % alarm_count choices=['alarms', 'check', 'delete', 'remove-defunct-checks', 'remove-defunct-alarms'],"," choices=['alarms', 'check', 'delete'],",37,1
openstack%2Fnova~master~I82e01aeccd837534eda8d3a68100851946b05a6d,openstack/nova,master,I82e01aeccd837534eda8d3a68100851946b05a6d,DO NOT MERGE: boto 2.35.1 debug,ABANDONED,2015-01-14 03:36:28.000000000,2015-02-02 22:36:42.000000000,,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-01-14 03:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb13c4a5ef36cdec0840f03a5c326285a04e8e83', 'message': 'DO NOT MERGE: boto 2.35.1 debug\n\nTry to get a trace to find out where our\nunexpected 401 error is coming from when\ntrying to create a security group.\n\nChange-Id: I82e01aeccd837534eda8d3a68100851946b05a6d\nRelated-Bug: #1410622\n'}, {'number': 2, 'created': '2015-01-15 19:50:43.000000000', 'files': ['nova/api/ec2/__init__.py', 'requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/d8a0b6dd161295c159ae803fc0e33229ceba2610', 'message': 'DO NOT MERGE: boto 2.35.1 debug\n\nTry to get a trace to find out where our\nunexpected 401 error is coming from when\ntrying to create a security group.\n\nChange-Id: I82e01aeccd837534eda8d3a68100851946b05a6d\nRelated-Bug: #1410622\n'}]",1,147058,d8a0b6dd161295c159ae803fc0e33229ceba2610,28,10,2,6873,,,0,"DO NOT MERGE: boto 2.35.1 debug

Try to get a trace to find out where our
unexpected 401 error is coming from when
trying to create a security group.

Change-Id: I82e01aeccd837534eda8d3a68100851946b05a6d
Related-Bug: #1410622
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/147058/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'nova/api/ec2/faults.py']",2,cb13c4a5ef36cdec0840f03a5c326285a04e8e83,bug/1410622," {'code': code, 'message': message}, exc_info=True)"," {'code': code, 'message': message})",2,2
openstack%2Fdevstack~master~Ifa17f57771e1c0163943bc1957092ba9ba4eaa3d,openstack/devstack,master,Ifa17f57771e1c0163943bc1957092ba9ba4eaa3d,DO NOT MERGE: debug latest boto and nova for bug 1410622,ABANDONED,2015-01-15 17:37:37.000000000,2015-02-02 22:36:32.000000000,,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6486}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-15 17:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/61e80cc0008d226eb95d131f855d3499a43e8976', 'message': 'DO NOT MERGE: debug latest boto and nova for bug 1410622\n\nClone nova change I82e01aeccd837534eda8d3a68100851946b05a6d which has\nmore verbose ec2 debug logging and change tempest to use the latest boto\nwhich should trigger the failures seen in g-r change\nIde222477e9c14c42edca52d111cb49c43eed7feb.\n\nRelated-Bug: #1410622\n\nChange-Id: Ifa17f57771e1c0163943bc1957092ba9ba4eaa3d\n'}, {'number': 2, 'created': '2015-01-15 19:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3841f1016a69a6b28a5896b9e76961a8ae441b9d', 'message': 'DO NOT MERGE: debug latest boto and nova for bug 1410622\n\nClone nova change I82e01aeccd837534eda8d3a68100851946b05a6d which has\nmore verbose ec2 debug logging and change tempest to use the latest boto\nwhich should trigger the failures seen in g-r change\nIde222477e9c14c42edca52d111cb49c43eed7feb.\n\nRelated-Bug: #1410622\n\nChange-Id: Ifa17f57771e1c0163943bc1957092ba9ba4eaa3d\n'}, {'number': 3, 'created': '2015-01-15 21:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9499b403e1b1f6d37449fc8207f217bb67e65f49', 'message': 'DO NOT MERGE: debug latest boto and nova for bug 1410622\n\nClone nova change I82e01aeccd837534eda8d3a68100851946b05a6d which has\nmore verbose ec2 debug logging and change tempest to use the latest boto\nwhich should trigger the failures seen in g-r change\nIde222477e9c14c42edca52d111cb49c43eed7feb.\n\nRelated-Bug: #1410622\n\nChange-Id: Ifa17f57771e1c0163943bc1957092ba9ba4eaa3d\n'}, {'number': 4, 'created': '2015-01-29 03:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7b066a52c7d9342d1efb23c65b20b011b5c9ff83', 'message': 'DO NOT MERGE: debug latest boto and nova for bug 1410622\n\nClone nova change I82e01aeccd837534eda8d3a68100851946b05a6d which has\nmore verbose ec2 debug logging and change tempest to use the latest boto\nwhich should trigger the failures seen in g-r change\nIde222477e9c14c42edca52d111cb49c43eed7feb.\n\nRelated-Bug: #1410622\n\nChange-Id: Ifa17f57771e1c0163943bc1957092ba9ba4eaa3d\n'}, {'number': 5, 'created': '2015-01-29 14:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fac4b9a8968035c51923f8a83eea645e966165ca', 'message': 'DO NOT MERGE: debug latest boto and nova for bug 1410622\n\nClone nova change I82e01aeccd837534eda8d3a68100851946b05a6d which has\nmore verbose ec2 debug logging and change tempest to use the latest boto\nwhich should trigger the failures seen in g-r change\nIde222477e9c14c42edca52d111cb49c43eed7feb.\n\nRelated-Bug: #1410622\n\nChange-Id: Ifa17f57771e1c0163943bc1957092ba9ba4eaa3d\n'}, {'number': 6, 'created': '2015-01-29 15:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9739f57f60aab6958df95eddc2c9ff1aea684981', 'message': 'DO NOT MERGE: debug latest boto and nova for bug 1410622\n\nClone nova change I82e01aeccd837534eda8d3a68100851946b05a6d which has\nmore verbose ec2 debug logging and change tempest to use the latest boto\nwhich should trigger the failures seen in g-r change\nIde222477e9c14c42edca52d111cb49c43eed7feb.\n\nRelated-Bug: #1410622\n\nChange-Id: Ifa17f57771e1c0163943bc1957092ba9ba4eaa3d\n'}, {'number': 7, 'created': '2015-01-29 15:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/be9b1f7004287dec303cb479d94ee190321ff198', 'message': 'DO NOT MERGE: debug latest boto and nova for bug 1410622\n\nClone nova change I82e01aeccd837534eda8d3a68100851946b05a6d which has\nmore verbose ec2 debug logging and change tempest to use the latest boto\nwhich should trigger the failures seen in g-r change\nIde222477e9c14c42edca52d111cb49c43eed7feb.\n\nRelated-Bug: #1410622\n\nChange-Id: Ifa17f57771e1c0163943bc1957092ba9ba4eaa3d\n'}, {'number': 8, 'created': '2015-02-02 20:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9c9a25b8194445a0bb66ef9786949de480a67f06', 'message': 'DO NOT MERGE: debug latest boto and nova for bug 1410622\n\nClone nova change I06d798a125b700d9b4670448804d6be27f978d75 which has\nmore verbose ec2 debug logging and change tempest to use the latest boto\nwhich should trigger the failures seen in g-r change\nIde222477e9c14c42edca52d111cb49c43eed7feb.\n\nRelated-Bug: #1410622\n\nChange-Id: Ifa17f57771e1c0163943bc1957092ba9ba4eaa3d\n'}, {'number': 9, 'created': '2015-02-02 21:11:46.000000000', 'files': ['lib/tempest', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/20f648392c46cfbf87669536bbf2280386061bde', 'message': 'DO NOT MERGE: debug latest boto and nova for bug 1410622\n\nClone nova change I06d798a125b700d9b4670448804d6be27f978d75 which has\nmore verbose ec2 debug logging and change tempest to use the latest boto\nwhich should trigger the failures seen in g-r change\nIde222477e9c14c42edca52d111cb49c43eed7feb.\n\nRelated-Bug: #1410622\n\nChange-Id: Ifa17f57771e1c0163943bc1957092ba9ba4eaa3d\n'}]",0,147601,20f648392c46cfbf87669536bbf2280386061bde,30,7,9,6873,,,0,"DO NOT MERGE: debug latest boto and nova for bug 1410622

Clone nova change I06d798a125b700d9b4670448804d6be27f978d75 which has
more verbose ec2 debug logging and change tempest to use the latest boto
which should trigger the failures seen in g-r change
Ide222477e9c14c42edca52d111cb49c43eed7feb.

Related-Bug: #1410622

Change-Id: Ifa17f57771e1c0163943bc1957092ba9ba4eaa3d
",git fetch https://review.opendev.org/openstack/devstack refs/changes/01/147601/8 && git format-patch -1 --stdout FETCH_HEAD,"['lib/nova', 'lib/tempest']",2,61e80cc0008d226eb95d131f855d3499a43e8976,bug/1410622," # NOTE(mriedem): change the boto requirement to use latest (busted) boto sed -i 's/boto>=2.32.1,<2.35.0/boto>=2.35.1/g' $TEMPEST_DIR/requirements.txt",,3,1
openstack%2Fkeystone~master~I7d4d518f2b0b56bdecfb5eb614499b68241d0cd2,openstack/keystone,master,I7d4d518f2b0b56bdecfb5eb614499b68241d0cd2,DO NOT MERGE: more logging for failed ec2 creds,ABANDONED,2015-01-15 21:11:52.000000000,2015-02-02 22:34:47.000000000,,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-01-15 21:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/30eb2dff014fb02519efb3d193da993b09835fdb', 'message': 'DO NOT MERGE: more logging for failed ec2 creds\n\nNeed this for devstack debug change\nIfa17f57771e1c0163943bc1957092ba9ba4eaa3d\nto work with nova and tempest using\nlatest boto.\n\nChange-Id: I7d4d518f2b0b56bdecfb5eb614499b68241d0cd2\nRelated-Bug: #1410622\n'}, {'number': 2, 'created': '2015-01-15 21:26:35.000000000', 'files': ['keystone/contrib/ec2/controllers.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e1e08ed2206f0241b69e76d5a0d2d46e9481df09', 'message': 'DO NOT MERGE: more logging for failed ec2 creds\n\nNeed this for devstack debug change\nIfa17f57771e1c0163943bc1957092ba9ba4eaa3d\nto work with nova and tempest using\nlatest boto.\n\nChange-Id: I7d4d518f2b0b56bdecfb5eb614499b68241d0cd2\nRelated-Bug: #1410622\n'}]",0,147663,e1e08ed2206f0241b69e76d5a0d2d46e9481df09,4,2,2,6873,,,0,"DO NOT MERGE: more logging for failed ec2 creds

Need this for devstack debug change
Ifa17f57771e1c0163943bc1957092ba9ba4eaa3d
to work with nova and tempest using
latest boto.

Change-Id: I7d4d518f2b0b56bdecfb5eb614499b68241d0cd2
Related-Bug: #1410622
",git fetch https://review.opendev.org/openstack/keystone refs/changes/63/147663/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/contrib/ec2/controllers.py'],1,30eb2dff014fb02519efb3d193da993b09835fdb,bug/1410622,"from keystone.i18n import _, _LEfrom keystone.openstack.common import log LOG = log.getLogger(__name__) LOG.error(_LE('signature check failed; creds_ref: %s; ' 'credentials: %s; generated signature: %s'), creds_ref, credentials, signature) LOG.debug('Setting credentials to ec2credentials') LOGS.error(_LE('""access"" key not in ""credentials""; %s'), credentials)",from keystone.i18n import _,11,1
openstack%2Fnova~master~I8b8ef5f6751d1d6445732582ed571173745e704b,openstack/nova,master,I8b8ef5f6751d1d6445732582ed571173745e704b,Add log message to is_luks function,MERGED,2015-01-29 00:16:50.000000000,2015-02-02 22:30:50.000000000,2015-02-02 22:30:46.000000000,"[{'_account_id': 3}, {'_account_id': 642}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 6802}, {'_account_id': 8871}, {'_account_id': 9420}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-01-29 00:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32ea3528517c1e5fcf6723fd267271e3cbaeea68', 'message': 'Add log message to is_luks function\n\nThis change responds to reviewer comments on\nhttps://review.openstack.org/#/c/124791/8.\n\nIn particular, this change\n1) removes an unnecessary method invocation in test_luks.py,\n2) clarifies a comment in the is_luks function, and\n3) adds a log warning with the cryptsetup exit code and standard\n   error when a device is not a LUKS device.\n\nChange-Id: I8b8ef5f6751d1d6445732582ed571173745e704b\n'}, {'number': 2, 'created': '2015-01-29 00:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d3d1ccdc26d6611fdfc31584aa02226e26f6fd7', 'message': 'Add log message to is_luks function\n\nThis change responds to reviewer comments on\nhttps://review.openstack.org/#/c/124791/8\n\nIn particular, this change\n1) removes an unnecessary method invocation in test_luks.py,\n2) clarifies a comment in the is_luks function, and\n3) adds a log warning with the cryptsetup exit code and standard\n   error when a device is not a LUKS device.\n\nChange-Id: I8b8ef5f6751d1d6445732582ed571173745e704b\n'}, {'number': 3, 'created': '2015-01-29 21:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91d9277a1f2abc456b1b183afb5638fc9cd8276e', 'message': 'Add log message to is_luks function\n\nThis change responds to reviewer comments on\nhttps://review.openstack.org/#/c/124791/8\n\nIn particular, this change\n1) removes an unnecessary method invocation in test_luks.py,\n2) clarifies a comment in the is_luks function, and\n3) adds a log warning with the cryptsetup exit code and standard\n   error when a device is not a LUKS device.\n\nChange-Id: I8b8ef5f6751d1d6445732582ed571173745e704b\n'}, {'number': 4, 'created': '2015-01-31 01:14:08.000000000', 'files': ['nova/tests/unit/volume/encryptors/test_luks.py', 'nova/volume/encryptors/luks.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1d6957570999738655814293b2d0bafd0038eb33', 'message': 'Add log message to is_luks function\n\nThis change responds to reviewer comments on\nhttps://review.openstack.org/#/c/124791/8\n\nIn particular, this change\n1) removes an unnecessary method invocation in test_luks.py,\n2) clarifies a comment in the is_luks function, and\n3) adds a log warning with the cryptsetup exit code and standard\n   error when a device is not a LUKS device.\n\nChange-Id: I8b8ef5f6751d1d6445732582ed571173745e704b\n'}]",6,151052,1d6957570999738655814293b2d0bafd0038eb33,38,12,4,6802,,,0,"Add log message to is_luks function

This change responds to reviewer comments on
https://review.openstack.org/#/c/124791/8

In particular, this change
1) removes an unnecessary method invocation in test_luks.py,
2) clarifies a comment in the is_luks function, and
3) adds a log warning with the cryptsetup exit code and standard
   error when a device is not a LUKS device.

Change-Id: I8b8ef5f6751d1d6445732582ed571173745e704b
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/151052/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/volume/encryptors/test_luks.py', 'nova/volume/encryptors/luks.py']",2,32ea3528517c1e5fcf6723fd267271e3cbaeea68,bug/1372108,"from nova.i18n import _LW # if the device is a LUKS partition and non-zero if not except processutils.ProcessExecutionError as e: LOG.warning(_LW(""isLuks exited abnormally (status %(exit_code)s): "" ""%(stderr)s""), {""exit_code"": e.exit_code, ""stderr"": e.stderr})", # if the device is a LUKS partition and 1 if not except processutils.ProcessExecutionError:,28,5
openstack%2Fnova~master~If9f848dc3a3788862d25692250746387c6b35286,openstack/nova,master,If9f848dc3a3788862d25692250746387c6b35286,libvirt: fix failure when attaching volume to iso instance,MERGED,2014-10-09 08:42:21.000000000,2015-02-02 22:27:27.000000000,2015-02-02 22:27:24.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 6167}, {'_account_id': 6802}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 7730}, {'_account_id': 8213}, {'_account_id': 8276}, {'_account_id': 8543}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10441}, {'_account_id': 11103}, {'_account_id': 12175}, {'_account_id': 12604}, {'_account_id': 13747}]","[{'number': 1, 'created': '2014-10-09 08:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/887eada9ea8e37df6f81a2eb7003600615664387', 'message': ""Fix failure of attaching volume to iso instance\n\nAttaching volume to iso instance is failure because of\nlibvirtError like this 'libvirtError: Requested operation\nis not valid: target hda already exists'. The root device\nof iso instance is hda, nova-compute should not assign hda\nto cinder volume again.\n\nNote: this patch only address the issue of duplicate device\nname 'hda', disk bus 'ide' cannot be hotplugged, so we should\nstop iso instance first when attaching volume.\n\nChange-Id: If9f848dc3a3788862d25692250746387c6b35286\nCloses-Bug: #1379212\n""}, {'number': 2, 'created': '2014-10-13 08:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bede7c3258ae23d92778b341d4aaa2d17c3f558b', 'message': ""Fix failure of attaching volume to iso instance\n\nAttaching volume to iso instance is failure because of\nlibvirtError like this 'libvirtError: Requested operation\nis not valid: target hda already exists'. The root device\nof iso instance is hda, nova-compute should not assign hda\nto cinder volume again.\n\nNote: this patch only address the issue of duplicate device\nname 'hda', disk bus 'ide' cannot be hotplugged, so we should\nstop iso instance first when attaching volume.\n\nChange-Id: If9f848dc3a3788862d25692250746387c6b35286\nCloses-Bug: #1379212\n""}, {'number': 3, 'created': '2014-10-15 02:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba40309b5a630d71b938270fb6f5b4b2a92545b8', 'message': ""Fix failure of attaching volume to iso instance\n\nAttaching volume to iso instance is failure because of\nlibvirtError like this 'libvirtError: Requested operation\nis not valid: target hda already exists'. The root device\nof iso instance is hda, nova-compute should not assign hda\nto cinder volume again.\n\nNote: this patch only address the issue of duplicate device\nname 'hda', disk bus 'ide' cannot be hotplugged, so we should\nstop iso instance first when attaching volume.\n\nChange-Id: If9f848dc3a3788862d25692250746387c6b35286\nCloses-Bug: #1379212\n""}, {'number': 4, 'created': '2014-10-17 06:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50518dc2b6ff5874b0282037f4314f8e848bf828', 'message': ""Fix failure of attaching volume to iso instance\n\nAttaching volume to iso instance is failure because of\nlibvirtError like this 'libvirtError: Requested operation\nis not valid: target hda already exists'. The root device\nof iso instance is hda, nova-compute should not assign hda\nto cinder volume again.\n\nNote: this patch only address the issue of duplicate device\nname 'hda', disk bus 'ide' cannot be hotplugged, so we should\nstop iso instance first when attaching volume.\n\nChange-Id: If9f848dc3a3788862d25692250746387c6b35286\nCloses-Bug: #1379212\n""}, {'number': 5, 'created': '2014-10-21 02:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d096afcef67819abc68fbdda7ed432bfd6bd594', 'message': ""Fix failure of attaching volume to iso instance\n\nAttaching volume to iso instance is failure because of\nlibvirtError like this 'libvirtError: Requested operation\nis not valid: target hda already exists'. The root device\nof iso instance is hda, nova-compute should not assign hda\nto cinder volume again.\n\nNote: this patch only address the issue of duplicate device\nname 'hda', disk bus 'ide' cannot be hotplugged, so we should\nstop iso instance first when attaching volume.\n\nChange-Id: If9f848dc3a3788862d25692250746387c6b35286\nCloses-Bug: #1379212\n""}, {'number': 6, 'created': '2014-10-31 06:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84e5671b9c42c90c2b71ba0906b5d8cb78ec3570', 'message': ""Fix failure of attaching volume to iso instance\n\nAttaching volume to iso instance is failure because of\nlibvirtError like this 'libvirtError: Requested operation\nis not valid: target hda already exists'. The root device\nof iso instance is hda, nova-compute should not assign hda\nto cinder volume again.\n\nNote: this patch only address the issue of duplicate device\nname 'hda', disk bus 'ide' cannot be hotplugged, so we should\nstop iso instance first when attaching volume.\n\nChange-Id: If9f848dc3a3788862d25692250746387c6b35286\nCloses-Bug: #1379212\n""}, {'number': 7, 'created': '2014-12-30 09:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8abef69b43843dae04d95f87a228af5e58ec662', 'message': ""Fix failure of attaching volume to iso instance\n\nAttaching volume to iso instance is failure because of\nlibvirtError like this 'libvirtError: Requested operation\nis not valid: target hda already exists'. The root device\nof iso instance is hda, nova-compute should not assign hda\nto cinder volume again.\n\nNote: this patch only address the issue of duplicate device\nname 'hda', disk bus 'ide' cannot be hotplugged, so we should\nstop iso instance first when attaching volume.\n\nChange-Id: If9f848dc3a3788862d25692250746387c6b35286\nCloses-Bug: #1379212\n""}, {'number': 8, 'created': '2014-12-30 11:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/906ea7fab5eb3534af4c835cbe2319f5aa58a29d', 'message': ""libvirt: fix failure of attaching volume to iso instance\n\nAttaching volume to iso instance is failure because of\nlibvirtError like this 'libvirtError: Requested operation\nis not valid: target hda already exists'. The root device\nof iso instance is hda, nova-compute should not assign hda\nto cinder volume again.\n\nNote: this patch only address the issue of duplicate device\nname 'hda', disk bus 'ide' cannot be hotplugged, so we should\nstop iso instance first when attaching volume.\n\nChange-Id: If9f848dc3a3788862d25692250746387c6b35286\nCloses-Bug: #1379212\n""}, {'number': 9, 'created': '2015-01-04 03:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/463b8b8267f6d8b93f7a7f26a43fb9d0cf4d855d', 'message': ""libvirt: fix failure of attaching volume to iso instance\n\nAttaching volume to iso instance is failure because of\nlibvirtError like this 'libvirtError: Requested operation\nis not valid: target hda already exists'. The root device\nof iso instance is hda, nova-compute should not assign hda\nto cinder volume again.\n\nNote: this patch only address the issue of duplicate device\nname 'hda', disk bus 'ide' cannot be hotplugged, so we should\nstop iso instance first when attaching volume.\n\nChange-Id: If9f848dc3a3788862d25692250746387c6b35286\nCloses-Bug: #1379212\n""}, {'number': 10, 'created': '2015-01-09 08:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b3159b604343e80de49feb91b79f805e98b973fe', 'message': ""libvirt: fix failure of attaching volume to iso instance\n\nAttaching volume to iso instance is failure because of\nlibvirtError like this 'libvirtError: Requested operation\nis not valid: target hda already exists'. The root device\nof iso instance is hda, nova-compute should not assign hda\nto cinder volume again.\n\nNote: this patch only address the issue of duplicate device\nname 'hda', disk bus 'ide' cannot be hotplugged, so we should\nstop iso instance first when attaching volume.\n\nChange-Id: If9f848dc3a3788862d25692250746387c6b35286\nCloses-Bug: #1379212\n""}, {'number': 11, 'created': '2015-01-13 12:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85fa3220a917eef808a653a57e90055335595641', 'message': ""libvirt: fix failure when attaching volume to iso instance\n\nAttaching volume to iso instance results in failure like\nthis 'libvirtError: Requested operation is not valid: target\nhda already exists'. The root device of iso instance is hda,\nnova-compute should not assign hda to cinder volume again.\n\nNote: this patch only address the issue of duplicate device\nname 'hda', disk bus 'ide' cannot be hotplugged, so we should\nstop iso instance first when attaching volume.\n\nChange-Id: If9f848dc3a3788862d25692250746387c6b35286\nCloses-Bug: #1379212\n""}, {'number': 12, 'created': '2015-01-15 01:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f37c160f5a687a6ad38ad4b619c023d930240a3b', 'message': ""libvirt: fix failure when attaching volume to iso instance\n\nAttaching volume to iso instance results in failure like\nthis 'libvirtError: Requested operation is not valid: target\nhda already exists'. The root device of iso instance is hda,\nnova-compute should not assign hda to cinder volume again.\n\nNote: this patch only address the issue of duplicate device\nname 'hda', disk bus 'ide' cannot be hotplugged, so we should\nstop iso instance first when attaching volume.\n\nChange-Id: If9f848dc3a3788862d25692250746387c6b35286\nCloses-Bug: #1379212\n""}, {'number': 13, 'created': '2015-01-16 02:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4bcbf21e0f37bdec4af90415f61f0db8e27e239f', 'message': ""libvirt: fix failure when attaching volume to iso instance\n\nAttaching volume to iso instance results in failure like\nthis 'libvirtError: Requested operation is not valid: target\nhda already exists'. The root device of iso instance is hda,\nnova-compute should not assign hda to cinder volume again.\n\nNote: this patch only address the issue of duplicate device\nname 'hda', disk bus 'ide' cannot be hotplugged, so we should\nstop iso instance first when attaching volume.\n\nChange-Id: If9f848dc3a3788862d25692250746387c6b35286\nCloses-Bug: #1379212\n""}, {'number': 14, 'created': '2015-01-19 01:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e31f37eaa534ad5f2ebe722c2868eafe72afacc0', 'message': ""libvirt: fix failure when attaching volume to iso instance\n\nAttaching volume to iso instance results in failure like\nthis 'libvirtError: Requested operation is not valid: target\nhda already exists'. The root device of iso instance is hda,\nnova-compute should not assign hda to cinder volume again.\n\nNote: this patch only address the issue of duplicate device\nname 'hda', disk bus 'ide' cannot be hotplugged, so we should\nstop iso instance first when attaching volume.\n\nChange-Id: If9f848dc3a3788862d25692250746387c6b35286\nCloses-Bug: #1379212\n""}, {'number': 15, 'created': '2015-01-21 02:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bccad2e49b40c3704efbd7cef46205782d9b974a', 'message': ""libvirt: fix failure when attaching volume to iso instance\n\nAttaching volume to iso instance results in failure like\nthis 'libvirtError: Requested operation is not valid: target\nhda already exists'. The root device of iso instance is hda,\nnova-compute should not assign hda to cinder volume again.\n\nNote: this patch only address the issue of duplicate device\nname 'hda', disk bus 'ide' cannot be hotplugged, so we should\nstop iso instance first when attaching volume.\n\nChange-Id: If9f848dc3a3788862d25692250746387c6b35286\nCloses-Bug: #1379212\n""}, {'number': 16, 'created': '2015-01-22 08:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9ca10efedbb8d7e19c14f8fd06f5d56d0f49c8f', 'message': ""libvirt: fix failure when attaching volume to iso instance\n\nAttaching volume to iso instance results in failure like\nthis 'libvirtError: Requested operation is not valid: target\nhda already exists'. The root device of iso instance is hda,\nnova-compute should not assign hda to cinder volume again.\n\nNote: this patch only address the issue of duplicate device\nname 'hda', disk bus 'ide' cannot be hotplugged, so we should\nstop iso instance first when attaching volume.\n\nChange-Id: If9f848dc3a3788862d25692250746387c6b35286\nCloses-Bug: #1379212\n""}, {'number': 17, 'created': '2015-01-23 07:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a451af3c8612ac7b40742ce628058203998f499f', 'message': ""libvirt: fix failure when attaching volume to iso instance\n\nAttaching volume to iso instance results in failure like\nthis 'libvirtError: Requested operation is not valid: target\nhda already exists'. The root device of iso instance is hda,\nnova-compute should not assign hda to cinder volume again.\n\nNote: this patch only address the issue of duplicate device\nname 'hda', disk bus 'ide' cannot be hotplugged, so we should\nstop iso instance first when attaching volume.\n\nChange-Id: If9f848dc3a3788862d25692250746387c6b35286\nCloses-Bug: #1379212\n""}, {'number': 18, 'created': '2015-01-26 06:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7fa32576670cb373ce3d1a747307a2474bea1405', 'message': ""libvirt: fix failure when attaching volume to iso instance\n\nAttaching volume to iso instance results in failure like\nthis 'libvirtError: Requested operation is not valid: target\nhda already exists'. The root device of iso instance is hda,\nnova-compute should not assign hda to cinder volume again.\n\nNote: this patch only address the issue of duplicate device\nname 'hda', disk bus 'ide' cannot be hotplugged, so we should\nstop iso instance first when attaching volume.\n\nChange-Id: If9f848dc3a3788862d25692250746387c6b35286\nCloses-Bug: #1379212\n""}, {'number': 19, 'created': '2015-01-28 09:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30535b32ed06ff3aa91d0a3f565f16d9befdf8b6', 'message': ""libvirt: fix failure when attaching volume to iso instance\n\nAttaching volume to iso instance results in failure like\nthis 'libvirtError: Requested operation is not valid: target\nhda already exists'. The root device of iso instance is hda,\nnova-compute should not assign hda to cinder volume again.\n\nNote: this patch only address the issue of duplicate device\nname 'hda', disk bus 'ide' cannot be hotplugged, so we should\nstop iso instance first when attaching volume.\n\nChange-Id: If9f848dc3a3788862d25692250746387c6b35286\nCloses-Bug: #1379212\n""}, {'number': 20, 'created': '2015-01-30 04:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04ab9365e8cd721e879aea0c8e0b14b74111f37e', 'message': ""libvirt: fix failure when attaching volume to iso instance\n\nAttaching volume to iso instance results in failure like\nthis 'libvirtError: Requested operation is not valid: target\nhda already exists'. The root device of iso instance is hda,\nnova-compute should not assign hda to cinder volume again.\n\nNote: this patch only address the issue of duplicate device\nname 'hda', disk bus 'ide' cannot be hotplugged, so we should\nstop iso instance first when attaching volume.\n\nChange-Id: If9f848dc3a3788862d25692250746387c6b35286\nCloses-Bug: #1379212\n""}, {'number': 21, 'created': '2015-01-31 02:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f7a98f081d9b3ceece2d1215a7aed283394f9b6', 'message': ""libvirt: fix failure when attaching volume to iso instance\n\nAttaching volume to iso instance results in failure like\nthis 'libvirtError: Requested operation is not valid: target\nhda already exists'. The root device of iso instance is hda,\nnova-compute should not assign hda to cinder volume again.\n\nNote: this patch only address the issue of duplicate device\nname 'hda', disk bus 'ide' cannot be hotplugged, so we should\nstop iso instance first when attaching volume.\n\nChange-Id: If9f848dc3a3788862d25692250746387c6b35286\nCloses-Bug: #1379212\n""}, {'number': 22, 'created': '2015-02-02 03:01:00.000000000', 'files': ['nova/tests/unit/test_block_device.py', 'nova/tests/unit/compute/test_compute.py', 'nova/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2f0f67d17cfedef2da4b1215f8d9072172a0d04f', 'message': ""libvirt: fix failure when attaching volume to iso instance\n\nAttaching volume to iso instance results in failure like\nthis 'libvirtError: Requested operation is not valid: target\nhda already exists'. The root device of iso instance is hda,\nnova-compute should not assign hda to cinder volume again.\n\nNote: this patch only address the issue of duplicate device\nname 'hda', disk bus 'ide' cannot be hotplugged, so we should\nstop iso instance first when attaching volume.\n\nChange-Id: If9f848dc3a3788862d25692250746387c6b35286\nCloses-Bug: #1379212\n""}]",6,127168,2f0f67d17cfedef2da4b1215f8d9072172a0d04f,184,24,22,8276,,,0,"libvirt: fix failure when attaching volume to iso instance

Attaching volume to iso instance results in failure like
this 'libvirtError: Requested operation is not valid: target
hda already exists'. The root device of iso instance is hda,
nova-compute should not assign hda to cinder volume again.

Note: this patch only address the issue of duplicate device
name 'hda', disk bus 'ide' cannot be hotplugged, so we should
stop iso instance first when attaching volume.

Change-Id: If9f848dc3a3788862d25692250746387c6b35286
Closes-Bug: #1379212
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/127168/19 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/test_block_device.py', 'nova/block_device.py', 'nova/tests/compute/test_compute.py']",3,887eada9ea8e37df6f81a2eb7003600615664387,bug/1379212," def test_reserve_block_device_name_with_iso_instance(self): instance = self._create_fake_instance_obj( params={'root_device_name': '/dev/hda'}) bdm = objects.BlockDeviceMapping( **{'source_type': 'image', 'destination_type': 'local', 'image_id': 'fake-image-id', 'device_name': '/dev/hda', 'instance_uuid': instance.uuid}) bdm.create(self.context) self.compute.reserve_block_device_name(self.context, instance, '/dev/vdb', 'fake-volume-id', 'ide', 'disk') bdms = objects.BlockDeviceMappingList.get_by_instance_uuid( self.context, instance.uuid) bdms = list(bdms) self.assertEqual(len(bdms), 2) bdms.sort(key=operator.attrgetter('device_name')) vol_bdm = bdms[1] self.assertEqual(vol_bdm.source_type, 'volume') self.assertEqual(vol_bdm.destination_type, 'volume') self.assertEqual(vol_bdm.device_name, '/dev/hdb') self.assertEqual(vol_bdm.volume_id, 'fake-volume-id') self.assertEqual(vol_bdm.disk_bus, 'ide') self.assertEqual(vol_bdm.device_type, 'disk') ",,30,2
openstack%2Fnova~master~I735987f3c3f8c16759f6fbbb235a0156df832855,openstack/nova,master,I735987f3c3f8c16759f6fbbb235a0156df832855,Fixes Hyper-V should log a clear error message,MERGED,2014-09-11 08:45:43.000000000,2015-02-02 22:21:32.000000000,2015-02-02 22:21:29.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 3185}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 6773}, {'_account_id': 7166}, {'_account_id': 8213}, {'_account_id': 8412}, {'_account_id': 8531}, {'_account_id': 8543}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12604}]","[{'number': 1, 'created': '2014-09-11 08:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77743eab6fca4a34dad839d7cef0d1cab8f15e17', 'message': ""Fixes Hyper-V should log a clear error message\n\nWhen failing to access a remote SMB UNC path, Python raises\n   WindowsError: [Error 123] The filename, directory name, or volume\nlabel syntax is incorrect: '\\\\\\\\'\nThis issue happens during resize/cold migration.\n\nThis fix ensures that the Nova driver will report a clear error\nmessage.\n\nChange-Id: I735987f3c3f8c16759f6fbbb235a0156df832855\nCloses-Bug: #1367786\n""}, {'number': 2, 'created': '2014-09-16 12:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc9bcea3690c7ccdb5d307f43df17a2a8c1da4e6', 'message': ""Fixes Hyper-V should log a clear error message\n\nWhen failing to access a remote SMB UNC path, Python raises\n   WindowsError: [Error 123] The filename, directory name, or volume\nlabel syntax is incorrect: '\\\\\\\\'\nThis issue happens during resize/cold migration.\n\nThis fix ensures that the Nova driver will report a clear error\nmessage.\n\nChange-Id: I735987f3c3f8c16759f6fbbb235a0156df832855\nCloses-Bug: #1367786\n""}, {'number': 3, 'created': '2014-09-16 12:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0dcde97757cee26793ea524ddbd513af3776929b', 'message': ""Fixes Hyper-V should log a clear error message\n\nWhen failing to access a remote SMB UNC path, Python raises\n   WindowsError: [Error 123] The filename, directory name, or volume\nlabel syntax is incorrect: '\\\\\\\\'\nThis issue happens during resize/cold migration.\n\nThis fix ensures that the Nova driver will report a clear error\nmessage.\n\nChange-Id: I735987f3c3f8c16759f6fbbb235a0156df832855\nCloses-Bug: #1367786\n""}, {'number': 4, 'created': '2014-09-16 14:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/246a46f4ee48788a7e06f4774e52fa4d862f1130', 'message': ""Fixes Hyper-V should log a clear error message\n\nWhen failing to access a remote SMB UNC path, Python raises\n   WindowsError: [Error 123] The filename, directory name, or volume\nlabel syntax is incorrect: '\\\\\\\\'\nThis issue happens during resize/cold migration.\n\nThis fix ensures that the Nova driver will report a clear error\nmessage.\n\nChange-Id: I735987f3c3f8c16759f6fbbb235a0156df832855\nCloses-Bug: #1367786\n""}, {'number': 5, 'created': '2014-10-01 13:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6748092b489bdd1a47cf13766ce62c2ecefb77b', 'message': ""Fixes Hyper-V should log a clear error message\n\nWhen failing to access a remote SMB UNC path, Python raises\n   WindowsError: [Error 123] The filename, directory name, or volume\nlabel syntax is incorrect: '\\\\\\\\'\nThis issue happens during resize/cold migration.\n\nThis fix ensures that the Nova driver will report a clear error\nmessage.\n\nChange-Id: I735987f3c3f8c16759f6fbbb235a0156df832855\nCloses-Bug: #1367786\n""}, {'number': 6, 'created': '2014-10-21 07:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c116c7165f8775182aa6b35c16ff3eefe672b4c', 'message': ""Fixes Hyper-V should log a clear error message\n\nWhen failing to access a remote SMB UNC path, Python raises\n   WindowsError: [Error 123] The filename, directory name, or volume\nlabel syntax is incorrect: '\\\\\\\\'\nThis issue happens during resize/cold migration.\n\nThis fix ensures that the Nova driver will report a clear error\nmessage.\n\nChange-Id: I735987f3c3f8c16759f6fbbb235a0156df832855\nCloses-Bug: #1367786\n""}, {'number': 7, 'created': '2014-11-14 10:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62fcf48f995d9fae631a19e89371f2e0fa6136e3', 'message': ""Fixes Hyper-V should log a clear error message\n\nWhen failing to access a remote SMB UNC path, Python raises\n   WindowsError: [Error 123] The filename, directory name, or volume\nlabel syntax is incorrect: '\\\\\\\\'\nThis issue happens during resize/cold migration.\n\nThis fix ensures that the Nova driver will report a clear error\nmessage.\n\nChange-Id: I735987f3c3f8c16759f6fbbb235a0156df832855\nCloses-Bug: #1367786\n""}, {'number': 8, 'created': '2014-12-09 10:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1504d0169d5a0bedd4407d01bdb75ceac8402534', 'message': ""Fixes Hyper-V should log a clear error message\n\nWhen failing to access a remote SMB UNC path, Python raises\n   WindowsError: [Error 123] The filename, directory name, or volume\nlabel syntax is incorrect: '\\\\\\\\'\nThis issue happens during resize/cold migration.\n\nThis fix ensures that the Nova driver will report a clear error\nmessage.\n\nChange-Id: I735987f3c3f8c16759f6fbbb235a0156df832855\nCloses-Bug: #1367786\n""}, {'number': 9, 'created': '2014-12-10 20:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/095878c1a857ba81cb14462c17b6d8b85dd85d8a', 'message': ""Fixes Hyper-V should log a clear error message\n\nWhen failing to access a remote SMB UNC path, Python raises\n   WindowsError: [Error 123] The filename, directory name, or volume\nlabel syntax is incorrect: '\\\\\\\\'\nThis issue happens during resize/cold migration.\n\nThis fix ensures that the Nova driver will report a clear error\nmessage.\n\nChange-Id: I735987f3c3f8c16759f6fbbb235a0156df832855\nCloses-Bug: #1367786\n""}, {'number': 10, 'created': '2014-12-15 10:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6cc783888013d75fdbc50daaa9f3d92c8ad53d9', 'message': ""Fixes Hyper-V should log a clear error message\n\nWhen failing to access a remote SMB UNC path, Python raises\n   WindowsError: [Error 123] The filename, directory name, or volume\nlabel syntax is incorrect: '\\\\\\\\'\nThis issue happens during resize/cold migration.\n\nThis fix ensures that the Nova driver will report a clear error\nmessage.\n\nChange-Id: I735987f3c3f8c16759f6fbbb235a0156df832855\nCloses-Bug: #1367786\n""}, {'number': 11, 'created': '2015-01-12 13:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1221990b4ad4251832f4c0bb8e965648e0dc818a', 'message': ""Fixes Hyper-V should log a clear error message\n\nWhen failing to access a remote SMB UNC path, Python raises\n   WindowsError: [Error 123] The filename, directory name, or volume\nlabel syntax is incorrect: '\\\\\\\\'\nThis issue happens during resize/cold migration.\n\nThis fix ensures that the Nova driver will report a clear error\nmessage.\n\nChange-Id: I735987f3c3f8c16759f6fbbb235a0156df832855\nCloses-Bug: #1367786\n""}, {'number': 12, 'created': '2015-01-21 14:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16d86d4f81d400e95a9f4fb01b7d9358c7baa74f', 'message': ""Fixes Hyper-V should log a clear error message\n\nWhen failing to access a remote SMB UNC path, Python raises\n   WindowsError: [Error 123] The filename, directory name, or volume\nlabel syntax is incorrect: '\\\\\\\\'\nThis issue happens during resize/cold migration.\n\nThis fix ensures that the Nova driver will report a clear error\nmessage.\n\nChange-Id: I735987f3c3f8c16759f6fbbb235a0156df832855\nCloses-Bug: #1367786\n""}, {'number': 13, 'created': '2015-01-21 16:08:07.000000000', 'files': ['nova/virt/hyperv/pathutils.py', 'nova/tests/unit/virt/hyperv/test_pathutils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/42560abdf172bae2df5d3297003324f8c46b8037', 'message': ""Fixes Hyper-V should log a clear error message\n\nWhen failing to access a remote SMB UNC path, Python raises\n   WindowsError: [Error 123] The filename, directory name, or volume\nlabel syntax is incorrect: '\\\\\\\\'\nThis issue happens during resize/cold migration.\n\nThis fix ensures that the Nova driver will report a clear error\nmessage.\n\nChange-Id: I735987f3c3f8c16759f6fbbb235a0156df832855\nCloses-Bug: #1367786\n""}]",13,120721,42560abdf172bae2df5d3297003324f8c46b8037,106,18,13,12604,,,0,"Fixes Hyper-V should log a clear error message

When failing to access a remote SMB UNC path, Python raises
   WindowsError: [Error 123] The filename, directory name, or volume
label syntax is incorrect: '\\\\'
This issue happens during resize/cold migration.

This fix ensures that the Nova driver will report a clear error
message.

Change-Id: I735987f3c3f8c16759f6fbbb235a0156df832855
Closes-Bug: #1367786
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/120721/12 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/hyperv/pathutils.py'],1,77743eab6fca4a34dad839d7cef0d1cab8f15e17,bug/1367786,"from nova.virt.hyperv import vmutils try: if remove_dir: self._check_remove_dir(path) if create_dir: self._check_create_dir(path) return path except WindowsError as ex: if ex.winerror == 123: raise vmutils.HyperVException( ""Cannot access the remote share %(share)s. Make sure that "" ""you have proper permissions in particular Nova-Compute "" ""must not be executed with the builtin SYSTEM account or "" ""other accounts unable to authenticate on a remote host "" % {'share': instances_path}) raise", if remove_dir: self._check_remove_dir(path) if create_dir: self._check_create_dir(path) return path,16,5
openstack%2Fmanila~master~I48864b002e4174728136d093b1a17dad2edec605,openstack/manila,master,I48864b002e4174728136d093b1a17dad2edec605,Implement additional driver mode for Generic driver,MERGED,2014-12-17 10:10:53.000000000,2015-02-02 22:13:30.000000000,2015-02-02 22:13:29.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6116}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 7331}, {'_account_id': 7872}, {'_account_id': 8851}, {'_account_id': 11878}, {'_account_id': 14232}]","[{'number': 1, 'created': '2014-12-17 10:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/bc2137cae6c04079b14adcf0a465341882c63217', 'message': 'Add single_svm mode to generic driver (WIP)\n\nChange-Id: I48864b002e4174728136d093b1a17dad2edec605\n'}, {'number': 2, 'created': '2014-12-17 10:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e82795038807adb668a12916c46dcb9e2a3bb020', 'message': 'Add single_svm mode to generic driver (WIP)\n\nChange-Id: I48864b002e4174728136d093b1a17dad2edec605\n'}, {'number': 3, 'created': '2015-01-06 10:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/10400b617445464c4b01072739cb447e6f5923c6', 'message': ""[WIP] Implement single SVM mode for Generic driver\n\nAdd possibility to run Generic driver in single SVM mode. It allows us\nto create shares without share-networks defined on one specific Nova VM.\n\nAdded three (3) new config options that are used only with single SVM mode:\n- 'service_instance_name_or_id' expects string with name or id of Nova VM.\n- 'service_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for handle operation of share.\n- 'tenant_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for exporting share to end users.\n\nAll three new config options are required if single SVM mode is enabled.\nIf multi SVM mode is enabled they will be skipped.\n\nSet config opt 'share_driver_mode' within devstack by default because in case\nof Generic driver it becomes required. It is set to 'multi_svm' for\ncompatibility with existing Tempest jobs.\n\nTODO: add/update unit tests\n\nImplements bp single-svm-mode-for-generic-driver\n\nChange-Id: I48864b002e4174728136d093b1a17dad2edec605\n""}, {'number': 4, 'created': '2015-01-06 12:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/18c9291930ad7b993f0c4e52baae41553e84067e', 'message': ""Implement single SVM mode for Generic driver\n\nAdd possibility to run Generic driver in single SVM mode. It allows us\nto create shares without share-networks defined on one specific Nova VM.\n\nAdded three (3) new config options that are used only with single SVM mode:\n- 'service_instance_name_or_id' expects string with name or id of Nova VM.\n- 'service_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for handle operation of share.\n- 'tenant_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for exporting share to end users.\n\nAll three new config options are required if single SVM mode is enabled.\nIf multi SVM mode is enabled they will be skipped.\n\nSet config opt 'share_driver_mode' within devstack by default because in case\nof Generic driver it becomes required. It is set to 'multi_svm' for\ncompatibility with existing Tempest jobs.\n\nImplements bp single-svm-mode-for-generic-driver\n\nChange-Id: I48864b002e4174728136d093b1a17dad2edec605\n""}, {'number': 5, 'created': '2015-01-06 16:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/706a775494e7337f44f3e1eddb015c659680c9d1', 'message': ""Implement single SVM mode for Generic driver\n\nAdd possibility to run Generic driver in single SVM mode. It allows us\nto create shares without share-networks defined on one specific Nova VM.\n\nAdded three (3) new config options that are used only with single SVM mode:\n- 'service_instance_name_or_id' expects string with name or id of Nova VM.\n- 'service_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for handle operation of share.\n- 'tenant_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for exporting share to end users.\n\nAll three new config options are required if single SVM mode is enabled.\nIf multi SVM mode is enabled they will be skipped.\n\nSet config opt 'share_driver_mode' within devstack by default because in case\nof Generic driver it becomes required. It is set to 'multi_svm' for\ncompatibility with existing Tempest jobs.\n\nImplements bp single-svm-mode-for-generic-driver\n\nChange-Id: I48864b002e4174728136d093b1a17dad2edec605\n""}, {'number': 6, 'created': '2015-01-06 17:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0ca27c10dd5c58833911c04705f8d7a0bb7678d2', 'message': ""Implement single SVM mode for Generic driver\n\nAdd possibility to run Generic driver in single SVM mode. It allows us\nto create shares without share-networks defined on one specific Nova VM.\n\nAdded three (3) new config options that are used only with single SVM mode:\n- 'service_instance_name_or_id' expects string with name or id of Nova VM.\n- 'service_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for handle operation of share.\n- 'tenant_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for exporting share to end users.\n\nAll three new config options are required if single SVM mode is enabled.\nIf multi SVM mode is enabled they will be skipped.\n\nSet config opt 'share_driver_mode' within devstack by default because in case\nof Generic driver it becomes required. It is set to 'multi_svm' for\ncompatibility with existing Tempest jobs.\n\nImplements bp single-svm-mode-for-generic-driver\n\nChange-Id: I48864b002e4174728136d093b1a17dad2edec605\n""}, {'number': 7, 'created': '2015-01-06 19:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5124644069be53854b7f8a7e225ad2a2f3d5d8d3', 'message': ""Implement single SVM mode for Generic driver\n\nAdd possibility to run Generic driver in single SVM mode. It allows us\nto create shares without share-networks defined on one specific Nova VM.\n\nAdded three (3) new config options that are used only with single SVM mode:\n- 'service_instance_name_or_id' expects string with name or id of Nova VM.\n- 'service_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for handle operation of share.\n- 'tenant_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for exporting share to end users.\n\nAll three new config options are required if single SVM mode is enabled.\nIf multi SVM mode is enabled they will be skipped.\n\nSet config opt 'share_driver_mode' within devstack by default because in case\nof Generic driver it becomes required. It is set to 'multi_svm' for\ncompatibility with existing Tempest jobs.\n\nImplements bp single-svm-mode-for-generic-driver\n\nChange-Id: I48864b002e4174728136d093b1a17dad2edec605\n""}, {'number': 8, 'created': '2015-01-06 19:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/233e20afc8c92537daa307c4aef6f5f093d96d09', 'message': ""Implement single SVM mode for Generic driver\n\nAdd possibility to run Generic driver in single SVM mode. It allows us\nto create shares without share-networks defined on one specific Nova VM.\n\nAdded three (3) new config options that are used only with single SVM mode:\n- 'service_instance_name_or_id' expects string with name or id of Nova VM.\n- 'service_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for handle operation of share.\n- 'tenant_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for exporting share to end users.\n\nAll three new config options are required if single SVM mode is enabled.\nIf multi SVM mode is enabled they will be skipped.\n\nSet config opt 'share_driver_mode' within devstack by default because in case\nof Generic driver it becomes required. It is set to 'multi_svm' for\ncompatibility with existing Tempest jobs.\n\nImplements bp single-svm-mode-for-generic-driver\n\nChange-Id: I48864b002e4174728136d093b1a17dad2edec605\n""}, {'number': 9, 'created': '2015-01-07 21:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/845f5c28844150009c6751248e9007f108e8f922', 'message': ""Implement single SVM mode for Generic driver\n\nAdd possibility to run Generic driver in single SVM mode. It allows us\nto create shares without share-networks defined on one specific Nova VM.\n\nAdded three (3) new config options that are used only with single SVM mode:\n- 'service_instance_name_or_id' expects string with name or id of Nova VM.\n- 'service_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for handle operation of share.\n- 'tenant_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for exporting share to end users.\n\nAll three new config options are required if single SVM mode is enabled.\nIf multi SVM mode is enabled they will be skipped.\n\nSet config opt 'share_driver_mode' within devstack by default because in case\nof Generic driver it becomes required. It is set to 'multi_svm' for\ncompatibility with existing Tempest jobs.\n\nImplements bp single-svm-mode-for-generic-driver\n\nChange-Id: I48864b002e4174728136d093b1a17dad2edec605\n""}, {'number': 10, 'created': '2015-01-08 19:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7d66d61792a6c4c5b738493afed76a2f24692548', 'message': ""Implement single SVM mode for Generic driver\n\nAdd possibility to run Generic driver in single SVM mode. It allows us\nto create shares without share-networks defined on one specific Nova VM.\n\nAdded three (3) new config options that are used only with single SVM mode:\n- 'service_instance_name_or_id' expects string with name or id of Nova VM.\n- 'service_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for handle operation of share.\n- 'tenant_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for exporting share to end users.\n\nAll three new config options are required if single SVM mode is enabled.\nIf multi SVM mode is enabled they will be skipped.\n\nSet config opt 'share_driver_mode' within devstack by default because in case\nof Generic driver it becomes required. It is set to 'multi_svm' for\ncompatibility with existing Tempest jobs.\n\nImplements bp single-svm-mode-for-generic-driver\n\nChange-Id: I48864b002e4174728136d093b1a17dad2edec605\n""}, {'number': 11, 'created': '2015-01-08 20:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b9ef6db91960f00684312db2dfa2c79e15eb9e0f', 'message': ""Implement single SVM mode for Generic driver\n\nAdd possibility to run Generic driver in single SVM mode. It allows us\nto create shares without share-networks defined on one specific Nova VM.\n\nAdded three (3) new config options that are used only with single SVM mode:\n- 'service_instance_name_or_id' expects string with name or id of Nova VM.\n- 'service_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for handle operation of share.\n- 'tenant_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for exporting share to end users.\n\nAll three new config options are required if single SVM mode is enabled.\nIf multi SVM mode is enabled they will be skipped.\n\nSet config opt 'share_driver_mode' within devstack by default because in case\nof Generic driver it becomes required. It is set to 'multi_svm' for\ncompatibility with existing Tempest jobs.\n\nImplements bp single-svm-mode-for-generic-driver\n\nChange-Id: I48864b002e4174728136d093b1a17dad2edec605\n""}, {'number': 12, 'created': '2015-01-12 19:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ab5facb0e3f478f654b028ea2a062adf67fec7b0', 'message': ""Implement single SVM mode for Generic driver\n\nAdd possibility to run Generic driver in single SVM mode. It allows us\nto create shares without share-networks defined on one specific Nova VM.\n\nAdded three (3) new config options that are used only with single SVM mode:\n- 'service_instance_name_or_id' expects string with name or id of Nova VM.\n- 'service_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for handle operation of share.\n- 'tenant_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for exporting share to end users.\n\nAll three new config options are required if single SVM mode is enabled.\nIf multi SVM mode is enabled they will be skipped.\n\nSet config opt 'share_driver_mode' within devstack by default because in case\nof Generic driver it becomes required. It is set to 'multi_svm' for\ncompatibility with existing Tempest jobs.\n\nImplements bp single-svm-mode-for-generic-driver\n\nChange-Id: I48864b002e4174728136d093b1a17dad2edec605\n""}, {'number': 13, 'created': '2015-01-22 13:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/94b2b9fe94b2a5326a23b4b7802873978c45e538', 'message': ""Implement additional driver mode for Generic driver\n\nAdd possibility to run Generic driver without handling of share servers. It\nallows us to create shares, without share-networks defined, on one specific\nNova VM.\nAdded three (3) new config options that are used only with new mode:\n- 'service_instance_name_or_id' expects string with name or id of Nova VM.\n- 'service_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for handle operation of share.\n- 'tenant_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for exporting share to end users.\nAll three new config options are required if new mode is enabled.\nThey will be skipped if driver mode with handling of share servers is enabled.\n\nImplements bp single-svm-mode-for-generic-driver\n\nChange-Id: I48864b002e4174728136d093b1a17dad2edec605\n""}, {'number': 14, 'created': '2015-01-22 13:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e6d4f95fd4b8766a3da65e89282c32f26e5cea89', 'message': ""Implement additional driver mode for Generic driver\n\nAdd possibility to run Generic driver without handling of share servers. It\nallows us to create shares, without share-networks defined, on one specific\nNova VM.\nAdded three (3) new config options that are used only with new mode:\n- 'service_instance_name_or_id' expects string with name or id of Nova VM.\n- 'service_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for handle operation of share.\n- 'tenant_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for exporting share to end users.\nAll three new config options are required if new mode is enabled.\nThey will be skipped if driver mode with handling of share servers is enabled.\n\nImplements bp single-svm-mode-for-generic-driver\n\nChange-Id: I48864b002e4174728136d093b1a17dad2edec605\n""}, {'number': 15, 'created': '2015-01-22 13:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/dab44dc8526252e098af6325e9ab97c0dedceba0', 'message': ""Implement additional driver mode for Generic driver\n\nAdd possibility to run Generic driver without handling of share servers. It\nallows us to create shares, without share-networks defined, on one specific\nNova VM.\nAdded three (3) new config options that are used only with new mode:\n- 'service_instance_name_or_id' expects string with name or id of Nova VM.\n- 'service_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for handle operation of share.\n- 'tenant_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for exporting share to end users.\nAll three new config options are required if new mode is enabled.\nThey will be skipped if driver mode with handling of share servers is enabled.\n\nImplements bp single-svm-mode-for-generic-driver\n\nChange-Id: I48864b002e4174728136d093b1a17dad2edec605\n""}, {'number': 16, 'created': '2015-01-22 17:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e3dc13e6103b236501b85da5dc382867c927760a', 'message': ""Implement additional driver mode for Generic driver\n\nAdd possibility to run Generic driver without handling of share servers. It\nallows us to create shares, without share-networks defined, on one specific\nNova VM.\nAdded three (3) new config options that are used only with new mode:\n- 'service_instance_name_or_id' expects string with name or id of Nova VM.\n- 'service_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for handle operation of share.\n- 'tenant_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for exporting share to end users.\nAll three new config options are required if new mode is enabled.\nThey will be skipped if driver mode with handling of share servers is enabled.\n\nImplements bp single-svm-mode-for-generic-driver\n\nChange-Id: I48864b002e4174728136d093b1a17dad2edec605\n""}, {'number': 17, 'created': '2015-01-27 17:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/68c1d97ea19628027537f0fc0787c12ca0441fab', 'message': ""Implement additional driver mode for Generic driver\n\nAdd possibility to run Generic driver without handling of share servers. It\nallows us to create shares, without share-networks defined, on one specific\nNova VM.\nAdded three (3) new config options that are used only with new mode:\n- 'service_instance_name_or_id' expects string with name or id of Nova VM.\n- 'service_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for handle operation of share.\n- 'tenant_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for exporting share to end users.\nAll three new config options are required if new mode is enabled.\nThey will be skipped if driver mode with handling of share servers is enabled.\n\nImplements bp single-svm-mode-for-generic-driver\n\nChange-Id: I48864b002e4174728136d093b1a17dad2edec605\n""}, {'number': 18, 'created': '2015-01-27 18:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ca693726fc5d9516409114782b75a81e7e9ed452', 'message': ""Implement additional driver mode for Generic driver\n\nAdd possibility to run Generic driver without handling of share servers. It\nallows us to create shares, without share-networks defined, on one specific\nNova VM.\nAdded three (3) new config options that are used only with new mode:\n- 'service_instance_name_or_id' expects string with name or id of Nova VM.\n- 'service_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for handle operation of share.\n- 'tenant_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for exporting share to end users.\nAll three new config options are required if new mode is enabled.\nThey will be skipped if driver mode with handling of share servers is enabled.\n\nImplements bp single-svm-mode-for-generic-driver\nChange-Id: I48864b002e4174728136d093b1a17dad2edec605\n""}, {'number': 19, 'created': '2015-01-27 19:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1883a65938a1126fc4bc6d734469bec8ff9e7abc', 'message': ""Implement additional driver mode for Generic driver\n\nAdd possibility to run Generic driver without handling of share servers. It\nallows us to create shares, without share-networks defined, on one specific\nNova VM.\nAdded three (3) new config options that are used only with new mode:\n- 'service_instance_name_or_id' expects string with name or id of Nova VM.\n- 'service_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for handle operation of share.\n- 'tenant_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for exporting share to end users.\nAll three new config options are required if new mode is enabled.\nThey will be skipped if driver mode with handling of share servers is enabled.\n\nImplements bp single-svm-mode-for-generic-driver\n\nChange-Id: I48864b002e4174728136d093b1a17dad2edec605\n""}, {'number': 20, 'created': '2015-01-31 08:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a90d98edf14bf05fec1aed3811b805f2927cd5b6', 'message': ""Implement additional driver mode for Generic driver\n\nAdd possibility to run Generic driver without handling of share servers. It\nallows us to create shares, without share-networks defined, on one specific\nNova VM.\nAdded three (3) new config options that are used only with new mode:\n- 'service_instance_name_or_id' expects string with name or id of Nova VM.\n- 'service_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for handle operation of share.\n- 'tenant_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for exporting share to end users.\nAll three new config options are required if new mode is enabled.\nThey will be skipped if driver mode with handling of share servers is enabled.\n\nImplements bp single-svm-mode-for-generic-driver\n\nChange-Id: I48864b002e4174728136d093b1a17dad2edec605\n""}, {'number': 21, 'created': '2015-01-31 22:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c6445d475de9225eb122996980cc354c8510a026', 'message': ""Implement additional driver mode for Generic driver\n\nAdd possibility to run Generic driver without handling of share servers. It\nallows us to create shares, without share-networks defined, on one specific\nNova VM.\nAdded three (3) new config options that are used only with new mode:\n- 'service_instance_name_or_id' expects string with name or id of Nova VM.\n- 'service_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for handle operation of share.\n- 'tenant_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for exporting share to end users.\nAll three new config options are required if new mode is enabled.\nThey will be skipped if driver mode with handling of share servers is enabled.\n\nImplements bp single-svm-mode-for-generic-driver\n\nChange-Id: I48864b002e4174728136d093b1a17dad2edec605\n""}, {'number': 22, 'created': '2015-02-02 11:57:28.000000000', 'files': ['manila/share/drivers/service_instance.py', 'manila/tests/fake_compute.py', 'manila/tests/share/drivers/test_service_instance.py', 'manila/tests/share/drivers/test_generic.py', 'manila/compute/nova.py', 'manila/tests/compute/test_nova.py', 'manila/share/drivers/generic.py', 'manila/opts.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/53b40423f48bf33b9168d1ed9a80bd5c2c6e701d', 'message': ""Implement additional driver mode for Generic driver\n\nAdd possibility to run Generic driver without handling of share servers. It\nallows us to create shares, without share-networks defined, on one specific\nNova VM.\nAdded three (3) new config options that are used only with new mode:\n- 'service_instance_name_or_id' expects string with name or id of Nova VM.\n- 'service_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for handle operation of share.\n- 'tenant_net_name_or_ip' expects name of network that Nova VM is switched to\n  or IP itself. Used for exporting share to end users.\nAll three new config options are required if new mode is enabled.\nThey will be skipped if driver mode with handling of share servers is enabled.\n\nImplements bp single-svm-mode-for-generic-driver\n\nChange-Id: I48864b002e4174728136d093b1a17dad2edec605\n""}]",27,142403,53b40423f48bf33b9168d1ed9a80bd5c2c6e701d,80,10,22,7331,,,0,"Implement additional driver mode for Generic driver

Add possibility to run Generic driver without handling of share servers. It
allows us to create shares, without share-networks defined, on one specific
Nova VM.
Added three (3) new config options that are used only with new mode:
- 'service_instance_name_or_id' expects string with name or id of Nova VM.
- 'service_net_name_or_ip' expects name of network that Nova VM is switched to
  or IP itself. Used for handle operation of share.
- 'tenant_net_name_or_ip' expects name of network that Nova VM is switched to
  or IP itself. Used for exporting share to end users.
All three new config options are required if new mode is enabled.
They will be skipped if driver mode with handling of share servers is enabled.

Implements bp single-svm-mode-for-generic-driver

Change-Id: I48864b002e4174728136d093b1a17dad2edec605
",git fetch https://review.opendev.org/openstack/manila refs/changes/03/142403/14 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/service_instance.py', 'manila/compute/nova.py', 'manila/share/driver.py', 'manila/share/drivers/generic.py']",4,bc2137cae6c04079b14adcf0a465341882c63217,bp/single-svm-mode-for-generic-driver," cfg.StrOpt('share_server_private_key', default=None, help=""Path to ssh private key to connect to share server.""), if (f.__name__ is not 'ensure_share' and const.MANAGED_MULTI_SVM_MODE not in self.modes): server = self.share_server return f(self, *args, share_server=server) return wrap def ensure_managed_multi_svm_mode(f): def wrap(self, *args, **kwargs): if const.MANAGED_MULTI_SVM_MODE in self.modes: return f(self, *args, **kwargs) return None self.share_server = { 'backend_details': { 'instance_id': self.configuration.safe_get('share_server'), 'username': self.configuration.safe_get( 'share_server_username'), 'password': self.configuration.safe_get( 'share_server_password'), 'pk_path': self.configuration.safe_get( 'share_server_private_key'), }, } @ensure_managed_multi_svm_mode @ensure_managed_multi_svm_mode @ensure_managed_multi_svm_mode"," return f(self, *args, **kwargs)",49,6
openstack%2Fopenstack-ansible~master~I566bb698102ec78bea4100db14b99913521e03c6,openstack/openstack-ansible,master,I566bb698102ec78bea4100db14b99913521e03c6,Update glance policy template to match Juno release,ABANDONED,2014-12-10 15:50:29.000000000,2015-02-02 21:38:30.000000000,,"[{'_account_id': 3}, {'_account_id': 425}, {'_account_id': 2799}, {'_account_id': 7217}, {'_account_id': 9820}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-12-10 15:50:29.000000000', 'files': ['rpc_deployment/roles/glance_common/templates/policy.json'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8696c0bccda189600068edcebc4fc0bdc001693d', 'message': 'Update glance policy template to match Juno release\n\nWith Juno, the Glance project modified the publicize permission to only\napply to admins, not all users. This change synchornizes the policy.json\nwith the default one provided by Glance.\n\nChange-Id: I566bb698102ec78bea4100db14b99913521e03c6\n'}]",0,140743,8696c0bccda189600068edcebc4fc0bdc001693d,8,6,1,12892,,,0,"Update glance policy template to match Juno release

With Juno, the Glance project modified the publicize permission to only
apply to admins, not all users. This change synchornizes the policy.json
with the default one provided by Glance.

Change-Id: I566bb698102ec78bea4100db14b99913521e03c6
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/43/140743/1 && git format-patch -1 --stdout FETCH_HEAD,['rpc_deployment/roles/glance_common/templates/policy.json'],1,8696c0bccda189600068edcebc4fc0bdc001693d,match-glance-policy," ""publicize_image"": ""role:admin"","," ""publicize_image"": """",",1,1
openstack%2Fkeystone-specs~master~If16ffdad75edf2f474e7f7b0fc31d54767faae0a,openstack/keystone-specs,master,If16ffdad75edf2f474e7f7b0fc31d54767faae0a,Allow for direct mapping in federated authN.,MERGED,2015-01-21 22:56:03.000000000,2015-02-02 21:37:32.000000000,2015-02-02 21:17:50.000000000,"[{'_account_id': 3}, {'_account_id': 1916}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 6460}, {'_account_id': 6482}, {'_account_id': 8978}, {'_account_id': 11022}]","[{'number': 1, 'created': '2015-01-21 22:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/bbd74417f5630e9f72579faf11d37827ac8d042b', 'message': 'Allow for direct mapping in federated authN.\n\nWe need a way to build mapping rules that map to users present in the\nbackend. Also, this spec specifies that ephemeral users will by default\nbecome a members of special domain named ``federated``.\n\nChange-Id: If16ffdad75edf2f474e7f7b0fc31d54767faae0a\n'}, {'number': 2, 'created': '2015-01-26 08:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/3955ad20dda10b3d378b2fcd15b1d101ad625c51', 'message': 'Allow for direct mapping in federated authN.\n\nWe need a way to build mapping rules that map to users present in the\nbackend. Also, this spec specifies that ephemeral users will by default\nbecome a members of special domain named ``federated``.\n\nChange-Id: If16ffdad75edf2f474e7f7b0fc31d54767faae0a\nImplements bp federated-direct-user-mapping\n'}, {'number': 3, 'created': '2015-01-28 11:20:53.000000000', 'files': ['specs/kilo/federated-direct-user-mapping.rst', 'api/v3/identity-api-v3-os-federation-ext.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/82415de27e530063d57025436b59aee08ee45df8', 'message': 'Allow for direct mapping in federated authN.\n\nWe need a way to build mapping rules that map to users present in the\nbackend. Also, this spec specifies that ephemeral users will by default\nbecome a members of special domain named ``federated``.\n\nChange-Id: If16ffdad75edf2f474e7f7b0fc31d54767faae0a\nImplements bp federated-direct-user-mapping\n'}]",28,149071,82415de27e530063d57025436b59aee08ee45df8,20,8,3,8978,,,0,"Allow for direct mapping in federated authN.

We need a way to build mapping rules that map to users present in the
backend. Also, this spec specifies that ephemeral users will by default
become a members of special domain named ``federated``.

Change-Id: If16ffdad75edf2f474e7f7b0fc31d54767faae0a
Implements bp federated-direct-user-mapping
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/71/149071/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/federated-direct-user-mapping.rst'],1,bbd74417f5630e9f72579faf11d37827ac8d042b,bp/federated-direct-user-mapping,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================= Direct users mapping for federated authentication ================================================= `bp federated-direct-user-mapping <https://blueprints.launchpad.net/keystone/+spec/federated-direct-user-mapping>`_ Allow for specifying mapping rules where effective user must exist in the backend. Otherwise map users to default domain named ``federated``. Problem Description =================== Today mapping rule engine assumes all effective users are ephemeral and intentionally does not do any database lookups. Many cloud providers wants to use cloud federation so the authentication is handled by the first class Identity, but the user exists in the Identity backend. Side effect of this specification will be also automatically putting ephemeral users in the default federated domain. Proposed Change =============== Part of the change is adding a concept of a default federated domain. That is, all the ephemeral users, who are not present in the backend will be stored in a default federated domain. The domain's name will be hardcoded and will be named ``federated``. Mapping rules should be changed - cloud administrators should be able to specify the domain the user belongs to. If such attribute is not specified explicitly, this will mean the user is meant to be ephemeral and automatically belongs to federated domain. If the domain is not present in the backend, server will respond with appropriate error code. If the domain attribute is specified and is present in the backend, server will do the user lookup in the and respond with an unscoped token. The token should be later scoped to a project or domain, depending on roles assigned to the user. Specifying additional groups in the mapping rules will not take any effect on roles the user has assigned to him. Domain can be identified either by ``id`` or ``name``. Example of ``local`` rule specifying a domain in the ``user`` object: :: ""local"": [ { ""user"": { ""id"": <attribute>, ""domain"": { ""id"": ""12de34"" } } } ] In case the effective user is ephemeral,an unscoped federated token will be issued: :: { ""token"": { ""methods"": [ ""saml2"" ], ""user"": { ""id"": ""username%40example.com"", ""domain"": { ""name"": ""federated"" }, ""name"": ""username@example.com"", ""OS-FEDERATION"": { ""identity_provider"": ""ACME"", ""protocol"": ""SAML"", ""groups"": [ {""id"": ""abc123""}, {""id"": ""bcd234""} ] } } } } The proper way to distinguish whether the user is ephemeral or not is by checking by membership in the federated domain. Alternatives ------------ None. Security Impact --------------- Leveraging authentication to a first class Identity Provider can increase overall security. Notifications Impact -------------------- None. Other End User Impact --------------------- None. Performance Impact ------------------ Federated workflow included more HTTP calls to get a token to an end user. Other Deployer Impact --------------------- None. Developer Impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: Marek Denis (marek-denis) Other assignees: Steve Martinelli (stevemar) Work Items ---------- * Add logic for checking federated domain. * Mapping engine to properly handle ``domain`` keyword in the ``user`` object. * Auth plugins to distinguish between ephemeral user authentication and existing user mapping. * In case of ephemeral user change the format of the unscoped tokens Dependencies ============ None. Documentation Impact ==================== All the changes must be reflected in the documentation. References ========== Add a domain to federated users - https://review.openstack.org/#/c/110858/ ",,166,0
openstack%2Fkeystone~master~I5fb560a934881721cb233cc1549324a5171f470c,openstack/keystone,master,I5fb560a934881721cb233cc1549324a5171f470c,Implements parents_as_ids query param,MERGED,2015-01-20 13:54:04.000000000,2015-02-02 21:14:10.000000000,2015-02-02 21:14:09.000000000,"[{'_account_id': 3}, {'_account_id': 220}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5707}, {'_account_id': 6482}, {'_account_id': 8871}, {'_account_id': 9098}, {'_account_id': 9101}, {'_account_id': 9142}, {'_account_id': 9751}, {'_account_id': 10118}, {'_account_id': 11022}]","[{'number': 1, 'created': '2015-01-20 13:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1d88d9b924ff0587995ec934fbd556fc20953023', 'message': 'Implements parents_ids query param\n\nThis change implements the parents_ids query param. It gives the\npossibility to retrieve the parents from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_parents() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5fb560a934881721cb233cc1549324a5171f470c\n'}, {'number': 2, 'created': '2015-01-20 16:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7ba5ba3bd4a3bd22b1cf809aa688c03a4b828698', 'message': 'Implements parents_ids query param\n\nThis change implements the parents_ids query param. It gives the\npossibility to retrieve the parents from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_parents() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5fb560a934881721cb233cc1549324a5171f470c\n'}, {'number': 3, 'created': '2015-01-21 12:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/af6f844a1ffb2259226de3bbdee01ecfd049300f', 'message': 'Implements parents_ids query param\n\nThis change implements the parents_ids query param. It gives the\npossibility to retrieve the parents from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_parents() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5fb560a934881721cb233cc1549324a5171f470c\n'}, {'number': 4, 'created': '2015-01-21 17:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7c1d1f32f57f7260f1d81e22e1cd5660997693f6', 'message': 'Implements parents_as_ids query param\n\nThis change implements the parents_as_ids query param. It gives the\npossibility to retrieve the parents from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_parents() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5fb560a934881721cb233cc1549324a5171f470c\n'}, {'number': 5, 'created': '2015-01-22 18:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/68901b72a7d799b6c94689d4bde626f444cd857e', 'message': 'Implements parents_as_ids query param\n\nThis change implements the parents_as_ids query param. It gives the\npossibility to retrieve the parents from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_parents() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5fb560a934881721cb233cc1549324a5171f470c\n'}, {'number': 6, 'created': '2015-01-26 16:31:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d65b8b872309ca4d1191a517bd9fd5fc831c0d98', 'message': 'Implements parents_as_ids query param\n\nThis change implements the parents_as_ids query param. It gives the\npossibility to retrieve the parents from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_parents() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5fb560a934881721cb233cc1549324a5171f470c\n'}, {'number': 7, 'created': '2015-01-26 17:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/afbed91d6cba959ef282ec62b9ec90c345b5440f', 'message': 'Implements parents_as_ids query param\n\nThis change implements the parents_as_ids query param. It gives the\npossibility to retrieve the parents from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_parents() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5fb560a934881721cb233cc1549324a5171f470c\n'}, {'number': 8, 'created': '2015-01-27 11:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ee86a54c3138bf485d62ac191f47c2006b87aa7a', 'message': 'Implements parents_as_ids query param\n\nThis change implements the parents_as_ids query param. It gives the\npossibility to retrieve the parents from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_parents() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5fb560a934881721cb233cc1549324a5171f470c\n'}, {'number': 9, 'created': '2015-01-27 20:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/195b868c113ecde9d198853d993787d59e5b9c3a', 'message': 'Implements parents_as_ids query param\n\nThis change implements the parents_as_ids query param. It gives the\npossibility to retrieve the parents from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_parents() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5fb560a934881721cb233cc1549324a5171f470c\n'}, {'number': 10, 'created': '2015-01-27 22:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/de299c2fcff334bbd9c5044189f0b71eb8cb9108', 'message': 'Implements parents_as_ids query param\n\nThis change implements the parents_as_ids query param. It gives the\npossibility to retrieve the parents from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_parents() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5fb560a934881721cb233cc1549324a5171f470c\n'}, {'number': 11, 'created': '2015-01-28 17:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/bc9c1e76d37e3d8badc5267d783c5b9fc81ddc89', 'message': 'Implements parents_as_ids query param\n\nThis change implements the parents_as_ids query param. It gives the\npossibility to retrieve the parents from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_parents() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5fb560a934881721cb233cc1549324a5171f470c\n'}, {'number': 12, 'created': '2015-01-29 18:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4bf7379f30a3513b38d431de706a8dba538b77dd', 'message': 'Implements parents_as_ids query param\n\nThis change implements the parents_as_ids query param. It gives the\npossibility to retrieve the parents from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_parents() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5fb560a934881721cb233cc1549324a5171f470c\n'}, {'number': 13, 'created': '2015-01-30 22:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6bfdac6a51021e6c15ca9a0db1051927b860ae77', 'message': 'Implements parents_as_ids query param\n\nThis change implements the parents_as_ids query param. It gives the\npossibility to retrieve the parents from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_parents() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5fb560a934881721cb233cc1549324a5171f470c\n'}, {'number': 14, 'created': '2015-01-31 14:08:24.000000000', 'files': ['keystone/assignment/controllers.py', 'keystone/resource/core.py', 'keystone/tests/test_v3_assignment.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/0ee272c17f895ff2dcf1809f92437c5bee142be2', 'message': 'Implements parents_as_ids query param\n\nThis change implements the parents_as_ids query param. It gives the\npossibility to retrieve the parents from a project in a structured way\nby using nested dictionaries.\n\nIt reuses the already implemented list_projects_parents() method and\nbuilds the dictionaries hierarchy using the returned list.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I5fb560a934881721cb233cc1549324a5171f470c\n'}]",36,148567,0ee272c17f895ff2dcf1809f92437c5bee142be2,76,13,14,11022,,,0,"Implements parents_as_ids query param

This change implements the parents_as_ids query param. It gives the
possibility to retrieve the parents from a project in a structured way
by using nested dictionaries.

It reuses the already implemented list_projects_parents() method and
builds the dictionaries hierarchy using the returned list.

bp hierarchical-multitenancy-improvements

Change-Id: I5fb560a934881721cb233cc1549324a5171f470c
",git fetch https://review.opendev.org/openstack/keystone refs/changes/67/148567/10 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/resource/core.py', 'keystone/resource/controllers.py', 'keystone/tests/test_v3_assignment.py']",3,1d88d9b924ff0587995ec934fbd556fc20953023,bp/hierarchical-multitenancy-improvements," def test_get_project_with_parents_ids(self): """"""Call ``GET /projects/{project_id}?parents_ids``."""""" projects = self._create_projects_hierarchy(hierarchy_size=3) r = self.get( '/projects/%(project_id)s?parents_ids' % { 'project_id': projects[2]['project']['id']}) self.assertValidProjectResponse(r, projects[1]['project']) parents_ids = r.result['project']['parents'] # Contains only one key self.assertEqual(1, len(parents_ids)) # Assert parents_ids is a structured dictionary correctly representing # the hierarchy. The request was made using projects[2] id, hence its # parents should be projects[1] and projects[0] projects_idx = 1 while parents_ids and parents_ids.keys(): parent_id = parents_ids.keys()[0] if parent_id is not None: self.assertEqual( projects[projects_idx]['project']['id'], parent_id) parents_ids = parents_ids[parent_id] projects_idx -= 1 # Assert that we traversed the whole parents hierarchy self.assertEqual(projects_idx, -1) ",,52,0
openstack%2Fhorizon~master~I186ed2c31222b1f4a0afef34bfa5d8022eac1740,openstack/horizon,master,I186ed2c31222b1f4a0afef34bfa5d8022eac1740,Clean modal forms in Identity Groups,MERGED,2014-09-23 18:42:02.000000000,2015-02-02 21:12:22.000000000,2015-02-02 21:12:20.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 6637}, {'_account_id': 7509}, {'_account_id': 8040}, {'_account_id': 9048}, {'_account_id': 9576}, {'_account_id': 9622}, {'_account_id': 9981}, {'_account_id': 10442}, {'_account_id': 11098}, {'_account_id': 11592}, {'_account_id': 11881}, {'_account_id': 12355}, {'_account_id': 12826}, {'_account_id': 13325}, {'_account_id': 14107}]","[{'number': 1, 'created': '2014-09-23 18:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ffb0cb7b32938396fdc69d4c9a3d778f1d4b6751', 'message': 'Clean modal forms in Idenity Groups\n\nChange-Id: I186ed2c31222b1f4a0afef34bfa5d8022eac1740\nPartially-Implements: blueprint form-template-to-view\nPartially-Closes-Bug: #1350953\n'}, {'number': 2, 'created': '2014-09-23 19:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/648418099fb36e5fb36cc7e40ff20f63b974d33a', 'message': 'Clean modal forms in Idenity Groups\n\nChange-Id: I186ed2c31222b1f4a0afef34bfa5d8022eac1740\nPartially-Implements: blueprint form-template-to-view\nPartially-Closes-Bug: #1350953'}, {'number': 3, 'created': '2014-09-23 19:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/951dc66d5a29bc0c3d14fd7e0db88e155d291684', 'message': 'Clean modal forms in Idenity Groups\n\nChange-Id: I186ed2c31222b1f4a0afef34bfa5d8022eac1740\nPartially-Implements: blueprint form-template-to-view\nPartially-Closes-Bug: #1350953'}, {'number': 4, 'created': '2014-09-25 09:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/78a32f51e83dff844013d62c554669c81742b04c', 'message': 'Clean modal forms in Idenity Groups\n\nChange-Id: I186ed2c31222b1f4a0afef34bfa5d8022eac1740\nPartially-Implements: blueprint form-template-to-view\nPartially-Closes-Bug: #1350953'}, {'number': 5, 'created': '2014-12-04 17:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a2b79df010fa2d528c46a2b9e76805a8a387fc0e', 'message': 'Clean modal forms in Idenity Groups\n\nRefactoring identity groups modals.\n\nChange-Id: I186ed2c31222b1f4a0afef34bfa5d8022eac1740\nPartially-Implements: blueprint form-template-to-view\nPartially-Closes-Bug: #1350953'}, {'number': 6, 'created': '2014-12-04 18:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/897949988faa21be42ffd8acf755596770305785', 'message': 'Clean modal forms in Identity Groups\n\nRefactoring identity groups modals.\n\nChange-Id: I186ed2c31222b1f4a0afef34bfa5d8022eac1740\nPartially-Implements: blueprint form-template-to-view\nPartially-Closes-Bug: #1350953'}, {'number': 7, 'created': '2014-12-04 18:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e96d2ff09a264c20e2dba09f580443c8488f6f93', 'message': 'Clean modal forms in Identity Groups\n\nRefactoring identity groups modals.\nBased on merged patch: https://review.openstack.org/#/c/123472/\n\nChange-Id: I186ed2c31222b1f4a0afef34bfa5d8022eac1740\nPartially-Implements: blueprint form-template-to-view\nPartially-Closes-Bug: #1350953\n'}, {'number': 8, 'created': '2015-01-05 19:57:16.000000000', 'files': ['openstack_dashboard/dashboards/identity/groups/templates/groups/_update.html', 'openstack_dashboard/dashboards/identity/groups/views.py', 'openstack_dashboard/dashboards/identity/groups/templates/groups/_create.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/489f02cc2073e326ee5c1bc4fc08e6e86462d7d3', 'message': 'Clean modal forms in Identity Groups\n\nRefactoring identity groups modals.\nBased on merged patch: https://review.openstack.org/#/c/123472/\n\nChange-Id: I186ed2c31222b1f4a0afef34bfa5d8022eac1740\nPartially-Implements: blueprint form-template-to-view\nPartially-Closes-Bug: #1350953\n'}]",4,123540,489f02cc2073e326ee5c1bc4fc08e6e86462d7d3,39,17,8,9576,,,0,"Clean modal forms in Identity Groups

Refactoring identity groups modals.
Based on merged patch: https://review.openstack.org/#/c/123472/

Change-Id: I186ed2c31222b1f4a0afef34bfa5d8022eac1740
Partially-Implements: blueprint form-template-to-view
Partially-Closes-Bug: #1350953
",git fetch https://review.opendev.org/openstack/horizon refs/changes/40/123540/8 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/identity/groups/templates/groups/_update.html', 'openstack_dashboard/dashboards/identity/groups/views.py', 'openstack_dashboard/dashboards/admin/networks/templates/networks/agents/_add.html', 'openstack_dashboard/dashboards/identity/groups/templates/groups/_create.html', 'openstack_dashboard/dashboards/admin/networks/agents/views.py']",5,ffb0cb7b32938396fdc69d4c9a3d778f1d4b6751,bp/form-template-to-view," form_id = ""add_dhcp_agent_form"" form_action_url = ""horizon:admin:networks:adddhcpagent"" nid = (self.kwargs['network_id'],) context['form_action_url'] = reverse(self.form_action_url, args=nid) context['cancel_url'] = reverse(self.get_cancel_url(), args=nid)", context['network_id'] = self.kwargs['network_id'],25,50
openstack%2Fneutron-lbaas~master~If0dce29a0980206ace9866112be529436194d47e,openstack/neutron-lbaas,master,If0dce29a0980206ace9866112be529436194d47e,oslo: migrate to namespace-less import paths,MERGED,2015-01-14 16:47:07.000000000,2015-02-02 21:12:14.000000000,2015-02-02 21:12:13.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 6854}, {'_account_id': 6951}, {'_account_id': 8124}, {'_account_id': 9656}, {'_account_id': 10980}, {'_account_id': 12040}]","[{'number': 1, 'created': '2015-01-14 16:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/0ca576b0a20396259a1069982bb9bfd51d156142', 'message': 'oslo: migrate to namespace-less import paths\n\nOslo project decided to move away from using oslo.* namespace for all their\nlibraries, so we should migrate to new import path.\n\nThis patch applies new paths for:\n- oslo.config\n- oslo.db\n- oslo.serialization\n- oslo.utils\n\nHacking check will be added in Neutron once all *aas repositories are converted\nto namespace-less imports.\n\nRelated-Bug: #1409733\nChange-Id: If0dce29a0980206ace9866112be529436194d47e\n'}, {'number': 2, 'created': '2015-01-14 16:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/4c6607e63d1cd9350713bebbd0598db764995aa7', 'message': 'oslo: migrate to namespace-less import paths\n\nOslo project decided to move away from using oslo.* namespace for all their\nlibraries, so we should migrate to new import path.\n\nThis patch applies new paths for:\n- oslo.config\n- oslo.db\n- oslo.serialization\n- oslo.utils\n\nHacking check will be added in Neutron once all *aas repositories are converted\nto namespace-less imports.\n\nRelated-Bug: #1409733\nChange-Id: If0dce29a0980206ace9866112be529436194d47e\n'}, {'number': 3, 'created': '2015-01-28 14:18:08.000000000', 'files': ['neutron_lbaas/tests/unit/services/loadbalancer/test_loadbalancer_quota_ext.py', 'neutron_lbaas/db/loadbalancer/loadbalancer_dbv2.py', 'neutron_lbaas/services/loadbalancer/agent/agent_manager.py', 'neutron_lbaas/tests/unit/services/loadbalancer/test_agent_scheduler.py', 'neutron_lbaas/tests/unit/services/loadbalancer/drivers/embrane/test_embrane_defaults.py', 'neutron_lbaas/services/loadbalancer/drivers/radware/driver.py', 'neutron_lbaas/services/loadbalancer/plugin.py', 'requirements.txt', 'neutron_lbaas/services/loadbalancer/drivers/embrane/driver.py', 'neutron_lbaas/tests/unit/services/loadbalancer/drivers/radware/test_plugin_driver.py', 'neutron_lbaas/db/loadbalancer/loadbalancer_db.py', 'neutron_lbaas/services/loadbalancer/drivers/netscaler/ncc_client.py', 'neutron_lbaas/services/loadbalancer/agent/agent.py', 'neutron_lbaas/tests/unit/db/loadbalancer/test_db_loadbalancerv2.py', 'neutron_lbaas/services/loadbalancer/agent/agent_api.py', 'neutron_lbaas/tests/unit/services/loadbalancer/drivers/embrane/test_plugin_driver.py', 'neutron_lbaas/services/loadbalancer/drivers/haproxy/jinja_cfg.py', 'neutron_lbaas/services/loadbalancer/drivers/netscaler/netscaler_driver.py', 'neutron_lbaas/db/migration/alembic_migrations/env.py', 'neutron_lbaas/tests/unit/db/loadbalancer/test_db_loadbalancer.py', 'neutron_lbaas/tests/base.py', 'neutron_lbaas/services/loadbalancer/drivers/common/agent_driver_base.py', 'neutron_lbaas/services/loadbalancer/drivers/embrane/config.py', 'neutron_lbaas/tests/unit/services/loadbalancer/agent/test_agent.py', 'neutron_lbaas/services/loadbalancer/drivers/haproxy/namespace_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/fff9f3787343fca507caffd72ea9779a7a35bfc2', 'message': 'oslo: migrate to namespace-less import paths\n\nOslo project decided to move away from using oslo.* namespace for all their\nlibraries, so we should migrate to new import path.\n\nThis patch applies new paths for:\n- oslo.config\n- oslo.db\n- oslo.messaging\n- oslo.serialization\n- oslo.utils\n\nHacking check will be added in Neutron once all *aas repositories are converted\nto namespace-less imports.\n\nRelated-Bug: #1409733\nChange-Id: If0dce29a0980206ace9866112be529436194d47e\n'}]",0,147245,fff9f3787343fca507caffd72ea9779a7a35bfc2,33,8,3,9656,,,0,"oslo: migrate to namespace-less import paths

Oslo project decided to move away from using oslo.* namespace for all their
libraries, so we should migrate to new import path.

This patch applies new paths for:
- oslo.config
- oslo.db
- oslo.messaging
- oslo.serialization
- oslo.utils

Hacking check will be added in Neutron once all *aas repositories are converted
to namespace-less imports.

Related-Bug: #1409733
Change-Id: If0dce29a0980206ace9866112be529436194d47e
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/45/147245/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas/tests/unit/db/loadbalancer/test_db_loadbalancerv2.py', 'neutron_lbaas/tests/unit/services/loadbalancer/test_loadbalancer_quota_ext.py', 'neutron_lbaas/tests/unit/services/loadbalancer/drivers/embrane/test_plugin_driver.py', 'neutron_lbaas/db/loadbalancer/loadbalancer_dbv2.py', 'neutron_lbaas/services/loadbalancer/agent/agent_manager.py', 'neutron_lbaas/tests/unit/services/loadbalancer/test_agent_scheduler.py', 'neutron_lbaas/services/loadbalancer/drivers/haproxy/jinja_cfg.py', 'neutron_lbaas/services/loadbalancer/drivers/netscaler/netscaler_driver.py', 'neutron_lbaas/tests/unit/services/loadbalancer/drivers/embrane/test_embrane_defaults.py', 'neutron_lbaas/services/loadbalancer/drivers/radware/driver.py', 'neutron_lbaas/db/migration/alembic_migrations/env.py', 'neutron_lbaas/services/loadbalancer/plugin.py', 'neutron_lbaas/tests/unit/db/loadbalancer/test_db_loadbalancer.py', 'neutron_lbaas/tests/base.py', 'neutron_lbaas/services/loadbalancer/drivers/common/agent_driver_base.py', 'neutron_lbaas/services/loadbalancer/drivers/embrane/config.py', 'neutron_lbaas/tests/unit/services/loadbalancer/agent/test_agent.py', 'neutron_lbaas/services/loadbalancer/drivers/embrane/driver.py', 'neutron_lbaas/services/loadbalancer/drivers/haproxy/namespace_driver.py', 'neutron_lbaas/tests/unit/services/loadbalancer/drivers/radware/test_plugin_driver.py', 'neutron_lbaas/db/loadbalancer/loadbalancer_db.py', 'neutron_lbaas/services/loadbalancer/drivers/netscaler/ncc_client.py', 'neutron_lbaas/services/loadbalancer/agent/agent.py']",23,0ca576b0a20396259a1069982bb9bfd51d156142,bug/1409733,from oslo_config import cfg,from oslo.config import cfg,34,34
openstack%2Fopenstack-ansible~master~I3528f5712d5a2d6a15e718516f0dab9ea2c68c27,openstack/openstack-ansible,master,I3528f5712d5a2d6a15e718516f0dab9ea2c68c27,Add functionality to nuke old checks and alarms,MERGED,2015-01-30 16:07:05.000000000,2015-02-02 21:10:56.000000000,2015-02-02 19:01:07.000000000,"[{'_account_id': 3}, {'_account_id': 7219}, {'_account_id': 7307}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 9884}, {'_account_id': 12807}]","[{'number': 1, 'created': '2015-01-30 16:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5a42a6193ad2c393aebcdbf6e550969e9df4f6ed', 'message': 'Add functionality to nuke old alarms\n\nThis commit adds some basic functionality to rpc_maas_tool.py to nuke\nold alarms that should no longer exist.\n\nChange-Id: I3528f5712d5a2d6a15e718516f0dab9ea2c68c27\n'}, {'number': 2, 'created': '2015-01-30 16:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/51b40ed667a90efe66cb2f055a9db227cdafe39b', 'message': 'Add functionality to nuke old alarms\n\nThis commit adds some basic functionality to rpc_maas_tool.py to nuke\nold alarms that should no longer exist.\n\nChange-Id: I3528f5712d5a2d6a15e718516f0dab9ea2c68c27\n'}, {'number': 3, 'created': '2015-01-30 16:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6672896b9ea60637a80804c36c180847691682f9', 'message': 'Add functionality to nuke old alarms\n\nThis commit adds some basic functionality to rpc_maas_tool.py to nuke\nold alarms that should no longer exist.  These include alarms containing:\n\nWSREP_CLUSTER_SIZE\nWSREP_LOCAL_STATE_COMMENT\ndisk_free_alarm\nmem_alarm\n\nWe limit deletion against alarms that also include rabbit_mq_container\nor galera_container.\n\nChange-Id: I3528f5712d5a2d6a15e718516f0dab9ea2c68c27\n'}, {'number': 4, 'created': '2015-01-30 16:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/efdfe7f45e8bc642b578b3cbbaf3c1b082c116b2', 'message': 'Add functionality to nuke old alarms\n\nThis commit adds some basic functionality to rpc_maas_tool.py to nuke\nold alarms that should no longer exist.  These include alarms containing:\n\nWSREP_CLUSTER_SIZE\nWSREP_LOCAL_STATE_COMMENT\ndisk_free_alarm\nmem_alarm\n\nWe limit deletion against alarms that also include rabbit_mq_container\nor galera_container.\n\nChange-Id: I3528f5712d5a2d6a15e718516f0dab9ea2c68c27\n'}, {'number': 5, 'created': '2015-01-30 17:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/db5736544ab5fdb2aa4f6ef58e99a1605cdcba67', 'message': 'Add functionality to nuke old alarms\n\nThis commit adds some basic functionality to rpc_maas_tool.py to nuke\nold alarms that should no longer exist.  These include alarms containing:\n\nWSREP_CLUSTER_SIZE\nWSREP_LOCAL_STATE_COMMENT\ndisk_free_alarm\nmem_alarm\n\nWe limit deletion against alarms that also include rabbit_mq_container\nor galera_container.\n\nCloses-Bug: #1416476\nChange-Id: I3528f5712d5a2d6a15e718516f0dab9ea2c68c27\n'}, {'number': 6, 'created': '2015-01-30 18:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7df7e550f8bb9879c28ff1d722f313a6b1c78199', 'message': 'Add functionality to nuke old alarms\n\nThis commit adds some basic functionality to rpc_maas_tool.py to nuke\nold alarms that should no longer exist.  These include alarms containing:\n\nWSREP_CLUSTER_SIZE\nWSREP_LOCAL_STATE_COMMENT\ndisk_free_alarm\nmem_alarm\n\nWith the above we limit deletion against alarms that also include\nrabbit_mq_container or galera_container.\n\nWe also delete any checks that were created without filesystem patch\nincluded.\n\nCloses-Bug: #1416476\nChange-Id: I3528f5712d5a2d6a15e718516f0dab9ea2c68c27\n'}, {'number': 7, 'created': '2015-01-30 18:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/357fc437557ad2fe152e711d8e4ac1c94e2a5882', 'message': 'Add functionality to nuke old alarms\n\nThis commit adds some basic functionality to rpc_maas_tool.py to nuke\nold alarms that should no longer exist.  These include alarms containing:\n\nWSREP_CLUSTER_SIZE\nWSREP_LOCAL_STATE_COMMENT\ndisk_free_alarm\nmem_alarm\n\nWe limit deletion against alarms that also include\nrabbit_mq_container or galera_container.\n\nWe also delete any checks that were created without filesystem patch\nincluded.  Note that remove-defunct-checks should not be run against\nan icehouse installation as the change to check name was not backported\nthere.\n\nCloses-Bug: #1416476\nChange-Id: I3528f5712d5a2d6a15e718516f0dab9ea2c68c27\n'}, {'number': 8, 'created': '2015-01-30 19:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/390a249db152bb288d53f519d04503e48114b89c', 'message': 'Add functionality to nuke old checks and alarms\n\nThis commit adds some basic functionality to rpc_maas_tool.py to nuke\nold alarms that should no longer exist.  These include alarms containing:\n\nWSREP_CLUSTER_SIZE\nWSREP_LOCAL_STATE_COMMENT\ndisk_free_alarm\nmem_alarm\n\nWe limit deletion against alarms that also include\nrabbit_mq_container or galera_container.\n\nWe also delete any checks that were created without filesystem patch\nincluded.  Note that remove-defunct-checks should not be run against\nan icehouse installation as the change to check name was not backported\nthere.\n\nCloses-Bug: #1416476\nChange-Id: I3528f5712d5a2d6a15e718516f0dab9ea2c68c27\n'}, {'number': 9, 'created': '2015-02-02 11:42:14.000000000', 'files': ['scripts/rpc_maas_tool.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a0e09c0da4fbe009440380ad21974cc9e5119584', 'message': 'Add functionality to nuke old checks and alarms\n\nThis commit adds some basic functionality to rpc_maas_tool.py to nuke\nold alarms that should no longer exist.  These include alarms containing:\n\nWSREP_CLUSTER_SIZE\nWSREP_LOCAL_STATE_COMMENT\ndisk_free_alarm\nmem_alarm\n\nWe limit deletion against alarms that also include\nrabbit_mq_container or galera_container.\n\nWe also delete any checks that were created without filesystem patch\nincluded.  Note that remove-defunct-checks should not be run against\nan icehouse installation as the change to check name was not backported\nthere.\n\nCloses-Bug: #1416476\nChange-Id: I3528f5712d5a2d6a15e718516f0dab9ea2c68c27\n'}]",2,151684,a0e09c0da4fbe009440380ad21974cc9e5119584,36,7,9,7307,,,0,"Add functionality to nuke old checks and alarms

This commit adds some basic functionality to rpc_maas_tool.py to nuke
old alarms that should no longer exist.  These include alarms containing:

WSREP_CLUSTER_SIZE
WSREP_LOCAL_STATE_COMMENT
disk_free_alarm
mem_alarm

We limit deletion against alarms that also include
rabbit_mq_container or galera_container.

We also delete any checks that were created without filesystem patch
included.  Note that remove-defunct-checks should not be run against
an icehouse installation as the change to check name was not backported
there.

Closes-Bug: #1416476
Change-Id: I3528f5712d5a2d6a15e718516f0dab9ea2c68c27
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/84/151684/5 && git format-patch -1 --stdout FETCH_HEAD,['scripts/rpc_maas_tool.py'],1,5a42a6193ad2c393aebcdbf6e550969e9df4f6ed,bug/1416476," elif args.command == 'nuke-old-alarms': nuke_old_alarms(args, conn)def nuke_old_alarms(args, conn): count = 0 defunct_alarms = ['WSREP_CLUSTER_SIZE', 'WSREP_LOCAL_STATE_COMMENT', 'disk_free_alarm', 'mem_alarm'] for entity in _get_entities(args, conn): for alarm in conn.list_alarms(entity): for defunct_alarm in defunct_alarms: if defunct_alarm in alarm.label: print alarm conn.delete_alarm(alarm) count += 1 print ""Number of alarms deleted: %s"" % count choices=['alarms', 'check', 'delete', 'nuke-old-alarms'],"," choices=['alarms', 'check', 'delete'],",19,1
openstack%2Fneutron~master~I0913cfae391164146bbb50ed42311506d6559e3f,openstack/neutron,master,I0913cfae391164146bbb50ed42311506d6559e3f,Encapsulate DVR Fip namespace,MERGED,2015-01-07 19:54:22.000000000,2015-02-02 21:02:03.000000000,2015-02-02 21:02:01.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 4395}, {'_account_id': 4694}, {'_account_id': 5170}, {'_account_id': 6659}, {'_account_id': 6876}, {'_account_id': 7016}, {'_account_id': 7448}, {'_account_id': 8645}, {'_account_id': 8788}, {'_account_id': 9077}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 10971}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-07 19:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/746802b6dea098e9271bfc62a50cd607e6e94d6c', 'message': 'WIP Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host and is managed by the dvr enabled\nagent.  Hence, it should be known to the agent and made available to\nthe DVR routers as well.  This calls for a proper encapsulation of\nthis functionality in a class which can be accessed by both the agent\nand the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 2, 'created': '2015-01-07 20:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1d6c826153775a2fc0f616eb947ba0234474b22d', 'message': 'WIP Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host and is managed by the dvr enabled\nagent.  Hence, it should be known to the agent and made available to\nthe DVR routers as well.  This calls for a proper encapsulation of\nthis functionality in a class which can be accessed by both the agent\nand the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 3, 'created': '2015-01-08 04:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2c0e412c82e4d84ca9657146f61a9b5c65b2496', 'message': 'WIP Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host and is managed by the dvr enabled\nagent.  Hence, it should be known to the agent and made available to\nthe DVR routers as well.  This calls for a proper encapsulation of\nthis functionality in a class which can be accessed by both the agent\nand the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 4, 'created': '2015-01-12 18:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c3a0d374ae28a1b8889ab3b0aaa10df224a77e76', 'message': 'WIP Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host and is managed by the dvr enabled\nagent.  Hence, it should be known to the agent and made available to\nthe DVR routers as well.  This calls for a proper encapsulation of\nthis functionality in a class which can be accessed by both the agent\nand the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 5, 'created': '2015-01-12 23:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a93650705b017a160770c7acd385f444762f48c', 'message': 'WIP Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host and is managed by the dvr enabled\nagent.  Hence, it should be known to the agent and made available to\nthe DVR routers as well.  This calls for a proper encapsulation of\nthis functionality in a class which can be accessed by both the agent\nand the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 6, 'created': '2015-01-13 17:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2052356293fe98e93e36a40ae8c5003521383937', 'message': 'WIP Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host and is managed by the dvr enabled\nagent.  Hence, it should be known to the agent and made available to\nthe DVR routers as well.  This calls for a proper encapsulation of\nthis functionality in a class which can be accessed by both the agent\nand the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 7, 'created': '2015-01-13 18:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d94660eba23d2ce1fd2782d4c8c51046abebe53f', 'message': 'WIP Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host and is managed by the dvr enabled\nagent.  Hence, it should be known to the agent and made available to\nthe DVR routers as well.  This calls for a proper encapsulation of\nthis functionality in a class which can be accessed by both the agent\nand the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 8, 'created': '2015-01-13 22:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d7a0fc8ed247c838538b9b5f37a6da84fa92af8', 'message': 'WIP Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host and is managed by the dvr enabled\nagent.  Hence, it should be known to the agent and made available to\nthe DVR routers as well.  This calls for a proper encapsulation of\nthis functionality in a class which can be accessed by both the agent\nand the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 9, 'created': '2015-01-13 22:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7967de8f13a13f91816a8fe543ae958cdd6b1e2e', 'message': 'Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host connected to the same network.  It\nis managed by the dvr enabled agent.  Hence, it should be known to the\nagent and made available to the DVR routers as well.  This calls for a\nproper encapsulation of this functionality in a class which can be\naccessed by both the agent and the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 10, 'created': '2015-01-14 19:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9d91573836f17d3a6f92ffb074eb346de6249c9a', 'message': 'Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host connected to the same network.  It\nis managed by the dvr enabled agent.  Hence, it should be known to the\nagent and made available to the DVR routers as well.  This calls for a\nproper encapsulation of this functionality in a class which can be\naccessed by both the agent and the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 11, 'created': '2015-01-16 01:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fbed51571e293208b740688505631b6badc1456a', 'message': 'Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host connected to the same network.  It\nis managed by the dvr enabled agent.  Hence, it should be known to the\nagent and made available to the DVR routers as well.  This calls for a\nproper encapsulation of this functionality in a class which can be\naccessed by both the agent and the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 12, 'created': '2015-01-21 20:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8b432c942b0fe68205b2810dc3459a95d31b46f3', 'message': 'Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host connected to the same network.  It\nis managed by the dvr enabled agent.  Hence, it should be known to the\nagent and made available to the DVR routers as well.  This calls for a\nproper encapsulation of this functionality in a class which can be\naccessed by both the agent and the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 13, 'created': '2015-01-23 22:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/59afccbbe449af9fe79a668d69104e93ca231f74', 'message': 'Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host connected to the same network.  It\nis managed by the dvr enabled agent.  Hence, it should be known to the\nagent and made available to the DVR routers as well.  This calls for a\nproper encapsulation of this functionality in a class which can be\naccessed by both the agent and the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 14, 'created': '2015-01-23 22:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f23a0546fbf64d1b7de4b9f32bdec4e8a348420', 'message': 'Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host connected to the same network.  It\nis managed by the dvr enabled agent.  Hence, it should be known to the\nagent and made available to the DVR routers as well.  This calls for a\nproper encapsulation of this functionality in a class which can be\naccessed by both the agent and the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 15, 'created': '2015-01-24 05:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c8bcd0cc13f11a036d17f710be4628738a97b164', 'message': 'Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host connected to the same network.  It\nis managed by the dvr enabled agent.  Hence, it should be known to the\nagent and made available to the DVR routers as well.  This calls for a\nproper encapsulation of this functionality in a class which can be\naccessed by both the agent and the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 16, 'created': '2015-01-26 18:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dac5b7c21fd53ef0dab0226616202fec83a9e507', 'message': 'Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host connected to the same network.  It\nis managed by the dvr enabled agent.  Hence, it should be known to the\nagent and made available to the DVR routers as well.  This calls for a\nproper encapsulation of this functionality in a class which can be\naccessed by both the agent and the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 17, 'created': '2015-01-26 21:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c10b0694525cb08004a852406defd9fe7c2c2e56', 'message': 'Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host connected to the same network.  It\nis managed by the dvr enabled agent.  Hence, it should be known to the\nagent and made available to the DVR routers as well.  This calls for a\nproper encapsulation of this functionality in a class which can be\naccessed by both the agent and the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 18, 'created': '2015-01-27 00:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aada1fa816738a6f92e4654aa97f9eb5b8459424', 'message': 'Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host connected to the same network.  It\nis managed by the dvr enabled agent.  Hence, it should be known to the\nagent and made available to the DVR routers as well.  This calls for a\nproper encapsulation of this functionality in a class which can be\naccessed by both the agent and the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 19, 'created': '2015-01-28 20:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c74e0c7a6428d97eea2ffde78c3bffb596ec938', 'message': 'Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host connected to the same network.  It\nis managed by the dvr enabled agent.  Hence, it should be known to the\nagent and made available to the DVR routers as well.  This calls for a\nproper encapsulation of this functionality in a class which can be\naccessed by both the agent and the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 20, 'created': '2015-01-28 21:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/04f6a189e9d124b789a8a6c3cfe18586cf942cc5', 'message': 'Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host connected to the same network.  It\nis managed by the dvr enabled agent.  Hence, it should be known to the\nagent and made available to the DVR routers as well.  This calls for a\nproper encapsulation of this functionality in a class which can be\naccessed by both the agent and the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 21, 'created': '2015-01-28 22:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5f0943596460fdcfb2f279005518a3aae9eea5b1', 'message': 'Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host connected to the same network.  It\nis managed by the dvr enabled agent.  Hence, it should be known to the\nagent and made available to the DVR routers as well.  This calls for a\nproper encapsulation of this functionality in a class which can be\naccessed by both the agent and the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 22, 'created': '2015-01-29 22:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1bd733008b11165edd0b3b2da36bab98fa66c52a', 'message': 'Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host connected to the same network.  It\nis managed by the dvr enabled agent.  Hence, it should be known to the\nagent and made available to the DVR routers as well.  This calls for a\nproper encapsulation of this functionality in a class which can be\naccessed by both the agent and the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 23, 'created': '2015-01-30 23:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c625efae1f5b4c17b9a21f982eb9058a21eaf52', 'message': 'Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host connected to the same network.  It\nis managed by the dvr enabled agent.  Hence, it should be known to the\nagent and made available to the DVR routers as well.  This calls for a\nproper encapsulation of this functionality in a class which can be\naccessed by both the agent and the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 24, 'created': '2015-01-30 23:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f18f0a1a93786f39fe5373564a23202002e0b8a', 'message': 'Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host connected to the same network.  It\nis managed by the dvr enabled agent.  Hence, it should be known to the\nagent and made available to the DVR routers as well.  This calls for a\nproper encapsulation of this functionality in a class which can be\naccessed by both the agent and the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 25, 'created': '2015-01-30 23:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b7117e269f1a1f1276e6902fcb9ffdc2f03716fd', 'message': 'Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host connected to the same network.  It\nis managed by the dvr enabled agent.  Hence, it should be known to the\nagent and made available to the DVR routers as well.  This calls for a\nproper encapsulation of this functionality in a class which can be\naccessed by both the agent and the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 26, 'created': '2015-01-31 00:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ede517f4d4a5e498628f4c294aea2396eec9319', 'message': 'Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host connected to the same network.  It\nis managed by the dvr enabled agent.  Hence, it should be known to the\nagent and made available to the DVR routers as well.  This calls for a\nproper encapsulation of this functionality in a class which can be\naccessed by both the agent and the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 27, 'created': '2015-01-31 00:03:29.000000000', 'files': ['neutron/tests/unit/agent/test_dvr_fip_ns.py', 'neutron/agent/l3/agent.py', 'neutron/agent/l3/dvr_fip_ns.py', 'neutron/agent/l3/dvr_router.py', 'neutron/tests/functional/agent/test_l3_agent.py', 'neutron/tests/unit/test_l3_agent.py', 'neutron/agent/l3/dvr.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/59795ab607579f2c764fecb33f538dae0124671e', 'message': 'Encapsulate DVR Fip namespace\n\nThe floating ip namespace is an important concept that links a DVR\nenabled L3 agent to DVR routers.  The namespace is shared by all of\nthe dvr routers on a compute host connected to the same network.  It\nis managed by the dvr enabled agent.  Hence, it should be known to the\nagent and made available to the DVR routers as well.  This calls for a\nproper encapsulation of this functionality in a class which can be\naccessed by both the agent and the routers.\n\nIn trying to tease floating ip functionality out of the L3 agent and\nin to the new router classes, I found it very difficult to do because\nthe logic around the floating ip namespace has not yet been properly\nencapsulated.\n\nChange-Id: I0913cfae391164146bbb50ed42311506d6559e3f\nPartially-Implements: bp/restructure-l3-agent\n'}]",57,145565,59795ab607579f2c764fecb33f538dae0124671e,444,32,27,7448,,,0,"Encapsulate DVR Fip namespace

The floating ip namespace is an important concept that links a DVR
enabled L3 agent to DVR routers.  The namespace is shared by all of
the dvr routers on a compute host connected to the same network.  It
is managed by the dvr enabled agent.  Hence, it should be known to the
agent and made available to the DVR routers as well.  This calls for a
proper encapsulation of this functionality in a class which can be
accessed by both the agent and the routers.

In trying to tease floating ip functionality out of the L3 agent and
in to the new router classes, I found it very difficult to do because
the logic around the floating ip namespace has not yet been properly
encapsulated.

Change-Id: I0913cfae391164146bbb50ed42311506d6559e3f
Partially-Implements: bp/restructure-l3-agent
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/145565/23 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/test_dvr_fip_ns.py', 'neutron/agent/l3/agent.py', 'neutron/agent/l3/dvr_fip_ns.py', 'neutron/tests/unit/test_l3_agent.py', 'neutron/agent/l3/dvr.py']",5,746802b6dea098e9271bfc62a50cd607e6e94d6c,bp/restructure-l3-agent,from neutron.agent.l3 import dvr_fip_ns self.fip_ns = dvr_fip_ns.FloatingIpNamespace() is_last = self.fip_ns.unsubscribe(ri.router_id)," self.fip_ns_subscribers = set() def _fip_ns_subscribe(self, router_id): is_first = (len(self.fip_ns_subscribers) == 0) self.fip_ns_subscribers.add(router_id) return is_first def _fip_ns_unsubscribe(self, router_id): self.fip_ns_subscribers.discard(router_id) return len(self.fip_ns_subscribers) == 0 is_last = self._fip_ns_unsubscribe(ri.router_id)",86,52
openstack%2Fmonasca-notification~master~I3bab91aff10b0cf8088e3b39efa4326b7e79ab68,openstack/monasca-notification,master,I3bab91aff10b0cf8088e3b39efa4326b7e79ab68,Stopped logging on every retry for acquiring a lock,ABANDONED,2015-01-23 18:26:07.000000000,2015-02-02 20:55:50.000000000,,"[{'_account_id': 3}, {'_account_id': 11094}, {'_account_id': 11809}, {'_account_id': 12512}, {'_account_id': 14273}]","[{'number': 1, 'created': '2015-01-23 18:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/3bc8e0e53f18ca69a114a405e6f346f32645d20b', 'message': 'Stopped logging on every retry for acquiring a lock\n\nChange-Id: I3bab91aff10b0cf8088e3b39efa4326b7e79ab68\n'}, {'number': 2, 'created': '2015-01-26 21:32:55.000000000', 'files': ['monasca_notification/state_tracker.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/c76a161952b278654595e116ade082bbc7278eea', 'message': 'Stopped logging on every retry for acquiring a lock\n\nChange-Id: I3bab91aff10b0cf8088e3b39efa4326b7e79ab68\n'}]",3,149700,c76a161952b278654595e116ade082bbc7278eea,13,5,2,14517,,,0,"Stopped logging on every retry for acquiring a lock

Change-Id: I3bab91aff10b0cf8088e3b39efa4326b7e79ab68
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/00/149700/2 && git format-patch -1 --stdout FETCH_HEAD,['monasca_notification/state_tracker.py'],1,3bc8e0e53f18ca69a114a405e6f346f32645d20b,jah226," if self.zookeeper.exists(self.lock_path): log.info('Another process has the lock for topic %s, waiting then retrying.' % self.topic)"," log.info('Another process has the lock for topic %s, waiting then retrying.' % self.topic)",2,1
openstack%2Fnova~master~I8d584dd28b3765eb461594da8101a84037f72e6e,openstack/nova,master,I8d584dd28b3765eb461594da8101a84037f72e6e,Adds tests for Hyper-V VHD utils,MERGED,2014-08-06 13:59:10.000000000,2015-02-02 20:53:26.000000000,2015-02-02 20:53:23.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 3185}, {'_account_id': 5170}, {'_account_id': 8213}, {'_account_id': 8412}, {'_account_id': 8543}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 12604}]","[{'number': 1, 'created': '2014-08-06 13:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7c30b7b44d1f07215dec6ac9893dcd6364a3311', 'message': 'Adds tests for Hyper-V VHD utils\n\nAdds unit tests for Hyper-V VHDUtils and VHDUtilsV2 classes.\n\nCo-Authored-By: Cristian Valean <cvalean@cloudbasesolutions.com>\n\nPartial-Bug: #1220256\n\nChange-Id: I8d584dd28b3765eb461594da8101a84037f72e6e\n'}, {'number': 2, 'created': '2014-08-06 15:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ac6ac6c13205d53af7e72297199058c042fcb0f', 'message': 'Adds tests for Hyper-V VHD utils\n\nAdds unit tests for Hyper-V VHDUtils and VHDUtilsV2 classes.\n\nCo-Authored-By: Cristian Valean <cvalean@cloudbasesolutions.com>\n\nPartial-Bug: #1220256\n\nChange-Id: I8d584dd28b3765eb461594da8101a84037f72e6e\n'}, {'number': 3, 'created': '2014-08-26 13:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7eaa22fc1c0ca39e5289e82318095a8f664f3951', 'message': 'Adds tests for Hyper-V VHD utils\n\nAdds unit tests for Hyper-V VHDUtils and VHDUtilsV2 classes.\n\nCo-Authored-By: Cristian Valean <cvalean@cloudbasesolutions.com>\n\nPartial-Bug: #1220256\n\nChange-Id: I8d584dd28b3765eb461594da8101a84037f72e6e\n'}, {'number': 4, 'created': '2014-10-06 14:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2879ddb65b85cf6975f007a2833562688f02bad7', 'message': 'Adds tests for Hyper-V VHD utils\n\nAdds unit tests for Hyper-V VHDUtils and VHDUtilsV2 classes.\n\nCo-Authored-By: Cristian Valean <cvalean@cloudbasesolutions.com>\n\nPartial-Bug: #1220256\n\nChange-Id: I8d584dd28b3765eb461594da8101a84037f72e6e\n'}, {'number': 5, 'created': '2014-10-14 08:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e902d1712faa1ea98d702885fff598d5c85e92bd', 'message': 'Adds tests for Hyper-V VHD utils\n\nAdds unit tests for Hyper-V VHDUtils and VHDUtilsV2 classes.\n\nCo-Authored-By: Cristian Valean <cvalean@cloudbasesolutions.com>\n\nPartial-Bug: #1220256\n\nChange-Id: I8d584dd28b3765eb461594da8101a84037f72e6e\n'}, {'number': 6, 'created': '2014-10-14 11:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1470bd1ad89e2684745d9ffbbf1298d634d335bd', 'message': 'Adds tests for Hyper-V VHD utils\n\nAdds unit tests for Hyper-V VHDUtils and VHDUtilsV2 classes.\n\nCo-Authored-By: Cristian Valean <cvalean@cloudbasesolutions.com>\n\nPartial-Bug: #1220256\n\nChange-Id: I8d584dd28b3765eb461594da8101a84037f72e6e\n'}, {'number': 7, 'created': '2014-10-21 10:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f53af8ccf49911b263308c0624d4fa02cf3eb819', 'message': 'Adds tests for Hyper-V VHD utils\n\nAdds unit tests for Hyper-V VHDUtils and VHDUtilsV2 classes.\n\nCo-Authored-By: Cristian Valean <cvalean@cloudbasesolutions.com>\n\nPartial-Bug: #1220256\n\nChange-Id: I8d584dd28b3765eb461594da8101a84037f72e6e\n'}, {'number': 8, 'created': '2014-11-18 19:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4d48fa84729f3df6ff5268d040125fb78672adc', 'message': 'Adds tests for Hyper-V VHD utils\n\nAdds unit tests for Hyper-V VHDUtils and VHDUtilsV2 classes.\n\nCo-Authored-By: Cristian Valean <cvalean@cloudbasesolutions.com>\n\nPartial-Bug: #1220256\n\nChange-Id: I8d584dd28b3765eb461594da8101a84037f72e6e\n'}, {'number': 9, 'created': '2014-11-21 14:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a4b4fe035435c3a666a2894e522a7a294bfc7cd', 'message': 'Adds tests for Hyper-V VHD utils\n\nAdds unit tests for Hyper-V VHDUtils and VHDUtilsV2 classes.\n\nCo-Authored-By: Cristian Valean <cvalean@cloudbasesolutions.com>\n\nPartial-Bug: #1220256\n\nChange-Id: I8d584dd28b3765eb461594da8101a84037f72e6e\n'}, {'number': 10, 'created': '2014-12-25 17:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98f7305a05fd9ab00045010b532061a9bee08db3', 'message': 'Adds tests for Hyper-V VHD utils\n\nAdds unit tests for Hyper-V VHDUtils and VHDUtilsV2 classes.\n\nCo-Authored-By: Cristian Valean <cvalean@cloudbasesolutions.com>\n\nPartial-Bug: #1220256\n\nChange-Id: I8d584dd28b3765eb461594da8101a84037f72e6e\n'}, {'number': 11, 'created': '2015-01-21 16:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cfbb7c29fb6bd1eeefea16b00f8f038575df2036', 'message': 'Adds tests for Hyper-V VHD utils\n\nAdds unit tests for Hyper-V VHDUtils and VHDUtilsV2 classes.\n\nCo-Authored-By: Cristian Valean <cvalean@cloudbasesolutions.com>\n\nPartial-Bug: #1220256\n\nChange-Id: I8d584dd28b3765eb461594da8101a84037f72e6e\n'}, {'number': 12, 'created': '2015-01-30 16:15:58.000000000', 'files': ['nova/tests/unit/virt/hyperv/test_vhdutils.py', 'nova/tests/unit/virt/hyperv/test_vhdutilsv2.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6e43be36ca9cda0c6e811cacd556ca8d7041cb59', 'message': 'Adds tests for Hyper-V VHD utils\n\nAdds unit tests for Hyper-V VHDUtils and VHDUtilsV2 classes.\n\nCo-Authored-By: Cristian Valean <cvalean@cloudbasesolutions.com>\n\nPartial-Bug: #1220256\n\nChange-Id: I8d584dd28b3765eb461594da8101a84037f72e6e\n'}]",5,112309,6e43be36ca9cda0c6e811cacd556ca8d7041cb59,103,17,12,8213,,,0,"Adds tests for Hyper-V VHD utils

Adds unit tests for Hyper-V VHDUtils and VHDUtilsV2 classes.

Co-Authored-By: Cristian Valean <cvalean@cloudbasesolutions.com>

Partial-Bug: #1220256

Change-Id: I8d584dd28b3765eb461594da8101a84037f72e6e
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/112309/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/virt/hyperv/test_vhdutilsv2.py', 'nova/tests/virt/hyperv/test_vhdutils.py']",2,f7c30b7b44d1f07215dec6ac9893dcd6364a3311,bug/1220256,"from nova.openstack.common import unitsclass VHDUtilsBaseTestCase(test.NoDBTestCase): ""Base Class unit test classes of Hyper-V VHD Utils classes."" _FAKE_TYPE = 3 _FAKE_MAX_INTERNAL_SIZE = units.Gi _FAKE_DYNAMIC_BLK_SIZE = 2097152L _FAKE_BAD_TYPE = 5 super(VHDUtilsBaseTestCase, self).setUp() self._fake_vhd_info_xml = ( '<INSTANCE CLASSNAME=""Msvm_VirtualHardDiskSettingData"">' '<PROPERTY NAME=""BlockSize"" TYPE=""uint32"">' '<VALUE>33554432</VALUE>' '</PROPERTY>' '<PROPERTY NAME=""Caption"" TYPE=""string"">' '<VALUE>Virtual Hard Disk Setting Data</VALUE>' '</PROPERTY>' '<PROPERTY NAME=""Description"" TYPE=""string"">' '<VALUE>Setting Data for a Virtual Hard Disk.</VALUE>' '</PROPERTY>' '<PROPERTY NAME=""ElementName"" TYPE=""string"">' '<VALUE>fake_path.vhdx</VALUE>' '</PROPERTY>' '<PROPERTY NAME=""Format"" TYPE=""uint16"">' '<VALUE>%(format)s</VALUE>' '</PROPERTY>' '<PROPERTY NAME=""InstanceID"" TYPE=""string"">' '<VALUE>52794B89-AC06-4349-AC57-486CAAD52F69</VALUE>' '</PROPERTY>' '<PROPERTY NAME=""LogicalSectorSize"" TYPE=""uint32"">' '<VALUE>4096</VALUE>' '</PROPERTY>' '<PROPERTY NAME=""MaxInternalSize"" TYPE=""uint64"">' '<VALUE>%(max_internal_size)s</VALUE>' '</PROPERTY>' '<PROPERTY NAME=""ParentPath"" TYPE=""string"">' '<VALUE>%(parent_path)s</VALUE>' '</PROPERTY>' '<PROPERTY NAME=""Path"" TYPE=""string"">' '<VALUE>%(path)s</VALUE>' '</PROPERTY>' '<PROPERTY NAME=""PhysicalSectorSize"" TYPE=""uint32"">' '<VALUE>4096</VALUE>' '</PROPERTY>' '<PROPERTY NAME=""Type"" TYPE=""uint16"">' '<VALUE>%(type)s</VALUE>' '</PROPERTY>' '</INSTANCE>' % {'path': self._FAKE_VHD_PATH, 'parent_path': self._FAKE_PARENT_PATH, 'format': self._FAKE_FORMAT, 'max_internal_size': self._FAKE_MAX_INTERNAL_SIZE, 'type': self._FAKE_TYPE}) class VHDUtilsTestCase(VHDUtilsBaseTestCase): """"""Unit tests for the Hyper-V VHDUtils class."""""" def setUp(self): super(VHDUtilsTestCase, self).setUp() self._fake_vhd_info = { 'ParentPath': self._FAKE_PARENT_PATH, 'MaxInternalSize': self._FAKE_MAX_INTERNAL_SIZE, 'Type': self._FAKE_TYPE} def test_validate_vhd(self): mock_img_svc = self._vhdutils._conn.Msvm_ImageManagementService()[0] mock_img_svc.ValidateVirtualHardDisk.return_value = ( self._FAKE_JOB_PATH, self._FAKE_RET_VAL) self._vhdutils.validate_vhd(self._FAKE_VHD_PATH) mock_img_svc.ValidateVirtualHardDisk.assert_called_once_with( Path=self._FAKE_VHD_PATH) def test_get_vhd_info(self): self._mock_get_vhd_info() vhd_info = self._vhdutils.get_vhd_info(self._FAKE_VHD_PATH) self.assertEqual(self._fake_vhd_info, vhd_info) def _mock_get_vhd_info(self): mock_img_svc = self._vhdutils._conn.Msvm_ImageManagementService()[0] mock_img_svc.GetVirtualHardDiskInfo.return_value = ( self._fake_vhd_info_xml, self._FAKE_JOB_PATH, self._FAKE_RET_VAL) self._FAKE_MAX_INTERNAL_SIZE, MaxInternalSize=self._FAKE_MAX_INTERNAL_SIZE) self._vhdutils._vmutils.check_ret_val.assert_called_once_with( self._FAKE_RET_VAL, self._FAKE_JOB_PATH) def test_reconnect_parent_vhd(self): mock_img_svc = self._vhdutils._conn.Msvm_ImageManagementService()[0] mock_img_svc.ReconnectParentVirtualHardDisk.return_value = ( self._FAKE_JOB_PATH, self._FAKE_RET_VAL) self._vhdutils.reconnect_parent_vhd(self._FAKE_VHD_PATH, self._FAKE_PARENT_PATH) mock_img_svc.ReconnectParentVirtualHardDisk.assert_called_once_with( ChildPath=self._FAKE_VHD_PATH, ParentPath=self._FAKE_PARENT_PATH, Force=True) self._vhdutils._vmutils.check_ret_val.assert_called_once_with( self._FAKE_RET_VAL, self._FAKE_JOB_PATH) def test_merge_vhd(self): mock_img_svc = self._vhdutils._conn.Msvm_ImageManagementService()[0] mock_img_svc.MergeVirtualHardDisk.return_value = ( self._FAKE_JOB_PATH, self._FAKE_RET_VAL) self._vhdutils.merge_vhd(self._FAKE_VHD_PATH, self._FAKE_VHD_PATH) mock_img_svc.MergeVirtualHardDisk.assert_called_once_with( SourcePath=self._FAKE_VHD_PATH, DestinationPath=self._FAKE_VHD_PATH) self._vhdutils._vmutils.check_ret_val.assert_called_once_with( self._FAKE_RET_VAL, self._FAKE_JOB_PATH) def test_resize_vhd(self): mock_img_svc = self._vhdutils._conn.Msvm_ImageManagementService()[0] mock_img_svc.ExpandVirtualHardDisk.return_value = ( self._FAKE_JOB_PATH, self._FAKE_RET_VAL) self._vhdutils.get_internal_vhd_size_by_file_size = mock.MagicMock( return_value=self._FAKE_MAX_INTERNAL_SIZE) self._vhdutils.resize_vhd(self._FAKE_VHD_PATH, self._FAKE_MAX_INTERNAL_SIZE) mock_img_svc.ExpandVirtualHardDisk.assert_called_once_with( Path=self._FAKE_VHD_PATH, MaxInternalSize=self._FAKE_MAX_INTERNAL_SIZE) self._vhdutils._vmutils.check_ret_val.assert_called_once_with( self._FAKE_RET_VAL, self._FAKE_JOB_PATH) def _mocked_get_internal_vhd_size(self, root_vhd_size, vhd_type): mock_get_vhd_info = mock.MagicMock(return_value={'Type': vhd_type}) mock_get_blk_size = mock.MagicMock( return_value=self._FAKE_DYNAMIC_BLK_SIZE) with mock.patch.multiple(self._vhdutils, get_vhd_info=mock_get_vhd_info, _get_vhd_dynamic_blk_size=mock_get_blk_size): return self._vhdutils.get_internal_vhd_size_by_file_size( None, root_vhd_size) real_size = self._mocked_get_internal_vhd_size( root_vhd_size, constants.VHD_TYPE_FIXED) real_size = self._mocked_get_internal_vhd_size( root_vhd_size, constants.VHD_TYPE_DYNAMIC) def test_get_supported_vhd_format(self): format = self._vhdutils.get_best_supported_vhd_format() self.assertEqual(constants.DISK_FORMAT_VHD, format)","class VHDUtilsTestCase(test.NoDBTestCase): """"""Unit tests for the Hyper-V VHDUtils class."""""" _FAKE_MAK_INTERNAL_SIZE = 1000 super(VHDUtilsTestCase, self).setUp() self._FAKE_MAK_INTERNAL_SIZE, MaxInternalSize=self._FAKE_MAK_INTERNAL_SIZE) vhdutil = vhdutils.VHDUtils() vhdutil.get_vhd_info = mock.MagicMock() vhdutil.get_vhd_info.return_value = {'Type': constants.VHD_TYPE_FIXED} real_size = vhdutil.get_internal_vhd_size_by_file_size(None, root_vhd_size) vhdutil = vhdutils.VHDUtils() vhdutil.get_vhd_info = mock.MagicMock() vhdutil.get_vhd_info.return_value = {'Type': constants.VHD_TYPE_DYNAMIC} vhdutil._get_vhd_dynamic_blk_size = mock.MagicMock() vhdutil._get_vhd_dynamic_blk_size.return_value = 2097152 real_size = vhdutil.get_internal_vhd_size_by_file_size(None, root_vhd_size)",193,101
openstack%2Fnova~master~I48d2351733560c7cbbb22ae609809417b293c000,openstack/nova,master,I48d2351733560c7cbbb22ae609809417b293c000,VMware: improve the performance of list_instances,MERGED,2014-12-29 08:37:51.000000000,2015-02-02 20:52:43.000000000,2015-02-02 20:52:39.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10618}]","[{'number': 1, 'created': '2014-12-29 08:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/666e3e4db04a317b9e1dfc32aa176b0354840f93', 'message': 'VMware: improve the performance of list_instances\n\nSave a iteration on the loop.\n\nTrivialFix\n\nChange-Id: I48d2351733560c7cbbb22ae609809417b293c000\n'}, {'number': 2, 'created': '2014-12-29 10:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77f878805021ab730bc1a47cb259e805bb732246', 'message': 'VMware: improve the performance of list_instances\n\nSave a iteration on the loop.\n\nTrivialFix\n\nChange-Id: I48d2351733560c7cbbb22ae609809417b293c000\n'}, {'number': 3, 'created': '2014-12-30 10:26:01.000000000', 'files': ['nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/driver.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dfc96e5b4d765674e6a612bf4875d9c2ac1af547', 'message': 'VMware: improve the performance of list_instances\n\nSave a iteration on the loop.\n\nTrivialFix\n\nChange-Id: I48d2351733560c7cbbb22ae609809417b293c000\n'}]",2,144268,dfc96e5b4d765674e6a612bf4875d9c2ac1af547,32,11,3,1653,,,0,"VMware: improve the performance of list_instances

Save a iteration on the loop.

TrivialFix

Change-Id: I48d2351733560c7cbbb22ae609809417b293c000
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/144268/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/driver.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py']",4,666e3e4db04a317b9e1dfc32aa176b0354840f93,save-loop, fake_objects.add_object(vmwareapi_fake.VirtualMachine( name=uuidutils.generate_uuid())) fake_objects.add_object(vmwareapi_fake.VirtualMachine( name=uuidutils.generate_uuid())) fake_objects.add_object(vmwareapi_fake.VirtualMachine( name=uuidutils.generate_uuid())) fake_objects.add_object(vmwareapi_fake.VirtualMachine( name=uuidutils.generate_uuid())) invalid_vm1 = vmwareapi_fake.VirtualMachine( name=uuidutils.generate_uuid()) invalid_vm2 = vmwareapi_fake.VirtualMachine( name=uuidutils.generate_uuid()), fake_objects.add_object(vmwareapi_fake.VirtualMachine()) fake_objects.add_object(vmwareapi_fake.VirtualMachine()) fake_objects.add_object(vmwareapi_fake.VirtualMachine()) fake_objects.add_object(vmwareapi_fake.VirtualMachine()) invalid_vm1 = vmwareapi_fake.VirtualMachine() invalid_vm2 = vmwareapi_fake.VirtualMachine(),21,13
openstack%2Fnova~master~I432d96d54d2044493804332b2e6829195fcf82f3,openstack/nova,master,I432d96d54d2044493804332b2e6829195fcf82f3,Merge evacuate extension tests in test_evacuate,MERGED,2015-01-21 08:34:32.000000000,2015-02-02 20:52:22.000000000,2015-02-02 20:52:19.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-21 08:34:32.000000000', 'files': ['nova/tests/unit/api/openstack/compute/contrib/test_evacuate.py', 'nova/tests/unit/api/openstack/compute/contrib/test_extended_evacuate_find_host.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c6e5ff42db89312eaa7525e009d4082dc62f93cd', 'message': 'Merge evacuate extension tests in test_evacuate\n\nIn API unit testing, making call through WSGI is little bit overhead,\nwherever applicable, unit tests can make direct call to controller\nmethods.\n\ntest_extended_evacuate_find_host use wsgi_app for evacuate extension\ntests. Those tests can be merged in test_evacuate which use controller\nmethod directly.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I432d96d54d2044493804332b2e6829195fcf82f3\n'}]",0,148835,c6e5ff42db89312eaa7525e009d4082dc62f93cd,11,7,1,8556,,,0,"Merge evacuate extension tests in test_evacuate

In API unit testing, making call through WSGI is little bit overhead,
wherever applicable, unit tests can make direct call to controller
methods.

test_extended_evacuate_find_host use wsgi_app for evacuate extension
tests. Those tests can be merged in test_evacuate which use controller
method directly.

Partially implements blueprint v2-on-v3-api

Change-Id: I432d96d54d2044493804332b2e6829195fcf82f3
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/148835/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/contrib/test_evacuate.py', 'nova/tests/unit/api/openstack/compute/contrib/test_extended_evacuate_find_host.py']",2,c6e5ff42db89312eaa7525e009d4082dc62f93cd,bp/v2-on-v3-api,,"# Copyright 2013 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import uuid import mock from oslo.serialization import jsonutils import webob from nova.compute import vm_states from nova import context from nova.objects import instance as instance_obj from nova import test from nova.tests.unit.api.openstack import fakes from nova.tests.unit import fake_instance class ExtendedEvacuateFindHostTest(test.NoDBTestCase): def setUp(self): super(ExtendedEvacuateFindHostTest, self).setUp() self.flags( osapi_compute_extension=[ 'nova.api.openstack.compute.contrib.select_extensions'], osapi_compute_ext_list=['Extended_evacuate_find_host', 'Evacuate']) self.UUID = uuid.uuid4() def _get_admin_context(self, user_id='fake', project_id='fake'): ctxt = context.get_admin_context() ctxt.user_id = user_id ctxt.project_id = project_id return ctxt def _fake_compute_api(*args, **kwargs): return True def _fake_compute_api_get(self, context, instance_id, **kwargs): instance = fake_instance.fake_db_instance(id=1, uuid=uuid, task_state=None, host='host1', vm_state=vm_states.ACTIVE) instance = instance_obj.Instance._from_db_object(context, instance_obj.Instance(), instance) return instance def _fake_service_get_by_compute_host(self, context, host): return {'host_name': host, 'service': 'compute', 'zone': 'nova' } @mock.patch('nova.compute.api.HostAPI.service_get_by_compute_host') @mock.patch('nova.compute.api.API.get') @mock.patch('nova.compute.api.API.evacuate') def test_evacuate_instance_with_no_target(self, evacuate_mock, api_get_mock, service_get_mock): service_get_mock.side_effects = self._fake_service_get_by_compute_host api_get_mock.side_effects = self._fake_compute_api_get evacuate_mock.side_effects = self._fake_compute_api ctxt = self._get_admin_context() app = fakes.wsgi_app(fake_auth_context=ctxt) req = webob.Request.blank('/v2/fake/servers/%s/action' % self.UUID) req.method = 'POST' req.body = jsonutils.dumps({ 'evacuate': { 'onSharedStorage': 'False', 'adminPass': 'MyNewPass' } }) req.content_type = 'application/json' res = req.get_response(app) self.assertEqual(200, res.status_int) evacuate_mock.assert_called_once_with(mock.ANY, mock.ANY, None, mock.ANY, mock.ANY) @mock.patch('nova.compute.api.HostAPI.service_get_by_compute_host') @mock.patch('nova.compute.api.API.get') def test_no_target_fails_if_extension_not_loaded(self, api_get_mock, service_get_mock): self.flags( osapi_compute_extension=[ 'nova.api.openstack.compute.contrib.select_extensions'], osapi_compute_ext_list=['Evacuate']) service_get_mock.side_effects = self._fake_service_get_by_compute_host api_get_mock.side_effects = self._fake_compute_api_get ctxt = self._get_admin_context() app = fakes.wsgi_app(fake_auth_context=ctxt) req = webob.Request.blank('/v2/fake/servers/%s/action' % self.UUID) req.method = 'POST' req.body = jsonutils.dumps({ 'evacuate': { 'onSharedStorage': 'False', 'adminPass': 'MyNewPass' } }) req.content_type = 'application/json' res = req.get_response(app) self.assertEqual(400, res.status_int) ",14,120
openstack%2Fnova~master~I530e18adc0794873de45e6232abdd093f82f82fe,openstack/nova,master,I530e18adc0794873de45e6232abdd093f82f82fe,Hyper-V: Fix retrieving console logs on live migration,MERGED,2014-12-04 11:33:18.000000000,2015-02-02 20:51:59.000000000,2015-02-02 20:51:55.000000000,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 3185}, {'_account_id': 5170}, {'_account_id': 8213}, {'_account_id': 8247}, {'_account_id': 8543}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10267}, {'_account_id': 10385}, {'_account_id': 12604}]","[{'number': 1, 'created': '2014-12-04 11:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39ddbd49157cde751cfdebfc9e09bd9d100af56c', 'message': 'Hyper-V: Fix retrieving console logs on live migration\n\nDue to a small nit, the VM console log files are not copied properly\nduring live migration.\n\nThis patch fixes the issue, removing as well two unused arguments.\n\nCloses-Bug: #1399127\nChange-Id: I530e18adc0794873de45e6232abdd093f82f82fe\n'}, {'number': 2, 'created': '2014-12-04 13:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a16e192911c5b979732f223ad18d07b81aca615d', 'message': 'Hyper-V: Fix retrieving console logs on live migration\n\nDue to a small nit, the VM console log files are not copied properly\nduring live migration.\n\nThis patch fixes the issue, removing as well two unused arguments.\n\nCloses-Bug: #1399127\nChange-Id: I530e18adc0794873de45e6232abdd093f82f82fe\n'}, {'number': 3, 'created': '2014-12-12 10:43:44.000000000', 'files': ['nova/tests/unit/virt/hyperv/test_vmops.py', 'nova/virt/hyperv/ioutils.py', 'nova/virt/hyperv/vmops.py', 'nova/tests/unit/virt/hyperv/test_ioutils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a1fdbca80a1cbd18791c2cbbdd902753a782c38a', 'message': 'Hyper-V: Fix retrieving console logs on live migration\n\nDue to a small nit, the VM console log files are not copied properly\nduring live migration.\n\nThis patch fixes the issue, removing as well two unused arguments.\n\nCloses-Bug: #1399127\nChange-Id: I530e18adc0794873de45e6232abdd093f82f82fe\n'}]",0,139021,a1fdbca80a1cbd18791c2cbbdd902753a782c38a,34,14,3,8543,,,0,"Hyper-V: Fix retrieving console logs on live migration

Due to a small nit, the VM console log files are not copied properly
during live migration.

This patch fixes the issue, removing as well two unused arguments.

Closes-Bug: #1399127
Change-Id: I530e18adc0794873de45e6232abdd093f82f82fe
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/139021/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/hyperv/test_vmops.py', 'nova/virt/hyperv/ioutils.py', 'nova/virt/hyperv/vmops.py']",3,39ddbd49157cde751cfdebfc9e09bd9d100af56c,bug/1399127," for local_log_path, remote_log_path in zip(local_log_paths, remote_log_paths):"," for local_log_path, remote_log_path in (local_log_paths, remote_log_paths):",28,3
openstack%2Ffuel-library~stable%2F6.0~Ie405fe2d384d9d8375f60ad2c3c9885f41fe6d49,openstack/fuel-library,stable/6.0,Ie405fe2d384d9d8375f60ad2c3c9885f41fe6d49,Use haproxy's http-server-close by default,MERGED,2015-02-02 09:24:42.000000000,2015-02-02 20:51:09.000000000,2015-02-02 20:51:08.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9546}, {'_account_id': 11090}, {'_account_id': 11827}, {'_account_id': 13343}, {'_account_id': 13344}]","[{'number': 1, 'created': '2015-02-02 09:24:42.000000000', 'files': ['deployment/puppet/cluster/manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/f41f594850fb8ced89a2a29649cd478492d2b29b', 'message': ""Use haproxy's http-server-close by default\n\nAt load, haproxy begins accumulating a large number of connections to\nbackend services stuck in TIME_WAIT state. Eventually, this leads to\nstalled requests to OpenStack API services. http-server-close solves\nthat problem.\n\nChange-Id: Ie405fe2d384d9d8375f60ad2c3c9885f41fe6d49\nCloses-Bug: 1413104\n(cherry picked from commit 6c6bfc35f779774141274579b948280518f57e2d)\n""}]",0,152059,f41f594850fb8ced89a2a29649cd478492d2b29b,10,10,1,13948,,,0,"Use haproxy's http-server-close by default

At load, haproxy begins accumulating a large number of connections to
backend services stuck in TIME_WAIT state. Eventually, this leads to
stalled requests to OpenStack API services. http-server-close solves
that problem.

Change-Id: Ie405fe2d384d9d8375f60ad2c3c9885f41fe6d49
Closes-Bug: 1413104
(cherry picked from commit 6c6bfc35f779774141274579b948280518f57e2d)
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/59/152059/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/cluster/manifests/haproxy.pp'],1,f41f594850fb8ced89a2a29649cd478492d2b29b,," {'mode' => 'http'}, {'option' => 'http-server-close'} ),"," {'mode' => 'http'}),",3,1
openstack%2Fpython-novaclient~master~I421edcaf18bf8536d5e43f71db6e868868154be3,openstack/python-novaclient,master,I421edcaf18bf8536d5e43f71db6e868868154be3,Refer to the admin password consistently,MERGED,2015-01-28 23:10:15.000000000,2015-02-02 20:49:57.000000000,2015-02-02 20:49:54.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 2750}, {'_account_id': 4690}, {'_account_id': 7400}, {'_account_id': 7634}, {'_account_id': 9452}]","[{'number': 1, 'created': '2015-01-28 23:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/57d39ddfa319a68f78bde066db6af61e3d8ce077', 'message': 'Refer to the admin password consistently\n\n The docstrings refer to instance passwords as the admin password, root\npassword, or simply as ""password"". That makes documentation difficult to\nunderstand. I\'ve cleaned things up where appropriate.\n I did not change the \'root-password\' command in this patch, im planning\nto do that in a separate patch.\n\nCleaning that up to have everything\nrefer to the instance password as ""admin password"" for clarity.\n\nChange-Id: I421edcaf18bf8536d5e43f71db6e868868154be3\n'}, {'number': 2, 'created': '2015-01-29 00:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/905f703ce942723bf5ad5967c0472abfc69ab6a5', 'message': 'Refer to the admin password consistently\n\n The docstrings refer to instance passwords as the admin password, root\npassword, or simply as ""password"". That makes documentation difficult to\nunderstand. I\'ve cleaned things up where appropriate.\n I did not change the \'root-password\' command in this patch, im planning\nto do that in a separate patch.\n\nCleaning that up to have everything\nrefer to the instance password as ""admin password"" for clarity.\n\nChange-Id: I421edcaf18bf8536d5e43f71db6e868868154be3\n'}, {'number': 3, 'created': '2015-02-02 19:28:50.000000000', 'files': ['novaclient/tests/unit/test_shell.py', 'novaclient/v1_1/servers.py', 'novaclient/v1_1/shell.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/a5ea58fec9f655e0ddc1a341f3e27086bf0eaa4b', 'message': 'Refer to the admin password consistently\n\n The docstrings refer to instance passwords as the admin password, root\npassword, or simply as ""password"". That makes documentation difficult to\nunderstand. I\'ve cleaned things up where appropriate.\n I did not change the \'root-password\' command in this patch, im planning\nto do that in a separate patch.\n\nCleaning that up to have everything\nrefer to the instance password as ""admin password"" for clarity.\n\nChange-Id: I421edcaf18bf8536d5e43f71db6e868868154be3\n'}]",8,151031,a5ea58fec9f655e0ddc1a341f3e27086bf0eaa4b,18,7,3,9452,,,0,"Refer to the admin password consistently

 The docstrings refer to instance passwords as the admin password, root
password, or simply as ""password"". That makes documentation difficult to
understand. I've cleaned things up where appropriate.
 I did not change the 'root-password' command in this patch, im planning
to do that in a separate patch.

Cleaning that up to have everything
refer to the instance password as ""admin password"" for clarity.

Change-Id: I421edcaf18bf8536d5e43f71db6e868868154be3
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/31/151031/1 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/tests/test_shell.py', 'novaclient/v1_1/servers.py', 'novaclient/v1_1/shell.py']",3,57d39ddfa319a68f78bde066db6af61e3d8ce077,rebuild_password_description," help=_(""Set the provided admin password on the rebuilt server."")) Change the root/admin password for a server. """"""Get the admin password for a server."""""" """"""Clear the admin password for a server."""""" help=_(""Set the provided admin password on the evacuated server. Not"" "" applicable with on-shared-storage flag""))"," help=_(""Set the provided password on the rebuild server."")) Change the root password for a server. """"""Get password for a server."""""" """"""Clear password for a server."""""" help=_(""Set the provided password on the evacuated server. Not applicable "" ""with on-shared-storage flag""))",28,20
openstack%2Ffuel-library~master~I3b5e905a99390b70a2f2dae3fb6f6ff6c6aaf3b2,openstack/fuel-library,master,I3b5e905a99390b70a2f2dae3fb6f6ff6c6aaf3b2,Use pacemaker puppet module instead of corosync for unit testing,MERGED,2015-01-29 12:24:21.000000000,2015-02-02 20:44:44.000000000,2015-02-02 20:44:44.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 11090}]","[{'number': 1, 'created': '2015-01-29 12:24:21.000000000', 'files': ['deployment/puppet/vmware/.fixtures.yml'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/4646835758a4f9b352048194b2b2ea0f4218258a', 'message': ""Use pacemaker puppet module instead of corosync for unit testing\n\n- commit 7a75e103af120b8bd7c509dba1d63ce3d4c95b67 moved 'cs_resource'\n  puppet type definition from corosync/lib/puppet/parser to\n  pacemaker/lib/puppet/parser this breaks all unit tests, because during\n  test run rake copies modules mentioned in .fixtures.yml into\n  spec/fixtures/modules directory and then runs test suite; right now\n  tests fail due to absence of cs_resource definition, becase pacemaker\n  module is not copied into fixtures/ directory\n\nChange-Id: I3b5e905a99390b70a2f2dae3fb6f6ff6c6aaf3b2\n""}]",0,151201,4646835758a4f9b352048194b2b2ea0f4218258a,15,5,1,11427,,,0,"Use pacemaker puppet module instead of corosync for unit testing

- commit 7a75e103af120b8bd7c509dba1d63ce3d4c95b67 moved 'cs_resource'
  puppet type definition from corosync/lib/puppet/parser to
  pacemaker/lib/puppet/parser this breaks all unit tests, because during
  test run rake copies modules mentioned in .fixtures.yml into
  spec/fixtures/modules directory and then runs test suite; right now
  tests fail due to absence of cs_resource definition, becase pacemaker
  module is not copied into fixtures/ directory

Change-Id: I3b5e905a99390b70a2f2dae3fb6f6ff6c6aaf3b2
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/01/151201/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/vmware/.fixtures.yml'],1,4646835758a4f9b352048194b2b2ea0f4218258a,," pacemaker: ""#{source_dir}/../pacemaker"""," corosync: ""#{source_dir}/../corosync""",1,1
openstack%2Fcongress-specs~master~I092f56817d1634fe39d85ace88876318d361062c,openstack/congress-specs,master,I092f56817d1634fe39d85ace88876318d361062c,Implements: blueprint dse-control-bus,MERGED,2015-01-14 02:16:53.000000000,2015-02-02 20:37:52.000000000,2015-02-02 20:37:51.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 6923}, {'_account_id': 8215}, {'_account_id': 9253}]","[{'number': 1, 'created': '2015-01-14 02:16:53.000000000', 'files': ['specs/kilo/dse-control-bus.rst'], 'web_link': 'https://opendev.org/openstack/congress-specs/commit/5a1d6ed6879b6bc6af9c3b8742ebea7556c04f6e', 'message': 'Implements: blueprint dse-control-bus\n\nChange-Id: I092f56817d1634fe39d85ace88876318d361062c\n'}]",1,147051,5a1d6ed6879b6bc6af9c3b8742ebea7556c04f6e,11,5,1,11153,,,0,"Implements: blueprint dse-control-bus

Change-Id: I092f56817d1634fe39d85ace88876318d361062c
",git fetch https://review.opendev.org/openstack/congress-specs refs/changes/51/147051/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/dse-control-bus.rst'],1,5a1d6ed6879b6bc6af9c3b8742ebea7556c04f6e,bp/dse-control-bus,"the DSE should publish events on a well-known ""collections registry,” that every* All instances of deepSix will subscribe to a well-known table, which we will refer to as the ‘collection registry’. instance startup), the instance will publish an update to the collection registry. * Each deepsix instance will maintain a list of it’s data_indexes that it has a desired subscription for. The instance will do a lookup in it’s local copy of the collection registry to find associated endpoints to send subscription requests to. As changes occur to the collection registry, each instance will re-evaluate it’s own subscriptions against these updates. * There is a collection registry per instance of the DSE. In a hierarchical DSE, there could be multiple registries. * The periodic broadcast of data_index information can be removed after these changes.","the DSE should publish events on a well-known ""control"" bus, that every* All instances of deepSix will subscribe to a well-known data_index key, which we will refer to as the 'control bus'. instance startup), the instance will publish the update on the control bus. * When a deepSix instance needs to identify endpoints for a given key, it will send an information request on the control bus. All nodes publishing data matching the request will respond on the control bus. * The periodic broadcast of data_index information can then be removed.",15,8
openstack%2Fcongress-specs~master~I7c4734b157e42d61ecba9a371818c249111649eb,openstack/congress-specs,master,I7c4734b157e42d61ecba9a371818c249111649eb,Add control bus to DSE,MERGED,2014-11-15 01:45:37.000000000,2015-02-02 20:37:09.000000000,2015-02-02 20:37:08.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 8215}, {'_account_id': 11153}]","[{'number': 1, 'created': '2014-11-15 01:45:37.000000000', 'files': ['specs/kilo/dse-control-bus.rst'], 'web_link': 'https://opendev.org/openstack/congress-specs/commit/366ffc3d0d5a1aa5ee97cf99f918da3d9ddece74', 'message': 'Add control bus to DSE\n\nCurrently, the DSE monitors component lifecycles using periodic\nbroadcasts and timers. This spec aims to place control traffic on a\nwell-known topic on the message bus.\n\nChange-Id: I7c4734b157e42d61ecba9a371818c249111649eb\n'}]",1,134686,366ffc3d0d5a1aa5ee97cf99f918da3d9ddece74,8,4,1,9253,,,0,"Add control bus to DSE

Currently, the DSE monitors component lifecycles using periodic
broadcasts and timers. This spec aims to place control traffic on a
well-known topic on the message bus.

Change-Id: I7c4734b157e42d61ecba9a371818c249111649eb
",git fetch https://review.opendev.org/openstack/congress-specs refs/changes/86/134686/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/dse-control-bus.rst'],1,366ffc3d0d5a1aa5ee97cf99f918da3d9ddece74,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================== Add Control Bus to DSE ====================== https://blueprints.launchpad.net/congress/+spec/dse-control-bus Nodes participating on the data services engine (DSE) bus need a means of discovering each other and their exposed data types. Currently a periodic broadcast mechanism is used for this purpose. While effective, these broadcasts are inefficient, and complicate debugging. Instead of using the exiting broadcast-based discovery mechanism, nodes on the DSE should publish events on a well-known ""control"" bus, that every node subscribes to. Problem description =================== Distribution of DSE endpoint information is currently performed using an inefficient broadcast mechanism. Instead, this information should be delivered only when changes occur, or when specifically requested. Proposed change =============== * All instances of deepSix will subscribe to a well-known data_index key, which we will refer to as the 'control bus'. * When the data indexes exposed by a deepSix instance changes (including instance startup), the instance will publish the update on the control bus. * When a deepSix instance needs to identify endpoints for a given key, it will send an information request on the control bus. All nodes publishing data matching the request will respond on the control bus. * The periodic broadcast of data_index information can then be removed. Alternatives ------------ We can continue to use the existing mechanism as an alternative, but difficulties with inefficiencies and complex debugging will grow substantially as the number of nodes on the bus increases. Policy ------ N/A Policy Actions -------------- N/A Data Sources ------------ N/A Data model impact ----------------- N/A REST API impact --------------- N/A Security impact --------------- N/A Notifications impact -------------------- N/A Other end user impact --------------------- N/A Performance Impact ------------------ At runtime, this change will reduce the time it takes to distribute information about new nodes in the system. It will also reduce the overall ""chatter"" on the bus by eliminating unnecessary broadcasts. We anticipate the reduction in chatter will greatly simplify debugging the message bus. Other Deployer Impacts ---------------------- N/A Developer Impact ---------------- N/A Implementation ============== Assignee(s) ----------- Primary assignee: None Other contributors: None Work Items ---------- TBD Dependencies ============ N/A Testing ======= The existing testing framework is sufficient to test to change. Documentation Impact ==================== N/A References ========== N/A ",,161,0
openstack%2Fnova~master~I76f918a579621c860a8840c3689add0173448282,openstack/nova,master,I76f918a579621c860a8840c3689add0173448282,Added _get_volume_driver method in libvirt driver,MERGED,2015-01-12 09:06:48.000000000,2015-02-02 20:33:59.000000000,2015-02-02 20:33:56.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-12 09:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/daddce370331458c09021b6f44bc1e21609acd5b', 'message': 'Added _get_volume_driver method in libvirt driver\n\nAvoided duplication of code for extracting the volume driver in the\nlibvirt driver, by introducing _get_volume_driver method.\n\nChange-Id: I76f918a579621c860a8840c3689add0173448282\n'}, {'number': 2, 'created': '2015-01-12 17:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0d2cbd0256f13c7db2a42306cdc59cd101acef8', 'message': 'Added _get_volume_driver method in libvirt driver\n\nAvoided duplication of code for extracting the volume driver in the\nlibvirt driver, by introducing _get_volume_driver method.\n\nChange-Id: I76f918a579621c860a8840c3689add0173448282\n'}, {'number': 3, 'created': '2015-01-12 18:14:45.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bf01bf89ab7a9277aa9bfa7c063cbdea74381061', 'message': 'Added _get_volume_driver method in libvirt driver\n\nAvoided duplication of code for extracting the volume driver in the\nlibvirt driver, by introducing _get_volume_driver method.\n\nChange-Id: I76f918a579621c860a8840c3689add0173448282\n'}]",1,146395,bf01bf89ab7a9277aa9bfa7c063cbdea74381061,21,10,3,1633,,,0,"Added _get_volume_driver method in libvirt driver

Avoided duplication of code for extracting the volume driver in the
libvirt driver, by introducing _get_volume_driver method.

Change-Id: I76f918a579621c860a8840c3689add0173448282
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/146395/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,daddce370331458c09021b6f44bc1e21609acd5b,refactor_libvirt_driver," def _get_volume_driver(self, connection_info): return self.volume_drivers[driver_type] def _connect_volume(self, connection_info, disk_info): driver = self._get_volume_driver(connection_info) driver = self._get_volume_driver(connection_info) driver = self._get_volume_driver(connection_info)"," def _connect_volume(self, connection_info, disk_info): driver = self.volume_drivers[driver_type] driver_type = connection_info.get('driver_volume_type') if driver_type not in self.volume_drivers: raise exception.VolumeDriverNotFound(driver_type=driver_type) driver = self.volume_drivers[driver_type] driver_type = connection_info.get('driver_volume_type') if driver_type not in self.volume_drivers: raise exception.VolumeDriverNotFound(driver_type=driver_type) driver = self.volume_drivers[driver_type]",7,10
openstack%2Fneutron~master~Ia214a7c5b1127dbbec3c81023fdbc48d7fadf18f,openstack/neutron,master,Ia214a7c5b1127dbbec3c81023fdbc48d7fadf18f,Discriminate loaded extensions using their alias,MERGED,2015-02-02 17:18:41.000000000,2015-02-02 20:31:18.000000000,2015-02-02 20:20:00.000000000,"[{'_account_id': 3}, {'_account_id': 261}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 7787}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 14212}]","[{'number': 1, 'created': '2015-02-02 17:18:41.000000000', 'files': ['neutron/api/extensions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6e4a992d31b67c457d56d28063a986152c70c842', 'message': ""Discriminate loaded extensions using their alias\n\nThis patch simply changes the logic for discriminating which\nextensions have already been loaded using the extension alias\nrather than the module name.\n\nThis will avoid failures already observed in unit tests occurring\nif two extension modules happen to have the same module file name\neven if they're unrelated.\n\nThis change cannot be unit-tested as the neutron unit test\nframework is currently lacking a mechanism to mock and validate\nextension loading from the file system.\n\nCloses-Bug: #1417180\n\nChange-Id: Ia214a7c5b1127dbbec3c81023fdbc48d7fadf18f\n""}]",3,152195,6e4a992d31b67c457d56d28063a986152c70c842,23,17,1,261,,,0,"Discriminate loaded extensions using their alias

This patch simply changes the logic for discriminating which
extensions have already been loaded using the extension alias
rather than the module name.

This will avoid failures already observed in unit tests occurring
if two extension modules happen to have the same module file name
even if they're unrelated.

This change cannot be unit-tested as the neutron unit test
framework is currently lacking a mechanism to mock and validate
extension loading from the file system.

Closes-Bug: #1417180

Change-Id: Ia214a7c5b1127dbbec3c81023fdbc48d7fadf18f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/152195/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/api/extensions.py'],1,6e4a992d31b67c457d56d28063a986152c70c842,bug/1417180, loaded.append(new_ext_class.get_alias()), loaded.append(mod_name),1,1
openstack%2Fnova~master~Id1e369e4546c093edc8a94f49f00842ad65607cc,openstack/nova,master,Id1e369e4546c093edc8a94f49f00842ad65607cc,Fix typo in nova/virt/disk/vfs/localfs.py,MERGED,2015-02-02 07:09:54.000000000,2015-02-02 20:19:41.000000000,2015-02-02 20:19:38.000000000,"[{'_account_id': 3}, {'_account_id': 642}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 7634}, {'_account_id': 8543}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-02-02 07:09:54.000000000', 'files': ['nova/virt/disk/vfs/localfs.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7cb773e2474f5d3f0672ea6c665202bd72982f9a', 'message': ""Fix typo in nova/virt/disk/vfs/localfs.py\n\nFix log message typo in 'setup' method of 'VFSLocalFS' class.\n\nChange-Id: Id1e369e4546c093edc8a94f49f00842ad65607cc\nCloses-Bug: 1416970\n""}]",0,152005,7cb773e2474f5d3f0672ea6c665202bd72982f9a,14,9,1,7634,,,0,"Fix typo in nova/virt/disk/vfs/localfs.py

Fix log message typo in 'setup' method of 'VFSLocalFS' class.

Change-Id: Id1e369e4546c093edc8a94f49f00842ad65607cc
Closes-Bug: 1416970
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/152005/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/disk/vfs/localfs.py'],1,7cb773e2474f5d3f0672ea6c665202bd72982f9a,bug/1416970," LOG.debug(""Failed to mount image: %(ex)s"", {'ex': e})"," LOG.debug(""Failed to mount image %(ex)s)"", {'ex': e})",1,1
openstack%2Fopenstack-ansible~juno~I58b4b08b5596b8007b00aaca21f115cc4dfd6bbc,openstack/openstack-ansible,juno,I58b4b08b5596b8007b00aaca21f115cc4dfd6bbc,Fix for Network test against hosts with no containers,MERGED,2015-02-02 17:37:15.000000000,2015-02-02 20:18:11.000000000,2015-02-02 19:01:15.000000000,"[{'_account_id': 3}, {'_account_id': 2556}, {'_account_id': 2799}, {'_account_id': 7414}, {'_account_id': 9884}, {'_account_id': 12892}]","[{'number': 1, 'created': '2015-02-02 17:37:15.000000000', 'files': ['rpc_deployment/playbooks/setup/restart-containers.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/77c1ebc60f1447aa4737587f186a19fcdf584132', 'message': ""Fix for Network test against hosts with no containers\n\nThe default for container_groups was an empty string. This causes ansible\nto attempt to connect to hostvars['']['container_address'] which fails.\nChanging the default from an empty string to an empty list resolves this.\n\nChange-Id: I58b4b08b5596b8007b00aaca21f115cc4dfd6bbc\nCloses-Bug: 1408342\n(cherry picked from commit d2daa471255107b919f48959460d760d6e910bb3)\n""}]",0,152203,77c1ebc60f1447aa4737587f186a19fcdf584132,8,6,1,7353,,,0,"Fix for Network test against hosts with no containers

The default for container_groups was an empty string. This causes ansible
to attempt to connect to hostvars['']['container_address'] which fails.
Changing the default from an empty string to an empty list resolves this.

Change-Id: I58b4b08b5596b8007b00aaca21f115cc4dfd6bbc
Closes-Bug: 1408342
(cherry picked from commit d2daa471255107b919f48959460d760d6e910bb3)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/03/152203/1 && git format-patch -1 --stdout FETCH_HEAD,['rpc_deployment/playbooks/setup/restart-containers.yml'],1,77c1ebc60f1447aa4737587f186a19fcdf584132,," container_groups: ""{{ groups[container_group|default(default_container_groups)] | default([]) }}"""," container_groups: ""{{ groups[container_group|default(default_container_groups)] | default('') }}""",1,1
openstack%2Fbarbican~master~I14f20a5d44519c969e36893464e7dbac114ddad9,openstack/barbican,master,I14f20a5d44519c969e36893464e7dbac114ddad9,Fix downgrade for revision 254495565185,MERGED,2015-01-29 10:40:21.000000000,2015-02-02 20:14:00.000000000,2015-02-02 20:13:59.000000000,"[{'_account_id': 3}, {'_account_id': 6783}, {'_account_id': 7136}, {'_account_id': 7262}, {'_account_id': 7354}, {'_account_id': 7355}, {'_account_id': 7687}, {'_account_id': 7789}, {'_account_id': 7973}, {'_account_id': 8004}, {'_account_id': 8623}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}]","[{'number': 1, 'created': '2015-01-29 10:40:21.000000000', 'files': ['barbican/model/migration/alembic_migrations/versions/254495565185_removing_redundant_fields_from_order.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/9e7c2d45adbb0ccf5b737af4e0966e31db3e407f', 'message': ""Fix downgrade for revision 254495565185\n\nThe downgrade required the payload_content_type in the orders not to\nbe nullable. This CR fixes that.\n\nAlso, there were a lot of dependencies to mysql, when this shouldn't\nbe the case. So this was also changed.\n\nAnd finally, fixed some pep8 issues.\n\nChange-Id: I14f20a5d44519c969e36893464e7dbac114ddad9\nCloses-Bug: #1415829\n""}]",0,151172,9e7c2d45adbb0ccf5b737af4e0966e31db3e407f,9,14,1,10873,,,0,"Fix downgrade for revision 254495565185

The downgrade required the payload_content_type in the orders not to
be nullable. This CR fixes that.

Also, there were a lot of dependencies to mysql, when this shouldn't
be the case. So this was also changed.

And finally, fixed some pep8 issues.

Change-Id: I14f20a5d44519c969e36893464e7dbac114ddad9
Closes-Bug: #1415829
",git fetch https://review.opendev.org/openstack/barbican refs/changes/72/151172/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/model/migration/alembic_migrations/versions/254495565185_removing_redundant_fields_from_order.py'],1,9e7c2d45adbb0ccf5b737af4e0966e31db3e407f,bug/1415829," op.add_column('orders', sa.Column('secret_name', sa.String(length=255), nullable=True)) op.add_column('orders', sa.Column('secret_payload_content_type', sa.String(length=255), nullable=True)) op.add_column('orders', sa.Column('secret_expiration', sa.DateTime(), nullable=True)) op.add_column('orders', sa.Column('secret_bit_length', sa.Integer(), autoincrement=False, nullable=True)) op.add_column('orders', sa.Column('secret_algorithm', sa.String(length=255), nullable=True)) op.add_column('orders', sa.Column('secret_mode', sa.String(length=255), nullable=True))","from sqlalchemy.dialects import mysql ### commands auto generated by Alembic - please adjust! ### ### end Alembic commands ### ### commands auto generated by Alembic - please adjust! ### op.add_column('orders', sa.Column('secret_name', mysql.VARCHAR(length=255), nullable=True)) op.add_column('orders', sa.Column('secret_payload_content_type', mysql.VARCHAR(length=255), nullable=False)) op.add_column('orders', sa.Column('secret_expiration', mysql.DATETIME(), nullable=True)) op.add_column('orders', sa.Column('secret_bit_length', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True)) op.add_column('orders', sa.Column('secret_algorithm', mysql.VARCHAR(length=255), nullable=True)) op.add_column('orders', sa.Column('secret_mode', mysql.VARCHAR(length=255), nullable=True)) ### end Alembic commands ###",17,11
openstack%2Fbarbican~master~I1735f249ee45c87b1353c48a71a024d4dcfc7624,openstack/barbican,master,I1735f249ee45c87b1353c48a71a024d4dcfc7624,"Fix error in ""tenants to projects"" migration script",MERGED,2015-01-29 08:59:04.000000000,2015-02-02 20:13:54.000000000,2015-02-02 20:13:52.000000000,"[{'_account_id': 3}, {'_account_id': 6783}, {'_account_id': 7136}, {'_account_id': 7262}, {'_account_id': 7354}, {'_account_id': 7355}, {'_account_id': 7687}, {'_account_id': 7789}, {'_account_id': 7973}, {'_account_id': 8004}, {'_account_id': 8623}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}]","[{'number': 1, 'created': '2015-01-29 08:59:04.000000000', 'files': ['barbican/model/migration/alembic_migrations/versions/795737bb3c3_change_tenants_to_projects.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/10aeec7a56fea5f4fe4676e8c4d2f5009dc7aec2', 'message': 'Fix error in ""tenants to projects"" migration script\n\nThe script had the wrong table name when trying to create a unique\nconstraint. This CR fixes that.\n\nChange-Id: I1735f249ee45c87b1353c48a71a024d4dcfc7624\nCloses-Bug: #1415790\n'}]",0,151145,10aeec7a56fea5f4fe4676e8c4d2f5009dc7aec2,9,14,1,10873,,,0,"Fix error in ""tenants to projects"" migration script

The script had the wrong table name when trying to create a unique
constraint. This CR fixes that.

Change-Id: I1735f249ee45c87b1353c48a71a024d4dcfc7624
Closes-Bug: #1415790
",git fetch https://review.opendev.org/openstack/barbican refs/changes/45/151145/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/model/migration/alembic_migrations/versions/795737bb3c3_change_tenants_to_projects.py'],1,10aeec7a56fea5f4fe4676e8c4d2f5009dc7aec2,bug/1415790," op.create_unique_constraint('_tenant_secret_uc', 'tenant_secret', ['tenant_id', 'secret_id'])"," op.create_unique_constraint('_project_secret_uc', 'project_secret', ['project_id', 'secret_id'])",2,2
openstack%2Fkeystone~master~Ibcbb9ba65f1e78b1fbff94e27a4363943365bf7d,openstack/keystone,master,Ibcbb9ba65f1e78b1fbff94e27a4363943365bf7d,Fix typo in Patch #142743,MERGED,2015-02-02 08:07:27.000000000,2015-02-02 20:09:46.000000000,2015-02-02 20:09:44.000000000,"[{'_account_id': 3}, {'_account_id': 5707}, {'_account_id': 6482}, {'_account_id': 9098}, {'_account_id': 10118}, {'_account_id': 11022}]","[{'number': 1, 'created': '2015-02-02 08:07:27.000000000', 'files': ['keystone/contrib/federation/utils.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/325168c506935716e3ad05fbce6650a7b04c0404', 'message': 'Fix typo in Patch #142743\n\nThis is a follow-up patch fixing a typo in\n``keystone/contrib/federation/utils.py``.\n\nPartially-Implements bp idp-id-registration\n\nChange-Id: Ibcbb9ba65f1e78b1fbff94e27a4363943365bf7d\n'}]",0,152016,325168c506935716e3ad05fbce6650a7b04c0404,11,6,1,8978,,,0,"Fix typo in Patch #142743

This is a follow-up patch fixing a typo in
``keystone/contrib/federation/utils.py``.

Partially-Implements bp idp-id-registration

Change-Id: Ibcbb9ba65f1e78b1fbff94e27a4363943365bf7d
",git fetch https://review.opendev.org/openstack/keystone refs/changes/16/152016/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/contrib/federation/utils.py'],1,325168c506935716e3ad05fbce6650a7b04c0404,bug/1390124, # allow the mapping of every IdP, # allow the mapping of everyy IdP,1,1
openstack%2Fnova~master~I82a6f8783ffce70934409177993de477b1d25da1,openstack/nova,master,I82a6f8783ffce70934409177993de477b1d25da1,nova net-delete network is not informative enough,MERGED,2014-09-19 14:03:52.000000000,2015-02-02 20:09:18.000000000,2015-02-02 20:09:15.000000000,"[{'_account_id': 3}, {'_account_id': 67}, {'_account_id': 679}, {'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 5367}, {'_account_id': 5511}, {'_account_id': 5638}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7730}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10618}, {'_account_id': 11103}, {'_account_id': 12140}]","[{'number': 1, 'created': '2014-09-19 14:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c951d5d5e5c6740f72fa1dfc9670d4760245db3', 'message': 'nova net-delete network is not informative enough\n\nIntially nova net-delete <Network ID> was raising an\n""InternalServerError"" in case the requested network to\ndelete was associated to any project.This error category\n“InternalServerError” is appropriate but the error\nmessage description is not informative enough.\nNow, when the command is not able to delete the requested\nnetwork because it is associated with a project, a message\nstating “network must be disassociated from project\n<project-id> before delete” will be raised. Updated the\ncode to raise the new error message.\nCloses-Bug: #1301373\n\nChange-Id: I82a6f8783ffce70934409177993de477b1d25da1\n'}, {'number': 2, 'created': '2014-09-23 08:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0258240e9c4404840ad50c4834ed6be0b3abcdb8', 'message': 'nova net-delete network is not informative enough\n\nIntially nova net-delete <Network ID> was raising an\n""InternalServerError"" in case the requested network to\ndelete was associated to any project.This error category\n“InternalServerError” is appropriate but the error\nmessage description is not informative enough.\n\nNow, when the command is not able to delete the requested\nnetwork because it is associated with a project, a message\nstating “network must be disassociated from project\n<project-id> before delete” will be raised. Updated the\ncode to raise the new error message.\nCloses-Bug: #1301373\n\nChange-Id: I82a6f8783ffce70934409177993de477b1d25da1\n'}, {'number': 3, 'created': '2014-09-23 09:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b2ba0637343900e6bc6bdf241cabb412109c80b', 'message': 'nova net-delete network is not informative enough\n\nIntially nova net-delete <Network ID> was raising an\n""InternalServerError"" in case the requested network to\ndelete was associated to any project.This error category\n“InternalServerError” is appropriate but the error\nmessage description is not informative enough.\n\nNow, when the command is not able to delete the requested\nnetwork because it is associated with a project, a message\nstating “network must be disassociated from project\n<project-id> before delete” will be raised. Updated the\ncode to raise the new error message.\nCloses-Bug: #1301373\n\nChange-Id: I82a6f8783ffce70934409177993de477b1d25da1\n'}, {'number': 4, 'created': '2014-09-24 05:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e66c47264fa053702a9ee8260f0b098d5ad110d', 'message': 'nova net-delete network is not informative enough\n\nIntially nova net-delete <Network ID> was raising an\n""InternalServerError"" in case the requested network to\ndelete was associated to any project.This error category\n“InternalServerError” is appropriate but the error\nmessage description is not informative enough.\n\nNow, when the command is not able to delete the requested\nnetwork because it is associated with a project, a message\nstating “network must be disassociated from project\n<project-id> before delete” will be raised. Updated the\ncode to raise the new error message.\nCloses-Bug: #1301373\n\nChange-Id: I82a6f8783ffce70934409177993de477b1d25da1\n'}, {'number': 5, 'created': '2014-09-24 06:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f0ee67a81312d1dd572e8e5850db42a99a5f2d9', 'message': 'nova net-delete network is not informative enough\n\nIntially nova net-delete <Network ID> was raising an\n""InternalServerError"" in case the requested network to\ndelete was associated to any project.This error category\n“InternalServerError” is appropriate but the error\nmessage description is not informative enough.\n\nNow, when the command is not able to delete the requested\nnetwork because it is associated with a project, a message\nstating “network must be disassociated from project\n<project-id> before delete” will be raised. Updated the\ncode to raise the new error message.\nCloses-Bug: #1301373\n\nChange-Id: I82a6f8783ffce70934409177993de477b1d25da1\n'}, {'number': 6, 'created': '2014-09-24 12:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd7c5c0c69efd85b98c6db3f9cb2b4e0a34497e4', 'message': 'nova net-delete network is not informative enough\n\nIntially nova net-delete <Network ID> was raising an\n""InternalServerError"" in case the requested network to\ndelete was associated to any project.This error category\n“InternalServerError” is appropriate but the error\nmessage description is not informative enough.\n\nNow, when the command is not able to delete the requested\nnetwork because it is associated with a project, a message\nstating “network must be disassociated from project\n<project-id> before delete” will be raised. Updated the\ncode to raise the new error message.\nCloses-Bug: #1301373\n\nChange-Id: I82a6f8783ffce70934409177993de477b1d25da1\n'}, {'number': 7, 'created': '2014-09-25 06:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e0a15a55e665d0e3dd578e827abc587b8e666de', 'message': 'nova net-delete network is not informative enough\n\nIntially nova net-delete <Network ID> was raising an\n""InternalServerError"" in case the requested network to\ndelete was associated to any project.This error category\n“InternalServerError” is appropriate but the error\nmessage description is not informative enough.\n\nNow, when the command is not able to delete the requested\nnetwork because it is associated with a project, a message\nstating “network must be disassociated from project\n<project-id> before delete” will be raised. Updated the\ncode to raise the new error message.\nCloses-Bug: #1301373\n\nChange-Id: I82a6f8783ffce70934409177993de477b1d25da1\n'}, {'number': 8, 'created': '2014-09-25 12:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ce73af1144d4c80073ae428957670b42184fac0', 'message': 'nova net-delete network is not informative enough\n\nIntially nova net-delete <Network ID> was raising an\n""InternalServerError"" in case the requested network to\ndelete was associated to any project.This error category\n“InternalServerError” is appropriate but the error\nmessage description is not informative enough.\n\nNow, when the command is not able to delete the requested\nnetwork because it is associated with a project, a message\nstating “network must be disassociated from project\n<project-id> before delete” will be raised. Updated the\ncode to raise the new error message.\nCloses-Bug: #1301373\n\nChange-Id: I82a6f8783ffce70934409177993de477b1d25da1\n'}, {'number': 9, 'created': '2014-09-26 05:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8eb3ee8bb7bb50663d5af6f92b7aea6585f98c87', 'message': 'nova net-delete network is not informative enough\n\nIntially nova net-delete <Network ID> was raising an\n""InternalServerError"" in case the requested network to\ndelete was associated to any project.This error category\n“InternalServerError” is appropriate but the error\nmessage description is not informative enough.\n\nNow, when the command is not able to delete the requested\nnetwork because it is associated with a project, a message\nstating “network must be disassociated from project\n<project-id> before delete” will be raised. Updated the\ncode to raise the new error message.\nCloses-Bug: #1301373\n\nChange-Id: I82a6f8783ffce70934409177993de477b1d25da1\n'}, {'number': 10, 'created': '2014-12-03 05:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5beab13b19c6ec531862622ee8eaf91da14e0473', 'message': 'nova net-delete network is not informative enough\n\nIntially nova net-delete <Network ID> was raising an\n""InternalServerError"" in case the requested network to\ndelete was associated to any project.This error category\n“InternalServerError” is appropriate but the error\nmessage description is not informative enough.\n\nNow, when the command is not able to delete the requested\nnetwork because it is associated with a project, a message\nstating “network must be disassociated from project\n<project-id> before delete” will be raised. Updated the\ncode to raise the new error message.\nCloses-Bug: #1301373\n\nChange-Id: I82a6f8783ffce70934409177993de477b1d25da1\n'}, {'number': 11, 'created': '2014-12-03 05:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb4085da9ca453866e34f90c0312cf51dcd76533', 'message': 'nova net-delete network is not informative enough\n\nIntially nova net-delete <Network ID> was raising an\n""InternalServerError"" in case the requested network to\ndelete was associated to any project.This error category\n“InternalServerError” is appropriate but the error\nmessage description is not informative enough.\n\nNow, when the command is not able to delete the requested\nnetwork because it is associated with a project, a message\nstating “network must be disassociated from project\n<project-id> before delete” will be raised. Updated the\ncode to raise the new error message.\nCloses-Bug: #1301373\n\nChange-Id: I82a6f8783ffce70934409177993de477b1d25da1\n'}, {'number': 12, 'created': '2015-01-12 08:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6602bb208a3cef24533ed951b45b2441c3004e23', 'message': 'nova net-delete network is not informative enough\n\nIntially nova net-delete <Network ID> was raising an\n""InternalServerError"" in case the requested network to\ndelete was associated to any project.This error category\n“InternalServerError” is appropriate but the error\nmessage description is not informative enough.\n\nNow, when the command is not able to delete the requested\nnetwork because it is associated with a project, a message\nstating “network must be disassociated from project\n<project-id> before delete” will be raised. Updated the\ncode to raise the new error message.\nCloses-Bug: #1301373\n\nChange-Id: I82a6f8783ffce70934409177993de477b1d25da1\n'}, {'number': 13, 'created': '2015-01-14 04:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1faa9598e2a41f34d9b4229eea76fe6682ff501', 'message': 'nova net-delete network is not informative enough\n\nIntially nova net-delete <Network ID> was raising an\n""InternalServerError"" in case the requested network to\ndelete was associated to any project.This error category\n“InternalServerError” is appropriate but the error\nmessage description is not informative enough.\n\nNow, when the command is not able to delete the requested\nnetwork because it is associated with a project, a message\nstating “network must be disassociated from project\n<project-id> before delete” will be raised. Updated the\ncode to raise the new error message.\nCloses-Bug: #1301373\n\nChange-Id: I82a6f8783ffce70934409177993de477b1d25da1\n'}, {'number': 14, 'created': '2015-02-02 10:31:10.000000000', 'files': ['nova/network/api.py', 'nova/tests/unit/api/openstack/compute/contrib/test_networks.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/911bae54032336bfcab591dd13aa250073a2bdf1', 'message': 'nova net-delete network is not informative enough\n\nIntially nova net-delete <Network ID> was raising an\n""InternalServerError"" in case the requested network to\ndelete was associated to any project.This error category\n“InternalServerError” is appropriate but the error\nmessage description is not informative enough.\n\nNow, when the command is not able to delete the requested\nnetwork because it is associated with a project, a message\nstating “network must be disassociated from project\n<project-id> before delete” will be raised. Updated the\ncode to raise the new error message.\nCloses-Bug: #1301373\n\nChange-Id: I82a6f8783ffce70934409177993de477b1d25da1\n'}]",21,122741,911bae54032336bfcab591dd13aa250073a2bdf1,128,26,14,12140,,,0,"nova net-delete network is not informative enough

Intially nova net-delete <Network ID> was raising an
""InternalServerError"" in case the requested network to
delete was associated to any project.This error category
“InternalServerError” is appropriate but the error
message description is not informative enough.

Now, when the command is not able to delete the requested
network because it is associated with a project, a message
stating “network must be disassociated from project
<project-id> before delete” will be raised. Updated the
code to raise the new error message.
Closes-Bug: #1301373

Change-Id: I82a6f8783ffce70934409177993de477b1d25da1
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/122741/11 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/api/openstack/compute/contrib/test_networks.py', 'nova/network/api.py', 'nova/api/openstack/compute/contrib/os_tenant_networks.py']",3,7c951d5d5e5c6740f72fa1dfc9670d4760245db3,bug/1301373," msg = _("" Error: %s"") % str(e.message)",,21,0
openstack%2Fhorizon~master~If4be6af5f4c868d95783a9a9c846f70b09036ce4,openstack/horizon,master,If4be6af5f4c868d95783a9a9c846f70b09036ce4,angular-based help-panel widget,MERGED,2015-01-17 00:25:21.000000000,2015-02-02 20:09:02.000000000,2015-02-02 20:09:01.000000000,"[{'_account_id': 3}, {'_account_id': 5623}, {'_account_id': 7665}, {'_account_id': 8871}, {'_account_id': 9576}, {'_account_id': 9622}, {'_account_id': 11798}, {'_account_id': 11881}, {'_account_id': 12071}, {'_account_id': 13785}, {'_account_id': 13805}]","[{'number': 1, 'created': '2015-01-17 00:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d4bc5c08f15def25eedb66827d2a6ce56fa92cd2', 'message': 'angular based help-panel widget\n\nAs part of the launch instance redesign, a help-panel is needed.\nBut it can be inlemented as a reusable widget.\n\nDesign:\n* Angular based.\n* Easily usable in anywhere in Horizon.\n\nChange-Id: If4be6af5f4c868d95783a9a9c846f70b09036ce4\nCo-Authored-By: Szymon Wroblewski <szymon.wroblewski@intel.com>\nImplements: blueprint initial-reusable-angular-wizard\n'}, {'number': 2, 'created': '2015-01-17 00:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e2fadc138ab92bec6c75ffd0d977d3a2c1e9424f', 'message': 'angular based help-panel widget\n\nAs part of the launch instance redesign, a help-panel is needed.\nBut it can be inlemented as a reusable widget.\n\nDesign:\n* Angular based.\n* Easily usable in anywhere in Horizon.\n\nChange-Id: If4be6af5f4c868d95783a9a9c846f70b09036ce4\nCo-Authored-By: Szymon Wroblewski <szymon.wroblewski@intel.com>\nImplements: blueprint initial-reusable-angular-wizard\n'}, {'number': 3, 'created': '2015-01-17 07:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/719493b1c8d87a1e6de73043f8dfd1fa4d47fc94', 'message': 'angular based help-panel widget\n\nAs part of the launch instance redesign, a help-panel is needed.\nBut it can be inlemented as a reusable widget.\n\nDesign:\n* Angular based.\n* Easily usable in anywhere in Horizon.\n\nChange-Id: If4be6af5f4c868d95783a9a9c846f70b09036ce4\nCo-Authored-By: Szymon Wroblewski <szymon.wroblewski@intel.com>\nImplements: blueprint initial-reusable-angular-wizard\n'}, {'number': 4, 'created': '2015-01-21 20:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9788899109497a7b3509648798a5bf4939657813', 'message': 'angular based help-panel widget\n\nAs part of the launch instance redesign, a help-panel is needed.\nBut it can be inlemented as a reusable widget.\n\nDesign:\n* Angular based.\n* Easily usable in anywhere in Horizon.\n\nChange-Id: If4be6af5f4c868d95783a9a9c846f70b09036ce4\nCo-Authored-By: Szymon Wroblewski <szymon.wroblewski@intel.com>\nImplements: blueprint initial-reusable-angular-wizard\n'}, {'number': 5, 'created': '2015-01-22 01:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/fceb4d85c9849acda66dd1a163799125c2b08510', 'message': 'angular-based help-panel widget\n\nThe help-panel will be implemented as a reusable widget so it can\nbe used elsewhere.\n\nDesign:\n* Angular-based.\n* Easily usable anywhere in Horizon.\n\nChange-Id: If4be6af5f4c868d95783a9a9c846f70b09036ce4\nImplements: blueprint initial-reusable-angular-wizard\n'}, {'number': 6, 'created': '2015-01-22 01:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a4ae81dc364684e89b9720b9f24c51a98ef990b5', 'message': 'angular-based help-panel widget\n\nThe help-panel will be implemented as a reusable widget so it can\nbe used elsewhere.\n\nDesign:\n* Angular-based.\n* Easily usable anywhere in Horizon.\n\nChange-Id: If4be6af5f4c868d95783a9a9c846f70b09036ce4\nImplements: blueprint initial-reusable-angular-wizard\n'}, {'number': 7, 'created': '2015-01-22 01:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0b1e475fed5a3372fc1a58286b3d588e51ed513a', 'message': 'angular-based help-panel widget\n\nThe help-panel will be implemented as a reusable widget so it can\nbe used elsewhere.\n\nDesign:\n* Angular-based.\n* Easily usable anywhere in Horizon.\n\nChange-Id: If4be6af5f4c868d95783a9a9c846f70b09036ce4\nImplements: blueprint initial-reusable-angular-wizard\n'}, {'number': 8, 'created': '2015-01-27 01:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3e39161f046cbf7f11f42d3f0040302b08be16f2', 'message': 'angular-based help-panel widget\n\nThe help-panel will be implemented as a reusable widget so it can\nbe used elsewhere.\n\nDesign:\n* Angular-based.\n* Easily usable anywhere in Horizon.\n\nChange-Id: If4be6af5f4c868d95783a9a9c846f70b09036ce4\nPartially Implements: blueprint initial-reusable-angular-wizard\n'}, {'number': 9, 'created': '2015-01-27 01:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/46e6eb2c01648f10356fe4bb900f025409ce6c10', 'message': 'angular-based help-panel widget\n\nThe help-panel will be implemented as a reusable widget so it can\nbe used elsewhere.\n\nDesign:\n* Angular-based.\n* Easily usable anywhere in Horizon.\n\nChange-Id: If4be6af5f4c868d95783a9a9c846f70b09036ce4\nPartially Implements: blueprint initial-reusable-angular-wizard\n'}, {'number': 10, 'created': '2015-01-28 23:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/73b9ac61d47ea9c962d885836f4742ca0ae47999', 'message': 'angular-based help-panel widget\n\nThe help-panel will be implemented as a reusable widget so it can\nbe used elsewhere.\n\nDesign:\n* Angular-based.\n* Easily usable anywhere in Horizon.\n\nChange-Id: If4be6af5f4c868d95783a9a9c846f70b09036ce4\nPartially Implements: blueprint initial-reusable-angular-wizard\n'}, {'number': 11, 'created': '2015-01-28 23:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/012234f8d012a0e570f65e8b7399732ac36f1215', 'message': 'angular-based help-panel widget\n\nThe help-panel will be implemented as a reusable widget so it can\nbe used elsewhere.\n\nDesign:\n* Angular-based.\n* Easily usable anywhere in Horizon.\n\nChange-Id: If4be6af5f4c868d95783a9a9c846f70b09036ce4\nPartially Implements: blueprint initial-reusable-angular-wizard\n'}, {'number': 12, 'created': '2015-01-29 02:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/304e83af8652957bf2526b6f3ef1ece503dff305', 'message': 'angular-based help-panel widget\n\nThe help-panel will be implemented as a reusable widget so it can\nbe used elsewhere.\n\nDesign:\n* Angular-based.\n* Easily usable anywhere in Horizon.\n\nChange-Id: If4be6af5f4c868d95783a9a9c846f70b09036ce4\nPartially Implements: blueprint initial-reusable-angular-wizard'}, {'number': 13, 'created': '2015-01-29 02:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/504b8ddda1611830f60c9994f449b7d5cdf665d1', 'message': 'angular-based help-panel widget\n\nThe help-panel will be implemented as a reusable widget so it can\nbe used elsewhere.\n\nDesign:\n* Angular-based.\n* Easily usable anywhere in Horizon.\n\nChange-Id: If4be6af5f4c868d95783a9a9c846f70b09036ce4\nPartially Implements: blueprint initial-reusable-angular-wizard\n'}, {'number': 14, 'created': '2015-01-29 09:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1954d0052b32c2c82ab77acc300b193c410b9047', 'message': 'angular-based help-panel widget\n\nThe help-panel will be implemented as a reusable widget so it can\nbe used elsewhere.\n\nDesign:\n* Angular-based.\n* Easily usable anywhere in Horizon.\n\nChange-Id: If4be6af5f4c868d95783a9a9c846f70b09036ce4\nPartially Implements: blueprint initial-reusable-angular-wizard\n'}, {'number': 15, 'created': '2015-01-29 22:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9abd473c268cf1e6bd7633e8b02bbc94fb137364', 'message': 'angular-based help-panel widget\n\nThe help-panel will be implemented as a reusable widget so it can\nbe used elsewhere.\n\nDesign:\n* Angular-based.\n* Easily usable anywhere in Horizon.\n\nChange-Id: If4be6af5f4c868d95783a9a9c846f70b09036ce4\nPartially Implements: blueprint initial-reusable-angular-wizard\n'}, {'number': 16, 'created': '2015-01-29 22:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7cc762804d990c7be6182d50478517b6456c575d', 'message': 'angular-based help-panel widget\n\nThe help-panel will be implemented as a reusable widget so it can\nbe used elsewhere.\n\nDesign:\n* Angular-based.\n* Easily usable anywhere in Horizon.\n\nChange-Id: If4be6af5f4c868d95783a9a9c846f70b09036ce4\nPartially Implements: blueprint initial-reusable-angular-wizard\n'}, {'number': 17, 'created': '2015-01-29 23:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4f9b7c179326bfd282288c1e23f71110933625eb', 'message': 'angular-based help-panel widget\n\nThe help-panel will be implemented as a reusable widget so it can\nbe used elsewhere.\n\nDesign:\n* Angular-based.\n* Easily usable anywhere in Horizon.\n\nChange-Id: If4be6af5f4c868d95783a9a9c846f70b09036ce4\nPartially Implements: blueprint initial-reusable-angular-wizard\n'}, {'number': 18, 'created': '2015-01-30 00:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c5c7a58c483c59b0e4466d7c405a438aeee281c6', 'message': 'angular-based help-panel widget\n\nThe help-panel will be implemented as a reusable widget so it can\nbe used elsewhere.\n\nDesign:\n* Angular-based.\n* Easily usable anywhere in Horizon.\n\nChange-Id: If4be6af5f4c868d95783a9a9c846f70b09036ce4\nPartially Implements: blueprint initial-reusable-angular-wizard\n'}, {'number': 19, 'created': '2015-01-30 21:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2c84cb162d8d61c98fa77a831ea7ca0685beca04', 'message': 'angular-based help-panel widget\n\nThe help-panel will be implemented as a reusable widget so it can\nbe used elsewhere.\n\nDesign:\n* Angular-based.\n* Easily usable anywhere in Horizon.\n\nChange-Id: If4be6af5f4c868d95783a9a9c846f70b09036ce4\nPartially Implements: blueprint initial-reusable-angular-wizard\n'}, {'number': 20, 'created': '2015-02-01 04:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/23b0fed32433c652397848914bfb8d0a8920ddcc', 'message': 'angular-based help-panel widget\n\nThe help-panel will be implemented as a reusable widget so it can\nbe used elsewhere.\n\nDesign:\n* Angular-based.\n* Easily usable anywhere in Horizon.\n\nChange-Id: If4be6af5f4c868d95783a9a9c846f70b09036ce4\nPartially Implements: blueprint initial-reusable-angular-wizard\n'}, {'number': 21, 'created': '2015-02-02 05:03:27.000000000', 'files': ['horizon/static/angular/help-panel/help-panel.spec.js', 'horizon/test/jasmine/jasmine.py', 'horizon/static/angular/widget.module.js', 'horizon/static/horizon/js/angular/horizon.js', 'horizon/templates/horizon/_scripts.html', 'horizon/test/jasmine/jasmine_tests.py', 'horizon/static/angular/help-panel/help-panel.html', 'horizon/static/angular/help-panel/help-panel.js', 'horizon/static/angular/styles.scss', 'openstack_dashboard/static/dashboard/scss/horizon.scss', 'horizon/static/angular/help-panel/help-panel.scss', 'horizon/templates/horizon/jasmine/jasmine.html', 'openstack_dashboard/static/dashboard/scss/_variables.scss'], 'web_link': 'https://opendev.org/openstack/horizon/commit/22a2129eb2c7d7fae0741034020d05c4ca939c39', 'message': 'angular-based help-panel widget\n\nThe help-panel will be implemented as a reusable widget so it can\nbe used elsewhere.\n\nDesign:\n* Angular-based.\n* Easily usable anywhere in Horizon.\n\nChange-Id: If4be6af5f4c868d95783a9a9c846f70b09036ce4\nPartially Implements: blueprint initial-reusable-angular-wizard\n'}]",41,148031,22a2129eb2c7d7fae0741034020d05c4ca939c39,104,11,21,13805,,,0,"angular-based help-panel widget

The help-panel will be implemented as a reusable widget so it can
be used elsewhere.

Design:
* Angular-based.
* Easily usable anywhere in Horizon.

Change-Id: If4be6af5f4c868d95783a9a9c846f70b09036ce4
Partially Implements: blueprint initial-reusable-angular-wizard
",git fetch https://review.opendev.org/openstack/horizon refs/changes/31/148031/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/static/angular/styles.scss', 'horizon/static/horizon/js/angular/horizon.js', 'openstack_dashboard/static/dashboard/scss/horizon.scss', 'horizon/templates/horizon/_scripts.html', 'horizon/static/angular/help-panel/help-panel.html', 'horizon/static/angular/help-panel/help-panel.scss', 'horizon/static/angular/help-panel/help-panel.js', 'horizon/static/angular/framework.module.js']",8,d4bc5c08f15def25eedb66827d2a6ce56fa92cd2,bp/initial-reusable-angular-wizard,"(function () { 'use strict'; angular.module('hz.framework', [ 'hz.framework.help-panel' ]) .constant('frameworkPath', '/static/angular/'); })();",,121,1
openstack%2Fkeystone~master~I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac,openstack/keystone,master,I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac,Multiple IDP authentication URL,MERGED,2014-12-18 12:11:04.000000000,2015-02-02 20:08:15.000000000,2015-02-02 20:08:12.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 136}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5707}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 6534}, {'_account_id': 8978}, {'_account_id': 9098}, {'_account_id': 9101}, {'_account_id': 9751}, {'_account_id': 10335}, {'_account_id': 11022}, {'_account_id': 13478}]","[{'number': 1, 'created': '2014-12-18 12:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7e0e5a21d839337806b62d278033f3c3e4185ffe', 'message': 'Multiple IdP authentication URL\n\nTheis code fix the problem to associate one or more IdP with the authentication URL\ncreated using the OS-Federation API. The solution was defined in the bug 138104.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nCloses-Bug: 1390124\n'}, {'number': 2, 'created': '2014-12-18 16:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c0e47ca64422ee6085f9b81c3dc22c0dc7bffb5d', 'message': 'Multiple IdP authentication URL\n\nTheis code fix the problem to associate one or more IdP with the authentication URL\ncreated using the OS-Federation API. The solution was defined in the bug 138104.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nCloses-Bug: 1390124\n'}, {'number': 3, 'created': '2014-12-19 15:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/11016617efafa8f83c97bea89312e4e5a4ae9d01', 'message': 'Multiple IdP authentication URL\n\nTheis code fix the problem to associate one or more IdP with the authentication URL\ncreated using the OS-Federation API. The solution was defined in the bug 138104.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nCloses-Bug: 1390124\n'}, {'number': 4, 'created': '2014-12-19 16:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3900f3a51b9e316c606b251769ccf54cce1811dd', 'message': 'Multiple IdP authentication URL\n\nTheis code fix the problem to associate one or more IdP with the authentication URL\ncreated using the OS-Federation API. The solution was defined in the bug 138104.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nCloses-Bug: 1390124\n'}, {'number': 5, 'created': '2014-12-20 15:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/683cf67ef4b1514107bccfc7f2abc298dcb313ed', 'message': 'Multiple IdP authentication URL\n\nTheis code fix the problem to associate one or more IdP with the authentication URL\ncreated using the OS-Federation API. The solution was defined in the bug 138104.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nCloses-Bug: 1390124\n'}, {'number': 6, 'created': '2014-12-20 22:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5aeb661a2bafc044093b1f69bde8c681b4efa978', 'message': 'Multiple IdP authentication URL\n\nTheis code fix the problem to associate one or more IdP with the authentication URL\ncreated using the OS-Federation API. The solution was defined in the bug 1390124.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nCloses-Bug: 1390124\n'}, {'number': 7, 'created': '2015-01-07 12:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1fd29e40194e520c177aaae847c9d14a64c65b2b', 'message': 'Multiple IdP authentication URL\n\nThis patch allows to specify one or more IDP identifiers for each authentication URL\ncreated using the OS-Federation API. If the identifier is provided during the creation\nof the IDP and the parameter to retrieve the IDP ID from the environment is configured\nthen only the matching IDPs can be used to authenticate against URL. If they are not\nconfigured then every IDP can authenticate in any URL, preserving the current behaviour.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nCloses-Bug: 1390124\n'}, {'number': 8, 'created': '2015-01-07 14:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/43c10e49c0a42925cf9a9c1aa600f1b836dc658a', 'message': 'Multiple IdP authentication URL\n\nThis patch allows to specify one or more IDP identifiers for each authentication URL\ncreated using the OS-Federation API. If the identifier is provided during the creation\nof the IDP and the parameter to retrieve the IDP ID from the environment is configured\nthen only the matching IDPs can be used to authenticate against URL. If they are not\nconfigured then every IDP can authenticate in any URL, preserving the current behaviour.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nCloses-Bug: 1390124\n'}, {'number': 9, 'created': '2015-01-07 15:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2d7af48f1d71fa905ba86920407daa8c234ce899', 'message': 'Multiple IdP authentication URL\n\nThis patch allows to specify one or more IDP identifiers for each authentication URL\ncreated using the OS-Federation API. If the identifier is provided during the creation\nof the IDP and the parameter to retrieve the IDP ID from the environment is configured\nthen only the matching IDPs can be used to authenticate against URL. If they are not\nconfigured then every IDP can authenticate in any URL, preserving the current behaviour.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nCloses-Bug: 1390124\n'}, {'number': 10, 'created': '2015-01-07 15:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2b0011eb04e2238bafd2cff13c8ddba1632d21a1', 'message': 'Multiple IdP authentication URL\n\nThis patch allows to specify one or more IDP identifiers for each authentication URL\ncreated using the OS-Federation API. If the identifier is provided during the creation\nof the IDP and the parameter to retrieve the IDP ID from the environment is configured\nthen only the matching IDPs can be used to authenticate against URL. If they are not\nconfigured then every IDP can authenticate in any URL, preserving the current behaviour.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nCloses-Bug: 1390124\n'}, {'number': 11, 'created': '2015-01-08 09:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/49c2c5fa0f91910aef2166a51f0cd0e92a6b7184', 'message': 'Multiple IdP authentication URL\n\nThis patch allows to specify one or more IDP identifiers for each authentication URL\ncreated using the OS-Federation API. If the identifier is provided during the creation\nof the IDP and the parameter to retrieve the IDP ID from the environment is configured\nthen only the matching IDPs can be used to authenticate against URL. If they are not\nconfigured then every IDP can authenticate in any URL, preserving the current behaviour.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nCloses-Bug: 1390124\n'}, {'number': 12, 'created': '2015-01-12 16:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a03b18bd5a8ece51410d8eb1c552cbdc80f3497e', 'message': 'Multiple IdP authentication URL\n\nThis patch allows to specify one or more IDP identifiers for each authentication URL\ncreated using the OS-Federation API. If the identifier is provided during the creation\nof the IDP and the parameter to retrieve the IDP ID from the environment is configured\nthen only the matching IDPs can be used to authenticate against URL. If they are not\nconfigured then every IDP can authenticate in any URL, preserving the current behaviour.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nCloses-Bug: 1390124\n'}, {'number': 13, 'created': '2015-01-13 10:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e15ae2de469949b36e101e23e14f4b56448a9456', 'message': 'Multiple IdP authentication URL\n\nThis patch allows to specify one or more IDP identifiers for each authentication URL\ncreated using the OS-Federation API. If the identifier is provided during the creation\nof the IDP and the parameter to retrieve the IDP ID from the environment is configured\nthen only the matching IDPs can be used to authenticate against URL. If they are not\nconfigured then every IDP can authenticate in any URL, preserving the current behaviour.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nCloses-Bug: 1390124\n'}, {'number': 14, 'created': '2015-01-13 11:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1ae6a40b8eca5533b6546a3cbcdf8bf2322c360d', 'message': 'Multiple IdP authentication URL\n\nThis patch allows to specify one or more IDP identifiers for each authentication URL\ncreated using the OS-Federation API. If the identifier is provided during the creation\nof the IDP and the parameter to retrieve the IDP ID from the environment is configured\nthen only the matching IDPs can be used to authenticate against URL. If they are not\nconfigured then every IDP can authenticate in any URL, preserving the current behaviour.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nCloses-Bug: 1390124\n'}, {'number': 15, 'created': '2015-01-13 11:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4e7382a6604d9e54edd9ce2241f1cdd02747cb4a', 'message': 'Multiple IdP authentication URL\n\nThis patch allows to specify one or more IDP identifiers for each authentication URL\ncreated using the OS-Federation API. If the identifier is provided during the creation\nof the IDP and the parameter to retrieve the IDP ID from the environment is configured\nthen only the matching IDPs can be used to authenticate against URL. If they are not\nconfigured then every IDP can authenticate in any URL, preserving the current behaviour.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nCloses-Bug: 1390124\n'}, {'number': 16, 'created': '2015-01-13 12:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/43b6b635dbaeed30943830d26a3af805982fb80b', 'message': 'Multiple IdP authentication URL\n\nThis patch allows to specify an IDP identifiers for each authentication URL created\nusing the OS-Federation API. If the identifier is provided during the creation of the\nIDP and the parameter to retrieve the IDP ID from the environment is configured then\nonly the matching IDP can be used to authenticate against the URL. If they are not\nconfigured then every IDP can authenticate in any URL, preserving the current behaviour.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nCloses-Bug: 1390124\n'}, {'number': 17, 'created': '2015-01-14 11:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/94bac4a5475b7d346828926ae54c63c6fbf1ec76', 'message': 'Multiple IdP authentication URL\n\nThis patch allows to specify an IDP identifier for each authentication URL created\nusing the OS-Federation API. If the identifier is provided during the creation of the\nIDP and the parameter to retrieve the IDP ID from the environment is configured then\nonly the matching IDP can be used to authenticate against the URL. If it is not\nconfigured then every IDP can authenticate in any URL.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nCloses-Bug: 1390124\n'}, {'number': 18, 'created': '2015-01-15 17:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/477c3a0f28b3be8d67b8e958ae9679cfc92e8127', 'message': 'Multiple IdP authentication URL\n\nThis patch allows the specification of an IDP identifier for each authentication URL created using the OS-Federation API. If the\nidentifier is provided during the creation of the IDP then\nonly the matching IDP can be used to authenticate against the URL. \n\nThis feature can be enabled by a configuration option to set the  parameter used to retrieve the IDP ID from the environment.\n\nIf the value is not configured then every IDP can authenticate in\nany URL.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nCloses-Bug: 1390124'}, {'number': 19, 'created': '2015-01-15 17:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/278b0ebf8a121f044be8928bcb56e1fc2ace95b2', 'message': 'Multiple IdP authentication URL\n\nThis patch allows the specification of an IDP identifier for each\nauthentication URL created using the OS-Federation API. If the\nidentifier is provided during the creation of the IDP then\nonly the matching IDP can be used to authenticate against the URL. \n\nThis feature can be enabled by a configuration option to set the \nparameter used to retrieve the IDP ID from the environment.\n\nIf the value is not configured then every IDP can authenticate in\nany URL.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nCloses-Bug: 1390124'}, {'number': 20, 'created': '2015-01-16 09:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/bf9a2790b7fb29479b0a85df97120a55ddbc0731', 'message': 'Multiple IdP authentication URL\n\nThis patch allows the specification of an IDP identifier for each\nauthentication URL created using the OS-Federation API. If the\nidentifier is provided during the creation of the IDP then\nonly the matching IDP can be used to authenticate against the URL. \n\nThis feature can be enabled by a configuration option to set the \nparameter used to retrieve the IDP ID from the environment.\n\nIf the value is not configured then every IDP can authenticate in\nany URL.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nImplements blueprint idp-id-registration\n'}, {'number': 21, 'created': '2015-01-16 13:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/07974f6d5480672699af8f2f9bca64c0e3e761a6', 'message': 'Multiple IdP authentication URL\n\nThis patch allows to specify an IDP identifier for each authentication URL created\nusing the OS-Federation API. If the identifier is provided during the creation of the\nIDP and the parameter to retrieve the IDP ID from the environment is configured then\nonly the matching IDP can be used to authenticate against the URL. If it is not\nconfigured then every IDP can authenticate in any URL.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nCloses-Bug: 1390124\n'}, {'number': 22, 'created': '2015-01-16 13:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7e709206bf2e9b5ecb6a518b17339368719fe828', 'message': 'Multiple IdP authentication URL\n\nThis patch allows the specification of an IDP identifier for each\nauthentication URL created using the OS-Federation API. If the\nidentifier is provided during the creation of the IDP then\nonly the matching IDP can be used to authenticate against the URL.\n\nThis feature can be enabled by a configuration option to set the\nparameter used to retrieve the IDP ID from the environment.\n\nIf the value is not configured then every IDP can authenticate in\nany URL.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nCloses-Bug: 1390124\n'}, {'number': 23, 'created': '2015-01-16 13:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/aaf10cfc9275064166961d4bed6bd1ce964aa24d', 'message': 'Multiple IdP authentication URL\n\nThis patch allows the specification of an IDP identifier for each\nauthentication URL created using the OS-Federation API. If the\nidentifier is provided during the creation of the IDP then\nonly the matching IDP can be used to authenticate against the URL.\n\nThis feature can be enabled by a configuration option to set the\nparameter used to retrieve the IDP ID from the environment.\n\nIf the value is not configured then every IDP can authenticate in\nany URL.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nCloses-Bug: 1390124\n'}, {'number': 24, 'created': '2015-01-16 14:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/808e463040e2205260baa80cabbd3284e2059b04', 'message': 'Multiple IDP authentication URL\n\nThis patch allows the specification of an IDP identifier for each\nauthentication URL created using the OS-Federation API. If the\nidentifier is provided during the creation of the IDP then\nonly the matching IDP can be used to authenticate against the URL.\n\nThis feature can be enabled by a configuration option to set the\nparameter used to retrieve the IDP ID from the environment.\n\nIf the value is not configured then every IDP can authenticate in\nany URL.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nCloses-Bug: 1390124\n'}, {'number': 25, 'created': '2015-01-18 13:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9d01b7c6ef6066fd87e41598ef64f447b79cdcdb', 'message': 'Multiple IDP authentication URL\n\nThis patch allows the specification of an IDP identifier for each\nauthentication URL created using the OS-Federation API. If the\nidentifier is provided during the creation of the IDP then\nonly the matching IDP can be used to authenticate against the URL.\n\nThis feature can be enabled by a configuration option to set the\nparameter used to retrieve the IDP ID from the environment.\n\nIf the value is not configured then every IDP can authenticate in\nany URL.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nCloses-Bug: 1390124\n'}, {'number': 26, 'created': '2015-01-19 13:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9ba37672872accbcf8cc53d1cbcc45dcc6d88a25', 'message': 'Multiple IDP authentication URL\n\nThis patch allows the specification of an IDP identifier for each\nauthentication URL created using the OS-Federation API. If the\nidentifier is provided during the creation of the IDP then\nonly the matching IDP can be used to authenticate against the URL.\n\nThis feature can be enabled by a configuration option to set the\nparameter used to retrieve the IDP ID from the environment.\n\nIf the value is not configured then every IDP can authenticate in\nany URL.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nImplements bp idp-id-registration\n'}, {'number': 27, 'created': '2015-01-29 14:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d271ca6e14369d19ead205e4e59e575c9b37f766', 'message': 'Multiple IDP authentication URL\n\nThis patch allows the specification of an IDP identifier for each\nauthentication URL created using the OS-Federation API. If the\nidentifier is provided during the creation of the IDP then\nonly the matching IDP can be used to authenticate against the URL.\n\nThis feature can be enabled by a configuration option to set the\nparameter used to retrieve the IDP ID from the environment.\n\nIf the value is not configured then every IDP can authenticate in\nany URL.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nImplements bp idp-id-registration\n'}, {'number': 28, 'created': '2015-01-29 16:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/77fec291ad861ec9996f81b88dc26eba4c04b474', 'message': 'Multiple IDP authentication URL\n\nThis patch allows the specification of an IDP identifier for each\nauthentication URL created using the OS-Federation API. If the\nidentifier is provided during the creation of the IDP then\nonly the matching IDP can be used to authenticate against the URL.\n\nThis feature can be enabled by a configuration option to set the\nparameter used to retrieve the IDP ID from the environment.\n\nIf the value is not configured then every IDP can authenticate in\nany URL.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nImplements bp idp-id-registration\n'}, {'number': 29, 'created': '2015-01-29 16:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/525384b61554a5bcf26d6cb00589788c8ddb1bab', 'message': 'Multiple IDP authentication URL\n\nThis patch allows the specification of an IDP identifier for each\nauthentication URL created using the OS-Federation API. If the\nidentifier is provided during the creation of the IDP then\nonly the matching IDP can be used to authenticate against the URL.\n\nThis feature can be enabled by a configuration option to set the\nparameter used to retrieve the IDP ID from the environment.\n\nIf the value is not configured then every IDP can authenticate in\nany URL.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nImplements bp idp-id-registration\n'}, {'number': 30, 'created': '2015-01-30 11:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d6516a4601cc41c0964df95151c6e9206a725d62', 'message': 'Multiple IDP authentication URL\n\nThis patch allows the specification of an IDP identifier for each\nauthentication URL created using the OS-Federation API. If the\nidentifier is provided during the creation of the IDP then\nonly the matching IDP can be used to authenticate against the URL.\n\nThis feature can be enabled by a configuration option to set the\nparameter used to retrieve the IDP ID from the environment.\n\nIf the value is not configured then every IDP can authenticate in\nany URL.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nImplements bp idp-id-registration\n'}, {'number': 31, 'created': '2015-01-30 11:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2456284a42db06a494221e468c78ca9bf7d53fba', 'message': 'Multiple IDP authentication URL\n\nThis patch allows the specification of an IDP identifier for each\nauthentication URL created using the OS-Federation API. If the\nidentifier is provided during the creation of the IDP then\nonly the matching IDP can be used to authenticate against the URL.\n\nThis feature can be enabled by a configuration option to set the\nparameter used to retrieve the IDP ID from the environment.\n\nIf the value is not configured then every IDP can authenticate in\nany URL.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nImplements bp idp-id-registration\n'}, {'number': 32, 'created': '2015-01-30 18:59:20.000000000', 'files': ['etc/keystone.conf.sample', 'keystone/common/config.py', 'keystone/auth/plugins/mapped.py', 'keystone/contrib/federation/controllers.py', 'keystone/contrib/federation/migrate_repo/versions/004_add_remote_id_column.py', 'keystone/tests/test_v3_federation.py', 'keystone/contrib/federation/utils.py', 'keystone/contrib/federation/backends/sql.py', 'keystone/tests/test_backend_federation_sql.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/bd5309e6bfc4186c395a991701dd0de7917ca599', 'message': 'Multiple IDP authentication URL\n\nThis patch allows the specification of an IDP identifier for each\nauthentication URL created using the OS-Federation API. If the\nidentifier is provided during the creation of the IDP then\nonly the matching IDP can be used to authenticate against the URL.\n\nThis feature can be enabled by a configuration option to set the\nparameter used to retrieve the IDP ID from the environment.\n\nIf the value is not configured then every IDP can authenticate in\nany URL.\n\nChange-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac\nImplements bp idp-id-registration\n'}]",106,142743,bd5309e6bfc4186c395a991701dd0de7917ca599,139,16,32,10335,,,0,"Multiple IDP authentication URL

This patch allows the specification of an IDP identifier for each
authentication URL created using the OS-Federation API. If the
identifier is provided during the creation of the IDP then
only the matching IDP can be used to authenticate against the URL.

This feature can be enabled by a configuration option to set the
parameter used to retrieve the IDP ID from the environment.

If the value is not configured then every IDP can authenticate in
any URL.

Change-Id: I857d61e49c3f82ee0b3c50970041ab0fd3f8c7ac
Implements bp idp-id-registration
",git fetch https://review.opendev.org/openstack/keystone refs/changes/43/142743/32 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/auth/plugins/mapped.py', 'keystone/contrib/federation/controllers.py', 'keystone/contrib/federation/utils.py', 'keystone/contrib/federation/backends/sql.py', 'keystone/contrib/federation/migrate_repo/versions/001_add_identity_provider_table.py']",5,7e0e5a21d839337806b62d278033f3c3e4185ffe,bug/1390124," sql.Column('remote_id', sql.String(256), nullable=True),",,21,4
openstack%2Fopenstack-ansible~master~I2e25029dab4969181a4481af68ed802414e8d5c1,openstack/openstack-ansible,master,I2e25029dab4969181a4481af68ed802414e8d5c1,Store all package repo URLs in variables,MERGED,2015-01-27 04:04:42.000000000,2015-02-02 20:03:07.000000000,2015-01-28 10:06:48.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7217}, {'_account_id': 7353}, {'_account_id': 9884}, {'_account_id': 12892}, {'_account_id': 14805}]","[{'number': 1, 'created': '2015-01-27 04:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e0672720bd39e2d8e56ac1e7b88e24bb8c61cb73', 'message': 'Store all package repo URLs in variables\n\nThis change stores the URL of each package repo in a variable to allow for them to be overridable through user configuration.\n\nChange-Id: I2e25029dab4969181a4481af68ed802414e8d5c1\nCloses-Bug: 1414880\n'}, {'number': 2, 'created': '2015-01-27 16:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e78595a599a07309a1ea94ba78e270fb6c58d381', 'message': 'Store all package repo URLs in variables\n\nThis change stores the URL of each package repo in a variable\nto allow for them to be overridable through user configuration.\n\nChange-Id: I2e25029dab4969181a4481af68ed802414e8d5c1\nCloses-Bug: 1414880\n'}, {'number': 3, 'created': '2015-01-27 19:38:15.000000000', 'files': ['rpc_deployment/vars/repo_packages/raxmon_agent.yml', 'rpc_deployment/vars/repo_packages/hosts.yml', 'rpc_deployment/vars/repo_packages/elasticsearch.yml', 'rpc_deployment/vars/repo_packages/logstash.yml', 'rpc_deployment/inventory/group_vars/all.yml', 'rpc_deployment/vars/repo_packages/rsyslog.yml', 'rpc_deployment/vars/repo_packages/rabbitmq.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c7f37d6efc570071e4733035a573b464e6b0d3b3', 'message': 'Store all package repo URLs in variables\n\nThis change stores the URL of each package repo in a variable\nto allow for them to be overridable through user configuration.\n\nChange-Id: I2e25029dab4969181a4481af68ed802414e8d5c1\nCloses-Bug: 1414880\n'}]",1,150252,c7f37d6efc570071e4733035a573b464e6b0d3b3,20,7,3,14805,,,0,"Store all package repo URLs in variables

This change stores the URL of each package repo in a variable
to allow for them to be overridable through user configuration.

Change-Id: I2e25029dab4969181a4481af68ed802414e8d5c1
Closes-Bug: 1414880
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/52/150252/2 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/vars/repo_packages/raxmon_agent.yml', 'rpc_deployment/vars/repo_packages/hosts.yml', 'rpc_deployment/vars/repo_packages/elasticsearch.yml', 'rpc_deployment/vars/repo_packages/logstash.yml', 'rpc_deployment/inventory/group_vars/all.yml', 'rpc_deployment/vars/repo_packages/rsyslog.yml', 'rpc_deployment/vars/repo_packages/rabbitmq.yml']",7,e0672720bd39e2d8e56ac1e7b88e24bb8c61cb73,bug/1414880," - { repo: ""deb {{ rabbitmq_repo_url }} testing main"", state: ""present"" }"," - { repo: ""deb http://www.rabbitmq.com/debian/ testing main"", state: ""present"" }",19,9
openstack%2Fproject-config~master~I217a2b92b80ce6cc3f286e11acea6455ec505655,openstack/project-config,master,I217a2b92b80ce6cc3f286e11acea6455ec505655,"Revert ""Revert ""Push dg-tempest-dsvm-full logs to swift""""",MERGED,2015-02-02 19:09:55.000000000,2015-02-02 19:58:52.000000000,2015-02-02 19:58:51.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-02-02 19:09:55.000000000', 'files': ['jenkins/jobs/macros.yaml', 'jenkins/jobs/devstack-gate.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/fbc4fb4fbde311086e784c146a6de2fdef5d9c10', 'message': 'Revert ""Revert ""Push dg-tempest-dsvm-full logs to swift""""\n\nThis reverts commit 9fe1a61101890af1b405c87ba244fb3cc044e4d9.\n\nThe original change was reverted because the virtualenv required to run\nthe swift upload script was not built with all dependencies. We have\nsince corrected the virtualenv builds and all current devstack-* images\nthat run these d-g jobs are up to date with properly built virtualenvs.\n\nChange-Id: I217a2b92b80ce6cc3f286e11acea6455ec505655\n'}]",0,152235,fbc4fb4fbde311086e784c146a6de2fdef5d9c10,8,4,1,4146,,,0,"Revert ""Revert ""Push dg-tempest-dsvm-full logs to swift""""

This reverts commit 9fe1a61101890af1b405c87ba244fb3cc044e4d9.

The original change was reverted because the virtualenv required to run
the swift upload script was not built with all dependencies. We have
since corrected the virtualenv builds and all current devstack-* images
that run these d-g jobs are up to date with properly built virtualenvs.

Change-Id: I217a2b92b80ce6cc3f286e11acea6455ec505655
",git fetch https://review.opendev.org/openstack/project-config refs/changes/35/152235/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/macros.yaml', 'jenkins/jobs/devstack-gate.yaml']",2,fbc4fb4fbde311086e784c146a6de2fdef5d9c10,d-g-swift-logs, - zuul-swift-devstack-logs - zuul-swift-upload-console-log - zuul-swift-devstack-logs - zuul-swift-upload-console-log,,10,0
openstack%2Fnova~master~Iec08a33ec974a133ee5a620790af9308204a5f64,openstack/nova,master,Iec08a33ec974a133ee5a620790af9308204a5f64,Add update_or_create flag to BDM objects create(),MERGED,2014-06-07 20:03:58.000000000,2015-02-02 19:57:25.000000000,2015-02-02 19:57:22.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1030}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 5511}, {'_account_id': 6987}, {'_account_id': 8247}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10692}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-06-07 20:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/acd5d4e5867cdd0f5cbb964b4284dcade806f9de', 'message': 'Add update_or_create flag to BDM objects create()\n\nWhen creating block devices for the first time on instance create - we\nneed to consider some things we would normally not care about, such as\nthat it is possible to have block devices specified in the boot request\nthat are meant to override those specifide in the image using the device\nname.\n\nDatabase API method block_device_mapping_update_or_create has the logic\nto allow for this so we want objects to call it when needed. We use the\nexisting create method that we enhance with a new named argument,\ninstead of adding a new one, as it makes for a simpler and cleaner API.\n\nChange-Id: Iec08a33ec974a133ee5a620790af9308204a5f64\n'}, {'number': 2, 'created': '2014-06-09 13:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5febe50d28416a837ec56f4fe8054eaebe27e5f2', 'message': 'Add update_or_create flag to BDM objects create()\n\nWhen creating block devices for the first time on instance create - we\nneed to consider some things we would normally not care about, such as\nthat it is possible to have block devices specified in the boot request\nthat are meant to override those specifide in the image using the device\nname.\n\nDatabase API method block_device_mapping_update_or_create has the logic\nto allow for this so we want objects to call it when needed. We use the\nexisting create method that we enhance with a new named argument,\ninstead of adding a new one, as it makes for a simpler and cleaner API.\n\nChange-Id: Iec08a33ec974a133ee5a620790af9308204a5f64\n'}, {'number': 3, 'created': '2014-06-11 16:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7509541003c894ab6caf7df0843822cbf89e35fa', 'message': 'Add update_or_create flag to BDM objects create()\n\nWhen creating block devices for the first time on instance create - we\nneed to consider some things we would normally not care about, such as\nthat it is possible to have block devices specified in the boot request\nthat are meant to override those specified in the image using the device\nname.\n\nDatabase API method block_device_mapping_update_or_create has the logic\nto allow for this so we want objects to call it when needed. We use the\nexisting create method that we enhance with a new named argument,\ninstead of adding a new one, as it makes for a simpler and cleaner API.\n\nChange-Id: Iec08a33ec974a133ee5a620790af9308204a5f64\n'}, {'number': 4, 'created': '2014-06-12 07:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/357101fe3ff1db4457c098adee3ef787b8c6d102', 'message': 'Add update_or_create flag to BDM objects create()\n\nWhen creating block devices for the first time on instance create - we\nneed to consider some things we would normally not care about, such as\nthat it is possible to have block devices specified in the boot request\nthat are meant to override those specified in the image using the device\nname.\n\nDatabase API method block_device_mapping_update_or_create has the logic\nto allow for this so we want objects to call it when needed. We use the\nexisting create method that we enhance with a new named argument,\ninstead of adding a new one, as it makes for a simpler and cleaner API.\n\nChange-Id: Iec08a33ec974a133ee5a620790af9308204a5f64\n'}, {'number': 5, 'created': '2014-06-13 07:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/586be92880750b3406d6003783c4dc6b11e61149', 'message': 'Add update_or_create flag to BDM objects create()\n\nWhen creating block devices for the first time on instance create - we\nneed to consider some things we would normally not care about, such as\nthat it is possible to have block devices specified in the boot request\nthat are meant to override those specified in the image using the device\nname.\n\nDatabase API method block_device_mapping_update_or_create has the logic\nto allow for this so we want objects to call it when needed. We use the\nexisting create method that we enhance with a new named argument,\ninstead of adding a new one, as it makes for a simpler and cleaner API.\n\nChange-Id: Iec08a33ec974a133ee5a620790af9308204a5f64\n'}, {'number': 6, 'created': '2014-06-13 15:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/560e74a057c4f10b77b2aeeeffcd7874c1e68213', 'message': 'Add update_or_create flag to BDM objects create()\n\nWhen creating block devices for the first time on instance create - we\nneed to consider some things we would normally not care about, such as\nthat it is possible to have block devices specified in the boot request\nthat are meant to override those specified in the image using the device\nname.\n\nDatabase API method block_device_mapping_update_or_create has the logic\nto allow for this so we want objects to call it when needed. We use the\nexisting create method that we enhance with a new named argument,\ninstead of adding a new one, as it makes for a simpler and cleaner API.\n\nChange-Id: Iec08a33ec974a133ee5a620790af9308204a5f64\n'}, {'number': 7, 'created': '2014-06-16 10:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/428bdbc0b1ccb517a1ebeeee1b69394d47ed59fc', 'message': 'Add update_or_create flag to BDM objects create()\n\nWhen creating block devices for the first time on instance create - we\nneed to consider some things we would normally not care about, such as\nthat it is possible to have block devices specified in the boot request\nthat are meant to override those specified in the image using the device\nname.\n\nDatabase API method block_device_mapping_update_or_create has the logic\nto allow for this so we want objects to call it when needed. We use the\nexisting create method that we enhance with a new named argument,\ninstead of adding a new one, as it makes for a simpler and cleaner API.\n\nChange-Id: Iec08a33ec974a133ee5a620790af9308204a5f64\n'}, {'number': 8, 'created': '2014-06-17 10:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2cb4ca290c686f6dc7238a044be56d4bef89fabe', 'message': 'Add update_or_create flag to BDM objects create()\n\nWhen creating block devices for the first time on instance create - we\nneed to consider some things we would normally not care about, such as\nthat it is possible to have block devices specified in the boot request\nthat are meant to override those specified in the image using the device\nname.\n\nDatabase API method block_device_mapping_update_or_create has the logic\nto allow for this so we want objects to call it when needed. We use the\nexisting create method that we enhance with a new named argument,\ninstead of adding a new one, as it makes for a simpler and cleaner API.\n\nChange-Id: Iec08a33ec974a133ee5a620790af9308204a5f64\n'}, {'number': 9, 'created': '2014-06-17 11:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93a04dbc07a2f1ef354866f7c06d907f44a9b5fd', 'message': 'Add update_or_create flag to BDM objects create()\n\nWhen creating block devices for the first time on instance create - we\nneed to consider some things we would normally not care about, such as\nthat it is possible to have block devices specified in the boot request\nthat are meant to override those specified in the image using the device\nname.\n\nDatabase API method block_device_mapping_update_or_create has the logic\nto allow for this so we want objects to call it when needed. We use the\nexisting create method that we enhance with a new named argument,\ninstead of adding a new one, as it makes for a simpler and cleaner API.\n\nChange-Id: Iec08a33ec974a133ee5a620790af9308204a5f64\n'}, {'number': 10, 'created': '2014-07-02 13:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1754474eeca262d8c5c4d6588bee790cff7cee87', 'message': 'Add update_or_create flag to BDM objects create()\n\nWhen creating block devices for the first time on instance create - we\nneed to consider some things we would normally not care about, such as\nthat it is possible to have block devices specified in the boot request\nthat are meant to override those specified in the image using the device\nname.\n\nDatabase API method block_device_mapping_update_or_create has the logic\nto allow for this so we want objects to call it when needed. We use the\nexisting create method that we enhance with a new named argument,\ninstead of adding a new one, as it makes for a simpler and cleaner API.\n\nChange-Id: Iec08a33ec974a133ee5a620790af9308204a5f64\n'}, {'number': 11, 'created': '2014-07-03 07:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47ed16a472521d6dbd747df17d4e0fd95bed073e', 'message': 'Add update_or_create flag to BDM objects create()\n\nWhen creating block devices for the first time on instance create - we\nneed to consider some things we would normally not care about, such as\nthat it is possible to have block devices specified in the boot request\nthat are meant to override those specified in the image using the device\nname.\n\nDatabase API method block_device_mapping_update_or_create has the logic\nto allow for this so we want objects to call it when needed. We use the\nexisting create method that we enhance with a new named argument,\ninstead of adding a new one, as it makes for a simpler and cleaner API.\n\nChange-Id: Iec08a33ec974a133ee5a620790af9308204a5f64\n'}, {'number': 12, 'created': '2014-07-04 16:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c206c3b5639dbf3cd78a686f348da5d0989db8f', 'message': 'Add update_or_create flag to BDM objects create()\n\nWhen creating block devices for the first time on instance create - we\nneed to consider some things we would normally not care about, such as\nthat it is possible to have block devices specified in the boot request\nthat are meant to override those specified in the image using the device\nname.\n\nDatabase API method block_device_mapping_update_or_create has the logic\nto allow for this so we want objects to call it when needed. We use the\nexisting create method that we enhance with a new named argument,\ninstead of adding a new one, as it makes for a simpler and cleaner API.\n\nChange-Id: Iec08a33ec974a133ee5a620790af9308204a5f64\n'}, {'number': 13, 'created': '2014-07-17 09:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/020e7445a924c546d4e4acee0b8eb26e616d2eae', 'message': 'Add update_or_create flag to BDM objects create()\n\nWhen creating block devices for the first time on instance create - we\nneed to consider some things we would normally not care about, such as\nthat it is possible to have block devices specified in the boot request\nthat are meant to override those specified in the image using the device\nname.\n\nDatabase API method block_device_mapping_update_or_create has the logic\nto allow for this so we want objects to call it when needed. We use the\nexisting create method that we enhance with a new named argument,\ninstead of adding a new one, as it makes for a simpler and cleaner API.\n\nChange-Id: Iec08a33ec974a133ee5a620790af9308204a5f64\n'}, {'number': 14, 'created': '2014-07-28 11:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1aca282c90153d692c8127bbc8f2e68fa3952b3b', 'message': 'Add update_or_create flag to BDM objects create()\n\nWhen creating block devices for the first time on instance create - we\nneed to consider some things we would normally not care about, such as\nthat it is possible to have block devices specified in the boot request\nthat are meant to override those specified in the image using the device\nname.\n\nDatabase API method block_device_mapping_update_or_create has the logic\nto allow for this so we want objects to call it when needed. We use the\nexisting create method that we enhance with a new named argument,\ninstead of adding a new one, as it makes for a simpler and cleaner API.\n\nChange-Id: Iec08a33ec974a133ee5a620790af9308204a5f64\n'}, {'number': 15, 'created': '2014-07-29 14:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd47926639040d4311d09914475a7570ef0a5d5a', 'message': 'Add update_or_create flag to BDM objects create()\n\nWhen creating block devices for the first time on instance create - we\nneed to consider some things we would normally not care about, such as\nthat it is possible to have block devices specified in the boot request\nthat are meant to override those specified in the image using the device\nname.\n\nDatabase API method block_device_mapping_update_or_create has the logic\nto allow for this so we want objects to call it when needed. We use the\nexisting create method that we enhance with a new named argument,\ninstead of adding a new one, as it makes for a simpler and cleaner API.\n\nChange-Id: Iec08a33ec974a133ee5a620790af9308204a5f64\n'}, {'number': 16, 'created': '2014-08-14 12:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b98528890f8dc75b029810055a390bfd4ddfd5b', 'message': 'Add update_or_create flag to BDM objects create()\n\nWhen creating block devices for the first time on instance create - we\nneed to consider some things we would normally not care about, such as\nthat it is possible to have block devices specified in the boot request\nthat are meant to override those specified in the image using the device\nname.\n\nDatabase API method block_device_mapping_update_or_create has the logic\nto allow for this so we want objects to call it when needed. We use the\nexisting add an update_or_create method that does most of the things\ncreate() does but calls a different db_api method, so we use the\nexisting code that we extracted into a private method with a flag.\n\nChange-Id: Iec08a33ec974a133ee5a620790af9308204a5f64\n'}, {'number': 17, 'created': '2014-08-14 22:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e73353906df6222717f4876e6e5de917d5579714', 'message': 'Add update_or_create flag to BDM objects create()\n\nWhen creating block devices for the first time on instance create - we\nneed to consider some things we would normally not care about, such as\nthat it is possible to have block devices specified in the boot request\nthat are meant to override those specified in the image using the device\nname.\n\nDatabase API method block_device_mapping_update_or_create has the logic\nto allow for this so we want objects to call it when needed. We use the\nexisting add an update_or_create method that does most of the things\ncreate() does but calls a different db_api method, so we use the\nexisting code that we extracted into a private method with a flag.\n\nChange-Id: Iec08a33ec974a133ee5a620790af9308204a5f64\n'}, {'number': 18, 'created': '2015-01-28 15:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1230a04499797a535b8a445e13c4b59b2f8b6c39', 'message': 'Add update_or_create flag to BDM objects create()\n\nWhen creating block devices for the first time on instance create - we\nneed to consider some things we would normally not care about, such as\nthat it is possible to have block devices specified in the boot request\nthat are meant to override those specified in the image using the device\nname.\n\nDatabase API method block_device_mapping_update_or_create has the logic\nto allow for this so we want objects to call it when needed. We use the\nexisting add an update_or_create method that does most of the things\ncreate() does but calls a different db_api method, so we use the\nexisting code that we extracted into a private method with a flag.\n\nBlueprint: kilo-objects\n\nChange-Id: Iec08a33ec974a133ee5a620790af9308204a5f64\n'}, {'number': 19, 'created': '2015-01-30 13:45:34.000000000', 'files': ['nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/objects/test_block_device.py', 'nova/objects/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3bfe00ca493d6b33384970847c95de0cba109c3e', 'message': 'Add update_or_create flag to BDM objects create()\n\nWhen creating block devices for the first time on instance create - we\nneed to consider some things we would normally not care about, such as\nthat it is possible to have block devices specified in the boot request\nthat are meant to override those specified in the image using the device\nname.\n\nDatabase API method block_device_mapping_update_or_create has the logic\nto allow for this so we want objects to call it when needed. We use the\nexisting add an update_or_create method that does most of the things\ncreate() does but calls a different db_api method, so we use the\nexisting code that we extracted into a private method with a flag.\n\nBlueprint: kilo-objects\n\nChange-Id: Iec08a33ec974a133ee5a620790af9308204a5f64\n'}]",9,98608,3bfe00ca493d6b33384970847c95de0cba109c3e,166,18,19,5511,,,0,"Add update_or_create flag to BDM objects create()

When creating block devices for the first time on instance create - we
need to consider some things we would normally not care about, such as
that it is possible to have block devices specified in the boot request
that are meant to override those specified in the image using the device
name.

Database API method block_device_mapping_update_or_create has the logic
to allow for this so we want objects to call it when needed. We use the
existing add an update_or_create method that does most of the things
create() does but calls a different db_api method, so we use the
existing code that we extracted into a private method with a flag.

Blueprint: kilo-objects

Change-Id: Iec08a33ec974a133ee5a620790af9308204a5f64
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/98608/19 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/objects/test_objects.py', 'nova/tests/objects/test_block_device.py', 'nova/objects/block_device.py']",3,acd5d4e5867cdd0f5cbb964b4284dcade806f9de,bp/kilo-objects," # Version 1.2: Add update_or_create to create method VERSION = '1.2' def create(self, context, update_or_create=False): cells_create = not update_or_create if update_or_create: db_bdm = db.block_device_mapping_update_or_create( context, updates, legacy=False) else: db_bdm = db.block_device_mapping_create( context, updates, legacy=False) cells_api.bdm_update_or_create_at_top( context, self, create=cells_create) # Version 1.3: Add update_or_create to create method VERSION = '1.3' '1.3': '1.2',"," VERSION = '1.1' def create(self, context): db_bdm = db.block_device_mapping_create(context, updates, legacy=False) cells_api.bdm_update_or_create_at_top(context, self, create=True) VERSION = '1.2'",34,13
openstack%2Ftrove~master~I30bd97d53d1d51704133eb63e25f32a20cf0d9a1,openstack/trove,master,I30bd97d53d1d51704133eb63e25f32a20cf0d9a1,Update DatastoreNotFound status code to 404,MERGED,2015-01-29 00:20:51.000000000,2015-02-02 19:57:13.000000000,2015-02-02 19:57:12.000000000,"[{'_account_id': 3}, {'_account_id': 5293}, {'_account_id': 6156}, {'_account_id': 7634}, {'_account_id': 7806}, {'_account_id': 8214}, {'_account_id': 8415}, {'_account_id': 10068}, {'_account_id': 10215}, {'_account_id': 11783}, {'_account_id': 13355}, {'_account_id': 14576}]","[{'number': 1, 'created': '2015-01-29 00:20:51.000000000', 'files': ['trove/common/wsgi.py', 'trove/tests/api/backups.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/54fa006ea2ed5568b276a176c078bc782da58473', 'message': ""Update DatastoreNotFound status code to 404\n\nExplicitly specifying DatastoreNotFound exception to return http\nstatus code 404. Previously we weren't specifying the status code\nfor the exception and were returning 400 by default. The unit test\ndepending on the previous status code has been updated to reflect\nthis change.\n\nCloses-Bug: 1415031\nChange-Id: I30bd97d53d1d51704133eb63e25f32a20cf0d9a1\n""}]",0,151055,54fa006ea2ed5568b276a176c078bc782da58473,17,12,1,14829,,,0,"Update DatastoreNotFound status code to 404

Explicitly specifying DatastoreNotFound exception to return http
status code 404. Previously we weren't specifying the status code
for the exception and were returning 400 by default. The unit test
depending on the previous status code has been updated to reflect
this change.

Closes-Bug: 1415031
Change-Id: I30bd97d53d1d51704133eb63e25f32a20cf0d9a1
",git fetch https://review.opendev.org/openstack/trove refs/changes/55/151055/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/common/wsgi.py', 'trove/tests/api/backups.py']",2,54fa006ea2ed5568b276a176c078bc782da58473,bug/1415031," assert_raises(exceptions.NotFound, instance_info.dbaas.backups.list,"," assert_raises(exceptions.BadRequest, instance_info.dbaas.backups.list,",3,2
openstack%2Ftrove~master~If691c5d177255cb08dcf6413af36fdffadc045cb,openstack/trove,master,If691c5d177255cb08dcf6413af36fdffadc045cb,Move cluster strategies to strategies/cluster,MERGED,2014-09-22 21:54:53.000000000,2015-02-02 19:56:43.000000000,2015-02-02 19:56:41.000000000,"[{'_account_id': 3}, {'_account_id': 1870}, {'_account_id': 5293}, {'_account_id': 5390}, {'_account_id': 7092}, {'_account_id': 7806}, {'_account_id': 8214}, {'_account_id': 8415}, {'_account_id': 9664}, {'_account_id': 10215}, {'_account_id': 11316}, {'_account_id': 11783}, {'_account_id': 13355}]","[{'number': 1, 'created': '2014-09-22 21:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/1b155ee1daaeb6a5628eada9e174c9e7fc681044', 'message': 'Move cluster strategies to strategies/cluster\n\nSo far there is only only strategy in the API and taskmanager.\nBut eventually there could be more. We could have other strategies such\nas storage strategy. Creating a cluster package in strategies will\nallow to package more strategies in the future.\n\npartially implements: blueprint cross-region-backup-availability\n\nChange-Id: If691c5d177255cb08dcf6413af36fdffadc045cb\n'}, {'number': 2, 'created': '2014-09-22 23:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/0551777bc5e4afab1ccec939c3f83ba06639f391', 'message': 'Move cluster strategies to strategies/cluster\n\nSo far there is only one strategy in the API and taskmanager.\nBut eventually there could be more. We could have other strategies such\nas storage strategy. Creating a cluster package in strategies will\nallow to package more strategies in the future.\n\npartially implements: blueprint cross-region-backup-availability\n\nChange-Id: If691c5d177255cb08dcf6413af36fdffadc045cb\n'}, {'number': 3, 'created': '2014-09-25 21:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/3518c02917d877be46d59827c5b779da1177f38c', 'message': 'Move cluster strategies to strategies/cluster\n\nSo far there is only one strategy in the API and taskmanager.\nBut eventually there could be more. We could have other strategies such\nas storage strategy. Creating a cluster package in strategies will\nallow to package more strategies in the future.\n\npartially implements: blueprint cross-region-backup-availability\n\nChange-Id: If691c5d177255cb08dcf6413af36fdffadc045cb\n'}, {'number': 4, 'created': '2014-11-14 23:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/c0143e06610492e93a90b0d83fd05fd87120e7b9', 'message': 'Move cluster strategies to strategies/cluster\n\nSo far there is only one strategy in the API and taskmanager.\nBut eventually there could be more. We could have other strategies such\nas storage strategy. Creating a cluster package in strategies will\nallow to package more strategies in the future.\npartially implements: blueprint cross-region-backup-availability\nChange-Id: If691c5d177255cb08dcf6413af36fdffadc045cb\n'}, {'number': 5, 'created': '2015-01-21 19:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7b5a2f4e5a15be9f50b74f39098866a7e1647868', 'message': 'Move cluster strategies to strategies/cluster\n\nSo far there is only one strategy in the API and taskmanager.\nBut eventually there could be more. We could have other strategies such\nas storage strategy. Creating a cluster package in strategies will\nallow to package more strategies in the future.\npartially implements: blueprint cross-region-backup-availability\nChange-Id: If691c5d177255cb08dcf6413af36fdffadc045cb\n'}, {'number': 6, 'created': '2015-01-23 19:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/9295b1be0512fb64fa6d241245d44a0073060356', 'message': 'Move cluster strategies to strategies/cluster\n\nSo far there is only one strategy in the API and taskmanager.\nBut eventually there could be more. We could have other strategies such\nas storage strategy. Creating a cluster package in strategies will\nallow to package more strategies in the future.\n\nCloses-Bug: 1414132\nChange-Id: If691c5d177255cb08dcf6413af36fdffadc045cb\n'}, {'number': 7, 'created': '2015-01-27 02:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/47f1aa96d9865044013c697e4dd5e99a8fb402bd', 'message': 'Move cluster strategies to strategies/cluster\n\nSo far there is only one strategy in the API and taskmanager.\nBut eventually there could be more. We could have other strategies such\nas storage strategy. Creating a cluster package in strategies will\nallow to package more strategies in the future.\n\nCloses-Bug: 1414132\nChange-Id: If691c5d177255cb08dcf6413af36fdffadc045cb\n'}, {'number': 8, 'created': '2015-01-27 02:53:47.000000000', 'files': ['trove/tests/unittests/taskmanager/test_api.py', 'trove/cluster/views.py', 'trove/common/strategies/cluster/mongodb/taskmanager.py', 'trove/common/strategies/cluster/strategy.py', 'trove/common/strategies/cluster/mongodb/guestagent.py', 'trove/taskmanager/manager.py', 'trove/tests/unittests/cluster/test_cluster.py', 'trove/tests/unittests/cluster/test_cluster_views.py', 'trove/tests/unittests/taskmanager/test_clusters.py', 'trove/common/strategies/cluster/mongodb/api.py', 'trove/common/strategies/cluster/mongodb/__init__.py', 'trove/cluster/service.py', 'trove/common/cfg.py', 'trove/common/strategies/cluster/__init__.py', 'trove/extensions/mgmt/clusters/views.py', 'trove/taskmanager/api.py', 'trove/tests/unittests/cluster/test_cluster_models.py', 'trove/taskmanager/models.py', 'trove/tests/unittests/cluster/test_cluster_controller.py', 'trove/common/remote.py', 'trove/cluster/models.py', 'trove/common/strategies/cluster/base.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/342826a8ff004926d091f6d777b7b17051209476', 'message': 'Move cluster strategies to strategies/cluster\n\nSo far there is only one strategy in the API and taskmanager.\nBut eventually there could be more. We could have other strategies such\nas storage strategy. Creating a cluster package in strategies will\nallow to package more strategies in the future.\n\nCloses-Bug: 1414132\nChange-Id: If691c5d177255cb08dcf6413af36fdffadc045cb\n'}]",4,123254,342826a8ff004926d091f6d777b7b17051209476,52,13,8,5390,,,0,"Move cluster strategies to strategies/cluster

So far there is only one strategy in the API and taskmanager.
But eventually there could be more. We could have other strategies such
as storage strategy. Creating a cluster package in strategies will
allow to package more strategies in the future.

Closes-Bug: 1414132
Change-Id: If691c5d177255cb08dcf6413af36fdffadc045cb
",git fetch https://review.opendev.org/openstack/trove refs/changes/54/123254/8 && git format-patch -1 --stdout FETCH_HEAD,"['trove/tests/unittests/taskmanager/test_api.py', 'trove/common/strategies/cluster/mongodb/taskmanager.py', 'trove/common/strategies/cluster/mongodb/guestagent.py', 'trove/tests/unittests/cluster/test_cluster.py', 'trove/tests/unittests/cluster/test_cluster_views.py', 'trove/tests/unittests/taskmanager/test_clusters.py', 'trove/common/strategies/cluster/mongodb/api.py', 'trove/common/strategies/cluster/mongodb/__init__.py', 'trove/common/cfg.py', 'trove/common/strategies/cluster/__init__.py', 'trove/tests/unittests/cluster/test_cluster_models.py', 'trove/common/strategies/cluster/base.py']",12,1b155ee1daaeb6a5628eada9e174c9e7fc681044,bug/1414132,,,13,12
openstack%2Fopenstack-manuals~master~Ieffee2bedc2482697d6a0a7277be56c88fcb5a53,openstack/openstack-manuals,master,Ieffee2bedc2482697d6a0a7277be56c88fcb5a53,Update Telemetry config reference,MERGED,2015-02-02 09:43:21.000000000,2015-02-02 19:55:27.000000000,2015-02-02 19:55:26.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 6547}, {'_account_id': 14891}]","[{'number': 1, 'created': '2015-02-02 09:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/554cfcbf7ee969b669d4ef0a379996b4ea56e94c', 'message': 'Update Telemetry config reference\n\nUpdate the config reference for Ceilometer with the recent changes and\nalso update the conf-changes file.\n\nChange-Id: Ieffee2bedc2482697d6a0a7277be56c88fcb5a53\n'}, {'number': 2, 'created': '2015-02-02 10:07:37.000000000', 'files': ['doc/common/tables/ceilometer-testing.xml', 'tools/autogenerate-config-flagmappings/ceilometer.flagmappings', 'doc/common/tables/ceilometer-rabbitmq.xml', 'doc/common/tables/ceilometer-concurrency.xml', 'doc/common/tables/ceilometer-auth_token.xml', 'doc/common/tables/ceilometer-api.xml', 'doc/config-reference/ch_telemetryconfigure.xml', 'doc/common/tables/ceilometer-rpc.xml', 'doc/common/tables/ceilometer-conf-changes.xml', 'doc/common/tables/ceilometer-logging.xml', 'doc/common/tables/ceilometer-zeromq.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c037dc05a7fa0b912cbd76541e0eb5c33921eba0', 'message': 'Update Telemetry config reference\n\nUpdate the config reference for Ceilometer with the recent changes and\nalso update the conf-changes file.\n\nChange-Id: Ieffee2bedc2482697d6a0a7277be56c88fcb5a53\n'}]",0,152065,c037dc05a7fa0b912cbd76541e0eb5c33921eba0,10,4,2,9562,,,0,"Update Telemetry config reference

Update the config reference for Ceilometer with the recent changes and
also update the conf-changes file.

Change-Id: Ieffee2bedc2482697d6a0a7277be56c88fcb5a53
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/65/152065/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/common/tables/ceilometer-testing.xml', 'tools/autogenerate-config-flagmappings/ceilometer.flagmappings', 'doc/common/tables/ceilometer-rabbitmq.xml', 'doc/common/tables/ceilometer-auth_token.xml', 'doc/common/tables/ceilometer-concurrency.xml', 'doc/common/tables/ceilometer-api.xml', 'doc/config-reference/ch_telemetryconfigure.xml', 'doc/common/tables/ceilometer-rpc.xml', 'doc/common/tables/ceilometer-conf-changes.xml', 'doc/common/tables/ceilometer-logging.xml', 'doc/common/tables/ceilometer-zeromq.xml']",11,554cfcbf7ee969b669d4ef0a379996b4ea56e94c,ceilo-conf-update, <td><option>rpc_zmq_matchmaker</option> = <replaceable>oslo_messaging._drivers.matchmaker.MatchMakerLocalhost</replaceable></td>, <td><option>rpc_zmq_matchmaker</option> = <replaceable>oslo.messaging._drivers.matchmaker.MatchMakerLocalhost</replaceable></td>,143,30
openstack%2Ffuel-specs~master~Ia594c808a4175421dbbc35e02da936bdc1afa53d,openstack/fuel-specs,master,Ia594c808a4175421dbbc35e02da936bdc1afa53d,Blueprint: support-fwaas-in-mos,ABANDONED,2015-01-20 09:45:04.000000000,2015-02-02 19:42:25.000000000,,"[{'_account_id': 3}, {'_account_id': 6502}, {'_account_id': 7125}, {'_account_id': 7227}, {'_account_id': 7468}, {'_account_id': 7604}, {'_account_id': 8749}, {'_account_id': 9977}, {'_account_id': 10959}, {'_account_id': 11163}, {'_account_id': 11827}]","[{'number': 1, 'created': '2015-01-20 09:45:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/53bb797bdf49f74f81e9a9f4ebe9a7b4f47ca7ac', 'message': 'Blueprint: support-fwaas-in-mos\n\n    - Implement FUEL plugins for FWaaS functionality in MOS\n\nImplements blueprint: support-vpnaas-in-mos\n\nChange-Id: Ia594c808a4175421dbbc35e02da936bdc1afa53d\n'}, {'number': 2, 'created': '2015-01-23 12:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/2929bf844703a72745b38b4a1b213433ecf334ac', 'message': 'Blueprint: support-fwaas-in-mos\n\n    - Implement FUEL plugins for FWaaS functionality in MOS\n\nImplements blueprint: support-fwaas-in-mos\n\nChange-Id: Ia594c808a4175421dbbc35e02da936bdc1afa53d\n'}, {'number': 3, 'created': '2015-01-23 13:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/321fb902b4b15636dd77631c3f43fbee0d1c5959', 'message': 'Blueprint: support-fwaas-in-mos\n\n    - Implement FUEL plugins for FWaaS functionality in MOS\n\nImplements blueprint: support-fwaas-in-mos\n\nChange-Id: Ia594c808a4175421dbbc35e02da936bdc1afa53d\n'}, {'number': 4, 'created': '2015-01-23 13:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/fad8c822f117ddd81d3c42498c811b34857dadf0', 'message': 'Blueprint: support-fwaas-in-mos\n\n    - Implement FUEL plugins for FWaaS functionality in MOS\n\nImplements blueprint: support-fwaas-in-mos\n\nChange-Id: Ia594c808a4175421dbbc35e02da936bdc1afa53d\n'}, {'number': 5, 'created': '2015-01-27 08:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/68a630e23537fb2671645840c94099f85815271c', 'message': 'Blueprint: support-fwaas-in-mos\n\n    - Implement FUEL plugins for FWaaS functionality in MOS\n\nImplements blueprint: support-fwaas-in-mos\n\nChange-Id: Ia594c808a4175421dbbc35e02da936bdc1afa53d\n'}, {'number': 6, 'created': '2015-01-27 14:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/c24a103e9547e58d0d30533928e092964cd11a77', 'message': 'Blueprint: support-fwaas-in-mos\n\n    - Implement FUEL plugins for FWaaS functionality in MOS\n\nImplements blueprint: support-fwaas-in-mos\n\nChange-Id: Ia594c808a4175421dbbc35e02da936bdc1afa53d\n'}, {'number': 7, 'created': '2015-01-27 15:18:44.000000000', 'files': ['specs/6.1/support-fwaas-in-mos.rst'], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/40c22a56817107f7e7fa58f32d33c0efe8ec1d19', 'message': 'Blueprint: support-fwaas-in-mos\n\n    - Implement FUEL plugins for FWaaS functionality in MOS\n\nImplements blueprint: support-fwaas-in-mos\n\nChange-Id: Ia594c808a4175421dbbc35e02da936bdc1afa53d\n'}]",27,148475,40c22a56817107f7e7fa58f32d33c0efe8ec1d19,32,11,7,6502,,,0,"Blueprint: support-fwaas-in-mos

    - Implement FUEL plugins for FWaaS functionality in MOS

Implements blueprint: support-fwaas-in-mos

Change-Id: Ia594c808a4175421dbbc35e02da936bdc1afa53d
",git fetch https://review.opendev.org/openstack/fuel-specs refs/changes/75/148475/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/6.1/support-fwaas-in-mos.rst'],1,53bb797bdf49f74f81e9a9f4ebe9a7b4f47ca7ac,bp/support-fwaas-in-mos,"========================================= Support FWaaS Neutron feature in MOS/FUEL ========================================= https://blueprints.launchpad.net/fuel/+spec/support-fwaas-in-mos Problem description =================== Firewall as a service is a very popular and useful feature, which OpenStack customers often use in prodcution. So we have to have this functionality in Mirantis OpenStack. Proposed change =============== Implement FUEL plugin which should configure FWaaS functionality in Neutron and Horizon. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Upgrade impact -------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Feature Lead: Andrey Epifanov Mandatory Design Reviewers: Stanislaw Bogatkin, Sergey Kolekonov, Sergey Vasilenko Developers: Andrey Epifanov QA: Work Items ---------- * Implement FUEL plugin for deployment FWaaS feauture in MOS Dependencies ============ None Testing ======= * Test this plugin on all FUEL deployment modes * Test FWaaS functionality as well: https://wiki.openstack.org/wiki/Quantum/FWaaS/Testing Documentation Impact ==================== This feature whould be documented. The planing guide will be updated. References ========== * https://wiki.openstack.org/wiki/Neutron/FWaaS * https://wiki.openstack.org/wiki/Neutron/FWaaS/HowToInstall * https://wiki.openstack.org/wiki/Quantum/FWaaS/Testing ",,110,0
openstack%2Fnova~master~I19d5182d11097c4796093d77b5b7de11b7bc7bd8,openstack/nova,master,I19d5182d11097c4796093d77b5b7de11b7bc7bd8,Save bdm in swap_volume,MERGED,2014-09-30 21:34:58.000000000,2015-02-02 19:32:38.000000000,2015-02-02 19:32:34.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6802}, {'_account_id': 6873}, {'_account_id': 8247}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-09-30 21:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50157b8f9e92fbddc704975be6520671d84d08e3', 'message': ""Save bdm in swap_volume\n\nswap_volume does not save bdm changes for connection_info. In\nswap_volume, a call is made to _connect_volume that modifies\nconnection_info. For example, in the LibvirtISCSIVolumeDriver,\nconnection_info['data']['host_device'] = host_device. However,\nthis update is not saved to the DB, such that any updates made\nwithin swap_volume are lost. Changes made in _connect_volume\nneed to be saved to the DB.\n\nChange-Id: I19d5182d11097c4796093d77b5b7de11b7bc7bd8\nCloses-Bug: #1375531\n""}, {'number': 2, 'created': '2014-10-07 19:19:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb61efee383d8bf9a089c895473db18004f9fa54', 'message': ""Save bdm in swap_volume\n\nswap_volume does not save bdm changes for connection_info. In\nswap_volume, a call is made to _connect_volume that modifies\nconnection_info. For example, in the LibvirtISCSIVolumeDriver,\nconnection_info['data']['host_device'] = host_device. However,\nthis update is not saved to the DB, such that any updates made\nwithin swap_volume are lost. Changes made in _connect_volume\nneed to be saved to the DB.\n\nChange-Id: I19d5182d11097c4796093d77b5b7de11b7bc7bd8\nCloses-Bug: #1375531\n""}, {'number': 3, 'created': '2014-10-07 21:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/595d65d141d004adcca556d7d189e7f446a84556', 'message': ""Save bdm in swap_volume\n\nswap_volume does not save bdm changes for connection_info. In\nswap_volume, a call is made to _connect_volume that modifies\nconnection_info. For example, in the LibvirtISCSIVolumeDriver,\nconnection_info['data']['host_device'] = host_device. However,\nthis update is not saved to the DB, such that any updates made\nwithin swap_volume are lost. Changes made in _connect_volume\nneed to be saved to the DB.\n\nChange-Id: I19d5182d11097c4796093d77b5b7de11b7bc7bd8\nCloses-Bug: #1375531\n""}, {'number': 4, 'created': '2014-12-08 15:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0620fad8480dfe60beeb6bee48b5a80a58992e48', 'message': ""Save bdm in swap_volume\n\nswap_volume does not save bdm changes for connection_info. In\nswap_volume, a call is made to _connect_volume that modifies\nconnection_info. For example, in the LibvirtISCSIVolumeDriver,\nconnection_info['data']['host_device'] = host_device. However,\nthis update is not saved to the DB, such that any updates made\nwithin swap_volume are lost. Changes made in _connect_volume\nneed to be saved to the DB.\n\nChange-Id: I19d5182d11097c4796093d77b5b7de11b7bc7bd8\nCloses-Bug: #1375531\n""}, {'number': 5, 'created': '2015-02-02 15:10:14.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/beae8b764c48fcb3f6bfb245f75be04e428e1942', 'message': ""Save bdm in swap_volume\n\nswap_volume does not save bdm changes for connection_info. In\nswap_volume, a call is made to _connect_volume that modifies\nconnection_info. For example, in the LibvirtISCSIVolumeDriver,\nconnection_info['data']['host_device'] = host_device. However,\nthis update is not saved to the DB, such that any updates made\nwithin swap_volume are lost. Changes made in _connect_volume\nneed to be saved to the DB.\n\nChange-Id: I19d5182d11097c4796093d77b5b7de11b7bc7bd8\nCloses-Bug: #1375531\n""}]",0,125208,beae8b764c48fcb3f6bfb245f75be04e428e1942,48,15,5,8247,,,0,"Save bdm in swap_volume

swap_volume does not save bdm changes for connection_info. In
swap_volume, a call is made to _connect_volume that modifies
connection_info. For example, in the LibvirtISCSIVolumeDriver,
connection_info['data']['host_device'] = host_device. However,
this update is not saved to the DB, such that any updates made
within swap_volume are lost. Changes made in _connect_volume
need to be saved to the DB.

Change-Id: I19d5182d11097c4796093d77b5b7de11b7bc7bd8
Closes-Bug: #1375531
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/125208/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/virt/libvirt/test_driver.py']",2,50157b8f9e92fbddc704975be6520671d84d08e3,bug/1375531," @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._disconnect_volume') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._swap_volume') @mock.patch('nova.virt.block_device.DriverVolumeBlockDevice.save') @mock.patch('nova.objects.block_device.BlockDeviceMapping.' 'get_by_volume_id') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_volume_config') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._connect_volume') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_disk_xml') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._lookup_by_name') def test_swap_volume_driver_bdm_save(self, lookup_by_name, get_disk_xml, connect_volume, get_volume_config, get_by_volume_id, volume_save, swap_volume, disconnect_volume): conn = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI()) instance = db.instance_create(self.context, self.test_instance) old_connection_info = {'driver_volume_type': 'fake', 'serial': 'old-volume-id', 'data': {'device_path': '/fake-old-volume', 'access_mode': 'rw'}} new_connection_info = {'driver_volume_type': 'fake', 'serial': 'new-volume-id', 'data': {'device_path': '/fake-new-volume', 'access_mode': 'rw'}} mock_dom = mock.MagicMock() mock_dom.XMLDesc.return_value = ""<domain/>"" lookup_by_name.return_value = mock_dom mock_xml = \ """""" <disk type='file'> <source file='/fake-old-volume'/> <target dev='vdb' bus='virtio'/> </disk> """""" get_disk_xml.return_value = mock_xml disk_info = {'bus': 'virtio', 'type': 'disk', 'dev': 'vdb'} get_volume_config.return_value = mock.MagicMock( source_path='/fake-new-volume') bdm = objects.BlockDeviceMapping(self.context, **fake_block_device.FakeDbBlockDeviceDict( {'id': 2, 'instance_uuid': 'fake-instance', 'device_name': '/dev/vdb', 'source_type': 'volume', 'destination_type': 'volume', 'volume_id': 'fake-volume-id-2', 'boot_index': 0})) get_by_volume_id.return_value = bdm conn.swap_volume(old_connection_info, new_connection_info, instance, '/dev/vdb', 1) lookup_by_name.assert_called_once_with(instance['name']) get_disk_xml.assert_called_once_with(mock_dom.XMLDesc(0), 'vdb') connect_volume.assert_called_once_with(new_connection_info, disk_info) self.assertTrue(volume_save.called) swap_volume.assert_called_once_with(mock_dom, 'vdb', '/fake-new-volume', 1) disconnect_volume.assert_called_once_with(old_connection_info, 'vdb') ",,67,0
openstack%2Fkeystone~master~I5af033922a090eabf7e4b1f514666ccce9ddcdcf,openstack/keystone,master,I5af033922a090eabf7e4b1f514666ccce9ddcdcf,Regenerate sample config file,MERGED,2015-01-30 02:17:13.000000000,2015-02-02 19:32:24.000000000,2015-02-02 19:32:23.000000000,"[{'_account_id': 3}, {'_account_id': 1916}, {'_account_id': 6482}, {'_account_id': 13055}]","[{'number': 1, 'created': '2015-01-30 02:17:13.000000000', 'files': ['etc/keystone.conf.sample'], 'web_link': 'https://opendev.org/openstack/keystone/commit/c2d696e7cf8574570e565f64311736948d74a4f3', 'message': 'Regenerate sample config file\n\nThe sample config file was out of date.\n\nChange-Id: I5af033922a090eabf7e4b1f514666ccce9ddcdcf\n'}]",0,151505,c2d696e7cf8574570e565f64311736948d74a4f3,8,4,1,6486,,,0,"Regenerate sample config file

The sample config file was out of date.

Change-Id: I5af033922a090eabf7e4b1f514666ccce9ddcdcf
",git fetch https://review.opendev.org/openstack/keystone refs/changes/05/151505/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/keystone.conf.sample'],1,c2d696e7cf8574570e565f64311736948d74a4f3,bp/eventlet-server-config,"# SSL version to use (valid only if SSL enabled). Valid values are TLSv1 and # SSLv23. SSLv2, SSLv3, TLSv1_1, and TLSv1_2 may be available on some # distributions. (string value)#rpc_zmq_matchmaker = oslo_messaging._drivers.matchmaker.MatchMakerLocalhost# Size of RPC thread pool. (integer value)",# SSL version to use (valid only if SSL enabled). valid values are TLSv1 and # SSLv23. SSLv2 and SSLv3 may be available on some distributions. (string # value)#rpc_zmq_matchmaker = oslo.messaging._drivers.matchmaker.MatchMakerLocalhost# Size of RPC greenthread pool. (integer value),5,5
openstack%2Fkeystone~master~I4ece3ad26c1888388a4a8839f7acf260228a9c71,openstack/keystone,master,I4ece3ad26c1888388a4a8839f7acf260228a9c71,Change oslo.utils to oslo_utils,MERGED,2015-01-16 23:16:00.000000000,2015-02-02 19:32:09.000000000,2015-02-02 19:32:07.000000000,"[{'_account_id': 3}, {'_account_id': 1916}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7491}, {'_account_id': 9142}, {'_account_id': 13055}, {'_account_id': 13478}]","[{'number': 1, 'created': '2015-01-16 23:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/562d5c86abb3cfc3c240c2935a45deb9c11ec449', 'message': 'Change oslo.utils to oslo_utils\n\nThe oslo libraries are moving away from namespace packages.\n\nA hacking check is added to enforce use of the new location.\n\nbp drop-namespace-packages\n\nChange-Id: I4ece3ad26c1888388a4a8839f7acf260228a9c71\n'}, {'number': 2, 'created': '2015-01-16 23:33:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ea95ca6f4422a95e45abbd24629c316c42ad6a4d', 'message': 'Change oslo.utils to oslo_utils\n\nThe oslo libraries are moving away from namespace packages.\n\nA hacking check is added to enforce use of the new location.\n\nbp drop-namespace-packages\n\nChange-Id: I4ece3ad26c1888388a4a8839f7acf260228a9c71\n'}, {'number': 3, 'created': '2015-01-16 23:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/80d0b12e29511920d3f944d50339c7cd125de0bd', 'message': 'Change oslo.utils to oslo_utils\n\nThe oslo libraries are moving away from namespace packages.\n\nA hacking check is added to enforce use of the new location.\n\nbp drop-namespace-packages\n\nChange-Id: I4ece3ad26c1888388a4a8839f7acf260228a9c71\n'}, {'number': 4, 'created': '2015-01-24 14:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ce5481737f9f5d4c23a06c266145382eb7a5f18c', 'message': 'Change oslo.utils to oslo_utils\n\nThe oslo libraries are moving away from namespace packages.\n\nA hacking check is added to enforce use of the new location.\n\nbp drop-namespace-packages\n\nChange-Id: I4ece3ad26c1888388a4a8839f7acf260228a9c71\n'}, {'number': 5, 'created': '2015-01-29 21:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/12a0ad5358d5649562d6e1a9a87cd902c3ef4bfb', 'message': 'Change oslo.utils to oslo_utils\n\nThe oslo libraries are moving away from namespace packages.\n\nA hacking check is added to enforce use of the new location.\n\nbp drop-namespace-packages\n\nChange-Id: I4ece3ad26c1888388a4a8839f7acf260228a9c71\n'}, {'number': 6, 'created': '2015-01-30 16:49:18.000000000', 'files': ['keystone/auth/controllers.py', 'keystone/hacking/checks.py', 'keystone/contrib/federation/idp.py', 'keystone/models/token_model.py', 'keystone/trust/backends/sql.py', 'keystone/contrib/revoke/model.py', 'keystone/tests/unit/token/test_token_model.py', 'keystone/common/wsgi.py', 'keystone/tests/test_v3.py', 'keystone/common/sql/migrate_repo/versions/042_endpoint_enabled.py', 'keystone/tests/test_backend.py', 'keystone/token/controllers.py', 'keystone/token/providers/common.py', 'keystone/tests/ksfixtures/hacking.py', 'keystone/common/sql/migration_helpers.py', 'keystone/token/persistence/core.py', 'keystone/tests/test_revoke.py', 'keystone/trust/controllers.py', 'keystone/tests/test_v3_os_revoke.py', 'keystone/tests/unit/test_hacking_checks.py', 'keystone/token/persistence/backends/kvs.py', 'keystone/auth/plugins/oauth1.py', 'keystone/tests/test_auth.py', 'keystone/token/provider.py', 'keystone/tests/test_keystoneclient.py', 'keystone/token/persistence/backends/sql.py', 'keystone/common/cache/backends/mongo.py', 'keystone/common/kvs/core.py', 'keystone/contrib/oauth1/backends/sql.py', 'keystone/contrib/revoke/controllers.py', 'keystone/common/manager.py', 'keystone/tests/test_token_provider.py', 'keystone/tests/test_v3_auth.py', 'keystone/contrib/revoke/core.py', 'keystone/identity/core.py', 'keystone/common/sql/migrate_repo/versions/044_service_enabled.py', 'keystone/tests/test_backend_kvs.py', 'keystone/contrib/revoke/backends/kvs.py', 'keystone/exception.py', 'keystone/contrib/federation/utils.py', 'keystone/contrib/oauth1/controllers.py', 'keystone/common/cache/core.py', 'keystone/common/utils.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/fc009d7e8f46c71c43b50dc76b63424d8ddbb54f', 'message': 'Change oslo.utils to oslo_utils\n\nThe oslo libraries are moving away from namespace packages.\n\nA hacking check is added to enforce use of the new location.\n\nbp drop-namespace-packages\n\nChange-Id: I4ece3ad26c1888388a4a8839f7acf260228a9c71\n'}]",0,148019,fc009d7e8f46c71c43b50dc76b63424d8ddbb54f,25,8,6,6486,,,0,"Change oslo.utils to oslo_utils

The oslo libraries are moving away from namespace packages.

A hacking check is added to enforce use of the new location.

bp drop-namespace-packages

Change-Id: I4ece3ad26c1888388a4a8839f7acf260228a9c71
",git fetch https://review.opendev.org/openstack/keystone refs/changes/19/148019/4 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/auth/controllers.py', 'keystone/hacking/checks.py', 'keystone/contrib/federation/idp.py', 'keystone/models/token_model.py', 'keystone/trust/backends/sql.py', 'keystone/contrib/revoke/model.py', 'keystone/tests/unit/token/test_token_model.py', 'keystone/common/wsgi.py', 'keystone/tests/test_v3.py', 'keystone/common/sql/migrate_repo/versions/042_endpoint_enabled.py', 'keystone/tests/test_backend.py', 'keystone/token/controllers.py', 'keystone/token/providers/common.py', 'keystone/common/sql/migration_helpers.py', 'keystone/token/persistence/core.py', 'keystone/tests/test_revoke.py', 'keystone/trust/controllers.py', 'keystone/tests/test_v3_os_revoke.py', 'keystone/token/persistence/backends/kvs.py', 'keystone/auth/plugins/oauth1.py', 'keystone/tests/test_auth.py', 'keystone/token/provider.py', 'keystone/openstack/common/fileutils.py', 'keystone/tests/test_keystoneclient.py', 'keystone/token/persistence/backends/sql.py', 'keystone/common/cache/backends/mongo.py', 'keystone/common/kvs/core.py', 'keystone/contrib/oauth1/backends/sql.py', 'keystone/contrib/revoke/controllers.py', 'keystone/openstack/common/log.py', 'keystone/common/manager.py', 'keystone/tests/test_token_provider.py', 'keystone/tests/test_v3_auth.py', 'keystone/contrib/revoke/core.py', 'keystone/identity/core.py', 'keystone/common/sql/migrate_repo/versions/044_service_enabled.py', 'keystone/tests/test_backend_kvs.py', 'keystone/contrib/revoke/backends/kvs.py', 'keystone/exception.py', 'keystone/contrib/federation/utils.py', 'keystone/contrib/oauth1/controllers.py', 'keystone/common/cache/core.py', 'keystone/common/utils.py']",43,562d5c86abb3cfc3c240c2935a45deb9c11ec449,bp/drop-namespace-packages,from oslo_utils import strutils,from oslo.utils import strutils,47,47
openstack%2Fkeystone~master~I377b37715c913c3fb85925fad418402fd88b3bd1,openstack/keystone,master,I377b37715c913c3fb85925fad418402fd88b3bd1,During authentication validate if IdP is enabled,MERGED,2015-01-30 16:06:58.000000000,2015-02-02 19:31:59.000000000,2015-02-02 19:31:57.000000000,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 5707}, {'_account_id': 6482}, {'_account_id': 8978}, {'_account_id': 10118}, {'_account_id': 11022}]","[{'number': 1, 'created': '2015-01-30 16:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5a0d8967a23b827617e604389ce3d285a962f13b', 'message': ""During authentication validate if IdP is enabled\n\nDuring federated authentication we don't check if identity providers are\nenabled and always issue unscoped and scoped tokens. This patch fixes\nthat.\n\nChange-Id: I377b37715c913c3fb85925fad418402fd88b3bd1\nCloses-Bug: #1416459\n""}, {'number': 2, 'created': '2015-02-02 08:25:44.000000000', 'files': ['keystone/auth/plugins/mapped.py', 'keystone/tests/test_v3_federation.py', 'keystone/contrib/federation/utils.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/ddd3a4f5b1a60498966b2a6067c19862ae8ad953', 'message': ""During authentication validate if IdP is enabled\n\nDuring federated authentication we don't check if identity providers are\nenabled and always issue unscoped and scoped tokens. This patch fixes\nthat.\n\nChange-Id: I377b37715c913c3fb85925fad418402fd88b3bd1\nCloses-Bug: #1416459\n""}]",2,151683,ddd3a4f5b1a60498966b2a6067c19862ae8ad953,13,7,2,8978,,,0,"During authentication validate if IdP is enabled

During federated authentication we don't check if identity providers are
enabled and always issue unscoped and scoped tokens. This patch fixes
that.

Change-Id: I377b37715c913c3fb85925fad418402fd88b3bd1
Closes-Bug: #1416459
",git fetch https://review.opendev.org/openstack/keystone refs/changes/83/151683/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/auth/plugins/mapped.py', 'keystone/contrib/federation/utils.py', 'keystone/tests/test_v3_federation.py']",3,5a0d8967a23b827617e604389ce3d285a962f13b,bug_1416459," def test_issue_unscoped_token_disabled_idp(self): """"""Checks if authentication works with disabled identity providers. Test plan: 1) Disable default IdP 2) Try issuing unscoped token for that IdP 3) Expect server to forbid authentication """""" enabled_false = {'enabled': False} self.federation_api.update_idp(self.IDP, enabled_false) self.assertRaises(exception.Forbidden, self._issue_unscoped_token) def test_scope_token_with_idp_disabled(self): """"""Scope token issued by disabled IdP. Try scoping the token issued by an IdP which is disabled now. Expect server to refuse scoping operatin. This test confirms correct behaviour when IdP was enabled and unscoped token was issued, but disabled before user tries to scope the token. Here we assume the unscoped token was already issued and start from the moment where IdP is being disabled and unscoped token is being used. Test plan: 1) Disable IdP 2) Try scoping unscoped token """""" enabled_false = {'enabled': False} self.federation_api.update_idp(self.IDP, enabled_false) self.v3_authenticate_token( self.TOKEN_SCOPE_PROJECT_EMPLOYEE_FROM_CUSTOMER, expected_status=403) ",,50,0
openstack%2Fnova~master~I738d2c0a1029a80e36797e7d1e349c191a1934da,openstack/nova,master,I738d2c0a1029a80e36797e7d1e349c191a1934da,doc: document manual testing procedure for serial-console,MERGED,2014-10-31 14:41:32.000000000,2015-02-02 19:31:40.000000000,2015-02-02 19:31:37.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 1653}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7166}, {'_account_id': 7730}, {'_account_id': 7746}, {'_account_id': 9420}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-10-31 14:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/373fc074e0c76b0e51751132ddb3c4e8f2b75b93', 'message': 'doc: document manual testing procedure for serial-console\n\nDocument how to test the recent feature serial-console\n\nChange-Id: I738d2c0a1029a80e36797e7d1e349c191a1934da\n'}, {'number': 2, 'created': '2014-11-03 14:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4514f824a446194cd418fbf4d4bf2694604bcec6', 'message': 'doc: document manual testing procedure for serial-console\n\nDocument how to test the recent feature serial-console\n\nChange-Id: I738d2c0a1029a80e36797e7d1e349c191a1934da\n'}, {'number': 3, 'created': '2014-11-06 15:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a82a961d91b389d77bad9dee299e0efde99f4a1e', 'message': 'doc: document manual testing procedure for serial-console\n\nDocument how to test the recent feature serial-console\n\nChange-Id: I738d2c0a1029a80e36797e7d1e349c191a1934da\n'}, {'number': 4, 'created': '2014-11-06 15:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8679837be20dd5cf083c121af9752da56a7a45e', 'message': 'doc: document manual testing procedure for serial-console\n\nDocument how to test the recent feature serial-console\n\nChange-Id: I738d2c0a1029a80e36797e7d1e349c191a1934da\n'}, {'number': 5, 'created': '2014-11-20 17:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0c971935de452c810b858386d9e7a86c7d18cb1', 'message': 'doc: document manual testing procedure for serial-console\n\nDocument how to test the recent feature serial-console\n\nChange-Id: I738d2c0a1029a80e36797e7d1e349c191a1934da\n'}, {'number': 6, 'created': '2015-02-02 14:05:03.000000000', 'files': ['doc/source/devref/testing/serial-console.rst', 'doc/source/devref/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/4509c34c7fe79e758c27af57585e16b188260c0a', 'message': 'doc: document manual testing procedure for serial-console\n\nDocument how to test the recent feature serial-console\n\nChange-Id: I738d2c0a1029a80e36797e7d1e349c191a1934da\n'}]",22,132269,4509c34c7fe79e758c27af57585e16b188260c0a,56,14,6,7730,,,0,"doc: document manual testing procedure for serial-console

Document how to test the recent feature serial-console

Change-Id: I738d2c0a1029a80e36797e7d1e349c191a1934da
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/132269/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/devref/testing/serial-console.rst', 'doc/source/devref/index.rst']",2,373fc074e0c76b0e51751132ddb3c4e8f2b75b93,testing-docs, testing/serial-console,,115,0
openstack%2Fneutron-fwaas~master~I802b84c6c2161b769bc5775bf7a382dc4929db43,openstack/neutron-fwaas,master,I802b84c6c2161b769bc5775bf7a382dc4929db43,Move '_make_firewall_dict_with_rules' to firewall_db.py,MERGED,2015-01-29 16:16:28.000000000,2015-02-02 19:31:29.000000000,2015-02-02 19:31:27.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 490}, {'_account_id': 704}, {'_account_id': 6659}, {'_account_id': 6995}, {'_account_id': 8645}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 12525}]","[{'number': 1, 'created': '2015-01-29 16:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/a11ec845f6ab1debcdd838760a6eabb67294444c', 'message': ""Move 'def _make_firewall_dict_with_rules' from fwaas_plugin.py\nto firewall_db.py\n\nChange-Id: I802b84c6c2161b769bc5775bf7a382dc4929db43\nCloses-Bug: #1415971\n""}, {'number': 2, 'created': '2015-01-29 16:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/0b0fcddf2162f4c6a2fe8523bf09e2c7b3bfe16d', 'message': ""Move '_make_firewall_dict_with_rules' from fwaas_plugin.py\nto firewall_db.py\n\nThe above change is to have all the dict helper functions at one place.\n\nChange-Id: I802b84c6c2161b769bc5775bf7a382dc4929db43\nCloses-Bug: #1415971\n""}, {'number': 3, 'created': '2015-01-30 05:35:17.000000000', 'files': ['neutron_fwaas/db/firewall/firewall_db.py', 'neutron_fwaas/services/firewall/fwaas_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/932deae74199972ea18cf83f60b857d7acf85bf5', 'message': ""Move '_make_firewall_dict_with_rules' to firewall_db.py\n\nThe above function exists in fwaas_plugin.py and is moved\nto have all the dict helper functions at one place.\n\nCloses-Bug: #1415971\n\nChange-Id: I802b84c6c2161b769bc5775bf7a382dc4929db43\n""}]",2,151298,932deae74199972ea18cf83f60b857d7acf85bf5,27,10,3,8645,,,0,"Move '_make_firewall_dict_with_rules' to firewall_db.py

The above function exists in fwaas_plugin.py and is moved
to have all the dict helper functions at one place.

Closes-Bug: #1415971

Change-Id: I802b84c6c2161b769bc5775bf7a382dc4929db43
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/98/151298/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/db/firewall/firewall_db.py', 'neutron_fwaas/services/firewall/fwaas_plugin.py']",2,a11ec845f6ab1debcdd838760a6eabb67294444c,bug/1415971,," def _make_firewall_dict_with_rules(self, context, firewall_id): firewall = self.get_firewall(context, firewall_id) fw_policy_id = firewall['firewall_policy_id'] if fw_policy_id: fw_policy = self.get_firewall_policy(context, fw_policy_id) fw_rules_list = [self.get_firewall_rule( context, rule_id) for rule_id in fw_policy['firewall_rules']] firewall['firewall_rule_list'] = fw_rules_list else: firewall['firewall_rule_list'] = [] # FIXME(Sumit): If the size of the firewall object we are creating # here exceeds the largest message size supported by rabbit/qpid # then we will have a problem. return firewall ",15,15
openstack%2Fnova~master~I03773a4cfbf4394d08e6379504a16a53e1bb2775,openstack/nova,master,I03773a4cfbf4394d08e6379504a16a53e1bb2775,Add API schema for v2.1 'removeFloatingIp',MERGED,2015-01-27 09:19:02.000000000,2015-02-02 19:31:11.000000000,2015-02-02 19:31:08.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 11189}]","[{'number': 1, 'created': '2015-01-27 09:19:02.000000000', 'files': ['nova/tests/unit/api/openstack/compute/contrib/test_floating_ips.py', 'nova/api/openstack/compute/plugins/v3/floating_ips.py', 'nova/api/openstack/compute/schemas/v3/floating_ips.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/434d4b08bc3ad221bb573f00f1fc42bb72f5149b', 'message': ""Add API schema for v2.1 'removeFloatingIp'\n\nThis patch adds API schema for v2.1 'removeFloatingIp'.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I03773a4cfbf4394d08e6379504a16a53e1bb2775\n""}]",0,150331,434d4b08bc3ad221bb573f00f1fc42bb72f5149b,18,12,1,8556,,,0,"Add API schema for v2.1 'removeFloatingIp'

This patch adds API schema for v2.1 'removeFloatingIp'.

Partially implements blueprint v2-on-v3-api

Change-Id: I03773a4cfbf4394d08e6379504a16a53e1bb2775
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/150331/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/plugins/v3/floating_ips.py', 'nova/tests/unit/api/openstack/compute/contrib/test_floating_ips.py', 'nova/api/openstack/compute/schemas/v3/floating_ips.py']",3,434d4b08bc3ad221bb573f00f1fc42bb72f5149b,bp/v2-on-v3-api," remove_floating_ip = { 'type': 'object', 'properties': { 'removeFloatingIp': { 'type': 'object', 'properties': { 'address': parameter_types.ip_address }, 'required': ['address'], 'additionalProperties': False } }, 'required': ['removeFloatingIp'], 'additionalProperties': False }",,29,19
openstack%2Fneutron~master~Ie024d7dcd4484eac345e0cd098b6095f56403fb6,openstack/neutron,master,Ie024d7dcd4484eac345e0cd098b6095f56403fb6,Move constants definitions to router classes,ABANDONED,2015-01-24 00:33:05.000000000,2015-02-02 19:29:11.000000000,,"[{'_account_id': 3}, {'_account_id': 4694}, {'_account_id': 5170}, {'_account_id': 6854}, {'_account_id': 7448}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-24 00:33:05.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/agent/l3/dvr_router.py', 'neutron/agent/l3/ha_router.py', 'neutron/agent/l3/ha.py', 'neutron/agent/l3/legacy_router.py', 'neutron/tests/unit/test_l3_agent.py', 'neutron/agent/l3/dvr.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/525a4b922a60b4d8684bcca3f96e2223364babd0', 'message': 'Move constants definitions to router classes\n\nMoves the definition of constants for router interfaces interfaces from the L3\nagent to the corresponding router classes.\n\nChange-Id: Ie024d7dcd4484eac345e0cd098b6095f56403fb6\nPartially-Implements: bp restructure-l3-agent\n'}]",0,149793,525a4b922a60b4d8684bcca3f96e2223364babd0,23,19,1,4694,,,0,"Move constants definitions to router classes

Moves the definition of constants for router interfaces interfaces from the L3
agent to the corresponding router classes.

Change-Id: Ie024d7dcd4484eac345e0cd098b6095f56403fb6
Partially-Implements: bp restructure-l3-agent
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/149793/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/agent/l3/dvr_router.py', 'neutron/agent/l3/ha_router.py', 'neutron/agent/l3/ha.py', 'neutron/agent/l3/legacy_router.py', 'neutron/tests/unit/test_l3_agent.py', 'neutron/agent/l3/dvr.py']",7,525a4b922a60b4d8684bcca3f96e2223364babd0,bp/restructure-l3-agent,from neutron.agent.l3 import dvr_router if d.name.startswith(dvr_router.SNAT_INT_DEV_PREFIX): prefix=dvr_router.SNAT_INT_DEV_PREFIX) if d.name.startswith(dvr_router.FIP_2_ROUTER_DEV_PREFIX): elif d.name.startswith(dvr_router.FIP_EXT_DEV_PREFIX): prefix=dvr_router.FIP_EXT_DEV_PREFIX) return (dvr_router.FIP_EXT_DEV_PREFIX + return (dvr_router.ROUTER_2_FIP_DEV_PREFIX + return (dvr_router.FIP_2_ROUTER_DEV_PREFIX + return (dvr_router.SNAT_INT_DEV_PREFIX + dvr_router.SNAT_INT_DEV_PREFIX) prefix=dvr_router.FIP_EXT_DEV_PREFIX),SNAT_INT_DEV_PREFIX = 'sg-' FIP_EXT_DEV_PREFIX = 'fg-'FIP_2_ROUTER_DEV_PREFIX = 'fpr-' ROUTER_2_FIP_DEV_PREFIX = 'rfp-' if d.name.startswith(SNAT_INT_DEV_PREFIX): prefix=SNAT_INT_DEV_PREFIX) if d.name.startswith(FIP_2_ROUTER_DEV_PREFIX): elif d.name.startswith(FIP_EXT_DEV_PREFIX): prefix=FIP_EXT_DEV_PREFIX) return (FIP_EXT_DEV_PREFIX + return (ROUTER_2_FIP_DEV_PREFIX + return (FIP_2_ROUTER_DEV_PREFIX + return (SNAT_INT_DEV_PREFIX + SNAT_INT_DEV_PREFIX) prefix=FIP_EXT_DEV_PREFIX),53,48
openstack%2Fnova~master~Ia04256e0c1f9235769035cc9e7eadd864112559c,openstack/nova,master,Ia04256e0c1f9235769035cc9e7eadd864112559c,Add API schema for v2.1 'addFloatingIp',MERGED,2015-01-27 09:08:27.000000000,2015-02-02 19:28:06.000000000,2015-02-02 19:28:03.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-01-27 09:08:27.000000000', 'files': ['nova/tests/unit/api/openstack/compute/contrib/test_floating_ips.py', 'nova/api/openstack/compute/plugins/v3/floating_ips.py', 'nova/api/openstack/compute/schemas/v3/floating_ips.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7dabbc7d4781c1ac0ad152996ce02207b61f4a55', 'message': ""Add API schema for v2.1 'addFloatingIp'\n\nThis patch adds API schema for v2.1 'addFloatingIp'.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: Ia04256e0c1f9235769035cc9e7eadd864112559c\n""}]",0,150324,7dabbc7d4781c1ac0ad152996ce02207b61f4a55,23,12,1,8556,,,0,"Add API schema for v2.1 'addFloatingIp'

This patch adds API schema for v2.1 'addFloatingIp'.

Partially implements blueprint v2-on-v3-api

Change-Id: Ia04256e0c1f9235769035cc9e7eadd864112559c
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/150324/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/plugins/v3/floating_ips.py', 'nova/tests/unit/api/openstack/compute/contrib/test_floating_ips.py', 'nova/api/openstack/compute/schemas/v3/floating_ips.py']",3,7dabbc7d4781c1ac0ad152996ce02207b61f4a55,bp/v2-on-v3-api,"# Copyright 2015 NEC Corporation. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova.api.validation import parameter_types add_floating_ip = { 'type': 'object', 'properties': { 'addFloatingIp': { 'type': 'object', 'properties': { 'address': parameter_types.ip_address, 'fixed_address': parameter_types.ip_address }, 'required': ['address'], 'additionalProperties': False } }, 'required': ['addFloatingIp'], 'additionalProperties': False } ",,55,21
openstack%2Fnova~master~I3c681578a5f56e873ee022201b389432900eef07,openstack/nova,master,I3c681578a5f56e873ee022201b389432900eef07,Add parameter_types.ip_address for cleanup,MERGED,2014-12-26 07:48:05.000000000,2015-02-02 19:27:45.000000000,2015-02-02 19:27:42.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9420}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-12-26 07:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c1c5d074f42226b72b2197e0d7fcae94a8b0a0a', 'message': 'Add parameter_types.ip_address for cleanup\n\nOn v2.1 API schemas, there is much duplicated code related to ip\naddress validation. This patch adds parameter_types.ip_address\nand replaces the duplicated code with it for cleanup.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I3c681578a5f56e873ee022201b389432900eef07\n'}, {'number': 2, 'created': '2015-01-01 13:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8196b8280f9460821e1819dd8781d68824d938d', 'message': 'Add parameter_types.ip_address for cleanup\n\nOn v2.1 API schemas, there is much duplicated code related to ip\naddress validation. This patch adds parameter_types.ip_address\nand replaces the duplicated code with it for cleanup.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I3c681578a5f56e873ee022201b389432900eef07\n'}, {'number': 3, 'created': '2015-01-19 06:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10435a7add66d70a7d1d8f525fbe1bb103587ec7', 'message': 'Add parameter_types.ip_address for cleanup\n\nOn v2.1 API schemas, there is much duplicated code related to ip\naddress validation. This patch adds parameter_types.ip_address\nand replaces the duplicated code with it for cleanup.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I3c681578a5f56e873ee022201b389432900eef07\n'}, {'number': 4, 'created': '2015-01-27 08:49:26.000000000', 'files': ['nova/api/openstack/compute/schemas/v3/floating_ip_dns.py', 'nova/api/openstack/compute/schemas/v3/servers.py', 'nova/api/openstack/compute/schemas/v3/cloudpipe.py', 'nova/api/openstack/compute/schemas/v3/multinic.py', 'nova/api/openstack/compute/schemas/v3/attach_interfaces.py', 'nova/api/validation/parameter_types.py', 'nova/api/openstack/compute/schemas/v3/scheduler_hints.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7b2c467df1a223586a80137be876bc0f274d7465', 'message': 'Add parameter_types.ip_address for cleanup\n\nOn v2.1 API schemas, there is much duplicated code related to ip\naddress validation. This patch adds parameter_types.ip_address\nand replaces the duplicated code with it for cleanup.\n\nNOTE:\n  ""fixed_ip"" parameter of ""create a server"" API contained null as\n  allowed type, but this patch replaces it with parameter_types.\n  ip_address which doesn\'t contain null type. Because ""fixed_ip""\n  is not required on the schema and nova can get null if not passing\n  ""fixed_ip"" (ref: _get_requested_networks()). On v2.1 API, we are\n  implementing this kind of strict validation and this patch also\n  applies it.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I3c681578a5f56e873ee022201b389432900eef07\n'}]",5,144092,7b2c467df1a223586a80137be876bc0f274d7465,57,15,4,6167,,,0,"Add parameter_types.ip_address for cleanup

On v2.1 API schemas, there is much duplicated code related to ip
address validation. This patch adds parameter_types.ip_address
and replaces the duplicated code with it for cleanup.

NOTE:
  ""fixed_ip"" parameter of ""create a server"" API contained null as
  allowed type, but this patch replaces it with parameter_types.
  ip_address which doesn't contain null type. Because ""fixed_ip""
  is not required on the schema and nova can get null if not passing
  ""fixed_ip"" (ref: _get_requested_networks()). On v2.1 API, we are
  implementing this kind of strict validation and this patch also
  applies it.

Partially implements blueprint v2-on-v3-api

Change-Id: I3c681578a5f56e873ee022201b389432900eef07
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/144092/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/schemas/v3/floating_ip_dns.py', 'nova/api/openstack/compute/schemas/v3/servers.py', 'nova/api/openstack/compute/schemas/v3/cloudpipe.py', 'nova/api/openstack/compute/schemas/v3/multinic.py', 'nova/api/openstack/compute/schemas/v3/attach_interfaces.py', 'nova/api/validation/parameter_types.py', 'nova/api/openstack/compute/schemas/v3/scheduler_hints.py']",7,2c1c5d074f42226b72b2197e0d7fcae94a8b0a0a,bp/v2-on-v3-api," 'build_near_host_ip': parameter_types.ip_address,"," 'build_near_host_ip': { # NOTE: The combination string of 'build_near_host_ip' and 'cidr' # is passed to netaddr.IPNetwork(). # This covers both ipv4 and ipv6. 'type': 'string', 'oneOf': [ {'format': 'ipv4'}, {'format': 'ipv6'} ], },",18,45
openstack%2Fneutron~master~If16171fb288ca2f430a2c496f452d4e2acc06b21,openstack/neutron,master,If16171fb288ca2f430a2c496f452d4e2acc06b21,Freescale FWaaS Plugin: Update to setup.cfg,MERGED,2015-01-28 07:52:46.000000000,2015-02-02 19:25:56.000000000,2015-02-02 19:25:54.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 490}, {'_account_id': 704}, {'_account_id': 841}, {'_account_id': 2874}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6659}, {'_account_id': 6854}, {'_account_id': 7448}, {'_account_id': 7634}, {'_account_id': 8645}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 12525}, {'_account_id': 14208}, {'_account_id': 14212}]","[{'number': 1, 'created': '2015-01-28 07:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7dd0dd77a187864556f292833626b9e2a3e8c96f', 'message': 'Freescale FWaaS Plugin: Update to setup.cfg\n\nPartially implements: blueprint freescale-fwaas-plugin\n\nChange-Id: If16171fb288ca2f430a2c496f452d4e2acc06b21\n'}, {'number': 2, 'created': '2015-01-28 08:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e53177295afa008a61e4744d1d3e9ef6e1dec02', 'message': 'Freescale FWaaS Plugin: Update to setup.cfg\n\nPartially implements: blueprint freescale-fwaas-plugin\n\nRequired for Freescale FWaaS Plugin - https://review.openstack.org/#/c/148884/\n\nChange-Id: If16171fb288ca2f430a2c496f452d4e2acc06b21\n'}, {'number': 3, 'created': '2015-01-28 08:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b34661a4c41958082e65983f3160f1319f81ef53', 'message': 'Freescale FWaaS Plugin: Update to setup.cfg\n\nPartially implements: blueprint freescale-fwaas-plugin\n\nDepends-On: 148884\n\nChange-Id: If16171fb288ca2f430a2c496f452d4e2acc06b21\n'}, {'number': 4, 'created': '2015-01-28 08:18:13.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c85e394498ea5f8862ee25e8137660a3c3932bdf', 'message': 'Freescale FWaaS Plugin: Update to setup.cfg\n\nPartially implements: blueprint freescale-fwaas-plugin\n\nDepends-On: https://review.openstack.org/#/c/148884/\n\nChange-Id: If16171fb288ca2f430a2c496f452d4e2acc06b21\n'}]",4,150722,c85e394498ea5f8862ee25e8137660a3c3932bdf,45,29,4,8645,,,0,"Freescale FWaaS Plugin: Update to setup.cfg

Partially implements: blueprint freescale-fwaas-plugin

Depends-On: https://review.openstack.org/#/c/148884/

Change-Id: If16171fb288ca2f430a2c496f452d4e2acc06b21
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/150722/4 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,7dd0dd77a187864556f292833626b9e2a3e8c96f,bp/freescale-fwaas-plugin, fsl_firewall = neutron_fwaas.services.firewall.freescale.fwaas_plugin:FirewallPlugin,,1,0
openstack%2Ftripleo-heat-templates~master~Ie2cc4f54e397261bf2a947997a6a46fa101b03f0,openstack/tripleo-heat-templates,master,Ie2cc4f54e397261bf2a947997a6a46fa101b03f0,Puppet: Implement Galera cluster,ABANDONED,2015-01-30 19:45:55.000000000,2015-02-02 19:24:23.000000000,,"[{'_account_id': 3}, {'_account_id': 360}]","[{'number': 1, 'created': '2015-01-30 19:45:55.000000000', 'files': ['puppet/database/overcloud_database_mysql.pp', 'puppet/overcloud_controller.pp'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f64c47d6cbf1085b2b2bb94ce5c32c67bfc72ba3', 'message': 'Puppet: Implement Galera cluster\n\n* Move out MySQL code from overcloud_controller to a new class.\n* Support (disabled by default HA with Galera).\n\nTODO:\n* templates/files elements\n* check puppet module dependencies (xinetd, etc)\n* add parameters in tripleo\n\nChange-Id: Ie2cc4f54e397261bf2a947997a6a46fa101b03f0\n'}]",2,151747,f64c47d6cbf1085b2b2bb94ce5c32c67bfc72ba3,5,2,1,3153,,,0,"Puppet: Implement Galera cluster

* Move out MySQL code from overcloud_controller to a new class.
* Support (disabled by default HA with Galera).

TODO:
* templates/files elements
* check puppet module dependencies (xinetd, etc)
* add parameters in tripleo

Change-Id: Ie2cc4f54e397261bf2a947997a6a46fa101b03f0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/151747/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/database/overcloud_database_mysql.pp', 'puppet/overcloud_controller.pp']",2,f64c47d6cbf1085b2b2bb94ce5c32c67bfc72ba3,mysql-puppet-ha,," # TODO Galara class { 'mysql::server': override_options => { 'mysqld' => { 'bind-address' => hiera('controller_host') } } } # FIXME: this should only occur on the bootstrap host (ditto for db syncs) # Create all the database schemas # Example DSN format: mysql://user:password@host/dbname $allowed_hosts = ['%',hiera('controller_host')] $keystone_dsn = split(hiera('keystone::database_connection'), '[@:/?]') class { 'keystone::db::mysql': user => $keystone_dsn[3], password => $keystone_dsn[4], host => $keystone_dsn[5], dbname => $keystone_dsn[6], allowed_hosts => $allowed_hosts, } $glance_dsn = split(hiera('glance::api::database_connection'), '[@:/?]') class { 'glance::db::mysql': user => $glance_dsn[3], password => $glance_dsn[4], host => $glance_dsn[5], dbname => $glance_dsn[6], allowed_hosts => $allowed_hosts, } $nova_dsn = split(hiera('nova::database_connection'), '[@:/?]') class { 'nova::db::mysql': user => $nova_dsn[3], password => $nova_dsn[4], host => $nova_dsn[5], dbname => $nova_dsn[6], allowed_hosts => $allowed_hosts, } $neutron_dsn = split(hiera('neutron::server::database_connection'), '[@:/?]') class { 'neutron::db::mysql': user => $neutron_dsn[3], password => $neutron_dsn[4], host => $neutron_dsn[5], dbname => $neutron_dsn[6], allowed_hosts => $allowed_hosts, } $cinder_dsn = split(hiera('cinder::database_connection'), '[@:/?]') class { 'cinder::db::mysql': user => $cinder_dsn[3], password => $cinder_dsn[4], host => $cinder_dsn[5], dbname => $cinder_dsn[6], allowed_hosts => $allowed_hosts, } $heat_dsn = split(hiera('heat::database_connection'), '[@:/?]') class { 'heat::db::mysql': user => $heat_dsn[3], password => $heat_dsn[4], host => $heat_dsn[5], dbname => $heat_dsn[6], allowed_hosts => $allowed_hosts, } $ceilometer_dsn = split(hiera('ceilometer::db::database_connection'), '[@:/?]') class { 'ceilometer::db::mysql': user => $ceilometer_dsn[3], password => $ceilometer_dsn[4], host => $ceilometer_dsn[5], dbname => $ceilometer_dsn[6], allowed_hosts => $allowed_hosts, } ",330,70
openstack%2Fsahara~master~I890a3965aa9d008bbd240664395aecc863d5a5fe,openstack/sahara,master,I890a3965aa9d008bbd240664395aecc863d5a5fe,Fixed minor errors in Sahara DB comments,MERGED,2015-01-30 23:51:03.000000000,2015-02-02 19:23:57.000000000,2015-02-02 19:23:55.000000000,"[{'_account_id': 3}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 10670}, {'_account_id': 12038}]","[{'number': 1, 'created': '2015-01-30 23:51:03.000000000', 'files': ['sahara/db/api.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/ef3d2b920c944a5e32a3bb11aefe79e50f75ebb9', 'message': 'Fixed minor errors in Sahara DB comments\n\nChange-Id: I890a3965aa9d008bbd240664395aecc863d5a5fe\n'}]",0,151820,ef3d2b920c944a5e32a3bb11aefe79e50f75ebb9,10,5,1,8411,,,0,"Fixed minor errors in Sahara DB comments

Change-Id: I890a3965aa9d008bbd240664395aecc863d5a5fe
",git fetch https://review.opendev.org/openstack/sahara refs/changes/20/151820/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara/db/api.py'],1,ef3d2b920c944a5e32a3bb11aefe79e50f75ebb9,," e.g. cluster_get_all(ctx, plugin_name='vanilla', hadoop_version='1.1') e.g. job_binary_internal_get_all(ctx, name='wordcount.jar')"," e.g. cluster_get_all(plugin_name='vanilla', hadoop_version='1.1') e.g. cluster_get_all(name='wordcount.jar')",2,2
openstack%2Fpython-ironicclient~master~I93744384267b4670c7a14a90b14bd5afede45fc4,openstack/python-ironicclient,master,I93744384267b4670c7a14a90b14bd5afede45fc4,ironicclient node-set-maintenance to accept true/false,MERGED,2015-01-28 06:00:43.000000000,2015-02-02 19:21:50.000000000,2015-02-02 19:21:49.000000000,"[{'_account_id': 3}, {'_account_id': 3099}, {'_account_id': 6488}, {'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 10375}, {'_account_id': 11424}, {'_account_id': 13362}, {'_account_id': 13762}]","[{'number': 1, 'created': '2015-01-28 06:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/e5a1caaec4178f5a78a0fc4df40a260c56595caf', 'message': 'ironicclient node-set-maintenance to accept true/false\n\nironicclient node-set-maintenance as of now accepts on/off, but this is not\nconsistent with the API which accepts true/false.\n\nproposed changes to ironicclient to accept true/false for node-set-maintenance\nto maintain consistency.\n\nChange-Id: I93744384267b4670c7a14a90b14bd5afede45fc4\nCloses-Bug: #1414804\n'}, {'number': 2, 'created': '2015-01-28 15:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/c3ebe858f430e9a25d9a91f6008fcb1c06cce93c', 'message': 'ironicclient node-set-maintenance to accept true/false\n\nironicclient node-set-maintenance as of now accepts on/off, but this is not\nconsistent with the API which accepts true/false.\n\nproposed changes to ironicclient to accept true/false for node-set-maintenance\nto maintain consistency.\n\nChange-Id: I93744384267b4670c7a14a90b14bd5afede45fc4\nCloses-Bug: #1414804\n'}, {'number': 3, 'created': '2015-01-29 13:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/b94b0cdb6f08d4546e27907e0dd3a3f0b6c86c36', 'message': 'ironicclient node-set-maintenance to accept true/false\n\nironicclient node-set-maintenance as of now accepts on/off, but this is not\nconsistent with the API which accepts true/false.\n\nproposed changes to ironicclient to accept true/false for node-set-maintenance\nto maintain consistency.\n\nChange-Id: I93744384267b4670c7a14a90b14bd5afede45fc4\nCloses-Bug: #1414804\n'}, {'number': 4, 'created': '2015-01-30 05:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/3de69d227db71fae8471524cef6e7f9a3d70731f', 'message': 'ironicclient node-set-maintenance to accept true/false\n\nironicclient node-set-maintenance as of now accepts on/off, but this is not\nconsistent with the API which accepts true/false.\n\nproposed changes to ironicclient to accept true/false for node-set-maintenance\nto maintain consistency.\n\nChange-Id: I93744384267b4670c7a14a90b14bd5afede45fc4\nCloses-Bug: #1414804\n'}, {'number': 5, 'created': '2015-01-31 16:58:46.000000000', 'files': ['ironicclient/v1/node.py', 'ironicclient/v1/node_shell.py', 'ironicclient/tests/v1/test_node.py', 'ironicclient/tests/v1/test_node_shell.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/0f6bf9e94a4e86654ed024683f6cb376172b7994', 'message': 'ironicclient node-set-maintenance to accept true/false\n\nironicclient node-set-maintenance as of now accepts on/off, but this is not\nconsistent with the API which accepts true/false.\n\nproposed changes to ironicclient to accept true/false for node-set-maintenance\nto maintain consistency.\n\nChange-Id: I93744384267b4670c7a14a90b14bd5afede45fc4\nCloses-Bug: #1414804\n'}]",3,150692,0f6bf9e94a4e86654ed024683f6cb376172b7994,33,9,5,11424,,,0,"ironicclient node-set-maintenance to accept true/false

ironicclient node-set-maintenance as of now accepts on/off, but this is not
consistent with the API which accepts true/false.

proposed changes to ironicclient to accept true/false for node-set-maintenance
to maintain consistency.

Change-Id: I93744384267b4670c7a14a90b14bd5afede45fc4
Closes-Bug: #1414804
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/92/150692/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironicclient/v1/node.py', 'ironicclient/v1/node_shell.py', 'ironicclient/tests/v1/test_node.py', 'ironicclient/tests/v1/test_node_shell.py']",4,e5a1caaec4178f5a78a0fc4df40a260c56595caf,bug/1414804," def test_do_node_set_maintenance_true(self): args.maintenance_mode = 'true' 'true', def test_do_node_set_maintenance_false(self): args.maintenance_mode = 'false' 'false', def test_do_node_set_maintenance_false_with_reason_fails(self): args.maintenance_mode = 'false'"," def test_do_node_set_maintenance_on(self): args.maintenance_mode = 'on' 'on', def test_do_node_set_maintenance_off(self): args.maintenance_mode = 'off' 'off', def test_do_node_set_maintenance_off_with_reason_fails(self): args.maintenance_mode = 'off'",20,20
openstack%2Fneutron~master~I7eac7714d5b7c8784458e5570c29a84356b59557,openstack/neutron,master,I7eac7714d5b7c8784458e5570c29a84356b59557,Imported Translations from Transifex,MERGED,2015-01-30 06:22:10.000000000,2015-02-02 19:21:39.000000000,2015-02-02 19:21:38.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 8645}, {'_account_id': 8788}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}]","[{'number': 1, 'created': '2015-01-30 06:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/07ab477f82640d67a09d3fa0ceb0e890f5477929', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I7eac7714d5b7c8784458e5570c29a84356b59557\n'}, {'number': 2, 'created': '2015-01-31 06:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6fc1fa334625c6e9eb45ff78f8c95dd49263f23e', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I7eac7714d5b7c8784458e5570c29a84356b59557\n'}, {'number': 3, 'created': '2015-02-01 06:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c047244b13ac76b2e46ce2766a568f143f2952a5', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I7eac7714d5b7c8784458e5570c29a84356b59557\n'}, {'number': 4, 'created': '2015-02-02 06:14:17.000000000', 'files': ['neutron/locale/neutron-log-error.pot', 'neutron/locale/pt_BR/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/ja/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/de/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/zh_CN/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/es/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/neutron-log-warning.pot', 'neutron/locale/fr/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/neutron-log-info.pot', 'neutron/locale/neutron.pot', 'neutron/locale/ko_KR/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/zh_TW/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/it/LC_MESSAGES/neutron-log-info.po'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f79a5c7c30468616010b03732f8a88de61ef5019', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I7eac7714d5b7c8784458e5570c29a84356b59557\n'}]",0,151548,f79a5c7c30468616010b03732f8a88de61ef5019,74,17,4,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I7eac7714d5b7c8784458e5570c29a84356b59557
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/151548/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/locale/neutron-log-error.pot', 'neutron/locale/pt_BR/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/ja/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/de/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/zh_CN/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/es/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/neutron-log-warning.pot', 'neutron/locale/fr/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/neutron-log-info.pot', 'neutron/locale/neutron.pot', 'neutron/locale/ko_KR/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/zh_TW/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/it/LC_MESSAGES/neutron-log-info.po']",13,07ab477f82640d67a09d3fa0ceb0e890f5477929,transifex/translations,"""POT-Creation-Date: 2015-01-30 06:21+0000\n"" ""PO-Revision-Date: 2015-01-30 03:45+0000\n""#: neutron/agent/securitygroups_rpc.py:82#: neutron/agent/securitygroups_rpc.py:84#: neutron/agent/securitygroups_rpc.py:215#: neutron/agent/securitygroups_rpc.py:227#: neutron/agent/securitygroups_rpc.py:257#: neutron/agent/securitygroups_rpc.py:264#: neutron/agent/securitygroups_rpc.py:286#: neutron/agent/securitygroups_rpc.py:298#: neutron/agent/securitygroups_rpc.py:308#: neutron/agent/securitygroups_rpc.py:312#: neutron/agent/dhcp/agent.py:96 neutron/agent/dhcp/agent.py:593#: neutron/agent/dhcp/agent.py:148#: neutron/agent/dhcp/agent.py:169#: neutron/agent/dhcp/agent.py:590 neutron/agent/l3/agent.py:1287#: neutron/agent/l3/agent.py:1187#: neutron/agent/linux/ovs_lib.py:381#: neutron/db/agentschedulers_db.py:153 msgid """" ""Skipping periodic DHCP agent status check because automatic network "" ""rescheduling is disabled."" msgstr """" #: neutron/db/agentschedulers_db.py:183 #, python-format msgid ""Scheduling unhosted network %s"" msgstr """" #: neutron/db/agentschedulers_db.py:190 #, python-format msgid """" ""Failed to schedule network %s, no eligible agents or it might be already "" ""scheduled by another server"" msgstr """" #: neutron/db/agentschedulers_db.py:198 #, python-format msgid ""Adding network %(net)s to agent %(agent)%s on host %(host)s"" msgstr """" #: neutron/db/l3_agentschedulers_db.py:78#: neutron/db/l3_hamode_db.py:187#: neutron/db/l3_hamode_db.py:269#: neutron/plugins/brocade/NeutronPlugin.py:307#: neutron/plugins/ml2/drivers/type_vlan.py:99#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:233#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:258#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:279#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:301#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:318#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:365#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:367#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:394#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:426 #: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:981 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:374 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:815 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1385 #: neutron/plugins/sriovnicagent/sriov_nic_agent.py:254#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:462#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:1022 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:151 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1572 #: neutron/plugins/sriovnicagent/sriov_nic_agent.py:350#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:796 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:216 #: neutron/plugins/nec/agent/nec_neutron_agent.py:124 #: neutron/plugins/oneconvergence/agent/nvsd_neutron_agent.py:90 #: neutron/plugins/sriovnicagent/sriov_nic_agent.py:100#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:866 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:707 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1112 #: neutron/plugins/sriovnicagent/sriov_nic_agent.py:212#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:899#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:906 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:737 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1167 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1184#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:918 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:347 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1196 #: neutron/plugins/sriovnicagent/sriov_nic_agent.py:238#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:971#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:1015 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:405#: neutron/plugins/ml2/plugin.py:138#: neutron/plugins/ml2/plugin.py:271#: neutron/plugins/ml2/plugin.py:630#: neutron/plugins/ml2/plugin.py:641#: neutron/plugins/ml2/plugin.py:1073 neutron/plugins/ml2/plugin.py:1208#: neutron/plugins/ml2/drivers/type_vlan.py:166#: neutron/plugins/ml2/drivers/arista/arista_l3_driver.py:368#: neutron/plugins/ml2/drivers/arista/arista_l3_driver.py:374#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:306#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:309#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:334 #: neutron/plugins/sriovnicagent/sriov_nic_agent.py:226#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:359#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:416#: neutron/plugins/nec/nec_plugin.py:280#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:436 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:476#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:486 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:571#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:554#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:693 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1106#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:726 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1136#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:820 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1413#: neutron/plugins/oneconvergence/agent/nvsd_neutron_agent.py:156#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:666#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:739#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:882#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:992#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1155#: neutron/plugins/sriovnicagent/sriov_nic_agent.py:194#: neutron/plugins/sriovnicagent/sriov_nic_agent.py:219#: neutron/plugins/sriovnicagent/sriov_nic_agent.py:247#: neutron/plugins/sriovnicagent/sriov_nic_agent.py:336#: neutron/plugins/sriovnicagent/sriov_nic_agent.py:337#: neutron/plugins/vmware/plugins/base.py:443 #: neutron/plugins/vmware/plugins/base.py:495 #: neutron/plugins/vmware/plugins/base.py:694#: neutron/plugins/vmware/plugins/base.py:1491","""POT-Creation-Date: 2015-01-26 06:14+0000\n"" ""PO-Revision-Date: 2015-01-23 09:43+0000\n""#: neutron/agent/securitygroups_rpc.py:81#: neutron/agent/securitygroups_rpc.py:83#: neutron/agent/securitygroups_rpc.py:208#: neutron/agent/securitygroups_rpc.py:220#: neutron/agent/securitygroups_rpc.py:250#: neutron/agent/securitygroups_rpc.py:257#: neutron/agent/securitygroups_rpc.py:279#: neutron/agent/securitygroups_rpc.py:291#: neutron/agent/securitygroups_rpc.py:301#: neutron/agent/securitygroups_rpc.py:305#: neutron/agent/dhcp/agent.py:110 neutron/agent/dhcp/agent.py:607#: neutron/agent/dhcp/agent.py:162#: neutron/agent/dhcp/agent.py:183#: neutron/agent/dhcp/agent.py:604 neutron/agent/l3/agent.py:1285#: neutron/agent/l3/agent.py:1185#: neutron/agent/linux/ovs_lib.py:471#: neutron/db/l3_agentschedulers_db.py:84#: neutron/db/l3_hamode_db.py:181#: neutron/db/l3_hamode_db.py:263#: neutron/plugins/brocade/NeutronPlugin.py:306#: neutron/plugins/ml2/drivers/type_vlan.py:95#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:236#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:261#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:282#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:304#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:321#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:368#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:370#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:397#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:429 #: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:989 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:382 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:823 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1391 #: neutron/plugins/sriovnicagent/sriov_nic_agent.py:262#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:465#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:1030 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:159 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1574 #: neutron/plugins/sriovnicagent/sriov_nic_agent.py:358#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:804 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:224 #: neutron/plugins/nec/agent/nec_neutron_agent.py:132 #: neutron/plugins/oneconvergence/agent/nvsd_neutron_agent.py:100 #: neutron/plugins/sriovnicagent/sriov_nic_agent.py:108#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:874 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:715 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1118 #: neutron/plugins/sriovnicagent/sriov_nic_agent.py:220#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:907#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:914 #: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:745 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1173 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1190#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:926 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:355 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1202 #: neutron/plugins/sriovnicagent/sriov_nic_agent.py:246#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:979#: neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py:1023 #: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:413#: neutron/plugins/ml2/plugin.py:137#: neutron/plugins/ml2/plugin.py:270#: neutron/plugins/ml2/plugin.py:629#: neutron/plugins/ml2/plugin.py:640#: neutron/plugins/ml2/plugin.py:1069 neutron/plugins/ml2/plugin.py:1204#: neutron/plugins/ml2/drivers/type_vlan.py:162#: neutron/plugins/ml2/drivers/arista/arista_l3_driver.py:373#: neutron/plugins/ml2/drivers/arista/arista_l3_driver.py:379#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:314#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:317#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:342 #: neutron/plugins/sriovnicagent/sriov_nic_agent.py:234#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:367#: neutron/plugins/mlnx/agent/eswitch_neutron_agent.py:424#: neutron/plugins/nec/nec_plugin.py:279#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:444 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:483#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:494 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:577#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:562#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:701 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1112#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:734 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1142#: neutron/plugins/ofagent/agent/ofa_neutron_agent.py:828 #: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1419#: neutron/plugins/oneconvergence/agent/nvsd_neutron_agent.py:164#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:672#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:745#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:888#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:998#: neutron/plugins/openvswitch/agent/ovs_neutron_agent.py:1161#: neutron/plugins/sriovnicagent/sriov_nic_agent.py:202#: neutron/plugins/sriovnicagent/sriov_nic_agent.py:227#: neutron/plugins/sriovnicagent/sriov_nic_agent.py:255#: neutron/plugins/sriovnicagent/sriov_nic_agent.py:344#: neutron/plugins/sriovnicagent/sriov_nic_agent.py:345#: neutron/plugins/vmware/plugins/base.py:442 #: neutron/plugins/vmware/plugins/base.py:494 #: neutron/plugins/vmware/plugins/base.py:693#: neutron/plugins/vmware/plugins/base.py:1490",1715,1443
openstack%2Fnova~master~I99d0bb64bd6d698f2d5ce978cb3778bbad8eec91,openstack/nova,master,I99d0bb64bd6d698f2d5ce978cb3778bbad8eec91,libvirt: avoid setting the memnodes where when it's not a supported option,MERGED,2015-01-28 06:02:19.000000000,2015-02-02 19:18:24.000000000,2015-02-02 19:18:21.000000000,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 7730}, {'_account_id': 8802}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 11647}]","[{'number': 1, 'created': '2015-01-28 06:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66c89c0cb2644a4cf17cdcb72f6a2ac371471eee', 'message': ""libvirt: avoid setting the memnodes where when it's not a supported option\n\nThe current version of Libvirt in the gate doesn't support a memnode element\nin the numa tune configuration. When requesting guest topology the instance\nis crashing. Not setting the numa tune memnodes option when libvirt version\nis less than the required minimum.\n\nChange-Id: I99d0bb64bd6d698f2d5ce978cb3778bbad8eec91\nCloses-Bug: #1415333\n""}, {'number': 2, 'created': '2015-01-28 11:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/48d3ade748ac9eead0506bac942ee70e3211af15', 'message': ""libvirt: avoid setting the memnodes where when it's not a supported option\n\nThe current version of Libvirt in the gate doesn't support a memnode element\nin the numa tune configuration. When requesting guest topology the instance\nis crashing. Not setting the numa tune memnodes option when libvirt version\nis less than the required minimum.\n\nChange-Id: I99d0bb64bd6d698f2d5ce978cb3778bbad8eec91\nCloses-Bug: #1415333\n""}, {'number': 3, 'created': '2015-01-30 16:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7cf0d536f8f56d43c71da270a688d84f1a76bc36', 'message': ""libvirt: avoid setting the memnodes where when it's not a supported option\n\nThe current version of Libvirt in the gate doesn't support a memnode element\nin the numa tune configuration. When requesting guest topology the instance\nis crashing. Not setting the numa tune memnodes option when libvirt version\nis less than the required minimum.\n\nChange-Id: I99d0bb64bd6d698f2d5ce978cb3778bbad8eec91\nCloses-Bug: #1415333\n""}, {'number': 4, 'created': '2015-02-02 15:52:13.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cf3a1262ecf12f4345326309c273722ebc26b466', 'message': ""libvirt: avoid setting the memnodes where when it's not a supported option\n\nThe current version of Libvirt in the gate doesn't support a memnode element\nin the numa tune configuration. When requesting guest topology the instance\nis crashing. Not setting the numa tune memnodes option when libvirt version\nis less than the required minimum.\n\nChange-Id: I99d0bb64bd6d698f2d5ce978cb3778bbad8eec91\nCloses-Bug: #1415333\n""}]",9,150694,cf3a1262ecf12f4345326309c273722ebc26b466,43,13,4,8802,,,0,"libvirt: avoid setting the memnodes where when it's not a supported option

The current version of Libvirt in the gate doesn't support a memnode element
in the numa tune configuration. When requesting guest topology the instance
is crashing. Not setting the numa tune memnodes option when libvirt version
is less than the required minimum.

Change-Id: I99d0bb64bd6d698f2d5ce978cb3778bbad8eec91
Closes-Bug: #1415333
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/150694/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,66c89c0cb2644a4cf17cdcb72f6a2ac371471eee,bug/1415333," def test_get_guest_numa_tune_memnodes_none(self): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) with mock.patch.object(host.Host, 'has_min_version', return_value=False): self.assertIsNone(drvr._get_guest_numa_tune_memnodes( 'not_empty', 'not_empty')) ",,25,8
openstack%2Fneutron-fwaas~master~I5073b763375538c6edc4fc25142c34287316db4c,openstack/neutron-fwaas,master,I5073b763375538c6edc4fc25142c34287316db4c,Freescale FWaaS Plugin,MERGED,2015-01-21 11:22:08.000000000,2015-02-02 19:18:12.000000000,2015-02-02 19:18:10.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 490}, {'_account_id': 704}, {'_account_id': 748}, {'_account_id': 6659}, {'_account_id': 6854}, {'_account_id': 6995}, {'_account_id': 7448}, {'_account_id': 8645}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 12525}]","[{'number': 1, 'created': '2015-01-21 11:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e94f436e038daf20422e6fe312d29bd4de47d46a', 'message': ""Freescale FWaaS Plugin\n\nImplements: blueprint freescale-fwaas-plugin\n\nDocImpact - Requires ml2_conf_fslsdn.ini configuration.\n\n- Moved 'def _make_firewall_dict_with_rules' from fwaas_plugin.py\n  to firewall_db.py for use in vendor plugin.\n\n- Error and Warning logs are handled with _LE and _LW.\n\nChange-Id: I5073b763375538c6edc4fc25142c34287316db4c\n""}, {'number': 2, 'created': '2015-01-22 06:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/35b968770398d229971569aaa88fe8c7d922dd2f', 'message': ""Freescale FWaaS Plugin\n\nImplements: blueprint freescale-fwaas-plugin\n\nDocImpact - Requires ml2_conf_fslsdn.ini configuration.\n\n- Moved 'def _make_firewall_dict_with_rules' from fwaas_plugin.py\n  to firewall_db.py for use in vendor plugin.\n\n- Error and Warning logs are handled with _LE and _LW.\n\nChange-Id: I5073b763375538c6edc4fc25142c34287316db4c\n""}, {'number': 3, 'created': '2015-01-22 07:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/b55a0adde87df9acd056910e3f2bc95f3f12e0ab', 'message': ""Freescale FWaaS Plugin\n\nImplements: blueprint freescale-fwaas-plugin\n\nDocImpact - Requires ml2_conf_fslsdn.ini configuration.\n\n- Moved 'def _make_firewall_dict_with_rules' from fwaas_plugin.py\n  to firewall_db.py for use in vendor plugin.\n\n- Error and Warning logs are handled with _LE and _LW.\n\nChange-Id: I5073b763375538c6edc4fc25142c34287316db4c\n""}, {'number': 4, 'created': '2015-01-22 07:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/06c3382a86078eae5873d85a8b183f909481c00d', 'message': ""Freescale FWaaS Plugin\n\nImplements: blueprint freescale-fwaas-plugin\n\nDocImpact - Requires ml2_conf_fslsdn.ini configuration.\n\n- Moved 'def _make_firewall_dict_with_rules' from fwaas_plugin.py\n  to firewall_db.py for use in vendor plugin.\n\n- Error and Warning logs are handled with _LE and _LW.\n\nChange-Id: I5073b763375538c6edc4fc25142c34287316db4c\n""}, {'number': 5, 'created': '2015-01-28 08:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/6be21e098f6f8e02de073a03ca30fef71add514e', 'message': ""Freescale FWaaS Plugin\n\nImplements: blueprint freescale-fwaas-plugin\n\nDocImpact - Requires ml2_conf_fslsdn.ini configuration.\n\n- Moved 'def _make_firewall_dict_with_rules' from fwaas_plugin.py\n  to firewall_db.py for use in vendor plugin.\n\n- Error and Warning logs are handled with _LE and _LW.\n\nChange-Id: I5073b763375538c6edc4fc25142c34287316db4c\n""}, {'number': 6, 'created': '2015-01-28 08:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/51b41a5bd364c6bb87af28aa7a078b168ce4204e', 'message': ""Freescale FWaaS Plugin\n\nImplements: blueprint freescale-fwaas-plugin\n\nDocImpact - Requires ml2_conf_fslsdn.ini configuration.\n\n- Moved 'def _make_firewall_dict_with_rules' from fwaas_plugin.py\n  to firewall_db.py for use in vendor plugin.\n\n- Error and Warning logs are handled with _LE and _LW.\n\nChange-Id: I5073b763375538c6edc4fc25142c34287316db4c\n""}, {'number': 7, 'created': '2015-01-29 08:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/ebf79fe44027c95418850b5b9cad438b0ac57d70', 'message': ""Freescale FWaaS Plugin\n\nImplements: blueprint freescale-fwaas-plugin\n\nDocImpact - Requires ml2_conf_fslsdn.ini configuration.\n\n- Moved 'def _make_firewall_dict_with_rules' from fwaas_plugin.py\n  to firewall_db.py for use in vendor plugin.\n\n- Error and Warning logs are handled with _LE and _LW.\n\n- Update to setup.cfg - https://review.openstack.org/#/c/150722/\n\nChange-Id: I5073b763375538c6edc4fc25142c34287316db4c\n""}, {'number': 8, 'created': '2015-01-29 17:13:47.000000000', 'files': ['neutron_fwaas/services/firewall/freescale/README.rst', 'neutron_fwaas/tests/unit/services/firewall/freescale/test_freescale_fwaas_plugin.py', 'neutron_fwaas/services/firewall/freescale/fwaas_plugin.py', 'neutron_fwaas/services/firewall/freescale/__init__.py', 'neutron_fwaas/tests/unit/services/firewall/freescale/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/8ec85fcd55d1140035a8fd3c738fcbef3ecd2b0f', 'message': 'Freescale FWaaS Plugin\n\nImplements: blueprint freescale-fwaas-plugin\n\nDocImpact - Requires ml2_conf_fslsdn.ini configuration.\n\n- Update to setup.cfg - https://review.openstack.org/#/c/150722/\n\nChange-Id: I5073b763375538c6edc4fc25142c34287316db4c\n'}]",64,148884,8ec85fcd55d1140035a8fd3c738fcbef3ecd2b0f,61,14,8,8645,,,0,"Freescale FWaaS Plugin

Implements: blueprint freescale-fwaas-plugin

DocImpact - Requires ml2_conf_fslsdn.ini configuration.

- Update to setup.cfg - https://review.openstack.org/#/c/150722/

Change-Id: I5073b763375538c6edc4fc25142c34287316db4c
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/84/148884/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/services/firewall/freescale/README.rst', 'neutron_fwaas/db/firewall/firewall_db.py', 'neutron_fwaas/services/firewall/freescale/fwaas_plugin.py', 'neutron_fwaas/tests/unit/services/firewall/freescale/test_freescale_fwaas_plugin.py', 'neutron_fwaas/services/firewall/fwaas_plugin.py', 'neutron_fwaas/services/firewall/freescale/__init__.py', 'neutron_fwaas/tests/unit/services/firewall/freescale/__init__.py']",7,e94f436e038daf20422e6fe312d29bd4de47d46a,bp/freescale-fwaas-plugin,,,552,14
openstack%2Fpython-ironicclient~master~I2274b864f8e2c7201444ab135c15e096a11e9e9f,openstack/python-ironicclient,master,I2274b864f8e2c7201444ab135c15e096a11e9e9f,"Check if --config-drive is only used with provision state ""active""",MERGED,2015-01-29 15:12:42.000000000,2015-02-02 19:16:17.000000000,2015-02-02 19:16:15.000000000,"[{'_account_id': 3}, {'_account_id': 3099}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 10239}, {'_account_id': 10343}]","[{'number': 1, 'created': '2015-01-29 15:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/33a233a61f0b7127ff2addae139903792e822111', 'message': 'Check if --config-drive is only used with provision state ""active""\n\nThis patch is adding a check to verify if the --config-drive parameter of\nthe node-set-provision-state command is only being used when setting the\nprovision state to ""active"", because that\'s the only supported provision\nstate that a config drive can be used with.\n\nChange-Id: I2274b864f8e2c7201444ab135c15e096a11e9e9f\n'}, {'number': 2, 'created': '2015-01-29 15:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/7a49083581fd50149b0651ec13cc593093215b6d', 'message': 'Check if --config-drive is only used with provision state ""active""\n\nThis patch is adding a check to verify if the --config-drive parameter of\nthe node-set-provision-state command is only being used when setting the\nprovision state to ""active"", because that\'s the only supported provision\nstate that a config drive can be used with.\n\nChange-Id: I2274b864f8e2c7201444ab135c15e096a11e9e9f\n'}, {'number': 3, 'created': '2015-01-29 16:18:07.000000000', 'files': ['ironicclient/v1/node_shell.py', 'ironicclient/tests/v1/test_node_shell.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/99cdcffda207d0554af2d37493332423a17a0628', 'message': 'Check if --config-drive is only used with provision state ""active""\n\nThis patch is adding a check to verify if the --config-drive parameter of\nthe node-set-provision-state command is only being used when setting the\nprovision state to ""active"", because that\'s the only supported provision\nstate that a config drive can be used with.\n\nChange-Id: I2274b864f8e2c7201444ab135c15e096a11e9e9f\n'}]",4,151270,99cdcffda207d0554af2d37493332423a17a0628,16,6,3,6773,,,0,"Check if --config-drive is only used with provision state ""active""

This patch is adding a check to verify if the --config-drive parameter of
the node-set-provision-state command is only being used when setting the
provision state to ""active"", because that's the only supported provision
state that a config drive can be used with.

Change-Id: I2274b864f8e2c7201444ab135c15e096a11e9e9f
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/70/151270/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironicclient/v1/node_shell.py', 'ironicclient/tests/v1/test_node_shell.py']",2,33a233a61f0b7127ff2addae139903792e822111,bp/expose-configdrive," args = mock.MagicMock() args.configdrive = 'foo' 'node_uuid', 'active', configdrive='foo') args.configdrive = None args.configdrive = None def test_do_node_set_provision_state_not_active_fails(self): client_mock = mock.MagicMock() args = mock.MagicMock() args.node = 'node_uuid' args.provision_state = 'deleted' args.configdrive = 'foo' self.assertRaises(exceptions.CommandError, n_shell.do_node_set_provision_state, client_mock, args) "," 'node_uuid', 'active', configdrive=mock.ANY)",19,1
openstack%2Fhorizon~master~I4eaf7cd7639de570058bdb793a95045a0be5d224,openstack/horizon,master,I4eaf7cd7639de570058bdb793a95045a0be5d224,Add ram-hours in overview page,MERGED,2015-02-02 07:14:46.000000000,2015-02-02 19:16:06.000000000,2015-02-02 19:16:04.000000000,"[{'_account_id': 3}, {'_account_id': 2455}, {'_account_id': 5623}, {'_account_id': 10442}]","[{'number': 1, 'created': '2015-02-02 07:14:46.000000000', 'files': ['horizon/templates/horizon/common/_usage_summary.html', 'openstack_dashboard/dashboards/admin/overview/templates/overview/usage.csv', 'openstack_dashboard/dashboards/admin/overview/tests.py', 'openstack_dashboard/dashboards/project/overview/templates/overview/usage.csv', 'openstack_dashboard/usage/tables.py', 'openstack_dashboard/api/nova.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/99ec0e70e7443f5cdfc69ef53328722bc4b3f45c', 'message': 'Add ram-hours in overview page\n\nIn the admin and project overview page, there has cpu-hours,\ndisk-hours, but has no ram-hours. This patch add ram-hours for\noverview page.\n\nChange-Id: I4eaf7cd7639de570058bdb793a95045a0be5d224\nCloses-bug:#1415775\n'}]",0,152008,99ec0e70e7443f5cdfc69ef53328722bc4b3f45c,8,4,1,9961,,,0,"Add ram-hours in overview page

In the admin and project overview page, there has cpu-hours,
disk-hours, but has no ram-hours. This patch add ram-hours for
overview page.

Change-Id: I4eaf7cd7639de570058bdb793a95045a0be5d224
Closes-bug:#1415775
",git fetch https://review.opendev.org/openstack/horizon refs/changes/08/152008/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/templates/horizon/common/_usage_summary.html', 'openstack_dashboard/dashboards/admin/overview/templates/overview/usage.csv', 'openstack_dashboard/dashboards/admin/overview/tests.py', 'openstack_dashboard/dashboards/project/overview/templates/overview/usage.csv', 'openstack_dashboard/usage/tables.py', 'openstack_dashboard/api/nova.py']",6,99ec0e70e7443f5cdfc69ef53328722bc4b3f45c,fix-bug/1415775," 'disk_gb_hours': self.disk_gb_hours, 'memory_mb_hours': self.memory_mb_hours} @property def memory_mb_hours(self): return getattr(self, ""total_memory_mb_usage"", 0) ", 'disk_gb_hours': self.disk_gb_hours},21,4
openstack%2Ffuel-specs~master~Ibf7a0ae930af92fecccb8cd974fe302f51dd40f4,openstack/fuel-specs,master,Ibf7a0ae930af92fecccb8cd974fe302f51dd40f4,Blueprint: support-vpnaas-in-mos,ABANDONED,2014-10-20 11:52:32.000000000,2015-02-02 19:07:43.000000000,,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 6072}, {'_account_id': 6502}, {'_account_id': 7125}, {'_account_id': 7227}, {'_account_id': 7468}, {'_account_id': 7604}, {'_account_id': 8749}, {'_account_id': 8786}, {'_account_id': 9977}, {'_account_id': 10959}, {'_account_id': 11163}, {'_account_id': 11827}]","[{'number': 1, 'created': '2014-10-20 11:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/55edaa0ab89eb67339ef3c279c7cd23d1f173e23', 'message': 'Blueprint: Add VPNaaS in MOS/FUEL\n\nChange-Id: Ibf7a0ae930af92fecccb8cd974fe302f51dd40f4\nImplements: bp/support-vpnaas-in-mos\n'}, {'number': 2, 'created': '2014-10-20 11:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/f0b342c60521e419c830791dc77ab15552c3ba11', 'message': 'Add VPNaaS in MOS/FUEL\n\nChange-Id: Ibf7a0ae930af92fecccb8cd974fe302f51dd40f4\nImplements blueprint support-vpnaas-in-mos\n'}, {'number': 3, 'created': '2014-10-20 12:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/08ac6cf8765a9d31993609b8656393eb1587aeec', 'message': 'Blueprint: Add VPNaaS in MOS/FUEL\n\nChange-Id: Ibf7a0ae930af92fecccb8cd974fe302f51dd40f4\nImplements: bp/support-vpnaas-in-mos\n'}, {'number': 4, 'created': '2014-10-20 13:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/92020b6664bf2c528c186798807154454dfd2f4e', 'message': 'Blueprint: Add VPNaaS in MOS/FUEL\n\nChange-Id: Ibf7a0ae930af92fecccb8cd974fe302f51dd40f4\nImplements: bp/support-vpnaas-in-mos\n'}, {'number': 5, 'created': '2014-10-20 13:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/bc2e1f172cd3ac2a22232ca99f97560ec2e9426f', 'message': 'Blueprint: support-vpnaas-in-mos\n\n- Add VPNaaS in MOS/FUEL\n\nChange-Id: Ibf7a0ae930af92fecccb8cd974fe302f51dd40f4\nImplements blueprint: bp/support-vpnaas-in-mos\n'}, {'number': 6, 'created': '2014-10-20 13:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/13f17c0e9400791ce707a87aac23c6b654423bee', 'message': 'Blueprint: support-vpnaas-in-mos\n\n- Add VPNaaS in MOS/FUEL\n\nChange-Id: Ibf7a0ae930af92fecccb8cd974fe302f51dd40f4\nImplements blueprint: support-vpnaas-in-mos\n'}, {'number': 7, 'created': '2015-01-23 12:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/d2601c2626cbbea803779fc7617b43e6da91007e', 'message': 'Blueprint: Add VPNaaS in MOS/FUEL\n\nChange-Id: Ibf7a0ae930af92fecccb8cd974fe302f51dd40f4\nImplements: bp/support-vpnaas-in-mos\n'}, {'number': 8, 'created': '2015-01-23 12:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/45f2628725a124633555592dba75ab378203b762', 'message': 'Blueprint: support-vpnaas-in-mos\n\n- Implement FUEL plugins for VPNaaS functionality in MOS\n\nImplements blueprint: support-vpnaas-in-mos\nChange-Id: Ibf7a0ae930af92fecccb8cd974fe302f51dd40f4\n'}, {'number': 9, 'created': '2015-01-23 13:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/e1e3a0a79a2b6cd4ba000958a187e6947b971e03', 'message': 'Blueprint: support-vpnaas-in-mos\n\n- Implement FUEL plugins for VPNaaS functionality in MOS\n\nImplements blueprint: support-vpnaas-in-mos\nChange-Id: Ibf7a0ae930af92fecccb8cd974fe302f51dd40f4\n'}, {'number': 10, 'created': '2015-01-27 07:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/6b9598cdd71e7036dac7a8148251b16469cc464f', 'message': 'Blueprint: support-vpnaas-in-mos\n\n- Implement FUEL plugins for VPNaaS functionality in MOS\n\nImplements blueprint: support-vpnaas-in-mos\nChange-Id: Ibf7a0ae930af92fecccb8cd974fe302f51dd40f4\n'}, {'number': 11, 'created': '2015-01-27 15:12:08.000000000', 'files': ['specs/6.1/support-vpnaas-in-mos.rst'], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/fbe9919877c317ba19f2c60ae7e48babab57d3aa', 'message': 'Blueprint: support-vpnaas-in-mos\n\n- Implement FUEL plugins for VPNaaS functionality in MOS\n\nImplements blueprint: support-vpnaas-in-mos\nChange-Id: Ibf7a0ae930af92fecccb8cd974fe302f51dd40f4\n'}]",23,129586,fbe9919877c317ba19f2c60ae7e48babab57d3aa,37,14,11,6502,,,0,"Blueprint: support-vpnaas-in-mos

- Implement FUEL plugins for VPNaaS functionality in MOS

Implements blueprint: support-vpnaas-in-mos
Change-Id: Ibf7a0ae930af92fecccb8cd974fe302f51dd40f4
",git fetch https://review.opendev.org/openstack/fuel-specs refs/changes/86/129586/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/6.0/support-vpnaas-in-mos.rst'],1,55edaa0ab89eb67339ef3c279c7cd23d1f173e23,bp/support-vpnaas-in-mos,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Support of VPNaaS Neutron feature in MOS/FUEL ========================================== https://blueprints.launchpad.net/fuel/+spec/support-vpnaas-in-mos Problem description =================== Today multi-cloud integration is a popular topic, because very often we have more than one cloud and want to have some interaction between tenants from the different clouds for some reason, like HA for our services on the VMs. For this purpose in OpenStack Neutron was implemented VPNaaS, which we need to support in MOS and Fuel. Proposed change =============== Fuel will need to be extended in the following ways: 1. Add into Fuel-UI experimantal option for the deployment VPNaaS. 2. Add ability to deploy and control VPN agent instead of L3 agent. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Upgrade impact -------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- * Add config option USE_VPNaaS (default: False) Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: aepifanov Work Items ---------- * Add to Fuel ability to deploy VPN agent * Update UI and manifests for availability to use VPNaaS * Modify OCF scripts for the supporting VPN agents Dependencies ============ * openswan package Testing ======= None Documentation Impact ==================== This feature whould be documented. The planing guide will be updated. References ========== * https://wiki.openstack.org/wiki/Neutron/VPNaaS * https://wiki.openstack.org/wiki/Neutron/VPNaaS/HowToInstall * http://docwiki.cisco.com/wiki/OpenStack:Havana:VPNaaS ",,122,0
openstack%2Frequirements~stable%2Fjuno~If69e6e2a88edb82184e80fefd54707b92a63350f,openstack/requirements,stable/juno,If69e6e2a88edb82184e80fefd54707b92a63350f,remove seamicroclient,MERGED,2015-01-28 22:18:59.000000000,2015-02-02 19:04:06.000000000,2015-02-02 19:04:04.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 5263}, {'_account_id': 8871}]","[{'number': 1, 'created': '2015-01-28 22:18:59.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6f5cb3c4aded256adfee2d5f78e6879dec844597', 'message': 'remove seamicroclient\n\nThis is no longer an ironic dependency.\n\nConflicts:\n\tglobal-requirements.txt\n\nChange-Id: If69e6e2a88edb82184e80fefd54707b92a63350f\n'}]",0,151009,6f5cb3c4aded256adfee2d5f78e6879dec844597,12,7,1,2750,,,0,"remove seamicroclient

This is no longer an ironic dependency.

Conflicts:
	global-requirements.txt

Change-Id: If69e6e2a88edb82184e80fefd54707b92a63350f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/09/151009/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,6f5cb3c4aded256adfee2d5f78e6879dec844597,test_backports,," # External libraries not tested in the gate, but present here to synchronize # packaging efforts. These are required by projects to enable hardware- or # vendor-specific functionality. python-seamicroclient>=0.1.0,<2.0",0,5
openstack%2Frequirements~stable%2Fjuno~I42acd9216e79515a78ca881ba0f744b99391a529,openstack/requirements,stable/juno,I42acd9216e79515a78ca881ba0f744b99391a529,remove gear from g-r,MERGED,2015-01-28 22:18:59.000000000,2015-02-02 19:03:58.000000000,2015-02-02 19:03:56.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 5263}]","[{'number': 1, 'created': '2015-01-28 22:18:59.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8b6fbb8151ecb202ef16f3e7611526886ee06663', 'message': 'remove gear from g-r\n\nthis was added for tripleo-ci, which is not in\nprojects.txt. Presumably it was added because it was needed in the\nmirrors, but g-r no longer controls the mirrors.\n\nConflicts:\n\tglobal-requirements.txt\n\nChange-Id: I42acd9216e79515a78ca881ba0f744b99391a529\n(cherry picked from commit 9d7fdb191e6e41c93c2f8da7589f7624ab034f4d)\n'}]",0,151008,8b6fbb8151ecb202ef16f3e7611526886ee06663,9,5,1,2750,,,0,"remove gear from g-r

this was added for tripleo-ci, which is not in
projects.txt. Presumably it was added because it was needed in the
mirrors, but g-r no longer controls the mirrors.

Conflicts:
	global-requirements.txt

Change-Id: I42acd9216e79515a78ca881ba0f744b99391a529
(cherry picked from commit 9d7fdb191e6e41c93c2f8da7589f7624ab034f4d)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/08/151008/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,8b6fbb8151ecb202ef16f3e7611526886ee06663,test_backports,,gear,0,1
openstack%2Frequirements~stable%2Fjuno~I26f50f95099e57c72e1e30cdf92cd14be293f720,openstack/requirements,stable/juno,I26f50f95099e57c72e1e30cdf92cd14be293f720,only do package installation once,MERGED,2015-01-28 22:18:59.000000000,2015-02-02 18:51:13.000000000,2015-02-02 18:51:11.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 308}, {'_account_id': 1849}, {'_account_id': 2472}, {'_account_id': 5263}]","[{'number': 1, 'created': '2015-01-28 22:18:59.000000000', 'files': ['tools/integration.sh'], 'web_link': 'https://opendev.org/openstack/requirements/commit/92e5738b9cd406149ec231e00f9994dfc8dbdd38', 'message': 'only do package installation once\n\nrequirements only needs to test that requirements works once, this\nwill dramatically speed up the time to run the requirements job.\n\nChange-Id: I26f50f95099e57c72e1e30cdf92cd14be293f720\n(cherry picked from commit f1c40d16efc483d1fead9d520549667e81a24a0e)\n'}]",0,151007,92e5738b9cd406149ec231e00f9994dfc8dbdd38,11,6,1,2750,,,0,"only do package installation once

requirements only needs to test that requirements works once, this
will dramatically speed up the time to run the requirements job.

Change-Id: I26f50f95099e57c72e1e30cdf92cd14be293f720
(cherry picked from commit f1c40d16efc483d1fead9d520549667e81a24a0e)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/07/151007/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/integration.sh'],1,92e5738b9cd406149ec231e00f9994dfc8dbdd38,test_backports, , # Test that we can make a tarball from scratch sdistvenv=$tmpdir/sdist mkvenv $sdistvenv cd $shortprojectdir $sdistvenv/bin/python setup.py sdist cd $tmpdir # Test that the tarball installs tarballvenv=$tmpdir/tarball mkvenv $tarballvenv $tarballvenv/bin/pip install $shortprojectdir/dist/*tar.gz # Test pip installing pipvenv=$tmpdir/pip mkvenv $pipvenv $pipvenv/bin/pip install git+file://$shortprojectdir ,2,18
openstack%2Fceilometer~master~I406266a955610365066bff556bc26bf15229820d,openstack/ceilometer,master,I406266a955610365066bff556bc26bf15229820d,Imported Translations from Transifex,MERGED,2015-01-24 06:09:51.000000000,2015-02-02 18:51:04.000000000,2015-02-02 18:51:02.000000000,"[{'_account_id': 3}, {'_account_id': 2284}, {'_account_id': 6537}, {'_account_id': 6676}, {'_account_id': 6924}, {'_account_id': 7052}, {'_account_id': 10987}, {'_account_id': 13273}]","[{'number': 1, 'created': '2015-01-24 06:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/0468589a67538aa9da2b0928f1aa20f26c7a0918', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I406266a955610365066bff556bc26bf15229820d\n'}, {'number': 2, 'created': '2015-01-25 06:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/46526542aaa39fbab4144ef89bc77825aa46a4d6', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I406266a955610365066bff556bc26bf15229820d\n'}, {'number': 3, 'created': '2015-01-26 06:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/86e3e7cef9e2f846ce9c0ba3027d0d23e2bbbc4e', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I406266a955610365066bff556bc26bf15229820d\n'}, {'number': 4, 'created': '2015-01-27 06:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/222ee36b5b30b4dc91c01a163c10fd714aa70970', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I406266a955610365066bff556bc26bf15229820d\n'}, {'number': 5, 'created': '2015-01-28 06:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ba4e1ae194c52bf653c01fe5299996f076fc44c8', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I406266a955610365066bff556bc26bf15229820d\n'}, {'number': 6, 'created': '2015-01-29 06:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f4fc4ebcef6dc4554671b6e7f29b764a6fe19175', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I406266a955610365066bff556bc26bf15229820d\n'}, {'number': 7, 'created': '2015-01-30 06:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f024ba6129a61a8043528f53204d32cc7a467687', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I406266a955610365066bff556bc26bf15229820d\n'}, {'number': 8, 'created': '2015-01-31 06:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3d37189a9eae5d515e23157e63aec1824c1d891c', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I406266a955610365066bff556bc26bf15229820d\n'}, {'number': 9, 'created': '2015-02-01 06:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3d8249d2af45a010f3f6c625aa13a9f4c625784e', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I406266a955610365066bff556bc26bf15229820d\n'}, {'number': 10, 'created': '2015-02-02 06:08:30.000000000', 'files': ['ceilometer/locale/ceilometer-log-warning.pot', 'ceilometer/locale/en_GB/LC_MESSAGES/ceilometer-log-warning.po', 'ceilometer/locale/zh_CN/LC_MESSAGES/ceilometer-log-warning.po', 'ceilometer/locale/zh_CN/LC_MESSAGES/ceilometer-log-error.po', 'ceilometer/locale/en_GB/LC_MESSAGES/ceilometer.po', 'ceilometer/locale/zh_CN/LC_MESSAGES/ceilometer.po', 'ceilometer/locale/de/LC_MESSAGES/ceilometer-log-warning.po', 'ceilometer/locale/fr/LC_MESSAGES/ceilometer-log-warning.po', 'ceilometer/locale/ko_KR/LC_MESSAGES/ceilometer-log-info.po', 'ceilometer/locale/ceilometer.pot'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/03ea038ae3d27e826fd7d9d374ed7e9d5f0f3c60', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I406266a955610365066bff556bc26bf15229820d\n'}]",0,149812,03ea038ae3d27e826fd7d9d374ed7e9d5f0f3c60,49,8,10,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I406266a955610365066bff556bc26bf15229820d
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/12/149812/8 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/locale/en_GB/LC_MESSAGES/ceilometer.po', 'ceilometer/locale/ceilometer.pot', 'ceilometer/locale/ko_KR/LC_MESSAGES/ceilometer-log-info.po']",3,0468589a67538aa9da2b0928f1aa20f26c7a0918,transifex/translations,"""POT-Creation-Date: 2015-01-24 06:09+0000\n"" ""PO-Revision-Date: 2015-01-24 01:51+0000\n""msgstr ""%s: 정책 디렉토리를 찾을 수 없습니다.""","""POT-Creation-Date: 2015-01-07 06:11+0000\n"" ""PO-Revision-Date: 2014-12-23 12:43+0000\n""msgstr """"",41,101
openstack%2Fbarbican~master~I7e676b78bf5d335f84c9ce2e4c82d8273a42baa0,openstack/barbican,master,I7e676b78bf5d335f84c9ce2e4c82d8273a42baa0,Updated from global requirements,MERGED,2015-02-02 17:39:58.000000000,2015-02-02 18:50:40.000000000,2015-02-02 18:50:39.000000000,"[{'_account_id': 3}, {'_account_id': 7136}, {'_account_id': 7262}, {'_account_id': 10873}]","[{'number': 1, 'created': '2015-02-02 17:39:58.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/barbican/commit/c3a867c4333db203a53ad8f8b14cf9124ac2a7b9', 'message': 'Updated from global requirements\n\nChange-Id: I7e676b78bf5d335f84c9ce2e4c82d8273a42baa0\n'}]",0,152206,c3a867c4333db203a53ad8f8b14cf9124ac2a7b9,8,4,1,11131,,,0,"Updated from global requirements

Change-Id: I7e676b78bf5d335f84c9ce2e4c82d8273a42baa0
",git fetch https://review.opendev.org/openstack/barbican refs/changes/06/152206/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,c3a867c4333db203a53ad8f8b14cf9124ac2a7b9,openstack/requirements,oslo.messaging>=1.6.0 # Apache-2.0,"oslo.messaging>=1.4.0,!=1.5.0",1,1
openstack%2Fmagnum~master~Icacca5284026318227a11a009b7540632c0dd532,openstack/magnum,master,Icacca5284026318227a11a009b7540632c0dd532,Fix and clean up Container api,MERGED,2015-01-30 18:39:07.000000000,2015-02-02 18:49:03.000000000,2015-02-02 18:49:01.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 8580}, {'_account_id': 11536}]","[{'number': 1, 'created': '2015-01-30 18:39:07.000000000', 'files': ['magnum/api/controllers/v1/container.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/847f7908da3fde70c9f39858e246a78dadac445e', 'message': 'Fix and clean up Container api\n\nChange-Id: Icacca5284026318227a11a009b7540632c0dd532\n'}]",0,151733,847f7908da3fde70c9f39858e246a78dadac445e,10,4,1,8580,,,0,"Fix and clean up Container api

Change-Id: Icacca5284026318227a11a009b7540632c0dd532
",git fetch https://review.opendev.org/openstack/magnum refs/changes/33/151733/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/api/controllers/v1/container.py'],1,847f7908da3fde70c9f39858e246a78dadac445e,,," # FIXME(comstud): One should only allow UUID here, but # there seems to be a bug in that tests are passing an # ID. See bug #1301046 for more details. # NOTE(lucasagomes): Create the container_id attribute # on-the-fly to satisfy the api -> rpc object conversion. # NOTE(lucasagomes): container_uuid is not part of # objects.Container.fields because it's an API-only attribute # NOTE(lucasagomes): container_id is an attribute created on-the-fly # by _set_container_uuid(), it needs to be present in the fields so # that as_dict() will contain container_id field when converting it # before saving it in the database. # never expose the container_id attribute container.container_id = wtypes.Unset # NOTE(lucasagomes): container_uuid getter() method look at the # _container_uuid variable sample._container_uuid = '7ae81bb3-dec3-4289-8d6c-da80bd8001ae' # NOTE(lucasagomes): /detail should only work agaist collections # NOTE(lucasagomes): # 1) Remove container_id because it's an internal value and # not present in the API object # 2) Add container_uuid",0,22
openstack%2Fceilometer~master~I73b69892b8ee429ed649741419554076379c093c,openstack/ceilometer,master,I73b69892b8ee429ed649741419554076379c093c,Fix IPMI unit test to cover different platforms,MERGED,2015-01-27 07:15:28.000000000,2015-02-02 18:45:10.000000000,2015-02-02 18:45:09.000000000,"[{'_account_id': 3}, {'_account_id': 2284}, {'_account_id': 4491}, {'_account_id': 6537}, {'_account_id': 6676}, {'_account_id': 6924}, {'_account_id': 7052}, {'_account_id': 10987}, {'_account_id': 11235}, {'_account_id': 11564}]","[{'number': 1, 'created': '2015-01-27 07:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/eac398fe68f5f7259e2158c9411c0c6bb3e1f7c4', 'message': ""Fix IPMI unit test to cover initializations on different platforms.\n\nAs execution engine is singleton, test for the 2nd platform still use the 1st\nplatform's engine and its initialization doesn't run at all. Reset engine init\nflag after test for each platform to fix it.\n\nChange-Id: I73b69892b8ee429ed649741419554076379c093c\n""}, {'number': 2, 'created': '2015-01-27 07:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c4bd6a03fe7910e6cc13a9939b6538bf65db2a55', 'message': ""Fix IPMI unit test to cover different platforms\n\nAs execution engine is singleton, test for the 2nd platform still use\nthe 1st platform's engine and its initialization doesn't run at all.\nReset engine init flag after test for each platform to fix it.\n\nChange-Id: I73b69892b8ee429ed649741419554076379c093c\n""}, {'number': 3, 'created': '2015-01-27 07:27:52.000000000', 'files': ['ceilometer/tests/ipmi/platform/test_intel_node_manager.py', 'ceilometer/tests/ipmi/platform/test_ipmi_sensor.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/4b37a36fbff3ad7a93b4afb9038f793548a6ef04', 'message': ""Fix IPMI unit test to cover different platforms\n\nAs execution engine is singleton, test for the 2nd platform still use\nthe 1st platform's engine and its initialization doesn't run at all.\nReset engine init flag after test for each platform to fix it.\n\nChange-Id: I73b69892b8ee429ed649741419554076379c093c\nCloses-Bug: #1414903\n""}]",4,150290,4b37a36fbff3ad7a93b4afb9038f793548a6ef04,16,10,3,11235,,,0,"Fix IPMI unit test to cover different platforms

As execution engine is singleton, test for the 2nd platform still use
the 1st platform's engine and its initialization doesn't run at all.
Reset engine init flag after test for each platform to fix it.

Change-Id: I73b69892b8ee429ed649741419554076379c093c
Closes-Bug: #1414903
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/90/150290/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/ipmi/platform/test_intel_node_manager.py', 'ceilometer/tests/ipmi/platform/test_ipmi_sensor.py']",2,eac398fe68f5f7259e2158c9411c0c6bb3e1f7c4,bug/1414903,"from oslotest import base @classmethod def tearDownClass(cls): # reset inited to force an initialization of singleton for next test ipmi_sensor.IPMISensor()._inited = False super(TestIPMISensor, cls).tearDownClass() self.assertTrue(self.ipmi.ipmi_support) @classmethod def tearDownClass(cls): # reset inited to force an initialization of singleton for next test ipmi_sensor.IPMISensor()._inited = False super(TestNonIPMISensor, cls).tearDownClass() self.assertFalse(self.ipmi.ipmi_support)",from oslotest import base self.ipmi.ipmi_support = False,28,5
openstack%2Fhorizon~master~I839a4f17cfc75dbec8c753721bc1dbd8c7a8d578,openstack/horizon,master,I839a4f17cfc75dbec8c753721bc1dbd8c7a8d578,Add support for OVA images in Horizon,MERGED,2015-01-28 11:10:33.000000000,2015-02-02 18:43:26.000000000,2015-02-02 18:43:25.000000000,"[{'_account_id': 3}, {'_account_id': 4264}, {'_account_id': 5623}, {'_account_id': 6637}, {'_account_id': 6914}, {'_account_id': 7665}, {'_account_id': 8533}, {'_account_id': 9622}, {'_account_id': 9981}]","[{'number': 1, 'created': '2015-01-28 11:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/13ffac37f3e9bf4d881ff7d6c860c67a85c4778d', 'message': 'Add support for OVA images in Horizon\n\nThis is supported in glance etc.\n\nChange-Id: I839a4f17cfc75dbec8c753721bc1dbd8c7a8d578\nCloses-Bug: #1415418\n'}, {'number': 2, 'created': '2015-01-29 12:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e0b2d561e27cc20d313cb08502ebbe632aaa1c00', 'message': 'Add support for OVA images in Horizon\n\nThis is supported in glance etc.\n\nChange-Id: I839a4f17cfc75dbec8c753721bc1dbd8c7a8d578\nCloses-Bug: #1415418\n'}, {'number': 3, 'created': '2015-02-02 08:57:14.000000000', 'files': ['openstack_dashboard/local/local_settings.py.example', 'openstack_dashboard/settings.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c42ed5b1eec1c5193e29c9871686a4013db760f1', 'message': 'Add support for OVA images in Horizon\n\nThis is supported in glance etc.\n\nAdd additional descriptions to image backend formats.\n\nChange-Id: I839a4f17cfc75dbec8c753721bc1dbd8c7a8d578\nCloses-Bug: #1415418\n'}]",7,150751,c42ed5b1eec1c5193e29c9871686a4013db760f1,24,9,3,4264,,,0,"Add support for OVA images in Horizon

This is supported in glance etc.

Add additional descriptions to image backend formats.

Change-Id: I839a4f17cfc75dbec8c753721bc1dbd8c7a8d578
Closes-Bug: #1415418
",git fetch https://review.opendev.org/openstack/horizon refs/changes/51/150751/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/local/local_settings.py.example', 'openstack_dashboard/settings.py']",2,13ffac37f3e9bf4d881ff7d6c860c67a85c4778d,bug/1415418," ('vmdk', _('VMDK')), ('ova', _('OVA'))"," ('vmdk', _('VMDK'))",3,1
openstack%2Fcue~master~Id05f1a39ebaa91061145f5fc6d069a3c8e154f66,openstack/cue,master,Id05f1a39ebaa91061145f5fc6d069a3c8e154f66,Implemented publisher API and multi-process worker,MERGED,2015-01-28 16:30:52.000000000,2015-02-02 18:42:55.000000000,2015-02-02 18:42:54.000000000,"[{'_account_id': 3}, {'_account_id': 1925}, {'_account_id': 10584}]","[{'number': 1, 'created': '2015-01-28 16:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cue/commit/55cc33c1072da2fbb0e9e6f886d437660323f0b1', 'message': ""Implemented publisher API and multi-process worker\n\nPulled in runner/API and runner/worker from Endre's fork\nhttps://github.com/ekarlso/cue/tree/runner with a few modifications.\n\nworker-based engines are not being supported with the initial release of\ncue, and zookeeper is being used by default as both the persistence and\njobboard backend.\n\nChange-Id: Id05f1a39ebaa91061145f5fc6d069a3c8e154f66\n""}, {'number': 2, 'created': '2015-01-28 19:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cue/commit/d0d70e0ca67a997c59d198e158bad45b664422fd', 'message': ""Implemented publisher API and multi-process worker\n\nPulled in runner/API and runner/worker from Endre's fork\nhttps://github.com/ekarlso/cue/tree/runner with a few modifications.\n\nworker-based engines are not being supported with the initial release of\ncue, and zookeeper is being used by default as both the persistence and\njobboard backend.\n\nChange-Id: Id05f1a39ebaa91061145f5fc6d069a3c8e154f66\n""}, {'number': 3, 'created': '2015-01-28 21:53:33.000000000', 'files': ['cue/taskflow/client.py', '.gitignore', 'test-requirements.txt', 'cue/taskflow/__init__.py', 'cue/taskflow/service.py', 'cue/tests/taskflow/test_client.py', 'cue/tests/taskflow/__init__.py', 'Vagrantfile', 'etc/cue/worker.conf.sample', 'cue/cmd/monitor.py', 'setup.cfg', 'cue/cmd/worker.py'], 'web_link': 'https://opendev.org/openstack/cue/commit/df6930e2e03aed3f6f9b479d4773627ff15b3f87', 'message': ""Implemented publisher API and multi-process worker\n\nPulled in runner/API and runner/worker from Endre's fork\nhttps://github.com/ekarlso/cue/tree/runner with a few modifications.\n\nworker-based engines are not being supported with the initial release of\ncue, and zookeeper is being used by default as both the persistence and\njobboard backend.\n\nChange-Id: Id05f1a39ebaa91061145f5fc6d069a3c8e154f66\n""}]",6,150839,df6930e2e03aed3f6f9b479d4773627ff15b3f87,12,3,3,10584,,,0,"Implemented publisher API and multi-process worker

Pulled in runner/API and runner/worker from Endre's fork
https://github.com/ekarlso/cue/tree/runner with a few modifications.

worker-based engines are not being supported with the initial release of
cue, and zookeeper is being used by default as both the persistence and
jobboard backend.

Change-Id: Id05f1a39ebaa91061145f5fc6d069a3c8e154f66
",git fetch https://review.opendev.org/openstack/cue refs/changes/39/150839/2 && git format-patch -1 --stdout FETCH_HEAD,"['cue/taskflow/client.py', '.gitignore', 'test-requirements.txt', 'cue/taskflow/__init__.py', 'cue/openstack/common/service.py', 'cue/taskflow/service.py', 'cue/tests/taskflow/test_client.py', 'cue/tests/taskflow/__init__.py', 'Vagrantfile', 'etc/cue/worker.conf.sample', 'cue/cmd/monitor.py', 'cue/cmd/worker.py']",12,55cc33c1072da2fbb0e9e6f886d437660323f0b1,multi_process_conductor,"import loggingimport eventlet import oslo.config.cfg as cfg import oslo_log.log as log from cue.common.i18n import _LI # noqa import cue.common.service as cue_service import cue.openstack.common.service as os_service import cue.runner.service as runner eventlet.monkey_patch(os=False) WORKER_OPTS = [ cfg.IntOpt('count', help=""Number of worker processes to spawn"", default=10) ] opt_group = cfg.OptGroup( name='worker', title='Options for cue worker' ) cfg.CONF.register_group(opt_group) cfg.CONF.register_opts(WORKER_OPTS, group=opt_group) # Initialize environment CONF = cfg.CONF cue_service.prepare_service(sys.argv) # Log configuration and other startup information LOG = log.getLogger(__name__) LOG.info(_LI(""Starting cue workers"")) LOG.info(_LI(""Configuration:"")) CONF.log_opt_values(LOG, logging.INFO) cue_worker = runner.ConductorService.create(""cue-worker"") #cue_worker.start() launcher = os_service.launch(service=cue_worker, workers=CONF.worker.count) launcher.wait()","from taskflow.conductors import single_threaded from taskflow.jobs import backends as job_backends from taskflow.persistence import backends as persistence_backends PERSISTENCE_BACKEND_CONF = { #""connection"": ""mysql+pymysql://taskflow:taskflow@localhost/taskflow"", ""connection"": ""zookeeper"", } JOB_BACKEND_CONF = { ""board"": ""zookeeper"", ""path"": ""/taskflow/jobs/tutorial_conduct"", } with persistence_backends.backend( PERSISTENCE_BACKEND_CONF.copy() ) as persistence: with job_backends.backend( 'tutorial_conduct', JOB_BACKEND_CONF.copy(), persistence=persistence ) as board: conductor = single_threaded.SingleThreadedConductor( ""conductor name"", board, persistence, engine='serial') conductor.run()",668,42
openstack%2Foslo.vmware~master~I83ea3a6132f14787a2c4e52dd1e42c19a76e4954,openstack/oslo.vmware,master,I83ea3a6132f14787a2c4e52dd1e42c19a76e4954,Imported Translations from Transifex,MERGED,2015-01-31 06:05:15.000000000,2015-02-02 18:42:14.000000000,2015-02-02 18:42:13.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 9008}]","[{'number': 1, 'created': '2015-01-31 06:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/b249225267dc18102871876a5545b8e499671d23', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I83ea3a6132f14787a2c4e52dd1e42c19a76e4954\n'}, {'number': 2, 'created': '2015-02-01 06:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/174268b6ef0d07a9260ddacae2ba6c729831b7b0', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I83ea3a6132f14787a2c4e52dd1e42c19a76e4954\n'}, {'number': 3, 'created': '2015-02-02 06:04:48.000000000', 'files': ['oslo.vmware/locale/oslo.vmware-log-info.pot', 'oslo.vmware/locale/fr/LC_MESSAGES/oslo.vmware-log-info.po', 'oslo.vmware/locale/fr/LC_MESSAGES/oslo.vmware.po', 'oslo.vmware/locale/oslo.vmware.pot'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/f2934d1e7e04391587ce5e83a03074e0fbb2c98e', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I83ea3a6132f14787a2c4e52dd1e42c19a76e4954\n'}]",0,151857,f2934d1e7e04391587ce5e83a03074e0fbb2c98e,13,3,3,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I83ea3a6132f14787a2c4e52dd1e42c19a76e4954
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/57/151857/3 && git format-patch -1 --stdout FETCH_HEAD,"['oslo.vmware/locale/oslo.vmware-log-info.pot', 'oslo.vmware/locale/fr/LC_MESSAGES/oslo.vmware-log-info.po', 'oslo.vmware/locale/fr/LC_MESSAGES/oslo.vmware.po', 'oslo.vmware/locale/oslo.vmware.pot']",4,b249225267dc18102871876a5545b8e499671d23,transifex/translations,"""Project-Id-Version: oslo.vmware 0.9.0.post1\n""""POT-Creation-Date: 2015-01-31 06:05+0000\n""#: oslo_vmware/api.py:306#: oslo_vmware/api.py:464#: oslo_vmware/api.py:471#: oslo_vmware/network/nsx/nsxv/common/exceptions.py:27#: oslo_vmware/network/nsx/nsxv/common/exceptions.py:54 #, python-format msgid ""Bad %(resource)s request: %(msg)s"" msgstr """" #: oslo_vmware/network/nsx/nsxv/common/exceptions.py:58 #, python-format msgid ""%(resource)s not found: %(msg)s"" msgstr """" #: oslo_vmware/network/nsx/nsxv/common/exceptions.py:62 #, python-format msgid ""An unknown exception %(status)s occurred: %(response)s."" msgstr """" #: oslo_vmware/network/nsx/nsxv/common/exceptions.py:73 #, python-format msgid ""Resource %(uri)s has been redirected"" msgstr """" #: oslo_vmware/network/nsx/nsxv/common/exceptions.py:77 #, python-format msgid ""Request %(uri)s is Bad, response %(response)s"" msgstr """" #: oslo_vmware/network/nsx/nsxv/common/exceptions.py:81 #, python-format msgid ""Forbidden: %(uri)s"" msgstr """" #: oslo_vmware/network/nsx/nsxv/common/exceptions.py:85 #, python-format msgid ""Resource %(uri)s not found"" msgstr """" #: oslo_vmware/network/nsx/nsxv/common/exceptions.py:89 #, python-format msgid ""Media Type %(uri)s is not supported"" msgstr """" #: oslo_vmware/network/nsx/nsxv/common/exceptions.py:93 #, python-format msgid ""Service Unavailable: %(uri)s"" msgstr """" #: oslo_vmware/network/nsx/nsxv/common/exceptions.py:97 #, python-format msgid ""Concurrent object access error: %(uri)s"" msgstr """" ","""Project-Id-Version: oslo.vmware 0.8.0.post15\n""""POT-Creation-Date: 2015-01-21 06:07+0000\n""#: oslo_vmware/api.py:316#: oslo_vmware/api.py:474#: oslo_vmware/api.py:481",122,12
openstack%2Foslo.messaging~master~I63535949ba6c0c7577dfc7878a19552d4cacb9ac,openstack/oslo.messaging,master,I63535949ba6c0c7577dfc7878a19552d4cacb9ac,Imported Translations from Transifex,MERGED,2014-12-20 06:12:00.000000000,2015-02-02 18:38:07.000000000,2015-02-02 18:38:06.000000000,"[{'_account_id': 3}, {'_account_id': 2472}]","[{'number': 1, 'created': '2014-12-20 06:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/8fedce3de57c7107a2ae342fd7c2ee69ed4a8e12', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 2, 'created': '2014-12-21 06:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/945f17cc3714d4f1366c5280c691087545f8c64b', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 3, 'created': '2014-12-22 06:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/2db9df66b959557c1a22f1f6505f8c548fc93ae7', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 4, 'created': '2014-12-23 06:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/2fb0245245633fe023414180210a84dd2d76b3b5', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 5, 'created': '2014-12-24 06:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/de89726212304c3db64b3680c57b407605f1b265', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 6, 'created': '2014-12-25 06:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/e0a87de7203631876d9e5f441a39f17ed4bc5920', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 7, 'created': '2014-12-26 06:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0a9c9bd8a43805e4ac33f78776ad3dd8fb2488c2', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 8, 'created': '2014-12-27 06:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/2b6e80347523c90fc820232edd90485d0dfded54', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 9, 'created': '2014-12-28 06:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/aaf49ea34ea3d9b05910ef1f85d1ec0702fea59d', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 10, 'created': '2014-12-29 06:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/4c3443429c5d5d8e4730451c5b8d9f12c574872c', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 11, 'created': '2014-12-30 06:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/e41b71ec0997d2e8a1803009dcfe902f10607d14', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 12, 'created': '2014-12-31 06:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/44b31dd177d61ce6e3f7ca86f723cbd805aa1908', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 13, 'created': '2015-01-01 06:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ca8a0d0942ae981206b1b5134e1bc201d6db36f4', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 14, 'created': '2015-01-02 06:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/6ffde25875a6763970fd50dea242105c2c4723f9', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 15, 'created': '2015-01-03 06:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/018eeb1cd74091afc03155b8a4f39ca4c433c7db', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 16, 'created': '2015-01-04 06:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0e9552754a3c788495bedc4b4151454f0c97b073', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 17, 'created': '2015-01-05 06:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ef0b66d0b74957a93bc204dafbc436983c92d4f8', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 18, 'created': '2015-01-06 06:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/9dd270d534d78084d0aba66985469304c802185f', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 19, 'created': '2015-01-07 06:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/cf105109a5e858ef4c92bd8dd10ac0f06860e884', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 20, 'created': '2015-01-08 06:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/bff369deefa1d6d644664ea1b09f20f1d0bb662e', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 21, 'created': '2015-01-09 06:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/7e6fcacc89af85f493dc6f140b2a96b21ba683a2', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 22, 'created': '2015-01-10 06:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/a4865d5d89685aaf7b835f9e515adefc8a61e3ac', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 23, 'created': '2015-01-11 06:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/15e2a06610aa8234627982d5dfb58bb258c6240f', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 24, 'created': '2015-01-12 06:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/cbe787d3fb981b1c58b531574320b1c3b4a0017b', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 25, 'created': '2015-01-13 06:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1b8019a7938bca90e7d64915dc0719ef8b1909c1', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 26, 'created': '2015-01-14 06:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/a8f1c927fa7c1aa45d6dc6fff2854815e6520142', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 27, 'created': '2015-01-15 06:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/90d923484d74b744e9940f98fa771343f4fe9fac', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 28, 'created': '2015-01-16 06:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d2eceb50f0ce5def6a533991f67d19c4db6b3f73', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 29, 'created': '2015-01-17 06:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/fe246a19b04128773525a0f8e9f565de49fa5b68', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 30, 'created': '2015-01-18 06:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/6af5c3b6b322e094ebacc1768d5ba57d518f20b2', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 31, 'created': '2015-01-19 06:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ad16d81bb26c825e3ab7c09f85238b74d44ba103', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 32, 'created': '2015-01-20 06:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ae26d4cf28d5b6c6432b7c6999b513831b6ee7a7', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 33, 'created': '2015-01-21 06:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ef0386041552d42a55da2ee960e244ec0f73ced0', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 34, 'created': '2015-01-22 06:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/e8d1c93c8e17624e5cbabeffe047bd1d72320894', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 35, 'created': '2015-01-23 06:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/737463271fe7111b56e8fdd680bee0f9358e21e0', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 36, 'created': '2015-01-24 06:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/c6578ae9bc21cc84fae5c974faf92717b0f4ea79', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 37, 'created': '2015-01-25 06:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/16369a7e258d01b5e38844b6696ab1483651f898', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 38, 'created': '2015-01-26 06:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0267e33a9e9255ecd0b3cf9a4132c3ec90336e5d', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 39, 'created': '2015-01-27 06:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0be21c42e75de3ff972afab5fc0ac99d942b8ae0', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 40, 'created': '2015-01-28 06:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/c9a7dc861e03925c286ca9d709507d184df02c42', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 41, 'created': '2015-01-29 06:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/76f05e64f72eca2802dd2d86ab8213e720d18055', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 42, 'created': '2015-01-30 06:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1f29884bbfa5ab545011b755dbf5ccf04c638382', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 43, 'created': '2015-01-31 06:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/fcfc99388a3f54255be102c321f7ac6374de49ed', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 44, 'created': '2015-02-01 06:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/4ea5ea5a12eed9ffd061f7d4eb963fedd8235cad', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}, {'number': 45, 'created': '2015-02-02 06:12:37.000000000', 'files': ['oslo.messaging/locale/fr/LC_MESSAGES/oslo.messaging.po'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/03a46fbd6dd12a1472609e1716d5c51c53920c73', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac\n'}]",0,143256,03a46fbd6dd12a1472609e1716d5c51c53920c73,97,2,45,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I63535949ba6c0c7577dfc7878a19552d4cacb9ac
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/56/143256/39 && git format-patch -1 --stdout FETCH_HEAD,['oslo.messaging/locale/fr/LC_MESSAGES/oslo.messaging.po'],1,8fedce3de57c7107a2ae342fd7c2ee69ed4a8e12,transifex/translations,"""POT-Creation-Date: 2014-12-20 06:11+0000\n"" ""PO-Revision-Date: 2014-12-20 02:07+0000\n"" ""Last-Translator: Maxime COQUEREL <max.coquerel@gmail.com>\n""msgstr ""Exception inattendue s'est produite.""","""POT-Creation-Date: 2014-12-03 06:10+0000\n"" ""PO-Revision-Date: 2014-12-01 13:11+0000\n"" ""Last-Translator: openstackjenkins <jenkins@openstack.org>\n""msgstr """"",4,4
openstack%2Fironic~master~Ie623483d01db434241bfb00a84c5e6b7321e04d5,openstack/ironic,master,Ie623483d01db434241bfb00a84c5e6b7321e04d5,"Revert ""Do not pass PXE net config from bootloader to ramdisk""",MERGED,2015-02-02 14:17:55.000000000,2015-02-02 18:35:58.000000000,2015-02-02 18:35:57.000000000,"[{'_account_id': 3}, {'_account_id': 1420}, {'_account_id': 1726}, {'_account_id': 1926}, {'_account_id': 3099}, {'_account_id': 6618}, {'_account_id': 10343}, {'_account_id': 12081}]","[{'number': 1, 'created': '2015-02-02 14:17:55.000000000', 'files': ['ironic/drivers/modules/elilo_efi_pxe_config.template', 'ironic/tests/test_pxe_utils.py', 'ironic/tests/drivers/pxe_config.template', 'ironic/drivers/modules/pxe_config.template', 'ironic/drivers/modules/ipxe_config.template'], 'web_link': 'https://opendev.org/openstack/ironic/commit/16b8b5628991ca83964ea78e099dd1929df86189', 'message': 'Revert ""Do not pass PXE net config from bootloader to ramdisk""\n\nThis reverts commit cb82dabdca5c37d9ac54e4c207a896a32f18525b.\n\nChange-Id: Ie623483d01db434241bfb00a84c5e6b7321e04d5\nCloses-Bug: #1417026\n'}]",0,152129,16b8b5628991ca83964ea78e099dd1929df86189,16,8,1,10343,,,0,"Revert ""Do not pass PXE net config from bootloader to ramdisk""

This reverts commit cb82dabdca5c37d9ac54e4c207a896a32f18525b.

Change-Id: Ie623483d01db434241bfb00a84c5e6b7321e04d5
Closes-Bug: #1417026
",git fetch https://review.opendev.org/openstack/ironic refs/changes/29/152129/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/elilo_efi_pxe_config.template', 'ironic/tests/test_pxe_utils.py', 'ironic/tests/drivers/pxe_config.template', 'ironic/drivers/modules/pxe_config.template', 'ironic/drivers/modules/ipxe_config.template']",5,16b8b5628991ca83964ea78e099dd1929df86189,bug/1417026,"kernel {{ pxe_options.deployment_aki_path }} selinux=0 disk={{ pxe_options.disk }} iscsi_target_iqn={{ pxe_options.iscsi_target_iqn }} deployment_id={{ pxe_options.deployment_id }} deployment_key={{ pxe_options.deployment_key }} ironic_api_url={{ pxe_options.ironic_api_url }} troubleshoot=0 text {{ pxe_options.pxe_append_params|default("""", true) }} ip=${ip}:${next-server}:${gateway}:${netmask} BOOTIF=${mac} {% if pxe_options.root_device %}root_device={{ pxe_options.root_device }}{% endif %}","kernel {{ pxe_options.deployment_aki_path }} selinux=0 disk={{ pxe_options.disk }} iscsi_target_iqn={{ pxe_options.iscsi_target_iqn }} deployment_id={{ pxe_options.deployment_id }} deployment_key={{ pxe_options.deployment_key }} ironic_api_url={{ pxe_options.ironic_api_url }} troubleshoot=0 boot_server={{ pxe_options.tftp_server }} text {{ pxe_options.pxe_append_params|default("""", true) }} BOOTIF=${mac} {% if pxe_options.root_device %}root_device={{ pxe_options.root_device }}{% endif %}",9,8
openstack%2Fneutron~master~If68c13b550d665dfa24b7380f53bee7f6fccdb23,openstack/neutron,master,If68c13b550d665dfa24b7380f53bee7f6fccdb23,fixes error logging to use the right exception parent class,MERGED,2015-02-01 06:20:49.000000000,2015-02-02 18:35:45.000000000,2015-02-02 18:35:43.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 2874}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 8645}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 11420}, {'_account_id': 12040}, {'_account_id': 13635}]","[{'number': 1, 'created': '2015-02-01 06:20:49.000000000', 'files': ['neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/81ba3651504c25f3990e4fab5fcfc903713ad8bb', 'message': 'fixes error logging to use the right exception parent class\n\nlooks like this was missed\n\nCloses-Bug: #1416798\nChange-Id: If68c13b550d665dfa24b7380f53bee7f6fccdb23\n'}]",0,151918,81ba3651504c25f3990e4fab5fcfc903713ad8bb,26,22,1,14288,,,0,"fixes error logging to use the right exception parent class

looks like this was missed

Closes-Bug: #1416798
Change-Id: If68c13b550d665dfa24b7380f53bee7f6fccdb23
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/151918/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/plugin.py'],1,81ba3651504c25f3990e4fab5fcfc903713ad8bb,bug/1416798, except sa_exc.MultipleResultsFound:, except exc.MultipleResultsFound:,1,1
openstack%2Fmonasca-notification~master~Id4799d690c7caf10ae7ba89c2d4e0aeb76c54375,openstack/monasca-notification,master,Id4799d690c7caf10ae7ba89c2d4e0aeb76c54375,Notification engine refactored from many processes to one,MERGED,2015-01-28 22:39:38.000000000,2015-02-02 18:35:31.000000000,2015-02-02 18:35:31.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 11094}, {'_account_id': 12512}, {'_account_id': 14273}]","[{'number': 1, 'created': '2015-01-28 22:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/84b1dfe61cb5fdd93046a7dc17bad08dab124215', 'message': 'Notification engine refactored from many processes to one\n\nSquished the notification down to one process in preparation for making\nmultiple engine instances able to talk to the same topic.\n\nChange-Id: Id4799d690c7caf10ae7ba89c2d4e0aeb76c54375\n'}, {'number': 2, 'created': '2015-01-30 19:03:31.000000000', 'files': ['monasca_notification/processors/notification_processor.py', 'monasca_notification/state_tracker.py', 'tests/test_alarm_processor.py', 'monasca_notification/processors/base.py', 'monasca_notification/main.py', 'tests/test_notification_processor.py', 'monasca_notification/processors/sent_notification_processor.py', 'monasca_notification/notification_engine.py', 'monasca_notification/processors/kafka_consumer.py', 'monasca_notification/processors/kafka_producer.py', 'monasca_notification/processors/alarm_processor.py', 'tests/test_state_tracker.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/3eb169fac392d1ba2c75aaec8de7856d2aa06e78', 'message': 'Notification engine refactored from many processes to one\n\nSquished the notification down to one process in preparation for making\nmultiple engine instances able to talk to the same topic.\n\nAdded HA capabilities to the KafkaConsumer object.\n\nChange-Id: Id4799d690c7caf10ae7ba89c2d4e0aeb76c54375\n'}]",4,151022,3eb169fac392d1ba2c75aaec8de7856d2aa06e78,13,5,2,14273,,,0,"Notification engine refactored from many processes to one

Squished the notification down to one process in preparation for making
multiple engine instances able to talk to the same topic.

Added HA capabilities to the KafkaConsumer object.

Change-Id: Id4799d690c7caf10ae7ba89c2d4e0aeb76c54375
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/22/151022/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_notification/processors/notification_processor.py', 'monasca_notification/state_tracker.py', 'tests/test_alarm_processor.py', 'monasca_notification/processors/base.py', 'monasca_notification/main.py', 'tests/test_notification_processor.py', 'monasca_notification/processors/sent_notification_processor.py', 'monasca_notification/notification_engine.py', 'monasca_notification/processors/kafka_consumer.py', 'monasca_notification/processors/kafka_producer.py', 'monasca_notification/processors/alarm_processor.py', 'tests/test_state_tracker.py']",12,84b1dfe61cb5fdd93046a7dc17bad08dab124215,,,"# Copyright (c) 2014 Hewlett-Packard Development Company, L.P. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. """"""Tests the StateTracker"""""" import kafka.common import mock import multiprocessing import threading import time import unittest from monasca_notification import state_tracker class TestStateTracker(unittest.TestCase): def setUp(self): self.finished_queue = multiprocessing.Queue(10) with mock.patch('kazoo.client.KazooClient') as self.mock_zk: self.mock_zk.return_value = self.mock_zk with mock.patch('kafka.client.KafkaClient') as self.mock_kafka: self.tracker = state_tracker.KafkaStateTracker(self.finished_queue, 'kafka_url', 'group', 'topic', 1, 'zookeeper_url') self.mock_kafka.return_value = self.mock_kafka self.tracker.has_lock = True self.tracker_thread = threading.Thread(target=self.tracker.run) self.tracker_thread.daemon = True # needed for the thread to properly exit def _feed_queue(self, test_list): """"""Feed the queue and start the state tracker. """""" for item in test_list: self.finished_queue.put(item) self.tracker._offsets = {item[0]: 0 for item in test_list} self.tracker_thread.start() time.sleep(1) def test_ordered(self): """"""Test a series of ordered finished offsets to make sure they are updated correctly """""" test_list = [(0, 1), (0, 2), (1, 1), (1, 2)] self._feed_queue(test_list) expected_calls = [mock.call().send_offset_commit_request('group', [kafka.common.OffsetCommitRequest('topic', partition, value, None)]) for partition, value in test_list] set_calls = [call for call in self.mock_kafka.mock_calls if call.__str__().startswith(""call().send_offset_commit_request('"")] self.assertTrue(expected_calls == set_calls) def test_unordered(self): """"""Test a series of unordered finished offsets to make sure they are updated in order """""" unordered_test_list = [(0, 2), (0, 1), (1, 2), (1, 1)] self._feed_queue(unordered_test_list) commit_list = [(0, 2), (1, 2)] expected_calls = [mock.call().send_offset_commit_request('group', [kafka.common.OffsetCommitRequest('topic', partition, value, None)]) for partition, value in commit_list] set_calls = [call for call in self.mock_kafka.mock_calls if call.__str__().startswith(""call().send_offset_commit_request('"")] self.assertTrue(expected_calls == set_calls) def test_unordered_with_lag(self): """"""Test a series of unordered finished offsets with lag being received """""" unordered_quick = [(0, 2), (1, 2)] self._feed_queue(unordered_quick) time.sleep(1) # sleep the lag period. and feed more unordered_slow = [(0, 3), (1, 3)] for item in unordered_slow: self.finished_queue.put(item) time.sleep(1) # wait for processing commit_list = [(0, 3), (1, 3)] expected_calls = [mock.call().send_offset_commit_request('group', [kafka.common.OffsetCommitRequest('topic', partition, value, None)]) for partition, value in commit_list] set_calls = [call for call in self.mock_kafka.mock_calls if call.__str__().startswith(""call().send_offset_commit_request('"")] self.assertTrue(expected_calls == set_calls) ",263,734
openstack%2Fironic~master~Ia3efcbe55bc858351ab8bd7366a5ab14d60adab7,openstack/ironic,master,Ia3efcbe55bc858351ab8bd7366a5ab14d60adab7,Bump oslo.rootwrap to 1.5.0,MERGED,2015-02-02 14:12:51.000000000,2015-02-02 18:33:47.000000000,2015-02-02 18:33:46.000000000,"[{'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 12081}]","[{'number': 1, 'created': '2015-02-02 14:12:51.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/88248819facae36030e6ba7a88d98610289d2915', 'message': 'Bump oslo.rootwrap to 1.5.0\n\nWe broke compatibility with earlier versions when we landed\nI1fb59b43912afb4b2f85ecade1ee1a7154c9efba. This has since been bumped in\nglobal requirements, but we should proactively land this before the bot\ndoes to avoid breaking people (like tripleo, perhaps).\n\nChange-Id: Ia3efcbe55bc858351ab8bd7366a5ab14d60adab7\n'}]",2,152127,88248819facae36030e6ba7a88d98610289d2915,13,5,1,10343,,,0,"Bump oslo.rootwrap to 1.5.0

We broke compatibility with earlier versions when we landed
I1fb59b43912afb4b2f85ecade1ee1a7154c9efba. This has since been bumped in
global requirements, but we should proactively land this before the bot
does to avoid breaking people (like tripleo, perhaps).

Change-Id: Ia3efcbe55bc858351ab8bd7366a5ab14d60adab7
",git fetch https://review.opendev.org/openstack/ironic refs/changes/27/152127/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,88248819facae36030e6ba7a88d98610289d2915,bump-rootwrap,oslo.rootwrap>=1.5.0,oslo.rootwrap>=1.3.0,1,1
openstack%2Fnova~stable%2Ficehouse~I1be0db327a2fa1e866328eecd2e7c3dd3ee3cc93,openstack/nova,stable/icehouse,I1be0db327a2fa1e866328eecd2e7c3dd3ee3cc93,Remove usage of self.__dict__ for message var replacement,MERGED,2014-12-01 14:21:52.000000000,2015-02-02 18:33:28.000000000,2015-02-02 18:33:25.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 7198}, {'_account_id': 8213}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10326}]","[{'number': 1, 'created': '2014-12-01 14:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80720176767cf87b335afd9cf1f38c9843869a51', 'message': ""Remove usage of self.__dict__ for message var replacement\n\nThis is the same as using locals() for variable replacement in a log\nmessage which violates hacking rule H501.  On Cinder this actually\ncaused the cinder-api process to hang on python 2.6.\n\nNova has the same code so this fixes the hacking violation.\n\nNote that the H501 rule was updated in commit 55e96ee but it's not in a\nreleased version of hacking yet (and won't be in time for Juno).\n\nCloses-Bug: #1365901\n\nChange-Id: I1be0db327a2fa1e866328eecd2e7c3dd3ee3cc93\n(cherry picked from commit 59576bc73423f37466af4c7c511190a3d51d0449)\n""}, {'number': 2, 'created': '2015-01-20 16:51:46.000000000', 'files': ['nova/api/openstack/compute/limits.py', 'nova/tests/matchers.py', 'nova/wsgi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1e2abd61d2dedced7f74a5c0d08c00195513db36', 'message': ""Remove usage of self.__dict__ for message var replacement\n\nThis is the same as using locals() for variable replacement in a log\nmessage which violates hacking rule H501.  On Cinder this actually\ncaused the cinder-api process to hang on python 2.6.\n\nNova has the same code so this fixes the hacking violation.\n\nNote that the H501 rule was updated in commit 55e96ee but it's not in a\nreleased version of hacking yet (and won't be in time for Juno).\n\nCloses-Bug: #1365901\n\nChange-Id: I1be0db327a2fa1e866328eecd2e7c3dd3ee3cc93\n(cherry picked from commit 59576bc73423f37466af4c7c511190a3d51d0449)\n""}]",0,138074,1e2abd61d2dedced7f74a5c0d08c00195513db36,22,11,2,8574,,,0,"Remove usage of self.__dict__ for message var replacement

This is the same as using locals() for variable replacement in a log
message which violates hacking rule H501.  On Cinder this actually
caused the cinder-api process to hang on python 2.6.

Nova has the same code so this fixes the hacking violation.

Note that the H501 rule was updated in commit 55e96ee but it's not in a
released version of hacking yet (and won't be in time for Juno).

Closes-Bug: #1365901

Change-Id: I1be0db327a2fa1e866328eecd2e7c3dd3ee3cc93
(cherry picked from commit 59576bc73423f37466af4c7c511190a3d51d0449)
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/138074/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/limits.py', 'nova/tests/matchers.py', 'nova/wsgi.py']",3,80720176767cf87b335afd9cf1f38c9843869a51,," LOG.info(_(""%(name)s listening on %(host)s:%(port)s""), {'name': self.name, 'host': self.host, 'port': self.port}) "":%(port)s with SSL support""), {'name': self.name, 'host': self.host, 'port': self.port})"," LOG.info(_(""%(name)s listening on %(host)s:%(port)s"") % self.__dict__) "":%(port)s with SSL support"") % self.__dict__)",35,15
openstack%2Fironic~stable%2Fjuno~I639f2fa7b9349822fca9180966e0932224fa70a2,openstack/ironic,stable/juno,I639f2fa7b9349822fca9180966e0932224fa70a2,Fix RPCService and Ironic Conductor so they shut down gracefully,MERGED,2015-01-25 11:36:40.000000000,2015-02-02 18:33:16.000000000,2015-02-02 18:33:14.000000000,"[{'_account_id': 3}, {'_account_id': 1420}, {'_account_id': 2889}, {'_account_id': 6618}, {'_account_id': 8106}, {'_account_id': 10343}, {'_account_id': 12081}, {'_account_id': 14228}]","[{'number': 1, 'created': '2015-01-25 11:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/63dea8b145dff85131c3cfb6a16adf8800bda373', 'message': ""Fix RPCService and Ironic Conductor so they shut down gracefully\n\nIronic Conductor Manager now waits on its greenpool workers to finish\nbefore del_host completes. This will ensure more-correct behavior, as\nwell as giving workers the opportunity to release locks before the\nRPCService stops. Added a manager test to confirm del_host waits on the\nmanager's greenpool.\n\nThis modifies RPCService in two important ways:\n\n1) The order of shutdown operations in RPCService.stop is changed to be\nmore correct. First, the server is stopped to prevent new requests from\narriving. Second, the manager is instructed to inform the cluster that\nthis conductor is shutting down. Finally, the conductor service stop()\nmethod is called with graceful set to True to allow any tasks the\nservice currently has running to finish normally.\n\nThis is in contrast to the previous order of operations where the\nservice was told to immediately stop before stopping the server. This\ncould allow requests to arrive while the service has already stopped,\nwhich is not ideal. Additionally, Service.stop was called in a way\nwhich caused existing/running service tasks to immediately exit, which\ncould result in bad node or database state, necessitating manual\noperator intervention.\n\n2) The underlying Service object is told to shutdown gracefully, which\nwill allow tasks to complete before RPCService completely shuts down.\n\nConflicts:\n        ironic/tests/conductor/test_manager.py\n\nChange-Id: I639f2fa7b9349822fca9180966e0932224fa70a2\nCloses-Bug: #1382698\n(cherry picked from commit e9d1274c77cd919822d3f1af7c83e0ad0210f2a1)\n""}, {'number': 2, 'created': '2015-01-26 09:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bfab49173cce7b79eb269eaea6185e640fda1192', 'message': ""Fix RPCService and Ironic Conductor so they shut down gracefully\n\nIronic Conductor Manager now waits on its greenpool workers to finish\nbefore del_host completes. This will ensure more-correct behavior, as\nwell as giving workers the opportunity to release locks before the\nRPCService stops. Added a manager test to confirm del_host waits on the\nmanager's greenpool.\n\nThis modifies RPCService in two important ways:\n\n1) The order of shutdown operations in RPCService.stop is changed to be\nmore correct. First, the server is stopped to prevent new requests from\narriving. Second, the manager is instructed to inform the cluster that\nthis conductor is shutting down. Finally, the conductor service stop()\nmethod is called with graceful set to True to allow any tasks the\nservice currently has running to finish normally.\n\nThis is in contrast to the previous order of operations where the\nservice was told to immediately stop before stopping the server. This\ncould allow requests to arrive while the service has already stopped,\nwhich is not ideal. Additionally, Service.stop was called in a way\nwhich caused existing/running service tasks to immediately exit, which\ncould result in bad node or database state, necessitating manual\noperator intervention.\n\n2) The underlying Service object is told to shutdown gracefully, which\nwill allow tasks to complete before RPCService completely shuts down.\n\nChange-Id: I639f2fa7b9349822fca9180966e0932224fa70a2\nCloses-Bug: #1382698\n(cherry picked from commit e9d1274c77cd919822d3f1af7c83e0ad0210f2a1)\n""}, {'number': 3, 'created': '2015-01-29 19:29:32.000000000', 'files': ['ironic/tests/conductor/test_manager.py', 'ironic/common/service.py', 'ironic/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8833f69693e026d43f579cfa9839d45ce4e3fb8d', 'message': ""Fix RPCService and Ironic Conductor so they shut down gracefully\n\nIronic Conductor Manager now waits on its greenpool workers to finish\nbefore del_host completes. This will ensure more-correct behavior, as\nwell as giving workers the opportunity to release locks before the\nRPCService stops. Added a manager test to confirm del_host waits on the\nmanager's greenpool.\n\nThis modifies RPCService in two important ways:\n\n1) The order of shutdown operations in RPCService.stop is changed to be\nmore correct. First, the server is stopped to prevent new requests from\narriving. Second, the manager is instructed to inform the cluster that\nthis conductor is shutting down. Finally, the conductor service stop()\nmethod is called with graceful set to True to allow any tasks the\nservice currently has running to finish normally.\n\nThis is in contrast to the previous order of operations where the\nservice was told to immediately stop before stopping the server. This\ncould allow requests to arrive while the service has already stopped,\nwhich is not ideal. Additionally, Service.stop was called in a way\nwhich caused existing/running service tasks to immediately exit, which\ncould result in bad node or database state, necessitating manual\noperator intervention.\n\n2) The underlying Service object is told to shutdown gracefully, which\nwill allow tasks to complete before RPCService completely shuts down.\n\nChange-Id: I639f2fa7b9349822fca9180966e0932224fa70a2\nCloses-Bug: #1382698\n(cherry picked from commit e9d1274c77cd919822d3f1af7c83e0ad0210f2a1)\n""}]",0,149876,8833f69693e026d43f579cfa9839d45ce4e3fb8d,21,8,3,8153,,,0,"Fix RPCService and Ironic Conductor so they shut down gracefully

Ironic Conductor Manager now waits on its greenpool workers to finish
before del_host completes. This will ensure more-correct behavior, as
well as giving workers the opportunity to release locks before the
RPCService stops. Added a manager test to confirm del_host waits on the
manager's greenpool.

This modifies RPCService in two important ways:

1) The order of shutdown operations in RPCService.stop is changed to be
more correct. First, the server is stopped to prevent new requests from
arriving. Second, the manager is instructed to inform the cluster that
this conductor is shutting down. Finally, the conductor service stop()
method is called with graceful set to True to allow any tasks the
service currently has running to finish normally.

This is in contrast to the previous order of operations where the
service was told to immediately stop before stopping the server. This
could allow requests to arrive while the service has already stopped,
which is not ideal. Additionally, Service.stop was called in a way
which caused existing/running service tasks to immediately exit, which
could result in bad node or database state, necessitating manual
operator intervention.

2) The underlying Service object is told to shutdown gracefully, which
will allow tasks to complete before RPCService completely shuts down.

Change-Id: I639f2fa7b9349822fca9180966e0932224fa70a2
Closes-Bug: #1382698
(cherry picked from commit e9d1274c77cd919822d3f1af7c83e0ad0210f2a1)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/76/149876/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/conductor/test_manager.py', 'ironic/common/service.py', 'ironic/conductor/manager.py']",3,63dea8b145dff85131c3cfb6a16adf8800bda373,ironic_conductor_graceful_shutdown," # Waiting here to give workers the chance to finish. This has the # benefit of releasing locks workers placed on nodes, as well as # having work complete normally. self._worker_pool.waitall()",,20,1
openstack%2Fkeystone~master~I88912c37eaacfafee2b6bde4feaf2c5bd6ac6d9e,openstack/keystone,master,I88912c37eaacfafee2b6bde4feaf2c5bd6ac6d9e,Fixes 'OS-INHERIT:inherited_to' info in tests,MERGED,2014-12-31 00:06:41.000000000,2015-02-02 18:32:07.000000000,2015-02-02 18:32:07.000000000,"[{'_account_id': 3}, {'_account_id': 5707}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7244}, {'_account_id': 8871}, {'_account_id': 9101}, {'_account_id': 9142}, {'_account_id': 9751}, {'_account_id': 9820}, {'_account_id': 10118}, {'_account_id': 11022}, {'_account_id': 13063}, {'_account_id': 13478}]","[{'number': 1, 'created': '2014-12-31 00:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0fdca3609f4bcdd373f06b01ad826a0e320040ae', 'message': ""Fixes 'OS-INHERIT:inherited_to' info in tests\n\nInheritance info must be stored inside scope.\nThis needs to be fixed on test_v3_assignment.\n\nCloses-Bug: 1406627\nChange-Id: I88912c37eaacfafee2b6bde4feaf2c5bd6ac6d9e\n""}, {'number': 2, 'created': '2015-01-02 02:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/eb9fc1b22814d16db90c0e36fdff5a16cae784ea', 'message': ""Fixes 'OS-INHERIT:inherited_to' info in tests\n\nInheritance info must be stored inside scope.\nThis needs to be fixed on test_v3_assignment.\n\nCloses-Bug: 1406627\n\nChange-Id: I88912c37eaacfafee2b6bde4feaf2c5bd6ac6d9e\n""}, {'number': 3, 'created': '2015-01-09 21:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0235d7ffc7844d06e03ad778c2fb4ba42609b7ee', 'message': ""Fixes 'OS-INHERIT:inherited_to' info in tests\n\nInheritance info must be stored inside scope.\nThis needs to be fixed on test_v3_assignment.\n\nPartial-Bug: 1406627\n\nChange-Id: I88912c37eaacfafee2b6bde4feaf2c5bd6ac6d9e\n""}, {'number': 4, 'created': '2015-01-10 05:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b81f5a6607dfddf0ae835d362a9453cf0b8a83a9', 'message': ""Fixes 'OS-INHERIT:inherited_to' info in tests\n\nInheritance info must be stored inside scope.\nThis needs to be fixed on test_v3_assignment.\n\nPartial-Bug: 1406627\n\nChange-Id: I88912c37eaacfafee2b6bde4feaf2c5bd6ac6d9e\n""}, {'number': 5, 'created': '2015-01-10 05:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8d1eaf77ce1de9344489e37fc26a91820668900d', 'message': ""Fixes 'OS-INHERIT:inherited_to' info in tests\n\nInheritance info must be stored inside scope.\nThis needs to be fixed on test_v3_assignment.\n\nCloses-Bug: 1406627\n\nChange-Id: I88912c37eaacfafee2b6bde4feaf2c5bd6ac6d9e\n""}, {'number': 6, 'created': '2015-01-12 21:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f6fb37fa80f50f2b539b43f85167f4ee766b9851', 'message': ""Fixes 'OS-INHERIT:inherited_to' info in tests\n\nInheritance info must be stored inside scope.\nThis needs to be fixed on test_v3_assignment.\n\nCloses-Bug: 1406627\n\nChange-Id: I88912c37eaacfafee2b6bde4feaf2c5bd6ac6d9e\n""}, {'number': 7, 'created': '2015-01-15 23:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/69faed78b84943d21cec53b34025a219e993fb56', 'message': ""Fixes 'OS-INHERIT:inherited_to' info in tests\n\nInheritance info must be stored inside scope.\nThis needs to be fixed on test_v3_assignment.\n\nCloses-Bug: 1406627\n\nChange-Id: I88912c37eaacfafee2b6bde4feaf2c5bd6ac6d9e\n""}, {'number': 8, 'created': '2015-01-15 23:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c4efa4466b0d138fe45fac0e3d5ccb0969cb303b', 'message': ""Fixes 'OS-INHERIT:inherited_to' info in tests\n\nInheritance info must be stored inside scope.\nThis needs to be fixed on test_v3_assignment.\n\nCloses-Bug: 1406627\n\nChange-Id: I88912c37eaacfafee2b6bde4feaf2c5bd6ac6d9e\n""}, {'number': 9, 'created': '2015-01-16 20:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/61bb51aa7adcda24a83489905805861fbd239dcb', 'message': ""Fixes 'OS-INHERIT:inherited_to' info in tests\n\nInheritance info must be stored inside scope.\nThis needs to be fixed on test_v3_assignment.\n\nCloses-Bug: 1406627\n\nChange-Id: I88912c37eaacfafee2b6bde4feaf2c5bd6ac6d9e\n""}, {'number': 10, 'created': '2015-01-18 18:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/90b73ec4e57be574fc5878e6a9fef183523a1032', 'message': ""Fixes 'OS-INHERIT:inherited_to' info in tests\n\nInheritance info must be stored inside scope.\nThis needs to be fixed on test_v3_assignment.\n\nCloses-Bug: 1406627\n\nChange-Id: I88912c37eaacfafee2b6bde4feaf2c5bd6ac6d9e\n""}, {'number': 11, 'created': '2015-01-21 12:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/95cd504e858709f33a4441f01a2ce5098d9aa717', 'message': ""Fixes 'OS-INHERIT:inherited_to' info in tests\n\nInheritance info must be stored inside scope.\nThis needs to be fixed on test_v3_assignment.\n\nCloses-Bug: 1406627\n\nChange-Id: I88912c37eaacfafee2b6bde4feaf2c5bd6ac6d9e\n""}, {'number': 12, 'created': '2015-01-27 10:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/088fb56cbcecee062fe99480bad9636d42f142dd', 'message': ""Fixes 'OS-INHERIT:inherited_to' info in tests\n\nInheritance info must be stored inside scope.\nThis needs to be fixed on test_v3_assignment.\n\nCloses-Bug: 1406627\n\nChange-Id: I88912c37eaacfafee2b6bde4feaf2c5bd6ac6d9e\n""}, {'number': 13, 'created': '2015-01-28 15:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/835c242aff09bcb6df2dbf3157b21988de664aab', 'message': ""Fixes 'OS-INHERIT:inherited_to' info in tests\n\nInheritance info must be stored inside scope.\nThis needs to be fixed on test_v3_assignment.\n\nCloses-Bug: 1406627\n\nChange-Id: I88912c37eaacfafee2b6bde4feaf2c5bd6ac6d9e\n""}, {'number': 14, 'created': '2015-02-02 09:59:32.000000000', 'files': ['keystone/tests/test_v3_assignment.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/4822c98f12c0dd287cdcd3e31e27004384feb46f', 'message': ""Fixes 'OS-INHERIT:inherited_to' info in tests\n\nInheritance info must be stored inside scope.\nThis needs to be fixed on test_v3_assignment.\n\nCloses-Bug: 1406627\n\nChange-Id: I88912c37eaacfafee2b6bde4feaf2c5bd6ac6d9e\n""}]",2,144542,4822c98f12c0dd287cdcd3e31e27004384feb46f,59,14,14,9142,,,0,"Fixes 'OS-INHERIT:inherited_to' info in tests

Inheritance info must be stored inside scope.
This needs to be fixed on test_v3_assignment.

Closes-Bug: 1406627

Change-Id: I88912c37eaacfafee2b6bde4feaf2c5bd6ac6d9e
",git fetch https://review.opendev.org/openstack/keystone refs/changes/42/144542/12 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/test_v3_assignment.py'],1,0fdca3609f4bcdd373f06b01ad826a0e320040ae,bug/1406627, entity['scope']['OS-INHERIT:inherited_to'] = 'projects', entity['OS-INHERIT:inherited_to'] = 'projects',1,1
openstack%2Fnova~master~I889badd85c96e0efadb3bc05f43c47bb995c9dce,openstack/nova,master,I889badd85c96e0efadb3bc05f43c47bb995c9dce,object: serialize set to list,MERGED,2015-01-27 13:59:34.000000000,2015-02-02 18:27:55.000000000,2015-02-02 18:27:51.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 7166}, {'_account_id': 9562}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-01-27 13:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d645fe10201a82802a465962cbd4839a34a45b6', 'message': 'object: serialize set to list\n\nThe NovaObjectSerializer is changed to serialize set iterables to\nlist instead of tuple. This was needed to ensure that every rpc\ndriver work in the same way. The normal rpc driver coverts tuples\nto lists anyhow so this modification does not change the behavior\nin production.\nIn the functional test environment the fake rpc driver does not\nchange anything on the message and it caused that the\nfilter scheduler received a tuple in the filter_properties\nthrough rpc and failed to append items to it.\n\nThis change is needed to use the functional test environment for\ntesting the filter scheduler.\n\nChange-Id: I889badd85c96e0efadb3bc05f43c47bb995c9dce\n'}, {'number': 2, 'created': '2015-01-30 19:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc00d0947efc8a971646fb37bf1514611adb900d', 'message': 'object: serialize set to list\n\nThe NovaObjectSerializer is changed to serialize set iterables to\nlist instead of tuple. This was needed to ensure that every rpc\ndriver work in the same way. The normal rpc driver coverts tuples\nto lists anyhow so this modification does not change the behavior\nin production.\nIn the functional test environment the fake rpc driver does not\nchange anything on the message and it caused that the\nfilter scheduler received a tuple in the filter_properties\nthrough rpc and failed to append items to it.\n\nThis change is needed to use the functional test environment for\ntesting the filter scheduler.\n\nChange-Id: I889badd85c96e0efadb3bc05f43c47bb995c9dce\n'}, {'number': 3, 'created': '2015-01-30 19:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a99cf8ca680368da326c7f4fddbfe7c329ec19e', 'message': 'object: serialize set to list\n\nThe NovaObjectSerializer is changed to serialize set iterables to\nlist instead of tuple. This was needed to ensure that every rpc\ndriver work in the same way. The normal rpc driver coverts tuples\nto lists anyhow so this modification does not change the behavior\nin production.\nIn the functional test environment the fake rpc driver does not\nchange anything on the message and it caused the filter scheduler\nto receive a tuple in the filter_properties through rpc and\nfailed to append items to it.\n\nThis change is needed to use the functional test environment for\ntesting the filter scheduler.\n\nChange-Id: I889badd85c96e0efadb3bc05f43c47bb995c9dce\n'}, {'number': 4, 'created': '2015-01-30 19:49:09.000000000', 'files': ['nova/objects/base.py', 'nova/tests/unit/objects/test_objects.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7d9a82dcfaf66b58970ca88ac1d62b1a89c767d4', 'message': 'object: serialize set to list\n\nThe NovaObjectSerializer is changed to serialize set iterables to\nlist instead of tuple. This was needed to ensure that every rpc\ndriver work in the same way. The normal rpc driver coverts tuples\nto lists anyhow so this modification does not change the behavior\nin production.\nIn the functional test environment the fake rpc driver does not\nchange anything on the message and it caused the filter scheduler\nto receive a tuple in the filter_properties through rpc and\nfailed to append items to it.\n\nThis change is needed to use the functional test environment for\ntesting the filter scheduler.\n\nChange-Id: I889badd85c96e0efadb3bc05f43c47bb995c9dce\n'}]",4,150424,7d9a82dcfaf66b58970ca88ac1d62b1a89c767d4,23,12,4,9708,,,0,"object: serialize set to list

The NovaObjectSerializer is changed to serialize set iterables to
list instead of tuple. This was needed to ensure that every rpc
driver work in the same way. The normal rpc driver coverts tuples
to lists anyhow so this modification does not change the behavior
in production.
In the functional test environment the fake rpc driver does not
change anything on the message and it caused the filter scheduler
to receive a tuple in the filter_properties through rpc and
failed to append items to it.

This change is needed to use the functional test environment for
testing the filter scheduler.

Change-Id: I889badd85c96e0efadb3bc05f43c47bb995c9dce
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/150424/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/base.py', 'nova/tests/unit/objects/test_objects.py']",2,3d645fe10201a82802a465962cbd4839a34a45b6,bp/soft-affinity-for-server-group," def test_serialize_set_to_list(self): ser = base.NovaObjectSerializer() self.assertEqual([1, 2], ser.serialize_entity(None, set([1, 2]))) ",,10,4
openstack%2Fneutron-lbaas~master~I25b38747af1d41834ccb340f069acce0aa5aee8f,openstack/neutron-lbaas,master,I25b38747af1d41834ccb340f069acce0aa5aee8f,Move config and extensions to service repo,MERGED,2015-01-29 20:29:45.000000000,2015-02-02 18:27:20.000000000,2015-02-02 18:13:58.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 6951}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 12403}, {'_account_id': 13051}]","[{'number': 1, 'created': '2015-01-29 20:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/acd516cffd22407a673644716ce8658a02e8c57b', 'message': 'Move config and extensions to service repo\n\nChange-Id: I25b38747af1d41834ccb340f069acce0aa5aee8f\nPartially-Implements: blueprint services-split\n'}, {'number': 2, 'created': '2015-01-30 01:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/8c46f51caa64295e62c9c08d668d812651f9a3a9', 'message': 'Move config and extensions to service repo\n\nDepends on neutron change I16b5e5b2bb70717166da14faa975fa2ab9129049\n\nChange-Id: I25b38747af1d41834ccb340f069acce0aa5aee8f\nPartially-Implements: blueprint services-split\n'}, {'number': 3, 'created': '2015-01-30 05:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/fa0a75062d3596b868253a6b0b4e0d0a90f8af3c', 'message': 'Move config and extensions to service repo\n\nDepends on neutron change I16b5e5b2bb70717166da14faa975fa2ab9129049\n\nChange-Id: I25b38747af1d41834ccb340f069acce0aa5aee8f\nPartially-Implements: blueprint services-split\n'}, {'number': 4, 'created': '2015-01-30 06:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/547cc7f80d67c068fa509ee590069a95068062ab', 'message': 'Move config and extensions to service repo\n\nDepends on neutron change I16b5e5b2bb70717166da14faa975fa2ab9129049\n\nChange-Id: I25b38747af1d41834ccb340f069acce0aa5aee8f\nPartially-Implements: blueprint services-split\n'}, {'number': 5, 'created': '2015-01-30 06:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/1afe776fc35770455391b53e816a006eb7ab4608', 'message': 'Move config and extensions to service repo\n\nDepends on neutron change I16b5e5b2bb70717166da14faa975fa2ab9129049\n\nChange-Id: I25b38747af1d41834ccb340f069acce0aa5aee8f\nPartially-Implements: blueprint services-split\nCo-Authored-By: Brandon Logan <brandon.logan@rackspace.com>\n'}, {'number': 6, 'created': '2015-01-30 06:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/d1a73e50b50559bb5599b1834c732487a8bdc082', 'message': 'Move config and extensions to service repo\n\nDepends on neutron change I16b5e5b2bb70717166da14faa975fa2ab9129049\n\nChange-Id: I25b38747af1d41834ccb340f069acce0aa5aee8f\nPartially-Implements: blueprint services-split\nCo-Authored-By: Brandon Logan <brandon.logan@rackspace.com>\n'}, {'number': 7, 'created': '2015-01-30 06:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/4fe653e408729d632041291ebce3bc1edbbc8ef9', 'message': 'Move config and extensions to service repo\n\nDepends on neutron change I16b5e5b2bb70717166da14faa975fa2ab9129049\n\nChange-Id: I25b38747af1d41834ccb340f069acce0aa5aee8f\nPartially-Implements: blueprint services-split\nCo-Authored-By: Brandon Logan <brandon.logan@rackspace.com>\n'}, {'number': 8, 'created': '2015-01-30 23:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/10583c1b1b7b64074ba1e2f2dae40e82ccd2e328', 'message': 'Move config and extensions to service repo\n\nDepends on neutron change I16b5e5b2bb70717166da14faa975fa2ab9129049\n\nChange-Id: I25b38747af1d41834ccb340f069acce0aa5aee8f\nPartially-Implements: blueprint services-split\nCo-Authored-By: Brandon Logan <brandon.logan@rackspace.com>\n'}, {'number': 9, 'created': '2015-01-31 05:06:39.000000000', 'files': ['neutron_lbaas/tests/unit/db/loadbalancer/test_db_loadbalancerv2.py', 'neutron_lbaas/tests/unit/services/loadbalancer/drivers/test_agent_driver_base.py', 'etc/neutron_lbaas.conf', 'neutron_lbaas/db/loadbalancer/loadbalancer_dbv2.py', 'neutron_lbaas/tests/unit/services/loadbalancer/test_agent_scheduler.py', 'etc/services_lbaas.conf', 'neutron_lbaas/services/loadbalancer/drivers/radware/driver.py', 'neutron_lbaas/services/loadbalancer/plugin.py', 'neutron_lbaas/tests/unit/db/loadbalancer/test_db_loadbalancer.py', 'neutron_lbaas/extensions/loadbalancerv2.py', 'neutron_lbaas/services/loadbalancer/drivers/common/agent_driver_base.py', 'neutron_lbaas/services/loadbalancer/drivers/embrane/driver.py', 'neutron_lbaas/tests/unit/services/loadbalancer/test_loadbalancer_plugin.py', 'neutron_lbaas/extensions/__init__.py', 'neutron_lbaas/tests/unit/services/loadbalancer/drivers/radware/test_plugin_driver.py', 'setup.cfg', 'neutron_lbaas/db/loadbalancer/loadbalancer_db.py', 'neutron_lbaas/extensions/lbaas_agentscheduler.py', 'neutron_lbaas/services/loadbalancer/agent_scheduler.py', 'neutron_lbaas/extensions/loadbalancer.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/c10dd7ed1bd64b448250d0ef95854f91b70cb3c1', 'message': 'Move config and extensions to service repo\n\nDepends on neutron change I16b5e5b2bb70717166da14faa975fa2ab9129049\n\nChange-Id: I25b38747af1d41834ccb340f069acce0aa5aee8f\nPartially-Implements: blueprint services-split\nCo-Authored-By: Brandon Logan <brandon.logan@rackspace.com>\n'}]",7,151374,c10dd7ed1bd64b448250d0ef95854f91b70cb3c1,35,7,9,10980,,,0,"Move config and extensions to service repo

Depends on neutron change I16b5e5b2bb70717166da14faa975fa2ab9129049

Change-Id: I25b38747af1d41834ccb340f069acce0aa5aee8f
Partially-Implements: blueprint services-split
Co-Authored-By: Brandon Logan <brandon.logan@rackspace.com>
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/74/151374/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas/extensions/loadbalancerv2.py', 'etc/neutron-lbaas.conf', 'neutron_lbaas/extensions/__init__.py', 'setup.cfg', 'neutron_lbaas/extensions/lbaas_agentscheduler.py', 'neutron_lbaas/extensions/loadbalancer.py']",6,acd516cffd22407a673644716ce8658a02e8c57b,bp/lbaas-api-and-objmodel-improvement,"# Copyright 2012 OpenStack Foundation. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import abc from oslo.config import cfg import six from neutron.api import extensions from neutron.api.v2 import attributes as attr from neutron.api.v2 import base from neutron.api.v2 import resource_helper from neutron.common import exceptions as nexception from neutron import manager from neutron.plugins.common import constants from neutron.services import service_base # Loadbalancer Exceptions class DelayOrTimeoutInvalid(nexception.BadRequest): message = _(""Delay must be greater than or equal to timeout"") class NoEligibleBackend(nexception.NotFound): message = _(""No eligible backend for pool %(pool_id)s"") class VipNotFound(nexception.NotFound): message = _(""Vip %(vip_id)s could not be found"") class VipExists(nexception.NeutronException): message = _(""Another Vip already exists for pool %(pool_id)s"") class PoolNotFound(nexception.NotFound): message = _(""Pool %(pool_id)s could not be found"") class MemberNotFound(nexception.NotFound): message = _(""Member %(member_id)s could not be found"") class HealthMonitorNotFound(nexception.NotFound): message = _(""Health_monitor %(monitor_id)s could not be found"") class PoolMonitorAssociationNotFound(nexception.NotFound): message = _(""Monitor %(monitor_id)s is not associated "" ""with Pool %(pool_id)s"") class PoolMonitorAssociationExists(nexception.Conflict): message = _('health_monitor %(monitor_id)s is already associated ' 'with pool %(pool_id)s') class StateInvalid(nexception.NeutronException): message = _(""Invalid state %(state)s of Loadbalancer resource %(id)s"") class PoolInUse(nexception.InUse): message = _(""Pool %(pool_id)s is still in use"") class HealthMonitorInUse(nexception.InUse): message = _(""Health monitor %(monitor_id)s still has associations with "" ""pools"") class PoolStatsNotFound(nexception.NotFound): message = _(""Statistics of Pool %(pool_id)s could not be found"") class ProtocolMismatch(nexception.BadRequest): message = _(""Protocol %(vip_proto)s does not match "" ""pool protocol %(pool_proto)s"") class MemberExists(nexception.NeutronException): message = _(""Member with address %(address)s and port %(port)s "" ""already present in pool %(pool)s"") RESOURCE_ATTRIBUTE_MAP = { 'vips': { 'id': {'allow_post': False, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True, 'primary_key': True}, 'tenant_id': {'allow_post': True, 'allow_put': False, 'validate': {'type:string': None}, 'required_by_policy': True, 'is_visible': True}, 'name': {'allow_post': True, 'allow_put': True, 'validate': {'type:string': None}, 'default': '', 'is_visible': True}, 'description': {'allow_post': True, 'allow_put': True, 'validate': {'type:string': None}, 'is_visible': True, 'default': ''}, 'subnet_id': {'allow_post': True, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True}, 'address': {'allow_post': True, 'allow_put': False, 'default': attr.ATTR_NOT_SPECIFIED, 'validate': {'type:ip_address_or_none': None}, 'is_visible': True}, 'port_id': {'allow_post': False, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True}, 'protocol_port': {'allow_post': True, 'allow_put': False, 'validate': {'type:range': [0, 65535]}, 'convert_to': attr.convert_to_int, 'is_visible': True}, 'protocol': {'allow_post': True, 'allow_put': False, 'validate': {'type:values': ['TCP', 'HTTP', 'HTTPS']}, 'is_visible': True}, 'pool_id': {'allow_post': True, 'allow_put': True, 'validate': {'type:uuid': None}, 'is_visible': True}, 'session_persistence': {'allow_post': True, 'allow_put': True, 'convert_to': attr.convert_none_to_empty_dict, 'default': {}, 'validate': { 'type:dict_or_empty': { 'type': {'type:values': ['APP_COOKIE', 'HTTP_COOKIE', 'SOURCE_IP'], 'required': True}, 'cookie_name': {'type:string': None, 'required': False}}}, 'is_visible': True}, 'connection_limit': {'allow_post': True, 'allow_put': True, 'default': -1, 'convert_to': attr.convert_to_int, 'is_visible': True}, 'admin_state_up': {'allow_post': True, 'allow_put': True, 'default': True, 'convert_to': attr.convert_to_boolean, 'is_visible': True}, 'status': {'allow_post': False, 'allow_put': False, 'is_visible': True}, 'status_description': {'allow_post': False, 'allow_put': False, 'is_visible': True} }, 'pools': { 'id': {'allow_post': False, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True, 'primary_key': True}, 'tenant_id': {'allow_post': True, 'allow_put': False, 'validate': {'type:string': None}, 'required_by_policy': True, 'is_visible': True}, 'vip_id': {'allow_post': False, 'allow_put': False, 'is_visible': True}, 'name': {'allow_post': True, 'allow_put': True, 'validate': {'type:string': None}, 'default': '', 'is_visible': True}, 'description': {'allow_post': True, 'allow_put': True, 'validate': {'type:string': None}, 'is_visible': True, 'default': ''}, 'subnet_id': {'allow_post': True, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True}, 'protocol': {'allow_post': True, 'allow_put': False, 'validate': {'type:values': ['TCP', 'HTTP', 'HTTPS']}, 'is_visible': True}, 'provider': {'allow_post': True, 'allow_put': False, 'validate': {'type:string': None}, 'is_visible': True, 'default': attr.ATTR_NOT_SPECIFIED}, 'lb_method': {'allow_post': True, 'allow_put': True, 'validate': {'type:values': ['ROUND_ROBIN', 'LEAST_CONNECTIONS', 'SOURCE_IP']}, 'is_visible': True}, 'members': {'allow_post': False, 'allow_put': False, 'is_visible': True}, 'health_monitors': {'allow_post': True, 'allow_put': True, 'default': None, 'validate': {'type:uuid_list': None}, 'convert_to': attr.convert_to_list, 'is_visible': True}, 'health_monitors_status': {'allow_post': False, 'allow_put': False, 'is_visible': True}, 'admin_state_up': {'allow_post': True, 'allow_put': True, 'default': True, 'convert_to': attr.convert_to_boolean, 'is_visible': True}, 'status': {'allow_post': False, 'allow_put': False, 'is_visible': True}, 'status_description': {'allow_post': False, 'allow_put': False, 'is_visible': True} }, 'members': { 'id': {'allow_post': False, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True, 'primary_key': True}, 'tenant_id': {'allow_post': True, 'allow_put': False, 'validate': {'type:string': None}, 'required_by_policy': True, 'is_visible': True}, 'pool_id': {'allow_post': True, 'allow_put': True, 'validate': {'type:uuid': None}, 'is_visible': True}, 'address': {'allow_post': True, 'allow_put': False, 'validate': {'type:ip_address': None}, 'is_visible': True}, 'protocol_port': {'allow_post': True, 'allow_put': False, 'validate': {'type:range': [0, 65535]}, 'convert_to': attr.convert_to_int, 'is_visible': True}, 'weight': {'allow_post': True, 'allow_put': True, 'default': 1, 'validate': {'type:range': [0, 256]}, 'convert_to': attr.convert_to_int, 'is_visible': True}, 'admin_state_up': {'allow_post': True, 'allow_put': True, 'default': True, 'convert_to': attr.convert_to_boolean, 'is_visible': True}, 'status': {'allow_post': False, 'allow_put': False, 'is_visible': True}, 'status_description': {'allow_post': False, 'allow_put': False, 'is_visible': True} }, 'health_monitors': { 'id': {'allow_post': False, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True, 'primary_key': True}, 'tenant_id': {'allow_post': True, 'allow_put': False, 'validate': {'type:string': None}, 'required_by_policy': True, 'is_visible': True}, 'type': {'allow_post': True, 'allow_put': False, 'validate': {'type:values': ['PING', 'TCP', 'HTTP', 'HTTPS']}, 'is_visible': True}, 'delay': {'allow_post': True, 'allow_put': True, 'validate': {'type:non_negative': None}, 'convert_to': attr.convert_to_int, 'is_visible': True}, 'timeout': {'allow_post': True, 'allow_put': True, 'validate': {'type:non_negative': None}, 'convert_to': attr.convert_to_int, 'is_visible': True}, 'max_retries': {'allow_post': True, 'allow_put': True, 'validate': {'type:range': [1, 10]}, 'convert_to': attr.convert_to_int, 'is_visible': True}, 'http_method': {'allow_post': True, 'allow_put': True, 'validate': {'type:string': None}, 'default': 'GET', 'is_visible': True}, 'url_path': {'allow_post': True, 'allow_put': True, 'validate': {'type:string': None}, 'default': '/', 'is_visible': True}, 'expected_codes': {'allow_post': True, 'allow_put': True, 'validate': { 'type:regex': r'^(\d{3}(\s*,\s*\d{3})*)$|^(\d{3}-\d{3})$'}, 'default': '200', 'is_visible': True}, 'admin_state_up': {'allow_post': True, 'allow_put': True, 'default': True, 'convert_to': attr.convert_to_boolean, 'is_visible': True}, 'status': {'allow_post': False, 'allow_put': False, 'is_visible': True}, 'status_description': {'allow_post': False, 'allow_put': False, 'is_visible': True}, 'pools': {'allow_post': False, 'allow_put': False, 'is_visible': True} } } SUB_RESOURCE_ATTRIBUTE_MAP = { 'health_monitors': { 'parent': {'collection_name': 'pools', 'member_name': 'pool'}, 'parameters': {'id': {'allow_post': True, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True}, 'tenant_id': {'allow_post': True, 'allow_put': False, 'validate': {'type:string': None}, 'required_by_policy': True, 'is_visible': True}, } } } lbaas_quota_opts = [ cfg.IntOpt('quota_vip', default=10, help=_('Number of vips allowed per tenant. ' 'A negative value means unlimited.')), cfg.IntOpt('quota_pool', default=10, help=_('Number of pools allowed per tenant. ' 'A negative value means unlimited.')), cfg.IntOpt('quota_member', default=-1, help=_('Number of pool members allowed per tenant. ' 'A negative value means unlimited.')), cfg.IntOpt('quota_health_monitor', default=-1, help=_('Number of health monitors allowed per tenant. ' 'A negative value means unlimited.')) ] cfg.CONF.register_opts(lbaas_quota_opts, 'QUOTAS') class Loadbalancer(extensions.ExtensionDescriptor): @classmethod def get_name(cls): return ""LoadBalancing service"" @classmethod def get_alias(cls): return ""lbaas"" @classmethod def get_description(cls): return ""Extension for LoadBalancing service"" @classmethod def get_namespace(cls): return ""http://wiki.openstack.org/neutron/LBaaS/API_1.0"" @classmethod def get_updated(cls): return ""2012-10-07T10:00:00-00:00"" @classmethod def get_resources(cls): plural_mappings = resource_helper.build_plural_mappings( {}, RESOURCE_ATTRIBUTE_MAP) plural_mappings['health_monitors_status'] = 'health_monitor_status' attr.PLURALS.update(plural_mappings) action_map = {'pool': {'stats': 'GET'}} resources = resource_helper.build_resource_info(plural_mappings, RESOURCE_ATTRIBUTE_MAP, constants.LOADBALANCER, action_map=action_map, register_quota=True) plugin = manager.NeutronManager.get_service_plugins()[ constants.LOADBALANCER] for collection_name in SUB_RESOURCE_ATTRIBUTE_MAP: # Special handling needed for sub-resources with 'y' ending # (e.g. proxies -> proxy) resource_name = collection_name[:-1] parent = SUB_RESOURCE_ATTRIBUTE_MAP[collection_name].get('parent') params = SUB_RESOURCE_ATTRIBUTE_MAP[collection_name].get( 'parameters') controller = base.create_resource(collection_name, resource_name, plugin, params, allow_bulk=True, parent=parent) resource = extensions.ResourceExtension( collection_name, controller, parent, path_prefix=constants.COMMON_PREFIXES[constants.LOADBALANCER], attr_map=params) resources.append(resource) return resources @classmethod def get_plugin_interface(cls): return LoadBalancerPluginBase def update_attributes_map(self, attributes): super(Loadbalancer, self).update_attributes_map( attributes, extension_attrs_map=RESOURCE_ATTRIBUTE_MAP) def get_extended_resources(self, version): if version == ""2.0"": return RESOURCE_ATTRIBUTE_MAP else: return {} @six.add_metaclass(abc.ABCMeta) class LoadBalancerPluginBase(service_base.ServicePluginBase): def get_plugin_name(self): return constants.LOADBALANCER def get_plugin_type(self): return constants.LOADBALANCER def get_plugin_description(self): return 'LoadBalancer service plugin' @abc.abstractmethod def get_vips(self, context, filters=None, fields=None): pass @abc.abstractmethod def get_vip(self, context, id, fields=None): pass @abc.abstractmethod def create_vip(self, context, vip): pass @abc.abstractmethod def update_vip(self, context, id, vip): pass @abc.abstractmethod def delete_vip(self, context, id): pass @abc.abstractmethod def get_pools(self, context, filters=None, fields=None): pass @abc.abstractmethod def get_pool(self, context, id, fields=None): pass @abc.abstractmethod def create_pool(self, context, pool): pass @abc.abstractmethod def update_pool(self, context, id, pool): pass @abc.abstractmethod def delete_pool(self, context, id): pass @abc.abstractmethod def stats(self, context, pool_id): pass @abc.abstractmethod def create_pool_health_monitor(self, context, health_monitor, pool_id): pass @abc.abstractmethod def get_pool_health_monitor(self, context, id, pool_id, fields=None): pass @abc.abstractmethod def delete_pool_health_monitor(self, context, id, pool_id): pass @abc.abstractmethod def get_members(self, context, filters=None, fields=None): pass @abc.abstractmethod def get_member(self, context, id, fields=None): pass @abc.abstractmethod def create_member(self, context, member): pass @abc.abstractmethod def update_member(self, context, id, member): pass @abc.abstractmethod def delete_member(self, context, id): pass @abc.abstractmethod def get_health_monitors(self, context, filters=None, fields=None): pass @abc.abstractmethod def get_health_monitor(self, context, id, fields=None): pass @abc.abstractmethod def create_health_monitor(self, context, health_monitor): pass @abc.abstractmethod def update_health_monitor(self, context, id, health_monitor): pass @abc.abstractmethod def delete_health_monitor(self, context, id): pass ",,1219,0
openstack%2Foslo-cookiecutter~master~Ifb5a2f4a73dac52a52036b35f1ec769d3bd05027,openstack/oslo-cookiecutter,master,Ifb5a2f4a73dac52a52036b35f1ec769d3bd05027,Do not sync run_cross_test.sh,MERGED,2015-01-30 21:35:20.000000000,2015-02-02 18:19:58.000000000,2015-02-02 18:19:58.000000000,"[{'_account_id': 3}, {'_account_id': 2472}]","[{'number': 1, 'created': '2015-01-30 21:35:20.000000000', 'files': ['oslo.{{cookiecutter.module_name}}/openstack-common.conf'], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/17cc8ece73b4064c4755f27e5f7fa846b3477a6a', 'message': 'Do not sync run_cross_test.sh\n\nWe are moving run_cross_test.sh from the incubator to oslotest, so there\nis no need to sync it into each repository any more.\n\nChange-Id: Ifb5a2f4a73dac52a52036b35f1ec769d3bd05027\n'}]",0,151784,17cc8ece73b4064c4755f27e5f7fa846b3477a6a,6,2,1,2472,,,0,"Do not sync run_cross_test.sh

We are moving run_cross_test.sh from the incubator to oslotest, so there
is no need to sync it into each repository any more.

Change-Id: Ifb5a2f4a73dac52a52036b35f1ec769d3bd05027
",git fetch https://review.opendev.org/openstack/oslo-cookiecutter refs/changes/84/151784/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo.{{cookiecutter.module_name}}/openstack-common.conf'],1,17cc8ece73b4064c4755f27e5f7fa846b3477a6a,move-cross-test-script,script = ,script = tools/run_cross_tests.sh,1,1
openstack%2Fnova~master~I3a8ba37ded8ac3fa9b5f3f35b09feb82d822d583,openstack/nova,master,I3a8ba37ded8ac3fa9b5f3f35b09feb82d822d583,Fix leaking exceptions from scheduler utils,MERGED,2015-01-08 12:20:20.000000000,2015-02-02 18:18:29.000000000,2015-02-02 18:18:26.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 7166}, {'_account_id': 8213}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9420}, {'_account_id': 9562}, {'_account_id': 9578}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 14384}]","[{'number': 1, 'created': '2015-01-08 12:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b322d8637bd5a45cce782cc92879b147fc97b39', 'message': 'Fix leaking exceptions from scheduler utils\n\nscheduler_utils.setup_instance_group() can raise NoValidHost\nexception and the conductor does not handle that properly which\ncauses that server can stuck in a scheduling state instead of\ngoing to ERROR.\n\nCloses-bug: #1408326\nChange-Id: I3a8ba37ded8ac3fa9b5f3f35b09feb82d822d583\n'}, {'number': 2, 'created': '2015-01-08 12:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b6f6927bbb1a0575e1d950b347c4863d0c21fa4', 'message': 'Fix leaking exceptions from scheduler utils\n\nscheduler_utils.setup_instance_group() can raise NoValidHost\nexception and the conductor does not handle that properly which\ncauses that server can stuck in a scheduling state instead of\ngoing to ERROR.\n\nCloses-bug: #1408326\nChange-Id: I3a8ba37ded8ac3fa9b5f3f35b09feb82d822d583\n'}, {'number': 3, 'created': '2015-01-08 13:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f290e45b7b5cc5b9974316abac2435002469cb54', 'message': 'Fix leaking exceptions from scheduler utils\n\nscheduler_utils.setup_instance_group() can raise NoValidHost\nexception and the conductor does not handle that properly which\ncauses that server can stuck in a scheduling state instead of\ngoing to ERROR.\n\nCloses-bug: #1408326\nChange-Id: I3a8ba37ded8ac3fa9b5f3f35b09feb82d822d583\n'}, {'number': 4, 'created': '2015-01-09 10:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6409b134d9b41a63934aea8ec4e9306a9e7b112', 'message': 'Fix leaking exceptions from scheduler utils\n\nscheduler_utils.setup_instance_group() can raise NoValidHost\nexception and the conductor does not handle that properly which\ncauses that the server gets stuck in a scheduling state instead of\ngoing to ERROR.\n\nCloses-bug: #1408326\nChange-Id: I3a8ba37ded8ac3fa9b5f3f35b09feb82d822d583\n'}, {'number': 5, 'created': '2015-01-10 10:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44dbbdbcd822046d6332eeb810fe36dfc761fc63', 'message': 'Fix leaking exceptions from scheduler utils\n\nscheduler_utils.setup_instance_group() can raise NoValidHost\nexception and the conductor does not handle that properly which\ncauses that the server gets stuck in a scheduling state instead of\ngoing to ERROR.\n\nCloses-bug: #1408326\nChange-Id: I3a8ba37ded8ac3fa9b5f3f35b09feb82d822d583\n'}, {'number': 6, 'created': '2015-01-15 14:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93907880c420d88727ac77446a4f9ac5805fe8ed', 'message': 'Fix leaking exceptions from scheduler utils\n\nscheduler_utils.setup_instance_group() can raise NoValidHost\nexception and the conductor does not handle that properly which\ncauses that the server gets stuck in a scheduling state instead of\ngoing to ERROR.\n\nCloses-bug: #1408326\nChange-Id: I3a8ba37ded8ac3fa9b5f3f35b09feb82d822d583\n'}, {'number': 7, 'created': '2015-01-15 14:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58f339a3bab78b1e21182ae8bc6b3e6dde6dd750', 'message': 'Fix leaking exceptions from scheduler utils\n\nscheduler_utils.setup_instance_group() can raise NoValidHost\nexception and the conductor does not handle that properly which\ncauses the server to get stuck in a scheduling state instead of\ngoing to ERROR.\n\nCloses-bug: #1408326\nChange-Id: I3a8ba37ded8ac3fa9b5f3f35b09feb82d822d583\n'}, {'number': 8, 'created': '2015-01-16 14:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2bcbae0194a73e8c8f4bc5a929d6bfa5df4e9b33', 'message': 'Fix leaking exceptions from scheduler utils\n\nscheduler_utils.setup_instance_group() can raise NoValidHost\nexception and the conductor does not handle that properly which\ncauses the server to get stuck in a scheduling state instead of\ngoing to ERROR.\n\nCloses-bug: #1408326\nChange-Id: I3a8ba37ded8ac3fa9b5f3f35b09feb82d822d583\n'}, {'number': 9, 'created': '2015-01-20 14:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10af25d9ef79bf65d04726a36fa556f527beb768', 'message': 'Fix leaking exceptions from scheduler utils\n\nscheduler_utils.setup_instance_group() can raise NoValidHost\nexception and the conductor does not handle that properly which\ncauses the server to get stuck in a scheduling state instead of\ngoing to ERROR.\n\nCloses-bug: #1408326\nChange-Id: I3a8ba37ded8ac3fa9b5f3f35b09feb82d822d583\n'}, {'number': 10, 'created': '2015-01-21 16:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d06b1512641f2bd8815a9ea06164b092c7903518', 'message': 'Fix leaking exceptions from scheduler utils\n\nscheduler_utils.setup_instance_group() can raise NoValidHost\nexception and the conductor does not handle that properly which\ncauses the server to get stuck in a scheduling state instead of\ngoing to ERROR.\n\nCloses-bug: #1408326\nChange-Id: I3a8ba37ded8ac3fa9b5f3f35b09feb82d822d583\n'}, {'number': 11, 'created': '2015-01-23 08:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2ce2163275ae046120dc01183377f54292e79dc', 'message': 'Fix leaking exceptions from scheduler utils\n\nscheduler_utils.setup_instance_group() can raise NoValidHost\nexception and the conductor does not handle that properly which\ncauses the server to get stuck in a scheduling state instead of\ngoing to ERROR.\n\nCloses-bug: #1408326\nChange-Id: I3a8ba37ded8ac3fa9b5f3f35b09feb82d822d583\n'}, {'number': 12, 'created': '2015-01-26 12:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4baa84f30fb7f07cf839f6a255880b145306f929', 'message': 'Fix leaking exceptions from scheduler utils\n\nscheduler_utils.setup_instance_group() can raise NoValidHost\nexception and the conductor does not handle that properly which\ncauses the server to get stuck in a scheduling state instead of\ngoing to ERROR.\n\nCloses-bug: #1408326\nChange-Id: I3a8ba37ded8ac3fa9b5f3f35b09feb82d822d583\n'}, {'number': 13, 'created': '2015-01-26 12:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a98a3c1efda2aeaf6a2bdad694d94d274d2863f0', 'message': 'Fix leaking exceptions from scheduler utils\n\nscheduler_utils.setup_instance_group() can raise NoValidHost\nexception and the conductor does not handle that properly which\ncauses the server to get stuck in a scheduling state instead of\ngoing to ERROR.\n\nCloses-bug: #1408326\nChange-Id: I3a8ba37ded8ac3fa9b5f3f35b09feb82d822d583\n'}, {'number': 14, 'created': '2015-01-27 07:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eeb1aa0b83492d5ad5a4e6de25fc9b6fec72dfc3', 'message': 'Fix leaking exceptions from scheduler utils\n\nscheduler_utils.setup_instance_group() can raise NoValidHost\nexception and the conductor does not handle that properly which\ncauses the server to get stuck in a scheduling state instead of\ngoing to ERROR.\n\nCloses-bug: #1408326\nChange-Id: I3a8ba37ded8ac3fa9b5f3f35b09feb82d822d583\n'}, {'number': 15, 'created': '2015-01-27 13:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/620cbc02e4e6e6fa769bf26c15c14a0e27f8033f', 'message': 'Fix leaking exceptions from scheduler utils\n\nscheduler_utils.setup_instance_group() can raise NoValidHost\nexception and the conductor does not handle that properly which\ncauses the server to get stuck in a scheduling state instead of\ngoing to ERROR.\n\nCloses-bug: #1408326\nChange-Id: I3a8ba37ded8ac3fa9b5f3f35b09feb82d822d583\n'}, {'number': 16, 'created': '2015-01-30 19:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/380ea4673a672637d3acb7c4b833cb94a14990e0', 'message': 'Fix leaking exceptions from scheduler utils\n\nscheduler_utils.setup_instance_group() can raise NoValidHost\nexception and the conductor does not handle that properly which\ncauses the server to get stuck in a scheduling state instead of\ngoing to ERROR.\n\nThe function is called several times in conductor/manager.py. This\npatch moves the function calls in the try blocks already present.\nIt handles the missing Affinity filters as UnsupportedPolicyException,\nwhich is a new exception type added here. This way the exception\nraised by scheduler_utils.setup_instance_group() will cause the\nVM to end up in ERROR state instead of NOSTATE, as it is expected.\nQuota rollback is also handled properly, when it is needed.\n\nCloses-bug: #1408326\nChange-Id: I3a8ba37ded8ac3fa9b5f3f35b09feb82d822d583\n'}, {'number': 17, 'created': '2015-01-30 19:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23fef68107fbc8cd5d52608a5d57ec88da7e1fd8', 'message': 'Fix leaking exceptions from scheduler utils\n\nscheduler_utils.setup_instance_group() can raise NoValidHost\nexception and the conductor does not handle that properly which\ncauses the server to get stuck in a scheduling state instead of\ngoing to ERROR.\n\nThe function is called several times in conductor/manager.py. This\npatch moves the function calls in the try blocks already present.\nIt handles the missing Affinity filters as UnsupportedPolicyException,\nwhich is a new exception type added here. This way the exception\nraised by scheduler_utils.setup_instance_group() will cause the\nVM to end up in ERROR state instead of NOSTATE, as it is expected.\nQuota rollback is also handled properly, when it is needed.\n\nCloses-bug: #1408326\nChange-Id: I3a8ba37ded8ac3fa9b5f3f35b09feb82d822d583\n'}, {'number': 18, 'created': '2015-01-30 19:48:26.000000000', 'files': ['nova/exception.py', 'nova/scheduler/utils.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/unit/scheduler/test_scheduler_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/28aedc604d993be4b1b38822fd08500df94b6ce3', 'message': 'Fix leaking exceptions from scheduler utils\n\nscheduler_utils.setup_instance_group() can raise NoValidHost\nexception and the conductor does not handle that properly which\ncauses the server to get stuck in a scheduling state instead of\ngoing to ERROR.\n\nThe function is called several times in conductor/manager.py. This\npatch moves the function calls in the try blocks already present.\nIt handles the missing Affinity filters as UnsupportedPolicyException,\nwhich is a new exception type added here. This way the exception\nraised by scheduler_utils.setup_instance_group() will cause the\nVM to end up in ERROR state instead of NOSTATE, as it is expected.\nQuota rollback is also handled properly, when it is needed.\n\nCloses-bug: #1408326\nChange-Id: I3a8ba37ded8ac3fa9b5f3f35b09feb82d822d583\n'}]",43,145761,28aedc604d993be4b1b38822fd08500df94b6ce3,157,22,18,9708,,,0,"Fix leaking exceptions from scheduler utils

scheduler_utils.setup_instance_group() can raise NoValidHost
exception and the conductor does not handle that properly which
causes the server to get stuck in a scheduling state instead of
going to ERROR.

The function is called several times in conductor/manager.py. This
patch moves the function calls in the try blocks already present.
It handles the missing Affinity filters as UnsupportedPolicyException,
which is a new exception type added here. This way the exception
raised by scheduler_utils.setup_instance_group() will cause the
VM to end up in ERROR state instead of NOSTATE, as it is expected.
Quota rollback is also handled properly, when it is needed.

Closes-bug: #1408326
Change-Id: I3a8ba37ded8ac3fa9b5f3f35b09feb82d822d583
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/145761/12 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py']",2,4b322d8637bd5a45cce782cc92879b147fc97b39,bug/1408326," try: scheduler_utils.setup_instance_group(context, request_spec, filter_properties) scheduler_utils.setup_instance_group(context, request_spec, filter_properties) try: scheduler_utils.setup_instance_group(context, request_spec, filter_properties)"," scheduler_utils.setup_instance_group(context, request_spec, filter_properties) try: scheduler_utils.setup_instance_group(context, request_spec, filter_properties) scheduler_utils.setup_instance_group(context, request_spec, filter_properties) try:",68,6
openstack%2Fpython-ironicclient~master~Ifbecdbb62db689edeb7d44356f3ecb49f902adf9,openstack/python-ironicclient,master,Ifbecdbb62db689edeb7d44356f3ecb49f902adf9,Updated from global requirements,MERGED,2015-01-26 10:34:07.000000000,2015-02-02 18:18:21.000000000,2015-02-02 18:18:21.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 10343}]","[{'number': 1, 'created': '2015-01-26 10:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/c905d544420f59c28a3732a66e15b3e20e755410', 'message': 'Updated from global requirements\n\nChange-Id: Ifbecdbb62db689edeb7d44356f3ecb49f902adf9\n'}, {'number': 2, 'created': '2015-01-29 22:08:46.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/1ca98d530957c65a3b750cf06a66c01658a92fce', 'message': 'Updated from global requirements\n\nChange-Id: Ifbecdbb62db689edeb7d44356f3ecb49f902adf9\n'}]",0,149978,1ca98d530957c65a3b750cf06a66c01658a92fce,11,3,2,11131,,,0,"Updated from global requirements

Change-Id: Ifbecdbb62db689edeb7d44356f3ecb49f902adf9
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/78/149978/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,c905d544420f59c28a3732a66e15b3e20e755410,openstack/requirements,python-keystoneclient>=1.0.0,python-keystoneclient>=0.11.1,1,1
openstack%2Fironic~master~Idedae868dbdd717a6e064edd398fa65f8725d0c0,openstack/ironic,master,Idedae868dbdd717a6e064edd398fa65f8725d0c0,Simplify policy.json,MERGED,2015-01-19 23:06:16.000000000,2015-02-02 18:17:51.000000000,2015-02-02 18:17:50.000000000,"[{'_account_id': 3}, {'_account_id': 1420}, {'_account_id': 1726}, {'_account_id': 2889}, {'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 10343}, {'_account_id': 12081}]","[{'number': 1, 'created': '2015-01-19 23:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b3674d4bbf19309e6903ca847b0e513fb5bb87cc', 'message': ""Simplify policy.json\n\nThis updates an API policy hook to always allow access to\npublic api endpoints by default. Doing so allows policy.json\nto be simplified considerably and keeps public endpoints\nbackward compatible with Juno's default policy.\n\nChange-Id: Idedae868dbdd717a6e064edd398fa65f8725d0c0\n""}, {'number': 2, 'created': '2015-01-21 19:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3a9032d756f94bac94030d68306cb6d99a7aa91e', 'message': ""Simplify policy.json\n\nThis updates an API policy hook to always allow access to\npublic api endpoints by default. Doing so allows policy.json\nto be simplified considerably and keeps public endpoints\nbackward compatible with Juno's default policy.\n\nCloses-bug: 1408808\n\nChange-Id: Idedae868dbdd717a6e064edd398fa65f8725d0c0\n""}, {'number': 3, 'created': '2015-01-26 18:48:39.000000000', 'files': ['ironic/api/hooks.py', 'etc/ironic/policy.json'], 'web_link': 'https://opendev.org/openstack/ironic/commit/bf66391072b69eb9d86d0b3834e7ac1eecaafba8', 'message': ""Simplify policy.json\n\nIronic's policy code was recently refactored.  As part of that work,\na new 'trusted_call' rule was added to policy.json that allows\ngranting/denying access to public APIs.  This is problematic, though,\nas public access to public API routes now depends on specific rules\nbeing configured in policy.json, and this creates an issue for upgrading.\nUsers who attempt to use new code with juno's policy.json and keystone\nauth will find public API access is denied.\n\nThis reverts the API policy hook to always allow access to\npublic API endpoitns by default. Doing so allows policy.json\nto be simplified considerably and keeps public endpoints\nbackward compatible with Juno's default policy.\n\nCloses-bug: 1408808\n\nChange-Id: Idedae868dbdd717a6e064edd398fa65f8725d0c0\n""}]",2,148381,bf66391072b69eb9d86d0b3834e7ac1eecaafba8,32,9,3,1420,,,0,"Simplify policy.json

Ironic's policy code was recently refactored.  As part of that work,
a new 'trusted_call' rule was added to policy.json that allows
granting/denying access to public APIs.  This is problematic, though,
as public access to public API routes now depends on specific rules
being configured in policy.json, and this creates an issue for upgrading.
Users who attempt to use new code with juno's policy.json and keystone
auth will find public API access is denied.

This reverts the API policy hook to always allow access to
public API endpoitns by default. Doing so allows policy.json
to be simplified considerably and keeps public endpoints
backward compatible with Juno's default policy.

Closes-bug: 1408808

Change-Id: Idedae868dbdd717a6e064edd398fa65f8725d0c0
",git fetch https://review.opendev.org/openstack/ironic refs/changes/81/148381/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/hooks.py', 'etc/ironic/policy.json']",2,b3674d4bbf19309e6903ca847b0e513fb5bb87cc,bug/1408808," ""default"": ""rule:admin_api"""," ""public_api"": ""is_public_api:True"", ""trusted_call"": ""rule:admin_api or rule:public_api"", ""default"": ""rule:trusted_call""",4,4
openstack%2Fnova~master~Ieb9a03d308495be4e8c54b5c6c0ff781ea7f0559,openstack/nova,master,Ieb9a03d308495be4e8c54b5c6c0ff781ea7f0559,libvirt: add QEMU built-in iSCSI initiator support,MERGED,2014-11-20 06:08:56.000000000,2015-02-02 18:17:32.000000000,2015-02-02 18:17:28.000000000,"[{'_account_id': 3}, {'_account_id': 659}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 7403}, {'_account_id': 7634}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 12088}, {'_account_id': 12909}]","[{'number': 1, 'created': '2014-11-20 06:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/255df295cd7d44a43fd30ea86dcb6ac540b2ece3', 'message': ""Add QEMU built-in iSCSI initiator support\n\nThis patch allows nova-compute to use QEMU iSCSI built-in\ninitiator for Cinder iSCSI volume drivers. It doesn't provide\niSCSI multipath capability, but host OS doesn't have to handle\niSCSI connection for volume because QEMU does it directly with\nlibiscsi.\n\nTo use this, you have to write a parameter at nova.conf:\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver,iser=nova.virt.libvirt.volume.LibvirtISERVolumeDriver,...\n\nor just\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver\n\nNote that qemu-system-x86 in Ubuntu has no iSCSI pass-through\nsupport because libiscsi isn't in main repository but universe.\nI've tested qemu-system-x86 built with libiscsi2 package of\nDebian on Ubuntu 14.04.\n\nChange-Id: Ieb9a03d308495be4e8c54b5c6c0ff781ea7f0559\nImplements: blueprint qemu-built-in-iscsi-initiator\n""}, {'number': 2, 'created': '2014-11-20 06:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/513c61b3d54d028267509d3595782a72715ce6b8', 'message': ""Add QEMU built-in iSCSI initiator support\n\nThis patch allows nova-compute to use QEMU iSCSI built-in\ninitiator for Cinder iSCSI volume drivers. It doesn't provide\niSCSI multipath capability, but host OS doesn't have to handle\niSCSI connection for volume because QEMU does it directly with\nlibiscsi.\n\nTo use this, you have to write a parameter at nova.conf:\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver,iser=nova.virt.libvirt.volume.LibvirtISERVolumeDriver,...\n\nor just\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver\n\nNote that qemu-system-x86 in Ubuntu has no iSCSI pass-through\nsupport because libiscsi isn't in main repository but universe.\nI've tested qemu-system-x86 built with libiscsi2 package of\nDebian on Ubuntu 14.04.\n\nChange-Id: Ieb9a03d308495be4e8c54b5c6c0ff781ea7f0559\nImplements: blueprint qemu-built-in-iscsi-initiator\n""}, {'number': 3, 'created': '2014-11-20 07:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4ce7fbcbbd9a0f826838bea0039f76c1cbcf1b8', 'message': ""Add QEMU built-in iSCSI initiator support\n\nThis patch allows nova-compute to use QEMU iSCSI built-in\ninitiator for Cinder iSCSI volume drivers. It doesn't provide\niSCSI multipath capability, but host OS doesn't have to handle\niSCSI connection for volume because QEMU does it directly with\nlibiscsi.\n\nTo use this, you have to write a parameter at nova.conf:\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver,iser=nova.virt.libvirt.volume.LibvirtISERVolumeDriver,...\n\nor just\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver\n\nNote that qemu-system-x86 in Ubuntu has no iSCSI pass-through\nsupport because libiscsi isn't in main repository but universe.\nI've tested qemu-system-x86 built with libiscsi2 package of\nDebian on Ubuntu 14.04.\n\nChange-Id: Ieb9a03d308495be4e8c54b5c6c0ff781ea7f0559\nImplements: blueprint qemu-built-in-iscsi-initiator\n""}, {'number': 4, 'created': '2014-11-20 08:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d01814008ee7c99f74e6d87c9ac62a87838550d2', 'message': ""Add QEMU built-in iSCSI initiator support\n\nThis patch allows nova-compute to use QEMU iSCSI built-in\ninitiator for Cinder iSCSI volume drivers. It doesn't provide\niSCSI multipath capability, but host OS doesn't have to handle\niSCSI connection for volume because QEMU does it directly with\nlibiscsi.\n\nTo use this, you have to write a parameter at nova.conf:\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver,iser=nova.virt.libvirt.volume.LibvirtISERVolumeDriver,...\n\nor just\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver\n\nNote that qemu-system-x86 in Ubuntu has no iSCSI pass-through\nsupport because libiscsi isn't in main repository but universe.\nI've tested qemu-system-x86 built with libiscsi2 package of\nDebian on Ubuntu 14.04.\n\nChange-Id: Ieb9a03d308495be4e8c54b5c6c0ff781ea7f0559\nImplements: blueprint qemu-built-in-iscsi-initiator\n""}, {'number': 5, 'created': '2015-01-10 16:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7ced6ce59fb809b4dabd6195c906e0c1ca4b269', 'message': ""Add QEMU built-in iSCSI initiator support\n\nThis patch allows nova-compute to use QEMU iSCSI built-in\ninitiator for Cinder iSCSI volume drivers. It doesn't provide\niSCSI multipath capability, but host OS doesn't have to handle\niSCSI connection for volume because QEMU does it directly with\nlibiscsi.\n\nTo use this, you have to write a parameter at nova.conf:\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver,iser=nova.virt.libvirt.volume.LibvirtISERVolumeDriver,...\n\nor just\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver\n\nNote that qemu-system-x86 in Ubuntu has no iSCSI pass-through\nsupport because libiscsi isn't in main repository but universe.\nI've tested qemu-system-x86 built with libiscsi2 package of\nDebian on Ubuntu 14.04.\n\nChange-Id: Ieb9a03d308495be4e8c54b5c6c0ff781ea7f0559\nImplements: blueprint qemu-built-in-iscsi-initiator\n""}, {'number': 6, 'created': '2015-01-11 03:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6fca353031e2387b38ad9cebf22660af570e03d', 'message': ""Add QEMU built-in iSCSI initiator support\n\nThis patch allows nova-compute to use QEMU iSCSI built-in\ninitiator for Cinder iSCSI volume drivers. It doesn't provide\niSCSI multipath capability, but host OS doesn't have to handle\niSCSI connection for volume because QEMU does it directly with\nlibiscsi.\n\nTo use this, you have to write a parameter at nova.conf:\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver,iser=nova.virt.libvirt.volume.LibvirtISERVolumeDriver,...\n\nor just\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver\n\nNote that qemu-system-x86 in Ubuntu has no iSCSI pass-through\nsupport because libiscsi isn't in main repository but universe.\nI've tested qemu-system-x86 built with libiscsi2 package of\nDebian on Ubuntu 14.04.\n\nChange-Id: Ieb9a03d308495be4e8c54b5c6c0ff781ea7f0559\nImplements: blueprint qemu-built-in-iscsi-initiator\n""}, {'number': 7, 'created': '2015-01-12 12:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fc6b42d5fadcd4d8e8182eeb0df52dda024b5f6', 'message': ""Add QEMU built-in iSCSI initiator support\n\nThis patch allows nova-compute to use QEMU iSCSI built-in\ninitiator for Cinder iSCSI volume drivers. It doesn't provide\niSCSI multipath capability, but host OS doesn't have to handle\niSCSI connection for volume because QEMU does it directly with\nlibiscsi.\n\nTo use this, you have to write a parameter at nova.conf:\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver,iser=nova.virt.libvirt.volume.LibvirtISERVolumeDriver,...\n\nor just\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver\n\nNote that qemu-system-x86 in Ubuntu has no iSCSI pass-through\nsupport because libiscsi isn't in main repository but universe.\nI've tested qemu-system-x86 built with libiscsi2 package of\nDebian on Ubuntu 14.04.\n\nChange-Id: Ieb9a03d308495be4e8c54b5c6c0ff781ea7f0559\nImplements: blueprint qemu-built-in-iscsi-initiator\n""}, {'number': 8, 'created': '2015-01-12 12:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5f3f233dc644c93236ad5c5d1a6ae58749b7e0d', 'message': ""Add QEMU built-in iSCSI initiator support\n\nThis patch allows nova-compute to use QEMU iSCSI built-in\ninitiator for Cinder iSCSI volume drivers. It doesn't provide\niSCSI multipath capability, but host OS doesn't have to handle\niSCSI connection for volume because QEMU does it directly with\nlibiscsi.\n\nTo use this, you have to write a parameter at nova.conf:\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver,iser=nova.virt.libvirt.volume.LibvirtISERVolumeDriver,...\n\nor just\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver\n\nNote that qemu-system-x86 in Ubuntu has no iSCSI built-in\ninitiator support because libiscsi isn't in main repository\nbut universe. I've tested qemu-system-x86 built with libiscsi2\npackage of Debian on Ubuntu 14.04.\n\nChange-Id: Ieb9a03d308495be4e8c54b5c6c0ff781ea7f0559\nImplements: blueprint qemu-built-in-iscsi-initiator\n""}, {'number': 9, 'created': '2015-01-12 13:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4605369f5d0850dcc8629fbba6677a439bc2df31', 'message': ""libvirt: add QEMU built-in iSCSI initiator support\n\nThis patch allows nova-compute to use QEMU iSCSI built-in\ninitiator for Cinder iSCSI volume drivers. It doesn't provide\niSCSI multipath capability, but host OS doesn't have to handle\niSCSI connection for volume because QEMU does it directly with\nlibiscsi.\n\nTo use this, you have to write a parameter at nova.conf:\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver,iser=nova.virt.libvirt.volume.LibvirtISERVolumeDriver,...\n\nor just\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver\n\nNote that qemu-system-x86 in Ubuntu has no iSCSI built-in\ninitiator support because libiscsi isn't in main repository\nbut universe. I've tested qemu-system-x86 built with libiscsi2\npackage of Debian on Ubuntu 14.04.\n\nChange-Id: Ieb9a03d308495be4e8c54b5c6c0ff781ea7f0559\nImplements: blueprint qemu-built-in-iscsi-initiator\n""}, {'number': 10, 'created': '2015-01-12 15:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21aecc75543d883841e59190b6c4185fda20bb49', 'message': ""libvirt: add QEMU built-in iSCSI initiator support\n\nThis patch allows nova-compute to use QEMU iSCSI built-in\ninitiator for Cinder iSCSI volume drivers. It doesn't provide\niSCSI multipath capability, but host OS doesn't have to handle\niSCSI connection for volume because QEMU does it directly with\nlibiscsi.\n\nTo use this, you have to write a parameter at nova.conf:\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver,iser=nova.virt.libvirt.volume.LibvirtISERVolumeDriver,...\n\nor just\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver\n\nNote that qemu-system-x86 in Ubuntu has no iSCSI built-in\ninitiator support because libiscsi isn't in main repository\nbut universe. I've tested qemu-system-x86 built with libiscsi2\npackage of Debian on Ubuntu 14.04.\n\nChange-Id: Ieb9a03d308495be4e8c54b5c6c0ff781ea7f0559\nImplements: blueprint qemu-built-in-iscsi-initiator\n""}, {'number': 11, 'created': '2015-01-14 00:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fbe3c1fcf8ca7b46b4c949ac6971f2c563020aa7', 'message': ""libvirt: add QEMU built-in iSCSI initiator support\n\nThis patch allows nova-compute to use QEMU iSCSI built-in\ninitiator for Cinder iSCSI volume drivers. It doesn't provide\niSCSI multipath capability, but host OS doesn't have to handle\niSCSI connection for volume because QEMU does it directly with\nlibiscsi.\n\nTo use this, you have to write a parameter at nova.conf:\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver,iser=nova.virt.libvirt.volume.LibvirtISERVolumeDriver,...\n\nor just\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver\n\nNote that qemu-system-x86 in Ubuntu has no iSCSI built-in\ninitiator support because libiscsi isn't in main repository\nbut universe. I've tested qemu-system-x86 built with libiscsi2\npackage of Debian on Ubuntu 14.04.\n\nChange-Id: Ieb9a03d308495be4e8c54b5c6c0ff781ea7f0559\nImplements: blueprint qemu-built-in-iscsi-initiator\n""}, {'number': 12, 'created': '2015-01-17 01:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31e3bbdc4912caeb6e4fe0c8fc2d50c0ddfc7d2e', 'message': ""libvirt: add QEMU built-in iSCSI initiator support\n\nThis patch allows nova-compute to use QEMU iSCSI built-in\ninitiator for Cinder iSCSI volume drivers. It doesn't provide\niSCSI multipath capability, but host OS doesn't have to handle\niSCSI connection for volume because QEMU does it directly with\nlibiscsi.\n\nTo use this, you have to write a parameter at nova.conf:\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver,iser=nova.virt.libvirt.volume.LibvirtISERVolumeDriver,...\n\nor just\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver\n\nNote that qemu-system-x86 in Ubuntu has no iSCSI built-in\ninitiator support because libiscsi isn't in main repository\nbut universe. I've tested qemu-system-x86 built with libiscsi2\npackage of Debian on Ubuntu 14.04.\n\nChange-Id: Ieb9a03d308495be4e8c54b5c6c0ff781ea7f0559\nImplements: blueprint qemu-built-in-iscsi-initiator\n""}, {'number': 13, 'created': '2015-01-20 13:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44f37c36a5366fa53f2357b83d9e3c19f9247853', 'message': ""libvirt: add QEMU built-in iSCSI initiator support\n\nThis patch allows nova-compute to use QEMU iSCSI built-in\ninitiator for Cinder iSCSI volume drivers. It doesn't provide\niSCSI multipath capability, but host OS doesn't have to handle\niSCSI connection for volume because QEMU does it directly with\nlibiscsi.\n\nTo use this, you have to write a parameter at nova.conf:\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver,iser=nova.virt.libvirt.volume.LibvirtISERVolumeDriver,...\n\nor just\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver\n\nNote that qemu-system-x86 in Ubuntu has no iSCSI built-in\ninitiator support because libiscsi isn't in main repository\nbut universe. I've tested qemu-system-x86 built with libiscsi2\npackage of Debian on Ubuntu 14.04.\n\nChange-Id: Ieb9a03d308495be4e8c54b5c6c0ff781ea7f0559\nImplements: blueprint qemu-built-in-iscsi-initiator\n""}, {'number': 14, 'created': '2015-01-20 15:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/204312aad48b8b0fb75a4ad5e4a3955ab839c0dc', 'message': ""libvirt: add QEMU built-in iSCSI initiator support\n\nThis patch allows nova-compute to use QEMU iSCSI built-in\ninitiator for Cinder iSCSI volume drivers. It doesn't provide\niSCSI multipath capability, but host OS doesn't have to handle\niSCSI connection for volume because QEMU does it directly with\nlibiscsi.\n\nTo use this, you have to write a parameter at nova.conf:\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver,iser=nova.virt.libvirt.volume.LibvirtISERVolumeDriver,...\n\nor just\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver\n\nNote that qemu-system-x86 in Ubuntu has no iSCSI built-in\ninitiator support because libiscsi isn't in main repository\nbut universe. I've tested qemu-system-x86 built with libiscsi2\npackage of Debian on Ubuntu 14.04.\n\nChange-Id: Ieb9a03d308495be4e8c54b5c6c0ff781ea7f0559\nImplements: blueprint qemu-built-in-iscsi-initiator\n""}, {'number': 15, 'created': '2015-01-22 15:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/691496c9d616de0e5c29a6cfcf5a601978f2e6fa', 'message': ""libvirt: add QEMU built-in iSCSI initiator support\n\nThis patch allows nova-compute to use QEMU iSCSI built-in\ninitiator for Cinder iSCSI volume drivers. It doesn't provide\niSCSI multipath capability, but host OS doesn't have to handle\niSCSI connection for volume because QEMU does it directly with\nlibiscsi.\n\nTo use this, you have to write a parameter at nova.conf:\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver,iser=nova.virt.libvirt.volume.LibvirtISERVolumeDriver,...\n\nor just\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver\n\nNote that qemu-system-x86 in Ubuntu has no iSCSI built-in\ninitiator support because libiscsi isn't in main repository\nbut universe. I've tested qemu-system-x86 built with libiscsi2\npackage of Debian on Ubuntu 14.04.\n\nChange-Id: Ieb9a03d308495be4e8c54b5c6c0ff781ea7f0559\nImplements: blueprint qemu-built-in-iscsi-initiator\n""}, {'number': 16, 'created': '2015-01-23 15:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63fde5564e8ae637b2d33d33e98ec158154df794', 'message': ""libvirt: add QEMU built-in iSCSI initiator support\n\nThis patch allows nova-compute to use QEMU iSCSI built-in\ninitiator for Cinder iSCSI volume drivers. It doesn't provide\niSCSI multipath capability, but host OS doesn't have to handle\niSCSI connection for volume because QEMU does it directly with\nlibiscsi.\n\nTo use this, you have to write a parameter at nova.conf:\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver,iser=nova.virt.libvirt.volume.LibvirtISERVolumeDriver,...\n\nor just\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver\n\nNote that qemu-system-x86 in Ubuntu has no iSCSI built-in\ninitiator support because libiscsi isn't in main repository\nbut universe. I've tested qemu-system-x86 built with libiscsi2\npackage of Debian on Ubuntu 14.04.\n\nChange-Id: Ieb9a03d308495be4e8c54b5c6c0ff781ea7f0559\nImplements: blueprint qemu-built-in-iscsi-initiator\n""}, {'number': 17, 'created': '2015-01-24 15:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32c9c590b62748165bd86732f1f60e86fac2f930', 'message': ""libvirt: add QEMU built-in iSCSI initiator support\n\nThis patch allows nova-compute to use QEMU iSCSI built-in\ninitiator for Cinder iSCSI volume drivers. It doesn't provide\niSCSI multipath capability, but host OS doesn't have to handle\niSCSI connection for volume because QEMU does it directly with\nlibiscsi.\n\nTo use this, you have to write a parameter at nova.conf:\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver,iser=nova.virt.libvirt.volume.LibvirtISERVolumeDriver,...\n\nor just\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver\n\nNote that qemu-system-x86 in Ubuntu has no iSCSI built-in\ninitiator support because libiscsi isn't in main repository\nbut universe. I've tested qemu-system-x86 built with libiscsi2\npackage of Debian on Ubuntu 14.04.\n\nChange-Id: Ieb9a03d308495be4e8c54b5c6c0ff781ea7f0559\nImplements: blueprint qemu-built-in-iscsi-initiator\n""}, {'number': 18, 'created': '2015-01-28 11:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43643314ce72d6ad15862861ac1e618ff27fc871', 'message': ""libvirt: add QEMU built-in iSCSI initiator support\n\nThis patch allows nova-compute to use QEMU iSCSI built-in\ninitiator for Cinder iSCSI volume drivers. It doesn't provide\niSCSI multipath capability, but host OS doesn't have to handle\niSCSI connection for volume because QEMU does it directly with\nlibiscsi.\n\nTo use this, you have to write a parameter at nova.conf:\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver,iser=nova.virt.libvirt.volume.LibvirtISERVolumeDriver,...\n\nor just\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver\n\nNote that qemu-system-x86 in Ubuntu has no iSCSI built-in\ninitiator support because libiscsi isn't in main repository\nbut universe. I've tested qemu-system-x86 built with libiscsi2\npackage of Debian on Ubuntu 14.04.\n\nChange-Id: Ieb9a03d308495be4e8c54b5c6c0ff781ea7f0559\nImplements: blueprint qemu-built-in-iscsi-initiator\n""}, {'number': 19, 'created': '2015-01-30 12:26:57.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/libvirt/host.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/virt/libvirt/volume.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/tests/unit/virt/libvirt/test_volume.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f987bf1a641ffc8b26c06c920a32b8556c18e845', 'message': ""libvirt: add QEMU built-in iSCSI initiator support\n\nThis patch allows nova-compute to use QEMU iSCSI built-in\ninitiator for Cinder iSCSI volume drivers. It doesn't provide\niSCSI multipath capability, but host OS doesn't have to handle\niSCSI connection for volume because QEMU does it directly with\nlibiscsi.\n\nTo use this, you have to write a parameter at nova.conf:\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver,iser=nova.virt.libvirt.volume.LibvirtISERVolumeDriver,...\n\nor just\n\n  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver\n\nNote that qemu-system-x86 in Ubuntu has no iSCSI built-in\ninitiator support because libiscsi isn't in main repository\nbut universe. I've tested qemu-system-x86 built with libiscsi2\npackage of Debian on Ubuntu 14.04.\n\nChange-Id: Ieb9a03d308495be4e8c54b5c6c0ff781ea7f0559\nImplements: blueprint qemu-built-in-iscsi-initiator\n""}]",42,135854,f987bf1a641ffc8b26c06c920a32b8556c18e845,148,17,19,659,,,0,"libvirt: add QEMU built-in iSCSI initiator support

This patch allows nova-compute to use QEMU iSCSI built-in
initiator for Cinder iSCSI volume drivers. It doesn't provide
iSCSI multipath capability, but host OS doesn't have to handle
iSCSI connection for volume because QEMU does it directly with
libiscsi.

To use this, you have to write a parameter at nova.conf:

  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver,iser=nova.virt.libvirt.volume.LibvirtISERVolumeDriver,...

or just

  volume_drivers = iscsi=nova.virt.libvirt.volume.LibvirtNetVolumeDriver

Note that qemu-system-x86 in Ubuntu has no iSCSI built-in
initiator support because libiscsi isn't in main repository
but universe. I've tested qemu-system-x86 built with libiscsi2
package of Debian on Ubuntu 14.04.

Change-Id: Ieb9a03d308495be4e8c54b5c6c0ff781ea7f0559
Implements: blueprint qemu-built-in-iscsi-initiator
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/135854/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/config.py', 'nova/virt/libvirt/volume.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/tests/unit/virt/libvirt/test_volume.py']",5,255df295cd7d44a43fd30ea86dcb6ac540b2ece3,bp/qemu-built-in-iscsi-initiator,"import uuid class FakeSecret(object): def __init__(self): self.uuid = '2a0a0d6c-babf-454d-b93e-9ac9957b95e0' def getUUIDString(self): return self.uuid def UUIDString(self): return self.uuid def setValue(self, value): self.value = value return 0 def getValue(self, value): return self.value def undefine(self): self.value = None return 0 def _get_secret(self, secret_conf, password=None): return FakeSecret() def _delete_secret(self, usage_type, usage_name): return def _assertISCSINetworkAndProtocolEquals(self, tree): self.assertEqual(tree.get('type'), 'network') self.assertEqual(tree.find('./source').get('protocol'), 'iscsi') iscsi_name = '%s/%s' % (self.iqn, self.vol['id']) self.assertEqual(tree.find('./source').get('name'), iscsi_name) def iscsi_connection(self, volume, location, iqn, auth=False): ret = { if auth: ret['data']['auth_method'] = 'CHAP' ret['data']['auth_username'] = 'foo' ret['data']['auth_password'] = 'bar' return ret def test_libvirt_iscsi_net_driver(self): libvirt_driver = volume.LibvirtNetVolumeDriver(self.fake_conn) connection_info = self.iscsi_connection(self.vol, self.location, self.iqn, auth=True) secret_type = 'iscsi' flags_user = connection_info['data']['auth_username'] flags_uuid = '2a0a0d6c-babf-454d-b93e-9ac9957b95e0' conf = libvirt_driver.get_config(connection_info, self.disk_info) tree = conf.format_dom() self._assertISCSINetworkAndProtocolEquals(tree) self.assertEqual(tree.find('./auth').get('username'), flags_user) self.assertEqual(tree.find('./auth/secret').get('type'), secret_type) self.assertEqual(tree.find('./auth/secret').get('uuid'), flags_uuid) libvirt_driver.disconnect_volume(connection_info, 'vde') "," def iscsi_connection(self, volume, location, iqn): return {",278,3
openstack%2Fneutron~master~I2283759a5b0ee995573d4e4357dafb3e66ca4aed,openstack/neutron,master,I2283759a5b0ee995573d4e4357dafb3e66ca4aed,Drop bw compact module for OpenDayLight,MERGED,2015-01-31 17:23:12.000000000,2015-02-02 18:15:22.000000000,2015-02-02 18:15:20.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 2874}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 8645}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 12040}]","[{'number': 1, 'created': '2015-01-31 17:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/04422710759abd34d4cfb1a62346ec879e0105c9', 'message': 'Drop bw compact module for OpenDayLight\n\nFollowing change [1], this bw-compat measure can be dropped.\n\nChange-Id: I2283759a5b0ee995573d4e4357dafb3e66ca4aed\nDepends-on: https://review.openstack.org/#/c/151707 [1]\n'}, {'number': 2, 'created': '2015-01-31 18:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7272247bda45d8536dab04028bb18ccfca83f4b3', 'message': 'Drop bw compact module for OpenDayLight\n\nFollowing change [1], this bw-compat measure can be dropped.\n\nDepends-on: https://review.openstack.org/#/c/151707 [1]\n\nChange-Id: I2283759a5b0ee995573d4e4357dafb3e66ca4aed\n'}, {'number': 3, 'created': '2015-01-31 19:08:26.000000000', 'files': ['neutron/plugins/ml2/drivers/mechanism_odl.py', 'neutron/tests/unit/ml2/test_mechanism_odl.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c9a86800f421af7a3c98de2d5ccdf8917d315e79', 'message': 'Drop bw compact module for OpenDayLight\n\nFollowing change [1], this bw-compat measure can be dropped.\n\nDepends-on: https://review.openstack.org/#/c/151707 [1]\n\nChange-Id: I2283759a5b0ee995573d4e4357dafb3e66ca4aed\n'}]",0,151884,c9a86800f421af7a3c98de2d5ccdf8917d315e79,46,20,3,748,,,0,"Drop bw compact module for OpenDayLight

Following change [1], this bw-compat measure can be dropped.

Depends-on: https://review.openstack.org/#/c/151707 [1]

Change-Id: I2283759a5b0ee995573d4e4357dafb3e66ca4aed
",git fetch https://review.opendev.org/openstack/neutron refs/changes/84/151884/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/mechanism_odl.py'],1,04422710759abd34d4cfb1a62346ec879e0105c9,odl-requirements-2,,"# Copyright (c) 2015 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # TODO(armax): this file is added for bw-compat. As soon as the respective # change merges on the networking_odl side, this file can be dropped. from neutron.plugins.ml2.drivers.opendaylight import driver OpenDaylightMechanismDriver = driver.OpenDaylightMechanismDriver ",0,20
openstack%2Fcinder~master~Ie2c021e7fd37e7221f99b3311e4792c958045431,openstack/cinder,master,Ie2c021e7fd37e7221f99b3311e4792c958045431,Support iSER driver within the ISCSITarget flow,MERGED,2015-01-25 21:07:41.000000000,2015-02-02 18:13:00.000000000,2015-02-02 18:12:58.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 2861}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 10115}, {'_account_id': 10621}, {'_account_id': 11811}, {'_account_id': 11968}, {'_account_id': 12017}, {'_account_id': 12065}, {'_account_id': 12088}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12493}, {'_account_id': 12780}, {'_account_id': 14242}]","[{'number': 1, 'created': '2015-01-25 21:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fae357488fcdd559bee22a7668a2cfa08e1031b4', 'message': 'Support iSER driver within the ISCSITarget flow\n\nCurrently the iSER driver is supported over TGT only,\nand there are a couple of iSER classes that inherits\nfrom iSCSI classes, but most of their functionality is\nthe same as the iSCSI classes. This code duplication caused\ninstability in the iSER driver code, when new features or\nchanges are added to the iSCSI driver flow.\n\nMain changes:\n  1. Added iser_enabled parameter that is set to False by default.\n  2. Configured TGT iscsi driver to VOLUME_CONF and\n     VOLUME_CONF_WITH_CHAP_AUTH.\n  3. Added support for RDMA (using iSER) to cinder-rtstool.\n  4. Set ""driver_volume_type"" to ""iscsi"" or ""iser"" value, according\n     to the ""iser_enabled"" value.\n  5. Added unit tests for the new iSER flow.\n  6. Added deprecation alert to ISERTgtAdm.\n\nDocImpact\n\nImplements: blueprint support-iscsi-driver\n\nChange-Id: Ie2c021e7fd37e7221f99b3311e4792c958045431\n'}, {'number': 2, 'created': '2015-01-29 21:14:31.000000000', 'files': ['cinder/tests/test_cmd.py', 'cinder/volume/driver.py', 'cinder/tests/targets/test_iser_driver.py', 'cinder/volume/targets/tgt.py', 'cinder/tests/targets/test_lio_driver.py', 'cinder/tests/targets/test_tgt_driver.py', 'cinder/volume/targets/iser.py', 'cinder/volume/targets/lio.py', 'cinder/cmd/rtstool.py', 'cinder/volume/targets/iscsi.py', 'cinder/volume/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ffdfd0f3bd6d1f72feaefc2b12efdb4ed8b9bc72', 'message': 'Support iSER driver within the ISCSITarget flow\n\nCurrently the iSER driver is supported over TGT only,\nand there are a couple of iSER classes that inherits\nfrom iSCSI classes, but most of their functionality is\nthe same as the iSCSI classes. This code duplication caused\ninstability in the iSER driver code, when new features or\nchanges are added to the iSCSI driver flow.\n\nMain changes:\n  1. Added a new parameter to volume/driver.py in order to\n     set the iSCSI protocol type to \'iscsi\' or \'iser\', with default\n     to \'iscsi\'.\n  2. Configured TGT VOLUME_CONF and VOLUME_CONF_WITH_CHAP_AUTH\n     with the new iSCSI protocol parameter.\n  3. Added support for RDMA (using iSER) to cinder-rtstool.\n  4. Set ""driver_volume_type"" to ""iscsi"" or ""iser"" value, according\n     to the new parameter value.\n  5. Added unit tests for the new iSER flow.\n  6. Added deprecation alert to ISERTgtAdm.\n\nDocImpact\n\nImplements: blueprint support-iscsi-driver\n\nChange-Id: Ie2c021e7fd37e7221f99b3311e4792c958045431\n'}]",12,149897,ffdfd0f3bd6d1f72feaefc2b12efdb4ed8b9bc72,35,20,2,11968,,,0,"Support iSER driver within the ISCSITarget flow

Currently the iSER driver is supported over TGT only,
and there are a couple of iSER classes that inherits
from iSCSI classes, but most of their functionality is
the same as the iSCSI classes. This code duplication caused
instability in the iSER driver code, when new features or
changes are added to the iSCSI driver flow.

Main changes:
  1. Added a new parameter to volume/driver.py in order to
     set the iSCSI protocol type to 'iscsi' or 'iser', with default
     to 'iscsi'.
  2. Configured TGT VOLUME_CONF and VOLUME_CONF_WITH_CHAP_AUTH
     with the new iSCSI protocol parameter.
  3. Added support for RDMA (using iSER) to cinder-rtstool.
  4. Set ""driver_volume_type"" to ""iscsi"" or ""iser"" value, according
     to the new parameter value.
  5. Added unit tests for the new iSER flow.
  6. Added deprecation alert to ISERTgtAdm.

DocImpact

Implements: blueprint support-iscsi-driver

Change-Id: Ie2c021e7fd37e7221f99b3311e4792c958045431
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/149897/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/test_cmd.py', 'cinder/volume/driver.py', 'cinder/tests/targets/test_iser_driver.py', 'cinder/tests/targets/test_lio_driver.py', 'cinder/volume/targets/tgt.py', 'cinder/tests/targets/test_tgt_driver.py', 'cinder/cmd/rtstool.py', 'cinder/volume/targets/iser.py', 'cinder/volume/targets/lio.py', 'cinder/volume/targets/iscsi.py', 'cinder/volume/drivers/lvm.py']",11,fae357488fcdd559bee22a7668a2cfa08e1031b4,bp/support-iscsi-driver," LOG.warning(_LW('LVMISERDriver is deprecated, you should ' 'wish to use. in Order to enable iser, please ' 'set iser_enabled=True.'))"," LOG.warning(_LW('LVMISCSIDriver is deprecated, you should ' 'wish to use.'))",137,29
openstack%2Fdevstack-gate~master~I778dbae3a52a53f0b714148a0a3e0816dba05656,openstack/devstack-gate,master,I778dbae3a52a53f0b714148a0a3e0816dba05656,Add variable to allow Tempest to disable the test execution,MERGED,2015-01-17 08:54:15.000000000,2015-02-02 18:12:44.000000000,2015-02-02 18:12:42.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 2035}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 5196}, {'_account_id': 5263}, {'_account_id': 6316}, {'_account_id': 6786}, {'_account_id': 9656}]","[{'number': 1, 'created': '2015-01-17 08:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/0e6f683a0c6e10ae151691e6ccb1e81399e54659', 'message': 'Add variable to allow Tempest to install and configure only\n\nThis is particularly useful for some jobs, like the neutron-api.\n\nChange-Id: I778dbae3a52a53f0b714148a0a3e0816dba05656\n'}, {'number': 2, 'created': '2015-01-20 17:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/098d96abec1c4a3e921c54d1820bbe068d4627f3', 'message': 'Add variable to allow Tempest to disable the test execution\n\nThis will allow Tempest to install and configure only. This is particularly\nuseful for some jobs, like the neutron-api.\n\nChange-Id: I778dbae3a52a53f0b714148a0a3e0816dba05656\n'}, {'number': 3, 'created': '2015-01-29 23:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/6eaaf6a521eed2d6f0f9347c56af2444988e694f', 'message': 'Add variable to allow Tempest to disable the test execution\n\nThis will allow Tempest to install and configure only. This is particularly\nuseful for some jobs, like the neutron-api.\n\nChange-Id: I778dbae3a52a53f0b714148a0a3e0816dba05656\n'}, {'number': 4, 'created': '2015-01-30 00:10:55.000000000', 'files': ['devstack-vm-gate.sh', 'devstack-vm-gate-wrap.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/c7cffdaca3478510f5c82b1f9903a771168cdaca', 'message': 'Add variable to allow Tempest to disable the test execution\n\nThis will allow Tempest to install and configure only. This is particularly\nuseful for some jobs, like the neutron-api.\n\nChange-Id: I778dbae3a52a53f0b714148a0a3e0816dba05656\n'}]",9,148052,c7cffdaca3478510f5c82b1f9903a771168cdaca,31,10,4,748,,,0,"Add variable to allow Tempest to disable the test execution

This will allow Tempest to install and configure only. This is particularly
useful for some jobs, like the neutron-api.

Change-Id: I778dbae3a52a53f0b714148a0a3e0816dba05656
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/52/148052/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack-vm-gate.sh'],1,0e6f683a0c6e10ae151691e6ccb1e81399e54659,tempest-install-only," # We don't need to run Tempest, if this is switched on if [[ ""$DEVSTACK_GATE_TEMPEST_INSTALL_ONLY"" -eq ""1"" ]]; then exit 0 fi ",,5,0
openstack%2Fnova~master~I654526760d32b736df47f4225acccedeec25e150,openstack/nova,master,I654526760d32b736df47f4225acccedeec25e150,Remove HTTPRequestV3 in scheduler_hints test,MERGED,2015-01-14 15:40:54.000000000,2015-02-02 18:12:16.000000000,2015-02-02 18:12:12.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 8276}, {'_account_id': 8556}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-01-14 15:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c51bfa1888ad687ffa2e5ec661f6d77843d364ce', 'message': 'Remove HTTPRequestV3 in scheduler_hints test\n\nThere is HTTPRequestV3 in scheduler_hints test which is not\nneeded, this patch changes it to HTTPRequest.\nNote: the occurance in test_access_ips.py will be removed\nby another patch with additional update.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I654526760d32b736df47f4225acccedeec25e150\n'}, {'number': 2, 'created': '2015-01-23 13:34:59.000000000', 'files': ['nova/tests/unit/api/openstack/compute/contrib/test_scheduler_hints.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a13867efe96e899d21f7352f7dd8cd90f2ef10d2', 'message': 'Remove HTTPRequestV3 in scheduler_hints test\n\nThere is HTTPRequestV3 in scheduler_hints test which is not\nneeded, this patch changes it to HTTPRequest.\nNote: the occurance in test_access_ips.py will be removed\nby another patch with additional update.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I654526760d32b736df47f4225acccedeec25e150\n'}]",0,147208,a13867efe96e899d21f7352f7dd8cd90f2ef10d2,22,10,2,6062,,,0,"Remove HTTPRequestV3 in scheduler_hints test

There is HTTPRequestV3 in scheduler_hints test which is not
needed, this patch changes it to HTTPRequest.
Note: the occurance in test_access_ips.py will be removed
by another patch with additional update.

Partially implements blueprint v2-on-v3-api

Change-Id: I654526760d32b736df47f4225acccedeec25e150
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/147208/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/api/openstack/compute/contrib/test_scheduler_hints.py'],1,c51bfa1888ad687ffa2e5ec661f6d77843d364ce,bp/v2-on-v3-api, return fakes.HTTPRequest.blank('/servers') return fakes.HTTPRequest.blank('/servers'), return fakes.HTTPRequestV3.blank('/servers') return fakes.HTTPRequestV3.blank('/servers'),2,2
openstack%2Fnova~master~I8c6924b5fcde5ef28f6b5d57407db94c3b8c638d,openstack/nova,master,I8c6924b5fcde5ef28f6b5d57407db94c3b8c638d,Make test re-use HTTPRequest part 3,MERGED,2015-01-14 15:30:44.000000000,2015-02-02 18:11:50.000000000,2015-02-02 18:11:46.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9550}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 11189}]","[{'number': 1, 'created': '2015-01-14 15:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2501c592703e661f89a2e0221b839484df1b0b2', 'message': ""Make test re-use HTTPReuqest part 3\n\nWe are using the controller to do test instead of\nwsgi URI now, the HTTPRequest is only a fake value\nand mostly is not used. Make test class reuse\nthe Request to remove code complication.\nAlso, some method set such as 'POST', 'DELETE' etc\nare not needed anymore since controller are\ndirectly used and the req don't need to set any value\nfor request's body.\n\nThis patch focus on access_ips, quota_classes and\nserver_start_stop.\n\nChange-Id: I8c6924b5fcde5ef28f6b5d57407db94c3b8c638d\n""}, {'number': 2, 'created': '2015-01-14 15:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79ac39aeaa1cb15eb6f6c7b855fdc57103241067', 'message': ""Make test re-use HTTPReuqest part 3\n\nWe are using the controller to do test instead of\nwsgi URI now, the HTTPRequest is only a fake value\nand mostly is not used. Make test class reuse\nthe Request to remove code complication.\nAlso, some method set such as 'POST', 'DELETE' etc\nare not needed anymore since controller are\ndirectly used and the req don't need to set any value\nfor request's body.\n\nThis patch focus on access_ips, quota_classes and\nserver_start_stop.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I8c6924b5fcde5ef28f6b5d57407db94c3b8c638d\n""}, {'number': 3, 'created': '2015-01-23 13:36:51.000000000', 'files': ['nova/tests/unit/api/openstack/compute/contrib/test_access_ips.py', 'nova/tests/unit/api/openstack/compute/contrib/test_quota_classes.py', 'nova/tests/unit/api/openstack/compute/contrib/test_server_start_stop.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2cdb99c97ee185dacf5707b8fac1b97d0a42b862', 'message': ""Make test re-use HTTPRequest part 3\n\nWe are using the controller to do test instead of\nwsgi URI now, the HTTPRequest is only a fake value\nand mostly is not used. Make test class reuse\nthe Request to remove code complication.\nAlso, some method set such as 'POST', 'DELETE' etc\nare not needed anymore since controller are\ndirectly used and the req don't need to set any value\nfor request's body.\n\nThis patch focus on access_ips, quota_classes and\nserver_start_stop.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I8c6924b5fcde5ef28f6b5d57407db94c3b8c638d\n""}]",0,147204,2cdb99c97ee185dacf5707b8fac1b97d0a42b862,27,13,3,6062,,,0,"Make test re-use HTTPRequest part 3

We are using the controller to do test instead of
wsgi URI now, the HTTPRequest is only a fake value
and mostly is not used. Make test class reuse
the Request to remove code complication.
Also, some method set such as 'POST', 'DELETE' etc
are not needed anymore since controller are
directly used and the req don't need to set any value
for request's body.

This patch focus on access_ips, quota_classes and
server_start_stop.

Partially implements blueprint v2-on-v3-api

Change-Id: I8c6924b5fcde5ef28f6b5d57407db94c3b8c638d
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/147204/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/contrib/test_access_ips.py', 'nova/tests/unit/api/openstack/compute/contrib/test_quota_classes.py', 'nova/tests/unit/api/openstack/compute/contrib/test_server_start_stop.py']",3,b2501c592703e661f89a2e0221b839484df1b0b2,bp/v2-on-v3-api," self.req = fakes.HTTPRequest.blank('') self.controller._start_server(self.req, 'test_inst', body) self.req, 'test_inst', body) self.controller._start_server, self.req, 'test_inst', body) self.controller._start_server, self.req, 'test_inst', body) self.controller._start_server, self.req, 'test_inst', body) self.controller._stop_server(self.req, 'test_inst', body) self.req, 'test_inst', body) self.controller._stop_server, self.req, 'test_inst', body) self.controller._stop_server, self.req, 'test_inst', body) self.controller._stop_server, self.req, 'test_inst', body) self.controller._start_server, self.req, 'test_inst', body) self.controller._stop_server, self.req, 'test_inst', body)"," req = fakes.HTTPRequest.blank('/v2/fake/servers/test_inst/action') self.controller._start_server(req, 'test_inst', body) req = fakes.HTTPRequest.blank('/v2/fake/servers/test_inst/action') req, 'test_inst', body) req = fakes.HTTPRequest.blank('/v2/fake/servers/test_inst/action') self.controller._start_server, req, 'test_inst', body) req = fakes.HTTPRequest.blank('/v2/fake/servers/test_inst/action') self.controller._start_server, req, 'test_inst', body) req = fakes.HTTPRequest.blank('/v2/fake/servers/test_inst/action') self.controller._start_server, req, 'test_inst', body) req = fakes.HTTPRequest.blank('/v2/fake/servers/test_inst/action') self.controller._stop_server(req, 'test_inst', body) req = fakes.HTTPRequest.blank('/v2/fake/servers/test_inst/action') req, 'test_inst', body) req = fakes.HTTPRequest.blank('/v2/fake/servers/test_inst/action') self.controller._stop_server, req, 'test_inst', body) req = fakes.HTTPRequest.blank('/v2/fake/servers/test_inst/action') self.controller._stop_server, req, 'test_inst', body) req = fakes.HTTPRequest.blank('/v2/fake/servers/test_inst/action') self.controller._stop_server, req, 'test_inst', body) req = fakes.HTTPRequest.blank('/v2/fake/servers/test_inst/action') self.controller._start_server, req, 'test_inst', body) req = fakes.HTTPRequest.blank('/v2/fake/servers/test_inst/action') self.controller._stop_server, req, 'test_inst', body)",28,70
openstack%2Fopenstack-ansible~master~I532b248e5eacc892e27cc56bfcdaa0ca4e2703e0,openstack/openstack-ansible,master,I532b248e5eacc892e27cc56bfcdaa0ca4e2703e0,Adding default values for image and flavor.,MERGED,2015-02-02 16:11:52.000000000,2015-02-02 18:10:48.000000000,2015-02-02 17:43:01.000000000,"[{'_account_id': 3}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-02-02 16:11:52.000000000', 'files': ['scripts/rpc-aio-rax-heat-template.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a98e478d2363c341722ffb45a7a024ab17a56c18', 'message': 'Adding default values for image and flavor.\n\nDefaulting to standard options for image and flavor selections. Also\nproviding a list of allowed_values, to present a dropdown if a user is\ngoing through the UI.\n\nChange-Id: I532b248e5eacc892e27cc56bfcdaa0ca4e2703e0\n'}]",0,152169,a98e478d2363c341722ffb45a7a024ab17a56c18,8,4,1,1032,,,0,"Adding default values for image and flavor.

Defaulting to standard options for image and flavor selections. Also
providing a list of allowed_values, to present a dropdown if a user is
going through the UI.

Change-Id: I532b248e5eacc892e27cc56bfcdaa0ca4e2703e0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/69/152169/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/rpc-aio-rax-heat-template.yml'],1,a98e478d2363c341722ffb45a7a024ab17a56c18,add_rax_heat_constraints, default: Ubuntu 12.04 LTS (Precise Pangolin) (PVHVM) constraints: - allowed_values: - Ubuntu 12.04 LTS (Precise Pangolin) (PVHVM) - Ubuntu 12.04 LTS (Precise Pangolin) description: Must be a supported operating system. default: 8 GB Performance constraints: - allowed_values: - 8 GB General Purpose v1 - 15 GB General Purpose v1 - 30 GB General Purpose v1 - 15 GB I/O v1 - 30 GB I/O v1 - 8 GB Standard Instance - 15 GB Standard Instance - 30 GB Standard Instance - 8 GB Performance - 15 GB Performance - 30 GB Performance description: Must be a valid flavor.,,21,0
openstack%2Fpython-keystoneclient~master~I907187d34ebf2c2e662ff7b9547b0ecaef008414,openstack/python-keystoneclient,master,I907187d34ebf2c2e662ff7b9547b0ecaef008414,Docstring usability improvements,MERGED,2014-10-12 23:51:02.000000000,2015-02-02 18:04:19.000000000,2015-02-02 18:04:18.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 2903}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 7725}, {'_account_id': 8871}, {'_account_id': 9142}, {'_account_id': 13055}, {'_account_id': 13140}, {'_account_id': 13478}]","[{'number': 1, 'created': '2014-10-12 23:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/9cbce4ed59bbf2fdb5417973402dfa63b6caa63a', 'message': ""Docstring usability improvements\n\nThe generated docs didn't provide enough information for a developer\nto get started using the API. This change enhances the documentation\nfor the module so that a developer knows where to go to start (create\na Client).\n\nChange-Id: I907187d34ebf2c2e662ff7b9547b0ecaef008414\n""}, {'number': 2, 'created': '2014-10-12 23:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/7dac37d9380663a5583de05abd7c759eebf8822a', 'message': ""Docstring usability improvements\n\nThe generated docs didn't provide enough information for a developer\nto get started using the API. This change enhances the documentation\nfor the module so that a developer knows where to go to start (create\na Client).\n\nChange-Id: I907187d34ebf2c2e662ff7b9547b0ecaef008414\n""}, {'number': 3, 'created': '2014-10-18 22:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/f6f78249189db9198d6ba9fce0ed15a6bc55c7a2', 'message': ""Docstring usability improvements\n\nThe generated docs didn't provide enough information for a developer\nto get started using the API. This change enhances the documentation\nfor the module so that a developer knows where to go to start (create\na Client).\n\nChange-Id: I907187d34ebf2c2e662ff7b9547b0ecaef008414\n""}, {'number': 4, 'created': '2014-11-19 23:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/6976ccadd82f499fe077e21dd54307bcecd5f8e7', 'message': ""Docstring usability improvements\n\nThe generated docs didn't provide enough information for a developer\nto get started using the API. This change enhances the documentation\nfor the module so that a developer knows where to go to start (create\na Client).\n\nChange-Id: I907187d34ebf2c2e662ff7b9547b0ecaef008414\n""}, {'number': 5, 'created': '2015-01-05 18:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/4342edbeba826da44101b66f82493d7c50f61591', 'message': ""Docstring usability improvements\n\nThe generated docs didn't provide enough information for a developer\nto get started using the API. This change enhances the documentation\nfor the module so that a developer knows where to go to start (create\na Client).\n\nChange-Id: I907187d34ebf2c2e662ff7b9547b0ecaef008414\n""}, {'number': 6, 'created': '2015-01-07 19:45:12.000000000', 'files': ['keystoneclient/__init__.py', 'keystoneclient/client.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/3568acb61732d1ce090b41e2c991307a257070db', 'message': ""Docstring usability improvements\n\nThe generated docs didn't provide enough information for a developer\nto get started using the API. This change enhances the documentation\nfor the module so that a developer knows where to go to start (create\na Client).\n\nPartial-Bug: #1330769\nChange-Id: I907187d34ebf2c2e662ff7b9547b0ecaef008414\n""}]",12,127856,3568acb61732d1ce090b41e2c991307a257070db,52,11,6,6486,,,0,"Docstring usability improvements

The generated docs didn't provide enough information for a developer
to get started using the API. This change enhances the documentation
for the module so that a developer knows where to go to start (create
a Client).

Partial-Bug: #1330769
Change-Id: I907187d34ebf2c2e662ff7b9547b0ecaef008414
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/56/127856/5 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/__init__.py', 'keystoneclient/client.py']",2,9cbce4ed59bbf2fdb5417973402dfa63b6caa63a,bug/1330769," The returned client will be either a V3 or V2 client. Check the version using the :py:attr:`~keystoneclient.v3.client.Client.version` property or the instance's class (with instanceof). specify the 3.1 API use ``(3, 1)``. :param session: A session object to be used for communication. If one is not provided it will be constructed from the provided kwargs. (optional) :type session: keystoneclient.session.Session :rtype: :py:class:`keystoneclient.v3.client.Client` or :py:class:`keystoneclient.v2_0.client.Client` :raises keystoneclient.exceptions.DiscoveryFailure: if the server's response is invalid. :raises keystoneclient.exceptions.VersionNotAvailable: if a suitable client cannot be found."," specify the 3.1 API use (3, 1). :param Session session: A session object to be used for communication. If one is not provided it will be constructed from the provided kwargs. (optional) (keystoneclient.v2_0.Client or keystoneclient.v3.Client). :raises: DiscoveryFailure if the server's response is invalid :raises: VersionNotAvailable if a suitable client cannot be found.",23,9
openstack%2Ftripleo-ci~master~I4015e444af73fa358fccc9b7a46968e4594313da,openstack/tripleo-ci,master,I4015e444af73fa358fccc9b7a46968e4594313da,Switch to x86_64 Fedora image,MERGED,2015-02-02 15:13:24.000000000,2015-02-02 17:56:31.000000000,2015-02-02 16:51:53.000000000,"[{'_account_id': 3}, {'_account_id': 1926}, {'_account_id': 7144}, {'_account_id': 9453}]","[{'number': 1, 'created': '2015-02-02 15:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bfe1a31dd556b205df374f59f079afcc3cf81853', 'message': 'Switch to x86_64 Fedora image\n\nThe Test envs are now providing amd84 VMs.\n\nChange-Id: I4015e444af73fa358fccc9b7a46968e4594313da\n'}, {'number': 2, 'created': '2015-02-02 16:40:50.000000000', 'files': ['toci_gate_test.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1e6826bf17610ae05f3d997ce0bafc5febc96c63', 'message': 'Switch to x86_64 Fedora image\n\nThe Test envs are now providing amd64 VMs.\n\nChange-Id: I4015e444af73fa358fccc9b7a46968e4594313da'}]",1,152147,1e6826bf17610ae05f3d997ce0bafc5febc96c63,15,4,2,1926,,,0,"Switch to x86_64 Fedora image

The Test envs are now providing amd64 VMs.

Change-Id: I4015e444af73fa358fccc9b7a46968e4594313da",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/47/152147/1 && git format-patch -1 --stdout FETCH_HEAD,['toci_gate_test.sh'],1,bfe1a31dd556b205df374f59f079afcc3cf81853,," FEDORA_IMAGE=$(wget -q http://dl.fedoraproject.org/pub/fedora/linux/updates/20/Images/x86_64/ -O - | grep -o -E 'href=""([^""#]+qcow2)""' | cut -d'""' -f2) wget --progress=dot:mega http://dl.fedoraproject.org/pub/fedora/linux/updates/20/Images/x86_64/$FEDORA_IMAGE"," FEDORA_IMAGE=$(wget -q http://dl.fedoraproject.org/pub/fedora/linux/updates/20/Images/i386/ -O - | grep -o -E 'href=""([^""#]+qcow2)""' | cut -d'""' -f2) wget --progress=dot:mega http://dl.fedoraproject.org/pub/fedora/linux/updates/20/Images/i386/$FEDORA_IMAGE",2,2
openstack%2Fnova~master~I5fe718a5062ad8cc89adf1fd9983f4f1b491361d,openstack/nova,master,I5fe718a5062ad8cc89adf1fd9983f4f1b491361d,Make test re-use HTTPRequest part 2,MERGED,2015-01-14 14:55:38.000000000,2015-02-02 17:53:45.000000000,2015-02-02 17:53:42.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9545}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 11189}]","[{'number': 1, 'created': '2015-01-14 14:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/639c131567e7c93344cb653175a4d22cefa0eab9', 'message': ""Make test re-use HTTPReuqest\n\nWe are using the controller to do test instead of\nwsgi URI now, the HTTPRequest is only a fake value\nand mostly is not used. Make test class reuse\nthe Request to remove code complication.\nAlso, some method set such as 'POST', 'DELETE' etc\nare not needed anymore since controller are\ndirectly used.\n\nThis patch focus on agents, cloudpipe,\ncloudpipe_update and certificates.\n\nChange-Id: I5fe718a5062ad8cc89adf1fd9983f4f1b491361d\n""}, {'number': 2, 'created': '2015-01-14 15:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94d45da789ac07f7ff08e87887e3851dea8e5f72', 'message': ""Make test re-use HTTPReuqest part 2\n\nWe are using the controller to do test instead of\nwsgi URI now, the HTTPRequest is only a fake value\nand mostly is not used. Make test class reuse\nthe Request to remove code complication.\nAlso, some method set such as 'POST', 'DELETE' etc\nare not needed anymore since controller are\ndirectly used.\n\nThis patch focus on agents, cloudpipe,\ncloudpipe_update and certificates.\n\nChange-Id: I5fe718a5062ad8cc89adf1fd9983f4f1b491361d\n""}, {'number': 3, 'created': '2015-01-14 15:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70b0d33456a00392af9bcd9537b26779322a39e1', 'message': ""Make test re-use HTTPReuqest part 2\n\nWe are using the controller to do test instead of\nwsgi URI now, the HTTPRequest is only a fake value\nand mostly is not used. Make test class reuse\nthe Request to remove code complication.\nAlso, some method set such as 'POST', 'DELETE' etc\nare not needed anymore since controller are\ndirectly used.\n\nThis patch focus on agents, cloudpipe,\ncloudpipe_update and certificates.\n\nPartially implements blueprint v2-on-v3-api\nChange-Id: I5fe718a5062ad8cc89adf1fd9983f4f1b491361d\n""}, {'number': 4, 'created': '2015-01-23 13:38:48.000000000', 'files': ['nova/tests/unit/api/openstack/compute/contrib/test_cloudpipe.py', 'nova/tests/unit/api/openstack/compute/contrib/test_cloudpipe_update.py', 'nova/tests/unit/api/openstack/compute/contrib/test_agents.py', 'nova/tests/unit/api/openstack/compute/contrib/test_certificates.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d5840d602559cff276f49c19931202d853cbd05c', 'message': ""Make test re-use HTTPRequest part 2\n\nWe are using the controller to do test instead of\nwsgi URI now, the HTTPRequest is only a fake value\nand mostly is not used. Make test class reuse\nthe Request to remove code complication.\nAlso, some method set such as 'POST', 'DELETE' etc\nare not needed anymore since controller are\ndirectly used.\n\nThis patch focus on agents, cloudpipe,\ncloudpipe_update and certificates.\n\nPartially implements blueprint v2-on-v3-api\nChange-Id: I5fe718a5062ad8cc89adf1fd9983f4f1b491361d\n""}]",3,147190,d5840d602559cff276f49c19931202d853cbd05c,31,13,4,6062,,,0,"Make test re-use HTTPRequest part 2

We are using the controller to do test instead of
wsgi URI now, the HTTPRequest is only a fake value
and mostly is not used. Make test class reuse
the Request to remove code complication.
Also, some method set such as 'POST', 'DELETE' etc
are not needed anymore since controller are
directly used.

This patch focus on agents, cloudpipe,
cloudpipe_update and certificates.

Partially implements blueprint v2-on-v3-api
Change-Id: I5fe718a5062ad8cc89adf1fd9983f4f1b491361d
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/147190/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/contrib/test_cloudpipe.py', 'nova/tests/unit/api/openstack/compute/contrib/test_cloudpipe_update.py', 'nova/tests/unit/api/openstack/compute/contrib/test_agents.py', 'nova/tests/unit/api/openstack/compute/contrib/test_certificates.py']",4,639c131567e7c93344cb653175a4d22cefa0eab9,bp/v2-on-v3-api," self.req = fakes.HTTPRequest.blank('') res_dict = self.controller.show(self.req, 'root') self.controller.show, self.req, 'root') res_dict = self.controller.create(self.req) self.controller.create, self.req) self.req, 'root')"," req = fakes.HTTPRequest.blank(self.url + '/root') res_dict = self.controller.show(req, 'root') req = fakes.HTTPRequest.blank(self.url + '/root') self.controller.show, req, 'root') req = fakes.HTTPRequest.blank(self.url) res_dict = self.controller.create(req) req = fakes.HTTPRequest.blank(self.url) self.controller.create, req) req = fakes.HTTPRequest.blank(self.url + '/root') req, 'root')",35,65
openstack%2Fpuppet-ceph~master~I7a91a6d6627d71f589f1393b0c2cd6e4e38ad0a6,openstack/puppet-ceph,master,I7a91a6d6627d71f589f1393b0c2cd6e4e38ad0a6,Switch to metadata.json for Puppet forge releases,MERGED,2014-10-01 01:17:28.000000000,2015-02-02 17:53:30.000000000,2015-02-02 17:53:27.000000000,"[{'_account_id': 3}, {'_account_id': 2064}, {'_account_id': 6554}, {'_account_id': 7155}, {'_account_id': 8482}, {'_account_id': 9133}, {'_account_id': 11479}]","[{'number': 1, 'created': '2014-10-01 01:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/b42ed85ae7426900d9e851a4a5a9a2fc6c603db9', 'message': 'Switch to metadata.json for Puppet forge releases\n\nSince puppet 3.x, Puppet Labs Forge accept only the metadata.json file\nfor module description (Modulefile is now deprecated). This patch\nconvert the Modulefile to metadata.json.\n\nChange-Id: I7a91a6d6627d71f589f1393b0c2cd6e4e38ad0a6\n'}, {'number': 2, 'created': '2014-10-24 16:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/84bc241bdd40389cae38534314a243acb3e0595a', 'message': 'Switch to metadata.json for Puppet forge releases\n\nSince puppet 3.x, Puppet Labs Forge accept only the metadata.json file\nfor module description (Modulefile is now deprecated).\n\nThis patch :\n - convert the Modulefile to metadata.json.\n - switch to stackforge namespace.\n - relax pe version_requirement to 3.x.\n\nChange-Id: I7a91a6d6627d71f589f1393b0c2cd6e4e38ad0a6\n'}, {'number': 3, 'created': '2015-02-02 14:48:25.000000000', 'files': ['metadata.json', '.gitignore', 'Modulefile'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/0dbce0d980e334361f9f8b46c632886d4285d921', 'message': 'Switch to metadata.json for Puppet forge releases\n\nSince puppet 3.x, Puppet Labs Forge accept only the metadata.json file\nfor module description (Modulefile is now deprecated).\n\nThis patch :\n - convert the Modulefile to metadata.json.\n - switch to stackforge namespace.\n - relax pe version_requirement to 3.x.\n - switch to SPDX license name.\n - fix open ended module dependency versions.\n\nChange-Id: I7a91a6d6627d71f589f1393b0c2cd6e4e38ad0a6\n'}]",2,125248,0dbce0d980e334361f9f8b46c632886d4285d921,30,7,3,7155,,,0,"Switch to metadata.json for Puppet forge releases

Since puppet 3.x, Puppet Labs Forge accept only the metadata.json file
for module description (Modulefile is now deprecated).

This patch :
 - convert the Modulefile to metadata.json.
 - switch to stackforge namespace.
 - relax pe version_requirement to 3.x.
 - switch to SPDX license name.
 - fix open ended module dependency versions.

Change-Id: I7a91a6d6627d71f589f1393b0c2cd6e4e38ad0a6
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/48/125248/2 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', '.gitignore', 'Modulefile']",3,b42ed85ae7426900d9e851a4a5a9a2fc6c603db9,metadata,,"name 'stackforge-ceph' version '0.0.1' source 'https://github.com/stackforge/puppet-ceph' author 'Puppet Ceph community' license 'Apache License 2.0' summary 'Community Developed Ceph Module' description 'Puppet module to install and configure Ceph' project_page 'https://launchpad.net/puppet-ceph' dependency 'puppetlabs/inifile', '>=1.0.0 <2.0.0' dependency 'puppetlabs/stdlib', '>= 2.5.0' dependency 'puppetlabs/apt', '>= 1.4.0'",39,14
openstack%2Fnova~master~I2173d9bddf894cbf7e56bb091421b6569766e9dc,openstack/nova,master,I2173d9bddf894cbf7e56bb091421b6569766e9dc,libvirt: assume image_meta is non-None in blockinfo module,MERGED,2014-12-19 11:48:49.000000000,2015-02-02 17:48:36.000000000,2015-02-02 17:48:33.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 8543}, {'_account_id': 8802}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 14358}]","[{'number': 1, 'created': '2014-12-19 11:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ce4509fd9df596a818f6fd9f87ab4b1860a39b9', 'message': 'libvirt: assume image_meta is non-None in blockinfo module\n\nNow that all callers are passing in image_meta correctly, all\nfunctions can assume it is non-None. There is fallout in the\ntest suite which was passing bogus data for many calls.\n\nRelated-bug: #1404196\nChange-Id: I2173d9bddf894cbf7e56bb091421b6569766e9dc\n'}, {'number': 2, 'created': '2014-12-19 13:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cbfdf540891fd5e747de7d56cab2d3d4184e3506', 'message': 'libvirt: assume image_meta is non-None in blockinfo module\n\nNow that all callers are passing in image_meta correctly, all\nfunctions can assume it is non-None. There is fallout in the\ntest suite which was passing bogus data for many calls.\n\nRelated-bug: #1404196\nChange-Id: I2173d9bddf894cbf7e56bb091421b6569766e9dc\n'}, {'number': 3, 'created': '2015-01-12 18:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02dae1ee53f369bbb3a765a1458318fd55054f5d', 'message': 'libvirt: assume image_meta is non-None in blockinfo module\n\nNow that all callers are passing in image_meta correctly, all\nfunctions can assume it is non-None. There is fallout in the\ntest suite which was passing bogus data for many calls.\n\nRelated-bug: #1404196\nChange-Id: I2173d9bddf894cbf7e56bb091421b6569766e9dc\n'}, {'number': 4, 'created': '2015-01-19 16:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b371066f8f19ab649413769b33dc221d2b3e99e', 'message': 'libvirt: assume image_meta is non-None in blockinfo module\n\nNow that all callers are passing in image_meta correctly, all\nfunctions can assume it is non-None. There is fallout in the\ntest suite which was passing bogus data for many calls.\n\nRelated-bug: #1404196\nChange-Id: I2173d9bddf894cbf7e56bb091421b6569766e9dc\n'}, {'number': 5, 'created': '2015-01-19 18:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83823fa92afc293407f2cf182b325909e8add943', 'message': 'libvirt: assume image_meta is non-None in blockinfo module\n\nNow that all callers are passing in image_meta correctly, all\nfunctions can assume it is non-None. There is fallout in the\ntest suite which was passing bogus data for many calls.\n\nRelated-bug: #1404196\nChange-Id: I2173d9bddf894cbf7e56bb091421b6569766e9dc\n'}, {'number': 6, 'created': '2015-01-22 11:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f671684b274b3340f56d1cd28abb9bf4f71c884', 'message': 'libvirt: assume image_meta is non-None in blockinfo module\n\nNow that all callers are passing in image_meta correctly, all\nfunctions can assume it is non-None. There is fallout in the\ntest suite which was passing bogus data for many calls.\n\nRelated-bug: #1404196\nChange-Id: I2173d9bddf894cbf7e56bb091421b6569766e9dc\n'}, {'number': 7, 'created': '2015-01-26 12:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c2fd85830c5a710d81e3622ec642191981fd0a1', 'message': 'libvirt: assume image_meta is non-None in blockinfo module\n\nNow that all callers are passing in image_meta correctly, all\nfunctions can assume it is non-None. There is fallout in the\ntest suite which was passing bogus data for many calls.\n\nRelated-bug: #1404196\nChange-Id: I2173d9bddf894cbf7e56bb091421b6569766e9dc\n'}, {'number': 8, 'created': '2015-01-26 13:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4dcffbd75b63152f28c63b06fbf1c7c157da7a4a', 'message': 'libvirt: assume image_meta is non-None in blockinfo module\n\nNow that all callers are passing in image_meta correctly, all\nfunctions can assume it is non-None. There is fallout in the\ntest suite which was passing bogus data for many calls.\n\nRelated-bug: #1404196\nChange-Id: I2173d9bddf894cbf7e56bb091421b6569766e9dc\n'}, {'number': 9, 'created': '2015-01-26 16:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee4a4f41887562e4813530b29c3b345ea546b525', 'message': 'libvirt: assume image_meta is non-None in blockinfo module\n\nNow that all callers are passing in image_meta correctly, all\nfunctions can assume it is non-None. There is fallout in the\ntest suite which was passing bogus data for many calls.\n\nRelated-bug: #1404196\nChange-Id: I2173d9bddf894cbf7e56bb091421b6569766e9dc\n'}, {'number': 10, 'created': '2015-01-27 12:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/383b171d4b85295d61f925fe2c5bfaf2a0c6d450', 'message': 'libvirt: assume image_meta is non-None in blockinfo module\n\nNow that all callers are passing in image_meta correctly, all\nfunctions can assume it is non-None. There is fallout in the\ntest suite which was passing bogus data for many calls.\n\nRelated-bug: #1404196\nChange-Id: I2173d9bddf894cbf7e56bb091421b6569766e9dc\n'}, {'number': 11, 'created': '2015-01-29 10:51:00.000000000', 'files': ['nova/virt/libvirt/blockinfo.py', 'nova/tests/unit/virt/libvirt/test_blockinfo.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/68a464ccdb78e1e7d22be880acb35eb398ceaf38', 'message': 'libvirt: assume image_meta is non-None in blockinfo module\n\nNow that all callers are passing in image_meta correctly, all\nfunctions can assume it is non-None. There is fallout in the\ntest suite which was passing bogus data for many calls.\n\nRelated-bug: #1404196\nChange-Id: I2173d9bddf894cbf7e56bb091421b6569766e9dc\n'}]",0,143055,68a464ccdb78e1e7d22be880acb35eb398ceaf38,79,15,11,1779,,,0,"libvirt: assume image_meta is non-None in blockinfo module

Now that all callers are passing in image_meta correctly, all
functions can assume it is non-None. There is fallout in the
test suite which was passing bogus data for many calls.

Related-bug: #1404196
Change-Id: I2173d9bddf894cbf7e56bb091421b6569766e9dc
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/143055/9 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/blockinfo.py', 'nova/tests/unit/virt/libvirt/test_blockinfo.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,7ce4509fd9df596a818f6fd9f87ab4b1860a39b9,virtimageprops-5," image_meta = {} conn.spawn(self.context, instance, image_meta, [], 'herp', image_meta = {} conn.spawn(self.context, instance, image_meta, [], None) image_meta = {} conn.spawn(self.context, instance, image_meta, [], None, conn.spawn(self.context, instance, image_meta, [], None, conn.spawn(self.context, instance, image_meta, [], None) image_meta = {} conn.spawn(self.context, inst_obj, image_meta, [], None, image_meta = {} conn.spawn(self.context, instance, image_meta, [], None) image_meta = {} disk_info_text, [], image_meta, self.stubs.Set(compute_utils, 'get_image_metadata', lambda *a: {})"," conn.spawn(self.context, instance, None, [], 'herp', conn.spawn(self.context, instance, None, [], None) conn.spawn(self.context, instance, None, [], None, conn.spawn(self.context, instance, None, [], None, conn.spawn(self.context, instance, None, [], None) conn.spawn(self.context, inst_obj, None, [], None, conn.spawn(self.context, instance, None, [], None) disk_info_text, [], None, self.stubs.Set(compute_utils, 'get_image_metadata', lambda *a: None)",30,22
openstack%2Fnova~master~I6aacab30d2a7cf8393df4f2bc6947aad6d90b939,openstack/nova,master,I6aacab30d2a7cf8393df4f2bc6947aad6d90b939,Adds common policy authorizer helper functions for Nova V2.1 API,MERGED,2014-12-22 08:20:47.000000000,2015-02-02 17:48:13.000000000,2015-02-02 17:48:09.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 11189}, {'_account_id': 12175}, {'_account_id': 14103}]","[{'number': 1, 'created': '2014-12-22 08:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab22c20e702a2857451bcc59849b56bba4af837d', 'message': 'Adds common policy authorizer helper function for Nova V2.1 API\n\nThis patches adds common function for getting policy authorizer for\nNova V2.1 API. This is used for rename the prefix of policy rule at\nlater.\n\nAnd adds note to developer to clear some old policy authorizer helper\nfunction will be depreciated in the future.\n\nPartially implements blueprint v3-api-policy\n\nChange-Id: I6aacab30d2a7cf8393df4f2bc6947aad6d90b939\n'}, {'number': 2, 'created': '2014-12-22 08:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/01c0d21c7c6bd646889b7cc403c344c2835b6a0b', 'message': 'Adds common policy authorizer helper function for Nova V2.1 API\n\nThis patches adds common function for getting policy authorizer for\nNova V2.1 API. This is used for rename the prefix of policy rule at\nlater.\n\nAnd adds note to developer to clear some old policy authorizer helper\nfunction will be depreciated in the future.\n\nPartially implements blueprint v3-api-policy\n\nChange-Id: I6aacab30d2a7cf8393df4f2bc6947aad6d90b939\n'}, {'number': 3, 'created': '2014-12-24 05:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e39840c2f2ab073a40fa0c1a792db440a2ef7c5', 'message': 'Adds common policy authorizer helper function for Nova V2.1 API\n\nThis patches adds common function for getting policy authorizer for\nNova V2.1 API. This is used for rename the prefix of policy rule at\nlater.\n\nAnd adds note to developer to clear some old policy authorizer helper\nfunction will be depreciated in the future.\n\nPartially implements blueprint v3-api-policy\n\nChange-Id: I6aacab30d2a7cf8393df4f2bc6947aad6d90b939\n'}, {'number': 4, 'created': '2014-12-24 05:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a89740ebcd9ac66bde12e6da70606a39a596963', 'message': 'Adds common policy authorizer helper functions for Nova V2.1 API\n\nThis patch adds common function for getting policy authorizer for\nNova V2.1 API. This is used for rename the prefix of policy rule later.\n\nAnd adds note to developer to clear some old policy authorizer helper\nfunction will be depreciated in the future.\n\nPartially implements blueprint v3-api-policy\n\nChange-Id: I6aacab30d2a7cf8393df4f2bc6947aad6d90b939\n'}, {'number': 5, 'created': '2014-12-24 06:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86021311a31850e3730ecb0677b0e03ceadbb500', 'message': 'Adds common policy authorizer helper functions for Nova V2.1 API\n\nThis patch adds common function for getting policy authorizer for\nNova V2.1 API. This is used for rename the prefix of policy rule later.\n\nAnd adds note to developer to clear some old policy authorizer helper\nfunction will be depreciated in the future.\n\nPartially implements blueprint v3-api-policy\n\nChange-Id: I6aacab30d2a7cf8393df4f2bc6947aad6d90b939\n'}, {'number': 6, 'created': '2015-01-05 07:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fbe5df0806dc43a6eeb5e71e1e0752ed16e57de1', 'message': 'Adds common policy authorizer helper functions for Nova V2.1 API\n\nThis patch adds common function for getting policy authorizer for\nNova V2.1 API. This is used for rename the prefix of policy rule later.\n\nAnd adds note to developer to clear some old policy authorizer helper\nfunction will be depreciated in the future.\n\nPartially implements blueprint v3-api-policy\n\nChange-Id: I6aacab30d2a7cf8393df4f2bc6947aad6d90b939\n'}, {'number': 7, 'created': '2015-01-05 08:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad987aebd79793736e4b4c390cd1c67f289e42b4', 'message': 'Adds common policy authorizer helper functions for Nova V2.1 API\n\nThis patch adds common function for getting policy authorizer for\nNova V2.1 API. This is used for rename the prefix of policy rule later.\n\nAnd adds note to developer to clear some old policy authorizer helper\nfunction will be depreciated in the future.\n\nPartially implements blueprint v3-api-policy\n\nChange-Id: I6aacab30d2a7cf8393df4f2bc6947aad6d90b939\n'}, {'number': 8, 'created': '2015-01-06 08:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8dada4a29eeb948b2b81691a3f1a744e5040e784', 'message': 'Adds common policy authorizer helper functions for Nova V2.1 API\n\nThis patch adds common function for getting policy authorizer for\nNova V2.1 API. This is used for rename the prefix of policy rule later.\n\nAnd adds note to developer to clear some old policy authorizer helper\nfunction will be depreciated in the future.\n\nPartially implements blueprint v3-api-policy\n\nChange-Id: I6aacab30d2a7cf8393df4f2bc6947aad6d90b939\n'}, {'number': 9, 'created': '2015-01-14 05:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ad23d0081479961b4cdaf564d89a67243d70f2d', 'message': 'Adds common policy authorizer helper functions for Nova V2.1 API\n\nThis patch adds common function for getting policy authorizer for\nNova V2.1 API. This is used for rename the prefix of policy rule later.\n\nAnd adds note to developer to clear some old policy authorizer helper\nfunction will be depreciated in the future.\n\nPartially implements blueprint v3-api-policy\n\nChange-Id: I6aacab30d2a7cf8393df4f2bc6947aad6d90b939\n'}, {'number': 10, 'created': '2015-01-19 03:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/247c537c0a59791d60095d689b3bcb1ea8ea2e03', 'message': 'Adds common policy authorizer helper functions for Nova V2.1 API\n\nThis patch adds common function for getting policy authorizer for\nNova V2.1 API. This is used for rename the prefix of policy rule later.\n\nAnd adds note to developer to clear some old policy authorizer helper\nfunction will be depreciated in the future.\n\nPartially implements blueprint v3-api-policy\n\nChange-Id: I6aacab30d2a7cf8393df4f2bc6947aad6d90b939\n'}, {'number': 11, 'created': '2015-01-20 07:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d2a0668eaaae15aa55e88c50c817cf6e1303332', 'message': 'Adds common policy authorizer helper functions for Nova V2.1 API\n\nThis patch adds common function for getting policy authorizer for\nNova V2.1 API. This is used for rename the prefix of policy rule later.\n\nAnd adds note to developer to clear some old policy authorizer helper\nfunction will be depreciated in the future.\n\nPartially implements blueprint v3-api-policy\n\nChange-Id: I6aacab30d2a7cf8393df4f2bc6947aad6d90b939\n'}, {'number': 12, 'created': '2015-01-22 03:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0efb64e0b2e0e1b8072b8dbc9f8fb59962a26377', 'message': 'Adds common policy authorizer helper functions for Nova V2.1 API\n\nThis patch adds common function for getting policy authorizer for\nNova V2.1 API. This is used for rename the prefix of policy rule later.\n\nAnd adds note to developer to clear some old policy authorizer helper\nfunction will be depreciated in the future.\n\nPartially implements blueprint v3-api-policy\n\nChange-Id: I6aacab30d2a7cf8393df4f2bc6947aad6d90b939\n'}, {'number': 13, 'created': '2015-01-22 14:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2ad02e166322456dfa64e9d923a20d3ea464142', 'message': 'Adds common policy authorizer helper functions for Nova V2.1 API\n\nThis patch adds common function for getting policy authorizer for\nNova V2.1 API. This is used for rename the prefix of policy rule later.\n\nAnd adds note to developer to clear some old policy authorizer helper\nfunction will be depreciated in the future.\n\nPartially implements blueprint v3-api-policy\n\nChange-Id: I6aacab30d2a7cf8393df4f2bc6947aad6d90b939\n'}, {'number': 14, 'created': '2015-01-23 03:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9e5bf488b27ed7fd5c19ed15ccc8f0982078533', 'message': 'Adds common policy authorizer helper functions for Nova V2.1 API\n\nThis patch adds common function for getting policy authorizer for\nNova V2.1 API. This is used for rename the prefix of policy rule later.\n\nAnd adds note to developer to clear some old policy authorizer helper\nfunction will be depreciated in the future.\n\nPartially implements blueprint v3-api-policy\n\nChange-Id: I6aacab30d2a7cf8393df4f2bc6947aad6d90b939\n'}, {'number': 15, 'created': '2015-01-23 05:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97800f0bb904eab525dfcd5d04af604e1ddbab77', 'message': 'Adds common policy authorizer helper functions for Nova V2.1 API\n\nThis patch adds common function for getting policy authorizer for\nNova V2.1 API. This is used for rename the prefix of policy rule later.\n\nAnd adds note to developer to clear some old policy authorizer helper\nfunction will be depreciated in the future.\n\nPartially implements blueprint v3-api-policy\n\nChange-Id: I6aacab30d2a7cf8393df4f2bc6947aad6d90b939\n'}, {'number': 16, 'created': '2015-01-23 07:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f052ba9795abc04b101d66ba6a2515173937113a', 'message': 'Adds common policy authorizer helper functions for Nova V2.1 API\n\nThis patch adds common function for getting policy authorizer for\nNova V2.1 API. This is used for rename the prefix of policy rule later.\n\nAnd adds note to developer to clear some old policy authorizer helper\nfunction will be depreciated in the future.\n\nPartially implements blueprint v3-api-policy\n\nChange-Id: I6aacab30d2a7cf8393df4f2bc6947aad6d90b939\n'}, {'number': 17, 'created': '2015-01-25 11:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0071480c9e211ce26e69152fd1d7ea66b83dc4fa', 'message': 'Adds common policy authorizer helper functions for Nova V2.1 API\n\nThis patch adds common function for getting policy authorizer for\nNova V2.1 API. This is used for rename the prefix of policy rule later.\n\nAnd adds note to developer to clear some old policy authorizer helper\nfunction will be depreciated in the future.\n\nPartially implements blueprint v3-api-policy\n\nChange-Id: I6aacab30d2a7cf8393df4f2bc6947aad6d90b939\n'}, {'number': 18, 'created': '2015-01-28 06:40:43.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_extensions.py', 'nova/api/openstack/extensions.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4d052952cc8b2d0eff69ced89bd92ea42f306599', 'message': 'Adds common policy authorizer helper functions for Nova V2.1 API\n\nThis patch adds common function for getting policy authorizer for\nNova V2.1 API. This is used for renaming the prefix of policy rule later.\n\nAnd adds note to developer to clear some old policy authorizer helper\nfunction will be depreciated in the future.\n\nPartially implements blueprint v3-api-policy\n\nChange-Id: I6aacab30d2a7cf8393df4f2bc6947aad6d90b939\n'}]",28,143391,4d052952cc8b2d0eff69ced89bd92ea42f306599,124,16,18,5754,,,0,"Adds common policy authorizer helper functions for Nova V2.1 API

This patch adds common function for getting policy authorizer for
Nova V2.1 API. This is used for renaming the prefix of policy rule later.

And adds note to developer to clear some old policy authorizer helper
function will be depreciated in the future.

Partially implements blueprint v3-api-policy

Change-Id: I6aacab30d2a7cf8393df4f2bc6947aad6d90b939
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/143391/18 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_extensions.py', 'nova/api/openstack/extensions.py']",2,ab22c20e702a2857451bcc59849b56bba4af837d,bp/v3-api-policy,"# This will be depreciated after policy cleanup finished# This is only used for Nova V2 API, after v2 API depreciated, this will be # depreciated also.def _soft_authorizer(hard_authorizer, api_name, extension_name):# This is only used for Nova V2 API, after V2 API depreciated, this will be # depreciated also. def soft_extension_authorizer(api_name, extension_name): return _soft_authorizer(extension_authorizer, api_name, extension_name) # This will be depreciated after policy cleanup finished def soft_core_authorizer(api_name, extension_name): return _soft_authorizer(core_authorizer, api_name, extension_name) # This will be depreciated after ec2 old style policy removed in later release# NOTE(alex_xu): The functions os_compute_authorizer and # os_compute_soft_authorizer are used to policy enforcement for Openstack # Compute API, now we call it as Nova V2.1 REST API. Currently this function # still use the old policy rule name style as below: # core api: 'compute:v3:[extension]:[action]' # extension api: 'compute_extension:v3:[extension]:[action]' # # After the policy cleanup is finished, the policy rule name will be rename # to 'os_compute_api:[extension]:[action]'. And the parameter 'core' will be # deleted, because there isn't core or extension API in the future. def os_compute_authorizer(extension_name, core=False): if core: return core_authorizer('compute', 'v3:%s' % extension_name) else: return extension_authorizer('compute', 'v3:%s' % extension_name) def os_compute_soft_authorizer(extension_name, core=False): if core: return soft_core_authorizer('compute', 'v3:%s' % extension_name) else: return soft_extension_authorizer('compute', 'v3:%s' % extension_name) ","def soft_authorizer(hard_authorizer, api_name, extension_name):def soft_extension_authorizer(api_name, extension_name): return soft_authorizer(extension_authorizer, api_name, extension_name) def soft_core_authorizer(api_name, extension_name): return soft_authorizer(core_authorizer, api_name, extension_name) ",79,23
openstack%2Fnova~master~I0c38134e2aacca83d98ed0b341f15c480afe14f1,openstack/nova,master,I0c38134e2aacca83d98ed0b341f15c480afe14f1,Reject unsupported image to local BDM,MERGED,2014-10-06 14:16:51.000000000,2015-02-02 17:47:46.000000000,2015-02-02 17:47:42.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 5638}, {'_account_id': 8247}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10618}, {'_account_id': 11531}, {'_account_id': 13909}]","[{'number': 1, 'created': '2014-10-06 14:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2188297d678ae4f9b5968b719343599d8dd79403', 'message': 'Reject unsupported image to local BDM\n\nSpecifying image to local BDM at nova boot is not supported.\nThis patch adds a validation to the API to reject this not supported\nmapping.\n\nChange-Id: I0c38134e2aacca83d98ed0b341f15c480afe14f1\nCloses-bug: #1377958\n'}, {'number': 2, 'created': '2014-10-07 08:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49414f625a877dee06108386868ca0679635268d', 'message': 'Reject unsupported image to local BDM\n\nSpecifying image to local BDM at nova boot is not supported.\nThis patch adds a validation to the API to reject this not supported\nmapping.\n\nChange-Id: I0c38134e2aacca83d98ed0b341f15c480afe14f1\nCloses-bug: #1377958\n'}, {'number': 3, 'created': '2014-10-08 13:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f98643c51c2776a874abaeae726ade57309a1fb0', 'message': 'Reject unsupported image to local BDM\n\nSpecifying image to local BDM at nova boot is not supported.\nThis patch adds a validation to the API to reject this not supported\nmapping.\n\nCloses-bug: #1377958\nChange-Id: I0c38134e2aacca83d98ed0b341f15c480afe14f1\n'}, {'number': 4, 'created': '2014-10-08 15:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/682587efee5be829d7102b0f23f818c6a4793c4d', 'message': 'Reject unsupported image to local BDM\n\nSpecifying image to local BDM at nova boot is not supported.\nThis patch adds a validation to the API to reject this not supported\nmapping.\n\nCloses-bug: #1377958\nChange-Id: I0c38134e2aacca83d98ed0b341f15c480afe14f1\n'}, {'number': 5, 'created': '2014-12-08 13:59:15.000000000', 'files': ['nova/tests/unit/test_block_device.py', 'nova/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/67bcff461497e674ccdf5d335d983fe9a16639fa', 'message': 'Reject unsupported image to local BDM\n\nSpecifying image to local BDM at nova boot is not supported.\nThis patch adds a validation to the API to reject this not supported\nmapping.\n\nCloses-bug: #1377958\nChange-Id: I0c38134e2aacca83d98ed0b341f15c480afe14f1\n'}]",6,126303,67bcff461497e674ccdf5d335d983fe9a16639fa,58,19,5,9708,,,0,"Reject unsupported image to local BDM

Specifying image to local BDM at nova boot is not supported.
This patch adds a validation to the API to reject this not supported
mapping.

Closes-bug: #1377958
Change-Id: I0c38134e2aacca83d98ed0b341f15c480afe14f1
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/126303/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/test_block_device.py', 'nova/block_device.py']",2,2188297d678ae4f9b5968b719343599d8dd79403,bug/1377958," if (source_type == 'image' and api_dict.get('destination_type', '') == 'local'): raise exception.InvalidBDMFormat( details=_(""Mapping image to local is not supported.""))",,12,1
openstack%2Fcinder~master~I795fc39a26de80b7ac4f8c93f0e25d8addd8e763,openstack/cinder,master,I795fc39a26de80b7ac4f8c93f0e25d8addd8e763,State Machine for Volume Manager implementation (PoC),ABANDONED,2015-01-30 19:02:55.000000000,2015-02-02 17:37:27.000000000,,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 11811}, {'_account_id': 12369}, {'_account_id': 12780}]","[{'number': 1, 'created': '2015-01-30 19:02:55.000000000', 'files': ['cinder/volume/manager.py', 'cinder/volume/flows/manager/create_volume.py', 'cinder/db/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3250dadd9b7aa0b5c49a4af2d7913454fd825ab8', 'message': 'State Machine for Volume Manager implementation (PoC)\n\ncinder-volume service now can resume work after restart on\nCreateVolumeOnFinishTask task\n\nPatch is still in WIP status.\n\nChange-Id: I795fc39a26de80b7ac4f8c93f0e25d8addd8e763\n'}]",2,151737,3250dadd9b7aa0b5c49a4af2d7913454fd825ab8,9,7,1,1736,,,0,"State Machine for Volume Manager implementation (PoC)

cinder-volume service now can resume work after restart on
CreateVolumeOnFinishTask task

Patch is still in WIP status.

Change-Id: I795fc39a26de80b7ac4f8c93f0e25d8addd8e763
",git fetch https://review.opendev.org/openstack/cinder refs/changes/37/151737/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/flows/manager/create_volume.py', 'cinder/volume/manager.py', 'cinder/db/api.py']",3,3250dadd9b7aa0b5c49a4af2d7913454fd825ab8,cinder-manager-state-machine-poc,"def volume_micro_states_get(context, volume_id): return IMPL._micro_states_get(context, volume_id) ",,139,25
openstack%2Fopenstack-ansible~master~I58b4b08b5596b8007b00aaca21f115cc4dfd6bbc,openstack/openstack-ansible,master,I58b4b08b5596b8007b00aaca21f115cc4dfd6bbc,Fix for Network test against hosts with no containers,MERGED,2015-01-07 16:00:20.000000000,2015-02-02 17:37:15.000000000,2015-01-07 17:10:57.000000000,"[{'_account_id': 3}, {'_account_id': 7217}, {'_account_id': 7414}, {'_account_id': 9884}, {'_account_id': 14513}]","[{'number': 1, 'created': '2015-01-07 16:00:20.000000000', 'files': ['rpc_deployment/playbooks/setup/restart-containers.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d2daa471255107b919f48959460d760d6e910bb3', 'message': ""Fix for Network test against hosts with no containers\n\nThe default for container_groups was an empty string. This causes ansible\nto attempt to connect to hostvars['']['container_address'] which fails.\nChanging the default from an empty string to an empty list resolves this.\n\nChange-Id: I58b4b08b5596b8007b00aaca21f115cc4dfd6bbc\nCloses-Bug: 1408342\n""}]",0,145531,d2daa471255107b919f48959460d760d6e910bb3,10,5,1,2799,,,0,"Fix for Network test against hosts with no containers

The default for container_groups was an empty string. This causes ansible
to attempt to connect to hostvars['']['container_address'] which fails.
Changing the default from an empty string to an empty list resolves this.

Change-Id: I58b4b08b5596b8007b00aaca21f115cc4dfd6bbc
Closes-Bug: 1408342
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/31/145531/1 && git format-patch -1 --stdout FETCH_HEAD,['rpc_deployment/playbooks/setup/restart-containers.yml'],1,d2daa471255107b919f48959460d760d6e910bb3,bug/1408342," container_groups: ""{{ groups[container_group|default(default_container_groups)] | default([]) }}"""," container_groups: ""{{ groups[container_group|default(default_container_groups)] | default('') }}""",1,1
openstack%2Fnova~master~Ieccd2c71f8e8b5549c41a03878c6cf6e8ca46b58,openstack/nova,master,Ieccd2c71f8e8b5549c41a03878c6cf6e8ca46b58,VMware: add in utility methods for copying and deleting disks,MERGED,2015-01-06 09:07:08.000000000,2015-02-02 17:34:47.000000000,2015-02-02 17:34:44.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 6983}, {'_account_id': 8213}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9172}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-01-06 09:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e5d5a4ad68022f47f64fccd801efc3cfc7d6c9e', 'message': 'VMware: add in utility methods for copying and deleting disks\n\nAdded in utility methods for copying and deleting virtual disks.\n\nThere are in the ds_util module and the repsctive methods are:\n - disk_copy\n - disk_delete\n\nChange-Id: Ieccd2c71f8e8b5549c41a03878c6cf6e8ca46b58\n'}, {'number': 2, 'created': '2015-01-06 09:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f64afbd983eee6d2dfdcfd8b2550d464b7254afe', 'message': 'VMware: add in utility methods for copying and deleting disks\n\nAdded in utility methods for copying and deleting virtual disks.\n\nThere are in the ds_util module and the repsctive methods are:\n - disk_copy\n - disk_delete\n\nChange-Id: Ieccd2c71f8e8b5549c41a03878c6cf6e8ca46b58\n'}, {'number': 3, 'created': '2015-01-06 15:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/215e35491787e5f0909ed791990bdf2b0b5bef3b', 'message': 'VMware: add in utility methods for copying and deleting disks\n\nAdded in utility methods for copying and deleting virtual disks.\n\nThere are in the ds_util module and the repsctive methods are:\n - disk_copy\n - disk_delete\n\nChange-Id: Ieccd2c71f8e8b5549c41a03878c6cf6e8ca46b58\n'}, {'number': 4, 'created': '2015-01-12 13:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8193fc336f42761bdc8f000352b4237a9c9b8171', 'message': 'VMware: add in utility methods for copying and deleting disks\n\nAdded in utility methods for copying and deleting virtual disks.\n\nThere are in the ds_util module and the repsctive methods are:\n - disk_copy\n - disk_delete\n\nChange-Id: Ieccd2c71f8e8b5549c41a03878c6cf6e8ca46b58\n'}, {'number': 5, 'created': '2015-01-12 14:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f54f7b4cdc5e7833f64347c71c84c8edd53a8953', 'message': 'VMware: add in utility methods for copying and deleting disks\n\nAdded in utility methods for copying and deleting virtual disks.\n\nThere are in the ds_util module and the repsctive methods are:\n - disk_copy\n - disk_delete\n\nChange-Id: Ieccd2c71f8e8b5549c41a03878c6cf6e8ca46b58\n'}, {'number': 6, 'created': '2015-01-13 15:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d79c73929c2f7826a61d7d2566762ad5ad98dbc', 'message': 'VMware: add in utility methods for copying and deleting disks\n\nAdded in utility methods for copying and deleting virtual disks.\n\nThere are in the ds_util module and the repsctive methods are:\n - disk_copy\n - disk_delete\n\nChange-Id: Ieccd2c71f8e8b5549c41a03878c6cf6e8ca46b58\n'}, {'number': 7, 'created': '2015-01-15 11:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e5e8459c282c6a3461c92931df9a008b01df2d8', 'message': 'VMware: add in utility methods for copying and deleting disks\n\nAdded in utility methods for copying and deleting virtual disks.\n\nThere are in the ds_util module and the repsctive methods are:\n - disk_copy\n - disk_delete\n\nChange-Id: Ieccd2c71f8e8b5549c41a03878c6cf6e8ca46b58\n'}, {'number': 8, 'created': '2015-01-20 07:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5de3afeac6d7ad5d3ec08bd624db100f44ac5676', 'message': 'VMware: add in utility methods for copying and deleting disks\n\nAdded in utility methods for copying and deleting virtual disks.\n\nThere are in the ds_util module and the repsctive methods are:\n - disk_copy\n - disk_delete\n\nChange-Id: Ieccd2c71f8e8b5549c41a03878c6cf6e8ca46b58\n'}, {'number': 9, 'created': '2015-01-22 18:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d4a1f4c1e9d4947f93354a8159fde74744ef85c', 'message': 'VMware: add in utility methods for copying and deleting disks\n\nAdded in utility methods for copying and deleting virtual disks.\n\nThey are in the ds_util module and the respective methods are:\n - disk_copy\n - disk_delete\n\nChange-Id: Ieccd2c71f8e8b5549c41a03878c6cf6e8ca46b58\n'}, {'number': 10, 'created': '2015-01-23 10:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c0b88e6a777a26552e09d1076d1f643f9dc7b09', 'message': 'VMware: add in utility methods for copying and deleting disks\n\nAdded in utility methods for copying and deleting virtual disks.\n\nThey are in the ds_util module and the respective methods are:\n - disk_copy\n - disk_delete\n\nChange-Id: Ieccd2c71f8e8b5549c41a03878c6cf6e8ca46b58\n'}, {'number': 11, 'created': '2015-01-29 15:25:17.000000000', 'files': ['nova/virt/vmwareapi/ds_util.py', 'nova/tests/unit/virt/vmwareapi/test_ds_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/74a911a81189a5f2905df5fea8dad4c696cdf016', 'message': 'VMware: add in utility methods for copying and deleting disks\n\nAdded in utility methods for copying and deleting virtual disks.\n\nThey are in the ds_util module and the respective methods are:\n - disk_copy\n - disk_delete\n\nChange-Id: Ieccd2c71f8e8b5549c41a03878c6cf6e8ca46b58\n'}]",7,145174,74a911a81189a5f2905df5fea8dad4c696cdf016,93,15,11,1653,,,0,"VMware: add in utility methods for copying and deleting disks

Added in utility methods for copying and deleting virtual disks.

They are in the ds_util module and the respective methods are:
 - disk_copy
 - disk_delete

Change-Id: Ieccd2c71f8e8b5549c41a03878c6cf6e8ca46b58
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/145174/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/ds_util.py', 'nova/tests/unit/virt/vmwareapi/test_ds_util.py']",3,9e5d5a4ad68022f47f64fccd801efc3cfc7d6c9e,bp/vmware-driver-domain-metadata," def test_disk_copy(self): def fake_call_method(module, method, *args, **kwargs): self.assertEqual('CopyVirtualDisk_Task', method) src_name = kwargs.get('sourceName') self.assertEqual('[ds] tmp/src.vmdk', src_name) dest_name = kwargs.get('destName') self.assertEqual('[ds] tmp/dst.vmdk', dest_name) src_datacenter = kwargs.get('sourceDatacenter') self.assertEqual('fake-dc-ref', src_datacenter) dest_datacenter = kwargs.get('destDatacenter') self.assertEqual('fake-dc-ref', dest_datacenter) return 'fake_copy_task' with contextlib.nested( mock.patch.object(self.session, '_wait_for_task'), mock.patch.object(self.session, '_call_method', fake_call_method) ) as (_wait_for_task, _call_method): ds_util.disk_copy(self.session, 'fake-dc-ref', '[ds] tmp/src.vmdk', '[ds] tmp/dst.vmdk') _wait_for_task.assert_has_calls([ mock.call('fake_copy_task')]) def test_disk_delete(self): def fake_call_method(module, method, *args, **kwargs): self.assertEqual('DeleteVirtualDisk_Task', method) name = kwargs.get('name') self.assertEqual('[ds] tmp/disk.vmdk', name) datacenter = kwargs.get('datacenter') self.assertEqual('fake-dc-ref', datacenter) return 'fake_delete_task' with contextlib.nested( mock.patch.object(self.session, '_wait_for_task'), mock.patch.object(self.session, '_call_method', fake_call_method) ) as (_wait_for_task, _call_method): ds_util.disk_delete(self.session, 'fake-dc-ref', '[ds] tmp/disk.vmdk') _wait_for_task.assert_has_calls([ mock.call('fake_delete_task')]) ",,78,23
openstack%2Frequirements~master~Iad2da9a172e0a762f55d53400a97b3a9eb8491ba,openstack/requirements,master,Iad2da9a172e0a762f55d53400a97b3a9eb8491ba,oslo.messaging & oslo.vmware without namespace pkg,MERGED,2015-01-27 19:30:57.000000000,2015-02-02 17:34:23.000000000,2015-02-02 17:34:21.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 24}, {'_account_id': 308}, {'_account_id': 1420}, {'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 1669}, {'_account_id': 1726}, {'_account_id': 1955}, {'_account_id': 2472}, {'_account_id': 2592}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 5538}, {'_account_id': 5638}, {'_account_id': 6486}, {'_account_id': 6786}, {'_account_id': 7069}, {'_account_id': 7634}, {'_account_id': 9171}, {'_account_id': 9656}, {'_account_id': 10873}, {'_account_id': 12038}, {'_account_id': 12039}]","[{'number': 1, 'created': '2015-01-27 19:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/bb0549d7e6fb1de6d804ee73e7f3be3da69dff21', 'message': 'Use oslo.messaging 1.6.0 without namespace package\n\nRaise the minimum version of oslo.messaging to 1.6.0 to include the\nversion that moves the code out of the oslo namespace package.\n\nChange-Id: Iad2da9a172e0a762f55d53400a97b3a9eb8491ba\nBlueprint: drop-namespace-package\n'}, {'number': 2, 'created': '2015-01-28 17:55:51.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2134bd37f19e97a87d3ac9bd244bdc61924df412', 'message': 'oslo.messaging & oslo.vmware without namespace pkg\n\nRaise the minimum version of oslo.messaging to 1.6.0 and oslo.vmware\nto 0.9.0 to use the versions that moves the code out of the oslo\nnamespace package.\n\nChange-Id: Iad2da9a172e0a762f55d53400a97b3a9eb8491ba\nBlueprint: drop-namespace-package\n'}]",0,150556,2134bd37f19e97a87d3ac9bd244bdc61924df412,28,27,2,2472,,,0,"oslo.messaging & oslo.vmware without namespace pkg

Raise the minimum version of oslo.messaging to 1.6.0 and oslo.vmware
to 0.9.0 to use the versions that moves the code out of the oslo
namespace package.

Change-Id: Iad2da9a172e0a762f55d53400a97b3a9eb8491ba
Blueprint: drop-namespace-package
",git fetch https://review.opendev.org/openstack/requirements refs/changes/56/150556/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,bb0549d7e6fb1de6d804ee73e7f3be3da69dff21,bp/drop-namespace-package,oslo.messaging>=1.6.0 # Apache-2.0,"oslo.messaging>=1.4.0,!=1.5.0",1,1
openstack%2Fironic-inspector~master~Id3c56a54031a693ff2ded6593cf4b3ceec943045,openstack/ironic-inspector,master,Id3c56a54031a693ff2ded6593cf4b3ceec943045,Bump randomly set retry count and delay,MERGED,2015-02-02 16:57:09.000000000,2015-02-02 17:29:27.000000000,2015-02-02 17:29:25.000000000,"[{'_account_id': 3}, {'_account_id': 10239}]","[{'number': 1, 'created': '2015-02-02 16:57:09.000000000', 'files': ['ironic_discoverd/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/7ba399a31fc76d4433183767600100821079807c', 'message': 'Bump randomly set retry count and delay\n\nChange-Id: Id3c56a54031a693ff2ded6593cf4b3ceec943045\n'}]",0,152179,7ba399a31fc76d4433183767600100821079807c,6,2,1,10239,,,0,"Bump randomly set retry count and delay

Change-Id: Id3c56a54031a693ff2ded6593cf4b3ceec943045
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/79/152179/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_discoverd/utils.py'],1,7ba399a31fc76d4433183767600100821079807c,,"RETRY_COUNT = 12 RETRY_DELAY = 5 getattr(call, '__name__', repr(call)), exc, i + 1)","RETRY_COUNT = 10 RETRY_DELAY = 2 getattr(call, '__name__', repr(call)), exc, i)",3,3
openstack%2Fnova~master~I8e2a9bd3bfa049bc099a15df3a14ad84e35ac372,openstack/nova,master,I8e2a9bd3bfa049bc099a15df3a14ad84e35ac372,Add numa_node to PCIDevice,MERGED,2014-12-09 10:21:15.000000000,2015-02-02 17:24:18.000000000,2015-01-16 22:02:45.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 7730}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11647}, {'_account_id': 11711}]","[{'number': 1, 'created': '2014-12-09 10:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/519443f01d2b837ef5384d0f2d9c1a7cacac24b5', 'message': 'Add numa_node to PCIDevice\n\nThe change extends the PCI device model and its DB representation.\nQuery libvirt for the PCI devices numa node.\n\nImplements: blueprint input-output-based-numa-scheduling\nChange-Id: I8e2a9bd3bfa049bc099a15df3a14ad84e35ac372\nCo-Authored-By: James Chapmam <james.p.chapman@intel.com>\n'}, {'number': 2, 'created': '2014-12-18 14:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68b017a591f5b4a80030a0fd32a7a40b2c1e4b26', 'message': 'Add numa_node to PCIDevice\n\nThe change extends the PCI device model and its DB representation.\nQuery libvirt for the PCI devices numa node.\n\nImplements: blueprint input-output-based-numa-scheduling\nChange-Id: I8e2a9bd3bfa049bc099a15df3a14ad84e35ac372\nCo-Authored-By: James Chapmam <james.p.chapman@intel.com>\n'}, {'number': 3, 'created': '2015-01-06 10:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/850d0097cbbdbc6032ee0492fe134bbd6d39a60c', 'message': 'Add numa_node to PCIDevice\n\nThe change extends the PCI device model and its DB representation.\nQuery libvirt for the PCI devices numa node.\n\nImplements: blueprint input-output-based-numa-scheduling\nChange-Id: I8e2a9bd3bfa049bc099a15df3a14ad84e35ac372\nCo-Authored-By: James Chapmam <james.p.chapman@intel.com>\n'}, {'number': 4, 'created': '2015-01-06 12:52:58.000000000', 'files': ['nova/tests/unit/objects/test_pci_device.py', 'nova/tests/unit/db/test_migrations.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/tests/unit/pci/test_manager.py', 'nova/db/sqlalchemy/migrate_repo/versions/269_add_numa_node_column.py', 'nova/tests/functional/v3/test_pci.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/objects/pci_device.py', 'nova/tests/unit/objects/test_objects.py', 'nova/db/sqlalchemy/models.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/pci/test_device.py', 'nova/tests/unit/objects/test_instance.py', 'nova/tests/unit/db/test_db_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1d4ad44f15503b8710ff59dea9f5e3f4894d56fb', 'message': 'Add numa_node to PCIDevice\n\nThe change extends the PCI device model and its DB representation.\nQuery libvirt for the PCI devices numa node.\n\nImplements: blueprint input-output-based-numa-scheduling\nChange-Id: I8e2a9bd3bfa049bc099a15df3a14ad84e35ac372\nCo-Authored-By: James Chapmam <james.p.chapman@intel.com>\n'}]",7,140289,1d4ad44f15503b8710ff59dea9f5e3f4894d56fb,37,16,4,11647,,,0,"Add numa_node to PCIDevice

The change extends the PCI device model and its DB representation.
Query libvirt for the PCI devices numa node.

Implements: blueprint input-output-based-numa-scheduling
Change-Id: I8e2a9bd3bfa049bc099a15df3a14ad84e35ac372
Co-Authored-By: James Chapmam <james.p.chapman@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/140289/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_pci_device.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/tests/unit/pci/test_manager.py', 'nova/tests/functional/v3/test_pci.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/objects/pci_device.py', 'nova/tests/unit/objects/test_objects.py', 'nova/db/sqlalchemy/models.py', 'nova/virt/libvirt/driver.py', 'nova/db/sqlalchemy/migrate_repo/versions/268_add_numa_node_column.py', 'nova/tests/unit/pci/test_device.py', 'nova/tests/unit/objects/test_instance.py', 'nova/tests/unit/db/test_db_api.py']",14,519443f01d2b837ef5384d0f2d9c1a7cacac24b5,bp/input-output-based-numa-scheduling," 'numa_node': 1, 'numa_node': 0,",,162,9
openstack%2Fnova~master~I9b4d823b72593b0e72291f6eadef4c796efd1242,openstack/nova,master,I9b4d823b72593b0e72291f6eadef4c796efd1242,docs: document manual testing procedure for NUMA support,MERGED,2014-10-29 16:40:02.000000000,2015-02-02 17:23:08.000000000,2015-02-02 17:23:05.000000000,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6772}, {'_account_id': 6962}, {'_account_id': 7166}, {'_account_id': 7730}, {'_account_id': 8574}, {'_account_id': 8802}, {'_account_id': 9555}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-10-29 16:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2f860b5713e78b4073cf927bebe18ef7dba84cf', 'message': 'docs: document manual testing procedure for NUMA support\n\nIntroduce a new section in the developer documentation that\nis a place to put manual testing guides. As a first testing\nguide, document how to testing the recent NUMA support in\nlibvirt using nested KVM and virtual NUMA.\n\nChange-Id: I9b4d823b72593b0e72291f6eadef4c796efd1242\n'}, {'number': 2, 'created': '2014-10-31 12:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d2d3c20c3dcb5f7b4a39ea014d1820a27731a07', 'message': 'docs: document manual testing procedure for NUMA support\n\nIntroduce a new section in the developer documentation that\nis a place to put manual testing guides. As a first testing\nguide, document how to test the recent NUMA support in\nlibvirt using nested KVM and virtual NUMA.\n\nChange-Id: I9b4d823b72593b0e72291f6eadef4c796efd1242\n'}, {'number': 3, 'created': '2014-10-31 14:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8590ab072ce326b977a8f09ee622443239bbee1', 'message': 'docs: document manual testing procedure for NUMA support\n\nIntroduce a new section in the developer documentation that\nis a place to put manual testing guides. As a first testing\nguide, document how to test the recent NUMA support in\nlibvirt using nested KVM and virtual NUMA.\n\nChange-Id: I9b4d823b72593b0e72291f6eadef4c796efd1242\n'}, {'number': 4, 'created': '2014-11-06 15:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2498e5b5b6223010e804b65417314ab992d33846', 'message': 'docs: document manual testing procedure for NUMA support\n\nIntroduce a new section in the developer documentation that\nis a place to put manual testing guides. As a first testing\nguide, document how to test the recent NUMA support in\nlibvirt using nested KVM and virtual NUMA.\n\nChange-Id: I9b4d823b72593b0e72291f6eadef4c796efd1242\n'}, {'number': 5, 'created': '2014-11-20 17:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2ce611e01ceea751c28fd4e18f4333cba691ff4', 'message': 'docs: document manual testing procedure for NUMA support\n\nIntroduce a new section in the developer documentation that\nis a place to put manual testing guides. As a first testing\nguide, document how to test the recent NUMA support in\nlibvirt using nested KVM and virtual NUMA.\n\nChange-Id: I9b4d823b72593b0e72291f6eadef4c796efd1242\n'}, {'number': 6, 'created': '2015-01-19 16:17:27.000000000', 'files': ['doc/source/devref/testing/libvirt-numa.rst', 'doc/source/devref/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/88b7980bec7c67d22000458b06e70c9e13415b79', 'message': 'docs: document manual testing procedure for NUMA support\n\nIntroduce a new section in the developer documentation that\nis a place to put manual testing guides. As a first testing\nguide, document how to test the recent NUMA support in\nlibvirt using nested KVM and virtual NUMA.\n\nChange-Id: I9b4d823b72593b0e72291f6eadef4c796efd1242\n'}]",14,131818,88b7980bec7c67d22000458b06e70c9e13415b79,59,17,6,1779,,,0,"docs: document manual testing procedure for NUMA support

Introduce a new section in the developer documentation that
is a place to put manual testing guides. As a first testing
guide, document how to test the recent NUMA support in
libvirt using nested KVM and virtual NUMA.

Change-Id: I9b4d823b72593b0e72291f6eadef4c796efd1242
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/131818/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/devref/testing/libvirt-numa.rst', 'doc/source/devref/index.rst']",2,c2f860b5713e78b4073cf927bebe18ef7dba84cf,testing-docs,Testing guides -------------- .. toctree:: :maxdepth: 3 testing/libvirt-numa,,422,0
openstack%2Fpython-ceilometerclient~master~I699bea4859d4f0a5832ced5ba74ba7fb26c122ef,openstack/python-ceilometerclient,master,I699bea4859d4f0a5832ced5ba74ba7fb26c122ef,Add severity field to alarm CLI,MERGED,2015-01-26 20:08:45.000000000,2015-02-02 17:08:59.000000000,2015-02-02 17:08:58.000000000,"[{'_account_id': 3}, {'_account_id': 2284}, {'_account_id': 6537}, {'_account_id': 6924}]","[{'number': 1, 'created': '2015-01-26 20:08:45.000000000', 'files': ['ceilometerclient/v2/shell.py', 'ceilometerclient/tests/v2/test_shell.py', 'ceilometerclient/tests/v2/test_alarms.py', 'ceilometerclient/v2/alarms.py'], 'web_link': 'https://opendev.org/openstack/python-ceilometerclient/commit/945f9a392a725c2cae494dcb36cd77d75225718a', 'message': 'Add severity field to alarm CLI\n\nChange-Id: I699bea4859d4f0a5832ced5ba74ba7fb26c122ef\nPartially-Implements: blueprint ceilometer-alarm-level\n'}]",0,150132,945f9a392a725c2cae494dcb36cd77d75225718a,9,4,1,6924,,,0,"Add severity field to alarm CLI

Change-Id: I699bea4859d4f0a5832ced5ba74ba7fb26c122ef
Partially-Implements: blueprint ceilometer-alarm-level
",git fetch https://review.opendev.org/openstack/python-ceilometerclient refs/changes/32/150132/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometerclient/v2/shell.py', 'ceilometerclient/tests/v2/test_shell.py', 'ceilometerclient/tests/v2/test_alarms.py', 'ceilometerclient/v2/alarms.py']",4,945f9a392a725c2cae494dcb36cd77d75225718a,bp/ceilometer-alarm-level," 'severity',",,51,37
openstack%2Ftripleo-ci~master~I0b3a4453ffa55f7a237764dd303b2a4683b27488,openstack/tripleo-ci,master,I0b3a4453ffa55f7a237764dd303b2a4683b27488,temprevert: Do not pass PXE net config from boo...,MERGED,2015-02-02 11:29:55.000000000,2015-02-02 16:51:02.000000000,2015-02-02 16:51:02.000000000,"[{'_account_id': 3}, {'_account_id': 1926}, {'_account_id': 9453}]","[{'number': 1, 'created': '2015-02-02 11:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/063590b29f46c35594100b0637b4eb677796f77a', 'message': 'temprevert: Do not pass PXE net config from boo...\n\nIronic temprevert, F20 overcloud ci jobs failing.\n\nChange-Id: I0b3a4453ffa55f7a237764dd303b2a4683b27488\n'}, {'number': 2, 'created': '2015-02-02 14:48:41.000000000', 'files': ['toci_devtest.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5c7a72735495c7f68bed1bfc9e00a7f422b5ea63', 'message': 'temprevert: Do not pass PXE net config from boo...\n\nIronic temprevert, F20 overcloud ci jobs failing.\n\nChange-Id: I0b3a4453ffa55f7a237764dd303b2a4683b27488\n'}]",0,152089,5c7a72735495c7f68bed1bfc9e00a7f422b5ea63,12,3,2,1926,,,0,"temprevert: Do not pass PXE net config from boo...

Ironic temprevert, F20 overcloud ci jobs failing.

Change-Id: I0b3a4453ffa55f7a237764dd303b2a4683b27488
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/89/152089/2 && git format-patch -1 --stdout FETCH_HEAD,['toci_devtest.sh'],1,063590b29f46c35594100b0637b4eb677796f77a,,# https://review.openstack.org/#/c/143054/ temprevert ironic cb82dabdca5c37d9ac54e4c207a896a32f18525b 1417026,,2,0
openstack%2Fnova~master~I4de08f4c296f5c05b49294599d6b2b8a41205213,openstack/nova,master,I4de08f4c296f5c05b49294599d6b2b8a41205213,Allow instances to attach to shared external nets,MERGED,2015-01-23 02:10:46.000000000,2015-02-02 16:49:39.000000000,2015-02-02 16:49:34.000000000,"[{'_account_id': 3}, {'_account_id': 261}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 6681}, {'_account_id': 7787}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-01-23 02:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30f2608ad984045477cfe5ea5e4a3166d3fbe7d5', 'message': 'Allow instances to attach to shared external nets\n\nAllow non-admin tenants to attach instances to external networks\nfrom Neutron if the networks are also marked as shared.\n\nCloses-Bug: #1413837\nChange-Id: I4de08f4c296f5c05b49294599d6b2b8a41205213\n'}, {'number': 2, 'created': '2015-01-23 03:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2c1d81d7ee658cf56ee99549ec3fe02cd87784f', 'message': 'Allow instances to attach to shared external nets\n\nAllow non-admin tenants to attach instances to external networks\nfrom Neutron if the networks are also marked as shared.\n\nCloses-Bug: #1413837\nChange-Id: I4de08f4c296f5c05b49294599d6b2b8a41205213\n'}, {'number': 3, 'created': '2015-01-30 10:20:26.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a98aa603550ad4d9f8d16de8c7acd0819680a028', 'message': 'Allow instances to attach to shared external nets\n\nAllow non-admin tenants to attach instances to external networks\nfrom Neutron if the networks are also marked as shared.\n\nCloses-Bug: #1413837\nChange-Id: I4de08f4c296f5c05b49294599d6b2b8a41205213\n'}]",5,149457,a98aa603550ad4d9f8d16de8c7acd0819680a028,33,13,3,7787,,,0,"Allow instances to attach to shared external nets

Allow non-admin tenants to attach instances to external networks
from Neutron if the networks are also marked as shared.

Closes-Bug: #1413837
Change-Id: I4de08f4c296f5c05b49294599d6b2b8a41205213
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/149457/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py']",2,30f2608ad984045477cfe5ea5e4a3166d3fbe7d5,bug/1413837," # A network that is both shared and external self.nets9 = [{'id': 'net_id', 'name': 'net_name', 'router:external': True, 'shared': True}] self.nets5, self.nets6, self.nets7, self.nets8, self.nets9] def test_allocate_for_instance_with_external_shared_net(self): """"""Only one network is available, it's external and shared."""""" ctx = context.RequestContext('userid', 'my_tenantid') api = self._stub_allocate_for_instance(net_idx=9) api.allocate_for_instance(admin_ctx, self.instance) "," self.nets5, self.nets6, self.nets7, self.nets8]",12,2
openstack%2Fnova~master~I916a34c92f85ead5ccac046126f1a93881b0581f,openstack/nova,master,I916a34c92f85ead5ccac046126f1a93881b0581f,Remove unused method from test_metadata,MERGED,2015-01-30 05:31:50.000000000,2015-02-02 16:49:15.000000000,2015-02-02 16:49:11.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 9420}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10618}]","[{'number': 1, 'created': '2015-01-30 05:31:50.000000000', 'files': ['nova/tests/unit/test_metadata.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5d297acac4d1797f6a3b01901576367f032f1ddf', 'message': ""Remove unused method from test_metadata\n\nThe get_default_sys_meta() method is no longer\nused so let's drop it.\n\nChange-Id: I916a34c92f85ead5ccac046126f1a93881b0581f\n""}]",0,151537,5d297acac4d1797f6a3b01901576367f032f1ddf,15,11,1,6873,,,0,"Remove unused method from test_metadata

The get_default_sys_meta() method is no longer
used so let's drop it.

Change-Id: I916a34c92f85ead5ccac046126f1a93881b0581f
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/151537/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/test_metadata.py'],1,5d297acac4d1797f6a3b01901576367f032f1ddf,rm-test-meta-unused,,"def get_default_sys_meta(): return flavors.save_flavor_info( {}, flavors.get_default_flavor()) ",0,5
openstack%2Fnova~master~I85f37f0983690ff6b3324df653601e0c4804fe5e,openstack/nova,master,I85f37f0983690ff6b3324df653601e0c4804fe5e,Make use of controller method in test_flavor_manage,MERGED,2015-01-23 05:10:11.000000000,2015-02-02 16:48:52.000000000,2015-02-02 16:48:49.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 13663}]","[{'number': 1, 'created': '2015-01-23 05:10:11.000000000', 'files': ['nova/tests/unit/api/openstack/compute/contrib/test_flavor_manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7edb7552e367b65e45b48f00508df8159b1830a2', 'message': 'Make use of controller method in test_flavor_manage\n\nIn API unit testing, making call through WSGI is little bit overhead,\nwherever applicable, unit tests can make direct call to controller\nmethods.\n\nThis patch use controller methods in test_flavor_manage where ever\npossible.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I85f37f0983690ff6b3324df653601e0c4804fe5e\n'}]",3,149497,7edb7552e367b65e45b48f00508df8159b1830a2,19,10,1,8556,,,0,"Make use of controller method in test_flavor_manage

In API unit testing, making call through WSGI is little bit overhead,
wherever applicable, unit tests can make direct call to controller
methods.

This patch use controller methods in test_flavor_manage where ever
possible.

Partially implements blueprint v2-on-v3-api

Change-Id: I85f37f0983690ff6b3324df653601e0c4804fe5e
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/149497/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/api/openstack/compute/contrib/test_flavor_manage.py'],1,7edb7552e367b65e45b48f00508df8159b1830a2,bp/v2-on-v3-api," req = fakes.HTTPRequest.blank('') self.assertRaises(self.validation_error, self.controller._create, req, body=body) req = fakes.HTTPRequest.blank('') self.assertRaises(webob.exc.HTTPConflict, self.controller._create, req, body=expected) req = fakes.HTTPRequest.blank('') ex = self.assertRaises(webob.exc.HTTPInternalServerError, self.controller._create, req, body=request_dict) self.assertIn('Unable to create flavor', ex.explanation)"," req = webob.Request.blank(self.base_url) req.headers['Content-Type'] = 'application/json' req.method = 'POST' req.body = jsonutils.dumps(body) res = req.get_response(self.app) self.assertEqual(res.status_code, 400) req = webob.Request.blank(self.base_url) req.headers['Content-Type'] = 'application/json' req.method = 'POST' req.body = jsonutils.dumps(expected) res = req.get_response(self.app) self.assertEqual(res.status_int, 409) req = webob.Request.blank(self.base_url) req.headers['Content-Type'] = 'application/json' req.method = 'POST' req.body = jsonutils.dumps(request_dict) res = req.get_response(self.app) self.assertEqual(res.status_int, 500) self.assertIn('Unable to create flavor', res.body)",11,19
openstack%2Fneutron~master~If75558418bc6ea608ec88f3dd5ffdfdb22aff4a6,openstack/neutron,master,If75558418bc6ea608ec88f3dd5ffdfdb22aff4a6,Add ability to run daemonized Neutron processes,ABANDONED,2014-10-14 12:39:25.000000000,2015-02-02 16:46:10.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1653}, {'_account_id': 2035}, {'_account_id': 2592}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6579}, {'_account_id': 6788}, {'_account_id': 7448}, {'_account_id': 8124}, {'_account_id': 8645}, {'_account_id': 8873}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10370}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 12444}, {'_account_id': 13051}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-10-14 12:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8287d2078a30f0da326456ccb8b9c05f683cb9cf', 'message': ""Add ability to run daemonized Neutron processes\n\nThe current Daemon class allows for spawning processes that are intended\nto be daemonized. For example, the neutron-ns-metadata-proxy uses this\nclass to be able to easily daemonized. The current implementation\nrequires that each such process inherit from the Daemon class (like the\nmetadata proxy does), but when trying to run valid Neutron processes\n(like neutron-server or the l3 agent) in a daemonized mode, a new class\nmust be written for each such process. This patch creates a new\nProcessDaemon which allows for specifying an import patch and a function\nto run (for example, 'neutron.server' and 'main' respectively) and runs\nit in daemonized mode. Some minor nits are also fixed.\n\nThe reason why simply running '/usr/bin/neutron-server ... & disown'\nwon't work is that the '& disown' syntax is a specific bash syntax.\nIn short, using that will require running an interactive bash shell and\nexecuting the program in that shell, which is far from optimal - so this\nsolution was chosen instead.\n\nThis is part of the integration tests effort:\n - [1/3] - Add ability to run daemonized Neutron processes\n - [2/3] - Add Integration Tests framework\n - [3/3] - Test that a namespace is created for new routers\n\nAction Items:\n 1. Write unittests for the new ProcessDaemon.\n\nImplements: blueprint integration-tests\nChange-Id: If75558418bc6ea608ec88f3dd5ffdfdb22aff4a6\n""}, {'number': 2, 'created': '2014-10-23 14:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bfe2e990265f83af4c3a17d436e06c4e1be783c5', 'message': ""Add ability to run daemonized Neutron processes\n\nThe current Daemon class allows for spawning processes that are intended\nto be daemonized. For example, the neutron-ns-metadata-proxy uses this\nclass to be able to easily daemonized. The current implementation\nrequires that each such process inherit from the Daemon class (like the\nmetadata proxy does), but when trying to run valid Neutron processes\n(like neutron-server or the l3 agent) in a daemonized mode, a new class\nmust be written for each such process. This patch creates a new\nProcessDaemon which allows for specifying an import patch and a function\nto run (for example, 'neutron.server' and 'main' respectively) and runs\nit in daemonized mode. Some minor nits are also fixed.\n\nThe reason why simply running '/usr/bin/neutron-server ... & disown'\nwon't work is that the '& disown' syntax is a specific bash syntax.\nIn short, using that will require running an interactive bash shell and\nexecuting the program in that shell, which is far from optimal - so this\nsolution was chosen instead.\n\nThis is part of the integration tests effort:\n - [1/3] - Add ability to run daemonized Neutron processes\n - [2/3] - Add Integration Tests framework\n - [3/3] - Test that a namespace is created for new routers\n\nImplements: blueprint integration-tests\nChange-Id: If75558418bc6ea608ec88f3dd5ffdfdb22aff4a6\n""}, {'number': 3, 'created': '2014-11-06 14:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3edfb779a8b667d3e6837e10e0efa1574c29ed0c', 'message': ""Add ability to run daemonized Neutron processes\n\nThe current Daemon class allows for spawning processes that are intended\nto be daemonized. For example, the neutron-ns-metadata-proxy uses this\nclass to be able to easily daemonized. The current implementation\nrequires that each such process inherit from the Daemon class (like the\nmetadata proxy does), but when trying to run valid Neutron processes\n(like neutron-server or the l3 agent) in a daemonized mode, a new class\nmust be written for each such process. This patch introduces an\nalternative in the form of the 'daemonize' package, and also adds\nvarious wrappers that allow easy creation of daemonized processes.\n\nThe reason why simply running '/usr/bin/neutron-server ... & disown'\nwon't work is that the '& disown' syntax is a specific bash syntax.\nIn short, using that will require running an interactive bash shell and\nexecuting the program in that shell, which is far from optimal - so this\nsolution was chosen instead.\n\nThis is part of the integration tests effort:\n - [1/3] - Add ability to run daemonized Neutron processes\n - [2/3] - Add Integration Tests framework\n - [3/3] - Test that a namespace is created for new routers\n\nImplements: blueprint integration-tests\nChange-Id: If75558418bc6ea608ec88f3dd5ffdfdb22aff4a6\n""}, {'number': 4, 'created': '2014-11-24 10:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9738723f0e9636afab02636a481840a273897748', 'message': ""Add ability to run daemonized Neutron processes\n\nThe current Daemon class allows for spawning processes that are intended\nto be daemonized. For example, the neutron-ns-metadata-proxy uses this\nclass to be able to easily daemonized. The current implementation\nrequires that each such process inherit from the Daemon class (like the\nmetadata proxy does), but when trying to run valid Neutron processes\n(like neutron-server or the l3 agent) in a daemonized mode, a new class\nmust be written for each such process. This patch creates a new\nProcessDaemon which allows for specifying an import patch and a function\nto run (for example, 'neutron.server' and 'main' respectively) and runs\nit in daemonized mode. Some minor nits are also fixed.\n\nThe reason why simply running '/usr/bin/neutron-server ... & disown'\nwon't work is that the '& disown' syntax is a specific bash syntax.\nIn short, using that will require running an interactive bash shell and\nexecuting the program in that shell, which is far from optimal - so this\nsolution was chosen instead.\n\nThis is part of the integration tests effort:\n - [1/3] - Add ability to run daemonized Neutron processes\n - [2/3] - Add Integration Tests framework\n - [3/3] - Test that a namespace is created for new routers\n\nImplements: blueprint integration-tests\nChange-Id: If75558418bc6ea608ec88f3dd5ffdfdb22aff4a6\n""}, {'number': 5, 'created': '2014-11-24 11:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc9d6ead2b758749442ab766650e1705e27680a4', 'message': ""Add ability to run daemonized Neutron processes\n\nThe current Daemon class allows for spawning processes that are intended\nto be daemonized. For example, the neutron-ns-metadata-proxy uses this\nclass to be able to easily daemonized. The current implementation\nrequires that each such process inherit from the Daemon class (like the\nmetadata proxy does), but when trying to run valid Neutron processes\n(like neutron-server or the l3 agent) in a daemonized mode, a new class\nmust be written for each such process. This patch creates a new\nProcessDaemon which allows for specifying an import patch and a function\nto run (for example, 'neutron.server' and 'main' respectively) and runs\nit in daemonized mode. Some minor nits are also fixed.\n\nThe reason why simply running '/usr/bin/neutron-server ... & disown'\nwon't work is that the '& disown' syntax is a specific bash syntax.\nIn short, using that will require running an interactive bash shell and\nexecuting the program in that shell, which is far from optimal - so this\nsolution was chosen instead.\n\nThis is part of the integration tests effort:\n - [1/3] - Add ability to run daemonized Neutron processes\n - [2/3] - Add Integration Tests framework\n - [3/3] - Test that a namespace is created for new routers\n\nImplements: blueprint integration-tests\nChange-Id: If75558418bc6ea608ec88f3dd5ffdfdb22aff4a6\n""}, {'number': 6, 'created': '2014-11-24 16:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8ba0a025ee0f6405e921a81d3607cd728325575', 'message': ""Add ability to run daemonized Neutron processes\n\nThe current Daemon class allows for spawning processes that are intended\nto be daemonized. For example, the neutron-ns-metadata-proxy uses this\nclass to be able to easily daemonized. The current implementation\nrequires that each such process inherit from the Daemon class (like the\nmetadata proxy does), but when trying to run valid Neutron processes\n(like neutron-server or the l3 agent) in a daemonized mode, a new class\nmust be written for each such process. This patch creates a new\nProcessDaemon which allows for specifying an import patch and a function\nto run (for example, 'neutron.server' and 'main' respectively) and runs\nit in daemonized mode. Some minor nits are also fixed.\n\nThe reason why simply running '/usr/bin/neutron-server ... & disown'\nwon't work is that the '& disown' syntax is a specific bash syntax.\nIn short, using that will require running an interactive bash shell and\nexecuting the program in that shell, which is far from optimal - so this\nsolution was chosen instead.\n\nThis is part of the integration tests effort:\n * [1/3] - Add ability to run daemonized Neutron processes\n - [2/3] - Add full-stack tests framework\n - [3/3] - Test that creating HA routers work\n\nImplements: blueprint integration-tests\nChange-Id: If75558418bc6ea608ec88f3dd5ffdfdb22aff4a6\n""}, {'number': 7, 'created': '2014-12-08 09:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/270746b093d33be27a97f2b7a8e8b98794eaec77', 'message': ""Add ability to run daemonized Neutron processes\n\nThe current Daemon class allows for spawning processes that are intended\nto be daemonized. For example, the neutron-ns-metadata-proxy uses this\nclass to be able to easily daemonized. The current implementation\nrequires that each such process inherit from the Daemon class (like the\nmetadata proxy does), but when trying to run valid Neutron processes\n(like neutron-server or the l3 agent) in a daemonized mode, a new class\nmust be written for each such process. This patch creates a new\nProcessDaemon which allows for specifying an import patch and a function\nto run (for example, 'neutron.server' and 'main' respectively) and runs\nit in daemonized mode. Some minor nits are also fixed.\n\nThe reason why simply running '/usr/bin/neutron-server ... & disown'\nwon't work is that the '& disown' syntax is a specific bash syntax.\nIn short, using that will require running an interactive bash shell and\nexecuting the program in that shell, which is far from optimal - so this\nsolution was chosen instead.\n\nThis is part of the integration tests effort:\n * [1/3] - Add ability to run daemonized Neutron processes\n - [2/3] - Add full-stack tests framework\n - [3/3] - Test that creating HA routers work\n\nImplements: blueprint integration-tests\nChange-Id: If75558418bc6ea608ec88f3dd5ffdfdb22aff4a6\n""}, {'number': 8, 'created': '2014-12-15 12:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b765ca8daa887d4df70e91d851c03e305f98b9f', 'message': ""Add ability to run daemonized Neutron processes\n\nThe current Daemon class allows for spawning processes that are intended\nto be daemonized. For example, the neutron-ns-metadata-proxy uses this\nclass to be able to easily daemonized. The current implementation\nrequires that each such process inherit from the Daemon class (like the\nmetadata proxy does), but when trying to run valid Neutron processes\n(like neutron-server or the l3 agent) in a daemonized mode, a new class\nmust be written for each such process. This patch creates a new\nProcessDaemon which allows for specifying an import patch and a function\nto run (for example, 'neutron.server' and 'main' respectively) and runs\nit in daemonized mode. Some minor nits are also fixed.\n\nThe reason why simply running '/usr/bin/neutron-server ... & disown'\nwon't work is that the '& disown' syntax is a specific bash syntax.\nIn short, using that will require running an interactive bash shell and\nexecuting the program in that shell, which is far from optimal - so this\nsolution was chosen instead.\n\nThis is part of the integration tests effort:\n * [1/3] - Add ability to run daemonized Neutron processes\n - [2/3] - Add full-stack tests framework\n - [3/3] - Test that creating HA routers work\n\nImplements: blueprint integration-tests\nChange-Id: If75558418bc6ea608ec88f3dd5ffdfdb22aff4a6\n""}, {'number': 9, 'created': '2014-12-15 13:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dbdf02aa133af41c0b2e338fb7d7ff4259b94615', 'message': ""Add ability to run daemonized Neutron processes\n\nThe current Daemon class allows for spawning processes that are intended\nto be daemonized. For example, the neutron-ns-metadata-proxy uses this\nclass to be able to easily daemonized. The current implementation\nrequires that each such process inherit from the Daemon class (like the\nmetadata proxy does), but when trying to run valid Neutron processes\n(like neutron-server or the l3 agent) in a daemonized mode, a new class\nmust be written for each such process. This patch creates a new\nProcessDaemon which allows for specifying an import patch and a function\nto run (for example, 'neutron.server' and 'main' respectively) and runs\nit in daemonized mode. Some minor nits are also fixed.\n\nThe reason why simply running '/usr/bin/neutron-server ... & disown'\nwon't work is that the '& disown' syntax is a specific bash syntax.\nIn short, using that will require running an interactive bash shell and\nexecuting the program in that shell, which is far from optimal - so this\nsolution was chosen instead.\n\nThis is part of the integration tests effort:\n * [1/3] - Add ability to run daemonized Neutron processes\n - [2/3] - Add full-stack tests framework\n - [3/3] - Test that creating HA routers work\n\nImplements: blueprint integration-tests\nChange-Id: If75558418bc6ea608ec88f3dd5ffdfdb22aff4a6\n""}, {'number': 10, 'created': '2014-12-25 09:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2f7a0c2c13b6515e5927eebf9e1493a4ba25f1a6', 'message': ""Add ability to run daemonized Neutron processes\n\nThe current Daemon class allows for spawning processes that are intended\nto be daemonized. For example, the neutron-ns-metadata-proxy uses this\nclass to be able to be easily daemonized. The current implementation\nrequires that each such process inherit from the Daemon class (like the\nmetadata proxy does), but when trying to run valid Neutron processes\n(like neutron-server or the l3 agent) in a daemonized mode, a new class\nmust be written for each such process. This patch creates a new\nProcessDaemon which allows for specifying an import patch and a function\nto run (for example, 'neutron.server' and 'main' respectively) and runs\nit in daemonized mode. Some minor nits are also fixed.\n\nThe reason why simply running '/usr/bin/neutron-server ... & disown'\nwon't work is that the '& disown' syntax is a specific bash syntax.\nIn short, using that will require running an interactive bash shell and\nexecuting the program in that shell, which is far from optimal - so this\nsolution was chosen instead.\n\nThis is part of the integration tests effort:\n * [1/3] - Add ability to run daemonized Neutron processes\n - [2/3] - Add full-stack tests framework\n - [3/3] - Test that creating HA routers work\n\nImplements: blueprint integration-tests\nChange-Id: If75558418bc6ea608ec88f3dd5ffdfdb22aff4a6\n""}, {'number': 11, 'created': '2014-12-30 09:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/12739236e5b1c70bf7a66801bbc3325891d0a6c9', 'message': ""Add ability to run daemonized Neutron processes\n\nThe current Daemon class allows for spawning processes that are intended\nto be daemonized. For example, the neutron-ns-metadata-proxy uses this\nclass to be able to be easily daemonized. The current implementation\nrequires that each such process inherit from the Daemon class (like the\nmetadata proxy does), but when trying to run valid Neutron processes\n(like neutron-server or the l3 agent) in a daemonized mode, a new class\nmust be written for each such process. This patch creates a new\nProcessDaemon which allows for specifying an import patch and a function\nto run (for example, 'neutron.server' and 'main' respectively) and runs\nit in daemonized mode.\n\nThe reason why simply running '/usr/bin/neutron-server ... & disown'\nwon't work is that the '& disown' syntax is a specific bash syntax.\nIn short, using that will require running an interactive bash shell and\nexecuting the program in that shell, which is far from optimal - so this\nsolution was chosen instead.\n\nA new executable, neutron-daemon, is added. It accepts the following\noptions:\n - pid_file - path to save the PID of the daemonized process.\n - daemonize - True/False, indicating whether or not to daemonize.\n - name - an (hopefully) unique string for easier distinguishing between\n          other daemons.\n - module - python path of the module to import after daemonization.\n - main_func - the function (located in the module) to run.\n\nThis is part of the integration tests effort:\n * [1/3] - Add ability to run daemonized Neutron processes\n - [2/3] - Add full-stack tests framework\n - [3/3] - Test that creating HA routers work\n\nDocImpac t\n\nImplements: blueprint integration-tests\nChange-Id: If75558418bc6ea608ec88f3dd5ffdfdb22aff4a6\n""}, {'number': 12, 'created': '2015-01-05 13:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7509e1f4f64e05d453b2d577e728ec2cb46fe9d6', 'message': ""Add ability to run daemonized Neutron processes\n\nThe current Daemon class allows for spawning processes that are intended\nto be daemonized. For example, the neutron-ns-metadata-proxy uses this\nclass to be able to be easily daemonized. The current implementation\nrequires that each such process inherit from the Daemon class (like the\nmetadata proxy does), but when trying to run valid Neutron processes\n(like neutron-server or the l3 agent) in a daemonized mode, a new class\nmust be written for each such process. This patch creates a new\nProcessDaemon which allows for specifying an import patch and a function\nto run (for example, 'neutron.server' and 'main' respectively) and runs\nit in daemonized mode.\n\nThe reason why simply running '/usr/bin/neutron-server ... & disown'\nwon't work is that the '& disown' syntax is a specific bash syntax.\nIn short, using that will require running an interactive bash shell and\nexecuting the program in that shell, which is far from optimal - so this\nsolution was chosen instead.\n\nA new executable, neutron-daemon, is added. It accepts the following\noptions:\n - pid_file - path to save the PID of the daemonized process.\n - daemonize - True/False, indicating whether or not to daemonize.\n - name - an (hopefully) unique string for easier distinguishing between\n          other daemons.\n - module - python path of the module to import after daemonization.\n - main_func - the function (located in the module) to run.\n\nThis is part of the integration tests effort:\n * [1/3] - Add ability to run daemonized Neutron processes\n - [2/3] - Add full-stack tests framework\n - [3/3] - Test that creating HA routers work\n\nDocImpact\n\nImplements: blueprint integration-tests\nChange-Id: If75558418bc6ea608ec88f3dd5ffdfdb22aff4a6\n""}, {'number': 13, 'created': '2015-01-07 09:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a459fe047a887b88e17ee15ed55bd081e51441a4', 'message': ""Add ability to run daemonized Neutron processes\n\nThe current Daemon class allows for spawning processes that are intended\nto be daemonized. For example, the neutron-ns-metadata-proxy uses this\nclass to be able to be easily daemonized. The current implementation\nrequires that each such process inherit from the Daemon class (like the\nmetadata proxy does), but when trying to run valid Neutron processes\n(like neutron-server or the l3 agent) in a daemonized mode, a new class\nmust be written for each such process. This patch creates a new\nProcessDaemon which allows for specifying an import patch and a function\nto run (for example, 'neutron.server' and 'main' respectively) and runs\nit in daemonized mode.\n\nThe reason why simply running '/usr/bin/neutron-server ... & disown'\nwon't work is that the '& disown' syntax is a specific bash syntax.\nIn short, using that will require running an interactive bash shell and\nexecuting the program in that shell, which is far from optimal - so this\nsolution was chosen instead.\n\nA new executable, neutron-daemon, is added. It accepts the following\noptions:\n - pid_file - path to save the PID of the daemonized process.\n - daemonize - True/False, indicating whether or not to daemonize.\n - name - an (hopefully) unique string for easier distinguishing between\n          other daemons.\n - module - python path of the module to import after daemonization.\n - main_func - the function (located in the module) to run.\n\nThis is part of the integration tests effort:\n * [1/3] - Add ability to run daemonized Neutron processes\n - [2/3] - Add full-stack tests framework\n - [3/3] - Test that creating HA routers work\n\nDocImpact\n\nImplements: blueprint integration-tests\nChange-Id: If75558418bc6ea608ec88f3dd5ffdfdb22aff4a6\n""}, {'number': 14, 'created': '2015-01-08 09:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f7678769a7dccc437acd78b78925e4de57c33b1', 'message': ""Add ability to run daemonized Neutron processes\n\nThe current Daemon class allows for spawning processes that are intended\nto be daemonized. For example, the neutron-ns-metadata-proxy uses this\nclass to be able to be easily daemonized. The current implementation\nrequires that each such process inherit from the Daemon class (like the\nmetadata proxy does), but when trying to run valid Neutron processes\n(like neutron-server or the l3 agent) in a daemonized mode, a new class\nmust be written for each such process. This patch creates a new\nProcessDaemon which allows for specifying an import patch and a function\nto run (for example, 'neutron.server' and 'main' respectively) and runs\nit in daemonized mode.\n\nThe reason why simply running '/usr/bin/neutron-server ... & disown'\nwon't work is that the '& disown' syntax is a specific bash syntax.\nIn short, using that will require running an interactive bash shell and\nexecuting the program in that shell, which is far from optimal - so this\nsolution was chosen instead.\n\nA new executable, neutron-daemon, is added. It accepts the following\noptions:\n - pid_file - path to save the PID of the daemonized process.\n - daemonize - True/False, indicating whether or not to daemonize.\n - name - an (hopefully) unique string for easier distinguishing between\n          other daemons.\n - module - python path of the module to import after daemonization.\n - main_func - the function (located in the module) to run.\n - user - the user under which to run the process.\n - group - the group under which to run the process.\n\nThis is part of the integration tests effort:\n * [1/3] - Add ability to run daemonized Neutron processes\n - [2/3] - Add full-stack tests framework\n - [3/3] - Test that creating HA routers work\n\nDocImpact\n\nImplements: blueprint integration-tests\nChange-Id: If75558418bc6ea608ec88f3dd5ffdfdb22aff4a6\n""}, {'number': 15, 'created': '2015-01-12 15:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ccf24fc1c24783a41eeddc1ec699b537da53484', 'message': ""Add ability to run daemonized Neutron processes\n\nThe current Daemon class allows for spawning processes that are intended\nto be daemonized. For example, the neutron-ns-metadata-proxy uses this\nclass to be able to be easily daemonized. The current implementation\nrequires that each such process inherit from the Daemon class (like the\nmetadata proxy does), but when trying to run valid Neutron processes\n(like neutron-server or the l3 agent) in a daemonized mode, a new class\nmust be written for each such process. This patch creates a new\nProcessDaemon which allows for specifying an import patch and a function\nto run (for example, 'neutron.server' and 'main' respectively) and runs\nit in daemonized mode.\n\nThe reason why simply running '/usr/bin/neutron-server ... & disown'\nwon't work is that the '& disown' syntax is a specific bash syntax.\nIn short, using that will require running an interactive bash shell and\nexecuting the program in that shell, which is far from optimal - so this\nsolution was chosen instead.\n\nA new executable, neutron-daemon, is added. It accepts the following\noptions:\n - pid_file - path to save the PID of the daemonized process.\n - daemonize - True/False, indicating whether or not to daemonize.\n - name - an (hopefully) unique string for easier distinguishing between\n          other daemons.\n - module - python path of the module to import after daemonization.\n - main_func - the function (located in the module) to run.\n - user - the user under which to run the process.\n\n - group - the group under which to run the process.\n\nThis is part of the integration tests effort:\n * [1/3] - Add ability to run daemonized Neutron processes\n - [2/3] - Add full-stack tests framework\n - [3/3] - Test that creating HA routers work\n\nDocImpact\n\nImplements: blueprint integration-tests\nChange-Id: If75558418bc6ea608ec88f3dd5ffdfdb22aff4a6\n""}, {'number': 16, 'created': '2015-01-13 06:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a674e7ed9bfbe39c5adcc177411380b8d2e7a255', 'message': ""Add ability to run daemonized Neutron processes\n\nThe current Daemon class allows for spawning processes that are intended\nto be daemonized. For example, the neutron-ns-metadata-proxy uses this\nclass to be able to be easily daemonized. The current implementation\nrequires that each such process inherit from the Daemon class (like the\nmetadata proxy does), but when trying to run valid Neutron processes\n(like neutron-server or the l3 agent) in a daemonized mode, a new class\nmust be written for each such process. This patch creates a new\nProcessDaemon which allows for specifying an import patch and a function\nto run (for example, 'neutron.server' and 'main' respectively) and runs\nit in daemonized mode.\n\nThe reason why simply running '/usr/bin/neutron-server ... & disown'\nwon't work is that the '& disown' syntax is a specific bash syntax.\nIn short, using that will require running an interactive bash shell and\nexecuting the program in that shell, which is far from optimal - so this\nsolution was chosen instead.\n\nA new executable, neutron-daemon, is added. It accepts the following\noptions:\n - pid_file - path to save the PID of the daemonized process.\n - daemonize - True/False, indicating whether or not to daemonize.\n - name - an (hopefully) unique string for easier distinguishing between\n          other daemons.\n - module - python path of the module to import after daemonization.\n - main_func - the function (located in the module) to run.\n - user - the user under which to run the process.\n\n - group - the group under which to run the process.\n\nThis is part of the integration tests effort:\n * [1/3] - Add ability to run daemonized Neutron processes\n - [2/3] - Add full-stack tests framework\n - [3/3] - Test that creating HA routers work\n\nDocImpact\n\nImplements: blueprint integration-tests\nChange-Id: If75558418bc6ea608ec88f3dd5ffdfdb22aff4a6\n""}, {'number': 17, 'created': '2015-01-19 07:57:00.000000000', 'files': ['neutron/tests/unit/test_metadata_namespace_proxy.py', 'neutron/agent/metadata/namespace_proxy.py', 'neutron/agent/linux/daemon.py', 'neutron/tests/functional/agent/linux/simple_daemon.py', 'neutron/tests/functional/agent/linux/test_daemon.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7a21190569ca3cd0371364d97b09d5e811f438ec', 'message': ""Add ability to run daemonized Neutron processes\n\nThe current Daemon class allows for spawning processes that are intended\nto be daemonized. For example, the neutron-ns-metadata-proxy uses this\nclass to be able to be easily daemonized. The current implementation\nrequires that each such process inherit from the Daemon class (like the\nmetadata proxy does), but when trying to run valid Neutron processes\n(like neutron-server or the l3 agent) in a daemonized mode, a new class\nmust be written for each such process. This patch creates a new\nProcessDaemon which allows for specifying an import patch and a function\nto run (for example, 'neutron.server' and 'main' respectively) and runs\nit in daemonized mode.\n\nThe reason why simply running '/usr/bin/neutron-server ... & disown'\nwon't work is that the '& disown' syntax is a specific bash syntax.\nIn short, using that will require running an interactive bash shell and\nexecuting the program in that shell, which is far from optimal - so this\nsolution was chosen instead.\n\nA new executable, neutron-daemon, is added. It accepts the following\noptions:\n - pid_file - path to save the PID of the daemonized process.\n - daemonize - True/False, indicating whether or not to daemonize.\n - name - an (hopefully) unique string for easier distinguishing between\n          other daemons.\n - module - python path of the module to import after daemonization.\n - main_func - the function (located in the module) to run.\n - user - the user under which to run the process.\n - group - the group under which to run the process.\n\nThis is part of the integration tests effort:\n * [1/3] - Add ability to run daemonized Neutron processes\n - [2/3] - Add full-stack tests framework\n - [3/3] - Test that creating HA routers work\n\nDocImpact\n\nImplements: blueprint integration-tests\nChange-Id: If75558418bc6ea608ec88f3dd5ffdfdb22aff4a6\n""}]",117,128258,7a21190569ca3cd0371364d97b09d5e811f438ec,358,39,17,12444,,,0,"Add ability to run daemonized Neutron processes

The current Daemon class allows for spawning processes that are intended
to be daemonized. For example, the neutron-ns-metadata-proxy uses this
class to be able to be easily daemonized. The current implementation
requires that each such process inherit from the Daemon class (like the
metadata proxy does), but when trying to run valid Neutron processes
(like neutron-server or the l3 agent) in a daemonized mode, a new class
must be written for each such process. This patch creates a new
ProcessDaemon which allows for specifying an import patch and a function
to run (for example, 'neutron.server' and 'main' respectively) and runs
it in daemonized mode.

The reason why simply running '/usr/bin/neutron-server ... & disown'
won't work is that the '& disown' syntax is a specific bash syntax.
In short, using that will require running an interactive bash shell and
executing the program in that shell, which is far from optimal - so this
solution was chosen instead.

A new executable, neutron-daemon, is added. It accepts the following
options:
 - pid_file - path to save the PID of the daemonized process.
 - daemonize - True/False, indicating whether or not to daemonize.
 - name - an (hopefully) unique string for easier distinguishing between
          other daemons.
 - module - python path of the module to import after daemonization.
 - main_func - the function (located in the module) to run.
 - user - the user under which to run the process.
 - group - the group under which to run the process.

This is part of the integration tests effort:
 * [1/3] - Add ability to run daemonized Neutron processes
 - [2/3] - Add full-stack tests framework
 - [3/3] - Test that creating HA routers work

DocImpact

Implements: blueprint integration-tests
Change-Id: If75558418bc6ea608ec88f3dd5ffdfdb22aff4a6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/128258/13 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/test_metadata_namespace_proxy.py', 'neutron/agent/metadata/namespace_proxy.py', 'neutron/agent/linux/daemon.py', 'setup.cfg']",4,8287d2078a30f0da326456ccb8b9c05f683cb9cf,bp/integration-tests, neutron-daemon = neutron.agent.linux.daemon:main,,150,99
openstack%2Fnova~master~I43843dd9d2c7b607b32210c446294b628e1cf871,openstack/nova,master,I43843dd9d2c7b607b32210c446294b628e1cf871,"Add JSON schema for ""associate_host"" API",MERGED,2015-01-29 07:42:07.000000000,2015-02-02 16:44:53.000000000,2015-02-02 16:44:50.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-29 07:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9c99360352bba254832cc40d536cdad510b08f8', 'message': 'Add JSON schema for ""associate_host"" API\n\nThis patch adds JSON schema for V2.1 ""associate_host"" API\nand unit tests for same.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I43843dd9d2c7b607b32210c446294b628e1cf871\n'}, {'number': 2, 'created': '2015-01-30 00:13:01.000000000', 'files': ['nova/tests/unit/api/openstack/compute/contrib/test_networks.py', 'nova/api/openstack/compute/schemas/v3/networks_associate.py', 'nova/api/openstack/compute/plugins/v3/networks_associate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2d53cb76cd6399d0dba5744159baeab6b672b979', 'message': 'Add JSON schema for ""associate_host"" API\n\nThis patch adds JSON schema for V2.1 ""associate_host"" API\nand unit tests for same.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I43843dd9d2c7b607b32210c446294b628e1cf871\n'}]",5,151131,2d53cb76cd6399d0dba5744159baeab6b672b979,21,8,2,8556,,,0,"Add JSON schema for ""associate_host"" API

This patch adds JSON schema for V2.1 ""associate_host"" API
and unit tests for same.

Partially implements blueprint v2-on-v3-api

Change-Id: I43843dd9d2c7b607b32210c446294b628e1cf871
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/151131/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/contrib/test_networks.py', 'nova/api/openstack/compute/schemas/v3/networks_associate.py', 'nova/api/openstack/compute/plugins/v3/networks_associate.py']",3,d9c99360352bba254832cc40d536cdad510b08f8,bp/v2-on-v3-api,from nova.api.openstack.compute.schemas.v3 import networks_associatefrom nova.api import validation @validation.schema(networks_associate.associate_host),,57,1
openstack%2Fceilometer~master~I7f2bf518453b4f3706fca92ac0b09c70f041ed9c,openstack/ceilometer,master,I7f2bf518453b4f3706fca92ac0b09c70f041ed9c,Change messaging listener executor to blocking,ABANDONED,2015-02-02 16:21:32.000000000,2015-02-02 16:21:49.000000000,,[],"[{'number': 1, 'created': '2015-02-02 16:21:32.000000000', 'files': ['ceilometer/messaging.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6d5d09047f8601d6917c13842f3e7f1d44e65f5c', 'message': 'Change messaging listener executor to blocking\n\nNow we use \'eventlet\' notification_listener executor. it\'s\nprovide socket errors with rabbitmq. Blocking executor avoid\nthese issues.\nNotification service performance does not change much for these\ncases. In HA mode with 3 controllers ""eventlet"" 3\nceilometer-agent-notification processed ~150 samples per second,\n""blocking"" ~120 samples/sec.\n\nCloses-bug: #1393505\n\nChange-Id: I7f2bf518453b4f3706fca92ac0b09c70f041ed9c\n'}]",0,152172,6d5d09047f8601d6917c13842f3e7f1d44e65f5c,2,0,1,7729,,,0,"Change messaging listener executor to blocking

Now we use 'eventlet' notification_listener executor. it's
provide socket errors with rabbitmq. Blocking executor avoid
these issues.
Notification service performance does not change much for these
cases. In HA mode with 3 controllers ""eventlet"" 3
ceilometer-agent-notification processed ~150 samples per second,
""blocking"" ~120 samples/sec.

Closes-bug: #1393505

Change-Id: I7f2bf518453b4f3706fca92ac0b09c70f041ed9c
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/72/152172/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/messaging.py'],1,6d5d09047f8601d6917c13842f3e7f1d44e65f5c,," transport, targets, endpoints, executor='blocking',"," transport, targets, endpoints, executor='eventlet',",1,1
openstack%2Foslo.policy~master~I6c18351b5bafa50a4da090b270f576a549db6b93,openstack/oslo.policy,master,I6c18351b5bafa50a4da090b270f576a549db6b93,Remove use of graduated modules,MERGED,2015-01-31 00:31:20.000000000,2015-02-02 16:21:44.000000000,2015-02-02 16:21:44.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6482}, {'_account_id': 6486}]","[{'number': 1, 'created': '2015-01-31 00:31:20.000000000', 'files': ['oslo_policy/openstack/common/fixture/lockutils.py', 'requirements.txt', 'oslo_policy/openstack/common/log.py', 'oslo_policy/policy.py', 'oslo_policy/openstack/common/fixture/__init__.py', 'openstack-common.conf', 'oslo_policy/openstack/common/lockutils.py', 'tox.ini', 'oslo_policy/tests/test_policy.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/7379923070c666d6fc7214a36253d60a25c20cc5', 'message': 'Remove use of graduated modules\n\n- Replace usage of oslo_policy.openstack.common.log with oslo_log.log\n- Replace usage of oslo_policy.openstack.common.fixture.lockutils with\n  oslo_concurrency.fixture.lockutils\n- Replace tox usage of oslo_policy.openstack.common.lockutils with\n  lockutils-wrapper console script provided by oslo_concurrency\n\nCloses-bug: 1415628\n\nChange-Id: I6c18351b5bafa50a4da090b270f576a549db6b93\n'}]",1,151829,7379923070c666d6fc7214a36253d60a25c20cc5,8,4,1,12000,,,0,"Remove use of graduated modules

- Replace usage of oslo_policy.openstack.common.log with oslo_log.log
- Replace usage of oslo_policy.openstack.common.fixture.lockutils with
  oslo_concurrency.fixture.lockutils
- Replace tox usage of oslo_policy.openstack.common.lockutils with
  lockutils-wrapper console script provided by oslo_concurrency

Closes-bug: 1415628

Change-Id: I6c18351b5bafa50a4da090b270f576a549db6b93
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/29/151829/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_policy/openstack/common/fixture/lockutils.py', 'requirements.txt', 'oslo_policy/openstack/common/log.py', 'oslo_policy/policy.py', 'openstack-common.conf', 'oslo_policy/openstack/common/fixture/__init__.py', 'oslo_policy/openstack/common/lockutils.py', 'tox.ini', 'oslo_policy/tests/test_policy.py']",9,7379923070c666d6fc7214a36253d60a25c20cc5,bug/1415628,from oslo_concurrency.fixture import lockutils,from oslo_policy.openstack.common.fixture import lockutils,7,1117
openstack%2Foslo.policy~master~Ib8adc3296471f8dd3ee52554d1b0e3b8e751d20d,openstack/oslo.policy,master,Ib8adc3296471f8dd3ee52554d1b0e3b8e751d20d,Add docstrings for check classes,MERGED,2015-01-30 23:56:09.000000000,2015-02-02 16:21:38.000000000,2015-02-02 16:21:37.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6482}, {'_account_id': 6486}]","[{'number': 1, 'created': '2015-01-30 23:56:09.000000000', 'files': ['oslo_policy/policy.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/b86fbb6534ad33f144a8ec1b4b0ce0ac1d86b2fa', 'message': ""Add docstrings for check classes\n\nThe check classes don't have docstrings, which breaks references\nto those classes from other docstrings.  This moves the existing\n__call__() method docstrings to be class docstrings to allow the\nreference links to work.\n\nChange-Id: Ib8adc3296471f8dd3ee52554d1b0e3b8e751d20d\n""}]",2,151822,b86fbb6534ad33f144a8ec1b4b0ce0ac1d86b2fa,8,4,1,9098,,,0,"Add docstrings for check classes

The check classes don't have docstrings, which breaks references
to those classes from other docstrings.  This moves the existing
__call__() method docstrings to be class docstrings to allow the
reference links to work.

Change-Id: Ib8adc3296471f8dd3ee52554d1b0e3b8e751d20d
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/22/151822/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_policy/policy.py'],1,b86fbb6534ad33f144a8ec1b4b0ce0ac1d86b2fa,docstrings," """"""Recursively checks credentials based on the defined rules."""""" def __call__(self, target, creds, enforcer): """"""Check that there is a matching role in the cred dict."""""" def __call__(self, target, creds, enforcer): """"""Check http: rules by calling to a remote server. This example implementation simply verifies that the response is exactly 'True'. """""" def __call__(self, target, creds, enforcer): """"""Check an individual match. Matches look like: tenant:%(tenant_id)s role:compute:admin True:%(user.enabled)s 'Member':%(role.name)s """""" def __call__(self, target, creds, enforcer):"," def __call__(self, target, creds, enforcer): """"""Recursively checks credentials based on the defined rules."""""" def __call__(self, target, creds, enforcer): """"""Check that there is a matching role in the cred dict."""""" def __call__(self, target, creds, enforcer): """"""Check http: rules by calling to a remote server. This example implementation simply verifies that the response is exactly 'True'. """""" def __call__(self, target, creds, enforcer): """"""Check an individual match. Matches look like: tenant:%(tenant_id)s role:compute:admin True:%(user.enabled)s 'Member':%(role.name)s """""" ",20,20
openstack%2Ffuel-web~master~Ib90400ac89bada8bd5a87787cc1da5a3864b874e,openstack/fuel-web,master,Ib90400ac89bada8bd5a87787cc1da5a3864b874e,Fix for #1412843,MERGED,2015-02-02 09:23:34.000000000,2015-02-02 16:21:19.000000000,2015-02-02 15:32:33.000000000,"[{'_account_id': 3}, {'_account_id': 8392}, {'_account_id': 8735}, {'_account_id': 8749}, {'_account_id': 8935}, {'_account_id': 8971}, {'_account_id': 10068}, {'_account_id': 12139}, {'_account_id': 12199}, {'_account_id': 13306}, {'_account_id': 14840}]","[{'number': 1, 'created': '2015-02-02 09:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/48da5574b7ad2f1c7e1216c22f2f53bc02cd7ee9', 'message': 'Implements mutually exclusive select of datastorage backend for Glance\n\nChange-Id: Ib90400ac89bada8bd5a87787cc1da5a3864b874e\nCloses-Bug: 1412843\n'}, {'number': 2, 'created': '2015-02-02 09:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/943e173692b7b4e41997b59d2b6ca85438ef685e', 'message': 'Implements mutually exclusive selection of datastorage backend for Glance\n\nChange-Id: Ib90400ac89bada8bd5a87787cc1da5a3864b874e\nCloses-Bug: 1412843\n'}, {'number': 3, 'created': '2015-02-02 09:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/b8422f7c23ff9e72ba404048bdd1f6bfea98c008', 'message': 'Bugfix for #1412843\nImplements mutually exclusive selection of datastorage backend for Glance\n\nChange-Id: Ib90400ac89bada8bd5a87787cc1da5a3864b874e\nCloses-Bug: 1412843\n\nImplements mutually exclusive selection of datastorage backend for glance\nquickfix\n\nChange-Id: Ib90400ac89bada8bd5a87787cc1da5a3864b874e\nCloses-Bug: 1412843\n'}, {'number': 4, 'created': '2015-02-02 09:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/7a31435230eaa2fbdb865ce71a46392f1b7ad2fa', 'message': 'Bugfix for #1412843\n\nImplements mutually exclusive selection of datastorage backend for Glance\n\nChange-Id: Ib90400ac89bada8bd5a87787cc1da5a3864b874e\nCloses-Bug: 1412843\n\nImplements mutually exclusive selection of datastorage backend for glance\nquickfix\n\nChange-Id: Ib90400ac89bada8bd5a87787cc1da5a3864b874e\nCloses-Bug: 1412843\n'}, {'number': 5, 'created': '2015-02-02 10:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/a7e12db11d35c6b5e968f4c2ffee86c68559ada7', 'message': 'Bugfix for #1412843\n\nImplements mutually exclusive selection of datastorage backend for Glance\n\nChange-Id: Ib90400ac89bada8bd5a87787cc1da5a3864b874e\nCloses-Bug: 1412843\n'}, {'number': 6, 'created': '2015-02-02 10:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/060d0cef314a11a1f7f3599988ad4db05c252c51', 'message': 'Bugfix for #1412843\n\nImplements mutually exclusive selection of data storage backend for Glance\n\nCloses-Bug: 1412843\nChange-Id: Ib90400ac89bada8bd5a87787cc1da5a3864b874e\n\nImplements mutually exclusive selection of datastorage backend for glance\nquickfix\n\nChange-Id: Ib90400ac89bada8bd5a87787cc1da5a3864b874e\nCloses-Bug: 1412843\n'}, {'number': 7, 'created': '2015-02-02 10:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/59b636ab2342a8aa3b9ab617f956b1387dcd7b10', 'message': 'Bugfix for #1412843\n\nImplements mutually exclusive selection of data storage backend for Glance\n\nCloses-Bug: 1412843\nChange-Id: Ib90400ac89bada8bd5a87787cc1da5a3864b874e\n'}, {'number': 8, 'created': '2015-02-02 12:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/4632a54eb478daa0fd491d4e45f1adcf035f7b4a', 'message': 'Restriction message added\n\nCloses-Bug: 1412843\nChange-Id: Ib90400ac89bada8bd5a87787cc1da5a3864b874e\n'}, {'number': 9, 'created': '2015-02-02 13:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/8d22aad6d32ffab8c0b9362ece8440585cbfee92', 'message': 'Fix for #1412843\n\nImplements mutually exclusive selection of data storage backend for Glance\n\nCloses-Bug: 1412843\nChange-Id: Ib90400ac89bada8bd5a87787cc1da5a3864b874e\n'}, {'number': 10, 'created': '2015-02-02 14:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/31d34946351786735c0ca17717761586b33f7bfa', 'message': 'Fix for #1412843\n\nImplements mutually exclusive selection of data storage backend for Glance.\n\nCloses-Bug: 1412843\nChange-Id: Ib90400ac89bada8bd5a87787cc1da5a3864b874e\n'}, {'number': 11, 'created': '2015-02-02 14:58:36.000000000', 'files': ['nailgun/nailgun/fixtures/openstack.yaml'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/18796d51b15c784d420f3ce3783957354c25f920', 'message': 'Fix for #1412843\n\nImplements mutually exclusive selection of data storage backend for Glance\n\nCloses-Bug: 1412843\nChange-Id: Ib90400ac89bada8bd5a87787cc1da5a3864b874e\n'}]",10,152058,18796d51b15c784d420f3ce3783957354c25f920,84,11,11,14840,,,0,"Fix for #1412843

Implements mutually exclusive selection of data storage backend for Glance

Closes-Bug: 1412843
Change-Id: Ib90400ac89bada8bd5a87787cc1da5a3864b874e
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/58/152058/9 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/nailgun/fixtures/openstack.yaml'],1,48da5574b7ad2f1c7e1216c22f2f53bc02cd7ee9,bug/1412843," - ""settings:storage.images_vcenter.value == true""",,1,0
openstack%2Fneutron~master~I6b7dd2ca0867ceab58dcad44b786923a4515f5be,openstack/neutron,master,I6b7dd2ca0867ceab58dcad44b786923a4515f5be,update to oslo.rootwrap verison to 1.5.0 in requirement.txt,ABANDONED,2015-02-01 07:56:46.000000000,2015-02-02 16:18:55.000000000,,"[{'_account_id': 3}, {'_account_id': 2874}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 12065}, {'_account_id': 12171}, {'_account_id': 14212}]","[{'number': 1, 'created': '2015-02-01 07:56:46.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/291e569517928276faace3cd9ffc8d42672570ce', 'message': 'update to oslo.rootwrap verison to 1.5.0 in requirement.txt\n\ndue to oslo.rootwrap dropping namespace packages the requirement.txt\nneed to be update to oslo.rootwrap>=1.5.0\n\nCloses-Bug:1416807\nChange-Id: I6b7dd2ca0867ceab58dcad44b786923a4515f5be\n'}]",0,151926,291e569517928276faace3cd9ffc8d42672570ce,38,19,1,12171,,,0,"update to oslo.rootwrap verison to 1.5.0 in requirement.txt

due to oslo.rootwrap dropping namespace packages the requirement.txt
need to be update to oslo.rootwrap>=1.5.0

Closes-Bug:1416807
Change-Id: I6b7dd2ca0867ceab58dcad44b786923a4515f5be
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/151926/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,291e569517928276faace3cd9ffc8d42672570ce,bug/1416807,oslo.rootwrap>=1.5.0,oslo.rootwrap>=1.3.0,1,1
openstack%2Fsahara-image-elements~master~Ie981346bfd5dd98d9c48740f74ccff0bf424136b,openstack/sahara-image-elements,master,Ie981346bfd5dd98d9c48740f74ccff0bf424136b,Remove ability to building vanilla 2.3 and 2.4 images,MERGED,2015-01-26 10:29:20.000000000,2015-02-02 16:14:02.000000000,2015-02-02 16:14:02.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7125}, {'_account_id': 7213}, {'_account_id': 7555}, {'_account_id': 7710}, {'_account_id': 7732}, {'_account_id': 7745}, {'_account_id': 8090}, {'_account_id': 8091}, {'_account_id': 8411}, {'_account_id': 10670}, {'_account_id': 11059}, {'_account_id': 12038}, {'_account_id': 12039}]","[{'number': 1, 'created': '2015-01-26 10:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/98e0db713d5e27dc8ea20c926c4f57a4017b87ef', 'message': 'Remove ability to building vanilla 2.3 and 2.4 images\n\nVanilla 2.3 deprecated in Juno\nVanilla 2.4 deprecated in Kilo\n\nNeed to remove code for building these images.\n\nChange-Id: Ie981346bfd5dd98d9c48740f74ccff0bf424136b\n'}, {'number': 2, 'created': '2015-01-26 13:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/bc7cdb3f5ddd21b9c2ad74fc2940b7b53afe8329', 'message': 'Remove ability to building vanilla 2.3 and 2.4 images\n\nVanilla 2.3 deprecated in Juno\nVanilla 2.4 deprecated in Kilo\n\nNeed to remove code for building these images.\n\nChange-Id: Ie981346bfd5dd98d9c48740f74ccff0bf424136b\n'}, {'number': 3, 'created': '2015-01-26 14:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/00cf45eefd25ad7325b984d348d36e54ce8b6c4b', 'message': 'Remove ability to building vanilla 2.3 and 2.4 images\n\nVanilla 2.3 deprecated in Juno\nVanilla 2.4 deprecated in Kilo\n\nNeed to remove code for building these images.\n\nImplements blueprint drop-hadoop-2-3-support\n\nChange-Id: Ie981346bfd5dd98d9c48740f74ccff0bf424136b'}, {'number': 4, 'created': '2015-01-27 07:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/6fb7226fc05d8ece7e60cc128e2509b389fd9344', 'message': 'Remove ability to building vanilla 2.3 and 2.4 images\n\nVanilla 2.3 deprecated in Juno\nVanilla 2.4 deprecated in Kilo\n\nNeed to remove code for building these images.\n\nChange-Id: Ie981346bfd5dd98d9c48740f74ccff0bf424136b\n'}, {'number': 5, 'created': '2015-01-27 08:47:59.000000000', 'files': ['elements/oozie/install.d/50-setup-oozie', 'diskimage-create/diskimage-create.sh', 'elements/hadoop/post-install.d/40-setup-hadoop', 'elements/oozie/root.d/0-check', 'elements/hadoop/README.md'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/18f23a7cf52036441dd8cf6f971d8f844723b196', 'message': 'Remove ability to building vanilla 2.3 and 2.4 images\n\nVanilla 2.3 deprecated in Juno\nVanilla 2.4 deprecated in Kilo\n\nNeed to remove code for building these images.\n\nImplements blueprint drop-hadoop-2-3-support\n\nChange-Id: Ie981346bfd5dd98d9c48740f74ccff0bf424136b'}]",0,149971,18f23a7cf52036441dd8cf6f971d8f844723b196,56,15,5,7710,,,0,"Remove ability to building vanilla 2.3 and 2.4 images

Vanilla 2.3 deprecated in Juno
Vanilla 2.4 deprecated in Kilo

Need to remove code for building these images.

Implements blueprint drop-hadoop-2-3-support

Change-Id: Ie981346bfd5dd98d9c48740f74ccff0bf424136b",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/71/149971/5 && git format-patch -1 --stdout FETCH_HEAD,"['elements/oozie/install.d/50-setup-oozie', 'diskimage-create/diskimage-create.sh', 'elements/hadoop/post-install.d/40-setup-hadoop', 'elements/oozie/root.d/0-check']",4,98e0db713d5e27dc8ea20c926c4f57a4017b87ef,23-24-deprecated,,"elif [ ""$DIB_HADOOP_VERSION"" == ""2.3.0"" ]; then if [ -z ""$OOZIE_HADOOP_V2_3_DOWNLOAD_URL"" -a -z ""$OOZIE_HADOOP_V2_3_FILE"" ]; then echo ""OOZIE_HADOOP_V2_3_FILE and OOZIE_HADOOP_V2_3_DOWNLOAD_URL are not set. Impossible to install Oozie. Exit"" exit 1 fi elif [ ""$DIB_HADOOP_VERSION"" == ""2.4.1"" ]; then if [ -z ""$OOZIE_HADOOP_V2_4_DOWNLOAD_URL"" -a -z ""$OOZIE_HADOOP_V2_4_FILE"" ]; then echo ""OOZIE_HADOOP_V2_4_FILE and OOZIE_HADOOP_V2_4_DOWNLOAD_URL are not set. Impossible to install Oozie. Exit"" exit 1 fi",2,64
openstack%2Fsahara~master~Ia7dc2dde54ab62199a630c3d1b64c76f08698181,openstack/sahara,master,Ia7dc2dde54ab62199a630c3d1b64c76f08698181,Spark Temporary Job Data Retention and Cleanup,MERGED,2015-01-26 19:06:54.000000000,2015-02-02 16:09:37.000000000,2015-01-30 22:44:58.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 8411}, {'_account_id': 8871}, {'_account_id': 10670}, {'_account_id': 12038}, {'_account_id': 13953}]","[{'number': 1, 'created': '2015-01-26 19:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/ed1a44cbf337443fe82f8b63fec3af404dd6746d', 'message': 'Spark Temporary Job Data Retention and Cleanup\n\nIntroduces a periodic task for the cleanup of data from Spark jobs, in order\nto ease maintenance of long-lived clusters.\n\nChange-Id: Ia7dc2dde54ab62199a630c3d1b64c76f08698181\nImplements: blueprint spark-cleanup\n'}, {'number': 2, 'created': '2015-01-27 18:15:11.000000000', 'files': ['sahara/plugins/spark/resources/spark-cleanup.cron', 'sahara/tests/unit/plugins/spark/test_plugin.py', 'sahara/plugins/spark/config_helper.py', 'sahara/plugins/spark/plugin.py', 'sahara/plugins/spark/resources/tmp-cleanup.sh.template', 'sahara/tests/unit/plugins/spark/test_config_helper.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/7cf61bd313b168f4c45ba70f84deef520b3f6842', 'message': 'Spark Temporary Job Data Retention and Cleanup\n\nIntroduces a periodic task for the cleanup of data from Spark jobs, in order\nto ease maintenance of long-lived clusters.\n\nChange-Id: Ia7dc2dde54ab62199a630c3d1b64c76f08698181\nImplements: blueprint spark-cleanup\n'}]",8,150117,7cf61bd313b168f4c45ba70f84deef520b3f6842,110,9,2,13953,,,0,"Spark Temporary Job Data Retention and Cleanup

Introduces a periodic task for the cleanup of data from Spark jobs, in order
to ease maintenance of long-lived clusters.

Change-Id: Ia7dc2dde54ab62199a630c3d1b64c76f08698181
Implements: blueprint spark-cleanup
",git fetch https://review.opendev.org/openstack/sahara refs/changes/17/150117/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/plugins/spark/resources/spark-cleanup.cron', 'sahara/tests/unit/plugins/spark/test_plugin.py', 'sahara/plugins/spark/config_helper.py', 'sahara/plugins/spark/plugin.py', 'sahara/plugins/spark/resources/tmp-cleanup.sh.template', 'sahara/tests/unit/plugins/spark/test_config_helper.py']",6,ed1a44cbf337443fe82f8b63fec3af404dd6746d,bp/spark-cleanup,"import mock @mock.patch('sahara.plugins.spark.config_helper.get_config_value') def test_cleanup_configs(self, get_config_value): getter = lambda plugin, key, cluster: plugin_configs[key] get_config_value.side_effect = getter plugin_configs = {""Minimum cleanup megabytes"": 4096, ""Minimum cleanup seconds"": 86400, ""Maximum cleanup seconds"": 1209600} configs = c_helper.generate_job_cleanup_config(None) self.assertTrue(configs['valid']) expected = [""MINIMUM_CLEANUP_MEGABYTES=4096"", ""MINIMUM_CLEANUP_SECONDS=86400"", ""MAXIMUM_CLEANUP_SECONDS=1209600""] for config_value in expected: self.assertIn(config_value, configs['script']) self.assertIn(""0 * * * * root /etc/hadoop/tmp-cleanup.sh"", configs['cron'][0]) plugin_configs['Maximum cleanup seconds'] = 0 configs = c_helper.generate_job_cleanup_config(None) self.assertFalse(configs['valid']) self.assertNotIn(configs, 'script') self.assertNotIn(configs, 'cron') plugin_configs = {""Minimum cleanup megabytes"": 0, ""Minimum cleanup seconds"": 0, ""Maximum cleanup seconds"": 1209600} configs = c_helper.generate_job_cleanup_config(None) self.assertFalse(configs['valid']) self.assertNotIn(configs, 'script') self.assertNotIn(configs, 'cron')",,180,2
openstack%2Fgnocchi~master~I70cc189e3f535022e61ed55dc14e58e9d36f8124,openstack/gnocchi,master,I70cc189e3f535022e61ed55dc14e58e9d36f8124,Declare method static where needed,MERGED,2015-02-02 15:07:53.000000000,2015-02-02 16:08:31.000000000,2015-02-02 16:08:31.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 10987}, {'_account_id': 11564}]","[{'number': 1, 'created': '2015-02-02 15:07:53.000000000', 'files': ['gnocchi/rest/__init__.py', 'gnocchi/tests/base.py', 'gnocchi/tests/test_carbonara.py', 'gnocchi/indexer/sqlalchemy.py', 'gnocchi/storage/_carbonara.py'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/ec25d97cbd98ea44f05dba01823758312d7f8e73', 'message': 'Declare method static where needed\n\nChange-Id: I70cc189e3f535022e61ed55dc14e58e9d36f8124\n'}]",0,152146,ec25d97cbd98ea44f05dba01823758312d7f8e73,8,4,1,1669,,,0,"Declare method static where needed

Change-Id: I70cc189e3f535022e61ed55dc14e58e9d36f8124
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/46/152146/1 && git format-patch -1 --stdout FETCH_HEAD,"['gnocchi/rest/__init__.py', 'gnocchi/tests/base.py', 'gnocchi/tests/test_carbonara.py', 'gnocchi/indexer/sqlalchemy.py', 'gnocchi/storage/_carbonara.py']",5,ec25d97cbd98ea44f05dba01823758312d7f8e73,jd/static," @staticmethod def _lock(metric, aggregation):"," def _lock(self, metric, aggregation):",14,8
openstack%2Fnova~master~I0a4a86644da7bd6e71c0514bf5335c861cc6b036,openstack/nova,master,I0a4a86644da7bd6e71c0514bf5335c861cc6b036,Add migrate_flavor_data to nova-manage,MERGED,2014-11-17 20:27:04.000000000,2015-02-02 16:08:05.000000000,2015-02-02 16:08:02.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 5511}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-11-17 20:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c2bdcb470f1802f65d05ad15eae220c71b0532b', 'message': 'Add migrate_flavor_data to nova-manage\n\nThis adds a utility to nova-manage that migrates instance flavor data\nfrom system_metadata to instance_extra. An admin can use this to run\nbatch conversions on a running system until all instances have transitioned.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I0a4a86644da7bd6e71c0514bf5335c861cc6b036\n'}, {'number': 2, 'created': '2014-12-19 18:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2681031432cc2acfbbe518ad412875d69badec26', 'message': 'Add migrate_flavor_data to nova-manage\n\nThis adds a utility to nova-manage that migrates instance flavor data\nfrom system_metadata to instance_extra. An admin can use this to run\nbatch conversions on a running system until all instances have transitioned.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I0a4a86644da7bd6e71c0514bf5335c861cc6b036\n'}, {'number': 3, 'created': '2015-01-12 15:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fed6003b4626fd95178ae9d18bb23124525a74ee', 'message': 'Add migrate_flavor_data to nova-manage\n\nThis adds a utility to nova-manage that migrates instance flavor data\nfrom system_metadata to instance_extra. An admin can use this to run\nbatch conversions on a running system until all instances have transitioned.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I0a4a86644da7bd6e71c0514bf5335c861cc6b036\n'}, {'number': 4, 'created': '2015-01-13 22:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c6d6ed27449291e4d5597c57f6696f5448b36fa', 'message': 'Add migrate_flavor_data to nova-manage\n\nThis adds a utility to nova-manage that migrates instance flavor data\nfrom system_metadata to instance_extra. An admin can use this to run\nbatch conversions on a running system until all instances have transitioned.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I0a4a86644da7bd6e71c0514bf5335c861cc6b036\n'}, {'number': 5, 'created': '2015-01-15 14:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb6a5b76cc5ab3d43a284be1789e8f5c81d7aa0c', 'message': 'Add migrate_flavor_data to nova-manage\n\nThis adds a utility to nova-manage that migrates instance flavor data\nfrom system_metadata to instance_extra. An admin can use this to run\nbatch conversions on a running system until all instances have transitioned.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I0a4a86644da7bd6e71c0514bf5335c861cc6b036\n'}, {'number': 6, 'created': '2015-01-16 17:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d5245cef1fef183a1b3103683b91ea059051be8d', 'message': 'Add migrate_flavor_data to nova-manage\n\nThis adds a utility to nova-manage that migrates instance flavor data\nfrom system_metadata to instance_extra. An admin can use this to run\nbatch conversions on a running system until all instances have transitioned.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I0a4a86644da7bd6e71c0514bf5335c861cc6b036\n'}, {'number': 7, 'created': '2015-01-16 18:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8724e9e83894880c58953f16864b5195ffccd7eb', 'message': 'Add migrate_flavor_data to nova-manage\n\nThis adds a utility to nova-manage that migrates instance flavor data\nfrom system_metadata to instance_extra. An admin can use this to run\nbatch conversions on a running system until all instances have transitioned.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I0a4a86644da7bd6e71c0514bf5335c861cc6b036\n'}, {'number': 8, 'created': '2015-01-19 18:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f27f460341cbebd537e169f811a05b1b40c2f3d', 'message': 'Add migrate_flavor_data to nova-manage\n\nThis adds a utility to nova-manage that migrates instance flavor data\nfrom system_metadata to instance_extra. An admin can use this to run\nbatch conversions on a running system until all instances have transitioned.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I0a4a86644da7bd6e71c0514bf5335c861cc6b036\n'}, {'number': 9, 'created': '2015-01-27 18:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/564ccb54265a35437a4bf54d8259db512e7f4535', 'message': 'Add migrate_flavor_data to nova-manage\n\nThis adds a utility to nova-manage that migrates instance flavor data\nfrom system_metadata to instance_extra. An admin can use this to run\nbatch conversions on a running system until all instances have transitioned.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I0a4a86644da7bd6e71c0514bf5335c861cc6b036\n'}, {'number': 10, 'created': '2015-01-27 23:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a724a166c91964e0b5741c8cb960773825636616', 'message': 'Add migrate_flavor_data to nova-manage\n\nThis adds a utility to nova-manage that migrates instance flavor data\nfrom system_metadata to instance_extra. An admin can use this to run\nbatch conversions on a running system until all instances have transitioned.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I0a4a86644da7bd6e71c0514bf5335c861cc6b036\n'}, {'number': 11, 'created': '2015-01-28 17:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e624a28e8a0c8d2d19b0839730ed47df4cdf7c0d', 'message': 'Add migrate_flavor_data to nova-manage\n\nThis adds a utility to nova-manage that migrates instance flavor data\nfrom system_metadata to instance_extra. An admin can use this to run\nbatch conversions on a running system until all instances have transitioned.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I0a4a86644da7bd6e71c0514bf5335c861cc6b036\n'}, {'number': 12, 'created': '2015-01-28 17:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a715ca557df8793fd1dbfb94ac23c5148b6ec138', 'message': 'Add migrate_flavor_data to nova-manage\n\nThis adds a utility to nova-manage that migrates instance flavor data\nfrom system_metadata to instance_extra. An admin can use this to run\nbatch conversions on a running system until all instances have transitioned.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I0a4a86644da7bd6e71c0514bf5335c861cc6b036\n'}, {'number': 13, 'created': '2015-01-28 18:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70ecff2705fb0f215fe0f48359bc1f1e5f4e43eb', 'message': 'Add migrate_flavor_data to nova-manage\n\nThis adds a utility to nova-manage that migrates instance flavor data\nfrom system_metadata to instance_extra. An admin can use this to run\nbatch conversions on a running system until all instances have transitioned.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I0a4a86644da7bd6e71c0514bf5335c861cc6b036\n'}, {'number': 14, 'created': '2015-01-28 19:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb3c78edbd949014deabf67197c89825cb55bd92', 'message': 'Add migrate_flavor_data to nova-manage\n\nThis adds a utility to nova-manage that migrates instance flavor data\nfrom system_metadata to instance_extra. An admin can use this to run\nbatch conversions on a running system until all instances have transitioned.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I0a4a86644da7bd6e71c0514bf5335c861cc6b036\n'}, {'number': 15, 'created': '2015-01-29 15:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bb4e9fcaac7a12a19b0557685c9fc317196d546', 'message': 'Add migrate_flavor_data to nova-manage\n\nThis adds a utility to nova-manage that migrates instance flavor data\nfrom system_metadata to instance_extra. An admin can use this to run\nbatch conversions on a running system until all instances have transitioned.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I0a4a86644da7bd6e71c0514bf5335c861cc6b036\n'}, {'number': 16, 'created': '2015-01-29 20:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a138615910582446a4b3875bbfb779c3e514c196', 'message': 'Add migrate_flavor_data to nova-manage\n\nThis adds a utility to nova-manage that migrates instance flavor data\nfrom system_metadata to instance_extra. An admin can use this to run\nbatch conversions on a running system until all instances have transitioned.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I0a4a86644da7bd6e71c0514bf5335c861cc6b036\n'}, {'number': 17, 'created': '2015-01-29 22:35:21.000000000', 'files': ['nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b4f07f42763489ddf459e4e795477530bdcbd994', 'message': 'Add migrate_flavor_data to nova-manage\n\nThis adds a utility to nova-manage that migrates instance flavor data\nfrom system_metadata to instance_extra. An admin can use this to run\nbatch conversions on a running system until all instances have transitioned.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I0a4a86644da7bd6e71c0514bf5335c861cc6b036\n'}]",21,135067,b4f07f42763489ddf459e4e795477530bdcbd994,109,14,17,4393,,,0,"Add migrate_flavor_data to nova-manage

This adds a utility to nova-manage that migrates instance flavor data
from system_metadata to instance_extra. An admin can use this to run
batch conversions on a running system until all instances have transitioned.

Related to blueprint flavor-from-sysmeta-to-blob

Change-Id: I0a4a86644da7bd6e71c0514bf5335c861cc6b036
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/135067/16 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",5,5c2bdcb470f1802f65d05ad15eae220c71b0532b,bp/flavor-from-sysmeta-to-blob,"def _augment_flavor_to_migrate(flavor_to_migrate, db_flavor): """"""Make sure that extra_specs on the flavor to migrate is updated."""""" if not flavor_to_migrate.obj_attr_is_set('extra_specs'): flavor_to_migrate.extra_specs = {} for key in db_flavor['extra_specs']: if key not in flavor_to_migrate.extra_specs: flavor_to_migrate.extra_specs[key] = db_flavor['extra_specs'][key] def _augment_flavors_to_migrate(instance, flavor_cache): """""" :param sysmeta: Dict of Instance system_metadata to be mined :param flavor_cache: Dict to persist flavors we look up from the DB :returns: Three-tuple of flavor, old_flavor, new_flavor. The last two may be None """""" # NOTE(danms): This is only ever run in nova-manage, and we need to avoid # a circular import from nova.compute import flavors anychanged = False for flavorprop in ['flavor', 'old_flavor', 'new_flavor']: if not instance.obj_attr_is_set(flavorprop): continue flavor = getattr(instance, flavorprop) if flavor is None: continue flavorid = flavor.flavorid if flavorid not in flavor_cache: flavor_cache[flavorid] = flavor_get_by_flavor_id( instance._context, flavorid, 'yes') _augment_flavor_to_migrate(flavor, flavor_cache[flavorid]) @require_admin_context def migrate_flavor_data(context, max_count, flavor_cache): # NOTE(danms): This is only ever run in nova-manage, and we need to avoid # a circular import from nova import objects query = _instance_get_all_query(context, joins=['extra', 'extra.flavor']).\ join(models.Instance.extra).\ filter(models.InstanceExtra.flavor.is_(None)) if max_count is not None: instances = query.limit(max_count) else: instances = query.all() instances = _instances_fill_metadata(context, instances, manual_joins=['system_metadata']) count_all = 0 count_hit = 0 for db_instance in instances: count_all += 1 instance = objects.Instance._from_db_object( context, objects.Instance(), db_instance, expected_attrs=['system_metadata']) # NOTE(danms): Don't touch instances that are likely in the # middle of some other operation if instance.task_state != None: continue if instance.vm_state in [vm_states.RESCUED, vm_states.RESIZED]: continue _augment_flavors_to_migrate(instance, flavor_cache) if instance.obj_what_changed(): instance.save(expected_task_state=[None]) count_hit += 1 return count_all, count_hit ",,256,0
openstack%2Foslo.policy~master~I18c50708a527c3bb4d61cc8b7022bb8f5337c526,openstack/oslo.policy,master,I18c50708a527c3bb4d61cc8b7022bb8f5337c526,Correct docstring references,MERGED,2015-01-30 22:57:54.000000000,2015-02-02 16:07:22.000000000,2015-02-02 16:07:22.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6486}, {'_account_id': 9098}, {'_account_id': 12000}]","[{'number': 1, 'created': '2015-01-30 22:57:54.000000000', 'files': ['oslo_policy/policy.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/b0865dbb3dec4ddeac6852a3ae77933ac818f326', 'message': 'Correct docstring references\n\nA number of docstring references needed to be updated from\nopenstack.common.policy to oslo_policy/policy now that this has\nbeen moved out of oslo-incubator.\n\nChange-Id: I18c50708a527c3bb4d61cc8b7022bb8f5337c526\n'}]",3,151813,b0865dbb3dec4ddeac6852a3ae77933ac818f326,11,5,1,9098,,,0,"Correct docstring references

A number of docstring references needed to be updated from
openstack.common.policy to oslo_policy/policy now that this has
been moved out of oslo-incubator.

Change-Id: I18c50708a527c3bb4d61cc8b7022bb8f5337c526
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/13/151813/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_policy/policy.py'],1,b0865dbb3dec4ddeac6852a3ae77933ac818f326,doc_references,A :class:`generic check <oslo_policy.policy.GenericCheck>` is used:meth:`~oslo_policy.policy.Enforcer.enforce` method.A :class:`role check <oslo_policy.policy.RoleCheck>` is used toA :class:`rule check <oslo_policy.policy.RuleCheck>` is used toA :class:`http check <oslo_policy.policy.HttpCheck>` is used tousing the :func:`~oslo_policy.policy.register` function.,A :class:`generic check <openstack.common.policy.GenericCheck>` is used:meth:`~openstack.common.policy.Enforcer.enforce` method.A :class:`role check <openstack.common.policy.RoleCheck>` is used toA :class:`rule check <openstack.common.policy.RuleCheck>` is used toA :class:`http check <openstack.common.policy.HttpCheck>` is used tousing the :func:`~openstack.common.policy.register` function.,6,6
openstack%2Fpuppet-ceph~master~I076af5e246f28959acf97a7dee13a7aeba09100f,openstack/puppet-ceph,master,I076af5e246f28959acf97a7dee13a7aeba09100f,Add new CI VM specifications in an attempt to speed up tests,ABANDONED,2014-12-05 22:51:51.000000000,2015-02-02 16:06:39.000000000,,"[{'_account_id': 3}, {'_account_id': 2064}, {'_account_id': 9061}, {'_account_id': 9133}, {'_account_id': 11479}]","[{'number': 1, 'created': '2014-12-05 22:51:51.000000000', 'files': ['spec/system/ceph_profile_osd_spec.rb', 'spec/system/ceph_profile_mon_spec.rb', '.nodeset.yml', 'spec/system/ceph_mon_spec.rb', 'spec/system/ceph_profile_client_spec.rb', 'README.md'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/e910340f689e98753e8ee0e6ebfcb1760d9413cc', 'message': 'Add new CI VM specifications in an attempt to speed up tests\n\nChange-Id: I076af5e246f28959acf97a7dee13a7aeba09100f\n'}]",0,139747,e910340f689e98753e8ee0e6ebfcb1760d9413cc,14,5,1,9061,,,0,"Add new CI VM specifications in an attempt to speed up tests

Change-Id: I076af5e246f28959acf97a7dee13a7aeba09100f
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/47/139747/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/system/ceph_profile_osd_spec.rb', 'spec/system/ceph_profile_mon_spec.rb', '.nodeset.yml', 'spec/system/ceph_mon_spec.rb', 'spec/system/ceph_profile_client_spec.rb', 'README.md']",6,e910340f689e98753e8ee0e6ebfcb1760d9413cc,,* BUNDLE_PATH=/tmp/vendor RS_SET=two-ubuntu-server-12042-x64-low bundle exec rake spec:system * BUNDLE_PATH=/tmp/vendor RS_SET=two-centos-64-x64-low bundle exec rake spec:system* two-ubuntu-server-12042-x64-low * two-ubuntu-server-12042-x64-med * two-ubuntu-server-12042-x64-high * one-ubuntu-server-12042-x64-low * one-ubuntu-server-12042-x64-med * one-ubuntu-server-12042-x64-high * two-centos-64-x64-low * two-centos-64-x64-med * two-centos-64-x64-high * one-centos-64-x64-low * one-centos-64-x64-med * one-centos-64-x64-high ``low`` machines have 1 core and 512MB of RAM. ``med`` machines have 2 cores and 2048MB of RAM. ``high`` machines have 4 cores and 4096MB of RAM.RS_SET=two-ubuntu-server-12042-x64-low \script+='RS_SET=two-ubuntu-server-12042-x64-low bundle exec rake spec:system' script+='RS_SET=two-centos-64-x64-low bundle exec rake spec:system',* BUNDLE_PATH=/tmp/vendor RS_SET=two-ubuntu-server-12042-x64 bundle exec rake spec:system * BUNDLE_PATH=/tmp/vendor RS_SET=two-centos-64-x64 bundle exec rake spec:system* two-ubuntu-server-12042-x64 * one-ubuntu-server-12042-x64 * two-centos-64-x64 * one-centos-64-x64RS_SET=two-ubuntu-server-12042-x64 \script+='RS_SET=two-ubuntu-server-12042-x64 bundle exec rake spec:system' script+='RS_SET=two-centos-64-x64 bundle exec rake spec:system',167,22
openstack%2Ffuel-specs~master~Ie45f8d5673e5b788b45d819eab1d36a10a69319b,openstack/fuel-specs,master,Ie45f8d5673e5b788b45d819eab1d36a10a69319b,Blueprint: ceilometer-central-agent-ha,MERGED,2014-12-19 11:29:43.000000000,2015-02-02 16:02:49.000000000,2015-02-02 16:02:46.000000000,"[{'_account_id': 3}, {'_account_id': 3012}, {'_account_id': 6926}, {'_account_id': 7126}, {'_account_id': 7613}, {'_account_id': 7732}, {'_account_id': 7745}, {'_account_id': 8786}, {'_account_id': 8787}, {'_account_id': 11090}]","[{'number': 1, 'created': '2014-12-19 11:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/199f3a5c9c70e9f7dc9dc5f92e896f1dfcee9ff9', 'message': 'Blueprint: ceilometer-central-agent-ha\n\nChange-Id: Ie45f8d5673e5b788b45d819eab1d36a10a69319b\n'}, {'number': 2, 'created': '2014-12-19 11:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/d3691e703f763a49e9c36fe5853b1f36f321a3c4', 'message': 'Blueprint: ceilometer-central-agent-ha\n\nChange-Id: Ie45f8d5673e5b788b45d819eab1d36a10a69319b\n'}, {'number': 3, 'created': '2014-12-19 13:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/f435328d75ba065ee5aa68cb22fcaae339b2247d', 'message': 'Blueprint: ceilometer-central-agent-ha\n\nChange-Id: Ie45f8d5673e5b788b45d819eab1d36a10a69319b\n'}, {'number': 4, 'created': '2015-01-16 13:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/e4bfe53a849020066a459bf1992f944c5604d050', 'message': 'Blueprint: ceilometer-central-agent-ha\n\nChange-Id: Ie45f8d5673e5b788b45d819eab1d36a10a69319b\n'}, {'number': 5, 'created': '2015-01-16 14:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/74094f7b3d1b557026468b94a74979fa3d40efc0', 'message': 'Blueprint: ceilometer-central-agent-ha\n\nChange-Id: Ie45f8d5673e5b788b45d819eab1d36a10a69319b\n'}, {'number': 6, 'created': '2015-01-16 16:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/9189b44f08723d516c8432f10fa151b80e6d2c21', 'message': 'Blueprint: ceilometer-central-agent-ha\n\nChange-Id: Ie45f8d5673e5b788b45d819eab1d36a10a69319b\n'}, {'number': 7, 'created': '2015-01-28 14:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/46aa5836f7b0c9b80467be5b6398df2eb8f093cc', 'message': 'Blueprint: ceilometer-central-agent-ha\n\nChange-Id: Ie45f8d5673e5b788b45d819eab1d36a10a69319b\n'}, {'number': 8, 'created': '2015-01-28 16:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/64a91fabf594d66da84d93972cee3b82c2db6dfb', 'message': 'Blueprint: ceilometer-central-agent-ha\n\nChange-Id: Ie45f8d5673e5b788b45d819eab1d36a10a69319b\n'}, {'number': 9, 'created': '2015-01-29 13:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/bda8e50a55975a20847f5095c322fe132e2240cd', 'message': 'Blueprint: ceilometer-central-agent-ha\n\nChange-Id: Ie45f8d5673e5b788b45d819eab1d36a10a69319b\n'}, {'number': 10, 'created': '2015-01-29 13:33:38.000000000', 'files': ['specs/6.1/ceilometer-central-agent-ha.rst'], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/e44cd94920bb1880085af2eacc331a9c6b7d2404', 'message': 'Blueprint: ceilometer-central-agent-ha\n\nChange-Id: Ie45f8d5673e5b788b45d819eab1d36a10a69319b\n'}]",25,143046,e44cd94920bb1880085af2eacc331a9c6b7d2404,55,10,10,7732,,,0,"Blueprint: ceilometer-central-agent-ha

Change-Id: Ie45f8d5673e5b788b45d819eab1d36a10a69319b
",git fetch https://review.opendev.org/openstack/fuel-specs refs/changes/46/143046/9 && git format-patch -1 --stdout FETCH_HEAD,['specs/6.1/ceilometer-central-agent-ha.rst'],1,199f3a5c9c70e9f7dc9dc5f92e896f1dfcee9ff9,bp/ceilometer-central-agent-ha,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================== Add central agent HA and workload partitioning ============================================== https://blueprints.launchpad.net/fuel/+spec/ceilometer-central-agent-ha Implement zookeeper installation and using it as coordination backend for ceilometer central agent Problem description =================== A detailed description of the problem: * Currentrly ceilometer central agent is the only one ceilometer component that didn't support HA and workload partitioning. During Juno release cycle this feature was intorduces to the ceilometer in the upstream code using tooz coordination openstack library. This library supports several backends (zookeeper, memcached among them). It was decided to introduce this built-in ceilometer feature to MOS as well. Zookeeper was chosen as the coordination backend. Proposed change =============== This feature implementation requires following things to be done: * Implement zookeeper installation (note: zookepeer requires java for it's work) * Zookeeper packages and it's dependencies * Configure ceilometer central agents to work with zookeeper Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Upgrade impact -------------- These changes will be needed in puppet scripts: * Add zookeeper module * Configure ceilometer central agent to use zookeeper as backend This change will be needed in packages: * Build zookeeper packages and it's dependencies Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact -------------------- * Is this a change that takes immediate effect after its merged, or is it something that has to be explicitly enabled? This will be enabled by default only in HA mode Implementation ============== Assignee(s) ----------- Primary assignee: Ivan Berezovskiy (iberezovskiy) Other contributors: Dina Belova (dbelova) Reviewer: None Work Items ---------- * Implement zookeeper installation from puppet (iberezovskiy) * Configure ceilometer central agent (iberezovskiy) * Write a documentation (dbelova) Dependencies ============ None Testing ======= Testing approach: * Environment with ceilometer in HA mode should be succesfully deployed * Ceilometer should collect all enabled polling meters for deployed environment * Polling meters should be divided on groups by ceilometer central agents * Zookeeper cluster should be with one leader and two followers Documentation Impact ==================== A note should be added about zookeeper installation and how ceilometer agent works in HA mode References ========== None ",,146,0
openstack%2Fnova~master~I20a62c1d1e953f52a63565b8446f1561d178d5af,openstack/nova,master,I20a62c1d1e953f52a63565b8446f1561d178d5af,Remove N331 hacking rules,MERGED,2015-01-29 16:11:10.000000000,2015-02-02 15:57:41.000000000,2015-02-02 15:57:37.000000000,"[{'_account_id': 3}, {'_account_id': 642}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-29 16:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c999877a678c698b8ab088e8d628b47aa057e60', 'message': 'Remove N331 hacking rules\n\nPer discussion in\nhttps://review.openstack.org/#/c/145506/\nhttps://review.openstack.org/#/c/135888/\nthere is no need to check whether warn or warning usage since\npy3 support both. So according to the suggestion, this patch\nremoves N331 check.\n\nChange-Id: I20a62c1d1e953f52a63565b8446f1561d178d5af\n'}, {'number': 2, 'created': '2015-01-30 22:22:48.000000000', 'files': ['nova/hacking/checks.py', 'nova/tests/unit/test_hacking.py', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/8510d3aaeeb18bdbe333d2d5d4c335f3732c4848', 'message': 'Remove N331 hacking rules\n\nPer discussion in\nhttps://review.openstack.org/#/c/145506/\nhttps://review.openstack.org/#/c/135888/\nthere is no need to check whether warn or warning usage since\npy3 support both. So according to the suggestion, this patch\nremoves N331 check.\n\nChange-Id: I20a62c1d1e953f52a63565b8446f1561d178d5af\n'}]",0,151296,8510d3aaeeb18bdbe333d2d5d4c335f3732c4848,19,9,2,6062,,,0,"Remove N331 hacking rules

Per discussion in
https://review.openstack.org/#/c/145506/
https://review.openstack.org/#/c/135888/
there is no need to check whether warn or warning usage since
py3 support both. So according to the suggestion, this patch
removes N331 check.

Change-Id: I20a62c1d1e953f52a63565b8446f1561d178d5af
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/151296/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/hacking/checks.py', 'nova/tests/unit/test_hacking.py']",2,5c999877a678c698b8ab088e8d628b47aa057e60,remove_n331_hacking,," def test_log_translations_warning_instead_warn(self): warn = ""LOG.warn('qwe')"" self.assertEqual( 1, len(list(checks.validate_log_translations(warn, warn, 'f')))) ",0,8
openstack%2Fnova~master~I54b4f2a9aa739b9ee21ee57da277c8fa106023fa,openstack/nova,master,I54b4f2a9aa739b9ee21ee57da277c8fa106023fa,Add API schema for v2.1 server reboot actions,MERGED,2014-12-25 05:43:16.000000000,2015-02-02 15:57:16.000000000,2015-02-02 15:57:13.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6348}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9420}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-12-25 05:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7ee98d973c4e95fbaaa9bfb18c7423158d24ac3', 'message': 'Add API schema for v2.1/v3 server actions\n\nBy defining the API schema, it is possible to separate the validation\ncode from the API method. The API method can be more simple.\nIn addition, a response of API validation error can be consistent for\nthe whole Nova API.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I54b4f2a9aa739b9ee21ee57da277c8fa106023fa\n'}, {'number': 2, 'created': '2014-12-25 07:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f492b3ea5163acac4bf33792b943b24a40745b18', 'message': 'Add API schema for v2.1/v3 server actions\n\nBy defining the API schema, it is possible to separate the validation\ncode from the API method. The API method can be more simple.\nIn addition, a response of API validation error can be consistent for\nthe whole Nova API.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I54b4f2a9aa739b9ee21ee57da277c8fa106023fa\n'}, {'number': 3, 'created': '2014-12-26 06:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40bf5403bb24e1a80b0289b7400105377765f325', 'message': 'Add API schema for v2.1 server actions\n\nBy defining the API schema, it is possible to separate the validation\ncode from the API method. The API method can be more simple.\nIn addition, a response of API validation error can be consistent for\nthe whole Nova API.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I54b4f2a9aa739b9ee21ee57da277c8fa106023fa\n'}, {'number': 4, 'created': '2015-01-16 03:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d10a3169dad81894d93c4f576d2a5e600e216266', 'message': 'Add API schema for v2.1 server reboot actions\n\nBy defining the API schema, it is possible to separate the validation\ncode from the API method. The API method can be more simple.\nIn addition, a response of API validation error can be consistent for\nthe whole Nova API.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I54b4f2a9aa739b9ee21ee57da277c8fa106023fa\n'}, {'number': 5, 'created': '2015-01-21 06:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/081314456d713b13eea9288a0ea8a76fb064ebfd', 'message': 'Add API schema for v2.1 server reboot actions\n\nBy defining the API schema, it is possible to separate the validation\ncode from the API method. The API method can be more simple.\nIn addition, a response of API validation error can be consistent for\nthe whole Nova API.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I54b4f2a9aa739b9ee21ee57da277c8fa106023fa\n'}, {'number': 6, 'created': '2015-01-22 02:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6d9359408ca8d88c7325ffe2d40fe51dd766b9f', 'message': 'Add API schema for v2.1 server reboot actions\n\nBy defining the API schema, it is possible to separate the validation\ncode from the API method. The API method can be more simple.\nIn addition, a response of API validation error can be consistent for\nthe whole Nova API.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I54b4f2a9aa739b9ee21ee57da277c8fa106023fa\n'}, {'number': 7, 'created': '2015-01-22 03:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5356bc4acee912259ee1ba3f71d5970401a1ef8', 'message': 'Add API schema for v2.1 server reboot actions\n\nBy defining the API schema, it is possible to separate the validation\ncode from the API method. The API method can be more simple.\nIn addition, a response of API validation error can be consistent for\nthe whole Nova API.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I54b4f2a9aa739b9ee21ee57da277c8fa106023fa\n'}, {'number': 8, 'created': '2015-01-22 04:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba15030ac8f57f4605a714f864730ff0c09f0245', 'message': 'Add API schema for v2.1 server reboot actions\n\nBy defining the API schema, it is possible to separate the validation\ncode from the API method. The API method can be more simple.\nIn addition, a response of API validation error can be consistent for\nthe whole Nova API.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I54b4f2a9aa739b9ee21ee57da277c8fa106023fa\n'}, {'number': 9, 'created': '2015-01-22 07:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/987d5e69f835b49bf46f355c34b2cc844b2496d0', 'message': 'Add API schema for v2.1 server reboot actions\n\nBy defining the API schema, it is possible to separate the validation\ncode from the API method. The API method can be more simple.\nIn addition, a response of API validation error can be consistent for\nthe whole Nova API.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I54b4f2a9aa739b9ee21ee57da277c8fa106023fa\n'}, {'number': 10, 'created': '2015-01-26 23:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd838e647b742fa055f5e93aaa333d746641dd44', 'message': 'Add API schema for v2.1 server reboot actions\n\nBy defining the API schema, it is possible to separate the validation\ncode from the API method. The API method can be more simple.\nIn addition, a response of API validation error can be consistent for\nthe whole Nova API.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I54b4f2a9aa739b9ee21ee57da277c8fa106023fa\n'}, {'number': 11, 'created': '2015-01-27 10:46:24.000000000', 'files': ['nova/api/openstack/compute/plugins/v3/servers.py', 'nova/api/openstack/compute/schemas/v3/servers.py', 'nova/tests/unit/api/openstack/compute/plugins/v3/test_servers.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/710da28577e2c85086e29b6f4c68deced4ed596f', 'message': 'Add API schema for v2.1 server reboot actions\n\nBy defining the API schema, it is possible to separate the validation\ncode from the API method. The API method can be more simple.\nIn addition, a response of API validation error can be consistent for\nthe whole Nova API.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I54b4f2a9aa739b9ee21ee57da277c8fa106023fa\n'}]",12,143931,710da28577e2c85086e29b6f4c68deced4ed596f,110,16,11,6348,,,0,"Add API schema for v2.1 server reboot actions

By defining the API schema, it is possible to separate the validation
code from the API method. The API method can be more simple.
In addition, a response of API validation error can be consistent for
the whole Nova API.

Partially implements blueprint v2-on-v3-api

Change-Id: I54b4f2a9aa739b9ee21ee57da277c8fa106023fa
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/143931/10 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/plugins/v3/servers.py', 'nova/api/openstack/compute/schemas/v3/servers.py', 'nova/tests/unit/api/openstack/compute/plugins/v3/test_server_actions.py']",3,b7ee98d973c4e95fbaaa9bfb18c7423158d24ac3,bp/v2-on-v3-api," self.controller._action_reboot(req, FAKE_UUID, body=body) self.controller._action_reboot(req, FAKE_UUID, body=body) self.assertRaises(exception.ValidationError, req, FAKE_UUID, body=body) self.assertRaises(exception.ValidationError, req, FAKE_UUID, body=body) self.assertRaises(exception.ValidationError, req, FAKE_UUID, body=body) req, str(uuid.uuid4()), body=body) req, FAKE_UUID, body=body) req, FAKE_UUID, body=body) self.controller._action_reboot(req, FAKE_UUID, body=body) self.controller._action_reboot(req, FAKE_UUID, body=body)"," self.controller._action_reboot(req, FAKE_UUID, body) self.controller._action_reboot(req, FAKE_UUID, body) self.assertRaises(webob.exc.HTTPBadRequest, req, FAKE_UUID, body) self.assertRaises(webob.exc.HTTPBadRequest, req, FAKE_UUID, body) self.assertRaises(webob.exc.HTTPBadRequest, req, FAKE_UUID, body) req, str(uuid.uuid4()), body) req, FAKE_UUID, body) req, FAKE_UUID, body) self.controller._action_reboot(req, FAKE_UUID, body) self.controller._action_reboot(req, FAKE_UUID, body)",34,28
openstack%2Fnova~master~Ic6270f7ba8e7e0dea5d71ef64f01665ab3010a26,openstack/nova,master,Ic6270f7ba8e7e0dea5d71ef64f01665ab3010a26,Fix an indentation in server group api samples template,MERGED,2015-01-29 05:11:26.000000000,2015-02-02 15:56:52.000000000,2015-02-02 15:56:49.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 8888}, {'_account_id': 8889}, {'_account_id': 8890}, {'_account_id': 9100}, {'_account_id': 9218}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-29 05:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8649c4284e0b12f1dd1cfe8f67bd027ddeeb1ba', 'message': 'Fix an indentation in server group api samples template\nThis fixes an indentation mistake in the api sample template of server group api.\n\nChange-Id: Ic6270f7ba8e7e0dea5d71ef64f01665ab3010a26\n'}, {'number': 2, 'created': '2015-01-29 05:20:14.000000000', 'files': ['nova/tests/functional/api_samples/os-server-groups/server-groups-list-resp.json.tpl'], 'web_link': 'https://opendev.org/openstack/nova/commit/9ae1b6a327f821c24e14d61aa53de47093f00a27', 'message': 'Fix an indentation in server group api samples template\n\nThis fixes an indentation mistake in the api sample template of server group api.\n\nChange-Id: Ic6270f7ba8e7e0dea5d71ef64f01665ab3010a26\n'}]",0,151106,9ae1b6a327f821c24e14d61aa53de47093f00a27,20,15,2,8890,,,0,"Fix an indentation in server group api samples template

This fixes an indentation mistake in the api sample template of server group api.

Change-Id: Ic6270f7ba8e7e0dea5d71ef64f01665ab3010a26
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/151106/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/api_samples/os-server-groups/server-groups-list-resp.json.tpl'],1,b8649c4284e0b12f1dd1cfe8f67bd027ddeeb1ba,server-group, ], ],1,1
openstack%2Fnova~master~I2f544add25cc0ae1d5b361c6757766271e160f45,openstack/nova,master,I2f544add25cc0ae1d5b361c6757766271e160f45,Enforce DB model matches results of DB migrations,MERGED,2014-12-11 22:57:36.000000000,2015-02-02 15:56:24.000000000,2015-02-02 15:56:20.000000000,"[{'_account_id': 3}, {'_account_id': 100}, {'_account_id': 642}, {'_account_id': 679}, {'_account_id': 2750}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 6802}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-12-11 22:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6129ac9f1dc95baa44fc05f2108583a445403b03', 'message': 'Enforce DB model matches results of DB migrations\n\noslo.db offers a unit test that can be used to compare the results of\nDB migrations against the model defined in Nova. Now that all of the\ntechnical debt surrounding inconsistency between the model and the\nmigrations have been resolved, this check can be enforced.\n\nChange-Id: I2f544add25cc0ae1d5b361c6757766271e160f45\nImplements: blueprint validate-migrations-and-model\n'}, {'number': 2, 'created': '2014-12-12 03:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/642a1119f7e9a734dccb7b86365e2bf59aa0bfa1', 'message': 'Enforce DB model matches results of DB migrations\n\noslo.db offers a unit test that can be used to compare the results of\nDB migrations against the model defined in Nova. Now that all of the\ntechnical debt surrounding inconsistency between the model and the\nmigrations have been resolved, this check can be enforced.\n\nChange-Id: I2f544add25cc0ae1d5b361c6757766271e160f45\nImplements: blueprint validate-migrations-and-model\n'}, {'number': 3, 'created': '2014-12-12 20:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3245490e938f25bf28157a6ede5051cd51bfb4b0', 'message': 'Enforce DB model matches results of DB migrations\n\noslo.db offers a unit test that can be used to compare the results of\nDB migrations against the model defined in Nova. Now that all of the\ntechnical debt surrounding inconsistency between the model and the\nmigrations have been resolved, this check can be enforced.\n\nChange-Id: I2f544add25cc0ae1d5b361c6757766271e160f45\nImplements: blueprint validate-migrations-and-model\n'}, {'number': 4, 'created': '2014-12-12 22:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18ec9fc9558fa1170a2dcd093a492e8e97505f90', 'message': 'Enforce DB model matches results of DB migrations\n\noslo.db offers a unit test that can be used to compare the results of\nDB migrations against the model defined in Nova. Now that all of the\ntechnical debt surrounding inconsistency between the model and the\nmigrations have been resolved, this check can be enforced.\n\nChange-Id: I2f544add25cc0ae1d5b361c6757766271e160f45\nImplements: blueprint validate-migrations-and-model\n'}, {'number': 5, 'created': '2015-01-26 17:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f33e53fbdbb4faa0ad1aca8bf0288612ceb0dd1', 'message': 'Enforce DB model matches results of DB migrations\n\noslo.db offers a unit test that can be used to compare the results of\nDB migrations against the model defined in Nova. Now that all of the\ntechnical debt surrounding inconsistency between the model and the\nmigrations have been resolved, this check can be enforced.\n\nChange-Id: I2f544add25cc0ae1d5b361c6757766271e160f45\nImplements: blueprint validate-migrations-and-model\n'}, {'number': 6, 'created': '2015-01-26 18:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97ae8e09d72305363a8f8bf45f2b026688653520', 'message': 'Enforce DB model matches results of DB migrations\n\noslo.db offers a unit test that can be used to compare the results of\nDB migrations against the model defined in Nova. Now that all of the\ntechnical debt surrounding inconsistency between the model and the\nmigrations have been resolved, this check can be enforced.\n\nChange-Id: I2f544add25cc0ae1d5b361c6757766271e160f45\nImplements: blueprint validate-migrations-and-model\n'}, {'number': 7, 'created': '2015-01-26 20:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/858d324a6fcd78d22b3781eca11bf117b558a11c', 'message': 'Enforce DB model matches results of DB migrations\n\noslo.db offers a unit test that can be used to compare the results of\nDB migrations against the model defined in Nova. Now that all of the\ntechnical debt surrounding inconsistency between the model and the\nmigrations have been resolved, this check can be enforced.\n\nChange-Id: I2f544add25cc0ae1d5b361c6757766271e160f45\nImplements: blueprint validate-migrations-and-model\n'}, {'number': 8, 'created': '2015-01-26 21:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db017dd8b542fcd50c1b4aefc962a184b63a0a51', 'message': 'Enforce DB model matches results of DB migrations\n\noslo.db offers a unit test that can be used to compare the results of\nDB migrations against the model defined in Nova. Now that all of the\ntechnical debt surrounding inconsistency between the model and the\nmigrations have been resolved, this check can be enforced.\n\nChange-Id: I2f544add25cc0ae1d5b361c6757766271e160f45\nImplements: blueprint validate-migrations-and-model\n'}, {'number': 9, 'created': '2015-01-29 05:49:31.000000000', 'files': ['nova/tests/unit/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dd62c680f52b81bdcfa1d9215b9ceb99679fb5c1', 'message': 'Enforce DB model matches results of DB migrations\n\noslo.db offers a unit test that can be used to compare the results of\nDB migrations against the model defined in Nova. Now that all of the\ntechnical debt surrounding inconsistency between the model and the\nmigrations have been resolved, this check can be enforced.\n\nChange-Id: I2f544add25cc0ae1d5b361c6757766271e160f45\nImplements: blueprint validate-migrations-and-model\n'}]",2,141200,dd62c680f52b81bdcfa1d9215b9ceb99679fb5c1,75,15,9,100,,,0,"Enforce DB model matches results of DB migrations

oslo.db offers a unit test that can be used to compare the results of
DB migrations against the model defined in Nova. Now that all of the
technical debt surrounding inconsistency between the model and the
migrations have been resolved, this check can be enforced.

Change-Id: I2f544add25cc0ae1d5b361c6757766271e160f45
Implements: blueprint validate-migrations-and-model
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/141200/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/db/test_migrations.py'],1,6129ac9f1dc95baa44fc05f2108583a445403b03,bp/validate-migrations-and-model,"from nova.db.sqlalchemy import modelsclass NovaMigrationsCheckers(test_migrations.ModelsMigrationsSync, test_migrations.WalkVersionsMixin): # Implementations for ModelsMigrationsSync def db_sync(self, engine): with mock.patch.object(sa_migration, 'get_engine', return_value=engine): sa_migration.db_sync() def get_engine(self): return self.migrate_engine def get_metadata(self): return models.BASE.metadata def include_object(self, object_, name, type_, reflected, compare_to): if type_ == 'table': # migrate_version is a sqlalchemy-migrate control table and # isn't included in the model. shadow_* are generated from # the model and have their own tests to ensure they don't # drift. if name == 'migrate_version' or name.startswith('shadow_'): return False return True ",class NovaMigrationsCheckers(test_migrations.WalkVersionsMixin):,26,1
openstack%2Fnova~master~I61baae56bb425400e917b1cb18815ca94280f4cb,openstack/nova,master,I61baae56bb425400e917b1cb18815ca94280f4cb,Add missing foreign keys for sqlite,MERGED,2014-12-11 22:57:36.000000000,2015-02-02 15:55:58.000000000,2015-02-02 15:55:55.000000000,"[{'_account_id': 3}, {'_account_id': 100}, {'_account_id': 679}, {'_account_id': 782}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6802}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-12-11 22:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84a7ec664c2098f9c82b769f136b4fef9edb5c4e', 'message': 'Add missing foreign keys for sqlite\n\nPrevious migrations have added foreign keys for MySQL and PostgreSQL\nbut have missed SQLite.\n\nChange-Id: I61baae56bb425400e917b1cb18815ca94280f4cb\nPartially-implements: blueprint validate-migrations-and-model\n'}, {'number': 2, 'created': '2014-12-12 03:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6d58cb2a024f9d58d254f02836462d284611a42', 'message': 'Add missing foreign keys for sqlite\n\nPrevious migrations have added foreign keys for MySQL and PostgreSQL\nbut have missed SQLite.\n\nChange-Id: I61baae56bb425400e917b1cb18815ca94280f4cb\nPartially-implements: blueprint validate-migrations-and-model\n'}, {'number': 3, 'created': '2014-12-12 20:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/feb8c9d32edeea06a5051a6a25f5185c60965847', 'message': 'Add missing foreign keys for sqlite\n\nPrevious migrations have added foreign keys for MySQL and PostgreSQL\nbut have missed SQLite.\n\nThis patch also fixes a unit test that was expecting results to be\nreturned from SQLite in a certain order. Adding a foreign key made\nthis non-deterministic.\n\nChange-Id: I61baae56bb425400e917b1cb18815ca94280f4cb\nPartially-implements: blueprint validate-migrations-and-model\n'}, {'number': 4, 'created': '2014-12-12 22:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6689e80ac045e1defe8a3135812e3208dc9e136d', 'message': 'Add missing foreign keys for sqlite\n\nPrevious migrations have added foreign keys for MySQL and PostgreSQL\nbut have missed SQLite.\n\nThis patch also fixes a unit test that was expecting results to be\nreturned from SQLite in a certain order. Adding a foreign key made\nthis non-deterministic.\n\nChange-Id: I61baae56bb425400e917b1cb18815ca94280f4cb\nPartially-implements: blueprint validate-migrations-and-model\n'}, {'number': 5, 'created': '2015-01-26 17:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4fcbc925e19c3ab5987c1bf7943ec65b9f3bfea4', 'message': 'Add missing foreign keys for sqlite\n\nPrevious migrations have added foreign keys for MySQL and PostgreSQL\nbut have missed SQLite.\n\nThis patch also fixes a unit test that was expecting results to be\nreturned from SQLite in a certain order. Adding a foreign key made\nthis non-deterministic.\n\nChange-Id: I61baae56bb425400e917b1cb18815ca94280f4cb\nPartially-implements: blueprint validate-migrations-and-model\n'}, {'number': 6, 'created': '2015-01-26 18:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57e77896e22301ca7a9f74b3253e2e76db31a625', 'message': 'Add missing foreign keys for sqlite\n\nPrevious migrations have added foreign keys for MySQL and PostgreSQL\nbut have missed SQLite.\n\nThis patch also fixes a unit test that was expecting results to be\nreturned from SQLite in a certain order. Adding a foreign key made\nthis non-deterministic.\n\nChange-Id: I61baae56bb425400e917b1cb18815ca94280f4cb\nPartially-implements: blueprint validate-migrations-and-model\n'}, {'number': 7, 'created': '2015-01-26 20:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5dddc28531a1d6b4c17c9de6255baf2bdad5649', 'message': 'Add missing foreign keys for sqlite\n\nPrevious migrations have added foreign keys for MySQL and PostgreSQL\nbut have missed SQLite.\n\nThis patch also fixes a unit test that was expecting results to be\nreturned from SQLite in a certain order. Adding a foreign key made\nthis non-deterministic.\n\nChange-Id: I61baae56bb425400e917b1cb18815ca94280f4cb\nPartially-implements: blueprint validate-migrations-and-model\n'}, {'number': 8, 'created': '2015-01-26 21:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d120a5633dcfcf3853c8cea0667d0fc133f5a5cf', 'message': 'Add missing foreign keys for sqlite\n\nPrevious migrations have added foreign keys for MySQL and PostgreSQL\nbut have missed SQLite.\n\nThis patch also fixes a unit test that was expecting results to be\nreturned from SQLite in a certain order. Adding a foreign key made\nthis non-deterministic.\n\nChange-Id: I61baae56bb425400e917b1cb18815ca94280f4cb\nPartially-implements: blueprint validate-migrations-and-model\n'}, {'number': 9, 'created': '2015-01-29 05:49:31.000000000', 'files': ['nova/tests/unit/db/test_migrations.py', 'nova/db/sqlalchemy/migrate_repo/versions/273_sqlite_foreign_keys.py', 'nova/tests/unit/db/test_db_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/533ffe35d41c833154f711c474d931d8bfc5d063', 'message': 'Add missing foreign keys for sqlite\n\nPrevious migrations have added foreign keys for MySQL and PostgreSQL\nbut have missed SQLite.\n\nThis patch also fixes a unit test that was expecting results to be\nreturned from SQLite in a certain order. Adding a foreign key made\nthis non-deterministic.\n\nChange-Id: I61baae56bb425400e917b1cb18815ca94280f4cb\nPartially-implements: blueprint validate-migrations-and-model\n'}]",8,141199,533ffe35d41c833154f711c474d931d8bfc5d063,71,13,9,100,,,0,"Add missing foreign keys for sqlite

Previous migrations have added foreign keys for MySQL and PostgreSQL
but have missed SQLite.

This patch also fixes a unit test that was expecting results to be
returned from SQLite in a certain order. Adding a foreign key made
this non-deterministic.

Change-Id: I61baae56bb425400e917b1cb18815ca94280f4cb
Partially-implements: blueprint validate-migrations-and-model
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/141199/9 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/test_migrations.py', 'nova/db/sqlalchemy/migrate_repo/versions/270_sqlite_foreign_keys.py']",2,84a7ec664c2098f9c82b769f136b4fef9edb5c4e,bp/validate-migrations-and-model,"# Copyright 2014 Rackspace Hosting # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from migrate import ForeignKeyConstraint from sqlalchemy import MetaData, Table from oslo.db.sqlalchemy import utils FKEYS = [ ('fixed_ips', 'instance_uuid', 'instances', 'uuid', 'fixed_ips_instance_uuid_fkey'), ('block_device_mapping', 'instance_uuid', 'instances', 'uuid', 'block_device_mapping_instance_uuid_fkey'), ('instance_info_caches', 'instance_uuid', 'instances', 'uuid', 'instance_info_caches_instance_uuid_fkey'), ('instance_metadata', 'instance_uuid', 'instances', 'uuid', 'instance_metadata_instance_uuid_fkey'), ('instance_system_metadata', 'instance_uuid', 'instances', 'uuid', 'instance_system_metadata_ibfk_1'), ('instance_type_projects', 'instance_type_id', 'instance_types', 'id', 'instance_type_projects_ibfk_1'), ('iscsi_targets', 'volume_id', 'volumes', 'id', 'iscsi_targets_volume_id_fkey'), ('reservations', 'usage_id', 'quota_usages', 'id', 'reservations_ibfk_1'), ('security_group_instance_association', 'instance_uuid', 'instances', 'uuid', 'security_group_instance_association_instance_uuid_fkey'), ('security_group_instance_association', 'security_group_id', 'security_groups', 'id', 'security_group_instance_association_ibfk_1'), ('virtual_interfaces', 'instance_uuid', 'instances', 'uuid', 'virtual_interfaces_instance_uuid_fkey'), ('compute_nodes', 'service_id', 'services', 'id', 'fk_compute_nodes_service_id'), ('instance_actions', 'instance_uuid', 'instances', 'uuid', 'fk_instance_actions_instance_uuid'), ('instance_faults', 'instance_uuid', 'instances', 'uuid', 'fk_instance_faults_instance_uuid'), ('migrations', 'instance_uuid', 'instances', 'uuid', 'fk_migrations_instance_uuid'), ] def upgrade(migrate_engine): meta = MetaData() meta.bind = migrate_engine if migrate_engine.name == 'sqlite': # SQLite is also missing this one index if not utils.index_exists(migrate_engine, 'fixed_ips', 'address'): utils.add_index(migrate_engine, 'fixed_ips', 'address', ['address']) for src_table, src_column, dst_table, dst_column, name in FKEYS: src_table = Table(src_table, meta, autoload=True) if name in set(fk.name for fk in src_table.foreign_keys): continue src_column = src_table.c[src_column] dst_table = Table(dst_table, meta, autoload=True) dst_column = dst_table.c[dst_column] fkey = ForeignKeyConstraint(columns=[src_column], refcolumns=[dst_column]) fkey.create() def downgrade(migrate_engine): # sqlalchemy-migrate doesn't handle dropping foreign keys. Since this # migration only applies to SQLite, which isn't a supported production # deploy, the amount of work outweighs the need for a downgrade. pass ",,118,0
openstack%2Fshade~master~Ie9558ed9b64c7453a4ad609f5fca8487022a9425,openstack/shade,master,Ie9558ed9b64c7453a4ad609f5fca8487022a9425,Fix for finding addresses,ABANDONED,2015-01-27 16:26:51.000000000,2015-02-02 15:55:37.000000000,,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 4146}]","[{'number': 1, 'created': '2015-01-27 16:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/e50217c20789356d147c0b43de25cf40beb679da', 'message': 'Fix for finding addresses\n\nKeyword arguments were not being passed properly.\n\nChange-Id: Ie9558ed9b64c7453a4ad609f5fca8487022a9425\n'}, {'number': 2, 'created': '2015-01-29 19:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/756bfa5cc2c9c5d9428d2f9ede1edf5f1cf147e6', 'message': 'Fix for finding addresses\n\nKeyword arguments were not being passed properly.\n\nChange-Id: Ie9558ed9b64c7453a4ad609f5fca8487022a9425\n'}, {'number': 3, 'created': '2015-02-02 15:41:43.000000000', 'files': ['shade/meta.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/a3cb883e191d6c978f611b9340ab15fc5682e18b', 'message': 'Fix for finding addresses\n\nKeyword arguments were not being passed properly.\n\nChange-Id: Ie9558ed9b64c7453a4ad609f5fca8487022a9425\n'}]",0,150479,a3cb883e191d6c978f611b9340ab15fc5682e18b,13,4,3,3099,,,0,"Fix for finding addresses

Keyword arguments were not being passed properly.

Change-Id: Ie9558ed9b64c7453a4ad609f5fca8487022a9425
",git fetch https://review.opendev.org/openstack/shade refs/changes/79/150479/3 && git format-patch -1 --stdout FETCH_HEAD,['shade/meta.py'],1,e50217c20789356d147c0b43de25cf40beb679da,feature/glance-support," addrs = find_nova_addresses(server.addresses, **kwargs)"," addrs = find_nova_addresses(server.addresses, *kwargs)",1,1
openstack%2Fnova~master~Ife64495b7efb5b2b15db9fdb4c16f26bfa47d133,openstack/nova,master,Ife64495b7efb5b2b15db9fdb4c16f26bfa47d133,libvirt: add parallels virt_type,MERGED,2014-12-22 15:39:55.000000000,2015-02-02 15:55:32.000000000,2015-02-02 15:55:29.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10618}, {'_account_id': 11103}, {'_account_id': 12088}, {'_account_id': 12408}, {'_account_id': 12661}]","[{'number': 1, 'created': '2014-12-22 15:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68ab223f2a27b02deedc07ab9e6d70db980d3c9d', 'message': ""libvirt: add parallels virt_type\n\nAdd default connection_uri for libvirt for parallels\nvirt_type. Check for required libvirt version, it's going\nto be 1.2.13, since libvirt driver is not completely\nready yet.\n\nAlso add a set of changes to generate proper domain XML\nconfig for parallels virtual machines.\n\nChange-Id: Ife64495b7efb5b2b15db9fdb4c16f26bfa47d133\nPartial-Implement: blueprint pcs-support\n""}, {'number': 2, 'created': '2014-12-23 10:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9997abb1bca4f4c0dd602a5d98396ae42760b7e1', 'message': ""libvirt: add parallels virt_type\n\nAdd default connection_uri for libvirt for parallels\nvirt_type. Check for required libvirt version, it's going\nto be 1.2.13, since libvirt driver is not completely\nready yet.\n\nAlso add a set of changes to generate proper domain XML\nconfig for parallels virtual machines.\n\nPartially implements blueprint pcs-support\n\nChange-Id: Ife64495b7efb5b2b15db9fdb4c16f26bfa47d133\n""}, {'number': 3, 'created': '2014-12-24 13:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/01439110018c0b22b41a333c1b12ca5edc18c9db', 'message': ""libvirt: add parallels virt_type\n\nAdd default connection_uri for libvirt for parallels\nvirt_type. Check for required libvirt version, it's going\nto be 1.2.13, since libvirt driver is not completely\nready yet.\n\nAlso add a set of changes to generate proper domain XML\nconfig for parallels virtual machines.\n\nPartially implements blueprint pcs-support\n\nChange-Id: Ife64495b7efb5b2b15db9fdb4c16f26bfa47d133\n""}, {'number': 4, 'created': '2014-12-25 12:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e7157cc9761db6e9d31f8cb12cc99fb90a2675c', 'message': ""libvirt: add parallels virt_type\n\nAdd default connection_uri for libvirt for parallels\nvirt_type. Check for required libvirt version, it's going\nto be 1.2.13, since libvirt driver is not completely\nready yet.\n\nAlso add a set of changes to generate proper domain XML\nconfig for parallels virtual machines.\n\nPartially implements blueprint pcs-support\n\nChange-Id: Ife64495b7efb5b2b15db9fdb4c16f26bfa47d133\n""}, {'number': 5, 'created': '2015-01-12 16:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/197cd31000a55f04cbea222587d0d6fbc33ef5d0', 'message': ""libvirt: add parallels virt_type\n\nAdd default connection_uri for libvirt for parallels\nvirt_type. Check for required libvirt version, it's going\nto be 1.2.13, since libvirt driver is not completely\nready yet.\n\nAlso add a set of changes to generate proper domain XML\nconfig for parallels virtual machines.\n\nPartially implements blueprint pcs-support\n\nChange-Id: Ife64495b7efb5b2b15db9fdb4c16f26bfa47d133\n""}, {'number': 6, 'created': '2015-01-13 18:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32c1c25f7d47c7af8d1bb734cc67ba400bd4ebc5', 'message': ""libvirt: add parallels virt_type\n\nAdd default connection_uri for libvirt for parallels\nvirt_type. Check for required libvirt version, it's going\nto be 1.2.13, since libvirt driver is not completely\nready yet.\n\nAlso add a set of changes to generate proper domain XML\nconfig for parallels virtual machines.\n\nPartially implements blueprint pcs-support\n\nChange-Id: Ife64495b7efb5b2b15db9fdb4c16f26bfa47d133\n""}, {'number': 7, 'created': '2015-01-14 14:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ddf2a7fdebe4633f6b57eda737b5740dca8ec6bc', 'message': ""libvirt: add parallels virt_type\n\nAdd default connection_uri for libvirt for parallels\nvirt_type. Check for required libvirt version, it's going\nto be 1.2.13, since libvirt driver is not completely\nready yet.\n\nAlso add a set of changes to generate proper domain XML\nconfig for parallels virtual machines.\n\nPartially implements blueprint pcs-support\n\nChange-Id: Ife64495b7efb5b2b15db9fdb4c16f26bfa47d133\n""}, {'number': 8, 'created': '2015-01-22 11:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc6ac30041924f9af01c9e084b6e883bb78a820a', 'message': ""libvirt: add parallels virt_type\n\nAdd default connection_uri for libvirt for parallels\nvirt_type. Check for required libvirt version, it's going\nto be 1.2.13, since libvirt driver is not completely\nready yet.\n\nAlso add a set of changes to generate proper domain XML\nconfig for parallels virtual machines.\n\nPartially implements blueprint pcs-support\n\nChange-Id: Ife64495b7efb5b2b15db9fdb4c16f26bfa47d133\n""}, {'number': 9, 'created': '2015-01-22 11:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96f54852b30e66ba28f20120efd9a3eb7ad9f7c1', 'message': ""libvirt: add parallels virt_type\n\nAdd default connection_uri for libvirt for parallels\nvirt_type. Check for required libvirt version, it's going\nto be 1.2.12, since libvirt driver is not completely\nready yet.\n\nAlso add a set of changes to generate proper domain XML\nconfig for parallels virtual machines.\n\nPartially implements blueprint pcs-support\n\nChange-Id: Ife64495b7efb5b2b15db9fdb4c16f26bfa47d133\n""}, {'number': 10, 'created': '2015-01-22 12:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad1d33c097d33ea91054dde1cbde743e43cdb604', 'message': ""libvirt: add parallels virt_type\n\nAdd default connection_uri for libvirt for parallels\nvirt_type. Check for required libvirt version, it's going\nto be 1.2.12, since libvirt driver is not completely\nready yet.\n\nAlso add a set of changes to generate proper domain XML\nconfig for parallels virtual machines.\n\nPartially implements blueprint pcs-support\n\nChange-Id: Ife64495b7efb5b2b15db9fdb4c16f26bfa47d133\n""}, {'number': 11, 'created': '2015-01-24 03:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7583507518f2529d76647e9b71c14139bdbe1dbf', 'message': ""libvirt: add parallels virt_type\n\nAdd default connection_uri for libvirt for parallels\nvirt_type. Check for required libvirt version, it's going\nto be 1.2.12, since libvirt driver is not completely\nready yet.\n\nAlso add a set of changes to generate proper domain XML\nconfig for parallels virtual machines.\n\nPartially implements blueprint pcs-support\n\nChange-Id: Ife64495b7efb5b2b15db9fdb4c16f26bfa47d133\n""}, {'number': 12, 'created': '2015-01-26 19:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/532ee05139efb95ad582fe3ade8463edc63dcf1e', 'message': ""libvirt: add parallels virt_type\n\nAdd default connection_uri for libvirt for parallels\nvirt_type. Check for required libvirt version, it's going\nto be 1.2.12, since libvirt driver is not completely\nready yet.\n\nAlso add a set of changes to generate proper domain XML\nconfig for parallels virtual machines.\n\nPartially implements blueprint pcs-support\n\nChange-Id: Ife64495b7efb5b2b15db9fdb4c16f26bfa47d133\n""}, {'number': 13, 'created': '2015-01-27 00:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14c1e4bf40bfc1b21cba212e6753f606d4363c6d', 'message': ""libvirt: add parallels virt_type\n\nAdd default connection_uri for libvirt for parallels\nvirt_type. Check for required libvirt version, it's going\nto be 1.2.12, since libvirt driver is not completely\nready yet.\n\nAlso add a set of changes to generate proper domain XML\nconfig for parallels virtual machines.\n\nPartially implements blueprint pcs-support\n\nChange-Id: Ife64495b7efb5b2b15db9fdb4c16f26bfa47d133\n""}, {'number': 14, 'created': '2015-01-27 18:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98b8054789d127ba07f6da1f9d91e09dbf3e0e7c', 'message': ""libvirt: add parallels virt_type\n\nAdd default connection_uri for libvirt for parallels\nvirt_type. Check for required libvirt version, it's going\nto be 1.2.12, since libvirt driver is not completely\nready yet.\n\nAlso add a set of changes to generate proper domain XML\nconfig for parallels virtual machines.\n\nPartially implements blueprint pcs-support\n\nChange-Id: Ife64495b7efb5b2b15db9fdb4c16f26bfa47d133\n""}, {'number': 15, 'created': '2015-01-27 21:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7b7b09059a930d83995e2e8e886eed136e9fffd', 'message': ""libvirt: add parallels virt_type\n\nAdd default connection_uri for libvirt for parallels\nvirt_type. Check for required libvirt version, it's going\nto be 1.2.12, since libvirt driver is not completely\nready yet.\n\nAlso add a set of changes to generate proper domain XML\nconfig for parallels virtual machines.\n\nPartially implements blueprint pcs-support\n\nChange-Id: Ife64495b7efb5b2b15db9fdb4c16f26bfa47d133\n""}, {'number': 16, 'created': '2015-01-28 21:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d9147200f037b208a6ba56a0fbdbb0a926ccd90', 'message': ""libvirt: add parallels virt_type\n\nAdd default connection_uri for libvirt for parallels\nvirt_type. Check for required libvirt version, it's going\nto be 1.2.12, since libvirt driver is not completely\nready yet.\n\nAlso add a set of changes to generate proper domain XML\nconfig for parallels virtual machines.\n\nPartially implements blueprint pcs-support\n\nChange-Id: Ife64495b7efb5b2b15db9fdb4c16f26bfa47d133\n""}, {'number': 17, 'created': '2015-01-28 22:20:22.000000000', 'files': ['nova/virt/libvirt/blockinfo.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/296b09e97b8c672d879d8c3e573f09db90d9dfbf', 'message': ""libvirt: add parallels virt_type\n\nAdd default connection_uri for libvirt for parallels\nvirt_type. Check for required libvirt version, it's going\nto be 1.2.12, since libvirt driver is not completely\nready yet.\n\nAlso add a set of changes to generate proper domain XML\nconfig for parallels virtual machines.\n\nPartially implements blueprint pcs-support\n\nChange-Id: Ife64495b7efb5b2b15db9fdb4c16f26bfa47d133\n""}]",25,143471,296b09e97b8c672d879d8c3e573f09db90d9dfbf,156,17,17,12661,,,0,"libvirt: add parallels virt_type

Add default connection_uri for libvirt for parallels
virt_type. Check for required libvirt version, it's going
to be 1.2.12, since libvirt driver is not completely
ready yet.

Also add a set of changes to generate proper domain XML
config for parallels virtual machines.

Partially implements blueprint pcs-support

Change-Id: Ife64495b7efb5b2b15db9fdb4c16f26bfa47d133
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/143471/17 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/blockinfo.py', 'nova/virt/libvirt/driver.py']",2,68ab223f2a27b02deedc07ab9e6d70db980d3c9d,bp/pcs-support,"Supports KVM, LXC, QEMU, UML, XEN and Parallels. 'kvm, lxc, qemu, uml, xen, parallels)'),# parallels driver support MIN_LIBVIRT_PARALLELS_VERSION = (1, 2, 13) def _version_to_string(self, version): return ""%i.%i.%i"" % (version[0], version[1], version[2]) _('Nova requires libvirt version %s or greater.') % self._version_to_string(MIN_LIBVIRT_VERSION)) if CONF.libvirt.virt_type == 'parallels' and \ not self._host.has_min_version(MIN_LIBVIRT_PARALLELS_VERSION): raise exception.NovaException( _('Running Nova with parallels virt_type requires ' 'libvirt version %s') % self._version_to_string(MIN_LIBVIRT_PARALLELS_VERSION)) elif CONF.libvirt.virt_type == 'parallels': uri = CONF.libvirt.connection_uri or 'parallels:///system' if CONF.libvirt.virt_type in ('xen', 'parallels',): elif CONF.libvirt.virt_type == 'parallels': video.type = 'vga' if virt_type not in (""lxc"", ""uml"", ""parallels""): if virt_type != 'parallels': consolepty.type = ""pty"" guest.add_device(consolepty)","Supports KVM, LXC, QEMU, UML, and XEN. 'kvm, lxc, qemu, uml, xen)'), major = MIN_LIBVIRT_VERSION[0] minor = MIN_LIBVIRT_VERSION[1] micro = MIN_LIBVIRT_VERSION[2] _('Nova requires libvirt version ' '%(major)i.%(minor)i.%(micro)i or greater.') % {'major': major, 'minor': minor, 'micro': micro}) if CONF.libvirt.virt_type in ('xen',): if virt_type not in (""lxc"", ""uml""): consolepty.type = ""pty"" guest.add_device(consolepty)",36,12
openstack%2Fshade~master~I4246e91de97710e0966780cfcb085abff56c7dc0,openstack/shade,master,I4246e91de97710e0966780cfcb085abff56c7dc0,Add get_flavor method,MERGED,2015-02-02 15:27:24.000000000,2015-02-02 15:50:44.000000000,2015-02-02 15:50:43.000000000,"[{'_account_id': 2}, {'_account_id': 3}]","[{'number': 1, 'created': '2015-02-02 15:27:24.000000000', 'files': ['shade/__init__.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/4d1fae6c792660f4c9140b7195152815af2030b0', 'message': 'Add get_flavor method\n\nSimple utility method to get a flavor.\n\nChange-Id: I4246e91de97710e0966780cfcb085abff56c7dc0\n'}]",0,152155,4d1fae6c792660f4c9140b7195152815af2030b0,6,2,1,2,,,0,"Add get_flavor method

Simple utility method to get a flavor.

Change-Id: I4246e91de97710e0966780cfcb085abff56c7dc0
",git fetch https://review.opendev.org/openstack/shade refs/changes/55/152155/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/__init__.py'],1,4d1fae6c792660f4c9140b7195152815af2030b0,get-flavor," def get_flavor(self, name_or_id): for id, flavor in self.flavor_cache.items(): if name_or_id in (id, flavor.name): return flavor return None ",,6,0
openstack%2Fnova~master~If73219a57d66cc4da97d91896d9a3955300a2487,openstack/nova,master,If73219a57d66cc4da97d91896d9a3955300a2487,Removed host_id check in ServersController.update,MERGED,2015-01-26 14:32:47.000000000,2015-02-02 15:50:26.000000000,2015-02-02 15:50:23.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 7604}, {'_account_id': 8247}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-01-26 14:32:47.000000000', 'files': ['nova/api/openstack/compute/plugins/v3/servers.py', 'nova/tests/unit/api/openstack/compute/plugins/v3/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1c01fba9e90fd345bdb92f8977b6570ebaacb920', 'message': ""Removed host_id check in ServersController.update\n\nIn method v3.servers.ServersController.update we check\nthat there is no 'host_id' property in requestbody.\nBut this case is checked by schema validation\n('additionalProperties': False).\nSo we can remove this check.\n\nChange-Id: If73219a57d66cc4da97d91896d9a3955300a2487\n""}]",1,150038,1c01fba9e90fd345bdb92f8977b6570ebaacb920,14,10,1,9569,,,0,"Removed host_id check in ServersController.update

In method v3.servers.ServersController.update we check
that there is no 'host_id' property in requestbody.
But this case is checked by schema validation
('additionalProperties': False).
So we can remove this check.

Change-Id: If73219a57d66cc4da97d91896d9a3955300a2487
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/150038/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/plugins/v3/servers.py', 'nova/tests/unit/api/openstack/compute/plugins/v3/test_servers.py']",2,1c01fba9e90fd345bdb92f8977b6570ebaacb920,remove_update," def test_update_server_host_id(self): inst_dict = dict(host_id='123') body = dict(server=inst_dict) req = fakes.HTTPRequest.blank('/fake/servers/%s' % FAKE_UUID) req.method = 'PUT' req.content_type = ""application/json"" req.body = jsonutils.dumps(body) self.assertRaises(exception.ValidationError, self.controller.update, req, FAKE_UUID, body=body) ",,11,6
openstack%2Fneutron-lbaas~master~I0a67acf2bf0542bc1c34c2df64e58623ca16af06,openstack/neutron-lbaas,master,I0a67acf2bf0542bc1c34c2df64e58623ca16af06,TLS capability extension implementation for lbaas v2,ABANDONED,2015-02-02 15:48:55.000000000,2015-02-02 15:50:23.000000000,,[{'_account_id': 8446}],"[{'number': 1, 'created': '2015-02-02 15:48:55.000000000', 'files': ['neutron_lbaas/extensions/loadbalancerv2.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/cce250d297dee8e986b2c890f7d1207f6611ff0a', 'message': 'TLS capability extension implementation for lbaas v2\n\nThis change is part of LBaaS TLS capability feature\nadded to the neutron-lbaas advanced service repository\nhttps://review.openstack.org/#/c/145085\n\nThe change is adding TLS related resources to the existing\nLBaaS v2 extension resources\n\nChange-Id: I0a67acf2bf0542bc1c34c2df64e58623ca16af06\nPartially-implements: blueprint lbaas-ssl-termination\n'}]",0,152162,cce250d297dee8e986b2c890f7d1207f6611ff0a,2,1,1,11302,,,0,"TLS capability extension implementation for lbaas v2

This change is part of LBaaS TLS capability feature
added to the neutron-lbaas advanced service repository
https://review.openstack.org/#/c/145085

The change is adding TLS related resources to the existing
LBaaS v2 extension resources

Change-Id: I0a67acf2bf0542bc1c34c2df64e58623ca16af06
Partially-implements: blueprint lbaas-ssl-termination
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/62/152162/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lbaas/extensions/loadbalancerv2.py'],1,cce250d297dee8e986b2c890f7d1207f6611ff0a,bp/lbaas-ssl-termination,"PROTOCOL_TERMINATED_HTTPS = 'TERMINATED_HTTPS' POOL_SUPPORTED_PROTOCOLS = (PROTOCOL_TCP, PROTOCOL_HTTPS, PROTOCOL_HTTP) LISTENER_SUPPORTED_PROTOCOLS = (PROTOCOL_TCP, PROTOCOL_HTTPS, PROTOCOL_HTTP, PROTOCOL_TERMINATED_HTTPS) LISTENER_POOL_COMPATIBLE_PROTOCOLS = ( (PROTOCOL_TCP, PROTOCOL_TCP), (PROTOCOL_HTTP, PROTOCOL_HTTP), (PROTOCOL_HTTPS, PROTOCOL_HTTPS), (PROTOCOL_TERMINATED_HTTPS, PROTOCOL_HTTP))class TLSDefaultContainerNotSpecified(nexception.BadRequest): message = _(""Default TLS container was not specified"") class TLSContainerNotFound(nexception.NotFound): message = _(""TLS container %(container_id)s could not be found"") class TLSContainerInvalid(nexception.NeutronException): message = _(""TLS container %(container_id)s is invalid. %(reason)s"") 'default_tls_container_id': {'allow_post': True, 'allow_put': True, 'default': None, 'validate': {'type:uuid_or_none': None}, 'is_visible': True}, 'sni_container_ids': {'allow_post': True, 'allow_put': True, 'default': None, 'convert_to': attr.convert_to_list, 'validate': {'type:uuid_list': None}, 'is_visible': True}, 'validate': {'type:values': LISTENER_SUPPORTED_PROTOCOLS}, 'validate': {'type:values': POOL_SUPPORTED_PROTOCOLS}, plural_mappings.update({'sni_container_ids': 'sni_container_id'}) action_map = {'loadbalancer': {'stats': 'GET'}}","SUPPORTED_PROTOCOLS = (PROTOCOL_TCP, PROTOCOL_HTTPS, PROTOCOL_HTTP) 'validate': {'type:values': SUPPORTED_PROTOCOLS}, 'validate': {'type:values': SUPPORTED_PROTOCOLS},",36,3
openstack%2Fnova~master~I2dd6a54fcc7cefe17816d0fb2875d8da0ec57eba,openstack/nova,master,I2dd6a54fcc7cefe17816d0fb2875d8da0ec57eba,Make ec2/cloud.py use get_instance_availability_zone() helper,MERGED,2015-01-23 20:40:18.000000000,2015-02-02 15:50:04.000000000,2015-02-02 15:49:58.000000000,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-01-23 20:40:18.000000000', 'files': ['nova/api/ec2/cloud.py', 'nova/tests/unit/api/ec2/test_cloud.py', 'nova/api/ec2/ec2utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/30dde3a2e1673c111bc9a3b251f93676447e3530', 'message': 'Make ec2/cloud.py use get_instance_availability_zone() helper\n\nCommit 488fcb4ad345bfb4fd614a140b317b606e008872 added a helper\nfor getting the AZ for a instance. This patch makes use of that\nhelper method.\n\nThis also removes the now unused get_availability_zone_by_host()\nmethod from ec2utils and adds a reset_cache() call to the class\nsetup of CloudTestCase in test_cloud.py to reset the cache now\nused between tests.\n\nChange-Id: I2dd6a54fcc7cefe17816d0fb2875d8da0ec57eba\n'}]",0,149745,30dde3a2e1673c111bc9a3b251f93676447e3530,13,9,1,6450,,,0,"Make ec2/cloud.py use get_instance_availability_zone() helper

Commit 488fcb4ad345bfb4fd614a140b317b606e008872 added a helper
for getting the AZ for a instance. This patch makes use of that
helper method.

This also removes the now unused get_availability_zone_by_host()
method from ec2utils and adds a reset_cache() call to the class
setup of CloudTestCase in test_cloud.py to reset the cache now
used between tests.

Change-Id: I2dd6a54fcc7cefe17816d0fb2875d8da0ec57eba
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/149745/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/ec2/cloud.py', 'nova/tests/unit/api/ec2/test_cloud.py', 'nova/api/ec2/ec2utils.py']",3,30dde3a2e1673c111bc9a3b251f93676447e3530,metadata-use-objects,,"from nova import availability_zonesdef get_availability_zone_by_host(host, conductor_api=None): return availability_zones.get_host_availability_zone( context.get_admin_context(), host, conductor_api) ",4,8
openstack%2Fnova~master~I7ee4e03a8fda3796606fb4618b95999b7580561d,openstack/nova,master,I7ee4e03a8fda3796606fb4618b95999b7580561d,boot instance with same net-id for multiple --nic,MERGED,2015-01-04 13:45:46.000000000,2015-02-02 15:49:39.000000000,2015-02-02 15:49:36.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 4727}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10237}, {'_account_id': 10267}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-04 13:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39863fcf8c0feb110bf598961cb23638e2c5b4fa', 'message': ""boot instance with same net-id for multiple --nic\n\n'allow_duplicate_networks' flag should allow an instance to have\nmultiple vNICs attached to the same Neutron network.\n\nAfter setting this flag to true, booting instance with multiple\ninterfaces to attach to same network(with same net-id) like\n\nnova boot --flavor m1.small --image rhel7-new\n--nic net-id=52fc18b6-397a-45d6-b8db-fb32accd00e5\n--nic net-id=52fc18b6-397a-45d6-b8db-fb32accd00e5 vm100\n\nis failing.\n\nCloses-Bug: #1400037\nChange-Id: I7ee4e03a8fda3796606fb4618b95999b7580561d\n""}, {'number': 2, 'created': '2015-01-04 13:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23221cd650b6a256d91c55e3534a3b5fd18aa55c', 'message': ""boot instance with same net-id for multiple --nic\n\n'allow_duplicate_networks' flag should allow an instance to have\nmultiple vNICs attached to the same Neutron network.\n\nAfter setting this flag to true, booting instance with multiple\ninterfaces to attach to same network(with same net-id) like below\n\nnova boot --flavor m1.small --image rhel7-new\n--nic net-id=52fc18b6-397a-45d6-b8db-fb32accd00e5\n--nic net-id=52fc18b6-397a-45d6-b8db-fb32accd00e5 vm100\n\nis failing.\n\nCloses-Bug: #1400037\nChange-Id: I7ee4e03a8fda3796606fb4618b95999b7580561d\n""}, {'number': 3, 'created': '2015-01-04 14:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40ee2cb83325a5461f4fc722c3a909f1bec571f0', 'message': ""boot instance with same net-id for multiple --nic\n\n'allow_duplicate_networks' flag should allow an instance to have\nmultiple vNICs attached to the same Neutron network.\n\nAfter setting this flag to true, booting instance with multiple\ninterfaces to attach to same network(with same net-id) like below\n\nnova boot --flavor m1.small --image rhel7-new\n--nic net-id=52fc18b6-397a-45d6-b8db-fb32accd00e5\n--nic net-id=52fc18b6-397a-45d6-b8db-fb32accd00e5 vm100\n\nis failing.\n\nCloses-Bug: #1400037\nChange-Id: I7ee4e03a8fda3796606fb4618b95999b7580561d\n""}, {'number': 4, 'created': '2015-01-05 06:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cafdb2ef6eb240a2186007013f693341b0292c77', 'message': ""boot instance with same net-id for multiple --nic\n\n'allow_duplicate_networks' flag should allow an instance to have\nmultiple vNICs attached to the same Neutron network.\n\nAfter setting this flag to true, booting instance with multiple\ninterfaces to attach to same network(with same net-id) like below\nis failing.\n\nnova boot --flavor m1.small --image rhel7-new\n--nic net-id=52fc18b6-397a-45d6-b8db-fb32accd00e5\n--nic net-id=52fc18b6-397a-45d6-b8db-fb32accd00e5 vm100\n\n'allow_duplicate_networks' check is added in network api layer(i.e\nnova/network/neutronv2/api.py) in change #98488. But in this case(above\ncommand), it is failing at check in nova/api/openstack/compute/servers.py\nand the call is not even going to nova/network/neutronv2/api.py.\nSo added 'allow_duplicate_networks' flag here.  The advantage of adding\nthat here is - we can return exception as early as possible,\nwhen duplicate networks are not supported.\n\nCloses-Bug: #1400037\nChange-Id: I7ee4e03a8fda3796606fb4618b95999b7580561d\n""}, {'number': 5, 'created': '2015-01-05 11:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a734c6b6e425755beed55a0c6cbf8e78c86ffba4', 'message': ""boot instance with same net-id for multiple --nic\n\n'allow_duplicate_networks' flag should allow an instance to have\nmultiple vNICs attached to the same Neutron network.\n\nAfter setting this flag to true, booting instance with multiple\ninterfaces to attach to same network(with same net-id) like below\nis failing.\n\nnova boot --flavor m1.small --image rhel7-new\n--nic net-id=52fc18b6-397a-45d6-b8db-fb32accd00e5\n--nic net-id=52fc18b6-397a-45d6-b8db-fb32accd00e5 vm100\n\nWe have check for duplicate networks at nova api layer(i.e nova/api/\nopenstack/compute/servers.py). We can just skip this check when we are\nusing neutron. Because we already have same check in network api(i.e\nnova/network/neutronv2/api.py) and also as 'allow_duplicate_networks'\nflag is only for nova neutron.\n\nCloses-Bug: #1400037\nChange-Id: I7ee4e03a8fda3796606fb4618b95999b7580561d\n""}, {'number': 6, 'created': '2015-01-06 07:03:20.000000000', 'files': ['nova/api/openstack/compute/plugins/v3/servers.py', 'nova/tests/unit/api/openstack/compute/plugins/v3/test_servers.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cd6c48abd592e3a40153c555ee2aa91ac773c820', 'message': ""boot instance with same net-id for multiple --nic\n\n'allow_duplicate_networks' flag should allow an instance to have\nmultiple vNICs attached to the same Neutron network.\n\nAfter setting this flag to true, booting instance with multiple\ninterfaces to attach to same network(with same net-id) like below\nis failing.\n\nnova boot --flavor m1.small --image rhel7-new\n--nic net-id=52fc18b6-397a-45d6-b8db-fb32accd00e5\n--nic net-id=52fc18b6-397a-45d6-b8db-fb32accd00e5 vm100\n\nWe have check for duplicate networks at nova api layer(i.e nova/api/\nopenstack/compute/servers.py). We can just skip this check when we are\nusing neutron. Because we already have same check in network api(i.e\nnova/network/neutronv2/api.py) and also as 'allow_duplicate_networks'\nflag is only for nova neutron.\n\nCloses-Bug: #1400037\nChange-Id: I7ee4e03a8fda3796606fb4618b95999b7580561d\n""}]",8,144882,cd6c48abd592e3a40153c555ee2aa91ac773c820,42,14,6,10267,,,0,"boot instance with same net-id for multiple --nic

'allow_duplicate_networks' flag should allow an instance to have
multiple vNICs attached to the same Neutron network.

After setting this flag to true, booting instance with multiple
interfaces to attach to same network(with same net-id) like below
is failing.

nova boot --flavor m1.small --image rhel7-new
--nic net-id=52fc18b6-397a-45d6-b8db-fb32accd00e5
--nic net-id=52fc18b6-397a-45d6-b8db-fb32accd00e5 vm100

We have check for duplicate networks at nova api layer(i.e nova/api/
openstack/compute/servers.py). We can just skip this check when we are
using neutron. Because we already have same check in network api(i.e
nova/network/neutronv2/api.py) and also as 'allow_duplicate_networks'
flag is only for nova neutron.

Closes-Bug: #1400037
Change-Id: I7ee4e03a8fda3796606fb4618b95999b7580561d
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/144882/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/plugins/v3/servers.py', 'nova/tests/unit/api/openstack/compute/plugins/v3/test_servers.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/api/openstack/compute/servers.py']",4,39863fcf8c0feb110bf598961cb23638e2c5b4fa,(detached,"CONF.import_opt('allow_duplicate_networks', 'nova.network.neutronv2.api', group='neutron') if (not CONF.neutron.allow_duplicate_networks and request.network_id and", if (request.network_id and,46,3
openstack%2Fnova~master~I30c2977f5c182598618a6d9a312b3b82aaebdd1c,openstack/nova,master,I30c2977f5c182598618a6d9a312b3b82aaebdd1c,Change log when set_admin_password failed,MERGED,2015-01-01 10:33:27.000000000,2015-02-02 15:49:18.000000000,2015-02-02 15:49:15.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 2874}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-01 10:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21b7b98e1783091fecf7121c9e39e1f7c7b05495', 'message': ""Change log when set_admin_password failed\n\ncurrent exception will make the error looks like\nFailed to set admin password on xxx-xxx-xx because\nFailed to set admin password.Instance xxx-xxx-xx\nis not running.\n\nit's duplicate, this patch remove unnecessary logs.\n\nChange-Id: I30c2977f5c182598618a6d9a312b3b82aaebdd1c\n""}, {'number': 2, 'created': '2015-01-01 22:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a26a34e2e0dfe2b524a28c1b40b4afafa528a07b', 'message': ""Change log when set_admin_password failed\n\ncurrently if set_admin_password fails, it\nwill report error logs like:\n\nFailed to set admin password on xxx-xxx-xx because\nFailed to set admin password.Instance xxx-xxx-xx\nis not running.\n\nit's not accurate, this patch remove unnecessary logs.\n\nCloses-Bug: #1407002\n\nChange-Id: I30c2977f5c182598618a6d9a312b3b82aaebdd1c\n""}, {'number': 3, 'created': '2015-01-04 13:10:45.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f0eb7763fc684d6c7b0ad33386a6bb0b997ae8ee', 'message': ""Change log when set_admin_password failed\n\ncurrently if set_admin_password fails, it\nwill report error logs like:\n\nFailed to set admin password on xxx-xxx-xx because\nFailed to set admin password.Instance xxx-xxx-xx\nis not running.\n\nit's not accurate, this patch remove unnecessary logs.\n\nCloses-Bug: #1407002\n\nChange-Id: I30c2977f5c182598618a6d9a312b3b82aaebdd1c\n""}]",4,144683,f0eb7763fc684d6c7b0ad33386a6bb0b997ae8ee,28,12,3,6062,,,0,"Change log when set_admin_password failed

currently if set_admin_password fails, it
will report error logs like:

Failed to set admin password on xxx-xxx-xx because
Failed to set admin password.Instance xxx-xxx-xx
is not running.

it's not accurate, this patch remove unnecessary logs.

Closes-Bug: #1407002

Change-Id: I30c2977f5c182598618a6d9a312b3b82aaebdd1c
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/144683/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,21b7b98e1783091fecf7121c9e39e1f7c7b05495,update_compute_set_admin_password_log, _msg = _('Instance %s is not running') % instance.uuid, _msg = _('Failed to set admin password. Instance %s is not' ' running') % instance.uuid,1,2
openstack%2Fnova~master~I58bc0c2d881d467bc9c5adb08a30a9bbb8bc72a1,openstack/nova,master,I58bc0c2d881d467bc9c5adb08a30a9bbb8bc72a1,Remove FlavorExtraSpecsNotFound catch in v3 API,MERGED,2014-11-22 15:08:48.000000000,2015-02-02 15:48:55.000000000,2015-02-02 15:48:52.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-22 15:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5786a53aa624c6f6169fc145c8ac56dbca414e0', 'message': ""Remove FlavorExtraSpecsNotFound catch in v3 API\n\nCurrently db layer won't raies FlavorExtraSpecsNotFound\nwhen query a flavor_extraspecs, so no need to catch\nthe exception here.\n\nChange-Id: I58bc0c2d881d467bc9c5adb08a30a9bbb8bc72a1\n""}, {'number': 2, 'created': '2014-12-12 08:24:25.000000000', 'files': ['nova/api/openstack/compute/plugins/v3/flavors_extraspecs.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a317a6fe6e0dddae0d673f10d4111b14075aadea', 'message': ""Remove FlavorExtraSpecsNotFound catch in v3 API\n\nCurrently db layer won't raies FlavorExtraSpecsNotFound\nwhen query a flavor_extraspecs, so no need to catch\nthe exception here.\n\nChange-Id: I58bc0c2d881d467bc9c5adb08a30a9bbb8bc72a1\n""}]",0,136569,a317a6fe6e0dddae0d673f10d4111b14075aadea,21,10,2,6062,,,0,"Remove FlavorExtraSpecsNotFound catch in v3 API

Currently db layer won't raies FlavorExtraSpecsNotFound
when query a flavor_extraspecs, so no need to catch
the exception here.

Change-Id: I58bc0c2d881d467bc9c5adb08a30a9bbb8bc72a1
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/136569/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/plugins/v3/flavors_extraspecs.py'],1,e5786a53aa624c6f6169fc145c8ac56dbca414e0,flavor_extra_specs_not_found_add_v2, except exception.FlavorNotFound as e:," except (exception.FlavorExtraSpecsNotFound, exception.FlavorNotFound) as e:",1,2
openstack%2Fnova~master~Id484fcd9a726ba8705358c153aa1aba03ff98c65,openstack/nova,master,Id484fcd9a726ba8705358c153aa1aba03ff98c65,Calling controller methods directly in test_snapshots,MERGED,2014-12-26 05:28:27.000000000,2015-02-02 15:48:35.000000000,2015-02-02 15:48:32.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-12-26 05:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44bff7072f78da6de020b401fcf31f9c7f4c39b1', 'message': ""Calling controller methods directly in test_snapshots\n\nIn API unit testing, making call through WSGI is little bit overhead,\nwherever applicable, unit tests can make direct call to controller\nmethods.\nAlso URL given in controller method's request is not used\n(for direct call to controller methods), so pass blank URL\nto avoid confusion as tests are shared between V2 & V2.1\n\nThis patch makes above cleanup in test_snapshots.\nAlso delete the duplicate snapshots tests from test_volumes.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: Id484fcd9a726ba8705358c153aa1aba03ff98c65\n""}, {'number': 2, 'created': '2015-01-05 01:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c05d9b13e2fd138482b87d3f5bac154d44a703bd', 'message': ""Calling controller methods directly in test_snapshots\n\nIn API unit testing, making call through WSGI is little bit overhead,\nwherever applicable, unit tests can make direct call to controller\nmethods.\nAlso URL given in controller method's request is not used\n(for direct call to controller methods), so pass blank URL\nto avoid confusion as tests are shared between V2 & V2.1\n\nThis patch makes above cleanup in test_snapshots.\nAlso delete the duplicate snapshots tests from test_volumes.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: Id484fcd9a726ba8705358c153aa1aba03ff98c65\n""}, {'number': 3, 'created': '2015-01-06 00:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c38ae439e0dad2f8176f495d79204c5feaae51b', 'message': ""Calling controller methods directly in test_snapshots\n\nIn API unit testing, making call through WSGI is little bit overhead,\nwherever applicable, unit tests can make direct call to controller\nmethods.\nAlso URL given in controller method's request is not used\n(for direct call to controller methods), so pass blank URL\nto avoid confusion as tests are shared between V2 & V2.1\n\nThis patch makes above cleanup in test_snapshots.\nAlso delete the duplicate snapshots tests from test_volumes.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: Id484fcd9a726ba8705358c153aa1aba03ff98c65\n""}, {'number': 4, 'created': '2015-01-19 01:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a25630f97e2a0f9246d9d1832c300bd8e6f65d11', 'message': ""Calling controller methods directly in test_snapshots\n\nIn API unit testing, making call through WSGI is little bit overhead,\nwherever applicable, unit tests can make direct call to controller\nmethods.\nAlso URL given in controller method's request is not used\n(for direct call to controller methods), so pass blank URL\nto avoid confusion as tests are shared between V2 & V2.1\n\nThis patch makes above cleanup in test_snapshots.\nAlso delete the duplicate snapshots tests from test_volumes.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: Id484fcd9a726ba8705358c153aa1aba03ff98c65\n""}, {'number': 5, 'created': '2015-01-21 02:02:29.000000000', 'files': ['nova/tests/unit/api/openstack/compute/contrib/test_snapshots.py', 'nova/tests/unit/api/openstack/compute/contrib/test_volumes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d60d3a53f85cd215312d779b381af1136919de9a', 'message': ""Calling controller methods directly in test_snapshots\n\nIn API unit testing, making call through WSGI is little bit overhead,\nwherever applicable, unit tests can make direct call to controller\nmethods.\nAlso URL given in controller method's request is not used\n(for direct call to controller methods), so pass blank URL\nto avoid confusion as tests are shared between V2 & V2.1\n\nThis patch makes above cleanup in test_snapshots.\nAlso delete the duplicate snapshots tests from test_volumes.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: Id484fcd9a726ba8705358c153aa1aba03ff98c65\n""}]",10,144079,d60d3a53f85cd215312d779b381af1136919de9a,65,13,5,8556,,,0,"Calling controller methods directly in test_snapshots

In API unit testing, making call through WSGI is little bit overhead,
wherever applicable, unit tests can make direct call to controller
methods.
Also URL given in controller method's request is not used
(for direct call to controller methods), so pass blank URL
to avoid confusion as tests are shared between V2 & V2.1

This patch makes above cleanup in test_snapshots.
Also delete the duplicate snapshots tests from test_volumes.

Partially implements blueprint v2-on-v3-api

Change-Id: Id484fcd9a726ba8705358c153aa1aba03ff98c65
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/144079/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/contrib/test_snapshots.py', 'nova/tests/unit/api/openstack/compute/contrib/test_volumes.py']",2,44bff7072f78da6de020b401fcf31f9c7f4c39b1,bp/v2-on-v3-api,,"class ShowSnapshotTestCaseV21(test.TestCase): snapshot_cls = volumes_v3.SnapshotController def setUp(self): super(ShowSnapshotTestCaseV21, self).setUp() self.controller = self.snapshot_cls() self.req = fakes.HTTPRequest.blank('/v2/fake/os-snapshots') self.req.method = 'GET' def test_show_snapshot_not_exist(self): def fake_get_snapshot(self, context, id): raise exception.SnapshotNotFound(snapshot_id=id) self.stubs.Set(cinder.API, 'get_snapshot', fake_get_snapshot) self.assertRaises(exc.HTTPNotFound, self.controller.show, self.req, FAKE_UUID_A) class ShowSnapshotTestCaseV2(ShowSnapshotTestCaseV21): snapshot_cls = volumes.SnapshotController class CreateSnapshotTestCaseV21(test.TestCase): snapshot_cls = volumes_v3.SnapshotController invalid_input = exception.ValidationError def setUp(self): super(CreateSnapshotTestCaseV21, self).setUp() self.controller = self.snapshot_cls() self.stubs.Set(cinder.API, 'get', fake_get_volume) self.stubs.Set(cinder.API, 'create_snapshot_force', fake_create_snapshot) self.stubs.Set(cinder.API, 'create_snapshot', fake_create_snapshot) self.req = fakes.HTTPRequest.blank('/v2/fake/os-snapshots') self.req.method = 'POST' self.body = {'snapshot': {'volume_id': '1'}} def test_force_true(self): self.body['snapshot']['force'] = 'True' self.controller.create(self.req, body=self.body) def test_force_false(self): self.body['snapshot']['force'] = 'false' self.controller.create(self.req, body=self.body) def test_force_invalid(self): self.body['snapshot']['force'] = 'foo' self.assertRaises(self.invalid_input, self.controller.create, self.req, body=self.body) class CreateSnapshotTestCaseV2(CreateSnapshotTestCaseV21): snapshot_cls = volumes.SnapshotController invalid_input = exc.HTTPBadRequest class DeleteSnapshotTestCaseV21(test.TestCase): snapshot_cls = volumes_v3.SnapshotController def setUp(self): super(DeleteSnapshotTestCaseV21, self).setUp() self.controller = self.snapshot_cls() self.stubs.Set(cinder.API, 'get', fake_get_volume) self.stubs.Set(cinder.API, 'create_snapshot_force', fake_create_snapshot) self.stubs.Set(cinder.API, 'create_snapshot', fake_create_snapshot) self.stubs.Set(cinder.API, 'delete_snapshot', fake_delete_snapshot) self.req = fakes.HTTPRequest.blank('/v2/fake/os-snapshots') def test_normal_delete(self): self.req.method = 'POST' self.body = {'snapshot': {'volume_id': '1'}} result = self.controller.create(self.req, body=self.body) self.req.method = 'DELETE' result = self.controller.delete(self.req, result['snapshot']['id']) # NOTE: on v2.1, http status code is set as wsgi_code of API # method instead of status_int in a response object. if isinstance(self.controller, volumes_v3.SnapshotController): status_int = self.controller.delete.wsgi_code else: status_int = result.status_int self.assertEqual(202, status_int) def test_delete_snapshot_not_exists(self): def fake_delete_snapshot_not_exist(self, context, snapshot_id): raise exception.SnapshotNotFound(snapshot_id=snapshot_id) self.stubs.Set(cinder.API, 'delete_snapshot', fake_delete_snapshot_not_exist) self.req.method = 'POST' self.body = {'snapshot': {'volume_id': '1'}} result = self.controller.create(self.req, body=self.body) self.req.method = 'DELETE' self.assertRaises(exc.HTTPNotFound, self.controller.delete, self.req, result['snapshot']['id']) class DeleteSnapshotTestCaseV2(DeleteSnapshotTestCaseV21): snapshot_cls = volumes.SnapshotController ",68,197
openstack%2Fnova~master~I890c985ebacff32b0e1a0a90a0f198964d4e1bf9,openstack/nova,master,I890c985ebacff32b0e1a0a90a0f198964d4e1bf9,Remove unused _get_ip_and_port(),MERGED,2015-01-26 01:29:21.000000000,2015-02-02 15:48:13.000000000,2015-02-02 15:48:09.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 11103}, {'_account_id': 11822}]","[{'number': 1, 'created': '2015-01-26 01:29:21.000000000', 'files': ['nova/api/openstack/compute/contrib/cloudpipe.py', 'nova/api/openstack/compute/plugins/v3/cloudpipe.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8c6875d561681d67c0d4434996fe80522d0ac612', 'message': 'Remove unused _get_ip_and_port()\n\nSince I5fd1fb49a9e11b89062aa754501fed29874cb6ee , _get_ip_and_port has\nnot been used. Then this patch removes it.\n\nChange-Id: I890c985ebacff32b0e1a0a90a0f198964d4e1bf9\n'}]",0,149902,8c6875d561681d67c0d4434996fe80522d0ac612,16,8,1,11822,,,0,"Remove unused _get_ip_and_port()

Since I5fd1fb49a9e11b89062aa754501fed29874cb6ee , _get_ip_and_port has
not been used. Then this patch removes it.

Change-Id: I890c985ebacff32b0e1a0a90a0f198964d4e1bf9
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/149902/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/contrib/cloudpipe.py', 'nova/api/openstack/compute/plugins/v3/cloudpipe.py']",2,8c6875d561681d67c0d4434996fe80522d0ac612,remove_unused_get_ip_and_port,," def _get_ip_and_port(self, instance): pass ",0,6
openstack%2Fnova~master~I50efdfde3acfea1a717e7eff907a320a5e637c64,openstack/nova,master,I50efdfde3acfea1a717e7eff907a320a5e637c64,Adds logging to ComputeCapabilitiesFilter failures,MERGED,2015-01-28 09:30:47.000000000,2015-02-02 15:44:36.000000000,2015-02-02 15:44:33.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2033}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8688}, {'_account_id': 9420}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 11303}]","[{'number': 1, 'created': '2015-01-28 09:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d9fcc4770d207f8d0b3ec5a9620d613caf1eb27', 'message': 'Adds logging to ComputeCapabilitiesFilter failures\n\nThe ComputeCapabilitiesFilter filters hosts for multiple reasons.\nThe reasons for filtering were not logged.\nThis change adds logging for the filter reasons.\n\nCloses-bug: #1370948\n\nChange-Id: I50efdfde3acfea1a717e7eff907a320a5e637c64\n'}, {'number': 2, 'created': '2015-01-28 10:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3e79925a3be5169e53c6da8f79150aab56cfe9b', 'message': 'Adds logging to ComputeCapabilitiesFilter failures\n\nThe ComputeCapabilitiesFilter filters hosts for multiple reasons.\nThe reasons for filtering were not logged.\nThis change adds logging for the filter reasons.\n\nCloses-bug: #1370948\n\nChange-Id: I50efdfde3acfea1a717e7eff907a320a5e637c64\n'}, {'number': 3, 'created': '2015-01-29 09:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4e85b4a3f8fd832fed56ed5585cf777f3300750', 'message': 'Adds logging to ComputeCapabilitiesFilter failures\n\nThe ComputeCapabilitiesFilter filters hosts for multiple reasons.\nThe reasons for filtering were not logged.\nThis change adds logging for the filter reasons.\n\nCloses-bug: #1370948\n\nChange-Id: I50efdfde3acfea1a717e7eff907a320a5e637c64\n'}, {'number': 4, 'created': '2015-01-29 21:15:25.000000000', 'files': ['nova/scheduler/filters/compute_capabilities_filter.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bcb3a9bda0792803677024450080703e70824574', 'message': 'Adds logging to ComputeCapabilitiesFilter failures\n\nThe ComputeCapabilitiesFilter filters hosts for multiple reasons.\nThe reasons for filtering were not logged.\nThis change adds logging for the filter reasons.\n\nCloses-bug: #1370948\n\nChange-Id: I50efdfde3acfea1a717e7eff907a320a5e637c64\n'}]",9,150734,bcb3a9bda0792803677024450080703e70824574,45,19,4,11303,,,0,"Adds logging to ComputeCapabilitiesFilter failures

The ComputeCapabilitiesFilter filters hosts for multiple reasons.
The reasons for filtering were not logged.
This change adds logging for the filter reasons.

Closes-bug: #1370948

Change-Id: I50efdfde3acfea1a717e7eff907a320a5e637c64
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/150734/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/filters/compute_capabilities_filter.py'],1,2d9fcc4770d207f8d0b3ec5a9620d613caf1eb27,bug/1370948," LOG.debug(""%(host_state)s fails. The caps '%(cap)s' "" ""couldn't be loaded into JSON."", {'host_state': host_state, 'cap': cap}) LOG.debug(""%(host_state)s fails. The capabilities couldn't "" ""be retrieved because of %(error)s."", {'host_state': host_state, 'error': e}) LOG.debug(""%(host_state)s fails. There are no capabilities "" ""to retrieve."", {'host_state': host_state}) LOG.debug(""%(host_state)s fails extra_spec requirements. "" ""'%(req)s' does not match '%(cap)s'"", {'host_state': host_state, 'req': req, 'cap': cap})"," LOG.debug(""extra_spec requirement '%(req)s' does not match "" ""'%(cap)s'"", {'req': req, 'cap': cap})",12,2
openstack%2Fdevstack~master~Ibe27116a11756072d5a300a6d3691c5f8c32317e,openstack/devstack,master,Ibe27116a11756072d5a300a6d3691c5f8c32317e,Configure auth_token middleware manually in swift.,MERGED,2015-01-30 02:17:52.000000000,2015-02-02 15:44:05.000000000,2015-02-02 15:44:04.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 866}, {'_account_id': 970}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 4220}, {'_account_id': 5196}, {'_account_id': 6735}, {'_account_id': 6889}, {'_account_id': 7118}, {'_account_id': 9664}, {'_account_id': 10385}, {'_account_id': 13372}]","[{'number': 1, 'created': '2015-01-30 02:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8ac0cb747905e4130e391a2f9b822972901ce702', 'message': ""Configure auth_token middleware manually in swift.\n\nSwift doesn't use olso.config and so the method of configuring swift via the\n[keystone_authtoken] config options will not work. Go back to configuring swift\nmanually.\n\nThis will need to be fixed in either keystonemiddleware or swift as configuring\nvia plugin is the path to v3 authentication, service domains and new forms of\nservice user authentication.\n\nChange-Id: Ibe27116a11756072d5a300a6d3691c5f8c32317e\n""}, {'number': 2, 'created': '2015-01-30 02:18:40.000000000', 'files': ['lib/swift'], 'web_link': 'https://opendev.org/openstack/devstack/commit/38c95b8eba7a67535895c62a0d676f0ad37c5070', 'message': ""Configure auth_token middleware manually in swift.\n\nSwift doesn't use olso.config and so the method of configuring swift via the\n[keystone_authtoken] config options will not work. Go back to configuring swift\nmanually.\n\nThis will need to be fixed in either keystonemiddleware or swift as configuring\nvia plugin is the path to v3 authentication, service domains and new forms of\nservice user authentication.\n\nCloses-Bug: #1415795\nChange-Id: Ibe27116a11756072d5a300a6d3691c5f8c32317e\n""}]",0,151506,38c95b8eba7a67535895c62a0d676f0ad37c5070,14,14,2,7191,,,0,"Configure auth_token middleware manually in swift.

Swift doesn't use olso.config and so the method of configuring swift via the
[keystone_authtoken] config options will not work. Go back to configuring swift
manually.

This will need to be fixed in either keystonemiddleware or swift as configuring
via plugin is the path to v3 authentication, service domains and new forms of
service user authentication.

Closes-Bug: #1415795
Change-Id: Ibe27116a11756072d5a300a6d3691c5f8c32317e
",git fetch https://review.opendev.org/openstack/devstack refs/changes/06/151506/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/swift'],1,8ac0cb747905e4130e391a2f9b822972901ce702,bug/1415795," # NOTE(jamielennox): swift cannot use the regular configure_auth_token_middleware function because swift # doesn't use oslo.config which is the only way to configure auth plugins with the middleare. iniset ${SWIFT_CONFIG_PROXY_SERVER} filter:authtoken paste.filter_factory keystonemiddleware.auth_token:filter_factory iniset ${SWIFT_CONFIG_PROXY_SERVER} filter:authtoken identity_uri $KEYSTONE_AUTH_URI iniset ${SWIFT_CONFIG_PROXY_SERVER} filter:authtoken admin_user swift iniset ${SWIFT_CONFIG_PROXY_SERVER} filter:authtoken admin_password $SERVICE_PASSWORD iniset ${SWIFT_CONFIG_PROXY_SERVER} filter:authtoken admin_tenant_name $SERVICE_TENANT_NAME iniset ${SWIFT_CONFIG_PROXY_SERVER} filter:authtoken auth_uri $KEYSTONE_SERVICE_URI iniset ${SWIFT_CONFIG_PROXY_SERVER} filter:authtoken cafile $SSL_BUNDLE_FILE iniset ${SWIFT_CONFIG_PROXY_SERVER} filter:authtoken signing_dir $SWIFT_AUTH_CACHE_DIR iniset ${SWIFT_CONFIG_PROXY_SERVER} filter:authtoken delay_auth_decision 1 iniset ${SWIFT_CONFIG_PROXY_SERVER} filter:authtoken cache swift.cache iniset ${SWIFT_CONFIG_PROXY_SERVER} filter:authtoken include_service_catalog False iniset ${SWIFT_CONFIG_PROXY_SERVER} filter:keystoneauth use ""egg:swift#keystoneauth"""," # Configure Keystone sed -i '/^# \[filter:authtoken\]/,/^# \[filter:keystoneauth\]$/ s/^#[ \t]*//' ${SWIFT_CONFIG_PROXY_SERVER} configure_auth_token_middleware ${SWIFT_CONFIG_PROXY_SERVER} swift $SWIFT_AUTH_CACHE_DIR filter:authtoken iniuncomment ${SWIFT_CONFIG_PROXY_SERVER} filter:keystoneauth use iniuncomment ${SWIFT_CONFIG_PROXY_SERVER} filter:keystoneauth operator_roles",16,5
openstack%2Fshade~master~Id420abfeb32fa5d643d78ecec72db41be05093aa,openstack/shade,master,Id420abfeb32fa5d643d78ecec72db41be05093aa,Make get_image return None,MERGED,2015-02-02 15:17:05.000000000,2015-02-02 15:38:30.000000000,2015-02-02 15:38:29.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 3099}]","[{'number': 1, 'created': '2015-02-02 15:17:05.000000000', 'files': ['shade/__init__.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/bea5220e5a22953f349df48fa202283f5bdf0273', 'message': 'Make get_image return None\n\nTo make it more consistent with the interface elsewhere, make get_image\nreturn None when an Image is not found instead of throwing an exception.\n\nChange-Id: Id420abfeb32fa5d643d78ecec72db41be05093aa\n'}]",0,152149,bea5220e5a22953f349df48fa202283f5bdf0273,7,3,1,2,,,0,"Make get_image return None

To make it more consistent with the interface elsewhere, make get_image
return None when an Image is not found instead of throwing an exception.

Change-Id: Id420abfeb32fa5d643d78ecec72db41be05093aa
",git fetch https://review.opendev.org/openstack/shade refs/changes/49/152149/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/__init__.py'],1,bea5220e5a22953f349df48fa202283f5bdf0273,feature/glance-support, return None," raise OpenStackCloudException( ""Error finding image from %s"" % name_or_id)",1,2
openstack%2Fdevstack~master~I20d4c9286cd2216aa238705f00d8f4537ed91234,openstack/devstack,master,I20d4c9286cd2216aa238705f00d8f4537ed91234,Fix oslo_messaging package and related object names,MERGED,2015-01-23 11:13:54.000000000,2015-02-02 15:38:22.000000000,2015-02-02 15:38:21.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 2750}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-23 11:13:54.000000000', 'files': ['lib/rpc_backend'], 'web_link': 'https://opendev.org/openstack/devstack/commit/529f8113c2d93c85bbede7041cde1b455bc2119f', 'message': 'Fix oslo_messaging package and related object names\n\nUse the latest oslo_messaging package and the related driver names.\n\nChange-Id: I20d4c9286cd2216aa238705f00d8f4537ed91234\n'}]",0,149571,529f8113c2d93c85bbede7041cde1b455bc2119f,8,4,1,7805,,,0,"Fix oslo_messaging package and related object names

Use the latest oslo_messaging package and the related driver names.

Change-Id: I20d4c9286cd2216aa238705f00d8f4537ed91234
",git fetch https://review.opendev.org/openstack/devstack refs/changes/71/149571/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/rpc_backend'],1,529f8113c2d93c85bbede7041cde1b455bc2119f,fix-oslo-messaging-name," oslo_messaging._drivers.matchmaker_redis.MatchMakerRedis iniset $file $section rpc_backend ""qpid"" iniset $file $section rpc_backend ""rabbit""", oslo.messaging._drivers.matchmaker_redis.MatchMakerRedis iniset $file $section rpc_backend ${package}.openstack.common.rpc.impl_qpid iniset $file $section rpc_backend ${package}.openstack.common.rpc.impl_kombu,3,3
openstack%2Fdevstack~master~Ie4ac673011d77a9edc8923db94d914efe9f45d5d,openstack/devstack,master,Ie4ac673011d77a9edc8923db94d914efe9f45d5d,XenAPI: Replace remaining instances of 'devstack.succeeded',MERGED,2015-01-26 14:14:56.000000000,2015-02-02 15:38:13.000000000,2015-02-02 15:38:12.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 2750}, {'_account_id': 6854}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-26 14:14:56.000000000', 'files': ['tools/xen/build_xva.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f35e95706c42f98336059c2177261a77b55427a9', 'message': ""XenAPI: Replace remaining instances of 'devstack.succeeded'\n\nCommit I05990c7154366350b0f9cc3e6c70d6f34238486f was incomplete\nand left two references to the, now replaced, devstack.succeeded.\n\nThe impact of this is that the XVA always claims that devstack failed\nto run when actually the run may have been successful\n\nChange-Id: Ie4ac673011d77a9edc8923db94d914efe9f45d5d\n""}]",0,150032,f35e95706c42f98336059c2177261a77b55427a9,9,5,1,6735,,,0,"XenAPI: Replace remaining instances of 'devstack.succeeded'

Commit I05990c7154366350b0f9cc3e6c70d6f34238486f was incomplete
and left two references to the, now replaced, devstack.succeeded.

The impact of this is that the XVA always claims that devstack failed
to run when actually the run may have been successful

Change-Id: Ie4ac673011d77a9edc8923db94d914efe9f45d5d
",git fetch https://review.opendev.org/openstack/devstack refs/changes/32/150032/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/xen/build_xva.sh'],1,f35e95706c42f98336059c2177261a77b55427a9,, rm -f /opt/stack/runsh.succeeded if [ -e /opt/stack/runsh.succeeded ]; then, rm -f /var/run/devstack.succeeded if [ -e /var/run/devstack.succeeded ]; then,2,2
openstack%2Fdevstack~master~I343951a678bed9ca3cda347a9c902e60c7b70e2d,openstack/devstack,master,I343951a678bed9ca3cda347a9c902e60c7b70e2d,Define extra_elements inside disk_image_create_upload,MERGED,2015-01-22 01:20:33.000000000,2015-02-02 15:38:03.000000000,2015-02-02 15:38:02.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 2750}, {'_account_id': 7715}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-22 01:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fde72876237f7b5c3ca7fdaf2ab426fac4dad9cb', 'message': 'Ensure EXTRA_ELEMENTS is set\n\nThis prevents bash raising an error when run with set -u\n\nChange-Id: I343951a678bed9ca3cda347a9c902e60c7b70e2d\n'}, {'number': 2, 'created': '2015-01-26 20:34:36.000000000', 'files': ['lib/dib'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8874115668427b9d60bb65cbe3670d01d3f7eb14', 'message': 'Define extra_elements inside disk_image_create_upload\n\nThis avoids the need to define a global variable,\nand tolerates extra_elements not being set when bash\nflag -u is set.\n\nChange-Id: I343951a678bed9ca3cda347a9c902e60c7b70e2d\n'}]",3,149107,8874115668427b9d60bb65cbe3670d01d3f7eb14,14,5,2,4571,,,0,"Define extra_elements inside disk_image_create_upload

This avoids the need to define a global variable,
and tolerates extra_elements not being set when bash
flag -u is set.

Change-Id: I343951a678bed9ca3cda347a9c902e60c7b70e2d
",git fetch https://review.opendev.org/openstack/devstack refs/changes/07/149107/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/dib'],1,fde72876237f7b5c3ca7fdaf2ab426fac4dad9cb,extra-elements-set,"else EXTRA_ELEMENTS=""""",,2,0
openstack%2Fdevstack~master~I034be6362b3d09c5296ecc413828a056712c3bd2,openstack/devstack,master,I034be6362b3d09c5296ecc413828a056712c3bd2,Fix wrong grep regular expression for tap ports,MERGED,2015-01-27 03:03:48.000000000,2015-02-02 15:37:37.000000000,2015-02-02 15:37:35.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 2750}, {'_account_id': 6854}, {'_account_id': 7715}, {'_account_id': 10385}, {'_account_id': 13790}]","[{'number': 1, 'created': '2015-01-27 03:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/723aa3f761c7ecf4b137001205e3379c3c4261a3', 'message': 'Fix wrong grep regular expression for tap ports\n\nThe regular expression used in neutron_ovs_base_cleanup omit\nprefix in ovs tap ports, so wrong names are returned and used\n\nChange-Id: I034be6362b3d09c5296ecc413828a056712c3bd2\n'}, {'number': 2, 'created': '2015-01-29 08:12:31.000000000', 'files': ['lib/neutron_plugins/ovs_base'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9a704486a9471d6e0d6e6bf82321784e2348f257', 'message': 'Fix wrong grep regular expression for tap ports\n\nThe regular expression used in neutron_ovs_base_cleanup omit\nprefix in ovs tap ports, so wrong names are returned and used.\nE.g. tap devices created for ironic in devstack are brbm-tap1\nand ovs-tap1.\n\nChange-Id: I034be6362b3d09c5296ecc413828a056712c3bd2\n'}]",3,150236,9a704486a9471d6e0d6e6bf82321784e2348f257,16,7,2,13790,,,0,"Fix wrong grep regular expression for tap ports

The regular expression used in neutron_ovs_base_cleanup omit
prefix in ovs tap ports, so wrong names are returned and used.
E.g. tap devices created for ironic in devstack are brbm-tap1
and ovs-tap1.

Change-Id: I034be6362b3d09c5296ecc413828a056712c3bd2
",git fetch https://review.opendev.org/openstack/devstack refs/changes/36/150236/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/ovs_base'],1,723aa3f761c7ecf4b137001205e3379c3c4261a3,ovs_fix, for port in $(sudo ovs-vsctl list port | grep -o -e [a-zA-Z\-]*tap[0-9a-f\-]* -e q[rg]-[0-9a-f\-]*); do, for port in $(sudo ovs-vsctl list port | grep -o -e tap[0-9a-f\-]* -e q[rg]-[0-9a-f\-]*); do,1,1
openstack%2Foslo-incubator~master~Ifab8a092fab84609598052008457cdd83633513a,openstack/oslo-incubator,master,Ifab8a092fab84609598052008457cdd83633513a,Use oslo_utils instead of deprecated oslo.utils,MERGED,2015-01-15 09:31:34.000000000,2015-02-02 15:35:43.000000000,2015-02-02 15:35:42.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 6676}, {'_account_id': 9107}, {'_account_id': 9796}, {'_account_id': 12038}]","[{'number': 1, 'created': '2015-01-15 09:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/51091921bb259cc4a04743b62c78f30f362c8518', 'message': 'Use oslo_utils instead of deprecated oslo.utils\n\noslo.utils 1.2.0 has changed its namespace from oslo.utils to\noslo_utils, the old import style of oslo.utils still can work but\nit is deprecated.\n\nChange-Id: Ifab8a092fab84609598052008457cdd83633513a\n'}, {'number': 2, 'created': '2015-01-19 07:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/352e1966a49951c382a3ffe9d58a90538e10fbb9', 'message': 'Use oslo_utils instead of deprecated oslo.utils\n\noslo.utils 1.2.0 has changed its namespace from oslo.utils to\noslo_utils, the old import style of oslo.utils still can work but\nit is deprecated.\n\nChange-Id: Ifab8a092fab84609598052008457cdd83633513a\n'}, {'number': 3, 'created': '2015-01-23 02:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/b54121b61ad87682239844e6f9046ad393b57eaa', 'message': 'Use oslo_utils instead of deprecated oslo.utils\n\noslo.utils 1.2.0 has changed its namespace from oslo.utils to\noslo_utils, the old import style of oslo.utils still can work but\nit is deprecated.\n\nChange-Id: Ifab8a092fab84609598052008457cdd83633513a\n'}, {'number': 4, 'created': '2015-01-27 04:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/c98f5e6cd91c345e7eedd65c1223d7d22a0952eb', 'message': 'Use oslo_utils instead of deprecated oslo.utils\n\noslo.utils 1.2.0 has changed its namespace from oslo.utils to\noslo_utils, the old import style of oslo.utils still can work but\nit is deprecated.\n\nChange-Id: Ifab8a092fab84609598052008457cdd83633513a\n'}, {'number': 5, 'created': '2015-01-30 02:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/9b2c0d4c9d7f8e89ce2b30124170130c4f15c31c', 'message': 'Use oslo_utils instead of deprecated oslo.utils\n\noslo.utils 1.2.0 has changed its namespace from oslo.utils to\noslo_utils, the old import style of oslo.utils still can work but\nit is deprecated.\n\nChange-Id: Ifab8a092fab84609598052008457cdd83633513a\n'}, {'number': 6, 'created': '2015-01-31 09:39:09.000000000', 'files': ['openstack/common/fileutils.py', 'openstack/common/crypto/utils.py', 'openstack/common/imageutils.py', 'openstack/common/apiclient/client.py', 'openstack/common/scheduler/filters/extra_specs_ops.py', 'openstack/common/apiclient/base.py', 'openstack/common/apiclient/utils.py', 'openstack/common/report/guru_meditation_report.py', 'openstack/common/cache/_backends/memory.py', 'openstack/common/cliutils.py', 'tests/unit/reports/test_guru_meditation_report.py', 'openstack/common/memorycache.py', 'openstack/common/quota.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/ac17de979e7577c72191d56b6798a128238a8b38', 'message': 'Use oslo_utils instead of deprecated oslo.utils\n\noslo.utils 1.2.0 has changed its namespace from oslo.utils to\noslo_utils, the old import style of oslo.utils still can work but\nit is deprecated.\n\nChange-Id: Ifab8a092fab84609598052008457cdd83633513a\n'}]",2,147427,ac17de979e7577c72191d56b6798a128238a8b38,32,7,6,6676,,,0,"Use oslo_utils instead of deprecated oslo.utils

oslo.utils 1.2.0 has changed its namespace from oslo.utils to
oslo_utils, the old import style of oslo.utils still can work but
it is deprecated.

Change-Id: Ifab8a092fab84609598052008457cdd83633513a
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/27/147427/5 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/common/fileutils.py', 'openstack/common/crypto/utils.py', 'openstack/common/imageutils.py', 'openstack/common/apiclient/client.py', 'openstack/common/scheduler/filters/extra_specs_ops.py', 'openstack/common/apiclient/base.py', 'openstack/common/apiclient/utils.py', 'openstack/common/report/guru_meditation_report.py', 'openstack/common/cache/_backends/memory.py', 'openstack/common/cliutils.py', 'tests/unit/reports/test_guru_meditation_report.py', 'openstack/common/memorycache.py', 'openstack/common/quota.py', 'openstack/common/log.py']",14,51091921bb259cc4a04743b62c78f30f362c8518,use-oslo_utils,from oslo_utils import importutils,from oslo.utils import importutils,17,17
openstack%2Foslo-incubator~master~Ica4c38bd3ef31292574d671a87632a1459031b57,openstack/oslo-incubator,master,Ica4c38bd3ef31292574d671a87632a1459031b57,Fix using multiple instances of ProcessLauncher,ABANDONED,2014-09-16 10:01:47.000000000,2015-02-02 15:35:40.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-09-16 10:01:47.000000000', 'files': ['tests/unit/test_service.py', 'openstack/common/service.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/3ca312175d0053062c136130623f6fb232044830', 'message': ""Fix using multiple instances of ProcessLauncher\n\nMake pipe and signal handler setting a class domain functionalities that\nare done only once, and instruct the instances to only manage it's own\nspawned children processes and to not assume that all sub processes are\nowned by each instance.\n\nUnit tests was refactored in this patch to make better reuse of code.\n\nChange-Id: Ica4c38bd3ef31292574d671a87632a1459031b57\nCloses-Bug: 1364876\n""}]",0,121798,3ca312175d0053062c136130623f6fb232044830,4,1,1,7073,,,0,"Fix using multiple instances of ProcessLauncher

Make pipe and signal handler setting a class domain functionalities that
are done only once, and instruct the instances to only manage it's own
spawned children processes and to not assume that all sub processes are
owned by each instance.

Unit tests was refactored in this patch to make better reuse of code.

Change-Id: Ica4c38bd3ef31292574d671a87632a1459031b57
Closes-Bug: 1364876
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/98/121798/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/test_service.py', 'openstack/common/service.py']",2,3ca312175d0053062c136130623f6fb232044830,bug/1364876,"from openstack.common.gettextutils import _LE, _LI __instances = [] readpipe, writepipe = os.pipe() # NOTE(Mouad): Only register signals handler for first instance, # in a green word (e.g. w/ eventlet) this doesn't need locking # b/c signal.signal doesn't trigger context switch. if not self.__instances: _set_signals_handler(self._handle_signal) self.__instances.append(self) @classmethod def _handle_signal(self, signo, frame): for inst in self.__instances: inst.sigcaught = signo inst.running = False eventlet.greenio.GreenPipe(self.readpipe).read() for pid in self.children: # Don't block if child processes didn't exit. pid, status = os.waitpid(pid, os.WNOHANG) if pid: break else: return","from openstack.common.gettextutils import _LE, _LI, _LW rfd, self.writepipe = os.pipe() self.readpipe = eventlet.greenio.GreenPipe(rfd, 'r') self.handle_signal() def handle_signal(self): _set_signals_handler(self._handle_signal) def _handle_signal(self, signo, frame): self.sigcaught = signo self.running = False self.readpipe.read() # Don't block if no child processes have exited pid, status = os.waitpid(0, os.WNOHANG) if not pid: return None if pid not in self.children: LOG.warning(_LW('pid %d not in child list'), pid) return None self.handle_signal()",188,110
openstack%2Foslo-incubator~master~Ic3ef1f0e654613a22a4daa17bb60d13f61b8b5ec,openstack/oslo-incubator,master,Ic3ef1f0e654613a22a4daa17bb60d13f61b8b5ec,Instrument oslo-incubator for oslo-config-generator,ABANDONED,2014-08-07 14:57:36.000000000,2015-02-02 15:35:24.000000000,,"[{'_account_id': 3}, {'_account_id': 708}, {'_account_id': 2472}, {'_account_id': 9349}]","[{'number': 1, 'created': '2014-08-07 14:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/073ebc8dccec1efd69f3954e2d2b3389e6211099', 'message': 'Instrument oslo-incubator for oslo-config-generator\n\nAs baby-step to convert projects (specifically tempest as goal) that\nutilize incubator code over to the new oslo-config-generator, adding\nlist_opt methods anywhere there are config opts being registered.\n\nChange-Id: Ic3ef1f0e654613a22a4daa17bb60d13f61b8b5ec\nPartial-Bug: 1282887\n'}, {'number': 2, 'created': '2014-08-07 16:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/a899fc019a84f0e198084bd4f155a19137ab0f97', 'message': 'Instrument oslo-incubator for oslo-config-generator\n\nAs baby-step to convert projects (specifically tempest as goal) that\nutilize incubator code over to the new oslo-config-generator, adding\nlist_opt methods anywhere there are config opts being registered.\n\nChange-Id: Ic3ef1f0e654613a22a4daa17bb60d13f61b8b5ec\nPartial-Bug: 1282887\n'}, {'number': 3, 'created': '2014-08-12 21:20:44.000000000', 'files': ['openstack/common/cache/cache.py', 'openstack/common/rpc/matchmaker_redis.py', 'openstack/common/rpc/matchmaker_ring.py', 'openstack/common/rpc/impl_kombu.py', 'openstack/common/sslutils.py', 'openstack/common/lockutils.py', 'openstack/common/eventlet_backdoor.py', 'openstack/common/rpc/amqp.py', 'openstack/common/rpc/__init__.py', 'openstack/common/policy.py', 'openstack/common/memorycache.py', 'openstack/common/rpc/zmq_receiver.py', 'openstack/common/quota.py', 'openstack/common/log.py', 'openstack/common/rpc/matchmaker.py', 'openstack/common/rpc/impl_qpid.py', 'openstack/common/rpc/impl_zmq.py', 'openstack/common/periodic_task.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/07d683c1b61a4dcf353ded5ca17d07cb0941faeb', 'message': 'Instrument oslo-incubator for oslo-config-generator\n\nAs baby-step to convert projects (specifically tempest as goal) that\nutilize incubator code over to the new oslo-config-generator, adding\nlist_opt methods anywhere there are config opts being registered.\n\nChange-Id: Ic3ef1f0e654613a22a4daa17bb60d13f61b8b5ec\nPartial-Bug: 1282887\n'}]",0,112603,07d683c1b61a4dcf353ded5ca17d07cb0941faeb,18,4,3,9349,,,0,"Instrument oslo-incubator for oslo-config-generator

As baby-step to convert projects (specifically tempest as goal) that
utilize incubator code over to the new oslo-config-generator, adding
list_opt methods anywhere there are config opts being registered.

Change-Id: Ic3ef1f0e654613a22a4daa17bb60d13f61b8b5ec
Partial-Bug: 1282887
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/03/112603/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/common/cache/cache.py', 'openstack/common/rpc/matchmaker_redis.py', 'openstack/common/rpc/matchmaker_ring.py', 'openstack/common/rpc/impl_kombu.py', 'openstack/common/sslutils.py', 'openstack/common/lockutils.py', 'openstack/common/eventlet_backdoor.py', 'openstack/common/rpc/amqp.py', 'openstack/common/rpc/__init__.py', 'openstack/common/policy.py', 'openstack/common/memorycache.py', 'openstack/common/rpc/zmq_receiver.py', 'openstack/common/quota.py', 'openstack/common/log.py', 'openstack/common/rpc/matchmaker.py', 'openstack/common/rpc/impl_qpid.py', 'openstack/common/rpc/impl_zmq.py', 'openstack/common/periodic_task.py']",18,073ebc8dccec1efd69f3954e2d2b3389e6211099,bug/1282887,"import copydef list_opts(): """"""Return a list of oslo.config options available. The purpose of this is to allow tools like the Oslo sample config file generator to discover the options exposed to users. """""" return [(None, copy.deepcopy(periodic_opts))] ",,186,0
openstack%2Foslo-incubator~master~I471b640aa764b59a0e46bc9aa876cecc7155a6fe,openstack/oslo-incubator,master,I471b640aa764b59a0e46bc9aa876cecc7155a6fe,"Adds {collection_,}response_key to CrudManager",ABANDONED,2014-03-03 17:17:25.000000000,2015-02-02 15:35:09.000000000,,"[{'_account_id': 3}, {'_account_id': 7536}, {'_account_id': 7763}, {'_account_id': 8041}]","[{'number': 1, 'created': '2014-03-03 17:17:25.000000000', 'files': ['openstack/common/apiclient/base.py', 'tests/unit/apiclient/test_base.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/3f08ba37a89c7f30fd63bb42a56727d8e465d328', 'message': 'Adds {collection_,}response_key to CrudManager\n\nUser of CrudManager should have a way to consume APIs which have\ndifferent element wrapper around data compared to url path fragment\nin JSON output or no wrapper element at all.\n\nChange-Id: I471b640aa764b59a0e46bc9aa876cecc7155a6fe\n'}]",0,77653,3f08ba37a89c7f30fd63bb42a56727d8e465d328,13,4,1,8041,,,0,"Adds {collection_,}response_key to CrudManager

User of CrudManager should have a way to consume APIs which have
different element wrapper around data compared to url path fragment
in JSON output or no wrapper element at all.

Change-Id: I471b640aa764b59a0e46bc9aa876cecc7155a6fe
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/53/77653/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/common/apiclient/base.py', 'tests/unit/apiclient/test_base.py']",2,3f08ba37a89c7f30fd63bb42a56727d8e465d328,bp/common-client-library-2," collection_response_key = 'crud_resources_wrapper' response_key = 'crud_resource_wrapper' return (200, {}, {""crud_resource_wrapper"": {""id"": ""1""}}) return (200, {}, {""crud_resources_wrapper"": crud_resources}) return (200, {}, {""crud_resource_wrapper"": self.crud_resource_json}) return (200, {}, {""crud_resource_wrapper"": self.crud_resource_json}) class CrudManagerUnitTest(test.BaseTestCase): def setUp(self): super(CrudManagerUnitTest, self).setUp() self.request_args = {'arg1': 'val1', 'arg2': 'val2'} self.request_with_id_args = self.request_args.copy() self.request_with_id_args.update({'crud_resource_id': 42}) self.client = mock.MagicMock() self.crud_manager = base.CrudManager(self.client) self.crud_manager.key = 'crud_resource' self.crud_manager.collection_key = 'crud_resources' self.crud_manager.response_key = 'crud_resource_wrapper' self.crud_manager.collection_response_key = 'crud_resources_wrapper' def test_list(self): self.crud_manager._list = mock.MagicMock() self.crud_manager.list(base_url='/base_url', **self.request_args) self.crud_manager._list.assert_called_with( '/base_url/crud_resources?arg1=val1&arg2=val2', 'crud_resources_wrapper') def test_get(self): self.crud_manager._get = mock.MagicMock() self.crud_manager.get(**self.request_with_id_args) self.crud_manager._get.assert_called_with( '/crud_resources/42', 'crud_resource_wrapper') def test_create(self): self.crud_manager._post = mock.MagicMock() self.crud_manager.create(**self.request_args) self.crud_manager._post.assert_called_with( '/crud_resources', {'crud_resource': {'arg1': 'val1', 'arg2': 'val2'}}, 'crud_resource_wrapper') def test_put(self): self.crud_manager._put = mock.MagicMock() self.crud_manager.put(**self.request_with_id_args) self.crud_manager._put.assert_called_with( '/crud_resources/42', {'crud_resource': {'arg1': 'val1', 'arg2': 'val2'}}, 'crud_resource_wrapper') def test_update(self): self.crud_manager._patch = mock.MagicMock() self.crud_manager.update(**self.request_with_id_args) self.crud_manager._patch.assert_called_with( '/crud_resources/42', {'crud_resource': {'arg1': 'val1', 'arg2': 'val2'}}, 'crud_resource_wrapper')"," return (200, {}, {""crud_resource"": {""id"": ""1""}}) return (200, {}, {""crud_resources"": crud_resources}) return (200, {}, {""crud_resource"": self.crud_resource_json}) return (200, {}, {""crud_resource"": self.crud_resource_json})",70,9
openstack%2Fmagnetodb~master~I05facdff6f5d9f912e953251c28c5de2fcdce75a,openstack/magnetodb,master,I05facdff6f5d9f912e953251c28c5de2fcdce75a,Move setting up default encoding into setup_global_env,MERGED,2015-01-28 15:19:20.000000000,2015-02-02 15:34:34.000000000,2015-02-02 15:34:33.000000000,"[{'_account_id': 3}, {'_account_id': 8601}, {'_account_id': 8799}, {'_account_id': 8863}, {'_account_id': 11006}]","[{'number': 1, 'created': '2015-01-28 15:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/93ec14fd645ab0df35c3175ae943e35c6bdd8321', 'message': 'Move setting up default encoding into setup_global_env\n\nChange-Id: I05facdff6f5d9f912e953251c28c5de2fcdce75a\nCloses-bug: #1415100\n'}, {'number': 2, 'created': '2015-01-28 16:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/6ab51daa6f701744b1d7cdd483398412f343ede9', 'message': 'Move setting up default encoding into setup_global_env\n\nChange-Id: I05facdff6f5d9f912e953251c28c5de2fcdce75a\nCloses-bug: #1415100\n'}, {'number': 3, 'created': '2015-01-29 13:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/66a2c2efe4837a74cfb3db7e7a419c5dc6fad5f5', 'message': 'Move setting up default encoding into setup_global_env\n\nChange-Id: I05facdff6f5d9f912e953251c28c5de2fcdce75a\nCloses-bug: #1415100\n'}, {'number': 4, 'created': '2015-01-29 13:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/0e67225d6765affd0ad963c16596c28bddf532ef', 'message': 'Move setting up default encoding into setup_global_env\n\nChange-Id: I05facdff6f5d9f912e953251c28c5de2fcdce75a\nCloses-bug: #1415100\n'}, {'number': 5, 'created': '2015-01-29 14:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/a2a0e66c05525296a666a8ed0e1bbb4b87615601', 'message': 'Move setting up default encoding into setup_global_env\n\nChange-Id: I05facdff6f5d9f912e953251c28c5de2fcdce75a\nCloses-bug: #1415100\n'}, {'number': 6, 'created': '2015-01-29 14:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/dca5174210d2dad82d3074086cca5f606435b232', 'message': 'Move setting up default encoding into setup_global_env\n\nAlso this patch add support of last cassandra-driver verison\n2.1.4\n\nChange-Id: I05facdff6f5d9f912e953251c28c5de2fcdce75a\nCloses-bug: #1415100\n'}, {'number': 7, 'created': '2015-01-30 11:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/f7202726f0d14f6b391598907dff4941f34691cf', 'message': 'Move setting up default encoding into setup_global_env\n\nAlso makes small refactoring for cluster handler\n\nChange-Id: I05facdff6f5d9f912e953251c28c5de2fcdce75a\nCloses-bug: #1415100\n'}, {'number': 8, 'created': '2015-01-30 13:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/3f33de0ce16e23a6ec3a07d4527ab06b216e2856', 'message': 'Move setting up default encoding into setup_global_env\n\nAlso this patch add support of last cassandra-driver verison\n2.1.4\n\nChange-Id: I05facdff6f5d9f912e953251c28c5de2fcdce75a\nCloses-bug: #1415100\n'}, {'number': 9, 'created': '2015-01-30 18:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/fb791b65fd5addf92f24d4d9b817f72c931dadce', 'message': 'Move setting up default encoding into setup_global_env\n\nAlso makes small refactoring for cluster handler\n\nChange-Id: I05facdff6f5d9f912e953251c28c5de2fcdce75a\nCloses-bug: #1415100\n'}, {'number': 10, 'created': '2015-02-02 13:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/a5c3d847df2856e42928b89297a385bdf3ad6cae', 'message': 'Move setting up default encoding into setup_global_env\n\nAlso makes small refactoring for cluster handler\n\nChange-Id: I05facdff6f5d9f912e953251c28c5de2fcdce75a\nCloses-bug: #1415100\n'}, {'number': 11, 'created': '2015-02-02 13:36:17.000000000', 'files': ['magnetodb/common/__init__.py', 'bin/magnetodb-api-server-gunicorn', 'magnetodb/common/cassandra/cluster_handler.py', 'bin/data-load', 'bin/magnetodb-streaming-api-server', 'bin/magnetodb-streaming-api-server-gunicorn', 'bin/magnetodb-api-server', 'bin/magnetodb-async-task-executor'], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/9714dc168001dd3294fcbdc26c1a5b5bed743444', 'message': 'Move setting up default encoding into setup_global_env\n\nAlso makes small refactoring for cluster handler\n\nChange-Id: I05facdff6f5d9f912e953251c28c5de2fcdce75a\nCloses-bug: #1415100\n'}]",2,150810,9714dc168001dd3294fcbdc26c1a5b5bed743444,44,5,11,8601,,,0,"Move setting up default encoding into setup_global_env

Also makes small refactoring for cluster handler

Change-Id: I05facdff6f5d9f912e953251c28c5de2fcdce75a
Closes-bug: #1415100
",git fetch https://review.opendev.org/openstack/magnetodb refs/changes/10/150810/10 && git format-patch -1 --stdout FETCH_HEAD,"['magnetodb/common/__init__.py', 'bin/magnetodb-api-server-gunicorn', 'bin/data-load', 'bin/magnetodb-streaming-api-server', 'bin/magnetodb-streaming-api-server-gunicorn', 'bin/magnetodb-api-server', 'bin/magnetodb-async-task-executor']",7,93ec14fd645ab0df35c3175ae943e35c6bdd8321,unicode,,reload(sys) sys.setdefaultencoding('utf-8') ,3,18
openstack%2Fmagnum~master~I7d2f8b7ea361b38d6f0110772c10f93037c7aefb,openstack/magnum,master,I7d2f8b7ea361b38d6f0110772c10f93037c7aefb,Enable multi tenant for get_xxx_by_id,MERGED,2015-01-30 09:15:03.000000000,2015-02-02 15:26:11.000000000,2015-02-02 15:26:11.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 6836}, {'_account_id': 7494}, {'_account_id': 8580}, {'_account_id': 11536}]","[{'number': 1, 'created': '2015-01-30 09:15:03.000000000', 'files': ['magnum/db/sqlalchemy/api.py', 'magnum/objects/bay.py', 'magnum/tests/db/test_node.py', 'magnum/objects/node.py', 'magnum/tests/db/test_container.py', 'magnum/objects/container.py', 'magnum/tests/db/test_baymodel.py', 'magnum/tests/objects/test_container.py', 'magnum/objects/baymodel.py', 'magnum/tests/db/test_bay.py', 'magnum/tests/objects/test_node.py', 'magnum/tests/objects/test_bay.py', 'magnum/tests/objects/test_baymodel.py', 'magnum/db/api.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/c182dadb1725ede293a0a52759ff6e522798dfb0', 'message': 'Enable multi tenant for get_xxx_by_id\n\nThe updated API include the following:\n1) get_bay_by_id\n2) get_baymodel_by_id\n3) get_node_by_id\n4) get_container_by_id\n\nImplements part of bp multi-tenant\n\nChange-Id: I7d2f8b7ea361b38d6f0110772c10f93037c7aefb\n'}]",4,151579,c182dadb1725ede293a0a52759ff6e522798dfb0,13,6,1,7494,,,0,"Enable multi tenant for get_xxx_by_id

The updated API include the following:
1) get_bay_by_id
2) get_baymodel_by_id
3) get_node_by_id
4) get_container_by_id

Implements part of bp multi-tenant

Change-Id: I7d2f8b7ea361b38d6f0110772c10f93037c7aefb
",git fetch https://review.opendev.org/openstack/magnum refs/changes/79/151579/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/db/sqlalchemy/api.py', 'magnum/objects/bay.py', 'magnum/tests/db/test_node.py', 'magnum/objects/node.py', 'magnum/tests/db/test_container.py', 'magnum/objects/container.py', 'magnum/tests/db/test_baymodel.py', 'magnum/tests/objects/test_container.py', 'magnum/objects/baymodel.py', 'magnum/tests/db/test_bay.py', 'magnum/tests/objects/test_node.py', 'magnum/tests/objects/test_bay.py', 'magnum/tests/objects/test_baymodel.py', 'magnum/db/api.py']",14,c182dadb1725ede293a0a52759ff6e522798dfb0,bp/multi-tenant," def get_bay_by_id(self, ctxt, bay_id): :param ctxt: The security context def get_baymodel_by_id(self, ctxt, baymodel_id): :param ctxt: The security context def get_container_by_id(self, ctxt, container_id): :param ctxt: The security context def get_node_by_id(self, ctxt, node_id): :param ctxt: The security context"," def get_bay_by_id(self, bay_id): def get_baymodel_by_id(self, baymodel_id): def get_container_by_id(self, container_id): def get_node_by_id(self, node_id):",52,33
openstack%2Fmagnum~master~Iabc81288cf58d0a7da4f4fec90a1be561d41d9f3,openstack/magnum,master,Iabc81288cf58d0a7da4f4fec90a1be561d41d9f3,Enable multi tenant for get_xxx_list,MERGED,2015-01-29 06:37:20.000000000,2015-02-02 15:25:43.000000000,2015-02-02 15:25:42.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 7494}, {'_account_id': 11536}, {'_account_id': 12385}]","[{'number': 1, 'created': '2015-01-29 06:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5ef519e16da5c6fc109cd5d46e0b2ce73d1a3892', 'message': 'Enable multi tenant for following APIs:\n1) get_node_list\n2) get_baymodel_list\n3) get_container_list\n\nImplements part of bp multi-tenant\n\nChange-Id: Iabc81288cf58d0a7da4f4fec90a1be561d41d9f3\n'}, {'number': 2, 'created': '2015-01-29 06:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/4f8020780c1df4f2977173e1e8ac52f08c67dbbb', 'message': 'Enable multi tenant for following APIs:\n\n1) get_node_list\n2) get_baymodel_list\n3) get_container_list\n\nImplements part of bp multi-tenant\n\nChange-Id: Iabc81288cf58d0a7da4f4fec90a1be561d41d9f3\n'}, {'number': 3, 'created': '2015-01-30 06:35:40.000000000', 'files': ['magnum/db/sqlalchemy/api.py', 'magnum/objects/bay.py', 'magnum/tests/db/test_node.py', 'magnum/objects/node.py', 'magnum/tests/db/test_container.py', 'magnum/objects/container.py', 'magnum/tests/db/test_baymodel.py', 'magnum/objects/baymodel.py', 'magnum/db/api.py', 'magnum/tests/db/test_bay.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/003d5a199bdbd53b771f52c82fc16937365644eb', 'message': 'Enable multi tenant for get_xxx_list\n\nThe updated API include the following:\n1) get_node_list\n2) get_baymodel_list\n3) get_bay_list\n4) get_container_list\n\nImplements part of bp multi-tenant\n\nChange-Id: Iabc81288cf58d0a7da4f4fec90a1be561d41d9f3\n'}]",12,151127,003d5a199bdbd53b771f52c82fc16937365644eb,17,5,3,7494,,,0,"Enable multi tenant for get_xxx_list

The updated API include the following:
1) get_node_list
2) get_baymodel_list
3) get_bay_list
4) get_container_list

Implements part of bp multi-tenant

Change-Id: Iabc81288cf58d0a7da4f4fec90a1be561d41d9f3
",git fetch https://review.opendev.org/openstack/magnum refs/changes/27/151127/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/db/sqlalchemy/api.py', 'magnum/tests/db/test_node.py', 'magnum/objects/node.py', 'magnum/tests/db/test_container.py', 'magnum/objects/container.py', 'magnum/tests/db/test_baymodel.py', 'magnum/db/api.py', 'magnum/objects/baymodel.py']",8,5ef519e16da5c6fc109cd5d46e0b2ce73d1a3892,bp/multi-tenant," db_baymodels = cls.dbapi.get_baymodel_list(context, limit=limit,"," db_baymodels = cls.dbapi.get_baymodel_list(limit=limit,",53,42
openstack%2Fmagnum~master~I6cff457e585b4dd11f485eb63e477b8de0e96bea,openstack/magnum,master,I6cff457e585b4dd11f485eb63e477b8de0e96bea,Enable multi tenant for get_xx_by_uuid,MERGED,2015-01-28 02:46:09.000000000,2015-02-02 15:25:32.000000000,2015-02-02 15:25:24.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 7494}, {'_account_id': 11536}, {'_account_id': 12385}]","[{'number': 1, 'created': '2015-01-28 02:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/37ddc63c1c11f9b917e7e68d815ec8e9c1703d70', 'message': 'WIP: Enable multi tenant for get_baymodel_by_uuid\n\nImplements part of bp multi-tenant\n\nChange-Id: I6cff457e585b4dd11f485eb63e477b8de0e96bea\n'}, {'number': 2, 'created': '2015-01-29 01:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6405eb93c733caa3025879ebafab1b524e520f74', 'message': 'Enable multi tenant for get_baymodel_by_uuid\n\nImplements part of bp multi-tenant\n\nChange-Id: I6cff457e585b4dd11f485eb63e477b8de0e96bea\n'}, {'number': 3, 'created': '2015-01-30 04:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/dd3165a6ff376787741014a7c98dc65ff597c368', 'message': 'Enable multi tenant for get_xx_by_uuid\n\nThe updated API include the following:\n1) get_bay_by_uuid\n2) get_baymodel_by_uuid\n3) get_node_by_uuiud\n4) get_container_by_uuid\n\nImplements part of bp multi-tenant\n\nChange-Id: I6cff457e585b4dd11f485eb63e477b8de0e96bea\n'}, {'number': 4, 'created': '2015-01-30 06:03:43.000000000', 'files': ['magnum/db/sqlalchemy/api.py', 'magnum/tests/db/test_node.py', 'magnum/objects/node.py', 'magnum/tests/db/test_container.py', 'magnum/objects/container.py', 'magnum/tests/db/test_baymodel.py', 'magnum/tests/objects/test_container.py', 'magnum/objects/baymodel.py', 'magnum/tests/objects/test_node.py', 'magnum/tests/base.py', 'magnum/tests/objects/test_baymodel.py', 'magnum/db/api.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/2cb1682fa30820ddcdd72d8d6b9ff435dc5c1ef2', 'message': 'Enable multi tenant for get_xx_by_uuid\n\nThe updated API include the following:\n1) get_bay_by_uuid\n2) get_baymodel_by_uuid\n3) get_node_by_uuid\n4) get_container_by_uuid\n\nImplements part of bp multi-tenant\n\nChange-Id: I6cff457e585b4dd11f485eb63e477b8de0e96bea\n'}]",15,150659,2cb1682fa30820ddcdd72d8d6b9ff435dc5c1ef2,30,5,4,7494,,,0,"Enable multi tenant for get_xx_by_uuid

The updated API include the following:
1) get_bay_by_uuid
2) get_baymodel_by_uuid
3) get_node_by_uuid
4) get_container_by_uuid

Implements part of bp multi-tenant

Change-Id: I6cff457e585b4dd11f485eb63e477b8de0e96bea
",git fetch https://review.opendev.org/openstack/magnum refs/changes/59/150659/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/db/sqlalchemy/api.py', 'magnum/db/api.py', 'magnum/objects/baymodel.py']",3,37ddc63c1c11f9b917e7e68d815ec8e9c1703d70,bp/multi-tenant," db_baymodel = cls.dbapi.get_baymodel_by_uuid(context, uuid)", db_baymodel = cls.dbapi.get_baymodel_by_uuid(uuid),9,4
openstack%2Fproject-config~master~If4b97a4d6f32c2ffeb55af3c4bf0627743f426a8,openstack/project-config,master,If4b97a4d6f32c2ffeb55af3c4bf0627743f426a8,add infra-core to stable requirements,MERGED,2015-01-27 23:51:02.000000000,2015-02-02 15:13:29.000000000,2015-02-02 15:13:26.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 1106}, {'_account_id': 1420}, {'_account_id': 2750}, {'_account_id': 5263}, {'_account_id': 6786}, {'_account_id': 6854}]","[{'number': 1, 'created': '2015-01-27 23:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/249e44a3b38fb9231cc1d54a7fc849316f435023', 'message': 'add infra-core to stable requirements\n\ninfra should have approve authority on requirements even on stable to\ndeal with pinning required for the gate.\n\nChange-Id: If4b97a4d6f32c2ffeb55af3c4bf0627743f426a8\n'}, {'number': 2, 'created': '2015-01-28 00:35:10.000000000', 'files': ['gerrit/acls/openstack/requirements.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c011568a55df3a96adefd660dafcd4145372209b', 'message': 'add infra-core to stable requirements\n\ninfra should have approve authority on requirements even on stable to\ndeal with pinning required for the gate.\n\nChange-Id: If4b97a4d6f32c2ffeb55af3c4bf0627743f426a8\n'}]",0,150626,c011568a55df3a96adefd660dafcd4145372209b,14,8,2,2750,,,0,"add infra-core to stable requirements

infra should have approve authority on requirements even on stable to
deal with pinning required for the gate.

Change-Id: If4b97a4d6f32c2ffeb55af3c4bf0627743f426a8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/26/150626/2 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/openstack/requirements.config'],1,249e44a3b38fb9231cc1d54a7fc849316f435023,infra_core_req,label-Code-Review = -2..+2 group infra-corelabel-Workflow = -1..+1 group infra-core,,2,0
openstack%2Fmanila~master~I15ac1ca7af7ffe24c606ec0484fcaad35fdc1334,openstack/manila,master,I15ac1ca7af7ffe24c606ec0484fcaad35fdc1334,Add unit test for volume types,MERGED,2015-01-22 12:49:49.000000000,2015-02-02 15:13:11.000000000,2015-02-02 15:13:10.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6116}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 7872}, {'_account_id': 8851}, {'_account_id': 9186}, {'_account_id': 11878}, {'_account_id': 14232}]","[{'number': 1, 'created': '2015-01-22 12:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/adfa637889d0af821926a77a31dd3851a17e5b7a', 'message': 'Add unit test for volume type filter\n\nAdd a test case for unit test filtering.\n\nChange-Id: I15ac1ca7af7ffe24c606ec0484fcaad35fdc1334\nPartial-Bug: #1348635\n'}, {'number': 2, 'created': '2015-01-22 13:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/96e2c04345ab0d1eaa40595a8a984cdd3aa05345', 'message': 'Add unit test for volume types\n\nAdds multiple test cases for volume types:\n\n- Get all volume types\n- Get all volume types with filtering\n\nChange-Id: I15ac1ca7af7ffe24c606ec0484fcaad35fdc1334\nPartial-Bug: #1348635\n'}, {'number': 3, 'created': '2015-01-26 12:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/011f4773798d8da2e041e48bffb059e6b6566109', 'message': 'Add unit test for volume types\n\nAdds multiple test cases for volume types:\n\n - get_all_volumes_types\n - volume_type_extra_specs\n - volume_types_diff\n\nChange-Id: I15ac1ca7af7ffe24c606ec0484fcaad35fdc1334\nPartial-Bug: #1348635\n'}, {'number': 4, 'created': '2015-02-02 13:53:01.000000000', 'files': ['manila/tests/share/test_volume_types.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/79e2c102199244f635a2be721220cca899954d0b', 'message': 'Add unit test for volume types\n\nAdds multiple test cases for volume types:\n\n - get_all_volumes_types\n - volume_type_extra_specs\n - volume_types_diff\n\nChange-Id: I15ac1ca7af7ffe24c606ec0484fcaad35fdc1334\nPartial-Bug: #1348635\n'}]",7,149238,79e2c102199244f635a2be721220cca899954d0b,25,10,4,7872,,,0,"Add unit test for volume types

Adds multiple test cases for volume types:

 - get_all_volumes_types
 - volume_type_extra_specs
 - volume_types_diff

Change-Id: I15ac1ca7af7ffe24c606ec0484fcaad35fdc1334
Partial-Bug: #1348635
",git fetch https://review.opendev.org/openstack/manila refs/changes/38/149238/4 && git format-patch -1 --stdout FETCH_HEAD,['manila/tests/share/test_volume_types.py'],1,adfa637889d0af821926a77a31dd3851a17e5b7a,bug/1348635,"# Copyright 2015 Deutsche Telekom AG # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Test of Volume Test Manager for Manila."""""" import datetime import ddt import mock from manila import context from manila import db from manila.share import volume_types from manila import test @ddt.ddt class VolumeTypesTestCase(test.TestCase): fake_type = {'test': { 'created_at': datetime.datetime(2015, 1, 22, 11, 43, 24), 'deleted': '0', 'deleted_at': None, 'extra_specs': {}, 'id': u'c6a542e8-a680-4283-96b5-a6bb593a3fd1', 'name': u'test', 'updated_at': None}} fake_type_w_extra = {'test_with_extra': { 'created_at': datetime.datetime(2015, 1, 22, 11, 45, 31), 'deleted': '0', 'deleted_at': None, 'extra_specs': {u'gold': u'True'}, 'id': u'73b6336c-6e3b-4812-b77f-99564deb8ab7', 'name': u'test_with_extra', 'updated_at': None}} fake_types = dict(fake_type.items() + fake_type_w_extra.items()) def setUp(self): super(VolumeTypesTestCase, self).setUp() self.context = context.get_admin_context() @ddt.data({}, fake_type, fake_type_w_extra, fake_types) def test_get_all_types(self, type): self.stubs.Set(db, 'volume_type_get_all', mock.Mock(return_value=type)) returned_type = volume_types.get_all_types(self.context) self.assertItemsEqual(type, returned_type) def test_get_all_types_filter(self): type = self.fake_type_w_extra search_filter = {""extra_specs"": {""gold"": ""True""}} self.stubs.Set(db, 'volume_type_get_all', mock.Mock(return_value=type)) returned_type = volume_types.get_all_types(self.context, search_opts=search_filter) self.assertItemsEqual(type, returned_type) search_filter = {""extra_specs"": {""gold"": ""False""}} returned_type = volume_types.get_all_types(self.context, search_opts=search_filter) self.assertEqual({}, returned_type) ",,75,0
openstack%2Fproject-config~master~I5e5b232ab8e3441f6f89d8fad3a3940563408f95,openstack/project-config,master,I5e5b232ab8e3441f6f89d8fad3a3940563408f95,Add PowerVM driver projects to Stackforge,MERGED,2015-01-28 21:44:48.000000000,2015-02-02 15:10:29.000000000,2015-02-02 15:10:28.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5343}, {'_account_id': 5371}, {'_account_id': 6547}, {'_account_id': 10068}, {'_account_id': 11809}, {'_account_id': 13883}]","[{'number': 1, 'created': '2015-01-28 21:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/87fd3df2a6414d98f0bbda79dfc55cd0c0f0bc23', 'message': 'Add PowerVM driver projects to Stackforge\n\nAdding projects to Stackforge for PowerVM support in Nova, Neutron,\nand Ceilometer. List of projects added:\n\n- ceilometer-powervm\n- nova-powervm\n- neutron-powervm\n\nChange-Id: I5e5b232ab8e3441f6f89d8fad3a3940563408f95\n'}, {'number': 2, 'created': '2015-01-29 15:15:12.000000000', 'files': ['gerrit/acls/stackforge/nova-powervm.config', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml', 'gerrit/acls/stackforge/ceilometer-powervm.config', 'gerrit/acls/stackforge/neutron-powervm.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ec981e643b4d3949d8b136d0572dfca1a42b52d2', 'message': 'Add PowerVM driver projects to Stackforge\n\nAdding projects to Stackforge for PowerVM support in Nova, Neutron,\nand Ceilometer. List of projects added:\n\n- ceilometer-powervm\n- nova-powervm\n- neutron-powervm\n\nChange-Id: I5e5b232ab8e3441f6f89d8fad3a3940563408f95\n'}]",9,150989,ec981e643b4d3949d8b136d0572dfca1a42b52d2,15,8,2,13883,,,0,"Add PowerVM driver projects to Stackforge

Adding projects to Stackforge for PowerVM support in Nova, Neutron,
and Ceilometer. List of projects added:

- ceilometer-powervm
- nova-powervm
- neutron-powervm

Change-Id: I5e5b232ab8e3441f6f89d8fad3a3940563408f95
",git fetch https://review.opendev.org/openstack/project-config refs/changes/89/150989/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/stackforge/nova-powervm.config', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'gerrit/acls/stackforge/ceilometer-powervm.config', 'gerrit/acls/stackforge/neutron-powervm.config', 'zuul/layout.yaml']",6,87fd3df2a6414d98f0bbda79dfc55cd0c0f0bc23,powervm-drivers, - name: stackforge/ceilometer-powervm template: - name: merge-check - name: python-jobs - name: stackforge/nova-powervm template: - name: merge-check - name: python-jobs - name: stackforge/neutron-powervm template: - name: merge-check - name: python-jobs ,,92,0
openstack%2Fqa-specs~master~Idd247d49b93da893d37d79297e37d37179b5d1d2,openstack/qa-specs,master,Idd247d49b93da893d37d79297e37d37179b5d1d2,Add tests for Neutron extensions,ABANDONED,2014-11-20 09:55:26.000000000,2015-02-02 15:02:25.000000000,,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 1921}, {'_account_id': 2035}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 5803}, {'_account_id': 6524}, {'_account_id': 7249}, {'_account_id': 8576}, {'_account_id': 10969}, {'_account_id': 12412}]","[{'number': 1, 'created': '2014-11-20 09:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/2b0dae8ae2ccdfe4bd3c77dd4fe58cca3a889ec3', 'message': 'Add tests for Neutron extensions\n\nScenario and integration tests for Neutron extensions:\nLBaaS, FWaaS, VPNaaS, DVR\nPropose bp:neutron-extensions-integration-tests\n\nChange-Id: Idd247d49b93da893d37d79297e37d37179b5d1d2\n'}, {'number': 2, 'created': '2014-11-20 09:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/ac4610d7d26e98c4d1fbbacfd16e5b6df903e317', 'message': 'Add tests for Neutron extensions\n\nScenario and integration tests for Neutron extensions:\nLBaaS, FWaaS, VPNaaS, DVR\nPropose bp:neutron-extensions-integration-tests\n\nChange-Id: Idd247d49b93da893d37d79297e37d37179b5d1d2\n'}, {'number': 3, 'created': '2014-12-17 14:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/76b3aa8657a5d8122cc9f8269e663619cf5dcbe7', 'message': 'Add tests for Neutron extensions\n\nScenario and integration tests for Neutron extensions:\nLBaaS, FWaaS, VPNaaS, DVR\nPropose bp:neutron-extensions-integration-tests\n\nChange-Id: Idd247d49b93da893d37d79297e37d37179b5d1d2\n'}, {'number': 4, 'created': '2014-12-17 14:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/ed56f307bb968c4a8f32a8b6d76f1e1d2442c808', 'message': 'Add tests for Neutron extensions\n\nScenario and integration tests for Neutron extensions:\nLBaaS, FWaaS, VPNaaS, DVR\nPropose bp:neutron-extensions-integration-tests\n\nChange-Id: Idd247d49b93da893d37d79297e37d37179b5d1d2\n'}, {'number': 5, 'created': '2014-12-18 09:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/df2e2f85a4e7d715959c2c933302c5a40e3a6e5d', 'message': 'Add tests for Neutron extensions\n\nScenario and integration tests for Neutron extensions:\nLBaaS, FWaaS, VPNaaS, DVR\nPropose bp:neutron-extensions-integration-tests\n\nChange-Id: Idd247d49b93da893d37d79297e37d37179b5d1d2\n'}, {'number': 6, 'created': '2014-12-18 09:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/bbcf6ec3b08125bfb50dbbfc941d3994119280b3', 'message': 'Add tests for Neutron extensions\n\nScenario and integration tests for Neutron extensions:\nLBaaS, FWaaS, VPNaaS, DVR\nPropose bp:neutron-extensions-integration-tests\n\nChange-Id: Idd247d49b93da893d37d79297e37d37179b5d1d2\n'}, {'number': 7, 'created': '2014-12-18 09:45:39.000000000', 'files': ['specs/neutron-extensions-integration-tests.rst'], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/193346f8ca55a264764c9f575f1aa1e3d2fab698', 'message': 'Add tests for Neutron extensions\n\nScenario and integration tests for Neutron extensions:\nLBaaS, FWaaS, VPNaaS, DVR\nPropose bp:neutron-extensions-integration-tests\n\nChange-Id: Idd247d49b93da893d37d79297e37d37179b5d1d2\n'}]",12,135896,193346f8ca55a264764c9f575f1aa1e3d2fab698,30,12,7,10969,,,0,"Add tests for Neutron extensions

Scenario and integration tests for Neutron extensions:
LBaaS, FWaaS, VPNaaS, DVR
Propose bp:neutron-extensions-integration-tests

Change-Id: Idd247d49b93da893d37d79297e37d37179b5d1d2
",git fetch https://review.opendev.org/openstack/qa-specs refs/changes/96/135896/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/neutron-extensions-integration-tests.rst'],1,2b0dae8ae2ccdfe4bd3c77dd4fe58cca3a889ec3,bp/neutron-extensions-integration-tests,":: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. =========================================================================== Tests for Neutron extensions - LBaaS, FWaaS, VPNaaS, DVR =========================================================================== https://blueprints.launchpad.net/tempest/+spec/neutron-extensions-integration-tests Problem description =================== Currently we have a low coverage of Neutron extensions, such like LBaaS, FWaaS, VPNaaS, DVR. There's no almost scenario tests for them and no any integration tests that involve two or more these features together. This blueprint is supposed to improve this situation and increase coverage by creating more tests for these extensions. Proposed change =============== This blueprint contains the following steps to be implemented: #. LBaaS scenario tests - add more, there's only one. We need to cover all load balancing strategies that are supported. #. FWaaS scenario tests #. VPNaaS scenario tests #. DVR scenario tests #. Intergation cases with 2 components: VPN + LBaaS, FWaaS + LBaaS, DVR + LBaaS, VPN + FWaaS, DVR with FWaaS, security groups with FWaaS, VPN with security groups, FWaaS + DVR, LBaaS + DVR, VPNaaS + DVR. #. Integration cases with 3+ components: VPN + LBaaS + FWaaS, VPN + LBaaS + FWaaS + DVR #. IPv6 support for all extensions above #. Investigate what are changes to tempest, devstack, Cirros, etc should be introduced for testing. Results and ideas are submitted to etherpad: https://etherpad.openstack.org/p/neutron-extensions-integration-tests Alternatives ------------ None Implementation ============== Assignee(s) ----------- Primary assignee: * Sergey Shnaidman <sshnaidm@cisco.com> Other contributors: * Kirill Shileev <kshileev@cisco.com> * Nikolay Fedotov <nfedotov@cisco.com> Milestones ---------- Target Milestone for completion: Kilo-3 Work Items ---------- Will be tracked in: https://etherpad.openstack.org/p/neutron-extensions-integration-tests ",,66,0
openstack%2Ftempest-lib~master~Ib8a2ffae96175eaa2fd9cd6e2b3138ad675ceb91,openstack/tempest-lib,master,Ib8a2ffae96175eaa2fd9cd6e2b3138ad675ceb91,Inline pretty_tox.sh to tox.ini,ABANDONED,2015-01-22 18:03:05.000000000,2015-02-02 15:02:06.000000000,,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 1921}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 5280}, {'_account_id': 5292}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7225}, {'_account_id': 7872}, {'_account_id': 8556}]","[{'number': 1, 'created': '2015-01-22 18:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/9dd42be5d46d0aa3939b5321c5f576d595ab271d', 'message': 'Inline pretty.sh to tox.ini\n\nChange-Id: Ib8a2ffae96175eaa2fd9cd6e2b3138ad675ceb91\n'}, {'number': 2, 'created': '2015-01-22 18:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/3c499c12a96ce101711bea8185000818f31f126c', 'message': 'Inline pretty_tox.sh to tox.ini\n\nChange-Id: Ib8a2ffae96175eaa2fd9cd6e2b3138ad675ceb91\n'}, {'number': 3, 'created': '2015-01-22 18:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/b4712db26e460bdb0139e0506c85e90fae3f3b24', 'message': 'Inline pretty.sh to tox.ini\n\nChange-Id: Ib8a2ffae96175eaa2fd9cd6e2b3138ad675ceb91\n'}, {'number': 4, 'created': '2015-01-22 18:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/65548c375a7a5feb005d3c870d7347a106ef7f0e', 'message': 'Inline pretty_tox.sh to tox.ini\n\nChange-Id: Ib8a2ffae96175eaa2fd9cd6e2b3138ad675ceb91\n'}, {'number': 5, 'created': '2015-01-23 11:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/9e0f01d31cfc00e15cf5a7e6c3ac96ec7adb291b', 'message': 'Inline pretty_tox.sh to tox.ini\n\nChange-Id: Ib8a2ffae96175eaa2fd9cd6e2b3138ad675ceb91\n'}, {'number': 6, 'created': '2015-01-29 10:19:34.000000000', 'files': ['tox.ini', 'tools/pretty_tox.sh'], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/23a854237d9b1f26c12bb4d3c6d041482077e0fd', 'message': 'Inline pretty_tox.sh to tox.ini\n\nThere is no obvious reason why do we need to introduce .sh file\nalmost only with 1 line in it. This commit inlines content of \npretty_tox.sh file to the tox.ini\n\nThis will make tox.ini the only place with logic about how we are \nrunning our tests, and developers will not be confused with shell file\nuseful only when called through tox.ini\n \nChange-Id: Ib8a2ffae96175eaa2fd9cd6e2b3138ad675ceb91\n'}]",6,149346,23a854237d9b1f26c12bb4d3c6d041482077e0fd,20,13,6,7225,,,0,"Inline pretty_tox.sh to tox.ini

There is no obvious reason why do we need to introduce .sh file
almost only with 1 line in it. This commit inlines content of 
pretty_tox.sh file to the tox.ini

This will make tox.ini the only place with logic about how we are 
running our tests, and developers will not be confused with shell file
useful only when called through tox.ini
 
Change-Id: Ib8a2ffae96175eaa2fd9cd6e2b3138ad675ceb91
",git fetch https://review.opendev.org/openstack/tempest-lib refs/changes/46/149346/3 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', 'tools/pretty_tox.sh']",2,9dd42be5d46d0aa3939b5321c5f576d595ab271d,update/tox-ini,,"#!/usr/bin/env bash set -o pipefail TESTRARGS=$1 python setup.py testr --slowest --testr-args=""--subunit $TESTRARGS"" | subunit-trace --no-failure-debug -f ",1,7
openstack%2Fos-loganalyze~master~I44e9d49f927ace043d42442d8b1ceac27e25e75e,openstack/os-loganalyze,master,I44e9d49f927ace043d42442d8b1ceac27e25e75e,Fix SKIP_LINES and should_escape in HTMLview,MERGED,2014-10-07 06:13:22.000000000,2015-02-02 15:01:07.000000000,2015-02-02 15:01:07.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5263}, {'_account_id': 6609}, {'_account_id': 6786}, {'_account_id': 7069}, {'_account_id': 8411}]","[{'number': 1, 'created': '2014-10-07 06:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-loganalyze/commit/1c16967dea956690852f728eeeb6d3ab13e544ff', 'message': ""Fix SKIP_LINES and should_escape in HTMLview\n\nThe SKIP_LINES regex does more than just skip the current line. It\nalso disabled the html escaping. Fix this by separating out the\nfunctionality by defining NO_ESCAPE_[START|FINISH]. This makes it\npossible to skip lines with no side effects and also disable html\nescaping based off regex's\n\nChange-Id: I44e9d49f927ace043d42442d8b1ceac27e25e75e\n""}, {'number': 2, 'created': '2015-01-21 08:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-loganalyze/commit/d646b2bcf929b896a0a0261e1cb22e5ec45ef42b', 'message': ""Fix SKIP_LINES and should_escape in HTMLview\n\nThe SKIP_LINES regex does more than just skip the current line. It\nalso disabled the html escaping. Fix this by separating out the\nfunctionality by defining NO_ESCAPE_[START|FINISH]. This makes it\npossible to skip lines with no side effects and also disable html\nescaping based off regex's\n\nChange-Id: I44e9d49f927ace043d42442d8b1ceac27e25e75e\n""}, {'number': 3, 'created': '2015-01-21 08:30:48.000000000', 'files': ['os_loganalyze/view.py'], 'web_link': 'https://opendev.org/openstack/os-loganalyze/commit/65991d8174e6ef4d8753abf317939a7bc666c0f6', 'message': ""Fix SKIP_LINES and should_escape in HTMLview\n\nThe SKIP_LINES regex does more than just skip the current line. It\nalso disabled the html escaping. Fix this by separating out the\nfunctionality by defining NO_ESCAPE_[START|FINISH]. This makes it\npossible to skip lines with no side effects and also disable html\nescaping based off regex's\n\nChange-Id: I44e9d49f927ace043d42442d8b1ceac27e25e75e\n""}]",0,126474,65991d8174e6ef4d8753abf317939a7bc666c0f6,17,7,3,7069,,,0,"Fix SKIP_LINES and should_escape in HTMLview

The SKIP_LINES regex does more than just skip the current line. It
also disabled the html escaping. Fix this by separating out the
functionality by defining NO_ESCAPE_[START|FINISH]. This makes it
possible to skip lines with no side effects and also disable html
escaping based off regex's

Change-Id: I44e9d49f927ace043d42442d8b1ceac27e25e75e
",git fetch https://review.opendev.org/openstack/os-loganalyze refs/changes/74/126474/3 && git format-patch -1 --stdout FETCH_HEAD,['os_loganalyze/view.py'],1,1c16967dea956690852f728eeeb6d3ab13e544ff,escape,"NO_ESCAPE_START = re.compile(""<pre>"") NO_ESCAPE_FINISH = re.compile(""</pre>"") if NO_ESCAPE_START.match(line.line): # Disable escaping starting at this line elif NO_ESCAPE_FINISH.match(line.line): # Re-enable escaping starting at this line. ie we're done in the # escape free zone (eg outside of the pre tags again) self.should_escape = True if SKIP_LINES.match(line.line):", if SKIP_LINES.match(line.line):,10,1
openstack%2Fopenstack-ansible~juno~I1959a630e2c603a76001f52db6b027bf71124c54,openstack/openstack-ansible,juno,I1959a630e2c603a76001f52db6b027bf71124c54,Allow setup of specific MaaS filesystem monitors,MERGED,2015-02-02 11:36:00.000000000,2015-02-02 14:58:26.000000000,2015-02-02 14:58:25.000000000,"[{'_account_id': 3}, {'_account_id': 425}, {'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-02-02 11:36:00.000000000', 'files': ['rpc_deployment/roles/maas_cdm/tasks/filesystem.yml', 'etc/rpc_deploy/rpc_user_config.yml', 'rpc_deployment/roles/maas_cdm/tasks/filesystem_auto.yml', 'etc/rpc_deploy/user_variables.yml', 'rpc_deployment/roles/maas_cdm/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ddb40fb76243e147aaff89fc1a6d843d5b6fe7f4', 'message': 'Allow setup of specific MaaS filesystem monitors\n\nBy default will generate a list of filesystems that are ext or xfs and\nset these up to be monitored with a specified threshold set in\nuser_variables.\n\nCan loop through list of filesystems/thresholds specifically set in\nuser_variables if needed, and the default for a server can be overridden\nin the rpc_user_config.yml per host.\n\nThe user_variables.yml sample file, and the rpc_user_config.yml files\nhave been updated to reflect these changes.\n\nChange-Id: I1959a630e2c603a76001f52db6b027bf71124c54\nCloses-Bug: #1414249\n(cherry picked from commit 3deb360808e1a6ae0bd97b7d154b10d96fc4eb08)\n'}]",0,152090,ddb40fb76243e147aaff89fc1a6d843d5b6fe7f4,9,6,1,7307,,,0,"Allow setup of specific MaaS filesystem monitors

By default will generate a list of filesystems that are ext or xfs and
set these up to be monitored with a specified threshold set in
user_variables.

Can loop through list of filesystems/thresholds specifically set in
user_variables if needed, and the default for a server can be overridden
in the rpc_user_config.yml per host.

The user_variables.yml sample file, and the rpc_user_config.yml files
have been updated to reflect these changes.

Change-Id: I1959a630e2c603a76001f52db6b027bf71124c54
Closes-Bug: #1414249
(cherry picked from commit 3deb360808e1a6ae0bd97b7d154b10d96fc4eb08)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/90/152090/1 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/roles/maas_cdm/tasks/filesystem.yml', 'etc/rpc_deploy/rpc_user_config.yml', 'rpc_deployment/roles/maas_cdm/tasks/filesystem_auto.yml', 'etc/rpc_deploy/user_variables.yml', 'rpc_deployment/roles/maas_cdm/tasks/main.yml']",5,ddb40fb76243e147aaff89fc1a6d843d5b6fe7f4,bug/1414249," - name: Gathering facts for mounted drives set_fact: mounted_drives: ""{% for item in ansible_mounts %}{% if 'xfs' in item.fstype or 'ext' in item.fstype %}{{ item.mount }}{% if not loop.last %},{% endif %}{% endif %}{% endfor %}"" when: maas_filesystem_overrides is not defined and maas_filesystem_monitors is not defined - include: filesystem_auto.yml vars: check_name: filesystem check_period: ""{{ maas_check_period }}"" check_timeout: ""{{ maas_check_timeout }}"" agent_type: ""agent.filesystem"" drives: ""{{ mounted_drives.split(',') }}"" threshold: ""{{ maas_filesystem_threshold }}"" user: root when: maas_filesystem_overrides is not defined and maas_filesystem_monitors is not defined - include: filesystem.yml vars: check_name: filesystem check_period: ""{{ maas_check_period }}"" check_timeout: ""{{ maas_check_timeout }}"" agent_type: ""agent.filesystem"" drives: ""{{ maas_filesystem_monitors }}"" user: root when: maas_filesystem_overrides is not defined and maas_filesystem_monitors is defined - include: filesystem.yml vars: check_name: filesystem check_period: ""{{ maas_check_period }}"" check_timeout: ""{{ maas_check_timeout }}"" agent_type: ""agent.filesystem"" drives: ""{{ maas_filesystem_overrides }}"" user: root when: maas_filesystem_overrides is defined"," check_name: filesystem check_details: ""target=/"" check_period: ""{{ maas_check_period }}"" check_timeout: ""{{ maas_check_timeout }}"" agent_type: ""agent.filesystem"" alarms: - { 'name': 'Disk space used on /', 'criteria': ':set consecutiveCount={{ maas_alarm_local_consecutive_count }} if (percentage(metric[""used""], metric[""total""]) >= 95.0) { return new AlarmStatus(WARNING, ""Root filesystem is >= 95% full.""); }' } user: root - include: cdm.yml vars:",146,11
openstack%2Fpycadf~master~I7351c6e439f4cf8acd6661000dc23b6995f52673,openstack/pycadf,master,I7351c6e439f4cf8acd6661000dc23b6995f52673,Add a new CADF type for keystone trusts,MERGED,2015-01-30 05:16:41.000000000,2015-02-02 14:52:23.000000000,2015-02-02 14:52:23.000000000,"[{'_account_id': 3}, {'_account_id': 6460}, {'_account_id': 6537}]","[{'number': 1, 'created': '2015-01-30 05:16:41.000000000', 'files': ['pycadf/cadftaxonomy.py'], 'web_link': 'https://opendev.org/openstack/pycadf/commit/d0d6b3bd2ef7a7aa4ff9e0af996f141d4cac4e78', 'message': 'Add a new CADF type for keystone trusts\n\nSince trusts are also being emitted for notifications, we should\nalso have a new taxonomy for them.\n\nChange-Id: I7351c6e439f4cf8acd6661000dc23b6995f52673\n'}]",0,151536,d0d6b3bd2ef7a7aa4ff9e0af996f141d4cac4e78,7,3,1,6482,,,0,"Add a new CADF type for keystone trusts

Since trusts are also being emitted for notifications, we should
also have a new taxonomy for them.

Change-Id: I7351c6e439f4cf8acd6661000dc23b6995f52673
",git fetch https://review.opendev.org/openstack/pycadf refs/changes/36/151536/1 && git format-patch -1 --stdout FETCH_HEAD,['pycadf/cadftaxonomy.py'],1,d0d6b3bd2ef7a7aa4ff9e0af996f141d4cac4e78,add_trust,"SECURITY_TRUST = 'data/security/trust' SECURITY_TRUST,",,2,0
openstack%2Fpython-glanceclient~master~I10c398c3e907f3830839ce54aae54e5c2f3b4933,openstack/python-glanceclient,master,I10c398c3e907f3830839ce54aae54e5c2f3b4933,Remove uuidutils from openstack-common,MERGED,2015-02-02 11:22:51.000000000,2015-02-02 14:43:47.000000000,2015-02-02 14:43:46.000000000,"[{'_account_id': 3}, {'_account_id': 6159}]","[{'number': 1, 'created': '2015-02-02 11:22:51.000000000', 'files': ['openstack-common.conf'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/5ec4a24b895d3feecd68bca4e14eb47b11e1981b', 'message': 'Remove uuidutils from openstack-common\n\nThis is unused since the last incubator sync.\n\nChange-Id: I10c398c3e907f3830839ce54aae54e5c2f3b4933\n'}]",0,152087,5ec4a24b895d3feecd68bca4e14eb47b11e1981b,6,2,1,11356,,,0,"Remove uuidutils from openstack-common

This is unused since the last incubator sync.

Change-Id: I10c398c3e907f3830839ce54aae54e5c2f3b4933
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/87/152087/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack-common.conf'],1,5ec4a24b895d3feecd68bca4e14eb47b11e1981b,bp/drop-namespace-packages,,module=uuidutils,0,1
openstack%2Fproject-config~master~I5964ae7234f2d8f274afa398d5290afa4bf1da83,openstack/project-config,master,I5964ae7234f2d8f274afa398d5290afa4bf1da83,Add functional test job for python-novaclient,MERGED,2015-01-28 23:42:38.000000000,2015-02-02 14:40:49.000000000,2015-02-02 14:40:48.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-01-28 23:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/5593f07edf9225350c64c10ca94b515ae626a4c0', 'message': 'Add functional test job for python-novaclient\n\nCreate functional test job for python-novaclient, set as non-voting until\nits working. The novaclient functional tests will come from the tempest\ncli tests.\n\nChange-Id: I5964ae7234f2d8f274afa398d5290afa4bf1da83\n'}, {'number': 2, 'created': '2015-01-29 01:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c371635d9f894502a21d746132e2909c007d5f89', 'message': 'Add functional test job for python-novaclient\n\nCreate functional test job for python-novaclient, set as non-voting until\nits working. The novaclient functional tests will come from the tempest\ncli tests.\n\nChange-Id: I5964ae7234f2d8f274afa398d5290afa4bf1da83\n'}, {'number': 3, 'created': '2015-01-29 21:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/537909163a82714c7bdb51eeb148e924e1724242', 'message': 'Add functional test job for python-novaclient\n\nCreate functional test job for python-novaclient, set as non-voting until\nits working. The novaclient functional tests will come from the tempest\ncli tests.\n\nChange-Id: I5964ae7234f2d8f274afa398d5290afa4bf1da83\n'}, {'number': 4, 'created': '2015-01-29 21:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/73ab1d77502dc2e6ea3ae0a6a7a3ec11906fdf3d', 'message': 'Add functional test job for python-novaclient\n\nCreate functional test job for python-novaclient, set as non-voting until\nits working. The novaclient functional tests will come from the tempest\ncli tests.\n\nChange-Id: I5964ae7234f2d8f274afa398d5290afa4bf1da83\n'}, {'number': 5, 'created': '2015-01-29 22:15:12.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml', 'jenkins/jobs/novaclient-functional.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c4093cd6d328a87ea9a2335ac2dd4d09a598bc8e', 'message': 'Add functional test job for python-novaclient\n\nCreate functional test job for python-novaclient, set as non-voting until\nits working. The novaclient functional tests will come from the tempest\ncli tests.\n\nChange-Id: I5964ae7234f2d8f274afa398d5290afa4bf1da83\n'}]",3,151046,c4093cd6d328a87ea9a2335ac2dd4d09a598bc8e,21,5,5,1849,,,0,"Add functional test job for python-novaclient

Create functional test job for python-novaclient, set as non-voting until
its working. The novaclient functional tests will come from the tempest
cli tests.

Change-Id: I5964ae7234f2d8f274afa398d5290afa4bf1da83
",git fetch https://review.opendev.org/openstack/project-config refs/changes/46/151046/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul/layout.yaml', 'jenkins/jobs/novaclient-functional.yaml']",2,5593f07edf9225350c64c10ca94b515ae626a4c0,novaclient,"- job: name: {pipeline}-novaclient-dsvm-functional node: 'devstack-precise || devstack-trusty' wrappers: - build-timeout: timeout: 65 - timestamps builders: - link-logs - net-info - devstack-checkout - shell: | #!/bin/bash -xe export PYTHONUNBUFFERED=true export DEVSTACK_GATE_TIMEOUT=60 export BRANCH_OVERRIDE={branch-override} if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi function post_test_hook { # Configure and run functional tests source $BASE/new/python-novaclient/novaclient/tests/functional/hooks/post_test_hook.sh } export -f post_test_hook cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh publishers: - test-results - devstack-logs - console-log ",,38,0
