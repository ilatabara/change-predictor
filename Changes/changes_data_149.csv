id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I3f6ddbcf1e4a260384ea5ed36a4a2357dc982a23,openstack/tripleo-heat-templates,stable/train,I3f6ddbcf1e4a260384ea5ed36a4a2357dc982a23,Disable postcopy for ovn/ovs-dpdk,MERGED,2021-08-06 07:13:49.000000000,2021-09-02 09:41:01.000000000,2021-08-09 23:10:56.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-08-06 07:13:49.000000000', 'files': ['environments/services/neutron-ovn-dpdk.yaml', 'environments/services/neutron-ovs-dpdk.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9b9a5d4c77415ccae55111ec60835e074eb8aab8', 'message': 'Disable postcopy for ovn/ovs-dpdk\n\npostcopy gets enabled per default if the it is not a realtime node [1].\nTo have postcopy to work ovs needs to be started with --mlockall=no.\nAs it is not known yet if this might have performance impact, we might\nwant to set NovaLiveMigrationPermitPostCopy to False in the dpdk\nenvironment files.\n\nRelated-Bug: #1939028\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\n\n[1] https://review.opendev.org/q/If8958c414c400026c66187261d8fff439aad6388\n\nChange-Id: I3f6ddbcf1e4a260384ea5ed36a4a2357dc982a23\n(cherry picked from commit ddb8acf321d1a108d4a156ff9db20e8d040025a2)\n(cherry picked from commit 7fa4bce348bcbe63afd978cd4962ef3b50482d0c)\n(cherry picked from commit 208201fa266ba02c8931b183a3eaa28d6042adb6)\n(cherry picked from commit 251a1d238cd85cfb56a4de378edb118d9c3836dc)\n'}]",0,803705,9b9a5d4c77415ccae55111ec60835e074eb8aab8,11,6,1,17216,,,0,"Disable postcopy for ovn/ovs-dpdk

postcopy gets enabled per default if the it is not a realtime node [1].
To have postcopy to work ovs needs to be started with --mlockall=no.
As it is not known yet if this might have performance impact, we might
want to set NovaLiveMigrationPermitPostCopy to False in the dpdk
environment files.

Related-Bug: #1939028
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1986567

[1] https://review.opendev.org/q/If8958c414c400026c66187261d8fff439aad6388

Change-Id: I3f6ddbcf1e4a260384ea5ed36a4a2357dc982a23
(cherry picked from commit ddb8acf321d1a108d4a156ff9db20e8d040025a2)
(cherry picked from commit 7fa4bce348bcbe63afd978cd4962ef3b50482d0c)
(cherry picked from commit 208201fa266ba02c8931b183a3eaa28d6042adb6)
(cherry picked from commit 251a1d238cd85cfb56a4de378edb118d9c3836dc)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/803705/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/neutron-ovn-dpdk.yaml', 'environments/services/neutron-ovs-dpdk.yaml']",2,9b9a5d4c77415ccae55111ec60835e074eb8aab8,vhost-postcopy," # Disable postcopy for dpdk for now, further details see https://bugzilla.redhat.com/show_bug.cgi?id=1986567 NovaLiveMigrationPermitPostCopy: False",,4,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I3f6ddbcf1e4a260384ea5ed36a4a2357dc982a23,openstack/tripleo-heat-templates,stable/ussuri,I3f6ddbcf1e4a260384ea5ed36a4a2357dc982a23,Disable postcopy for ovn/ovs-dpdk,MERGED,2021-08-06 07:12:36.000000000,2021-09-02 09:40:44.000000000,2021-08-09 23:04:59.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-08-06 07:12:36.000000000', 'files': ['environments/services/neutron-ovn-dpdk.yaml', 'environments/services/neutron-ovs-dpdk.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/251a1d238cd85cfb56a4de378edb118d9c3836dc', 'message': 'Disable postcopy for ovn/ovs-dpdk\n\npostcopy gets enabled per default if the it is not a realtime node [1].\nTo have postcopy to work ovs needs to be started with --mlockall=no.\nAs it is not known yet if this might have performance impact, we might\nwant to set NovaLiveMigrationPermitPostCopy to False in the dpdk\nenvironment files.\n\nRelated-Bug: #1939028\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\n\n[1] https://review.opendev.org/q/If8958c414c400026c66187261d8fff439aad6388\n\nChange-Id: I3f6ddbcf1e4a260384ea5ed36a4a2357dc982a23\n(cherry picked from commit ddb8acf321d1a108d4a156ff9db20e8d040025a2)\n(cherry picked from commit 7fa4bce348bcbe63afd978cd4962ef3b50482d0c)\n(cherry picked from commit 208201fa266ba02c8931b183a3eaa28d6042adb6)\n'}]",0,803704,251a1d238cd85cfb56a4de378edb118d9c3836dc,11,6,1,17216,,,0,"Disable postcopy for ovn/ovs-dpdk

postcopy gets enabled per default if the it is not a realtime node [1].
To have postcopy to work ovs needs to be started with --mlockall=no.
As it is not known yet if this might have performance impact, we might
want to set NovaLiveMigrationPermitPostCopy to False in the dpdk
environment files.

Related-Bug: #1939028
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1986567

[1] https://review.opendev.org/q/If8958c414c400026c66187261d8fff439aad6388

Change-Id: I3f6ddbcf1e4a260384ea5ed36a4a2357dc982a23
(cherry picked from commit ddb8acf321d1a108d4a156ff9db20e8d040025a2)
(cherry picked from commit 7fa4bce348bcbe63afd978cd4962ef3b50482d0c)
(cherry picked from commit 208201fa266ba02c8931b183a3eaa28d6042adb6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/803704/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/neutron-ovn-dpdk.yaml', 'environments/services/neutron-ovs-dpdk.yaml']",2,251a1d238cd85cfb56a4de378edb118d9c3836dc,vhost-postcopy," # Disable postcopy for dpdk for now, further details see https://bugzilla.redhat.com/show_bug.cgi?id=1986567 NovaLiveMigrationPermitPostCopy: False",,4,1
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I3f6ddbcf1e4a260384ea5ed36a4a2357dc982a23,openstack/tripleo-heat-templates,stable/victoria,I3f6ddbcf1e4a260384ea5ed36a4a2357dc982a23,Disable postcopy for ovn/ovs-dpdk,MERGED,2021-08-06 07:12:01.000000000,2021-09-02 09:40:21.000000000,2021-08-09 22:38:15.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-08-06 07:12:01.000000000', 'files': ['environments/services/neutron-ovn-dpdk.yaml', 'environments/services/neutron-ovs-dpdk.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/208201fa266ba02c8931b183a3eaa28d6042adb6', 'message': 'Disable postcopy for ovn/ovs-dpdk\n\npostcopy gets enabled per default if the it is not a realtime node [1].\nTo have postcopy to work ovs needs to be started with --mlockall=no.\nAs it is not known yet if this might have performance impact, we might\nwant to set NovaLiveMigrationPermitPostCopy to False in the dpdk\nenvironment files.\n\nRelated-Bug: #1939028\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\n\n[1] https://review.opendev.org/q/If8958c414c400026c66187261d8fff439aad6388\n\nChange-Id: I3f6ddbcf1e4a260384ea5ed36a4a2357dc982a23\n(cherry picked from commit ddb8acf321d1a108d4a156ff9db20e8d040025a2)\n(cherry picked from commit 7fa4bce348bcbe63afd978cd4962ef3b50482d0c)\n'}]",0,803703,208201fa266ba02c8931b183a3eaa28d6042adb6,14,6,1,17216,,,0,"Disable postcopy for ovn/ovs-dpdk

postcopy gets enabled per default if the it is not a realtime node [1].
To have postcopy to work ovs needs to be started with --mlockall=no.
As it is not known yet if this might have performance impact, we might
want to set NovaLiveMigrationPermitPostCopy to False in the dpdk
environment files.

Related-Bug: #1939028
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1986567

[1] https://review.opendev.org/q/If8958c414c400026c66187261d8fff439aad6388

Change-Id: I3f6ddbcf1e4a260384ea5ed36a4a2357dc982a23
(cherry picked from commit ddb8acf321d1a108d4a156ff9db20e8d040025a2)
(cherry picked from commit 7fa4bce348bcbe63afd978cd4962ef3b50482d0c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/803703/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/neutron-ovn-dpdk.yaml', 'environments/services/neutron-ovs-dpdk.yaml']",2,208201fa266ba02c8931b183a3eaa28d6042adb6,vhost-postcopy," # Disable postcopy for dpdk for now, further details see https://bugzilla.redhat.com/show_bug.cgi?id=1986567 NovaLiveMigrationPermitPostCopy: False",,4,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I3f6ddbcf1e4a260384ea5ed36a4a2357dc982a23,openstack/tripleo-heat-templates,stable/wallaby,I3f6ddbcf1e4a260384ea5ed36a4a2357dc982a23,Disable postcopy for ovn/ovs-dpdk,MERGED,2021-08-06 07:11:15.000000000,2021-09-02 09:40:01.000000000,2021-08-09 22:19:36.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-08-06 07:11:15.000000000', 'files': ['environments/services/neutron-ovn-dpdk.yaml', 'environments/services/neutron-ovs-dpdk.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7fa4bce348bcbe63afd978cd4962ef3b50482d0c', 'message': 'Disable postcopy for ovn/ovs-dpdk\n\npostcopy gets enabled per default if the it is not a realtime node [1].\nTo have postcopy to work ovs needs to be started with --mlockall=no.\nAs it is not known yet if this might have performance impact, we might\nwant to set NovaLiveMigrationPermitPostCopy to False in the dpdk\nenvironment files.\n\nRelated-Bug: #1939028\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\n\n[1] https://review.opendev.org/q/If8958c414c400026c66187261d8fff439aad6388\n\nChange-Id: I3f6ddbcf1e4a260384ea5ed36a4a2357dc982a23\n(cherry picked from commit ddb8acf321d1a108d4a156ff9db20e8d040025a2)\n'}]",0,803702,7fa4bce348bcbe63afd978cd4962ef3b50482d0c,11,6,1,17216,,,0,"Disable postcopy for ovn/ovs-dpdk

postcopy gets enabled per default if the it is not a realtime node [1].
To have postcopy to work ovs needs to be started with --mlockall=no.
As it is not known yet if this might have performance impact, we might
want to set NovaLiveMigrationPermitPostCopy to False in the dpdk
environment files.

Related-Bug: #1939028
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1986567

[1] https://review.opendev.org/q/If8958c414c400026c66187261d8fff439aad6388

Change-Id: I3f6ddbcf1e4a260384ea5ed36a4a2357dc982a23
(cherry picked from commit ddb8acf321d1a108d4a156ff9db20e8d040025a2)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/803702/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/neutron-ovn-dpdk.yaml', 'environments/services/neutron-ovs-dpdk.yaml']",2,7fa4bce348bcbe63afd978cd4962ef3b50482d0c,vhost-postcopy," # Disable postcopy for dpdk for now, further details see https://bugzilla.redhat.com/show_bug.cgi?id=1986567 NovaLiveMigrationPermitPostCopy: False",,4,1
openstack%2Fskyline-console~master~Ib5333ee118cf95d46790ed8548a172845d2b4a23,openstack/skyline-console,master,Ib5333ee118cf95d46790ed8548a172845d2b4a23,fix: Fix extend volume when instance is locked,MERGED,2021-09-02 06:40:59.000000000,2021-09-02 09:37:30.000000000,2021-09-02 09:37:30.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-09-02 06:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/7c1d3d88b5224de5e90872e0d35ce50f281698a9', 'message': 'fix: Fix extend volume when instance is locked\n\nfix extend volume when instance is locked\n\nChange-Id: Ib5333ee118cf95d46790ed8548a172845d2b4a23\n'}, {'number': 2, 'created': '2021-09-02 08:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/abd09f701a0bc35cd3b25f75a3bb7aaf66c5c911', 'message': 'fix: Fix extend volume when instance is locked\n\nfix extend volume when instance is locked\n\nChange-Id: Ib5333ee118cf95d46790ed8548a172845d2b4a23\n'}, {'number': 3, 'created': '2021-09-02 09:11:05.000000000', 'files': ['src/pages/compute/containers/Instance/actions/Lock.jsx', 'src/locales/en.json', 'src/locales/zh.json', 'src/pages/user-center/routes/index.js', 'src/pages/storage/containers/Volume/actions/ExtendVolume.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/101025eaac34fce1d486f9979f97494461e2e11b', 'message': 'fix: Fix extend volume when instance is locked\n\nfix extend volume when instance is locked\n\nChange-Id: Ib5333ee118cf95d46790ed8548a172845d2b4a23\n'}]",0,807030,101025eaac34fce1d486f9979f97494461e2e11b,10,3,3,33636,,,0,"fix: Fix extend volume when instance is locked

fix extend volume when instance is locked

Change-Id: Ib5333ee118cf95d46790ed8548a172845d2b4a23
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/30/807030/3 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/compute/containers/Instance/actions/Lock.jsx', 'src/locales/en.json', 'src/locales/zh.json', 'src/pages/storage/containers/Volume/actions/ExtendVolume.jsx']",4,7c1d3d88b5224de5e90872e0d35ce50f281698a9,,"import { get } from 'lodash'; import client from '@/client'; import Notify from 'components/Notify'; onSubmit = async (values) => { const instanceId = get(this.item, 'attachments[0].server_id'); if (instanceId) { const { server } = await client.nova.servers.show(instanceId); if (server.locked) { Notify.errorWithDetail( t('The server {name} is locked. Please unlock first.', { name: server.name, }), t('The server {name} is locked. Please unlock first.', { name: server.name, }) ); return Promise.reject(); } }", onSubmit = (values) => {,44,1
openstack%2Fkolla-ansible~master~Ieb32efb089ef136c307fa41e55ff817d1a825410,openstack/kolla-ansible,master,Ieb32efb089ef136c307fa41e55ff817d1a825410,Use Docker healthchecks for telegraf services,NEW,2021-03-08 10:26:05.000000000,2021-09-02 09:31:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 27339}]","[{'number': 1, 'created': '2021-03-08 10:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/79286e9f899355113524c84c865ca129e042782e', 'message': 'Use Docker healthchecks for telegraf services\n\nThis change enables the use of Docker healthchecks for telegraf services.\nImplements: blueprint container-health-check\n\nChange-Id: Ieb32efb089ef136c307fa41e55ff817d1a825410\n'}, {'number': 2, 'created': '2021-04-08 07:43:04.000000000', 'files': ['ansible/roles/telegraf/tasks/check-containers.yml', 'releasenotes/notes/implement-docker-healthchecks-for-telegraf-f7eb05cb99425b05.yaml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/telegraf/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/79a98bf1702f8e00e4ac6c33f147500f67cea024', 'message': 'Use Docker healthchecks for telegraf services\n\nThis change enables the use of Docker healthchecks for telegraf services.\nImplements: blueprint container-health-check\n\nChange-Id: Ieb32efb089ef136c307fa41e55ff817d1a825410\n'}]",1,779200,79a98bf1702f8e00e4ac6c33f147500f67cea024,15,4,2,31506,,,0,"Use Docker healthchecks for telegraf services

This change enables the use of Docker healthchecks for telegraf services.
Implements: blueprint container-health-check

Change-Id: Ieb32efb089ef136c307fa41e55ff817d1a825410
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/00/779200/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/telegraf/tasks/check-containers.yml', 'releasenotes/notes/implement-docker-healthchecks-for-telegraf-f7eb05cb99425b05.yaml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/telegraf/handlers/main.yml']",4,79286e9f899355113524c84c865ca129e042782e,container-health-check," healthcheck: ""{{ service.healthcheck | default(omit) }}""",,22,0
openstack%2Ftripleo-heat-templates~master~I3e9fd9c150b06b83b668be2fc01369f9936bc3f8,openstack/tripleo-heat-templates,master,I3e9fd9c150b06b83b668be2fc01369f9936bc3f8,"Revert ""Disable postcopy for ovn/ovs-dpdk""",MERGED,2021-08-31 06:59:42.000000000,2021-09-02 09:30:20.000000000,2021-09-02 09:30:20.000000000,"[{'_account_id': 8833}, {'_account_id': 11604}, {'_account_id': 18575}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-08-31 06:59:42.000000000', 'files': ['environments/services/neutron-ovn-dpdk.yaml', 'environments/services/neutron-ovs-dpdk.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e77e1474d16ad627fed019ebad3e3494e44c37f', 'message': 'Revert ""Disable postcopy for ovn/ovs-dpdk""\n\nThis reverts commit ddb8acf321d1a108d4a156ff9db20e8d040025a2.\n\nReason for revert: \npostcopy gets enabled per default if the it is not a realtime node [1].\nTo have postcopy to work ovs needs to be started with --mlockall=no. This is now done via [2].\n\n[1] https://review.opendev.org/q/If8958c414c400026c66187261d8fff439aad6388\n[2] https://review.opendev.org/q/I670b31a921a163f286a8267b808d6d97cc5a61c1\n\nChange-Id: I3e9fd9c150b06b83b668be2fc01369f9936bc3f8\n'}]",0,806529,4e77e1474d16ad627fed019ebad3e3494e44c37f,8,9,1,17216,,,0,"Revert ""Disable postcopy for ovn/ovs-dpdk""

This reverts commit ddb8acf321d1a108d4a156ff9db20e8d040025a2.

Reason for revert: 
postcopy gets enabled per default if the it is not a realtime node [1].
To have postcopy to work ovs needs to be started with --mlockall=no. This is now done via [2].

[1] https://review.opendev.org/q/If8958c414c400026c66187261d8fff439aad6388
[2] https://review.opendev.org/q/I670b31a921a163f286a8267b808d6d97cc5a61c1

Change-Id: I3e9fd9c150b06b83b668be2fc01369f9936bc3f8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/806529/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/neutron-ovn-dpdk.yaml', 'environments/services/neutron-ovs-dpdk.yaml']",2,4e77e1474d16ad627fed019ebad3e3494e44c37f,vhost-postcopy,," # Disable postcopy for dpdk for now, further details see https://bugzilla.redhat.com/show_bug.cgi?id=1986567 NovaLiveMigrationPermitPostCopy: False",1,4
openstack%2Ftripleo-ci~master~Icb904de20f79ece00df3e82ffb01bdebd1b61020,openstack/tripleo-ci,master,Icb904de20f79ece00df3e82ffb01bdebd1b61020,Remove unused c8s nodesets,MERGED,2021-08-08 17:09:26.000000000,2021-09-02 09:30:17.000000000,2021-09-02 09:30:17.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-08 17:09:26.000000000', 'files': ['zuul.d/nodesets.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9769894006c623be7a6cec9e24a0c96b2ed9d7bf', 'message': 'Remove unused c8s nodesets\n\nThe *-centos-8-node nodesets have been already switched to CentOS 8\nStream and the *-centos-8-stream-node nodesets are no longer used.\n\nChange-Id: Icb904de20f79ece00df3e82ffb01bdebd1b61020\n'}]",0,803865,9769894006c623be7a6cec9e24a0c96b2ed9d7bf,9,5,1,9816,,,0,"Remove unused c8s nodesets

The *-centos-8-node nodesets have been already switched to CentOS 8
Stream and the *-centos-8-stream-node nodesets are no longer used.

Change-Id: Icb904de20f79ece00df3e82ffb01bdebd1b61020
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/65/803865/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/nodesets.yaml'],1,9769894006c623be7a6cec9e24a0c96b2ed9d7bf,,, # To be deleted after centos-8 nodes are switched # to stream labels - nodeset: name: single-centos-8-stream-node nodes: - name: primary label: centos-8-stream groups: - name: switch nodes: - primary - name: peers nodes: [] - nodeset: name: two-centos-8-stream-nodes nodes: - name: primary label: centos-8-stream - name: secondary label: centos-8-stream groups: - name: switch nodes: - primary - name: peers nodes: - secondary - name: subnodes nodes: - secondary - nodeset: name: three-centos-8-stream-nodes nodes: - name: primary label: centos-8-stream - name: secondary-1 label: centos-8-stream - name: secondary-2 label: centos-8-stream groups: - name: switch nodes: - primary - name: peers nodes: - secondary-1 - secondary-2 - name: subnodes nodes: - secondary-1 - secondary-2,0,55
openstack%2Freleases~master~Ib7121363276d52bcac53f2f2699767f4b52da3f6,openstack/releases,master,Ib7121363276d52bcac53f2f2699767f4b52da3f6,Release final python-heatclient for Xena,MERGED,2021-08-30 13:56:00.000000000,2021-09-02 09:02:17.000000000,2021-09-02 09:02:17.000000000,"[{'_account_id': 308}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-30 13:56:00.000000000', 'files': ['deliverables/xena/python-heatclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0f39d8b898ec71d5da6323378a7481290dc485c3', 'message': 'Release final python-heatclient for Xena\n\nThis proposed a release for python-heatclient to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 02.\n\n$ git log --oneline --no-merges 2.3.0..b438314\nb438314 Replace oslo_utils.fnmatch with fnmatch\neff0d18 fix lower constraint job\ncc2014f [ussuri][goal] Update contributor documentation\n490e6b6 Add Python3 xena unit tests\n3a7b038 Update master for stable/wallaby\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ib7121363276d52bcac53f2f2699767f4b52da3f6\n'}]",0,806587,0f39d8b898ec71d5da6323378a7481290dc485c3,10,4,1,28522,,,0,"Release final python-heatclient for Xena

This proposed a release for python-heatclient to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 02.

$ git log --oneline --no-merges 2.3.0..b438314
b438314 Replace oslo_utils.fnmatch with fnmatch
eff0d18 fix lower constraint job
cc2014f [ussuri][goal] Update contributor documentation
490e6b6 Add Python3 xena unit tests
3a7b038 Update master for stable/wallaby

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ib7121363276d52bcac53f2f2699767f4b52da3f6
",git fetch https://review.opendev.org/openstack/releases refs/changes/87/806587/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/python-heatclient.yaml'],1,0f39d8b898ec71d5da6323378a7481290dc485c3,xena-milestone-3,releases: - version: 2.4.0 projects: - repo: openstack/python-heatclient hash: b4383147fec4cf3667d3c9c2d79e088780a1498c,,5,0
openstack%2Freleases~master~I9d7c76f1889c1b1c639ca6a94ad1c3af47e879e8,openstack/releases,master,I9d7c76f1889c1b1c639ca6a94ad1c3af47e879e8,Release final python-cyborgclient for Xena,MERGED,2021-08-30 13:54:20.000000000,2021-09-02 09:02:15.000000000,2021-09-02 09:02:15.000000000,"[{'_account_id': 308}, {'_account_id': 13629}, {'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-30 13:54:20.000000000', 'files': ['deliverables/xena/python-cyborgclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5ecfbd492591a1a8c4790c9c65af8ccb6201dacb', 'message': 'Release final python-cyborgclient for Xena\n\nThis proposed a release for python-cyborgclient to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 02.\n\n$ git log --oneline --no-merges 1.3.0..d051769\n28f9622 Add test case for show arq\n686ebac Fix the bug of making device_profile_group_id parameter is optional\nec2a079 Replace deprecated inspect.getargspec\n9d5bdc5 Hide the traceback when deleting a non-existent ARQ\n83c099d Add checks for showing dp with name\n72272fe [ussuri][goal] Update contributor documentation\nb5f9486 setup.cfg: Replace dashes with underscores\n1d6d8e2 Add Python3 xena unit tests\n1c0a3b4 Update master for stable/wallaby\n2a674e6 bug fix: tox wrongly install client from repo path.\n6c93f13 Add doc/requirements\n8a9a48a update error url\n18610ce Revert ""remove py37""\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I9d7c76f1889c1b1c639ca6a94ad1c3af47e879e8\n'}]",0,806585,5ecfbd492591a1a8c4790c9c65af8ccb6201dacb,10,5,1,28522,,,0,"Release final python-cyborgclient for Xena

This proposed a release for python-cyborgclient to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 02.

$ git log --oneline --no-merges 1.3.0..d051769
28f9622 Add test case for show arq
686ebac Fix the bug of making device_profile_group_id parameter is optional
ec2a079 Replace deprecated inspect.getargspec
9d5bdc5 Hide the traceback when deleting a non-existent ARQ
83c099d Add checks for showing dp with name
72272fe [ussuri][goal] Update contributor documentation
b5f9486 setup.cfg: Replace dashes with underscores
1d6d8e2 Add Python3 xena unit tests
1c0a3b4 Update master for stable/wallaby
2a674e6 bug fix: tox wrongly install client from repo path.
6c93f13 Add doc/requirements
8a9a48a update error url
18610ce Revert ""remove py37""

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I9d7c76f1889c1b1c639ca6a94ad1c3af47e879e8
",git fetch https://review.opendev.org/openstack/releases refs/changes/85/806585/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/python-cyborgclient.yaml'],1,5ecfbd492591a1a8c4790c9c65af8ccb6201dacb,xena-milestone-3,releases: - version: 1.4.0 projects: - repo: openstack/python-cyborgclient hash: d051769d9f3dc1c5790b01a7cff2f92fb908848d,,5,0
openstack%2Freleases~master~I8740e7dce7ba90565b92bd8b781674cfdb317314,openstack/releases,master,I8740e7dce7ba90565b92bd8b781674cfdb317314,Release final python-vitrageclient for Xena,MERGED,2021-08-30 14:06:21.000000000,2021-09-02 09:02:13.000000000,2021-09-02 09:02:13.000000000,"[{'_account_id': 308}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-30 14:06:21.000000000', 'files': ['deliverables/xena/python-vitrageclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8819d3a06f83cbd429159698e9cef9b697da0a1c', 'message': 'Release final python-vitrageclient for Xena\n\nThis proposed a release for python-vitrageclient to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 02.\n\n$ git log --oneline --no-merges 4.3.0..bc829d3\nbc829d3 setup.cfg: Replace dashes with underscores\n096b484 Follow-up patch for fixing coverage issue\n77bcc1b Use py3 as the default runtime for tox\n63610f0 Migrate from testr to stestr\ne70ec02 Add Python3 xena unit tests\n3611f26 Update master for stable/wallaby\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I8740e7dce7ba90565b92bd8b781674cfdb317314\n'}]",0,806595,8819d3a06f83cbd429159698e9cef9b697da0a1c,10,4,1,28522,,,0,"Release final python-vitrageclient for Xena

This proposed a release for python-vitrageclient to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 02.

$ git log --oneline --no-merges 4.3.0..bc829d3
bc829d3 setup.cfg: Replace dashes with underscores
096b484 Follow-up patch for fixing coverage issue
77bcc1b Use py3 as the default runtime for tox
63610f0 Migrate from testr to stestr
e70ec02 Add Python3 xena unit tests
3611f26 Update master for stable/wallaby

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I8740e7dce7ba90565b92bd8b781674cfdb317314
",git fetch https://review.opendev.org/openstack/releases refs/changes/95/806595/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/python-vitrageclient.yaml'],1,8819d3a06f83cbd429159698e9cef9b697da0a1c,xena-milestone-3,releases: - version: 4.4.0 projects: - repo: openstack/python-vitrageclient hash: bc829d390373e52af1ec6a5cf3d1b558640b196e,,5,0
openstack%2Fnova~master~I95047c1689ac14fa73eba48e19dc438988b78aad,openstack/nova,master,I95047c1689ac14fa73eba48e19dc438988b78aad,api: Add support for 'hostname' parameter,MERGED,2021-03-03 18:54:57.000000000,2021-09-02 08:59:43.000000000,2021-08-31 21:15:54.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 18:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6837e207c7facf37144343d557e883116329bac', 'message': ""WIP: Add support for 'hostname' parameter\n\nThis allows users to configure the hostname that will be exposed via the\nnova metadata service when creating their instance.\n\nWIP because I need to add rebuild/update tests.\n\nChange-Id: I95047c1689ac14fa73eba48e19dc438988b78aad\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-03-04 11:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de2b711b17f0003a851b1f6fe5c175fa64b7f9c7', 'message': ""api: Add support for 'hostname' parameter\n\nThis allows users to configure the hostname that will be exposed via the\nnova metadata service when creating their instance.\n\nChange-Id: I95047c1689ac14fa73eba48e19dc438988b78aad\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-03-10 17:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99af893c0a2a94865092684cacae2ec79f52fcf0', 'message': ""api: Add support for 'hostname' parameter\n\nThis allows users to configure the hostname that will be exposed via the\nnova metadata service when creating their instance.\n\nChange-Id: I95047c1689ac14fa73eba48e19dc438988b78aad\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-07-22 16:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/edf4f67d65fdd4fdb393fa5644d0c6594bb36503', 'message': ""api: Add support for 'hostname' parameter\n\nAdd microversion 2.89, which allows allows users to configure the\nhostname that will be exposed via the nova metadata service when\ncreating their instance.\n\nChange-Id: I95047c1689ac14fa73eba48e19dc438988b78aad\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-07-28 17:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8b463a063d46c6d09240353ff4afe3c34ed4aa4', 'message': ""api: Add support for 'hostname' parameter\n\nAdd microversion 2.89, which allows allows users to configure the\nhostname that will be exposed via the nova metadata service when\ncreating their instance.\n\nChange-Id: I95047c1689ac14fa73eba48e19dc438988b78aad\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2021-08-06 14:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8636b3987b3f5098a98f98d8122c364f8cf67267', 'message': ""api: Add support for 'hostname' parameter\n\nAdd microversion 2.89, which allows allows users to configure the\nhostname that will be exposed via the nova metadata service when\ncreating their instance.\n\nTests are included but docs are kept separate to reduce the fat on this\notherwise rather beefy patch.\n\nChange-Id: I95047c1689ac14fa73eba48e19dc438988b78aad\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nBlueprint: configurable-instance-hostnames\n""}, {'number': 7, 'created': '2021-08-19 10:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0cde91d6cadc711397c309d3c73476c3e4a83cd4', 'message': ""api: Add support for 'hostname' parameter\n\nAdd microversion 2.89, which allows allows users to configure the\nhostname that will be exposed via the nova metadata service when\ncreating their instance.\n\nChange-Id: I95047c1689ac14fa73eba48e19dc438988b78aad\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2021-08-19 10:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/986f52c1171f03af59c3bf13e047677169bee3aa', 'message': ""api: Add support for 'hostname' parameter\n\nAdd microversion 2.89, which allows allows users to configure the\nhostname that will be exposed via the nova metadata service when\ncreating their instance.\n\nChange-Id: I95047c1689ac14fa73eba48e19dc438988b78aad\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 9, 'created': '2021-08-19 11:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e9cb9b498517973ad6381bb5649e10af732404ce', 'message': ""api: Add support for 'hostname' parameter\n\nAdd microversion 2.89, which allows allows users to configure the\nhostname that will be exposed via the nova metadata service when\ncreating their instance.\n\nChange-Id: I95047c1689ac14fa73eba48e19dc438988b78aad\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 10, 'created': '2021-08-19 16:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/615840f88760be9c473576200dfd6dbc052f4efa', 'message': ""api: Add support for 'hostname' parameter\n\nAdd microversion 2.89, which allows allows users to configure the\nhostname that will be exposed via the nova metadata service when\ncreating their instance.\n\nChange-Id: I95047c1689ac14fa73eba48e19dc438988b78aad\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 11, 'created': '2021-08-20 09:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c860619c04d8a0de3cf31611a6813e894d913d6', 'message': ""api: Add support for 'hostname' parameter\n\nAdd microversion 2.89, which allows allows users to configure the\nhostname that will be exposed via the nova metadata service when\ncreating their instance.\n\nChange-Id: I95047c1689ac14fa73eba48e19dc438988b78aad\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 12, 'created': '2021-08-25 10:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bf8ae68ef26323d58f68f73670733f710766254', 'message': ""api: Add support for 'hostname' parameter\n\nAdd microversion 2.90, which allows allows users to configure the\nhostname that will be exposed via the nova metadata service when\ncreating their instance.\n\nChange-Id: I95047c1689ac14fa73eba48e19dc438988b78aad\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 13, 'created': '2021-08-26 10:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2bedc12206e3d9b9f02a103dd4606c534fc4730', 'message': ""api: Add support for 'hostname' parameter\n\nAdd microversion 2.90, which allows allows users to configure the\nhostname that will be exposed via the nova metadata service when\ncreating their instance.\n\nChange-Id: I95047c1689ac14fa73eba48e19dc438988b78aad\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 14, 'created': '2021-08-31 16:26:10.000000000', 'files': ['api-ref/source/parameters.yaml', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.90/server-get-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.90/server-action-rebuild.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.90/server-update-req.json.tpl', 'doc/api_samples/servers/v2.90/servers-details-resp.json', 'nova/api/openstack/compute/views/servers.py', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.90/server-create-resp.json.tpl', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'doc/api_samples/servers/v2.90/server-action-rebuild-resp.json', 'doc/api_samples/servers/v2.90/server-update-req.json', 'nova/tests/unit/compute/test_api.py', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.90/server-action-rebuild-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.90/servers-details-resp.json.tpl', 'api-ref/source/servers-actions.inc', 'doc/api_samples/versions/v21-version-get-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.90/server-update-resp.json.tpl', 'nova/api/validation/parameter_types.py', 'nova/api/openstack/compute/rest_api_version_history.rst', 'nova/compute/api.py', 'doc/api_samples/servers/v2.90/server-create-req.json', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.90/server-create-req.json.tpl', 'doc/api_samples/servers/v2.90/server-action-rebuild.json', 'doc/api_samples/servers/v2.90/server-get-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.90/servers-list-resp.json.tpl', 'nova/api/openstack/compute/servers.py', 'releasenotes/notes/microversion-2-90-59fb6d4ec420b9f4.yaml', 'nova/exception.py', 'nova/policies/extended_server_attributes.py', 'nova/tests/functional/api_sample_tests/test_servers.py', 'nova/api/openstack/compute/schemas/servers.py', 'doc/api_samples/servers/v2.90/server-create-resp.json', 'doc/api_samples/servers/v2.90/servers-list-resp.json', 'doc/api_samples/servers/v2.90/server-update-resp.json', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'api-ref/source/servers.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/5e2c31ab78d73cd1ce1c8888c66fe0ba654a7591', 'message': ""api: Add support for 'hostname' parameter\n\nAdd microversion 2.90, which allows allows users to configure the\nhostname that will be exposed via the nova metadata service when\ncreating their instance.\n\nChange-Id: I95047c1689ac14fa73eba48e19dc438988b78aad\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",62,778550,5e2c31ab78d73cd1ce1c8888c66fe0ba654a7591,100,5,14,15334,,,0,"api: Add support for 'hostname' parameter

Add microversion 2.90, which allows allows users to configure the
hostname that will be exposed via the nova metadata service when
creating their instance.

Change-Id: I95047c1689ac14fa73eba48e19dc438988b78aad
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/778550/7 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'doc/api_samples/servers/v2.89/server-get-resp.json', 'nova/api/openstack/compute/views/servers.py', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'doc/api_samples/servers/v2.89/server-create-resp.json', 'nova/tests/unit/compute/test_api.py', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.89/server-create-resp.json.tpl', 'doc/api_samples/versions/v21-version-get-resp.json', 'doc/api_samples/servers/v2.89/server-create-req.json', 'nova/api/validation/parameter_types.py', 'doc/api_samples/servers/v2.89/servers-details-resp.json', 'nova/api/openstack/compute/rest_api_version_history.rst', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.89/server-get-resp.json.tpl', 'nova/compute/api.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.89/server-create-req.json.tpl', 'releasenotes/notes/microversion-2-89-59fb6d4ec420b9f4.yaml', 'nova/api/openstack/compute/servers.py', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.89/servers-details-resp.json.tpl', 'nova/exception.py', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.89/servers-list-resp.json.tpl', 'nova/policies/extended_server_attributes.py', 'nova/tests/functional/api_sample_tests/test_servers.py', 'nova/api/openstack/compute/schemas/servers.py', 'doc/api_samples/servers/v2.89/servers-list-resp.json', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'api-ref/source/servers.inc']",28,e6837e207c7facf37144343d557e883116329bac,bp/configurable-instance-hostnames, - OS-EXT-SRV-ATTR:hostname: server_hostname - OS-EXT-SRV-ATTR:kernel_id: server_kernel_id - OS-EXT-SRV-ATTR:launch_index: server_launch_index - OS-EXT-SRV-ATTR:ramdisk_id: server_ramdisk_id - OS-EXT-SRV-ATTR:reservation_id: server_reservation_id - OS-EXT-SRV-ATTR:root_device_name: server_root_device_name - OS-EXT-SRV-ATTR:user_data: server_user_data - OS-EXT-SRV-ATTR:hostname: server_hostname - OS-EXT-SRV-ATTR:kernel_id: server_kernel_id - OS-EXT-SRV-ATTR:launch_index: server_launch_index - OS-EXT-SRV-ATTR:ramdisk_id: server_ramdisk_id - OS-EXT-SRV-ATTR:reservation_id: server_reservation_id - OS-EXT-SRV-ATTR:root_device_name: server_root_device_name - OS-EXT-SRV-ATTR:user_data: server_user_data - OS-EXT-SRV-ATTR:hostname: server_hostname_update_rebuild - OS-EXT-SRV-ATTR:kernel_id: server_kernel_id_update_rebuild - OS-EXT-SRV-ATTR:launch_index: server_launch_index_update_rebuild - OS-EXT-SRV-ATTR:ramdisk_id: server_ramdisk_id_update_rebuild - OS-EXT-SRV-ATTR:reservation_id: server_reservation_id_update_rebuild - OS-EXT-SRV-ATTR:root_device_name: server_root_device_name_update_rebuild - OS-EXT-SRV-ATTR:user_data: server_user_data_update, - OS-EXT-SRV-ATTR:hostname: server_hostname - OS-EXT-SRV-ATTR:reservation_id: server_reservation_id - OS-EXT-SRV-ATTR:launch_index: server_launch_index - OS-EXT-SRV-ATTR:kernel_id: server_kernel_id - OS-EXT-SRV-ATTR:ramdisk_id: server_ramdisk_id - OS-EXT-SRV-ATTR:root_device_name: server_root_device_name - OS-EXT-SRV-ATTR:user_data: server_user_data - OS-EXT-SRV-ATTR:hostname: server_hostname - OS-EXT-SRV-ATTR:reservation_id: server_reservation_id - OS-EXT-SRV-ATTR:launch_index: server_launch_index - OS-EXT-SRV-ATTR:kernel_id: server_kernel_id - OS-EXT-SRV-ATTR:ramdisk_id: server_ramdisk_id - OS-EXT-SRV-ATTR:root_device_name: server_root_device_name - OS-EXT-SRV-ATTR:user_data: server_user_data - OS-EXT-SRV-ATTR:hostname: server_hostname_update_rebuild - OS-EXT-SRV-ATTR:reservation_id: server_reservation_id_update_rebuild - OS-EXT-SRV-ATTR:launch_index: server_launch_index_update_rebuild - OS-EXT-SRV-ATTR:kernel_id: server_kernel_id_update_rebuild - OS-EXT-SRV-ATTR:ramdisk_id: server_ramdisk_id_update_rebuild - OS-EXT-SRV-ATTR:root_device_name: server_root_device_name_update_rebuild - OS-EXT-SRV-ATTR:user_data: server_user_data_update,737,134
openstack%2Fskyline-console~master~I203e63f6e11608ff7cffcb5f5e09518e880303f6,openstack/skyline-console,master,I203e63f6e11608ff7cffcb5f5e09518e880303f6,feat: Add tree select form item,MERGED,2021-09-02 07:44:59.000000000,2021-09-02 08:58:05.000000000,2021-09-02 08:58:05.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-09-02 07:44:59.000000000', 'files': ['src/components/FormItem/TreeSelect/index.jsx', 'src/components/FormItem/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/2ac761eec35d34337bcf6d3904c7fb46d9e1faf6', 'message': 'feat: Add tree select form item\n\nadd tree select form item\n\nChange-Id: I203e63f6e11608ff7cffcb5f5e09518e880303f6\n'}]",0,807038,2ac761eec35d34337bcf6d3904c7fb46d9e1faf6,6,3,1,33636,,,0,"feat: Add tree select form item

add tree select form item

Change-Id: I203e63f6e11608ff7cffcb5f5e09518e880303f6
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/38/807038/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/components/FormItem/TreeSelect/index.jsx', 'src/components/FormItem/index.jsx']",2,2ac761eec35d34337bcf6d3904c7fb46d9e1faf6,,"import TreeSelect from './TreeSelect'; 'tree-select': TreeSelect,",,47,0
openstack%2Fskyline-console~master~Ia1ae76e8d942738534bbb37cf2416052184274c8,openstack/skyline-console,master,Ia1ae76e8d942738534bbb37cf2416052184274c8,fix: Fix TimeFilter style,MERGED,2021-09-02 07:47:31.000000000,2021-09-02 08:55:08.000000000,2021-09-02 08:55:08.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-09-02 07:47:31.000000000', 'files': ['src/components/TimeFilter/index.less'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/b62093e25a452d5e1eea7e00b1886844aa232491', 'message': 'fix: Fix TimeFilter style\n\nfix TimeFilter style\n\nChange-Id: Ia1ae76e8d942738534bbb37cf2416052184274c8\n'}]",0,807039,b62093e25a452d5e1eea7e00b1886844aa232491,7,3,1,33636,,,0,"fix: Fix TimeFilter style

fix TimeFilter style

Change-Id: Ia1ae76e8d942738534bbb37cf2416052184274c8
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/39/807039/1 && git format-patch -1 --stdout FETCH_HEAD,['src/components/TimeFilter/index.less'],1,b62093e25a452d5e1eea7e00b1886844aa232491,, min-width: 450px; } ,},2,1
openstack%2Fkayobe~master~I4a15578135a48cf282672288f4db24ded65f3b82,openstack/kayobe,master,I4a15578135a48cf282672288f4db24ded65f3b82,Fix overcloud introspection data save,MERGED,2021-08-19 18:28:00.000000000,2021-09-02 08:36:16.000000000,2021-09-01 11:31:37.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-08-19 18:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/69c29fbe2198fe62c7517ed8bc60592fd0afc557', 'message': 'Overcloud introspection data save broken\n\nThe command kayobe overcloud introspection data\nsave has been failing due to lack of OpenStack\ncredentials when running the bifrost dynamic\ninventory.  Add OS_CLOUD=bifrost.\n\nStory: 2009129\nTask: 43059\nChange-Id: I4a15578135a48cf282672288f4db24ded65f3b82\n'}, {'number': 2, 'created': '2021-08-31 11:29:01.000000000', 'files': ['releasenotes/notes/fix-introspection-data-save-51001baa37d97084.yaml', 'ansible/overcloud-introspection-data-save.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3947997ed24a34f8913bb536a4f48a06058a0da4', 'message': 'Fix overcloud introspection data save\n\nThe command `kayobe overcloud introspection data save` has been failing\ndue to lack of OpenStack credentials when running the bifrost dynamic\ninventory. Add OS_CLOUD=bifrost.\n\nStory: 2009129\nTask: 43059\nChange-Id: I4a15578135a48cf282672288f4db24ded65f3b82\n'}]",2,805263,3947997ed24a34f8913bb536a4f48a06058a0da4,23,4,2,10910,,,0,"Fix overcloud introspection data save

The command `kayobe overcloud introspection data save` has been failing
due to lack of OpenStack credentials when running the bifrost dynamic
inventory. Add OS_CLOUD=bifrost.

Story: 2009129
Task: 43059
Change-Id: I4a15578135a48cf282672288f4db24ded65f3b82
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/63/805263/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/overcloud-introspection-data-save.yml'],1,69c29fbe2198fe62c7517ed8bc60592fd0afc557,story/2009129, env BIFROST_INVENTORY_SOURCE=ironic OS_CLOUD=bifrost, export BIFROST_INVENTORY_SOURCE=ironic &&,1,1
openstack%2Fskyline-console~master~I3c605ae0f4d4a69ad9beb6cf45680b18cd556703,openstack/skyline-console,master,I3c605ae0f4d4a69ad9beb6cf45680b18cd556703,fix: Fix ip-distributer initial value,MERGED,2021-09-02 07:36:21.000000000,2021-09-02 08:32:36.000000000,2021-09-02 08:32:36.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-09-02 07:36:21.000000000', 'files': ['src/components/FormItem/IPDistributer/Item.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/79c3fa5d8f7f6f117f142ecc37d3fa2c3df7dbd1', 'message': 'fix: Fix ip-distributer initial value\n\nfix ip-distributer initial value\n\nChange-Id: I3c605ae0f4d4a69ad9beb6cf45680b18cd556703\n'}]",0,807037,79c3fa5d8f7f6f117f142ecc37d3fa2c3df7dbd1,6,2,1,33636,,,0,"fix: Fix ip-distributer initial value

fix ip-distributer initial value

Change-Id: I3c605ae0f4d4a69ad9beb6cf45680b18cd556703
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/37/807037/1 && git format-patch -1 --stdout FETCH_HEAD,['src/components/FormItem/IPDistributer/Item.jsx'],1,79c3fa5d8f7f6f117f142ecc37d3fa2c3df7dbd1,," const [ip_address, setIP] = useState(value.ip_address);"," const [ip_address, setIP] = useState({ type: 'dhcp' });",1,1
openstack%2Fskyline-console~master~Ifbff7d6de779227b53880dd70dc811693be9b0ab,openstack/skyline-console,master,Ifbff7d6de779227b53880dd70dc811693be9b0ab,fix: Fix for port manage security groups & delete,MERGED,2021-09-02 07:26:07.000000000,2021-09-02 08:32:35.000000000,2021-09-02 08:32:35.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-09-02 07:26:07.000000000', 'files': ['src/pages/network/containers/VirtualAdapter/Detail/AllowedAddressPair/actions/Delete.jsx', 'src/pages/network/containers/VirtualAdapter/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/74e1006cedab21e3b95dc99adcf84746e44b0526', 'message': 'fix: Fix for port manage security groups & delete\n\n1. fix for port manage security groups\n2. fix port delete allowed address pair\n\nChange-Id: Ifbff7d6de779227b53880dd70dc811693be9b0ab\n'}]",0,807035,74e1006cedab21e3b95dc99adcf84746e44b0526,6,2,1,33636,,,0,"fix: Fix for port manage security groups & delete

1. fix for port manage security groups
2. fix port delete allowed address pair

Change-Id: Ifbff7d6de779227b53880dd70dc811693be9b0ab
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/35/807035/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/network/containers/VirtualAdapter/Detail/AllowedAddressPair/actions/Delete.jsx', 'src/pages/network/containers/VirtualAdapter/index.jsx']",2,74e1006cedab21e3b95dc99adcf84746e44b0526,,import { VirtualAdapterStore } from 'stores/neutron/virtual-adapter'; this.store = new VirtualAdapterStore();,"import globalVirtualAdapterStore, { VirtualAdapterStore, } from 'stores/neutron/virtual-adapter'; this.store = this.inDetailPage ? new VirtualAdapterStore() : globalVirtualAdapterStore;",7,13
openstack%2Fskyline-console~master~I6feac90b3db36b2c0929b27bb82dee8536951bb3,openstack/skyline-console,master,I6feac90b3db36b2c0929b27bb82dee8536951bb3,fix: Fix models & eslint,MERGED,2021-09-02 07:24:45.000000000,2021-09-02 08:30:02.000000000,2021-09-02 08:30:02.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-09-02 07:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/9331a6678c7ed93a4b59ae1291e96c3616a00409', 'message': 'fix: Fix models & eslint\n\n1. The response of models has been changed from array to map, we should make it compatible with old data\n\n2. Change level to `off` for import/prefer-default-export to remove annoying unnecessary warnings\n\nChange-Id: I6feac90b3db36b2c0929b27bb82dee8536951bb3\n'}, {'number': 2, 'created': '2021-09-02 07:38:40.000000000', 'files': ['.eslintrc', 'src/pages/compute/containers/Flavor/actions/StepCreate/ParamSetting.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/d74c640adcd331a2a41f96a45281e65db5e1caaf', 'message': 'fix: Fix models & eslint\n\n1. The response of models has been changed from array to map, we should make it compatible with old data\n\n2. Change level to `off` for import/prefer-default-export to remove annoying unnecessary warnings\n\nChange-Id: I6feac90b3db36b2c0929b27bb82dee8536951bb3\n'}]",0,807034,d74c640adcd331a2a41f96a45281e65db5e1caaf,8,3,2,33689,,,0,"fix: Fix models & eslint

1. The response of models has been changed from array to map, we should make it compatible with old data

2. Change level to `off` for import/prefer-default-export to remove annoying unnecessary warnings

Change-Id: I6feac90b3db36b2c0929b27bb82dee8536951bb3
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/34/807034/1 && git format-patch -1 --stdout FETCH_HEAD,"['.eslintrc', 'src/pages/compute/containers/Flavor/actions/StepCreate/ParamSetting.jsx']",2,9331a6678c7ed93a4b59ae1291e96c3616a00409,open-35287," if (item && item.value instanceof Array) { return item.value.map((it) => ({ value: it, label: it, })); } if (item && typeof item.value === 'object') { return Object.keys(item.value).map((it) => ({ label: it, value: it, })); } return []; if (item && item.value instanceof Array) { return item.value.map((it) => ({ value: it, label: it, })); } if (item && typeof item.value === 'object') { return Object.keys(item.value).map((it) => ({ label: it, value: it, })); } return [];"," return item ? item.value.map((it) => ({ value: it, label: it, })) : []; return item ? [ { value: item.value, label: item.value, }, ] : [];",28,17
openstack%2Fskyline-console~master~Ic973390c74ede418426e101fc71a01a67e3bee42,openstack/skyline-console,master,Ic973390c74ede418426e101fc71a01a67e3bee42,feat: Add user-center page,MERGED,2021-09-02 06:27:51.000000000,2021-09-02 08:28:21.000000000,2021-09-02 08:28:21.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-09-02 06:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/02339e9752e23fa2c4ef1c08445c235e66e1a1fa', 'message': 'feat: Add user-center page\n\nadd user-center page\n\nChange-Id: Ic973390c74ede418426e101fc71a01a67e3bee42\n'}, {'number': 2, 'created': '2021-09-02 07:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/e87511a5e276f9e727da6ba18f96577987f71ca2', 'message': 'feat: Add user-center page\n\nadd user-center page\n\nChange-Id: Ic973390c74ede418426e101fc71a01a67e3bee42\n'}, {'number': 3, 'created': '2021-09-02 07:32:41.000000000', 'files': ['src/pages/user-center/containers/UserCenter/styles.less', 'src/pages/user-center/App.jsx', 'src/layouts/Base/index.jsx', 'src/pages/user-center/routes/index.js', 'src/pages/user-center/containers/UserCenter/index.jsx', 'src/asset/image/profile.svg', 'src/layouts/user-menu.jsx', 'src/pages/basic/routes/index.js', 'src/api/keystone/user.js', 'src/utils/index.js', 'src/components/Layout/GlobalHeader/RightContent.jsx', 'src/components/Layout/GlobalHeader/AvatarDropdown.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/a24a4bc4a95d24c3174ec11aabd6cbe457608595', 'message': 'feat: Add user-center page\n\nadd user-center page\n\nChange-Id: Ic973390c74ede418426e101fc71a01a67e3bee42\n'}]",2,807026,a24a4bc4a95d24c3174ec11aabd6cbe457608595,11,2,3,33636,,,0,"feat: Add user-center page

add user-center page

Change-Id: Ic973390c74ede418426e101fc71a01a67e3bee42
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/26/807026/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/user-center/containers/UserCenter/styles.less', 'src/pages/user-center/App.jsx', 'src/layouts/Base/index.jsx', 'src/pages/user-center/routes/index.js', 'src/pages/user-center/containers/UserCenter/index.jsx', 'src/asset/image/profile.svg', 'src/layouts/user-menu.jsx', 'src/pages/basic/routes/index.js', 'src/api/keystone/user.js', 'src/utils/index.js', 'src/components/Layout/GlobalHeader/RightContent.jsx', 'src/components/Layout/GlobalHeader/AvatarDropdown.jsx']",12,02339e9752e23fa2c4ef1c08445c235e66e1a1fa,, onClick={() => { const { rootStore } = this.props; rootStore.routing.push('/user/center'); }},,263,9
openstack%2Fcinder~stable%2Fwallaby~I5108fd51effa4d72581654ed450d191a13e0e964,openstack/cinder,stable/wallaby,I5108fd51effa4d72581654ed450d191a13e0e964,Fix: Schema validation for attachment create API,MERGED,2021-07-29 07:43:23.000000000,2021-09-02 08:16:40.000000000,2021-08-31 20:48:51.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 32266}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-07-29 07:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/28124d66976010f7747ee408c8e679f4b9a379a2', 'message': ""Fix: Schema validation for attachment create API\n\nCurrently the schema validation for attachment create assumes that\ninstance UUID will always be present in the request but that is\nnot the case when glance calls cinder for attachment.\nAlso there isn't any schema validation for MV3.54 which accepts\nattachment mode in the request hence failing requests passing mode.\nThis patch removes the instance_uuid from required parameters and\nadds schema validation for MV3.54.\n\nChange-Id: I5108fd51effa4d72581654ed450d191a13e0e964\n(cherry picked from commit 560318c82e9951464361560e57ce0b67011cce74)\n""}, {'number': 2, 'created': '2021-08-20 03:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4b6e4b6f664817a755f8411566cf8f05e35317c4', 'message': ""Fix: Schema validation for attachment create API\n\nCurrently the schema validation for attachment create assumes that\ninstance UUID will always be present in the request but that is\nnot the case when glance calls cinder for attachment.\nAlso there isn't any schema validation for MV3.54 which accepts\nattachment mode in the request hence failing requests passing mode.\nThis patch removes the instance_uuid from required parameters and\nadds schema validation for MV3.54.\n\nChange-Id: I5108fd51effa4d72581654ed450d191a13e0e964\n(cherry picked from commit f179df0864a770d727d0b249aa51285aefe80bef)\n(cherry picked from commit 560318c82e9951464361560e57ce0b67011cce74)\n""}, {'number': 3, 'created': '2021-08-31 13:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0adba9c2dd9006df79b858ccc1b1be92abba6c90', 'message': ""Fix: Schema validation for attachment create API\n\nCurrently the schema validation for attachment create assumes that\ninstance UUID will always be present in the request but that is\nnot the case when glance calls cinder for attachment.\nAlso there isn't any schema validation for MV3.54 which accepts\nattachment mode in the request hence failing requests passing mode.\nThis patch removes the instance_uuid from required parameters and\nadds schema validation for MV3.54.\n\nAlso includes a squash to add a releasenote from\nChange-Id: I4a6e93ea98cfd4988d38bedca6e5538391c1f74d\n\nChange-Id: I5108fd51effa4d72581654ed450d191a13e0e964\n(cherry picked from commit f179df0864a770d727d0b249aa51285aefe80bef)\n(cherry picked from commit 560318c82e9951464361560e57ce0b67011cce74)\n""}, {'number': 4, 'created': '2021-08-31 14:11:56.000000000', 'files': ['cinder/api/v3/attachments.py', 'api-ref/source/v3/attachments.inc', 'releasenotes/notes/fix-schema-validation-attachment-create-3488914cb52d44d2.yaml', 'cinder/api/schemas/attachments.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/58250aae06988858a27576f6d471d7f37b6dcecb', 'message': ""Fix: Schema validation for attachment create API\n\nCurrently the schema validation for attachment create assumes that\ninstance UUID will always be present in the request but that is\nnot the case when glance calls cinder for attachment.\nAlso there isn't any schema validation for MV3.54 which accepts\nattachment mode in the request hence failing requests passing mode.\nThis patch removes the instance_uuid from required parameters and\nadds schema validation for MV3.54.\n\nAlso includes a squash to add a releasenote from\nChange-Id: I4a6e93ea98cfd4988d38bedca6e5538391c1f74d\n\nChange-Id: I5108fd51effa4d72581654ed450d191a13e0e964\n(cherry picked from commit 560318c82e9951464361560e57ce0b67011cce74)\n""}]",0,802781,58250aae06988858a27576f6d471d7f37b6dcecb,71,5,4,27615,,,0,"Fix: Schema validation for attachment create API

Currently the schema validation for attachment create assumes that
instance UUID will always be present in the request but that is
not the case when glance calls cinder for attachment.
Also there isn't any schema validation for MV3.54 which accepts
attachment mode in the request hence failing requests passing mode.
This patch removes the instance_uuid from required parameters and
adds schema validation for MV3.54.

Also includes a squash to add a releasenote from
Change-Id: I4a6e93ea98cfd4988d38bedca6e5538391c1f74d

Change-Id: I5108fd51effa4d72581654ed450d191a13e0e964
(cherry picked from commit 560318c82e9951464361560e57ce0b67011cce74)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/802781/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/v3/attachments.py', 'api-ref/source/v3/attachments.inc', 'cinder/api/schemas/attachments.py']",3,28124d66976010f7747ee408c8e679f4b9a379a2,783389-stable/wallaby,"import copy 'required': ['volume_uuid'], create_v354 = copy.deepcopy(create) create_v354['properties']['attachment']['properties']['mode'] = ( {'type': 'string', 'enum': ['rw', 'ro']})"," 'required': ['instance_uuid', 'volume_uuid'],",17,6
openstack%2Fpuppet-tripleo~stable%2Fwallaby~Ic2f376e7bfca1ed3d53994994746995fa8fb2366,openstack/puppet-tripleo,stable/wallaby,Ic2f376e7bfca1ed3d53994994746995fa8fb2366,Make sure there is a space after debug in virtlogd_wrapper,MERGED,2021-09-01 15:39:42.000000000,2021-09-02 08:10:09.000000000,2021-09-02 08:10:09.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-01 15:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f75196e5bb88932433045a701e90977a697b69e9', 'message': 'Make sure there is a space after debug in virtlogd_wrapper\n\nOtherwise when we set debug on we get the following start of\nfile:\n  #!/bin/bash\n  set -xARGS=""$@""\n\nThis will then lead to the error:\n2021-08-27T18:22:40.444492949+00:00 stderr F + exec /usr/local/bin/virtlogd_wrapper\n2021-08-27T18:22:40.444492949+00:00 stderr F /usr/local/bin/virtlogd_wrapper: line 2: set: -A: invalid option\n2021-08-27T18:22:40.444492949+00:00 stderr F set: usage: set [-abefhkmnptuvxBCHP] [-o option-name] [--] [arg ...]\n2021-08-27T18:22:40.763849194+00:00 stdout F Starting a new child container nova_virtlogd\n2021-08-27T18:22:41.016340084+00:00 stdout F c46e5d5a121e11aec40264f3473b37e7edeabf6f9404d49666645252a8db63a3\n\nAfter this change, with debug always on, we correctly get:\n  #!/bin/bash\n  set -x\n  ARGS=""$@""\n  NAME=nova_virtlogd\n\nChange-Id: Ic2f376e7bfca1ed3d53994994746995fa8fb2366\n(cherry picked from commit 2384b77a5ba9a19469defec3d47c0f105bba1dbb)\n'}, {'number': 2, 'created': '2021-09-01 16:05:38.000000000', 'files': ['templates/nova/virtlogd.epp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6177d7034bd4b18ae24ed10f8e33b271d6c4c908', 'message': 'Make sure there is a space after debug in virtlogd_wrapper\n\nOtherwise when we set debug on we get the following start of\nfile:\n  #!/bin/bash\n  set -xARGS=""$@""\n\nThis will then lead to the error:\n2021-08-27T18:22:40.444492949+00:00 stderr F + exec /usr/local/bin/virtlogd_wrapper\n2021-08-27T18:22:40.444492949+00:00 stderr F /usr/local/bin/virtlogd_wrapper: line 2: set: -A: invalid option\n2021-08-27T18:22:40.444492949+00:00 stderr F set: usage: set [-abefhkmnptuvxBCHP] [-o option-name] [--] [arg ...]\n2021-08-27T18:22:40.763849194+00:00 stdout F Starting a new child container nova_virtlogd\n2021-08-27T18:22:41.016340084+00:00 stdout F c46e5d5a121e11aec40264f3473b37e7edeabf6f9404d49666645252a8db63a3\n\nAfter this change, with debug always on, we correctly get:\n  #!/bin/bash\n  set -x\n  ARGS=""$@""\n  NAME=nova_virtlogd\n\nChange-Id: Ic2f376e7bfca1ed3d53994994746995fa8fb2366\n(cherry picked from commit 2384b77a5ba9a19469defec3d47c0f105bba1dbb)\n'}]",0,806902,6177d7034bd4b18ae24ed10f8e33b271d6c4c908,9,4,2,17216,,,0,"Make sure there is a space after debug in virtlogd_wrapper

Otherwise when we set debug on we get the following start of
file:
  #!/bin/bash
  set -xARGS=""$@""

This will then lead to the error:
2021-08-27T18:22:40.444492949+00:00 stderr F + exec /usr/local/bin/virtlogd_wrapper
2021-08-27T18:22:40.444492949+00:00 stderr F /usr/local/bin/virtlogd_wrapper: line 2: set: -A: invalid option
2021-08-27T18:22:40.444492949+00:00 stderr F set: usage: set [-abefhkmnptuvxBCHP] [-o option-name] [--] [arg ...]
2021-08-27T18:22:40.763849194+00:00 stdout F Starting a new child container nova_virtlogd
2021-08-27T18:22:41.016340084+00:00 stdout F c46e5d5a121e11aec40264f3473b37e7edeabf6f9404d49666645252a8db63a3

After this change, with debug always on, we correctly get:
  #!/bin/bash
  set -x
  ARGS=""$@""
  NAME=nova_virtlogd

Change-Id: Ic2f376e7bfca1ed3d53994994746995fa8fb2366
(cherry picked from commit 2384b77a5ba9a19469defec3d47c0f105bba1dbb)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/02/806902/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/nova/virtlogd.epp'],1,f75196e5bb88932433045a701e90977a697b69e9,dnm-test-stable/wallaby,<%- if $debug { -%>set -x<%- } %>,<%- if $debug { -%>set -x<%- } -%>,1,1
openstack%2Fskyline-console~master~Ie9a1e90d7fb68fe8bfa99497b9aaa580f69122a1,openstack/skyline-console,master,Ie9a1e90d7fb68fe8bfa99497b9aaa580f69122a1,fix: Fix i18n of ip_address when create allowed address pair,MERGED,2021-09-02 06:58:43.000000000,2021-09-02 08:03:57.000000000,2021-09-02 08:03:57.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-09-02 06:58:43.000000000', 'files': ['src/pages/network/containers/VirtualAdapter/Detail/AllowedAddressPair/actions/CreateAllowedAddressPair.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/6c99d92d69d2356c6b2d05a520ba5e594af389f5', 'message': 'fix: Fix i18n of ip_address when create allowed address pair\n\nfix i18n of ip_address when create allowed address pair\n\nChange-Id: Ie9a1e90d7fb68fe8bfa99497b9aaa580f69122a1\n'}]",0,807033,6c99d92d69d2356c6b2d05a520ba5e594af389f5,6,2,1,33636,,,0,"fix: Fix i18n of ip_address when create allowed address pair

fix i18n of ip_address when create allowed address pair

Change-Id: Ie9a1e90d7fb68fe8bfa99497b9aaa580f69122a1
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/33/807033/1 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/network/containers/VirtualAdapter/Detail/AllowedAddressPair/actions/CreateAllowedAddressPair.jsx'],1,6c99d92d69d2356c6b2d05a520ba5e594af389f5,," label: t('CIDR'),"," label: t('IP Address'),",1,1
openstack%2Fskyline-console~master~I00678744b5cd9b7729712c5d1564dc75fe3718ec,openstack/skyline-console,master,I00678744b5cd9b7729712c5d1564dc75fe3718ec,fix: Fix port download,MERGED,2021-09-02 06:48:03.000000000,2021-09-02 08:03:56.000000000,2021-09-02 08:03:56.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-09-02 06:48:03.000000000', 'files': ['src/pages/network/containers/VirtualAdapter/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/50454df8940b499c325b3481119b59c9836ce069', 'message': 'fix: Fix port download\n\nfix port download\n\nChange-Id: I00678744b5cd9b7729712c5d1564dc75fe3718ec\n'}]",0,807032,50454df8940b499c325b3481119b59c9836ce069,6,2,1,33636,,,0,"fix: Fix port download

fix port download

Change-Id: I00678744b5cd9b7729712c5d1564dc75fe3718ec
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/32/807032/1 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/network/containers/VirtualAdapter/index.jsx'],1,50454df8940b499c325b3481119b59c9836ce069,," stringify: (server_name, item) => { if (item.device_id && item.device_owner === 'compute:nova') { return `${item.device_owner} \n ${item.device_id} (${server_name})`; } return ` ${item.device_owner} ${item.device_owner && `\n`} ${item.device_id || '-'} `; },",,9,0
openstack%2Fcharm-ceph-mon~master~Id9b611d128acb7d49a9a9ad9c096b232fefd6c68,openstack/charm-ceph-mon,master,Id9b611d128acb7d49a9a9ad9c096b232fefd6c68,Notify more relations when cluster is bootstrapped,MERGED,2021-09-01 20:23:20.000000000,2021-09-02 07:57:50.000000000,2021-09-02 07:57:50.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-01 20:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/f9499a8ceb2ee3a72a01d493f29b7859e2754f65', 'message': 'Notify more relations when cluster is bootstrapped\n\nCurrently mon_relation only calls notify_rbd_mirrors when the cluster is\nalready bootstrapped which leads to broker requests not being handled\nfor other relations in some cases.\n\nThe change also moves the bootstrap attempt code into a separate\nfunction and adds unit tests for mon_relation to cover different\nbranches for various inputs.\n\nCloses-Bug: #1942224\nChange-Id: Id9b611d128acb7d49a9a9ad9c096b232fefd6c68\n'}, {'number': 2, 'created': '2021-09-01 20:27:04.000000000', 'files': ['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/82743ab7e5b8d0c98fd09a6c12ac23110acd89ec', 'message': 'Notify more relations when cluster is bootstrapped\n\nCurrently mon_relation only calls notify_rbd_mirrors when the cluster is\nalready bootstrapped which leads to broker requests not being handled\nfor other relations in some cases.\n\nThe change also moves the bootstrap attempt code into a separate\nfunction and adds unit tests for mon_relation to cover different\nbranches for various inputs.\n\nCloses-Bug: #1942224\nChange-Id: Id9b611d128acb7d49a9a9ad9c096b232fefd6c68\n'}]",0,806980,82743ab7e5b8d0c98fd09a6c12ac23110acd89ec,11,3,2,24824,,,0,"Notify more relations when cluster is bootstrapped

Currently mon_relation only calls notify_rbd_mirrors when the cluster is
already bootstrapped which leads to broker requests not being handled
for other relations in some cases.

The change also moves the bootstrap attempt code into a separate
function and adds unit tests for mon_relation to cover different
branches for various inputs.

Closes-Bug: #1942224
Change-Id: Id9b611d128acb7d49a9a9ad9c096b232fefd6c68
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/80/806980/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py']",2,f9499a8ceb2ee3a72a01d493f29b7859e2754f65,1942224-fix-broker-notifications,"class CephMonRelationTestCase(test_utils.CharmTestCase): def setUp(self): super(CephMonRelationTestCase, self).setUp(ceph_hooks, [ 'config', 'is_leader', 'is_relation_made', 'leader_get', 'leader_set', 'log', 'relation_ids', 'related_units', 'relation_get', 'relations_of_type', 'status_set', 'get_mon_hosts', 'notify_relations', 'emit_cephconf', ]) self.config.side_effect = self.test_config.get self.leader_get.side_effect = self.test_leader_settings.get self.leader_set.side_effect = self.test_leader_settings.set self.relation_get.side_effect = self.test_relation.get self.test_config.set('monitor-count', 3) self.test_leader_settings.set({'monitor-secret': '42'}) self.get_mon_hosts.return_value = ['foo', 'bar', 'baz'] @patch.object(ceph_hooks.ceph, 'is_bootstrapped') def test_mon_relation_bootstrapped(self, _is_bootstrapped): _is_bootstrapped.return_value = True ceph_hooks.mon_relation() self.notify_relations.assert_called_with() @patch.object(ceph_hooks, 'attempt_mon_cluster_bootstrap') @patch.object(ceph_hooks.ceph, 'is_bootstrapped') def test_mon_relation_attempt_bootstrap_success(self, _is_bootstrapped, _attempt_bootstrap): _is_bootstrapped.return_value = False _attempt_bootstrap.return_value = True ceph_hooks.mon_relation() self.notify_relations.assert_called_with() @patch.object(ceph_hooks, 'attempt_mon_cluster_bootstrap') @patch.object(ceph_hooks.ceph, 'is_bootstrapped') def test_mon_relation_attempt_bootstrap_failure(self, _is_bootstrapped, _attempt_bootstrap): _is_bootstrapped.return_value = False _attempt_bootstrap.return_value = False ceph_hooks.mon_relation() self.notify_relations.assert_not_called() @patch.object(ceph_hooks, 'attempt_mon_cluster_bootstrap') @patch.object(ceph_hooks.ceph, 'is_bootstrapped') def test_mon_relation_no_enough_mons(self, _is_bootstrapped, _attempt_bootstrap): _is_bootstrapped.return_value = False _attempt_bootstrap.return_value = False self.get_mon_hosts.return_value = ['foo', 'bar'] ceph_hooks.mon_relation() self.notify_relations.assert_not_called() self.log.assert_called_once_with('Not enough mons (2), punting.') @patch.object(ceph_hooks, 'attempt_mon_cluster_bootstrap') @patch.object(ceph_hooks.ceph, 'is_bootstrapped') def test_mon_relation_no_secret(self, _is_bootstrapped, _attempt_bootstrap): _is_bootstrapped.return_value = False _attempt_bootstrap.return_value = False self.get_mon_hosts.return_value = ['foo', 'bar'] self.test_leader_settings.set({'monitor-secret': None}) ceph_hooks.mon_relation() self.notify_relations.assert_not_called() _attempt_bootstrap.assert_not_called() self.log.assert_called_once_with( 'still waiting for leader to setup keys') ",,152,65
openstack%2Fkolla-ansible~master~I81f3845d6cd03a70a0c8569f8d0ea421027df083,openstack/kolla-ansible,master,I81f3845d6cd03a70a0c8569f8d0ea421027df083,Reduce container metrics cardinality,MERGED,2021-07-08 14:32:43.000000000,2021-09-02 07:57:28.000000000,2021-08-06 14:47:38.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-08 14:32:43.000000000', 'files': ['ansible/roles/prometheus/templates/prometheus-cadvisor.json.j2', 'releasenotes/notes/reduce-cadvisor-cardinality-1213854b9fe0c828.yaml', 'ansible/roles/prometheus/defaults/main.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c2ae21fd97beb987991eb68c6c306c607e4d9d78', 'message': 'Reduce container metrics cardinality\n\nAdds support for passing extra runtime options to cAdvisor.\nBy default new options disable exporting rarely useful metrics\nand labels by cAdvisor. This helps reducing the load on Prometheus\nand cAdvisor itself.\n\nChange-Id: I81f3845d6cd03a70a0c8569f8d0ea421027df083\n'}]",1,800068,c2ae21fd97beb987991eb68c6c306c607e4d9d78,14,3,1,32657,,,0,"Reduce container metrics cardinality

Adds support for passing extra runtime options to cAdvisor.
By default new options disable exporting rarely useful metrics
and labels by cAdvisor. This helps reducing the load on Prometheus
and cAdvisor itself.

Change-Id: I81f3845d6cd03a70a0c8569f8d0ea421027df083
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/68/800068/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/prometheus/templates/prometheus-cadvisor.json.j2', 'releasenotes/notes/reduce-cadvisor-cardinality-1213854b9fe0c828.yaml', 'ansible/roles/prometheus/defaults/main.yml', 'etc/kolla/globals.yml']",4,c2ae21fd97beb987991eb68c6c306c607e4d9d78,,"# List of extra parameters passed to cAdvisor. By default system cgroups # and container labels are not exposed to reduce time series cardinality. #prometheus_cadvisor_cmdline_extras: ""--docker_only --store_container_labels=false --disable_metrics=percpu,referenced_memory,cpu_topology,resctrl,udp,advtcp,sched,hugetlb,memory_numa,tcp,process"" ",,26,1
openstack%2Ftripleo-ansible~master~I575eee7b56f6cba94cb3569233ded09a2e501c02,openstack/tripleo-ansible,master,I575eee7b56f6cba94cb3569233ded09a2e501c02,[DNM] remove it as c9 container build stuck here,ABANDONED,2021-09-01 06:35:30.000000000,2021-09-02 07:51:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-01 06:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7636139778d6fbdddc1866c80e64c9736454654f', 'message': '[DNM] set setype\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I575eee7b56f6cba94cb3569233ded09a2e501c02\n'}, {'number': 2, 'created': '2021-09-01 06:56:04.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1d7852252b0100cb319525786285315de98dd671', 'message': '[DNM] remove it as c9 container build stuck here\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I575eee7b56f6cba94cb3569233ded09a2e501c02\n'}]",0,806844,1d7852252b0100cb319525786285315de98dd671,5,2,2,12393,,,0,"[DNM] remove it as c9 container build stuck here

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I575eee7b56f6cba94cb3569233ded09a2e501c02
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/44/806844/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml'],1,7636139778d6fbdddc1866c80e64c9736454654f,centos9, setype: etc_t,,1,0
openstack%2Ftripleo-repos~master~Ifad87a22bec86734e9db4270f4de368ca91b1f67,openstack/tripleo-repos,master,Ifad87a22bec86734e9db4270f4de368ca91b1f67,Make ansible-test sanity voting,MERGED,2021-08-19 09:37:51.000000000,2021-09-02 07:46:46.000000000,2021-09-02 07:46:46.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-08-19 09:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/14794dfe09450f198bcef3efda6ffde2b43a9f35', 'message': 'Make ansible-test sanity voting\n\n- symlink sanity ignore files\n- exclude tests/unit from collection as they were causing multiple\n  violations on sanity\n- remove README.rst from collections as they can only have the README.md\n- make sanity job voting to prevent regressions\n\nChange-Id: Ifad87a22bec86734e9db4270f4de368ca91b1f67\n'}, {'number': 2, 'created': '2021-09-01 16:34:20.000000000', 'files': ['galaxy.yml', 'tests/sanity/ignore-2.9.txt', 'tests/sanity/ignore-2.10.txt', 'zuul.d/layout.yaml', 'tests/sanity/ignore.txt', 'tests/sanity/ignore-2.11.txt', 'tests/sanity/ignore-2.12.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/f482d7a6a68f8dfbd5259fca15fdeafd5f17a29d', 'message': 'Make ansible-test sanity voting\n\n- symlink sanity ignore files\n- exclude tests/unit from collection as they were causing multiple\n  violations on sanity\n- remove README.rst from collections as they can only have the README.md\n- make sanity job voting to prevent regressions\n\nChange-Id: Ifad87a22bec86734e9db4270f4de368ca91b1f67\n'}]",2,805173,f482d7a6a68f8dfbd5259fca15fdeafd5f17a29d,12,6,2,24162,,,0,"Make ansible-test sanity voting

- symlink sanity ignore files
- exclude tests/unit from collection as they were causing multiple
  violations on sanity
- remove README.rst from collections as they can only have the README.md
- make sanity job voting to prevent regressions

Change-Id: Ifad87a22bec86734e9db4270f4de368ca91b1f67
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/73/805173/2 && git format-patch -1 --stdout FETCH_HEAD,"['galaxy.yml', 'tests/sanity/ignore-2.9.txt', 'tests/sanity/ignore-2.10.txt', 'zuul.d/layout.yaml', 'tests/sanity/ignore.txt', 'tests/sanity/ignore-2.11.txt', 'tests/sanity/ignore-2.12.txt']",7,14794dfe09450f198bcef3efda6ffde2b43a9f35,,ignore.txt,,10,7
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I8dcc4dac490fcf48fe82970d672d785b714287fa,openstack/tripleo-heat-templates,stable/train,I8dcc4dac490fcf48fe82970d672d785b714287fa,[wip] Test PreNetwork resource,ABANDONED,2021-06-29 01:17:45.000000000,2021-09-02 07:39:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-29 01:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c008d58dcf555aa5ad8cc688096182d60f3bb309', 'message': '[wip] Test PreNetwork resource\n\nChange-Id: I8dcc4dac490fcf48fe82970d672d785b714287fa\n'}, {'number': 2, 'created': '2021-06-29 01:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/deca344b916ef486ddfa7b5fb0e67666b1451e7b', 'message': '[wip] Test PreNetwork resource\n\nChange-Id: I8dcc4dac490fcf48fe82970d672d785b714287fa\n'}, {'number': 3, 'created': '2021-06-29 01:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0096e51d821716100bb3755cede1fd0d42ef945f', 'message': '[wip] Test PreNetwork resource\n\nChange-Id: I8dcc4dac490fcf48fe82970d672d785b714287fa\n'}, {'number': 4, 'created': '2021-07-01 17:24:23.000000000', 'files': ['ci/environments/compute-prenetwork.yaml', 'ci/extraconfig/pre_network/default.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33329804c372ab8fd131c98361f49ee88bf97a37', 'message': '[wip] Test PreNetwork resource\n\nChange-Id: I8dcc4dac490fcf48fe82970d672d785b714287fa\n'}]",3,798328,33329804c372ab8fd131c98361f49ee88bf97a37,12,2,4,29775,,,0,"[wip] Test PreNetwork resource

Change-Id: I8dcc4dac490fcf48fe82970d672d785b714287fa
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/798328/3 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/compute-prenetwork.yaml', 'ci/extraconfig/pre_network/default.yaml', 'zuul.d/layout.yaml']",3,c008d58dcf555aa5ad8cc688096182d60f3bb309,prenetworkconfig-stable/train,"<<<<<<< HEAD (a6e406 Merge ""Always run network config for undercloud"" into stable)======= >>>>>>> CHANGE (40213b [wip] Test PreNetwork resource) check: <<<<<<< HEAD (a6e406 Merge ""Always run network config for undercloud"" into stable)======= jobs: [] >>>>>>> CHANGE (40213b [wip] Test PreNetwork resource)", check:,45,0
openstack%2Ftripleo-heat-templates~master~I8dcc4dac490fcf48fe82970d672d785b714287fa,openstack/tripleo-heat-templates,master,I8dcc4dac490fcf48fe82970d672d785b714287fa,[wip] Test PreNetwork resource,ABANDONED,2021-06-28 07:01:42.000000000,2021-09-02 07:39:25.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2021-06-28 07:01:42.000000000', 'files': ['ci/environments/compute-prenetwork.yaml', 'ci/extraconfig/pre_network/default.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/40213bc8d8d410f4332fbf0587531b0596fddf25', 'message': '[wip] Test PreNetwork resource\n\nChange-Id: I8dcc4dac490fcf48fe82970d672d785b714287fa\n'}]",0,798254,40213bc8d8d410f4332fbf0587531b0596fddf25,3,1,1,29775,,,0,"[wip] Test PreNetwork resource

Change-Id: I8dcc4dac490fcf48fe82970d672d785b714287fa
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/798254/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/compute-prenetwork.yaml', 'ci/extraconfig/pre_network/default.yaml', 'zuul.d/layout.yaml']",3,40213bc8d8d410f4332fbf0587531b0596fddf25,prenetworkconfig, check: jobs: []," templates: - tripleo-undercloud-jobs-pipeline - tripleo-multinode-container-minimal-pipeline - check-requirements - release-notes-jobs-python3 - tripleo-standalone-scenarios-pipeline - openstack-python3-wallaby-jobs - tripleo-standalone-multinode-ipa-pipeline - tripleo-upgrades-master-pipeline check: jobs: - openstack-tox-pep8 - openstack-tox-tht - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-pep8 - openstack-tox-tht gate: queue: tripleo jobs: - openstack-tox-pep8 - openstack-tox-tht - job: name: openstack-tox-tht parent: openstack-tox description: Runs syntax tht tests. Uses tox with the ``tht`` environment. success-url: ""reports.html"" failure-url: ""reports.html"" voting: true vars: tox_envlist: tht bindep_profile: test tht test_setup_skip: true",39,34
openstack%2Fkuryr-kubernetes~master~Ib28708fa726137469913f1b83e679a905490b218,openstack/kuryr-kubernetes,master,Ib28708fa726137469913f1b83e679a905490b218,Kuryr Kubernetes Loadbalancers Reconciliation Design,NEW,2021-06-14 05:58:30.000000000,2021-09-02 07:06:21.000000000,,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-06-14 05:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f43653b9023450ddcf776a2ff699b8ae46b075f4', 'message': 'Kuryr Kubernetes Loadbalancers Reconciliation Design\n\nThe purpose of this document is to define the design decision behind\nthe OpenStack resources reconciliation. A ServiceReconciliationHandler\nis added to the Kuryr Controller pipeline which manages the OpenStack\nservice events.\n\nChange-Id: Ib28708fa726137469913f1b83e679a905490b218\n'}, {'number': 2, 'created': '2021-06-14 08:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1acc65989ed542145904be5bfb154f992af87147', 'message': 'Kuryr Kubernetes Loadbalancers Reconciliation Design\n\nThe purpose of this document is to define the design decision behind\nthe OpenStack resources reconciliation. A ServiceReconciliationHandler\nis added to the Kuryr Controller pipeline which manages the OpenStack\nservice events.\n\nChange-Id: Ib28708fa726137469913f1b83e679a905490b218\n'}, {'number': 3, 'created': '2021-06-20 20:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4605e4b37a20ed03aac8c3c44f700c1332b8e5a6', 'message': 'Kuryr Kubernetes Loadbalancers Reconciliation Design\n\nThe purpose of this document is to define the design decision behind\nthe OpenStack resources reconciliation. A ServiceReconciliationHandler\nis added to the Kuryr Controller pipeline which manages the OpenStack\nservice events.\n\nChange-Id: Ib28708fa726137469913f1b83e679a905490b218\n'}, {'number': 4, 'created': '2021-06-20 20:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cfe9a11093d698a0ca49a0b319861dbfe38b8a60', 'message': 'Kuryr Kubernetes Loadbalancers Reconciliation Design\n\nThe purpose of this document is to define the design decision behind\nthe OpenStack resources reconciliation. A ServiceReconciliationHandler\nis added to the Kuryr Controller pipeline which manages the OpenStack\nservice events.\n\nChange-Id: Ib28708fa726137469913f1b83e679a905490b218\n'}, {'number': 5, 'created': '2021-06-20 21:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6873de82ce04ce5afd9b908e193626d8e0332013', 'message': 'Kuryr Kubernetes Loadbalancers Reconciliation Design\n\nThe purpose of this document is to define the design decision behind\nthe OpenStack resources reconciliation. A ServiceReconciliationHandler\nis added to the Kuryr Controller pipeline which manages the OpenStack\nservice events.\n\nChange-Id: Ib28708fa726137469913f1b83e679a905490b218\n'}, {'number': 6, 'created': '2021-06-22 08:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/838d44e09203e1481da2be2d78b0757fc2aba84b', 'message': 'Kuryr Kubernetes Loadbalancers Reconciliation Design\n\nThe purpose of this document is to define the design decision behind\nthe OpenStack resources reconciliation. A ServiceReconciliationHandler\nis added to the Kuryr Controller pipeline which manages the OpenStack\nservice events.\n\nChange-Id: Ib28708fa726137469913f1b83e679a905490b218\n'}, {'number': 7, 'created': '2021-06-23 06:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6ad58d66de4465efc98dee3262380ea780bcbb3d', 'message': 'Kuryr Kubernetes Loadbalancers Reconciliation Design\n\nThe purpose of this document is to define the design decision behind\nthe OpenStack resources reconciliation. A ServiceReconciliationHandler\nis added to the Kuryr Controller pipeline which manages the OpenStack\nservice events.\n\nChange-Id: Ib28708fa726137469913f1b83e679a905490b218\n'}, {'number': 8, 'created': '2021-06-23 22:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/472d0b67fe3ed78c17ec06a63061750ac1d64528', 'message': 'Kuryr Kubernetes Loadbalancers Reconciliation Design\n\nThe purpose of this document is to define the design decision behind\nthe OpenStack resources reconciliation. A ServiceReconciliationHandler\nis added to the Kuryr Controller pipeline which manages the OpenStack\nservice events.\n\nChange-Id: Ib28708fa726137469913f1b83e679a905490b218\n'}, {'number': 9, 'created': '2021-06-24 10:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4d95367e9f0dd9945758118ebbbc4c2449d513f9', 'message': 'Kuryr Kubernetes Loadbalancers Reconciliation Design\n\nThe purpose of this document is to define the design decision behind\nthe OpenStack resources reconciliation. A ServiceReconciliationHandler\nis added to the Kuryr Controller pipeline which manages the OpenStack\nservice events.\n\nChange-Id: Ib28708fa726137469913f1b83e679a905490b218\n'}, {'number': 10, 'created': '2021-06-24 12:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a2c8a1370195d7b5999c114bb4e3f29dcba9402d', 'message': 'Kuryr Kubernetes Loadbalancers Reconciliation Design\n\nThe purpose of this document is to define the design decision behind\nthe OpenStack resources reconciliation. A ServiceReconciliationHandler\nis added to the Kuryr Controller pipeline which manages the OpenStack\nservice events.\n\nChange-Id: Ib28708fa726137469913f1b83e679a905490b218\n'}, {'number': 11, 'created': '2021-06-28 05:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f8bf7f3225ec08a27b3826540eeebf2eabfc12f7', 'message': 'Kuryr Kubernetes Loadbalancers Reconciliation Design\n\nThe purpose of this document is to define the design decision behind\nthe OpenStack resources reconciliation. A ServiceReconciliationHandler\nis added to the Kuryr Controller pipeline which manages the OpenStack\nservice events.\n\nChange-Id: Ib28708fa726137469913f1b83e679a905490b218\n'}, {'number': 12, 'created': '2021-06-28 14:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0904fc9aae750c2df937d3ee0e01e55a67e38938', 'message': 'Kuryr Kubernetes Loadbalancers Reconciliation Design\n\nThe purpose of this document is to define the design decision behind\nthe OpenStack resources reconciliation. A ServiceReconciliationHandler\nis added to the Kuryr Controller pipeline which manages the OpenStack\nservice events.\n\nChange-Id: Ib28708fa726137469913f1b83e679a905490b218\n'}, {'number': 13, 'created': '2021-07-23 04:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a8a3ba0a6e0072827f45bdafbb1f074762266840', 'message': 'Kuryr Kubernetes Loadbalancers Reconciliation Design\n\nThe purpose of this document is to define the design decision behind\nthe OpenStack resources reconciliation. A ServiceReconciliationHandler\nis added to the Kuryr Controller pipeline which manages the OpenStack\nservice events.\n\nChange-Id: Ib28708fa726137469913f1b83e679a905490b218\n'}, {'number': 14, 'created': '2021-07-23 05:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2915645a461260c35b303c65377a203cd857519f', 'message': 'Kuryr Kubernetes Loadbalancers Reconciliation Design\n\nThe purpose of this document is to define the design decision behind\nthe OpenStack resources reconciliation. A ServiceReconciliationHandler\nis added to the Kuryr Controller pipeline which manages the OpenStack\nservice events.\n\nChange-Id: Ib28708fa726137469913f1b83e679a905490b218\n'}, {'number': 15, 'created': '2021-07-23 09:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/25ec8b7d72f7d139d7804738bae92c77cacd9799', 'message': 'Kuryr Kubernetes Loadbalancers Reconciliation Design\n\nThe purpose of this document is to define the design decision behind\nthe OpenStack resources reconciliation. A ServiceReconciliationHandler\nis added to the Kuryr Controller pipeline which manages the OpenStack\nservice events.\n\nChange-Id: Ib28708fa726137469913f1b83e679a905490b218\n'}, {'number': 16, 'created': '2021-07-26 13:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d10171723011afddbc5039432b58d05dda1005da', 'message': 'Kuryr Kubernetes Loadbalancers Reconciliation Design\n\nThe purpose of this document is to define the design decision behind\nthe OpenStack resources reconciliation. A ServiceReconciliationHandler\nis added to the Kuryr Controller pipeline which manages the OpenStack\nservice events.\n\nChange-Id: Ib28708fa726137469913f1b83e679a905490b218\n'}, {'number': 17, 'created': '2021-07-27 11:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/718bfc2ede72302622c6534f8e64eaf46fc9e5bf', 'message': 'Kuryr Kubernetes Loadbalancers Reconciliation Design\n\nThe purpose of this document is to define the design decision behind\nthe OpenStack resources reconciliation. A ServiceReconciliationHandler\nis added to the Kuryr Controller pipeline which manages the OpenStack\nservice events.\n\nChange-Id: Ib28708fa726137469913f1b83e679a905490b218\n'}, {'number': 18, 'created': '2021-08-03 10:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ffd1aee623b31ac95ecdc12829792d6f6abb6e13', 'message': 'Kuryr Kubernetes Loadbalancers Reconciliation Design\n\nThe purpose of this document is to define the design decision behind\nthe OpenStack resources reconciliation. A ServiceReconciliationHandler\nis added to the Kuryr Controller pipeline which manages the OpenStack\nservice events.\n\nChange-Id: Ib28708fa726137469913f1b83e679a905490b218\n'}, {'number': 19, 'created': '2021-08-08 06:27:01.000000000', 'files': ['doc/images/lbaas_recon_flow.svg', 'doc/source/devref/lbaas_reconciliation_design.rst', 'doc/source/devref/index.rst', 'doc/images/lbaas_recon_flow.png'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/00e46a7f2199dffc4da24cc57760f7b1609b8dbd', 'message': 'Kuryr Kubernetes Loadbalancers Reconciliation Design\n\nThe purpose of this document is to define the design decision behind\nthe OpenStack resources reconciliation. A ServiceReconciliationHandler\nis added to the Kuryr Controller pipeline which manages the OpenStack\nservice events.\n\nChange-Id: Ib28708fa726137469913f1b83e679a905490b218\n'}]",17,796234,00e46a7f2199dffc4da24cc57760f7b1609b8dbd,56,5,19,33240,,,0,"Kuryr Kubernetes Loadbalancers Reconciliation Design

The purpose of this document is to define the design decision behind
the OpenStack resources reconciliation. A ServiceReconciliationHandler
is added to the Kuryr Controller pipeline which manages the OpenStack
service events.

Change-Id: Ib28708fa726137469913f1b83e679a905490b218
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/34/796234/17 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/devref/lbaas_reconciliation_design.rst'],1,f43653b9023450ddcf776a2ff699b8ae46b075f4,recon,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode Convention for heading levels in Neutron devref: ======= Heading 0 (reserved for the title in a document) ------- Heading 1 ~~~~~~~ Heading 2 +++++++ Heading 3 ''''''' Heading 4 (Avoid deeper levels because they do not render well.) ==================================================== Kuryr Kubernetes Loadbalancers Reconciliation Design ==================================================== Purpose ------- The purpose of this document is to present an approach for implementing the design of the Kuryr Kubernetes Loadbalancers reconciliation. Overview -------- Currently, if the OpenStack loadbalancer is manually deleted or removed, Kuryr does not detect this event neither does it recreate the OpenStack resources. Hence, it is necessary to monitor also changes in OpenStack resources in order to maintain the same state with KuryrKubernetes CRD. Proposed Solution ----------------- The implementation requires detecting changes in OpenStack loadbalancers and reconciling with KuryrKubernetes CRD. We define a handler to watch the OpenStack endpoints for changes and to recreate or update them to match the state in Kubernetes CRD. Kuryr Controller Impact ~~~~~~~~~~~~~~~~~~~~~~~ A ServiceReconciliationHandler Event Handler is added to the Kuryr controller pipeline. The ServiceReconciliationHandler manages the OpenStack service events. This handler is responsible for recreating the needed Octavia resources according to the CRD spec data. It does this by setting the status field on the CRD to empty. This triggers the recreation of the Octavia resources. ",,52,0
openstack%2Fskyline-console~master~I0a20e9d57b958be73b144e7eb026459f05699d9f,openstack/skyline-console,master,I0a20e9d57b958be73b144e7eb026459f05699d9f,fix: Update List component to support init filter,MERGED,2021-09-02 04:54:55.000000000,2021-09-02 07:02:46.000000000,2021-09-02 07:02:46.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-09-02 04:54:55.000000000', 'files': ['src/components/Tables/Base/index.jsx', 'src/containers/List/index.jsx', 'src/components/MagicInput/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/23083c1643d8890f18ca71680d607a392fca6070', 'message': 'fix: Update List component to support init filter\n\nUpdate List component to support init filter\n\nChange-Id: I0a20e9d57b958be73b144e7eb026459f05699d9f\n'}]",0,807021,23083c1643d8890f18ca71680d607a392fca6070,6,2,1,30434,,,0,"fix: Update List component to support init filter

Update List component to support init filter

Change-Id: I0a20e9d57b958be73b144e7eb026459f05699d9f
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/21/807021/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/components/Tables/Base/index.jsx', 'src/containers/List/index.jsx', 'src/components/MagicInput/index.jsx']",3,23083c1643d8890f18ca71680d607a392fca6070,master2,"export const getTags = (initValue, filterParams) => { if (!initValue || isEmpty(initValue)) { return {}; return {}; const checkValues = []; const { options = [] } = item; if (options.length) { const optionItem = options.find((op) => op.key === value); if (optionItem && optionItem.isQuick) { checkValues.push(`${item.name}--${value}`); } } return { tags, checkValues, }; const { tags = [], checkValues } = getTags(initValue, filterParams); if (!tags.length) { this.setState( { tags, checkValues, }, () => { this.onTagsChange(); } );","// eslint-disable-next-line no-unused-vars const getTags = (props) => { // eslint-disable-next-line no-shadow const { initValue, filterParams } = props; if (!initValue) { return []; return []; return tags; // eslint-disable-next-line no-shadow if (!initValue) { if (isEmpty(filterParams)) { return; } const tags = []; const checkValues = []; Object.keys(initValue).forEach((key) => { const item = filterParams.find((it) => it.name === key); if (item) { const { options = [] } = item; const value = initValue[key]; if (options.length) { const optionItem = options.find((op) => op.key === value); if (optionItem && optionItem.isQuick) { checkValues.push(`${item.name}--${value}`); } } tags.push({ value, filter: item, }); } }); this.setState({ tags, checkValues, });",42,41
openstack%2Fpuppet-aodh~master~Ic6d3b8ea3cb986cc29b1b06fda9b06214eb76e67,openstack/puppet-aodh,master,Ic6d3b8ea3cb986cc29b1b06fda9b06214eb76e67,Fix invalid unit tests,MERGED,2021-08-26 12:13:38.000000000,2021-09-02 06:40:40.000000000,2021-09-02 06:40:40.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 12:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/3e3d83104ced734f31732a3c24f0fa97563bd451', 'message': 'UT: Fix a typo in an example url\n\nChange-Id: Ic6d3b8ea3cb986cc29b1b06fda9b06214eb76e67\n'}, {'number': 2, 'created': '2021-08-26 12:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/e33e57240ebe6e69a602c06401910c3b9fdfaa45', 'message': 'Fix invalid unit tests\n\nThis change fixes the unit test cases which was broken by the previous\nrefactoring[1] in addition to a typo in an example url.\n\n[1] 69ebbeafd9ce0d6b50de11f6a97da48272df7adc\n\nChange-Id: Ic6d3b8ea3cb986cc29b1b06fda9b06214eb76e67\n'}, {'number': 3, 'created': '2021-08-26 13:09:21.000000000', 'files': ['spec/classes/aodh_keystone_authtoken_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/4a0a0626ec5e61051effd6f17dcfbc760a273e7c', 'message': 'Fix invalid unit tests\n\nThis change fixes the unit test cases which was broken by the previous\nrefactoring[1] in addition to a typo in an example url.\n\n[1] 69ebbeafd9ce0d6b50de11f6a97da48272df7adc\n\nChange-Id: Ic6d3b8ea3cb986cc29b1b06fda9b06214eb76e67\n'}]",0,806159,4a0a0626ec5e61051effd6f17dcfbc760a273e7c,10,3,3,9816,,,0,"Fix invalid unit tests

This change fixes the unit test cases which was broken by the previous
refactoring[1] in addition to a typo in an example url.

[1] 69ebbeafd9ce0d6b50de11f6a97da48272df7adc

Change-Id: Ic6d3b8ea3cb986cc29b1b06fda9b06214eb76e67
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/59/806159/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/aodh_keystone_authtoken_spec.rb'],1,3e3d83104ced734f31732a3c24f0fa97563bd451,authtoken-ut," :auth_url => 'http://127.0.0.1:5000', :auth_url => 'http://127.0.0.1:5000',"," :auth_url => 'http://:127.0.0.1:5000', :auth_url => 'http://:127.0.0.1:5000',",2,2
openstack%2Foslo.messaging~stable%2Ftrain~I97287e81b1ea6a910e2543eea79c0d78e51743d6,openstack/oslo.messaging,stable/train,I97287e81b1ea6a910e2543eea79c0d78e51743d6,Catch ConnectionForced Exception,ABANDONED,2020-10-10 03:23:45.000000000,2021-09-02 06:23:29.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29071}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-10-10 03:23:45.000000000', 'files': ['oslo_messaging/exceptions.py', 'oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/efa71ef78adbaea61532499b1dc6dcc8f82c8102', 'message': 'Catch ConnectionForced Exception\n\nOccasionally I saw large number of connectionforced exceptions.\nsuch exceptions cannot be healed automatically and requires a reboot.\ncatch it and ensure connection established.\n\nChange-Id: I97287e81b1ea6a910e2543eea79c0d78e51743d6\nCloses-Bug: #1883038\n'}]",7,757242,efa71ef78adbaea61532499b1dc6dcc8f82c8102,33,5,1,29071,,,0,"Catch ConnectionForced Exception

Occasionally I saw large number of connectionforced exceptions.
such exceptions cannot be healed automatically and requires a reboot.
catch it and ensure connection established.

Change-Id: I97287e81b1ea6a910e2543eea79c0d78e51743d6
Closes-Bug: #1883038
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/42/757242/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/exceptions.py', 'oslo_messaging/_drivers/impl_rabbit.py']",2,efa71ef78adbaea61532499b1dc6dcc8f82c8102,bug/1883038," kombu.exceptions.OperationalError, exceptions.ConnectionForced) as exc:", kombu.exceptions.OperationalError) as exc:,7,2
openstack%2Fskyline-console~master~I7ed6ca77b8918737984c2e7eedb4995f4730b6b4,openstack/skyline-console,master,I7ed6ca77b8918737984c2e7eedb4995f4730b6b4,fix: Fix change volume type result hint,MERGED,2021-09-02 04:16:01.000000000,2021-09-02 05:12:36.000000000,2021-09-02 05:12:36.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-09-02 04:16:01.000000000', 'files': ['src/pages/storage/containers/Volume/actions/ChangeType.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/8af39e71a63a39d9cd240fcf044090dfbae6d22d', 'message': 'fix: Fix change volume type result hint\n\nFix change volume type result hint to async type hint\n\nChange-Id: I7ed6ca77b8918737984c2e7eedb4995f4730b6b4\n'}]",0,807020,8af39e71a63a39d9cd240fcf044090dfbae6d22d,6,2,1,30434,,,0,"fix: Fix change volume type result hint

Fix change volume type result hint to async type hint

Change-Id: I7ed6ca77b8918737984c2e7eedb4995f4730b6b4
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/20/807020/1 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/storage/containers/Volume/actions/ChangeType.jsx'],1,8af39e71a63a39d9cd240fcf044090dfbae6d22d,master3, get isAsyncAction() { return true; } ,,4,0
openstack%2Fmanila~master~I34020da6a929f5c7ae1c63bc0f2ef338c49dbe10,openstack/manila,master,I34020da6a929f5c7ae1c63bc0f2ef338c49dbe10,[NetApp] Fix list of mandatory services for CIFS share creation,MERGED,2021-08-31 15:26:44.000000000,2021-09-02 05:05:32.000000000,2021-08-31 22:26:39.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 32919}]","[{'number': 1, 'created': '2021-08-31 15:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/531ad8c12ccd93eeda1edba6b4ecfc323452c177', 'message': '[NetApp] Fix list of mandatory services for CIFS share creation\n\nTo create a CIFS share, it is mandatory to configure an active\ndirectory service, but the code was requiring to configure also\nthe `ldap` and `kerberos` services to be configured during the\ncreation of a CIFS share.\n\nThis patch fixes this, removing `ldap` and `kerberos` from the\nlist of mandatory security services.\n\nChange-Id: I34020da6a929f5c7ae1c63bc0f2ef338c49dbe10\nCloses-bug: #1942124\n'}, {'number': 2, 'created': '2021-08-31 15:30:44.000000000', 'files': ['manila/releasenotes/notes/bug-1942124-fix-list-mandatory-services-for-cifs-share-0c524831e8fc6175.yaml', 'manila/share/drivers/netapp/dataontap/cluster_mode/drv_multi_svm.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/58031e369305337475aa20efb060b3061a5681cb', 'message': '[NetApp] Fix list of mandatory services for CIFS share creation\n\nTo create a CIFS share, it is mandatory to configure an active\ndirectory service, but the code was requiring to configure also\nthe `ldap` and `kerberos` services to be configured during the\ncreation of a CIFS share.\n\nThis patch fixes this, removing `ldap` and `kerberos` from the\nlist of mandatory security services.\n\nChange-Id: I34020da6a929f5c7ae1c63bc0f2ef338c49dbe10\nCloses-bug: #1942124\n'}]",0,806764,58031e369305337475aa20efb060b3061a5681cb,18,5,2,33648,,,0,"[NetApp] Fix list of mandatory services for CIFS share creation

To create a CIFS share, it is mandatory to configure an active
directory service, but the code was requiring to configure also
the `ldap` and `kerberos` services to be configured during the
creation of a CIFS share.

This patch fixes this, removing `ldap` and `kerberos` from the
list of mandatory security services.

Change-Id: I34020da6a929f5c7ae1c63bc0f2ef338c49dbe10
Closes-bug: #1942124
",git fetch https://review.opendev.org/openstack/manila refs/changes/64/806764/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/releasenotes/notes/bug-1942124-fix-list-mandatory-services-for-cifs-share-0c524831e8fc6175.yaml', 'manila/share/drivers/netapp/dataontap/cluster_mode/drv_multi_svm.py']",2,531ad8c12ccd93eeda1edba6b4ecfc323452c177,bug/1942124," 'cifs': ['active_directory', ]"," 'cifs': ['active_directory', 'ldap', 'kerberos', ]",7,1
openstack%2Fopenstack-helm-infra~master~I031df5eaf16d5e7b7b3e33891d2c8ab4b75a9bdd,openstack/openstack-helm-infra,master,I031df5eaf16d5e7b7b3e33891d2c8ab4b75a9bdd,[DNM] helm3,ABANDONED,2021-08-31 18:54:58.000000000,2021-09-02 04:54:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-31 18:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7e67fb3d21d8ca0a7fe1133654e0451ba53885e6', 'message': '[DNM] helm3\n\nSigned-off-by: Tin Lam <t@lam.wtf>\nChange-Id: I031df5eaf16d5e7b7b3e33891d2c8ab4b75a9bdd\n'}, {'number': 2, 'created': '2021-08-31 19:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/92cb43259fec7c5fcf7da0489c4c5a1441024369', 'message': '[DNM] helm3\n\nSigned-off-by: Tin Lam <t@lam.wtf>\nChange-Id: I031df5eaf16d5e7b7b3e33891d2c8ab4b75a9bdd\n'}, {'number': 3, 'created': '2021-09-01 14:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1de1a7a998e3453fc9264745e7d2250475aba659', 'message': '[DNM] helm3\n\nSigned-off-by: Tin Lam <t@lam.wtf>\nChange-Id: I031df5eaf16d5e7b7b3e33891d2c8ab4b75a9bdd\n'}, {'number': 4, 'created': '2021-09-01 17:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cc2aab9f6ca22e97510cdd7ab89e9a39805da7c4', 'message': '[DNM] helm3\n\nSigned-off-by: Tin Lam <t@lam.wtf>\nChange-Id: I031df5eaf16d5e7b7b3e33891d2c8ab4b75a9bdd\n'}, {'number': 5, 'created': '2021-09-01 17:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3fa896f83e24d6b8885dc6f26aa3e0ae35842d65', 'message': '[DNM] helm3\n\nSigned-off-by: Tin Lam <t@lam.wtf>\nChange-Id: I031df5eaf16d5e7b7b3e33891d2c8ab4b75a9bdd\n'}, {'number': 6, 'created': '2021-09-01 18:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/061af698d4d9c9be8e466760101e66bc5ce02b1c', 'message': '[DNM] helm3\n\nSigned-off-by: Tin Lam <t@lam.wtf>\nChange-Id: I031df5eaf16d5e7b7b3e33891d2c8ab4b75a9bdd\n'}, {'number': 7, 'created': '2021-09-01 20:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/15c56d5f84cf1defeb329af5218de3456813004e', 'message': '[DNM] helm3\n\nSigned-off-by: Tin Lam <t@lam.wtf>\nChange-Id: I031df5eaf16d5e7b7b3e33891d2c8ab4b75a9bdd\n'}, {'number': 8, 'created': '2021-09-01 20:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/020df7004084191e332f97f0a7d6156bb26556bb', 'message': '[DNM] helm3\n\nSigned-off-by: Tin Lam <t@lam.wtf>\nChange-Id: I031df5eaf16d5e7b7b3e33891d2c8ab4b75a9bdd\n'}, {'number': 9, 'created': '2021-09-01 21:29:08.000000000', 'files': ['ingress/Chart.yaml', 'tools/gate/deploy-k8s.sh', 'ingress/requirements.yaml', 'ingress/templates/ingress.yaml', 'helm-toolkit/requirements.yaml', 'helm-toolkit/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/55c6aefce7e1ced017bbf2f02c1a60d3b9783f6e', 'message': '[DNM] helm3\n\nSigned-off-by: Tin Lam <t@lam.wtf>\nChange-Id: I031df5eaf16d5e7b7b3e33891d2c8ab4b75a9bdd\n'}]",0,806793,55c6aefce7e1ced017bbf2f02c1a60d3b9783f6e,19,1,9,33519,,,0,"[DNM] helm3

Signed-off-by: Tin Lam <t@lam.wtf>
Change-Id: I031df5eaf16d5e7b7b3e33891d2c8ab4b75a9bdd
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/93/806793/8 && git format-patch -1 --stdout FETCH_HEAD,"['ingress/Chart.yaml', 'ingress/requirements.yaml', 'ingress/templates/ingress.yaml', 'helm-toolkit/requirements.yaml', 'helm-toolkit/Chart.yaml']",5,7e67fb3d21d8ca0a7fe1133654e0451ba53885e6,dnm/h3,"apiVersion: v2kubeVersion: "">= 1.19.0"" description: OpenStack-Helm Helm-Toolkit type: library keywords: - OpenStack-Helmdependencies: []icon: https://www.openstack.org/themes/openstack/images/project-mascots/OpenStack-Helm/OpenStack_Project_OpenStackHelm_vertical.png appVersion: v1.0.0 deprecated: false","apiVersion: v1 appVersion: v1.0.0 description: OpenStack-Helm Helm-Toolkiticon: https://www.openstack.org/themes/openstack/images/project-mascots/OpenStack-Helm/OpenStack_Project_OpenStackHelm_vertical.pngtillerVersion: "">=2.13.0""",24,42
openstack%2Fskyline-console~master~I07ea1f8aa683c64116fbb6da373b1d52a25bff60,openstack/skyline-console,master,I07ea1f8aa683c64116fbb6da373b1d52a25bff60,fix: Fix download csv,MERGED,2021-09-02 03:31:47.000000000,2021-09-02 04:28:50.000000000,2021-09-02 04:28:50.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-09-02 03:31:47.000000000', 'files': ['src/components/Tables/Base/index.jsx', 'src/pages/network/containers/Router/Port/Detail/index.jsx', 'src/pages/network/containers/Router/actions/SetGateway.jsx', 'src/resources/security-group-rule.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/4767477cd67ea1e6eb7218c880afb9401ff60f34', 'message': 'fix: Fix download csv\n\n1. Fix download security goup rule\n2. Fix export for SetGateway && RouterPortDetail\n\nChange-Id: I07ea1f8aa683c64116fbb6da373b1d52a25bff60\n'}]",0,807018,4767477cd67ea1e6eb7218c880afb9401ff60f34,6,2,1,30434,,,0,"fix: Fix download csv

1. Fix download security goup rule
2. Fix export for SetGateway && RouterPortDetail

Change-Id: I07ea1f8aa683c64116fbb6da373b1d52a25bff60
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/18/807018/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/components/Tables/Base/index.jsx', 'src/pages/network/containers/Router/Port/Detail/index.jsx', 'src/pages/network/containers/Router/actions/SetGateway.jsx', 'src/resources/security-group-rule.jsx']",4,4767477cd67ea1e6eb7218c880afb9401ff60f34,master2," splitColumnForDownload: false,",,9,7
openstack%2Fopenstack-helm-images~master~Ic299b5321a7d8738a3be75c0abbc9d1cd77444e4,openstack/openstack-helm-images,master,Ic299b5321a7d8738a3be75c0abbc9d1cd77444e4,[WIP/DNM] Debugging Nagios Script,ABANDONED,2021-09-01 21:23:27.000000000,2021-09-02 04:08:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-01 21:23:27.000000000', 'files': ['nagios/plugins/query_prometheus_alerts.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/6f42ea9175df5e5451d953a0cb149bcc5b0853f7', 'message': '[WIP/DNM] Debugging Nagios Script\n\nChange-Id: Ic299b5321a7d8738a3be75c0abbc9d1cd77444e4\n'}]",0,806988,6f42ea9175df5e5451d953a0cb149bcc5b0853f7,3,1,1,30777,,,0,"[WIP/DNM] Debugging Nagios Script

Change-Id: Ic299b5321a7d8738a3be75c0abbc9d1cd77444e4
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/88/806988/1 && git format-patch -1 --stdout FETCH_HEAD,['nagios/plugins/query_prometheus_alerts.py'],1,6f42ea9175df5e5451d953a0cb149bcc5b0853f7,," print(f""Got back response: {response_json}"")",,1,0
openstack%2Fneutron~master~Ief402048d99d40b64d81fcf58eb2e39b1ba7ebbb,openstack/neutron,master,Ief402048d99d40b64d81fcf58eb2e39b1ba7ebbb,Do not fail if the agent load is not bumped,MERGED,2021-08-11 09:44:24.000000000,2021-09-02 04:06:48.000000000,2021-09-02 04:04:50.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-11 09:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1180d5fc81a0dd798ad11fb0f0252208b91aab41', 'message': 'Do not fail if the agent load is not bumped\n\nWhen a new network and its first subnet is created, the DHCP agent\nbumps the ""load"" parameter to reflect the number of networks handled.\nThis ""load"" parameter is modified when:\n- As commented, when the first subnet of a network is created. The\n  ""load"" value is bumped.\n- When periodically the DHCP agent sends the status, informing about\n  the current number of networks handled.\n\nIf during the subnet creation this ""load"" value is not updated, it will\nbe in the next periodic update of the agent.\n\nThis ""load"" value is used by the scheduler to equally distribute the\nobjects to be managed by any agent type (DHCP agents manage networks).\n\nThe bug refers to DHCP but is valid for any other agent.\n\nChange-Id: Ief402048d99d40b64d81fcf58eb2e39b1ba7ebbb\nCloses-Bug: #1939432\n'}, {'number': 2, 'created': '2021-08-12 09:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/068551c24492feb29c465971373c00e2efde6b7d', 'message': 'Do not fail if the agent load is not bumped\n\nWhen a new network and its first subnet is created, the DHCP agent\nbumps the ""load"" parameter to reflect the number of networks handled.\nThis ""load"" parameter is modified when:\n- As commented, when the first subnet of a network is created. The\n  ""load"" value is bumped.\n- When periodically the DHCP agent sends the status, informing about\n  the current number of networks handled.\n\nIf during the subnet creation this ""load"" value is not updated, it will\nbe in the next periodic update of the agent.\n\nThis ""load"" value is used by the scheduler to equally distribute the\nobjects to be managed by any agent type (DHCP agents manage networks).\n\nThe bug refers to DHCP but is valid for any other agent.\n\nChange-Id: Ief402048d99d40b64d81fcf58eb2e39b1ba7ebbb\nCloses-Bug: #1939432\n'}, {'number': 3, 'created': '2021-08-17 13:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4492508fb9b745febd6e343057869dcc3c24849', 'message': 'Do not fail if the agent load is not bumped\n\nWhen a new network and its first subnet is created, the DHCP agent\nbumps the ""load"" parameter to reflect the number of networks handled.\nThis ""load"" parameter is modified when:\n- As commented, when the first subnet of a network is created. The\n  ""load"" value is bumped.\n- When periodically the DHCP agent sends the status, informing about\n  the current number of networks handled.\n\nIf during the subnet creation this ""load"" value is not updated, it will\nbe in the next periodic update of the agent.\n\nThis ""load"" value is used by the scheduler to equally distribute the\nobjects to be managed by any agent type (DHCP agents manage networks).\n\nThe bug refers to DHCP but is valid for any other agent.\n\nChange-Id: Ief402048d99d40b64d81fcf58eb2e39b1ba7ebbb\nCloses-Bug: #1939432\n'}, {'number': 4, 'created': '2021-08-25 13:06:44.000000000', 'files': ['neutron/common/utils.py', 'neutron/tests/unit/common/test_utils.py', 'neutron/scheduler/base_resource_filter.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/668b1cc652f076e555ef1fc1289684367159186a', 'message': 'Do not fail if the agent load is not bumped\n\nWhen a new network and its first subnet is created, the DHCP agent\nbumps the ""load"" parameter to reflect the number of networks handled.\nThis ""load"" parameter is modified when:\n- As commented, when the first subnet of a network is created. The\n  ""load"" value is bumped.\n- When periodically the DHCP agent sends the status, informing about\n  the current number of networks handled.\n\nIf during the subnet creation this ""load"" value is not updated, it will\nbe in the next periodic update of the agent.\n\nThis ""load"" value is used by the scheduler to equally distribute the\nobjects to be managed by any agent type (DHCP agents manage networks).\n\nThe bug refers to DHCP but is valid for any other agent.\n\nChange-Id: Ief402048d99d40b64d81fcf58eb2e39b1ba7ebbb\nCloses-Bug: #1939432\n'}]",18,804218,668b1cc652f076e555ef1fc1289684367159186a,314,6,4,16688,,,0,"Do not fail if the agent load is not bumped

When a new network and its first subnet is created, the DHCP agent
bumps the ""load"" parameter to reflect the number of networks handled.
This ""load"" parameter is modified when:
- As commented, when the first subnet of a network is created. The
  ""load"" value is bumped.
- When periodically the DHCP agent sends the status, informing about
  the current number of networks handled.

If during the subnet creation this ""load"" value is not updated, it will
be in the next periodic update of the agent.

This ""load"" value is used by the scheduler to equally distribute the
objects to be managed by any agent type (DHCP agents manage networks).

The bug refers to DHCP but is valid for any other agent.

Change-Id: Ief402048d99d40b64d81fcf58eb2e39b1ba7ebbb
Closes-Bug: #1939432
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/804218/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/utils.py', 'neutron/scheduler/base_resource_filter.py', 'neutron/tests/unit/common/test_utils.py']",3,1180d5fc81a0dd798ad11fb0f0252208b91aab41,bug/1939432," class SkipDecoratorTestCase(base.BaseTestCase): def test_skip_exception(self): @utils.skip_exceptions(AttributeError) def raise_attribute_error(): raise AttributeError() raise_attribute_error() def test_skip_exception_not_defined(self): @utils.skip_exceptions() def raise_attribute_error(): raise AttributeError() raise_attribute_error() def test_skip_exception_fail(self): @utils.skip_exceptions(IndexError) def raise_attribute_error(): raise AttributeError() self.assertRaises(AttributeError, raise_attribute_error)",,50,0
openstack%2Fskyline-console~master~I837bd1cf8059d19ab652d344f587de04f6010789,openstack/skyline-console,master,I837bd1cf8059d19ab652d344f587de04f6010789,fix: Fix for create image from volume,MERGED,2021-09-02 02:19:11.000000000,2021-09-02 03:54:40.000000000,2021-09-02 03:54:40.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-09-02 02:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/bb6b5d157633f18e209361e409bab405ad640592', 'message': 'fix: Fix for create image from volume\n\nOnly row & qcow2 are supported to create image from volume\n\nChange-Id: I837bd1cf8059d19ab652d344f587de04f6010789\n'}, {'number': 2, 'created': '2021-09-02 03:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/4114501ddf0af7bf280f543f57d8d43602e3dee3', 'message': 'fix: Fix for create image from volume\n\nOnly row & qcow2 are supported to create image from volume\n\nChange-Id: I837bd1cf8059d19ab652d344f587de04f6010789\n'}, {'number': 3, 'created': '2021-09-02 03:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/b012df73ca6ee18caefd794f22d65d33c4f369a3', 'message': 'fix: Fix for create image from volume\n\nOnly row & qcow2 are supported to create image from volume\n\nChange-Id: I837bd1cf8059d19ab652d344f587de04f6010789\n'}, {'number': 4, 'created': '2021-09-02 03:27:38.000000000', 'files': ['src/pages/storage/containers/Volume/actions/CreateImage.jsx', 'src/resources/image.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/c7dad2670053b8309f3772af3272535f3b6c7f9a', 'message': 'fix: Fix for create image from volume\n\nOnly row & qcow2 are supported to create image from volume\n\nChange-Id: I837bd1cf8059d19ab652d344f587de04f6010789\n'}]",0,807010,c7dad2670053b8309f3772af3272535f3b6c7f9a,10,2,4,33636,,,0,"fix: Fix for create image from volume

Only row & qcow2 are supported to create image from volume

Change-Id: I837bd1cf8059d19ab652d344f587de04f6010789
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/10/807010/4 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/storage/containers/Volume/actions/CreateImage.jsx'],1,bb6b5d157633f18e209361e409bab405ad640592,,"import { imageOS } from 'resources/image'; return [ { label: t('Raw'), value: 'raw', }, { label: t('QCOW2 - QEMU Emulator'), value: 'qcow2', }, ];","import { imageOS, imageFormats } from 'resources/image'; return Object.keys(imageFormats).map((key) => ({ value: key, label: imageFormats[key], }));",11,5
openstack%2Fskyline-console~master~I50f2cf73d21094d10b127cac561d9b1b892efc49,openstack/skyline-console,master,I50f2cf73d21094d10b127cac561d9b1b892efc49,fix: fix edit unique project name & etc.,MERGED,2021-09-02 02:09:16.000000000,2021-09-02 03:30:03.000000000,2021-09-02 03:30:03.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-09-02 02:09:16.000000000', 'files': ['src/pages/identity/containers/Project/actions/Edit.jsx', 'src/components/Layout/GlobalHeader/ProjectTable.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/c2e4c6feafc007a9c8a15529e9532c42f66e26ae', 'message': ""fix: fix edit unique project name & etc.\n\n1. add 'enabled' column for switch project\n2. fix edit unique project name\n\nChange-Id: I50f2cf73d21094d10b127cac561d9b1b892efc49\n""}]",0,807008,c2e4c6feafc007a9c8a15529e9532c42f66e26ae,6,2,1,33636,,,0,"fix: fix edit unique project name & etc.

1. add 'enabled' column for switch project
2. fix edit unique project name

Change-Id: I50f2cf73d21094d10b127cac561d9b1b892efc49
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/08/807008/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/identity/containers/Project/actions/Edit.jsx', 'src/components/Layout/GlobalHeader/ProjectTable.jsx']",2,c2e4c6feafc007a9c8a15529e9532c42f66e26ae,," { title: t('Enabled'), dataIndex: 'enabled', valueRender: 'yesNo', },",,10,8
openstack%2Fskyline-console~master~Ife379caf4b1da5a88aae6103a55e353cf2c8407a,openstack/skyline-console,master,Ife379caf4b1da5a88aae6103a55e353cf2c8407a,fix: Fix create user in domain list,MERGED,2021-09-02 02:27:51.000000000,2021-09-02 03:30:02.000000000,2021-09-02 03:30:02.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-09-02 02:27:51.000000000', 'files': ['src/pages/identity/containers/User/actionsInDomain/Create.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/e7308d04ac5841f96e40a290ab40f79c4379fa22', 'message': 'fix: Fix create user in domain list\n\nfix create duplicate name user in domain detail page\n\nChange-Id: Ife379caf4b1da5a88aae6103a55e353cf2c8407a\n'}]",0,807011,e7308d04ac5841f96e40a290ab40f79c4379fa22,6,2,1,33636,,,0,"fix: Fix create user in domain list

fix create duplicate name user in domain detail page

Change-Id: Ife379caf4b1da5a88aae6103a55e353cf2c8407a
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/11/807011/1 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/identity/containers/User/actionsInDomain/Create.jsx'],1,e7308d04ac5841f96e40a290ab40f79c4379fa22,," this.getAllUser(); async getAllUser() { this.allUser = await this.store.pureFetchList(); } checkName = (rule, value) => { if (!value) { return Promise.reject(t('Please input')); } const nameUsed = this.allUser.find((i) => i.name === value); if (nameUsed) { return Promise.reject(t('Invalid: User name can not be duplicated')); } return Promise.resolve(); }; validator: this.checkName,", // eslint-disable-next-line no-console console.log(data);,17,2
openstack%2Fskyline-console~master~I377215e853de0ddbadd255a9b82459ca4343b037,openstack/skyline-console,master,I377215e853de0ddbadd255a9b82459ca4343b037,fix: Fix user columns,MERGED,2021-09-02 02:10:04.000000000,2021-09-02 03:30:01.000000000,2021-09-02 03:30:01.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-09-02 02:10:04.000000000', 'files': ['src/containers/List/index.jsx', 'src/pages/identity/containers/User/index.jsx', 'src/pages/compute/containers/Instance/index.jsx', 'src/pages/network/containers/FloatingIp/index.jsx', 'src/pages/network/containers/VirtualAdapter/index.jsx', 'src/pages/storage/containers/Volume/index.jsx', 'docs/en/develop/3-1-BaseList-introduction.md', 'docs/en/develop/3-3-BaseDetail-introduction.md', 'docs/zh/develop/3-1-BaseList-introduction.md', 'src/pages/compute/containers/Instance/actions/CreateIronic/index.jsx', 'src/pages/network/containers/Router/index.jsx', 'src/pages/storage/containers/Backup/index.jsx', 'docs/zh/develop/3-3-BaseDetail-introduction.md', 'src/pages/storage/containers/Snapshot/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/824ebdd984355843281122c68fa7daced64fceab', 'message': 'fix: Fix user columns\n\n1. Fix user columns\n2. Update isInxxx name to inxxx\n3. Fix inDetailPage intro in md\n\nChange-Id: I377215e853de0ddbadd255a9b82459ca4343b037\n'}]",0,807009,824ebdd984355843281122c68fa7daced64fceab,6,2,1,30434,,,0,"fix: Fix user columns

1. Fix user columns
2. Update isInxxx name to inxxx
3. Fix inDetailPage intro in md

Change-Id: I377215e853de0ddbadd255a9b82459ca4343b037
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/09/807009/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/containers/List/index.jsx', 'src/pages/identity/containers/User/index.jsx', 'src/pages/compute/containers/Instance/index.jsx', 'src/pages/network/containers/FloatingIp/index.jsx', 'src/pages/network/containers/VirtualAdapter/index.jsx', 'src/pages/storage/containers/Volume/index.jsx', 'docs/en/develop/3-1-BaseList-introduction.md', 'docs/en/develop/3-3-BaseDetail-introduction.md', 'docs/zh/develop/3-1-BaseList-introduction.md', 'src/pages/compute/containers/Instance/actions/CreateIronic/index.jsx', 'src/pages/network/containers/Router/index.jsx', 'src/pages/storage/containers/Backup/index.jsx', 'docs/zh/develop/3-3-BaseDetail-introduction.md', 'src/pages/storage/containers/Snapshot/index.jsx']",14,824ebdd984355843281122c68fa7daced64fceab,master2, if (this.inDetailPage) { if (this.inDetailPage) {, if (this.isInDetailPage) { if (this.isInDetailPage) {,197,84
openstack%2Ftripleo-heat-templates~master~I871ce206f32d195507b810398f1550f51e2dfa95,openstack/tripleo-heat-templates,master,I871ce206f32d195507b810398f1550f51e2dfa95,DNM: Testing the parent change,ABANDONED,2021-07-30 13:19:55.000000000,2021-09-02 03:04:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-30 13:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a81d49f290a039e61cc5b5b49ce4a61ffb663bcd', 'message': 'DNM: Testing the parent change\n\nChange-Id: I871ce206f32d195507b810398f1550f51e2dfa95\n'}, {'number': 2, 'created': '2021-08-18 14:26:03.000000000', 'files': ['deployment/manila/manila-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9eea0a2ebb87028cc3020836742b6e2594fe6e4d', 'message': 'DNM: Testing the parent change\n\nChange-Id: I871ce206f32d195507b810398f1550f51e2dfa95\n'}]",0,803033,9eea0a2ebb87028cc3020836742b6e2594fe6e4d,7,2,2,9816,,,0,"DNM: Testing the parent change

Change-Id: I871ce206f32d195507b810398f1550f51e2dfa95
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/803033/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/manila/manila-api-container-puppet.yaml'],1,a81d49f290a039e61cc5b5b49ce4a61ffb663bcd,secure-rbac,,,1,0
openstack%2Fpython-neutronclient~master~Ibe25c4aaf3aa7226f28ec60b8a929ecc143face1,openstack/python-neutronclient,master,Ibe25c4aaf3aa7226f28ec60b8a929ecc143face1,Use yaml.safe_load instead of yaml.load,MERGED,2021-07-19 02:45:01.000000000,2021-09-02 02:29:19.000000000,2021-09-02 02:27:46.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-19 02:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/df460c9208efa497661738a5d6cf6f1328fc154c', 'message': 'yaml.load: Set Loader to avoid deprecation warning\n\nSince PyYAML 5.1, yaml.load without specifying the Loader option is\ndeprecated and shows the following warning.\n\nYAMLLoadWarning: calling yaml.load() without Loader=... is deprecated,\nas the default Loader is unsafe.\nPlease read https://msg.pyyaml.org/load for full details.\n\nThis change adds the Loader option to get rid of that warning message.\n\nChange-Id: Ibe25c4aaf3aa7226f28ec60b8a929ecc143face1\n'}, {'number': 2, 'created': '2021-07-19 04:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/ab2fe000c13475e3366515dc428f523deb119351', 'message': 'yaml.load: Set Loader to avoid deprecation warning\n\nSince PyYAML 5.1, yaml.load without specifying the Loader option is\ndeprecated and shows the following warning.\n\nYAMLLoadWarning: calling yaml.load() without Loader=... is deprecated,\nas the default Loader is unsafe.\nPlease read https://msg.pyyaml.org/load for full details.\n\nThis change adds the Loader option to get rid of that warning message.\n\nChange-Id: Ibe25c4aaf3aa7226f28ec60b8a929ecc143face1\n'}, {'number': 3, 'created': '2021-09-01 08:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/b0c7fbc12346762ae3aa0cd92864a53d03f745d3', 'message': 'yaml.load: Set Loader to avoid deprecation warning\n\nSince PyYAML 5.1, yaml.load without specifying the Loader option is\ndeprecated and shows the following warning.\n\nYAMLLoadWarning: calling yaml.load() without Loader=... is deprecated,\nas the default Loader is unsafe.\nPlease read https://msg.pyyaml.org/load for full details.\n\nThis change adds the Loader option to get rid of that warning message.\n\nChange-Id: Ibe25c4aaf3aa7226f28ec60b8a929ecc143face1\n'}, {'number': 4, 'created': '2021-09-01 08:55:11.000000000', 'files': ['neutronclient/tests/functional/core/test_cli_formatter.py', 'neutronclient/tests/unit/test_cli20.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/f83108d85874a87e47b51af3eebc9faeeb11faa0', 'message': 'Use yaml.safe_load instead of yaml.load\n\nSince PyYAML 5.1, yaml.load without specifying the Loader option is\ndeprecated and shows the following warning.\n\nYAMLLoadWarning: calling yaml.load() without Loader=... is deprecated,\nas the default Loader is unsafe.\nPlease read https://msg.pyyaml.org/load for full details.\n\nThis change replaces usage of yaml.load by yaml.safe_load, to get rid\nof that warning message.\n\nChange-Id: Ibe25c4aaf3aa7226f28ec60b8a929ecc143face1\n'}]",3,801224,f83108d85874a87e47b51af3eebc9faeeb11faa0,19,3,4,9816,,,0,"Use yaml.safe_load instead of yaml.load

Since PyYAML 5.1, yaml.load without specifying the Loader option is
deprecated and shows the following warning.

YAMLLoadWarning: calling yaml.load() without Loader=... is deprecated,
as the default Loader is unsafe.
Please read https://msg.pyyaml.org/load for full details.

This change replaces usage of yaml.load by yaml.safe_load, to get rid
of that warning message.

Change-Id: Ibe25c4aaf3aa7226f28ec60b8a929ecc143face1
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/24/801224/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutronclient/tests/functional/core/test_cli_formatter.py', 'neutronclient/tests/unit/test_cli20.py']",2,df460c9208efa497661738a5d6cf6f1328fc154c,yaml.load," data = yaml.load(self.fake_stdout.make_string(), yaml.Loader=FullLoader) data = yaml.load(''.join(self.fake_stdout.content), yaml.Loader=FullLoader) data = yaml.load(''.join(self.fake_stdout.content), yaml.Loader=FullLoader)", data = yaml.load(self.fake_stdout.make_string()) data = yaml.load(''.join(self.fake_stdout.content)) data = yaml.load(''.join(self.fake_stdout.content)),7,4
openstack%2Fnova~master~I131362ade8bc0e8423d3fe8206ab2cc4da98d378,openstack/nova,master,I131362ade8bc0e8423d3fe8206ab2cc4da98d378,tests: Address nits for configurable-instance-hostnames series,MERGED,2021-08-31 12:22:50.000000000,2021-09-02 02:06:19.000000000,2021-08-31 21:38:07.000000000,"[{'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-31 12:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27930cc6ffbe4ad07fff2f858e91ccb643245094', 'message': ""tests: Address nits for configurable-instance-hostnames series\n\nCheck that we return a 'OS-EXT-SRV-ATTR:hostname' value in responses to\nserver rebuild requests\n\nChange-Id: I131362ade8bc0e8423d3fe8206ab2cc4da98d378\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-08-31 16:26:10.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fa35cfa9983e098455d9dfc1daa87f8be4cf57d4', 'message': ""tests: Address nits for configurable-instance-hostnames series\n\nCheck that we return a 'OS-EXT-SRV-ATTR:hostname' value in responses to\nserver rebuild requests\n\nChange-Id: I131362ade8bc0e8423d3fe8206ab2cc4da98d378\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,806735,fa35cfa9983e098455d9dfc1daa87f8be4cf57d4,19,5,2,15334,,,0,"tests: Address nits for configurable-instance-hostnames series

Check that we return a 'OS-EXT-SRV-ATTR:hostname' value in responses to
server rebuild requests

Change-Id: I131362ade8bc0e8423d3fe8206ab2cc4da98d378
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/806735/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/api/openstack/compute/test_servers.py'],1,27930cc6ffbe4ad07fff2f858e91ccb643245094,bp/configurable-instance-hostnames," server = self.controller._action_rebuild( # ...and check for the presence of *a* hostname field in the response self.assertIn('OS-EXT-SRV-ATTR:hostname', server) ", self.controller._action_rebuild(,4,1
openstack%2Fskyline-console~master~I05712cf5dd3d071b99d632aacff551c2702ad5b7,openstack/skyline-console,master,I05712cf5dd3d071b99d632aacff551c2702ad5b7,fix: Fix 'enabled' when edit project,MERGED,2021-09-01 10:17:52.000000000,2021-09-02 02:01:58.000000000,2021-09-02 02:01:58.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-09-01 10:17:52.000000000', 'files': ['src/pages/identity/containers/Project/actions/Edit.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/c79ae9b9f14f7dca9e1aeec52bf32fb8923a9134', 'message': ""fix: Fix 'enabled' when edit project\n\nfix 'enabled' when edit project\n\nChange-Id: I05712cf5dd3d071b99d632aacff551c2702ad5b7\n""}]",0,806885,c79ae9b9f14f7dca9e1aeec52bf32fb8923a9134,6,2,1,33636,,,0,"fix: Fix 'enabled' when edit project

fix 'enabled' when edit project

Change-Id: I05712cf5dd3d071b99d632aacff551c2702ad5b7
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/85/806885/1 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/identity/containers/Project/actions/Edit.jsx'],1,c79ae9b9f14f7dca9e1aeec52bf32fb8923a9134,," return { name, description, enabled, };"," if (name && this.formRef.current) { this.formRef.current.setFieldsValue({ name, description, enabled: statusTypes.filter((it) => it.value === enabled), }); } return {}; isWrappedValue: true,",5,9
openstack%2Fskyline-console~master~Idebf3504a07a8287cf7b34e5ed6f1008998c5330,openstack/skyline-console,master,Idebf3504a07a8287cf7b34e5ed6f1008998c5330,fix: Fix for lb status render,MERGED,2021-09-01 10:06:25.000000000,2021-09-02 01:53:43.000000000,2021-09-02 01:53:43.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-09-01 10:06:25.000000000', 'files': ['src/pages/network/containers/LoadBalancers/Listener/index.jsx', 'src/locales/en.json', 'src/locales/zh.json', 'src/pages/network/containers/LoadBalancers/Listener/Detail/Member/index.jsx', 'src/pages/network/containers/LoadBalancers/LoadBalancerInstance/Detail/index.jsx', 'src/resources/lb.js', 'src/pages/network/containers/LoadBalancers/LoadBalancerInstance/index.jsx', 'src/components/Status/index.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/e1b289385c20d4659cbe0b58b25430279ac2e272', 'message': 'fix: Fix for lb status render\n\nfix for lb status render\n\nChange-Id: Idebf3504a07a8287cf7b34e5ed6f1008998c5330\n'}]",0,806883,e1b289385c20d4659cbe0b58b25430279ac2e272,6,2,1,33636,,,0,"fix: Fix for lb status render

fix for lb status render

Change-Id: Idebf3504a07a8287cf7b34e5ed6f1008998c5330
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/83/806883/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/network/containers/LoadBalancers/Listener/index.jsx', 'src/locales/en.json', 'src/locales/zh.json', 'src/pages/network/containers/LoadBalancers/Listener/Detail/Member/index.jsx', 'src/pages/network/containers/LoadBalancers/LoadBalancerInstance/Detail/index.jsx', 'src/resources/lb.js', 'src/pages/network/containers/LoadBalancers/LoadBalancerInstance/index.jsx', 'src/components/Status/index.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/index.jsx']",9,e1b289385c20d4659cbe0b58b25430279ac2e272,,"import { provisioningStatusCodes } from 'resources/lb'; render: (t) => provisioningStatusCodes[t],",,58,1
openstack%2Fskyline-console~master~I82805e2d408de21c8026c59f90a9a1addd823d67,openstack/skyline-console,master,I82805e2d408de21c8026c59f90a9a1addd823d67,fix: Fix for project tag filter & switch project,MERGED,2021-09-01 08:58:15.000000000,2021-09-02 01:53:24.000000000,2021-09-02 01:53:24.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-09-01 08:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/4f51e7f5264c35f729bc6412980198db46a52cd9', 'message': 'fix: Fix for project tag filter & switch project\n\n1. fix for project tag filter\n2. can not switch to project that disabled\n\nChange-Id: I82805e2d408de21c8026c59f90a9a1addd823d67\n'}, {'number': 2, 'created': '2021-09-01 09:59:13.000000000', 'files': ['src/pages/identity/containers/Project/index.jsx', 'src/components/Layout/GlobalHeader/ProjectTable.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/b2f798a3590e3aeca082d43c7ed39911aeef08eb', 'message': 'fix: Fix for project tag filter & switch project\n\n1. fix for project tag filter\n2. can not switch to project that disabled\n\nChange-Id: I82805e2d408de21c8026c59f90a9a1addd823d67\n'}]",0,806873,b2f798a3590e3aeca082d43c7ed39911aeef08eb,9,2,2,33636,,,0,"fix: Fix for project tag filter & switch project

1. fix for project tag filter
2. can not switch to project that disabled

Change-Id: I82805e2d408de21c8026c59f90a9a1addd823d67
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/73/806873/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/identity/containers/Project/index.jsx', 'src/components/Layout/GlobalHeader/ProjectTable.jsx']",2,4f51e7f5264c35f729bc6412980198db46a52cd9,,"import globalUserStore from 'stores/keystone/user'; init() { this.getAllUserProjects(); } async getAllUserProjects() { await globalUserStore.getUserProjects(); } const { data: projects } = globalUserStore.userProjects; const items = projects .map((project) => { const { id, ...rest } = project; return { id, projectId: id, ...rest, isLoading: globalUserStore.userProjects.isLoading, disabledFunc: (record) => !record.enabled,","import { toJS } from 'mobx'; init() {} const { projects = {} } = this.user || {}; const items = Object.keys(toJS(projects) || {}) .map((key) => { const { name, domain_id } = projects[key]; return { id: key, projectId: key, name, domain_id,",21,12
openstack%2Fneutron~master~I78af15970a86923fb810e903d38634b6e60a8fe4,openstack/neutron,master,I78af15970a86923fb810e903d38634b6e60a8fe4,Fix neutron_pg_drop-related startup issues,MERGED,2021-09-01 14:26:18.000000000,2021-09-02 01:35:12.000000000,2021-09-01 22:44:20.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-01 14:26:18.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/76ee64f4a8095ba207872d5de9613f93f208fdd4', 'message': ""Fix neutron_pg_drop-related startup issues\n\nThere is a python-ovs bug that allows transactions to be executed\nbefore it has started monitoring the db for changes. This breaks\novsdbapp's AddCommand behavior, which looks up a row in memory\npost-commit to return it to the caller, because we process the\nreply from ovsdb-server that has the UUID in it, but when we try to\nlook it up in memory, it isn't there since that is handled via the\nmonitor notifications.\n\nSince we don't care about the return value, we can just ignore the\nKeyError. In addition, the request to Idl.cond_change() to monitor\nonly the neutron_pg_drop table was failing for a similar reason--\nit is called before the initial monitor request is sent, so\ndirectly setting table.condition will allow the condition to be\nadded to the initial monitor request.\n\nCloses-Bug: #1938766\nChange-Id: I78af15970a86923fb810e903d38634b6e60a8fe4\n""}]",3,806938,76ee64f4a8095ba207872d5de9613f93f208fdd4,19,4,1,5756,,,0,"Fix neutron_pg_drop-related startup issues

There is a python-ovs bug that allows transactions to be executed
before it has started monitoring the db for changes. This breaks
ovsdbapp's AddCommand behavior, which looks up a row in memory
post-commit to return it to the caller, because we process the
reply from ovsdb-server that has the UUID in it, but when we try to
look it up in memory, it isn't there since that is handled via the
monitor notifications.

Since we don't care about the return value, we can just ignore the
KeyError. In addition, the request to Idl.cond_change() to monitor
only the neutron_pg_drop table was failing for a similar reason--
it is called before the initial monitor request is sent, so
directly setting table.condition will allow the condition to be
added to the initial monitor request.

Closes-Bug: #1938766
Change-Id: I78af15970a86923fb810e903d38634b6e60a8fe4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/806938/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",2,76ee64f4a8095ba207872d5de9613f93f208fdd4,," except KeyError: # Due to a bug in python-ovs, we can send transactions before # the initial OVSDB is populated in memory. This can break # the AddCommand post_commit method which tries to return a # row looked up by the newly commited row's uuid. Since we # don't care about the return value from the PgAddCommand, we # can just catch the KeyError and continue. This can be # removed when the python-ovs bug is resolved. pass",,14,3
openstack%2Frequirements~master~I9a06ca1773b690a5eef51e9fff90ecca7f968167,openstack/requirements,master,I9a06ca1773b690a5eef51e9fff90ecca7f968167,update constraint for python-glanceclient to new release 3.5.0,MERGED,2021-09-01 18:28:07.000000000,2021-09-02 01:33:29.000000000,2021-09-02 01:31:45.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-01 18:28:07.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/185b1544661f393f105dcb03bc38a991eab46f64', 'message': 'update constraint for python-glanceclient to new release 3.5.0\n\nmeta: version: 3.5.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I41a47fac39a275db84a1d97d333013c89777a935\nmeta: release:Code-Review+1: Abhishek Kekane <akekane@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I9a06ca1773b690a5eef51e9fff90ecca7f968167\n'}]",0,806966,185b1544661f393f105dcb03bc38a991eab46f64,14,3,1,11131,,,0,"update constraint for python-glanceclient to new release 3.5.0

meta: version: 3.5.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I41a47fac39a275db84a1d97d333013c89777a935
meta: release:Code-Review+1: Abhishek Kekane <akekane@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I9a06ca1773b690a5eef51e9fff90ecca7f968167
",git fetch https://review.opendev.org/openstack/requirements refs/changes/66/806966/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,185b1544661f393f105dcb03bc38a991eab46f64,new-release,python-glanceclient===3.5.0,python-glanceclient===3.4.0,1,1
openstack%2Frequirements~master~I95ec3f242b09f5d432a4136f4d694a6eca6730c8,openstack/requirements,master,I95ec3f242b09f5d432a4136f4d694a6eca6730c8,update constraint for python-watcherclient to new release 3.3.0,MERGED,2021-09-01 19:21:18.000000000,2021-09-02 00:19:36.000000000,2021-09-02 00:16:41.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-01 19:21:18.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/604a33e1a3e4dec7f486ec5241c7a915ec9ae6be', 'message': 'update constraint for python-watcherclient to new release 3.3.0\n\nmeta: version: 3.3.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I43742e4df4717707df42d87111b7ad3f7314e1ec\nmeta: release:Code-Review+1: chenker <chen.ke14@zte.com.cn>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I95ec3f242b09f5d432a4136f4d694a6eca6730c8\n'}]",0,806974,604a33e1a3e4dec7f486ec5241c7a915ec9ae6be,11,3,1,11131,,,0,"update constraint for python-watcherclient to new release 3.3.0

meta: version: 3.3.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I43742e4df4717707df42d87111b7ad3f7314e1ec
meta: release:Code-Review+1: chenker <chen.ke14@zte.com.cn>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I95ec3f242b09f5d432a4136f4d694a6eca6730c8
",git fetch https://review.opendev.org/openstack/requirements refs/changes/74/806974/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,604a33e1a3e4dec7f486ec5241c7a915ec9ae6be,new-release,python-watcherclient===3.3.0,python-watcherclient===3.2.0,1,1
openstack%2Frequirements~master~I443755f7092ae6ee63f9cdcc7c3317486a204dc3,openstack/requirements,master,I443755f7092ae6ee63f9cdcc7c3317486a204dc3,update constraint for python-openstackclient to new release 5.6.0,MERGED,2021-09-01 19:24:59.000000000,2021-09-02 00:18:10.000000000,2021-09-02 00:16:39.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-01 19:24:59.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/cb1508957d95df89c2d94ad4edb160ca8cf0a145', 'message': 'update constraint for python-openstackclient to new release 5.6.0\n\nmeta: version: 5.6.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Artem Goncharov <Artem.goncharov@gmail.com>\nmeta: release:Commit: Artem Goncharov <Artem.goncharov@gmail.com>\nmeta: release:Change-Id: I2e26c49ef0428e77da09c86890d63912f3af722b\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I443755f7092ae6ee63f9cdcc7c3317486a204dc3\n'}]",0,806976,cb1508957d95df89c2d94ad4edb160ca8cf0a145,9,3,1,11131,,,0,"update constraint for python-openstackclient to new release 5.6.0

meta: version: 5.6.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Artem Goncharov <Artem.goncharov@gmail.com>
meta: release:Commit: Artem Goncharov <Artem.goncharov@gmail.com>
meta: release:Change-Id: I2e26c49ef0428e77da09c86890d63912f3af722b
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I443755f7092ae6ee63f9cdcc7c3317486a204dc3
",git fetch https://review.opendev.org/openstack/requirements refs/changes/76/806976/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,cb1508957d95df89c2d94ad4edb160ca8cf0a145,new-release,python-openstackclient===5.6.0,python-openstackclient===5.5.0,1,1
openstack%2Frequirements~stable%2Fwallaby~I0c7909d993d9867d8167f38da501071fd0192d3c,openstack/requirements,stable/wallaby,I0c7909d993d9867d8167f38da501071fd0192d3c,update constraint for python-openstackclient to new release 5.5.1,MERGED,2021-09-01 19:10:51.000000000,2021-09-02 00:16:38.000000000,2021-09-02 00:16:38.000000000,"[{'_account_id': 1955}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-01 19:10:51.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/00efe860da9f08b22dfa7ee56412f95a909e7c0c', 'message': 'update constraint for python-openstackclient to new release 5.5.1\n\nmeta: version: 5.5.1\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Javier Pena <jpena@redhat.com>\nmeta: release:Commit: Javier Pena <jpena@redhat.com>\nmeta: release:Change-Id: I4372568fde58319c5d96ca0614411d96a98c562f\nmeta: release:Code-Review+1: Artem Goncharov <artem.goncharov@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I0c7909d993d9867d8167f38da501071fd0192d3c\n'}]",0,806971,00efe860da9f08b22dfa7ee56412f95a909e7c0c,9,4,1,11131,,,0,"update constraint for python-openstackclient to new release 5.5.1

meta: version: 5.5.1
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Javier Pena <jpena@redhat.com>
meta: release:Commit: Javier Pena <jpena@redhat.com>
meta: release:Change-Id: I4372568fde58319c5d96ca0614411d96a98c562f
meta: release:Code-Review+1: Artem Goncharov <artem.goncharov@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I0c7909d993d9867d8167f38da501071fd0192d3c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/71/806971/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,00efe860da9f08b22dfa7ee56412f95a909e7c0c,new-release,python-openstackclient===5.5.1,python-openstackclient===5.5.0,1,1
openstack%2Frequirements~stable%2Fwallaby~I9eeaa63b86dcfcc719a34573d633fbd8e65e00f0,openstack/requirements,stable/wallaby,I9eeaa63b86dcfcc719a34573d633fbd8e65e00f0,update constraint for python-cinderclient to new release 7.4.1,MERGED,2021-09-01 18:34:28.000000000,2021-09-02 00:16:36.000000000,2021-09-02 00:16:36.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-01 18:34:28.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4c90120aa7f807eda17a119d31e8b84004a99f81', 'message': 'update constraint for python-cinderclient to new release 7.4.1\n\nmeta: version: 7.4.1\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: whoami-rajat <rajatdhasmana@gmail.com>\nmeta: release:Commit: Rajat Dhasmana <rajatdhasmana@gmail.com>\nmeta: release:Change-Id: Icbd82c6841d443d8f008f29e7ef95bd207da3e20\nmeta: release:Code-Review+1: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I9eeaa63b86dcfcc719a34573d633fbd8e65e00f0\n'}]",0,806970,4c90120aa7f807eda17a119d31e8b84004a99f81,8,3,1,11131,,,0,"update constraint for python-cinderclient to new release 7.4.1

meta: version: 7.4.1
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: whoami-rajat <rajatdhasmana@gmail.com>
meta: release:Commit: Rajat Dhasmana <rajatdhasmana@gmail.com>
meta: release:Change-Id: Icbd82c6841d443d8f008f29e7ef95bd207da3e20
meta: release:Code-Review+1: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I9eeaa63b86dcfcc719a34573d633fbd8e65e00f0
",git fetch https://review.opendev.org/openstack/requirements refs/changes/70/806970/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4c90120aa7f807eda17a119d31e8b84004a99f81,new-release,python-cinderclient===7.4.1,python-cinderclient===7.4.0,1,1
openstack%2Frequirements~stable%2Fwallaby~I36ba6aaa3bef25a22dfe12a033dacdf2a20687d5,openstack/requirements,stable/wallaby,I36ba6aaa3bef25a22dfe12a033dacdf2a20687d5,update constraint for os-brick to new release 4.3.2,MERGED,2021-09-01 18:33:29.000000000,2021-09-01 23:58:58.000000000,2021-09-01 23:58:58.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-01 18:33:29.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/952778ad1f33e3c84f4bd013c766c292d3b372e8', 'message': 'update constraint for os-brick to new release 4.3.2\n\nmeta: version: 4.3.2\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: whoami-rajat <rajatdhasmana@gmail.com>\nmeta: release:Commit: Rajat Dhasmana <rajatdhasmana@gmail.com>\nmeta: release:Change-Id: Icbd82c6841d443d8f008f29e7ef95bd207da3e20\nmeta: release:Code-Review+1: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I36ba6aaa3bef25a22dfe12a033dacdf2a20687d5\n'}]",0,806969,952778ad1f33e3c84f4bd013c766c292d3b372e8,8,3,1,11131,,,0,"update constraint for os-brick to new release 4.3.2

meta: version: 4.3.2
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: whoami-rajat <rajatdhasmana@gmail.com>
meta: release:Commit: Rajat Dhasmana <rajatdhasmana@gmail.com>
meta: release:Change-Id: Icbd82c6841d443d8f008f29e7ef95bd207da3e20
meta: release:Code-Review+1: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I36ba6aaa3bef25a22dfe12a033dacdf2a20687d5
",git fetch https://review.opendev.org/openstack/requirements refs/changes/69/806969/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,952778ad1f33e3c84f4bd013c766c292d3b372e8,new-release,os-brick===4.3.2,os-brick===4.3.1,1,1
openstack%2Fpython-brick-cinderclient-ext~master~I1c009fe2a29bdb0f0fccecf60c81af60624034e2,openstack/python-brick-cinderclient-ext,master,I1c009fe2a29bdb0f0fccecf60c81af60624034e2,Enable tls-proxy support in test job,MERGED,2021-06-17 08:07:55.000000000,2021-09-01 23:33:57.000000000,2021-09-01 23:29:54.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-06-17 08:07:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-brick-cinderclient-ext/commit/208bbea871cb35c10c2b5594b75453eab3d00a55', 'message': 'Enable tls-proxy support in test job\n\nChange-Id: I1c009fe2a29bdb0f0fccecf60c81af60624034e2\n'}]",0,796787,208bbea871cb35c10c2b5594b75453eab3d00a55,16,5,1,12404,,,0,"Enable tls-proxy support in test job

Change-Id: I1c009fe2a29bdb0f0fccecf60c81af60624034e2
",git fetch https://review.opendev.org/openstack/python-brick-cinderclient-ext refs/changes/87/796787/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,208bbea871cb35c10c2b5594b75453eab3d00a55,exame-tls-proxy,, tls-proxy: false,0,1
openstack%2Fpython-brick-cinderclient-ext~master~I380a139a684b5f8cd23958323ef2c40af9708d29,openstack/python-brick-cinderclient-ext,master,I380a139a684b5f8cd23958323ef2c40af9708d29,Changed minversion in tox to 3.18.0,MERGED,2021-06-24 09:10:55.000000000,2021-09-01 23:32:40.000000000,2021-09-01 23:29:45.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-24 09:10:55.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-brick-cinderclient-ext/commit/eba112c2f2de594f777594abf7b82dd6ad31a8b2', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I380a139a684b5f8cd23958323ef2c40af9708d29\n""}]",0,797856,eba112c2f2de594f777594abf7b82dd6ad31a8b2,14,4,1,30615,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I380a139a684b5f8cd23958323ef2c40af9708d29
",git fetch https://review.opendev.org/openstack/python-brick-cinderclient-ext refs/changes/56/797856/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,eba112c2f2de594f777594abf7b82dd6ad31a8b2,,minversion = 3.18.0allowlist_externals = find,minversion = 3.1.0whitelist_externals = find,2,2
openstack%2Fneutron~master~I026ac8ea9c35a425470a2eaede35b3bfeba259c3,openstack/neutron,master,I026ac8ea9c35a425470a2eaede35b3bfeba259c3,ovn: Consider all router ports in is_lsp_router_port(),MERGED,2021-08-27 15:12:05.000000000,2021-09-01 23:18:44.000000000,2021-09-01 17:05:53.000000000,"[{'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-08-27 15:12:05.000000000', 'files': ['neutron/common/ovn/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/903e66e8e73600fcc251fb5e8ad85d88171bf95b', 'message': 'ovn: Consider all router ports in is_lsp_router_port()\n\nThe function considered only device owners known to OVN. On migrated\nenvironments the device owner could be different. The codebase contains\na constant tuple containing all router port device owners. This patch\nuses the constant instead.\n\nChange-Id: I026ac8ea9c35a425470a2eaede35b3bfeba259c3\nCloses-bug: #1941902\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n'}]",0,806424,903e66e8e73600fcc251fb5e8ad85d88171bf95b,44,6,1,8655,,,0,"ovn: Consider all router ports in is_lsp_router_port()

The function considered only device owners known to OVN. On migrated
environments the device owner could be different. The codebase contains
a constant tuple containing all router port device owners. This patch
uses the constant instead.

Change-Id: I026ac8ea9c35a425470a2eaede35b3bfeba259c3
Closes-bug: #1941902
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/806424/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/common/ovn/utils.py'],1,903e66e8e73600fcc251fb5e8ad85d88171bf95b,bug/1941902, return port.get('device_owner') in const.ROUTER_PORT_OWNERS," return port.get('device_owner') in [const.DEVICE_OWNER_ROUTER_INTF, const.DEVICE_OWNER_ROUTER_GW]",1,2
openstack%2Fpython-brick-cinderclient-ext~master~I8d29322460f901b0f034d8f08d109a06f9255df4,openstack/python-brick-cinderclient-ext,master,I8d29322460f901b0f034d8f08d109a06f9255df4,Dropping lower constraints testing,MERGED,2021-05-02 01:30:51.000000000,2021-09-01 23:09:11.000000000,2021-09-01 23:05:05.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-05-02 01:30:51.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-brick-cinderclient-ext/commit/e2aa5a8b1684ca5f36deb3aca8d7ad14dcdbea33', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I8d29322460f901b0f034d8f08d109a06f9255df4\n'}]",0,789066,e2aa5a8b1684ca5f36deb3aca8d7ad14dcdbea33,16,3,1,30384,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I8d29322460f901b0f034d8f08d109a06f9255df4
",git fetch https://review.opendev.org/openstack/python-brick-cinderclient-ext refs/changes/66/789066/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,e2aa5a8b1684ca5f36deb3aca8d7ad14dcdbea33,drop-l-c,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,17
openstack%2Ftripleo-heat-templates~master~Iaadee6be4e1eaf4170ee548b6fdb2c92b69dbc56,openstack/tripleo-heat-templates,master,Iaadee6be4e1eaf4170ee548b6fdb2c92b69dbc56,Environment for switching to using IPs for memcached,MERGED,2021-08-25 07:21:26.000000000,2021-09-01 22:57:42.000000000,2021-09-01 22:57:42.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9816}, {'_account_id': 9976}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30742}]","[{'number': 1, 'created': '2021-08-25 07:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b46342cbd9e8e7856df8b6f01510435adaad071c', 'message': 'Environment for switching to using IPs for memcached\n\nChange-Id: Iaadee6be4e1eaf4170ee548b6fdb2c92b69dbc56\n'}, {'number': 2, 'created': '2021-08-26 20:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/293bf610b9714228b2c71e7ef1ca5978701c0d41', 'message': 'Environment for switching to using IPs for memcached\n\nRelated-Bug: #1939023\nChange-Id: Iaadee6be4e1eaf4170ee548b6fdb2c92b69dbc56\n'}, {'number': 3, 'created': '2021-08-27 07:51:33.000000000', 'files': ['environments/memcached-use-ips.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1ce490716d3ff0a1bb2f958a0d2d96bc2257ea7d', 'message': 'Environment for switching to using IPs for memcached\n\nRelated-Bug: #1939023\nChange-Id: Iaadee6be4e1eaf4170ee548b6fdb2c92b69dbc56\n'}]",10,805952,1ce490716d3ff0a1bb2f958a0d2d96bc2257ea7d,30,10,3,14250,,,0,"Environment for switching to using IPs for memcached

Related-Bug: #1939023
Change-Id: Iaadee6be4e1eaf4170ee548b6fdb2c92b69dbc56
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/805952/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/memcached-use-ips.yaml'],1,b46342cbd9e8e7856df8b6f01510435adaad071c,,"# A Heat environment file to use IP addresses instead of FQDNs. # This might be a valid workaround for timeouts if ipv6 is used with an # external DNS. parameter_defaults: ExtraConfig: memcached_node_names: - ""{{memcached_node_ips.0}}"" - ""{{memcached_node_ips.1}}"" - ""{{memcached_node_ips.2}}"" ",,9,0
openstack%2Fmanila~stable%2Fwallaby~I2c4c8f1788471d51b72fa1e1e4434d3a9dba595b,openstack/manila,stable/wallaby,I2c4c8f1788471d51b72fa1e1e4434d3a9dba595b,Add documentation for share server limits,MERGED,2021-08-31 07:13:19.000000000,2021-09-01 22:18:42.000000000,2021-09-01 22:17:10.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30407}]","[{'number': 1, 'created': '2021-08-31 07:13:19.000000000', 'files': ['doc/source/admin/shared-file-systems-share-server-management.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/2e4ac3f4bfff4afe8daca43dc1f9c7917d85c5ed', 'message': 'Add documentation for share server limits\n\nUpdates the manila administrator reference in order to include more\ninformation for the new share server limits\n``max_share_server_size`` and ``max_shares_per_share_server``.\n\nChange-Id: I2c4c8f1788471d51b72fa1e1e4434d3a9dba595b\nCloses-Bug: #1923486\n(cherry picked from commit 05256befb1d4b4c092f8aebc6ea458f4d39a54a0)\n'}]",0,806690,2e4ac3f4bfff4afe8daca43dc1f9c7917d85c5ed,11,5,1,16643,,,0,"Add documentation for share server limits

Updates the manila administrator reference in order to include more
information for the new share server limits
``max_share_server_size`` and ``max_shares_per_share_server``.

Change-Id: I2c4c8f1788471d51b72fa1e1e4434d3a9dba595b
Closes-Bug: #1923486
(cherry picked from commit 05256befb1d4b4c092f8aebc6ea458f4d39a54a0)
",git fetch https://review.opendev.org/openstack/manila refs/changes/90/806690/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/shared-file-systems-share-server-management.rst'],1,2e4ac3f4bfff4afe8daca43dc1f9c7917d85c5ed,bug/1923486," =========================================== Share server limits (Since Wallaby release) =========================================== Since Wallaby release, it is possible to specify limits for share servers size and amount of instances. It helps administrators to provision their resources in the cloud system and balance the share servers' size. If a value is not configured, there is no behavioral change and manila will consider it as unlimited. Then, will reuse share servers regardless their size and amount of built instances. - ``max_share_server_size``: Maximum sum of gigabytes a share server can have considering all its share instances and snapshots. - ``max_shares_per_share_server``: Maximum number of share instances created in a share server. .. note:: If one of these limits is reached during a request that requires a share server to be provided, manila will create a new share server to place such request.",,22,0
openstack%2Fnova~master~I7a59c29f27dc16a0a2b3bb688a52da3c962a0b1b,openstack/nova,master,I7a59c29f27dc16a0a2b3bb688a52da3c962a0b1b,Remove module level caching,MERGED,2021-08-27 11:34:52.000000000,2021-09-01 22:08:49.000000000,2021-08-31 14:52:54.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-27 11:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c557948de20267dc0fdbc95ea7eb612b93b0099', 'message': 'remove module level caching\n\nThis change removes the module level caches\n_MIGRATE_REPO and _ALEMBIC_CONF from nova.db.migration\n\nThese caches are not correctly rest in current testing\nand dont currently provide much value as it is atypical\nfor db_sync or db version to be invoke multiple times outside\nof tests within the same process. As such the caches will typically\nbe empty.\n\nChange-Id: I7a59c29f27dc16a0a2b3bb688a52da3c962a0b1b\n'}, {'number': 2, 'created': '2021-08-27 16:19:24.000000000', 'files': ['nova/db/migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cf07df57e7ab8428a2e06940fb6b7952e579dd65', 'message': 'Remove module level caching\n\nThis change removes the module level caches\n_MIGRATE_REPO and _ALEMBIC_CONF from nova.db.migration\n\nThese caches are not correctly reset in current testing\nand dont currently provide much value as it is atypical\nfor db_sync or db_version to be invoked multiple times outside\nof tests within the same process. As such the caches will typically\nbe empty.\n\nChange-Id: I7a59c29f27dc16a0a2b3bb688a52da3c962a0b1b\n'}]",5,806394,cf07df57e7ab8428a2e06940fb6b7952e579dd65,27,3,2,11604,,,0,"Remove module level caching

This change removes the module level caches
_MIGRATE_REPO and _ALEMBIC_CONF from nova.db.migration

These caches are not correctly reset in current testing
and dont currently provide much value as it is atypical
for db_sync or db_version to be invoked multiple times outside
of tests within the same process. As such the caches will typically
be empty.

Change-Id: I7a59c29f27dc16a0a2b3bb688a52da3c962a0b1b
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/806394/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/db/migration.py'],1,5c557948de20267dc0fdbc95ea7eb612b93b0099,bp/remove-sqlalchemy-migrate," return migrate_repository.Repository(path) config = alembic_config.Config(path) # we don't want to use the logger configuration from the file, which is # only really intended for the CLI # https://stackoverflow.com/a/42691781/613428 config.attributes['configure_logger'] = False return config","_MIGRATE_REPO = {} _ALEMBIC_CONF = {} global _MIGRATE_REPO if _MIGRATE_REPO.get(database) is None: _MIGRATE_REPO[database] = migrate_repository.Repository(path) return _MIGRATE_REPO[database] """"""Get the path for the alembic repository."""""" global _ALEMBIC_CONF if _ALEMBIC_CONF.get(database) is None: config = alembic_config.Config(path) # we don't want to use the logger configuration from the file, which is # only really intended for the CLI # https://stackoverflow.com/a/42691781/613428 config.attributes['configure_logger'] = False _ALEMBIC_CONF[database] = config return _ALEMBIC_CONF[database]",7,20
openstack%2Ftripleo-ansible~master~I264624683ef8d8c279073ac820ed73b13dd0f2b5,openstack/tripleo-ansible,master,I264624683ef8d8c279073ac820ed73b13dd0f2b5,Create /etc/cni/net.d if it does not exist,MERGED,2021-08-27 15:52:05.000000000,2021-09-01 21:59:04.000000000,2021-09-01 21:59:04.000000000,"[{'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-27 15:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/98e5c0b4f7a42c020429992b2373f9cc32241cb5', 'message': 'DNM/WIP test ignore a cni/net.d error\n\nChange-Id: I264624683ef8d8c279073ac820ed73b13dd0f2b5\n'}, {'number': 2, 'created': '2021-09-01 12:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/55a471ef37105d9303f52bdc259a6ed4e906a2f7', 'message': 'Ignore error if /etc/cni/net.d does not exist\n\nWith podman 3.3 /etc/cni/net.d is not shipped by default on new\ninstallations (it is only kept around when upgrading rpms. See\n[1] for reference).\n\nTo avoid the following error we can ignore it if the base folder does\nnot exist:\n2021-09-01 11:21:36.206658 | 52540091-d4aa-1b13-79a6-000000000a52 |      FATAL | Update default network configuration if possible | undercloud-0 | error={""changed"": false, ""checksum"": ""ece5f2caab61ae83ae546c73ae36f95ff219a2c8"", ""msg"": ""Destination directory /etc/cni/net.d does not exist""}\n\n[1] https://git.centos.org/rpms/podman/c/89639c19dfff7506d6fd9e3c828026f2b91725d1?branch=c8s-stream-rhel8\n\nChange-Id: I264624683ef8d8c279073ac820ed73b13dd0f2b5\n'}, {'number': 3, 'created': '2021-09-01 13:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4462ce91eac4739d2e0f529ec85ebcfe0e5ff80f', 'message': 'Ignore error if /etc/cni/net.d does not exist\n\nWith podman 3.3 /etc/cni/net.d is not shipped by default on new\ninstallations (it is only kept around when upgrading rpms. See\n[1] for reference).\n\nTo avoid the following error we can ignore it if the base folder does\nnot exist:\n2021-09-01 11:21:36.206658 | 52540091-d4aa-1b13-79a6-000000000a52 |      FATAL | Update default network configuration if possible | undercloud-0 | error={""changed"": false, ""checksum"": ""ece5f2caab61ae83ae546c73ae36f95ff219a2c8"", ""msg"": ""Destination directory /etc/cni/net.d does not exist""}\n\n[1] https://git.centos.org/rpms/podman/c/89639c19dfff7506d6fd9e3c828026f2b91725d1?branch=c8s-stream-rhel8\n\nChange-Id: I264624683ef8d8c279073ac820ed73b13dd0f2b5\n'}, {'number': 4, 'created': '2021-09-01 14:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9c1ce7537a33479ed72f26f1e2b19016be7d3f38', 'message': 'Createf /etc/cni/net.d if it does not exist\n\nWith podman 3.3 /etc/cni/net.d is not shipped by default on new\ninstallations (it is only kept around when upgrading rpms. See\n[1] for reference).\n\nTo avoid the following error we just make sure it exists at all times:\n2021-09-01 11:21:36.206658 | 52540091-d4aa-1b13-79a6-000000000a52 |      FATAL | Update default network configuration if possible | undercloud-0 | error={""changed"": false, ""checksum"": ""ece5f2caab61ae83ae546c73ae36f95ff219a2c8"", ""msg"": ""Destination directory /etc/cni/net.d does not exist""}\n\nTested on centos9:\n2021-09-01 14:11:05.023124 | 52540007-257c-e8fb-c605-000000000a51 |       TASK | Delete legacy cni0 interface (podman < 1.6)\n2021-09-01 14:11:05.047931 | 52540007-257c-e8fb-c605-000000000a51 |    SKIPPED | Delete legacy cni0 interface (podman < 1.6) | undercloud-0^[[0m\n2021-09-01 14:11:05.048606 | 52540007-257c-e8fb-c605-000000000a51 |     TIMING | tripleo_podman : Delete legacy cni0 interface (podman < 1.6) | undercloud-0 | 0:01:53.699516 | 0.02s^[[0m\n2021-09-01 14:11:05.064588 | 52540007-257c-e8fb-c605-000000000a53 |       TASK | Make sure /etc/cni/net.d folder exists\n2021-09-01 14:11:05.236680 | 52540007-257c-e8fb-c605-000000000a53 |    CHANGED | Make sure /etc/cni/net.d folder exists | undercloud-0^[[0m\n2021-09-01 14:11:05.237553 | 52540007-257c-e8fb-c605-000000000a53 |     TIMING | tripleo_podman : Make sure /etc/cni/net.d folder exists | undercloud-0 | 0:01:53.888439 | 0.17s^[[0m\n2021-09-01 14:11:05.253416 | 52540007-257c-e8fb-c605-000000000a54 |       TASK | Update default network configuration if possible\n2021-09-01 14:11:05.594105 | 52540007-257c-e8fb-c605-000000000a54 |    CHANGED | Update default network configuration if possible | undercloud-0^[[0m\n2021-09-01 14:11:05.594957 | 52540007-257c-e8fb-c605-000000000a54 |     TIMING | tripleo_podman : Update default network configuration if possible | undercloud-0 | 0:01:54.245866 | 0.34s^[[0m\n\n[1] https://git.centos.org/rpms/podman/c/89639c19dfff7506d6fd9e3c828026f2b91725d1?branch=c8s-stream-rhel8\n\nChange-Id: I264624683ef8d8c279073ac820ed73b13dd0f2b5\n'}, {'number': 5, 'created': '2021-09-01 14:37:25.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dee317e454f0c512de4f3919f7225c6408f536f4', 'message': 'Create /etc/cni/net.d if it does not exist\n\nWith podman 3.3 /etc/cni/net.d is not shipped by default on new\ninstallations (it is only kept around when upgrading rpms. See\n[1] for reference).\n\nTo avoid the following error we just make sure it exists at all times:\n2021-09-01 11:21:36.206658 | 52540091-d4aa-1b13-79a6-000000000a52 |      FATAL | Update default network configuration if possible | undercloud-0 | error={""changed"": false, ""checksum"": ""ece5f2caab61ae83ae546c73ae36f95ff219a2c8"", ""msg"": ""Destination directory /etc/cni/net.d does not exist""}\n\nTested on centos9:\n2021-09-01 14:11:05.023124 | 52540007-257c-e8fb-c605-000000000a51 |       TASK | Delete legacy cni0 interface (podman < 1.6)\n2021-09-01 14:11:05.047931 | 52540007-257c-e8fb-c605-000000000a51 |    SKIPPED | Delete legacy cni0 interface (podman < 1.6) | undercloud-0^[[0m\n2021-09-01 14:11:05.048606 | 52540007-257c-e8fb-c605-000000000a51 |     TIMING | tripleo_podman : Delete legacy cni0 interface (podman < 1.6) | undercloud-0 | 0:01:53.699516 | 0.02s^[[0m\n2021-09-01 14:11:05.064588 | 52540007-257c-e8fb-c605-000000000a53 |       TASK | Make sure /etc/cni/net.d folder exists\n2021-09-01 14:11:05.236680 | 52540007-257c-e8fb-c605-000000000a53 |    CHANGED | Make sure /etc/cni/net.d folder exists | undercloud-0^[[0m\n2021-09-01 14:11:05.237553 | 52540007-257c-e8fb-c605-000000000a53 |     TIMING | tripleo_podman : Make sure /etc/cni/net.d folder exists | undercloud-0 | 0:01:53.888439 | 0.17s^[[0m\n2021-09-01 14:11:05.253416 | 52540007-257c-e8fb-c605-000000000a54 |       TASK | Update default network configuration if possible\n2021-09-01 14:11:05.594105 | 52540007-257c-e8fb-c605-000000000a54 |    CHANGED | Update default network configuration if possible | undercloud-0^[[0m\n2021-09-01 14:11:05.594957 | 52540007-257c-e8fb-c605-000000000a54 |     TIMING | tripleo_podman : Update default network configuration if possible | undercloud-0 | 0:01:54.245866 | 0.34s^[[0m\n\n[1] https://git.centos.org/rpms/podman/c/89639c19dfff7506d6fd9e3c828026f2b91725d1?branch=c8s-stream-rhel8\n\nChange-Id: I264624683ef8d8c279073ac820ed73b13dd0f2b5\n'}]",2,806428,dee317e454f0c512de4f3919f7225c6408f536f4,18,6,5,20172,,,0,"Create /etc/cni/net.d if it does not exist

With podman 3.3 /etc/cni/net.d is not shipped by default on new
installations (it is only kept around when upgrading rpms. See
[1] for reference).

To avoid the following error we just make sure it exists at all times:
2021-09-01 11:21:36.206658 | 52540091-d4aa-1b13-79a6-000000000a52 |      FATAL | Update default network configuration if possible | undercloud-0 | error={""changed"": false, ""checksum"": ""ece5f2caab61ae83ae546c73ae36f95ff219a2c8"", ""msg"": ""Destination directory /etc/cni/net.d does not exist""}

Tested on centos9:
2021-09-01 14:11:05.023124 | 52540007-257c-e8fb-c605-000000000a51 |       TASK | Delete legacy cni0 interface (podman < 1.6)
2021-09-01 14:11:05.047931 | 52540007-257c-e8fb-c605-000000000a51 |    SKIPPED | Delete legacy cni0 interface (podman < 1.6) | undercloud-0^[[0m
2021-09-01 14:11:05.048606 | 52540007-257c-e8fb-c605-000000000a51 |     TIMING | tripleo_podman : Delete legacy cni0 interface (podman < 1.6) | undercloud-0 | 0:01:53.699516 | 0.02s^[[0m
2021-09-01 14:11:05.064588 | 52540007-257c-e8fb-c605-000000000a53 |       TASK | Make sure /etc/cni/net.d folder exists
2021-09-01 14:11:05.236680 | 52540007-257c-e8fb-c605-000000000a53 |    CHANGED | Make sure /etc/cni/net.d folder exists | undercloud-0^[[0m
2021-09-01 14:11:05.237553 | 52540007-257c-e8fb-c605-000000000a53 |     TIMING | tripleo_podman : Make sure /etc/cni/net.d folder exists | undercloud-0 | 0:01:53.888439 | 0.17s^[[0m
2021-09-01 14:11:05.253416 | 52540007-257c-e8fb-c605-000000000a54 |       TASK | Update default network configuration if possible
2021-09-01 14:11:05.594105 | 52540007-257c-e8fb-c605-000000000a54 |    CHANGED | Update default network configuration if possible | undercloud-0^[[0m
2021-09-01 14:11:05.594957 | 52540007-257c-e8fb-c605-000000000a54 |     TIMING | tripleo_podman : Update default network configuration if possible | undercloud-0 | 0:01:54.245866 | 0.34s^[[0m

[1] https://git.centos.org/rpms/podman/c/89639c19dfff7506d6fd9e3c828026f2b91725d1?branch=c8s-stream-rhel8

Change-Id: I264624683ef8d8c279073ac820ed73b13dd0f2b5
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/28/806428/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml'],1,98e5c0b4f7a42c020429992b2373f9cc32241cb5,dnm-test, ignore_errors: true,,1,0
openstack%2Fpython-brick-cinderclient-ext~master~I5bad2baf02fd2c7c882d7bbf7110fc644c96319b,openstack/python-brick-cinderclient-ext,master,I5bad2baf02fd2c7c882d7bbf7110fc644c96319b,Use cinderclient v3 in tests,MERGED,2021-09-01 20:32:58.000000000,2021-09-01 21:52:29.000000000,2021-09-01 21:51:01.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-01 20:32:58.000000000', 'files': ['brick_cinderclient_ext/tests/functional/test_brick_client.py'], 'web_link': 'https://opendev.org/openstack/python-brick-cinderclient-ext/commit/1494765d25797d67803b1df066b2585d749e6cf5', 'message': ""Use cinderclient v3 in tests\n\nThere's a functional test that's trying to use the cinderclient v2\nclient, which has been removed in Xena.  Update it to use the v3\nclient.\n\nChange-Id: I5bad2baf02fd2c7c882d7bbf7110fc644c96319b\n""}]",0,806981,1494765d25797d67803b1df066b2585d749e6cf5,10,5,1,5314,,,0,"Use cinderclient v3 in tests

There's a functional test that's trying to use the cinderclient v2
client, which has been removed in Xena.  Update it to use the v3
client.

Change-Id: I5bad2baf02fd2c7c882d7bbf7110fc644c96319b
",git fetch https://review.opendev.org/openstack/python-brick-cinderclient-ext refs/changes/81/806981/1 && git format-patch -1 --stdout FETCH_HEAD,['brick_cinderclient_ext/tests/functional/test_brick_client.py'],1,1494765d25797d67803b1df066b2585d749e6cf5,cinderclient-v3," self.cinder_client = c_client.Client(3,"," self.cinder_client = c_client.Client(2,",1,1
openstack%2Freleases~master~I120d43e5f9cf48ad98a97c4b4d4cb85b4e38bb38,openstack/releases,master,I120d43e5f9cf48ad98a97c4b4d4cb85b4e38bb38,Add Glance Xena highlights,MERGED,2021-08-31 19:56:00.000000000,2021-09-01 21:20:55.000000000,2021-09-01 21:20:55.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 8122}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-31 19:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/987c035ab717db33890b4717dfcf04f60e6f7028', 'message': 'Add Glance Xena highlights\n\nChange-Id: I120d43e5f9cf48ad98a97c4b4d4cb85b4e38bb38\n'}, {'number': 2, 'created': '2021-09-01 08:43:42.000000000', 'files': ['deliverables/xena/glance.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/837a0317cbf440df3ff22f2f9a2842038ff63289', 'message': 'Add Glance Xena highlights\n\nChange-Id: I120d43e5f9cf48ad98a97c4b4d4cb85b4e38bb38\n'}]",5,806799,837a0317cbf440df3ff22f2f9a2842038ff63289,16,6,2,9303,,,0,"Add Glance Xena highlights

Change-Id: I120d43e5f9cf48ad98a97c4b4d4cb85b4e38bb38
",git fetch https://review.opendev.org/openstack/releases refs/changes/99/806799/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/glance.yaml'],1,987c035ab717db33890b4717dfcf04f60e6f7028,glance-xena-highlights,cycle-highlights: - 'Support for unified quotas using keystone limits' - 'Moved policy enforcement in API layer' - 'Secure RBAC - Experimental support for project personas for metadef APIs',,4,0
openstack%2Freleases~master~Ic29986ae00e5aae75183882154dc7003eedc7f03,openstack/releases,master,Ic29986ae00e5aae75183882154dc7003eedc7f03,Add Xena cycle highlights for Blazar,MERGED,2021-08-31 12:45:45.000000000,2021-09-01 21:16:56.000000000,2021-09-01 21:16:56.000000000,"[{'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-31 12:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b541a8df4191f69a5380741bfe682c8979ef2366', 'message': 'Add Xena cycle highlights for Blazar\n\nChange-Id: Ic29986ae00e5aae75183882154dc7003eedc7f03\n'}, {'number': 2, 'created': '2021-08-31 20:46:55.000000000', 'files': ['deliverables/xena/blazar.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3e7def44a628ae9283b1e0671a3caf8db17ba583', 'message': 'Add Xena cycle highlights for Blazar\n\nChange-Id: Ic29986ae00e5aae75183882154dc7003eedc7f03\n'}]",1,806738,3e7def44a628ae9283b1e0671a3caf8db17ba583,14,4,2,15197,,,0,"Add Xena cycle highlights for Blazar

Change-Id: Ic29986ae00e5aae75183882154dc7003eedc7f03
",git fetch https://review.opendev.org/openstack/releases refs/changes/38/806738/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/blazar.yaml'],1,b541a8df4191f69a5380741bfe682c8979ef2366,blazar-xena-highlights,cycle-highlights: - Added OpenStackClient support to python-blazarclient.,,2,0
openstack%2Fironic-lib~master~I943e1f07a23e76354966acae5e4594e41dd4822b,openstack/ironic-lib,master,I943e1f07a23e76354966acae5e4594e41dd4822b,Drop an explicit requirement of oslo.log,MERGED,2021-08-20 15:13:35.000000000,2021-09-01 21:14:39.000000000,2021-09-01 21:13:11.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-20 15:13:35.000000000', 'files': ['ironic_lib/json_rpc/server.py', 'ironic_lib/mdns.py', 'ironic_lib/tests/test_exception.py', 'ironic_lib/keystone.py', 'requirements.txt', 'ironic_lib/json_rpc/client.py', 'ironic_lib/auth_basic.py', 'ironic_lib/exception.py', 'ironic_lib/disk_partitioner.py', 'ironic_lib/metrics_statsd.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/ac958880594786dd14de6fb22e05f4899b91f1fd', 'message': ""Drop an explicit requirement of oslo.log\n\nThis library is designed for leaf applications (services, CLI). For\nlibraries it's enough to use the generic logging.\n\nUnit tests needed adjustment since LOG.exception is implemented via\nLOG.error internally.\n\nChange-Id: I943e1f07a23e76354966acae5e4594e41dd4822b\n""}]",0,805406,ac958880594786dd14de6fb22e05f4899b91f1fd,8,3,1,10239,,,0,"Drop an explicit requirement of oslo.log

This library is designed for leaf applications (services, CLI). For
libraries it's enough to use the generic logging.

Unit tests needed adjustment since LOG.exception is implemented via
LOG.error internally.

Change-Id: I943e1f07a23e76354966acae5e4594e41dd4822b
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/06/805406/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/json_rpc/server.py', 'ironic_lib/mdns.py', 'ironic_lib/keystone.py', 'ironic_lib/tests/test_exception.py', 'requirements.txt', 'ironic_lib/json_rpc/client.py', 'ironic_lib/auth_basic.py', 'ironic_lib/exception.py', 'ironic_lib/disk_partitioner.py', 'ironic_lib/metrics_statsd.py']",10,ac958880594786dd14de6fb22e05f4899b91f1fd,logging,import loggingLOG = logging.getLogger(__name__),from oslo_log import logLOG = log.getLogger(__name__),18,15
openstack%2Ftripleo-validations~stable%2Fussuri~I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a,openstack/tripleo-validations,stable/ussuri,I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a,remove using containers-prepare-parameter.yaml,MERGED,2021-09-01 13:31:23.000000000,2021-09-01 20:03:52.000000000,2021-09-01 20:02:27.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32432}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-09-01 13:31:23.000000000', 'files': ['roles/check_uc_hostname/molecule/default/prepare.yml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a6c8d6243d2d89cc24acb57835cf532c6ac6a5b3', 'message': ""remove using containers-prepare-parameter.yaml\n\n1. Stop using DockerInsecureRegistryAddress from\n   containers-prepare-parameter.yaml\n2. Instead, use:\n   'openstack stack environment show qe-Cloud-0'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a\n(cherry picked from commit 8492bf8e35248adc08b95572ced3319112148fdb)\n(cherry picked from commit 87cb27404189ba3679c43cd5954e6ba204454735)\n(cherry picked from commit d786eddb26e4aff60652fd90fc587ca86dce9d6a)\n""}]",0,806898,a6c8d6243d2d89cc24acb57835cf532c6ac6a5b3,7,9,1,11491,,,0,"remove using containers-prepare-parameter.yaml

1. Stop using DockerInsecureRegistryAddress from
   containers-prepare-parameter.yaml
2. Instead, use:
   'openstack stack environment show qe-Cloud-0'

Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>
Change-Id: I8b30574fcc769b4ee39a0c24f3a5a982b80f6c0a
(cherry picked from commit 8492bf8e35248adc08b95572ced3319112148fdb)
(cherry picked from commit 87cb27404189ba3679c43cd5954e6ba204454735)
(cherry picked from commit d786eddb26e4aff60652fd90fc587ca86dce9d6a)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/98/806898/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_uc_hostname/molecule/default/prepare.yml', 'roles/check_uc_hostname/README.md', 'roles/check_uc_hostname/tasks/main.yml', 'roles/check_uc_hostname/defaults/main.yml', 'doc/source/roles/role-check_uc_hostname.rst', 'roles/check_uc_hostname/molecule/default/converge.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml']",7,a6c8d6243d2d89cc24acb57835cf532c6ac6a5b3,remove_using_containers_prepare_parameter-stable/wallaby-stable/victoria-stable/ussuri," provisioner: name: ansible inventory: hosts: all: hosts: ubi8: ansible_python_interpreter: /usr/bin/python3 vars: plan: qe-Cloud-0 plans: [qe-Cloud-0] log: true options: vvv: true env: ANSIBLE_STDOUT_CALLBACK: yaml ANSIBLE_ROLES_PATH: ""${ANSIBLE_ROLES_PATH}:${HOME}/zuul-jobs/roles"" ANSIBLE_LIBRARY: ""${ANSIBLE_LIBRARY:-/usr/share/ansible/plugins/modules}""",,332,178
openstack%2Ftripleo-common~master~I7281ab22745ef7dacb7a65853236cbbf25e1512a,openstack/tripleo-common,master,I7281ab22745ef7dacb7a65853236cbbf25e1512a,DNM Test with testing repo added,NEW,2020-10-23 08:47:12.000000000,2021-09-01 19:51:06.000000000,,"[{'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-10-23 08:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/91d3d71da9ee6bc1672e3f4d652781c23237d424', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nDepends-On: https://review.opendev.org/#/c/750620/\nChange-Id: I7281ab22745ef7dacb7a65853236cbbf25e1512a\n'}, {'number': 2, 'created': '2020-10-23 08:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a33378305f525d3a0e341f4753a78f02ae564ca2', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nDepends-On: https://review.opendev.org/#/c/750620/\nChange-Id: I7281ab22745ef7dacb7a65853236cbbf25e1512a\n'}, {'number': 3, 'created': '2020-10-23 08:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7d26f5ef59d558ee4580812c75fe578da341b880', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nDepends-On: https://review.opendev.org/#/c/750620/\nChange-Id: I7281ab22745ef7dacb7a65853236cbbf25e1512a\n'}, {'number': 4, 'created': '2020-10-23 08:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c20106bc2f78fc4bcac609ac57d83fc37cf49754', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nDepends-On: https://review.opendev.org/#/c/750620/\nChange-Id: I7281ab22745ef7dacb7a65853236cbbf25e1512a\n'}, {'number': 5, 'created': '2020-11-05 05:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/db904a47e57de2590f3139eef6660674bb85496f', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nDepends-On: https://review.opendev.org/#/c/750619/\nDepends-On: https://review.opendev.org/#/c/750620/\nChange-Id: I7281ab22745ef7dacb7a65853236cbbf25e1512a\n'}, {'number': 6, 'created': '2020-11-05 11:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2483c86525160e1de487146df182d2e5300bef11', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nDepends-On: https://review.opendev.org/#/c/750619/\nChange-Id: I7281ab22745ef7dacb7a65853236cbbf25e1512a\n'}, {'number': 7, 'created': '2020-11-05 15:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d17a609695a31c26d68ae1ec8875b1fabbe0d8a4', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nDepends-On: https://review.opendev.org/#/c/750619/\nChange-Id: I7281ab22745ef7dacb7a65853236cbbf25e1512a\n'}, {'number': 8, 'created': '2020-12-04 12:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f4ceacb0a0190753948048916d59f5f6aa5b7e95', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nDepends-On: https://review.opendev.org/#/c/750619/\nChange-Id: I7281ab22745ef7dacb7a65853236cbbf25e1512a\n'}, {'number': 9, 'created': '2021-02-05 07:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9fcb8e414a472ec97667ac28bfdae91deb9be09f', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nDepends-On: https://review.opendev.org/#/c/750619/\nChange-Id: I7281ab22745ef7dacb7a65853236cbbf25e1512a\n'}, {'number': 10, 'created': '2021-03-08 10:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2352c33c7b9f4988a244b8da79bc045002b4e303', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nDepends-On: https://review.opendev.org/#/c/750619/\nChange-Id: I7281ab22745ef7dacb7a65853236cbbf25e1512a\n'}, {'number': 11, 'created': '2021-04-14 05:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cf52929f4c9eb74951371b64f09f3ff85c4fc26d', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nDepends-On: https://review.opendev.org/#/c/750619/\nChange-Id: I7281ab22745ef7dacb7a65853236cbbf25e1512a\n'}, {'number': 12, 'created': '2021-09-01 13:30:45.000000000', 'files': ['container-images/container_image_prepare_defaults.yaml', 'test', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/43022d88cc48971c919d494c6e768055155aad0d', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nDepends-On: https://review.opendev.org/#/c/750619/\nChange-Id: I7281ab22745ef7dacb7a65853236cbbf25e1512a\n'}]",0,759380,43022d88cc48971c919d494c6e768055155aad0d,41,3,12,16312,,,0,"DNM Test with testing repo added

load deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo

Depends-On: https://review.opendev.org/#/c/750619/
Change-Id: I7281ab22745ef7dacb7a65853236cbbf25e1512a
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/80/759380/9 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,91d3d71da9ee6bc1672e3f4d652781c23237d424,test-rdo-repo-updates,,,0,0
openstack%2Fmanila~master~I83b5750da7083718d39efb56262a49dae0a05f48,openstack/manila,master,I83b5750da7083718d39efb56262a49dae0a05f48,Migrate all quota parameters to [quota] section.,MERGED,2021-07-02 01:46:14.000000000,2021-09-01 19:47:05.000000000,2021-09-01 19:44:57.000000000,"[{'_account_id': 14624}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-07-02 01:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/98af4e3f1f97c6c3316ef95838927b302ec07a24', 'message': 'Migrate all quota parameters to [quota] section.\n\nCurrently we register all parameters about the quota feature to\n[DEFAULT] section. However it is difficult for operators to identity\nthat some of these parameters like reservation_expire are used in the\nquota feature, based of names and descriptions of the parameters.\n\nThis change migrates all quota options to the new [quota] section,\nso that operators can easily understand which parameters are used\nin the quota feature.\n\nCloses-Bug: #1934025\nChange-Id: I83b5750da7083718d39efb56262a49dae0a05f48\n'}, {'number': 2, 'created': '2021-07-02 05:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b4cfc0b78d5465483d7870e3fe0589d3cf404e78', 'message': 'Migrate all quota parameters to [quota] section.\n\nCurrently we register all parameters about the quota feature to\n[DEFAULT] section. However it is difficult for operators to identity\nthat some of these parameters like reservation_expire are used in the\nquota feature, based of names and descriptions of the parameters.\n\nThis change migrates all quota options to the new [quota] section,\nso that operators can easily understand which parameters are used\nin the quota feature.\n\nCloses-Bug: #1934025\nChange-Id: I83b5750da7083718d39efb56262a49dae0a05f48\n'}, {'number': 3, 'created': '2021-07-04 03:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1874450948c4f4ea9d635e4df972acbdba02faa9', 'message': 'Migrate all quota parameters to [quota] section.\n\nCurrently we register all parameters about the quota feature to\n[DEFAULT] section. However it is difficult for operators to identity\nthat some of these parameters like reservation_expire are used in the\nquota feature, based of names and descriptions of the parameters.\n\nThis change migrates all quota options to the new [quota] section,\nso that operators can easily understand which parameters are used\nin the quota feature.\n\nCloses-Bug: #1934025\nChange-Id: I83b5750da7083718d39efb56262a49dae0a05f48\n'}, {'number': 4, 'created': '2021-07-29 23:48:06.000000000', 'files': ['releasenotes/notes/add-quotas-section-0e1e638a8f14d26e.yaml', 'manila/tests/share/test_api.py', 'manila/tests/api/v2/test_quota_sets.py', 'manila/tests/test_quota.py', 'manila/tests/api/v2/test_quota_class_sets.py', 'manila/quota.py', 'manila/opts.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/76cfc9405ea8b318e8b1c589fa245f86a5827b71', 'message': 'Migrate all quota parameters to [quota] section.\n\nCurrently we register all parameters about the quota feature to\n[DEFAULT] section. However it is difficult for operators to identity\nthat some of these parameters like reservation_expire are used in the\nquota feature, based of names and descriptions of the parameters.\n\nThis change migrates all quota options to the new [quota] section,\nso that operators can easily understand which parameters are used\nin the quota feature.\n\nCloses-Bug: #1934025\nChange-Id: I83b5750da7083718d39efb56262a49dae0a05f48\n'}]",7,799130,76cfc9405ea8b318e8b1c589fa245f86a5827b71,37,5,4,9816,,,0,"Migrate all quota parameters to [quota] section.

Currently we register all parameters about the quota feature to
[DEFAULT] section. However it is difficult for operators to identity
that some of these parameters like reservation_expire are used in the
quota feature, based of names and descriptions of the parameters.

This change migrates all quota options to the new [quota] section,
so that operators can easily understand which parameters are used
in the quota feature.

Closes-Bug: #1934025
Change-Id: I83b5750da7083718d39efb56262a49dae0a05f48
",git fetch https://review.opendev.org/openstack/manila refs/changes/30/799130/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-quotas-section-0e1e638a8f14d26e.yaml', 'manila/tests/share/test_api.py', 'manila/tests/api/v2/test_quota_sets.py', 'manila/tests/api/v2/test_quota_class_sets.py', 'manila/quota.py', 'manila/opts.py']",6,98af4e3f1f97c6c3316ef95838927b302ec07a24,bug/1934025," (manila.quota.QUOTA_GROUP, list(itertools.chain(manila.quota.quota_opts))),"," manila.quota.quota_opts,",86,54
openstack%2Foctavia~master~I5360c8246cd39f90eb7104a883f87c0042d146c4,openstack/octavia,master,I5360c8246cd39f90eb7104a883f87c0042d146c4,Add generic network interface management in the amphora,MERGED,2020-11-03 16:47:45.000000000,2021-09-01 19:21:38.000000000,2021-09-01 19:19:50.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-11-03 16:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9ec0fc7ac1922d96c00739b9e7b84bfb28bf8732', 'message': 'WIP Add generic network interface management in the amphora\n\nHandle network configuration using octavia.\n\nTODO: Fix IPv6 rules in pyroute2\nTODO: Add tests\n\nChange-Id: I5360c8246cd39f90eb7104a883f87c0042d146c4\n'}, {'number': 2, 'created': '2020-11-04 14:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7279fadec2462fdb4e173cec0ffe8fad6e3f4da2', 'message': 'WIP Add generic network interface management in the amphora\n\nHandle network configuration using octavia.\n\nTODO: Add tests\n\nChange-Id: I5360c8246cd39f90eb7104a883f87c0042d146c4\n'}, {'number': 3, 'created': '2020-11-05 12:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c8a88015ef1870a743edb37ef0230b10d15022c7', 'message': 'WIP Add generic network interface management in the amphora\n\nHandle network configuration using octavia.\n\nTODO: Add tests\n\nChange-Id: I5360c8246cd39f90eb7104a883f87c0042d146c4\n'}, {'number': 4, 'created': '2020-11-11 13:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/524b04ba7876ddcd0af26b15e43a4d4be16d85c6', 'message': 'Add generic network interface management in the amphora\n\nHandle network configuration using Octavia tools.\n\namphora-interface configures network interfaces inside the amphora\nusing pyroute2 and a set of yaml files for persistent configuration in\nthe /etc/octavia/interfaces/ directory.\n\nStory: 2005235\nTask: 30019\n\nChange-Id: I5360c8246cd39f90eb7104a883f87c0042d146c4\n'}, {'number': 5, 'created': '2020-11-16 17:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/182ea3ce5ac1c66c3cb909035bdf6ed518d78ecf', 'message': 'Add generic network interface management in the amphora\n\nHandle network configuration using Octavia tools.\n\namphora-interface configures network interfaces inside the amphora\nusing pyroute2 and a set of yaml files for persistent configuration in\nthe /etc/octavia/interfaces/ directory.\n\nStory: 2005235\nTask: 30019\n\nChange-Id: I5360c8246cd39f90eb7104a883f87c0042d146c4\n'}, {'number': 6, 'created': '2020-11-17 10:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/489b8989cc44b260df061fa42b3a56e3693adf3c', 'message': 'Add generic network interface management in the amphora\n\nHandle network configuration using Octavia tools.\n\namphora-interface configures network interfaces inside the amphora\nusing pyroute2 and a set of yaml files for persistent configuration in\nthe /etc/octavia/interfaces/ directory.\n\nStory: 2005235\nTask: 30019\n\nChange-Id: I5360c8246cd39f90eb7104a883f87c0042d146c4\n'}, {'number': 7, 'created': '2020-11-18 17:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/33bdef3028868e047ac56a3d195c6ce5077a8bb3', 'message': 'Add generic network interface management in the amphora\n\nHandle network configuration using Octavia tools.\n\namphora-interface configures network interfaces inside the amphora\nusing pyroute2 and a set of yaml files for persistent configuration in\nthe /etc/octavia/interfaces/ directory.\n\nStory: 2005235\nTask: 30019\n\nChange-Id: I5360c8246cd39f90eb7104a883f87c0042d146c4\n'}, {'number': 8, 'created': '2020-12-14 15:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/428eeca9551f5ea70052512978efde4e9ce680b8', 'message': 'Add generic network interface management in the amphora\n\nHandle network configuration using Octavia tools.\n\namphora-interface configures network interfaces inside the amphora\nusing pyroute2 and a set of yaml files for persistent configuration in\nthe /etc/octavia/interfaces/ directory.\n\nStory: 2005235\nTask: 30019\n\nChange-Id: I5360c8246cd39f90eb7104a883f87c0042d146c4\n'}, {'number': 9, 'created': '2020-12-30 08:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5df8f5daa92bbdd8898888b84f64e09c78fa0505', 'message': 'Add generic network interface management in the amphora\n\nHandle network configuration using Octavia tools.\n\namphora-interface configures network interfaces inside the amphora\nusing pyroute2 and a set of yaml files for persistent configuration in\nthe /etc/octavia/interfaces/ directory.\n\nStory: 2005235\nTask: 30019\n\nChange-Id: I5360c8246cd39f90eb7104a883f87c0042d146c4\n'}, {'number': 10, 'created': '2021-03-14 14:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d273b5a4a59f438ce9dae1c1e8da767c781feac7', 'message': 'Add generic network interface management in the amphora\n\nHandle network configuration using Octavia tools.\n\namphora-interface configures network interfaces inside the amphora\nusing pyroute2 and a set of json files for persistent configuration in\nthe /etc/octavia/interfaces/ directory.\n\nStory: 2005235\nTask: 30019\n\nChange-Id: I5360c8246cd39f90eb7104a883f87c0042d146c4\n'}, {'number': 11, 'created': '2021-03-14 18:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a9ad9e9bbc6c42c20a670150e14bcfe55d7ede26', 'message': 'Add generic network interface management in the amphora\n\nHandle network configuration using Octavia tools.\n\namphora-interface configures network interfaces inside the amphora\nusing pyroute2 and a set of json files for persistent configuration in\nthe /etc/octavia/interfaces/ directory.\n\nStory: 2005235\nTask: 30019\n\nChange-Id: I5360c8246cd39f90eb7104a883f87c0042d146c4\n'}, {'number': 12, 'created': '2021-06-24 07:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a9ea73d36e1901482aed5e722ba7e33e3632182c', 'message': 'Add generic network interface management in the amphora\n\nHandle network configuration using Octavia tools.\n\namphora-interface configures network interfaces inside the amphora\nusing pyroute2 and a set of json files for persistent configuration in\nthe /etc/octavia/interfaces/ directory.\n\nStory: 2005235\nTask: 30019\n\nChange-Id: I5360c8246cd39f90eb7104a883f87c0042d146c4\n'}, {'number': 13, 'created': '2021-06-24 15:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b8ffc1d835e7fe3373f88aa5c6788fd06718476e', 'message': 'Add generic network interface management in the amphora\n\nHandle network configuration using Octavia tools.\n\namphora-interface configures network interfaces inside the amphora\nusing pyroute2 and a set of json files for persistent configuration in\nthe /etc/octavia/interfaces/ directory.\n\nStory: 2005235\nTask: 30019\n\nChange-Id: I5360c8246cd39f90eb7104a883f87c0042d146c4\n'}, {'number': 14, 'created': '2021-06-28 11:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4379f1ba04a33999cf26fa70b36ffe238e8825f7', 'message': 'Add generic network interface management in the amphora\n\nHandle network configuration using Octavia tools.\n\namphora-interface configures network interfaces inside the amphora\nusing pyroute2 and a set of json files for persistent configuration in\nthe /etc/octavia/interfaces/ directory.\n\nStory: 2005235\nTask: 30019\n\nChange-Id: I5360c8246cd39f90eb7104a883f87c0042d146c4\n'}, {'number': 15, 'created': '2021-06-28 13:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c969ac1b92e0baab5ed4df53717213bf6f393e71', 'message': 'Add generic network interface management in the amphora\n\nHandle network configuration using Octavia tools.\n\namphora-interface configures network interfaces inside the amphora\nusing pyroute2 and a set of json files for persistent configuration in\nthe /etc/octavia/interfaces/ directory.\n\nStory: 2005235\nTask: 30019\n\nChange-Id: I5360c8246cd39f90eb7104a883f87c0042d146c4\n'}, {'number': 16, 'created': '2021-06-28 16:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9e0032ef6d2218c9b6ebec5ceaad7d62236e61e6', 'message': 'Add generic network interface management in the amphora\n\nHandle network configuration using Octavia tools.\n\namphora-interface configures network interfaces inside the amphora\nusing pyroute2 and a set of json files for persistent configuration in\nthe /etc/octavia/interfaces/ directory.\n\nStory: 2005235\nTask: 30019\n\nChange-Id: I5360c8246cd39f90eb7104a883f87c0042d146c4\n'}, {'number': 17, 'created': '2021-07-09 11:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/52c61961521f8d9a289a5f357b892c38fa65c25c', 'message': 'Add generic network interface management in the amphora\n\nHandle network configuration using Octavia tools.\n\namphora-interface configures network interfaces inside the amphora\nusing pyroute2 and a set of json files for persistent configuration in\nthe /etc/octavia/interfaces/ directory.\n\nStory: 2005235\nTask: 30019\n\nChange-Id: I5360c8246cd39f90eb7104a883f87c0042d146c4\n'}, {'number': 18, 'created': '2021-08-20 06:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e12c18a0d735512f89bc2452b28ed8f5a5028db1', 'message': 'Add generic network interface management in the amphora\n\nHandle network configuration using Octavia tools.\n\namphora-interface configures network interfaces inside the amphora\nusing pyroute2 and a set of json files for persistent configuration in\nthe /etc/octavia/interfaces/ directory.\n\nStory: 2005235\nTask: 30019\n\nChange-Id: I5360c8246cd39f90eb7104a883f87c0042d146c4\n'}, {'number': 19, 'created': '2021-08-30 07:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0941a94949ee3a4a4440534558cfef80cc0adff5', 'message': 'Add generic network interface management in the amphora\n\nHandle network configuration using Octavia tools.\n\namphora-interface configures network interfaces inside the amphora\nusing pyroute2 and a set of json files for persistent configuration in\nthe /etc/octavia/interfaces/ directory.\n\nStory: 2005235\nTask: 30019\n\nChange-Id: I5360c8246cd39f90eb7104a883f87c0042d146c4\n'}, {'number': 20, 'created': '2021-08-30 15:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/88285924532141c488fff00f2a36d15e441f87bf', 'message': 'Add generic network interface management in the amphora\n\nHandle network configuration using Octavia tools.\n\namphora-interface configures network interfaces inside the amphora\nusing pyroute2 and a set of json files for persistent configuration in\nthe /etc/octavia/interfaces/ directory.\n\nStory: 2005235\nTask: 30019\n\nDepends-On: https://review.opendev.org/806558\n\nChange-Id: I5360c8246cd39f90eb7104a883f87c0042d146c4\n'}, {'number': 21, 'created': '2021-08-31 15:21:47.000000000', 'files': ['octavia/common/config.py', 'octavia/tests/common/utils.py', 'octavia/amphorae/backends/agent/api_server/templates/rh_plug_vip_ethX.conf.j2', 'octavia/amphorae/backends/agent/api_server/server.py', 'octavia/cmd/interface.py', 'octavia/tests/unit/amphorae/backends/utils/test_interface.py', 'octavia/amphorae/backends/agent/templates/amphora_agent_conf.template', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_osutils.py', 'octavia/amphorae/backends/agent/api_server/templates/rh_plug_port_ethX.conf.j2', 'octavia/amphorae/backends/utils/interface_file.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py', 'etc/octavia.conf', 'octavia/amphorae/backends/agent/api_server/templates/rh_route_ethX.conf.j2', 'octavia/amphorae/backends/agent/api_server/loadbalancer.py', 'octavia/amphorae/backends/agent/api_server/templates/rh_rule_ethX.conf.j2', 'octavia/common/constants.py', 'octavia/amphorae/backends/agent/api_server/templates/upstart.conf.j2', 'octavia/tests/unit/amphorae/backends/utils/test_interface_file.py', 'octavia/amphorae/backends/agent/api_server/templates/plug_port_ethX.conf.j2', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'octavia/amphorae/backends/agent/api_server/util.py', 'octavia/common/exceptions.py', 'octavia/amphorae/backends/agent/api_server/plug.py', 'octavia/amphorae/backends/agent/api_server/templates/amphora-netns.systemd.j2', 'octavia/amphorae/backends/agent/api_server/templates/plug_vip_ethX.conf.j2', 'octavia/tests/unit/cmd/test_interface.py', 'octavia/amphorae/backends/agent/api_server/templates/rh_plug_vip_ethX_alias.conf.j2', 'octavia/amphorae/backends/agent/api_server/templates/rh_plug_port_eth_ifup_local.conf.j2', 'octavia/amphorae/backends/agent/agent_jinja_cfg.py', 'octavia/amphorae/backends/utils/interface.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/tests/unit/amphorae/backends/agent/test_agent_jinja_cfg.py', 'octavia/amphorae/backends/agent/api_server/templates/sysvinit.conf.j2', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_util.py', 'octavia/amphorae/backends/agent/api_server/templates/rh_plug_port_eth_ifdown_local.conf.j2', 'setup.cfg', 'elements/amphora-agent/install.d/amphora-agent-source-install/75-amphora-agent-install', 'releasenotes/notes/amphora-network-interface-management-d77bc9905ed997f6.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5dd7ad9ad8998c5285fe60d9ee4210f87ed45ccd', 'message': 'Add generic network interface management in the amphora\n\nHandle network configuration using Octavia tools.\n\namphora-interface configures network interfaces inside the amphora\nusing pyroute2 and a set of json files for persistent configuration in\nthe /etc/octavia/interfaces/ directory.\n\nStory: 2005235\nTask: 30019\n\nDepends-On: https://review.opendev.org/806558\n\nChange-Id: I5360c8246cd39f90eb7104a883f87c0042d146c4\n'}]",59,761195,5dd7ad9ad8998c5285fe60d9ee4210f87ed45ccd,90,6,21,29244,,,0,"Add generic network interface management in the amphora

Handle network configuration using Octavia tools.

amphora-interface configures network interfaces inside the amphora
using pyroute2 and a set of json files for persistent configuration in
the /etc/octavia/interfaces/ directory.

Story: 2005235
Task: 30019

Depends-On: https://review.opendev.org/806558

Change-Id: I5360c8246cd39f90eb7104a883f87c0042d146c4
",git fetch https://review.opendev.org/openstack/octavia refs/changes/95/761195/5 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/plug.py', 'octavia/common/config.py', 'octavia/amphorae/backends/agent/api_server/templates/rh_plug_vip_ethX.conf.j2', 'octavia/amphorae/backends/agent/api_server/templates/amphora-netns.systemd.j2', 'octavia/amphorae/backends/agent/api_server/templates/plug_vip_ethX.conf.j2', 'octavia/cmd/interface.py', 'octavia/amphorae/backends/agent/api_server/templates/rh_plug_vip_ethX_alias.conf.j2', 'octavia/amphorae/backends/agent/api_server/templates/rh_plug_port_ethX.conf.j2', 'octavia/amphorae/backends/utils/interface_file.py', 'octavia/amphorae/backends/agent/api_server/templates/rh_route_ethX.conf.j2', 'octavia/amphorae/backends/agent/api_server/templates/rh_plug_port_eth_ifup_local.conf.j2', 'octavia/amphorae/backends/agent/api_server/loadbalancer.py', 'octavia/amphorae/backends/agent/api_server/templates/rh_rule_ethX.conf.j2', 'octavia/common/constants.py', 'octavia/amphorae/backends/utils/interface.py', 'octavia/amphorae/backends/agent/api_server/templates/upstart.conf.j2', 'octavia/amphorae/backends/agent/api_server/templates/sysvinit.conf.j2', 'octavia/amphorae/backends/agent/api_server/templates/plug_port_ethX.conf.j2', 'octavia/amphorae/backends/agent/api_server/templates/rh_plug_port_eth_ifdown_local.conf.j2', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'octavia/amphorae/backends/agent/api_server/util.py', 'setup.cfg', 'elements/amphora-agent/install.d/amphora-agent-source-install/75-amphora-agent-install']",23,9ec0fc7ac1922d96c00739b9e7b84bfb28bf8732,interfaces,# Link amphora interface script ln -s $AMP_VENV/bin/amphora-interface /usr/local/bin/amphora-interface || true ,,441,854
openstack%2Freleases~master~I434b2778a1df990154b12c1068ff6cc358f23f6d,openstack/releases,master,I434b2778a1df990154b12c1068ff6cc358f23f6d,Release OpenStack-Ansible Wallaby,MERGED,2021-09-01 12:17:38.000000000,2021-09-01 19:12:22.000000000,2021-09-01 19:12:22.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-01 12:17:38.000000000', 'files': ['deliverables/wallaby/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8fde3038fe82d8990daf9710ac1f03bb27c84ff9', 'message': 'Release OpenStack-Ansible Wallaby\n\nChange-Id: I434b2778a1df990154b12c1068ff6cc358f23f6d\n'}]",0,806920,8fde3038fe82d8990daf9710ac1f03bb27c84ff9,8,3,1,28619,,,0,"Release OpenStack-Ansible Wallaby

Change-Id: I434b2778a1df990154b12c1068ff6cc358f23f6d
",git fetch https://review.opendev.org/openstack/releases refs/changes/20/806920/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/openstack-ansible.yaml'],1,8fde3038fe82d8990daf9710ac1f03bb27c84ff9,release_osa, - version: 23.1.0 projects: - repo: openstack/openstack-ansible hash: 9243f5340b52c4dd670e3a098aaa462c7433a928,,4,0
openstack%2Ftripleo-validations~stable%2Fussuri~I4faeab61421a9dbd6e5e2ea92c7e64ab1467453b,openstack/tripleo-validations,stable/ussuri,I4faeab61421a9dbd6e5e2ea92c7e64ab1467453b,oslo_config_validator: Setting container network to none,MERGED,2021-07-29 01:29:16.000000000,2021-09-01 19:03:52.000000000,2021-09-01 19:03:52.000000000,"[{'_account_id': 11090}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 27427}]","[{'number': 1, 'created': '2021-07-29 01:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cfbdf04c097e45f7bd2ac938bc0a12584f12de3e', 'message': 'oslo_config_validator: Setting container network to none\n\nWhen spinning a container, podman_container defaults network to bridge\nas opposed to docker_container that defaults to none.\n\nThis causes ""Missing CNI default network"" errors and doesn\'t run the\noslo-config-validator command as expected.\n\nChange-Id: I4faeab61421a9dbd6e5e2ea92c7e64ab1467453b\n(cherry picked from commit 9311c11823c4b9dbc29a3957bf760da6fb25c53a)\n(cherry picked from commit bc692be30d7aefde4c11ad74a6c897243df5f8d2)\n(cherry picked from commit 16c6893280200a2317c15678b05535e74d5e90e9)\n'}, {'number': 2, 'created': '2021-07-29 01:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5f949e3da0fd0ae09671c4665ff77c39fce9b88b', 'message': 'oslo_config_validator: Setting container network to none\n\nWhen spinning a container, podman_container defaults network to bridge\nas opposed to docker_container that defaults to none.\n\nThis causes ""Missing CNI default network"" errors and doesn\'t run the\noslo-config-validator command as expected.\n\nChange-Id: I4faeab61421a9dbd6e5e2ea92c7e64ab1467453b\n(cherry picked from commit 9311c11823c4b9dbc29a3957bf760da6fb25c53a)\n(cherry picked from commit bc692be30d7aefde4c11ad74a6c897243df5f8d2)\n(cherry picked from commit 16c6893280200a2317c15678b05535e74d5e90e9)\n'}, {'number': 3, 'created': '2021-08-20 06:00:14.000000000', 'files': ['roles/oslo_config_validator/tasks/container_run.yml', 'roles/oslo_config_validator/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cc2f65703653ebe52abed26163efa6d41aef35c7', 'message': 'oslo_config_validator: Setting container network to none\n\nWhen spinning a container, podman_container defaults network to bridge\nas opposed to docker_container that defaults to none.\n\nThis causes ""Missing CNI default network"" errors and doesn\'t run the\noslo-config-validator command as expected.\n\nChange-Id: I4faeab61421a9dbd6e5e2ea92c7e64ab1467453b\n(cherry picked from commit 9311c11823c4b9dbc29a3957bf760da6fb25c53a)\n(cherry picked from commit bc692be30d7aefde4c11ad74a6c897243df5f8d2)\n(cherry picked from commit 16c6893280200a2317c15678b05535e74d5e90e9)\n'}]",0,802778,cc2f65703653ebe52abed26163efa6d41aef35c7,11,5,3,27419,,,0,"oslo_config_validator: Setting container network to none

When spinning a container, podman_container defaults network to bridge
as opposed to docker_container that defaults to none.

This causes ""Missing CNI default network"" errors and doesn't run the
oslo-config-validator command as expected.

Change-Id: I4faeab61421a9dbd6e5e2ea92c7e64ab1467453b
(cherry picked from commit 9311c11823c4b9dbc29a3957bf760da6fb25c53a)
(cherry picked from commit bc692be30d7aefde4c11ad74a6c897243df5f8d2)
(cherry picked from commit 16c6893280200a2317c15678b05535e74d5e90e9)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/78/802778/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/oslo_config_validator/tasks/container_run.yml', 'roles/oslo_config_validator/defaults/main.yml']",2,cfbdf04c097e45f7bd2ac938bc0a12584f12de3e,,"<<<<<<< HEAD (c1ec03 [ussuri-only] molecule-requirements constraints) ======= --- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # All variables intended for modification should place placed in this file. # All variables within this role should have a prefix of ""oslo_config_validator"" oslo_config_validator_debug: false # Comparison report with current settings and default settings oslo_config_validator_report: false # Returns all settings with possibly invalid values or simply inexistent # oslo.config uses a typed system for possible values of each settings. # if a setting is not typed correctly, or is non-existent, oslo-config-validator # will trigger an error here. oslo_config_validator_validation: true # This is a temporary folder used when generating reports. # It will be created and deleted if necessary on all the nodes oslo_config_validator_report_path: ""/var/tmp/config_validator_report"" # Whether or not we should archive into a single file the report after creation oslo_config_validator_report_archive: true # This is the working folder when running validations. It will be bind mounted # on the validation containers # It will be created and deleted if necessary on all the nodes oslo_config_validator_work_path: ""/var/lib/tripleo-config/oslo_config_validator"" # When running validation, whether or not we should check for invalid settings # This adds to the time it takes to complete validation because of the way # the validations_read_ini module works. oslo_config_validator_invalid_settings: true # These messages are globally ignored and will not trigger a validation failure oslo_config_validator_global_ignored_messages: - 'INFO:keyring.backend:Loading.*' - 'WARNING:oslo_config.generator:normalizing group name.*' - 'WARNING:stevedore.named:Could not load .*' - 'WARNING:root:Deprecated opt .*' - 'INFO:oslo_utils.netutils:Could not determine default network interface, using .*' - 'ERROR:root:quotas/quota_[^\s]+ {{ invalid_setting_regex }}' - '.*Ignoring option because it is part of the excluded patterns. This can be changed with the.*' # namespace configuration: # We can define configuration for each namespaces. # ignored_messages: list of regexes that, when returned from calling a validation using that # specific namespace, will be ignore # invalid_settings: list of settings that will trigger a failure if they are set to specific # values. Separator is meant to split the setting value and checking each # one of the values individually like nova filters. This is useful to # validate if deprecated or removed option values are still in use. # keys: # - section: configuration section (ie: DEFAULT) # - option: setting name (ie: debug) # - separator: string delimiter that will be used to convert value to a list # - value_list: List of strings that would be checked against. # - operator: Can be either these values, default being ""eq"": # - not: current value should not match exactly any element in value_list # - lt: current value should be lesser than first element of value_list # - gt: current value should be greater than first element of value_list # - eq: current value, if defined, should be equal to one element in value_list # oslo_config_validator_namespaces_config: - namespace: glance.store ignored_messages: - ""ERROR:stevedore.extension:Could not load '(glance.store.)*s3(.Store)*': No module named 'boto3'"" # NOTE(dvd): openstack/puppet-glance: https://review.opendev.org/775633 # This setting was removed from puppet registry in Wallaby # but it was removed from Glance a while ago. - 'ERROR:root:DEFAULT/enable_v1_api {{ invalid_setting_regex }}' - namespace: heat.common.config ignored_messages: # NOTE(dvd): openstack/heat fix: https://review.opendev.org/789680 # heat wasn't including its yaql and cache options by default. This is being worked # on during the Xena cycle and should hopefully be backported down to train. - 'ERROR:root:(yaql|(resource_finder_)*cache)/[^\s]+ {{ invalid_setting_regex }}' - namespace: ironic ignored_messages: # NOTE(dvd): openstack/puppet-ironic: https://review.opendev.org/789592 # This setting was removed a while ago but puppet registry was updated only only recently - 'ERROR:root:pxe/ipxe_enabled {{ invalid_setting_regex }}' # NOTE(dvd): openstack/puppet-ironic: https://review.opendev.org/790526 # This setting isn't used in ironic since 2013, it was removed in Xena cycle. - 'ERROR:root:conductor/max_time_interval {{ invalid_setting_regex }}' - namespace: keystonemiddleware.auth_token ignored_messages: - >- .*Ignoring missing option ""(auth_url|username|password|(user|project)_(domain_)*name)"" from group ""keystone_authtoken"" because the group is known to have incomplete sample config data and thus cannot be validated properly.* - namespace: neutron invalid_settings: - section: nova option: tenant_name operator: eq value_list: - service - section: nova option: project_name operator: eq value_list: - service - section: DEFAULT option: notify_nova_on_port_data_changes value_list: - ""True"" - section: DEFAULT option: notify_nova_on_port_status_changes value_list: - ""True"" ignored_messages: # NOTE(dvd): openstack/neutron: https://review.opendev.org/789648 - 'ERROR:root:placement/[^\s]+ {{ invalid_setting_regex }}' - namespace: cinder invalid_settings: - section: DEFAULT option: enable_v3_api value_list: - ""True"" ignored_messages: - 'ERROR:root:DEFAULT/api_paste_config {{ invalid_setting_regex }}' - namespace: nova.conf invalid_settings: - section: filter_scheduler option: enabled_filters separator: "","" value_list: - ExactCoreFilter - ExactRamFilter - ExactDiskFilter - CoreFilter - RamFilter - DiskFilter - section: DEFAULT option: vif_plugging_timeout operator: lt value_list: - 300 - section: DEFAULT option: vif_plugging_timeout value_list: - ""True"" ignored_messages: # NOTE(dvd): openstack/puppet-nova: https://review.opendev.org/789633 # This was erroneously categorized in the DEFAULT section but it should have been # under the vif_plug_ovs section. - 'ERROR:root:DEFAULT/ovsdb_connection {{ invalid_setting_regex }}' # NOTE(dvd): openstack/os-vif: https://review.opendev.org/789645 # os_vif had no list_opts entrypoint before Xena. - 'ERROR:root:vif_plug_ovs/ovsdb_connection {{ invalid_setting_regex }}' # These settings are used by openstacksdk and not part of oslo_config_opts. They are not taken # into account by oslo-config-(generator|validator) - 'ERROR:root:(cinder|service_user)/region_name {{ invalid_setting_regex }}' # Censoring password - 'WARNING:root:neutron/metadata_proxy_shared_secret sample value is empty but input-file has' # TODO(dvd): Needs to be investigated with TLSe - 'ERROR:root:cache/tls_enabled not found' # service configuration: # Configuration for each openstack services is stored here # config_files: List of config files with their specific namespaces # default_namespaces: List of namespaces that should be checked against each files # ignored_groups: List of groups that shouldn't be checked. This is passed as --exclude-group # to the oslo-config-validator command. # opt_data: Some sections are dynamically generated like cinder's backend sections. This will # generate a custom opt_data using the content of template_sections as options for # the list of items in index_key's values. This adds a lot of overhead to the parsing # because we need to spawn an oslo-config-generator to pull out the default yaml # config and build a new data structure from it. oslo_config_validator_service_configs: # https://opendev.org/openstack/nova/src/branch/master/etc/nova/nova-config-generator.conf nova: config_files: - path: /etc/nova/nova.conf namespaces: [] default_namespaces: - nova.conf - keystonemiddleware.auth_token - oslo.log - oslo.messaging - oslo.policy - oslo.privsep - oslo.service.periodic_task - oslo.service.service - oslo.db - oslo.db.concurrency - oslo.cache - oslo.middleware - oslo.concurrency - osprofiler # https://opendev.org/openstack/cinder/src/branch/master/tools/config/cinder-config-generator.conf cinder: config_files: - path: /etc/cinder/cinder.conf namespaces: [] ignored_groups: - nova - service_user opt_data: - index_key: section: DEFAULT option: enabled_backends separator: "","" template_section: - backend_defaults - backend default_namespaces: - cinder - keystonemiddleware.auth_token - oslo.log - oslo.messaging - oslo.policy - oslo.privsep - oslo.service.periodic_task - oslo.service.service - oslo.db - oslo.db.concurrency - oslo.middleware - oslo.concurrency - osprofiler # Glance has multiple files # https://opendev.org/openstack/glance/src/branch/master/etc/oslo-config-generator glance: ignored_groups: - ref1 - default_backend config_files: - path: /etc/glance/glance-api.conf namespaces: [] - path: /etc/glance/glance-cache.conf namespaces: [] - path: /etc/glance/glance-image-import.conf namespaces: [] - path: /etc/glance/glance-registry.conf namespaces: [] - path: /etc/glance/glance-scrubber.conf namespaces: [] - path: /etc/glance/glance-swift.conf namespaces: [] default_namespaces: - glance - glance.api - glance.store - glance.multi_store - keystonemiddleware.auth_token - oslo.log - oslo.messaging - oslo.policy - oslo.privsep - oslo.service.periodic_task - oslo.service.service - oslo.db - oslo.db.concurrency - oslo.middleware.cors - oslo.middleware.http_proxy_to_wsgi # https://opendev.org/openstack/heat/src/branch/master/config-generator.conf heat: config_files: - path: /etc/heat/heat.conf namespaces: [] default_namespaces: - heat.common.config - heat.common.context - heat.common.crypt - heat.engine.clients.os.keystone.heat_keystoneclient - heat.common.wsgi - heat.engine.clients - heat.engine.notification - heat.engine.resources - heat.api.aws.ec2token - keystonemiddleware.auth_token - oslo.messaging - oslo.middleware - oslo.db - oslo.log - oslo.policy - oslo.service.service - oslo.service.periodic_task - oslo.service.sslutils # https://opendev.org/openstack/ironic/src/branch/master/tools/config/ironic-config-generator.conf ironic: config_files: - path: /etc/ironic/ironic.conf namespaces: [] - path: /etc/ironic-inspector/inspector.conf namespaces: [] default_namespaces: - ironic - ironic_lib.disk_utils - ironic_lib.disk_partitioner - ironic_lib.exception - ironic_lib.mdns - ironic_lib.metrics - ironic_lib.metrics_statsd - ironic_lib.utils - oslo.db - oslo.messaging - oslo.middleware.cors - oslo.middleware.healthcheck - oslo.middleware.http_proxy_to_wsgi - oslo.concurrency - oslo.policy - oslo.log - oslo.reports - oslo.service.service - oslo.service.periodic_task - oslo.service.sslutils - osprofiler - keystonemiddleware.auth_token # https://opendev.org/openstack/placement/src/branch/master/etc/placement/config-generator.conf placement: config_files: - path: /etc/placement/placement.conf namespaces: [] default_namespaces: - placement.conf - keystonemiddleware.auth_token - oslo.log - oslo.middleware.cors - oslo.policy # https://opendev.org/openstack/neutron/src/branch/master/etc/oslo-config-generator/neutron.conf neutron: config_files: - path: /etc/neutron/neutron.conf namespaces: [] - path: /etc/neutron/plugins/ml2/ml2_conf.ini namespaces: [] default_namespaces: - neutron - neutron.agent - neutron.base.agent - neutron.db - neutron.extensions - nova.auth - ironic.auth - placement.auth - oslo.log - oslo.db - oslo.policy - oslo.privsep - oslo.concurrency - oslo.messaging - oslo.middleware.cors - oslo.middleware.http_proxy_to_wsgi - oslo.service.sslutils - oslo.service.wsgi - keystonemiddleware.auth_token # https://opendev.org/openstack/keystone/src/branch/master/config-generator/keystone.conf keystone: config_files: - path: /etc/keystone/keystone.conf namespaces: [] default_namespaces: - keystone - oslo.cache - oslo.log - oslo.messaging - oslo.policy - oslo.db - oslo.middleware - oslo.service.sslutils - osprofiler # Default value for the list of services to check. Default is we check all the services oslo_config_validator_checked_services: ""{{ oslo_config_validator_service_configs.keys() | list }}"" >>>>>>> CHANGE (16c689 oslo_config_validator: Setting container network to none) ",,516,0
openstack%2Ftripleo-validations~stable%2Fussuri~Ia8f787631c55fabb3a097919971d17b93711d4b7,openstack/tripleo-validations,stable/ussuri,Ia8f787631c55fabb3a097919971d17b93711d4b7,Sort jobs in molecule.yaml file when adding new role,MERGED,2021-07-06 10:30:55.000000000,2021-09-01 19:03:51.000000000,2021-09-01 19:03:51.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-06 10:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/90f1cd87f69c3b5dc96cc5e35178959f5f58666d', 'message': 'Sort jobs in molecule.yaml file when adding new role\n\nThis patch adds a mechanism to keep the job names in\nzuul.d/molecule.yaml sorted. Therefore, the to_nice_yaml filter is not\nindenting lists correctly, due to [1][2].\n\n[1] https://github.com/ansible/ansible/issues/48865\n[2] https://github.com/yaml/pyyaml/issues/234\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ia8f787631c55fabb3a097919971d17b93711d4b7\n(cherry picked from commit ae59abe62c65aaa7286090e2d1b98508d6c7ff6f)\n(cherry picked from commit cc29577f73da1c6227461731f04d37c244b29a0e)\n(cherry picked from commit da801771afd76d5ef595a3ac8314457b84ae891f)\n'}, {'number': 2, 'created': '2021-07-08 22:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/aa356e6babf45c423e77e88b19051218882d4749', 'message': 'Sort jobs in molecule.yaml file when adding new role\n\nThis patch adds a mechanism to keep the job names in\nzuul.d/molecule.yaml sorted. Therefore, the to_nice_yaml filter is not\nindenting lists correctly, due to [1][2].\n\n[1] https://github.com/ansible/ansible/issues/48865\n[2] https://github.com/yaml/pyyaml/issues/234\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ia8f787631c55fabb3a097919971d17b93711d4b7\n(cherry picked from commit ae59abe62c65aaa7286090e2d1b98508d6c7ff6f)\n(cherry picked from commit cc29577f73da1c6227461731f04d37c244b29a0e)\n(cherry picked from commit da801771afd76d5ef595a3ac8314457b84ae891f)\n'}, {'number': 3, 'created': '2021-07-09 14:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/824a73d6b0c937e9dd986fc58cedf563b107dd06', 'message': 'Sort jobs in molecule.yaml file when adding new role\n\nThis patch adds a mechanism to keep the job names in\nzuul.d/molecule.yaml sorted. Therefore, the to_nice_yaml filter is not\nindenting lists correctly, due to [1][2].\n\n[1] https://github.com/ansible/ansible/issues/48865\n[2] https://github.com/yaml/pyyaml/issues/234\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ia8f787631c55fabb3a097919971d17b93711d4b7\n(cherry picked from commit ae59abe62c65aaa7286090e2d1b98508d6c7ff6f)\n(cherry picked from commit cc29577f73da1c6227461731f04d37c244b29a0e)\n(cherry picked from commit da801771afd76d5ef595a3ac8314457b84ae891f)\n'}, {'number': 4, 'created': '2021-07-09 18:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bae1f7a59ecf798785bbff7c5817e83079a387a6', 'message': 'Sort jobs in molecule.yaml file when adding new role\n\nThis patch adds a mechanism to keep the job names in\nzuul.d/molecule.yaml sorted. Therefore, the to_nice_yaml filter is not\nindenting lists correctly, due to [1][2].\n\n[1] https://github.com/ansible/ansible/issues/48865\n[2] https://github.com/yaml/pyyaml/issues/234\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ia8f787631c55fabb3a097919971d17b93711d4b7\n(cherry picked from commit ae59abe62c65aaa7286090e2d1b98508d6c7ff6f)\n(cherry picked from commit cc29577f73da1c6227461731f04d37c244b29a0e)\n(cherry picked from commit da801771afd76d5ef595a3ac8314457b84ae891f)\n'}, {'number': 5, 'created': '2021-07-11 02:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6ce45573b023ec68a58f5d04d0513dd494399e22', 'message': 'Sort jobs in molecule.yaml file when adding new role\n\nThis patch adds a mechanism to keep the job names in\nzuul.d/molecule.yaml sorted. Therefore, the to_nice_yaml filter is not\nindenting lists correctly, due to [1][2].\n\n[1] https://github.com/ansible/ansible/issues/48865\n[2] https://github.com/yaml/pyyaml/issues/234\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ia8f787631c55fabb3a097919971d17b93711d4b7\n(cherry picked from commit ae59abe62c65aaa7286090e2d1b98508d6c7ff6f)\n(cherry picked from commit cc29577f73da1c6227461731f04d37c244b29a0e)\n(cherry picked from commit da801771afd76d5ef595a3ac8314457b84ae891f)\n'}, {'number': 6, 'created': '2021-07-11 02:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ab9b087282b3c3be4263964c0edf6ea91972ad1c', 'message': 'Sort jobs in molecule.yaml file when adding new role\n\nThis patch adds a mechanism to keep the job names in\nzuul.d/molecule.yaml sorted. Therefore, the to_nice_yaml filter is not\nindenting lists correctly, due to [1][2].\n\n[1] https://github.com/ansible/ansible/issues/48865\n[2] https://github.com/yaml/pyyaml/issues/234\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ia8f787631c55fabb3a097919971d17b93711d4b7\n(cherry picked from commit ae59abe62c65aaa7286090e2d1b98508d6c7ff6f)\n(cherry picked from commit cc29577f73da1c6227461731f04d37c244b29a0e)\n(cherry picked from commit da801771afd76d5ef595a3ac8314457b84ae891f)\n'}, {'number': 7, 'created': '2021-08-20 05:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/37a50847e972f19e383ac7b208098ccb086cda22', 'message': 'Sort jobs in molecule.yaml file when adding new role\n\nThis patch adds a mechanism to keep the job names in\nzuul.d/molecule.yaml sorted. Therefore, the to_nice_yaml filter is not\nindenting lists correctly, due to [1][2].\n\n[1] https://github.com/ansible/ansible/issues/48865\n[2] https://github.com/yaml/pyyaml/issues/234\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ia8f787631c55fabb3a097919971d17b93711d4b7\n(cherry picked from commit ae59abe62c65aaa7286090e2d1b98508d6c7ff6f)\n(cherry picked from commit cc29577f73da1c6227461731f04d37c244b29a0e)\n(cherry picked from commit da801771afd76d5ef595a3ac8314457b84ae891f)\n'}, {'number': 8, 'created': '2021-08-20 06:00:08.000000000', 'files': ['roles/validation_init/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/39d5f55d9dfc9d73f15b78d3c61fcd324bf7d05e', 'message': 'Sort jobs in molecule.yaml file when adding new role\n\nThis patch adds a mechanism to keep the job names in\nzuul.d/molecule.yaml sorted. Therefore, the to_nice_yaml filter is not\nindenting lists correctly, due to [1][2].\n\n[1] https://github.com/ansible/ansible/issues/48865\n[2] https://github.com/yaml/pyyaml/issues/234\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ia8f787631c55fabb3a097919971d17b93711d4b7\n(cherry picked from commit ae59abe62c65aaa7286090e2d1b98508d6c7ff6f)\n(cherry picked from commit cc29577f73da1c6227461731f04d37c244b29a0e)\n(cherry picked from commit da801771afd76d5ef595a3ac8314457b84ae891f)\n'}]",0,799627,39d5f55d9dfc9d73f15b78d3c61fcd324bf7d05e,24,4,8,11491,,,0,"Sort jobs in molecule.yaml file when adding new role

This patch adds a mechanism to keep the job names in
zuul.d/molecule.yaml sorted. Therefore, the to_nice_yaml filter is not
indenting lists correctly, due to [1][2].

[1] https://github.com/ansible/ansible/issues/48865
[2] https://github.com/yaml/pyyaml/issues/234

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: Ia8f787631c55fabb3a097919971d17b93711d4b7
(cherry picked from commit ae59abe62c65aaa7286090e2d1b98508d6c7ff6f)
(cherry picked from commit cc29577f73da1c6227461731f04d37c244b29a0e)
(cherry picked from commit da801771afd76d5ef595a3ac8314457b84ae891f)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/27/799627/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validation_init/tasks/main.yml'],1,90f1cd87f69c3b5dc96cc5e35178959f5f58666d,," # Managed via ./role-addition.yml, do not edit manually without testing that # new role addition does not reformat it. } {% set project = items.pop(0) %} {% set sorted_jobs = items | sort(attribute='job.name') %} {% set _ = sorted_jobs.insert(0, project) %} {{ sorted_jobs | to_nice_yaml(indent=2, width=1337) }}"," } {{ items | to_nice_yaml(indent=2, width=1337) }}",7,2
openstack%2Freleases~master~I43742e4df4717707df42d87111b7ad3f7314e1ec,openstack/releases,master,I43742e4df4717707df42d87111b7ad3f7314e1ec,Release final python-watcherclient for Xena,MERGED,2021-08-30 14:06:58.000000000,2021-09-01 19:03:24.000000000,2021-09-01 19:03:24.000000000,"[{'_account_id': 17685}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-08-30 14:06:58.000000000', 'files': ['deliverables/xena/python-watcherclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8a0d55cf2ce2374922ad015fb6f185154b6c6a4e', 'message': 'Release final python-watcherclient for Xena\n\nThis proposed a release for python-watcherclient to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 02.\n\n$ git log --oneline --no-merges 3.2.0..dc9b5cb\ncf18f56 Changed minversion in tox to 3.18.0\nf2f882e Switch testing to Xena testing runtime\nadd4254 Replace deprecated UPPER_CONSTRAINTS_FILE variable\n6a4937d setup.cfg: Replace dashes with underscores\nd0f4199 Use py3 as the default runtime for tox\n52a3fd0 Drop lower constraints testing\nc97e16f remove unicode from code\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I43742e4df4717707df42d87111b7ad3f7314e1ec\n'}]",0,806596,8a0d55cf2ce2374922ad015fb6f185154b6c6a4e,9,5,1,28522,,,0,"Release final python-watcherclient for Xena

This proposed a release for python-watcherclient to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 02.

$ git log --oneline --no-merges 3.2.0..dc9b5cb
cf18f56 Changed minversion in tox to 3.18.0
f2f882e Switch testing to Xena testing runtime
add4254 Replace deprecated UPPER_CONSTRAINTS_FILE variable
6a4937d setup.cfg: Replace dashes with underscores
d0f4199 Use py3 as the default runtime for tox
52a3fd0 Drop lower constraints testing
c97e16f remove unicode from code

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I43742e4df4717707df42d87111b7ad3f7314e1ec
",git fetch https://review.opendev.org/openstack/releases refs/changes/96/806596/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/python-watcherclient.yaml'],1,8a0d55cf2ce2374922ad015fb6f185154b6c6a4e,xena-milestone-3,releases: - version: 3.3.0 projects: - repo: openstack/python-watcherclient hash: dc9b5cb347bc50595670fa9df90c00d52734395d,,5,0
openstack%2Freleases~master~I2e26c49ef0428e77da09c86890d63912f3af722b,openstack/releases,master,I2e26c49ef0428e77da09c86890d63912f3af722b,Release python-openstackclient for Xena,MERGED,2021-09-01 07:19:03.000000000,2021-09-01 18:58:18.000000000,2021-09-01 18:58:18.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-01 07:19:03.000000000', 'files': ['deliverables/xena/python-openstackclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/814c91fcacc2cb961882a549c73e647ddecbb5f3', 'message': 'Release python-openstackclient for Xena\n\nChange-Id: I2e26c49ef0428e77da09c86890d63912f3af722b\n'}]",0,806852,814c91fcacc2cb961882a549c73e647ddecbb5f3,8,3,1,27900,,,0,"Release python-openstackclient for Xena

Change-Id: I2e26c49ef0428e77da09c86890d63912f3af722b
",git fetch https://review.opendev.org/openstack/releases refs/changes/52/806852/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/python-openstackclient.yaml'],1,814c91fcacc2cb961882a549c73e647ddecbb5f3,,releases: - version: 5.6.0 projects: - repo: openstack/python-openstackclient hash: 6ce7da8aeb7e5d1347940433e087036e8e43eaa6,,5,0
openstack%2Freleases~master~I4372568fde58319c5d96ca0614411d96a98c562f,openstack/releases,master,I4372568fde58319c5d96ca0614411d96a98c562f,Release 5.5.1 of python-openstackclient,MERGED,2021-09-01 12:43:58.000000000,2021-09-01 18:50:02.000000000,2021-09-01 18:50:02.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-01 12:43:58.000000000', 'files': ['deliverables/wallaby/python-openstackclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3f6cfc0917629cf06870bff8344a82d1843a76a3', 'message': 'Release 5.5.1 of python-openstackclient\n\nThis minor release for stable/wallaby fixes unit tests for distros\nwhere testtools does not provide the deprecated assertItemsEqual\nmethod [1][2].\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n\nChange-Id: I4372568fde58319c5d96ca0614411d96a98c562f\n'}]",0,806923,3f6cfc0917629cf06870bff8344a82d1843a76a3,12,4,1,13294,,,0,"Release 5.5.1 of python-openstackclient

This minor release for stable/wallaby fixes unit tests for distros
where testtools does not provide the deprecated assertItemsEqual
method [1][2].

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd

Change-Id: I4372568fde58319c5d96ca0614411d96a98c562f
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/806923/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/python-openstackclient.yaml'],1,3f6cfc0917629cf06870bff8344a82d1843a76a3,, - version: 5.5.1 projects: - repo: openstack/python-openstackclient hash: 53f1efa010f9319ef939109d2ed5c4a852271d74,,4,0
openstack%2Ftripleo-validations~master~I032f8a463b554154d61a36a12ee6b136d0196224,openstack/tripleo-validations,master,I032f8a463b554154d61a36a12ee6b136d0196224,Moved 'six' import to the top.,MERGED,2021-06-02 12:25:10.000000000,2021-09-01 18:39:49.000000000,2021-09-01 18:38:16.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2021-06-02 12:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7fafb9b9b14895ac41770f6fba09b77a35bdc0d7', 'message': ""Moved 'six' import to the top.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I032f8a463b554154d61a36a12ee6b136d0196224\n""}, {'number': 2, 'created': '2021-06-02 14:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/998a319702a3803dd12b622d6fc1f078ef05476b', 'message': ""Moved 'six' import to the top.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I032f8a463b554154d61a36a12ee6b136d0196224\n""}, {'number': 3, 'created': '2021-06-03 13:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/74a30404141684862e1a55107c499f5fcd25c0bd', 'message': ""Moved 'six' import to the top.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I032f8a463b554154d61a36a12ee6b136d0196224\n""}, {'number': 4, 'created': '2021-06-08 13:10:38.000000000', 'files': ['library/ceph_pools_pg_protection.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7fe77b4088570bfabc9eeb35aa131c6eec390bd3', 'message': ""Moved 'six' import to the top.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I032f8a463b554154d61a36a12ee6b136d0196224\n""}]",0,794209,7fe77b4088570bfabc9eeb35aa131c6eec390bd3,13,3,4,32926,,,0,"Moved 'six' import to the top.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I032f8a463b554154d61a36a12ee6b136d0196224
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/09/794209/4 && git format-patch -1 --stdout FETCH_HEAD,['library/ceph_pools_pg_protection.py'],1,7fafb9b9b14895ac41770f6fba09b77a35bdc0d7,ceph_pools_pg_protection/style/import,import six , import six,2,1
openstack%2Ftripleo-validations~stable%2Fussuri~I3a54abe72a68da04c57c05a71e4eace93225f058,openstack/tripleo-validations,stable/ussuri,I3a54abe72a68da04c57c05a71e4eace93225f058,Corrected the task 'Get file_descriptors total_limit' to get the 'fs.file-max' value.,MERGED,2021-07-26 09:47:16.000000000,2021-09-01 18:38:14.000000000,2021-09-01 18:38:14.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 30075}]","[{'number': 1, 'created': '2021-07-26 09:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1dc1ea9bd9f9fcd9925641e032271f0a98a8e5e6', 'message': ""Corrected the task 'Get file_descriptors total_limit' to get the\n'fs.file-max' value.\n\nCloses-Bug: #1934656\nChange-Id: I3a54abe72a68da04c57c05a71e4eace93225f058\n(cherry picked from commit e610926e80e2841fc6c7459ef295c1dec4df0eed)\n""}, {'number': 2, 'created': '2021-08-20 05:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1b57078f8e5ef7f6e3f80499251108e9d45cbf50', 'message': ""Corrected the task 'Get file_descriptors total_limit' to get the\n'fs.file-max' value.\n\nCloses-Bug: #1934656\nChange-Id: I3a54abe72a68da04c57c05a71e4eace93225f058\n(cherry picked from commit e610926e80e2841fc6c7459ef295c1dec4df0eed)\n""}, {'number': 3, 'created': '2021-08-20 05:59:46.000000000', 'files': ['roles/rabbitmq_limits/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/77581d42f9f5c7d74178127349ac6bb10d3d7f92', 'message': ""Corrected the task 'Get file_descriptors total_limit' to get the\n'fs.file-max' value.\n\nCloses-Bug: #1934656\nChange-Id: I3a54abe72a68da04c57c05a71e4eace93225f058\n(cherry picked from commit e610926e80e2841fc6c7459ef295c1dec4df0eed)\n""}]",0,802249,77581d42f9f5c7d74178127349ac6bb10d3d7f92,17,7,3,32926,,,0,"Corrected the task 'Get file_descriptors total_limit' to get the
'fs.file-max' value.

Closes-Bug: #1934656
Change-Id: I3a54abe72a68da04c57c05a71e4eace93225f058
(cherry picked from commit e610926e80e2841fc6c7459ef295c1dec4df0eed)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/49/802249/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/rabbitmq_limits/tasks/main.yml'],1,1dc1ea9bd9f9fcd9925641e032271f0a98a8e5e6,, sysctl -n fs.file-max, rabbitmqctl eval 'sysctl -n fs.file-max',1,1
openstack%2Frequirements~master~I7f68c753bd96e529fd060c7505a97a89f6dee600,openstack/requirements,master,I7f68c753bd96e529fd060c7505a97a89f6dee600,Updated from generate-constraints,MERGED,2021-08-31 06:38:39.000000000,2021-09-01 18:31:00.000000000,2021-09-01 18:28:57.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-31 06:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7ad6ffec60227106a9e8d6f3f01aa49e8c097638', 'message': 'Updated from generate-constraints\n\nChange-Id: I7f68c753bd96e529fd060c7505a97a89f6dee600\n'}, {'number': 2, 'created': '2021-09-01 06:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4fb1d8fbb82728d3983576cad025539ee63629e7', 'message': 'Updated from generate-constraints\n\nChange-Id: I7f68c753bd96e529fd060c7505a97a89f6dee600\n'}, {'number': 3, 'created': '2021-09-01 15:33:33.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/cdd694798610082effde7c9846e4c580f73b4c96', 'message': 'Updated from generate-constraints\n\nChange-Id: I7f68c753bd96e529fd060c7505a97a89f6dee600\n'}]",0,806680,cdd694798610082effde7c9846e4c580f73b4c96,15,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: I7f68c753bd96e529fd060c7505a97a89f6dee600
",git fetch https://review.opendev.org/openstack/requirements refs/changes/80/806680/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7ad6ffec60227106a9e8d6f3f01aa49e8c097638,openstack/requirements/constraints/noclob,ntc-templates===2.3.1pytest===6.2.5XStatic-Angular===1.8.2.1zeroconf===0.36.2pkg_resources===0.0.0pluggy===1.0.0platformdirs===2.3.0boto3===1.18.32botocore===1.21.32oslo.db===11.0.0alembic===1.7.1fasteners===0.16.3typing-extensions===3.10.0.2,ntc-templates===2.3.0pytest===6.2.4XStatic-Angular===1.5.8.0zeroconf===0.36.1pluggy===0.13.1platformdirs===2.2.0boto3===1.18.31botocore===1.21.31oslo.db===10.0.0alembic===1.6.5fasteners===0.14.1python-editor===1.0.4typing-extensions===3.10.0.1setuptools===57.4.0,13,14
openstack%2Fpython-manilaclient~stable%2Fwallaby~Ied983d85ca08a123b78bf8b05085fad8fe5bc2c5,openstack/python-manilaclient,stable/wallaby,Ied983d85ca08a123b78bf8b05085fad8fe5bc2c5,Fix error in CLI 'manila list' with sorting key 'availability_zone'.,MERGED,2021-05-20 15:59:46.000000000,2021-09-01 18:25:58.000000000,2021-09-01 18:23:46.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29156}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30025}]","[{'number': 1, 'created': '2021-05-20 15:59:46.000000000', 'files': ['manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/v2/shares.py', 'manilaclient/common/constants.py', 'releasenotes/notes/bug-1920888-fix-error-in-cli-manila-list-with-sorting-key-availabilityzone-cea5a1f5d8a38fc3.yaml'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/c338a6c2d02bf94e46904e5998ebdf1a357d2866', 'message': ""Fix error in CLI 'manila list' with sorting key 'availability_zone'.\n\nCLI 'manila list --sort-key availability_zone' return http 400 code,\nand error message 'Wrong sorting key provided'.\n\nThe cause is that sortble key name in sqlAlchemy model field is\n'availability_zone_id' , not 'availability_zone'.  So we need a\ntranslation in CLI implement.\n\nCloses-Bug: #1920888\nChange-Id: Ied983d85ca08a123b78bf8b05085fad8fe5bc2c5\n(cherry picked from commit 69031b558d600e507b86dc1ee0a7087ac9436219)\n""}]",0,792289,c338a6c2d02bf94e46904e5998ebdf1a357d2866,11,6,1,16643,,,0,"Fix error in CLI 'manila list' with sorting key 'availability_zone'.

CLI 'manila list --sort-key availability_zone' return http 400 code,
and error message 'Wrong sorting key provided'.

The cause is that sortble key name in sqlAlchemy model field is
'availability_zone_id' , not 'availability_zone'.  So we need a
translation in CLI implement.

Closes-Bug: #1920888
Change-Id: Ied983d85ca08a123b78bf8b05085fad8fe5bc2c5
(cherry picked from commit 69031b558d600e507b86dc1ee0a7087ac9436219)
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/89/792289/1 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/v2/shares.py', 'manilaclient/common/constants.py', 'releasenotes/notes/bug-1920888-fix-error-in-cli-manila-list-with-sorting-key-availabilityzone-cea5a1f5d8a38fc3.yaml']",4,c338a6c2d02bf94e46904e5998ebdf1a357d2866,bug/1920888,--- fixes: - | `Launchpad bug 1920888 <https://bugs.launchpad.net/manila/+bug/1920888>`_: Fix the bug in CLI 'manila list' with sorting key 'availability_zone'.,,10,1
openstack%2Freleases~master~Icbd82c6841d443d8f008f29e7ef95bd207da3e20,openstack/releases,master,Icbd82c6841d443d8f008f29e7ef95bd207da3e20,Cinder team releases for stable/wallaby,MERGED,2021-09-01 05:26:20.000000000,2021-09-01 18:13:12.000000000,2021-09-01 18:13:12.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-01 05:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/078a2fbcebe25e83d991b3a4a555d47c2b137356', 'message': 'Cinder team releases for stable/wallaby\n\nNot being released at this time:\n- cinderlib (no functional changes in branch)\n- python-brick-cinderclient-ext (no functional changes in branch)\n\nChange-Id: Icbd82c6841d443d8f008f29e7ef95bd207da3e20\n'}, {'number': 2, 'created': '2021-09-01 14:44:15.000000000', 'files': ['deliverables/wallaby/os-brick.yaml', 'deliverables/wallaby/cinder.yaml', 'deliverables/wallaby/python-cinderclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/78e08a9ab990140be315cffba910fa1b3b01c74e', 'message': 'Cinder team releases for stable/wallaby\n\nNot being released at this time:\n- cinderlib (no functional changes in branch)\n- python-brick-cinderclient-ext (no functional changes in branch)\n\nChange-Id: Icbd82c6841d443d8f008f29e7ef95bd207da3e20\n'}]",2,806831,78e08a9ab990140be315cffba910fa1b3b01c74e,15,5,2,27615,,,0,"Cinder team releases for stable/wallaby

Not being released at this time:
- cinderlib (no functional changes in branch)
- python-brick-cinderclient-ext (no functional changes in branch)

Change-Id: Icbd82c6841d443d8f008f29e7ef95bd207da3e20
",git fetch https://review.opendev.org/openstack/releases refs/changes/31/806831/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/os-brick.yaml', 'deliverables/wallaby/cinder.yaml', 'deliverables/wallaby/python-cinderclient.yaml']",3,078a2fbcebe25e83d991b3a4a555d47c2b137356,, - version: 7.4.1 projects: - repo: openstack/python-cinderclient hash: 4f72e6f0c218751d28c8442d401e2fd2abcec1ea,,12,0
openstack%2Freleases~master~I41a47fac39a275db84a1d97d333013c89777a935,openstack/releases,master,I41a47fac39a275db84a1d97d333013c89777a935,Release final python-glanceclient for Xena,MERGED,2021-08-30 13:55:11.000000000,2021-09-01 18:11:28.000000000,2021-09-01 18:11:28.000000000,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-30 13:55:11.000000000', 'files': ['deliverables/xena/python-glanceclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/917396127721aac1f4f24f4c9296ed7bc89be24c', 'message': 'Release final python-glanceclient for Xena\n\nThis proposed a release for python-glanceclient to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 02.\n\n$ git log --oneline --no-merges 3.4.0..74a55bd\n1eb0bbb Fix undesirable raw Python error\ncb084f5 Add member-get command\n158d5f4 Clean up extra spaces\nb443996 setup.cfg: Replace dashes with underscores\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I41a47fac39a275db84a1d97d333013c89777a935\n'}]",0,806586,917396127721aac1f4f24f4c9296ed7bc89be24c,10,5,1,28522,,,0,"Release final python-glanceclient for Xena

This proposed a release for python-glanceclient to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 02.

$ git log --oneline --no-merges 3.4.0..74a55bd
1eb0bbb Fix undesirable raw Python error
cb084f5 Add member-get command
158d5f4 Clean up extra spaces
b443996 setup.cfg: Replace dashes with underscores

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I41a47fac39a275db84a1d97d333013c89777a935
",git fetch https://review.opendev.org/openstack/releases refs/changes/86/806586/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/python-glanceclient.yaml'],1,917396127721aac1f4f24f4c9296ed7bc89be24c,xena-milestone-3, - version: 3.5.0 projects: - repo: openstack/python-glanceclient hash: 74a55bd2fc0bd5fcab75d6be197eff0882470da7,,4,0
openstack%2Fnova~master~Ibccbb93352f93dba7e15e1f77be9ee0fc466fee0,openstack/nova,master,Ibccbb93352f93dba7e15e1f77be9ee0fc466fee0,Expose the mdev class,MERGED,2021-07-22 09:25:38.000000000,2021-09-01 17:47:25.000000000,2021-09-01 11:00:10.000000000,"[{'_account_id': 7166}, {'_account_id': 7543}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-22 09:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab545a7f4d77926f1b645feb829061c65bcdd90d', 'message': ""DNM (yet) : Expose the mdev class\n\nIt's the last change for the series, we will expose this new option\nafter using it.\n\nChange-Id: Ibccbb93352f93dba7e15e1f77be9ee0fc466fee0\nImplements: blueprint generic-mdevs\n""}, {'number': 2, 'created': '2021-07-29 16:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/48a7918c16348e022c6ed6a7e55daef2a2dad219', 'message': ""DNM (yet) : Expose the mdev class\n\nIt's the last change for the series, we will expose this new option\nafter using it.\n\nChange-Id: Ibccbb93352f93dba7e15e1f77be9ee0fc466fee0\nImplements: blueprint generic-mdevs\n""}, {'number': 3, 'created': '2021-07-30 11:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3988c9672d3ef8330d8776c042b2475252ee300f', 'message': ""DNM (yet) : Expose the mdev class\n\nIt's the last change for the series, we will expose this new option\nafter using it.\n\nChange-Id: Ibccbb93352f93dba7e15e1f77be9ee0fc466fee0\nImplements: blueprint generic-mdevs\n""}, {'number': 4, 'created': '2021-07-30 11:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a710a68932fe4698e08f5c5de5e38656f6dd88bc', 'message': ""DNM (yet) : Expose the mdev class\n\nIt's the last change for the series, we will expose this new option\nafter using it.\n\nChange-Id: Ibccbb93352f93dba7e15e1f77be9ee0fc466fee0\nImplements: blueprint generic-mdevs\n""}, {'number': 5, 'created': '2021-07-30 16:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aab45e7d69c40bd8991ebfa260752625bdfe3e93', 'message': ""DNM (yet) : Expose the mdev class\n\nIt's the last change for the series, we will expose this new option\nafter using it.\n\nChange-Id: Ibccbb93352f93dba7e15e1f77be9ee0fc466fee0\nImplements: blueprint generic-mdevs\n""}, {'number': 6, 'created': '2021-08-02 16:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4957d3603899f86e273a39c4d4c1602f17a502f', 'message': ""DNM (yet) : Expose the mdev class\n\nIt's the last change for the series, we will expose this new option\nafter using it.\n\nChange-Id: Ibccbb93352f93dba7e15e1f77be9ee0fc466fee0\nImplements: blueprint generic-mdevs\n""}, {'number': 7, 'created': '2021-08-02 17:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a10b3e7d2ed753ab5061bdd2b689b3cf74f9448', 'message': ""WIP : Expose the mdev class\n\nTODO: Add documentation + relnote\n\nIt's the last change for the series, we will expose this new option\nafter using it.\n\nChange-Id: Ibccbb93352f93dba7e15e1f77be9ee0fc466fee0\nImplements: blueprint generic-mdevs\n""}, {'number': 8, 'created': '2021-08-03 11:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5814fc95c3f0d1401d152f78a40cfef7954d1f1d', 'message': ""Expose the mdev class\n\nIt's the last change for the series, we will expose this new option\nafter using it.\n\nChange-Id: Ibccbb93352f93dba7e15e1f77be9ee0fc466fee0\nImplements: blueprint generic-mdevs\n""}, {'number': 9, 'created': '2021-08-03 12:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d80462245fd6364ea4fd5dbb5bdbc4c499f4a59', 'message': ""Expose the mdev class\n\nIt's the last change for the series, we will expose this new option\nafter using it.\n\nChange-Id: Ibccbb93352f93dba7e15e1f77be9ee0fc466fee0\nImplements: blueprint generic-mdevs\n""}, {'number': 10, 'created': '2021-08-03 16:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/293a275839581576a811cd74e5d0e5c927cdab4f', 'message': ""Expose the mdev class\n\nIt's the last change for the series, we will expose this new option\nafter using it.\n\nChange-Id: Ibccbb93352f93dba7e15e1f77be9ee0fc466fee0\nImplements: blueprint generic-mdevs\n""}, {'number': 11, 'created': '2021-08-04 09:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/75e3123bca8f32350c91ec361ca4f7008928c6f7', 'message': ""Expose the mdev class\n\nIt's the last change for the series, we will expose this new option\nafter using it.\n\nChange-Id: Ibccbb93352f93dba7e15e1f77be9ee0fc466fee0\nImplements: blueprint generic-mdevs\n""}, {'number': 12, 'created': '2021-08-04 13:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b76f800b5a594805ca4155547afb7fd7ce37655', 'message': ""Expose the mdev class\n\nIt's the last change for the series, we will expose this new option\nafter using it.\n\nChange-Id: Ibccbb93352f93dba7e15e1f77be9ee0fc466fee0\nImplements: blueprint generic-mdevs\n""}, {'number': 13, 'created': '2021-08-05 09:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8897f298077f7bdd7bb21df931ec30cec69abb0b', 'message': ""Expose the mdev class\n\nIt's the last change for the series, we will expose this new option\nafter using it.\n\nChange-Id: Ibccbb93352f93dba7e15e1f77be9ee0fc466fee0\nImplements: blueprint generic-mdevs\n""}, {'number': 14, 'created': '2021-08-06 15:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20d234593b3c98034c8690697f8061821ce4e960', 'message': ""Expose the mdev class\n\nIt's the last change for the series, we will expose this new option\nafter using it.\n\nChange-Id: Ibccbb93352f93dba7e15e1f77be9ee0fc466fee0\nImplements: blueprint generic-mdevs\n""}, {'number': 15, 'created': '2021-08-06 15:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ae20be9c8c324bc1f1491b92c22dd3e019208d6', 'message': ""Expose the mdev class\n\nIt's the last change for the series, we will expose this new option\nafter using it.\n\nChange-Id: Ibccbb93352f93dba7e15e1f77be9ee0fc466fee0\nImplements: blueprint generic-mdevs\n""}, {'number': 16, 'created': '2021-08-27 14:19:51.000000000', 'files': ['nova/tests/functional/libvirt/test_vgpu.py', 'nova/conf/devices.py', 'nova/virt/libvirt/driver.py', 'releasenotes/notes/generic_mdevs_2-d1b1c71e8035527f.yaml', 'nova/tests/unit/conf/test_devices.py', 'nova/tests/fixtures/libvirt.py', 'nova/tests/functional/libvirt/test_reshape.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9be996c696e91e82d11d81db72ffb4cc151598b6', 'message': ""Expose the mdev class\n\nIt's the last functional change for the series,\nwe will expose this new option after using it.\ndoc changes will be addressed in a follow up patch.\n\nChange-Id: Ibccbb93352f93dba7e15e1f77be9ee0fc466fee0\nImplements: blueprint generic-mdevs\n""}]",37,801743,9be996c696e91e82d11d81db72ffb4cc151598b6,98,7,16,7166,,,0,"Expose the mdev class

It's the last functional change for the series,
we will expose this new option after using it.
doc changes will be addressed in a follow up patch.

Change-Id: Ibccbb93352f93dba7e15e1f77be9ee0fc466fee0
Implements: blueprint generic-mdevs
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/801743/13 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/devices.py', 'nova/tests/unit/conf/test_devices.py']",2,ab545a7f4d77926f1b645feb829061c65bcdd90d,bp/generic-mdevs," self.assertEqual('vgpu', getattr(CONF, 'mdev_nvidia-11').mdev_class) self.assertEqual('vgpu', getattr(CONF, 'mdev_nvidia-12').mdev_class)",,12,2
openstack%2Frequirements~master~I06b259e94a735b11e0d1ab3170857c07fb3bf0bd,openstack/requirements,master,I06b259e94a735b11e0d1ab3170857c07fb3bf0bd,update constraint for python-troveclient to new release 7.1.1,MERGED,2021-09-01 13:47:20.000000000,2021-09-01 17:38:13.000000000,2021-09-01 17:35:13.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-01 13:47:20.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2a7cec25243827b9a4a5ecb83b9bc897675500da', 'message': 'update constraint for python-troveclient to new release 7.1.1\n\nmeta: version: 7.1.1\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ic98587141f737b65a2bd57be50b08a1c8b6bdd44\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Lingxian Kong <anlin.kong@gmail.com>\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: I06b259e94a735b11e0d1ab3170857c07fb3bf0bd\n'}]",0,806934,2a7cec25243827b9a4a5ecb83b9bc897675500da,9,3,1,11131,,,0,"update constraint for python-troveclient to new release 7.1.1

meta: version: 7.1.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ic98587141f737b65a2bd57be50b08a1c8b6bdd44
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Lingxian Kong <anlin.kong@gmail.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: I06b259e94a735b11e0d1ab3170857c07fb3bf0bd
",git fetch https://review.opendev.org/openstack/requirements refs/changes/34/806934/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,2a7cec25243827b9a4a5ecb83b9bc897675500da,new-release,python-troveclient===7.1.1,python-troveclient===7.1.0,1,1
openstack%2Frequirements~master~Iaf000ea45987d29f5d12a3118d8192a9f6511001,openstack/requirements,master,Iaf000ea45987d29f5d12a3118d8192a9f6511001,update constraint for python-zunclient to new release 4.3.0,MERGED,2021-09-01 08:41:57.000000000,2021-09-01 17:37:01.000000000,2021-09-01 17:35:11.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-01 08:41:57.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5d51600580e73bab9c9ff0c4db27d56356d5571a', 'message': 'update constraint for python-zunclient to new release 4.3.0\n\nmeta: version: 4.3.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ibc2e2c947122a4914e75ad8e078c65cdce0daec5\nmeta: release:Code-Review+1: Stephen Finucane <stephenfin@redhat.com>\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Code-Review+1: hongbin <hongbin034@gmail.com>\nmeta: release:Code-Review+1: feng.shengqin <feng.shengqin@zte.com.cn>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: Iaf000ea45987d29f5d12a3118d8192a9f6511001\n'}]",0,806872,5d51600580e73bab9c9ff0c4db27d56356d5571a,12,3,1,11131,,,0,"update constraint for python-zunclient to new release 4.3.0

meta: version: 4.3.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ibc2e2c947122a4914e75ad8e078c65cdce0daec5
meta: release:Code-Review+1: Stephen Finucane <stephenfin@redhat.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Code-Review+1: hongbin <hongbin034@gmail.com>
meta: release:Code-Review+1: feng.shengqin <feng.shengqin@zte.com.cn>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: Iaf000ea45987d29f5d12a3118d8192a9f6511001
",git fetch https://review.opendev.org/openstack/requirements refs/changes/72/806872/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5d51600580e73bab9c9ff0c4db27d56356d5571a,new-release,python-zunclient===4.3.0,python-zunclient===4.2.0,1,1
openstack%2Fhorizon~master~I9eafb9b355a5462b6b0f1dfe5a7eb083c3991adf,openstack/horizon,master,I9eafb9b355a5462b6b0f1dfe5a7eb083c3991adf,Fix wrong source when volume launched as instance,NEW,2021-06-01 13:38:58.000000000,2021-09-01 17:29:59.000000000,,"[{'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 33914}]","[{'number': 1, 'created': '2021-06-01 13:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/28c6fe0910103da407e0bee2b0a9c2878cf15f5c', 'message': 'Fix wrong source when volume launched as instance\n\nWhen volume launched as instance, source tab is not updated to selected\nvolume, and Nova get malformed request with image source type and volume\nid leading to 400 response\n\nCloses-Bug: #1930420\nChange-Id: I9eafb9b355a5462b6b0f1dfe5a7eb083c3991adf\n'}, {'number': 2, 'created': '2021-06-04 10:45:25.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/source/source.controller.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/1cbbeb745b2ba4f55b75dbd9bd42b7dec398c3d3', 'message': 'Fix wrong source when volume launched as instance\n\nWhen volume launched as instance, source tab is not updated to selected\nvolume, and Nova get malformed request with image source type and volume\nid leading to 400 response\n\nCloses-Bug: #1930420\nChange-Id: I9eafb9b355a5462b6b0f1dfe5a7eb083c3991adf\n'}]",0,793970,1cbbeb745b2ba4f55b75dbd9bd42b7dec398c3d3,9,4,2,27838,,,0,"Fix wrong source when volume launched as instance

When volume launched as instance, source tab is not updated to selected
volume, and Nova get malformed request with image source type and volume
id leading to 400 response

Closes-Bug: #1930420
Change-Id: I9eafb9b355a5462b6b0f1dfe5a7eb083c3991adf
",git fetch https://review.opendev.org/openstack/horizon refs/changes/70/793970/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/source/source.controller.js'],1,28c6fe0910103da407e0bee2b0a9c2878cf15f5c,bug/1930420, $scope.model.defaultBootSource = bootSourceTypes.IMAGE; $scope.model.defaultBootSource = bootSourceTypes.INSTANCE_SNAPSHOT; $scope.model.defaultBootSource = bootSourceTypes.VOLUME; $scope.model.defaultBootSource = bootSourceTypes.VOLUME_SNAPSHOT;,,4,0
openstack%2Fopenstacksdk~master~If80884a827d636fcb6c0365773eac46c1ddfa1c9,openstack/openstacksdk,master,If80884a827d636fcb6c0365773eac46c1ddfa1c9,Add description args for device profile create,MERGED,2021-08-09 09:06:35.000000000,2021-09-01 17:27:11.000000000,2021-09-01 17:25:23.000000000,"[{'_account_id': 22348}, {'_account_id': 23950}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 27900}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-08-09 09:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0e5751cae6684317ac0bb0108800036cc95bb78d', 'message': 'Add description args for device profile create\n\nChange-Id: If80884a827d636fcb6c0365773eac46c1ddfa1c9\n'}, {'number': 2, 'created': '2021-08-18 11:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3d8269d154378f44b27984c91093e679028872c1', 'message': 'Add description args for device profile create\n\nChange-Id: If80884a827d636fcb6c0365773eac46c1ddfa1c9\n'}, {'number': 3, 'created': '2021-08-23 08:23:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/020200428d515190a319a26083c4139bd192728e', 'message': 'Add description args for device profile create\n\nCloses-Bug: #1940810\nChange-Id: If80884a827d636fcb6c0365773eac46c1ddfa1c9\n'}, {'number': 4, 'created': '2021-08-25 01:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bb3f788bfcccfba894abb572549b243dbd3dd9d9', 'message': 'Add description args for device profile create\n\nCloses-Bug: #1940810\nChange-Id: If80884a827d636fcb6c0365773eac46c1ddfa1c9\n'}, {'number': 5, 'created': '2021-09-01 12:30:18.000000000', 'files': ['openstack/accelerator/v2/device_profile.py', 'openstack/tests/unit/accelerator/v2/test_device_profile.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9deb08e041bce307b063c21b0c6fb181a5f8dc57', 'message': 'Add description args for device profile create\n\nChange-Id: If80884a827d636fcb6c0365773eac46c1ddfa1c9\n'}]",0,803888,9deb08e041bce307b063c21b0c6fb181a5f8dc57,28,6,5,31412,,,0,"Add description args for device profile create

Change-Id: If80884a827d636fcb6c0365773eac46c1ddfa1c9
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/88/803888/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/accelerator/v2/device_profile.py'],1,0e5751cae6684317ac0bb0108800036cc95bb78d,bug/1940810, #: The description of the device profile description = resource.Body('description'),,2,0
openstack%2Fnova~master~I722b200324d331e72fb74e00788be6adebd4ce3f,openstack/nova,master,I722b200324d331e72fb74e00788be6adebd4ce3f,Add test coverage for security group checking,MERGED,2021-04-13 12:55:42.000000000,2021-09-01 17:10:10.000000000,2021-09-01 17:06:45.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-04-13 12:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/89928b0b1fcfb1ca4b6265a98d3b2ec9ecd31bf3', 'message': 'Add test coverage for security group checking\n\nWe had no test coverage for neutron.API._process_security_groups\nso this patch adds some basic coverage.\n\nChange-Id: I722b200324d331e72fb74e00788be6adebd4ce3f\n'}, {'number': 2, 'created': '2021-05-28 11:52:27.000000000', 'files': ['nova/tests/unit/network/test_neutron.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/17ac1a40cbc7773e5f86e2f5ef2e14767a14e4c8', 'message': 'Add test coverage for security group checking\n\nWe had no test coverage for neutron.API._process_security_groups\nso this patch adds some basic coverage.\n\nChange-Id: I722b200324d331e72fb74e00788be6adebd4ce3f\n'}]",0,786044,17ac1a40cbc7773e5f86e2f5ef2e14767a14e4c8,18,7,2,9708,,,0,"Add test coverage for security group checking

We had no test coverage for neutron.API._process_security_groups
so this patch adds some basic coverage.

Change-Id: I722b200324d331e72fb74e00788be6adebd4ce3f
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/786044/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/network/test_neutron.py'],1,89928b0b1fcfb1ca4b6265a98d3b2ec9ecd31bf3,," def test__process_security_groups(self): instance = objects.Instance(project_id=uuids.project_id) mock_neutron = mock.Mock(spec=client.Client) mock_neutron.list_security_groups.return_value = { 'security_groups': [ { 'id': uuids.sg1, 'name': 'sg1', }, { 'id': uuids.sg2, 'name': 'sg2', }, { 'id': uuids.sg3, 'name': 'sg3', } ] } api = neutronapi.API() api._process_security_groups( instance, mock_neutron, [""sg1"", uuids.sg2]) mock_neutron.list_security_groups.assert_called_once_with( fields=['id', 'name'], tenant_id=uuids.project_id) def test__process_security_groups_not_found(self): instance = objects.Instance(project_id=uuids.project_id) mock_neutron = mock.Mock(spec=client.Client) mock_neutron.list_security_groups.return_value = { 'security_groups': [ { 'id': uuids.sg1, 'name': 'sg1', }, { 'id': uuids.sg3, 'name': 'sg3', } ] } api = neutronapi.API() ex = self.assertRaises( exception.SecurityGroupNotFound, api._process_security_groups, instance, mock_neutron, [""sg1"", uuids.sg2]) self.assertIn(uuids.sg2, str(ex)) mock_neutron.list_security_groups.assert_called_once_with( fields=['id', 'name'], tenant_id=uuids.project_id) def test__process_security_groups_non_unique_match(self): instance = objects.Instance(project_id=uuids.project_id) mock_neutron = mock.Mock(spec=client.Client) mock_neutron.list_security_groups.return_value = { 'security_groups': [ { 'id': uuids.sg1, 'name': 'nonunique-name', }, { 'id': uuids.sg2, 'name': 'nonunique-name', } ] } api = neutronapi.API() ex = self.assertRaises( exception.NoUniqueMatch, api._process_security_groups, instance, mock_neutron, [""nonunique-name"", uuids.sg2]) self.assertIn(""nonunique-name"", str(ex)) mock_neutron.list_security_groups.assert_called_once_with( fields=['id', 'name'], tenant_id=uuids.project_id) ",,76,0
openstack%2Fmanila~stable%2Fwallaby~I5e30ef458bccb0921ce77b2d9ef875bec72d0619,openstack/manila,stable/wallaby,I5e30ef458bccb0921ce77b2d9ef875bec72d0619,Add missing [oslo_reports] options,MERGED,2021-08-31 07:15:48.000000000,2021-09-01 17:09:22.000000000,2021-09-01 17:07:57.000000000,"[{'_account_id': 9816}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30407}]","[{'number': 1, 'created': '2021-08-31 07:15:48.000000000', 'files': ['etc/oslo-config-generator/manila.conf'], 'web_link': 'https://opendev.org/openstack/manila/commit/b7ec1f88373b7b6233c6dade24a643ab808bcef4', 'message': 'Add missing [oslo_reports] options\n\nThe oslo.reports library provides some options under the [oslo_reports]\nsection. This change ensures these parameters are rendered by\nthe oslo-config-generator command.\n\nCloses-Bug: #1940733\nChange-Id: I5e30ef458bccb0921ce77b2d9ef875bec72d0619\n(cherry picked from commit 3f97376cd06983b3dd173c876bf82c8ed6332623)\n'}]",0,806693,b7ec1f88373b7b6233c6dade24a643ab808bcef4,14,6,1,16643,,,0,"Add missing [oslo_reports] options

The oslo.reports library provides some options under the [oslo_reports]
section. This change ensures these parameters are rendered by
the oslo-config-generator command.

Closes-Bug: #1940733
Change-Id: I5e30ef458bccb0921ce77b2d9ef875bec72d0619
(cherry picked from commit 3f97376cd06983b3dd173c876bf82c8ed6332623)
",git fetch https://review.opendev.org/openstack/manila refs/changes/93/806693/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/oslo-config-generator/manila.conf'],1,b7ec1f88373b7b6233c6dade24a643ab808bcef4,bug/1940734,namespace = oslo.reports,,1,0
openstack%2Fglance~master~I0f6ff686df6449eecd23e1c64f21a5b4ccae652b,openstack/glance,master,I0f6ff686df6449eecd23e1c64f21a5b4ccae652b,Add release note about policy-refactor,MERGED,2021-08-25 15:39:41.000000000,2021-09-01 17:09:02.000000000,2021-09-01 17:05:58.000000000,"[{'_account_id': 5046}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-25 15:39:41.000000000', 'files': ['releasenotes/notes/policy-refactor-xena-0cddb7f2d492cb3a.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/0406cb6c41393297b0ded56ebfef9b593cecb397', 'message': 'Add release note about policy-refactor\n\nRelated to blueprint policy-refactor\n\nChange-Id: I0f6ff686df6449eecd23e1c64f21a5b4ccae652b\n'}]",1,806017,0406cb6c41393297b0ded56ebfef9b593cecb397,11,4,1,4393,,,0,"Add release note about policy-refactor

Related to blueprint policy-refactor

Change-Id: I0f6ff686df6449eecd23e1c64f21a5b4ccae652b
",git fetch https://review.opendev.org/openstack/glance refs/changes/17/806017/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/policy-refactor-xena-0cddb7f2d492cb3a.yaml'],1,0406cb6c41393297b0ded56ebfef9b593cecb397,bp/policy-refactor,"--- security: - | The Xena release of Glance is a midpoint in the process of refactoring how our policies are applied to API operations. The goal of applying policy enforcement in the API will ultimately increase the flexibility operators have over which users can do what operations to which images, and provides a path for compliant Secure RBAC and scoped tokens. In Xena, some policies are more flexible than they once were, allowing for more fine-grained assignment of responsibilities, but not all things are possible yet. If `enforce_secure_rbac` is not enabled, most things are still enforcing the legacy behavior of hard and fast admin-or-owner requirements. ",,14,0
openstack%2Fnova~master~I48c68e135bdfa7229eac6b242b7f80b005761ee8,openstack/nova,master,I48c68e135bdfa7229eac6b242b7f80b005761ee8,Add some missing parameters in docs of os-cells,MERGED,2021-08-25 08:56:16.000000000,2021-09-01 17:08:59.000000000,2021-09-01 17:06:06.000000000,"[{'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-08-25 08:56:16.000000000', 'files': ['api-ref/source/os-cells.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/191712594d0dad0a7775a2978557162cb040a345', 'message': 'Add some missing parameters in docs of os-cells\n\nChange-Id: I48c68e135bdfa7229eac6b242b7f80b005761ee8\n'}]",0,805972,191712594d0dad0a7775a2978557162cb040a345,12,4,1,33899,,,0,"Add some missing parameters in docs of os-cells

Change-Id: I48c68e135bdfa7229eac6b242b7f80b005761ee8
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/805972/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/os-cells.inc'],1,191712594d0dad0a7775a2978557162cb040a345,,Request ------- .. rest_parameters:: parameters.yaml - cell_id: cell_id Request ------- .. rest_parameters:: parameters.yaml - cell_id: cell_id ,,14,0
openstack%2Fnova~master~I8e0973640f89b915185c419c2c3a09cc5c286a02,openstack/nova,master,I8e0973640f89b915185c419c2c3a09cc5c286a02,tests: Remove unnecessary warnings filter,MERGED,2021-07-15 09:47:10.000000000,2021-09-01 17:06:25.000000000,2021-09-01 17:06:25.000000000,"[{'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-15 09:47:10.000000000', 'files': ['nova/tests/fixtures/nova.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3bda965e15a3bda5c5f95e5d870accb4cc1b445f', 'message': 'tests: Remove unnecessary warnings filter\n\n...and fix formatting for others.\n\nChange-Id: I8e0973640f89b915185c419c2c3a09cc5c286a02\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,800901,3bda965e15a3bda5c5f95e5d870accb4cc1b445f,9,3,1,15334,,,0,"tests: Remove unnecessary warnings filter

...and fix formatting for others.

Change-Id: I8e0973640f89b915185c419c2c3a09cc5c286a02
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/800901/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures/nova.py'],1,3bda965e15a3bda5c5f95e5d870accb4cc1b445f,warnings," warnings.filterwarnings( 'ignore', warnings.filterwarnings( 'ignore', message=""Policy .* failed scope check"", category=UserWarning)"," warnings.filterwarnings('ignore', warnings.filterwarnings('ignore', message=""Policy .* failed scope check"", category=UserWarning) # TODO(jangutter): Change (or remove) this to an error during the Train # cycle when the os-vif port profile is no longer used. warnings.filterwarnings( 'ignore', message="".* 'VIFPortProfileOVSRepresentor' .* "" ""is deprecated"", category=PendingDeprecationWarning) ",6,10
openstack%2Ftripleo-repos~master~I4d4d30f96cb82dd71934a6c169e912bd0553c834,openstack/tripleo-repos,master,I4d4d30f96cb82dd71934a6c169e912bd0553c834,Make tox-sanity jobs voting,ABANDONED,2021-09-01 09:44:15.000000000,2021-09-01 16:41:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-01 09:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/d660064f5073c1bc4ea62981408ade76d85db43a', 'message': 'Make tox-sanity jobs voting\n\nThis patch does the tox-sanity-py* jobs to voting.\n\nChange-Id: I4d4d30f96cb82dd71934a6c169e912bd0553c834\n'}, {'number': 2, 'created': '2021-09-01 09:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/7d958c0d45e003d6b19bdb7fe93b17fdac5fc130', 'message': 'Make tox-sanity jobs voting\n\nThis patch does the tox-sanity-py* jobs to voting.\n\nChange-Id: I4d4d30f96cb82dd71934a6c169e912bd0553c834\n'}, {'number': 3, 'created': '2021-09-01 10:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/2b8d5663a26fcd6f967375ca538d1f57f63b7d00', 'message': 'Make tox-sanity jobs voting\n\nThis patch does the tox-sanity-py* jobs to voting.\n\nChange-Id: I4d4d30f96cb82dd71934a6c169e912bd0553c834\n'}, {'number': 4, 'created': '2021-09-01 10:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/c8ece7454288e2292543d217b79062f9884c1ef3', 'message': 'Make tox-sanity jobs voting\n\nThis patch does the tox-sanity-py* jobs to voting.\n\nChange-Id: I4d4d30f96cb82dd71934a6c169e912bd0553c834\n'}, {'number': 5, 'created': '2021-09-01 10:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/ec3d9cbc4c71b8a5b4106d53438ea9ad0d48d5c2', 'message': 'Make tox-sanity jobs voting\n\nChange-Id: I4d4d30f96cb82dd71934a6c169e912bd0553c834\n'}, {'number': 6, 'created': '2021-09-01 14:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/ef287b0760718c88457560d5ef6b27dae1fa0b7c', 'message': 'Make tox-sanity jobs voting\n\nThis patch does the tox-sanity-py* jobs to voting.\n\nChange-Id: I4d4d30f96cb82dd71934a6c169e912bd0553c834\n'}, {'number': 7, 'created': '2021-09-01 15:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/34d3d3a1c386772f9a1859beef52cf600bbdc0fd', 'message': 'Make tox-sanity jobs voting\n\nThis patch does the tox-sanity-py* jobs to voting.\n\nChange-Id: I4d4d30f96cb82dd71934a6c169e912bd0553c834\n'}, {'number': 8, 'created': '2021-09-01 15:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/1950d8eee289edac13c2948e9ffccba266a3d0c2', 'message': 'Make tox-sanity jobs voting\n\nThis patch does the tox-sanity-py* jobs to voting.\n\nChange-Id: I4d4d30f96cb82dd71934a6c169e912bd0553c834\n'}, {'number': 9, 'created': '2021-09-01 16:15:52.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/8f802ad68481103965dce1a38010bde9becd4c70', 'message': 'Make tox-sanity jobs voting\n\nThis patch does the tox-sanity-py* jobs to voting.\n\nChange-Id: I4d4d30f96cb82dd71934a6c169e912bd0553c834\n'}]",3,806880,8f802ad68481103965dce1a38010bde9becd4c70,14,1,9,20182,,,0,"Make tox-sanity jobs voting

This patch does the tox-sanity-py* jobs to voting.

Change-Id: I4d4d30f96cb82dd71934a6c169e912bd0553c834
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/80/806880/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,d660064f5073c1bc4ea62981408ade76d85db43a,make-sanity-jobs-voting, voting: true - tox-sanity-py39: voting: true, voting: false - tox-sanity-py39: voting: false,2,2
openstack%2Fopenstack-tempest-skiplist~master~I8e6454745cd4afb46ce08af012a5415c8f8cbf70,openstack/openstack-tempest-skiplist,master,I8e6454745cd4afb46ce08af012a5415c8f8cbf70,"Revert ""Add FloatingIpMultipleRoutersTest to skiplist""",MERGED,2021-08-25 14:45:41.000000000,2021-09-01 16:40:14.000000000,2021-09-01 16:38:46.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-08-25 14:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/09d2c4c85271607bb45d6c261f157dca2b7ced06', 'message': 'Revert ""Add FloatingIpMultipleRoutersTest to skiplist""\n\nThis reverts commit bd39a7cb13bacbf305e8e6b95c4a9bfa34888b6f.\n\nReason for revert: Fix merged in rdoinfo already: https://review.rdoproject.org/r/c/rdoinfo/+/35105\n\nChange-Id: I8e6454745cd4afb46ce08af012a5415c8f8cbf70\n'}, {'number': 2, 'created': '2021-08-25 14:47:45.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/79e8ea24b4adf6f5ef17741726b6d78381b51c26', 'message': 'Revert ""Add FloatingIpMultipleRoutersTest to skiplist""\n\nThis reverts commit bd39a7cb13bacbf305e8e6b95c4a9bfa34888b6f.\n\nReason for revert: Fix merged in rdoinfo already:\nhttps://review.rdoproject.org/r/c/rdoinfo/+/35105\n\nChange-Id: I8e6454745cd4afb46ce08af012a5415c8f8cbf70\n'}]",0,805899,79e8ea24b4adf6f5ef17741726b6d78381b51c26,12,4,2,11975,,,0,"Revert ""Add FloatingIpMultipleRoutersTest to skiplist""

This reverts commit bd39a7cb13bacbf305e8e6b95c4a9bfa34888b6f.

Reason for revert: Fix merged in rdoinfo already:
https://review.rdoproject.org/r/c/rdoinfo/+/35105

Change-Id: I8e6454745cd4afb46ce08af012a5415c8f8cbf70
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/99/805899/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,09d2c4c85271607bb45d6c261f157dca2b7ced06,bug/1940568,, - test: neutron_tempest_plugin.scenario.test_floatingip.FloatingIpMultipleRoutersTest deployment: - 'overcloud' releases: - name: ussuri reason: Failed with IP address already allocated lp: https://bugs.launchpad.net/tripleo/+bug/1940568 jobs: - periodic-tripleo-ci-centos-8-ovb-1ctlr_2comp-featureset020-ussuri,0,9
openstack%2Fpython-novaclient~master~I66ed7fb2f0b4ef5227bdf40d51e3c15c3a54816a,openstack/python-novaclient,master,I66ed7fb2f0b4ef5227bdf40d51e3c15c3a54816a,Add pre-commit,MERGED,2021-09-01 11:52:57.000000000,2021-09-01 16:36:35.000000000,2021-09-01 16:34:41.000000000,"[{'_account_id': 679}, {'_account_id': 7634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-01 11:52:57.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/4a5bdde3b0c330a06c9aa56f28541cd22bc438f3', 'message': 'Add pre-commit\n\nChange-Id: I66ed7fb2f0b4ef5227bdf40d51e3c15c3a54816a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,806915,4a5bdde3b0c330a06c9aa56f28541cd22bc438f3,8,3,1,15334,,,0,"Add pre-commit

Change-Id: I66ed7fb2f0b4ef5227bdf40d51e3c15c3a54816a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/15/806915/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,4a5bdde3b0c330a06c9aa56f28541cd22bc438f3,bp/configurable-instance-hostnames,"--- default_language_version: # force all unspecified python hooks to run python3 python: python3 repos: - repo: https://github.com/pre-commit/pre-commit-hooks rev: v4.0.1 hooks: - id: trailing-whitespace - id: mixed-line-ending args: ['--fix', 'lf'] - id: check-byte-order-marker - id: check-executables-have-shebangs - id: check-merge-conflict - id: debug-statements - id: check-yaml files: .*\.(yaml|yml)$ - repo: https://github.com/Lucas-C/pre-commit-hooks rev: v1.1.10 hooks: - id: remove-tabs exclude: '.*\.(svg)$' - repo: local hooks: - id: flake8 name: flake8 additional_dependencies: - hacking>=3.0.1,<3.1.0 language: python entry: flake8 files: '^.*\.py$' exclude: '^(doc|releasenotes|tools)/.*$' ",,32,0
openstack%2Fglance~master~Ie17b8f5bf308b8f07915ea18ace9b49955b8f0f0,openstack/glance,master,Ie17b8f5bf308b8f07915ea18ace9b49955b8f0f0,Check policies for Image Cache in API,MERGED,2021-08-24 09:12:41.000000000,2021-09-01 16:22:35.000000000,2021-09-01 16:20:48.000000000,"[{'_account_id': 4393}, {'_account_id': 5046}, {'_account_id': 8122}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 09:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/98a2a6e203778a60ea9ac19fe3412d92d31676fc', 'message': 'Check policies for Image Cache in API\n\nThis patch enforces policy checks required for caching images\nin API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: Ie17b8f5bf308b8f07915ea18ace9b49955b8f0f0\n'}, {'number': 2, 'created': '2021-08-24 09:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e4797d46cda8fd6864782a00d109d8903b1356ed', 'message': 'Check policies for Image Cache in API\n\nThis patch enforces policy checks required for caching images\nin API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: Ie17b8f5bf308b8f07915ea18ace9b49955b8f0f0\n'}, {'number': 3, 'created': '2021-08-24 15:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2c3cce9a07d9ffdfb39c29dac4c36c6c2114a1b4', 'message': 'Check policies for Image Cache in API\n\nThis patch enforces policy checks required for caching images\nin API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: Ie17b8f5bf308b8f07915ea18ace9b49955b8f0f0\n'}, {'number': 4, 'created': '2021-08-24 18:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/480bcfa93c1821614618fd543812fc514c7374c1', 'message': 'Check policies for Image Cache in API\n\nThis patch enforces policy checks required for caching images\nin API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: Ie17b8f5bf308b8f07915ea18ace9b49955b8f0f0\n'}, {'number': 5, 'created': '2021-08-24 20:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cd879dde6466a6777fa3995bfdc1b956a8ef605a', 'message': 'Check policies for Image Cache in API\n\nThis patch enforces policy checks required for caching images\nin API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: Ie17b8f5bf308b8f07915ea18ace9b49955b8f0f0\n'}, {'number': 6, 'created': '2021-08-25 06:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/613af004fdb3e54609db380a1208530d06e9657f', 'message': 'Check policies for Image Cache in API\n\nThis patch enforces policy checks required for caching images\nin API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: Ie17b8f5bf308b8f07915ea18ace9b49955b8f0f0\n'}, {'number': 7, 'created': '2021-08-25 15:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a679a4e7d93d11cad3305f1910eb434bd653da3d', 'message': 'Check policies for Image Cache in API\n\nThis patch enforces policy checks required for caching images\nin API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: Ie17b8f5bf308b8f07915ea18ace9b49955b8f0f0\n'}, {'number': 8, 'created': '2021-08-30 07:32:41.000000000', 'files': ['glance/tests/unit/test_image_cache.py', 'glance/image_cache/prefetcher.py', 'glance/tests/functional/v2/test_cache_api_policy.py', 'glance/tests/functional/__init__.py', 'glance/api/v2/cached_images.py', 'glance/api/v2/policy.py', 'glance/tests/unit/v2/test_v2_policy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/ea13046919988c0bf2a016f70b4d0d249728c342', 'message': 'Check policies for Image Cache in API\n\nThis patch enforces policy checks required for caching images\nin API layer.\n\nPartially-Implements: blueprint policy-refactor\nDepends-On: https://review.opendev.org/c/openstack/nova/+/688802\n\nChange-Id: Ie17b8f5bf308b8f07915ea18ace9b49955b8f0f0\n'}]",13,805797,ea13046919988c0bf2a016f70b4d0d249728c342,39,4,8,9303,,,0,"Check policies for Image Cache in API

This patch enforces policy checks required for caching images
in API layer.

Partially-Implements: blueprint policy-refactor
Depends-On: https://review.opendev.org/c/openstack/nova/+/688802

Change-Id: Ie17b8f5bf308b8f07915ea18ace9b49955b8f0f0
",git fetch https://review.opendev.org/openstack/glance refs/changes/97/805797/8 && git format-patch -1 --stdout FETCH_HEAD,"['glance/image_cache/prefetcher.py', 'glance/tests/functional/__init__.py', 'glance/tests/functional/v2/test_cache_api_policy.py', 'glance/api/v2/cached_images.py', 'glance/api/v2/policy.py', 'glance/tests/unit/v2/test_v2_policy.py']",6,98a2a6e203778a60ea9ac19fe3412d92d31676fc,policy-refactor," class TestCacheImageAPIPolicy(APIPolicyBase): def setUp(self): super(TestCacheImageAPIPolicy, self).setUp() self.enforcer = mock.MagicMock() self.context = mock.MagicMock() self.policy = policy.CacheImageAPIPolicy( self.context, enforcer=self.enforcer) def test_manage_image_cache(self): self.policy.manage_image_cache() self.enforcer.enforce.assert_called_once_with(self.context, 'manage_image_cache', mock.ANY)",,287,4
openstack%2Fopenstack-ansible~master~Ida4d1e2c4b058d2e15f32abb6a3e981877c5144e,openstack/openstack-ansible,master,Ida4d1e2c4b058d2e15f32abb6a3e981877c5144e,Implement RabbitMQ cluster rolling restart feature,NEW,2021-08-10 16:19:27.000000000,2021-09-01 16:17:31.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-08-10 16:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/67507102c9564f25cf24c7cd304bff1468530b34', 'message': 'Implement RabbitMQ cluster rolling restart feature\n\nIt works similar to galera-cluster-rolling-restart.yml. We may want to use it during openstack upgrades.\nI had to upgrade community.rabbitmq collection version because this playbook uses rabbitmq_upgrade & rabbitmq_feature_flag modules.\n\nChange-Id: Ida4d1e2c4b058d2e15f32abb6a3e981877c5144e\n'}, {'number': 2, 'created': '2021-09-01 13:43:45.000000000', 'files': ['ansible-collection-requirements.yml', 'scripts/upgrade-utilities/rabbitmq-cluster-rolling-restart.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/01765b335868db13656b7221915181126ce5a34a', 'message': 'Implement RabbitMQ cluster rolling restart feature\n\nIt works similar to galera-cluster-rolling-restart.yml. We may want to use it during openstack upgrades.\nI had to upgrade community.rabbitmq collection version because this playbook uses rabbitmq_upgrade & rabbitmq_feature_flag modules.\n\nChange-Id: Ida4d1e2c4b058d2e15f32abb6a3e981877c5144e\n'}]",0,804109,01765b335868db13656b7221915181126ce5a34a,9,3,2,32666,,,0,"Implement RabbitMQ cluster rolling restart feature

It works similar to galera-cluster-rolling-restart.yml. We may want to use it during openstack upgrades.
I had to upgrade community.rabbitmq collection version because this playbook uses rabbitmq_upgrade & rabbitmq_feature_flag modules.

Change-Id: Ida4d1e2c4b058d2e15f32abb6a3e981877c5144e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/09/804109/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible-collection-requirements.yml', 'scripts/upgrade-utilities/rabbitmq-cluster-rolling-restart.yml']",2,67507102c9564f25cf24c7cd304bff1468530b34,change-804109-1,"--- - name: Gracefully restart rabbitmq cluster hosts: rabbitmq_all serial: 1 max_fail_percentage: 0 gather_facts: true user: root tasks: - name: Enable maintenance_mode_status feature flag community.rabbitmq.rabbitmq_feature_flag: name: maintenance_mode_status node: ""rabbit@{{ ansible_hostname }}"" - name: Drain node community.rabbitmq.rabbitmq_upgrade: action: drain node: ""rabbit@{{ ansible_hostname }}"" - name: Wait until node is drained shell: ""rabbitmq-diagnostics --node rabbit@{{ ansible_hostname }} status"" register: node_under_maintenance until: - node_under_maintenance.rc == 0 - '(node_under_maintenance.stdout).find(""Is under maintenance?: true"") != -1' retries: 60 delay: 1 - name: Stop container lxc_container: name: ""{{ inventory_hostname }}"" state: ""stopped"" delegate_to: ""{{ physical_host }}"" when: not hostvars[inventory_hostname]['is_metal'] - name: Start container lxc_container: name: ""{{ inventory_hostname }}"" state: ""started"" delegate_to: ""{{ physical_host }}"" when: not hostvars[inventory_hostname]['is_metal'] - name: Wait for rabbitmq port 5672 to be available wait_for: port: ""5672"" host: ""{{ ansible_host | default(ansible_ssh_host | default(inventory_hostname)) }}"" retries: 10 delay: 10 delegate_to: ""{{ groups['utility_all'][0] }}"" - name: Revive node community.rabbitmq.rabbitmq_upgrade: action: revive node: ""rabbit@{{ ansible_hostname }}"" - name: Wait until node is revived shell: ""rabbitmq-diagnostics --node rabbit@{{ ansible_hostname }} status"" register: node_under_maintenance until: - node_under_maintenance.rc == 0 - '(node_under_maintenance.stdout).find(""Is under maintenance?: false"") != -1' retries: 60 delay: 1 ",,63,1
openstack%2Ftripleo-repos~master~I49e08102f542c7be7005404ad5781fe5dc75af05,openstack/tripleo-repos,master,I49e08102f542c7be7005404ad5781fe5dc75af05,Address pyyaml import in ansible module,MERGED,2021-08-20 14:48:36.000000000,2021-09-01 16:14:14.000000000,2021-09-01 16:14:14.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-08-20 14:48:36.000000000', 'files': ['plugins/module_utils/tripleo_repos/get_hash/tripleo_hash_info.py', 'tests/sanity/ignore-2.9.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/24c15b6286e8d144a005366cdfd3a3903d82d9e5', 'message': 'Address pyyaml import in ansible module\n\nMake pyyaml import lazy to avoid potential import failure when run\nas an ansible module.\n\nChange-Id: I49e08102f542c7be7005404ad5781fe5dc75af05\n'}]",0,805400,24c15b6286e8d144a005366cdfd3a3903d82d9e5,10,6,1,24162,,,0,"Address pyyaml import in ansible module

Make pyyaml import lazy to avoid potential import failure when run
as an ansible module.

Change-Id: I49e08102f542c7be7005404ad5781fe5dc75af05
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/00/805400/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/module_utils/tripleo_repos/get_hash/tripleo_hash_info.py', 'tests/sanity/ignore-2.9.txt']",2,24c15b6286e8d144a005366cdfd3a3903d82d9e5,fix/yaml-import,,plugins/module_utils/tripleo_repos/get_hash/tripleo_hash_info.py importplugins/module_utils/tripleo_repos/main.py import:traceback,33,29
openstack%2Ftripleo-heat-templates~master~Ifafb2e71da1a921eeba8d8c6197cfb74d1ee045e,openstack/tripleo-heat-templates,master,Ifafb2e71da1a921eeba8d8c6197cfb74d1ee045e,Adjust HAProxy script to allow for ID change,MERGED,2021-08-21 07:32:13.000000000,2021-09-01 16:04:08.000000000,2021-08-25 13:19:35.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-08-21 07:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0de954a6954de688c6317a0a857c807afa46feef', 'message': ""Adjust HAProxy script to allow for ID change\n\nIt is possible that the UID of the container\nchanges between our first parse and the script\nwe execute to copy the TLS Cert. We can re-check\nthe container ID in the script to be safe.\n\nAlso, we need to fail appropriately if we can't\nfind the container, or can't restart it.\n\nRelated rhbz#1973674\nCloses-Bug: #1940729\nChange-Id: I1b8c8e83d7b4a14a8643d63a61519f6bbac5b3d6\n\nChange-Id: Ifafb2e71da1a921eeba8d8c6197cfb74d1ee045e\n""}, {'number': 2, 'created': '2021-08-23 14:14:31.000000000', 'files': ['deployment/haproxy/haproxy-public-tls-inject.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a22ef3a0bc6412fdd09048f6e68d64e89d3c11dd', 'message': ""Adjust HAProxy script to allow for ID change\n\nIt is possible that the UID of the container\nchanges between our first parse and the script\nwe execute to copy the TLS Cert. We can re-check\nthe container ID in the script to be safe.\n\nAlso, we need to fail appropriately if we can't\nfind the container, or can't restart it.\n\nRelated rhbz#1973674\nCloses-Bug: #1940729\nChange-Id: I1b8c8e83d7b4a14a8643d63a61519f6bbac5b3d6\n\nChange-Id: Ifafb2e71da1a921eeba8d8c6197cfb74d1ee045e\n""}]",9,805475,a22ef3a0bc6412fdd09048f6e68d64e89d3c11dd,26,9,2,30073,,,0,"Adjust HAProxy script to allow for ID change

It is possible that the UID of the container
changes between our first parse and the script
we execute to copy the TLS Cert. We can re-check
the container ID in the script to be safe.

Also, we need to fail appropriately if we can't
find the container, or can't restart it.

Related rhbz#1973674
Closes-Bug: #1940729
Change-Id: I1b8c8e83d7b4a14a8643d63a61519f6bbac5b3d6

Change-Id: Ifafb2e71da1a921eeba8d8c6197cfb74d1ee045e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/805475/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-public-tls-inject.yaml'],1,0de954a6954de688c6317a0a857c807afa46feef,bug/1940729," container_id=$({{ container_cli }} ps --filter name=haproxy-bundle -q) if [[ $container_id ]]; then tar -c {{ cert_path }} | {{ container_cli }} exec -i $(echo $container_id) tar -C / -xv {{ container_cli }} exec --user root $(echo $container_id) chgrp haproxy {{ cert_path }} {{ container_cli }} kill --signal=HUP $(echo $container_id) - (""no such container"" in container_kill_result.stderr) - (""container state improper"" in container_kill_result.stderr)"," if {{ container_cli }} ps -f ""id={{ item }}"" --format ""{{ '{{' }}.Names{{ '}}' }}"" | grep -q ""^haproxy-bundle""; then tar -c {{ cert_path }} | {{container_cli}} exec -i {{ item }} tar -C / -xv {{ container_cli }} exec --user root {{ item }} chgrp haproxy {{ cert_path }} {{ container_cli }} kill --signal=HUP {{ item }} - (""no such container"" not in container_kill_result.stderr) - (""container state improper"" not in container_kill_result.stderr)",7,6
openstack%2Fproject-config~master~Iffd253156133e3c9eba6c1942b4b2a551a4344b7,openstack/project-config,master,Iffd253156133e3c9eba6c1942b4b2a551a4344b7,INAP mtl01 region is now owned by iWeb,MERGED,2021-08-31 18:30:44.000000000,2021-09-01 15:57:46.000000000,2021-09-01 15:44:10.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-31 18:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f956224ec877117dbb7907f4d09f0db279af6b39', 'message': 'INAP mtl01 region is now owned by iWeb\n\nChange-Id: Iffd253156133e3c9eba6c1942b4b2a551a4344b7\n'}, {'number': 2, 'created': '2021-08-31 18:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ad037db866ddddcc80a02f521dbdc5f1de283a7f', 'message': 'INAP mtl01 region is now owned by iWeb\n\nDisable current Inap mtl01 region and introduce new iWeb mtl01 region.\n\nChange-Id: Iffd253156133e3c9eba6c1942b4b2a551a4344b7\n'}, {'number': 3, 'created': '2021-08-31 19:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ed92a2b4a23c0a0f7d9cb1c240bbf09d47d0d69e', 'message': 'INAP mtl01 region is now owned by iWeb\n\nDisable current Inap mtl01 region and introduce new iWeb mtl01 region.\n\nChange-Id: Iffd253156133e3c9eba6c1942b4b2a551a4344b7\n'}, {'number': 4, 'created': '2021-08-31 20:30:09.000000000', 'files': ['nodepool/nodepool.yaml', 'grafana/create-nodepool.sh', 'grafana/nodepool-iweb.yaml', 'nodepool/nl03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/662e981330ca8534cc6df6d6be04ab22b21eb549', 'message': 'INAP mtl01 region is now owned by iWeb\n\nDisable current Inap mtl01 region and introduce new iWeb mtl01 region.\n\nDepends-On: I1256a2e24df1c79dea06716ae4dfbcfe119c13f8\nChange-Id: Iffd253156133e3c9eba6c1942b4b2a551a4344b7\n'}]",0,806788,662e981330ca8534cc6df6d6be04ab22b21eb549,17,3,4,7156,,,0,"INAP mtl01 region is now owned by iWeb

Disable current Inap mtl01 region and introduce new iWeb mtl01 region.

Depends-On: I1256a2e24df1c79dea06716ae4dfbcfe119c13f8
Change-Id: Iffd253156133e3c9eba6c1942b4b2a551a4344b7
",git fetch https://review.opendev.org/openstack/project-config refs/changes/88/806788/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nodepool.yaml', 'grafana/create-nodepool.sh', 'grafana/nodepool-iweb.yaml', 'nodepool/nl03.opendev.org.yaml']",4,f956224ec877117dbb7907f4d09f0db279af6b39,iweb-mtl01, - name: iweb-mtl01 cloud: iweb, - name: inap-mtl01 cloud: inap,9,9
openstack%2Fpython-cinderclient~master~I9bed2ec947705cd53daa04678093a80581dc3282,openstack/python-cinderclient,master,I9bed2ec947705cd53daa04678093a80581dc3282,update some scripts,MERGED,2021-05-06 01:47:19.000000000,2021-09-01 15:45:52.000000000,2021-09-01 15:43:47.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 01:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/bdbe22ad6a8e276ed2281d9d2115731a22aebbb7', 'message': 'Ussuri+ is python3 only and update python to python3\n\nChange-Id: I9bed2ec947705cd53daa04678093a80581dc3282\n'}, {'number': 2, 'created': '2021-06-24 02:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/6b823919262e3076233bba4fdcf3d90dfc2eb2dd', 'message': ""Ussuri+ is python3 only and update python to python3\n\nremove the redundant shebang and the colorizer.py which\nhasn't been used since https://review.opendev.org/c/openstack/python-cinderclient/+/502120\n\nChange-Id: I9bed2ec947705cd53daa04678093a80581dc3282\n""}, {'number': 3, 'created': '2021-09-01 06:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/9ef2484e9499971fc6c879da969245a7a7374c8a', 'message': ""update some scripts\n\nremove the the colorizer.py which hasn't been used \nsince https://review.opendev.org/c/openstack/python-cinderclient/+/502120\n\nChange-Id: I9bed2ec947705cd53daa04678093a80581dc3282\n""}, {'number': 4, 'created': '2021-09-01 07:47:19.000000000', 'files': ['tools/lintstack.py', 'tools/colorizer.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/e16b0256ec53ebe82d88a8eab8bd9d0fb3c7b4a6', 'message': ""update some scripts\n\nremove the the colorizer.py which hasn't been used \nsince https://review.opendev.org/c/openstack/python-cinderclient/+/502120\n\nChange-Id: I9bed2ec947705cd53daa04678093a80581dc3282\n""}]",5,789971,e16b0256ec53ebe82d88a8eab8bd9d0fb3c7b4a6,20,6,4,31827,,,0,"update some scripts

remove the the colorizer.py which hasn't been used 
since https://review.opendev.org/c/openstack/python-cinderclient/+/502120

Change-Id: I9bed2ec947705cd53daa04678093a80581dc3282
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/71/789971/4 && git format-patch -1 --stdout FETCH_HEAD,"['tools/lintstack.py', 'tools/colorizer.py']",2,bdbe22ad6a8e276ed2281d9d2115731a22aebbb7,,#!/usr/bin/env python3,#!/usr/bin/env python,2,2
openstack%2Ftripleo-validations~master~Id8d99321c870aee70f0e177b1b633654a04c8402,openstack/tripleo-validations,master,Id8d99321c870aee70f0e177b1b633654a04c8402,Fail validation if pacemaker service is not active,MERGED,2021-08-19 11:28:23.000000000,2021-09-01 15:32:27.000000000,2021-09-01 15:30:49.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-08-19 11:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/413a71276363fe26f2c49c72e0dc2b83d844bc8b', 'message': 'Fail validation if pacemaker service is not active\n\nPacemaker-status validation always reports success regardless\nof the actual status of the service.\n\nAdd a task to fail validation when pacemaker service is found\ninactive/failed\n\nCloses-Bug: #1940519\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: Id8d99321c870aee70f0e177b1b633654a04c8402\n'}, {'number': 2, 'created': '2021-08-20 08:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c2a9a1e8d090acf0b3a236be10b038428dafec98', 'message': 'Fail validation if pacemaker service is not active\n\nPacemaker-status validation always reports success regardless\nof the actual status of the service.\n\nAdd a task to fail validation when pacemaker service is found\ninactive/failed\n\nCloses-Bug: #1940519\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: Id8d99321c870aee70f0e177b1b633654a04c8402\n'}, {'number': 3, 'created': '2021-08-26 03:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7d727091ec8735d67fac7324094168f1e92d6978', 'message': 'Fail validation if pacemaker service is not active\n\nPacemaker-status validation always reports success regardless\nof the actual status of the service.\n\nAdd a task to fail validation when pacemaker service is found\ninactive/failed\n\nCloses-Bug: #1940519\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: Id8d99321c870aee70f0e177b1b633654a04c8402\n'}, {'number': 4, 'created': '2021-08-26 03:29:41.000000000', 'files': ['roles/pacemaker_status/tasks/main.yml', 'playbooks/pacemaker-status.yaml', 'roles/pacemaker_status/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2a7c43df4ae997d66f1fd9cf2e4e5acf32646e7b', 'message': 'Fail validation if pacemaker service is not active\n\nPacemaker-status validation always reports success regardless\nof the actual status of the service.\n\nAdd a task to fail validation when pacemaker service is found\ninactive/failed\n\nCloses-Bug: #1940519\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: Id8d99321c870aee70f0e177b1b633654a04c8402\n'}]",0,805187,2a7c43df4ae997d66f1fd9cf2e4e5acf32646e7b,17,6,4,32240,,,0,"Fail validation if pacemaker service is not active

Pacemaker-status validation always reports success regardless
of the actual status of the service.

Add a task to fail validation when pacemaker service is found
inactive/failed

Closes-Bug: #1940519

Signed-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>
Change-Id: Id8d99321c870aee70f0e177b1b633654a04c8402
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/87/805187/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/pacemaker_status/tasks/main.yml'],1,413a71276363fe26f2c49c72e0dc2b83d844bc8b,bug/1940519,"- name: Check pacemaker service is inactive or failed fail: msg: ""Pacemaker service found {{ check_service.stdout.split('=')[-1] }}"" when: check_service.stdout != 'ActiveState=active' ",,5,0
openstack%2Ftripleo-validations~stable%2Fussuri~Idbab25f1750b5afe990d7e46fa4e78f8f36ff057,openstack/tripleo-validations,stable/ussuri,Idbab25f1750b5afe990d7e46fa4e78f8f36ff057,Bump molecule to 3.3.1,MERGED,2021-08-19 14:34:29.000000000,2021-09-01 15:32:18.000000000,2021-09-01 15:30:51.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-19 14:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7eadf1061b875958c9aa389ba90c3dafae46a238', 'message': 'Bump molecule to 3.3.1\n\nThis patch also adds molecule-podman driver as a requirement\nbecause molecule >=3.2 stopped installing it by default.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Idbab25f1750b5afe990d7e46fa4e78f8f36ff057\n(cherry picked from commit d61e645cee24f28df2df151b1510fde673164bcc)\n'}, {'number': 2, 'created': '2021-08-19 19:35:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/930f107c7e0360cb857cafb5f4a51fd541888b44', 'message': 'Bump molecule to 3.3.1\n\nThis patch also adds molecule-podman driver as a requirement\nbecause molecule >=3.2 stopped installing it by default.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Idbab25f1750b5afe990d7e46fa4e78f8f36ff057\n(cherry picked from commit d61e645cee24f28df2df151b1510fde673164bcc)\n'}, {'number': 3, 'created': '2021-08-19 19:38:22.000000000', 'files': ['molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9a07b74b3c0899cac4592df93b94f275a004a6be', 'message': 'Bump molecule to 3.3.1\n\nThis patch also adds molecule-podman driver as a requirement\nbecause molecule >=3.2 stopped installing it by default.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Idbab25f1750b5afe990d7e46fa4e78f8f36ff057\n(cherry picked from commit d61e645cee24f28df2df151b1510fde673164bcc)\n'}]",0,805236,9a07b74b3c0899cac4592df93b94f275a004a6be,11,7,3,14985,,,0,"Bump molecule to 3.3.1

This patch also adds molecule-podman driver as a requirement
because molecule >=3.2 stopped installing it by default.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: Idbab25f1750b5afe990d7e46fa4e78f8f36ff057
(cherry picked from commit d61e645cee24f28df2df151b1510fde673164bcc)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/36/805236/3 && git format-patch -1 --stdout FETCH_HEAD,['molecule-requirements.txt'],1,7eadf1061b875958c9aa389ba90c3dafae46a238,molecule-stable/ussuri,"molecule>=3.3.1,<4 # MIT molecule-podman # MIT","molecule>=3.0,<3.1 # MIT",2,1
openstack%2Fkolla~stable%2Fvictoria~Ic976765ef4aec30d8153a20aba5ab389265554bb,openstack/kolla,stable/victoria,Ic976765ef4aec30d8153a20aba5ab389265554bb,CentOS Stream: update kolla-ansible Zuul jobs,MERGED,2021-07-01 10:56:52.000000000,2021-09-01 15:31:16.000000000,2021-09-01 15:26:04.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-01 10:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6d90c7a1acf05294e7f3791d42b8805bc0abc573', 'message': 'CentOS Stream: update kolla-ansible Zuul jobs\n\nThe kolla-ansible jobs were renamed from centos8 to centos8s when they\nswitched to CentOS stream. The Kolla pipeline must reference the new\nnames, otherwise the jobs will not run.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/797017\nChange-Id: Ic976765ef4aec30d8153a20aba5ab389265554bb\n(cherry picked from commit b64fd1d02f576d0bcd581e692701d2a1cf024c63)\n'}, {'number': 2, 'created': '2021-07-01 11:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6c481a22f17197aac286303e4b5575db202b2906', 'message': 'CentOS Stream: update kolla-ansible Zuul jobs\n\nThe kolla-ansible jobs were renamed from centos8 to centos8s when they\nswitched to CentOS stream. The Kolla pipeline must reference the new\nnames, otherwise the jobs will not run.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/797017\nChange-Id: Ic976765ef4aec30d8153a20aba5ab389265554bb\n(cherry picked from commit b64fd1d02f576d0bcd581e692701d2a1cf024c63)\n'}, {'number': 3, 'created': '2021-07-01 11:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3a26b2f660cf3788bc5cf413874e80f111c43037', 'message': 'CentOS Stream: update kolla-ansible Zuul jobs\n\nThe kolla-ansible jobs were renamed from centos8 to centos8s when they\nswitched to CentOS stream. The Kolla pipeline must reference the new\nnames, otherwise the jobs will not run.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/797017\nChange-Id: Ic976765ef4aec30d8153a20aba5ab389265554bb\n(cherry picked from commit b64fd1d02f576d0bcd581e692701d2a1cf024c63)\n'}, {'number': 4, 'created': '2021-08-04 09:15:14.000000000', 'files': ['.zuul.d/centos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/47ec54f779fd51931a9d4c7f2f6548b7faa3a66e', 'message': 'CentOS Stream: update kolla-ansible Zuul jobs\n\nThe kolla-ansible jobs were renamed from centos8 to centos8s when they\nswitched to CentOS stream. The Kolla pipeline must reference the new\nnames, otherwise the jobs will not run.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/797017\nChange-Id: Ic976765ef4aec30d8153a20aba5ab389265554bb\n(cherry picked from commit b64fd1d02f576d0bcd581e692701d2a1cf024c63)\n'}]",0,798892,47ec54f779fd51931a9d4c7f2f6548b7faa3a66e,24,4,4,14826,,,0,"CentOS Stream: update kolla-ansible Zuul jobs

The kolla-ansible jobs were renamed from centos8 to centos8s when they
switched to CentOS stream. The Kolla pipeline must reference the new
names, otherwise the jobs will not run.

Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/797017
Change-Id: Ic976765ef4aec30d8153a20aba5ab389265554bb
(cherry picked from commit b64fd1d02f576d0bcd581e692701d2a1cf024c63)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/92/798892/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/centos.yaml'],1,6d90c7a1acf05294e7f3791d42b8805bc0abc573,centos8_stream_victoria, - kolla-ansible-centos8s-source - kolla-ansible-centos8s-binary - kolla-ansible-centos8s-source-upgrade<<<<<<< HEAD (19cba4 Add support for CentOS 8 Stream)======= - kolla-build-centos8s-source - kolla-ansible-centos8s-source - kolla-ansible-centos8s-source-upgrade >>>>>>> CHANGE (b64fd1 CentOS Stream: update kolla-ansible Zuul jobs)<<<<<<< HEAD (19cba4 Add support for CentOS 8 Stream)======= - kolla-build-no-infra-wheels-centos8s-source - kolla-ansible-centos8s-source-bifrost: >>>>>>> CHANGE (b64fd1 CentOS Stream: update kolla-ansible Zuul jobs) - kolla-ansible-centos8s-source-cephadm: - kolla-ansible-centos8s-source-upgrade-cephadm: - kolla-ansible-centos8s-source-zun: - kolla-ansible-centos8s-source-scenario-nfv: - kolla-ansible-centos8s-source-ironic: - kolla-ansible-centos8s-source-swift: - kolla-ansible-centos8s-source-mariadb: - kolla-ansible-centos8s-source-masakari: - kolla-ansible-centos8s-source-ovn: - kolla-ansible-centos8s-source-prometheus-efk: - kolla-ansible-centos8s-source-kvm:, - kolla-ansible-centos8-source - kolla-ansible-centos8-binary - kolla-ansible-centos8-source-upgrade - kolla-ansible-centos8-source-ceph-ansible: - kolla-ansible-centos8-source-upgrade-ceph-ansible: - kolla-ansible-centos8-source-zun: - kolla-ansible-centos8-source-scenario-nfv: - kolla-ansible-centos8-source-ironic: - kolla-ansible-centos8-source-swift: - kolla-ansible-centos8-source-mariadb: - kolla-ansible-centos8-source-masakari: - kolla-ansible-centos8-source-ovn: - kolla-ansible-centos8-source-prometheus-efk: - kolla-ansible-centos8-source-kvm:,25,14
openstack%2Fvalidations-common~master~I47a85cd71b5d508f332c91217e24bcf4302cf0ea,openstack/validations-common,master,I47a85cd71b5d508f332c91217e24bcf4302cf0ea,validations_read_ini refactoring,MERGED,2021-08-24 12:45:32.000000000,2021-09-01 15:31:04.000000000,2021-09-01 15:29:20.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-24 12:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/ea4d33f674ba16da1227361803c0dace2a7b95a4', 'message': 'validations_read_ini refactoring\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I47a85cd71b5d508f332c91217e24bcf4302cf0ea\n'}, {'number': 2, 'created': '2021-08-30 10:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/8cdcb917076d246c45e9cafcc0efbce2414f6807', 'message': 'validations_read_ini refactoring\nGeneral refactoring of the module along with small changes\nto the existing unit tests.\n\n- file existence check logic optimized\n- docstrings expanded\n- missing config file handling\n- return type clarification\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I47a85cd71b5d508f332c91217e24bcf4302cf0ea\n'}, {'number': 3, 'created': '2021-08-30 10:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/df5c8797711e9f0fb7020a2d6380f3ee4014525f', 'message': 'validations_read_ini refactoring\n\nGeneral refactoring of the module along with small changes\nto the existing unit tests.\n\n- file existence check logic optimized\n- docstrings expanded\n- missing config file handling\n- return type clarification\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I47a85cd71b5d508f332c91217e24bcf4302cf0ea\n'}, {'number': 4, 'created': '2021-08-31 08:32:01.000000000', 'files': ['validations_common/tests/library/test_validations_read_ini.py', 'validations_common/library/validations_read_ini.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/3f65cc05b3f24185fb50ec3f1312c73a698c99cf', 'message': 'validations_read_ini refactoring\n\nGeneral refactoring of the module along with small changes\nto the existing unit tests.\n\n- file existence check logic optimized\n- docstrings expanded\n- missing config file handling\n- return type clarification\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I47a85cd71b5d508f332c91217e24bcf4302cf0ea\n'}]",0,805843,3f65cc05b3f24185fb50ec3f1312c73a698c99cf,13,5,4,32926,,,0,"validations_read_ini refactoring

General refactoring of the module along with small changes
to the existing unit tests.

- file existence check logic optimized
- docstrings expanded
- missing config file handling
- return type clarification

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I47a85cd71b5d508f332c91217e24bcf4302cf0ea
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/43/805843/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_common/tests/library/test_validations_read_ini.py', 'validations_common/library/validations_read_ini.py']",2,ea4d33f674ba16da1227361803c0dace2a7b95a4,,"def check_file(path): """"""Check if the requested file exists. :param path: path to configuration file :dtype path: `string` :returns: True if file exists, false otherwise :rtype: `bool` """""" return (os.path.exists(path) and os.path.isfile(path)) """"""Get value based on a section and a key. :param path: path to configuration file :dtype path: `string` :param section: name of the config file section :dtype section: `string` :param key: key for which we want to know the value :dtype key: `string` :param default: default value to use if the key does not exist :dtype default: `object` :returns: tuple of numeric return code, message and value of the requested key :rtype: `tuple` """""" path, exc_msg) return (ReturnValue.INVALID_FORMAT, msg, value) return (ret, msg, value) argument_spec=yaml_safe_load(DOCUMENTATION)['options']) file_exists = check_file(ini_file_path) if file_exists: else: # Opening file failed msg = ""Could not open the ini file: '{}'"".format(ini_file_path) if ignore_missing: module.exit_json(msg=msg, changed=False, value=None) else: module.fail_json(msg=msg)","def check_file(path, ignore_missing): '''Validate entered path''' if not (os.path.exists(path) and os.path.isfile(path)): return ""Could not open the ini file: '{}'"".format(path) else: return '' '''Get value based on section and key''' path, exc_msg ) ret = ReturnValue.INVALID_FORMAT return (ret, msg, value) return (ret, msg, value) return (ret, msg, value) argument_spec=yaml_safe_load(DOCUMENTATION)['options'] ) msg = check_file(ini_file_path, ignore_missing) if msg != '': # Opening file failed if ignore_missing: module.exit_json(msg=msg, changed=False, value=None) else: module.fail_json(msg=msg) else:",42,38
openstack%2Fpuppet-tripleo~master~Ic2f376e7bfca1ed3d53994994746995fa8fb2366,openstack/puppet-tripleo,master,Ic2f376e7bfca1ed3d53994994746995fa8fb2366,Make sure there is a space after debug in virtlogd_wrapper,MERGED,2021-08-27 19:12:13.000000000,2021-09-01 15:29:18.000000000,2021-09-01 15:29:18.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-27 19:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8bae5fa50869430005e7abac6be26a9838fb7f93', 'message': 'DNM/WIP Add a space after debug in virtlogd_wrapper\n\nOtherwise when we set debug on we get the following start of\nfile:\n  #!/bin/bash\n  set -xARGS=""$@""\n\nThis will then lead to the error:\n2021-08-27T18:22:40.444492949+00:00 stderr F + exec /usr/local/bin/virtlogd_wrapper\n2021-08-27T18:22:40.444492949+00:00 stderr F /usr/local/bin/virtlogd_wrapper: line 2: set: -A: invalid option\n2021-08-27T18:22:40.444492949+00:00 stderr F set: usage: set [-abefhkmnptuvxBCHP] [-o option-name] [--] [arg ...]\n2021-08-27T18:22:40.763849194+00:00 stdout F Starting a new child container nova_virtlogd\n2021-08-27T18:22:41.016340084+00:00 stdout F c46e5d5a121e11aec40264f3473b37e7edeabf6f9404d49666645252a8db63a3\n\nChange-Id: Ic2f376e7bfca1ed3d53994994746995fa8fb2366\n'}, {'number': 2, 'created': '2021-08-28 16:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d5a2872ed488828723eea08772ac27649ba4a665', 'message': 'Add a space after debug in virtlogd_wrapper\n\nOtherwise when we set debug on we get the following start of\nfile:\n  #!/bin/bash\n  set -xARGS=""$@""\n\nThis will then lead to the error:\n2021-08-27T18:22:40.444492949+00:00 stderr F + exec /usr/local/bin/virtlogd_wrapper\n2021-08-27T18:22:40.444492949+00:00 stderr F /usr/local/bin/virtlogd_wrapper: line 2: set: -A: invalid option\n2021-08-27T18:22:40.444492949+00:00 stderr F set: usage: set [-abefhkmnptuvxBCHP] [-o option-name] [--] [arg ...]\n2021-08-27T18:22:40.763849194+00:00 stdout F Starting a new child container nova_virtlogd\n2021-08-27T18:22:41.016340084+00:00 stdout F c46e5d5a121e11aec40264f3473b37e7edeabf6f9404d49666645252a8db63a3\n\nAfter this change, with debug always on, we correctly get:\n  #!/bin/bash\n  set -x\n  ARGS=""$@""\n  NAME=nova_virtlogd\n\nChange-Id: Ic2f376e7bfca1ed3d53994994746995fa8fb2366\n'}, {'number': 3, 'created': '2021-09-01 06:34:41.000000000', 'files': ['templates/nova/virtlogd.epp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2384b77a5ba9a19469defec3d47c0f105bba1dbb', 'message': 'Make sure there is a space after debug in virtlogd_wrapper\n\nOtherwise when we set debug on we get the following start of\nfile:\n  #!/bin/bash\n  set -xARGS=""$@""\n\nThis will then lead to the error:\n2021-08-27T18:22:40.444492949+00:00 stderr F + exec /usr/local/bin/virtlogd_wrapper\n2021-08-27T18:22:40.444492949+00:00 stderr F /usr/local/bin/virtlogd_wrapper: line 2: set: -A: invalid option\n2021-08-27T18:22:40.444492949+00:00 stderr F set: usage: set [-abefhkmnptuvxBCHP] [-o option-name] [--] [arg ...]\n2021-08-27T18:22:40.763849194+00:00 stdout F Starting a new child container nova_virtlogd\n2021-08-27T18:22:41.016340084+00:00 stdout F c46e5d5a121e11aec40264f3473b37e7edeabf6f9404d49666645252a8db63a3\n\nAfter this change, with debug always on, we correctly get:\n  #!/bin/bash\n  set -x\n  ARGS=""$@""\n  NAME=nova_virtlogd\n\nChange-Id: Ic2f376e7bfca1ed3d53994994746995fa8fb2366\n'}]",1,806445,2384b77a5ba9a19469defec3d47c0f105bba1dbb,20,7,3,20172,,,0,"Make sure there is a space after debug in virtlogd_wrapper

Otherwise when we set debug on we get the following start of
file:
  #!/bin/bash
  set -xARGS=""$@""

This will then lead to the error:
2021-08-27T18:22:40.444492949+00:00 stderr F + exec /usr/local/bin/virtlogd_wrapper
2021-08-27T18:22:40.444492949+00:00 stderr F /usr/local/bin/virtlogd_wrapper: line 2: set: -A: invalid option
2021-08-27T18:22:40.444492949+00:00 stderr F set: usage: set [-abefhkmnptuvxBCHP] [-o option-name] [--] [arg ...]
2021-08-27T18:22:40.763849194+00:00 stdout F Starting a new child container nova_virtlogd
2021-08-27T18:22:41.016340084+00:00 stdout F c46e5d5a121e11aec40264f3473b37e7edeabf6f9404d49666645252a8db63a3

After this change, with debug always on, we correctly get:
  #!/bin/bash
  set -x
  ARGS=""$@""
  NAME=nova_virtlogd

Change-Id: Ic2f376e7bfca1ed3d53994994746995fa8fb2366
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/45/806445/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/nova/virtlogd.epp'],1,8bae5fa50869430005e7abac6be26a9838fb7f93,dnm-test,,,1,0
openstack%2Fneutron~master~I615c03567a4e96293f4138f4f171ae0fb09dc2f1,openstack/neutron,master,I615c03567a4e96293f4138f4f171ae0fb09dc2f1,Fix typos in agent policy names,MERGED,2021-08-26 21:13:10.000000000,2021-09-01 15:25:01.000000000,2021-09-01 10:51:04.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-08-26 21:13:10.000000000', 'files': ['neutron/conf/policies/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b01844be21283e7ef67aefea32dc1522528d50b6', 'message': ""Fix typos in agent policy names\n\nI think these typos were an accident, but it's causing the generated\npolicy files (oslopolicy-sample-generator --namespace neutron) to alias\nthe old rule name with the new rule name because it thinks we're change\nthem to something else.\n\nThis commit corrects them to the old values since I don't think the\nnames are changing.\n\nChange-Id: I615c03567a4e96293f4138f4f171ae0fb09dc2f1\n""}]",0,806277,b01844be21283e7ef67aefea32dc1522528d50b6,32,5,1,5046,,,0,"Fix typos in agent policy names

I think these typos were an accident, but it's causing the generated
policy files (oslopolicy-sample-generator --namespace neutron) to alias
the old rule name with the new rule name because it thinks we're change
them to something else.

This commit corrects them to the old values since I don't think the
names are changing.

Change-Id: I615c03567a4e96293f4138f4f171ae0fb09dc2f1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/806277/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/agent.py'],1,b01844be21283e7ef67aefea32dc1522528d50b6,," name='get_dhcp-networks', name='delete_dhcp-network',"," name='get_dhcp-networs', name='delete_dhcp-networ',",2,2
openstack%2Fkolla-ansible~stable%2Fvictoria~I413f484d60d7cdfa03f3f8d779f07462be15d2dd,openstack/kolla-ansible,stable/victoria,I413f484d60d7cdfa03f3f8d779f07462be15d2dd,CI: Add centos-8-stream jobs,MERGED,2021-06-18 08:10:03.000000000,2021-09-01 15:19:46.000000000,2021-09-01 15:14:29.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-18 08:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ea8d9ce42fd0d2224c32540e29592aab31c5ca80', 'message': 'WIP: CI: Move to centos-8-stream\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nChange-Id: I413f484d60d7cdfa03f3f8d779f07462be15d2dd\n(cherry picked from commit 43f68d948ef98917972419b7ed00b811214dbc0f)\n'}, {'number': 2, 'created': '2021-06-18 08:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/60722400416add6f1743a9942b9da0f9b4c736ca', 'message': 'WIP: CI: Move to centos-8-stream\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nChange-Id: I413f484d60d7cdfa03f3f8d779f07462be15d2dd\n(cherry picked from commit 43f68d948ef98917972419b7ed00b811214dbc0f)\n'}, {'number': 3, 'created': '2021-06-18 08:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ab8f4310070eacea577271c018d5dc04690d63a0', 'message': 'WIP: CI: Move to centos-8-stream\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nChange-Id: I413f484d60d7cdfa03f3f8d779f07462be15d2dd\n(cherry picked from commit 43f68d948ef98917972419b7ed00b811214dbc0f)\n'}, {'number': 4, 'created': '2021-06-18 08:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a5ede9a8c79ea7d254347ad48dda2abb4da488d0', 'message': 'WIP: CI: Move to centos-8-stream\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nChange-Id: I413f484d60d7cdfa03f3f8d779f07462be15d2dd\n(cherry picked from commit 43f68d948ef98917972419b7ed00b811214dbc0f)\n'}, {'number': 5, 'created': '2021-06-18 08:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eaddf2813ce4a0b64c124e3b2bb0f09e48d46cca', 'message': 'WIP: CI: Move to centos-8-stream\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nChange-Id: I413f484d60d7cdfa03f3f8d779f07462be15d2dd\n(cherry picked from commit 43f68d948ef98917972419b7ed00b811214dbc0f)\n'}, {'number': 6, 'created': '2021-06-18 08:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6834dde60263102c8f8e02f2513b03660aac5794', 'message': 'WIP: CI: Move to centos-8-stream\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nChange-Id: I413f484d60d7cdfa03f3f8d779f07462be15d2dd\n(cherry picked from commit 43f68d948ef98917972419b7ed00b811214dbc0f)\n'}, {'number': 7, 'created': '2021-06-18 09:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e66561802a82246c5e0bfa31daf37b40b14c8a14', 'message': 'WIP: CI: Move to centos-8-stream\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/792763\n\nChange-Id: I413f484d60d7cdfa03f3f8d779f07462be15d2dd\n(cherry picked from commit 43f68d948ef98917972419b7ed00b811214dbc0f)\n'}, {'number': 8, 'created': '2021-06-21 11:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f20ffac7b53f46f7153d31f5a139a5636adb2a34', 'message': 'WIP: CI: Move to centos-8-stream\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/792763\n\nChange-Id: I413f484d60d7cdfa03f3f8d779f07462be15d2dd\n(cherry picked from commit 43f68d948ef98917972419b7ed00b811214dbc0f)\n'}, {'number': 9, 'created': '2021-06-21 13:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b7a0e9afe63092343e3b42974f053dce04280cc5', 'message': 'WIP: CI: Move to centos-8-stream\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/792763\n\nChange-Id: I413f484d60d7cdfa03f3f8d779f07462be15d2dd\n(cherry picked from commit 43f68d948ef98917972419b7ed00b811214dbc0f)\n'}, {'number': 10, 'created': '2021-06-21 16:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7d18d75922128c855472e0fae872fa15d4ec8be6', 'message': 'WIP: CI: Move to centos-8-stream\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/792763\n\nChange-Id: I413f484d60d7cdfa03f3f8d779f07462be15d2dd\n(cherry picked from commit 43f68d948ef98917972419b7ed00b811214dbc0f)\n'}, {'number': 11, 'created': '2021-06-23 12:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0a8793685bce35edac6f96a478e1748647674d87', 'message': 'CI: Move to centos-8-stream\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/792763\n\nChange-Id: I413f484d60d7cdfa03f3f8d779f07462be15d2dd\n(cherry picked from commit 43f68d948ef98917972419b7ed00b811214dbc0f)\n'}, {'number': 12, 'created': '2021-06-23 12:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f8e1c3eeb45aeb9db03066cfd4dae31252179b49', 'message': 'CI: Add centos-8-stream jobs\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/792763\n\nChange-Id: I413f484d60d7cdfa03f3f8d779f07462be15d2dd\n(cherry picked from commit 43f68d948ef98917972419b7ed00b811214dbc0f)\n'}, {'number': 13, 'created': '2021-07-26 09:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/72456a4870132c5f2e5687619ce20895d320a730', 'message': 'CI: Add centos-8-stream jobs\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/792763\n\nChange-Id: I413f484d60d7cdfa03f3f8d779f07462be15d2dd\n(cherry picked from commit 43f68d948ef98917972419b7ed00b811214dbc0f)\n'}, {'number': 14, 'created': '2021-08-26 09:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3ef72f7506337ee15430112511bb0171a3172236', 'message': 'CI: Add centos-8-stream jobs\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/792763\n\nChange-Id: I413f484d60d7cdfa03f3f8d779f07462be15d2dd\n(cherry picked from commit 43f68d948ef98917972419b7ed00b811214dbc0f)\n'}, {'number': 15, 'created': '2021-08-26 12:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/451bf6106ab2aa6f7b23bd2d91bdf4cdfe7af25e', 'message': 'CI: Add centos-8-stream jobs\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/792763\n\nChange-Id: I413f484d60d7cdfa03f3f8d779f07462be15d2dd\n(cherry picked from commit 43f68d948ef98917972419b7ed00b811214dbc0f)\n'}, {'number': 16, 'created': '2021-08-26 13:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a3f80dcd4469bad1fe667911e7b30172fcee380d', 'message': 'CI: Add centos-8-stream jobs\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/792763\n\nChange-Id: I413f484d60d7cdfa03f3f8d779f07462be15d2dd\n(cherry picked from commit 43f68d948ef98917972419b7ed00b811214dbc0f)\n'}, {'number': 17, 'created': '2021-08-26 13:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/85c646515f1681eea0b49b6b5fe96e13eb5658df', 'message': 'CI: Add centos-8-stream jobs\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/792763\n\nChange-Id: I413f484d60d7cdfa03f3f8d779f07462be15d2dd\n(cherry picked from commit 43f68d948ef98917972419b7ed00b811214dbc0f)\n'}, {'number': 18, 'created': '2021-09-01 09:07:14.000000000', 'files': ['tests/templates/globals-default.j2', 'zuul.d/project.yaml', 'zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/30b95a5166f617e50824278a087582d3713b4257', 'message': 'CI: Add centos-8-stream jobs\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/792763\n\nChange-Id: I413f484d60d7cdfa03f3f8d779f07462be15d2dd\n(cherry picked from commit 43f68d948ef98917972419b7ed00b811214dbc0f)\n'}]",10,797017,30b95a5166f617e50824278a087582d3713b4257,57,4,18,22629,,,0,"CI: Add centos-8-stream jobs

Co-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>

Depends-On: https://review.opendev.org/c/openstack/kolla/+/792763

Change-Id: I413f484d60d7cdfa03f3f8d779f07462be15d2dd
(cherry picked from commit 43f68d948ef98917972419b7ed00b811214dbc0f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/17/797017/5 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml']",3,ea8d9ce42fd0d2224c32540e29592aab31c5ca80,centos8_stream_victoria, name: kolla-ansible-centos8s-source nodeset: kolla-ansible-centos8s name: kolla-ansible-centos8s-source-kvm nodeset: kolla-ansible-centos8s-nested-virt name: kolla-ansible-centos8s-source-multinode-ipv6 nodeset: kolla-ansible-centos8s-multi name: kolla-ansible-centos8s-binary nodeset: kolla-ansible-centos8s<<<<<<< HEAD (6387e4 Fix RabbitMQ restart ordering)======= name: kolla-ansible-centos8s-source-cephadm parent: kolla-ansible-cephadm-base nodeset: kolla-ansible-centos8s-multi >>>>>>> CHANGE (43f68d CI: Move to centos-8-stream) name: kolla-ansible-centos8s-source-mariadb nodeset: kolla-ansible-centos8s-multi name: kolla-ansible-centos8s-source-upgrade nodeset: kolla-ansible-centos8s<<<<<<< HEAD (6387e4 Fix RabbitMQ restart ordering)======= name: kolla-ansible-centos8s-source-upgrade-cephadm parent: kolla-ansible-cephadm-base nodeset: kolla-ansible-centos8s-multi >>>>>>> CHANGE (43f68d CI: Move to centos-8-stream) name: kolla-ansible-centos8s-source-bifrost nodeset: kolla-ansible-centos8s name: kolla-ansible-centos8s-source-zun nodeset: kolla-ansible-centos8s-multi name: kolla-ansible-centos8s-source-swift nodeset: kolla-ansible-centos8s-multi name: kolla-ansible-centos8s-source-scenario-nfv nodeset: kolla-ansible-centos8s-multi name: kolla-ansible-centos8s-source-ironic nodeset: kolla-ansible-centos8s name: kolla-ansible-centos8s-binary-ironic nodeset: kolla-ansible-centos8s name: kolla-ansible-centos8s-source-magnum nodeset: kolla-ansible-centos8s<<<<<<< HEAD (6387e4 Fix RabbitMQ restart ordering) ======= name: kolla-ansible-centos8s-source-octavia parent: kolla-ansible-octavia-base nodeset: kolla-ansible-centos8s vars: base_distro: centos install_type: source - job: name: kolla-ansible-ubuntu-source-octavia parent: kolla-ansible-octavia-base nodeset: kolla-ansible-focal vars: base_distro: ubuntu install_type: source - job: >>>>>>> CHANGE (43f68d CI: Move to centos-8-stream) name: kolla-ansible-centos8s-source-masakari nodeset: kolla-ansible-centos8s<<<<<<< HEAD (6387e4 Fix RabbitMQ restart ordering)======= name: kolla-ansible-centos8s-source-monasca parent: kolla-ansible-monasca-base nodeset: kolla-ansible-centos8s-multi-monasca vars: base_distro: centos install_type: source - job: name: kolla-ansible-centos8s-source-cells >>>>>>> CHANGE (43f68d CI: Move to centos-8-stream) nodeset: kolla-ansible-centos8s-multi name: kolla-ansible-centos8s-source-linuxbridge nodeset: kolla-ansible-centos8s name: kolla-ansible-centos8s-source-ovn nodeset: kolla-ansible-centos8s-multi name: kolla-ansible-centos8s-source-prometheus-efk nodeset: kolla-ansible-centos8s, name: kolla-ansible-centos8-source nodeset: kolla-ansible-centos8 name: kolla-ansible-centos8-source-kvm nodeset: kolla-ansible-centos8-nested-virt name: kolla-ansible-centos8-source-multinode-ipv6 nodeset: kolla-ansible-centos8-multi name: kolla-ansible-centos8-binary nodeset: kolla-ansible-centos8 name: kolla-ansible-centos8-source-mariadb nodeset: kolla-ansible-centos8-multi name: kolla-ansible-centos8-source-upgrade nodeset: kolla-ansible-centos8 name: kolla-ansible-centos8-source-bifrost nodeset: kolla-ansible-centos8 name: kolla-ansible-centos8-source-zun nodeset: kolla-ansible-centos8-multi name: kolla-ansible-centos8-source-swift nodeset: kolla-ansible-centos8-multi name: kolla-ansible-centos8-source-scenario-nfv nodeset: kolla-ansible-centos8-multi name: kolla-ansible-centos8-source-ironic nodeset: kolla-ansible-centos8 name: kolla-ansible-centos8-binary-ironic nodeset: kolla-ansible-centos8 name: kolla-ansible-centos8-source-magnum nodeset: kolla-ansible-centos8 name: kolla-ansible-centos8-source-masakari nodeset: kolla-ansible-centos8 nodeset: kolla-ansible-centos8-multi name: kolla-ansible-centos8-source-linuxbridge nodeset: kolla-ansible-centos8 name: kolla-ansible-centos8-source-ovn nodeset: kolla-ansible-centos8-multi name: kolla-ansible-centos8-source-prometheus-efk nodeset: kolla-ansible-centos8,201,53
openstack%2Fnova~stable%2Fvictoria~I546d376869a992601b443fb95acf1034da2a8f36,openstack/nova,stable/victoria,I546d376869a992601b443fb95acf1034da2a8f36,Reduce mocking in test_reject_open_redirect for compat,MERGED,2021-07-31 00:58:39.000000000,2021-09-01 15:06:20.000000000,2021-09-01 15:04:06.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-31 00:58:39.000000000', 'files': ['nova/tests/unit/console/test_websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/94e265f3ca615aa18de0081a76975019997b8709', 'message': 'Reduce mocking in test_reject_open_redirect for compat\n\nThis is a followup for change Ie36401c782f023d1d5f2623732619105dc2cfa24\nto reduce mocking in the unit test coverage for it.\n\nWhile backporting the bug fix, it was found to be incompatible with\nearlier versions of Python < 3.6 due to a difference in internal\nimplementation [1].\n\nThis reduces the mocking in the unit test to be more agnostic to the\ninternals of the StreamRequestHandler (ancestor of\nSimpleHTTPRequestHandler) and work across Python versions >= 2.7.\n\nRelated-Bug: #1927677\n\n[1] https://github.com/python/cpython/commit/34eeed42901666fce099947f93dfdfc05411f286\n\nChange-Id: I546d376869a992601b443fb95acf1034da2a8f36\n(cherry picked from commit 214cabe6848a1fdb4f5941d994c6cc11107fc4af)\n(cherry picked from commit 9c2f29783734cb5f9cb05a08d328c10e1d16c4f1)\n'}]",0,803093,94e265f3ca615aa18de0081a76975019997b8709,12,3,1,4690,,,0,"Reduce mocking in test_reject_open_redirect for compat

This is a followup for change Ie36401c782f023d1d5f2623732619105dc2cfa24
to reduce mocking in the unit test coverage for it.

While backporting the bug fix, it was found to be incompatible with
earlier versions of Python < 3.6 due to a difference in internal
implementation [1].

This reduces the mocking in the unit test to be more agnostic to the
internals of the StreamRequestHandler (ancestor of
SimpleHTTPRequestHandler) and work across Python versions >= 2.7.

Related-Bug: #1927677

[1] https://github.com/python/cpython/commit/34eeed42901666fce099947f93dfdfc05411f286

Change-Id: I546d376869a992601b443fb95acf1034da2a8f36
(cherry picked from commit 214cabe6848a1fdb4f5941d994c6cc11107fc4af)
(cherry picked from commit 9c2f29783734cb5f9cb05a08d328c10e1d16c4f1)
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/803093/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/console/test_websocketproxy.py'],1,94e265f3ca615aa18de0081a76975019997b8709,bug/1927677,"import io handler = websocketproxy.NovaProxyRequestHandler( # Collect the response data to verify at the end. The # SimpleHTTPRequestHandler writes the response data to a 'wfile' # attribute. output = io.BytesIO() handler.wfile = output # Process the mock_req again to do the capture. handler.do_GET() output.seek(0) result = output.readlines() self.assertIn('400 URI must not start with //', result[0].decode())"," # Collect the response data to verify at the end. The # SimpleHTTPRequestHandler writes the response data by calling the # request socket sendall() method. self.data = b'' def fake_sendall(data): self.data += data mock_req.sendall.side_effect = fake_sendall websocketproxy.NovaProxyRequestHandler( self.data = self.data.decode() self.assertIn('Error code: 400', self.data) self.assertIn('Message: URI must not start with //', self.data)",13,14
openstack%2Fneutron~master~Icfc4b704e826ae8b74d90241288e6aeab1d62f2f,openstack/neutron,master,Icfc4b704e826ae8b74d90241288e6aeab1d62f2f,[doc]Correcting broken link,MERGED,2021-08-31 20:50:46.000000000,2021-09-01 14:59:54.000000000,2021-09-01 14:58:17.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-31 20:50:46.000000000', 'files': ['doc/source/admin/config-qos.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b0bb49a8f8a845f6f9cf88e10541f50815383eb3', 'message': '[doc]Correcting broken link\n\nThe link ""QoS rule types"" in neutron documentation [1]\nreports 404 Not Found, so this patch fix it.\n\n[1] https://docs.openstack.org/neutron/latest/admin/config-qos.html#supported-qos-rule-types\n\nChange-Id: Icfc4b704e826ae8b74d90241288e6aeab1d62f2f\n'}]",0,806806,b0bb49a8f8a845f6f9cf88e10541f50815383eb3,9,3,1,29313,,,0,"[doc]Correcting broken link

The link ""QoS rule types"" in neutron documentation [1]
reports 404 Not Found, so this patch fix it.

[1] https://docs.openstack.org/neutron/latest/admin/config-qos.html#supported-qos-rule-types

Change-Id: Icfc4b704e826ae8b74d90241288e6aeab1d62f2f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/806806/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-qos.rst'],1,b0bb49a8f8a845f6f9cf88e10541f50815383eb3,,<https://opendev.org/openstack/neutron-lib/src/branch/master/neutron_lib/services/qos/constants.py>`_:,<https://opendev.org/openstack/neutron-lib/tree/neutron_lib/services/qos/constants.py>`_:,1,1
openstack%2Fpython-manilaclient~master~I68b98a6c3ee369be1422d2f45e75d034e68da2e0,openstack/python-manilaclient,master,I68b98a6c3ee369be1422d2f45e75d034e68da2e0,[OSC] Implement Share Limits Show command,MERGED,2021-08-18 21:54:01.000000000,2021-09-01 14:59:08.000000000,2021-09-01 14:56:38.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 31721}]","[{'number': 1, 'created': '2021-08-18 21:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/8dba2f9c9c4833610e33f65a0d990c5d2bb89f3f', 'message': '[WIP] [OSC] Implement Share Limits Show command\n\nAdding the following openstack command,\nshare limits show --absolute\nshare limits show --rate\n\nCo-Authored-By: Goutham Pacha Ravi <gouthamr@redhat.com>\nChange-Id: I68b98a6c3ee369be1422d2f45e75d034e68da2e0\n'}, {'number': 2, 'created': '2021-08-19 14:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/0d02068111f9d56506047dcb871f24c95dcaefe1', 'message': '[WIP] [OSC] Implement Share Limits Show command\n\nAdding the following openstack command,\nshare limits show --absolute\nshare limits show --rate\n\nCo-Authored-By: Goutham Pacha Ravi <gouthamr@redhat.com>\nChange-Id: I68b98a6c3ee369be1422d2f45e75d034e68da2e0\n'}, {'number': 3, 'created': '2021-08-19 19:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/89fe8d9b86526178a62f3ba36c2ab8d1f95d1dff', 'message': '[WIP] [OSC] Implement Share Limits Show command\n\nAdding the following openstack command,\nshare limits show --absolute\nshare limits show --rate\n\nCo-Authored-By: Goutham Pacha Ravi <gouthamr@redhat.com>\nChange-Id: I68b98a6c3ee369be1422d2f45e75d034e68da2e0\n'}, {'number': 4, 'created': '2021-08-19 21:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/5d250614c37c9014180525b689965601de2b22f4', 'message': '[WIP] [OSC] Implement Share Limits Show command\n\nAdding the following openstack command,\nshare limits show --absolute\nshare limits show --rate\n\nStill needs:\nUnit tests\n\nPartially-implements: bp openstack-client-support\nCo-Authored-By: Goutham Pacha Ravi <gouthampravi@gmail.com>\nChange-Id: I68b98a6c3ee369be1422d2f45e75d034e68da2e0\n'}, {'number': 5, 'created': '2021-08-20 13:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/d40a50d6e8ba0dd1cb403ab84db7e5acaffd659b', 'message': '[WIP] [OSC] Implement Share Limits Show command\n\nAdding the following openstack command,\nshare limits show --absolute\nshare limits show --rate\n\nStill needs:\nUnit tests\n\nPartially-implements: bp openstack-client-support\nCo-Authored-By: Goutham Pacha Ravi <gouthampravi@gmail.com>\nChange-Id: I68b98a6c3ee369be1422d2f45e75d034e68da2e0\n'}, {'number': 6, 'created': '2021-08-20 14:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/87f13eda2a9d7612250644c5dc6bb9f78f3392dd', 'message': '[WIP] [OSC] Implement Share Limits Show command\n\nAdding the following openstack command,\nshare limits show --absolute\nshare limits show --rate\n\nStill needs:\nUnit tests\n\nPartially-implements: bp openstack-client-support\nCo-Authored-By: Goutham Pacha Ravi <gouthampravi@gmail.com>\nChange-Id: I68b98a6c3ee369be1422d2f45e75d034e68da2e0\n'}, {'number': 7, 'created': '2021-08-25 16:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/f44fd6ee4afc0c4dcc804fb90019189917d58d6b', 'message': '[WIP] [OSC] Implement Share Limits Show command\n\nAdding the following openstack command,\nshare limits show --absolute\nshare limits show --rate\n\nStill needs:\nUnit tests\n\nPartially-implements: bp openstack-client-support\nCo-Authored-By: Goutham Pacha Ravi <gouthampravi@gmail.com>\nChange-Id: I68b98a6c3ee369be1422d2f45e75d034e68da2e0\n'}, {'number': 8, 'created': '2021-08-25 18:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/5bf5f63956c67fdf0e26cdeaf7e300ec4897fdb4', 'message': '[OSC] Implement Share Limits Show command\n\nAdding the following openstack command,\nshare limits show --absolute\nshare limits show --rate\n\nPartially-implements: bp openstack-client-support\nCo-Authored-By: Goutham Pacha Ravi <gouthampravi@gmail.com>\nChange-Id: I68b98a6c3ee369be1422d2f45e75d034e68da2e0\n'}, {'number': 9, 'created': '2021-08-31 01:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/66400220bb454ecc7dbfd38258c28fa2d32f51bf', 'message': '[OSC] Implement Share Limits Show command\n\nAdding the following openstack command,\nshare limits show --absolute\nshare limits show --rate\n\nPartially-implements: bp openstack-client-support\nCo-Authored-By: Goutham Pacha Ravi <gouthampravi@gmail.com>\nChange-Id: I68b98a6c3ee369be1422d2f45e75d034e68da2e0\n'}, {'number': 10, 'created': '2021-08-31 07:53:36.000000000', 'files': ['manilaclient/tests/unit/osc/osc_fakes.py', 'manilaclient/tests/unit/osc/v2/test_share_limits.py', 'manilaclient/tests/unit/osc/v2/fakes.py', 'doc/source/cli/osc/v2/index.rst', 'manilaclient/osc/v2/share_limits.py', 'manilaclient/v2/limits.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/cc440609bd6ae998e798ed3c6ef5e986a64d77cc', 'message': '[OSC] Implement Share Limits Show command\n\nAdding the following openstack command,\nshare limits show --absolute\nshare limits show --rate\n\nPartially-implements: bp openstack-client-support\nCo-Authored-By: Goutham Pacha Ravi <gouthampravi@gmail.com>\nChange-Id: I68b98a6c3ee369be1422d2f45e75d034e68da2e0\n'}]",12,805088,cc440609bd6ae998e798ed3c6ef5e986a64d77cc,32,5,10,30025,,,0,"[OSC] Implement Share Limits Show command

Adding the following openstack command,
share limits show --absolute
share limits show --rate

Partially-implements: bp openstack-client-support
Co-Authored-By: Goutham Pacha Ravi <gouthampravi@gmail.com>
Change-Id: I68b98a6c3ee369be1422d2f45e75d034e68da2e0
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/88/805088/1 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/osc/v2/share_limits.py', 'setup.cfg']",2,8dba2f9c9c4833610e33f65a0d990c5d2bb89f3f,bp/openstack-client-support, share_limits_show = manilaclient.osc.v2.share_limits:ShowShareLimits,,67,0
openstack%2Ftripleo-heat-templates~master~Iee670befb2bcbaa2b666c6b99f5153391b62049e,openstack/tripleo-heat-templates,master,Iee670befb2bcbaa2b666c6b99f5153391b62049e,Consider GlanceMultistoreConfig when setting glance_pool,MERGED,2021-08-18 14:00:12.000000000,2021-09-01 14:44:47.000000000,2021-09-01 14:44:47.000000000,"[{'_account_id': 6796}, {'_account_id': 13861}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-08-18 14:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc1c05fad4e82d18414b67a2c8120e10a293908b', 'message': 'Consider GlanceMultistoreConfig when setting glance_pool\n\nWith glance supporting multiple stores we need to update glance_pool\nso that it explores the content of GlanceMultistoreConfig to see if\nany of the configured backends are of rbd type.\n\nCo-Authored-By: Yatin Karel <ykarel@redhat.com>\nChange-Id: Iee670befb2bcbaa2b666c6b99f5153391b62049e\n'}, {'number': 2, 'created': '2021-08-19 07:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b026c93a8695a37c4495df01113ffd331d870f1b', 'message': 'Consider GlanceMultistoreConfig when setting glance_pool\n\nWith glance supporting multiple stores we need to update glance_pool\nso that it explores the content of GlanceMultistoreConfig to see if\nany of the configured backends are of rbd type.\n\nCo-Authored-By: Yatin Karel <ykarel@redhat.com>\nChange-Id: Iee670befb2bcbaa2b666c6b99f5153391b62049e\n'}, {'number': 3, 'created': '2021-08-19 13:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2dfd9f6ca73ea726304ea69a25211654fdc2e26f', 'message': 'Consider GlanceMultistoreConfig when setting glance_pool\n\nWith glance supporting multiple stores we need to update glance_pool\nso that it explores the content of GlanceMultistoreConfig to see if\nany of the configured backends are of rbd type.\n\nWe also add a the CephClusterName parameter into the CI rbd_store\nmultistore for Glance, which is a mandatory parameter to correctly\nset the permissions on the keyring files of every Ceph cluster.\n\nCo-Authored-By: Yatin Karel <ykarel@redhat.com>\nChange-Id: Iee670befb2bcbaa2b666c6b99f5153391b62049e\n'}, {'number': 4, 'created': '2021-08-20 06:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/46482166fe2594ebec85dd75d113180c2c506f94', 'message': 'Consider GlanceMultistoreConfig when setting glance_pool\n\nWith glance supporting multiple stores we need to update glance_pool\nso that it explores the content of GlanceMultistoreConfig to see if\nany of the configured backends are of rbd type.\n\nWe also add a the CephClusterName parameter into the CI rbd_store\nmultistore for Glance, which is a mandatory parameter to correctly\nset the permissions on the keyring files of every Ceph cluster.\n\nCo-Authored-By: Yatin Karel <ykarel@redhat.com>\nChange-Id: Iee670befb2bcbaa2b666c6b99f5153391b62049e\n'}, {'number': 5, 'created': '2021-08-23 06:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e6536c4554d889e07cabd4952d0dcfe17f944ac1', 'message': 'Consider GlanceMultistoreConfig when setting glance_pool\n\nWith glance supporting multiple stores we need to update glance_pool\nso that it explores the content of GlanceMultistoreConfig to see if\nany of the configured backends are of rbd type.\n\nWe also add a the CephClusterName parameter into the CI rbd_store\nmultistore for Glance, which is a mandatory parameter to correctly\nset the permissions on the keyring files of every Ceph cluster.\n\nCo-Authored-By: Yatin Karel <ykarel@redhat.com>\nChange-Id: Iee670befb2bcbaa2b666c6b99f5153391b62049e\n'}, {'number': 6, 'created': '2021-08-24 11:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c8f762ae372dd0107556326cafe9d6cde94c8ef5', 'message': 'Consider GlanceMultistoreConfig when setting glance_pool\n\nWith glance supporting multiple stores we need to update glance_pool\nso that it explores the content of GlanceMultistoreConfig to see if\nany of the configured backends are of rbd type.\n\nWe also add a the CephClusterName parameter into the CI rbd_store\nmultistore for Glance, which is a mandatory parameter to correctly\nset the permissions on the keyring files of every Ceph cluster.\n\nCo-Authored-By: Yatin Karel <ykarel@redhat.com>\nChange-Id: Iee670befb2bcbaa2b666c6b99f5153391b62049e\n'}, {'number': 7, 'created': '2021-09-01 06:40:18.000000000', 'files': ['deployment/cephadm/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/151ca15e81799606972d9fe7ad65107dfde5a427', 'message': 'Consider GlanceMultistoreConfig when setting glance_pool\n\nWith glance supporting multiple stores we need to update glance_pool\nso that it explores the content of GlanceMultistoreConfig to see if\nany of the configured backends are of rbd type.\n\nWe also add a the CephClusterName parameter into the CI rbd_store\nmultistore for Glance, which is a mandatory parameter to correctly\nset the permissions on the keyring files of every Ceph cluster.\n\nCo-Authored-By: Yatin Karel <ykarel@redhat.com>\nChange-Id: Iee670befb2bcbaa2b666c6b99f5153391b62049e\n'}]",3,805029,151ca15e81799606972d9fe7ad65107dfde5a427,52,7,7,6796,,,0,"Consider GlanceMultistoreConfig when setting glance_pool

With glance supporting multiple stores we need to update glance_pool
so that it explores the content of GlanceMultistoreConfig to see if
any of the configured backends are of rbd type.

We also add a the CephClusterName parameter into the CI rbd_store
multistore for Glance, which is a mandatory parameter to correctly
set the permissions on the keyring files of every Ceph cluster.

Co-Authored-By: Yatin Karel <ykarel@redhat.com>
Change-Id: Iee670befb2bcbaa2b666c6b99f5153391b62049e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/805029/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cephadm/ceph-base.yaml'],1,bc1c05fad4e82d18414b67a2c8120e10a293908b,," or: - yaql: data: {get_param: GlanceMultistoreConfig} expression: $.data.values().where($ != null).GlanceBackend.contains(""rbd"")", if: - true - false,4,3
openstack%2Fpython-cinderclient~master~I3708d3866597f4990c4d55b35085d38d672a7b0b,openstack/python-cinderclient,master,I3708d3866597f4990c4d55b35085d38d672a7b0b,Sizing encrypted volumes: add the next parameters,ABANDONED,2021-03-07 20:20:11.000000000,2021-09-01 14:13:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-07 20:20:11.000000000', 'files': ['cinderclient/tests/unit/v2/test_volumes.py', 'cinderclient/v3/shell.py', 'cinderclient/v2/volumes.py', 'cinderclient/tests/unit/v2/test_shell.py', 'cinderclient/v2/shell.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/84f924451259e47bd7dcc2f457fa3099c9aafe72', 'message': 'Sizing encrypted volumes: add the next parameters\n\nAdd the next parameters to cinderclient for retype\nand migrate commands:\n\n- Retype: New flag --allow-resize indicating that\nit’s OK for the volume to be increased in size if\nit’s required for the retype to succeed.\nPossible values will be “on-demand” or “never”\n(which are the same as the current\n“migration_policy” field). If not specified, the\ndefault is “never”.\n\n- Migration: allow a new size to be specified\nduring a volume migration. The operator specifies\nhow many GB to grow the volume (so the final size\nis current size + increase_size).\n\nImplements: blueprint sizing-encrypted-volumes\nChange-Id: I3708d3866597f4990c4d55b35085d38d672a7b0b\n'}]",0,779110,84f924451259e47bd7dcc2f457fa3099c9aafe72,5,1,1,20813,,,0,"Sizing encrypted volumes: add the next parameters

Add the next parameters to cinderclient for retype
and migrate commands:

- Retype: New flag --allow-resize indicating that
it’s OK for the volume to be increased in size if
it’s required for the retype to succeed.
Possible values will be “on-demand” or “never”
(which are the same as the current
“migration_policy” field). If not specified, the
default is “never”.

- Migration: allow a new size to be specified
during a volume migration. The operator specifies
how many GB to grow the volume (so the final size
is current size + increase_size).

Implements: blueprint sizing-encrypted-volumes
Change-Id: I3708d3866597f4990c4d55b35085d38d672a7b0b
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/10/779110/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/tests/unit/v2/test_volumes.py', 'cinderclient/v3/shell.py', 'cinderclient/v2/volumes.py', 'cinderclient/tests/unit/v2/test_shell.py', 'cinderclient/v2/shell.py']",5,84f924451259e47bd7dcc2f457fa3099c9aafe72,bp/sizing-encrypted-volumes,"@utils.arg('--allow-resize', metavar='<never|on-demand>', required=False, choices=['never', 'on-demand'], default='never', help='Allow the volume to be increased in size during the retype ' 'if the system decides it is necessary. This argument is ' 'recommended when retyping to an encryption type.') volume.retype(args.new_type, args.migration_policy, args.allow_resize)"," volume.retype(args.new_type, args.migration_policy)",37,9
openstack%2Fcloudkitty~stable%2Fwallaby~I387fee79d277daa4c739297f1734dad1eaf4cc94,openstack/cloudkitty,stable/wallaby,I387fee79d277daa4c739297f1734dad1eaf4cc94,Fix cloudkitty exception handling from gnocchiclient,MERGED,2021-07-20 08:28:22.000000000,2021-09-01 14:06:25.000000000,2021-09-01 14:03:53.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}]","[{'number': 1, 'created': '2021-07-20 08:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/b8d8957e695748b5d6434cc84ff013dc60712c95', 'message': 'Fix cloudkitty exception handling from gnocchiclient\n\nProbably due six removal, exception handling from gnocchiclient\nin cloudkitty is not working as expected.\n\nThis patch fixing this issue.\n\nBug described in storyboard:\nhttps://storyboard.openstack.org/#!/story/2008985\n\nStory: 2008985\nTask: 42635\nChange-Id: I387fee79d277daa4c739297f1734dad1eaf4cc94\n(cherry picked from commit 302f3c89aefeced6d5df41841b6ec146366d72c9)\n'}, {'number': 2, 'created': '2021-07-20 12:57:55.000000000', 'files': ['cloudkitty/collector/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/875cacdd46b4a7b70b3affb4e63effd01ac098cb', 'message': 'Fix cloudkitty exception handling from gnocchiclient\n\nProbably due six removal, exception handling from gnocchiclient\nin cloudkitty is not working as expected.\n\nThis patch fixing this issue.\n\nBug described in storyboard:\nhttps://storyboard.openstack.org/#!/story/2008985\n\nStory: 2008985\nTask: 42635\nChange-Id: I387fee79d277daa4c739297f1734dad1eaf4cc94\n(cherry picked from commit 302f3c89aefeced6d5df41841b6ec146366d72c9)\n'}]",0,801324,875cacdd46b4a7b70b3affb4e63effd01ac098cb,21,4,2,27339,,,0,"Fix cloudkitty exception handling from gnocchiclient

Probably due six removal, exception handling from gnocchiclient
in cloudkitty is not working as expected.

This patch fixing this issue.

Bug described in storyboard:
https://storyboard.openstack.org/#!/story/2008985

Story: 2008985
Task: 42635
Change-Id: I387fee79d277daa4c739297f1734dad1eaf4cc94
(cherry picked from commit 302f3c89aefeced6d5df41841b6ec146366d72c9)
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/24/801324/2 && git format-patch -1 --stdout FETCH_HEAD,['cloudkitty/collector/gnocchi.py'],1,b8d8957e695748b5d6434cc84ff013dc60712c95,change-797313-2-stable/wallaby," if 'Metrics not found' not in e.message[""cause""]:", if 'Metrics not found' not in e.args[0]:,1,1
openstack%2Fpython-openstackclient~master~I21c78b90d67b7fe4db43d3dcd613283608abf286,openstack/python-openstackclient,master,I21c78b90d67b7fe4db43d3dcd613283608abf286,Add trustee and trustor filters for trust list,NEW,2021-09-01 12:59:33.000000000,2021-09-01 13:58:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-01 12:59:33.000000000', 'files': ['openstackclient/tests/unit/identity/v3/test_trust.py', 'openstackclient/identity/v3/trust.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f4240ec9c506a9e7219c80c2f48ab45d8ad9e172', 'message': ""Add trustee and trustor filters for trust list\n\nIn Change I6c1a4ecd756519f7f807c9d28960482e7f0d235b, the ability to\nfilter trustee and trustor are added. The default policy also indicates\nthat a user should be able to list trusts that they are either a trustor\nor trustee.\n\nOpenstackclient doesn't seem to have these options available. Add the\nabovementioned options so that a user can list the trusts that they\ncreated.\n\nChange-Id: I21c78b90d67b7fe4db43d3dcd613283608abf286\n""}]",0,806927,f4240ec9c506a9e7219c80c2f48ab45d8ad9e172,2,1,1,8064,,,0,"Add trustee and trustor filters for trust list

In Change I6c1a4ecd756519f7f807c9d28960482e7f0d235b, the ability to
filter trustee and trustor are added. The default policy also indicates
that a user should be able to list trusts that they are either a trustor
or trustee.

Openstackclient doesn't seem to have these options available. Add the
abovementioned options so that a user can list the trusts that they
created.

Change-Id: I21c78b90d67b7fe4db43d3dcd613283608abf286
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/27/806927/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/identity/v3/test_trust.py', 'openstackclient/identity/v3/trust.py']",2,f4240ec9c506a9e7219c80c2f48ab45d8ad9e172,," def get_parser(self, prog_name): parser = super(ListTrust, self).get_parser(prog_name) parser.add_argument( '--trustor', metavar='<trustor-user>', help=_('User that is delegating authorization (name or ID)'), ) parser.add_argument( '--trustee', metavar='<trustee-user>', help=_('User that is assuming authorization (name or ID)'), ) parser.add_argument( '--trustor-domain', metavar='<trustor-domain>', help=_('Domain that contains <trustor> (name or ID)'), ) parser.add_argument( '--trustee-domain', metavar='<trustee-domain>', help=_('Domain that contains <trustee> (name or ID)'), ) return parser def take_action(self, parsed_args): identity_client = self.app.client_manager.identity if parsed_args.trustor: trustor_id = common.find_user(identity_client, parsed_args.trustor, parsed_args.trustor_domain).id else: trustor_id = None if parsed_args.trustee: trustee_id = common.find_user(identity_client, parsed_args.trustee, parsed_args.trustee_domain).id else: trustee_id = None data = self.app.client_manager.identity.trusts.list( trustor_user=trustor_id, trustee_user=trustee_id)"," def take_action(self, parsed_args): data = self.app.client_manager.identity.trusts.list()",83,2
openstack%2Fcharm-ceph-fs~stable%2F21.04~I108ce673e31500d1e3c2b2d9f0530bae6ece486a,openstack/charm-ceph-fs,stable/21.04,I108ce673e31500d1e3c2b2d9f0530bae6ece486a,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-08-27 09:46:30.000000000,2021-09-01 13:52:43.000000000,2021-09-01 13:52:43.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-27 09:46:30.000000000', 'files': ['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/2c043860637aeee9a1909525ef82cac522e31e4f', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I108ce673e31500d1e3c2b2d9f0530bae6ece486a\n(cherry picked from commit 0a9eeb59c76fd5540d439b78e2a0dc2c1956ab22)\n'}]",0,806351,2c043860637aeee9a1909525ef82cac522e31e4f,14,4,1,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I108ce673e31500d1e3c2b2d9f0530bae6ece486a
(cherry picked from commit 0a9eeb59c76fd5540d439b78e2a0dc2c1956ab22)
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/51/806351/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",4,2c043860637aeee9a1909525ef82cac522e31e4f,wallaby-bundles-stable/21.04, - bluestore-compression: focal-wallaby - bluestore-compression: hirsute-wallaby - bluestore-compression: focal-ussuri - hirsute-wallaby, - bluestore-compression: bionic-stein - groovy-victoria,464,4
openstack%2Fnova~stable%2Fvictoria~I03eec634b25582ec9643cacf3e5868c101176983,openstack/nova,stable/victoria,I03eec634b25582ec9643cacf3e5868c101176983,Reproducer unit test for bug 1860312,MERGED,2021-07-29 08:49:37.000000000,2021-09-01 13:44:13.000000000,2021-09-01 13:42:07.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-29 08:49:37.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_services.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9efdd0b085733a0a4c4192aab8fc870c8aadf316', 'message': ""Reproducer unit test for bug 1860312\n\nConsider the following situation:\n\n- Using the Ironic virt driver\n- Replacing (so removing and re-adding) all baremetal nodes\n  associated with a single nova-compute service\n\nThe update resources periodic will have destroyed the compute node\nrecords because they're no longer being reported by the virt driver.\nIf we then attempt to manually delete the compute service record, the\ndatbase layer will raise an exception, as there are no longer any\ncompute node records for the host. This exception gets bubbled up as\nan error 500 in the API. This patch adds a unit test to demonstrate\nthis.\n\nRelated bug: 1860312\nChange-Id: I03eec634b25582ec9643cacf3e5868c101176983\n(cherry picked from commit 32257a2a6d159406577c885a9d7e366cbf0c72b9)\n(cherry picked from commit e6cd23c3b4928b421b8c706f9cc218020779e367)\n""}]",0,802842,9efdd0b085733a0a4c4192aab8fc870c8aadf316,12,3,1,8864,,,0,"Reproducer unit test for bug 1860312

Consider the following situation:

- Using the Ironic virt driver
- Replacing (so removing and re-adding) all baremetal nodes
  associated with a single nova-compute service

The update resources periodic will have destroyed the compute node
records because they're no longer being reported by the virt driver.
If we then attempt to manually delete the compute service record, the
datbase layer will raise an exception, as there are no longer any
compute node records for the host. This exception gets bubbled up as
an error 500 in the API. This patch adds a unit test to demonstrate
this.

Related bug: 1860312
Change-Id: I03eec634b25582ec9643cacf3e5868c101176983
(cherry picked from commit 32257a2a6d159406577c885a9d7e366cbf0c72b9)
(cherry picked from commit e6cd23c3b4928b421b8c706f9cc218020779e367)
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/802842/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/api/openstack/compute/test_services.py'],1,9efdd0b085733a0a4c4192aab8fc870c8aadf316,bug/1860312," @mock.patch( 'nova.objects.ComputeNodeList.get_all_by_host', side_effect=exception.ComputeHostNotFound(host='fake-compute-host')) def test_services_delete_compute_host_not_found( self, mock_get_all_by_host): compute = objects.Service(self.ctxt, **{'host': 'fake-compute-host', 'binary': 'nova-compute', 'topic': 'compute', 'report_count': 0}) compute.create() # FIXME(artom) Until bug 1860312 is fixed, the ComputeHostNotFound # error will get bubbled up to the API as an error 500. self.assertRaises( webob.exc.HTTPInternalServerError, self.controller.delete, self.req, compute.id) mock_get_all_by_host.assert_called_with( self.req.environ['nova.context'], 'fake-compute-host') ",,19,0
openstack%2Fopenstack-ansible~master~Icad77ea8e4ed3898f2b973321969f6917346cc2a,openstack/openstack-ansible,master,Icad77ea8e4ed3898f2b973321969f6917346cc2a,remove unnecessary revive and add support for metal deployments,ABANDONED,2021-09-01 13:39:42.000000000,2021-09-01 13:40:24.000000000,,[],"[{'number': 1, 'created': '2021-09-01 13:39:42.000000000', 'files': ['scripts/upgrade-utilities/rabbitmq-cluster-rolling-restart.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5eb8b1847c4b2c75c13dad007395fd8881a2aa44', 'message': 'remove unnecessary revive and add support for metal deployments\n\nChange-Id: Icad77ea8e4ed3898f2b973321969f6917346cc2a\n'}]",0,806933,5eb8b1847c4b2c75c13dad007395fd8881a2aa44,2,0,1,32666,,,0,"remove unnecessary revive and add support for metal deployments

Change-Id: Icad77ea8e4ed3898f2b973321969f6917346cc2a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/33/806933/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/upgrade-utilities/rabbitmq-cluster-rolling-restart.yml'],1,5eb8b1847c4b2c75c13dad007395fd8881a2aa44,change-804109-1, - name: Stop RabbitMQ service: name: rabbitmq-server state: stopped retries: 5 delay: 10 - name: Start RabbitMQ service: name: rabbitmq-server state: started retries: 5 delay: 10 when: hostvars[inventory_hostname]['is_metal'] ," - name: Revive node community.rabbitmq.rabbitmq_upgrade: action: revive node: ""rabbit@{{ ansible_hostname }}"" - name: Wait until node is revived shell: ""rabbitmq-diagnostics --node rabbit@{{ ansible_hostname }} status"" register: node_under_maintenance until: - node_under_maintenance.rc == 0 - '(node_under_maintenance.stdout).find(""Is under maintenance?: false"") != -1' retries: 60 delay: 1",15,14
openstack%2Freleases~master~Ic98587141f737b65a2bd57be50b08a1c8b6bdd44,openstack/releases,master,Ic98587141f737b65a2bd57be50b08a1c8b6bdd44,Release final python-troveclient for Xena,MERGED,2021-08-30 14:05:36.000000000,2021-09-01 13:22:12.000000000,2021-09-01 13:22:12.000000000,"[{'_account_id': 6732}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-30 14:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7200fe8f52ba30bd54e74fa0abf85a4d94cd9557', 'message': 'Release final python-troveclient for Xena\n\nThis proposed a release for python-troveclient to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 02.\n\n$ git log --oneline --no-merges 7.1.0..64f3f62\n64f3f62 Fix detach configuration from instance\n5ce2e99 Changed minversion in tox to 3.18.0\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ic98587141f737b65a2bd57be50b08a1c8b6bdd44\n'}, {'number': 2, 'created': '2021-09-01 08:13:25.000000000', 'files': ['deliverables/xena/python-troveclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6e80f5a7678e356f757ce83fc79f0991bca17c60', 'message': 'Release final python-troveclient for Xena\n\nThis proposed a release for python-troveclient to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 02.\n\n$ git log --oneline --no-merges 7.1.0..64f3f62\n64f3f62 Fix detach configuration from instance\n5ce2e99 Changed minversion in tox to 3.18.0\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ic98587141f737b65a2bd57be50b08a1c8b6bdd44\n'}]",0,806594,6e80f5a7678e356f757ce83fc79f0991bca17c60,17,5,2,28522,,,0,"Release final python-troveclient for Xena

This proposed a release for python-troveclient to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 02.

$ git log --oneline --no-merges 7.1.0..64f3f62
64f3f62 Fix detach configuration from instance
5ce2e99 Changed minversion in tox to 3.18.0

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ic98587141f737b65a2bd57be50b08a1c8b6bdd44
",git fetch https://review.opendev.org/openstack/releases refs/changes/94/806594/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/python-troveclient.yaml'],1,7200fe8f52ba30bd54e74fa0abf85a4d94cd9557,xena-milestone-3, - version: 7.2.0 projects: - repo: openstack/python-troveclient hash: 64f3f62368e3f278ce235d1cd22bc3b280d1f860,,4,0
openstack%2Freleases~master~I93e1b26b8a69dda711d436dbc36f10d5dd4b2bc2,openstack/releases,master,I93e1b26b8a69dda711d436dbc36f10d5dd4b2bc2,Add Xena cycle highlights for horizon,MERGED,2021-09-01 10:34:08.000000000,2021-09-01 13:09:26.000000000,2021-09-01 13:09:26.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-01 10:34:08.000000000', 'files': ['deliverables/xena/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8d70314c2eb0292aa08d9b5a33922b1ece90c375', 'message': 'Add Xena cycle highlights for horizon\n\nChange-Id: I93e1b26b8a69dda711d436dbc36f10d5dd4b2bc2\n'}]",0,806886,8d70314c2eb0292aa08d9b5a33922b1ece90c375,9,7,1,29313,,,0,"Add Xena cycle highlights for horizon

Change-Id: I93e1b26b8a69dda711d436dbc36f10d5dd4b2bc2
",git fetch https://review.opendev.org/openstack/releases refs/changes/86/806886/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/horizon.yaml'],1,8d70314c2eb0292aa08d9b5a33922b1ece90c375,horizon-xena-highlights,cycle-highlights: - Horizon and all horizon plugins now support nodejs14 which is the current LTS version of nodejs. - Added support for creating Network QoS Policy using horizon.,,4,0
openstack%2Fcyborg~master~I885c456594184d949c929e1e87716e8a43f98818,openstack/cyborg,master,I885c456594184d949c929e1e87716e8a43f98818,Add the microversion history docs,MERGED,2021-08-14 10:53:13.000000000,2021-09-01 12:52:07.000000000,2021-09-01 12:49:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-08-14 10:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a6d7f17d69334bff89e30938aaeb93f89e34232e', 'message': 'Add the microversion history docs\n\nWe have added the microversion support, but lost the microversion\nhistroy docs, This patch provides the history of all those changes.\nConsider it a ""what\'s new"" in the Cyborg API.\n\nChange-Id: I885c456594184d949c929e1e87716e8a43f98818\n'}, {'number': 2, 'created': '2021-08-14 10:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/2c448c00850346d83add59661d29ccc842c68cef', 'message': 'Add the microversion history docs\n\nWe have added the microversion support, but lost the microversion\nhistroy docs, This patch provides the history of all those changes.\nConsider it a ""what\'s new"" in the Cyborg API.\n\nChange-Id: I885c456594184d949c929e1e87716e8a43f98818\n'}, {'number': 3, 'created': '2021-08-15 06:36:06.000000000', 'files': ['doc/source/index.rst', 'doc/source/contributor/rest_api_version_history.rst'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ce3d2cf312fc378a4ab539037b103fab8dd0cc63', 'message': 'Add the microversion history docs\n\nWe have added the microversion support, but lost the microversion\nhistroy docs, This patch provides the history of all those changes.\nConsider it a ""what\'s new"" in the Cyborg API.\n\nChange-Id: I885c456594184d949c929e1e87716e8a43f98818\n'}]",0,804559,ce3d2cf312fc378a4ab539037b103fab8dd0cc63,16,3,3,26458,,,0,"Add the microversion history docs

We have added the microversion support, but lost the microversion
histroy docs, This patch provides the history of all those changes.
Consider it a ""what's new"" in the Cyborg API.

Change-Id: I885c456594184d949c929e1e87716e8a43f98818
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/59/804559/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/contributor/rest_api_version_history.rst']",2,a6d7f17d69334bff89e30938aaeb93f89e34232e,docs,/home/brinzhang/cyborg/cyborg/api/rest_api_version_history.rst,,5,4
openstack%2Fcyborg~master~Id9817f431c5442dba16cf373e57a748fbb7c7300,openstack/cyborg,master,Id9817f431c5442dba16cf373e57a748fbb7c7300,Add description comment for device profile create,MERGED,2021-08-10 08:58:48.000000000,2021-09-01 12:50:55.000000000,2021-09-01 12:49:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-08-10 08:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a1c0dbc9eabbe875516045e643a11eba129a07e9', 'message': 'Add description comment for device profile create\n\nChange-Id: Id9817f431c5442dba16cf373e57a748fbb7c7300\n'}, {'number': 2, 'created': '2021-08-10 09:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/218c1f96546811cbdb974a5dfe3626430fc77b7f', 'message': 'Add description comment for device profile create\n\nChange-Id: Id9817f431c5442dba16cf373e57a748fbb7c7300\n'}, {'number': 3, 'created': '2021-08-23 08:49:00.000000000', 'files': ['cyborg/tests/unit/api/controllers/v2/test_device_profiles.py', 'cyborg/api/controllers/v2/device_profiles.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/31f71d0e063cc397cf3cf32f5975dbde3c1acff7', 'message': 'Add description comment for device profile create\n\nRelated-Bug: #1940810\nChange-Id: Id9817f431c5442dba16cf373e57a748fbb7c7300\n'}]",0,804052,31f71d0e063cc397cf3cf32f5975dbde3c1acff7,13,4,3,31412,,,0,"Add description comment for device profile create

Related-Bug: #1940810
Change-Id: Id9817f431c5442dba16cf373e57a748fbb7c7300
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/52/804052/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/api/controllers/v2/device_profiles.py'],1,a1c0dbc9eabbe875516045e643a11eba129a07e9,bug/1940810," ""description"": <description> # optional",,1,0
openstack%2Fcyborg-tempest-plugin~master~I06ff28445c3a625f72291d0942463fd791dba488,openstack/cyborg-tempest-plugin,master,I06ff28445c3a625f72291d0942463fd791dba488,Enable tls-proxy support in test jobs,MERGED,2021-06-17 08:18:27.000000000,2021-09-01 12:38:14.000000000,2021-09-01 12:38:14.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-06-17 08:18:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/a25041b2923e5ba792c46299cc7261ed7d3fe991', 'message': 'Enable tls-proxy support in test jobs\n\nChange-Id: I06ff28445c3a625f72291d0942463fd791dba488\n'}]",0,796795,a25041b2923e5ba792c46299cc7261ed7d3fe991,11,4,1,12404,,,0,"Enable tls-proxy support in test jobs

Change-Id: I06ff28445c3a625f72291d0942463fd791dba488
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/95/796795/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a25041b2923e5ba792c46299cc7261ed7d3fe991,exame-tls-proxy,, tls-proxy: false tls-proxy: false,0,2
openstack%2Ftripleo-validations~stable%2Fvictoria~Idbab25f1750b5afe990d7e46fa4e78f8f36ff057,openstack/tripleo-validations,stable/victoria,Idbab25f1750b5afe990d7e46fa4e78f8f36ff057,Bump molecule to 3.3.1,MERGED,2021-08-19 14:32:49.000000000,2021-09-01 12:28:11.000000000,2021-09-01 12:25:43.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 14:32:49.000000000', 'files': ['molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a3495c1490c4b7b505f3b7bc81823d8b20ed4a5e', 'message': 'Bump molecule to 3.3.1\n\nThis patch also adds molecule-podman driver as a requirement\nbecause molecule >=3.2 stopped installing it by default.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Idbab25f1750b5afe990d7e46fa4e78f8f36ff057\n(cherry picked from commit d61e645cee24f28df2df151b1510fde673164bcc)\n'}]",0,805234,a3495c1490c4b7b505f3b7bc81823d8b20ed4a5e,8,4,1,14985,,,0,"Bump molecule to 3.3.1

This patch also adds molecule-podman driver as a requirement
because molecule >=3.2 stopped installing it by default.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: Idbab25f1750b5afe990d7e46fa4e78f8f36ff057
(cherry picked from commit d61e645cee24f28df2df151b1510fde673164bcc)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/34/805234/1 && git format-patch -1 --stdout FETCH_HEAD,['molecule-requirements.txt'],1,a3495c1490c4b7b505f3b7bc81823d8b20ed4a5e,molecule-stable/victoria,"molecule>=3.3.1,<4 # MIT molecule-podman # MIT","molecule>=3.0,<3.1 pytest>=5.1.2",2,2
openstack%2Fpython-cloudkittyclient~master~I871810bbe95a3cd10f8a8df42c99e747a6dd463b,openstack/python-cloudkittyclient,master,I871810bbe95a3cd10f8a8df42c99e747a6dd463b,Replace deprecated import of ABCs from collections,MERGED,2021-08-13 09:16:00.000000000,2021-09-01 12:22:21.000000000,2021-09-01 12:20:20.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-08-13 09:16:00.000000000', 'files': ['cloudkittyclient/tests/unit/v1/test_report_cli.py'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/647f561532c2b4b9c3af6918816faf997db20abb', 'message': 'Replace deprecated import of ABCs from collections\n\nABCs in collections should be imported from collections.abc and direct\nimport from collections is deprecated since Python 3.3.\n\nChange-Id: I871810bbe95a3cd10f8a8df42c99e747a6dd463b\n'}]",0,804508,647f561532c2b4b9c3af6918816faf997db20abb,13,4,1,32291,,,0,"Replace deprecated import of ABCs from collections

ABCs in collections should be imported from collections.abc and direct
import from collections is deprecated since Python 3.3.

Change-Id: I871810bbe95a3cd10f8a8df42c99e747a6dd463b
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/08/804508/1 && git format-patch -1 --stdout FETCH_HEAD,['cloudkittyclient/tests/unit/v1/test_report_cli.py'],1,647f561532c2b4b9c3af6918816faf997db20abb,,"from collections import abc assert isinstance(result[1], abc.Iterable) assert isinstance(res, abc.Iterable)","import collections assert isinstance(result[1], collections.Iterable) assert isinstance(res, collections.Iterable)",3,3
openstack%2Fkuryr-tempest-plugin~master~I2347e49eaac018c630e9f437efe4db9af2e7fa23,openstack/kuryr-tempest-plugin,master,I2347e49eaac018c630e9f437efe4db9af2e7fa23,Check service longevity,MERGED,2021-08-19 13:31:16.000000000,2021-09-01 12:18:57.000000000,2021-09-01 12:17:40.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-08-19 13:31:16.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_service.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/02778b3625e3b7ba96ea9612c7602f251c9abd4d', 'message': 'Check service longevity\n\nCheck a service connectivity for couple of minutes\n\nChange-Id: I2347e49eaac018c630e9f437efe4db9af2e7fa23\n'}]",2,805221,02778b3625e3b7ba96ea9612c7602f251c9abd4d,17,5,1,4727,,,0,"Check service longevity

Check a service connectivity for couple of minutes

Change-Id: I2347e49eaac018c630e9f437efe4db9af2e7fa23
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/21/805221/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/test_service.py'],1,02778b3625e3b7ba96ea9612c7602f251c9abd4d,service,"import time retries = 10 for i in range(retries): self.assert_backend_amount(self.service_ip, self.pod_num) time.sleep(30)"," self.assert_backend_amount(self.service_ip, self.pod_num)",6,2
openstack%2Fcharm-rabbitmq-server~master~I5a32cb6bf37bd2a0f30861eace3c0e6cb5c2559d,openstack/charm-rabbitmq-server,master,I5a32cb6bf37bd2a0f30861eace3c0e6cb5c2559d,Display busiest queues in check_queues NRPE plugin,MERGED,2021-08-06 02:30:30.000000000,2021-09-01 12:07:18.000000000,2021-09-01 12:07:18.000000000,"[{'_account_id': 8992}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 02:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/f041569d57e429152e32f06d263643a7f7e71653', 'message': 'Display busiest queues in check_queues NRPE plugin\n\nWhen invoking the check_rabbitmq_queues script with wildcards for vhost\nand/or queue parameters, script output does not reflect precisely which\nqueues are having a high number of oustanding messages as information is\nconsolidated under the wildcard.\n\nThis change fixes this behaviour by adding a new charm configuration\nparameter which allows the user to specify the number of busiest queues,\nn, to display should the check_rabbitmq_queues script reports any\nwarnings or errors.  The default, n=0, keeps the current script output.\nThis option is applicable regardless of the vhost:queue combination but\nis specifically relevant when wildcards are passed as arguments.\n\nImplementation defines a new list which holds all vhost:queues\ncombination found in the stats file in memory and displays the n first\nitems in the list re-organized in decreasing order.\n\nCloses-Bug: #1939084\nChange-Id: I5a32cb6bf37bd2a0f30861eace3c0e6cb5c2559d\n'}, {'number': 2, 'created': '2021-08-23 05:47:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/a01c2eda1c7d0e129b3ce43573f20024e8f8066f', 'message': 'Display busiest queues in check_queues NRPE plugin\n\nWhen invoking the check_rabbitmq_queues script with wildcards for vhost\nand/or queue parameters, script output does not reflect precisely which\nqueues are having a high number of oustanding messages as information is\nconsolidated under the wildcard.\n\nThis change fixes this behaviour by adding a new charm configuration\nparameter which allows the user to specify the number of busiest queues,\nn, to display should the check_rabbitmq_queues script reports any\nwarnings or errors.  The default, n=0, keeps the current script output.\nThis option is applicable regardless of the vhost:queue combination but\nis specifically relevant when wildcards are passed as arguments.\n\nImplementation displays the first n items in the stats list re-organized\nin decreasing message count order.\n\nCloses-Bug: #1939084\nChange-Id: I5a32cb6bf37bd2a0f30861eace3c0e6cb5c2559d\n'}, {'number': 3, 'created': '2021-08-23 06:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/80bd1611acb2aa03061b159b873b54fd72a93381', 'message': 'Display busiest queues in check_queues NRPE plugin\n\nWhen invoking the check_rabbitmq_queues script with wildcards for vhost\nand/or queue parameters, script output does not reflect precisely which\nqueues are having a high number of oustanding messages as information is\nconsolidated under the wildcard.\n\nThis change fixes this behaviour by adding a new charm configuration\nparameter which allows the user to specify the number of busiest queues,\nn, to display should the check_rabbitmq_queues script reports any\nwarnings or errors.  The default, n=0, keeps the current script output.\nThis option is applicable regardless of the vhost:queue combination but\nis specifically relevant when wildcards are passed as arguments.\n\nImplementation displays the first n items in the stats list re-organized\nin decreasing message count order.\n\nCloses-Bug: #1939084\nChange-Id: I5a32cb6bf37bd2a0f30861eace3c0e6cb5c2559d\n'}, {'number': 4, 'created': '2021-08-23 06:24:58.000000000', 'files': ['unit_tests/test_rabbit_utils.py', 'config.yaml', 'files/check_rabbitmq_queues.py', 'hooks/rabbit_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/242167b6bad190dd7aa2b885272906551d390c8a', 'message': 'Display busiest queues in check_queues NRPE plugin\n\nWhen invoking the check_rabbitmq_queues script with wildcards for vhost\nand/or queue parameters, script output does not reflect precisely which\nqueues are having a high number of oustanding messages as information is\nconsolidated under the wildcard.\n\nThis change fixes this behaviour by adding a new charm configuration\nparameter which allows the user to specify the number of busiest queues,\nn, to display should the check_rabbitmq_queues script reports any\nwarnings or errors.  The default, n=0, keeps the current script output.\nThis option is applicable regardless of the vhost:queue combination but\nis specifically relevant when wildcards are passed as arguments.\n\nImplementation displays the first n items in the stats list re-organized\nin decreasing message count order.\n\nCloses-Bug: #1939084\nChange-Id: I5a32cb6bf37bd2a0f30861eace3c0e6cb5c2559d\n'}]",8,803669,242167b6bad190dd7aa2b885272906551d390c8a,17,4,4,33544,,,0,"Display busiest queues in check_queues NRPE plugin

When invoking the check_rabbitmq_queues script with wildcards for vhost
and/or queue parameters, script output does not reflect precisely which
queues are having a high number of oustanding messages as information is
consolidated under the wildcard.

This change fixes this behaviour by adding a new charm configuration
parameter which allows the user to specify the number of busiest queues,
n, to display should the check_rabbitmq_queues script reports any
warnings or errors.  The default, n=0, keeps the current script output.
This option is applicable regardless of the vhost:queue combination but
is specifically relevant when wildcards are passed as arguments.

Implementation displays the first n items in the stats list re-organized
in decreasing message count order.

Closes-Bug: #1939084
Change-Id: I5a32cb6bf37bd2a0f30861eace3c0e6cb5c2559d
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/69/803669/3 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_rabbit_utils.py', 'config.yaml', 'files/check_rabbitmq_queues.py', 'hooks/rabbit_utils.py']",4,f041569d57e429152e32f06d263643a7f7e71653,bug/1939084," displayed_queues = config('displayed_queues') if displayed_queues is not None and int(displayed_queues) > 0: cmd += ' -d ""{}""'.format(displayed_queues)",,53,5
openstack%2Fcharm-ceph-mon~master~I708abb9d0ff0d42379f8c9003f10e22afac2b33f,openstack/charm-ceph-mon,master,I708abb9d0ff0d42379f8c9003f10e22afac2b33f,Changed minversion in tox to 3.18.0,MERGED,2021-08-09 12:20:06.000000000,2021-09-01 12:02:14.000000000,2021-09-01 12:02:14.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-09 12:20:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/5e729c9bead179daf07b6078c17537b117b41b30', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I708abb9d0ff0d42379f8c9003f10e22afac2b33f\n""}]",0,803910,5e729c9bead179daf07b6078c17537b117b41b30,7,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I708abb9d0ff0d42379f8c9003f10e22afac2b33f
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/10/803910/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5e729c9bead179daf07b6078c17537b117b41b30,update-min-tox,minversion = 3.18.0allowlist_externals = juju,minversion = 3.2.0whitelist_externals = juju,2,2
openstack%2Fcharm-specs~master~I230a2a61dca03047c0440cfc904a6c062cb70c9b,openstack/charm-specs,master,I230a2a61dca03047c0440cfc904a6c062cb70c9b,Update ceph-dashboard spec,MERGED,2021-06-03 10:41:36.000000000,2021-09-01 11:55:24.000000000,2021-09-01 11:54:07.000000000,"[{'_account_id': 8992}, {'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 10:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/be02a656dd2a5a4cc28d86f49b60eee738bbb413', 'message': 'Update ceph-dashboard spec\n\nChange-Id: I230a2a61dca03047c0440cfc904a6c062cb70c9b\n'}, {'number': 2, 'created': '2021-06-03 10:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/ba44f9ab95fb3f0d98d6a63ecb6c4077bf77208f', 'message': 'Update ceph-dashboard spec\n\nChange-Id: I230a2a61dca03047c0440cfc904a6c062cb70c9b\n'}, {'number': 3, 'created': '2021-08-11 09:38:29.000000000', 'files': ['specs/xena/approved/ceph-dashboard.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/909834be8519b4798556768cf081f3fe64521f6a', 'message': 'Update ceph-dashboard spec\n\nChange-Id: I230a2a61dca03047c0440cfc904a6c062cb70c9b\n'}]",0,794561,909834be8519b4798556768cf081f3fe64521f6a,11,3,3,12549,,,0,"Update ceph-dashboard spec

Change-Id: I230a2a61dca03047c0440cfc904a6c062cb70c9b
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/61/794561/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/wallaby/approved/ceph-dashboard.rst'],1,be02a656dd2a5a4cc28d86f49b60eee738bbb413,update-dashboard-spec,"The subordinate charm will enable access to the dashboard via the hostnames of the mon units. However, the hostname may not map to the desired network space, the operator may not be able to resolve the juju unit hostnames and the failure of a single mon unit may make the dashboard inaccessable if the operator was accessing the dashboard via that mon. To resolve these issues the dashboard charm will support a relation to an OpenStack loadbalancer application (as yet unwritten) which will manage an haproxy instance and a vip via the hacluster subordinate. If this relation is present the dashboard standby units will be configured to return a 500 enabling haproxy to determine the active dashboard unit. Both the loadbalancer and the dashboard charm will support SSL endpoint termination via a relation to vault or via configuration options. The delivery of the dashboard subordinate should be the initial focus of this work with the loadbalacer following soon after.Out of Scope ------------ .. list-table:: Features :widths: 25 25 :header-rows: 1 * - Feature - In Scope * - Multi-User and Role Management - ✓ * - Single Sign-On (SSO) - ✓ * - SSL/TLS support - ✓ * - Auditing - ✓ * - Embedded Grafana Dashboards - ✓ * - Monitoring (Prometheus & Alertmanager) - X * - iSCSI - X * - RBD - ✓ * - RBD mirroring - X * - CephFS - X * - Object Gateway - X * - NFS - X * Implement a new operator framework subordinate charm, ceph-dashboard* Create generic service loadbalancer charm. * Add a relation to a loadbalancer service which will provide a HA vip for accessing the dashboard. The goal is to implement this change in the OpenStack Charms 21.10 release.During initial development the code will be managed here: https://github.com/openstack-charmers/charm-ceph-dashboard When ready the charm will be managed via OpenDev gerrit. https://opendev.org/openstack/charm-ceph-dashboard * Create charm options"," Out of Scope ============ The following items should be covered in any future work: - integration with current LMA stack solution - SAML integration - RadosGW integration - Auditing - iSCSI Management - verify compatibility with previous releases, OpenStack Mimic+ (Stein) - VIP and hacluster relation* Implement a new reactive subordinate charm, ceph-dashboardThe goal is to implement this change in the OpenStack Charms 21.04 release. The freeze date for this release is 15th Mar 2021, for a release on 9th Apr (see release schedule). This change should be proposed for merging at least two weeks ahead of freeze, so ideally submitted by 26th Feb 2021.Changes will be pushed to a new ceph-dashboard charm repository: https://git.openstack.org/openstack/charm-ceph-dashboard* Create charm options ",63,20
openstack%2Fkayobe~stable%2Fwallaby~I8015c905074016c53c803ce40a299ad5c911ada6,openstack/kayobe,stable/wallaby,I8015c905074016c53c803ce40a299ad5c911ada6,docs: fix heading styles in upgrading page,MERGED,2021-08-31 15:14:18.000000000,2021-09-01 11:34:36.000000000,2021-09-01 11:31:34.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-31 15:14:18.000000000', 'files': ['doc/source/upgrading.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/bf470af5d4e9b1b60eb4cb17bb3bfc178f04fd98', 'message': 'docs: fix heading styles in upgrading page\n\nThe CentOS Stream 8 section used the wrong heading style, which broke\nthe rest of the document, making the other headings the wrong sizes.\n\nChange-Id: I8015c905074016c53c803ce40a299ad5c911ada6\n(cherry picked from commit c2b9dd81de079b4e6491cb6e2064c97f4f156fb0)\n'}]",0,806701,bf470af5d4e9b1b60eb4cb17bb3bfc178f04fd98,8,3,1,15197,,,0,"docs: fix heading styles in upgrading page

The CentOS Stream 8 section used the wrong heading style, which broke
the rest of the document, making the other headings the wrong sizes.

Change-Id: I8015c905074016c53c803ce40a299ad5c911ada6
(cherry picked from commit c2b9dd81de079b4e6491cb6e2064c97f4f156fb0)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/01/806701/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/upgrading.rst'],1,bf470af5d4e9b1b60eb4cb17bb3bfc178f04fd98,,===============,---------------,1,1
openstack%2Fkayobe~stable%2Fussuri~I0c41d59123aba3351ac3b0a5a76cff517cca93e4,openstack/kayobe,stable/ussuri,I0c41d59123aba3351ac3b0a5a76cff517cca93e4,Add twentyFiveGigE to port descriptions in inspector rules,MERGED,2021-08-24 09:01:26.000000000,2021-09-01 11:33:02.000000000,2021-09-01 11:31:36.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 09:01:26.000000000', 'files': ['ansible/group_vars/all/inspector', 'releasenotes/notes/inspector-25gbe-port-9bdc3bb354e3dfb6.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/02ea57de3563e5c401a72175db82fc0e2215d1a9', 'message': 'Add twentyFiveGigE to port descriptions in inspector rules\n\nChange-Id: I0c41d59123aba3351ac3b0a5a76cff517cca93e4\n(cherry picked from commit 91b2dddc415e1a5ca6aa66fdd65d7f97f5781cc3)\n'}]",0,805765,02ea57de3563e5c401a72175db82fc0e2215d1a9,16,3,1,14826,,,0,"Add twentyFiveGigE to port descriptions in inspector rules

Change-Id: I0c41d59123aba3351ac3b0a5a76cff517cca93e4
(cherry picked from commit 91b2dddc415e1a5ca6aa66fdd65d7f97f5781cc3)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/65/805765/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/inspector', 'releasenotes/notes/inspector-25gbe-port-9bdc3bb354e3dfb6.yaml']",2,02ea57de3563e5c401a72175db82fc0e2215d1a9,inspector-port-desc-stable/ussuri,--- fixes: - | Filter out 25 Gigabit Ethernet interface names in the Ironic inspector rule setting node names from interface LLDP switch port descriptions. ,,9,0
openstack%2Fkayobe~stable%2Fwallaby~I0b1c963006c044ade5c67c4046da5e2addc9a8c7,openstack/kayobe,stable/wallaby,I0b1c963006c044ade5c67c4046da5e2addc9a8c7,Fix configuration check without public API network,MERGED,2021-08-31 20:29:12.000000000,2021-09-01 11:32:55.000000000,2021-09-01 11:31:26.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-31 20:29:12.000000000', 'files': ['ansible/kolla-ansible.yml', 'ansible/roles/kolla-ansible/templates/globals.yml.j2', 'releasenotes/notes/fix-precheck-no-public-net-c0db9168063b6203.yaml', 'ansible/public-openrc.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ac094088f51ae95dcac7d6ea7add688827ddd3f9', 'message': 'Fix configuration check without public API network\n\nIf no public API network is used, as in the case of typical all-in-one\nenvironments, the checks in kolla-ansible.yml, task ""Validate Kolla\nAnsible API address configuration"" may fail. This happens only when\nusing the new kolla_internal_vip_address variable, and not if the legacy\nvip_address network attribute is used.\n\nThis change fixes the issue by only checking for valid external VIP\naddress/FQDN configuration when a separate public API network is in use.\nIf the external VIP/FQDN are not set, then Kayobe no longer defaults\ntheir values to the internal VIP/FQDN, instead relying on the Kolla\nAnsible defaults to do this. This may have consequences for anyone\nrelying on these variables in configuration.\n\nChange-Id: I0b1c963006c044ade5c67c4046da5e2addc9a8c7\nStory: 2009134\nTask: 43070\n(cherry picked from commit 3c56f32facb01d9265c5224e088e6e876b7506b6)\n'}]",0,806703,ac094088f51ae95dcac7d6ea7add688827ddd3f9,8,3,1,15197,,,0,"Fix configuration check without public API network

If no public API network is used, as in the case of typical all-in-one
environments, the checks in kolla-ansible.yml, task ""Validate Kolla
Ansible API address configuration"" may fail. This happens only when
using the new kolla_internal_vip_address variable, and not if the legacy
vip_address network attribute is used.

This change fixes the issue by only checking for valid external VIP
address/FQDN configuration when a separate public API network is in use.
If the external VIP/FQDN are not set, then Kayobe no longer defaults
their values to the internal VIP/FQDN, instead relying on the Kolla
Ansible defaults to do this. This may have consequences for anyone
relying on these variables in configuration.

Change-Id: I0b1c963006c044ade5c67c4046da5e2addc9a8c7
Story: 2009134
Task: 43070
(cherry picked from commit 3c56f32facb01d9265c5224e088e6e876b7506b6)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/03/806703/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/kolla-ansible.yml', 'ansible/roles/kolla-ansible/templates/globals.yml.j2', 'releasenotes/notes/fix-precheck-no-public-net-c0db9168063b6203.yaml', 'ansible/public-openrc.yml']",4,ac094088f51ae95dcac7d6ea7add688827ddd3f9,," public_api_host: ""{{ kolla_external_fqdn or kolla_internal_fqdn }}"""," public_api_host: ""{{ kolla_external_fqdn }}""",13,3
openstack%2Frally-openstack~master~I31af017cbf52bfbd1d5f94beb4ea52febefd7d77,openstack/rally-openstack,master,I31af017cbf52bfbd1d5f94beb4ea52febefd7d77,WIP: add support for DCN nova/cinder AZs,NEW,2021-08-10 11:08:32.000000000,2021-09-01 11:18:09.000000000,,"[{'_account_id': 10267}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-10 11:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/c60f3a5b1acb01bd7c1c0b460a701c272afb3c3e', 'message': 'WIP: add support for DCN nova/cinder AZs\n\nTripleO/RDO/OSP Distributed Compute Node deployments use a single\nnova/cinder AZ per edge site. cross_az_attach=False is set to prohibit\nvolume attachment across the WAN.\n\nThis adds support for automatically distributing load across these\nsites by setting auto_assign_az=True and common_az=True.\n\nChange-Id: I31af017cbf52bfbd1d5f94beb4ea52febefd7d77\n'}, {'number': 2, 'created': '2021-08-12 16:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/e29b1df77a88c7b884e0d639174ef9f86f27b507', 'message': 'WIP: add support for DCN nova/cinder AZs\n\nTripleO/RDO/OSP Distributed Compute Node deployments use a single\nnova/cinder AZ per edge site. cross_az_attach=False is set to prohibit\nvolume attachment across the WAN.\n\nThis adds support for automatically distributing load across these\nsites by setting auto_assign_az=True and common_az=True.\n\nChange-Id: I31af017cbf52bfbd1d5f94beb4ea52febefd7d77\n'}, {'number': 3, 'created': '2021-08-12 16:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/98d7b90ba6cc1b6920604a710a08fd310365fa9d', 'message': 'WIP: add support for DCN nova/cinder AZs\n\nTripleO/RDO/OSP Distributed Compute Node deployments use a single\nnova/cinder AZ per edge site. cross_az_attach=False is set to prohibit\nvolume attachment across the WAN.\n\nThis adds support for automatically distributing load across these\nsites by setting auto_assign_az=True and common_az=True.\n\nChange-Id: I31af017cbf52bfbd1d5f94beb4ea52febefd7d77\n'}, {'number': 4, 'created': '2021-09-01 10:33:48.000000000', 'files': ['rally_openstack/task/scenarios/nova/utils.py', 'rally_openstack/task/scenarios/nova/servers.py', 'tests/unit/task/scenarios/nova/test_utils.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/331a116944a1b03f2723dbfe7b59e7b820817c51', 'message': 'WIP: add support for DCN nova/cinder AZs\n\nTripleO/RDO/OSP Distributed Compute Node deployments use a single\nnova/cinder AZ per edge site. cross_az_attach=False is set to prohibit\nvolume attachment across the WAN.\n\nThis adds support for automatically distributing load across these\nsites by setting auto_assign_az=True and common_az=True.\n\nChange-Id: I31af017cbf52bfbd1d5f94beb4ea52febefd7d77\n'}]",1,804065,331a116944a1b03f2723dbfe7b59e7b820817c51,8,2,4,23811,,,0,"WIP: add support for DCN nova/cinder AZs

TripleO/RDO/OSP Distributed Compute Node deployments use a single
nova/cinder AZ per edge site. cross_az_attach=False is set to prohibit
volume attachment across the WAN.

This adds support for automatically distributing load across these
sites by setting auto_assign_az=True and common_az=True.

Change-Id: I31af017cbf52bfbd1d5f94beb4ea52febefd7d77
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/65/804065/4 && git format-patch -1 --stdout FETCH_HEAD,"['rally_openstack/task/scenarios/nova/utils.py', 'rally_openstack/task/scenarios/nova/servers.py']",2,c60f3a5b1acb01bd7c1c0b460a701c272afb3c3e,tripleo_dcn," common_az=False, boot_server_kwargs=None, create_volume_kwargs=None): :param common_az: True if volume and server should be created in the same availability zone if common_az: self._set_common_az(boot_server_kwargs, create_volume_kwargs) def run(self, image, flavor, volume_size=1, volume_num=2, common_az=False, :param common_az: True if volume and server should be created in the same availability zone if common_az: self._set_common_az(boot_server_kwargs, create_volume_kwargs) common_az=False, boot_server_kwargs=None, create_volume_kwargs=None): :param common_az: True if volume and server should be created in the same availability zone if common_az: self._set_common_az(boot_server_kwargs, create_volume_kwargs) min_sleep=0, max_sleep=0, common_az=False, create_volume_kwargs=None, **kwargs): :param common_az: True if volume and server should be created in the same availability zone :param create_volume_kwargs: optional arguments for volume creation if create_volume_kwargs is None: create_volume_kwargs = {} self._set_common_az(kwargs, create_volume_kwargs) volume_type=volume_type, **create_volume_kwargs) disk_over_commit=False, common_az=False, boot_server_kwargs=None, create_volume_kwargs=None, min_sleep=0, max_sleep=0): :param common_az: True if volume and server should be created in the same availability zone self._set_common_az(boot_server_kwargs, create_volume_kwargs) auto_assign_nic=False, common_az=False, create_volume_kwargs=None, **kwargs): :param common_az: True if volume and server should be created in the same availability zone :param create_volume_kwargs: optional arguments for volume creation if create_volume_kwargs is None: create_volume_kwargs = {} if common_az: self._set_common_az(kwargs, create_volume_kwargs) volume_type=volume_type, **create_volume_kwargs)"," boot_server_kwargs=None, create_volume_kwargs=None): def run(self, image, flavor, volume_size=1, volume_num=2, boot_server_kwargs=None, create_volume_kwargs=None): min_sleep=0, max_sleep=0, **kwargs): volume_type=volume_type) disk_over_commit=False, boot_server_kwargs=None, create_volume_kwargs=None, min_sleep=0, max_sleep=0): auto_assign_nic=False, **kwargs): volume_type=volume_type)",89,10
openstack%2Fheat~stable%2Fvictoria~I0168b380d0e201d9c8f8121b384d25a2412c2129,openstack/heat,stable/victoria,I0168b380d0e201d9c8f8121b384d25a2412c2129,Detect EL8 platform-python,MERGED,2021-08-18 14:11:10.000000000,2021-09-01 11:08:40.000000000,2021-09-01 11:06:53.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2021-08-18 14:11:10.000000000', 'files': ['heat/cloudinit/loguserdata.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/98fade887a8d691080b607c4e43be30e6bd3311a', 'message': 'Detect EL8 platform-python\n\nOtherwise, this script fails to run on Enterprise Linux 8 distros.\n\nChange-Id: I0168b380d0e201d9c8f8121b384d25a2412c2129\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit 2d692e22f42bc64476ab01ff7e8c4d4717ef3786)\n'}]",0,805005,98fade887a8d691080b607c4e43be30e6bd3311a,11,3,1,10969,,,0,"Detect EL8 platform-python

Otherwise, this script fails to run on Enterprise Linux 8 distros.

Change-Id: I0168b380d0e201d9c8f8121b384d25a2412c2129
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit 2d692e22f42bc64476ab01ff7e8c4d4717ef3786)
",git fetch https://review.opendev.org/openstack/heat refs/changes/05/805005/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/cloudinit/loguserdata.py'],1,98fade887a8d691080b607c4e43be30e6bd3311a,,"echo ""import pkg_resources"" | python2 2>/dev/null has_py2=$? echo ""import pkg_resources"" | /usr/libexec/platform-python 2>/dev/null has_platform-py=$? elif [ $has_py2 = 0 ]; then interpreter=""python"" elif [ $has_platform-py = 0 ]; then interpreter=""/usr/libexec/platform-python""",,9,0
openstack%2Fpython-neutronclient~master~Ic556d161ee44a217fe503125eed4daebeb366f7e,openstack/python-neutronclient,master,Ic556d161ee44a217fe503125eed4daebeb366f7e,DNM: test neutronclient master,ABANDONED,2021-09-01 06:13:18.000000000,2021-09-01 10:59:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-01 06:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/bc7ef38ec9c284f099872c98cfefbcf39d306a55', 'message': 'DNM: test neutronclient master\n\nChange-Id: Ic556d161ee44a217fe503125eed4daebeb366f7e\n'}, {'number': 2, 'created': '2021-09-01 07:52:50.000000000', 'files': ['neutronclient/v2_0/client.py', 'neutronclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/739c2f714372e94234c3421586c15dd000f0c8ce', 'message': 'DNM: test neutronclient master\n\nChange-Id: Ic556d161ee44a217fe503125eed4daebeb366f7e\n'}]",6,806836,739c2f714372e94234c3421586c15dd000f0c8ce,5,1,2,8313,,,0,"DNM: test neutronclient master

Change-Id: Ic556d161ee44a217fe503125eed4daebeb366f7e
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/36/806836/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutronclient/v2_0/client.py', 'neutronclient/shell.py']",2,bc7ef38ec9c284f099872c98cfefbcf39d306a55,dnm,# DNM: test change NAMESPACE_MAP = {NEUTRON_API_VERSION: 'neutron.cli.v2'} ,NAMESPACE_MAP = {NEUTRON_API_VERSION: 'neutron.cli.v2'} ,4,3
openstack%2Fcloudkitty~stable%2Fwallaby~I8703c7d3e69f35ef3e85234c27b4743242111f3d,openstack/cloudkitty,stable/wallaby,I8703c7d3e69f35ef3e85234c27b4743242111f3d,Fix broken lower-constraints job,MERGED,2021-07-20 11:16:21.000000000,2021-09-01 10:53:21.000000000,2021-09-01 10:52:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}]","[{'number': 1, 'created': '2021-07-20 11:16:21.000000000', 'files': ['cloudkitty/api/app.py', 'cloudkitty/tests/api/v2/test_utils.py', 'cloudkitty/tests/api/v2/dataframes/test_dataframes.py', 'cloudkitty/tests/api/v2/summary/test_summary.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/1e964bdfd1ea630d99acb0301a759ec8667961b2', 'message': 'Fix broken lower-constraints job\n\nDespite no Flask update on stable branches, the lower-constraints job is\nbroken similarly to when Flask was bumped to 2.0.1. The broken test\ncases were mocking the root object ""flask.request"".\n\nInstead of mocking the root object, we address the issue by mocking only\nthe needed methods and attributes. This facilitates the understanding of\nthe unit test, and also helps people to pin-point problems right away.\n\nChange-Id: I8703c7d3e69f35ef3e85234c27b4743242111f3d\n(cherry picked from commit 885c9f077f1bc08570e65df00948e00f4fc3b954)\n'}]",0,801448,1e964bdfd1ea630d99acb0301a759ec8667961b2,8,3,1,15197,,,0,"Fix broken lower-constraints job

Despite no Flask update on stable branches, the lower-constraints job is
broken similarly to when Flask was bumped to 2.0.1. The broken test
cases were mocking the root object ""flask.request"".

Instead of mocking the root object, we address the issue by mocking only
the needed methods and attributes. This facilitates the understanding of
the unit test, and also helps people to pin-point problems right away.

Change-Id: I8703c7d3e69f35ef3e85234c27b4743242111f3d
(cherry picked from commit 885c9f077f1bc08570e65df00948e00f4fc3b954)
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/48/801448/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/api/app.py', 'cloudkitty/tests/api/v2/test_utils.py', 'cloudkitty/tests/api/v2/dataframes/test_dataframes.py', 'cloudkitty/tests/api/v2/summary/test_summary.py']",4,1e964bdfd1ea630d99acb0301a759ec8667961b2,,"import flask import uuid flask.request.context = mock.Mock() flask.request.context.project_id = str(uuid.uuid4()) flask.request.context.is_admin = True with mock.patch.object(self.endpoint._storage, 'total') as total_mock: with policy_mock, mock.patch('flask.request.args.lists') as fmock: fmock.return_value = ["," with mock.patch.object(self.endpoint._storage, 'total') as total_mock: with policy_mock, mock.patch('flask.request') as fmock: fmock.args.lists.return_value = [",25,15
openstack%2Fdevstack~stable%2Fwallaby~Ibb9b247a018a788c8c4b40487762319fe470bf0f,openstack/devstack,stable/wallaby,Ibb9b247a018a788c8c4b40487762319fe470bf0f,Drop broute from ebtables_dump,MERGED,2021-09-01 07:07:13.000000000,2021-09-01 10:52:30.000000000,2021-09-01 10:51:07.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-01 07:07:13.000000000', 'files': ['tools/worlddump.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b9b31df76c893bd35e70fdc82bad56161e58f8cb', 'message': 'Drop broute from ebtables_dump\n\nThis table is no longer present on most installations, drop it\nfrom the list to avoid error messages during log collection\nthat people mistake to be the real error why devstack is failing.\n\nThis may lose some debugging information in edge cases, but I\nthink the improvement of the general user experience is more\nimportant.\n\nChange-Id: Ibb9b247a018a788c8c4b40487762319fe470bf0f\nCloses-Bug: 1885198\n(cherry picked from commit 5a684eb51b4c18aee2051c5a7c703f50bbcc41ca)\n'}]",0,806706,b9b31df76c893bd35e70fdc82bad56161e58f8cb,7,3,1,31412,,,0,"Drop broute from ebtables_dump

This table is no longer present on most installations, drop it
from the list to avoid error messages during log collection
that people mistake to be the real error why devstack is failing.

This may lose some debugging information in edge cases, but I
think the improvement of the general user experience is more
important.

Change-Id: Ibb9b247a018a788c8c4b40487762319fe470bf0f
Closes-Bug: 1885198
(cherry picked from commit 5a684eb51b4c18aee2051c5a7c703f50bbcc41ca)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/06/806706/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/worlddump.py'],1,b9b31df76c893bd35e70fdc82bad56161e58f8cb,bug/1885198-stable/wallaby," tables = ['filter', 'nat']"," tables = ['filter', 'nat', 'broute']",1,1
openstack%2Fkolla~master~Ic8f0554c95c1903640c98a7831b829c1f88f49ff,openstack/kolla,master,Ic8f0554c95c1903640c98a7831b829c1f88f49ff,Fix Elasticsearch Curator,MERGED,2021-08-25 13:04:33.000000000,2021-09-01 10:31:47.000000000,2021-09-01 10:29:32.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-25 13:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b290b16789d3584add66db1e776889ef9985e235', 'message': 'Fix Elasticsearch curator\n\nDue to licensing, Kolla is stuck with the 7.10.2 version of Elasticsearch. This\ncommit pins python library version to be compatible with version of the cluster.\n\nCloses-Bug: #1941073\nChange-Id: Ic8f0554c95c1903640c98a7831b829c1f88f49ff\n'}, {'number': 2, 'created': '2021-08-25 14:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4be766a78083236a7766b0c174d370b4f08a8ba9', 'message': ""Fix Elasticsearch Curator\n\nCurator does not seem to work with latest elasticsearch library. Pin it\nto the version from project's requirements [1].\n\n[1] https://github.com/elastic/curator/blob/v5.8.4/requirements.txt\n\nCloses-Bug: #1941073\nChange-Id: Ic8f0554c95c1903640c98a7831b829c1f88f49ff\n""}, {'number': 3, 'created': '2021-08-27 14:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/79250c167be6d553c5320b05ec274ae6c9897fcb', 'message': 'Fix Elasticsearch Curator\n\nNewest elasticsearch python library required by Curator does no longer\nwork against the last OSS version of Elasticsearch (7.10.2). Pin it\nto the last known working version.\n\nCloses-Bug: #1941073\nChange-Id: Ic8f0554c95c1903640c98a7831b829c1f88f49ff\n'}, {'number': 4, 'created': '2021-08-27 14:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/041da935292472adcd1a1343d9c282e27bdc9b5d', 'message': 'Fix Elasticsearch Curator\n\nNewest elasticsearch python library required by Curator does no longer\nwork against the last OSS version of Elasticsearch (7.10.2). Pin it\nto the last known working version.\n\nCloses-Bug: #1941073\nChange-Id: Ic8f0554c95c1903640c98a7831b829c1f88f49ff\n'}, {'number': 5, 'created': '2021-08-31 11:01:08.000000000', 'files': ['docker/elasticsearch/elasticsearch-curator/Dockerfile.j2', 'releasenotes/notes/fix-elasticsearch-curator-7876896ebbd41ad3.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f31fbab84f215e12e5042a948a81cde6b5831678', 'message': 'Fix Elasticsearch Curator\n\nNewest elasticsearch python library required by Curator does no longer\nwork against the last OSS version of Elasticsearch (7.10.2). Pin it\nto the last known working version.\n\nCloses-Bug: #1941073\nChange-Id: Ic8f0554c95c1903640c98a7831b829c1f88f49ff\n'}]",9,805990,f31fbab84f215e12e5042a948a81cde6b5831678,30,4,5,32657,,,0,"Fix Elasticsearch Curator

Newest elasticsearch python library required by Curator does no longer
work against the last OSS version of Elasticsearch (7.10.2). Pin it
to the last known working version.

Closes-Bug: #1941073
Change-Id: Ic8f0554c95c1903640c98a7831b829c1f88f49ff
",git fetch https://review.opendev.org/openstack/kolla refs/changes/90/805990/4 && git format-patch -1 --stdout FETCH_HEAD,"['docker/elasticsearch/elasticsearch-curator/Dockerfile.j2', 'releasenotes/notes/fix-elasticsearch-curator-7876896ebbd41ad3.yaml']",2,b290b16789d3584add66db1e776889ef9985e235,,--- fixes: - | Fixes an issue with Elasticsearch curator not working due to too new python elasticsearch library. See `bug 1941073 <https://bugs.launchpad.net/kolla-ansible/+bug/1941073>`__ for details. ,,7,0
openstack%2Fkolla-ansible~stable%2Fvictoria~I481235abfabb9d8fe10c542cf5a012cb7a25e7a7,openstack/kolla-ansible,stable/victoria,I481235abfabb9d8fe10c542cf5a012cb7a25e7a7,docs: Document CentOS 8 Stream usage,MERGED,2021-06-18 08:47:08.000000000,2021-09-01 10:31:44.000000000,2021-09-01 10:29:34.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-18 08:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ddfe2beadc69958c965bf643a059c24e6f8d28b6', 'message': 'CentOS 8 Stream: Use variable image tag suffix\n\nFor the CentOS 8 to 8-stream transition, we will have a period where both\nCentOS 8 and 8-stream images are available. We differentiate these images via a\ntag - the CentOS 8-stream images will have a tag of victoria-centos8s.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/792763\nChange-Id: I481235abfabb9d8fe10c542cf5a012cb7a25e7a7\n'}, {'number': 2, 'created': '2021-06-21 13:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a446b876709ebf3ac8a9093b685373570d9630f6', 'message': 'CentOS 8 Stream: Use variable image tag suffix\n\nFor the CentOS 8 to 8-stream transition, we will have a period where both\nCentOS 8 and 8-stream images are available. We differentiate these images via a\ntag - the CentOS 8-stream images will have a tag of victoria-centos8s.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/792763\nChange-Id: I481235abfabb9d8fe10c542cf5a012cb7a25e7a7\n'}, {'number': 3, 'created': '2021-08-26 09:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d2dd6d03d66532bafc089bdcb6fe042236b8340f', 'message': 'docs: Document CentOS 8 Stream usage\n\nFor the CentOS 8 to 8-stream transition, we will have a period where both\nCentOS 8 and 8-stream images are available. We differentiate these images via a\ntag - the CentOS 8-stream images will have a tag of victoria-centos8s.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/792763\nChange-Id: I481235abfabb9d8fe10c542cf5a012cb7a25e7a7\n'}, {'number': 4, 'created': '2021-08-26 09:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b018a19b3d7f3cdabb382188835359d20d8f220c', 'message': 'docs: Document CentOS 8 Stream usage\n\nFor the CentOS 8 to 8-stream transition, we will have a period where both\nCentOS 8 and 8-stream images are available. We differentiate these images via a\ntag - the CentOS 8-stream images will have a tag of victoria-centos8s.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/792763\nChange-Id: I481235abfabb9d8fe10c542cf5a012cb7a25e7a7\n'}, {'number': 5, 'created': '2021-08-26 11:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/077c44b72c71431b9070711e64ff3d1145913ccf', 'message': 'docs: Document CentOS 8 Stream usage\n\nFor the CentOS 8 to 8-stream transition, we will have a period where both\nCentOS 8 and 8-stream images are available. We differentiate these images via a\ntag - the CentOS 8-stream images will have a tag of victoria-centos8s.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/792763\nChange-Id: I481235abfabb9d8fe10c542cf5a012cb7a25e7a7\n'}, {'number': 6, 'created': '2021-08-26 11:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a06147ede80aa3ff8d09c5d12d22053e9e85e8c1', 'message': 'docs: Document CentOS 8 Stream usage\n\nFor the CentOS 8 to 8-stream transition, we will have a period where both\nCentOS 8 and 8-stream images are available. We differentiate these images via a\ntag - the CentOS 8-stream images will have a tag of victoria-centos8s.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/792763\nChange-Id: I481235abfabb9d8fe10c542cf5a012cb7a25e7a7\n'}, {'number': 7, 'created': '2021-08-26 13:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/08d461a027526038326724c7da15d077c876f0fa', 'message': 'docs: Document CentOS 8 Stream usage\n\nFor the CentOS 8 to 8-stream transition, we will have a period where both\nCentOS 8 and 8-stream images are available. We differentiate these images via a\ntag - the CentOS 8-stream images will have a tag of victoria-centos8s.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/792763\nChange-Id: I481235abfabb9d8fe10c542cf5a012cb7a25e7a7\n'}, {'number': 8, 'created': '2021-08-26 13:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b6c680ff22178444ea6af0566c425ce13bba4d36', 'message': 'docs: Document CentOS 8 Stream usage\n\nFor the CentOS 8 to 8-stream transition, we will have a period where both\nCentOS 8 and 8-stream images are available. We differentiate these images via a\ntag - the CentOS 8-stream images will have a tag of victoria-centos8s.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/792763\nChange-Id: I481235abfabb9d8fe10c542cf5a012cb7a25e7a7\n'}, {'number': 9, 'created': '2021-08-26 14:36:29.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fa1823f94bb192f4cc5ec6a84cd10e9d777ef50f', 'message': 'docs: Document CentOS 8 Stream usage\n\nFor the CentOS 8 to 8-stream transition, we will have a period where both\nCentOS 8 and 8-stream images are available. We differentiate these images via a\ntag - the CentOS 8-stream images will have a tag of victoria-centos8s.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/792763\nChange-Id: I481235abfabb9d8fe10c542cf5a012cb7a25e7a7\n'}]",6,797005,fa1823f94bb192f4cc5ec6a84cd10e9d777ef50f,30,4,9,22629,,,0,"docs: Document CentOS 8 Stream usage

For the CentOS 8 to 8-stream transition, we will have a period where both
CentOS 8 and 8-stream images are available. We differentiate these images via a
tag - the CentOS 8-stream images will have a tag of victoria-centos8s.

Depends-On: https://review.opendev.org/c/openstack/kolla/+/792763
Change-Id: I481235abfabb9d8fe10c542cf5a012cb7a25e7a7
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/05/797005/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,ddfe2beadc69958c965bf643a059c24e6f8d28b6,centos8_stream_victoria,"openstack_tag_suffix: ""{{ '-centos8s' if kolla_base_distro == 'centos' and ansible_lsb.id == 'CentOSStream' else '' }}""","openstack_tag_suffix: """"",1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ia08b3d9b0fc96511e5a9202fa5e5a09487263e5b,openstack/tripleo-heat-templates,stable/wallaby,Ia08b3d9b0fc96511e5a9202fa5e5a09487263e5b,Enable Ceph RGW public port into firewall when using SSL,MERGED,2021-08-31 12:08:15.000000000,2021-09-01 10:30:27.000000000,2021-09-01 10:30:27.000000000,"[{'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-08-31 12:08:15.000000000', 'files': ['deployment/cephadm/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e3073243bd6c6bc61f3a805d6e3f028f6ea8ce6d', 'message': 'Enable Ceph RGW public port into firewall when using SSL\n\nAdds CephRgwPublic endpoint port to firewall rule because it does\nnot match the CephRgwInternal endpoint port when using SSL\n\nIn wallaby we need to fix the ceph-ansible templates too\n\nChange-Id: Ia08b3d9b0fc96511e5a9202fa5e5a09487263e5b\n(cherry picked from commit c69733bb652fa4bb546cd1dbf4cd40a4f157467d)\nCloses-Bug: 1942198\n'}]",0,806733,e3073243bd6c6bc61f3a805d6e3f028f6ea8ce6d,8,4,1,6796,,,0,"Enable Ceph RGW public port into firewall when using SSL

Adds CephRgwPublic endpoint port to firewall rule because it does
not match the CephRgwInternal endpoint port when using SSL

In wallaby we need to fix the ceph-ansible templates too

Change-Id: Ia08b3d9b0fc96511e5a9202fa5e5a09487263e5b
(cherry picked from commit c69733bb652fa4bb546cd1dbf4cd40a4f157467d)
Closes-Bug: 1942198
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/806733/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cephadm/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml']",2,e3073243bd6c6bc61f3a805d6e3f028f6ea8ce6d,," - {get_param: [EndpointMap, CephRgwPublic, port]}",,2,0
openstack%2Fcharm-nova-compute~master~Ib050c23f5e4d2da8262c37f136dbc66129141017,openstack/charm-nova-compute,master,Ib050c23f5e4d2da8262c37f136dbc66129141017,Added neutron_physnet and neutron_tunnel config,MERGED,2021-08-26 15:55:13.000000000,2021-09-01 10:24:37.000000000,2021-09-01 10:24:37.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-26 15:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/ed3e2ce74d3646f90f2c2ea25d235539705d67e1', 'message': 'Added neutron_physnet and neutron_tunnel config\n\nDRAFT: feedback welcome\n\nAdding neutron_physnet and neutron_tunnel as config options\nfor numa affinity to the charm.\n\nImplementation of [0] config options.\nOnly affects OpenStack releases >= rocky\n\n[0]https://docs.openstack.org/nova/rocky/configuration/config.html#neutron.physnets\n\nCloses-Bug: #1921067\nChange-Id: Ib050c23f5e4d2da8262c37f136dbc66129141017\n'}, {'number': 2, 'created': '2021-08-30 13:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/a391425669827e4555e1cefe254f408c5c9d65f4', 'message': 'Added neutron_physnet and neutron_tunnel config\n\nAdding neutron_physnet and neutron_tunnel as config options\nfor numa affinity to the charm.\n\nImplementation of [0] config options.\nOnly affects OpenStack releases >= rocky\n\n[0]https://docs.openstack.org/nova/rocky/configuration/config.html#neutron.physnets\n\nCloses-Bug: #1921067\nChange-Id: Ib050c23f5e4d2da8262c37f136dbc66129141017\n'}, {'number': 3, 'created': '2021-08-31 08:25:26.000000000', 'files': ['hooks/nova_compute_context.py', 'templates/stein/nova.conf', 'templates/train/nova.conf', 'config.yaml', 'templates/rocky/nova.conf', 'unit_tests/test_nova_compute_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/6ab0d0d5f6dc5bcb70b34184b87a118049cb80b4', 'message': 'Added neutron_physnet and neutron_tunnel config\n\nAdding neutron_physnet and neutron_tunnel as config options\nfor numa affinity to the charm.\n\nImplementation of [0] config options.\nOnly affects OpenStack releases >= rocky\n\n[0]https://docs.openstack.org/nova/rocky/configuration/config.html#neutron.physnets\n\nCloses-Bug: #1921067\nChange-Id: Ib050c23f5e4d2da8262c37f136dbc66129141017\n'}]",10,806235,6ab0d0d5f6dc5bcb70b34184b87a118049cb80b4,23,3,3,33830,,,0,"Added neutron_physnet and neutron_tunnel config

Adding neutron_physnet and neutron_tunnel as config options
for numa affinity to the charm.

Implementation of [0] config options.
Only affects OpenStack releases >= rocky

[0]https://docs.openstack.org/nova/rocky/configuration/config.html#neutron.physnets

Closes-Bug: #1921067
Change-Id: Ib050c23f5e4d2da8262c37f136dbc66129141017
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/35/806235/3 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_context.py', 'templates/stein/nova.conf', 'templates/train/nova.conf', 'config.yaml', 'templates/rocky/nova.conf', 'unit_tests/test_nova_compute_contexts.py']",6,ed3e2ce74d3646f90f2c2ea25d235539705d67e1,bug/1921067," neutron_context = NEUTRON_CONTEXT.copy() neutron_context.update({'dns_domain': 'example.tld'}) self.test_relation.set(neutron_context) @patch.object(context, '_neutron_plugin') @patch.object(context, '_neutron_url') @patch.object(context, '_network_manager') def test_cloud_compute_neutron_ctxt_physnets(self, netman, url, plugin): self.relation_ids.return_value = 'cloud-compute:0' self.related_units.return_value = 'nova-cloud-controller/0' self.test_config.set('neutron-physnets', 'foo:0;bar:0,1') netman.return_value = 'neutron' plugin.return_value = 'ovs' url.return_value = 'http://nova-c-c:9696' self.test_relation.set(NEUTRON_CONTEXT) cloud_compute = context.CloudComputeContext() ex_ctxt = { 'api_version': '2.0', 'auth_protocol': 'https', 'service_protocol': 'http', 'auth_port': '5000', 'keystone_host': 'keystone_host', 'neutron_admin_auth_url': 'https://keystone_host:5000/v2.0', 'neutron_admin_password': 'openstack', 'neutron_admin_tenant_name': 'admin', 'neutron_admin_username': 'admin', 'neutron_admin_domain_name': 'admin_domain', 'neutron_auth_strategy': 'keystone', 'neutron_physnets': {'bar': '0,1', 'foo': '0'}, 'neutron_plugin': 'ovs', 'neutron_security_groups': True, 'neutron_url': 'http://nova-c-c:9696', 'service_protocol': 'http', 'service_port': '5000', } self.assertEqual(ex_ctxt, cloud_compute()['network_manager_config']) @patch.object(context, '_neutron_plugin') @patch.object(context, '_neutron_url') @patch.object(context, '_network_manager') def test_cloud_compute_neutron_ctxt_tunnel(self, netman, url, plugin): self.relation_ids.return_value = 'cloud-compute:0' self.related_units.return_value = 'nova-cloud-controller/0' self.test_config.set('neutron-tunnel', '0,1') netman.return_value = 'neutron' plugin.return_value = 'ovs' url.return_value = 'http://nova-c-c:9696' self.test_relation.set(NEUTRON_CONTEXT) cloud_compute = context.CloudComputeContext() ex_ctxt = { 'api_version': '2.0', 'auth_protocol': 'https', 'service_protocol': 'http', 'auth_port': '5000', 'keystone_host': 'keystone_host', 'neutron_admin_auth_url': 'https://keystone_host:5000/v2.0', 'neutron_admin_password': 'openstack', 'neutron_admin_tenant_name': 'admin', 'neutron_admin_username': 'admin', 'neutron_admin_domain_name': 'admin_domain', 'neutron_auth_strategy': 'keystone', 'neutron_tunnel': '0,1', 'neutron_plugin': 'ovs', 'neutron_security_groups': True, 'neutron_url': 'http://nova-c-c:9696', 'service_protocol': 'http', 'service_port': '5000', } self.assertEqual(ex_ctxt, cloud_compute()['network_manager_config']) ", NEUTRON_CONTEXT.update({'dns_domain': 'example.tld'}) self.test_relation.set(NEUTRON_CONTEXT),144,2
openstack%2Fneutron-tempest-plugin~master~I9adddd8926f90ef5312ef40e5b2ebb10bce3b611,openstack/neutron-tempest-plugin,master,I9adddd8926f90ef5312ef40e5b2ebb10bce3b611,Add test_previously_used_ip to cover LP1916761,ABANDONED,2021-08-31 16:10:46.000000000,2021-09-01 10:22:49.000000000,,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 29088}, {'_account_id': 31291}]","[{'number': 1, 'created': '2021-08-31 16:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/75f9ad9160864171954b4fe1d9fc597a787971a5', 'message': 'Add test_previously_used_ip to cover LP1916761\n\nThis test checks that a VM can reused a previously used fixed IP address\n\nChange-Id: I9adddd8926f90ef5312ef40e5b2ebb10bce3b611\nRelated-Bug: #1916761\n'}, {'number': 2, 'created': '2021-09-01 07:05:25.000000000', 'files': ['neutron_tempest_plugin/scenario/test_ports.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c98bd8d25601cf8c64207081520ad8f3608ec6ce', 'message': 'Add test_previously_used_ip to cover LP1916761\n\nThis test checks that a VM can reused a previously used fixed IP address\n\nChange-Id: I9adddd8926f90ef5312ef40e5b2ebb10bce3b611\nRelated-Bug: #1916761\n'}]",8,806771,c98bd8d25601cf8c64207081520ad8f3608ec6ce,6,6,2,31291,,,0,"Add test_previously_used_ip to cover LP1916761

This test checks that a VM can reused a previously used fixed IP address

Change-Id: I9adddd8926f90ef5312ef40e5b2ebb10bce3b611
Related-Bug: #1916761
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/71/806771/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_ports.py'],1,75f9ad9160864171954b4fe1d9fc597a787971a5,," @decorators.idempotent_id('0fb27a14-0ddd-4186-80a8-45911da8629e') def test_previously_used_ip(self): """"""Test steps: 1. Create port P0 with address A0 and create VM0 with this port 2. Associate floating ip with P0 and check connectivity 3. Delete VM and port 4. Create port P1 with address A0 and create VM1 with this port 5. Associate floating ip with P1 and check connectivity Related-bug: LP1916761 """""" # create port, server and FIP p0 = self.create_port(self.network, name=data_utils.rand_name(""port""), security_groups=[self.secgroup['id']]) fixed_ip = p0['fixed_ips'][0]['ip_address'] fips, servers = self._create_instance_with_port(p0) # check connectivity self.check_connectivity(fips[0]['floating_ip_address'], CONF.validation.image_ssh_user, self.keypair['private_key']) # delete server and port self.os_primary.servers_client.delete_server( servers[0]['server']['id']) waiters.wait_for_server_termination( self.os_primary.servers_client, servers[0]['server']['id']) self.client.delete_port(p0['id']) self.ports.remove(p0) # create a new port using the same fixed IP p1 = self.create_port(self.network, name=data_utils.rand_name(""port""), security_groups=[self.secgroup['id']], fixed_ips=[{'ip_address': fixed_ip}]) fips, servers = self._create_instance_with_port(p1) # check connectivity self.check_connectivity(fips[0]['floating_ip_address'], CONF.validation.image_ssh_user, self.keypair['private_key'])",,40,0
openstack%2Foctavia~master~Icf9417bdcadccbf8700619a6fd5cbcbcd7de8c81,openstack/octavia,master,Icf9417bdcadccbf8700619a6fd5cbcbcd7de8c81,Set active-standby job as non-voting,MERGED,2021-08-31 13:16:45.000000000,2021-09-01 10:14:33.000000000,2021-09-01 10:05:56.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-08-31 13:16:45.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/39735ebf10426a639fd85565b8e7e752b15d77f7', 'message': 'Set active-standby job as non-voting\n\nThis is temporary workaround to make the CI green. It should be reverted\nwhne the placement bug that affects our active-standby job is fixed\n(https://storyboard.openstack.org/\\#!/story/2009159).\n\nChange-Id: Icf9417bdcadccbf8700619a6fd5cbcbcd7de8c81\n'}]",0,806742,39735ebf10426a639fd85565b8e7e752b15d77f7,14,4,1,29244,,,0,"Set active-standby job as non-voting

This is temporary workaround to make the CI green. It should be reverted
whne the placement bug that affects our active-standby job is fixed
(https://storyboard.openstack.org/\#!/story/2009159).

Change-Id: Icf9417bdcadccbf8700619a6fd5cbcbcd7de8c81
",git fetch https://review.opendev.org/openstack/octavia refs/changes/42/806742/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,39735ebf10426a639fd85565b8e7e752b15d77f7,, - octavia-v2-act-stdby-dsvm-scenario: irrelevant-files: *irrelevant-files voting: false, - octavia-v2-act-stdby-dsvm-scenario: irrelevant-files: *irrelevant-files - octavia-v2-act-stdby-dsvm-scenario,3,3
openstack%2Foctavia-tempest-plugin~master~I68a5357f58b74f0f759cab0bb89a517c384d05e0,openstack/octavia-tempest-plugin,master,I68a5357f58b74f0f759cab0bb89a517c384d05e0,Increase job timeout for noop-api tests,MERGED,2021-08-30 09:56:43.000000000,2021-09-01 10:13:49.000000000,2021-09-01 10:05:54.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-30 09:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/8003dec949260af75710c724d2c447ff23d18bdf', 'message': ""Increase job timeout for noop-api tests\n\nnoop-api tests have been frequently timing out since SQLAlchemy\n1.4 release.\nAn analysis showed that some tests are 55% slower with 1.4, but we\nhaven't fixed it or improved the code yet. To unblock the gates, set the\ntimeout to 9000 sec (2h30) for those jobs. We might revert this commit\nwhen we figure out how to improve test exec times.\n\nChange-Id: I68a5357f58b74f0f759cab0bb89a517c384d05e0\n""}, {'number': 2, 'created': '2021-08-30 15:01:24.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/605899c1a92756b568ed14478158ddafbcff3d18', 'message': ""Increase job timeout for noop-api tests\n\nnoop-api tests have been frequently timing out since SQLAlchemy\n1.4 release.\nAn analysis showed that some tests are 55% slower with 1.4, but we\nhaven't fixed it or improved the code yet. To unblock the gates, set the\ntimeout to 10800 sec (3h00) for those jobs. We might revert this commit\nwhen we figure out how to improve test exec times.\n\nChange-Id: I68a5357f58b74f0f759cab0bb89a517c384d05e0\n""}]",0,806558,605899c1a92756b568ed14478158ddafbcff3d18,14,3,2,29244,,,0,"Increase job timeout for noop-api tests

noop-api tests have been frequently timing out since SQLAlchemy
1.4 release.
An analysis showed that some tests are 55% slower with 1.4, but we
haven't fixed it or improved the code yet. To unblock the gates, set the
timeout to 10800 sec (3h00) for those jobs. We might revert this commit
when we figure out how to improve test exec times.

Change-Id: I68a5357f58b74f0f759cab0bb89a517c384d05e0
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/58/806558/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,8003dec949260af75710c724d2c447ff23d18bdf,, timeout: 9000,,1,0
openstack%2Fnova~master~Ibcf703e254e720b9a6de17527325758676628d48,openstack/nova,master,Ibcf703e254e720b9a6de17527325758676628d48,Support move ops with extended resource request,MERGED,2021-07-08 17:07:37.000000000,2021-09-01 10:03:29.000000000,2021-08-31 21:38:24.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 17:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f0769595dfa2073296057bff8b5fd901d1201d2', 'message': 'Support extended resource request\n\nTODO:\n* split this up\n\nChange-Id: Ibcf703e254e720b9a6de17527325758676628d48\n'}, {'number': 2, 'created': '2021-07-09 14:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00f34f21308dbe3991f4a222d2ef5764e29bc3e1', 'message': 'Support move ops with extended resource request\n\nTODO:\n* service version bump\n* service version check in the api\n* remove blank rejection\n* remove blank rejection mock from functional test\n* unit test coverage\n* doc\n\nChange-Id: Ibcf703e254e720b9a6de17527325758676628d48\n'}, {'number': 3, 'created': '2021-07-09 16:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c597d69148152201164602a4b2cedf213e05df34', 'message': 'Support move ops with extended resource request\n\nTODO:\n* unit test coverage\n* doc\n\nChange-Id: Ibcf703e254e720b9a6de17527325758676628d48\n'}, {'number': 4, 'created': '2021-07-15 15:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15eaad9afdf48a355120cb426d7a1d8cb8dd726a', 'message': 'Support move ops with extended resource request\n\nTODO:\n* unit test coverage\n* doc\n\nChange-Id: Ibcf703e254e720b9a6de17527325758676628d48\n'}, {'number': 5, 'created': '2021-07-15 18:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f52c579f7b0660f1029b4ac3e995eee2ee00f14b', 'message': 'Support move ops with extended resource request\n\nTODO:\n* unit test coverage\n* doc\n\nChange-Id: Ibcf703e254e720b9a6de17527325758676628d48\n'}, {'number': 6, 'created': '2021-07-15 19:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df94f3cfa3e3cf1eb101759928199de36b957d8b', 'message': 'Support move ops with extended resource request\n\nTODO:\n* unit test coverage\n* doc\n\nChange-Id: Ibcf703e254e720b9a6de17527325758676628d48\n'}, {'number': 7, 'created': '2021-07-16 17:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23e37f0aa5780acbd754e8642832ff468e2e427c', 'message': 'Support move ops with extended resource request\n\nTODO:\n* unit test coverage\n* doc\n\nChange-Id: Ibcf703e254e720b9a6de17527325758676628d48\n'}, {'number': 8, 'created': '2021-07-19 14:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eaab4616f16f4ae82eee6532e376160b3d2bd1b8', 'message': 'Support move ops with extended resource request\n\nTODO:\n* unit test coverage\n\nChange-Id: Ibcf703e254e720b9a6de17527325758676628d48\n'}, {'number': 9, 'created': '2021-07-19 16:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d6306ce01d27ee3013462c706b9610a0d195b22', 'message': 'Support move ops with extended resource request\n\nTODO:\n* unit test coverage\n\nChange-Id: Ibcf703e254e720b9a6de17527325758676628d48\n'}, {'number': 10, 'created': '2021-07-20 12:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e21681f32214d8d518d7bf3e7791e74079062b1', 'message': 'Support move ops with extended resource request\n\nTODO:\n* unit test coverage\n\nChange-Id: Ibcf703e254e720b9a6de17527325758676628d48\n'}, {'number': 11, 'created': '2021-07-20 16:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d8a88ad394f83b93d0570564bef0da89342ffc7', 'message': 'Support move ops with extended resource request\n\nTODO:\n* unit test coverage\n\nChange-Id: Ibcf703e254e720b9a6de17527325758676628d48\n'}, {'number': 12, 'created': '2021-07-22 13:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ddcdcccb56711a95f8af2cacfc1d5af2872988b', 'message': 'Support move ops with extended resource request\n\nTODO:\n* unit test coverage\n\nChange-Id: Ibcf703e254e720b9a6de17527325758676628d48\n'}, {'number': 13, 'created': '2021-07-22 13:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3376fee158d943326033b553829c5e2d90901c4', 'message': 'Support move ops with extended resource request\n\nTODO:\n* unit test coverage\n\nChange-Id: Ibcf703e254e720b9a6de17527325758676628d48\n'}, {'number': 14, 'created': '2021-07-23 16:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59bd9035987d001cf7e1306218d2e70f7d37d8c4', 'message': 'Support move ops with extended resource request\n\nTODO:\n* unit test coverage\n\nChange-Id: Ibcf703e254e720b9a6de17527325758676628d48\n'}, {'number': 15, 'created': '2021-07-23 16:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/123bd23cc760d01f3425af56eba734eda9052440', 'message': 'Support move ops with extended resource request\n\nTODO:\n* unit test coverage\n\nChange-Id: Ibcf703e254e720b9a6de17527325758676628d48\n'}, {'number': 16, 'created': '2021-07-23 17:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d1ad97d87cc7eeffda13273b9030905e2324bcb', 'message': 'Support move ops with extended resource request\n\nTODO:\n* get_requested_resource_for_instance should return not just request\n  groups but request lvl params as well. This needs to be added to\n  the request spec to be used for the scheduling\n* unit test coverage\n\nChange-Id: Ibcf703e254e720b9a6de17527325758676628d48\n'}, {'number': 17, 'created': '2021-08-03 12:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64b3659061915d1b00457657789fc902f5be0356', 'message': 'Support move ops with extended resource request\n\nNova re-generates the resource request of an instance for each server\nmove operation (migrate, resize, evacuate, live-migrate, unshelve) to\nfind (or validate) a target host for the instance move. This patch\nextends the this logic to support the extended resource request from\nneutron.\n\nAs the changes in the neutron interface code is called from nova-compute\nservice during the port binding the compute service version is bumped.\nAnd a check is added to the compute-api to reject the move operations\nwith ports having extended resource request if there are old computes\nin the cluster.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: Ibcf703e254e720b9a6de17527325758676628d48\n'}, {'number': 18, 'created': '2021-08-03 14:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f49cca83233b0bc11c5eea8e956463ea8836745', 'message': 'Support move ops with extended resource request\n\nNova re-generates the resource request of an instance for each server\nmove operation (migrate, resize, evacuate, live-migrate, unshelve) to\nfind (or validate) a target host for the instance move. This patch\nextends the this logic to support the extended resource request from\nneutron.\n\nAs the changes in the neutron interface code is called from nova-compute\nservice during the port binding the compute service version is bumped.\nAnd a check is added to the compute-api to reject the move operations\nwith ports having extended resource request if there are old computes\nin the cluster.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: Ibcf703e254e720b9a6de17527325758676628d48\n'}, {'number': 19, 'created': '2021-08-04 16:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1032054105adad76c329d07bf30e89dc25f4a17f', 'message': 'Support move ops with extended resource request\n\nNova re-generates the resource request of an instance for each server\nmove operation (migrate, resize, evacuate, live-migrate, unshelve) to\nfind (or validate) a target host for the instance move. This patch\nextends the this logic to support the extended resource request from\nneutron.\n\nAs the changes in the neutron interface code is called from nova-compute\nservice during the port binding the compute service version is bumped.\nAnd a check is added to the compute-api to reject the move operations\nwith ports having extended resource request if there are old computes\nin the cluster.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: Ibcf703e254e720b9a6de17527325758676628d48\n'}, {'number': 20, 'created': '2021-08-16 17:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/95090695fe3cb026a56d657fb464fc54965abc1b', 'message': 'Support move ops with extended resource request\n\nNova re-generates the resource request of an instance for each server\nmove operation (migrate, resize, evacuate, live-migrate, unshelve) to\nfind (or validate) a target host for the instance move. This patch\nextends the this logic to support the extended resource request from\nneutron.\n\nAs the changes in the neutron interface code is called from nova-compute\nservice during the port binding the compute service version is bumped.\nAnd a check is added to the compute-api to reject the move operations\nwith ports having extended resource request if there are old computes\nin the cluster.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: Ibcf703e254e720b9a6de17527325758676628d48\n'}, {'number': 21, 'created': '2021-08-21 12:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f621485bf91a9fdeb6b523e0c36b50de2ed250d8', 'message': 'Support move ops with extended resource request\n\nNova re-generates the resource request of an instance for each server\nmove operation (migrate, resize, evacuate, live-migrate, unshelve) to\nfind (or validate) a target host for the instance move. This patch\nextends the this logic to support the extended resource request from\nneutron.\n\nAs the changes in the neutron interface code is called from nova-compute\nservice during the port binding the compute service version is bumped.\nAnd a check is added to the compute-api to reject the move operations\nwith ports having extended resource request if there are old computes\nin the cluster.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: Ibcf703e254e720b9a6de17527325758676628d48\n'}, {'number': 22, 'created': '2021-08-22 10:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a56104311376db509d79d905d9add2ee70a7d8e5', 'message': 'Support move ops with extended resource request\n\nNova re-generates the resource request of an instance for each server\nmove operation (migrate, resize, evacuate, live-migrate, unshelve) to\nfind (or validate) a target host for the instance move. This patch\nextends the this logic to support the extended resource request from\nneutron.\n\nAs the changes in the neutron interface code is called from nova-compute\nservice during the port binding the compute service version is bumped.\nAnd a check is added to the compute-api to reject the move operations\nwith ports having extended resource request if there are old computes\nin the cluster.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: Ibcf703e254e720b9a6de17527325758676628d48\n'}, {'number': 23, 'created': '2021-08-27 16:12:59.000000000', 'files': ['doc/source/admin/ports-with-resource-requests.rst', 'nova/tests/unit/network/test_neutron.py', 'nova/api/openstack/compute/shelve.py', 'nova/objects/service.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/api/openstack/compute/evacuate.py', 'nova/tests/unit/compute/test_compute.py', 'nova/conductor/tasks/live_migrate.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/api/openstack/compute/servers.py', 'nova/tests/functional/test_servers_resource_request.py', 'nova/tests/unit/compute/test_api.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py', 'nova/tests/unit/conductor/tasks/test_migrate.py', 'nova/network/neutron.py', 'nova/conductor/tasks/migrate.py', 'nova/tests/unit/compute/test_shelve.py', 'api-guide/source/port_with_resource_request.rst', 'nova/conductor/manager.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/191bdf2069086493be2a2e0351afa7f3efad7099', 'message': 'Support move ops with extended resource request\n\nNova re-generates the resource request of an instance for each server\nmove operation (migrate, resize, evacuate, live-migrate, unshelve) to\nfind (or validate) a target host for the instance move. This patch\nextends the this logic to support the extended resource request from\nneutron.\n\nAs the changes in the neutron interface code is called from nova-compute\nservice during the port binding the compute service version is bumped.\nAnd a check is added to the compute-api to reject the move operations\nwith ports having extended resource request if there are old computes\nin the cluster.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: Ibcf703e254e720b9a6de17527325758676628d48\n'}]",19,800087,191bdf2069086493be2a2e0351afa7f3efad7099,147,4,23,9708,,,0,"Support move ops with extended resource request

Nova re-generates the resource request of an instance for each server
move operation (migrate, resize, evacuate, live-migrate, unshelve) to
find (or validate) a target host for the instance move. This patch
extends the this logic to support the extended resource request from
neutron.

As the changes in the neutron interface code is called from nova-compute
service during the port binding the compute service version is bumped.
And a check is added to the compute-api to reject the move operations
with ports having extended resource request if there are old computes
in the cluster.

blueprint: qos-minimum-guaranteed-packet-rate
Change-Id: Ibcf703e254e720b9a6de17527325758676628d48
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/800087/14 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutron.py', 'nova/tests/functional/integrated_helpers.py', 'nova/cmd/manage.py', 'nova/conductor/tasks/live_migrate.py', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py']",7,0f0769595dfa2073296057bff8b5fd901d1201d2,bp/qos-minimum-guaranteed-packet-rate, # TODO(gibi): this needs to be adapted to the new resource_request # format,,95,48
openstack%2Fcharm-mysql-innodb-cluster~master~I2133e45dd8d3f6b78c119471e0842417f9f89275,openstack/charm-mysql-innodb-cluster,master,I2133e45dd8d3f6b78c119471e0842417f9f89275,Workaroung charms.reactive bug to ensure hook doesn't fail,ABANDONED,2021-02-07 13:10:30.000000000,2021-09-01 09:50:30.000000000,,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-07 13:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/0c034a06db981bd45d09a5040f1e92e8e51a0952', 'message': ""Workaroung charms.reactive bug to ensure hook doesn't fail\n\nIt seems that charms.reactive can call a handler even when the condition\non the handler isn't met.  This is a very specific issue, in that it\nseems to only occur when the relation is departing.  The handle get's\ncalled (in this case when 'cluster.available' is still available), but\nthere is no relation object available (endpoint_from_flag('xxx') returns\nNone).  This crashes the hook.\n\nIn order to resolve this, acknowledge that charms.reactive might still\ninvoke the handler, and handle the None explicitly.\n\ncharms.reactive bug: https://github.com/juju-solutions/charms.reactive/issues/231\n\nChange-Id: I2133e45dd8d3f6b78c119471e0842417f9f89275\nCloses-Bug: #1896809\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/499\n""}, {'number': 2, 'created': '2021-02-08 12:47:02.000000000', 'files': ['src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/reactive/mysql_innodb_cluster_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/68a22c5ec068fd1d125144f1560ddcd8b31822c3', 'message': ""Workaroung charms.reactive bug to ensure hook doesn't fail\n\nIt seems that charms.reactive can call a handler even when the condition\non the handler isn't met.  This is a very specific issue, in that it\nseems to only occur when the relation is departing.  The handle get's\ncalled (in this case when 'cluster.available' is still available), but\nthere is no relation object available (endpoint_from_flag('xxx') returns\nNone).  This crashes the hook.\n\nIn order to resolve this, acknowledge that charms.reactive might still\ninvoke the handler, and handle the None explicitly.\n\ncharms.reactive bug: https://github.com/juju-solutions/charms.reactive/issues/231\n\nChange-Id: I2133e45dd8d3f6b78c119471e0842417f9f89275\nCloses-Bug: #1896809\n""}]",0,774376,68a22c5ec068fd1d125144f1560ddcd8b31822c3,13,4,2,20870,,,0,"Workaroung charms.reactive bug to ensure hook doesn't fail

It seems that charms.reactive can call a handler even when the condition
on the handler isn't met.  This is a very specific issue, in that it
seems to only occur when the relation is departing.  The handle get's
called (in this case when 'cluster.available' is still available), but
there is no relation object available (endpoint_from_flag('xxx') returns
None).  This crashes the hook.

In order to resolve this, acknowledge that charms.reactive might still
invoke the handler, and handle the None explicitly.

charms.reactive bug: https://github.com/juju-solutions/charms.reactive/issues/231

Change-Id: I2133e45dd8d3f6b78c119471e0842417f9f89275
Closes-Bug: #1896809
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/76/774376/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/reactive/mysql_innodb_cluster_handlers.py']",2,0c034a06db981bd45d09a5040f1e92e8e51a0952,bug/1896809," with charm.provide_charm_instance() as instance: if cluster is not None: ch_core.hookenv.log(""Send cluster connection information."", ""DEBUG"") cluster.set_cluster_connection_info( instance.cluster_address, instance.cluster_user, instance.cluster_password) with charm.provide_charm_instance() as instance: if cluster is not None: ch_core.hookenv.log(""Creating remote users."", ""DEBUG"") for unit in cluster.all_joined_units: if not instance.create_cluster_user( unit.received['cluster-address'], unit.received['cluster-user'], unit.received['cluster-password']): ch_core.hookenv.log(""Not all remote users created."", ""WARNING"") return # Optimize clustering by causing a cluster relation changed cluster.set_unit_configure_ready() reactive.set_flag('local.cluster.all-users-created') with charm.provide_charm_instance() as instance: if cluster is not None: ch_core.hookenv.log(""Configuring instances for clustering."", ""DEBUG"") for unit in cluster.all_joined_units: if unit.received['unit-configure-ready']: instance.configure_instance( unit.received['cluster-address']) instance.add_instance_to_cluster( unit.received['cluster-address']) # Verify all are configured for unit in cluster.all_joined_units: if not reactive.is_flag_set( ""leadership.set.cluster-instance-configured-{}"" .format(unit.received['cluster-address'])): return # All have been configured leadership.leader_set( {""cluster-instances-configured"": True}) with charm.provide_charm_instance() as instance: if cluster is not None: ch_core.hookenv.log(""Adding instances to cluster."", ""DEBUG"") for unit in cluster.all_joined_units: instance.add_instance_to_cluster( unit.received['cluster-address']) # Verify all are clustered for unit in cluster.all_joined_units: if not reactive.is_flag_set( ""leadership.set.cluster-instance-clustered-{}"" .format(unit.received['cluster-address'])): return # All have been clustered leadership.leader_set( {""cluster-instances-clustered"": True}) if (cluster is not None and reactive.is_flag_set( ""leadership.set.cluster-instance-clustered-{}"" .format(instance.cluster_address))): if tls is not None: req = cert_utils.CertRequest(json_encode=False) req.add_hostname_cn() # Deploys will be using 127.0.0.1 with mysql-router, but still # validate the certificate. # Add localhost for mysql-router connections req.add_hostname_cn_ip([ instance.cluster_address, instance.db_router_address, instance.shared_db_address, ""127.0.0.1""]) for cn, req in req.get_request().get('cert_requests', {}).items(): tls.add_request_server_cert(cn, req['sans']) tls.request_server_certs() if tls is not None: instance.configure_tls(tls) # make charms.openstack required relation check happy reactive.set_flag('certificates.connected') for flag in ('certificates.ca.changed', 'certificates.certs.changed'): if reactive.is_flag_set(flag): reactive.clear_flag(flag) if reactive.is_flag_set('leadership.is_leader'): db_router_respond() instance.assess_status()"," ch_core.hookenv.log(""Send cluster connection information."", ""DEBUG"") with charm.provide_charm_instance() as instance: cluster.set_cluster_connection_info( instance.cluster_address, instance.cluster_user, instance.cluster_password) ch_core.hookenv.log(""Creating remote users."", ""DEBUG"") with charm.provide_charm_instance() as instance: for unit in cluster.all_joined_units: if not instance.create_cluster_user( unit.received['cluster-address'], unit.received['cluster-user'], unit.received['cluster-password']): ch_core.hookenv.log(""Not all remote users created."", ""WARNING"") return # Optimize clustering by causing a cluster relation changed cluster.set_unit_configure_ready() reactive.set_flag('local.cluster.all-users-created') ch_core.hookenv.log(""Configuring instances for clustering."", ""DEBUG"") with charm.provide_charm_instance() as instance: for unit in cluster.all_joined_units: if unit.received['unit-configure-ready']: instance.configure_instance( unit.received['cluster-address']) instance.add_instance_to_cluster( unit.received['cluster-address']) # Verify all are configured for unit in cluster.all_joined_units: if not reactive.is_flag_set( ""leadership.set.cluster-instance-configured-{}"" .format(unit.received['cluster-address'])): return # All have been configured leadership.leader_set( {""cluster-instances-configured"": True}) ch_core.hookenv.log(""Adding instances to cluster."", ""DEBUG"") with charm.provide_charm_instance() as instance: for unit in cluster.all_joined_units: instance.add_instance_to_cluster( unit.received['cluster-address']) # Verify all are clustered for unit in cluster.all_joined_units: if not reactive.is_flag_set( ""leadership.set.cluster-instance-clustered-{}"" .format(unit.received['cluster-address'])): return # All have been clustered leadership.leader_set( {""cluster-instances-clustered"": True}) if reactive.is_flag_set( ""leadership.set.cluster-instance-clustered-{}"" .format(instance.cluster_address)): req = cert_utils.CertRequest(json_encode=False) req.add_hostname_cn() # Deploys will be using 127.0.0.1 with mysql-router, but still # validate the certificate. # Add localhost for mysql-router connections req.add_hostname_cn_ip([ instance.cluster_address, instance.db_router_address, instance.shared_db_address, ""127.0.0.1""]) for cn, req in req.get_request().get('cert_requests', {}).items(): tls.add_request_server_cert(cn, req['sans']) tls.request_server_certs() instance.configure_tls(tls) # make charms.openstack required relation check happy reactive.set_flag('certificates.connected') for flag in 'certificates.ca.changed', 'certificates.certs.changed': if reactive.is_flag_set(flag): reactive.clear_flag(flag) if reactive.is_flag_set('leadership.is_leader'): db_router_respond() instance.assess_status()",94,73
openstack%2Fcharm-guide~master~I78c16aec994e79ad17986ab32a86c4c57095ce1f,openstack/charm-guide,master,I78c16aec994e79ad17986ab32a86c4c57095ce1f,Add release timeline for 21.10,MERGED,2021-08-31 18:39:53.000000000,2021-09-01 09:46:52.000000000,2021-09-01 09:44:54.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-31 18:39:53.000000000', 'files': ['doc/source/release-schedule.rst', 'doc/source/release-timeline-2110.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/6a5316cbef4049dfcea39d99a2d761d7daa697e5', 'message': 'Add release timeline for 21.10\n\nAdd the timeline for 21.10 charm release\n\nAlso make the intro paragraph on the release schedule\npage less wordy.\n\nChange-Id: I78c16aec994e79ad17986ab32a86c4c57095ce1f\n'}]",0,806790,6a5316cbef4049dfcea39d99a2d761d7daa697e5,7,2,1,30561,,,0,"Add release timeline for 21.10

Add the timeline for 21.10 charm release

Also make the intro paragraph on the release schedule
page less wordy.

Change-Id: I78c16aec994e79ad17986ab32a86c4c57095ce1f
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/90/806790/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/release-schedule.rst', 'doc/source/release-timeline-2110.rst']",2,6a5316cbef4049dfcea39d99a2d761d7daa697e5,2110-docs,":orphan: ====================== 21.10 Release timeline ====================== +-----------------+-----------+----------------+-------------------------------------------------+ | Week | Countdown | Specific dates | Milestones | +=================+===========+================+=================================================+ | Aug 16 - Aug 20 | C-9 | Thu, Aug 19 | Ubuntu Impish feature freeze | +-----------------+-----------+----------------+-------------------------------------------------+ | Aug 30 - Sep 03 | C-7 | -- | OpenStack Xena feature freeze | +-----------------+-----------+----------------+-------------------------------------------------+ | Sep 13 - Sep 17 | C-5 | -- | new charm readiness checkpoint | | | | | * SQA touchpoint: request runs; firm up plans | +-----------------+-----------+----------------+-------------------------------------------------+ | Sep 20 - Sep 24 | C-4 | Thu, Sep 23 | Ubuntu Impish beta | +-----------------+-----------+----------------+-------------------------------------------------+ | Sep 27 - Oct 01 | C-3 | Fri, Oct 01 | 21.10 libraries freeze | | | | | * Lock upper-constraints.txt (if enabled) | | | | | * Final c-h sync and rebuild | +-----------------+-----------+----------------+-------------------------------------------------+ | Oct 04 - Oct 08 | C-2 | Fri, Oct 08 | 21.10 charm freeze | | | | | * documentation submitted | | | +----------------+-------------------------------------------------+ | | | -- | OpenStack Xena release | +-----------------+-----------+----------------+-------------------------------------------------+ | Oct 11 - Oct 15 | C-1 | Thu, Oct 14 | Ubuntu Impish release | +-----------------+-----------+----------------+-------------------------------------------------+ | Oct 18 - Oct 22 | C-0 | Wed, Oct 20 | 21.10 charm release | | | | | * `21.10 release notes`_ | +-----------------+-----------+----------------+-------------------------------------------------+ The weeks and countdown labels are not contiguous because some internal development stages have not been included. .. LINKS .. _21.10 release notes: 2110.html ",,44,6
openstack%2Fnova~master~I9060cc9cb9e0d5de641ade78c5fd7e1cc77ade46,openstack/nova,master,I9060cc9cb9e0d5de641ade78c5fd7e1cc77ade46,Support boot with extended resource request,MERGED,2021-07-08 17:07:37.000000000,2021-09-01 09:45:34.000000000,2021-08-31 21:38:15.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 17:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cddb146885ba46c9a5603798d4c94694219023d8', 'message': 'Support boot with extended resource request\n\nNote that some of the negative and SRIOV related interface attach\ntests are also started to pass as they are not dependent on the any\ninterface attach specific implementation. Still interface attach is\nbroken here as the failing of the positive tests show.\n\nTODO:\n* unit test coverage\n* service version bump\n* service version check in the API\n* remove blank rejection of boot\n* doc\n\nChange-Id: I9060cc9cb9e0d5de641ade78c5fd7e1cc77ade46\n'}, {'number': 2, 'created': '2021-07-09 14:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe682956c26fd530815cabfcd09aa610df037994', 'message': 'Support boot with extended resource request\n\nNote that some of the negative and SRIOV related interface attach\ntests are also started to pass as they are not dependent on the any\ninterface attach specific implementation. Still interface attach is\nbroken here as the failing of the positive tests show.\n\nTODO:\n* unit test coverage\n* service version bump\n* service version check in the API\n* remove blank rejection of boot\n* doc\n\nChange-Id: I9060cc9cb9e0d5de641ade78c5fd7e1cc77ade46\n'}, {'number': 3, 'created': '2021-07-09 16:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b432062377fbc6781e9e31772aca5ecb549245d', 'message': 'Support boot with extended resource request\n\nNote that some of the negative and SRIOV related interface attach\ntests are also started to pass as they are not dependent on the any\ninterface attach specific implementation. Still interface attach is\nbroken here as the failing of the positive tests show.\n\nTODO:\n* unit test coverage\n* doc\n\nChange-Id: I9060cc9cb9e0d5de641ade78c5fd7e1cc77ade46\n'}, {'number': 4, 'created': '2021-07-15 15:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d9c3d8b5daf9716fbf1ced124ba53b3ba46cf4d', 'message': 'Support boot with extended resource request\n\nNote that some of the negative and SRIOV related interface attach\ntests are also started to pass as they are not dependent on the any\ninterface attach specific implementation. Still interface attach is\nbroken here as the failing of the positive tests show.\n\nTODO:\n* unit test coverage\n* doc\n\nChange-Id: I9060cc9cb9e0d5de641ade78c5fd7e1cc77ade46\n'}, {'number': 5, 'created': '2021-07-15 18:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32ab2497f7fd3a24bf914c1d87614eae8ff197ed', 'message': 'Support boot with extended resource request\n\nNote that some of the negative and SRIOV related interface attach\ntests are also started to pass as they are not dependent on the any\ninterface attach specific implementation. Still interface attach is\nbroken here as the failing of the positive tests show.\n\nTODO:\n* unit test coverage\n* doc\n\nChange-Id: I9060cc9cb9e0d5de641ade78c5fd7e1cc77ade46\n'}, {'number': 6, 'created': '2021-07-15 19:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/756b108e5df8d827ab7957cbab80f43c04f914f9', 'message': 'Support boot with extended resource request\n\nNote that some of the negative and SRIOV related interface attach\ntests are also started to pass as they are not dependent on the any\ninterface attach specific implementation. Still interface attach is\nbroken here as the failing of the positive tests show.\n\nTODO:\n* unit test coverage\n* doc\n\nChange-Id: I9060cc9cb9e0d5de641ade78c5fd7e1cc77ade46\n'}, {'number': 7, 'created': '2021-07-16 17:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79a244da340828c4a4482fd889b38a24769332a1', 'message': 'Support boot with extended resource request\n\nNote that some of the negative and SRIOV related interface attach\ntests are also started to pass as they are not dependent on the any\ninterface attach specific implementation. Still interface attach is\nbroken here as the failing of the positive tests show.\n\nTODO:\n* unit test coverage\n* doc\n\nChange-Id: I9060cc9cb9e0d5de641ade78c5fd7e1cc77ade46\n'}, {'number': 8, 'created': '2021-07-19 14:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99102df9aa205413604e2c9f1468e6d5acaa73ea', 'message': 'Support boot with extended resource request\n\nNote that some of the negative and SRIOV related interface attach\ntests are also started to pass as they are not dependent on the any\ninterface attach specific implementation. Still interface attach is\nbroken here as the failing of the positive tests show.\n\nTODO:\n* unit test coverage\n\nChange-Id: I9060cc9cb9e0d5de641ade78c5fd7e1cc77ade46\n'}, {'number': 9, 'created': '2021-07-19 16:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2537074e108c4166064c546d3a5a015af2431af7', 'message': 'Support boot with extended resource request\n\nNote that some of the negative and SRIOV related interface attach\ntests are also started to pass as they are not dependent on the any\ninterface attach specific implementation. Still interface attach is\nbroken here as the failing of the positive tests show.\n\nTODO:\n* unit test coverage\n\nChange-Id: I9060cc9cb9e0d5de641ade78c5fd7e1cc77ade46\n'}, {'number': 10, 'created': '2021-07-20 12:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc9dbf42c8342fd0c1d2b858eeb3bdc5a59dd0df', 'message': 'Support boot with extended resource request\n\nNote that some of the negative and SRIOV related interface attach\ntests are also started to pass as they are not dependent on the any\ninterface attach specific implementation. Still interface attach is\nbroken here as the failing of the positive tests show.\n\nTODO:\n* unit test coverage\n\nChange-Id: I9060cc9cb9e0d5de641ade78c5fd7e1cc77ade46\n'}, {'number': 11, 'created': '2021-07-20 16:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9dcb2612af61afe3d34572f11931814f71be7008', 'message': 'Support boot with extended resource request\n\nThis adds the final missing pieces to support creating servers with\nports having extended resource request. As the changes in the neutron\ninterface code is called from nova-compute service during the port\nbinding the compute service version is bumped. And a check is added to\nthe compute-api to reject such server create requests if there are old\ncomputes in the cluster.\n\nNote that some of the negative and SRIOV related interface attach\ntests are also started to pass as they are not dependent on any of the\ninterface attach specific implementation. Still interface attach is\nbroken here as the failing of the positive tests show.\n\nChange-Id: I9060cc9cb9e0d5de641ade78c5fd7e1cc77ade46\n'}, {'number': 12, 'created': '2021-07-22 13:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5cf5b7cf0c6709b96aaa7e17123fb8405cf57740', 'message': 'Support boot with extended resource request\n\nThis adds the final missing pieces to support creating servers with\nports having extended resource request. As the changes in the neutron\ninterface code is called from nova-compute service during the port\nbinding the compute service version is bumped. And a check is added to\nthe compute-api to reject such server create requests if there are old\ncomputes in the cluster.\n\nNote that some of the negative and SRIOV related interface attach\ntests are also started to pass as they are not dependent on any of the\ninterface attach specific implementation. Still interface attach is\nbroken here as the failing of the positive tests show.\n\nChange-Id: I9060cc9cb9e0d5de641ade78c5fd7e1cc77ade46\n'}, {'number': 13, 'created': '2021-07-23 16:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e34200061f180108f00d23bd654b733f887981f', 'message': 'Support boot with extended resource request\n\nThis adds the final missing pieces to support creating servers with\nports having extended resource request. As the changes in the neutron\ninterface code is called from nova-compute service during the port\nbinding the compute service version is bumped. And a check is added to\nthe compute-api to reject such server create requests if there are old\ncomputes in the cluster.\n\nNote that some of the negative and SRIOV related interface attach\ntests are also started to pass as they are not dependent on any of the\ninterface attach specific implementation. Still interface attach is\nbroken here as the failing of the positive tests show.\n\nChange-Id: I9060cc9cb9e0d5de641ade78c5fd7e1cc77ade46\n'}, {'number': 14, 'created': '2021-08-16 17:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d1ae4edb9a8af56f0ad717209475bcb0ba8485e', 'message': 'Support boot with extended resource request\n\nThis adds the final missing pieces to support creating servers with\nports having extended resource request. As the changes in the neutron\ninterface code is called from nova-compute service during the port\nbinding the compute service version is bumped. And a check is added to\nthe compute-api to reject such server create requests if there are old\ncomputes in the cluster.\n\nNote that some of the negative and SRIOV related interface attach\ntests are also started to pass as they are not dependent on any of the\ninterface attach specific implementation. Still interface attach is\nbroken here as the failing of the positive tests show.\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I9060cc9cb9e0d5de641ade78c5fd7e1cc77ade46\n'}, {'number': 15, 'created': '2021-08-21 12:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63b7c99af546d6234043403672ceba4441e33a06', 'message': 'Support boot with extended resource request\n\nThis adds the final missing pieces to support creating servers with\nports having extended resource request. As the changes in the neutron\ninterface code is called from nova-compute service during the port\nbinding the compute service version is bumped. And a check is added to\nthe compute-api to reject such server create requests if there are old\ncomputes in the cluster.\n\nNote that some of the negative and SRIOV related interface attach\ntests are also started to pass as they are not dependent on any of the\ninterface attach specific implementation. Still interface attach is\nbroken here as the failing of the positive tests show.\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I9060cc9cb9e0d5de641ade78c5fd7e1cc77ade46\n'}, {'number': 16, 'created': '2021-08-22 10:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc5fe0b4433b8fe09c6248e64429b55c7952d32f', 'message': 'Support boot with extended resource request\n\nThis adds the final missing pieces to support creating servers with\nports having extended resource request. As the changes in the neutron\ninterface code is called from nova-compute service during the port\nbinding the compute service version is bumped. And a check is added to\nthe compute-api to reject such server create requests if there are old\ncomputes in the cluster.\n\nNote that some of the negative and SRIOV related interface attach\ntests are also started to pass as they are not dependent on any of the\ninterface attach specific implementation. Still interface attach is\nbroken here as the failing of the positive tests show.\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I9060cc9cb9e0d5de641ade78c5fd7e1cc77ade46\n'}, {'number': 17, 'created': '2021-08-27 16:11:37.000000000', 'files': ['doc/source/admin/ports-with-resource-requests.rst', 'nova/tests/unit/network/test_neutron.py', 'nova/exception.py', 'nova/network/neutron.py', 'nova/objects/service.py', 'nova/tests/unit/compute/test_compute.py', 'api-guide/source/port_with_resource_request.rst', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py', 'nova/tests/functional/test_servers_resource_request.py', 'nova/tests/unit/compute/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c3886c3ca758b32df8a58388d967dc3c0a5aebec', 'message': 'Support boot with extended resource request\n\nThis adds the final missing pieces to support creating servers with\nports having extended resource request. As the changes in the neutron\ninterface code is called from nova-compute service during the port\nbinding the compute service version is bumped. And a check is added to\nthe compute-api to reject such server create requests if there are old\ncomputes in the cluster.\n\nNote that some of the negative and SRIOV related interface attach\ntests are also started to pass as they are not dependent on any of the\ninterface attach specific implementation. Still interface attach is\nbroken here as the failing of the positive tests show.\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I9060cc9cb9e0d5de641ade78c5fd7e1cc77ade46\n'}]",17,800086,c3886c3ca758b32df8a58388d967dc3c0a5aebec,125,4,17,9708,,,0,"Support boot with extended resource request

This adds the final missing pieces to support creating servers with
ports having extended resource request. As the changes in the neutron
interface code is called from nova-compute service during the port
binding the compute service version is bumped. And a check is added to
the compute-api to reject such server create requests if there are old
computes in the cluster.

Note that some of the negative and SRIOV related interface attach
tests are also started to pass as they are not dependent on any of the
interface attach specific implementation. Still interface attach is
broken here as the failing of the positive tests show.

blueprint: qos-minimum-guaranteed-packet-rate

Change-Id: I9060cc9cb9e0d5de641ade78c5fd7e1cc77ade46
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/800086/16 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/network/neutron.py', 'nova/tests/functional/test_servers.py']",3,cddb146885ba46c9a5603798d4c94694219023d8,bp/qos-minimum-guaranteed-packet-rate,, # TODO(gibi): extend this with pps # pps_allocations = allocations[ # self.ovs_agent_rp_per_host[compute_rp_uuid]]['resources'] def test_boot_server_with_two_ports_one_having_resource_request(self): super().test_boot_server_with_two_ports_one_having_resource_request() @unittest.expectedFailure def test_one_ovs_one_sriov_port(self): super().test_one_ovs_one_sriov_port() @unittest.expectedFailure def test_interface_attach_with_resource_request_pci_claim_fails(self): super().test_interface_attach_with_resource_request_pci_claim_fails() @unittest.expectedFailure def test_interface_attach_sriov_with_qos_pci_update_fails(self): super().test_interface_attach_sriov_with_qos_pci_update_fails() @unittest.expectedFailure def test_interface_attach_sriov_with_qos_pci_update_fails_cleanup_fails( self ): super( ).test_interface_attach_sriov_with_qos_pci_update_fails_cleanup_fails() @unittest.expectedFailure @unittest.expectedFailure def test_two_sriov_ports_one_with_request_two_available_pfs(self): super().test_two_sriov_ports_one_with_request_two_available_pfs() @unittest.expectedFailure def test_one_sriov_port_no_vf_and_bandwidth_available_on_the_same_pf(self): super( ).test_one_sriov_port_no_vf_and_bandwidth_available_on_the_same_pf() @unittest.expectedFailure def test_sriov_macvtap_port_with_resource_request(self): super().test_sriov_macvtap_port_with_resource_request() ,94,47
openstack%2Fskyline-console~master~I89c49f76ec6af87bae70324d01d8fb6a3425781b,openstack/skyline-console,master,I89c49f76ec6af87bae70324d01d8fb6a3425781b,fix: Fix for project download,MERGED,2021-09-01 09:03:39.000000000,2021-09-01 09:45:24.000000000,2021-09-01 09:45:24.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-09-01 09:03:39.000000000', 'files': ['src/pages/identity/containers/Project/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/e25659ce6ea7e722524f07d44526a880a90eda55', 'message': 'fix: Fix for project download\n\nfix for project download\n\nChange-Id: I89c49f76ec6af87bae70324d01d8fb6a3425781b\n'}]",0,806875,e25659ce6ea7e722524f07d44526a880a90eda55,6,2,1,33636,,,0,"fix: Fix for project download

fix for project download

Change-Id: I89c49f76ec6af87bae70324d01d8fb6a3425781b
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/75/806875/1 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/identity/containers/Project/index.jsx'],1,e25659ce6ea7e722524f07d44526a880a90eda55,," stringify: (enabled) => (enabled ? t('Yes') : t('No')),",,1,0
openstack%2Fskyline-console~master~Ibad74c8a47658ba0e21613dccbbd422b8afff6bb,openstack/skyline-console,master,Ibad74c8a47658ba0e21613dccbbd422b8afff6bb,feat: Add tip for vcpus when creating flavor,MERGED,2021-09-01 08:41:06.000000000,2021-09-01 09:26:25.000000000,2021-09-01 09:26:25.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-09-01 08:41:06.000000000', 'files': ['src/locales/en.json', 'src/locales/zh.json', 'src/pages/compute/containers/Flavor/actions/StepCreate/ParamSetting.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/2b14e14f87c346b7e6c58a5314d7c89d891b4543', 'message': 'feat: Add tip for vcpus when creating flavor\n\nadd tip for vcpus when creating flavor\n\nChange-Id: Ibad74c8a47658ba0e21613dccbbd422b8afff6bb\n'}]",0,806871,2b14e14f87c346b7e6c58a5314d7c89d891b4543,6,2,1,33636,,,0,"feat: Add tip for vcpus when creating flavor

add tip for vcpus when creating flavor

Change-Id: Ibad74c8a47658ba0e21613dccbbd422b8afff6bb
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/71/806871/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/en.json', 'src/locales/zh.json', 'src/pages/compute/containers/Flavor/actions/StepCreate/ParamSetting.jsx']",3,2b14e14f87c346b7e6c58a5314d7c89d891b4543,," extra: t( 'The number of vCPU cores should not exceed the maximum number of CPU cores of the physical node. Otherwise it will cause fail to schedule to any physical node when creating instance.' ),",,5,0
openstack%2Fskyline-console~master~I549925ee1403de99e9a543936bb4f4d44e764b4e,openstack/skyline-console,master,I549925ee1403de99e9a543936bb4f4d44e764b4e,feat: Add filter for fip port forwarding & fix download,MERGED,2021-09-01 08:32:17.000000000,2021-09-01 09:16:25.000000000,2021-09-01 09:16:25.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-09-01 08:32:17.000000000', 'files': ['src/pages/network/containers/FloatingIp/index.jsx', 'src/pages/network/containers/FloatingIp/Detail/PortForwarding/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/08c558a3ef3b5a745699c8fe40a4976d1a67d788', 'message': 'feat: Add filter for fip port forwarding & fix download\n\n1. add filter for fip port forwarding\n2. fix for download\n3. make external_port not hideable\n\nChange-Id: I549925ee1403de99e9a543936bb4f4d44e764b4e\n'}]",0,806867,08c558a3ef3b5a745699c8fe40a4976d1a67d788,6,2,1,33636,,,0,"feat: Add filter for fip port forwarding & fix download

1. add filter for fip port forwarding
2. fix for download
3. make external_port not hideable

Change-Id: I549925ee1403de99e9a543936bb4f4d44e764b4e
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/67/806867/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/network/containers/FloatingIp/index.jsx', 'src/pages/network/containers/FloatingIp/Detail/PortForwarding/index.jsx']",2,08c558a3ef3b5a745699c8fe40a4976d1a67d788,," this.downloadStore = new PortForwardingStore(); updateFetchParamsByPage = (params) => { get isFilterByBackend() { return true; } return [ { label: t('Protocol'), name: 'protocol', options: [ { label: 'TCP', key: 'tcp', }, { label: 'UDP', key: 'udp', }, ], }, { label: t('External Port'), name: 'external_port', }, ];"," get isFilterByBackend() { return true; } updateFetchParams = (params) => { isHideable: true, return [];",40,9
openstack%2Fopenstacksdk~feature%2Fr1~I8a69a1d32d4ba822e824864d9d22919a549c02d6,openstack/openstacksdk,feature/r1,I8a69a1d32d4ba822e824864d9d22919a549c02d6,Vpn ike policy resource,MERGED,2021-07-08 12:54:11.000000000,2021-09-01 09:15:39.000000000,2021-09-01 09:12:17.000000000,"[{'_account_id': 2}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-07-08 12:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0c2b3a40a96a09621e10d49f2b620a0c74ecfae6', 'message': 'Vpn ike policy resource\n\nChange-Id: I8a69a1d32d4ba822e824864d9d22919a549c02d6\n'}, {'number': 2, 'created': '2021-07-21 09:35:20.000000000', 'files': ['doc/source/user/resources/network/index.rst', 'openstack/tests/unit/network/v2/test_proxy.py', 'doc/source/user/resources/network/v2/ikepolicy.rst', 'openstack/network/v2/_proxy.py', 'doc/source/user/proxies/network.rst', 'openstack/tests/unit/network/v2/test_ikepolicy.py', 'openstack/network/v2/ikepolicy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1909df1f4219fbf2a1bb0f9ba087ef39758ffded', 'message': 'Vpn ike policy resource\n\nChange-Id: I8a69a1d32d4ba822e824864d9d22919a549c02d6\n'}]",1,800031,1909df1f4219fbf2a1bb0f9ba087ef39758ffded,11,4,2,32787,,,0,"Vpn ike policy resource

Change-Id: I8a69a1d32d4ba822e824864d9d22919a549c02d6
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/31/800031/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/resources/network/index.rst', 'openstack/tests/unit/network/v2/test_proxy.py', 'doc/source/user/resources/network/v2/ikepolicy.rst', 'openstack/network/v2/_proxy.py', 'doc/source/user/proxies/network.rst', 'openstack/tests/unit/network/v2/test_ikepolicy.py', 'openstack/network/v2/ikepolicy.py']",7,0c2b3a40a96a09621e10d49f2b620a0c74ecfae6,ike-policy-resource,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack import resource class IkePolicy(resource.Resource): resource_key = 'ikepolicy' resources_key = 'ikepolicies' base_path = '/vpn/ikepolicies' # capabilities allow_create = True allow_fetch = True allow_commit = True allow_delete = True allow_list = True # Properties #: The authentication hash algorithm. Valid values are sha1, # sha256, sha384, sha512. The default is sha1. auth_algorithm = resource.Body('auth_algorithm') #: A human-readable description for the resource. # Default is an empty string. description = resource.Body('description') #: The encryption algorithm. A valid value is 3des, aes-128, # aes-192, aes-256, and so on. Default is aes-128. encryption_algorithm = resource.Body('encryption_algorithm') #: The IKE version. A valid value is v1 or v2. Default is v1. ike_version = resource.Body('ike_version') #: The lifetime of the security association. The lifetime consists # of a unit and integer value. You can omit either the unit or value # portion of the lifetime. Default unit is seconds and # default value is 3600. lifetime = resource.Body('lifetime', type=dict) #: Human-readable name of the resource. Default is an empty string. name = resource.Body('name') #: Perfect forward secrecy (PFS). A valid value is Group2, # Group5, Group14, and so on. Default is Group5. pfs = resource.Body('pfs') #: The ID of the project. project_id = resource.Body('tenant_id') #: The IKE mode. A valid value is main, which is the default. phase1_negotiation_mode = resource.Body('phase1_negotiation_mode') #: The units for the lifetime of the security association. # The lifetime consists of a unit and integer value. # You can omit either the unit or value portion of the lifetime. # Default unit is seconds and default value is 3600. units = resource.Body('units') #: The lifetime value, as a positive integer. The lifetime # consists of a unit and integer value. # You can omit either the unit or value portion of the lifetime. # Default unit is seconds and default value is 3600. value = resource.Body('value', type=int) ",,259,0
openstack%2Fopenstacksdk~feature%2Fr1~I1e012471badcf6264dced53354472abd8312f62c,openstack/openstacksdk,feature/r1,I1e012471badcf6264dced53354472abd8312f62c,Add user group assignment support in identity,MERGED,2021-08-26 16:28:59.000000000,2021-09-01 09:14:22.000000000,2021-09-01 09:12:16.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-08-26 16:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e1575e0d6f1f3d37b8b767053436965b31765d1b', 'message': 'Add user group assignment support in identity\n\nAdd possibility to add/remove/check user into/from group.\n\nChange-Id: I1e012471badcf6264dced53354472abd8312f62c\n'}, {'number': 2, 'created': '2021-08-27 07:07:49.000000000', 'files': ['openstack/cloud/_identity.py', 'openstack/identity/v3/group.py', 'doc/source/user/proxies/identity_v3.rst', 'openstack/identity/v3/_proxy.py', 'releasenotes/notes/add-user-group-assignment-9c419b6c6bfe392c.yaml', 'openstack/tests/unit/identity/v3/test_group.py', 'openstack/tests/unit/identity/v3/test_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d7d6464c6df1c5649792096e89969c2e79751019', 'message': 'Add user group assignment support in identity\n\nAdd possibility to add/remove/check user into/from group.\n\nChange-Id: I1e012471badcf6264dced53354472abd8312f62c\n'}]",0,806242,d7d6464c6df1c5649792096e89969c2e79751019,11,2,2,27900,,,0,"Add user group assignment support in identity

Add possibility to add/remove/check user into/from group.

Change-Id: I1e012471badcf6264dced53354472abd8312f62c
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/42/806242/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/_identity.py', 'openstack/identity/v3/group.py', 'doc/source/user/proxies/identity_v3.rst', 'openstack/identity/v3/_proxy.py', 'openstack/tests/unit/identity/v3/test_group.py', 'releasenotes/notes/add-user-group-assignment-9c419b6c6bfe392c.yaml', 'openstack/tests/unit/identity/v3/test_proxy.py']",7,e1575e0d6f1f3d37b8b767053436965b31765d1b,,"class TestIdentityProxyCredential(TestIdentityProxyBase): class TestIdentityProxyDomain(TestIdentityProxyBase): class TestIdentityProxyEndpoint(TestIdentityProxyBase): class TestIdentityProxyGroup(TestIdentityProxyBase): def test_add_user_to_group(self): self._verify( ""openstack.identity.v3.group.Group.add_user"", self.proxy.add_user_to_group, method_args=['uid', 'gid'], expected_args=[ self.proxy, self.proxy._get_resource(user.User, 'uid'), ] ) def test_remove_user_from_group(self): self._verify( ""openstack.identity.v3.group.Group.remove_user"", self.proxy.remove_user_from_group, method_args=['uid', 'gid'], expected_args=[ self.proxy, self.proxy._get_resource(user.User, 'uid'), ] ) def test_check_user_in_group(self): self._verify( ""openstack.identity.v3.group.Group.check_user"", self.proxy.check_user_in_group, method_args=['uid', 'gid'], expected_args=[ self.proxy, self.proxy._get_resource(user.User, 'uid'), ] ) class TestIdentityProxyPolicy(TestIdentityProxyBase): class TestIdentityProxyProject(TestIdentityProxyBase): class TestIdentityProxyService(TestIdentityProxyBase): class TestIdentityProxyUser(TestIdentityProxyBase): class TestIdentityProxyTrust(TestIdentityProxyBase): class TestIdentityProxyRegion(TestIdentityProxyBase): class TestIdentityProxyRole(TestIdentityProxyBase): ",class TestIdentityProxy(TestIdentityProxyBase):,191,20
openstack%2Ftelemetry-tempest-plugin~master~I6cddccfef0c1929d312bcb05f3a15ca240f61e18,openstack/telemetry-tempest-plugin,master,I6cddccfef0c1929d312bcb05f3a15ca240f61e18,Focus testing on train and wallaby,MERGED,2021-08-18 16:04:53.000000000,2021-09-01 09:09:06.000000000,2021-09-01 09:09:06.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 16:04:53.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/d5c98fde19ff5198d2360dd7dde1ea401bc383e4', 'message': 'Focus testing on train and wallaby\n\nStein is dead, the current long term supported releases\nare train and wallaby.\n\nChange-Id: I6cddccfef0c1929d312bcb05f3a15ca240f61e18\n'}]",0,805051,d5c98fde19ff5198d2360dd7dde1ea401bc383e4,6,2,1,4264,,,0,"Focus testing on train and wallaby

Stein is dead, the current long term supported releases
are train and wallaby.

Change-Id: I6cddccfef0c1929d312bcb05f3a15ca240f61e18
",git fetch https://review.opendev.org/openstack/telemetry-tempest-plugin refs/changes/51/805051/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d5c98fde19ff5198d2360dd7dde1ea401bc383e4,test_wallaby, - stable/wallaby name: telemetry-dsvm-integration-wallaby override-checkout: stable/wallaby - telemetry-dsvm-integration-wallaby, - stable/stein name: telemetry-dsvm-integration-ussuri override-checkout: stable/ussuri - telemetry-dsvm-integration-ussuri,4,4
openstack%2Fdevstack~stable%2Fwallaby~Ic0f696b46dce3dba529b53a8f9de8cda6b913c7b,openstack/devstack,stable/wallaby,Ic0f696b46dce3dba529b53a8f9de8cda6b913c7b,[CI] Drop CentOS Linux 8 job and nodeset,MERGED,2021-08-26 06:37:40.000000000,2021-09-01 09:08:00.000000000,2021-09-01 08:56:08.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-26 06:37:40.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/05c1af45b90c8f76a401f16306f902a4c933fad0', 'message': '[CI] Drop CentOS Linux 8 job and nodeset\n\nCentOS Stream 8 (aka CentOS 8 Stream) is the currently\nsupported runtime platform. [0]\n\nDevStack works with CentOS Stream only now. [1]\n\nThe only usage of the nodeset being dropped is handled by the\nDepends-On.\n\n[0] https://governance.openstack.org/tc/reference/runtimes/xena.html\n[1] https://review.opendev.org/c/openstack/devstack/+/759122\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/795159\nChange-Id: Ic0f696b46dce3dba529b53a8f9de8cda6b913c7b\n(cherry picked from commit 81937a230a8adb5c028db5a9ba9abf59b122a2ac)\n'}]",1,806090,05c1af45b90c8f76a401f16306f902a4c933fad0,9,3,1,13861,,,0,"[CI] Drop CentOS Linux 8 job and nodeset

CentOS Stream 8 (aka CentOS 8 Stream) is the currently
supported runtime platform. [0]

DevStack works with CentOS Stream only now. [1]

The only usage of the nodeset being dropped is handled by the
Depends-On.

[0] https://governance.openstack.org/tc/reference/runtimes/xena.html
[1] https://review.opendev.org/c/openstack/devstack/+/759122

Depends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/795159
Change-Id: Ic0f696b46dce3dba529b53a8f9de8cda6b913c7b
(cherry picked from commit 81937a230a8adb5c028db5a9ba9abf59b122a2ac)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/90/806090/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,05c1af45b90c8f76a401f16306f902a4c933fad0,c8s,, name: devstack-single-node-centos-8 nodes: - name: controller label: centos-8 groups: - name: tempest nodes: - controller - nodeset: name: devstack-platform-centos-8 parent: tempest-full-py3 description: Centos 8 platform test nodeset: devstack-single-node-centos-8 voting: false timeout: 9000 - job: - devstack-platform-centos-8,0,19
openstack%2Fdevstack~stable%2Fwallaby~I508eceb00d7501ffcfac73d7bc2272badb241494,openstack/devstack,stable/wallaby,I508eceb00d7501ffcfac73d7bc2272badb241494,Fix Usage of rdo-release rpm,MERGED,2021-07-30 16:46:42.000000000,2021-09-01 09:05:51.000000000,2021-09-01 08:56:06.000000000,"[{'_account_id': 1}, {'_account_id': 1921}, {'_account_id': 4146}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-30 16:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1b8bb22c99c112ab8a238b9c5fd5cfc2ce671df4', 'message': 'Fix Usage of rdo-release rpm\n\nrdo-release.el8.rpm rpm points to latest RDO release,\nso use it for master, for stable releases use corresponding\nrelease rpm.\n\nChange-Id: I508eceb00d7501ffcfac73d7bc2272badb241494\n'}, {'number': 2, 'created': '2021-08-16 06:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/63e8b100865ff6fb54e13176399ea5c4deed1438', 'message': '[Wallaby Only] Switch to CentOS 8 Stream\n\nRDO Wallaby was released for C8-Stream Only[0][1] so devstack\nwallaby C8 jobs do not work on C8 Linux, hence need to switch to\nC8 Stream.\n\n[0] https://blogs.rdoproject.org/2021/01/rdo-plans-to-move-to-centos-stream/\n[1] https://blogs.rdoproject.org/2021/05/rdo-wallaby-released/\n\nSquashed following 4 commits:-\nCheck centos-8-stream\n\nCentOS Stream 8 (aka CentOS 8 Stream) is the currently\nsupported runtime platform. [0]\n\nSome background history:\nThe Manila team has asked QA to test centos-8-stream\nin the common gate.\nA bit later it turned out the point releases of CentOS 8 (aka\nCentOS Linux 8) will stop happening entirely by the end of 2021.\n[1]\n\nIncludes a workaround to the edk2-ovmf issue on CentOS Stream 8\nx86_64.\n\n[0] https://governance.openstack.org/tc/reference/runtimes/xena.html\n[1] https://lists.centos.org/pipermail/centos-devel/2020-December/075451.html\n\nChange-Id: Iee5a262af757f27f79ba1d6f790e949427dca190\n(cherry picked from commit 96509ea025459ac077d2c85289da7725c53235cf)\n\nRevert edk2 workaround\n\nIt is not needed anymore.\n\nChange-Id: I706a33b0a7c737a23b9a7270af1e53e5de83c66f\n(cherry picked from commit 808331488dc16afdf9bd4c2c3103a4a8fc9a6209)\n\n[CI] Drop CentOS Linux 8 job and nodeset\n\nCentOS Stream 8 (aka CentOS 8 Stream) is the currently\nsupported runtime platform. [0]\n\nDevStack works with CentOS Stream only now. [1]\n\nThe only usage of the nodeset being dropped is handled by the\nDepends-On.\n\n[0] https://governance.openstack.org/tc/reference/runtimes/xena.html\n[1] https://review.opendev.org/c/openstack/devstack/+/759122\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/795159\nChange-Id: Ic0f696b46dce3dba529b53a8f9de8cda6b913c7b\n(cherry picked from commit 81937a230a8adb5c028db5a9ba9abf59b122a2ac)\n\nFix Usage of rdo-release rpm\n\nrdo-release.el8.rpm rpm points to latest RDO release,\nso use it for master, for stable releases use corresponding\nrelease rpm.\n\nChange-Id: I508eceb00d7501ffcfac73d7bc2272badb241494\n(cherry picked from commit 0456baaee5309431cd1f88ba4a0ceaa7f050b743)\n'}, {'number': 3, 'created': '2021-08-19 14:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/97e9fc78927a53a1a6e18a65425df3da4df47323', 'message': '[Wallaby Only] Switch to CentOS 8 Stream\n\nRDO Wallaby was released for C8-Stream Only[0][1] so devstack\nwallaby C8 jobs do not work on C8 Linux, hence need to switch to\nC8 Stream.\n\n[0] https://blogs.rdoproject.org/2021/01/rdo-plans-to-move-to-centos-stream/\n[1] https://blogs.rdoproject.org/2021/05/rdo-wallaby-released/\n\nSquashed following 4 commits:-\nCheck centos-8-stream\n\nCentOS Stream 8 (aka CentOS 8 Stream) is the currently\nsupported runtime platform. [0]\n\nSome background history:\nThe Manila team has asked QA to test centos-8-stream\nin the common gate.\nA bit later it turned out the point releases of CentOS 8 (aka\nCentOS Linux 8) will stop happening entirely by the end of 2021.\n[1]\n\nIncludes a workaround to the edk2-ovmf issue on CentOS Stream 8\nx86_64.\n\n[0] https://governance.openstack.org/tc/reference/runtimes/xena.html\n[1] https://lists.centos.org/pipermail/centos-devel/2020-December/075451.html\n\nChange-Id: Iee5a262af757f27f79ba1d6f790e949427dca190\n(cherry picked from commit 96509ea025459ac077d2c85289da7725c53235cf)\n\nRevert edk2 workaround\n\nIt is not needed anymore.\n\nChange-Id: I706a33b0a7c737a23b9a7270af1e53e5de83c66f\n(cherry picked from commit 808331488dc16afdf9bd4c2c3103a4a8fc9a6209)\n\n[CI] Drop CentOS Linux 8 job and nodeset\n\nCentOS Stream 8 (aka CentOS 8 Stream) is the currently\nsupported runtime platform. [0]\n\nDevStack works with CentOS Stream only now. [1]\n\nThe only usage of the nodeset being dropped is handled by the\nDepends-On.\n\n[0] https://governance.openstack.org/tc/reference/runtimes/xena.html\n[1] https://review.opendev.org/c/openstack/devstack/+/759122\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/795159\nChange-Id: Ic0f696b46dce3dba529b53a8f9de8cda6b913c7b\n(cherry picked from commit 81937a230a8adb5c028db5a9ba9abf59b122a2ac)\n\nFix Usage of rdo-release rpm\n\nrdo-release.el8.rpm rpm points to latest RDO release,\nso use it for master, for stable releases use corresponding\nrelease rpm.\n\nChange-Id: I508eceb00d7501ffcfac73d7bc2272badb241494\n(cherry picked from commit 0456baaee5309431cd1f88ba4a0ceaa7f050b743)\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/805147\n'}, {'number': 4, 'created': '2021-08-19 15:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/dfcf6c7b2dca59c4fc458f440b38b1ac3f4c55fe', 'message': '[Wallaby Only] Switch to CentOS 8 Stream\n\nRDO Wallaby was released for C8-Stream Only[0][1] so devstack\nwallaby C8 jobs do not work on C8 Linux, hence need to switch to\nC8 Stream.\n\n[0] https://blogs.rdoproject.org/2021/01/rdo-plans-to-move-to-centos-stream/\n[1] https://blogs.rdoproject.org/2021/05/rdo-wallaby-released/\n\nSquashed following 5 commits:-\nCheck centos-8-stream\n\nCentOS Stream 8 (aka CentOS 8 Stream) is the currently\nsupported runtime platform. [0]\n\nSome background history:\nThe Manila team has asked QA to test centos-8-stream\nin the common gate.\nA bit later it turned out the point releases of CentOS 8 (aka\nCentOS Linux 8) will stop happening entirely by the end of 2021.\n[1]\n\nIncludes a workaround to the edk2-ovmf issue on CentOS Stream 8\nx86_64.\n\n[0] https://governance.openstack.org/tc/reference/runtimes/xena.html\n[1] https://lists.centos.org/pipermail/centos-devel/2020-December/075451.html\n\nChange-Id: Iee5a262af757f27f79ba1d6f790e949427dca190\n(cherry picked from commit 96509ea025459ac077d2c85289da7725c53235cf)\n\nRevert edk2 workaround\n\nIt is not needed anymore.\n\nChange-Id: I706a33b0a7c737a23b9a7270af1e53e5de83c66f\n(cherry picked from commit 808331488dc16afdf9bd4c2c3103a4a8fc9a6209)\n\n[CI] Drop CentOS Linux 8 job and nodeset\n\nCentOS Stream 8 (aka CentOS 8 Stream) is the currently\nsupported runtime platform. [0]\n\nDevStack works with CentOS Stream only now. [1]\n\nThe only usage of the nodeset being dropped is handled by the\nDepends-On.\n\n[0] https://governance.openstack.org/tc/reference/runtimes/xena.html\n[1] https://review.opendev.org/c/openstack/devstack/+/759122\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/795159\nChange-Id: Ic0f696b46dce3dba529b53a8f9de8cda6b913c7b\n(cherry picked from commit 81937a230a8adb5c028db5a9ba9abf59b122a2ac)\n\nFix Usage of rdo-release rpm\n\nrdo-release.el8.rpm rpm points to latest RDO release,\nso use it for master, for stable releases use corresponding\nrelease rpm.\n\nSet swap size to 4G for c8 jobs\n\nTempest is failing randomly with different reasons\nas mentioned in the bug, updating swap size those\nissues are not seen.\n\nBefore [1] default swap size used to be 8GB but was dropped\nto 1G so need to configure it in required job itself.\n\nDid couple of tests in [2] and with 4GB+ swap jobs are\nrunning green. On investigation found that with qemu-5\nboth Ubuntu and CentOS jobs have memory crunch, currently\nUbuntu jobs are not impacted as they are running with\nqemu-4.\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/750941\n[2] https://review.opendev.org/c/openstack/devstack/+/803144\n\nCloses-Bug: #1938914\nChange-Id: I57910b5fde5ddf2bd37d93e06c1aff77c6e231e9\n(cherry picked from commit 60b5538c337dfa3c8f60fecdc64e671acd1f1cbe)\n\nChange-Id: I508eceb00d7501ffcfac73d7bc2272badb241494\n(cherry picked from commit 0456baaee5309431cd1f88ba4a0ceaa7f050b743)\n'}, {'number': 5, 'created': '2021-08-20 23:05:13.000000000', 'files': ['.zuul.yaml', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/058b2fbb8cab02db1e5041066a8b1f91dc8c4810', 'message': 'Fix Usage of rdo-release rpm\n\nrdo-release.el8.rpm rpm points to latest RDO release,\nso use it for master, for stable releases use corresponding\nrelease rpm.\n\nIn addition to backport this commit:\n\n1. Add centos8-stream job to show fix is working fine becasue\nthere is no centos8 repo for wallaby and centos8 job does not validate\nthis backport. We can remove the centos8 job later in follow up. I\ndid not it in this commit to keep this backport as clean as possible.\n\n2. backport below commit to fix centos8-stream job\n\nSet swap size to 4G for c8 jobs\n\nTempest is failing randomly with different reasons\nas mentioned in the bug, updating swap size those\nissues are not seen.\n\nBefore [1] default swap size used to be 8GB but was dropped\nto 1G so need to configure it in required job itself.\n\nDid couple of tests in [2] and with 4GB+ swap jobs are\nrunning green. On investigation found that with qemu-5\nboth Ubuntu and CentOS jobs have memory crunch, currently\nUbuntu jobs are not impacted as they are running with\nqemu-4.\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/750941\n[2] https://review.opendev.org/c/openstack/devstack/+/803144\n\nCloses-Bug: #1938914\nChange-Id: I57910b5fde5ddf2bd37d93e06c1aff77c6e231e9\n(cherry picked from commit 60b5538c337dfa3c8f60fecdc64e671acd1f1cbe)\n\nChange-Id: I508eceb00d7501ffcfac73d7bc2272badb241494\n(cherry picked from commit 0456baaee5309431cd1f88ba4a0ceaa7f050b743)\n'}]",5,803071,058b2fbb8cab02db1e5041066a8b1f91dc8c4810,36,14,5,8556,,,0,"Fix Usage of rdo-release rpm

rdo-release.el8.rpm rpm points to latest RDO release,
so use it for master, for stable releases use corresponding
release rpm.

In addition to backport this commit:

1. Add centos8-stream job to show fix is working fine becasue
there is no centos8 repo for wallaby and centos8 job does not validate
this backport. We can remove the centos8 job later in follow up. I
did not it in this commit to keep this backport as clean as possible.

2. backport below commit to fix centos8-stream job

Set swap size to 4G for c8 jobs

Tempest is failing randomly with different reasons
as mentioned in the bug, updating swap size those
issues are not seen.

Before [1] default swap size used to be 8GB but was dropped
to 1G so need to configure it in required job itself.

Did couple of tests in [2] and with 4GB+ swap jobs are
running green. On investigation found that with qemu-5
both Ubuntu and CentOS jobs have memory crunch, currently
Ubuntu jobs are not impacted as they are running with
qemu-4.

[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/750941
[2] https://review.opendev.org/c/openstack/devstack/+/803144

Closes-Bug: #1938914
Change-Id: I57910b5fde5ddf2bd37d93e06c1aff77c6e231e9
(cherry picked from commit 60b5538c337dfa3c8f60fecdc64e671acd1f1cbe)

Change-Id: I508eceb00d7501ffcfac73d7bc2272badb241494
(cherry picked from commit 0456baaee5309431cd1f88ba4a0ceaa7f050b743)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/71/803071/2 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,1b8bb22c99c112ab8a238b9c5fd5cfc2ce671df4,c8s," if [[ ""$TARGET_BRANCH"" == ""master"" ]]; then # rdo-release.el8.rpm points to latest RDO release, use that for master sudo dnf -y install https://rdoproject.org/repos/rdo-release.el8.rpm else # For stable branches use corresponding release rpm rdo_release=$(echo $TARGET_BRANCH | sed ""s|stable/||g"") sudo dnf -y install https://rdoproject.org/repos/openstack-${rdo_release}/rdo-release-${rdo_release}.el8.rpm fi"," # NOTE(ianw) 2020-04-30 : when we have future branches, we # probably want to install the relevant branch RDO release as # well. But for now it's all master. sudo dnf -y install https://rdoproject.org/repos/rdo-release.el8.rpm",8,4
openstack%2Fskyline-console~master~I825050097ec763fa6ef6db2bbd9a2955e62f7a13,openstack/skyline-console,master,I825050097ec763fa6ef6db2bbd9a2955e62f7a13,fix: Fix for security groups,MERGED,2021-09-01 08:08:53.000000000,2021-09-01 08:59:32.000000000,2021-09-01 08:59:32.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-09-01 08:08:53.000000000', 'files': ['src/components/TableButton/RuleButton.jsx', 'jsconfig.json', 'src/pages/network/containers/VirtualAdapter/Detail/SecurityGroups/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/44b8a7d2974ec355c2e082a5268e54a4db4dc80c', 'message': 'fix: Fix for security groups\n\n1. fix for security groups page in port detail\n2. add loading for security groups in port detail\n\nChange-Id: I825050097ec763fa6ef6db2bbd9a2955e62f7a13\n'}]",0,806861,44b8a7d2974ec355c2e082a5268e54a4db4dc80c,6,2,1,33636,,,0,"fix: Fix for security groups

1. fix for security groups page in port detail
2. add loading for security groups in port detail

Change-Id: I825050097ec763fa6ef6db2bbd9a2955e62f7a13
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/61/806861/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/components/TableButton/RuleButton.jsx', 'jsconfig.json', 'src/pages/network/containers/VirtualAdapter/Detail/SecurityGroups/index.jsx']",3,44b8a7d2974ec355c2e082a5268e54a4db4dc80c,," <Spin spinning={security_groups.isLoading}> {security_groups.data && security_groups.data.length !== 0 ? ( ) : ( <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} style={{ backgroundColor: 'white', padding: '32px 0' }} /> )} </Spin>"," {security_groups.data && security_groups.data.length !== 0 ? ( <Spin spinning={security_groups.isLoading}> </Spin> ) : ( <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} style={{ backgroundColor: 'white', padding: '32px 0' }} /> )}",14,10
openstack%2Fskyline-console~master~I1eabd674b475f627ae4b70d21a6cfe2f87ef84ee,openstack/skyline-console,master,I1eabd674b475f627ae4b70d21a6cfe2f87ef84ee,fix: Check status of instance when attaching port,MERGED,2021-09-01 08:15:51.000000000,2021-09-01 08:59:30.000000000,2021-09-01 08:59:30.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-09-01 08:15:51.000000000', 'files': ['src/pages/network/containers/VirtualAdapter/actions/Attach.jsx', 'src/resources/instance.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/62fa7f3dd1ac58de54988b741a4ae1530e4533ed', 'message': 'fix: Check status of instance when attaching port\n\ncheck status of instance when attaching port\n\nChange-Id: I1eabd674b475f627ae4b70d21a6cfe2f87ef84ee\n'}]",0,806863,62fa7f3dd1ac58de54988b741a4ae1530e4533ed,6,2,1,33636,,,0,"fix: Check status of instance when attaching port

check status of instance when attaching port

Change-Id: I1eabd674b475f627ae4b70d21a6cfe2f87ef84ee
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/63/806863/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/network/containers/VirtualAdapter/actions/Attach.jsx', 'src/resources/instance.jsx']",2,62fa7f3dd1ac58de54988b741a4ae1530e4533ed,," export const allowAttachInterfaceStatus = ['active', 'paused', 'stopped'];",,8,1
openstack%2Freleases~master~I9f422804e0c005d705cea5f757d93a836fe48fe8,openstack/releases,master,I9f422804e0c005d705cea5f757d93a836fe48fe8,Release keystone for stable/ussuri,MERGED,2021-07-23 17:13:42.000000000,2021-09-01 08:31:37.000000000,2021-09-01 08:31:37.000000000,"[{'_account_id': 16465}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-23 17:13:42.000000000', 'files': ['deliverables/ussuri/keystone.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/345a3a2d2aae81feb8b1c9ebdcf51b3a8e4b30e3', 'message': 'Release keystone for stable/ussuri\n\nThis release picks up new commits to keystone since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 17.0.0..2cf2912fd\n8ab4eb27b Hide AccountLocked exception from end users\n07d3a3d3f Retry update_user when sqlalchemy raises StaleDataErrors\n6b739ffc3 Use app cred user ID in policy enforcement\nd55c6c705 Drop lower-constraints job\nf4819fe36 Support bytes type in generate_public_ID()\n7ac089137 Delete system role assignments from system_assignment table\n35c7406bf Implement more robust connection handling for asynchronous LDAP calls\nc202bd506 Add vine to lower-constraints\nd5870f69c Properly handle octet (byte) strings when converting LDAP responses\n300e79e93 Fix lower-constraint for PyMySQL\n1c37797c5 Port the grenade multinode job to Zuul v3\n6b8e036ba Fix UserNotFound exception for expiring groups\n1f0603598 Switch to new grenade job name\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I9f422804e0c005d705cea5f757d93a836fe48fe8\n'}]",0,802069,345a3a2d2aae81feb8b1c9ebdcf51b3a8e4b30e3,10,4,1,17685,,,0,"Release keystone for stable/ussuri

This release picks up new commits to keystone since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 17.0.0..2cf2912fd
8ab4eb27b Hide AccountLocked exception from end users
07d3a3d3f Retry update_user when sqlalchemy raises StaleDataErrors
6b739ffc3 Use app cred user ID in policy enforcement
d55c6c705 Drop lower-constraints job
f4819fe36 Support bytes type in generate_public_ID()
7ac089137 Delete system role assignments from system_assignment table
35c7406bf Implement more robust connection handling for asynchronous LDAP calls
c202bd506 Add vine to lower-constraints
d5870f69c Properly handle octet (byte) strings when converting LDAP responses
300e79e93 Fix lower-constraint for PyMySQL
1c37797c5 Port the grenade multinode job to Zuul v3
6b8e036ba Fix UserNotFound exception for expiring groups
1f0603598 Switch to new grenade job name

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I9f422804e0c005d705cea5f757d93a836fe48fe8
",git fetch https://review.opendev.org/openstack/releases refs/changes/69/802069/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/keystone.yaml'],1,345a3a2d2aae81feb8b1c9ebdcf51b3a8e4b30e3,ussuri-stable, - version: 17.0.1 projects: - repo: openstack/keystone hash: 2cf2912fd4d23bd8515313eafc77c6df92c68b81,,4,0
openstack%2Freleases~master~I9c032fc02a4825dc59de283e357f2e3f248188b5,openstack/releases,master,I9c032fc02a4825dc59de283e357f2e3f248188b5,[ironic] Transition Ocata to End of Life,MERGED,2021-08-12 18:59:19.000000000,2021-09-01 08:28:20.000000000,2021-09-01 08:28:20.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-12 18:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b389c50689113cc643961366a96d3b558f62181d', 'message': ""[ironic] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I9c032fc02a4825dc59de283e357f2e3f248188b5\n""}, {'number': 2, 'created': '2021-08-12 20:14:37.000000000', 'files': ['deliverables/ocata/networking-generic-switch.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b6d2701a7fd67e7fcce9da3b1a737e2373e3b3f0', 'message': ""[ironic] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I9c032fc02a4825dc59de283e357f2e3f248188b5\n""}]",0,804453,b6d2701a7fd67e7fcce9da3b1a737e2373e3b3f0,12,7,2,17685,,,0,"[ironic] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I9c032fc02a4825dc59de283e357f2e3f248188b5
",git fetch https://review.opendev.org/openstack/releases refs/changes/53/804453/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/networking-generic-switch.yaml'],1,b389c50689113cc643961366a96d3b558f62181d,ocata-eol,--- storyboard: openstack/networking-generic-switch team: ironic type: other release-model: cycle-with-intermediary releases: - version: ocata-em projects: - repo: openstack/networking-generic-switch hash: 5832e974992640a424dd822efe665a873b39d3d9 repository-settings: openstack/networking-generic-switch: {} ,,12,0
openstack%2Freleases~master~I14dc477e0e5b77c1ec7b2b4031407d7252d85891,openstack/releases,master,I14dc477e0e5b77c1ec7b2b4031407d7252d85891,Release swift for stable/ussuri,MERGED,2021-07-23 20:50:26.000000000,2021-09-01 08:28:18.000000000,2021-09-01 08:28:18.000000000,"[{'_account_id': 15343}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-23 20:50:26.000000000', 'files': ['deliverables/ussuri/swift.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/af49ea98d95411c81863f90ffcc4570c944e4794', 'message': ""Release swift for stable/ussuri\n\nThis release picks up new commits to swift since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 2.25.1..4b0d6a87e\n29eefcd0d Dep's should be restricted by upper-constraints\n18d8c15f9 symlink: Ensure headers are returned as a list on py3\n4a38f62b2 tempurl: Fix PUT upload to temp url on py3\ne69b3c60f Avoid loops when gathering container listings from shards\n18cdf9b56 Populate shrinking shards with shard ranges learnt from root\n5791cec31 Use swiftclient Connections in sharding probe tests\n959a98d7b Refactor audit shard tests\n760528cb7 container-sharding: Stable overlap order\n94346b134 Address a sharder/replicator race\neef68d69c Identify deleted shards as shards\nf4061c043 swift-container-info: Show shard ranges summary\n8588296dc Don't auto-create shard containers\n0da122383 Latch shard-stat reporting\nd1b997889 py27: Suppress UnicodeWarnings in ShardRange setters\n1b3b77696 sharding: Add probe test that exercises swift-manage-shard-ranges\n9491d73a6 Give probe tests a second chance to pass\n69c93dcb1 Bump up probe test timeout\nebc023f53 Bump up timeouts for DSVM and probe test jobs\n067328c8d Give unit tests a second chance to pass\n2e487b42d s3-tests: Use my s3compat fork instead\n9820aad4a s3-tests: Only try to copy outputs when there *are* outputs\na357fc66a sharding: Don't inject shard ranges when user says quit\n69a95a52a Prevent upgrading to pip 21+\nb6d320b1d Memcached client TLS support\n41bec521f [stable-only] Cap bandit to 1.6.2\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I14dc477e0e5b77c1ec7b2b4031407d7252d85891\n""}]",0,802123,af49ea98d95411c81863f90ffcc4570c944e4794,10,4,1,17685,,,0,"Release swift for stable/ussuri

This release picks up new commits to swift since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 2.25.1..4b0d6a87e
29eefcd0d Dep's should be restricted by upper-constraints
18d8c15f9 symlink: Ensure headers are returned as a list on py3
4a38f62b2 tempurl: Fix PUT upload to temp url on py3
e69b3c60f Avoid loops when gathering container listings from shards
18cdf9b56 Populate shrinking shards with shard ranges learnt from root
5791cec31 Use swiftclient Connections in sharding probe tests
959a98d7b Refactor audit shard tests
760528cb7 container-sharding: Stable overlap order
94346b134 Address a sharder/replicator race
eef68d69c Identify deleted shards as shards
f4061c043 swift-container-info: Show shard ranges summary
8588296dc Don't auto-create shard containers
0da122383 Latch shard-stat reporting
d1b997889 py27: Suppress UnicodeWarnings in ShardRange setters
1b3b77696 sharding: Add probe test that exercises swift-manage-shard-ranges
9491d73a6 Give probe tests a second chance to pass
69c93dcb1 Bump up probe test timeout
ebc023f53 Bump up timeouts for DSVM and probe test jobs
067328c8d Give unit tests a second chance to pass
2e487b42d s3-tests: Use my s3compat fork instead
9820aad4a s3-tests: Only try to copy outputs when there *are* outputs
a357fc66a sharding: Don't inject shard ranges when user says quit
69a95a52a Prevent upgrading to pip 21+
b6d320b1d Memcached client TLS support
41bec521f [stable-only] Cap bandit to 1.6.2

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I14dc477e0e5b77c1ec7b2b4031407d7252d85891
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/802123/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/swift.yaml'],1,af49ea98d95411c81863f90ffcc4570c944e4794,ussuri-stable, - version: 2.25.2 projects: - repo: openstack/swift hash: 4b0d6a87e9b2d0a032fe3b3a85e6fef0e5e8839f,,4,0
openstack%2Fironic-ui~master~I19741f36d0bd08e49faa5be222adce9eb61b41a5,openstack/ironic-ui,master,I19741f36d0bd08e49faa5be222adce9eb61b41a5,Remove testr,MERGED,2021-05-20 07:39:02.000000000,2021-09-01 08:25:13.000000000,2021-09-01 08:23:05.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-05-20 07:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/9fc270b30701b0f9ed241f07736d13771bb6c149', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore and test-requirements.txt files accordingly\n* Use 3.18.0 as the minversion for tox\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: I19741f36d0bd08e49faa5be222adce9eb61b41a5\n'}, {'number': 2, 'created': '2021-05-21 06:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/0d5ee4c0304f844f4481d5539f26da873f805bd6', 'message': ""Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore and test-requirements.txt files accordingly\n* Use 3.18.0 as the minversion for tox\n* Add 17.1.0 as lower bound for 'horizon' package in\n  doc/requirements.txt\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: I19741f36d0bd08e49faa5be222adce9eb61b41a5\n""}, {'number': 3, 'created': '2021-05-21 13:44:23.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/258bd56effc2c3d7075049c5871fdfb435c5bac1', 'message': ""Remove testr\n\n* Remove .testr.conf as it's not used anywhere\n* Remove .testrepository from .gitignore\n* Use 3.18.0 as the minversion for tox\n* Add 17.1.0 as lower bound for 'horizon' package in\n  doc/requirements.txt\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: I19741f36d0bd08e49faa5be222adce9eb61b41a5\n""}]",5,792324,258bd56effc2c3d7075049c5871fdfb435c5bac1,23,5,3,33370,,,0,"Remove testr

* Remove .testr.conf as it's not used anywhere
* Remove .testrepository from .gitignore
* Use 3.18.0 as the minversion for tox
* Add 17.1.0 as lower bound for 'horizon' package in
  doc/requirements.txt

Signed-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>
Change-Id: I19741f36d0bd08e49faa5be222adce9eb61b41a5
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/24/792324/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', 'tox.ini', '.stestr.conf']",5,9fc270b30701b0f9ed241f07736d13771bb6c149,stestr,[DEFAULT] test_path=./ironic_ui/test/tests/ top_dir=./ ,,19,15
openstack%2Freleases~master~Ibc2e2c947122a4914e75ad8e078c65cdce0daec5,openstack/releases,master,Ibc2e2c947122a4914e75ad8e078c65cdce0daec5,Release final python-zunclient for Xena,MERGED,2021-08-30 14:10:11.000000000,2021-09-01 08:12:46.000000000,2021-09-01 08:12:46.000000000,"[{'_account_id': 11536}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-30 14:10:11.000000000', 'files': ['deliverables/xena/python-zunclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3d7143e00c1101d1da82c8b820d477be93ab5e4b', 'message': 'Release final python-zunclient for Xena\n\nThis proposed a release for python-zunclient to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 02.\n\n$ git log --oneline --no-merges 4.2.0..75e228d\n7ca6a6b Uncap PrettyTable\n6e7e579 setup.cfg: Replace dashes with underscores\n6b6c09e Use py3 as the default runtime for tox\ndc8db03 Add Python3 xena unit tests\n49d0e41 Update master for stable/wallaby\nbbc32db remove unicode from code\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ibc2e2c947122a4914e75ad8e078c65cdce0daec5\n'}]",0,806597,3d7143e00c1101d1da82c8b820d477be93ab5e4b,11,6,1,28522,,,0,"Release final python-zunclient for Xena

This proposed a release for python-zunclient to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 02.

$ git log --oneline --no-merges 4.2.0..75e228d
7ca6a6b Uncap PrettyTable
6e7e579 setup.cfg: Replace dashes with underscores
6b6c09e Use py3 as the default runtime for tox
dc8db03 Add Python3 xena unit tests
49d0e41 Update master for stable/wallaby
bbc32db remove unicode from code

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ibc2e2c947122a4914e75ad8e078c65cdce0daec5
",git fetch https://review.opendev.org/openstack/releases refs/changes/97/806597/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/python-zunclient.yaml'],1,3d7143e00c1101d1da82c8b820d477be93ab5e4b,xena-milestone-3,releases: - version: 4.3.0 projects: - repo: openstack/python-zunclient hash: 75e228daef99ff2f1f2ef4028d074389107b0d2b,,5,0
openstack%2Fskyline-console~master~I530fa6fe1359696b10ddf879ff99093cbbbd1e88,openstack/skyline-console,master,I530fa6fe1359696b10ddf879ff99093cbbbd1e88,fix: Fix for getGBValue return,MERGED,2021-09-01 06:38:56.000000000,2021-09-01 07:59:43.000000000,2021-09-01 07:59:43.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-09-01 06:38:56.000000000', 'files': ['src/utils/index.js', 'src/utils/index.test.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/4a41e9a9bf37090827b50388cd20751e5a01837b', 'message': 'fix: Fix for getGBValue return\n\nfix for getGBValue return\n\nChange-Id: I530fa6fe1359696b10ddf879ff99093cbbbd1e88\n'}]",0,806845,4a41e9a9bf37090827b50388cd20751e5a01837b,6,2,1,33636,,,0,"fix: Fix for getGBValue return

fix for getGBValue return

Change-Id: I530fa6fe1359696b10ddf879ff99093cbbbd1e88
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/45/806845/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/utils/index.js', 'src/utils/index.test.js']",2,4a41e9a9bf37090827b50388cd20751e5a01837b,, expect(getGBValue(true)).toBe(0); expect(getGBValue(false)).toBe(0); expect(getGBValue(null)).toBe(0); expect(getGBValue(undefined)).toBe(0); expect(getGBValue(NaN)).toBe(0); expect(getGBValue('')).toBe(0); expect(getGBValue(0)).toBe(0);, expect(getGBValue(true)).toBe(''); expect(getGBValue(false)).toBe(''); expect(getGBValue(null)).toBe(''); expect(getGBValue(undefined)).toBe(''); expect(getGBValue(NaN)).toBe(''); expect(getGBValue('')).toBe(''); expect(getGBValue(0)).toBe('');,8,8
openstack%2Fpython-neutronclient~master~I611c5bc47562f8def9a8623117b7b0655474b555,openstack/python-neutronclient,master,I611c5bc47562f8def9a8623117b7b0655474b555,Ussuri+ is python3 only and update python to python3,MERGED,2021-05-06 01:51:23.000000000,2021-09-01 07:45:39.000000000,2021-09-01 07:43:35.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16237}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 01:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/dbba9af90bffe6115cf9f865a2aa10a3600f402f', 'message': 'Ussuri+ is python3 only and update python to python3\n\nChange-Id: I611c5bc47562f8def9a8623117b7b0655474b555\n'}, {'number': 2, 'created': '2021-06-24 01:43:18.000000000', 'files': ['neutronclient/tests/unit/test_cli20_floatingips.py', 'neutronclient/tests/unit/test_quota.py', 'neutronclient/tests/unit/test_cli20_securitygroup.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/a1ebfaa7f22e71fb59eea05ff11bbfe5bede41ba', 'message': 'Ussuri+ is python3 only and update python to python3\n\nTo remove the useless shebang\n\nChange-Id: I611c5bc47562f8def9a8623117b7b0655474b555\n'}]",2,789972,a1ebfaa7f22e71fb59eea05ff11bbfe5bede41ba,14,4,2,31827,,,0,"Ussuri+ is python3 only and update python to python3

To remove the useless shebang

Change-Id: I611c5bc47562f8def9a8623117b7b0655474b555
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/72/789972/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutronclient/tests/unit/test_cli20_floatingips.py', 'neutronclient/tests/unit/test_quota.py', 'neutronclient/tests/unit/test_cli20_securitygroup.py']",3,dbba9af90bffe6115cf9f865a2aa10a3600f402f,,#!/usr/bin/env python3,#!/usr/bin/env python,3,3
openstack%2Fskyline-console~master~I90103a394cbb01c02c31a278f0413c12560752ca,openstack/skyline-console,master,I90103a394cbb01c02c31a278f0413c12560752ca,fix: Fix for refresh and then delete allowed-address-pair,MERGED,2021-09-01 06:30:54.000000000,2021-09-01 07:38:43.000000000,2021-09-01 07:38:43.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-09-01 06:30:54.000000000', 'files': ['src/pages/network/containers/VirtualAdapter/Detail/AllowedAddressPair/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/b421f04a3f4cc8c9bf985842420a10ee12b99de3', 'message': 'fix: Fix for refresh and then delete allowed-address-pair\n\nfix for refresh and then delete allowed-address-pair\n\nChange-Id: I90103a394cbb01c02c31a278f0413c12560752ca\n'}]",0,806841,b421f04a3f4cc8c9bf985842420a10ee12b99de3,6,2,1,33636,,,0,"fix: Fix for refresh and then delete allowed-address-pair

fix for refresh and then delete allowed-address-pair

Change-Id: I90103a394cbb01c02c31a278f0413c12560752ca
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/41/806841/1 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/network/containers/VirtualAdapter/Detail/AllowedAddressPair/index.jsx'],1,b421f04a3f4cc8c9bf985842420a10ee12b99de3,, // because of the father component use new Store // so set detail to globalStore to share data this.store.setDetail(this.props.detail);,,3,0
openstack%2Fcyborg-tempest-plugin~master~I466054ec38a1f3d8a4628c8ccdfff40ad1300298,openstack/cyborg-tempest-plugin,master,I466054ec38a1f3d8a4628c8ccdfff40ad1300298,Add assertion information for batch delete device profile testcase,MERGED,2021-06-08 02:33:44.000000000,2021-09-01 07:16:19.000000000,2021-09-01 07:16:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-06-08 02:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/e111d4b2a62849b3756b60619d839f2f91b4521d', 'message': 'Add assertion information for batch delete device profile testcase\n\nAdd assertion information for batch delete device profile by names\n\nChange-Id: I466054ec38a1f3d8a4628c8ccdfff40ad1300298\n'}, {'number': 2, 'created': '2021-08-20 08:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/b649dc37242e008c6894fb6ea72c79e6496edb73', 'message': 'Add assertion information for batch delete device profile testcase\n\nAdd assertion information for batch delete device profile by names\n\nChange-Id: I466054ec38a1f3d8a4628c8ccdfff40ad1300298\n'}, {'number': 3, 'created': '2021-08-20 09:39:09.000000000', 'files': ['cyborg_tempest_plugin/tests/api/test_device_profile.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/4a8f3feeb90f7c88d6eaa91223d33503ce8c306e', 'message': 'Add assertion information for batch delete device profile testcase\n\nAdd assertion information for batch delete device profile by names\n\nChange-Id: I466054ec38a1f3d8a4628c8ccdfff40ad1300298\n'}]",3,795199,4a8f3feeb90f7c88d6eaa91223d33503ce8c306e,13,4,3,30409,,,0,"Add assertion information for batch delete device profile testcase

Add assertion information for batch delete device profile by names

Change-Id: I466054ec38a1f3d8a4628c8ccdfff40ad1300298
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/99/795199/3 && git format-patch -1 --stdout FETCH_HEAD,['cyborg_tempest_plugin/tests/api/test_device_profile.py'],1,e111d4b2a62849b3756b60619d839f2f91b4521d,master1," list_resp = self.os_admin.cyborg_client.list_device_profile() device_profile_list = list_resp['device_profiles'] device_profile_name_list = [it['name'] for it in device_profile_list] self.assertNotIn(dp_one[0]['name'], device_profile_name_list) self.assertNotIn(dp_two[0]['name'], device_profile_name_list)",,5,0
openstack%2Fskyline-console~master~I40f6a413f275a215d63d592c7818d200bd6c7a9d,openstack/skyline-console,master,I40f6a413f275a215d63d592c7818d200bd6c7a9d,fix: Fix for create & edit fip port forwarding,MERGED,2021-09-01 06:22:43.000000000,2021-09-01 07:08:54.000000000,2021-09-01 07:08:54.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-09-01 06:22:43.000000000', 'files': ['src/pages/network/containers/FloatingIp/actions/CreateDNAT.jsx', 'src/pages/network/containers/FloatingIp/Detail/PortForwarding/actions/Edit.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/85a9a831b9464dd82561966f0786a54232c311f8', 'message': 'fix: Fix for create & edit fip port forwarding\n\nfix for create & edit fip port forwarding\n\nChange-Id: I40f6a413f275a215d63d592c7818d200bd6c7a9d\n'}]",0,806839,85a9a831b9464dd82561966f0786a54232c311f8,6,2,1,33636,,,0,"fix: Fix for create & edit fip port forwarding

fix for create & edit fip port forwarding

Change-Id: I40f6a413f275a215d63d592c7818d200bd6c7a9d
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/39/806839/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/network/containers/FloatingIp/actions/CreateDNAT.jsx', 'src/pages/network/containers/FloatingIp/Detail/PortForwarding/actions/Edit.jsx']",2,85a9a831b9464dd82561966f0786a54232c311f8,," fixed_ip_address: { selectedRowKeys: [internal_ip_address], selectedRows: [{ fixed_ip_address: internal_ip_address }], }, static policy = 'update_floatingip_port_forwarding'; required: true, validator: (_, val) => { if (!val) { return Promise.reject( new Error(`${t('Please input')} ${t('External Port')}`) ); } required: true, validator: (_, val) => { if (!val) { return Promise.reject( new Error(`${t('Please input')} ${t('Internal Port')}`) ); }"," static policy = 'update_floatingip'; validator: (_, val) => { validator: (_, val) => {",31,3
openstack%2Fskyline-console~master~Ic63b81538027bb1481f40d52e471b517a3ca8786,openstack/skyline-console,master,Ic63b81538027bb1481f40d52e471b517a3ca8786,fix: Fix for checkPolicy function change,MERGED,2021-09-01 05:49:40.000000000,2021-09-01 06:31:46.000000000,2021-09-01 06:31:46.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-09-01 05:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/83c1a1e086a42a54632dea0668cbf70c138a0a3b', 'message': 'fix: Fix for checkPolicy function change\n\nfix for checkPolicy function chagne\n\nChange-Id: Ic63b81538027bb1481f40d52e471b517a3ca8786\n'}, {'number': 2, 'created': '2021-09-01 05:50:21.000000000', 'files': ['src/pages/network/containers/Network/Detail/subnetActions/EditSubnet.jsx', 'src/pages/network/containers/Network/actions/CreateNetwork.jsx', 'src/pages/network/containers/Network/actions/Edit.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/1afc27e20df3b2e5509f15eafa49e3626080a2c0', 'message': 'fix: Fix for checkPolicy function change\n\nfix for checkPolicy function chagne\n\nChange-Id: Ic63b81538027bb1481f40d52e471b517a3ca8786\n'}]",0,806835,1afc27e20df3b2e5509f15eafa49e3626080a2c0,7,3,2,33636,,,0,"fix: Fix for checkPolicy function change

fix for checkPolicy function chagne

Change-Id: Ic63b81538027bb1481f40d52e471b517a3ca8786
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/35/806835/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/network/containers/Network/Detail/subnetActions/EditSubnet.jsx', 'src/pages/network/containers/Network/actions/CreateNetwork.jsx', 'src/pages/network/containers/Network/actions/Edit.jsx']",3,83c1a1e086a42a54632dea0668cbf70c138a0a3b,,import { checkPolicyRule } from 'resources/policy'; if (!this.isSystemAdmin && item.project_id !== rootStore.user.project.id) { return checkPolicyRule('skyline:system_admin');,"import checkPolicy, { checkPolicyRule } from 'resources/policy'; if ( !checkPolicyRule('skyline:system_admin') && item.project_id !== rootStore.user.project.id ) { return checkPolicy({ rules: ['skyline:system_admin'], every: false, });",7,14
openstack%2Fcharm-rabbitmq-server~master~I175d31380064627c071a99221560f9b227540b77,openstack/charm-rabbitmq-server,master,I175d31380064627c071a99221560f9b227540b77,Add quorum mirrored queues,NEW,2020-09-02 18:33:23.000000000,2021-09-01 06:31:41.000000000,,"[{'_account_id': 2424}, {'_account_id': 10366}, {'_account_id': 14567}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 32438}]","[{'number': 1, 'created': '2020-09-02 18:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/be24e64c206b01b65a5e8860a5c256a0654a78c3', 'message': 'Add quorum mirrored queues\n\nThe `ha-mode`: `all` for mirrored queues is very conservative and is\nnot recommended by upstream [1]. Instead the more performant (N / 2 +\n1) mirroring to a quorum is the suggested alternative to retain HA and\nat the same time be more efficient.\n\nThis change changes the semantics of the `mirroring-queues`\nconfiguration option from Boolean to String with possible values of\n`all` (the default) and `quorum` which enables mirroring to (N / 2 +\n1) nodes.\n\n[1] https://www.rabbitmq.com/ha.html#mirroring-arguments\n\nChange-Id: I175d31380064627c071a99221560f9b227540b77\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 2, 'created': '2020-09-02 18:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/536024f4b214de36593fede8fd7a749410577eed', 'message': 'Add quorum mirrored queues\n\nThe `ha-mode`: `all` for mirrored queues is very conservative and is\nnot recommended by upstream [1]. Instead the more performant (N / 2 +\n1) mirroring to a quorum is the suggested alternative to retain HA and\nat the same time be more efficient.\n\nThis change changes the semantics of the `mirroring-queues`\nconfiguration option from Boolean to String with possible values of\n`all` (the default) and `quorum` which enables mirroring to (N / 2 +\n1) nodes.\n\nThe `ha-mode` option `exactly` is available at since\n`rabbitmq-server-3.0.0`.\n\n[1] https://www.rabbitmq.com/ha.html#mirroring-arguments\n\nChange-Id: I175d31380064627c071a99221560f9b227540b77\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 3, 'created': '2020-09-02 19:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/e8f6a644d4dce9ed75377f2776fa32dae3eb0de9', 'message': 'Add quorum mirrored queues\n\nThe `ha-mode`: `all` for mirrored queues is very conservative and is\nnot recommended by upstream [1]. Instead the more performant (N / 2 +\n1) mirroring to a quorum is the suggested alternative to retain HA and\nat the same time be more efficient.\n\nThis change changes the semantics of the `mirroring-queues`\nconfiguration option from Boolean to String with possible values of\n`all` (the default) and `quorum` which enables mirroring to (N / 2 +\n1) nodes.\n\nThe `ha-mode` option `exactly` is available at since\n`rabbitmq-server-3.0.0`.\n\n[1] https://www.rabbitmq.com/ha.html#mirroring-arguments\n\nChange-Id: I175d31380064627c071a99221560f9b227540b77\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 4, 'created': '2020-09-02 20:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/baa93e9a48b3b4427c276eb761fe0015dd70cdb0', 'message': 'Add quorum mirrored queues\n\nThe `ha-mode`: `all` for mirrored queues is very conservative and is\nnot recommended by upstream [1]. Instead the more performant (N / 2 +\n1) mirroring to a quorum is the suggested alternative to retain HA and\nat the same time be more efficient.\n\nThis change changes the semantics of the `mirroring-queues`\nconfiguration option from Boolean to String with possible values of\n`all` (the default) and `quorum` which enables mirroring to (N / 2 +\n1) nodes.\n\nThe `ha-mode` option `exactly` is available at since\n`rabbitmq-server-3.0.0`.\n\n[1] https://www.rabbitmq.com/ha.html#mirroring-arguments\n\nChange-Id: I175d31380064627c071a99221560f9b227540b77\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 5, 'created': '2020-09-03 11:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/0d40f7f1d03b22045e95adc3b3583a2737053b6b', 'message': 'Add quorum mirrored queues\n\nThe `ha-mode`: `all` for mirrored queues is very conservative and is\nnot recommended by upstream [1]. Instead the more performant (N / 2 +\n1) mirroring to a quorum is the suggested alternative to retain HA and\nat the same time be more efficient.\n\nThis change changes the semantics of the `mirroring-queues`\nconfiguration option from Boolean to String with possible values of\n`all` (the default) and `quorum` which enables mirroring to (N / 2 +\n1) nodes.\n\nThe `ha-mode` option `exactly` is available at since\n`rabbitmq-server-3.0.0`.\n\n[1] https://www.rabbitmq.com/ha.html#mirroring-arguments\n\nChange-Id: I175d31380064627c071a99221560f9b227540b77\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 6, 'created': '2020-09-03 12:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/ec1f4c8fb6d4923fd2649313c462d7f27c10ad58', 'message': 'Add quorum mirrored queues\n\nThe `ha-mode`: `all` for mirrored queues is very conservative and is\nnot recommended by upstream [1]. Instead the more performant (N / 2 +\n1) mirroring to a quorum is the suggested alternative to retain HA and\nat the same time be more efficient.\n\nThis change changes the semantics of the `mirroring-queues`\nconfiguration option from Boolean to String with possible values of\n`all` (the default) and `quorum` which enables mirroring to (N / 2 +\n1) nodes.\n\nThe `ha-mode` option `exactly` is available at since\n`rabbitmq-server-3.0.0`.\n\n[1] https://www.rabbitmq.com/ha.html#mirroring-arguments\n\nChange-Id: I175d31380064627c071a99221560f9b227540b77\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 7, 'created': '2021-04-29 18:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/7599835fb06c2139bc19adb456bb042e9ec57d3f', 'message': 'Add quorum mirrored queues\n\nThe `ha-mode`: `all` for mirrored queues is very conservative and is\nnot recommended by upstream [1]. Instead the more performant (N / 2 +\n1) mirroring to a quorum is the suggested alternative to retain HA and\nat the same time be more efficient.\n\nThis change changes the semantics of the `mirroring-queues`\nconfiguration option from Boolean to String with possible values of\n`all` (the default) and `quorum` which enables mirroring to (N / 2 +\n1) nodes.\n\nThe `ha-mode` option `exactly` is available at since\n`rabbitmq-server-3.0.0`.\n\n[1] https://www.rabbitmq.com/ha.html#mirroring-arguments\n\nChange-Id: I175d31380064627c071a99221560f9b227540b77\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 8, 'created': '2021-04-29 20:32:38.000000000', 'files': ['unit_tests/test_rabbitmq_server_relations.py', 'hooks/rabbitmq_server_relations.py', 'config.yaml', 'hooks/rabbit_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/39b1d2567702b3587ebbba339fa113493f864b71', 'message': 'Add quorum mirrored queues\n\nThe `ha-mode`: `all` for mirrored queues is very conservative and is\nnot recommended by upstream [1]. Instead the more performant (N / 2 +\n1) mirroring to a quorum is the suggested alternative to retain HA and\nat the same time be more efficient.\n\nThis change changes the semantics of the `mirroring-queues`\nconfiguration option from Boolean to String with possible values of\n`all` (the default) and `quorum` which enables mirroring to (N / 2 +\n1) nodes.\n\nThe `ha-mode` option `exactly` is available at since\n`rabbitmq-server-3.0.0`.\n\n[1] https://www.rabbitmq.com/ha.html#mirroring-arguments\n\nChange-Id: I175d31380064627c071a99221560f9b227540b77\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}]",10,749571,39b1d2567702b3587ebbba339fa113493f864b71,38,7,8,19298,,,0,"Add quorum mirrored queues

The `ha-mode`: `all` for mirrored queues is very conservative and is
not recommended by upstream [1]. Instead the more performant (N / 2 +
1) mirroring to a quorum is the suggested alternative to retain HA and
at the same time be more efficient.

This change changes the semantics of the `mirroring-queues`
configuration option from Boolean to String with possible values of
`all` (the default) and `quorum` which enables mirroring to (N / 2 +
1) nodes.

The `ha-mode` option `exactly` is available at since
`rabbitmq-server-3.0.0`.

[1] https://www.rabbitmq.com/ha.html#mirroring-arguments

Change-Id: I175d31380064627c071a99221560f9b227540b77
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/71/749571/5 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_rabbitmq_server_relations.py', 'hooks/rabbitmq_server_relations.py', 'config.yaml', 'hooks/rabbit_utils.py']",4,be24e64c206b01b65a5e8860a5c256a0654a78c3,mirror_quorum,"def set_all_mirroring_queues(mode): :param mode: if 'all' then enable mirroring queue for all the vhosts, if 'quorum' then enable quorum mirroring, otherwise the HA policy is removed if mode in ['all', 'quorum']: if mode == 'all': if mode == 'quorum': set_ha_mode(vhost, 'exactly', params=(config('min-cluster-size') // 2 + 1))","def set_all_mirroring_queues(enable): :param enable: if True then enable mirroring queue for all the vhosts, otherwise the HA policy is removed if enable: if enable:",21,14
openstack%2Ftripleo-ci~master~I448a8d6d2dad94cb413a8f82adb85867c043f5b7,openstack/tripleo-ci,master,I448a8d6d2dad94cb413a8f82adb85867c043f5b7,Enable supported container-tools before login,MERGED,2021-08-30 21:18:52.000000000,2021-09-01 06:16:12.000000000,2021-09-01 06:16:12.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-08-30 21:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/df3ea1fb7157e52a428b68de7c142c02380dd0d0', 'message': 'DNM: Test enable container-tools via plugin module\n\nChange-Id: I448a8d6d2dad94cb413a8f82adb85867c043f5b7\n'}, {'number': 2, 'created': '2021-08-30 21:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7975ec13bbf62c6f4747930d93898224b1106e20', 'message': 'DNM: Test enable container-tools via plugin module\n\nChange-Id: I448a8d6d2dad94cb413a8f82adb85867c043f5b7\n'}, {'number': 3, 'created': '2021-08-30 21:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/84be3a0891e49d5b345f41bcc86143f30e63247f', 'message': 'DNM: Test enable container-tools via plugin module\n\nChange-Id: I448a8d6d2dad94cb413a8f82adb85867c043f5b7\n'}, {'number': 4, 'created': '2021-08-31 12:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7003ee22d04d46e0951267f6ccc4dc7a41a3213b', 'message': 'Enable supported container-tools before login\n\nContainer-tools module needs to be set before\nthe podman login step.\nGoing forward, this should be done with tripleo-repos.\n\nCloses-Bug: #1942078\nChange-Id: I448a8d6d2dad94cb413a8f82adb85867c043f5b7\n'}, {'number': 5, 'created': '2021-08-31 15:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/65a33afcf78d932014d0afadf457586d151b64b1', 'message': 'Enable supported container-tools before login\n\nContainer-tools module needs to be set before\nthe podman login step.\nGoing forward, this should be done with tripleo-repos.\n\nCloses-Bug: #1942078\nChange-Id: I448a8d6d2dad94cb413a8f82adb85867c043f5b7\n'}, {'number': 6, 'created': '2021-08-31 19:02:25.000000000', 'files': ['zuul.d/build-containers.yaml', 'playbooks/tripleo-buildcontainers/pre.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9d5ff817ea8d75d837d26cf34d1dd6b949d7b4e0', 'message': 'Enable supported container-tools before login\n\nContainer-tools module needs to be set before\nthe podman login step.\nGoing forward, this should be done with tripleo-repos.\n\nThis review also removes unnused container stein\njobs from check and gate.\n\nCloses-Bug: #1942078\nChange-Id: I448a8d6d2dad94cb413a8f82adb85867c043f5b7\n'}]",5,806645,9d5ff817ea8d75d837d26cf34d1dd6b949d7b4e0,26,7,6,9976,,,0,"Enable supported container-tools before login

Container-tools module needs to be set before
the podman login step.
Going forward, this should be done with tripleo-repos.

This review also removes unnused container stein
jobs from check and gate.

Closes-Bug: #1942078
Change-Id: I448a8d6d2dad94cb413a8f82adb85867c043f5b7
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/45/806645/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tripleo-buildcontainers/pre.yaml'],1,df3ea1fb7157e52a428b68de7c142c02380dd0d0,enable-module-before," # disable a yum/dnf module - name: Enable nginx module become: true become_user: root tripleo_yum_config: type: module name: container-tools enabled: false stream: ""rhel8"" # Enable yum/dnf module - name: Enable nginx module become: true become_user: root tripleo_yum_config: type: module name: container-tools enabled: false stream: ""3.0"" ",,21,0
openstack%2Fskyline-console~master~I3c1d5bad32ebabe6bbeadeee51292a8b8bfd2df5,openstack/skyline-console,master,I3c1d5bad32ebabe6bbeadeee51292a8b8bfd2df5,fix: Fix for updateDefaultValue & add display params,MERGED,2021-09-01 05:32:58.000000000,2021-09-01 06:05:16.000000000,2021-09-01 06:05:16.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-09-01 05:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/5d804a3e6f4c34a34071d10fc5ffe17feac5fe64', 'message': 'fix: Fix for updateDefaultValue\n\nfix for update default value\n\nChange-Id: I3c1d5bad32ebabe6bbeadeee51292a8b8bfd2df5\n'}, {'number': 2, 'created': '2021-09-01 05:33:58.000000000', 'files': ['src/components/Form/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/e45557dba086872a35e44af0692580bb3d0837b9', 'message': 'fix: Fix for updateDefaultValue & add display params\n\n1. fix for update default value\n2. add display params\n\nChange-Id: I3c1d5bad32ebabe6bbeadeee51292a8b8bfd2df5\n'}]",0,806833,e45557dba086872a35e44af0692580bb3d0837b9,7,2,2,33636,,,0,"fix: Fix for updateDefaultValue & add display params

1. fix for update default value
2. add display params

Change-Id: I3c1d5bad32ebabe6bbeadeee51292a8b8bfd2df5
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/33/806833/1 && git format-patch -1 --stdout FETCH_HEAD,['src/components/Form/index.jsx'],1,5d804a3e6f4c34a34071d10fc5ffe17feac5fe64,," this.resetFormValue(); resetFormValue = (fields) => { if (this.formRef.current && this.formRef.current.resetFields) { if (!fields) { this.formRef.current.resetFields(); } else { this.formRef.current.resetFields(fields); } } }; const { name, display = true } = it; if (!display) { return ''; }", if (this.formRef.current && this.formRef.current.resetFields) { this.formRef.current.resetFields(); } const { name } = it;,15,4
openstack%2Fskyline-console~master~Ic6bd5b66ff2ba06f4ac3623eac76e0e754fd46e6,openstack/skyline-console,master,Ic6bd5b66ff2ba06f4ac3623eac76e0e754fd46e6,fix: Fix for null/undefined column,MERGED,2021-08-31 02:38:30.000000000,2021-09-01 06:02:45.000000000,2021-09-01 06:02:45.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-31 02:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/a1467826479edc8057d820cba62d1ae665f1ba39', 'message': 'fix: Fix for null/undefined column\n\nfix for null/undefined column to render ""-""\n\nChange-Id: Ic6bd5b66ff2ba06f4ac3623eac76e0e754fd46e6\n'}, {'number': 2, 'created': '2021-09-01 03:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/6109c39d9ac9ecaf89c71542abd7df8b6f31610f', 'message': 'fix: Fix for null/undefined column\n\nfix for null/undefined column to render ""-""\n\nChange-Id: Ic6bd5b66ff2ba06f4ac3623eac76e0e754fd46e6\n'}, {'number': 3, 'created': '2021-09-01 04:04:34.000000000', 'files': ['src/components/Tables/Base/index.jsx', 'src/utils/render.js', 'src/utils/render.test.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/9029c35277b7401a8b8987d9926aaa4a7492d318', 'message': 'fix: Fix for null/undefined column\n\nfix for null/undefined column to render ""-""\n\nChange-Id: Ic6bd5b66ff2ba06f4ac3623eac76e0e754fd46e6\n'}]",0,806666,9029c35277b7401a8b8987d9926aaa4a7492d318,10,2,3,33636,,,0,"fix: Fix for null/undefined column

fix for null/undefined column to render ""-""

Change-Id: Ic6bd5b66ff2ba06f4ac3623eac76e0e754fd46e6
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/66/806666/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/components/Tables/Base/index.jsx', 'src/utils/render.js', 'src/utils/render.test.js']",3,a1467826479edc8057d820cba62d1ae665f1ba39,,"import { columnRender } from './render'; describe('render test', () => { it('column render', () => { expect(columnRender(undefined, 'normal')).toBe('normal'); expect(columnRender(undefined, 0)).toBe(0); expect(columnRender(undefined, false)).toBe('false'); expect(columnRender(undefined, true)).toBe('true'); expect(columnRender(undefined, [])).toBe('-'); expect(columnRender(undefined, {})).toBe('-'); expect(columnRender(undefined, undefined)).toBe('-'); expect(columnRender(undefined, null)).toBe('-'); expect(columnRender(() => 0, undefined)).toBe(0); expect(columnRender(() => false, undefined)).toBe('false'); expect(columnRender(() => true, undefined)).toBe('true'); expect(columnRender(() => [], undefined)).toBe('-'); expect(columnRender(() => [1, 2, 3].join(','), undefined)).toBe('1,2,3'); expect(columnRender(() => {}, undefined)).toBe('-'); expect(columnRender(() => undefined, undefined)).toBe('-'); expect(columnRender(() => null, undefined)).toBe('-'); expect(columnRender(() => null, 0)).toBe('-'); expect(columnRender(() => 0, 0)).toBe(0); expect(columnRender(() => false, 0)).toBe('false'); expect(columnRender(() => [], 0)).toBe('-'); expect(columnRender(() => {}, 0)).toBe('-'); }); }); ",,56,1
openstack%2Freleases~master~Ia1d8f84e3071bc24c6e059e4b3fcba2cc38601bc,openstack/releases,master,Ia1d8f84e3071bc24c6e059e4b3fcba2cc38601bc,Make tripleo repos victoria release,MERGED,2021-08-12 15:58:58.000000000,2021-09-01 05:54:55.000000000,2021-08-30 07:59:40.000000000,"[{'_account_id': 308}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-12 15:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c42d1ec6029a786e3284057d40c3c0f794edf0b6', 'message': 'Make tripleo repos victoria release\n\nMake a tripleo repos release for the victoria branch. Depends-On\nis needed before validations pass as we tag puppet-tripleo here\nwith that commit.\n\nDepends-On: 564620e62f4f4943552dfd9f2ab645df29f9f198\nChange-Id: Ia1d8f84e3071bc24c6e059e4b3fcba2cc38601bc\n'}, {'number': 2, 'created': '2021-08-24 12:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f95aa19ef4803ffd9c5609a5ebc9a91d36830a6f', 'message': 'Make tripleo repos victoria release\n\nMake a tripleo repos release for the victoria branch. Depends-On\nis needed before validations pass as we tag puppet-tripleo here\nwith that commit.\n\nDepends-On: 564620e62f4f4943552dfd9f2ab645df29f9f198\nChange-Id: Ia1d8f84e3071bc24c6e059e4b3fcba2cc38601bc\n'}, {'number': 3, 'created': '2021-08-26 06:26:37.000000000', 'files': ['deliverables/victoria/tripleo-heat-templates.yaml', 'deliverables/victoria/tripleo-validations.yaml', 'deliverables/victoria/tripleo-ansible.yaml', 'deliverables/victoria/puppet-tripleo.yaml', 'deliverables/victoria/tripleo-common.yaml', 'deliverables/victoria/python-tripleoclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6b3955b118a034ef30f71b2d30699d1b162417e4', 'message': 'Make tripleo repos victoria release\n\nMake a tripleo repos release for the victoria branch. Depends-On\nis needed before validations pass as we tag puppet-tripleo here\nwith that commit.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/804411\nChange-Id: Ia1d8f84e3071bc24c6e059e4b3fcba2cc38601bc\n'}]",9,804412,6b3955b118a034ef30f71b2d30699d1b162417e4,28,6,3,8449,,,0,"Make tripleo repos victoria release

Make a tripleo repos release for the victoria branch. Depends-On
is needed before validations pass as we tag puppet-tripleo here
with that commit.

Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/804411
Change-Id: Ia1d8f84e3071bc24c6e059e4b3fcba2cc38601bc
",git fetch https://review.opendev.org/openstack/releases refs/changes/12/804412/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/tripleo-heat-templates.yaml', 'deliverables/victoria/tripleo-validations.yaml', 'deliverables/victoria/puppet-tripleo.yaml', 'deliverables/victoria/tripleo-ansible.yaml', 'deliverables/victoria/tripleo-common.yaml', 'deliverables/victoria/python-tripleoclient.yaml']",6,c42d1ec6029a786e3284057d40c3c0f794edf0b6,, - version: 14.2.3 projects: - repo: openstack/python-tripleoclient hash: 4512b0fa67096395b608b6c490671ea2cd7cc450,,24,0
openstack%2Fskyline-console~master~I5448aca49a972c651e262130e0033158abe9d6ba,openstack/skyline-console,master,I5448aca49a972c651e262130e0033158abe9d6ba,fix: Fix for newtork config show,MERGED,2021-08-31 09:53:59.000000000,2021-09-01 04:16:23.000000000,2021-09-01 04:16:23.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-31 09:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/c533fbcd83eaab390f43f48ac217f45f1a20c7e0', 'message': 'fix: Fix for newtork config show\n\nfix for network config show\n\nChange-Id: I5448aca49a972c651e262130e0033158abe9d6ba\n'}, {'number': 2, 'created': '2021-09-01 03:46:22.000000000', 'files': ['src/pages/compute/containers/Instance/actions/StepCreate/ConfirmStep/index.jsx', 'src/components/FormItem/NetworkSelect/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/8009bc8c418a3bb91c2dc850b04245e9f6a90a8c', 'message': 'fix: Fix for newtork config show\n\nfix for network config show\n\nChange-Id: I5448aca49a972c651e262130e0033158abe9d6ba\n'}]",0,806719,8009bc8c418a3bb91c2dc850b04245e9f6a90a8c,8,2,2,33636,,,0,"fix: Fix for newtork config show

fix for network config show

Change-Id: I5448aca49a972c651e262130e0033158abe9d6ba
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/19/806719/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/compute/containers/Instance/actions/StepCreate/ConfirmStep/index.jsx', 'src/components/FormItem/NetworkSelect/index.jsx']",2,c533fbcd83eaab390f43f48ac217f45f1a20c7e0,," name: it.name,",,10,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I4f31ddc3392e70cff1187ba8b9511af12df4b063,openstack/tripleo-heat-templates,stable/wallaby,I4f31ddc3392e70cff1187ba8b9511af12df4b063,Add OctaviaAmphoraSshKeyDir for ssh key creation for Octavia,MERGED,2021-08-26 19:39:53.000000000,2021-09-01 04:16:05.000000000,2021-09-01 04:16:05.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-08-26 19:39:53.000000000', 'files': ['ci/environments/scenario010-standalone.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2123370fbc3fde0123fbffcb43ef55c4d63d5fae', 'message': 'Add OctaviaAmphoraSshKeyDir for ssh key creation for Octavia\n\nThe Octavia playbook now creates a ssh key unless the user explicitly\nsets the OctaviaAmphoraSshKeyFile parameter.\nThe playbook creates it in the OctaviaAmphoraSshKeyDir directory\n(default: /etc/octavia/ssh).\n\nNB: Not a clean cherry-pick some context differences in\n    deployment/octavia/octavia-deployment-config.j2.yaml\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/806265\n\nRelated-bug: #1907112\nChange-Id: I4f31ddc3392e70cff1187ba8b9511af12df4b063\n'}]",0,806266,2123370fbc3fde0123fbffcb43ef55c4d63d5fae,22,5,1,20172,,,0,"Add OctaviaAmphoraSshKeyDir for ssh key creation for Octavia

The Octavia playbook now creates a ssh key unless the user explicitly
sets the OctaviaAmphoraSshKeyFile parameter.
The playbook creates it in the OctaviaAmphoraSshKeyDir directory
(default: /etc/octavia/ssh).

NB: Not a clean cherry-pick some context differences in
    deployment/octavia/octavia-deployment-config.j2.yaml

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/806265

Related-bug: #1907112
Change-Id: I4f31ddc3392e70cff1187ba8b9511af12df4b063
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/66/806266/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario010-standalone.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml']",2,2123370fbc3fde0123fbffcb43ef55c4d63d5fae,w-octavia, OctaviaAmphoraSshKeyDir: type: string default: '/etc/octavia/ssh' description: Octavia generated SSH key directory. amp_ssh_key_dir: { get_param: OctaviaAmphoraSshKeyDir },"{%- set octavia_standalone=[] -%} {%- for role in roles if 'standalone' in role.tags -%} {% if octavia_standalone.append('1') %}{% endif %} {%- endfor %}{% if not octavia_standalone %}{% endif %}{% if not octavia_standalone %} default_key_pair: type: OS::Nova::KeyPair external_id: default {% endif %}{% if not octavia_standalone %} amp_ssh_key_data: { get_attr: [default_key_pair, public_key] } {% endif %}",5,15
openstack%2Fskyline-console~master~I80389983aa3d9b652f33e712ee5589d8975bec9d,openstack/skyline-console,master,I80389983aa3d9b652f33e712ee5589d8975bec9d,fix: Make port's fixed_ip not required,MERGED,2021-08-31 03:54:07.000000000,2021-09-01 04:14:20.000000000,2021-09-01 04:14:20.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-31 03:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/77eefdf011398409e3050c9070785fe29169c54b', 'message': ""fix: Make port's fixed_ip not required\n\nmake port's fixed_ip not required\n\nChange-Id: I80389983aa3d9b652f33e712ee5589d8975bec9d\n""}, {'number': 2, 'created': '2021-09-01 03:45:20.000000000', 'files': ['src/pages/network/containers/VirtualAdapter/actions/Create.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/88d6fb1b81409d8b3b2f0ab77e5c5732ccdd6057', 'message': ""fix: Make port's fixed_ip not required\n\nmake port's fixed_ip not required\n\nChange-Id: I80389983aa3d9b652f33e712ee5589d8975bec9d\n""}]",0,806672,88d6fb1b81409d8b3b2f0ab77e5c5732ccdd6057,8,2,2,33636,,,0,"fix: Make port's fixed_ip not required

make port's fixed_ip not required

Change-Id: I80389983aa3d9b652f33e712ee5589d8975bec9d
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/72/806672/2 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/network/containers/VirtualAdapter/actions/Create.jsx'],1,77eefdf011398409e3050c9070785fe29169c54b,," ...(fixed_ips && fixed_ips.length > 0 ? { fixed_ips: fixed_ips.map((i) => { const ret = { subnet_id: i.subnet, }; if (i.ip_address && i.ip_address.type === 'manual') { ret.ip_address = i.ip_address.ip; } return ret; }), } : {}), // required: true,"," fixed_ips: fixed_ips.map((i) => { const ret = { subnet_id: i.subnet, }; if (i.ip_address && i.ip_address.type === 'manual') { ret.ip_address = i.ip_address.ip; } return ret; }), // component: <IPDistributer subnets={subnetDetails} />, required: true,",14,11
openstack%2Fskyline-console~master~Ic16ca06fb0494b231547f886562924b5c849f6cc,openstack/skyline-console,master,Ic16ca06fb0494b231547f886562924b5c849f6cc,fix: Fix edit port qos policy & fip,MERGED,2021-08-31 03:43:08.000000000,2021-09-01 04:14:19.000000000,2021-09-01 04:14:19.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-31 03:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/fd982ce72fb0873c4161e5c6d3bdf89ad87116d8', 'message': 'fix: Fix edit port qos policy & fip\n\n1. fix edit port qos policy\n2. fix edit fip\n\nChange-Id: Ic16ca06fb0494b231547f886562924b5c849f6cc\n'}, {'number': 2, 'created': '2021-08-31 03:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/c4809bf4f846a57cb4ea389a1f092f5898a8fdc8', 'message': 'fix: Fix edit port qos policy & fip\n\n1. fix edit port qos policy\n2. fix edit fip\n\nChange-Id: Ic16ca06fb0494b231547f886562924b5c849f6cc\n'}, {'number': 3, 'created': '2021-09-01 03:44:25.000000000', 'files': ['src/pages/network/containers/VirtualAdapter/actions/ModifyQoS.jsx', 'src/pages/network/containers/FloatingIp/actions/Edit.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/5afd75a690475b2952422170cdc5f31c585b7cea', 'message': 'fix: Fix edit port qos policy & fip\n\n1. fix edit port qos policy\n2. fix edit fip\n\nChange-Id: Ic16ca06fb0494b231547f886562924b5c849f6cc\n'}]",0,806670,5afd75a690475b2952422170cdc5f31c585b7cea,10,2,3,33636,,,0,"fix: Fix edit port qos policy & fip

1. fix edit port qos policy
2. fix edit fip

Change-Id: Ic16ca06fb0494b231547f886562924b5c849f6cc
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/70/806670/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/network/containers/VirtualAdapter/actions/ModifyQoS.jsx', 'src/pages/network/containers/FloatingIp/actions/Edit.jsx']",2,fd982ce72fb0873c4161e5c6d3bdf89ad87116d8,," selectedRows: item.qos_policy_id ? [ { key: item.qos_policy_id, name: item.qos_policy_id, }, ] : [], cost: 0,"," selectedRows: item.qos_policy_id ? [{ name: item.qos_policy_id }] : [],",20,8
openstack%2Fnova~master~I0268ba0d70002b2abce553f821e7b6d55b260842,openstack/nova,master,I0268ba0d70002b2abce553f821e7b6d55b260842,Provide the mdev class for every PCI device,MERGED,2021-07-29 16:56:55.000000000,2021-09-01 01:51:11.000000000,2021-08-31 13:44:27.000000000,"[{'_account_id': 7543}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-29 16:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7d0932d94bd1b854ed8e730271ec3e55989d445', 'message': 'WIP Provide the mdev class for every PCI device\n\nTODO : Tests\n\nWe would want to modify the resource class if the mdev_class option\nis used.\n\nPartially-Implements: blueprint generic-mdevs\nChange-Id: I0268ba0d70002b2abce553f821e7b6d55b260842\n'}, {'number': 2, 'created': '2021-07-29 17:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9d143966882eb12220c19aa3ea27343921f0ab6', 'message': 'WIP Provide the mdev class for every PCI device\n\nTODO : Tests\n\nWe would want to modify the resource class if the mdev_class option\nis used.\n\nPartially-Implements: blueprint generic-mdevs\nChange-Id: I0268ba0d70002b2abce553f821e7b6d55b260842\n'}, {'number': 3, 'created': '2021-07-30 11:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b49470d3464364dd0c8d88c261a65cacad19cfb5', 'message': 'WIP Provide the mdev class for every PCI device\n\nTODO : Tests\n\nWe would want to modify the resource class if the mdev_class option\nis used.\n\nPartially-Implements: blueprint generic-mdevs\nChange-Id: I0268ba0d70002b2abce553f821e7b6d55b260842\n'}, {'number': 4, 'created': '2021-07-30 11:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/784757cb85ca5e0bca0960a6ff9ce0ab5069d70a', 'message': 'WIP Provide the mdev class for every PCI device\n\nTODO : Tests\n\nWe would want to modify the resource class if the mdev_class option\nis used.\n\nPartially-Implements: blueprint generic-mdevs\nChange-Id: I0268ba0d70002b2abce553f821e7b6d55b260842\n'}, {'number': 5, 'created': '2021-07-30 16:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/824eb5574f52e5cdd6a01777711eb4536a3c423b', 'message': ""Provide the mdev class for every PCI device\n\nWe would want to modify the resource class if the mdev_class option\nis used.\nSo, we're provide two methods for getting the supported resource\nclasses, one for knowing which RC is used for a specific PCI ID\nand the other for getting all the related RCs.\n\nPartially-Implements: blueprint generic-mdevs\nChange-Id: I0268ba0d70002b2abce553f821e7b6d55b260842\n""}, {'number': 6, 'created': '2021-08-02 16:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/851716cfcc59d306823f6652c25e6f8d11acb76a', 'message': ""Provide the mdev class for every PCI device\n\nWe would want to modify the resource class if the mdev_class option\nis used.\nSo, we're provide two methods for getting the supported resource\nclasses, one for knowing which RC is used for a specific PCI ID\nand the other for getting all the related RCs.\n\nPartially-Implements: blueprint generic-mdevs\nChange-Id: I0268ba0d70002b2abce553f821e7b6d55b260842\n""}, {'number': 7, 'created': '2021-08-03 16:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3734bb2a97404a3733c586b7d181021f673fc5b', 'message': 'Provide the mdev class for every PCI device\n\nWe would want to modify the resource class if the mdev_class option\nis used.\nSo, we provide two methods for getting the supported resource\nclasses, one for knowing which RC is used for a specific PCI ID\nand the other for getting all the related RCs.\n\nPartially-Implements: blueprint generic-mdevs\nChange-Id: I0268ba0d70002b2abce553f821e7b6d55b260842\n'}, {'number': 8, 'created': '2021-08-04 09:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff855de6568f5c8668f7497392ed9b441e428cf3', 'message': 'Provide the mdev class for every PCI device\n\nWe would want to modify the resource class if the mdev_class option\nis used.\nSo, we provide two methods for getting the supported resource\nclasses, one for knowing which RC is used for a specific PCI ID\nand the other for getting all the related RCs.\n\nPartially-Implements: blueprint generic-mdevs\nChange-Id: I0268ba0d70002b2abce553f821e7b6d55b260842\n'}, {'number': 9, 'created': '2021-08-05 09:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/acf2a9012dda193d42a4dc06156e10357c9d5aa1', 'message': 'Provide the mdev class for every PCI device\n\nWe would want to modify the resource class if the mdev_class option\nis used.\nSo, we provide two methods for getting the supported resource\nclasses, one for knowing which RC is used for a specific PCI ID\nand the other for getting all the related RCs.\n\nPartially-Implements: blueprint generic-mdevs\nChange-Id: I0268ba0d70002b2abce553f821e7b6d55b260842\n'}, {'number': 10, 'created': '2021-08-06 15:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c553883ea828422e15abe44c6df1e28edf7fa93b', 'message': 'Provide the mdev class for every PCI device\n\nWe would want to modify the resource class if the mdev_class option\nis used.\nSo, we provide two methods for getting the supported resource\nclasses, one for knowing which RC is used for a specific PCI ID\nand the other for getting all the related RCs.\n\nPartially-Implements: blueprint generic-mdevs\nChange-Id: I0268ba0d70002b2abce553f821e7b6d55b260842\n'}, {'number': 11, 'created': '2021-08-06 15:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aab6e4e636090fe724826e2fe363ffe7b9e6469b', 'message': 'Provide the mdev class for every PCI device\n\nWe would want to modify the resource class if the mdev_class option\nis used.\nSo, we provide two methods for getting the supported resource\nclasses, one for knowing which RC is used for a specific PCI ID\nand the other for getting all the related RCs.\n\nPartially-Implements: blueprint generic-mdevs\nChange-Id: I0268ba0d70002b2abce553f821e7b6d55b260842\n'}, {'number': 12, 'created': '2021-08-27 14:19:51.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a543cb23aa30194dfb5d1fbfad4906257deeaf59', 'message': 'Provide the mdev class for every PCI device\n\nWe would want to modify the resource class if the mdev_class option\nis used.\nSo, we provide two methods for getting the supported resource\nclasses, one for knowing which RC is used for a specific PCI ID\nand the other for getting all the related RCs.\n\nPartially-Implements: blueprint generic-mdevs\nChange-Id: I0268ba0d70002b2abce553f821e7b6d55b260842\n'}]",38,802918,a543cb23aa30194dfb5d1fbfad4906257deeaf59,92,6,12,7166,,,0,"Provide the mdev class for every PCI device

We would want to modify the resource class if the mdev_class option
is used.
So, we provide two methods for getting the supported resource
classes, one for knowing which RC is used for a specific PCI ID
and the other for getting all the related RCs.

Partially-Implements: blueprint generic-mdevs
Change-Id: I0268ba0d70002b2abce553f821e7b6d55b260842
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/802918/11 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,c7d0932d94bd1b854ed8e730271ec3e55989d445,bp/generic-mdevs," self.mdev_class_mapping = collections.defaultdict(str) self.mdev_classes = set([]) # We need to reset the mapping tables that we started to # provide keys and values from previously processed vGPUs but # since there is a problem for this vGPU type, we only want to self.mdev_class_mapping.clear() self.mdev_classes = set([]) # TODO(sbauza): Directly use the mdev_class option once we add the # new configuration option. mdev_class = getattr(group, 'mdev_class', 'vgpu') self.mdev_class_mapping[device_address] = mdev_class if mdev_class != 'vgpu': self.mdev_classes.add(mdev_class) @staticmethod def _get_pci_id_from_libvirt_name(libvirt_address): """"""Returns a PCI ID from a libvirt pci address name. :param libvirt_address: the libvirt PCI device name, eg.'pci_0000_84_00_0' """""" try: device_address = ""{}:{}:{}.{}"".format( *libvirt_address[4:].split('_')) # Validates whether it's a PCI ID... pci_utils.parse_address(device_address) # .format() can return IndexError except (exception.PciDeviceWrongAddressFormat, IndexError): # this is not a valid PCI address LOG.warning(""The PCI address %s was invalid for getting the "" ""related vGPU type"", libvirt_address) return return device_address device_address = self._get_pci_id_from_libvirt_name(device_address) if not device_address: def _get_resource_class_per_device(self, device_address): """"""Returns the resource class for the inventory of this device. :param device_address: the libvirt PCI device name, eg.'pci_0000_84_00_0' """""" device_address = self._get_pci_id_from_libvirt_name(device_address) if not device_address: return if not device_address: return try: mdev_class = self.mdev_class_mapping.get(device_address) except KeyError: LOG.warning(""Can't find the mdev_class option for %s"", device_address) # We accept to return None instead of raising an exception # because we prefer the callers to return the existing exceptions # in case we can't find a specific device return if mdev_class == 'vgpu': return orc.VGPU return 'CUSTOM_' + mdev_class.upper() def _get_supported_mdev_resource_classes(self): return set(['CUSTOM_' + mdev_class.upper() for mdev_class in self.mdev_classes]) "," # We need to reset the mapping table that we started to provide # keys and values from previously processed vGPUs but since # there is a problem for this vGPU type, we only want to # The libvirt name is like 'pci_0000_84_00_0' try: device_address = ""{}:{}:{}.{}"".format( *device_address[4:].split('_')) # Validates whether it's a PCI ID... pci_utils.parse_address(device_address) # .format() can return IndexError except (exception.PciDeviceWrongAddressFormat, IndexError): # this is not a valid PCI address LOG.warning(""The PCI address %s was invalid for getting the "" ""related vGPU type"", device_address)",64,14
openstack%2Fnova~master~I981a3bdb6c2f11f294cbb01689cf927d216b2439,openstack/nova,master,I981a3bdb6c2f11f294cbb01689cf927d216b2439,policy: Deprecate field from 'os-extended-server-attributes' policy,MERGED,2021-08-26 10:00:52.000000000,2021-09-01 00:00:50.000000000,2021-08-31 21:37:50.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 10:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6e38fee20abea9e1635204f0d6ab969689dbd70', 'message': ""policy: Deprecate field from 'os-extended-server-attributes' policy\n\nIndicate that the 'os_compute_api:os-extended-server-attributes' will no\nlonger control visibility of the 'OS-EXT-SRV-ATTR:hostname' attribute in\na future release, following a deprecation period.\n\nChange-Id: I981a3bdb6c2f11f294cbb01689cf927d216b2439\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-08-31 16:26:10.000000000', 'files': ['releasenotes/notes/microversion-2-90-59fb6d4ec420b9f4.yaml', 'nova/policies/extended_server_attributes.py', 'nova/api/openstack/compute/views/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cfa33d3b06a279f8f6dc6ad7d76d49feb36b0ace', 'message': ""policy: Deprecate field from 'os-extended-server-attributes' policy\n\nIndicate that the 'os_compute_api:os-extended-server-attributes' will no\nlonger control visibility of the 'OS-EXT-SRV-ATTR:hostname' attribute in\na future release, following a deprecation period.\n\nChange-Id: I981a3bdb6c2f11f294cbb01689cf927d216b2439\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,806131,cfa33d3b06a279f8f6dc6ad7d76d49feb36b0ace,30,4,2,15334,,,0,"policy: Deprecate field from 'os-extended-server-attributes' policy

Indicate that the 'os_compute_api:os-extended-server-attributes' will no
longer control visibility of the 'OS-EXT-SRV-ATTR:hostname' attribute in
a future release, following a deprecation period.

Change-Id: I981a3bdb6c2f11f294cbb01689cf927d216b2439
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/806131/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/microversion-2-90-59fb6d4ec420b9f4.yaml', 'nova/policies/extended_server_attributes.py', 'nova/api/openstack/compute/views/servers.py']",3,d6e38fee20abea9e1635204f0d6ab969689dbd70,bp/configurable-instance-hostnames, # TODO(stephenfin): Remove this check once we remove the # OS-EXT-SRV-ATTR:hostname policy checks from the policy is Y or later,,12,1
openstack%2Fkeystone~master~I12b570cd6d6abda17a68aac6a35ae8193d9c22b4,openstack/keystone,master,I12b570cd6d6abda17a68aac6a35ae8193d9c22b4,Replace deprecated import of ABCs from collections,MERGED,2021-07-16 15:42:27.000000000,2021-08-31 23:05:22.000000000,2021-08-31 23:02:48.000000000,"[{'_account_id': 5046}, {'_account_id': 14250}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-16 15:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2b85d20ee3f86f6c374ceb31c52549c11cc7bf22', 'message': 'Replace deprecated import of ABCs from collections\n\nABCs in collections should be imported from collections.abc and direct\nimport from collections was deprecated since Python 3.3.\n\nCloses-Bug: #1936667\nChange-Id: I12b570cd6d6abda17a68aac6a35ae8193d9c22b4\n'}, {'number': 2, 'created': '2021-07-16 15:46:10.000000000', 'files': ['keystone/common/utils.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d3044ad238e381c6a7346990354e76d1a8fed741', 'message': 'Replace deprecated import of ABCs from collections\n\nABCs in collections should be imported from collections.abc and direct\nimport from collections is deprecated since Python 3.3.\n\nCloses-Bug: #1936667\nChange-Id: I12b570cd6d6abda17a68aac6a35ae8193d9c22b4\n'}]",0,801083,d3044ad238e381c6a7346990354e76d1a8fed741,11,4,2,9816,,,0,"Replace deprecated import of ABCs from collections

ABCs in collections should be imported from collections.abc and direct
import from collections is deprecated since Python 3.3.

Closes-Bug: #1936667
Change-Id: I12b570cd6d6abda17a68aac6a35ae8193d9c22b4
",git fetch https://review.opendev.org/openstack/keystone refs/changes/83/801083/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/utils.py'],1,2b85d20ee3f86f6c374ceb31c52549c11cc7bf22,bug/1936667,"import collections.abc if isinstance(v, collections.abc.MutableMapping):","import collections if isinstance(v, collections.MutableMapping):",2,2
openstack%2Fironic~master~I67e89f72b1d847df233d2ffec51ca5e8963f51e9,openstack/ironic,master,I67e89f72b1d847df233d2ffec51ca5e8963f51e9,Remove manager param for iDRAC OEM calls,MERGED,2021-05-19 16:13:33.000000000,2021-08-31 22:30:25.000000000,2021-08-31 11:08:17.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23847}]","[{'number': 1, 'created': '2021-05-19 16:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a054452462a6c20d4ac0f483aef22862b84628ba', 'message': ""Remove manager param for iDRAC OEM calls\n\nMethods don't need to pass manager to execute OEM\nmanager method because it already has that context.\nThis was added for backportability.\n\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/792087\nChange-Id: I67e89f72b1d847df233d2ffec51ca5e8963f51e9\n""}, {'number': 2, 'created': '2021-08-30 08:46:45.000000000', 'files': ['ironic/drivers/modules/drac/boot.py', 'ironic/tests/unit/drivers/modules/drac/test_boot.py', 'ironic/drivers/modules/drac/utils.py', 'driver-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fbb0020ab70541fd8762c7551f3cbb9e3c06b7ee', 'message': ""Remove manager param for iDRAC OEM calls\n\nMethods don't need to pass manager to execute OEM\nmanager method because it already has that context.\nThis was added for backportability.\n\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/792087\nChange-Id: I67e89f72b1d847df233d2ffec51ca5e8963f51e9\n""}]",0,792200,fbb0020ab70541fd8762c7551f3cbb9e3c06b7ee,27,4,2,27909,,,0,"Remove manager param for iDRAC OEM calls

Methods don't need to pass manager to execute OEM
manager method because it already has that context.
This was added for backportability.

Depends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/792087
Change-Id: I67e89f72b1d847df233d2ffec51ca5e8963f51e9
",git fetch https://review.opendev.org/openstack/ironic refs/changes/00/792200/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/boot.py', 'ironic/tests/unit/drivers/modules/drac/test_boot.py', 'ironic/drivers/modules/drac/utils.py']",3,a054452462a6c20d4ac0f483aef22862b84628ba,oem-manager-refactor-fwu," task, process_name, lambda_oem_func): result = lambda_oem_func(manager_oem)"," task, process_name, lambda_oem_func, pass_manager=False): For older versions also support second input parameter Redfish manager itself when pass_manager set to True. :param pass_manager: whether to pass manager itself to executed OEM extension method. This is for backward compability, new functions must not pass manager, but acquire it internally. Will be removed in future. if pass_manager: result = lambda_oem_func(manager_oem, manager) else: result = lambda_oem_func(manager_oem)",7,20
openstack%2Fmanila~master~Id27bcde967717bb6b80d96c39e55bc3dd9e92e1b,openstack/manila,master,Id27bcde967717bb6b80d96c39e55bc3dd9e92e1b,[doc] add since and before parameter to message-list cli,MERGED,2021-08-30 08:06:56.000000000,2021-08-31 22:29:45.000000000,2021-08-31 22:26:41.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-30 08:06:56.000000000', 'files': ['doc/source/cli/manila.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/fb221d05bca594aa1e0c2cd3cc3cf6348c2b9ac6', 'message': '[doc] add since and before parameter to message-list cli\n\nafter Support query user message by timestamp has been merged.\nhttps://review.opendev.org/c/openstack/python-manilaclient/+/708807\nwe should update corresponding command line manual\n\nChange-Id: Id27bcde967717bb6b80d96c39e55bc3dd9e92e1b\n'}]",0,806548,fb221d05bca594aa1e0c2cd3cc3cf6348c2b9ac6,11,2,1,30407,,,0,"[doc] add since and before parameter to message-list cli

after Support query user message by timestamp has been merged.
https://review.opendev.org/c/openstack/python-manilaclient/+/708807
we should update corresponding command line manual

Change-Id: Id27bcde967717bb6b80d96c39e55bc3dd9e92e1b
",git fetch https://review.opendev.org/openstack/manila refs/changes/48/806548/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/manila.rst'],1,fb221d05bca594aa1e0c2cd3cc3cf6348c2b9ac6,doc-update, [--since <since>] [--before <before>]``--since <since>`` Return only user messages created since given date. The date format must be conforming to ISO8601. Available only for microversion >= 2.52. ``--before <before>`` Return only user messages created before given date. The date format must be conforming to ISO8601. Available only for microversion >= 2.52. ,,11,0
openstack%2Fnova~master~Ie09969a26ad03cb29ed717ea86bd5ae7ec761586,openstack/nova,master,Ie09969a26ad03cb29ed717ea86bd5ae7ec761586,tests: Speed up 'servers' API tests,MERGED,2021-03-04 15:33:08.000000000,2021-08-31 21:37:58.000000000,2021-08-31 21:37:58.000000000,"[{'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 15:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b5ed91435fb3bbaefe1ce5f194c69d88c344138', 'message': ""tests: Speed up 'servers' API tests\n\nThis file is a bit of a mess and currently takes a long time to run.\nResolve a number of issues, significantly speeding up run time.\n\n- Inherit from base classes without tests. This reduces our test\n  coverage somewhat but that seems reasonable compared to running the\n  same test sometimes 5 or 6 times.\n\n- Remove duplicated tests and helpers\n\n- Move some tests around, so that e.g. a 'ServersControllerTest'\n  subclass, which is supposed to handle show/list tests doesn't include\n  tests for rebuilding a server.\n\nThe end result in a test run that drops from ~308.5 sec to ~81.5 sec on\nmy localhost, or a nearly 4x decrease in test time execution with\nclearer tests and similar meaningful test coverage.\n\nChange-Id: Ie09969a26ad03cb29ed717ea86bd5ae7ec761586\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-03-29 14:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05056c29ede7bf3e3af431f5632fcab17064578e', 'message': ""tests: Speed up 'servers' API tests\n\nThis file is a bit of a mess and currently takes a long time to run.\nResolve a number of issues, significantly speeding up run time.\n\n- Inherit from base classes without tests. This reduces our test\n  coverage somewhat but that seems reasonable compared to running the\n  same test sometimes 5 or 6 times.\n\n- Remove duplicated tests and helpers\n\n- Move some tests around, so that e.g. a 'ServersControllerTest'\n  subclass, which is supposed to handle show/list tests doesn't include\n  tests for rebuilding a server.\n\nThe end result in a test run that drops from ~308.5 sec to ~81.5 sec on\nmy localhost, or a nearly 4x decrease in test time execution with\nclearer tests and similar meaningful test coverage.\n\nChange-Id: Ie09969a26ad03cb29ed717ea86bd5ae7ec761586\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-06-16 16:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2845f107410382405c3d06ff89f82703ff14e20', 'message': ""tests: Speed up 'servers' API tests\n\nThis file is a bit of a mess and currently takes a long time to run.\nResolve a number of issues, significantly speeding up run time.\n\n- Inherit from base classes without tests. This reduces our test\n  coverage somewhat but that seems reasonable compared to running the\n  same test sometimes 5 or 6 times.\n\n- Remove duplicated tests and helpers\n\n- Move some tests around, so that e.g. a 'ServersControllerTest'\n  subclass, which is supposed to handle show/list tests doesn't include\n  tests for rebuilding a server.\n\nThe end result in a test run that drops from ~308.5 sec to ~81.5 sec on\nmy localhost, or a nearly 4x decrease in test time execution with\nclearer tests and similar meaningful test coverage.\n\nChange-Id: Ie09969a26ad03cb29ed717ea86bd5ae7ec761586\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-07-23 13:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af791f7140be0f6b7f33eb0d88e87ae0f2067310', 'message': ""tests: Speed up 'servers' API tests\n\nThis file is a bit of a mess and currently takes a long time to run.\nResolve a number of issues, significantly speeding up run time.\n\n- Inherit from base classes without tests. This reduces our test\n  coverage somewhat but that seems reasonable compared to running the\n  same test sometimes 5 or 6 times.\n\n- Remove duplicated tests and helpers\n\n- Move some tests around, so that e.g. a 'ServersControllerTest'\n  subclass, which is supposed to handle show/list tests doesn't include\n  tests for rebuilding a server.\n\nThe end result in a test run that drops from ~308.5 sec to ~81.5 sec on\nmy localhost, or a nearly 4x decrease in test time execution with\nclearer tests and similar meaningful test coverage.\n\nChange-Id: Ie09969a26ad03cb29ed717ea86bd5ae7ec761586\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-08-06 14:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df88552090ccc087bc44f7a04de81aa4420840a4', 'message': ""tests: Speed up 'servers' API tests\n\nThis file is a bit of a mess and currently takes a long time to run.\nResolve a number of issues, significantly speeding up run time.\n\n- Inherit from base classes without tests. This reduces our test\n  coverage somewhat but that seems reasonable compared to running the\n  same test sometimes 5 or 6 times.\n\n- Remove duplicated tests and helpers\n\n- Move some tests around, so that e.g. a 'ServersControllerTest'\n  subclass, which is supposed to handle show/list tests doesn't include\n  tests for rebuilding a server.\n\nThe end result in a test run that drops from ~308.5 sec to ~81.5 sec on\nmy localhost, or a nearly 4x decrease in test time execution with\nclearer tests and similar meaningful test coverage.\n\nChange-Id: Ie09969a26ad03cb29ed717ea86bd5ae7ec761586\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2021-08-19 10:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fec4b904f8253b72fa70956141792f0205eb14e', 'message': ""tests: Speed up 'servers' API tests\n\nThis file is a bit of a mess and currently takes a long time to run.\nResolve a number of issues, significantly speeding up run time.\n\n- Inherit from base classes without tests. This reduces our test\n  coverage somewhat but that seems reasonable compared to running the\n  same test sometimes 5 or 6 times.\n\n- Remove duplicated tests and helpers\n\n- Move some tests around, so that e.g. a 'ServersControllerTest'\n  subclass, which is supposed to handle show/list tests doesn't include\n  tests for rebuilding a server.\n\nThe end result in a test run that drops from ~308.5 sec to ~81.5 sec on\nmy localhost, or a nearly 4x decrease in test time execution with\nclearer tests and similar meaningful test coverage.\n\nChange-Id: Ie09969a26ad03cb29ed717ea86bd5ae7ec761586\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2021-08-19 10:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84ff0b0c96bb7d0f2691d1d38581ed71a7e09d94', 'message': ""tests: Speed up 'servers' API tests\n\nThis file is a bit of a mess and currently takes a long time to run.\nResolve a number of issues, significantly speeding up run time.\n\n- Inherit from base classes without tests. This reduces our test\n  coverage somewhat but that seems reasonable compared to running the\n  same test sometimes 5 or 6 times.\n\n- Remove duplicated tests and helpers\n\n- Move some tests around, so that e.g. a 'ServersControllerTest'\n  subclass, which is supposed to handle show/list tests doesn't include\n  tests for rebuilding a server.\n\nThe end result in a test run that drops from ~308.5 sec to ~81.5 sec on\nmy localhost, or a nearly 4x decrease in test time execution with\nclearer tests and similar meaningful test coverage.\n\nChange-Id: Ie09969a26ad03cb29ed717ea86bd5ae7ec761586\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2021-08-19 11:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ffeb6db4aebe975cc5fd57ef0940ab7d80640b8a', 'message': ""tests: Speed up 'servers' API tests\n\nThis file is a bit of a mess and currently takes a long time to run.\nResolve a number of issues, significantly speeding up run time.\n\n- Inherit from base classes without tests. This reduces our test\n  coverage somewhat but that seems reasonable compared to running the\n  same test sometimes 5 or 6 times.\n\n- Remove duplicated tests and helpers\n\n- Move some tests around, so that e.g. a 'ServersControllerTest'\n  subclass, which is supposed to handle show/list tests doesn't include\n  tests for rebuilding a server.\n\nThe end result in a test run that drops from ~308.5 sec to ~81.5 sec on\nmy localhost, or a nearly 4x decrease in test time execution with\nclearer tests and similar meaningful test coverage.\n\nChange-Id: Ie09969a26ad03cb29ed717ea86bd5ae7ec761586\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 9, 'created': '2021-08-19 16:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/495cd2eef2f8c53ea708d7ed06d3d6103b891dc8', 'message': ""tests: Speed up 'servers' API tests\n\nThis file is a bit of a mess and currently takes a long time to run.\nResolve a number of issues, significantly speeding up run time.\n\n- Inherit from base classes without tests. This reduces our test\n  coverage somewhat but that seems reasonable compared to running the\n  same test sometimes 5 or 6 times.\n\n- Remove duplicated tests and helpers\n\n- Move some tests around, so that e.g. a 'ServersControllerTest'\n  subclass, which is supposed to handle show/list tests doesn't include\n  tests for rebuilding a server.\n\nThe end result in a test run that drops from ~308.5 sec to ~81.5 sec on\nmy localhost, or a nearly 4x decrease in test time execution with\nclearer tests and similar meaningful test coverage.\n\nChange-Id: Ie09969a26ad03cb29ed717ea86bd5ae7ec761586\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 10, 'created': '2021-08-20 09:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2d472376d7d935cca4a3857070349587230d181', 'message': ""tests: Speed up 'servers' API tests\n\nThis file is a bit of a mess and currently takes a long time to run.\nResolve a number of issues, significantly speeding up run time.\n\n- Inherit from base classes without tests. This reduces our test\n  coverage somewhat but that seems reasonable compared to running the\n  same test sometimes 5 or 6 times.\n\n- Remove duplicated tests and helpers\n\n- Move some tests around, so that e.g. a 'ServersControllerTest'\n  subclass, which is supposed to handle show/list tests doesn't include\n  tests for rebuilding a server.\n\nThe end result in a test run that drops from ~308.5 sec to ~81.5 sec on\nmy localhost, or a nearly 4x decrease in test time execution with\nclearer tests and similar meaningful test coverage.\n\nChange-Id: Ie09969a26ad03cb29ed717ea86bd5ae7ec761586\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 11, 'created': '2021-08-25 10:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f54a480c524e0733ea7b013ec08d4e34642e203', 'message': ""tests: Speed up 'servers' API tests\n\nThis file is a bit of a mess and currently takes a long time to run.\nResolve a number of issues, significantly speeding up run time.\n\n- Inherit from base classes without tests. This reduces our test\n  coverage somewhat but that seems reasonable compared to running the\n  same test sometimes 5 or 6 times.\n\n- Remove duplicated tests and helpers\n\n- Move some tests around, so that e.g. a 'ServersControllerTest'\n  subclass, which is supposed to handle show/list tests doesn't include\n  tests for rebuilding a server.\n\nThe end result in a test run that drops from ~308.5 sec to ~81.5 sec on\nmy localhost, or a nearly 4x decrease in test time execution with\nclearer tests and similar meaningful test coverage.\n\nChange-Id: Ie09969a26ad03cb29ed717ea86bd5ae7ec761586\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 12, 'created': '2021-08-26 10:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/278b5a31c38bdb1ee86d2d4cf68262493b899428', 'message': ""tests: Speed up 'servers' API tests\n\nThis file is a bit of a mess and currently takes a long time to run.\nResolve a number of issues, significantly speeding up run time.\n\n- Inherit from base classes without tests. This reduces our test\n  coverage somewhat but that seems reasonable compared to running the\n  same test sometimes 5 or 6 times.\n\n- Remove duplicated tests and helpers\n\n- Move some tests around, so that e.g. a 'ServersControllerTest'\n  subclass, which is supposed to handle show/list tests doesn't include\n  tests for rebuilding a server.\n\nThe end result in a test run that drops from ~308.5 sec to ~81.5 sec on\nmy localhost, or a nearly 4x decrease in test time execution with\nclearer tests and similar meaningful test coverage.\n\nChange-Id: Ie09969a26ad03cb29ed717ea86bd5ae7ec761586\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 13, 'created': '2021-08-31 16:26:10.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/48429cc46128d4330c6d0a100d61232db5e8bc81', 'message': ""tests: Speed up 'servers' API tests\n\nThis file is a bit of a mess and currently takes a long time to run.\nResolve a number of issues, significantly speeding up run time.\n\n- Inherit from base classes without tests. This reduces our test\n  coverage somewhat but that seems reasonable compared to running the\n  same test sometimes 5 or 6 times.\n\n- Remove duplicated tests and helpers\n\n- Move some tests around, so that e.g. a 'ServersControllerTest'\n  subclass, which is supposed to handle show/list tests doesn't include\n  tests for rebuilding a server.\n\nThe end result in a test run that drops from ~308.5 sec to ~81.5 sec on\nmy localhost, or a nearly 4x decrease in test time execution with\nclearer tests and similar meaningful test coverage.\n\nChange-Id: Ie09969a26ad03cb29ed717ea86bd5ae7ec761586\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",21,778732,48429cc46128d4330c6d0a100d61232db5e8bc81,67,5,13,15334,,,0,"tests: Speed up 'servers' API tests

This file is a bit of a mess and currently takes a long time to run.
Resolve a number of issues, significantly speeding up run time.

- Inherit from base classes without tests. This reduces our test
  coverage somewhat but that seems reasonable compared to running the
  same test sometimes 5 or 6 times.

- Remove duplicated tests and helpers

- Move some tests around, so that e.g. a 'ServersControllerTest'
  subclass, which is supposed to handle show/list tests doesn't include
  tests for rebuilding a server.

The end result in a test run that drops from ~308.5 sec to ~81.5 sec on
my localhost, or a nearly 4x decrease in test time execution with
clearer tests and similar meaningful test coverage.

Change-Id: Ie09969a26ad03cb29ed717ea86bd5ae7ec761586
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/778732/10 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py']",2,1b5ed91435fb3bbaefe1ce5f194c69d88c344138,bp/configurable-instance-hostnames,,"class MockSetAdminPassword(object): def __init__(self): self.instance_id = None self.password = None def __call__(self, context, instance, password): self.instance_id = instance['uuid'] self.password = password ",453,544
openstack%2Fkeystone~master~I662b33278bc55d99c3de29f25500ee68eae0bdef,openstack/keystone,master,I662b33278bc55d99c3de29f25500ee68eae0bdef,Allow to keystone to override oslo.cache.memcache_pool_flush_on_reconnect,NEW,2021-01-25 18:07:47.000000000,2021-08-31 21:23:36.000000000,,"[{'_account_id': 5046}, {'_account_id': 6928}, {'_account_id': 14250}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-25 18:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d475ca0abfcbb3ae07ff25da523f12e6bec7dc28', 'message': '[WIP] Set memcache_pool_flush_on_reconnect True\n\n``oslo.cache.memcache_pool_flush_on_reconnect`` was made optional to\navoid lot of memcache connection issues outside keystone.\n\nHowever this feature is still needed on keystone, these changes activate\nthe flush on reconnect.\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.cache/+/742193\nChange-Id: I662b33278bc55d99c3de29f25500ee68eae0bdef\n'}, {'number': 2, 'created': '2021-01-27 15:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/abcd61bd5b0debc7db2647310f8a1639983831dd', 'message': 'Set memcache_pool_flush_on_reconnect True\n\n``oslo.cache.memcache_pool_flush_on_reconnect`` was made optional to\navoid lot of memcache connection issues outside keystone.\n\nHowever this feature is still needed on keystone, these changes activate\nthe flush on reconnect.\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.cache/+/742193\nChange-Id: I662b33278bc55d99c3de29f25500ee68eae0bdef\n'}, {'number': 3, 'created': '2021-01-27 15:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cee0f29d068d43cc43862cf39bd7e2255f872198', 'message': 'Allow to keystone to override oslo.cache.memcache_pool_flush_on_reconnect\n\n``oslo.cache.memcache_pool_flush_on_reconnect`` was made optional to\navoid lot of memcache connection issues outside keystone.\n\nHowever this feature is still needed on keystone, these changes activate\nthe flush on reconnect.\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.cache/+/742193\nChange-Id: I662b33278bc55d99c3de29f25500ee68eae0bdef\n'}, {'number': 4, 'created': '2021-01-28 16:35:01.000000000', 'files': ['keystone/policy/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e849b3496bb974a453dd51f6bd3fe6af4733468d', 'message': 'Allow to keystone to override oslo.cache.memcache_pool_flush_on_reconnect\n\n``oslo.cache.memcache_pool_flush_on_reconnect`` was made optional to\navoid lot of memcache connection issues outside keystone.\n\nHowever this feature is still needed on keystone, these changes activate\nthe flush on reconnect.\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.cache/+/742193\nChange-Id: I662b33278bc55d99c3de29f25500ee68eae0bdef\n'}]",6,772394,e849b3496bb974a453dd51f6bd3fe6af4733468d,18,5,4,28522,,,0,"Allow to keystone to override oslo.cache.memcache_pool_flush_on_reconnect

``oslo.cache.memcache_pool_flush_on_reconnect`` was made optional to
avoid lot of memcache connection issues outside keystone.

However this feature is still needed on keystone, these changes activate
the flush on reconnect.

Depends-On: https://review.opendev.org/c/openstack/oslo.cache/+/742193
Change-Id: I662b33278bc55d99c3de29f25500ee68eae0bdef
",git fetch https://review.opendev.org/openstack/keystone refs/changes/94/772394/4 && git format-patch -1 --stdout FETCH_HEAD,['keystone/conf/memcache.py'],1,d475ca0abfcbb3ae07ff25da523f12e6bec7dc28,flush_on_reconnect,"pool_flush_on_reconnect = cfg.BoolOpt( 'memcache_pool_flush_on_reconnect', default=True, help=utils.fmt("""""" Global toggle if memcache will be flushed on reconnect. (oslo_cache.memcache_pool backend only). """""")) pool_flush_on_reconnect,",,9,0
openstack%2Fnova~stable%2Fvictoria~Iaccf2eeeb6e8bb80c658f51ce9ab4e8eb4093a55,openstack/nova,stable/victoria,Iaccf2eeeb6e8bb80c658f51ce9ab4e8eb4093a55,Fix 1vcpu error with multiqueue and vif_type=tap,MERGED,2021-08-25 14:20:51.000000000,2021-08-31 21:17:48.000000000,2021-08-31 21:15:47.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-25 14:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab495f250ecb6b8d372b26618379135d3d8e2ce3', 'message': 'Fix 1vcpu error with multiqueue and vif_type=tap\n\nFix for bug #1893263 introduced a regression where\n1 vcpu instances would fail to build when paired with\nmultiqueue-enabled images, in the scenario vif_type=tap.\n\nSolution is to not pass multiqueue parameter when\ninstances.get_flavor().vcpus = 1.\n\nConflicts:\n    nova/tests/unit/virt/libvirt/test_vif.py\n\nNOTE: Conflicts are because commit\n9d037f7d199443da0f2c6c1755704e589d52e730\nis not in the tree for this branch.\n\nCloses-bug: #1939604\nChange-Id: Iaccf2eeeb6e8bb80c658f51ce9ab4e8eb4093a55\n(cherry picked from commit 7fc6fe6fae891eae42b36ccb9d69cd0f6d6db21d)\n(cherry picked from commit aa5b8d12bcacc01e5f9be45cc1eef24ac9efd2fc)\n'}, {'number': 2, 'created': '2021-08-26 17:01:03.000000000', 'files': ['nova/virt/libvirt/vif.py', 'releasenotes/notes/bug-1939604-547c729b7741831b.yaml', 'nova/tests/unit/virt/libvirt/test_vif.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aaa56240b0311ad47ccccc3b7850ddc5b0a21702', 'message': 'Fix 1vcpu error with multiqueue and vif_type=tap\n\nFix for bug #1893263 introduced a regression where\n1 vcpu instances would fail to build when paired with\nmultiqueue-enabled images, in the scenario vif_type=tap.\n\nSolution is to not pass multiqueue parameter when\ninstances.get_flavor().vcpus = 1.\n\nCloses-bug: #1939604\nChange-Id: Iaccf2eeeb6e8bb80c658f51ce9ab4e8eb4093a55\n(cherry picked from commit 7fc6fe6fae891eae42b36ccb9d69cd0f6d6db21d)\n(cherry picked from commit aa5b8d12bcacc01e5f9be45cc1eef24ac9efd2fc)\n'}]",0,806004,aaa56240b0311ad47ccccc3b7850ddc5b0a21702,27,3,2,14567,,,0,"Fix 1vcpu error with multiqueue and vif_type=tap

Fix for bug #1893263 introduced a regression where
1 vcpu instances would fail to build when paired with
multiqueue-enabled images, in the scenario vif_type=tap.

Solution is to not pass multiqueue parameter when
instances.get_flavor().vcpus = 1.

Closes-bug: #1939604
Change-Id: Iaccf2eeeb6e8bb80c658f51ce9ab4e8eb4093a55
(cherry picked from commit 7fc6fe6fae891eae42b36ccb9d69cd0f6d6db21d)
(cherry picked from commit aa5b8d12bcacc01e5f9be45cc1eef24ac9efd2fc)
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/806004/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/vif.py', 'releasenotes/notes/bug-1939604-547c729b7741831b.yaml', 'nova/tests/unit/virt/libvirt/test_vif.py']",3,ab495f250ecb6b8d372b26618379135d3d8e2ce3,bug/1893263," flavor_1vcpu = objects.Flavor(vcpus=1, memory=512, root_gb=1) flavor_2vcpu = objects.Flavor(vcpus=2, memory=512, root_gb=1) def test_plug_tap_kvm_virtio( self, mock_create_tap_dev, mock_set_mtu, mock_device_exists): flavor=self.flavor_2vcpu, mock_create_tap_dev.assert_called_once_with( 'tap-xxx-yyy-zzz', None, multiqueue=False) flavor=self.flavor_2vcpu, mock_create_tap_dev.assert_called_once_with( 'tap-xxx-yyy-zzz', None, multiqueue=True) @mock.patch('nova.privsep.linux_net.device_exists', return_value=True) @mock.patch('nova.privsep.linux_net.set_device_mtu') @mock.patch('nova.privsep.linux_net.create_tap_dev') def test_plug_tap_mq_ignored_1vcpu( self, mock_create_tap_dev, mock_set_mtu, mock_device_exists): d1 = vif.LibvirtGenericVIFDriver() mq_ins = objects.Instance( id=1, uuid='f0000000-0000-0000-0000-000000000001', image_ref=uuids.image_ref, flavor=self.flavor_1vcpu, project_id=723, system_metadata={ 'image_hw_vif_multiqueue_enabled': 'True', } ) d1.plug(mq_ins, self.vif_tap) mock_create_tap_dev.assert_called_once_with( 'tap-xxx-yyy-zzz', None, multiqueue=False) flavor=self.flavor_2vcpu, mock_create_tap_dev.assert_called_once_with( 'tap-xxx-yyy-zzz', None, multiqueue=False) flavor=self.flavor_2vcpu, mock_create_tap_dev.assert_called_once_with( 'tap-xxx-yyy-zzz', None, multiqueue=False)"," def test_plug_tap_kvm_virtio(self, mock_create_tap_dev, mock_set_mtu, mock_device_exists): mock_create_tap_dev.assert_called_once_with('tap-xxx-yyy-zzz', None, multiqueue=False) mock_create_tap_dev.assert_called_once_with('tap-xxx-yyy-zzz', None, multiqueue=True) mock_create_tap_dev.assert_called_once_with('tap-xxx-yyy-zzz', None, multiqueue=False) mock_create_tap_dev.assert_called_once_with('tap-xxx-yyy-zzz', None, multiqueue=False)",43,13
openstack%2Fopenstack-helm~master~I4d489f5ded94f19dd3fcf58dafde00b18ff5bcae,openstack/openstack-helm,master,I4d489f5ded94f19dd3fcf58dafde00b18ff5bcae,Added helm.sh/hook annotations for nova chart,MERGED,2021-03-17 13:18:06.000000000,2021-08-31 21:17:36.000000000,2021-08-31 21:15:23.000000000,"[{'_account_id': 1004}, {'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 31746}]","[{'number': 1, 'created': '2021-03-17 13:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9b00f9efe33a497073424dea09058a1057e42bb1', 'message': 'Added helm.sh/hook annotations for nova chart\n\nChart upgrading was failing due to some immutable fields in job are needed to upgrade. So, just like keystone, neutron and glance, we have added the\nhelm.sh/hook annotations with post-install and post-upgrade values.\nAs for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like,\ndb-init jobs need to run before db-sync and so on.\n\nChange-Id: I4d489f5ded94f19dd3fcf58dafde00b18ff5bcae\n'}, {'number': 2, 'created': '2021-03-17 14:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0305467bacd88f64886b9a7dc50737b678b2bf10', 'message': 'Added helm.sh/hook annotations for nova chart\n\nChart upgrading was failing due to some immutable fields in job are needed to upgrade. So, just like keystone, neutron and glance, we have added the\nhelm.sh/hook annotations with post-install and post-upgrade values.\nAs for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like,\ndb-init jobs need to run before db-sync and so on.\n\nChange-Id: I4d489f5ded94f19dd3fcf58dafde00b18ff5bcae\n'}, {'number': 3, 'created': '2021-03-18 17:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b89c5b0ec739f7cd186ecea62242c13087aba754', 'message': 'Added helm.sh/hook annotations for nova chart\n\nChart upgrading was failing due to some immutable fields in job are needed to upgrade. So, just like keystone, neutron and glance, we have added the\nhelm.sh/hook annotations with post-install and post-upgrade values.\nAs for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like,\ndb-init jobs need to run before db-sync and so on.\n\nChange-Id: I4d489f5ded94f19dd3fcf58dafde00b18ff5bcae\n'}, {'number': 4, 'created': '2021-03-22 13:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c693002ca6bc51a09853cfc5014c8ac8b41caa07', 'message': 'Added helm.sh/hook annotations for nova chart\n\nChart upgrading was failing due to some immutable fields in job are needed to upgrade. So, just like keystone, neutron and glance, we have added the\nhelm.sh/hook annotations with post-install and post-upgrade values.\nAs for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like,\ndb-init jobs need to run before db-sync and so on.\n\nChange-Id: I4d489f5ded94f19dd3fcf58dafde00b18ff5bcae\n'}, {'number': 5, 'created': '2021-08-17 15:29:42.000000000', 'files': ['nova/templates/job-db-sync.yaml', 'nova/templates/job-image-repo-sync.yaml', 'nova/templates/job-db-init.yaml', 'nova/templates/job-rabbit-init.yaml', 'nova/templates/job-bootstrap.yaml', 'nova/values.yaml', 'nova/templates/job-ks-endpoints.yaml', 'nova/templates/job-ks-service.yaml', 'releasenotes/notes/nova.yaml', 'nova/templates/job-ks-user.yaml', 'nova/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bd825495a4ba16e7d7f66f4cca53db37cccdfb79', 'message': 'Added helm.sh/hook annotations for nova chart\n\nChart upgrading was failing due to some immutable fields are needed to be upgraded before the jobs can be upgraded. For solving this issue, helm.sh/hook annotations with post-install and post-upgrade has been added. As for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like, db-init jobs need to run before db-sync and so on. Also, helm3_hook value is added in values.yaml file in case hooks needs to be disabled if needed.\n\nChange-Id: I4d489f5ded94f19dd3fcf58dafde00b18ff5bcae\n'}]",5,781095,bd825495a4ba16e7d7f66f4cca53db37cccdfb79,24,7,5,33130,,,0,"Added helm.sh/hook annotations for nova chart

Chart upgrading was failing due to some immutable fields are needed to be upgraded before the jobs can be upgraded. For solving this issue, helm.sh/hook annotations with post-install and post-upgrade has been added. As for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like, db-init jobs need to run before db-sync and so on. Also, helm3_hook value is added in values.yaml file in case hooks needs to be disabled if needed.

Change-Id: I4d489f5ded94f19dd3fcf58dafde00b18ff5bcae
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/95/781095/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/job-db-sync.yaml', 'nova/templates/job-image-repo-sync.yaml', 'nova/templates/job-db-init.yaml', 'nova/templates/bin/_nova-compute-init.sh.tpl', 'nova/templates/job-rabbit-init.yaml', 'nova/templates/job-bootstrap.yaml', 'nova/templates/job-ks-endpoints.yaml', 'nova/templates/job-ks-service.yaml', 'releasenotes/notes/nova.yaml', 'nova/templates/job-ks-user.yaml', 'nova/Chart.yaml']",11,9b00f9efe33a497073424dea09058a1057e42bb1,nova,version: 0.1.17,version: 0.1.16,51,10
openstack%2Fmanila~master~Ib28fb9b764644c4ef9fb7bcf61c9e5ddeb9032f4,openstack/manila,master,Ib28fb9b764644c4ef9fb7bcf61c9e5ddeb9032f4,[DNM] Debugging connectivity out of nested compute instances,ABANDONED,2021-08-26 20:58:26.000000000,2021-08-31 21:16:00.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 20:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/500b8ac6902da4eedca3b751932e9e1fdab93625', 'message': '[DNM] Debugging connectivity out of nested compute instances\n\nSee Bug: #1939627 for details\n\nChange-Id: Ib28fb9b764644c4ef9fb7bcf61c9e5ddeb9032f4\nDepends-On: I9e558d1d5d3edbce9e7a025ba3c11267f1579820\n'}]",0,806217,500b8ac6902da4eedca3b751932e9e1fdab93625,15,2,1,16643,,,0,"[DNM] Debugging connectivity out of nested compute instances

See Bug: #1939627 for details

Change-Id: Ib28fb9b764644c4ef9fb7bcf61c9e5ddeb9032f4
Depends-On: I9e558d1d5d3edbce9e7a025ba3c11267f1579820
",git fetch https://review.opendev.org/openstack/manila refs/changes/17/806217/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,500b8ac6902da4eedca3b751932e9e1fdab93625,bug/1939627,,,0,0
openstack%2Fmanila~master~I0791a190b45f9aa3c7e08885c95f533b89f4b4da,openstack/manila,master,I0791a190b45f9aa3c7e08885c95f533b89f4b4da,DNM: user_modifiable field for metadata,ABANDONED,2021-08-18 21:31:53.000000000,2021-08-31 21:15:35.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 32594}]","[{'number': 1, 'created': '2021-08-18 21:31:53.000000000', 'files': ['manila/share/api.py', 'manila/policies/shares.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/9f78adf9db6971354cb052d9d7fd7ac1dcef9d84', 'message': 'DNM: user_modifiable field for metadata\n\nChange-Id: I0791a190b45f9aa3c7e08885c95f533b89f4b4da\n'}]",0,805087,9f78adf9db6971354cb052d9d7fd7ac1dcef9d84,8,3,1,16643,,,0,"DNM: user_modifiable field for metadata

Change-Id: I0791a190b45f9aa3c7e08885c95f533b89f4b4da
",git fetch https://review.opendev.org/openstack/manila refs/changes/87/805087/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/api.py', 'manila/policies/shares.py']",2,9f78adf9db6971354cb052d9d7fd7ac1dcef9d84,dnm," policy.DocumentedRuleDefault( name=BASE_POLICY_NAME % 'update_admin_only_metadata', check_str=base.SYSTEM_ADMIN_OR_PROJECT_ADMIN, scope_types=['system', 'project'], description=""Can update metadata which is not user modifiable."", operations=[ { 'method': 'DELETE', 'path': '/shares/{share_id}', } ], deprecated_rule=deprecated_share_delete ),",,15,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ibfef67aac7730accbffbb3973b9087dfd15dcef4,openstack/tripleo-heat-templates,stable/victoria,Ibfef67aac7730accbffbb3973b9087dfd15dcef4,Stop rotating rabbitmq crash.log files via erlang's lager,MERGED,2021-08-30 20:07:49.000000000,2021-08-31 21:09:06.000000000,2021-08-31 21:09:06.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-30 20:07:49.000000000', 'files': ['deployment/rabbitmq/rabbitmq-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9ae8a06837c5459dae768ee0eafc66135b266ad1', 'message': ""Stop rotating rabbitmq crash.log files via erlang's lager\n\nThe log file `/var/log/containers/rabbitmq/log/crash.log` is currently\nbeing rotated by both the lager logging framework and the\nlogrotate_crond container.\nThis will give us logs like:\n$ ll /var/log/containers/rabbitmq/log/\ntotal 4\n-rw-r-----. 1 42439 42439 0 Aug 26 00:00 crash.log\n-rw-r-----. 1 42439 42439 0 Aug 25 00:00 crash.log.0\n-rw-r-----. 1 42439 42439 0 Aug 24 00:01 crash.log.1\n-rw-r-----. 1 42439 42439 0 Aug 23 00:01 crash.log.2\n-rw-r-----. 1 42439 42439 20 Aug 25 00:00 crash.log-20200825.gz\n-rw-r-----. 1 42439 42439 0 Aug 26 00:00 crash.log-20200826\n-rw-r-----. 1 42439 42439 0 Aug 22 00:00 crash.log.3\n-rw-r-----. 1 42439 42439 0 Aug 21 00:01 crash.log.4\n\nWe need to disable the lager rotation and let logrotate do its job.\n\nTested by applying the patch and confirming, after some days,\nthat there is no double-rotation taking place.\n\nNB: Patch context conflicts\n\nCloses-Bug: #1941698\n\nChange-Id: Ibfef67aac7730accbffbb3973b9087dfd15dcef4\n(cherry picked from commit 236f14fe89b1699fab4f3b8dd1e222a0a670d3da)\n""}]",0,806638,9ae8a06837c5459dae768ee0eafc66135b266ad1,8,4,1,20172,,,0,"Stop rotating rabbitmq crash.log files via erlang's lager

The log file `/var/log/containers/rabbitmq/log/crash.log` is currently
being rotated by both the lager logging framework and the
logrotate_crond container.
This will give us logs like:
$ ll /var/log/containers/rabbitmq/log/
total 4
-rw-r-----. 1 42439 42439 0 Aug 26 00:00 crash.log
-rw-r-----. 1 42439 42439 0 Aug 25 00:00 crash.log.0
-rw-r-----. 1 42439 42439 0 Aug 24 00:01 crash.log.1
-rw-r-----. 1 42439 42439 0 Aug 23 00:01 crash.log.2
-rw-r-----. 1 42439 42439 20 Aug 25 00:00 crash.log-20200825.gz
-rw-r-----. 1 42439 42439 0 Aug 26 00:00 crash.log-20200826
-rw-r-----. 1 42439 42439 0 Aug 22 00:00 crash.log.3
-rw-r-----. 1 42439 42439 0 Aug 21 00:01 crash.log.4

We need to disable the lager rotation and let logrotate do its job.

Tested by applying the patch and confirming, after some days,
that there is no double-rotation taking place.

NB: Patch context conflicts

Closes-Bug: #1941698

Change-Id: Ibfef67aac7730accbffbb3973b9087dfd15dcef4
(cherry picked from commit 236f14fe89b1699fab4f3b8dd1e222a0a670d3da)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/806638/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/rabbitmq/rabbitmq-container-puppet.yaml'],1,9ae8a06837c5459dae768ee0eafc66135b266ad1,victoria-rabbitmq-rotate," rabbitmq::config_additional_variables: lager: '[{crash_log_count, 0}, { crash_log_date, """"}, { crash_log_size, 0 }]'",,2,0
openstack%2Fcharm-ceph-dashboard~master~I13953c41eeef8196715a05dbfcc1573ae40b40de,openstack/charm-ceph-dashboard,master,I13953c41eeef8196715a05dbfcc1573ae40b40de,Use standard name for CA cert,MERGED,2021-08-31 18:46:24.000000000,2021-08-31 20:57:02.000000000,2021-08-31 20:57:02.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2021-08-31 18:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/023d0ce91ed9344202233343bc2eb842768af267', 'message': 'Use standard name for CA cert\n\nUse standard name for CA cert and add config step to ensure thar\ntests do not procede until all dashbaord units are ready\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/628\nChange-Id: I13953c41eeef8196715a05dbfcc1573ae40b40de\n'}, {'number': 2, 'created': '2021-08-31 19:01:09.000000000', 'files': ['tests/tests.yaml', 'src/charm.py', 'unit_tests/test_ceph_dashboard_charm.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/5561c896b330260a028255906463b08acdaebe82', 'message': 'Use standard name for CA cert\n\nUse standard name for CA cert and add config step to ensure thar\ntests do not procede until all dashbaord units are ready\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/628\nChange-Id: I13953c41eeef8196715a05dbfcc1573ae40b40de\n'}]",0,806792,5561c896b330260a028255906463b08acdaebe82,11,4,2,12549,,,0,"Use standard name for CA cert

Use standard name for CA cert and add config step to ensure thar
tests do not procede until all dashbaord units are ready

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/628
Change-Id: I13953c41eeef8196715a05dbfcc1573ae40b40de
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/92/806792/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'src/charm.py']",2,023d0ce91ed9344202233343bc2eb842768af267,fix-ca-locations, TLS_CA_CERT_DIR = Path('/usr/local/share/ca-certificates') TLS_VAULT_CA_CERT_PATH = TLS_CA_CERT_DIR / 'vault_juju_ca_cert.crt' TLS_CHARM_CA_CERT_PATH = TLS_CA_CERT_DIR / 'charm_config_juju_ca_cert.crt' ca_cert_path = self.TLS_VAULT_CA_CERT_PATH ca_cert_path = self.TLS_CHARM_CA_CERT_PATH ca_cert_path.write_bytes(ca_cert), TLS_CA_CERT_PATH = Path( '/usr/local/share/ca-certificates/vault_ca_cert_dashboard.crt') self.TLS_CA_CERT_PATH.write_bytes(ca_cert),7,3
openstack%2Frequirements~master~I33eb075678de2fddc2a31185c03d09cb99817ad8,openstack/requirements,master,I33eb075678de2fddc2a31185c03d09cb99817ad8,update constraint for python-ironicclient to new release 4.8.0,MERGED,2021-08-31 13:16:14.000000000,2021-08-31 20:50:18.000000000,2021-08-31 20:47:33.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-31 13:16:14.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7ea5801a4840f3f4c8473c9cb8c91da5a6fc8aea', 'message': 'update constraint for python-ironicclient to new release 4.8.0\n\nmeta: version: 4.8.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I3a650f59080c242731482b1956a88915a551f7b2\nmeta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I33eb075678de2fddc2a31185c03d09cb99817ad8\n'}]",0,806741,7ea5801a4840f3f4c8473c9cb8c91da5a6fc8aea,12,3,1,11131,,,0,"update constraint for python-ironicclient to new release 4.8.0

meta: version: 4.8.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I3a650f59080c242731482b1956a88915a551f7b2
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I33eb075678de2fddc2a31185c03d09cb99817ad8
",git fetch https://review.opendev.org/openstack/requirements refs/changes/41/806741/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7ea5801a4840f3f4c8473c9cb8c91da5a6fc8aea,new-release,python-ironicclient===4.8.0,python-ironicclient===4.7.0,1,1
openstack%2Ftempest~master~I30d9d823c972e560a0a48e24e44fb16bcc353c5a,openstack/tempest,master,I30d9d823c972e560a0a48e24e44fb16bcc353c5a,"Add missing tempest client for ""QoS Limit Bandwidth"" APIs + testing",MERGED,2021-07-20 17:54:43.000000000,2021-08-31 20:49:50.000000000,2021-08-31 20:47:07.000000000,"[{'_account_id': 287}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 7020}, {'_account_id': 8000}, {'_account_id': 8556}, {'_account_id': 8710}, {'_account_id': 10459}, {'_account_id': 11075}, {'_account_id': 11975}, {'_account_id': 15025}, {'_account_id': 18894}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 29681}]","[{'number': 1, 'created': '2021-07-20 17:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d3cf09bcadaa8f1b3d07ee1a70248a91b4ef1efb', 'message': 'Add missing tempest client for ""QoS Limit Bandwidth"" APIs + testing\n\n""QoS Limit Bandwidth"" APIs must be used in Octavia-Tempest-Plugin\nto add missing QoS based tests.\n\nChange-Id: I30d9d823c972e560a0a48e24e44fb16bcc353c5a\n'}, {'number': 2, 'created': '2021-08-26 12:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fe45800e9542d39510c3e224964ee1744a8953f8', 'message': 'Add missing tempest client for ""QoS Limit Bandwidth"" APIs + testing\n\n""QoS Limit Bandwidth"" APIs must be used in Octavia-Tempest-Plugin\nto add missing QoS based tests.\n\nNote: this patch fixes the ""expected status"" code for\nUpdate Minimum Bandwidth, that was set to default 200 instead of 202.\n\nChange-Id: I30d9d823c972e560a0a48e24e44fb16bcc353c5a\n'}, {'number': 3, 'created': '2021-08-31 12:58:24.000000000', 'files': ['releasenotes/notes/add-qos-apis-for-bandwidth-limit-rules-cc144660fcaa419a.yaml', 'tempest/tests/lib/services/network/test_qos_minimum_bandwidth_rules_client.py', 'tempest/lib/services/network/qos_limit_bandwidth_rules_client.py', 'tempest/tests/lib/services/network/test_qos_limit_bandwidth_rules_client.py', 'tempest/lib/services/network/qos_minimum_bandwidth_rules_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ca3e51356502b6bca86fa5b2c81f2805aecb06f0', 'message': 'Add missing tempest client for ""QoS Limit Bandwidth"" APIs + testing\n\n""QoS Limit Bandwidth"" APIs must be used in Octavia-Tempest-Plugin\nto add missing QoS based tests.\n\nNote: this patch fixes the ""expected status"" code for\nUpdate Minimum Bandwidth, that was set to default 200 instead of 202.\n\nChange-Id: I30d9d823c972e560a0a48e24e44fb16bcc353c5a\n'}]",14,801521,ca3e51356502b6bca86fa5b2c81f2805aecb06f0,34,15,3,28609,,,0,"Add missing tempest client for ""QoS Limit Bandwidth"" APIs + testing

""QoS Limit Bandwidth"" APIs must be used in Octavia-Tempest-Plugin
to add missing QoS based tests.

Note: this patch fixes the ""expected status"" code for
Update Minimum Bandwidth, that was set to default 200 instead of 202.

Change-Id: I30d9d823c972e560a0a48e24e44fb16bcc353c5a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/21/801521/3 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/network/qos_limit_bandwidth_rules_client.py', 'tempest/tests/lib/services/network/test_qos_limit_bandwidth_rules_client.py']",2,d3cf09bcadaa8f1b3d07ee1a70248a91b4ef1efb,add_qos_rule,"# Copyright 2021 Red Hat. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import copy from tempest.lib import decorators from tempest.lib.services.network import qos_limit_bandwidth_rules_client from tempest.tests.lib import fake_auth_provider from tempest.tests.lib.services import base from oslo_log import log as logging LOG = logging.getLogger('tempest') class TestQosLimitBandwidthRulesClient(base.BaseServiceTest): FAKE_QOS_POLICY_ID = ""f1011b08-1297-11e9-a1e7-c7e6825a2616"" FAKE_MAX_BW_RULE_ID = ""e758c89e-1297-11e9-a6cf-cf46a71e6699"" FAKE_MAX_BW_RULE_REQUEST = { 'qos_policy_id': FAKE_QOS_POLICY_ID, 'max_kbps': 1000, 'max_burst_kbps': 0, 'direction': 'ingress' } FAKE_MAX_BW_RULE_RESPONSE = { 'bandwidth_limit_rule': { 'id': FAKE_MAX_BW_RULE_ID, 'max_kbps': 10000, 'max_burst_kbps': 0, 'direction': 'ingress' } } FAKE_MAX_BW_RULES = { 'bandwidth_limit_rules': [ FAKE_MAX_BW_RULE_RESPONSE['bandwidth_limit_rule'] ] } def setUp(self): super(TestQosLimitBandwidthRulesClient, self).setUp() fake_auth = fake_auth_provider.FakeAuthProvider() self.qos_limit_bw_client = qos_limit_bandwidth_rules_client.\ QosLimitBandwidthRulesClient(fake_auth, ""network"", ""regionOne"") @decorators.idempotent_id('cde981fa-e93b-11eb-aacb-74e5f9e2a801') def test_create_limit_bandwidth_rules(self, bytes_body=False): self.check_service_client_function( self.qos_limit_bw_client.create_limit_bandwidth_rule, ""tempest.lib.common.rest_client.RestClient.post"", self.FAKE_MAX_BW_RULE_RESPONSE, bytes_body, 201, **self.FAKE_MAX_BW_RULE_REQUEST ) @decorators.idempotent_id('86e6803a-e974-11eb-aacb-74e5f9e2a801') def test_update_limit_bandwidth_rules(self, bytes_body=False): update_kwargs = { ""max_kbps"": ""20000"" } resp_body = { ""bandwidth_limit_rule"": copy.deepcopy( self.FAKE_MAX_BW_RULE_RESPONSE['bandwidth_limit_rule'] ) } resp_body[""bandwidth_limit_rule""].update(update_kwargs) self.check_service_client_function( self.qos_limit_bw_client.update_limit_bandwidth_rule, ""tempest.lib.common.rest_client.RestClient.put"", resp_body, bytes_body, 200, qos_policy_id=self.FAKE_QOS_POLICY_ID, rule_id=self.FAKE_MAX_BW_RULE_ID, **update_kwargs) @decorators.idempotent_id('be60ae6e-e979-11eb-aacb-74e5f9e2a801') def test_show_limit_bandwidth_rules(self, bytes_body=False): self.check_service_client_function( self.qos_limit_bw_client.show_limit_bandwidth_rule, ""tempest.lib.common.rest_client.RestClient.get"", self.FAKE_MAX_BW_RULE_RESPONSE, bytes_body, 200, qos_policy_id=self.FAKE_QOS_POLICY_ID, rule_id=self.FAKE_MAX_BW_RULE_ID ) @decorators.idempotent_id('0a7c0964-e97b-11eb-aacb-74e5f9e2a801') def test_delete_limit_bandwidth_rule(self): self.check_service_client_function( self.qos_limit_bw_client.delete_limit_bandwidth_rule, ""tempest.lib.common.rest_client.RestClient.delete"", {}, status=204, qos_policy_id=self.FAKE_QOS_POLICY_ID, rule_id=self.FAKE_MAX_BW_RULE_ID) @decorators.idempotent_id('08df88ae-e97d-11eb-aacb-74e5f9e2a801') def test_list_minimum_bandwidth_rules(self, bytes_body=False): self.check_service_client_function( self.qos_limit_bw_client.list_limit_bandwidth_rules, ""tempest.lib.common.rest_client.RestClient.get"", self.FAKE_MAX_BW_RULES, bytes_body, 200, qos_policy_id=self.FAKE_QOS_POLICY_ID ) ",,198,0
openstack%2Fswift~master~Iab53c574cc226e9505f28d3443fd7972b90a463a,openstack/swift,master,Iab53c574cc226e9505f28d3443fd7972b90a463a,Add documentation for DELETE method for Swift Object Store API.,MERGED,2021-08-24 11:00:22.000000000,2021-08-31 20:49:24.000000000,2021-08-31 20:47:23.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 11:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/065c4ee4811d64ba1933e5fbbe3fb9369b99a3d0', 'message': "" Add documentation for DELETE method for Swift Object Store API.\n\n   Account API does not document 'DELETE' verb, which is a valid request to\ndelete an account.\n   This is a doc addition request.\n\n Closes-Bug: 1704200\n\nChange-Id: Iab53c574cc226e9505f28d3443fd7972b90a463a\n""}, {'number': 2, 'created': '2021-08-27 12:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/252d35e7bef1ef879a6c42cd89044ff0daf40258', 'message': "" Add documentation for DELETE method for Swift Object Store API.\n\n   Account API does not document 'DELETE' verb, which is a valid request to\ndelete an account.\n   This is a doc addition request.\n\n Closes-Bug: 1704200\n\nChange-Id: Iab53c574cc226e9505f28d3443fd7972b90a463a\n""}, {'number': 3, 'created': '2021-08-27 12:23:45.000000000', 'files': ['api-ref/source/storage-account-services.inc'], 'web_link': 'https://opendev.org/openstack/swift/commit/dfd1bdc9e2eae0a31cc5abbbf8e2584e1545598a', 'message': "" Add documentation for DELETE method for Swift Object Store API.\n\n   Account API does not document 'DELETE' verb, which is a valid request to\ndelete an account.\n   This is a doc addition request.\n\n Closes-Bug: 1704200\n\nChange-Id: Iab53c574cc226e9505f28d3443fd7972b90a463a\n""}]",10,805808,dfd1bdc9e2eae0a31cc5abbbf8e2584e1545598a,14,2,3,33856,,,0," Add documentation for DELETE method for Swift Object Store API.

   Account API does not document 'DELETE' verb, which is a valid request to
delete an account.
   This is a doc addition request.

 Closes-Bug: 1704200

Change-Id: Iab53c574cc226e9505f28d3443fd7972b90a463a
",git fetch https://review.opendev.org/openstack/swift refs/changes/08/805808/3 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/storage-account-services.inc'],1,065c4ee4811d64ba1933e5fbbe3fb9369b99a3d0,bug/1704200," Delete the specified account ============================ .. rest_method:: DELETE /v1/{account} Deletes the specified account when a reseller admin issues this request. Accounts are only deleted by (1) having a reseller admin level auth token (2) sending a DELETE to a proxy server for the account to be deleted and (3) that proxy server having the allow_account_management"" config option set to true. If an exception occurs interrupting the account deletion, it is automatically resumed the next time the request is made with the same parameters. It's only with the -v option that the response headers are output to stdout. Take care when performing this operation because deleting an account is a one-way operation that is not trivially recoverable. It's crucial to note that in an OpenStack context, you should delete an account after the project/tenant has been deleted from Keystone. :: curl -i $publicURL -X DELETE -H 'X-Auth-Token: $<reseller admin token>' :: HTTP/1.1 200 OK X-Storage-Url: http://127.0.0.1:8080/v1/AUTH_testuser X-Auth-Token-Expires: 78993 X-Auth-Token: AUTH_tkafc9459769bc444daf6c6a55b69d61a7 Content-Length: 0 Content-Type: text/html; charset=UTF-8 X-Storage-Token: AUTH_tk824cd8ffbbef4103a9b8be457e229be8 X-Trans-Id: tx54dd505d781745aa8c973-006124ba92 X-Openstack-Request-Id: tx54dd505d781745aa8c973-006124ba92 Date: Tue, 24 Aug 2021 09:23:30 GMT If the account or authentication token is not valid, the operation returns the ``Unauthorized (401)``. If you try to delete an account without the admin token, a ``403 Forbidden`` response code is returned. If you try specify the URL, a ``404 Not Found`` response code is returned. Error response codes:200,401,403,404. Request ------- .. rest_parameters:: parameters.yaml - account: account - X-Auth-Token: X-Auth-Token - Accept: Accept Response Parameters ------------------- .. rest_parameters:: parameters.yaml - Date: Date - X-Timestamp: X-Timestamp - Content-Length: Content-Length_cud_resp - Content-Type: Content-Type_cud_resp - X-Trans-Id: X-Trans-Id - X-Openstack-Request-Id: X-Openstack-Request-Id ",,73,0
openstack%2Fpython-openstackclient~master~I0afa1796d488a96160f4a7fd615920d05fe1771c,openstack/python-openstackclient,master,I0afa1796d488a96160f4a7fd615920d05fe1771c,[community goal] Update contributor documentation,MERGED,2021-08-30 17:07:28.000000000,2021-08-31 20:49:19.000000000,2021-08-31 20:47:10.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-08-30 17:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/77600c33e30cd7e63225d23340eeb94eca67b2da', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38547\nChange-Id: I0afa1796d488a96160f4a7fd615920d05fe1771c\n'}, {'number': 2, 'created': '2021-08-30 17:13:16.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6ce7da8aeb7e5d1347940433e087036e8e43eaa6', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38547\nChange-Id: I0afa1796d488a96160f4a7fd615920d05fe1771c\n'}]",0,806624,6ce7da8aeb7e5d1347940433e087036e8e43eaa6,9,3,2,8556,,,0,"[community goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38547
Change-Id: I0afa1796d488a96160f4a7fd615920d05fe1771c
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/24/806624/2 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,77600c33e30cd7e63225d23340eeb94eca67b2da,project-ptl-and-contrib-docs,"The source repository for this project can be found at: https://opendev.org/openstack/python-openstackclient Pull requests submitted through GitHub are not monitored. To start contributing to OpenStack, follow the steps in the contribution guide to set up and use Gerrit: https://docs.openstack.org/contributors/code-and-documentation/quick-start.html Bugs should be filed on StoryBoard: Developers should also join the discussion on the mailing list, at: http://lists.openstack.org/cgi-bin/mailman/listinfo/openstack-discuss or join the IRC channel on #openstack-sdks on OFTC (irc.oftc.net) For more specific information about contributing to this repository, see the openstacksdk contributor guide: https://docs.openstack.org/openstacksdk/latest/contributor/index.html","If you would like to contribute to the development of OpenStack, you must follow the steps documented at: https://docs.openstack.org/infra/manual/developers.html Once those steps have been completed, changes to OpenStack should be submitted for review via the Gerrit tool, following the workflow documented at: https://docs.openstack.org/infra/manual/developers.html#development-workflow Pull requests submitted through GitHub will be ignored. Bugs should be filed on Storyboard, not GitHub or Launchpad:",20,9
openstack%2Fdevstack~master~I9e558d1d5d3edbce9e7a025ba3c11267f1579820,openstack/devstack,master,I9e558d1d5d3edbce9e7a025ba3c11267f1579820,Configure access to physical network also with ML2/OVN backend,MERGED,2021-08-26 19:47:27.000000000,2021-08-31 20:49:10.000000000,2021-08-31 20:47:21.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6413}, {'_account_id': 6773}, {'_account_id': 8556}, {'_account_id': 9003}, {'_account_id': 13252}, {'_account_id': 16643}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-26 19:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f56c6ad00dd01ef1e954564a80e43cd182e03e51', 'message': ""Configure access to physical network also with ML2/OVN backend\n\nNeutron L3 module in Devstack has way to conigure access to physical\nnetwork on the node. It can put physical interface to the physical\nbridge or, in case when such physical device isn't set, it creates\nNAT rule in iptables.\n\nThere was missing the same operation for ML2/OVN backend as L3 agent is\nnot used there at all.\n\nThis patch adds the same to be done in both L3 agent and ovn_agent\nmodules.\n\nCloses-Bug: #1939627\nChange-Id: I9e558d1d5d3edbce9e7a025ba3c11267f1579820\n""}, {'number': 2, 'created': '2021-08-31 12:41:52.000000000', 'files': ['lib/neutron_plugins/services/l3', 'lib/neutron_plugins/ovn_agent', 'lib/neutron-legacy'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b1a89eb80be83fe8c47eeb0431d85a8452e3c70b', 'message': ""Configure access to physical network also with ML2/OVN backend\n\nNeutron L3 module in Devstack has way to conigure access to physical\nnetwork on the node. It can put physical interface to the physical\nbridge or, in case when such physical device isn't set, it creates\nNAT rule in iptables.\n\nThere was missing the same operation for ML2/OVN backend as L3 agent is\nnot used there at all.\n\nThis patch adds the same to be done in both L3 agent and ovn_agent\nmodules.\n\nCloses-Bug: #1939627\nChange-Id: I9e558d1d5d3edbce9e7a025ba3c11267f1579820\n""}]",2,806267,b1a89eb80be83fe8c47eeb0431d85a8452e3c70b,26,12,2,11975,,,0,"Configure access to physical network also with ML2/OVN backend

Neutron L3 module in Devstack has way to conigure access to physical
network on the node. It can put physical interface to the physical
bridge or, in case when such physical device isn't set, it creates
NAT rule in iptables.

There was missing the same operation for ML2/OVN backend as L3 agent is
not used there at all.

This patch adds the same to be done in both L3 agent and ovn_agent
modules.

Closes-Bug: #1939627
Change-Id: I9e558d1d5d3edbce9e7a025ba3c11267f1579820
",git fetch https://review.opendev.org/openstack/devstack refs/changes/67/806267/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/neutron_plugins/services/l3', 'lib/neutron_plugins/ovn_agent', 'lib/neutron-legacy']",3,f56c6ad00dd01ef1e954564a80e43cd182e03e51,bug/1939627,"# _configure_public_network_connectivity() - Configures connectivity to the # external network using $PUBLIC_INTERFACE or NAT on the single interface # machines function _configure_public_network_connectivity { if [[ -n ""$PUBLIC_INTERFACE"" ]]; then _move_neutron_addresses_route ""$PUBLIC_INTERFACE"" ""$OVS_PHYSICAL_BRIDGE"" True False ""inet"" if [[ $(ip -f inet6 a s dev ""$PUBLIC_INTERFACE"" | grep -c 'global') != 0 ]]; then _move_neutron_addresses_route ""$PUBLIC_INTERFACE"" ""$OVS_PHYSICAL_BRIDGE"" False False ""inet6"" fi else for d in $default_v4_route_devs; do sudo iptables -t nat -A POSTROUTING -o $d -s $FLOATING_RANGE -j MASQUERADE done fi } ",,19,11
openstack%2Frequirements~master~I3b41e6cc8a3aa6a94b592d5465db8e54c7b41c18,openstack/requirements,master,I3b41e6cc8a3aa6a94b592d5465db8e54c7b41c18,update constraint for python-blazarclient to new release 3.3.0,MERGED,2021-08-31 13:44:31.000000000,2021-08-31 20:48:57.000000000,2021-08-31 20:47:18.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-31 13:44:31.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/031530d81756a96ae27d29bb97e9bc6ec910918f', 'message': 'update constraint for python-blazarclient to new release 3.3.0\n\nmeta: version: 3.3.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I1aeb8ca05241dfe4c523f6f0d0bc1e3216eaf530\nmeta: release:Code-Review+1: Pierre Riteau <pierre@stackhpc.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I3b41e6cc8a3aa6a94b592d5465db8e54c7b41c18\n'}]",0,806747,031530d81756a96ae27d29bb97e9bc6ec910918f,9,3,1,11131,,,0,"update constraint for python-blazarclient to new release 3.3.0

meta: version: 3.3.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I1aeb8ca05241dfe4c523f6f0d0bc1e3216eaf530
meta: release:Code-Review+1: Pierre Riteau <pierre@stackhpc.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I3b41e6cc8a3aa6a94b592d5465db8e54c7b41c18
",git fetch https://review.opendev.org/openstack/requirements refs/changes/47/806747/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,031530d81756a96ae27d29bb97e9bc6ec910918f,new-release,python-blazarclient===3.3.0,python-blazarclient===3.2.0,1,1
openstack%2Fnova~stable%2Fussuri~Ie653e5ec69d16ae469f1f8171fee85aea754edff,openstack/nova,stable/ussuri,Ie653e5ec69d16ae469f1f8171fee85aea754edff,Dynamically archive FK related records in archive_deleted_rows,MERGED,2021-04-06 23:01:07.000000000,2021-08-31 20:16:37.000000000,2021-08-31 20:14:46.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 23:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac89b8fbe524f333b8bb8531f5be0a7f03c5289d', 'message': 'Dynamically archive FK related records in archive_deleted_rows\n\nCurrently, it is possible to ""partially archive"" the database by\nrunning \'nova-manage db archive_deleted_rows\' with --max_rows or by\ninterrupting the archive process in any way. When this happens, it is\npossible to have archived a record with a foreign key relationship to a\nparent record (example: \'instance_extra\' table record is archived while\nthe \'instances\' table record remains).\n\nWhen an instance\'s records become ""split"" in this way, any API request\nthat can (1) access the deleted instance and (2) tries to access data\nthat should be in a child table (example: the embedded flavor for an\ninstance) will fail with an OrphanedObjectError and HTTP 500 to the\nuser. Examples of APIs that are affected by this are the tenant usage\nAPIs and listing of deleted instances as admin.\n\nIn the tenant usage example, the API looks at deleted instances to\ncalculate usage over a time period. It pulls deleted and non-deleted\ninstances and does instance.get_flavor() to calculate their usage. The\nflavor data is expected to be present because\nexpecteds_attrs=[\'flavor\'] is used to do a join with the\n\'instance_extra\' table and populate the instance object\'s flavor data.\nWhen get_flavor() is called, it tries to access the instance.flavor\nattribute (which hasn\'t been populated because the \'instance_extra\'\nrecord is gone). That triggers a lazy-load of the flavor which loads\nthe instance from the database again with expected_attrs=[\'flavor\']\nagain which doesn\'t populate instance.flavor (again) because the\n\'instance_extra\' record is gone. Then the Instance._load_flavor code\nintentionally orphans the instance record to avoid triggering\nlazy-loads while it attempts to populate instance.flavor,\ninstance.new_flavor, and instance.old_flavor. Finally, another\nlazy-load is triggered (because instance.flavor is still not populated)\nand fails with OrphanedObjectError.\n\nOne way to solve this problem is to make it impossible for\narchive_deleted_records to orphan records that are related by foreign\nkey relationships. The approach is to process parent tables first\n(opposite of today where we process child tables first) and find all of\nthe tables that refer to it by foreign keys, create and collect\ninsert/delete statements for those child records, and then put them all\ntogether in a single database transaction to archive all related\nrecords ""atomically"". The idea is that if anything were to interrupt\nthe transaction (errors or other) it would roll back and keep all the\nrelated records together. Either all or archived or none are archived.\n\nThis changes the logic of the per table archive to discover tables that\nrefer to the table by foreign keys and generates insert/delete query\nstatements to execute in the same database transaction as the table\narchive itself. The extra records archived along with the table are\nadded to the rows_archived result. The existing code for ""archiving\nrecords if instance is deleted"" also has to be removed along with this\nbecause the new logic does the same thing dynamically and makes it\nobsolete. Finally, some assertions in the unit tests need to be changed\nor removed because they were assuming certain types of archiving\nfailures due to foreign key constraint violations that can no longer\noccur with the new dynamic logic for archiving child records.\n\nCloses-Bug: #1837995\n\nChange-Id: Ie653e5ec69d16ae469f1f8171fee85aea754edff\n(cherry picked from commit becb94ae643ab4863daa564783646921b4a2b372)\n(cherry picked from commit 513ed1dd3c60954dc467a64fdfd849a989cae56c)\n'}, {'number': 2, 'created': '2021-04-07 16:00:25.000000000', 'files': ['nova/tests/functional/db/test_archive.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8a858eca55544f25427c3762f14523b1507261ee', 'message': 'Dynamically archive FK related records in archive_deleted_rows\n\nCurrently, it is possible to ""partially archive"" the database by\nrunning \'nova-manage db archive_deleted_rows\' with --max_rows or by\ninterrupting the archive process in any way. When this happens, it is\npossible to have archived a record with a foreign key relationship to a\nparent record (example: \'instance_extra\' table record is archived while\nthe \'instances\' table record remains).\n\nWhen an instance\'s records become ""split"" in this way, any API request\nthat can (1) access the deleted instance and (2) tries to access data\nthat should be in a child table (example: the embedded flavor for an\ninstance) will fail with an OrphanedObjectError and HTTP 500 to the\nuser. Examples of APIs that are affected by this are the tenant usage\nAPIs and listing of deleted instances as admin.\n\nIn the tenant usage example, the API looks at deleted instances to\ncalculate usage over a time period. It pulls deleted and non-deleted\ninstances and does instance.get_flavor() to calculate their usage. The\nflavor data is expected to be present because\nexpecteds_attrs=[\'flavor\'] is used to do a join with the\n\'instance_extra\' table and populate the instance object\'s flavor data.\nWhen get_flavor() is called, it tries to access the instance.flavor\nattribute (which hasn\'t been populated because the \'instance_extra\'\nrecord is gone). That triggers a lazy-load of the flavor which loads\nthe instance from the database again with expected_attrs=[\'flavor\']\nagain which doesn\'t populate instance.flavor (again) because the\n\'instance_extra\' record is gone. Then the Instance._load_flavor code\nintentionally orphans the instance record to avoid triggering\nlazy-loads while it attempts to populate instance.flavor,\ninstance.new_flavor, and instance.old_flavor. Finally, another\nlazy-load is triggered (because instance.flavor is still not populated)\nand fails with OrphanedObjectError.\n\nOne way to solve this problem is to make it impossible for\narchive_deleted_records to orphan records that are related by foreign\nkey relationships. The approach is to process parent tables first\n(opposite of today where we process child tables first) and find all of\nthe tables that refer to it by foreign keys, create and collect\ninsert/delete statements for those child records, and then put them all\ntogether in a single database transaction to archive all related\nrecords ""atomically"". The idea is that if anything were to interrupt\nthe transaction (errors or other) it would roll back and keep all the\nrelated records together. Either all or archived or none are archived.\n\nThis changes the logic of the per table archive to discover tables that\nrefer to the table by foreign keys and generates insert/delete query\nstatements to execute in the same database transaction as the table\narchive itself. The extra records archived along with the table are\nadded to the rows_archived result. The existing code for ""archiving\nrecords if instance is deleted"" also has to be removed along with this\nbecause the new logic does the same thing dynamically and makes it\nobsolete. Finally, some assertions in the unit tests need to be changed\nor removed because they were assuming certain types of archiving\nfailures due to foreign key constraint violations that can no longer\noccur with the new dynamic logic for archiving child records.\n\nCloses-Bug: #1837995\n\nChange-Id: Ie653e5ec69d16ae469f1f8171fee85aea754edff\n(cherry picked from commit becb94ae643ab4863daa564783646921b4a2b372)\n(cherry picked from commit 7b4f4796478941eafa9c0997f7ef03293c442d94)\n'}]",2,785072,8a858eca55544f25427c3762f14523b1507261ee,18,3,2,4690,,,0,"Dynamically archive FK related records in archive_deleted_rows

Currently, it is possible to ""partially archive"" the database by
running 'nova-manage db archive_deleted_rows' with --max_rows or by
interrupting the archive process in any way. When this happens, it is
possible to have archived a record with a foreign key relationship to a
parent record (example: 'instance_extra' table record is archived while
the 'instances' table record remains).

When an instance's records become ""split"" in this way, any API request
that can (1) access the deleted instance and (2) tries to access data
that should be in a child table (example: the embedded flavor for an
instance) will fail with an OrphanedObjectError and HTTP 500 to the
user. Examples of APIs that are affected by this are the tenant usage
APIs and listing of deleted instances as admin.

In the tenant usage example, the API looks at deleted instances to
calculate usage over a time period. It pulls deleted and non-deleted
instances and does instance.get_flavor() to calculate their usage. The
flavor data is expected to be present because
expecteds_attrs=['flavor'] is used to do a join with the
'instance_extra' table and populate the instance object's flavor data.
When get_flavor() is called, it tries to access the instance.flavor
attribute (which hasn't been populated because the 'instance_extra'
record is gone). That triggers a lazy-load of the flavor which loads
the instance from the database again with expected_attrs=['flavor']
again which doesn't populate instance.flavor (again) because the
'instance_extra' record is gone. Then the Instance._load_flavor code
intentionally orphans the instance record to avoid triggering
lazy-loads while it attempts to populate instance.flavor,
instance.new_flavor, and instance.old_flavor. Finally, another
lazy-load is triggered (because instance.flavor is still not populated)
and fails with OrphanedObjectError.

One way to solve this problem is to make it impossible for
archive_deleted_records to orphan records that are related by foreign
key relationships. The approach is to process parent tables first
(opposite of today where we process child tables first) and find all of
the tables that refer to it by foreign keys, create and collect
insert/delete statements for those child records, and then put them all
together in a single database transaction to archive all related
records ""atomically"". The idea is that if anything were to interrupt
the transaction (errors or other) it would roll back and keep all the
related records together. Either all or archived or none are archived.

This changes the logic of the per table archive to discover tables that
refer to the table by foreign keys and generates insert/delete query
statements to execute in the same database transaction as the table
archive itself. The extra records archived along with the table are
added to the rows_archived result. The existing code for ""archiving
records if instance is deleted"" also has to be removed along with this
because the new logic does the same thing dynamically and makes it
obsolete. Finally, some assertions in the unit tests need to be changed
or removed because they were assuming certain types of archiving
failures due to foreign key constraint violations that can no longer
occur with the new dynamic logic for archiving child records.

Closes-Bug: #1837995

Change-Id: Ie653e5ec69d16ae469f1f8171fee85aea754edff
(cherry picked from commit becb94ae643ab4863daa564783646921b4a2b372)
(cherry picked from commit 7b4f4796478941eafa9c0997f7ef03293c442d94)
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/785072/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/db/test_archive.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",3,ac89b8fbe524f333b8bb8531f5be0a7f03c5289d,bug/1837995,"def _get_tables_with_fk_to_table(table): """"""Get a list of tables that refer to the given table by foreign key (FK). :param table: Table object (parent) for which to find references by FK :returns: A list of Table objects that refer to the specified table by FK tables = [] for t in models.BASE.metadata.tables.values(): for fk in t.foreign_keys: if fk.references(table): tables.append(t) return tables def _get_fk_stmts(metadata, conn, table, column, records): """"""Find records related to this table by foreign key (FK) and create and return insert/delete statements for them. Logic is: find the tables that reference the table passed to this method and walk the tree of references by FK. As child records are found, prepend them to deques to execute later in a single database transaction (to avoid orphaning related records if any one insert/delete fails or the archive process is otherwise interrupted). :param metadata: Metadata object to use to construct a shadow Table object :param conn: Connection object to use to select records related by FK :param table: Table object (parent) for which to find references by FK :param column: Column object (parent) to use to select records related by FK :param records: A list of records (column values) to use to select records related by FK :returns: tuple of (insert statements, delete statements) for records related by FK to insert into shadow tables and delete from main tables """""" inserts = collections.deque() deletes = collections.deque() fk_tables = _get_tables_with_fk_to_table(table) for fk_table in fk_tables: # Create the shadow table for the referencing table. fk_shadow_tablename = _SHADOW_TABLE_PREFIX + fk_table.name try: fk_shadow_table = Table(fk_shadow_tablename, metadata, autoload=True) except NoSuchTableError: # No corresponding shadow table; skip it. continue # TODO(stephenfin): Drop this when we drop the table if fk_table.name == ""dns_domains"": # We have one table (dns_domains) where the key is called # ""domain"" rather than ""id"" fk_column = fk_table.c.domain else: fk_column = fk_table.c.id for fk in fk_table.foreign_keys: # We need to find the records in the referring (child) table that # correspond to the records in our (parent) table so we can archive # them. # First, select the column in the parent referenced by the child # table that corresponds to the parent table records that were # passed in. # Example: table = 'instances' and fk_table = 'instance_extra' # fk.parent = instance_extra.instance_uuid # fk.column = instances.uuid # SELECT instances.uuid FROM instances, instance_extra # WHERE instance_extra.instance_uuid = instances.uuid # AND instance.id IN (<ids>) # We need the instance uuids for the <ids> in order to # look up the matching instance_extra records. select = sql.select([fk.column]).where( sql.and_(fk.parent == fk.column, column.in_(records))) rows = conn.execute(select).fetchall() p_records = [r[0] for r in rows] # Then, select rows in the child table that correspond to the # parent table records that were passed in. # Example: table = 'instances' and fk_table = 'instance_extra' # fk.parent = instance_extra.instance_uuid # fk.column = instances.uuid # SELECT instance_extra.id FROM instance_extra, instances # WHERE instance_extra.instance_uuid = instances.uuid # AND instances.uuid IN (<uuids>) # We will get the instance_extra ids we need to archive # them. fk_select = sql.select([fk_column]).where( sql.and_(fk.parent == fk.column, fk.column.in_(p_records))) fk_rows = conn.execute(fk_select).fetchall() fk_records = [r[0] for r in fk_rows] if fk_records: # If we found any records in the child table, create shadow # table insert statements for them and prepend them to the # deque. fk_columns = [c.name for c in fk_table.c] fk_insert = fk_shadow_table.insert(inline=True).\ from_select(fk_columns, sql.select([fk_table], fk_column.in_(fk_records))) inserts.appendleft(fk_insert) # Create main table delete statements and prepend them to the # deque. fk_delete = fk_table.delete().where(fk_column.in_(fk_records)) deletes.appendleft(fk_delete) # Repeat for any possible nested child tables. i, d = _get_fk_stmts(metadata, conn, fk_table, fk_column, fk_records) inserts.extendleft(i) deletes.extendleft(d) return inserts, deletes Will also follow FK constraints and archive all referring rows. Example: archving a record from the 'instances' table will also archive the 'instance_extra' record before archiving the 'instances' record. :returns: 3-item tuple: - number of extra rows archived (due to FK constraints) dict of {tablename: rows_archived} return rows_archived, deleted_instance_uuids, {} # We will archive deleted rows for this table and also generate insert and # delete statements for extra rows we may archive by following FK # relationships. Because we are iterating over the sorted_tables (list of # Table objects sorted in order of foreign key dependency), new inserts and # deletes (""leaves"") will be added to the fronts of the deques created in # _get_fk_stmts. This way, we make sure we delete child table records # before we delete their parent table records. # Keep track of any extra tablenames to number of rows that we archive by # following FK relationships. # {tablename: extra_rows_archived} extras = collections.defaultdict(int) # Walk FK relationships and add insert/delete statements for rows that # refer to this table via FK constraints. fk_inserts and fk_deletes # will be prepended to by _get_fk_stmts if referring rows are found by # FK constraints. fk_inserts, fk_deletes = _get_fk_stmts( metadata, conn, table, column, records) for fk_insert in fk_inserts: conn.execute(fk_insert) for fk_delete in fk_deletes: result_fk_delete = conn.execute(fk_delete) extras[fk_delete.table.name] += result_fk_delete.rowcount rows_archived += result_delete.rowcount return rows_archived, deleted_instance_uuids, extras table_to_rows_archived = collections.defaultdict(int) # Get the sorted list of tables in order of foreign key dependency. # Process the parent tables and find their dependent records in order to # archive the related records in a single database transactions. The goal # is to avoid a situation where, for example, an 'instances' table record # is missing its corresponding 'instance_extra' record due to running the # archive_deleted_rows command with max_rows. for table in meta.sorted_tables: rows_archived, _deleted_instance_uuids, extras = ( for tablename, extra_rows_archived in extras.items(): table_to_rows_archived[tablename] += extra_rows_archived total_rows_archived += extra_rows_archived","def _archive_if_instance_deleted(table, shadow_table, instances, conn, max_rows, before): """"""Look for records that pertain to deleted instances, but may not be deleted themselves. This catches cases where we delete an instance, but leave some residue because of a failure in a cleanup path or similar. Logic is: if I have a column called instance_uuid, and that instance is deleted, then I can be deleted. # NOTE(jake): handle instance_actions_events differently as it relies on # instance_actions.id not instances.uuid if table.name == ""instance_actions_events"": instance_actions = models.BASE.metadata.tables[""instance_actions""] query_select = sql.select( [table], and_(instances.c.deleted != instances.c.deleted.default.arg, instances.c.uuid == instance_actions.c.instance_uuid, instance_actions.c.id == table.c.action_id)) else: query_select = sql.select( [table], and_(instances.c.deleted != instances.c.deleted.default.arg, instances.c.uuid == table.c.instance_uuid)) if before: query_select = query_select.where(instances.c.deleted_at < before) query_select = query_select.order_by(table.c.id).limit(max_rows) query_insert = shadow_table.insert(inline=True).\ from_select([c.name for c in table.c], query_select) delete_statement = DeleteFromSelect(table, query_select, table.c.id) :returns: 2-item tuple: return rows_archived, deleted_instance_uuids rows_archived = result_delete.rowcount # NOTE(jake): instance_actions_events doesn't have a instance_uuid column # but still needs to be archived as it is a FK constraint if ((max_rows is None or rows_archived < max_rows) and # NOTE(melwitt): The pci_devices table uses the 'instance_uuid' # column to track the allocated association of a PCI device and its # records are not tied to the lifecycles of instance records. (tablename != 'pci_devices' and 'instance_uuid' in columns or tablename == 'instance_actions_events')): instances = models.BASE.metadata.tables['instances'] limit = max_rows - rows_archived if max_rows is not None else None extra = _archive_if_instance_deleted(table, shadow_table, instances, conn, limit, before) rows_archived += extra return rows_archived, deleted_instance_uuids table_to_rows_archived = {} # Reverse sort the tables so we get the leaf nodes first for processing. for table in reversed(meta.sorted_tables): rows_archived, _deleted_instance_uuids = (",166,80
openstack%2Ftripleo-ansible~stable%2Fwallaby~Idfc734022d40de82f510110ba7a5260a2118cb00,openstack/tripleo-ansible,stable/wallaby,Idfc734022d40de82f510110ba7a5260a2118cb00,Generate Octavia ssh key from the octavia playbook,MERGED,2021-08-26 19:39:35.000000000,2021-08-31 19:58:43.000000000,2021-08-31 19:58:43.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-08-26 19:39:35.000000000', 'files': ['tripleo_ansible/playbooks/octavia-files.yaml', 'tripleo_ansible/roles/octavia_undercloud/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a7667f0f9405edc71eda945fcfe90c09a87cbf9c', 'message': ""Generate Octavia ssh key from the octavia playbook\n\nUnless it is explicitly set with the OctaviaAmphoraSshKeyFile parameter,\nthe Octavia ssh key is now automatically generated in the directory\npointed by the OctaviaAmphoraSshKeyDir parameter (default:\n/etc/octavia/ssh)\n\nNB: As mentioned in https://review.opendev.org/c/openstack/tripleo-heat-templates/+/783823\nthe dep-on was wrong, so let's remove it from this review.\n\nRelated-bug: #1907112\nChange-Id: Idfc734022d40de82f510110ba7a5260a2118cb00\n""}]",0,806265,a7667f0f9405edc71eda945fcfe90c09a87cbf9c,16,5,1,20172,,,0,"Generate Octavia ssh key from the octavia playbook

Unless it is explicitly set with the OctaviaAmphoraSshKeyFile parameter,
the Octavia ssh key is now automatically generated in the directory
pointed by the OctaviaAmphoraSshKeyDir parameter (default:
/etc/octavia/ssh)

NB: As mentioned in https://review.opendev.org/c/openstack/tripleo-heat-templates/+/783823
the dep-on was wrong, so let's remove it from this review.

Related-bug: #1907112
Change-Id: Idfc734022d40de82f510110ba7a5260a2118cb00
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/65/806265/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/octavia-files.yaml', 'tripleo_ansible/roles/octavia_undercloud/tasks/main.yml']",2,a7667f0f9405edc71eda945fcfe90c09a87cbf9c,w-octavia," - name: Set ssh key path fact- name: Generate ssh public key for Octavia block: - name: Create ssh key dir file: path: ""{{ ssh_key_dir }}"" state: directory - name: Generate ssh key for Octavia openssh_keypair: path: ""{{ ssh_key_dir }}/octavia_id_rsa"" no_log: ""{{ octavia_undercloud_config_hide_sensitive_logs | bool }}"" - name: Set ssh key path fact set_fact: amp_ssh_key_path_final: ""{{ ssh_key_dir }}/octavia_id_rsa.pub"" vars: ssh_key_dir: ""{{ amp_ssh_key_dir|default('/etc/octavia/ssh/') }}""- name: get existing public key fingerprint shell: | openstack keypair show -f value -c fingerprint {{ amp_ssh_key_name }} ignore_errors: true no_log: ""{{ octavia_undercloud_config_hide_sensitive_logs | bool }}"" environment: OS_USERNAME: ""{{ auth_username }}"" OS_PASSWORD: ""{{ auth_password }}"" OS_PROJECT_NAME: ""{{ auth_project_name }}"" register: os_keypair_results # os_keypair doesn't allow updating a keypair, we need to remove the previous # keypair in case we need to update it. - name: delete previous Octavia ssh key openstack.cloud.keypair: state: absent name: ""{{ amp_ssh_key_name }}"" auth: username: ""{{ auth_username }}"" password: ""{{ auth_password }}"" project_name: ""{{ auth_project_name }}"" no_log: ""{{ octavia_undercloud_config_hide_sensitive_logs | bool }}"" when: - os_keypair_results.stdout != '' - os_keypair_results.stdout != ssh_keygen_results.stdout auth: username: ""{{ auth_username }}"" password: ""{{ auth_password }}"" project_name: ""{{ auth_project_name }}"" when: - os_keypair_results.stdout == '' or os_keypair_results.stdout != ssh_keygen_results.stdout"," - name: Set final key fact- name: defaulting to public key from undercloud default keypair block: - name: create temp pub key file tempfile: state=file register: ssh_key_tmp_file - name: copy ssh public key content to temp file copy: content=""{{ amp_ssh_key_data }}"" dest=""{{ ssh_key_tmp_file.path }}"" - name: Set final key fact set_fact: amp_ssh_key_path_final: ""{{ ssh_key_tmp_file.path }}"" no_log: ""{{ octavia_undercloud_config_hide_sensitive_logs | bool }}"" environment: OS_USERNAME: ""{{ auth_username }}"" OS_PASSWORD: ""{{ auth_password }}"" OS_PROJECT_NAME: ""{{ auth_project_name }}""",46,15
openstack%2Fopenstack-helm~master~I7551977599d376e4d240fff5cb9d002fc918d9fe,openstack/openstack-helm,master,I7551977599d376e4d240fff5cb9d002fc918d9fe,Added helm.sh/hook annotations for placement chart jobs,MERGED,2021-03-17 13:29:12.000000000,2021-08-31 19:45:43.000000000,2021-08-31 19:43:33.000000000,"[{'_account_id': 1004}, {'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28008}, {'_account_id': 30449}, {'_account_id': 31746}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-03-17 13:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c9fab4b6639e2dec55c70f6bdac05892bbe2e7b8', 'message': 'Added helm.sh/hook annotations for placement chart jobs\n\nChart upgrading was failing due to some immutable fields in job are needed to upgrade. So, just like keystone, neutron, nova and glance, we have added the\nhelm.sh/hook annotations with post-install and post-upgrade values.\nAs for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like,\ndb-init jobs need to run before db-sync and so on.\n\nChange-Id: I7551977599d376e4d240fff5cb9d002fc918d9fe\n'}, {'number': 2, 'created': '2021-03-19 15:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f1375f0eaa0b0b350c4916fdef7325fa9fb832f4', 'message': 'Added helm.sh/hook annotations for placement chart jobs\n\nChart upgrading was failing due to some immutable fields in job are needed to upgrade. So, just like keystone, neutron, nova and glance, we have added the\nhelm.sh/hook annotations with post-install and post-upgrade values.\nAs for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like,\ndb-init jobs need to run before db-sync and so on.\n\nChange-Id: I7551977599d376e4d240fff5cb9d002fc918d9fe\n'}, {'number': 3, 'created': '2021-03-22 10:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/01fbb258ff41c2cbc3d62ec6bf66f98f2aeef498', 'message': 'Added helm.sh/hook annotations for placement chart jobs\n\nChart upgrading was failing due to some immutable fields in job are needed to upgrade. So, just like keystone, neutron, nova and glance, we have added the\nhelm.sh/hook annotations with post-install and post-upgrade values.\nAs for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like,\ndb-init jobs need to run before db-sync and so on.\n\nChange-Id: I7551977599d376e4d240fff5cb9d002fc918d9fe\n'}, {'number': 4, 'created': '2021-03-22 11:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ea220556d1d6ffdbacd6d6344138444f5d2de36e', 'message': 'Added helm.sh/hook annotations for placement chart jobs\n\nChart upgrading was failing due to some immutable fields in job are needed to upgrade. So, just like keystone, neutron, nova and glance, we have added the\nhelm.sh/hook annotations with post-install and post-upgrade values.\nAs for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like,\ndb-init jobs need to run before db-sync and so on.\n\nChange-Id: I7551977599d376e4d240fff5cb9d002fc918d9fe\n'}, {'number': 5, 'created': '2021-08-27 11:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cfed7bc6a56a8a828bcff6ac85c33fd6ed291e8a', 'message': 'Added helm.sh/hook annotations for placement chart jobs\n\nChart upgrade fails as some immutable fields in job are needed to be applied earlier then the job manifests. To solve the problem, helm.sh/hook annotations with post-install and post-upgrade values can be used so that the jobs are the last one to be applied after all the manifests. As jobs are dependent one services, hook weight is used to maintain the job creation order.\n\nChange-Id: I7551977599d376e4d240fff5cb9d002fc918d9fe\n'}, {'number': 6, 'created': '2021-08-27 12:24:54.000000000', 'files': ['placement/templates/job-db-init.yaml', 'placement/templates/job-image-repo-sync.yaml', 'placement/values.yaml', 'releasenotes/notes/placement.yaml', 'placement/templates/job-ks-service.yaml', 'placement/Chart.yaml', 'placement/templates/job-ks-user.yaml', 'placement/templates/job-ks-endpoints.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7ca67915a307479d6e9c6d008137c7dda85c5cac', 'message': 'Added helm.sh/hook annotations for placement chart jobs\n\nChart upgrade fails as some immutable fields in job are needed to be applied earlier then the job manifests. To solve the problem, helm.sh/hook annotations with post-install and post-upgrade values can be used so that the jobs are the last one to be applied after all the manifests. As jobs are dependent one services, hook weight is used to maintain the job creation order.\n\nChange-Id: I7551977599d376e4d240fff5cb9d002fc918d9fe\n'}]",1,781097,7ca67915a307479d6e9c6d008137c7dda85c5cac,25,9,6,33130,,,0,"Added helm.sh/hook annotations for placement chart jobs

Chart upgrade fails as some immutable fields in job are needed to be applied earlier then the job manifests. To solve the problem, helm.sh/hook annotations with post-install and post-upgrade values can be used so that the jobs are the last one to be applied after all the manifests. As jobs are dependent one services, hook weight is used to maintain the job creation order.

Change-Id: I7551977599d376e4d240fff5cb9d002fc918d9fe
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/97/781097/5 && git format-patch -1 --stdout FETCH_HEAD,"['placement/templates/job-db-sync.yaml', 'placement/templates/job-db-init.yaml', 'placement/templates/job-image-repo-sync.yaml', 'placement/templates/job-ks-service.yaml', 'releasenotes/notes/placement.yaml', 'placement/Chart.yaml', 'placement/templates/job-ks-user.yaml', 'placement/templates/job-ks-endpoints.yaml']",8,c9fab4b6639e2dec55c70f6bdac05892bbe2e7b8,placement-annotations,"{{- define ""metadata.annotations.job.ks_endpoints"" }} helm.sh/hook: post-install,post-upgrade helm.sh/hook-weight: ""-1"" {{- end }} {{- $ksServiceJob := dict ""envAll"" . ""serviceName"" ""placement"" ""serviceTypes"" ( tuple ""placement"" ) ""jobAnnotations"" (include ""metadata.annotations.job.ks_endpoints"" . | fromYaml) -}}","{{- $ksServiceJob := dict ""envAll"" . ""serviceName"" ""placement"" ""serviceTypes"" ( tuple ""placement"" ) -}}",37,7
openstack%2Ftripleo-heat-templates~master~Ia08b3d9b0fc96511e5a9202fa5e5a09487263e5b,openstack/tripleo-heat-templates,master,Ia08b3d9b0fc96511e5a9202fa5e5a09487263e5b,Enable Ceph RGW public port into firewall when using SSL,MERGED,2021-08-31 11:25:40.000000000,2021-08-31 19:25:42.000000000,2021-08-31 19:25:42.000000000,"[{'_account_id': 5803}, {'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-08-31 11:25:40.000000000', 'files': ['deployment/cephadm/ceph-rgw.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c69733bb652fa4bb546cd1dbf4cd40a4f157467d', 'message': 'Enable Ceph RGW public port into firewall when using SSL\n\nAdds CephRgwPublic endpoint port to firewall rule because it does\nnot match the CephRgwInternal endpoint port when using SSL\n\nChange-Id: Ia08b3d9b0fc96511e5a9202fa5e5a09487263e5b\nCloses-Bug: 1942198\n'}]",0,806727,c69733bb652fa4bb546cd1dbf4cd40a4f157467d,10,7,1,6796,,,0,"Enable Ceph RGW public port into firewall when using SSL

Adds CephRgwPublic endpoint port to firewall rule because it does
not match the CephRgwInternal endpoint port when using SSL

Change-Id: Ia08b3d9b0fc96511e5a9202fa5e5a09487263e5b
Closes-Bug: 1942198
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/27/806727/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cephadm/ceph-rgw.yaml'],1,c69733bb652fa4bb546cd1dbf4cd40a4f157467d,," - {get_param: [EndpointMap, CephRgwPublic, port]}",,1,0
openstack%2Fnetworking-sfc~master~I4f63b8cd737575eed948a15a439ef9ca9566e374,openstack/networking-sfc,master,I4f63b8cd737575eed948a15a439ef9ca9566e374,Use ovs constants from neutron-lib,MERGED,2021-06-18 12:53:44.000000000,2021-08-31 19:20:27.000000000,2021-08-31 19:18:53.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 12:53:44.000000000', 'files': ['requirements.txt', 'networking_sfc/tests/unit/services/sfc/agent/extensions/test_sfc.py', 'networking_sfc/services/sfc/agent/extensions/openvswitch/sfc_driver.py', 'lower-constraints.txt', 'networking_sfc/services/sfc/common/ovs_ext_lib.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/21dce30762afe47e5108010544f61ddfa01faf8b', 'message': 'Use ovs constants from neutron-lib\n\nOvs constants were moved from neutron to neutron_lib some time ago.\nThis patch switches to use them from neutron-lib already.\n\nThis patch bumps min version of neutron-lib to 2.11 as it is version\nwhich has those constants already.\n\nIt also fixes some small issue in grouping of imports.\n\nChange-Id: I4f63b8cd737575eed948a15a439ef9ca9566e374\n'}]",0,797077,21dce30762afe47e5108010544f61ddfa01faf8b,40,5,1,11975,,,0,"Use ovs constants from neutron-lib

Ovs constants were moved from neutron to neutron_lib some time ago.
This patch switches to use them from neutron-lib already.

This patch bumps min version of neutron-lib to 2.11 as it is version
which has those constants already.

It also fixes some small issue in grouping of imports.

Change-Id: I4f63b8cd737575eed948a15a439ef9ca9566e374
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/77/797077/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'networking_sfc/tests/unit/services/sfc/agent/extensions/test_sfc.py', 'networking_sfc/services/sfc/agent/extensions/openvswitch/sfc_driver.py', 'lower-constraints.txt', 'networking_sfc/services/sfc/common/ovs_ext_lib.py']",5,21dce30762afe47e5108010544f61ddfa01faf8b,rehome-ovs-constants,from neutron_lib import constants as n_consts self.bridge.use_at_least_protocol(n_consts.OPENFLOW13),from neutron.plugins.ml2.drivers.openvswitch.agent.common import constants \ as ovs_consts self.bridge.use_at_least_protocol(ovs_consts.OPENFLOW13),9,13
openstack%2Fnova~stable%2Fussuri~Ia225ee86536248d2540de0d7a1cd012333e708a2,openstack/nova,stable/ussuri,Ia225ee86536248d2540de0d7a1cd012333e708a2,Add functional test for bug 1837995,MERGED,2021-04-06 23:01:07.000000000,2021-08-31 19:06:58.000000000,2021-08-31 19:02:18.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 23:01:07.000000000', 'files': ['nova/tests/functional/db/test_archive.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/37cff3c74d54bf0d19abe9502e5979b81e24f918', 'message': ""Add functional test for bug 1837995\n\nThis adds a functional test to reproduce the bug where when calling an\nAPI that will examine a deleted instance record (examples: GET /servers/detail\nand GET /os-simple-tenant-usage), if that instance's related records\nhave only been partially archived (example: 'instance_extra' record was\narchived but 'instances' record has not been archived yet) then the API\ncall fails with the following error:\n\n  Unexpected API Error ... <class 'nova.exception.OrphanedObjectError'>\n  (HTTP 500)\n\nRelated-Bug: #1837995\n\nChange-Id: Ia225ee86536248d2540de0d7a1cd012333e708a2\n(cherry picked from commit 3d4e53f832792cc49001f1588164e28b84c16d7a)\n(cherry picked from commit 21241b38dd4bc2c74a69aed489ada5c611395920)\n""}]",0,785071,37cff3c74d54bf0d19abe9502e5979b81e24f918,12,3,1,4690,,,0,"Add functional test for bug 1837995

This adds a functional test to reproduce the bug where when calling an
API that will examine a deleted instance record (examples: GET /servers/detail
and GET /os-simple-tenant-usage), if that instance's related records
have only been partially archived (example: 'instance_extra' record was
archived but 'instances' record has not been archived yet) then the API
call fails with the following error:

  Unexpected API Error ... <class 'nova.exception.OrphanedObjectError'>
  (HTTP 500)

Related-Bug: #1837995

Change-Id: Ia225ee86536248d2540de0d7a1cd012333e708a2
(cherry picked from commit 3d4e53f832792cc49001f1588164e28b84c16d7a)
(cherry picked from commit 21241b38dd4bc2c74a69aed489ada5c611395920)
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/785071/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/db/test_archive.py'],1,37cff3c74d54bf0d19abe9502e5979b81e24f918,bug/1837995," def test_archive_deleted_rows_incomplete(self): """"""This tests a scenario where archive_deleted_rows is run with --max_rows and does not run to completion. That is, the archive is stopped before all archivable records have been archived. Specifically, the problematic state is when a single instance becomes partially archived (example: 'instance_extra' record for one instance has been archived while its 'instances' record remains). Any access of the instance (example: listing deleted instances) that triggers the retrieval of a dependent record that has been archived away, results in undefined behavior that may raise an error. We will force the system into a state where a single deleted instance is partially archived. We want to verify that we can, for example, successfully do a GET /servers/detail at any point between partial archive_deleted_rows runs without errors. """""" # Boots a server, deletes it, and then tries to archive it. server = self._create_server() server_id = server['id'] # Assert that there are instance_actions. instance_actions are # interesting since we don't soft delete them but they have a foreign # key back to the instances table. actions = self.api.get_instance_actions(server_id) self.assertTrue(len(actions), 'No instance actions for server: %s' % server_id) self._delete_server(server) # Archive deleted records iteratively, 1 row at a time, and try to do a # GET /servers/detail between each run. All should succeed. exceptions = [] while True: _, _, archived = db.archive_deleted_rows(max_rows=1) try: # Need to use the admin API to list deleted servers. self.admin_api.get_servers(search_opts={'deleted': True}) except Exception as ex: exceptions.append(ex) if archived == 0: break # FIXME(melwitt): OrphanedObjectError is raised because of the bug. self.assertTrue(exceptions) for ex in exceptions: self.assertEqual(500, ex.response.status_code) self.assertIn('OrphanedObjectError', str(ex)) # FIXME(melwitt): Uncomment when the bug is fixed. # self.assertFalse(exceptions) ",,47,0
openstack%2Fnova~stable%2Fussuri~Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f,openstack/nova,stable/ussuri,Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f,Centralize sqlite FK constraint enforcement,MERGED,2021-04-06 23:01:07.000000000,2021-08-31 19:05:10.000000000,2021-08-31 19:02:04.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 23:01:07.000000000', 'files': ['nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/db/test_archive.py', 'nova/test.py', 'nova/tests/unit/db/test_db_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a8624cdaa292591db616b9ab17d27f2cd0bb00a7', 'message': ""Centralize sqlite FK constraint enforcement\n\nThere's a TODO in the code to centralize foreign key constraint\nenforcement for sqlite for unit and functional tests and we're missing\nenforcement of FK constraints in a couple of test classes that should\nhave it.\n\nThis resolves the TODO and turns on FK constraint enforcement where it\nis missing. Do this to enhance testing in preparation for a proposed\nchange to the database archiving logic later in this patch series.\n\nChange-Id: Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f\n(cherry picked from commit 172024db7174bdac05a3d3172c645b0db83ae41e)\n(cherry picked from commit 382d64ea36e5cf3b47929fee0b93539d2f126975)\n""}]",0,785070,a8624cdaa292591db616b9ab17d27f2cd0bb00a7,14,3,1,4690,,,0,"Centralize sqlite FK constraint enforcement

There's a TODO in the code to centralize foreign key constraint
enforcement for sqlite for unit and functional tests and we're missing
enforcement of FK constraints in a couple of test classes that should
have it.

This resolves the TODO and turns on FK constraint enforcement where it
is missing. Do this to enhance testing in preparation for a proposed
change to the database archiving logic later in this patch series.

Change-Id: Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f
(cherry picked from commit 172024db7174bdac05a3d3172c645b0db83ae41e)
(cherry picked from commit 382d64ea36e5cf3b47929fee0b93539d2f126975)
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/785070/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/db/test_archive.py', 'nova/test.py', 'nova/tests/unit/db/test_db_api.py']",4,a8624cdaa292591db616b9ab17d27f2cd0bb00a7,bug/1837995, self.enforce_fk_constraints(engine=self.engine),"from sqlalchemy.dialects import sqlite dialect = self.engine.url.get_dialect() if dialect == sqlite.dialect: # We're seeing issues with foreign key support in SQLite 3.6.20 # SQLAlchemy doesn't support it at all with < SQLite 3.6.19 # It works fine in SQLite 3.7. # So return early to skip this test if running SQLite < 3.7 import sqlite3 tup = sqlite3.sqlite_version_info if tup[0] < 3 or (tup[0] == 3 and tup[1] < 7): self.skipTest( 'sqlite version too old for reliable SQLA foreign_keys') self.conn.execute(""PRAGMA foreign_keys = ON"")",22,30
openstack%2Fcinder~stable%2Fwallaby~I46e676cfd885a38008772f8ae20742da4955ae81,openstack/cinder,stable/wallaby,I46e676cfd885a38008772f8ae20742da4955ae81,PowerMax Driver - Fix for create group from source,MERGED,2021-06-25 14:05:30.000000000,2021-08-31 19:04:56.000000000,2021-08-31 19:00:20.000000000,"[{'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}, {'_account_id': 32425}]","[{'number': 1, 'created': '2021-06-25 14:05:30.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/provision.py', 'releasenotes/notes/powermax-create-grp-source-560139c0850e60ce.yaml', 'cinder/volume/drivers/dell_emc/powermax/masking.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0043cacfe402afddb559d4aa7329608970f010cd', 'message': 'PowerMax Driver - Fix for create group from source\n\nFix for creating a group from the source when the source\nstorage group is replicated. The newly created target group\nmust not be replicated initially so the replicate group API can\nsucceed.  A few force flags are also required to add and\nremove from a replicated storage group.  The modify snap API\nalso needs a force flag.\n\nChange-Id: I46e676cfd885a38008772f8ae20742da4955ae81\n(cherry picked from commit 9af47a2fc4cf4652ade9a90dc38d270be5809e03)\n'}]",2,798094,0043cacfe402afddb559d4aa7329608970f010cd,26,5,1,12670,,,0,"PowerMax Driver - Fix for create group from source

Fix for creating a group from the source when the source
storage group is replicated. The newly created target group
must not be replicated initially so the replicate group API can
succeed.  A few force flags are also required to add and
remove from a replicated storage group.  The modify snap API
also needs a force flag.

Change-Id: I46e676cfd885a38008772f8ae20742da4955ae81
(cherry picked from commit 9af47a2fc4cf4652ade9a90dc38d270be5809e03)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/798094/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/provision.py', 'releasenotes/notes/powermax-create-grp-source-560139c0850e60ce.yaml', 'cinder/volume/drivers/dell_emc/powermax/masking.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py']",9,0043cacfe402afddb559d4aa7329608970f010cd,," force = ( ""true"" if utils.FORCE_VOL_EDIT in extra_specs else ""false"") ""star"": 'false', ""force"": force, if volume_details and isinstance(volume_details, dict): s_in['snapshotSrcs'] if s_in and s_in.get( 'snapshotSrcs') else list()) s_in['snapshotLnks'][0] if s_in and s_in.get( 'snapshotLnks') else dict())"," ""star"": 'false', ""force"": 'false', if volume_details: s_in['snapshotSrcs'] if s_in.get('snapshotSrcs') else list()) s_in['snapshotLnks'][0] if s_in.get('snapshotLnks') else dict())",254,53
openstack%2Fcinder~stable%2Fwallaby~I60f399eccb32daf5127c64108d5331cf798b2600,openstack/cinder,stable/wallaby,I60f399eccb32daf5127c64108d5331cf798b2600,PowerMax Driver - Temporary snapshot enhancements,MERGED,2021-06-25 13:43:29.000000000,2021-08-31 19:02:53.000000000,2021-08-31 19:00:12.000000000,"[{'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30165}]","[{'number': 1, 'created': '2021-06-25 13:43:29.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2903822b9a0f7638d9e4cbb98c9d463ac840a97e', 'message': 'PowerMax Driver - Temporary snapshot enhancements\n\nImprovements to unlinking of volume snapshots and\ndeletion of temporary snapshots created during\nvolume cloning operations. Including:\n\n1. Merging of sync and clone check functionality.\n2. Removal of snapvx unlink limit use during snapshot unlinking.\n3. Adding early exit to volume delete, group delete and retype\nin cases where volume snapshots still exist after attempting\nunlink and deletion of snapvx sessions.\n\nChange-Id: I60f399eccb32daf5127c64108d5331cf798b2600\n(cherry picked from commit 1a267bf6ff97d0a36f03119c2e4197baf681c3f5)\n'}]",3,798088,2903822b9a0f7638d9e4cbb98c9d463ac840a97e,21,4,1,12670,,,0,"PowerMax Driver - Temporary snapshot enhancements

Improvements to unlinking of volume snapshots and
deletion of temporary snapshots created during
volume cloning operations. Including:

1. Merging of sync and clone check functionality.
2. Removal of snapvx unlink limit use during snapshot unlinking.
3. Adding early exit to volume delete, group delete and retype
in cases where volume snapshots still exist after attempting
unlink and deletion of snapvx sessions.

Change-Id: I60f399eccb32daf5127c64108d5331cf798b2600
(cherry picked from commit 1a267bf6ff97d0a36f03119c2e4197baf681c3f5)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/798088/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py']",4,2903822b9a0f7638d9e4cbb98c9d463ac840a97e,," @mock.patch.object(common.PowerMaxCommon, '_cleanup_device_snapvx') self, mck_cleanup, mock_del, mock_rm, mock_clean): @mock.patch.object(common.PowerMaxCommon, '_cleanup_device_snapvx') def test_failover_host_async(self, mck_arrays, mck_cleanup, mock_fg): @mock.patch.object(common.PowerMaxCommon, '_cleanup_device_snapvx') def test_cloned_rep_volume(self, mck_cleanup, mck_meta, mck_clone_chk): @mock.patch.object(common.PowerMaxCommon, '_cleanup_device_snapvx') self, mck_configure, mck_retype, mck_protect, mck_get, mck_cleanup, @mock.patch.object(rest.PowerMaxRest, 'get_volume_snapshot_list', return_value=list()) @mock.patch.object(common.PowerMaxCommon, '_cleanup_device_snapvx') self, mck_valid, mck_break, mck_cleanup, mck_rep, mck_retype, mck_resume, mck_slo, mck_upd_meta, mck_get_meta, mck_rep_conf, mck_get_snaps): mck_cleanup.assert_called_once_with(array, device_id, extra_specs)"," @mock.patch.object(common.PowerMaxCommon, '_sync_check') self, mck_sync, mock_del, mock_rm, mock_clean): @mock.patch.object(common.PowerMaxCommon, '_sync_check') def test_failover_host_async(self, mck_arrays, mck_sync, mock_fg): @mock.patch.object(common.PowerMaxCommon, '_clone_check') def test_cloned_rep_volume(self, mck_clone, mck_meta, mck_clone_chk): @mock.patch.object(common.PowerMaxCommon, '_sync_check') self, mck_configure, mck_retype, mck_protect, mck_get, mck_check, @mock.patch.object(common.PowerMaxCommon, '_sync_check') self, mck_valid, mck_break, mck_sync, mck_rep, mck_retype, mck_resume, mck_slo, mck_upd_meta, mck_get_meta, mck_rep_conf): mck_sync.assert_called_once_with(array, device_id, extra_specs)",676,470
openstack%2Fcinder~stable%2Fwallaby~I66387dbf516109a31821b368f67491dc4b854c8a,openstack/cinder,stable/wallaby,I66387dbf516109a31821b368f67491dc4b854c8a,PowerMax Driver - Fix for deleting replication group,MERGED,2021-06-25 13:53:46.000000000,2021-08-31 19:00:16.000000000,2021-08-31 19:00:16.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-06-25 13:53:46.000000000', 'files': ['releasenotes/notes/powermax-delete-replication-group-76656e96262201d5.yaml', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cea3a1cc6b396d9149319a6158256b5bd63103f2', 'message': 'PowerMax Driver - Fix for deleting replication group\n\nFix to suspend the storage group you are about to delete\nand then add a force flag to delete the volume pairs within\nthe storage group.\n\nChange-Id: I66387dbf516109a31821b368f67491dc4b854c8a\n(cherry picked from commit fe55090f9f9740ac732bbff3eaf7d0770fcff402)\n'}]",0,798091,cea3a1cc6b396d9149319a6158256b5bd63103f2,16,3,1,12670,,,0,"PowerMax Driver - Fix for deleting replication group

Fix to suspend the storage group you are about to delete
and then add a force flag to delete the volume pairs within
the storage group.

Change-Id: I66387dbf516109a31821b368f67491dc4b854c8a
(cherry picked from commit fe55090f9f9740ac732bbff3eaf7d0770fcff402)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/798091/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/powermax-delete-replication-group-76656e96262201d5.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py']",5,cea3a1cc6b396d9149319a6158256b5bd63103f2,," query_params = {'force': 'true'} array, REPLICATION, 'storagegroup', resource_name=resource_name, params=query_params)"," array, REPLICATION, 'storagegroup', resource_name=resource_name)",29,12
openstack%2Fproject-config~master~If5b817c60d4a48b966441ae096526d99ff6aa09e,openstack/project-config,master,If5b817c60d4a48b966441ae096526d99ff6aa09e,INAP mtl01 region is now owned by iWeb,ABANDONED,2021-08-31 18:44:22.000000000,2021-08-31 18:44:30.000000000,,[],"[{'number': 1, 'created': '2021-08-31 18:44:22.000000000', 'files': ['nodepool/nodepool.yaml', 'grafana/create-nodepool.sh', 'grafana/nodepool-iweb.yaml', 'nodepool/nl03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/52386da53624b4b119ef6058706b4506ea3f296c', 'message': 'INAP mtl01 region is now owned by iWeb\n\nDisable current Inap mtl01 region and introduce new iWeb mtl01 region.\n\nChange-Id: If5b817c60d4a48b966441ae096526d99ff6aa09e\n'}]",0,806791,52386da53624b4b119ef6058706b4506ea3f296c,2,0,1,7156,,,0,"INAP mtl01 region is now owned by iWeb

Disable current Inap mtl01 region and introduce new iWeb mtl01 region.

Change-Id: If5b817c60d4a48b966441ae096526d99ff6aa09e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/91/806791/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nodepool.yaml', 'grafana/create-nodepool.sh', 'grafana/nodepool-iweb.yaml', 'nodepool/nl03.opendev.org.yaml']",4,52386da53624b4b119ef6058706b4506ea3f296c,iweb-mtl01, max-servers: 0 labels: - name: centos-7 min-ram: 8000 flavor-name: 'A1.8' diskimage: centos-7 key-name: infra-root-keys-2020-05-13 - name: centos-8 min-ram: 8000 flavor-name: 'A1.8' diskimage: centos-8 key-name: infra-root-keys-2020-05-13 - name: centos-8-stream min-ram: 8000 flavor-name: 'A1.8' diskimage: centos-8-stream key-name: infra-root-keys-2020-05-13 - name: debian-bullseye min-ram: 8000 flavor-name: 'A1.8' diskimage: debian-bullseye key-name: infra-root-keys-2020-05-13 - name: debian-buster min-ram: 8000 flavor-name: 'A1.8' diskimage: debian-buster key-name: infra-root-keys-2020-05-13 - name: debian-stretch min-ram: 8000 flavor-name: 'A1.8' diskimage: debian-stretch key-name: infra-root-keys-2020-05-13 - name: fedora-34 min-ram: 8000 flavor-name: 'A1.8' diskimage: fedora-34 key-name: infra-root-keys-2020-05-13 - name: gentoo-17-0-systemd min-ram: 8000 flavor-name: 'A1.8' diskimage: gentoo-17-0-systemd key-name: infra-root-keys-2020-05-13 - name: opensuse-15 min-ram: 8000 flavor-name: 'A1.8' diskimage: opensuse-15 key-name: infra-root-keys-2020-05-13 - name: opensuse-tumbleweed min-ram: 8000 flavor-name: 'A1.8' diskimage: opensuse-tumbleweed key-name: infra-root-keys-2020-05-13 - name: ubuntu-bionic min-ram: 8000 flavor-name: 'A1.8' diskimage: ubuntu-bionic key-name: infra-root-keys-2020-05-13 - name: ubuntu-focal min-ram: 8000 flavor-name: 'A1.8' diskimage: ubuntu-focal key-name: infra-root-keys-2020-05-13 - name: ubuntu-xenial min-ram: 8000 flavor-name: 'A1.8' diskimage: ubuntu-xenial key-name: infra-root-keys-2020-05-13 - name: iweb-mtl01 region-name: 'mtl01' cloud: iweb boot-timeout: 120 launch-timeout: 600 rate: 0.001 diskimages: &provider_diskimages - name: centos-7 config-drive: true - name: centos-8 config-drive: true - name: centos-8-stream config-drive: true - name: debian-bullseye config-drive: true - name: debian-buster config-drive: true - name: debian-stretch config-drive: true - name: fedora-32 config-drive: true - name: fedora-34 config-drive: true - name: gentoo-17-0-systemd config-drive: true - name: opensuse-15 config-drive: true - name: opensuse-tumbleweed config-drive: true - name: ubuntu-bionic config-drive: true - name: ubuntu-focal config-drive: true - name: ubuntu-xenial config-drive: true pools: - name: main,,309,0
openstack%2Ftripleo-quickstart-extras~master~I3745e4c4a34c99b02ada736d4d69c838bdf8793c,openstack/tripleo-quickstart-extras,master,I3745e4c4a34c99b02ada736d4d69c838bdf8793c,Migrate overcloud-deploy.sh shell script to ansible roles part-3,MERGED,2021-08-10 16:49:14.000000000,2021-08-31 18:41:39.000000000,2021-08-31 18:41:39.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-08-10 16:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/48a47bc05a84b3579a68a8c45a38592bfaf46021', 'message': '[WIP] Migrate overcloud-deploy.sh shell script to ansible roles\n\nMigrate overcloud node provision from shell script to\ntripleo_operator_node_provision role in tripleo.operator\ncollections\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I3745e4c4a34c99b02ada736d4d69c838bdf8793c\n'}, {'number': 2, 'created': '2021-08-11 09:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e460a41990f800d16fa9f41708b580c97baf66de', 'message': 'Migrate overcloud-deploy.sh shell script to ansible roles\n\nMigrate overcloud node provision from shell script to\ntripleo_operator_node_provision role in tripleo.operator\ncollections\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I3745e4c4a34c99b02ada736d4d69c838bdf8793c\n'}, {'number': 3, 'created': '2021-08-12 14:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/cf0381322bdd0f4812ebd5ee448117c894e8297e', 'message': 'Migrate overcloud-deploy.sh shell script to ansible roles part-3\n\nMigrate overcloud node provision from shell script to\ntripleo_operator_node_provision role in tripleo.operator\ncollections\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I3745e4c4a34c99b02ada736d4d69c838bdf8793c\n'}, {'number': 4, 'created': '2021-08-19 17:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fc862bf912c377c777ee7fb036d9bdd1ace58231', 'message': 'Migrate overcloud-deploy.sh shell script to ansible roles part-3\n\nMigrate overcloud node provision from shell script to\ntripleo_operator_node_provision role in tripleo.operator\ncollections\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I3745e4c4a34c99b02ada736d4d69c838bdf8793c\n'}, {'number': 5, 'created': '2021-08-19 17:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f87856d631e07e86696ab12bd77e2fe3107be306', 'message': 'Migrate overcloud-deploy.sh shell script to ansible roles part-3\n\nMigrate overcloud node provision from shell script to\ntripleo_operator_node_provision role in tripleo.operator\ncollections\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I3745e4c4a34c99b02ada736d4d69c838bdf8793c\n'}, {'number': 6, 'created': '2021-08-20 09:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/83cbe8c02591f3046d753a30788982d325057081', 'message': 'Migrate overcloud-deploy.sh shell script to ansible roles part-3\n\nMigrate overcloud node provision from shell script to\ntripleo_operator_node_provision role in tripleo.operator\ncollections\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I3745e4c4a34c99b02ada736d4d69c838bdf8793c\n'}, {'number': 7, 'created': '2021-08-20 15:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ce122111a103554e5f71146cbd807965be5e0de8', 'message': 'Migrate overcloud-deploy.sh shell script to ansible roles part-3\n\nMigrate overcloud node provision from shell script to\ntripleo_operator_node_provision role in tripleo.operator\ncollections\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I3745e4c4a34c99b02ada736d4d69c838bdf8793c\n'}, {'number': 8, 'created': '2021-08-25 14:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c4d94391dedb87a7fbacb60af31efebcc1ed12b4', 'message': 'Migrate overcloud-deploy.sh shell script to ansible roles part-3\n\nMigrate overcloud node provision from shell script to\ntripleo_operator_node_provision role in tripleo.operator\ncollections\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I3745e4c4a34c99b02ada736d4d69c838bdf8793c\n'}, {'number': 9, 'created': '2021-08-26 17:23:06.000000000', 'files': ['roles/overcloud-deploy/tasks/deploy-overcloud.yml', 'roles/overcloud-deploy/templates/overcloud-deploy.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/075574a19b42c3d63c7b47cb49c1cdf0489dd9ec', 'message': 'Migrate overcloud-deploy.sh shell script to ansible roles part-3\n\nMigrate overcloud node provision from shell script to\ntripleo_operator_node_provision role in tripleo.operator\ncollections\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I3745e4c4a34c99b02ada736d4d69c838bdf8793c\n'}]",3,804117,075574a19b42c3d63c7b47cb49c1cdf0489dd9ec,65,8,9,30750,,,0,"Migrate overcloud-deploy.sh shell script to ansible roles part-3

Migrate overcloud node provision from shell script to
tripleo_operator_node_provision role in tripleo.operator
collections

Signed-off-by: Amol Kahat <amolkahat@gmail.com>
Change-Id: I3745e4c4a34c99b02ada736d4d69c838bdf8793c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/17/804117/9 && git format-patch -1 --stdout FETCH_HEAD,"['roles/overcloud-deploy/tasks/deploy-overcloud.yml', 'roles/overcloud-deploy/templates/overcloud-deploy.sh.j2']",2,48a47bc05a84b3579a68a8c45a38592bfaf46021,utilize-tripleo-operator,,{% if baremetal_provision|bool %} ## * Provision the baremetal nodes ## :: openstack overcloud node provision \ {% if network_provision|bool %}--network-ports{% endif %} \ --stack {{ stack_name }} \ --output {{ working_dir }}/overcloud-baremetal-deployed.yaml {{ working_dir }}/overcloud_baremetal_deploy.yaml if [ $? -ne 0 ]; then exit 1 fi {% endif %} ,14,12
openstack%2Freleases~master~I085f89eafdb21ddf08a80d7d66538cceff9a4571,openstack/releases,master,I085f89eafdb21ddf08a80d7d66538cceff9a4571,Add release highlights for Xena Designate,MERGED,2021-08-31 16:29:06.000000000,2021-08-31 17:58:20.000000000,2021-08-31 17:58:20.000000000,"[{'_account_id': 8099}, {'_account_id': 11904}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-31 16:29:06.000000000', 'files': ['deliverables/xena/designate.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3015295e9a66aeecbc314bbd722b432310e63d16', 'message': 'Add release highlights for Xena Designate\n\nChange-Id: I085f89eafdb21ddf08a80d7d66538cceff9a4571\n'}]",0,806776,3015295e9a66aeecbc314bbd722b432310e63d16,8,4,1,11628,,,0,"Add release highlights for Xena Designate

Change-Id: I085f89eafdb21ddf08a80d7d66538cceff9a4571
",git fetch https://review.opendev.org/openstack/releases refs/changes/76/806776/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/designate.yaml'],1,3015295e9a66aeecbc314bbd722b432310e63d16,,"cycle-highlights: - Designate now supports the CERT resource record type, enabling new use cases such as secure email and certificate revocation list publication via DNS.",,4,0
openstack%2Fdiskimage-builder~master~I83890839128c0f60f87f37f362b268788cb3f272,openstack/diskimage-builder,master,I83890839128c0f60f87f37f362b268788cb3f272,[CI] Do not run functionality tests on docs change,ABANDONED,2020-07-05 17:53:03.000000000,2021-08-31 17:54:31.000000000,,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-05 17:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c27741b7600d1aec34fae25de064a4544fb2ae1a', 'message': '[CI] Do not run functionality tests on docs change\n\nAlso cleans up some duplicated experimental jobs (already in gate).\n\nChange-Id: I83890839128c0f60f87f37f362b268788cb3f272\n'}, {'number': 2, 'created': '2020-07-05 18:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4d3f78e1c37bf6a3cf2811a11d427cbb5fc8c4c3', 'message': '[CI] Do not run functionality tests on docs change\n\nAlso cleans up some duplicated experimental jobs (already in gate).\n\nOnly TripleO jobs remain unfiltered as they come from a project\ntemplate and Zuul is not capable of modifying those from here.\n\nChange-Id: I83890839128c0f60f87f37f362b268788cb3f272\n'}, {'number': 3, 'created': '2020-07-05 18:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1a7c93f14fd3ba1ab738456acb2ae15339b0ace4', 'message': '[CI] Do not run functionality tests on docs change\n\nAlso cleans up some duplicated experimental jobs (already in gate).\n\nOnly TripleO jobs remain unfiltered as they come from a project\ntemplate and Zuul is not capable of modifying those from here.\n\nChange-Id: I83890839128c0f60f87f37f362b268788cb3f272\n'}, {'number': 4, 'created': '2020-07-06 10:38:04.000000000', 'files': ['.zuul.d/project.yaml', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/370df64746f0ba50246f5193d2e80dfcc25b5710', 'message': '[CI] Do not run functionality tests on docs change\n\nAlso cleans up some duplicated experimental jobs (already in gate).\n\nOnly TripleO jobs remain unfiltered as they come from a project\ntemplate and Zuul is not capable of modifying those from here.\n\nChange-Id: I83890839128c0f60f87f37f362b268788cb3f272\n'}]",4,739367,370df64746f0ba50246f5193d2e80dfcc25b5710,26,5,4,30491,,,0,"[CI] Do not run functionality tests on docs change

Also cleans up some duplicated experimental jobs (already in gate).

Only TripleO jobs remain unfiltered as they come from a project
template and Zuul is not capable of modifying those from here.

Change-Id: I83890839128c0f60f87f37f362b268788cb3f272
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/67/739367/3 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', '.zuul.d/jobs.yaml']",2,c27741b7600d1aec34fae25de064a4544fb2ae1a,ci-no-tests-on-docs, irrelevant-files: &functional_tests_irrelevant_files - ^doc/ - ^releasenotes/ irrelevant-files: *functional_tests_irrelevant_files, irrelevant-files: - ^doc/.*$,20,9
openstack%2Fpython-tripleoclient~master~Iee5184755365d94f3b85073ed689079966c8bfcc,openstack/python-tripleoclient,master,Iee5184755365d94f3b85073ed689079966c8bfcc,Changing MD5 hash to SHA512,MERGED,2021-08-06 06:40:16.000000000,2021-08-31 17:40:43.000000000,2021-08-31 17:35:56.000000000,"[{'_account_id': 5202}, {'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 7973}, {'_account_id': 8449}, {'_account_id': 9303}, {'_account_id': 9914}, {'_account_id': 11090}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-08-06 06:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cafb8daaeda112b62fe3eb3f304600aed852bf9c', 'message': 'md5 wrapper introduction\n\nMD5 hash, is no longer considered sufficient in security contexts,\nas it is susceptible to collisions.[0][1][2]\n\nBy using the wrapper from oslo.libs we can declare this usage\nof the function as unrelated to security matters.\n\n[0] - https://csrc.nist.gov/projects/hash-functions\n[1] - https://csrc.nist.gov/publications/detail/fips/180/4/final\n[2] - https://www.win.tue.nl/~bdeweger/CollidingCertificates/\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iee5184755365d94f3b85073ed689079966c8bfcc\n'}, {'number': 2, 'created': '2021-08-19 05:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e7d44c8070b7fa563725814ac4ca3092185f8124', 'message': 'md5 wrapper introduction\n\nMD5 hash, is no longer considered sufficient in security contexts,\nas it is susceptible to collisions.[0][1][2]\n\nBy using the wrapper from oslo.libs we can declare this usage\nof the function as unrelated to security matters.\n\n[0] - https://csrc.nist.gov/projects/hash-functions\n[1] - https://csrc.nist.gov/publications/detail/fips/180/4/final\n[2] - https://www.win.tue.nl/~bdeweger/CollidingCertificates/\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iee5184755365d94f3b85073ed689079966c8bfcc\n'}, {'number': 3, 'created': '2021-08-24 15:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0cdee0d707d5b4e8edc032ef8719413961bdcad5', 'message': 'Changing MD5 hash to SHA512\n\nMD5 hash, is no longer considered sufficient in security contexts,\nas it is susceptible to collisions.[0][1][2]\n\nSince Glance offers multiple hashing algorithms and all other uses\nof the function are internal to tripleoclient, the call can be replaced.\n\nFunction is now able to work with multiple hash algorithms, provided their names\nare known to python hashlib.\n\nTests were adjusted to work with new hash algorithm.\n\n[0] - https://csrc.nist.gov/projects/hash-functions\n[1] - https://csrc.nist.gov/publications/detail/fips/180/4/final\n[2] - https://www.win.tue.nl/~bdeweger/CollidingCertificates/\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iee5184755365d94f3b85073ed689079966c8bfcc\n'}, {'number': 4, 'created': '2021-08-24 15:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/95f1605ac92a1b291309b28323a7873ea04c8201', 'message': 'Changing MD5 hash to SHA512\n\nMD5 hash, is no longer considered sufficient in security contexts,\nas it is susceptible to collisions.[0][1][2]\n\nSince Glance offers multiple hashing algorithms and all other uses\nof the function are internal to tripleoclient, the call can be replaced.\n\nFunction is now able to work with multiple hash algorithms, provided their names\nare known to python hashlib.\n\nTests were adjusted to work with new hash algorithm.\n\n[0] - https://csrc.nist.gov/projects/hash-functions\n[1] - https://csrc.nist.gov/publications/detail/fips/180/4/final\n[2] - https://www.win.tue.nl/~bdeweger/CollidingCertificates/\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iee5184755365d94f3b85073ed689079966c8bfcc\n'}, {'number': 5, 'created': '2021-08-25 07:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/45c7624beca749eb41e7cba4345b79e682637d9d', 'message': 'Changing MD5 hash to SHA512\n\nMD5 hash, is no longer considered sufficient in security contexts,\nas it is susceptible to collisions.[0][1][2]\n\nSince Glance offers multiple hashing algorithms and all other uses\nof the function are internal to tripleoclient, the call can be replaced.\n\nFunction is now able to work with multiple hash algorithms, provided their names\nare known to python hashlib.\n\nTests were adjusted to work with new hash algorithm.\n\n[0] - https://csrc.nist.gov/projects/hash-functions\n[1] - https://csrc.nist.gov/publications/detail/fips/180/4/final\n[2] - https://www.win.tue.nl/~bdeweger/CollidingCertificates/\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iee5184755365d94f3b85073ed689079966c8bfcc\n'}, {'number': 6, 'created': '2021-08-25 07:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b924b57d6698077bb4710525e466556c453edb6d', 'message': 'Changing MD5 hash to SHA512\n\nMD5 hash, is no longer considered sufficient in security contexts,\nas it is susceptible to collisions.[0][1][2]\n\nSince Glance offers multiple hashing algorithms and all other uses\nof the function are internal to tripleoclient, the call can be replaced.\n\nFunction is now able to work with multiple hash algorithms,\nprovided their names are known to python hashlib.\n\nTests were adjusted to work with new hash algorithm,\nand expanded to one alternative.\n\nDocstrings now describe where is the information about image coming from.\nIn order to simplify potential future work on the related functionality.\n\n[0] - https://csrc.nist.gov/projects/hash-functions\n[1] - https://csrc.nist.gov/publications/detail/fips/180/4/final\n[2] - https://www.win.tue.nl/~bdeweger/CollidingCertificates/\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iee5184755365d94f3b85073ed689079966c8bfcc\n'}, {'number': 7, 'created': '2021-08-25 10:55:16.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/v1/overcloud_image.py', 'tripleoclient/constants.py', 'tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bc95bc6c807bfd2fa99769e824ed84e8b96ee2b3', 'message': 'Changing MD5 hash to SHA512\n\nMD5 hash, is no longer considered sufficient in security contexts,\nas it is susceptible to collisions.[0][1][2]\n\nSince Glance offers multiple hashing algorithms and all other uses\nof the function are internal to the tripleoclient, the call can be replaced.\n\nFunction is now able to work with multiple hash algorithms,\nprovided their names are known to python hashlib and specified as compliant\nin the tripleoclient constants.\n\nTests were adjusted to work with new hash algorithm,\nand expanded to one compliant, and one non-compliant, alternative.\n\nDocstrings now describe where is the information about image coming from.\nIn order to simplify potential future work on the related functionality.\n\n[0] - https://csrc.nist.gov/projects/hash-functions\n[1] - https://csrc.nist.gov/publications/detail/fips/180/4/final\n[2] - https://www.win.tue.nl/~bdeweger/CollidingCertificates/\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iee5184755365d94f3b85073ed689079966c8bfcc\n'}]",11,803697,bc95bc6c807bfd2fa99769e824ed84e8b96ee2b3,47,12,7,32926,,,0,"Changing MD5 hash to SHA512

MD5 hash, is no longer considered sufficient in security contexts,
as it is susceptible to collisions.[0][1][2]

Since Glance offers multiple hashing algorithms and all other uses
of the function are internal to the tripleoclient, the call can be replaced.

Function is now able to work with multiple hash algorithms,
provided their names are known to python hashlib and specified as compliant
in the tripleoclient constants.

Tests were adjusted to work with new hash algorithm,
and expanded to one compliant, and one non-compliant, alternative.

Docstrings now describe where is the information about image coming from.
In order to simplify potential future work on the related functionality.

[0] - https://csrc.nist.gov/projects/hash-functions
[1] - https://csrc.nist.gov/publications/detail/fips/180/4/final
[2] - https://www.win.tue.nl/~bdeweger/CollidingCertificates/

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Iee5184755365d94f3b85073ed689079966c8bfcc
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/97/803697/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/utils.py'],1,cafb8daaeda112b62fe3eb3f304600aed852bf9c,md5imagesign,from oslo_utils import secretutils as oslo_sec :note: Uses oslo.utils md5 wrapper with 'usedforsecurity' parameter set to `False`. checksum = oslo_sec.md5(usedforsecurity=False),import hashlib checksum = hashlib.md5(),5,3
openstack%2Ftripleo-ansible~stable%2Fwallaby~I6f7f54b469b8fe36f338fbb3f18e032baf5ecc84,openstack/tripleo-ansible,stable/wallaby,I6f7f54b469b8fe36f338fbb3f18e032baf5ecc84,tuned: install cpu-partitioning profile by default,MERGED,2021-08-31 09:54:29.000000000,2021-08-31 17:18:01.000000000,2021-08-31 17:18:01.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-31 09:54:29.000000000', 'files': ['tripleo_ansible/roles/tuned/vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c799b536f804457b7bb87cb4e34e88dfb090e230', 'message': ""tuned: install cpu-partitioning profile by default\n\nTo match with what we find in the overcloud image, let's install\ntuned-profiles-cpu-partitioning so when not using the image (in\nstandalone, or on an undercloud or just with already deployed servers),\nthe rpm will be there already and the profile can be used.\n\nCloses-Bug: #1934017\nChange-Id: I6f7f54b469b8fe36f338fbb3f18e032baf5ecc84\n(cherry picked from commit d255de04e4fe32a5ebadef1e2114587b72d1aee0)\n""}]",0,806695,c799b536f804457b7bb87cb4e34e88dfb090e230,7,5,1,17216,,,0,"tuned: install cpu-partitioning profile by default

To match with what we find in the overcloud image, let's install
tuned-profiles-cpu-partitioning so when not using the image (in
standalone, or on an undercloud or just with already deployed servers),
the rpm will be there already and the profile can be used.

Closes-Bug: #1934017
Change-Id: I6f7f54b469b8fe36f338fbb3f18e032baf5ecc84
(cherry picked from commit d255de04e4fe32a5ebadef1e2114587b72d1aee0)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/95/806695/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tuned/vars/redhat.yml'],1,c799b536f804457b7bb87cb4e34e88dfb090e230,lp/1934017-stable/wallaby, - tuned-profiles-cpu-partitioning,,1,0
openstack%2Fossa~master~I58b8c608547e24ee144cab805d17c55045e4279a,openstack/ossa,master,I58b8c608547e24ee144cab805d17c55045e4279a,Add OSSA-2021-005 (CVE-2021-40085),MERGED,2021-08-31 13:57:50.000000000,2021-08-31 17:15:10.000000000,2021-08-31 14:40:18.000000000,"[{'_account_id': 5263}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-31 13:57:50.000000000', 'files': ['ossa/OSSA-2021-005.yaml'], 'web_link': 'https://opendev.org/openstack/ossa/commit/55e0ee4953446267d7900bda9cdfdc9f44a6b72d', 'message': 'Add OSSA-2021-005 (CVE-2021-40085)\n\nChange-Id: I58b8c608547e24ee144cab805d17c55045e4279a\nCloses-Bug: #1939733\n'}]",0,806754,55e0ee4953446267d7900bda9cdfdc9f44a6b72d,8,3,1,5263,,,0,"Add OSSA-2021-005 (CVE-2021-40085)

Change-Id: I58b8c608547e24ee144cab805d17c55045e4279a
Closes-Bug: #1939733
",git fetch https://review.opendev.org/openstack/ossa refs/changes/54/806754/1 && git format-patch -1 --stdout FETCH_HEAD,['ossa/OSSA-2021-005.yaml'],1,55e0ee4953446267d7900bda9cdfdc9f44a6b72d,bug/1939733,"date: 2021-08-31 id: OSSA-2021-005 title: Arbitrary dnsmasq reconfiguration via extra_dhcp_opts description: > Pavel Toporkov reported a vulnerability in Neutron. By supplying a specially crafted extra_dhcp_opts value, an authenticated user may add arbitrary configuration to the dnsmasq process in order to crash the service, change parameters for other tenants sharing the same interface, or otherwise alter that daemon's behavior. This vulnerability may also be used to trigger a configuration parsing buffer overflow in versions of dnsmasq prior to 2.81, which could lead to remote code execution. All Neutron deployments are affected. affected-products: - product: Neutron version: '<16.4.1, >=17.0.0 <17.2.1, >=18.0.0 <18.1.1' vulnerabilities: - cve-id: CVE-2021-40085 reporters: - name: Pavel Toporkov reported: - CVE-2021-40085 issues: links: - https://launchpad.net/bugs/1939733 reviews: xena: - https://review.opendev.org/806746 wallaby: - https://review.opendev.org/806748 victoria: - https://review.opendev.org/806749 ussuri: - https://review.opendev.org/806750 ",,44,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I42e8993825c9ed956543755daf8cb6e414b1d790,openstack/tripleo-ansible,stable/train,I42e8993825c9ed956543755daf8cb6e414b1d790,Use different name to distinguish between facts and vars in octavia,MERGED,2021-08-23 18:16:06.000000000,2021-08-31 17:14:47.000000000,2021-08-31 17:14:47.000000000,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-08-23 18:16:06.000000000', 'files': ['tripleo_ansible/roles/octavia-controller-config/tasks/certificate.yml', 'tripleo_ansible/playbooks/octavia-files.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/31d6df195c4f2b550927b5310aef04f8fe6d5fc6', 'message': 'Use different name to distinguish between facts and vars in octavia\n\nansible facts take precedence over vars in ansible apparently so octavia\ncontroller configuration did not properly update certificates on hosts.\n\nCloses-Bug: #1939445\nChange-Id: I42e8993825c9ed956543755daf8cb6e414b1d790\n(cherry picked from commit 6d4ee79d28c63cb61d6aabb0854f2d3fc3bfc48a)\n(cherry picked from commit 836fc3389c96f98b8c736922de48441f3494a91e)\n'}]",0,805693,31d6df195c4f2b550927b5310aef04f8fe6d5fc6,7,6,1,6681,,,0,"Use different name to distinguish between facts and vars in octavia

ansible facts take precedence over vars in ansible apparently so octavia
controller configuration did not properly update certificates on hosts.

Closes-Bug: #1939445
Change-Id: I42e8993825c9ed956543755daf8cb6e414b1d790
(cherry picked from commit 6d4ee79d28c63cb61d6aabb0854f2d3fc3bfc48a)
(cherry picked from commit 836fc3389c96f98b8c736922de48441f3494a91e)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/93/805693/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/octavia-controller-config/tasks/certificate.yml', 'tripleo_ansible/playbooks/octavia-files.yaml']",2,31d6df195c4f2b550927b5310aef04f8fe6d5fc6,bug/1939445-train," updated_private_key_content: ""{{ hostvars[groups['octavia_nodes'][0]]['private_key_content'] | default('') }}"" updated_ca_cert_content: ""{{ hostvars[groups['octavia_nodes'][0]]['ca_cert_content'] | default('') }}"" updated_service_pem_content: ""{{ hostvars[groups['octavia_nodes'][0]]['service_pem_content'] | default('') }}"""," private_key_content: ""{{ hostvars[groups['octavia_nodes'][0]]['private_key_content'] | default('') }}"" ca_cert_content: ""{{ hostvars[groups['octavia_nodes'][0]]['ca_cert_content'] | default('') }}"" service_pem_content: ""{{ hostvars[groups['octavia_nodes'][0]]['service_pem_content'] | default('') }}""",6,6
openstack%2Ftripleo-ansible~stable%2Fussuri~I42e8993825c9ed956543755daf8cb6e414b1d790,openstack/tripleo-ansible,stable/ussuri,I42e8993825c9ed956543755daf8cb6e414b1d790,Use different name to distinguish between facts and vars in octavia,MERGED,2021-08-23 18:15:09.000000000,2021-08-31 17:14:46.000000000,2021-08-31 17:14:46.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-23 18:15:09.000000000', 'files': ['tripleo_ansible/playbooks/octavia-files.yaml', 'tripleo_ansible/roles/octavia_controller_config/tasks/certificate.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1f3173778a6f41f06c73c0ab4e223da89455102d', 'message': 'Use different name to distinguish between facts and vars in octavia\n\nansible facts take precedence over vars in ansible apparently so octavia\ncontroller configuration did not properly update certificates on hosts.\n\nCloses-Bug: #1939445\nChange-Id: I42e8993825c9ed956543755daf8cb6e414b1d790\n(cherry picked from commit 6d4ee79d28c63cb61d6aabb0854f2d3fc3bfc48a)\n(cherry picked from commit 836fc3389c96f98b8c736922de48441f3494a91e)\n'}]",0,805692,1f3173778a6f41f06c73c0ab4e223da89455102d,7,3,1,6681,,,0,"Use different name to distinguish between facts and vars in octavia

ansible facts take precedence over vars in ansible apparently so octavia
controller configuration did not properly update certificates on hosts.

Closes-Bug: #1939445
Change-Id: I42e8993825c9ed956543755daf8cb6e414b1d790
(cherry picked from commit 6d4ee79d28c63cb61d6aabb0854f2d3fc3bfc48a)
(cherry picked from commit 836fc3389c96f98b8c736922de48441f3494a91e)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/92/805692/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/octavia-files.yaml', 'tripleo_ansible/roles/octavia_controller_config/tasks/certificate.yml']",2,1f3173778a6f41f06c73c0ab4e223da89455102d,bug/1939445-ussuri," - content: ""{{ updated_private_key_content }}"" - content: ""{{ updated_ca_cert_content }}"" - content: ""{{ updated_service_pem_content }}"""," - content: ""{{ private_key_content }}"" - content: ""{{ ca_cert_content }}"" - content: ""{{ service_pem_content }}""",6,6
openstack%2Ftripleo-ansible~stable%2Ftrain~Iffab9c82f9ecdd5845cc93484ae15f70c9153341,openstack/tripleo-ansible,stable/train,Iffab9c82f9ecdd5845cc93484ae15f70c9153341,BnR: managed ceph properly to take a backup of the node,MERGED,2021-08-20 09:00:26.000000000,2021-08-31 17:14:44.000000000,2021-08-31 17:14:44.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-20 09:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/757e76374ddd7c267bd96cc309ba843cd0c049cc', 'message': 'BnR: managed ceph properly to take a backup of the node\n\nThis patch stops ceph services before doing a backup and\nstarts the ceph services after the backup. No matter how\nceph was installed (ceph-ansible or cephadm)\n\nChange-Id: Iffab9c82f9ecdd5845cc93484ae15f70c9153341\n(cherry picked from commit 9e85dd4943da47938b14a967f1b9548d202b03f0)\n(cherry picked from commit e38da96878feea65b70fc9fdfd5e2ed3141ef480)\n'}, {'number': 2, 'created': '2021-08-20 09:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/07fe7400c1f9c6b1fdc800d0bf95223a5666ee9a', 'message': 'BnR: managed ceph properly to take a backup of the node\n\nThis patch stops ceph services before doing a backup and\nstarts the ceph services after the backup. No matter how\nceph was installed (ceph-ansible or cephadm)\n\nChange-Id: Iffab9c82f9ecdd5845cc93484ae15f70c9153341\n(cherry picked from commit 9e85dd4943da47938b14a967f1b9548d202b03f0)\n(cherry picked from commit e38da96878feea65b70fc9fdfd5e2ed3141ef480)\n'}, {'number': 3, 'created': '2021-08-20 12:31:53.000000000', 'files': ['tripleo_ansible/roles/backup-and-restore/tasks/main.yml', 'tripleo_ansible/roles/backup-and-restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/backup-and-restore/tasks/ceph.yml', 'tripleo_ansible/roles/backup-and-restore/defaults/main.yml', 'tripleo_ansible/roles/backup-and-restore/setup_rear/tasks/main.yml', 'tripleo_ansible/roles/backup-and-restore/tasks/ceph_start.yml', 'tripleo_ansible/roles/backup-and-restore/tasks/ceph_stop.yml', 'tripleo_ansible/roles/backup-and-restore/tasks/cephadm_stat.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5685e28c60ed2c20aef9303abcc3b1206534b42b', 'message': 'BnR: managed ceph properly to take a backup of the node\n\nThis patch stops ceph services before doing a backup and\nstarts the ceph services after the backup. No matter how\nceph was installed (ceph-ansible or cephadm)\n\nChange-Id: Iffab9c82f9ecdd5845cc93484ae15f70c9153341\n(cherry picked from commit 9e85dd4943da47938b14a967f1b9548d202b03f0)\n(cherry picked from commit e38da96878feea65b70fc9fdfd5e2ed3141ef480)\n'}]",8,805277,5685e28c60ed2c20aef9303abcc3b1206534b42b,13,6,3,22954,,,0,"BnR: managed ceph properly to take a backup of the node

This patch stops ceph services before doing a backup and
starts the ceph services after the backup. No matter how
ceph was installed (ceph-ansible or cephadm)

Change-Id: Iffab9c82f9ecdd5845cc93484ae15f70c9153341
(cherry picked from commit 9e85dd4943da47938b14a967f1b9548d202b03f0)
(cherry picked from commit e38da96878feea65b70fc9fdfd5e2ed3141ef480)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/77/805277/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_start.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_stop.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/cephadm_stat.yml']",8,757e76374ddd7c267bd96cc309ba843cd0c049cc,lightbackups-stable/wallaby-stable/victoria-stable/victoria-stable/ussuri-stable/train,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Stat cephadm file stat: path: ""{{ tripleo_backup_and_restore_cephadm_path }}"" register: stat_cephadm become: true ignore_errors: true tags: - bar_create_recover_image - name: List Ceph daemon instances on this host shell: ""{{ tripleo_backup_and_restore_cephadm_path }} ls --no-detail"" register: cephadm_ls become: true when: stat_cephadm.stat.exists tags: - bar_create_recover_image ",,583,0
openstack%2Fcookbook-openstack-network~master~I40b5152c944bc00c3e1821de04cb5fb611965b8a,openstack/cookbook-openstack-network,master,I40b5152c944bc00c3e1821de04cb5fb611965b8a,"::server: serve neutron-api by Apache, with SSL support",NEW,2021-08-31 16:56:25.000000000,2021-08-31 17:13:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-31 16:56:25.000000000', 'files': ['attributes/default.rb', 'metadata.rb', 'recipes/default.rb', 'recipes/server.rb', 'templates/default/wsgi-template.conf.erb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/08d945969fc40972627cce88369f200ad7ed3ae3', 'message': '::server: serve neutron-api by Apache, with SSL support\n\nUnlike Glance, according to\nhttps://docs.openstack.org/neutron/wallaby/admin/config-wsgi.html\nit is very much okay to run neutron-api that way - and it makes\nconfiguring TLS simpler than in standalone UWSGI mode.\n\nPorted from our internal, Rocky-based implementation. First iteration,\nno tests yet.\n\nSigned-off-by: Marek Szuba <m.szuba@gsi.de>\nChange-Id: I40b5152c944bc00c3e1821de04cb5fb611965b8a\n'}]",0,806780,08d945969fc40972627cce88369f200ad7ed3ae3,2,1,1,33753,,,0,"::server: serve neutron-api by Apache, with SSL support

Unlike Glance, according to
https://docs.openstack.org/neutron/wallaby/admin/config-wsgi.html
it is very much okay to run neutron-api that way - and it makes
configuring TLS simpler than in standalone UWSGI mode.

Ported from our internal, Rocky-based implementation. First iteration,
no tests yet.

Signed-off-by: Marek Szuba <m.szuba@gsi.de>
Change-Id: I40b5152c944bc00c3e1821de04cb5fb611965b8a
",git fetch https://review.opendev.org/openstack/cookbook-openstack-network refs/changes/80/806780/1 && git format-patch -1 --stdout FETCH_HEAD,"['attributes/default.rb', 'metadata.rb', 'recipes/default.rb', 'recipes/server.rb', 'templates/default/wsgi-template.conf.erb']",5,08d945969fc40972627cce88369f200ad7ed3ae3,neutron-api_apache,"<%= node[""openstack""][""network""][""custom_template_banner""] %> <VirtualHost <%= @server_host %>:<%= @server_port %>> WSGIDaemonProcess <%= @daemon_process %> processes=2 threads=10 user=<%= @user %> group=<%= @group %> display-name=%{GROUP} WSGIProcessGroup <%= @daemon_process %> WSGIScriptAlias / <%= @server_entry %> WSGIApplicationGroup %{GLOBAL} WSGIPassAuthorization On <Directory /usr/bin> Require all granted </Directory> ErrorLogFormat ""%{cu}t %M"" ErrorLog <%= @log_dir %>/<%= @daemon_process %>_error.log CustomLog <%= @log_dir %>/<%= @daemon_process %>_access.log combined <% if node['openstack']['network']['ssl']['enabled'] -%> SSLEngine On SSLCertificateFile <%= node['openstack']['network']['ssl']['certfile'] %> SSLCertificateKeyFile <%= node['openstack']['network']['ssl']['keyfile'] %> SSLCACertificatePath <%= node['openstack']['network']['ssl']['ca_certs_path'] %> <% unless node['openstack']['network']['ssl']['chainfile'].empty? %> SSLCertificateChainFile <%= node['openstack']['network']['ssl']['chainfile'] %> <% end -%> SSLProtocol <%= node['openstack']['network']['ssl']['protocol'] %> <% unless node['openstack']['network']['ssl']['ciphers'].empty? -%> SSLCipherSuite <%= node['openstack']['network']['ssl']['ciphers'] %> <% end -%> <% if node['openstack']['network']['ssl']['cert_required'] -%> SSLVerifyClient require <% end -%> <% end -%> </VirtualHost> WSGISocketPrefix <%= @run_dir -%> ",,113,12
openstack%2Fcharm-mysql-router~stable%2F21.04~I16b04aab3ad2438b4c2ecabb697d24c7725e316b,openstack/charm-mysql-router,stable/21.04,I16b04aab3ad2438b4c2ecabb697d24c7725e316b,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-08-27 09:49:19.000000000,2021-08-31 17:11:13.000000000,2021-08-31 17:11:13.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-27 09:49:19.000000000', 'files': ['osci.yaml', 'src/tests/bundles/hirsute-full.yaml', 'src/tests/bundles/overlays/hirsute-full-ha.yaml.j2', 'src/tests/bundles/hirsute.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-full-ha.yaml'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/f979dc1488637307dae5a7f10e6886cfacf1ed96', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I16b04aab3ad2438b4c2ecabb697d24c7725e316b\n(cherry picked from commit 4cd4a1e37ae52c0d81aec171ab090ac38bdc7d33)\n'}]",0,806362,f979dc1488637307dae5a7f10e6886cfacf1ed96,12,5,1,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I16b04aab3ad2438b4c2ecabb697d24c7725e316b
(cherry picked from commit 4cd4a1e37ae52c0d81aec171ab090ac38bdc7d33)
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/62/806362/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/hirsute-full.yaml', 'src/tests/bundles/overlays/hirsute-full-ha.yaml.j2', 'src/tests/bundles/hirsute.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-full-ha.yaml']",6,f979dc1488637307dae5a7f10e6886cfacf1ed96,wallaby-bundles-stable/21.04,hirsute-full.yaml,,214,4
openstack%2Fcharm-nova-cell-controller~stable%2F21.04~I259256fedb52f424535cba3c5e78ac53516989f2,openstack/charm-nova-cell-controller,stable/21.04,I259256fedb52f424535cba3c5e78ac53516989f2,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-08-27 09:47:46.000000000,2021-08-31 17:09:03.000000000,2021-08-31 17:09:03.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-27 09:47:46.000000000', 'files': ['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/05f8997449bee2c62b7fc6122a5ba298d2c964f4', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I259256fedb52f424535cba3c5e78ac53516989f2\n(cherry picked from commit f1fc48218d3e98e1e8cf11d46979acac4e0a4e40)\n'}]",0,806356,05f8997449bee2c62b7fc6122a5ba298d2c964f4,18,5,1,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I259256fedb52f424535cba3c5e78ac53516989f2
(cherry picked from commit f1fc48218d3e98e1e8cf11d46979acac4e0a4e40)
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/56/806356/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",4,05f8997449bee2c62b7fc6122a5ba298d2c964f4,wallaby-bundles-stable/21.04, - focal-wallaby - hirsute-wallaby - hirsute-wallaby, - groovy-victoria,584,2
openstack%2Fcharm-gnocchi~stable%2F21.04~I4df3a7b4e1ab5aa7660424c4713f175df9f3f711,openstack/charm-gnocchi,stable/21.04,I4df3a7b4e1ab5aa7660424c4713f175df9f3f711,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-08-27 09:48:15.000000000,2021-08-31 17:06:26.000000000,2021-08-31 17:06:26.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-27 09:48:15.000000000', 'files': ['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby-s3.yaml', 'src/tests/bundles/focal-wallaby-s3.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/4a6d82d3c643cf66e9390e79109af62918ef733b', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I4df3a7b4e1ab5aa7660424c4713f175df9f3f711\n(cherry picked from commit 51ba22235f4ca1c6191058e210ddfa0d58d0085b)\n'}]",0,806358,4a6d82d3c643cf66e9390e79109af62918ef733b,18,5,1,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I4df3a7b4e1ab5aa7660424c4713f175df9f3f711
(cherry picked from commit 51ba22235f4ca1c6191058e210ddfa0d58d0085b)
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/58/806358/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby-s3.yaml', 'src/tests/bundles/focal-wallaby-s3.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",6,4a6d82d3c643cf66e9390e79109af62918ef733b,wallaby-bundles-stable/21.04, - focal-wallaby - test-s3: focal-wallaby-s3 - hirsute-wallaby - test-s3: hirsute-wallaby-s3 - hirsute-wallaby - hirsute-wallaby-s3, - groovy-victoria - groovy-victoria-s3,601,3
openstack%2Fcharm-interface-hacluster~master~I70037252cc7a677a9394929cb0cd17e9506ab624,openstack/charm-interface-hacluster,master,I70037252cc7a677a9394929cb0cd17e9506ab624,Move common requires code,MERGED,2021-08-26 12:05:55.000000000,2021-08-31 17:03:26.000000000,2021-08-31 17:03:26.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 12:05:55.000000000', 'files': ['requires.py', 'unit_tests/test_common.py', 'unit_tests/test_requires.py', 'interface_hacluster/common.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-interface-hacluster/commit/679a76dfe564ab1a8f46a124f2f8b74ba3e96965', 'message': 'Move common requires code\n\nMove common requires code in to the common module so that\nrequires.py only contains the code which is specific to\nreactive charms. This will allow for a subsequent patch which\ncreates a requires interface consumable by operator framework\ncharms.\n\nChange-Id: I70037252cc7a677a9394929cb0cd17e9506ab624\n'}]",0,806154,679a76dfe564ab1a8f46a124f2f8b74ba3e96965,6,2,1,12549,,,0,"Move common requires code

Move common requires code in to the common module so that
requires.py only contains the code which is specific to
reactive charms. This will allow for a subsequent patch which
creates a requires interface consumable by operator framework
charms.

Change-Id: I70037252cc7a677a9394929cb0cd17e9506ab624
",git fetch https://review.opendev.org/openstack/charm-interface-hacluster refs/changes/54/806154/1 && git format-patch -1 --stdout FETCH_HEAD,"['requires.py', 'unit_tests/test_common.py', 'unit_tests/test_requires.py', 'interface_hacluster/common.py', 'tox.ini']",5,679a76dfe564ab1a8f46a124f2f8b74ba3e96965,refactor-common-code,"envlist = pep8,py3","envlist = pep8,py37",263,240
openstack%2Freleases~master~I8d00cfbad8eee9b65b571b5536137aef8166d0cb,openstack/releases,master,I8d00cfbad8eee9b65b571b5536137aef8166d0cb,Release ovn-octavia-provider 1.1.1 for Xena,MERGED,2021-08-31 09:52:05.000000000,2021-08-31 17:00:29.000000000,2021-08-31 17:00:29.000000000,"[{'_account_id': 841}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-31 09:52:05.000000000', 'files': ['deliverables/xena/ovn-octavia-provider.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1bfe61c642df2cc3c48352c7b3d6eb8666bc43a3', 'message': 'Release ovn-octavia-provider 1.1.1 for Xena\n\nChange-Id: I8d00cfbad8eee9b65b571b5536137aef8166d0cb\n'}]",0,806716,1bfe61c642df2cc3c48352c7b3d6eb8666bc43a3,8,4,1,11975,,,0,"Release ovn-octavia-provider 1.1.1 for Xena

Change-Id: I8d00cfbad8eee9b65b571b5536137aef8166d0cb
",git fetch https://review.opendev.org/openstack/releases refs/changes/16/806716/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/ovn-octavia-provider.yaml'],1,1bfe61c642df2cc3c48352c7b3d6eb8666bc43a3,xena-release, - version: 1.1.1 projects: - repo: openstack/ovn-octavia-provider hash: f257fc1a2411c22c07b6cf5b53fc86e5c8449b69,,4,0
openstack%2Fopenstack-ansible~stable%2Fwallaby~I45278421c7ba0b4a696fbf1433f363cb3dd749d1,openstack/openstack-ansible,stable/wallaby,I45278421c7ba0b4a696fbf1433f363cb3dd749d1,Bump OpenStack-Ansible Wallaby,MERGED,2021-08-31 08:42:44.000000000,2021-08-31 16:56:39.000000000,2021-08-31 16:54:30.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-08-31 08:42:44.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/os-upgrade-requirements-fix-bcc81b049339e9b5.yaml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9243f5340b52c4dd670e3a098aaa462c7433a928', 'message': 'Bump OpenStack-Ansible Wallaby\n\nChange-Id: I45278421c7ba0b4a696fbf1433f363cb3dd749d1\n'}]",0,806688,9243f5340b52c4dd670e3a098aaa462c7433a928,8,3,1,28619,,,0,"Bump OpenStack-Ansible Wallaby

Change-Id: I45278421c7ba0b4a696fbf1433f363cb3dd749d1
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/88/806688/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/os-upgrade-requirements-fix-bcc81b049339e9b5.yaml', 'ansible-role-requirements.yml']",5,9243f5340b52c4dd670e3a098aaa462c7433a928,bump_osa, version: 1180c38dc300d251e39b0717d6283c5a100ecbe4 version: bba8f0bb592174df3ab1c05b333c1c50e2461cd5 version: 38a11fdb1b01682d2d3d0bd6dd81bfbba8d6cbad version: fa05df954185bb9d3682612d396ec2f8b5000c28 version: 99c246e80963f13bf6c21f0e53200a6fb793c21d version: 5a22d53bff67a1697e09070246679d0d385c5bd9 version: b1fe667432e3076dd1075a670829550f22480030 version: d054864366a4f4e351dfdccd914e4065faa4b7d4 shallow_since: '2021-08-27' version: a54e13cb4b846459e434f15ea09fe5c93887883e," version: e2643a1a142679dfb8c38e67dc5c6c0749c31647 version: be639d940786620a67f3be85d4757c7663e12014 version: d45e5f918a48fff2f1427f5100f6bc4521e1ffbb version: 29e5fbf252074bd8cefb875911d88f58af9cb205 version: 19bf040b67f03111cb205cb41bf03b5f5f2c205c version: 87a3f4fa3a50a3a2959cf841deb03c8aea5f32fc version: c4db22f16dd59e61881c4ff026e2804a170446a1 version: d7edc71fd557d18531c90b803159b7d526156c1c shallow_since: ""2021-07-27"" version: 0e735c4f8f0442588482bd60c2307f9e7023fe3b",76,69
openstack%2Ftripleo-ansible~stable%2Fussuri~Iffab9c82f9ecdd5845cc93484ae15f70c9153341,openstack/tripleo-ansible,stable/ussuri,Iffab9c82f9ecdd5845cc93484ae15f70c9153341,BnR: managed ceph properly to take a backup of the node,MERGED,2021-08-20 08:59:55.000000000,2021-08-31 16:48:48.000000000,2021-08-31 16:48:48.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-20 08:59:55.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_start.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_stop.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/cephadm_stat.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8ec45c78317f5e58c81dc358d6913314515adab9', 'message': 'BnR: managed ceph properly to take a backup of the node\n\nThis patch stops ceph services before doing a backup and\nstarts the ceph services after the backup. No matter how\nceph was installed (ceph-ansible or cephadm)\n\nChange-Id: Iffab9c82f9ecdd5845cc93484ae15f70c9153341\n(cherry picked from commit 9e85dd4943da47938b14a967f1b9548d202b03f0)\n(cherry picked from commit e38da96878feea65b70fc9fdfd5e2ed3141ef480)\n'}]",0,805276,8ec45c78317f5e58c81dc358d6913314515adab9,7,6,1,22954,,,0,"BnR: managed ceph properly to take a backup of the node

This patch stops ceph services before doing a backup and
starts the ceph services after the backup. No matter how
ceph was installed (ceph-ansible or cephadm)

Change-Id: Iffab9c82f9ecdd5845cc93484ae15f70c9153341
(cherry picked from commit 9e85dd4943da47938b14a967f1b9548d202b03f0)
(cherry picked from commit e38da96878feea65b70fc9fdfd5e2ed3141ef480)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/76/805276/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_start.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_stop.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/cephadm_stat.yml']",8,8ec45c78317f5e58c81dc358d6913314515adab9,lightbackups-stable/wallaby-stable/victoria-stable/victoria-stable/ussuri,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Stat cephadm file stat: path: ""{{ tripleo_backup_and_restore_cephadm_path }}"" register: stat_cephadm become: true ignore_errors: true tags: - bar_create_recover_image - name: List Ceph daemon instances on this host shell: ""{{ tripleo_backup_and_restore_cephadm_path }} ls --no-detail"" register: cephadm_ls become: true when: stat_cephadm.stat.exists tags: - bar_create_recover_image ",,215,12
openstack%2Fcharm-aodh~stable%2F21.04~I3d232efea8c316cf841491de944649858954afc2,openstack/charm-aodh,stable/21.04,I3d232efea8c316cf841491de944649858954afc2,Rebuild,MERGED,2021-08-27 09:43:37.000000000,2021-08-31 16:48:44.000000000,2021-08-31 16:48:44.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-27 09:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/8a1f1ec70a20b9df16da195f1b52b14d08cb6d60', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby supporto.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I3d232efea8c316cf841491de944649858954afc2\n(cherry picked from commit e813584d6c2ef18cf2f1c189865bbd63fa682229)\n'}, {'number': 2, 'created': '2021-08-27 10:39:45.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/b70c68e6657bc49f582e5c50bcc9e3454092381d', 'message': 'Rebuild\n\nin order to pick\nhttps://review.opendev.org/c/openstack/charms.openstack/+/787641\n\nCloses-Bug: #1940627\nChange-Id: I3d232efea8c316cf841491de944649858954afc2\n'}]",0,806224,b70c68e6657bc49f582e5c50bcc9e3454092381d,18,5,2,31289,,,0,"Rebuild

in order to pick
https://review.opendev.org/c/openstack/charms.openstack/+/787641

Closes-Bug: #1940627
Change-Id: I3d232efea8c316cf841491de944649858954afc2
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/24/806224/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml']",2,8a1f1ec70a20b9df16da195f1b52b14d08cb6d60,wallaby-bundles-stable/21.04,"<<<<<<< HEAD (2996a0 rebuild - restore proxy env vars for add-apt-repository)======= charm: cs:~openstack-charmers-next/mysql-router aodh-mysql-router: charm: cs:~openstack-charmers-next/mysql-router gnocchi-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' aodh: charm: ../../../aodh num_units: 1 to: - '3' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 to: - '4' options: source: *openstack-origin keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '5' ceilometer: charm: cs:~openstack-charmers-next/ceilometer num_units: 1 options: openstack-origin: *openstack-origin to: - '6' ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 3 storage: osd-devices: 'cinder,10G' options: source: *openstack-origin to: - '7' - '8' - '9' ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: expected-osd-count: 3 monitor-count: '3' source: *openstack-origin to: - '10' - '11' - '12' gnocchi: charm: cs:~openstack-charmers-next/gnocchi >>>>>>> CHANGE (e81358 Test bundles for focal-wallaby and hirsute-wallaby)",,150,0
openstack%2Ftripleo-ansible~stable%2Fvictoria~Iffab9c82f9ecdd5845cc93484ae15f70c9153341,openstack/tripleo-ansible,stable/victoria,Iffab9c82f9ecdd5845cc93484ae15f70c9153341,BnR: managed ceph properly to take a backup of the node,MERGED,2021-08-20 07:22:31.000000000,2021-08-31 16:38:36.000000000,2021-08-31 16:38:36.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-20 07:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/912f512dc47c90ba8591a3250737fc04d12f9251', 'message': 'BnR: managed ceph properly to take a backup of the node\n\nThis patch stops ceph services before doing a backup and\nstarts the ceph services after the backup. No matter how\nceph was installed (ceph-ansible or cephadm)\n\nChange-Id: Iffab9c82f9ecdd5845cc93484ae15f70c9153341\n(cherry picked from commit 9e85dd4943da47938b14a967f1b9548d202b03f0)\n(cherry picked from commit e38da96878feea65b70fc9fdfd5e2ed3141ef480)\n'}, {'number': 2, 'created': '2021-08-20 08:57:52.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_start.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_stop.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/cephadm_stat.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e5d150ae079caafd7c911fdb450d981aa3911bcf', 'message': 'BnR: managed ceph properly to take a backup of the node\n\nThis patch stops ceph services before doing a backup and\nstarts the ceph services after the backup. No matter how\nceph was installed (ceph-ansible or cephadm)\n\nChange-Id: Iffab9c82f9ecdd5845cc93484ae15f70c9153341\n(cherry picked from commit 9e85dd4943da47938b14a967f1b9548d202b03f0)\n(cherry picked from commit e38da96878feea65b70fc9fdfd5e2ed3141ef480)\n'}]",1,805274,e5d150ae079caafd7c911fdb450d981aa3911bcf,10,7,2,22954,,,0,"BnR: managed ceph properly to take a backup of the node

This patch stops ceph services before doing a backup and
starts the ceph services after the backup. No matter how
ceph was installed (ceph-ansible or cephadm)

Change-Id: Iffab9c82f9ecdd5845cc93484ae15f70c9153341
(cherry picked from commit 9e85dd4943da47938b14a967f1b9548d202b03f0)
(cherry picked from commit e38da96878feea65b70fc9fdfd5e2ed3141ef480)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/74/805274/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_start.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_stop.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/cephadm_stat.yml']",8,912f512dc47c90ba8591a3250737fc04d12f9251,lightbackups-stable/wallaby-stable/victoria-stable/victoria,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Stat cephadm file stat: path: ""{{ tripleo_backup_and_restore_cephadm_path }}"" register: stat_cephadm become: true ignore_errors: true tags: - bar_create_recover_image - name: List Ceph daemon instances on this host shell: ""{{ tripleo_backup_and_restore_cephadm_path }} ls --no-detail"" register: cephadm_ls become: true when: stat_cephadm.stat.exists tags: - bar_create_recover_image ",,215,12
openstack%2Fcharm-mysql-innodb-cluster~stable%2F21.04~Icc574387103d1fdb83836041e346cd2223c2a465,openstack/charm-mysql-innodb-cluster,stable/21.04,Icc574387103d1fdb83836041e346cd2223c2a465,Rebuild,MERGED,2021-08-27 09:45:59.000000000,2021-08-31 16:37:25.000000000,2021-08-31 16:37:25.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-27 09:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/b18814b5856adf64cdfdade278beb0597092a946', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: Icc574387103d1fdb83836041e346cd2223c2a465\n(cherry picked from commit 8950259b2798411e7ab1c2d343e434ee5af41d1e)\n'}, {'number': 2, 'created': '2021-08-27 12:00:33.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/68a8021d7c170cb7dbcb9b5509fdc329851016b6', 'message': 'Rebuild\n\nin order to pick\nhttps://review.opendev.org/c/openstack/charms.openstack/+/787641\n\nCloses-Bug: #1940627\nChange-Id: Icc574387103d1fdb83836041e346cd2223c2a465\n'}]",0,806228,68a8021d7c170cb7dbcb9b5509fdc329851016b6,21,5,2,31289,,,0,"Rebuild

in order to pick
https://review.opendev.org/c/openstack/charms.openstack/+/787641

Closes-Bug: #1940627
Change-Id: Icc574387103d1fdb83836041e346cd2223c2a465
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/28/806228/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/hirsute-full.yaml', 'src/tests/bundles/overlays/hirsute-full-ha.yaml.j2', 'src/tests/bundles/hirsute.yaml']",3,b18814b5856adf64cdfdade278beb0597092a946,wallaby-bundles-stable/21.04,<<<<<<< HEAD (6d9a50 Remove instance flags when instance removed)======= charm: cs:~openstack-charmers-next/mysql-router vault-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: series: groovy charm: ../../../mysql-innodb-cluster num_units: 3 keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 vault: charm: cs:~openstack-charmers-next/vault >>>>>>> CHANGE (895025 Test bundles for focal-wallaby and hirsute-wallaby),,92,0
openstack%2Fopenstackclient~master~I1f7ed525e222905ca04beec9c5932ddf3ad7515b,openstack/openstackclient,master,I1f7ed525e222905ca04beec9c5932ddf3ad7515b,[community goal] Update contributor documentation,MERGED,2021-08-30 17:07:23.000000000,2021-08-31 16:35:51.000000000,2021-08-31 16:35:51.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-08-30 17:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackclient/commit/4efb4edad38df80f2e34570c8eeda03d3efde572', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38547\nChange-Id: I1f7ed525e222905ca04beec9c5932ddf3ad7515b\n'}, {'number': 2, 'created': '2021-08-30 17:15:35.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstackclient/commit/a749f4f25d9bfc1f6c3bbb9a0578adfefe20a30d', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38547\nChange-Id: I1f7ed525e222905ca04beec9c5932ddf3ad7515b\n'}]",0,806623,a749f4f25d9bfc1f6c3bbb9a0578adfefe20a30d,9,4,2,8556,,,0,"[community goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38547
Change-Id: I1f7ed525e222905ca04beec9c5932ddf3ad7515b
",git fetch https://review.opendev.org/openstack/openstackclient refs/changes/23/806623/2 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,4efb4edad38df80f2e34570c8eeda03d3efde572,project-ptl-and-contrib-docs,"The source repository for this project can be found at: https://opendev.org/openstack/openstackclient Pull requests submitted through GitHub are not monitored. To start contributing to OpenStack, follow the steps in the contribution guide to set up and use Gerrit: https://docs.openstack.org/contributors/code-and-documentation/quick-start.html Bugs should be filed on StoryBoard: https://storyboard.openstack.org/#!/project/openstack/python-openstackclient Developers should also join the discussion on the mailing list, at: http://lists.openstack.org/cgi-bin/mailman/listinfo/openstack-discuss or join the IRC channel on #openstack-sdks on OFTC (irc.oftc.net) For more specific information about contributing to this repository, see the openstacksdk contributor guide: https://docs.openstack.org/openstacksdk/latest/contributor/index.html ",,27,0
openstack%2Fironic-specs~master~Ie6943a37d6203c6e1785aacadeeae4f17e109f2e,openstack/ironic-specs,master,Ie6943a37d6203c6e1785aacadeeae4f17e109f2e,Torrent-based provisioning,ABANDONED,2016-04-29 12:29:32.000000000,2021-08-31 16:32:10.000000000,,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 5805}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 7711}, {'_account_id': 8106}, {'_account_id': 9542}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 10910}, {'_account_id': 11076}, {'_account_id': 12356}, {'_account_id': 13295}, {'_account_id': 13636}, {'_account_id': 14525}, {'_account_id': 14826}, {'_account_id': 18653}, {'_account_id': 18893}, {'_account_id': 24095}]","[{'number': 1, 'created': '2016-04-29 12:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/9660c6e63745571fbe91bfe08d6558fc3fa8d899', 'message': 'Add spec for Torrent-based provisioning\n\nChange-Id: Ie6943a37d6203c6e1785aacadeeae4f17e109f2e\nPartial-Bug: 1576661\n'}, {'number': 2, 'created': '2016-09-28 13:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/5bdebffdbff897d00e690b7b6b244aeec21add15', 'message': 'Torrent-based provisioning\n\nChange-Id: Ie6943a37d6203c6e1785aacadeeae4f17e109f2e\nPartial-Bug: 1576661\n'}, {'number': 3, 'created': '2016-10-12 11:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/b32ebb55ee5e6af9683297640366d9e34947298a', 'message': 'Torrent-based provisioning\n\nCo-Authored-By: Anton Arefiev <aarefiev@mirantis.com>\nChange-Id: Ie6943a37d6203c6e1785aacadeeae4f17e109f2e\nPartial-Bug: 1576661\n'}, {'number': 4, 'created': '2016-10-18 11:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/7348707151f2a5cc6d11ee30c409650ba2025b30', 'message': 'Torrent-based provisioning\n\nCo-Authored-By: Anton Arefiev <aarefiev@mirantis.com>\nChange-Id: Ie6943a37d6203c6e1785aacadeeae4f17e109f2e\nPartial-Bug: 1576661\n'}, {'number': 5, 'created': '2016-11-04 12:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/2579e5eb77aa451a82e88fbdc8aace6af923e540', 'message': 'Torrent-based provisioning\n\nCo-Authored-By: Anton Arefiev <aarefiev@mirantis.com>\nChange-Id: Ie6943a37d6203c6e1785aacadeeae4f17e109f2e\nPartial-Bug: 1576661\n'}, {'number': 6, 'created': '2016-11-08 15:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/636a4e028221db058c8964b492267429c0319aaf', 'message': 'Torrent-based provisioning\n\nCo-Authored-By: Anton Arefiev <aarefiev@mirantis.com>\nChange-Id: Ie6943a37d6203c6e1785aacadeeae4f17e109f2e\nPartial-Bug: 1576661\n'}, {'number': 7, 'created': '2016-12-16 09:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/c2d3a9d54ef2a021834a48f1c7cdc8dbf64eb7b1', 'message': 'Torrent-based provisioning\n\nCo-Authored-By: Anton Arefiev <aarefiev@mirantis.com>\nChange-Id: Ie6943a37d6203c6e1785aacadeeae4f17e109f2e\nPartial-Bug: 1576661\n'}, {'number': 8, 'created': '2016-12-27 08:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/c453c14a8504998368060d697c7dc2222423d2bb', 'message': 'Torrent-based provisioning\n\nCo-Authored-By: Anton Arefiev <aarefiev@mirantis.com>\nChange-Id: Ie6943a37d6203c6e1785aacadeeae4f17e109f2e\nPartial-Bug: 1576661\n'}, {'number': 9, 'created': '2016-12-27 09:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/3e693fbcb8e9f0a31f61bd74b4e35c3e2d0f4a02', 'message': 'Torrent-based provisioning\n\nCo-Authored-By: Anton Arefiev <aarefiev@mirantis.com>\nChange-Id: Ie6943a37d6203c6e1785aacadeeae4f17e109f2e\nPartial-Bug: 1576661\n'}, {'number': 10, 'created': '2017-01-11 16:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e9c696b2f1f0014c33edd4ad215447f491ee4bb6', 'message': 'Torrent-based provisioning\n\nCo-Authored-By: Anton Arefiev <aarefiev@mirantis.com>\nChange-Id: Ie6943a37d6203c6e1785aacadeeae4f17e109f2e\nPartial-Bug: 1576661\n'}, {'number': 11, 'created': '2017-02-01 18:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/2f16e1f4c8e055b1bc9eb9d6d635d48f457b8e1e', 'message': 'Torrent-based provisioning\n\nCo-Authored-By: Anton Arefiev <aarefiev@mirantis.com>\nChange-Id: Ie6943a37d6203c6e1785aacadeeae4f17e109f2e\nPartial-Bug: 1576661\n'}, {'number': 12, 'created': '2017-02-21 09:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/2a584852c466141d59a681ca3a4e036059318624', 'message': 'Torrent-based provisioning\n\nCo-Authored-By: Anton Arefiev <aarefiev@mirantis.com>\nChange-Id: Ie6943a37d6203c6e1785aacadeeae4f17e109f2e\nPartial-Bug: 1576661\n'}, {'number': 13, 'created': '2017-03-01 17:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/907a631e5f7e54bf05ded821c0a6a29c427f77d6', 'message': 'Torrent-based provisioning\n\nCo-Authored-By: Anton Arefiev <aarefiev@mirantis.com>\nChange-Id: Ie6943a37d6203c6e1785aacadeeae4f17e109f2e\nPartial-Bug: 1576661\n'}, {'number': 14, 'created': '2017-03-07 15:27:50.000000000', 'files': ['specs/not-implemented/torrent-provisioning.rst', 'specs/approved/torrent-provisioning.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/18f97e6816e87cc5cce615e0a4f0c3986e7c4824', 'message': 'Torrent-based provisioning\n\nCo-Authored-By: Anton Arefiev <aarefiev@mirantis.com>\nChange-Id: Ie6943a37d6203c6e1785aacadeeae4f17e109f2e\nPartial-Bug: 1576661\n'}]",282,311091,18f97e6816e87cc5cce615e0a4f0c3986e7c4824,84,20,14,8259,,,0,"Torrent-based provisioning

Co-Authored-By: Anton Arefiev <aarefiev@mirantis.com>
Change-Id: Ie6943a37d6203c6e1785aacadeeae4f17e109f2e
Partial-Bug: 1576661
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/91/311091/14 && git format-patch -1 --stdout FETCH_HEAD,['specs/newton/torrent-based-provisioning.rst'],1,9660c6e63745571fbe91bfe08d6558fc3fa8d899,bug/1576661,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================= Torrent-based image provisioning ================= https://bugs.launchpad.net/ironic/+bug/1576661 This feature allows user to provision image using Bittorrent protocol. Peer-to-peer sharing can reduce load on image storage and network when provision big count of instances with same image simultaneously. Problem description =================== Currently Ironic allows provision image by downloading it from single endpoint. This approach can be bottleneck when provision big count of instances simultaneously. Proposed change =============== Simultaneously provisioning same images to multiple instances can be more efficiently by using image sharing between instances. This change proposes use Bittorrent protocol. To achieve this Ironic should be able to create torrent metadata and put specified image to torrent client for seeding. Local torrent client is required (e.g Deluged, Transmission, Aria2, etc...) Torrent tracker is required (Opentracker, bttrack, etc...), but possible to avoid this requirement by using Bittorrent extentions like LPD and PEX. When ironic-conductor receives call to deploy to node, specified image should be download to local directory where torrent client stores downloaded files. Then torrent metadata should be created for downloaded image file and put to torrent client for seeding. Instances should receive Magnet link to torrent metadata and be able to find seeds (torrent client on conductor server and other instances). Alternatives ------------ * https://blueprints.launchpad.net/glance/+spec/glance-bittorrent-delivery * BitNBD, complex solution for VMs Data model impact ----------------- Additional metadata can be required for instances when bootstrap. No database schema changes impact. State Machine Impact -------------------- None REST API impact --------------- None Client (CLI) impact ------------------- None ""ironic"" CLI ~~~~~~~~~~~~ None ""openstack baremetal"" CLI ~~~~~~~~~~~~~~~~~~~~~~~~~ None RPC API impact -------------- None Driver API impact ----------------- Drivers requires support of this feature. Nova driver impact ------------------ None Security impact --------------- User's images will be cached on conductor and shared across provisioning network. Encryption can be used if need. Image sharing will consume additional resources on conductor. Other end user impact --------------------- User should specify which image requires torrent provisioning. Possible to add image property like 'use_torrent=True' to instruct use torrent-based provisioning, and use default provisiong way otherwise. Scalability impact ------------------ * Instances will do additional network calls to torrent tracker and exchange meta information with peers. * Instances will do outgoing traffic to share image. * Load on image service and networking on conductor should be reduced. Performance Impact ------------------ * Images will downloads to conductor cache utilizing network and image service. * Local image cache requires disk space on conductor. * Additional CPU resources required for generating torrent metadata. * Torrent client on conductor will additionaly utilize local disk IO and networking when instances provisioning. Other deployer impact --------------------- * Torrent client daemon required on conductor server. * Torrent client daemon should support 'autoadd' feature. * Local cache directory should be created for download image files. * Autoadd directory should be created, ironic-conductor will put torrent files to this directory and torrent client will catch them and process. * Torrent tracker should be deployed for keep information about peers. Tracker can be optional when using features like LPD and PEX (LPD requires multicast in provisioning network). * Bootstrap image requires torrent client inside. Developer impact ---------------- * Discussion of how deploy drivers would implement the feature is required. Implementation ============== Assignee(s) ----------- Primary assignee: ashestakov Work Items ---------- * Implement common module for bittorrent * Implement torrent provisioning in deploy drivers Dependencies ============ * python-libtorrent library is required Testing ======= TODO Upgrades and Backwards Compatibility ==================================== None Documentation Impact ==================== TODO References ========== None ",,195,0
openstack%2Fheat-tempest-plugin~master~If2662e223ad52c8cae965eb6bdf880c1dce962f2,openstack/heat-tempest-plugin,master,If2662e223ad52c8cae965eb6bdf880c1dce962f2,Migrate from testr to stestr,MERGED,2021-05-20 07:03:32.000000000,2021-08-31 16:29:40.000000000,2021-08-31 16:29:40.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-05-20 07:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/4a863fbcf8b993114031af022b27abf75bac81aa', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore and test-requirements.txt files accordingly\n* Use py3 as the default runtime for tox and 3.18.0 as the\n  minversion for tox\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: If2662e223ad52c8cae965eb6bdf880c1dce962f2\n'}, {'number': 2, 'created': '2021-05-21 05:55:34.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/67f98f8666f9d0d2649e48bcb13189597e3fe50a', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore and test-requirements.txt files accordingly\n* Use py3 as the default runtime for tox and 3.18.0 as the\n  minversion for tox\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: If2662e223ad52c8cae965eb6bdf880c1dce962f2\n'}]",2,792323,67f98f8666f9d0d2649e48bcb13189597e3fe50a,30,3,2,33370,,,0,"Migrate from testr to stestr

* Replace .testr.conf by .stestr.conf for migration and update
  .gitignore and test-requirements.txt files accordingly
* Use py3 as the default runtime for tox and 3.18.0 as the
  minversion for tox

Signed-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>
Change-Id: If2662e223ad52c8cae965eb6bdf880c1dce962f2
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/23/792323/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', 'tox.ini', '.stestr.conf']",5,4a863fbcf8b993114031af022b27abf75bac81aa,stestr,[DEFAULT] test_path=./heat_tempest_plugin/tests/ top_dir=./ ,,37,18
openstack%2Fnova~master~Icb91f6429050a161f577d0ed94d4cd906d3da461,openstack/nova,master,Icb91f6429050a161f577d0ed94d4cd906d3da461,Transfer RequestLevelParams from ports to scheduling,MERGED,2021-05-14 15:10:46.000000000,2021-08-31 16:24:35.000000000,2021-08-31 16:21:30.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 15:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6cc2826cbdcb334edb86f978aa40f8caa7b41a5', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nTODO:\n* test coverage\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 2, 'created': '2021-05-14 15:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f1b833d834b5dcb1df4676830f6cba59d447807', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nTODO:\n* test coverage\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 3, 'created': '2021-05-19 13:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/162471a4eda86ff38a9deffd8932e847cd9141c4', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in the allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nTODO:\n* test coverage\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 4, 'created': '2021-05-20 14:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae051f221a089f4f8cd128f9e509a01e027afaf1', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in the allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nTODO:\n* test coverage\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 5, 'created': '2021-05-20 17:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0978189a2bff95c7bd0710c15a1ba5d8dc557689', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in the allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nTODO:\n* test coverage\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 6, 'created': '2021-05-21 15:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53591f760e61d3a724c6ab8d60da4149a59aace3', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in the allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nTODO:\n* test coverage\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 7, 'created': '2021-05-28 12:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6827cd68292595daf67495c9ee24c88dc022926', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in the allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nTODO:\n* test coverage\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 8, 'created': '2021-05-28 16:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79ce34ecd862d663fe00c2590352b3f1bdd027e4', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in the allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nTODO:\n* test coverage\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 9, 'created': '2021-06-02 17:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b3e85340820c3d7e74828e46b53e8455f8f0052', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in the allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nTODO:\n* test coverage\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 10, 'created': '2021-06-03 16:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e9b2b36854f16dde6b42a354d348e8e2108019e', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in the allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nTODO:\n* test coverage\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 11, 'created': '2021-06-04 13:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cae5e8658028ffd61346b0b36168b06762ad74dc', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in the allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nTODO:\n* test coverage\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 12, 'created': '2021-06-14 11:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26c438ec83b113e8a1890734243adf9a33a877ce', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in the allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nTODO:\n* test coverage\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 13, 'created': '2021-06-25 16:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38469ee4a3bb5199fc33bad7d478ba7eb7923b8c', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in the allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nTODO:\n* test coverage\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 14, 'created': '2021-06-30 16:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5923b136358c47a7fc28a0c7118a294cae2e784d', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in the allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nTODO:\n* test coverage\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 15, 'created': '2021-07-07 16:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ee9b8ed21024e1e16ed7a2f90a6a927267e87cd', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in the allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nTODO:\n* test coverage\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 16, 'created': '2021-07-08 17:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a98920133ead97c79a2da9cd4e4bf3848bec8e9', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in the allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nTODO:\n* test coverage\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 17, 'created': '2021-07-09 13:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa2d250b21ad4120d15c659623a35a572b45b9e8', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in the allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nTODO:\n* test coverage\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 18, 'created': '2021-07-15 15:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82f86c86a389ce6d28566e7397841a9cfe8d27d3', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in the allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nTODO:\n* test coverage for the new functionality\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 19, 'created': '2021-07-15 18:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0aeb7c9d86729dedf0437fe42c464795d1dc4674', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in the allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nTODO:\n* test coverage for the new functionality\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 20, 'created': '2021-07-15 19:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b7e73d6ad8ae9ebdcc9671b64a0563c3c1c8ed1', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in the allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nTODO:\n* test coverage for the new functionality\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 21, 'created': '2021-07-16 17:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef945cc7a6f71ccac6ba4cf2cb22d6b867803e5b', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in the allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 22, 'created': '2021-07-19 14:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d0e054cbd8ada3db8fcf0cb58b09715f771772d', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in the allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 23, 'created': '2021-07-19 16:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3602da2b5b885652d95f7fb1a41819c50f55415a', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in the allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 24, 'created': '2021-07-22 13:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3c13d77a1716b983d3e806234e94109d064fb4d', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in the allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 25, 'created': '2021-07-22 13:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1cd0755f104f25eb7ad4370464d424b090b161e', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in the allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 26, 'created': '2021-08-16 17:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16d2869036fbad80670d7e4deaf915bb872ea39d', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in the allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 27, 'created': '2021-08-21 12:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1871dc2c35126b9ffe0d95fe76df20ddd825b4f', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in the allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 28, 'created': '2021-08-22 10:23:38.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/scheduler/utils.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/compute/test_api.py', 'nova/objects/request_spec.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/network/neutron.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/compute/manager.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/94f47471e058e46441a63d5aaf77776ef75b3fba', 'message': 'Transfer RequestLevelParams from ports to scheduling\n\nThe new format of the resource_request field of the Neutron port allows\nexpressing not just request groups but also request global parameters\nfor the allocation candidate query. This patch adapts the neutron client\nin nova to parse such parameters. Then transfer this information to the\nscheduler to include it in the allocation candidate request.\n\nIt relies on previous patches that already extended the\nRequestLevelParams ovo and the allocation candidate query generation.\n\nChange-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461\nblueprint: qos-minimum-guaranteed-packet-rate\n'}]",7,791506,94f47471e058e46441a63d5aaf77776ef75b3fba,202,5,28,9708,,,0,"Transfer RequestLevelParams from ports to scheduling

The new format of the resource_request field of the Neutron port allows
expressing not just request groups but also request global parameters
for the allocation candidate query. This patch adapts the neutron client
in nova to parse such parameters. Then transfer this information to the
scheduler to include it in the allocation candidate request.

It relies on previous patches that already extended the
RequestLevelParams ovo and the allocation candidate query generation.

Change-Id: Icb91f6429050a161f577d0ed94d4cd906d3da461
blueprint: qos-minimum-guaranteed-packet-rate
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/791506/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/network/neutron.py', 'nova/scheduler/utils.py', 'nova/compute/manager.py', 'nova/compute/api.py']",5,f6cc2826cbdcb334edb86f978aa40f8caa7b41a5,bp/qos-minimum-guaranteed-packet-rate," network_metadata, port_resource_requests, req_lvl_params = result # TODO(gibi): add a microversion check here for the new port # resource_request format if we decide to need one 'port_resource_requests': port_resource_requests, 'request_level_params': req_lvl_params, } req_lvl_params = base_options.pop('request_level_params') req_spec = objects.RequestSpec.from_components( context, instance_uuid, boot_meta, instance_type, base_options['numa_topology'], base_options['pci_requests'], filter_properties, instance_group, base_options['availability_zone'], security_groups=security_groups, port_resource_requests=port_resource_requests, request_level_params=req_lvl_params)"," network_metadata, port_resource_requests = result 'port_resource_requests': port_resource_requests} req_spec = objects.RequestSpec.from_components(context, instance_uuid, boot_meta, instance_type, base_options['numa_topology'], base_options['pci_requests'], filter_properties, instance_group, base_options['availability_zone'], security_groups=security_groups, port_resource_requests=port_resource_requests)",69,28
openstack%2Fnetworking-sfc~master~I2e31be14f7b768b563d1c6f4babb08ec6c7ca9a2,openstack/networking-sfc,master,I2e31be14f7b768b563d1c6f4babb08ec6c7ca9a2,[functional] Remove duplicate code from parent test class,MERGED,2021-07-07 14:01:43.000000000,2021-08-31 16:24:08.000000000,2021-08-31 16:22:07.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-07-07 14:01:43.000000000', 'files': ['networking_sfc/tests/functional/test_service.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/f211d5d2ba2bfb482de84b1884df6e846277b952', 'message': '[functional] Remove duplicate code from parent test class\n\nThe server start functional test had code identical to parent class\nTestPluginWorker that can be dropped. It also broke in networking-sfc\nafter neutron https://review.opendev.org/c/openstack/neutron/+/793899\nwas merged\n\nChange-Id: I2e31be14f7b768b563d1c6f4babb08ec6c7ca9a2\nCloses-Bug: #1934900\n'}]",0,799838,f211d5d2ba2bfb482de84b1884df6e846277b952,9,5,1,21798,,,0,"[functional] Remove duplicate code from parent test class

The server start functional test had code identical to parent class
TestPluginWorker that can be dropped. It also broke in networking-sfc
after neutron https://review.opendev.org/c/openstack/neutron/+/793899
was merged

Change-Id: I2e31be14f7b768b563d1c6f4babb08ec6c7ca9a2
Closes-Bug: #1934900
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/38/799838/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_sfc/tests/functional/test_service.py'],1,f211d5d2ba2bfb482de84b1884df6e846277b952,bug/1934900,,"import os import os.path import signal from neutron.common import utils def _fake_start(self): with open(self.temp_file, 'ab') as f: f.write(test_server.FAKE_START_MSG) def _fake_reset(self): with open(self.temp_file, 'ab') as f: f.write(test_server.FAKE_RESET_MSG) def _test_restart_service_on_sighup(self, service, workers=1): self._start_server(callback=service, workers=workers) os.kill(self.service_pid, signal.SIGHUP) expected_msg = ( test_server.FAKE_START_MSG * workers + test_server.FAKE_RESET_MSG * (workers + 1)) expected_size = len(expected_msg) utils.wait_until_true( lambda: (os.path.isfile(self.temp_file) and os.stat(self.temp_file).st_size == expected_size), timeout=5, sleep=0.1, exception=RuntimeError( ""Timed out waiting for file %(filename)s to be created and "" ""its size become equal to %(size)s."" % {'filename': self.temp_file, 'size': expected_size})) with open(self.temp_file, 'rb') as f: res = f.readline() self.assertEqual(expected_msg, res) ",0,36
openstack%2Fnova~master~If7b80c8725d9a8183d2df05c824461e8ee5f45d0,openstack/nova,master,If7b80c8725d9a8183d2df05c824461e8ee5f45d0,Parse extended resource request from the port data,MERGED,2021-07-08 17:05:51.000000000,2021-08-31 16:19:01.000000000,2021-08-31 16:16:36.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 17:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6285372bce19cb48eea59e70bdb53312898ea181', 'message': 'Parse extended resource request from the port\n\nTODO:\n* test coverage\n\nChange-Id: If7b80c8725d9a8183d2df05c824461e8ee5f45d0\n'}, {'number': 2, 'created': '2021-07-09 13:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5d40616e2ff2623009093ff1cb306b567c3e36c', 'message': 'Parse extended resource request from the port\n\nTODO:\n* test coverage\n\nChange-Id: If7b80c8725d9a8183d2df05c824461e8ee5f45d0\n'}, {'number': 3, 'created': '2021-07-15 15:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93a1e0192102423c6c61089b3d2b28d99acd5736', 'message': 'Parse extended resource request from the port data\n\nThe format of the value of the  resource_request field of the port has\nbeen changed by the extended_resource_request Neutron API extension.\nThis patch adds a new factory method for RequestGroup to parse the data\nand create the RequestGroup objects corresponding to the request. Also\nthe neutron interface of nova changed to use the new factory if the new\nneutron API extension is present.\n\nNote that we have to keep the old logic in place to support the scenario\nwhen Nova is upgraded first and therefore Neutron still using the old\nresource_request format.\n\nChange-Id: If7b80c8725d9a8183d2df05c824461e8ee5f45d0\n'}, {'number': 4, 'created': '2021-07-15 18:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a1338dce1304c02a50ab671badb27abfcc6dafa', 'message': 'Parse extended resource request from the port data\n\nThe format of the value of the  resource_request field of the port has\nbeen changed by the extended_resource_request Neutron API extension.\nThis patch adds a new factory method for RequestGroup to parse the data\nand create the RequestGroup objects corresponding to the request. Also\nthe neutron interface of nova changed to use the new factory if the new\nneutron API extension is present.\n\nNote that we have to keep the old logic in place to support the scenario\nwhen Nova is upgraded first and therefore Neutron still using the old\nresource_request format.\n\nChange-Id: If7b80c8725d9a8183d2df05c824461e8ee5f45d0\n'}, {'number': 5, 'created': '2021-07-15 19:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57909cdacee71ae64c8aea14e18c41db3390b330', 'message': 'Parse extended resource request from the port data\n\nThe format of the value of the  resource_request field of the port has\nbeen changed by the extended_resource_request Neutron API extension.\nThis patch adds a new factory method for RequestGroup to parse the data\nand create the RequestGroup objects corresponding to the request. Also\nthe neutron interface of nova changed to use the new factory if the new\nneutron API extension is present.\n\nNote that we have to keep the old logic in place to support the scenario\nwhen Nova is upgraded first and therefore Neutron still using the old\nresource_request format.\n\nChange-Id: If7b80c8725d9a8183d2df05c824461e8ee5f45d0\n'}, {'number': 6, 'created': '2021-07-16 17:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32429bdc3913329824e6dcc753406cbfde7024ba', 'message': 'Parse extended resource request from the port data\n\nThe format of the value of the  resource_request field of the port has\nbeen changed by the extended_resource_request Neutron API extension.\nThis patch adds a new factory method for RequestGroup to parse the data\nand create the RequestGroup objects corresponding to the request. Also\nthe neutron interface of nova changed to use the new factory if the new\nneutron API extension is present.\n\nNote that we have to keep the old logic in place to support the scenario\nwhen Nova is upgraded first and therefore Neutron still using the old\nresource_request format.\n\nChange-Id: If7b80c8725d9a8183d2df05c824461e8ee5f45d0\n'}, {'number': 7, 'created': '2021-07-19 14:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9cfab2fee67e693200135bcd2fa7b47bb963ec1d', 'message': 'Parse extended resource request from the port data\n\nThe format of the value of the  resource_request field of the port has\nbeen changed by the extended_resource_request Neutron API extension.\nThis patch adds a new factory method for RequestGroup to parse the data\nand create the RequestGroup objects corresponding to the request. Also\nthe neutron interface of nova changed to use the new factory if the new\nneutron API extension is present.\n\nNote that we have to keep the old logic in place to support the scenario\nwhen Nova is upgraded first and therefore Neutron still using the old\nresource_request format.\n\nChange-Id: If7b80c8725d9a8183d2df05c824461e8ee5f45d0\n'}, {'number': 8, 'created': '2021-07-19 16:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a08b1def7913c436867aafa637cfa6c9f2b0a39', 'message': 'Parse extended resource request from the port data\n\nThe format of the value of the  resource_request field of the port has\nbeen changed by the extended_resource_request Neutron API extension.\nThis patch adds a new factory method for RequestGroup to parse the data\nand create the RequestGroup objects corresponding to the request. Also\nthe neutron interface of nova changed to use the new factory if the new\nneutron API extension is present.\n\nNote that we have to keep the old logic in place to support the scenario\nwhen Nova is upgraded first and therefore Neutron still using the old\nresource_request format.\n\nChange-Id: If7b80c8725d9a8183d2df05c824461e8ee5f45d0\n'}, {'number': 9, 'created': '2021-07-22 13:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4752e4eda032b2e2fa058a8bb8e6d347fb0216c3', 'message': 'Parse extended resource request from the port data\n\nThe format of the value of the  resource_request field of the port has\nbeen changed by the extended_resource_request Neutron API extension.\nThis patch adds a new factory method for RequestGroup to parse the data\nand create the RequestGroup objects corresponding to the request. Also\nthe neutron interface of nova changed to use the new factory if the new\nneutron API extension is present.\n\nNote that we have to keep the old logic in place to support the scenario\nwhen Nova is upgraded first and therefore Neutron is still using the old\nresource_request format.\n\nChange-Id: If7b80c8725d9a8183d2df05c824461e8ee5f45d0\n'}, {'number': 10, 'created': '2021-08-16 17:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e9249d5fd534857c9535f30bc779885ed33e9f3', 'message': 'Parse extended resource request from the port data\n\nThe format of the value of the resource_request field of the port has\nbeen changed by the port-resource-request-groups Neutron API extension.\nThis patch adds a new factory method for RequestGroup to parse the data\nand create the RequestGroup objects corresponding to the request. Also\nthe neutron interface of nova changed to use the new factory if the new\nneutron API extension is present.\n\nNote that we have to keep the old logic in place to support the scenario\nwhen Nova is upgraded first and therefore Neutron is still using the old\nresource_request format.\n\nAlso note that some of the so far skipped functional tests started to\npass as they are negative tests resulting in an unsuccessful operation due to\nnot related reasons and the code already works good enough to hit those\nnegative code paths.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: If7b80c8725d9a8183d2df05c824461e8ee5f45d0\n'}, {'number': 11, 'created': '2021-08-21 12:47:41.000000000', 'files': ['nova/objects/request_spec.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/network/neutron.py', 'nova/tests/functional/test_servers_resource_request.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d6cd4420bb33501e267b10ccc3a1f26ab2c8c85b', 'message': 'Parse extended resource request from the port data\n\nThe format of the value of the resource_request field of the port has\nbeen changed by the port-resource-request-groups Neutron API extension.\nThis patch adds a new factory method for RequestGroup to parse the data\nand create the RequestGroup objects corresponding to the request. Also\nthe neutron interface of nova changed to use the new factory if the new\nneutron API extension is present.\n\nNote that we have to keep the old logic in place to support the scenario\nwhen Nova is upgraded first and therefore Neutron is still using the old\nresource_request format.\n\nAlso note that some of the so far skipped functional tests started to\npass as they are negative tests resulting in an unsuccessful operation due to\nnot related reasons and the code already works good enough to hit those\nnegative code paths.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: If7b80c8725d9a8183d2df05c824461e8ee5f45d0\n'}]",12,800085,d6cd4420bb33501e267b10ccc3a1f26ab2c8c85b,110,4,11,9708,,,0,"Parse extended resource request from the port data

The format of the value of the resource_request field of the port has
been changed by the port-resource-request-groups Neutron API extension.
This patch adds a new factory method for RequestGroup to parse the data
and create the RequestGroup objects corresponding to the request. Also
the neutron interface of nova changed to use the new factory if the new
neutron API extension is present.

Note that we have to keep the old logic in place to support the scenario
when Nova is upgraded first and therefore Neutron is still using the old
resource_request format.

Also note that some of the so far skipped functional tests started to
pass as they are negative tests resulting in an unsuccessful operation due to
not related reasons and the code already works good enough to hit those
negative code paths.

blueprint: qos-minimum-guaranteed-packet-rate
Change-Id: If7b80c8725d9a8183d2df05c824461e8ee5f45d0
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/800085/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutron.py'],1,6285372bce19cb48eea59e70bdb53312898ea181,bp/qos-minimum-guaranteed-packet-rate," if self._has_extended_resource_request_extension( context, neutron): # need to handle the new resource request format resource_requests.extend( objects.RequestGroup.from_extended_port_request( else: # keep supporting the old format of the resource_request if resource_request: # NOTE(gibi): explicitly orphan the RequestGroup by # setting context=None as we never intended to save it # to the DB. resource_requests.append( objects.RequestGroup.from_port_request( context=None, port_uuid=request_net.port_id, port_resource_request=resource_request))", if resource_request: # NOTE(gibi): explicitly orphan the RequestGroup by setting # context=None as we never intended to save it to the DB. resource_requests.append( objects.RequestGroup.from_port_request(,16,5
openstack%2Fdevstack~stable%2Fwallaby~Ifd0a5ef0bc5f3647f43b169df1f7176393971853,openstack/devstack,stable/wallaby,Ifd0a5ef0bc5f3647f43b169df1f7176393971853,swift: Fix the empty gid option in rsyncd.conf,MERGED,2021-08-28 23:23:13.000000000,2021-08-31 16:18:47.000000000,2021-08-31 16:16:29.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-28 23:23:13.000000000', 'files': ['lib/swift'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b995e5aff7b1161349fb1d450ab83ed14a59417c', 'message': 'swift: Fix the empty gid option in rsyncd.conf\n\nThis change fixes the empty value set to the gid option in rsyncd.conf,\nwhich was caused by reference to the invalid USER_GROUP variable, and\nensures the option is set to the group which STACK_USER belongs to.\n\nThis also fixes duplicate declaration of the local user_group variable.\n\nCloses-Bug: #1940742\nChange-Id: Ifd0a5ef0bc5f3647f43b169df1f7176393971853\n(cherry picked from commit 25f84277eab5291aa0fa8c12ac39a69594611e08)\n'}]",0,806386,b995e5aff7b1161349fb1d450ab83ed14a59417c,9,2,1,9816,,,0,"swift: Fix the empty gid option in rsyncd.conf

This change fixes the empty value set to the gid option in rsyncd.conf,
which was caused by reference to the invalid USER_GROUP variable, and
ensures the option is set to the group which STACK_USER belongs to.

This also fixes duplicate declaration of the local user_group variable.

Closes-Bug: #1940742
Change-Id: Ifd0a5ef0bc5f3647f43b169df1f7176393971853
(cherry picked from commit 25f84277eab5291aa0fa8c12ac39a69594611e08)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/86/806386/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/swift'],1,b995e5aff7b1161349fb1d450ab83ed14a59417c,bug/1940742, s/%GROUP%/$(id -g -n ${STACK_USER})/;, local user_group s/%GROUP%/${USER_GROUP}/;,1,2
openstack%2Fironic~master~I22a9bd7ceac3dfd65f20e52cbacff4b9d3998c64,openstack/ironic,master,I22a9bd7ceac3dfd65f20e52cbacff4b9d3998c64,Split node verification code out of manager.py,MERGED,2021-08-31 05:17:52.000000000,2021-08-31 16:07:39.000000000,2021-08-31 11:02:35.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-31 05:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d54af46ac09574bbede0da4257615a4c276e50b2', 'message': 'Split node verification code out of manager.py\n\nSplitting code specific to node verification from manager.py into\nverify.py (as well as test_verify.py for tests). This is done in\npreparation for adding support for verify steps.\n\nStory: 2009025\nTask: 43137\nChange-Id: I22a9bd7ceac3dfd65f20e52cbacff4b9d3998c64\n'}, {'number': 2, 'created': '2021-08-31 05:37:29.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_verify.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/conductor/verify.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c694c76d7f2521d8ba88a8f853da1878621d2ed2', 'message': 'Split node verification code out of manager.py\n\nSplitting code specific to node verification from manager.py into\nverify.py (as well as test_verify.py for tests). This is done in\npreparation for adding support for verify steps.\n\nStory: 2009025\nTask: 43137\nChange-Id: I22a9bd7ceac3dfd65f20e52cbacff4b9d3998c64\n'}]",0,806675,c694c76d7f2521d8ba88a8f853da1878621d2ed2,13,3,2,32177,,,0,"Split node verification code out of manager.py

Splitting code specific to node verification from manager.py into
verify.py (as well as test_verify.py for tests). This is done in
preparation for adding support for verify steps.

Story: 2009025
Task: 43137
Change-Id: I22a9bd7ceac3dfd65f20e52cbacff4b9d3998c64
",git fetch https://review.opendev.org/openstack/ironic refs/changes/75/806675/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_verify.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/conductor/verify.py']",4,d54af46ac09574bbede0da4257615a4c276e50b2,story-2009025-task-43137,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Functionality related to verify steps."""""" from oslo_log import log from ironic.common import exception from ironic.common.i18n import _ from ironic.conductor import notification_utils as notify_utils from ironic.conductor import steps as conductor_steps from ironic.conductor import task_manager from ironic.conductor import utils LOG = log.getLogger(__name__) @task_manager.require_exclusive_lock def do_node_verify(task): """"""Internal method to perform power credentials verification."""""" node = task.node LOG.debug('Starting power credentials verification for node %s', node.uuid) error = None try: task.driver.power.validate(task) except Exception as e: error = (_('Failed to validate power driver interface for node ' '%(node)s. Error: %(msg)s') % {'node': node.uuid, 'msg': e}) log_traceback = not isinstance(e, exception.IronicException) LOG.error(error, exc_info=log_traceback) else: try: power_state = task.driver.power.get_power_state(task) except Exception as e: error = (_('Failed to get power state for node ' '%(node)s. Error: %(msg)s') % {'node': node.uuid, 'msg': e}) log_traceback = not isinstance(e, exception.IronicException) LOG.error(error, exc_info=log_traceback) if error is None: # NOTE(janders) this can eventually move to driver-specific # verify steps, will leave this for a follow-up change. # Retrieve BIOS config settings for this node utils.node_cache_bios_settings(task, node) # Cache the vendor if possible utils.node_cache_vendor(task) # Cache also boot_mode and secure_boot states utils.node_cache_boot_mode(task) if power_state != node.power_state: old_power_state = node.power_state node.power_state = power_state node = task.node verify_steps = conductor_steps._get_verify_steps(task, enabled=True, sort=True) for step in verify_steps: interface = getattr(task.driver, step.get('interface')) LOG.info('Executing %(step)s on node %(node)s', {'step': step, 'node': node.uuid}) try: result = interface.execute_verify_step(task, step) except Exception as e: log_msg = ('Node %(node)s failed verify step %(step)s ' 'with unexpected error: %(err)s' % {'node': node.uuid, 'step': node.verify_step, 'err': e}) utils.verifying_error_handler( task, log_msg, _(""Failed to verify. Exception: %s"") % e, traceback=True) return if result is not None: # NOTE(rloo): This is an internal/dev error; shouldn't # happen. log_msg = (_('While executing verify step %(step)s on ' 'node %(node)s, step returned unexpected ' 'state: %(val)s') % {'step': step, 'node': node.uuid, 'val': result}) utils.verifying_error_handler( task, log_msg, _(""Failed to verify: %s"") % node.deploy_step) return LOG.info('Successfully verified node %(node)s', {'node': node.uuid}) task.process_event('done') notify_utils.emit_power_state_corrected_notification( task, old_power_state) else: task.process_event('done') else: node.last_error = error task.process_event('fail') ",,286,191
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Idbafdaced85c945d38940be83c1a269c73e4cb6b,openstack/tripleo-heat-templates,stable/wallaby,Idbafdaced85c945d38940be83c1a269c73e4cb6b,Disable cephadm when ceph is deployed,MERGED,2021-08-31 05:43:43.000000000,2021-08-31 16:04:04.000000000,2021-08-31 16:04:04.000000000,"[{'_account_id': 6796}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-08-31 05:43:43.000000000', 'files': ['ci/environments/scenario004-standalone.yaml', 'deployment/cephadm/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1b41f26657a08e2844f7f8633763262b093591b1', 'message': ""Disable cephadm when ceph is deployed\n\nAfter ceph is deployed, which means day1 operations are over\nand the Ceph cluster daemons are up && running, cephadm can\nbe paused by running the 'disable_cephadm' playbook.\nThis can be triggered at step3 (to ensure all the daemons are\nstarted) and can be triggered by the DisableCephadm exposed\nparameter.\n\nCloses-Bug: 1940866\nDepends-On: I5952bb8a7a327e37a39acc95751cd5746fd9a41d\nChange-Id: Idbafdaced85c945d38940be83c1a269c73e4cb6b\n(cherry picked from commit 733d1bad46bb17b7e68bc61af47819423aaf6efc)\n""}]",0,806528,1b41f26657a08e2844f7f8633763262b093591b1,9,7,1,25402,,,0,"Disable cephadm when ceph is deployed

After ceph is deployed, which means day1 operations are over
and the Ceph cluster daemons are up && running, cephadm can
be paused by running the 'disable_cephadm' playbook.
This can be triggered at step3 (to ensure all the daemons are
started) and can be triggered by the DisableCephadm exposed
parameter.

Closes-Bug: 1940866
Depends-On: I5952bb8a7a327e37a39acc95751cd5746fd9a41d
Change-Id: Idbafdaced85c945d38940be83c1a269c73e4cb6b
(cherry picked from commit 733d1bad46bb17b7e68bc61af47819423aaf6efc)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/806528/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'deployment/cephadm/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml']",3,1b41f26657a08e2844f7f8633763262b093591b1,disable_cephadm, DisableCephadm: true,,17,0
openstack%2Fnova~master~Ife3c7a5a95c5d707983ab33fd2fbfc1cfb72f676,openstack/nova,master,Ife3c7a5a95c5d707983ab33fd2fbfc1cfb72f676,Add force kwarg to delete_allocation_for_instance,MERGED,2019-10-15 19:56:21.000000000,2021-08-31 15:48:36.000000000,2021-08-30 17:05:34.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-15 19:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1a75d8d6b629f6509fd2da84377d519875f647d', 'message': ""WIP: Add force kwarg to delete_allocation_for_instance\n\nThis adds a force kwarg to delete_allocation_for_instance\nwhich defaults to False for backward compat but if True\nwill DELETE the consumer allocations rather than GET and\nPUT with an empty allocations dict and the consumer generation\nwhich can result in a 409 conflict from Placement. For example,\nbug 1836754 shows that in one tempest test that creates a server\nand then immediately deletes it, we can hit a very tight window\nwhere the method GETs the allocations and before it PUTs the\nempty allocations to remove them, something changes which results\nin a conflict and the server delete fails with a 409 error.\n\nIt's worth noting that delete_allocation_for_instance used to\njust DELETE the allocations before Stein [1] when we started taking\nconsumer generations into account. There was also a related mailing\nlist thread [2]. At this point I don't really see why we do the\nGET and PUT consumer generation dance in most cases since in most\ncases that this method is called when we want to delete the\nallocations because they should be gone, e.g. server delete,\nfailed build, or shelve offload. The alternative in these cases\nis the caller could trap the conflict error and retry but we might\nas well just force the delete in that case (it's cleaner).\n\n[1] I77f34788dd7ab8fdf60d668a4f76452e03cf9888\n[2] http://lists.openstack.org/pipermail/openstack-dev/2018-August/133374.html\n\nChange-Id: Ife3c7a5a95c5d707983ab33fd2fbfc1cfb72f676\nCloses-Bug: #1836754\n""}, {'number': 2, 'created': '2021-07-22 21:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a91cb05199d1da2a005ebc21ebc57c7a23be7663', 'message': ""WIP Add force kwarg to delete_allocation_for_instance\n\nThis adds a force kwarg to delete_allocation_for_instance which\ndefaults to True because that was found to be the most common use case\nby a significant margin during implementation of this patch.\nIn most cases, this method is called when we want to delete the\nallocations because they should be gone, e.g. server delete, failed\nbuild, or shelve offload. The alternative in these cases is the caller\ncould trap the conflict error and retry but we might as well just force\nthe delete in that case (it's cleaner).\n\nWhen force=True, it will DELETE the consumer allocations rather than\nGET and PUT with an empty allocations dict and the consumer generation\nwhich can result in a 409 conflict from Placement. For example, bug\n1836754 shows that in one tempest test that creates a server and then\nimmediately deletes it, we can hit a very tight window where the method\nGETs the allocations and before it PUTs the empty allocations to remove\nthem, something changes which results in a conflict and the server\ndelete fails with a 409 error.\n\nIt's worth noting that delete_allocation_for_instance used to just\nDELETE the allocations before Stein [1] when we started taking consumer\ngenerations into account. There was also a related mailing list thread\n[2].\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1836754\n\n[1] I77f34788dd7ab8fdf60d668a4f76452e03cf9888\n[2] http://lists.openstack.org/pipermail/openstack-dev/2018-August/133374.html\n\nChange-Id: Ife3c7a5a95c5d707983ab33fd2fbfc1cfb72f676\n""}, {'number': 3, 'created': '2021-08-27 09:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3cf2087872902e8bcc220a28e443e1d2bbdcd26', 'message': ""Add force kwarg to delete_allocation_for_instance\n\nThis adds a force kwarg to delete_allocation_for_instance which\ndefaults to True because that was found to be the most common use case\nby a significant margin during implementation of this patch.\nIn most cases, this method is called when we want to delete the\nallocations because they should be gone, e.g. server delete, failed\nbuild, or shelve offload. The alternative in these cases is the caller\ncould trap the conflict error and retry but we might as well just force\nthe delete in that case (it's cleaner).\n\nWhen force=True, it will DELETE the consumer allocations rather than\nGET and PUT with an empty allocations dict and the consumer generation\nwhich can result in a 409 conflict from Placement. For example, bug\n1836754 shows that in one tempest test that creates a server and then\nimmediately deletes it, we can hit a very tight window where the method\nGETs the allocations and before it PUTs the empty allocations to remove\nthem, something changes which results in a conflict and the server\ndelete fails with a 409 error.\n\nIt's worth noting that delete_allocation_for_instance used to just\nDELETE the allocations before Stein [1] when we started taking consumer\ngenerations into account. There was also a related mailing list thread\n[2].\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1836754\n\n[1] I77f34788dd7ab8fdf60d668a4f76452e03cf9888\n[2] http://lists.openstack.org/pipermail/openstack-dev/2018-August/133374.html\n\nChange-Id: Ife3c7a5a95c5d707983ab33fd2fbfc1cfb72f676\n""}, {'number': 4, 'created': '2021-08-27 11:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9eab9063b795946439e3e785dfedf34bb91708ee', 'message': ""Add force kwarg to delete_allocation_for_instance\n\nThis adds a force kwarg to delete_allocation_for_instance which\ndefaults to True because that was found to be the most common use case\nby a significant margin during implementation of this patch.\nIn most cases, this method is called when we want to delete the\nallocations because they should be gone, e.g. server delete, failed\nbuild, or shelve offload. The alternative in these cases is the caller\ncould trap the conflict error and retry but we might as well just force\nthe delete in that case (it's cleaner).\n\nWhen force=True, it will DELETE the consumer allocations rather than\nGET and PUT with an empty allocations dict and the consumer generation\nwhich can result in a 409 conflict from Placement. For example, bug\n1836754 shows that in one tempest test that creates a server and then\nimmediately deletes it, we can hit a very tight window where the method\nGETs the allocations and before it PUTs the empty allocations to remove\nthem, something changes which results in a conflict and the server\ndelete fails with a 409 error.\n\nIt's worth noting that delete_allocation_for_instance used to just\nDELETE the allocations before Stein [1] when we started taking consumer\ngenerations into account. There was also a related mailing list thread\n[2].\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1836754\n\n[1] I77f34788dd7ab8fdf60d668a4f76452e03cf9888\n[2] http://lists.openstack.org/pipermail/openstack-dev/2018-August/133374.html\n\nChange-Id: Ife3c7a5a95c5d707983ab33fd2fbfc1cfb72f676\n""}, {'number': 5, 'created': '2021-08-27 16:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d92769296ac4b9c70917f3d38b66ba8e05a995e', 'message': ""Add force kwarg to delete_allocation_for_instance\n\nThis adds a force kwarg to delete_allocation_for_instance which\ndefaults to True because that was found to be the most common use case\nby a significant margin during implementation of this patch.\nIn most cases, this method is called when we want to delete the\nallocations because they should be gone, e.g. server delete, failed\nbuild, or shelve offload. The alternative in these cases is the caller\ncould trap the conflict error and retry but we might as well just force\nthe delete in that case (it's cleaner).\n\nWhen force=True, it will DELETE the consumer allocations rather than\nGET and PUT with an empty allocations dict and the consumer generation\nwhich can result in a 409 conflict from Placement. For example, bug\n1836754 shows that in one tempest test that creates a server and then\nimmediately deletes it, we can hit a very tight window where the method\nGETs the allocations and before it PUTs the empty allocations to remove\nthem, something changes which results in a conflict and the server\ndelete fails with a 409 error.\n\nIt's worth noting that delete_allocation_for_instance used to just\nDELETE the allocations before Stein [1] when we started taking consumer\ngenerations into account. There was also a related mailing list thread\n[2].\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1836754\n\n[1] I77f34788dd7ab8fdf60d668a4f76452e03cf9888\n[2] http://lists.openstack.org/pipermail/openstack-dev/2018-August/133374.html\n\nChange-Id: Ife3c7a5a95c5d707983ab33fd2fbfc1cfb72f676\n""}, {'number': 6, 'created': '2021-08-30 06:11:28.000000000', 'files': ['nova/scheduler/manager.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/scheduler/client/report.py', 'nova/cmd/manage.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/scheduler/test_manager.py', 'nova/tests/functional/test_report_client.py', 'nova/conductor/manager.py', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c09d98dadb6cd69e294420ba7ecea0f9b9cfcd71', 'message': ""Add force kwarg to delete_allocation_for_instance\n\nThis adds a force kwarg to delete_allocation_for_instance which\ndefaults to True because that was found to be the most common use case\nby a significant margin during implementation of this patch.\nIn most cases, this method is called when we want to delete the\nallocations because they should be gone, e.g. server delete, failed\nbuild, or shelve offload. The alternative in these cases is the caller\ncould trap the conflict error and retry but we might as well just force\nthe delete in that case (it's cleaner).\n\nWhen force=True, it will DELETE the consumer allocations rather than\nGET and PUT with an empty allocations dict and the consumer generation\nwhich can result in a 409 conflict from Placement. For example, bug\n1836754 shows that in one tempest test that creates a server and then\nimmediately deletes it, we can hit a very tight window where the method\nGETs the allocations and before it PUTs the empty allocations to remove\nthem, something changes which results in a conflict and the server\ndelete fails with a 409 error.\n\nIt's worth noting that delete_allocation_for_instance used to just\nDELETE the allocations before Stein [1] when we started taking consumer\ngenerations into account. There was also a related mailing list thread\n[2].\n\n\nCloses-Bug: #1836754\n\n[1] I77f34788dd7ab8fdf60d668a4f76452e03cf9888\n[2] http://lists.openstack.org/pipermail/openstack-dev/2018-August/133374.html\n\nChange-Id: Ife3c7a5a95c5d707983ab33fd2fbfc1cfb72f676\n""}]",21,688802,c09d98dadb6cd69e294420ba7ecea0f9b9cfcd71,69,13,6,6873,,,0,"Add force kwarg to delete_allocation_for_instance

This adds a force kwarg to delete_allocation_for_instance which
defaults to True because that was found to be the most common use case
by a significant margin during implementation of this patch.
In most cases, this method is called when we want to delete the
allocations because they should be gone, e.g. server delete, failed
build, or shelve offload. The alternative in these cases is the caller
could trap the conflict error and retry but we might as well just force
the delete in that case (it's cleaner).

When force=True, it will DELETE the consumer allocations rather than
GET and PUT with an empty allocations dict and the consumer generation
which can result in a 409 conflict from Placement. For example, bug
1836754 shows that in one tempest test that creates a server and then
immediately deletes it, we can hit a very tight window where the method
GETs the allocations and before it PUTs the empty allocations to remove
them, something changes which results in a conflict and the server
delete fails with a 409 error.

It's worth noting that delete_allocation_for_instance used to just
DELETE the allocations before Stein [1] when we started taking consumer
generations into account. There was also a related mailing list thread
[2].


Closes-Bug: #1836754

[1] I77f34788dd7ab8fdf60d668a4f76452e03cf9888
[2] http://lists.openstack.org/pipermail/openstack-dev/2018-August/133374.html

Change-Id: Ife3c7a5a95c5d707983ab33fd2fbfc1cfb72f676
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/688802/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_resource_tracker.py', 'nova/scheduler/client/report.py', 'nova/scheduler/filter_scheduler.py', 'nova/conductor/manager.py', 'nova/compute/manager.py', 'nova/compute/api.py', 'nova/compute/resource_tracker.py', 'nova/tests/unit/scheduler/test_filter_scheduler.py']",8,b1a75d8d6b629f6509fd2da84377d519875f647d,bug/1836754," exp_calls = [mock.call(self.context, uuids.instance1, force=True), mock.call(self.context, uuids.instance2, force=True)]"," exp_calls = [mock.call(self.context, uuids.instance1), mock.call(self.context, uuids.instance2)]",52,14
openstack%2Fpuppet-ironic~stable%2Fussuri~I27fa53700c1b44f14725bc66b929732553da58f8,openstack/puppet-ironic,stable/ussuri,I27fa53700c1b44f14725bc66b929732553da58f8,Fix ppc64le support to coexist with PXE preference,MERGED,2021-08-12 16:46:58.000000000,2021-08-31 15:28:42.000000000,2021-08-31 15:27:09.000000000,"[{'_account_id': 4571}, {'_account_id': 9816}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-12 16:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/9aa044626c6db2851067a8cd79ae5aa4b6761ec8', 'message': ""Fix ppc64le support to coexist with PXE preference\n\nIn essence, the pxe preference doesn't apply to ppc64le.\n\nThis is because PXE data loading is part of the firmware and\ndoes not use an intermediate boot loader like ipxe, syslinux,\nor even grub.\n\nChanges the logic to always set the stage for PXE based\ndeployments and enables boot setting awareness for ppc64le\nbased on the TFTP defaults. This allows ppc64le to coexist\nwith an environment preferring HTTP transport like those\nused with iPXE.\n\nChange-Id: I27fa53700c1b44f14725bc66b929732553da58f8\n(cherry picked from commit da503fd5ceabb5bd466e45f1da51442ef66d8ce7)\n(cherry picked from commit 08dbff6c537628d40798a07c7a21e76f8e171944)\n""}, {'number': 2, 'created': '2021-08-20 09:51:38.000000000', 'files': ['spec/classes/ironic_inspector_spec.rb', 'manifests/inspector.pp', 'releasenotes/notes/support-ppc64le-with-http-default-transport-a7b179f6526b8047.yaml', 'templates/inspector_dnsmasq_http.erb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/74df6b1fec7043e8a26b7e0403799feb4816a4ff', 'message': ""Fix ppc64le support to coexist with PXE preference\n\nIn essence, the pxe preference doesn't apply to ppc64le.\n\nThis is because PXE data loading is part of the firmware and\ndoes not use an intermediate boot loader like ipxe, syslinux,\nor even grub.\n\nChanges the logic to always set the stage for PXE based\ndeployments and enables boot setting awareness for ppc64le\nbased on the TFTP defaults. This allows ppc64le to coexist\nwith an environment preferring HTTP transport like those\nused with iPXE.\n\nChange-Id: I27fa53700c1b44f14725bc66b929732553da58f8\n(cherry picked from commit da503fd5ceabb5bd466e45f1da51442ef66d8ce7)\n(cherry picked from commit 08dbff6c537628d40798a07c7a21e76f8e171944)\n(cherry picked from commit 91e2b2a96ccb7e926f527a09302ec9ff898ba885)\n""}]",0,804349,74df6b1fec7043e8a26b7e0403799feb4816a4ff,11,4,2,11655,,,0,"Fix ppc64le support to coexist with PXE preference

In essence, the pxe preference doesn't apply to ppc64le.

This is because PXE data loading is part of the firmware and
does not use an intermediate boot loader like ipxe, syslinux,
or even grub.

Changes the logic to always set the stage for PXE based
deployments and enables boot setting awareness for ppc64le
based on the TFTP defaults. This allows ppc64le to coexist
with an environment preferring HTTP transport like those
used with iPXE.

Change-Id: I27fa53700c1b44f14725bc66b929732553da58f8
(cherry picked from commit da503fd5ceabb5bd466e45f1da51442ef66d8ce7)
(cherry picked from commit 08dbff6c537628d40798a07c7a21e76f8e171944)
(cherry picked from commit 91e2b2a96ccb7e926f527a09302ec9ff898ba885)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/49/804349/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ironic_inspector_spec.rb', 'manifests/inspector.pp', 'releasenotes/notes/support-ppc64le-with-http-default-transport-a7b179f6526b8047.yaml', 'templates/inspector_dnsmasq_http.erb']",4,9aa044626c6db2851067a8cd79ae5aa4b6761ec8,,"<% if @enable_ppc64le -%> # Client is ppc64le (OPAL) box and doesn't need a chain loader, but does need a custom config dhcp-match=set:ppc64le,option:client-arch,14 dhcp-boot=tag:ppc64le, dhcp-option=tag:ppc64le, 210,<%= @tftp_root_real %>/ppc64le/ dhcp-option=tag:ppc64le, 209,default <% end -%>",,60,11
openstack%2Fnova~stable%2Ftrain~I2881d77d52bcbde9f3ac6a6ddfb4a22a9bd45c8a,openstack/nova,stable/train,I2881d77d52bcbde9f3ac6a6ddfb4a22a9bd45c8a,api: Reject volume attach requests when an active bdm exists,NEW,2021-04-12 10:40:00.000000000,2021-08-31 15:22:56.000000000,,"[{'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-12 10:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f48f079959fcf6bc740237b99d74299724d81a11', 'message': 'api: Reject volume attach requests when an active bdm exists\n\nWhen attaching volumes to instances Nova has previously relied on checks\ncarried out by c-api to ensure that a single non-multiattach volume is\nnot attached to multiple instances at once. While this works well in\nmost cases it does not handle PEBKAC issues when admins reset the state\nof a volume to available, allowing users to request that Nova attach the\nvolume to another instance.\n\nThis change aims to address this by including a simple check in the\nattach flow for non-multiattach volumes ensuring that there are no\nexisting active block device mapping records for the volume already\npresent within Nova.\n\nConflicts:\n    nova/tests/functional/regressions/test_bug_1908075.py\n\nNOTE(lyarwood): Conflicts caused by changes made in\nI639dd5af7c039da546eaf9ccce56cbaaa38fa79a to allow the functional test\nto pass on stable/train.\n\nCloses-Bug: #1908075\nChange-Id: I2881d77d52bcbde9f3ac6a6ddfb4a22a9bd45c8a\n(cherry picked from commit 1252588d4e48da1d3a753639a8a4d937acf3e037)\n(cherry picked from commit 75cdbdd9c64353e8b73c36b184ea2140f0a4861d)\n(cherry picked from commit 3252399fc742994c37a6f9948a01c46cf59c5a2e)\n'}, {'number': 2, 'created': '2021-04-12 13:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/561f1037cc17d08f6859e66afc82a3cd6b0a696d', 'message': ""api: Reject volume attach requests when an active bdm exists\n\nWhen attaching volumes to instances Nova has previously relied on checks\ncarried out by c-api to ensure that a single non-multiattach volume is\nnot attached to multiple instances at once. While this works well in\nmost cases it does not handle PEBKAC issues when admins reset the state\nof a volume to available, allowing users to request that Nova attach the\nvolume to another instance.\n\nThis change aims to address this by including a simple check in the\nattach flow for non-multiattach volumes ensuring that there are no\nexisting active block device mapping records for the volume already\npresent within Nova.\n\nConflicts:\n    nova/tests/functional/regressions/test_bug_1908075.py\n\nNOTE(lyarwood): Conflicts caused by changes made in\nI639dd5af7c039da546eaf9ccce56cbaaa38fa79a to allow the functional test\nto pass on stable/train.\n\nNOTE(lyarwood): In addition to the conflicts the use of mypy is also\ndropped as this wasn't supported on py2.7 on stable/train.\n\nCloses-Bug: #1908075\nChange-Id: I2881d77d52bcbde9f3ac6a6ddfb4a22a9bd45c8a\n(cherry picked from commit 1252588d4e48da1d3a753639a8a4d937acf3e037)\n(cherry picked from commit 75cdbdd9c64353e8b73c36b184ea2140f0a4861d)\n(cherry picked from commit 3252399fc742994c37a6f9948a01c46cf59c5a2e)\n""}, {'number': 3, 'created': '2021-04-12 16:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68a7db6be0b79980a16424cdbc2006c7d785f0ae', 'message': ""api: Reject volume attach requests when an active bdm exists\n\nWhen attaching volumes to instances Nova has previously relied on checks\ncarried out by c-api to ensure that a single non-multiattach volume is\nnot attached to multiple instances at once. While this works well in\nmost cases it does not handle PEBKAC issues when admins reset the state\nof a volume to available, allowing users to request that Nova attach the\nvolume to another instance.\n\nThis change aims to address this by including a simple check in the\nattach flow for non-multiattach volumes ensuring that there are no\nexisting active block device mapping records for the volume already\npresent within Nova.\n\nConflicts:\n    nova/tests/functional/regressions/test_bug_1908075.py\n\nNOTE(lyarwood): Conflicts caused by changes made in\nI639dd5af7c039da546eaf9ccce56cbaaa38fa79a to allow the functional test\nto pass on stable/train.\n\nNOTE(lyarwood): In addition to the conflicts the use of mypy is also\ndropped as this wasn't supported on py2.7 on stable/train.\n\nResolves: rhbz#1948515\nUpstream-Train: https://review.opendev.org/c/openstack/nova/+/785848\nCloses-Bug: #1908075\nChange-Id: I2881d77d52bcbde9f3ac6a6ddfb4a22a9bd45c8a\n(cherry picked from commit 1252588d4e48da1d3a753639a8a4d937acf3e037)\n(cherry picked from commit 75cdbdd9c64353e8b73c36b184ea2140f0a4861d)\n(cherry picked from commit 3252399fc742994c37a6f9948a01c46cf59c5a2e)\n""}, {'number': 4, 'created': '2021-04-20 08:24:27.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1908075.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4423b212e74e9b2f39f96f16c96384bc4c449b86', 'message': ""api: Reject volume attach requests when an active bdm exists\n\nWhen attaching volumes to instances Nova has previously relied on checks\ncarried out by c-api to ensure that a single non-multiattach volume is\nnot attached to multiple instances at once. While this works well in\nmost cases it does not handle PEBKAC issues when admins reset the state\nof a volume to available, allowing users to request that Nova attach the\nvolume to another instance.\n\nThis change aims to address this by including a simple check in the\nattach flow for non-multiattach volumes ensuring that there are no\nexisting active block device mapping records for the volume already\npresent within Nova.\n\nConflicts:\n    nova/tests/functional/regressions/test_bug_1908075.py\n\nNOTE(lyarwood): Conflicts caused by changes made in\nI639dd5af7c039da546eaf9ccce56cbaaa38fa79a to allow the functional test\nto pass on stable/train.\n\nNOTE(lyarwood): In addition to the conflicts the use of mypy is also\ndropped as this wasn't supported on py2.7 on stable/train.\n\nCloses-Bug: #1908075\nChange-Id: I2881d77d52bcbde9f3ac6a6ddfb4a22a9bd45c8a\n(cherry picked from commit 1252588d4e48da1d3a753639a8a4d937acf3e037)\n(cherry picked from commit 75cdbdd9c64353e8b73c36b184ea2140f0a4861d)\n(cherry picked from commit 3252399fc742994c37a6f9948a01c46cf59c5a2e)\n""}]",2,785848,4423b212e74e9b2f39f96f16c96384bc4c449b86,17,3,4,10135,,,0,"api: Reject volume attach requests when an active bdm exists

When attaching volumes to instances Nova has previously relied on checks
carried out by c-api to ensure that a single non-multiattach volume is
not attached to multiple instances at once. While this works well in
most cases it does not handle PEBKAC issues when admins reset the state
of a volume to available, allowing users to request that Nova attach the
volume to another instance.

This change aims to address this by including a simple check in the
attach flow for non-multiattach volumes ensuring that there are no
existing active block device mapping records for the volume already
present within Nova.

Conflicts:
    nova/tests/functional/regressions/test_bug_1908075.py

NOTE(lyarwood): Conflicts caused by changes made in
I639dd5af7c039da546eaf9ccce56cbaaa38fa79a to allow the functional test
to pass on stable/train.

NOTE(lyarwood): In addition to the conflicts the use of mypy is also
dropped as this wasn't supported on py2.7 on stable/train.

Closes-Bug: #1908075
Change-Id: I2881d77d52bcbde9f3ac6a6ddfb4a22a9bd45c8a
(cherry picked from commit 1252588d4e48da1d3a753639a8a4d937acf3e037)
(cherry picked from commit 75cdbdd9c64353e8b73c36b184ea2140f0a4861d)
(cherry picked from commit 3252399fc742994c37a6f9948a01c46cf59c5a2e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/785848/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1908075.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py']",3,f48f079959fcf6bc740237b99d74299724d81a11,bug/1908075," def _check_volume_already_attached( self, context: nova_context.RequestContext, volume_id: str ): """"""Avoid allowing a non-multiattach volumes being attached twice Unlike the above _check_volume_already_attached_to_instance check we also need to ensure that non-multiattached volumes are not attached to multiple instances. This check is also carried out later by c-api itself but it can however be circumvented by admins resetting the state of an attached volume to available. As a result we also need to perform a check within Nova before creating a new BDM for the attachment. """""" try: bdm = objects.BlockDeviceMapping.get_by_volume( context, volume_id) msg = _(""volume %(volume_id)s is already attached to instance "" ""%(instance_uuid)s"") % {'volume_id': volume_id, 'instance_uuid': bdm.instance_uuid} raise exception.InvalidVolume(reason=msg) except exception.VolumeBDMNotFound: pass # NOTE(lyarwood): Ensure that non multiattach volumes don't already # have active block device mappings present in Nova. # TODO(lyarwood): Merge this into the # _check_volume_already_attached_to_instance check once # BlockDeviceMappingList provides a list of active bdms per volume so # we can preform a single lookup for both checks. if not volume.get('multiattach', False): self._check_volume_already_attached(context, volume_id) ",,89,27
openstack%2Fnova~stable%2Ftrain~I639dd5af7c039da546eaf9ccce56cbaaa38fa79a,openstack/nova,stable/train,I639dd5af7c039da546eaf9ccce56cbaaa38fa79a,Add regression test for bug #1908075,NEW,2021-04-12 10:40:00.000000000,2021-08-31 15:22:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-12 10:40:00.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1908075.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d19e1c26f3f9252d0d9a445a27e5d827f3496e15', 'message': 'Add regression test for bug #1908075\n\nNOTE(lyarwood): The following changes are required to allow the test to\npass on stable/train.\n\n- InstanceHelperMixin pulled in for access to a better\n  _build_minimal_create_server_request method\n- api_major_version defined in test class\n- Fake image service stubbed out directing in test class\n- A simple _create_server method is in-lined within the class\n\nRelated-Bug: #1908075\nChange-Id: I639dd5af7c039da546eaf9ccce56cbaaa38fa79a\n(cherry picked from commit ee3a8f02253f1f652785c07ea0be6464ab4bcc11)\n(cherry picked from commit 8e2a3dd2f08a2f0c420bc1da9c02ff6b128c06c5)\n(cherry picked from commit 92ee874947f745508bcd4636fc3f9551bde28b9e)\n'}]",0,785847,d19e1c26f3f9252d0d9a445a27e5d827f3496e15,4,1,1,10135,,,0,"Add regression test for bug #1908075

NOTE(lyarwood): The following changes are required to allow the test to
pass on stable/train.

- InstanceHelperMixin pulled in for access to a better
  _build_minimal_create_server_request method
- api_major_version defined in test class
- Fake image service stubbed out directing in test class
- A simple _create_server method is in-lined within the class

Related-Bug: #1908075
Change-Id: I639dd5af7c039da546eaf9ccce56cbaaa38fa79a
(cherry picked from commit ee3a8f02253f1f652785c07ea0be6464ab4bcc11)
(cherry picked from commit 8e2a3dd2f08a2f0c420bc1da9c02ff6b128c06c5)
(cherry picked from commit 92ee874947f745508bcd4636fc3f9551bde28b9e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/785847/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1908075.py'],1,d19e1c26f3f9252d0d9a445a27e5d827f3496e15,bug/1908075,"# Copyright 2020, Red Hat, Inc. All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import nova.tests.unit.image.fake from nova.tests import fixtures as nova_fixtures from nova.tests.functional import integrated_helpers class TestVolAttachCinderReset( integrated_helpers.InstanceHelperMixin, integrated_helpers._IntegratedTestBase ): """"""Regression test for bug 1908075. This regression test aims to assert if n-api allows a non-multiattached volume to be attached to multiple instances after an admin has forcibly reset the state of the volume in Cinder. """""" api_major_version = 'v2.1' microversion = 'latest' def setUp(self): super(TestVolAttachCinderReset, self).setUp() self.cinder = self.useFixture(nova_fixtures.CinderFixture(self)) self.fake_image_service =\ nova.tests.unit.image.fake.stub_out_image_service(self) self.image_uuid = list(self.fake_image_service.images)[0] def _create_server(self, name): server = self._build_minimal_create_server_request( self.api, name, image_uuid=self.image_uuid, networks='none') server = self.api.post_server({'server': server}) return self._wait_for_state_change(self.api, server, 'ACTIVE') def test_volume_attach_after_cinder_reset_state(self): volume_id = self.cinder.IMAGE_BACKED_VOL # Launch a server and attach a volume server_a = self._create_server('server_a') self.api.post_server_volume( server_a['id'], {'volumeAttachment': {'volumeId': volume_id}} ) # reset-state of the volume within the cinder fixture, we don't model # the state of the volume within the fixture so this will have to do. del self.cinder.volume_to_attachment[volume_id] self.assertNotIn( volume_id, self.cinder.volume_ids_for_instance(server_a['id'])) # Launch a second server and attempt to attach the same volume again server_b = self._create_server('server_b') # FIXME(lyarwood): n-api shouldn't accept this request as we already # have an active bdm record for this non-multiattach volume. self.api.post_server_volume( server_b['id'], {'volumeAttachment': {'volumeId': volume_id}} ) # Assert that we have bdms within Nova still for this attachment self.assertEqual( volume_id, self.api.get_server_volumes(server_a['id'])[0].get('volumeId')) self.assertEqual( volume_id, self.api.get_server_volumes(server_b['id'])[0].get('volumeId')) # Assert that the new attachment is the only one in the fixture self.assertIn( volume_id, self.cinder.volume_ids_for_instance(server_b['id'])) def test_volume_attach_after_cinder_reset_state_multiattach_volume(self): volume_id = self.cinder.MULTIATTACH_VOL # Launch a server and attach a volume server_a = self._create_server('server_a') self.api.post_server_volume( server_a['id'], {'volumeAttachment': {'volumeId': volume_id}} ) # reset-state of the volume within the cinder fixture, we don't model # the state of the volume within the fixture so this will have to do. del self.cinder.volume_to_attachment[volume_id] self.assertNotIn( volume_id, self.cinder.volume_ids_for_instance(server_a['id'])) # Launch a second server and attempt to attach the same volume again server_b = self._create_server('server_b') # NOTE(lyarwood): Unlike non-multiattach volumes this should always be # allowed as we can have multiple active bdms for multiattached volumes self.api.post_server_volume( server_b['id'], {'volumeAttachment': {'volumeId': volume_id}} ) # Assert that we have bdms within Nova still for this attachment self.assertEqual( volume_id, self.api.get_server_volumes(server_a['id'])[0].get('volumeId')) self.assertEqual( volume_id, self.api.get_server_volumes(server_b['id'])[0].get('volumeId')) # Assert that the new attachment is the only one in the fixture self.assertIn( volume_id, self.cinder.volume_ids_for_instance(server_b['id'])) ",,122,0
openstack%2Fnova~stable%2Fussuri~I639dd5af7c039da546eaf9ccce56cbaaa38fa79a,openstack/nova,stable/ussuri,I639dd5af7c039da546eaf9ccce56cbaaa38fa79a,Add regression test for bug #1908075,NEW,2021-03-29 14:10:10.000000000,2021-08-31 15:22:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-29 14:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19fb58ff1a0586bba8f18d4d0576fba0c52e0d91', 'message': 'Add regression test for bug #1908075\n\nRelated-Bug: #1908075\nChange-Id: I639dd5af7c039da546eaf9ccce56cbaaa38fa79a\n(cherry picked from commit ee3a8f02253f1f652785c07ea0be6464ab4bcc11)\n(cherry picked from commit 8e2a3dd2f08a2f0c420bc1da9c02ff6b128c06c5)\n'}, {'number': 2, 'created': '2021-04-12 10:05:37.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1908075.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/92ee874947f745508bcd4636fc3f9551bde28b9e', 'message': 'Add regression test for bug #1908075\n\nNOTE(lyarwood): The CinderFixture setup directly in the test class as\nI2e4c875533d8088c8454adc799539b10dcfc37dc only landed in\nstable/victoria.\n\nRelated-Bug: #1908075\nChange-Id: I639dd5af7c039da546eaf9ccce56cbaaa38fa79a\n(cherry picked from commit ee3a8f02253f1f652785c07ea0be6464ab4bcc11)\n(cherry picked from commit 8e2a3dd2f08a2f0c420bc1da9c02ff6b128c06c5)\n'}]",0,783655,92ee874947f745508bcd4636fc3f9551bde28b9e,6,1,2,10135,,,0,"Add regression test for bug #1908075

NOTE(lyarwood): The CinderFixture setup directly in the test class as
I2e4c875533d8088c8454adc799539b10dcfc37dc only landed in
stable/victoria.

Related-Bug: #1908075
Change-Id: I639dd5af7c039da546eaf9ccce56cbaaa38fa79a
(cherry picked from commit ee3a8f02253f1f652785c07ea0be6464ab4bcc11)
(cherry picked from commit 8e2a3dd2f08a2f0c420bc1da9c02ff6b128c06c5)
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/783655/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1908075.py'],1,19fb58ff1a0586bba8f18d4d0576fba0c52e0d91,bug/1908075,"# Copyright 2020, Red Hat, Inc. All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova.tests.functional import integrated_helpers class TestVolAttachCinderReset(integrated_helpers._IntegratedTestBase): """"""Regression test for bug 1908075. This regression test aims to assert if n-api allows a non-multiattached volume to be attached to multiple instances after an admin has forcibly reset the state of the volume in Cinder. """""" microversion = 'latest' def test_volume_attach_after_cinder_reset_state(self): volume_id = self.cinder.IMAGE_BACKED_VOL # Launch a server and attach a volume server_a = self._create_server(networks='none') self.api.post_server_volume( server_a['id'], {'volumeAttachment': {'volumeId': volume_id}} ) # reset-state of the volume within the cinder fixture, we don't model # the state of the volume within the fixture so this will have to do. del self.cinder.volume_to_attachment[volume_id] self.assertNotIn( volume_id, self.cinder.volume_ids_for_instance(server_a['id'])) # Launch a second server and attempt to attach the same volume again server_b = self._create_server(networks='none') # FIXME(lyarwood): n-api shouldn't accept this request as we already # have an active bdm record for this non-multiattach volume. self.api.post_server_volume( server_b['id'], {'volumeAttachment': {'volumeId': volume_id}} ) # Assert that we have bdms within Nova still for this attachment self.assertEqual( volume_id, self.api.get_server_volumes(server_a['id'])[0].get('volumeId')) self.assertEqual( volume_id, self.api.get_server_volumes(server_b['id'])[0].get('volumeId')) # Assert that the new attachment is the only one in the fixture self.assertIn( volume_id, self.cinder.volume_ids_for_instance(server_b['id'])) def test_volume_attach_after_cinder_reset_state_multiattach_volume(self): volume_id = self.cinder.MULTIATTACH_VOL # Launch a server and attach a volume server_a = self._create_server(networks='none') self.api.post_server_volume( server_a['id'], {'volumeAttachment': {'volumeId': volume_id}} ) # reset-state of the volume within the cinder fixture, we don't model # the state of the volume within the fixture so this will have to do. del self.cinder.volume_to_attachment[volume_id] self.assertNotIn( volume_id, self.cinder.volume_ids_for_instance(server_a['id'])) # Launch a second server and attempt to attach the same volume again server_b = self._create_server(networks='none') # NOTE(lyarwood): Unlike non-multiattach volumes this should always be # allowed as we can have multiple active bdms for multiattached volumes self.api.post_server_volume( server_b['id'], {'volumeAttachment': {'volumeId': volume_id}} ) # Assert that we have bdms within Nova still for this attachment self.assertEqual( volume_id, self.api.get_server_volumes(server_a['id'])[0].get('volumeId')) self.assertEqual( volume_id, self.api.get_server_volumes(server_b['id'])[0].get('volumeId')) # Assert that the new attachment is the only one in the fixture self.assertIn( volume_id, self.cinder.volume_ids_for_instance(server_b['id'])) ",,102,0
openstack%2Fnova~stable%2Fvictoria~I639dd5af7c039da546eaf9ccce56cbaaa38fa79a,openstack/nova,stable/victoria,I639dd5af7c039da546eaf9ccce56cbaaa38fa79a,Add regression test for bug #1908075,NEW,2021-03-29 14:08:56.000000000,2021-08-31 15:22:30.000000000,,"[{'_account_id': 9373}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-29 14:08:56.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1908075.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8e2a3dd2f08a2f0c420bc1da9c02ff6b128c06c5', 'message': 'Add regression test for bug #1908075\n\nRelated-Bug: #1908075\nChange-Id: I639dd5af7c039da546eaf9ccce56cbaaa38fa79a\n(cherry picked from commit ee3a8f02253f1f652785c07ea0be6464ab4bcc11)\n'}]",0,783653,8e2a3dd2f08a2f0c420bc1da9c02ff6b128c06c5,5,3,1,10135,,,0,"Add regression test for bug #1908075

Related-Bug: #1908075
Change-Id: I639dd5af7c039da546eaf9ccce56cbaaa38fa79a
(cherry picked from commit ee3a8f02253f1f652785c07ea0be6464ab4bcc11)
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/783653/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1908075.py'],1,8e2a3dd2f08a2f0c420bc1da9c02ff6b128c06c5,bug/1908075,"# Copyright 2020, Red Hat, Inc. All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova.tests.functional import integrated_helpers class TestVolAttachCinderReset(integrated_helpers._IntegratedTestBase): """"""Regression test for bug 1908075. This regression test aims to assert if n-api allows a non-multiattached volume to be attached to multiple instances after an admin has forcibly reset the state of the volume in Cinder. """""" microversion = 'latest' def test_volume_attach_after_cinder_reset_state(self): volume_id = self.cinder.IMAGE_BACKED_VOL # Launch a server and attach a volume server_a = self._create_server(networks='none') self.api.post_server_volume( server_a['id'], {'volumeAttachment': {'volumeId': volume_id}} ) # reset-state of the volume within the cinder fixture, we don't model # the state of the volume within the fixture so this will have to do. del self.cinder.volume_to_attachment[volume_id] self.assertNotIn( volume_id, self.cinder.volume_ids_for_instance(server_a['id'])) # Launch a second server and attempt to attach the same volume again server_b = self._create_server(networks='none') # FIXME(lyarwood): n-api shouldn't accept this request as we already # have an active bdm record for this non-multiattach volume. self.api.post_server_volume( server_b['id'], {'volumeAttachment': {'volumeId': volume_id}} ) # Assert that we have bdms within Nova still for this attachment self.assertEqual( volume_id, self.api.get_server_volumes(server_a['id'])[0].get('volumeId')) self.assertEqual( volume_id, self.api.get_server_volumes(server_b['id'])[0].get('volumeId')) # Assert that the new attachment is the only one in the fixture self.assertIn( volume_id, self.cinder.volume_ids_for_instance(server_b['id'])) def test_volume_attach_after_cinder_reset_state_multiattach_volume(self): volume_id = self.cinder.MULTIATTACH_VOL # Launch a server and attach a volume server_a = self._create_server(networks='none') self.api.post_server_volume( server_a['id'], {'volumeAttachment': {'volumeId': volume_id}} ) # reset-state of the volume within the cinder fixture, we don't model # the state of the volume within the fixture so this will have to do. del self.cinder.volume_to_attachment[volume_id] self.assertNotIn( volume_id, self.cinder.volume_ids_for_instance(server_a['id'])) # Launch a second server and attempt to attach the same volume again server_b = self._create_server(networks='none') # NOTE(lyarwood): Unlike non-multiattach volumes this should always be # allowed as we can have multiple active bdms for multiattached volumes self.api.post_server_volume( server_b['id'], {'volumeAttachment': {'volumeId': volume_id}} ) # Assert that we have bdms within Nova still for this attachment self.assertEqual( volume_id, self.api.get_server_volumes(server_a['id'])[0].get('volumeId')) self.assertEqual( volume_id, self.api.get_server_volumes(server_b['id'])[0].get('volumeId')) # Assert that the new attachment is the only one in the fixture self.assertIn( volume_id, self.cinder.volume_ids_for_instance(server_b['id'])) ",,102,0
openstack%2Fnova~stable%2Fvictoria~I2881d77d52bcbde9f3ac6a6ddfb4a22a9bd45c8a,openstack/nova,stable/victoria,I2881d77d52bcbde9f3ac6a6ddfb4a22a9bd45c8a,api: Reject volume attach requests when an active bdm exists,NEW,2021-03-29 14:08:56.000000000,2021-08-31 15:22:20.000000000,,"[{'_account_id': 9373}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-29 14:08:56.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1908075.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/75cdbdd9c64353e8b73c36b184ea2140f0a4861d', 'message': 'api: Reject volume attach requests when an active bdm exists\n\nWhen attaching volumes to instances Nova has previously relied on checks\ncarried out by c-api to ensure that a single non-multiattach volume is\nnot attached to multiple instances at once. While this works well in\nmost cases it does not handle PEBKAC issues when admins reset the state\nof a volume to available, allowing users to request that Nova attach the\nvolume to another instance.\n\nThis change aims to address this by including a simple check in the\nattach flow for non-multiattach volumes ensuring that there are no\nexisting active block device mapping records for the volume already\npresent within Nova.\n\nCloses-Bug: #1908075\nChange-Id: I2881d77d52bcbde9f3ac6a6ddfb4a22a9bd45c8a\n(cherry picked from commit 1252588d4e48da1d3a753639a8a4d937acf3e037)\n'}]",0,783654,75cdbdd9c64353e8b73c36b184ea2140f0a4861d,9,3,1,10135,,,0,"api: Reject volume attach requests when an active bdm exists

When attaching volumes to instances Nova has previously relied on checks
carried out by c-api to ensure that a single non-multiattach volume is
not attached to multiple instances at once. While this works well in
most cases it does not handle PEBKAC issues when admins reset the state
of a volume to available, allowing users to request that Nova attach the
volume to another instance.

This change aims to address this by including a simple check in the
attach flow for non-multiattach volumes ensuring that there are no
existing active block device mapping records for the volume already
present within Nova.

Closes-Bug: #1908075
Change-Id: I2881d77d52bcbde9f3ac6a6ddfb4a22a9bd45c8a
(cherry picked from commit 1252588d4e48da1d3a753639a8a4d937acf3e037)
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/783654/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1908075.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']",3,75cdbdd9c64353e8b73c36b184ea2140f0a4861d,bug/1908075," @mock.patch.object(objects.BlockDeviceMapping, 'get_by_volume') def test_attach_volume_new_flow( self, mock_attach, mock_get_by_volume, mock_get_by_instance, mock_reserve, mock_record ): mock_get_by_instance.side_effect = exception.VolumeBDMNotFound( volume_id='fake-volume-id') mock_get_by_volume.side_effect = exception.VolumeBDMNotFound( volume_id='fake-volume-id') @mock.patch.object(objects.BlockDeviceMapping, 'get_by_volume') def test_tagged_volume_attach_new_flow( self, mock_attach, mock_get_by_volume, mock_get_by_instance, mock_reserve, mock_record ): mock_get_by_instance.side_effect = exception.VolumeBDMNotFound( volume_id='fake-volume-id') mock_get_by_volume.side_effect = exception.VolumeBDMNotFound( volume_id='fake-volume-id') @mock.patch.object(objects.BlockDeviceMapping, 'get_by_volume') def test_attach_volume_attachment_create_fails( self, mock_attach, mock_get_by_volume, mock_get_by_instance, mock_reserve ): mock_get_by_instance.side_effect = exception.VolumeBDMNotFound( volume_id='fake-volume-id') mock_get_by_volume.side_effect = exception.VolumeBDMNotFound( volume_id='fake-volume-id') @mock.patch.object(objects.BlockDeviceMapping, 'get_by_volume') @mock.patch.object( objects.BlockDeviceMapping, 'get_by_volume_and_instance') def test_attach_volume_bdm_exists(self, mock_by_instance, mock_by_volume): mock_by_instance.side_effect = exception.VolumeBDMNotFound( volume_id=uuids.volume) mock_by_volume.return_value = mock.Mock( spec=objects.BlockDeviceMapping, volume_id=uuids.volume, instance_uuid=uuids.instance) instance = self._create_instance_obj() volume = {'id': uuids.volume, 'multiattach': False} with mock.patch.object( self.compute_api, 'volume_api', mock.MagicMock(spec=cinder.API) ) as mock_v_api: mock_v_api.get.return_value = volume # Assert that we raise InvalidVolume when we find a bdm for the vol self.assertRaises( exception.InvalidVolume, self.compute_api.attach_volume, self.context, instance, uuids.volume ) "," def test_attach_volume_new_flow(self, mock_attach, mock_bdm, mock_reserve, mock_record): mock_bdm.side_effect = exception.VolumeBDMNotFound( volume_id='fake-volume-id') def test_tagged_volume_attach_new_flow(self, mock_attach, mock_bdm, mock_reserve, mock_record): mock_bdm.side_effect = exception.VolumeBDMNotFound( volume_id='fake-volume-id') def test_attach_volume_attachment_create_fails(self, mock_attach, mock_bdm, mock_reserve): mock_bdm.side_effect = exception.VolumeBDMNotFound( volume_id='fake-volume-id')",89,27
openstack%2Fpuppet-nova~stable%2Fvictoria~I35b964d96e6a558f1a10daa2391a398db60ea800,openstack/puppet-nova,stable/victoria,I35b964d96e6a558f1a10daa2391a398db60ea800,Allow for a more permissible regex,MERGED,2021-08-21 07:50:20.000000000,2021-08-31 15:21:03.000000000,2021-08-31 15:21:03.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-21 07:50:20.000000000', 'files': ['lib/puppet/provider/nova_aggregate/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/99f8e1b4589be7e0930a44af8e374cadc01ccbc7', 'message': ""Allow for a more permissible regex\n\nSome openstack installations use characters that are not in \\w, the\nold regex, now moved to string2hash was more permissible, and\nthere's probably no reason the regex in pythondict2hash can't be\njust as permissible.\n\nChange-Id: I35b964d96e6a558f1a10daa2391a398db60ea800\n(cherry picked from commit 7111aa75f98b9038824d2a47e36dfd6d5043c80e)\n(cherry picked from commit 7ff77f8225f3974c04fdb6f3a9a6ddd2ff8a926a)\n""}]",0,805288,99f8e1b4589be7e0930a44af8e374cadc01ccbc7,9,3,1,25600,,,0,"Allow for a more permissible regex

Some openstack installations use characters that are not in \w, the
old regex, now moved to string2hash was more permissible, and
there's probably no reason the regex in pythondict2hash can't be
just as permissible.

Change-Id: I35b964d96e6a558f1a10daa2391a398db60ea800
(cherry picked from commit 7111aa75f98b9038824d2a47e36dfd6d5043c80e)
(cherry picked from commit 7ff77f8225f3974c04fdb6f3a9a6ddd2ff8a926a)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/88/805288/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/nova_aggregate/openstack.rb'],1,99f8e1b4589be7e0930a44af8e374cadc01ccbc7,," return JSON.parse(input.gsub(/u'([^']*)'/, '""\1""').gsub(/'/, '""'))"," return JSON.parse(input.gsub(/u'(\w*)'/, '""\1""').gsub(/'/, '""'))",1,1
openstack%2Fcharm-deployment-guide~master~Iac9ba2ac24b5d6234abe295bc5c51f22da89c9b6,openstack/charm-deployment-guide,master,Iac9ba2ac24b5d6234abe295bc5c51f22da89c9b6,Add operation: Implement HA with a VIP,MERGED,2021-06-02 22:51:03.000000000,2021-08-31 15:15:48.000000000,2021-08-31 15:14:09.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-02 22:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/bca79ff1f9d9d6e36f83717ee5e98209e6bf28f1', 'message': 'Add operation: Implement HA with a VIP\n\nAdd a cloud operation covering the implementation\nof HA using the hacluster charm and a virtual IP.\n\nChange-Id: Iac9ba2ac24b5d6234abe295bc5c51f22da89c9b6\n'}, {'number': 2, 'created': '2021-06-03 21:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/3a4c728296011da264f73fab130597cca66c4f7f', 'message': 'Add operation: Implement HA with a VIP\n\nAdd a cloud operation covering the implementation\nof HA using the hacluster charm and a virtual IP.\n\nChange-Id: Iac9ba2ac24b5d6234abe295bc5c51f22da89c9b6\n'}, {'number': 3, 'created': '2021-06-11 20:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/695ef4b2df0ba6a517bd33de5690254749d0ad44', 'message': 'Add operation: Implement HA with a VIP\n\nAdd a cloud operation covering the implementation\nof HA using the hacluster charm and a virtual IP.\n\nRelated-Bug: #1930763\nChange-Id: Iac9ba2ac24b5d6234abe295bc5c51f22da89c9b6\n'}, {'number': 4, 'created': '2021-08-26 17:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/7aa634bc2134ea1a88382618e9d8d1f5f15a5214', 'message': 'Add operation: Implement HA with a VIP\n\nAdd a cloud operation covering the implementation\nof HA using the hacluster charm and a virtual IP.\n\nRelated-Bug: #1930763\nChange-Id: Iac9ba2ac24b5d6234abe295bc5c51f22da89c9b6\n'}, {'number': 5, 'created': '2021-08-31 14:52:00.000000000', 'files': ['deploy-guide/source/ops-implement-ha-with-vip.rst', 'deploy-guide/source/operational-tasks.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/24c203a931e3944d7dd5a3233b0da6428ceeeff1', 'message': 'Add operation: Implement HA with a VIP\n\nAdd a cloud operation covering the implementation\nof HA using the hacluster charm and a virtual IP.\n\nRelated-Bug: #1930763\nChange-Id: Iac9ba2ac24b5d6234abe295bc5c51f22da89c9b6\n'}]",2,794348,24c203a931e3944d7dd5a3233b0da6428ceeeff1,21,3,5,30561,,,0,"Add operation: Implement HA with a VIP

Add a cloud operation covering the implementation
of HA using the hacluster charm and a virtual IP.

Related-Bug: #1930763
Change-Id: Iac9ba2ac24b5d6234abe295bc5c51f22da89c9b6
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/48/794348/4 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/ops-implement-ha-with-vip.rst', 'deploy-guide/source/operational-tasks.rst']",2,bca79ff1f9d9d6e36f83717ee5e98209e6bf28f1,cdg-ops,* :doc:`Implement HA with a VIP <ops-implement-ha-with-vip>`,,58,0
openstack%2Fopenstack-helm-infra~master~I79004506b66f2084402af59f9f41cda49a929794,openstack/openstack-helm-infra,master,I79004506b66f2084402af59f9f41cda49a929794,Always set pg_num_min to the proper value,MERGED,2021-08-25 20:54:06.000000000,2021-08-31 15:11:18.000000000,2021-08-31 15:09:38.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 24780}, {'_account_id': 28372}, {'_account_id': 29974}, {'_account_id': 30495}, {'_account_id': 32433}]","[{'number': 1, 'created': '2021-08-25 20:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4cbecdc49605de7444701ec798ef6321e569533b', 'message': 'Always set pg_num_min to the proper value\n\nCurrently if pg_num_min is less than the value specified in values.yaml\nor overrides no change to pg_num_min is made during updates when the value\nshould be increased. This PS will ensure the proper value is always set\nwhen needed.\n\nChange-Id: I79004506b66f2084402af59f9f41cda49a929794\n'}, {'number': 2, 'created': '2021-08-25 21:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1d6f5035064777b2581409eb4f2d15010b5d8e71', 'message': 'Always set pg_num_min to the proper value\n\nCurrently if pg_num_min is less than the value specified in values.yaml\nor overrides no change to pg_num_min is made during updates when the value\nshould be increased. This PS will ensure the proper value is always set\nwhen needed.\n\nChange-Id: I79004506b66f2084402af59f9f41cda49a929794\n'}, {'number': 3, 'created': '2021-08-25 22:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/529de4cb295b33b2d95e225542b7add7d0ea198f', 'message': 'Always set pg_num_min to the proper value\n\nCurrently if pg_num_min is less than the value specified in values.yaml\nor overrides no change to pg_num_min is made during updates when the value\nshould be increased. This PS will ensure the proper value is always set\nwhen needed.\n\nChange-Id: I79004506b66f2084402af59f9f41cda49a929794\n'}, {'number': 4, 'created': '2021-08-26 00:00:48.000000000', 'files': ['ceph-client/templates/bin/pool/_init.sh.tpl', 'ceph-client/Chart.yaml', 'releasenotes/notes/ceph-client.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/43fe7246fd0e0ba3845f879b7be9b82cd85c7a4f', 'message': 'Always set pg_num_min to the proper value\n\nCurrently if pg_num_min is less than the value specified in values.yaml\nor overrides no change to pg_num_min is made during updates when the value\nshould be increased. This PS will ensure the proper value is always set.\n\nChange-Id: I79004506b66f2084402af59f9f41cda49a929794\n'}]",5,806052,43fe7246fd0e0ba3845f879b7be9b82cd85c7a4f,24,11,4,32190,,,0,"Always set pg_num_min to the proper value

Currently if pg_num_min is less than the value specified in values.yaml
or overrides no change to pg_num_min is made during updates when the value
should be increased. This PS will ensure the proper value is always set.

Change-Id: I79004506b66f2084402af59f9f41cda49a929794
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/52/806052/2 && git format-patch -1 --stdout FETCH_HEAD,['ceph-client/templates/bin/pool/_init.sh.tpl'],1,4cbecdc49605de7444701ec798ef6321e569533b,pg_num_min, if [[ ${pg_num_min} -ne ${PG_NUM_MIN} ]]; then, if [[ ${pg_num_min} -gt ${PG_NUM_MIN} ]] || [[ ${pg_num} -gt ${PG_NUM_MIN} ]]; then,1,1
openstack%2Fglance~master~I22864ddb30b7a9a33a68b2c53606cbead32fa23f,openstack/glance,master,I22864ddb30b7a9a33a68b2c53606cbead32fa23f,Move metadef tag policy checks in the API,MERGED,2021-07-06 10:51:18.000000000,2021-08-31 15:04:19.000000000,2021-08-30 17:08:10.000000000,"[{'_account_id': 4393}, {'_account_id': 5046}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 19138}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-07-06 10:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7a59bae7fc21e1d553084448c5f1d23906f8e356', 'message': 'POC: Move metadef tag policy checks in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: I22864ddb30b7a9a33a68b2c53606cbead32fa23f\n'}, {'number': 2, 'created': '2021-07-06 18:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5f20b6639caa82f9fa1a880f374658cdf2857b0c', 'message': 'POC: Move metadef tag policy checks in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: I22864ddb30b7a9a33a68b2c53606cbead32fa23f\n'}, {'number': 3, 'created': '2021-07-14 19:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/dffa0f4bae2db8acc7f6887d03edd3c957ea3da2', 'message': 'POC: Move metadef tag policy checks in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: I22864ddb30b7a9a33a68b2c53606cbead32fa23f\n'}, {'number': 4, 'created': '2021-07-16 13:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/588f2797d87f33e38724d3849fbbc5f7dc11ff4c', 'message': 'POC: Move metadef tag policy checks in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: I22864ddb30b7a9a33a68b2c53606cbead32fa23f\n'}, {'number': 5, 'created': '2021-07-16 15:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/29aa1e587a8103cbc5c851efde23aac367186db6', 'message': 'POC: Move metadef tag policy checks in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: I22864ddb30b7a9a33a68b2c53606cbead32fa23f\n'}, {'number': 6, 'created': '2021-07-19 18:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c1876754d7a65a07ad33ed284e058fbe71b4f6a9', 'message': 'POC: Move metadef tag policy checks in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification.\n\nPartially implements: blueprint policy-refactor\nChange-Id: I22864ddb30b7a9a33a68b2c53606cbead32fa23f\n'}, {'number': 7, 'created': '2021-07-24 10:02:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/be1b5cc6ae812baf7df199604978d02d0bdd6ec3', 'message': 'Move metadef tag policy checks in the API\n\nMoved policy checks for metadef tags in the API layer.\nAdded additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\nChange-Id: I22864ddb30b7a9a33a68b2c53606cbead32fa23f\n'}, {'number': 8, 'created': '2021-08-02 08:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2a3164fd4b821c0c5a332cc929052ab3bb229991', 'message': 'Move metadef tag policy checks in the API\n\nMoved policy checks for metadef tags in the API layer.\nAdded additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I22864ddb30b7a9a33a68b2c53606cbead32fa23f\n'}, {'number': 9, 'created': '2021-08-03 17:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/93ba948e56b91d419f7b343dd8a2f8164495deb0', 'message': 'Move metadef tag policy checks in the API\n\nMoved policy checks for metadef tags in the API layer.\nAdded additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I22864ddb30b7a9a33a68b2c53606cbead32fa23f\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 10, 'created': '2021-08-04 15:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/82b9696e8528239baac1c8f7d1993f2630097764', 'message': 'Move metadef tag policy checks in the API\n\nMoved policy checks for metadef tags in the API layer.\nAdded additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I22864ddb30b7a9a33a68b2c53606cbead32fa23f\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 11, 'created': '2021-08-05 11:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/205b241e8d3ab5ef6edd31bc8eef887a66e940cc', 'message': 'Move metadef tag policy checks in the API\n\nMoved policy checks for metadef tags in the API layer.\nAdded additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I22864ddb30b7a9a33a68b2c53606cbead32fa23f\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 12, 'created': '2021-08-05 19:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/49aa995585aba76b376ab3c95d33af21cf05c959', 'message': 'Move metadef tag policy checks in the API\n\nMoved policy checks for metadef tags in the API layer.\nAdded additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I22864ddb30b7a9a33a68b2c53606cbead32fa23f\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 13, 'created': '2021-08-11 07:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cd0f9f5f90bea7ccfef0651300cbf744b33df3fb', 'message': 'Move metadef tag policy checks in the API\n\nMoved policy checks for metadef tags in the API layer.\nAdded additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I22864ddb30b7a9a33a68b2c53606cbead32fa23f\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 14, 'created': '2021-08-11 17:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b1b74982f26854ce74cf0172aea17b73b50c3e29', 'message': 'Move metadef tag policy checks in the API\n\nMoved policy checks for metadef tags in the API layer.\nAdded additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I22864ddb30b7a9a33a68b2c53606cbead32fa23f\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 15, 'created': '2021-08-11 20:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/725dbb237669d1890439fafafbe6d503ebbced0b', 'message': 'Move metadef tag policy checks in the API\n\nMoved policy checks for metadef tags in the API layer.\nAdded additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I22864ddb30b7a9a33a68b2c53606cbead32fa23f\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 16, 'created': '2021-08-13 18:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fc3af486f089691e273202f0dc16c3153f4b62c7', 'message': 'Move metadef tag policy checks in the API\n\nMoved policy checks for metadef tags in the API layer.\nAdded additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I22864ddb30b7a9a33a68b2c53606cbead32fa23f\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 17, 'created': '2021-08-19 16:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/910be543d2013684edd86dc6705c3dfd83b2b5f1', 'message': 'Move metadef tag policy checks in the API\n\nMoved policy checks for metadef tags in the API layer.\nAdded additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I22864ddb30b7a9a33a68b2c53606cbead32fa23f\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 18, 'created': '2021-08-20 05:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3a2d2ca31789b8ac27dee5204ee1b71b63afcb56', 'message': 'Move metadef tag policy checks in the API\n\nMoved policy checks for metadef tags in the API layer.\nAdded additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I22864ddb30b7a9a33a68b2c53606cbead32fa23f\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 19, 'created': '2021-08-24 19:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9bf67b14ed5ae9990f779d9b41ccdeefb1ad927f', 'message': 'Move metadef tag policy checks in the API\n\nMoved policy checks for metadef tags in the API layer.\nAdded additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I22864ddb30b7a9a33a68b2c53606cbead32fa23f\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 20, 'created': '2021-08-25 06:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f1020946a96ea7b718083d073170c45cc81b62a4', 'message': 'Move metadef tag policy checks in the API\n\nMoved policy checks for metadef tags in the API layer.\nAdded additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I22864ddb30b7a9a33a68b2c53606cbead32fa23f\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 21, 'created': '2021-08-26 03:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e19c5d53b756f99ece45cfff21b5bda4e2bd8445', 'message': 'Move metadef tag policy checks in the API\n\nMoved policy checks for metadef tags in the API layer.\nAdded additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I22864ddb30b7a9a33a68b2c53606cbead32fa23f\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 22, 'created': '2021-08-30 05:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2144ea95d1c9bbb040068b92a5e61ef1d80a9c37', 'message': 'Move metadef tag policy checks in the API\n\nMoved policy checks for metadef tags in the API layer.\nAdded additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/688802\n\nChange-Id: I22864ddb30b7a9a33a68b2c53606cbead32fa23f\n'}, {'number': 23, 'created': '2021-08-30 05:58:41.000000000', 'files': ['glance/api/v2/metadef_tags.py', 'glance/tests/functional/v2/test_metadef_tag_api_policy.py', 'glance/tests/unit/v2/test_metadef_resources.py', 'glance/api/v2/policy.py', 'glance/tests/unit/v2/test_v2_policy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/e134d12e74341879944b50669c3fb07516b8bc4c', 'message': 'Move metadef tag policy checks in the API\n\nMoved policy checks for metadef tags in the API layer.\nAdded additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/688802\n\nChange-Id: I22864ddb30b7a9a33a68b2c53606cbead32fa23f\n'}]",4,799636,e134d12e74341879944b50669c3fb07516b8bc4c,94,7,23,9303,,,0,"Move metadef tag policy checks in the API

Moved policy checks for metadef tags in the API layer.
Added additional functional tests for coverage.

Partially implements: blueprint policy-refactor

Depends-On: https://review.opendev.org/c/openstack/nova/+/688802

Change-Id: I22864ddb30b7a9a33a68b2c53606cbead32fa23f
",git fetch https://review.opendev.org/openstack/glance refs/changes/36/799636/21 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/metadef_tags.py', 'glance/tests/unit/v2/test_metadef_resources.py', 'glance/api/v2/policy.py']",3,7a59bae7fc21e1d553084448c5f1d23906f8e356,policy-refactor, def add_metadef_tag(self): self._enforce('add_metadef_tag') def add_metadef_tags(self): self._enforce('add_metadef_tags') def get_metadef_tags(self): self._enforce('get_metadef_tags') def get_metadef_tag(self): self._enforce('get_metadef_tag') def modify_metadef_tag(self): self._enforce('modify_metadef_tag') def delete_metadef_tag(self): self._enforce('delete_metadef_tag'),,86,9
openstack%2Ftripleo-heat-templates~master~I85aec373e86ab587ead389852730bcf833311ae4,openstack/tripleo-heat-templates,master,I85aec373e86ab587ead389852730bcf833311ae4,Manila: Drop tenant_id templating from v2 endpoint,MERGED,2021-07-30 08:57:41.000000000,2021-08-31 14:59:08.000000000,2021-08-31 14:59:08.000000000,"[{'_account_id': 7144}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-07-30 08:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6d6d184208ce4ec9fdf8fffc4290043a55ce6ba0', 'message': 'Drop tenant_id templating from v2 endpoint\n\nManila\'s wallaby release [1] made it possible for the v2 endpoint to\nnot include a tenant_id (project_id). This change was made to\naccommodate interactions by system scoped users.\n\nSystem scoped users cannot interact with an endpoint that needs\nthe ""tenant_id"" templating, because system scoped tokens cannot be\nresolved to a particular tenant_id by definition. More information\nregarding this change is captured in the release notes for\nthe project [2] and the API reference [3].\n\n[1] https://review.opendev.org/c/openstack/manila/+/773709\n[2] https://docs.openstack.org/releasenotes/manila/wallaby.html#prelude\n[3] https://docs.openstack.org/api-ref/shared-file-system/#shared-file-systems-api\n\nCo-Authored-By: Goutham Pacha Ravi <gouthampravi@gmail.com>\nChange-Id: I85aec373e86ab587ead389852730bcf833311ae4\n'}, {'number': 2, 'created': '2021-07-30 09:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/30ab037687871b7f0aace1ccf35007204bdca12b', 'message': 'Manila: Drop tenant_id templating from v2 endpoint\n\nManila\'s wallaby release [1] made it possible for the v2 endpoint to\nnot include a tenant_id (project_id). This change was made to\naccommodate interactions by system scoped users.\n\nSystem scoped users cannot interact with an endpoint that needs\nthe ""tenant_id"" templating, because system scoped tokens cannot be\nresolved to a particular tenant_id by definition. More information\nregarding this change is captured in the release notes for\nthe project [2] and the API reference [3].\n\n[1] https://review.opendev.org/c/openstack/manila/+/773709\n[2] https://docs.openstack.org/releasenotes/manila/wallaby.html#prelude\n[3] https://docs.openstack.org/api-ref/shared-file-system/#shared-file-systems-api\n\nCo-Authored-By: Goutham Pacha Ravi <gouthampravi@gmail.com>\nChange-Id: I85aec373e86ab587ead389852730bcf833311ae4\n'}, {'number': 3, 'created': '2021-08-18 14:25:33.000000000', 'files': ['network/endpoints/endpoint_map.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/06cc21a445c7c0c5f85ef68cd94e8e6af4fb7efb', 'message': 'Manila: Drop tenant_id templating from v2 endpoint\n\nManila\'s wallaby release [1] made it possible for the v2 endpoint to\nnot include a tenant_id (project_id). This change was made to\naccommodate interactions by system scoped users.\n\nSystem scoped users cannot interact with an endpoint that needs\nthe ""tenant_id"" templating, because system scoped tokens cannot be\nresolved to a particular tenant_id by definition. More information\nregarding this change is captured in the release notes for\nthe project [2] and the API reference [3].\n\n[1] https://review.opendev.org/c/openstack/manila/+/773709\n[2] https://docs.openstack.org/releasenotes/manila/wallaby.html#prelude\n[3] https://docs.openstack.org/api-ref/shared-file-system/#shared-file-systems-api\n\nCo-Authored-By: Goutham Pacha Ravi <gouthampravi@gmail.com>\nChange-Id: I85aec373e86ab587ead389852730bcf833311ae4\n'}]",0,802998,06cc21a445c7c0c5f85ef68cd94e8e6af4fb7efb,13,5,3,9816,,,0,"Manila: Drop tenant_id templating from v2 endpoint

Manila's wallaby release [1] made it possible for the v2 endpoint to
not include a tenant_id (project_id). This change was made to
accommodate interactions by system scoped users.

System scoped users cannot interact with an endpoint that needs
the ""tenant_id"" templating, because system scoped tokens cannot be
resolved to a particular tenant_id by definition. More information
regarding this change is captured in the release notes for
the project [2] and the API reference [3].

[1] https://review.opendev.org/c/openstack/manila/+/773709
[2] https://docs.openstack.org/releasenotes/manila/wallaby.html#prelude
[3] https://docs.openstack.org/api-ref/shared-file-system/#shared-file-systems-api

Co-Authored-By: Goutham Pacha Ravi <gouthampravi@gmail.com>
Change-Id: I85aec373e86ab587ead389852730bcf833311ae4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/802998/3 && git format-patch -1 --stdout FETCH_HEAD,['network/endpoints/endpoint_map.yaml'],1,6d6d184208ce4ec9fdf8fffc4290043a55ce6ba0,secure-rbac, make_url: scheme: get_param: - EndpointMap - ManilaAdmin - protocol host: str_replace: template: - host params: CLOUDNAME: get_param: - CloudEndpoints - get_param: - ServiceNetMap - ManilaApiNetwork IP_ADDRESS: get_param: - NetIpMap - str_replace: params: NETWORK: get_param: - ServiceNetMap - ManilaApiNetwork template: NETWORK_uri port: get_param: - EndpointMap - ManilaAdmin - port path: /v2 make_url: scheme: get_param: - EndpointMap - ManilaInternal - protocol host: str_replace: template: - host params: CLOUDNAME: get_param: - CloudEndpoints - get_param: - ServiceNetMap - ManilaApiNetwork IP_ADDRESS: get_param: - NetIpMap - str_replace: params: NETWORK: get_param: - ServiceNetMap - ManilaApiNetwork template: NETWORK_uri port: get_param: - EndpointMap - ManilaInternal - port path: /v2 make_url: scheme: get_param: - EndpointMap - ManilaPublic - protocol host: str_replace: template: - host params: CLOUDNAME: get_param: - CloudEndpoints - get_param: - ServiceNetMap - PublicNetwork IP_ADDRESS: get_param: - NetIpMap - str_replace: params: NETWORK: get_param: - ServiceNetMap - PublicNetwork template: NETWORK_uri port: get_param: - EndpointMap - ManilaPublic - port path: /v2, list_join: - '' - - make_url: scheme: - protocol host: str_replace: template: get_param: - EndpointMap - ManilaAdmin - host params: CLOUDNAME: get_param: - CloudEndpoints - get_param: - ServiceNetMap - ManilaApiNetwork IP_ADDRESS: get_param: - NetIpMap - str_replace: params: NETWORK: get_param: - ServiceNetMap - ManilaApiNetwork template: NETWORK_uri port: get_param: - EndpointMap - ManilaAdmin - port path: /v2/ - '%(tenant_id)s' list_join: - '' - - make_url: scheme: - protocol host: str_replace: template: get_param: - EndpointMap - ManilaInternal - host params: CLOUDNAME: get_param: - CloudEndpoints - get_param: - ServiceNetMap - ManilaApiNetwork IP_ADDRESS: get_param: - NetIpMap - str_replace: params: NETWORK: get_param: - ServiceNetMap - ManilaApiNetwork template: NETWORK_uri port: get_param: - EndpointMap - ManilaInternal - port path: /v2/ - '%(tenant_id)s' list_join: - '' - - make_url: scheme: - protocol host: str_replace: template: get_param: - EndpointMap - ManilaPublic - host params: CLOUDNAME: get_param: - CloudEndpoints - get_param: - ServiceNetMap - PublicNetwork IP_ADDRESS: get_param: - NetIpMap - str_replace: params: NETWORK: get_param: - ServiceNetMap - PublicNetwork template: NETWORK_uri port: get_param: - EndpointMap - ManilaPublic - port path: /v2/ - '%(tenant_id)s',99,108
openstack%2Fnova~stable%2Ftrain~I92e57aefeb909297cf3d4f566a3308aa9312bb02,openstack/nova,stable/train,I92e57aefeb909297cf3d4f566a3308aa9312bb02,Trival Change: Remove redundant code in instance delete,NEW,2021-06-17 18:19:07.000000000,2021-08-31 14:58:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-06-17 18:19:07.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fc87d7eb7cd9f257fbcd62d5c7aff110dbcc656e', 'message': 'Trival Change: Remove redundant code in instance delete\n\nChange-Id: I92e57aefeb909297cf3d4f566a3308aa9312bb02\n(cherry picked from commit 0be00cd58af97d6289bbfd19bdf1a2357383614d)\n(cherry picked from commit a1387297dcd956f870327b9415cf6ffbbc7f0da3)\n(cherry picked from commit 068cf11a764ddce5191514e16fe99369cd12b383)\n'}]",0,796938,fc87d7eb7cd9f257fbcd62d5c7aff110dbcc656e,7,2,1,10135,,,0,"Trival Change: Remove redundant code in instance delete

Change-Id: I92e57aefeb909297cf3d4f566a3308aa9312bb02
(cherry picked from commit 0be00cd58af97d6289bbfd19bdf1a2357383614d)
(cherry picked from commit a1387297dcd956f870327b9415cf6ffbbc7f0da3)
(cherry picked from commit 068cf11a764ddce5191514e16fe99369cd12b383)
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/796938/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,fc87d7eb7cd9f257fbcd62d5c7aff110dbcc656e,bug/1905701,," disk_dev = vol['mount_device'] if disk_dev is not None: disk_dev = disk_dev.rpartition(""/"")[2]",0,3
openstack%2Fnova~stable%2Fussuri~I92e57aefeb909297cf3d4f566a3308aa9312bb02,openstack/nova,stable/ussuri,I92e57aefeb909297cf3d4f566a3308aa9312bb02,Trival Change: Remove redundant code in instance delete,NEW,2021-06-17 17:20:03.000000000,2021-08-31 14:57:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-06-17 17:20:03.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/068cf11a764ddce5191514e16fe99369cd12b383', 'message': 'Trival Change: Remove redundant code in instance delete\n\nChange-Id: I92e57aefeb909297cf3d4f566a3308aa9312bb02\n(cherry picked from commit 0be00cd58af97d6289bbfd19bdf1a2357383614d)\n(cherry picked from commit a1387297dcd956f870327b9415cf6ffbbc7f0da3)\n'}]",0,796929,068cf11a764ddce5191514e16fe99369cd12b383,12,2,1,10135,,,0,"Trival Change: Remove redundant code in instance delete

Change-Id: I92e57aefeb909297cf3d4f566a3308aa9312bb02
(cherry picked from commit 0be00cd58af97d6289bbfd19bdf1a2357383614d)
(cherry picked from commit a1387297dcd956f870327b9415cf6ffbbc7f0da3)
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/796929/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,068cf11a764ddce5191514e16fe99369cd12b383,bug/1905701,," disk_dev = vol['mount_device'] if disk_dev is not None: disk_dev = disk_dev.rpartition(""/"")[2]",0,3
openstack%2Fkayobe~master~I8015c905074016c53c803ce40a299ad5c911ada6,openstack/kayobe,master,I8015c905074016c53c803ce40a299ad5c911ada6,docs: fix heading styles in upgrading page,MERGED,2021-08-31 13:21:07.000000000,2021-08-31 14:51:27.000000000,2021-08-31 14:48:13.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-31 13:21:07.000000000', 'files': ['doc/source/upgrading.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c2b9dd81de079b4e6491cb6e2064c97f4f156fb0', 'message': 'docs: fix heading styles in upgrading page\n\nThe CentOS Stream 8 section used the wrong heading style, which broke\nthe rest of the document, making the other headings the wrong sizes.\n\nChange-Id: I8015c905074016c53c803ce40a299ad5c911ada6\n'}]",0,806744,c2b9dd81de079b4e6491cb6e2064c97f4f156fb0,7,2,1,14826,,,0,"docs: fix heading styles in upgrading page

The CentOS Stream 8 section used the wrong heading style, which broke
the rest of the document, making the other headings the wrong sizes.

Change-Id: I8015c905074016c53c803ce40a299ad5c911ada6
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/44/806744/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/upgrading.rst'],1,c2b9dd81de079b4e6491cb6e2064c97f4f156fb0,,===============,---------------,1,1
openstack%2Fkayobe~master~I14db53ed6e57d37bbd28dd5819e432e3fe6628b2,openstack/kayobe,master,I14db53ed6e57d37bbd28dd5819e432e3fe6628b2,Use ansible_facts to reference facts,MERGED,2021-05-13 18:43:03.000000000,2021-08-31 14:49:57.000000000,2021-08-31 14:48:04.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-05-13 18:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/53297f68cf23737f0dfa4e1b629e1d4220389782', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kayobe\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nStory: 2007993\nTask: 42464\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/791276\n\nChange-Id: I14db53ed6e57d37bbd28dd5819e432e3fe6628b2\n'}, {'number': 2, 'created': '2021-05-13 19:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/22275602fe5b773c368780f9a7cd170bc54bd4ab', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kayobe\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nStory: 2007993\nTask: 42464\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/791276\n\nChange-Id: I14db53ed6e57d37bbd28dd5819e432e3fe6628b2\n'}, {'number': 3, 'created': '2021-05-14 08:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/acd0f858d667b47062fd881c983dd12c1b2e99ae', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kayobe\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nStory: 2007993\nTask: 42464\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/791276\n\nChange-Id: I14db53ed6e57d37bbd28dd5819e432e3fe6628b2\n'}, {'number': 4, 'created': '2021-05-14 08:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/42693c34333a3ffb21177ba9afb910578c0ef722', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kayobe\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nStory: 2007993\nTask: 42464\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/791276\n\nChange-Id: I14db53ed6e57d37bbd28dd5819e432e3fe6628b2\n'}, {'number': 5, 'created': '2021-05-14 11:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/aee1407a818a74ec26f3445c87a3b91dd7ddd037', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kayobe\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nStory: 2007993\nTask: 42464\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/791276\n\nChange-Id: I14db53ed6e57d37bbd28dd5819e432e3fe6628b2\n'}, {'number': 6, 'created': '2021-05-17 15:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5f87c6726719e2a0225d30c84d2a9b53de8a0c25', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kayobe\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nStory: 2007993\nTask: 42464\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/791276\n\nChange-Id: I14db53ed6e57d37bbd28dd5819e432e3fe6628b2\n'}, {'number': 7, 'created': '2021-05-17 16:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/666f477db34e2d8e0b732ca8f18fc8497b4c7e8f', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kayobe\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nStory: 2007993\nTask: 42464\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/791276\n\nChange-Id: I14db53ed6e57d37bbd28dd5819e432e3fe6628b2\n'}, {'number': 8, 'created': '2021-05-18 15:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5ee8933a53e38c9cbec49adfee3549aafe0315c7', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kayobe\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nStory: 2007993\nTask: 42464\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/791276\n\nChange-Id: I14db53ed6e57d37bbd28dd5819e432e3fe6628b2\n'}, {'number': 9, 'created': '2021-05-18 15:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/36ac1084e9ac5c00c6f559c6cfa2508c62005dd5', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kayobe\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nStory: 2007993\nTask: 42464\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/791276\n\nChange-Id: I14db53ed6e57d37bbd28dd5819e432e3fe6628b2\n'}, {'number': 10, 'created': '2021-05-19 12:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0c530a8e74fa5a0677610f33fef079027c48f8c9', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kayobe\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nStory: 2007993\nTask: 42464\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/791276\n\nChange-Id: I14db53ed6e57d37bbd28dd5819e432e3fe6628b2\n'}, {'number': 11, 'created': '2021-05-21 14:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5958b785dd9b06fb1fc11c1899435a5a9f214afa', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kayobe\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nStory: 2007993\nTask: 42464\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/791276\n\nChange-Id: I14db53ed6e57d37bbd28dd5819e432e3fe6628b2\n'}, {'number': 12, 'created': '2021-06-07 14:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8f2b33d789b45f785731715cfb43a6e8d0cefbe0', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kayobe\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nStory: 2007993\nTask: 42464\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/791276\n\nChange-Id: I14db53ed6e57d37bbd28dd5819e432e3fe6628b2\n'}, {'number': 13, 'created': '2021-06-08 14:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fbaf4d57b203394ba55837ef8a025aa456ba3c3a', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kayobe\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nStory: 2007993\nTask: 42464\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/791276\n\nChange-Id: I14db53ed6e57d37bbd28dd5819e432e3fe6628b2\n'}, {'number': 14, 'created': '2021-06-08 14:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/de72ff289783b33f8e37c1b3b8eaf1b3f84e0e22', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kayobe\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nStory: 2007993\nTask: 42464\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/791276\n\nChange-Id: I14db53ed6e57d37bbd28dd5819e432e3fe6628b2\n'}, {'number': 15, 'created': '2021-06-09 13:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5cf30afab9c12944d45069777d08f515ce8ff6d0', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kayobe\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nStory: 2007993\nTask: 42464\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/791276\n\nChange-Id: I14db53ed6e57d37bbd28dd5819e432e3fe6628b2\n'}, {'number': 16, 'created': '2021-06-09 18:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7e8c670e8723da49b87e096d8d8e2a519d1e38ca', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kayobe\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nStory: 2007993\nTask: 42464\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/791276\n\nChange-Id: I14db53ed6e57d37bbd28dd5819e432e3fe6628b2\n'}, {'number': 17, 'created': '2021-07-26 15:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/87bbb1adc7d6059b1f82daf812a80e514e8fb0e8', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kayobe\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nStory: 2007993\nTask: 42464\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/791276\n\nChange-Id: I14db53ed6e57d37bbd28dd5819e432e3fe6628b2\n'}, {'number': 18, 'created': '2021-08-17 15:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/287a05e3ae17e57297a2981cf82a571d45f5bd63', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kayobe\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nStory: 2007993\nTask: 42464\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/791276\n\nChange-Id: I14db53ed6e57d37bbd28dd5819e432e3fe6628b2\n'}, {'number': 19, 'created': '2021-08-20 16:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b3078dce7ad87cabdf6057b8869295dab053c79c', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kayobe\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nStory: 2007993\nTask: 42464\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/791276\n\nChange-Id: I14db53ed6e57d37bbd28dd5819e432e3fe6628b2\n'}, {'number': 20, 'created': '2021-08-20 16:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/26e802d5746641606f156f1ff3ffa4705cb816e7', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kayobe\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nStory: 2007993\nTask: 42464\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/791276\n\nChange-Id: I14db53ed6e57d37bbd28dd5819e432e3fe6628b2\n'}, {'number': 21, 'created': '2021-08-20 20:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/431ed0c5211b0d898768cfaeaba8af0c31bb652d', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kayobe\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nStory: 2007993\nTask: 42464\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/791276\n\nChange-Id: I14db53ed6e57d37bbd28dd5819e432e3fe6628b2\n'}, {'number': 22, 'created': '2021-08-21 07:57:35.000000000', 'files': ['ansible/network.yml', 'ansible/roles/kolla/tasks/install.yml', 'ansible/overcloud-ipa-images.yml', 'ansible/roles/ipa-images/tasks/main.yml', 'ansible/group_vars/all/time', 'ansible/container-image-build.yml', 'ansible/dnf.yml', 'ansible/roles/docker-registry/tasks/config.yml', 'ansible/roles/kolla-ansible/defaults/main.yml', 'playbooks/kayobe-base/pre.yml', 'ansible/host-package-update.yml', 'kayobe/ansible.py', 'ansible/roles/bootstrap/tasks/main.yml', 'doc/source/configuration/reference/ansible.rst', 'ansible/roles/kolla-ansible-host-vars/templates/host-vars.j2', 'releasenotes/notes/ansible-facts-2b3389a2534d47a2.yaml', 'ansible/kolla-target-venv.yml', 'ansible/compute-node-discovery.yml', 'ansible/kayobe-target-venv.yml', 'ansible/disable-selinux.yml', 'ansible/roles/disable-selinux/tasks/main.yml', 'ansible/time.yml', 'ansible/seed-service-upgrade-prep.yml', 'ansible/roles/inspection-store/tasks/config.yml', 'ansible/roles/docker/tasks/main.yml', 'dev/tenks-deploy-config-compute.yml', 'ansible/roles/ntp/tasks/prepare.yml', 'ansible/roles/veth/tasks/main.yml', 'ansible/overcloud-ipa-build.yml', 'ansible/roles/wipe-disks/tasks/main.yml', 'ansible/snat.yml', 'ansible/roles/kolla-ansible/tasks/install.yml', 'ansible/roles/kolla/defaults/main.yml', 'ansible/overcloud-etc-hosts-fixup.yml', 'ansible/roles/snat/tasks/main.yml', 'ansible/roles/pip/tasks/pip_conf.yml', 'ansible/idrac-bootstrap.yml', 'kayobe/tests/unit/test_ansible.py', 'ansible/roles/kolla-ansible/tasks/config.yml', 'ansible/roles/swift-block-devices/tasks/main.yml', 'ansible/seed-vm-provision.yml', 'requirements.yml', 'ansible/roles/kolla-openstack/templates/ironic.conf.j2', 'ansible/roles/dev-tools/tasks/main.yml', 'ansible/roles/kolla/tasks/config.yml', 'ansible/seed-ipa-build.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f639ad0b3514c3a6a485b2e75082ac0b3b850454', 'message': 'Use ansible_facts to reference facts\n\nBy default, Ansible injects a variable for every fact, prefixed with\nansible_. This can result in a large number of variables for each host,\nwhich at scale can incur a performance penalty. Ansible provides a\nconfiguration option [0] that can be set to False to prevent this\ninjection of facts. In this case, facts should be referenced via\nansible_facts.<fact>.\n\nThis change updates all references to Ansible facts within Kayobe\nfrom using individual fact variables to using the items in the\nansible_facts dictionary. This allows users to disable fact variable\ninjection in their Ansible configuration, which may provide some\nperformance improvement.\n\nThis change disables fact variable injection in the ansible\nconfiguration used in CI, to catch any attempts to use the injected\nvariables.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars\n\nStory: 2007993\nTask: 42464\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/791276\n\nChange-Id: I14db53ed6e57d37bbd28dd5819e432e3fe6628b2\n'}]",2,791304,f639ad0b3514c3a6a485b2e75082ac0b3b850454,72,3,22,14826,,,0,"Use ansible_facts to reference facts

By default, Ansible injects a variable for every fact, prefixed with
ansible_. This can result in a large number of variables for each host,
which at scale can incur a performance penalty. Ansible provides a
configuration option [0] that can be set to False to prevent this
injection of facts. In this case, facts should be referenced via
ansible_facts.<fact>.

This change updates all references to Ansible facts within Kayobe
from using individual fact variables to using the items in the
ansible_facts dictionary. This allows users to disable fact variable
injection in their Ansible configuration, which may provide some
performance improvement.

This change disables fact variable injection in the ansible
configuration used in CI, to catch any attempts to use the injected
variables.

[0] https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars

Story: 2007993
Task: 42464
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/791276

Change-Id: I14db53ed6e57d37bbd28dd5819e432e3fe6628b2
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/04/791304/17 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/overcloud-provision.yml', 'ansible/network.yml', 'ansible/roles/kolla/tasks/install.yml', 'ansible/overcloud-ipa-images.yml', 'ansible/roles/ipa-images/tasks/main.yml', 'ansible/container-image-build.yml', 'ansible/dnf.yml', 'ansible/roles/docker-registry/tasks/config.yml', 'ansible/roles/kolla-ansible/defaults/main.yml', 'playbooks/kayobe-base/pre.yml', 'ansible/host-package-update.yml', 'ansible/roles/bootstrap/tasks/main.yml', 'doc/source/configuration/reference/ansible.rst', 'releasenotes/notes/ansible-facts-2b3389a2534d47a2.yaml', 'ansible/kolla-target-venv.yml', 'ansible/compute-node-discovery.yml', 'ansible/kayobe-target-venv.yml', 'ansible/disable-selinux.yml', 'ansible/roles/disable-selinux/tasks/main.yml', 'ansible/seed-service-upgrade-prep.yml', 'ansible/roles/inspection-store/tasks/config.yml', 'ansible/roles/docker/tasks/main.yml', 'dev/tenks-deploy-config-compute.yml', 'ansible/roles/veth/tasks/main.yml', 'ansible/overcloud-ipa-build.yml', 'ansible/roles/wipe-disks/tasks/main.yml', 'ansible/snat.yml', 'ansible/roles/kolla-ansible/tasks/install.yml', 'ansible/roles/kolla/defaults/main.yml', 'ansible/overcloud-etc-hosts-fixup.yml', 'ansible/roles/snat/tasks/main.yml', 'ansible/roles/pip/tasks/pip_conf.yml', 'ansible/idrac-bootstrap.yml', 'ansible/roles/kolla-ansible/tasks/config.yml', 'ansible/roles/swift-block-devices/tasks/main.yml', 'ansible/seed-vm-provision.yml', 'requirements.yml', 'ansible/roles/kolla-openstack/templates/ironic.conf.j2', 'ansible/roles/dev-tools/tasks/main.yml', 'ansible/roles/kolla/tasks/config.yml', 'ansible/seed-ipa-build.yml']",41,53297f68cf23737f0dfa4e1b629e1d4220389782,ansible-facts, when: ansible_facts.os_family == 'RedHat', when: ansible_os_family == 'RedHat',163,122
openstack%2Fkolla-ansible~master~I629bb9e70a3fd6bd1e26b2ca22ffcff5e9e8c731,openstack/kolla-ansible,master,I629bb9e70a3fd6bd1e26b2ca22ffcff5e9e8c731,Restore libvirtd cgroupfs mount,MERGED,2021-08-30 09:36:51.000000000,2021-08-31 14:32:52.000000000,2021-08-31 14:30:33.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-30 09:36:51.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'releasenotes/notes/bug-1941706-a8f9e9544f1540e3.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/34c49b9dbed81c606c958ce95078178db1cc9492', 'message': ""Restore libvirtd cgroupfs mount\n\nIt was removed in [1] as part of cgroupsv2 cleanup.\nHowever, the testing did not catch the fact that the legacy\ncgroups behaviour was actually still breaking despite latest\nDocker and setting to use host's cgroups namespace.\n\n[1] 286a03bad20955aa4d3f7009cef5856d328b76f1\n\nCloses-Bug: #1941706\nChange-Id: I629bb9e70a3fd6bd1e26b2ca22ffcff5e9e8c731\n""}]",4,806555,34c49b9dbed81c606c958ce95078178db1cc9492,18,7,1,30491,,,0,"Restore libvirtd cgroupfs mount

It was removed in [1] as part of cgroupsv2 cleanup.
However, the testing did not catch the fact that the legacy
cgroups behaviour was actually still breaking despite latest
Docker and setting to use host's cgroups namespace.

[1] 286a03bad20955aa4d3f7009cef5856d328b76f1

Closes-Bug: #1941706
Change-Id: I629bb9e70a3fd6bd1e26b2ca22ffcff5e9e8c731
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/806555/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/defaults/main.yml', 'releasenotes/notes/bug-1941706-a8f9e9544f1540e3.yaml']",2,34c49b9dbed81c606c958ce95078178db1cc9492,bug/1941706,"--- critical: - | Fixes a critical bug which caused Nova instances (VMs) using libvirtd (the default/usual choice) to get killed on libvirtd (``nova_libvirt``) container stop (and thus any restart - either manual or done by running Kolla Ansible). It was affecting Wallaby+ on CentOS, Ubuntu and Debian Buster (not Bullseye). If your deployment is also affected, please read the referenced Launchpad bug report, comment #22, for how to fix it without risking data loss. In short: fixing requires redeploying and this will trigger the bug so one has to first migrate important VMs away and only then redeploy empty compute nodes. `LP#1941706 <https://launchpad.net/bugs/1941706>`__ ",,14,0
openstack%2Fironic~master~I85200040e15d126be78ca1e3daf0a909a3732308,openstack/ironic,master,I85200040e15d126be78ca1e3daf0a909a3732308,Add iDRAC configuration mold docs,MERGED,2021-05-12 13:22:51.000000000,2021-08-31 14:25:32.000000000,2021-08-31 12:26:21.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-12 13:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cbd8f0def5e5aa837355237ba554bbd7c4788656', 'message': 'Add iDRAC configuration mold docs\n\nChange-Id: I85200040e15d126be78ca1e3daf0a909a3732308\n'}, {'number': 2, 'created': '2021-05-12 14:26:41.000000000', 'files': ['doc/source/admin/drivers/idrac.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9ed5820e2ddecec968f7a686d0076c2dcd0dec10', 'message': 'Add iDRAC configuration mold docs\n\nChange-Id: I85200040e15d126be78ca1e3daf0a909a3732308\n'}]",3,790997,9ed5820e2ddecec968f7a686d0076c2dcd0dec10,13,4,2,27909,,,0,"Add iDRAC configuration mold docs

Change-Id: I85200040e15d126be78ca1e3daf0a909a3732308
",git fetch https://review.opendev.org/openstack/ironic refs/changes/97/790997/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/drivers/idrac.rst'],1,cbd8f0def5e5aa837355237ba554bbd7c4788656,conf_molds,"The management interface for ``idrac-redfish`` supports: * updating firmware on nodes using a manual cleaning step. See :doc:`/admin/drivers/redfish` for more information on firmware update support. * updating system and getting its inventory using configuration molds. For more information see `Import and export configuration`_. Import and export configuration ------------------------------- The clean and deploy steps provided in this section allow to configure the system and collect the system inventory using configuration mold files. The introduction of this feature in the Wallaby release is experimental. These steps are: * ``export_configuration`` with the ``export_configuration_location`` input parameter to export the configuration from the existing system. * ``import_configuration`` with the ``import_configuration_location`` input parameter to import the existing configuration mold into the system. * ``import_export_configuration`` with the ``export_configuration_location`` and ``import_configuration_location`` input parameters. This step combines the previous two steps into one step that first imports existing configuration mold into system, then exports the resulting configuration. The input parameters provided include the URL where the configuration mold is to be stored after the export, or the reference location for an import. For more information on setting up storage and available options see `Storage setup`_. Configuration molds are JSON files that contain three top-level sections: ``bios``, ``raid`` and ``oem``. The following is an example of a configuration mold: .. code-block:: { ""bios"": { ""reset"": false, ""settings"": [ { ""name"": ""ProcVirtualization"", ""value"": ""Enabled"" }, { ""name"": ""MemTest"", ""value"": ""Disabled"" } ] } ""raid"": { ""create_nonroot_volumes"": true, ""create_root_volume"": true, ""delete_existing"": false, ""target_raid_config"": { ""logical_disks"": [ { ""size_gb"": 50, ""raid_level"": ""1+0"", ""controller"": ""RAID.Integrated.1-1"", ""volume_name"": ""root_volume"", ""is_root_volume"": true, ""physical_disks"": [ ""Disk.Bay.0:Encl.Int.0-1:RAID.Integrated.1-1"", ""Disk.Bay.1:Encl.Int.0-1:RAID.Integrated.1-1"" ] }, { ""size_gb"": 100, ""raid_level"": ""5"", ""controller"": ""RAID.Integrated.1-1"", ""volume_name"": ""data_volume"", ""physical_disks"": [ ""Disk.Bay.2:Encl.Int.0-1:RAID.Integrated.1-1"", ""Disk.Bay.3:Encl.Int.0-1:RAID.Integrated.1-1"", ""Disk.Bay.4:Encl.Int.0-1:RAID.Integrated.1-1"" ] } ] } } ""oem"": { ""interface"": ""idrac-redfish"", ""data"": { ""SystemConfiguration"": { ""Model"": ""PowerEdge R640"", ""ServiceTag"": ""8CY9Z99"", ""TimeStamp"": ""Fri Jun 26 08:43:15 2020"", ""Components"": [ { [...] ""FQDD"": ""NIC.Slot.1-1-1"", ""Attributes"": [ { ""Name"": ""BlnkLeds"", ""Value"": ""15"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VirtMacAddr"", ""Value"": ""00:00:00:00:00:00"", ""Set On Import"": ""False"", ""Comment"": ""Read and Write"" }, { ""Name"": ""VirtualizationMode"", ""Value"": ""NONE"", ""Set On Import"": ""True"", ""Comment"": ""Read and Write"" }, [...] ] } ] } } } In Wallaby, the OEM section is the only section that is supported. The OEM section uses the iDRAC Server Configuration Profile (SCP) and can be edited as necessary if it complies with the SCP. For more information about SCP and its capabilities, see SCP_Reference_Guide_. To replicate the system configuration to that of a similar system, perform the following steps: #. Configure a golden, or one to many, system. #. Use the ``export_configuration`` step to export the configuration to the wanted location. #. Adjust the exported configuration mold for other systems to replicate. For example, remove sections that do not need to be replicated such as iDRAC connection settings. The configuration mold can be accessed directly from the storage location. #. Import the selected configuration mold into the other systems using the ``import_configuration`` step. It is not mandatory to use ``export_configuration`` step to create a configuration mold. Upload the file to a designated storage location without using Ironic if it has been created manually or by other means. Storage setup ^^^^^^^^^^^^^ To start using these steps, configure the storage location. The settings can be found in the ``[molds]`` section. Configure the storage type from the ``[molds]storage`` setting. Currently, ``swift``, which is enabled by default, and ``http`` are supported. In the setup input parameters, the complete HTTP URL is used. This requires that the containers (for ``swift``) and the directories (for ``http``) are created beforehand, and that read/write access is configured accordingly. .. NOTE:: Use of TLS is strongly advised. This setup configuration allows a user to access these locations outside of Ironic to list, create, update, and delete the configuration molds. For more information see `Swift configuration`_ and `HTTP configuration`_. Swift configuration ~~~~~~~~~~~~~~~~~~~ To use Swift with configuration molds, #. Create the containers to be used for configuration mold storage. #. For Ironic Swift user that is configured in the ``[swift]`` section add read/write access to these containers. HTTP configuration ~~~~~~~~~~~~~~~~~~ To use HTTP server with configuration molds, #. Enable HTTP PUT support. #. Create the directory to be used for the configuration mold storage. #. Configure read/write access for HTTP Basic access authentication and provide user credentials in ``[molds]user`` and ``[molds]password`` fields. The HTTP web server does not support multitenancy and is intended to be used in a stand-alone Ironic, or single-tenant OpenStack environment. .. _SCP_Reference_Guide: http://ftp.dell.com/manuals/common/dellemc-server-config-profile-refguide.pdf",The management interface for ``idrac-redfish`` supports updating firmware on nodes using a manual cleaning step. See :doc:`/admin/drivers/redfish` for more information on firmware update support.,186,3
openstack%2Fskyline-console~master~Ib199a7c5eb54e1f30377af0349bca5959a1e54cc,openstack/skyline-console,master,Ib199a7c5eb54e1f30377af0349bca5959a1e54cc,feat: Update import && export,MERGED,2021-08-31 09:28:16.000000000,2021-08-31 14:23:24.000000000,2021-08-31 14:23:24.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-31 09:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/c0f768146ca7df0cd3ac1f6c46c2ac7c6d2bd59c', 'message': 'feat: Update import && export\n\n1. Update import with @ to relative path\n2. Update decorator export\n\nChange-Id: Ib199a7c5eb54e1f30377af0349bca5959a1e54cc\n'}, {'number': 2, 'created': '2021-08-31 09:47:17.000000000', 'files': ['src/pages/configuration/routes/index.js', 'src/components/Cards/NotFound/index.jsx', '.eslintrc', 'src/pages/compute/containers/Instance/actions/ExtendRootVolume.jsx', 'src/pages/compute/containers/Flavor/Other/index.jsx', 'src/pages/compute/containers/Flavor/Heterogeneous/index.jsx', 'src/pages/storage/containers/Volume/actions/ExtendVolume.jsx', 'src/pages/storage/containers/Volume/actions/CreateBackup.jsx', 'src/pages/compute/containers/Instance/Detail/SecurityGroup/index.jsx', 'src/pages/compute/containers/Instance/Detail/index.jsx', 'src/pages/management/routes/index.js', 'src/pages/base/containers/AdminOverview/components/VirtualResource.jsx', 'src/pages/network/containers/Topology/NodeCard.jsx', 'src/pages/identity/containers/Project/actions/Edit.jsx', 'src/pages/compute/containers/Hypervisors/Hypervisor/index.jsx', 'src/pages/network/containers/SecurityGroup/Detail/Rule/actions/Delete.jsx', 'src/pages/compute/containers/Instance/actions/Resize.jsx', 'src/pages/identity/containers/Project/actions/QuotaManager.jsx', 'src/pages/compute/containers/HostAggregate/Aggregate/actions/Create.jsx', 'src/pages/identity/containers/Project/actions/Create.jsx', 'src/pages/identity/containers/Project/actions/UserGroupManager.jsx', 'src/pages/network/containers/Router/actions/Create.jsx', 'src/pages/storage/containers/Volume/actions/Create/index.jsx', 'src/pages/compute/containers/Instance/actions/AttachIsoVolume.jsx', 'src/pages/network/containers/SecurityGroup/Detail/index.jsx', 'src/pages/network/containers/VPN/EndpointGroup/actions/Create.js', 'src/pages/identity/containers/Project/Detail/index.jsx', 'src/pages/compute/containers/Flavor/X86/index.jsx', 'src/pages/compute/containers/Instance/actions/RebuildSelect.jsx', 'src/pages/network/containers/Router/index.jsx', 'src/client/client/request.js', 'src/pages/compute/containers/Instance/actions/CreateSnapshot.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/NetworkStep/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/ConfirmStep/index.jsx', 'src/pages/heat/routes/index.js', 'src/pages/network/containers/FloatingIp/actions/Edit.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/BaseStep/index.jsx', 'src/pages/base/containers/AdminOverview/components/PlatformInfo.jsx', 'src/pages/compute/containers/Flavor/Arm/index.jsx', 'src/pages/compute/containers/Image/Detail/index.jsx', 'src/pages/compute/containers/Instance/actions/DetachIsoVolume.jsx', 'src/pages/heat/containers/Stack/Detail/Resource.jsx', 'src/pages/base/containers/Overview/components/ProjectInfo.jsx', 'src/pages/identity/containers/User/index.jsx', 'src/pages/network/containers/Topology/InstanceCard.jsx', 'src/pages/network/containers/Topology/index.jsx', 'src/pages/compute/routes/index.js', 'src/pages/heat/containers/Stack/Detail/index.jsx', 'src/pages/network/containers/QoSPolicy/SharedQoSPolicy.js', 'src/pages/compute/containers/Image/actions/CreateVolume.jsx', 'src/pages/compute/containers/Instance/actions/ResizeOnline.jsx', 'src/pages/network/containers/FloatingIp/Detail/BaseDetail.jsx', 'src/pages/network/containers/FloatingIp/actions/Allocate.jsx', 'src/pages/compute/containers/Instance/actions/DetachVolume.jsx', 'src/pages/configuration/containers/SystemInfo/NeutronAgent/Detail/Network/actions/Add.jsx', 'src/pages/network/containers/QoSPolicy/AdminQoSPolicy.js', 'src/pages/storage/containers/Volume/Detail/index.jsx', 'src/pages/identity/containers/User/actions/Edit.jsx', 'src/pages/storage/containers/Volume/actions/CreateImage.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/ConfirmStep/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/NetworkStep/index.jsx', 'src/pages/compute/containers/Instance/actions/AttachVolume.jsx', 'src/pages/identity/containers/Role/Detail/index.jsx', 'src/core/routes.js', 'src/pages/base/containers/Overview/components/QuotaOverview.jsx', 'src/pages/compute/containers/Hypervisors/Hypervisor/Detail/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/index.jsx', 'src/pages/compute/containers/Flavor/actions/StepCreate/ParamSetting.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/SystemStep/index.jsx', 'src/pages/compute/containers/Instance/components/FlavorSelectTable.jsx', 'src/pages/network/containers/Router/Detail/BaseDetail.jsx', 'src/pages/network/routes/index.js', 'src/pages/compute/containers/Image/Detail/BaseDetail.jsx', 'src/components/Notify/index.jsx', 'src/pages/identity/containers/User/actions/Create.jsx', 'src/pages/network/containers/Router/Detail/index.jsx', 'src/pages/identity/containers/User/actionsInDomain/Create.jsx', 'src/pages/compute/containers/Instance/Detail/BaseDetail/index.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/SystemStep/index.jsx', 'src/pages/storage/routes/index.js', 'src/pages/identity/routes/index.js', 'src/pages/storage/containers/Volume/Detail/BaseDetail.jsx', 'src/pages/base/routes/index.js', 'src/pages/compute/containers/Image/actions/Create.jsx', 'src/pages/base/containers/AdminOverview/components/ResourceOverview.jsx', 'src/pages/network/containers/QoSPolicy/ProjectQoSPolicy.js', 'src/pages/compute/containers/Instance/actions/CreateIronic/BaseStep/index.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/index.jsx', 'src/pages/auth/routes/index.js', 'src/pages/identity/containers/User/actions/SystemRole.jsx', 'src/pages/storage/containers/Volume/actions/ChangeType.jsx', 'src/pages/identity/containers/Project/actions/UserManager.jsx', 'src/pages/identity/containers/User/Detail/index.jsx', 'src/pages/compute/containers/Flavor/BareMetal/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/73e352c4d542ae9721a92518017a69226568ff30', 'message': 'feat: Update import && export\n\n1. Update import with @ to relative path\n2. Update decorator export\n\nChange-Id: Ib199a7c5eb54e1f30377af0349bca5959a1e54cc\n'}]",0,806714,73e352c4d542ae9721a92518017a69226568ff30,8,2,2,30434,,,0,"feat: Update import && export

1. Update import with @ to relative path
2. Update decorator export

Change-Id: Ib199a7c5eb54e1f30377af0349bca5959a1e54cc
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/14/806714/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/configuration/routes/index.js', 'src/components/Cards/NotFound/index.jsx', '.eslintrc', 'src/pages/compute/containers/Instance/actions/ExtendRootVolume.jsx', 'src/pages/compute/containers/Flavor/Other/index.jsx', 'src/pages/compute/containers/Flavor/Heterogeneous/index.jsx', 'src/pages/storage/containers/Volume/actions/ExtendVolume.jsx', 'src/pages/storage/containers/Volume/actions/CreateBackup.jsx', 'src/pages/compute/containers/Instance/Detail/SecurityGroup/index.jsx', 'src/pages/compute/containers/Instance/Detail/index.jsx', 'src/pages/management/routes/index.js', 'src/pages/base/containers/AdminOverview/components/VirtualResource.jsx', 'src/pages/network/containers/Topology/NodeCard.jsx', 'src/pages/identity/containers/Project/actions/Edit.jsx', 'src/pages/compute/containers/Hypervisors/Hypervisor/index.jsx', 'src/pages/network/containers/SecurityGroup/Detail/Rule/actions/Delete.jsx', 'src/pages/compute/containers/Instance/actions/Resize.jsx', 'src/pages/identity/containers/Project/actions/QuotaManager.jsx', 'src/pages/compute/containers/HostAggregate/Aggregate/actions/Create.jsx', 'src/pages/identity/containers/Project/actions/Create.jsx', 'src/pages/identity/containers/Project/actions/UserGroupManager.jsx', 'src/pages/network/containers/Router/actions/Create.jsx', 'src/pages/storage/containers/Volume/actions/Create/index.jsx', 'src/pages/compute/containers/Instance/actions/AttachIsoVolume.jsx', 'src/pages/network/containers/SecurityGroup/Detail/index.jsx', 'src/pages/network/containers/VPN/EndpointGroup/actions/Create.js', 'src/pages/identity/containers/Project/Detail/index.jsx', 'src/pages/compute/containers/Flavor/X86/index.jsx', 'src/pages/compute/containers/Instance/actions/RebuildSelect.jsx', 'src/pages/network/containers/Router/index.jsx', 'src/client/client/request.js', 'src/pages/compute/containers/Instance/actions/CreateSnapshot.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/NetworkStep/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/ConfirmStep/index.jsx', 'src/pages/heat/routes/index.js', 'src/pages/network/containers/FloatingIp/actions/Edit.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/BaseStep/index.jsx', 'src/pages/base/containers/AdminOverview/components/PlatformInfo.jsx', 'src/pages/compute/containers/Flavor/Arm/index.jsx', 'src/pages/compute/containers/Image/Detail/index.jsx', 'src/pages/compute/containers/Instance/actions/DetachIsoVolume.jsx', 'src/pages/heat/containers/Stack/Detail/Resource.jsx', 'src/pages/base/containers/Overview/components/ProjectInfo.jsx', 'src/pages/identity/containers/User/index.jsx', 'src/pages/network/containers/Topology/InstanceCard.jsx', 'src/pages/network/containers/Topology/index.jsx', 'src/pages/compute/routes/index.js', 'src/pages/heat/containers/Stack/Detail/index.jsx', 'src/pages/network/containers/QoSPolicy/SharedQoSPolicy.js', 'src/pages/compute/containers/Image/actions/CreateVolume.jsx', 'src/pages/compute/containers/Instance/actions/ResizeOnline.jsx', 'src/pages/network/containers/FloatingIp/Detail/BaseDetail.jsx', 'src/pages/network/containers/FloatingIp/actions/Allocate.jsx', 'src/pages/compute/containers/Instance/actions/DetachVolume.jsx', 'src/pages/configuration/containers/SystemInfo/NeutronAgent/Detail/Network/actions/Add.jsx', 'src/pages/network/containers/QoSPolicy/AdminQoSPolicy.js', 'src/pages/storage/containers/Volume/Detail/index.jsx', 'src/pages/identity/containers/User/actions/Edit.jsx', 'src/pages/storage/containers/Volume/actions/CreateImage.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/ConfirmStep/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/NetworkStep/index.jsx', 'src/pages/compute/containers/Instance/actions/AttachVolume.jsx', 'src/pages/identity/containers/Role/Detail/index.jsx', 'src/core/routes.js', 'src/pages/base/containers/Overview/components/QuotaOverview.jsx', 'src/pages/compute/containers/Hypervisors/Hypervisor/Detail/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/index.jsx', 'src/pages/compute/containers/Flavor/actions/StepCreate/ParamSetting.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/SystemStep/index.jsx', 'src/pages/compute/containers/Instance/components/FlavorSelectTable.jsx', 'src/pages/network/containers/Router/Detail/BaseDetail.jsx', 'src/pages/network/routes/index.js', 'src/pages/compute/containers/Image/Detail/BaseDetail.jsx', 'src/components/Notify/index.jsx', 'src/pages/identity/containers/User/actions/Create.jsx', 'src/pages/network/containers/Router/Detail/index.jsx', 'src/pages/identity/containers/User/actionsInDomain/Create.jsx', 'src/pages/compute/containers/Instance/Detail/BaseDetail/index.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/SystemStep/index.jsx', 'src/pages/storage/routes/index.js', 'src/pages/identity/routes/index.js', 'src/pages/storage/containers/Volume/Detail/BaseDetail.jsx', 'src/pages/base/routes/index.js', 'src/pages/compute/containers/Image/actions/Create.jsx', 'src/pages/base/containers/AdminOverview/components/ResourceOverview.jsx', 'src/pages/network/containers/QoSPolicy/ProjectQoSPolicy.js', 'src/pages/compute/containers/Instance/actions/CreateIronic/BaseStep/index.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/index.jsx', 'src/pages/auth/routes/index.js', 'src/pages/identity/containers/User/actions/SystemRole.jsx', 'src/pages/storage/containers/Volume/actions/ChangeType.jsx', 'src/pages/identity/containers/Project/actions/UserManager.jsx', 'src/pages/identity/containers/User/Detail/index.jsx', 'src/pages/compute/containers/Flavor/BareMetal/index.jsx']",94,c0f768146ca7df0cd3ac1f6c46c2ac7c6d2bd59c,master2,export class Flavor extends Base { export default inject('rootStore')(observer(Flavor));,@inject('rootStore') @observer export default class Flavor extends Base {,225,241
openstack%2Fnova~master~I8ade8f7ef1445cb62170badb9552b32a5d6afcac,openstack/nova,master,I8ade8f7ef1445cb62170badb9552b32a5d6afcac,Admin auth token to call Cyborg API by Nova,NEW,2020-07-02 10:34:39.000000000,2021-08-31 14:22:42.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 26458}, {'_account_id': 29963}, {'_account_id': 30623}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-02 10:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/34fc6f1cf62b9f5529d4100468edd93636b35971', 'message': 'Admin auth token to call Cyborg API by Nova\n\nChange-Id: I8ade8f7ef1445cb62170badb9552b32a5d6afcac\n'}, {'number': 2, 'created': '2020-07-03 11:48:29.000000000', 'files': ['nova/tests/unit/compute/test_compute.py', 'nova/conf/cyborg.py', 'nova/tests/unit/accelerator/test_cyborg.py', 'nova/accelerator/cyborg.py', 'nova/tests/unit/compute/test_compute_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c138c9b61830527ef3be3fab997a1a46c4d83bfb', 'message': 'Admin auth token to call Cyborg API by Nova\n\nChange-Id: I8ade8f7ef1445cb62170badb9552b32a5d6afcac\n'}]",1,739011,c138c9b61830527ef3be3fab997a1a46c4d83bfb,18,11,2,31412,,,0,"Admin auth token to call Cyborg API by Nova

Change-Id: I8ade8f7ef1445cb62170badb9552b32a5d6afcac
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/739011/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/accelerator/cyborg.py'],1,34fc6f1cf62b9f5529d4100468edd93636b35971,cyborg-admin-auth-token,"from keystoneauth1 import loading as ks_loading import nova.confCONF = nova.conf.CONF _ADMIN_AUTH = None _SESSION = Nonedef _load_auth_plugin(conf): auth_plugin = ks_loading.load_auth_from_conf_options( conf, nova.conf.cyborg.cyborg_group.name) if auth_plugin: return auth_plugin if conf.cyborg.auth_type is None: LOG.error('The [cyborg] section of your nova configuration file ' 'must be configured for authentication with the ' 'accelerator service endpoint.') err_msg = _('Unknown auth type: %s') % conf.cyborg.auth_type raise exception.Unauthorized(401, message=err_msg) def _get_auth(context): global _ADMIN_AUTH # NOTE(songwenping): Auth token is none when call # cyborg API from compute event handler, context # from them generated from 'context.get_admin_context' # which only set is_admin=True but is without token. # So add load_auth_plugin when this condition appear. if context.is_admin and not context.auth_token: if not _ADMIN_AUTH: _ADMIN_AUTH = _load_auth_plugin(CONF) return _ADMIN_AUTH else: return service_auth.get_auth_plugin(context) auth = _get_auth(context)", auth = service_auth.get_auth_plugin(context),38,1
openstack%2Fcharm-ceph-radosgw~master~I185a2b1296c84c5e659b61a08b3e1aa29457d108,openstack/charm-ceph-radosgw,master,I185a2b1296c84c5e659b61a08b3e1aa29457d108,Don't overwrite fsid value with None,ABANDONED,2021-08-31 02:16:54.000000000,2021-08-31 14:20:40.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-31 02:16:54.000000000', 'files': ['unit_tests/test_ceph_radosgw_context.py', 'hooks/ceph_radosgw_context.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/5128b743481eab2b8b5601734f5cded75fecce86', 'message': ""Don't overwrite fsid value with None\n\nThere is a bit of a race in the ceph-mon charm when bootstrapping the\nmons and ceph OSDs. If the mon cluster does not join by the time the\nradosgw relation joined/changed hook is executed on the ceph-mon, then\nonly the leader will set the fsid information. This causes only the\nleader ceph-mon unit to provide the fsid on the relation. If the leader\nunit is not the last unit, then the MonContext will overwrite the\ncurrent fsid with a None value causing the relation to be incomplete.\n\nThis change addresses that by not overwriting the fsid value within the\nMonitorContext() once it is set to a truthy value.\n\nChange-Id: I185a2b1296c84c5e659b61a08b3e1aa29457d108\nCloses-Bug: #1937287\n""}]",0,806661,5128b743481eab2b8b5601734f5cded75fecce86,6,2,1,8992,,,0,"Don't overwrite fsid value with None

There is a bit of a race in the ceph-mon charm when bootstrapping the
mons and ceph OSDs. If the mon cluster does not join by the time the
radosgw relation joined/changed hook is executed on the ceph-mon, then
only the leader will set the fsid information. This causes only the
leader ceph-mon unit to provide the fsid on the relation. If the leader
unit is not the last unit, then the MonContext will overwrite the
current fsid with a None value causing the relation to be incomplete.

This change addresses that by not overwriting the fsid value within the
MonitorContext() once it is set to a truthy value.

Change-Id: I185a2b1296c84c5e659b61a08b3e1aa29457d108
Closes-Bug: #1937287
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/61/806661/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_ceph_radosgw_context.py', 'hooks/ceph_radosgw_context.py']",2,5128b743481eab2b8b5601734f5cded75fecce86,bug/1937287," unit_fsid = relation_get('fsid', rid=rid, unit=unit) if unit_fsid: fsid = unit_fsid"," fsid = relation_get('fsid', rid=rid, unit=unit)",45,1
openstack%2Fheat-cfnclient~master~Ib4f5ffe86221b0c97c6839f6b69ddae17b2b47c1,openstack/heat-cfnclient,master,Ib4f5ffe86221b0c97c6839f6b69ddae17b2b47c1,Migrate from testr to stestr,MERGED,2021-05-17 16:08:04.000000000,2021-08-31 14:14:52.000000000,2021-08-31 14:14:52.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-05-17 16:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-cfnclient/commit/93b9268f158e4c3c312fe5244ab9dfadb2fa99c6', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore and test-requirements.txt files accordingly\n* Use py3 as the default runtime for tox and 3.18.0 as the\n  minversion for tox\n* Add a new job, openstack-cover-jobs, to run the coverage in Zuul\n* Create cover environment in tox and make relevant changes\n  in .gitignore\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: Ib4f5ffe86221b0c97c6839f6b69ddae17b2b47c1\n'}, {'number': 2, 'created': '2021-06-01 02:47:23.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.zuul.yaml', '.testr.conf', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/heat-cfnclient/commit/20ecaf34bbf3024653d23a1449ac794789f39712', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore and test-requirements.txt files accordingly\n* Use py3 as the default runtime for tox and 3.18.0 as the\n  minversion for tox\n* Add a new job, openstack-cover-jobs, to run the coverage in Zuul\n* Create cover environment in tox and make relevant changes\n  in .gitignore\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: Ib4f5ffe86221b0c97c6839f6b69ddae17b2b47c1\n'}]",0,791799,20ecaf34bbf3024653d23a1449ac794789f39712,12,4,2,33370,,,0,"Migrate from testr to stestr

* Replace .testr.conf by .stestr.conf for migration and update
  .gitignore and test-requirements.txt files accordingly
* Use py3 as the default runtime for tox and 3.18.0 as the
  minversion for tox
* Add a new job, openstack-cover-jobs, to run the coverage in Zuul
* Create cover environment in tox and make relevant changes
  in .gitignore

Signed-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>
Change-Id: Ib4f5ffe86221b0c97c6839f6b69ddae17b2b47c1
",git fetch https://review.opendev.org/openstack/heat-cfnclient refs/changes/99/791799/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', '.zuul.yaml', 'tox.ini', '.stestr.conf']",6,93b9268f158e4c3c312fe5244ab9dfadb2fa99c6,change-791799-1,[DEFAULT] test_path=./heat_cfnclient/tests/ top_dir=./ ,,45,20
openstack%2Fkolla-ansible~stable%2Fvictoria~I584a83d352c747a799b5dab1d3b8159ba3805454,openstack/kolla-ansible,stable/victoria,I584a83d352c747a799b5dab1d3b8159ba3805454,Fix Masakari in multi-region deploys,MERGED,2021-08-27 09:37:06.000000000,2021-08-31 14:08:50.000000000,2021-08-31 14:06:04.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-08-27 09:37:06.000000000', 'files': ['releasenotes/notes/bug-1939291-bf2e405d286e4b07.yaml', 'ansible/roles/masakari/templates/masakari.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/83d300fc5c73b52189c6cf55700acf845c60ef6f', 'message': 'Fix Masakari in multi-region deploys\n\nto behave like it is most commonly expected - query Nova in the\nsame region.\n\nCloses-Bug: #1939291\nChange-Id: I584a83d352c747a799b5dab1d3b8159ba3805454\n(cherry picked from commit 3c68e8258580a5d596ba29ad8b92926956f4ba81)\n'}]",0,806223,83d300fc5c73b52189c6cf55700acf845c60ef6f,9,3,1,30491,,,0,"Fix Masakari in multi-region deploys

to behave like it is most commonly expected - query Nova in the
same region.

Closes-Bug: #1939291
Change-Id: I584a83d352c747a799b5dab1d3b8159ba3805454
(cherry picked from commit 3c68e8258580a5d596ba29ad8b92926956f4ba81)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/23/806223/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1939291-bf2e405d286e4b07.yaml', 'ansible/roles/masakari/templates/masakari.conf.j2']",2,83d300fc5c73b52189c6cf55700acf845c60ef6f,bug/1939291-stable/wallaby-stable/victoria,os_region_name = {{ openstack_region_name }},,7,0
openstack%2Fkolla-ansible~stable%2Fwallaby~I584a83d352c747a799b5dab1d3b8159ba3805454,openstack/kolla-ansible,stable/wallaby,I584a83d352c747a799b5dab1d3b8159ba3805454,Fix Masakari in multi-region deploys,MERGED,2021-08-27 09:36:58.000000000,2021-08-31 14:08:41.000000000,2021-08-31 14:06:06.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-08-27 09:36:58.000000000', 'files': ['releasenotes/notes/bug-1939291-bf2e405d286e4b07.yaml', 'ansible/roles/masakari/templates/masakari.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ff9b8efc8b128b7eef93679a7f568e85f8e792e6', 'message': 'Fix Masakari in multi-region deploys\n\nto behave like it is most commonly expected - query Nova in the\nsame region.\n\nCloses-Bug: #1939291\nChange-Id: I584a83d352c747a799b5dab1d3b8159ba3805454\n(cherry picked from commit 3c68e8258580a5d596ba29ad8b92926956f4ba81)\n'}]",0,806222,ff9b8efc8b128b7eef93679a7f568e85f8e792e6,9,3,1,30491,,,0,"Fix Masakari in multi-region deploys

to behave like it is most commonly expected - query Nova in the
same region.

Closes-Bug: #1939291
Change-Id: I584a83d352c747a799b5dab1d3b8159ba3805454
(cherry picked from commit 3c68e8258580a5d596ba29ad8b92926956f4ba81)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/22/806222/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1939291-bf2e405d286e4b07.yaml', 'ansible/roles/masakari/templates/masakari.conf.j2']",2,ff9b8efc8b128b7eef93679a7f568e85f8e792e6,bug/1939291-stable/wallaby,os_region_name = {{ openstack_region_name }},,7,0
openstack%2Fpuppet-ironic~master~Ia456fcea46c44c23d8c99fbf3bb59b63180a28f2,openstack/puppet-ironic,master,Ia456fcea46c44c23d8c99fbf3bb59b63180a28f2,Deprecate bifrost support,MERGED,2021-08-26 23:20:57.000000000,2021-08-31 14:08:09.000000000,2021-08-31 14:05:33.000000000,"[{'_account_id': 9816}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 23:20:57.000000000', 'files': ['manifests/bifrost.pp', 'releasenotes/notes/deprecates-bifrost-support-816bc270574ac32d.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/78f7e9efb78df73b703263d8dd238a0f614c604a', 'message': 'Deprecate bifrost support\n\nMy downstream team does not maintain this and the settings\nwhich are embedded and encoded in puppet-ironic are incorrect\nand no longer match the current state of Bifrost as an independent\nsub-project of ironic.\n\nGiven this state, and the fact it is largely independent tooling\nwhich duplicates much of puppet-ironic, it does not make sense to\nmaintain, and is thus deprecated.\n\nChange-Id: Ia456fcea46c44c23d8c99fbf3bb59b63180a28f2\n'}]",0,806285,78f7e9efb78df73b703263d8dd238a0f614c604a,9,3,1,11655,,,0,"Deprecate bifrost support

My downstream team does not maintain this and the settings
which are embedded and encoded in puppet-ironic are incorrect
and no longer match the current state of Bifrost as an independent
sub-project of ironic.

Given this state, and the fact it is largely independent tooling
which duplicates much of puppet-ironic, it does not make sense to
maintain, and is thus deprecated.

Change-Id: Ia456fcea46c44c23d8c99fbf3bb59b63180a28f2
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/85/806285/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/bifrost.pp', 'releasenotes/notes/deprecates-bifrost-support-816bc270574ac32d.yaml']",2,78f7e9efb78df73b703263d8dd238a0f614c604a,,"--- deprecations: - | Deprecates integration for Ironic's Bifrost sub-project. Bifrost serves a similar purpose as puppet-ironic, in so much as the embedded configuration lags behind and ultimately is no longer appropriate for a bifrost deployment. If you wish to deploy bifrost, please make use of the bifrost-cli tool or Ansible playbooks noted in `Bifrost's documentation <https://docs.openstack.org/bifrost/latest/>`_. ",,15,1
openstack%2Freleases~master~I11cf79b97252ee282ecc7dbe5b120be2d466835f,openstack/releases,master,I11cf79b97252ee282ecc7dbe5b120be2d466835f,[Quality Assurance] Transition Ocata to End of Life,MERGED,2021-08-12 18:23:40.000000000,2021-08-31 14:05:58.000000000,2021-08-31 14:05:58.000000000,"[{'_account_id': 8556}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-12 18:23:40.000000000', 'files': ['deliverables/ocata/grenade.yaml', 'deliverables/ocata/devstack.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fa2cef610123ee7b921f9508c23b8f7f9073b2d3', 'message': ""[Quality Assurance] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I11cf79b97252ee282ecc7dbe5b120be2d466835f\n""}]",0,804428,fa2cef610123ee7b921f9508c23b8f7f9073b2d3,10,5,1,17685,,,0,"[Quality Assurance] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I11cf79b97252ee282ecc7dbe5b120be2d466835f
",git fetch https://review.opendev.org/openstack/releases refs/changes/28/804428/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/grenade.yaml', 'deliverables/ocata/devstack.yaml']",2,fa2cef610123ee7b921f9508c23b8f7f9073b2d3,ocata-eol,--- launchpad: devstack release-model: untagged team: 'Quality Assurance' type: other stable-branch-type: tagless releases: - version: ocata-eol projects: - repo: openstack/devstack hash: 4a6a717a15e61e289b84953bbb4db9a10bcbf636 repository-settings: openstack/devstack: {} ,,27,0
openstack%2Freleases~master~I3199ca54b0dc88ae6f29bd5733f88dd52f6fa851,openstack/releases,master,I3199ca54b0dc88ae6f29bd5733f88dd52f6fa851,Release barbican for stable/ussuri,MERGED,2021-07-23 15:27:17.000000000,2021-08-31 14:05:55.000000000,2021-08-31 14:05:55.000000000,"[{'_account_id': 7973}, {'_account_id': 11561}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-23 15:27:17.000000000', 'files': ['deliverables/ussuri/barbican.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/665b4497778e2ae2917ee9e25531cb79a001fb39', 'message': 'Release barbican for stable/ussuri\n\nThis release picks up new commits to barbican since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 10.0.0..7cf483e2\n7cf483e2 Allow multiple token labels for PKCS#11 driver\n475074a4 Fix PKCS#11 reinitialization after failure\n87822c14 Use system locks in pkcs11 library\n35f13677 Drop lower-constraints job to unblock gate\n48ea3222 Use barbican.conf in barbican-manage\n1e2a1271 Use serial number or label for PKCS#11 tokens\nc34591cd Rebase alembic migrations\n5214aecc Update TOX_CONSTRAINTS_FILE for stable/ussuri\n0c891b74 Update .gitreview for stable/ussuri\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I3199ca54b0dc88ae6f29bd5733f88dd52f6fa851\n'}]",0,802040,665b4497778e2ae2917ee9e25531cb79a001fb39,10,5,1,17685,,,0,"Release barbican for stable/ussuri

This release picks up new commits to barbican since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 10.0.0..7cf483e2
7cf483e2 Allow multiple token labels for PKCS#11 driver
475074a4 Fix PKCS#11 reinitialization after failure
87822c14 Use system locks in pkcs11 library
35f13677 Drop lower-constraints job to unblock gate
48ea3222 Use barbican.conf in barbican-manage
1e2a1271 Use serial number or label for PKCS#11 tokens
c34591cd Rebase alembic migrations
5214aecc Update TOX_CONSTRAINTS_FILE for stable/ussuri
0c891b74 Update .gitreview for stable/ussuri

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I3199ca54b0dc88ae6f29bd5733f88dd52f6fa851
",git fetch https://review.opendev.org/openstack/releases refs/changes/40/802040/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/barbican.yaml'],1,665b4497778e2ae2917ee9e25531cb79a001fb39,ussuri-stable, - version: 10.1.0 projects: - repo: openstack/barbican hash: 7cf483e205736483b4999abfe4baf6f626fff862,,4,0
openstack%2Fironic~master~I7711c60152f84955be283480140720026eef3e76,openstack/ironic,master,I7711c60152f84955be283480140720026eef3e76,Keylime attestation interface,ABANDONED,2021-08-04 21:04:23.000000000,2021-08-31 14:04:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-04 21:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f4b97b1b8e3d787529231d7f4678d31c46cac619', 'message': 'Keylime attestation interface\n\nAdds support for the Keylime attestation interface.\nDepends on https://review.opendev.org/c/openstack/ironic/+/755836\n\nChange-Id: I7711c60152f84955be283480140720026eef3e76\n'}, {'number': 2, 'created': '2021-08-18 18:40:08.000000000', 'files': ['ironic/drivers/modules/attestation/keylime.py', 'releasenotes/notes/add-keylime-attestation-interface-abf7fe2f72209d02.yaml', 'ironic/tests/unit/drivers/modules/attestation/test_keylime.py', 'ironic/tests/unit/common/test_swift.py', 'ironic/common/exception.py', 'ironic/drivers/modules/agent_client.py', 'ironic/drivers/modules/attestation/__init__.py', 'ironic/tests/unit/db/utils.py', 'ironic/common/swift.py', 'ironic/tests/unit/drivers/modules/attestation/__init__.py', 'ironic/conf/default.py', 'setup.cfg', 'ironic/tests/unit/drivers/modules/test_agent_client.py', 'ironic/drivers/generic.py', 'ironic/tests/unit/drivers/test_generic.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/208ce33aaae470f615a8660caf06007c21081b31', 'message': 'Keylime attestation interface\n\nAdds support for the Keylime attestation interface.\nDepends on https://review.opendev.org/c/openstack/ironic/+/755836\n\nChange-Id: I7711c60152f84955be283480140720026eef3e76\n'}]",0,803517,208ce33aaae470f615a8660caf06007c21081b31,12,1,2,32454,,,0,"Keylime attestation interface

Adds support for the Keylime attestation interface.
Depends on https://review.opendev.org/c/openstack/ironic/+/755836

Change-Id: I7711c60152f84955be283480140720026eef3e76
",git fetch https://review.opendev.org/openstack/ironic refs/changes/17/803517/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/attestation/keylime.py', 'releasenotes/notes/add-keylime-attestation-interface-abf7fe2f72209d02.yaml', 'ironic/tests/unit/drivers/modules/attestation/test_keylime.py', 'ironic/common/exception.py', 'ironic/drivers/modules/agent_client.py', 'ironic/drivers/modules/attestation/__init__.py', 'ironic/tests/unit/db/utils.py', 'ironic/tests/unit/drivers/modules/attestation/__init__.py', 'ironic/conf/default.py', 'setup.cfg', 'ironic/tests/unit/drivers/modules/test_agent_client.py', 'ironic/drivers/generic.py', 'ironic/tests/unit/drivers/test_generic.py']",13,f4b97b1b8e3d787529231d7f4678d31c46cac619,bp/keylime-attestation-interface,"from ironic.drivers.modules.attestation import keylime self.assertIsInstance(task.driver.attestation, noop.NoAttestation) enabled_raid_interfaces=['agent'], enabled_attestation_interfaces=['keylime']) self.assertIsInstance(task.driver.attestation, keylime.KeylimeAttestation)", enabled_raid_interfaces=['agent']),432,4
openstack%2Fpython-senlinclient~master~Ide2b93fb81cdb25cfdfe21d964c2536834f155f6,openstack/python-senlinclient,master,Ide2b93fb81cdb25cfdfe21d964c2536834f155f6,Remove the unused coding style modules,ABANDONED,2020-10-21 16:02:28.000000000,2021-08-31 13:59:09.000000000,,"[{'_account_id': 22348}, {'_account_id': 32231}]","[{'number': 1, 'created': '2020-10-21 16:02:28.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/08190953c66dc6747138972ebede66baf8cb3e1e', 'message': 'Remove the unused coding style modules\n\nPython modules related to coding style checks (listed in blacklist.txt in\nopenstack/requirements repo) are dropped from lower-constraints.txt\nthey are not needed during installation.\n\nChange-Id: Ide2b93fb81cdb25cfdfe21d964c2536834f155f6\n'}]",0,759095,08190953c66dc6747138972ebede66baf8cb3e1e,4,2,1,26285,,,0,"Remove the unused coding style modules

Python modules related to coding style checks (listed in blacklist.txt in
openstack/requirements repo) are dropped from lower-constraints.txt
they are not needed during installation.

Change-Id: Ide2b93fb81cdb25cfdfe21d964c2536834f155f6
",git fetch https://review.opendev.org/openstack/python-senlinclient refs/changes/95/759095/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,08190953c66dc6747138972ebede66baf8cb3e1e,,,flake8==2.5.5hacking==0.12.0mccabe==0.2.1pyflakes==0.8.1,0,4
openstack%2Fneutron-tempest-plugin~master~Iad6fdfb3ebe7b5cafd8a1ee00724408abd7c17ff,openstack/neutron-tempest-plugin,master,Iad6fdfb3ebe7b5cafd8a1ee00724408abd7c17ff,"Use default ""ds512M"" advance image in older stable branches",MERGED,2021-08-26 08:59:08.000000000,2021-08-31 13:54:11.000000000,2021-08-31 13:54:11.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 08:59:08.000000000', 'files': ['zuul.d/queens_jobs.yaml', 'zuul.d/stein_jobs.yaml', 'zuul.d/train_jobs.yaml', 'zuul.d/rocky_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/0910d49e3e231e52fc956afaafcc2ed329ad8191', 'message': 'Use default ""ds512M"" advance image in older stable branches\n\nThose branches are not affected by the related bug. Furthermore,\nthose branches override the neutron-tempest-plugin version with an\nolder one that does not implement the method\n""create_flavor_for_advance_image"". This method is used to create a\nspecific flavor used in the CI tests.\n\nChange-Id: Iad6fdfb3ebe7b5cafd8a1ee00724408abd7c17ff\nRelated-Bug: #1940243\n'}]",0,806119,0910d49e3e231e52fc956afaafcc2ed329ad8191,33,4,1,16688,,,0,"Use default ""ds512M"" advance image in older stable branches

Those branches are not affected by the related bug. Furthermore,
those branches override the neutron-tempest-plugin version with an
older one that does not implement the method
""create_flavor_for_advance_image"". This method is used to create a
specific flavor used in the CI tests.

Change-Id: Iad6fdfb3ebe7b5cafd8a1ee00724408abd7c17ff
Related-Bug: #1940243
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/19/806119/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/queens_jobs.yaml', 'zuul.d/stein_jobs.yaml', 'zuul.d/train_jobs.yaml', 'zuul.d/rocky_jobs.yaml']",4,0910d49e3e231e52fc956afaafcc2ed329ad8191,bug/1940243, ADVANCED_INSTANCE_TYPE: ds512M ADVANCED_INSTANCE_TYPE: ds512M ADVANCED_INSTANCE_TYPE: ds512M ADVANCED_INSTANCE_TYPE: ds512M ADVANCED_INSTANCE_TYPE: ds512M ADVANCED_INSTANCE_TYPE: ds512M,,14,0
openstack%2Fnova~master~I0bb93ab0952204e06a50829c4a66b03bddb5be45,openstack/nova,master,I0bb93ab0952204e06a50829c4a66b03bddb5be45,Provide and use other RCs for mdevs if needed,MERGED,2021-08-02 16:42:48.000000000,2021-08-31 13:53:58.000000000,2021-08-31 13:44:47.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-02 16:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a4a43d9c97e48e8f4ff149a66fb4283fcbe57d9', 'message': 'Provide and use other RCs for mdevs if needed\n\nNow that we have helper methods for knowing which RC we should use\nfor a specific mdev-supported device, use those RCs for both the\nrelated inventories and for looking at the right allocations.\n\nChange-Id: I0bb93ab0952204e06a50829c4a66b03bddb5be45\nPartially-Implemented: blueprint generic-mdevs\n'}, {'number': 2, 'created': '2021-08-02 17:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff1a220fee9976f4e57441ec4c92ee238a13d480', 'message': 'Provide and use other RCs for mdevs if needed\n\nNow that we have helper methods for knowing which RC we should use\nfor a specific mdev-supported device, use those RCs for both the\nrelated inventories and for looking at the right allocations.\n\nChange-Id: I0bb93ab0952204e06a50829c4a66b03bddb5be45\nPartially-Implemented: blueprint generic-mdevs\n'}, {'number': 3, 'created': '2021-08-03 11:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d9a014de2e061c2036ddc8f25cf6000c909263a', 'message': 'Provide and use other RCs for mdevs if needed\n\nNow that we have helper methods for knowing which RC we should use\nfor a specific mdev-supported device, use those RCs for both the\nrelated inventories and for looking at the right allocations.\n\nNOTE(sbauza): Given we no longer provide VGPU resources to a root\nResource Provider since Ussuri, we don\'t need to support reshapes\nfor allocations that are ""generic mdevs"" in the root RP, hence the\nreshape methods not being modified.\n\nChange-Id: I0bb93ab0952204e06a50829c4a66b03bddb5be45\nPartially-Implemented: blueprint generic-mdevs\n'}, {'number': 4, 'created': '2021-08-03 16:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2be0a7215167330e95dffa4f63015da3fc8edb04', 'message': 'Provide and use other RCs for mdevs if needed\n\nNow that we have helper methods for knowing which RC we should use\nfor a specific mdev-supported device, use those RCs for both the\nrelated inventories and for looking at the right allocations.\n\nNOTE(sbauza): Given we no longer provide VGPU resources to a root\nResource Provider since Ussuri, we don\'t need to support reshapes\nfor allocations that are ""generic mdevs"" in the root RP, hence the\nreshape methods not being modified.\n\nChange-Id: I0bb93ab0952204e06a50829c4a66b03bddb5be45\nPartially-Implemented: blueprint generic-mdevs\n'}, {'number': 5, 'created': '2021-08-04 09:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d49e6888f11fef14f579e77230e8c269e4965946', 'message': 'Provide and use other RCs for mdevs if needed\n\nNow that we have helper methods for knowing which RC we should use\nfor a specific mdev-supported device, use those RCs for both the\nrelated inventories and for looking at the right allocations.\n\nNOTE(sbauza): Given we no longer provide VGPU resources to a root\nResource Provider since Ussuri, we don\'t need to support reshapes\nfor allocations that are ""generic mdevs"" in the root RP, hence the\nreshape methods not being modified.\n\nChange-Id: I0bb93ab0952204e06a50829c4a66b03bddb5be45\nPartially-Implemented: blueprint generic-mdevs\n'}, {'number': 6, 'created': '2021-08-05 09:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cefb65ca538d94180e4f6da463a129c511d6ac47', 'message': 'Provide and use other RCs for mdevs if needed\n\nNow that we have helper methods for knowing which RC we should use\nfor a specific mdev-supported device, use those RCs for both the\nrelated inventories and for looking at the right allocations.\n\nNOTE(sbauza): Given we no longer provide VGPU resources to a root\nResource Provider since Ussuri, we don\'t need to support reshapes\nfor allocations that are ""generic mdevs"" in the root RP, hence the\nreshape methods not being modified.\n\nChange-Id: I0bb93ab0952204e06a50829c4a66b03bddb5be45\nPartially-Implemented: blueprint generic-mdevs\n'}, {'number': 7, 'created': '2021-08-06 15:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb95568821ab91a774c2baf8663cd17a76380178', 'message': 'Provide and use other RCs for mdevs if needed\n\nNow that we have helper methods for knowing which RC we should use\nfor a specific mdev-supported device, use those RCs for both the\nrelated inventories and for looking at the right allocations.\n\nNOTE(sbauza): Given we no longer provide VGPU resources to a root\nResource Provider since Ussuri, we don\'t need to support reshapes\nfor allocations that are ""generic mdevs"" in the root RP, hence the\nreshape methods not being modified.\n\nChange-Id: I0bb93ab0952204e06a50829c4a66b03bddb5be45\nPartially-Implemented: blueprint generic-mdevs\n'}, {'number': 8, 'created': '2021-08-06 15:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3688a1f7d63dd66a44d2d388939bff8163068cf', 'message': 'Provide and use other RCs for mdevs if needed\n\nNow that we have helper methods for knowing which RC we should use\nfor a specific mdev-supported device, use those RCs for both the\nrelated inventories and for looking at the right allocations.\n\nNOTE(sbauza): Given we no longer provide VGPU resources to a root\nResource Provider since Ussuri, we don\'t need to support reshapes\nfor allocations that are ""generic mdevs"" in the root RP, hence the\nreshape methods not being modified.\n\nChange-Id: I0bb93ab0952204e06a50829c4a66b03bddb5be45\nPartially-Implemented: blueprint generic-mdevs\n'}, {'number': 9, 'created': '2021-08-27 14:19:51.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2b847085c8aa19a8fee9bed471e2b609482f67e7', 'message': 'Provide and use other RCs for mdevs if needed\n\nNow that we have helper methods for knowing which RC we should use\nfor a specific mdev-supported device, use those RCs for both the\nrelated inventories and for looking at the right allocations.\n\nNOTE(sbauza): Given we no longer provide VGPU resources to a root\nResource Provider since Ussuri, we don\'t need to support reshapes\nfor allocations that are ""generic mdevs"" in the root RP, hence the\nreshape methods not being modified.\n\nChange-Id: I0bb93ab0952204e06a50829c4a66b03bddb5be45\nPartially-Implemented: blueprint generic-mdevs\n'}]",47,803233,2b847085c8aa19a8fee9bed471e2b609482f67e7,70,5,9,7166,,,0,"Provide and use other RCs for mdevs if needed

Now that we have helper methods for knowing which RC we should use
for a specific mdev-supported device, use those RCs for both the
related inventories and for looking at the right allocations.

NOTE(sbauza): Given we no longer provide VGPU resources to a root
Resource Provider since Ussuri, we don't need to support reshapes
for allocations that are ""generic mdevs"" in the root RP, hence the
reshape methods not being modified.

Change-Id: I0bb93ab0952204e06a50829c4a66b03bddb5be45
Partially-Implemented: blueprint generic-mdevs
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/803233/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,7a4a43d9c97e48e8f4ff149a66fb4283fcbe57d9,bp/generic-mdevs," @mock.patch.object(libvirt_driver.LibvirtDriver, '_get_supported_mdev_resource_classes') def test_allocate_mdevs_with_available_mdevs(self, get_supported_mdev_rcs, get_unassigned_mdevs): get_supported_mdev_rcs.return_value = set([orc.VGPU]) @mock.patch.object(libvirt_driver.LibvirtDriver, '_get_supported_mdev_resource_classes') get_supported_mdev_rcs, get_supported_mdev_rcs.return_value = set([orc.VGPU]) @mock.patch.object(libvirt_driver.LibvirtDriver, '_get_supported_mdev_resource_classes') def test_allocate_mdevs_with_no_idea_of_the_provider( self, get_supported_mdev_rcs, mock_warning ): get_supported_mdev_rcs.return_value = set([orc.VGPU])"," def test_allocate_mdevs_with_available_mdevs(self, get_unassigned_mdevs): def test_allocate_mdevs_with_no_idea_of_the_provider(self, mock_warning):",27,10
openstack%2Fneutron~master~Ia7a96ff270c9defa782f02df8a58bd87c1853b52,openstack/neutron,master,Ia7a96ff270c9defa782f02df8a58bd87c1853b52,use payload for OVSDB_RESOURCE,MERGED,2021-08-20 14:44:48.000000000,2021-08-31 13:52:14.000000000,2021-08-31 13:44:13.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 14:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/070b52292c5316c6d96bb520735a26d544f9fb73', 'message': 'use payload for OVSDB_RESOURCE\n\nThis patch switches over to callback payloads for\nOVSDB_RESOURCE AFTER_READ event\n\nChange-Id: Ia7a96ff270c9defa782f02df8a58bd87c1853b52\n'}, {'number': 2, 'created': '2021-08-26 12:53:46.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/services/trunk/drivers/openvswitch/agent/ovsdb_handler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/db4753b6efa12f6aa86219de90855835b683daa5', 'message': 'use payload for OVSDB_RESOURCE\n\nThis patch switches over to callback payloads for\nOVSDB_RESOURCE AFTER_READ event\n\nChange-Id: Ia7a96ff270c9defa782f02df8a58bd87c1853b52\n'}]",0,805397,db4753b6efa12f6aa86219de90855835b683daa5,198,4,2,32667,,,0,"use payload for OVSDB_RESOURCE

This patch switches over to callback payloads for
OVSDB_RESOURCE AFTER_READ event

Change-Id: Ia7a96ff270c9defa782f02df8a58bd87c1853b52
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/805397/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/services/trunk/drivers/openvswitch/agent/ovsdb_handler.py']",2,070b52292c5316c6d96bb520735a26d544f9fb73,ovsdb_payload," self, resource, event, trigger, payload): ovsdb_events = payload.latest_state"," self, resource, event, trigger, ovsdb_events):",8,6
openstack%2Ftempest~master~Iff8afc9f97133ca031d53ff6ec1fddb9ff0e899f,openstack/tempest,master,Iff8afc9f97133ca031d53ff6ec1fddb9ff0e899f,create volume type encryption nonexistent type id,MERGED,2021-08-19 07:07:26.000000000,2021-08-31 13:52:11.000000000,2021-08-31 13:44:05.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-08-19 07:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d25de0bbce75c49760dcb3cf3dd557309287ead7', 'message': 'create volume type encryption nonexistent type id\n\nTest create volume type encryption with nonexistent type id will fail\n\nChange-Id: Iff8afc9f97133ca031d53ff6ec1fddb9ff0e899f\n'}, {'number': 2, 'created': '2021-08-19 11:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2c1fc758981ea67cf2e008fbf4f050bfeb84d72d', 'message': 'create volume type encryption nonexistent type id\n\nTest create volume type encryption with nonexistent type id will fail\n\nChange-Id: Iff8afc9f97133ca031d53ff6ec1fddb9ff0e899f\n'}, {'number': 3, 'created': '2021-08-27 02:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2fea33a21da6ba46de214efbe57e6818a384f3a3', 'message': 'create volume type encryption nonexistent type id\n\nTest create volume type encryption with nonexistent type id will fail\n\nChange-Id: Iff8afc9f97133ca031d53ff6ec1fddb9ff0e899f\n'}, {'number': 4, 'created': '2021-08-30 08:12:30.000000000', 'files': ['tempest/api/volume/admin/test_volume_types_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/3d76ddb90fb8e20c47ccbb7a903f9bc4e9342e31', 'message': 'create volume type encryption nonexistent type id\n\nTest create volume type encryption with nonexistent type id will fail\n\nChange-Id: Iff8afc9f97133ca031d53ff6ec1fddb9ff0e899f\n'}]",6,805123,3d76ddb90fb8e20c47ccbb7a903f9bc4e9342e31,14,2,4,30409,,,0,"create volume type encryption nonexistent type id

Test create volume type encryption with nonexistent type id will fail

Change-Id: Iff8afc9f97133ca031d53ff6ec1fddb9ff0e899f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/23/805123/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_volume_types_negative.py'],1,d25de0bbce75c49760dcb3cf3dd557309287ead7,master28," @decorators.attr(type=['negative']) @decorators.idempotent_id('a5924b5f-b6c1-49ba-994c-b4af55d26e52') def test_create_volume_type_encryption_nonexistent_type_id(self): """"""Test create volume type encryption with nonexistent type id will fail"""""" create_kwargs = {'provider': 'LuksEncryptor', 'key_size': 256, 'cipher': 'aes-xts-plain64', 'control_location': 'front-end'} self.assertRaises( lib_exc.NotFound, self.admin_encryption_types_client.create_encryption_type, data_utils.rand_uuid(), **create_kwargs)",,14,0
openstack%2Fglance~master~I6440462d16006204a5cd46a826dc281fe23ab992,openstack/glance,master,I6440462d16006204a5cd46a826dc281fe23ab992,Move metadef property policy checks in the API,MERGED,2021-07-06 10:51:18.000000000,2021-08-31 13:51:51.000000000,2021-08-30 17:05:49.000000000,"[{'_account_id': 4393}, {'_account_id': 5046}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 19138}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-07-06 10:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/dda368a8e37dbe0ac71c0d59da8971812a915be8', 'message': 'POC: Move metadef property policy checks in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: I6440462d16006204a5cd46a826dc281fe23ab992\n'}, {'number': 2, 'created': '2021-07-06 18:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/754d24652456872e63318ef0204aeda5798fe8c4', 'message': 'POC: Move metadef property policy checks in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: I6440462d16006204a5cd46a826dc281fe23ab992\n'}, {'number': 3, 'created': '2021-07-14 19:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d98fc4a6864a03904b9aa79d7cfc6fcd4061a551', 'message': 'POC: Move metadef property policy checks in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: I6440462d16006204a5cd46a826dc281fe23ab992\n'}, {'number': 4, 'created': '2021-07-16 13:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/49829f4386bbed5318e7d4a8b5d9b69c5a731407', 'message': 'POC: Move metadef property policy checks in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: I6440462d16006204a5cd46a826dc281fe23ab992\n'}, {'number': 5, 'created': '2021-07-16 15:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6618ce9dd454f4e64e4570e7d014e280d930cba8', 'message': 'POC: Move metadef property policy checks in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: I6440462d16006204a5cd46a826dc281fe23ab992\n'}, {'number': 6, 'created': '2021-07-19 18:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ff968d6e2f9dbba26aae3f2d4838e382a630f74b', 'message': 'POC: Move metadef property policy checks in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification.\n\nPartially implements: blueprint policy-refactor\nChange-Id: I6440462d16006204a5cd46a826dc281fe23ab992\n'}, {'number': 7, 'created': '2021-07-23 05:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f00a94eda5c5ac2b6fa593070dbeaae4b303e425', 'message': 'Move metadef property policy checks in the API\n\nMade provision to enforce metadef property related policy\nchecks in API.\n\nPartially implements: blueprint policy-refactor\nChange-Id: I6440462d16006204a5cd46a826dc281fe23ab992\n'}, {'number': 8, 'created': '2021-07-24 10:02:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cfec9ed5c1d9db0c65799145d096dc3a78135cfb', 'message': 'Move metadef property policy checks in the API\n\nMade provision to enforce metadef property related policy\nchecks in API.\n\nPartially implements: blueprint policy-refactor\nChange-Id: I6440462d16006204a5cd46a826dc281fe23ab992\n'}, {'number': 9, 'created': '2021-08-02 08:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/35d01792d60318dc4a5ce251166570f6fabb7065', 'message': 'Move metadef property policy checks in the API\n\nMade provision to enforce metadef property related policy\nchecks in API.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I6440462d16006204a5cd46a826dc281fe23ab992\n'}, {'number': 10, 'created': '2021-08-03 17:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/42af75e71905307342abfbdf027b65c3ebdf19c3', 'message': 'Move metadef property policy checks in the API\n\nMade provision to enforce metadef property related policy\nchecks in API.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I6440462d16006204a5cd46a826dc281fe23ab992\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 11, 'created': '2021-08-04 15:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7dfb81726c3a0a05e1539ed5b3a8d830a3df224f', 'message': 'Move metadef property policy checks in the API\n\nMade provision to enforce metadef property related policy\nchecks in API.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I6440462d16006204a5cd46a826dc281fe23ab992\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 12, 'created': '2021-08-05 11:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/62e5c5c269c95a06cd0567ff283dde5bab21d5c6', 'message': 'Move metadef property policy checks in the API\n\nMade provision to enforce metadef property related policy\nchecks in API.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I6440462d16006204a5cd46a826dc281fe23ab992\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 13, 'created': '2021-08-05 19:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a639bdddf2068c5e65304adc83c415e869ce5d86', 'message': 'Move metadef property policy checks in the API\n\nMade provision to enforce metadef property related policy\nchecks in API.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I6440462d16006204a5cd46a826dc281fe23ab992\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 14, 'created': '2021-08-11 07:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5a7dd7046a4fe6636f7d7c5da496d4b535e3fd87', 'message': 'Move metadef property policy checks in the API\n\nMade provision to enforce metadef property related policy\nchecks in API.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I6440462d16006204a5cd46a826dc281fe23ab992\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 15, 'created': '2021-08-11 16:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6cea4d9954957883d07158e39f213ce17a7dae02', 'message': 'Move metadef property policy checks in the API\n\nMade provision to enforce metadef property related policy\nchecks in API.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I6440462d16006204a5cd46a826dc281fe23ab992\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 16, 'created': '2021-08-11 19:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3f12a9916169eadbcbe9bfb01e9cb7d12303c36b', 'message': 'Move metadef property policy checks in the API\n\nMade provision to enforce metadef property related policy\nchecks in API.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I6440462d16006204a5cd46a826dc281fe23ab992\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 17, 'created': '2021-08-13 18:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4053b20f4d9a74b54dde5b822ead2833f7fffd46', 'message': 'Move metadef property policy checks in the API\n\nMade provision to enforce metadef property related policy\nchecks in API.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I6440462d16006204a5cd46a826dc281fe23ab992\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 18, 'created': '2021-08-19 16:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fa0977f9e3cdb78b04be99cf19a67eb486be2a0c', 'message': 'Move metadef property policy checks in the API\n\nMade provision to enforce metadef property related policy\nchecks in API.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I6440462d16006204a5cd46a826dc281fe23ab992\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 19, 'created': '2021-08-20 05:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7589e48541bd8efc9e5281e3a24296a3b5e2f207', 'message': 'Move metadef property policy checks in the API\n\nMade provision to enforce metadef property related policy\nchecks in API.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I6440462d16006204a5cd46a826dc281fe23ab992\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 20, 'created': '2021-08-24 19:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/428a013a7c78aea94ed5b1410fbfd6dd4c497764', 'message': 'Move metadef property policy checks in the API\n\nMade provision to enforce metadef property related policy\nchecks in API.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I6440462d16006204a5cd46a826dc281fe23ab992\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 21, 'created': '2021-08-25 06:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/25965ee7e9650af58f1d1ef29cbfe508b1f34134', 'message': 'Move metadef property policy checks in the API\n\nMade provision to enforce metadef property related policy\nchecks in API.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I6440462d16006204a5cd46a826dc281fe23ab992\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 22, 'created': '2021-08-26 03:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a8c2e51167251b47aef8a1b8de16c6b41ef01c04', 'message': 'Move metadef property policy checks in the API\n\nMade provision to enforce metadef property related policy\nchecks in API.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I6440462d16006204a5cd46a826dc281fe23ab992\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 23, 'created': '2021-08-30 05:57:51.000000000', 'files': ['glance/api/v2/metadef_properties.py', 'glance/tests/functional/v2/test_metadef_property_api_policy.py', 'glance/tests/unit/v2/test_metadef_resources.py', 'glance/api/v2/policy.py', 'glance/tests/unit/v2/test_v2_policy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/f9deee125cdf0e2d88cd4f9c1c0a54d459f3b29d', 'message': 'Move metadef property policy checks in the API\n\nMade provision to enforce metadef property related policy\nchecks in API.\n\nPartially implements: blueprint policy-refactor\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/688802\n\nChange-Id: I6440462d16006204a5cd46a826dc281fe23ab992\n'}]",24,799635,f9deee125cdf0e2d88cd4f9c1c0a54d459f3b29d,115,7,23,9303,,,0,"Move metadef property policy checks in the API

Made provision to enforce metadef property related policy
checks in API.

Partially implements: blueprint policy-refactor

Depends-On: https://review.opendev.org/c/openstack/nova/+/688802

Change-Id: I6440462d16006204a5cd46a826dc281fe23ab992
",git fetch https://review.opendev.org/openstack/glance refs/changes/35/799635/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/metadef_properties.py', 'glance/tests/unit/v2/test_metadef_resources.py', 'glance/api/v2/policy.py']",3,dda368a8e37dbe0ac71c0d59da8971812a915be8,policy-refactor, def get_metadef_properties(self): self._enforce('get_metadef_properties') def get_metadef_property(self): self._enforce('get_metadef_property') def add_metadef_property(self): self._enforce('add_metadef_property') def modify_metadef_property(self): self._enforce('modify_metadef_property'),,73,9
openstack%2Freleases~master~Idbb89fb5e9a9dc58fd7c9c2399ca4d13aa925634,openstack/releases,master,Idbb89fb5e9a9dc58fd7c9c2399ca4d13aa925634,"[storlets] EOL Pike, Queens, Rocky and Stein",MERGED,2021-08-14 12:51:29.000000000,2021-08-31 13:49:27.000000000,2021-08-31 13:49:27.000000000,"[{'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-14 12:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/20bd9e640cf01cbd83d528ee85fa12f26ae5aa1f', 'message': ""Storlets: EOL Queens, Rocky and Stein\n\nThese three branches are quite old and we have seen no requirement\nor attempt of backports. Thus I'd propose marking these branches as EOL\nto reduce number of branches maintained.\n\nChange-Id: Idbb89fb5e9a9dc58fd7c9c2399ca4d13aa925634\n""}, {'number': 2, 'created': '2021-08-24 04:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5a0ea37d191b8dc5d02441c3360fd20e09af038c', 'message': ""Storlets: EOL Pike, Queens, Rocky and Stein\n\nThese four branches are quite old and we have seen no requirement\nor attempt of backports.\nThus I'd propose marking these branches as EOL to reduce number of\nbranches maintained.\n\nChange-Id: Idbb89fb5e9a9dc58fd7c9c2399ca4d13aa925634\n""}, {'number': 3, 'created': '2021-08-24 04:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6bc5a38634e00883ce82be5e287162d17d78b1ee', 'message': ""[storlets] EOL Pike, Queens, Rocky and Stein\n\nThese four branches are quite old and we have seen no requirement\nor attempt of backports.\nThus I'd propose marking these branches as EOL to reduce number of\nbranches maintained.\n\nChange-Id: Idbb89fb5e9a9dc58fd7c9c2399ca4d13aa925634\n""}, {'number': 4, 'created': '2021-08-24 04:32:30.000000000', 'files': ['deliverables/rocky/storlets.yaml', 'deliverables/pike/storlets.yaml', 'deliverables/queens/storlets.yaml', 'deliverables/stein/storlets.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e42755d9f96fd4de17a2587c7fa124476a7e72d6', 'message': ""[storlets] EOL Pike, Queens, Rocky and Stein\n\nThese four branches are quite old and we have seen no requirement\nor attempt of backports.\nThus I'd propose marking these branches as EOL to reduce number of\nbranches maintained.\n\nChange-Id: Idbb89fb5e9a9dc58fd7c9c2399ca4d13aa925634\n""}]",0,804562,e42755d9f96fd4de17a2587c7fa124476a7e72d6,20,5,4,9816,,,0,"[storlets] EOL Pike, Queens, Rocky and Stein

These four branches are quite old and we have seen no requirement
or attempt of backports.
Thus I'd propose marking these branches as EOL to reduce number of
branches maintained.

Change-Id: Idbb89fb5e9a9dc58fd7c9c2399ca4d13aa925634
",git fetch https://review.opendev.org/openstack/releases refs/changes/62/804562/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/storlets.yaml', 'deliverables/queens/storlets.yaml', 'deliverables/stein/storlets.yaml']",3,20bd9e640cf01cbd83d528ee85fa12f26ae5aa1f,storlets-eol, - version: stein-eol projects: - repo: openstack/storlets hash: 1ca60f292d8f6c6e9f4e1f048c1033fd1922c813,,12,0
openstack%2Freleases~master~I87dc344b93d0af7e9a2e3208bc4bffcf6457702b,openstack/releases,master,I87dc344b93d0af7e9a2e3208bc4bffcf6457702b,Add Neutron Xena highlights,MERGED,2021-08-23 10:35:23.000000000,2021-08-31 13:49:24.000000000,2021-08-31 13:49:24.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 16708}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 10:35:23.000000000', 'files': ['deliverables/xena/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/384bd4b94092d260053265315a89e0cbd9c9b557', 'message': 'Add Neutron Xena highlights\n\nChange-Id: I87dc344b93d0af7e9a2e3208bc4bffcf6457702b\n'}]",0,805610,384bd4b94092d260053265315a89e0cbd9c9b557,12,7,1,11975,,,0,"Add Neutron Xena highlights

Change-Id: I87dc344b93d0af7e9a2e3208bc4bffcf6457702b
",git fetch https://review.opendev.org/openstack/releases refs/changes/10/805610/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/neutron.yaml'],1,384bd4b94092d260053265315a89e0cbd9c9b557,xena-highlights,"cycle-highlights: - Distributed DHCP service is now available as an neutron-ovs-agent extension. It provides basic DHCP functionality locally on compute nodes where VMs are and no DHCP agents are needed in such case. - Support stateless security groups with the latest OVN 21.06+. The ``stateful=False`` security groups are mapped to the new ``allow-stateless`` OVN ACL verb. - ECMP routes are now supported by Neutron. Multiple routes with the same destination address are now consolidated into a single ECMP route. - A new quota driver is added ``DbQuotaNoLockDriver``. This driver does not create a unique lock per (resource, project_id). Such locks could lead to a database deadlock state if the number of server requests exceeds the number of resolved resource creations.",,13,0
openstack%2Ftacker~master~If77be98d0c4cec6f4c860ae84978f59772f9a6ee,openstack/tacker,master,If77be98d0c4cec6f4c860ae84978f59772f9a6ee,Fix missing required parameter when k8s_obj init,MERGED,2021-05-13 08:53:59.000000000,2021-08-31 13:42:46.000000000,2021-08-31 13:39:14.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 31730}, {'_account_id': 31857}, {'_account_id': 32102}, {'_account_id': 33292}, {'_account_id': 33492}]","[{'number': 1, 'created': '2021-05-13 08:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a56e7905c162de027edb60824e3c1f463613514b', 'message': ""Fix missing required parameter when k8s_obj init\n\nWhile deploying CNF(deployment) using pod-affinity rules, a\nparameter error happend becasue the topoloy_key is not\nassigned when initializing k8s object.\n\nThis patch fixes this bug by adding the topoloy_key's default\nvalue into `must_param` in translate_outputs._create_k8s_object().\nAt the same time, in order to deal with the recurrence of this\nkind of bug, we checked the required parameters of all resources\nin kubernetes again and added them to must_param.\n\nCloses-Bug: #1928153\nChange-Id: If77be98d0c4cec6f4c860ae84978f59772f9a6ee\n""}, {'number': 2, 'created': '2021-06-07 01:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/566dd731d022efa4e51689626db38ffa665b1ec6', 'message': ""Fix missing required parameter when k8s_obj init\n\nWhile deploying CNF(deployment) using pod-affinity rules, a\nparameter error happend because the topology_key is not\nassigned when initializing k8s object.\n\nThis patch fixes this bug by adding the topology_key's default\nvalue into `must_param` in translate_outputs._create_k8s_object().\nAt the same time, in order to deal with the recurrence of this\nkind of bug, we checked the required parameters of all resources\nin kubernetes again and added them to must_param.\n    * Kubernetes version: v17.17.0\n    * Kubernetes-python-client version: v17.17.0\n\nCloses-Bug: #1928153\nChange-Id: If77be98d0c4cec6f4c860ae84978f59772f9a6ee\n""}, {'number': 3, 'created': '2021-06-08 08:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/47702137b0ba0ff2dfafe537fc99f5a12076238b', 'message': ""Fix missing required parameter when k8s_obj init\n\nWhile deploying CNF(deployment) using pod-affinity rules, a\nparameter error happend because the topology_key is not\nassigned when initializing k8s object.\n\nThis patch fixes this bug by adding the topology_key's default\nvalue into `must_param` in translate_outputs._create_k8s_object().\nAt the same time, in order to deal with the recurrence of this\nkind of bug, we checked the required parameters of all resources\nin kubernetes again and added them to must_param.\n    * Kubernetes version: v17.17.0\n    * Kubernetes-python-client version: v17.17.0\n\nCloses-Bug: #1928153\nChange-Id: If77be98d0c4cec6f4c860ae84978f59772f9a6ee\n""}, {'number': 4, 'created': '2021-06-09 02:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/bbcfb4b70d78bf90bbaae181177e17f56b9a9fad', 'message': ""Fix missing required parameter when k8s_obj init\n\nWhile deploying CNF(deployment) using pod-affinity rules, a\nparameter error happend because the topology_key is not\nassigned when initializing k8s object.\n\nThis patch fixes this bug by adding the topology_key's default\nvalue into `must_param` in translate_outputs._create_k8s_object().\nAt the same time, in order to deal with the recurrence of this\nkind of bug, we checked the required parameters of all resources\nin kubernetes again and added them to must_param.\n    * Kubernetes version: v17.17.0\n    * Kubernetes-python-client version: v17.17.0\n\nCloses-Bug: #1928153\nChange-Id: If77be98d0c4cec6f4c860ae84978f59772f9a6ee\n""}, {'number': 5, 'created': '2021-06-09 06:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3c2b568d862f0f7e89de849d1bab597430c1a902', 'message': ""Fix missing required parameter when k8s_obj init\n\nWhile deploying CNF(deployment) using pod-affinity rules, a\nparameter error happend because the topology_key is not\nassigned when initializing k8s object.\n\nThis patch fixes this bug by adding the topology_key's default\nvalue into `must_param` in translate_outputs._create_k8s_object().\nAt the same time, in order to deal with the recurrence of this\nkind of bug, we checked the required parameters of all resources\nin kubernetes again and added them to must_param.\n    * Kubernetes version: from v1.17.17 to v1.21.1\n    * Kubernetes-python-client version: v17.17.0\n\nCloses-Bug: #1928153\nChange-Id: If77be98d0c4cec6f4c860ae84978f59772f9a6ee\n""}, {'number': 6, 'created': '2021-07-13 06:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e70cb0408d3c960618d6b9356927dfef0f5cf118', 'message': 'Fix missing required parameter when k8s_obj init\n\nWhile deploying CNF(deployment) using pod-affinity rules, a\nparameter error happend because the topology_key is not\nassigned when initializing k8s object.\n\nThis patch fixes this bug by adding the topology_key\'s default\nvalue into `must_param` in translate_outputs._create_k8s_object().\nAt the same time, in order to deal with the recurrence of this\nkind of bug, we checked the required parameters of all resources\nin kubernetes again and added them to must_param.\n    * Kubernetes version: from v1.17.17 to v1.21.1\n    * Kubernetes-python-client version: v17.17.0\n\nThe major changes from the ""mast_param"" used in the previous\nWallaby release of Tacker are probably as follows:\n\nRuntimeRawExtension\n  The `data` parameter of `V1ControllerRevision`[1] in v11.0.0\n  was `RuntimeRawExtension`[3], but the `RuntimeRawExtension` was\n  not support for v12.0.0 or later. Therefore `V1ControllerRevision`\n  in v17.17.0[3] it has been changed to` object` type.\n\nV1ServiceReference\n  The `service` parameter of `V1APIServiceSpec`[4] in v11.0.0 was\n  `V1ServiceReference`[5], but the `V1ServiceReference` was not\n  support for v12.0.0 or later.\n  Therefore `V1APIServiceSpec` in v17.17.0[6] it has been changed\n  to `ApiregistrationV1ServiceReference`[7].\n\n[1] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1ControllerRevision.md\n[2] https://github.com/kubernetes-client/python/blob/v17.17.0/kubernetes/docs/V1ControllerRevision.md\n[3] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/RuntimeRawExtension.md\n[4] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1APIServiceSpec.md\n[5] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1ServiceReference.md\n[6] https://github.com/kubernetes-client/python/blob/v17.17.0/kubernetes/docs/V1APIServiceSpec.md\n[7] https://github.com/kubernetes-client/python/blob/v17.17.0/kubernetes/docs/ApiregistrationV1ServiceReference.md\n\nCloses-Bug: #1928153\nChange-Id: If77be98d0c4cec6f4c860ae84978f59772f9a6ee\n'}, {'number': 7, 'created': '2021-08-11 07:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4c3d03a9a872e1838c752a995fd5d2d842193f34', 'message': 'Fix missing required parameter when k8s_obj init\n\nWhile deploying CNF(deployment) using pod-affinity rules, a\nparameter error happend because the topology_key is not\nassigned when initializing k8s object.\n\nThis patch fixes this bug by adding the topology_key\'s default\nvalue into `must_param` in translate_outputs._create_k8s_object().\nAt the same time, in order to deal with the recurrence of this\nkind of bug, we checked the required parameters of all resources\nin kubernetes again and added them to must_param.\n    * Kubernetes version: from v1.17.17 to v1.21.1\n    * Kubernetes-python-client version: v17.17.0\n\nThe major changes from the ""must_param"" used in the previous\nWallaby release of Tacker are probably as follows:\n\nRuntimeRawExtension\n  The `data` parameter of `V1ControllerRevision`[1] in v11.0.0\n  was `RuntimeRawExtension`[2], but the `RuntimeRawExtension` was\n  not support for v12.0.0 or later. Therefore `V1ControllerRevision`\n  in v17.17.0[3] it has been changed to` object` type.\n\nV1ServiceReference\n  The `service` parameter of `V1APIServiceSpec`[4] in v11.0.0 was\n  `V1ServiceReference`[5], but the `V1ServiceReference` was not\n  support for v12.0.0 or later.\n  Therefore `V1APIServiceSpec` in v17.17.0[6] it has been changed\n  to `ApiregistrationV1ServiceReference`[7].\n\n[1] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1ControllerRevision.md\n[2] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/RuntimeRawExtension.md\n[3] https://github.com/kubernetes-client/python/blob/v17.17.0/kubernetes/docs/V1ControllerRevision.md\n[4] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1APIServiceSpec.md\n[5] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1ServiceReference.md\n[6] https://github.com/kubernetes-client/python/blob/v17.17.0/kubernetes/docs/V1APIServiceSpec.md\n[7] https://github.com/kubernetes-client/python/blob/v17.17.0/kubernetes/docs/ApiregistrationV1ServiceReference.md\n\nCloses-Bug: #1928153\nChange-Id: If77be98d0c4cec6f4c860ae84978f59772f9a6ee\n'}, {'number': 8, 'created': '2021-08-18 08:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/02a875379dda8084dbc02c6d2b276414a61abaad', 'message': 'Fix missing required parameter when k8s_obj init\n\nWhile deploying CNF(deployment) using pod-affinity rules, a\nparameter error happend because the topology_key is not\nassigned when initializing k8s object.\n\nThis patch fixes this bug by adding the topology_key\'s default\nvalue into `must_param` in translate_outputs._create_k8s_object().\nAt the same time, in order to deal with the recurrence of this\nkind of bug, we checked the required parameters of all resources\nin kubernetes again and added them to must_param.\n    * Kubernetes version: from v1.17.17 to v1.21.1\n    * Kubernetes-python-client version: v17.17.0\n\nThe major changes from the ""must_param"" used in the previous\nWallaby release of Tacker are probably as follows:\n\nRuntimeRawExtension\n  The `data` parameter of `V1ControllerRevision`[1] in v11.0.0\n  was `RuntimeRawExtension`[2], but the `RuntimeRawExtension` was\n  not support for v12.0.0 or later. Therefore `V1ControllerRevision`\n  in v17.17.0[3] it has been changed to` object` type.\n\nV1ServiceReference\n  The `service` parameter of `V1APIServiceSpec`[4] in v11.0.0 was\n  `V1ServiceReference`[5], but the `V1ServiceReference` was not\n  support for v12.0.0 or later.\n  Therefore `V1APIServiceSpec` in v17.17.0[6] it has been changed\n  to `ApiregistrationV1ServiceReference`[7].\n\n[1] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1ControllerRevision.md\n[2] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/RuntimeRawExtension.md\n[3] https://github.com/kubernetes-client/python/blob/v17.17.0/kubernetes/docs/V1ControllerRevision.md\n[4] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1APIServiceSpec.md\n[5] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1ServiceReference.md\n[6] https://github.com/kubernetes-client/python/blob/v17.17.0/kubernetes/docs/V1APIServiceSpec.md\n[7] https://github.com/kubernetes-client/python/blob/v17.17.0/kubernetes/docs/ApiregistrationV1ServiceReference.md\n\nCloses-Bug: #1928153\nChange-Id: If77be98d0c4cec6f4c860ae84978f59772f9a6ee\n'}, {'number': 9, 'created': '2021-08-20 06:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d75f774e87ccbb1965fec0cd3aea619ff6aec180', 'message': 'Fix missing required parameter when k8s_obj init\n\nWhile deploying CNF(deployment) using pod-affinity rules, a\nparameter error happend because the topology_key is not\nassigned when initializing k8s object.\n\nThis patch fixes this bug by adding the topology_key\'s default\nvalue into `must_param` in translate_outputs._create_k8s_object().\nAt the same time, in order to deal with the recurrence of this\nkind of bug, we checked the required parameters of all resources\nin kubernetes again and added them to must_param.\n    * Kubernetes version: from v1.17.17 to v1.21.1\n    * Kubernetes-python-client version: v18.20.0\n\nThe major changes from the ""must_param"" used in the previous\nWallaby release of Tacker are probably as follows:\n\nRuntimeRawExtension\n  The `data` parameter of `V1ControllerRevision`[1] in v11.0.0\n  was `RuntimeRawExtension`[2], but the `RuntimeRawExtension` was\n  not support for v12.0.0 or later. Therefore `V1ControllerRevision`\n  in v18.20.0[3] it has been changed to` object` type.\n\nV1ServiceReference\n  The `service` parameter of `V1APIServiceSpec`[4] in v11.0.0 was\n  `V1ServiceReference`[5], but the `V1ServiceReference` was not\n  support for v12.0.0 or later.\n  Therefore `V1APIServiceSpec` in v18.20.0[6] it has been changed\n  to `ApiregistrationV1ServiceReference`[7].\n\nV1LimitRangeItem\n  The `type` parameter of `V1LimitRangeItem`[8] in v11.0.0 was\n  optional type, but the parameter has changed to must param\n  in v18.20.0[9].\n  Therefore, the parameter should be added into `must_param`.\n\n[1] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1ControllerRevision.md\n[2] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/RuntimeRawExtension.md\n[3] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/V1ControllerRevision.md\n[4] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1APIServiceSpec.md\n[5] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1ServiceReference.md\n[6] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/V1APIServiceSpec.md\n[7] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/ApiregistrationV1ServiceReference.md\n[8] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1LimitRangeItem.md\n[9] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/V1LimitRangeItem.md\n\nCloses-Bug: #1928153\nCloses-Bug: #1940602\nChange-Id: If77be98d0c4cec6f4c860ae84978f59772f9a6ee\n'}, {'number': 10, 'created': '2021-08-20 06:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/fc8dc83aa80ca400c5ba123157d816db52bbd2ee', 'message': 'Fix missing required parameter when k8s_obj init\n\nWhile deploying CNF(deployment) using pod-affinity rules, a\nparameter error happend because the topology_key is not\nassigned when initializing k8s object.\n\nThis patch fixes this bug by adding the topology_key\'s default\nvalue into `must_param` in translate_outputs._create_k8s_object().\nAt the same time, in order to deal with the recurrence of this\nkind of bug, we checked the required parameters of all resources\nin kubernetes again and added them to must_param.\n    * Kubernetes version: from v1.17.17 to v1.21.1\n    * Kubernetes-python-client version: v18.20.0\n\nThe major changes from the ""must_param"" used in the previous\nWallaby release of Tacker are probably as follows:\n\nRuntimeRawExtension\n  The `data` parameter of `V1ControllerRevision`[1] in v11.0.0\n  was `RuntimeRawExtension`[2], but the `RuntimeRawExtension` was\n  not support for v12.0.0 or later. Therefore `V1ControllerRevision`\n  in v18.20.0[3] it has been changed to` object` type.\n\nV1ServiceReference\n  The `service` parameter of `V1APIServiceSpec`[4] in v11.0.0 was\n  `V1ServiceReference`[5], but the `V1ServiceReference` was not\n  support for v12.0.0 or later.\n  Therefore `V1APIServiceSpec` in v18.20.0[6] it has been changed\n  to `ApiregistrationV1ServiceReference`[7].\n\nV1LimitRangeItem\n  The `type` parameter of `V1LimitRangeItem`[8] in v11.0.0 was\n  optional type, but the parameter has changed to must param\n  in v18.20.0[9].\n  Therefore, the parameter should be added into `must_param`.\n\n[1] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1ControllerRevision.md\n[2] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/RuntimeRawExtension.md\n[3] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/V1ControllerRevision.md\n[4] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1APIServiceSpec.md\n[5] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1ServiceReference.md\n[6] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/V1APIServiceSpec.md\n[7] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/ApiregistrationV1ServiceReference.md\n[8] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1LimitRangeItem.md\n[9] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/V1LimitRangeItem.md\n\nCloses-Bug: #1928153\nCloses-Bug: #1940602\nChange-Id: If77be98d0c4cec6f4c860ae84978f59772f9a6ee\n'}, {'number': 11, 'created': '2021-08-23 01:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/69f655910227009a7fb62e7b191155325ab37b10', 'message': 'Fix missing required parameter when k8s_obj init\n\nWhile deploying CNF(deployment) using pod-affinity rules, a\nparameter error happend because the topology_key is not\nassigned when initializing k8s object.\n\nThis patch fixes this bug by adding the topology_key\'s default\nvalue into `must_param` in translate_outputs._create_k8s_object().\nAt the same time, in order to deal with the recurrence of this\nkind of bug, we checked the required parameters of all resources\nin kubernetes again and added them to must_param.\n    * Kubernetes version: from v1.17.17 to v1.21.1\n    * Kubernetes-python-client version: v18.20.0\n\nThe major changes from the ""must_param"" used in the previous\nWallaby release of Tacker are probably as follows:\n\nRuntimeRawExtension\n  The `data` parameter of `V1ControllerRevision`[1] in v11.0.0\n  was `RuntimeRawExtension`[2], but the `RuntimeRawExtension` was\n  not support for v12.0.0 or later. Therefore `V1ControllerRevision`\n  in v18.20.0[3] it has been changed to` object` type.\n\nV1ServiceReference\n  The `service` parameter of `V1APIServiceSpec`[4] in v11.0.0 was\n  `V1ServiceReference`[5], but the `V1ServiceReference` was not\n  support for v12.0.0 or later.\n  Therefore `V1APIServiceSpec` in v18.20.0[6] it has been changed\n  to `ApiregistrationV1ServiceReference`[7].\n\nV1LimitRangeItem\n  The `type` parameter of `V1LimitRangeItem`[8] in v11.0.0 was\n  optional type, but the parameter has changed to must param\n  in v18.20.0[9].\n  Therefore, the parameter should be added into `must_param`.\n\n[1] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1ControllerRevision.md\n[2] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/RuntimeRawExtension.md\n[3] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/V1ControllerRevision.md\n[4] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1APIServiceSpec.md\n[5] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1ServiceReference.md\n[6] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/V1APIServiceSpec.md\n[7] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/ApiregistrationV1ServiceReference.md\n[8] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1LimitRangeItem.md\n[9] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/V1LimitRangeItem.md\n\nCloses-Bug: #1928153\nCloses-Bug: #1940602\nChange-Id: If77be98d0c4cec6f4c860ae84978f59772f9a6ee\n'}, {'number': 12, 'created': '2021-08-24 02:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/be9e575a9437acbfee48c095e317149cc7ef2d41', 'message': 'Fix missing required parameter when k8s_obj init\n\nWhile deploying CNF(deployment) using pod-affinity rules, a\nparameter error happend because the topology_key is not\nassigned when initializing k8s object.\n\nThis patch fixes this bug by adding the topology_key\'s default\nvalue into `must_param` in translate_outputs._create_k8s_object().\nAt the same time, in order to deal with the recurrence of this\nkind of bug, we checked the required parameters of all resources\nin kubernetes again and added them to must_param.\n    * Kubernetes version: from v1.18.20 to v1.21.1\n    * Kubernetes-python-client version: v18.20.0\n\nThe major changes from the ""must_param"" used in the previous\nWallaby release of Tacker are probably as follows:\n\nRuntimeRawExtension\n  The `data` parameter of `V1ControllerRevision`[1] in v11.0.0\n  was `RuntimeRawExtension`[2], but the `RuntimeRawExtension` was\n  not support for v12.0.0 or later. Therefore `V1ControllerRevision`\n  in v18.20.0[3] it has been changed to` object` type.\n\nV1ServiceReference\n  The `service` parameter of `V1APIServiceSpec`[4] in v11.0.0 was\n  `V1ServiceReference`[5], but the `V1ServiceReference` was not\n  support for v12.0.0 or later.\n  Therefore `V1APIServiceSpec` in v18.20.0[6] it has been changed\n  to `ApiregistrationV1ServiceReference`[7].\n\nV1LimitRangeItem\n  The `type` parameter of `V1LimitRangeItem`[8] in v11.0.0 was\n  optional type, but the parameter has changed to must param\n  in v18.20.0[9].\n  Therefore, the parameter should be added into `must_param`.\n\n[1] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1ControllerRevision.md\n[2] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/RuntimeRawExtension.md\n[3] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/V1ControllerRevision.md\n[4] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1APIServiceSpec.md\n[5] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1ServiceReference.md\n[6] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/V1APIServiceSpec.md\n[7] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/ApiregistrationV1ServiceReference.md\n[8] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1LimitRangeItem.md\n[9] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/V1LimitRangeItem.md\n\nCloses-Bug: #1928153\nCloses-Bug: #1940602\nChange-Id: If77be98d0c4cec6f4c860ae84978f59772f9a6ee\n'}, {'number': 13, 'created': '2021-08-24 07:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b01bd5b616eadde363d29fa51039b127dad86fd2', 'message': 'Fix missing required parameter when k8s_obj init\n\nWhile deploying CNF(deployment) using pod-affinity rules, a\nparameter error happend because the topology_key is not\nassigned when initializing k8s object.\n\nThis patch fixes this bug by adding the topology_key\'s default\nvalue into `must_param` in translate_outputs._create_k8s_object().\nAt the same time, in order to deal with the recurrence of this\nkind of bug, we checked the required parameters of all resources\nin kubernetes again and added them to must_param.\n    * Kubernetes version: from v1.18.20 to v1.21.1\n    * Kubernetes-python-client version: v18.20.0\n\nThe major changes from the ""must_param"" used in the previous\nWallaby release of Tacker are probably as follows:\n\nRuntimeRawExtension\n  The `data` parameter of `V1ControllerRevision`[1] in v11.0.0\n  was `RuntimeRawExtension`[2], but the `RuntimeRawExtension` was\n  not support for v12.0.0 or later. Therefore `V1ControllerRevision`\n  in v18.20.0[3] it has been changed to` object` type.\n\nV1ServiceReference\n  The `service` parameter of `V1APIServiceSpec`[4] in v11.0.0 was\n  `V1ServiceReference`[5], but the `V1ServiceReference` was not\n  support for v12.0.0 or later.\n  Therefore `V1APIServiceSpec` in v18.20.0[6] it has been changed\n  to `ApiregistrationV1ServiceReference`[7].\n\nV1LimitRangeItem\n  The `type` parameter of `V1LimitRangeItem`[8] in v11.0.0 was\n  optional type, but the parameter has changed to must param\n  in v18.20.0[9].\n  Therefore, the parameter should be added into `must_param`.\n\n[1] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1ControllerRevision.md\n[2] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/RuntimeRawExtension.md\n[3] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/V1ControllerRevision.md\n[4] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1APIServiceSpec.md\n[5] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1ServiceReference.md\n[6] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/V1APIServiceSpec.md\n[7] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/ApiregistrationV1ServiceReference.md\n[8] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1LimitRangeItem.md\n[9] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/V1LimitRangeItem.md\n\nCloses-Bug: #1928153\nCloses-Bug: #1940602\nChange-Id: If77be98d0c4cec6f4c860ae84978f59772f9a6ee\n'}, {'number': 14, 'created': '2021-08-25 04:36:36.000000000', 'files': ['tacker/tests/unit/vnfm/infra_drivers/kubernetes/kubernetes_api_resource/persistent-volume.yaml', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/kubernetes_api_resource/network-policy.yaml', 'requirements.txt', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/kubernetes_api_resource/pod-template.yaml', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/test_translate_outputs.py', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/kubernetes_api_resource/pod.yaml', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/kubernetes_api_resource/resource-quota.yaml', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/kubernetes_api_resource/node.yaml', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/kubernetes_api_resource/volume-attachment.yaml', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/kubernetes_api_resource/self-subject-rule-review.yaml', 'lower-constraints.txt', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/kubernetes_api_resource/namespace.yaml', 'upper-constraints.txt', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/kubernetes_api_resource/horizontal-pod-autoscaler.yaml', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/kubernetes_api_resource/limit-range.yaml', 'tacker/vnfm/infra_drivers/kubernetes/k8s/translate_outputs.py', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/kubernetes_api_resource/subject-access-review.yaml', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/kubernetes_api_resource/persistent-volume-claim.yaml', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/kubernetes_api_resource/stateful-set.yaml', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/kubernetes_api_resource/replica-set.yaml', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/kubernetes_api_resource/api-service.yaml', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/kubernetes_api_resource/deployment.yaml', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/kubernetes_api_resource/storage-class.yaml', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/kubernetes_api_resource/daemon-set.yaml', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/kubernetes_api_resource/job.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/26a2b5fce201641b89ca3d7a432e23df779e5cf3', 'message': 'Fix missing required parameter when k8s_obj init\n\nWhile deploying CNF(deployment) using pod-affinity rules, a\nparameter error happended because the topology_key is not\nassigned when initializing k8s object.\n\nThis patch fixes this bug by adding the topology_key\'s default\nvalue into `must_param` in translate_outputs._create_k8s_object().\nAt the same time, in order to deal with the recurrence of this\nkind of bug, we checked the required parameters of all resources\nin kubernetes again and added them to must_param.\n    * Kubernetes version: from v1.18.20 to v1.21.1\n    * Kubernetes-python-client version: v18.20.0\n\nThe major changes from the ""must_param"" used in the previous\nWallaby release of Tacker are probably as follows:\n\nRuntimeRawExtension\n  The `data` parameter of `V1ControllerRevision`[1] in v11.0.0\n  was `RuntimeRawExtension`[2], but the `RuntimeRawExtension` was\n  not support for v12.0.0 or later. Therefore `V1ControllerRevision`\n  in v18.20.0[3] it has been changed to` object` type.\n\nV1ServiceReference\n  The `service` parameter of `V1APIServiceSpec`[4] in v11.0.0 was\n  `V1ServiceReference`[5], but the `V1ServiceReference` was not\n  support for v12.0.0 or later.\n  Therefore `V1APIServiceSpec` in v18.20.0[6] it has been changed\n  to `ApiregistrationV1ServiceReference`[7].\n\nV1LimitRangeItem\n  The `type` parameter of `V1LimitRangeItem`[8] in v11.0.0 was\n  optional type, but the parameter has changed to must param\n  in v18.20.0[9].\n  Therefore, the parameter should be added into `must_param`.\n\n[1] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1ControllerRevision.md\n[2] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/RuntimeRawExtension.md\n[3] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/V1ControllerRevision.md\n[4] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1APIServiceSpec.md\n[5] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1ServiceReference.md\n[6] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/V1APIServiceSpec.md\n[7] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/ApiregistrationV1ServiceReference.md\n[8] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1LimitRangeItem.md\n[9] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/V1LimitRangeItem.md\n\nCloses-Bug: #1928153\nCloses-Bug: #1940602\nChange-Id: If77be98d0c4cec6f4c860ae84978f59772f9a6ee\n'}]",37,791123,26a2b5fce201641b89ca3d7a432e23df779e5cf3,73,9,14,31821,,,0,"Fix missing required parameter when k8s_obj init

While deploying CNF(deployment) using pod-affinity rules, a
parameter error happended because the topology_key is not
assigned when initializing k8s object.

This patch fixes this bug by adding the topology_key's default
value into `must_param` in translate_outputs._create_k8s_object().
At the same time, in order to deal with the recurrence of this
kind of bug, we checked the required parameters of all resources
in kubernetes again and added them to must_param.
    * Kubernetes version: from v1.18.20 to v1.21.1
    * Kubernetes-python-client version: v18.20.0

The major changes from the ""must_param"" used in the previous
Wallaby release of Tacker are probably as follows:

RuntimeRawExtension
  The `data` parameter of `V1ControllerRevision`[1] in v11.0.0
  was `RuntimeRawExtension`[2], but the `RuntimeRawExtension` was
  not support for v12.0.0 or later. Therefore `V1ControllerRevision`
  in v18.20.0[3] it has been changed to` object` type.

V1ServiceReference
  The `service` parameter of `V1APIServiceSpec`[4] in v11.0.0 was
  `V1ServiceReference`[5], but the `V1ServiceReference` was not
  support for v12.0.0 or later.
  Therefore `V1APIServiceSpec` in v18.20.0[6] it has been changed
  to `ApiregistrationV1ServiceReference`[7].

V1LimitRangeItem
  The `type` parameter of `V1LimitRangeItem`[8] in v11.0.0 was
  optional type, but the parameter has changed to must param
  in v18.20.0[9].
  Therefore, the parameter should be added into `must_param`.

[1] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1ControllerRevision.md
[2] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/RuntimeRawExtension.md
[3] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/V1ControllerRevision.md
[4] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1APIServiceSpec.md
[5] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1ServiceReference.md
[6] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/V1APIServiceSpec.md
[7] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/ApiregistrationV1ServiceReference.md
[8] https://github.com/kubernetes-client/python/blob/v11.0.0/kubernetes/docs/V1LimitRangeItem.md
[9] https://github.com/kubernetes-client/python/blob/v18.20.0/kubernetes/docs/V1LimitRangeItem.md

Closes-Bug: #1928153
Closes-Bug: #1940602
Change-Id: If77be98d0c4cec6f4c860ae84978f59772f9a6ee
",git fetch https://review.opendev.org/openstack/tacker refs/changes/23/791123/6 && git format-patch -1 --stdout FETCH_HEAD,['tacker/vnfm/infra_drivers/kubernetes/k8s/translate_outputs.py'],1,a56e7905c162de027edb60824e3c1f463613514b,bug/1928153," 'V1PodSpec': '(containers=[])', 'V1ServicePort': '(port=80)', 'V1StatefulSetStatus': '(replicas=0)', 'V1NodeSelector': '(node_selector_terms=[])', 'V1NodeSelectorRequirement': '(key="""", operator="""")', 'V1PreferredSchedulingTerm': '(preference="""", weight=1)', 'V1PodAffinityTerm': '(topology_key="""")', 'V1WeightedPodAffinityTerm': '(pod_affinity_term="""", weight=1)', 'V1Initializers': '(pending=[])', 'V1Initializer': '(name="""")', 'V1OwnerReference': '(kind="""", name="""", uid="""")', 'V1HTTPHeader': '(name="""", value="""")', 'V1TCPSocketAction': '(port="""")', 'V1VolumeDevice': '(device_path="""", name="""")', 'V1PodReadinessGate': '(condition_type="""")', 'V1Sysctl': '(name="""", value="""")', 'V1ContainerStateTerminated': '(exit_code=0)', 'V1AzureFilePersistentVolumeSource': '(secret_name="""",' ' share_name="""")', 'V1CephFSPersistentVolumeSource': '(monitors=[])', 'V1CinderPersistentVolumeSource': '(volume_id="""")', 'V1CSIPersistentVolumeSource': '(driver="""", volume_handle)', 'V1FlexPersistentVolumeSource': '(driver="""")', 'V1GlusterfsPersistentVolumeSource': '(endpoints="""", path="""")', 'V1ISCSIPersistentVolumeSource': '(iqn="""", lun=0,' ' target_portal="""")', 'V1LocalVolumeSource': '(path="""")', 'V1RBDPersistentVolumeSource': '(image="""", monitors=[])', 'V1ScaleIOPersistentVolumeSource': '(' 'gateway="""",' ' secret_ref="""",' ' system="""")', 'V1DaemonSetStatus': '(current_number_scheduled=0, ' 'desired_number_scheduled=0, ' 'number_misscheduled=0, ' 'number_ready=0)', 'V1DaemonSetCondition': '(status="""", type="""")', 'V1DeploymentCondition': '(status="""", type="""")', 'V1ReplicaSetStatus': '(replicas=0)', 'V1ReplicaSetCondition': '(status="""", type="""")', 'V1ResourceRule': '(verbs=[])', 'V1JobCondition': '(status="""", type="""")', 'V1IPBlock': '(cidr="""")',"," 'V1PodSpec': '(containers="""")', 'V1ServicePort': '(port="""")', 'V1StatefulSetStatus': '(replicas="""")',",43,3
openstack%2Fpuppet-ironic~stable%2Ftrain~I27fa53700c1b44f14725bc66b929732553da58f8,openstack/puppet-ironic,stable/train,I27fa53700c1b44f14725bc66b929732553da58f8,Fix ppc64le support to coexist with PXE preference,MERGED,2021-08-12 16:47:08.000000000,2021-08-31 13:42:37.000000000,2021-08-31 13:39:12.000000000,"[{'_account_id': 4571}, {'_account_id': 9816}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-08-12 16:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/4f64663a2ca732ab374afda901e83cd8eb77975d', 'message': ""Fix ppc64le support to coexist with PXE preference\n\nIn essence, the pxe preference doesn't apply to ppc64le.\n\nThis is because PXE data loading is part of the firmware and\ndoes not use an intermediate boot loader like ipxe, syslinux,\nor even grub.\n\nChanges the logic to always set the stage for PXE based\ndeployments and enables boot setting awareness for ppc64le\nbased on the TFTP defaults. This allows ppc64le to coexist\nwith an environment preferring HTTP transport like those\nused with iPXE.\n\nChange-Id: I27fa53700c1b44f14725bc66b929732553da58f8\n(cherry picked from commit da503fd5ceabb5bd466e45f1da51442ef66d8ce7)\n(cherry picked from commit 08dbff6c537628d40798a07c7a21e76f8e171944)\n""}, {'number': 2, 'created': '2021-08-20 09:52:08.000000000', 'files': ['spec/classes/ironic_inspector_spec.rb', 'manifests/inspector.pp', 'releasenotes/notes/support-ppc64le-with-http-default-transport-a7b179f6526b8047.yaml', 'templates/inspector_dnsmasq_http.erb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/5347b16b261646b1bf78824b7635da3c7d8745b5', 'message': ""Fix ppc64le support to coexist with PXE preference\n\nIn essence, the pxe preference doesn't apply to ppc64le.\n\nThis is because PXE data loading is part of the firmware and\ndoes not use an intermediate boot loader like ipxe, syslinux,\nor even grub.\n\nChanges the logic to always set the stage for PXE based\ndeployments and enables boot setting awareness for ppc64le\nbased on the TFTP defaults. This allows ppc64le to coexist\nwith an environment preferring HTTP transport like those\nused with iPXE.\n\nChange-Id: I27fa53700c1b44f14725bc66b929732553da58f8\n(cherry picked from commit da503fd5ceabb5bd466e45f1da51442ef66d8ce7)\n(cherry picked from commit 08dbff6c537628d40798a07c7a21e76f8e171944)\n(cherry picked from commit 91e2b2a96ccb7e926f527a09302ec9ff898ba885)\n(cherry picked from commit 74df6b1fec7043e8a26b7e0403799feb4816a4ff)\n""}]",0,804430,5347b16b261646b1bf78824b7635da3c7d8745b5,15,5,2,11655,,,0,"Fix ppc64le support to coexist with PXE preference

In essence, the pxe preference doesn't apply to ppc64le.

This is because PXE data loading is part of the firmware and
does not use an intermediate boot loader like ipxe, syslinux,
or even grub.

Changes the logic to always set the stage for PXE based
deployments and enables boot setting awareness for ppc64le
based on the TFTP defaults. This allows ppc64le to coexist
with an environment preferring HTTP transport like those
used with iPXE.

Change-Id: I27fa53700c1b44f14725bc66b929732553da58f8
(cherry picked from commit da503fd5ceabb5bd466e45f1da51442ef66d8ce7)
(cherry picked from commit 08dbff6c537628d40798a07c7a21e76f8e171944)
(cherry picked from commit 91e2b2a96ccb7e926f527a09302ec9ff898ba885)
(cherry picked from commit 74df6b1fec7043e8a26b7e0403799feb4816a4ff)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/30/804430/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ironic_inspector_spec.rb', 'manifests/inspector.pp', 'releasenotes/notes/support-ppc64le-with-http-default-transport-a7b179f6526b8047.yaml', 'templates/inspector_dnsmasq_http.erb']",4,4f64663a2ca732ab374afda901e83cd8eb77975d,,"<% if @enable_ppc64le -%> # Client is ppc64le (OPAL) box and doesn't need a chain loader, but does need a custom config dhcp-match=set:ppc64le,option:client-arch,14 dhcp-boot=tag:ppc64le, dhcp-option=tag:ppc64le, 210,<%= @tftp_root_real %>/ppc64le/ dhcp-option=tag:ppc64le, 209,default <% end -%>",,60,11
openstack%2Fmistral-extra~master~Ie8f59b16c60d02a184cfdc0b813ba9f9af3bc1fb,openstack/mistral-extra,master,Ie8f59b16c60d02a184cfdc0b813ba9f9af3bc1fb,Changed minversion in tox to 3.18.0,NEW,2021-07-06 08:34:57.000000000,2021-08-31 13:42:36.000000000,,"[{'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-07-06 08:34:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/926b52d7650cc7fb2e5da926e293bc52922417ba', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ie8f59b16c60d02a184cfdc0b813ba9f9af3bc1fb\n""}]",0,799607,926b52d7650cc7fb2e5da926e293bc52922417ba,6,4,1,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ie8f59b16c60d02a184cfdc0b813ba9f9af3bc1fb
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/07/799607/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,926b52d7650cc7fb2e5da926e293bc52922417ba,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals = -r{toxinidir}/requirements.txt ,minversion = 2.0whitelist_externals =whitelist_externals = -r{toxinidir}/requirements.txt,4,4
openstack%2Fmistral~master~Ib0c47056c29697f3b2653ab3797eb895f67b8ced,openstack/mistral,master,Ib0c47056c29697f3b2653ab3797eb895f67b8ced,Changed minversion in tox to 3.18.0,NEW,2021-05-31 02:07:44.000000000,2021-08-31 13:42:01.000000000,,"[{'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-05-31 02:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/25f8fd140c1369f69a06ed380eefc9f70cf948bb', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ib0c47056c29697f3b2653ab3797eb895f67b8ced\n""}, {'number': 2, 'created': '2021-08-04 08:04:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral/commit/afe0545c21538bc32b859e0ce7f7c6651e3c4fc2', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ib0c47056c29697f3b2653ab3797eb895f67b8ced\n""}]",0,793714,afe0545c21538bc32b859e0ce7f7c6651e3c4fc2,11,5,2,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ib0c47056c29697f3b2653ab3797eb895f67b8ced
",git fetch https://review.opendev.org/openstack/mistral refs/changes/14/793714/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,25f8fd140c1369f69a06ed380eefc9f70cf948bb,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =allowlist_externals = rm,minversion = 2.0whitelist_externals =whitelist_externals =whitelist_externals = rm,4,4
openstack%2Fmistral-specs~master~I6d027d03f0958cf3be18fe48361aea42f1625088,openstack/mistral-specs,master,I6d027d03f0958cf3be18fe48361aea42f1625088,Changed minversion in tox to 3.18.0,NEW,2021-07-06 08:35:34.000000000,2021-08-31 13:41:41.000000000,,"[{'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-07-06 08:35:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral-specs/commit/5ce7658c14a398cbd161febdd89b7e9f9503356e', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I6d027d03f0958cf3be18fe48361aea42f1625088\n""}]",0,799610,5ce7658c14a398cbd161febdd89b7e9f9503356e,6,4,1,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I6d027d03f0958cf3be18fe48361aea42f1625088
",git fetch https://review.opendev.org/openstack/mistral-specs refs/changes/10/799610/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5ce7658c14a398cbd161febdd89b7e9f9503356e,update-min-tox,minversion = 3.18.0allowlist_externals = find,minversion = 3.1.1whitelist_externals = find,2,2
openstack%2Fmistral-tempest-plugin~master~Ia92a2f55f392e45eade2c0f5b66a72fcb2be62ba,openstack/mistral-tempest-plugin,master,Ia92a2f55f392e45eade2c0f5b66a72fcb2be62ba,Changed minversion in tox to 3.18.0,NEW,2021-07-06 08:35:26.000000000,2021-08-31 13:41:35.000000000,,"[{'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-07-06 08:35:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral-tempest-plugin/commit/d51a98af86aa32970c792ddf0f8170f3da531424', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ia92a2f55f392e45eade2c0f5b66a72fcb2be62ba\n""}]",0,799609,d51a98af86aa32970c792ddf0f8170f3da531424,6,4,1,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ia92a2f55f392e45eade2c0f5b66a72fcb2be62ba
",git fetch https://review.opendev.org/openstack/mistral-tempest-plugin refs/changes/09/799609/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d51a98af86aa32970c792ddf0f8170f3da531424,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1.1whitelist_externals =whitelist_externals =,3,3
openstack%2Fopenstack-ansible-os_mistral~master~I23851b5610090174db3338fbfdfaf9a5a8448e38,openstack/openstack-ansible-os_mistral,master,I23851b5610090174db3338fbfdfaf9a5a8448e38,Replace deprecated UPPER_CONSTRAINTS_FILE variable,NEW,2021-08-09 11:51:31.000000000,2021-08-31 13:36:17.000000000,,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-08-09 11:51:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/54f6e046fb54de9b8e101ad122cfa26ff69d5bb8', 'message': 'Replace deprecated UPPER_CONSTRAINTS_FILE variable\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n\n[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\n\nTOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master\n\nChange-Id: I23851b5610090174db3338fbfdfaf9a5a8448e38\n'}]",0,803904,54f6e046fb54de9b8e101ad122cfa26ff69d5bb8,3,2,1,32029,,,0,"Replace deprecated UPPER_CONSTRAINTS_FILE variable

UPPER_CONSTRAINTS_FILE is old name and deprecated

[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file

TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master

Change-Id: I23851b5610090174db3338fbfdfaf9a5a8448e38
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/04/803904/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,54f6e046fb54de9b8e101ad122cfa26ff69d5bb8,setup-cfg, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fglance~master~I8f59b8405d9c55b5f69294d3f9bd7bcbc064203f,openstack/glance,master,I8f59b8405d9c55b5f69294d3f9bd7bcbc064203f,Check policies for image tasks information in API,MERGED,2021-08-23 07:46:57.000000000,2021-08-31 13:34:32.000000000,2021-08-30 17:16:06.000000000,"[{'_account_id': 4393}, {'_account_id': 5046}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 07:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/45162cb3ccd4ba0e584e7e85ae209175b92dc8c3', 'message': 'Check policies for image tasks information in API\n\nThis patch enforces policy checks required for fetching task\ninformation for image in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I8f59b8405d9c55b5f69294d3f9bd7bcbc064203f\n'}, {'number': 2, 'created': '2021-08-24 06:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ccfbeb94cddb9ef4337f1502577174b307c55d6b', 'message': 'Check policies for image tasks information in API\n\nThis patch enforces policy checks required for fetching task\ninformation for image in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I8f59b8405d9c55b5f69294d3f9bd7bcbc064203f\n'}, {'number': 3, 'created': '2021-08-24 09:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/037d7c24b9daac534a564db688d113f4d286ef6e', 'message': 'Check policies for image tasks information in API\n\nThis patch enforces policy checks required for fetching task\ninformation for image in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I8f59b8405d9c55b5f69294d3f9bd7bcbc064203f\n'}, {'number': 4, 'created': '2021-08-24 18:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/325bf1c79b024d0850ed3d1bf75479dfb60ec660', 'message': 'Check policies for image tasks information in API\n\nThis patch enforces policy checks required for fetching task\ninformation for image in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I8f59b8405d9c55b5f69294d3f9bd7bcbc064203f\n'}, {'number': 5, 'created': '2021-08-24 20:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f7076cb27bee8ad8a8d5b9117333e3f2c32c6a9d', 'message': 'Check policies for image tasks information in API\n\nThis patch enforces policy checks required for fetching task\ninformation for image in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I8f59b8405d9c55b5f69294d3f9bd7bcbc064203f\n'}, {'number': 6, 'created': '2021-08-25 06:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a1d52544b9fd55a192a90f6521e554f36e9abc1f', 'message': 'Check policies for image tasks information in API\n\nThis patch enforces policy checks required for fetching task\ninformation for image in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I8f59b8405d9c55b5f69294d3f9bd7bcbc064203f\n'}, {'number': 7, 'created': '2021-08-25 15:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2c27351f4ae157cfb7a058db405610e69565cd47', 'message': 'Check policies for image tasks information in API\n\nThis patch enforces policy checks required for fetching task\ninformation for image in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I8f59b8405d9c55b5f69294d3f9bd7bcbc064203f\n'}, {'number': 8, 'created': '2021-08-30 05:57:15.000000000', 'files': ['glance/tests/functional/v2/test_images_api_policy.py', 'glance/api/v2/images.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/ab0c95da68d992de278fe8bdaf522f25d1a30759', 'message': 'Check policies for image tasks information in API\n\nThis patch enforces policy checks required for fetching task\ninformation for image in API layer.\n\nPartially-Implements: blueprint policy-refactor\nDepends-On: https://review.opendev.org/c/openstack/nova/+/688802\n\nChange-Id: I8f59b8405d9c55b5f69294d3f9bd7bcbc064203f\n'}]",0,805590,ab0c95da68d992de278fe8bdaf522f25d1a30759,62,5,8,9303,,,0,"Check policies for image tasks information in API

This patch enforces policy checks required for fetching task
information for image in API layer.

Partially-Implements: blueprint policy-refactor
Depends-On: https://review.opendev.org/c/openstack/nova/+/688802

Change-Id: I8f59b8405d9c55b5f69294d3f9bd7bcbc064203f
",git fetch https://review.opendev.org/openstack/glance refs/changes/90/805590/8 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/v2/test_images_api_policy.py', 'glance/api/v2/images.py']",2,45162cb3ccd4ba0e584e7e85ae209175b92dc8c3,policy-refactor," image_repo = self.gateway.get_repo( req.context, authorization_layer=False) # Check you are authorized to fetch image details api_policy.ImageAPIPolicy(req.context, image, self.policy).get_image()", image_repo = self.gateway.get_repo(req.context),22,1
openstack%2Fnetworking-bgpvpn~stable%2Fwallaby~I240355d5a0ebf8ece14bb2b4faf764c23477e322,openstack/networking-bgpvpn,stable/wallaby,I240355d5a0ebf8ece14bb2b4faf764c23477e322,Use assertCountEqual instead of assertItemsEqual,MERGED,2021-08-30 10:35:50.000000000,2021-08-31 13:34:31.000000000,2021-08-31 13:32:59.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2021-08-30 10:35:50.000000000', 'files': ['networking_bgpvpn/tests/unit/services/bagpipe/test_bagpipe.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/b070a43b69221b4a4967329b0fa34044a07f24b7', 'message': 'Use assertCountEqual instead of assertItemsEqual\n\nThe assertItemsEqual method has been removed in Python 3.3 [1] but\nit was kept alive by unittest2, imported by testtools. For better\ncompatibility, change to assertCountEqual.\n\n[1] https://bugs.python.org/issue17866\n\nChange-Id: I240355d5a0ebf8ece14bb2b4faf764c23477e322\n(cherry picked from commit 78fc8e35cc92ede933f21e1ed35608047b5b6aa9)\n'}]",0,806519,b070a43b69221b4a4967329b0fa34044a07f24b7,9,7,1,13294,,,0,"Use assertCountEqual instead of assertItemsEqual

The assertItemsEqual method has been removed in Python 3.3 [1] but
it was kept alive by unittest2, imported by testtools. For better
compatibility, change to assertCountEqual.

[1] https://bugs.python.org/issue17866

Change-Id: I240355d5a0ebf8ece14bb2b4faf764c23477e322
(cherry picked from commit 78fc8e35cc92ede933f21e1ed35608047b5b6aa9)
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/19/806519/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bgpvpn/tests/unit/services/bagpipe/test_bagpipe.py'],1,b070a43b69221b4a4967329b0fa34044a07f24b7,assertItemsEqual-stable/wallaby," self.assertCountEqual(result['l3vpn']['import_rt'], self.assertCountEqual(result['l3vpn']['export_rt'], self.assertCountEqual(result['l2vpn']['import_rt'], self.assertCountEqual(result['l2vpn']['export_rt'],"," self.assertItemsEqual(result['l3vpn']['import_rt'], self.assertItemsEqual(result['l3vpn']['export_rt'], self.assertItemsEqual(result['l2vpn']['import_rt'], self.assertItemsEqual(result['l2vpn']['export_rt'],",4,4
openstack%2Fkayobe~master~I0b1c963006c044ade5c67c4046da5e2addc9a8c7,openstack/kayobe,master,I0b1c963006c044ade5c67c4046da5e2addc9a8c7,Fix configuration check without public API network,MERGED,2021-08-19 15:40:48.000000000,2021-08-31 13:33:13.000000000,2021-08-31 13:30:34.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-08-19 15:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4b07789fcadf72a9e81c7f3c8286cfc5572fe5d5', 'message': 'Fix configuration check without public API network\n\nChange-Id: I0b1c963006c044ade5c67c4046da5e2addc9a8c7\nStory: X\nTask: X\n'}, {'number': 2, 'created': '2021-08-20 16:54:38.000000000', 'files': ['ansible/kolla-ansible.yml', 'ansible/roles/kolla-ansible/templates/globals.yml.j2', 'releasenotes/notes/fix-precheck-no-public-net-c0db9168063b6203.yaml', 'ansible/public-openrc.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3c56f32facb01d9265c5224e088e6e876b7506b6', 'message': 'Fix configuration check without public API network\n\nIf no public API network is used, as in the case of typical all-in-one\nenvironments, the checks in kolla-ansible.yml, task ""Validate Kolla\nAnsible API address configuration"" may fail. This happens only when\nusing the new kolla_internal_vip_address variable, and not if the legacy\nvip_address network attribute is used.\n\nThis change fixes the issue by only checking for valid external VIP\naddress/FQDN configuration when a separate public API network is in use.\nIf the external VIP/FQDN are not set, then Kayobe no longer defaults\ntheir values to the internal VIP/FQDN, instead relying on the Kolla\nAnsible defaults to do this. This may have consequences for anyone\nrelying on these variables in configuration.\n\nChange-Id: I0b1c963006c044ade5c67c4046da5e2addc9a8c7\nStory: 2009134\nTask: 43070\n'}]",0,805245,3c56f32facb01d9265c5224e088e6e876b7506b6,11,3,2,14826,,,0,"Fix configuration check without public API network

If no public API network is used, as in the case of typical all-in-one
environments, the checks in kolla-ansible.yml, task ""Validate Kolla
Ansible API address configuration"" may fail. This happens only when
using the new kolla_internal_vip_address variable, and not if the legacy
vip_address network attribute is used.

This change fixes the issue by only checking for valid external VIP
address/FQDN configuration when a separate public API network is in use.
If the external VIP/FQDN are not set, then Kayobe no longer defaults
their values to the internal VIP/FQDN, instead relying on the Kolla
Ansible defaults to do this. This may have consequences for anyone
relying on these variables in configuration.

Change-Id: I0b1c963006c044ade5c67c4046da5e2addc9a8c7
Story: 2009134
Task: 43070
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/45/805245/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/kolla-ansible.yml', 'ansible/roles/kolla-ansible/templates/globals.yml.j2', 'zuul.d/project.yaml', 'releasenotes/notes/fix-precheck-no-public-net-c0db9168063b6203.yaml', 'ansible/public-openrc.yml']",5,4b07789fcadf72a9e81c7f3c8286cfc5572fe5d5,," public_api_host: ""{{ kolla_external_fqdn or kolla_internal_fqdn }}"""," public_api_host: ""{{ kolla_external_fqdn }}""",12,21
openstack%2Freleases~master~I1aeb8ca05241dfe4c523f6f0d0bc1e3216eaf530,openstack/releases,master,I1aeb8ca05241dfe4c523f6f0d0bc1e3216eaf530,Release final python-blazarclient for Xena,MERGED,2021-08-30 13:47:36.000000000,2021-08-31 13:29:55.000000000,2021-08-31 13:29:55.000000000,"[{'_account_id': 15197}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-30 13:47:36.000000000', 'files': ['deliverables/xena/python-blazarclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fcf59e39f53aad9d3d559649809c18b94b66d4a7', 'message': 'Release final python-blazarclient for Xena\n\nThis proposed a release for python-blazarclient to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 02.\n\n$ git log --oneline --no-merges 3.2.0..d2eb2f6\nf2277b5 Add openstackclient support\n27c426a Migrate from testr to stestr\nc9114b7 Default client service type to reservation\n1cf4d73 Add Python3 xena unit tests\nc3fef3d Update master for stable/wallaby\na2d8abf Change dashes to underscore in setup.cfg\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I1aeb8ca05241dfe4c523f6f0d0bc1e3216eaf530\n'}]",0,806581,fcf59e39f53aad9d3d559649809c18b94b66d4a7,10,4,1,28522,,,0,"Release final python-blazarclient for Xena

This proposed a release for python-blazarclient to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 02.

$ git log --oneline --no-merges 3.2.0..d2eb2f6
f2277b5 Add openstackclient support
27c426a Migrate from testr to stestr
c9114b7 Default client service type to reservation
1cf4d73 Add Python3 xena unit tests
c3fef3d Update master for stable/wallaby
a2d8abf Change dashes to underscore in setup.cfg

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I1aeb8ca05241dfe4c523f6f0d0bc1e3216eaf530
",git fetch https://review.opendev.org/openstack/releases refs/changes/81/806581/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/python-blazarclient.yaml'],1,fcf59e39f53aad9d3d559649809c18b94b66d4a7,xena-milestone-3,releases: - version: 3.3.0 projects: - repo: openstack/python-blazarclient hash: d2eb2f6583a24799a163fe166f0168ccb26585bf,,5,0
openstack%2Fcharm-placement~stable%2F21.04~I1ee4a15c2ac3b9d1644ed52a2654b3018cd68b50,openstack/charm-placement,stable/21.04,I1ee4a15c2ac3b9d1644ed52a2654b3018cd68b50,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-08-27 09:47:06.000000000,2021-08-31 13:29:36.000000000,2021-08-31 13:29:36.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-27 09:47:06.000000000', 'files': ['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/c6e2edfa13458d12179ecc113cbd0b98c3f14804', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I1ee4a15c2ac3b9d1644ed52a2654b3018cd68b50\n(cherry picked from commit 26dc99fd3798eb7cf54cbc1625d514d5ca182b1b)\n'}]",0,806352,c6e2edfa13458d12179ecc113cbd0b98c3f14804,13,5,1,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I1ee4a15c2ac3b9d1644ed52a2654b3018cd68b50
(cherry picked from commit 26dc99fd3798eb7cf54cbc1625d514d5ca182b1b)
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/52/806352/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",4,c6e2edfa13458d12179ecc113cbd0b98c3f14804,wallaby-bundles-stable/21.04, - focal-wallaby dev_bundles: - hirsute-wallaby - hirsute-wallaby, - groovy-victoria,493,2
openstack%2Fskyline-console~master~I375e3c0f39da8be2b3839cd5c057b5b6005be2f0,openstack/skyline-console,master,I375e3c0f39da8be2b3839cd5c057b5b6005be2f0,fix: Support multi add networks/routers to neutron agent,MERGED,2021-08-31 03:08:57.000000000,2021-08-31 13:04:53.000000000,2021-08-31 13:04:53.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-31 03:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/a92d432c353b7c7ba6542e161826ff3420cf1983', 'message': '[Animbus]fix: Support multi add networks/routers to neutron agent\n\n1. Support multi add networks to DHCP agent\n2. Support multi add routers to L3 agent\n\nIssue: 104512\nChange-Id: I375e3c0f39da8be2b3839cd5c057b5b6005be2f0\n'}, {'number': 2, 'created': '2021-08-31 03:16:22.000000000', 'files': ['src/pages/configuration/containers/SystemInfo/NeutronAgent/Detail/Network/actions/Add.jsx', 'src/components/Form/index.jsx', 'src/pages/configuration/containers/SystemInfo/NeutronAgent/Detail/Router/actions/Add.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/2912303311d88d36e734e5c9e481f6be2f8b858a', 'message': 'fix: Support multi add networks/routers to neutron agent\n\n1. Support multi add networks to DHCP agent\n2. Support multi add routers to L3 agent\n\nChange-Id: I375e3c0f39da8be2b3839cd5c057b5b6005be2f0\n'}]",0,806668,2912303311d88d36e734e5c9e481f6be2f8b858a,7,2,2,30434,,,0,"fix: Support multi add networks/routers to neutron agent

1. Support multi add networks to DHCP agent
2. Support multi add routers to L3 agent

Change-Id: I375e3c0f39da8be2b3839cd5c057b5b6005be2f0
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/68/806668/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/configuration/containers/SystemInfo/NeutronAgent/Detail/Network/actions/Add.jsx', 'src/components/Form/index.jsx', 'src/pages/configuration/containers/SystemInfo/NeutronAgent/Detail/Router/actions/Add.jsx']",3,a92d432c353b7c7ba6542e161826ff3420cf1983,master2," get instanceName() { const { router: { selectedRows = [] } = {} } = this.values; return selectedRows.map((it) => it.name).join(', '); await this.store.fetchList({ agentId, all_projects: true }); isMulti: true, const { router: { selectedRowKeys = [] } = {} } = values; const data = selectedRowKeys.map((it) => ({ router_id: it, })); return this.store.add({ agentId }, data);"," get messageHasItemName() { return false; await this.store.fetchList({ agentId }); const { router } = values; const body = { router_id: router.selectedRowKeys[0], }; return this.store.add({ agentId }, body);",25,19
openstack%2Freleases~master~I71df2f4552c7530f44147df89e4d44c52fb89d5b,openstack/releases,master,I71df2f4552c7530f44147df89e4d44c52fb89d5b,Add Cyborg Xena highlights,MERGED,2021-08-31 06:32:06.000000000,2021-08-31 13:01:31.000000000,2021-08-31 13:01:31.000000000,"[{'_account_id': 13629}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 28522}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-08-31 06:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/3c56a4a0151e805a15bf168c138b8235838f8298', 'message': 'Add Cyborg Xena highlights\n\nChange-Id: I71df2f4552c7530f44147df89e4d44c52fb89d5b\n'}, {'number': 2, 'created': '2021-08-31 08:45:01.000000000', 'files': ['deliverables/xena/cyborg.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a1074cb8aa356626b6bec67a0be09f3adcfb9d50', 'message': 'Add Cyborg Xena highlights\n\nChange-Id: I71df2f4552c7530f44147df89e4d44c52fb89d5b\n'}]",2,806679,a1074cb8aa356626b6bec67a0be09f3adcfb9d50,16,7,2,25738,,,0,"Add Cyborg Xena highlights

Change-Id: I71df2f4552c7530f44147df89e4d44c52fb89d5b
",git fetch https://review.opendev.org/openstack/releases refs/changes/79/806679/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/cyborg.yaml'],1,3c56a4a0151e805a15bf168c138b8235838f8298,cyborg-highlights,"cycle-highlights: - Rafactor documentation structure including API docs, user guide and contributor guide. - Add placement resource cleanup mechanism in cyborg-conductor to avoid orphan resources. - Improve Cyborg API with standard return value and add new operations for different API resources.",,4,0
openstack%2Freleases~master~I3a650f59080c242731482b1956a88915a551f7b2,openstack/releases,master,I3a650f59080c242731482b1956a88915a551f7b2,Release final python-ironicclient for Xena,MERGED,2021-08-30 13:56:49.000000000,2021-08-31 13:01:28.000000000,2021-08-31 13:01:28.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-30 13:56:49.000000000', 'files': ['deliverables/xena/python-ironicclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/188b4acad500120cc83f56676b032dde0fd47d06', 'message': ""Release final python-ironicclient for Xena\n\nThis proposed a release for python-ironicclient to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 02.\n\n$ git log --oneline --no-merges 4.7.0..b5df386\n0080863 Add support for changing 'boot_mode' and 'secure_boot' states\n61b46c3 Add lower-constraints job to current development branch\nf12e1a5 Include BIOS registry fields in bios setting list command\n57a43be Fix for missing fonts in PDF jobs\na5a3d4e Add support for 'boot_mode' and 'secure_boot' node resource fields\n8bf8769 Changed minversion in tox to 3.18.0\ndd9ff8c Update project conundrum related docs\n666648b Switch testing to Xena testing runtime\n9f738c4 Add Python3 xena unit tests\neac4058 Add missing unit tests for provision state commands\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I3a650f59080c242731482b1956a88915a551f7b2\n""}]",0,806588,188b4acad500120cc83f56676b032dde0fd47d06,9,7,1,28522,,,0,"Release final python-ironicclient for Xena

This proposed a release for python-ironicclient to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 02.

$ git log --oneline --no-merges 4.7.0..b5df386
0080863 Add support for changing 'boot_mode' and 'secure_boot' states
61b46c3 Add lower-constraints job to current development branch
f12e1a5 Include BIOS registry fields in bios setting list command
57a43be Fix for missing fonts in PDF jobs
a5a3d4e Add support for 'boot_mode' and 'secure_boot' node resource fields
8bf8769 Changed minversion in tox to 3.18.0
dd9ff8c Update project conundrum related docs
666648b Switch testing to Xena testing runtime
9f738c4 Add Python3 xena unit tests
eac4058 Add missing unit tests for provision state commands

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I3a650f59080c242731482b1956a88915a551f7b2
",git fetch https://review.opendev.org/openstack/releases refs/changes/88/806588/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/python-ironicclient.yaml'],1,188b4acad500120cc83f56676b032dde0fd47d06,xena-milestone-3, - version: 4.8.0 projects: - repo: openstack/python-ironicclient hash: b5df386022c686f1b1020253f0980e8b738091fd,,4,0
openstack%2Fskyline-console~master~Ibf457718a7d10fc73a5810b886838761e4448771,openstack/skyline-console,master,Ibf457718a7d10fc73a5810b886838761e4448771,fix: Fix tip for manage metadata,MERGED,2021-08-27 06:58:37.000000000,2021-08-31 12:47:23.000000000,2021-08-31 12:47:23.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-27 06:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/a9d98a9da289044054f9018e3c99ccb0623de088', 'message': 'fix: Fix tip for manage metadata\n\nChange name to `Manage Metadata` to match the tip of manage metadata operation\n\nChange-Id: Ibf457718a7d10fc73a5810b886838761e4448771\n'}, {'number': 2, 'created': '2021-08-31 01:35:09.000000000', 'files': ['src/pages/compute/containers/Flavor/actions/ManageMetadata.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/6476cfe31e6718a541d3f6708592fe8860999dc2', 'message': 'fix: Fix tip for manage metadata\n\nChange name to `Manage Metadata` to match the tip of manage metadata operation\n\nChange-Id: Ibf457718a7d10fc73a5810b886838761e4448771\n'}]",0,806323,6476cfe31e6718a541d3f6708592fe8860999dc2,8,2,2,33689,,,0,"fix: Fix tip for manage metadata

Change name to `Manage Metadata` to match the tip of manage metadata operation

Change-Id: Ibf457718a7d10fc73a5810b886838761e4448771
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/23/806323/1 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/compute/containers/Flavor/actions/ManageMetadata.jsx'],1,a9d98a9da289044054f9018e3c99ccb0623de088,open-36543, return t('Manage Metadata');, return t('Manage host');,1,1
openstack%2Fskyline-apiserver~master~I7cc80dcb497a2996d50770e6c2b29c9779640e85,openstack/skyline-apiserver,master,I7cc80dcb497a2996d50770e6c2b29c9779640e85,fix: Double all_projects params,MERGED,2021-08-31 08:59:41.000000000,2021-08-31 12:41:28.000000000,2021-08-31 12:41:28.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-31 08:59:41.000000000', 'files': ['libs/skyline-apiserver/skyline_apiserver/api/v1/extension.py'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/f5c946e1c6fa2552e390e2eab4b6528ee9a7783c', 'message': 'fix: Double all_projects params\n\nInput double all_projects params when calling list_projects\nfunction. Remove one of them.\n\nCloses-Bug: #1942087\nChange-Id: I7cc80dcb497a2996d50770e6c2b29c9779640e85\n'}]",0,806710,f5c946e1c6fa2552e390e2eab4b6528ee9a7783c,6,2,1,28706,,,0,"fix: Double all_projects params

Input double all_projects params when calling list_projects
function. Remove one of them.

Closes-Bug: #1942087
Change-Id: I7cc80dcb497a2996d50770e6c2b29c9779640e85
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/10/806710/1 && git format-patch -1 --stdout FETCH_HEAD,['libs/skyline-apiserver/skyline_apiserver/api/v1/extension.py'],1,f5c946e1c6fa2552e390e2eab4b6528ee9a7783c,,," all_projects=all_projects,",0,1
openstack%2Fproject-config~master~Icb6c3bfe169b868e4cfe643c3da4190ccfe55566,openstack/project-config,master,Icb6c3bfe169b868e4cfe643c3da4190ccfe55566,Add os-vif-core to stable maintainers,MERGED,2021-06-25 10:41:27.000000000,2021-08-31 12:35:30.000000000,2021-08-31 12:10:58.000000000,"[{'_account_id': 841}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-25 10:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4f878be8d564f24520c145490ef79722b303ade7', 'message': 'Add os-vif-core to stable maintainers\n\nThere is no os-vif-stable-maint team and not really any need for one.\nSimply add the necessary permissions to os-vif-core. This was discussed\non the openstack-discuss mailing list.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023305.html\n\nChange-Id: Icb6c3bfe169b868e4cfe643c3da4190ccfe55566\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2021-06-25 11:14:37.000000000', 'files': ['gerrit/acls/openstack/os-vif.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d5fe7331b014fbaecfdc772c99ff8336c4c31873', 'message': 'Add os-vif-core to stable maintainers\n\nThere is no os-vif-stable-maint team and not really any need for one.\nSimply add the necessary permissions to os-vif-core. This was discussed\non the openstack-discuss mailing list.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023305.html\n\nChange-Id: Icb6c3bfe169b868e4cfe643c3da4190ccfe55566\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,798071,d5fe7331b014fbaecfdc772c99ff8336c4c31873,18,8,2,15334,,,0,"Add os-vif-core to stable maintainers

There is no os-vif-stable-maint team and not really any need for one.
Simply add the necessary permissions to os-vif-core. This was discussed
on the openstack-discuss mailing list.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023305.html

Change-Id: Icb6c3bfe169b868e4cfe643c3da4190ccfe55566
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/71/798071/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/openstack/os-vif.config'],1,4f878be8d564f24520c145490ef79722b303ade7,os-vif,abandon = group os-vif-corelabel-Code-Review = -2..+2 group os-vif-corelabel-Workflow = -1..+1 group os-vif-core,,3,0
openstack%2Fansible-role-collect-logs~master~I7a4cea605fe39fc086333d51cc75720c9b8243ad,openstack/ansible-role-collect-logs,master,I7a4cea605fe39fc086333d51cc75720c9b8243ad,Update url for sova query source,MERGED,2021-04-22 07:57:12.000000000,2021-08-31 12:33:36.000000000,2021-08-31 10:46:12.000000000,"[{'_account_id': 8367}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-04-22 07:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/a46401c4d2a830a6c2c9d0e9d99dee4fd88ce36c', 'message': 'Update url for sova query source\n\nMoving the source of sova queries as we are now generating sova queries from a single readable query file for both Elastic recheck and Sova.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci-health-queries/+/786656\nChange-Id: I7a4cea605fe39fc086333d51cc75720c9b8243ad\n'}, {'number': 2, 'created': '2021-04-22 17:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/ea97823a6df99b77379a6ed52029a082b56f0e06', 'message': 'Update url for sova query source\n\nMoving the source of sova queries as we are now generating sova queries from a single readable query file for both Elastic recheck and Sova.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci-health-queries/+/787569\n\nChange-Id: I7a4cea605fe39fc086333d51cc75720c9b8243ad\n'}, {'number': 3, 'created': '2021-07-19 13:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/88aa7480eed39925b9e15cd46bc1a41111e93c72', 'message': 'Update url for sova query source\n\nMoving the source of sova queries as we are now generating sova queries from a single readable query file for both Elastic recheck and Sova.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci-health-queries/+/798958\n\nChange-Id: I7a4cea605fe39fc086333d51cc75720c9b8243ad\n'}, {'number': 4, 'created': '2021-07-23 12:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/8817db23297071479c4aea492cebd63af3338d8e', 'message': 'Update url for sova query source\n\nMoving the source of sova queries as we are now generating sova queries from a single readable query file for both Elastic recheck and Sova.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci-health-queries/+/798958\n\nChange-Id: I7a4cea605fe39fc086333d51cc75720c9b8243ad\n'}, {'number': 5, 'created': '2021-07-23 13:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/87ecd6fd8d413b0cddecc69e3a502662c3eac42b', 'message': 'Update url for sova query source\n\nMoving the source of sova queries as we are now generating sova queries from a single readable query file for both Elastic recheck and Sova.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci-health-queries/+/798958\n\nChange-Id: I7a4cea605fe39fc086333d51cc75720c9b8243ad\n'}, {'number': 6, 'created': '2021-07-23 13:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/2f7b576aa33d96f2d32c8c75732a7a33b739a7ce', 'message': 'Update url for sova query source\n\nMoving the source of sova queries as we are now generating sova queries from a single readable query file for both Elastic recheck and Sova.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci-health-queries/+/798958\n\nChange-Id: I7a4cea605fe39fc086333d51cc75720c9b8243ad\n'}, {'number': 7, 'created': '2021-07-23 13:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/2857899536f7a01036abb7e18f4779820b37ec04', 'message': 'Update url for sova query source\n\nMoving the source of sova queries as we are now generating sova queries from a single readable query file for both Elastic recheck and Sova.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci-health-queries/+/798958\n\nChange-Id: I7a4cea605fe39fc086333d51cc75720c9b8243ad\n'}, {'number': 8, 'created': '2021-07-23 13:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/4a0a42bb7b0d934bc4a8bcfd3d6eb7147e051816', 'message': 'Update url for sova query source\n\nMoving the source of sova queries as we are now generating sova queries from a single readable query file for both Elastic recheck and Sova.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci-health-queries/+/798958\n\nChange-Id: I7a4cea605fe39fc086333d51cc75720c9b8243ad\n'}, {'number': 9, 'created': '2021-07-23 13:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/8249dfdac61fec36f9e0dbf071797713964760cc', 'message': 'Update url for sova query source\n\nMoving the source of sova queries as we are now generating sova queries from a single readable query file for both Elastic recheck and Sova.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci-health-queries/+/798958\n\nChange-Id: I7a4cea605fe39fc086333d51cc75720c9b8243ad\n'}, {'number': 10, 'created': '2021-08-23 12:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/06ee7879b3c382a5bc9aa52667946831d290a55e', 'message': 'Update url for sova query source\n\nMoving the source of sova queries as we are now generating sova queries from a single readable query file for both Elastic recheck and Sova.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci-health-queries/+/798958\n\nChange-Id: I7a4cea605fe39fc086333d51cc75720c9b8243ad\n'}, {'number': 11, 'created': '2021-08-26 13:10:31.000000000', 'files': ['roles/collect_logs/tasks/sova.yml', 'roles/collect_logs/molecule/sova/verify.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/0f2adf285764d48cf71a37e906b265093a7824cf', 'message': 'Update url for sova query source\n\nMoving the source of sova queries as we are now generating sova queries from a single readable query file for both Elastic recheck and Sova.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci-health-queries/+/798958\n\nChange-Id: I7a4cea605fe39fc086333d51cc75720c9b8243ad\n'}]",1,787502,0f2adf285764d48cf71a37e906b265093a7824cf,70,7,11,32458,,,0,"Update url for sova query source

Moving the source of sova queries as we are now generating sova queries from a single readable query file for both Elastic recheck and Sova.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci-health-queries/+/798958

Change-Id: I7a4cea605fe39fc086333d51cc75720c9b8243ad
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/02/787502/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/collect_logs/tasks/sova.yml'],1,a46401c4d2a830a6c2c9d0e9d99dee4fd88ce36c,query_location, url: https://opendev.org/openstack/tripleo-ci-health-queries/raw/branch/master/output/sova-pattern-generated.json, url: https://opendev.org/openstack/tripleo-ci-health-queries/raw/branch/master/output/sova-patterns.json,1,1
openstack%2Fopenstack-zuul-jobs~master~I7b9e6cb20d7b8d8d1dff9b8bee2c652df743b2ba,openstack/openstack-zuul-jobs,master,I7b9e6cb20d7b8d8d1dff9b8bee2c652df743b2ba,Remove neutron and networking-midonet Ocata jobs definitions,MERGED,2021-05-14 06:23:57.000000000,2021-08-31 12:28:14.000000000,2021-08-31 12:23:11.000000000,"[{'_account_id': 6547}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 06:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/85b87cdfc7738eccd27961d1e6f0f7034bc5ea04', 'message': 'Remove legacy-neutron-dsvm-api job definition\n\nIt seems that this job was used only in the Neutron stable/Ocata branch\nwhich is going to be EOL with [1].\nIn the stable/Pike branch Neutron is using only\n""legacy-neutron-dsvm-api-pecan"" job which isn\'t removed by that patch.\n\n[1] https://review.opendev.org/c/openstack/releases/+/790904\n\nChange-Id: I7b9e6cb20d7b8d8d1dff9b8bee2c652df743b2ba\n'}, {'number': 2, 'created': '2021-08-30 14:59:18.000000000', 'files': ['playbooks/legacy/periodic-tempest-dsvm-networking-midonet-aio-ml2-full-ocata/post.yaml', 'zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/periodic-tempest-dsvm-networking-midonet-aio-ml2-full-ocata/run.yaml', 'playbooks/legacy/neutron-dsvm-api/post.yaml', 'playbooks/legacy/neutron-dsvm-api/run.yaml', 'playbooks/legacy/periodic-tempest-dsvm-networking-midonet-aio-v2-full-ocata/post.yaml', 'playbooks/legacy/periodic-tempest-dsvm-networking-midonet-aio-v2-full-ocata/run.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/9a00135243fa23c1640965bac4d3ecc6a16ad0e2', 'message': 'Remove neutron and networking-midonet Ocata jobs definitions\n\nThis patch removes legacy-neutron-dsvm-api job definition\nIt seems that this job was used only in the Neutron stable/Ocata branch\nwhich is going to be EOL with [1].\nIn the stable/Pike branch Neutron is using only\n""legacy-neutron-dsvm-api-pecan"" job which isn\'t removed by that patch.\n\nIt also removes networking-midonet jobs:\n* periodic-tempest-dsvm-networking-midonet-aio-ml2-full-ocata\n* periodic-tempest-dsvm-networking-midonet-aio-v2-full-ocata\n\nAs those jobs were also used only in Ocata branch which is EOL in\nnetworking-midonet already.\n\n[1] https://review.opendev.org/c/openstack/releases/+/790904\n\nChange-Id: I7b9e6cb20d7b8d8d1dff9b8bee2c652df743b2ba\n'}]",4,791364,9a00135243fa23c1640965bac4d3ecc6a16ad0e2,16,4,2,11975,,,0,"Remove neutron and networking-midonet Ocata jobs definitions

This patch removes legacy-neutron-dsvm-api job definition
It seems that this job was used only in the Neutron stable/Ocata branch
which is going to be EOL with [1].
In the stable/Pike branch Neutron is using only
""legacy-neutron-dsvm-api-pecan"" job which isn't removed by that patch.

It also removes networking-midonet jobs:
* periodic-tempest-dsvm-networking-midonet-aio-ml2-full-ocata
* periodic-tempest-dsvm-networking-midonet-aio-v2-full-ocata

As those jobs were also used only in Ocata branch which is EOL in
networking-midonet already.

[1] https://review.opendev.org/c/openstack/releases/+/790904

Change-Id: I7b9e6cb20d7b8d8d1dff9b8bee2c652df743b2ba
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/64/791364/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/zuul-legacy-jobs.yaml'],1,85b87cdfc7738eccd27961d1e6f0f7034bc5ea04,ocata-eol,, name: legacy-neutron-dsvm-api parent: legacy-dsvm-base run: playbooks/legacy/neutron-dsvm-api/run.yaml post-run: playbooks/legacy/neutron-dsvm-api/post.yaml timeout: 7800 required-projects: - openstack/devstack-gate - openstack/neutron - job:,0,10
openstack%2Fopenstack-ansible~master~Ibda72a87252339c09ede9da691438908ffb4108e,openstack/openstack-ansible,master,Ibda72a87252339c09ede9da691438908ffb4108e,Replace deprecated include statement,MERGED,2021-08-23 07:38:50.000000000,2021-08-31 12:17:05.000000000,2021-08-31 12:11:33.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}]","[{'number': 1, 'created': '2021-08-23 07:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/905446629c8775942b4ea41f4c0eff6fdb8e6bb6', 'message': 'Replace deprecated include statement\n\nInclude has been deprecated and porepared for removal from ansible 2.12\n\nWe need to replace that before upgrading ansible version.\n\nChange-Id: Ibda72a87252339c09ede9da691438908ffb4108e\n'}, {'number': 2, 'created': '2021-08-27 10:35:17.000000000', 'files': ['playbooks/os-neutron-install.yml', 'playbooks/os-cinder-install.yml', 'playbooks/os-glance-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/172779f545ddffcc1ea0fa6535e2c59180f1dc85', 'message': 'Replace deprecated include statement\n\nInclude has been deprecated and porepared for removal from ansible 2.12\n\nWe need to replace that before upgrading ansible version.\n\nChange-Id: Ibda72a87252339c09ede9da691438908ffb4108e\n'}]",0,805587,172779f545ddffcc1ea0fa6535e2c59180f1dc85,12,3,2,28619,,,0,"Replace deprecated include statement

Include has been deprecated and porepared for removal from ansible 2.12

We need to replace that before upgrading ansible version.

Change-Id: Ibda72a87252339c09ede9da691438908ffb4108e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/87/805587/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/os-neutron-install.yml', 'playbooks/os-cinder-install.yml', 'playbooks/os-glance-install.yml']",3,905446629c8775942b4ea41f4c0eff6fdb8e6bb6,, - include_tasks: common-tasks/haproxy-endpoint-manage.yml include_tasks: common-tasks/restart-service.yml - include_tasks: common-tasks/haproxy-endpoint-manage.yml, - include: common-tasks/haproxy-endpoint-manage.yml include: common-tasks/restart-service.yml - include: common-tasks/haproxy-endpoint-manage.yml,15,15
openstack%2Fopenstack-ansible~master~Icc67194398640f870eff69ad6ab69a5b02f6ab8f,openstack/openstack-ansible,master,Icc67194398640f870eff69ad6ab69a5b02f6ab8f,Bump OpenStack-Ansible master,MERGED,2021-08-27 10:23:56.000000000,2021-08-31 12:14:58.000000000,2021-08-31 12:11:30.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-08-27 10:23:56.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5e8b57ad0644028c115d61e97b78181d49680316', 'message': 'Bump OpenStack-Ansible master\n\nChange-Id: Icc67194398640f870eff69ad6ab69a5b02f6ab8f\n'}]",0,806345,5e8b57ad0644028c115d61e97b78181d49680316,8,3,1,28619,,,0,"Bump OpenStack-Ansible master

Change-Id: Icc67194398640f870eff69ad6ab69a5b02f6ab8f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/45/806345/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml']",4,5e8b57ad0644028c115d61e97b78181d49680316,bump_osa,tempest_git_install_branch: 8e76271b5cf031901c29bea851eec8b44d1e40f3 # HEAD as of 27.08.2021,tempest_git_install_branch: 2eb82f1cbc2bd1e189e33ee65a5beb33aff9d1f5 # HEAD as of 20.07.2021,59,59
openstack%2Fkuryr-kubernetes~master~I9d7082fc42b5dbd67f7214810719158d93f5f88d,openstack/kuryr-kubernetes,master,I9d7082fc42b5dbd67f7214810719158d93f5f88d,Document cache parameters,MERGED,2021-08-29 00:16:35.000000000,2021-08-31 12:09:17.000000000,2021-08-31 12:07:28.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2021-08-29 00:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/89d89b7f940978d15eab003ccf9ef251d69039be', 'message': 'Document cache parameters\n\nThis change adds help strings for cache parameters, so that description\nof these parameters are included in .conf file generated by\noslo-config-generator.\n\nChange-Id: I9d7082fc42b5dbd67f7214810719158d93f5f88d\n'}, {'number': 2, 'created': '2021-08-30 11:05:50.000000000', 'files': ['kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/utils.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cb30a40c741e1948e06a01c3dc10ac40ea7e0942', 'message': 'Document cache parameters\n\nThis change adds help strings for cache parameters, so that description\nof these parameters are included in .conf file generated by\noslo-config-generator.\n\nChange-Id: I9d7082fc42b5dbd67f7214810719158d93f5f88d\n'}]",3,806484,cb30a40c741e1948e06a01c3dc10ac40ea7e0942,13,3,2,9816,,,0,"Document cache parameters

This change adds help strings for cache parameters, so that description
of these parameters are included in .conf file generated by
oslo-config-generator.

Change-Id: I9d7082fc42b5dbd67f7214810719158d93f5f88d
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/84/806484/2 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/opts.py', 'kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/utils.py']",3,89d89b7f940978d15eab003ccf9ef251d69039be,oslo-cfg,"from kuryr.lib._i18n import _ cfg.BoolOpt('caching', default=True, help=_('Enable caching of subnets.')), cfg.IntOpt('cache_time', default=3600, help=_('TTL, in seconds, for cached subnets')), cfg.BoolOpt('caching', default=True, help=_('Enable caching of nodes.')), cfg.IntOpt('cache_time', default=3600, help=_('TTL, in seconds, for cached nodes')),"," cfg.BoolOpt('caching', default=True), cfg.IntOpt('cache_time', default=3600), cfg.BoolOpt('caching', default=True), cfg.IntOpt('cache_time', default=3600),",14,9
openstack%2Fsahara~master~Ifd48536dc822203291d53ad63f8eccdb6d1c9dab,openstack/sahara,master,Ifd48536dc822203291d53ad63f8eccdb6d1c9dab,Support fuzzy query image by name,ABANDONED,2021-08-31 09:53:39.000000000,2021-08-31 12:04:59.000000000,,[],"[{'number': 1, 'created': '2021-08-31 09:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/1f08026060dd3cdfc9278eb475613e23a2f07782', 'message': 'Support fuzzy query image by name\n\nChange-Id: Ifd48536dc822203291d53ad63f8eccdb6d1c9dab\n'}, {'number': 2, 'created': '2021-08-31 11:07:35.000000000', 'files': ['sahara/utils/openstack/images.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/bd0d06dec442e6553a56758e004edd1231ca7c78', 'message': 'Support fuzzy query image by name\n\nWhen querying the list of registered images, query according to some\ncharacters of the iamge name.\n\nChange-Id: Ifd48536dc822203291d53ad63f8eccdb6d1c9dab\n'}]",0,806718,bd0d06dec442e6553a56758e004edd1231ca7c78,7,0,2,31412,,,0,"Support fuzzy query image by name

When querying the list of registered images, query according to some
characters of the iamge name.

Change-Id: Ifd48536dc822203291d53ad63f8eccdb6d1c9dab
",git fetch https://review.opendev.org/openstack/sahara refs/changes/18/806718/2 && git format-patch -1 --stdout FETCH_HEAD,['sahara/utils/openstack/images.py'],1,1f08026060dd3cdfc9278eb475613e23a2f07782,, return [i for i in images_list if name in i.name], return [i for i in images_list if i.name == name],1,1
openstack%2Freleases~master~I12b6ab6531b79837c76b80a278c4c3baa30355ed,openstack/releases,master,I12b6ab6531b79837c76b80a278c4c3baa30355ed,python-zunclient 4.3.0,ABANDONED,2021-08-31 11:26:42.000000000,2021-08-31 11:55:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-31 11:26:42.000000000', 'files': ['deliverables/xena/python-zunclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e3a7f9566a73300f99003cace5a5be4e961c9d2f', 'message': 'python-zunclient 4.3.0\n\nUncap the prettytable dependency.\n\nChange-Id: I12b6ab6531b79837c76b80a278c4c3baa30355ed\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,806728,e3a7f9566a73300f99003cace5a5be4e961c9d2f,4,2,1,15334,,,0,"python-zunclient 4.3.0

Uncap the prettytable dependency.

Change-Id: I12b6ab6531b79837c76b80a278c4c3baa30355ed
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/28/806728/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/python-zunclient.yaml'],1,e3a7f9566a73300f99003cace5a5be4e961c9d2f,python-zunclient,releases: - version: 4.3.0 projects: - repo: openstack/python-zunclient hash: 75e228daef99ff2f1f2ef4028d074389107b0d2b,,5,0
openstack%2Ftripleo-docs~master~I631c3bdd3c416b56a0c369b95fe9a8562b8849aa,openstack/tripleo-docs,master,I631c3bdd3c416b56a0c369b95fe9a8562b8849aa,Remove mention of deprecated IronicIPXEEnabled,MERGED,2021-08-18 20:30:41.000000000,2021-08-31 11:49:34.000000000,2021-08-31 11:47:54.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-08-18 20:30:41.000000000', 'files': ['deploy-guide/source/features/baremetal_overcloud.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/2be19b68edc5a729fe2b216f53ac188a3a0742ee', 'message': 'Remove mention of deprecated IronicIPXEEnabled\n\nChange-Id: I631c3bdd3c416b56a0c369b95fe9a8562b8849aa\n'}]",0,805082,2be19b68edc5a729fe2b216f53ac188a3a0742ee,9,4,1,4571,,,0,"Remove mention of deprecated IronicIPXEEnabled

Change-Id: I631c3bdd3c416b56a0c369b95fe9a8562b8849aa
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/82/805082/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/baremetal_overcloud.rst'],1,2be19b68edc5a729fe2b216f53ac188a3a0742ee,bp/whole-disk-default,,"* ``IronicIPXEEnabled`` parameter turns on iPXE (HTTP-based) for deployment instead of PXE (TFTP-based). iPXE is more reliable and scales better, so it's on by default. Also iPXE is required for UEFI boot support. ",0,4
openstack%2Fceilometer~stable%2Fussuri~I38f9ff2bec0a2a3cb9dfc5c362284e33c12f3127,openstack/ceilometer,stable/ussuri,I38f9ff2bec0a2a3cb9dfc5c362284e33c12f3127,Fix CA file for Swift pollster,MERGED,2021-08-23 13:25:06.000000000,2021-08-31 11:42:25.000000000,2021-08-31 11:40:39.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 13:25:06.000000000', 'files': ['ceilometer/tests/unit/objectstore/test_swift.py', 'releasenotes/notes/fix-1940660-5226988f2e7ae1bd.yaml', 'ceilometer/objectstore/swift.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/fae674ad4afe92ff4bb30322edde65e0dfa9d191', 'message': 'Fix CA file for Swift pollster\n\nMost OpenStack API communication uses the cafile option in the\nservice_credentials config. For swift the client is created differently,\nand does not get this option. When TLS is used, we may get an error like\nthe following:\n\nexceptions.SSLError: HTTPSConnectionPool(host=\'1.2.3.4\', port=443): Max\nretries exceeded with url: /swift/v1/AUTH_XXXX (Caused by\nSSLError(SSLError(""bad handshake: Error([(\'SSL routines\',\n\'tls_process_server_certificate\', \'certificate verify failed\')],)"",),))\n\nThis change fixes the issue by creating an HTTP connection for the Swift\nclient that uses the configured CA file.\n\nCloses-Bug: #1940660\nChange-Id: I38f9ff2bec0a2a3cb9dfc5c362284e33c12f3127\n(cherry picked from commit ed404c5f66e874779d58d3ac81f28ae22c55cf09)\n'}]",0,805564,fae674ad4afe92ff4bb30322edde65e0dfa9d191,14,2,1,14826,,,0,"Fix CA file for Swift pollster

Most OpenStack API communication uses the cafile option in the
service_credentials config. For swift the client is created differently,
and does not get this option. When TLS is used, we may get an error like
the following:

exceptions.SSLError: HTTPSConnectionPool(host='1.2.3.4', port=443): Max
retries exceeded with url: /swift/v1/AUTH_XXXX (Caused by
SSLError(SSLError(""bad handshake: Error([('SSL routines',
'tls_process_server_certificate', 'certificate verify failed')],)"",),))

This change fixes the issue by creating an HTTP connection for the Swift
client that uses the configured CA file.

Closes-Bug: #1940660
Change-Id: I38f9ff2bec0a2a3cb9dfc5c362284e33c12f3127
(cherry picked from commit ed404c5f66e874779d58d3ac81f28ae22c55cf09)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/64/805564/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/unit/objectstore/test_swift.py', 'releasenotes/notes/fix-1940660-5226988f2e7ae1bd.yaml', 'ceilometer/objectstore/swift.py']",3,fae674ad4afe92ff4bb30322edde65e0dfa9d191,," http_conn = swift.http_connection( cacert=self.conf.service_credentials.cafile) yield (t.id, swift_api_method( None, keystone_client.get_auth_token(ksclient), http_conn))"," yield (t.id, swift_api_method( keystone_client.get_auth_token(ksclient)))",40,17
openstack%2Fopenstack-ansible-haproxy_server~master~Ib37445ad852bcbd8d44d9eda9293565a4e52262b,openstack/openstack-ansible-haproxy_server,master,Ib37445ad852bcbd8d44d9eda9293565a4e52262b,Fix service removal condition,MERGED,2021-07-22 16:59:11.000000000,2021-08-31 11:38:13.000000000,2021-08-31 11:36:07.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-07-22 16:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/f433fba306f74c13f8c196a7af489bce78ba0cf6', 'message': ""Fix service removal condition\n\nIn order to remove service currently we need to satisfy one of\nconditions:\n\n- haproxy_backend_nodes and haproxy_backup_nodes are empty and defined\nbut must be defined\n- haproxy_service_enabled is False\n- state is absent\n\nThere's big issue with logic regarding haproxy_backend_nodes and\nhaproxy_backup_nodes since they both should be defined and empy,\nbut in case haproxy_backup_nodes is not defined but haproxy_backend_nodes\nis empty we should consider this as condition for removal as well.\nBut this will make it too complicated.\n\nThis change suggest consider rely only on haproxy_service_enabled and\nstate keys of haproxy_service_configs, as it's sufficient to\ndrop service based on these 2 options.\n\nChange-Id: Ib37445ad852bcbd8d44d9eda9293565a4e52262b\n""}, {'number': 2, 'created': '2021-07-23 12:25:29.000000000', 'files': ['tasks/haproxy_service_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/691f81a6d958eff896ce12733af30535878ea5a8', 'message': ""Fix service removal condition\n\nIn order to remove service currently we need to satisfy one of\nconditions:\n\n- haproxy_backend_nodes and haproxy_backup_nodes are empty and defined\nbut must be defined\n- haproxy_service_enabled is False\n- state is absent\n\nThere's big issue with logic regarding haproxy_backend_nodes and\nhaproxy_backup_nodes since they both should be defined and empy,\nbut in case haproxy_backup_nodes is not defined but haproxy_backend_nodes\nis empty we should consider this as condition for removal as well.\nBut this will make it too complicated.\n\nThis change suggest consider rely only on haproxy_service_enabled and\nstate keys of haproxy_service_configs, as it's sufficient to\ndrop service based on these 2 options.\n\nChange-Id: Ib37445ad852bcbd8d44d9eda9293565a4e52262b\n""}]",4,801910,691f81a6d958eff896ce12733af30535878ea5a8,19,3,2,28619,,,0,"Fix service removal condition

In order to remove service currently we need to satisfy one of
conditions:

- haproxy_backend_nodes and haproxy_backup_nodes are empty and defined
but must be defined
- haproxy_service_enabled is False
- state is absent

There's big issue with logic regarding haproxy_backend_nodes and
haproxy_backup_nodes since they both should be defined and empy,
but in case haproxy_backup_nodes is not defined but haproxy_backend_nodes
is empty we should consider this as condition for removal as well.
But this will make it too complicated.

This change suggest consider rely only on haproxy_service_enabled and
state keys of haproxy_service_configs, as it's sufficient to
drop service based on these 2 options.

Change-Id: Ib37445ad852bcbd8d44d9eda9293565a4e52262b
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/10/801910/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/haproxy_service_config.yml'],1,f433fba306f74c13f8c196a7af489bce78ba0cf6,, - (not ((item.service.haproxy_service_enabled | default('True')) | bool)) or, - ((item.service.haproxy_backend_nodes is defined and item.service.haproxy_backend_nodes | length == 0) and (item.service.haproxy_backup_nodes is defined and item.service.haproxy_backup_nodes | length == 0)) or (not ((item.service.haproxy_service_enabled | default('True')) | bool)) or,1,5
openstack%2Fpuppet-openstacklib~master~I932d608018bd55bcd2b7a204ade208a3be953c44,openstack/puppet-openstacklib,master,I932d608018bd55bcd2b7a204ade208a3be953c44,DNM: Testing...,ABANDONED,2021-08-29 06:10:41.000000000,2021-08-31 11:33:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-29 06:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/fbf72a4c17a0eee0a82fad10030ddbbc5479d64b', 'message': 'DNM: Testing...\n\nChange-Id: I932d608018bd55bcd2b7a204ade208a3be953c44\n'}, {'number': 2, 'created': '2021-08-29 07:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/40b5a4a68c74aa6463c7cd4feb8e71841711ce09', 'message': 'DNM: Testing...\n\nChange-Id: I932d608018bd55bcd2b7a204ade208a3be953c44\n'}, {'number': 3, 'created': '2021-08-29 13:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/75aa14dddf5ce2a9d89404e82969d50bb2441841', 'message': 'DNM: Testing...\n\nChange-Id: I932d608018bd55bcd2b7a204ade208a3be953c44\n'}, {'number': 4, 'created': '2021-08-29 15:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/ad198fb770a9ea8c875122be0ec5b161da88e74e', 'message': 'DNM: Testing...\n\nChange-Id: I932d608018bd55bcd2b7a204ade208a3be953c44\n'}, {'number': 5, 'created': '2021-08-30 12:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/89b28c8a050ab20bb9e570ba5632db441619e7e0', 'message': 'DNM: Testing...\n\nChange-Id: I932d608018bd55bcd2b7a204ade208a3be953c44\n'}, {'number': 6, 'created': '2021-08-30 23:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/767411ebe0d9ad7e349f064fd3ec9ab19d6b538b', 'message': 'DNM: Testing...\n\nChange-Id: I932d608018bd55bcd2b7a204ade208a3be953c44\n'}, {'number': 7, 'created': '2021-08-31 00:27:47.000000000', 'files': ['spec/unit/provider/openstack/credentials_spec.rb', 'lib/puppet/provider/openstack/credentials.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/8415d74d983084fa9062260d6bf5f36e7ec2bf27', 'message': 'DNM: Testing...\n\nChange-Id: I932d608018bd55bcd2b7a204ade208a3be953c44\n'}]",0,806488,8415d74d983084fa9062260d6bf5f36e7ec2bf27,18,1,7,9816,,,0,"DNM: Testing...

Change-Id: I932d608018bd55bcd2b7a204ade208a3be953c44
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/88/806488/3 && git format-patch -1 --stdout FETCH_HEAD,['spec/unit/provider/openstack/credentials_spec.rb'],1,fbf72a4c17a0eee0a82fad10030ddbbc5479d64b,system-scope, expect(creds.domain_name).to eq(''), expect(creds.domain_name).to eq(''),1,1
openstack%2Fnova~master~I2e3a77428f5f6113c10cc316f94bbec83f0f46c1,openstack/nova,master,I2e3a77428f5f6113c10cc316f94bbec83f0f46c1,"nova-manage: Introduce volume show, refresh, get_connector commands",MERGED,2021-07-13 12:49:06.000000000,2021-08-31 10:57:08.000000000,2021-08-31 10:54:48.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-13 12:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3effe3300cd8bac4bee351f32883b53c85c8b985', 'message': 'WIP/DNM nova-manage: Introduce bdm show and refresh commands\n\nBlueprint: spec/add-connection-info-to-responses-of-the-os-volume-attachments-api-for-admins\nChange-Id: I2e3a77428f5f6113c10cc316f94bbec83f0f46c1\n'}, {'number': 2, 'created': '2021-07-13 17:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8056eae7cef46c3ca1b1004e01611b2e199a9d2c', 'message': 'WIP/DNM nova-manage: Introduce bdm show and refresh commands\n\nBlueprint: spec/add-connection-info-to-responses-of-the-os-volume-attachments-api-for-admins\nChange-Id: I2e3a77428f5f6113c10cc316f94bbec83f0f46c1\n'}, {'number': 3, 'created': '2021-07-14 17:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a279a818d972cb0fb0ab5946da90311c1e9e80c', 'message': ""nova-manage: Introduce bdm show, refresh, get_connector commands\n\nAdd a combination of commands to allow users to show existing stashed\n'connector' info for a volume attachment and update volume attachments\nwith these new details. Unfortunately we don't have an easy way to\naccess connector information remotely (i.e. over the RPC API), meaning\nwe need to also provide a command to get updated (compute-specific)\nconnector information which must be run on the compute node that the\ninstance is located on.\n\nBlueprint: nova-manage-commands-to-manage-connection_info\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I2e3a77428f5f6113c10cc316f94bbec83f0f46c1\n""}, {'number': 4, 'created': '2021-07-19 09:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/932ac52f4175285ca58d1dd0f3b3f08fae1ce9e9', 'message': ""nova-manage: Introduce bdm show, refresh, get_connector commands\n\nAdd a combination of commands to allow users to show existing stashed\n'connector' info for a volume attachment and update volume attachments\nwith these new details. Unfortunately we don't have an easy way to\naccess connector information remotely (i.e. over the RPC API), meaning\nwe need to also provide a command to get updated (compute-specific)\nconnector information which must be run on the compute node that the\ninstance is located on.\n\nBlueprint: nova-manage-commands-to-manage-connection_info\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I2e3a77428f5f6113c10cc316f94bbec83f0f46c1\n""}, {'number': 5, 'created': '2021-07-20 09:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/260546956f4ee67e05b08f770112970bc8e284c4', 'message': ""WIP nova-manage: Introduce bdm show, refresh, get_connector commands\n\nAdd a combination of commands to allow users to show existing stashed\n'connector' info for a volume attachment and update volume attachments\nwith these new details. Unfortunately we don't have an easy way to\naccess connector information remotely (i.e. over the RPC API), meaning\nwe need to also provide a command to get updated (compute-specific)\nconnector information which must be run on the compute node that the\ninstance is located on.\n\nBlueprint: nova-manage-commands-to-manage-connection_info\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I2e3a77428f5f6113c10cc316f94bbec83f0f46c1\n""}, {'number': 6, 'created': '2021-08-12 19:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cbe131f305d314fc0e0f8fb8bd9a4aa49ae4c240', 'message': ""nova-manage: Introduce volume show, refresh, get_connector commands\n\nAdd a combination of commands to allow users to show existing stashed\n'connector' info for a volume attachment and update volume attachments\nwith these new details. Unfortunately we don't have an easy way to\naccess connector information remotely (i.e. over the RPC API), meaning\nwe need to also provide a command to get updated (compute-specific)\nconnector information which must be run on the compute node that the\ninstance is located on.\n\nBlueprint: nova-manage-commands-to-manage-connection_info\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I2e3a77428f5f6113c10cc316f94bbec83f0f46c1\n""}, {'number': 7, 'created': '2021-08-19 12:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b85dd26ba27b0faabc838c15449d5a70de0ffb6d', 'message': ""nova-manage: Introduce volume show, refresh, get_connector commands\n\nAdd a combination of commands to allow users to show existing stashed\nconnection_info for a volume attachment and update volume attachments\nwith fresh connection_info from Cinder.\n\nUnfortunately we don't have an easy way to access host connector\ninformation remotely (i.e. over the RPC API), meaning we need to also\nprovide a command to get updated (compute-specific) connector\ninformation which must be run on the compute node that the instance is\nlocated on.\n\nBlueprint: nova-manage-commands-to-manage-connection_info\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I2e3a77428f5f6113c10cc316f94bbec83f0f46c1\n""}, {'number': 8, 'created': '2021-08-19 12:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d143fc9ea99dfd4d414e42c46f835d4a9d5b092b', 'message': ""nova-manage: Introduce volume show, refresh, get_connector commands\n\nAdd a combination of commands to allow users to show existing stashed\nconnection_info for a volume attachment and update volume attachments\nwith fresh connection_info from Cinder.\n\nUnfortunately we don't have an easy way to access host connector\ninformation remotely (i.e. over the RPC API), meaning we need to also\nprovide a command to get updated (compute-specific) connector\ninformation which must be run on the compute node that the instance is\nlocated on.\n\nBlueprint: nova-manage-commands-to-manage-connection_info\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I2e3a77428f5f6113c10cc316f94bbec83f0f46c1\n""}, {'number': 9, 'created': '2021-08-19 14:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84ae1d2d0304671188a086d9f4419f2909f456b7', 'message': ""nova-manage: Introduce volume show, refresh, get_connector commands\n\nAdd a combination of commands to allow users to show existing stashed\nconnection_info for a volume attachment and update volume attachments\nwith fresh connection_info from Cinder.\n\nUnfortunately we don't have an easy way to access host connector\ninformation remotely (i.e. over the RPC API), meaning we need to also\nprovide a command to get the compute specific connector information\nwhich must be run on the compute node that the instance is located on.\n\nBlueprint: nova-manage-refresh-connection-info\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I2e3a77428f5f6113c10cc316f94bbec83f0f46c1\n""}, {'number': 10, 'created': '2021-08-20 11:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96157509cd72b8d016ee3fe8f1cdd9e59a903410', 'message': ""nova-manage: Introduce volume show, refresh, get_connector commands\n\nAdd a combination of commands to allow users to show existing stashed\nconnection_info for a volume attachment and update volume attachments\nwith fresh connection_info from Cinder by recreating the attachments.\n\nUnfortunately we don't have an easy way to access host connector\ninformation remotely (i.e. over the RPC API), meaning we need to also\nprovide a command to get the compute specific connector information\nwhich must be run on the compute node that the instance is located on.\n\nBlueprint: nova-manage-refresh-connection-info\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I2e3a77428f5f6113c10cc316f94bbec83f0f46c1\n""}, {'number': 11, 'created': '2021-08-20 16:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d52dcdf3a285d5b7d4c282895ce6c771a955cb6', 'message': ""nova-manage: Introduce volume show, refresh, get_connector commands\n\nAdd a combination of commands to allow users to show existing stashed\nconnection_info for a volume attachment and update volume attachments\nwith fresh connection_info from Cinder by recreating the attachments.\n\nUnfortunately we don't have an easy way to access host connector\ninformation remotely (i.e. over the RPC API), meaning we need to also\nprovide a command to get the compute specific connector information\nwhich must be run on the compute node that the instance is located on.\n\nBlueprint: nova-manage-refresh-connection-info\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I2e3a77428f5f6113c10cc316f94bbec83f0f46c1\n""}, {'number': 12, 'created': '2021-08-23 12:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be2bdd218f8275e57c9e133cf16f7320037e3265', 'message': ""nova-manage: Introduce volume show, refresh, get_connector commands\n\nAdd a combination of commands to allow users to show existing stashed\nconnection_info for a volume attachment and update volume attachments\nwith fresh connection_info from Cinder by recreating the attachments.\n\nUnfortunately we don't have an easy way to access host connector\ninformation remotely (i.e. over the RPC API), meaning we need to also\nprovide a command to get the compute specific connector information\nwhich must be run on the compute node that the instance is located on.\n\nBlueprint: nova-manage-refresh-connection-info\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I2e3a77428f5f6113c10cc316f94bbec83f0f46c1\n""}, {'number': 13, 'created': '2021-08-25 09:26:56.000000000', 'files': ['nova/tests/functional/test_nova_manage.py', 'releasenotes/notes/add-nova-manage-bdm-commands-19f360dd85c1e81d.yaml', 'nova/tests/unit/cmd/test_manage.py', 'doc/source/cli/nova-manage.rst', 'nova/cmd/manage.py', 'nova/compute/instance_actions.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e906a8c0ec87b870b0ae75c20cf1d2da36433636', 'message': ""nova-manage: Introduce volume show, refresh, get_connector commands\n\nAdd a combination of commands to allow users to show existing stashed\nconnection_info for a volume attachment and update volume attachments\nwith fresh connection_info from Cinder by recreating the attachments.\n\nUnfortunately we don't have an easy way to access host connector\ninformation remotely (i.e. over the RPC API), meaning we need to also\nprovide a command to get the compute specific connector information\nwhich must be run on the compute node that the instance is located on.\n\nBlueprint: nova-manage-refresh-connection-info\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I2e3a77428f5f6113c10cc316f94bbec83f0f46c1\n""}]",83,800634,e906a8c0ec87b870b0ae75c20cf1d2da36433636,140,6,13,10135,,,0,"nova-manage: Introduce volume show, refresh, get_connector commands

Add a combination of commands to allow users to show existing stashed
connection_info for a volume attachment and update volume attachments
with fresh connection_info from Cinder by recreating the attachments.

Unfortunately we don't have an easy way to access host connector
information remotely (i.e. over the RPC API), meaning we need to also
provide a command to get the compute specific connector information
which must be run on the compute node that the instance is located on.

Blueprint: nova-manage-refresh-connection-info
Co-authored-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I2e3a77428f5f6113c10cc316f94bbec83f0f46c1
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/800634/11 && git format-patch -1 --stdout FETCH_HEAD,['nova/cmd/manage.py'],1,3effe3300cd8bac4bee351f32883b53c85c8b985,bp/nova-manage-commands-to-manage-connection_info,"from os_brick.initiator import connectorfrom nova.compute import rpcapi as compute_rpcapifrom nova import utilsfrom nova.volume import cinderclass BdmCommands(object): @action_description( _(""Show the details of a given bdm."")) @args('--bdm_uuid', metavar='<bdm_uuid>', dest='bdm_uuid', required=True, help='UUID of the bdm to show') def show(self, bdm_uuid=None): ctxt = context.get_admin_ctxt() bdm = objects.BlockDeviceMapping.get_by_uuid(ctxt, bdm_uuid) print(bdm.connection_info) @action_description( _(""Show the host connector."")) def get_host_connector(self): root_helper = utils.get_root_helper() host_connector = connector.get_connector_properties( root_helper, CONF.my_block_storage_ip, CONF.libvirt.volume_use_multipath, enforce_multipath=True, host=CONF.host) if host_connector: print(host_connector) @action_description( _(""Refresh the connection info associated with a given volume bdm."")) @args('--bdm_uuid', metavar='<bdm_uuid>', dest='bdm_uuid', required=True, help='UUID of the bdm to show') @args('--connector', metavar='<connector>', dest='connector', required=True, help='Host connector') def refresh(self, bdm_uuid=None, connector=None): ctxt = context.get_admin_ctxt() bdm = None try: bdm = objects.BlockDeviceMapping.get_by_uuid(ctxt, bdm_uuid) if bdm.destination_type != 'volume': LOG.error(f""Provided bdm {bdm_uuid} does not represent a "" ""volume attachment."") return 2 except Exception: LOG.error(f""Unable to find bdm with UUID of {bdm_uuid}"") return 3 # Find the underlying compute service for the instance and assert that # it's using the libvirt virt driver. instance = objects.Instance.get_by_uuid(ctxt, bdm.instance_uuid) cn = objects.ComputeNode.get_by_nodename(ctxt, instance.node) if cn.hypervisor_type != 'QEMU' and cn.hypervisor_type != 'kvm': LOG.error(""Only supported when using the libvirt virt driver"") return 4 new_attachment_id = None try: vol_api = cinder.API() comp_api = compute_api.API() comp_rpcapi = compute_rpcapi.ComputeAPI() # Lock the instance to stop users from restarting it during this # refresh, admins however are able to preform actions against # it still so care is still required. comp_api.lock( ctxt, instance, reason=f""Refreshing connection_info for bdm {bdm_uuid}"") # Create a blank attachment to keep the volume reserved new_attachment_id = vol_api.attachment_create( ctxt, bdm.volume_id, bdm.instance_uuid)['id'] # RPC call to the compute to cleanup the connections, this will # inturn unmap the volume, delete any existing attachments etc. comp_rpcapi.remove_volume_connection( ctxt, instance, bdm.volume_id, instance.host) # Now that the bdm isn't associated with the original volume # attachment we can switch over to the new attachment bdm.attachment_id = new_attachment_id # Update attachment with host connector, this regenerates the # connection_info that we can now stash in the bdm. new_connection_info = vol_api.attachment_update( ctxt, new_attachment_id, connector)['connection_info'] # Before we save it to the BDM ensure the serial is stashed as # is done in various other codepaths when attaching volumes. if 'serial' not in new_connection_info: new_connection_info['serial'] = bdm.volume_id # Save the new attachment id and connection_info to the DB bdm.connection_info = new_connection_info bdm.save() # Finally mark the attachment as complete, moving the volume status # from attaching to in-use ahead of the instance restarting. vol_api.attachment_complete(ctxt, new_attachment_id) except Exception: return 9 finally: # Fetch the instance again and unlock if it's locked instance = objects.Instance.get_by_uuid(ctxt, bdm.instance_uuid) if instance.locked: comp_api.unlock(ctxt, instance) 'bdm': BdmCommands,",,108,0
openstack%2Fnova~stable%2Fwallaby~I546d376869a992601b443fb95acf1034da2a8f36,openstack/nova,stable/wallaby,I546d376869a992601b443fb95acf1034da2a8f36,Reduce mocking in test_reject_open_redirect for compat,MERGED,2021-07-31 00:57:43.000000000,2021-08-31 10:56:53.000000000,2021-08-31 10:55:04.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-31 00:57:43.000000000', 'files': ['nova/tests/unit/console/test_websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9c2f29783734cb5f9cb05a08d328c10e1d16c4f1', 'message': 'Reduce mocking in test_reject_open_redirect for compat\n\nThis is a followup for change Ie36401c782f023d1d5f2623732619105dc2cfa24\nto reduce mocking in the unit test coverage for it.\n\nWhile backporting the bug fix, it was found to be incompatible with\nearlier versions of Python < 3.6 due to a difference in internal\nimplementation [1].\n\nThis reduces the mocking in the unit test to be more agnostic to the\ninternals of the StreamRequestHandler (ancestor of\nSimpleHTTPRequestHandler) and work across Python versions >= 2.7.\n\nRelated-Bug: #1927677\n\n[1] https://github.com/python/cpython/commit/34eeed42901666fce099947f93dfdfc05411f286\n\nChange-Id: I546d376869a992601b443fb95acf1034da2a8f36\n(cherry picked from commit 214cabe6848a1fdb4f5941d994c6cc11107fc4af)\n'}]",0,803092,9c2f29783734cb5f9cb05a08d328c10e1d16c4f1,10,3,1,4690,,,0,"Reduce mocking in test_reject_open_redirect for compat

This is a followup for change Ie36401c782f023d1d5f2623732619105dc2cfa24
to reduce mocking in the unit test coverage for it.

While backporting the bug fix, it was found to be incompatible with
earlier versions of Python < 3.6 due to a difference in internal
implementation [1].

This reduces the mocking in the unit test to be more agnostic to the
internals of the StreamRequestHandler (ancestor of
SimpleHTTPRequestHandler) and work across Python versions >= 2.7.

Related-Bug: #1927677

[1] https://github.com/python/cpython/commit/34eeed42901666fce099947f93dfdfc05411f286

Change-Id: I546d376869a992601b443fb95acf1034da2a8f36
(cherry picked from commit 214cabe6848a1fdb4f5941d994c6cc11107fc4af)
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/803092/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/console/test_websocketproxy.py'],1,9c2f29783734cb5f9cb05a08d328c10e1d16c4f1,bug/1927677,"import io handler = websocketproxy.NovaProxyRequestHandler( # Collect the response data to verify at the end. The # SimpleHTTPRequestHandler writes the response data to a 'wfile' # attribute. output = io.BytesIO() handler.wfile = output # Process the mock_req again to do the capture. handler.do_GET() output.seek(0) result = output.readlines() self.assertIn('400 URI must not start with //', result[0].decode())"," # Collect the response data to verify at the end. The # SimpleHTTPRequestHandler writes the response data by calling the # request socket sendall() method. self.data = b'' def fake_sendall(data): self.data += data mock_req.sendall.side_effect = fake_sendall websocketproxy.NovaProxyRequestHandler( self.data = self.data.decode() self.assertIn('Error code: 400', self.data) self.assertIn('Message: URI must not start with //', self.data)",13,14
openstack%2Fplacement~master~If6d8ae575400fb8d2f78c871ff7394e9fbcf5816,openstack/placement,master,If6d8ae575400fb8d2f78c871ff7394e9fbcf5816,Refactor consumer type methods for readability,MERGED,2021-08-25 17:45:45.000000000,2021-08-31 10:56:45.000000000,2021-08-31 10:54:53.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-25 17:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/406b1c5c03d2909f46edbd6d3e96ede37379b7ad', 'message': 'Refactor consumer type methods for readability\n\nThis contains fixups for change\nI24c2315093e07dbf25c4fb53152e6a4de7477a51 to rename a method to more\naccurately convey what it does, refactor a keyword arg in a method to\nincrease readability, and update the reshaper request example to show\nthe latest available version 1.38.\n\nStory: 2005473\nTask: 36421\n\nChange-Id: If6d8ae575400fb8d2f78c871ff7394e9fbcf5816\n'}, {'number': 2, 'created': '2021-08-25 18:22:45.000000000', 'files': ['api-ref/source/reshaper.inc', 'placement/handlers/util.py', 'placement/objects/usage.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/419dcc7ce0319f4b7165ba13e1423cec91a69bea', 'message': 'Refactor consumer type methods for readability\n\nThis contains fixups for change\nI24c2315093e07dbf25c4fb53152e6a4de7477a51 to rename a method to more\naccurately convey what it does, refactor a keyword arg in a method to\nincrease readability, and update the reshaper request example to show\nthe latest available version 1.38.\n\nStory: 2005473\nTask: 36421\n\nChange-Id: If6d8ae575400fb8d2f78c871ff7394e9fbcf5816\n'}]",4,806035,419dcc7ce0319f4b7165ba13e1423cec91a69bea,16,5,2,4690,,,0,"Refactor consumer type methods for readability

This contains fixups for change
I24c2315093e07dbf25c4fb53152e6a4de7477a51 to rename a method to more
accurately convey what it does, refactor a keyword arg in a method to
increase readability, and update the reshaper request example to show
the latest available version 1.38.

Story: 2005473
Task: 36421

Change-Id: If6d8ae575400fb8d2f78c871ff7394e9fbcf5816
",git fetch https://review.opendev.org/openstack/placement refs/changes/35/806035/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/reshaper.inc', 'placement/handlers/util.py', 'placement/objects/usage.py']",3,406b1c5c03d2909f46edbd6d3e96ede37379b7ad,bp/support-consumer-types," consumer_type=None): """"""Get usages by project, user, and consumer type. When consumer_type is *not* ""all"" or ""unknown"", usages will be returned without regard to consumer type (behavior prior to microversion 1.38). :param context: `placement.context.RequestContext` that contains an oslo_db Session :param project_id: The project ID for which to get usages :param user_id: The optional user ID for which to get usages :param consumer_type: Optionally group usages under one key, ""all"" or ""unknown"". If ""all"" is specified, all results will be grouped under one key, ""all"". If ""unknown"" is specified, all results will be grouped under one key, ""unknown"". """""" if consumer_type in ('all', 'unknown'): if consumer_type == 'unknown': if consumer_type == 'unknown': consumer_type=consumer_type, consumer_type=consumer_type)"," consumer_type=False): # Handle 'all' or 'unknown' consumer type. The consumer_type is True if # 'all' is requested, and None if 'unknown' is requested. if consumer_type is None or consumer_type: if consumer_type is None: if consumer_type is None: consumer_type='all' if consumer_type else 'unknown', cons_type = True if consumer_type == 'all' else None consumer_type=cons_type)",26,14
openstack%2Ftripleo-heat-templates~master~Id77662e9dd466ec8609354c2dbeee8592f599e72,openstack/tripleo-heat-templates,master,Id77662e9dd466ec8609354c2dbeee8592f599e72,Add IronicNeutronAgentReportInterval parameter,MERGED,2021-08-26 14:08:57.000000000,2021-08-31 10:47:48.000000000,2021-08-31 10:46:06.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-26 14:08:57.000000000', 'files': ['deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'releasenotes/notes/networking-baremetal-report-interval-d08a44a147a1846e.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9574cd4d0f65fd6f7a5a6e04379f8bc4fd6c020c', 'message': 'Add IronicNeutronAgentReportInterval parameter\n\nAdd IronicNeutronAgentReportInterval with a default of\n30 seconds.\n\nPreviously the ironic-neutron-agent used the global report\ninterval in neutron. The global interval was increased to\n300s in change: Ib3f7cd9d6c050140a5e8b59adf7fd8f65b12df2f.\n\nWhile the 300s interval may make sense for other agents,\nthe ironic-neutron-agent can keep reporting at 30s, the\nprevious default.\n\nCloses-Bug: #1940838\nDepends-On: I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209\nChange-Id: Id77662e9dd466ec8609354c2dbeee8592f599e72\n'}]",0,806193,9574cd4d0f65fd6f7a5a6e04379f8bc4fd6c020c,17,6,1,24245,,,0,"Add IronicNeutronAgentReportInterval parameter

Add IronicNeutronAgentReportInterval with a default of
30 seconds.

Previously the ironic-neutron-agent used the global report
interval in neutron. The global interval was increased to
300s in change: Ib3f7cd9d6c050140a5e8b59adf7fd8f65b12df2f.

While the 300s interval may make sense for other agents,
the ironic-neutron-agent can keep reporting at 30s, the
previous default.

Closes-Bug: #1940838
Depends-On: I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209
Change-Id: Id77662e9dd466ec8609354c2dbeee8592f599e72
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/93/806193/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'releasenotes/notes/networking-baremetal-report-interval-d08a44a147a1846e.yaml']",2,9574cd4d0f65fd6f7a5a6e04379f8bc4fd6c020c,bug/1940838,--- fixes: - | The neutron agent report interval was recently changed from the 30s default to 300s. This caused issues whith timeouts when providing baremetal nodes. A new parameter IronicNeutronAgentReportInterval has been added with a default of 30s so that the report interval specifically for the networking baremetal agent is restored. See bug: `1940838 <https://bugs.launchpad.net/tripleo/+bug/1940838>`_. ,,18,0
openstack%2Ftripleo-quickstart-extras~master~Ie189fa25cb647a50834fcff8ee59df1d1946392d,openstack/tripleo-quickstart-extras,master,Ie189fa25cb647a50834fcff8ee59df1d1946392d,Migrate overcloud-deploy.sh shell script to ansible roles part-2,MERGED,2021-08-10 16:35:04.000000000,2021-08-31 10:46:10.000000000,2021-08-31 10:46:10.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-08-10 16:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/29faeb3aaeb75b5ba634e84b69c784ae444a6633', 'message': '[WIP] Migrate overcloud-deploy.sh shell script to ansible roles\n\nMigrate overcloud network vip provision from shell script to\ntripleo_overcloud_network_vip_provision role in tripleo.operator\ncollections.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Ie189fa25cb647a50834fcff8ee59df1d1946392d\n'}, {'number': 2, 'created': '2021-08-11 09:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/93a60d18233112678d5ca8b284b212cc6aadf7ce', 'message': 'Migrate overcloud-deploy.sh shell script to ansible roles\n\nMigrate overcloud network vip provision from shell script to\ntripleo_overcloud_network_vip_provision role in tripleo.operator\ncollections.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Ie189fa25cb647a50834fcff8ee59df1d1946392d\n'}, {'number': 3, 'created': '2021-08-12 14:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/873cdc6e0e4c7647ba73dcb45687c601c477074c', 'message': 'Migrate overcloud-deploy.sh shell script to ansible roles part-2\n\nMigrate overcloud network vip provision from shell script to\ntripleo_overcloud_network_vip_provision role in tripleo.operator\ncollections.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Ie189fa25cb647a50834fcff8ee59df1d1946392d\n'}, {'number': 4, 'created': '2021-08-16 12:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/65426b417c77f6459fb58532aef98dc81ad6bdb0', 'message': 'Migrate overcloud-deploy.sh shell script to ansible roles part-2\n\nMigrate overcloud network vip provision from shell script to\ntripleo_overcloud_network_vip_provision role in tripleo.operator\ncollections.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Ie189fa25cb647a50834fcff8ee59df1d1946392d\n'}, {'number': 5, 'created': '2021-08-19 17:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f2238e35b30cdeebd532e4ab2edecd18c280207f', 'message': 'Migrate overcloud-deploy.sh shell script to ansible roles part-2\n\nMigrate overcloud network vip provision from shell script to\ntripleo_overcloud_network_vip_provision role in tripleo.operator\ncollections.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Ie189fa25cb647a50834fcff8ee59df1d1946392d\n'}, {'number': 6, 'created': '2021-08-20 05:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0b32ad92749dbe06787c79cbdf2fd84c80dfdad2', 'message': 'Migrate overcloud-deploy.sh shell script to ansible roles part-2\n\nMigrate overcloud network vip provision from shell script to\ntripleo_overcloud_network_vip_provision role in tripleo.operator\ncollections.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Ie189fa25cb647a50834fcff8ee59df1d1946392d\n'}, {'number': 7, 'created': '2021-08-25 13:02:08.000000000', 'files': ['roles/overcloud-deploy/tasks/deploy-overcloud.yml', 'roles/overcloud-deploy/templates/overcloud-deploy.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/50a33c827257adef6c95390bd468196a3e67a82b', 'message': 'Migrate overcloud-deploy.sh shell script to ansible roles part-2\n\nMigrate overcloud network vip provision from shell script to\ntripleo_overcloud_network_vip_provision role in tripleo.operator\ncollections.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Ie189fa25cb647a50834fcff8ee59df1d1946392d\n'}]",2,804113,50a33c827257adef6c95390bd468196a3e67a82b,49,9,7,30750,,,0,"Migrate overcloud-deploy.sh shell script to ansible roles part-2

Migrate overcloud network vip provision from shell script to
tripleo_overcloud_network_vip_provision role in tripleo.operator
collections.

Signed-off-by: Amol Kahat <amolkahat@gmail.com>
Change-Id: Ie189fa25cb647a50834fcff8ee59df1d1946392d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/13/804113/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/overcloud-deploy/tasks/deploy-overcloud.yml', 'roles/overcloud-deploy/templates/overcloud-deploy.sh.j2']",2,29faeb3aaeb75b5ba634e84b69c784ae444a6633,utilize-tripleo-operator,,{% if network_provision|bool %} openstack overcloud network vip provision \ --output {{ working_dir }}/overcloud-vips-deployed.yaml \ --stack {{ stack_name }} \ {{overcloud_templates_path}}/ci/vip_data.yaml if [ $? -ne 0 ]; then exit 1 fi {% endif %} ,14,12
openstack%2Ftripleo-quickstart-extras~master~Icc189b72d8a64652d60b8de34b9f5b392af227ff,openstack/tripleo-quickstart-extras,master,Icc189b72d8a64652d60b8de34b9f5b392af227ff,Migrate overcloud-deploy.sh shell script to ansible roles part-1,MERGED,2021-08-05 15:26:26.000000000,2021-08-31 10:46:08.000000000,2021-08-31 10:46:08.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-08-05 15:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8dadc387514cdaef9a12ecfb99ddebb2ec2247e3', 'message': '[WIP] Migrate overcloud-deploy.sh shell script to ansible roles\n\nMigrate overcloud network provision from shell script to\ntripleo_overcloud_network_provision role in tripleo.operator\ncollections.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Icc189b72d8a64652d60b8de34b9f5b392af227ff\n'}, {'number': 2, 'created': '2021-08-05 18:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d1c2b27d6b52ba4d6282c9ac90e554f3641852ae', 'message': '[WIP] Migrate overcloud-deploy.sh shell script to ansible roles\n\nMigrate overcloud network provision from shell script to\ntripleo_overcloud_network_provision role in tripleo.operator\ncollections.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Icc189b72d8a64652d60b8de34b9f5b392af227ff\n'}, {'number': 3, 'created': '2021-08-10 16:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/04c73148b0d0fe65f9d655f7d1d3a36b18d99c14', 'message': 'Migrate overcloud-deploy.sh shell script to ansible roles\n\nMigrate overcloud network provision from shell script to\ntripleo_overcloud_network_provision role in tripleo.operator\ncollections.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Icc189b72d8a64652d60b8de34b9f5b392af227ff\n'}, {'number': 4, 'created': '2021-08-12 14:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fea6eb934c2e80c62319628217ebfcc865627368', 'message': 'Migrate overcloud-deploy.sh shell script to ansible roles part-1\n\nMigrate overcloud network provision from shell script to\ntripleo_overcloud_network_provision role in tripleo.operator\ncollections.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Icc189b72d8a64652d60b8de34b9f5b392af227ff\n'}, {'number': 5, 'created': '2021-08-16 12:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/811106008a79bd1b2b6e333370365b7b27ad808f', 'message': 'Migrate overcloud-deploy.sh shell script to ansible roles part-1\n\nMigrate overcloud network provision from shell script to\ntripleo_overcloud_network_provision role in tripleo.operator\ncollections.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Icc189b72d8a64652d60b8de34b9f5b392af227ff\n'}, {'number': 6, 'created': '2021-08-19 17:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c75c9513cdc420ae7bcba36e417a9009853d361b', 'message': 'Migrate overcloud-deploy.sh shell script to ansible roles part-1\n\nMigrate overcloud network provision from shell script to\ntripleo_overcloud_network_provision role in tripleo.operator\ncollections.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Icc189b72d8a64652d60b8de34b9f5b392af227ff\n'}, {'number': 7, 'created': '2021-08-20 05:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f346f06bb76b6be6effc5e55dff56815d3c6a150', 'message': 'Migrate overcloud-deploy.sh shell script to ansible roles part-1\n\nMigrate overcloud network provision from shell script to\ntripleo_overcloud_network_provision role in tripleo.operator\ncollections.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Icc189b72d8a64652d60b8de34b9f5b392af227ff\n'}, {'number': 8, 'created': '2021-08-25 12:58:08.000000000', 'files': ['roles/overcloud-deploy/tasks/deploy-overcloud.yml', 'roles/overcloud-deploy/templates/overcloud-deploy.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/15bf005d0c30b0bc8dbdc9b31c8dc586ff3a91a8', 'message': 'Migrate overcloud-deploy.sh shell script to ansible roles part-1\n\nMigrate overcloud network provision from shell script to\ntripleo_overcloud_network_provision role in tripleo.operator\ncollections.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Icc189b72d8a64652d60b8de34b9f5b392af227ff\n'}]",3,803627,15bf005d0c30b0bc8dbdc9b31c8dc586ff3a91a8,49,9,8,30750,,,0,"Migrate overcloud-deploy.sh shell script to ansible roles part-1

Migrate overcloud network provision from shell script to
tripleo_overcloud_network_provision role in tripleo.operator
collections.

Signed-off-by: Amol Kahat <amolkahat@gmail.com>
Change-Id: Icc189b72d8a64652d60b8de34b9f5b392af227ff
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/27/803627/8 && git format-patch -1 --stdout FETCH_HEAD,"['roles/overcloud-deploy/tasks/deploy-overcloud.yml', 'roles/overcloud-deploy/templates/overcloud-deploy.sh.j2']",2,8dadc387514cdaef9a12ecfb99ddebb2ec2247e3,utilize-tripleo-operator,,{% if hypervisor_wait|bool %} ### --stop_docs # Wait until there are hypervisors available. while true; do count=$(openstack hypervisor stats show -c count -f value) if [ $count -gt 0 ]; then break fi done {% endif %} ### --start_docs {% if network_provision|bool %} openstack overcloud network provision \ --output {{ working_dir }}/overcloud-networks-deployed.yaml \ {{overcloud_templates_path}}/ci/network_data.yaml if [ $? -ne 0 ]; then exit 1 fi {% endif %} ,26,22
openstack%2Fpython-cinderclient~stable%2Fwallaby~Ie00f068d7818e20683a0c242b51027d657382dd4,openstack/python-cinderclient,stable/wallaby,Ie00f068d7818e20683a0c242b51027d657382dd4,[stable-only] Add missing classes to cinderclient.v3,MERGED,2021-07-29 15:14:21.000000000,2021-08-31 10:43:53.000000000,2021-08-31 10:41:54.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-29 15:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/687e763dcc0cd753ce6fabcd9ee7c31d8717e50e', 'message': 'Add missing classes to cinderclient.v3\n\nThe QuotaSet class was never added to cinderclient.v3.quotas, and\nthe VolumeTransfer class was never added to cinderclient.v3.\nvolume_transfers.\n\nNote: this fix is proposed directly to the stable branches, as the\nissue was fixed differently in master (Xena development) when the\ncinderclient.v2 classes were removed by change I335db5c1799e.\n\nChange-Id: Ie00f068d7818e20683a0c242b51027d657382dd4\nCloses-bug: #1938451\n'}, {'number': 2, 'created': '2021-07-29 22:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/e251faeba7b889c41a1206ec9eb1a410d763ad2a', 'message': 'Add missing classes to cinderclient.v3\n\nThe QuotaSet class was never added to cinderclient.v3.quotas, and\nthe VolumeTransfer class was never added to cinderclient.v3.\nvolume_transfers.\n\nNote: this fix is proposed directly to the stable branches, as the\nissue was fixed differently in master (Xena development) when the\ncinderclient.v2 classes were removed by change I335db5c1799e.\n\nChange-Id: Ie00f068d7818e20683a0c242b51027d657382dd4\nCloses-bug: #1938451\n'}, {'number': 3, 'created': '2021-07-30 02:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/b32b3e7d4f7168f7684d27fefcaec956b1a72c93', 'message': 'Add missing classes to cinderclient.v3\n\nThe QuotaSet class was never added to cinderclient.v3.quotas, and\nthe VolumeTransfer class was never added to cinderclient.v3.\nvolume_transfers.\n\nNote: this fix is proposed directly to the stable branches, as the\nissue was fixed differently in master (Xena development) when the\ncinderclient.v2 classes were removed by change I335db5c1799e.\n\nChange-Id: Ie00f068d7818e20683a0c242b51027d657382dd4\nCloses-bug: #1938451\n'}, {'number': 4, 'created': '2021-08-07 00:53:17.000000000', 'files': ['cinderclient/v3/quotas.py', 'cinderclient/v3/volume_transfers.py', 'cinderclient/tests/unit/v3/test_v2_compatibility.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/579846c7a4446be98763540b1669f39464c2cab8', 'message': '[stable-only] Add missing classes to cinderclient.v3\n\nThe QuotaSet class was never added to cinderclient.v3.quotas, and\nthe VolumeTransfer class was never added to cinderclient.v3.\nvolume_transfers.\n\nNote: this fix is proposed directly to the stable branches, as the\nissue was fixed differently in master (Xena development) when the\ncinderclient.v2 classes were removed by change I335db5c1799e.\n\nChange-Id: Ie00f068d7818e20683a0c242b51027d657382dd4\nCloses-bug: #1938451\n'}]",0,802904,579846c7a4446be98763540b1669f39464c2cab8,18,5,4,5314,,,0,"[stable-only] Add missing classes to cinderclient.v3

The QuotaSet class was never added to cinderclient.v3.quotas, and
the VolumeTransfer class was never added to cinderclient.v3.
volume_transfers.

Note: this fix is proposed directly to the stable branches, as the
issue was fixed differently in master (Xena development) when the
cinderclient.v2 classes were removed by change I335db5c1799e.

Change-Id: Ie00f068d7818e20683a0c242b51027d657382dd4
Closes-bug: #1938451
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/04/802904/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/v3/quotas.py', 'cinderclient/v3/volume_transfers.py', 'cinderclient/tests/unit/v3/test_v2_compatibility.py']",3,687e763dcc0cd753ce6fabcd9ee7c31d8717e50e,add-missing-classes,"# Copyright (c) 2021 Red Hat, Inc # # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import importlib import inspect from cinderclient.tests.unit import utils import cinderclient.v2 as cv2 import cinderclient.v3 as cv3 class v2_CompatibilityTest(utils.TestCase): def test_all_v2_classes_are_v3_classes(self): CV2 = 'cinderclient.v2' CV3 = 'cinderclient.v3' v2_class_names = [] for mod_name, mod_data in inspect.getmembers(cv2, inspect.ismodule): mod = importlib.import_module(CV2 + '.' + mod_name) v2_class_names.extend([cls_name for cls_name, cls_data in inspect.getmembers(mod, inspect.isclass)]) v3_class_names = [] for mod_name, mod_data in inspect.getmembers(cv3, inspect.ismodule): mod = importlib.import_module(CV3 + '.' + mod_name) v3_class_names.extend([cls_name for cls_name, cls_data in inspect.getmembers(mod, inspect.isclass)]) for cls_name in v2_class_names: self.assertIn(cls_name, v3_class_names) ",,54,0
openstack%2Fpython-cinderclient~stable%2Fwallaby~I33399b4c094af2cc059da6e332f4c0a91e6ab57e,openstack/python-cinderclient,stable/wallaby,I33399b4c094af2cc059da6e332f4c0a91e6ab57e,Unset tempest.lib timeout in functional tests,MERGED,2021-07-29 22:14:08.000000000,2021-08-31 10:41:55.000000000,2021-08-31 10:38:32.000000000,"[{'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12670}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-07-29 22:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/bc5f0427b4bc6afa3839e049f14f594e98a5b219', 'message': ""DNM: Unset tempest.lib timeout in functional-py36\n\nThe test_cli.CinderBackupTests.test_backup_create_and_delete test\nis hitting timeout errors in the python-cinderclient-functional-py36\nzuul job.  This is happening because it's inheriting the\nOS_TEST_TIMEOUT value of 60 from the base testenv, and that value is\nbeing used by the tempest.lib class we inherit from as a timeout for\neach test.  This is a problem for test_backup_create_and_delete\nbecause it creates a volume, waits for available, creates a backup,\nwaits for available, deletes the volume, waits for deletion, deletes\nthe backup, waits for deletion.\n\nOur functional tests have their own timeout handling, so turn off\nthe tempest.lib timeout and use ours.  An alternative to turning it\noff is to set it at a value that respects our timeout for our longest\ntest, which would be:\n- time-to-available: 120 sec (x2)\n- time-to-deleted: 60 sec (x2)\nthat is, 360 sec.\n\nThis only seems to be happening for the functional-py36 job, so this\npatch only makes the change for that tox testenv.\n\n(This is a DNM because the change should be cherry-picked to this\nbranch.)\n\nChange-Id: I33399b4c094af2cc059da6e332f4c0a91e6ab57e\n""}, {'number': 2, 'created': '2021-07-30 02:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/793ec406a22dadabebf4d1e1a8e20f35c7ac1865', 'message': ""DNM: Unset tempest.lib timeout in functional tests\n\nThe test_cli.CinderBackupTests.test_backup_create_and_delete test\nis hitting timeout errors in the python-cinderclient-functional-py36\nzuul job.  This is happening because it's inheriting the\nOS_TEST_TIMEOUT value of 60 from the base testenv, and that value is\nbeing used by the tempest.lib class we inherit from as a timeout for\neach test.  This is a problem for test_backup_create_and_delete\nbecause it creates a volume, waits for available, creates a backup,\nwaits for available, deletes the volume, waits for deletion, deletes\nthe backup, waits for deletion.\n\nOur functional tests have their own timeout handling, so turn off\nthe tempest.lib timeout and use ours.  An alternative to turning it\noff is to set it at a value that respects our timeout for our longest\ntest, which would be:\n- time-to-available: 120 sec (x2)\n- time-to-deleted: 60 sec (x2)\nthat is, 360 sec.\n\n(This is a DNM because the change should be cherry-picked to this\nbranch.)\n\nChange-Id: I33399b4c094af2cc059da6e332f4c0a91e6ab57e\n""}, {'number': 3, 'created': '2021-08-07 00:47:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/fa00aff41b266f46362b581ac48b4cec1692de71', 'message': ""Unset tempest.lib timeout in functional tests\n\nThe test_cli.CinderBackupTests.test_backup_create_and_delete test\nis hitting timeout errors in the python-cinderclient-functional-py36\nzuul job.  This is happening because it's inheriting the\nOS_TEST_TIMEOUT value of 60 from the base testenv, and that value is\nbeing used by the tempest.lib class we inherit from as a timeout for\neach test.  This is a problem for test_backup_create_and_delete\nbecause it creates a volume, waits for available, creates a backup,\nwaits for available, deletes the volume, waits for deletion, deletes\nthe backup, waits for deletion.\n\nOur functional tests have their own timeout handling, so turn off\nthe tempest.lib timeout and use ours.  An alternative to turning it\noff is to set it at a value that respects our timeout for our longest\ntest, which would be:\n- time-to-available: 120 sec (x2)\n- time-to-deleted: 60 sec (x2)\nthat is, 360 sec.\n\nChange-Id: I33399b4c094af2cc059da6e332f4c0a91e6ab57e\n(cherry picked from commit d04ded6a6ff4cc9ba8377a1b025493e939047b2c)\n""}]",0,802967,fa00aff41b266f46362b581ac48b4cec1692de71,18,7,3,5314,,,0,"Unset tempest.lib timeout in functional tests

The test_cli.CinderBackupTests.test_backup_create_and_delete test
is hitting timeout errors in the python-cinderclient-functional-py36
zuul job.  This is happening because it's inheriting the
OS_TEST_TIMEOUT value of 60 from the base testenv, and that value is
being used by the tempest.lib class we inherit from as a timeout for
each test.  This is a problem for test_backup_create_and_delete
because it creates a volume, waits for available, creates a backup,
waits for available, deletes the volume, waits for deletion, deletes
the backup, waits for deletion.

Our functional tests have their own timeout handling, so turn off
the tempest.lib timeout and use ours.  An alternative to turning it
off is to set it at a value that respects our timeout for our longest
test, which would be:
- time-to-available: 120 sec (x2)
- time-to-deleted: 60 sec (x2)
that is, 360 sec.

Change-Id: I33399b4c094af2cc059da6e332f4c0a91e6ab57e
(cherry picked from commit d04ded6a6ff4cc9ba8377a1b025493e939047b2c)
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/67/802967/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bc5f0427b4bc6afa3839e049f14f594e98a5b219,change-timeout,"setenv = {[testenv:functional]setenv} # Our functional tests contain their own timeout handling, so # turn off the timeout handling provided by the # tempest.lib.base.BaseTestCase that our ClientTestBase class # inherits from. Only doing this for the functional-py36 testev # because it doesn't seem to be a problem for functional-py38. OS_TEST_TIMEOUT=0",setenv = {[testenv:functional]setenv},8,1
openstack%2Fmonasca-persister~stable%2Ftrain~Ie9ced173de84d1e7c1acdb258f879bf660593cad,openstack/monasca-persister,stable/train,Ie9ced173de84d1e7c1acdb258f879bf660593cad,Remove periodic docker publish job,MERGED,2021-07-23 12:13:58.000000000,2021-08-31 10:38:53.000000000,2021-08-31 10:38:53.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-07-23 12:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/41ba7eb7a04849a05063fe92bb8afd99c73631f8', 'message': 'Remove periodic docker publish job\n\nHas been decided that we no longer need to publish docker image base on train every day\n\nChange-Id: Ie9ced173de84d1e7c1acdb258f879bf660593cad\n'}, {'number': 2, 'created': '2021-08-26 14:27:01.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/1ad4bae1dc2174224271529f8e8c896a22ade8ee', 'message': 'Remove periodic docker publish job\n\nHas been decided that we no longer need to publish docker image base on train every day\n\nChange-Id: Ie9ced173de84d1e7c1acdb258f879bf660593cad\n'}]",0,802016,1ad4bae1dc2174224271529f8e8c896a22ade8ee,10,2,2,26141,,,0,"Remove periodic docker publish job

Has been decided that we no longer need to publish docker image base on train every day

Change-Id: Ie9ced173de84d1e7c1acdb258f879bf660593cad
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/16/802016/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,41ba7eb7a04849a05063fe92bb8afd99c73631f8,zuul-remove-periodic-job,, periodic: jobs: - publish-monasca-persister-docker-image,0,3
openstack%2Fcinder~stable%2Fwallaby~Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5,openstack/cinder,stable/wallaby,Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5,Allow removing NFS snapshots in error status,MERGED,2021-08-20 18:21:33.000000000,2021-08-31 10:24:37.000000000,2021-08-31 10:22:35.000000000,"[{'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-08-20 18:21:33.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_nfs.py', 'cinder/volume/drivers/nfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5a4f3ac53a554ecaa18cbd0a49c0606dff4e1137', 'message': 'Allow removing NFS snapshots in error status\n\nThe NFS driver doesn\'t allow to delete snapshots in error state when\nsnapshot support is disable.\n\nI\'m facing some scenarios where snapshots are enabled then a snapshot\nis created and after that then snapshots are disabled. This results\nin error state snapshots that can\'t be deleted.  Another scenario is\n- with nfs snapshot support disable from the beginning- the API layer\nallows the snapshot to be created but the NFS driver sets the status\nto ""error"" leaving the snapshot in the DB with error state.\nBecause of that, I have snapshots in error state that I\'m not able\nto delete.\n\nThe purpose of this fix allow deleting snapshots in error state.\nIt makes sense to block creating snapshots when snapshot support is\nFalse. However, when deleting snapshot we don\'t want to block\nattempts to delete a broken snapshot DB entry, which is necessary to\nclean up a failed snapshot create.\n\nCloses-Bug: #1842088\nChange-Id: Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5\n(cherry picked from commit 5714bdb8447a38440585116f784a322143711959)\n'}]",0,805283,5a4f3ac53a554ecaa18cbd0a49c0606dff4e1137,21,3,1,20813,,,0,"Allow removing NFS snapshots in error status

The NFS driver doesn't allow to delete snapshots in error state when
snapshot support is disable.

I'm facing some scenarios where snapshots are enabled then a snapshot
is created and after that then snapshots are disabled. This results
in error state snapshots that can't be deleted.  Another scenario is
- with nfs snapshot support disable from the beginning- the API layer
allows the snapshot to be created but the NFS driver sets the status
to ""error"" leaving the snapshot in the DB with error state.
Because of that, I have snapshots in error state that I'm not able
to delete.

The purpose of this fix allow deleting snapshots in error state.
It makes sense to block creating snapshots when snapshot support is
False. However, when deleting snapshot we don't want to block
attempts to delete a broken snapshot DB entry, which is necessary to
clean up a failed snapshot create.

Closes-Bug: #1842088
Change-Id: Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5
(cherry picked from commit 5714bdb8447a38440585116f784a322143711959)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/83/805283/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_nfs.py', 'cinder/volume/drivers/nfs.py']",2,5a4f3ac53a554ecaa18cbd0a49c0606dff4e1137,bug/1842088-stable/wallaby,, self._check_snapshot_support(),3,1
openstack%2Fcharm-nova-compute~master~I66987fbea9d9fa4fbc971f621726b5eca0e53024,openstack/charm-nova-compute,master,I66987fbea9d9fa4fbc971f621726b5eca0e53024,Replace NFV section with a link,MERGED,2021-08-27 22:55:45.000000000,2021-08-31 10:15:13.000000000,2021-08-31 10:15:13.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-27 22:55:45.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/0bddb1d88fc3eafd3b20ff2da06524fc8882c44a', 'message': 'Replace NFV section with a link\n\nThe NFV section was previously copied to the CDG [1].\nThis PR replaces it with a summary and a link to the\nnew location.\n\n[1]: I220ad1a178a253ca04e1667e8c5727f8a54aa5cd\n\nChange-Id: I66987fbea9d9fa4fbc971f621726b5eca0e53024\n'}]",0,806455,0bddb1d88fc3eafd3b20ff2da06524fc8882c44a,7,3,1,30561,,,0,"Replace NFV section with a link

The NFV section was previously copied to the CDG [1].
This PR replaces it with a summary and a link to the
new location.

[1]: I220ad1a178a253ca04e1667e8c5727f8a54aa5cd

Change-Id: I66987fbea9d9fa4fbc971f621726b5eca0e53024
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/55/806455/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,0bddb1d88fc3eafd3b20ff2da06524fc8882c44a,remove-nfv-add-link,This charm (in conjunction with the nova-cloud-controller and neutron-api charms) supports NFV for Compute nodes that are deployed in Telco NFV environments. For more information on NFV see the [Network Functions Virtualization (NFV)][cdg-nfv] page in the [OpenStack Charms Deployment Guide][cdg].[cdg-nfv]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/nfv.html,"This charm (in conjunction with the nova-cloud-controller and neutron-api charms) supports use of nova-compute nodes configured for use in Telco NFV deployments; specifically the following configuration options (yaml excerpt): ```yaml nova-compute: hugepages: 60% vcpu-pin-set: ""^0,^2"" reserved-host-memory: 1024 pci-passthrough-whitelist: {""vendor_id"":""1137"",""product_id"":""0071"",""address"":""*:0a:00.*"",""physical_network"":""physnet1""} ``` In this example, compute nodes will be configured with 60% of available RAM for hugepage use (decreasing memory fragmentation in virtual machines, improving performance), and Nova will be configured to reserve CPU cores 0 and 2 and 1024M of RAM for host usage and use the supplied PCI device whitelist as PCI devices that as consumable by virtual machines, including any mapping to underlying provider network names (used for SR-IOV VF/PF port scheduling with Nova and Neutron's SR-IOV support). The vcpu-pin-set configuration option is a comma-separated list of physical CPU numbers that virtual CPUs can be allocated to by default. Each element should be either a single CPU number, a range of CPU numbers, or a caret followed by a CPU number to be excluded from a previous range. For example: ```yaml vcpu-pin-set: ""4-12,^8,15"" ``` The pci-passthrough-whitelist configuration must be specified as follows: A JSON dictionary which describe a whitelisted PCI device. It should take the following format: ``` [""device_id"": ""<id>"",] [""product_id"": ""<id>"",] [""address"": ""[[[[<domain>]:]<bus>]:][<slot>][.[<function>]]"" | ""devname"": ""PCI Device Name"",] {""tag"": ""<tag_value>"",} ``` where '[' indicates zero or one occurrences, '{' indicates zero or multiple occurrences, and '|' mutually exclusive options. Note that any missing fields are automatically wildcarded. Valid examples are: ```yaml pci-passthrough-whitelist: {""devname"":""eth0"", ""physical_network"":""physnet""} ``` ```yaml pci-passthrough-whitelist: {""address"":""*:0a:00.*""} ``` ```yaml pci-passthrough-whitelist: {""address"":"":0a:00."", ""physical_network"":""physnet1""} ``` ```yaml pci-passthrough-whitelist: {""vendor_id"":""1137"", ""product_id"":""0071""} ``` ```yaml pci-passthrough-whitelist: {""vendor_id"":""1137"", ""product_id"":""0071"", ""address"": ""0000:0a:00.1"", ""physical_network"":""physnet1""} ``` The following is invalid, as it specifies mutually exclusive options: ```yaml pci-passthrough-whitelist: {""devname"":""eth0"", ""physical_network"":""physnet"", ""address"":""*:0a:00.*""} ``` A JSON list of JSON dictionaries corresponding to the above format. For example: ```yaml pci-passthrough-whitelist: [{""product_id"":""0001"", ""vendor_id"":""8086""}, {""product_id"":""0002"", ""vendor_id"":""8086""}] ``` The [OpenStack advanced networking documentation](http://docs.openstack.org/mitaka/networking-guide/adv-config-sriov.html) provides further details on whitelist configuration and how to create instances with Neutron ports wired to SR-IOV devices.",6,80
openstack%2Fmonasca-agent~stable%2Ftrain~Iac590f696611655cf80d9e908e40ffe000902ca3,openstack/monasca-agent,stable/train,Iac590f696611655cf80d9e908e40ffe000902ca3,Fix py27 test and docker build job,MERGED,2021-08-26 15:06:18.000000000,2021-08-31 10:12:34.000000000,2021-08-31 10:12:34.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-08-26 15:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/1b4764c02df28dc4585deac67b08592efc076888', 'message': 'Fix py27 test\n\nChange-Id: Iac590f696611655cf80d9e908e40ffe000902ca3\n'}, {'number': 2, 'created': '2021-08-26 17:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/96fe0b3f45c8f32ccee1f590fe6bb02aa58eda8a', 'message': 'Fix py27 test and docker build job\n\nChange-Id: Iac590f696611655cf80d9e908e40ffe000902ca3\n'}, {'number': 3, 'created': '2021-08-27 11:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/cbcc0ddc4641cfc801163f9ee22ef39a455d1f86', 'message': 'Fix py27 test and docker build job\n\nChange-Id: Iac590f696611655cf80d9e908e40ffe000902ca3\n'}, {'number': 4, 'created': '2021-08-29 19:46:59.000000000', 'files': ['test-requirements.txt', 'docker/forwarder/build_image.sh', 'docker/build_image.sh', 'docker/statsd/build_image.sh', 'docker/collector/build_image.sh'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/b182dd230eabb14fbedbb7793b4b661260a8b62c', 'message': 'Fix py27 test and docker build job\n\nChange-Id: Iac590f696611655cf80d9e908e40ffe000902ca3\n'}]",0,806208,b182dd230eabb14fbedbb7793b4b661260a8b62c,12,2,4,26141,,,0,"Fix py27 test and docker build job

Change-Id: Iac590f696611655cf80d9e908e40ffe000902ca3
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/08/806208/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,1b4764c02df28dc4585deac67b08592efc076888,fix-test,"bandit!=1.6.0,>=1.1.0,<=1.6.2 # Apache-2.0","bandit!=1.6.0,>=1.1.0 # Apache-2.0",1,1
openstack%2Fbifrost~master~I865142d1679bbc9459a460e0d7351e5c6158e5b8,openstack/bifrost,master,I865142d1679bbc9459a460e0d7351e5c6158e5b8,os_ironic_node_info: fix TLS and potentially other issues,MERGED,2021-08-25 13:57:53.000000000,2021-08-31 09:59:18.000000000,2021-08-31 09:57:49.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-25 13:57:53.000000000', 'files': ['playbooks/library/os_ironic_node_info.py', 'releasenotes/notes/os_ironic_node_info-49a608c3453cf18d.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6cf3c7beb63f5b37e1f856844ab5994d155cac93', 'message': 'os_ironic_node_info: fix TLS and potentially other issues\n\nThe current implementation does not respect ca_cert and potentially\nother parameters that are commonly used in OpenStack modules.\nThis change makes it use the existing utilities from the collection.\n\nChange-Id: I865142d1679bbc9459a460e0d7351e5c6158e5b8\n'}]",0,806001,6cf3c7beb63f5b37e1f856844ab5994d155cac93,9,3,1,10239,,,0,"os_ironic_node_info: fix TLS and potentially other issues

The current implementation does not respect ca_cert and potentially
other parameters that are commonly used in OpenStack modules.
This change makes it use the existing utilities from the collection.

Change-Id: I865142d1679bbc9459a460e0d7351e5c6158e5b8
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/01/806001/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/library/os_ironic_node_info.py', 'releasenotes/notes/os_ironic_node_info-49a608c3453cf18d.yaml', 'tox.ini']",3,6cf3c7beb63f5b37e1f856844ab5994d155cac93,os_ironic_node_info,"# [H301] one import per line (commonly violated in ansible modules) ignore = F403,H102,H301,H303,W504","ignore = F403,H102,H303,W504",19,36
openstack%2Fcharm-guide~master~I7e634fe4e6010c7918cd9b1ec5eecf92e694df3e,openstack/charm-guide,master,I7e634fe4e6010c7918cd9b1ec5eecf92e694df3e,nova-compute charm: new options for neutron physnets NUMA affinity,MERGED,2021-08-30 15:05:56.000000000,2021-08-31 09:53:09.000000000,2021-08-31 09:51:14.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-30 15:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/be7941e36208ccbbdae4f66dacb1cc1acc9156a5', 'message': 'nova-compute charm: new options for neutron physnets NUMA affinity\n\nThe nova charm has some new configuration options:\n\n* neutron-physnets\n* neutron-tunnel\n\nRelated-Bug: #1902923\nChange-Id: I7e634fe4e6010c7918cd9b1ec5eecf92e694df3e\n'}, {'number': 2, 'created': '2021-08-30 15:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/91e200f78963ac8fd9e4d616dbcad2f446eed225', 'message': 'nova-compute charm: new options for neutron physnets NUMA affinity\n\nThe nova charm has some new configuration options:\n\n* neutron-physnets\n* neutron-tunnel\n\nRelated-Bug: #1921067\nChange-Id: I7e634fe4e6010c7918cd9b1ec5eecf92e694df3e\n'}, {'number': 3, 'created': '2021-08-31 08:35:05.000000000', 'files': ['doc/source/2110.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/ac15cd7ca45dd27aac7bd9c8a9e1cdc536c87fc2', 'message': 'nova-compute charm: new options for neutron physnets NUMA affinity\n\nThe nova charm has some new configuration options:\n\n* neutron-physnets\n* neutron-tunnel\n\nRelated-Bug: #1921067\nChange-Id: I7e634fe4e6010c7918cd9b1ec5eecf92e694df3e\n'}]",4,806608,ac15cd7ca45dd27aac7bd9c8a9e1cdc536c87fc2,13,3,3,33830,,,0,"nova-compute charm: new options for neutron physnets NUMA affinity

The nova charm has some new configuration options:

* neutron-physnets
* neutron-tunnel

Related-Bug: #1921067
Change-Id: I7e634fe4e6010c7918cd9b1ec5eecf92e694df3e
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/08/806608/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2110.rst'],1,be7941e36208ccbbdae4f66dacb1cc1acc9156a5,bug/1921067, * `nova-compute charm: new options for neutron physnets NUMA affinity`_With the availability of the Beast frontend the ceph-radosgw charm nowdefault settings for the creation of DNS records. They have no effect on existing records supportsnova-compute charm: new options for neutron physnets NUMA affinity ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The nova charm has some new configuration options: * ``neutron-physnets`` * ``neutron-tunnel`` These options are used to define NUMA affinity for neutron phynets and tunneled networks. ,With the availability of the Beast frontend the ceph-radosgw charm now supports,14,2
openstack%2Fcharm-designate-bind~stable%2F21.04~I51d16d692b1456f157b54d35eec892c14946ea4d,openstack/charm-designate-bind,stable/21.04,I51d16d692b1456f157b54d35eec892c14946ea4d,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-08-27 09:48:23.000000000,2021-08-31 09:42:11.000000000,2021-08-31 09:42:11.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-27 09:48:23.000000000', 'files': ['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/4543c55d260d483cdc5736e4f4afc4ffc75c285a', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I51d16d692b1456f157b54d35eec892c14946ea4d\n(cherry picked from commit 9c6ea514841e8fe44ec67aca2b8c4c3384e6755a)\n'}]",0,806359,4543c55d260d483cdc5736e4f4afc4ffc75c285a,12,5,1,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I51d16d692b1456f157b54d35eec892c14946ea4d
(cherry picked from commit 9c6ea514841e8fe44ec67aca2b8c4c3384e6755a)
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/59/806359/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",4,4543c55d260d483cdc5736e4f4afc4ffc75c285a,wallaby-bundles-stable/21.04, - focal-wallaby - hirsute-wallaby - hirsute-wallaby, - groovy-victoria,200,2
openstack%2Fcharm-masakari-monitors~stable%2F21.04~Ibc09d03ed16847fa81c50487b8c7ded9d87b90e3,openstack/charm-masakari-monitors,stable/21.04,Ibc09d03ed16847fa81c50487b8c7ded9d87b90e3,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-08-27 09:53:31.000000000,2021-08-31 09:38:44.000000000,2021-08-31 09:38:44.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-27 09:53:31.000000000', 'files': ['osci.yaml', 'src/tests/bundles/focal-wallaby-pacemaker-remote-ssl.yaml', 'src/tests/bundles/hirsute-wallaby-pacemaker-remote-ssl.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/2479a50d7e7c2b7bb9f2bdc1ffe49307545ce5d0', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: Ibc09d03ed16847fa81c50487b8c7ded9d87b90e3\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n(cherry picked from commit 0169df4f3d3afef3fe757840188c771ec729d7c9)\n'}]",0,806374,2479a50d7e7c2b7bb9f2bdc1ffe49307545ce5d0,12,5,1,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: Ibc09d03ed16847fa81c50487b8c7ded9d87b90e3
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
(cherry picked from commit 0169df4f3d3afef3fe757840188c771ec729d7c9)
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/74/806374/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/focal-wallaby-pacemaker-remote-ssl.yaml', 'src/tests/bundles/hirsute-wallaby-pacemaker-remote-ssl.yaml', 'src/tests/tests.yaml']",4,2479a50d7e7c2b7bb9f2bdc1ffe49307545ce5d0,wallaby-bundles-stable/21.04, gate_bundles: - focal-wallaby-pacemaker-remote-ssl dev_bundles: # Rocky disabled until https://review.opendev.org/#/c/647756/ lands in # packaging - bionic-rocky-pacemaker-remote-ssl - hirsute-wallaby-pacemaker-remote-ssl - hirsute-wallaby-pacemaker-remote-ssl,gate_bundles: # Rocky disabled until https://review.opendev.org/#/c/647756/ lands in # packaging # - bionic-rocky-pacemaker-remote-ssl - groovy-victoria-pacemaker-remote-ssl,809,5
openstack%2Fcharm-keystone-kerberos~stable%2F21.04~Idce6d1f3118a6797ea10e6cba05cc99c628c852b,openstack/charm-keystone-kerberos,stable/21.04,Idce6d1f3118a6797ea10e6cba05cc99c628c852b,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-08-27 09:49:36.000000000,2021-08-31 09:32:46.000000000,2021-08-31 09:32:46.000000000,"[{'_account_id': 8992}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-27 09:49:36.000000000', 'files': ['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/9d88fe47b0b9407550bb66f1e35586699e541a74', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: Idce6d1f3118a6797ea10e6cba05cc99c628c852b\n(cherry picked from commit 4778d0b7e95ab3a7b263b04b88dc624a5552303e)\n'}]",0,806364,9d88fe47b0b9407550bb66f1e35586699e541a74,15,6,1,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: Idce6d1f3118a6797ea10e6cba05cc99c628c852b
(cherry picked from commit 4778d0b7e95ab3a7b263b04b88dc624a5552303e)
",git fetch https://review.opendev.org/openstack/charm-keystone-kerberos refs/changes/64/806364/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",4,9d88fe47b0b9407550bb66f1e35586699e541a74,wallaby-bundles-stable/21.04, smoke_bundles: - focal-ussuri - focal-wallaby - hirsute-wallaby - hirsute-wallaby ,smoke_bundles: - bionic-train - groovy-victoria,144,3
openstack%2Fcharm-manila-generic~stable%2F21.04~I70c579bc425746b30be12cb30e660542da842c48,openstack/charm-manila-generic,stable/21.04,I70c579bc425746b30be12cb30e660542da842c48,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-08-27 09:48:32.000000000,2021-08-31 09:29:16.000000000,2021-08-31 09:29:16.000000000,"[{'_account_id': 8992}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-27 09:48:32.000000000', 'files': ['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/e7b0ae68ad70178a517168cbaf77295117e4d722', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I70c579bc425746b30be12cb30e660542da842c48\n(cherry picked from commit 129e0ca9bf504aa8f87ca1421e96fe2947654680)\n'}]",0,806360,e7b0ae68ad70178a517168cbaf77295117e4d722,12,6,1,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I70c579bc425746b30be12cb30e660542da842c48
(cherry picked from commit 129e0ca9bf504aa8f87ca1421e96fe2947654680)
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/60/806360/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",4,e7b0ae68ad70178a517168cbaf77295117e4d722,wallaby-bundles-stable/21.04, - focal-wallaby - hirsute-wallaby - hirsute-wallaby, - groovy-victoria,183,2
openstack%2Fcharm-barbican~stable%2F21.04~I65a7403ec68d8be880e418bc4fca1b1fdffe6eb9,openstack/charm-barbican,stable/21.04,I65a7403ec68d8be880e418bc4fca1b1fdffe6eb9,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-08-27 09:48:41.000000000,2021-08-31 09:26:19.000000000,2021-08-31 09:26:19.000000000,"[{'_account_id': 8992}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-27 09:48:41.000000000', 'files': ['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/dac578184f6a524a06bebf2875cced415baa75c5', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I65a7403ec68d8be880e418bc4fca1b1fdffe6eb9\n(cherry picked from commit 96750d85f0593f1795adf43394373b73509b8c54)\n'}]",0,806361,dac578184f6a524a06bebf2875cced415baa75c5,9,6,1,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I65a7403ec68d8be880e418bc4fca1b1fdffe6eb9
(cherry picked from commit 96750d85f0593f1795adf43394373b73509b8c54)
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/61/806361/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",4,dac578184f6a524a06bebf2875cced415baa75c5,wallaby-bundles-stable/21.04,- focal-wallaby- hirsute-wallaby - hirsute-wallaby, - groovy-victoria,154,2
openstack%2Fcharm-cinder-purestorage~stable%2F21.04~I7ecced611305999405a98d9f4c1477be5410e60e,openstack/charm-cinder-purestorage,stable/21.04,I7ecced611305999405a98d9f4c1477be5410e60e,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-08-27 09:48:07.000000000,2021-08-31 09:25:57.000000000,2021-08-31 09:25:57.000000000,"[{'_account_id': 8992}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-27 09:48:07.000000000', 'files': ['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/399e65cc85a5ddf6566b2fcb8ca4ec361eab2304', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I7ecced611305999405a98d9f4c1477be5410e60e\n(cherry picked from commit 8674df33b7abf57d8d9ac43b6b09936461c777f2)\n'}]",0,806357,399e65cc85a5ddf6566b2fcb8ca4ec361eab2304,12,6,1,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I7ecced611305999405a98d9f4c1477be5410e60e
(cherry picked from commit 8674df33b7abf57d8d9ac43b6b09936461c777f2)
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/57/806357/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",4,399e65cc85a5ddf6566b2fcb8ca4ec361eab2304,wallaby-bundles-stable/21.04, - focal-wallaby - hirsute-wallaby - hirsute-wallaby, - groovy-victoria,166,2
openstack%2Fcharm-keystone-ldap~stable%2F21.04~I34b3a2f1f2509a287023659f9172931b345e569d,openstack/charm-keystone-ldap,stable/21.04,I34b3a2f1f2509a287023659f9172931b345e569d,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-08-27 09:47:25.000000000,2021-08-31 09:24:47.000000000,2021-08-31 09:24:47.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-27 09:47:25.000000000', 'files': ['src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/6b23bfbeb92a91d2e6b7619631c4e87551579366', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I34b3a2f1f2509a287023659f9172931b345e569d\n(cherry picked from commit 31f37279c330cf0ba0c3071b14e8c63fd409304f)\n'}]",0,806354,6b23bfbeb92a91d2e6b7619631c4e87551579366,10,5,1,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I34b3a2f1f2509a287023659f9172931b345e569d
(cherry picked from commit 31f37279c330cf0ba0c3071b14e8c63fd409304f)
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/54/806354/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",3,6b23bfbeb92a91d2e6b7619631c4e87551579366,wallaby-bundles-stable/21.04, - focal-ussuri - focal-wallaby - hirsute-wallaby - hirsute-wallaby, - bionic-train - groovy-victoria,128,2
openstack%2Fcharm-neutron-dynamic-routing~stable%2F21.04~I6d21ce67b7d85811dc6b7f800ee5367a71fc3b98,openstack/charm-neutron-dynamic-routing,stable/21.04,I6d21ce67b7d85811dc6b7f800ee5367a71fc3b98,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-08-27 09:53:03.000000000,2021-08-31 09:21:42.000000000,2021-08-31 09:21:42.000000000,"[{'_account_id': 8992}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-27 09:53:03.000000000', 'files': ['osci.yaml', 'src/tests/bundles/hirsute-wallaby-functional.yaml', 'src/tests/bundles/focal-wallaby-functional.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/7e661b5308bc6ad236f0c9498eddd1f8be3e707f', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I6d21ce67b7d85811dc6b7f800ee5367a71fc3b98\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n(cherry picked from commit c134578bbc8933ebcfca34966f33b9ac4161b441)\n'}]",0,806372,7e661b5308bc6ad236f0c9498eddd1f8be3e707f,9,6,1,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

Change-Id: I6d21ce67b7d85811dc6b7f800ee5367a71fc3b98
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
(cherry picked from commit c134578bbc8933ebcfca34966f33b9ac4161b441)
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/72/806372/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/hirsute-wallaby-functional.yaml', 'src/tests/bundles/focal-wallaby-functional.yaml', 'src/tests/tests.yaml']",4,7e661b5308bc6ad236f0c9498eddd1f8be3e707f,wallaby-bundles-stable/21.04,- focal-wallaby-functional- hirsute-wallaby-functional - hirsute-wallaby-functional, - groovy-victoria-functional,250,2
openstack%2Fcharm-ceph-rbd-mirror~stable%2F21.04~I53d0b42b43731ac06d96932f3dcf72c116f360f3,openstack/charm-ceph-rbd-mirror,stable/21.04,I53d0b42b43731ac06d96932f3dcf72c116f360f3,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-08-27 09:51:00.000000000,2021-08-31 09:21:17.000000000,2021-08-31 09:21:17.000000000,"[{'_account_id': 8992}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-27 09:51:00.000000000', 'files': ['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-wallaby-image-mirroring.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby-image-mirroring.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/18e1f9a4e97f872730bd5c81c20eb08b8fa827a0', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I53d0b42b43731ac06d96932f3dcf72c116f360f3\n(cherry picked from commit 1845ed2f50453257e83a1c16d0389cc6aa1ebd4f)\n'}]",0,806370,18e1f9a4e97f872730bd5c81c20eb08b8fa827a0,15,6,1,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

Change-Id: I53d0b42b43731ac06d96932f3dcf72c116f360f3
(cherry picked from commit 1845ed2f50453257e83a1c16d0389cc6aa1ebd4f)
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/70/806370/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-wallaby-image-mirroring.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby-image-mirroring.yaml']",5,18e1f9a4e97f872730bd5c81c20eb08b8fa827a0,wallaby-bundles-stable/21.04,"variables: openstack-origin: &openstack-origin distro series: &series hirsute machines: '0': constraints: ""mem=3072M"" '1': constraints: ""mem=3072M"" '2': constraints: ""mem=3072M"" applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router cinder-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *openstack-origin cinder: charm: cs:~openstack-charmers-next/cinder num_units: 1 options: block-device: None glance-api-version: 2 openstack-origin: *openstack-origin cinder-ceph: charm: cs:~openstack-charmers-next/cinder-ceph num_units: 0 options: rbd-mirroring-mode: image glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 1 options: openstack-origin: *openstack-origin ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: expected-osd-count: 3 source: *openstack-origin ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 3 options: source: *openstack-origin bluestore: False use-direct-io: False osd-devices: /opt ceph-rbd-mirror: series: *series charm: ../../../ceph-rbd-mirror num_units: 1 options: source: *openstack-origin ceph-mon-b: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: expected-osd-count: 3 source: *openstack-origin ceph-osd-b: charm: cs:~openstack-charmers-next/ceph-osd num_units: 3 options: source: *openstack-origin bluestore: False use-direct-io: False osd-devices: /opt ceph-rbd-mirror-b: series: *series charm: ../../../ceph-rbd-mirror num_units: 1 options: source: *openstack-origin relations: - - keystone:shared-db - keystone-mysql-router:shared-db - - keystone-mysql-router:db-router - mysql-innodb-cluster:db-router - - glance:shared-db - glance-mysql-router:shared-db - - glance-mysql-router:db-router - mysql-innodb-cluster:db-router - - cinder:shared-db - cinder-mysql-router:shared-db - - cinder-mysql-router:db-router - mysql-innodb-cluster:db-router - - rabbitmq-server - cinder - - keystone - cinder - - keystone - glance - - cinder - cinder-ceph - - cinder-ceph:ceph - ceph-mon:client - - cinder-ceph:ceph-replication-device - ceph-mon-b:client - - nova-compute:ceph-access - cinder-ceph:ceph-access - - nova-compute:amqp - rabbitmq-server:amqp - - glance:image-service - nova-compute:image-service - - glance - ceph-mon - - ceph-mon:osd - ceph-osd:mon - - ceph-mon - ceph-rbd-mirror:ceph-local - - ceph-mon - ceph-rbd-mirror-b:ceph-remote - - ceph-mon-b:osd - ceph-osd-b:mon - - ceph-mon-b - ceph-rbd-mirror-b:ceph-local - - ceph-mon-b - ceph-rbd-mirror:ceph-remote ",,680,1
openstack%2Fcharm-designate~stable%2F21.04~I327cf71fe81a1808b7ca08bd190ee2423f3beff3,openstack/charm-designate,stable/21.04,I327cf71fe81a1808b7ca08bd190ee2423f3beff3,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-08-27 09:49:58.000000000,2021-08-31 09:20:30.000000000,2021-08-31 09:20:30.000000000,"[{'_account_id': 8992}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-27 09:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/c35b67063fc595f9b6d17bc1e403f86d3ca63980', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I327cf71fe81a1808b7ca08bd190ee2423f3beff3\n(cherry picked from commit 852d0a4d32c23aa1367f19967bcde60833ffd326)\n'}, {'number': 2, 'created': '2021-08-27 10:02:51.000000000', 'files': ['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/238fb1e19691520f4a6aa4e6a619e5be220e2676', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I327cf71fe81a1808b7ca08bd190ee2423f3beff3\n(cherry picked from commit 852d0a4d32c23aa1367f19967bcde60833ffd326)\n'}]",0,806366,238fb1e19691520f4a6aa4e6a619e5be220e2676,13,6,2,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I327cf71fe81a1808b7ca08bd190ee2423f3beff3
(cherry picked from commit 852d0a4d32c23aa1367f19967bcde60833ffd326)
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/66/806366/2 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",4,c35b67063fc595f9b6d17bc1e403f86d3ca63980,wallaby-bundles-stable/21.04, - focal-wallaby - hirsute-wallaby - hirsute-wallaby, - groovy-victoria,258,1
openstack%2Fkayobe~stable%2Fwallaby~I097b826cb477577fc9482bbc3b8875b71a505a99,openstack/kayobe,stable/wallaby,I097b826cb477577fc9482bbc3b8875b71a505a99,Fix documentation links for routed control plane networks,MERGED,2021-08-30 09:50:42.000000000,2021-08-31 09:18:09.000000000,2021-08-31 09:16:45.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-30 09:50:42.000000000', 'files': ['doc/source/configuration/reference/routed-control-plane-networks.rst', 'doc/source/configuration/reference/kolla-ansible.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fb56c037a160ad2fff36afc8093509085eb809be', 'message': 'Fix documentation links for routed control plane networks\n\nChange-Id: I097b826cb477577fc9482bbc3b8875b71a505a99\n(cherry picked from commit acc8cd786ba2d66477bf3cda4d902b534452dc0e)\n'}]",0,806518,fb56c037a160ad2fff36afc8093509085eb809be,7,2,1,15197,,,0,"Fix documentation links for routed control plane networks

Change-Id: I097b826cb477577fc9482bbc3b8875b71a505a99
(cherry picked from commit acc8cd786ba2d66477bf3cda4d902b534452dc0e)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/18/806518/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/reference/routed-control-plane-networks.rst', 'doc/source/configuration/reference/kolla-ansible.rst']",2,fb56c037a160ad2fff36afc8093509085eb809be,routed-networks-doc-stable/wallaby, ``fqdn`` :ref:`network attributes <configuration-network-global>`., ``fqdn`` `network attributes <configuration-network-global>`,5,5
openstack%2Fcharm-pacemaker-remote~stable%2F21.04~Ied6ecf99feec70585494f8aa0d47cf8c67c3e81e,openstack/charm-pacemaker-remote,stable/21.04,Ied6ecf99feec70585494f8aa0d47cf8c67c3e81e,Rebuild,MERGED,2021-08-27 09:46:22.000000000,2021-08-31 09:17:43.000000000,2021-08-31 09:17:43.000000000,"[{'_account_id': 8992}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-27 09:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/26b1a253a2a8f262581ffca64e6dc126a91544f6', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: Ied6ecf99feec70585494f8aa0d47cf8c67c3e81e\n(cherry picked from commit 5437d7dd032e5ba4cbb4a41767a3085e49522a3e)\n'}, {'number': 2, 'created': '2021-08-27 10:42:35.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/630c527794aa4a893e63787c6f80c090057e7209', 'message': 'Rebuild\n\nin order to pick\nhttps://review.opendev.org/c/openstack/charms.openstack/+/787641\n\nCloses-Bug: #1940627\nChange-Id: Ied6ecf99feec70585494f8aa0d47cf8c67c3e81e\n'}]",0,806350,630c527794aa4a893e63787c6f80c090057e7209,12,6,2,31289,,,0,"Rebuild

in order to pick
https://review.opendev.org/c/openstack/charms.openstack/+/787641

Closes-Bug: #1940627
Change-Id: Ied6ecf99feec70585494f8aa0d47cf8c67c3e81e
",git fetch https://review.opendev.org/openstack/charm-pacemaker-remote refs/changes/50/806350/2 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/bundles/hirsute-basic.yaml'],1,26b1a253a2a8f262581ffca64e6dc126a91544f6,wallaby-bundles-stable/21.04,<<<<<<< HEAD (396bf9 rebuild - restore proxy env vars for add-apt-repository)======= charm: cs:~openstack-charmers-next/hacluster >>>>>>> CHANGE (5437d7 Test bundles for focal-wallaby and hirsute-wallaby),,4,0
openstack%2Fcharm-vault~stable%2F21.04~Idd4494c7a0f4ad929484d6f2ac9b74ab3e1c37f1,openstack/charm-vault,stable/21.04,Idd4494c7a0f4ad929484d6f2ac9b74ab3e1c37f1,Rebuild,MERGED,2021-08-27 10:12:37.000000000,2021-08-31 09:17:40.000000000,2021-08-31 09:17:40.000000000,"[{'_account_id': 8992}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-27 10:12:37.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/bb0798434c0e5690c62027640077247f22f51e51', 'message': 'Rebuild\n\nin order to pick\nhttps://review.opendev.org/c/openstack/charms.openstack/+/787641\n\nChange-Id: Idd4494c7a0f4ad929484d6f2ac9b74ab3e1c37f1\nCloses-Bug: #1940627\n'}]",0,806340,bb0798434c0e5690c62027640077247f22f51e51,9,6,1,31289,,,0,"Rebuild

in order to pick
https://review.opendev.org/c/openstack/charms.openstack/+/787641

Change-Id: Idd4494c7a0f4ad929484d6f2ac9b74ab3e1c37f1
Closes-Bug: #1940627
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/40/806340/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,bb0798434c0e5690c62027640077247f22f51e51,wallaby-bundles-stable/21.04,14166703-1a07-4549-8fd4-7b0b260d04c4,8efe37a6-db58-11eb-aaed-83ff33048978,1,1
openstack%2Fcinder~master~I947db8f0af09e563244e2d6836badec3b131c996,openstack/cinder,master,I947db8f0af09e563244e2d6836badec3b131c996,Correct create backup log message,NEW,2021-08-09 16:03:04.000000000,2021-08-31 09:05:23.000000000,,"[{'_account_id': 16721}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-09 16:03:04.000000000', 'files': ['cinder/api/contrib/backups.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e677ce3072be50e44dcdda57b7557659118b765e', 'message': 'Correct create backup log message\n\nWhile creating a backup, we log the volume id but we can also create\na backup from snapshot in which case the info message is wrong.\nThis patch logs the info message depending on the resource (volume/snapshot)\nfor which we are doing the backup.\n\nChange-Id: I947db8f0af09e563244e2d6836badec3b131c996\n'}]",2,803941,e677ce3072be50e44dcdda57b7557659118b765e,34,2,1,27615,,,0,"Correct create backup log message

While creating a backup, we log the volume id but we can also create
a backup from snapshot in which case the info message is wrong.
This patch logs the info message depending on the resource (volume/snapshot)
for which we are doing the backup.

Change-Id: I947db8f0af09e563244e2d6836badec3b131c996
",git fetch https://review.opendev.org/openstack/cinder refs/changes/41/803941/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/contrib/backups.py'],1,e677ce3072be50e44dcdda57b7557659118b765e,," if volume_id: LOG.info(""Creating backup of volume %(volume_id)s in container"" "" %(container)s%(az)s"", {'volume_id': volume_id, 'container': container, 'az': az_text}, context=context) elif snapshot_id: LOG.info(""Creating backup of snapshot %(snapshot_id)s in container"" "" %(container)s%(az)s"", {'snapshot_id': snapshot_id, 'container': container, 'az': az_text}, context=context)"," LOG.info(""Creating backup of volume %(volume_id)s in container"" "" %(container)s%(az)s"", {'volume_id': volume_id, 'container': container, 'az': az_text}, context=context)",12,5
openstack%2Fironic~master~I44e41dc3d8abcb99a2248d7b9c7ac5e9d786bb98,openstack/ironic,master,I44e41dc3d8abcb99a2248d7b9c7ac5e9d786bb98,Minor formatting and doc changes to change boot mode feature commit.,MERGED,2021-08-24 12:36:20.000000000,2021-08-31 08:42:30.000000000,2021-08-30 16:51:54.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-24 12:36:20.000000000', 'files': ['api-ref/source/baremetal-api-v1-node-management.inc', 'ironic/conductor/rpcapi.py', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5b545086ac06a58ce0f114840050be52c3e7eda0', 'message': 'Minor formatting and doc changes to change boot mode feature commit.\n\nStory: 2008567\nTask: 41709\ndepends-on: https://review.opendev.org/c/openstack/ironic/+/800084\nChange-Id: I44e41dc3d8abcb99a2248d7b9c7ac5e9d786bb98\n'}]",0,805841,5b545086ac06a58ce0f114840050be52c3e7eda0,17,3,1,33344,,,0,"Minor formatting and doc changes to change boot mode feature commit.

Story: 2008567
Task: 41709
depends-on: https://review.opendev.org/c/openstack/ironic/+/800084
Change-Id: I44e41dc3d8abcb99a2248d7b9c7ac5e9d786bb98
",git fetch https://review.opendev.org/openstack/ironic refs/changes/41/805841/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/baremetal-api-v1-node-management.inc', 'ironic/api/controllers/v1/node.py', 'ironic/conductor/rpcapi.py']",3,5b545086ac06a58ce0f114840050be52c3e7eda0,ironic_boot_mode_status, ('bios' or 'uefi') (True => 'on' or False => 'off'), ('bios' / 'uefi') (True => 'on' / False => 'off'),11,12
openstack%2Fnova~master~Ic8756ad4e977b24ced52beca3e18f4f8163f0be0,openstack/nova,master,Ic8756ad4e977b24ced52beca3e18f4f8163f0be0,docs: admin/networking rename neutron_tunneled to neutron_tunnel,MERGED,2021-08-26 14:20:16.000000000,2021-08-31 08:40:25.000000000,2021-08-31 08:37:47.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 14:20:16.000000000', 'files': ['doc/source/admin/networking.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/fc1a99dc16313eaa001408b08ed68f5f3ebacc49', 'message': 'docs: admin/networking rename neutron_tunneled to neutron_tunnel\n\nCloses-Bug: #1941757\nChange-Id: Ic8756ad4e977b24ced52beca3e18f4f8163f0be0\n'}]",0,806197,fc1a99dc16313eaa001408b08ed68f5f3ebacc49,11,4,1,33830,,,0,"docs: admin/networking rename neutron_tunneled to neutron_tunnel

Closes-Bug: #1941757
Change-Id: Ic8756ad4e977b24ced52beca3e18f4f8163f0be0
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/806197/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/networking.rst'],1,fc1a99dc16313eaa001408b08ed68f5f3ebacc49,bug/1941757, ``[neutron_tunnel] numa_nodes`` [neutron_tunnel], ``[neutron_tunneled] numa_nodes`` [neutron_tunneled],2,2
openstack%2Fdiskimage-builder~master~I587e487011db96bbbfce38adbad376710ebcbf9c,openstack/diskimage-builder,master,I587e487011db96bbbfce38adbad376710ebcbf9c,[dnm] testing ubuntu builds,NEW,2021-08-31 01:56:12.000000000,2021-08-31 07:38:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-31 01:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a934435ba893f33d408de8125c91e632a6367ad7', 'message': '[dnm] testing ubuntu builds\n\nChange-Id: I587e487011db96bbbfce38adbad376710ebcbf9c\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/806312\n'}, {'number': 2, 'created': '2021-08-31 03:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6fb075bb7a8936022411360e5a320c1a9c694db7', 'message': '[dnm] testing ubuntu builds\n\nChange-Id: I587e487011db96bbbfce38adbad376710ebcbf9c\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/806312\n'}, {'number': 3, 'created': '2021-08-31 06:04:23.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3742ae3176ffe2fa24e216c64266e18ac40b3fd1', 'message': '[dnm] testing ubuntu builds\n\nChange-Id: I587e487011db96bbbfce38adbad376710ebcbf9c\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/806312\n'}]",0,806660,3742ae3176ffe2fa24e216c64266e18ac40b3fd1,5,1,3,7118,,,0,"[dnm] testing ubuntu builds

Change-Id: I587e487011db96bbbfce38adbad376710ebcbf9c
Depends-On: https://review.opendev.org/c/zuul/nodepool/+/806312
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/60/806660/3 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,a934435ba893f33d408de8125c91e632a6367ad7,ubuntu-minimal-dnf,,,1,0
openstack%2Fneutron~master~I99d27d568f66c6330f6373843d096c6ee1b4ec54,openstack/neutron,master,I99d27d568f66c6330f6373843d096c6ee1b4ec54,Handle all portbinding attrs in case of bulk port creation,MERGED,2021-08-16 13:34:04.000000000,2021-08-31 07:31:37.000000000,2021-08-31 07:28:31.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9542}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-16 13:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eee025a162a4d3132f420eb985f7be941fb146f0', 'message': ""Pass binding:vnic_type in case of bulk port creation\n\nBulk port creation didn't honor binding:vnic_type\nfield. It implicitly used binding:vnic_type 'normal'\n\nCloses-Bug: #1940074\nChange-Id: I99d27d568f66c6330f6373843d096c6ee1b4ec54\n""}, {'number': 2, 'created': '2021-08-19 14:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a876dbfd49226a8bf62b677374f60648701dd785', 'message': ""Pass binding:vnic_type in case of bulk port creation\n\nBulk port creation didn't honor binding:vnic_type\nfield. It implicitly used binding:vnic_type 'normal'\n\nCloses-Bug: #1940074\nChange-Id: I99d27d568f66c6330f6373843d096c6ee1b4ec54\n""}, {'number': 3, 'created': '2021-08-19 15:21:47.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3640ffa0c6968a2f802a9809e4f318fb229dad7d', 'message': 'Handle all portbinding attrs in case of bulk port creation\n\nBulk port creation should honor binding:vnic_type\nand binding:profile attributes from request.\n\nCloses-Bug: #1940074\nChange-Id: I99d27d568f66c6330f6373843d096c6ee1b4ec54\n'}]",0,804746,3640ffa0c6968a2f802a9809e4f318fb229dad7d,192,7,3,13551,,,0,"Handle all portbinding attrs in case of bulk port creation

Bulk port creation should honor binding:vnic_type
and binding:profile attributes from request.

Closes-Bug: #1940074
Change-Id: I99d27d568f66c6330f6373843d096c6ee1b4ec54
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/804746/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/plugin.py'],1,eee025a162a4d3132f420eb985f7be941fb146f0,bug/1940074, port_dict[portbindings.VNIC_TYPE] = pdata.get( portbindings.VNIC_TYPE),,2,0
openstack%2Fdiskimage-builder~master~I75ddecf79e93e189de037ec1a1aa21b5837d831b,openstack/diskimage-builder,master,I75ddecf79e93e189de037ec1a1aa21b5837d831b,Add building for CentOS 9,ABANDONED,2021-08-24 13:20:27.000000000,2021-08-31 07:07:42.000000000,,"[{'_account_id': 4571}, {'_account_id': 7118}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 13:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f34fff754ab43badd50dd8606a1832ece0bdfa21', 'message': 'WIP Add building for CentOS 9\n\nChange-Id: I75ddecf79e93e189de037ec1a1aa21b5837d831b\n'}, {'number': 2, 'created': '2021-08-26 19:37:10.000000000', 'files': ['bindep.txt', 'diskimage_builder/elements/redhat-common/pkg-map'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e1033a5c00b2f66347431a1679963e2879e27116', 'message': 'Add building for CentOS 9\n\nChange-Id: I75ddecf79e93e189de037ec1a1aa21b5837d831b\n'}]",2,805848,e1033a5c00b2f66347431a1679963e2879e27116,12,4,2,10969,,,0,"Add building for CentOS 9

Change-Id: I75ddecf79e93e189de037ec1a1aa21b5837d831b
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/48/805848/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'diskimage_builder/elements/redhat-common/pkg-map']",2,f34fff754ab43badd50dd8606a1832ece0bdfa21,c9img," }, ""9"": { ""libselinux-python"": ""python3-libselinux"", ""policycoreutils"": ""python3-policycoreutils"", ""policycoreutils-python"": ""policycoreutils-python-utils""",,6,0
openstack%2Ftripleo-heat-templates~master~I3f6ddbcf1e4a260384ea5ed36a4a2357dc982a23,openstack/tripleo-heat-templates,master,I3f6ddbcf1e4a260384ea5ed36a4a2357dc982a23,Disable postcopy for ovn/ovs-dpdk,MERGED,2021-08-05 14:57:44.000000000,2021-08-31 06:59:42.000000000,2021-08-06 16:54:57.000000000,"[{'_account_id': 8833}, {'_account_id': 11604}, {'_account_id': 18575}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-08-05 14:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91c899a56fb05602b118067c442d28b891655066', 'message': 'Disable postcopy for ovn/ovs-dpdk\n\npostcopy gets enabled per default if the it is not a realtime node [1].\nTo have postcopy to work ovs needs to be started with --mlockall=no.\nAs it is not known yet if this might have performance impact, we might\nwant to set NovaLiveMigrationPermitPostCopy to False in the dpdk\nenvironment files.\n\nRelated-Bug: #1939028\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\n\n[1] https://review.opendev.org/q/If8958c414c400026c66187261d8fff439aad6388\n\nChange-Id: I3f6ddbcf1e4a260384ea5ed36a4a2357dc982a23\n'}, {'number': 2, 'created': '2021-08-06 06:53:03.000000000', 'files': ['environments/services/neutron-ovn-dpdk.yaml', 'environments/services/neutron-ovs-dpdk.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ddb8acf321d1a108d4a156ff9db20e8d040025a2', 'message': 'Disable postcopy for ovn/ovs-dpdk\n\npostcopy gets enabled per default if the it is not a realtime node [1].\nTo have postcopy to work ovs needs to be started with --mlockall=no.\nAs it is not known yet if this might have performance impact, we might\nwant to set NovaLiveMigrationPermitPostCopy to False in the dpdk\nenvironment files.\n\nRelated-Bug: #1939028\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\n\n[1] https://review.opendev.org/q/If8958c414c400026c66187261d8fff439aad6388\n\nChange-Id: I3f6ddbcf1e4a260384ea5ed36a4a2357dc982a23\n'}]",0,803616,ddb8acf321d1a108d4a156ff9db20e8d040025a2,19,9,2,17216,,,0,"Disable postcopy for ovn/ovs-dpdk

postcopy gets enabled per default if the it is not a realtime node [1].
To have postcopy to work ovs needs to be started with --mlockall=no.
As it is not known yet if this might have performance impact, we might
want to set NovaLiveMigrationPermitPostCopy to False in the dpdk
environment files.

Related-Bug: #1939028
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1986567

[1] https://review.opendev.org/q/If8958c414c400026c66187261d8fff439aad6388

Change-Id: I3f6ddbcf1e4a260384ea5ed36a4a2357dc982a23
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/803616/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/neutron-ovn-dpdk.yaml', 'environments/services/neutron-ovs-dpdk.yaml']",2,91c899a56fb05602b118067c442d28b891655066,vhost-postcopy, NovaLiveMigrationPermitPostCopy: False,,2,1
openstack%2Fswift~master~Id6541d0deabb9f7c3cfd7523833b77218448c990,openstack/swift,master,Id6541d0deabb9f7c3cfd7523833b77218448c990,DNM: shard policy migration: it's still not great,NEW,2021-08-23 09:24:05.000000000,2021-08-31 06:40:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-23 09:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f13f29f03c76dfec93b93d0c2756feb072b4dd94', 'message': ""DNM: shard policy migration: it's still not great\n\nAssuming shard status_changed_at is newer than root then shard policy\nwill be udpated indiscriminately to whatever a root sends it, and so\nmay well bounce around until the roots get in sync.\n\nChange-Id: Id6541d0deabb9f7c3cfd7523833b77218448c990\n""}, {'number': 2, 'created': '2021-08-23 12:12:23.000000000', 'files': ['test/unit/container/test_sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/60e3767a0b2b77a05ea0976982cc7dd2342b450d', 'message': ""DNM: shard policy migration: it's still not great\n\nAssuming shard status_changed_at is newer than root then shard policy\nwill be udpated indiscriminately to whatever a root sends it, and so\nmay well bounce around until the roots get in sync.\n\nChange-Id: Id6541d0deabb9f7c3cfd7523833b77218448c990\n""}]",3,805607,60e3767a0b2b77a05ea0976982cc7dd2342b450d,13,1,2,7847,,,0,"DNM: shard policy migration: it's still not great

Assuming shard status_changed_at is newer than root then shard policy
will be udpated indiscriminately to whatever a root sends it, and so
may well bounce around until the roots get in sync.

Change-Id: Id6541d0deabb9f7c3cfd7523833b77218448c990
",git fetch https://review.opendev.org/openstack/swift refs/changes/07/805607/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/container/test_sharder.py'],1,f13f29f03c76dfec93b93d0c2756feb072b4dd94,fix-update-shard-spi," device='sda', part=0, hash_=None, put_timestamp=None): broker.initialize(put_timestamp=put_timestamp.internal) shard_brokers = [ self._make_broker(container='c_%d' % i, put_timestamp=next(self.ts_iter)) for i in range(3)] def rotate(list_, shift): return list_[shift:] + list_[:shift] policies = [1, 2, 3] for shift in range(3): with self._mock_sharder() as sharder: for i in range(3): rotated_root_responses = rotate(root_responses, shift) with mock_timestamp_now(next(self.ts_iter)): sharder._update_storage_policy_index( shard_brokers[i], rotated_root_responses[i]) rotated_policies = rotate(policies, shift) self.assertEqual( rotated_policies, [broker.storage_policy_index for broker in shard_brokers]) shard_infos = [broker.get_info() for broker in shard_brokers] sorted_shard_infos = sorted( shard_infos, key=functools.cmp_to_key(cmp_policy_info)) # when shards replicate they will settle on whichever policy # happened to the the first to be updated from whichever root (i.e. # oldest status_changed_at) winning_shard_policy = sorted_shard_infos[0][ 'storage_policy_index'] self.assertEqual(rotated_policies[0], winning_shard_policy) # ... and it's all bad (depending on the ordering, because the roots # are still not sync'd, in this case the last root_resp wins) [3, 3, 3],"," device='sda', part=0, hash_=None): broker.initialize() shard_brokers = [self._make_broker(container='c_%d' % i) for i in range(3)] # each shard replica gets audit reposnse from different root, but in # order such that the last shard replica to audit gets the most # recently put root with self._mock_sharder() as sharder: for i in range(3): sharder._update_storage_policy_index( shard_brokers[i], root_responses[i]) # only the one that got the ""correct"" resp can update self.assertEqual( [0, 2, 0], [broker.storage_policy_index for broker in shard_brokers]) # ... and it's all good [2, 2, 2],",35,18
openstack%2Fkuryr~master~I3f2783389e4962c926e75eeb77f592106c4a14d4,openstack/kuryr,master,I3f2783389e4962c926e75eeb77f592106c4a14d4,Use pyroute2.NDB instead of pyroute2.IPDB,NEW,2021-08-29 14:26:35.000000000,2021-08-31 06:28:21.000000000,,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-08-29 14:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/c6264dafc09076d15c7c530c4dc97a662e5d1987', 'message': 'Use pyroute2.NDB instead of pyroute2.IPDB\n\nThe IPDB module of pyroute2 has been deprecated and obsoleted by\nthe NDB module[1].\n\n[1] https://docs.pyroute2.org/ipdb_toc.html\n\nCloses-Bug: #1941976\nChange-Id: I3f2783389e4962c926e75eeb77f592106c4a14d4\n'}, {'number': 2, 'created': '2021-08-29 14:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/183abdaa095123d49ff186d45f81d39dd9ffe5ef', 'message': 'Use pyroute2.NDB instead of pyroute2.IPDB\n\n... because the IPDB module of pyroute2 is deprecated and obsoleted by\nthe NDB module[1].\n\n[1] https://docs.pyroute2.org/ipdb_toc.html\n\nCloses-Bug: #1941976\nChange-Id: I3f2783389e4962c926e75eeb77f592106c4a14d4\n'}, {'number': 3, 'created': '2021-08-29 15:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/daeb252e51ddc826e424c6b74558b341a04f2bce', 'message': 'Use pyroute2.NDB instead of pyroute2.IPDB\n\n... because the IPDB module of pyroute2 is deprecated and obsoleted by\nthe NDB module[1].\n\n[1] https://docs.pyroute2.org/ipdb_toc.html\n\nCloses-Bug: #1941976\nChange-Id: I3f2783389e4962c926e75eeb77f592106c4a14d4\n'}, {'number': 4, 'created': '2021-08-29 15:41:13.000000000', 'files': ['kuryr/lib/binding/drivers/nested.py', 'kuryr/tests/unit/binding/drivers/test_utils.py', 'kuryr/lib/binding/drivers/vlan.py', 'kuryr/lib/binding/drivers/utils.py', 'kuryr/lib/binding/drivers/macvlan.py', 'kuryr/tests/unit/binding/drivers/test_ipvlan.py', 'kuryr/tests/unit/binding/drivers/test_macvlan.py', 'kuryr/tests/unit/binding/drivers/test_veth.py', 'kuryr/tests/unit/binding/drivers/test_vlan.py', 'kuryr/lib/binding/drivers/ipvlan.py', 'kuryr/lib/binding/drivers/veth.py'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/6e42721df3caeb4520b118bf65b106fa58abf37e', 'message': 'Use pyroute2.NDB instead of pyroute2.IPDB\n\n... because the IPDB module of pyroute2 is deprecated and obsoleted by\nthe NDB module[1].\n\n[1] https://docs.pyroute2.org/ipdb_toc.html\n\nCloses-Bug: #1941976\nChange-Id: I3f2783389e4962c926e75eeb77f592106c4a14d4\n'}]",9,806499,6e42721df3caeb4520b118bf65b106fa58abf37e,9,4,4,9816,,,0,"Use pyroute2.NDB instead of pyroute2.IPDB

... because the IPDB module of pyroute2 is deprecated and obsoleted by
the NDB module[1].

[1] https://docs.pyroute2.org/ipdb_toc.html

Closes-Bug: #1941976
Change-Id: I3f2783389e4962c926e75eeb77f592106c4a14d4
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/99/806499/2 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr/lib/binding/drivers/nested.py', 'kuryr/tests/unit/binding/drivers/test_utils.py', 'kuryr/lib/binding/drivers/vlan.py', 'kuryr/lib/binding/drivers/utils.py', 'kuryr/lib/binding/drivers/macvlan.py', 'kuryr/tests/unit/binding/drivers/test_ipvlan.py', 'kuryr/tests/unit/binding/drivers/test_macvlan.py', 'kuryr/tests/unit/binding/drivers/test_veth.py', 'kuryr/tests/unit/binding/drivers/test_vlan.py', 'kuryr/lib/binding/drivers/ipvlan.py', 'kuryr/lib/binding/drivers/veth.py']",11,c6264dafc09076d15c7c530c4dc97a662e5d1987,bug/1941976," ndb = utils.get_ndb() with ndb.create(ifname=host_ifname, kind=KIND, reuse=True, peer=container_ifname) as host_veth: with ndb.interfaces[container_ifname] as container_veth:"," ip = utils.get_ipdb() with ip.create(ifname=host_ifname, kind=KIND, reuse=True, peer=container_ifname) as host_veth: with ip.interfaces[container_ifname] as container_veth:",45,46
openstack%2Fswift~master~Icf96793d3eb59d4a2cc67df2e224a057413d50fd,openstack/swift,master,Icf96793d3eb59d4a2cc67df2e224a057413d50fd,statsd: Make statsd prefix support account interpolation,NEW,2021-08-18 06:24:35.000000000,2021-08-31 06:12:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-18 06:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7de5a1ac0395249c3185a328ec63f7196c3d6dd9', 'message': ""statsd: Make statsd prefix support account interpolation\n\nAs there are more and more accounts used in a cluster it would be nice\nto have the option to generate statsd metrics down to the user account,\nwhen possible.\n\nThis patch makes interpolation possible with the\n`log_statsd_metric_prefix` config option. Currently only account is\nsupported. Like with our rsync configuration you can interpolate the\nstatsd metric with the account by adding '{account}', like:\n\n  log_statsd_metric_prefix = '{accuont}.foo'\n\nOt:\n\n  log_statsd_metric_prefix = 'some.prefix.{accuont}.foo'\n\nIf the account isn't available at the time of the metric, then the\naccount component wont appear in the mertric name, i.e. 'foo.errors' or\n'some.prefix.foo.errors'.\n\nThis way only metrics that have a request, broker or account handly will\nuse them. And if you don't add an `{account}' nothing changes at all.\n\nChange-Id: Icf96793d3eb59d4a2cc67df2e224a057413d50fd\n""}, {'number': 2, 'created': '2021-08-31 04:06:31.000000000', 'files': ['swift/obj/server.py', 'doc/source/config/account_server_config.rst', 'swift/proxy/controllers/obj.py', 'doc/source/config/object_server_config.rst', 'etc/object-server.conf-sample', 'swift/container/updater.py', 'etc/object-expirer.conf-sample', 'etc/internal-client.conf-sample', 'test/unit/common/middleware/test_proxy_logging.py', 'swift/common/middleware/s3api/s3request.py', 'swift/account/reaper.py', 'etc/account-server.conf-sample', 'test/unit/common/test_utils.py', 'swift/obj/diskfile.py', 'swift/common/middleware/proxy_logging.py', 'doc/source/config/proxy_server_config.rst', 'swift/container/sync.py', 'etc/container-server.conf-sample', 'test/unit/common/test_db_replicator.py', 'doc/source/config/container_server_config.rst', 'test/unit/obj/test_diskfile.py', 'swift/proxy/server.py', 'swift/common/db_auditor.py', 'swift/obj/updater.py', 'swift/common/utils.py', 'etc/container-reconciler.conf-sample', 'etc/proxy-server.conf-sample', 'swift/common/db_replicator.py', 'swift/common/swob.py', 'swift/container/sharder.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e078efcfb3f9a9dd9f9d93b7254c4336df9f8f2b', 'message': ""statsd: Make statsd prefix support account interpolation\n\nAs there are more and more accounts used in a cluster it would be nice\nto have the option to generate statsd metrics down to the user account,\nwhen possible.\n\nThis patch makes interpolation possible with the\n`log_statsd_metric_prefix` config option. Currently only account is\nsupported. Like with our rsync configuration you can interpolate the\nstatsd metric with the account by adding '{account}', like:\n\n  log_statsd_metric_prefix = '{accuont}.foo'\n\nOt:\n\n  log_statsd_metric_prefix = 'some.prefix.{accuont}.foo'\n\nIf the account isn't available at the time of the metric, then the\naccount component wont appear in the mertric name, i.e. 'foo.errors' or\n'some.prefix.foo.errors'.\n\nThis way only metrics that have a request, broker or account handly will\nuse them. And if you don't add an `{account}' nothing changes at all.\n\nChange-Id: Icf96793d3eb59d4a2cc67df2e224a057413d50fd\n""}]",20,804948,e078efcfb3f9a9dd9f9d93b7254c4336df9f8f2b,6,1,2,7233,,,0,"statsd: Make statsd prefix support account interpolation

As there are more and more accounts used in a cluster it would be nice
to have the option to generate statsd metrics down to the user account,
when possible.

This patch makes interpolation possible with the
`log_statsd_metric_prefix` config option. Currently only account is
supported. Like with our rsync configuration you can interpolate the
statsd metric with the account by adding '{account}', like:

  log_statsd_metric_prefix = '{accuont}.foo'

Ot:

  log_statsd_metric_prefix = 'some.prefix.{accuont}.foo'

If the account isn't available at the time of the metric, then the
account component wont appear in the mertric name, i.e. 'foo.errors' or
'some.prefix.foo.errors'.

This way only metrics that have a request, broker or account handly will
use them. And if you don't add an `{account}' nothing changes at all.

Change-Id: Icf96793d3eb59d4a2cc67df2e224a057413d50fd
",git fetch https://review.opendev.org/openstack/swift refs/changes/48/804948/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/server.py', 'doc/source/config/account_server_config.rst', 'swift/proxy/controllers/obj.py', 'doc/source/config/object_server_config.rst', 'etc/object-server.conf-sample', 'swift/container/updater.py', 'etc/object-expirer.conf-sample', 'etc/internal-client.conf-sample', 'test/unit/common/middleware/test_proxy_logging.py', 'swift/common/middleware/s3api/s3request.py', 'swift/account/reaper.py', 'etc/account-server.conf-sample', 'test/unit/common/test_utils.py', 'swift/obj/diskfile.py', 'swift/common/middleware/proxy_logging.py', 'doc/source/config/proxy_server_config.rst', 'swift/container/sync.py', 'etc/container-server.conf-sample', 'test/unit/common/test_db_replicator.py', 'doc/source/config/container_server_config.rst', 'test/unit/obj/test_diskfile.py', 'swift/proxy/server.py', 'swift/common/db_auditor.py', 'swift/obj/updater.py', 'swift/common/utils.py', 'etc/container-reconciler.conf-sample', 'etc/proxy-server.conf-sample', 'swift/common/db_replicator.py', 'swift/common/swob.py', 'swift/container/sharder.py', 'swift/proxy/controllers/base.py']",31,7de5a1ac0395249c3185a328ec63f7196c3d6dd9,account_in_statsd," self.app.logger.increment('client_timeouts', namespace=req)", self.app.logger.increment('client_timeouts'),459,154
openstack%2Fcinder~master~I4bae6b684d7f82c171936c455fc0a4b0b9e8dd2b,openstack/cinder,master,I4bae6b684d7f82c171936c455fc0a4b0b9e8dd2b,DNM: Fake policies - AA,NEW,2021-08-24 02:04:24.000000000,2021-08-31 05:17:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-24 02:04:24.000000000', 'files': ['cinder/policies/fakes.py', 'cinder/policies/base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9dd382ffd40b875f46e624efe491f8fc36d015e9', 'message': 'DNM: Fake policies - AA\n\nChange-Id: I4bae6b684d7f82c171936c455fc0a4b0b9e8dd2b\n'}]",0,805773,9dd382ffd40b875f46e624efe491f8fc36d015e9,20,1,1,5314,,,0,"DNM: Fake policies - AA

Change-Id: I4bae6b684d7f82c171936c455fc0a4b0b9e8dd2b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/73/805773/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/policies/fakes.py', 'cinder/policies/base.py']",2,9dd382ffd40b875f46e624efe491f8fc36d015e9,fake-policies, return yoga_rule_defaults, return xena_rule_defaults + yoga_rule_defaults,1,59
openstack%2Fskyline-apiserver~master~I6fd874400f77e9d201d6c5d7284c78345d52b63f,openstack/skyline-apiserver,master,I6fd874400f77e9d201d6c5d7284c78345d52b63f,fix: Lack of import constants,MERGED,2021-08-31 03:54:20.000000000,2021-08-31 04:19:59.000000000,2021-08-31 04:19:59.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-31 03:54:20.000000000', 'files': ['libs/skyline-apiserver/skyline_apiserver/api/v1/contrib.py'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/4abe8d40329e50ed88a4ea865eda61e48744b09d', 'message': 'fix: Lack of import constants\n\nUse constants in contrib but lack of import it.\nHere we import constants from skyline_apiserver.types to fix it.\n\nCloses-Bug: #1942087\nChange-Id: I6fd874400f77e9d201d6c5d7284c78345d52b63f\n'}]",0,806673,4abe8d40329e50ed88a4ea865eda61e48744b09d,7,2,1,28706,,,0,"fix: Lack of import constants

Use constants in contrib but lack of import it.
Here we import constants from skyline_apiserver.types to fix it.

Closes-Bug: #1942087
Change-Id: I6fd874400f77e9d201d6c5d7284c78345d52b63f
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/73/806673/1 && git format-patch -1 --stdout FETCH_HEAD,['libs/skyline-apiserver/skyline_apiserver/api/v1/contrib.py'],1,4abe8d40329e50ed88a4ea865eda61e48744b09d,,from skyline_apiserver.types import constants,,1,0
openstack%2Fheat~master~I6084b006a509856865123bd79abfe18faa2cda73,openstack/heat,master,I6084b006a509856865123bd79abfe18faa2cda73,Support regen trsut for stack delete,NEW,2021-08-31 02:17:49.000000000,2021-08-31 04:09:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-31 02:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/445d0b75d29febf801881d3dad58aed94dedcbb7', 'message': 'Support regen trsut for stack delete\n\nThis patch introduce:\n* regenerate trust for Stack delete.\n\nStory: 2009153\nTask: 43118\nChange-Id: I6084b006a509856865123bd79abfe18faa2cda73\n'}, {'number': 2, 'created': '2021-08-31 02:19:50.000000000', 'files': ['heat/tests/engine/service/test_stack_delete.py', 'heat/engine/service.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/c0a83c2626c14ac49bd43b88cedb244a4fd5cfc2', 'message': 'Support regen trsut for stack delete\n\nThis patch introduce:\n* regenerate trust for Stack delete.\n\nStory: 2009153\nTask: 43118\nChange-Id: I6084b006a509856865123bd79abfe18faa2cda73\n'}]",0,806663,c0a83c2626c14ac49bd43b88cedb244a4fd5cfc2,4,1,2,12404,,,0,"Support regen trsut for stack delete

This patch introduce:
* regenerate trust for Stack delete.

Story: 2009153
Task: 43118
Change-Id: I6084b006a509856865123bd79abfe18faa2cda73
",git fetch https://review.opendev.org/openstack/heat refs/changes/63/806663/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/engine/service/test_stack_delete.py', 'heat/engine/service.py']",2,445d0b75d29febf801881d3dad58aed94dedcbb7,story/1752347," stack = parser.Stack.load(cnxt, stack=st, check_refresh_cred=True)"," stack = parser.Stack.load(cnxt, stack=st)",9,5
openstack%2Fheat~master~I7993ae4a07877c87269a97236e95c6ceb2b44e20,openstack/heat,master,I7993ae4a07877c87269a97236e95c6ceb2b44e20,Support regen trsut for stack resource signal,NEW,2021-08-31 02:17:49.000000000,2021-08-31 04:01:59.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-31 02:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/33747e8eaf936336f7d2b6b0e05f6c503d384363', 'message': 'Support regen trsut for stack resource signal\n\nThis patch introduce:\n* regenerate trust for Stack resource signal\n\nStory: 2009153\nTask: 43117\nChange-Id: I7993ae4a07877c87269a97236e95c6ceb2b44e20\n'}, {'number': 2, 'created': '2021-08-31 02:19:50.000000000', 'files': ['heat/tests/test_metadata_refresh.py', 'heat/tests/engine/service/test_stack_resources.py', 'heat/engine/service.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/cffaee41758c2ebfe8e58a102228acb4d8542516', 'message': 'Support regen trsut for stack resource signal\n\nThis patch introduce:\n* regenerate trust for Stack resource signal\n\nStory: 2009153\nTask: 43117\nChange-Id: I7993ae4a07877c87269a97236e95c6ceb2b44e20\n'}]",0,806664,cffaee41758c2ebfe8e58a102228acb4d8542516,5,2,2,12404,,,0,"Support regen trsut for stack resource signal

This patch introduce:
* regenerate trust for Stack resource signal

Story: 2009153
Task: 43117
Change-Id: I7993ae4a07877c87269a97236e95c6ceb2b44e20
",git fetch https://review.opendev.org/openstack/heat refs/changes/64/806664/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_metadata_refresh.py', 'heat/tests/engine/service/test_stack_resources.py', 'heat/engine/service.py']",3,33747e8eaf936336f7d2b6b0e05f6c503d384363,story/1752347," stack = parser.Stack.load(cnxt, stack=s, use_stored_context=True, check_refresh_cred=True)"," stack = parser.Stack.load(cnxt, stack=s, use_stored_context=True)",34,12
openstack%2Fheat~master~I4fec88d645ea4cd6a2c65bf7a40f19e61aacb93d,openstack/heat,master,I4fec88d645ea4cd6a2c65bf7a40f19e61aacb93d,Fix regenerate trust under stored_context,NEW,2021-08-31 02:17:49.000000000,2021-08-31 03:55:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-31 02:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ab6ce0ce490278cc6bd0a65641c9dd74a382767e', 'message': 'Fix regenerate trust under stored_context\n\nWhen use stored_context, make usre we always use the new credential.\nAslo change to run credential refresh check after stack force reload, so\nthe check will run againist newest stack information.\n\nStory: #1752347\nChange-Id: I4fec88d645ea4cd6a2c65bf7a40f19e61aacb93d\n'}, {'number': 2, 'created': '2021-08-31 02:19:50.000000000', 'files': ['heat/engine/stack.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/6d985d2fc37fc0ed524270a474e7486eebf20a38', 'message': 'Fix regenerate trust under stored_context\n\nWhen use stored_context, make usre we always use the new credential.\nAslo change to run credential refresh check after stack force reload, so\nthe check will run againist newest stack information.\n\nStory: 2009153\nTask: 43136\nChange-Id: I4fec88d645ea4cd6a2c65bf7a40f19e61aacb93d\n'}]",0,806662,6d985d2fc37fc0ed524270a474e7486eebf20a38,4,1,2,12404,,,0,"Fix regenerate trust under stored_context

When use stored_context, make usre we always use the new credential.
Aslo change to run credential refresh check after stack force reload, so
the check will run againist newest stack information.

Story: 2009153
Task: 43136
Change-Id: I4fec88d645ea4cd6a2c65bf7a40f19e61aacb93d
",git fetch https://review.opendev.org/openstack/heat refs/changes/62/806662/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/stack.py'],1,ab6ce0ce490278cc6bd0a65641c9dd74a382767e,story/1752347," if use_stored_context and not self.refresh_cred: if use_stored_context and self.refresh_cred: # If we need to refresh credential, make sure we do refresh # and use correct credential as stored_context for stack. # Do this right at end of init to make sure we do have most # stack attributes ready for store() self.store(use_stored_context=True) if force_reload: stack.refresh() ignore_traversal_check=False, use_stored_context=False): # Only rotate user_creds_id right at storing. # To make sure we store it right away. if use_stored_context: # Make sure context will use new user_creds_id self.context = self.stored_context()", if use_stored_context: use_stored_context = False if force_reload: stack.refresh() ignore_traversal_check=False):,17,6
openstack%2Fnova~master~I8e7b16b66f1c70c2934f04fe9036c1dbbc8f796d,openstack/nova,master,I8e7b16b66f1c70c2934f04fe9036c1dbbc8f796d,[func test] refactor asserts in qos tests,MERGED,2021-06-30 16:37:42.000000000,2021-08-31 03:52:01.000000000,2021-08-31 01:35:46.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-30 16:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91b09f67abc97aec4cf8af7abb0429e0f6b70014', 'message': '[func test] refactor asserts in qos tests\n\nTo prepare to test qos ports with the new extended resource request the\nexisting functional tests are refactored. The resource allocation and\nthe neutron binding profile related asserts are extracted as those will\nchange when the extended resource request is enabled.\n\nChange-Id: I8e7b16b66f1c70c2934f04fe9036c1dbbc8f796d\n'}, {'number': 2, 'created': '2021-07-07 15:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b41dd0f21895428dd198603076b2e0f1d153e05', 'message': '[func test] refactor asserts in qos tests\n\nTo prepare to test qos ports with the new extended resource request the\nexisting functional tests are refactored. The resource allocation and\nthe neutron binding profile related asserts are extracted as those will\nchange when the extended resource request is enabled.\n\nChange-Id: I8e7b16b66f1c70c2934f04fe9036c1dbbc8f796d\n'}, {'number': 3, 'created': '2021-07-09 13:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b83adca55339de10287aa309285127e581e84dc7', 'message': '[func test] refactor asserts in qos tests\n\nTo prepare to test qos ports with the new extended resource request the\nexisting functional tests are refactored. The resource allocation and\nthe neutron binding profile related asserts are extracted as those will\nchange when the extended resource request is enabled.\n\nChange-Id: I8e7b16b66f1c70c2934f04fe9036c1dbbc8f796d\n'}, {'number': 4, 'created': '2021-07-15 18:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b957d759cc86dc84f1847fbb6ed09f82c3262024', 'message': '[func test] refactor asserts in qos tests\n\nTo prepare to test qos ports with the new extended resource request the\nexisting functional tests are refactored. The resource allocation and\nthe neutron binding profile related asserts are extracted as those will\nchange when the extended resource request is enabled.\n\nChange-Id: I8e7b16b66f1c70c2934f04fe9036c1dbbc8f796d\n'}, {'number': 5, 'created': '2021-07-15 19:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1652584cfed7a5dc9319e33ef5eb4025d9d23d9f', 'message': '[func test] refactor asserts in qos tests\n\nTo prepare to test qos ports with the new extended resource request the\nexisting functional tests are refactored. The resource allocation and\nthe neutron binding profile related asserts are extracted as those will\nchange when the extended resource request is enabled.\n\nChange-Id: I8e7b16b66f1c70c2934f04fe9036c1dbbc8f796d\n'}, {'number': 6, 'created': '2021-07-16 17:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5b7f11f0c40f48640cc4b526e889439933339f3', 'message': '[func test] refactor asserts in qos tests\n\nTo prepare to test qos ports with the new extended resource request the\nexisting functional tests are refactored. The resource allocation and\nthe neutron binding profile related asserts are extracted as those will\nchange when the extended resource request is enabled.\n\nChange-Id: I8e7b16b66f1c70c2934f04fe9036c1dbbc8f796d\n'}, {'number': 7, 'created': '2021-07-19 13:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8930b8fd37936e22478dc0ff6d742074af135730', 'message': '[func test] refactor asserts in qos tests\n\nTo prepare to test qos ports with the new extended resource request the\nexisting functional tests are refactored. The resource allocation and\nthe neutron binding profile related asserts are extracted as those will\nchange when the extended resource request is enabled.\n\nChange-Id: I8e7b16b66f1c70c2934f04fe9036c1dbbc8f796d\n'}, {'number': 8, 'created': '2021-07-19 16:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d84286f11b1203dbb1bf42ec15e8d536a72a7d7', 'message': '[func test] refactor asserts in qos tests\n\nTo prepare to test qos ports with the new extended resource request the\nexisting functional tests are refactored. The resource allocation and\nthe neutron binding profile related asserts are extracted as those will\nchange when the extended resource request is enabled.\n\nChange-Id: I8e7b16b66f1c70c2934f04fe9036c1dbbc8f796d\n'}, {'number': 9, 'created': '2021-07-22 13:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85c5fceb5f0e38c7644df4842e0472b30f10f869', 'message': '[func test] refactor asserts in qos tests\n\nTo prepare to test qos ports with the new extended resource request the\nexisting functional tests are refactored. The resource allocation and\nthe neutron binding profile related asserts are extracted as those will\nchange when the extended resource request is enabled.\n\nChange-Id: I8e7b16b66f1c70c2934f04fe9036c1dbbc8f796d\n'}, {'number': 10, 'created': '2021-08-16 17:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6ba3d1754122398205fc2a695b487359132f47b', 'message': '[func test] refactor asserts in qos tests\n\nTo prepare to test qos ports with the new extended resource request the\nexisting functional tests are refactored. The resource allocation and\nthe neutron binding profile related asserts are extracted as those will\nchange when the extended resource request is enabled.\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I8e7b16b66f1c70c2934f04fe9036c1dbbc8f796d\n'}, {'number': 11, 'created': '2021-08-16 17:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9aa670cec4089d174daca527db60447807555c1', 'message': '[func test] refactor asserts in qos tests\n\nTo prepare to test qos ports with the new extended resource request the\nexisting functional tests are refactored. The resource allocation and\nthe neutron binding profile related asserts are extracted as those will\nchange when the extended resource request is enabled.\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I8e7b16b66f1c70c2934f04fe9036c1dbbc8f796d\n'}, {'number': 12, 'created': '2021-08-21 12:45:08.000000000', 'files': ['nova/tests/functional/test_servers_resource_request.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/de9b136dc6aaea600f53a21f5e3303b92210d88e', 'message': '[func test] refactor asserts in qos tests\n\nTo prepare to test qos ports with the new extended resource request the\nexisting functional tests are refactored. The resource allocation and\nthe neutron binding profile related asserts are extracted as those will\nchange when the extended resource request is enabled.\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I8e7b16b66f1c70c2934f04fe9036c1dbbc8f796d\n'}]",5,798930,de9b136dc6aaea600f53a21f5e3303b92210d88e,77,4,12,9708,,,0,"[func test] refactor asserts in qos tests

To prepare to test qos ports with the new extended resource request the
existing functional tests are refactored. The resource allocation and
the neutron binding profile related asserts are extracted as those will
change when the extended resource request is enabled.

blueprint: qos-minimum-guaranteed-packet-rate

Change-Id: I8e7b16b66f1c70c2934f04fe9036c1dbbc8f796d
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/798930/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_servers.py'],1,91b09f67abc97aec4cf8af7abb0429e0f6b70014,bp/qos-minimum-guaranteed-packet-rate," def _assert_port_binding_profile_allocation(self, port, compute_rp_uuid): if port.get('resource_request', {}): if port['binding:vnic_type'] == ""normal"": # Normal ports are expected to have allocation on the OVS RP expected_allocation = self.ovs_bridge_rp_per_host[ compute_rp_uuid] else: # SRIOV ports are expected to have allocation on the PF2 RP # see _create_sriov_networking_rp_tree() for details. expected_allocation = self.sriov_dev_rp_per_host[ compute_rp_uuid][self.PF2] self.assertEqual( expected_allocation, port['binding:profile']['allocation']) else: # if no resource request then we expect no allocation key in the # binding profile self.assertNotIn( 'allocation', port['binding:profile']) def _assert_number_of_allocations(self, actual_nr_of_allocations, *ports): # we expect one allocation always for the compute resources expected = 1 # then one for each port that has resource request expected += len( [port for port in ports if port.get('resource_request', [])] ) self.assertEqual(expected, actual_nr_of_allocations) self._assert_number_of_allocations( len(allocations), updated_qos_port, updated_non_qos_port) self._assert_port_binding_profile_allocation( updated_qos_port, self.compute1_rp_uuid) self._assert_number_of_allocations( len(allocations), ovs_port, sriov_port) self._assert_port_binding_profile_allocation( ovs_port, self.compute1_rp_uuid) self._assert_port_binding_profile_allocation( sriov_port, self.compute1_rp_uuid) self._assert_number_of_allocations(len(allocations), ovs_port) self._assert_port_binding_profile_allocation( ovs_port, self.compute1_rp_uuid) self._assert_number_of_allocations( len(allocations), ovs_port, sriov_port) self._assert_port_binding_profile_allocation( ovs_port, self.compute1_rp_uuid) self._assert_port_binding_profile_allocation( sriov_port, self.compute1_rp_uuid) self._assert_number_of_allocations(len(allocations), sriov_port) updated_port = self.neutron.show_port(port['id'])['port'] self._assert_number_of_allocations(len(allocations), updated_port) updated_port, allocations, self.compute1_rp_uuid) self._assert_port_binding_profile_allocation( updated_port, self.compute1_rp_uuid) updated_port = self.neutron.show_port(port['id'])['port'] self._assert_number_of_allocations(len(allocations), updated_port) self._assert_port_binding_profile_allocation( updated_port, self.compute1_rp_uuid) self._assert_number_of_allocations(len(allocations), updated_port) self._assert_number_of_allocations( len(allocations), sriov_port, sriov_port_with_res_req) self._assert_port_binding_profile_allocation( sriov_port_with_res_req, self.compute1_rp_uuid) self._assert_port_binding_profile_allocation( sriov_port, self.compute1_rp_uuid) sriov_with_req_binding = sriov_port_with_res_req['binding:profile'] sriov_binding = sriov_port['binding:profile'] self._assert_number_of_allocations(len(allocations), port) self._assert_port_binding_profile_allocation( port, self.compute1_rp_uuid) port_binding = port['binding:profile']"," # We expect one set of allocations for the compute resources on the # compute rp and one set for the networking resources on the ovs bridge # rp due to the qos_port resource request self.assertEqual(2, len(allocations)) # We expect that only the RP uuid of the networking RP having the port # allocation is sent in the port binding for the port having resource # request qos_binding_profile = updated_qos_port['binding:profile'] self.assertEqual(self.ovs_bridge_rp_per_host[self.compute1_rp_uuid], qos_binding_profile['allocation']) # We expect one set of allocations for the compute resources on the # compute rp and one set for the networking resources on the ovs bridge # rp and on the sriov PF rp. self.assertEqual(3, len(allocations)) # We expect that only the RP uuid of the networking RP having the port # allocation is sent in the port binding for the port having resource # request ovs_binding = ovs_port['binding:profile'] self.assertEqual(self.ovs_bridge_rp_per_host[self.compute1_rp_uuid], ovs_binding['allocation']) sriov_binding = sriov_port['binding:profile'] self.assertEqual( self.sriov_dev_rp_per_host[self.compute1_rp_uuid][self.PF2], sriov_binding['allocation']) # We expect one set of allocations for the compute resources on the # compute RP and one set for the networking resources on the OVS # bridge RP. self.assertEqual(2, len(allocations)) # We expect that only the RP uuid of the networking RP having the port # allocation is sent in the port binding for the port having resource # request ovs_binding = ovs_port['binding:profile'] self.assertEqual(self.ovs_bridge_rp_per_host[self.compute1_rp_uuid], ovs_binding['allocation']) # We expect one set of allocations for the compute resources on the # compute RP and one set each for the networking resources on the OVS # bridge RP and on the SRIOV PF RP. self.assertEqual(3, len(allocations)) # We expect that only the RP uuid of the networking RP having the port # allocation is sent in the port binding for the port having resource # request ovs_binding = ovs_port['binding:profile'] self.assertEqual(self.ovs_bridge_rp_per_host[self.compute1_rp_uuid], ovs_binding['allocation']) sriov_binding = sriov_port['binding:profile'] self.assertEqual( self.sriov_dev_rp_per_host[self.compute1_rp_uuid][self.PF2], sriov_binding['allocation']) self.assertEqual(2, len(allocations)) # We expect one set of allocations for the compute resources on the # compute rp and one set for the networking resources on the ovs bridge # rp due to the port resource request self.assertEqual(2, len(allocations)) port, allocations, self.compute1_rp_uuid) # We expect that only the RP uuid of the networking RP having the port # allocation is sent in the port binding for the port having resource # request updated_port = self.neutron.show_port(port['id'])['port'] binding_profile = updated_port['binding:profile'] self.assertEqual(self.ovs_bridge_rp_per_host[self.compute1_rp_uuid], binding_profile['allocation']) # We expect one set of allocations for the compute resources on the # compute rp and one set for the networking resources on the ovs bridge # rp due to the port resource request self.assertEqual(2, len(allocations)) # We expect that only the RP uuid of the networking RP having the port # allocation is sent in the port binding for the port having resource # request updated_port = self.neutron.show_port(port['id'])['port'] binding_profile = updated_port['binding:profile'] self.assertEqual(self.ovs_bridge_rp_per_host[self.compute1_rp_uuid], binding_profile['allocation']) self.assertEqual(2, len(allocations)) # We expect one set of allocations for the compute resources on the # compute rp and one set for the networking resources on the sriov PF2 # rp. self.assertEqual(2, len(allocations)) # We expect that only the RP uuid of the networking RP having the port # allocation is sent in the port binding for the port having resource # request sriov_with_req_binding = sriov_port_with_res_req['binding:profile'] self.assertEqual( self.sriov_dev_rp_per_host[self.compute1_rp_uuid][self.PF2], sriov_with_req_binding['allocation']) # and the port without resource request does not have allocation sriov_binding = sriov_port['binding:profile'] self.assertNotIn('allocation', sriov_binding) # We expect one set of allocations for the compute resources on the # compute rp and one set for the networking resources on the sriov PF2 # rp. self.assertEqual(2, len(allocations)) # We expect that only the RP uuid of the networking RP having the port # allocation is sent in the port binding for the port having resource # request port_binding = port['binding:profile'] self.assertEqual( self.sriov_dev_rp_per_host[self.compute1_rp_uuid][self.PF2], port_binding['allocation'])",73,99
openstack%2Fnova~master~Ifb92fc0be66cec8a41b89e584aecfb5d23dfeb30,openstack/nova,master,Ifb92fc0be66cec8a41b89e584aecfb5d23dfeb30,[func test] ports with both bw and pps resources,MERGED,2021-05-20 14:59:44.000000000,2021-08-31 03:48:44.000000000,2021-08-31 01:35:54.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 14:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/41b913603b9a8d66c11cafb6bffae2b9d740ded7', 'message': '[func test] ports with both bw and pps resources\n\nA new neutron fixture is added that redefines the port used in the\nbandwidth functional tests to have packet rate resource request as well.\nAlso a new test subclass is added to use the new fixture to run the same\nbasic tests (create, delete, interface attach/detach) with the new\nfixture.\n\nRight now a bunch of those tests fails due to the various TODOs add in\nthe code in previous patches.\n\nA similar test subclass can be added later to run the serve move tests\ncases with the new neutron fixture.\n\nChange-Id: Ifb92fc0be66cec8a41b89e584aecfb5d23dfeb30\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 2, 'created': '2021-05-20 17:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a0494f198e4c898b89042b4c2705c60aab25751', 'message': '[func test] ports with both bw and pps resources\n\nA new neutron fixture is added that redefines the port used in the\nbandwidth functional tests to have packet rate resource request as well.\nAlso a new test subclass is added to use the new fixture to run the same\nbasic tests (create, delete, interface attach/detach) with the new\nfixture.\n\nRight now a bunch of those tests fails due to the various TODOs add in\nthe code in previous patches.\n\nA similar test subclass can be added later to run the serve move tests\ncases with the new neutron fixture.\n\nChange-Id: Ifb92fc0be66cec8a41b89e584aecfb5d23dfeb30\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 3, 'created': '2021-05-28 12:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2b38c5512af747b3613419db561f6ec7ba21da8', 'message': '[func test] ports with both bw and pps resources\n\nA new neutron fixture is added that redefines the port used in the\nbandwidth functional tests to have packet rate resource request as well.\nAlso a new test subclass is added to use the new fixture to run the same\nbasic tests (create, delete, interface attach/detach) with the new\nfixture.\n\nRight now a bunch of those tests fails due to the various TODOs add in\nthe code in previous patches.\n\nA similar test subclass can be added later to run the serve move tests\ncases with the new neutron fixture.\n\nChange-Id: Ifb92fc0be66cec8a41b89e584aecfb5d23dfeb30\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 4, 'created': '2021-05-28 16:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/934a4f7b9cb358c6432fd138d5eaeec1f87d3a5f', 'message': '[func test] ports with both bw and pps resources\n\nA new neutron fixture is added that redefines the port used in the\nbandwidth functional tests to have packet rate resource request as well.\nAlso a new test subclass is added to use the new fixture to run the same\nbasic tests (create, delete, interface attach/detach) with the new\nfixture.\n\nRight now a bunch of those tests fails due to the various TODOs add in\nthe code in previous patches.\n\nA similar test subclass can be added later to run the serve move tests\ncases with the new neutron fixture.\n\nTODO:\n* mock out the api check that reject the request for these functional\n  tests\n\nChange-Id: Ifb92fc0be66cec8a41b89e584aecfb5d23dfeb30\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 5, 'created': '2021-06-02 17:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f3d6188c93db92093e9759966db914dfb48b804', 'message': '[func test] ports with both bw and pps resources\n\nA new neutron fixture is added that redefines the port used in the\nbandwidth functional tests to have packet rate resource request as well.\nAlso a new test subclass is added to use the new fixture to run the same\nbasic tests (create, delete, interface attach/detach) with the new\nfixture.\n\nRight now a bunch of those tests fails due to the various TODOs add in\nthe code in previous patches.\n\nA similar test subclass can be added later to run the serve move tests\ncases with the new neutron fixture.\n\nTODO:\n* mock out the api check that reject the request for these functional\n  tests\n\nChange-Id: Ifb92fc0be66cec8a41b89e584aecfb5d23dfeb30\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 6, 'created': '2021-06-03 16:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3dc93bd758543192fa8b430f3cd37366b1b423a8', 'message': '[func test] ports with both bw and pps resources\n\nA new neutron fixture is added that redefines the port used in the\nbandwidth functional tests to have packet rate resource request as well.\nAlso a new test subclass is added to use the new fixture to run the same\nbasic tests (create, delete, interface attach/detach) with the new\nfixture.\n\nRight now a bunch of those tests fails due to the various TODOs add in\nthe code in previous patches.\n\nA similar test subclass can be added later to run the serve move tests\ncases with the new neutron fixture.\n\nTODO:\n* mock out the api check that reject the request for these functional\n  tests\n\nChange-Id: Ifb92fc0be66cec8a41b89e584aecfb5d23dfeb30\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 7, 'created': '2021-06-04 13:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/404823b9f2eb280f743870efea377e46932f01a1', 'message': '[func test] ports with both bw and pps resources\n\nA new neutron fixture is added that redefines the port used in the\nbandwidth functional tests to have packet rate resource request as well.\nAlso a new test subclass is added to use the new fixture to run the same\nbasic tests (create, delete, interface attach/detach) with the new\nfixture.\n\nRight now a bunch of those tests fails due to the various TODOs add in\nthe code in previous patches.\n\nA similar test subclass can be added later to run the serve move tests\ncases with the new neutron fixture.\n\nTODO:\n* mock out the api check that reject the request for these functional\n  tests\n\nChange-Id: Ifb92fc0be66cec8a41b89e584aecfb5d23dfeb30\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 8, 'created': '2021-06-04 14:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5faac489175ff772f5737fe8841216fc4574a070', 'message': '[func test] ports with both bw and pps resources\n\nA new neutron fixture is added that redefines the port used in the\nbandwidth functional tests to have packet rate resource request as well.\nAlso a new test subclass is added to use the new fixture to run the same\nbasic tests (create, delete, interface attach/detach) with the new\nfixture.\n\nRight now a bunch of those tests fails due to the various TODOs add in\nthe code in previous patches.\n\nA similar test subclass can be added later to run the serve move tests\ncases with the new neutron fixture.\n\nTODO:\n* mock out the api check that reject the request for these functional\n  tests\n\nChange-Id: Ifb92fc0be66cec8a41b89e584aecfb5d23dfeb30\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 9, 'created': '2021-06-14 11:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/998ac7aa14eaaa7a6502b33bb730098ba3cbb882', 'message': '[func test] ports with both bw and pps resources\n\nA new neutron fixture is added that redefines the port used in the\nbandwidth functional tests to have packet rate resource request as well.\nAlso a new test subclass is added to use the new fixture to run the same\nbasic tests (create, delete, interface attach/detach) with the new\nfixture.\n\nRight now a bunch of those tests fails due to the various TODOs add in\nthe code in previous patches.\n\nA similar test subclass can be added later to run the serve move tests\ncases with the new neutron fixture.\n\nTODO:\n* mock out the api check that reject the request for these functional\n  tests\n\nChange-Id: Ifb92fc0be66cec8a41b89e584aecfb5d23dfeb30\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 10, 'created': '2021-06-25 16:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2892dfefb2a2b67210018ac3f1f41bcacd8640c5', 'message': '[func test] ports with both bw and pps resources\n\nA new neutron fixture is added that redefines the port used in the\nbandwidth functional tests to have packet rate resource request as well.\nAlso a new test subclass is added to use the new fixture to run the same\nbasic tests (create, delete, interface attach/detach) with the new\nfixture.\n\nRight now a bunch of those tests fails due to the various TODOs add in\nthe code in previous patches.\n\nA similar test subclass can be added later to run the serve move tests\ncases with the new neutron fixture.\n\nTODO:\n\nChange-Id: Ifb92fc0be66cec8a41b89e584aecfb5d23dfeb30\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 11, 'created': '2021-06-30 16:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d4d1026859454310699a1e3e15d9763a9676c25', 'message': '[func test] ports with both bw and pps resources\n\nA new neutron fixture is added that redefines the port used in the\nbandwidth functional tests to have packet rate resource request as well.\nAlso a new test subclass is added to use the new fixture to run the same\nbasic tests (create, delete, interface attach/detach) with the new\nfixture.\n\nRight now a bunch of those tests fails due to the various TODOs add in\nthe code in previous patches.\n\nA similar test subclass can be added later to run the serve move tests\ncases with the new neutron fixture.\n\nTODO:\n* fix expected failures to pass\n* test server move operations\n\nChange-Id: Ifb92fc0be66cec8a41b89e584aecfb5d23dfeb30\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 12, 'created': '2021-07-07 16:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/affa14ed11068f2750c5b32fae0a69979b55ddda', 'message': '[func test] ports with both bw and pps resources\n\nA new neutron fixture is added that redefines the port used in the\nbandwidth functional tests to have packet rate resource request as well.\nAlso a new test subclass is added to use the new fixture to run the same\nbasic tests (create, delete, interface attach/detach) with the new\nfixture.\n\nRight now a bunch of those tests fails due to the various TODOs add in\nthe code in previous patches.\n\nA similar test subclass can be added later to run the serve move tests\ncases with the new neutron fixture.\n\nTODO:\n* fix expected failures to pass\n* test server move operations\n\nChange-Id: Ifb92fc0be66cec8a41b89e584aecfb5d23dfeb30\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 13, 'created': '2021-07-08 17:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1a502510f1a478d90566bdb41531143a737b666', 'message': '[func test] ports with both bw and pps resources\n\nA new neutron fixture is added that redefines the port used in the\nbandwidth functional tests to have packet rate resource request as well.\nAlso two new test subclasses are added to use the new fixture to run the\nsame basic tests (create, delete, interface attach/detach) with the new\nfixture as well as server move operations.\n\nRight now these tests are failing and therefore disabled, but\nsubsequent patches will add the missing implementation to enabled them\ngradually.\n\nChange-Id: Ifb92fc0be66cec8a41b89e584aecfb5d23dfeb30\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 14, 'created': '2021-07-09 13:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84edf65b69f51c39e13c6b36e265eac8926a08e8', 'message': '[func test] ports with both bw and pps resources\n\nA new neutron fixture is added that redefines the port used in the\nbandwidth functional tests to have packet rate resource request as well.\nAlso two new test subclasses are added to use the new fixture to run the\nsame basic tests (create, delete, interface attach/detach) with the new\nfixture as well as server move operations.\n\nRight now these tests are failing and therefore disabled, but\nsubsequent patches will add the missing implementation to enabled them\ngradually.\n\nChange-Id: Ifb92fc0be66cec8a41b89e584aecfb5d23dfeb30\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 15, 'created': '2021-07-15 18:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aeca65860b6707ea556013d95ba65373c0c9dd15', 'message': '[func test] ports with both bw and pps resources\n\nA new neutron fixture is added that redefines the port used in the\nbandwidth functional tests to have packet rate resource request as well.\nAlso two new test subclasses are added to use the new fixture to run the\nsame basic tests (create, delete, interface attach/detach) with the new\nfixture as well as server move operations.\n\nRight now these tests are failing and therefore disabled, but\nsubsequent patches will add the missing implementation to enabled them\ngradually.\n\nChange-Id: Ifb92fc0be66cec8a41b89e584aecfb5d23dfeb30\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 16, 'created': '2021-07-15 19:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b8ef4af7f2762231ce18598d0348656d3de6ae0', 'message': '[func test] ports with both bw and pps resources\n\nA new neutron fixture is added that redefines the port used in the\nbandwidth functional tests to have packet rate resource request as well.\nAlso two new test subclasses are added to use the new fixture to run the\nsame basic tests (create, delete, interface attach/detach) with the new\nfixture as well as server move operations.\n\nRight now these tests are failing and therefore disabled, but\nsubsequent patches will add the missing implementation to enabled them\ngradually.\n\nChange-Id: Ifb92fc0be66cec8a41b89e584aecfb5d23dfeb30\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 17, 'created': '2021-07-16 17:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11d7a8ce2b64631990ad236cbd808f087956c281', 'message': '[func test] ports with both bw and pps resources\n\nA new neutron fixture is added that redefines the port used in the\nbandwidth functional tests to have packet rate resource request as well.\nAlso two new test subclasses are added to use the new fixture to run the\nsame basic tests (create, delete, interface attach/detach) with the new\nfixture as well as server move operations.\n\nRight now these tests are failing and therefore disabled, but\nsubsequent patches will add the missing implementation to enabled them\ngradually.\n\nChange-Id: Ifb92fc0be66cec8a41b89e584aecfb5d23dfeb30\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 18, 'created': '2021-07-19 13:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eeee771159efa4eb9ca0defd6cbfea723009662c', 'message': '[func test] ports with both bw and pps resources\n\nA new neutron fixture is added that redefines the port used in the\nbandwidth functional tests to have packet rate resource request as well.\nAlso two new test subclasses are added to use the new fixture to run the\nsame basic tests (create, delete, interface attach/detach) with the new\nfixture as well as server move operations.\n\nRight now these tests are failing and therefore disabled, but\nsubsequent patches will add the missing implementation to enabled them\ngradually.\n\nChange-Id: Ifb92fc0be66cec8a41b89e584aecfb5d23dfeb30\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 19, 'created': '2021-07-19 16:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3bb11a62a4ec42866d0d585512731dcfebe9295e', 'message': '[func test] ports with both bw and pps resources\n\nA new neutron fixture is added that redefines the port used in the\nbandwidth functional tests to have packet rate resource request as well.\nAlso two new test subclasses are added to use the new fixture to run the\nsame basic tests (create, delete, interface attach/detach) with the new\nfixture as well as server move operations.\n\nRight now these tests are failing and therefore disabled, but\nsubsequent patches will add the missing implementation to enabled them\ngradually.\n\nChange-Id: Ifb92fc0be66cec8a41b89e584aecfb5d23dfeb30\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 20, 'created': '2021-07-22 13:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/acccc9a179a4b704babc21008637a33e1ca58235', 'message': '[func test] ports with both bw and pps resources\n\nA new neutron fixture is added that redefines the port used in the\nbandwidth functional tests to have packet rate resource request as well.\nAlso two new test subclasses are added to use the new fixture to run the\nsame basic tests (create, delete, interface attach/detach) with the new\nfixture as well as server move operations.\n\nRight now these tests are failing and therefore disabled, but\nsubsequent patches will add the missing implementation to enabled them\ngradually.\n\nChange-Id: Ifb92fc0be66cec8a41b89e584aecfb5d23dfeb30\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 21, 'created': '2021-08-16 17:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6197b92b79ef1158d1ac003f014fb8813ef89f42', 'message': '[func test] ports with both bw and pps resources\n\nA new neutron fixture is added that redefines the port used in the\nbandwidth functional tests to have packet rate resource request as well.\nAlso two new test subclasses are added to use the new fixture to run the\nsame basic tests (create, delete, interface attach/detach) with the new\nfixture as well as server move operations.\n\nRight now these tests are failing and therefore disabled, but\nsubsequent patches will add the missing implementation to enabled them\ngradually.\n\nChange-Id: Ifb92fc0be66cec8a41b89e584aecfb5d23dfeb30\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 22, 'created': '2021-08-21 12:47:41.000000000', 'files': ['nova/tests/functional/test_servers_resource_request.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ec6f8f63f9c03d4572a7ad59f940c4dd7cf3ba66', 'message': '[func test] ports with both bw and pps resources\n\nA new neutron fixture is added that redefines the port used in the\nbandwidth functional tests to have packet rate resource request as well.\nAlso two new test subclasses are added to use the new fixture to run the\nsame basic tests (create, delete, interface attach/detach) with the new\nfixture as well as server move operations.\n\nRight now these tests are failing and therefore disabled, but\nsubsequent patches will add the missing implementation to enabled them\ngradually.\n\nChange-Id: Ifb92fc0be66cec8a41b89e584aecfb5d23dfeb30\nblueprint: qos-minimum-guaranteed-packet-rate\n'}]",0,792394,ec6f8f63f9c03d4572a7ad59f940c4dd7cf3ba66,124,4,22,9708,,,0,"[func test] ports with both bw and pps resources

A new neutron fixture is added that redefines the port used in the
bandwidth functional tests to have packet rate resource request as well.
Also two new test subclasses are added to use the new fixture to run the
same basic tests (create, delete, interface attach/detach) with the new
fixture as well as server move operations.

Right now these tests are failing and therefore disabled, but
subsequent patches will add the missing implementation to enabled them
gradually.

Change-Id: Ifb92fc0be66cec8a41b89e584aecfb5d23dfeb30
blueprint: qos-minimum-guaranteed-packet-rate
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/792394/22 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures/nova.py', 'nova/tests/functional/test_servers.py']",2,41b913603b9a8d66c11cafb6bffae2b9d740ded7,bp/qos-minimum-guaranteed-packet-rate,"import unittestclass MultiGroupResourceRequestBasedSchedulingTest( PortResourceRequestBasedSchedulingTest): """"""The same tests as in PortResourceRequestBasedSchedulingTest but the the neutron.port_with_resource_request now changed to have both bandwidth and packet rate resource requests. This also means that the neutron fixture simulates the new resource_request format for all ports. """""" def setUp(self): super().setUp() self.neutron = self.useFixture( nova_fixtures.MultiGroupResourceRequestNeutronFixture(self)) # TODO(gibi): There is a list of tests that fails today as we need to fix # a bunch of todos in the code. @unittest.expectedFailure def test_boot_server_with_two_ports_one_having_resource_request(self): super().test_boot_server_with_two_ports_one_having_resource_request() @unittest.expectedFailure def test_one_ovs_one_sriov_port(self): super().test_one_ovs_one_sriov_port() @unittest.expectedFailure def test_interface_attach_with_resource_request(self): super().test_interface_attach_with_resource_request() @unittest.expectedFailure def test_interface_attach_with_resource_request_no_candidates(self): super().test_interface_attach_with_resource_request_no_candidates() @unittest.expectedFailure def test_interface_detach_with_port_with_bandwidth_request(self): super().test_interface_detach_with_port_with_bandwidth_request() @unittest.expectedFailure def test_delete_bound_port_in_neutron_with_resource_request(self): super().test_delete_bound_port_in_neutron_with_resource_request() # TODO(gibi): This would show a lot of failing tests. Disable it for now # # class ServerMoveWithMultiGroupResourceRequestBasedSchedulingTest( # ServerMoveWithPortResourceRequestTest): # """"""The same tests as in ServerMoveWithPortResourceRequestTest but the # the neutron.port_with_resource_request now changed to have both bandwidth # and packet rate resource requests. This also means that the neutron # fixture simulates the new resource_request format for all ports. # """""" # # def setUp(self): # super().setUp() # self.neutron = self.useFixture( # nova_fixtures.MultiGroupResourceRequestNeutronFixture(self)) # ",,123,1
openstack%2Fcharm-manila~stable%2F21.04~I78d1abd9965721123bc9ff103166cb3c49d975fb,openstack/charm-manila,stable/21.04,I78d1abd9965721123bc9ff103166cb3c49d975fb,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-08-27 09:54:21.000000000,2021-08-31 03:39:58.000000000,2021-08-31 03:39:58.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-27 09:54:21.000000000', 'files': ['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/templates/rocky/manila.conf', 'src/templates/queens/manila.conf', 'src/templates/mitaka/manila.conf', 'src/tests/tests.yaml', 'src/templates/pike/manila.conf', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/84438abd02db7120f1974f9626723ff0835952ce', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nAlso fixed a typo in a template comment.\n\nChange-Id: I78d1abd9965721123bc9ff103166cb3c49d975fb\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",0,806376,84438abd02db7120f1974f9626723ff0835952ce,10,5,1,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

Also fixed a typo in a template comment.

Change-Id: I78d1abd9965721123bc9ff103166cb3c49d975fb
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/76/806376/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/templates/rocky/manila.conf', 'src/templates/queens/manila.conf', 'src/templates/mitaka/manila.conf', 'src/templates/pike/manila.conf', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",8,84438abd02db7120f1974f9626723ff0835952ce,wallaby-bundles-stable/21.04, dev_bundles: - bionic # Manila doesn't support mod-wsgi before Pike for mitaka and ocata #- xenial-mitaka #- xenial-ocata# Wallaby is currently broken because of a change in the default token-type # requirements in manila's policy.json that the charm / tests need to learn to # handle - ganesha: focal-wallaby - ganesha: hirsute-wallaby smoke_bundles: - ganesha: focal-ussuri - hirsute-wallaby,dev_bundles: - bionicdev_bundles: # Manila doesn't support mod-wsgi before Pike # - xenial-mitaka # - xenial-ocatasmoke_bundles: - ganesha: bionic-stein - groovy-victoria,674,21
openstack%2Fcharm-neutron-api-plugin-arista~stable%2F21.04~I07fe7d323953f5b50fe8a77e7c7933d0f1e08b85,openstack/charm-neutron-api-plugin-arista,stable/21.04,I07fe7d323953f5b50fe8a77e7c7933d0f1e08b85,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-08-27 09:47:37.000000000,2021-08-31 03:31:44.000000000,2021-08-31 03:31:44.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-27 09:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/7cc424b5921a0bdf5cd1458bf539990083908b3d', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I07fe7d323953f5b50fe8a77e7c7933d0f1e08b85\n(cherry picked from commit 725b2911d0951589a1f3a5c2221591a6a5783ab5)\n'}, {'number': 2, 'created': '2021-08-27 14:46:59.000000000', 'files': ['osci.yaml', 'src/tests/bundles/overlays/hirsute-wallaby.yaml.j2', 'src/tests/bundles/overlays/focal-wallaby.yaml.j2', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/f9f7e5d9a28068ff0e47bb7cba0e92fae8fc247c', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I07fe7d323953f5b50fe8a77e7c7933d0f1e08b85\n(cherry picked from commit 725b2911d0951589a1f3a5c2221591a6a5783ab5)\n'}]",0,806355,f9f7e5d9a28068ff0e47bb7cba0e92fae8fc247c,15,5,2,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I07fe7d323953f5b50fe8a77e7c7933d0f1e08b85
(cherry picked from commit 725b2911d0951589a1f3a5c2221591a6a5783ab5)
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-arista refs/changes/55/806355/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/overlays/focal-wallaby.yaml.j2', 'src/tests/bundles/overlays/hirsute-wallaby.yaml.j2', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",6,7cc424b5921a0bdf5cd1458bf539990083908b3d,wallaby-bundles-stable/21.04,- focal-wallaby- hirsute-wallaby - hirsute-wallaby, - groovy-victoria,374,2
openstack%2Fcharm-barbican-vault~stable%2F21.04~I8ad19935cea7b87abd7cc77e092f665954e43666,openstack/charm-barbican-vault,stable/21.04,I8ad19935cea7b87abd7cc77e092f665954e43666,Rebuild,MERGED,2021-08-27 10:32:55.000000000,2021-08-31 03:27:34.000000000,2021-08-31 03:27:34.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-27 10:32:55.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/dbb5f5b54adc42af1be77c3145037dd746436e00', 'message': 'Rebuild\n\nin order to pick\nhttps://review.opendev.org/c/openstack/charms.openstack/+/787641\n\nChange-Id: I8ad19935cea7b87abd7cc77e092f665954e43666\nCloses-Bug: #1940627\n'}]",0,806347,dbb5f5b54adc42af1be77c3145037dd746436e00,9,5,1,31289,,,0,"Rebuild

in order to pick
https://review.opendev.org/c/openstack/charms.openstack/+/787641

Change-Id: I8ad19935cea7b87abd7cc77e092f665954e43666
Closes-Bug: #1940627
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/47/806347/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,dbb5f5b54adc42af1be77c3145037dd746436e00,wallaby-bundles-stable/21.04,ae2e9f8a-a4e7-4c4f-940b-e5d626f9503b,8e79f752-db58-11eb-bc49-8358600d3aa8,1,1
openstack%2Fcharm-cinder-backup-swift-proxy~stable%2F21.04~If7ddfdb914bd9520dfa6b2e25f121a645b1bd7c1,openstack/charm-cinder-backup-swift-proxy,stable/21.04,If7ddfdb914bd9520dfa6b2e25f121a645b1bd7c1,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-08-27 09:47:16.000000000,2021-08-31 03:19:55.000000000,2021-08-31 03:19:55.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-27 09:47:16.000000000', 'files': ['osci.yaml', 'src/tests/bundles/hirsute-wallaby-swift-v3.yaml', 'src/tests/bundles/focal-wallaby-swift-v3.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup-swift-proxy/commit/4d37b98c8a27804df1910d99569ed48a4598d594', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: If7ddfdb914bd9520dfa6b2e25f121a645b1bd7c1\n(cherry picked from commit 4d0a3106c127acaca170a4127e3a4248ba525f66)\n'}]",0,806353,4d37b98c8a27804df1910d99569ed48a4598d594,12,5,1,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: If7ddfdb914bd9520dfa6b2e25f121a645b1bd7c1
(cherry picked from commit 4d0a3106c127acaca170a4127e3a4248ba525f66)
",git fetch https://review.opendev.org/openstack/charm-cinder-backup-swift-proxy refs/changes/53/806353/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/hirsute-wallaby-swift-v3.yaml', 'src/tests/bundles/focal-wallaby-swift-v3.yaml', 'src/tests/tests.yaml']",4,4d37b98c8a27804df1910d99569ed48a4598d594,wallaby-bundles-stable/21.04,dev_bundles: - hirsute-wallaby-swift-v3 # Disabled due to Bug: #1890821 - focal-wallaby-swift-v3 - focal-victoria-swift-v3 - focal-ussuri-swift-v3 - hirsute-wallaby-swift-v3, # Disabled due to Bug: #1890821 # - focal-victoria-swift-v3 # - focal-ussuri-swift-v3 - groovy-victoria-swift-v3,637,6
openstack%2Ftacker-horizon~master~I6a09b945506450d9947afbd92dbab9a4a6c30de4,openstack/tacker-horizon,master,I6a09b945506450d9947afbd92dbab9a4a6c30de4,Add tacker-horizon integration test framework,MERGED,2021-05-12 12:21:00.000000000,2021-08-31 02:07:11.000000000,2021-08-31 02:03:13.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-05-12 12:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/29fd42ff9247ea5b9c4e90ecaec94b6840388a64', 'message': '[WIP] Add tacker-horizon integration tests\n\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}, {'number': 2, 'created': '2021-06-10 06:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/3208dc137f3e4c8d74513b4ca71f35b7e19e6424', 'message': '[WIP] Add tacker-horizon integration tests\n\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}, {'number': 3, 'created': '2021-06-10 09:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/40382904415214678ea213cf33db16ee2b1070c5', 'message': '[WIP] Add tacker-horizon integration tests\n\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}, {'number': 4, 'created': '2021-06-16 11:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/8f8dd727560db911deaabb095f9b20b894e71ecd', 'message': '[WIP] Add tacker-horizon integration tests\n\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}, {'number': 5, 'created': '2021-06-28 12:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/40553eb383c578a6b2049b7cd50c7a96d78d2eae', 'message': '[WIP] Add tacker-horizon integration tests\n\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}, {'number': 6, 'created': '2021-06-28 13:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/53b3d414b61b7924a69b4580facf10838135a0a0', 'message': '[WIP] Add tacker-horizon integration tests\n\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}, {'number': 7, 'created': '2021-06-28 14:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/371fb82c4db620cc0ac3b62e78b3bca08cdb1d93', 'message': '[WIP] Add tacker-horizon integration tests\n\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}, {'number': 8, 'created': '2021-07-14 15:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/b29353109fa6b25a278c8ebfd1d07e06ba85a181', 'message': '[WIP] Add tacker-horizon integration tests\n\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}, {'number': 9, 'created': '2021-07-14 16:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/9d15ad9f7ee80d8541350f982918c8c9f97c2264', 'message': '[WIP] Add tacker-horizon integration tests\n\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}, {'number': 10, 'created': '2021-07-14 16:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/904a52b1c79b14ec4e3f99ed38d6d3e1ab7e2d52', 'message': '[WIP] Add tacker-horizon integration tests\n\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}, {'number': 11, 'created': '2021-07-26 09:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/d3330fc0253343c06b2825b95de9dc4c95e9ad54', 'message': '[WIP] Add tacker-horizon integration tests\n\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}, {'number': 12, 'created': '2021-07-26 10:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/4dcfce68664a4a2c624a37d75d97f3266b54b11c', 'message': '[WIP] Add tacker-horizon integration tests\n\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}, {'number': 13, 'created': '2021-07-26 10:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/7a05f444a6df8cb13de6f2d7dba4e9225c6b5611', 'message': '[WIP] Add tacker-horizon integration tests\n\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}, {'number': 14, 'created': '2021-07-27 05:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/7da36ede231e5291d7dd7661504286687439cf55', 'message': '[WIP] Add tacker-horizon integration tests\n\nDepends-On: https://review.opendev.org/c/openstack/tacker/+/794014\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}, {'number': 15, 'created': '2021-07-27 09:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/ea5f7b5e40146626a9bcdd2794f5569b03b4a270', 'message': '[WIP] Add tacker-horizon integration tests\n\nDepends-On: https://review.opendev.org/c/openstack/tacker/+/794014\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}, {'number': 16, 'created': '2021-07-27 13:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/8fc85a8d0df2f073c80d9752fa95f17d2e10e58a', 'message': '[WIP] Add tacker-horizon integration tests\n\nDepends-On: https://review.opendev.org/c/openstack/tacker/+/794014\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}, {'number': 17, 'created': '2021-07-27 14:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/876790dde783a76886e9f56a4e4663cb4ac82185', 'message': '[WIP] Add tacker-horizon integration tests\n\nDepends-On: https://review.opendev.org/c/openstack/tacker/+/794014\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}, {'number': 18, 'created': '2021-07-28 05:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/79a946a393de503273f5b0c760caa62a6b84c0ed', 'message': '[WIP] Add tacker-horizon integration tests\n\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}, {'number': 19, 'created': '2021-07-30 11:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/160ff26e68436b59b084a7e003e4d47b82d92c9a', 'message': '[WIP] Add tacker-horizon integration tests\n\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}, {'number': 20, 'created': '2021-08-02 01:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/998808c786b8a6a81283e8c07fe38ef61c1e842b', 'message': '[WIP] Add tacker-horizon integration tests\n\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}, {'number': 21, 'created': '2021-08-04 11:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/7039d3b9a3dec6908c108ac4c1e812da14b927a7', 'message': '[WIP] Add tacker-horizon integration tests\n\nDepends-On: https://review.opendev.org/c/openstack/horizon/+/803465\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}, {'number': 22, 'created': '2021-08-09 07:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/19555f40e339dd8b96d3c14b008c1fc2f86671b1', 'message': 'Add tacker-horizon integration test framework\n\nThis patch implements an integration framework and adds basic\ntest cases to verify whether tacker-horizon is installed and\ncould be opened.\n\nThe integration test suite ""tacker-horizon-integration-tests""\nis added as a gate job in non-voting mode.\n\nSelenium exception details:\nThe tacker-horizon consists of panel groups ""VNF Management""\nand ""NFV Orchestration"".\n\nThe selenium reports an exception ElementNotInteractableException\nwhile opening pages for panel group ""NFV Orchestration"".\nThis exception occurs when an element is not clickable or is not\nvisible yet.\n\nBy default, panel group ""VNF Management"" is expanded hence test\ncases for pages under this panel group pass.\nAs per openstack-dashboard integration test case logic, the panel\ngroup ""NFV Orchestration"" is never clicked hence requested pages\nare not visible.\n\nThe Depends-On tag comprises of modified openstack-dashboard\nintegration test logic to fix the above selenium exception.\n\nImplements: tacker-horizon-integration-test\nDepends-On: https://review.opendev.org/c/openstack/horizon/+/803465\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}, {'number': 23, 'created': '2021-08-09 07:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/45d0eb1d8baad247425f193ad481cff6cb93f2fc', 'message': 'Add tacker-horizon integration test framework\n\nThis patch implements an integration framework and adds basic\ntest cases to verify whether tacker-horizon is installed and\ncould be opened.\n\nThe integration test suite ""tacker-horizon-integration-tests""\nis added as a gate job in non-voting mode.\n\nSelenium exception details:\nThe tacker-horizon consists of panel groups ""VNF Management""\nand ""NFV Orchestration"".\n\nThe selenium reports an exception ElementNotInteractableException\nwhile opening pages for panel group ""NFV Orchestration"".\nThis exception occurs when an element is not clickable or is not\nvisible yet.\n\nBy default, panel group ""VNF Management"" is expanded hence test\ncases for pages under this panel group pass.\nAs per openstack-dashboard integration test case logic, the panel\ngroup ""NFV Orchestration"" is never clicked hence requested pages\nare not visible.\n\nThe Depends-On tag comprises of modified openstack-dashboard\nintegration test logic to fix the above selenium exception.\n\nImplements: blueprint tacker-horizon-integration-test\nDepends-On: https://review.opendev.org/c/openstack/horizon/+/803465\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}, {'number': 24, 'created': '2021-08-20 07:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/54b009128019372fd719a8bc4cfe504978880668', 'message': 'Add tacker-horizon integration test framework\n\nThis patch implements an integration framework and adds basic\ntest cases to verify whether tacker-horizon is installed and\ncould be opened.\n\nThe integration test suite ""tacker-horizon-integration-tests""\nis added as a gate job in non-voting mode.\n\nSelenium exception details:\nThe tacker-horizon consists of panel groups ""VNF Management""\nand ""NFV Orchestration"".\n\nThe selenium reports an exception ElementNotInteractableException\nwhile opening pages for panel group ""NFV Orchestration"".\nThis exception occurs when an element is not clickable or is not\nvisible yet.\n\nBy default, panel group ""VNF Management"" is expanded hence test\ncases for pages under this panel group pass.\nAs per openstack-dashboard integration test case logic, the panel\ngroup ""NFV Orchestration"" is never clicked hence requested pages\nare not visible.\n\nThe Depends-On tag comprises of modified openstack-dashboard\nintegration test logic to fix the above selenium exception.\n\nImplements: blueprint tacker-horizon-integration-test\nDepends-On: https://review.opendev.org/c/openstack/horizon/+/803465\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}, {'number': 25, 'created': '2021-08-23 04:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/401ef874fa9771b746d120526018bac5aefe46fe', 'message': 'Add tacker-horizon integration test framework\n\nThis patch implements an integration framework and adds basic\ntest cases to verify whether tacker-horizon is installed and\ncould be opened.\n\nThe integration test suite ""tacker-horizon-integration-tests""\nis added as a gate job in non-voting mode.\n\nSelenium exception details:\nThe tacker-horizon consists of panel groups ""VNF Management""\nand ""NFV Orchestration"".\n\nThe selenium reports an exception ElementNotInteractableException\nwhile opening pages for panel group ""NFV Orchestration"".\nThis exception occurs when an element is not clickable or is not\nvisible yet.\n\nBy default, panel group ""VNF Management"" is expanded hence test\ncases for pages under this panel group pass.\nAs per openstack-dashboard integration test case logic, the panel\ngroup ""NFV Orchestration"" is never clicked hence requested pages\nare not visible.\n\nThe Depends-On tag comprises of modified openstack-dashboard\nintegration test logic to fix the above selenium exception.\n\nImplements: blueprint tacker-horizon-integration-test\nDepends-On: https://review.opendev.org/c/openstack/horizon/+/803465\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}, {'number': 26, 'created': '2021-08-23 07:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/41eee9934a6f36ad19c952dfdea579b122cef345', 'message': 'Add tacker-horizon integration test framework\n\nThis patch implements an integration framework and adds basic\ntest cases to verify whether tacker-horizon is installed and\ncould be opened.\n\nThe integration test suite ""tacker-horizon-integration-tests""\nis added as a gate job in non-voting mode.\n\nSelenium exception details:\nThe tacker-horizon consists of panel groups ""VNF Management""\nand ""NFV Orchestration"".\n\nThe selenium reports an exception ElementNotInteractableException\nwhile opening pages for panel group ""NFV Orchestration"".\nThis exception occurs when an element is not clickable or is not\nvisible yet.\n\nBy default, panel group ""VNF Management"" is expanded hence test\ncases for pages under this panel group pass.\nAs per openstack-dashboard integration test case logic, the panel\ngroup ""NFV Orchestration"" is never clicked hence requested pages\nare not visible.\n\nThe Depends-On tag comprises of modified openstack-dashboard\nintegration test logic to fix the above selenium exception.\n\nImplements: blueprint tacker-horizon-integration-test\nDepends-On: https://review.opendev.org/c/openstack/horizon/+/803465\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}, {'number': 27, 'created': '2021-08-30 12:01:56.000000000', 'files': ['tacker_horizon/test/integration/pages/nfv/nfv_orchestration/vnffgmanagerpage.py', 'test-requirements.txt', 'tacker_horizon/test/integration/pages/nfv/nfv_orchestration/nscatalogpage.py', 'tacker_horizon/test/integration/test_basic.py', 'tacker_horizon/test/base.py', 'tacker_horizon/test/integration/pages/nfv/vnf_management/vnfmanagerpage.py', 'tacker_horizon/test/integration/pages/nfv/nfv_orchestration/nsmanagerpage.py', 'bindep.txt', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnfcatalog/tests.py', 'tacker_horizon/test/integration/pages/nfv/vnf_management/vnfcatalogpage.py', 'tacker_horizon/test/integration/horizon.conf', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnffgcatalog/tests.py', 'tools/find_executables.sh', 'tacker_horizon/test/integration/pages/nfv/vnf_management/__init__.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnfmanager/tests.py', 'tools/executable_files.txt', 'tacker_horizon/test/integration/pages/nfv/nfv_orchestration/vnffgcatalogpage.py', '.zuul.yaml', 'lower-constraints.txt', 'tacker_horizon/test/integration/pages/__init__.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vim/tests.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnffgmanager/tests.py', 'tacker_horizon/test/integration/pages/nfv/nfv_orchestration/vimmanagementpage.py', 'tacker_horizon/test/integration/pages/nfv/__init__.py', 'tacker_horizon/test/integration/pages/nfv/nfv_orchestration/__init__.py', 'tacker_horizon/test/integration/__init__.py', 'tacker_horizon/test/settings.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/b952869e6b88588cf73b4ee217da9dba521bac19', 'message': 'Add tacker-horizon integration test framework\n\nThis patch implements an integration framework and adds basic\ntest cases to verify whether tacker-horizon is installed and\ncould be opened.\n\nThe integration test suite ""tacker-horizon-integration-tests""\nis added as a gate job in non-voting mode.\n\nSelenium exception details:\nThe tacker-horizon consists of panel groups ""VNF Management""\nand ""NFV Orchestration"".\n\nThe selenium reports an exception ElementNotInteractableException\nwhile opening pages for panel group ""NFV Orchestration"".\nThis exception occurs when an element is not clickable or is not\nvisible yet.\n\nBy default, panel group ""VNF Management"" is expanded hence test\ncases for pages under this panel group pass.\nAs per openstack-dashboard integration test case logic, the panel\ngroup ""NFV Orchestration"" is never clicked hence requested pages\nare not visible.\n\n[1] comprises of modified openstack-dashboard integration test\nlogic to fix the above selenium exception.\n\n[1] https://review.opendev.org/c/openstack/horizon/+/803465\nImplements: blueprint tacker-horizon-integration-test\n\nChange-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4\n'}]",10,790958,b952869e6b88588cf73b4ee217da9dba521bac19,89,4,27,32102,,,0,"Add tacker-horizon integration test framework

This patch implements an integration framework and adds basic
test cases to verify whether tacker-horizon is installed and
could be opened.

The integration test suite ""tacker-horizon-integration-tests""
is added as a gate job in non-voting mode.

Selenium exception details:
The tacker-horizon consists of panel groups ""VNF Management""
and ""NFV Orchestration"".

The selenium reports an exception ElementNotInteractableException
while opening pages for panel group ""NFV Orchestration"".
This exception occurs when an element is not clickable or is not
visible yet.

By default, panel group ""VNF Management"" is expanded hence test
cases for pages under this panel group pass.
As per openstack-dashboard integration test case logic, the panel
group ""NFV Orchestration"" is never clicked hence requested pages
are not visible.

[1] comprises of modified openstack-dashboard integration test
logic to fix the above selenium exception.

[1] https://review.opendev.org/c/openstack/horizon/+/803465
Implements: blueprint tacker-horizon-integration-test

Change-Id: I6a09b945506450d9947afbd92dbab9a4a6c30de4
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/58/790958/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tacker_horizon/test/integration/pages/nfv/vim.py', 'tacker_horizon/test/integration/test_basic.py', 'tacker_horizon/test/integration/pages/nfv/vnffgmanager.py', 'tacker_horizon/test/base.py', 'tacker_horizon/test/integration/pages/nfv/nscatalog.py', 'bindep.txt', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnfcatalog/tests.py', 'tacker_horizon/test/integration/horizon.conf', 'tacker_horizon/test/integration/pages/nfv/vnfcatalog.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnffgcatalog/tests.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnfmanager/tests.py', '.zuul.yaml', 'lower-constraints.txt', 'tacker_horizon/test/integration/pages/__init__.py', 'tacker_horizon/test/integration/pages/nfv/vnfmanager.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vim/tests.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnffgmanager/tests.py', 'tacker_horizon/test/integration/pages/nfv/nsmanager.py', 'manage.py', 'tacker_horizon/test/integration/pages/nfv/__init__.py', 'tacker_horizon/test/integration/__init__.py', 'tacker_horizon/test/settings.py', 'tacker_horizon/test/integration/pages/nfv/vnffgcatalog.py', 'tox.ini']",25,29fd42ff9247ea5b9c4e90ecaec94b6840388a64,bp/tacker-horizon-integration-test,[testenv:integration] # Run integration tests only passenv = AVCONV_INSTALLED setenv = PYTHONHASHSEED=0 INTEGRATION_TESTS=1 SELENIUM_HEADLESS=1 HORIZON_INTEGRATION_TESTS_CONFIG_FILE=tacker_horizon/test/integration/horizon.conf basepython = python3 commands = {envpython} {toxinidir}/manage.py test tacker_horizon {posargs} ,,141,215
openstack%2Faodh~master~I816613b861a084fb92ba2e6e4f72e7830f11c1e5,openstack/aodh,master,I816613b861a084fb92ba2e6e4f72e7830f11c1e5,Add Python3 xena unit tests,MERGED,2021-03-22 09:28:47.000000000,2021-08-31 01:56:28.000000000,2021-08-31 01:51:59.000000000,"[{'_account_id': 4264}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-03-22 09:28:47.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/aodh/commit/f483f6c47af1cd850152a71c62954ebe72c5b1e0', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I816613b861a084fb92ba2e6e4f72e7830f11c1e5\n'}]",0,782106,f483f6c47af1cd850152a71c62954ebe72c5b1e0,20,4,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I816613b861a084fb92ba2e6e4f72e7830f11c1e5
",git fetch https://review.opendev.org/openstack/aodh refs/changes/06/782106/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f483f6c47af1cd850152a71c62954ebe72c5b1e0,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Ftripleo-quickstart-extras~master~Iad5b5e395bf9a9e32bbde7336c1b1cafbeda5d68,openstack/tripleo-quickstart-extras,master,Iad5b5e395bf9a9e32bbde7336c1b1cafbeda5d68,Remove osp_release from list_allowed_release,MERGED,2021-08-30 13:21:54.000000000,2021-08-31 01:46:14.000000000,2021-08-31 01:46:14.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-08-30 13:21:54.000000000', 'files': ['playbooks/tasks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ad1bf5aaa49605a8a1ce46f72efbc178f09c0058', 'message': ""Remove osp_release from list_allowed_release\n\nFor now let's use the upstream release only.\nThis is affecting rhos jobs.\n\nThis closes bugzilla #1999107\n\nChange-Id: Iad5b5e395bf9a9e32bbde7336c1b1cafbeda5d68\n""}]",0,806574,ad1bf5aaa49605a8a1ce46f72efbc178f09c0058,11,6,1,8367,,,0,"Remove osp_release from list_allowed_release

For now let's use the upstream release only.
This is affecting rhos jobs.

This closes bugzilla #1999107

Change-Id: Iad5b5e395bf9a9e32bbde7336c1b1cafbeda5d68
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/74/806574/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tasks/tempest.yml'],1,ad1bf5aaa49605a8a1ce46f72efbc178f09c0058,remove-osp-release," list_allowed_release: ""{{ release }}"""," list_allowed_release: ""{{ (osp_release is defined) | ternary(osp_release, release) }}""",1,1
openstack%2Fnova~master~I523737ef88850a4e2646221a52106016c9595847,openstack/nova,master,I523737ef88850a4e2646221a52106016c9595847,Add same_subtree field to RequestLevelParams,MERGED,2021-05-14 15:10:46.000000000,2021-08-31 01:37:35.000000000,2021-08-31 01:35:14.000000000,"[{'_account_id': 4393}, {'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-05-14 15:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04b3dc25f6a6ebe0da9ef8e4309109936fa414b3', 'message': 'Add same_subtree field to RequestLevelParams\n\nExtend RequestLevelParams o.v.o to store lists of request group name\nsuffixes that later will be used as same_subtree query parameters\nin the Placement GET /allocation_candidates API calls\n\nThis patch adds logic to parse the same_subtree field out from the port\nresource_request as well as additional helpers used later on to combine\nRequestLevelParams objects coming from different ports.\n\nTODO:\n* extend the test coverage\n\nChange-Id: I523737ef88850a4e2646221a52106016c9595847\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 2, 'created': '2021-05-14 15:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bbe66f208d7b229b1c42f44d26993f60d9259529', 'message': 'Add same_subtree field to RequestLevelParams\n\nExtend RequestLevelParams o.v.o to store lists of request group name\nsuffixes that later will be used as same_subtree query parameters\nin the Placement GET /allocation_candidates API calls\n\nThis patch adds logic to parse the same_subtree field out from the port\nresource_request as well as additional helpers used later on to combine\nRequestLevelParams objects coming from different ports.\n\nTODO:\n* extend the test coverage\n\nChange-Id: I523737ef88850a4e2646221a52106016c9595847\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 3, 'created': '2021-05-19 13:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/03e10cb218a5f230c7fbb821ca741cf12805cbc8', 'message': 'Add same_subtree field to RequestLevelParams\n\nExtend RequestLevelParams o.v.o to store lists of request group name\nsuffixes that later will be used as same_subtree query parameters\nin the Placement GET /allocation_candidates API calls\n\nThis patch adds logic to parse the same_subtree field out from the port\nresource_request as well as additional helpers used later on to combine\nRequestLevelParams objects coming from different ports.\n\nChange-Id: I523737ef88850a4e2646221a52106016c9595847\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 4, 'created': '2021-05-20 17:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a77f6346253edd40c42b6cd81a6fa5920a1a9a69', 'message': 'Add same_subtree field to RequestLevelParams\n\nExtend RequestLevelParams o.v.o to store lists of request group name\nsuffixes that later will be used as same_subtree query parameters\nin the Placement GET /allocation_candidates API calls\n\nThis patch adds logic to parse the same_subtree field out from the port\nresource_request as well as additional helpers used later on to combine\nRequestLevelParams objects coming from different ports.\n\nChange-Id: I523737ef88850a4e2646221a52106016c9595847\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 5, 'created': '2021-05-21 15:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d9b7a26c5501ded7e083a28214636e9c21534de', 'message': 'Add same_subtree field to RequestLevelParams\n\nExtend RequestLevelParams o.v.o to store lists of request group name\nsuffixes that later will be used as same_subtree query parameters\nin the Placement GET /allocation_candidates API calls\n\nThis patch adds logic to parse the same_subtree field out from the port\nresource_request as well as additional helpers used later on to combine\nRequestLevelParams objects coming from different ports.\n\nChange-Id: I523737ef88850a4e2646221a52106016c9595847\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 6, 'created': '2021-05-28 12:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27ff9dde9570c582b1d6e8fcdf9aa87156ff43e7', 'message': 'Add same_subtree field to RequestLevelParams\n\nExtend RequestLevelParams o.v.o to store lists of request group name\nsuffixes that later will be used as same_subtree query parameters\nin the Placement GET /allocation_candidates API calls\n\nThis patch adds logic to parse the same_subtree field out from the port\nresource_request as well as additional helpers used later on to combine\nRequestLevelParams objects coming from different ports.\n\nChange-Id: I523737ef88850a4e2646221a52106016c9595847\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 7, 'created': '2021-06-02 17:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/127c3406e2f0e9581b0cd3a53c9cd45d97e9171e', 'message': 'Add same_subtree field to RequestLevelParams\n\nExtend RequestLevelParams o.v.o to store lists of request group name\nsuffixes that later will be used as same_subtree query parameters\nin the Placement GET /allocation_candidates API calls\n\nThis patch adds logic to parse the same_subtree field out from the port\nresource_request as well as additional helpers used later on to combine\nRequestLevelParams objects coming from different ports.\n\nChange-Id: I523737ef88850a4e2646221a52106016c9595847\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 8, 'created': '2021-06-03 16:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2336203ab2f25ff191eff771cfb96a0fbff87b27', 'message': 'Add same_subtree field to RequestLevelParams\n\nExtend RequestLevelParams o.v.o to store lists of request group name\nsuffixes that later will be used as same_subtree query parameters\nin the Placement GET /allocation_candidates API calls\n\nThis patch adds logic to parse the same_subtree field out from the port\nresource_request as well as additional helpers used later on to combine\nRequestLevelParams objects coming from different ports.\n\nChange-Id: I523737ef88850a4e2646221a52106016c9595847\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 9, 'created': '2021-06-04 13:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9509c61f7b890f0a580e97d2a4725ceed726c5d', 'message': 'Add same_subtree field to RequestLevelParams\n\nExtend RequestLevelParams o.v.o to store lists of request group name\nsuffixes that later will be used as same_subtree query parameters\nin the Placement GET /allocation_candidates API calls\n\nThis patch adds logic to parse the same_subtree field out from the port\nresource_request as well as additional helpers used later on to combine\nRequestLevelParams objects coming from different ports.\n\nChange-Id: I523737ef88850a4e2646221a52106016c9595847\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 10, 'created': '2021-06-14 11:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66912b51736bbb50e7c17f3b5d1af870e5333ff1', 'message': 'Add same_subtree field to RequestLevelParams\n\nExtend RequestLevelParams o.v.o to store lists of request group name\nsuffixes that later will be used as same_subtree query parameters\nin the Placement GET /allocation_candidates API calls\n\nThis patch adds logic to parse the same_subtree field out from the port\nresource_request as well as additional helpers used later on to combine\nRequestLevelParams objects coming from different ports.\n\nChange-Id: I523737ef88850a4e2646221a52106016c9595847\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 11, 'created': '2021-06-25 16:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7fe89e943a512fbc2f9a8260e33cd9f64652d2f', 'message': 'Add same_subtree field to RequestLevelParams\n\nExtend RequestLevelParams o.v.o to store lists of request group name\nsuffixes that later will be used as same_subtree query parameters\nin the Placement GET /allocation_candidates API calls\n\nThis patch adds logic to parse the same_subtree field out from the port\nresource_request as well as additional helpers used later on to combine\nRequestLevelParams objects coming from different ports.\n\nChange-Id: I523737ef88850a4e2646221a52106016c9595847\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 12, 'created': '2021-07-07 15:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/220e5b75c8b4b6786f318f01c2914c29dca3e488', 'message': 'Add same_subtree field to RequestLevelParams\n\nExtend RequestLevelParams o.v.o to store lists of request group name\nsuffixes that later will be used as same_subtree query parameters\nin the Placement GET /allocation_candidates API calls\n\nThis patch adds logic to parse the same_subtree field out from the port\nresource_request as well as additional helpers used later on to combine\nRequestLevelParams objects coming from different ports.\n\nChange-Id: I523737ef88850a4e2646221a52106016c9595847\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 13, 'created': '2021-07-15 17:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ca701ec92d22d04d8c94eab9738c47ef050b943', 'message': 'Add same_subtree field to RequestLevelParams\n\nExtend RequestLevelParams o.v.o to store lists of request group name\nsuffixes that later will be used as same_subtree query parameters\nin the Placement GET /allocation_candidates API calls\n\nThis patch adds logic to parse the same_subtree field out from the port\nresource_request as well as additional helpers used later on to combine\nRequestLevelParams objects coming from different ports.\n\nChange-Id: I523737ef88850a4e2646221a52106016c9595847\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 14, 'created': '2021-07-15 18:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dcb6a8121865c9b36eb452e7c23671619175ce82', 'message': 'Add same_subtree field to RequestLevelParams\n\nExtend RequestLevelParams o.v.o to store lists of request group name\nsuffixes that later will be used as same_subtree query parameters\nin the Placement GET /allocation_candidates API calls\n\nThis patch adds logic to parse the same_subtree field out from the port\nresource_request as well as additional helpers used later on to combine\nRequestLevelParams objects coming from different ports.\n\nChange-Id: I523737ef88850a4e2646221a52106016c9595847\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 15, 'created': '2021-07-16 17:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f8168ccb0c666d8b388e439439b282a8e906b155', 'message': 'Add same_subtree field to RequestLevelParams\n\nExtend RequestLevelParams o.v.o to store lists of request group name\nsuffixes that later will be used as same_subtree query parameters\nin the Placement GET /allocation_candidates API calls\n\nThis patch adds logic to parse the same_subtree field out from the port\nresource_request as well as additional helpers used later on to combine\nRequestLevelParams objects coming from different ports.\n\nChange-Id: I523737ef88850a4e2646221a52106016c9595847\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 16, 'created': '2021-07-19 13:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/843557c4514cb0ccc2c5b41cad378aa3b0f7af0c', 'message': 'Add same_subtree field to RequestLevelParams\n\nExtend RequestLevelParams o.v.o to store lists of request group name\nsuffixes that later will be used as same_subtree query parameters\nin the Placement GET /allocation_candidates API calls\n\nThis patch adds logic to parse the same_subtree field out from the port\nresource_request as well as additional helpers used later on to combine\nRequestLevelParams objects coming from different ports.\n\nChange-Id: I523737ef88850a4e2646221a52106016c9595847\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 17, 'created': '2021-07-19 16:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfa7d1af43b06c2797bb1d2a095329ef78294ab9', 'message': 'Add same_subtree field to RequestLevelParams\n\nExtend RequestLevelParams o.v.o to store lists of request group name\nsuffixes that later will be used as same_subtree query parameters\nin the Placement GET /allocation_candidates API calls\n\nThis patch adds logic to parse the same_subtree field out from the port\nresource_request as well as additional helpers used later on to combine\nRequestLevelParams objects coming from different ports.\n\nChange-Id: I523737ef88850a4e2646221a52106016c9595847\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 18, 'created': '2021-07-22 13:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f8351fdfb0b0c50f79ee7a5f081c700c753ad952', 'message': 'Add same_subtree field to RequestLevelParams\n\nExtend RequestLevelParams o.v.o to store lists of request group name\nsuffixes that later will be used as same_subtree query parameters\nin the Placement GET /allocation_candidates API calls\n\nThis patch adds logic to parse the same_subtree field out from the port\nresource_request as well as additional helpers used later on to combine\nRequestLevelParams objects coming from different ports.\n\nChange-Id: I523737ef88850a4e2646221a52106016c9595847\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 19, 'created': '2021-08-16 17:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70e220653bea7cb5a2d3e6a78fa7b12333ac7bee', 'message': 'Add same_subtree field to RequestLevelParams\n\nExtend RequestLevelParams o.v.o to store lists of request group name\nsuffixes that later will be used as same_subtree query parameters\nin the Placement GET /allocation_candidates API calls\n\nThis patch adds logic to parse the same_subtree field out from the port\nresource_request as well as additional helpers used later on to combine\nRequestLevelParams objects coming from different ports.\n\nChange-Id: I523737ef88850a4e2646221a52106016c9595847\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 20, 'created': '2021-08-16 17:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7aa465107a8d934932ea3cd21ebec8eda861cb7f', 'message': 'Add same_subtree field to RequestLevelParams\n\nExtend RequestLevelParams o.v.o to store lists of request group name\nsuffixes that later will be used as same_subtree query parameters\nin the Placement GET /allocation_candidates API calls\n\nThis patch adds logic to parse the same_subtree field out from the port\nresource_request as well as additional helpers used later on to combine\nRequestLevelParams objects coming from different ports.\n\nChange-Id: I523737ef88850a4e2646221a52106016c9595847\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 21, 'created': '2021-08-21 12:36:12.000000000', 'files': ['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/objects/test_request_spec.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9de8bfb6e61ebb9776f8027eb9c334044c7bc8bd', 'message': 'Add same_subtree field to RequestLevelParams\n\nExtend RequestLevelParams o.v.o to store lists of request group name\nsuffixes that later will be used as same_subtree query parameters\nin the Placement GET /allocation_candidates API calls\n\nThis patch adds logic to parse the same_subtree field out from the port\nresource_request as well as additional helpers used later on to combine\nRequestLevelParams objects coming from different ports.\n\nChange-Id: I523737ef88850a4e2646221a52106016c9595847\nblueprint: qos-minimum-guaranteed-packet-rate\n'}]",2,791503,9de8bfb6e61ebb9776f8027eb9c334044c7bc8bd,141,6,21,9708,,,0,"Add same_subtree field to RequestLevelParams

Extend RequestLevelParams o.v.o to store lists of request group name
suffixes that later will be used as same_subtree query parameters
in the Placement GET /allocation_candidates API calls

This patch adds logic to parse the same_subtree field out from the port
resource_request as well as additional helpers used later on to combine
RequestLevelParams objects coming from different ports.

Change-Id: I523737ef88850a4e2646221a52106016c9595847
blueprint: qos-minimum-guaranteed-packet-rate
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/791503/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/objects/test_request_spec.py']",3,04b3dc25f6a6ebe0da9ef8e4309109936fa414b3,bp/qos-minimum-guaranteed-packet-rate," class TestRequestLevelParams(test.NoDBTestCase): def setUp(self): super().setUp() self.user_id = uuids.user_id self.project_id = uuids.project_id self.context = context.RequestContext(uuids.user_id, uuids.project_id) def test_obj_make_compatible(self): obj = request_spec.RequestLevelParams( self.context, root_required={""CUSTOM_FOO"", ""CUSTOM_BAR""}, root_forbidden={""CUSTOM_BAZ""}, same_subtree=[[""group1"", ""group2""], [""group3"", ""group4""]]) manifest = ovo_base.obj_tree_get_versions(obj.obj_name()) obj_primitive = obj.obj_to_primitive( target_version='1.1', version_manifest=manifest)['nova_object.data'] self.assertIn('root_required', obj_primitive) self.assertIn('root_forbidden', obj_primitive) self.assertIn('same_subtree', obj_primitive) obj_primitive = obj.obj_to_primitive( target_version='1.0', version_manifest=manifest)['nova_object.data'] self.assertIn('root_required', obj_primitive) self.assertIn('root_forbidden', obj_primitive) self.assertNotIn('same_subtree', obj_primitive)",,72,2
openstack%2Fnova~master~I8fbdafb1d734fdd0a028d1bb48f5aefa3ff3ba74,openstack/nova,master,I8fbdafb1d734fdd0a028d1bb48f5aefa3ff3ba74,[func test] refactor assertPortMatchesAllocation,MERGED,2021-05-20 17:03:52.000000000,2021-08-31 01:35:38.000000000,2021-08-31 01:35:38.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 17:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b655317ba8b4c304f570316415c9096279c10154', 'message': '[func test] refactor assertPortMatchesAllocation\n\nIt is a  preparation to assert not just bandwidth allocation but\npacket rate allocation as well in the assertPortMatchesAllocation()\ncall. To be able to do that the whole instance allocation needs to be\npassed in not only the allocation on the ovs bridge RP.\n\nChange-Id: I8fbdafb1d734fdd0a028d1bb48f5aefa3ff3ba74\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 2, 'created': '2021-05-21 15:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32028e60db5c7cd366502430d9fc555344a3c57b', 'message': '[func test] refactor assertPortMatchesAllocation\n\nIt is a  preparation to assert not just bandwidth allocation but\npacket rate allocation as well in the assertPortMatchesAllocation()\ncall. To be able to do that the whole instance allocation needs to be\npassed in not only the allocation on the ovs bridge RP.\n\nChange-Id: I8fbdafb1d734fdd0a028d1bb48f5aefa3ff3ba74\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 3, 'created': '2021-05-28 12:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c90595fd04b521e81fa75883759ff5d9ef294ba', 'message': '[func test] refactor assertPortMatchesAllocation\n\nIt is a  preparation to assert not just bandwidth allocation but\npacket rate allocation as well in the assertPortMatchesAllocation()\ncall. To be able to do that the whole instance allocation needs to be\npassed in not only the allocation on the ovs bridge RP.\n\nChange-Id: I8fbdafb1d734fdd0a028d1bb48f5aefa3ff3ba74\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 4, 'created': '2021-06-14 11:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6d6bf20ca79f8aa5185f77e50acfe77b47f529c', 'message': '[func test] refactor assertPortMatchesAllocation\n\nIt is a  preparation to assert not just bandwidth allocation but\npacket rate allocation as well in the assertPortMatchesAllocation()\ncall. To be able to do that the whole instance allocation needs to be\npassed in not only the allocation on the ovs bridge RP.\n\nChange-Id: I8fbdafb1d734fdd0a028d1bb48f5aefa3ff3ba74\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 5, 'created': '2021-06-25 16:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42b611c46bf2e9d2dafab684099f6edbcf41b502', 'message': '[func test] refactor assertPortMatchesAllocation\n\nIt is a  preparation to assert not just bandwidth allocation but\npacket rate allocation as well in the assertPortMatchesAllocation()\ncall. To be able to do that the whole instance allocation needs to be\npassed in not only the allocation on the ovs bridge RP.\n\nChange-Id: I8fbdafb1d734fdd0a028d1bb48f5aefa3ff3ba74\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 6, 'created': '2021-07-07 15:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/005e4e7c3bf8f783542b98593d26662645fda9de', 'message': '[func test] refactor assertPortMatchesAllocation\n\nIt is a  preparation to assert not just bandwidth allocation but\npacket rate allocation as well in the assertPortMatchesAllocation()\ncall. To be able to do that the whole instance allocation needs to be\npassed in not only the allocation on the device RPs.\n\nChange-Id: I8fbdafb1d734fdd0a028d1bb48f5aefa3ff3ba74\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 7, 'created': '2021-07-09 13:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3a0099b4755f6c96b36d489fd646c16d20ea669', 'message': '[func test] refactor assertPortMatchesAllocation\n\nIt is a  preparation to assert not just bandwidth allocation but\npacket rate allocation as well in the assertPortMatchesAllocation()\ncall. To be able to do that the whole instance allocation needs to be\npassed in not only the allocation on the device RPs.\n\nChange-Id: I8fbdafb1d734fdd0a028d1bb48f5aefa3ff3ba74\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 8, 'created': '2021-07-15 18:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc46de450d39d4556637e89252d50a4332f8b0fe', 'message': '[func test] refactor assertPortMatchesAllocation\n\nIt is a  preparation to assert not just bandwidth allocation but\npacket rate allocation as well in the assertPortMatchesAllocation()\ncall. To be able to do that the whole instance allocation needs to be\npassed in not only the allocation on the device RPs.\n\nChange-Id: I8fbdafb1d734fdd0a028d1bb48f5aefa3ff3ba74\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 9, 'created': '2021-07-15 19:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d77232ada3a544ba3e76e846e808a467869ecf07', 'message': '[func test] refactor assertPortMatchesAllocation\n\nIt is a  preparation to assert not just bandwidth allocation but\npacket rate allocation as well in the assertPortMatchesAllocation()\ncall. To be able to do that the whole instance allocation needs to be\npassed in not only the allocation on the device RPs.\n\nChange-Id: I8fbdafb1d734fdd0a028d1bb48f5aefa3ff3ba74\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 10, 'created': '2021-07-16 17:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa9c448ab35102f2196bc3715de49b1d069ddd3c', 'message': '[func test] refactor assertPortMatchesAllocation\n\nIt is a  preparation to assert not just bandwidth allocation but\npacket rate allocation as well in the assertPortMatchesAllocation()\ncall. To be able to do that the whole instance allocation needs to be\npassed in not only the allocation on the device RPs.\n\nChange-Id: I8fbdafb1d734fdd0a028d1bb48f5aefa3ff3ba74\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 11, 'created': '2021-07-19 13:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f8955771971e9b864d4bfa1d5cf330cf13f25f8', 'message': '[func test] refactor assertPortMatchesAllocation\n\nIt is a  preparation to assert not just bandwidth allocation but\npacket rate allocation as well in the assertPortMatchesAllocation()\ncall. To be able to do that the whole instance allocation needs to be\npassed in not only the allocation on the device RPs.\n\nChange-Id: I8fbdafb1d734fdd0a028d1bb48f5aefa3ff3ba74\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 12, 'created': '2021-07-19 16:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63c0277e2de9fbec5987ccb1a6984fe2e2d4edd3', 'message': '[func test] refactor assertPortMatchesAllocation\n\nIt is a  preparation to assert not just bandwidth allocation but\npacket rate allocation as well in the assertPortMatchesAllocation()\ncall. To be able to do that the whole instance allocation needs to be\npassed in not only the allocation on the device RPs.\n\nChange-Id: I8fbdafb1d734fdd0a028d1bb48f5aefa3ff3ba74\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 13, 'created': '2021-07-22 13:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3fbf56cc5c0e2d3365a2b7017cbe3fe1577194d4', 'message': '[func test] refactor assertPortMatchesAllocation\n\nIt is a  preparation to assert not just bandwidth allocation but\npacket rate allocation as well in the assertPortMatchesAllocation()\ncall. To be able to do that the whole instance allocation needs to be\npassed in not only the allocation on the device RPs.\n\nChange-Id: I8fbdafb1d734fdd0a028d1bb48f5aefa3ff3ba74\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 14, 'created': '2021-08-16 17:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/921975a0ca29b7c9dfcb371ffb5804ea4324ad07', 'message': '[func test] refactor assertPortMatchesAllocation\n\nIt is a  preparation to assert not just bandwidth allocation but\npacket rate allocation as well in the assertPortMatchesAllocation()\ncall. To be able to do that the whole instance allocation needs to be\npassed in not only the allocation on the device RPs.\n\nChange-Id: I8fbdafb1d734fdd0a028d1bb48f5aefa3ff3ba74\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 15, 'created': '2021-08-16 17:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe1e72ecd988f95e5148febb9c8ca000b61d11c2', 'message': '[func test] refactor assertPortMatchesAllocation\n\nIt is a  preparation to assert not just bandwidth allocation but\npacket rate allocation as well in the assertPortMatchesAllocation()\ncall. To be able to do that the whole instance allocation needs to be\npassed in not only the allocation on the device RPs.\n\nChange-Id: I8fbdafb1d734fdd0a028d1bb48f5aefa3ff3ba74\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 16, 'created': '2021-08-21 12:43:50.000000000', 'files': ['nova/tests/functional/test_servers_resource_request.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c9b1dfe9b7a57fcd07212cb7deedf0b91ccb88cc', 'message': '[func test] refactor assertPortMatchesAllocation\n\nIt is a  preparation to assert not just bandwidth allocation but\npacket rate allocation as well in the assertPortMatchesAllocation()\ncall. To be able to do that the whole instance allocation needs to be\npassed in not only the allocation on the device RPs.\n\nChange-Id: I8fbdafb1d734fdd0a028d1bb48f5aefa3ff3ba74\nblueprint: qos-minimum-guaranteed-packet-rate\n'}]",3,792458,c9b1dfe9b7a57fcd07212cb7deedf0b91ccb88cc,87,4,16,9708,,,0,"[func test] refactor assertPortMatchesAllocation

It is a  preparation to assert not just bandwidth allocation but
packet rate allocation as well in the assertPortMatchesAllocation()
call. To be able to do that the whole instance allocation needs to be
passed in not only the allocation on the device RPs.

Change-Id: I8fbdafb1d734fdd0a028d1bb48f5aefa3ff3ba74
blueprint: qos-minimum-guaranteed-packet-rate
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/792458/15 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_servers.py'],1,b655317ba8b4c304f570316415c9096279c10154,bp/qos-minimum-guaranteed-packet-rate," def assertPortMatchesAllocation(self, port, allocations, compute_rp_uuid): if port['binding:vnic_type'] == 'normal': bw_allocations = allocations[ self.ovs_bridge_rp_per_host[compute_rp_uuid]]['resources'] # TODO(gibi): extend this with pps # pps_allocations = allocations[ # self.ovs_agent_rp_per_host[compute_rp_uuid]]['resources'] else: bw_allocations = allocations[ self.sriov_dev_rp_per_host[ compute_rp_uuid][self.PF2]]['resources'] for rc, amount in bw_allocations.items(): self.assertPortMatchesAllocation( qos_port, allocations, compute_rp_uuid) self.assertPortMatchesAllocation( qos_sriov_port, allocations, compute_rp_uuid) self.assertPortMatchesAllocation( qos_port, migration_allocations, source_compute_rp_uuid) self.assertPortMatchesAllocation( qos_sriov_port, migration_allocations, source_compute_rp_uuid) self.assertPortMatchesAllocation( qos_port, allocations, self.compute1_rp_uuid) self.assertPortMatchesAllocation( ovs_port, allocations, self.compute1_rp_uuid) self.assertPortMatchesAllocation( sriov_port, allocations, self.compute1_rp_uuid) self.assertPortMatchesAllocation( ovs_port, allocations, self.compute1_rp_uuid) self.assertPortMatchesAllocation( ovs_port, allocations, self.compute1_rp_uuid) self.assertPortMatchesAllocation( sriov_port, allocations, self.compute1_rp_uuid) # this is the leaked allocation in placement self.assertPortMatchesAllocation( sriov_port, allocations, self.compute1_rp_uuid) self.assertPortMatchesAllocation( port, allocations, self.compute1_rp_uuid) self.assertPortMatchesAllocation( port, allocations, self.compute1_rp_uuid) self.assertPortMatchesAllocation( port, allocations, self.compute1_rp_uuid) sriov_port_with_res_req, allocations, self.compute1_rp_uuid) port, allocations, self.compute1_rp_uuid) self.assertPortMatchesAllocation( qos_port, allocations, source_compute_rp_uuid) self.assertPortMatchesAllocation( qos_sriov_port, allocations, source_compute_rp_uuid) self.assertPortMatchesAllocation( qos_port, allocations, dest_compute_rp_uuid) self.assertPortMatchesAllocation( qos_sriov_port, allocations, dest_compute_rp_uuid) self.assertPortMatchesAllocation( qos_port, allocations, dest_compute_rp_uuid) self.assertPortMatchesAllocation( qos_sriov_port, allocations, dest_compute_rp_uuid) self.assertPortMatchesAllocation( port, allocations, dest_compute_rp_uuid)"," def assertPortMatchesAllocation(self, port, allocations): for rc, amount in allocations.items(): ovs_allocations = allocations[ self.ovs_bridge_rp_per_host[compute_rp_uuid]]['resources'] self.assertPortMatchesAllocation(qos_port, ovs_allocations) sriov_allocations = allocations[ self.sriov_dev_rp_per_host[compute_rp_uuid][self.PF2]]['resources'] self.assertPortMatchesAllocation(qos_sriov_port, sriov_allocations) ovs_allocations = migration_allocations[ self.ovs_bridge_rp_per_host[ source_compute_rp_uuid]]['resources'] self.assertPortMatchesAllocation(qos_port, ovs_allocations) sriov_allocations = migration_allocations[ self.sriov_dev_rp_per_host[ source_compute_rp_uuid][self.PF2]]['resources'] self.assertPortMatchesAllocation(qos_sriov_port, sriov_allocations) network_allocations = allocations[ self.ovs_bridge_rp_per_host[self.compute1_rp_uuid]]['resources'] self.assertPortMatchesAllocation(qos_port, network_allocations) ovs_allocations = allocations[ self.ovs_bridge_rp_per_host[self.compute1_rp_uuid]]['resources'] sriov_allocations = allocations[ self.sriov_dev_rp_per_host[ self.compute1_rp_uuid][self.PF2]]['resources'] self.assertPortMatchesAllocation(ovs_port, ovs_allocations) self.assertPortMatchesAllocation(sriov_port, sriov_allocations) ovs_allocations = allocations[ self.ovs_bridge_rp_per_host[self.compute1_rp_uuid]]['resources'] self.assertPortMatchesAllocation(ovs_port, ovs_allocations) ovs_allocations = allocations[ self.ovs_bridge_rp_per_host[self.compute1_rp_uuid]]['resources'] sriov_allocations = allocations[ self.sriov_dev_rp_per_host[ self.compute1_rp_uuid][self.PF2]]['resources'] self.assertPortMatchesAllocation(ovs_port, ovs_allocations) self.assertPortMatchesAllocation(sriov_port, sriov_allocations) sriov_allocations = allocations[sriov_dev_rp]['resources'] # this is the leaked allocation in placement self.assertPortMatchesAllocation(sriov_port, sriov_allocations) network_allocations = allocations[ self.ovs_bridge_rp_per_host[self.compute1_rp_uuid]]['resources'] self.assertPortMatchesAllocation(port, network_allocations) network_allocations = allocations[ self.ovs_bridge_rp_per_host[self.compute1_rp_uuid]]['resources'] self.assertPortMatchesAllocation(port, network_allocations) network_allocations = allocations[port_rp_uuid]['resources'] self.assertPortMatchesAllocation(port, network_allocations) sriov_allocations = allocations[ self.sriov_dev_rp_per_host[ self.compute1_rp_uuid][self.PF2]]['resources'] sriov_port_with_res_req, sriov_allocations) sriov_allocations = allocations[self.sriov_dev_rp_per_host[ self.compute1_rp_uuid][self.PF2]]['resources'] port, sriov_allocations) ovs_allocations = allocations[ self.ovs_bridge_rp_per_host[source_compute_rp_uuid]]['resources'] self.assertPortMatchesAllocation(qos_port, ovs_allocations) sriov_allocations = allocations[ self.sriov_dev_rp_per_host[ source_compute_rp_uuid][self.PF2]]['resources'] self.assertPortMatchesAllocation(qos_sriov_port, sriov_allocations) ovs_allocations = allocations[ self.ovs_bridge_rp_per_host[dest_compute_rp_uuid]]['resources'] self.assertPortMatchesAllocation(qos_port, ovs_allocations) sriov_allocations = allocations[ self.sriov_dev_rp_per_host[ dest_compute_rp_uuid][self.PF2]]['resources'] self.assertPortMatchesAllocation(qos_sriov_port, sriov_allocations) ovs_allocations = allocations[ self.ovs_bridge_rp_per_host[dest_compute_rp_uuid]]['resources'] self.assertPortMatchesAllocation(qos_port, ovs_allocations) sriov_allocations = allocations[ self.sriov_dev_rp_per_host[ dest_compute_rp_uuid][self.PF2]]['resources'] self.assertPortMatchesAllocation(qos_sriov_port, sriov_allocations) network_allocations = allocations[ self.ovs_bridge_rp_per_host[dest_compute_rp_uuid]]['resources'] self.assertPortMatchesAllocation(port, network_allocations)",59,88
openstack%2Fnova~master~I7447bbb49fcee5197b176aa64fd5f2c930f70fc0,openstack/nova,master,I7447bbb49fcee5197b176aa64fd5f2c930f70fc0,Support same_subtree in allocation_canadidate query,MERGED,2021-05-14 15:10:46.000000000,2021-08-31 01:35:30.000000000,2021-08-31 01:35:30.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 15:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8139c29226bc4482a484e0f047ca4ed8398037d7', 'message': 'Support same_subtree in allocation_canadidate query\n\nExtend the allocation candidate query generation to include same_subtree\nquery parameters based on the RequestSpec.\n\nThe same_subtree parameter is available since placement microversion\n1.36 but we already bumped our minimum placement requirement to 1.36\nin a previous patch.\n\nChange-Id: I7447bbb49fcee5197b176aa64fd5f2c930f70fc0\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 2, 'created': '2021-05-14 15:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7100a77e78fe7c78f14b09c396b0f5cfd774212', 'message': 'Support same_subtree in allocation_canadidate query\n\nExtend the allocation candidate query generation to include same_subtree\nquery parameters based on the RequestSpec.\n\nThe same_subtree parameter is available since placement microversion\n1.36 but we already bumped our minimum placement requirement to 1.36\nin a previous patch.\n\nChange-Id: I7447bbb49fcee5197b176aa64fd5f2c930f70fc0\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 3, 'created': '2021-05-19 13:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f010d7ee19c5d55330eb3ae0b1b546e5f3a63a6e', 'message': 'Support same_subtree in allocation_canadidate query\n\nExtend the allocation candidate query generation to include same_subtree\nquery parameters based on the RequestSpec.\n\nThe same_subtree parameter is available since placement microversion\n1.36 but we already bumped our minimum placement requirement to 1.36\nin a previous patch.\n\nChange-Id: I7447bbb49fcee5197b176aa64fd5f2c930f70fc0\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 4, 'created': '2021-05-20 17:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5fc91ca20e89c22224cd340b22a073704f07370f', 'message': 'Support same_subtree in allocation_canadidate query\n\nExtend the allocation candidate query generation to include same_subtree\nquery parameters based on the RequestSpec.\n\nThe same_subtree parameter is available since placement microversion\n1.36 but we already bumped our minimum placement requirement to 1.36\nin a previous patch.\n\nChange-Id: I7447bbb49fcee5197b176aa64fd5f2c930f70fc0\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 5, 'created': '2021-05-21 15:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ad926b39e09ce15c3442035f6cdca9c1c5a6e65', 'message': 'Support same_subtree in allocation_canadidate query\n\nExtend the allocation candidate query generation to include same_subtree\nquery parameters based on the RequestSpec.\n\nThe same_subtree parameter is available since placement microversion\n1.36 but we already bumped our minimum placement requirement to 1.36\nin a previous patch.\n\nChange-Id: I7447bbb49fcee5197b176aa64fd5f2c930f70fc0\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 6, 'created': '2021-05-28 12:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4acc61c4ddc6e2fb14476a538b46771cca0ce2be', 'message': 'Support same_subtree in allocation_canadidate query\n\nExtend the allocation candidate query generation to include same_subtree\nquery parameters based on the RequestSpec.\n\nThe same_subtree parameter is available since placement microversion\n1.36 but we already bumped our minimum placement requirement to 1.36\nin a previous patch.\n\nChange-Id: I7447bbb49fcee5197b176aa64fd5f2c930f70fc0\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 7, 'created': '2021-06-02 17:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e5638f7652b3a89b5dac8fcd2f282d7393b472b', 'message': 'Support same_subtree in allocation_canadidate query\n\nExtend the allocation candidate query generation to include same_subtree\nquery parameters based on the RequestSpec.\n\nThe same_subtree parameter is available since placement microversion\n1.36 but we already bumped our minimum placement requirement to 1.36\nin a previous patch.\n\nChange-Id: I7447bbb49fcee5197b176aa64fd5f2c930f70fc0\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 8, 'created': '2021-06-03 16:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab935441a17a9cfcbc64cd9c8bdd47f3ee0caf9b', 'message': 'Support same_subtree in allocation_canadidate query\n\nExtend the allocation candidate query generation to include same_subtree\nquery parameters based on the RequestSpec.\n\nThe same_subtree parameter is available since placement microversion\n1.36 but we already bumped our minimum placement requirement to 1.36\nin a previous patch.\n\nChange-Id: I7447bbb49fcee5197b176aa64fd5f2c930f70fc0\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 9, 'created': '2021-06-04 13:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de2bcb87c75a08407d1d91d2bc9ebdd875cabf8b', 'message': 'Support same_subtree in allocation_canadidate query\n\nExtend the allocation candidate query generation to include same_subtree\nquery parameters based on the RequestSpec.\n\nThe same_subtree parameter is available since placement microversion\n1.36 but we already bumped our minimum placement requirement to 1.36\nin a previous patch.\n\nChange-Id: I7447bbb49fcee5197b176aa64fd5f2c930f70fc0\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 10, 'created': '2021-06-14 11:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ebd3ce8c81409b728516ea7bd561b9c7a77dd48', 'message': 'Support same_subtree in allocation_canadidate query\n\nExtend the allocation candidate query generation to include same_subtree\nquery parameters based on the RequestSpec.\n\nThe same_subtree parameter is available since placement microversion\n1.36 but we already bumped our minimum placement requirement to 1.36\nin a previous patch.\n\nChange-Id: I7447bbb49fcee5197b176aa64fd5f2c930f70fc0\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 11, 'created': '2021-06-25 16:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2d7049d96516f10841e2fea9dc75e2b1bc62412', 'message': 'Support same_subtree in allocation_canadidate query\n\nExtend the allocation candidate query generation to include same_subtree\nquery parameters based on the RequestSpec.\n\nThe same_subtree parameter is available since placement microversion\n1.36 but we already bumped our minimum placement requirement to 1.36\nin a previous patch.\n\nChange-Id: I7447bbb49fcee5197b176aa64fd5f2c930f70fc0\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 12, 'created': '2021-07-07 15:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/01963dbf9bd0f1094f8cf7bf16641922e796bd0b', 'message': 'Support same_subtree in allocation_canadidate query\n\nExtend the allocation candidate query generation to include same_subtree\nquery parameters based on the RequestSpec.\n\nThe same_subtree parameter is available since placement microversion\n1.36 but we already bumped our minimum placement requirement to 1.36\nin a previous patch.\n\nChange-Id: I7447bbb49fcee5197b176aa64fd5f2c930f70fc0\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 13, 'created': '2021-07-15 18:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dfac0342ced2a07b53603d6f35a5033a9fbd856c', 'message': 'Support same_subtree in allocation_canadidate query\n\nExtend the allocation candidate query generation to include same_subtree\nquery parameters based on the RequestSpec.\n\nThe same_subtree parameter is available since placement microversion\n1.36 but we already bumped our minimum placement requirement to 1.36\nin a previous patch.\n\nChange-Id: I7447bbb49fcee5197b176aa64fd5f2c930f70fc0\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 14, 'created': '2021-07-15 18:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae07d8d06b0a463a6ffd4728693195ba19586884', 'message': 'Support same_subtree in allocation_canadidate query\n\nExtend the allocation candidate query generation to include same_subtree\nquery parameters based on the RequestSpec.\n\nThe same_subtree parameter is available since placement microversion\n1.36 but we already bumped our minimum placement requirement to 1.36\nin a previous patch.\n\nChange-Id: I7447bbb49fcee5197b176aa64fd5f2c930f70fc0\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 15, 'created': '2021-07-16 17:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9a059675c22c120327beb7534a79a82c2d29243', 'message': 'Support same_subtree in allocation_canadidate query\n\nExtend the allocation candidate query generation to include same_subtree\nquery parameters based on the RequestSpec.\n\nThe same_subtree parameter is available since placement microversion\n1.36 but we already bumped our minimum placement requirement to 1.36\nin a previous patch.\n\nChange-Id: I7447bbb49fcee5197b176aa64fd5f2c930f70fc0\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 16, 'created': '2021-07-19 13:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/352d8f79442958ad9a0b3ba6f75b1f3bc5c5b452', 'message': 'Support same_subtree in allocation_canadidate query\n\nExtend the allocation candidate query generation to include same_subtree\nquery parameters based on the RequestSpec.\n\nThe same_subtree parameter is available since placement microversion\n1.36 but we already bumped our minimum placement requirement to 1.36\nin a previous patch.\n\nChange-Id: I7447bbb49fcee5197b176aa64fd5f2c930f70fc0\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 17, 'created': '2021-07-19 16:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3f744fb06088407e998a05500afc2367fa8ff9b', 'message': 'Support same_subtree in allocation_canadidate query\n\nExtend the allocation candidate query generation to include same_subtree\nquery parameters based on the RequestSpec.\n\nThe same_subtree parameter is available since placement microversion\n1.36 but we already bumped our minimum placement requirement to 1.36\nin a previous patch.\n\nChange-Id: I7447bbb49fcee5197b176aa64fd5f2c930f70fc0\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 18, 'created': '2021-07-22 13:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07c9e17b0172be833fa2bdda6839437beb4e3721', 'message': 'Support same_subtree in allocation_canadidate query\n\nExtend the allocation candidate query generation to include same_subtree\nquery parameters based on the RequestSpec.\n\nThe same_subtree parameter is available since placement microversion\n1.36 but we already bumped our minimum placement requirement to 1.36\nin a previous patch.\n\nChange-Id: I7447bbb49fcee5197b176aa64fd5f2c930f70fc0\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 19, 'created': '2021-08-16 17:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ed6343082d1d629a9f371c2e0dfa194c5e327cb', 'message': 'Support same_subtree in allocation_canadidate query\n\nExtend the allocation candidate query generation to include same_subtree\nquery parameters based on the RequestSpec.\n\nThe same_subtree parameter is available since placement microversion\n1.36 but we already bumped our minimum placement requirement to 1.36\nin a previous patch.\n\nChange-Id: I7447bbb49fcee5197b176aa64fd5f2c930f70fc0\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 20, 'created': '2021-08-16 17:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/abf1b89fe1874c58b961947e50bcbc652528547e', 'message': 'Support same_subtree in allocation_canadidate query\n\nExtend the allocation candidate query generation to include same_subtree\nquery parameters based on the RequestSpec.\n\nThe same_subtree parameter is available since placement microversion\n1.36 but we already bumped our minimum placement requirement to 1.36\nin a previous patch.\n\nChange-Id: I7447bbb49fcee5197b176aa64fd5f2c930f70fc0\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 21, 'created': '2021-08-21 12:43:50.000000000', 'files': ['nova/objects/request_spec.py', 'nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b29ccf8aa5cf2081ed46ac53741a8600ae40f071', 'message': 'Support same_subtree in allocation_canadidate query\n\nExtend the allocation candidate query generation to include same_subtree\nquery parameters based on the RequestSpec.\n\nThe same_subtree parameter is available since placement microversion\n1.36 but we already bumped our minimum placement requirement to 1.36\nin a previous patch.\n\nChange-Id: I7447bbb49fcee5197b176aa64fd5f2c930f70fc0\nblueprint: qos-minimum-guaranteed-packet-rate\n'}]",0,791505,b29ccf8aa5cf2081ed46ac53741a8600ae40f071,132,4,21,9708,,,0,"Support same_subtree in allocation_canadidate query

Extend the allocation candidate query generation to include same_subtree
query parameters based on the RequestSpec.

The same_subtree parameter is available since placement microversion
1.36 but we already bumped our minimum placement requirement to 1.36
in a previous patch.

Change-Id: I7447bbb49fcee5197b176aa64fd5f2c930f70fc0
blueprint: qos-minimum-guaranteed-packet-rate
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/791505/21 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py']",3,8139c29226bc4482a484e0f047ca4ed8398037d7,bp/qos-minimum-guaranteed-packet-rate," def test_resources_from_request_spec_with_same_subtree(self): """"""Tests that there same_subtree query params are added to the GET /allocation_candidates query string based on the request spec """""" flavor = objects.Flavor( vcpus=1, memory_mb=1024, root_gb=15, ephemeral_gb=0, swap=0) req_lvl_params = objects.RequestLevelParams( same_subtree=[['group1', 'group2'], ['group3', 'group4']]) request_spec = objects.RequestSpec( flavor=flavor, request_level_params=req_lvl_params) resources = utils.resources_from_request_spec( self.context, request_spec, self.mock_host_manager) self.assertEqual( 'limit=1000&' 'resources=DISK_GB%3A15%2CMEMORY_MB%3A1024%2CVCPU%3A1&' 'same_subtree=group1%2Cgroup2&' 'same_subtree=group3%2Cgroup4', resources.to_querystring() ) ",,34,0
openstack%2Fnova~master~I5bfec9b9ec49e60c454d71f6fc645038504ef9ef,openstack/nova,master,I5bfec9b9ec49e60c454d71f6fc645038504ef9ef,Bump min placement microversion to 1.36,MERGED,2021-05-14 15:10:46.000000000,2021-08-31 01:35:22.000000000,2021-08-31 01:35:22.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 15:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9bb75d5297fe36322ad55b70fa2bcc48011a60db', 'message': 'Bump min placement microversion to 1.36\n\nTo implement the usage of same_subtree query parameter in the\nallocation candidate request first the minimum requires placement\nmicroversion needs to be bumped from 1.35 to 1.36. This patch makes such\nbump and update the related nova upgrade check. Later patches will\nmodify the query generation to include the same_subtree param to the\nrequest.\n\nChange-Id: I5bfec9b9ec49e60c454d71f6fc645038504ef9ef\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 2, 'created': '2021-05-14 15:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/545a48ce65263976be1b8b47c0139217d30dca73', 'message': 'Bump min placement microversion to 1.36\n\nTo implement the usage of same_subtree query parameter in the\nallocation candidate request first the minimum requires placement\nmicroversion needs to be bumped from 1.35 to 1.36. This patch makes such\nbump and update the related nova upgrade check. Later patches will\nmodify the query generation to include the same_subtree param to the\nrequest.\n\nChange-Id: I5bfec9b9ec49e60c454d71f6fc645038504ef9ef\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 3, 'created': '2021-05-19 13:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ced5139dfbc4dbba7256f540e285e00512f8feaf', 'message': 'Bump min placement microversion to 1.36\n\nTo implement the usage of same_subtree query parameter in the\nallocation candidate request first the minimum requires placement\nmicroversion needs to be bumped from 1.35 to 1.36. This patch makes such\nbump and update the related nova upgrade check. Later patches will\nmodify the query generation to include the same_subtree param to the\nrequest.\n\nChange-Id: I5bfec9b9ec49e60c454d71f6fc645038504ef9ef\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 4, 'created': '2021-05-20 17:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d341603d26667632e511cb8990a292686da3480', 'message': 'Bump min placement microversion to 1.36\n\nTo implement the usage of same_subtree query parameter in the\nallocation candidate request first the minimum requires placement\nmicroversion needs to be bumped from 1.35 to 1.36. This patch makes such\nbump and update the related nova upgrade check. Later patches will\nmodify the query generation to include the same_subtree param to the\nrequest.\n\nChange-Id: I5bfec9b9ec49e60c454d71f6fc645038504ef9ef\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 5, 'created': '2021-05-21 15:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/860040df3f3ab56fca0294775fbc8244b75e0bd9', 'message': 'Bump min placement microversion to 1.36\n\nTo implement the usage of same_subtree query parameter in the\nallocation candidate request first the minimum requires placement\nmicroversion needs to be bumped from 1.35 to 1.36. This patch makes such\nbump and update the related nova upgrade check. Later patches will\nmodify the query generation to include the same_subtree param to the\nrequest.\n\nChange-Id: I5bfec9b9ec49e60c454d71f6fc645038504ef9ef\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 6, 'created': '2021-05-28 12:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ceb9ac7e5fea88b0439a01aab44f661aa560a9fc', 'message': 'Bump min placement microversion to 1.36\n\nTo implement the usage of same_subtree query parameter in the\nallocation candidate request first the minimum requires placement\nmicroversion needs to be bumped from 1.35 to 1.36. This patch makes such\nbump and update the related nova upgrade check. Later patches will\nmodify the query generation to include the same_subtree param to the\nrequest.\n\nChange-Id: I5bfec9b9ec49e60c454d71f6fc645038504ef9ef\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 7, 'created': '2021-06-02 17:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e01b66478d9c9d78802a63b8d550dcc06af3e820', 'message': 'Bump min placement microversion to 1.36\n\nTo implement the usage of same_subtree query parameter in the\nallocation candidate request first the minimum requires placement\nmicroversion needs to be bumped from 1.35 to 1.36. This patch makes such\nbump and update the related nova upgrade check. Later patches will\nmodify the query generation to include the same_subtree param to the\nrequest.\n\nChange-Id: I5bfec9b9ec49e60c454d71f6fc645038504ef9ef\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 8, 'created': '2021-06-03 16:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e4680188d184614b8a7b1ae882a42d9dcc11b1a', 'message': 'Bump min placement microversion to 1.36\n\nTo implement the usage of same_subtree query parameter in the\nallocation candidate request first the minimum requires placement\nmicroversion needs to be bumped from 1.35 to 1.36. This patch makes such\nbump and update the related nova upgrade check. Later patches will\nmodify the query generation to include the same_subtree param to the\nrequest.\n\nChange-Id: I5bfec9b9ec49e60c454d71f6fc645038504ef9ef\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 9, 'created': '2021-06-04 13:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d813d3ea1de1c1d4fcee89c37bc40fe252a37efa', 'message': 'Bump min placement microversion to 1.36\n\nTo implement the usage of same_subtree query parameter in the\nallocation candidate request first the minimum requires placement\nmicroversion needs to be bumped from 1.35 to 1.36. This patch makes such\nbump and update the related nova upgrade check. Later patches will\nmodify the query generation to include the same_subtree param to the\nrequest.\n\nChange-Id: I5bfec9b9ec49e60c454d71f6fc645038504ef9ef\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 10, 'created': '2021-06-14 11:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82c360507f9709431d5205a55f276f7d9e29b57e', 'message': 'Bump min placement microversion to 1.36\n\nTo implement the usage of same_subtree query parameter in the\nallocation candidate request first the minimum requires placement\nmicroversion needs to be bumped from 1.35 to 1.36. This patch makes such\nbump and update the related nova upgrade check. Later patches will\nmodify the query generation to include the same_subtree param to the\nrequest.\n\nChange-Id: I5bfec9b9ec49e60c454d71f6fc645038504ef9ef\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 11, 'created': '2021-06-25 16:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a6e4126ade49e8aa937f6ad58abcd26fc9c9139', 'message': 'Bump min placement microversion to 1.36\n\nTo implement the usage of same_subtree query parameter in the\nallocation candidate request first the minimum requires placement\nmicroversion needs to be bumped from 1.35 to 1.36. This patch makes such\nbump and update the related nova upgrade check. Later patches will\nmodify the query generation to include the same_subtree param to the\nrequest.\n\nChange-Id: I5bfec9b9ec49e60c454d71f6fc645038504ef9ef\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 12, 'created': '2021-07-07 15:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/294f9827e87101ffcb95694a00b6349d19951fb3', 'message': 'Bump min placement microversion to 1.36\n\nTo implement the usage of same_subtree query parameter in the\nallocation candidate request first the minimum requires placement\nmicroversion needs to be bumped from 1.35 to 1.36. This patch makes such\nbump and update the related nova upgrade check. Later patches will\nmodify the query generation to include the same_subtree param to the\nrequest.\n\nChange-Id: I5bfec9b9ec49e60c454d71f6fc645038504ef9ef\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 13, 'created': '2021-07-15 17:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e3696dc58b6665b6d9ae18d96400a228ffdbb2f', 'message': 'Bump min placement microversion to 1.36\n\nTo implement the usage of same_subtree query parameter in the\nallocation candidate request first the minimum requires placement\nmicroversion needs to be bumped from 1.35 to 1.36. This patch makes such\nbump and update the related nova upgrade check. Later patches will\nmodify the query generation to include the same_subtree param to the\nrequest.\n\nChange-Id: I5bfec9b9ec49e60c454d71f6fc645038504ef9ef\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 14, 'created': '2021-07-15 18:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5f62c7a7f5af95d687433e7afee4fbcb40c1608', 'message': 'Bump min placement microversion to 1.36\n\nTo implement the usage of same_subtree query parameter in the\nallocation candidate request first the minimum requires placement\nmicroversion needs to be bumped from 1.35 to 1.36. This patch makes such\nbump and update the related nova upgrade check. Later patches will\nmodify the query generation to include the same_subtree param to the\nrequest.\n\nChange-Id: I5bfec9b9ec49e60c454d71f6fc645038504ef9ef\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 15, 'created': '2021-07-16 17:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16c89c40b5e1021b0d13aabcf48732eff81be368', 'message': 'Bump min placement microversion to 1.36\n\nTo implement the usage of same_subtree query parameter in the\nallocation candidate request first the minimum requires placement\nmicroversion needs to be bumped from 1.35 to 1.36. This patch makes such\nbump and update the related nova upgrade check. Later patches will\nmodify the query generation to include the same_subtree param to the\nrequest.\n\nChange-Id: I5bfec9b9ec49e60c454d71f6fc645038504ef9ef\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 16, 'created': '2021-07-19 13:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4413f88b66ac956b2f07965431c4fbd0aa47af0', 'message': 'Bump min placement microversion to 1.36\n\nTo implement the usage of same_subtree query parameter in the\nallocation candidate request first the minimum requires placement\nmicroversion needs to be bumped from 1.35 to 1.36. This patch makes such\nbump and update the related nova upgrade check. Later patches will\nmodify the query generation to include the same_subtree param to the\nrequest.\n\nChange-Id: I5bfec9b9ec49e60c454d71f6fc645038504ef9ef\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 17, 'created': '2021-07-19 16:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/931047adb6a69ce5093be64ea816d5ae87fbdf75', 'message': 'Bump min placement microversion to 1.36\n\nTo implement the usage of same_subtree query parameter in the\nallocation candidate request first the minimum requires placement\nmicroversion needs to be bumped from 1.35 to 1.36. This patch makes such\nbump and update the related nova upgrade check. Later patches will\nmodify the query generation to include the same_subtree param to the\nrequest.\n\nChange-Id: I5bfec9b9ec49e60c454d71f6fc645038504ef9ef\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 18, 'created': '2021-07-22 13:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c3216264806ca68b2b36a9b0a931014b6cbbcdb', 'message': 'Bump min placement microversion to 1.36\n\nTo implement the usage of same_subtree query parameter in the\nallocation candidate request first the minimum requires placement\nmicroversion needs to be bumped from 1.35 to 1.36. This patch makes such\nbump and update the related nova upgrade check. Later patches will\nmodify the query generation to include the same_subtree param to the\nrequest.\n\nChange-Id: I5bfec9b9ec49e60c454d71f6fc645038504ef9ef\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 19, 'created': '2021-08-16 17:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e8dc5adae3f8e5457a75f7dca20c09695eb81cd', 'message': 'Bump min placement microversion to 1.36\n\nTo implement the usage of same_subtree query parameter in the\nallocation candidate request first the minimum requires placement\nmicroversion needs to be bumped from 1.35 to 1.36. This patch makes such\nbump and update the related nova upgrade check. Later patches will\nmodify the query generation to include the same_subtree param to the\nrequest.\n\nChange-Id: I5bfec9b9ec49e60c454d71f6fc645038504ef9ef\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 20, 'created': '2021-08-16 17:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99134d859fd45635d9cddc170ad9c00a45436c6b', 'message': 'Bump min placement microversion to 1.36\n\nTo implement the usage of same_subtree query parameter in the\nallocation candidate request first the minimum requires placement\nmicroversion needs to be bumped from 1.35 to 1.36. This patch makes such\nbump and update the related nova upgrade check. Later patches will\nmodify the query generation to include the same_subtree param to the\nrequest.\n\nChange-Id: I5bfec9b9ec49e60c454d71f6fc645038504ef9ef\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 21, 'created': '2021-08-21 12:43:50.000000000', 'files': ['doc/source/cli/nova-status.rst', 'nova/cmd/status.py', 'nova/tests/functional/test_report_client.py', 'releasenotes/notes/require-placemnet-api-microversion-1.36-1129fe4afc949075.yaml', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f6e8c512fbce7c8ab2444c6a31132dc461f5638b', 'message': 'Bump min placement microversion to 1.36\n\nTo implement the usage of same_subtree query parameter in the\nallocation candidate request first the minimum requires placement\nmicroversion needs to be bumped from 1.35 to 1.36. This patch makes such\nbump and update the related nova upgrade check. Later patches will\nmodify the query generation to include the same_subtree param to the\nrequest.\n\nChange-Id: I5bfec9b9ec49e60c454d71f6fc645038504ef9ef\nblueprint: qos-minimum-guaranteed-packet-rate\n'}]",2,791504,f6e8c512fbce7c8ab2444c6a31132dc461f5638b,155,4,21,9708,,,0,"Bump min placement microversion to 1.36

To implement the usage of same_subtree query parameter in the
allocation candidate request first the minimum requires placement
microversion needs to be bumped from 1.35 to 1.36. This patch makes such
bump and update the related nova upgrade check. Later patches will
modify the query generation to include the same_subtree param to the
request.

Change-Id: I5bfec9b9ec49e60c454d71f6fc645038504ef9ef
blueprint: qos-minimum-guaranteed-packet-rate
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/791504/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/nova-status.rst', 'nova/cmd/status.py', 'nova/tests/functional/test_report_client.py', 'releasenotes/notes/require-placemnet-api-microversion-1.36-1129fe4afc949075.yaml', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py']",6,9bb75d5297fe36322ad55b70fa2bcc48011a60db,bp/qos-minimum-guaranteed-packet-rate,SAME_SUBTREE_VERSION = '1.36' version = SAME_SUBTREE_VERSION,ROOT_REQUIRED_VERSION = '1.35' version = ROOT_REQUIRED_VERSION,21,10
openstack%2Fcyborg~master~Ie630b3c96857589dd8a5ff1009735d1d6aab41c7,openstack/cyborg,master,Ie630b3c96857589dd8a5ff1009735d1d6aab41c7,Erase previously collected coverage for cybrog,MERGED,2021-07-01 09:00:58.000000000,2021-08-31 01:27:21.000000000,2021-08-31 01:25:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-07-01 09:00:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/20547d4fc15fdebb686258a31b8bd20487586479', 'message': 'Erase previously collected coverage for cybrog\n\nIn ""tox -e cover"" command, erase previously collected coverage data first.\n\nChange-Id: Ie630b3c96857589dd8a5ff1009735d1d6aab41c7\nSigned-off-by: wangyue_cmss <wangyue_yewu@cmss.chinamobile.com>\n'}]",0,799019,20547d4fc15fdebb686258a31b8bd20487586479,8,5,1,28971,,,0,"Erase previously collected coverage for cybrog

In ""tox -e cover"" command, erase previously collected coverage data first.

Change-Id: Ie630b3c96857589dd8a5ff1009735d1d6aab41c7
Signed-off-by: wangyue_cmss <wangyue_yewu@cmss.chinamobile.com>
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/19/799019/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,20547d4fc15fdebb686258a31b8bd20487586479,, coverage erase,,1,0
openstack%2Fnova~master~I12c25550b08be6854b71ed3ad4c411a244a6c813,openstack/nova,master,I12c25550b08be6854b71ed3ad4c411a244a6c813,Reject server operations with extended resource req,MERGED,2021-05-28 16:25:36.000000000,2021-08-31 00:56:11.000000000,2021-08-31 00:53:00.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-28 16:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37b5ada097c785a5f4e0292b5e78b4b8f8b4220d', 'message': 'Reject server operations with extended resource req\n\nAs a precaution reject all the server lifecycle operations that currently\ndoes not support neutron extended resource request API extension. These\nare:\n* resize\n* migrate\n* live migrate\n* evacuate\n* unshelve after shelve offload\n* interface attach\n\nThis rejection will be removed in the patch that adds support for the\ngiven operation.\n\nTODO:\n* functional coverage for the rejection (needs the extended fixture\n  support to be moved before this patch)\n* unit test coverage\n* release notes\n* API guide and Admin guide doc update about these rejections\n\nChange-Id: I12c25550b08be6854b71ed3ad4c411a244a6c813\n'}, {'number': 2, 'created': '2021-06-02 17:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/347011a4fb130898228949226d7e93ebcf639e3c', 'message': 'Reject server operations with extended resource req\n\nAs a precaution reject all the server lifecycle operations that currently\ndo not support neutron extended resource request API extension. These\nare:\n* resize\n* migrate\n* live migrate\n* evacuate\n* unshelve after shelve offload\n* interface attach\n\nThis rejection will be removed in the patch that adds support for the\ngiven operation.\n\nTODO:\n* unit test coverage\n* release notes\n* API guide and Admin guide doc update about these rejections\n\nChange-Id: I12c25550b08be6854b71ed3ad4c411a244a6c813\n'}, {'number': 3, 'created': '2021-06-03 16:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f960ff93acd70d8bb410795be9c6a5bacaaa533', 'message': 'Reject server operations with extended resource req\n\nAs a precaution reject all the server lifecycle operations that currently\ndo not support neutron extended resource request API extension. These\nare:\n* resize\n* migrate\n* live migrate\n* evacuate\n* unshelve after shelve offload\n* interface attach\n\nThis rejection will be removed in the patch that adds support for the\ngiven operation.\n\nTODO:\n* release notes\n* API guide and Admin guide doc update about these rejections\n\nChange-Id: I12c25550b08be6854b71ed3ad4c411a244a6c813\n'}, {'number': 4, 'created': '2021-06-04 13:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f16dc2f6746d544df344217975a232818960dde', 'message': 'Reject server operations with extended resource req\n\nAs a precaution reject all the server lifecycle operations that currently\ndo not support neutron extended resource request API extension. These\nare:\n* resize\n* migrate\n* live migrate\n* evacuate\n* unshelve after shelve offload\n* interface attach\n\nThis rejection will be removed in the patch that adds support for the\ngiven operation.\n\nTODO:\n* release notes\n* API guide and Admin guide doc update about these rejections\n\nChange-Id: I12c25550b08be6854b71ed3ad4c411a244a6c813\n'}, {'number': 5, 'created': '2021-06-14 11:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e71775843050ee29e43d60fce4a4b727e843d1b', 'message': 'Reject server operations with extended resource req\n\nAs a precaution reject all the server lifecycle operations that currently\ndo not support neutron extended resource request API extension. These\nare:\n* resize\n* migrate\n* live migrate\n* evacuate\n* unshelve after shelve offload\n* interface attach\n\nThis rejection will be removed in the patch that adds support for the\ngiven operation.\n\nTODO:\n* release notes\n* API guide and Admin guide doc update about these rejections\n\nChange-Id: I12c25550b08be6854b71ed3ad4c411a244a6c813\n'}, {'number': 6, 'created': '2021-06-25 16:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55ba5cad2cba82736a1b5dd94149af8abd118dad', 'message': 'Reject server operations with extended resource req\n\nAs a precaution reject all the server lifecycle operations that currently\ndo not support neutron extended resource request API extension. These\nare:\n* resize\n* migrate\n* live migrate\n* evacuate\n* unshelve after shelve offload\n* interface attach\n\nThis rejection will be removed in the patch that adds support for the\ngiven operation.\n\nTODO:\n* release notes\n* API guide and Admin guide doc update about these rejections\n\nChange-Id: I12c25550b08be6854b71ed3ad4c411a244a6c813\n'}, {'number': 7, 'created': '2021-07-07 15:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa8ff4eca58b932f06459ceee144475f21963e76', 'message': 'Reject server operations with extended resource req\n\nAs a precaution reject all the server lifecycle operations that currently\ndo not support neutron extended resource request API extension. These\nare:\n* resize\n* migrate\n* live migrate\n* evacuate\n* unshelve after shelve offload\n* interface attach\n\nThis rejection will be removed in the patch that adds support for the\ngiven operation.\n\nTODO:\n* release notes\n* API guide and Admin guide doc update about these rejections\n\nChange-Id: I12c25550b08be6854b71ed3ad4c411a244a6c813\n'}, {'number': 8, 'created': '2021-07-15 17:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f956e2cf66d4ae9ffb8088e53bfdb68630572627', 'message': 'Reject server operations with extended resource req\n\nAs a precaution reject all the server lifecycle operations that currently\ndo not support neutron extended resource request API extension. These\nare:\n* resize\n* migrate\n* live migrate\n* evacuate\n* unshelve after shelve offload\n* interface attach\n\nThis rejection will be removed in the patch that adds support for the\ngiven operation.\n\nTODO:\n* release notes\n* API guide and Admin guide doc update about these rejections\n\nChange-Id: I12c25550b08be6854b71ed3ad4c411a244a6c813\n'}, {'number': 9, 'created': '2021-07-15 18:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62e3a9f47ff62c69787360f9c9f0dd1cb7ff5490', 'message': 'Reject server operations with extended resource req\n\nAs a precaution reject all the server lifecycle operations that currently\ndo not support neutron extended resource request API extension. These\nare:\n* resize\n* migrate\n* live migrate\n* evacuate\n* unshelve after shelve offload\n* interface attach\n\nThis rejection will be removed in the patch that adds support for the\ngiven operation.\n\nTODO:\n* release notes\n* API guide and Admin guide doc update about these rejections\n\nChange-Id: I12c25550b08be6854b71ed3ad4c411a244a6c813\n'}, {'number': 10, 'created': '2021-07-16 17:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a949dbae31449a12de227bc4a4a4b44d2fecaada', 'message': 'Reject server operations with extended resource req\n\nAs a precaution reject all the server lifecycle operations that currently\ndo not support neutron extended resource request API extension. These\nare:\n* resize\n* migrate\n* live migrate\n* evacuate\n* unshelve after shelve offload\n* interface attach\n\nThis rejection will be removed in the patch that adds support for the\ngiven operation.\n\nTODO:\n* release notes\n* API guide and Admin guide doc update about these rejections\n\nChange-Id: I12c25550b08be6854b71ed3ad4c411a244a6c813\n'}, {'number': 11, 'created': '2021-07-19 13:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/528df1f443d74c8ebb52763a46a09ca569d38ca3', 'message': 'Reject server operations with extended resource req\n\nAs a precaution reject all the server lifecycle operations that currently\ndo not support neutron extended resource request API extension. These\nare:\n* resize\n* migrate\n* live migrate\n* evacuate\n* unshelve after shelve offload\n* interface attach\n\nThis rejection will be removed in the patch that adds support for the\ngiven operation.\n\nTODO:\n* release notes\n* API guide and Admin guide doc update about these rejections\n\nChange-Id: I12c25550b08be6854b71ed3ad4c411a244a6c813\n'}, {'number': 12, 'created': '2021-07-19 16:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/915d71336eb2d2acf68eb2054d910ed0f96a52a5', 'message': 'Reject server operations with extended resource req\n\nAs a precaution reject all the server lifecycle operations that currently\ndo not support neutron extended resource request API extension. These\nare:\n* resize\n* migrate\n* live migrate\n* evacuate\n* unshelve after shelve offload\n* interface attach\n\nThis rejection will be removed in the patch that adds support for the\ngiven operation.\n\nChange-Id: I12c25550b08be6854b71ed3ad4c411a244a6c813\n'}, {'number': 13, 'created': '2021-07-22 13:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c00041faaf1d7beccedcf3fb19bbbe38a17fd91', 'message': 'Reject server operations with extended resource req\n\nAs a precaution reject all the server lifecycle operations that currently\ndo not support neutron extended resource request API extension. These\nare:\n* resize\n* migrate\n* live migrate\n* evacuate\n* unshelve after shelve offload\n* interface attach\n\nThis rejection will be removed in the patch that adds support for the\ngiven operation.\n\nChange-Id: I12c25550b08be6854b71ed3ad4c411a244a6c813\n'}, {'number': 14, 'created': '2021-08-16 17:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4071dff3bb468fc6f857cfae89a29ee2a23f7b5f', 'message': 'Reject server operations with extended resource req\n\nAs a precaution reject all the server lifecycle operations that currently\ndo not support port-resource-request-groups API extension. These\nare:\n* resize\n* migrate\n* live migrate\n* evacuate\n* unshelve after shelve offload\n* interface attach\n\nThis rejection will be removed in the patch that adds support for the\ngiven operation.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I12c25550b08be6854b71ed3ad4c411a244a6c813\n'}, {'number': 15, 'created': '2021-08-16 17:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ce744896cff8edd370b0818d6d1678d6cf24a6a', 'message': 'Reject server operations with extended resource req\n\nAs a precaution reject all the server lifecycle operations that currently\ndo not support port-resource-request-groups API extension. These\nare:\n* resize\n* migrate\n* live migrate\n* evacuate\n* unshelve after shelve offload\n* interface attach\n\nThis rejection will be removed in the patch that adds support for the\ngiven operation.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I12c25550b08be6854b71ed3ad4c411a244a6c813\n'}, {'number': 16, 'created': '2021-08-21 12:33:35.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/api/openstack/compute/shelve.py', 'nova/api/openstack/compute/evacuate.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/api/openstack/compute/servers.py', 'nova/tests/functional/test_servers_resource_request.py', 'nova/tests/unit/compute/test_api.py', 'nova/exception.py', 'nova/network/neutron.py', 'nova/tests/unit/api/openstack/compute/test_shelve.py', 'nova/tests/unit/policies/base.py', 'nova/tests/unit/api/openstack/compute/test_evacuate.py', 'nova/compute/api.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8f5b7c67ca9fc528dfedf89c5f74cb067229e6e0', 'message': 'Reject server operations with extended resource req\n\nAs a precaution reject all the server lifecycle operations that currently\ndo not support port-resource-request-groups API extension. These\nare:\n* resize\n* migrate\n* live migrate\n* evacuate\n* unshelve after shelve offload\n* interface attach\n\nThis rejection will be removed in the patch that adds support for the\ngiven operation.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I12c25550b08be6854b71ed3ad4c411a244a6c813\n'}]",25,793620,8f5b7c67ca9fc528dfedf89c5f74cb067229e6e0,115,4,16,9708,,,0,"Reject server operations with extended resource req

As a precaution reject all the server lifecycle operations that currently
do not support port-resource-request-groups API extension. These
are:
* resize
* migrate
* live migrate
* evacuate
* unshelve after shelve offload
* interface attach

This rejection will be removed in the patch that adds support for the
given operation.

blueprint: qos-minimum-guaranteed-packet-rate
Change-Id: I12c25550b08be6854b71ed3ad4c411a244a6c813
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/793620/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/api/openstack/compute/shelve.py', 'nova/network/neutron.py', 'nova/api/openstack/compute/evacuate.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py']",7,37b5ada097c785a5f4e0292b5e78b4b8f8b4220d,bp/qos-minimum-guaranteed-packet-rate," if self.network_api.instance_has_extended_resource_request( instance_id ): msg = _( ""The resize server operation with port having extended "" ""resource request, like a port with both QoS minimum "" ""bandwidth and packet rate policies is not yet supported."") raise exc.HTTPBadRequest(explanation=msg) ",,78,0
openstack%2Fnova~master~Ibb331b75b45dece8a9c4b2268155ec825f29979b,openstack/nova,master,Ibb331b75b45dece8a9c4b2268155ec825f29979b,[func test] neutron fixture for extended resource request,MERGED,2021-06-02 17:04:19.000000000,2021-08-31 00:54:42.000000000,2021-08-31 00:52:19.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-02 17:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b924836ddb0c0100368c34f95e477e1757c2c1b3', 'message': '[func test] neutron fixture for extended resource request\n\nBy adding a new NeutronFixture derivative we can simulate that Neutron\nsupports the new resource-request-extended API extension and\nreturns the new nested structure in the resource_request attribute of\nthe port.\n\nChange-Id: Ibb331b75b45dece8a9c4b2268155ec825f29979b\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 2, 'created': '2021-06-14 11:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5350da036c892d94881a05f256c9408e5ade4c3a', 'message': '[func test] neutron fixture for extended resource request\n\nBy adding a new NeutronFixture derivative we can simulate that Neutron\nsupports the new resource-request-extended API extension and\nreturns the new nested structure in the resource_request attribute of\nthe port.\n\nChange-Id: Ibb331b75b45dece8a9c4b2268155ec825f29979b\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 3, 'created': '2021-06-25 16:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2c64a2c529937486a9e22e4bc7ef07ec55270e7', 'message': '[func test] neutron fixture for extended resource request\n\nBy adding a new NeutronFixture derivative we can simulate that Neutron\nsupports the new resource-request-extended API extension and\nreturns the new nested structure in the resource_request attribute of\nthe port.\n\nChange-Id: Ibb331b75b45dece8a9c4b2268155ec825f29979b\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 4, 'created': '2021-07-07 15:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6d6972006e583a29380dc6b3ca61a2d4f4f827e', 'message': '[func test] neutron fixture for extended resource request\n\nBy adding a new NeutronFixture derivative we can simulate that Neutron\nsupports the new resource-request-extended API extension and\nreturns the new nested structure in the resource_request attribute of\nthe port.\n\nChange-Id: Ibb331b75b45dece8a9c4b2268155ec825f29979b\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 5, 'created': '2021-07-15 17:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21c0cb01f182a0eed6a3f9782106ede832f8ea96', 'message': '[func test] neutron fixture for extended resource request\n\nBy adding a new NeutronFixture derivative we can simulate that Neutron\nsupports the new resource-request-extended API extension and\nreturns the new nested structure in the resource_request attribute of\nthe port.\n\nChange-Id: Ibb331b75b45dece8a9c4b2268155ec825f29979b\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 6, 'created': '2021-07-15 18:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27f5e5609ad4df2bbd4ad7aaaa0fc0b90d124155', 'message': '[func test] neutron fixture for extended resource request\n\nBy adding a new NeutronFixture derivative we can simulate that Neutron\nsupports the new resource-request-extended API extension and\nreturns the new nested structure in the resource_request attribute of\nthe port.\n\nChange-Id: Ibb331b75b45dece8a9c4b2268155ec825f29979b\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 7, 'created': '2021-07-16 16:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/758770c6e65bcf28995bcce10e36070763ba1ae3', 'message': '[func test] neutron fixture for extended resource request\n\nBy adding a new NeutronFixture derivative we can simulate that Neutron\nsupports the new resource-request-extended API extension and\nreturns the new nested structure in the resource_request attribute of\nthe port.\n\nChange-Id: Ibb331b75b45dece8a9c4b2268155ec825f29979b\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 8, 'created': '2021-07-22 12:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/caed91f817c35599568c183804394120ff2d0fcd', 'message': '[func test] neutron fixture for extended resource request\n\nBy adding a new NeutronFixture derivative we can simulate that Neutron\nsupports the new resource-request-extended API extension and\nreturns the new nested structure in the resource_request attribute of\nthe port.\n\nTODO Synch the behavior of the new Neutron fixture with Neutron\n  implementation:\n* the name of the API extension used\n* the resource_request content in the new format if the port has no QoS\n  policy.\n\nChange-Id: Ibb331b75b45dece8a9c4b2268155ec825f29979b\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 9, 'created': '2021-08-16 17:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/745009cbae188dbd9b34884f1359d6e8906bb32b', 'message': '[func test] neutron fixture for extended resource request\n\nBy adding a new NeutronFixture derivative we can simulate that Neutron\nsupports the new port-resource-request-groups API extension and\nreturns the new nested structure in the resource_request attribute of\nthe port.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/803905\n\nChange-Id: Ibb331b75b45dece8a9c4b2268155ec825f29979b\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 10, 'created': '2021-08-16 17:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4bba6d7dc38b6773004e74c8a58c08ff7e9c997f', 'message': '[func test] neutron fixture for extended resource request\n\nBy adding a new NeutronFixture derivative we can simulate that Neutron\nsupports the new port-resource-request-groups API extension and\nreturns the new nested structure in the resource_request attribute of\nthe port.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/803905\n\nChange-Id: Ibb331b75b45dece8a9c4b2268155ec825f29979b\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 11, 'created': '2021-08-21 12:33:35.000000000', 'files': ['nova/network/constants.py', 'nova/tests/functional/test_servers_resource_request.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f68d30bff3d8cccf758547807bf7db02dbba34ee', 'message': '[func test] neutron fixture for extended resource request\n\nBy adding a new NeutronFixture derivative we can simulate that Neutron\nsupports the new port-resource-request-groups API extension and\nreturns the new nested structure in the resource_request attribute of\nthe port.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/803905\n\nChange-Id: Ibb331b75b45dece8a9c4b2268155ec825f29979b\nblueprint: qos-minimum-guaranteed-packet-rate\n'}]",12,794306,f68d30bff3d8cccf758547807bf7db02dbba34ee,109,5,11,9708,,,0,"[func test] neutron fixture for extended resource request

By adding a new NeutronFixture derivative we can simulate that Neutron
supports the new port-resource-request-groups API extension and
returns the new nested structure in the resource_request attribute of
the port.

Depends-On: https://review.opendev.org/c/openstack/neutron-lib/+/803905

Change-Id: Ibb331b75b45dece8a9c4b2268155ec825f29979b
blueprint: qos-minimum-guaranteed-packet-rate
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/794306/10 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures/neutron.py', 'nova/tests/fixtures/__init__.py']",2,b924836ddb0c0100368c34f95e477e1757c2c1b3,bp/qos-minimum-guaranteed-packet-rate,from .neutron import ExtendedResourceRequestNeutronFixture # noqa: F401,,96,0
openstack%2Fnova~master~I2c55d9da13a570efbc1c862116cea31aaa6aa02e,openstack/nova,master,I2c55d9da13a570efbc1c862116cea31aaa6aa02e,Reject server create with extended resource req,MERGED,2021-05-28 16:25:36.000000000,2021-08-31 00:52:42.000000000,2021-08-31 00:52:42.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-28 16:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/01f28d170f84b7f9a3cbd3b005805baf9a3cd883', 'message': 'Reject server create with extended resource req\n\nTo prepare for the unlikely event that Neutron merges and an operator\nenables the extended resource request neutron API extension before nova\nadds support for it, this patch rejects server creation if such\nextension is enabled in Neutron. Enabling that extension has zero\nbenefits without nova support hence the harsh but simple rejection.\n\nA subsequent patch will reject server lifecycle operations in a more\nsophisticated way as as soon as we support some operations then, like\nboot, the deployer might rightfully choose to enable the Neutron\nextension.\n\nTODO:\n* functional test\n* unit test\n* doc update\n* reno\n\nChange-Id: I2c55d9da13a570efbc1c862116cea31aaa6aa02e\n'}, {'number': 2, 'created': '2021-06-02 17:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/653235f4d74ea67beb63cbf087dc9cf326e4e54d', 'message': 'Reject server create with extended resource req\n\nTo prepare for the unlikely event that Neutron merges and an operator\nenables the extended resource request neutron API extension before nova\nadds support for it, this patch rejects server creation if such\nextension is enabled in Neutron. Enabling that extension has zero\nbenefits without nova support hence the harsh but simple rejection.\n\nA subsequent patch will reject server lifecycle operations in a more\nsophisticated way and as soon as we support some operations, like\nboot, the deployer might rightfully choose to enable the Neutron\nextension.\n\nTODO:\n* doc update\n* reno\n\nChange-Id: I2c55d9da13a570efbc1c862116cea31aaa6aa02e\n'}, {'number': 3, 'created': '2021-06-03 16:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfd8280ac4f240293a6f2b19769ca96d500ef465', 'message': 'Reject server create with extended resource req\n\nTo prepare for the unlikely event that Neutron merges and an operator\nenables the extended resource request neutron API extension before nova\nadds support for it, this patch rejects server creation if such\nextension is enabled in Neutron. Enabling that extension has zero\nbenefits without nova support hence the harsh but simple rejection.\n\nA subsequent patch will reject server lifecycle operations in a more\nsophisticated way and as soon as we support some operations, like\nboot, the deployer might rightfully choose to enable the Neutron\nextension.\n\nTODO:\n* doc update\n* reno\n\nChange-Id: I2c55d9da13a570efbc1c862116cea31aaa6aa02e\n'}, {'number': 4, 'created': '2021-06-04 13:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b36486bc2055ab550e9a7bc1a777a849f0442249', 'message': 'Reject server create with extended resource req\n\nTo prepare for the unlikely event that Neutron merges and an operator\nenables the extended resource request neutron API extension before nova\nadds support for it, this patch rejects server creation if such\nextension is enabled in Neutron. Enabling that extension has zero\nbenefits without nova support hence the harsh but simple rejection.\n\nA subsequent patch will reject server lifecycle operations in a more\nsophisticated way and as soon as we support some operations, like\nboot, the deployer might rightfully choose to enable the Neutron\nextension.\n\nTODO:\n* doc update\n* reno\n\nChange-Id: I2c55d9da13a570efbc1c862116cea31aaa6aa02e\n'}, {'number': 5, 'created': '2021-06-14 11:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e920aac86e47640cf3c058a14d6b2cd8a179cb26', 'message': 'Reject server create with extended resource req\n\nTo prepare for the unlikely event that Neutron merges and an operator\nenables the extended resource request neutron API extension before nova\nadds support for it, this patch rejects server creation if such\nextension is enabled in Neutron. Enabling that extension has zero\nbenefits without nova support hence the harsh but simple rejection.\n\nA subsequent patch will reject server lifecycle operations in a more\nsophisticated way and as soon as we support some operations, like\nboot, the deployer might rightfully choose to enable the Neutron\nextension.\n\nTODO:\n* doc update\n* reno\n\nChange-Id: I2c55d9da13a570efbc1c862116cea31aaa6aa02e\n'}, {'number': 6, 'created': '2021-06-25 16:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43cdcae3ccec5b367f65271da96c15a782b650fd', 'message': 'Reject server create with extended resource req\n\nTo prepare for the unlikely event that Neutron merges and an operator\nenables the extended resource request neutron API extension before nova\nadds support for it, this patch rejects server creation if such\nextension is enabled in Neutron. Enabling that extension has zero\nbenefits without nova support hence the harsh but simple rejection.\n\nA subsequent patch will reject server lifecycle operations in a more\nsophisticated way and as soon as we support some operations, like\nboot, the deployer might rightfully choose to enable the Neutron\nextension.\n\nTODO:\n* doc update\n* reno\n\nChange-Id: I2c55d9da13a570efbc1c862116cea31aaa6aa02e\n'}, {'number': 7, 'created': '2021-07-07 15:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02e5f8673ecdc125121c1e30c77e7143a212b961', 'message': 'Reject server create with extended resource req\n\nTo prepare for the unlikely event that Neutron merges and an operator\nenables the extended resource request neutron API extension before nova\nadds support for it, this patch rejects server creation if such\nextension is enabled in Neutron. Enabling that extension has zero\nbenefits without nova support hence the harsh but simple rejection.\n\nA subsequent patch will reject server lifecycle operations in a more\nsophisticated way and as soon as we support some operations, like\nboot, the deployer might rightfully choose to enable the Neutron\nextension.\n\nTODO:\n* doc update\n* reno\n\nChange-Id: I2c55d9da13a570efbc1c862116cea31aaa6aa02e\n'}, {'number': 8, 'created': '2021-07-15 17:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e19ce85b06e83275b28c07b97eb5be729f90c866', 'message': 'Reject server create with extended resource req\n\nTo prepare for the unlikely event that Neutron merges and an operator\nenables the extended resource request neutron API extension before nova\nadds support for it, this patch rejects server creation if such\nextension is enabled in Neutron. Enabling that extension has zero\nbenefits without nova support hence the harsh but simple rejection.\n\nA subsequent patch will reject server lifecycle operations in a more\nsophisticated way and as soon as we support some operations, like\nboot, the deployer might rightfully choose to enable the Neutron\nextension.\n\nTODO:\n* doc update\n* reno\n\nChange-Id: I2c55d9da13a570efbc1c862116cea31aaa6aa02e\n'}, {'number': 9, 'created': '2021-07-15 18:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c52bc8f93ff2f444a6d1243183922bef748f5e3', 'message': 'Reject server create with extended resource req\n\nTo prepare for the unlikely event that Neutron merges and an operator\nenables the extended resource request neutron API extension before nova\nadds support for it, this patch rejects server creation if such\nextension is enabled in Neutron. Enabling that extension has zero\nbenefits without nova support hence the harsh but simple rejection.\n\nA subsequent patch will reject server lifecycle operations in a more\nsophisticated way and as soon as we support some operations, like\nboot, the deployer might rightfully choose to enable the Neutron\nextension.\n\nTODO:\n* doc update\n* reno\n\nChange-Id: I2c55d9da13a570efbc1c862116cea31aaa6aa02e\n'}, {'number': 10, 'created': '2021-07-16 16:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/36707588870d625aca5f59ad59eb36c9f47c729e', 'message': 'Reject server create with extended resource req\n\nTo prepare for the unlikely event that Neutron merges and an operator\nenables the extended resource request neutron API extension before nova\nadds support for it, this patch rejects server creation if such\nextension is enabled in Neutron. Enabling that extension has zero\nbenefits without nova support hence the harsh but simple rejection.\n\nA subsequent patch will reject server lifecycle operations in a more\nsophisticated way and as soon as we support some operations, like\nboot, the deployer might rightfully choose to enable the Neutron\nextension.\n\nTODO:\n* doc update\n* reno\n\nChange-Id: I2c55d9da13a570efbc1c862116cea31aaa6aa02e\n'}, {'number': 11, 'created': '2021-07-19 13:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc707790537907bac7e9823cb8faa80cbe43f60b', 'message': 'Reject server create with extended resource req\n\nTo prepare for the unlikely event that Neutron merges and an operator\nenables the extended resource request neutron API extension before nova\nadds support for it, this patch rejects server creation if such\nextension is enabled in Neutron. Enabling that extension has zero\nbenefits without nova support hence the harsh but simple rejection.\n\nA subsequent patch will reject server lifecycle operations in a more\nsophisticated way and as soon as we support some operations, like\nboot, the deployer might rightfully choose to enable the Neutron\nextension.\n\nChange-Id: I2c55d9da13a570efbc1c862116cea31aaa6aa02e\n'}, {'number': 12, 'created': '2021-07-22 13:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be6d078f923b41b42cdfd7d208a6a30b32b735dc', 'message': 'Reject server create with extended resource req\n\nTo prepare for the unlikely event that Neutron merges and an operator\nenables the extended resource request neutron API extension before nova\nadds support for it, this patch rejects server creation if such\nextension is enabled in Neutron. Enabling that extension has zero\nbenefits without nova support hence the harsh but simple rejection.\n\nA subsequent patch will reject server lifecycle operations in a more\nsophisticated way and as soon as we support some operations, like\nboot, the deployer might rightfully choose to enable the Neutron\nextension.\n\nChange-Id: I2c55d9da13a570efbc1c862116cea31aaa6aa02e\n'}, {'number': 13, 'created': '2021-08-16 17:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a016d37856df1be4f227205d8a44a1f72cb7d82', 'message': 'Reject server create with extended resource req\n\nTo prepare for the unlikely event that Neutron merges and an operator\nenables the port-resource-request-groups neutron API extension before\nnova adds support for it, this patch rejects server creation if such\nextension is enabled in Neutron. Enabling that extension has zero\nbenefits without nova support hence the harsh but simple rejection.\n\nA subsequent patch will reject server lifecycle operations in a more\nsophisticated way and as soon as we support some operations, like\nboot, the deployer might rightfully choose to enable the Neutron\nextension.\n\nChange-Id: I2c55d9da13a570efbc1c862116cea31aaa6aa02e\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 14, 'created': '2021-08-16 17:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e53c0c8e7c327a8c1a9db35126734666b44d46d8', 'message': 'Reject server create with extended resource req\n\nTo prepare for the unlikely event that Neutron merges and an operator\nenables the port-resource-request-groups neutron API extension before\nnova adds support for it, this patch rejects server creation if such\nextension is enabled in Neutron. Enabling that extension has zero\nbenefits without nova support hence the harsh but simple rejection.\n\nA subsequent patch will reject server lifecycle operations in a more\nsophisticated way and as soon as we support some operations, like\nboot, the deployer might rightfully choose to enable the Neutron\nextension.\n\nChange-Id: I2c55d9da13a570efbc1c862116cea31aaa6aa02e\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 15, 'created': '2021-08-21 12:33:35.000000000', 'files': ['doc/source/admin/ports-with-resource-requests.rst', 'nova/tests/unit/network/test_neutron.py', 'nova/exception.py', 'nova/network/neutron.py', 'api-guide/source/port_with_resource_request.rst', 'nova/api/openstack/compute/servers.py', 'nova/tests/functional/test_servers_resource_request.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e357ad3c2354f1c22cd5b569a2f0ec23c9c06753', 'message': 'Reject server create with extended resource req\n\nTo prepare for the unlikely event that Neutron merges and an operator\nenables the port-resource-request-groups neutron API extension before\nnova adds support for it, this patch rejects server creation if such\nextension is enabled in Neutron. Enabling that extension has zero\nbenefits without nova support hence the harsh but simple rejection.\n\nA subsequent patch will reject server lifecycle operations in a more\nsophisticated way and as soon as we support some operations, like\nboot, the deployer might rightfully choose to enable the Neutron\nextension.\n\nChange-Id: I2c55d9da13a570efbc1c862116cea31aaa6aa02e\nblueprint: qos-minimum-guaranteed-packet-rate\n'}]",32,793619,e357ad3c2354f1c22cd5b569a2f0ec23c9c06753,130,4,15,9708,,,0,"Reject server create with extended resource req

To prepare for the unlikely event that Neutron merges and an operator
enables the port-resource-request-groups neutron API extension before
nova adds support for it, this patch rejects server creation if such
extension is enabled in Neutron. Enabling that extension has zero
benefits without nova support hence the harsh but simple rejection.

A subsequent patch will reject server lifecycle operations in a more
sophisticated way and as soon as we support some operations, like
boot, the deployer might rightfully choose to enable the Neutron
extension.

Change-Id: I2c55d9da13a570efbc1c862116cea31aaa6aa02e
blueprint: qos-minimum-guaranteed-packet-rate
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/793619/12 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/servers.py'],1,01f28d170f84b7f9a3cbd3b005805baf9a3cd883,bp/qos-minimum-guaranteed-packet-rate," if self.network_api.has_extended_resource_request_extension(context): msg = _( ""The extended_resource_request neutron API extension not yet "" ""supported by Nova. Please turn off this extension in Neutron."" ) raise exc.HTTPBadRequest(explanation=msg) ",,7,0
openstack%2Fnova~master~I4b400d499b9f594798f2da6d16f21204371a9f42,openstack/nova,master,I4b400d499b9f594798f2da6d16f21204371a9f42,Detect port-resource-request-groups neutron API extension,MERGED,2021-05-28 16:24:17.000000000,2021-08-31 00:52:27.000000000,2021-08-31 00:52:27.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-28 16:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9746779532a9a664c34f0a9d23346adf7f29f3d3', 'message': 'Detect extended_resource_request neutron API extension\n\nThe new neutron API extension signals the format change of the\nresource_request field of the port. This patch only adds functions to\ndetect the existence of such extension. Later patches will adapt Nova\nfor the new format.\n\nTODO:\n* unit test coverage\n* add a depens-on to the neutron patch introducing the extension so\n  we can sync the name of the extension\n\nChange-Id: I4b400d499b9f594798f2da6d16f21204371a9f42\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 2, 'created': '2021-06-02 17:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ccd3a078b164abf971e11f485372859319ccf84', 'message': 'Detect extended_resource_request neutron API extension\n\nThe new neutron API extension signals the format change of the\nresource_request field of the port. This patch only adds functions to\ndetect the existence of such extension. Later patches will adapt Nova\nfor the new format.\n\nTODO:\n* unit test coverage\n* add a depens-on to the neutron patch introducing the extension so\n  we can sync the name of the extension\n\nChange-Id: I4b400d499b9f594798f2da6d16f21204371a9f42\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 3, 'created': '2021-06-03 16:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8738273fb861552411d4d6b8062e578fc0bfaf38', 'message': 'Detect extended_resource_request neutron API extension\n\nThe new neutron API extension signals the format change of the\nresource_request field of the port. This patch only adds functions to\ndetect the existence of such extension. Later patches will adapt Nova\nfor the new format.\n\nTODO:\n* add a depens-on to the neutron patch introducing the extension so\n  we can sync the name of the extension\n\nChange-Id: I4b400d499b9f594798f2da6d16f21204371a9f42\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 4, 'created': '2021-06-14 11:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d936a794f2cfdb3732b593ef2aa618bae3900499', 'message': 'Detect extended_resource_request neutron API extension\n\nThe new neutron API extension signals the format change of the\nresource_request field of the port. This patch only adds functions to\ndetect the existence of such extension. Later patches will adapt Nova\nfor the new format.\n\nTODO:\n* add a depens-on to the neutron patch introducing the extension so\n  we can sync the name of the extension\n\nChange-Id: I4b400d499b9f594798f2da6d16f21204371a9f42\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 5, 'created': '2021-06-25 16:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/557d07e06088e3765b398cd57351a462c4a2a1dd', 'message': 'Detect extended_resource_request neutron API extension\n\nThe new neutron API extension signals the format change of the\nresource_request field of the port. This patch only adds functions to\ndetect the existence of such extension. Later patches will adapt Nova\nfor the new format.\n\nTODO:\n* add a depens-on to the neutron patch introducing the extension so\n  we can sync the name of the extension\n\nChange-Id: I4b400d499b9f594798f2da6d16f21204371a9f42\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 6, 'created': '2021-07-07 15:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/914540c31dd64180ddac1332d10c53e36c78213e', 'message': 'Detect extended_resource_request neutron API extension\n\nThe new neutron API extension signals the format change of the\nresource_request field of the port. This patch only adds functions to\ndetect the existence of such extension. Later patches will adapt Nova\nfor the new format.\n\nTODO:\n* add a depens-on to the neutron patch introducing the extension so\n  we can sync the name of the extension\n\nChange-Id: I4b400d499b9f594798f2da6d16f21204371a9f42\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 7, 'created': '2021-07-15 17:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1b337be67221cdf1b8e68fdc20e05cb8cbf01ba', 'message': 'Detect extended_resource_request neutron API extension\n\nThe new neutron API extension signals the format change of the\nresource_request field of the port. This patch only adds functions to\ndetect the existence of such extension. Later patches will adapt Nova\nfor the new format.\n\nTODO:\n* add a depens-on to the neutron patch introducing the extension so\n  we can sync the name of the extension\n\nChange-Id: I4b400d499b9f594798f2da6d16f21204371a9f42\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 8, 'created': '2021-07-15 18:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f024efa79adf3415f47ffc0ce06043e85390bed9', 'message': 'Detect extended_resource_request neutron API extension\n\nThe new neutron API extension signals the format change of the\nresource_request field of the port. This patch only adds functions to\ndetect the existence of such extension. Later patches will adapt Nova\nfor the new format.\n\nTODO:\n* add a depens-on to the neutron patch introducing the extension so\n  we can sync the name of the extension\n\nChange-Id: I4b400d499b9f594798f2da6d16f21204371a9f42\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 9, 'created': '2021-07-16 16:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d507f20857bb2a2fc5c9b24ba1f73cb0888f00a9', 'message': 'Detect extended_resource_request neutron API extension\n\nThe new neutron API extension signals the format change of the\nresource_request field of the port. This patch only adds functions to\ndetect the existence of such extension. Later patches will adapt Nova\nfor the new format.\n\nTODO:\n* add a depens-on to the neutron patch introducing the extension so\n  we can sync the name of the extension\n\nChange-Id: I4b400d499b9f594798f2da6d16f21204371a9f42\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 10, 'created': '2021-07-22 12:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d859717d79fbd001710b11e0f3ef51a6ed75c75', 'message': 'Detect extended_resource_request neutron API extension\n\nThe new neutron API extension signals the format change of the\nresource_request field of the port. This patch only adds functions to\ndetect the existence of such extension. Later patches will adapt Nova\nfor the new format.\n\nTODO:\n* add a depens-on to the neutron patch introducing the extension so\n  we can sync the name of the extension\n\nChange-Id: I4b400d499b9f594798f2da6d16f21204371a9f42\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 11, 'created': '2021-08-16 17:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/296c9e8e8dff308e68b92ee5c0e42d50bfe58125', 'message': 'Detect port-resource-request-groups neutron API extension\n\nThe new neutron API extension signals the format change of the\nresource_request field of the port. This patch only adds functions to\ndetect the existence of such extension. Later patches will adapt Nova\nfor the new format.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/803905\n\nChange-Id: I4b400d499b9f594798f2da6d16f21204371a9f42\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 12, 'created': '2021-08-16 17:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63f10be3718a0d8eeee972a4c1577a69817f7c4d', 'message': 'Detect port-resource-request-groups neutron API extension\n\nThe new neutron API extension signals the format change of the\nresource_request field of the port. This patch only adds functions to\ndetect the existence of such extension. Later patches will adapt Nova\nfor the new format.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/803905\n\nChange-Id: I4b400d499b9f594798f2da6d16f21204371a9f42\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 13, 'created': '2021-08-21 12:33:35.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/network/constants.py', 'nova/network/neutron.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/017b0a3d2332b1d3d20c2aa51ae9605f6c7676ee', 'message': 'Detect port-resource-request-groups neutron API extension\n\nThe new neutron API extension signals the format change of the\nresource_request field of the port. This patch only adds functions to\ndetect the existence of such extension. Later patches will adapt Nova\nfor the new format.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/803905\n\nChange-Id: I4b400d499b9f594798f2da6d16f21204371a9f42\nblueprint: qos-minimum-guaranteed-packet-rate\n'}]",21,793618,017b0a3d2332b1d3d20c2aa51ae9605f6c7676ee,116,4,13,9708,,,0,"Detect port-resource-request-groups neutron API extension

The new neutron API extension signals the format change of the
resource_request field of the port. This patch only adds functions to
detect the existence of such extension. Later patches will adapt Nova
for the new format.

Depends-On: https://review.opendev.org/c/openstack/neutron-lib/+/803905

Change-Id: I4b400d499b9f594798f2da6d16f21204371a9f42
blueprint: qos-minimum-guaranteed-packet-rate
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/793618/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/constants.py', 'nova/network/neutron.py']",2,9746779532a9a664c34f0a9d23346adf7f29f3d3,bp/qos-minimum-guaranteed-packet-rate," def _has_resource_request(self, context, port, neutron): resource_request = port.get(constants.RESOURCE_REQUEST, {}) if self.has_extended_resource_request_extension(context, neutron): return bool(resource_request.get(constants.REQUEST_GROUPS, [])) else: return bool(resource_request) def has_extended_resource_request_extension(self, context, neutron=None): self._refresh_neutron_extensions_cache(context, neutron=neutron) return constants.EXTENDED_RESOURCE_REQUEST in self.extensions ",,13,0
openstack%2Fdesignate~master~I0cdfa1decd28096b7135b820b01ee7ec17b1a57d,openstack/designate,master,I0cdfa1decd28096b7135b820b01ee7ec17b1a57d,CERT DNS records,MERGED,2021-07-25 09:36:30.000000000,2021-08-31 00:51:09.000000000,2021-08-31 00:49:33.000000000,"[{'_account_id': 11628}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-07-25 09:36:30.000000000', 'files': ['designate/storage/impl_sqlalchemy/tables.py', 'designate/tests/unit/objects/test_cert_object.py', 'designate/storage/impl_sqlalchemy/migrate_repo/versions/103_support_cert_records.py', 'doc/source/contributor/sourcedoc/objects.rst', 'designate/objects/rrdata_cert.py', 'releasenotes/notes/CERT_records-eb9b786f480851ff.yaml', 'designate/conf/base.py', 'designate/tests/test_central/test_service.py', 'contrib/archive/backends/impl_ipa/__init__.py', 'designate/objects/fields.py', 'designate/objects/__init__.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/e7b024660938d0b55ead1fa8556dca1d22c7bb59', 'message': 'CERT DNS records\n\nThis patchset adds support for DNS CERT Resource Record which is\ndescribed in RFC 4398\n(https://tools.ietf.org/html/rfc4398)\n\nCloses-Bug: 1937113\nChange-Id: I0cdfa1decd28096b7135b820b01ee7ec17b1a57d\n'}]",0,802190,e7b024660938d0b55ead1fa8556dca1d22c7bb59,13,4,1,32919,,,0,"CERT DNS records

This patchset adds support for DNS CERT Resource Record which is
described in RFC 4398
(https://tools.ietf.org/html/rfc4398)

Closes-Bug: 1937113
Change-Id: I0cdfa1decd28096b7135b820b01ee7ec17b1a57d
",git fetch https://review.opendev.org/openstack/designate refs/changes/90/802190/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/storage/impl_sqlalchemy/tables.py', 'designate/tests/unit/objects/test_cert_object.py', 'designate/storage/impl_sqlalchemy/migrate_repo/versions/103_support_cert_records.py', 'designate/objects/rrdata_cert.py', 'doc/source/contributor/sourcedoc/objects.rst', 'releasenotes/notes/CERT_records-eb9b786f480851ff.yaml', 'designate/conf/base.py', 'designate/tests/test_central/test_service.py', 'contrib/archive/backends/impl_ipa/__init__.py', 'designate/objects/__init__.py', 'designate/objects/fields.py']",11,e7b024660938d0b55ead1fa8556dca1d22c7bb59,bug/1937113," RE_CERT_TYPE = r'(^[A-Z]+$)|(^[0-9]+$)' RE_CERT_ALGO = r'(^[A-Z]+[A-Z0-9\-]+[A-Z0-9]$)|(^[0-9]+$)'class CertTypeField(StringFields): def __init__(self, **kwargs): super(CertTypeField, self).__init__(**kwargs) def coerce(self, obj, attr, value): value = super(CertTypeField, self).coerce(obj, attr, value) if not re.match(self.RE_CERT_TYPE, ""%s"" % value): raise ValueError(""Cert type %s is not a valid Mnemonic or "" ""value"" % value) return value class CertAlgoField(StringFields): def __init__(self, **kwargs): super(CertAlgoField, self).__init__(**kwargs) def coerce(self, obj, attr, value): value = super(CertAlgoField, self).coerce(obj, attr, value) if not re.match(self.RE_CERT_ALGO, ""%s"" % value): raise ValueError(""Cert Algo %s is not a valid Mnemonic or "" ""value"" % value) return value ",,261,3
openstack%2Fcinder~master~I0bb646e9bfaa252cf46d082b54fa3a03c8e94e9d,openstack/cinder,master,I0bb646e9bfaa252cf46d082b54fa3a03c8e94e9d,DNM: Fake policies - yoga,NEW,2021-08-24 02:04:04.000000000,2021-08-30 23:21:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-24 02:04:04.000000000', 'files': ['cinder/policies/fakes.py', 'cinder/policies/base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/86f5e6e3eeda35955c95dbc354aa8678e3b80966', 'message': 'DNM: Fake policies - yoga\n\nChange-Id: I0bb646e9bfaa252cf46d082b54fa3a03c8e94e9d\n'}]",0,805771,86f5e6e3eeda35955c95dbc354aa8678e3b80966,17,1,1,5314,,,0,"DNM: Fake policies - yoga

Change-Id: I0bb646e9bfaa252cf46d082b54fa3a03c8e94e9d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/805771/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/policies/fakes.py', 'cinder/policies/base.py']",2,86f5e6e3eeda35955c95dbc354aa8678e3b80966,fake-policies,# from oslo_log import versionutilsSYSTEM_READER_OR_PROJECT_READER = _YOGA_SYSTEM_READER_OR_PROJECT_READER SYSTEM_ADMIN_OR_PROJECT_MEMBER = _YOGA_SYSTEM_ADMIN_OR_PROJECT_MEMBER SYSTEM_ADMIN_ONLY = _YOGA_SYSTEM_ADMIN_ONLYDEPRECATED_REASON = _YOGA_DEPRECATED_REASON DEPRECATED_SINCE = 'Y' # versionutils.deprecated.YOGA not defined yet return xena_rule_defaults + yoga_rule_defaults,from oslo_log import versionutils# TODO: update the following in Yoga SYSTEM_READER_OR_PROJECT_READER = XENA_SYSTEM_READER_OR_PROJECT_READER # SYSTEM_READER_OR_PROJECT_READER = _YOGA_SYSTEM_READER_OR_PROJECT_READER SYSTEM_ADMIN_OR_PROJECT_MEMBER = XENA_SYSTEM_ADMIN_OR_PROJECT_MEMBER # SYSTEM_ADMIN_OR_PROJECT_MEMBER = _YOGA_SYSTEM_ADMIN_OR_PROJECT_MEMBER # We won't be using this one in Xena. System-admin-only rules will NOT be # modified during Xena development. # SYSTEM_ADMIN_ONLY = XENA_SYSTEM_ADMIN_ONLY # SYSTEM_ADMIN_ONLY = _YOGA_SYSTEM_ADMIN_ONLY# TODO: change these in Yoga DEPRECATED_REASON = _XENA_DEPRECATED_REASON DEPRECATED_SINCE = versionutils.deprecated.XENA return legacy_rule_defaults + xena_rule_defaults,46,43
openstack%2Ftempest~master~I72eb8f9640a45a069582dfb018ce7317d4a8c32e,openstack/tempest,master,I72eb8f9640a45a069582dfb018ce7317d4a8c32e,Always enable project tags Identity tests,MERGED,2021-08-11 11:14:38.000000000,2021-08-30 23:16:24.000000000,2021-08-30 23:14:31.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-08-11 11:14:38.000000000', 'files': ['tempest/config.py', 'releasenotes/notes/deprecate-and-enable-identity-project-tags-23b87518888e563a.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/be427bf02cc30fa402ce33b536338ebde4b38340', 'message': 'Always enable project tags Identity tests\n\nThe feature is enabled since Queens, so turn on the testing by default\nand deprecate the option.\n\nChange-Id: I72eb8f9640a45a069582dfb018ce7317d4a8c32e\n'}]",0,804225,be427bf02cc30fa402ce33b536338ebde4b38340,25,3,1,10459,,,0,"Always enable project tags Identity tests

The feature is enabled since Queens, so turn on the testing by default
and deprecate the option.

Change-Id: I72eb8f9640a45a069582dfb018ce7317d4a8c32e
",git fetch https://review.opendev.org/openstack/tempest refs/changes/25/804225/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/config.py', 'releasenotes/notes/deprecate-and-enable-identity-project-tags-23b87518888e563a.yaml']",2,be427bf02cc30fa402ce33b536338ebde4b38340,always-enable-identity-project-tags,"--- upgrade: - | Project tags are supported by Keystone since Queens. As Tempest currently supports only much newer OpenStack versions (Ussuri or later), the configuration option which enables project tags testing (``CONF.identity-feature-enabled.project_tags``) is now enabled by default. deprecations: - | Project tags are supported by Keystone since Queens. As Tempest currently supports only much newer OpenStack versions (Ussuri or later), the configuration option which enables project tags testing (``CONF.identity-feature-enabled.project_tags``) is now deprecated. ",,22,2
openstack%2Ftripleo-heat-templates~master~Idbafdaced85c945d38940be83c1a269c73e4cb6b,openstack/tripleo-heat-templates,master,Idbafdaced85c945d38940be83c1a269c73e4cb6b,Disable cephadm when ceph is deployed,MERGED,2021-08-26 09:15:01.000000000,2021-08-30 23:02:32.000000000,2021-08-30 23:02:32.000000000,"[{'_account_id': 6796}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-08-26 09:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc71d172fc4f586dfecfe836762fe5fcdf687f0e', 'message': ""Disable cephadm when ceph is deployed\n\nAfter ceph is deployed, which means day1 operations are over\nand the Ceph cluster daemons are up && running, cephadm can\nbe paused by running the 'disable_cephadm' playbook.\nThis can be triggered at step3 (to ensure all the daemons are\nstarted) and can be triggered by the DisableCephadm exposed\nparameter.\n\nDepends-On: I5952bb8a7a327e37a39acc95751cd5746fd9a41d\nChange-Id: Idbafdaced85c945d38940be83c1a269c73e4cb6b\n""}, {'number': 2, 'created': '2021-08-26 12:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3d59d9dfadbfc39bfbe0e2ef0ce75804c6f1be47', 'message': ""Disable cephadm when ceph is deployed\n\nAfter ceph is deployed, which means day1 operations are over\nand the Ceph cluster daemons are up && running, cephadm can\nbe paused by running the 'disable_cephadm' playbook.\nThis can be triggered at step3 (to ensure all the daemons are\nstarted) and can be triggered by the DisableCephadm exposed\nparameter.\n\nDepends-On: I5952bb8a7a327e37a39acc95751cd5746fd9a41d\nChange-Id: Idbafdaced85c945d38940be83c1a269c73e4cb6b\n""}, {'number': 3, 'created': '2021-08-26 18:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2ba4b24751f52b6bb8b8cd0ebecf3b3a05a4f85e', 'message': ""Disable cephadm when ceph is deployed\n\nAfter ceph is deployed, which means day1 operations are over\nand the Ceph cluster daemons are up && running, cephadm can\nbe paused by running the 'disable_cephadm' playbook.\nThis can be triggered at step3 (to ensure all the daemons are\nstarted) and can be triggered by the DisableCephadm exposed\nparameter.\n\nDepends-On: I5952bb8a7a327e37a39acc95751cd5746fd9a41d\nChange-Id: Idbafdaced85c945d38940be83c1a269c73e4cb6b\n""}, {'number': 4, 'created': '2021-08-27 07:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c218ddf7857a365e5b725bbfd12530fbaf282afd', 'message': ""Disable cephadm when ceph is deployed\n\nAfter ceph is deployed, which means day1 operations are over\nand the Ceph cluster daemons are up && running, cephadm can\nbe paused by running the 'disable_cephadm' playbook.\nThis can be triggered at step3 (to ensure all the daemons are\nstarted) and can be triggered by the DisableCephadm exposed\nparameter.\n\nDepends-On: I5952bb8a7a327e37a39acc95751cd5746fd9a41d\nChange-Id: Idbafdaced85c945d38940be83c1a269c73e4cb6b\n""}, {'number': 5, 'created': '2021-08-27 11:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/12ed9931942dd549d48fd97186d11ad101819206', 'message': ""Disable cephadm when ceph is deployed\n\nAfter ceph is deployed, which means day1 operations are over\nand the Ceph cluster daemons are up && running, cephadm can\nbe paused by running the 'disable_cephadm' playbook.\nThis can be triggered at step3 (to ensure all the daemons are\nstarted) and can be triggered by the DisableCephadm exposed\nparameter.\n\nDepends-On: I5952bb8a7a327e37a39acc95751cd5746fd9a41d\nChange-Id: Idbafdaced85c945d38940be83c1a269c73e4cb6b\n""}, {'number': 6, 'created': '2021-08-27 15:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1bab9a97c9790f32da95160f12495eac488dd144', 'message': ""Disable cephadm when ceph is deployed\n\nAfter ceph is deployed, which means day1 operations are over\nand the Ceph cluster daemons are up && running, cephadm can\nbe paused by running the 'disable_cephadm' playbook.\nThis can be triggered at step3 (to ensure all the daemons are\nstarted) and can be triggered by the DisableCephadm exposed\nparameter.\n\nCloses-Bug: 1940866\nDepends-On: I5952bb8a7a327e37a39acc95751cd5746fd9a41d\nChange-Id: Idbafdaced85c945d38940be83c1a269c73e4cb6b\n""}, {'number': 7, 'created': '2021-08-27 20:35:52.000000000', 'files': ['ci/environments/scenario004-standalone.yaml', 'deployment/cephadm/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/733d1bad46bb17b7e68bc61af47819423aaf6efc', 'message': ""Disable cephadm when ceph is deployed\n\nAfter ceph is deployed, which means day1 operations are over\nand the Ceph cluster daemons are up && running, cephadm can\nbe paused by running the 'disable_cephadm' playbook.\nThis can be triggered at step3 (to ensure all the daemons are\nstarted) and can be triggered by the DisableCephadm exposed\nparameter.\n\nCloses-Bug: 1940866\nDepends-On: I5952bb8a7a327e37a39acc95751cd5746fd9a41d\nChange-Id: Idbafdaced85c945d38940be83c1a269c73e4cb6b\n""}]",1,806122,733d1bad46bb17b7e68bc61af47819423aaf6efc,41,7,7,25402,,,0,"Disable cephadm when ceph is deployed

After ceph is deployed, which means day1 operations are over
and the Ceph cluster daemons are up && running, cephadm can
be paused by running the 'disable_cephadm' playbook.
This can be triggered at step3 (to ensure all the daemons are
started) and can be triggered by the DisableCephadm exposed
parameter.

Closes-Bug: 1940866
Depends-On: I5952bb8a7a327e37a39acc95751cd5746fd9a41d
Change-Id: Idbafdaced85c945d38940be83c1a269c73e4cb6b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/806122/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cephadm/ceph-base.yaml'],1,bc71d172fc4f586dfecfe836762fe5fcdf687f0e,disable_cephadm, DisableCephadm: default: false type: boolean description: Disable cephadm after Ceph is deployed - name: ceph_base_external_deploy_task when: - (step | int) == 3 - {get_param: DisableCephadm} tags: - ceph block: - name: Pause cephadm include_role: name: tripleo_run_cephadm tasks_from: disable_cephadm.yml,,15,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~I5952bb8a7a327e37a39acc95751cd5746fd9a41d,openstack/tripleo-ansible,stable/wallaby,I5952bb8a7a327e37a39acc95751cd5746fd9a41d,Disable cephadm when ceph is deployed,MERGED,2021-08-30 14:43:47.000000000,2021-08-30 23:02:30.000000000,2021-08-30 23:02:30.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-30 14:43:47.000000000', 'files': ['tripleo_ansible/playbooks/disable_cephadm.yml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/toggle_cephadm.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/disable_cephadm.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b1774f69f025754c6bfe57591953f602d6cf63fb', 'message': ""Disable cephadm when ceph is deployed\n\nAfter ceph is deployed, which means day1 operations are over\nand the Ceph cluster daemons are up && running, cephadm can\nbe paused by running the 'disable_cephadm' playbook.\n\nChange-Id: I5952bb8a7a327e37a39acc95751cd5746fd9a41d\n(cherry picked from commit 3234029022cc7bb8e1dce890492470ec3c35fbeb)\n""}]",0,806522,b1774f69f025754c6bfe57591953f602d6cf63fb,10,4,1,25402,,,0,"Disable cephadm when ceph is deployed

After ceph is deployed, which means day1 operations are over
and the Ceph cluster daemons are up && running, cephadm can
be paused by running the 'disable_cephadm' playbook.

Change-Id: I5952bb8a7a327e37a39acc95751cd5746fd9a41d
(cherry picked from commit 3234029022cc7bb8e1dce890492470ec3c35fbeb)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/22/806522/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/disable_cephadm.yml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/toggle_cephadm.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/disable_cephadm.yml']",4,b1774f69f025754c6bfe57591953f602d6cf63fb,disable_cephadm,"--- # Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Setup the disable_cephadm playbook command set_fact: cephadm_disable_cephadm_command: - ANSIBLE_LOG_PATH=""{{ playbook_dir }}/cephadm/disable_cephadm.log"" - ANSIBLE_HOST_KEY_CHECKING=false - ansible-playbook - '-i' - '{{ inventory_file }}' - '{% if ansible_python_interpreter is defined %}-e ansible_python_interpreter={{ ansible_python_interpreter }}{% endif %}' - '/usr/share/ansible/tripleo-playbooks/disable_cephadm.yml' - '-e @{{ playbook_dir }}/cephadm/cephadm-extra-vars-heat.yml' - '-e @{{ playbook_dir }}/global_vars.yaml' - name: Run disable_cephadm shell: ""{{ (cephadm_disable_cephadm_command)|join(' ') }}"" tags: - disable_cephadm ",,91,0
openstack%2Fgovernance~master~I142d25af045eac5fa2df370a46d0855f70e07dae,openstack/governance,master,I142d25af045eac5fa2df370a46d0855f70e07dae,Add two more release liasons for Keystone,MERGED,2021-08-30 16:17:59.000000000,2021-08-30 22:08:45.000000000,2021-08-30 22:06:37.000000000,"[{'_account_id': 5046}, {'_account_id': 8556}, {'_account_id': 15993}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-30 16:17:59.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/2dae218ec55ccf40582d007e50e2c8c141c82445', 'message': 'Add two more release liasons for Keystone\n\nAs keystone has now moved to a DPL model, add additional members from\nthe core team as release liasons.\n\nChange-Id: I142d25af045eac5fa2df370a46d0855f70e07dae\n'}]",0,806615,2dae218ec55ccf40582d007e50e2c8c141c82445,14,6,1,16465,,,0,"Add two more release liasons for Keystone

As keystone has now moved to a DPL model, add additional members from
the core team as release liasons.

Change-Id: I142d25af045eac5fa2df370a46d0855f70e07dae
",git fetch https://review.opendev.org/openstack/governance refs/changes/15/806615/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,2dae218ec55ccf40582d007e50e2c8c141c82445,project-update, - name: Gage Hugo irc: gagehugo email: gagehugo@gmail.com - name: Lance Bragstad irc: lbragstad email: lbragstad@redhat.com,,6,0
openstack%2Fcinder~master~I1b3ba15454f8d4464bfa4b2d3be58911aea1a235,openstack/cinder,master,I1b3ba15454f8d4464bfa4b2d3be58911aea1a235,DNM: Fake policies - xena,NEW,2021-08-24 02:03:40.000000000,2021-08-30 22:02:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-24 02:03:40.000000000', 'files': ['cinder/policies/fakes.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f3cc8755552f6b925c68db866dd7bc8bfe196f92', 'message': 'DNM: Fake policies - xena\n\nChange-Id: I1b3ba15454f8d4464bfa4b2d3be58911aea1a235\n'}]",0,805770,f3cc8755552f6b925c68db866dd7bc8bfe196f92,16,1,1,5314,,,0,"DNM: Fake policies - xena

Change-Id: I1b3ba15454f8d4464bfa4b2d3be58911aea1a235
",git fetch https://review.opendev.org/openstack/cinder refs/changes/70/805770/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/policies/fakes.py'],1,f3cc8755552f6b925c68db866dd7bc8bfe196f92,fake-policies,"V_CREATE_POLICY = ""volume_extension:type_create"" V_UPDATE_POLICY = ""volume_extension:type_update"" V_DELETE_POLICY = ""volume_extension:type_delete""# Xena development: add deprecated rules deprecated_A_create_policy = base.CinderDeprecatedRule( name=A_CREATE_POLICY, check_str="""" ) deprecated_A_update_policy = base.CinderDeprecatedRule( name=A_UPDATE_POLICY, check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_A_multiattach_policy = base.CinderDeprecatedRule( name=A_MULTIATTACH_BOOTABLE_VOLUME_POLICY, check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_M_get_policy = base.CinderDeprecatedRule( name=M_GET_POLICY, check_str=base.RULE_ADMIN_OR_OWNER ) # This one is a special case. We want to deprecate this policy for # removal and replace it with 3 more granular policies. deprecated_V_manage_policy = base.CinderDeprecatedRule( name=V_MANAGE_POLICY, # use the current checkstring here check_str=base.RULE_ADMIN_API, # override deprecated_reason deprecated_reason=(f'{V_MANAGE_POLICY} has been replaced by more granular ' 'policies that separately govern POST, PUT, and DELETE ' 'operations.'), ) deprecated_V_get_policy = base.CinderDeprecatedRule( name=V_GET_POLICY, check_str="""" ) deprecated_V_get_all_policy = base.CinderDeprecatedRule( name=V_GET_ALL_POLICY, check_str="""" ) check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, ], deprecated_rule=deprecated_A_create_policy, ), check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, ], deprecated_rule=deprecated_A_update_policy, ), check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, ], deprecated_rule=deprecated_A_multiattach_policy, ), check_str=base.SYSTEM_READER_OR_PROJECT_READER, ], deprecated_rule=deprecated_M_get_policy, ), # # ADMIN_API, so checkstring does not change ], # No deprecated rule ), # Now we add the 3 new policies to replace V_MANAGE_POLICY. # They will use the same check_str as V_MANAGE_POLICY (because # RULE_ADMIN_API is being used in Xena; it will be deprecated in # Yoga) name=V_CREATE_POLICY, description=""6a Create volume type."", ], deprecated_rule=deprecated_V_manage_policy, ), policy.DocumentedRuleDefault( name=V_UPDATE_POLICY, # ----- project ----- -- system -- # reader member admin reader admin # no no no no yes check_str=base.RULE_ADMIN_API, description=""6b Update volume type."", operations=[ ], deprecated_rule=deprecated_V_manage_policy, ), policy.DocumentedRuleDefault( name=V_DELETE_POLICY, # ----- project ----- -- system -- # reader member admin reader admin # no no no no yes check_str=base.RULE_ADMIN_API, description=""6c Delete volume type."", operations=[ ], deprecated_rule=deprecated_V_manage_policy, ), check_str=base.SYSTEM_READER_OR_PROJECT_READER, ], deprecated_rule=deprecated_V_get_policy, ), check_str=base.SYSTEM_READER_OR_PROJECT_READER, ], deprecated_rule=deprecated_V_get_all_policy, ),"," check_str="""", ]), check_str=base.RULE_ADMIN_OR_OWNER, ]), check_str=base.RULE_ADMIN_OR_OWNER, ]), check_str=base.RULE_ADMIN_OR_OWNER, ]), ]), name=V_MANAGE_POLICY, description=""6 Create, update and delete volume type."", ]), check_str="""", ]), check_str="""", ]),",100,16
openstack%2Fcinder~master~I655a47fc75ddc11caf1defe984d9a66a9ad5a2e7,openstack/cinder,master,I655a47fc75ddc11caf1defe984d9a66a9ad5a2e7,Expose volume & snapshot use_quota field,MERGED,2021-04-15 10:03:07.000000000,2021-08-30 21:46:15.000000000,2021-08-29 08:39:44.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 30092}]","[{'number': 1, 'created': '2021-04-15 10:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e03c9feae9637609224c28ec82fcce59e20b7796', 'message': 'Expose volume & snapshot use_quota field\n\nThis patch adds a new REST API microversion to expose the new use_quota\nfield present in volumes and snapshots.\n\nThe field will be reported when listing and showing resources and can be\nused when filtering as well.\n\nAPIImpact\nDocImpact\n\nChange-Id: I655a47fc75ddc11caf1defe984d9a66a9ad5a2e7\n'}, {'number': 2, 'created': '2021-04-15 19:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d09d4fa66c44ae1e3961316ad82292bfff4db3d4', 'message': 'Expose volume & snapshot use_quota field\n\nThis patch adds a new REST API microversion to expose the new use_quota\nfield present in volumes and snapshots.\n\nThe field will be reported when listing and showing resources and can be\nused when filtering as well.\n\nAPIImpact\nDocImpact\n\nChange-Id: I655a47fc75ddc11caf1defe984d9a66a9ad5a2e7\n'}, {'number': 3, 'created': '2021-05-10 16:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/998e4353c1fee151837e8b209a2bc66affe07eb5', 'message': 'Expose volume & snapshot use_quota field\n\nThis patch adds a new REST API microversion to expose the new use_quota\nfield present in volumes and snapshots.\n\nThe field will be reported when listing and showing resources and can be\nused when filtering as well.\n\nAPIImpact\nDocImpact\n\nChange-Id: I655a47fc75ddc11caf1defe984d9a66a9ad5a2e7\n'}, {'number': 4, 'created': '2021-05-13 13:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d9ee0d9d7d2be69a5f62b485a6369d53fb10b357', 'message': 'Expose volume & snapshot use_quota field\n\nThis patch adds a new REST API microversion to expose the new use_quota\nfield present in volumes and snapshots.\n\nThe field will be reported when listing and showing resources and can be\nused when filtering as well.\n\nAPIImpact\nDocImpact\n\nChange-Id: I655a47fc75ddc11caf1defe984d9a66a9ad5a2e7\n'}, {'number': 5, 'created': '2021-05-20 15:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ffad60bdd1a6894bb4965a7256db4b103cb9b233', 'message': 'Expose volume & snapshot use_quota field\n\nThis patch adds a new REST API microversion to expose the new use_quota\nfield present in volumes and snapshots.\n\nThe field will be reported when listing and showing resources and can be\nused when filtering as well.\n\nAPIImpact\nDocImpact\n\nChange-Id: I655a47fc75ddc11caf1defe984d9a66a9ad5a2e7\n'}, {'number': 6, 'created': '2021-05-25 14:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/25267e9d5971a3508316a72fa9bff42f3fb16ddb', 'message': 'Expose volume & snapshot use_quota field\n\nThis patch adds a new REST API microversion to expose the new use_quota\nfield present in volumes and snapshots.\n\nThe field will be reported when listing and showing resources and can be\nused when filtering as well.\n\nAPIImpact\nDocImpact\n\nChange-Id: I655a47fc75ddc11caf1defe984d9a66a9ad5a2e7\n'}, {'number': 7, 'created': '2021-05-31 10:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/825077958fee19f7617c39afea112a58a3579c3a', 'message': 'Expose volume & snapshot use_quota field\n\nThis patch adds a new REST API microversion to expose the new use_quota\nfield present in volumes and snapshots.\n\nThe field will be reported when listing and showing resources and can be\nused when filtering as well.\n\nAPIImpact\nDocImpact\n\nChange-Id: I655a47fc75ddc11caf1defe984d9a66a9ad5a2e7\n'}, {'number': 8, 'created': '2021-06-23 17:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3c10f5bff5fe49327c0c05f026789a05b81b8fc2', 'message': 'Expose volume & snapshot use_quota field\n\nThis patch adds a new REST API microversion to expose the new use_quota\nfield present in volumes and snapshots.\n\nThe field will be reported when listing and showing resources and can be\nused when filtering as well.\n\nAPIImpact\nDocImpact\nImplements: blueprint temp-resources\nChange-Id: I655a47fc75ddc11caf1defe984d9a66a9ad5a2e7\n'}, {'number': 9, 'created': '2021-06-24 09:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a6d8a919e985e0c711d20a998634e8f91886e2d0', 'message': 'Expose volume & snapshot use_quota field\n\nThis patch adds a new REST API microversion to expose the new use_quota\nfield present in volumes and snapshots.\n\nThe field will be reported when listing and showing resources and can be\nused when filtering as well.\n\nAPIImpact\nDocImpact\nImplements: blueprint temp-resources\nChange-Id: I655a47fc75ddc11caf1defe984d9a66a9ad5a2e7\n'}, {'number': 10, 'created': '2021-08-25 16:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fb05d0999258961d13eeaf385cbeb6d92f035fd5', 'message': 'Expose volume & snapshot use_quota field\n\nThis patch adds a new REST API microversion to expose the new use_quota\nfield present in volumes and snapshots.\n\nThe field will be reported when listing and showing resources and can be\nused when filtering as well.\n\nAPIImpact\nDocImpact\nImplements: blueprint temp-resources\nChange-Id: I655a47fc75ddc11caf1defe984d9a66a9ad5a2e7\n'}, {'number': 11, 'created': '2021-08-26 12:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/508f1b66a5b0869aa114db7a2803948ee7a06629', 'message': ""Expose volume & snapshot use_quota field\n\nThis patch adds a new REST API microversion to expose the new use_quota\nDB field present in volumes and snapshots.\n\nThe field will be reported when listing and showing resources and can be\nused when filtering as well.\n\nThe field is exposed in the REST API as `consumes_quota` to prevent\nconfusion for users and admins, since exposing it as `use_quota` may\ngive them the wrong impression that they can set it up for their own\npurposes.\n\nFor users we say what is happening with the quota for that resource -it\nconsumes or doesn't consume quota-, whereas internally we express\ninstruction to the core code -whether to use quota or not-, hence the\ndifference in the naming.\n\nAPIImpact\nDocImpact\nImplements: blueprint temp-resources\nChange-Id: I655a47fc75ddc11caf1defe984d9a66a9ad5a2e7\n""}, {'number': 12, 'created': '2021-08-26 15:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7b4c32e649cdaff0879e958f9f3af386aafcfa9d', 'message': ""Expose volume & snapshot use_quota field\n\nThis patch adds a new REST API microversion to expose the new use_quota\nDB field present in volumes and snapshots.\n\nThe field will be reported when listing and showing resources and can be\nused when filtering as well.\n\nThe field is exposed in the REST API as `consumes_quota` to prevent\nconfusion for users and admins, since exposing it as `use_quota` may\ngive them the wrong impression that they can set it up for their own\npurposes.\n\nFor users we say what is happening with the quota for that resource -it\nconsumes or doesn't consume quota-, whereas internally we express\ninstruction to the core code -whether to use quota or not-, hence the\ndifference in the naming.\n\nAPIImpact\nDocImpact\nImplements: blueprint temp-resources\nChange-Id: I655a47fc75ddc11caf1defe984d9a66a9ad5a2e7\n""}, {'number': 13, 'created': '2021-08-26 17:04:26.000000000', 'files': ['cinder/tests/functional/api_sample_tests/samples/snapshots/v3.65/snapshots-list-detailed-response.json.tpl', 'cinder/tests/unit/api/v3/test_volumes.py', 'api-ref/source/v3/samples/volumes/volume-update-response.json', 'cinder/api/v3/volumes.py', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.65/volume-create-response.json.tpl', 'api-ref/source/v3/samples/snapshots/v3.65/snapshot-create-response.json', 'cinder/api/v3/snapshots.py', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.65/volume-show-response.json.tpl', 'api-ref/source/v3/volumes-v3-snapshots.inc', 'cinder/tests/functional/api_sample_tests/samples/snapshots/v3.65/snapshot-show-response.json.tpl', 'api-ref/source/v3/volumes-v3-volumes.inc', 'api-ref/source/v3/parameters.yaml', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.65/volumes-list-detailed-response.json.tpl', 'api-ref/source/v3/samples/versions/version-show-response.json', 'api-ref/source/v3/samples/volumes/volume-create-response.json', 'cinder/api/v3/views/snapshots.py', 'cinder/tests/functional/api_sample_tests/samples/snapshots/v3.65/snapshot-create-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshots/v3.65/snapshot-update-response.json.tpl', 'cinder/tests/functional/api_sample_tests/test_snapshots.py', 'api-ref/source/v3/samples/snapshots/snapshot-create-response.json', 'api-ref/source/v3/resource-filters.inc', 'api-ref/source/v3/samples/snapshots/snapshot-update-response.json', 'cinder/tests/functional/api_sample_tests/test_volumes.py', 'cinder/api/microversions.py', 'api-ref/source/v3/samples/snapshots/snapshot-show-response.json', 'cinder/api/v3/views/volumes.py', 'api-ref/source/v3/samples/versions/versions-response.json', 'cinder/api/common.py', 'api-ref/source/v3/samples/volumes/v3.65/volume-show-response.json', 'cinder/api/openstack/api_version_request.py', 'etc/cinder/resource_filters.json', 'api-ref/source/v3/samples/volumes/v3.65/volume-create-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.65/volume-update-response.json.tpl', 'api-ref/source/v3/samples/snapshots/v3.65/snapshot-show-response.json', 'cinder/tests/unit/api/v3/test_snapshots.py', 'api-ref/source/v3/samples/snapshots/v3.65/snapshot-update-response.json', 'api-ref/source/v3/samples/snapshots/snapshots-list-detailed-response.json', 'api-ref/source/v3/samples/volumes/v3.65/volumes-list-detailed-response.json', 'api-ref/source/v3/samples/volumes/volume-show-response.json', 'releasenotes/notes/mv-use_quota-b8e010f8f68a1eaa.yaml', 'api-ref/source/v3/samples/snapshots/v3.65/snapshots-list-detailed-response.json', 'api-ref/source/v3/samples/volumes/v3.65/volume-update-response.json', 'cinder/tests/unit/api/test_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ec44fc89997624c692635d5fae8fba4ca5d9aa02', 'message': ""Expose volume & snapshot use_quota field\n\nThis patch adds a new REST API microversion to expose the new use_quota\nDB field present in volumes and snapshots.\n\nThe field will be reported when listing and showing resources and can be\nused when filtering as well.\n\nThe field is exposed in the REST API as `consumes_quota` to prevent\nconfusion for users and admins, since exposing it as `use_quota` may\ngive them the wrong impression that they can set it up for their own\npurposes.\n\nFor users we say what is happening with the quota for that resource -it\nconsumes or doesn't consume quota-, whereas internally we express\ninstruction to the core code -whether to use quota or not-, hence the\ndifference in the naming.\n\nAPIImpact\nDocImpact\nImplements: blueprint temp-resources\nChange-Id: I655a47fc75ddc11caf1defe984d9a66a9ad5a2e7\n""}]",15,786386,ec44fc89997624c692635d5fae8fba4ca5d9aa02,209,4,13,9535,,,0,"Expose volume & snapshot use_quota field

This patch adds a new REST API microversion to expose the new use_quota
DB field present in volumes and snapshots.

The field will be reported when listing and showing resources and can be
used when filtering as well.

The field is exposed in the REST API as `consumes_quota` to prevent
confusion for users and admins, since exposing it as `use_quota` may
give them the wrong impression that they can set it up for their own
purposes.

For users we say what is happening with the quota for that resource -it
consumes or doesn't consume quota-, whereas internally we express
instruction to the core code -whether to use quota or not-, hence the
difference in the naming.

APIImpact
DocImpact
Implements: blueprint temp-resources
Change-Id: I655a47fc75ddc11caf1defe984d9a66a9ad5a2e7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/86/786386/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/api/v3/test_volumes.py', 'api-ref/source/v3/samples/volumes/volume-update-response.json', 'cinder/api/v3/volumes.py', 'cinder/api/v3/snapshots.py', 'api-ref/source/v3/volumes-v3-snapshots.inc', 'api-ref/source/v3/volumes-v3-volumes.inc', 'api-ref/source/v3/parameters.yaml', 'api-ref/source/v3/samples/versions/version-show-response.json', 'api-ref/source/v3/samples/volumes/volume-create-response.json', 'cinder/api/v3/views/snapshots.py', 'api-ref/source/v3/samples/snapshots/snapshot-create-response.json', 'api-ref/source/v3/samples/snapshots/snapshots-list-response.json', 'api-ref/source/v3/samples/snapshots/snapshot-update-response.json', 'cinder/api/microversions.py', 'api-ref/source/v3/samples/snapshots/snapshot-show-response.json', 'cinder/api/v3/views/volumes.py', 'api-ref/source/v3/samples/versions/versions-response.json', 'cinder/api/openstack/api_version_request.py', 'etc/cinder/resource_filters.json', 'api-ref/source/v3/samples/volumes/volumes-list-detailed-response.json', 'cinder/tests/unit/api/v3/test_snapshots.py', 'api-ref/source/v3/samples/snapshots/snapshots-list-detailed-response.json', 'api-ref/source/v3/samples/volumes/volume-show-response.json', 'releasenotes/notes/mv-use_quota-b8e010f8f68a1eaa.yaml', 'cinder/tests/unit/api/test_common.py']",25,e03c9feae9637609224c28ec82fcce59e20b7796,off-book," ""size"", ""created_at"", ""updated_at"", ""use_quota""]}, ""availability_zone"", ""use_quota""]},"," ""size"", ""created_at"", ""updated_at""]}, ""availability_zone""]},",168,39
openstack%2Fcinder~master~I16cdd1bc19bf51b6012d84a7163fa5d2a710800a,openstack/cinder,master,I16cdd1bc19bf51b6012d84a7163fa5d2a710800a,Correct the rest api url of import_record of backup,MERGED,2020-10-22 02:40:54.000000000,2021-08-30 21:17:08.000000000,2021-08-28 15:56:40.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 21129}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 30688}]","[{'number': 1, 'created': '2020-10-22 02:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f7634f595d7c3b9161114689e79cb9381ed2988', 'message': 'Correct the rest api url of export_recore and import_record of backup\n\nChange-Id: I16cdd1bc19bf51b6012d84a7163fa5d2a710800a\n'}, {'number': 2, 'created': '2021-02-23 02:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fe0ad7b8faf3a442dafae1c84dce01b11c5f8df1', 'message': 'Correct the rest api url of export_recore and import_record of backup\n\nChange-Id: I16cdd1bc19bf51b6012d84a7163fa5d2a710800a\n'}, {'number': 3, 'created': '2021-08-27 00:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/892b0468821481aaf6a7e19fcd64afbe7e15220b', 'message': 'Correct the rest api url of export_record of backup\n\nChange-Id: I16cdd1bc19bf51b6012d84a7163fa5d2a710800a\n'}, {'number': 4, 'created': '2021-08-28 02:42:14.000000000', 'files': ['api-ref/source/v3/ext-backups.inc', 'api-ref/source/v2/ext-backups.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/400008194be2bf5e9ff7b3696ac3ea77a35f50bc', 'message': 'Correct the rest api url of import_record of backup\n\nChange-Id: I16cdd1bc19bf51b6012d84a7163fa5d2a710800a\n'}]",12,759169,400008194be2bf5e9ff7b3696ac3ea77a35f50bc,76,22,4,30092,,,0,"Correct the rest api url of import_record of backup

Change-Id: I16cdd1bc19bf51b6012d84a7163fa5d2a710800a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/69/759169/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/ext-backups.inc', 'api-ref/source/v2/ext-backups.inc']",2,0f7634f595d7c3b9161114689e79cb9381ed2988,,.. rest_method:: GET /v2/{project_id}/backups/export_record.. rest_method:: POST /v2/{project_id}/backups/import_record,.. rest_method:: GET /v2/{project_id}/backups/{backup_id}/export_record.. rest_method:: POST /v2/{project_id}/backups/{backup_id}/import_record,4,4
openstack%2Fwhitebox-tempest-plugin~master~If0ef21f885eef880d55aed7ebed99828fe978d38,openstack/whitebox-tempest-plugin,master,If0ef21f885eef880d55aed7ebed99828fe978d38,Start transition to declarative CPU pinning configs,MERGED,2021-08-20 20:20:11.000000000,2021-08-30 20:44:14.000000000,2021-08-30 20:44:14.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}, {'_account_id': 31033}]","[{'number': 1, 'created': '2021-08-20 20:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/a48c5e4e7e44c70b645270e6b6c270ee84cdc279', 'message': 'Start transition to declarative CPU pinning configs\n\nAdd two new jobs, one that runs CPU pinning tests with\n[compute]cpu_dedicated_set, the other with [DEFAULT]vcpu_pin_set.\nStart by converting the reboot live migration test to use the new way\nof doing CPU pinning.\n\nBecause not all tests are converted at once (and the unconverted ones\nare still changing the host CPU pinning configs on the fly), the new\njobs can only run the converted tests.\n\nIn the future, once all tests have been converted in subsequent\npatches, we will merge the default job and the -cpupinning jobs,\nleaving only the legacy job to run the CPU pinning tests that need\n[DEFAULT]vcpu_pin_set.\n\nIn this patch, because we no longer always need the target_host\nparameter to the live_migrate() helper, we can change its signature to\nmake target_host optional.\n\nChange-Id: If0ef21f885eef880d55aed7ebed99828fe978d38\n'}, {'number': 2, 'created': '2021-08-20 22:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/58e5f70775a3dee52b6183d7b9740806b088c9df', 'message': 'Start transition to declarative CPU pinning configs\n\nAdd two new jobs, one that runs CPU pinning tests with\n[compute]cpu_dedicated_set, the other with [DEFAULT]vcpu_pin_set.\nStart by converting the reboot live migration test to use the new way\nof doing CPU pinning.\n\nBecause not all tests are converted at once (and the unconverted ones\nare still changing the host CPU pinning configs on the fly), the new\njobs can only run the converted tests.\n\nIn the future, once all tests have been converted in subsequent\npatches, we will merge the default job and the -cpupinning jobs,\nleaving only the legacy job to run the CPU pinning tests that need\n[DEFAULT]vcpu_pin_set.\n\nIn this patch, because we no longer always need the target_host\nparameter to the live_migrate() helper, we can change its signature to\nmake target_host optional.\n\nChange-Id: If0ef21f885eef880d55aed7ebed99828fe978d38\n'}, {'number': 3, 'created': '2021-08-21 00:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/354322629f47b415b8439466960d5354b1096e73', 'message': 'Start transition to declarative CPU pinning configs\n\nAdd two new jobs, one that runs CPU pinning tests with\n[compute]cpu_dedicated_set, the other with [DEFAULT]vcpu_pin_set.\nStart by converting the reboot live migration test to use the new way\nof doing CPU pinning.\n\nBecause not all tests are converted at once (and the unconverted ones\nare still changing the host CPU pinning configs on the fly), the new\njobs can only run the converted tests.\n\nIn the future, once all tests have been converted in subsequent\npatches, we will merge the default job and the -cpupinning jobs,\nleaving only the legacy job to run the CPU pinning tests that need\n[DEFAULT]vcpu_pin_set.\n\nIn this patch, because we no longer always need the target_host\nparameter to the live_migrate() helper, we can change its signature to\nmake target_host optional.\n\nChange-Id: If0ef21f885eef880d55aed7ebed99828fe978d38\n'}, {'number': 4, 'created': '2021-08-21 01:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/bcfa308c1645e66232d00cf08c6ff9b9c32deaf8', 'message': 'Start transition to declarative CPU pinning configs\n\nAdd two new jobs, one that runs CPU pinning tests with\n[compute]cpu_dedicated_set, the other with [DEFAULT]vcpu_pin_set.\nStart by converting the reboot live migration test to use the new way\nof doing CPU pinning.\n\nBecause not all tests are converted at once (and the unconverted ones\nare still changing the host CPU pinning configs on the fly), the new\njobs can only run the converted tests.\n\nIn the future, once all tests have been converted in subsequent\npatches, we will merge the default job and the -cpupinning jobs,\nleaving only the legacy job to run the CPU pinning tests that need\n[DEFAULT]vcpu_pin_set.\n\nIn this patch, because we no longer always need the target_host\nparameter to the live_migrate() helper, we can change its signature to\nmake target_host optional.\n\nChange-Id: If0ef21f885eef880d55aed7ebed99828fe978d38\n'}, {'number': 5, 'created': '2021-08-21 03:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/7d8f8894c62c39b14a1da53793cd92ef6e377fef', 'message': 'Start transition to declarative CPU pinning configs\n\nAdd two new jobs, one that runs CPU pinning tests with\n[compute]cpu_dedicated_set, the other with [DEFAULT]vcpu_pin_set.\nStart by converting the reboot live migration test to use the new way\nof doing CPU pinning.\n\nBecause not all tests are converted at once (and the unconverted ones\nare still changing the host CPU pinning configs on the fly), the new\njobs can only run the converted tests.\n\nIn the future, once all tests have been converted in subsequent\npatches, we will merge the default job and the -cpupinning jobs,\nleaving only the legacy job to run the CPU pinning tests that need\n[DEFAULT]vcpu_pin_set.\n\nIn this patch, because we no longer always need the target_host\nparameter to the live_migrate() helper, we can change its signature to\nmake target_host optional.\n\nChange-Id: If0ef21f885eef880d55aed7ebed99828fe978d38\n'}, {'number': 6, 'created': '2021-08-21 04:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/eee16b8a1956cffc9f46e0930c8d350ffcafdb5d', 'message': 'Start transition to declarative CPU pinning configs\n\nAdd two new jobs, one that runs CPU pinning tests with\n[compute]cpu_dedicated_set, the other with [DEFAULT]vcpu_pin_set.\nStart by converting the reboot live migration test to use the new way\nof doing CPU pinning.\n\nBecause not all tests are converted at once (and the unconverted ones\nare still changing the host CPU pinning configs on the fly), the new\njobs can only run the converted tests.\n\nIn the future, once all tests have been converted in subsequent\npatches, we will merge the default job and the -cpupinning jobs,\nleaving only the legacy job to run the CPU pinning tests that need\n[DEFAULT]vcpu_pin_set.\n\nIn this patch, because we no longer always need the target_host\nparameter to the live_migrate() helper, we can change its signature to\nmake target_host optional.\n\nChange-Id: If0ef21f885eef880d55aed7ebed99828fe978d38\n'}, {'number': 7, 'created': '2021-08-21 19:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/9916e3dd3fb725f062c87246f83da3b498f5c7f3', 'message': 'Start transition to declarative CPU pinning configs\n\nAdd two new jobs, one that runs CPU pinning tests with\n[compute]cpu_dedicated_set, the other with [DEFAULT]vcpu_pin_set.\nStart by converting the reboot live migration test to use the new way\nof doing CPU pinning.\n\nBecause not all tests are converted at once (and the unconverted ones\nare still changing the host CPU pinning configs on the fly), the new\njobs can only run the converted tests.\n\nIn the future, once all tests have been converted in subsequent\npatches, we will merge the default job and the -cpupinning jobs,\nleaving only the legacy job to run the CPU pinning tests that need\n[DEFAULT]vcpu_pin_set.\n\nIn this patch, because we no longer always need the target_host\nparameter to the live_migrate() helper, we can change its signature to\nmake target_host optional.\n\nChange-Id: If0ef21f885eef880d55aed7ebed99828fe978d38\n'}, {'number': 8, 'created': '2021-08-21 20:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/1519ba26aabb25c3201f3a32aced519b26463478', 'message': 'Start transition to declarative CPU pinning configs\n\nAdd two new jobs, one that runs CPU pinning tests with\n[compute]cpu_dedicated_set, the other with [DEFAULT]vcpu_pin_set.\nStart by converting the reboot live migration test to use the new way\nof doing CPU pinning.\n\nBecause not all tests are converted at once (and the unconverted ones\nare still changing the host CPU pinning configs on the fly), the new\njobs can only run the converted tests.\n\nIn the future, once all tests have been converted in subsequent\npatches, we will merge the default job and the -cpupinning jobs,\nleaving only the legacy job to run the CPU pinning tests that need\n[DEFAULT]vcpu_pin_set.\n\nIn this patch, because we no longer always need the target_host\nparameter to the live_migrate() helper, we can change its signature to\nmake target_host optional.\n\nChange-Id: If0ef21f885eef880d55aed7ebed99828fe978d38\n'}, {'number': 9, 'created': '2021-08-22 00:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/5f1566c74b2fe11f98a28c6bbdebe58c80999d7e', 'message': 'Start transition to declarative CPU pinning configs\n\nAdd two new jobs, one that runs CPU pinning tests with\n[compute]cpu_dedicated_set, the other with [DEFAULT]vcpu_pin_set.\nStart by converting the reboot live migration test to use the new way\nof doing CPU pinning.\n\nBecause not all tests are converted at once (and the unconverted ones\nare still changing the host CPU pinning configs on the fly), the new\njobs can only run the converted tests.\n\nIn the future, once all tests have been converted in subsequent\npatches, we will merge the default job and the -cpupinning jobs,\nleaving only the legacy job to run the CPU pinning tests that need\n[DEFAULT]vcpu_pin_set.\n\nIn this patch, because we no longer always need the target_host\nparameter to the live_migrate() helper, we can change its signature to\nmake target_host optional.\n\nChange-Id: If0ef21f885eef880d55aed7ebed99828fe978d38\n'}, {'number': 10, 'created': '2021-08-25 01:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/b48e3e6a41ee274b7e6c15eeb6c1b4e2898e2a28', 'message': 'Start transition to declarative CPU pinning configs\n\nAdd two new jobs, one that runs CPU pinning tests with\n[compute]cpu_dedicated_set, the other with [DEFAULT]vcpu_pin_set.\nStart by converting the reboot live migration test to use the new way\nof doing CPU pinning.\n\nBecause not all tests are converted at once (and the unconverted ones\nare still changing the host CPU pinning configs on the fly), the new\njobs can only run the converted tests.\n\nIn the future, once all tests have been converted in subsequent\npatches, we will merge the default job and the -cpupinning jobs,\nleaving only the legacy job to run the CPU pinning tests that need\n[DEFAULT]vcpu_pin_set.\n\nIn this patch, because we no longer always need the target_host\nparameter to the live_migrate() helper, we can change its signature to\nmake target_host optional.\n\nChange-Id: If0ef21f885eef880d55aed7ebed99828fe978d38\n'}, {'number': 11, 'created': '2021-08-25 16:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/b04cb187fabb594348fe591015a42b7bd1c27444', 'message': 'Start transition to declarative CPU pinning configs\n\nAdd two new jobs, one that runs CPU pinning tests with\n[compute]cpu_dedicated_set, the other with [DEFAULT]vcpu_pin_set.\nStart by converting the reboot live migration test to use the new way\nof doing CPU pinning.\n\nBecause not all tests are converted at once (and the unconverted ones\nare still changing the host CPU pinning configs on the fly), the new\njobs can only run the converted tests.\n\nIn the future, once all tests have been converted in subsequent\npatches, we will merge the default job and the -cpupinning jobs,\nleaving only the legacy job to run the CPU pinning tests that need\n[DEFAULT]vcpu_pin_set.\n\nIn this patch, because we no longer always need the target_host\nparameter to the live_migrate() helper, we can change its signature to\nmake target_host optional.\n\nChange-Id: If0ef21f885eef880d55aed7ebed99828fe978d38\n'}, {'number': 12, 'created': '2021-08-27 20:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/83975191a21a906a74d6e220a7edea5db1033a59', 'message': 'Start transition to declarative CPU pinning configs\n\nAdd two new jobs, one that runs CPU pinning tests with\n[compute]cpu_dedicated_set, the other with [DEFAULT]vcpu_pin_set.\nStart by converting the reboot live migration test to use the new way\nof doing CPU pinning.\n\nBecause not all tests are converted at once (and the unconverted ones\nare still changing the host CPU pinning configs on the fly), the new\njobs can only run the converted tests.\n\nIn the future, once all tests have been converted in subsequent\npatches, we will merge the default job and the -cpupinning jobs,\nleaving only the legacy job to run the CPU pinning tests that need\n[DEFAULT]vcpu_pin_set.\n\nIn this patch, because we no longer always need the target_host\nparameter to the live_migrate() helper, we can change its signature to\nmake target_host optional.\n\nChange-Id: If0ef21f885eef880d55aed7ebed99828fe978d38\n'}, {'number': 13, 'created': '2021-08-27 22:38:09.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_sriov.py', 'whitebox_tempest_plugin/api/compute/test_validate_selinux_labels.py', '.zuul.yaml', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py', 'whitebox_tempest_plugin/api/compute/base.py', 'whitebox_tempest_plugin/api/compute/test_file_backed_memory.py', 'whitebox_tempest_plugin/api/compute/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/cca33388c2ebce229fa3af70233769c3e2056d4d', 'message': 'Start transition to declarative CPU pinning configs\n\nAdd two new jobs, one that runs CPU pinning tests with\n[compute]cpu_dedicated_set, the other with [DEFAULT]vcpu_pin_set.\nStart by converting the reboot live migration test to use the new way\nof doing CPU pinning.\n\nBecause not all tests are converted at once (and the unconverted ones\nare still changing the host CPU pinning configs on the fly), the new\njobs can only run the converted tests.\n\nIn the future, once all tests have been converted in subsequent\npatches, we will merge the default job and the -cpupinning jobs,\nleaving only the legacy job to run the CPU pinning tests that need\n[DEFAULT]vcpu_pin_set.\n\nIn this patch, because we no longer always need the target_host\nparameter to the live_migrate() helper, we can change its signature to\nmake target_host optional.\n\nChange-Id: If0ef21f885eef880d55aed7ebed99828fe978d38\n'}]",4,805455,cca33388c2ebce229fa3af70233769c3e2056d4d,31,3,13,8864,,,0,"Start transition to declarative CPU pinning configs

Add two new jobs, one that runs CPU pinning tests with
[compute]cpu_dedicated_set, the other with [DEFAULT]vcpu_pin_set.
Start by converting the reboot live migration test to use the new way
of doing CPU pinning.

Because not all tests are converted at once (and the unconverted ones
are still changing the host CPU pinning configs on the fly), the new
jobs can only run the converted tests.

In the future, once all tests have been converted in subsequent
patches, we will merge the default job and the -cpupinning jobs,
leaving only the legacy job to run the CPU pinning tests that need
[DEFAULT]vcpu_pin_set.

In this patch, because we no longer always need the target_host
parameter to the live_migrate() helper, we can change its signature to
make target_host optional.

Change-Id: If0ef21f885eef880d55aed7ebed99828fe978d38
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/55/805455/13 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/api/compute/test_sriov.py', 'whitebox_tempest_plugin/api/compute/test_validate_selinux_labels.py', '.zuul.yaml', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py', 'whitebox_tempest_plugin/api/compute/base.py', 'whitebox_tempest_plugin/api/compute/test_file_backed_memory.py', 'whitebox_tempest_plugin/api/compute/test_live_migration.py']",7,a48c5e4e7e44c70b645270e6b6c270ee84cdc279,interface_change_rx_queue," self.live_migrate(server_id, 'ACTIVE') def test_live_migrate_and_reboot(self, section, cpu_set_parameter): flavor = self.create_flavor( extra_specs={'hw:cpu_policy': 'dedicated'}) server = self.create_test_server(flavor=flavor['id']) pinned_cpus_pre_migration = self.get_pinning_as_set(server['id']) self.live_migrate(server['id'], 'ACTIVE') pinned_cpus_post_migration = self.get_pinning_as_set(server['id']) self.assertTrue( pinned_cpus_post_migration.isdisjoint(pinned_cpus_pre_migration), ""After migration the the server %s's current pinned CPU's "" ""%s should no longer match the pinned CPU's it had pre "" "" migration %s"" % (server['id'], pinned_cpus_post_migration, pinned_cpus_pre_migration)) # TODO(artom) If the soft reboot fails, the libvirt driver will do # a hard reboot. This is only detectable through log parsing, so to # be 100% sure we got the soft reboot we wanted, we should probably # do that. self.reboot_server(server['id'], type='SOFT') pinned_cpus_post_reboot = self.get_pinning_as_set(server['id']) self.assertTrue( pinned_cpus_post_migration == pinned_cpus_post_reboot, 'After soft rebooting server %s its pinned CPUs should have ' 'remained the same as %s, but are instead now %s' % ( server['id'], pinned_cpus_post_migration, pinned_cpus_post_reboot))","from tempest.lib import decoratorsfrom whitebox_tempest_plugin.api.compute import numa_helper from whitebox_tempest_plugin import hardware from whitebox_tempest_plugin.services import clients from whitebox_tempest_plugin import utils as whitebox_utils class LiveMigrationTest(LiveMigrationBase): # First support for block_migration='auto': since Mitaka (OSP9) min_microversion = '2.25' @decorators.idempotent_id('41e92884-ed04-42da-89fc-ef8922646542') source_host = self.get_host_for_server(server_id) destination_host = self.get_host_other_than(server_id) LOG.info(""Live migrate from source %s to destination %s"", source_host, destination_host) self.live_migrate(server_id, destination_host, 'ACTIVE') class LiveMigrationAndReboot(LiveMigrationBase, numa_helper.NUMAHelperMixin): dedicated_cpu_policy = {'hw:cpu_policy': 'dedicated'} @classmethod def skip_checks(cls): super(LiveMigrationAndReboot, cls).skip_checks() if getattr(CONF.whitebox_hardware, 'cpu_opology', None) is None: msg = ""cpu_topology in whitebox-hardware is not present"" raise cls.skipException(msg) def _migrate_and_reboot_instance(self, section, cpu_set_parameter): flavor_vcpu_size = 2 cpu_list = self.get_all_cpus() if len(cpu_list) < 4: raise self.skipException('Requires 4 or more pCPUs to execute ' 'the test') host1, host2 = self.list_compute_hosts() # Create two different cpu dedicated ranges for each host in order # to force different domain XML after instance migration host1_dedicated_set = cpu_list[:2] host2_dedicated_set = cpu_list[2:4] dedicated_flavor = self.create_flavor( vcpus=flavor_vcpu_size, extra_specs=self.dedicated_cpu_policy ) host1_sm = clients.NovaServiceManager(host1, 'nova-compute', self.os_admin.services_client) host2_sm = clients.NovaServiceManager(host2, 'nova-compute', self.os_admin.services_client) with whitebox_utils.multicontext( host1_sm.config_options( (section, cpu_set_parameter, hardware.format_cpu_spec(host1_dedicated_set))), host2_sm.config_options( (section, cpu_set_parameter, hardware.format_cpu_spec(host2_dedicated_set))) ): # Create a server with a dedicated cpu policy server = self.create_test_server( flavor=dedicated_flavor['id'] ) # Gather the pinned CPUs for the instance prior to migration pinned_cpus_pre_migration = self.get_pinning_as_set(server['id']) # Determine the destination migration host and migrate the server # to that host compute_dest = self.get_host_other_than(server['id']) self.live_migrate(server['id'], compute_dest, 'ACTIVE') # After successful migration determine the instances pinned CPUs pinned_cpus_post_migration = self.get_pinning_as_set(server['id']) # Confirm the pCPUs are no longer the same as they were when # on the source compute host self.assertTrue( pinned_cpus_post_migration.isdisjoint( pinned_cpus_pre_migration), ""After migration the the server %s's current pinned CPU's "" ""%s should no longer match the pinned CPU's it had pre "" "" migration %s"" % (server['id'], pinned_cpus_post_migration, pinned_cpus_pre_migration) ) # Soft reboot the server # TODO(artom) If the soft reboot fails, the libvirt driver will do # a hard reboot. This is only detectable through log parsing, so to # be 100% sure we got the soft reboot we wanted, we should probably # do that. self.reboot_server(server['id'], type='SOFT') # Gather the server's pinned CPUs after the soft reboot pinned_cpus_post_reboot = self.get_pinning_as_set(server['id']) # Validate the server's pinned CPUs remain the same after the # reboot self.assertTrue( pinned_cpus_post_migration == pinned_cpus_post_reboot, 'After soft rebooting server %s its pinned CPUs should have ' 'remained the same as %s, but are instead now %s' % ( server['id'], pinned_cpus_post_migration, pinned_cpus_post_reboot) ) self.delete_server(server['id']) class VCPUPinSetMigrateAndReboot(LiveMigrationAndReboot): max_microversion = '2.79' pin_set_mode = 'vcpu_pin_set' pin_section = 'DEFAULT' def test_vcpu_pin_migrate_and_reboot(self): self._migrate_and_reboot_instance(self.pin_section, self.pin_set_mode) class CPUDedicatedMigrateAndReboot(LiveMigrationAndReboot): min_microversion = '2.79' max_microversion = 'latest' pin_set_mode = 'cpu_dedicated_set' pin_section = 'compute' def test_cpu_dedicated_migrate_and_reboot(self): self._migrate_and_reboot_instance(self.pin_section, self.pin_set_mode)",102,154
openstack%2Fcinder~master~Ieb27352170c8fa25ab21fc669c43c467af8ec549,openstack/cinder,master,Ieb27352170c8fa25ab21fc669c43c467af8ec549,DNM: Fake policies - wallaby,NEW,2021-08-24 02:02:51.000000000,2021-08-30 20:42:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-24 02:02:51.000000000', 'files': ['cinder/policies/fakes.py', 'cinder/policies/__init__.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/21264aa7e53000ec10924b8200e212204c915c79', 'message': 'DNM: Fake policies - wallaby\n\nChange-Id: Ieb27352170c8fa25ab21fc669c43c467af8ec549\n'}]",0,805749,21264aa7e53000ec10924b8200e212204c915c79,17,1,1,5314,,,0,"DNM: Fake policies - wallaby

Change-Id: Ieb27352170c8fa25ab21fc669c43c467af8ec549
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/805749/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/policies/fakes.py', 'cinder/policies/__init__.py']",2,21264aa7e53000ec10924b8200e212204c915c79,fake-policies,"from cinder.policies import fakes fakes.list_rules(), ) def real_list_rules(): return itertools.chain( base.list_rules(),",,157,0
openstack%2Fmanila~master~I390da933fe92875e3c7ee40709eacacc030278dc,openstack/manila,master,I390da933fe92875e3c7ee40709eacacc030278dc,Add config option reserved_share_from_snapshot_percentage.,MERGED,2021-07-30 12:07:27.000000000,2021-08-30 19:48:35.000000000,2021-08-30 19:46:52.000000000,"[{'_account_id': 16643}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30025}, {'_account_id': 30407}, {'_account_id': 31721}]","[{'number': 1, 'created': '2021-07-30 12:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c2fd0666837d86652d282ebe1157d13cdb73c711', 'message': 'Add config option reserved_share_from_snapshot_percentage.\n\nThis config option allows different value for reservation on the some\nplatforms, where shares can only be created from the snapshot on the\nhost where snapshot was taken e.g. NetApp. The lower value of this\nconfig option against existing (reserved_share_percentage) allows to\ncreate shares from the snapshot on the same host upto a higher\nthreshold even though non-snapshot/regular share create fails.\n\nCloses-Bug: #1938060\nChange-Id: I390da933fe92875e3c7ee40709eacacc030278dc\n'}, {'number': 2, 'created': '2021-08-10 20:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7789295b6622c7339d837428b9740cae7c35c61f', 'message': 'Add config option reserved_share_from_snapshot_percentage.\n\nThis config option allows different value for reservation percentage,\nmostly useful on the platforms, where shares can only be created from\nthe snapshot on the host where snapshot was taken. The lower value of\nthis config option against existing (reserved_share_percentage) allows\nto create shares from the snapshot on the same host up to a higher\nthreshold even though non-snapshot/regular share create fails.\n\nCloses-Bug: #1938060\nChange-Id: I390da933fe92875e3c7ee40709eacacc030278dc\n'}, {'number': 3, 'created': '2021-08-11 16:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/012027ef189b0dde2a7c6ec9d9facecccac140de', 'message': 'Add config option reserved_share_from_snapshot_percentage.\n\nThis config option allows different value for reservation percentage,\nmostly useful on the platforms, where shares can only be created from\nthe snapshot on the host where snapshot was taken. The lower value of\nthis config option against existing (reserved_share_percentage) allows\nto create shares from the snapshot on the same host up to a higher\nthreshold even though non-snapshot/regular share create fails.\n\nDocImpact\n\nCloses-Bug: #1938060\nChange-Id: I390da933fe92875e3c7ee40709eacacc030278dc\n'}, {'number': 4, 'created': '2021-08-27 17:17:38.000000000', 'files': ['manila/scheduler/weighers/capacity.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/tests/share/drivers/zfsonlinux/test_driver.py', 'manila/scheduler/filters/capacity.py', 'manila/share/drivers/dell_emc/plugins/powermax/connection.py', 'manila/share/drivers/nexenta/ns4/nexenta_nfs_helper.py', 'manila/tests/share/drivers/nexenta/ns4/test_nexenta_nas.py', 'manila/share/drivers/infortrend/driver.py', 'manila/share/drivers/inspur/as13000/as13000_nas.py', 'manila/share/drivers/hpe/hpe_3par_driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py', 'manila/share/drivers/hitachi/hsp/driver.py', 'manila/share/drivers/quobyte/quobyte.py', 'manila/tests/scheduler/fakes.py', 'manila/scheduler/utils.py', 'manila/share/drivers/zadara/zadara.py', 'manila/scheduler/drivers/filter.py', 'manila/share/drivers/container/storage_helper.py', 'manila/share/drivers/infinidat/infinibox.py', 'manila/tests/scheduler/filters/test_capacity.py', 'manila/share/drivers/hdfs/hdfs_native.py', 'manila/tests/share/drivers/zadara/test_zadara.py', 'manila/tests/share/drivers/infinidat/test_infinidat.py', 'manila/share/drivers/inspur/instorage/instorage.py', 'manila/tests/share/drivers/tegile/test_tegile.py', 'manila/tests/share/drivers/test_lvm.py', 'manila/tests/share/drivers/test_generic.py', 'manila/share/drivers/generic.py', 'manila/tests/share/drivers/hpe/test_hpe_3par_driver.py', 'manila/tests/share/drivers/container/test_storage_helper.py', 'manila/share/drivers/hitachi/hnas/driver.py', 'manila/share/drivers/dell_emc/plugins/unity/connection.py', 'manila/tests/share/drivers/inspur/as13000/test_as13000_nas.py', 'manila/tests/share/drivers/glusterfs/test_glusterfs_native.py', 'manila/scheduler/host_manager.py', 'manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/test_glusterfs.py', 'manila/share/drivers/glusterfs/__init__.py', 'manila/share/drivers/ibm/gpfs.py', 'manila/tests/share/test_driver.py', 'manila/tests/share/drivers/netapp/dataontap/fakes.py', 'manila/share/drivers/qnap/qnap.py', 'manila/tests/share/drivers/dell_emc/plugins/unity/res_mock.py', 'manila/share/drivers/tegile/tegile.py', 'manila/share/drivers/zfsonlinux/driver.py', 'manila/tests/share/drivers/dell_emc/plugins/unity/test_connection.py', 'manila/share/drivers/dell_emc/plugins/vnx/connection.py', 'manila/share/drivers/huawei/v3/connection.py', 'manila/tests/share/drivers/hitachi/hnas/test_driver.py', 'manila/share/driver.py', 'manila/tests/share/drivers/maprfs/test_maprfs.py', 'manila/tests/share/drivers/dummy.py', 'manila/share/drivers/lvm.py', 'manila/tests/share/drivers/nexenta/ns5/test_nexenta_nas.py', 'manila/tests/scheduler/test_host_manager.py', 'manila/tests/share/drivers/dell_emc/test_driver.py', 'manila/share/drivers/veritas/veritas_isa.py', 'manila/tests/share/drivers/huawei/test_huawei_nas.py', 'manila/share/drivers/nexenta/ns5/nexenta_nas.py', 'manila/tests/share/drivers/container/test_driver.py', 'manila/tests/share/drivers/hitachi/hsp/fakes.py', 'manila/share/drivers/container/driver.py', 'manila/share/drivers/glusterfs/glusterfs_native.py', 'manila/tests/share/drivers/quobyte/test_quobyte.py', 'manila/tests/share/drivers/inspur/instorage/test_instorage.py', 'manila/tests/share/drivers/veritas/test_veritas_isa.py', 'manila/share/drivers/purestorage/flashblade.py', 'releasenotes/notes/add-reserved-share-from-snapshot-percentage-2d913ae1fc533690.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/6ca10003a908f7e8d296f2008a84b4951b17921b', 'message': ""Add config option reserved_share_from_snapshot_percentage.\n\nThis config option allows different value for reservation percentage,\nmostly useful on the platforms, where shares can only be created from\nthe snapshot on the host where snapshot was taken. The lower value of\nthis config option against existing (reserved_share_percentage) allows\nto create shares from the snapshot on the same host up to a higher\nthreshold even though non-snapshot/regular share create fails.\nIn case this config option is not set, the shares created from snapshot\nwill use reservation percentage value set in 'reserved_share_percentage'.\nThis will be useful for users who want to keep same reservation percentage\nfor both non-snapshot/regular and snapshot shares.\n\nDocImpact\n\nCloses-Bug: #1938060\nChange-Id: I390da933fe92875e3c7ee40709eacacc030278dc\n""}]",25,803004,6ca10003a908f7e8d296f2008a84b4951b17921b,58,7,4,32919,,,0,"Add config option reserved_share_from_snapshot_percentage.

This config option allows different value for reservation percentage,
mostly useful on the platforms, where shares can only be created from
the snapshot on the host where snapshot was taken. The lower value of
this config option against existing (reserved_share_percentage) allows
to create shares from the snapshot on the same host up to a higher
threshold even though non-snapshot/regular share create fails.
In case this config option is not set, the shares created from snapshot
will use reservation percentage value set in 'reserved_share_percentage'.
This will be useful for users who want to keep same reservation percentage
for both non-snapshot/regular and snapshot shares.

DocImpact

Closes-Bug: #1938060
Change-Id: I390da933fe92875e3c7ee40709eacacc030278dc
",git fetch https://review.opendev.org/openstack/manila refs/changes/04/803004/4 && git format-patch -1 --stdout FETCH_HEAD,"['manila/scheduler/weighers/capacity.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/tests/share/drivers/zfsonlinux/test_driver.py', 'manila/scheduler/filters/capacity.py', 'manila/share/drivers/dell_emc/plugins/powermax/connection.py', 'manila/share/drivers/nexenta/ns4/nexenta_nfs_helper.py', 'manila/tests/share/drivers/nexenta/ns4/test_nexenta_nas.py', 'manila/share/drivers/infortrend/driver.py', 'manila/share/drivers/inspur/as13000/as13000_nas.py', 'manila/share/drivers/hpe/hpe_3par_driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py', 'manila/share/drivers/hitachi/hsp/driver.py', 'manila/share/drivers/quobyte/quobyte.py', 'manila/tests/scheduler/fakes.py', 'manila/scheduler/utils.py', 'releasenotes/notes/add-reserved-share-from-snapshot-gigabytes-2d913ae1fc533690.yaml', 'manila/share/drivers/zadara/zadara.py', 'manila/scheduler/drivers/filter.py', 'manila/share/drivers/container/storage_helper.py', 'manila/share/drivers/infinidat/infinibox.py', 'manila/tests/scheduler/filters/test_capacity.py', 'manila/share/drivers/hdfs/hdfs_native.py', 'manila/tests/share/drivers/zadara/test_zadara.py', 'manila/tests/share/drivers/infinidat/test_infinidat.py', 'manila/share/drivers/inspur/instorage/instorage.py', 'manila/tests/share/drivers/tegile/test_tegile.py', 'manila/tests/share/drivers/test_lvm.py', 'manila/tests/share/drivers/test_generic.py', 'manila/share/drivers/generic.py', 'manila/tests/share/drivers/hpe/test_hpe_3par_driver.py', 'manila/tests/share/drivers/container/test_storage_helper.py', 'manila/share/drivers/hitachi/hnas/driver.py', 'manila/share/drivers/dell_emc/plugins/unity/connection.py', 'manila/tests/share/drivers/inspur/as13000/test_as13000_nas.py', 'manila/tests/share/drivers/glusterfs/test_glusterfs_native.py', 'manila/scheduler/host_manager.py', 'manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/test_glusterfs.py', 'manila/share/drivers/glusterfs/__init__.py', 'manila/share/drivers/ibm/gpfs.py', 'manila/tests/share/test_driver.py', 'manila/tests/share/drivers/netapp/dataontap/fakes.py', 'manila/share/drivers/qnap/qnap.py', 'manila/tests/share/drivers/dell_emc/plugins/unity/res_mock.py', 'manila/share/drivers/tegile/tegile.py', 'manila/share/drivers/zfsonlinux/driver.py', 'manila/tests/share/drivers/dell_emc/plugins/unity/test_connection.py', 'manila/share/drivers/dell_emc/plugins/vnx/connection.py', 'manila/share/drivers/huawei/v3/connection.py', 'manila/tests/share/drivers/hitachi/hnas/test_driver.py', 'manila/share/driver.py', 'manila/tests/share/drivers/maprfs/test_maprfs.py', 'manila/tests/share/drivers/dummy.py', 'manila/share/drivers/lvm.py', 'manila/tests/share/drivers/nexenta/ns5/test_nexenta_nas.py', 'manila/tests/scheduler/test_host_manager.py', 'manila/tests/share/drivers/dell_emc/test_driver.py', 'manila/share/drivers/veritas/veritas_isa.py', 'manila/tests/share/drivers/huawei/test_huawei_nas.py', 'manila/share/drivers/nexenta/ns5/nexenta_nas.py', 'manila/tests/share/drivers/container/test_driver.py', 'manila/tests/share/drivers/hitachi/hsp/fakes.py', 'manila/share/drivers/container/driver.py', 'manila/share/drivers/glusterfs/glusterfs_native.py', 'manila/tests/share/drivers/quobyte/test_quobyte.py', 'manila/tests/share/drivers/inspur/instorage/test_instorage.py', 'manila/tests/share/drivers/veritas/test_veritas_isa.py', 'manila/share/drivers/purestorage/flashblade.py']",68,c2fd0666837d86652d282ebe1157d13cdb73c711,bug/1938060," ""reserved_share_percentage"" reserved_share_from_snapshot_percentage = self.configuration.safe_get( ""reserved_share_from_snapshot_percentage"" ) if reserved_share_from_snapshot_percentage is None: reserved_share_from_snapshot_percentage = 0 reserved_snapshot_percentage=( reserved_share_from_snapshot_percentage),"," ""reserved_safe_percentage""",329,21
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ibfef67aac7730accbffbb3973b9087dfd15dcef4,openstack/tripleo-heat-templates,stable/wallaby,Ibfef67aac7730accbffbb3973b9087dfd15dcef4,Stop rotating rabbitmq crash.log files via erlang's lager,MERGED,2021-08-26 19:59:42.000000000,2021-08-30 19:48:24.000000000,2021-08-30 19:48:24.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-26 19:59:42.000000000', 'files': ['deployment/rabbitmq/rabbitmq-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d56266bc75b3f60581a1d042f52bbc5ce5baefc1', 'message': ""Stop rotating rabbitmq crash.log files via erlang's lager\n\nThe log file `/var/log/containers/rabbitmq/log/crash.log` is currently\nbeing rotated by both the lager logging framework and the\nlogrotate_crond container.\nThis will give us logs like:\n$ ll /var/log/containers/rabbitmq/log/\ntotal 4\n-rw-r-----. 1 42439 42439 0 Aug 26 00:00 crash.log\n-rw-r-----. 1 42439 42439 0 Aug 25 00:00 crash.log.0\n-rw-r-----. 1 42439 42439 0 Aug 24 00:01 crash.log.1\n-rw-r-----. 1 42439 42439 0 Aug 23 00:01 crash.log.2\n-rw-r-----. 1 42439 42439 20 Aug 25 00:00 crash.log-20200825.gz\n-rw-r-----. 1 42439 42439 0 Aug 26 00:00 crash.log-20200826\n-rw-r-----. 1 42439 42439 0 Aug 22 00:00 crash.log.3\n-rw-r-----. 1 42439 42439 0 Aug 21 00:01 crash.log.4\n\nWe need to disable the lager rotation and let logrotate do its job.\n\nTested by applying the patch and confirming, after some days,\nthat there is no double-rotation taking place.\n\nCloses-Bug: #1941698\n\nChange-Id: Ibfef67aac7730accbffbb3973b9087dfd15dcef4\n(cherry picked from commit 236f14fe89b1699fab4f3b8dd1e222a0a670d3da)\n""}]",0,806216,d56266bc75b3f60581a1d042f52bbc5ce5baefc1,28,4,1,20172,,,0,"Stop rotating rabbitmq crash.log files via erlang's lager

The log file `/var/log/containers/rabbitmq/log/crash.log` is currently
being rotated by both the lager logging framework and the
logrotate_crond container.
This will give us logs like:
$ ll /var/log/containers/rabbitmq/log/
total 4
-rw-r-----. 1 42439 42439 0 Aug 26 00:00 crash.log
-rw-r-----. 1 42439 42439 0 Aug 25 00:00 crash.log.0
-rw-r-----. 1 42439 42439 0 Aug 24 00:01 crash.log.1
-rw-r-----. 1 42439 42439 0 Aug 23 00:01 crash.log.2
-rw-r-----. 1 42439 42439 20 Aug 25 00:00 crash.log-20200825.gz
-rw-r-----. 1 42439 42439 0 Aug 26 00:00 crash.log-20200826
-rw-r-----. 1 42439 42439 0 Aug 22 00:00 crash.log.3
-rw-r-----. 1 42439 42439 0 Aug 21 00:01 crash.log.4

We need to disable the lager rotation and let logrotate do its job.

Tested by applying the patch and confirming, after some days,
that there is no double-rotation taking place.

Closes-Bug: #1941698

Change-Id: Ibfef67aac7730accbffbb3973b9087dfd15dcef4
(cherry picked from commit 236f14fe89b1699fab4f3b8dd1e222a0a670d3da)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/806216/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/rabbitmq/rabbitmq-container-puppet.yaml'],1,d56266bc75b3f60581a1d042f52bbc5ce5baefc1,rabbitmq-log-rotation-stable/wallaby," rabbitmq::config_additional_variables: lager: '[{crash_log_count, 0}, { crash_log_date, """"}, { crash_log_size, 0 }]'",,2,0
openstack%2Fcinder~master~Ic0bce20dd2b4ec607d278f78b55094110e2f72f6,openstack/cinder,master,Ic0bce20dd2b4ec607d278f78b55094110e2f72f6,[SVF]:Fix add volumes to GMCV group,MERGED,2021-03-31 12:34:36.000000000,2021-08-30 19:35:03.000000000,2021-08-30 19:32:55.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 32425}]","[{'number': 1, 'created': '2021-03-31 12:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d2cbf9c690b5c91fd161b5ee3c41c3a49cbd86f8', 'message': '[SVF]:Fix add volumes to replicated group\n\n[Spectrum Virtualize Family] Adding volumes to a group with\nconsistent_group_replication_enabled=True fails if the rccg\nand rcrelation are in different state,\n\nThis patch fixes the issues by keeping both rccg and rcrelation\nin consistent_stopped state before updating the relation.\n\nCloses-Bug: #1922013\nChange-Id: Ic0bce20dd2b4ec607d278f78b55094110e2f72f6\n'}, {'number': 2, 'created': '2021-04-01 08:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/06788f67a57daef269c9e610af292e2a75cdbc4f', 'message': '[SVF]:Fix add volumes to replicated group\n\n[Spectrum Virtualize Family] Adding volumes to a group with\nconsistent_group_replication_enabled=True fails if the rccg\nand rcrelation are in different state,\n\nThis patch fixes the issues by keeping both rccg and rcrelation\nin consistent_stopped state before updating the relation.\n\nCloses-Bug: #1922013\nChange-Id: Ic0bce20dd2b4ec607d278f78b55094110e2f72f6\n'}, {'number': 3, 'created': '2021-04-01 14:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a5bb170bb5ecf7dbf7514c2a4aa80d7cdf084787', 'message': '[SVF]:Fix add volumes to GMCV group\n\n[Spectrum Virtualize Family] Adding volumes to a GMCV group\nfails even if the rccg and rcrelation are in same state.\n\nThis patch fixes the issues by keeping both rccg and rcrelation\nin consistent_stopped state before updating the relation.\n\nCloses-Bug: #1922013\nChange-Id: Ic0bce20dd2b4ec607d278f78b55094110e2f72f6\n'}, {'number': 4, 'created': '2021-04-05 15:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f2e7bbcb9590ee2e0c9975d9a0207759852036f8', 'message': '[SVF]:Fix add volumes to GMCV group\n\n[Spectrum Virtualize Family] Adding volumes to a GMCV group\nfails even if the rccg and rcrelation are in same state.\n\nThis patch fixes the issues by keeping both rccg and rcrelation\nin consistent_stopped state before updating the relation.\n\nCloses-Bug: #1922013\nChange-Id: Ic0bce20dd2b4ec607d278f78b55094110e2f72f6\n'}, {'number': 5, 'created': '2021-04-14 06:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5e9e5a86e2fae05391a3affc74c617b8f462c24f', 'message': '[SVF]:Fix add volumes to GMCV group\n\n[Spectrum Virtualize Family] Adding volumes to a GMCV group\nfails even if the rccg and rcrelation are in same state.\n\nThis patch fixes the issues by keeping both rccg and rcrelation\nin consistent_stopped state before updating the relation.\n\nCloses-Bug: #1922013\nChange-Id: Ic0bce20dd2b4ec607d278f78b55094110e2f72f6\n'}, {'number': 6, 'created': '2021-04-27 10:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/82b2ad94a55040f81c24261cdf5458332c26b4d4', 'message': '[SVF]:Fix add volumes to GMCV group\n\n[Spectrum Virtualize Family] Adding volumes to a GMCV group\nfails even if the rccg and rcrelation are in same state.\n\nThis patch fixes the issues by keeping both rccg and rcrelation\nin consistent_stopped state before updating the relation.\n\nCloses-Bug: #1922013\nChange-Id: Ic0bce20dd2b4ec607d278f78b55094110e2f72f6\n'}, {'number': 7, 'created': '2021-04-28 06:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/38e28dfe689cc211847d37add60c1c12211d505e', 'message': '[SVF]:Fix add volumes to GMCV group\n\n[Spectrum Virtualize Family] Adding volumes to a GMCV group\nfails even if the rccg and rcrelation are in same state.\n\nThis patch fixes the issues by keeping both rccg and rcrelation\nin consistent_stopped state before updating the relation.\n\nCloses-Bug: #1922013\nChange-Id: Ic0bce20dd2b4ec607d278f78b55094110e2f72f6\n'}, {'number': 8, 'created': '2021-05-18 14:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/54ec66a16771fe8a0793330236fbddd2ceca712e', 'message': '[SVF]:Fix add volumes to GMCV group\n\n[Spectrum Virtualize Family] Adding volumes to a GMCV group\nfails even if the rccg and rcrelation are in same state.\n\nThis patch fixes the issues by keeping both rccg and rcrelation\nin consistent_stopped state before updating the relation.\n\nCloses-Bug: #1922013\nChange-Id: Ic0bce20dd2b4ec607d278f78b55094110e2f72f6\n'}, {'number': 9, 'created': '2021-05-18 14:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c87f859fba4bbf00d25eaad9bc9f538a5aec2897', 'message': '[SVF]:Fix add volumes to GMCV group\n\n[Spectrum Virtualize Family] Adding volumes to a GMCV group\nfails even if the rccg and rcrelation are in same state.\n\nThis patch fixes the issues by keeping both rccg and rcrelation\nin consistent_stopped state before updating the relation.\n\nCloses-Bug: #1922013\nChange-Id: Ic0bce20dd2b4ec607d278f78b55094110e2f72f6\n'}, {'number': 10, 'created': '2021-06-01 09:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/88a9bcdb9b2bfa21842f9ec6408a11b6d090a448', 'message': '[SVF]:Fix add volumes to GMCV group\n\n[Spectrum Virtualize Family] Adding volumes to a GMCV group\nfails even if the rccg and rcrelation are in same state.\n\nThis patch fixes the issues by keeping both rccg and rcrelation\nin consistent_stopped state before updating the relation.\n\nCloses-Bug: #1922013\nChange-Id: Ic0bce20dd2b4ec607d278f78b55094110e2f72f6\n'}, {'number': 11, 'created': '2021-07-01 18:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d38f9dacdaca55c2b154261a206c566cb9cf319', 'message': '[SVF]:Fix add volumes to GMCV group\n\n[Spectrum Virtualize Family] Adding volumes to a GMCV group\nfails even if the rccg and rcrelation are in same state.\n\nThis patch fixes the issues by keeping both rccg and rcrelation\nin consistent_stopped state before updating the relation.\n\nCloses-Bug: #1922013\nChange-Id: Ic0bce20dd2b4ec607d278f78b55094110e2f72f6\n'}, {'number': 12, 'created': '2021-07-02 09:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3d05ec6e58912ce49b682b4aa7af30919c1b1063', 'message': '[SVF]:Fix add volumes to GMCV group\n\n[Spectrum Virtualize Family] Adding volumes to a GMCV group\nfails even if the rccg and rcrelation are in same state.\n\nThis patch fixes the issues by keeping both rccg and rcrelation\nin consistent_stopped state before updating the relation.\n\nCloses-Bug: #1922013\nChange-Id: Ic0bce20dd2b4ec607d278f78b55094110e2f72f6\n'}, {'number': 13, 'created': '2021-07-02 10:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9c79bf68a06d745520db1fa55b80e40b1eada3be', 'message': '[SVF]:Fix add volumes to GMCV group\n\n[Spectrum Virtualize Family] Adding volumes to a GMCV group\nfails even if the rccg and rcrelation are in same state.\n\nThis patch fixes the issues by keeping both rccg and rcrelation\nin consistent_stopped state before updating the relation.\n\nCloses-Bug: #1922013\nChange-Id: Ic0bce20dd2b4ec607d278f78b55094110e2f72f6\n'}, {'number': 14, 'created': '2021-08-18 18:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bff79aa483b9b01ead0b6b2782145d2261b151e1', 'message': '[SVF]:Fix add volumes to GMCV group\n\n[Spectrum Virtualize Family] Adding volumes to a GMCV group\nfails even if the rccg and rcrelation are in same state.\n\nThis patch fixes the issues by keeping both rccg and rcrelation\nin consistent_stopped state before updating the relation.\n\nAlso enabled snapshot support for GMCV volumes.\n\nCloses-Bug: #1922013\nChange-Id: Ic0bce20dd2b4ec607d278f78b55094110e2f72f6\n'}, {'number': 15, 'created': '2021-08-20 06:57:01.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'releasenotes/notes/bug-1922013-ibm-svf-fix_addvol_gmcv_grp-caa0bc2035747d99.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f882b0c65772a705c41b4fbb55be89c94f374503', 'message': '[SVF]:Fix add volumes to GMCV group\n\n[Spectrum Virtualize Family] Adding volumes to a GMCV group\nfails even if the rccg and rcrelation are in same state.\n\nThis patch fixes the issues by keeping both rccg and rcrelation\nin consistent_stopped state before updating the relation.\n\nAlso enabled snapshot support for GMCV volumes.\n\nCloses-Bug: #1922013\nChange-Id: Ic0bce20dd2b4ec607d278f78b55094110e2f72f6\n'}]",36,784092,f882b0c65772a705c41b4fbb55be89c94f374503,294,5,15,32036,,,0,"[SVF]:Fix add volumes to GMCV group

[Spectrum Virtualize Family] Adding volumes to a GMCV group
fails even if the rccg and rcrelation are in same state.

This patch fixes the issues by keeping both rccg and rcrelation
in consistent_stopped state before updating the relation.

Also enabled snapshot support for GMCV volumes.

Closes-Bug: #1922013
Change-Id: Ic0bce20dd2b4ec607d278f78b55094110e2f72f6
",git fetch https://review.opendev.org/openstack/cinder refs/changes/92/784092/14 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'],1,d2cbf9c690b5c91fd161b5ee3c41c3a49cbd86f8,bug/1922013," self._helpers.stop_relationship(vol_name) if rccg['state'] != 'empty' and rccg['state'] != 'consistent_stopped': self._helpers.stop_rccg(rccg_name) if rccg and rccg.get('primary', None) == 'aux' and not remove_volumes: self._helpers.start_rccg(rccg_name, primary='aux') elif rccg and rccg.get('primary', None) == 'master' and not remove_volumes: self._helpers.start_rccg(rccg_name, primary='master')", rccg['state'] != rcrel['state'] or,7,2
openstack%2Foslo.rootwrap~stable%2Ftrain~Ic209b8ef86c2522ce7e4bd81ac57bf13f1706a81,openstack/oslo.rootwrap,stable/train,Ic209b8ef86c2522ce7e4bd81ac57bf13f1706a81,reap rootwrap daemon process when it is timeout,MERGED,2021-08-25 13:22:25.000000000,2021-08-30 19:15:54.000000000,2021-08-30 19:14:35.000000000,"[{'_account_id': 308}, {'_account_id': 7488}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-25 13:22:25.000000000', 'files': ['releasenotes/notes/reap-rootwrap-daemon-process-60aebb56d8015484.yaml', 'oslo_rootwrap/client.py'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/4f0cf26de8f4cc203eda8dff42d23805513c2f97', 'message': ""reap rootwrap daemon process when it is timeout\n\nWhen the daemon process is timeout, it will kill itself. But the parent\ndoesn't reap it. This patch add a thread to wait the process to be done\nonce the daemon is started.\n\nCloses-Bug: #1850241\nChange-Id: Ic209b8ef86c2522ce7e4bd81ac57bf13f1706a81\n(cherry picked from commit c9a57aab082f55d525f003db61290b6ab7437b7c)\n""}]",0,805898,4f0cf26de8f4cc203eda8dff42d23805513c2f97,11,6,1,16688,,,0,"reap rootwrap daemon process when it is timeout

When the daemon process is timeout, it will kill itself. But the parent
doesn't reap it. This patch add a thread to wait the process to be done
once the daemon is started.

Closes-Bug: #1850241
Change-Id: Ic209b8ef86c2522ce7e4bd81ac57bf13f1706a81
(cherry picked from commit c9a57aab082f55d525f003db61290b6ab7437b7c)
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/98/805898/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/reap-rootwrap-daemon-process-60aebb56d8015484.yaml', 'oslo_rootwrap/client.py']",2,4f0cf26de8f4cc203eda8dff42d23805513c2f97,," def wait_process(): return_code = process_obj.wait() LOG.info(""Rootwrap daemon process exit with status: %d"", return_code) reap_process = threading.Thread(target=wait_process) reap_process.daemon = True reap_process.start()",,20,0
openstack%2Fkolla-ansible~master~I630f69fd346e3291d3b8c6f6870af79e65211c85,openstack/kolla-ansible,master,I630f69fd346e3291d3b8c6f6870af79e65211c85,Replace auth_uri with www_authenticate_uri,MERGED,2021-06-23 12:09:54.000000000,2021-08-30 18:37:55.000000000,2021-08-27 12:47:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-23 12:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d3874a39e1412f7e4f286c59a8e93c1673b44d57', 'message': 'Repalce auth_uri with www_authenticate_uri\n\nThe auth_uri option is deprecated in favor of\nwww_authenticate_uri and removed in the S release.\nWe have done it before,  but we missed cyborg.conf\n\ntrivial fix\n\nChange-Id: I630f69fd346e3291d3b8c6f6870af79e65211c85\n'}, {'number': 2, 'created': '2021-06-23 12:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6906ee743e0f93ae8021d54bd57b1648ca0718cf', 'message': 'Replace auth_uri with www_authenticate_uri\n\nThe auth_uri option is deprecated in favor of\nwww_authenticate_uri and removed in the S release.\nWe have done it before,  but we missed cyborg.conf\n\ntrivial fix\n\nChange-Id: I630f69fd346e3291d3b8c6f6870af79e65211c85\n'}, {'number': 3, 'created': '2021-06-23 12:23:31.000000000', 'files': ['ansible/roles/cyborg/templates/cyborg.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f3520bc1c5d7e30fe66022c4b6de4c34092c6ad8', 'message': 'Replace auth_uri with www_authenticate_uri\n\nThe auth_uri option is deprecated in favor of www_authenticate_uri and\nremoved in the S release. We have done it before, but we missed\ncyborg.conf.\n\nTrivialFix\n\nChange-Id: I630f69fd346e3291d3b8c6f6870af79e65211c85\n'}]",0,797625,f3520bc1c5d7e30fe66022c4b6de4c34092c6ad8,24,3,3,26285,,,0,"Replace auth_uri with www_authenticate_uri

The auth_uri option is deprecated in favor of www_authenticate_uri and
removed in the S release. We have done it before, but we missed
cyborg.conf.

TrivialFix

Change-Id: I630f69fd346e3291d3b8c6f6870af79e65211c85
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/25/797625/3 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cyborg/templates/cyborg.conf.j2'],1,d3874a39e1412f7e4f286c59a8e93c1673b44d57,,www_authenticate_uri = {{ keystone_internal_url }},auth_uri = {{ keystone_internal_url }},1,1
openstack%2Fkolla~master~I6570495ead7b21dc368e9e87fb17ea8fd9cb08f4,openstack/kolla,master,I6570495ead7b21dc368e9e87fb17ea8fd9cb08f4,docs: add feature freeze to release management,MERGED,2021-08-25 15:23:19.000000000,2021-08-30 18:28:39.000000000,2021-08-30 18:25:12.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-25 15:23:19.000000000', 'files': ['doc/source/contributor/release-management.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1327de43aeeeeb29beaeea5be85c81dd87562259', 'message': 'docs: add feature freeze to release management\n\nChange-Id: I6570495ead7b21dc368e9e87fb17ea8fd9cb08f4\n'}]",0,806013,1327de43aeeeeb29beaeea5be85c81dd87562259,8,3,1,14826,,,0,"docs: add feature freeze to release management

Change-Id: I6570495ead7b21dc368e9e87fb17ea8fd9cb08f4
",git fetch https://review.opendev.org/openstack/kolla refs/changes/13/806013/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/release-management.rst'],1,1327de43aeeeeb29beaeea5be85c81dd87562259,,R-2: Feature freeze ------------------- Feature freeze for Kolla deliverables begins. Feature freeze exceptions may be granted within reason where two cores agree to review the code. ,,6,0
openstack%2Fkolla~master~Ieadf049459b8f6bc4568e2af24d3456ca469501a,openstack/kolla,master,Ieadf049459b8f6bc4568e2af24d3456ca469501a,Install UCA GPG key,MERGED,2021-08-30 10:43:34.000000000,2021-08-30 18:27:13.000000000,2021-08-30 18:24:52.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-30 10:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b3ea5548b38551ba5ad58a0e81971d10d0f3189e', 'message': 'Install UCA GPG key\n\nChange Ie19bf46236907d79cb42a5e94cd1067e952b8cbb dropped the Ubuntu\nCloud Archive (UCA) GPG key. This results in failures to build Ubuntu\ncontainer images in Kayobe CI.\n\nChange-Id: Ieadf049459b8f6bc4568e2af24d3456ca469501a\n'}, {'number': 2, 'created': '2021-08-30 10:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7cac44d609e3f9b3e064ae41e103bcbe02f7b3e9', 'message': 'Install UCA GPG key\n\nChange Ie19bf46236907d79cb42a5e94cd1067e952b8cbb dropped the Ubuntu\nCloud Archive (UCA) GPG key. This results in failures to build Ubuntu\ncontainer images in Kayobe CI.\n\nChange-Id: Ieadf049459b8f6bc4568e2af24d3456ca469501a\n'}, {'number': 3, 'created': '2021-08-30 11:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/693e599e06a1535f3a0672152bdbc826a1533555', 'message': 'Install UCA GPG key\n\nChange Ie19bf46236907d79cb42a5e94cd1067e952b8cbb dropped the Ubuntu\nCloud Archive (UCA) GPG key. This results in failures to build Ubuntu\ncontainer images in Kayobe CI.\n\nChange-Id: Ieadf049459b8f6bc4568e2af24d3456ca469501a\n'}, {'number': 4, 'created': '2021-08-30 13:10:01.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8d67183c82df8261c2f038a429186df2fcd44669', 'message': 'Install UCA GPG key\n\nChange Ie19bf46236907d79cb42a5e94cd1067e952b8cbb dropped the Ubuntu\nCloud Archive (UCA) GPG key. This results in failures to build Ubuntu\ncontainer images in Kayobe CI.\n\nChange-Id: Ieadf049459b8f6bc4568e2af24d3456ca469501a\n'}]",3,806560,8d67183c82df8261c2f038a429186df2fcd44669,17,4,4,15197,,,0,"Install UCA GPG key

Change Ie19bf46236907d79cb42a5e94cd1067e952b8cbb dropped the Ubuntu
Cloud Archive (UCA) GPG key. This results in failures to build Ubuntu
container images in Kayobe CI.

Change-Id: Ieadf049459b8f6bc4568e2af24d3456ca469501a
",git fetch https://review.opendev.org/openstack/kolla refs/changes/60/806560/4 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,b3ea5548b38551ba5ad58a0e81971d10d0f3189e,uca-keyring,"# ubuntu-cloud-keyring to install UCA packages 'gnupg', 'ubuntu-cloud-keyring'", 'gnupg',3,1
openstack%2Fkolla~stable%2Fussuri~I46b77978926fc2b578a68d1aaa944b2198af0685,openstack/kolla,stable/ussuri,I46b77978926fc2b578a68d1aaa944b2198af0685,Unify curl options,MERGED,2021-08-23 13:46:00.000000000,2021-08-30 18:27:06.000000000,2021-08-30 18:24:58.000000000,"[{'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23871}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30568}, {'_account_id': 33855}]","[{'number': 1, 'created': '2021-08-23 13:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5085e7b927b0cb08dc4e60cb3ac585be1762001f', 'message': 'Unify curl options\n\nCurrently we use couple of curl options throughout Dockerfiles, this change\nadds all common options to curlrc (-sSLf) and removes usage of those in\nDockerfiles.\n\nAlso fixed conflicts added by I71ba982339d5dd4306b2166d346e3e6b1f3af60e\n\nChange-Id: I46b77978926fc2b578a68d1aaa944b2198af0685\n(cherry picked from commit 22c32a30e62d42c3631306775c0cd029eb659e9a)\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 2, 'created': '2021-08-24 17:39:29.000000000', 'files': ['docker/mariadb/mariadb-clustercheck/Dockerfile.j2', 'docker/monasca/monasca-grafana/Dockerfile.j2', 'docker/base/curlrc', 'docker/zun/zun-cni-daemon/Dockerfile.j2', 'docker/kafka/Dockerfile.j2', 'docker/prometheus/prometheus-blackbox-exporter/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2', 'docker/prometheus/prometheus-haproxy-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-mysqld-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-node-exporter/Dockerfile.j2', 'docker/storm/storm-base/Dockerfile.j2', 'docker/zookeeper/Dockerfile.j2', 'docker/prometheus/prometheus-memcached-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-elasticsearch-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-server/Dockerfile.j2', 'docker/prometheus/prometheus-alertmanager/Dockerfile.j2', 'docker/skydive/skydive-base/Dockerfile.j2', 'docker/prometheus/prometheus-cadvisor/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/fluentd/Dockerfile.j2', 'docker/prometheus/prometheus-mtail/Dockerfile.j2', 'docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2637b43281ffbe6258655ea21b3c27fa03e4f064', 'message': 'Unify curl options\n\nCurrently we use couple of curl options throughout Dockerfiles, this change\nadds all common options to curlrc (-sSLf) and removes usage of those in\nDockerfiles.\n\nAlso fixed conflicts added by I75927b6016bdb7577fbff354632bdab6407f359c\nand I0bb8b2429906e698858f6b699e4c4d8bacc2dd74\n\nChange-Id: I46b77978926fc2b578a68d1aaa944b2198af0685\n(cherry picked from commit 22c32a30e62d42c3631306775c0cd029eb659e9a)\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",2,805644,2637b43281ffbe6258655ea21b3c27fa03e4f064,28,8,2,14200,,,0,"Unify curl options

Currently we use couple of curl options throughout Dockerfiles, this change
adds all common options to curlrc (-sSLf) and removes usage of those in
Dockerfiles.

Also fixed conflicts added by I75927b6016bdb7577fbff354632bdab6407f359c
and I0bb8b2429906e698858f6b699e4c4d8bacc2dd74

Change-Id: I46b77978926fc2b578a68d1aaa944b2198af0685
(cherry picked from commit 22c32a30e62d42c3631306775c0cd029eb659e9a)
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/44/805644/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/mariadb/mariadb-clustercheck/Dockerfile.j2', 'docker/monasca/monasca-grafana/Dockerfile.j2', 'docker/base/curlrc', 'docker/zun/zun-cni-daemon/Dockerfile.j2', 'docker/kafka/Dockerfile.j2', 'docker/prometheus/prometheus-blackbox-exporter/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2', 'docker/prometheus/prometheus-haproxy-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-mysqld-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-node-exporter/Dockerfile.j2', 'docker/storm/storm-base/Dockerfile.j2', 'docker/zookeeper/Dockerfile.j2', 'docker/prometheus/prometheus-memcached-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-elasticsearch-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-server/Dockerfile.j2', 'docker/prometheus/prometheus-alertmanager/Dockerfile.j2', 'docker/skydive/skydive-base/Dockerfile.j2', 'docker/prometheus/prometheus-cadvisor/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/fluentd/Dockerfile.j2', 'docker/prometheus/prometheus-mtail/Dockerfile.j2', 'docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2']",22,5085e7b927b0cb08dc4e60cb3ac585be1762001f,unify-curl-options,RUN curl -o /tmp/prometheus_openstack_exporter.tar.gz https://github.com/openstack-exporter/openstack-exporter/releases/download/v${prometheus_openstack_exporter_version}/openstack-exporter-${prometheus_openstack_exporter_version}.linux-{{debian_arch}}.tar.gz \,RUN curl -sSL -o /tmp/prometheus_openstack_exporter.tar.gz https://github.com/openstack-exporter/openstack-exporter/releases/download/v${prometheus_openstack_exporter_version}/openstack-exporter-${prometheus_openstack_exporter_version}.linux-{{debian_arch}}.tar.gz \,24,22
openstack%2Fkolla~stable%2Fvictoria~I46b77978926fc2b578a68d1aaa944b2198af0685,openstack/kolla,stable/victoria,I46b77978926fc2b578a68d1aaa944b2198af0685,Unify curl options,MERGED,2021-08-23 13:44:51.000000000,2021-08-30 18:26:29.000000000,2021-08-30 18:25:05.000000000,"[{'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23871}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30568}, {'_account_id': 33855}]","[{'number': 1, 'created': '2021-08-23 13:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ac890b74c7238a5d1652cb5e722c6a60173d8e3f', 'message': 'Unify curl options\n\nCurrently we use couple of curl options throughout Dockerfiles, this change\nadds all common options to curlrc (-sSLf) and removes usage of those in\nDockerfiles.\n\nAlso fixed conflicts added by I71ba982339d5dd4306b2166d346e3e6b1f3af60e\n\nChange-Id: I46b77978926fc2b578a68d1aaa944b2198af0685\n(cherry picked from commit 22c32a30e62d42c3631306775c0cd029eb659e9a)\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 2, 'created': '2021-08-24 17:42:19.000000000', 'files': ['docker/mariadb/mariadb-clustercheck/Dockerfile.j2', 'docker/monasca/monasca-grafana/Dockerfile.j2', 'docker/base/curlrc', 'docker/zun/zun-cni-daemon/Dockerfile.j2', 'docker/kafka/Dockerfile.j2', 'docker/prometheus/prometheus-blackbox-exporter/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2', 'docker/prometheus/prometheus-haproxy-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-mysqld-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-node-exporter/Dockerfile.j2', 'docker/storm/storm-base/Dockerfile.j2', 'docker/zookeeper/Dockerfile.j2', 'docker/prometheus/prometheus-memcached-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-elasticsearch-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-server/Dockerfile.j2', 'docker/prometheus/prometheus-alertmanager/Dockerfile.j2', 'docker/skydive/skydive-base/Dockerfile.j2', 'docker/prometheus/prometheus-cadvisor/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/fluentd/Dockerfile.j2', 'docker/prometheus/prometheus-mtail/Dockerfile.j2', 'docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/01f0dae4ce780c4471bcf817ff0eb2809df2c9a3', 'message': 'Unify curl options\n\nCurrently we use couple of curl options throughout Dockerfiles, this change\nadds all common options to curlrc (-sSLf) and removes usage of those in\nDockerfiles.\n\nAlso fixed conflicts added by I75927b6016bdb7577fbff354632bdab6407f359c\nand I0bb8b2429906e698858f6b699e4c4d8bacc2dd74\n\nChange-Id: I46b77978926fc2b578a68d1aaa944b2198af0685\n(cherry picked from commit 22c32a30e62d42c3631306775c0cd029eb659e9a)\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",2,805643,01f0dae4ce780c4471bcf817ff0eb2809df2c9a3,29,8,2,14200,,,0,"Unify curl options

Currently we use couple of curl options throughout Dockerfiles, this change
adds all common options to curlrc (-sSLf) and removes usage of those in
Dockerfiles.

Also fixed conflicts added by I75927b6016bdb7577fbff354632bdab6407f359c
and I0bb8b2429906e698858f6b699e4c4d8bacc2dd74

Change-Id: I46b77978926fc2b578a68d1aaa944b2198af0685
(cherry picked from commit 22c32a30e62d42c3631306775c0cd029eb659e9a)
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/43/805643/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/mariadb/mariadb-clustercheck/Dockerfile.j2', 'docker/monasca/monasca-grafana/Dockerfile.j2', 'docker/base/curlrc', 'docker/zun/zun-cni-daemon/Dockerfile.j2', 'docker/kafka/Dockerfile.j2', 'docker/prometheus/prometheus-blackbox-exporter/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2', 'docker/prometheus/prometheus-haproxy-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-mysqld-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-node-exporter/Dockerfile.j2', 'docker/storm/storm-base/Dockerfile.j2', 'docker/zookeeper/Dockerfile.j2', 'docker/prometheus/prometheus-memcached-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-elasticsearch-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-server/Dockerfile.j2', 'docker/prometheus/prometheus-alertmanager/Dockerfile.j2', 'docker/skydive/skydive-base/Dockerfile.j2', 'docker/prometheus/prometheus-cadvisor/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/fluentd/Dockerfile.j2', 'docker/prometheus/prometheus-mtail/Dockerfile.j2', 'docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2']",22,ac890b74c7238a5d1652cb5e722c6a60173d8e3f,unify-curl-options,RUN curl -o /tmp/prometheus_openstack_exporter.tar.gz https://github.com/openstack-exporter/openstack-exporter/releases/download/v${prometheus_openstack_exporter_version}/openstack-exporter-${prometheus_openstack_exporter_version}.linux-{{debian_arch}}.tar.gz \,RUN curl -sSL -o /tmp/prometheus_openstack_exporter.tar.gz https://github.com/openstack-exporter/openstack-exporter/releases/download/v${prometheus_openstack_exporter_version}/openstack-exporter-${prometheus_openstack_exporter_version}.linux-{{debian_arch}}.tar.gz \,24,22
openstack%2Frequirements~master~Ib83f229d1adbb0ea91341ffdf0b0b8dd49fea901,openstack/requirements,master,Ib83f229d1adbb0ea91341ffdf0b0b8dd49fea901,Updated from generate-constraints,MERGED,2021-08-27 06:45:59.000000000,2021-08-30 18:14:17.000000000,2021-08-30 18:12:37.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-27 06:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/75112440af6f18eada65bf78f1ff66ef841b072a', 'message': 'Updated from generate-constraints\n\nChange-Id: Ib83f229d1adbb0ea91341ffdf0b0b8dd49fea901\n'}, {'number': 2, 'created': '2021-08-28 06:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8064540db36f29d828e41b518c427a4dd3dabdae', 'message': 'Updated from generate-constraints\n\nChange-Id: Ib83f229d1adbb0ea91341ffdf0b0b8dd49fea901\n'}, {'number': 3, 'created': '2021-08-29 06:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3bd19729730e00d2fdd01fdcbc3819cd0c6854e4', 'message': 'Updated from generate-constraints\n\nChange-Id: Ib83f229d1adbb0ea91341ffdf0b0b8dd49fea901\n'}, {'number': 4, 'created': '2021-08-30 06:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/f1b7dbdbc358fffb25de3ffef1b5a828096f8e14', 'message': 'Updated from generate-constraints\n\nChange-Id: Ib83f229d1adbb0ea91341ffdf0b0b8dd49fea901\n'}, {'number': 5, 'created': '2021-08-30 14:56:53.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/82829ef283d885f12bdcbae05e4431331175cf4e', 'message': 'Updated from generate-constraints\n\nChange-Id: Ib83f229d1adbb0ea91341ffdf0b0b8dd49fea901\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,806320,82829ef283d885f12bdcbae05e4431331175cf4e,21,2,5,11131,,,0,"Updated from generate-constraints

Change-Id: Ib83f229d1adbb0ea91341ffdf0b0b8dd49fea901
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/20/806320/5 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,75112440af6f18eada65bf78f1ff66ef841b072a,openstack/requirements/constraints/noclob,XStatic-Angular===1.8.2.1oslo.messaging===12.9.1pkg_resources===0.0.0ruamel.yaml===0.17.14cliff===3.9.0importlib-metadata===4.7.1boto3===1.18.30sushy===3.12.0botocore===1.21.30oslo.db===11.0.0oslo.privsep===2.6.2fasteners===0.16.3,XStatic-Angular===1.5.8.0oslo.messaging===12.9.0ruamel.yaml===0.17.13cliff===3.8.0importlib-metadata===4.6.4boto3===1.18.28sushy===3.11.1botocore===1.21.28oslo.db===10.0.0oslo.privsep===2.6.1fasteners===0.14.1setuptools===57.4.0,12,12
openstack%2Frequirements~stable%2Fussuri~I223d5e80df1b2c820d59349109c19831e0fc2ec2,openstack/requirements,stable/ussuri,I223d5e80df1b2c820d59349109c19831e0fc2ec2,update constraint for os-brick to new release 3.0.7,MERGED,2021-08-30 14:24:51.000000000,2021-08-30 18:12:35.000000000,2021-08-30 18:12:35.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-30 14:24:51.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/460ac3244ff19c78c54a297c25e6a15b933da9c1', 'message': 'update constraint for os-brick to new release 3.0.7\n\nmeta: version: 3.0.7\nmeta: diff-start: -\nmeta: series: ussuri\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: I7547ff40737f90aa3a43698e35644e6dfb5a3931\nmeta: release:Code-Review+1: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I223d5e80df1b2c820d59349109c19831e0fc2ec2\n'}]",0,806601,460ac3244ff19c78c54a297c25e6a15b933da9c1,7,3,1,11131,,,0,"update constraint for os-brick to new release 3.0.7

meta: version: 3.0.7
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: I7547ff40737f90aa3a43698e35644e6dfb5a3931
meta: release:Code-Review+1: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I223d5e80df1b2c820d59349109c19831e0fc2ec2
",git fetch https://review.opendev.org/openstack/requirements refs/changes/01/806601/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,460ac3244ff19c78c54a297c25e6a15b933da9c1,new-release,os-brick===3.0.7,os-brick===3.0.6,1,1
openstack%2Fpython-tripleoclient~master~I937ab6160a7c9c43d7462b2f51c6b00fbb9af92c,openstack/python-tripleoclient,master,I937ab6160a7c9c43d7462b2f51c6b00fbb9af92c,Ensure directories exist before copying,MERGED,2021-08-19 20:01:42.000000000,2021-08-30 18:06:42.000000000,2021-08-30 18:05:01.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-19 20:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/71922189358d537f2b0e7119f8bf144cec92757f', 'message': 'Ensure directories exist before copying\n\nWhen copying items using the overcloud_image module the _copy_file\nmethod should first ensure that the destination directory exists. This\nchange uses _make_dirs function which ensures the directory is created\nand accessible.\n\nrhbz: 1984448\n\nChange-Id: I937ab6160a7c9c43d7462b2f51c6b00fbb9af92c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2021-08-19 20:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/06e7865a720f0f70d9ad141a362c4f39373f83d9', 'message': 'Ensure directories exist before copying\n\nWhen copying items using the overcloud_image module the _copy_file\nmethod should first ensure that the destination directory exists. This\nchange uses _make_dirs function which ensures the directory is created\nand accessible.\n\nRelated: rhbz#1984448\nChange-Id: I937ab6160a7c9c43d7462b2f51c6b00fbb9af92c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2021-08-20 18:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/318b4ba17ddbf97e6a22d4d635fcc03941ffa5c7', 'message': 'Ensure directories exist before copying\n\nWhen copying items using the overcloud_image module the _copy_file\nmethod should first ensure that the destination directory exists. This\nchange uses _make_dirs function which ensures the directory is created\nand accessible.\n\nRelated: rhbz#1984448\nChange-Id: I937ab6160a7c9c43d7462b2f51c6b00fbb9af92c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2021-08-25 19:29:51.000000000', 'files': ['tripleoclient/v1/overcloud_image.py', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9c2e909ca292aa5038ef4fbda075cd802d947ffb', 'message': 'Ensure directories exist before copying\n\nWhen copying items using the overcloud_image module the _copy_file\nmethod should first ensure that the destination directory exists. This\nchange uses _make_dirs function which ensures the directory is created\nand accessible.\n\nRelated: rhbz#1984448\nChange-Id: I937ab6160a7c9c43d7462b2f51c6b00fbb9af92c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",1,805291,9c2e909ca292aa5038ef4fbda075cd802d947ffb,16,4,4,7353,,,0,"Ensure directories exist before copying

When copying items using the overcloud_image module the _copy_file
method should first ensure that the destination directory exists. This
change uses _make_dirs function which ensures the directory is created
and accessible.

Related: rhbz#1984448
Change-Id: I937ab6160a7c9c43d7462b2f51c6b00fbb9af92c
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/91/805291/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_image.py'],1,71922189358d537f2b0e7119f8bf144cec92757f,, self._make_dirs(path=os.path.dirname(dest)),,1,0
openstack%2Fvalidations-common~master~I613203698b726941162239185de77949bf30254c,openstack/validations-common,master,I613203698b726941162239185de77949bf30254c,callback adjustment for no hosts matched,MERGED,2021-07-09 09:03:44.000000000,2021-08-30 17:56:39.000000000,2021-08-30 17:54:40.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-07-09 09:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/da582c8b4987de26fbcd43b14c9e7c81f21d1237', 'message': 'DNM callback adjustment for no hosts matched\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I613203698b726941162239185de77949bf30254c\n'}, {'number': 2, 'created': '2021-07-09 11:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/2131de6f9a8a5e9be61402707bb6ff634a56f224', 'message': 'DNM callback adjustment for no hosts matched\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I613203698b726941162239185de77949bf30254c\n'}, {'number': 3, 'created': '2021-07-13 07:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/5bd7220d59c5d9103241f33d06705de93ad0f13f', 'message': 'DNM callback adjustment for no hosts matched\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I613203698b726941162239185de77949bf30254c\n'}, {'number': 4, 'created': '2021-07-13 07:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/1f4b8897dd905d7f3315e0350714d2ba3fdbeb50', 'message': 'DNM callback adjustment for no hosts matched\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I613203698b726941162239185de77949bf30254c\n'}, {'number': 5, 'created': '2021-07-14 08:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/f33fc9f16e4ae5f8099f9b28cacd4c074cd36725', 'message': 'DNM callback adjustment for no hosts matched\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I613203698b726941162239185de77949bf30254c\n'}, {'number': 6, 'created': '2021-07-28 07:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/c7c9bc3601c118fa9d598d739dfbed4c07e69a61', 'message': ""callback adjustment for no hosts matched\n\nThe validation_json callback will now consider the no hosts being matched\ncase as a validation failure. And record the result as such.\n\nTo prevent unnecessary confusion, the host indicated in the created\nlog file will be designated as 'No host matched'. And will be displayed\nas such on the VF stdout.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I613203698b726941162239185de77949bf30254c\n""}, {'number': 7, 'created': '2021-07-28 08:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/c8fc177c86704c2f0c3bcb8c3c29ad1b5d0ca89d', 'message': ""callback adjustment for no hosts matched\n\nThe validation_json callback will now consider the no hosts being matched\ncase as a validation failure. And record the result as such.\n\nTo prevent unnecessary confusion, the host indicated in the created\nlog file will be designated as 'No host matched'. And will be displayed\nas such on the VF stdout.\n\nBasic test coverage included.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I613203698b726941162239185de77949bf30254c\n""}, {'number': 8, 'created': '2021-08-02 05:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/e7cb40cd98bf7fbaabbc712e8e223e83d7cd7ac4', 'message': ""callback adjustment for no hosts matched\n\nThe validation_json callback will now consider the no hosts being matched\ncase as a validation failure. And record the result as such.\n\nTo prevent unnecessary confusion, the host indicated in the created\nlog file will be designated as 'No host matched'. And will be displayed\nas such on the VF stdout.\n\nBasic test coverage included.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I613203698b726941162239185de77949bf30254c\n""}, {'number': 9, 'created': '2021-08-02 07:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/73e763670c51c3edb9207dcd418cef2c9ad84353', 'message': ""callback adjustment for no hosts matched\n\nThe validation_json callback will now consider the no hosts being matched\ncase as a validation failure. And record the result as such.\n\nTo prevent unnecessary confusion, the host indicated in the created\nlog file will be designated as 'No host matched'. And will be displayed\nas such on the VF stdout.\n\nBasic test coverage included.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I613203698b726941162239185de77949bf30254c\n""}, {'number': 10, 'created': '2021-08-24 06:47:42.000000000', 'files': ['validations_common/tests/callback_plugins/test_validation_json.py', 'validations_common/callback_plugins/validation_json.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/26ea5efffce9a80ab7a9df78faac0bd61b3db38e', 'message': ""callback adjustment for no hosts matched\n\nThe validation_json callback will now consider the no hosts being matched\ncase as a validation failure. And record the result as such.\n\nTo prevent unnecessary confusion, the host indicated in the created\nlog file will be designated as 'No host matched'. And will be displayed\nas such on the VF stdout.\n\nBasic test coverage included.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I613203698b726941162239185de77949bf30254c\n""}]",0,800169,26ea5efffce9a80ab7a9df78faac0bd61b3db38e,29,8,10,32926,,,0,"callback adjustment for no hosts matched

The validation_json callback will now consider the no hosts being matched
case as a validation failure. And record the result as such.

To prevent unnecessary confusion, the host indicated in the created
log file will be designated as 'No host matched'. And will be displayed
as such on the VF stdout.

Basic test coverage included.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I613203698b726941162239185de77949bf30254c
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/69/800169/5 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/callback_plugins/validation_json.py'],1,da582c8b4987de26fbcd43b14c9e7c81f21d1237,," def v2_playbook_on_no_hosts_matched(self): output = { 'plays': self.results, 'stats': { 'no_host_matched':{ 'changed': 0, 'failures': 1, 'ignored': 0, 'ok': 0, 'rescued': 0, 'skipped': 0, 'unreachable': 0}}, 'validation_output': self.simple_results } log_file = ""{}/{}_{}_{}.json"".format( VALIDATIONS_LOG_DIR, (os.getenv('ANSIBLE_UUID') if os.getenv('ANSIBLE_UUID') else self.results[0].get('play').get('id')), self.env['playbook_name'], self.current_time) with open(log_file, 'w') as js: js.write(json.dumps(output, cls=AnsibleJSONEncoder, indent=4, sort_keys=True)) ",,29,0
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I04f8eb15e58a2bec125f5de23ec2da7e51454e1c,openstack/python-tripleoclient,stable/wallaby,I04f8eb15e58a2bec125f5de23ec2da7e51454e1c,New test case and documentation for the export_stack function.,MERGED,2021-08-27 13:06:45.000000000,2021-08-30 17:56:17.000000000,2021-08-30 17:54:38.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-27 13:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9d69af4793474bae3dce345eee2e18e236d17335', 'message': ""New test case and documentation for the export_stack function.\n\nNew test case for handling a decoding error encountered\nwhile reading a file.\n\nFunction documentation moved to docstring from comment,\nand expanded to cover necessary API and implementation facts.\n\nToo general 'Exception', raised if there are no data to export\nfor the specific key, was changed to 'RuntimeError'.\n\nSome vars were renamed in order to improve readability.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I04f8eb15e58a2bec125f5de23ec2da7e51454e1c\n(cherry picked from commit 2939ed85bdcc73b1a061e5a0ad0eb9fa90fe1f09)\n""}, {'number': 2, 'created': '2021-08-30 07:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d4179f962d09bfe53fabd7a843a5a8c748789ba6', 'message': ""New test case and documentation for the export_stack function.\n\nNew test case for handling a decoding error encountered\nwhile reading a file.\n\nFunction documentation moved to docstring from comment,\nand expanded to cover necessary API and implementation facts.\n\nToo general 'Exception', raised if there are no data to export\nfor the specific key, was changed to 'RuntimeError'.\n\nSome vars were renamed in order to improve readability.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I04f8eb15e58a2bec125f5de23ec2da7e51454e1c\n(cherry picked from commit 2939ed85bdcc73b1a061e5a0ad0eb9fa90fe1f09)\n""}, {'number': 3, 'created': '2021-08-30 07:05:39.000000000', 'files': ['tripleoclient/tests/test_export.py', 'tripleoclient/export.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d35ec2fb28aaf74a0c1a7284368cb3257dd08231', 'message': ""New test case and documentation for the export_stack function.\n\nNew test case for handling a decoding error encountered\nwhile reading a file.\n\nFunction documentation moved to docstring from comment,\nand expanded to cover necessary API and implementation facts.\n\nToo general 'Exception', raised if there are no data to export\nfor the specific key, was changed to 'RuntimeError'.\n\nSome vars were renamed in order to improve readability.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I04f8eb15e58a2bec125f5de23ec2da7e51454e1c\n(cherry picked from commit 2939ed85bdcc73b1a061e5a0ad0eb9fa90fe1f09)\n""}]",0,806402,d35ec2fb28aaf74a0c1a7284368cb3257dd08231,12,10,3,32926,,,0,"New test case and documentation for the export_stack function.

New test case for handling a decoding error encountered
while reading a file.

Function documentation moved to docstring from comment,
and expanded to cover necessary API and implementation facts.

Too general 'Exception', raised if there are no data to export
for the specific key, was changed to 'RuntimeError'.

Some vars were renamed in order to improve readability.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I04f8eb15e58a2bec125f5de23ec2da7e51454e1c
(cherry picked from commit 2939ed85bdcc73b1a061e5a0ad0eb9fa90fe1f09)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/02/806402/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_export.py', 'tripleoclient/export.py']",2,9d69af4793474bae3dce345eee2e18e236d17335,," """"""Export stack information. Iterates over parameters selected for export and loads additional data from the referenced files. :param heat: tht client :type heat: Client :param stack: stack name for password generator :type stack: string :params should_filter: should the export only include values with keys defined in the 'filter' list. Defaults to `False` :type should_filter: bool :param config_download_dir: path to download directory, defaults to `constants.DEFAULT_WORK_DIR` :type config_download_dir: string :returns: data to export :rtype: dict The function detetermines what data to export using information, obtained from the preset `tripleoclient.constants.EXPORT_DATA` dictionary. parameter: Parameter to be exported file: If file is specified it is taken as source instead of heat output. File is relative to <config-download-dir>/stack. filter: in case only specific settings should be exported from parameter data. """""" with open(file, 'r') as parameter_file: try: export_data = json.load(parameter_file) except (TypeError, json.JSONDecodeError) as e: raise RuntimeError("," # data to export # parameter: Parameter to be exported # file: IF file specified it is taken as source instead of heat # output.File is relative to <config-download-dir>/stack. # filter: in case only specific settings should be # exported from parameter data. with open(file, 'r') as ff: try: export_data = json.load(ff) except Exception as e: raise Exception(",55,11
openstack%2Fkolla~master~I7cd753cf66b492c75a185e365cf988cabb9c0142,openstack/kolla,master,I7cd753cf66b492c75a185e365cf988cabb9c0142,haproxy: Use haproxy 2.2.x,MERGED,2021-08-13 09:46:12.000000000,2021-08-30 17:55:10.000000000,2021-08-30 17:52:56.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 27339}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-08-13 09:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2be245a431687201fb8656e88109c6f9a752a08b', 'message': 'haproxy: Use haproxy 2.2.x from nfv-extras repository\n\nChange-Id: I7cd753cf66b492c75a185e365cf988cabb9c0142\n'}, {'number': 2, 'created': '2021-08-23 09:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0aa6be5463fe95cee82412874a6a6e9dfda33055', 'message': 'haproxy: Use haproxy 2.2.x\n\nFor CentOS nfv-extras repository will be used, for Debian/Ubuntu PPA maintained\nby Vincent Bernat.\n\nChange-Id: I7cd753cf66b492c75a185e365cf988cabb9c0142\n'}, {'number': 3, 'created': '2021-08-23 12:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/314807984b4f72911c4acd465373e5a6ed79777c', 'message': 'haproxy: Use haproxy 2.2.x\n\nFor CentOS nfv-extras repository will be used, for Ubuntu - a PPA\nmaintained by Vincent Bernat. Debian Bullseye already uses 2.2.\n\nChange-Id: I7cd753cf66b492c75a185e365cf988cabb9c0142\n'}, {'number': 4, 'created': '2021-08-26 11:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a2fa94d81fe6e2e7c3125713dcde6621d5d96dfd', 'message': 'haproxy: Use haproxy 2.2.x\n\nFor CentOS nfv-extras repository will be used, for Ubuntu - a PPA\nmaintained by Vincent Bernat. Debian Bullseye already uses 2.2.\n\nChange-Id: I7cd753cf66b492c75a185e365cf988cabb9c0142\n'}, {'number': 5, 'created': '2021-08-26 12:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2b475bad5d488e02418a396081bf7b40ca56f80d', 'message': 'haproxy: Use haproxy 2.2.x\n\nFor CentOS nfv-extras repository will be used, for Ubuntu - a PPA\nmaintained by Vincent Bernat. Debian Bullseye already uses 2.2.\n\nChange-Id: I7cd753cf66b492c75a185e365cf988cabb9c0142\n'}, {'number': 6, 'created': '2021-08-27 06:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2c9bcfe14790530313003e2f5f6c795898179e14', 'message': 'haproxy: Use haproxy 2.2.x\n\nFor CentOS nfv-extras repository will be used, for Ubuntu - a PPA\nmaintained by Vincent Bernat (Debian developer and package maintainer)..\nDebian Bullseye already uses 2.2.\n\nChange-Id: I7cd753cf66b492c75a185e365cf988cabb9c0142\n'}, {'number': 7, 'created': '2021-08-27 08:52:53.000000000', 'files': ['releasenotes/notes/haproxy-22-aeac8a3fa330f972.yaml', 'docker/base/Dockerfile.j2', 'docker/haproxy/Dockerfile.j2', 'kolla/template/repos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2168224aa333030d77a01ba7e727a58aa7560c69', 'message': 'haproxy: Use haproxy 2.2.x\n\nFor CentOS nfv-extras repository will be used, for Ubuntu - a PPA\nmaintained by Vincent Bernat (Debian developer and package maintainer)..\nDebian Bullseye already uses 2.2.\n\nChange-Id: I7cd753cf66b492c75a185e365cf988cabb9c0142\n'}]",7,804513,2168224aa333030d77a01ba7e727a58aa7560c69,40,7,7,22629,,,0,"haproxy: Use haproxy 2.2.x

For CentOS nfv-extras repository will be used, for Ubuntu - a PPA
maintained by Vincent Bernat (Debian developer and package maintainer)..
Debian Bullseye already uses 2.2.

Change-Id: I7cd753cf66b492c75a185e365cf988cabb9c0142
",git fetch https://review.opendev.org/openstack/kolla refs/changes/13/804513/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'docker/haproxy/Dockerfile.j2', 'kolla/template/repos.yaml']",3,2be245a431687201fb8656e88109c6f9a752a08b,," haproxy: ""centos-nfv-extras"" haproxy: ""centos-nfv-extras""",,6,0
openstack%2Fbarbican-tempest-plugin~master~I80aba2934110965866d1583309df7f2ca9ef4c27,openstack/barbican-tempest-plugin,master,I80aba2934110965866d1583309df7f2ca9ef4c27,Add secure-rbac test for Containers,MERGED,2021-08-24 13:38:06.000000000,2021-08-30 17:51:42.000000000,2021-08-30 17:51:42.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 33774}]","[{'number': 1, 'created': '2021-08-24 13:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/439f6d141924df9f8207ccd0ae17dc43d4b08f95', 'message': 'Add secure-rbac test for Containers\n\nThis patch adds rbac tests to the Containers resource to test\nsecure-rbac policies within a project\n\nThis patch also removes the use of do_request in the existing tests\nas that method is being deprecated in favor of using the clients\ndirectly.\n\nChange-Id: I80aba2934110965866d1583309df7f2ca9ef4c27\n'}, {'number': 2, 'created': '2021-08-24 14:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/e12adf7c72022ff51352727094e2dcff2a9cb624', 'message': 'Add secure-rbac test for Containers\n\nThis patch adds rbac tests to the Containers resource to test\nsecure-rbac policies within a project\n\nThis patch also removes the use of do_request in the existing tests\nas that method is being deprecated in favor of using the clients\ndirectly.\n\n* PEP8 Fixes\n\nChange-Id: I80aba2934110965866d1583309df7f2ca9ef4c27\n'}, {'number': 3, 'created': '2021-08-25 16:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/34bcf65ad3ddbbc608382f42cf9fb5e67fa0b439', 'message': 'Add secure-rbac test for Containers\n\nThis patch adds rbac tests to the Containers resource to test\nsecure-rbac policies within a project\n\nThis patch also removes the use of do_request in the existing tests\nas that method is being deprecated in favor of using the clients\ndirectly.\n\n* PEP8 Fixes\n* Fix the plurality of the method names\n* Remove _by_id from certain methods to maintain consistency\n\nChange-Id: I80aba2934110965866d1583309df7f2ca9ef4c27\n'}, {'number': 4, 'created': '2021-08-26 18:18:17.000000000', 'files': ['barbican_tempest_plugin/tests/rbac/v1/base.py', 'barbican_tempest_plugin/tests/rbac/v1/test_containers.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/4e5e45748d310f7e944dee17427205b430a954d9', 'message': 'Add secure-rbac test for Containers\n\nThis patch adds rbac tests to the Containers resource to test\nsecure-rbac policies within a project\n\nThis patch also removes the use of do_request in the existing tests\nas that method is being deprecated in favor of using the clients\ndirectly.\n\n* PEP8 Fixes\n* Fix the plurality of the method names\n* Remove _by_id from certain methods to maintain consistency\n\nChange-Id: I80aba2934110965866d1583309df7f2ca9ef4c27\n'}]",42,805853,4e5e45748d310f7e944dee17427205b430a954d9,14,5,4,7414,,,0,"Add secure-rbac test for Containers

This patch adds rbac tests to the Containers resource to test
secure-rbac policies within a project

This patch also removes the use of do_request in the existing tests
as that method is being deprecated in favor of using the clients
directly.

* PEP8 Fixes
* Fix the plurality of the method names
* Remove _by_id from certain methods to maintain consistency

Change-Id: I80aba2934110965866d1583309df7f2ca9ef4c27
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/53/805853/4 && git format-patch -1 --stdout FETCH_HEAD,"['barbican_tempest_plugin/tests/rbac/v1/base.py', 'barbican_tempest_plugin/tests/rbac/v1/test_containers.py']",2,439f6d141924df9f8207ccd0ae17dc43d4b08f95,secure_rbac," This test must check: This test must check: This test must check: def test_get_container_acl(self): """"""Test get_container_acl policy Testing: GET /v1/containers/{container-id}/acl This test must check: * whether the persona can get a containers acl """""" raise NotImplementedError @abc.abstractmethod def test_update_container_acl(self): """"""Test update_container_acl policy Testing: PATCH /v1/containers/{container-id}/acl This test must check: * whether the persona can update an existing containers acl """""" raise NotImplementedError @abc.abstractmethod def test_create_container_acl(self): """"""Test create_container_acl policy Testing: PUT /v1/containers/{container-id}/acl This test must check: * whether the persona can create a containers acl """""" raise NotImplementedError @abc.abstractmethod def test_delete_container_acl(self): """"""Test delete_container_acl policy Testing: DELETE /v1/containers/{container-id} This test must check: * whether the persona can delete a containers acl """""" raise NotImplementedError @abc.abstractmethod def test_list_container_consumers(self): """"""Test list_container_consumers policy Testing: GET /v1/containers/{container-id}/consumers This test must check: * whether the persona can list a containers consumers """""" raise NotImplementedError @abc.abstractmethod def test_create_container_consumers(self): """"""Test create_container_consumers policy Testing: POST /v1/containers/{container-id}/consumers This test must check: * whether the persona can create a consumer of the container """""" raise NotImplementedError @abc.abstractmethod def test_get_containers_consumer_by_id(self): """"""Test get_containers_consumer_by_id policy Testing: GET /v1/containers/{container-id}/consumers/{consumer-id} This test must check: * whether the persona can get a containers consumer by id """""" raise NotImplementedError @abc.abstractmethod def test_delete_containers_consumer_by_id(self): """"""Test delete_containers_consumer_by_id policy Testing: DELETE /v1/containers/{container-id}/consumers/{consumer-id} This test must check: * whether the persona can delete a containers consumer by id """""" raise NotImplementedError @abc.abstractmethod This test must check: This test must check:class ProjectReaderTests(base.BarbicanV1RbacBase, BarbicanV1RbacContainers): @classmethod def setup_clients(cls): super().setup_clients() cls.client = cls.os_project_reader.secret_v1.ContainerClient() cls.secret_client = cls.os_project_reader.secret_v1.SecretClient() cls.consumer_client = cls.os_project_reader.secret_v1.ConsumerClient(service='key-manager') def test_list_containers(self): self.assertRaises( exceptions.Forbidden, self.client.list_containers) def test_create_container(self): self.assertRaises( exceptions.Forbidden, self.client.create_container) def test_get_container(self): resp = self.create_empty_container_admin('test_reader_get_container') container_id = self.ref_to_uuid(resp['container_ref']) self.assertRaises( exceptions.Forbidden, self.client.get_container, container_id = container_id) def test_delete_container(self): resp = self.create_empty_container_admin('test_reader_delete_container') container_id = self.ref_to_uuid(resp['container_ref']) self.assertRaises( exceptions.Forbidden, self.client.delete_container, container_id = container_id) def test_get_container_acl(self): pass def test_update_container_acl(self): pass def test_create_container_acl(self): pass def test_delete_container_acl(self): pass def test_list_container_consumers(self): pass def test_create_container_consumers(self): pass def test_get_containers_consumer_by_id(self): pass def test_delete_containers_consumer_by_id(self): pass def test_add_secret_to_container(self): resp = self.create_empty_container_admin('test_reader_add_secret_to_container_container') container_id = self.ref_to_uuid(resp['container_ref']) resp = self.create_empty_secret_admin('test_reader_add_secret_to_container_secret') secret_id = self.ref_to_uuid(resp['secret_ref']) self.assertRaises( exceptions.Forbidden, self.client.add_secret_to_container, container_id = container_id, secret_id = secret_id) def test_delete_secret_from_container(self): resp = self.create_empty_container_admin('test_reader_delete_secret_from_container_container') container_id = self.ref_to_uuid(resp['container_ref']) resp = self.create_empty_secret_admin('test_reader_delete_secret_from_container_secret') secret_id = self.ref_to_uuid(resp['secret_ref']) self.assertRaises( exceptions.Forbidden, self.client.delete_secret_from_container, container_id = container_id, secret_id = secret_id) class ProjectMemberTests(ProjectReaderTests): cls.consumer_client = cls.os_project_member.secret_v1.ConsumerClient() self.client.create_container( name='test_list_containers', type='generic') resp = self.client.list_containers(name='test_list_containers') self.client.create_container( name='test_create_containers', type='generic') resp = self.client.create_container( name='get_container', type='generic') resp = self.client.get_container(container_id=container_id) resp = self.client.create_container( name='delete_container', type='generic') self.client.delete_container(container_id) resp = self.client.create_container( name='add_secret_to_container_c', type='generic') resp = self.secret_client.create_secret( payload_content_type='text/plain') secret_id = self.ref_to_uuid(resp['secret_ref']) self.client.add_secret_to_container( container_id=container_id, secret_id=secret_id) resp = self.client.create_container( name='add_secret_to_container_c', type='generic') resp = self.secret_client.create_secret( name='add_secret_to_container_s', payload_content_type='text/plain') self.client.add_secret_to_container( container_id=container_id, secret_id=secret_id) self.client.delete_secret_from_container( container_id=container_id, secret_id=secret_id) cls.consumer_client = cls.os_project_member.secret_v1.ConsumerClient()"," Thist test must check: Thist test must check: Thist test must check: Thist test must check: Thist test must check: class ProjectMemberTests(base.BarbicanV1RbacBase, BarbicanV1RbacContainers): self.do_request('create_container', cleanup='container', name='list_containers', type='generic') resp = self.do_request('list_containers') self.do_request('create_container', cleanup='container', name='create_container', type='generic') resp = self.do_request('create_container', cleanup='container', name='get_container', type='generic') resp = self.do_request('get_container', container_id=container_id) resp = self.do_request('create_container', name='delete_container', type='generic') resp = self.do_request('delete_container', container_id=container_id) resp = self.do_request('create_container', cleanup='container', name='add_secret_to_container_c', type='generic') resp = self.do_request( 'create_secret', client=self.secret_client, payload_content_type='text/plain' ) secret_id = self.ref_to_uuid(resp['secret_ref']) resp = self.do_request('add_secret_to_container', container_id=container_id, secret_id=secret_id) resp = self.do_request('create_container', cleanup='container', name='delete_secret_from_container_c', type='generic') resp = self.do_request( 'create_secret', client=self.secret_client, name='delete_secret_from_container_s', payload_content_type='text/plain' ) self.do_request('add_secret_to_container', container_id=container_id, secret_id=secret_id) resp = self.do_request('delete_secret_from_container', container_id=container_id, secret_id=secret_id) class ProjectReaderTests(base.BarbicanV1RbacBase, BarbicanV1RbacContainers): @classmethod def setup_clients(cls): super().setup_clients() cls.client = cls.os_project_reader.secret_v1.ContainerClient() def test_list_containers(self): self.do_request('list_containers', expected_status=exceptions.Forbidden) def test_create_container(self): self.do_request('create_container', expected_status=exceptions.Forbidden, name='create_container', type='generic') def test_get_container(self): resp = self.do_request( 'create_container', client=self.os_project_member.secret_v1.ContainerClient(), cleanup='container', name='create_container', type='generic' ) container_id = self.ref_to_uuid(resp['container_ref']) self.do_request('get_container', expected_status=exceptions.Forbidden, container_id=container_id) def test_delete_container(self): resp = self.do_request( 'create_container', client=self.os_project_member.secret_v1.ContainerClient(), cleanup='container', name='delete_container', type='generic' ) container_id = self.ref_to_uuid(resp['container_ref']) self.do_request('delete_container', expected_status=exceptions.Forbidden, container_id=container_id) def test_add_secret_to_container(self): resp = self.do_request( 'create_container', client=self.os_project_member.secret_v1.ContainerClient(), cleanup='container', name='add_secret_to_container_c', type='generic' ) container_id = self.ref_to_uuid(resp['container_ref']) resp = self.do_request( 'create_secret', client=self.os_project_member.secret_v1.SecretClient(), cleanup='secret', name='add_secret_to_container_s', secret_type='passphrase', payload='shhh... secret', payload_content_type='text/plain' ) secret_id = self.ref_to_uuid(resp['secret_ref']) self.do_request('add_secret_to_container', expected_status=exceptions.Forbidden, container_id=container_id, secret_id=secret_id) def test_delete_secret_from_container(self): resp = self.do_request( 'create_container', client=self.os_project_member.secret_v1.ContainerClient(), cleanup='container', name='delete_secret_from_container_c', type='generic' ) container_id = self.ref_to_uuid(resp['container_ref']) resp = self.do_request( 'create_secret', client=self.os_project_member.secret_v1.SecretClient(), cleanup='secret', name='delete_secret_from_container_s', secret_type='passphrase', payload='shhh... secret', payload_content_type='text/plain' ) secret_id = self.ref_to_uuid(resp['secret_ref']) self.do_request( 'add_secret_to_container', client=self.os_project_member.secret_v1.ContainerClient(), container_id=container_id, secret_id=secret_id ) self.do_request('delete_secret_from_container', expected_status=exceptions.Forbidden, container_id=container_id, secret_id=secret_id)",215,147
openstack%2Ftripleo-heat-templates~master~Ie4ced42fc32ec89a2d26fda95d43809010955492,openstack/tripleo-heat-templates,master,Ie4ced42fc32ec89a2d26fda95d43809010955492,Configure ironic to do UEFI boot by default,MERGED,2021-08-23 22:23:21.000000000,2021-08-30 17:26:18.000000000,2021-08-30 17:26:18.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-08-23 22:23:21.000000000', 'files': ['deployment/ironic/ironic-conductor-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3100829b949bd75ce214fc500f5375cfc87ec5d2', 'message': ""Configure ironic to do UEFI boot by default\n\nThe current default boot mode of legacy BIOS is no longer appropriate.\nIt should only be used for systems which don't support UEFI (such as\nPower) or systems with specific UEFI bugs which prevent UEFI boot\nbeing used.\n\nThese exceptions can be handled by setting boot_mode:bios\non the node capabilities either during node import or configure.\n\nBlueprint: whole-disk-default\nChange-Id: Ie4ced42fc32ec89a2d26fda95d43809010955492\n""}]",0,805732,3100829b949bd75ce214fc500f5375cfc87ec5d2,14,5,1,4571,,,0,"Configure ironic to do UEFI boot by default

The current default boot mode of legacy BIOS is no longer appropriate.
It should only be used for systems which don't support UEFI (such as
Power) or systems with specific UEFI bugs which prevent UEFI boot
being used.

These exceptions can be handled by setting boot_mode:bios
on the node capabilities either during node import or configure.

Blueprint: whole-disk-default
Change-Id: Ie4ced42fc32ec89a2d26fda95d43809010955492
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/805732/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-conductor-container-puppet.yaml'],1,3100829b949bd75ce214fc500f5375cfc87ec5d2,bp/whole-disk-default, ironic::conductor::default_boot_mode: 'uefi' ironic::drivers::ilo::default_boot_mode: 'uefi', # NOTE(emilien): ILO defaulting to UEFI does not match other drivers so bios is used. ironic::drivers::ilo::default_boot_mode: 'bios',2,2
openstack%2Fcinder~master~I98bd4d7a54906b613daaf14233d749da1e1531d5,openstack/cinder,master,I98bd4d7a54906b613daaf14233d749da1e1531d5,Improve quota usage for temporary resources,MERGED,2021-04-15 10:03:07.000000000,2021-08-30 17:22:45.000000000,2021-08-28 15:56:37.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-04-15 10:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a4c50637ec3db801d82ddcf43ee0857ac4365225', 'message': 'Improve quota usage for temporary resources\n\nCinder creates temporary resources, volumes and snapshots, during some\nof its operations, and these resources aren\'t counted towards quota\nusage.\n\nCinder currently has a problem to track quota usage is when deleting\ntemporary resources.\n\nDetermining which volumes are temporary is a bit inconvenient because we\nhave to check the migration status as well as the admin metadata, so\nthey have been the source of several bugs, though they should be\nproperly tracked now.\n\nFor snapshots we don\'t have any way to track which ones are temporary,\nwhich creates some issues:\n\n- Quota sync mechanism will count them as normal snapshots.\n\n- Manually deleting temporary snapshots after an operation fails will\n  mess the quota.\n\n- If we are using snapshots instead of clones for backups of in-use\n  volumes the quota will be messed on completion.\n\nThis patch proposes the introduction of a new field for those database\nresource tables where we create temporary resources: volumes and\nsnaphots.\n\nThe field will be called ""use_quota"" and will be set to False for\ntemporary resources to indicate that we don\'t want them to be counted\ntowards quota on deletion.\n\nInstead of using ""temporary"" as the field name ""use_quota"" was used to\nallow other cases that should not do quota in the future.\n\nMoving from our current mechanism to the new one is a multi-release\nprocess because we need to have backward compatibility code for rolling\nupgrades.\n\nThis patch adds everything needed to complete the multi-release process\nso that anybody can submit next release patches.  To do so the patch\nadds backward compatible code adding the feature in this release and\nTODO comments with the exact changes that need to be done for the next\n2 releases.\n\nThe removal of the compatibility code will be done in the next release,\nand in the one after that we\'ll remove the temporary metadata rows that\nmay still exist in the database.\n\nWith this new field we\'ll be able to make our DB queries more efficient\nfor quota usage calculations, reduce the chances of introducing new\nquota usage bugs in the future, and allow users to filter in/out\ntemporary volumes on listings.\n\nCloses-Bug: #1923828\nCloses-Bug: #1923829\nCloses-Bug: #1923830\nChange-Id: I98bd4d7a54906b613daaf14233d749da1e1531d5\n'}, {'number': 2, 'created': '2021-04-15 19:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/639e59f1dbad53e55b76acaa70565690d65a404a', 'message': 'Improve quota usage for temporary resources\n\nCinder creates temporary resources, volumes and snapshots, during some\nof its operations, and these resources aren\'t counted towards quota\nusage.\n\nCinder currently has a problem to track quota usage is when deleting\ntemporary resources.\n\nDetermining which volumes are temporary is a bit inconvenient because we\nhave to check the migration status as well as the admin metadata, so\nthey have been the source of several bugs, though they should be\nproperly tracked now.\n\nFor snapshots we don\'t have any way to track which ones are temporary,\nwhich creates some issues:\n\n- Quota sync mechanism will count them as normal snapshots.\n\n- Manually deleting temporary snapshots after an operation fails will\n  mess the quota.\n\n- If we are using snapshots instead of clones for backups of in-use\n  volumes the quota will be messed on completion.\n\nThis patch proposes the introduction of a new field for those database\nresource tables where we create temporary resources: volumes and\nsnaphots.\n\nThe field will be called ""use_quota"" and will be set to False for\ntemporary resources to indicate that we don\'t want them to be counted\ntowards quota on deletion.\n\nInstead of using ""temporary"" as the field name ""use_quota"" was used to\nallow other cases that should not do quota in the future.\n\nMoving from our current mechanism to the new one is a multi-release\nprocess because we need to have backward compatibility code for rolling\nupgrades.\n\nThis patch adds everything needed to complete the multi-release process\nso that anybody can submit next release patches.  To do so the patch\nadds backward compatible code adding the feature in this release and\nTODO comments with the exact changes that need to be done for the next\n2 releases.\n\nThe removal of the compatibility code will be done in the next release,\nand in the one after that we\'ll remove the temporary metadata rows that\nmay still exist in the database.\n\nWith this new field we\'ll be able to make our DB queries more efficient\nfor quota usage calculations, reduce the chances of introducing new\nquota usage bugs in the future, and allow users to filter in/out\ntemporary volumes on listings.\n\nCloses-Bug: #1923828\nCloses-Bug: #1923829\nCloses-Bug: #1923830\nChange-Id: I98bd4d7a54906b613daaf14233d749da1e1531d5\n'}, {'number': 3, 'created': '2021-05-10 16:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/df6e906dfeb11c514af6e7674106ab4a74f0a851', 'message': 'Improve quota usage for temporary resources\n\nCinder creates temporary resources, volumes and snapshots, during some\nof its operations, and these resources aren\'t counted towards quota\nusage.\n\nCinder currently has a problem to track quota usage is when deleting\ntemporary resources.\n\nDetermining which volumes are temporary is a bit inconvenient because we\nhave to check the migration status as well as the admin metadata, so\nthey have been the source of several bugs, though they should be\nproperly tracked now.\n\nFor snapshots we don\'t have any way to track which ones are temporary,\nwhich creates some issues:\n\n- Quota sync mechanism will count them as normal snapshots.\n\n- Manually deleting temporary snapshots after an operation fails will\n  mess the quota.\n\n- If we are using snapshots instead of clones for backups of in-use\n  volumes the quota will be messed on completion.\n\nThis patch proposes the introduction of a new field for those database\nresource tables where we create temporary resources: volumes and\nsnaphots.\n\nThe field will be called ""use_quota"" and will be set to False for\ntemporary resources to indicate that we don\'t want them to be counted\ntowards quota on deletion.\n\nInstead of using ""temporary"" as the field name ""use_quota"" was used to\nallow other cases that should not do quota in the future.\n\nMoving from our current mechanism to the new one is a multi-release\nprocess because we need to have backward compatibility code for rolling\nupgrades.\n\nThis patch adds everything needed to complete the multi-release process\nso that anybody can submit next release patches.  To do so the patch\nadds backward compatible code adding the feature in this release and\nTODO comments with the exact changes that need to be done for the next\n2 releases.\n\nThe removal of the compatibility code will be done in the next release,\nand in the one after that we\'ll remove the temporary metadata rows that\nmay still exist in the database.\n\nWith this new field we\'ll be able to make our DB queries more efficient\nfor quota usage calculations, reduce the chances of introducing new\nquota usage bugs in the future, and allow users to filter in/out\ntemporary volumes on listings.\n\nCloses-Bug: #1923828\nCloses-Bug: #1923829\nCloses-Bug: #1923830\nChange-Id: I98bd4d7a54906b613daaf14233d749da1e1531d5\n'}, {'number': 4, 'created': '2021-05-13 13:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dda7f56b94b2ccc7ad0a87ea7ba9d819fcd02a61', 'message': 'Improve quota usage for temporary resources\n\nCinder creates temporary resources, volumes and snapshots, during some\nof its operations, and these resources aren\'t counted towards quota\nusage.\n\nCinder currently has a problem to track quota usage is when deleting\ntemporary resources.\n\nDetermining which volumes are temporary is a bit inconvenient because we\nhave to check the migration status as well as the admin metadata, so\nthey have been the source of several bugs, though they should be\nproperly tracked now.\n\nFor snapshots we don\'t have any way to track which ones are temporary,\nwhich creates some issues:\n\n- Quota sync mechanism will count them as normal snapshots.\n\n- Manually deleting temporary snapshots after an operation fails will\n  mess the quota.\n\n- If we are using snapshots instead of clones for backups of in-use\n  volumes the quota will be messed on completion.\n\nThis patch proposes the introduction of a new field for those database\nresource tables where we create temporary resources: volumes and\nsnaphots.\n\nThe field will be called ""use_quota"" and will be set to False for\ntemporary resources to indicate that we don\'t want them to be counted\ntowards quota on deletion.\n\nInstead of using ""temporary"" as the field name ""use_quota"" was used to\nallow other cases that should not do quota in the future.\n\nMoving from our current mechanism to the new one is a multi-release\nprocess because we need to have backward compatibility code for rolling\nupgrades.\n\nThis patch adds everything needed to complete the multi-release process\nso that anybody can submit next release patches.  To do so the patch\nadds backward compatible code adding the feature in this release and\nTODO comments with the exact changes that need to be done for the next\n2 releases.\n\nThe removal of the compatibility code will be done in the next release,\nand in the one after that we\'ll remove the temporary metadata rows that\nmay still exist in the database.\n\nWith this new field we\'ll be able to make our DB queries more efficient\nfor quota usage calculations, reduce the chances of introducing new\nquota usage bugs in the future, and allow users to filter in/out\ntemporary volumes on listings.\n\nCloses-Bug: #1923828\nCloses-Bug: #1923829\nCloses-Bug: #1923830\nChange-Id: I98bd4d7a54906b613daaf14233d749da1e1531d5\n'}, {'number': 5, 'created': '2021-05-20 15:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c179a83157303d84a2dffceae6f8dda2981a52cc', 'message': 'Improve quota usage for temporary resources\n\nCinder creates temporary resources, volumes and snapshots, during some\nof its operations, and these resources aren\'t counted towards quota\nusage.\n\nCinder currently has a problem to track quota usage is when deleting\ntemporary resources.\n\nDetermining which volumes are temporary is a bit inconvenient because we\nhave to check the migration status as well as the admin metadata, so\nthey have been the source of several bugs, though they should be\nproperly tracked now.\n\nFor snapshots we don\'t have any way to track which ones are temporary,\nwhich creates some issues:\n\n- Quota sync mechanism will count them as normal snapshots.\n\n- Manually deleting temporary snapshots after an operation fails will\n  mess the quota.\n\n- If we are using snapshots instead of clones for backups of in-use\n  volumes the quota will be messed on completion.\n\nThis patch proposes the introduction of a new field for those database\nresource tables where we create temporary resources: volumes and\nsnaphots.\n\nThe field will be called ""use_quota"" and will be set to False for\ntemporary resources to indicate that we don\'t want them to be counted\ntowards quota on deletion.\n\nInstead of using ""temporary"" as the field name ""use_quota"" was used to\nallow other cases that should not do quota in the future.\n\nMoving from our current mechanism to the new one is a multi-release\nprocess because we need to have backward compatibility code for rolling\nupgrades.\n\nThis patch adds everything needed to complete the multi-release process\nso that anybody can submit next release patches.  To do so the patch\nadds backward compatible code adding the feature in this release and\nTODO comments with the exact changes that need to be done for the next\n2 releases.\n\nThe removal of the compatibility code will be done in the next release,\nand in the one after that we\'ll remove the temporary metadata rows that\nmay still exist in the database.\n\nWith this new field we\'ll be able to make our DB queries more efficient\nfor quota usage calculations, reduce the chances of introducing new\nquota usage bugs in the future, and allow users to filter in/out\ntemporary volumes on listings.\n\nCloses-Bug: #1923828\nCloses-Bug: #1923829\nCloses-Bug: #1923830\nChange-Id: I98bd4d7a54906b613daaf14233d749da1e1531d5\n'}, {'number': 6, 'created': '2021-05-25 14:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/10f680de4462513d22f0c13914ae363f8ee464c4', 'message': 'Improve quota usage for temporary resources\n\nCinder creates temporary resources, volumes and snapshots, during some\nof its operations, and these resources aren\'t counted towards quota\nusage.\n\nCinder currently has a problem to track quota usage is when deleting\ntemporary resources.\n\nDetermining which volumes are temporary is a bit inconvenient because we\nhave to check the migration status as well as the admin metadata, so\nthey have been the source of several bugs, though they should be\nproperly tracked now.\n\nFor snapshots we don\'t have any way to track which ones are temporary,\nwhich creates some issues:\n\n- Quota sync mechanism will count them as normal snapshots.\n\n- Manually deleting temporary snapshots after an operation fails will\n  mess the quota.\n\n- If we are using snapshots instead of clones for backups of in-use\n  volumes the quota will be messed on completion.\n\nThis patch proposes the introduction of a new field for those database\nresource tables where we create temporary resources: volumes and\nsnaphots.\n\nThe field will be called ""use_quota"" and will be set to False for\ntemporary resources to indicate that we don\'t want them to be counted\ntowards quota on deletion.\n\nInstead of using ""temporary"" as the field name ""use_quota"" was used to\nallow other cases that should not do quota in the future.\n\nMoving from our current mechanism to the new one is a multi-release\nprocess because we need to have backward compatibility code for rolling\nupgrades.\n\nThis patch adds everything needed to complete the multi-release process\nso that anybody can submit next release patches.  To do so the patch\nadds backward compatible code adding the feature in this release and\nTODO comments with the exact changes that need to be done for the next\n2 releases.\n\nThe removal of the compatibility code will be done in the next release,\nand in the one after that we\'ll remove the temporary metadata rows that\nmay still exist in the database.\n\nWith this new field we\'ll be able to make our DB queries more efficient\nfor quota usage calculations, reduce the chances of introducing new\nquota usage bugs in the future, and allow users to filter in/out\ntemporary volumes on listings.\n\nCloses-Bug: #1923828\nCloses-Bug: #1923829\nCloses-Bug: #1923830\nChange-Id: I98bd4d7a54906b613daaf14233d749da1e1531d5\n'}, {'number': 7, 'created': '2021-05-31 10:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/26eb5b960fcb515b47c94429d2f7d038e1e90aeb', 'message': 'Improve quota usage for temporary resources\n\nCinder creates temporary resources, volumes and snapshots, during some\nof its operations, and these resources aren\'t counted towards quota\nusage.\n\nCinder currently has a problem to track quota usage is when deleting\ntemporary resources.\n\nDetermining which volumes are temporary is a bit inconvenient because we\nhave to check the migration status as well as the admin metadata, so\nthey have been the source of several bugs, though they should be\nproperly tracked now.\n\nFor snapshots we don\'t have any way to track which ones are temporary,\nwhich creates some issues:\n\n- Quota sync mechanism will count them as normal snapshots.\n\n- Manually deleting temporary snapshots after an operation fails will\n  mess the quota.\n\n- If we are using snapshots instead of clones for backups of in-use\n  volumes the quota will be messed on completion.\n\nThis patch proposes the introduction of a new field for those database\nresource tables where we create temporary resources: volumes and\nsnaphots.\n\nThe field will be called ""use_quota"" and will be set to False for\ntemporary resources to indicate that we don\'t want them to be counted\ntowards quota on deletion.\n\nInstead of using ""temporary"" as the field name ""use_quota"" was used to\nallow other cases that should not do quota in the future.\n\nMoving from our current mechanism to the new one is a multi-release\nprocess because we need to have backward compatibility code for rolling\nupgrades.\n\nThis patch adds everything needed to complete the multi-release process\nso that anybody can submit next release patches.  To do so the patch\nadds backward compatible code adding the feature in this release and\nTODO comments with the exact changes that need to be done for the next\n2 releases.\n\nThe removal of the compatibility code will be done in the next release,\nand in the one after that we\'ll remove the temporary metadata rows that\nmay still exist in the database.\n\nWith this new field we\'ll be able to make our DB queries more efficient\nfor quota usage calculations, reduce the chances of introducing new\nquota usage bugs in the future, and allow users to filter in/out\ntemporary volumes on listings.\n\nCloses-Bug: #1923828\nCloses-Bug: #1923829\nCloses-Bug: #1923830\nChange-Id: I98bd4d7a54906b613daaf14233d749da1e1531d5\n'}, {'number': 8, 'created': '2021-06-23 17:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9eb1400496debe7ee95649aa95abe804426ad516', 'message': 'Improve quota usage for temporary resources\n\nCinder creates temporary resources, volumes and snapshots, during some\nof its operations, and these resources aren\'t counted towards quota\nusage.\n\nCinder currently has a problem to track quota usage is when deleting\ntemporary resources.\n\nDetermining which volumes are temporary is a bit inconvenient because we\nhave to check the migration status as well as the admin metadata, so\nthey have been the source of several bugs, though they should be\nproperly tracked now.\n\nFor snapshots we don\'t have any way to track which ones are temporary,\nwhich creates some issues:\n\n- Quota sync mechanism will count them as normal snapshots.\n\n- Manually deleting temporary snapshots after an operation fails will\n  mess the quota.\n\n- If we are using snapshots instead of clones for backups of in-use\n  volumes the quota will be messed on completion.\n\nThis patch proposes the introduction of a new field for those database\nresource tables where we create temporary resources: volumes and\nsnaphots.\n\nThe field will be called ""use_quota"" and will be set to False for\ntemporary resources to indicate that we don\'t want them to be counted\ntowards quota on deletion.\n\nInstead of using ""temporary"" as the field name ""use_quota"" was used to\nallow other cases that should not do quota in the future.\n\nMoving from our current mechanism to the new one is a multi-release\nprocess because we need to have backward compatibility code for rolling\nupgrades.\n\nThis patch adds everything needed to complete the multi-release process\nso that anybody can submit next release patches.  To do so the patch\nadds backward compatible code adding the feature in this release and\nTODO comments with the exact changes that need to be done for the next\n2 releases.\n\nThe removal of the compatibility code will be done in the next release,\nand in the one after that we\'ll remove the temporary metadata rows that\nmay still exist in the database.\n\nWith this new field we\'ll be able to make our DB queries more efficient\nfor quota usage calculations, reduce the chances of introducing new\nquota usage bugs in the future, and allow users to filter in/out\ntemporary volumes on listings.\n\nCloses-Bug: #1923828\nCloses-Bug: #1923829\nCloses-Bug: #1923830\nImplements: blueprint temp-resources\nChange-Id: I98bd4d7a54906b613daaf14233d749da1e1531d5\n'}, {'number': 9, 'created': '2021-08-25 16:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f848c02cc78eefa3f0a9c301028e389e6688b594', 'message': 'Improve quota usage for temporary resources\n\nCinder creates temporary resources, volumes and snapshots, during some\nof its operations, and these resources aren\'t counted towards quota\nusage.\n\nCinder currently has a problem to track quota usage is when deleting\ntemporary resources.\n\nDetermining which volumes are temporary is a bit inconvenient because we\nhave to check the migration status as well as the admin metadata, so\nthey have been the source of several bugs, though they should be\nproperly tracked now.\n\nFor snapshots we don\'t have any way to track which ones are temporary,\nwhich creates some issues:\n\n- Quota sync mechanism will count them as normal snapshots.\n\n- Manually deleting temporary snapshots after an operation fails will\n  mess the quota.\n\n- If we are using snapshots instead of clones for backups of in-use\n  volumes the quota will be messed on completion.\n\nThis patch proposes the introduction of a new field for those database\nresource tables where we create temporary resources: volumes and\nsnaphots.\n\nThe field will be called ""use_quota"" and will be set to False for\ntemporary resources to indicate that we don\'t want them to be counted\ntowards quota on deletion.\n\nInstead of using ""temporary"" as the field name ""use_quota"" was used to\nallow other cases that should not do quota in the future.\n\nMoving from our current mechanism to the new one is a multi-release\nprocess because we need to have backward compatibility code for rolling\nupgrades.\n\nThis patch adds everything needed to complete the multi-release process\nso that anybody can submit next release patches.  To do so the patch\nadds backward compatible code adding the feature in this release and\nTODO comments with the exact changes that need to be done for the next\n2 releases.\n\nThe removal of the compatibility code will be done in the next release,\nand in the one after that we\'ll remove the temporary metadata rows that\nmay still exist in the database.\n\nWith this new field we\'ll be able to make our DB queries more efficient\nfor quota usage calculations, reduce the chances of introducing new\nquota usage bugs in the future, and allow users to filter in/out\ntemporary volumes on listings.\n\nCloses-Bug: #1923828\nCloses-Bug: #1923829\nCloses-Bug: #1923830\nImplements: blueprint temp-resources\nChange-Id: I98bd4d7a54906b613daaf14233d749da1e1531d5\n'}, {'number': 10, 'created': '2021-08-26 15:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/17fefa6bce9f0841b8b8598bf0512328cb7c5cad', 'message': 'Improve quota usage for temporary resources\n\nCinder creates temporary resources, volumes and snapshots, during some\nof its operations, and these resources aren\'t counted towards quota\nusage.\n\nCinder currently has a problem to track quota usage is when deleting\ntemporary resources.\n\nDetermining which volumes are temporary is a bit inconvenient because we\nhave to check the migration status as well as the admin metadata, so\nthey have been the source of several bugs, though they should be\nproperly tracked now.\n\nFor snapshots we don\'t have any way to track which ones are temporary,\nwhich creates some issues:\n\n- Quota sync mechanism will count them as normal snapshots.\n\n- Manually deleting temporary snapshots after an operation fails will\n  mess the quota.\n\n- If we are using snapshots instead of clones for backups of in-use\n  volumes the quota will be messed on completion.\n\nThis patch proposes the introduction of a new field for those database\nresource tables where we create temporary resources: volumes and\nsnaphots.\n\nThe field will be called ""use_quota"" and will be set to False for\ntemporary resources to indicate that we don\'t want them to be counted\ntowards quota on deletion.\n\nInstead of using ""temporary"" as the field name ""use_quota"" was used to\nallow other cases that should not do quota in the future.\n\nMoving from our current mechanism to the new one is a multi-release\nprocess because we need to have backward compatibility code for rolling\nupgrades.\n\nThis patch adds everything needed to complete the multi-release process\nso that anybody can submit next release patches.  To do so the patch\nadds backward compatible code adding the feature in this release and\nTODO comments with the exact changes that need to be done for the next\n2 releases.\n\nThe removal of the compatibility code will be done in the next release,\nand in the one after that we\'ll remove the temporary metadata rows that\nmay still exist in the database.\n\nWith this new field we\'ll be able to make our DB queries more efficient\nfor quota usage calculations, reduce the chances of introducing new\nquota usage bugs in the future, and allow users to filter in/out\ntemporary volumes on listings.\n\nCloses-Bug: #1923828\nCloses-Bug: #1923829\nCloses-Bug: #1923830\nImplements: blueprint temp-resources\nChange-Id: I98bd4d7a54906b613daaf14233d749da1e1531d5\n'}, {'number': 11, 'created': '2021-08-26 17:04:26.000000000', 'files': ['cinder/tests/unit/test_db_api.py', 'cinder/volume/manager.py', 'cinder/tests/unit/volume/test_image.py', 'cinder/tests/unit/utils.py', 'cinder/tests/unit/volume/test_driver.py', 'cinder/cmd/manage.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/objects/volume.py', 'releasenotes/notes/quota-temp-snapshots-9d032f97f80050c5.yaml', 'cinder/db/sqlalchemy/migrate_repo/versions/145_add_use_quota_fields.py', 'cinder/objects/base.py', 'cinder/tests/unit/scheduler/test_scheduler.py', 'cinder/db/api.py', 'cinder/objects/snapshot.py', 'cinder/volume/flows/manager/create_volume.py', 'cinder/volume/driver.py', 'cinder/tests/unit/objects/test_volume.py', 'cinder/tests/unit/objects/test_objects.py', 'cinder/tests/unit/volume/test_volume_migration.py', 'cinder/db/sqlalchemy/models.py', 'cinder/tests/unit/db/test_migrations.py', 'cinder/tests/unit/objects/test_snapshot.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/94dfad99c2b39c594cbce2b9387d55a08594fa2b', 'message': 'Improve quota usage for temporary resources\n\nCinder creates temporary resources, volumes and snapshots, during some\nof its operations, and these resources aren\'t counted towards quota\nusage.\n\nCinder currently has a problem to track quota usage is when deleting\ntemporary resources.\n\nDetermining which volumes are temporary is a bit inconvenient because we\nhave to check the migration status as well as the admin metadata, so\nthey have been the source of several bugs, though they should be\nproperly tracked now.\n\nFor snapshots we don\'t have any way to track which ones are temporary,\nwhich creates some issues:\n\n- Quota sync mechanism will count them as normal snapshots.\n\n- Manually deleting temporary snapshots after an operation fails will\n  mess the quota.\n\n- If we are using snapshots instead of clones for backups of in-use\n  volumes the quota will be messed on completion.\n\nThis patch proposes the introduction of a new field for those database\nresource tables where we create temporary resources: volumes and\nsnaphots.\n\nThe field will be called ""use_quota"" and will be set to False for\ntemporary resources to indicate that we don\'t want them to be counted\ntowards quota on deletion.\n\nInstead of using ""temporary"" as the field name ""use_quota"" was used to\nallow other cases that should not do quota in the future.\n\nMoving from our current mechanism to the new one is a multi-release\nprocess because we need to have backward compatibility code for rolling\nupgrades.\n\nThis patch adds everything needed to complete the multi-release process\nso that anybody can submit next release patches.  To do so the patch\nadds backward compatible code adding the feature in this release and\nTODO comments with the exact changes that need to be done for the next\n2 releases.\n\nThe removal of the compatibility code will be done in the next release,\nand in the one after that we\'ll remove the temporary metadata rows that\nmay still exist in the database.\n\nWith this new field we\'ll be able to make our DB queries more efficient\nfor quota usage calculations, reduce the chances of introducing new\nquota usage bugs in the future, and allow users to filter in/out\ntemporary volumes on listings.\n\nCloses-Bug: #1923828\nCloses-Bug: #1923829\nCloses-Bug: #1923830\nImplements: blueprint temp-resources\nChange-Id: I98bd4d7a54906b613daaf14233d749da1e1531d5\n'}]",24,786385,94dfad99c2b39c594cbce2b9387d55a08594fa2b,250,3,11,9535,,,0,"Improve quota usage for temporary resources

Cinder creates temporary resources, volumes and snapshots, during some
of its operations, and these resources aren't counted towards quota
usage.

Cinder currently has a problem to track quota usage is when deleting
temporary resources.

Determining which volumes are temporary is a bit inconvenient because we
have to check the migration status as well as the admin metadata, so
they have been the source of several bugs, though they should be
properly tracked now.

For snapshots we don't have any way to track which ones are temporary,
which creates some issues:

- Quota sync mechanism will count them as normal snapshots.

- Manually deleting temporary snapshots after an operation fails will
  mess the quota.

- If we are using snapshots instead of clones for backups of in-use
  volumes the quota will be messed on completion.

This patch proposes the introduction of a new field for those database
resource tables where we create temporary resources: volumes and
snaphots.

The field will be called ""use_quota"" and will be set to False for
temporary resources to indicate that we don't want them to be counted
towards quota on deletion.

Instead of using ""temporary"" as the field name ""use_quota"" was used to
allow other cases that should not do quota in the future.

Moving from our current mechanism to the new one is a multi-release
process because we need to have backward compatibility code for rolling
upgrades.

This patch adds everything needed to complete the multi-release process
so that anybody can submit next release patches.  To do so the patch
adds backward compatible code adding the feature in this release and
TODO comments with the exact changes that need to be done for the next
2 releases.

The removal of the compatibility code will be done in the next release,
and in the one after that we'll remove the temporary metadata rows that
may still exist in the database.

With this new field we'll be able to make our DB queries more efficient
for quota usage calculations, reduce the chances of introducing new
quota usage bugs in the future, and allow users to filter in/out
temporary volumes on listings.

Closes-Bug: #1923828
Closes-Bug: #1923829
Closes-Bug: #1923830
Implements: blueprint temp-resources
Change-Id: I98bd4d7a54906b613daaf14233d749da1e1531d5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/85/786385/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/test_db_api.py', 'cinder/volume/manager.py', 'cinder/tests/unit/volume/test_image.py', 'cinder/tests/unit/utils.py', 'cinder/tests/unit/volume/test_driver.py', 'cinder/cmd/manage.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/objects/volume.py', 'releasenotes/notes/quota-temp-snapshots-9d032f97f80050c5.yaml', 'cinder/objects/base.py', 'cinder/tests/unit/scheduler/test_scheduler.py', 'cinder/db/api.py', 'cinder/objects/snapshot.py', 'cinder/volume/flows/manager/create_volume.py', 'cinder/volume/driver.py', 'cinder/tests/unit/objects/test_volume.py', 'cinder/db/sqlalchemy/migrate_repo/versions/142_add_use_quota_fields.py', 'cinder/tests/unit/objects/test_objects.py', 'cinder/tests/unit/volume/test_volume_migration.py', 'cinder/db/sqlalchemy/models.py', 'cinder/tests/unit/db/test_migrations.py', 'cinder/tests/unit/objects/test_snapshot.py']",24,a4c50637ec3db801d82ddcf43ee0857ac4365225,off-book,"from cinder.objects import base as ovo_base @ddt.data('1.38', '1.39') def test_obj_make_compatible_use_quota_added(self, version): snapshot = objects.Snapshot(self.context, use_quota=False) serializer = ovo_base.CinderObjectSerializer(version) primitive = serializer.serialize_entity(self.context, snapshot) converted_snapshot = objects.Snapshot.obj_from_primitive(primitive) expected = version != '1.39' self.assertIs(expected, converted_snapshot.use_quota) ",,649,70
openstack%2Frequirements~stable%2Fussuri~I9f53d80bbe20f90d34fe93966b1391bfd4a917c0,openstack/requirements,stable/ussuri,I9f53d80bbe20f90d34fe93966b1391bfd4a917c0,update constraint for ovsdbapp to new release 1.2.3,MERGED,2021-08-30 13:07:38.000000000,2021-08-30 17:20:00.000000000,2021-08-30 17:20:00.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-30 13:07:38.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/509302695652c4a0c689d88daeb9cfb1d28e9e91', 'message': 'update constraint for ovsdbapp to new release 1.2.3\n\nmeta: version: 1.2.3\nmeta: diff-start: -\nmeta: series: ussuri\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I0d3ea4cf381cb44bfc7be2503e7e5b3231c1ecc4\nmeta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I9f53d80bbe20f90d34fe93966b1391bfd4a917c0\n'}]",0,806570,509302695652c4a0c689d88daeb9cfb1d28e9e91,8,4,1,11131,,,0,"update constraint for ovsdbapp to new release 1.2.3

meta: version: 1.2.3
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I0d3ea4cf381cb44bfc7be2503e7e5b3231c1ecc4
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I9f53d80bbe20f90d34fe93966b1391bfd4a917c0
",git fetch https://review.opendev.org/openstack/requirements refs/changes/70/806570/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,509302695652c4a0c689d88daeb9cfb1d28e9e91,new-release,ovsdbapp===1.2.3;python_version=='3.6' ovsdbapp===1.2.3;python_version=='3.7' ovsdbapp===1.2.3;python_version=='3.8',ovsdbapp===1.2.2;python_version=='3.6' ovsdbapp===1.2.2;python_version=='3.7' ovsdbapp===1.2.2;python_version=='3.8',3,3
openstack%2Fnova~master~Id0539d2ee909d86ffef07ae566697db8ae0f83b4,openstack/nova,master,Id0539d2ee909d86ffef07ae566697db8ae0f83b4,extend_volume of libvirt/volume/iscsi should not use device_path,MERGED,2021-07-15 23:07:17.000000000,2021-08-30 17:19:57.000000000,2021-08-30 17:16:22.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-15 23:07:17.000000000', 'files': ['nova/virt/libvirt/volume/iscsi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ad60f23be3d562422b350aade04aa92ade39fb32', 'message': ""extend_volume of libvirt/volume/iscsi should not use device_path\n\nThe connection_info['data']['device_path'] field is not always\navailable. In cases that it was not available, it would cause\nthe debug code to raise a KeyError instead of proceeding.\n\nOther similar debug messages in the same file do not include\ndevice_path. As a simple fix, just drop the device_path from\nthe log.\n\nCloses-Bug: #1936439\n\nChange-Id: Id0539d2ee909d86ffef07ae566697db8ae0f83b4\nSigned-off-by: Mark Mielke <mark.mielke@gmail.com>\n""}]",3,801003,ad60f23be3d562422b350aade04aa92ade39fb32,15,3,1,25089,,,0,"extend_volume of libvirt/volume/iscsi should not use device_path

The connection_info['data']['device_path'] field is not always
available. In cases that it was not available, it would cause
the debug code to raise a KeyError instead of proceeding.

Other similar debug messages in the same file do not include
device_path. As a simple fix, just drop the device_path from
the log.

Closes-Bug: #1936439

Change-Id: Id0539d2ee909d86ffef07ae566697db8ae0f83b4
Signed-off-by: Mark Mielke <mark.mielke@gmail.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/801003/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/volume/iscsi.py'],1,ad60f23be3d562422b350aade04aa92ade39fb32,libvirt_iscsi_extend_volume_device_path_failure," LOG.debug(""Extend iSCSI Volume: new_size=%s"","," LOG.debug(""Extend iSCSI Volume %s; new_size=%s"", connection_info['data']['device_path'],",1,2
openstack%2Fnova~master~I260c1fded79a85d4899e94df4d9036a1ee437f02,openstack/nova,master,I260c1fded79a85d4899e94df4d9036a1ee437f02,Prevent deletion of a compute node belonging to another host,MERGED,2019-11-18 16:10:12.000000000,2021-08-30 17:18:35.000000000,2021-08-30 17:15:37.000000000,"[{'_account_id': 782}, {'_account_id': 2033}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10343}, {'_account_id': 12356}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 14826}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-18 16:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/429a4d68e729d1b0c751a31cff87048e89405d6a', 'message': ""[ironic] Fix node rebalance race issues\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nSteps to reproduce\n==================\n\n* Deploy nova with multiple nova-compute services managing ironic.\n* Create some bare metal nodes in ironic, and make them 'available'\n* (does not work if they are 'active')\n* Stop all nova-compute services\n* Wait for all nova-compute services to be DOWN in 'openstack compute\n* service list'\n* Simultaneously start all nova-compute services\n\nExpected results\n================\n\nAll ironic nodes appear as hypervisors in 'openstack hypervisor list'\n\nActual results\n==============\n\nOne or more nodes may be missing from 'openstack hypervisor list'. This\nis most easily checked via 'openstack hypervisor list | wc -l'\n\nAnalysis\n========\n\nSummary of logs from two compute hosts on which this issue occurred:\n\nc3: 19:14:55 Finds no compute record in RT. Tries to create one\n(_init_compute_node). Shows traceback with SQL rollback but seems to\nsucceed\nc1: 19:14:56 Finds no compute record in RT, ‘moves’ existing node from\nc3\nc1: 19:15:54 Begins periodic update, queries compute nodes for this\nhost, finds the node\nc3: 19:15:54 Finds no compute record in RT, ‘moves’ existing node from\nc1\nc1: 19:15:55 Deletes orphan compute node (which now belongs to c3)\nc3: 19:16:56 Creates resource provider\nc3: 19:17:56 Uses existing resource provider\n\nThere are two major problems here:\n\n* c1 deletes the orphan node after c3 has taken ownership of it\n\n* c3 assumes that another compute service will not delete its nodes.\n  Once a node is in rt.compute_nodes, it is not removed again unless the\n  node is orphaned\n\nSolution\n========\n\nThe solution proposed here has two parts:\n\n1. Prevent a compute service from deleting a ComputeNode object that\n   another compute service has taken ownership of.\n2. Remove compute nodes from the resource tracker if no compute node\n   was found in the DB.\n\nCloses-Bug: #1853009\nChange-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02\n""}, {'number': 2, 'created': '2019-11-20 13:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf559ee8989be14bb80bc66a8b0d5c1183ac061b', 'message': 'Prevent deletion of a compute node belonging to another host\n\nBackport: Train, Stein, Rocky\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe main race condition involved is in update_available_resources in\nthe compute manager. When the list of compute nodes is queried, there is\na compute node belonging to the host that it does not expect to be\nmanaging, i.e. it is an orphan. Between that time and deleting the\norphan, the real owner of the compute node takes ownership of it ( in\nthe resource tracker). However, the node is still deleted as the first\nhost is unaware of the ownership change.\n\nThis change prevents this from occurring by filtering on the host when\ndeleting a compute node. If another compute host has taken ownership of\na node, it will have updated the host field and this will prevent\ndeletion from occurring. The first host sees this has happened via the\nComputeHostNotFound exception, and avoids deleting its resource\nprovider.\n\nCloses-Bug: #1853009\nRelated-Bug: #1841481\nChange-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02\n'}, {'number': 3, 'created': '2019-11-20 19:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cdeb65701214216fb127e2363abcd54815d59359', 'message': 'Prevent deletion of a compute node belonging to another host\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe main race condition involved is in update_available_resources in\nthe compute manager. When the list of compute nodes is queried, there is\na compute node belonging to the host that it does not expect to be\nmanaging, i.e. it is an orphan. Between that time and deleting the\norphan, the real owner of the compute node takes ownership of it ( in\nthe resource tracker). However, the node is still deleted as the first\nhost is unaware of the ownership change.\n\nThis change prevents this from occurring by filtering on the host when\ndeleting a compute node. If another compute host has taken ownership of\na node, it will have updated the host field and this will prevent\ndeletion from occurring. The first host sees this has happened via the\nComputeHostNotFound exception, and avoids deleting its resource\nprovider.\n\nCloses-Bug: #1853009\nRelated-Bug: #1841481\nChange-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02\n'}, {'number': 4, 'created': '2020-02-21 17:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f8ec557db1946060124be8c0098c0058bc83e00c', 'message': 'Prevent deletion of a compute node belonging to another host\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe main race condition involved is in update_available_resources in\nthe compute manager. When the list of compute nodes is queried, there is\na compute node belonging to the host that it does not expect to be\nmanaging, i.e. it is an orphan. Between that time and deleting the\norphan, the real owner of the compute node takes ownership of it ( in\nthe resource tracker). However, the node is still deleted as the first\nhost is unaware of the ownership change.\n\nThis change prevents this from occurring by filtering on the host when\ndeleting a compute node. If another compute host has taken ownership of\na node, it will have updated the host field and this will prevent\ndeletion from occurring. The first host sees this has happened via the\nComputeHostNotFound exception, and avoids deleting its resource\nprovider.\n\nCloses-Bug: #1853009\nRelated-Bug: #1841481\nChange-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02\n'}, {'number': 5, 'created': '2020-02-24 10:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b21e2721c22e0fdd46ec472c2e78c76a0ee8312', 'message': 'Prevent deletion of a compute node belonging to another host\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe main race condition involved is in update_available_resources in\nthe compute manager. When the list of compute nodes is queried, there is\na compute node belonging to the host that it does not expect to be\nmanaging, i.e. it is an orphan. Between that time and deleting the\norphan, the real owner of the compute node takes ownership of it ( in\nthe resource tracker). However, the node is still deleted as the first\nhost is unaware of the ownership change.\n\nThis change prevents this from occurring by filtering on the host when\ndeleting a compute node. If another compute host has taken ownership of\na node, it will have updated the host field and this will prevent\ndeletion from occurring. The first host sees this has happened via the\nComputeHostNotFound exception, and avoids deleting its resource\nprovider.\n\nCloses-Bug: #1853009\nRelated-Bug: #1841481\nChange-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02\n'}, {'number': 6, 'created': '2020-04-03 16:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/520db152a4634bafe607cf0c9d5e25d90cfd8b79', 'message': 'Prevent deletion of a compute node belonging to another host\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe main race condition involved is in update_available_resources in\nthe compute manager. When the list of compute nodes is queried, there is\na compute node belonging to the host that it does not expect to be\nmanaging, i.e. it is an orphan. Between that time and deleting the\norphan, the real owner of the compute node takes ownership of it ( in\nthe resource tracker). However, the node is still deleted as the first\nhost is unaware of the ownership change.\n\nThis change prevents this from occurring by filtering on the host when\ndeleting a compute node. If another compute host has taken ownership of\na node, it will have updated the host field and this will prevent\ndeletion from occurring. The first host sees this has happened via the\nComputeHostNotFound exception, and avoids deleting its resource\nprovider.\n\nCloses-Bug: #1853009\nRelated-Bug: #1841481\nChange-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02\n'}, {'number': 7, 'created': '2020-04-21 14:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7d7e51a15ca03b8e9f1812af8e6e947b8a00154', 'message': 'Prevent deletion of a compute node belonging to another host\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe main race condition involved is in update_available_resources in\nthe compute manager. When the list of compute nodes is queried, there is\na compute node belonging to the host that it does not expect to be\nmanaging, i.e. it is an orphan. Between that time and deleting the\norphan, the real owner of the compute node takes ownership of it ( in\nthe resource tracker). However, the node is still deleted as the first\nhost is unaware of the ownership change.\n\nThis change prevents this from occurring by filtering on the host when\ndeleting a compute node. If another compute host has taken ownership of\na node, it will have updated the host field and this will prevent\ndeletion from occurring. The first host sees this has happened via the\nComputeHostNotFound exception, and avoids deleting its resource\nprovider.\n\nCloses-Bug: #1853009\nRelated-Bug: #1841481\nChange-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02\n'}, {'number': 8, 'created': '2020-12-17 22:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/886a2037f09f33fefb72e9c06014d37ff6e2a075', 'message': 'Prevent deletion of a compute node belonging to another host\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe main race condition involved is in update_available_resources in\nthe compute manager. When the list of compute nodes is queried, there is\na compute node belonging to the host that it does not expect to be\nmanaging, i.e. it is an orphan. Between that time and deleting the\norphan, the real owner of the compute node takes ownership of it ( in\nthe resource tracker). However, the node is still deleted as the first\nhost is unaware of the ownership change.\n\nThis change prevents this from occurring by filtering on the host when\ndeleting a compute node. If another compute host has taken ownership of\na node, it will have updated the host field and this will prevent\ndeletion from occurring. The first host sees this has happened via the\nComputeHostNotFound exception, and avoids deleting its resource\nprovider.\n\nCloses-Bug: #1853009\nRelated-Bug: #1841481\nChange-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02\n'}, {'number': 9, 'created': '2021-03-05 00:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8036677fa6888e3382160ef466f83c35e1097666', 'message': 'Prevent deletion of a compute node belonging to another host\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe main race condition involved is in update_available_resources in\nthe compute manager. When the list of compute nodes is queried, there is\na compute node belonging to the host that it does not expect to be\nmanaging, i.e. it is an orphan. Between that time and deleting the\norphan, the real owner of the compute node takes ownership of it ( in\nthe resource tracker). However, the node is still deleted as the first\nhost is unaware of the ownership change.\n\nThis change prevents this from occurring by filtering on the host when\ndeleting a compute node. If another compute host has taken ownership of\na node, it will have updated the host field and this will prevent\ndeletion from occurring. The first host sees this has happened via the\nComputeHostNotFound exception, and avoids deleting its resource\nprovider.\n\nCloses-Bug: #1853009\nRelated-Bug: #1841481\nChange-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02\n'}, {'number': 10, 'created': '2021-04-28 14:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65a6756fa17ebfd644c76953c943ba8a4ad3787d', 'message': 'Prevent deletion of a compute node belonging to another host\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe main race condition involved is in update_available_resources in\nthe compute manager. When the list of compute nodes is queried, there is\na compute node belonging to the host that it does not expect to be\nmanaging, i.e. it is an orphan. Between that time and deleting the\norphan, the real owner of the compute node takes ownership of it ( in\nthe resource tracker). However, the node is still deleted as the first\nhost is unaware of the ownership change.\n\nThis change prevents this from occurring by filtering on the host when\ndeleting a compute node. If another compute host has taken ownership of\na node, it will have updated the host field and this will prevent\ndeletion from occurring. The first host sees this has happened via the\nComputeHostNotFound exception, and avoids deleting its resource\nprovider.\n\nCloses-Bug: #1853009\nRelated-Bug: #1841481\nChange-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02\n'}, {'number': 11, 'created': '2021-06-10 00:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1668290ff73e423ab7cbe46bd82b5b60764f3b36', 'message': 'Prevent deletion of a compute node belonging to another host\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe main race condition involved is in update_available_resources in\nthe compute manager. When the list of compute nodes is queried, there is\na compute node belonging to the host that it does not expect to be\nmanaging, i.e. it is an orphan. Between that time and deleting the\norphan, the real owner of the compute node takes ownership of it ( in\nthe resource tracker). However, the node is still deleted as the first\nhost is unaware of the ownership change.\n\nThis change prevents this from occurring by filtering on the host when\ndeleting a compute node. If another compute host has taken ownership of\na node, it will have updated the host field and this will prevent\ndeletion from occurring. The first host sees this has happened via the\nComputeHostNotFound exception, and avoids deleting its resource\nprovider.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1853009\nRelated-Bug: #1841481\n\nChange-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02\n'}, {'number': 12, 'created': '2021-07-07 19:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3badaafd03babd65de73ae1d3737147a98100e0e', 'message': 'Prevent deletion of a compute node belonging to another host\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe main race condition involved is in update_available_resources in\nthe compute manager. When the list of compute nodes is queried, there is\na compute node belonging to the host that it does not expect to be\nmanaging, i.e. it is an orphan. Between that time and deleting the\norphan, the real owner of the compute node takes ownership of it ( in\nthe resource tracker). However, the node is still deleted as the first\nhost is unaware of the ownership change.\n\nThis change prevents this from occurring by filtering on the host when\ndeleting a compute node. If another compute host has taken ownership of\na node, it will have updated the host field and this will prevent\ndeletion from occurring. The first host sees this has happened via the\nComputeHostNotFound exception, and avoids deleting its resource\nprovider.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1853009\nRelated-Bug: #1841481\n\nChange-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02\n'}, {'number': 13, 'created': '2021-07-07 21:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ff5b952a0b24f405c4c6c14e92d326fcc0da205', 'message': 'Prevent deletion of a compute node belonging to another host\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe main race condition involved is in update_available_resources in\nthe compute manager. When the list of compute nodes is queried, there is\na compute node belonging to the host that it does not expect to be\nmanaging, i.e. it is an orphan. Between that time and deleting the\norphan, the real owner of the compute node takes ownership of it ( in\nthe resource tracker). However, the node is still deleted as the first\nhost is unaware of the ownership change.\n\nThis change prevents this from occurring by filtering on the host when\ndeleting a compute node. If another compute host has taken ownership of\na node, it will have updated the host field and this will prevent\ndeletion from occurring. The first host sees this has happened via the\nComputeHostNotFound exception, and avoids deleting its resource\nprovider.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1853009\nRelated-Bug: #1841481\n\nChange-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02\n'}, {'number': 14, 'created': '2021-07-08 00:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b827819666ed2cf9b9099bc1c1b4ee977d93c69', 'message': 'Prevent deletion of a compute node belonging to another host\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe main race condition involved is in update_available_resources in\nthe compute manager. When the list of compute nodes is queried, there is\na compute node belonging to the host that it does not expect to be\nmanaging, i.e. it is an orphan. Between that time and deleting the\norphan, the real owner of the compute node takes ownership of it ( in\nthe resource tracker). However, the node is still deleted as the first\nhost is unaware of the ownership change.\n\nThis change prevents this from occurring by filtering on the host when\ndeleting a compute node. If another compute host has taken ownership of\na node, it will have updated the host field and this will prevent\ndeletion from occurring. The first host sees this has happened via the\nComputeHostNotFound exception, and avoids deleting its resource\nprovider.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1853009\nRelated-Bug: #1841481\n\nChange-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02\n'}, {'number': 15, 'created': '2021-08-12 13:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10b67d17a613444bd9d1028a3f2e2c82c1bd5818', 'message': 'Prevent deletion of a compute node belonging to another host\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe main race condition involved is in update_available_resources in\nthe compute manager. When the list of compute nodes is queried, there is\na compute node belonging to the host that it does not expect to be\nmanaging, i.e. it is an orphan. Between that time and deleting the\norphan, the real owner of the compute node takes ownership of it ( in\nthe resource tracker). However, the node is still deleted as the first\nhost is unaware of the ownership change.\n\nThis change prevents this from occurring by filtering on the host when\ndeleting a compute node. If another compute host has taken ownership of\na node, it will have updated the host field and this will prevent\ndeletion from occurring. The first host sees this has happened via the\nComputeHostNotFound exception, and avoids deleting its resource\nprovider.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1853009\nRelated-Bug: #1841481\n\nChange-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02\n'}, {'number': 16, 'created': '2021-08-20 14:01:20.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/db/main/api.py', 'nova/tests/unit/db/main/test_api.py', 'nova/tests/unit/objects/test_compute_node.py', 'nova/objects/compute_node.py', 'releasenotes/notes/bug-1853009-99414e14d1491b5f.yaml', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1853009.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a8492e88783b40f6dc61888fada232f0d00d6acf', 'message': 'Prevent deletion of a compute node belonging to another host\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe main race condition involved is in update_available_resources in\nthe compute manager. When the list of compute nodes is queried, there is\na compute node belonging to the host that it does not expect to be\nmanaging, i.e. it is an orphan. Between that time and deleting the\norphan, the real owner of the compute node takes ownership of it ( in\nthe resource tracker). However, the node is still deleted as the first\nhost is unaware of the ownership change.\n\nThis change prevents this from occurring by filtering on the host when\ndeleting a compute node. If another compute host has taken ownership of\na node, it will have updated the host field and this will prevent\ndeletion from occurring. The first host sees this has happened via the\nComputeHostNotFound exception, and avoids deleting its resource\nprovider.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1853009\nRelated-Bug: #1841481\n\nChange-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02\n'}]",10,694802,a8492e88783b40f6dc61888fada232f0d00d6acf,123,19,16,14826,,,0,"Prevent deletion of a compute node belonging to another host

There is a race condition in nova-compute with the ironic virt driver as
nodes get rebalanced. It can lead to compute nodes being removed in the
DB and not repopulated. Ultimately this prevents these nodes from being
scheduled to.

The main race condition involved is in update_available_resources in
the compute manager. When the list of compute nodes is queried, there is
a compute node belonging to the host that it does not expect to be
managing, i.e. it is an orphan. Between that time and deleting the
orphan, the real owner of the compute node takes ownership of it ( in
the resource tracker). However, the node is still deleted as the first
host is unaware of the ownership change.

This change prevents this from occurring by filtering on the host when
deleting a compute node. If another compute host has taken ownership of
a node, it will have updated the host field and this will prevent
deletion from occurring. The first host sees this has happened via the
ComputeHostNotFound exception, and avoids deleting its resource
provider.

Co-Authored-By: melanie witt <melwittt@gmail.com>

Closes-Bug: #1853009
Related-Bug: #1841481

Change-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/694802/16 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/objects/compute_node.py', 'nova/tests/unit/objects/test_compute_node.py', 'releasenotes/notes/bug-1853009-99414e14d1491b5f.yaml', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",9,429a4d68e729d1b0c751a31cff87048e89405d6a,bug/1853009,"def compute_node_delete(context, compute_id, compute_host): filter_by(id=compute_id, host=compute_host).\","def compute_node_delete(context, compute_id): filter_by(id=compute_id).\",95,21
openstack%2Frequirements~stable%2Fussuri~I2e1de251889f567415f57f8a966ee0c33bc36f24,openstack/requirements,stable/ussuri,I2e1de251889f567415f57f8a966ee0c33bc36f24,update constraint for openstacksdk to new release 0.46.1,MERGED,2021-08-30 13:11:35.000000000,2021-08-30 17:16:41.000000000,2021-08-30 17:16:41.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-30 13:11:35.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d391ff67a12c1cd361e5b4a80c8e60bfdfe1406b', 'message': 'update constraint for openstacksdk to new release 0.46.1\n\nmeta: version: 0.46.1\nmeta: diff-start: -\nmeta: series: ussuri\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: I28d3250c64c00049f74c598a163e7fb11c5ab5f1\nmeta: release:Code-Review+1: Artem Goncharov <artem.goncharov@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I2e1de251889f567415f57f8a966ee0c33bc36f24\n'}]",0,806572,d391ff67a12c1cd361e5b4a80c8e60bfdfe1406b,8,4,1,11131,,,0,"update constraint for openstacksdk to new release 0.46.1

meta: version: 0.46.1
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: I28d3250c64c00049f74c598a163e7fb11c5ab5f1
meta: release:Code-Review+1: Artem Goncharov <artem.goncharov@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I2e1de251889f567415f57f8a966ee0c33bc36f24
",git fetch https://review.opendev.org/openstack/requirements refs/changes/72/806572/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d391ff67a12c1cd361e5b4a80c8e60bfdfe1406b,new-release,openstacksdk===0.46.1;python_version=='3.6' openstacksdk===0.46.1;python_version=='3.7' openstacksdk===0.46.1;python_version=='3.8',openstacksdk===0.46.0;python_version=='3.6' openstacksdk===0.46.0;python_version=='3.7' openstacksdk===0.46.0;python_version=='3.8',3,3
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Ic799a71601294c822080151a38aa636370503c66,openstack/python-tripleoclient,stable/wallaby,Ic799a71601294c822080151a38aa636370503c66,"Add node, port unprovision to overcloud delete",MERGED,2021-08-26 06:47:06.000000000,2021-08-30 17:16:30.000000000,2021-08-30 17:13:48.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-26 06:47:06.000000000', 'files': ['releasenotes/notes/add-node-unprovision-overcloud-delete-c7dd063912d4ebca.yaml', 'tripleoclient/tests/v2/overcloud_delete/test_overcloud_delete.py', 'tripleoclient/v2/overcloud_delete.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ea451c4decf79b43d7ed37db7fd09f302c7d57fd', 'message': 'Add node, port unprovision to overcloud delete\n\nThis adds ``--baremetal-deployment`` and ``--network-ports``\noptions to ``overcloud delete`` command, so that nodes and\nports would be unprovisioned when deleting overcloud.\n\nChange-Id: Ic799a71601294c822080151a38aa636370503c66\n(cherry picked from commit 352211d88c3e83c6ad9df8175797705d750c9221)\n'}]",0,806079,ea451c4decf79b43d7ed37db7fd09f302c7d57fd,8,6,1,29775,,,0,"Add node, port unprovision to overcloud delete

This adds ``--baremetal-deployment`` and ``--network-ports``
options to ``overcloud delete`` command, so that nodes and
ports would be unprovisioned when deleting overcloud.

Change-Id: Ic799a71601294c822080151a38aa636370503c66
(cherry picked from commit 352211d88c3e83c6ad9df8175797705d750c9221)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/79/806079/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-node-unprovision-overcloud-delete-c7dd063912d4ebca.yaml', 'tripleoclient/tests/v2/overcloud_delete/test_overcloud_delete.py', 'tripleoclient/v2/overcloud_delete.py']",3,ea451c4decf79b43d7ed37db7fd09f302c7d57fd,,"import yaml parser.add_argument('-b', '--baremetal-deployment', metavar='<baremetal_deployment.yaml>', help=_('Configuration file describing the ' 'baremetal deployment')) parser.add_argument('--network-ports', help=_('Enable unprovisioning of network ports'), default=False, action=""store_true"") if parsed_args.baremetal_deployment: with open(parsed_args.baremetal_deployment, 'r') as fp: roles = yaml.safe_load(fp) with utils.TempDirs() as tmp: utils.run_ansible_playbook( playbook='cli-overcloud-node-unprovision.yaml', workdir=tmp, inventory='localhost,', playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=utils.playbook_verbosity(self=self), extra_vars={ ""stack_name"": parsed_args.stack, ""baremetal_deployment"": roles, ""all"": True, ""prompt"": False, ""manage_network_ports"": parsed_args.network_ports, } )",,72,1
openstack%2Fnova~master~I546d376869a992601b443fb95acf1034da2a8f36,openstack/nova,master,I546d376869a992601b443fb95acf1034da2a8f36,Reduce mocking in test_reject_open_redirect for compat,MERGED,2021-07-31 00:38:52.000000000,2021-08-30 17:16:15.000000000,2021-08-30 17:16:15.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-31 00:38:52.000000000', 'files': ['nova/tests/unit/console/test_websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/214cabe6848a1fdb4f5941d994c6cc11107fc4af', 'message': 'Reduce mocking in test_reject_open_redirect for compat\n\nThis is a followup for change Ie36401c782f023d1d5f2623732619105dc2cfa24\nto reduce mocking in the unit test coverage for it.\n\nWhile backporting the bug fix, it was found to be incompatible with\nearlier versions of Python < 3.6 due to a difference in internal\nimplementation [1].\n\nThis reduces the mocking in the unit test to be more agnostic to the\ninternals of the StreamRequestHandler (ancestor of\nSimpleHTTPRequestHandler) and work across Python versions >= 2.7.\n\nRelated-Bug: #1927677\n\n[1] https://github.com/python/cpython/commit/34eeed42901666fce099947f93dfdfc05411f286\n\nChange-Id: I546d376869a992601b443fb95acf1034da2a8f36\n'}]",0,803091,214cabe6848a1fdb4f5941d994c6cc11107fc4af,17,3,1,4690,,,0,"Reduce mocking in test_reject_open_redirect for compat

This is a followup for change Ie36401c782f023d1d5f2623732619105dc2cfa24
to reduce mocking in the unit test coverage for it.

While backporting the bug fix, it was found to be incompatible with
earlier versions of Python < 3.6 due to a difference in internal
implementation [1].

This reduces the mocking in the unit test to be more agnostic to the
internals of the StreamRequestHandler (ancestor of
SimpleHTTPRequestHandler) and work across Python versions >= 2.7.

Related-Bug: #1927677

[1] https://github.com/python/cpython/commit/34eeed42901666fce099947f93dfdfc05411f286

Change-Id: I546d376869a992601b443fb95acf1034da2a8f36
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/803091/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/console/test_websocketproxy.py'],1,214cabe6848a1fdb4f5941d994c6cc11107fc4af,bug/1927677,"import io handler = websocketproxy.NovaProxyRequestHandler( # Collect the response data to verify at the end. The # SimpleHTTPRequestHandler writes the response data to a 'wfile' # attribute. output = io.BytesIO() handler.wfile = output # Process the mock_req again to do the capture. handler.do_GET() output.seek(0) result = output.readlines() self.assertIn('400 URI must not start with //', result[0].decode())"," # Collect the response data to verify at the end. The # SimpleHTTPRequestHandler writes the response data by calling the # request socket sendall() method. self.data = b'' def fake_sendall(data): self.data += data mock_req.sendall.side_effect = fake_sendall websocketproxy.NovaProxyRequestHandler( self.data = self.data.decode() self.assertIn('Error code: 400', self.data) self.assertIn('Message: URI must not start with //', self.data)",13,14
openstack%2Frequirements~stable%2Fvictoria~Ifeb56a50d2bf0a85c4146d0367319cec7747304c,openstack/requirements,stable/victoria,Ifeb56a50d2bf0a85c4146d0367319cec7747304c,update constraint for tripleo-common to new release 13.2.3,MERGED,2021-08-30 08:23:35.000000000,2021-08-30 17:08:14.000000000,2021-08-30 17:08:14.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-30 08:23:35.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/19b608293e6c9f114d55b50e120fabc78fe24276', 'message': 'update constraint for tripleo-common to new release 13.2.3\n\nmeta: version: 13.2.3\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: yatinkarel <ykarel@redhat.com>\nmeta: release:Change-Id: Ia1d8f84e3071bc24c6e059e4b3fcba2cc38601bc\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Alex Schultz <aschultz@redhat.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ifeb56a50d2bf0a85c4146d0367319cec7747304c\n'}]",0,806552,19b608293e6c9f114d55b50e120fabc78fe24276,8,3,1,11131,,,0,"update constraint for tripleo-common to new release 13.2.3

meta: version: 13.2.3
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: yatinkarel <ykarel@redhat.com>
meta: release:Change-Id: Ia1d8f84e3071bc24c6e059e4b3fcba2cc38601bc
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Alex Schultz <aschultz@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ifeb56a50d2bf0a85c4146d0367319cec7747304c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/52/806552/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,19b608293e6c9f114d55b50e120fabc78fe24276,new-release,tripleo-common===13.2.3,tripleo-common===13.2.2,1,1
openstack%2Fopenstack-ansible-os_neutron~stable%2Fwallaby~I619159afb1ae2c156bb33cbfe78b40466440e025,openstack/openstack-ansible-os_neutron,stable/wallaby,I619159afb1ae2c156bb33cbfe78b40466440e025,Exclude neutron from venv constraints,MERGED,2021-06-30 21:25:22.000000000,2021-08-30 16:14:55.000000000,2021-08-30 16:13:04.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-30 21:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/96f97eb3079c407c2847b9b0f7322b51b84a2e5d', 'message': 'Exclude neutron from venv constraints\n\nNeutron itself appears in u-c for stable branches so we must filter\nit out.\n\nChange-Id: I619159afb1ae2c156bb33cbfe78b40466440e025\n'}, {'number': 2, 'created': '2021-08-16 10:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/911fc4095c8f345e89221b2e36654b98600998fc', 'message': 'Exclude neutron from venv constraints\n\nNeutron itself appears in u-c for stable branches so we must filter\nit out.\n\nChange-Id: I619159afb1ae2c156bb33cbfe78b40466440e025\n'}, {'number': 3, 'created': '2021-08-20 08:58:24.000000000', 'files': ['tasks/neutron_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/fa05df954185bb9d3682612d396ec2f8b5000c28', 'message': 'Exclude neutron from venv constraints\n\nNeutron itself appears in u-c for stable branches so we must filter\nit out.\n\nChange-Id: I619159afb1ae2c156bb33cbfe78b40466440e025\n'}]",0,798881,fa05df954185bb9d3682612d396ec2f8b5000c28,58,3,3,25023,,,0,"Exclude neutron from venv constraints

Neutron itself appears in u-c for stable branches so we must filter
it out.

Change-Id: I619159afb1ae2c156bb33cbfe78b40466440e025
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/81/798881/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/neutron_install.yml'],1,96f97eb3079c407c2847b9b0f7322b51b84a2e5d,,"# # NOTE(jrosser) # neutron itself also appears in u-c (!) as the split between neutron and # neutron-lib appears incomplete. venv_build_constraints: ""{{ _u_c_contents.content.split('\n') | reject('match', '^ceilometer=') | reject('match', '^neutron=') | list }}"""," venv_build_constraints: ""{{ _u_c_contents.content.split('\n') | reject('match', '^ceilometer=') | list }}""",5,1
openstack%2Fnova~master~I018ae0e1ae72591bc34292843a9ac94fff7d2e01,openstack/nova,master,I018ae0e1ae72591bc34292843a9ac94fff7d2e01,tests: Validate AZ values,MERGED,2021-07-20 18:15:18.000000000,2021-08-30 16:09:28.000000000,2021-08-30 16:06:18.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 31890}]","[{'number': 1, 'created': '2021-07-20 18:15:18.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4ee2f667b563cb485e743eefed89d1460e79ea5c', 'message': ""tests: Validate AZ values\n\nAs a follow-up for change Iac0e634e66cd4e150a50935cf635f626fc11b70e,\nactually validate the AZ values we're setting at the API level when a\nconflict is detected.\n\nChange-Id: I018ae0e1ae72591bc34292843a9ac94fff7d2e01\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1934770\n""}]",0,801523,4ee2f667b563cb485e743eefed89d1460e79ea5c,11,4,1,15334,,,0,"tests: Validate AZ values

As a follow-up for change Iac0e634e66cd4e150a50935cf635f626fc11b70e,
actually validate the AZ values we're setting at the API level when a
conflict is detected.

Change-Id: I018ae0e1ae72591bc34292843a9ac94fff7d2e01
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Related-Bug: #1934770
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/801523/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/api/openstack/compute/test_servers.py'],1,4ee2f667b563cb485e743eefed89d1460e79ea5c,bug/1934770," old_create = compute_api.API.create def create(*args, **kwargs): self.assertEqual('zone1', kwargs['availability_zone']) return old_create(*args, **kwargs) self.stub_out('nova.compute.api.API.create', create) old_create = compute_api.API.create def create(*args, **kwargs): self.assertIsNone(kwargs['availability_zone']) return old_create(*args, **kwargs) self.stub_out('nova.compute.api.API.create', create) old_create = compute_api.API.create def create(*args, **kwargs): self.assertEqual('zone1', kwargs['availability_zone']) return old_create(*args, **kwargs) self.stub_out('nova.compute.api.API.create', create) old_create = compute_api.API.create def create(*args, **kwargs): self.assertIsNone(kwargs['availability_zone']) return old_create(*args, **kwargs) self.stub_out('nova.compute.api.API.create', create) old_create = compute_api.API.create def create(*args, **kwargs): self.assertEqual('zone1', kwargs['availability_zone']) return old_create(*args, **kwargs) self.stub_out('nova.compute.api.API.create', create) ",,40,0
openstack%2Fpython-cinderclient~stable%2Fwallaby~Ifbaca4aa87d890bc5130069638d42665b914b378,openstack/python-cinderclient,stable/wallaby,Ifbaca4aa87d890bc5130069638d42665b914b378,Make instance_uuid optional in attachment create,MERGED,2021-07-29 07:43:39.000000000,2021-08-30 16:09:02.000000000,2021-08-30 16:02:54.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-29 07:43:39.000000000', 'files': ['cinderclient/tests/unit/v3/test_attachments.py', 'cinderclient/v3/shell.py', 'releasenotes/notes/attachment-create-optional-server-id-9299d9da2b62b263.yaml', 'cinderclient/v3/attachments.py', 'cinderclient/tests/unit/v3/test_shell.py', 'cinderclient/tests/unit/v3/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/aba49e1b275f8a43cb808e394d6847de5928ef02', 'message': 'Make instance_uuid optional in attachment create\n\nCinder and cinderclient assumes an attachment create request will\nalways contain instance_uuid. This is not true when glance calls\ncinder for attachment in glance cinder configuration.\nThis patch (along with the cinder patch) make the instance_uuid\noptional and allow glance to do attachments without passing\ninstance_uuid.\n\nChange-Id: Ifbaca4aa87d890bc5130069638d42665b914b378\n(cherry picked from commit d714249ca9e95297f5e53c9dcc0af9ba58d0ab6d)\n'}]",0,802782,aba49e1b275f8a43cb808e394d6847de5928ef02,10,3,1,27615,,,0,"Make instance_uuid optional in attachment create

Cinder and cinderclient assumes an attachment create request will
always contain instance_uuid. This is not true when glance calls
cinder for attachment in glance cinder configuration.
This patch (along with the cinder patch) make the instance_uuid
optional and allow glance to do attachments without passing
instance_uuid.

Change-Id: Ifbaca4aa87d890bc5130069638d42665b914b378
(cherry picked from commit d714249ca9e95297f5e53c9dcc0af9ba58d0ab6d)
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/82/802782/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/tests/unit/v3/test_attachments.py', 'cinderclient/v3/shell.py', 'releasenotes/notes/attachment-create-optional-server-id-9299d9da2b62b263.yaml', 'cinderclient/tests/unit/v3/test_shell.py', 'cinderclient/v3/attachments.py', 'cinderclient/tests/unit/v3/fakes.py']",6,aba49e1b275f8a43cb808e394d6847de5928ef02,783628-stable/wallaby,"fake_attachment_without_instance_id = {'attachment': { 'status': 'reserved', 'detached_at': '', 'connection_info': {}, 'attached_at': '', 'attach_mode': None, 'id': 'a232e9ae', 'instance': None, 'volume_id': '557ad76c-ce54-40a3-9e91-c40d21665cc3', }} if kw['body']['attachment'].get('instance_uuid'): return (200, {}, fake_attachment) return (200, {}, fake_attachment_without_instance_id)"," return (200, {}, fake_attachment)",79,3
openstack%2Fpython-cinderclient~master~Ibdf4c30606552fa0c2660a24c97354f814e5be24,openstack/python-cinderclient,master,Ibdf4c30606552fa0c2660a24c97354f814e5be24,Add functional jobs to the gate,MERGED,2021-08-10 16:42:10.000000000,2021-08-30 16:08:57.000000000,2021-08-30 16:02:52.000000000,"[{'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 33431}]","[{'number': 1, 'created': '2021-08-10 16:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/b6da70efed6ec94caf16ea260784f1480a25ee99', 'message': 'Add functional jobs to the gate\n\nVoting check jobs are supposed to also be gate jobs.\n\nChange-Id: Ibdf4c30606552fa0c2660a24c97354f814e5be24\n'}, {'number': 2, 'created': '2021-08-24 19:52:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/e474eeba3d0343d615ab7a625bb7d5ee3ca2dd61', 'message': 'Add functional jobs to the gate\n\nVoting check jobs are supposed to also be gate jobs.\n\nChange-Id: Ibdf4c30606552fa0c2660a24c97354f814e5be24\n'}]",2,804115,e474eeba3d0343d615ab7a625bb7d5ee3ca2dd61,13,4,2,5314,,,0,"Add functional jobs to the gate

Voting check jobs are supposed to also be gate jobs.

Change-Id: Ibdf4c30606552fa0c2660a24c97354f814e5be24
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/15/804115/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b6da70efed6ec94caf16ea260784f1480a25ee99,update-gate-jobs, irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - ^cinderclient/tests/unit/.*$ gate: jobs: - python-cinderclient-functional-py36 - python-cinderclient-functional-py38,,9,0
openstack%2Fpuppet-neutron~master~I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209,openstack/puppet-neutron,master,I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209,Add report_inteval parameter in ml2 baremetal,MERGED,2021-08-26 14:06:51.000000000,2021-08-30 16:08:45.000000000,2021-08-30 16:06:41.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-26 14:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/817316b4c3c805d750d9c21424bf2aa56cee0197', 'message': 'Add report_inteval parameter in ml2 baremetal\n\nAdd the parameter $report_interval to the ml2\nnetworking-baremetal manifest. By default the global\nreport_interval as defined in neutron.conf is used.\n\nIn some cases it makes sense to change the report_interval\nspecifically for ironic-neutron-agent.\n\nRelated-Bug: #1940838\nChange-Id: I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209\n'}, {'number': 2, 'created': '2021-08-26 14:23:30.000000000', 'files': ['manifests/agents/ml2/networking_baremetal.pp', 'spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb', 'releasenotes/notes/networking-baremetal-report-interval-634d1bf90139cbeb.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/dae33092a120655dfe4b9a550ec29a8c2dba73a5', 'message': 'Add report_inteval parameter in ml2 baremetal\n\nAdd the parameter $report_interval to the ml2\nnetworking-baremetal manifest. By default the global\nreport_interval as defined in neutron.conf is used.\n\nIn some cases it makes sense to change the report_interval\nspecifically for ironic-neutron-agent.\n\nRelated-Bug: #1940838\nChange-Id: I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209\n'}]",7,806192,dae33092a120655dfe4b9a550ec29a8c2dba73a5,19,9,2,24245,,,0,"Add report_inteval parameter in ml2 baremetal

Add the parameter $report_interval to the ml2
networking-baremetal manifest. By default the global
report_interval as defined in neutron.conf is used.

In some cases it makes sense to change the report_interval
specifically for ironic-neutron-agent.

Related-Bug: #1940838
Change-Id: I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/92/806192/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agents/ml2/networking_baremetal.pp', 'spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb', 'releasenotes/notes/networking-baremetal-report-interval-634d1bf90139cbeb.yaml']",3,817316b4c3c805d750d9c21424bf2aa56cee0197,bug/1940838,--- features: - | It is now possible to set the report interval for the networking-baremetal ml2 agent by using new parameter ``report_interval`` in the ``neutron::agents::ml2::networking_baremetal`` class. See bug: `1940838 <https://bugs.launchpad.net/tripleo/+bug/1940838>`_. ,,18,0
openstack%2Fpython-cinderclient~master~If8e31a637cf098cca60d8a10e9835ef66a3e66bc,openstack/python-cinderclient,master,If8e31a637cf098cca60d8a10e9835ef66a3e66bc,Fix list resources when use limit and with-count,MERGED,2020-12-17 03:07:17.000000000,2021-08-30 15:58:38.000000000,2021-08-30 15:58:38.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12670}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}]","[{'number': 1, 'created': '2020-12-17 03:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/5778780f1962a1a81a9a7dbf322b5c068279c6b3', 'message': 'Fix to list resources when use limit and with-count\n\nWhen we use with-count query param, we will get the\ncount of resources. While the _list function return\ntwo different result, one is just list, another is\ntuple with list and int.\n\nSo we must to handle the items which return from _list\nfunction.\n\nCloses-bug: #1908474\nChange-Id: If8e31a637cf098cca60d8a10e9835ef66a3e66bc\n'}, {'number': 2, 'created': '2020-12-17 05:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/74fac47f356fcd181d67754e0d66ace882aa9fe3', 'message': 'Fix list resources when use limit and with-count\n\nWhen we use with-count query param, we will get the\ncount of resources. While the _list function return\ntwo different result, one is just list, another is\ntuple with list and int.\n\nSo we must to handle the items which return from _list\nfunction.\n\nCloses-bug: #1908474\nChange-Id: If8e31a637cf098cca60d8a10e9835ef66a3e66bc\n'}, {'number': 3, 'created': '2020-12-17 08:17:21.000000000', 'files': ['cinderclient/base.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/14bc1360e05a8eeabe463426d9578131fce75c6f', 'message': 'Fix list resources when use limit and with-count\n\nWhen we use with-count query param, we will get the\ncount of resources. While the _list function return\ntwo different result, one is just list, another is\ntuple with list and int.\n\nSo we must to handle the items which return from _list\nfunction.\n\nCloses-bug: #1908474\nChange-Id: If8e31a637cf098cca60d8a10e9835ef66a3e66bc\n'}]",1,767451,14bc1360e05a8eeabe463426d9578131fce75c6f,22,8,3,28706,,,0,"Fix list resources when use limit and with-count

When we use with-count query param, we will get the
count of resources. While the _list function return
two different result, one is just list, another is
tuple with list and int.

So we must to handle the items which return from _list
function.

Closes-bug: #1908474
Change-Id: If8e31a637cf098cca60d8a10e9835ef66a3e66bc
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/51/767451/1 && git format-patch -1 --stdout FETCH_HEAD,['cinderclient/base.py'],1,5778780f1962a1a81a9a7dbf322b5c068279c6b3,bug/1908474," # If we use '--with-count' to get the resource count, the _list # function will return the result with (resources, count). # So here, we must check the items' length then to do return. if len(items) == 2: items = items[0]",,5,0
openstack%2Fpython-cinderclient~master~I3c5ad2b480d80611ecb10449068d836c4bbe7bdb,openstack/python-cinderclient,master,I3c5ad2b480d80611ecb10449068d836c4bbe7bdb,client: Stop logging request-id twice in DEBUG,MERGED,2020-12-18 11:17:49.000000000,2021-08-30 15:41:52.000000000,2021-08-30 15:39:24.000000000,"[{'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 33431}]","[{'number': 1, 'created': '2020-12-18 11:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/4c343e069cf1111a90e5dedfbe20c99d0978fb2d', 'message': 'client: Stop logging request-id twice in DEBUG\n\nThis is already logged by http_log_resp in DEBUG along with the other\nresponse headers so drop the duplicate logging in _log_request_id.\n\nChange-Id: I3c5ad2b480d80611ecb10449068d836c4bbe7bdb\n'}, {'number': 2, 'created': '2020-12-18 11:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/fd97e04827899ce12ee17c15d3bc12f91c4f99ad', 'message': 'client: Stop logging request-id twice in DEBUG\n\nThis is already logged by http_log_resp in DEBUG along with the other\nresponse headers so drop the duplicate logging in _log_request_id.\n\nChange-Id: I3c5ad2b480d80611ecb10449068d836c4bbe7bdb\n'}, {'number': 3, 'created': '2020-12-18 11:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/18fcab8b3cc7474bb246f3bad11b1bc2c9172b29', 'message': 'client: Stop logging request-id twice in DEBUG\n\nThis is already logged by http_log_resp in DEBUG along with the other\nresponse headers so drop the duplicate logging in _log_request_id.\n\nChange-Id: I3c5ad2b480d80611ecb10449068d836c4bbe7bdb\n'}, {'number': 4, 'created': '2020-12-18 13:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/573f2960b77d41d26025a6ec420246ce5735c9e2', 'message': 'client: Stop logging request-id twice in DEBUG\n\nThis is already logged by http_log_resp in DEBUG along with the other\nresponse headers so drop the duplicate logging in _log_request_id.\n\nChange-Id: I3c5ad2b480d80611ecb10449068d836c4bbe7bdb\n'}, {'number': 5, 'created': '2020-12-21 09:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/f79742bda6b7d19eb26f2f7115ed99b0658e8218', 'message': 'client: Stop logging request-id twice in DEBUG\n\nThis is already logged by http_log_resp in DEBUG along with the other\nresponse headers so drop the duplicate logging in _log_request_id.\n\nChange-Id: I3c5ad2b480d80611ecb10449068d836c4bbe7bdb\n'}, {'number': 6, 'created': '2021-03-10 16:31:49.000000000', 'files': ['cinderclient/client.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/0439a44707788f9400e5aba716001f4e4bb55d81', 'message': 'client: Stop logging request-id twice in DEBUG\n\nThis is already logged by http_log_resp in DEBUG along with the other\nresponse headers so drop the duplicate logging in _log_request_id.\n\nChange-Id: I3c5ad2b480d80611ecb10449068d836c4bbe7bdb\n'}]",3,767697,0439a44707788f9400e5aba716001f4e4bb55d81,21,6,6,10135,,,0,"client: Stop logging request-id twice in DEBUG

This is already logged by http_log_resp in DEBUG along with the other
response headers so drop the duplicate logging in _log_request_id.

Change-Id: I3c5ad2b480d80611ecb10449068d836c4bbe7bdb
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/97/767697/2 && git format-patch -1 --stdout FETCH_HEAD,['cinderclient/client.py'],1,4c343e069cf1111a90e5dedfbe20c99d0978fb2d,,,"def _log_request_id(logger, resp, service_name): request_id = resp.headers.get('x-openstack-request-id') if request_id: logger.debug('%(method)s call to %(service_type)s for %(url)s ' 'used request id %(response_request_id)s', {'method': resp.request.method, 'service_type': service_name, 'url': resp.url, 'response_request_id': request_id}) _log_request_id(self._logger, resp, service)",0,11
openstack%2Ftripleo-ci~master~I81c01e5facd86f8381319d46b00b32651a8d1918,openstack/tripleo-ci,master,I81c01e5facd86f8381319d46b00b32651a8d1918,Add victoria and wallaby branches for scenario010,MERGED,2021-08-09 01:21:46.000000000,2021-08-30 15:18:19.000000000,2021-08-30 15:18:19.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-08-09 01:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/64612d6b269728468b0e25188c0e8c78adaed1c6', 'message': 'Add victoria and wallaby branches for scenario010\n\nJobs are added in check and are non-voting\nat this point.\n\nChange-Id: I81c01e5facd86f8381319d46b00b32651a8d1918\n'}, {'number': 2, 'created': '2021-08-19 16:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d42d1f3639bdcb56c7a3af359cb479281b3ebc25', 'message': 'Add victoria and wallaby branches for scenario010\n\nJobs are added in check and are non-voting\nat this point.\n\nChange-Id: I81c01e5facd86f8381319d46b00b32651a8d1918\n'}, {'number': 3, 'created': '2021-08-25 12:50:40.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a37f88762970a421fe8f13aafae2a72a3d32b14b', 'message': 'Add victoria and wallaby branches for scenario010\n\nJobs are added in check and are non-voting\nat this point.\n\nChange-Id: I81c01e5facd86f8381319d46b00b32651a8d1918\n'}]",7,803867,a37f88762970a421fe8f13aafae2a72a3d32b14b,28,6,3,9976,,,0,"Add victoria and wallaby branches for scenario010

Jobs are added in check and are non-voting
at this point.

Change-Id: I81c01e5facd86f8381319d46b00b32651a8d1918
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/67/803867/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,64612d6b269728468b0e25188c0e8c78adaed1c6,scenario010-v-w, - tripleo-ci-centos-8-scenario010-standalone-victoria: files: *scen10_files vars: consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-scenario010-ovn-provider-standalone-victoria: files: *scen10_files vars: consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-scenario010-standalone-wallaby: files: *scen10_files vars: consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-scenario010-ovn-provider-standalone-wallaby: files: *scen10_files vars: consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider- job: name: tripleo-ci-centos-8-scenario010-standalone-victoria voting: false parent: tripleo-ci-centos-8-scenario010-standalone-base branches: stable/victoria - job: name: tripleo-ci-centos-8-scenario010-ovn-provider-standalone-victoria voting: false parent: tripleo-ci-centos-8-scenario010-standalone-base branches: stable/victoria - job: name: tripleo-ci-centos-8-scenario010-standalone-wallaby voting: false parent: tripleo-ci-centos-8-scenario010-standalone-base branches: stable/wallaby - job: name: tripleo-ci-centos-8-scenario010-ovn-provider-standalone-wallaby voting: false parent: tripleo-ci-centos-8-scenario010-standalone-base branches: stable/wallaby,,59,0
openstack%2Fwhitebox-tempest-plugin~master~I23d6f5d9efee029bf6f535964f06c7014d2dc0f6,openstack/whitebox-tempest-plugin,master,I23d6f5d9efee029bf6f535964f06c7014d2dc0f6,Allow for access to multiple nova DBs,NEW,2021-08-26 15:44:30.000000000,2021-08-30 15:11:04.000000000,,"[{'_account_id': 8864}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 27478}, {'_account_id': 30788}]","[{'number': 1, 'created': '2021-08-26 15:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/e26bf74d2af9a68304582083f8b7d2307a439057', 'message': 'Allow for access to multiple nova DBs\n\nAhead of adding coverage test coverage for [1], need to ability to\naccess the nova_api DB in addition to the nova DB. Broke up some of the\nwhitebox-database parameter section into two sections that relate\ndirectly to accessing nova_cell1 or nova_api. DatabaseClient.cursor and\nrelevant test methods calling it, have been updated now to pass db name\nand password related to the db that needs to be accessed.\n\n[1] https://review.opendev.org/805882\n\nChange-Id: I23d6f5d9efee029bf6f535964f06c7014d2dc0f6\n'}, {'number': 2, 'created': '2021-08-26 15:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/5b5cc434d438573f42f94780589b06b0117770bf', 'message': 'Allow for access to multiple nova DBs\n\nAhead of adding test coverage for [1], need to ability to\naccess the nova_api DB in addition to the nova DB. Broke up some of the\nwhitebox-database parameter section into two sections that relate\ndirectly to accessing nova_cell1 or nova_api. DatabaseClient.cursor and\nrelevant test methods calling it, have been updated now to pass db name\nand password related to the db that needs to be accessed.\n\n[1] https://review.opendev.org/805882\n\nChange-Id: I23d6f5d9efee029bf6f535964f06c7014d2dc0f6\n'}, {'number': 3, 'created': '2021-08-26 18:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/81ff55b9f41a64c2d2f6e805ed07e4d85485c160', 'message': 'Allow for access to multiple nova DBs\n\nAhead of adding test coverage for [1], need the ability to access the\nnova_api DB in addition to the nova DB.  Several universal nova db\naccess parameters remain in the whitebox-database config section, but\nDB specific parameters have been given there own section.\nDatabaseClient.cursor and relevant test methods calling it, have been\nupdated now to pass db name and password related to the db that needs\nto be accessed.\n\n[1] https://bugs.launchpad.net/nova/+bug/1941005\n\nChange-Id: I23d6f5d9efee029bf6f535964f06c7014d2dc0f6\n'}, {'number': 4, 'created': '2021-08-30 13:13:57.000000000', 'files': ['whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/api/compute/test_sriov.py', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py', 'devstack/plugin.sh', 'whitebox_tempest_plugin/plugin.py', 'whitebox_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/27c74e11bba008bf2b1fa57735e33383f4d2d850', 'message': 'Allow for access to multiple nova DBs\n\nAhead of adding test coverage for [1], need the ability to access the\nnova_api DB in addition to the nova DB.  Several universal nova db\naccess parameters remain in the whitebox-database config section, but\nDB specific parameters have been given there own section.\nDatabaseClient.cursor and relevant test methods calling it, have been\nupdated now to pass db name and password related to the db that needs\nto be accessed.\n\n[1] https://bugs.launchpad.net/nova/+bug/1941005\n\nChange-Id: I23d6f5d9efee029bf6f535964f06c7014d2dc0f6\n'}]",8,806232,27c74e11bba008bf2b1fa57735e33383f4d2d850,10,6,4,31033,,,0,"Allow for access to multiple nova DBs

Ahead of adding test coverage for [1], need the ability to access the
nova_api DB in addition to the nova DB.  Several universal nova db
access parameters remain in the whitebox-database config section, but
DB specific parameters have been given there own section.
DatabaseClient.cursor and relevant test methods calling it, have been
updated now to pass db name and password related to the db that needs
to be accessed.

[1] https://bugs.launchpad.net/nova/+bug/1941005

Change-Id: I23d6f5d9efee029bf6f535964f06c7014d2dc0f6
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/32/806232/1 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/api/compute/test_sriov.py', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py', 'devstack/plugin.sh', 'whitebox_tempest_plugin/config.py']",5,e26bf74d2af9a68304582083f8b7d2307a439057,multiple_db_access," title='Access parameters to interface with nova databases.') cfg.IntOpt( 'ssh_gateway_port', default=3306, help=""SSH port forwarding gateway number"") ] database_group = cfg.OptGroup( name='whitebox-database-nova-api', title='Config options to access the nova-api database.') database_opts = [ 'db_name', default=""nova_api"", help=""Name of the Nova db to use for connection""), ] database_group = cfg.OptGroup( name='whitebox-database-nova-cell1', title='Config options to access the nova cell1 database.') database_opts = [ cfg.StrOpt( 'user', help='Username to use when connecting to the database server. ' 'This should normally be the root user, as it needs to ' 'have permissions on all databases.'), cfg.StrOpt( 'password', help='The password to use when connecting to the database server.'), cfg.StrOpt( 'db_name',"," title='Config options to access the database.') 'nova_cell1_db_name', cfg.IntOpt( 'ssh_gateway_port', default=3306, help=""SSH port forwarding gateway number"")",53,19
openstack%2Ftacker-horizon~master~I47d8cb12ae004a8b927277ee1fe222daa800214f,openstack/tacker-horizon,master,I47d8cb12ae004a8b927277ee1fe222daa800214f,Fix retrieval of VNF details in NFV dashboard,MERGED,2021-08-18 18:17:13.000000000,2021-08-30 14:46:16.000000000,2021-08-30 14:44:20.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-08-18 18:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/641211312fdeeff6255fbf97d954a7813e5eccc6', 'message': 'Fix retrieval of VNF details in NFV dashboard\n\nThe VNF details are retrieved using VNF mgmt IP address\n(parameter: mgmt_url) received in ""show_vnf"" API response.\n\nBut this functionality was failing as ""mgmt_url"" parameter was\nmissing from API response.\n\nReason:\nEarlier in tacker, VNF mgmt IP address was assigned to parameter\nnamed ""mgmt_url"". But in [1] it was changed to ""mgmt_ip_address"".\n\nThis patch replaces ""mgmt_url"" to ""mgmt_ip_address"" for vnf as well\nas for vnffg details retrieval.\n\n[1] https://review.opendev.org/c/openstack/tacker/+/490471\n\nCloses-Bug: #1899740\nChange-Id: I47d8cb12ae004a8b927277ee1fe222daa800214f\n'}, {'number': 2, 'created': '2021-08-24 14:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/e2f14dc315dc5cdc1f1e858691a860b0cd40a47f', 'message': 'Fix retrieval of VNF details in NFV dashboard\n\nThe VNF details are retrieved using VNF mgmt IP address\n(parameter: mgmt_url) received in ""show_vnf"" API response.\n\nBut this functionality was failing as ""mgmt_url"" parameter was\nmissing from API response.\n\nReason:\nEarlier in tacker, VNF mgmt IP address was assigned to parameter\nnamed ""mgmt_url"". But in [1] it was changed to ""mgmt_ip_address"".\n\nThis patch replaces ""mgmt_url"" to ""mgmt_ip_address"" for vnf as well\nas for vnffg details retrieval.\n\n[1] https://review.opendev.org/c/openstack/tacker/+/490471\n\nCloses-Bug: #1899740\nChange-Id: I47d8cb12ae004a8b927277ee1fe222daa800214f\n'}, {'number': 3, 'created': '2021-08-25 05:39:33.000000000', 'files': ['tacker_horizon/openstack_dashboard/dashboards/nfv/vnfmanager/views.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnfmanager/templates/vnfmanager/vdu_details.html', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnffgmanager/views.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnffgmanager/templates/vnffgmanager/vdu_details.html'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/6e8063140d614538fb04d39214fad6e7e8ab8e13', 'message': 'Fix retrieval of VNF details in NFV dashboard\n\nThe VNF details are retrieved using VNF mgmt IP address\n(parameter: mgmt_url) received in ""show_vnf"" API response.\n\nBut this functionality was failing as ""mgmt_url"" parameter was\nmissing from API response.\n\nReason:\nEarlier in tacker, VNF mgmt IP address was assigned to parameter\nnamed ""mgmt_url"". But in [1] it was changed to ""mgmt_ip_address"".\n\nThis patch replaces ""mgmt_url"" to ""mgmt_ip_address"" for vnf as well\nas for vnffg details retrieval.\n\n[1] https://review.opendev.org/c/openstack/tacker/+/490471\n\nCloses-Bug: #1899740\nChange-Id: I47d8cb12ae004a8b927277ee1fe222daa800214f\n'}]",8,805069,6e8063140d614538fb04d39214fad6e7e8ab8e13,20,5,3,32102,,,0,"Fix retrieval of VNF details in NFV dashboard

The VNF details are retrieved using VNF mgmt IP address
(parameter: mgmt_url) received in ""show_vnf"" API response.

But this functionality was failing as ""mgmt_url"" parameter was
missing from API response.

Reason:
Earlier in tacker, VNF mgmt IP address was assigned to parameter
named ""mgmt_url"". But in [1] it was changed to ""mgmt_ip_address"".

This patch replaces ""mgmt_url"" to ""mgmt_ip_address"" for vnf as well
as for vnffg details retrieval.

[1] https://review.opendev.org/c/openstack/tacker/+/490471

Closes-Bug: #1899740
Change-Id: I47d8cb12ae004a8b927277ee1fe222daa800214f
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/69/805069/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker_horizon/openstack_dashboard/dashboards/nfv/vnfmanager/views.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnfmanager/templates/vnfmanager/vdu_details.html', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnffgmanager/views.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnffgmanager/templates/vnffgmanager/vdu_details.html']",4,641211312fdeeff6255fbf97d954a7813e5eccc6,bug/1899740,"{% for key, value in vnffg.vnffg.mgmt_ip_address.items %}","{% for key, value in vnffg.vnffg.mgmt_url.items %}",8,7
openstack%2Fnova~stable%2Ftrain~I66299e97bdb5b95e149b1780231a1c1bbdbd9865,openstack/nova,stable/train,I66299e97bdb5b95e149b1780231a1c1bbdbd9865,hardware: Use image_meta.id within get_mem_encryption_constraint,NEW,2021-06-01 20:50:26.000000000,2021-08-30 14:36:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-01 20:50:26.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/91ee5b3a844806cbd42a1cd8cca854904c6b9dcb', 'message': 'hardware: Use image_meta.id within get_mem_encryption_constraint\n\nThis change resolves bug #1928063 by replacing the use of\nimage_meta.name with image_meta.id as\nI55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea should ensure it is always\navailable. The removal of other references to image_meta.name within\nvirt.hardware is left for follow ups to keep this change small and\nbackportable.\n\nNOTE(lyarwood): The functional test is dropped as part of the backport\nto stable/train as the dependency tree has grown too large and complex.\n\nConflicts:\n    nova/tests/functional/regressions/test_bug_1928063.py\n\nCloses-Bug: #1928063\nChange-Id: I66299e97bdb5b95e149b1780231a1c1bbdbd9865\n(cherry picked from commit e98994027f0af0b22277bcfaed4ab6e6f4a2c74e)\n(cherry picked from commit 625e4e0fab5a34aa9f0b2f4a94f1559362821a37)\n(cherry picked from commit 880a7d77a66f89ff9e95029c5f1f4a22bb5777b3)\n(cherry picked from commit fcec038c3b6e8cc457c4b7476d3ab06a1c569e93)\n'}]",0,794043,91ee5b3a844806cbd42a1cd8cca854904c6b9dcb,9,1,1,10135,,,0,"hardware: Use image_meta.id within get_mem_encryption_constraint

This change resolves bug #1928063 by replacing the use of
image_meta.name with image_meta.id as
I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea should ensure it is always
available. The removal of other references to image_meta.name within
virt.hardware is left for follow ups to keep this change small and
backportable.

NOTE(lyarwood): The functional test is dropped as part of the backport
to stable/train as the dependency tree has grown too large and complex.

Conflicts:
    nova/tests/functional/regressions/test_bug_1928063.py

Closes-Bug: #1928063
Change-Id: I66299e97bdb5b95e149b1780231a1c1bbdbd9865
(cherry picked from commit e98994027f0af0b22277bcfaed4ab6e6f4a2c74e)
(cherry picked from commit 625e4e0fab5a34aa9f0b2f4a94f1559362821a37)
(cherry picked from commit 880a7d77a66f89ff9e95029c5f1f4a22bb5777b3)
(cherry picked from commit fcec038c3b6e8cc457c4b7476d3ab06a1c569e93)
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/794043/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py']",2,91ee5b3a844806cbd42a1cd8cca854904c6b9dcb,bug/1928063, image_meta.id), image_meta.name),5,5
openstack%2Ftripleo-docs~master~Ib152fe75cc4cda5674950103d181957df908feaf,openstack/tripleo-docs,master,Ib152fe75cc4cda5674950103d181957df908feaf,Document overriding growvols arguments,MERGED,2021-08-18 20:30:41.000000000,2021-08-30 14:02:13.000000000,2021-08-30 13:57:28.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-08-18 20:30:41.000000000', 'files': ['deploy-guide/source/provisioning/baremetal_provision.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/3aa96b31a3c4dfd2a640fa1d9b82a2d0b5fd9147', 'message': 'Document overriding growvols arguments\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-image-elements/+/804945\nChange-Id: Ib152fe75cc4cda5674950103d181957df908feaf\nBlueprint: whole-disk-default\n'}]",0,805081,3aa96b31a3c4dfd2a640fa1d9b82a2d0b5fd9147,9,3,1,4571,,,0,"Document overriding growvols arguments

Depends-On: https://review.opendev.org/c/openstack/tripleo-image-elements/+/804945
Change-Id: Ib152fe75cc4cda5674950103d181957df908feaf
Blueprint: whole-disk-default
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/81/805081/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/provisioning/baremetal_provision.rst'],1,3aa96b31a3c4dfd2a640fa1d9b82a2d0b5fd9147,bp/whole-disk-default,"Grow volumes playbook ^^^^^^^^^^^^^^^^^^^^^ Before custom playbooks are run, an in-built playbook is run to grow the LVM volumes of any node deployed with the whole-disk overcloud image `overcloud-hardened-uefi-full.qcow2`. The implicit `ansible_playbooks` would be: .. code-block:: yaml ansible_playbooks: - playbook: /usr/share/ansible/tripleo-playbooks/cli-overcloud-node-growvols.yaml extra_vars: growvols_args: > /=8GB /tmp=1GB /var/log=10GB /var/log/audit=2GB /home=1GB /var=100% Each LVM volume is grown by the amount specified until the disk is 100% allocated, and any remaining space is given to the `/` volume. In some cases it may be necessary to specify different `growvols_args`. For example the `ObjectStorage` role deploys swift storage which stores state in `/srv`, so this volume needs the remaining space instead of `/var`. The playbook can be explicitly written to override the default `growvols_args` value, for example: .. code-block:: yaml ansible_playbooks: - playbook: /usr/share/ansible/tripleo-playbooks/cli-overcloud-node-growvols.yaml extra_vars: growvols_args: > /=8GB /tmp=1GB /var/log=10GB /var/log/audit=2GB /home=1GB /var=1GB /srv=100% ",,42,0
openstack%2Freleases~master~I7547ff40737f90aa3a43698e35644e6dfb5a3931,openstack/releases,master,I7547ff40737f90aa3a43698e35644e6dfb5a3931,Release os-brick for stable/ussuri,MERGED,2021-07-23 20:01:02.000000000,2021-08-30 13:58:33.000000000,2021-08-30 13:58:33.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-23 20:01:02.000000000', 'files': ['deliverables/ussuri/os-brick.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6525bf34e0177f424de2004a1bc7aa7c1fbb3f77', 'message': 'Release os-brick for stable/ussuri\n\nThis release picks up new commits to os-brick since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 3.0.6..c336cb7\nc336cb7 Avoid unhandled exceptions during connecting to iSCSI portals\n5c031cb multipath/iscsi: remove devices from multipath monitoring\n579e464 Drop lower-constraints job\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I7547ff40737f90aa3a43698e35644e6dfb5a3931\n'}]",0,802105,6525bf34e0177f424de2004a1bc7aa7c1fbb3f77,10,5,1,17685,,,0,"Release os-brick for stable/ussuri

This release picks up new commits to os-brick since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 3.0.6..c336cb7
c336cb7 Avoid unhandled exceptions during connecting to iSCSI portals
5c031cb multipath/iscsi: remove devices from multipath monitoring
579e464 Drop lower-constraints job

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I7547ff40737f90aa3a43698e35644e6dfb5a3931
",git fetch https://review.opendev.org/openstack/releases refs/changes/05/802105/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/os-brick.yaml'],1,6525bf34e0177f424de2004a1bc7aa7c1fbb3f77,ussuri-stable, - version: 3.0.7 projects: - repo: openstack/os-brick hash: c336cb76b318f987d43ff908a5b7c9d40b5c4dd6,,4,0
openstack%2Fcharm-glance-simplestreams-sync~master~I58eb707720ff15d2d9fba05446595cbc4957d3fc,openstack/charm-glance-simplestreams-sync,master,I58eb707720ff15d2d9fba05446595cbc4957d3fc,Allow disabling image-stream/product-streams creation,ABANDONED,2021-07-03 13:21:12.000000000,2021-08-30 13:46:18.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 26032}]","[{'number': 1, 'created': '2021-07-03 13:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/a9f78d9f4fc85ee54fba5a9f84f6cb30e1cc2fc9', 'message': 'Allow disabling image-stream/product-streams creation\n\nWhen use_swift option will be removed, having Swift in the OpenStack\ndeployment will be the only option. However, there are some cases where\nSwift is not there such as no Ceph deployment, but with an external\nstorage array. In that case, g-s-s charm would be still useful for\nsyncing images regularly to Glance.\n\nCloses-Bug: 1934563\nChange-Id: I58eb707720ff15d2d9fba05446595cbc4957d3fc\n'}, {'number': 2, 'created': '2021-07-03 14:45:34.000000000', 'files': ['hooks/hooks.py', 'files/glance_simplestreams_sync.py', 'config.yaml', 'templates/mirrors.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/7a1e85a074d0b652372881ed3d62003ff7161a06', 'message': 'Allow disabling image-stream/product-streams creation\n\nWhen use_swift option will be removed, having Swift in the OpenStack\ndeployment will be the only option. However, there are some cases where\nSwift is not there such as no Ceph deployment, but with an external\nstorage array. In that case, g-s-s charm would be still useful for\nsyncing images regularly to Glance.\n\nCloses-Bug: 1934563\nChange-Id: I58eb707720ff15d2d9fba05446595cbc4957d3fc\n'}]",0,799381,7a1e85a074d0b652372881ed3d62003ff7161a06,10,3,2,8108,,,0,"Allow disabling image-stream/product-streams creation

When use_swift option will be removed, having Swift in the OpenStack
deployment will be the only option. However, there are some cases where
Swift is not there such as no Ceph deployment, but with an external
storage array. In that case, g-s-s charm would be still useful for
syncing images regularly to Glance.

Closes-Bug: 1934563
Change-Id: I58eb707720ff15d2d9fba05446595cbc4957d3fc
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/81/799381/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'files/glance_simplestreams_sync.py', 'config.yaml']",3,a9f78d9f4fc85ee54fba5a9f84f6cb30e1cc2fc9,bug/1934563, enable_image_stream: type: boolean default: True description: > The charm sets up the image-stream/product-streams endpoint in Keystone catalog. This can be disabled optionally when there is no object storage available in an OpenStack deployment.,,23,8
openstack%2Freleases~master~I879c4bd6e05b7e44b75c72a4b0c437b6dca40ba9,openstack/releases,master,I879c4bd6e05b7e44b75c72a4b0c437b6dca40ba9,Release cyborg for stable/ussuri,MERGED,2021-07-23 15:57:11.000000000,2021-08-30 13:45:44.000000000,2021-08-30 13:45:44.000000000,"[{'_account_id': 13629}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-23 15:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/01f137da2b0aa7f7ace437c08551bae642e3dc9a', 'message': 'Release cyborg for stable/ussuri\n\nThis release picks up new commits to cyborg since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 4.0.0..63ee158\n0b03b8b update API documentation for stable/ussuri\na35edb6 Fix hacking min version to 3.0.1\n5b773fd Remove OPAE dependency in devstack\n586ba30 Fix flake8 error from hacking <3.0.1\nbdd2de0 Update TOX_CONSTRAINTS_FILE for stable/ussuri\na01613f Update .gitreview for stable/ussuri\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I879c4bd6e05b7e44b75c72a4b0c437b6dca40ba9\n'}, {'number': 2, 'created': '2021-08-25 13:29:06.000000000', 'files': ['deliverables/ussuri/cyborg.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8e2e3d95a37ca67ccd87a84b10afe5e6234a5608', 'message': 'Release cyborg for stable/ussuri\n\nThis release picks up new commits to cyborg since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 4.0.0..bb718c8\nbb718c8 Resolve mysql conflict message\n0b03b8b update API documentation for stable/ussuri\na35edb6 Fix hacking min version to 3.0.1\n5b773fd Remove OPAE dependency in devstack\n586ba30 Fix flake8 error from hacking <3.0.1\nbdd2de0 Update TOX_CONSTRAINTS_FILE for stable/ussuri\na01613f Update .gitreview for stable/ussuri\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I879c4bd6e05b7e44b75c72a4b0c437b6dca40ba9\n'}]",1,802051,8e2e3d95a37ca67ccd87a84b10afe5e6234a5608,13,6,2,17685,,,0,"Release cyborg for stable/ussuri

This release picks up new commits to cyborg since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 4.0.0..bb718c8
bb718c8 Resolve mysql conflict message
0b03b8b update API documentation for stable/ussuri
a35edb6 Fix hacking min version to 3.0.1
5b773fd Remove OPAE dependency in devstack
586ba30 Fix flake8 error from hacking <3.0.1
bdd2de0 Update TOX_CONSTRAINTS_FILE for stable/ussuri
a01613f Update .gitreview for stable/ussuri

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I879c4bd6e05b7e44b75c72a4b0c437b6dca40ba9
",git fetch https://review.opendev.org/openstack/releases refs/changes/51/802051/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/cyborg.yaml'],1,01f137da2b0aa7f7ace437c08551bae642e3dc9a,ussuri-stable, - version: 4.0.1 projects: - repo: openstack/cyborg hash: 63ee15841a9508961c4f48ca4c303ae9bd4ba905,,4,0
openstack%2Freleases~master~Ie012cdcf90385326f0b7bf63a0ca6feaf49c9e2d,openstack/releases,master,Ie012cdcf90385326f0b7bf63a0ca6feaf49c9e2d,[manila][yoga] Add project tracking schedule,MERGED,2021-08-25 21:21:37.000000000,2021-08-30 13:25:10.000000000,2021-08-30 13:25:10.000000000,"[{'_account_id': 308}, {'_account_id': 9003}, {'_account_id': 11904}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 32594}]","[{'number': 1, 'created': '2021-08-25 21:21:37.000000000', 'files': ['doc/source/yoga/schedule.yaml', 'doc/source/yoga/schedule.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/6a7401ee78cd3724511c5b12dbe906efa367b622', 'message': '[manila][yoga] Add project tracking schedule\n\nAdd code and spec submission deadlines that the manila\nproject maintainers adhere to.\n\nChange-Id: Ie012cdcf90385326f0b7bf63a0ca6feaf49c9e2d\n'}]",0,806053,6a7401ee78cd3724511c5b12dbe906efa367b622,10,7,1,29632,,,0,"[manila][yoga] Add project tracking schedule

Add code and spec submission deadlines that the manila
project maintainers adhere to.

Change-Id: Ie012cdcf90385326f0b7bf63a0ca6feaf49c9e2d
",git fetch https://review.opendev.org/openstack/releases refs/changes/53/806053/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/yoga/schedule.yaml', 'doc/source/yoga/schedule.rst']",2,6a7401ee78cd3724511c5b12dbe906efa367b622,," Manila ------ .. _y-manila-spec-freeze: Manila Spec Freeze ^^^^^^^^^^^^^^^^^^ All Manila specs targeted to Yoga must be approved by the end of the week. .. _y-manila-new-driver-deadline: Manila New Driver Deadline ^^^^^^^^^^^^^^^^^^^^^^^^^^ By the end of the week all new backend drivers for Manila must be substantially complete, with unit tests, and passing 3rd party CI. Drivers do not have to actually merge until feature freeze. .. _y-manila-fpfreeze: Manila Feature Proposal Freeze ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ All new Manila features must be proposed and substantially completed, with unit, functional and integration tests by the end of the week.",,33,0
openstack%2Fnova~master~Icfea1321a6550f2b776a3177dbc4a880f2a5b268,openstack/nova,master,Icfea1321a6550f2b776a3177dbc4a880f2a5b268,Functional tests removed direct post call,MERGED,2020-12-08 18:36:36.000000000,2021-08-30 13:08:42.000000000,2021-08-30 13:06:56.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-12-08 18:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c14ceae642d659cf4c84b879a28a7614a811537d', 'message': 'Functional tests remmoved direct post call\n\n- notification_sample_tests.test_instance\n- test_servers\n\n  Removed direct post api call\n  Added _evacuate_server helper\n\nChange-Id: Icfea1321a6550f2b776a3177dbc4a880f2a5b268\n'}, {'number': 2, 'created': '2020-12-15 15:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/872a4798d5b9b1828b2125aa8fe32928314098b5', 'message': 'Functional tests remmoved direct post call\n\n- notification_sample_tests.test_instance\n- test_servers\n\n  Removed direct post api call\n  Added _evacuate_server helper\n\nChange-Id: Icfea1321a6550f2b776a3177dbc4a880f2a5b268\n'}, {'number': 3, 'created': '2020-12-15 15:47:42.000000000', 'files': ['nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b2781b98dd13b5fac9201a640c77231be7f21f7c', 'message': 'Functional tests removed direct post call\n\n- notification_sample_tests.test_instance\n- test_servers\n\n  Removed direct post api call\n  Added _evacuate_server helper\n\nChange-Id: Icfea1321a6550f2b776a3177dbc4a880f2a5b268\n'}]",4,766068,b2781b98dd13b5fac9201a640c77231be7f21f7c,24,6,3,32745,,,0,"Functional tests removed direct post call

- notification_sample_tests.test_instance
- test_servers

  Removed direct post api call
  Added _evacuate_server helper

Change-Id: Icfea1321a6550f2b776a3177dbc4a880f2a5b268
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/766068/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/functional/test_servers.py']",2,c14ceae642d659cf4c84b879a28a7614a811537d,fix/replace-post-api-evacuate," post = { 'host': dest_hostname, 'force': True } server = self._evacuate_server( server, extra_post_args=post, expected_host=dest_hostname) 'host': dest_hostname } server = self._evacuate_server( server, extra_post_args=post, expected_host=dest_hostname) new_server = self._evacuate_server( created_server, expected_host=dest_hostname) post = { 'force': force, } if force: post['host'] = dest_hostname server = self._evacuate_server( server, expected_state='ERROR', extra_post_args=post, expected_migration_status='error') 'host': dest_hostname, 'force': True } server = self._evacuate_server( server, extra_post_args=post, expected_migration_status='error', expected_host=source_hostname) 'host': 'host2', 'force': True, } self._evacuate_server( server, extra_post_args=post, expected_host='host1', expected_migration_status='error') "," post = { 'evacuate': { 'host': dest_hostname, 'force': True } } self.api.post_server_action(server['id'], post) expected_params = {'OS-EXT-SRV-ATTR:host': dest_hostname, 'status': 'ACTIVE'} server = self._wait_for_server_parameter(server, expected_params) 'evacuate': { 'host': dest_hostname, } } self.api.post_server_action(server['id'], post) expected_params = {'OS-EXT-SRV-ATTR:host': dest_hostname, 'status': 'ACTIVE'} server = self._wait_for_server_parameter(server, expected_params) post = { 'evacuate': {} } self.api.post_server_action(created_server['id'], post) expected_params = {'OS-EXT-SRV-ATTR:host': dest_hostname, 'status': 'ACTIVE'} new_server = self._wait_for_server_parameter(created_server, expected_params) post = { 'evacuate': { 'force': force } } if force: post['evacuate']['host'] = dest_hostname self.api.post_server_action(server['id'], post) server = self._wait_for_state_change(server, 'ERROR') 'evacuate': { 'host': dest_hostname, 'force': True } } self.api.post_server_action(server['id'], post) self._wait_for_migration_status(server, ['error']) expected_params = {'OS-EXT-SRV-ATTR:host': source_hostname, 'status': 'ACTIVE'} server = self._wait_for_server_parameter(server, expected_params) 'evacuate': { 'host': 'host2', 'force': True, } } self.api.post_server_action(server['id'], post) self._wait_for_server_parameter(server, {'OS-EXT-SRV-ATTR:host': 'host1', 'status': 'ACTIVE'})",41,59
openstack%2Ftempest~master~I84889e9bdb0ed25e3a716345057a75466652ab4c,openstack/tempest,master,I84889e9bdb0ed25e3a716345057a75466652ab4c,Add more unittests to tempest-cli,ABANDONED,2020-09-29 15:53:34.000000000,2021-08-30 13:02:04.000000000,,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 8556}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-09-29 15:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/602b78c1152867bdd8cf6336be91a5dc34f65ffe', 'message': 'Add more unittests to tempest-cli\n\ntempest_cleanup.py has less coverage and\nhence this review add unittests to it.\n\nImplements: blueprint tempest-cli-unit-test-coverage\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I84889e9bdb0ed25e3a716345057a75466652ab4c\n'}, {'number': 2, 'created': '2020-09-30 11:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/20a62e072f532180b97dc00cc09b430ceec767c6', 'message': 'Add more unittests to tempest-cli\n\ntempest_cleanup.py has less coverage and\nhence this review add unittests to it.\n\nImplements: blueprint tempest-cli-unit-test-coverage\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I84889e9bdb0ed25e3a716345057a75466652ab4c\n'}, {'number': 3, 'created': '2020-11-27 10:58:04.000000000', 'files': ['tempest/tests/cmd/test_cleanup.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/92ead441408f53fa898d7e944b4752d4e4eefdfb', 'message': 'Add more unittests to tempest-cli\n\ntempest_cleanup.py has less coverage and\nhence this review add unittests to it.\n\nImplements: blueprint tempest-cli-unit-test-coverage\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I84889e9bdb0ed25e3a716345057a75466652ab4c\n'}]",0,755072,92ead441408f53fa898d7e944b4752d4e4eefdfb,8,9,3,30742,,,0,"Add more unittests to tempest-cli

tempest_cleanup.py has less coverage and
hence this review add unittests to it.

Implements: blueprint tempest-cli-unit-test-coverage
Signed-off by: Soniya Vyas<svyas@redhat.com>
Change-Id: I84889e9bdb0ed25e3a716345057a75466652ab4c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/72/755072/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/cmd/test_cleanup.py'],1,602b78c1152867bdd8cf6336be91a5dc34f65ffe,bp/tempest-cli-unit-test-coverage," def test_load_json_got_exception(self): c = cleanup.TempestCleanup(None, None, 'test') c.GOT_EXCEPTIONS.append('exception') test_saved_json = 'tempest/tests/cmd/test_saved_state_json.json' try: c._load_json(test_saved_json) except IOError as ex: self.assertEqual(str(ex), '[\'exception\']') return assert False ",,11,0
openstack%2Freleases~master~I9f10b574dba8dc33221c2aec1cd9451137b19250,openstack/releases,master,I9f10b574dba8dc33221c2aec1cd9451137b19250,[magnum-tempest-plugin] Tag train-last,MERGED,2021-07-16 22:33:59.000000000,2021-08-30 13:00:34.000000000,2021-08-30 12:54:20.000000000,"[{'_account_id': 17685}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-16 22:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/aa93ba7aad770a0830d326d5db401fb1e884e1cd', 'message': ""[magnum-tempest-plugin] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'train-last'[4] as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nChange-Id: I9f10b574dba8dc33221c2aec1cd9451137b19250\n""}, {'number': 2, 'created': '2021-08-24 09:01:02.000000000', 'files': ['deliverables/train/magnum-tempest-plugin.yaml', 'deliverables/xena/magnum-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0a6b6fd6089c77546387ffffc9264615568534cb', 'message': ""[magnum-tempest-plugin] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'train-last'[4] as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nChange-Id: I9f10b574dba8dc33221c2aec1cd9451137b19250\n""}]",0,801149,0a6b6fd6089c77546387ffffc9264615568534cb,14,5,2,8556,,,0,"[magnum-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: I9f10b574dba8dc33221c2aec1cd9451137b19250
",git fetch https://review.opendev.org/openstack/releases refs/changes/49/801149/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/magnum-tempest-plugin.yaml', 'deliverables/xena/magnum-tempest-plugin.yaml']",2,aa93ba7aad770a0830d326d5db401fb1e884e1cd,train-last,releases: - version: 1.4.0 projects: - repo: openstack/magnum-tempest-plugin hash: 7762c6e80102a27cfd01a22242c81533e3d04366,,9,0
openstack%2Freleases~master~I0d3ea4cf381cb44bfc7be2503e7e5b3231c1ecc4,openstack/releases,master,I0d3ea4cf381cb44bfc7be2503e7e5b3231c1ecc4,Release ovsdbapp for stable/ussuri,MERGED,2021-07-23 20:10:33.000000000,2021-08-30 12:50:51.000000000,2021-08-30 12:50:51.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-23 20:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/3d088a95e98cecd1f9fb8e79ac74f4df774f6c62', 'message': 'Release ovsdbapp for stable/ussuri\n\nThis release picks up new commits to ovsdbapp since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 1.2.2..ae9e3fd\nae9e3fd Don\'t spam retries 100s of times a second\n5d70023 Add an active wait in the ""Backend.lookup""\n5d18c40 Fix docs job\n3b62043 Dropping lower constraints testing (stable Ussuri)\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I0d3ea4cf381cb44bfc7be2503e7e5b3231c1ecc4\n'}, {'number': 2, 'created': '2021-08-30 07:13:19.000000000', 'files': ['deliverables/ussuri/ovsdbapp.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d42c8fcb5cfdf89862439d98234de0cd95bf6809', 'message': 'Release ovsdbapp for stable/ussuri\n\nThis release picks up new commits to ovsdbapp since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 1.2.2..ae9e3fd\nae9e3fd Don\'t spam retries 100s of times a second\n5d70023 Add an active wait in the ""Backend.lookup""\n5d18c40 Fix docs job\n3b62043 Dropping lower constraints testing (stable Ussuri)\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I0d3ea4cf381cb44bfc7be2503e7e5b3231c1ecc4\n'}]",0,802108,d42c8fcb5cfdf89862439d98234de0cd95bf6809,13,5,2,17685,,,0,"Release ovsdbapp for stable/ussuri

This release picks up new commits to ovsdbapp since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 1.2.2..ae9e3fd
ae9e3fd Don't spam retries 100s of times a second
5d70023 Add an active wait in the ""Backend.lookup""
5d18c40 Fix docs job
3b62043 Dropping lower constraints testing (stable Ussuri)

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I0d3ea4cf381cb44bfc7be2503e7e5b3231c1ecc4
",git fetch https://review.opendev.org/openstack/releases refs/changes/08/802108/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/ovsdbapp.yaml'],1,3d088a95e98cecd1f9fb8e79ac74f4df774f6c62,ussuri-stable, - version: 1.2.3 projects: - repo: openstack/ovsdbapp hash: ae9e3fd29495e2721d67a972e9cdd614df6324bd,,4,0
openstack%2Freleases~master~I28d3250c64c00049f74c598a163e7fb11c5ab5f1,openstack/releases,master,I28d3250c64c00049f74c598a163e7fb11c5ab5f1,Release openstacksdk for stable/ussuri,MERGED,2021-07-23 20:00:22.000000000,2021-08-30 12:50:48.000000000,2021-08-30 12:50:48.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-23 20:00:22.000000000', 'files': ['deliverables/ussuri/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/41dd0b79f2b6f03044ca55838f0c0c70ab074094', 'message': ""Release openstacksdk for stable/ussuri\n\nThis release picks up new commits to openstacksdk since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 0.46.0..1a7d8a32\n1a7d8a32 Switch nodepool test to containers\ne3da0210 Add id query parameter to sg rules\n5028f7b7 Support roles 'name' in list_roles call\n69d29cb3 Don't set list_type to dict for server groups.\nd3020d94 Fix a bogus error in config loader when using several args with dashes\n7149e50a OpenStack port decorator variables\n3f45c9fa Don't error if clouds.yaml is not readable\n14c1c394 Fix issues found by latest flake8\nf4d27e4f Update docs to work with newer Sphinx\ncc31e3a3 Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri\n8a03d530 Update .gitreview for stable/ussuri\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I28d3250c64c00049f74c598a163e7fb11c5ab5f1\n""}]",0,802104,41dd0b79f2b6f03044ca55838f0c0c70ab074094,10,4,1,17685,,,0,"Release openstacksdk for stable/ussuri

This release picks up new commits to openstacksdk since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 0.46.0..1a7d8a32
1a7d8a32 Switch nodepool test to containers
e3da0210 Add id query parameter to sg rules
5028f7b7 Support roles 'name' in list_roles call
69d29cb3 Don't set list_type to dict for server groups.
d3020d94 Fix a bogus error in config loader when using several args with dashes
7149e50a OpenStack port decorator variables
3f45c9fa Don't error if clouds.yaml is not readable
14c1c394 Fix issues found by latest flake8
f4d27e4f Update docs to work with newer Sphinx
cc31e3a3 Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri
8a03d530 Update .gitreview for stable/ussuri

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I28d3250c64c00049f74c598a163e7fb11c5ab5f1
",git fetch https://review.opendev.org/openstack/releases refs/changes/04/802104/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/openstacksdk.yaml'],1,41dd0b79f2b6f03044ca55838f0c0c70ab074094,ussuri-stable, - version: 0.46.1 projects: - repo: openstack/openstacksdk hash: 1a7d8a3296cdeeb3c7fab3cedf2164d1adb8a74a,,4,0
openstack%2Freleases~master~Idc59cddeb104aa9f01c55d212547dec5dc90822f,openstack/releases,master,Idc59cddeb104aa9f01c55d212547dec5dc90822f,[OpenStackSDK] Transition Ocata to End of Life,MERGED,2021-08-13 08:06:19.000000000,2021-08-30 12:50:46.000000000,2021-08-30 12:50:46.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-13 08:06:19.000000000', 'files': ['deliverables/ocata/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b89e2f426c667ff1d41c8e7a77da5a88f2fa0a9a', 'message': ""[OpenStackSDK] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Idc59cddeb104aa9f01c55d212547dec5dc90822f\n""}]",0,804491,b89e2f426c667ff1d41c8e7a77da5a88f2fa0a9a,9,4,1,17685,,,0,"[OpenStackSDK] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Idc59cddeb104aa9f01c55d212547dec5dc90822f
",git fetch https://review.opendev.org/openstack/releases refs/changes/91/804491/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/openstacksdk.yaml'],1,b89e2f426c667ff1d41c8e7a77da5a88f2fa0a9a,ocata-eol,--- release-model: cycle-with-intermediary storyboard: 760 team: OpenStackSDK type: library releases: - version: ocata-eol projects: - repo: openstack/openstacksdk hash: e1f07a4075e6a3865b114feefa57d2fd93170e73 repository-settings: openstack/openstacksdk: {} ,,12,0
openstack%2Freleases~master~Ia3694c523ce207f4bb65552b28e4a7c6a1f4cfbd,openstack/releases,master,Ia3694c523ce207f4bb65552b28e4a7c6a1f4cfbd,Release python-openstackclient for stable/ussuri,MERGED,2021-07-23 20:32:44.000000000,2021-08-30 12:50:43.000000000,2021-08-30 12:50:43.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-23 20:32:44.000000000', 'files': ['deliverables/ussuri/python-openstackclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0b941251094362076816aa536a08f3ecd83e33d1', 'message': 'Release python-openstackclient for stable/ussuri\n\nThis release picks up new commits to python-openstackclient since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 5.2.1..c827e70f\n0a8d8557 Fix reverted osc-lib interface change\n595139ce Fix lower-constraints job\nec2f0f40 zuul: Stop testing against Tempest\ne7ba80d2 Add API check for server_groups.list\n441f116b Add API check for server_groups.create\nb30843ce Bypass user and group verification in RemoveRole\n59e0381b Add system role assignment tests for users and groups\n5b25ea89 Make volume backup record commands available in v3\n684cdc5b Replace assertItemsEqual with assertCountEqual\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Ia3694c523ce207f4bb65552b28e4a7c6a1f4cfbd\n'}]",0,802116,0b941251094362076816aa536a08f3ecd83e33d1,10,4,1,17685,,,0,"Release python-openstackclient for stable/ussuri

This release picks up new commits to python-openstackclient since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 5.2.1..c827e70f
0a8d8557 Fix reverted osc-lib interface change
595139ce Fix lower-constraints job
ec2f0f40 zuul: Stop testing against Tempest
e7ba80d2 Add API check for server_groups.list
441f116b Add API check for server_groups.create
b30843ce Bypass user and group verification in RemoveRole
59e0381b Add system role assignment tests for users and groups
5b25ea89 Make volume backup record commands available in v3
684cdc5b Replace assertItemsEqual with assertCountEqual

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ia3694c523ce207f4bb65552b28e4a7c6a1f4cfbd
",git fetch https://review.opendev.org/openstack/releases refs/changes/16/802116/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/python-openstackclient.yaml'],1,0b941251094362076816aa536a08f3ecd83e33d1,ussuri-stable, - version: 5.2.2 projects: - repo: openstack/python-openstackclient hash: c827e70fc502f5c5bd14f35d10ede6c9c5901c25,,4,0
openstack%2Freleases~master~If43ad46277f5148995a1453261c17c0503ccbb5b,openstack/releases,master,If43ad46277f5148995a1453261c17c0503ccbb5b,[blazar] Transition Ocata to End of Life,MERGED,2021-08-12 18:38:12.000000000,2021-08-30 12:50:38.000000000,2021-08-30 12:50:38.000000000,"[{'_account_id': 15197}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-12 18:38:12.000000000', 'files': ['deliverables/ocata/blazar.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1383eb5f798ab8b3d4442dd98d3ed1a01fbd87e5', 'message': ""[blazar] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: If43ad46277f5148995a1453261c17c0503ccbb5b\n""}]",0,804429,1383eb5f798ab8b3d4442dd98d3ed1a01fbd87e5,9,4,1,17685,,,0,"[blazar] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: If43ad46277f5148995a1453261c17c0503ccbb5b
",git fetch https://review.opendev.org/openstack/releases refs/changes/29/804429/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/blazar.yaml'],1,1383eb5f798ab8b3d4442dd98d3ed1a01fbd87e5,ocata-eol,--- launchpad: blazar release-model: cycle-with-milestones team: blazar type: service releases: - version: ocata-eol projects: - repo: openstack/blazar hash: 80408239669e3a27f4214b078e78d146ab90906d repository-settings: openstack/blazar: {} ,,12,0
openstack%2Freleases~master~Ib97cc0f8592c36b03eb87b38455e659cd2de4e6d,openstack/releases,master,Ib97cc0f8592c36b03eb87b38455e659cd2de4e6d,Release heat for stable/ussuri,MERGED,2021-07-23 16:44:20.000000000,2021-08-30 12:50:34.000000000,2021-08-30 12:50:34.000000000,"[{'_account_id': 12404}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-23 16:44:20.000000000', 'files': ['deliverables/ussuri/heat.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fd66b9961ededf00a39a7502580eda472cfef213', 'message': ""Release heat for stable/ussuri\n\nThis release picks up new commits to heat since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 14.1.0..b9a339597\nb9a339597 Preserve order in list_concat_unique\ne95a7fd21 Don't update status for replaced resource\nfb879d1ee Net attr: Sort segments without name attribute first\n49ef181bb Add SOURCE_IP_PORT to LB_ALGORITHM allowed values\ne16fbbd13 Replace Fedora test image with F32\nec67396a2 As of nova microversion 2.57, personality is deprecated\n936c6a50c Configure swap as before\n8394d6c57 Supports 'virtio-forwarder' vnic type for port\n18ab72f5d Use Fedora 31 for tests\n18f2ed6b0 Fix OS::Heat::Delay resource type\n4aafceb37 Lazily cache parsed value of list/json parameters\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Ib97cc0f8592c36b03eb87b38455e659cd2de4e6d\n""}]",1,802059,fd66b9961ededf00a39a7502580eda472cfef213,10,4,1,17685,,,0,"Release heat for stable/ussuri

This release picks up new commits to heat since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 14.1.0..b9a339597
b9a339597 Preserve order in list_concat_unique
e95a7fd21 Don't update status for replaced resource
fb879d1ee Net attr: Sort segments without name attribute first
49ef181bb Add SOURCE_IP_PORT to LB_ALGORITHM allowed values
e16fbbd13 Replace Fedora test image with F32
ec67396a2 As of nova microversion 2.57, personality is deprecated
936c6a50c Configure swap as before
8394d6c57 Supports 'virtio-forwarder' vnic type for port
18ab72f5d Use Fedora 31 for tests
18f2ed6b0 Fix OS::Heat::Delay resource type
4aafceb37 Lazily cache parsed value of list/json parameters

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ib97cc0f8592c36b03eb87b38455e659cd2de4e6d
",git fetch https://review.opendev.org/openstack/releases refs/changes/59/802059/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/heat.yaml'],1,fd66b9961ededf00a39a7502580eda472cfef213,ussuri-stable, - version: 14.2.0 projects: - repo: openstack/heat hash: b9a3395978bf60d3ce769b8fcedc60b7127f404f,,4,0
openstack%2Freleases~master~I640684aecc19f7e33d23dd276bb593b58619b59b,openstack/releases,master,I640684aecc19f7e33d23dd276bb593b58619b59b,Release placement for stable/ussuri,MERGED,2021-07-23 20:14:03.000000000,2021-08-30 12:50:30.000000000,2021-08-30 12:50:30.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-23 20:14:03.000000000', 'files': ['deliverables/ussuri/placement.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/98d6099ad7a820ec187ab585edce71a777526c5c', 'message': 'Release placement for stable/ussuri\n\nThis release picks up new commits to placement since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 3.0.0..de030ef7\nde030ef7 Fix Placement Doc\n33591b83 Add DEBUG logs to help troubleshoot no allocation candidates\nb08f3117 Switch to new grenade job name\n6ee154e6 Update TOX_CONSTRAINTS_FILE for stable/ussuri\na8f981e3 Update .gitreview for stable/ussuri\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I640684aecc19f7e33d23dd276bb593b58619b59b\n'}]",0,802110,98d6099ad7a820ec187ab585edce71a777526c5c,10,5,1,17685,,,0,"Release placement for stable/ussuri

This release picks up new commits to placement since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 3.0.0..de030ef7
de030ef7 Fix Placement Doc
33591b83 Add DEBUG logs to help troubleshoot no allocation candidates
b08f3117 Switch to new grenade job name
6ee154e6 Update TOX_CONSTRAINTS_FILE for stable/ussuri
a8f981e3 Update .gitreview for stable/ussuri

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I640684aecc19f7e33d23dd276bb593b58619b59b
",git fetch https://review.opendev.org/openstack/releases refs/changes/10/802110/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/placement.yaml'],1,98d6099ad7a820ec187ab585edce71a777526c5c,ussuri-stable, - version: 3.0.1 projects: - repo: openstack/placement hash: de030ef7a78b1b9ee2da75552d1edc829f830aa4,,4,0
openstack%2Fmanila~stable%2Fussuri~Ie95a476e9a81c58df998c3f44da137b023b53cc6,openstack/manila,stable/ussuri,Ie95a476e9a81c58df998c3f44da137b023b53cc6,Fix generic share resize with 0.0.0.0/24 access,MERGED,2021-06-22 04:42:58.000000000,2021-08-30 12:33:42.000000000,2021-08-30 12:30:56.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 31859}]","[{'number': 1, 'created': '2021-06-22 04:42:58.000000000', 'files': ['releasenotes/notes/bug-1911695-resize-share-world-accessable-b444d88b67b05af0.yaml', 'manila/share/drivers/helpers.py', 'manila/tests/share/drivers/test_helpers.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/18250acf313cb868576c334ec40dd2f61aba5cd7', 'message': 'Fix generic share resize with 0.0.0.0/24 access\n\nAdd missing quotes to exportfs command to protect <world> being\ninterpreted as file redirect\n\nCloses-Bug: #1911695\nChange-Id: Ie95a476e9a81c58df998c3f44da137b023b53cc6\n(cherry picked from commit 258625260682142d085979e9a345d9ba46b118ad)\n(cherry picked from commit 1286806e83a5c719d9281ed40586c378c87165b5)\n'}]",0,797309,18250acf313cb868576c334ec40dd2f61aba5cd7,13,4,1,16643,,,0,"Fix generic share resize with 0.0.0.0/24 access

Add missing quotes to exportfs command to protect <world> being
interpreted as file redirect

Closes-Bug: #1911695
Change-Id: Ie95a476e9a81c58df998c3f44da137b023b53cc6
(cherry picked from commit 258625260682142d085979e9a345d9ba46b118ad)
(cherry picked from commit 1286806e83a5c719d9281ed40586c378c87165b5)
",git fetch https://review.opendev.org/openstack/manila refs/changes/09/797309/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1911695-resize-share-world-accessable-b444d88b67b05af0.yaml', 'manila/share/drivers/helpers.py', 'manila/tests/share/drivers/test_helpers.py']",3,18250acf313cb868576c334ec40dd2f61aba5cd7,bug/1911695," '/shares/fake_share3\n\t\t<world>\n' '/shares/fake_share_name\n\t\t<world>\n' '/shares/fake_share_name\n\t\t1.1.1.16\n' '/shares/fake_share_name\n\t\t<world>\n', True)) mock.call(self.server, ['sudo', 'exportfs', '-u', '""{}""'.format(':'.join(['1.1.1.10', local_path]))]), mock.call(self.server, ['sudo', 'exportfs', '-u', '""{}""'.format(':'.join(['1.1.1.16', local_path]))]), mock.call(self.server, ['sudo', 'exportfs', '-u', '""{}""'.format(':'.join(['<world>', local_path]))]),"," '/shares/fake_share_name\n\t\t1.1.1.16\n', True)) mock.call(self.server, ['sudo', 'exportfs', '-u', ':'.join(['1.1.1.10', local_path])]), mock.call(self.server, ['sudo', 'exportfs', '-u', ':'.join(['1.1.1.16', local_path])]),",20,7
openstack%2Fmanila~stable%2Fvictoria~I2d47dbb1251dfa8d529f813724fb7fd97d7d3a0b,openstack/manila,stable/victoria,I2d47dbb1251dfa8d529f813724fb7fd97d7d3a0b,Handle service client authorization errors,MERGED,2021-08-13 15:45:19.000000000,2021-08-30 12:32:44.000000000,2021-08-30 12:30:54.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30407}]","[{'number': 1, 'created': '2021-08-13 15:45:19.000000000', 'files': ['manila/tests/network/neutron/test_neutron_api.py', 'manila/volume/cinder.py', 'releasenotes/notes/bug-1921927-handle-service-client-unauthorized-exceptions-b2ebc08a072f7e12.yaml', 'manila/network/neutron/api.py', 'manila/tests/common/test_client_auth.py', 'manila/compute/nova.py', 'manila/tests/volume/test_cinder.py', 'manila/tests/compute/test_nova.py', 'manila/common/client_auth.py', 'manila/tests/image/test_image.py', 'manila/image/glance.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/9b19b17eb062899acc74261e09bade49884bfdfb', 'message': ""Handle service client authorization errors\n\nAuthorization errors when connecting\nto nova/glance/neutron/cinder can be raised as\nBadConfigurationExceptions in the logs. We shouldn't\nbe raising exceptions derived from the service client\nlibraries.\n\nChange-Id: I2d47dbb1251dfa8d529f813724fb7fd97d7d3a0b\nCloses-Bug: #1921927\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 04e06968fd7990adac9eb92a885af557a8acc772)\n(cherry picked from commit 113dc2878a0d72c22822bfeee933a6511c3e2dbf)\n""}]",0,804437,9b19b17eb062899acc74261e09bade49884bfdfb,15,4,1,16643,,,0,"Handle service client authorization errors

Authorization errors when connecting
to nova/glance/neutron/cinder can be raised as
BadConfigurationExceptions in the logs. We shouldn't
be raising exceptions derived from the service client
libraries.

Change-Id: I2d47dbb1251dfa8d529f813724fb7fd97d7d3a0b
Closes-Bug: #1921927
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 04e06968fd7990adac9eb92a885af557a8acc772)
(cherry picked from commit 113dc2878a0d72c22822bfeee933a6511c3e2dbf)
",git fetch https://review.opendev.org/openstack/manila refs/changes/37/804437/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/network/neutron/test_neutron_api.py', 'manila/volume/cinder.py', 'releasenotes/notes/bug-1921927-handle-service-client-unauthorized-exceptions-b2ebc08a072f7e12.yaml', 'manila/network/neutron/api.py', 'manila/tests/common/test_client_auth.py', 'manila/compute/nova.py', 'manila/tests/compute/test_nova.py', 'manila/tests/volume/test_cinder.py', 'manila/common/client_auth.py', 'manila/tests/image/test_image.py', 'manila/image/glance.py']",11,9b19b17eb062899acc74261e09bade49884bfdfb,bug/1921927-stable/victoria," client_class=glance_client.Client, cfg_group=GLANCE_GROUP)","from glanceclient import exc as glance_exception client_class=glance_client.Client, exception_module=glance_exception, cfg_group=GLANCE_GROUP)",18,22
openstack%2Fmanila~stable%2Fussuri~I5cf9788dcafebdf88426617d2824f4be42dbb412,openstack/manila,stable/ussuri,I5cf9788dcafebdf88426617d2824f4be42dbb412,"Filter shares by share type ""extra_specs""",MERGED,2021-08-16 17:55:41.000000000,2021-08-30 12:32:24.000000000,2021-08-30 12:30:53.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30407}, {'_account_id': 32493}]","[{'number': 1, 'created': '2021-08-16 17:55:41.000000000', 'files': ['manila/db/sqlalchemy/api.py', 'releasenotes/notes/bug-192912-fix-filtering-shares-by-extra-specs-b79235301306bcf2.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/d57958a1eac38b045495abbb371f18591f4cb30b', 'message': 'Filter shares by share type ""extra_specs""\n\nThis change fixes the query being used to filter share\ntypes. We were using an ""or"" clause instead of an ""and"" clause,\nand that was causing all the extra specs to be shown instead of\nthe ones that the user specified. With this fix, manila users will\nbe able to filter shares by share type extra_specs accurately.\n\nCloses-Bug: #1929121\n\nChange-Id: I5cf9788dcafebdf88426617d2824f4be42dbb412\n(cherry picked from commit 4fbacf1df1dbe7a85726e22892d462b5b7c4e316)\n(cherry picked from commit 59a0c147df9e9255b3199fbb6846311f0fe8cef1)\n(cherry picked from commit 21d5b1b209e6f45b9e689223c4d310dd4ed49b01)\n'}]",0,804724,d57958a1eac38b045495abbb371f18591f4cb30b,16,5,1,16643,,,0,"Filter shares by share type ""extra_specs""

This change fixes the query being used to filter share
types. We were using an ""or"" clause instead of an ""and"" clause,
and that was causing all the extra specs to be shown instead of
the ones that the user specified. With this fix, manila users will
be able to filter shares by share type extra_specs accurately.

Closes-Bug: #1929121

Change-Id: I5cf9788dcafebdf88426617d2824f4be42dbb412
(cherry picked from commit 4fbacf1df1dbe7a85726e22892d462b5b7c4e316)
(cherry picked from commit 59a0c147df9e9255b3199fbb6846311f0fe8cef1)
(cherry picked from commit 21d5b1b209e6f45b9e689223c4d310dd4ed49b01)
",git fetch https://review.opendev.org/openstack/manila refs/changes/24/804724/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/sqlalchemy/api.py', 'releasenotes/notes/bug-192912-fix-filtering-shares-by-extra-specs-b79235301306bcf2.yaml']",2,d57958a1eac38b045495abbb371f18591f4cb30b,bug/1929121,"--- fixes: - | Filtering shares by share-type ""extra_specs"" as key=value now returns the expected output. ",,8,2
openstack%2Ftripleo-ci-health-queries~master~Ibb27cd0b7454667772b26500fa61a22015a2f133,openstack/tripleo-ci-health-queries,master,Ibb27cd0b7454667772b26500fa61a22015a2f133,Add msg parameter to er queries file,MERGED,2021-08-27 14:14:50.000000000,2021-08-30 12:17:10.000000000,2021-08-30 12:17:10.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-08-27 14:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/f9f8b79670f653f97aece994c81d7001e749dbe6', 'message': 'Add msg parameter to er queries file\n\nChange-Id: Ibb27cd0b7454667772b26500fa61a22015a2f133\n'}, {'number': 2, 'created': '2021-08-27 14:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/cd1c071c83aed5f61462bd542a4aaf8960fc3990', 'message': 'Add msg parameter to er queries file\n\nChange-Id: Ibb27cd0b7454667772b26500fa61a22015a2f133\n'}, {'number': 3, 'created': '2021-08-30 11:41:01.000000000', 'files': ['output/elastic-recheck/Invalid checksum format.yaml', 'output/elastic-recheck/instack_install_undercloud_zero.yaml', 'output/elastic-recheck/gitnet_re.yaml', 'output/elastic-recheck/Undercloud install failed.yaml', 'output/elastic-recheck/Packages download failure.yaml', 'output/elastic-recheck/ssh_re.yaml', 'output/elastic-recheck/Failed to connect to endpoints of overcloud.yaml', 'output/elastic-recheck/ansible_und_err.yaml', 'output/elastic-recheck/Internal_Server_Error_500.yaml', 'output/elastic-recheck/git_re.yaml', 'output/elastic-recheck/Puppet memory fail.yaml', 'output/elastic-recheck/Could_not_resolve_host.yaml', 'output/elastic-recheck/Websocket_timeout.yaml', 'output/elastic-recheck/after_connection_broken_by.yaml', 'output/elastic-recheck/IPMI to nodes failed.yaml', 'output/elastic-recheck/Ping timeout when deploying OC.yaml', 'output/elastic-recheck/Node provision timeout.yaml', 'output/elastic-recheck/Not_enough_nodes_available.yaml', 'output/elastic-recheck/Nova failure no valid host was found.yaml', 'output/elastic-recheck/Multinode_SSH_connection_failed.yaml', 'output/elastic-recheck/Timed_out_waiting.yaml', 'output/elastic-recheck/Failed to provision nodes..yaml', 'output/elastic-recheck/MySQL failure.yaml', 'output/elastic-recheck/Overcloud_update_FAIL.yaml', 'src/data/queries.yml', 'output/elastic-recheck/async_timeout.yaml', 'output/elastic-recheck/selinux denials found.yaml', 'output/elastic-recheck/Connection_failure.yaml', 'output/elastic-recheck/Ironic node provision failed.yaml', 'output/elastic-recheck/exec_user_process_caused.yaml', 'output/elastic-recheck/Gateway_Time_out_HTTP.yaml', 'output/elastic-recheck/Tempest tests failed.yaml', 'output/elastic-recheck/overcloud_deploy_result_failed.yaml', 'output/elastic-recheck/playbook_err_re.yaml', 'output/elastic-recheck/Unauthorized error from container registry.yaml', 'output/elastic-recheck/HTTP_400_Bad.yaml', 'output/elastic-recheck/Delorean FAIL.yaml', 'src/er-converter.py', 'output/elastic-recheck/No valid host.yaml', 'output/elastic-recheck/kolla_build_localhost.yaml', 'output/elastic-recheck/Error_contacting_Ironic.yaml', 'output/elastic-recheck/Memory allocation failure for.yaml', 'output/elastic-recheck/Containers failed to start.yaml', 'output/elastic-recheck/Containers too many requests.yaml', 'output/elastic-recheck/timeout_re.yaml', 'output/elastic-recheck/Failed_to_build_dep.yaml', 'output/elastic-recheck/Overcloud deploy failed.yaml', 'output/elastic-recheck/stack_status_CREATE_FAILED.yaml', 'output/elastic-recheck/tempest_tests_run.yaml', 'output/elastic-recheck/python_setup_egg_info.yaml', 'output/elastic-recheck/Failed_to_create_OVB_stack.yaml', 'output/elastic-recheck/RUN_END_RESULT.yaml', 'output/elastic-recheck/tempest_playbook_failed.yaml', 'output/elastic-recheck/Overcloud_pingtest_FAILED.yaml', 'output/elastic-recheck/Hiera key is undefined.yaml', 'output/elastic-recheck/Packages conflict.yaml', 'output/elastic-recheck/Introspection failed.yaml', 'output/elastic-recheck/No_more_mirrors.yaml', 'output/elastic-recheck/command_exe.yaml', 'output/elastic-recheck/Not enough ports.yaml', 'output/elastic-recheck/Nodes_not_manageable.yaml', 'output/sova-pattern-generated.json', 'output/elastic-recheck/multinode_standalone_playbook_failed.yaml', 'output/elastic-recheck/deploy_re.yaml', 'output/elastic-recheck/exit_value_143.yaml', 'output/elastic-recheck/Introspection failed cannot get IP address.yaml', 'output/elastic-recheck/Invalid_cross_device_link.yaml', 'output/elastic-recheck/ERROR_dlrn.yaml', 'output/elastic-recheck/No space on disk for Ironic.yaml', 'output/elastic-recheck/Overcloud image create failed.yaml', 'output/elastic-recheck/Containers too many requests to registry.yaml', 'output/elastic-recheck/oooq_undercloud_fail.yaml', 'output/elastic-recheck/Node_introspection_failed.yaml', 'output/elastic-recheck/Ironic deployment timeout.yaml', 'output/elastic-recheck/update_FAILED.yaml', 'output/elastic-recheck/Gateway_timeout_504.yaml', 'output/elastic-recheck/Error_registering_nodes.yaml', 'output/elastic-recheck/reference_query.yaml', 'output/elastic-recheck/1938718.yaml', 'output/elastic-recheck/Container image prepare lock error.yaml', 'output/elastic-recheck/curl_failed_get_image.yaml', 'output/elastic-recheck/Buildah pull image failed.yaml', 'output/elastic-recheck/Providing node failed.yaml', 'output/elastic-recheck/DNS_operation_timed_out.yaml', 'output/elastic-recheck/Container not found.yaml', 'output/elastic-recheck/Standalone or Undercloud Heat stack failed.yaml', 'output/elastic-recheck/Gateway_Time_out_504.yaml', 'output/elastic-recheck/No_valid_host_was_found.yaml', 'output/elastic-recheck/SEVERE_ERROR_occurs.yaml', 'output/elastic-recheck/remote_end_hung_up.yaml', 'output/elastic-recheck/Container image not found.yaml', 'output/elastic-recheck/Slave_went_offline.yaml', 'output/elastic-recheck/setup_script_failed.yaml', 'output/elastic-recheck/zcl_re.yaml', 'output/elastic-recheck/Container upload timed out.yaml', 'output/elastic-recheck/pip_install_fail.yaml', 'output/elastic-recheck/baremetal_full_undercloud_failed.yaml', 'output/elastic-recheck/gcc_failed.yaml', 'output/elastic-recheck/exec_re.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/6a80b7779d3bc140919303344208d6fbb7e4a2f8', 'message': 'Add msg parameter to er queries file\n\nThis will be used to display a meaningful description in the ER graph\nwhen there is no bug associated with an entry\n\nStory: https://issues.redhat.com/browse/TRIPLEOCI-599\nChange-Id: Ibb27cd0b7454667772b26500fa61a22015a2f133\n'}]",0,806409,6a80b7779d3bc140919303344208d6fbb7e4a2f8,11,4,3,32458,,,0,"Add msg parameter to er queries file

This will be used to display a meaningful description in the ER graph
when there is no bug associated with an entry

Story: https://issues.redhat.com/browse/TRIPLEOCI-599
Change-Id: Ibb27cd0b7454667772b26500fa61a22015a2f133
",git fetch https://review.opendev.org/openstack/tripleo-ci-health-queries refs/changes/09/806409/2 && git format-patch -1 --stdout FETCH_HEAD,"['output/elastic-recheck/Invalid checksum format.yaml', 'output/elastic-recheck/1929461.yaml', 'output/elastic-recheck/instack_install_undercloud_zero.yaml', 'output/elastic-recheck/gitnet_re.yaml', 'output/elastic-recheck/Undercloud install failed.yaml', 'output/elastic-recheck/Packages download failure.yaml', 'output/elastic-recheck/ssh_re.yaml', 'output/elastic-recheck/1449136.yaml', 'output/elastic-recheck/Failed to connect to endpoints of overcloud.yaml', 'output/elastic-recheck/ansible_und_err.yaml', 'output/elastic-recheck/1926187.yaml', 'output/elastic-recheck/Internal_Server_Error_500.yaml', 'output/elastic-recheck/git_re.yaml', 'output/elastic-recheck/Test 1.yaml', 'output/elastic-recheck/Puppet memory fail.yaml', 'output/elastic-recheck/Could_not_resolve_host.yaml', 'output/elastic-recheck/Websocket_timeout.yaml', 'output/elastic-recheck/after_connection_broken_by.yaml', 'output/elastic-recheck/curl_re.yaml', 'output/elastic-recheck/IPMI to nodes failed.yaml', 'output/elastic-recheck/Ping timeout when deploying OC.yaml', 'output/elastic-recheck/Node provision timeout.yaml', 'output/elastic-recheck/Not_enough_nodes_available.yaml', 'output/elastic-recheck/Nova failure no valid host was found.yaml', 'output/elastic-recheck/Multinode_SSH_connection_failed.yaml', 'output/elastic-recheck/Timed_out_waiting.yaml', 'output/elastic-recheck/Failed to provision nodes..yaml', 'output/elastic-recheck/MySQL failure.yaml', 'output/elastic-recheck/Overcloud_update_FAIL.yaml', 'src/data/queries.yml', 'output/elastic-recheck/async_timeout.yaml', 'output/elastic-recheck/selinux denials found.yaml', 'output/elastic-recheck/Connection_failure.yaml', 'output/elastic-recheck/Ironic node provision failed.yaml', 'output/elastic-recheck/exec_user_process_caused.yaml', 'output/elastic-recheck/Gateway_Time_out_HTTP.yaml', 'output/elastic-recheck/Tempest tests failed.yaml', 'output/elastic-recheck/overcloud_deploy_result_failed.yaml', 'output/elastic-recheck/playbook_err_re.yaml', 'output/elastic-recheck/Unauthorized error from container registry.yaml', 'output/elastic-recheck/HTTP_400_Bad.yaml', 'output/elastic-recheck/Client_disconnected.yaml', 'output/elastic-recheck/Delorean FAIL.yaml', 'src/er-converter.py', 'output/elastic-recheck/No valid host.yaml', 'output/elastic-recheck/Test 2.yaml', 'output/elastic-recheck/kolla_build_localhost.yaml', 'output/elastic-recheck/Error_contacting_Ironic.yaml', 'output/elastic-recheck/Memory allocation failure for.yaml', 'output/elastic-recheck/Containers failed to start.yaml', 'output/elastic-recheck/Containers too many requests.yaml', 'output/elastic-recheck/timeout_re.yaml', 'output/elastic-recheck/Failed_to_build_dep.yaml', 'output/elastic-recheck/Overcloud deploy failed.yaml', 'output/elastic-recheck/stack_status_CREATE_FAILED.yaml', 'output/elastic-recheck/tempest_tests_run.yaml', 'output/elastic-recheck/python_setup_egg_info.yaml', 'output/elastic-recheck/Failed_to_create_OVB_stack.yaml', 'output/elastic-recheck/RUN_END_RESULT.yaml', 'output/elastic-recheck/tempest_playbook_failed.yaml', 'output/elastic-recheck/Overcloud_pingtest_FAILED.yaml', 'output/elastic-recheck/Hiera key is undefined.yaml', 'output/elastic-recheck/Packages conflict.yaml', 'output/elastic-recheck/Introspection failed.yaml', 'output/elastic-recheck/No_more_mirrors.yaml', 'output/elastic-recheck/command_exe.yaml', 'output/elastic-recheck/Not enough ports.yaml', 'output/elastic-recheck/Nodes_not_manageable.yaml', 'output/sova-pattern-generated.json', 'output/elastic-recheck/multinode_standalone_playbook_failed.yaml', 'output/elastic-recheck/1926649.yaml', 'output/elastic-recheck/deploy_re.yaml', 'output/elastic-recheck/exit_value_143.yaml', 'output/elastic-recheck/Introspection failed cannot get IP address.yaml', 'output/elastic-recheck/Invalid_cross_device_link.yaml', 'output/elastic-recheck/ERROR_dlrn.yaml', 'output/elastic-recheck/No space on disk for Ironic.yaml', 'output/elastic-recheck/Overcloud image create failed.yaml', 'output/elastic-recheck/Containers too many requests to registry.yaml', 'output/elastic-recheck/oooq_undercloud_fail.yaml', 'output/elastic-recheck/Node_introspection_failed.yaml', 'output/elastic-recheck/Ironic deployment timeout.yaml', 'output/elastic-recheck/update_FAILED.yaml', 'output/elastic-recheck/Gateway_timeout_504.yaml', 'output/elastic-recheck/Error_registering_nodes.yaml', 'output/elastic-recheck/reference_query.yaml', 'output/elastic-recheck/1938718.yaml', 'output/elastic-recheck/Container image prepare lock error.yaml', 'output/elastic-recheck/curl_failed_get_image.yaml', 'output/elastic-recheck/Buildah pull image failed.yaml', 'output/elastic-recheck/Providing node failed.yaml', 'output/elastic-recheck/DNS_operation_timed_out.yaml', 'output/elastic-recheck/overcloud_create_failed.yaml', 'output/elastic-recheck/Container not found.yaml', 'output/elastic-recheck/Standalone or Undercloud Heat stack failed.yaml', 'output/elastic-recheck/Gateway_Time_out_504.yaml', 'output/elastic-recheck/No_valid_host_was_found.yaml', 'output/elastic-recheck/SEVERE_ERROR_occurs.yaml', 'output/elastic-recheck/remote_end_hung_up.yaml', 'output/elastic-recheck/missing_file.yaml', 'output/elastic-recheck/Container image not found.yaml', 'output/elastic-recheck/Slave_went_offline.yaml', 'output/elastic-recheck/setup_script_failed.yaml', 'output/elastic-recheck/zcl_re.yaml', 'output/elastic-recheck/Container upload timed out.yaml', 'output/elastic-recheck/pip_install_fail.yaml', 'output/elastic-recheck/baremetal_full_undercloud_failed.yaml', 'output/elastic-recheck/gcc_failed.yaml', 'output/elastic-recheck/exec_re.yaml']",109,f9f8b79670f653f97aece994c81d7001e749dbe6,,,"query: message:""returned 1 instead of one of"" AND (tags:""console"") suppress-graph: false ",4,225
openstack%2Fironic~master~Id2701ae2cf04b336dd74f4f9795dda5eea049db0,openstack/ironic,master,Id2701ae2cf04b336dd74f4f9795dda5eea049db0,Add better error messages for invalid conf molds,MERGED,2021-08-19 13:32:01.000000000,2021-08-30 12:10:50.000000000,2021-08-30 12:07:50.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-19 13:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b4bd011b47692447d99e2f4f58c6655734f85771', 'message': 'Add better error messages for invalid conf molds\n\nChange-Id: Id2701ae2cf04b336dd74f4f9795dda5eea049db0\n'}, {'number': 2, 'created': '2021-08-23 10:12:56.000000000', 'files': ['ironic/drivers/modules/drac/management.py', 'ironic/common/molds.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'ironic/tests/unit/common/test_molds.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b3f6da3df4f832a614f334b78d7dc2da8c718480', 'message': 'Add better error messages for invalid conf molds\n\nChange-Id: Id2701ae2cf04b336dd74f4f9795dda5eea049db0\n'}]",8,805222,b3f6da3df4f832a614f334b78d7dc2da8c718480,18,4,2,27909,,,0,"Add better error messages for invalid conf molds

Change-Id: Id2701ae2cf04b336dd74f4f9795dda5eea049db0
",git fetch https://review.opendev.org/openstack/ironic refs/changes/22/805222/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/management.py', 'ironic/common/molds.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'ironic/tests/unit/common/test_molds.py']",4,b4bd011b47692447d99e2f4f58c6655734f85771,conf_molds,"import json response.content = ""{'key': 'value'}"" response.content = ""{'key': 'value'}"" response.content = ""{'key': 'value'}"" @mock.patch.object(requests, 'get', autospec=True) def test_get_configuration_empty(self, mock_get): cfg.CONF.molds.storage = 'http' response = mock.MagicMock() response.status_code = 200 response.content = '' mock_get.return_value = response url = 'https://example.com/file2' with task_manager.acquire(self.context, self.node.uuid) as task: self.assertRaises(exception.IronicException, molds.get_configuration, task, url) @mock.patch.object(requests, 'get', autospec=True) def test_get_configuration_invalid_json(self, mock_get): cfg.CONF.molds.storage = 'http' response = mock.MagicMock() response.status_code = 200 response.content = 'not json' response.json.side_effect = json.decoder.JSONDecodeError( 'Expecting value', 'not json', 0) mock_get.return_value = response url = 'https://example.com/file2' with task_manager.acquire(self.context, self.node.uuid) as task: self.assertRaises(exception.IronicException, molds.get_configuration, task, url)",,118,13
openstack%2Fcinder~master~I469127022038077b099a139597e36b351bc31c69,openstack/cinder,master,I469127022038077b099a139597e36b351bc31c69,Prototype exposing tenant-visible extra specs,ABANDONED,2021-06-19 01:00:52.000000000,2021-08-30 12:03:47.000000000,,"[{'_account_id': 9003}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-19 01:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/054c0a4ac469eb357f7749ad60ce4dbfeea48ad5', 'message': 'Prototype exposing tenant-visible extra specs\n\nChange-Id: I469127022038077b099a139597e36b351bc31c69\n'}, {'number': 2, 'created': '2021-06-19 19:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/57448b3ea7fa6a8f69f63930ff93ebb0c27d3342', 'message': 'Prototype exposing tenant-visible extra specs\n\nChange-Id: I469127022038077b099a139597e36b351bc31c69\n'}, {'number': 3, 'created': '2021-06-21 03:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a91890da7f10727b1066e72071ef0b27b0d90b1', 'message': 'Prototype exposing tenant-visible extra specs\n\nChange-Id: I469127022038077b099a139597e36b351bc31c69\n'}, {'number': 4, 'created': '2021-06-22 17:43:56.000000000', 'files': ['cinder/policies/volume_type.py', 'cinder/api/v2/views/types.py', 'cinder/tests/unit/api/contrib/test_types_extra_specs.py', 'cinder/api/contrib/types_extra_specs.py', 'cinder/common/constants.py', 'cinder/tests/unit/api/v2/test_types.py', 'cinder/policies/type_extra_specs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/dacafb7719dcb681fd588fa561ae9fd6894e057c', 'message': 'Prototype exposing tenant-visible extra specs\n\nChange-Id: I469127022038077b099a139597e36b351bc31c69\n'}]",0,797170,dacafb7719dcb681fd588fa561ae9fd6894e057c,86,3,4,9003,,,0,"Prototype exposing tenant-visible extra specs

Change-Id: I469127022038077b099a139597e36b351bc31c69
",git fetch https://review.opendev.org/openstack/cinder refs/changes/70/797170/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/v2/views/types.py', 'cinder/api/contrib/types_extra_specs.py', 'cinder/common/constants.py', 'cinder/tests/unit/api/v2/test_types.py', 'cinder/policies/type_extra_specs.py']",5,054c0a4ac469eb357f7749ad60ce4dbfeea48ad5,prototype," check_str="""","," check_str=base.RULE_ADMIN_API,",50,19
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I6435517203e28dc1729fa611da9510fa5874e281,openstack/tripleo-heat-templates,stable/train,I6435517203e28dc1729fa611da9510fa5874e281,Add z flag to ovn mounts in hybrid mode,MERGED,2021-08-27 13:00:05.000000000,2021-08-30 11:58:56.000000000,2021-08-30 11:58:56.000000000,"[{'_account_id': 4978}, {'_account_id': 6681}, {'_account_id': 6816}, {'_account_id': 8655}, {'_account_id': 11082}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 33080}]","[{'number': 1, 'created': '2021-08-27 13:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9bb739ae09c68dba6b28c24178ec11434b62a76a', 'message': 'Add z flag to ovn mounts in hybrid mode\n\nCo-Authored-By: ""Cedric Jeanneret (Tengu) <cjeanner@redhat.com>""\n\nChange-Id: I6435517203e28dc1729fa611da9510fa5874e281\n'}, {'number': 2, 'created': '2021-08-27 13:22:49.000000000', 'files': ['deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7770440693ad7e24642be3ec700b6dcecdc33ad2', 'message': 'Add z flag to ovn mounts in hybrid mode\n\nCo-Authored-By: ""Cedric Jeanneret (Tengu) <cjeanner@redhat.com>""\n\nChange-Id: I6435517203e28dc1729fa611da9510fa5874e281\n'}]",4,806401,7770440693ad7e24642be3ec700b6dcecdc33ad2,16,11,2,11090,,,0,"Add z flag to ovn mounts in hybrid mode

Co-Authored-By: ""Cedric Jeanneret (Tengu) <cjeanner@redhat.com>""

Change-Id: I6435517203e28dc1729fa611da9510fa5874e281
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/806401/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-controller-container-puppet.yaml'],1,9bb739ae09c68dba6b28c24178ec11434b62a76a,Zzz," .ovn_controller.volumes += [""/var/lib/openvswitch/ovn:/run/ovn:shared,z"", ""/var/log/containers/openvswitch:/var/log/ovn""] |"," .ovn_controller.volumes += [""/var/lib/openvswitch/ovn:/run/ovn:shared"", ""/var/log/containers/openvswitch:/var/log/ovn""] |",1,1
openstack%2Fneutron-tempest-plugin~master~Ic4f54fed3ed1e0acf4132cad9ffba2dcede72372,openstack/neutron-tempest-plugin,master,Ic4f54fed3ed1e0acf4132cad9ffba2dcede72372,neutron-lib: Skip tempest job for changes in unit tests code,MERGED,2021-08-22 04:26:39.000000000,2021-08-30 11:46:49.000000000,2021-08-30 11:46:49.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-22 04:26:39.000000000', 'files': ['zuul.d/master_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a78d12a71c10b4d6b96ec6f3a503566fbe40516e', 'message': 'neutron-lib: Skip tempest job for changes in unit tests code\n\n... because any change in unit tests code does never affect\nfunctionality.\n\nChange-Id: Ic4f54fed3ed1e0acf4132cad9ffba2dcede72372\n'}]",0,805494,a78d12a71c10b4d6b96ec6f3a503566fbe40516e,12,3,1,9816,,,0,"neutron-lib: Skip tempest job for changes in unit tests code

... because any change in unit tests code does never affect
functionality.

Change-Id: Ic4f54fed3ed1e0acf4132cad9ffba2dcede72372
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/94/805494/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/master_jobs.yaml'],1,a78d12a71c10b4d6b96ec6f3a503566fbe40516e,neutron-lib-ut, - ^neutron_lib/tests/unit/.*$,,1,0
openstack%2Fhorizon~master~I8fec54eb5f2a9bf218ee36e9c0a1ce9c15c97a26,openstack/horizon,master,I8fec54eb5f2a9bf218ee36e9c0a1ce9c15c97a26,Changes for tacker-horizon integration tests,MERGED,2021-08-04 11:24:42.000000000,2021-08-30 11:37:42.000000000,2021-08-30 11:35:56.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-08-04 11:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f9556394d100f94b4da0d9e5caf684d756c34584', 'message': '[WIP] Changes for tacker-horizon integration tests\n\nChange-Id: I8fec54eb5f2a9bf218ee36e9c0a1ce9c15c97a26\n'}, {'number': 2, 'created': '2021-08-19 14:07:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/eebb0bfffd6a32794544dcb9a967b7be1e298987', 'message': ""Changes for tacker-horizon integration tests\n\nIn case of tacker-horizon integration test cases,\nselenium reports an exception ElementNotInteractableException\nwhile opening pages under 'NFV Orchestration' panel group.\n\nThis error occurs when element is not clickable or it is not\nvisible yet. The panel group 'NFV Orchestration' is never\nclicked/open hence requested pages are not visible/clickable.\n\nThis patch adds functionality to explicitly click 'NFV Orchestration'\npanel.\n\nChange-Id: I8fec54eb5f2a9bf218ee36e9c0a1ce9c15c97a26\n""}, {'number': 3, 'created': '2021-08-26 13:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c35f464063114e08c7a6ae1dc233f34ef1bbb95d', 'message': ""[WIP]Changes for tacker-horizon integration tests\n\nIn case of tacker-horizon integration test cases,\nselenium reports an exception ElementNotInteractableException\nwhile opening pages under 'NFV Orchestration' panel group.\n\nThis error occurs when element is not clickable or it is not\nvisible yet. The panel group 'NFV Orchestration' is never\nclicked/open hence requested pages are not visible/clickable.\n\nThis patch adds functionality to detect collapsed menu items\nand expand items.\n\nChange-Id: I8fec54eb5f2a9bf218ee36e9c0a1ce9c15c97a26\n""}, {'number': 4, 'created': '2021-08-26 14:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/426e69982eea72bf31852fbc6775b1458f38232b', 'message': ""[WIP]Changes for tacker-horizon integration tests\n\nIn case of tacker-horizon integration test cases,\nselenium reports an exception ElementNotInteractableException\nwhile opening pages under 'NFV Orchestration' panel group.\n\nThis error occurs when element is not clickable or it is not\nvisible yet. The panel group 'NFV Orchestration' is never\nclicked/open hence requested pages are not visible/clickable.\n\nThis patch adds functionality to detect collapsed menu items\nand expand items.\n\nChange-Id: I8fec54eb5f2a9bf218ee36e9c0a1ce9c15c97a26\n""}, {'number': 5, 'created': '2021-08-26 15:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f0b2b86cae2b9ef847bfb5109160a4cb15963b96', 'message': ""Changes for tacker-horizon integration tests\n\nIn case of tacker-horizon integration test cases,\nselenium reports an exception ElementNotInteractableException\nwhile opening pages under 'NFV Orchestration' panel group.\n\nThis error occurs when element is not clickable or it is not\nvisible yet. The panel group 'NFV Orchestration' is never\nclicked/open hence requested pages are not visible/clickable.\n\nThis patch adds functionality to detect collapsed menu items\nand expand items.\n\nChange-Id: I8fec54eb5f2a9bf218ee36e9c0a1ce9c15c97a26\n""}, {'number': 6, 'created': '2021-08-27 03:38:14.000000000', 'files': ['openstack_dashboard/test/integration_tests/regions/menus.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3230e1fb15789238601da44b38b45a486a0dcb81', 'message': 'Changes for tacker-horizon integration tests\n\nThe tacker-horizon integration test framework has been implemented[1]\nWhile adding integration test cases a selenium exception [2] was\nobserved for test cases under directory [3].\n\nTacker-horizon UI Details:\n\n* Most of the Horizon plugins, such as manila-ui and vitrage-dashboard\n  support integration tests, these plugins reside under ""Project"" tab.\n* Whereas, tacker-horizon, mistral-dashboard are horizon plugins which\n  have their dashboard anchored directly at the top-level alongside\n  ""Project"" tab.\n* The tacker-horizon has two-panel groups,\n   * VNF Management\n   * NFV Orchestration\n* The ""VNF Management"" is a default panel and remains expanded in NFV\n  dashboard, whereas ""NFV Orchestration"" is collapsed initially.\n\nSelenium Exception Details:\n\n* The horizon framework reports an exception\n  ElementNotInteractableException, while opening pages under\n  ""NFV Orchestration"" panel group.\n* This error occurs when an element is not clicked or it is not visible\n  yet.\n* The menu item expansion code in the horizon integration framework\n  expands only those menu items (level first, second or third) if only\n  the previous menu item at the same level was expanded earlier.\n* For example, in order to open a page[4] under NVF Orchestration panel\n  group, the framework collapses ""Project"" tab and clicks ""NFV""\n  dashboard.\n  But it never expands ""NFV Orchestration"" panel as in second-level no\n  such transition occured hence it remains collapsed. So test case fails\n  to find desired page.\n  On the other hand, test cases for pages under ""VNF Management"" succeed\n  as the panel group by default remains open.\n\nThis patch adds functionality to detect collapsed menu items and expand\nthe items.\n\n[1] https://review.opendev.org/c/openstack/tacker-horizon/+/790958\n[2] https://zuul.opendev.org/t/openstack/build/b8bd1618206945b68ebdbcdc7f1bdf10/console\n[3] tacker_horizon/test/integration/pages/nfv/nfv_orchestration/\n[4] tacker_horizon/test/integration/pages/nfv/nfv_orchestration/vimmanagementpage.py\n\nChange-Id: I8fec54eb5f2a9bf218ee36e9c0a1ce9c15c97a26\n'}]",0,803465,3230e1fb15789238601da44b38b45a486a0dcb81,21,6,6,32102,,,0,"Changes for tacker-horizon integration tests

The tacker-horizon integration test framework has been implemented[1]
While adding integration test cases a selenium exception [2] was
observed for test cases under directory [3].

Tacker-horizon UI Details:

* Most of the Horizon plugins, such as manila-ui and vitrage-dashboard
  support integration tests, these plugins reside under ""Project"" tab.
* Whereas, tacker-horizon, mistral-dashboard are horizon plugins which
  have their dashboard anchored directly at the top-level alongside
  ""Project"" tab.
* The tacker-horizon has two-panel groups,
   * VNF Management
   * NFV Orchestration
* The ""VNF Management"" is a default panel and remains expanded in NFV
  dashboard, whereas ""NFV Orchestration"" is collapsed initially.

Selenium Exception Details:

* The horizon framework reports an exception
  ElementNotInteractableException, while opening pages under
  ""NFV Orchestration"" panel group.
* This error occurs when an element is not clicked or it is not visible
  yet.
* The menu item expansion code in the horizon integration framework
  expands only those menu items (level first, second or third) if only
  the previous menu item at the same level was expanded earlier.
* For example, in order to open a page[4] under NVF Orchestration panel
  group, the framework collapses ""Project"" tab and clicks ""NFV""
  dashboard.
  But it never expands ""NFV Orchestration"" panel as in second-level no
  such transition occured hence it remains collapsed. So test case fails
  to find desired page.
  On the other hand, test cases for pages under ""VNF Management"" succeed
  as the panel group by default remains open.

This patch adds functionality to detect collapsed menu items and expand
the items.

[1] https://review.opendev.org/c/openstack/tacker-horizon/+/790958
[2] https://zuul.opendev.org/t/openstack/build/b8bd1618206945b68ebdbcdc7f1bdf10/console
[3] tacker_horizon/test/integration/pages/nfv/nfv_orchestration/
[4] tacker_horizon/test/integration/pages/nfv/nfv_orchestration/vimmanagementpage.py

Change-Id: I8fec54eb5f2a9bf218ee36e9c0a1ce9c15c97a26
",git fetch https://review.opendev.org/openstack/horizon refs/changes/65/803465/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/test/integration_tests/regions/menus.py'],1,f9556394d100f94b4da0d9e5caf684d756c34584,bp/tacker-horizon-integration-test," # In case of tacker-horizon, # selenium reports exception ElementNotInteractableException while # opening pages under 'NFV Orchestration' panel group. This error # occurs when element is not clickable or it is not visible yet. # The panel group 'NFV Orchestration' is never clicked/open hence # requested pages are not visible/clickable. if text == ""NFV Orchestration"": is_already_within_required_item = False ",,9,0
openstack%2Fopenstack-tempest-skiplist~master~Id0d47a21412f5734de1875918c5fe92c2d6911c3,openstack/openstack-tempest-skiplist,master,Id0d47a21412f5734de1875918c5fe92c2d6911c3,"Added scenario010-{victoria,wallaby} jobs to skiplist",MERGED,2021-08-26 13:10:54.000000000,2021-08-30 11:17:48.000000000,2021-08-30 11:16:27.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 13:10:54.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/65082372c74832e3489e65f7c68af5a97e6169c8', 'message': 'Added scenario010-{victoria,wallaby} jobs to skiplist\n\nScenario010-{victoria,wallaby} jobs are in non-voting\nstate[1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/803867\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Id0d47a21412f5734de1875918c5fe92c2d6911c3\n'}]",0,806175,65082372c74832e3489e65f7c68af5a97e6169c8,7,2,1,30750,,,0,"Added scenario010-{victoria,wallaby} jobs to skiplist

Scenario010-{victoria,wallaby} jobs are in non-voting
state[1].

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/803867

Signed-off-by: Amol Kahat <amolkahat@gmail.com>
Change-Id: Id0d47a21412f5734de1875918c5fe92c2d6911c3
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/75/806175/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,65082372c74832e3489e65f7c68af5a97e6169c8,scenario010-v-w, - tripleo-ci-centos-8-scenario010-standalone-victoria - tripleo-ci-centos-8-scenario010-standalone-wallaby - tripleo-ci-centos-8-scenario010-ovn-provider-standalone-victoria - tripleo-ci-centos-8-scenario010-ovn-provider-standalone-wallaby,,4,0
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I08866cb284af02f668061bb0d86bce4b550cf5af,openstack/python-tripleoclient,stable/wallaby,I08866cb284af02f668061bb0d86bce4b550cf5af,DNM,ABANDONED,2021-08-30 06:46:27.000000000,2021-08-30 10:59:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-30 06:46:27.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/645cd73c45d7c53973c6be8ec1d7ca18d51f3bfa', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I08866cb284af02f668061bb0d86bce4b550cf5af\n'}]",0,806537,645cd73c45d7c53973c6be8ec1d7ca18d51f3bfa,3,1,1,32926,,,0,"DNM

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I08866cb284af02f668061bb0d86bce4b550cf5af
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/37/806537/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,645cd73c45d7c53973c6be8ec1d7ca18d51f3bfa,test,tripleo-common # Apache-2.0,tripleo-common>=15.2.0 # Apache-2.0,1,1
openstack%2Fopenstack-tempest-skiplist~master~I7101593af23ac96535c46878153fcff6e23e5cbc,openstack/openstack-tempest-skiplist,master,I7101593af23ac96535c46878153fcff6e23e5cbc,Skip test_attach_volume_negative tempest test,MERGED,2021-08-20 13:20:58.000000000,2021-08-30 10:47:03.000000000,2021-08-20 13:45:35.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 13:20:58.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/567a39957d933bc1578b88c931afe804e3a6b141', 'message': 'Skip test_attach_volume_negative tempest test\n\nThis patch skips test_attach_volume_negative test to\nclear the rhos-17 line until get a fix for bz bug[1].\n\n[1] BZ : https://bugzilla.redhat.com/show_bug.cgi?id=1996049\n\nChange-Id: I7101593af23ac96535c46878153fcff6e23e5cbc\n'}]",0,805382,567a39957d933bc1578b88c931afe804e3a6b141,9,2,1,31075,,,0,"Skip test_attach_volume_negative tempest test

This patch skips test_attach_volume_negative test to
clear the rhos-17 line until get a fix for bz bug[1].

[1] BZ : https://bugzilla.redhat.com/show_bug.cgi?id=1996049

Change-Id: I7101593af23ac96535c46878153fcff6e23e5cbc
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/82/805382/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,567a39957d933bc1578b88c931afe804e3a6b141,skip_tempest_api_rhos17, - test: tempest.api.compute.volumes.test_attach_volume_negative.AttachVolumeNegativeTest deployment: - overcloud releases: - name: wallaby reason: timeout bz: https://bugzilla.redhat.com/show_bug.cgi?id=1996049 installers: - 'osp' jobs: - periodic-tripleo-ci-rhel-8-standalone-full-tempest-api-rhos-17,,11,0
openstack%2Fheat~master~I89efa955e9321e246c9d339a6e5a18d44282eca6,openstack/heat,master,I89efa955e9321e246c9d339a6e5a18d44282eca6,Add missing oslo.cache options,MERGED,2021-08-23 02:27:44.000000000,2021-08-30 10:46:53.000000000,2021-08-30 10:44:27.000000000,"[{'_account_id': 9542}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-08-23 02:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ed97d31fed5a1a23a4ad315407f1178ae7d19cc8', 'message': 'Add missing oslo.cache options\n\nThis change ensures options of the oslo.cache library are included in\n.conf file generated by oslo-config-generator.\n\nChange-Id: I89efa955e9321e246c9d339a6e5a18d44282eca6\n'}, {'number': 2, 'created': '2021-08-23 02:34:46.000000000', 'files': ['config-generator.conf'], 'web_link': 'https://opendev.org/openstack/heat/commit/605b10c31b09b9990008fc5b42d57c76e25e5adf', 'message': 'Add missing oslo.cache options\n\nThis change ensures options of the oslo.cache library are included in\nheat.conf generated by oslo-config-generator.\n\nChange-Id: I89efa955e9321e246c9d339a6e5a18d44282eca6\n'}]",0,805546,605b10c31b09b9990008fc5b42d57c76e25e5adf,11,4,2,9816,,,0,"Add missing oslo.cache options

This change ensures options of the oslo.cache library are included in
heat.conf generated by oslo-config-generator.

Change-Id: I89efa955e9321e246c9d339a6e5a18d44282eca6
",git fetch https://review.opendev.org/openstack/heat refs/changes/46/805546/2 && git format-patch -1 --stdout FETCH_HEAD,['config-generator.conf'],1,ed97d31fed5a1a23a4ad315407f1178ae7d19cc8,oslo-cache-opts,namespace = oslo.cache,,1,0
openstack%2Fproject-config~master~Id8028f0181a2e9eadefaae5d3e84282af4788026,openstack/project-config,master,Id8028f0181a2e9eadefaae5d3e84282af4788026,Ensure promote-tox-docs-infra runs only on master,MERGED,2021-08-25 15:22:52.000000000,2021-08-30 10:23:06.000000000,2021-08-30 10:23:06.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 8367}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-25 15:22:52.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5f73e1b02e71f0409f24b0d861ebfa7a07599afb', 'message': 'Ensure promote-tox-docs-infra runs only on master\n\nFixes bug where this job was executed on feature branch.\n\nChange-Id: Id8028f0181a2e9eadefaae5d3e84282af4788026\n'}]",0,806012,5f73e1b02e71f0409f24b0d861ebfa7a07599afb,11,7,1,24162,,,0,"Ensure promote-tox-docs-infra runs only on master

Fixes bug where this job was executed on feature branch.

Change-Id: Id8028f0181a2e9eadefaae5d3e84282af4788026
",git fetch https://review.opendev.org/openstack/project-config refs/changes/12/806012/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,5f73e1b02e71f0409f24b0d861ebfa7a07599afb,, branches: master,,1,0
openstack%2Freleases~master~I0f53dd5f3a7244a0e9c5ca8822c1b618c04687de,openstack/releases,master,I0f53dd5f3a7244a0e9c5ca8822c1b618c04687de,Release senlin for stable/ussuri,MERGED,2021-07-23 20:47:26.000000000,2021-08-30 10:12:42.000000000,2021-08-30 10:12:42.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-23 20:47:26.000000000', 'files': ['deliverables/ussuri/senlin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ce76adfc8c337c9497c9253dc925989f8a846eb3', 'message': 'Release senlin for stable/ussuri\n\nThis release picks up new commits to senlin since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 9.0.0..4cc0a483\n4cc0a483 Pass in correct port id parameter\n29d84ca4 Fix hacking min version to 3.0.1\nfb738fcd Monkey patch original current_thread _active\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I0f53dd5f3a7244a0e9c5ca8822c1b618c04687de\n'}]",0,802121,ce76adfc8c337c9497c9253dc925989f8a846eb3,10,4,1,17685,,,0,"Release senlin for stable/ussuri

This release picks up new commits to senlin since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 9.0.0..4cc0a483
4cc0a483 Pass in correct port id parameter
29d84ca4 Fix hacking min version to 3.0.1
fb738fcd Monkey patch original current_thread _active

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I0f53dd5f3a7244a0e9c5ca8822c1b618c04687de
",git fetch https://review.opendev.org/openstack/releases refs/changes/21/802121/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/senlin.yaml'],1,ce76adfc8c337c9497c9253dc925989f8a846eb3,ussuri-stable, - version: 9.0.1 projects: - repo: openstack/senlin hash: 4cc0a483f988fb85d6eeeb941c76c273af2e47ee,,4,0
openstack%2Fovn-bgp-agent~master~I7de2acf50ab009a3a45b90b977c4c7d801c491b5,openstack/ovn-bgp-agent,master,I7de2acf50ab009a3a45b90b977c4c7d801c491b5,Initial commit,MERGED,2021-08-27 15:43:14.000000000,2021-08-30 10:07:04.000000000,2021-08-30 10:07:04.000000000,"[{'_account_id': 6773}, {'_account_id': 20172}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-08-27 15:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/0161f20d9bfbd6f4ebd7eeac19c9f70538adc2a3', 'message': 'Initial review\n\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I7de2acf50ab009a3a45b90b977c4c7d801c491b5\n'}, {'number': 2, 'created': '2021-08-27 15:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/fa2543a8e2013cd06e6ea4e66562cd4c0acf9177', 'message': 'Initial commit\n\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I7de2acf50ab009a3a45b90b977c4c7d801c491b5\n'}, {'number': 3, 'created': '2021-08-27 15:56:19.000000000', 'files': ['.gitignore', 'ovn_bgp_agent/__init__.py', 'test-requirements.txt', 'README.rst', 'setup.py', 'releasenotes/source/_templates/.placeholder', 'releasenotes/notes/.placeholder', 'CONTRIBUTING.rst', 'requirements.txt', 'releasenotes/source/_static/.placeholder', '.coveragerc', 'LICENSE', '.stestr.conf', '.zuul.yaml', '.mailmap', 'doc/source/conf.py', 'lower-constraints.txt', 'releasenotes/source/index.rst', 'releasenotes/source/unreleased.rst', 'doc/source/index.rst', 'ovn_bgp_agent/tests/__init__.py', 'doc/requirements.txt', 'doc/source/readme.rst', 'setup.cfg', 'ovn_bgp_agent/tests/test_ovn_bgp_agent.py', 'tox.ini', 'HACKING.rst', 'ovn_bgp_agent/tests/base.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/224a19994e8af34cf9e33aaa4ef9ef30f24bef64', 'message': 'Initial commit\n\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I7de2acf50ab009a3a45b90b977c4c7d801c491b5\n'}]",0,806426,224a19994e8af34cf9e33aaa4ef9ef30f24bef64,14,6,3,6773,,,0,"Initial commit

Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: I7de2acf50ab009a3a45b90b977c4c7d801c491b5
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/26/806426/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', '.gitignore', 'ovn_bgp_agent/__init__.py', 'doc/source/install/index.rst', 'test-requirements.txt', 'doc/source/library/index.rst', 'README.rst', 'setup.py', 'doc/source/install/get_started.rst', 'releasenotes/source/_templates/.placeholder', 'doc/source/contributor/contributing.rst', 'releasenotes/notes/.placeholder', 'CONTRIBUTING.rst', 'doc/source/install/install-ubuntu.rst', 'requirements.txt', 'doc/source/contributor/index.rst', 'doc/source/install/common_configure.rst', 'releasenotes/source/_static/.placeholder', 'doc/source/install/next-steps.rst', '.coveragerc', 'LICENSE', '.stestr.conf', 'doc/source/reference/index.rst', 'doc/source/user/index.rst', 'doc/source/install/common_prerequisites.rst', '.mailmap', 'doc/source/conf.py', 'lower-constraints.txt', 'releasenotes/source/index.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst', 'doc/source/configuration/index.rst', 'releasenotes/source/unreleased.rst', 'doc/source/index.rst', 'doc/source/install/verify.rst', 'doc/source/cli/index.rst', 'doc/source/install/install.rst', 'ovn_bgp_agent/tests/__init__.py', 'doc/requirements.txt', 'doc/source/readme.rst', 'setup.cfg', 'ovn_bgp_agent/tests/test_ovn_bgp_agent.py', 'tox.ini', 'HACKING.rst', 'ovn_bgp_agent/tests/base.py', 'releasenotes/source/conf.py']",46,0161f20d9bfbd6f4ebd7eeac19c9f70538adc2a3,,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # This file is execfile()d with the current directory set to its # containing dir. # # Note that not all possible configuration values are present in this # autogenerated file. # # All configuration values have a default; values that are commented out # serve to show the default. # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. # sys.path.insert(0, os.path.abspath('.')) # -- General configuration ------------------------------------------------ # If your documentation needs a minimal Sphinx version, state it here. # needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'openstackdocstheme', 'reno.sphinxext', ] # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst' # The encoding of source files. # source_encoding = 'utf-8-sig' # The master toctree document. master_doc = 'index' # General information about the project. project = u'ovn_bgp_agent Release Notes' copyright = u'2017, OpenStack Developers' # openstackdocstheme options openstackdocs_repo_name = 'x/ovn-bgp-agent' openstackdocs_bug_project = 'ovn-bgp-agent' openstackdocs_bug_tag = '' openstackdocs_auto_name = 'False' # The version info for the project you're documenting, acts as replacement for # |version| and |release|, also used in various other places throughout the # built documents. # # The short X.Y version. # The full version, including alpha/beta/rc tags. release = '' # The short X.Y version. version = '' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. # language = None # There are two options for replacing |today|: either, you set today to some # non-false value, then it is used: # today = '' # Else, today_fmt is used as the format for a strftime call. # today_fmt = '%B %d, %Y' # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. exclude_patterns = [] # The reST default role (used for this markup: `text`) to use for all # documents. # default_role = None # If true, '()' will be appended to :func: etc. cross-reference text. # add_function_parentheses = True # If true, the current module name will be prepended to all description # unit titles (such as .. function::). # add_module_names = True # If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. # show_authors = False # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'native' # A list of ignored prefixes for module index sorting. # modindex_common_prefix = [] # If true, keep warnings as ""system message"" paragraphs in the built documents. # keep_warnings = False # -- Options for HTML output ---------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. html_theme = 'openstackdocs' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. # html_theme_options = {} # Add any paths that contain custom themes here, relative to this directory. # html_theme_path = [] # The name for this set of Sphinx documents. If None, it defaults to # ""<project> v<release> documentation"". # html_title = None # A shorter title for the navigation bar. Default is the same as html_title. # html_short_title = None # The name of an image file (relative to this directory) to place at the top # of the sidebar. # html_logo = None # The name of an image file (within the static path) to use as favicon of the # docs. This file should be a Windows icon file (.ico) being 16x16 or 32x32 # pixels large. # html_favicon = None # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] # Add any extra paths that contain custom files (such as robots.txt or # .htaccess) here, relative to this directory. These files are copied # directly to the root of the documentation. # html_extra_path = [] # If true, SmartyPants will be used to convert quotes and dashes to # typographically correct entities. # html_use_smartypants = True # Custom sidebar templates, maps document names to template names. # html_sidebars = {} # Additional templates that should be rendered to pages, maps page names to # template names. # html_additional_pages = {} # If false, no module index is generated. # html_domain_indices = True # If false, no index is generated. # html_use_index = True # If true, the index is split into individual pages for each letter. # html_split_index = False # If true, links to the reST sources are added to the pages. # html_show_sourcelink = True # If true, ""Created using Sphinx"" is shown in the HTML footer. Default is True. # html_show_sphinx = True # If true, ""(C) Copyright ..."" is shown in the HTML footer. Default is True. # html_show_copyright = True # If true, an OpenSearch description file will be output, and all pages will # contain a <link> tag referring to it. The value of this option must be the # base URL from which the finished HTML is served. # html_use_opensearch = '' # This is the file name suffix for HTML files (e.g. "".xhtml""). # html_file_suffix = None # Output file base name for HTML help builder. htmlhelp_basename = 'ovn_bgp_agentReleaseNotesdoc' # -- Options for LaTeX output --------------------------------------------- latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ ('index', 'ovn_bgp_agentReleaseNotes.tex', u'ovn_bgp_agent Release Notes Documentation', u'OpenStack Foundation', 'manual'), ] # The name of an image file (relative to this directory) to place at the top of # the title page. # latex_logo = None # For ""manual"" documents, if this is true, then toplevel headings are parts, # not chapters. # latex_use_parts = False # If true, show page references after internal links. # latex_show_pagerefs = False # If true, show URL addresses after external links. # latex_show_urls = False # Documents to append as an appendix to all manuals. # latex_appendices = [] # If false, no module index is generated. # latex_domain_indices = True # -- Options for manual page output --------------------------------------- # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ ('index', 'ovn_bgp_agentrereleasenotes', u'ovn_bgp_agent Release Notes Documentation', [u'OpenStack Foundation'], 1) ] # If true, show URL addresses after external links. # man_show_urls = False # -- Options for Texinfo output ------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ ('index', 'ovn_bgp_agent ReleaseNotes', u'ovn_bgp_agent Release Notes Documentation', u'OpenStack Foundation', 'ovn_bgp_agentReleaseNotes', 'One line description of project.', 'Miscellaneous'), ] # Documents to append as an appendix to all manuals. # texinfo_appendices = [] # If false, no module index is generated. # texinfo_domain_indices = True # How to display URL addresses: 'footnote', 'no', or 'inline'. # texinfo_show_urls = 'footnote' # If true, do not generate a @detailmenu in the ""Top"" node's menu. # texinfo_no_detailmenu = False # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/'] ",,1259,0
openstack%2Fhorizon~master~Id29532aec99386ee6e2b4e710416c1e25e261ce8,openstack/horizon,master,Id29532aec99386ee6e2b4e710416c1e25e261ce8,[WIP]Adding 3 regression tests to horizon upstream,NEW,2021-08-26 11:17:25.000000000,2021-08-30 10:06:29.000000000,,"[{'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 33914}]","[{'number': 1, 'created': '2021-08-26 11:17:25.000000000', 'files': ['openstack_dashboard/test/regression_tests/pages/project/network/routerinterfacespage.py', 'openstack_dashboard/test/regression_tests/pages/admin/compute/imagespage.py', 'openstack_dashboard/test/regression_tests/pages/identity/projectspage.py', 'openstack_dashboard/test/regression_tests/tests/test_create_user.py', 'openstack_dashboard/test/regression_tests/pages/pageobject.py', 'openstack_dashboard/test/regression_tests/pages/admin/network/__init__.py', 'openstack_dashboard/test/regression_tests/video_recorder.py', 'openstack_dashboard/test/regression_tests/pages/admin/volume/grouptypespage.py', 'openstack_dashboard/test/regression_tests/pages/project/network/security_groups/managerulespage.py', 'openstack_dashboard/test/regression_tests/pages/admin/system/resource_usage/__init__.py', 'openstack_dashboard/test/regression_tests/pages/identity/userspage.py', 'openstack_dashboard/test/regression_tests/horizon.conf', 'openstack_dashboard/test/regression_tests/__init__.py', 'openstack_dashboard/test/regression_tests/tests/test_verify_help_page_url.py', 'openstack_dashboard/test/regression_tests/pages/__init__.py', 'openstack_dashboard/test/regression_tests/README.rst', 'openstack_dashboard/test/regression_tests/pages/admin/system/__init__.py', 'openstack_dashboard/test/regression_tests/pages/admin/system/imagespage.py', 'openstack_dashboard/test/regression_tests/pages/project/compute/imagespage.py', 'openstack_dashboard/test/regression_tests/pages/project/compute/__init__.py', 'openstack_dashboard/test/regression_tests/pages/admin/__init__.py', 'openstack_dashboard/test/regression_tests/tests/test_login.py', 'openstack_dashboard/test/regression_tests/pages/settings/changepasswordpage.py', 'openstack_dashboard/test/regression_tests/pages/project/volumes/volumespage.py', 'openstack_dashboard/test/regression_tests/tests/test-data/empty_namespace.json', 'openstack_dashboard/test/regression_tests/pages/admin/compute/hypervisorspage.py', 'openstack_dashboard/test/regression_tests/pages/identity/rolespage.py', 'openstack_dashboard/test/regression_tests/pages/project/volumes/__init__.py', 'openstack_dashboard/test/regression_tests/config.py', 'openstack_dashboard/test/regression_tests/pages/admin/network/networkspage.py', 'openstack_dashboard/test/regression_tests/pages/project/network/routerspage.py', 'openstack_dashboard/test/regression_tests/pages/project/object_store/__init__.py', 'openstack_dashboard/test/regression_tests/pages/admin/compute/hostaggregatespage.py', 'openstack_dashboard/test/regression_tests/pages/settings/__init__.py', 'openstack_dashboard/test/regression_tests/regions/forms.py', 'openstack_dashboard/test/regression_tests/pages/admin/system/metadatadefinitionspage.py', 'openstack_dashboard/test/regression_tests/pages/navigation.py', 'openstack_dashboard/test/regression_tests/pages/admin/volume/__init__.py', 'openstack_dashboard/test/regression_tests/pages/project/network/networktopologypage.py', 'openstack_dashboard/test/regression_tests/pages/project/volumes/snapshotspage.py', 'openstack_dashboard/test/regression_tests/helpers.py', 'openstack_dashboard/test/regression_tests/pages/project/compute/keypairspage.py', 'openstack_dashboard/test/regression_tests/pages/project/network/networkspage.py', 'openstack_dashboard/test/regression_tests/pages/admin/volume/volumespage.py', 'openstack_dashboard/test/regression_tests/pages/project/network/networkoverviewpage.py', 'openstack_dashboard/test/regression_tests/pages/admin/system/system_info/__init__.py', 'openstack_dashboard/test/regression_tests/tests/__init__.py', 'openstack_dashboard/test/regression_tests/pages/admin/volume/volumetypespage.py', 'openstack_dashboard/test/regression_tests/pages/project/apiaccesspage.py', 'openstack_dashboard/test/regression_tests/pages/admin/network/floatingipspage.py', 'openstack_dashboard/test/regression_tests/regions/messages.py', 'openstack_dashboard/test/regression_tests/pages/admin/compute/instancespage.py', 'openstack_dashboard/test/regression_tests/pages/project/network/securitygroupspage.py', 'openstack_dashboard/test/regression_tests/pages/admin/overviewpage.py', 'openstack_dashboard/test/regression_tests/pages/project/compute/servergroupspage.py', 'openstack_dashboard/test/regression_tests/pages/project/__init__.py', 'openstack_dashboard/test/regression_tests/pages/basepage.py', 'openstack_dashboard/test/regression_tests/regions/tables.py', 'openstack_dashboard/test/regression_tests/pages/identity/__init__.py', 'openstack_dashboard/test/regression_tests/pages/loginpage.py', 'openstack_dashboard/test/regression_tests/basewebobject.py', 'openstack_dashboard/test/regression_tests/regions/menus.py', 'openstack_dashboard/test/regression_tests/pages/project/network/security_groups/__init__.py', 'openstack_dashboard/test/regression_tests/pages/project/compute/instancespage.py', 'openstack_dashboard/test/regression_tests/pages/admin/system/defaultspage.py', 'openstack_dashboard/test/regression_tests/pages/project/network/floatingipspage.py', 'openstack_dashboard/test/regression_tests/decorators.py', 'openstack_dashboard/test/regression_tests/pages/project/compute/overviewpage.py', 'openstack_dashboard/test/regression_tests/pages/project/network/__init__.py', 'openstack_dashboard/test/regression_tests/pages/identity/groupspage.py', 'openstack_dashboard/test/regression_tests/pages/admin/volume/snapshotspage.py', 'openstack_dashboard/test/regression_tests/regions/__init__.py', 'openstack_dashboard/test/regression_tests/pages/project/network/routeroverviewpage.py', 'openstack_dashboard/test/regression_tests/pages/admin/network/routerspage.py', 'openstack_dashboard/test/regression_tests/regions/bars.py', 'openstack_dashboard/test/regression_tests/regions/exceptions.py', 'openstack_dashboard/test/regression_tests/pages/admin/compute/__init__.py', 'openstack_dashboard/test/regression_tests/pages/admin/compute/flavorspage.py', 'openstack_dashboard/test/regression_tests/pages/settings/usersettingspage.py', 'openstack_dashboard/test/regression_tests/regions/baseregion.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/593411d217302be720d1f603ed8464ed3a6bb6e1', 'message': ""[WIP]Adding 3 regression tests to horizon upstream\n\nAdded 3 tests to horizon upstream:\n1. test_login.py(taken from integration tests)\n2. test_verify_help_page_url.py\n3. test_create_user.py\nAlso added a new folder under openstack_dashboard/test/ called 'regression_tests' and copied all the relevant files from the 'integration_tests' folder in order\nto use the same upstream infrastructure code.\n\nChange-Id: Id29532aec99386ee6e2b4e710416c1e25e261ce8\n""}]",63,806137,593411d217302be720d1f603ed8464ed3a6bb6e1,4,5,1,33914,,,0,"[WIP]Adding 3 regression tests to horizon upstream

Added 3 tests to horizon upstream:
1. test_login.py(taken from integration tests)
2. test_verify_help_page_url.py
3. test_create_user.py
Also added a new folder under openstack_dashboard/test/ called 'regression_tests' and copied all the relevant files from the 'integration_tests' folder in order
to use the same upstream infrastructure code.

Change-Id: Id29532aec99386ee6e2b4e710416c1e25e261ce8
",git fetch https://review.opendev.org/openstack/horizon refs/changes/37/806137/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/regression_tests/pages/project/network/routerinterfacespage.py', 'openstack_dashboard/test/regression_tests/pages/admin/compute/imagespage.py', 'openstack_dashboard/test/regression_tests/pages/identity/projectspage.py', 'openstack_dashboard/test/regression_tests/tests/test_create_user.py', 'openstack_dashboard/test/regression_tests/pages/pageobject.py', 'openstack_dashboard/test/regression_tests/pages/admin/network/__init__.py', 'openstack_dashboard/test/regression_tests/video_recorder.py', 'openstack_dashboard/test/regression_tests/pages/admin/volume/grouptypespage.py', 'openstack_dashboard/test/regression_tests/pages/project/network/security_groups/managerulespage.py', 'openstack_dashboard/test/regression_tests/pages/admin/system/resource_usage/__init__.py', 'openstack_dashboard/test/regression_tests/pages/identity/userspage.py', 'openstack_dashboard/test/regression_tests/horizon.conf', 'openstack_dashboard/test/regression_tests/__init__.py', 'openstack_dashboard/test/regression_tests/tests/test_verify_help_page_url.py', 'openstack_dashboard/test/regression_tests/pages/__init__.py', 'openstack_dashboard/test/regression_tests/README.rst', 'openstack_dashboard/test/regression_tests/pages/admin/system/__init__.py', 'openstack_dashboard/test/regression_tests/pages/admin/system/imagespage.py', 'openstack_dashboard/test/regression_tests/pages/project/compute/imagespage.py', 'openstack_dashboard/test/regression_tests/pages/project/compute/__init__.py', 'openstack_dashboard/test/regression_tests/pages/admin/__init__.py', 'openstack_dashboard/test/regression_tests/tests/test_login.py', 'openstack_dashboard/test/regression_tests/pages/settings/changepasswordpage.py', 'openstack_dashboard/test/regression_tests/pages/project/volumes/volumespage.py', 'openstack_dashboard/test/regression_tests/tests/test-data/empty_namespace.json', 'openstack_dashboard/test/regression_tests/pages/admin/compute/hypervisorspage.py', 'openstack_dashboard/test/regression_tests/pages/identity/rolespage.py', 'openstack_dashboard/test/regression_tests/pages/project/volumes/__init__.py', 'openstack_dashboard/test/regression_tests/config.py', 'openstack_dashboard/test/regression_tests/pages/admin/network/networkspage.py', 'openstack_dashboard/test/regression_tests/pages/project/network/routerspage.py', 'openstack_dashboard/test/regression_tests/pages/project/object_store/__init__.py', 'openstack_dashboard/test/regression_tests/pages/admin/compute/hostaggregatespage.py', 'openstack_dashboard/test/regression_tests/pages/settings/__init__.py', 'openstack_dashboard/test/regression_tests/regions/forms.py', 'openstack_dashboard/test/regression_tests/pages/admin/system/metadatadefinitionspage.py', 'openstack_dashboard/test/regression_tests/pages/navigation.py', 'openstack_dashboard/test/regression_tests/pages/admin/volume/__init__.py', 'openstack_dashboard/test/regression_tests/pages/project/network/networktopologypage.py', 'openstack_dashboard/test/regression_tests/pages/project/volumes/snapshotspage.py', 'openstack_dashboard/test/regression_tests/helpers.py', 'openstack_dashboard/test/regression_tests/pages/project/compute/keypairspage.py', 'openstack_dashboard/test/regression_tests/pages/project/network/networkspage.py', 'openstack_dashboard/test/regression_tests/pages/admin/volume/volumespage.py', 'openstack_dashboard/test/regression_tests/pages/project/network/networkoverviewpage.py', 'openstack_dashboard/test/regression_tests/pages/admin/system/system_info/__init__.py', 'openstack_dashboard/test/regression_tests/tests/__init__.py', 'openstack_dashboard/test/regression_tests/pages/admin/volume/volumetypespage.py', 'openstack_dashboard/test/regression_tests/pages/project/apiaccesspage.py', 'openstack_dashboard/test/regression_tests/pages/admin/network/floatingipspage.py', 'openstack_dashboard/test/regression_tests/regions/messages.py', 'openstack_dashboard/test/regression_tests/pages/admin/compute/instancespage.py', 'openstack_dashboard/test/regression_tests/pages/project/network/securitygroupspage.py', 'openstack_dashboard/test/regression_tests/pages/admin/overviewpage.py', 'openstack_dashboard/test/regression_tests/pages/project/compute/servergroupspage.py', 'openstack_dashboard/test/regression_tests/pages/project/__init__.py', 'openstack_dashboard/test/regression_tests/pages/basepage.py', 'openstack_dashboard/test/regression_tests/regions/tables.py', 'openstack_dashboard/test/regression_tests/pages/identity/__init__.py', 'openstack_dashboard/test/regression_tests/pages/loginpage.py', 'openstack_dashboard/test/regression_tests/basewebobject.py', 'openstack_dashboard/test/regression_tests/regions/menus.py', 'openstack_dashboard/test/regression_tests/pages/project/network/security_groups/__init__.py', 'openstack_dashboard/test/regression_tests/pages/project/compute/instancespage.py', 'openstack_dashboard/test/regression_tests/pages/admin/system/defaultspage.py', 'openstack_dashboard/test/regression_tests/pages/project/network/floatingipspage.py', 'openstack_dashboard/test/regression_tests/decorators.py', 'openstack_dashboard/test/regression_tests/pages/project/compute/overviewpage.py', 'openstack_dashboard/test/regression_tests/pages/project/network/__init__.py', 'openstack_dashboard/test/regression_tests/pages/identity/groupspage.py', 'openstack_dashboard/test/regression_tests/pages/admin/volume/snapshotspage.py', 'openstack_dashboard/test/regression_tests/regions/__init__.py', 'openstack_dashboard/test/regression_tests/pages/project/network/routeroverviewpage.py', 'openstack_dashboard/test/regression_tests/pages/admin/network/routerspage.py', 'openstack_dashboard/test/regression_tests/regions/bars.py', 'openstack_dashboard/test/regression_tests/regions/exceptions.py', 'openstack_dashboard/test/regression_tests/pages/admin/compute/__init__.py', 'openstack_dashboard/test/regression_tests/pages/admin/compute/flavorspage.py', 'openstack_dashboard/test/regression_tests/pages/settings/usersettingspage.py', 'openstack_dashboard/test/regression_tests/regions/baseregion.py']",80,593411d217302be720d1f603ed8464ed3a6bb6e1,first_regression_tests,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack_dashboard.test.integration_tests import basewebobject class BaseRegion(basewebobject.BaseWebObject): """"""Base class for region module * there is necessity to override some basic methods for obtaining elements as in content of regions it is required to do relative searches * self.driver cannot be easily replaced with self.src_elem because that would result in functionality loss, self.driver is WebDriver and src_elem is WebElement its usage is different. * this does not mean that self.src_elem cannot be self.driver """""" _default_src_locator = None # private methods def __init__(self, driver, conf, src_elem=None): super().__init__(driver, conf) if self._default_src_locator: root = src_elem or driver src_elem = root.find_element(*self._default_src_locator) self.src_elem = src_elem or driver # variable for storing names of dynamic properties and # associated 'getters' - meaning method that are supplying # regions or web elements self._dynamic_properties = {} def __getattr__(self, name): # It is not possible to create property bounded just to object # and not class at runtime, therefore it is necessary to # override __getattr__ and make fake 'properties' by storing them in # the protected attribute _dynamic_attributes and returning result # of the method associated with the specified attribute. # This way the feeling of having regions accessed as 'properties' # is created, which is one of the requirement of page object pattern. try: return self._dynamic_properties[name] except KeyError: msg = ""'{0}' object has no attribute '{1}'"" raise AttributeError(msg.format(type(self).__name__, name)) def _get_element(self, *locator): return self.src_elem.find_element(*locator) def _get_elements(self, *locator): return self.src_elem.find_elements(*locator) ",,6808,0
openstack%2Fopenstack-helm-infra~master~I4dfd956130eb3a19ca49a21145b67faf88750d6f,openstack/openstack-helm-infra,master,I4dfd956130eb3a19ca49a21145b67faf88750d6f,Ceph OSD log-runner container should run as ceph user,MERGED,2021-08-27 21:04:34.000000000,2021-08-30 10:06:00.000000000,2021-08-30 10:03:30.000000000,"[{'_account_id': 8898}, {'_account_id': 18236}, {'_account_id': 18250}, {'_account_id': 19391}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-08-27 21:04:34.000000000', 'files': ['ceph-osd/values.yaml', 'ceph-osd/Chart.yaml', 'releasenotes/notes/ceph-osd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b704b9ad025470d926bf31fef35649fdb835ff1f', 'message': 'Ceph OSD log-runner container should run as ceph user\n\nThis PS changes the log-runner user ID to run as the ceph user\nso that it has the appropriate permissions to write to /var/log/ceph\nfiles.\n\nChange-Id: I4dfd956130eb3a19ca49a21145b67faf88750d6f\n'}]",0,806451,b704b9ad025470d926bf31fef35649fdb835ff1f,15,7,1,22636,,,0,"Ceph OSD log-runner container should run as ceph user

This PS changes the log-runner user ID to run as the ceph user
so that it has the appropriate permissions to write to /var/log/ceph
files.

Change-Id: I4dfd956130eb3a19ca49a21145b67faf88750d6f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/51/806451/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-osd/values.yaml', 'ceph-osd/Chart.yaml', 'releasenotes/notes/ceph-osd.yaml']",3,b704b9ad025470d926bf31fef35649fdb835ff1f,, - 0.1.30 Ceph OSD log-runner container should run as ceph user,,4,2
openstack%2Fskyline-console~master~I570a2294c57323de9ee8ad345e5ae3ad76592746,openstack/skyline-console,master,I570a2294c57323de9ee8ad345e5ae3ad76592746,fix: Fix download file name,MERGED,2021-08-27 06:51:03.000000000,2021-08-30 10:05:31.000000000,2021-08-30 10:05:31.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-27 06:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/f2da51d5ad8dfb0543a67fa05ab6fb77565f4ce4', 'message': 'fix: Fix download file name\n\nAdd name in action log to fix empty download file name\n\nChange-Id: I570a2294c57323de9ee8ad345e5ae3ad76592746\n'}, {'number': 2, 'created': '2021-08-30 09:04:48.000000000', 'files': ['src/pages/compute/containers/Instance/Detail/ActionLog/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/3ba3223cf9f7e69ecf714b220aeb5f0d211a791a', 'message': 'fix: Fix download file name\n\nAdd name in action log to fix empty download file name\n\nChange-Id: I570a2294c57323de9ee8ad345e5ae3ad76592746\n'}]",0,806321,3ba3223cf9f7e69ecf714b220aeb5f0d211a791a,8,2,2,33689,,,0,"fix: Fix download file name

Add name in action log to fix empty download file name

Change-Id: I570a2294c57323de9ee8ad345e5ae3ad76592746
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/21/806321/1 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/compute/containers/Instance/Detail/ActionLog/index.jsx'],1,f2da51d5ad8dfb0543a67fa05ab6fb77565f4ce4,open-36413, get name() { return t('Action Log'); } ,,4,0
openstack%2Freleases~master~I1f91a4842f5c042be61c69b99485fb14c0cecc9d,openstack/releases,master,I1f91a4842f5c042be61c69b99485fb14c0cecc9d,[ec2-api] Transition Ocata to End of Life,MERGED,2021-08-12 18:46:43.000000000,2021-08-30 10:01:58.000000000,2021-08-30 10:01:58.000000000,"[{'_account_id': 10234}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-12 18:46:43.000000000', 'files': ['deliverables/ocata/ec2-api.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c7a1d002610562ae7c3ce1c1e86e4e3c2bf03d3e', 'message': ""[ec2-api] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I1f91a4842f5c042be61c69b99485fb14c0cecc9d\n""}]",0,804451,c7a1d002610562ae7c3ce1c1e86e4e3c2bf03d3e,9,4,1,17685,,,0,"[ec2-api] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I1f91a4842f5c042be61c69b99485fb14c0cecc9d
",git fetch https://review.opendev.org/openstack/releases refs/changes/51/804451/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/ec2-api.yaml'],1,c7a1d002610562ae7c3ce1c1e86e4e3c2bf03d3e,ocata-eol,--- launchpad: ec2-api release-model: cycle-with-intermediary team: ec2-api type: service releases: - version: ocata-eol projects: - repo: openstack/ec2-api hash: 1a1ee340d2dc85bf38371768fdcc3e6e91c25b5c repository-settings: openstack/ec2-api: {} ,,12,0
openstack%2Freleases~master~I098decb0b894a369ef8556394d38b6b337e41997,openstack/releases,master,I098decb0b894a369ef8556394d38b6b337e41997,Release python-barbicanclient for stable/ussuri,ABANDONED,2021-07-23 20:20:01.000000000,2021-08-30 09:59:15.000000000,,"[{'_account_id': 7973}, {'_account_id': 11561}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-23 20:20:01.000000000', 'files': ['deliverables/ussuri/python-barbicanclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c6eea0885fbc607e3d10977c561bfe594b4b963e', 'message': 'Release python-barbicanclient for stable/ussuri\n\nThis release picks up new commits to python-barbicanclient since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 4.10.0..22c4d9b\n22c4d9b Zuul: port to native v3 job\n2f98774 Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri\n3a306b3 Update .gitreview for stable/ussuri\n25c584c [ussuri][goal] Drop python 2.7 support and testing\na7e615c Fix gate job failures and py3 compatibility\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I098decb0b894a369ef8556394d38b6b337e41997\n'}]",3,802113,c6eea0885fbc607e3d10977c561bfe594b4b963e,6,3,1,17685,,,0,"Release python-barbicanclient for stable/ussuri

This release picks up new commits to python-barbicanclient since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 4.10.0..22c4d9b
22c4d9b Zuul: port to native v3 job
2f98774 Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri
3a306b3 Update .gitreview for stable/ussuri
25c584c [ussuri][goal] Drop python 2.7 support and testing
a7e615c Fix gate job failures and py3 compatibility

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I098decb0b894a369ef8556394d38b6b337e41997
",git fetch https://review.opendev.org/openstack/releases refs/changes/13/802113/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/python-barbicanclient.yaml'],1,c6eea0885fbc607e3d10977c561bfe594b4b963e,ussuri-stable, - version: 4.11.0 projects: - repo: openstack/python-barbicanclient hash: 22c4d9b8d25498943f519d1ecddd4dfdfe33f489,,4,0
openstack%2Ftripleo-image-elements~master~Ide8776ffdb62bff46c3df4773fc7b01e9710373f,openstack/tripleo-image-elements,master,Ide8776ffdb62bff46c3df4773fc7b01e9710373f,Add small /srv volume for optional swift data,MERGED,2021-08-18 04:23:33.000000000,2021-08-30 09:57:24.000000000,2021-08-30 09:57:24.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-08-18 04:23:33.000000000', 'files': ['elements/overcloud-partition-uefi/block-device-default.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/998936c734a8d292660323dab4571069335782a4', 'message': 'Add small /srv volume for optional swift data\n\nMost tripleo node roles store their state in /var with the exception\nof the ObjectStorage role which stores its state in /srv.\n\nThis change adds a very small /srv volume which will generally remain\nempty.  A documentation change will be proposed which shows how to set\ncustom growvols values to grow /srv in the rare case that the\nObjectStorage role is used.\n\nChange-Id: Ide8776ffdb62bff46c3df4773fc7b01e9710373f\nBlueprint: whole-disk-default\n'}]",0,804945,998936c734a8d292660323dab4571069335782a4,9,6,1,4571,,,0,"Add small /srv volume for optional swift data

Most tripleo node roles store their state in /var with the exception
of the ObjectStorage role which stores its state in /srv.

This change adds a very small /srv volume which will generally remain
empty.  A documentation change will be proposed which shows how to set
custom growvols values to grow /srv in the rare case that the
ObjectStorage role is used.

Change-Id: Ide8776ffdb62bff46c3df4773fc7b01e9710373f
Blueprint: whole-disk-default
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/45/804945/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-partition-uefi/block-device-default.yaml'],1,998936c734a8d292660323dab4571069335782a4,bp/whole-disk-default," extents: 3%VG - name: lv_srv base: vg extents: 1%VG- mkfs: name: fs_srv base: lv_srv type: xfs mount: mount_point: /srv fstab: options: ""rw,nodev,relatime"" fsck-passno: 2", extents: 4%VG,13,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~I0a13ebb127bb484804169d7e4930138bcb01d5a9,openstack/tripleo-ansible,stable/wallaby,I0a13ebb127bb484804169d7e4930138bcb01d5a9,tripleo_frr: Allow a password to be set in FRR's neighbor section,MERGED,2021-08-28 16:35:21.000000000,2021-08-30 09:57:22.000000000,2021-08-30 09:57:22.000000000,"[{'_account_id': 6469}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-28 16:35:21.000000000', 'files': ['tripleo_ansible/roles/tripleo_frr/defaults/main.yml', 'tripleo_ansible/roles/tripleo_frr/templates/frr.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/12242c7c684c2869784559851ad6ff117cbdc5dd', 'message': ""tripleo_frr: Allow a password to be set in FRR's neighbor section\n\nSet a MD5 password to be used with the tcp socket that is being used to\nconnect to the remote peer. For more information, please refer to\nhttps://docs.frrouting.org/en/latest/bgp.html#clicmd-neighbor-PEER-password-PASSWORD\n\nNote that this is disabled by default. When enabled it won't work on a FIPS-enabled\nsystem. FRR is already patched so that it will fail to start in such a\nsituation,\n\n[1] https://git.centos.org/rpms/frr/blob/c8s/f/SOURCES/0004-fips-mode.patch\n\nChange-Id: I0a13ebb127bb484804169d7e4930138bcb01d5a9\n(cherry picked from commit 246bae8a227a21aa051e278658439806f01434d8)\n""}]",0,806385,12242c7c684c2869784559851ad6ff117cbdc5dd,8,5,1,20172,,,0,"tripleo_frr: Allow a password to be set in FRR's neighbor section

Set a MD5 password to be used with the tcp socket that is being used to
connect to the remote peer. For more information, please refer to
https://docs.frrouting.org/en/latest/bgp.html#clicmd-neighbor-PEER-password-PASSWORD

Note that this is disabled by default. When enabled it won't work on a FIPS-enabled
system. FRR is already patched so that it will fail to start in such a
situation,

[1] https://git.centos.org/rpms/frr/blob/c8s/f/SOURCES/0004-fips-mode.patch

Change-Id: I0a13ebb127bb484804169d7e4930138bcb01d5a9
(cherry picked from commit 246bae8a227a21aa051e278658439806f01434d8)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/85/806385/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_frr/defaults/main.yml', 'tripleo_ansible/roles/tripleo_frr/templates/frr.conf.j2']",2,12242c7c684c2869784559851ad6ff117cbdc5dd,bgpsupport-stable/wallaby,{% if tripleo_frr_bgp_neighbor_password|length %} neighbor uplink password {{ tripleo_frr_bgp_neighbor_password }} {% endif %},,6,0
openstack%2Fkolla-ansible~master~Ib8d648be6201b275de871febcb6543ea273ce44b,openstack/kolla-ansible,master,Ib8d648be6201b275de871febcb6543ea273ce44b,Minor Octavia configuration improvements,NEW,2018-09-20 11:11:45.000000000,2021-08-30 09:56:49.000000000,,"[{'_account_id': 10273}, {'_account_id': 11869}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27339}]","[{'number': 1, 'created': '2018-09-20 11:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5bfbc447c369b6cd3849ee2a01554501f7349c56', 'message': 'Octavia configuration fixes/improvements\n\nChange-Id: Ib8d648be6201b275de871febcb6543ea273ce44b\n'}, {'number': 2, 'created': '2018-09-21 05:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1f6148ecf659be17bb64a90dd24e07b245b81681', 'message': 'Octavia configuration fixes/improvements\n\noctavia_heartbeat_key should be set uniquely for each deployment.\ncontroller_ip_port_list needs to include every health-manager.\n\nChange-Id: Ib8d648be6201b275de871febcb6543ea273ce44b\n'}, {'number': 3, 'created': '2020-01-24 21:43:11.000000000', 'files': ['ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/79962ab5c33c8da7cc070df691f4b3494f005cee', 'message': 'Minor Octavia configuration improvements\n\nThe octavia_heartbeat_key should be set uniquely for each deployment, so\nadd a variable for it. Also add a variable for spares pool size.\n\nChange-Id: Ib8d648be6201b275de871febcb6543ea273ce44b\n'}]",5,604043,79962ab5c33c8da7cc070df691f4b3494f005cee,16,6,3,10273,,,0,"Minor Octavia configuration improvements

The octavia_heartbeat_key should be set uniquely for each deployment, so
add a variable for it. Also add a variable for spares pool size.

Change-Id: Ib8d648be6201b275de871febcb6543ea273ce44b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/43/604043/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/group_vars/all.yml']",2,5bfbc447c369b6cd3849ee2a01554501f7349c56,,"octavia_spare_amphora_pool_size: # Heartbeat key is a passphrase that secures health messages from tampering. # You should change it to something random. It is used for HMAC encrypting. octavia_heartbeat_key: ""please_change_this""",,8,2
openstack%2Fpuppet-tripleo~master~I841681ff9c5ddf08ac781b64f8f1b1b159e870e4,openstack/puppet-tripleo,master,I841681ff9c5ddf08ac781b64f8f1b1b159e870e4,Add new parameter enforce_new_defaults for Swift,ABANDONED,2021-08-18 10:35:54.000000000,2021-08-30 09:55:19.000000000,,"[{'_account_id': 6968}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-18 10:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7cf4d2354eaca18830eeeed489e992233edf2aa0', 'message': 'Add new parameter enforce_new_defaults for Swift\n\nThis does not really enforce anything, but will define default roles for\nsystem and project reader. Naming chosen to match with other projects\nand being consistent.\n\nDepends-On: I34640f6245ad94d32c0a8eba46bf5ffc5e2efb81\nChange-Id: I841681ff9c5ddf08ac781b64f8f1b1b159e870e4\n'}, {'number': 2, 'created': '2021-08-24 15:40:44.000000000', 'files': ['manifests/profile/base/swift/proxy.pp', 'releasenotes/notes/swift-rbac-roles-e239b92cfd15c535.yaml', 'spec/classes/tripleo_profile_base_swift_proxy_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5d1ca23e9d843db97eeaaf3c798d686cbfad5c72', 'message': 'Add new parameter enforce_new_defaults for Swift\n\nThis does not really enforce anything, but will define default roles for\nsystem and project reader. Naming chosen to match with other projects\nand being consistent.\n\nDepends-On: I34640f6245ad94d32c0a8eba46bf5ffc5e2efb81\nChange-Id: I841681ff9c5ddf08ac781b64f8f1b1b159e870e4\n'}]",1,804983,5d1ca23e9d843db97eeaaf3c798d686cbfad5c72,12,4,2,6968,,,0,"Add new parameter enforce_new_defaults for Swift

This does not really enforce anything, but will define default roles for
system and project reader. Naming chosen to match with other projects
and being consistent.

Depends-On: I34640f6245ad94d32c0a8eba46bf5ffc5e2efb81
Change-Id: I841681ff9c5ddf08ac781b64f8f1b1b159e870e4
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/83/804983/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/swift/proxy.pp', 'releasenotes/notes/swift-rbac-roles-e239b92cfd15c535.yaml', 'spec/classes/tripleo_profile_base_swift_proxy_spec.rb']",3,7cf4d2354eaca18830eeeed489e992233edf2aa0,secure-rbac," context 'with default RBAC roles' do let(:params) { { :step => 4, :enforce_new_defaults => true, } } it 'configure swift proxy with default RBAC roles' do is_expected.to contain_class('swift::proxy::keystone').with({ :system_reader_roles => ['SwiftSystemReader'], :project_reader_roles => ['SwiftProjectReader'] }) end end ",,29,0
openstack%2Freleases~master~I11229648722e76a38c48ef81ce765f6bc66818b0,openstack/releases,master,I11229648722e76a38c48ef81ce765f6bc66818b0,[karbor] Transition Ocata to End of Life,MERGED,2021-08-12 19:04:40.000000000,2021-08-30 09:52:16.000000000,2021-08-30 09:52:16.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-12 19:04:40.000000000', 'files': ['deliverables/ocata/karbor.yaml', 'deliverables/ocata/karbor-dashboard.yaml', 'deliverables/ocata/python-karborclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/59b2dea1752584dea7af4d3c542369c87afd4636', 'message': ""[karbor] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I11229648722e76a38c48ef81ce765f6bc66818b0\n""}]",0,804454,59b2dea1752584dea7af4d3c542369c87afd4636,7,3,1,17685,,,0,"[karbor] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I11229648722e76a38c48ef81ce765f6bc66818b0
",git fetch https://review.opendev.org/openstack/releases refs/changes/54/804454/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/karbor.yaml', 'deliverables/ocata/karbor-dashboard.yaml', 'deliverables/ocata/python-karborclient.yaml']",3,59b2dea1752584dea7af4d3c542369c87afd4636,ocata-eol,--- include-pypi-link: true launchpad: python-karborclient release-model: cycle-with-intermediary team: karbor type: library releases: - version: ocata-eol projects: - repo: openstack/python-karborclient hash: 7a8e80f62f0ab388579f5a0a2259f8020286ebed repository-settings: openstack/python-karborclient: {} ,,37,0
openstack%2Freleases~master~I322ddc18481d3145759399b283a66f30e01ca259,openstack/releases,master,I322ddc18481d3145759399b283a66f30e01ca259,Release zun for stable/ussuri,MERGED,2021-07-23 21:19:57.000000000,2021-08-30 09:49:04.000000000,2021-08-30 09:49:04.000000000,"[{'_account_id': 11536}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-23 21:19:57.000000000', 'files': ['deliverables/ussuri/zun.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/dfef3a05d538eb584f9b8ae4d0e404f2258d72b7', 'message': ""Release zun for stable/ussuri\n\nThis release picks up new commits to zun since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 5.0.0..5d41a395\n5d41a395 api-ref: fix wrong naming in /execute\nd5511fd8 Dep's should be restricted by upper-constraints\naf2bd69f Pick up cafile from keystone_auth\nf455bffc Fix init container status - docker\n24f61108 Fix capsule's container status\n261ae963 Update TOX_CONSTRAINTS_FILE for stable/ussuri\n4a1c8ac6 Update .gitreview for stable/ussuri\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I322ddc18481d3145759399b283a66f30e01ca259\n""}]",0,802131,dfef3a05d538eb584f9b8ae4d0e404f2258d72b7,9,5,1,17685,,,0,"Release zun for stable/ussuri

This release picks up new commits to zun since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 5.0.0..5d41a395
5d41a395 api-ref: fix wrong naming in /execute
d5511fd8 Dep's should be restricted by upper-constraints
af2bd69f Pick up cafile from keystone_auth
f455bffc Fix init container status - docker
24f61108 Fix capsule's container status
261ae963 Update TOX_CONSTRAINTS_FILE for stable/ussuri
4a1c8ac6 Update .gitreview for stable/ussuri

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I322ddc18481d3145759399b283a66f30e01ca259
",git fetch https://review.opendev.org/openstack/releases refs/changes/31/802131/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/zun.yaml'],1,dfef3a05d538eb584f9b8ae4d0e404f2258d72b7,ussuri-stable, - version: 5.0.1 projects: - repo: openstack/zun hash: 5d41a395f0b8a02c7c5970f4b54d77c22d548986,,4,0
openstack%2Fcharm-deployment-guide~master~I94a39e74d737a81985f2aeaa4d7b6deeb6ac211f,openstack/charm-deployment-guide,master,I94a39e74d737a81985f2aeaa4d7b6deeb6ac211f,Add charm upgrade issue for FWaaS,MERGED,2021-08-02 18:03:41.000000000,2021-08-30 08:59:21.000000000,2021-08-30 08:57:54.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-02 18:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/5a9a1ad755abdf39bf2d0e54e8133ab35b18a1c4', 'message': 'Add charm upgrade issue for FWaaS\n\nAs discussed in the cross-team meeting of Aug 2, 2021.\n\nChange-Id: I94a39e74d737a81985f2aeaa4d7b6deeb6ac211f\n'}, {'number': 2, 'created': '2021-08-02 19:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/e3c1919900398f85fc7f036ad9adbf3324d59290', 'message': 'Add charm upgrade issue for FWaaS\n\nAs discussed in the cross-team meeting of Aug 2, 2021.\n\nChange-Id: I94a39e74d737a81985f2aeaa4d7b6deeb6ac211f\n'}, {'number': 3, 'created': '2021-08-20 16:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/975ac1a2c65a287afeb3f94a7758b0dd200a9f32', 'message': 'Add charm upgrade issue for FWaaS\n\nAs discussed in the cross-team meeting of Aug 2, 2021.\n\nChange-Id: I94a39e74d737a81985f2aeaa4d7b6deeb6ac211f\n'}, {'number': 4, 'created': '2021-08-27 16:38:50.000000000', 'files': ['deploy-guide/source/upgrade-issues.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/a510e1c0b5bff04305f5e39ceb753a01b645ce80', 'message': 'Add charm upgrade issue for FWaaS\n\nAs discussed in the cross-team meeting of Aug 2, 2021.\n\nChange-Id: I94a39e74d737a81985f2aeaa4d7b6deeb6ac211f\n'}]",2,803243,a510e1c0b5bff04305f5e39ceb753a01b645ce80,16,2,4,30561,,,0,"Add charm upgrade issue for FWaaS

As discussed in the cross-team meeting of Aug 2, 2021.

Change-Id: I94a39e74d737a81985f2aeaa4d7b6deeb6ac211f
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/43/803243/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/upgrade-issues.rst'],1,5a9a1ad755abdf39bf2d0e54e8133ab35b18a1c4,add-upgrade-issue-fwaas,"neutron-api charm: FWaaS removal ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The Firewall-as-a-Service (FWaaS) OpenStack project is retired starting with OpenStack Victoria. Consequently, the neutron-api charm will no longer make this service available starting with that OpenStack release. See the `21.10 Release Notes`_ on this topic. Users of FWaaS should ensure that any existing firewall rules are removed prior to the upgrade of the neutron-api charm. .. _21.10 Release Notes: https://docs.openstack.org/charm-guide/latest/2110.html",,12,0
openstack%2Fcharm-ceph-dashboard~master~Ic4522cc601895c9a79489df985a6e81fa70fb9e5,openstack/charm-ceph-dashboard,master,Ic4522cc601895c9a79489df985a6e81fa70fb9e5,Add support for embedded graphs and alertmanager,MERGED,2021-08-26 09:56:51.000000000,2021-08-30 08:53:03.000000000,2021-08-30 08:53:03.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-26 09:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/bb93665ee72f8c3721d82397ef7e592aa832d43e', 'message': 'Add support for embedded graphs and alertmanager\n\nThis patch consits of:\n\n* New ops interface grafana_dashboard based on the existing reactive\n  interface\n* New ops http interface.\n* Dashboard registers grafana dashboards with grafana. These\n  dashboards are taken from upstream ceph *1. Ideally the charm\n  would pick these up from ceph packaging but they are currently\n  not included. With the exception of host-details.json and\n  hosts-overview.json the dashboards are unchanged. host-details.json\n  and hosts-overview.json both needed changed to make the compatable\n  with the metrics telegraf is sending.\n* grafana-website, alertmanager-service and prometheus relations\n  using the http ops interface allowing there api endpoints to be\n  registered with the dashboard.\n\nNOTE: ceph-mon has an existing relation with Prometheus (\nceph-mon:prometheus <-> prometheus:target ) but prometheus does not\npublish its api endpoint on that relation. So, the dashboard adds a\nprometheus:website <-> ceph-dashboard:prometheus relation. This\nallows the dashboard to set set-prometheus-api-host. Similarly\nthe grafana-dashboard relation is needed to register the Ceph\ndashboards but Grafana does not publish its api endpoint down that\nrelation so the dasboard needs a second relation with Grafana\n( grafana:website <-> ceph-dashboard:grafana-website ), this allows\nthe dashboard to set-grafana-api-url.\n\n*1 https://github.com/ceph/ceph/tree/master/monitoring/grafana/dashboards\n\nChange-Id: Ic4522cc601895c9a79489df985a6e81fa70fb9e5\n'}, {'number': 2, 'created': '2021-08-27 13:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/480444e7f62a09723f5240aba11cc01bbbc34cb9', 'message': 'Add support for embedded graphs and alertmanager\n\nThis patch consits of:\n\n* New ops interface grafana_dashboard based on the existing reactive\n  interface\n* New ops http interface.\n* Dashboard registers grafana dashboards with grafana. These\n  dashboards are taken from upstream ceph *1. Ideally the charm\n  would pick these up from ceph packaging but they are currently\n  not included. With the exception of host-details.json and\n  hosts-overview.json the dashboards are unchanged. host-details.json\n  and hosts-overview.json both needed changed to make the compatable\n  with the metrics telegraf is sending.\n* alertmanager-service and prometheus relations\n  using the http ops interface allowing there api endpoints to be\n  registered with the dashboard.\n\nNOTE: ceph-mon has an existing relation with Prometheus (\nceph-mon:prometheus <-> prometheus:target ) but prometheus does not\npublish its api endpoint on that relation. So, the dashboard adds a\nprometheus:website <-> ceph-dashboard:prometheus relation. This\nallows the dashboard to set set-prometheus-api-host.\n\n*1 https://github.com/ceph/ceph/tree/master/monitoring/grafana/dashboards\n\nChange-Id: Ic4522cc601895c9a79489df985a6e81fa70fb9e5\n'}, {'number': 3, 'created': '2021-08-27 13:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/97ed441e29613ea67835b54ef85b4b582d11474e', 'message': 'Add support for embedded graphs and alertmanager\n\nThis patch consits of:\n\n* New ops interface grafana_dashboard based on the existing reactive\n  interface\n* New ops http interface.\n* Dashboard registers grafana dashboards with grafana. These\n  dashboards are taken from upstream ceph *1. Ideally the charm\n  would pick these up from ceph packaging but they are currently\n  not included. With the exception of host-details.json and\n  hosts-overview.json the dashboards are unchanged. host-details.json\n  and hosts-overview.json both needed changed to make the compatable\n  with the metrics telegraf is sending.\n* alertmanager-service and prometheus relations\n  using the http ops interface allowing there api endpoints to be\n  registered with the dashboard.\n\nNOTE: ceph-mon has an existing relation with Prometheus (\nceph-mon:prometheus <-> prometheus:target ) but prometheus does not\npublish its api endpoint on that relation. So, the dashboard adds a\nprometheus:website <-> ceph-dashboard:prometheus relation. This\nallows the dashboard to set set-prometheus-api-host.\n\n*1 https://github.com/ceph/ceph/tree/master/monitoring/grafana/dashboards\n\nChange-Id: Ic4522cc601895c9a79489df985a6e81fa70fb9e5\n'}, {'number': 4, 'created': '2021-08-27 13:49:47.000000000', 'files': ['src/dashboards/host-details.json', 'unit_tests/test_interface_http.py', 'tests/bundles/focal.yaml', 'unit_tests/test_interface_api_endpoints.py', 'src/dashboards/ceph-cluster.json', 'config.yaml', 'src/dashboards/radosgw-overview.json', 'src/dashboards/hosts-overview.json', 'src/dashboards/osds-overview.json', 'src/dashboards/rbd-details.json', 'src/dashboards/radosgw-detail.json', 'src/dashboards/rbd-overview.json', 'src/dashboards/radosgw-sync-overview.json', 'unit_tests/test_ceph_dashboard_charm.py', 'unit_tests/test_interface_grafana_dashboard.py', 'src/dashboards/pool-detail.json', 'src/interface_grafana_dashboard.py', 'src/dashboards/cephfs-overview.json', 'src/dashboards/osd-device-details.json', 'README.md', 'tests/tests.yaml', 'tests/bundles/overlays/focal.yaml.j2', 'src/interface_http.py', 'src/dashboards/pool-overview.json', 'src/charm.py', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/d4c8683e6858de85e4467fcd49d7ad0378354d6a', 'message': 'Add support for embedded graphs and alertmanager\n\nThis patch consits of:\n\n* New ops interface grafana_dashboard based on the existing reactive\n  interface\n* New ops http interface.\n* Dashboard registers grafana dashboards with grafana. These\n  dashboards are taken from upstream ceph *1. Ideally the charm\n  would pick these up from ceph packaging but they are currently\n  not included. With the exception of host-details.json and\n  hosts-overview.json the dashboards are unchanged. host-details.json\n  and hosts-overview.json both needed changed to make the compatable\n  with the metrics telegraf is sending.\n* alertmanager-service and prometheus relations\n  using the http ops interface allowing there api endpoints to be\n  registered with the dashboard.\n\nNOTE: ceph-mon has an existing relation with Prometheus (\nceph-mon:prometheus <-> prometheus:target ) but prometheus does not\npublish its api endpoint on that relation. So, the dashboard adds a\nprometheus:website <-> ceph-dashboard:prometheus relation. This\nallows the dashboard to set set-prometheus-api-host.\n\n*1 https://github.com/ceph/ceph/tree/master/monitoring/grafana/dashboards\n\nChange-Id: Ic4522cc601895c9a79489df985a6e81fa70fb9e5\n'}]",14,806128,d4c8683e6858de85e4467fcd49d7ad0378354d6a,26,3,4,12549,,,0,"Add support for embedded graphs and alertmanager

This patch consits of:

* New ops interface grafana_dashboard based on the existing reactive
  interface
* New ops http interface.
* Dashboard registers grafana dashboards with grafana. These
  dashboards are taken from upstream ceph *1. Ideally the charm
  would pick these up from ceph packaging but they are currently
  not included. With the exception of host-details.json and
  hosts-overview.json the dashboards are unchanged. host-details.json
  and hosts-overview.json both needed changed to make the compatable
  with the metrics telegraf is sending.
* alertmanager-service and prometheus relations
  using the http ops interface allowing there api endpoints to be
  registered with the dashboard.

NOTE: ceph-mon has an existing relation with Prometheus (
ceph-mon:prometheus <-> prometheus:target ) but prometheus does not
publish its api endpoint on that relation. So, the dashboard adds a
prometheus:website <-> ceph-dashboard:prometheus relation. This
allows the dashboard to set set-prometheus-api-host.

*1 https://github.com/ceph/ceph/tree/master/monitoring/grafana/dashboards

Change-Id: Ic4522cc601895c9a79489df985a6e81fa70fb9e5
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/28/806128/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/dashboards/host-details.json', 'unit_tests/test_interface_http.py', 'tests/bundles/focal.yaml', 'unit_tests/test_interface_api_endpoints.py', 'src/dashboards/ceph-cluster.json', 'src/dashboards/pool-detail.json', 'src/interface_grafana_dashboard.py', 'src/dashboards/cephfs-overview.json', 'src/dashboards/osd-device-details.json', 'src/dashboards/radosgw-overview.json', 'src/dashboards/hosts-overview.json', 'src/dashboards/osds-overview.json', 'tests/tests.yaml', 'src/dashboards/rbd-details.json', 'src/dashboards/radosgw-detail.json', 'src/interface_http.py', 'src/dashboards/rbd-overview.json', 'src/dashboards/pool-overview.json', 'src/dashboards/radosgw-sync-overview.json', 'src/charm.py', 'metadata.yaml', 'unit_tests/test_interface_grafana_dashboard.py']",22,bb93665ee72f8c3721d82397ef7e592aa832d43e,grafana,"#!/usr/bin/env python3 # Copyright 2021 Canonical Ltd. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import hashlib import json import unittest import sys sys.path.append('lib') # noqa sys.path.append('src') # noqa from ops.testing import Harness from ops.charm import CharmBase import interface_grafana_dashboard class TestGrafanaDashboardProvides(unittest.TestCase): class MyCharm(CharmBase): def __init__(self, *args): super().__init__(*args) self.seen_events = [] self.grafana_dashboard = \ interface_grafana_dashboard.GrafanaDashboardProvides( self, 'grafana-dashboard') self.seen_events = [] self.framework.observe( self.grafana_dashboard.on.dash_ready, self._log_event) def _log_event(self, event): self.seen_events.append(type(event).__name__) def setUp(self): super().setUp() self.harness = Harness( self.MyCharm, meta=''' name: my-charm provides: grafana-dashboard: interface: grafana-dashboard ''' ) def add_grafana_dashboard_relation(self): rel_id = self.harness.add_relation( 'grafana-dashboard', 'grafana') self.harness.add_relation_unit( rel_id, 'grafana/0') self.harness.update_relation_data( rel_id, 'grafana/0', {'ingress-address': '10.0.0.3'}) return rel_id def test_init(self): self.harness.begin() self.assertEqual( self.harness.charm.grafana_dashboard.relation_name, 'grafana-dashboard') def test_on_changed(self): self.harness.begin() # No MonReadyEvent as relation is absent self.assertEqual( self.harness.charm.seen_events, []) self.add_grafana_dashboard_relation() self.assertEqual( self.harness.charm.seen_events, ['GrafanaDashboardEvent']) def get_requests_on_relation(self, rel_data): requests = {k: v for k, v in rel_data.items() if k.startswith('request')} return requests def test_register_dashboard(self): self.harness.begin() rel_id = self.add_grafana_dashboard_relation() dashboard = { 'uid': '123', 'foo': 'ba1'} digest = hashlib.md5(json.dumps(dashboard).encode(""utf8"")).hexdigest() self.harness.charm.grafana_dashboard.register_dashboard( 'my-dash.json', dashboard) rel_data = self.harness.get_relation_data( rel_id, 'my-charm/0') requests = self.get_requests_on_relation(rel_data) self.assertEqual( len(requests), 1) key = list(requests.keys())[0] expect = { ""dashboard"": { ""digest"": digest, ""foo"": ""ba1"", ""source_model"": None, # Model name appears as None in testing # harness ""uid"": ""123""}, ""name"": ""my-dash.json"", ""request_id"": key.replace(""request_"", """")} self.assertEqual( requests[key], json.dumps(expect)) # Register the same dashboard again self.harness.charm.grafana_dashboard.register_dashboard( 'my-dash.json', dashboard) # Check the relation data is unchanged requests = self.get_requests_on_relation(rel_data) self.assertEqual( len(requests), 1) new_key = list(requests.keys())[0] # A duplicate was registered so the key should be unchanged. self.assertEqual( new_key, key) expect = { ""dashboard"": { ""digest"": digest, ""foo"": ""ba1"", ""source_model"": None, # Model name appears as None in testing # harness ""uid"": ""123""}, ""name"": ""my-dash.json"", ""request_id"": new_key.replace(""request_"", """")} self.assertEqual( requests[new_key], json.dumps(expect)) # Update an existing dashboard with a new version. This should create # a new request and remove the old one. updated_dashboard = { 'uid': '123', 'foo': 'ba2'} updated_digest = hashlib.md5( json.dumps(updated_dashboard).encode(""utf8"")).hexdigest() self.harness.charm.grafana_dashboard.register_dashboard( 'my-dash.json', updated_dashboard) rel_data = self.harness.get_relation_data( rel_id, 'my-charm/0') requests = self.get_requests_on_relation(rel_data) # The old request should have been removed so there is still just one # key. self.assertEqual( len(requests), 1) updated_key = list(requests.keys())[0] expect = { ""dashboard"": { ""digest"": updated_digest, ""foo"": ""ba2"", ""source_model"": None, # Model name appears as None in testing # harness ""uid"": ""123""}, ""name"": ""my-dash.json"", ""request_id"": updated_key.replace(""request_"", """")} self.assertEqual( requests[updated_key], json.dumps(expect)) ",,10818,6
openstack%2Fneutron~master~I993b5f4142c9c81ecc4677b0976718e0afa50bbd,openstack/neutron,master,I993b5f4142c9c81ecc4677b0976718e0afa50bbd,Added remote security group proccessing step.,ABANDONED,2021-08-26 14:52:40.000000000,2021-08-30 08:04:34.000000000,,"[{'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 14:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/104419b2086665fc3e4cc11b4c2024484e62d1a3', 'message': 'Added remote securiy group proccessing step.\n\nNew config option rpc_remote_group_processing_step\nadded in openvswitch agent config\nin section ""securitygroup"".\nDefault agent behaviour didn\'t change.\nAgent handles security groups in one step.\nIf user wants that an agent would handle security groups\none-by-one, then set option to 1.\n\nChange-Id: I993b5f4142c9c81ecc4677b0976718e0afa50bbd\n'}, {'number': 2, 'created': '2021-08-26 20:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1909a1af58052ed2975839125a0f8bd45baf1ed0', 'message': 'Added remote securiy group proccessing step.\n\nNew config option rpc_remote_group_processing_step\nadded in openvswitch agent config\nin section ""securitygroup"".\nDefault agent behaviour didn\'t change.\nAgent handles security groups in one step.\nIf user wants that an agent would handle security groups\none-by-one, then set option to 1.\n\nChange-Id: I993b5f4142c9c81ecc4677b0976718e0afa50bbd\nCloses-Bug: 1938202\n'}, {'number': 3, 'created': '2021-08-26 20:54:28.000000000', 'files': ['neutron/conf/agent/securitygroups_rpc.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/415ae71a18f83a819755f220a3a743f640ac33fa', 'message': 'Added remote security group proccessing step.\n\nNew config option rpc_remote_group_processing_step\nadded in openvswitch agent config\nin section ""securitygroup"".\nDefault agent behaviour didn\'t change.\nAgent handles security groups in one step.\nIf user wants that an agent would handle security groups\none-by-one, then set option to 1.\n\nChange-Id: I993b5f4142c9c81ecc4677b0976718e0afa50bbd\nCloses-Bug: 1938202\n'}]",0,806203,415ae71a18f83a819755f220a3a743f640ac33fa,22,3,3,32927,,,0,"Added remote security group proccessing step.

New config option rpc_remote_group_processing_step
added in openvswitch agent config
in section ""securitygroup"".
Default agent behaviour didn't change.
Agent handles security groups in one step.
If user wants that an agent would handle security groups
one-by-one, then set option to 1.

Change-Id: I993b5f4142c9c81ecc4677b0976718e0afa50bbd
Closes-Bug: 1938202
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/806203/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/agent/securitygroups_rpc.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py']",2,104419b2086665fc3e4cc11b4c2024484e62d1a3,bug/1938202_part2,"from oslo_config import cfg step = len(remote_group_ids) if cfg.CONF.SECURITYGROUP.rpc_remote_group_processing_step: step = cfg.CONF.SECURITYGROUP.rpc_remote_group_processing_step for index in range(0, len(remote_group_ids), step): security_group_batch = tuple(remote_group_ids[index: index + step]) filters = {""security_group_ids"": security_group_batch} for p in self.rcache.get_resources('Port', filters): allowed_ips = [(str(addr.ip_address), str(addr.mac_address)) for addr in p.allowed_address_pairs] port_ips = [(str(addr.ip_address), str(p.mac_address)) for addr in p.fixed_ips] + allowed_ips for sg_id in p.security_group_ids: if sg_id in ips_by_group: ips_by_group[sg_id].update(set(port_ips))"," filters = {'security_group_ids': tuple(remote_group_ids)} for p in self.rcache.get_resources('Port', filters): allowed_ips = [(str(addr.ip_address), str(addr.mac_address)) for addr in p.allowed_address_pairs] port_ips = [(str(addr.ip_address), str(p.mac_address)) for addr in p.fixed_ips] + allowed_ips for sg_id in p.security_group_ids: if sg_id in ips_by_group: ips_by_group[sg_id].update(set(port_ips))",24,10
openstack%2Fmasakari-monitors~master~I9353fed420292123654fdf17ca3bb87dfea84e1d,openstack/masakari-monitors,master,I9353fed420292123654fdf17ca3bb87dfea84e1d,Deprecate masakari-processmonitor,MERGED,2021-08-27 16:36:09.000000000,2021-08-30 08:01:00.000000000,2021-08-30 07:59:07.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-27 16:36:09.000000000', 'files': ['releasenotes/notes/deprecate-processmonitor-95c8aefbc749c1ed.yaml'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/2e8f43ffcf1c935a154c8b15c13727936db9ab44', 'message': 'Deprecate masakari-processmonitor\n\nPer [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-August/024306.html\n\nChange-Id: I9353fed420292123654fdf17ca3bb87dfea84e1d\n'}]",0,806431,2e8f43ffcf1c935a154c8b15c13727936db9ab44,8,3,1,30491,,,0,"Deprecate masakari-processmonitor

Per [1].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-August/024306.html

Change-Id: I9353fed420292123654fdf17ca3bb87dfea84e1d
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/31/806431/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/deprecate-processmonitor-95c8aefbc749c1ed.yaml'],1,2e8f43ffcf1c935a154c8b15c13727936db9ab44,,"--- deprecations: - | Masakari Process Monitor (``masakari-processmonitor``) is deprecated and may be removed in any later release. Please use modern tools, such as systemd, Docker or Kubernetes (K8s), to control, monitor and ensure the desired processes are running. ",,7,0
openstack%2Fmasakari~master~I1787206b1ca84b64686bfaa1d00f33dbfc2e3adb,openstack/masakari,master,I1787206b1ca84b64686bfaa1d00f33dbfc2e3adb,[DevStack] Do not use the sample process list,MERGED,2021-08-27 17:26:10.000000000,2021-08-30 07:55:28.000000000,2021-08-30 07:53:46.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-27 17:26:10.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/masakari/commit/25f64a0fdc1de0f6b393fa80e1eae1b2717cb590', 'message': '[DevStack] Do not use the sample process list\n\n... for the process monitor deployment.\n\nThat sample list manipulation was ugly and definitions there\ndid not really match the reality causing random hiccups in CI and\nlocal DevStack deployments (mostly due to constant restarting of\ninstancemonitor).\nMoreover, processmonitor is deprecated in Xena. [1]\nThe existing unit tests and the noop deployment should be enough\nto keep it on the surface.\n\n[1] https://review.opendev.org/c/openstack/masakari-monitors/+/806431\n\nChange-Id: I1787206b1ca84b64686bfaa1d00f33dbfc2e3adb\n'}]",0,806438,25f64a0fdc1de0f6b393fa80e1eae1b2717cb590,11,3,1,30491,,,0,"[DevStack] Do not use the sample process list

... for the process monitor deployment.

That sample list manipulation was ugly and definitions there
did not really match the reality causing random hiccups in CI and
local DevStack deployments (mostly due to constant restarting of
instancemonitor).
Moreover, processmonitor is deprecated in Xena. [1]
The existing unit tests and the noop deployment should be enough
to keep it on the surface.

[1] https://review.opendev.org/c/openstack/masakari-monitors/+/806431

Change-Id: I1787206b1ca84b64686bfaa1d00f33dbfc2e3adb
",git fetch https://review.opendev.org/openstack/masakari refs/changes/38/806438/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,25f64a0fdc1de0f6b393fa80e1eae1b2717cb590,devstack-no-sample-process-list," iniset $MASAKARI_MONITORS_CONF process process_list_path ""$MASAKARI_MONITORS_CONF_DIR/process_list.yaml"" touch $MASAKARI_MONITORS_CONF_DIR/process_list.yaml"," iniset $MASAKARI_MONITORS_CONF process process_list_path ""/etc/masakarimonitors/process_list.yaml"" cp $DEST/masakari-monitors/etc/masakarimonitors/process_list.yaml.sample \ $MASAKARI_MONITORS_CONF_DIR/process_list.yaml sed -i 's/start nova-compute/start devstack@n-cpu/g' $MASAKARI_MONITORS_CONF_DIR/process_list.yaml sed -i 's/restart nova-compute/restart devstack@n-cpu/g' $MASAKARI_MONITORS_CONF_DIR/process_list.yaml sed -i 's/start masakari-instancemonitor/start devstack@masakari-instancemonitor/g' \ $MASAKARI_MONITORS_CONF_DIR/process_list.yaml sed -i 's/restart masakari-instancemonitor/restart devstack@masakari-instancemonitor/g' \ $MASAKARI_MONITORS_CONF_DIR/process_list.yaml # NOTE(neha-alhat): remove monitoring of host-monitor process as # devstack support for host-monitor is not added yet. sed -i '43,52d' $MASAKARI_MONITORS_CONF_DIR/process_list.yaml",2,15
openstack%2Fskyline-console~master~I81ec6271b2eac779c9308c2e4a169b72b38d76de,openstack/skyline-console,master,I81ec6271b2eac779c9308c2e4a169b72b38d76de,fix: Fix inspect error message,MERGED,2021-08-30 06:48:43.000000000,2021-08-30 07:32:58.000000000,2021-08-30 07:32:58.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-30 06:48:43.000000000', 'files': ['src/pages/compute/containers/BareMetalNode/actions/Inspect.jsx', 'src/components/CodeEditor/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/0f788dc2cbdadb49d269e735ad53b47070d1008b', 'message': ""fix: Fix inspect error message\n\n1. Update error message display: auto parse json str\n2. Disable inspect when baremetail's driver is ipmi\n\nChange-Id: I81ec6271b2eac779c9308c2e4a169b72b38d76de\n""}]",0,806538,0f788dc2cbdadb49d269e735ad53b47070d1008b,6,2,1,30434,,,0,"fix: Fix inspect error message

1. Update error message display: auto parse json str
2. Disable inspect when baremetail's driver is ipmi

Change-Id: I81ec6271b2eac779c9308c2e4a169b72b38d76de
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/38/806538/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/compute/containers/BareMetalNode/actions/Inspect.jsx', 'src/components/CodeEditor/index.jsx']",2,0f788dc2cbdadb49d269e735ad53b47070d1008b,master2,const parseValue = (value) => { if (!isString(value)) { return value; } if (value.includes('<html>')) { try { const result = JSON.parse(value); return result; } catch (e) { return value; } return parseValue(value); value[key] = parseValue(value[key]);,const parseHtml = (value) => { if (isString(value) && value.includes('<html>')) { return value; return parseHtml(value); value[key] = parseHtml(value[key]);,15,6
openstack%2Fmasakari-monitors~master~Id954a1c0e61b9b4927f3f7b34bf8f80a1686e75b,openstack/masakari-monitors,master,Id954a1c0e61b9b4927f3f7b34bf8f80a1686e75b,[CI] Run cover jobs,MERGED,2021-08-27 16:52:12.000000000,2021-08-30 07:16:56.000000000,2021-08-30 07:11:11.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}]","[{'number': 1, 'created': '2021-08-27 16:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/bdfccfc6ad16d52239a2833561a311b2fda34e7b', 'message': '[CI] Run cover jobs\n\nLike in masakari.\n\nChange-Id: Id954a1c0e61b9b4927f3f7b34bf8f80a1686e75b\n'}, {'number': 2, 'created': '2021-08-27 17:35:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/1cee543f93c100e11b4f607225eaed5334ee760e', 'message': '[CI] Run cover jobs\n\nLike in masakari.\n\nChange-Id: Id954a1c0e61b9b4927f3f7b34bf8f80a1686e75b\n'}]",0,806434,1cee543f93c100e11b4f607225eaed5334ee760e,9,2,2,30491,,,0,"[CI] Run cover jobs

Like in masakari.

Change-Id: Id954a1c0e61b9b4927f3f7b34bf8f80a1686e75b
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/34/806434/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bdfccfc6ad16d52239a2833561a311b2fda34e7b,cover-jobs, - openstack-cover-jobs,,1,0
openstack%2Fskyline-console~master~Icb921bd49f6b6ff47159cc8743a8cb23325cf0b5,openstack/skyline-console,master,Icb921bd49f6b6ff47159cc8743a8cb23325cf0b5,fix: Add filter status in volume,MERGED,2021-08-27 05:40:04.000000000,2021-08-30 07:00:41.000000000,2021-08-30 07:00:41.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-27 05:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/942e832fa639bdda372d13e5a8dbd6ca483eaf77', 'message': 'fix: Add filter status in volume\n\nAdd maintenance in volume filter\n\nChange-Id: Icb921bd49f6b6ff47159cc8743a8cb23325cf0b5\n'}, {'number': 2, 'created': '2021-08-30 06:10:32.000000000', 'files': ['src/resources/volume.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/18070b722afec001381e7c0dc1d136247bda5d10', 'message': 'fix: Add filter status in volume\n\nAdd maintenance in volume filter\n\nChange-Id: Icb921bd49f6b6ff47159cc8743a8cb23325cf0b5\n'}]",0,806307,18070b722afec001381e7c0dc1d136247bda5d10,8,2,2,33689,,,0,"fix: Add filter status in volume

Add maintenance in volume filter

Change-Id: Icb921bd49f6b6ff47159cc8743a8cb23325cf0b5
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/07/806307/1 && git format-patch -1 --stdout FETCH_HEAD,['src/resources/volume.jsx'],1,942e832fa639bdda372d13e5a8dbd6ca483eaf77,open-36279," options: ['available', 'in-use', 'error', 'maintenance'].map((it) => ({"," options: ['available', 'in-use', 'error'].map((it) => ({",1,1
openstack%2Fstorlets~master~I148fa5793c19e8f894b8cb3ccecf75b3d15fb17a,openstack/storlets,master,I148fa5793c19e8f894b8cb3ccecf75b3d15fb17a,Allow limiting number of containers on a node,MERGED,2021-08-14 09:42:25.000000000,2021-08-30 06:25:10.000000000,2021-08-30 06:21:43.000000000,"[{'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-14 09:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/f4810b3a851da56d69959562e1d227d1dfa71fe3', 'message': 'Allow limiting number of containers on a node\n\nThis change introduces the new configuration option to limit number\nof storlet containers running on a single now. This helps operators\navoid some node from being heavily loaded by containers.\n\nThis change also adds a new label, managed_by=storlets, to find\ncontainers managed by Storlets. This allows any additional containers\nto run on a same node and exclude these containers from the limit.\n\nChange-Id: I148fa5793c19e8f894b8cb3ccecf75b3d15fb17a\n'}, {'number': 2, 'created': '2021-08-14 09:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/e03e0c011aafde9f0fa252399e6efb97f70401c2', 'message': 'Allow limiting number of containers on a node\n\nThis change introduces the new configuration option to limit number\nof storlet containers running on a single now. This helps operators\navoid some nodes from being unevenly loaded.\n\nTo search storlet containers, The new container label,\n managed=by=storlets\nis added to all storlet containers. This allows users to run additional\ncontainers on a same node and exclude these containers from the limit.\n\nChange-Id: I148fa5793c19e8f894b8cb3ccecf75b3d15fb17a\n'}, {'number': 3, 'created': '2021-08-14 09:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/2995865e063f84c13fa550a73c91c548ff60330f', 'message': 'Allow limiting number of containers on a node\n\nThis change introduces the new configuration option to limit number\nof storlet containers running on a single now. This helps operators\navoid some nodes from being unevenly loaded.\n\nTo search storlet containers, The new container label,\n managed=by=storlets\nis added to all storlet containers. This allows users to run additional\ncontainers on a same node and exclude these containers from the limit.\n\nChange-Id: I148fa5793c19e8f894b8cb3ccecf75b3d15fb17a\n'}, {'number': 4, 'created': '2021-08-14 12:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/f6f1bd57796dcf2c6e18152d752f8190071ea1f4', 'message': 'Allow limiting number of containers on a node\n\nThis change introduces the new configuration option to limit number\nof storlet containers running on a single now. This helps operators\navoid some nodes from being unevenly loaded.\n\nTo search storlet containers, The new container label,\n managed=by=storlets\nis added to all storlet containers. This allows users to run additional\ncontainers on a same node and exclude these containers from the limit.\n\nChange-Id: I148fa5793c19e8f894b8cb3ccecf75b3d15fb17a\n'}, {'number': 5, 'created': '2021-08-14 13:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/4adcb661ce9a5a7d4445e67cc862a09f8c1e76e3', 'message': 'Allow limiting number of containers on a node\n\nThis change introduces the new configuration option to limit number\nof storlet containers running on a single now. This helps operators\navoid some nodes from being unevenly loaded.\n\nTo search storlet containers, The new container label,\n managed=by=storlets\nis added to all storlet containers. This allows users to run additional\ncontainers on a same node and exclude these containers from the limit.\n\nChange-Id: I148fa5793c19e8f894b8cb3ccecf75b3d15fb17a\n'}, {'number': 6, 'created': '2021-08-19 09:17:41.000000000', 'files': ['tests/unit/gateway/gateways/docker/test_runtime.py', 'storlets/gateway/gateways/docker/runtime.py', 'etc/storlet-docker-gateway.conf-sample'], 'web_link': 'https://opendev.org/openstack/storlets/commit/a3583b598b87132539ce85cf8f5d0ee54736cd41', 'message': 'Allow limiting number of containers on a node\n\nThis change introduces the new configuration option to limit number\nof storlet containers running on a single now. This helps operators\navoid some nodes from being unevenly loaded.\n\nTo search storlet containers, The new container label,\n managed=by=storlets\nis added to all storlet containers. This allows users to run additional\ncontainers on a same node and exclude these containers from the limit.\n\nChange-Id: I148fa5793c19e8f894b8cb3ccecf75b3d15fb17a\n'}]",0,804552,a3583b598b87132539ce85cf8f5d0ee54736cd41,19,2,6,9816,,,0,"Allow limiting number of containers on a node

This change introduces the new configuration option to limit number
of storlet containers running on a single now. This helps operators
avoid some nodes from being unevenly loaded.

To search storlet containers, The new container label,
 managed=by=storlets
is added to all storlet containers. This allows users to run additional
containers on a same node and exclude these containers from the limit.

Change-Id: I148fa5793c19e8f894b8cb3ccecf75b3d15fb17a
",git fetch https://review.opendev.org/openstack/storlets refs/changes/52/804552/6 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/gateway/gateways/docker/test_runtime.py', 'storlets/gateway/gateways/docker/runtime.py', 'etc/storlet-docker-gateway.conf-sample']",3,f4810b3a851da56d69959562e1d227d1dfa71fe3,limit,max_containers_per_node = 0,,58,1
openstack%2Fstorlets~master~Iafe9a9f846fc806398fd648c1ab39f95752236d7,openstack/storlets,master,Iafe9a9f846fc806398fd648c1ab39f95752236d7,Accept SIGHUP for graceful shutdown,MERGED,2019-07-16 14:50:28.000000000,2021-08-30 06:22:48.000000000,2021-08-30 06:20:38.000000000,"[{'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-16 14:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/664860fb9b214105dfb4d0e9fb43cd1e0b224c1f', 'message': 'Implement SIGTERM hundler for agent processes\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 2, 'created': '2019-07-17 03:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/c7bbae18a94ba18bb1bd71292862468eae11a290', 'message': 'Implement SIGTERM hundler for agent processes\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 3, 'created': '2019-07-17 03:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/7b7415c2cdfa50a96dfc222a5755ac0e333e11ab', 'message': 'Implement SIGTERM hundler for agent processes\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 4, 'created': '2019-07-17 03:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/6cc4f360d53ccbaa97a874f29f56d0d47bbc6bf6', 'message': 'Implement SIGTERM hundler for agent processes\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 5, 'created': '2019-07-17 04:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/2a408c0cdb21ba003b2cbcf99d03db341ee40fb0', 'message': 'Implement SIGTERM hundler for agent processes\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 6, 'created': '2019-07-20 13:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/03629210c7a7286a94107a6337d6f596774e8d7c', 'message': 'Implement SIGTERM hundler for agent processes\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 7, 'created': '2019-07-20 13:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/d2a33281820cf5ddc635f4774b5778415f51e9c1', 'message': 'Implement SIGTERM hundler for agent processes\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 8, 'created': '2019-07-20 13:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/0aa64b538b62f19b2d06fac1a5ac9119da6a8be6', 'message': 'Implement SIGTERM hundler for agent processes\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 9, 'created': '2019-07-20 13:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/99729abca8118b6014c20f212011f3b91940a0b2', 'message': 'Implement SIGTERM hundler for agent processes\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 10, 'created': '2019-08-07 00:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/ae573ee1b48f1265d610afc48af02b3a09f7ff08', 'message': 'Implement SIGTERM hundler for agent processes\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 11, 'created': '2019-08-07 01:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/5074edfa43e8ee08314afb642d861163f0420418', 'message': 'Implement SIGTERM hundler for agent processes\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 12, 'created': '2019-08-07 09:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/e7cc48d69ddaa8df2ec7d33cf6167f8b51903f2c', 'message': 'Implement SIGTERM hundler for agent processes\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 13, 'created': '2019-08-16 11:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/50c26b892319737929fe6290ac5c1f5b9f8c587a', 'message': 'Implement SIGTERM hundler for agent processes\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 14, 'created': '2019-08-22 11:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/597743dac6494bf6cf8b3dc220b68327dba6d3ab', 'message': 'Implement SIGTERM hundler for agent processes\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 15, 'created': '2019-08-22 11:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/49aa821dd272929812f0a3673e48f64b788a842b', 'message': 'Implement SIGTERM hundler for agent processes\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 16, 'created': '2019-09-28 13:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/6dcb74514ab11aba5b63ebf0582857bbb38bfde3', 'message': 'Implement SIGTERM hundler for agent processes\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 17, 'created': '2019-11-11 04:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/7ed41282f521ad5bb96297c3b3e67c4d976b55cc', 'message': 'Implement SIGTERM hundler for agent processes\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 18, 'created': '2019-11-11 05:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/db8886d402f69f318a22f85410d730bbf58c8902', 'message': 'Implement SIGTERM hundler for agent processes\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 19, 'created': '2019-11-11 05:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/03f1a55891379e4995886de58c34a8f602681638', 'message': 'Implement SIGTERM hundler for agent processes\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 20, 'created': '2019-12-23 13:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/83597a7e0ecb6892f358a008afdac49783ee1d8e', 'message': 'Implement SIGTERM hundler for agent processes\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 21, 'created': '2020-09-06 10:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/9f96bc5f5860a539c924b5184453ebc09eae6456', 'message': 'Implement SIGTERM hundler for agent processes\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 22, 'created': '2020-09-15 07:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/0b10ad49eb2bc3c8124f8e494128fef0f6491d41', 'message': ""Add SIGTERM hundler for graceful shutdown\n\nThis patch introduces SIGTERM handler into agent processes, so that\noperators can stop storlet-daemon-factory or storlet-daemon gracefully.\nWith this patch, these agent process don't shutdown suddenly after\nreceiving SIGTERM but continues to server the on-going requests.\nSIGKILL should be used instead if they want to shut off the process\nwith interrupting requests currently processed.\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n""}, {'number': 23, 'created': '2020-09-15 13:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/1a801938aa1978b382a358d55d595154368ffe4a', 'message': ""Add SIGTERM hundler for graceful shutdown\n\nThis patch introduces SIGTERM handler into agent processes, so that\noperators can stop storlet-daemon-factory or storlet-daemon gracefully.\nWith this patch, these agent process don't shutdown suddenly after\nreceiving SIGTERM but continues to server the on-going requests.\nSIGKILL should be used instead if they want to shut off the process\nwith interrupting requests currently processed.\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n""}, {'number': 24, 'created': '2020-09-15 13:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/a11655c2c730ab5f78e683461c65d031a1fbb9bc', 'message': ""Add SIGTERM hundler for graceful shutdown\n\nThis patch introduces SIGTERM handler into agent processes, so that\noperators can stop storlet-daemon-factory or storlet-daemon gracefully.\nWith this patch, these agent process don't shutdown suddenly after\nreceiving SIGTERM but continues to server the on-going requests.\nSIGKILL should be used instead if they want to shut off the process\nwith interrupting requests currently processed.\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n""}, {'number': 25, 'created': '2020-09-15 13:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/85d354068464d544ae164186d1a065cc0c3deb7f', 'message': 'Accept SIGHUP for graceful shutdown\n\nThis patch introduces SIGHUP handler into agent processes, so that\noperators can stop agent processes like storlet-daemon-factory\ngracefully.\nThe SIGTERM signal is still available to stop agents immediately,\nwith interuppting all processes currently in progress.\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 26, 'created': '2021-01-03 03:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/139439973a5a9f41837399daf22c3e1b145b43c4', 'message': 'Accept SIGHUP for graceful shutdown\n\nThis patch introduces SIGHUP handler into agent processes, so that\noperators can stop agent processes like storlet-daemon-factory\ngracefully.\nThe SIGTERM signal is still available to stop agents immediately,\nwith interuppting all processes currently in progress.\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 27, 'created': '2021-01-30 06:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/16e9b0952d5652b37fe06e70235dbe1c614752a8', 'message': 'Accept SIGHUP for graceful shutdown\n\nThis patch introduces SIGHUP handler into agent processes, so that\noperators can stop agent processes like storlet-daemon-factory\ngracefully.\nThe SIGTERM signal is still available to stop agents immediately,\nwith interuppting all processes currently in progress.\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 28, 'created': '2021-08-07 14:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/47d549a544e83834d04dd16e7bd97a37aab0e250', 'message': 'Accept SIGHUP for graceful shutdown\n\nThis patch introduces SIGHUP handler into agent processes, so that\noperators can stop agent processes like storlet-daemon-factory\ngracefully.\nThe SIGTERM signal is still available to stop agents immediately,\nwith interuppting all processes currently in progress.\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 29, 'created': '2021-08-07 16:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/cde503e1f1b619b1348d3609db2890dd49869102', 'message': 'Accept SIGHUP for graceful shutdown\n\nThis patch introduces SIGHUP handler into agent processes, so that\noperators can stop agent processes like storlet-daemon-factory\ngracefully.\nThe SIGTERM signal is still available to stop agents immediately,\nwith interuppting all processes currently in progress.\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 30, 'created': '2021-08-07 16:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/882ef5dfbb8d03a88c1283c1d86b3a86bec1a240', 'message': 'Accept SIGHUP for graceful shutdown\n\nThis patch introduces SIGHUP handler into agent processes, so that\noperators can stop agent processes like storlet-daemon-factory\ngracefully.\nThe SIGTERM signal is still available to stop agents immediately,\nwith interuppting all processes currently in progress.\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 31, 'created': '2021-08-07 16:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/63181d55068044e2fb4c24cec843ae333579ee1d', 'message': 'Accept SIGHUP for graceful shutdown\n\nThis patch introduces SIGHUP handler into agent processes, so that\noperators can stop agent processes like storlet-daemon-factory\ngracefully.\nThe SIGTERM signal is still available to stop agents immediately,\nwith interuppting all processes currently in progress.\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 32, 'created': '2021-08-07 16:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/f78f9b96f20bc19b3137191291549f12ccd78716', 'message': 'Accept SIGHUP for graceful shutdown\n\nThis patch introduces SIGHUP handler into agent processes, so that\noperators can stop agent processes like storlet-daemon-factory\ngracefully.\nThe SIGTERM signal is still available to stop agents immediately,\nwith interuppting all processes currently in progress.\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 33, 'created': '2021-08-08 03:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/81f0436701abaa0f5d9db4b4d7f3bd74cc4f4fee', 'message': 'Accept SIGHUP for graceful shutdown\n\nThis patch introduces SIGHUP handler into agent processes, so that\noperators can stop agent processes like storlet-daemon-factory\ngracefully.\nThe SIGTERM signal is still available to stop agents immediately,\nwith interuppting all processes currently in progress.\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 34, 'created': '2021-08-08 03:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/15bd7682486bf2854be21b4991f4102b46fbbc48', 'message': 'Accept SIGHUP for graceful shutdown\n\nThis patch introduces SIGHUP handler into agent processes, so that\noperators can stop agent processes like storlet-daemon-factory\ngracefully.\nThe SIGTERM signal is still available to stop agents immediately,\nwith interuppting all processes currently in progress.\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 35, 'created': '2021-08-14 09:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/43b1508642356fd2a938bce3063ae392111f2534', 'message': 'Accept SIGHUP for graceful shutdown\n\nThis patch introduces SIGHUP handler into agent processes, so that\noperators can stop agent processes like storlet-daemon-factory\ngracefully.\nThe SIGTERM signal is still available to stop agents immediately,\nwith interuppting all processes currently in progress.\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 36, 'created': '2021-08-14 09:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/95b268fea4e06787a25c2ddff008e8b2656ce3d1', 'message': 'Accept SIGHUP for graceful shutdown\n\nThis patch introduces SIGHUP handler into agent processes, so that\noperators can stop agent processes like storlet-daemon-factory\ngracefully.\nThe SIGTERM signal is still available to stop agents immediately,\nwith interuppting all processes currently in progress.\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}, {'number': 37, 'created': '2021-08-19 09:17:34.000000000', 'files': ['storlets/agent/daemon/server.py', 'storlets/agent/daemon_factory/server.py', 'storlets/gateway/gateways/docker/runtime.py', 'storlets/agent/common/server.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/33c403e14b6b0207c8c2e8dd96504b751852cfde', 'message': 'Accept SIGHUP for graceful shutdown\n\nThis patch introduces SIGHUP handler into agent processes, so that\noperators can stop agent processes like storlet-daemon-factory\ngracefully.\nThe SIGTERM signal is still available to stop agents immediately,\nwith interuppting all processes currently in progress.\n\nChange-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7\n'}]",8,671057,33c403e14b6b0207c8c2e8dd96504b751852cfde,89,4,37,9816,,,0,"Accept SIGHUP for graceful shutdown

This patch introduces SIGHUP handler into agent processes, so that
operators can stop agent processes like storlet-daemon-factory
gracefully.
The SIGTERM signal is still available to stop agents immediately,
with interuppting all processes currently in progress.

Change-Id: Iafe9a9f846fc806398fd648c1ab39f95752236d7
",git fetch https://review.opendev.org/openstack/storlets refs/changes/57/671057/8 && git format-patch -1 --stdout FETCH_HEAD,['storlets/agent/common/server.py'],1,664860fb9b214105dfb4d0e9fb43cd1e0b224c1f,sigterm,"from eventlet import Timeout LOOP_TIMEOUT = 0.5 eventlet.patcher.monkey_patch(all=False, socket=True, select=True) running = [True] def handle_sigterm(**kwargs): self.logger.info(""SIGTERM received"") running[0] = False signal.signal(signal.SIGTERM, handle_sigterm) while running[0]: rc = None with Timeout(LOOP_TIMEOUT, exception=False): rc = sbus.listen(fd) if rc is None: # listen has timed out, so continue to the next loop continue ", while True: rc = sbus.listen(fd),24,2
openstack%2Fstorlets~master~Ic3e502995f1a125d449fcb88613290c65183face,openstack/storlets,master,Ic3e502995f1a125d449fcb88613290c65183face,Stop Inactive storlet processes automatically,MERGED,2019-07-21 13:41:53.000000000,2021-08-30 06:19:48.000000000,2021-08-30 06:17:57.000000000,"[{'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-21 13:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/982005223522533738f71c65d30f690fac2ddedd', 'message': 'Implement timeout in sbus.listen\n\nCurrently sbus.listen is implemented inside sbus c library, which\nmakes it difficult to set Timeout for that listeninin at python layer\nas we can not use eventlet.Timeout for IO operations inside c library.\n\nThis patch implament timeout inside c library and provide an interface\nto configure timeout value from python, so that we can set Timeout\nat python layer.\n\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 2, 'created': '2019-07-21 14:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/157eb2ead4277f2b4d905aea6f77beb7c81dfc10', 'message': 'Implement timeout in sbus.listen\n\nCurrently sbus.listen is implemented inside sbus c library, which\nmakes it difficult to set Timeout for that listeninin at python layer\nas we can not use eventlet.Timeout for IO operations inside c library.\n\nThis patch implament timeout inside c library and provide an interface\nto configure timeout value from python, so that we can set Timeout\nat python layer.\n\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 3, 'created': '2019-08-02 07:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/c895f80f46d753e98b46619523c5d3936b4aaa21', 'message': 'Implement timeout in sbus.listen\n\nCurrently sbus.listen is implemented inside sbus c library, which\nmakes it difficult to set Timeout for that listeninin at python layer\nas we can not use eventlet.Timeout for IO operations inside c library.\n\nThis patch implament timeout inside c library and provide an interface\nto configure timeout value from python, so that we can set Timeout\nat python layer.\n\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 4, 'created': '2019-08-02 07:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/17764da595e0cfb78d5dd5de0913b2aee18f651e', 'message': 'Implement timeout in sbus.listen\n\nCurrently sbus.listen is implemented inside sbus c library, which\nmakes it difficult to set Timeout for that listeninin at python layer\nas we can not use eventlet.Timeout for IO operations inside c library.\n\nThis patch implament timeout inside c library and provide an interface\nto configure timeout value from python, so that we can set Timeout\nat python layer.\n\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 5, 'created': '2019-08-05 00:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/2d2d963c9a767801570e166238b757b4bf22bfe0', 'message': 'Implement timeout in sbus.listen\n\nCurrently sbus.listen is implemented inside sbus c library, which\nmakes it difficult to set Timeout for that listeninin at python layer\nas we can not use eventlet.Timeout for IO operations inside c library.\n\nThis patch implament timeout inside c library and provide an interface\nto configure timeout value from python, so that we can set Timeout\nat python layer.\n\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 6, 'created': '2019-08-05 01:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/06a4365e628c43ed756d65aa4d25794e96b9efaf', 'message': 'Implement timeout in sbus.listen\n\nCurrently sbus.listen is implemented inside sbus c library, which\nmakes it difficult to set Timeout for that listeninin at python layer\nas we can not use eventlet.Timeout for IO operations inside c library.\n\nThis patch implament timeout inside c library and provide an interface\nto configure timeout value from python, so that we can set Timeout\nat python layer.\n\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 7, 'created': '2019-08-05 01:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/21ea5ebb5235819b927727f090beff9648ae5310', 'message': 'Implement timeout in sbus.listen\n\nCurrently sbus.listen is implemented inside sbus c library, which\nmakes it difficult to set Timeout for that listeninin at python layer\nas we can not use eventlet.Timeout for IO operations inside c library.\n\nThis patch implament timeout inside c library and provide an interface\nto configure timeout value from python, so that we can set Timeout\nat python layer.\n\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 8, 'created': '2019-08-05 02:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/4155f31c95ff9173af6c07c95bc7e235e6616d31', 'message': 'Implement timeout in sbus.listen\n\nCurrently sbus.listen is implemented inside sbus c library, which\nmakes it difficult to set Timeout for that listeninin at python layer\nas we can not use eventlet.Timeout for IO operations inside c library.\n\nThis patch implament timeout inside c library and provide an interface\nto configure timeout value from python, so that we can set Timeout\nat python layer.\n\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 9, 'created': '2019-08-05 02:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/f2bc4ff629f4cacc493c9cad83e20308ff2a12f8', 'message': 'Implement timeout in sbus.listen\n\nCurrently sbus.listen is implemented inside sbus c library, which\nmakes it difficult to set Timeout for that listeninin at python layer\nas we can not use eventlet.Timeout for IO operations inside c library.\n\nThis patch implament timeout inside c library and provide an interface\nto configure timeout value from python, so that we can set Timeout\nat python layer.\n\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 10, 'created': '2019-08-05 04:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/f6254f1928887babfc5baf5ed0249c21e8afe8c3', 'message': 'Implement timeout in sbus.listen\n\nCurrently sbus.listen is implemented inside sbus c library, which\nmakes it difficult to set Timeout for that listeninin at python layer\nas we can not use eventlet.Timeout for IO operations inside c library.\n\nThis patch implament timeout inside c library and provide an interface\nto configure timeout value from python, so that we can set Timeout\nat python layer.\n\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 11, 'created': '2019-08-05 07:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/8099b5b3a5e88d08ebb782281f31cee50b731569', 'message': 'Implement timeout in sbus.listen\n\nCurrently sbus.listen is implemented inside sbus c library, which\nmakes it difficult to set Timeout for that listeninin at python layer\nas we can not use eventlet.Timeout for IO operations inside c library.\n\nThis patch implament timeout inside c library and provide an interface\nto configure timeout value from python, so that we can set Timeout\nat python layer.\n\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 12, 'created': '2019-08-22 11:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/1cc104e78c17b3e37556ea668d3cbe03f01285be', 'message': 'Implement timeout in sbus.listen\n\nCurrently sbus.listen is implemented inside sbus c library, which\nmakes it difficult to set Timeout for that listeninin at python layer\nas we can not use eventlet.Timeout for IO operations inside c library.\n\nThis patch implament timeout inside c library and provide an interface\nto configure timeout value from python, so that we can set Timeout\nat python layer.\n\nCloses-Bug: 1615927\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 13, 'created': '2019-08-22 11:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/e27a4fcc076124a26cbc16fb792de8026b336b63', 'message': 'Implement timeout in sbus.listen\n\nCurrently sbus.listen is implemented inside sbus c library, which\nmakes it difficult to set Timeout for that listeninin at python layer\nas we can not use eventlet.Timeout for IO operations inside c library.\n\nThis patch implament timeout inside c library and provide an interface\nto configure timeout value from python, so that we can set Timeout\nat python layer.\n\nCloses-bug: #1615927\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 14, 'created': '2019-09-28 13:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/831357322ad70d6631edcfee36495ae1beb4cfba', 'message': 'Implement timeout in sbus.listen\n\nCurrently sbus.listen is implemented inside sbus c library, which\nmakes it difficult to set Timeout for that listeninin at python layer\nas we can not use eventlet.Timeout for IO operations inside c library.\n\nThis patch implament timeout inside c library and provide an interface\nto configure timeout value from python, so that we can set Timeout\nat python layer.\n\nCloses-bug: #1615927\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 15, 'created': '2019-11-11 04:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/331353abc855a36bd67b97e5ea7290193a04d1e4', 'message': 'Implement timeout in sbus.listen\n\nCurrently sbus.listen is implemented inside sbus c library, which\nmakes it difficult to set Timeout for that listeninin at python layer\nas we can not use eventlet.Timeout for IO operations inside c library.\n\nThis patch implament timeout inside c library and provide an interface\nto configure timeout value from python, so that we can set Timeout\nat python layer.\n\nCloses-bug: #1615927\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 16, 'created': '2019-11-11 04:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/5b11106ecd1381f88ddf42044f71374d8451b073', 'message': 'Implement timeout in sbus.listen\n\nCurrently sbus.listen is implemented inside sbus c library, which\nmakes it difficult to set Timeout for that listeninin at python layer\nas we can not use eventlet.Timeout for IO operations inside c library.\n\nThis patch implaments timeout inside c library and provide an interface\nto configure timeout value from python, so that we can set Timeout\nat python layer.\n\nCloses-bug: #1615927\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 17, 'created': '2019-11-11 04:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/e93dd15e1413b31e9e878c778d2a04d7a563617a', 'message': 'Implement timeout in sbus.listen\n\nCurrently sbus.listen is implemented inside sbus c library, which\nmakes it difficult to set Timeout for that listeninin at python layer\nas we can not use eventlet.Timeout for IO operations inside c library.\n\nThis patch implaments timeout inside c library and provide an interface\nto configure timeout value from python, so that we can set Timeout\nat python layer.\n\nCloses-bug: #1615927\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 18, 'created': '2019-11-11 05:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/45194bcdd9f4e29048bcd07178a00e186f4ec537', 'message': 'Stop unactive storlet processes automatically\n\nThis patch implaments timeout on sbus.listen method, and makes\nstorlet daemon factories and storlet daemons which is not active\nfor long time automatically go down.\n\nCloses-bug: #1615927\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 19, 'created': '2019-11-11 05:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/186dea202f1894b076fa47baab60e5ee8c1b62e0', 'message': 'Stop Inactive storlet processes automatically\n\nThis patch implaments timeout on sbus.listen method, and makes\nstorlet daemon factories and storlet daemons which is not active\nfor long time automatically go down.\n\nCloses-bug: #1615927\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 20, 'created': '2019-11-11 05:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/61136f3496f23ca4e2a7063914e7297fe830937d', 'message': 'Stop Inactive storlet processes automatically\n\nThis patch implements timeout on sbus.listen method, and makes\nstorlet daemon factories and storlet daemons which are not active\nfor long time automatically go down.\n\nCloses-bug: #1615927\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 21, 'created': '2019-12-23 13:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/57c27230e0d873d077ed78ba6173498dd35215d6', 'message': 'Stop Inactive storlet processes automatically\n\nThis patch implements timeout on sbus.listen method, and makes\nstorlet daemon factories and storlet daemons which are not active\nfor long time automatically go down.\n\nCloses-bug: #1615927\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 22, 'created': '2021-01-03 03:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/a3aaf3ec55bda72240677b436e3a14a24557bb42', 'message': 'Stop Inactive storlet processes automatically\n\nThis patch implements timeout on sbus.listen method, and makes\nstorlet daemon factories and storlet daemons which are not active\nfor long time automatically go down.\n\nCloses-bug: #1615927\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 23, 'created': '2021-04-01 00:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/3439c13bd9262964698da435f860d76f409b2118', 'message': 'Stop Inactive storlet processes automatically\n\nThis patch implements timeout on sbus.listen method, and makes\nstorlet daemon factories and storlet daemons which are not active\nfor long time automatically go down.\n\nCloses-bug: #1615927\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 24, 'created': '2021-08-07 14:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/dcc737a4e2d9c4569fc3cc32818cd95665252444', 'message': 'Stop Inactive storlet processes automatically\n\nThis patch implements timeout on sbus.listen method, and makes\nstorlet daemon factories and storlet daemons which are not active\nfor long time automatically go down.\n\nCloses-bug: #1615927\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 25, 'created': '2021-08-07 16:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/fc0f3375962c215e04a75e554b03c4b90227588b', 'message': 'Stop Inactive storlet processes automatically\n\nThis patch implements timeout on sbus.listen method, and makes\nstorlet daemon factories and storlet daemons which are not active\nfor long time automatically terminate.\n\nCloses-bug: #1615927\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 26, 'created': '2021-08-07 16:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/f10950e5a4e1732d8c7fcd1196ce1442e239c3a8', 'message': 'Stop Inactive storlet processes automatically\n\nThis patch implements timeout on sbus.listen method, and makes\nstorlet daemon factories and storlet daemons which are not active\nfor long time automatically terminate.\n\nCloses-bug: #1615927\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 27, 'created': '2021-08-07 16:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/ef9d2813f0bdfba565e8bbe67c5c2c1af5902779', 'message': 'Stop Inactive storlet processes automatically\n\nThis patch implements timeout on sbus.listen method, and makes\nstorlet daemon factories and storlet daemons which are not active\nfor long time automatically terminate.\n\nCloses-bug: #1615927\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 28, 'created': '2021-08-14 09:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/eddd3cb4a10177866ebf5fe3645b1d2d092d779c', 'message': 'Stop Inactive storlet processes automatically\n\nThis patch implements timeout on sbus.listen method, and makes\nstorlet daemon factories and storlet daemons which are not active\nfor long time automatically terminate.\n\nCloses-bug: #1615927\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 29, 'created': '2021-08-14 09:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/bf66f5c0deae8f39e66b97041ced307c40d48512', 'message': 'Stop Inactive storlet processes automatically\n\nThis patch implements timeout on sbus.listen method, and makes\nstorlet daemon factories and storlet daemons which are not active\nfor long time automatically terminate.\n\nCloses-bug: #1615927\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}, {'number': 30, 'created': '2021-08-19 09:17:26.000000000', 'files': ['src/c/sbus/sbus.c', 'src/java/SBus/src/main/org/openstack/storlet/sbus/SBusBackend.java', 'tests/unit/gateway/gateways/docker/test_runtime.py', 'storlets/gateway/gateways/docker/runtime.py', 'storlets/agent/common/server.py', 'src/java/SBus/SBusJNI.c', 'tests/unit/agent/daemon/test_server.py', 'src/java/SDaemon/src/main/org/openstack/storlet/daemon/SDaemon.java', 'src/java/SBus/src/main/org/openstack/storlet/sbus/SBus.java', 'src/java/SBus/src/main/org/openstack/storlet/sbus/SBusJNI.java', 'src/c/sbus/sbus.h', 'tests/unit/agent/daemon_factory/test_server.py', 'storlets/sbus/sbus.py', 'tests/unit/agent/common/test_server.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/b5678a47a9d7ae28b88154700a1996db9d858594', 'message': 'Stop Inactive storlet processes automatically\n\nThis patch implements timeout on sbus.listen method, and makes\nstorlet daemon factories and storlet daemons which are not active\nfor long time automatically terminate.\n\nCloses-bug: #1615927\nChange-Id: Ic3e502995f1a125d449fcb88613290c65183face\n'}]",13,671930,b5678a47a9d7ae28b88154700a1996db9d858594,65,4,30,9816,,,0,"Stop Inactive storlet processes automatically

This patch implements timeout on sbus.listen method, and makes
storlet daemon factories and storlet daemons which are not active
for long time automatically terminate.

Closes-bug: #1615927
Change-Id: Ic3e502995f1a125d449fcb88613290c65183face
",git fetch https://review.opendev.org/openstack/storlets refs/changes/30/671930/10 && git format-patch -1 --stdout FETCH_HEAD,"['storlets/sbus/__init__.py', 'src/java/SBus/src/main/org/openstack/storlet/sbus/SBus.java', 'src/java/SBus/src/main/org/openstack/storlet/sbus/SBusJNI.java', 'src/c/sbus/sbus.h', 'src/c/sbus/sbus.c', 'src/java/SBus/SBusJNI.c']",6,982005223522533738f71c65d30f690fac2ddedd,sigterm," jint jnBus, jint jnTimeout ) { return sbus_listen( jnBus , jnTimeout);", jint jnBus ) { return sbus_listen( jnBus );,40,21
openstack%2Fskyline-console~master~I68f58767e77c5a4749863723d3d92d2f2079d6a1,openstack/skyline-console,master,I68f58767e77c5a4749863723d3d92d2f2079d6a1,fix: Check file type when create image,MERGED,2021-08-30 04:53:21.000000000,2021-08-30 06:15:06.000000000,2021-08-30 06:15:06.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-30 04:53:21.000000000', 'files': ['src/pages/compute/containers/Image/actions/Create.jsx', 'src/locales/en.json', 'src/locales/zh.json', 'src/resources/image.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/eff7345154d812b2e072a9c1e18070c0bd235f81', 'message': 'fix: Check file type when create image\n\n1. Check file type when create image\n2. Update image format types\n\nChange-Id: I68f58767e77c5a4749863723d3d92d2f2079d6a1\n'}]",0,806532,eff7345154d812b2e072a9c1e18070c0bd235f81,6,2,1,30434,,,0,"fix: Check file type when create image

1. Check file type when create image
2. Update image format types

Change-Id: I68f58767e77c5a4749863723d3d92d2f2079d6a1
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/32/806532/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/compute/containers/Image/actions/Create.jsx', 'src/locales/en.json', 'src/locales/zh.json', 'src/resources/image.jsx']",4,eff7345154d812b2e072a9c1e18070c0bd235f81,master2,"export const imageFormatsConsole = { raw: t('RAW - Raw disk image format'), qcow2: t('QCOW2 - QEMU image format'), iso: t('ISO - Optical disc image format'), }; export const imageFormatsAdmin = { aki: t('AKI - Amazon kernel image format'), ari: t('ARI - Amazon ramdisk image format'), ami: t('AMI - Amazon server image format'), vdi: t('VDI - VirtualBox compatible image format'), vhd: t('VHD - VirtualPC compatible image format'), vmdk: t('VMDK - Hyper-V compatible image format'), }; export const imageFormats = { ...imageFormatsConsole, ...imageFormatsAdmin,","export const imageFormats = { raw: t('Raw'), qcow2: t('QCOW2 - QEMU Emulator'), iso: t('ISO - Optical Disk Image'), ova: t('OVA - Open Virtual Appliance'), vdi: t('VDI - Virtual Disk Image'), vhd: t('VHD - Virtual Hard Disk'), vmdk: t('VMDK - Virtual Machine Disk'), aki: t('AKI - Amazon Kernel Image'), ami: t('AMI - Amazon Machine Image'), ari: t('ARI - Amazon Ramdisk Image'), docker: t('Docker'), ploop: t('PLOOP - Virtuozzo/Parallels Loopback Disk'),",71,38
openstack%2Fstorlets~master~Iea1c6219d2a4f889623a3a0f36698cdb67663f55,openstack/storlets,master,Iea1c6219d2a4f889623a3a0f36698cdb67663f55,Run agent processes by the swift user,MERGED,2021-08-07 14:00:13.000000000,2021-08-30 05:54:32.000000000,2021-08-30 05:53:12.000000000,"[{'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-07 14:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/45688ac885e6726fa245c3683df680ad9c4f54bd', 'message': 'Run agent processes by the swift user\n\nCurrently agent processes inside storlet containers are started by\nthe root user and inpersonate the swift user. However this is not\nsecure and might allow unexpected usage of the root user.\n\nThis change ensures the agent processes are started  by the swift user\nso that it gets limited access from beginning.\n\nChange-Id: Iea1c6219d2a4f889623a3a0f36698cdb67663f55\n'}, {'number': 2, 'created': '2021-08-07 14:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/033e70fb18acb872c7196577921d7c931050fa3e', 'message': 'Run agent processes by the swift user\n\nCurrently agent processes inside storlet containers are started by\nthe root user and inpersonate the swift user. However this is not\nsecure and might allow unexpected usage of the root user.\n\nThis change ensures the agent processes are started  by the swift user\nso that it gets limited access from beginning.\n\nChange-Id: Iea1c6219d2a4f889623a3a0f36698cdb67663f55\n'}, {'number': 3, 'created': '2021-08-14 09:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/7bb00280c094282772ee93b5f3a7f10647fdc077', 'message': 'Run agent processes by the swift user\n\nCurrently agent processes inside storlet containers are started by\nthe root user and inpersonate the swift user. However this is not\nsecure and might allow unexpected usage of the root user.\n\nThis change ensures the agent processes are started by the swift user\nso that it gets limited access from beginning.\n\nChange-Id: Iea1c6219d2a4f889623a3a0f36698cdb67663f55\n'}, {'number': 4, 'created': '2021-08-14 09:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/92f92eb8f5b86ca3457f21be2eddaa5d0253db1a', 'message': 'Run agent processes by the swift user\n\nCurrently agent processes inside storlet containers are started by\nthe root user and inpersonate the swift user. However this is not\nsecure and might allow unexpected usage of the root user.\n\nThis change ensures the agent processes are started by the swift user\nso that it gets limited access from beginning.\n\nChange-Id: Iea1c6219d2a4f889623a3a0f36698cdb67663f55\n'}, {'number': 5, 'created': '2021-08-19 09:17:18.000000000', 'files': ['storlets/agent/daemon/server.py', 'storlets/agent/daemon_factory/server.py', 'storlets/gateway/gateways/docker/runtime.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/d0f5560488d79defb9706d619095a6509fbb4b81', 'message': 'Run agent processes by the swift user\n\nCurrently agent processes inside storlet containers are started by\nthe root user and inpersonate the swift user. However this is not\nsecure and might allow unexpected usage of the root user.\n\nThis change ensures the agent processes are started by the swift user\nso that it gets limited access from beginning.\n\nChange-Id: Iea1c6219d2a4f889623a3a0f36698cdb67663f55\n'}]",2,803827,d0f5560488d79defb9706d619095a6509fbb4b81,18,2,5,9816,,,0,"Run agent processes by the swift user

Currently agent processes inside storlet containers are started by
the root user and inpersonate the swift user. However this is not
secure and might allow unexpected usage of the root user.

This change ensures the agent processes are started by the swift user
so that it gets limited access from beginning.

Change-Id: Iea1c6219d2a4f889623a3a0f36698cdb67663f55
",git fetch https://review.opendev.org/openstack/storlets refs/changes/27/803827/4 && git format-patch -1 --stdout FETCH_HEAD,"['storlets/agent/daemon/server.py', 'storlets/agent/daemon_factory/server.py', 'storlets/gateway/gateways/docker/runtime.py']",3,45688ac885e6726fa245c3683df680ad9c4f54bd,docker-nosuid," network_disabled=True, mounts=mounts, user='swift')"," network_disabled=True, mounts=mounts)",1,12
openstack%2Fstorlets~master~I8103d4d826f5121e16f67f1ff49102ceecaf8a80,openstack/storlets,master,I8103d4d826f5121e16f67f1ff49102ceecaf8a80,Get rid of SUID binary to restart docker containers,MERGED,2020-09-06 15:49:29.000000000,2021-08-30 05:52:45.000000000,2021-08-30 05:51:10.000000000,"[{'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-06 15:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/fb195dff7290220a723a9cf9f7ba3f2005d55c7f', 'message': 'Remove SUID flag from restart_docker_container\n\nThis patch makes swift user belong to docker group, so that the user\ncan operate docker commands without sudo.\nThis allows us to remove SUID flag from restart_docker_container script\nso that we can reimplement the binary by python.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 2, 'created': '2020-09-06 16:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/82e487854e90b0154f2a06280f5ee9d26b561adb', 'message': 'Remove SUID flag from restart_docker_container\n\nThis patch makes swift user belong to docker group, so that the user\ncan operate docker commands without sudo.\nThis allows us to remove SUID flag from restart_docker_container script\nso that we can reimplement the binary by python.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 3, 'created': '2020-09-06 17:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/5966f9d84694850b798a97a7f67c60a429e84fad', 'message': 'Remove SUID flag from restart_docker_container\n\nThis patch makes swift user belong to docker group, so that the user\ncan operate docker commands without sudo.\nThis allows us to remove SUID flag from restart_docker_container script\nso that we can reimplement the binary by python.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 4, 'created': '2020-09-06 23:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/048f094de3bc2f20f509616446db098ee4755aac', 'message': 'Remove SUID flag from restart_docker_container\n\nThis patch makes swift user belong to docker group, so that the user\ncan operate docker commands without sudo.\nThis allows us to remove SUID flag from restart_docker_container script\nso that we can reimplement the binary by python.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 5, 'created': '2020-09-07 02:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/165e4aae6c2e3df4c8b218d989bdaa2a85ef1b27', 'message': 'Remove SUID flag from restart_docker_container\n\nThis patch makes swift user belong to docker group, so that the user\ncan operate docker commands without sudo.\nThis allows us to remove SUID flag from restart_docker_container script\nso that we can reimplement the binary by python.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 6, 'created': '2020-09-07 05:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/2ca561cd371c601cac0542a976ceeccb424c6675', 'message': 'Remove SUID flag from restart_docker_container\n\nThis patch makes swift user belong to docker group, so that the user\ncan operate docker commands without sudo.\nThis allows us to remove SUID flag from restart_docker_container script\nso that we can reimplement the binary by python.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 7, 'created': '2020-09-07 05:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/ef10d9fa5905948825385aaec93aa1ff62f9f00e', 'message': 'Remove SUID flag from restart_docker_container\n\nThis patch makes swift user belong to docker group, so that the user\ncan operate docker commands without sudo.\nThis allows us to remove SUID flag from restart_docker_container script\nso that we can reimplement the binary by python.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 8, 'created': '2020-09-07 13:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/93a6864fbff21739d9aeb808dbddb24285b591a5', 'message': 'Remove SUID flag from restart_docker_container\n\nThis patch makes swift user belong to docker group, so that the user\ncan operate docker commands without sudo.\nThis allows us to remove SUID flag from restart_docker_container script\nso that we can reimplement the binary by python.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 9, 'created': '2020-09-07 14:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/a6faf27ff09fb6c781659451ee3026329ee52ec5', 'message': 'Remove SUID flag from restart_docker_container\n\nThis patch makes swift user belong to docker group, so that the user\ncan operate docker commands without sudo.\nThis allows us to remove SUID flag from restart_docker_container script\nso that we can reimplement the binary by python.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 10, 'created': '2020-09-07 22:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/c7e2a987808ee6b5f9428adc2c09a0ff6cf5270c', 'message': 'Remove SUID flag from restart_docker_container\n\nThis patch makes swift user belong to docker group, so that the user\ncan operate docker commands without sudo.\nThis allows us to remove SUID flag from restart_docker_container script\nso that we can reimplement the binary by python.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 11, 'created': '2020-09-07 23:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/8e0075daf540f5481aa5a4cc0c96499bc7d8448c', 'message': 'Remove SUID flag from restart_docker_container\n\nThis patch makes swift user belong to docker group, so that the user\ncan operate docker commands without sudo.\nThis allows us to remove SUID flag from restart_docker_container script\nso that we can reimplement the binary by python.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 12, 'created': '2020-09-08 00:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/8ed94a646ca8dc978e3b1752c9ac0172c69db48b', 'message': 'Remove SUID flag from restart_docker_container\n\nThis patch makes swift user belong to docker group, so that the user\ncan operate docker commands without sudo.\nThis allows us to remove SUID flag from restart_docker_container script\nso that we can reimplement the binary by python.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 13, 'created': '2020-09-08 03:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/4a8439aa58de69285c98dc5bf887ab2f6d581c15', 'message': 'Remove SUID flag from restart_docker_container\n\nThis patch makes swift user belong to docker group, so that the user\ncan operate docker commands without sudo.\nThis allows us to remove SUID flag from restart_docker_container script\nso that we can reimplement the binary by python.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 14, 'created': '2020-09-08 04:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/ee415273fbadbbc032b81f4abf406cbfc8a0a911', 'message': 'Remove SUID flag from restart_docker_container\n\nThis patch makes swift user belong to docker group, so that the user\ncan operate docker commands without sudo.\nThis allows us to remove SUID flag from restart_docker_container script\nso that we can reimplement the binary by python.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 15, 'created': '2020-09-08 10:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/5ca5e451df5bdda468bf6c28ac9ded844ace0b49', 'message': 'Remove SUID flag from restart_docker_container\n\nThis patch makes swift user belong to docker group, so that the user\ncan operate docker commands without sudo.\nThis allows us to remove SUID flag from restart_docker_container script\nso that we can reimplement the binary by python.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 16, 'created': '2020-09-08 10:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/10f6b5d87d9d093087d5a3cb2a42988f62b899ac', 'message': 'Get rid of SUID binary to restart docker containers\n\nThis patch removes a script with SUID flag,restart_docker_container,\nwhich was used to restart docker containers and replaces it by\nnative python implementation. The aim of this replacmenet is to reduce\nthe security risk caused by SUID binaries, as well as to implement\nmore features and unit test coverages easily.\n\nTo allow swift user to manage docker conainers, now it is required\nthat swift user belong to docker group and have access to docker\nunix domain socket.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 17, 'created': '2020-09-08 10:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/71b506d4738d3f1776fa9139d65822cb72773814', 'message': 'Get rid of SUID binary to restart docker containers\n\nThis patch removes a script with SUID flag,restart_docker_container,\nwhich was used to restart docker containers and replaces it by\nnative python implementation. The aim of this replacmenet is to reduce\nthe security risk caused by SUID binaries, as well as to implement\nmore features and unit test coverages easily.\n\nTo allow swift user to manage docker conainers, now it is required\nthat swift user belong to docker group and have access to docker\nunix domain socket.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 18, 'created': '2020-09-08 10:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/c058f17311aff883374d7043ec603ef1eca631f3', 'message': 'Get rid of SUID binary to restart docker containers\n\nThis patch removes a script with SUID flag,restart_docker_container,\nwhich was used to restart docker containers and replaces it by\nnative python implementation. The aim of this replacmenet is to reduce\nthe security risk caused by SUID binaries, as well as to implement\nmore features and unit test coverages easily.\n\nTo allow swift user to manage docker conainers, now it is required\nthat swift user belong to docker group and have access to docker\nunix domain socket.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 19, 'created': '2020-09-08 11:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/958b04c9a3ff05c2350501337bb7f3a6e497d944', 'message': 'Get rid of SUID binary to restart docker containers\n\nThis patch removes a script with SUID flag,restart_docker_container,\nwhich was used to restart docker containers and replaces it by\nnative python implementation. The aim of this replacmenet is to reduce\nthe security risk caused by SUID binaries, as well as to implement\nmore features and unit test coverages easily.\n\nTo allow swift user to manage docker conainers, now it is required\nthat swift user belong to docker group and have access to docker\nunix domain socket.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 20, 'created': '2020-09-08 11:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/6a0f653522bdaf5a97086a1345031893c21d80d5', 'message': 'Get rid of SUID binary to restart docker containers\n\nThis patch removes a script with SUID flag,restart_docker_container,\nwhich was used to restart docker containers and replaces it by\nnative python implementation. The aim of this replacmenet is to reduce\nthe security risk caused by SUID binaries, as well as to implement\nmore features and unit test coverages easily.\n\nTo allow swift user to manage docker conainers, now it is required\nthat swift user belong to docker group and have access to docker\nunix domain socket.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 21, 'created': '2020-09-08 11:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/1d48ac0440b98e9ec25da7a8f7fa99550d4a510b', 'message': 'Get rid of SUID binary to restart docker containers\n\nThis patch removes a script with SUID flag,restart_docker_container,\nwhich was used to restart docker containers and replaces it by\nnative python implementation. The aim of this replacmenet is to reduce\nthe security risk caused by SUID binaries, as well as to implement\nmore features and unit test coverages easily.\n\nTo allow swift user to manage docker conainers, now it is required\nthat swift user belong to docker group and have access to docker\nunix domain socket.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 22, 'created': '2020-09-08 12:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/c9ed2c53487ae647e4dbf4e58c66a8f43007bc7c', 'message': 'Get rid of SUID binary to restart docker containers\n\nThis patch removes a script with SUID flag,restart_docker_container,\nwhich was used to restart docker containers and replaces it by\nnative python implementation. The aim of this replacmenet is to reduce\nthe security risk caused by SUID binaries, as well as to implement\nmore features and unit test coverages easily.\n\nTo allow swift user to manage docker conainers, now it is required\nthat swift user belong to docker group and have access to docker\nunix domain socket.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 23, 'created': '2020-09-08 14:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/a06496889a2a5ed2ccb768fda54dd6751df53733', 'message': 'Get rid of SUID binary to restart docker containers\n\nThis patch removes a script with SUID flag,restart_docker_container,\nwhich was used to restart docker containers and replaces it by\nnative python implementation. The aim of this replacmenet is to reduce\nthe security risk caused by SUID binaries, as well as to implement\nmore features and unit test coverages easily.\n\nTo allow swift user to manage docker conainers, now it is required\nthat swift user belong to docker group and have access to docker\nunix domain socket.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 24, 'created': '2020-09-08 14:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/5d19626d2aba2be39b114b56297965ffa2a775db', 'message': 'Get rid of SUID binary to restart docker containers\n\nThis patch removes a script with SUID flag,restart_docker_container,\nwhich was used to restart docker containers and replaces it by\nnative python implementation. The aim of this replacmenet is to reduce\nthe security risk caused by SUID binaries, as well as to implement\nmore features and unit test coverages easily.\n\nTo allow swift user to manage docker conainers, now it is required\nthat swift user belong to docker group and have access to docker\nunix domain socket.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 25, 'created': '2020-09-08 14:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/88eea1ad776d3ec305e691e2e648ee6e5f9b1fb5', 'message': 'Get rid of SUID binary to restart docker containers\n\nThis patch removes a script with SUID flag,restart_docker_container,\nwhich was used to restart docker containers and replaces it by\nnative python implementation. The aim of this replacmenet is to reduce\nthe security risk caused by SUID binaries, as well as to implement\nmore features and unit test coverages easily.\n\nTo allow swift user to manage docker conainers, now it is required\nthat swift user belong to docker group and have access to docker\nunix domain socket.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 26, 'created': '2020-09-08 15:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/d9a985709a0a55596c03c5bd1e49b07bedc1a603', 'message': 'Get rid of SUID binary to restart docker containers\n\nThis patch removes a script with SUID flag,restart_docker_container,\nwhich was used to restart docker containers and replaces it by\nnative python implementation. The aim of this replacmenet is to reduce\nthe security risk caused by SUID binaries, as well as to implement\nmore features and unit test coverages easily.\n\nTo allow swift user to manage docker conainers, now it is required\nthat swift user belong to docker group and have access to docker\nunix domain socket.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 27, 'created': '2020-09-08 23:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/0cb96658035a4dff0143da0dbf2c337405e34507', 'message': 'Get rid of SUID binary to restart docker containers\n\nThis patch removes a script with SUID flag,restart_docker_container,\nwhich was used to restart docker containers and replaces it by\nnative python implementation. The aim of this replacmenet is to reduce\nthe security risk caused by SUID binaries, as well as to implement\nmore features and unit test coverages easily.\n\nTo allow swift user to manage docker conainers, now it is required\nthat swift user belong to docker group and have access to docker\nunix domain socket.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 28, 'created': '2020-09-09 14:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/461a839e230c64b53156b8961918c6b24b4e9e4b', 'message': 'Get rid of SUID binary to restart docker containers\n\nThis patch removes a script with SUID flag,restart_docker_container,\nwhich was used to restart docker containers and replaces it by\nnative python implementation. The aim of this replacmenet is to reduce\nthe security risk caused by SUID binaries, as well as to implement\nmore features and unit test coverages easily.\n\nTo allow swift user to manage docker conainers, now it is required\nthat swift user belong to docker group and have access to docker\nunix domain socket.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 29, 'created': '2020-09-22 23:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/d9318d8b0b02bf1353893b608bc3b0e5e6e5aa31', 'message': 'Get rid of SUID binary to restart docker containers\n\nThis patch removes a script with SUID flag,restart_docker_container,\nwhich was used to restart docker containers and replaces it by\nnative python implementation. The aim of this replacmenet is to reduce\nthe security risk caused by SUID binaries, as well as to implement\nmore features and unit test coverages easily.\n\nTo allow swift user to manage docker conainers, now it is required\nthat swift user belong to docker group and have access to docker\nunix domain socket.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 30, 'created': '2021-01-03 03:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/ce0b84b34b155c91ba619e61ffef641135b857dd', 'message': 'Get rid of SUID binary to restart docker containers\n\nThis patch removes a script with SUID flag,restart_docker_container,\nwhich was used to restart docker containers and replaces it by\nnative python implementation. The aim of this replacmenet is to reduce\nthe security risk caused by SUID binaries, as well as to implement\nmore features and unit test coverages easily.\n\nTo allow swift user to manage docker conainers, now it is required\nthat swift user belong to docker group and have access to docker\nunix domain socket.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 31, 'created': '2021-03-31 07:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/d1990c6f9ba46121d718c878ea1412fa6cd70151', 'message': 'Get rid of SUID binary to restart docker containers\n\nThis patch removes a script with SUID flag,restart_docker_container,\nwhich was used to restart docker containers and replaces it by\nnative python implementation. The aim of this replacmenet is to reduce\nthe security risk caused by SUID binaries, as well as to implement\nmore features and unit test coverages easily.\n\nTo allow swift user to manage docker conainers, now it is required\nthat swift user belong to docker group and have access to docker\nunix domain socket.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 32, 'created': '2021-08-07 13:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/ba76180fc24b226b2c789df14813ce616a41414e', 'message': 'Get rid of SUID binary to restart docker containers\n\nThis patch removes a script with SUID flag,restart_docker_container,\nwhich was used to restart docker containers and replaces it by\nnative python implementation. The aim of this replacmenet is to reduce\nthe security risk caused by SUID binaries, as well as to implement\nmore features and unit test coverages easily.\n\nTo allow swift user to manage docker conainers, now it is required\nthat swift user belong to docker group and have access to docker\nunix domain socket.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 33, 'created': '2021-08-07 13:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/3100965e1fd15ee435c4f0e301bf46f08df83452', 'message': 'Get rid of SUID binary to restart docker containers\n\nThis patch removes a script with SUID flag,restart_docker_container,\nwhich was used to restart docker containers and replaces it by\nnative python implementation. The aim of this replacmenet is to reduce\nthe security risk caused by SUID binaries, as well as to implement\nmore features and unit test coverages easily.\n\nTo allow swift user to manage docker conainers, now it is required\nthat swift user belong to docker group and have access to docker\nunix domain socket.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 34, 'created': '2021-08-07 14:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/5c45dacbb5bd7175b1eed5b48e9ede8b55c9bb39', 'message': 'Get rid of SUID binary to restart docker containers\n\nThis patch removes a script with SUID flag,restart_docker_container,\nwhich was used to restart docker containers and replaces it by\nnative python implementation. The aim of this replacmenet is to reduce\nthe security risk caused by SUID binaries, as well as to implement\nmore features and unit test coverages easily.\n\nTo allow swift user to manage docker conainers, now it is required\nthat swift user belong to docker group and have access to docker\nunix domain socket.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 35, 'created': '2021-08-14 09:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/85051238fffea68a7bc07f7b9e71b4257dd60713', 'message': 'Get rid of SUID binary to restart docker containers\n\nThis patch removes a script with SUID flag,restart_docker_container,\nwhich was used to restart docker containers and replaces it by\nnative python implementation. The aim of this replacmenet is to reduce\nthe security risk caused by SUID binaries, as well as to implement\nmore features and unit test coverages easily.\n\nTo allow swift user to manage docker conainers, now it is required\nthat swift user belong to docker group and have access to docker\nunix domain socket.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}, {'number': 36, 'created': '2021-08-19 09:17:07.000000000', 'files': ['requirements.txt', '.gitignore', 'doc/source/engine_dev_installation.rst', 's2aio.sh', 'scripts/Makefile', 'devstack/plugin.sh', 'tests/unit/gateway/gateways/docker/test_runtime.py', 'storlets/gateway/gateways/docker/runtime.py', 'scripts/restart_docker_container.c', 'install_libs.sh'], 'web_link': 'https://opendev.org/openstack/storlets/commit/d60176cc2f7286257ab8d2187329943efec09bb7', 'message': 'Get rid of SUID binary to restart docker containers\n\nThis patch removes a script with SUID flag,restart_docker_container,\nwhich was used to restart docker containers and replaces it by\nnative python implementation. The aim of this replacmenet is to reduce\nthe security risk caused by SUID binaries, as well as to implement\nmore features and unit test coverages easily.\n\nTo allow swift user to manage docker conainers, now it is required\nthat swift user belong to docker group and have access to docker\nunix domain socket.\n\nChange-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80\n'}]",13,750104,d60176cc2f7286257ab8d2187329943efec09bb7,71,2,36,9816,,,0,"Get rid of SUID binary to restart docker containers

This patch removes a script with SUID flag,restart_docker_container,
which was used to restart docker containers and replaces it by
native python implementation. The aim of this replacmenet is to reduce
the security risk caused by SUID binaries, as well as to implement
more features and unit test coverages easily.

To allow swift user to manage docker conainers, now it is required
that swift user belong to docker group and have access to docker
unix domain socket.

Change-Id: I8103d4d826f5121e16f67f1ff49102ceecaf8a80
",git fetch https://review.opendev.org/openstack/storlets refs/changes/04/750104/25 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/engine_dev_installation.rst', 'devstack/plugin.sh']",2,fb195dff7290220a723a9cf9f7ba3f2005d55c7f,docker-nosuid," # Add swift user to docker group so that the user can manage docker # containers without sudo add_user_to_group $STORLETS_SWIFT_RUNTIME_USER docker # Reload user/group relationship exec su -l $USER sudo docker pull $STORLETS_DOCKER_BASE_IMG sudo docker build -q -t ${STORLETS_DOCKER_BASE_IMG_NAME}_jre11 . sudo docker build -q -t ${STORLETS_DOCKER_BASE_IMG_NAME}_jre11_storlets . sudo chmod 0755 ""$STORLETS_DOCKER_DEVICE""/scripts/restart_docker_container sudo docker build -q -t ${SWIFT_DEFAULT_PROJECT_ID:0:13} ."," DOCKER_UNIX_SOCKET=/var/run/docker.sock DOCKER_SERVICE_TIMEOUT=5 install_package socat sudo killall docker || true # systemd env doesn't require /etc/default/docker options if [[ ! -e /etc/default/docker ]]; then sudo touch /etc/default/docker sudo ls /lib/systemd/system sudo sed -i '0,/[service]/a EnvironmentFile=-/etc/default/docker' /lib/systemd/system/docker.service sudo cat /lib/systemd/system/docker.service fi sudo cat /etc/default/docker sudo sed -r 's#^.*DOCKER_OPTS=.*$#DOCKER_OPTS=""--debug -g /home/docker_device/docker --storage-opt dm.override_udev_sync_check=true""#' /etc/default/docker echo ""Waiting for docker daemon to start..."" DOCKER_GROUP=$(groups | cut -d' ' -f1) CONFIGURE_CMD=""while ! /bin/echo -e 'GET /version HTTP/1.0\n\n' | socat - unix-connect:$DOCKER_UNIX_SOCKET 2>/dev/null | grep -q '200 OK'; do # Set the right group on docker unix socket before retrying sudo chgrp $DOCKER_GROUP $DOCKER_UNIX_SOCKET sudo chmod g+rw $DOCKER_UNIX_SOCKET sleep 1 done"" if ! timeout $DOCKER_SERVICE_TIMEOUT sh -c ""$CONFIGURE_CMD""; then die $LINENO ""docker did not start"" fi sudo mkdir -p ""$STORLETS_DOCKER_DEVICE""/docker sudo chmod 777 $STORLETS_DOCKER_DEVICE docker pull $STORLETS_DOCKER_BASE_IMG docker build -q -t ${STORLETS_DOCKER_BASE_IMG_NAME}_jre11 . docker build -q -t ${STORLETS_DOCKER_BASE_IMG_NAME}_jre11_storlets . sudo chmod 04755 ""$STORLETS_DOCKER_DEVICE""/scripts/restart_docker_container docker build -q -t ${SWIFT_DEFAULT_PROJECT_ID:0:13} . sudo sed -r 's#^.*DOCKER_OPTS=.*$#DOCKER_OPTS=""--debug --storage-opt dm.override_udev_sync_check=true""#' /etc/default/docker",20,35
openstack%2Fskyline-console~master~I42371374d1e7d70d6b6b81fbf451603138ed0b24,openstack/skyline-console,master,I42371374d1e7d70d6b6b81fbf451603138ed0b24,fix: Fix create instance error hint,MERGED,2021-08-30 03:54:02.000000000,2021-08-30 04:45:21.000000000,2021-08-30 04:45:21.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-30 03:54:02.000000000', 'files': ['src/pages/compute/containers/Instance/actions/CreateIronic/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/53f398b8c66cc71a5105bc0ca499fa2286e45425', 'message': 'fix: Fix create instance error hint\n\n1. Fix create instance error hint\n2. Fix create ironic error hint\n\nChange-Id: I42371374d1e7d70d6b6b81fbf451603138ed0b24\n'}]",0,806530,53f398b8c66cc71a5105bc0ca499fa2286e45425,6,2,1,30434,,,0,"fix: Fix create instance error hint

1. Fix create instance error hint
2. Fix create ironic error hint

Change-Id: I42371374d1e7d70d6b6b81fbf451603138ed0b24
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/30/806530/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/compute/containers/Instance/actions/CreateIronic/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/index.jsx']",2,53f398b8c66cc71a5105bc0ca499fa2286e45425,master2," const { response: { data: responseData } = {} } = err; const { forbidden: { message = '' } = {} } = responseData || {}; Notify.errorWithDetail(responseData, this.errorText);"," const { data: { forbidden: { message = '' } = {} } = {} } = err; Notify.errorWithDetail(err, this.errorText);",28,2
openstack%2Fzun~master~Ia764e907ad2ab4310f410deb1e3b5ccfb27029f8,openstack/zun,master,Ia764e907ad2ab4310f410deb1e3b5ccfb27029f8,Dropping lower constraints testing,NEW,2021-05-03 01:06:06.000000000,2021-08-30 04:42:31.000000000,,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-03 01:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/dd94f9d045fb7377b4fea84d0f57f07f930308c2', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Ia764e907ad2ab4310f410deb1e3b5ccfb27029f8\n'}, {'number': 2, 'created': '2021-08-30 01:59:04.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/zun/commit/69ac1c627355056209065f7eae8ce2df446598eb', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Ia764e907ad2ab4310f410deb1e3b5ccfb27029f8\n'}]",0,789107,69ac1c627355056209065f7eae8ce2df446598eb,8,2,2,30384,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Ia764e907ad2ab4310f410deb1e3b5ccfb27029f8
",git fetch https://review.opendev.org/openstack/zun refs/changes/07/789107/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,dd94f9d045fb7377b4fea84d0f57f07f930308c2,,,[testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,0,176
openstack%2Fpython-zunclient~master~Ie51fffd8c88b219cd84867d7b827adab5995506d,openstack/python-zunclient,master,Ie51fffd8c88b219cd84867d7b827adab5995506d,Uncap PrettyTable,MERGED,2021-08-27 09:36:02.000000000,2021-08-30 03:58:06.000000000,2021-08-30 03:56:30.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-27 09:36:02.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/7ca6a6b1306eb7c230250aef3f6c3568b578f21b', 'message': 'Uncap PrettyTable\n\nThis is now maintained as a Jazzband project [1].\n\n[1] https://github.com/jazzband/prettytable\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ie51fffd8c88b219cd84867d7b827adab5995506d\n'}]",0,806338,7ca6a6b1306eb7c230250aef3f6c3568b578f21b,11,2,1,15334,,,0,"Uncap PrettyTable

This is now maintained as a Jazzband project [1].

[1] https://github.com/jazzband/prettytable

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Ie51fffd8c88b219cd84867d7b827adab5995506d
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/38/806338/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,7ca6a6b1306eb7c230250aef3f6c3568b578f21b,prettytable,PrettyTable>=0.7.1 # BSD,"PrettyTable<0.8,>=0.7.1 # BSD",1,1
openstack%2Fskyline-console~master~I021fee23980e203be68252246d5eb1b5418774fc,openstack/skyline-console,master,I021fee23980e203be68252246d5eb1b5418774fc,fix: Support cancel upload && show progress,MERGED,2021-08-30 02:40:18.000000000,2021-08-30 03:35:06.000000000,2021-08-30 03:35:06.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-30 02:40:18.000000000', 'files': ['src/pages/compute/containers/Image/actions/Create.jsx', 'src/components/Tables/Base/index.jsx', 'src/locales/en.json', 'src/locales/zh.json', 'src/components/Form/index.less', 'src/components/Tables/Base/ActionButton/index.jsx', 'src/components/FormItem/Upload/index.jsx', 'src/components/Form/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/1b122869f7eb26ecf768967235b0ed32ed13ba9a', 'message': 'fix: Support cancel upload && show progress\n\n1. Support cancel upload file\n3. Show upload progress when upload image\n4. Fix delete file after select file\n\nChange-Id: I021fee23980e203be68252246d5eb1b5418774fc\n'}]",0,806505,1b122869f7eb26ecf768967235b0ed32ed13ba9a,6,2,1,30434,,,0,"fix: Support cancel upload && show progress

1. Support cancel upload file
3. Show upload progress when upload image
4. Fix delete file after select file

Change-Id: I021fee23980e203be68252246d5eb1b5418774fc
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/05/806505/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/compute/containers/Image/actions/Create.jsx', 'src/components/Tables/Base/index.jsx', 'src/locales/en.json', 'src/components/Form/index.less', 'src/locales/zh.json', 'src/components/Tables/Base/ActionButton/index.jsx', 'src/components/FormItem/Upload/index.jsx', 'src/components/Form/index.jsx']",8,1b122869f7eb26ecf768967235b0ed32ed13ba9a,master2,"import { Row, Col, Form, Button, Spin, Progress } from 'antd';import { CancelToken } from 'axios'; percent: '', this.cancel = null; this.cancelToken = this.hasRequestCancelCallback ? new CancelToken((c) => { this.cancel = c; }) : null; get hasRequestCancelCallback() { return false; } onCancel = () => { if (this.isSubmitting && this.cancel) { this.cancel(); Notify.success(t('Cancel upload successfully.')); } }; this.onCancel(); if (this.listUrl) { this.routing.push(this.listUrl); } onUploadProgress = (progressEvent) => { const { loaded, total } = progressEvent; const percent = Math.floor((loaded / total) * 100); this.setState({ percent, }); }; getUploadRequestConf = () => { return { onUploadProgress: this.onUploadProgress, canToken: this.cancelToken, }; }; checkContextValue() { const { context } = this.props; const names = this.nameForStateUpdate; if (isEmpty(context)) { return false; } const item = names.find((name) => has(context, name)); return !!item; } renderSubmittingTip() { if (!this.hasRequestCancelCallback) { return; } const { percent } = this.state; return ( <div className={styles['submit-tip']}> {t('Upload progress')} <div className={styles['progress-wrapper']}> <Progress percent={percent} size=""small"" /> </div> </div> ); } <Spin spinning={this.isSubmitting} tip={this.renderSubmittingTip()}>","import { Row, Col, Form, Button, Spin } from 'antd'; onCancel = () => {}; this.routing.push(this.listUrl); checkContextValue() { const { context } = this.props; const names = this.nameForStateUpdate; if (isEmpty(context)) { return false; } const item = names.find((name) => has(context, name)); return !!item; } <Spin spinning={this.isSubmitting}>",111,35
openstack%2Fzun-tempest-plugin~master~I219042307bea53ae56515c95b380b4c4cfb03c4d,openstack/zun-tempest-plugin,master,I219042307bea53ae56515c95b380b4c4cfb03c4d,Temporarily disable capsule tests,MERGED,2021-08-29 08:29:45.000000000,2021-08-30 02:56:21.000000000,2021-08-30 02:55:00.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-29 08:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/5519dd5904bfbd3a83f4b423c988383afaa51514', 'message': 'Temporarily disable capsule tests\n\nRelated-Bug: #1941982\nChange-Id: I219042307bea53ae56515c95b380b4c4cfb03c4d\n'}, {'number': 2, 'created': '2021-08-29 09:19:40.000000000', 'files': ['zun_tempest_plugin/tests/tempest/api/test_capsules.py'], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/6d2529583bc32bcb84e447d5524af1c900cc2845', 'message': 'Temporarily disable capsule tests\n\nRelated-Bug: #1941982\nChange-Id: I219042307bea53ae56515c95b380b4c4cfb03c4d\n'}]",0,806492,6d2529583bc32bcb84e447d5524af1c900cc2845,8,2,2,11536,,,0,"Temporarily disable capsule tests

Related-Bug: #1941982
Change-Id: I219042307bea53ae56515c95b380b4c4cfb03c4d
",git fetch https://review.opendev.org/openstack/zun-tempest-plugin refs/changes/92/806492/1 && git format-patch -1 --stdout FETCH_HEAD,['zun_tempest_plugin/tests/tempest/api/test_capsules.py'],1,5519dd5904bfbd3a83f4b423c988383afaa51514,bug/1941982, @testtools.skip('bug 1941982') @testtools.skip('bug 1941982') @testtools.skip('bug 1941982') @testtools.skip('bug 1941982'),,4,0
openstack%2Ftempest~master~Ia298ea58c1a045ceecf4c1da421134323956c5fe,openstack/tempest,master,Ia298ea58c1a045ceecf4c1da421134323956c5fe,Test tenants revert quotas to defaults quota values,ABANDONED,2021-08-30 02:23:58.000000000,2021-08-30 02:37:39.000000000,,[],"[{'number': 1, 'created': '2021-08-30 02:23:58.000000000', 'files': ['tempest/api/compute/test_quotas.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/44fdb0fe316aa357c203a7ddda863c8406aa3c1f', 'message': 'Test tenants revert quotas to defaults quota values\n\nChange-Id: Ia298ea58c1a045ceecf4c1da421134323956c5fe\n'}]",0,806504,44fdb0fe316aa357c203a7ddda863c8406aa3c1f,2,0,1,31280,,,0,"Test tenants revert quotas to defaults quota values

Change-Id: Ia298ea58c1a045ceecf4c1da421134323956c5fe
",git fetch https://review.opendev.org/openstack/tempest refs/changes/04/806504/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/test_quotas.py'],1,44fdb0fe316aa357c203a7ddda863c8406aa3c1f,tempest_07,"from tempest.common import identity name = data_utils.rand_name('test_project_') description = data_utils.rand_name('desc_') cls.project = identity.identity_utils(self.os_admin).create_project( name=name, description=description) cls.addCleanup(identity.identity_utils(self.os_admin).delete_project, self.project['id']) @decorators.idempotent_id('8ac5e1fc-96a4-44b7-996a-c2e43951b8d1') def test_revert_quotas_to_defaults(self): """"""Test tenants revert quotas to defaults quota values"""""" original_project_quota = (self.client.show_quota_set(self.project['id']) ['quota_set']) n1 = self.client.update_quota_set(self.project['id'], cores=10) self.assertEqual(n1[""quota_set""][""cores""], 10) project_quota = (self.client.show_quota_set(self.project['id']) ['quota_set']) self.assertEqual(project_quota[""cores""][""limit""], 10) self.client.delete_quota_set(self.project['id']) project_quota = (self.client.show_quota_set(self.project['id']) ['quota_set']) self.assertEqual(project_quota[""cores""][""limit""], original_project_quota[""cores""][""limit""])",,28,0
openstack%2Fpython-zunclient~master~I4e91df1e18b84b94a781e93f4ddc70a4f336bed5,openstack/python-zunclient,master,I4e91df1e18b84b94a781e93f4ddc70a4f336bed5,Use py3 as the default runtime for tox,MERGED,2021-04-20 07:09:01.000000000,2021-08-30 02:24:53.000000000,2021-08-30 02:23:17.000000000,"[{'_account_id': 11536}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 07:09:01.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/6b6c09e5ad6caeefdf87da141994bd5e8dc0b872', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I4e91df1e18b84b94a781e93f4ddc70a4f336bed5\n'}]",0,787123,6b6c09e5ad6caeefdf87da141994bd5e8dc0b872,12,3,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I4e91df1e18b84b94a781e93f4ddc70a4f336bed5
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/23/787123/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6b6c09e5ad6caeefdf87da141994bd5e8dc0b872,,"envlist = py3,pep8","envlist = py38,pep8",1,1
openstack%2Fdiskimage-builder~master~Ibd737f44a8d2eee1902b6c5363c61d591feb75c9,openstack/diskimage-builder,master,Ibd737f44a8d2eee1902b6c5363c61d591feb75c9,Use non-greedy modifier for SUBRELEASE grep,MERGED,2021-08-23 02:12:34.000000000,2021-08-30 02:15:46.000000000,2021-08-30 02:14:05.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 02:12:34.000000000', 'files': ['diskimage_builder/elements/fedora/root.d/10-fedora-cloud-image'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/59420be677911299c1c4036f15e22bfe10031544', 'message': 'Use non-greedy modifier for SUBRELEASE grep\n\nSome fedora mirrors are serving image icon html, and this grep is\nover-matching on those mirrors.\n\nChange-Id: Ibd737f44a8d2eee1902b6c5363c61d591feb75c9\n'}]",0,805545,59420be677911299c1c4036f15e22bfe10031544,16,2,1,4571,,,0,"Use non-greedy modifier for SUBRELEASE grep

Some fedora mirrors are serving image icon html, and this grep is
over-matching on those mirrors.

Change-Id: Ibd737f44a8d2eee1902b6c5363c61d591feb75c9
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/45/805545/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/fedora/root.d/10-fedora-cloud-image'],1,59420be677911299c1c4036f15e22bfe10031544,grubenv," SUBRELEASE=$(curl -Ls $DIB_CLOUD_IMAGES/ | grep -o -P '(?<=Fedora-Cloud-Base-'${DIB_RELEASE}'-).*?(?=.'${ARCH}'.qcow2"")' | sort -r | head -1)"," SUBRELEASE=$(curl -Ls $DIB_CLOUD_IMAGES/ | grep -o -P '(?<=Fedora-Cloud-Base-'${DIB_RELEASE}'-).*(?=.'${ARCH}'.qcow2"")' | sort -r | head -1)",1,1
openstack%2Fzun~master~Iec9d42975f19f703f4ca0427164454b7ad4d9265,openstack/zun,master,Iec9d42975f19f703f4ca0427164454b7ad4d9265,Use py3 as the default runtime for tox,NEW,2021-04-20 02:22:37.000000000,2021-08-30 02:01:19.000000000,,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 02:22:37.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/zun/commit/35066edd816af06bc983fd97f33955fa7873c4ef', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: Iec9d42975f19f703f4ca0427164454b7ad4d9265\n'}]",0,787023,35066edd816af06bc983fd97f33955fa7873c4ef,4,2,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: Iec9d42975f19f703f4ca0427164454b7ad4d9265
",git fetch https://review.opendev.org/openstack/zun refs/changes/23/787023/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,35066edd816af06bc983fd97f33955fa7873c4ef,,"envlist = py3,pep8,migration","envlist = py38,pep8,migration",1,1
openstack%2Fzun~master~I0016a6d3ec3bff5e5155deb923bf9707e7a75524,openstack/zun,master,I0016a6d3ec3bff5e5155deb923bf9707e7a75524,Unblock the gate,NEW,2021-08-29 08:20:28.000000000,2021-08-30 01:59:32.000000000,,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-29 08:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/754e2369ff5f6490d20322b81ca3558e19c036be', 'message': 'Unblock the gate\n\n* Make tempest jobs non-voting\n* Remove lower constraint jobs\n\nChange-Id: I0016a6d3ec3bff5e5155deb923bf9707e7a75524\n'}, {'number': 2, 'created': '2021-08-29 08:24:45.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/zun/commit/b94c81ae60b16f8bfb60a3a91a419d2580b63c0a', 'message': 'Unblock the gate\n\n* Make tempest jobs non-voting\n* Remove lower constraint jobs\n\nChange-Id: I0016a6d3ec3bff5e5155deb923bf9707e7a75524\n'}]",0,806491,b94c81ae60b16f8bfb60a3a91a419d2580b63c0a,5,2,2,11536,,,0,"Unblock the gate

* Make tempest jobs non-voting
* Remove lower constraint jobs

Change-Id: I0016a6d3ec3bff5e5155deb923bf9707e7a75524
",git fetch https://review.opendev.org/openstack/zun refs/changes/91/806491/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,754e2369ff5f6490d20322b81ca3558e19c036be,,,[testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,4,176
openstack%2Ftripleo-ansible~master~I1192d13178e6ebaa481eb26fe9cbef223fdbb240,openstack/tripleo-ansible,master,I1192d13178e6ebaa481eb26fe9cbef223fdbb240,Do not copy grubenv if it is a symlink,ABANDONED,2021-08-10 21:21:48.000000000,2021-08-29 23:02:21.000000000,,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-10 21:21:48.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/147624c205f9f31bd2bab34d1b6677f50dce56cf', 'message': 'Do not copy grubenv if it is a symlink\n\nDiskimage-builder built images will eventually switch[1] to\n/boot/grub2/grubenv being a symlink to the EFI grubenv file, so it is\nno longer necessary to copy it if it is a symlink.\n\nThis adds a symlink check so that both grubenv scenarios are handled.\n\n[1] https://review.opendev.org/c/openstack/diskimage-builder/+/804000\n\nChange-Id: I1192d13178e6ebaa481eb26fe9cbef223fdbb240\n'}]",0,804144,147624c205f9f31bd2bab34d1b6677f50dce56cf,6,4,1,4571,,,0,"Do not copy grubenv if it is a symlink

Diskimage-builder built images will eventually switch[1] to
/boot/grub2/grubenv being a symlink to the EFI grubenv file, so it is
no longer necessary to copy it if it is a symlink.

This adds a symlink check so that both grubenv scenarios are handled.

[1] https://review.opendev.org/c/openstack/diskimage-builder/+/804000

Change-Id: I1192d13178e6ebaa481eb26fe9cbef223fdbb240
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/44/804144/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml'],1,147624c205f9f31bd2bab34d1b6677f50dce56cf,grubenv, - name: Stat the grubenv file stat: path: /boot/grub2/grubenv register: grubenv_stat when: not grubenv_stat.stat.islnk|bool and item.stat.exists|bool, when: item.stat.exists|bool,5,3
openstack%2Fmanila-tempest-plugin~master~If525e97a5d456d6ddebb4bf9bc8ff6190c95a555,openstack/manila-tempest-plugin,master,If525e97a5d456d6ddebb4bf9bc8ff6190c95a555,Fix tests creating share without using share_size,MERGED,2021-08-20 04:40:41.000000000,2021-08-29 19:32:45.000000000,2021-08-29 19:32:45.000000000,"[{'_account_id': 13425}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 30025}]","[{'number': 1, 'created': '2021-08-20 04:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/43615af5753af499a88dc1059bc0208e3297ac01', 'message': 'WIP: Fix share group tests using CONF share_size and thin provision\n\nChange-Id: If525e97a5d456d6ddebb4bf9bc8ff6190c95a555\n'}, {'number': 2, 'created': '2021-08-23 17:56:07.000000000', 'files': ['manila_tempest_tests/tests/api/test_share_groups_negative.py', 'manila_tempest_tests/tests/api/test_share_group_actions.py', 'manila_tempest_tests/tests/api/admin/test_replication_actions.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/bef40b3f80c1fed866bebfa6b2a7dafe101d44ad', 'message': 'Fix tests creating share without using share_size\n\nSome tests from share group and replication are not creating\nshare following the `share_size` tempest CONF. This patch\nfixed them applying that configuration.\n\nChange-Id: If525e97a5d456d6ddebb4bf9bc8ff6190c95a555\n'}]",0,805330,bef40b3f80c1fed866bebfa6b2a7dafe101d44ad,14,5,2,31721,,,0,"Fix tests creating share without using share_size

Some tests from share group and replication are not creating
share following the `share_size` tempest CONF. This patch
fixed them applying that configuration.

Change-Id: If525e97a5d456d6ddebb4bf9bc8ff6190c95a555
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/30/805330/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/api/base.py', 'manila_tempest_tests/config.py', 'manila_tempest_tests/tests/api/test_share_groups_negative.py', 'manila_tempest_tests/tests/api/test_share_group_actions.py', 'manila_tempest_tests/tests/api/admin/test_replication_actions.py']",5,43615af5753af499a88dc1059bc0208e3297ac01,," share = self.create_share(size=CONF.share.share_size, share = self.create_share(size=CONF.share.share_size,"," share = self.create_share(size=2, share = self.create_share(size=2,",17,5
openstack%2Fmanila~stable%2Fwallaby~I0d301c5f527c3e16e14021b679c85bd51833a1d6,openstack/manila,stable/wallaby,I0d301c5f527c3e16e14021b679c85bd51833a1d6,Adds a clear error message to operator-set limits,MERGED,2021-07-01 00:39:25.000000000,2021-08-29 19:04:49.000000000,2021-08-29 19:03:17.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 32635}]","[{'number': 1, 'created': '2021-07-01 00:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/333be260f51c0a956a64864e103d8a15a4c140fe', 'message': 'Adds a clear error message to operator-set limits\n\nWhen an operator sets a limit that is greater than 2147483647, an\nexplicit error message ""Quota limit should not exceed 2147483647""\nis communicated. This is better than the initial error message\nwhich was ""ERROR: The server has either erred or is\nincapable of performing the requested operation. (HTTP 500).""\n\nCloses-Bug: #1908352\nChange-Id: I0d301c5f527c3e16e14021b679c85bd51833a1d6\n(cherry picked from commit daf7b3aacf1481c967db4706e7cfa7be09976c52)\n'}, {'number': 2, 'created': '2021-07-02 12:14:27.000000000', 'files': ['manila/tests/api/v2/test_quota_sets.py', 'manila/db/sqlalchemy/api.py', 'manila/db/sqlalchemy/releasenotes/notes/bug-1908352-add-explicit-error-message-c33c7b75a7e49257.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/2a6325951967c7dda52cb9c8beccd78e1cfb0605', 'message': 'Adds a clear error message to operator-set limits\n\nWhen an operator sets a limit that is greater than 2147483647, an\nexplicit error message ""Quota limit should not exceed 2147483647""\nis communicated. This is better than the initial error message\nwhich was ""ERROR: The server has either erred or is\nincapable of performing the requested operation. (HTTP 500).""\n\nCloses-Bug: #1908352\nChange-Id: I0d301c5f527c3e16e14021b679c85bd51833a1d6\n(cherry picked from commit daf7b3aacf1481c967db4706e7cfa7be09976c52)\n'}]",0,798882,2a6325951967c7dda52cb9c8beccd78e1cfb0605,26,4,2,16643,,,0,"Adds a clear error message to operator-set limits

When an operator sets a limit that is greater than 2147483647, an
explicit error message ""Quota limit should not exceed 2147483647""
is communicated. This is better than the initial error message
which was ""ERROR: The server has either erred or is
incapable of performing the requested operation. (HTTP 500).""

Closes-Bug: #1908352
Change-Id: I0d301c5f527c3e16e14021b679c85bd51833a1d6
(cherry picked from commit daf7b3aacf1481c967db4706e7cfa7be09976c52)
",git fetch https://review.opendev.org/openstack/manila refs/changes/82/798882/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/sqlalchemy/api.py', 'manila/tests/api/v2/test_quota_sets.py', 'manila/db/sqlalchemy/releasenotes/notes/bug-1908352-add-explicit-error-message-c33c7b75a7e49257.yaml']",3,333be260f51c0a956a64864e103d8a15a4c140fe,bug/1908352,"--- fixes: - | When a quota value greater than 2147483647 is set, the error message ""ERROR: Invalid input received:Quota limit should not exceed 2147483647. (HTTP 400)"" is communicated to the user. ",,38,1
openstack%2Fmanila~master~I2c4c8f1788471d51b72fa1e1e4434d3a9dba595b,openstack/manila,master,I2c4c8f1788471d51b72fa1e1e4434d3a9dba595b,Add documentation for share server limits,MERGED,2021-04-12 17:41:57.000000000,2021-08-29 19:04:38.000000000,2021-08-29 19:03:19.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-04-12 17:41:57.000000000', 'files': ['doc/source/admin/shared-file-systems-share-server-management.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/05256befb1d4b4c092f8aebc6ea458f4d39a54a0', 'message': 'Add documentation for share server limits\n\nUpdates the manila administrator reference in order to include more\ninformation for the new share server limits\n``max_share_server_size`` and ``max_shares_per_share_server``.\n\nChange-Id: I2c4c8f1788471d51b72fa1e1e4434d3a9dba595b\nCloses-Bug: #1923486\n'}]",1,785947,05256befb1d4b4c092f8aebc6ea458f4d39a54a0,12,3,1,29632,,,0,"Add documentation for share server limits

Updates the manila administrator reference in order to include more
information for the new share server limits
``max_share_server_size`` and ``max_shares_per_share_server``.

Change-Id: I2c4c8f1788471d51b72fa1e1e4434d3a9dba595b
Closes-Bug: #1923486
",git fetch https://review.opendev.org/openstack/manila refs/changes/47/785947/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/shared-file-systems-share-server-management.rst'],1,05256befb1d4b4c092f8aebc6ea458f4d39a54a0,," =========================================== Share server limits (Since Wallaby release) =========================================== Since Wallaby release, it is possible to specify limits for share servers size and amount of instances. It helps administrators to provision their resources in the cloud system and balance the share servers' size. If a value is not configured, there is no behavioral change and manila will consider it as unlimited. Then, will reuse share servers regardless their size and amount of built instances. - ``max_share_server_size``: Maximum sum of gigabytes a share server can have considering all its share instances and snapshots. - ``max_shares_per_share_server``: Maximum number of share instances created in a share server. .. note:: If one of these limits is reached during a request that requires a share server to be provided, manila will create a new share server to place such request.",,22,0
openstack%2Fmanila~master~I21633d4ffe14983365b0b6239216ed5d0bbfaace,openstack/manila,master,I21633d4ffe14983365b0b6239216ed5d0bbfaace,[NetApp] Fixed scoped account replica delete,MERGED,2021-07-12 19:45:17.000000000,2021-08-29 18:42:06.000000000,2021-08-29 18:38:42.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 33648}]","[{'number': 1, 'created': '2021-07-12 19:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/98e7e8010fd1cc53342f8890722e4882ba42909c', 'message': '[NetApp] Fixed scoped account replica delete\n\nIn the ONTAP 9.8 and older, there is a bug in the zapi call\n`snapmirror-release-iter` when using the scoped account\nconfiguration. The operation is returning success, but the release\nis not occurring.\n\nTo avoid this issue, the Netapp driver was changed to release with\nthe `snapmirror-release` zapi call, instead of the one that has a\nbug. This new zapi call requires the field `relationship-id` to be\nspecified and it is being retrieved from ONTAP before calling it.\n\nA small fix, not related to the bug, was made in the zapi call to\n`snapmirror-release-iter` because the `relationship-info-only`\nfield was in the wrong place according to the documentation.\n\nCloses-Bug: #1934889\nChange-Id: I21633d4ffe14983365b0b6239216ed5d0bbfaace\n'}, {'number': 2, 'created': '2021-08-27 19:05:10.000000000', 'files': ['manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'releasenotes/notes/bug-1934889-netapp-fix-replica-delete-for-scoped-account-8fa193c0424af9b1.yaml', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/a745e9c7c48f0bfdd830f13094f588fe085b4845', 'message': '[NetApp] Fixed scoped account replica delete\n\nIn the ONTAP 9.8 and older, there is a bug in the zapi call\n`snapmirror-release-iter` when using the scoped account\nconfiguration. The operation is returning success, but the release\nis not occurring.\n\nTo avoid this issue, the Netapp driver was changed to release with\nthe `snapmirror-release` zapi call, instead of the one that has a\nbug. This new zapi call requires the field `relationship-id` to be\nspecified and it is being retrieved from ONTAP before calling it.\n\nA small fix, not related to the bug, was made in the zapi call to\n`snapmirror-release-iter` because the `relationship-info-only`\nfield was in the wrong place according to the documentation.\n\nCloses-Bug: #1934889\nChange-Id: I21633d4ffe14983365b0b6239216ed5d0bbfaace\n'}]",5,800552,a745e9c7c48f0bfdd830f13094f588fe085b4845,28,5,2,31721,,,0,"[NetApp] Fixed scoped account replica delete

In the ONTAP 9.8 and older, there is a bug in the zapi call
`snapmirror-release-iter` when using the scoped account
configuration. The operation is returning success, but the release
is not occurring.

To avoid this issue, the Netapp driver was changed to release with
the `snapmirror-release` zapi call, instead of the one that has a
bug. This new zapi call requires the field `relationship-id` to be
specified and it is being retrieved from ONTAP before calling it.

A small fix, not related to the bug, was made in the zapi call to
`snapmirror-release-iter` because the `relationship-info-only`
field was in the wrong place according to the documentation.

Closes-Bug: #1934889
Change-Id: I21633d4ffe14983365b0b6239216ed5d0bbfaace
",git fetch https://review.opendev.org/openstack/manila refs/changes/52/800552/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'releasenotes/notes/bug-1934889-netapp-fix-replica-delete-for-scoped-account-8fa193c0424af9b1.yaml', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py']",3,98e7e8010fd1cc53342f8890722e4882ba42909c,bug/1934889," snapmirror_destinations_list = self.get_snapmirror_destinations( source_vserver=source_vserver, dest_vserver=dest_vserver, source_volume=source_volume, dest_volume=dest_volume, desired_attributes=['relationship-id']) if len(snapmirror_destinations_list) > 1: msg = (""Expected snapmirror relationship to be unique. "" ""List returned: %s."" % snapmirror_destinations_list) raise exception.NetAppException(msg) api_args = self._build_snapmirror_request( source_vserver=source_vserver, dest_vserver=dest_vserver, source_volume=source_volume, dest_volume=dest_volume) self._ensure_snapmirror_v2() api_args['relationship-info-only'] = ( 'true' if relationship_info_only else 'false') # NOTE(nahimsouza): This verification is needed because an empty list # is returned in snapmirror_destinations_list when a single share is # created with only one replica and this replica is deleted, thus there # will be no relationship-id in that case. if len(snapmirror_destinations_list) == 1: api_args['relationship-id'] = ( snapmirror_destinations_list[0]['relationship-id']) self.send_request('snapmirror-release', api_args, enable_tunneling=True) source_path=source_path, dest_path=dest_path) }, 'relationship-info-only': ( 'true' if relationship_info_only else 'false'), enable_tunneling=False)"," self._release_snapmirror(source_vserver=source_vserver, dest_vserver=dest_vserver, source_volume=source_volume, dest_volume=dest_volume, relationship_info_only=relationship_info_only) self._release_snapmirror(source_path=source_path, dest_path=dest_path, relationship_info_only=relationship_info_only, enable_tunneling=False) @na_utils.trace def _release_snapmirror(self, source_path=None, dest_path=None, source_vserver=None, dest_vserver=None, source_volume=None, dest_volume=None, relationship_info_only=False, enable_tunneling=True): """"""Removes a SnapMirror relationship on the source endpoint."""""" source_path, dest_path, source_vserver, dest_vserver, source_volume, dest_volume) dest_info['relationship-info-only'] = ( 'true' if relationship_info_only else 'false') } enable_tunneling=enable_tunneling)",83,41
openstack%2Fmanila~master~I6da36a687a37c78a7fb7d3f252318d03d4a05133,openstack/manila,master,I6da36a687a37c78a7fb7d3f252318d03d4a05133,Extend share will go through scheduler,MERGED,2019-12-23 08:36:26.000000000,2021-08-29 18:40:26.000000000,2021-08-29 18:38:39.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30407}, {'_account_id': 31828}]","[{'number': 1, 'created': '2019-12-23 08:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6a73be84daf81b05842fd60d99912d29c7268de6', 'message': 'Extend share will go through scheduler\n\nIn the process of extending share, i found extend share api use rpc\ndirect call share manager to execute extend. But if manila-share lose\nconnection to backend storage or manila-share service is down. the\nstatus of share will stuck in extending. This is an intermediate state,\nSo I don\'t think that\'s reasonable.\ni think we can use scheduler layer instead of direct call share manager,\nif allocation backend failed, the status of share will rollback to\n""available"". and user messages will record this anomaly, which will help\nuser to know why extend share not success.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 2, 'created': '2019-12-24 02:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/163a0e850ce7860e3e20d0bf0221ff36d678e772', 'message': 'Extend share will go through scheduler\n\nIn the process of extending share, i found extend share api use rpc\ndirect call share manager to execute extend. But if manila-share lose\nconnection to backend storage or manila-share service is down. the\nstatus of share will stuck in extending. This is an intermediate state,\nSo I don\'t think that\'s reasonable.\ni think we can use scheduler layer instead of direct call share manager,\nif allocation backend failed, the status of share will rollback to\n""available"". and user messages will record this anomaly, which will help\nuser to know why extend share not success.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 3, 'created': '2019-12-24 03:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b8e02ddccc89095cd952221efb65eb43975d8433', 'message': 'Extend share will go through scheduler\n\nIn the process of extending share, i found extend share api use rpc\ndirect call share manager to execute extend. But if manila-share lose\nconnection to backend storage or manila-share service is down. the\nstatus of share will stuck in extending. This is an intermediate state,\nSo I don\'t think that\'s reasonable.\ni think we can use scheduler layer instead of direct call share manager,\nif allocation backend failed, the status of share will rollback to\n""available"". and user messages will record this anomaly, which will help\nuser to know why extend share not success.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 4, 'created': '2019-12-25 02:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ce06111cc36d66152bcaaf98e489b461ff2864fb', 'message': 'Extend share will go through scheduler\n\nIn the process of extending share, i found extend share api use rpc\ndirect call share manager to execute extend. But if manila-share lose\nconnection to backend storage or manila-share service is down. the\nstatus of share will stuck in extending. This is an intermediate state,\nSo I don\'t think that\'s reasonable.\ni think we can use scheduler layer instead of direct call share manager,\nif allocation backend failed, the status of share will rollback to\n""available"". and user messages will record this anomaly, which will help\nuser to know why extend share not success.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 5, 'created': '2019-12-26 09:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/02cd72404626f3527964d798edb4366df3275f2a', 'message': 'Extend share will go through scheduler\n\nIn the process of extending share, i found extend share api use rpc\ndirect call share manager to execute extend. But if manila-share lose\nconnection to backend storage or manila-share service is down. the\nstatus of share will stuck in extending. This is an intermediate state,\nSo I don\'t think that\'s reasonable.\ni think we can use scheduler layer instead of direct call share manager,\nif allocation backend failed, the status of share will rollback to\n""available"". and user messages will record this anomaly, which will help\nuser to know why extend share not success.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 6, 'created': '2020-01-06 06:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9f2da25151f5a0cd24c57f8e5a4e3e71ffe9c03e', 'message': 'Extend share will go through scheduler\n\nIn the process of extending share, i found extend share api use rpc\ndirect call share manager to execute extend. But if manila-share lose\nconnection to backend storage or manila-share service is down. the\nstatus of share will stuck in extending. This is an intermediate state,\nSo I don\'t think that\'s reasonable.\ni think we can use scheduler layer instead of direct call share manager,\nif allocation backend failed, the status of share will rollback to\n""available"". and user messages will record this anomaly, which will help\nuser to know why extend share not success.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 7, 'created': '2020-02-17 01:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a62593b2edbb92cf9c4c2c5ec9a24df27832caf5', 'message': 'Extend share will go through scheduler\n\nIn the process of extending share, i found extend share api use rpc\ndirect call share manager to execute extend. But if manila-share lose\nconnection to backend storage or manila-share service is down. the\nstatus of share will stuck in extending. This is an intermediate state,\nSo I don\'t think that\'s reasonable.\ni think we can use scheduler layer instead of direct call share manager,\nif allocation backend failed, the status of share will rollback to\n""available"". and user messages will record this anomaly, which will help\nuser to know why extend share not success.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 8, 'created': '2020-04-23 08:03:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9e7555064d2d6e603290fba349e5dca3e9ba3346', 'message': 'Extend share will go through scheduler\n\nIn the process of extending share, i found extend share api use rpc\ndirect call share manager to execute extend. But if manila-share lose\nconnection to backend storage or manila-share service is down. the\nstatus of share will stuck in extending. This is an intermediate state,\nSo I don\'t think that\'s reasonable.\ni think we can use scheduler layer instead of direct call share manager,\nif allocation backend failed, the status of share will rollback to\n""available"". and user messages will record this anomaly, which will help\nuser to know why extend share not success.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 9, 'created': '2020-04-23 08:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2f540987c2a233c7c6b5d9450f1e44c9c32b390e', 'message': 'Extend share will go through scheduler\n\nIn the process of extending share, i found extend share api use rpc\ndirect call share manager to execute extend. But if manila-share lose\nconnection to backend storage or manila-share service is down. the\nstatus of share will stuck in extending. This is an intermediate state,\nSo I don\'t think that\'s reasonable.\ni think we can use scheduler layer instead of direct call share manager,\nif allocation backend failed, the status of share will rollback to\n""available"". and user messages will record this anomaly, which will help\nuser to know why extend share not success.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 10, 'created': '2020-04-23 11:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/456b4bbd6a0832f34deb97db9e21dad1f44427cc', 'message': 'Extend share will go through scheduler\n\nIn the process of extending share, i found extend share api use rpc\ndirect call share manager to execute extend. But if manila-share lose\nconnection to backend storage or manila-share service is down. the\nstatus of share will stuck in extending. This is an intermediate state,\nSo I don\'t think that\'s reasonable.\ni think we can use scheduler layer instead of direct call share manager,\nif allocation backend failed, the status of share will rollback to\n""available"". and user messages will record this anomaly, which will help\nuser to know why extend share not success.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 11, 'created': '2020-04-23 14:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1b25332c85ec682cc902375c5cbe39c18416a553', 'message': 'Extend share will go through scheduler\n\nIn the process of extending share, i found extend share api use rpc\ndirect call share manager to execute extend. But if manila-share lose\nconnection to backend storage or manila-share service is down. the\nstatus of share will stuck in extending. This is an intermediate state,\nSo I don\'t think that\'s reasonable.\ni think we can use scheduler layer instead of direct call share manager,\nif allocation backend failed, the status of share will rollback to\n""available"". and user messages will record this anomaly, which will help\nuser to know why extend share not success.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 12, 'created': '2020-04-24 03:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f47d36a4044fe18096c02d9ccb2289759d7a7a2d', 'message': 'Extend share will go through scheduler\n\nIn the process of extending share, i found extend share api use rpc\ndirect call share manager to execute extend. But if manila-share lose\nconnection to backend storage or manila-share service is down. the\nstatus of share will stuck in extending. This is an intermediate state,\nSo I don\'t think that\'s reasonable.\ni think we can use scheduler layer instead of direct call share manager,\nif allocation backend failed, the status of share will rollback to\n""available"". and user messages will record this anomaly, which will help\nuser to know why extend share not success.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 13, 'created': '2020-04-24 07:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5dbea7352d6a2207db811a50ffca0b0be50c9bd8', 'message': 'Extend share will go through scheduler\n\nIn the process of extending share, i found extend share api use rpc\ndirect call share manager to execute extend. But if manila-share lose\nconnection to backend storage or manila-share service is down. the\nstatus of share will stuck in extending. This is an intermediate state,\nSo I don\'t think that\'s reasonable.\ni think we can use scheduler layer instead of direct call share manager,\nif allocation backend failed, the status of share will rollback to\n""available"". and user messages will record this anomaly, which will help\nuser to know why extend share not success.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 14, 'created': '2020-11-06 07:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2b0105b84baeae39b61f9e581df8488df50908ca', 'message': 'Extend share will go through scheduler\n\nAdd an force parameter to the API layer that lets the user choose\nwhether to go through the scheduler or not, which is boolean.and\ndefault is False,set True means extend share directly, set False\nmeans extend share will go through scheduler.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 15, 'created': '2020-11-09 02:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/57ad9c57b208ebb3528ff1822dd1b87e066a3073', 'message': 'Extend share will go through scheduler\n\nAdd an force parameter to the API layer that lets the user choose\nwhether to go through the scheduler or not, which is boolean.and\ndefault is False,set True means extend share directly, set False\nmeans extend share will go through scheduler.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 16, 'created': '2020-11-09 06:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d0d91edc083869a25b398dc73c481793b12b4fea', 'message': 'Extend share will go through scheduler\n\nAdd an force parameter to the API layer that lets the user choose\nwhether to go through the scheduler or not, which is boolean.and\ndefault is False,set True means extend share directly, set False\nmeans extend share will go through scheduler.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 17, 'created': '2020-11-25 07:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fc925a8b8a3d557db28f9c2b924ce589c990cc85', 'message': 'Extend share will go through scheduler\n\nAdd an force parameter to the API layer that lets the user choose\nwhether to go through the scheduler or not, which is boolean.and\ndefault is False,set True means extend share directly, set False\nmeans extend share will go through scheduler.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 18, 'created': '2020-11-26 06:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c58188b7e83565abb27c1b97ba9b40d7f3b5c27e', 'message': 'Extend share will go through scheduler\n\nAdd an force parameter to the API layer that lets the user choose\nwhether to go through the scheduler or not, which is boolean.and\ndefault is False,set True means extend share directly, set False\nmeans extend share will go through scheduler.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 19, 'created': '2020-11-26 09:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c9fb726d44bc676e740bdba3caad4107d79d4720', 'message': 'Extend share will go through scheduler\n\nAdd an force parameter to the API layer that lets the user choose\nwhether to go through the scheduler or not, which is boolean.and\ndefault is False,set True means extend share directly, set False\nmeans extend share will go through scheduler.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 20, 'created': '2020-11-27 02:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/93afdfb3f52e048745c1aea22b1241b482439aa4', 'message': 'Extend share will go through scheduler\n\nAdd an force parameter to the API layer that lets the user choose\nwhether to go through the scheduler or not, which is boolean.and\ndefault is False,set True means extend share directly, set False\nmeans extend share will go through scheduler.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 21, 'created': '2021-02-11 15:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7b79271f09b33dd6f793acc74b3e00e1291f8c46', 'message': 'Extend share will go through scheduler\n\nAdd an force parameter to the API layer that lets the user choose\nwhether to go through the scheduler or not, which is boolean.and\ndefault is False,set True means extend share directly, set False\nmeans extend share will go through scheduler.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 22, 'created': '2021-03-15 15:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7d1be6d9bcd53c94e9ba41dd9804ac2e1d81b744', 'message': 'Extend share will go through scheduler\n\nAdd an force parameter to the API layer that lets the user choose\nwhether to go through the scheduler or not, which is boolean.and\ndefault is False,set True means extend share directly, set False\nmeans extend share will go through scheduler.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 23, 'created': '2021-04-14 11:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/39a2700ffcbe05608ba2ea8a14ce13b29d95645c', 'message': 'Extend share will go through scheduler\n\nAdd an force parameter to the API layer that lets the user choose\nwhether to go through the scheduler or not, which is boolean.and\ndefault is False,set True means extend share directly, set False\nmeans extend share will go through scheduler.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 24, 'created': '2021-04-15 01:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/aa639f0be54d9a41be56bcb42967a3c47a136d9a', 'message': 'Extend share will go through scheduler\n\nAdd an force parameter to the API layer that lets the user choose\nwhether to go through the scheduler or not, which is boolean.and\ndefault is False,set True means extend share directly, set False\nmeans extend share will go through scheduler.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 25, 'created': '2021-06-10 15:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/924630271bd6b4be97cc7a74cb28ed29a41c2895', 'message': 'Extend share will go through scheduler\n\nAdd an force parameter to the API layer that lets the user choose\nwhether to go through the scheduler or not, which is boolean.and\ndefault is False,set True means extend share directly, set False\nmeans extend share will go through scheduler.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 26, 'created': '2021-07-12 08:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/465ea432e40d96043c4a0a72a294fcce247dd153', 'message': 'Extend share will go through scheduler\n\nAdd an force parameter to the API layer that lets the user choose\nwhether to go through the scheduler or not, which is boolean.and\ndefault is False,set True means extend share directly, set False\nmeans extend share will go through scheduler.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 27, 'created': '2021-07-13 01:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/61f04dd15f99f4aaa95a4428a08f3a145b1331d1', 'message': 'Extend share will go through scheduler\n\nAdd an force parameter to the API layer that lets the user choose\nwhether to go through the scheduler or not, which is boolean.and\ndefault is False,set True means extend share directly, set False\nmeans extend share will go through scheduler.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 28, 'created': '2021-07-13 02:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/70c2f865a3023651cc0914866c5a2926c8e774cb', 'message': 'Extend share will go through scheduler\n\nAdd an force parameter to the API layer that lets the user choose\nwhether to go through the scheduler or not, which is boolean.and\ndefault is False,set True means extend share directly, set False\nmeans extend share will go through scheduler.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 29, 'created': '2021-07-13 03:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/964f244e69fdeb5668a466df81c68a14e72f6487', 'message': 'Extend share will go through scheduler\n\nAdd an force parameter to the API layer that lets the user choose\nwhether to go through the scheduler or not, which is boolean.and\ndefault is False,set True means extend share directly, set False\nmeans extend share will go through scheduler.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 30, 'created': '2021-07-13 06:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e1cb613f937b3a2d7635e597ad1182df5a59628e', 'message': 'Extend share will go through scheduler\n\nAdd an force parameter to the API layer that lets the user choose\nwhether to go through the scheduler or not, which is boolean.and\ndefault is False,set True means extend share directly, set False\nmeans extend share will go through scheduler.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 31, 'created': '2021-07-14 06:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c87d54c6f65a396eb9a9f666d4b4e82833070434', 'message': 'Extend share will go through scheduler\n\nAdd an force parameter to the API layer that lets the user choose\nwhether to go through the scheduler or not, which is boolean.and\ndefault is False,set True means extend share directly, set False\nmeans extend share will go through scheduler.\nAdd an new min_version 2.64 to extend share api. force parameter\nonly support min_version >= 2.64.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 32, 'created': '2021-07-14 08:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7b818c4e0f106f591d1bfc9c3abb5e0831fe3fcc', 'message': 'Extend share will go through scheduler\n\nAdd an force parameter to the API layer that lets the user choose\nwhether to go through the scheduler or not, which is boolean.and\ndefault is False,set True means extend share directly, set False\nmeans extend share will go through scheduler.\nAdd an new min_version 2.64 to extend share api. force parameter\nonly support min_version >= 2.64.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}, {'number': 33, 'created': '2021-08-27 05:35:45.000000000', 'files': ['api-ref/source/parameters.yaml', 'manila/tests/api/v1/test_shares.py', 'manila/api/v1/shares.py', 'manila/policies/shares.py', 'manila/api/openstack/rest_api_version_history.rst', 'manila/scheduler/manager.py', 'manila/tests/share/test_api.py', 'manila/share/api.py', 'api-ref/source/share-actions.inc', 'manila/tests/api/v2/test_shares.py', 'manila/tests/scheduler/test_rpcapi.py', 'manila/scheduler/rpcapi.py', 'releasenotes/notes/bug-1855391-extend-share-will-go-through-scheduler-3a29093756dc88c1.yaml', 'api-ref/source/samples/share-actions-extend-request.json', 'manila/api/v2/shares.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/cdbc428b692ca087e26fa1ab5c3d1f5fb77cdc29', 'message': 'Extend share will go through scheduler\n\nAdd an force parameter to the API layer that lets the user choose\nwhether to go through the scheduler or not, which is boolean.and\ndefault is False,set True means extend share directly, set False\nmeans extend share will go through scheduler.\nAdd an new min_version 2.64 to extend share api. force parameter\nonly support min_version >= 2.64.\n\nCloses-Bug:#1855391\nChange-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133\n'}]",28,700393,cdbc428b692ca087e26fa1ab5c3d1f5fb77cdc29,227,15,33,30407,,,0,"Extend share will go through scheduler

Add an force parameter to the API layer that lets the user choose
whether to go through the scheduler or not, which is boolean.and
default is False,set True means extend share directly, set False
means extend share will go through scheduler.
Add an new min_version 2.64 to extend share api. force parameter
only support min_version >= 2.64.

Closes-Bug:#1855391
Change-Id: I6da36a687a37c78a7fb7d3f252318d03d4a05133
",git fetch https://review.opendev.org/openstack/manila refs/changes/93/700393/32 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/test_api.py', 'manila/share/api.py', 'manila/tests/scheduler/test_rpcapi.py', 'manila/scheduler/rpcapi.py', 'manila/scheduler/manager.py']",5,6a73be84daf81b05842fd60d99912d29c7268de6,bug/1855391," def extend_share(self, context, share, new_size, reservations, request_spec=None, filter_properties=None): def _extend_share_set_error(self, context, ex, request_spec): share_state = { 'share_state': {'status': constants.STATUS_AVAILABLE}} self._set_share_state_and_notify('extend_share', share_state, context, ex, request_spec) try: backend_state = self.driver.host_passes_filters( context, share['host'], request_spec, filter_properties) backend_state.consume_from_share( {'size': new_size - share.size}) share_rpcapi.ShareAPI().extend_share(context, share, new_size, reservations) except exception.NoValidHost as ex: quota.QUOTAS.rollback(context, reservations, project_id=share.project_id) _extend_share_set_error(self, context, ex, request_spec)",,88,2
openstack%2Fmanila~stable%2Fwallaby~If0bbac2d153348f26f5b60cba3eb492926aa53c5,openstack/manila,stable/wallaby,If0bbac2d153348f26f5b60cba3eb492926aa53c5,Add documentation for per share gigabytes quotas,MERGED,2021-07-30 20:59:57.000000000,2021-08-29 18:40:13.000000000,2021-08-29 18:38:44.000000000,"[{'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 32919}]","[{'number': 1, 'created': '2021-07-30 20:59:57.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/samples/quota-classes-show-response.json', 'api-ref/source/samples/quota-update-response.json', 'api-ref/source/quota-sets.inc', 'doc/source/admin/shared-file-systems-manage-and-unmanage-share.rst', 'api-ref/source/samples/quota-show-detail-response.json', 'doc/source/admin/shared-file-systems-quotas.rst', 'api-ref/source/samples/quota-show-response.json', 'api-ref/source/samples/quota-update-request.json', 'doc/source/configuration/shared-file-systems/overview.rst', 'api-ref/source/samples/quota-classes-update-response.json', 'api-ref/source/quota-classes.inc'], 'web_link': 'https://opendev.org/openstack/manila/commit/274073fcdc49b4ee40ab15eacc248d4c551a0ca6', 'message': 'Add documentation for per share gigabytes quotas\n\nUpdate documentation to fit into the new manila quota key:\n- `per_share_gigabytes`\n\nThis cherry-pick is required only to update the admin and config\ndocs - api ref is always served from the latest branch\n\nCloses-Bug: #1918959\nChange-Id: If0bbac2d153348f26f5b60cba3eb492926aa53c5\n(cherry picked from commit df3382d9606bbc0fb9d9a2ecff6a2170a17a5007)\n'}]",0,803073,274073fcdc49b4ee40ab15eacc248d4c551a0ca6,11,3,1,16643,,,0,"Add documentation for per share gigabytes quotas

Update documentation to fit into the new manila quota key:
- `per_share_gigabytes`

This cherry-pick is required only to update the admin and config
docs - api ref is always served from the latest branch

Closes-Bug: #1918959
Change-Id: If0bbac2d153348f26f5b60cba3eb492926aa53c5
(cherry picked from commit df3382d9606bbc0fb9d9a2ecff6a2170a17a5007)
",git fetch https://review.opendev.org/openstack/manila refs/changes/73/803073/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/samples/quota-classes-show-response.json', 'api-ref/source/samples/quota-update-response.json', 'api-ref/source/quota-sets.inc', 'doc/source/admin/shared-file-systems-manage-and-unmanage-share.rst', 'api-ref/source/samples/quota-show-detail-response.json', 'doc/source/admin/shared-file-systems-quotas.rst', 'api-ref/source/samples/quota-show-response.json', 'api-ref/source/samples/quota-update-request.json', 'doc/source/configuration/shared-file-systems/overview.rst', 'api-ref/source/samples/quota-classes-update-response.json', 'api-ref/source/quota-classes.inc']",12,274073fcdc49b4ee40ab15eacc248d4c551a0ca6,bug/1918959, Per share gigabytes was added to quota management APIs in API version 2.62. - per_share_gigabytes: perShareGigabytes - per-share-gigabytes: perShareGigabytesOptional - per_share_gigabytes: perShareGigabytes,,73,6
openstack%2Fmanila~stable%2Fussuri~I3e6170f8def53aabd4bc5858fa297061e2873477,openstack/manila,stable/ussuri,I3e6170f8def53aabd4bc5858fa297061e2873477,TrivialFix: Fix the filter name in config helper,MERGED,2021-08-16 17:56:48.000000000,2021-08-29 18:25:00.000000000,2021-08-29 18:21:45.000000000,"[{'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 30407}, {'_account_id': 31721}]","[{'number': 1, 'created': '2021-08-16 17:56:48.000000000', 'files': ['manila/share/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/f79e648cc8fe14165f740c87f1f6b302f0992235', 'message': 'TrivialFix: Fix the filter name in config helper\n\nThe config `use_scheduler_creating_share_from_snapshot` has the\nhelp message with wrong name of the scheduler filter that the user must\nenable with the option. The filter name is `CreateFromSnapshotFilter`,\ninstead of `CreateShareFromSnapshot`.\n\nChange-Id: I3e6170f8def53aabd4bc5858fa297061e2873477\n(cherry picked from commit 854b1dc958db4bd903e7b3c69c242295ad1518bd)\n(cherry picked from commit f1822cf40a736fcf9a7e9c849e38a97cee9d5a6a)\n(cherry picked from commit 28f6e02dae665e3ec5750f8bed8c6f32d1d1d17d)\n'}]",0,804725,f79e648cc8fe14165f740c87f1f6b302f0992235,11,4,1,16643,,,0,"TrivialFix: Fix the filter name in config helper

The config `use_scheduler_creating_share_from_snapshot` has the
help message with wrong name of the scheduler filter that the user must
enable with the option. The filter name is `CreateFromSnapshotFilter`,
instead of `CreateShareFromSnapshot`.

Change-Id: I3e6170f8def53aabd4bc5858fa297061e2873477
(cherry picked from commit 854b1dc958db4bd903e7b3c69c242295ad1518bd)
(cherry picked from commit f1822cf40a736fcf9a7e9c849e38a97cee9d5a6a)
(cherry picked from commit 28f6e02dae665e3ec5750f8bed8c6f32d1d1d17d)
",git fetch https://review.opendev.org/openstack/manila refs/changes/25/804725/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/api.py'],1,f79e648cc8fe14165f740c87f1f6b302f0992235,, 'CreateFromSnapshotFilter is enabled and to have hosts ', 'CreateShareFromSnapshot is enabled and to have hosts ',1,1
openstack%2Fmanila~master~I6cf8a08379b2f2b0fd1bcada4cd20c39adc01f47,openstack/manila,master,I6cf8a08379b2f2b0fd1bcada4cd20c39adc01f47,handle replica state on migration complete,MERGED,2021-05-04 07:45:50.000000000,2021-08-29 18:23:33.000000000,2021-08-29 18:21:47.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30407}]","[{'number': 1, 'created': '2021-05-04 07:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9160526111191f70732f6bbd91ab76ab366aad47', 'message': ""handle replica state on migration complete\n\nSet share instance replica_state to 'active' after successful migration\nif the share is involved in a replication setup.\n\nChange-Id: I6cf8a08379b2f2b0fd1bcada4cd20c39adc01f47\nCloses-Bug: #1927060\n""}, {'number': 2, 'created': '2021-08-12 23:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c98140f5f1f4a302b5390a8377c4ef83dd6e817c', 'message': ""handle replica state on migration complete\n\nSet share instance replica_state to 'active' after successful migration\nif the share is involved in a replication setup.\n\nChange-Id: I6cf8a08379b2f2b0fd1bcada4cd20c39adc01f47\nCloses-Bug: #1927060\n""}, {'number': 3, 'created': '2021-08-12 23:06:28.000000000', 'files': ['manila/share/manager.py', 'manila/tests/share/test_manager.py', 'releasenotes/notes/bug-1927060-fix-replica-state-on-migration-complete-4fb4d8ba59b58505.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/68e3783522d363bdc6f21b9940a12ea36fc79375', 'message': ""handle replica state on migration complete\n\nSet share instance replica_state to 'active' after successful migration\nif the share is involved in a replication setup.\n\nChange-Id: I6cf8a08379b2f2b0fd1bcada4cd20c39adc01f47\nCloses-Bug: #1927060\n""}]",0,789502,68e3783522d363bdc6f21b9940a12ea36fc79375,33,5,3,18816,,,0,"handle replica state on migration complete

Set share instance replica_state to 'active' after successful migration
if the share is involved in a replication setup.

Change-Id: I6cf8a08379b2f2b0fd1bcada4cd20c39adc01f47
Closes-Bug: #1927060
",git fetch https://review.opendev.org/openstack/manila refs/changes/02/789502/2 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/manager.py'],1,9160526111191f70732f6bbd91ab76ab366aad47,bug/1927060," self._migration_complete_instance(context, share_ref, src_share_instance['id'], dest_share_instance['id']) def _migration_complete_instance(self, context, share_ref, src_instance_id, dest_instance_id): dest_updates = { 'status': constants.STATUS_AVAILABLE, 'progress': '100%' } if share_ref.get('replication_type'): dest_updates['replica_state'] = constants.REPLICA_STATE_ACTIVE self.db.share_instance_update(context, dest_instance_id, dest_updates) self.db.share_instance_update(context, src_instance_id, {'status': constants.STATUS_INACTIVE}) self._migration_complete_instance(context, share_ref, src_share_instance['id'], dest_share_instance['id'])"," self.db.share_instance_update( context, dest_share_instance['id'], {'status': constants.STATUS_AVAILABLE, 'progress': '100%'}) self.db.share_instance_update(context, src_share_instance['id'], {'status': constants.STATUS_INACTIVE}) self.db.share_instance_update( context, dest_share_instance['id'], {'status': constants.STATUS_AVAILABLE, 'progress': '100%'}) self.db.share_instance_update(context, src_instance_id, {'status': constants.STATUS_INACTIVE})",20,12
openstack%2Fmanila~stable%2Fussuri~I5039b7adf563d926053b423a4cc6e175d3f1e5cf,openstack/manila,stable/ussuri,I5039b7adf563d926053b423a4cc6e175d3f1e5cf,fixes  availability zone filter when creating a share from snapshot,MERGED,2021-08-02 20:12:12.000000000,2021-08-29 18:23:33.000000000,2021-08-29 18:21:43.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30407}, {'_account_id': 32531}]","[{'number': 1, 'created': '2021-08-02 20:12:12.000000000', 'files': ['manila/tests/api/v2/test_shares.py', 'manila/api/v1/shares.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/0ebc6a954c575d234068f48546c57f5b764ea089', 'message': ""fixes  availability zone filter when creating a share from snapshot\n\nFixes bug #1915706 that was discovered in  Manila UI.\nIssue is invalid input error being raised, even when\navailability_zone provided is the same, as parent share's.\nThe reason is availability_zone is name and source_share_az\nis id in the filter [1]. Now, regardless of availability_zone\nprovided is id or name, it will be always converted to a name.\nAnd if availability_zone is the same as parent share's\noperation will complete successfully.\n\n[1] https://github.com/openstack/manila/blob/2e27c71877fdb601ba90b44c3573d8e50e099042/manila/share/api.py#L200\n\nCloses-Bug: #1915706\nChange-Id: I5039b7adf563d926053b423a4cc6e175d3f1e5cf\n(cherry picked from commit 205f3d828d5f8afc002c32714e7c67db10dbfa53)\n(cherry picked from commit 9c723d0e44f10afeb9a0e80086eb1afd2680b2c6)\n(cherry picked from commit 90241eb43fd9fa85ae3383f3e5af640e9911626b)\n""}]",0,803270,0ebc6a954c575d234068f48546c57f5b764ea089,15,5,1,16643,,,0,"fixes  availability zone filter when creating a share from snapshot

Fixes bug #1915706 that was discovered in  Manila UI.
Issue is invalid input error being raised, even when
availability_zone provided is the same, as parent share's.
The reason is availability_zone is name and source_share_az
is id in the filter [1]. Now, regardless of availability_zone
provided is id or name, it will be always converted to a name.
And if availability_zone is the same as parent share's
operation will complete successfully.

[1] https://github.com/openstack/manila/blob/2e27c71877fdb601ba90b44c3573d8e50e099042/manila/share/api.py#L200

Closes-Bug: #1915706
Change-Id: I5039b7adf563d926053b423a4cc6e175d3f1e5cf
(cherry picked from commit 205f3d828d5f8afc002c32714e7c67db10dbfa53)
(cherry picked from commit 9c723d0e44f10afeb9a0e80086eb1afd2680b2c6)
(cherry picked from commit 90241eb43fd9fa85ae3383f3e5af640e9911626b)
",git fetch https://review.opendev.org/openstack/manila refs/changes/70/803270/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/api/v2/test_shares.py', 'manila/api/v1/shares.py']",2,0ebc6a954c575d234068f48546c57f5b764ea089,bug/1915706," availability_zone_db = db.availability_zone_get( context, availability_zone) availability_zone_id = availability_zone_db.id availability_zone = availability_zone_db.name availability_zone = db.availability_zone_get( context, sg_az_id).name 'availability_zone': availability_zone,"," availability_zone_id = db.availability_zone_get( context, availability_zone).id availability_zone_id = sg_az_id 'availability_zone': availability_zone_id,",16,8
openstack%2Fmanila~stable%2Fwallaby~I42d76c7a085e3ded04b45f89469b4b66d6a426ce,openstack/manila,stable/wallaby,I42d76c7a085e3ded04b45f89469b4b66d6a426ce,Add missing oslo.service options,MERGED,2021-08-27 04:17:37.000000000,2021-08-29 17:31:48.000000000,2021-08-29 17:30:27.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-27 04:17:37.000000000', 'files': ['etc/oslo-config-generator/manila.conf'], 'web_link': 'https://opendev.org/openstack/manila/commit/92b8330f99fe4a5109165bd63a41b2b41a58e949', 'message': 'Add missing oslo.service options\n\nCloses-Bug: #1940734\nChange-Id: I42d76c7a085e3ded04b45f89469b4b66d6a426ce\n(cherry picked from commit c1eaf108f8bdec5d34bcd8d59a843d3c3bfa1880)\n'}]",0,806221,92b8330f99fe4a5109165bd63a41b2b41a58e949,10,2,1,9816,,,0,"Add missing oslo.service options

Closes-Bug: #1940734
Change-Id: I42d76c7a085e3ded04b45f89469b4b66d6a426ce
(cherry picked from commit c1eaf108f8bdec5d34bcd8d59a843d3c3bfa1880)
",git fetch https://review.opendev.org/openstack/manila refs/changes/21/806221/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/oslo-config-generator/manila.conf'],1,92b8330f99fe4a5109165bd63a41b2b41a58e949,bug/1940734-stable/wallaby,namespace = oslo.service.periodic_task namespace = oslo.service.servicenamespace = oslo.service.wsgi,,3,0
openstack%2Fmanila~stable%2Fwallaby~I55270b330d1fe98817df4d419e8c26c90440e3a6,openstack/manila,stable/wallaby,I55270b330d1fe98817df4d419e8c26c90440e3a6,Use oslo-config-generator conf to load options from libraries,MERGED,2021-08-26 18:53:11.000000000,2021-08-29 17:16:38.000000000,2021-08-29 17:15:13.000000000,"[{'_account_id': 9816}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-08-26 18:53:11.000000000', 'files': ['etc/oslo-config-generator/manila.conf', 'manila/opts.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/5a19c63267bc3c8bf8449ee8ce84cdf700495e3e', 'message': 'Use oslo-config-generator conf to load options from libraries\n\n... instead of importing library modules just to load options.\n\nChange-Id: I55270b330d1fe98817df4d419e8c26c90440e3a6\n(cherry picked from commit 7f35a177d3e65333a34188a41813ea6440301929)\n'}]",0,806215,5a19c63267bc3c8bf8449ee8ce84cdf700495e3e,13,4,1,16643,,,0,"Use oslo-config-generator conf to load options from libraries

... instead of importing library modules just to load options.

Change-Id: I55270b330d1fe98817df4d419e8c26c90440e3a6
(cherry picked from commit 7f35a177d3e65333a34188a41813ea6440301929)
",git fetch https://review.opendev.org/openstack/manila refs/changes/15/806215/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/oslo-config-generator/manila.conf', 'manila/opts.py']",2,5a19c63267bc3c8bf8449ee8ce84cdf700495e3e,bug/1940734,,import oslo_concurrency.opts import oslo_log._options import oslo_middleware.opts import oslo_policy.opts import oslo_service.sslutils _opts.extend(oslo_concurrency.opts.list_opts()) _opts.extend(oslo_log._options.list_opts()) _opts.extend(oslo_middleware.opts.list_opts()) _opts.extend(oslo_policy.opts.list_opts())_opts.extend(oslo_service.sslutils.list_opts()),6,14
openstack%2Fpython-cinderclient~master~I524490aa988fa4d654bfa8050d89cf99ce50bb4b,openstack/python-cinderclient,master,I524490aa988fa4d654bfa8050d89cf99ce50bb4b,Add consumes quota field support,MERGED,2021-04-21 14:46:44.000000000,2021-08-29 14:01:58.000000000,2021-08-29 14:00:32.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-21 14:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/5f5ba3882946dd307c6e307f4f2992a8495cc7cd', 'message': 'Add use quota field support\n\nCinder microversion v3.65 adds use_quota key to volume and snapshots as\na way to differentiate between use generated resources and temporary\nones.\n\nThis patch adds support for this microversion and presents the use_quota\nfield when the server sends it (which only happens when we request this\nmicroversion).\n\nChange-Id: I524490aa988fa4d654bfa8050d89cf99ce50bb4b\nDepends-On: I655a47fc75ddc11caf1defe984d9a66a9ad5a2e7\n'}, {'number': 2, 'created': '2021-05-10 17:00:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/07cb77e729ae8b303f670127a986d293d6338762', 'message': 'Add use quota field support\n\nCinder microversion v3.65 adds use_quota key to volume and snapshots as\na way to differentiate between use generated resources and temporary\nones.\n\nThis patch adds support for this microversion and presents the use_quota\nfield when the server sends it (which only happens when we request this\nmicroversion).\n\nChange-Id: I524490aa988fa4d654bfa8050d89cf99ce50bb4b\nDepends-On: I655a47fc75ddc11caf1defe984d9a66a9ad5a2e7\n'}, {'number': 3, 'created': '2021-06-23 18:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/661d20ce2d63d26c870bfa3c6f356ae24b8c803f', 'message': 'Add consumes quota field support\n\nCinder microversion v3.65 adds consumes_quota key to volume and\nsnapshots as a way to differentiate between use generated resources and\ntemporary ones.\n\nThis patch adds support for this microversion and presents the\nconsumes_quota field when the server sends it (which only happens when\nwe request this microversion).\n\nChange-Id: I524490aa988fa4d654bfa8050d89cf99ce50bb4b\nDepends-On: I655a47fc75ddc11caf1defe984d9a66a9ad5a2e7\nImplements: blueprint temp-resources\n'}, {'number': 4, 'created': '2021-08-25 21:22:57.000000000', 'files': ['cinderclient/v3/shell.py', 'cinderclient/api_versions.py', 'cinderclient/tests/unit/v3/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/f94908008e7432678f89c58e7e61773e71c2acf5', 'message': 'Add consumes quota field support\n\nCinder microversion v3.65 adds consumes_quota key to volume and\nsnapshots as a way to differentiate between use generated resources and\ntemporary ones.\n\nThis patch adds support for this microversion and presents the\nconsumes_quota field when the server sends it (which only happens when\nwe request this microversion).\n\nChange-Id: I524490aa988fa4d654bfa8050d89cf99ce50bb4b\nDepends-On: I655a47fc75ddc11caf1defe984d9a66a9ad5a2e7\nImplements: blueprint temp-resources\n'}]",2,787407,f94908008e7432678f89c58e7e61773e71c2acf5,19,3,4,9535,,,0,"Add consumes quota field support

Cinder microversion v3.65 adds consumes_quota key to volume and
snapshots as a way to differentiate between use generated resources and
temporary ones.

This patch adds support for this microversion and presents the
consumes_quota field when the server sends it (which only happens when
we request this microversion).

Change-Id: I524490aa988fa4d654bfa8050d89cf99ce50bb4b
Depends-On: I655a47fc75ddc11caf1defe984d9a66a9ad5a2e7
Implements: blueprint temp-resources
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/07/787407/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/v3/shell.py', 'cinderclient/api_versions.py']",2,5f5ba3882946dd307c6e307f4f2992a8495cc7cd,off-book,"MAX_VERSION = ""3.65""","MAX_VERSION = ""3.64""",7,11
openstack%2Fcinder~master~Ibd559584b21b5bbc84b39cc9d471d83310fe990d,openstack/cinder,master,Ibd559584b21b5bbc84b39cc9d471d83310fe990d,Reset state robustification for group os-reset_status,ABANDONED,2021-08-29 09:22:57.000000000,2021-08-29 13:27:00.000000000,,[],"[{'number': 1, 'created': '2021-08-29 09:22:57.000000000', 'files': ['cinder/tests/unit/group/test_groups_api.py', 'cinder/api/v3/groups.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/190a936cebc13c8b927f3e17a5942d0477983bd2', 'message': 'Reset state robustification for group os-reset_status\n\nThis commit changes the os-reset_status group-api\nto handle the bellow use cases\n1.reset group to the same state\n\nPartial implement blueprint reset-state-robustification\n\nChange-Id: Ibd559584b21b5bbc84b39cc9d471d83310fe990d\n'}]",0,806494,190a936cebc13c8b927f3e17a5942d0477983bd2,11,0,1,30615,,,0,"Reset state robustification for group os-reset_status

This commit changes the os-reset_status group-api
to handle the bellow use cases
1.reset group to the same state

Partial implement blueprint reset-state-robustification

Change-Id: Ibd559584b21b5bbc84b39cc9d471d83310fe990d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/806494/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/group/test_groups_api.py', 'cinder/api/v3/groups.py']",2,190a936cebc13c8b927f3e17a5942d0477983bd2,," if status == group.get('status'): msg = _(""Cannot reset-state to same state"") raise webob.exc.HTTPBadRequest(explanation=msg)",,80,0
openstack%2Fkolla-ansible~master~I63d3999ca6ff25036a37c90a49cb7c0c8c93794d,openstack/kolla-ansible,master,I63d3999ca6ff25036a37c90a49cb7c0c8c93794d,Use Docker healthchecks for memcached service,ABANDONED,2021-08-14 11:34:48.000000000,2021-08-29 12:56:51.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-14 11:34:48.000000000', 'files': ['releasenotes/notes/implement-docker-healthchecks-for-memcached-1300b48116e9a17f.yaml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/memcached/handlers/main.yml', 'ansible/roles/memcached/tasks/check-containers.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/47c740ef0d364e39fd2c3f4d4a3c8b6ba8f9eaa6', 'message': 'Use Docker healthchecks for memcached service\n\nThis change enables the use of Docker healthchecks for\nmemcached service.\n\nImplements: blueprint container-health-check\nChange-Id: I63d3999ca6ff25036a37c90a49cb7c0c8c93794d\n'}]",0,804560,47c740ef0d364e39fd2c3f4d4a3c8b6ba8f9eaa6,9,4,1,27339,,,0,"Use Docker healthchecks for memcached service

This change enables the use of Docker healthchecks for
memcached service.

Implements: blueprint container-health-check
Change-Id: I63d3999ca6ff25036a37c90a49cb7c0c8c93794d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/60/804560/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/implement-docker-healthchecks-for-memcached-1300b48116e9a17f.yaml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/memcached/handlers/main.yml', 'ansible/roles/memcached/tasks/check-containers.yml']",4,47c740ef0d364e39fd2c3f4d4a3c8b6ba8f9eaa6,," healthcheck: ""{{ service.healthcheck | default(omit) }}""",,22,0
openstack%2Fkolla~stable%2Fwallaby~Idda2ff4a5fea56e4e17a9dbf05141572671b6afc,openstack/kolla,stable/wallaby,Idda2ff4a5fea56e4e17a9dbf05141572671b6afc,Config: Set default home to /var/lib/{user},ABANDONED,2021-08-29 11:19:54.000000000,2021-08-29 12:54:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-29 11:19:54.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/28630d7d10efa21fa46c9064087f5e3962f2cc01', 'message': ""Config: Set default home to /var/lib/{user}\n\nThis patch is setting users home dirs to /var/lib/{user}.\nThis is the usual default but it's good to be explicit.\n\nChange-Id: Idda2ff4a5fea56e4e17a9dbf05141572671b6afc\n(cherry picked from commit 33da736668108ded943691d490cb72812c8b150d)\n""}]",0,806511,28630d7d10efa21fa46c9064087f5e3962f2cc01,5,2,1,27339,,,0,"Config: Set default home to /var/lib/{user}

This patch is setting users home dirs to /var/lib/{user}.
This is the usual default but it's good to be explicit.

Change-Id: Idda2ff4a5fea56e4e17a9dbf05141572671b6afc
(cherry picked from commit 33da736668108ded943691d490cb72812c8b150d)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/11/806511/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,28630d7d10efa21fa46c9064087f5e3962f2cc01,bug/1934753-stable/wallaby, && useradd -l -M --shell /usr/sbin/nologin --uid {{ user.uid }} --gid {{ user.gid }} --home-dir /var/lib/{{ name }} {{ name }}, && useradd -l -M --shell /usr/sbin/nologin --uid {{ user.uid }} --gid {{ user.gid }} {{ name }},1,1
openstack%2Fcinder~master~Idbd49b8298b232b8c361560e8aac0999dd1a204c,openstack/cinder,master,Idbd49b8298b232b8c361560e8aac0999dd1a204c,Reset state robustification for snapshot os-reset_status,ABANDONED,2021-08-29 08:16:14.000000000,2021-08-29 12:14:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-29 08:16:14.000000000', 'files': ['cinder/api/contrib/admin_actions.py', 'cinder/tests/unit/api/contrib/test_admin_actions.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/27b34b8173734b3e5cd2ec3e3b7b5df6670fc193', 'message': 'Reset state robustification for snapshot os-reset_status\n\nThis commit changes the os-reset_status snapshot-api\nto handle the bellow use cases\n1.reset snapshot to the same state\n\nPartial implement blueprint reset-state-robustification\n\nAPI state reference sheet\nhttps://wiki.openstack.org/wiki/Reset_State_Robustification\n\nChange-Id: Idbd49b8298b232b8c361560e8aac0999dd1a204c\n'}]",4,806490,27b34b8173734b3e5cd2ec3e3b7b5df6670fc193,12,1,1,30615,,,0,"Reset state robustification for snapshot os-reset_status

This commit changes the os-reset_status snapshot-api
to handle the bellow use cases
1.reset snapshot to the same state

Partial implement blueprint reset-state-robustification

API state reference sheet
https://wiki.openstack.org/wiki/Reset_State_Robustification

Change-Id: Idbd49b8298b232b8c361560e8aac0999dd1a204c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/90/806490/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/contrib/admin_actions.py', 'cinder/tests/unit/api/contrib/test_admin_actions.py', 'tox.ini']",3,27b34b8173734b3e5cd2ec3e3b7b5df6670fc193,,,requires = virtualenv>=20.4.2,97,1
openstack%2Fcinder~master~Ibfacccfb7c7dc70bc8f8e5ab98cc9c8feae694fb,openstack/cinder,master,Ibfacccfb7c7dc70bc8f8e5ab98cc9c8feae694fb,Clear OVO history and compatibility,MERGED,2021-04-15 10:03:07.000000000,2021-08-29 11:59:51.000000000,2021-08-27 02:22:40.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-04-15 10:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/47c9fc541e54454a8f0779184d56fbf7bcaeac63', 'message': 'Clear OVO history and compatibility\n\nThe Oslo Versioned Objects history is used to generate the manifests\nrequired to do compatibility changes to OVOs on data serialization\nbetween services running with different OVO history versions.\n\nWe haven\'t updated our OVO history since Train so all the history and\ncompatibility code (obj_make_compatible method) is no longer necessary.\n\nThis patch consolidates the OVO history into a single version reflecting\nthe current status of the OVO versions and removes the compatibility\ncode from the OVO classes.\n\nSince we tend to forget to update the obj_make_compatible when we add a\nfield (like it happened with Volume in version 1.8 when we added\nshared_targets) this patch also adds a note next to the ""fields""\nattribute (except for the list OVOs which are never updated).\n\nChange-Id: Ibfacccfb7c7dc70bc8f8e5ab98cc9c8feae694fb\n'}, {'number': 2, 'created': '2021-04-15 19:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7d68b1e353781ec901de01a91f0ffc775cd07a9f', 'message': 'Clear OVO history and compatibility\n\nThe Oslo Versioned Objects history is used to generate the manifests\nrequired to do compatibility changes to OVOs on data serialization\nbetween services running with different OVO history versions.\n\nWe haven\'t updated our OVO history since Train so all the history and\ncompatibility code (obj_make_compatible method) is no longer necessary.\n\nThis patch consolidates the OVO history into a single version reflecting\nthe current status of the OVO versions and removes the compatibility\ncode from the OVO classes.\n\nSince we tend to forget to update the obj_make_compatible when we add a\nfield (like it happened with Volume in version 1.8 when we added\nshared_targets) this patch also adds a note next to the ""fields""\nattribute (except for the list OVOs which are never updated).\n\nChange-Id: Ibfacccfb7c7dc70bc8f8e5ab98cc9c8feae694fb\n'}, {'number': 3, 'created': '2021-05-10 16:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ffaf379ee5977718beff345171328e9b2df7aea5', 'message': 'Clear OVO history and compatibility\n\nThe Oslo Versioned Objects history is used to generate the manifests\nrequired to do compatibility changes to OVOs on data serialization\nbetween services running with different OVO history versions.\n\nWe haven\'t updated our OVO history since Train so all the history and\ncompatibility code (obj_make_compatible method) is no longer necessary.\n\nThis patch consolidates the OVO history into a single version reflecting\nthe current status of the OVO versions and removes the compatibility\ncode from the OVO classes.\n\nSince we tend to forget to update the obj_make_compatible when we add a\nfield (like it happened with Volume in version 1.8 when we added\nshared_targets) this patch also adds a note next to the ""fields""\nattribute (except for the list OVOs which are never updated).\n\nChange-Id: Ibfacccfb7c7dc70bc8f8e5ab98cc9c8feae694fb\n'}, {'number': 4, 'created': '2021-05-13 13:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/84b62d47dbe162264b580595b14889347a1286c0', 'message': 'Clear OVO history and compatibility\n\nThe Oslo Versioned Objects history is used to generate the manifests\nrequired to do compatibility changes to OVOs on data serialization\nbetween services running with different OVO history versions.\n\nWe haven\'t updated our OVO history since Train so all the history and\ncompatibility code (obj_make_compatible method) is no longer necessary.\n\nThis patch consolidates the OVO history into a single version reflecting\nthe current status of the OVO versions and removes the compatibility\ncode from the OVO classes.\n\nSince we tend to forget to update the obj_make_compatible when we add a\nfield (like it happened with Volume in version 1.8 when we added\nshared_targets) this patch also adds a note next to the ""fields""\nattribute (except for the list OVOs which are never updated).\n\nChange-Id: Ibfacccfb7c7dc70bc8f8e5ab98cc9c8feae694fb\n'}, {'number': 5, 'created': '2021-05-20 15:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/95aea574f951032aad448cbdebc5e90625ab2176', 'message': 'Clear OVO history and compatibility\n\nThe Oslo Versioned Objects history is used to generate the manifests\nrequired to do compatibility changes to OVOs on data serialization\nbetween services running with different OVO history versions.\n\nWe haven\'t updated our OVO history since Train so all the history and\ncompatibility code (obj_make_compatible method) is no longer necessary.\n\nThis patch consolidates the OVO history into a single version reflecting\nthe current status of the OVO versions and removes the compatibility\ncode from the OVO classes.\n\nSince we tend to forget to update the obj_make_compatible when we add a\nfield (like it happened with Volume in version 1.8 when we added\nshared_targets) this patch also adds a note next to the ""fields""\nattribute (except for the list OVOs which are never updated).\n\nChange-Id: Ibfacccfb7c7dc70bc8f8e5ab98cc9c8feae694fb\n'}, {'number': 6, 'created': '2021-05-25 14:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/689050303e9d25c5ade40e624607f5fec386697a', 'message': 'Clear OVO history and compatibility\n\nThe Oslo Versioned Objects history is used to generate the manifests\nrequired to do compatibility changes to OVOs on data serialization\nbetween services running with different OVO history versions.\n\nWe haven\'t updated our OVO history since Train so all the history and\ncompatibility code (obj_make_compatible method) is no longer necessary.\n\nThis patch consolidates the OVO history into a single version reflecting\nthe current status of the OVO versions and removes the compatibility\ncode from the OVO classes.\n\nSince we tend to forget to update the obj_make_compatible when we add a\nfield (like it happened with Volume in version 1.8 when we added\nshared_targets) this patch also adds a note next to the ""fields""\nattribute (except for the list OVOs which are never updated).\n\nChange-Id: Ibfacccfb7c7dc70bc8f8e5ab98cc9c8feae694fb\n'}, {'number': 7, 'created': '2021-05-31 10:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ff83605fad05e12ea4f9583aefd6298a7bd05cc8', 'message': 'Clear OVO history and compatibility\n\nThe Oslo Versioned Objects history is used to generate the manifests\nrequired to do compatibility changes to OVOs on data serialization\nbetween services running with different OVO history versions.\n\nWe haven\'t updated our OVO history since Train so all the history and\ncompatibility code (obj_make_compatible method) is no longer necessary.\n\nThis patch consolidates the OVO history into a single version reflecting\nthe current status of the OVO versions and removes the compatibility\ncode from the OVO classes.\n\nSince we tend to forget to update the obj_make_compatible when we add a\nfield (like it happened with Volume in version 1.8 when we added\nshared_targets) this patch also adds a note next to the ""fields""\nattribute (except for the list OVOs which are never updated).\n\nChange-Id: Ibfacccfb7c7dc70bc8f8e5ab98cc9c8feae694fb\n'}, {'number': 8, 'created': '2021-08-25 16:16:32.000000000', 'files': ['cinder/tests/unit/objects/test_group.py', 'cinder/objects/group_type.py', 'cinder/tests/unit/objects/test_base.py', 'cinder/tests/unit/objects/test_volume_type.py', 'cinder/objects/cluster.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/objects/volume_type.py', 'cinder/objects/group.py', 'cinder/objects/volume.py', 'cinder/objects/qos_specs.py', 'cinder/objects/group_snapshot.py', 'cinder/objects/backup.py', 'cinder/objects/manageableresources.py', 'cinder/tests/unit/objects/test_cleanable.py', 'cinder/objects/base.py', 'cinder/tests/unit/scheduler/test_scheduler.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/tests/unit/objects/test_cluster.py', 'cinder/objects/service.py', 'cinder/objects/cgsnapshot.py', 'cinder/objects/snapshot.py', 'cinder/objects/consistencygroup.py', 'cinder/tests/unit/test_rpc.py', 'cinder/tests/unit/objects/test_volume.py', 'cinder/tests/unit/test.py', 'cinder/objects/cleanup_request.py', 'cinder/objects/dynamic_log.py', 'cinder/objects/volume_attachment.py', 'cinder/tests/unit/test_service.py', 'cinder/tests/unit/objects/test_objects.py', 'cinder/objects/request_spec.py', 'cinder/tests/unit/objects/test_snapshot.py', 'cinder/tests/unit/objects/test_volume_attachment.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b78997c2bb8416a43fe0f03bac7853503bfa5422', 'message': 'Clear OVO history and compatibility\n\nThe Oslo Versioned Objects history is used to generate the manifests\nrequired to do compatibility changes to OVOs on data serialization\nbetween services running with different OVO history versions.\n\nWe haven\'t updated our OVO history since Train so all the history and\ncompatibility code (obj_make_compatible method) is no longer necessary.\n\nThis patch consolidates the OVO history into a single version reflecting\nthe current status of the OVO versions and removes the compatibility\ncode from the OVO classes.\n\nSince we tend to forget to update the obj_make_compatible when we add a\nfield (like it happened with Volume in version 1.8 when we added\nshared_targets) this patch also adds a note next to the ""fields""\nattribute (except for the list OVOs which are never updated).\n\nChange-Id: Ibfacccfb7c7dc70bc8f8e5ab98cc9c8feae694fb\n'}]",7,786384,b78997c2bb8416a43fe0f03bac7853503bfa5422,138,3,8,9535,,,0,"Clear OVO history and compatibility

The Oslo Versioned Objects history is used to generate the manifests
required to do compatibility changes to OVOs on data serialization
between services running with different OVO history versions.

We haven't updated our OVO history since Train so all the history and
compatibility code (obj_make_compatible method) is no longer necessary.

This patch consolidates the OVO history into a single version reflecting
the current status of the OVO versions and removes the compatibility
code from the OVO classes.

Since we tend to forget to update the obj_make_compatible when we add a
field (like it happened with Volume in version 1.8 when we added
shared_targets) this patch also adds a note next to the ""fields""
attribute (except for the list OVOs which are never updated).

Change-Id: Ibfacccfb7c7dc70bc8f8e5ab98cc9c8feae694fb
",git fetch https://review.opendev.org/openstack/cinder refs/changes/84/786384/7 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/objects/test_group.py', 'cinder/objects/group_type.py', 'cinder/tests/unit/objects/test_base.py', 'cinder/tests/unit/objects/test_volume_type.py', 'cinder/objects/cluster.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/objects/volume_type.py', 'cinder/objects/group.py', 'cinder/objects/volume.py', 'cinder/objects/qos_specs.py', 'cinder/objects/group_snapshot.py', 'cinder/objects/backup.py', 'cinder/objects/manageableresources.py', 'cinder/tests/unit/objects/test_cleanable.py', 'cinder/objects/base.py', 'cinder/tests/unit/scheduler/test_scheduler.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/tests/unit/objects/test_cluster.py', 'cinder/objects/service.py', 'cinder/objects/cgsnapshot.py', 'cinder/objects/snapshot.py', 'cinder/objects/consistencygroup.py', 'cinder/tests/unit/test_rpc.py', 'cinder/tests/unit/objects/test_volume.py', 'cinder/tests/unit/test.py', 'cinder/objects/cleanup_request.py', 'cinder/objects/dynamic_log.py', 'cinder/objects/volume_attachment.py', 'cinder/tests/unit/test_service.py', 'cinder/tests/unit/objects/test_objects.py', 'cinder/objects/request_spec.py', 'cinder/tests/unit/objects/test_snapshot.py', 'cinder/tests/unit/objects/test_volume_attachment.py']",33,47c9fc541e54454a8f0779184d56fbf7bcaeac63,off-book,," @ddt.data('1.0', '1.1', '1.2', '1.3') def test_obj_make_compatible(self, version): connection_info = {'field': 'value'} connector = {'host': '127.0.0.1'} vol_attach = objects.VolumeAttachment(self.context, connection_info=connection_info, connector=connector) primitive = vol_attach.obj_to_primitive(version) converted_vol_attach = objects.VolumeAttachment.obj_from_primitive( primitive) if version == '1.3': self.assertEqual(connector, converted_vol_attach.connector) elif version == '1.2': self.assertEqual(connection_info, converted_vol_attach.connection_info) else: self.assertNotIn('connector', converted_vol_attach) self.assertFalse(converted_vol_attach.obj_attr_is_set( 'connection_info')) ",147,377
openstack%2Fpuppet-tripleo~stable%2Ftrain~Ic7f66b83611794d41105941c15c32479fe876980,openstack/puppet-tripleo,stable/train,Ic7f66b83611794d41105941c15c32479fe876980,Fix rabbitmq certificate reload after it is resubmitted,MERGED,2021-08-26 10:56:50.000000000,2021-08-29 11:12:22.000000000,2021-08-29 11:12:22.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-26 10:56:50.000000000', 'files': ['files/certmonger-rabbitmq-refresh.sh'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/48d6566567234e7269a29eff8d56208dd49b2884', 'message': 'Fix rabbitmq certificate reload after it is resubmitted\n\nWhen certmonger resubmit a certificate, make sure that\nthe post_save command reads the right hiera key to\nupdate the certificate file into the running rabbitmq\ncontainer.\n\nChange-Id: Ic7f66b83611794d41105941c15c32479fe876980\nCloses-Bug: #1941727\n(cherry picked from commit 42a29d04139f938f180b66060d8580325a57ff11)\n'}]",0,806136,48d6566567234e7269a29eff8d56208dd49b2884,11,3,1,20778,,,0,"Fix rabbitmq certificate reload after it is resubmitted

When certmonger resubmit a certificate, make sure that
the post_save command reads the right hiera key to
update the certificate file into the running rabbitmq
container.

Change-Id: Ic7f66b83611794d41105941c15c32479fe876980
Closes-Bug: #1941727
(cherry picked from commit 42a29d04139f938f180b66060d8580325a57ff11)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/36/806136/1 && git format-patch -1 --stdout FETCH_HEAD,['files/certmonger-rabbitmq-refresh.sh'],1,48d6566567234e7269a29eff8d56208dd49b2884,bug/1941727-stable/train,"service_crt=""$(hiera -c /etc/puppet/hiera.yaml tripleo::profile::base::rabbitmq::certificate_specs.service_certificate)"" service_key=""$(hiera -c /etc/puppet/hiera.yaml tripleo::profile::base::rabbitmq::certificate_specs.service_key)""","service_crt=""$(hiera -c /etc/puppet/hiera.yaml tripleo::rabbitmq::service_certificate.service_certificate)"" service_key=""$(hiera -c /etc/puppet/hiera.yaml tripleo::rabbitmq::service_certificate.service_key)""# Copy the new cert from the mount-point to the real path $container_cli exec ""$container_name"" cp ""/var/lib/kolla/config_files/src-tls$service_pem"" ""$service_pem"" ",2,5
openstack%2Fpuppet-tripleo~stable%2Fvictoria~Ic7f66b83611794d41105941c15c32479fe876980,openstack/puppet-tripleo,stable/victoria,Ic7f66b83611794d41105941c15c32479fe876980,Fix rabbitmq certificate reload after it is resubmitted,MERGED,2021-08-26 10:55:54.000000000,2021-08-29 11:12:20.000000000,2021-08-29 11:12:20.000000000,"[{'_account_id': 9257}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-26 10:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/42a29d04139f938f180b66060d8580325a57ff11', 'message': 'Fix rabbitmq certificate reload after it is resubmitted\n\nWhen certmonger resubmit a certificate, make sure that\nthe post_save command reads the right hiera key to\nupdate the certificate file into the running rabbitmq\ncontainer.\n\nChange-Id: Ic7f66b83611794d41105941c15c32479fe876980\nCloses-Bug: #1941727\n'}, {'number': 2, 'created': '2021-08-27 08:13:54.000000000', 'files': ['files/certmonger-rabbitmq-refresh.sh'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/76ecde4cf5ab514a9f4ffdb8ed8bf23f04999047', 'message': 'Fix rabbitmq certificate reload after it is resubmitted\n\nWhen certmonger resubmit a certificate, make sure that\nthe post_save command reads the right hiera key to\nupdate the certificate file into the running rabbitmq\ncontainer.\n\nChange-Id: Ic7f66b83611794d41105941c15c32479fe876980\nCloses-Bug: #1941727\n'}]",0,806135,76ecde4cf5ab514a9f4ffdb8ed8bf23f04999047,15,4,2,20778,,,0,"Fix rabbitmq certificate reload after it is resubmitted

When certmonger resubmit a certificate, make sure that
the post_save command reads the right hiera key to
update the certificate file into the running rabbitmq
container.

Change-Id: Ic7f66b83611794d41105941c15c32479fe876980
Closes-Bug: #1941727
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/35/806135/1 && git format-patch -1 --stdout FETCH_HEAD,['files/certmonger-rabbitmq-refresh.sh'],1,42a29d04139f938f180b66060d8580325a57ff11,bug/1941727,"service_crt=""$(hiera -c /etc/puppet/hiera.yaml tripleo::profile::base::rabbitmq::certificate_specs.service_certificate)"" service_key=""$(hiera -c /etc/puppet/hiera.yaml tripleo::profile::base::rabbitmq::certificate_specs.service_key)""","service_crt=""$(hiera -c /etc/puppet/hiera.yaml tripleo::rabbitmq::service_certificate.service_certificate)"" service_key=""$(hiera -c /etc/puppet/hiera.yaml tripleo::rabbitmq::service_certificate.service_key)""# Copy the new cert from the mount-point to the real path $container_cli exec ""$container_name"" cp ""/var/lib/kolla/config_files/src-tls$service_pem"" ""$service_pem"" ",2,5
openstack%2Ftempest~master~If3b9d0fce094470aa9470d74d831df6805c63b0b,openstack/tempest,master,If3b9d0fce094470aa9470d74d831df6805c63b0b,Boot a VM with 2 ports each one of different network,ABANDONED,2016-09-28 06:57:05.000000000,2021-08-29 08:35:38.000000000,,"[{'_account_id': 4727}, {'_account_id': 10385}, {'_account_id': 11075}, {'_account_id': 11869}, {'_account_id': 12017}, {'_account_id': 16615}, {'_account_id': 23003}]","[{'number': 1, 'created': '2016-09-28 06:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/976769f63642b9c2e897013df21b05a7f1826dc1', 'message': 'Boot a VM with 2 ports each one of different network\n\nssh to each one of the ports to verify\n\nChange-Id: If3b9d0fce094470aa9470d74d831df6805c63b0b\n'}, {'number': 2, 'created': '2016-10-09 06:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/87497a76940406e300fd61fa5ce2ecdd5e4c9e5f', 'message': 'Boot a VM with 2 ports each one of different network\n\nssh to each one of the ports to verify\n\nChange-Id: If3b9d0fce094470aa9470d74d831df6805c63b0b\n'}, {'number': 3, 'created': '2016-10-10 05:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9bad44227d130914b7332c9cc16763ac396db508', 'message': 'Boot a VM with 2 ports each one of different network\n\nssh to each one of the ports to verify\n\nChange-Id: If3b9d0fce094470aa9470d74d831df6805c63b0b\n'}, {'number': 4, 'created': '2016-10-10 06:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1baef0c80a302a90d9d15713d7811dbf6cbfe3ef', 'message': 'Boot a VM with 2 ports each one of different network\n\nssh to each one of the ports to verify\n\nChange-Id: If3b9d0fce094470aa9470d74d831df6805c63b0b\n'}, {'number': 5, 'created': '2016-10-10 10:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6305a7498b1491f8b580a3dd53fad7ba03d539b3', 'message': 'Boot a VM with 2 ports each one of different network\n\nssh to each one of the ports to verify\n\nChange-Id: If3b9d0fce094470aa9470d74d831df6805c63b0b\n'}, {'number': 6, 'created': '2016-10-27 08:12:25.000000000', 'files': ['tempest/scenario/manager.py', 'tempest/common/utils/linux/remote_client.py', 'tempest/scenario/test_network_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/09f41dac802b595a6ba8a43fd2840f71ef32f579', 'message': 'Boot a VM with 2 ports each one of different network\n\nssh to each one of the ports to verify\n\nChange-Id: If3b9d0fce094470aa9470d74d831df6805c63b0b\n'}]",3,378289,09f41dac802b595a6ba8a43fd2840f71ef32f579,36,7,6,23003,,,0,"Boot a VM with 2 ports each one of different network

ssh to each one of the ports to verify

Change-Id: If3b9d0fce094470aa9470d74d831df6805c63b0b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/89/378289/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/common/utils/linux/remote_client.py', 'tempest/scenario/manager.py', 'tempest/scenario/test_network_basic_ops.py']",3,976769f63642b9c2e897013df21b05a7f1826dc1,2_ports," server = self._create_server(name, [self.network], self.port_id) def _create_server(self, name, networks, port_id=None): nets=[] for net in networks: network = {'uuid': net['id']} #network = {'uuid': networks['id']} if port_id is not None: network['port'] = port_id nets.append(network) networks=nets, # networks=[network, network], server = self._create_server(name, [self.network]) def _associate_floating_ip_2_port(self, server, port_id): floating_ip = self.create_floating_ip(server,port_id=port_id) self.floating_ip_tuple = Floating_IP_tuple(floating_ip, server) self._check_tenant_network_connectivity() self.check_public_network_connectivity(should_connect=True) return floating_ip['floating_ip_address'] @test.attr(type='smoke') @test.idempotent_id('e8fae7ba-1b6d-4bd0-bafa-efb86fb742aa') @test.services('compute', 'network') def test_network_vm_with_2_nics(self): """"""Test network with 2 nics on the same vm Boot a VM with 2 ports each one of different network - Attach a floating IP to the 1st port - Check that the Tempest host can perform key-based authentication to an ssh server hosted at the IP address of the 1st port - Configure the 2nd port dhcp, and attache a new floating ip to it. - Check that the Tempest host can perform key-based authentication to an ssh server hosted at the IP address of the 2nd port """""" self.security_group = \ self._create_security_group(tenant_id=self.tenant_id) self.network1, self.subnet1, self.router1 = self.create_networks() self.network2, self.subnet2, self.router2 = self.create_networks() server = self._create_server(data_utils.rand_name('server-smoke'), [self.network1, self.network2]) port_1 = self._list_ports(fixed_ips='ip_address' + '=' + server['addresses'][self.network1['name']][0]['addr']) port_2 = self._list_ports(fixed_ips='ip_address' + '=' + server['addresses'][self.network2['name']][0]['addr']) # 1st port: ip_address = self._associate_floating_ip_2_port(server=server, port_id=port_1[0]['id']) # enable dhcp on the 2nd port : private_key = self._get_server_key(server) ssh_client = self.get_remote_client( ip_address, private_key=private_key) nic_list = self._get_server_nics(ssh_client) ssh_client.set_udhcpc_on_interface(nic=nic_list[2][1]) self._check_network_internal_connectivity(network=self.network1) self._check_network_external_connectivity() ssh_client.set_nic_state(nic=nic_list[1][1],state='down &') self._disassociate_floating_ips() self.check_public_network_connectivity(should_connect=False, msg=""after disassociate "" ""floating ip"") # 2nd port: self._associate_floating_ip_2_port(server=server, port_id=port_2[0]['id']) self._create_server(name, [self.new_net]) server = self._create_server(name, [self.network], port['id']) peer = self._create_server(name, [self.new_net])"," server = self._create_server(name, self.network, self.port_id) def _create_server(self, name, network, port_id=None): network = {'uuid': network['id']} if port_id is not None: network['port'] = port_id networks=[network], server = self._create_server(name, self.network) self._create_server(name, self.new_net) server = self._create_server(name, self.network, port['id']) peer = self._create_server(name, self.new_net)",83,14
openstack%2Fkolla-ansible~stable%2Frocky~I8b82ca74a02dbd803479b5486514f53a6eaf7768,openstack/kolla-ansible,stable/rocky,I8b82ca74a02dbd803479b5486514f53a6eaf7768,[DNM] Test Zun job,ABANDONED,2020-06-07 23:57:27.000000000,2021-08-29 08:26:33.000000000,,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-07 23:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b4a3aa06767fb88b193d78bd7119d78522ed4a1c', 'message': '[DNM] Test Zun job\n\nChange-Id: I8b82ca74a02dbd803479b5486514f53a6eaf7768\n'}, {'number': 2, 'created': '2020-06-07 23:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5320d887f6bf63d6299e4132143aa8db13869508', 'message': '[DNM] Test Zun job\n\nChange-Id: I8b82ca74a02dbd803479b5486514f53a6eaf7768\n'}, {'number': 3, 'created': '2020-06-08 02:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d9bf060c0e0b404ea57d072f453ef27e46482b7f', 'message': '[DNM] Test Zun job\n\nDepends-On: https://review.opendev.org/#/c/734001/\nChange-Id: I8b82ca74a02dbd803479b5486514f53a6eaf7768\n'}, {'number': 4, 'created': '2020-06-21 23:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7c423ceaaa07b0c2f96717415f5383abfea287ba', 'message': '[DNM] Test Zun job\n\nDepends-On: https://review.opendev.org/#/c/734001/\nChange-Id: I8b82ca74a02dbd803479b5486514f53a6eaf7768\n'}, {'number': 5, 'created': '2020-06-21 23:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2a2a8d8b46199d3b22e3a6cc3679b8be344b482d', 'message': '[DNM] Test Zun job\n\nChange-Id: I8b82ca74a02dbd803479b5486514f53a6eaf7768\n'}, {'number': 6, 'created': '2020-06-22 00:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cc5c536156d61bacb3ef729f4422104eae62c930', 'message': '[DNM] Test Zun job\n\nDepends-On: https://review.opendev.org/#/c/737198/\nChange-Id: I8b82ca74a02dbd803479b5486514f53a6eaf7768\n'}, {'number': 7, 'created': '2021-08-29 07:08:33.000000000', 'files': ['ansible/roles/zun/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/acbc5df911493337d4bba0121e583b3d7510223f', 'message': '[DNM] Test Zun job\n\nDepends-On: https://review.opendev.org/#/c/737198/\nChange-Id: I8b82ca74a02dbd803479b5486514f53a6eaf7768\n'}]",0,733997,acbc5df911493337d4bba0121e583b3d7510223f,21,3,7,11536,,,0,"[DNM] Test Zun job

Depends-On: https://review.opendev.org/#/c/737198/
Change-Id: I8b82ca74a02dbd803479b5486514f53a6eaf7768
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/97/733997/5 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/zun/tasks/config.yml'],1,b4a3aa06767fb88b193d78bd7119d78522ed4a1c,,# test - iname: Ensuring config directories exist,- name: Ensuring config directories exist,2,1
openstack%2Fzun~master~I56d2b10f2366f5cac6614f531dc9c5fcb4892fc6,openstack/zun,master,I56d2b10f2366f5cac6614f531dc9c5fcb4892fc6,[WIP] Install the necessary apparmor tooling for containerd,ABANDONED,2021-08-29 07:05:09.000000000,2021-08-29 08:23:00.000000000,,[],"[{'number': 1, 'created': '2021-08-29 07:05:09.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/zun/commit/375e09c6980381c1865482805b8f9695aa28de43', 'message': '[WIP] Install the necessary apparmor tooling for containerd\n\nChange-Id: I56d2b10f2366f5cac6614f531dc9c5fcb4892fc6\n'}]",0,806489,375e09c6980381c1865482805b8f9695aa28de43,2,0,1,11536,,,0,"[WIP] Install the necessary apparmor tooling for containerd

Change-Id: I56d2b10f2366f5cac6614f531dc9c5fcb4892fc6
",git fetch https://review.opendev.org/openstack/zun refs/changes/89/806489/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,375e09c6980381c1865482805b8f9695aa28de43,, # Required for containerd cri apparmor-utils [platform:dpkg],,3,0
