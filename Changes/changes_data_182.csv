id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fironic-python-agent~master~Ie4ee605ad9c6cda58808512a563247175859c71e,openstack/ironic-python-agent,master,Ie4ee605ad9c6cda58808512a563247175859c71e,Always fall back to sysrq when power off fails,MERGED,2021-04-12 11:33:50.000000000,2021-04-14 12:15:27.000000000,2021-04-14 12:13:36.000000000,"[{'_account_id': 10342}, {'_account_id': 11076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-12 11:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1d9ac7854dbb76781d92ac504a130adb50c236d0', 'message': ""[WIP] Always fall back to sysrq when power off fails\n\nThe line we're looking for is no longer there, at least for CentOS based\ncontainers. Just fall back to sysrq always.\n\nChange-Id: Ie4ee605ad9c6cda58808512a563247175859c71e\n""}, {'number': 2, 'created': '2021-04-13 17:05:46.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_standby.py', 'ironic_python_agent/extensions/standby.py', 'releasenotes/notes/container-poweroff-d9ffb637cf1cee6c.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b395181b1b1381ff0802744807a981df8453bc40', 'message': ""Always fall back to sysrq when power off fails\n\nThe line we're looking for is not there when IPA is in a container, at least\nfor CentOS based containers. Just fall back to sysrq on errors.\n\nChange-Id: Ie4ee605ad9c6cda58808512a563247175859c71e\n""}]",0,785856,b395181b1b1381ff0802744807a981df8453bc40,10,3,2,10239,,,0,"Always fall back to sysrq when power off fails

The line we're looking for is not there when IPA is in a container, at least
for CentOS based containers. Just fall back to sysrq on errors.

Change-Id: Ie4ee605ad9c6cda58808512a563247175859c71e
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/56/785856/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/extensions/standby.py'],1,1d9ac7854dbb76781d92ac504a130adb50c236d0,container-poweroff," try: utils.execute(command, use_standard_locale=True) except processutils.ProcessExecutionError as e: LOG.warning('%s command failed with error %s, ' 'falling back to sysrq-trigger.', command, e) else: return try: if command == 'poweroff': utils.execute(""echo o > /proc/sysrq-trigger"", shell=True) elif command == 'reboot': utils.execute(""echo b > /proc/sysrq-trigger"", shell=True)"," try: _, stderr = utils.execute(command, use_standard_locale=True) if 'ignoring request.' in stderr: LOG.debug('%s command failed with error %s, ' 'falling back to sysrq-trigger.', command, stderr) if command == 'poweroff': utils.execute(""echo o > /proc/sysrq-trigger"", shell=True) elif command == 'reboot': utils.execute(""echo b > /proc/sysrq-trigger"", shell=True)",13,8
openstack%2Ftripleo-heat-templates~master~Ifbf1a4529dde539e48ff143371ee74e2c8f42e8d,openstack/tripleo-heat-templates,master,Ifbf1a4529dde539e48ff143371ee74e2c8f42e8d,Add ansible_ssh_host_key_rsa_public legacy fact,ABANDONED,2021-04-13 18:41:19.000000000,2021-04-14 12:02:36.000000000,,"[{'_account_id': 6816}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-13 18:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b32ca725493cf92e032158d356c26f1ef2ccc01', 'message': '[wip] Add ansible_ssh_host_key_rsa_public legacy fact\n\nansible_ssh_host_key_rsa_public is used by tripleo_ssh_known_hosts\nrole.\n\nChange-Id: Ifbf1a4529dde539e48ff143371ee74e2c8f42e8d\nCloses-Bug: #1898120\n'}, {'number': 2, 'created': '2021-04-14 05:31:56.000000000', 'files': ['common/deploy-steps-playbooks-common.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dbbc4f6bd1f3e00387b0ca854f8acdad482b9e8c', 'message': 'Add ansible_ssh_host_key_rsa_public legacy fact\n\nWith setting ANSIBLE_INJECT_FACT_VARS=False tripleo_ssh_known_hosts\nmisses ansible_ssh_host_key_rsa_public information.\n\nChange-Id: Ifbf1a4529dde539e48ff143371ee74e2c8f42e8d\nCloses-Bug: #1923403\n'}]",3,786089,dbbc4f6bd1f3e00387b0ca854f8acdad482b9e8c,12,5,2,17216,,,0,"Add ansible_ssh_host_key_rsa_public legacy fact

With setting ANSIBLE_INJECT_FACT_VARS=False tripleo_ssh_known_hosts
misses ansible_ssh_host_key_rsa_public information.

Change-Id: Ifbf1a4529dde539e48ff143371ee74e2c8f42e8d
Closes-Bug: #1923403
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/786089/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-playbooks-common.yaml'],1,7b32ca725493cf92e032158d356c26f1ef2ccc01,1923403," ansible_ssh_host_key_rsa_public: ""{{ ansible_facts['ssh_host_key_rsa_public'] }}""",,1,0
openstack%2Floci~master~I2841d0d66883ede813f35c6141c58eb274736ac1,openstack/loci,master,I2841d0d66883ede813f35c6141c58eb274736ac1,Add job to build Cyborg image with zuul,ABANDONED,2021-03-17 09:03:51.000000000,2021-04-14 11:34:23.000000000,,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2021-03-17 09:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/2ae4e39d3a3c588f9cf095d37c72751fa46191fc', 'message': 'Add job to build Cyborg image with zuul\n\nThis adds a build job for Cyborg images. This will help others use Cyborg with  docker / k8s.\n\nChange-Id: I2841d0d66883ede813f35c6141c58eb274736ac1\n'}, {'number': 2, 'created': '2021-04-06 01:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/55ca199d1a8f37189b8e1e0db340d971ec0cda16', 'message': 'Add job to build Cyborg image with zuul\n\nThis adds a build job for Cyborg images. This will help others use Cyborg with  docker / k8s.\n\nChange-Id: I2841d0d66883ede813f35c6141c58eb274736ac1\n'}, {'number': 3, 'created': '2021-04-08 15:42:38.000000000', 'files': ['.zuul.d/cyborg.yaml'], 'web_link': 'https://opendev.org/openstack/loci/commit/1d370e2671cbf1da5e703056a884eb3b86cdc046', 'message': 'Add job to build Cyborg image with zuul\n\nThis adds a build job for Cyborg images. This will help others use Cyborg with  docker / k8s.\n\nChange-Id: I2841d0d66883ede813f35c6141c58eb274736ac1\n'}]",1,781050,1d370e2671cbf1da5e703056a884eb3b86cdc046,39,8,3,30449,,,0,"Add job to build Cyborg image with zuul

This adds a build job for Cyborg images. This will help others use Cyborg with  docker / k8s.

Change-Id: I2841d0d66883ede813f35c6141c58eb274736ac1
",git fetch https://review.opendev.org/openstack/loci refs/changes/50/781050/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/cyborg.yaml'],1,2ae4e39d3a3c588f9cf095d37c72751fa46191fc,,- project: check: jobs: - loci-cyborg gate: jobs: - loci-cyborg post: jobs: - publish-loci-cyborg - job: name: loci-cyborg parent: loci-base vars: project: cyborg required-projects: - openstack/loci - openstack/requirements - openstack/cyborg - job: name: publish-loci-cyborg parent: loci-cyborg post-run: playbooks/push.yaml secrets: - loci_docker_login ,,27,0
openstack%2Fcinder~master~I1fb65afb0f7c4461c8e174479c37c960b1fcbe00,openstack/cinder,master,I1fb65afb0f7c4461c8e174479c37c960b1fcbe00,Support for multiattach and ipv6 for Zadara cinder driver,ABANDONED,2021-01-06 16:36:08.000000000,2021-04-14 11:32:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-06 16:36:08.000000000', 'files': ['cinder/volume/drivers/zadara/__init__.py', 'cinder/volume/drivers/zadara/exception.py', 'cinder/volume/drivers/zadara/common.py', 'cinder/volume/drivers/zadara/zadara.py', 'cinder/volume/drivers/zadara.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/615562f21b4716f81e9dc8ac863169ff0c203175', 'message': 'Support for multiattach and ipv6 for Zadara cinder driver\n\nChange-Id: I1fb65afb0f7c4461c8e174479c37c960b1fcbe00\n'}]",0,769566,615562f21b4716f81e9dc8ac863169ff0c203175,31,1,1,32880,,,0,"Support for multiattach and ipv6 for Zadara cinder driver

Change-Id: I1fb65afb0f7c4461c8e174479c37c960b1fcbe00
",git fetch https://review.opendev.org/openstack/cinder refs/changes/66/769566/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/zadara/__init__.py', 'cinder/volume/drivers/zadara/common.py', 'cinder/volume/drivers/zadara/exception.py', 'cinder/volume/drivers/zadara/zadara.py', 'cinder/volume/drivers/zadara.py']",5,615562f21b4716f81e9dc8ac863169ff0c203175,TOPIC-BRANCH,,"# Copyright (c) 2019 Zadara Storage, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Volume driver for Zadara Virtual Private Storage Array (VPSA). This driver requires VPSA with API version 15.07 or higher. """""" from lxml import etree from oslo_config import cfg from oslo_log import log as logging from oslo_utils import strutils import requests import six from cinder import exception from cinder.i18n import _ from cinder import interface from cinder.volume import configuration from cinder.volume import driver LOG = logging.getLogger(__name__) zadara_opts = [ cfg.BoolOpt('zadara_use_iser', default=True, help='VPSA - Use ISER instead of iSCSI'), cfg.StrOpt('zadara_vpsa_host', default=None, help='VPSA - Management Host name or IP address'), cfg.PortOpt('zadara_vpsa_port', default=None, help='VPSA - Port number'), cfg.BoolOpt('zadara_vpsa_use_ssl', default=False, help='VPSA - Use SSL connection'), cfg.BoolOpt('zadara_ssl_cert_verify', default=True, help='If set to True the http client will validate the SSL ' 'certificate of the VPSA endpoint.'), cfg.StrOpt('zadara_user', default=None, deprecated_for_removal=True, help='VPSA - Username'), cfg.StrOpt('zadara_password', default=None, help='VPSA - Password', deprecated_for_removal=True, secret=True), cfg.StrOpt('zadara_access_key', default=None, help='VPSA access key', secret=True), cfg.StrOpt('zadara_vpsa_poolname', default=None, help='VPSA - Storage Pool assigned for volumes'), cfg.BoolOpt('zadara_vol_encrypt', default=False, help='VPSA - Default encryption policy for volumes'), cfg.StrOpt('zadara_vol_name_template', default='OS_%s', help='VPSA - Default template for VPSA volume names'), cfg.BoolOpt('zadara_default_snap_policy', default=False, help=""VPSA - Attach snapshot policy for volumes"")] CONF = cfg.CONF CONF.register_opts(zadara_opts, group=configuration.SHARED_CONF_GROUP) class ZadaraServerCreateFailure(exception.VolumeDriverException): message = _(""Unable to create server object for initiator %(name)s"") class ZadaraServerNotFound(exception.NotFound): message = _(""Unable to find server object for initiator %(name)s"") class ZadaraVPSANoActiveController(exception.VolumeDriverException): message = _(""Unable to find any active VPSA controller"") class ZadaraAttachmentsNotFound(exception.NotFound): message = _(""Failed to retrieve attachments for volume %(name)s"") class ZadaraInvalidAttachmentInfo(exception.Invalid): message = _(""Invalid attachment info for volume %(name)s: %(reason)s"") class ZadaraVolumeNotFound(exception.VolumeDriverException): message = ""%(reason)s"" class ZadaraInvalidAccessKey(exception.VolumeDriverException): message = ""Invalid VPSA access key"" class ZadaraVPSAConnection(object): """"""Executes volume driver commands on VPSA."""""" def __init__(self, conf): self.conf = conf self.access_key = conf.zadara_access_key self.ensure_connection() def _generate_vpsa_cmd(self, cmd, **kwargs): """"""Generate command to be sent to VPSA."""""" # Dictionary of applicable VPSA commands in the following format: # 'command': (method, API_URL, {optional parameters}) vpsa_commands = { 'login': ('POST', '/api/users/login.xml', {'user': self.conf.zadara_user, 'password': self.conf.zadara_password}), # Volume operations 'create_volume': ('POST', '/api/volumes.xml', {'name': kwargs.get('name'), 'capacity': kwargs.get('size'), 'pool': self.conf.zadara_vpsa_poolname, 'thin': 'YES', 'crypt': 'YES' if self.conf.zadara_vol_encrypt else 'NO', 'attachpolicies': 'NO' if not self.conf.zadara_default_snap_policy else 'YES'}), 'delete_volume': ('DELETE', '/api/volumes/%s.xml' % kwargs.get('vpsa_vol'), {'force': 'YES'}), 'expand_volume': ('POST', '/api/volumes/%s/expand.xml' % kwargs.get('vpsa_vol'), {'capacity': kwargs.get('size')}), # Snapshot operations # Snapshot request is triggered for a single volume though the # API call implies that snapshot is triggered for CG (legacy API). 'create_snapshot': ('POST', '/api/consistency_groups/%s/snapshots.xml' % kwargs.get('cg_name'), {'display_name': kwargs.get('snap_name')}), 'delete_snapshot': ('DELETE', '/api/snapshots/%s.xml' % kwargs.get('snap_id'), {}), 'create_clone_from_snap': ('POST', '/api/consistency_groups/%s/clone.xml' % kwargs.get('cg_name'), {'name': kwargs.get('name'), 'snapshot': kwargs.get('snap_id')}), 'create_clone': ('POST', '/api/consistency_groups/%s/clone.xml' % kwargs.get('cg_name'), {'name': kwargs.get('name')}), # Server operations 'create_server': ('POST', '/api/servers.xml', {'display_name': kwargs.get('initiator'), 'iqn': kwargs.get('initiator')}), # Attach/Detach operations 'attach_volume': ('POST', '/api/servers/%s/volumes.xml' % kwargs.get('vpsa_srv'), {'volume_name[]': kwargs.get('vpsa_vol'), 'force': 'NO'}), 'detach_volume': ('POST', '/api/volumes/%s/detach.xml' % kwargs.get('vpsa_vol'), {'server_name[]': kwargs.get('vpsa_srv'), 'force': 'YES'}), # Get operations 'list_volumes': ('GET', '/api/volumes.xml', {}), 'list_pools': ('GET', '/api/pools.xml', {}), 'list_controllers': ('GET', '/api/vcontrollers.xml', {}), 'list_servers': ('GET', '/api/servers.xml', {}), 'list_vol_attachments': ('GET', '/api/volumes/%s/servers.xml' % kwargs.get('vpsa_vol'), {}), 'list_vol_snapshots': ('GET', '/api/consistency_groups/%s/snapshots.xml' % kwargs.get('cg_name'), {})} try: method, url, params = vpsa_commands[cmd] except KeyError: raise exception.UnknownCmd(cmd=cmd) if method == 'GET': params = dict(page=1, start=0, limit=0) body = None elif method in ['DELETE', 'POST']: body = params params = None else: msg = (_('Method %(method)s is not defined') % {'method': method}) LOG.error(msg) raise AssertionError(msg) # 'access_key' was generated using username and password # or it was taken from the input file headers = {'X-Access-Key': self.access_key} return method, url, params, body, headers def ensure_connection(self, cmd=None): """"""Retrieve access key for VPSA connection."""""" if self.access_key or cmd == 'login': return cmd = 'login' xml_tree = self.send_cmd(cmd) user = xml_tree.find('user') if user is None: raise (exception.MalformedResponse( cmd=cmd, reason=_('no ""user"" field'))) access_key = user.findtext('access-key') if access_key is None: raise (exception.MalformedResponse( cmd=cmd, reason=_('no ""access-key"" field'))) self.access_key = access_key def send_cmd(self, cmd, **kwargs): """"""Send command to VPSA Controller."""""" self.ensure_connection(cmd) method, url, params, body, headers = self._generate_vpsa_cmd(cmd, **kwargs) LOG.debug('Invoking %(cmd)s using %(method)s request.', {'cmd': cmd, 'method': method}) host = self.conf.zadara_vpsa_host port = int(self.conf.zadara_vpsa_port) protocol = ""https"" if self.conf.zadara_vpsa_use_ssl else ""http"" if protocol == ""https"": if not self.conf.zadara_ssl_cert_verify: verify = False else: cert = ((self.conf.driver_ssl_cert_path) or None) verify = cert if cert else True else: verify = False if port: api_url = ""%s://%s:%d%s"" % (protocol, host, port, url) else: api_url = ""%s://%s%s"" % (protocol, host, url) try: with requests.Session() as session: session.headers.update(headers) response = session.request(method, api_url, params=params, data=body, headers=headers, verify=verify) except requests.exceptions.RequestException as e: message = (_('Exception: %s') % six.text_type(e)) raise exception.VolumeDriverException(message=message) if response.status_code != 200: raise exception.BadHTTPResponseStatus(status=response.status_code) data = response.content xml_tree = etree.fromstring(data) status = xml_tree.findtext('status') if status == '5': # Invalid Credentials raise ZadaraInvalidAccessKey() if status != '0': raise exception.FailedCmdWithDump(status=status, data=data) if method in ['POST', 'DELETE']: LOG.debug('Operation completed with status code %(status)s', {'status': status}) return xml_tree @interface.volumedriver class ZadaraVPSAISCSIDriver(driver.ISCSIDriver): """"""Zadara VPSA iSCSI/iSER volume driver. .. code-block:: none Version history: 15.07 - Initial driver 16.05 - Move from httplib to requests 19.08 - Add API access key authentication option """""" VERSION = '19.08' # ThirdPartySystems wiki page CI_WIKI_NAME = ""ZadaraStorage_VPSA_CI"" def __init__(self, *args, **kwargs): super(ZadaraVPSAISCSIDriver, self).__init__(*args, **kwargs) self.vpsa = None self.configuration.append_config_values(zadara_opts) @staticmethod def get_driver_options(): return zadara_opts def do_setup(self, context): """"""Any initialization the volume driver does while starting. Establishes initial connection with VPSA and retrieves access_key. """""" self.vpsa = ZadaraVPSAConnection(self.configuration) self._check_access_key_validity() def _check_access_key_validity(self): """"""Check VPSA access key"""""" self.vpsa.ensure_connection() if not self.vpsa.access_key: raise ZadaraInvalidAccessKey() active_ctrl = self._get_active_controller_details() if active_ctrl is None: raise ZadaraInvalidAccessKey() def check_for_setup_error(self): """"""Returns an error (exception) if prerequisites aren't met."""""" self._check_access_key_validity() def local_path(self, volume): """"""Return local path to existing local volume."""""" raise NotImplementedError() def _xml_parse_helper(self, xml_tree, first_level, search_tuple, first=True): """"""Helper for parsing VPSA's XML output. Returns single item if first==True or list for multiple selection. If second argument in search_tuple is None - returns all items with appropriate key. """""" objects = xml_tree.find(first_level) if objects is None: return None result_list = [] key, value = search_tuple for child_object in list(objects): found_value = child_object.findtext(key) if found_value and (found_value == value or value is None): if first: return child_object else: result_list.append(child_object) return result_list if result_list else None def _get_vpsa_volume_name_and_size(self, name): """"""Return VPSA's name & size for the volume."""""" xml_tree = self.vpsa.send_cmd('list_volumes') volume = self._xml_parse_helper(xml_tree, 'volumes', ('display-name', name)) if volume is not None: return (volume.findtext('name'), int(volume.findtext('virtual-capacity'))) return None, None def _get_vpsa_volume_name(self, name): """"""Return VPSA's name for the volume."""""" (vol_name, size) = self._get_vpsa_volume_name_and_size(name) return vol_name def _get_volume_cg_name(self, name): """"""Return name of the consistency group for the volume. cg-name is a volume uniqe identifier (legacy attribute) and not consistency group as it may imply. """""" xml_tree = self.vpsa.send_cmd('list_volumes') volume = self._xml_parse_helper(xml_tree, 'volumes', ('display-name', name)) if volume is not None: return volume.findtext('cg-name') return None def _get_snap_id(self, cg_name, snap_name): """"""Return snapshot ID for particular volume."""""" xml_tree = self.vpsa.send_cmd('list_vol_snapshots', cg_name=cg_name) snap = self._xml_parse_helper(xml_tree, 'snapshots', ('display-name', snap_name)) if snap is not None: return snap.findtext('name') return None def _get_pool_capacity(self, pool_name): """"""Return pool's total and available capacities."""""" xml_tree = self.vpsa.send_cmd('list_pools') pool = self._xml_parse_helper(xml_tree, 'pools', ('name', pool_name)) if pool is not None: total = int(pool.findtext('capacity')) free = int(float(pool.findtext('available-capacity'))) LOG.debug('Pool %(name)s: %(total)sGB total, %(free)sGB free', {'name': pool_name, 'total': total, 'free': free}) return total, free return 'unknown', 'unknown' def _get_active_controller_details(self): """"""Return details of VPSA's active controller."""""" xml_tree = self.vpsa.send_cmd('list_controllers') ctrl = self._xml_parse_helper(xml_tree, 'vcontrollers', ('state', 'active')) if ctrl is not None: return dict(target=ctrl.findtext('target'), ip=ctrl.findtext('iscsi-ip'), chap_user=ctrl.findtext('vpsa-chap-user'), chap_passwd=ctrl.findtext('vpsa-chap-secret')) return None def _detach_vpsa_volume(self, vpsa_vol, vpsa_srv=None): """"""Detach volume from all attached servers."""""" if vpsa_srv: list_servers_ids = [vpsa_srv] else: list_servers = self._get_servers_attached_to_volume(vpsa_vol) list_servers_ids = [s.findtext('name') for s in list_servers] for server_id in list_servers_ids: # Detach volume from server self.vpsa.send_cmd('detach_volume', vpsa_srv=server_id, vpsa_vol=vpsa_vol) def _get_server_name(self, initiator): """"""Return VPSA's name for server object with given IQN."""""" xml_tree = self.vpsa.send_cmd('list_servers') server = self._xml_parse_helper(xml_tree, 'servers', ('iqn', initiator)) if server is not None: return server.findtext('name') return None def _create_vpsa_server(self, initiator): """"""Create server object within VPSA (if doesn't exist)."""""" vpsa_srv = self._get_server_name(initiator) if not vpsa_srv: xml_tree = self.vpsa.send_cmd('create_server', initiator=initiator) vpsa_srv = xml_tree.findtext('server-name') return vpsa_srv def create_volume(self, volume): """"""Create volume."""""" self.vpsa.send_cmd( 'create_volume', name=self.configuration.zadara_vol_name_template % volume['name'], size=volume['size']) def delete_volume(self, volume): """"""Delete volume. Return ok if doesn't exist. Auto detach from all servers. """""" # Get volume name name = self.configuration.zadara_vol_name_template % volume['name'] vpsa_vol = self._get_vpsa_volume_name(name) if not vpsa_vol: LOG.warning('Volume %s could not be found. ' 'It might be already deleted', name) return self._detach_vpsa_volume(vpsa_vol=vpsa_vol) # Delete volume self.vpsa.send_cmd('delete_volume', vpsa_vol=vpsa_vol) def create_snapshot(self, snapshot): """"""Creates a snapshot."""""" LOG.debug('Create snapshot: %s', snapshot['name']) # Retrieve the CG name for the base volume volume_name = (self.configuration.zadara_vol_name_template % snapshot['volume_name']) cg_name = self._get_volume_cg_name(volume_name) if not cg_name: msg = _('Volume %(name)s not found') % {'name': volume_name} LOG.error(msg) raise exception.VolumeDriverException(message=msg) self.vpsa.send_cmd('create_snapshot', cg_name=cg_name, snap_name=snapshot['name']) def delete_snapshot(self, snapshot): """"""Deletes a snapshot."""""" LOG.debug('Delete snapshot: %s', snapshot['name']) # Retrieve the CG name for the base volume volume_name = (self.configuration.zadara_vol_name_template % snapshot['volume_name']) cg_name = self._get_volume_cg_name(volume_name) if not cg_name: # If the volume isn't present, then don't attempt to delete LOG.warning('snapshot: original volume %s not found, ' 'skipping delete operation', volume_name) return snap_id = self._get_snap_id(cg_name, snapshot['name']) if not snap_id: # If the snapshot isn't present, then don't attempt to delete LOG.warning('snapshot: snapshot %s not found, ' 'skipping delete operation', snapshot['name']) return self.vpsa.send_cmd('delete_snapshot', snap_id=snap_id) def create_volume_from_snapshot(self, volume, snapshot): """"""Creates a volume from a snapshot."""""" LOG.debug('Creating volume from snapshot: %s', snapshot['name']) # Retrieve the CG name for the base volume volume_name = (self.configuration.zadara_vol_name_template % snapshot['volume_name']) cg_name = self._get_volume_cg_name(volume_name) if not cg_name: LOG.error('Volume %(name)s not found', {'name': volume_name}) raise exception.VolumeNotFound(volume_id=volume['id']) snap_id = self._get_snap_id(cg_name, snapshot['name']) if not snap_id: LOG.error('Snapshot %(name)s not found', {'name': snapshot['name']}) raise exception.SnapshotNotFound(snapshot_id=snapshot['id']) self.vpsa.send_cmd('create_clone_from_snap', cg_name=cg_name, name=self.configuration.zadara_vol_name_template % volume['name'], snap_id=snap_id) if volume['size'] > snapshot['volume_size']: self.extend_volume(volume, volume['size']) def create_cloned_volume(self, volume, src_vref): """"""Creates a clone of the specified volume."""""" LOG.debug('Creating clone of volume: %s', src_vref['name']) # Retrieve the CG name for the base volume volume_name = (self.configuration.zadara_vol_name_template % src_vref['name']) cg_name = self._get_volume_cg_name(volume_name) if not cg_name: LOG.error('Volume %(name)s not found', {'name': volume_name}) raise exception.VolumeNotFound(volume_id=volume['id']) self.vpsa.send_cmd('create_clone', cg_name=cg_name, name=self.configuration.zadara_vol_name_template % volume['name']) if volume['size'] > src_vref['size']: self.extend_volume(volume, volume['size']) def extend_volume(self, volume, new_size): """"""Extend an existing volume."""""" # Get volume name name = self.configuration.zadara_vol_name_template % volume['name'] (vpsa_vol, size) = self._get_vpsa_volume_name_and_size(name) if not vpsa_vol: msg = (_('Volume %(name)s could not be found. ' 'It might be already deleted') % {'name': name}) LOG.error(msg) raise ZadaraVolumeNotFound(reason=msg) if new_size < size: raise exception.InvalidInput( reason=_('%(new_size)s < current size %(size)s') % {'new_size': new_size, 'size': size}) expand_size = new_size - size self.vpsa.send_cmd('expand_volume', vpsa_vol=vpsa_vol, size=expand_size) def create_export(self, context, volume, vg=None): """"""Irrelevant for VPSA volumes. Export created during attachment."""""" pass def ensure_export(self, context, volume): """"""Irrelevant for VPSA volumes. Export created during attachment."""""" pass def remove_export(self, context, volume): """"""Irrelevant for VPSA volumes. Export removed during detach."""""" pass def initialize_connection(self, volume, connector): """"""Attach volume to initiator/host. During this call VPSA exposes volume to particular Initiator. It also creates a 'server' entity for Initiator (if it was not created before) All necessary connection information is returned, including auth data. Connection data (target, LUN) is not stored in the DB. """""" # First: Check Active controller: if not valid, raise exception ctrl = self._get_active_controller_details() if not ctrl: raise ZadaraVPSANoActiveController() # Get/Create server name for IQN initiator_name = connector['initiator'] vpsa_srv = self._create_vpsa_server(initiator_name) if not vpsa_srv: raise ZadaraServerCreateFailure(name=initiator_name) # Get volume name name = self.configuration.zadara_vol_name_template % volume['name'] vpsa_vol = self._get_vpsa_volume_name(name) if not vpsa_vol: raise exception.VolumeNotFound(volume_id=volume['id']) xml_tree = self.vpsa.send_cmd('list_vol_attachments', vpsa_vol=vpsa_vol) attach = self._xml_parse_helper(xml_tree, 'servers', ('name', vpsa_srv)) # Attach volume to server if attach is None: self.vpsa.send_cmd('attach_volume', vpsa_srv=vpsa_srv, vpsa_vol=vpsa_vol) xml_tree = self.vpsa.send_cmd('list_vol_attachments', vpsa_vol=vpsa_vol) server = self._xml_parse_helper(xml_tree, 'servers', ('iqn', initiator_name)) if server is None: raise ZadaraAttachmentsNotFound(name=name) target = server.findtext('target') lun = int(server.findtext('lun')) if None in [target, lun]: raise ZadaraInvalidAttachmentInfo( name=name, reason=_('target=%(target)s, lun=%(lun)s') % {'target': target, 'lun': lun}) properties = {'target_discovered': False, 'target_portal': '%s:%s' % (ctrl['ip'], '3260'), 'target_iqn': target, 'target_lun': lun, 'volume_id': volume['id'], 'auth_method': 'CHAP', 'auth_username': ctrl['chap_user'], 'auth_password': ctrl['chap_passwd']} LOG.debug('Attach properties: %(properties)s', {'properties': strutils.mask_password(properties)}) return {'driver_volume_type': ('iser' if (self.configuration.safe_get('zadara_use_iser')) else 'iscsi'), 'data': properties} def terminate_connection(self, volume, connector, **kwargs): """"""Detach volume from the initiator."""""" # Get server name for IQN if connector is None: # Detach volume from all servers # Get volume name name = self.configuration.zadara_vol_name_template % volume['name'] vpsa_vol = self._get_vpsa_volume_name(name) if vpsa_vol: self._detach_vpsa_volume(vpsa_vol=vpsa_vol) return else: LOG.warning('Volume %s could not be found', name) raise exception.VolumeNotFound(volume_id=volume['id']) initiator_name = connector['initiator'] vpsa_srv = self._get_server_name(initiator_name) if not vpsa_srv: raise ZadaraServerNotFound(name=initiator_name) # Get volume name name = self.configuration.zadara_vol_name_template % volume['name'] vpsa_vol = self._get_vpsa_volume_name(name) if not vpsa_vol: raise exception.VolumeNotFound(volume_id=volume['id']) # Detach volume from server self._detach_vpsa_volume(vpsa_vol=vpsa_vol, vpsa_srv=vpsa_srv) def _get_servers_attached_to_volume(self, vpsa_vol): """"""Return all servers attached to volume."""""" xml_tree = self.vpsa.send_cmd('list_vol_attachments', vpsa_vol=vpsa_vol) list_servers = self._xml_parse_helper(xml_tree, 'servers', ('iqn', None), first=False) return list_servers or [] def _update_volume_stats(self): """"""Retrieve stats info from volume group."""""" LOG.debug(""Updating volume stats"") data = {} backend_name = self.configuration.safe_get('volume_backend_name') storage_protocol = ('iSER' if (self.configuration.safe_get('zadara_use_iser')) else 'iSCSI') data[""volume_backend_name""] = backend_name or self.__class__.__name__ data[""vendor_name""] = 'Zadara Storage' data[""driver_version""] = self.VERSION data[""storage_protocol""] = storage_protocol data['reserved_percentage'] = self.configuration.reserved_percentage data['QoS_support'] = False (total, free) = self._get_pool_capacity(self.configuration. zadara_vpsa_poolname) data['total_capacity_gb'] = total data['free_capacity_gb'] = free self._stats = data ",2450,753
openstack%2Fheat~stable%2Fvictoria~I097aba2a97144327bec188e6c71629d0f6c95901,openstack/heat,stable/victoria,I097aba2a97144327bec188e6c71629d0f6c95901,Net attr: Sort segments without name attribute first,MERGED,2021-03-05 01:17:54.000000000,2021-04-14 11:23:39.000000000,2021-04-14 11:22:12.000000000,"[{'_account_id': 4571}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 01:17:54.000000000', 'files': ['heat/engine/resources/openstack/neutron/net.py', 'releasenotes/notes/os-neutron-net-segments-attribute-semi-predictable-b40a869317d053cc.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/546bc2391511fab3f2d8e0474f7aa1b6a0cde708', 'message': 'Net attr: Sort segments without name attribute first\n\nUseing get_attr, pulling index 0 in the segments list\nof a network to associate the a subnet with the ""first""\nsegment is useful since the ""first"" segment is created\nby neutron behind the scenes on network create. A resource\nreference cannot be used since the ""first"" segment is\'nt\na heat resource.\n\nThe issue is the order of the segments list is\'nt reliable.\n\nOn stack update index 0 may be a different segment, and\nwe end up trying to update the segment_id for a subnet.\nChangeing the segment association is not allowed, so\nthe stack update fails.\n\nWhile not perfect, sorting the list so that segments where\nname is None comes first will ensure that index 0 can be used.\n\nThe template author should ensure segments defined in the heat\ntemplate all have a names set, so that only the segment creted\nimplicitly by neutron have \'None\' name.\n\nCloses-Bug: #1894920\nChange-Id: I097aba2a97144327bec188e6c71629d0f6c95901\n(cherry picked from commit 539b2a4c4993787db0cd71750d3d159e584deccb)\n'}]",0,778695,546bc2391511fab3f2d8e0474f7aa1b6a0cde708,7,4,1,24245,,,0,"Net attr: Sort segments without name attribute first

Useing get_attr, pulling index 0 in the segments list
of a network to associate the a subnet with the ""first""
segment is useful since the ""first"" segment is created
by neutron behind the scenes on network create. A resource
reference cannot be used since the ""first"" segment is'nt
a heat resource.

The issue is the order of the segments list is'nt reliable.

On stack update index 0 may be a different segment, and
we end up trying to update the segment_id for a subnet.
Changeing the segment association is not allowed, so
the stack update fails.

While not perfect, sorting the list so that segments where
name is None comes first will ensure that index 0 can be used.

The template author should ensure segments defined in the heat
template all have a names set, so that only the segment creted
implicitly by neutron have 'None' name.

Closes-Bug: #1894920
Change-Id: I097aba2a97144327bec188e6c71629d0f6c95901
(cherry picked from commit 539b2a4c4993787db0cd71750d3d159e584deccb)
",git fetch https://review.opendev.org/openstack/heat refs/changes/95/778695/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/neutron/net.py', 'releasenotes/notes/os-neutron-net-segments-attribute-semi-predictable-b40a869317d053cc.yaml']",2,546bc2391511fab3f2d8e0474f7aa1b6a0cde708,bug/1894920-stable/victoria,"--- fixes: - | The ordering in the list of segments returned by ``OS::Neutron::Net`` resources is not predictable. Stack updates changeing attributes of the network can cause the list of segments to shift. The ordering is now slightly more predictable, segments with name=``None`` are now placed first in the list. This doesn't guarantee the order, but typically only the segment implicitly created by neutron has no name attribute set. The template author should ensure other segments on the network does have a name set, so that the implicit segment will always be index 0. Resolving attributes of the implcitly created segment on the network resource can then predictibly happen using index 0. See `bug: 1894920 <https://bugs.launchpad.net/tripleo/+bug/1894920>`_. ",,22,1
openstack%2Fnova-specs~master~Ia5d77416b497ef04fb915841b8cdf300230ff00c,openstack/nova-specs,master,Ia5d77416b497ef04fb915841b8cdf300230ff00c,Change error code when vDPA is unsupported,MERGED,2021-03-18 10:24:20.000000000,2021-04-14 10:56:20.000000000,2021-04-14 10:54:40.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-18 10:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/149c4fa48932e790d3783d47455eef24a6eca55f', 'message': ""Change error code when vDPA is unsupported\n\nWe had specified that we would return HTTP 403 (Forbidden) in the event\nthat a unsupported operation was requested on an instance with one or\nmore vDPA interfaces attached. This was chosen due to us already using\nthis code for unsupported operations with cyborg accelerators. However,\nHTTP 403 (Forbidden) isn't a great choice for this, as it suggests\nissues with authorization as opposed to a request the server simply\ncan't support. HTTP 409 (Conflict) isn't much better, but it does avoid\nconfusion with policy issues and aligns us with two other existing\nexamples: unsupported operations on instances with vTPM devices and\ninstances with SEV enabled.\n\nChange-Id: Ia5d77416b497ef04fb915841b8cdf300230ff00c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-04-13 15:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f7db9099e9fa9caa85c6b3f27f7bb54d5dd285e1', 'message': ""Change error code when vDPA is unsupported\n\nWe had specified that we would return HTTP 403 (Forbidden) in the event\nthat a unsupported operation was requested on an instance with one or\nmore vDPA interfaces attached. This was chosen due to us already using\nthis code for unsupported operations with cyborg accelerators. However,\nHTTP 403 (Forbidden) isn't a great choice for this, as it suggests\nissues with authorization as opposed to a request the server simply\ncan't support. HTTP 409 (Conflict) isn't much better, but it does avoid\nconfusion with policy issues and aligns us with two other existing\nexamples: unsupported operations on instances with vTPM devices and\ninstances with SEV enabled.\n\nChange-Id: Ia5d77416b497ef04fb915841b8cdf300230ff00c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-04-14 10:30:26.000000000', 'files': ['specs/wallaby/implemented/libvirt-vdpa-support.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/43380e19d72c6d8198124f5b61c07c0b35544a3d', 'message': ""Change error code when vDPA is unsupported\n\nWe had specified that we would return HTTP 403 (Forbidden) in the event\nthat a unsupported operation was requested on an instance with one or\nmore vDPA interfaces attached. This was chosen due to us already using\nthis code for unsupported operations with cyborg accelerators. However,\nHTTP 403 (Forbidden) isn't a great choice for this, as it suggests\nissues with authorization as opposed to a request the server simply\ncan't support. HTTP 409 (Conflict) isn't much better, but it does avoid\nconfusion with policy issues and aligns us with two other existing\nexamples: unsupported operations on instances with vTPM devices and\ninstances with SEV enabled.\n\nChange-Id: Ia5d77416b497ef04fb915841b8cdf300230ff00c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,781259,43380e19d72c6d8198124f5b61c07c0b35544a3d,18,5,3,15334,,,0,"Change error code when vDPA is unsupported

We had specified that we would return HTTP 403 (Forbidden) in the event
that a unsupported operation was requested on an instance with one or
more vDPA interfaces attached. This was chosen due to us already using
this code for unsupported operations with cyborg accelerators. However,
HTTP 403 (Forbidden) isn't a great choice for this, as it suggests
issues with authorization as opposed to a request the server simply
can't support. HTTP 409 (Conflict) isn't much better, but it does avoid
confusion with policy issues and aligns us with two other existing
examples: unsupported operations on instances with vTPM devices and
instances with SEV enabled.

Change-Id: Ia5d77416b497ef04fb915841b8cdf300230ff00c
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/59/781259/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/wallaby/approved/libvirt-vdpa-support.rst'],1,149c4fa48932e790d3783d47455eef24a6eca55f,vhost-vdpa, blocked at the api via a HTTP 409 (Conflict) error response so that we can enable it without a new micro-version. * - Wallaby - Updated to reflect changes to HTTP error codes, blocked at the api via a 403 error response so that we can enable it without a new micro-version.,4,2
openstack%2Freleases~master~Ia6d79df224a792915976864857fe2271e031b54d,openstack/releases,master,Ia6d79df224a792915976864857fe2271e031b54d,Wallaby final releases for cycle-with-rc projects,MERGED,2021-04-10 12:50:12.000000000,2021-04-14 10:53:23.000000000,2021-04-14 10:53:23.000000000,"[{'_account_id': 841}, {'_account_id': 4264}, {'_account_id': 4608}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 6469}, {'_account_id': 6484}, {'_account_id': 6732}, {'_account_id': 7166}, {'_account_id': 7973}, {'_account_id': 8099}, {'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 8846}, {'_account_id': 9003}, {'_account_id': 9303}, {'_account_id': 9708}, {'_account_id': 9816}, {'_account_id': 10234}, {'_account_id': 10239}, {'_account_id': 10420}, {'_account_id': 11536}, {'_account_id': 11561}, {'_account_id': 11628}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 12404}, {'_account_id': 13629}, {'_account_id': 13940}, {'_account_id': 14107}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 16643}, {'_account_id': 17685}, {'_account_id': 20498}, {'_account_id': 21069}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 23078}, {'_account_id': 23365}, {'_account_id': 25701}, {'_account_id': 25738}, {'_account_id': 27032}, {'_account_id': 27654}, {'_account_id': 28062}, {'_account_id': 28356}, {'_account_id': 28522}, {'_account_id': 28748}, {'_account_id': 29244}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-10 12:50:12.000000000', 'files': ['deliverables/wallaby/networking-hyperv.yaml', 'deliverables/wallaby/panko.yaml', 'deliverables/wallaby/zaqar.yaml', 'deliverables/wallaby/kuryr-kubernetes.yaml', 'deliverables/wallaby/murano-dashboard.yaml', 'deliverables/wallaby/networking-generic-switch.yaml', 'deliverables/wallaby/cloudkitty-dashboard.yaml', 'deliverables/wallaby/monasca-events-api.yaml', 'deliverables/wallaby/sahara-plugin-ambari.yaml', 'deliverables/wallaby/tacker-horizon.yaml', 'deliverables/wallaby/keystone.yaml', 'deliverables/wallaby/zaqar-ui.yaml', 'deliverables/wallaby/mistral-dashboard.yaml', 'deliverables/wallaby/sahara-plugin-storm.yaml', 'deliverables/wallaby/monasca-thresh.yaml', 'deliverables/wallaby/neutron-vpnaas-dashboard.yaml', 'deliverables/wallaby/cloudkitty.yaml', 'deliverables/wallaby/magnum.yaml', 'deliverables/wallaby/heat-dashboard.yaml', 'deliverables/wallaby/murano.yaml', 'deliverables/wallaby/designate.yaml', 'deliverables/wallaby/masakari.yaml', 'deliverables/wallaby/heat.yaml', 'deliverables/wallaby/manila-ui.yaml', 'deliverables/wallaby/mistral.yaml', 'deliverables/wallaby/networking-bgpvpn.yaml', 'deliverables/wallaby/sahara.yaml', 'deliverables/wallaby/zun.yaml', 'deliverables/wallaby/networking-odl.yaml', 'deliverables/wallaby/solum-dashboard.yaml', 'deliverables/wallaby/networking-sfc.yaml', 'deliverables/wallaby/sahara-dashboard.yaml', 'deliverables/wallaby/monasca-persister.yaml', 'deliverables/wallaby/sahara-plugin-vanilla.yaml', 'deliverables/wallaby/monasca-notification.yaml', 'deliverables/wallaby/storlets.yaml', 'deliverables/wallaby/sahara-plugin-mapr.yaml', 'deliverables/wallaby/barbican.yaml', 'deliverables/wallaby/sahara-plugin-cdh.yaml', 'deliverables/wallaby/glance.yaml', 'deliverables/wallaby/nova.yaml', 'deliverables/wallaby/ec2-api.yaml', 'deliverables/wallaby/masakari-monitors.yaml', 'deliverables/wallaby/senlin.yaml', 'deliverables/wallaby/freezer.yaml', 'deliverables/wallaby/senlin-dashboard.yaml', 'deliverables/wallaby/sahara-extra.yaml', 'deliverables/wallaby/aodh.yaml', 'deliverables/wallaby/trove-dashboard.yaml', 'deliverables/wallaby/placement.yaml', 'deliverables/wallaby/monasca-api.yaml', 'deliverables/wallaby/sahara-plugin-spark.yaml', 'deliverables/wallaby/watcher.yaml', 'deliverables/wallaby/neutron.yaml', 'deliverables/wallaby/blazar-dashboard.yaml', 'deliverables/wallaby/murano-agent.yaml', 'deliverables/wallaby/kuryr-libnetwork.yaml', 'deliverables/wallaby/tacker.yaml', 'deliverables/wallaby/adjutant-ui.yaml', 'deliverables/wallaby/octavia-dashboard.yaml', 'deliverables/wallaby/networking-baremetal.yaml', 'deliverables/wallaby/designate-dashboard.yaml', 'deliverables/wallaby/octavia.yaml', 'deliverables/wallaby/freezer-web-ui.yaml', 'deliverables/wallaby/trove.yaml', 'deliverables/wallaby/cinder.yaml', 'deliverables/wallaby/compute-hyperv.yaml', 'deliverables/wallaby/neutron-dynamic-routing.yaml', 'deliverables/wallaby/ceilometer.yaml', 'deliverables/wallaby/watcher-dashboard.yaml', 'deliverables/wallaby/zun-ui.yaml', 'deliverables/wallaby/cyborg.yaml', 'deliverables/wallaby/solum.yaml', 'deliverables/wallaby/manila.yaml', 'deliverables/wallaby/masakari-dashboard.yaml', 'deliverables/wallaby/networking-bagpipe.yaml', 'deliverables/wallaby/magnum-ui.yaml', 'deliverables/wallaby/adjutant.yaml', 'deliverables/wallaby/blazar.yaml', 'deliverables/wallaby/monasca-agent.yaml', 'deliverables/wallaby/neutron-vpnaas.yaml', 'deliverables/wallaby/monasca-ui.yaml', 'deliverables/wallaby/sahara-image-elements.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0ddbf48a96351daf09382f4f6a18d64681d8728c', 'message': 'Wallaby final releases for cycle-with-rc projects\n\nThis tags the final release for all cycle-with-rc projects for Wallaby.\nWhile not required, having PTLs ack this patch would be nice to include\nthat record in the merged metadata.\n\nRelease activity should now be frozen until this is processed on Apr 14.\nAny bugfixes merged to stable/wallaby can be queued up and ready to go\nas a follow on stable release after the coordinated release date.\n\nThere are different diff-start values for each project. This is used\nwhen generating release notes to denote the point where the\nstable/victoria branch started to diverge from what is included on\nstable/wallaby. For some, this will be the final Victoria major version,\nbut if multiple RCs were done, this may show the initial RC1 release\nversion. This is normal.\n\nChange-Id: Ia6d79df224a792915976864857fe2271e031b54d\n'}]",6,785754,0ddbf48a96351daf09382f4f6a18d64681d8728c,42,52,1,28522,,,0,"Wallaby final releases for cycle-with-rc projects

This tags the final release for all cycle-with-rc projects for Wallaby.
While not required, having PTLs ack this patch would be nice to include
that record in the merged metadata.

Release activity should now be frozen until this is processed on Apr 14.
Any bugfixes merged to stable/wallaby can be queued up and ready to go
as a follow on stable release after the coordinated release date.

There are different diff-start values for each project. This is used
when generating release notes to denote the point where the
stable/victoria branch started to diverge from what is included on
stable/wallaby. For some, this will be the final Victoria major version,
but if multiple RCs were done, this may show the initial RC1 release
version. This is normal.

Change-Id: Ia6d79df224a792915976864857fe2271e031b54d
",git fetch https://review.opendev.org/openstack/releases refs/changes/54/785754/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/networking-hyperv.yaml', 'deliverables/wallaby/panko.yaml', 'deliverables/wallaby/zaqar.yaml', 'deliverables/wallaby/kuryr-kubernetes.yaml', 'deliverables/wallaby/murano-dashboard.yaml', 'deliverables/wallaby/networking-generic-switch.yaml', 'deliverables/wallaby/cloudkitty-dashboard.yaml', 'deliverables/wallaby/monasca-events-api.yaml', 'deliverables/wallaby/sahara-plugin-ambari.yaml', 'deliverables/wallaby/tacker-horizon.yaml', 'deliverables/wallaby/keystone.yaml', 'deliverables/wallaby/zaqar-ui.yaml', 'deliverables/wallaby/mistral-dashboard.yaml', 'deliverables/wallaby/sahara-plugin-storm.yaml', 'deliverables/wallaby/monasca-thresh.yaml', 'deliverables/wallaby/neutron-vpnaas-dashboard.yaml', 'deliverables/wallaby/cloudkitty.yaml', 'deliverables/wallaby/magnum.yaml', 'deliverables/wallaby/heat-dashboard.yaml', 'deliverables/wallaby/murano.yaml', 'deliverables/wallaby/designate.yaml', 'deliverables/wallaby/masakari.yaml', 'deliverables/wallaby/heat.yaml', 'deliverables/wallaby/manila-ui.yaml', 'deliverables/wallaby/mistral.yaml', 'deliverables/wallaby/networking-bgpvpn.yaml', 'deliverables/wallaby/sahara.yaml', 'deliverables/wallaby/zun.yaml', 'deliverables/wallaby/networking-odl.yaml', 'deliverables/wallaby/solum-dashboard.yaml', 'deliverables/wallaby/networking-sfc.yaml', 'deliverables/wallaby/sahara-dashboard.yaml', 'deliverables/wallaby/monasca-persister.yaml', 'deliverables/wallaby/sahara-plugin-vanilla.yaml', 'deliverables/wallaby/monasca-notification.yaml', 'deliverables/wallaby/storlets.yaml', 'deliverables/wallaby/sahara-plugin-mapr.yaml', 'deliverables/wallaby/barbican.yaml', 'deliverables/wallaby/sahara-plugin-cdh.yaml', 'deliverables/wallaby/glance.yaml', 'deliverables/wallaby/nova.yaml', 'deliverables/wallaby/ec2-api.yaml', 'deliverables/wallaby/masakari-monitors.yaml', 'deliverables/wallaby/senlin.yaml', 'deliverables/wallaby/freezer.yaml', 'deliverables/wallaby/senlin-dashboard.yaml', 'deliverables/wallaby/sahara-extra.yaml', 'deliverables/wallaby/aodh.yaml', 'deliverables/wallaby/trove-dashboard.yaml', 'deliverables/wallaby/placement.yaml', 'deliverables/wallaby/monasca-api.yaml', 'deliverables/wallaby/sahara-plugin-spark.yaml', 'deliverables/wallaby/watcher.yaml', 'deliverables/wallaby/neutron.yaml', 'deliverables/wallaby/blazar-dashboard.yaml', 'deliverables/wallaby/murano-agent.yaml', 'deliverables/wallaby/kuryr-libnetwork.yaml', 'deliverables/wallaby/tacker.yaml', 'deliverables/wallaby/adjutant-ui.yaml', 'deliverables/wallaby/octavia-dashboard.yaml', 'deliverables/wallaby/networking-baremetal.yaml', 'deliverables/wallaby/designate-dashboard.yaml', 'deliverables/wallaby/octavia.yaml', 'deliverables/wallaby/freezer-web-ui.yaml', 'deliverables/wallaby/trove.yaml', 'deliverables/wallaby/cinder.yaml', 'deliverables/wallaby/compute-hyperv.yaml', 'deliverables/wallaby/neutron-dynamic-routing.yaml', 'deliverables/wallaby/ceilometer.yaml', 'deliverables/wallaby/watcher-dashboard.yaml', 'deliverables/wallaby/zun-ui.yaml', 'deliverables/wallaby/cyborg.yaml', 'deliverables/wallaby/solum.yaml', 'deliverables/wallaby/manila.yaml', 'deliverables/wallaby/masakari-dashboard.yaml', 'deliverables/wallaby/networking-bagpipe.yaml', 'deliverables/wallaby/magnum-ui.yaml', 'deliverables/wallaby/adjutant.yaml', 'deliverables/wallaby/blazar.yaml', 'deliverables/wallaby/monasca-agent.yaml', 'deliverables/wallaby/neutron-vpnaas.yaml', 'deliverables/wallaby/monasca-ui.yaml', 'deliverables/wallaby/sahara-image-elements.yaml']",83,0ddbf48a96351daf09382f4f6a18d64681d8728c,wallaby-final, - version: 14.0.0 projects: - repo: openstack/sahara-image-elements hash: ded80db2667438313bab6d448d19ef2305f2e527 diff-start: 13.0.0,,419,0
openstack%2Ftripleo-common~master~I154901314ba4da1b502299a98b29c7c2bd39c9f4,openstack/tripleo-common,master,I154901314ba4da1b502299a98b29c7c2bd39c9f4,Add Redfish properties when enrolling with 'idrac',MERGED,2021-02-10 09:37:14.000000000,2021-04-14 10:37:37.000000000,2021-04-13 21:31:33.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23847}, {'_account_id': 24245}, {'_account_id': 27909}, {'_account_id': 32108}, {'_account_id': 32126}, {'_account_id': 32205}]","[{'number': 1, 'created': '2021-02-10 09:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/30fa4d2a227755faf29d742fa743fbea36ec1046', 'message': 'WIP:Allow Redfish interface supported by iDRAC driver\n\nCurrently TripleO fails to set Redfish credentials on nodes when using\n""idrac"" driver, We need to teach TripleO about the Redfish hardware\ninterface implementations supported by the iDRAC driver.\nThis change will support adding the Redfish credentials along with the\nWS-MAN credentials and settings to the Ironic bare metal node object.\n\nCloses-Bug: #1914995\nChange-Id: I154901314ba4da1b502299a98b29c7c2bd39c9f4\n'}, {'number': 2, 'created': '2021-03-01 12:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8a41193d58be1b524bcfcfe25d9d78dab78b388e', 'message': 'Allow Redfish interface supported by iDRAC driver\n\nCurrently TripleO fails to set Redfish credentials on nodes when using\n""idrac"" driver, We need to teach TripleO about the Redfish hardware\ninterface implementations supported by the iDRAC driver.\nThis change will support adding the Redfish credentials along with the\nWS-MAN credentials and settings to the Ironic bare metal node object.\n\nCloses-Bug: #1914995\nChange-Id: I154901314ba4da1b502299a98b29c7c2bd39c9f4\n'}, {'number': 3, 'created': '2021-03-29 15:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/267e4b45a341020f5eda91fb72323d51a9911ad7', 'message': 'Allow Redfish interface supported by iDRAC driver\n\nCurrently TripleO fails to set Redfish credentials on nodes when using\n""idrac"" driver, We need to teach TripleO about the Redfish hardware\ninterface implementations supported by the iDRAC driver.\nThis change will support adding the Redfish credentials along with the\nWS-MAN credentials and settings to the Ironic bare metal node object.\n\nCloses-Bug: #1914995\nChange-Id: I154901314ba4da1b502299a98b29c7c2bd39c9f4\n'}, {'number': 4, 'created': '2021-04-07 23:39:16.000000000', 'files': ['tripleo_common/tests/utils/test_nodes.py', 'tripleo_common/utils/nodes.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0d8a6cdabb21798968ca715da4918e1f1fd8089d', 'message': ""Add Redfish properties when enrolling with 'idrac'\n\nThis change adds Redfish properties, along with Web Services Management\n(WS-Man) properties, when enrolling an ironic node with the 'idrac'\nhardware type.\n\nCloses-Bug: #1914995\nChange-Id: I154901314ba4da1b502299a98b29c7c2bd39c9f4\n""}]",25,774787,0d8a6cdabb21798968ca715da4918e1f1fd8089d,41,11,4,32126,,,0,"Add Redfish properties when enrolling with 'idrac'

This change adds Redfish properties, along with Web Services Management
(WS-Man) properties, when enrolling an ironic node with the 'idrac'
hardware type.

Closes-Bug: #1914995
Change-Id: I154901314ba4da1b502299a98b29c7c2bd39c9f4
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/87/774787/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/utils/test_nodes.py', 'tripleo_common/utils/nodes.py']",2,30fa4d2a227755faf29d742fa743fbea36ec1046,bug/1914995,"class iDRACDriverInfo(DriverInfo): def __init__(self): super(iDRACDriverInfo, self).__init__( 'drac', mapping={}, hardware_type='idrac', ) self._drac_driverinfo = PrefixedDriverInfo('drac', has_port=True, hardware_type='idrac') self._redfish_driverinfo = RedfishDriverInfo() def convert_key(self, key): converted = None for driver_info in [self._drac_driverinfo, self._redfish_driverinfo]: new_key = driver_info.convert_key(key) if converted is None: converted = new_key return converted def convert(self, fields): """"""Convert fields from instackenv.json format to ironic names."""""" result = self.DEFAULTS.copy() for key, value in fields.items(): for driver_info in [self._drac_driverinfo, self._redfish_driverinfo]: new_key = driver_info.convert_key(key) if new_key is not None: result[new_key] = value return result def unique_id_from_fields(self, fields): return self._drac_driverinfo.unique_id_from_fields(fields) def unique_id_from_node(self, node): return self._drac_driverinfo.unique_id_from_node(node) r'^.*_drac$': PrefixedDriverInfo('drac', has_port=True, hardware_type='idrac'), r'^idrac$': iDRACDriverInfo(),"," r'^(idrac|.*_drac)$': PrefixedDriverInfo('drac', has_port=True, hardware_type='idrac'),",45,3
openstack%2Ftripleo-ansible~master~Iff94e95cb7c488112de4b9ac9947e4513ef8449f,openstack/tripleo-ansible,master,Iff94e95cb7c488112de4b9ac9947e4513ef8449f,Add module and cli to extract net VIPs,MERGED,2021-03-22 11:07:24.000000000,2021-04-14 10:13:48.000000000,2021-04-14 10:11:42.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-22 11:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/160fd2150c54728a542d3fbfd829d6429c3f6ac5', 'message': 'Add module and cli to extract net VIPs\n\nAdd a module and cli playbooks to extact network\nVirtual IPs info from a deployed overcloud heat stack.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/779502\nChange-Id: Iff94e95cb7c488112de4b9ac9947e4513ef8449f\n'}, {'number': 2, 'created': '2021-03-25 02:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/29c60a41925956ee3eeae4f340b8ce94660f07cf', 'message': 'Add module and cli to extract net VIPs\n\nAdd a module and cli playbooks to extact network\nVirtual IPs info from a deployed overcloud heat stack.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/779502\nChange-Id: Iff94e95cb7c488112de4b9ac9947e4513ef8449f\n'}, {'number': 3, 'created': '2021-03-25 23:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5dd46cfb12d58472fd39a2fe4339eb346760a43d', 'message': 'Add module and cli to extract net VIPs\n\nAdd a module and cli playbooks to extact network\nVirtual IPs info from a deployed overcloud heat stack.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/779502\nChange-Id: Iff94e95cb7c488112de4b9ac9947e4513ef8449f\n'}, {'number': 4, 'created': '2021-03-30 04:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b4de3b4111a87f15873c535733dcabadae14809a', 'message': 'Add module and cli to extract net VIPs\n\nAdd a module and cli playbooks to extact network\nVirtual IPs info from a deployed overcloud heat stack.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/779502\nChange-Id: Iff94e95cb7c488112de4b9ac9947e4513ef8449f\n'}, {'number': 5, 'created': '2021-03-30 10:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0ad5a9b41e06e2d3537885e32c7408888f512a91', 'message': 'Add module and cli to extract net VIPs\n\nAdd a module and cli playbooks to extact network\nVirtual IPs info from a deployed overcloud heat stack.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/779502\nChange-Id: Iff94e95cb7c488112de4b9ac9947e4513ef8449f\n'}, {'number': 6, 'created': '2021-04-08 08:52:37.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-network-vip-extract.yaml', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_vip_extract.py', 'doc/source/modules/modules-tripleo_overcloud_network_vip_extract.rst', 'tripleo_ansible/tests/modules/test_tripleo_overcloud_network_vip_extract.py', '.ansible-lint'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/de1e9d5a3a2e834a6ec7f91d90cb6457218246c7', 'message': 'Add module and cli to extract net VIPs\n\nAdd a module and cli playbooks to extact network\nVirtual IPs info from a deployed overcloud heat stack.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/779502\nChange-Id: Iff94e95cb7c488112de4b9ac9947e4513ef8449f\n'}]",4,782188,de1e9d5a3a2e834a6ec7f91d90cb6457218246c7,41,5,6,24245,,,0,"Add module and cli to extract net VIPs

Add a module and cli playbooks to extact network
Virtual IPs info from a deployed overcloud heat stack.

Related: blueprint network-data-v2-ports
Depends-On: https://review.opendev.org/779502
Change-Id: Iff94e95cb7c488112de4b9ac9947e4513ef8449f
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/88/782188/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cli-overcloud-network-vip-extract.yaml', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_vip_extract.py', 'doc/source/modules/modules-tripleo_overcloud_network_vip_extract.rst', 'tripleo_ansible/tests/modules/test_tripleo_overcloud_network_vip_extract.py', '.ansible-lint']",5,160fd2150c54728a542d3fbfd829d6429c3f6ac5,network-data-v2, - tripleo_overcloud_network_vip_extract,,349,0
openstack%2Fheat~stable%2Fwallaby~Ia8acf5aa80b5635069a28d8caec40f428003807d,openstack/heat,stable/wallaby,Ia8acf5aa80b5635069a28d8caec40f428003807d,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-26 15:30:42.000000000,2021-04-14 10:13:39.000000000,2021-04-14 10:09:55.000000000,"[{'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 15:30:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/2b4258789d640d16aa9e2703bab92a7cad8d0198', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ia8acf5aa80b5635069a28d8caec40f428003807d\n'}]",0,783328,2b4258789d640d16aa9e2703bab92a7cad8d0198,9,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ia8acf5aa80b5635069a28d8caec40f428003807d
",git fetch https://review.opendev.org/openstack/heat refs/changes/28/783328/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2b4258789d640d16aa9e2703bab92a7cad8d0198,create-wallaby,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby},deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fheat~stable%2Fwallaby~I44c8dc9c1086188f34bb18c213f9b1c4ee2d2083,openstack/heat,stable/wallaby,I44c8dc9c1086188f34bb18c213f9b1c4ee2d2083,Update .gitreview for stable/wallaby,MERGED,2021-03-26 15:30:11.000000000,2021-04-14 10:12:11.000000000,2021-04-14 10:09:45.000000000,"[{'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 15:30:11.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/heat/commit/5d69a135f116d690bb1f687593a263a3157abb30', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I44c8dc9c1086188f34bb18c213f9b1c4ee2d2083\n'}]",0,783327,5d69a135f116d690bb1f687593a263a3157abb30,9,3,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: I44c8dc9c1086188f34bb18c213f9b1c4ee2d2083
",git fetch https://review.opendev.org/openstack/heat refs/changes/27/783327/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,5d69a135f116d690bb1f687593a263a3157abb30,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fheat~stable%2Ftrain~I097aba2a97144327bec188e6c71629d0f6c95901,openstack/heat,stable/train,I097aba2a97144327bec188e6c71629d0f6c95901,Net attr: Sort segments without name attribute first,MERGED,2021-03-05 01:19:06.000000000,2021-04-14 10:12:05.000000000,2021-04-14 10:09:40.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 01:19:06.000000000', 'files': ['heat/engine/resources/openstack/neutron/net.py', 'releasenotes/notes/os-neutron-net-segments-attribute-semi-predictable-b40a869317d053cc.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/a30dc4d68873a1dbf6d5d3d90271a38481690297', 'message': 'Net attr: Sort segments without name attribute first\n\nUseing get_attr, pulling index 0 in the segments list\nof a network to associate the a subnet with the ""first""\nsegment is useful since the ""first"" segment is created\nby neutron behind the scenes on network create. A resource\nreference cannot be used since the ""first"" segment is\'nt\na heat resource.\n\nThe issue is the order of the segments list is\'nt reliable.\n\nOn stack update index 0 may be a different segment, and\nwe end up trying to update the segment_id for a subnet.\nChangeing the segment association is not allowed, so\nthe stack update fails.\n\nWhile not perfect, sorting the list so that segments where\nname is None comes first will ensure that index 0 can be used.\n\nThe template author should ensure segments defined in the heat\ntemplate all have a names set, so that only the segment creted\nimplicitly by neutron have \'None\' name.\n\nCloses-Bug: #1894920\nChange-Id: I097aba2a97144327bec188e6c71629d0f6c95901\n(cherry picked from commit 539b2a4c4993787db0cd71750d3d159e584deccb)\n'}]",0,778817,a30dc4d68873a1dbf6d5d3d90271a38481690297,13,2,1,24245,,,0,"Net attr: Sort segments without name attribute first

Useing get_attr, pulling index 0 in the segments list
of a network to associate the a subnet with the ""first""
segment is useful since the ""first"" segment is created
by neutron behind the scenes on network create. A resource
reference cannot be used since the ""first"" segment is'nt
a heat resource.

The issue is the order of the segments list is'nt reliable.

On stack update index 0 may be a different segment, and
we end up trying to update the segment_id for a subnet.
Changeing the segment association is not allowed, so
the stack update fails.

While not perfect, sorting the list so that segments where
name is None comes first will ensure that index 0 can be used.

The template author should ensure segments defined in the heat
template all have a names set, so that only the segment creted
implicitly by neutron have 'None' name.

Closes-Bug: #1894920
Change-Id: I097aba2a97144327bec188e6c71629d0f6c95901
(cherry picked from commit 539b2a4c4993787db0cd71750d3d159e584deccb)
",git fetch https://review.opendev.org/openstack/heat refs/changes/17/778817/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/neutron/net.py', 'releasenotes/notes/os-neutron-net-segments-attribute-semi-predictable-b40a869317d053cc.yaml']",2,a30dc4d68873a1dbf6d5d3d90271a38481690297,bug/1894920-stable/train,"--- fixes: - | The ordering in the list of segments returned by ``OS::Neutron::Net`` resources is not predictable. Stack updates changeing attributes of the network can cause the list of segments to shift. The ordering is now slightly more predictable, segments with name=``None`` are now placed first in the list. This doesn't guarantee the order, but typically only the segment implicitly created by neutron has no name attribute set. The template author should ensure other segments on the network does have a name set, so that the implicit segment will always be index 0. Resolving attributes of the implcitly created segment on the network resource can then predictibly happen using index 0. See `bug: 1894920 <https://bugs.launchpad.net/tripleo/+bug/1894920>`_. ",,22,1
openstack%2Ftripleo-heat-templates~master~I717b06a0578dccca0e2152f6d454ad7a96cff8fb,openstack/tripleo-heat-templates,master,I717b06a0578dccca0e2152f6d454ad7a96cff8fb,Add tripleo_network_name tag hint to networks,MERGED,2021-03-09 14:43:32.000000000,2021-04-14 10:11:34.000000000,2021-04-14 10:11:34.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-09 14:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c5009479fc638cf9f39429cd14e9b62a64fabf77', 'message': 'Add tripleo_network_name tag hin to networks\n\nThe ansible module to manage networks sets the name\nupper as a tag hint on the neutron network resources.\ntripleo_ansible/ansible_plugins/modules/tripleo_composable_network.py#L124\n\nThis change adds this tag for Heat managed networks as\nwell.\n\nChange-Id: I717b06a0578dccca0e2152f6d454ad7a96cff8fb\nPartial-Implements: blueprint network-data-v2-ports\n'}, {'number': 2, 'created': '2021-03-09 14:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/756910dd93fb381a558a39dc2a0e099420105eca', 'message': 'Add tripleo_network_name tag hint to networks\n\nThe ansible module to manage networks sets the name\nupper as a tag hint on the neutron network resources.\ntripleo_ansible/ansible_plugins/modules/tripleo_composable_network.py#L124\n\nThis change adds this tag for Heat managed networks as\nwell.\n\nChange-Id: I717b06a0578dccca0e2152f6d454ad7a96cff8fb\nPartial-Implements: blueprint network-data-v2-ports\n'}, {'number': 3, 'created': '2021-03-09 15:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/313738899cbf026666fe29b884f469c6656024d9', 'message': 'Add tripleo_network_name tag hint to networks\n\nThe ansible module to manage networks sets the name\nupper as a tag hint on the neutron network resources.\ntripleo_ansible/ansible_plugins/modules/tripleo_composable_network.py#L124\n\nThis change adds this tag for Heat managed networks as\nwell.\n\nChange-Id: I717b06a0578dccca0e2152f6d454ad7a96cff8fb\nPartial-Implements: blueprint network-data-v2-ports\n'}, {'number': 4, 'created': '2021-03-09 16:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e738db6b68f8e90c902822797e70069fb3f35042', 'message': 'Add tripleo_network_name tag hint to networks\n\nThe ansible module to manage networks sets the name\nupper as a tag hint on the neutron network resources.\ntripleo_ansible/ansible_plugins/modules/tripleo_composable_network.py#L124\n\nThis change adds this tag for Heat managed networks as\nwell.\n\nChange-Id: I717b06a0578dccca0e2152f6d454ad7a96cff8fb\nPartial-Implements: blueprint network-data-v2-ports\n'}, {'number': 5, 'created': '2021-03-09 16:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7bb376d9eeb24e18e928133418796d5b58edc0ac', 'message': 'Add tripleo_network_name tag hint to networks\n\nThe ansible module to manage networks sets the name\nupper as a tag hint on the neutron network resources.\ntripleo_ansible/ansible_plugins/modules/tripleo_composable_network.py#L124\n\nThis change adds this tag for Heat managed networks as\nwell.\n\nChange-Id: I717b06a0578dccca0e2152f6d454ad7a96cff8fb\nPartial-Implements: blueprint network-data-v2-ports\n'}, {'number': 6, 'created': '2021-03-10 00:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4c7afb9ce72faef53df05beb0c187ec3064fac9b', 'message': 'Add tripleo_network_name tag hint to networks\n\nThe ansible module to manage networks sets the name\nupper as a tag hint on the neutron network resources.\ntripleo_ansible/ansible_plugins/modules/tripleo_composable_network.py#L124\n\nThis change adds this tag for Heat managed networks as\nwell.\n\nChange-Id: I717b06a0578dccca0e2152f6d454ad7a96cff8fb\nPartial-Implements: blueprint network-data-v2-ports\n'}, {'number': 7, 'created': '2021-03-17 08:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/648fc4b7f14ae88f5d67d385889c85564313aaf5', 'message': 'Add tripleo_network_name tag hint to networks\n\nThe ansible module to manage networks sets the name\nupper as a tag hint on the neutron network resources.\ntripleo_ansible/ansible_plugins/modules/tripleo_composable_network.py#L124\n\nThis change adds this tag for Heat managed networks as\nwell.\n\nChange-Id: I717b06a0578dccca0e2152f6d454ad7a96cff8fb\nPartial-Implements: blueprint network-data-v2-ports\n'}, {'number': 8, 'created': '2021-04-09 08:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/19bf8206e8f0935d80936c0dd95047ceb59d55f5', 'message': 'Add tripleo_network_name tag hint to networks\n\nThe ansible module to manage networks sets the name\nupper as a tag hint on the neutron network resources.\ntripleo_ansible/ansible_plugins/modules/tripleo_composable_network.py#L124\n\nThis change adds this tag for Heat managed networks as\nwell.\n\nChange-Id: I717b06a0578dccca0e2152f6d454ad7a96cff8fb\nPartial-Implements: blueprint network-data-v2-ports\n'}, {'number': 9, 'created': '2021-04-09 14:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0391da9bdae43ac0c80a4a2fabfd4d970aa3abf8', 'message': 'Add tripleo_network_name tag hint to networks\n\nThe ansible module to manage networks sets the name\nupper as a tag hint on the neutron network resources.\ntripleo_ansible/ansible_plugins/modules/tripleo_composable_network.py#L124\n\nThis change adds this tag for Heat managed networks as\nwell.\n\nChange-Id: I717b06a0578dccca0e2152f6d454ad7a96cff8fb\nPartial-Implements: blueprint network-data-v2-ports\n'}, {'number': 10, 'created': '2021-04-12 10:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1cad1d54809cca3b5f29db25bc620dfb98231692', 'message': 'Add tripleo_network_name tag hint to networks\n\nThe ansible module to manage networks sets the name\nupper as a tag hint on the neutron network resources.\ntripleo_ansible/ansible_plugins/modules/tripleo_composable_network.py#L124\n\nThis change adds this tag for Heat managed networks as\nwell.\n\nChange-Id: I717b06a0578dccca0e2152f6d454ad7a96cff8fb\nPartial-Implements: blueprint network-data-v2-ports\n'}, {'number': 11, 'created': '2021-04-12 12:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af3e78827992c0000eaf144633ba6a4d2512d628', 'message': 'Add tripleo_network_name tag hint to networks\n\nThe ansible module to manage networks sets the name\nupper as a tag hint on the neutron network resources.\ntripleo_ansible/ansible_plugins/modules/tripleo_composable_network.py#L124\n\nThis change adds this tag for Heat managed networks as\nwell.\n\nChange-Id: I717b06a0578dccca0e2152f6d454ad7a96cff8fb\nPartial-Implements: blueprint network-data-v2-ports\n'}, {'number': 12, 'created': '2021-04-12 12:45:09.000000000', 'files': ['network/network.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/70dc61cc0a5f99ce3d1368dc226ba4292866f22f', 'message': 'Add tripleo_network_name tag hint to networks\n\nThe ansible module to manage networks sets the name\nupper as a tag hint on the neutron network resources.\ntripleo_ansible/ansible_plugins/modules/tripleo_composable_network.py#L124\n\nThis change adds this tag for Heat managed networks as\nwell.\n\nChange-Id: I717b06a0578dccca0e2152f6d454ad7a96cff8fb\nPartial-Implements: blueprint network-data-v2-ports\n'}]",1,779502,70dc61cc0a5f99ce3d1368dc226ba4292866f22f,39,7,12,24245,,,0,"Add tripleo_network_name tag hint to networks

The ansible module to manage networks sets the name
upper as a tag hint on the neutron network resources.
tripleo_ansible/ansible_plugins/modules/tripleo_composable_network.py#L124

This change adds this tag for Heat managed networks as
well.

Change-Id: I717b06a0578dccca0e2152f6d454ad7a96cff8fb
Partial-Implements: blueprint network-data-v2-ports
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/779502/12 && git format-patch -1 --stdout FETCH_HEAD,['network/network.j2'],1,c5009479fc638cf9f39429cd14e9b62a64fabf77,network-data-v2, - tripleo_network_name={{network.name}},,1,0
openstack%2Fkayobe~stable%2Fvictoria~I98428837153ef604af9a415f7139e07d8548fd46,openstack/kayobe,stable/victoria,I98428837153ef604af9a415f7139e07d8548fd46,Fix overcloud provision with fast track enabled,MERGED,2021-04-08 09:32:09.000000000,2021-04-14 09:58:36.000000000,2021-04-14 09:57:09.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 09:32:09.000000000', 'files': ['ansible/overcloud-provision.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5a2f121cd2a692067bfa7d82ed0ab76f73a26dd6', 'message': 'Fix overcloud provision with fast track enabled\n\nChange-Id: I98428837153ef604af9a415f7139e07d8548fd46\n(cherry picked from commit 53ec32d121a5248fcda521c7d85130e52487b1d3)\n'}]",0,785331,5a2f121cd2a692067bfa7d82ed0ab76f73a26dd6,8,3,1,14826,,,0,"Fix overcloud provision with fast track enabled

Change-Id: I98428837153ef604af9a415f7139e07d8548fd46
(cherry picked from commit 53ec32d121a5248fcda521c7d85130e52487b1d3)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/31/785331/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/overcloud-provision.yml'],1,5a2f121cd2a692067bfa7d82ed0ab76f73a26dd6,," until: >- provide_result is successful or 'is locked by host' in provide_result.stdout or 'while it is in state ""available""' in provide_result.stdout failed_when: - provide_result is not successful # If fast-track deployment is enabled, it's possible that ironic will # move the node to available, even though the initial state was # manageable. - ""'while it is in state \""available\""' not in provide_result.stdout""", until: provide_result is successful or 'is locked by host' in provide_result.stdout,10,1
openstack%2Ftripleo-heat-templates~master~I3d43ae22cc45e5528ecfb1a6b2cb8602faa162a0,openstack/tripleo-heat-templates,master,I3d43ae22cc45e5528ecfb1a6b2cb8602faa162a0,Set tags on all OS::Neutron::Port resources,MERGED,2021-03-04 23:25:20.000000000,2021-04-14 09:55:04.000000000,2021-04-14 09:55:04.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-04 23:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f542c8e45d19a19dfe3b3765c0990837f95573d1', 'message': ""VIP port add triple_net_vip=$NET_NAME tag\n\nAdd parameter VipPort to port template, when set to\ntrue a tag indicating it's a VIP and the network is\nadded.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3d43ae22cc45e5528ecfb1a6b2cb8602faa162a0\n""}, {'number': 2, 'created': '2021-03-05 00:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e3233813df846f1e3b395b3436c4aca1e13003f9', 'message': ""Set tags on all OS::Neutron::Port resources\n\nAdd parameter VipPort to port template, when set to\ntrue a tag indicating it's a VIP and the network is\nadded.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3d43ae22cc45e5528ecfb1a6b2cb8602faa162a0\n""}, {'number': 3, 'created': '2021-03-05 02:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b544f180ecb014ef9e44fe8507a6d4d9f063518b', 'message': 'Set tags on all OS::Neutron::Port resources\n\nSet up tag hints on all OS::Neutron::Port resources.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3d43ae22cc45e5528ecfb1a6b2cb8602faa162a0\n'}, {'number': 4, 'created': '2021-03-05 03:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae6f4b3dab1901d1e1834374a28668f3cd3c82c9', 'message': 'Set tags on all OS::Neutron::Port resources\n\nSet up tag hints on all OS::Neutron::Port resources.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3d43ae22cc45e5528ecfb1a6b2cb8602faa162a0\n'}, {'number': 5, 'created': '2021-03-05 06:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2698a88e2691d738e4dc1d1f905f3fedb465b9ad', 'message': 'Set tags on all OS::Neutron::Port resources\n\nSet up tag hints on all OS::Neutron::Port resources.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3d43ae22cc45e5528ecfb1a6b2cb8602faa162a0\n'}, {'number': 6, 'created': '2021-03-05 06:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e3971530ce3907e07be9d95664e5bc0d2c95857f', 'message': 'Set tags on all OS::Neutron::Port resources\n\nSet up tag hints on all OS::Neutron::Port resources.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3d43ae22cc45e5528ecfb1a6b2cb8602faa162a0\n'}, {'number': 7, 'created': '2021-03-05 07:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/49fddd6d9d21d48de131776fc814c987540407ed', 'message': 'Set tags on all OS::Neutron::Port resources\n\nSet up tag hints on all OS::Neutron::Port resources.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3d43ae22cc45e5528ecfb1a6b2cb8602faa162a0\n'}, {'number': 8, 'created': '2021-03-05 14:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8cd3ad614a63bfb872ff9585080442254b2d22e6', 'message': ""Set tags on all OS::Neutron::Port resources\n\nSet up tag hints on all OS::Neutron::Port resources.\nWith all resources tagged heat plug-in to handle\nephemeral 'create' always heat can be introduced.\nSee: https://review.opendev.org/778786\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3d43ae22cc45e5528ecfb1a6b2cb8602faa162a0\n""}, {'number': 9, 'created': '2021-03-05 18:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c4aa831a2c165d191d1096bf9d74e1b2c3abe6a1', 'message': ""Set tags on all OS::Neutron::Port resources\n\nSet up tag hints on all OS::Neutron::Port resources.\nWith all resources tagged heat plug-in to handle\nephemeral 'create' always heat can be introduced.\nSee: https://review.opendev.org/778786\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3d43ae22cc45e5528ecfb1a6b2cb8602faa162a0\n""}, {'number': 10, 'created': '2021-03-05 18:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/48c0ad6f6553976c284a141135366735c396a951', 'message': ""Set tags on all OS::Neutron::Port resources\n\nSet up tag hints on all OS::Neutron::Port resources.\nWith all resources tagged heat plug-in to handle\nephemeral 'create' always heat can be introduced.\nSee: https://review.opendev.org/778786\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3d43ae22cc45e5528ecfb1a6b2cb8602faa162a0\n""}, {'number': 11, 'created': '2021-03-05 21:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5b247e5ee36030e97db393142ab398b5eb3bf78b', 'message': ""Set tags on all OS::Neutron::Port resources\n\nSet up tag hints on all OS::Neutron::Port resources.\nWith all resources tagged heat plug-in to handle\nephemeral 'create' always heat can be introduced.\nSee: https://review.opendev.org/778786\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3d43ae22cc45e5528ecfb1a6b2cb8602faa162a0\n""}, {'number': 12, 'created': '2021-03-09 16:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b7eba610c2541a875621ca7284bced95b6761010', 'message': ""Set tags on all OS::Neutron::Port resources\n\nSet up tag hints on all OS::Neutron::Port resources.\nWith all resources tagged heat plug-in to handle\nephemeral 'create' always heat can be introduced.\nSee: https://review.opendev.org/778786\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3d43ae22cc45e5528ecfb1a6b2cb8602faa162a0\n""}, {'number': 13, 'created': '2021-03-09 16:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d00c745a6acfd7d4084e76e0f36f414f0f020554', 'message': ""Set tags on all OS::Neutron::Port resources\n\nSet up tag hints on all OS::Neutron::Port resources.\nWith all resources tagged heat plug-in to handle\nephemeral 'create' always heat can be introduced.\nSee: https://review.opendev.org/778786\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3d43ae22cc45e5528ecfb1a6b2cb8602faa162a0\n""}, {'number': 14, 'created': '2021-03-10 00:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e883f9c2fb3cb08ac6e20a69bc67cdf4926179b2', 'message': ""Set tags on all OS::Neutron::Port resources\n\nSet up tag hints on all OS::Neutron::Port resources.\nWith all resources tagged heat plug-in to handle\nephemeral 'create' always heat can be introduced.\nSee: https://review.opendev.org/778786\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3d43ae22cc45e5528ecfb1a6b2cb8602faa162a0\n""}, {'number': 15, 'created': '2021-03-17 08:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b650eb4472cd03a2bddfe07c0d0347b561781dfe', 'message': 'Set tags on all OS::Neutron::Port resources\n\nSet up tag hints on all OS::Neutron::Port resources.\nThe network-data-v2 work uses tags on neutron resources\nto find existing resources so that we update instead\nof create. Also for generating environment files info\nin the neutron tag field is utilized.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3d43ae22cc45e5528ecfb1a6b2cb8602faa162a0\n'}, {'number': 16, 'created': '2021-03-22 09:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e7656994301ca81676b728add917323437c8553c', 'message': 'Set tags on all OS::Neutron::Port resources\n\nSet up tag hints on all OS::Neutron::Port resources.\nThe network-data-v2 work uses tags on neutron resources\nto find existing resources so that we update instead\nof create. Also for generating environment files info\nin the neutron tag field is utilized.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3d43ae22cc45e5528ecfb1a6b2cb8602faa162a0\n'}, {'number': 17, 'created': '2021-03-22 14:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6f5b861d60deaf49bb3d3c2d866116347836d191', 'message': 'Set tags on all OS::Neutron::Port resources\n\nSet up tag hints on all OS::Neutron::Port resources.\nThe network-data-v2 work uses tags on neutron resources\nto find existing resources so that we update instead\nof create. Also for generating environment files info\nin the neutron tag field is utilized.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3d43ae22cc45e5528ecfb1a6b2cb8602faa162a0\n'}, {'number': 18, 'created': '2021-03-24 09:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e010a3a644a96f60156c9bd47358f20d7e22b5ce', 'message': 'Set tags on all OS::Neutron::Port resources\n\nSet up tag hints on all OS::Neutron::Port resources.\nThe network-data-v2 work uses tags on neutron resources\nto find existing resources so that we update instead\nof create. Also for generating environment files info\nin the neutron tag field is utilized.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3d43ae22cc45e5528ecfb1a6b2cb8602faa162a0\n'}, {'number': 19, 'created': '2021-03-25 11:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7997719cef88bbcb8a558ec055dc83ee0b41d9a6', 'message': 'Set tags on all OS::Neutron::Port resources\n\nSet up tag hints on all OS::Neutron::Port resources.\nThe network-data-v2 work uses tags on neutron resources\nto find existing resources so that we update instead\nof create. Also for generating environment files info\nin the neutron tag field is utilized.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3d43ae22cc45e5528ecfb1a6b2cb8602faa162a0\n'}, {'number': 20, 'created': '2021-03-30 10:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/043e97438b592e9293b2f617241cdf6d25888c46', 'message': 'Set tags on all OS::Neutron::Port resources\n\nSet up tag hints on all OS::Neutron::Port resources.\nThe network-data-v2 work uses tags on neutron resources\nto find existing resources so that we update instead\nof create. Also for generating environment files info\nin the neutron tag field is utilized.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3d43ae22cc45e5528ecfb1a6b2cb8602faa162a0\n'}, {'number': 21, 'created': '2021-04-09 08:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0e42ab74bfbe42ebca485d1e527aff8cbb2da7ba', 'message': 'Set tags on all OS::Neutron::Port resources\n\nSet up tag hints on all OS::Neutron::Port resources.\nThe network-data-v2 work uses tags on neutron resources\nto find existing resources so that we update instead\nof create. Also for generating environment files info\nin the neutron tag field is utilized.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3d43ae22cc45e5528ecfb1a6b2cb8602faa162a0\n'}, {'number': 22, 'created': '2021-04-09 14:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/28af0094dbfdecca4f5718e2f059e8a2889d5b2b', 'message': 'Set tags on all OS::Neutron::Port resources\n\nSet up tag hints on all OS::Neutron::Port resources.\nThe network-data-v2 work uses tags on neutron resources\nto find existing resources so that we update instead\nof create. Also for generating environment files info\nin the neutron tag field is utilized.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3d43ae22cc45e5528ecfb1a6b2cb8602faa162a0\n'}, {'number': 23, 'created': '2021-04-12 10:55:35.000000000', 'files': ['network/ports/noop.yaml', 'network/ports/ovn_mac_addr_port.yaml', 'network/ports/vip_v6.yaml', 'overcloud.j2.yaml', 'network/ports/ctlplane_vip.yaml', 'deployed-server/deployed-server.yaml', 'deployed-server/deployed-neutron-port.yaml', 'network/ports/from_service.yaml', 'network/ports/vip.yaml', 'network/ports/from_service_v6.yaml', 'network/ports/deployed_port.j2', 'network/ports/port.j2', 'network/ports/port_from_pool.j2', 'deployed-server/ctlplane-port.yaml', 'network/ports/deployed_vip_port.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/73684d0a894599e331e323597c3705453baab4d0', 'message': 'Set tags on all OS::Neutron::Port resources\n\nSet up tag hints on all OS::Neutron::Port resources.\nThe network-data-v2 work uses tags on neutron resources\nto find existing resources so that we update instead\nof create. Also for generating environment files info\nin the neutron tag field is utilized.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I3d43ae22cc45e5528ecfb1a6b2cb8602faa162a0\n'}]",34,778792,73684d0a894599e331e323597c3705453baab4d0,87,6,23,24245,,,0,"Set tags on all OS::Neutron::Port resources

Set up tag hints on all OS::Neutron::Port resources.
The network-data-v2 work uses tags on neutron resources
to find existing resources so that we update instead
of create. Also for generating environment files info
in the neutron tag field is utilized.

Partial-Implements: blueprint network-data-v2-ports
Change-Id: I3d43ae22cc45e5528ecfb1a6b2cb8602faa162a0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/92/778792/18 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'network/ports/port.j2']",2,f542c8e45d19a19dfe3b3765c0990837f95573d1,network-data-v2, VipPort: type: boolean default: false is_vip_port: get_param: VipPort - if: - is_vip_port - str_replace: template: triple_net_vip=$NET_NAME params: $NET_NAME: {get_param: {{network.name}}NetName} - null,,13,0
openstack%2Fmistral~master~I3986238b0a65fb652b30a8a47448a1d02212166e,openstack/mistral,master,I3986238b0a65fb652b30a8a47448a1d02212166e,Change get-pip url,MERGED,2021-03-08 14:06:55.000000000,2021-04-14 09:52:44.000000000,2021-04-14 09:51:15.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 14:06:55.000000000', 'files': ['doc/source/developer/extensions/extending_yaql.rst', 'tools/docker/Dockerfile'], 'web_link': 'https://opendev.org/openstack/mistral/commit/85b9b525fb8c06acc56186ea096fe383009b24c8', 'message': 'Change get-pip url\n\nThe path for get-pip.py script in version 3.2 has been changed\nwith this commit [1].\n\n[1] https://github.com/pypa/get-pip/commit/2360f025eb2a6f62d45cf99e4c6d83ba9c4d5e37\n\nChange-Id: I3986238b0a65fb652b30a8a47448a1d02212166e\n'}]",0,779269,85b9b525fb8c06acc56186ea096fe383009b24c8,7,2,1,20676,,,0,"Change get-pip url

The path for get-pip.py script in version 3.2 has been changed
with this commit [1].

[1] https://github.com/pypa/get-pip/commit/2360f025eb2a6f62d45cf99e4c6d83ba9c4d5e37

Change-Id: I3986238b0a65fb652b30a8a47448a1d02212166e
",git fetch https://review.opendev.org/openstack/mistral refs/changes/69/779269/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/developer/extensions/extending_yaql.rst', 'tools/docker/Dockerfile']",2,85b9b525fb8c06acc56186ea096fe383009b24c8,, curl -f -o /tmp/get-pip.py https://bootstrap.pypa.io/pip/3.2/get-pip.py && \, curl -f -o /tmp/get-pip.py https://bootstrap.pypa.io/3.2/get-pip.py && \,2,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0cba90197f4d2c953808e64a2f7edc7b32e0e9a7,openstack/tripleo-heat-templates,stable/train,I0cba90197f4d2c953808e64a2f7edc7b32e0e9a7,More legacy fact settings,ABANDONED,2021-04-14 09:25:07.000000000,2021-04-14 09:39:19.000000000,,[{'_account_id': 6926}],"[{'number': 1, 'created': '2021-04-14 09:25:07.000000000', 'files': ['common/deploy-steps-playbooks-common.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c982b85c541e64dd1e9185ffbc155eb9fef98c5e', 'message': 'More legacy fact settings\n\nAlso inject legacy ansible_ssh_host_key_rsa_public,\nsince missing this fact fails the tripleo_ssh_known_hosts role.\n\nChange-Id: I0cba90197f4d2c953808e64a2f7edc7b32e0e9a7\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 17e9033b683d8261ff6b8368ba8db5a544e87795)\n'}]",0,786188,c982b85c541e64dd1e9185ffbc155eb9fef98c5e,3,1,1,6926,,,0,"More legacy fact settings

Also inject legacy ansible_ssh_host_key_rsa_public,
since missing this fact fails the tripleo_ssh_known_hosts role.

Change-Id: I0cba90197f4d2c953808e64a2f7edc7b32e0e9a7
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 17e9033b683d8261ff6b8368ba8db5a544e87795)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/786188/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-playbooks-common.yaml'],1,c982b85c541e64dd1e9185ffbc155eb9fef98c5e,," ansible_ssh_host_key_rsa_public: ""{{ ansible_facts['ssh_host_key_rsa_public'] }}"" ansible_ssh_host_key_rsa_public: ""{{ ansible_facts['ssh_host_key_rsa_public'] }}""",,2,0
openstack%2Ftripleo-heat-templates~master~I0cba90197f4d2c953808e64a2f7edc7b32e0e9a7,openstack/tripleo-heat-templates,master,I0cba90197f4d2c953808e64a2f7edc7b32e0e9a7,More legacy fact settings,ABANDONED,2021-04-14 09:21:27.000000000,2021-04-14 09:39:08.000000000,,"[{'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-14 09:21:27.000000000', 'files': ['common/deploy-steps-playbooks-common.yaml', 'deployment/ipa/ipaservices-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/17e9033b683d8261ff6b8368ba8db5a544e87795', 'message': 'More legacy fact settings\n\nAlso inject legacy ansible_ssh_host_key_rsa_public,\nsince missing this fact fails the tripleo_ssh_known_hosts role.\n\nChange-Id: I0cba90197f4d2c953808e64a2f7edc7b32e0e9a7\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,786187,17e9033b683d8261ff6b8368ba8db5a544e87795,4,4,1,6926,,,0,"More legacy fact settings

Also inject legacy ansible_ssh_host_key_rsa_public,
since missing this fact fails the tripleo_ssh_known_hosts role.

Change-Id: I0cba90197f4d2c953808e64a2f7edc7b32e0e9a7
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/786187/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps-playbooks-common.yaml', 'deployment/ipa/ipaservices-baremetal-ansible.yaml']",2,17e9033b683d8261ff6b8368ba8db5a544e87795,," ansible_ssh_host_key_rsa_public: ""{{ ansible_facts['ssh_host_key_rsa_public'] }}""",,2,0
openstack%2Fpython-neutronclient~master~I45447eda0f1ad307ee333810187a831bc0f5a084,openstack/python-neutronclient,master,I45447eda0f1ad307ee333810187a831bc0f5a084,c,ABANDONED,2021-04-14 09:25:25.000000000,2021-04-14 09:26:06.000000000,,[],"[{'number': 1, 'created': '2021-04-14 09:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/686b8064bca8c8852c3e62c0614aa30e1b76addd', 'message': 'c\n\nChange-Id: I45447eda0f1ad307ee333810187a831bc0f5a084\n'}]",0,786111,686b8064bca8c8852c3e62c0614aa30e1b76addd,2,0,1,33273,,,0,"c

Change-Id: I45447eda0f1ad307ee333810187a831bc0f5a084
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/11/786111/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,686b8064bca8c8852c3e62c0614aa30e1b76addd,,,,0,0
openstack%2Fpython-neutronclient~master~I1ac995f8e5d396b96a16a489f4f97c4f67500fc5,openstack/python-neutronclient,master,I1ac995f8e5d396b96a16a489f4f97c4f67500fc5,c,ABANDONED,2021-04-14 09:25:31.000000000,2021-04-14 09:26:01.000000000,,[],"[{'number': 1, 'created': '2021-04-14 09:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/328ba2e11aa09e0cf23a35fff28023cc593a6c4a', 'message': 'c\n\nChange-Id: I1ac995f8e5d396b96a16a489f4f97c4f67500fc5\n'}]",0,786112,328ba2e11aa09e0cf23a35fff28023cc593a6c4a,2,0,1,33273,,,0,"c

Change-Id: I1ac995f8e5d396b96a16a489f4f97c4f67500fc5
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/12/786112/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,328ba2e11aa09e0cf23a35fff28023cc593a6c4a,,,,0,0
openstack%2Fpuppet-pacemaker~master~I4289184fea2c6e3da84ab33e770fa2a367b93e42,openstack/puppet-pacemaker,master,I4289184fea2c6e3da84ab33e770fa2a367b93e42,Use puppet-openstack_spec_helper,ABANDONED,2020-02-29 20:17:22.000000000,2021-04-14 09:11:01.000000000,,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-29 20:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/87ccb3e7a39f365febf068e1fed9f84d38a29b47', 'message': 'Use puppet-openstack_spec_helper\n\nChange-Id: I4289184fea2c6e3da84ab33e770fa2a367b93e42\n'}, {'number': 2, 'created': '2020-08-31 20:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/52fe6c95b4a696189b528e7b5783933ff4cad0be', 'message': 'Use puppet-openstack_spec_helper\n\nChange-Id: I4289184fea2c6e3da84ab33e770fa2a367b93e42\n'}, {'number': 3, 'created': '2020-09-01 10:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/baffc6b35aa2441c1cf5fc5cf7b61851e25eed98', 'message': 'Use puppet-openstack_spec_helper\n\nChange-Id: I4289184fea2c6e3da84ab33e770fa2a367b93e42\n'}, {'number': 4, 'created': '2020-09-01 10:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/1e1df1dd66c97d5843bc705c1942a758e59541e3', 'message': 'Use puppet-openstack_spec_helper\n\nChange-Id: I4289184fea2c6e3da84ab33e770fa2a367b93e42\n'}, {'number': 5, 'created': '2020-09-02 12:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/d78ed16fcde98df16be9a0180446092e27b7a75d', 'message': 'Use puppet-openstack_spec_helper\n\nChange-Id: I4289184fea2c6e3da84ab33e770fa2a367b93e42\n'}, {'number': 6, 'created': '2020-09-16 21:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/7d91d5705ff2ba2cda1fa99b511e22d7d9286ef1', 'message': 'Use puppet-openstack_spec_helper\n\nChange-Id: I4289184fea2c6e3da84ab33e770fa2a367b93e42\n'}, {'number': 7, 'created': '2020-11-16 00:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/af97793249ebe18a1d49dc903423dae03d5becb1', 'message': 'Use puppet-openstack_spec_helper\n\nChange-Id: I4289184fea2c6e3da84ab33e770fa2a367b93e42\n'}, {'number': 8, 'created': '2021-04-08 19:34:48.000000000', 'files': ['examples/pacemaker/host.pp', 'examples/pacemaker_location/create.pp', 'Rakefile', 'Gemfile', 'examples/pacemaker_location/update.pp', 'examples/pacemaker_location/delete.pp'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/7528b56da6ce982facc9a138b47e4ea088f6e75b', 'message': 'Use puppet-openstack_spec_helper\n\nChange-Id: I4289184fea2c6e3da84ab33e770fa2a367b93e42\n'}]",0,710587,7528b56da6ce982facc9a138b47e4ea088f6e75b,27,4,8,16137,,,0,"Use puppet-openstack_spec_helper

Change-Id: I4289184fea2c6e3da84ab33e770fa2a367b93e42
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/87/710587/8 && git format-patch -1 --stdout FETCH_HEAD,"['Rakefile', 'Gemfile']",2,87ccb3e7a39f365febf068e1fed9f84d38a29b47,710587,"group :development, :test, :system_tests do if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :require => 'false' gem 'puppet-openstack_spec_helper', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false' gem 'facter', facterversion, :require => false gem 'facter', :require => false gem 'puppet', puppetversion, :require => false gem 'puppet', :require => false","def location_for(place, fake_version = nil) if place =~ /^(git[:@][^#]*)#(.*)/ [fake_version, { :git => $1, :branch => $2, :require => false }].compact elsif place =~ /^file:\/\/(.*)/ ['>= 0', { :path => File.expand_path($1), :require => false }] [place, { :require => false }]group :test do gem 'net-telnet', '~> 0.1.1', :require => false gem 'jwt', '~> 1.5.6', :require => false gem 'nokogiri', '~> 1.6.0', :require => false gem 'rake', '< 13.0.0', :require => false gem 'dry-inflector', '~> 0.1.2', :require => false gem 'signet', '~> 0.11.0', :require => false gem 'minitest', '~> 5.11.3', :require => false gem 'rspec-puppet', :require => false gem 'puppet-lint', '~> 1.1.0', :require => false gem 'metadata-json-lint', :require => false # rspec-puppet-facts >= 1.9.5 requires ruby 2.1.0+ if RUBY_VERSION.to_f >= 2.1 gem 'rspec-puppet-facts', :require => false else gem 'rspec-puppet-facts', '< 1.9.5', :require => false end gem 'rspec', :require => false gem 'rspec-puppet-utils', :require => false gem 'puppet-lint-absolute_classname-check', '~> 0.2.4', :require => false gem 'puppet-lint-leading_zero-check', :require => false gem 'puppet-lint-trailing_comma-check', :require => false gem 'puppet-lint-version_comparison-check', :require => false gem 'puppet-lint-classes_and_types_beginning_with_digits-check', :require => false gem 'puppet-lint-unquoted_string-check', :require => false gem 'puppet-lint-variable_contains_upcase', :require => false gem 'unicode-display_width', :require => false gem 'puppetlabs_spec_helper', :require => false gem 'serverspec', :require => false end group :development do gem 'pry' end group :system_tests do #TODO: to be removed when #https://tickets.puppetlabs.com/browse/BKR-851 is resolved. gem 'specinfra', '= 2.59.0' if beaker_version = ENV['BEAKER_VERSION'] gem 'beaker', *location_for(beaker_version) else #NOTE(aschultz): beaker > 3.1.0 requires ruby 2.2.x and 3.0.0 had a bad # serverspec reference. So pin to less than 3.0.0 gem 'beaker', '< 3.0.0', :require => false end if beaker_rspec_version = ENV['BEAKER_RSPEC_VERSION'] gem 'beaker-rspec', *location_for(beaker_rspec_version) else gem 'beaker-rspec', :require => false end gem 'beaker-puppet_install_helper', :require => false end gem 'facter', facterversion.to_s, :require => false, :groups => [:test] gem 'facter', :require => false, :groups => [:test] gem 'puppet', puppetversion, :require => false, :groups => [:test] gem 'puppet', :require => false, :groups => [:test]",13,115
openstack%2Fcyborg~master~Iebf830bcb215f41db8eb6a42ab000bc16252a3ee,openstack/cyborg,master,Iebf830bcb215f41db8eb6a42ab000bc16252a3ee,Fix error that set object is not subscriptable,ABANDONED,2021-03-23 00:16:45.000000000,2021-04-14 08:57:22.000000000,,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-03-23 00:16:45.000000000', 'files': ['cyborg/common/nova_client.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/0271314e124155420fbbb3b88e9bdad85c28f047', 'message': ""Fix error that set object is not subscriptable\n\nThe 'set' object is not subscriptable in\ncyborg/common/nova_client.py#L64, this patch convert it to list.\n\nStory: #2008737\nTask: #42089\nChange-Id: Iebf830bcb215f41db8eb6a42ab000bc16252a3ee\n""}]",0,782340,0271314e124155420fbbb3b88e9bdad85c28f047,4,3,1,23950,,,0,"Fix error that set object is not subscriptable

The 'set' object is not subscriptable in
cyborg/common/nova_client.py#L64, this patch convert it to list.

Story: #2008737
Task: #42089
Change-Id: Iebf830bcb215f41db8eb6a42ab000bc16252a3ee
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/40/782340/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/common/nova_client.py'],1,0271314e124155420fbbb3b88e9bdad85c28f047,bug_2008737," msg = msg % {'code': list(event_codes)[0],"," msg = msg % {'code': event_codes[0],",1,1
openstack%2Ftripleo-common~master~Ia00caf064921da362395afbfeb1b0259ff244c4a,openstack/tripleo-common,master,Ia00caf064921da362395afbfeb1b0259ff244c4a,Include both Ceph Octopus and Pacific in the content provider,MERGED,2021-04-13 13:52:59.000000000,2021-04-14 08:48:01.000000000,2021-04-14 02:11:29.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-04-13 13:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d8bcc2b6f81781c696c0e79cde96f17c8c4f28c3', 'message': 'Include both Ceph Octopus and Pacific in the content provider\n\nI9d38c1dbadb968f8c7721c69c57002f159cea619 changed the default\nCeph container to Pacific but it took time for multiple patches\nto merge so there was a period of time a job was asking for a\ncontainer which was different from what was available. This patch\nmakes both available in the content provider (brings Ocotpus back)\nuntil the transition is complete and then it can be reverted. It\nestablishes a pattern for how to make these transitions in the\nfuture.\n\nCloses-Bug: #1923529\nChange-Id: Ia00caf064921da362395afbfeb1b0259ff244c4a\n'}, {'number': 2, 'created': '2021-04-13 16:20:58.000000000', 'files': ['tripleo_common/tests/image/test_kolla_builder.py', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b2860cacde0dd1f09bc96d4d278b1fbe1bba334d', 'message': 'Include both Ceph Octopus and Pacific in the content provider\n\nI9d38c1dbadb968f8c7721c69c57002f159cea619 changed the default\nCeph container to Pacific but it took time for multiple patches\nto merge so there was a period of time a job was asking for a\ncontainer which was different from what was available. This patch\nmakes both available in the content provider (brings Ocotpus back)\nuntil the transition is complete and then it can be reverted. It\nestablishes a pattern for how to make these transitions in the\nfuture.\n\nCloses-Bug: #1923529\nChange-Id: Ia00caf064921da362395afbfeb1b0259ff244c4a\n'}]",0,786053,b2860cacde0dd1f09bc96d4d278b1fbe1bba334d,19,9,2,18002,,,0,"Include both Ceph Octopus and Pacific in the content provider

I9d38c1dbadb968f8c7721c69c57002f159cea619 changed the default
Ceph container to Pacific but it took time for multiple patches
to merge so there was a period of time a job was asking for a
container which was different from what was available. This patch
makes both available in the content provider (brings Ocotpus back)
until the transition is complete and then it can be reverted. It
establishes a pattern for how to make these transitions in the
future.

Closes-Bug: #1923529
Change-Id: Ia00caf064921da362395afbfeb1b0259ff244c4a
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/53/786053/2 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_containers.yaml'],1,d8bcc2b6f81781c696c0e79cde96f17c8c4f28c3,bug/1923529,- imagename: quay.ceph.io/ceph-ci/daemon:v5.0.7-stable-5.0-octopus-centos-8-x86_64 image_source: ceph,,2,0
openstack%2Fmistral~stable%2Fwallaby~Iec9ac2baa6858095d6b42c08e28f6befff8102dc,openstack/mistral,stable/wallaby,Iec9ac2baa6858095d6b42c08e28f6befff8102dc,Update .gitreview for stable/wallaby,MERGED,2021-03-26 18:42:17.000000000,2021-04-14 08:22:31.000000000,2021-04-14 08:20:27.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 18:42:17.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/mistral/commit/1c70aa02b54736c3c571667405a640cd6fb293fc', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: Iec9ac2baa6858095d6b42c08e28f6befff8102dc\n'}]",0,783452,1c70aa02b54736c3c571667405a640cd6fb293fc,7,2,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: Iec9ac2baa6858095d6b42c08e28f6befff8102dc
",git fetch https://review.opendev.org/openstack/mistral refs/changes/52/783452/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,1c70aa02b54736c3c571667405a640cd6fb293fc,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fpython-mistralclient~stable%2Fwallaby~I1319c4d436c89351fb1225c634a5c662479fe413,openstack/python-mistralclient,stable/wallaby,I1319c4d436c89351fb1225c634a5c662479fe413,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-19 18:09:34.000000000,2021-04-14 08:18:21.000000000,2021-04-14 08:16:31.000000000,"[{'_account_id': 8731}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-19 18:09:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/e3401cf967f97500e8c144872e60346b652f7a9c', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I1319c4d436c89351fb1225c634a5c662479fe413\n'}]",0,781852,e3401cf967f97500e8c144872e60346b652f7a9c,8,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I1319c4d436c89351fb1225c634a5c662479fe413
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/52/781852/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e3401cf967f97500e8c144872e60346b652f7a9c,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fneutron~master~I9a64e683f060573195a88b3c4ee34abbd941fa44,openstack/neutron,master,I9a64e683f060573195a88b3c4ee34abbd941fa44,Remove unused method _ensure_vr_id_and_network(),MERGED,2021-04-02 14:13:11.000000000,2021-04-14 08:14:41.000000000,2021-04-14 08:12:54.000000000,"[{'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-02 14:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0fddd29b866ff0622959df19672262bd3c4d1eee', 'message': 'Remove unused method _ensure_vr_id_and_network()\n\nMethod _ensure_vr_id_and_network is not used in l3_hamode_db.py,\nhence can be moved to unit test where is used.\n\nCloses-Bug: #1715371\nChange-Id: I9a64e683f060573195a88b3c4ee34abbd941fa44\n'}, {'number': 2, 'created': '2021-04-02 19:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f3c3c4fc47f94762182d5712aebfddbfde94a04', 'message': 'Remove unused method _ensure_vr_id_and_network()\n\nMethod _ensure_vr_id_and_network is not used in l3_hamode_db.py,\nhence can be moved to unit test where is used.\n\nCloses-Bug: #1715371\nChange-Id: I9a64e683f060573195a88b3c4ee34abbd941fa44\n'}, {'number': 3, 'created': '2021-04-08 12:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b0a77a95fc482da3706c300ca28e8635336aa037', 'message': 'Remove unused method _ensure_vr_id_and_network()\n\nMethod _ensure_vr_id_and_network is not used in l3_hamode_db.py,\nhence can be moved to unit test where is used.\n\nCloses-Bug: #1715371\nChange-Id: I9a64e683f060573195a88b3c4ee34abbd941fa44\n'}, {'number': 4, 'created': '2021-04-08 13:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/33a7cbbb56e9436b5ea70b3ac6720fe417951d75', 'message': 'Remove unused method _ensure_vr_id_and_network()\n\nMethod _ensure_vr_id_and_network is not used in l3_hamode_db.py,\nhence can be moved to unit test where is used.\n\nCloses-Bug: #1715371\nChange-Id: I9a64e683f060573195a88b3c4ee34abbd941fa44\n'}, {'number': 5, 'created': '2021-04-08 13:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/56f435a7889b074a2d64f558c309df1b22926ae7', 'message': 'Remove unused method _ensure_vr_id_and_network()\n\nMethod _ensure_vr_id_and_network is not used in l3_hamode_db.py,\nhence can be moved to unit test where is used.\n\nCloses-Bug: #1715371\nChange-Id: I9a64e683f060573195a88b3c4ee34abbd941fa44\n'}, {'number': 6, 'created': '2021-04-10 20:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/def0da33f587ff8b2981adda5e2e4d9bc74a9377', 'message': 'Remove unused method _ensure_vr_id_and_network()\n\nMethod _ensure_vr_id_and_network is not used in l3_hamode_db.py,\nhence can be moved to unit test where is used.\n\nCloses-Bug: #1715371\nChange-Id: I9a64e683f060573195a88b3c4ee34abbd941fa44\n'}, {'number': 7, 'created': '2021-04-12 11:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1229342c457a211c0b99114837b6a1c82eb3f82a', 'message': 'Remove unused method _ensure_vr_id_and_network()\n\nMethod _ensure_vr_id_and_network is not used in l3_hamode_db.py,\nhence method and related tests can be removed.\n\nCloses-Bug: #1715371\nChange-Id: I9a64e683f060573195a88b3c4ee34abbd941fa44\n'}, {'number': 8, 'created': '2021-04-13 09:21:16.000000000', 'files': ['neutron/db/l3_hamode_db.py', 'neutron/tests/unit/db/test_l3_hamode_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ba3d78099f47c3819af0f6eb2083a1df7f67c38d', 'message': 'Remove unused method _ensure_vr_id_and_network()\n\nMethod _ensure_vr_id_and_network is not used in l3_hamode_db.py,\nhence method and related tests can be removed.\n\nCloses-Bug: #1715371\nChange-Id: I9a64e683f060573195a88b3c4ee34abbd941fa44\n'}]",5,784572,ba3d78099f47c3819af0f6eb2083a1df7f67c38d,102,6,8,32667,,,0,"Remove unused method _ensure_vr_id_and_network()

Method _ensure_vr_id_and_network is not used in l3_hamode_db.py,
hence method and related tests can be removed.

Closes-Bug: #1715371
Change-Id: I9a64e683f060573195a88b3c4ee34abbd941fa44
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/784572/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_hamode_db.py', 'neutron/tests/unit/db/test_l3_hamode_db.py']",2,0fddd29b866ff0622959df19672262bd3c4d1eee,bug/1715371,"import functoolsfrom neutron.common import utils as n_utils def _ensure_vr_id_and_network(self, context, router_db): """"""Attach vr_id to router while tolerating network deletes."""""" creator = functools.partial(self.plugin._ensure_vr_id, context, router_db) dep_getter = functools.partial(self.plugin.get_ha_network, context, router_db.tenant_id) dep_creator = functools.partial(self.plugin._create_ha_network, context, router_db.tenant_id) dep_deleter = functools.partial(self.plugin._delete_ha_network, context) dep_id_attr = 'network_id' return n_utils.create_object_with_dependency( creator, dep_getter, dep_creator, dep_id_attr, dep_deleter)[1] net = self._ensure_vr_id_and_network( self._ensure_vr_id_and_network( net = self._ensure_vr_id_and_network( self._ensure_vr_id_and_network(", net = self.plugin._ensure_vr_id_and_network( self.plugin._ensure_vr_id_and_network( net = self.plugin._ensure_vr_id_and_network( self.plugin._ensure_vr_id_and_network(,20,19
openstack%2Fpython-mistralclient~master~I84a6e2ced7031b54cbbea0ffcd82961bc3ce3383,openstack/python-mistralclient,master,I84a6e2ced7031b54cbbea0ffcd82961bc3ce3383,Add Python3 xena unit tests,MERGED,2021-03-19 18:09:44.000000000,2021-04-14 08:13:54.000000000,2021-04-14 08:08:25.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-19 18:09:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/87e3a7bd2c65874a07fc87d7bf42775c31eaa1f3', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I84a6e2ced7031b54cbbea0ffcd82961bc3ce3383\n'}]",0,781854,87e3a7bd2c65874a07fc87d7bf42775c31eaa1f3,10,3,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I84a6e2ced7031b54cbbea0ffcd82961bc3ce3383
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/54/781854/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,87e3a7bd2c65874a07fc87d7bf42775c31eaa1f3,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fpython-mistralclient~stable%2Fwallaby~Icb3618fcc5531213bb34e05280955fdf594ff6b2,openstack/python-mistralclient,stable/wallaby,Icb3618fcc5531213bb34e05280955fdf594ff6b2,Update .gitreview for stable/wallaby,MERGED,2021-03-19 18:09:31.000000000,2021-04-14 08:13:49.000000000,2021-04-14 08:08:28.000000000,"[{'_account_id': 8731}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-19 18:09:31.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/b5f1343e2fb9d5c8d084f3c4e4adfeb15d6b46b1', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: Icb3618fcc5531213bb34e05280955fdf594ff6b2\n'}]",0,781851,b5f1343e2fb9d5c8d084f3c4e4adfeb15d6b46b1,8,3,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: Icb3618fcc5531213bb34e05280955fdf594ff6b2
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/51/781851/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,b5f1343e2fb9d5c8d084f3c4e4adfeb15d6b46b1,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fmistral~master~I42f2db33cf675d562e3e29aee571dd57d1f9c4b3,openstack/mistral,master,I42f2db33cf675d562e3e29aee571dd57d1f9c4b3,Add Python3 xena unit tests,MERGED,2021-03-26 18:42:27.000000000,2021-04-14 08:11:42.000000000,2021-04-14 08:05:49.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 18:42:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/9e44f73ab72a552cdbccf7a3f25055364dff59a2', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I42f2db33cf675d562e3e29aee571dd57d1f9c4b3\n'}]",0,783455,9e44f73ab72a552cdbccf7a3f25055364dff59a2,8,3,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I42f2db33cf675d562e3e29aee571dd57d1f9c4b3
",git fetch https://review.opendev.org/openstack/mistral refs/changes/55/783455/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9e44f73ab72a552cdbccf7a3f25055364dff59a2,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Freleases~master~I0822e8928bc73219b30c72513906006f0dc7549f,openstack/releases,master,I0822e8928bc73219b30c72513906006f0dc7549f,Release puppet-glance 17.6.0 for stable/victoria,MERGED,2021-04-13 05:45:17.000000000,2021-04-14 07:55:57.000000000,2021-04-14 07:55:57.000000000,"[{'_account_id': 308}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-13 05:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d855c20e532f3de739d0e01aaf440c7ad00029cd', 'message': 'Release puppet-glance 17.6.0 for stable/victoria\n\nCouple of fixes and new parameters are added since last\ntag release of puppet-glance, so requesting a new tag\nrelease for it.\n\nChange-Id: I0822e8928bc73219b30c72513906006f0dc7549f\n'}, {'number': 2, 'created': '2021-04-13 05:49:10.000000000', 'files': ['deliverables/victoria/puppet-glance.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3ea77f34e3eb7e724b090c3b40bbf0a6f50447e1', 'message': 'Release puppet-glance 17.6.0 for stable/victoria\n\nCouple of fixes and new parameters are added since last\ntag release of puppet-glance, so requesting a new tag\nrelease for it, metadata already bumped in [1].\n\n[1] https://review.opendev.org/c/openstack/puppet-glance/+/785887\n\nChange-Id: I0822e8928bc73219b30c72513906006f0dc7549f\n'}]",0,786005,3ea77f34e3eb7e724b090c3b40bbf0a6f50447e1,12,8,2,13861,,,0,"Release puppet-glance 17.6.0 for stable/victoria

Couple of fixes and new parameters are added since last
tag release of puppet-glance, so requesting a new tag
release for it, metadata already bumped in [1].

[1] https://review.opendev.org/c/openstack/puppet-glance/+/785887

Change-Id: I0822e8928bc73219b30c72513906006f0dc7549f
",git fetch https://review.opendev.org/openstack/releases refs/changes/05/786005/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/puppet-glance.yaml'],1,d855c20e532f3de739d0e01aaf440c7ad00029cd,, - projects: - hash: d23cebf91b1cc098f1bd46bce042b7ae368b3f0d repo: openstack/puppet-glance version: 17.6.0,,4,0
openstack%2Fnova~master~I5213f6dd2033ce1b0fe5d53dd89b22465cf76001,openstack/nova,master,I5213f6dd2033ce1b0fe5d53dd89b22465cf76001,Update master for stable/wallaby,MERGED,2021-03-26 07:17:31.000000000,2021-04-14 07:43:23.000000000,2021-03-26 15:15:35.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 07:17:31.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/68ad2c67d891935c66e8c0e5a368695c202a9f49', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I5213f6dd2033ce1b0fe5d53dd89b22465cf76001\n'}]",0,783217,68ad2c67d891935c66e8c0e5a368695c202a9f49,10,3,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I5213f6dd2033ce1b0fe5d53dd89b22465cf76001
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/783217/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,68ad2c67d891935c66e8c0e5a368695c202a9f49,reno-wallaby, wallaby,,7,0
openstack%2Fmistral-dashboard~master~I3a42ec28f6c4a2de874b83a1f0230c12fec5cea1,openstack/mistral-dashboard,master,I3a42ec28f6c4a2de874b83a1f0230c12fec5cea1,Add Python3 xena unit tests,MERGED,2021-03-26 18:36:26.000000000,2021-04-14 07:42:04.000000000,2021-04-14 07:42:04.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 18:36:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/6b73bda39ec6e8e5f7f7963659d859c9f6b90268', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I3a42ec28f6c4a2de874b83a1f0230c12fec5cea1\n'}]",0,783443,6b73bda39ec6e8e5f7f7963659d859c9f6b90268,8,3,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I3a42ec28f6c4a2de874b83a1f0230c12fec5cea1
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/43/783443/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6b73bda39ec6e8e5f7f7963659d859c9f6b90268,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fmistral-dashboard~master~I25353ef4cf2d31da031e715ad797f42c149da500,openstack/mistral-dashboard,master,I25353ef4cf2d31da031e715ad797f42c149da500,Update master for stable/wallaby,MERGED,2021-03-26 18:35:33.000000000,2021-04-14 07:37:35.000000000,2021-04-14 07:37:35.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 18:35:33.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/ce7a94945ac043b388411c84ba41120d15523c54', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I25353ef4cf2d31da031e715ad797f42c149da500\n'}]",0,783439,ce7a94945ac043b388411c84ba41120d15523c54,8,3,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I25353ef4cf2d31da031e715ad797f42c149da500
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/39/783439/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,ce7a94945ac043b388411c84ba41120d15523c54,reno-wallaby, wallaby,,7,0
openstack%2Fmistral-extra~master~Id028d0e0b632aa1269ed45d6407672fdbceebd8d,openstack/mistral-extra,master,Id028d0e0b632aa1269ed45d6407672fdbceebd8d,Update master for stable/wallaby,MERGED,2021-03-19 18:06:23.000000000,2021-04-14 07:34:11.000000000,2021-04-14 07:32:34.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-19 18:06:23.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/f1d24ea28261bbc3230fac33aee7caa72a014461', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: Id028d0e0b632aa1269ed45d6407672fdbceebd8d\n'}]",0,781836,f1d24ea28261bbc3230fac33aee7caa72a014461,7,2,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: Id028d0e0b632aa1269ed45d6407672fdbceebd8d
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/36/781836/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,f1d24ea28261bbc3230fac33aee7caa72a014461,reno-wallaby, wallaby,,7,0
openstack%2Fmistral-dashboard~master~I663149cc4986f5c1ca83a819eb10bf484baa228a,openstack/mistral-dashboard,master,I663149cc4986f5c1ca83a819eb10bf484baa228a,Setting DEFAULT to False.,MERGED,2021-02-17 12:07:17.000000000,2021-04-14 07:28:20.000000000,2021-04-14 07:28:20.000000000,"[{'_account_id': 8731}, {'_account_id': 16137}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32834}]","[{'number': 1, 'created': '2021-02-17 12:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/c802e2581de224723134769b613311d19e9a36c6', 'message': 'Setting DEFAULT to False.\n\nIn openstack when user logged in, user is redirected to project page\nbut after installation of mistral , now default dashboard page is\nset to mistral.\nIn order to make project as default dashboard page setting\nDEFAULT as False.\n\nChange-Id: I663149cc4986f5c1ca83a819eb10bf484baa228a\n'}, {'number': 2, 'created': '2021-02-18 08:53:07.000000000', 'files': ['mistraldashboard/enabled/_50_mistral.py'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/7fd7c820d106cdaacb3e13c80bc8628744c4f80c', 'message': 'Setting DEFAULT to False.\n\nIn openstack when user logged in, user is redirected to project page\nbut after installation of mistral , now default dashboard page is\nset to mistral.\nIn order to make project as default dashboard page setting\nDEFAULT as False.\n\nChange-Id: I663149cc4986f5c1ca83a819eb10bf484baa228a\n'}]",0,776121,7fd7c820d106cdaacb3e13c80bc8628744c4f80c,12,6,2,33128,,,0,"Setting DEFAULT to False.

In openstack when user logged in, user is redirected to project page
but after installation of mistral , now default dashboard page is
set to mistral.
In order to make project as default dashboard page setting
DEFAULT as False.

Change-Id: I663149cc4986f5c1ca83a819eb10bf484baa228a
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/21/776121/1 && git format-patch -1 --stdout FETCH_HEAD,['mistraldashboard/enabled/_50_mistral.py'],1,c802e2581de224723134769b613311d19e9a36c6,default_dashboard_fix,DEFAULT = False,DEFAULT = True,1,1
openstack%2Fmistral~master~I58e157deef1aac29cf7d53af54d4726824419cc4,openstack/mistral,master,I58e157deef1aac29cf7d53af54d4726824419cc4,Update master for stable/wallaby,MERGED,2021-03-26 18:42:24.000000000,2021-04-14 07:27:55.000000000,2021-04-14 07:26:32.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 18:42:24.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/3846b9e6edc382933fe5790f5d423dc2bf6936f0', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I58e157deef1aac29cf7d53af54d4726824419cc4\n'}]",0,783454,3846b9e6edc382933fe5790f5d423dc2bf6936f0,8,3,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I58e157deef1aac29cf7d53af54d4726824419cc4
",git fetch https://review.opendev.org/openstack/mistral refs/changes/54/783454/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,3846b9e6edc382933fe5790f5d423dc2bf6936f0,reno-wallaby, wallaby,,7,0
openstack%2Fmistral-lib~master~Iefd29ddbbdfddc94ac4412e691422d30a7c3a4e8,openstack/mistral-lib,master,Iefd29ddbbdfddc94ac4412e691422d30a7c3a4e8,Update master for stable/wallaby,MERGED,2021-03-19 18:08:45.000000000,2021-04-14 07:25:23.000000000,2021-04-14 07:23:46.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-19 18:08:45.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/adb30bd63ef86bb00431ceccd8c9921c1ed5cec5', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: Iefd29ddbbdfddc94ac4412e691422d30a7c3a4e8\n'}]",0,781849,adb30bd63ef86bb00431ceccd8c9921c1ed5cec5,7,2,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: Iefd29ddbbdfddc94ac4412e691422d30a7c3a4e8
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/49/781849/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,adb30bd63ef86bb00431ceccd8c9921c1ed5cec5,reno-wallaby, wallaby,,7,0
openstack%2Fpython-mistralclient~master~I5281b365b0316291f92d70d50f75c29ed00af9ba,openstack/python-mistralclient,master,I5281b365b0316291f92d70d50f75c29ed00af9ba,Update master for stable/wallaby,MERGED,2021-03-19 18:09:39.000000000,2021-04-14 07:21:25.000000000,2021-04-14 07:19:40.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-19 18:09:39.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/f1e217ab93f54ffb947b1c255931ee454c5dbc5d', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I5281b365b0316291f92d70d50f75c29ed00af9ba\n'}]",0,781853,f1e217ab93f54ffb947b1c255931ee454c5dbc5d,7,2,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I5281b365b0316291f92d70d50f75c29ed00af9ba
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/53/781853/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,f1e217ab93f54ffb947b1c255931ee454c5dbc5d,reno-wallaby, wallaby,,7,0
openstack%2Fmistral-dashboard~master~If0275b78f9084e314e6a69e267a79fc4472c0dfe,openstack/mistral-dashboard,master,If0275b78f9084e314e6a69e267a79fc4472c0dfe,Fix gate jobs,MERGED,2021-02-16 13:10:42.000000000,2021-04-14 07:18:03.000000000,2021-04-14 07:18:03.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-16 13:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/0348425d251a345507ed729d9bd848b011456fcf', 'message': '[DNM] Test gate jobs\n\nChange-Id: If0275b78f9084e314e6a69e267a79fc4472c0dfe\n'}, {'number': 2, 'created': '2021-02-16 13:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/98f2d19fac1e3f10413d7fc27e98d01cdc5e9d2e', 'message': '[DNM] Test gate jobs\n\nChange-Id: If0275b78f9084e314e6a69e267a79fc4472c0dfe\n'}, {'number': 3, 'created': '2021-02-16 16:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/4b5e6a1032785c956f8854dc8ac6f2d637b32d28', 'message': '[DNM] Test gate jobs\n\nChange-Id: If0275b78f9084e314e6a69e267a79fc4472c0dfe\n'}, {'number': 4, 'created': '2021-02-16 17:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/b86922dc9ec3d8b940f1fbc5eaee3183afd8c3e4', 'message': '[DNM] Test gate jobs\n\nChange-Id: If0275b78f9084e314e6a69e267a79fc4472c0dfe\n'}, {'number': 5, 'created': '2021-02-16 18:08:53.000000000', 'files': ['test-requirements.txt', 'mistraldashboard/executions/tables.py', 'mistraldashboard/action_executions/tables.py', 'mistraldashboard/default/smart_cell.py', 'mistraldashboard/test/settings.py', 'tox.ini', 'mistraldashboard/tasks/tables.py'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/f5473fc2367a0ca40b33796e74d2ecdd106b36cd', 'message': 'Fix gate jobs\n\nThis patch update the following:\n* add ignore_basepython_conflict = true in tox.ini file.\n* replace horizon tarballs dependency with constraints file.\n* update hacking version to latest 4.0.0 version.\n* fix pep8 warnings.\n\nChange-Id: If0275b78f9084e314e6a69e267a79fc4472c0dfe\n'}]",0,775826,f5473fc2367a0ca40b33796e74d2ecdd106b36cd,16,3,5,29313,,,0,"Fix gate jobs

This patch update the following:
* add ignore_basepython_conflict = true in tox.ini file.
* replace horizon tarballs dependency with constraints file.
* update hacking version to latest 4.0.0 version.
* fix pep8 warnings.

Change-Id: If0275b78f9084e314e6a69e267a79fc4472c0dfe
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/26/775826/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0348425d251a345507ed729d9bd848b011456fcf,,ignore_basepython_conflict = true,,1,0
openstack%2Fopenstack-helm-images~master~Ib18059776134bcfabaff8894701091bfd60180ac,openstack/openstack-helm-images,master,Ib18059776134bcfabaff8894701091bfd60180ac,Fix openstack loci images upload and promotion,MERGED,2021-04-13 20:52:08.000000000,2021-04-14 07:15:51.000000000,2021-04-14 07:08:11.000000000,"[{'_account_id': 8863}, {'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-13 20:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/eea74a7aa64c5e6d3e988892aff61eeb9c5b828a', 'message': 'Fix openstack loci images upload and promotion\n\nChange-Id: Ib18059776134bcfabaff8894701091bfd60180ac\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2021-04-13 21:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/1436e9c6827ffb54bc4672fade940c38ee3846ff', 'message': 'Fix openstack loci images upload and promotion\n\nChange-Id: Ib18059776134bcfabaff8894701091bfd60180ac\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2021-04-13 23:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/991b5ac5ae87f9710f391764271ff86477a05300', 'message': 'Fix openstack loci images upload and promotion\n\nChange-Id: Ib18059776134bcfabaff8894701091bfd60180ac\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2021-04-14 03:06:25.000000000', 'files': ['zuul.d/openstack-loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/31b7dd530a5c0d607b6edd66f436b27c5ff0daf4', 'message': 'Fix openstack loci images upload and promotion\n\nChange-Id: Ib18059776134bcfabaff8894701091bfd60180ac\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,786124,31b7dd530a5c0d607b6edd66f436b27c5ff0daf4,22,4,4,8863,,,0,"Fix openstack loci images upload and promotion

Change-Id: Ib18059776134bcfabaff8894701091bfd60180ac
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/24/786124/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/openstack-loci.yaml'],1,eea74a7aa64c5e6d3e988892aff61eeb9c5b828a,, run: - zuul.d/playbooks/build-loci.yml - zuul.d/playbooks/upload.yml, run: zuul.d/playbooks/build-loci.yml,3,1
openstack%2Fvalidations-common~master~I8117a1451189a93a189735b26637c98befc3527d,openstack/validations-common,master,I8117a1451189a93a189735b26637c98befc3527d,add basic standalone job w/ validate-services true,ABANDONED,2021-04-14 06:40:24.000000000,2021-04-14 07:08:52.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-14 06:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/bf5c670252998da6c2b7ee4d714de1f50bec3567', 'message': 'add basic standalone job w/ validate-services true\n\n* Parent off the basic tripleo standalone job\n* turn on validate services\n* Ensure changes to repo build via rpm\n\nRelated-Bug: #1923091\nDepends-On: https://review.opendev.org/c/openstack/tripleo-validations/+/785722\nChange-Id: I8117a1451189a93a189735b26637c98befc3527d\n'}, {'number': 2, 'created': '2021-04-14 06:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/6887d1c2fca47553c01123a31cd63f18e3df0bc1', 'message': 'add basic standalone job w/ validate-services true\n\n* Parent off the basic tripleo standalone job\n* turn on validate services\n* Ensure changes to repo build via rpm\n\nRelated-Bug: #1923091\nDepends-On: https://review.opendev.org/c/openstack/tripleo-validations/+/785722\nChange-Id: I8117a1451189a93a189735b26637c98befc3527d\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 3, 'created': '2021-04-14 06:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/0ca38ef1ac81f56dfd81252e8df50421aaf2becc', 'message': 'add basic standalone job w/ validate-services true\n\n* Parent off the basic tripleo standalone job\n* turn on validate services\n* Ensure changes to repo build via rpm\n\nRelated-Bug: #1923091\nDepends-On: https://review.opendev.org/c/openstack/tripleo-validations/+/785722\nChange-Id: I8117a1451189a93a189735b26637c98befc3527d\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 4, 'created': '2021-04-14 06:52:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/a63d5bf9f7b7f67758ccb2e176b0fdc2011968bb', 'message': 'add basic standalone job w/ validate-services true\n\n* Parent off the basic tripleo standalone job\n* turn on validate services\n* Ensure changes to repo build via rpm\n\nRelated-Bug: #1923091\nDepends-On: https://review.opendev.org/c/openstack/tripleo-validations/+/785722\nChange-Id: I8117a1451189a93a189735b26637c98befc3527d\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}]",1,786166,a63d5bf9f7b7f67758ccb2e176b0fdc2011968bb,10,5,4,32926,,,0,"add basic standalone job w/ validate-services true

* Parent off the basic tripleo standalone job
* turn on validate services
* Ensure changes to repo build via rpm

Related-Bug: #1923091
Depends-On: https://review.opendev.org/c/openstack/tripleo-validations/+/785722
Change-Id: I8117a1451189a93a189735b26637c98befc3527d
Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/66/786166/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bf5c670252998da6c2b7ee4d714de1f50bec3567,,- job: name: tripleo-ci-centos-8-standalone-validation parent: tripleo-ci-centos-8-standalone vars: featureset: '052' validate_services: true enable_validation: true component: validation - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters - openstack-tox-cover - validations-common-functional - tripleo-ci-centos-8-standalone-validation: vars: &consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters - validations-common-functional - tripleo-ci-centos-8-standalone-validation: vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider,,30,0
openstack%2Fopenstack-manuals~master~Ic03cc535bf6e0747589c49a56ed894af621fe8ff,openstack/openstack-manuals,master,Ic03cc535bf6e0747589c49a56ed894af621fe8ff,[www] Release Wallaby,MERGED,2021-04-06 10:07:55.000000000,2021-04-14 07:02:39.000000000,2021-04-14 06:36:24.000000000,"[{'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-06 10:07:55.000000000', 'files': ['tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/68b823d5e8ba21c4d421ae5cd219631375667033', 'message': '[www] Release Wallaby\n\nUpdate tools so that wallaby is marked as released.\n\nChange-Id: Ic03cc535bf6e0747589c49a56ed894af621fe8ff\n'}]",1,784910,68b823d5e8ba21c4d421ae5cd219631375667033,10,4,1,6547,,,0,"[www] Release Wallaby

Update tools so that wallaby is marked as released.

Change-Id: Ic03cc535bf6e0747589c49a56ed894af621fe8ff
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/10/784910/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/www-generator.py'],1,68b823d5e8ba21c4d421ae5cd219631375667033,," 'wallaby': SeriesInfo(date='April 2021', status='maintained'),"," 'wallaby': SeriesInfo(date='April 2021', status='development'),",1,1
openstack%2Ftacker~master~I51db41e7fee35c6060bcbd72f2c4f0513b705bfc,openstack/tacker,master,I51db41e7fee35c6060bcbd72f2c4f0513b705bfc,[WIP] Change the job's voting to true,ABANDONED,2021-03-17 02:49:16.000000000,2021-04-14 06:57:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}]","[{'number': 1, 'created': '2021-03-17 02:49:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/6b2b6bc116b28fd1f72465f2f287ac8db213b36e', 'message': ""[WIP] Change the job's voting to true\n\nThis patch changes from `non-voting` to `voting` in zuul's job results.\nCurrentry the functional test of `tacker-functional-devstack-multinode-sol-kubernetes` is not became `-1` status  when zuul's result even is `RETRY_LIMIT` because job's voting is `non-vorting`.\nIt is not good because that will be possible to merge.\n\nRelated-Bug: 1919396\nChange-Id: I51db41e7fee35c6060bcbd72f2c4f0513b705bfc\n""}]",0,781005,6b2b6bc116b28fd1f72465f2f287ac8db213b36e,5,2,1,31730,,,0,"[WIP] Change the job's voting to true

This patch changes from `non-voting` to `voting` in zuul's job results.
Currentry the functional test of `tacker-functional-devstack-multinode-sol-kubernetes` is not became `-1` status  when zuul's result even is `RETRY_LIMIT` because job's voting is `non-vorting`.
It is not good because that will be possible to merge.

Related-Bug: 1919396
Change-Id: I51db41e7fee35c6060bcbd72f2c4f0513b705bfc
",git fetch https://review.opendev.org/openstack/tacker refs/changes/05/781005/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6b2b6bc116b28fd1f72465f2f287ac8db213b36e,dnm-change-voting, #templates: # - check-requirements # - openstack-cover-jobs # - openstack-lower-constraints-jobs # - openstack-python3-wallaby-jobs # - publish-openstack-docs-pti # - release-notes-jobs-python3 #- tacker-functional-devstack-multinode-legacy #- tacker-functional-devstack-multinode-sol #- tacker-functional-devstack-multinode-sol-separated-nfvo, voting: false templates: - check-requirements - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-wallaby-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - tacker-functional-devstack-multinode-legacy - tacker-functional-devstack-multinode-sol - tacker-functional-devstack-multinode-sol-separated-nfvo,10,11
openstack%2Fcinder~master~I74d76de74c0f8da56cce6c4e4207edc8237a2a1d,openstack/cinder,master,I74d76de74c0f8da56cce6c4e4207edc8237a2a1d,"when modify encrypted information of volume type, verify encryption id",NEW,2021-03-17 02:42:43.000000000,2021-04-14 06:21:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-17 02:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7c537a4a158c2f73e2286ce8c36da5304deb3bf6', 'message': 'when modify encrypted information of volume type, verify encryption id\n\nChange-Id: I74d76de74c0f8da56cce6c4e4207edc8237a2a1d\n'}, {'number': 2, 'created': '2021-03-25 11:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ee07c0430600b7f2c4a42a0cb0ffca154f958cf2', 'message': 'when modify encrypted information of volume type, verify encryption id\n\nChange-Id: I74d76de74c0f8da56cce6c4e4207edc8237a2a1d\n'}, {'number': 3, 'created': '2021-03-26 01:13:00.000000000', 'files': ['cinder/tests/unit/api/contrib/test_volume_type_encryption.py', 'cinder/api/contrib/volume_type_encryption.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0656ae604815220f0aab4810be9d0050b6d222be', 'message': 'when modify encrypted information of volume type, verify encryption id\n\nChange-Id: I74d76de74c0f8da56cce6c4e4207edc8237a2a1d\n'}]",0,781003,0656ae604815220f0aab4810be9d0050b6d222be,53,1,3,33161,,,0,"when modify encrypted information of volume type, verify encryption id

Change-Id: I74d76de74c0f8da56cce6c4e4207edc8237a2a1d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/03/781003/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/contrib/volume_type_encryption.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py']",3,7c537a4a158c2f73e2286ce8c36da5304deb3bf6,,"def volume_type_encryption_update(context, volume_type_id, values, encryption_id=None): if encryption_id: query = query.filter_by(volume_type_id=volume_type_id, encryption_id=encryption_id) else: query = query.filter_by(volume_type_id=volume_type_id) result = query.update(values)","def volume_type_encryption_update(context, volume_type_id, values): result = query.filter_by(volume_type_id=volume_type_id).update(values)",14,5
openstack%2Ftripleo-heat-templates~master~I5ce6ceb057cda8577624c2dee1ca317f0417827f,openstack/tripleo-heat-templates,master,I5ce6ceb057cda8577624c2dee1ca317f0417827f,Allow os-brick logging configuration,ABANDONED,2020-12-14 09:23:34.000000000,2021-04-14 06:19:34.000000000,,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2020-12-14 09:23:34.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d4472447d108d7dd35f09c822e0c64a2499155d', 'message': 'Allow os-brick logging configuration\n\nAt present os-brick will log at the level configured by nova\nin nova.conf, which can result in important messages not being\nlogged during volume attach/detach by nova-compute.\n\nThis change adds parameter ``NovaEnableOs-BrickLogging`` to allow\nos-brick to log at different level then nova and is default to\nDEBUG level.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-nova/+/766899\nChange-Id: I5ce6ceb057cda8577624c2dee1ca317f0417827f\n'}]",1,766905,4d4472447d108d7dd35f09c822e0c64a2499155d,6,9,1,20733,,,0,"Allow os-brick logging configuration

At present os-brick will log at the level configured by nova
in nova.conf, which can result in important messages not being
logged during volume attach/detach by nova-compute.

This change adds parameter ``NovaEnableOs-BrickLogging`` to allow
os-brick to log at different level then nova and is default to
DEBUG level.

Depends-On: https://review.opendev.org/c/openstack/puppet-nova/+/766899
Change-Id: I5ce6ceb057cda8577624c2dee1ca317f0417827f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/766905/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,4d4472447d108d7dd35f09c822e0c64a2499155d,os_log_debug, NovaEnableOs-BrickLogging: type: string description: > Enable logging for os-brick with DEBUG as default log level. default: 'DEBUG' tags: - role_specific nova::logging::os_brick_log_level: NovaEnableOs-BrickLogging NovaEnableOs-BrickLogging: {get_param: NovaEnableOs-BrickLogging},,9,0
openstack%2Fswift~master~I1145fa47c51719ac744116ff3b7f49574819c503,openstack/swift,master,I1145fa47c51719ac744116ff3b7f49574819c503,Make test_relink_cleanup use multiple policies,ABANDONED,2021-04-13 10:29:27.000000000,2021-04-14 06:06:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-13 10:29:27.000000000', 'files': ['test/unit/cli/test_relinker.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/901d55163f99a9b6fc227cce78996ffdf052d3e0', 'message': 'Make test_relink_cleanup use multiple policies\n\nChange-Id: I1145fa47c51719ac744116ff3b7f49574819c503\n'}]",1,786032,901d55163f99a9b6fc227cce78996ffdf052d3e0,3,1,1,7847,,,0,"Make test_relink_cleanup use multiple policies

Change-Id: I1145fa47c51719ac744116ff3b7f49574819c503
",git fetch https://review.opendev.org/openstack/swift refs/changes/32/786032/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/cli/test_relinker.py'],1,901d55163f99a9b6fc227cce78996ffdf052d3e0,relinker_extra_stats," self._setup_object(policy=self.policy) def _create_object(self, policy, part, _hash): objects_dir = os.path.join(self.devices, self.existing_device, get_policy_string('objects', policy)) shutil.rmtree(objects_dir, ignore_errors=True) os.mkdir(objects_dir) objdir = os.path.join(objects_dir, str(part), _hash[-3:], _hash) os.makedirs(objdir) timestamp = utils.Timestamp.now() filename = timestamp.internal + "".data"" objname = os.path.join(objdir, filename) with open(objname, ""wb"") as dummy: dummy.write(b""Hello World!"") write_metadata(dummy, {'name': self.obj_path, 'Content-Length': '12'}) return objdir, filename, timestamp def _setup_object(self, condition=None, policy=None): policy = policy or self.policy objects_dir = os.path.join(self.devices, self.existing_device, get_policy_string('objects', policy)) self.objdir, self.object_fname, self.obj_ts = self._create_object( policy, part, _hash) self.part_dir = os.path.join(objects_dir, str(self.part)) self.next_part_dir = os.path.join(objects_dir, str(self.next_part)) @patch_policies( [StoragePolicy(0, 'platinum', True), ECStoragePolicy( 1, name='ec', is_default=False, ec_type=DEFAULT_TEST_EC_TYPE, ec_ndata=4, ec_nparity=2)]) # setup a policy-0 object in a part in the second quartile so that its # next part *will not* be handled during cleanup self._setup_object(lambda part: part >= 2 ** (PART_POWER - 1)) # create policy-1 object in a part in the first quartile so that its # next part *will* be handled during cleanup _hash, pol_1_part, pol_1_next_part, objpath = self._get_object_name( lambda part: part < 2 ** (PART_POWER - 1)) self._create_object(POLICIES[1], pol_1_part, _hash) state_files = { POLICIES[0]: os.path.join(self.devices, self.existing_device, 'relink.objects.json'), POLICIES[1]: os.path.join(self.devices, self.existing_device, 'relink.objects-1.json'), } orig_inodes = {} for policy, part in zip(POLICIES, (self.part, pol_1_part)): state_file = state_files[policy] orig_inodes[policy] = os.stat(state_file).st_ino state = {str(part): True} with open(state_files[policy], 'rt') as f: self.assertEqual(json.load(f), { ""part_power"": PART_POWER, ""next_part_power"": PART_POWER + 1, ""state"": state}) 'progress-1': { 'part_power': PART_POWER, 'next_part_power': PART_POWER + 1, 'sda1': { 'parts_done': 1, 'step': 'relink', 'timestamp': mock.ANY, 'start_time': mock.ANY, 'total_time': mock.ANY, 'total_parts': 1}}, 'files': 2, 'hash_dirs': 2, 'linked': 2, 'policies': 2, 'files': 2, 'hash_dirs': 2, 'linked': 2, 'policies': 2, with open(state_files[0], 'rt'), open(state_files[1], 'rt'): # Keep the state files open during cleanup so the inode can't be self.assertEqual(orig_inodes[0], os.stat(state_files[0]).st_ino) self.assertEqual(orig_inodes[1], os.stat(state_files[1]).st_ino) self.assertNotEqual(orig_inodes[0], os.stat(state_files[0]).st_ino) self.assertNotEqual(orig_inodes[1], os.stat(state_files[1]).st_ino) for policy, part, next_part in zip(POLICIES, (self.part, pol_1_part), (None, pol_1_next_part)): state_file = state_files[policy] state = {str(part): True} if next_part is not None: # cleanup will process the new partition as well as the old if # old is in first quartile state[str(next_part)] = True with open(state_file, 'rt') as f: # NB: part_power/next_part_power tuple changed, so state was # reset (though we track prev_part_power for an efficient clean # up) self.assertEqual(json.load(f), { ""prev_part_power"": PART_POWER, ""part_power"": PART_POWER + 1, ""next_part_power"": PART_POWER + 1, ""state"": state}) 'parts_done': 1, # old part only 'start_time': mock.ANY, 'total_time': mock.ANY, 'progress-1': { 'part_power': PART_POWER + 1, 'next_part_power': PART_POWER + 1, 'sda1': { 'parts_done': 2, # old and new parts 'step': 'cleanup', 'timestamp': mock.ANY, 'start_time': mock.ANY, 'total_time': mock.ANY, 'total_parts': 2}}, 'aggregate': { 'errors': 0, 'files': 2, 'hash_dirs': 2, 'linked': 0, 'policies': 2, 'removed': 2, 'timestamp': mock.ANY}, ""stats_100"": { 'errors': 0, 'files': 2, 'hash_dirs': 2, 'linked': 0, 'policies': 2, 'removed': 2, 'timestamp': mock.ANY} },"," self._setup_object() def _setup_object(self, condition=None): shutil.rmtree(self.objects, ignore_errors=True) os.mkdir(self.objects) self.objdir = os.path.join( self.objects, str(self.part), self._hash[-3:], self._hash) os.makedirs(self.objdir) self.obj_ts = utils.Timestamp.now() self.object_fname = self.obj_ts.internal + "".data"" with open(self.objname, ""wb"") as dummy: dummy.write(b""Hello World!"") write_metadata(dummy, {'name': self.obj_path, 'Content-Length': '12'}) self.part_dir = os.path.join(self.objects, str(self.part)) self.next_part_dir = os.path.join(self.objects, str(self.next_part)) state_file = os.path.join(self.devices, self.existing_device, 'relink.objects.json') state = {str(self.part): True} with open(state_file, 'rt') as f: orig_inode = os.stat(state_file).st_ino self.assertEqual(json.load(f), { ""part_power"": PART_POWER, ""next_part_power"": PART_POWER + 1, ""state"": state}) 'files': 1, 'hash_dirs': 1, 'linked': 1, 'policies': 1, 'files': 1, 'hash_dirs': 1, 'linked': 1, 'policies': 1, with open(state_file, 'rt') as f: # Keep the state file open during cleanup so the inode can't be self.assertEqual(orig_inode, os.stat(state_file).st_ino) self.assertNotEqual(orig_inode, os.stat(state_file).st_ino) if self.next_part < 2 ** PART_POWER: state[str(self.next_part)] = True with open(state_file, 'rt') as f: # NB: part_power/next_part_power tuple changed, so state was reset # (though we track prev_part_power for an efficient clean up) self.assertEqual(json.load(f), { ""prev_part_power"": PART_POWER, ""part_power"": PART_POWER + 1, ""next_part_power"": PART_POWER + 1, ""state"": state}) 'parts_done': 1, 'errors': 0, 'files': 1, 'hash_dirs': 1, 'linked': 0, 'policies': 1, 'removed': 1},",129,54
openstack%2Fnova~master~Ie7e06776315e5e82e7d320919f1781fa2164398a,openstack/nova,master,Ie7e06776315e5e82e7d320919f1781fa2164398a,Fix check_instance_shared_storage() call,MERGED,2021-03-25 15:14:59.000000000,2021-04-14 05:41:49.000000000,2021-03-26 05:03:40.000000000,"[{'_account_id': 4393}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-25 15:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0be747d5e015023ddbf31bd0ee06763a72d4d82e', 'message': ""Fix check_instance_shared_storage() call\n\nIn the RPC 6.0 bump, we re-ordered the data and instance parameters\nin the client, without changing the order of the caller. This causes\nus to pass the instance to the virt driver call instead of the\ndata structure, thus failing the check all the time (and barfing a\ntraceback).\n\nThis just fixes that re-ordering. Since all of our direct testing of\nthis is done using dispatch-by-name, we didn't see a unit test fail\nbecause of it, but the error was visible in the logs of an integration\nrun. There is one evacuate test that asserts the ordering is as we\nexpect, which this fixes. Given the time constraints of RC1, I'm\nconsidering that to be enough coverage, but we probably need a better\ntest that covers the seam between manager and rpcapi here.\n\nChange-Id: Ie7e06776315e5e82e7d320919f1781fa2164398a\nCloses-Bug: #1921399\n""}, {'number': 2, 'created': '2021-03-25 22:39:44.000000000', 'files': ['nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4a285b1fb90bd6ea00d4423f8d72116bfb4af44b', 'message': ""Fix check_instance_shared_storage() call\n\nIn the RPC 6.0 bump, we re-ordered the data and instance parameters\nin the client, without changing the order of the caller. This causes\nus to pass the instance to the virt driver call instead of the\ndata structure, thus failing the check all the time (and barfing\na traceback).\n\nThis just fixes that re-ordering. Since all of our direct testing of\nthis is done using dispatch-by-name, we didn't see a unit test fail\nbecause of it, but the error was visible in the logs of an integration\nrun. There is one evacuate test that asserts the ordering is as we\nexpect, which this fixes. Given the time constraints of RC1, I'm\nconsidering that to be enough coverage, but we probably need a better\ntest that covers the seam between manager and rpcapi here.\n\nChange-Id: Ie7e06776315e5e82e7d320919f1781fa2164398a\nCloses-Bug: #1921399\n""}]",0,783026,4a285b1fb90bd6ea00d4423f8d72116bfb4af44b,27,4,2,4393,,,0,"Fix check_instance_shared_storage() call

In the RPC 6.0 bump, we re-ordered the data and instance parameters
in the client, without changing the order of the caller. This causes
us to pass the instance to the virt driver call instead of the
data structure, thus failing the check all the time (and barfing
a traceback).

This just fixes that re-ordering. Since all of our direct testing of
this is done using dispatch-by-name, we didn't see a unit test fail
because of it, but the error was visible in the logs of an integration
run. There is one evacuate test that asserts the ordering is as we
expect, which this fixes. Given the time constraints of RC1, I'm
considering that to be enough coverage, but we probably need a better
test that covers the seam between manager and rpcapi here.

Change-Id: Ie7e06776315e5e82e7d320919f1781fa2164398a
Closes-Bug: #1921399
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/783026/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py']",2,0be747d5e015023ddbf31bd0ee06763a72d4d82e,bug/1921399," data, instance=instance, host=host))"," instance, data, host=host))",3,2
openstack%2Ftripleo-quickstart~master~Ic9a4fa68148e44f76ea9f0bd9430385874b059a5,openstack/tripleo-quickstart,master,Ic9a4fa68148e44f76ea9f0bd9430385874b059a5,Move Centos repo to Pacific,MERGED,2021-03-25 10:23:39.000000000,2021-04-14 05:18:39.000000000,2021-04-14 05:17:16.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-25 10:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/67511c194656226e6c93245620f129fd8b14810f', 'message': ""Move Centos repo to Pacific\n\nThis change just removes the old, nautilus reference from quickstart\nCentos8 master: ceph-ansible will be available on both octopus and\npacific repos, hence there's no reason to keep nautilus here.\nIn addition, the official released repo is moved to Pacific which\nis GA.\n\nChange-Id: Ic9a4fa68148e44f76ea9f0bd9430385874b059a5\n""}, {'number': 2, 'created': '2021-03-30 14:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9d17c94fb8943a0bae0e31b94c0a30ec06c6de08', 'message': ""Move Centos repo to Pacific\n\nThis change just removes the old, nautilus reference from quickstart\nCentos8 master: ceph-ansible will be available on both octopus and\npacific repos, hence there's no reason to keep nautilus here.\nIn addition, the official released repo is moved to Pacific which\nis GA.\n\nChange-Id: Ic9a4fa68148e44f76ea9f0bd9430385874b059a5\n""}, {'number': 3, 'created': '2021-04-10 06:08:20.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/trunk/master.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/centosci/master-current-tripleo.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7569dabf4baa9a6ef590eb96865471d24d9f19ea', 'message': ""Move Centos repo to Pacific\n\nThis change just removes the old, nautilus reference from quickstart\nCentos8 master: ceph-ansible will be available on both octopus and\npacific repos, hence there's no reason to keep nautilus here.\nIn addition, the official released repo is moved to Pacific which\nis GA.\n\nChange-Id: Ic9a4fa68148e44f76ea9f0bd9430385874b059a5\n""}]",0,782943,7569dabf4baa9a6ef590eb96865471d24d9f19ea,45,9,3,25402,,,0,"Move Centos repo to Pacific

This change just removes the old, nautilus reference from quickstart
Centos8 master: ceph-ansible will be available on both octopus and
pacific repos, hence there's no reason to keep nautilus here.
In addition, the official released repo is moved to Pacific which
is GA.

Change-Id: Ic9a4fa68148e44f76ea9f0bd9430385874b059a5
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/43/782943/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/trunk/master.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/centosci/master-current-tripleo.yml']",4,67511c194656226e6c93245620f129fd8b14810f,cephadm_pacific, reponame: quickstart-centos-ceph-pacific filename: quickstart-centos-ceph-pacific.repo baseurl: http://mirror.centos.org/centos/8/storage/x86_64/ceph-pacific, # TODO: This is temporary and ideally we should use ceph octopus repository # when the release is W+. Octopus repos doesn't have ceph-ansible. Revisit # when switch from ceph-ansible to cephadm is complete (Ceph nautilus # repos to be removed on W+.) For more detail see: # https://bugs.launchpad.net/tripleo/+bug/1909191 reponame: quickstart-centos-ceph-nautilus filename: quickstart-centos-ceph-nautilus.repo baseurl: http://mirror.centos.org/centos/8/storage/x86_64/ceph-nautilus/ # TODO: includepkgs is temporary and ideally we should use ceph octopus # repository when the release is W+. Revisit when switch from ceph-ansible # to cephadm is complete. After removal of ceph nautilus repos we can # remove includepkgs to pull all package from octopus repository. For more # detail see: https://bugs.launchpad.net/tripleo/+bug/1909191 - type: generic reponame: quickstart-centos-ceph-octopus filename: quickstart-centos-ceph-octopus.repo baseurl: http://mirror.centos.org/centos/8/storage/x86_64/ceph-octopus/ includepkgs: - cephadm,12,46
openstack%2Ftripleo-quickstart~master~Idfa3ee2627e4619424294555ac56d2c04080636a,openstack/tripleo-quickstart,master,Idfa3ee2627e4619424294555ac56d2c04080636a,Bump to container-tools:3.0 for upstream CI,MERGED,2021-04-08 13:17:49.000000000,2021-04-14 05:09:22.000000000,2021-04-14 05:07:51.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-04-08 13:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/02f021f8f62912036245a1c8c87f6c7228f480ca', 'message': ""Bump to container-tools:3.0 for upstream CI\n\nThis patch rev's container-tools in the train (c-8)\nrelease file.\n\nChange-Id: Idfa3ee2627e4619424294555ac56d2c04080636a\n""}, {'number': 2, 'created': '2021-04-13 19:39:07.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/train.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/14fce75669a1f60c64312db518a3ebcf35a0d4b3', 'message': ""Bump to container-tools:3.0 for upstream CI\n\nThis patch rev's container-tools in the train (c-8)\nrelease file.\n\nChange-Id: Idfa3ee2627e4619424294555ac56d2c04080636a\n""}]",0,785415,14fce75669a1f60c64312db518a3ebcf35a0d4b3,15,7,2,9976,,,0,"Bump to container-tools:3.0 for upstream CI

This patch rev's container-tools in the train (c-8)
release file.

Change-Id: Idfa3ee2627e4619424294555ac56d2c04080636a
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/15/785415/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/train.yml'],1,02f021f8f62912036245a1c8c87f6c7228f480ca,, sudo dnf module enable container-tools:3.0 -y;, sudo dnf module enable container-tools:2.0 -y;,1,1
openstack%2Fopenstack-tempest-skiplist~master~I51bf8bc7359a69c6e320e63fc45620022a10be86,openstack/openstack-tempest-skiplist,master,I51bf8bc7359a69c6e320e63fc45620022a10be86,add 1923403 train fs020 tempest errors to skip,MERGED,2021-04-13 19:32:43.000000000,2021-04-14 04:31:25.000000000,2021-04-13 20:00:52.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-13 19:32:43.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/85aa7665b13d59495dbfada81becff62f1cf906e', 'message': 'add 1923403 train fs020 tempest errors to skip\n\nRelated-Bug: #1923403\nChange-Id: I51bf8bc7359a69c6e320e63fc45620022a10be86\n'}]",1,786094,85aa7665b13d59495dbfada81becff62f1cf906e,10,3,1,9592,,,0,"add 1923403 train fs020 tempest errors to skip

Related-Bug: #1923403
Change-Id: I51bf8bc7359a69c6e320e63fc45620022a10be86
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/94/786094/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,85aa7665b13d59495dbfada81becff62f1cf906e,, - test: tempest.scenario.test_network_advanced_server_ops.TestNetworkAdvancedServerOps.test_server_connectivity_cold_migration deployment: - overcloud releases: - name: train reason: issue w/ compute lp: https://bugs.launchpad.net/tripleo/+bug/1923403 jobs: - periodic-tripleo-ci-centos-8-ovb-1ctlr_2comp-featureset020-train - test: tempest.scenario.test_network_advanced_server_ops.TestNetworkAdvancedServerOps.test_server_connectivity_resize deployment: - overcloud releases: - name: train reason: issue w/ compute lp: https://bugs.launchpad.net/tripleo/+bug/1923403 jobs: - periodic-tripleo-ci-centos-8-ovb-1ctlr_2comp-featureset020-train ,,19,0
openstack%2Fopenstack-planet~master~Iccb5b743d0586fcc9609c84f1a706887b471d9fb,openstack/openstack-planet,master,Iccb5b743d0586fcc9609c84f1a706887b471d9fb,Fix README.rst link to raw OPML file,MERGED,2021-04-14 04:29:48.000000000,2021-04-14 04:30:17.000000000,2021-04-14 04:30:17.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-14 04:29:48.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-planet/commit/75b0b58a5b4f73d2d4d5faf5e4affde41db1cdf0', 'message': 'Fix README.rst link to raw OPML file\n\nChange-Id: Iccb5b743d0586fcc9609c84f1a706887b471d9fb\n'}]",0,786157,75b0b58a5b4f73d2d4d5faf5e4affde41db1cdf0,6,2,1,7118,,,0,"Fix README.rst link to raw OPML file

Change-Id: Iccb5b743d0586fcc9609c84f1a706887b471d9fb
",git fetch https://review.opendev.org/openstack/openstack-planet refs/changes/57/786157/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,75b0b58a5b4f73d2d4d5faf5e4affde41db1cdf0,,`planet-openstack-org.opml<https://opendev.org/openstack/openstack-planet/raw/branch/master/planet-openstack-org.opml>`__,`planet-openstack-org.opml<https://opendev.org/openstack/openstack-planet/planet-openstack-org.opml>`__,1,1
openstack%2Fopenstack-planet~master~Ie1ccf9ef58a68964b88cf72e31f33aaae42ed00c,openstack/openstack-planet,master,Ie1ccf9ef58a68964b88cf72e31f33aaae42ed00c,Retire planet.openstack.org,MERGED,2021-04-13 01:32:01.000000000,2021-04-14 04:26:19.000000000,2021-04-14 04:26:19.000000000,"[{'_account_id': 308}, {'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-13 01:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-planet/commit/b13ac1952e53682894f476d622a53d3f69addb09', 'message': 'Retire planet.openstack.org\n\nThis service has been retired.  The included OPML file is the final\nlist of active feeds being indexed.\n\nDepends-On: https://review.opendev.org/c/opendev/system-config/+/785994\nChange-Id: Ie1ccf9ef58a68964b88cf72e31f33aaae42ed00c\n'}, {'number': 2, 'created': '2021-04-13 01:53:58.000000000', 'files': ['images/logo.png', 'images/mattray.png', 'images/madorn.png', 'images/arrfab.jpg', 'images/enriquetaso.png', 'images/VEXXHOST.png', 'images/aptira.png', 'images/switch-cloudblog.jpg', 'images/jbresnah.png', 'images/gmann.jpg', 'images/amuller.png', 'images/terriyu.png', 'images/bcafarel.png', 'images/cloudwatt.png', 'images/knuth.jpg', 'images/emilienm.png', 'images/r1chardj0n3s.jpg', 'images/dougal.jpg', 'images/toabctl.png', 'images/krotscheck.png', 'images/mattgriffin.png', 'images/markmc.png', 'images/griddynamics.png', 'images/notmyname.png', 'images/lyz.png', 'images/jasondotstar.jpg', 'images/netapp.png', 'images/syedarmani.png', 'images/racedo.png', 'images/imaginea.png', 'images/superuser.png', 'images/carl_baldwin.jpg', 'images/johnfulton.jpg', 'images/jaosorior.jpg', 'images/midokura.png', 'images/SpamapS.png', 'common/images/logo.png', 'images/adrian17od.png', 'images/madkiss.png', '.zuul.yaml', 'images/stef.png', 'images/Internap_IN.png', 'images/med.png', 'images/BretPiatt.jpg', 'images/arthur.png', 'images/enovance.png', 'images/cloud-platform-symantec.jpg', 'images/Haselwanter_Edmund_100x100.png', 'images/aababilov.png', 'images/abckey.png', 'images/olindata.jpg', 'images/galeracluster.png', 'images/noggin143.png', 'README.rst', 'images/alexpilotti.png', 'images/mikal.png', 'images/mangelajo.png', 'images/marton-kiss.jpg', 'images/mbonell.jpg', 'images/jaypipes.png', 'images/mhayden.png', 'images/cmurphy.jpg', 'images/lblanchard.png', 'images/boden.png', 'images/sdake.png', 'images/radez.jpg', 'images/MirandaZhang.jpg', 'images/RobHirschfeld.jpg', 'images/stevebaker.jpg', 'images/csmart.png', 'images/host-telecom.png', 'images/ronaldbradford.png', 'images/james-page.jpg', 'images/notartom.jpg', 'images/novarollup.jpg', 'images/sbauza.png', 'images/shardy.png', 'common/images/feed-icon-10x10.png', 'images/cloudbau.jpg', 'images/coolsvap.jpg', 'images/mordred.png', 'images/lorin.png', 'common/atom.xml.xslt', 'images/antonym.png', 'images/maishsk.png', 'images/coreycb.png', 'images/openstackreactions.png', 'images/jfehlig.png', 'images/damani.jpg', 'images/danielkingshott.png', 'images/stackmasters.png', 'images/kgiusti.png', 'images/hvolkmer.jpg', 'images/zmanda.png', 'images/infralovers.png', 'images/hughhalf.png', 'images/appformix.png', 'images/dweaver.jpg', 'common/images/foaf.png', 'images/jdanjou.jpg', 'images/oubiwann.png', 'images/jeckersb.jpg', 'images/dachary.png', 'images/security-logo.png', 'images/osic.png', 'images/edleafe.png', 'common/foafroll.xml.xslt', 'classic_fancy/planet.css', 'images/craige.jpg', 'images/amarkapadia.png', 'images/pbrady.png', 'images/opensuse.png', 'planet-openstack-org.opml', 'images/ibm.png', 'images/perconalogo.png', 'images/dron.png', 'images/objectiflibre.png', 'images/larsks.jpg', 'images/mtreinish.png', 'images/arosen.png', 'common/rss20.xml.tmpl', 'images/isi.png', 'images/aspiers.png', 'images/soren.png', 'playbooks/unittest/run.yaml', 'images/markvoelker.jpg', 'images/mrda.png', 'images/fbo.png', 'images/dhellmann.png', 'images/rdo.png', 'images/zaneb.jpg', 'images/sdague.png', 'images/ayoung.png', 'classic_fancy/index.html.tmpl', 'images/xenproject.png', 'images/jaegerandi.png', 'images/Flag_of_India.png', 'images/dansmith.png', 'common/images/opml.png', 'images/sileht.png', 'common/validate.html.xslt', 'images/jj.png', 'images/cseader.png', 'images/annegentle.png', 'images/odyssey4me.jpg', 'images/nfvpe.png', 'images/chmouel.jpg', 'images/Manishanker.png', 'images/fghaas.png', 'images/vuntz.png', 'images/ccamacho.png', 'images/juliovp01.png', 'images/kashyapc.png', 'images/openstack-br.png', 'images/ken-pepple.png', 'images/slagle.png', 'images/eranrom.png', 'images/sarob.png', 'images/gsagie.png', 'images/derekh.png', 'images/red-trela.jpg', 'images/agoddard.png', 'images/scas.jpg', 'images/russellb.png', 'images/bandini.png', 'images/lijian.png', 'images/otherwiseguy.png', 'images/ubuntuserver.png', 'images/cisco.png', 'images/rossella_s.png', 'images/dreamhost.png', 'images/fleio.png', 'images/mmmpork.jpg', 'images/tesora.png', 'images/midonet.png', 'images/Mark-Shuttleworth-3.jpg', 'images/lca2014.png', 'images/roozbehshafiee.png', 'images/dangtrinhnt.png', 'images/jpichon.jpg', 'images/saschpe.png', 'images/spilgames.png', 'images/lordkrandel.png', 'images/telekomcloud.png', 'images/ttx.png', 'images/solinea.png', 'images/opensourcecom.png', 'images/smcginnis.png', 'images/amrith.jpg', 'images/stackhpc.png', 'images/slaweq.png', 'images/hpcloud.png', 'images/geguileo.png', 'images/bkerensa.png', 'images/gfidente.png', 'images/mugsie.jpg', 'planet.ini', 'images/zigo2.jpeg', 'images/nir.png', 'images/mirantis.png', 'common/images/venus.png', 'common/images/planet.png', 'images/abregman.png', 'images/jgriffith.png', 'images/rackspace.png', 'images/amalagon.jpg', 'common/images/tcosm11.gif', 'images/andreaf.jpg', 'images/njohnston.jpg', 'images/jpena.jpg', 'common/images/venus.ico', 'test.py', 'classic_fancy/config.ini', 'common/rss10.xml.tmpl', 'images/florentflament.png', 'images/jproulx.png', 'images/logo-rackspace.png', 'images/exploreshaifali.png', 'images/belwell.jpg', 'images/dragonflow.png', 'images/rbowen.png', 'images/MartenHauville.png', 'images/berrange.png', 'images/mdorman.png', 'images/ceph.png', 'images/hastexo.png', 'images/logilab.png', 'images/iranzo.jpg', 'images/ravello.png', 'images/everett-toews.png', 'images/osones.png', 'images/arxcruz.png', 'images/cdent.png', 'common/opml.xml.xslt', 'images/nirmagnezi.png', 'images/swiftstack.png', 'images/piston.png', 'images/icclab.png'], 'web_link': 'https://opendev.org/openstack/openstack-planet/commit/8823ab10f468221b7752bf5785a7415f80bd2695', 'message': 'Retire planet.openstack.org\n\nThis service has been retired.  The included OPML file is the final\nlist of active feeds being indexed.\n\nDepends-On: https://review.opendev.org/c/opendev/system-config/+/785994\nChange-Id: Ie1ccf9ef58a68964b88cf72e31f33aaae42ed00c\n'}]",0,785995,8823ab10f468221b7752bf5785a7415f80bd2695,13,4,2,7118,,,0,"Retire planet.openstack.org

This service has been retired.  The included OPML file is the final
list of active feeds being indexed.

Depends-On: https://review.opendev.org/c/opendev/system-config/+/785994
Change-Id: Ie1ccf9ef58a68964b88cf72e31f33aaae42ed00c
",git fetch https://review.opendev.org/openstack/openstack-planet refs/changes/95/785995/2 && git format-patch -1 --stdout FETCH_HEAD,"['images/logo.png', 'images/mattray.png', 'images/madorn.png', 'images/arrfab.jpg', 'images/enriquetaso.png', 'images/VEXXHOST.png', 'images/aptira.png', 'images/switch-cloudblog.jpg', 'images/jbresnah.png', 'images/gmann.jpg', 'images/amuller.png', 'images/terriyu.png', 'images/bcafarel.png', 'images/cloudwatt.png', 'images/knuth.jpg', 'images/emilienm.png', 'images/r1chardj0n3s.jpg', 'images/dougal.jpg', 'images/toabctl.png', 'images/krotscheck.png', 'images/mattgriffin.png', 'images/markmc.png', 'images/griddynamics.png', 'images/notmyname.png', 'images/lyz.png', 'images/jasondotstar.jpg', 'images/netapp.png', 'images/syedarmani.png', 'images/racedo.png', 'images/imaginea.png', 'images/superuser.png', 'images/carl_baldwin.jpg', 'images/johnfulton.jpg', 'images/jaosorior.jpg', 'images/midokura.png', 'images/SpamapS.png', 'common/images/logo.png', 'images/adrian17od.png', 'images/madkiss.png', 'images/stef.png', 'images/Internap_IN.png', 'images/med.png', 'images/BretPiatt.jpg', 'images/arthur.png', 'images/enovance.png', 'images/cloud-platform-symantec.jpg', 'images/Haselwanter_Edmund_100x100.png', 'images/aababilov.png', 'images/abckey.png', 'images/olindata.jpg', 'images/galeracluster.png', 'images/noggin143.png', 'README.rst', 'images/alexpilotti.png', 'images/mikal.png', 'images/mangelajo.png', 'images/marton-kiss.jpg', 'images/mbonell.jpg', 'images/jaypipes.png', 'images/mhayden.png', 'images/cmurphy.jpg', 'images/lblanchard.png', 'images/boden.png', 'images/sdake.png', 'images/radez.jpg', 'images/MirandaZhang.jpg', 'images/RobHirschfeld.jpg', 'images/stevebaker.jpg', 'images/csmart.png', 'images/host-telecom.png', 'images/ronaldbradford.png', 'images/james-page.jpg', 'images/notartom.jpg', 'images/novarollup.jpg', 'images/sbauza.png', 'images/shardy.png', 'common/images/feed-icon-10x10.png', 'images/cloudbau.jpg', 'images/coolsvap.jpg', 'images/mordred.png', 'images/lorin.png', 'common/atom.xml.xslt', 'images/antonym.png', 'images/maishsk.png', 'images/coreycb.png', 'images/openstackreactions.png', 'images/jfehlig.png', 'images/damani.jpg', 'images/danielkingshott.png', 'images/stackmasters.png', 'images/kgiusti.png', 'images/hvolkmer.jpg', 'images/zmanda.png', 'images/infralovers.png', 'images/hughhalf.png', 'images/appformix.png', 'images/dweaver.jpg', 'common/images/foaf.png', 'images/jdanjou.jpg', 'images/oubiwann.png', 'images/jeckersb.jpg', 'images/dachary.png', 'images/security-logo.png', 'images/osic.png', 'images/edleafe.png', 'common/foafroll.xml.xslt', 'classic_fancy/planet.css', 'images/craige.jpg', 'images/amarkapadia.png', 'images/pbrady.png', 'images/opensuse.png', 'planet-openstack-org.opml', 'images/ibm.png', 'images/perconalogo.png', 'images/dron.png', 'images/objectiflibre.png', 'images/larsks.jpg', 'images/mtreinish.png', 'images/arosen.png', 'common/rss20.xml.tmpl', 'images/isi.png', 'images/aspiers.png', 'images/soren.png', 'playbooks/unittest/run.yaml', 'images/markvoelker.jpg', 'images/mrda.png', 'images/fbo.png', 'images/dhellmann.png', 'images/rdo.png', 'images/zaneb.jpg', 'images/sdague.png', 'images/ayoung.png', 'classic_fancy/index.html.tmpl', 'images/xenproject.png', 'images/jaegerandi.png', 'images/Flag_of_India.png', 'images/dansmith.png', 'common/images/opml.png', 'images/sileht.png', 'common/validate.html.xslt', 'images/jj.png', 'images/cseader.png', 'images/annegentle.png', 'images/odyssey4me.jpg', 'images/nfvpe.png', 'images/chmouel.jpg', 'images/Manishanker.png', 'images/fghaas.png', 'images/vuntz.png', 'images/ccamacho.png', 'images/juliovp01.png', 'images/kashyapc.png', 'images/openstack-br.png', 'images/ken-pepple.png', 'images/slagle.png', 'images/eranrom.png', 'images/sarob.png', 'images/gsagie.png', 'images/derekh.png', 'images/red-trela.jpg', 'images/agoddard.png', 'images/scas.jpg', 'images/russellb.png', 'images/bandini.png', 'images/lijian.png', 'images/otherwiseguy.png', 'images/ubuntuserver.png', 'images/cisco.png', 'images/rossella_s.png', 'images/dreamhost.png', 'images/fleio.png', 'images/mmmpork.jpg', 'images/tesora.png', 'images/midonet.png', 'images/Mark-Shuttleworth-3.jpg', 'images/lca2014.png', 'images/roozbehshafiee.png', 'images/dangtrinhnt.png', 'images/jpichon.jpg', 'images/saschpe.png', 'images/spilgames.png', 'images/lordkrandel.png', 'images/telekomcloud.png', 'images/ttx.png', 'images/solinea.png', 'images/opensourcecom.png', 'images/smcginnis.png', 'images/amrith.jpg', 'images/stackhpc.png', 'images/slaweq.png', 'images/hpcloud.png', 'images/geguileo.png', 'images/bkerensa.png', 'images/gfidente.png', 'images/mugsie.jpg', 'planet.ini', 'images/zigo2.jpeg', 'images/nir.png', 'images/mirantis.png', 'common/images/venus.png', 'common/images/planet.png', 'images/abregman.png', 'images/jgriffith.png', 'images/rackspace.png', 'images/amalagon.jpg', 'common/images/tcosm11.gif', 'images/andreaf.jpg', 'images/njohnston.jpg', 'images/jpena.jpg', 'common/images/venus.ico', 'test.py', 'classic_fancy/config.ini', 'common/rss10.xml.tmpl', 'images/florentflament.png', 'images/jproulx.png', 'images/logo-rackspace.png', 'images/exploreshaifali.png', 'images/belwell.jpg', 'images/dragonflow.png', 'images/rbowen.png', 'images/MartenHauville.png', 'images/berrange.png', 'images/mdorman.png', 'images/ceph.png', 'images/hastexo.png', 'images/logilab.png', 'images/iranzo.jpg', 'images/ravello.png', 'images/everett-toews.png', 'images/osones.png', 'images/arxcruz.png', 'images/cdent.png', 'common/opml.xml.xslt', 'images/nirmagnezi.png', 'images/swiftstack.png', 'images/piston.png', 'images/icclab.png']",237,b13ac1952e53682894f476d622a53d3f69addb09,planet-static,,,230,2064
openstack%2Ftripleo-common~stable%2Ftrain~I1a3c0d31cdb4a644cb950ca59c83bfcb051dc39d,openstack/tripleo-common,stable/train,I1a3c0d31cdb4a644cb950ca59c83bfcb051dc39d,Drop inject_facts_as_vars,MERGED,2021-02-24 16:07:10.000000000,2021-04-14 04:26:14.000000000,2021-03-26 11:53:06.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-24 16:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b2206e46b0cc2ab18337a0e4601b59954a1843a2', 'message': 'Drop inject_facts_as_vars\n\nThis setting stops ansible from converting ansible_fact items into top\nlevel ansible_* vars. This has a huge impact on performance as this is\nperformed at the end of every task execution.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/777421\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/777419\nChange-Id: I1a3c0d31cdb4a644cb950ca59c83bfcb051dc39d\n(cherry picked from commit 16bc02326be62e9df328f290a1e06f3045c54957)\n'}, {'number': 2, 'created': '2021-03-23 16:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/70931d7dee2dfa8423df88bff490bb0ca30cd838', 'message': 'Drop inject_facts_as_vars\n\nThis setting stops ansible from converting ansible_fact items into top\nlevel ansible_* vars. This has a huge impact on performance as this is\nperformed at the end of every task execution.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/782550\nChange-Id: I1a3c0d31cdb4a644cb950ca59c83bfcb051dc39d\n(cherry picked from commit 16bc02326be62e9df328f290a1e06f3045c54957)\n'}, {'number': 3, 'created': '2021-03-23 20:57:17.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b9a164582ea64caa2dca3a4f4b1aad539a3ec5eb', 'message': 'Drop inject_facts_as_vars\n\nThis setting stops ansible from converting ansible_fact items into top\nlevel ansible_* vars. This has a huge impact on performance as this is\nperformed at the end of every task execution.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/782550\nChange-Id: I1a3c0d31cdb4a644cb950ca59c83bfcb051dc39d\n(cherry picked from commit 16bc02326be62e9df328f290a1e06f3045c54957)\n'}]",0,777424,b9a164582ea64caa2dca3a4f4b1aad539a3ec5eb,27,4,3,14985,,,0,"Drop inject_facts_as_vars

This setting stops ansible from converting ansible_fact items into top
level ansible_* vars. This has a huge impact on performance as this is
performed at the end of every task execution.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/782550
Change-Id: I1a3c0d31cdb4a644cb950ca59c83bfcb051dc39d
(cherry picked from commit 16bc02326be62e9df328f290a1e06f3045c54957)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/24/777424/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,b2206e46b0cc2ab18337a0e4601b59954a1843a2,bug/1915761-stable/train," # NOTE(mwhahaha): this significantly affects performation per ansible#73654 config.set('defaults', 'inject_facts_as_vars', 'false')",,2,0
openstack%2Fneutron~stable%2Frocky~I74916acf8311989dca267f23261ec4cf449a6abf,openstack/neutron,stable/rocky,I74916acf8311989dca267f23261ec4cf449a6abf,Fix OVS conjunctive IP flows cleanup,MERGED,2021-02-19 08:21:07.000000000,2021-04-14 04:11:42.000000000,2021-04-14 04:11:42.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28159}]","[{'number': 1, 'created': '2021-02-19 08:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc6602a0befa9b41c74364bc798e296e6dc14dd5', 'message': ""Fix OVS conjunctive IP flows cleanup\n\n Currently when deleting a remote-group's member IPs, the deleted IPs'\n conjunctive flows are not cleaned up in OF tables. This is because\n the conjunctive flows' cookies don't match with the OVSBridge default\n cookie used by the delete flow method. This patch fixed the issue by\n using an ANY cookie that can always match with the cookies of the\n conjunctive flows.\n\nChange-Id: I74916acf8311989dca267f23261ec4cf449a6abf\nCloses-Bug: 1907491\n(cherry picked from commit f4b64e519cdb9fd9c5046f21bc9f325341fd367f)\n(cherry picked from commit 03f0a832a82f35286417e56d6071cfefe823a65c)\n""}, {'number': 2, 'created': '2021-02-23 07:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c29b047568ba8cd2a13a08389fbb0a1bd58deb0c', 'message': ""Fix OVS conjunctive IP flows cleanup\n\n Currently when deleting a remote-group's member IPs, the deleted IPs'\n conjunctive flows are not cleaned up in OF tables. This is because\n the conjunctive flows' cookies don't match with the OVSBridge default\n cookie used by the delete flow method. This patch fixed the issue by\n using an ANY cookie that can always match with the cookies of the\n conjunctive flows.\n\nChange-Id: I74916acf8311989dca267f23261ec4cf449a6abf\nCloses-Bug: 1907491\n(cherry picked from commit f4b64e519cdb9fd9c5046f21bc9f325341fd367f)\n(cherry picked from commit 03f0a832a82f35286417e56d6071cfefe823a65c)\n""}, {'number': 3, 'created': '2021-03-06 18:10:01.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/480ede535a27caf2bbc82cecfdfbc25cc6d61e39', 'message': ""Fix OVS conjunctive IP flows cleanup\n\n Currently when deleting a remote-group's member IPs, the deleted IPs'\n conjunctive flows are not cleaned up in OF tables. This is because\n the conjunctive flows' cookies don't match with the OVSBridge default\n cookie used by the delete flow method. This patch fixed the issue by\n using an ANY cookie that can always match with the cookies of the\n conjunctive flows.\n\nConflicts:\n    neutron/agent/linux/openvswitch_firewall/firewall.py\n\nChange-Id: I74916acf8311989dca267f23261ec4cf449a6abf\nCloses-Bug: 1907491\n(cherry picked from commit f4b64e519cdb9fd9c5046f21bc9f325341fd367f)\n(cherry picked from commit 03f0a832a82f35286417e56d6071cfefe823a65c)\n""}]",0,776454,480ede535a27caf2bbc82cecfdfbc25cc6d61e39,53,4,3,11975,,,0,"Fix OVS conjunctive IP flows cleanup

 Currently when deleting a remote-group's member IPs, the deleted IPs'
 conjunctive flows are not cleaned up in OF tables. This is because
 the conjunctive flows' cookies don't match with the OVSBridge default
 cookie used by the delete flow method. This patch fixed the issue by
 using an ANY cookie that can always match with the cookies of the
 conjunctive flows.

Conflicts:
    neutron/agent/linux/openvswitch_firewall/firewall.py

Change-Id: I74916acf8311989dca267f23261ec4cf449a6abf
Closes-Bug: 1907491
(cherry picked from commit f4b64e519cdb9fd9c5046f21bc9f325341fd367f)
(cherry picked from commit 03f0a832a82f35286417e56d6071cfefe823a65c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/776454/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",2,fc6602a0befa9b41c74364bc798e296e6dc14dd5,bug/1907491-stable/stein-stable/rocky," def test_delete_flow_for_ip_using_cookie_any(self): with mock.patch.object(self.firewall, '_delete_flows') as \ mock_delete_flows: self.firewall.delete_flow_for_ip(('10.1.2.3', None), constants.INGRESS_DIRECTION, constants.IPv4, 100, [0]) _, kwargs = mock_delete_flows.call_args self.assertIn('cookie', kwargs) self.assertIs(ovs_lib.COOKIE_ANY, kwargs['cookie']) ",,15,0
openstack%2Fcinder~stable%2Fvictoria~Id0500c2f85974818fa2a841c9dca77f1fef4df04,openstack/cinder,stable/victoria,Id0500c2f85974818fa2a841c9dca77f1fef4df04,PowerMax Driver - Fix assign SRP during promotion retype,MERGED,2021-03-05 10:28:58.000000000,2021-04-14 03:34:13.000000000,2021-04-14 03:30:55.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 21570}, {'_account_id': 22348}, {'_account_id': 30165}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-03-05 10:28:58.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/common.py', 'releasenotes/notes/bug-1905564-e7dcf28fd734d3b2.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b60edb39d58adef472fb7a28903d1e72ba21d612', 'message': ""PowerMax Driver - Fix assign SRP during promotion retype\n\nSRP is not assigned during failover-promotion retype. In cases\nwhere SRP is different between primary and remote arrays this\ncan lead to issues once failover-promotion is finalized. Fixed\nby adding SRP assignment when generating volume's model update.\n\nChange-Id: Id0500c2f85974818fa2a841c9dca77f1fef4df04\nCloses-Bug: 1905564\n(cherry picked from commit 00ad39a6000f5bfcdddbfb5accb9b165e997b963)\n""}]",1,778877,b60edb39d58adef472fb7a28903d1e72ba21d612,19,6,1,21570,,,0,"PowerMax Driver - Fix assign SRP during promotion retype

SRP is not assigned during failover-promotion retype. In cases
where SRP is different between primary and remote arrays this
can lead to issues once failover-promotion is finalized. Fixed
by adding SRP assignment when generating volume's model update.

Change-Id: Id0500c2f85974818fa2a841c9dca77f1fef4df04
Closes-Bug: 1905564
(cherry picked from commit 00ad39a6000f5bfcdddbfb5accb9b165e997b963)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/77/778877/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/common.py', 'releasenotes/notes/bug-1905564-e7dcf28fd734d3b2.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py']",3,b60edb39d58adef472fb7a28903d1e72ba21d612,bug/1905564," array_id = self.data.remote_array srp = 'SRP_2' updated_host = 'HostX@Backend#Diamond+DSS+SRP_2+000197800124' self.assertEqual(model_update['host'], updated_host)", array_id = self.data.array srp = self.data.srp,13,2
openstack%2Fneutron~stable%2Fwallaby~I66d70304530935e2add3345aba6aa3c549a0a2df,openstack/neutron,stable/wallaby,I66d70304530935e2add3345aba6aa3c549a0a2df,Always use absolute path for custom kill-scripts,MERGED,2021-04-12 06:23:34.000000000,2021-04-14 03:34:07.000000000,2021-04-14 03:30:49.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-12 06:23:34.000000000', 'files': ['neutron/tests/unit/agent/linux/test_external_process.py', 'neutron/agent/linux/external_process.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bfaf0ebc116cc5e3d5ae0fe5cd41bcc6fde58717', 'message': ""Always use absolute path for custom kill-scripts\n\nWhen rootwrap was used to run custom kill-scripts, it worked fine with\nthe executable name without full path as path was in the rootwrap's\nexec_dirs config option thus rootwrap was able to find it.\n\nBut as we migrated to privsep it don't works like that anymore.\nIt's better to use absolute path of the kill-script always and that\npatch changes to do it like that.\n\nChange-Id: I66d70304530935e2add3345aba6aa3c549a0a2df\nCloses-Bug: #1923198\n(cherry picked from commit e5ccfee6cfb503c3ba7cce816fae331dd017f3ce)\n""}]",0,785606,bfaf0ebc116cc5e3d5ae0fe5cd41bcc6fde58717,26,3,1,11975,,,0,"Always use absolute path for custom kill-scripts

When rootwrap was used to run custom kill-scripts, it worked fine with
the executable name without full path as path was in the rootwrap's
exec_dirs config option thus rootwrap was able to find it.

But as we migrated to privsep it don't works like that anymore.
It's better to use absolute path of the kill-script always and that
patch changes to do it like that.

Change-Id: I66d70304530935e2add3345aba6aa3c549a0a2df
Closes-Bug: #1923198
(cherry picked from commit e5ccfee6cfb503c3ba7cce816fae331dd017f3ce)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/785606/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_external_process.py', 'neutron/agent/linux/external_process.py']",2,bfaf0ebc116cc5e3d5ae0fe5cd41bcc6fde58717,bug/1923198-stable/wallaby," kill_file_path = os.path.join(self.kill_scripts_path, kill_file) if os.path.isfile(kill_file_path): return [kill_file_path, sig, pid]"," if os.path.isfile(os.path.join(self.kill_scripts_path, kill_file)): return [kill_file, sig, pid]",5,3
openstack%2Frequirements~stable%2Ftrain~Ie839f75926df4b96c559e5c358ffcc53dc7c0f85,openstack/requirements,stable/train,Ie839f75926df4b96c559e5c358ffcc53dc7c0f85,update constraint for python-cinderclient to new release 5.0.2,MERGED,2021-04-08 11:16:50.000000000,2021-04-14 03:31:11.000000000,2021-04-14 03:31:11.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 11:16:50.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/81be3f87b46bc2d43ec3a1fb27ebb2a2e1c883b0', 'message': 'update constraint for python-cinderclient to new release 5.0.2\n\nmeta: version: 5.0.2\nmeta: diff-start: -\nmeta: series: train\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Rajat Dhasmana <rajatdhasmana@gmail.com>\nmeta: release:Commit: Rajat Dhasmana <rajatdhasmana@gmail.com>\nmeta: release:Change-Id: Ib59fd198fe74cabcc13bde7464241855a1fbb997\nmeta: release:Code-Review+1: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: Ie839f75926df4b96c559e5c358ffcc53dc7c0f85\n'}]",0,785375,81be3f87b46bc2d43ec3a1fb27ebb2a2e1c883b0,13,3,1,11131,,,0,"update constraint for python-cinderclient to new release 5.0.2

meta: version: 5.0.2
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Rajat Dhasmana <rajatdhasmana@gmail.com>
meta: release:Commit: Rajat Dhasmana <rajatdhasmana@gmail.com>
meta: release:Change-Id: Ib59fd198fe74cabcc13bde7464241855a1fbb997
meta: release:Code-Review+1: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: Ie839f75926df4b96c559e5c358ffcc53dc7c0f85
",git fetch https://review.opendev.org/openstack/requirements refs/changes/75/785375/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,81be3f87b46bc2d43ec3a1fb27ebb2a2e1c883b0,new-release,python-cinderclient===5.0.2,python-cinderclient===5.0.1,1,1
openstack%2Fpuppet-vswitch~stable%2Ftrain~Id9aaab2a1e3ad2d2d43cd5cddf389d20abaf4461,openstack/puppet-vswitch,stable/train,Id9aaab2a1e3ad2d2d43cd5cddf389d20abaf4461,Add support for vlan_limit option,MERGED,2021-03-30 13:16:44.000000000,2021-04-14 02:25:32.000000000,2021-04-14 02:24:21.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 13:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/9ef4f0bcaacce957ad91ebf4023cbe24e261defe', 'message': 'Add support for vlan_limit option\n\nThis change introduces support for the vlan_limit option.\nThis parameter is currently set to 1 by default, but we should set\nit to 2 to enable vlan_transparent, which requires nested vlans.\n\nRelated-Bug: #1918418\nChange-Id: Id9aaab2a1e3ad2d2d43cd5cddf389d20abaf4461\n(cherry picked from commit 4887f4ccd6e1031c3f4cc8fdbc17b77b4eecda0b)\n'}, {'number': 2, 'created': '2021-03-30 13:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/912e4210dd09cf22c6283ad1c2ff62e1906b908c', 'message': 'Add support for vlan_limit option\n\nThis change introduces support for the vlan_limit option.\nThis parameter is currently set to 1 by default, but we should set\nit to 2 to enable vlan_transparent, which requires nested vlans.\n\nRelated-Bug: #1918418\nChange-Id: Id9aaab2a1e3ad2d2d43cd5cddf389d20abaf4461\n(cherry picked from commit 4887f4ccd6e1031c3f4cc8fdbc17b77b4eecda0b)\n(cherry picked from commit 14011d69c18e628a3466fa71db25cefb7adff425)\n(cherry picked from commit 03d1cc9088c41b40223a97ae9469f87499516605)\n'}, {'number': 3, 'created': '2021-04-06 11:29:30.000000000', 'files': ['releasenotes/notes/vlan-limit-b40bd9ca223b76ca.yaml', 'spec/classes/vswitch_dpdk_spec.rb', 'manifests/ovs.pp', 'spec/classes/vswitch_ovs_spec.rb', 'manifests/dpdk.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/d8acf3cd856a406b27e89bd22fbb6f04bdf35402', 'message': 'Add support for vlan_limit option\n\nThis change introduces support for the vlan_limit option.\nThis parameter is currently set to 1 by default, but we should set\nit to 2 to enable vlan_transparent, which requires nested vlans.\n\nRelated-Bug: #1918418\nChange-Id: Id9aaab2a1e3ad2d2d43cd5cddf389d20abaf4461\n(cherry picked from commit 4887f4ccd6e1031c3f4cc8fdbc17b77b4eecda0b)\n(cherry picked from commit 14011d69c18e628a3466fa71db25cefb7adff425)\n(cherry picked from commit 03d1cc9088c41b40223a97ae9469f87499516605)\n'}]",0,783859,d8acf3cd856a406b27e89bd22fbb6f04bdf35402,13,3,3,11975,,,0,"Add support for vlan_limit option

This change introduces support for the vlan_limit option.
This parameter is currently set to 1 by default, but we should set
it to 2 to enable vlan_transparent, which requires nested vlans.

Related-Bug: #1918418
Change-Id: Id9aaab2a1e3ad2d2d43cd5cddf389d20abaf4461
(cherry picked from commit 4887f4ccd6e1031c3f4cc8fdbc17b77b4eecda0b)
(cherry picked from commit 14011d69c18e628a3466fa71db25cefb7adff425)
(cherry picked from commit 03d1cc9088c41b40223a97ae9469f87499516605)
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/59/783859/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/vlan-limit-b40bd9ca223b76ca.yaml', 'spec/classes/vswitch_dpdk_spec.rb', 'manifests/ovs.pp', 'spec/classes/vswitch_ovs_spec.rb', 'manifests/dpdk.pp']",5,9ef4f0bcaacce957ad91ebf4023cbe24e261defe,bug/1918418-stable/victoria-stable/ussuri-stable/train,"# Defaults to false # # [*vlan_limit*] # (optional) Number of vlan layers allowed. # Default to $::os_service_default $vlan_limit = $::os_service_default, if ! is_service_default($vlan_limit) { vs_config { 'other_config:vlan-limit': value => ""${vlan_limit}"", wait => true, } } ",,57,8
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Id596898787a3ad16b87116e80a1c31902146168b,openstack/tripleo-heat-templates,stable/victoria,Id596898787a3ad16b87116e80a1c31902146168b,Fix NovaVncProxyNetwork removal,MERGED,2021-04-13 17:19:30.000000000,2021-04-14 02:12:30.000000000,2021-04-14 02:12:30.000000000,"[{'_account_id': 7414}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2021-04-13 17:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9d8c3d70f11bbf1a42071a3184211b6e15d26bb3', 'message': 'Fix NovaVncProxyNetwork removal\n\nIn commit [1], NovaVncProxyNetwork was removed.  Unfortunately, the\npatch to backport [2] was incorrectly merged and some references to\nNovaVncProxyNetwork were not removed and renamed to NoveLibvirtNetwork.\n\nThis patch fixes those references.\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/778617\n[2] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/781077\nChange-Id: Id596898787a3ad16b87116e80a1c31902146168b\n'}, {'number': 2, 'created': '2021-04-13 17:23:41.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5171cd3d7a68c51eb6ee0f5a9d9b8e621e941f23', 'message': 'Fix NovaVncProxyNetwork removal\n\nIn commit [1], NovaVncProxyNetwork was removed.  Unfortunately, the\npatch to backport [2] was incorrectly merged and some references to\nNovaVncProxyNetwork were not removed and renamed to NoveLibvirtNetwork.\n\nThis patch fixes those references.\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/778617\n[2] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/781077\nRelated-Bug: #1917719\nChange-Id: Id596898787a3ad16b87116e80a1c31902146168b\n'}]",0,786082,5171cd3d7a68c51eb6ee0f5a9d9b8e621e941f23,11,6,2,9914,,,0,"Fix NovaVncProxyNetwork removal

In commit [1], NovaVncProxyNetwork was removed.  Unfortunately, the
patch to backport [2] was incorrectly merged and some references to
NovaVncProxyNetwork were not removed and renamed to NoveLibvirtNetwork.

This patch fixes those references.

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/778617
[2] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/781077
Related-Bug: #1917719
Change-Id: Id596898787a3ad16b87116e80a1c31902146168b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/82/786082/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-vnc-proxy-container-puppet.yaml'],1,9d8c3d70f11bbf1a42071a3184211b6e15d26bb3,fix_novncproxy_network," NETWORK: {get_param: [ServiceNetMap, NovaLibvirtNetwork]} NETWORK: {get_param: [ServiceNetMap, NovaLibvirtNetwork]}"," NETWORK: {get_param: [ServiceNetMap, NovaVncProxyNetwork]} NETWORK: {get_param: [ServiceNetMap, NovaVncProxyNetwork]}",2,2
openstack%2Ftripleo-ci~master~I6d071fe8efbfee8631a4ef23e784f54b968485a5,openstack/tripleo-ci,master,I6d071fe8efbfee8631a4ef23e784f54b968485a5,Use '' around module specification,MERGED,2021-04-09 16:49:42.000000000,2021-04-14 01:51:35.000000000,2021-04-14 01:51:35.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-09 16:49:42.000000000', 'files': ['roles/oooci-build-images/templates/build-images.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0d54e219ac9d878e8d4f64f2244bafa9ef7f0dcc', 'message': ""Use '' around module specification\n\nChange-Id: I6d071fe8efbfee8631a4ef23e784f54b968485a5\n""}]",0,785678,0d54e219ac9d878e8d4f64f2244bafa9ef7f0dcc,10,4,1,9976,,,0,"Use '' around module specification

Change-Id: I6d071fe8efbfee8631a4ef23e784f54b968485a5
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/78/785678/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/templates/build-images.sh.j2'],1,0d54e219ac9d878e8d4f64f2244bafa9ef7f0dcc,dib-modules-valid,export DIB_DNF_MODULE_STREAMS='{{ dib_dnf_module_streams }}',"export DIB_DNF_MODULE_STREAMS=""{{ dib_dnf_module_streams }}""",1,1
openstack%2Ftripleo-heat-templates~master~I340884cbde1ddfa86366a7ba1908087b08a05c85,openstack/tripleo-heat-templates,master,I340884cbde1ddfa86366a7ba1908087b08a05c85,Remove or fix outdated/incorrect keystone hieradata definitions,MERGED,2021-03-13 14:20:25.000000000,2021-04-14 01:51:27.000000000,2021-04-14 01:51:27.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-13 14:20:25.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e3f1ad953dff4f3304a050d50589121a6e872d25', 'message': 'Remove or fix outdated/incorrect keystone hieradata definitions\n\n- keystone::wsgi::apache::servername_admin was removed in Train\n  change: I859803f1d79304de5a803753841e994357b045f8\n\nPartial-Bug: #1916386\nChange-Id: I340884cbde1ddfa86366a7ba1908087b08a05c85\n'}]",0,780416,e3f1ad953dff4f3304a050d50589121a6e872d25,17,5,1,19234,,,0,"Remove or fix outdated/incorrect keystone hieradata definitions

- keystone::wsgi::apache::servername_admin was removed in Train
  change: I859803f1d79304de5a803753841e994357b045f8

Partial-Bug: #1916386
Change-Id: I340884cbde1ddfa86366a7ba1908087b08a05c85
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/780416/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,e3f1ad953dff4f3304a050d50589121a6e872d25,bug/1916386,," keystone::wsgi::apache::servername_admin: str_replace: template: ""%{hiera('fqdn_$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, KeystoneAdminApiNetwork]}",0,6
openstack%2Fkuryr-kubernetes~master~Ic1d1803c178a9b8375f2a08e021f0a046fd7ff02,openstack/kuryr-kubernetes,master,Ic1d1803c178a9b8375f2a08e021f0a046fd7ff02,Include service subnet to be open for namespaceSelector set to all.,MERGED,2021-04-08 15:33:06.000000000,2021-04-13 23:52:26.000000000,2021-04-13 23:51:08.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 30963}]","[{'number': 1, 'created': '2021-04-08 15:33:06.000000000', 'files': ['kuryr_kubernetes/controller/drivers/network_policy.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bfe2e259a82dc11056338529c7a01f15a3e002b8', 'message': 'Include service subnet to be open for namespaceSelector set to all.\n\nFor OVN Ocatvia provider we need to include service subnet as well,\notherwise we will end up in no connectivity to services from pods where\nnetwork policy which define egress to all namespaces was applied.\n\nChange-Id: Ic1d1803c178a9b8375f2a08e021f0a046fd7ff02\nRelated-Bug: 1915008\n'}]",0,785435,bfe2e259a82dc11056338529c7a01f15a3e002b8,12,5,1,13692,,,0,"Include service subnet to be open for namespaceSelector set to all.

For OVN Ocatvia provider we need to include service subnet as well,
otherwise we will end up in no connectivity to services from pods where
network policy which define egress to all namespaces was applied.

Change-Id: Ic1d1803c178a9b8375f2a08e021f0a046fd7ff02
Related-Bug: 1915008
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/35/785435/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/network_policy.py'],1,bfe2e259a82dc11056338529c7a01f15a3e002b8,np-ns-selectors, allowed_cidrs.append(utils.get_subnet_cidr( CONF.neutron_defaults.service_subnet)), if CONF.octavia_defaults.enforce_sg_rules: allowed_cidrs.append(utils.get_subnet_cidr( CONF.neutron_defaults.service_subnet)),2,3
openstack%2Ftripleo-docs~master~I291e09068747ffef5d3e3a47b02fd44bce3b4ef3,openstack/tripleo-docs,master,I291e09068747ffef5d3e3a47b02fd44bce3b4ef3,Document new baremetal provision config_drive YAML,MERGED,2020-11-12 20:41:38.000000000,2021-04-13 23:35:11.000000000,2021-04-13 23:33:36.000000000,"[{'_account_id': 4571}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-12 20:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/d04d8a179db8389cf057df8a74f4f79b0776c088', 'message': 'WIP document new baremetal provision config_drive YAML\n\nThis documents the new config_drive property, which allows setting\ncustom instance metadata and cloud-config tasks to run on first boot.\n\nWIP until the metasmith change has been release, and the\ntripleo-ansible change has been proposed.\n\nChange-Id: I291e09068747ffef5d3e3a47b02fd44bce3b4ef3\nDepends-On: https://review.opendev.org/761850\n'}, {'number': 2, 'created': '2020-11-12 21:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/00a62af22525f990a49c6c18a0e7225f80c56ee4', 'message': 'Document new baremetal provision config_drive YAML\n\nThis documents the new config_drive property, which allows setting\ncustom instance metadata and cloud-config tasks to run on first boot.\n\nChange-Id: I291e09068747ffef5d3e3a47b02fd44bce3b4ef3\nDepends-On: https://review.opendev.org/761850\nDepends-On: https://review.opendev.org/762580\n'}, {'number': 3, 'created': '2020-12-02 00:34:09.000000000', 'files': ['deploy-guide/source/provisioning/baremetal_provision.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/67cc0690c89e396f5ce80fdfc5aa4c6390b00aaa', 'message': 'Document new baremetal provision config_drive YAML\n\nThis documents the new config_drive property, which allows setting\ncustom instance metadata and cloud-config tasks to run on first boot.\n\nChange-Id: I291e09068747ffef5d3e3a47b02fd44bce3b4ef3\nDepends-On: https://review.opendev.org/761850\nDepends-On: https://review.opendev.org/762580\n'}]",4,762578,67cc0690c89e396f5ce80fdfc5aa4c6390b00aaa,17,5,3,4571,,,0,"Document new baremetal provision config_drive YAML

This documents the new config_drive property, which allows setting
custom instance metadata and cloud-config tasks to run on first boot.

Change-Id: I291e09068747ffef5d3e3a47b02fd44bce3b4ef3
Depends-On: https://review.opendev.org/761850
Depends-On: https://review.opendev.org/762580
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/78/762578/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/provisioning/baremetal_provision.rst'],1,d04d8a179db8389cf057df8a74f4f79b0776c088,config_drive,"* ``config_drive``: Add data and first-boot commands to the config-drive passed to the node. See :ref:`config-drive` .. _config-drive: Config Drive ____________ The ``instances`` ``config_drive`` property supports two sub-properties: * ``cloud_config``: Dict of cloud-init `cloud-config`_ data for tasks to run on node boot. * ``meta_data``: Extra metadata to include with the config-drive cloud-init metadata. This will be added to the generated metadata ``public_keys``, ``uuid``, ``name``, ``hostname``, and ``instance-type`` which is set to the role name. Cloud-init makes this metadata available as `instance-data`_. Below are some examples of what can be done with ``config_drive``. Run arbitrary scripts on first boot: .. code-block:: yaml config_drive: cloud_config: bootcmd: # temporary workaround to allow steering in ConnectX-3 devices - echo ""options mlx4_core log_num_mgm_entry_size=-1"" >> /etc/modprobe.d/mlx4.conf - /sbin/dracut --force Enable and configure ntp: .. code-block:: yaml config_drive: cloud_config: enabled: true ntp_client: chrony # Uses cloud-init default chrony configuration Allow root ssh login (for development environments only): .. code-block:: yaml config_drive: cloud_config: ssh_pwauth: true disable_root: false chpasswd: list: | root:sekrit password expire: False Use values from custom metadata: .. code-block:: yaml config_drive: meta_data: foo: bar cloud_config: runcmd: - echo The value of foo is `jq .foo < /run/cloud-init/instance-data.json` .. _cloud-config: https://cloudinit.readthedocs.io/en/latest/topics/examples.html .. _instance-data: https://cloudinit.readthedocs.io/en/latest/topics/instancedata.html",,68,0
openstack%2Ftripleo-heat-templates~master~Ife955bc5466398891eae8e45961ea5bc4e9666b3,openstack/tripleo-heat-templates,master,Ife955bc5466398891eae8e45961ea5bc4e9666b3,Ensure MemcachedDebug precedes Debug,ABANDONED,2021-02-16 07:14:49.000000000,2021-04-13 23:24:44.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-16 07:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/00a8cadca3fe0d09b8fa93c4bcb1e61d6e273a75', 'message': ""Ensure MemcachedDebug precedes Debug\n\nEach per-service debug parameter is supposed to precede the global\ndebug, and debug should be always disabled if per-service debug is\ndisabled, even if the global debug is enabled.\n\nThis change ensures that debug of memcached is determined based on\nthat logic. Previous logic enabled debug if one of the global debug and\nper-service debug is enabled, but this doesn't allow users to disable\ndebug only about memcached easily, unless they define per-service debug\nparameters for the other services.\n\nAlso, this change fixes missing handling of 'TRUE'.\n\nChange-Id: Ife955bc5466398891eae8e45961ea5bc4e9666b3\n""}, {'number': 2, 'created': '2021-02-16 07:15:33.000000000', 'files': ['deployment/memcached/memcached-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b8b82f914e4ad1e7ba7341bc6a6b31e65efc07ab', 'message': ""Ensure MemcachedDebug precedes Debug\n\nEach per-service debug parameter is supposed to precede the global\ndebug, and debug should be always disabled if per-service debug is\ndisabled, even if the global debug is enabled.\n\nThis change ensures that debug of memcached is determined based on\nthat logic. Previous logic enabled debug if one of the global debug and\nper-service debug is enabled, but this doesn't allow users to disable\ndebug only about memcached easily, unless they define per-service debug\nparameters for the other services.\n\nAlso, this change fixes missing handling of 'TRUE'.\n\nChange-Id: Ife955bc5466398891eae8e45961ea5bc4e9666b3\n""}]",0,775748,b8b82f914e4ad1e7ba7341bc6a6b31e65efc07ab,8,5,2,9816,,,0,"Ensure MemcachedDebug precedes Debug

Each per-service debug parameter is supposed to precede the global
debug, and debug should be always disabled if per-service debug is
disabled, even if the global debug is enabled.

This change ensures that debug of memcached is determined based on
that logic. Previous logic enabled debug if one of the global debug and
per-service debug is enabled, but this doesn't allow users to disable
debug only about memcached easily, unless they define per-service debug
parameters for the other services.

Also, this change fixes missing handling of 'TRUE'.

Change-Id: Ife955bc5466398891eae8e45961ea5bc4e9666b3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/775748/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/memcached/memcached-container-puppet.yaml'],1,00a8cadca3fe0d09b8fa93c4bcb1e61d6e273a75,memcached-service_debug," service_debug_unset: {equals: [{get_param: MemcachedDebug}, '']} - and: - service_debug_unset - get_param: Debug - and: - not service_debug_unset - yaql: expression: $.data.memcached_debug.matches(""true|True|TRUE"") data: memcached_debug: get_param: MemcachedDebug"," - equals: [{get_param: MemcachedDebug}, 'true'] - equals: [{get_param: MemcachedDebug}, 'True'] - equals: [{get_param: Debug}, true]",11,3
openstack%2Fcinder~stable%2Fussuri~I8b67cc2d9a51f777a245739299e4bc44a7d0733b,openstack/cinder,stable/ussuri,I8b67cc2d9a51f777a245739299e4bc44a7d0733b,Tests: Don't assert notifier not called,MERGED,2021-04-12 20:30:51.000000000,2021-04-13 22:22:00.000000000,2021-04-13 22:20:30.000000000,"[{'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-12 20:30:51.000000000', 'files': ['cinder/tests/unit/volume/test_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ba8d19822b2212263934ec7ffe0bf2fb56b6c863', 'message': ""Tests: Don't assert notifier not called\n\nThis doesn't work reliably -- it could be\nmade to, but just skip this check for now\nto prevent spurious failures.\n\nRelated-Bug: #1803648\n\nChange-Id: I8b67cc2d9a51f777a245739299e4bc44a7d0733b\n(cherry picked from commit 9f0be9994631fa2792f86dd27ffe539b8acbc686)\n""}]",0,785971,ba8d19822b2212263934ec7ffe0bf2fb56b6c863,17,2,1,4523,,,0,"Tests: Don't assert notifier not called

This doesn't work reliably -- it could be
made to, but just skip this check for now
to prevent spurious failures.

Related-Bug: #1803648

Change-Id: I8b67cc2d9a51f777a245739299e4bc44a7d0733b
(cherry picked from commit 9f0be9994631fa2792f86dd27ffe539b8acbc686)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/785971/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/test_volume.py'],1,ba8d19822b2212263934ec7ffe0bf2fb56b6c863,,, mock_notify.assert_not_called() mock_notify.assert_not_called() mock_notify.assert_not_called() ,1,4
openstack%2Fopenstack-helm-images~master~I3c5f87b3ab0fd0948028ac22096ab56a1cf1925e,openstack/openstack-helm-images,master,I3c5f87b3ab0fd0948028ac22096ab56a1cf1925e,Fix cinder-train test job not waiting for mariadb image in gates,MERGED,2021-04-13 20:38:44.000000000,2021-04-13 22:05:20.000000000,2021-04-13 21:58:15.000000000,"[{'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-13 20:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/7538b712535a6ab82ac724a5cc2dbcc2613cf5b1', 'message': 'Fix cinder-train test job not waiting for mariadb image in gates\n\nChange-Id: I3c5f87b3ab0fd0948028ac22096ab56a1cf1925e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2021-04-13 20:39:39.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/8b2ceedb155443a3859f7c5573515406bfe231dd', 'message': 'Fix cinder-train test job not waiting for mariadb image in gates\n\nChange-Id: I3c5f87b3ab0fd0948028ac22096ab56a1cf1925e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,786122,8b2ceedb155443a3859f7c5573515406bfe231dd,10,4,2,8863,,,0,"Fix cinder-train test job not waiting for mariadb image in gates

Change-Id: I3c5f87b3ab0fd0948028ac22096ab56a1cf1925e
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/22/786122/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,7538b712535a6ab82ac724a5cc2dbcc2613cf5b1,, - name: openstack-helm-images-build-mariadb soft: true,,2,0
openstack%2Fopenstack-helm-images~master~I0c803bf1d2d4705b669a48bba0b9576c71d4b77d,openstack/openstack-helm-images,master,I0c803bf1d2d4705b669a48bba0b9576c71d4b77d,Update mariadb upload job,MERGED,2021-04-07 20:44:13.000000000,2021-04-13 22:04:23.000000000,2021-04-13 21:58:11.000000000,"[{'_account_id': 8863}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2021-04-07 20:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/fd0104ecb3488684cc5b3eb85846f26daf4e1e53', 'message': 'Update mariadb upload job\n\nA previous change[0] added an ubuntu bionic Dockerfile for mariadb\nbut did not update the zuul file to properly tag the new image.\n\nThis change updates the zuul job in order to correctly tag the image,\nas well as simplifying the ability to specify the ubuntu release.\n\n[0] https://review.opendev.org/c/openstack/openstack-helm-images/+/782843\n\nChange-Id: I0c803bf1d2d4705b669a48bba0b9576c71d4b77d\n'}, {'number': 2, 'created': '2021-04-07 21:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/a2f26d23250302a7dcec4e495b24e323e0427a79', 'message': 'Update mariadb upload job\n\nA previous change[0] added an ubuntu bionic Dockerfile for mariadb\nbut did not update the zuul file to properly tag the new image.\n\nThis change updates the zuul job in order to correctly tag the image,\nas well as simplifying the ability to specify the ubuntu release.\n\n[0] https://review.opendev.org/c/openstack/openstack-helm-images/+/782843\n\nChange-Id: I0c803bf1d2d4705b669a48bba0b9576c71d4b77d\n'}, {'number': 3, 'created': '2021-04-08 01:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c490d97647fdbb0e54ee829c9b71b827ebcd066c', 'message': 'Update mariadb upload job\n\nA previous change[0] added an ubuntu bionic Dockerfile for mariadb\nbut did not update the zuul file to properly tag the new image.\n\nThis change updates the zuul job in order to correctly tag the image,\nas well as simplifying the ability to specify the ubuntu release.\n\n[0] https://review.opendev.org/c/openstack/openstack-helm-images/+/782843\n\nChange-Id: I0c803bf1d2d4705b669a48bba0b9576c71d4b77d\n'}, {'number': 4, 'created': '2021-04-08 04:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/1aa3dc162741245104ebc2ac77a0fa4754372e70', 'message': 'Update mariadb upload job\n\nA previous change[0] added an ubuntu bionic Dockerfile for mariadb\nbut did not update the zuul file to properly tag the new image.\n\nThis change updates the zuul job in order to correctly tag the image,\nas well as simplifying the ability to specify the ubuntu release.\n\n[0] https://review.opendev.org/c/openstack/openstack-helm-images/+/782843\n\nChange-Id: I0c803bf1d2d4705b669a48bba0b9576c71d4b77d\n'}, {'number': 5, 'created': '2021-04-13 16:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/2d95fafc8a5c51ccdbb59902df8fc84d38fe5ea4', 'message': ""Update mariadb upload job\n\nA previous change[0] added an ubuntu bionic Dockerfile for mariadb\nbut did not update the zuul file to properly tag the new image.\n\nThis change updates the zuul job in order to correctly tag the image,\nas well as simplifying the ability to specify the ubuntu release.\n\nAlso updates the previous change's bionic Dockerfile to focal.\n\n[0] https://review.opendev.org/c/openstack/openstack-helm-images/+/782843\n\nChange-Id: I0c803bf1d2d4705b669a48bba0b9576c71d4b77d\n""}, {'number': 6, 'created': '2021-04-13 17:53:55.000000000', 'files': ['mariadb/Dockerfile.ubuntu_focal', 'zuul.d/mariadb.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/1087d84d41ce5e4a87b7fd85cb7ebc326b8b365c', 'message': ""Update mariadb upload job\n\nA previous change[0] added an ubuntu bionic Dockerfile for mariadb\nbut did not update the zuul file to properly tag the new image.\n\nThis change updates the zuul job in order to correctly tag the image,\nas well as simplifying the ability to specify the ubuntu release.\n\nAlso updates the previous change's bionic Dockerfile to focal.\n\n[0] https://review.opendev.org/c/openstack/openstack-helm-images/+/782843\n\nChange-Id: I0c803bf1d2d4705b669a48bba0b9576c71d4b77d\n""}]",1,785274,1087d84d41ce5e4a87b7fd85cb7ebc326b8b365c,23,6,6,21420,,,0,"Update mariadb upload job

A previous change[0] added an ubuntu bionic Dockerfile for mariadb
but did not update the zuul file to properly tag the new image.

This change updates the zuul job in order to correctly tag the image,
as well as simplifying the ability to specify the ubuntu release.

Also updates the previous change's bionic Dockerfile to focal.

[0] https://review.opendev.org/c/openstack/openstack-helm-images/+/782843

Change-Id: I0c803bf1d2d4705b669a48bba0b9576c71d4b77d
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/74/785274/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/mariadb.yaml'],1,fd0104ecb3488684cc5b3eb85846f26daf4e1e53,update-mariadb," release: ""bionic"" dockerfile: Dockerfile.ubuntu_{{ release }} tags: - ""latest-ubuntu_{{ release }}"" - ""ubuntu_{{ release }}-{{ currentdate }}"""," dockerfile: Dockerfile.ubuntu_xenial tags: - latest-ubuntu_xenial - ""ubuntu_xenial-{{ currentdate }}""",4,3
openstack%2Fdevstack~stable%2Ftrain~Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90,openstack/devstack,stable/train,Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90,Make stackviz tasks not to fail jobs,MERGED,2021-04-09 01:19:58.000000000,2021-04-13 22:00:51.000000000,2021-04-13 21:57:05.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-09 01:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2873b5530d263b98642605b12bb62f0b18fa933d', 'message': ""Make stackviz tasks not to fail jobs\n\nDue to issue on stckviz side, job start\nfailing with POST_FAILURE. If we fix the\nissue still we need to wait for periodic job\nperiodic-package-stackviz-element to publish\nthe latest tarball on https://tarballs.openstack.org/stackviz/dist/.\n\nLet's not fail the job for any issue occur during\nstackviz processing.\n\nCloses-Bug: 1863161\n\nChange-Id: Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90\n(cherry picked from commit 580fec54c3a970de80ab66b3decca69704ff1179)\n(cherry picked from commit 800eb4dd446f93734d420005f93d0dcb88564dd4)\n(cherry picked from commit 3b2feba2ef6a08f639b36bfe995705ec3a785ff8)\n(cherry picked from commit 4f9c1e084c8d762c873549e8fc9524d6ee24f1c1)\n""}, {'number': 2, 'created': '2021-04-11 08:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/176acb54d5bb3fe677a6a29851a690bafba39dab', 'message': ""[WIP] Make stackviz tasks not to fail jobs\n\nDue to issue on stckviz side, job start\nfailing with POST_FAILURE. If we fix the\nissue still we need to wait for periodic job\nperiodic-package-stackviz-element to publish\nthe latest tarball on https://tarballs.openstack.org/stackviz/dist/.\n\nLet's not fail the job for any issue occur during\nstackviz processing.\n\nCloses-Bug: 1863161\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/785766\n\nChange-Id: Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90\n(cherry picked from commit 580fec54c3a970de80ab66b3decca69704ff1179)\n(cherry picked from commit 800eb4dd446f93734d420005f93d0dcb88564dd4)\n(cherry picked from commit 3b2feba2ef6a08f639b36bfe995705ec3a785ff8)\n(cherry picked from commit 4f9c1e084c8d762c873549e8fc9524d6ee24f1c1)\n""}, {'number': 3, 'created': '2021-04-11 10:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/12f4ed73ebd899c8f1f6361e25a5b8ec2fad0770', 'message': ""[WIP] Make stackviz tasks not to fail jobs\n\nDue to issue on stckviz side, job start\nfailing with POST_FAILURE. If we fix the\nissue still we need to wait for periodic job\nperiodic-package-stackviz-element to publish\nthe latest tarball on https://tarballs.openstack.org/stackviz/dist/.\n\nLet's not fail the job for any issue occur during\nstackviz processing.\n\nCloses-Bug: 1863161\nDepends-On: If5f14654ab9aee2a140bbfb869b50d63cb289fdf\n\nChange-Id: Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90\n(cherry picked from commit 580fec54c3a970de80ab66b3decca69704ff1179)\n(cherry picked from commit 800eb4dd446f93734d420005f93d0dcb88564dd4)\n(cherry picked from commit 3b2feba2ef6a08f639b36bfe995705ec3a785ff8)\n(cherry picked from commit 4f9c1e084c8d762c873549e8fc9524d6ee24f1c1)\n""}, {'number': 4, 'created': '2021-04-12 09:05:42.000000000', 'files': ['roles/process-stackviz/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/16da65c30272b45bf6e138adb68d3cfcf80813e6', 'message': ""Make stackviz tasks not to fail jobs\n\nDue to issue on stckviz side, job start\nfailing with POST_FAILURE. If we fix the\nissue still we need to wait for periodic job\nperiodic-package-stackviz-element to publish\nthe latest tarball on https://tarballs.openstack.org/stackviz/dist/.\n\nLet's not fail the job for any issue occur during\nstackviz processing.\n\nCloses-Bug: 1863161\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/785767\n\nChange-Id: Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90\n(cherry picked from commit 580fec54c3a970de80ab66b3decca69704ff1179)\n(cherry picked from commit 800eb4dd446f93734d420005f93d0dcb88564dd4)\n(cherry picked from commit 3b2feba2ef6a08f639b36bfe995705ec3a785ff8)\n(cherry picked from commit 4f9c1e084c8d762c873549e8fc9524d6ee24f1c1)\n""}]",0,785547,16da65c30272b45bf6e138adb68d3cfcf80813e6,41,4,4,8556,,,0,"Make stackviz tasks not to fail jobs

Due to issue on stckviz side, job start
failing with POST_FAILURE. If we fix the
issue still we need to wait for periodic job
periodic-package-stackviz-element to publish
the latest tarball on https://tarballs.openstack.org/stackviz/dist/.

Let's not fail the job for any issue occur during
stackviz processing.

Closes-Bug: 1863161
Depends-On: https://review.opendev.org/c/openstack/grenade/+/785767

Change-Id: Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90
(cherry picked from commit 580fec54c3a970de80ab66b3decca69704ff1179)
(cherry picked from commit 800eb4dd446f93734d420005f93d0dcb88564dd4)
(cherry picked from commit 3b2feba2ef6a08f639b36bfe995705ec3a785ff8)
(cherry picked from commit 4f9c1e084c8d762c873549e8fc9524d6ee24f1c1)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/47/785547/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/process-stackviz/tasks/main.yaml'],1,2873b5530d263b98642605b12bb62f0b18fa933d,bug/1863161,"- name: Process Stackviz block: - name: Devstack checks if stackviz archive exists stat: path: ""/opt/cache/files/stackviz-latest.tar.gz"" register: stackviz_archive - debug: msg: ""Stackviz archive could not be found in /opt/cache/files/stackviz-latest.tar.gz"" when: not stackviz_archive.stat.exists - name: Check if subunit data exists stat: path: ""{{ zuul_work_dir }}/testrepository.subunit"" register: subunit_input - debug: msg: ""Subunit file could not be found at {{ zuul_work_dir }}/testrepository.subunit"" when: not subunit_input.stat.exists - name: Install stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists block: - include_role: name: ensure-pip - pip: name: ""file://{{ stackviz_archive.stat.path }}"" virtualenv: /tmp/stackviz virtualenv_command: '{{ ensure_pip_virtualenv_command }}' extra_args: -U - name: Deploy stackviz static html+js command: cp -pR /tmp/stackviz/share/stackviz-html {{ stage_dir }}/stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Check if dstat data exists stat: path: ""{{ devstack_base_dir }}/logs/dstat-csv.log"" register: dstat_input when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Run stackviz with dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --dstat ""{{ devstack_base_dir }}/logs/dstat-csv.log"" \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - dstat_input.stat.exists - name: Run stackviz without dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - not dstat_input.stat.exists ignore_errors: yes","- name: Devstack checks if stackviz archive exists stat: path: ""/opt/cache/files/stackviz-latest.tar.gz"" register: stackviz_archive - debug: msg: ""Stackviz archive could not be found in /opt/cache/files/stackviz-latest.tar.gz"" when: not stackviz_archive.stat.exists - name: Check if subunit data exists stat: path: ""{{ zuul_work_dir }}/testrepository.subunit"" register: subunit_input - debug: msg: ""Subunit file could not be found at {{ zuul_work_dir }}/testrepository.subunit"" when: not subunit_input.stat.exists - name: Install stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists block: - include_role: name: ensure-pip - pip: name: ""file://{{ stackviz_archive.stat.path }}"" virtualenv: /tmp/stackviz virtualenv_command: '{{ ensure_pip_virtualenv_command }}' extra_args: -U - name: Deploy stackviz static html+js command: cp -pR /tmp/stackviz/share/stackviz-html {{ stage_dir }}/stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Check if dstat data exists stat: path: ""{{ devstack_base_dir }}/logs/dstat-csv.log"" register: dstat_input when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Run stackviz with dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --dstat ""{{ devstack_base_dir }}/logs/dstat-csv.log"" \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - dstat_input.stat.exists failed_when: False - name: Run stackviz without dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - not dstat_input.stat.exists failed_when: False",67,64
openstack%2Fcinder~stable%2Fvictoria~Ie5645e4664b794cfea6babcaa5b483c059b21985,openstack/cinder,stable/victoria,Ie5645e4664b794cfea6babcaa5b483c059b21985,PowerMax Driver - Promotion RDF Group number fix,MERGED,2021-03-26 14:04:51.000000000,2021-04-13 22:00:50.000000000,2021-04-13 21:57:14.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 30165}]","[{'number': 1, 'created': '2021-03-26 14:04:51.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/common.py', 'releasenotes/notes/promotion_rdfg_num_fix-65a5838277ac8edf.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/366d107a93a9f752e4074bd6d2d4e860a5ae6c29', 'message': 'PowerMax Driver - Promotion RDF Group number fix\n\nUse remote array SID when finding rdf group number\nwhen performing retype during failover. The remote\narray may potentially be unavailable at this point.\n\nCloses-Bug: #1908922\nChange-Id: Ie5645e4664b794cfea6babcaa5b483c059b21985\n(cherry picked from commit f0652209f4bb54e93206ff01bbc0b3ce281ec36c)\n'}]",0,783308,366d107a93a9f752e4074bd6d2d4e860a5ae6c29,23,4,1,12670,,,0,"PowerMax Driver - Promotion RDF Group number fix

Use remote array SID when finding rdf group number
when performing retype during failover. The remote
array may potentially be unavailable at this point.

Closes-Bug: #1908922
Change-Id: Ie5645e4664b794cfea6babcaa5b483c059b21985
(cherry picked from commit f0652209f4bb54e93206ff01bbc0b3ce281ec36c)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/08/783308/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/common.py', 'releasenotes/notes/promotion_rdfg_num_fix-65a5838277ac8edf.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py']",3,366d107a93a9f752e4074bd6d2d4e860a5ae6c29,," @mock.patch.object(common.PowerMaxCommon, 'get_rdf_details', return_value=(1, True)) @mock.patch.object(rest.PowerMaxRest, 'get_array_model_info', return_value=('VMAX250F', False)) def test_get_replication_extra_specs_get_rdf_group_promotion( self, mock_model, mck_rdf): self.common.promotion = True remote_array = self.data.remote_array rep_config = self.data.rep_config_sync extra_specs1 = deepcopy(self.extra_specs) self.common._get_replication_extra_specs(extra_specs1, rep_config) mck_rdf.assert_called_with(remote_array, rep_config) ",,23,1
openstack%2Fneutron~master~Iffe6bc3101fe162dbbff13acb8b24b665ec53b6d,openstack/neutron,master,Iffe6bc3101fe162dbbff13acb8b24b665ec53b6d,"""OvnNbApiIdlImpl.qos_del"" supports ""if_exists"" parameter",MERGED,2021-03-31 10:50:15.000000000,2021-04-13 22:00:48.000000000,2021-04-13 21:56:41.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 10:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7fb11d7758b1835332867431dc3a20160858a0f8', 'message': '""OvnNbApiIdlImpl.qos_del"" supports ""if_exists"" parameter\n\nSince ovsdbapp 1.5.0, ""OvnNbApiIdlImpl.qos_del"" supports ""if_exits""\nas input parameter. By default, this parameter is ""True""; that means\nno ""RowNotFound"" exception will be thrown if the register does not\nexist.\n\nTrivial-Fix\n\nChange-Id: Iffe6bc3101fe162dbbff13acb8b24b665ec53b6d\n'}, {'number': 2, 'created': '2021-03-31 14:09:36.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ca896cfe3b0879a6bcb88ae0a18306d704a3503', 'message': '""OvnNbApiIdlImpl.qos_del"" supports ""if_exists"" parameter\n\nSince ovsdbapp 1.5.0, ""OvnNbApiIdlImpl.qos_del"" supports ""if_exits""\nas input parameter. By default, this parameter is ""True""; that means\nno ""RowNotFound"" exception will be thrown if the register does not\nexist.\n\nTrivial-Fix\n\nChange-Id: Iffe6bc3101fe162dbbff13acb8b24b665ec53b6d\n'}]",3,784070,7ca896cfe3b0879a6bcb88ae0a18306d704a3503,32,6,2,16688,,,0,"""OvnNbApiIdlImpl.qos_del"" supports ""if_exists"" parameter

Since ovsdbapp 1.5.0, ""OvnNbApiIdlImpl.qos_del"" supports ""if_exits""
as input parameter. By default, this parameter is ""True""; that means
no ""RowNotFound"" exception will be thrown if the register does not
exist.

Trivial-Fix

Change-Id: Iffe6bc3101fe162dbbff13acb8b24b665ec53b6d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/784070/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py'],1,7fb11d7758b1835332867431dc3a20160858a0f8,ovn_qos_del_rule, txn.add(self._driver._nb_idl.qos_del(**ovn_rule)), # TODO(lucasagomes): qos_del() in ovsdbapp doesn't support # if_exists=True try: txn.add(self._driver._nb_idl.qos_del(**ovn_rule)) except idlutils.RowNotFound: continue,1,6
openstack%2Ftripleo-common~stable%2Fussuri~I64776992a7e457781aa8ddaba359ef085d4cb77d,openstack/tripleo-common,stable/ussuri,I64776992a7e457781aa8ddaba359ef085d4cb77d,healthcheck_port: drop lsof in favor of awk/find,MERGED,2021-04-08 06:49:08.000000000,2021-04-13 21:33:06.000000000,2021-04-13 21:31:10.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-08 06:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d4d675d033d37d49fa2c035ff6b5a3a32863a058', 'message': 'healthcheck_port: drop lsof in favor of awk/find\n\nIt seems lsof is a bit too heavy on the system when multiple\nhealthchecks are running in parallel.\nSo instead of calling a ""big"" process, let\'s split a bit things and get\nto the filesystem directly in order to pick only the things we actually\nneed.\n\nWhat changes:\n- using /proc/net/{tcp,udp}, we get every socket matching the port\n- using find with the right options, we can ensure at least one socket\n  exists with the wanted inode(s)\n\nThe last part exits as soon as we have a match in order to make it\nfaster and less resource consuming.\n\nChange-Id: I64776992a7e457781aa8ddaba359ef085d4cb77d\nPartial-Bug: #1921714\n(cherry picked from commit a072a7f07ea75933a2372b1a95ae960095a3250e)\n'}, {'number': 2, 'created': '2021-04-13 08:54:28.000000000', 'files': ['healthcheck/common.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/654dc08547accf2f4804e15cb1a5b9a7d93ae2a0', 'message': 'healthcheck_port: drop lsof in favor of awk/find\n\nIt seems lsof is a bit too heavy on the system when multiple\nhealthchecks are running in parallel.\nSo instead of calling a ""big"" process, let\'s split a bit things and get\nto the filesystem directly in order to pick only the things we actually\nneed.\n\nWhat changes:\n- using /proc/net/{tcp,udp}, we get every socket matching the port\n- using find with the right options, we can ensure at least one socket\n  exists with the wanted inode(s)\n\nThe last part exits as soon as we have a match in order to make it\nfaster and less resource consuming.\n\nChange-Id: I64776992a7e457781aa8ddaba359ef085d4cb77d\nPartial-Bug: #1921714\n(cherry picked from commit a072a7f07ea75933a2372b1a95ae960095a3250e)\n'}]",0,785325,654dc08547accf2f4804e15cb1a5b9a7d93ae2a0,28,7,2,28223,,,0,"healthcheck_port: drop lsof in favor of awk/find

It seems lsof is a bit too heavy on the system when multiple
healthchecks are running in parallel.
So instead of calling a ""big"" process, let's split a bit things and get
to the filesystem directly in order to pick only the things we actually
need.

What changes:
- using /proc/net/{tcp,udp}, we get every socket matching the port
- using find with the right options, we can ensure at least one socket
  exists with the wanted inode(s)

The last part exits as soon as we have a match in order to make it
faster and less resource consuming.

Change-Id: I64776992a7e457781aa8ddaba359ef085d4cb77d
Partial-Bug: #1921714
(cherry picked from commit a072a7f07ea75933a2372b1a95ae960095a3250e)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/25/785325/2 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/common.sh'],1,d4d675d033d37d49fa2c035ff6b5a3a32863a058,drop-lsof," ports="""" # First convert port to hex value. We need to 0-pad it in order to get the # right format (4 chars). for p in $@; do ports=""${ports}|$(printf '%0.4x' $p)"" done # Format the string - will be "":(hex1|hex2|...)"" ports="":(${ports:1})"" # Parse the files. We need to extract only one value (socket inode) based on the matching port. Let's check local and target for establised connection. # Line example: # 534: DE0D10AC:1628 DE0D10AC:8B7C 01 00000000:00000000 02:000000D3 00000000 42439 0 574360 2 0000000000000000 20 4 0 10 -1 # | | | # $2 local connection | $10 Socket inode # $3 Connection target # Using the main /proc/net/{tcp,udp} allow to take only the connections existing in the current container. If we were using /proc/PID/net/{tcp,udp}, we # would get all the connections existing in the same network namespace as the PID. Since we're using network=host, that would show *everything*. # the ""join"" method is weird, and fails if the array is empty. # Note: join comes from gawk's /usr/share/awk/join.awk and has some weird parameters. sockets=$(awk -i join -v m=${ports} '{IGNORECASE=1; if ($2 ~ m || $3 ~ m) {output[counter++] = $10} } END{if (length(output)>0) {print join(output, 0, length(output)-1, ""|"")}}' /proc/net/{tcp,udp}) # If no socket, just fail early test -z $sockets && exit 1 match=0 for pid in $(pgrep -f $process); do # Here, we check if a socket is actually associated to the process PIDs match=$(( $match+$(sudo -u $puser find /proc/$pid/fd/ -ilname ""socket*"" -printf ""%l\n"" 2>/dev/null | grep -c -E ""(${sockets})"") )) test $match -gt 0 && exit 0 # exit as soon as we get a match done exit 1 # no early exit, meaning failure."," args=$@ ports=${args// /,} pids=$(pgrep -d ',' -f $process) # First match exits - usually TCP and ""sudo TCP"" are enough. # `sudo' is needed, as in some cases even root can get a ""permission denied"" # on some file descriptors (case for heat_manager for example) # UDP support is needed for octavia manager (UDP:5555). lsof -n -w -P -a -iTCP:${ports} -p${pids} >&3 2>&1 || \ sudo -u $puser lsof -n -w -P -a -iTCP:${ports} -p${pids} >&3 2>&1 || \ lsof -w -P -a -iUDP:${ports} -p${pids} >&3 2>&1 || \ sudo -u $puser lsof -n -w -P -a -iUDP:${ports} -p${pids} >&3 2>&1",29,11
openstack%2Ftripleo-quickstart-extras~master~I59a43549c81a8c74f4acc08477d8cbe90aea90c3,openstack/tripleo-quickstart-extras,master,I59a43549c81a8c74f4acc08477d8cbe90aea90c3,Bump quickstart defaults to -pacific stable container,MERGED,2021-04-07 07:28:26.000000000,2021-04-13 21:31:05.000000000,2021-04-13 21:31:05.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-04-07 07:28:26.000000000', 'files': ['roles/extras-common/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8cdaa3c580ebbc34c86af9c71c23d1575a1d4b6e', 'message': 'Bump quickstart defaults to -pacific stable container\n\nThis patch just changes the default value of the Ceph container\nfor W+ releases, using pacific instead of octopus.\n\nChange-Id: I59a43549c81a8c74f4acc08477d8cbe90aea90c3\n'}]",0,785097,8cdaa3c580ebbc34c86af9c71c23d1575a1d4b6e,20,9,1,25402,,,0,"Bump quickstart defaults to -pacific stable container

This patch just changes the default value of the Ceph container
for W+ releases, using pacific instead of octopus.

Change-Id: I59a43549c81a8c74f4acc08477d8cbe90aea90c3
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/97/785097/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/extras-common/defaults/main.yml'],1,8cdaa3c580ebbc34c86af9c71c23d1575a1d4b6e,cephadm_pacific, v6.0.0-stable-6.0-pacific-centos-8-x86_64, v5.0.7-stable-5.0-octopus-centos-8-x86_64,1,1
openstack%2Ftripleo-heat-templates~master~I99b4da8d4cbed3c383cbe801546eec9205af89cb,openstack/tripleo-heat-templates,master,I99b4da8d4cbed3c383cbe801546eec9205af89cb,Remove usage of the wrong puppet parameter,MERGED,2021-02-21 14:12:46.000000000,2021-04-13 21:30:49.000000000,2021-04-13 21:30:49.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-02-21 14:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6b756936a33446d31a646113752ebb8e86b79e1b', 'message': ""Remove usage of the wrong puppet parameter\n\nIt seems that the ceilometer_messaging_use_ssl parameter doesn't exist\nin puppet-tripleo.\nThe required parameter is set by the oslo_messaging_rpc_use_ssl\nparameter thus we don't need to set that non-existing parameter.\n\nChange-Id: I99b4da8d4cbed3c383cbe801546eec9205af89cb\n""}, {'number': 2, 'created': '2021-02-21 14:14:04.000000000', 'files': ['deployment/swift/swift-proxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/15b7529214997cebbabc0a9d377ff632601e440e', 'message': ""Remove usage of the wrong puppet parameter\n\nIt seems that the ceilometer_messaging_use_ssl parameter doesn't exist\nin puppet-tripleo.\nThe required parameter is set by the oslo_messaging_rpc_use_ssl\nhieradata thus we don't need to set that non-existing parameter.\n\nChange-Id: I99b4da8d4cbed3c383cbe801546eec9205af89cb\n""}]",0,776835,15b7529214997cebbabc0a9d377ff632601e440e,13,6,2,9816,,,0,"Remove usage of the wrong puppet parameter

It seems that the ceilometer_messaging_use_ssl parameter doesn't exist
in puppet-tripleo.
The required parameter is set by the oslo_messaging_rpc_use_ssl
hieradata thus we don't need to set that non-existing parameter.

Change-Id: I99b4da8d4cbed3c383cbe801546eec9205af89cb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/776835/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/swift/swift-proxy-container-puppet.yaml'],1,6b756936a33446d31a646113752ebb8e86b79e1b,swift-proxy-pipeline,, RpcUseSSL: default: false description: > Messaging client subscriber parameter to specify an SSL connection to the messaging host. type: string tripleo::profile::base::swift::proxy::ceilometer_messaging_use_ssl: {get_param: RpcUseSSL},0,7
openstack%2Ftripleo-heat-templates~master~Iedde84563aff3def0ec20386399eea7f244cf075,openstack/tripleo-heat-templates,master,Iedde84563aff3def0ec20386399eea7f244cf075,Swift: Enable gatekeeper and listing_formats explicitly.,MERGED,2021-02-21 13:37:13.000000000,2021-04-13 21:30:39.000000000,2021-04-13 21:30:39.000000000,"[{'_account_id': 6968}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-21 13:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7267a299ad4bd1e533c63c09000e9b1f826bdfe4', 'message': 'Swift: Enable gatekeeper and listing_formats explicitly.\n\nThe gatekeeper middleware and the listing_formats middleware are\nrequired in swift-proxy-server pipeline and automatically enabled even\nif the middlewares are not explicitly enabled by the pipeline parameter.\n\nThis change ensures that these two middlewares appear in the list\npassed to the pipeline parameter so that operators can more easily\nunderstand which middleware is actually enaled.\n\nDepends-on: https://review.opendev.org/776830\nChange-Id: Iedde84563aff3def0ec20386399eea7f244cf075\n'}, {'number': 2, 'created': '2021-02-21 13:41:54.000000000', 'files': ['deployment/swift/swift-proxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/850f5a2814b194d700d20179ed6e4a41e7845dd4', 'message': 'Swift: Enable gatekeeper and listing_formats explicitly.\n\nThe gatekeeper middleware and the listing_formats middleware are\nrequired in swift-proxy-server pipeline and automatically enabled even\nif the middlewares are not explicitly enabled by the pipeline parameter.\n\nThis change ensures that these two middlewares appear in the list\npassed to the pipeline parameter so that operators can more easily\nunderstand which middleware is actually enaled.\n\nDepends-on: https://review.opendev.org/776826\nDepends-on: https://review.opendev.org/776830\nChange-Id: Iedde84563aff3def0ec20386399eea7f244cf075\n'}]",1,776831,850f5a2814b194d700d20179ed6e4a41e7845dd4,14,5,2,9816,,,0,"Swift: Enable gatekeeper and listing_formats explicitly.

The gatekeeper middleware and the listing_formats middleware are
required in swift-proxy-server pipeline and automatically enabled even
if the middlewares are not explicitly enabled by the pipeline parameter.

This change ensures that these two middlewares appear in the list
passed to the pipeline parameter so that operators can more easily
understand which middleware is actually enaled.

Depends-on: https://review.opendev.org/776826
Depends-on: https://review.opendev.org/776830
Change-Id: Iedde84563aff3def0ec20386399eea7f244cf075
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/776831/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/swift/swift-proxy-container-puppet.yaml'],1,7267a299ad4bd1e533c63c09000e9b1f826bdfe4,swift-gatekeeper, - 'gatekeeper' - 'listing_formats',,2,0
openstack%2Ftripleo-quickstart~master~Ia4274ef4819dc7f190c591994143c2eed4aae968,openstack/tripleo-quickstart,master,Ia4274ef4819dc7f190c591994143c2eed4aae968,Bump to container-tools:3.0 for upstream CI,MERGED,2021-04-08 13:12:10.000000000,2021-04-13 20:21:31.000000000,2021-04-13 20:20:21.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-04-08 13:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7bb2f30b41ff11b0828c60d5170f308473f6a883', 'message': ""Bump to container-tools:3.0 for upstream CI\n\nThis patch rev's container-tools in the ussuri\nrelease file.\n\nChange-Id: Ia4274ef4819dc7f190c591994143c2eed4aae968\n""}, {'number': 2, 'created': '2021-04-12 01:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/411f29b9177d3bc9871e5ac8950b2b54d8dcfe2f', 'message': ""Bump to container-tools:3.0 for upstream CI\n\nThis patch rev's container-tools in the ussuri\nrelease file.\n\nChange-Id: Ia4274ef4819dc7f190c591994143c2eed4aae968\n""}, {'number': 3, 'created': '2021-04-12 14:40:01.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/ussuri.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8840461a43ec47b152d9841a48de23b16de528f0', 'message': ""Bump to container-tools:3.0 for upstream CI\n\nThis patch rev's container-tools in the ussuri\nrelease file.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/785888\nChange-Id: Ia4274ef4819dc7f190c591994143c2eed4aae968\n""}]",0,785413,8840461a43ec47b152d9841a48de23b16de528f0,20,7,3,9976,,,0,"Bump to container-tools:3.0 for upstream CI

This patch rev's container-tools in the ussuri
release file.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/785888
Change-Id: Ia4274ef4819dc7f190c591994143c2eed4aae968
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/13/785413/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/ussuri.yml'],1,7bb2f30b41ff11b0828c60d5170f308473f6a883,container-tools-3-ussuri, sudo dnf module enable container-tools:3.0 -y;, sudo dnf module enable container-tools:2.0 -y;,1,1
openstack%2Fopenstack-helm-images~master~Ifbc237550bc1dd959522bf550439858d3a1fa5b6,openstack/openstack-helm-images,master,Ifbc237550bc1dd959522bf550439858d3a1fa5b6,Fix vbmc and tempest images,MERGED,2021-04-13 17:04:06.000000000,2021-04-13 19:09:55.000000000,2021-04-13 19:08:10.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30777}]","[{'number': 1, 'created': '2021-04-13 17:04:06.000000000', 'files': ['vbmc/Dockerfile.centos_7', 'tempest/Dockerfile.ubuntu_bionic'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/3bef1188796837ed963f98abafb42902cea09a88', 'message': 'Fix vbmc and tempest images\n\nChange-Id: Ifbc237550bc1dd959522bf550439858d3a1fa5b6\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,786078,3bef1188796837ed963f98abafb42902cea09a88,8,6,1,8863,,,0,"Fix vbmc and tempest images

Change-Id: Ifbc237550bc1dd959522bf550439858d3a1fa5b6
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/78/786078/1 && git format-patch -1 --stdout FETCH_HEAD,"['vbmc/Dockerfile.centos_7', 'tempest/Dockerfile.ubuntu_bionic']",2,3bef1188796837ed963f98abafb42902cea09a88,, pip3 install -U pip ;\,,2,0
openstack%2Fpython-tripleoclient~master~I962bed846b2cae7206c76f883f9294d366031245,openstack/python-tripleoclient,master,I962bed846b2cae7206c76f883f9294d366031245,Use ceph_mon_network to find Ceph monitor IPs for export,MERGED,2021-04-06 21:01:29.000000000,2021-04-13 19:09:30.000000000,2021-04-13 19:05:19.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-04-06 21:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2617e9f0d30940740683e9ac6b1c7914f6cdc5aa', 'message': ""Use ctlplane_ip if storage_ip is unavailable when exporting Ceph\n\nWhen 'openstack overcloud export ceph' is run, do not fail if\nthe storage_ip not set. Instead fall back to the ctlplane_ip.\n\nCloses-Bug: #1922788\nChange-Id: I962bed846b2cae7206c76f883f9294d366031245\n""}, {'number': 2, 'created': '2021-04-08 11:51:31.000000000', 'files': ['tripleoclient/tests/test_export.py', 'tripleoclient/export.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1e690136913062dc0b14b328a295f34fb1c02bd1', 'message': ""Use ceph_mon_network to find Ceph monitor IPs for export\n\nWhen 'openstack overcloud export ceph' is run, do not assume\nthe storage_ip will be set. Instead, find the ceph_mon_network\nname in the service_net_map, e.g. 'storage' or 'ctlplane', and\nthen use that network name to get the IP from the inventory.\n\nCloses-Bug: #1922788\nChange-Id: I962bed846b2cae7206c76f883f9294d366031245\n""}]",5,785048,1e690136913062dc0b14b328a295f34fb1c02bd1,23,4,2,18002,,,0,"Use ceph_mon_network to find Ceph monitor IPs for export

When 'openstack overcloud export ceph' is run, do not assume
the storage_ip will be set. Instead, find the ceph_mon_network
name in the service_net_map, e.g. 'storage' or 'ctlplane', and
then use that network name to get the IP from the inventory.

Closes-Bug: #1922788
Change-Id: I962bed846b2cae7206c76f883f9294d366031245
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/48/785048/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_export.py', 'tripleoclient/export.py']",2,2617e9f0d30940740683e9ac6b1c7914f6cdc5aa,bug/1922788, try: ip = inventory_data[mon_role]['hosts'][hostname]['storage_ip'] except KeyError: ip = inventory_data[mon_role]['hosts'][hostname]['ctlplane_ip'], ip = inventory_data[mon_role]['hosts'][hostname]['storage_ip'],8,2
openstack%2Ftripleo-heat-templates~master~Ibbe23db8fd5ac1008109f50f514df96686b0fa19,openstack/tripleo-heat-templates,master,Ibbe23db8fd5ac1008109f50f514df96686b0fa19,Enable ansible-lint,MERGED,2021-03-25 13:10:18.000000000,2021-04-13 19:08:56.000000000,2021-04-13 19:06:05.000000000,"[{'_account_id': 7144}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-25 13:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64a8f9155ebd54656393620fda497b17761473db', 'message': 'WIP: enable ansible-lint\n\n- add folders populated during testing to .gitignore\n- enable run of ansible-lint, with a temporary set of excludes\n- fixes two problems reported by the linter\n\nChange-Id: Ibbe23db8fd5ac1008109f50f514df96686b0fa19\n'}, {'number': 2, 'created': '2021-03-25 13:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc12c0c95647b36ee0e40874e7e0d8cd12517ac8', 'message': 'WIP: enable ansible-lint\n\n- add folders populated during testing to .gitignore\n- enable run of ansible-lint, with a temporary set of excludes\n- fixes two problems reported by the linter\n- added bindep fixes as current set prevented run of tests on fedora\n\nChange-Id: Ibbe23db8fd5ac1008109f50f514df96686b0fa19\n'}, {'number': 3, 'created': '2021-03-25 16:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da8bfd2e108fd801400914c1298dbf15051deaa9', 'message': 'Enable ansible-lint\n\n- enable run of ansible-lint, with a temporary set of excludes\n- fixes two problems reported by ansible-linter\n\nChange-Id: Ibbe23db8fd5ac1008109f50f514df96686b0fa19\nBug: #1921409\n'}, {'number': 4, 'created': '2021-03-25 17:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/780b65bbfd24e774ee9ffb04c6daf03513da2632', 'message': 'Enable ansible-lint\n\n- enable run of ansible-lint, with a temporary set of excludes\n- fixes two problems reported by ansible-linter\n\nChange-Id: Ibbe23db8fd5ac1008109f50f514df96686b0fa19\nBug: #1921409\n'}, {'number': 5, 'created': '2021-03-26 10:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af2a8f621d832e3490eb91c963655c59200d34de', 'message': 'Enable ansible-lint\n\n- enable run of ansible-lint, with a temporary set of excludes\n- fixes two problems reported by ansible-linter\n\nChange-Id: Ibbe23db8fd5ac1008109f50f514df96686b0fa19\nBug: #1921409\n'}, {'number': 6, 'created': '2021-03-26 15:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33a41e3851900881589cc13810a6d28b1b43280a', 'message': 'Enable ansible-lint\n\n- enable run of ansible-lint, with a temporary set of excludes\n- fixes two problems reported by ansible-linter\n\nChange-Id: Ibbe23db8fd5ac1008109f50f514df96686b0fa19\nBug: #1921409\n'}, {'number': 7, 'created': '2021-03-29 14:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea9b5af5716e7a6bc5a1de5133b73625ab5e447d', 'message': 'Enable ansible-lint\n\n- enable run of ansible-lint, with a temporary set of excludes\n- fixes two problems reported by ansible-linter\n\nChange-Id: Ibbe23db8fd5ac1008109f50f514df96686b0fa19\nBug: #1921409\n'}, {'number': 8, 'created': '2021-03-30 08:18:42.000000000', 'files': ['common/deploy-steps-playbooks-common.yaml', '.gitignore', 'test-requirements.txt', 'tripleo_heat_templates/tests/test_tht_ansible_syntax.yml', 'tox.ini', 'deployment/haproxy/haproxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a013f42e3688d4cd325db8cae54bcdfea4a4e4e9', 'message': 'Enable ansible-lint\n\n- enable run of ansible-lint, with a temporary set of excludes\n- fixes two problems reported by ansible-linter\n\nChange-Id: Ibbe23db8fd5ac1008109f50f514df96686b0fa19\nBug: #1921409\n'}]",0,782999,a013f42e3688d4cd325db8cae54bcdfea4a4e4e9,29,7,8,24162,,,0,"Enable ansible-lint

- enable run of ansible-lint, with a temporary set of excludes
- fixes two problems reported by ansible-linter

Change-Id: Ibbe23db8fd5ac1008109f50f514df96686b0fa19
Bug: #1921409
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/782999/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps-playbooks-common.yaml', '.gitignore', 'bindep.txt', 'test-requirements.txt', 'tox.ini', 'deployment/haproxy/haproxy-container-puppet.yaml', '.ansible-lint']",7,64a8f9155ebd54656393620fda497b17761473db,0/flake8,"kinds: - j2: ""**/*.j2.yaml"" - playbook: ""**/common/*.yml"" - yaml: ""roles/*.yaml"" mock_modules: - tripleo_all_nodes_data skip_list: # TODO(zbr): Address in follow-ups - role-name - unnamed-task - yaml ",,31,10
openstack%2Ftripleo-ansible~master~Id43c9ef40a67a048b3228367b3c84cc373611f7c,openstack/tripleo-ansible,master,Id43c9ef40a67a048b3228367b3c84cc373611f7c,Add config_drive support to baremetal provision YAML,MERGED,2020-11-12 21:04:13.000000000,2021-04-13 19:08:46.000000000,2021-04-13 19:05:11.000000000,"[{'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 27419}]","[{'number': 1, 'created': '2020-11-12 21:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dce2bad656076c279d36eb1ec2e681c51800fa8a', 'message': 'Add config_drive support to baremetal provision YAML\n\nThis change exposes the config_drive property added to\nmetalsmith_instances and documented here[1]\n\nDepends-On: https://review.opendev.org/761850\n[1] https://review.opendev.org/762578\n\nChange-Id: Id43c9ef40a67a048b3228367b3c84cc373611f7c\n'}, {'number': 2, 'created': '2020-11-17 02:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bc18f623a888bff25f3d59a2bc5d90c3eb1e2829', 'message': ""Add config_drive support to baremetal provision YAML\n\nThis change exposes the config_drive property added to\nmetalsmith_instances and documented here[1]\n\nA meta_data key 'instance-type' is always set with the role name as\nthe value, to provide an equivalent to nova setting this to the name\nof the flavor.\n\nA merge strategy is implemented so that meta_data and cloud_config\ndefaults values are merged with instance value, with instance values\nhaving precedence when both are specified.\n\nDepends-On: https://review.opendev.org/761850\n[1] https://review.opendev.org/762578\n\nChange-Id: Id43c9ef40a67a048b3228367b3c84cc373611f7c\n""}, {'number': 3, 'created': '2020-12-02 00:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/402139ee388b7128843fdcf8f3786351c028db96', 'message': ""Add config_drive support to baremetal provision YAML\n\nThis change exposes the config_drive property added to\nmetalsmith_instances and documented here[1]\n\nA meta_data key 'instance-type' is always set with the role name as\nthe value, to provide an equivalent to nova setting this to the name\nof the flavor.\n\nA merge strategy is implemented so that meta_data and cloud_config\ndefaults values are merged with instance value, with instance values\nhaving precedence when both are specified.\n\nDepends-On: https://review.opendev.org/761850\n[1] https://review.opendev.org/762578\n\nChange-Id: Id43c9ef40a67a048b3228367b3c84cc373611f7c\n""}, {'number': 4, 'created': '2020-12-15 22:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/71c881b536c0c00ea4706c21bbd3307068e0c69e', 'message': ""Add config_drive support to baremetal provision YAML\n\nThis change exposes the config_drive property added to\nmetalsmith_instances and documented here[1]\n\nA meta_data key 'instance-type' is always set with the role name as\nthe value, to provide an equivalent to nova setting this to the name\nof the flavor.\n\nA merge strategy is implemented so that meta_data and cloud_config\ndefaults values are merged with instance value, with instance values\nhaving precedence when both are specified.\n\nDepends-On: https://review.opendev.org/761850\n[1] https://review.opendev.org/762578\n\nChange-Id: Id43c9ef40a67a048b3228367b3c84cc373611f7c\n""}, {'number': 5, 'created': '2021-02-14 20:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5b725539149de35a0df68f674ba2c267b369c16e', 'message': ""Add config_drive support to baremetal provision YAML\n\nThis change exposes the config_drive property added to\nmetalsmith_instances and documented here[1]\n\nA meta_data key 'instance-type' is always set with the role name as\nthe value, to provide an equivalent to nova setting this to the name\nof the flavor.\n\nA merge strategy is implemented so that meta_data and cloud_config\ndefaults values are merged with instance value, with instance values\nhaving precedence when both are specified.\n\n[1] https://review.opendev.org/762578\n\nChange-Id: Id43c9ef40a67a048b3228367b3c84cc373611f7c\n""}, {'number': 6, 'created': '2021-02-23 17:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/56e95092c3b65cb6dbf7b0f6880bc1483031aaba', 'message': ""Add config_drive support to baremetal provision YAML\n\nThis change exposes the config_drive property added to\nmetalsmith_instances and documented here[1]\n\nA meta_data key 'instance-type' is always set with the role name as\nthe value, to provide an equivalent to nova setting this to the name\nof the flavor.\n\nA merge strategy is implemented so that meta_data and cloud_config\ndefaults values are merged with instance value, with instance values\nhaving precedence when both are specified.\n\n[1] https://review.opendev.org/762578\n\nChange-Id: Id43c9ef40a67a048b3228367b3c84cc373611f7c\n""}, {'number': 7, 'created': '2021-03-22 20:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/67b96d99c9e19a356b689786270f88ee10e68ac1', 'message': ""Add config_drive support to baremetal provision YAML\n\nThis change exposes the config_drive property added to\nmetalsmith_instances and documented here[1]\n\nA meta_data key 'instance-type' is always set with the role name as\nthe value, to provide an equivalent to nova setting this to the name\nof the flavor.\n\nA merge strategy is implemented so that meta_data and cloud_config\ndefaults values are merged with instance value, with instance values\nhaving precedence when both are specified.\n\n[1] https://review.opendev.org/762578\n\nChange-Id: Id43c9ef40a67a048b3228367b3c84cc373611f7c\n""}, {'number': 8, 'created': '2021-03-30 02:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6195d494925785b560bc45328e4bc54d5d73e3a2', 'message': ""Add config_drive support to baremetal provision YAML\n\nThis change exposes the config_drive property added to\nmetalsmith_instances and documented here[1]\n\nA meta_data key 'instance-type' is always set with the role name as\nthe value, to provide an equivalent to nova setting this to the name\nof the flavor.\n\nA merge strategy is implemented so that meta_data and cloud_config\ndefaults values are merged with instance value, with instance values\nhaving precedence when both are specified.\n\n[1] https://review.opendev.org/762578\n\nChange-Id: Id43c9ef40a67a048b3228367b3c84cc373611f7c\n""}, {'number': 9, 'created': '2021-03-30 21:39:37.000000000', 'files': ['ansible-requirements.txt', 'tripleo_ansible/tests/plugins/module_utils/test_baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py', 'molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/76b129be5db937b5011e2d2f19bdc2bf5691665b', 'message': ""Add config_drive support to baremetal provision YAML\n\nThis change exposes the config_drive property added to\nmetalsmith_instances and documented here[1]\n\nA meta_data key 'instance-type' is always set with the role name as\nthe value, to provide an equivalent to nova setting this to the name\nof the flavor.\n\nA merge strategy is implemented so that meta_data and cloud_config\ndefaults values are merged with instance value, with instance values\nhaving precedence when both are specified.\n\n[1] https://review.opendev.org/762578\n\nChange-Id: Id43c9ef40a67a048b3228367b3c84cc373611f7c\n""}]",3,762580,76b129be5db937b5011e2d2f19bdc2bf5691665b,58,8,9,4571,,,0,"Add config_drive support to baremetal provision YAML

This change exposes the config_drive property added to
metalsmith_instances and documented here[1]

A meta_data key 'instance-type' is always set with the role name as
the value, to provide an equivalent to nova setting this to the name
of the flavor.

A merge strategy is implemented so that meta_data and cloud_config
defaults values are merged with instance value, with instance values
having precedence when both are specified.

[1] https://review.opendev.org/762578

Change-Id: Id43c9ef40a67a048b3228367b3c84cc373611f7c
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/80/762580/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/tests/plugins/module_utils/test_baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py']",2,dce2bad656076c279d36eb1ec2e681c51800fa8a,config_drive,"_CONFIG_DRIVE_SCHEMA = { 'type': 'object', 'properties': { 'cloud_config': {'type': 'object'}, 'meta_data': {'type': 'object'}, }, 'additionalProperties': False } 'config_drive': _CONFIG_DRIVE_SCHEMA,",,24,10
openstack%2Ftripleo-validations~stable%2Fussuri~I606f650029dd4daad7dc7aac248c388130e9d503,openstack/tripleo-validations,stable/ussuri,I606f650029dd4daad7dc7aac248c388130e9d503,Add new tripleo-latest-packages-version playbook,MERGED,2021-04-08 12:57:03.000000000,2021-04-13 19:08:41.000000000,2021-04-13 19:05:50.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-08 12:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/43ca0d01a4ccfb0432dfc494d09da2dcabb8561d', 'message': 'Add new tripleo-latest-packages-version playbook\n\nThis patch adds a new TripleO specific playbook which will call the\ncheck_latest_packages_version role hosted in validations-common. This\nplaybook will test if the python3-tripleoclient package is at its latest\nversion on the Undercloud before starting an upgrade.\n\nNote1: The check-latest-packages-versions validation hosted in\nvalidations-common will be refactored to only test non TripleO packages.\n\nNote2: The documentation automation has been modified to point to the\nexternal role official documentation.\n\nDepends-on: eb21b9d24f30144ebbb6dabe1a46f23de2bc8e11\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I606f650029dd4daad7dc7aac248c388130e9d503\n(cherry picked from commit eb21b9d24f30144ebbb6dabe1a46f23de2bc8e11)\n'}, {'number': 2, 'created': '2021-04-08 13:15:55.000000000', 'files': ['playbooks/tripleo-latest-packages-version.yaml', 'doc/source/_exts/generate_validations_doc.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/812c0521ddf3a9c00289c500951c241ec0a2cbd7', 'message': 'Add new tripleo-latest-packages-version playbook\n\nThis patch adds a new TripleO specific playbook which will call the\ncheck_latest_packages_version role hosted in validations-common. This\nplaybook will test if the python3-tripleoclient package is at its latest\nversion on the Undercloud before starting an upgrade.\n\nNote1: The check-latest-packages-versions validation hosted in\nvalidations-common will be refactored to only test non TripleO packages.\n\nNote2: The documentation automation has been modified to point to the\nexternal role official documentation.\n\nDepends-on: 07c1e0f9b892be3494c99ba21a614e92c8c366bc\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I606f650029dd4daad7dc7aac248c388130e9d503\n(cherry picked from commit eb21b9d24f30144ebbb6dabe1a46f23de2bc8e11)\n'}]",0,785409,812c0521ddf3a9c00289c500951c241ec0a2cbd7,8,6,2,32926,,,0,"Add new tripleo-latest-packages-version playbook

This patch adds a new TripleO specific playbook which will call the
check_latest_packages_version role hosted in validations-common. This
playbook will test if the python3-tripleoclient package is at its latest
version on the Undercloud before starting an upgrade.

Note1: The check-latest-packages-versions validation hosted in
validations-common will be refactored to only test non TripleO packages.

Note2: The documentation automation has been modified to point to the
external role official documentation.

Depends-on: 07c1e0f9b892be3494c99ba21a614e92c8c366bc

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I606f650029dd4daad7dc7aac248c388130e9d503
(cherry picked from commit eb21b9d24f30144ebbb6dabe1a46f23de2bc8e11)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/09/785409/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/tripleo-latest-packages-version.yaml', 'doc/source/_exts/generate_validations_doc.py']",2,43ca0d01a4ccfb0432dfc494d09da2dcabb8561d,," """"""Returns metadata dictionary"""""" """"""Returns Included Role"""""" return validation['roles'][0] """"""Returns parameters"""""" """"""Creates validations documentation contents by group""""""def role_doc_entry(role_name, local_roles): """"""Generates Documentation entry If the included role isn't hosted on tripleo-validations, we point to the validations-common role documentation. Otherwise, it generates a classical local toctree. """""" local_role_doc = ("".. toctree::\n\n"" "" roles/role-{}"".format(role_name)) doc_base_url = ""https://docs.openstack.org/validations-common/latest/roles"" external_role = \ (""- `{role} <{baseurl}/role-{role}.html>`_ "" ""from `openstack/validations-common "" ""<https://opendev.org/openstack/validations-common>`_"" """".format(role=role_name, baseurl=doc_base_url)) if role_name not in local_roles: return external_role return local_role_doc def build_detail(group, validations, local_roles):{roledoc} roles=validation['roles'], roledoc=role_doc_entry(validation['roles'], local_roles)def get_local_roles(path): """"""Returns a list of local Ansible Roles"""""" return next(os.walk(path))[1] local_roles = get_local_roles(os.path.abspath('roles')) build_detail(group, validations_in_group, local_roles)"," else: return validation['roles'][0]def build_detail(group, validations):.. toctree:: roles/role-{roles} roles=validation['roles'] build_detail(group, validations_in_group)",54,9
openstack%2Ftripleo-validations~stable%2Fvictoria~I606f650029dd4daad7dc7aac248c388130e9d503,openstack/tripleo-validations,stable/victoria,I606f650029dd4daad7dc7aac248c388130e9d503,Add new tripleo-latest-packages-version playbook,MERGED,2021-04-08 12:48:26.000000000,2021-04-13 19:08:33.000000000,2021-04-13 19:05:47.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-08 12:48:26.000000000', 'files': ['playbooks/tripleo-latest-packages-version.yaml', 'doc/source/_exts/generate_validations_doc.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/66dfe5988039c38824d0aae5d96701f1d737f863', 'message': 'Add new tripleo-latest-packages-version playbook\n\nThis patch adds a new TripleO specific playbook which will call the\ncheck_latest_packages_version role hosted in validations-common. This\nplaybook will test if the python3-tripleoclient package is at its latest\nversion on the Undercloud before starting an upgrade.\n\nNote1: The check-latest-packages-versions validation hosted in\nvalidations-common will be refactored to only test non TripleO packages.\n\nNote2: The documentation automation has been modified to point to the\nexternal role official documentation.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I606f650029dd4daad7dc7aac248c388130e9d503\n(cherry picked from commit eb21b9d24f30144ebbb6dabe1a46f23de2bc8e11)\n'}]",0,785406,66dfe5988039c38824d0aae5d96701f1d737f863,7,6,1,32926,,,0,"Add new tripleo-latest-packages-version playbook

This patch adds a new TripleO specific playbook which will call the
check_latest_packages_version role hosted in validations-common. This
playbook will test if the python3-tripleoclient package is at its latest
version on the Undercloud before starting an upgrade.

Note1: The check-latest-packages-versions validation hosted in
validations-common will be refactored to only test non TripleO packages.

Note2: The documentation automation has been modified to point to the
external role official documentation.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I606f650029dd4daad7dc7aac248c388130e9d503
(cherry picked from commit eb21b9d24f30144ebbb6dabe1a46f23de2bc8e11)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/06/785406/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/tripleo-latest-packages-version.yaml', 'doc/source/_exts/generate_validations_doc.py']",2,66dfe5988039c38824d0aae5d96701f1d737f863,add_tripleo_latest_package," """"""Returns metadata dictionary"""""" """"""Returns Included Role"""""" return validation['roles'][0] """"""Returns parameters"""""" """"""Creates validations documentation contents by group""""""def role_doc_entry(role_name, local_roles): """"""Generates Documentation entry If the included role isn't hosted on tripleo-validations, we point to the validations-common role documentation. Otherwise, it generates a classical local toctree. """""" local_role_doc = ("".. toctree::\n\n"" "" roles/role-{}"".format(role_name)) doc_base_url = ""https://docs.openstack.org/validations-common/latest/roles"" external_role = \ (""- `{role} <{baseurl}/role-{role}.html>`_ "" ""from `openstack/validations-common "" ""<https://opendev.org/openstack/validations-common>`_"" """".format(role=role_name, baseurl=doc_base_url)) if role_name not in local_roles: return external_role return local_role_doc def build_detail(group, validations, local_roles):{roledoc} roles=validation['roles'], roledoc=role_doc_entry(validation['roles'], local_roles)def get_local_roles(path): """"""Returns a list of local Ansible Roles"""""" return next(os.walk(path))[1] local_roles = get_local_roles(os.path.abspath('roles')) build_detail(group, validations_in_group, local_roles)"," else: return validation['roles'][0]def build_detail(group, validations):.. toctree:: roles/role-{roles} roles=validation['roles'] build_detail(group, validations_in_group)",54,9
openstack%2Fpython-tripleoclient~master~I18220825dbf5e793809c51c075be27cfe23deb39,openstack/python-tripleoclient,master,I18220825dbf5e793809c51c075be27cfe23deb39,Remove deploy_args for podman.yaml as its default,MERGED,2021-04-12 08:10:24.000000000,2021-04-13 19:08:31.000000000,2021-04-13 19:05:02.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-12 08:10:24.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/v1/minion_config.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py', 'tripleoclient/tests/v1/undercloud/minion/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a05d2f59d44bf31869131eefe41e6c33efc530c1', 'message': 'Remove deploy_args for podman.yaml as its default\n\nRemoving deploy_args += podman.yaml from undercloud_config.py\nand minion_config.py as its default now in tht[1].\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/overcloud-resource-registry-puppet.j2.yaml#L303-L304\n\nChange-Id: I18220825dbf5e793809c51c075be27cfe23deb39\n'}]",0,785828,a05d2f59d44bf31869131eefe41e6c33efc530c1,9,6,1,29775,,,0,"Remove deploy_args for podman.yaml as its default

Removing deploy_args += podman.yaml from undercloud_config.py
and minion_config.py as its default now in tht[1].

[1] https://github.com/openstack/tripleo-heat-templates/blob/master/overcloud-resource-registry-puppet.j2.yaml#L303-L304

Change-Id: I18220825dbf5e793809c51c075be27cfe23deb39
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/28/785828/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/v1/minion_config.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py', 'tripleoclient/tests/v1/undercloud/minion/test_config.py']",4,a05d2f59d44bf31869131eefe41e6c33efc530c1,,," 'environments/podman.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/' '-e', '/foo/environments/podman.yaml',",10,35
openstack%2Fkayobe~stable%2Ftrain~I215f927d8249aadd9cc7bb44893e0bdf5f26510a,openstack/kayobe,stable/train,I215f927d8249aadd9cc7bb44893e0bdf5f26510a,Fix help texts of inventory options,MERGED,2021-04-13 05:10:46.000000000,2021-04-13 19:07:25.000000000,2021-04-13 19:04:14.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-04-13 05:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/06e99a4764f3a78efbbe17f74ee4e5c3bccea933', 'message': 'Fix help texts of inventory options\n\nPassing the Kayobe or Kolla Ansible inventories as comma-separated host\nlist was never supported since we check that inventory directories\nexist.\n\nAlso fix the check for the Kolla Ansible inventory directory, which was\nusing the wrong variable (parsed_args.kolla_venv).\n\nChange-Id: I215f927d8249aadd9cc7bb44893e0bdf5f26510a\n(cherry picked from commit e0b180e13543682b0196c96e39f103cbbae697dc)\n'}, {'number': 2, 'created': '2021-04-13 06:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/85da107bac1ffe86666fdf6c73bad1438fbd5f38', 'message': 'Fix help texts of inventory options\n\nPassing the Kayobe or Kolla Ansible inventories as comma-separated host\nlist was never supported since we check that inventory directories\nexist.\n\nAlso fix the check for the Kolla Ansible inventory directory, which was\nusing the wrong variable (parsed_args.kolla_venv).\n\nChange-Id: I215f927d8249aadd9cc7bb44893e0bdf5f26510a\n(cherry picked from commit e0b180e13543682b0196c96e39f103cbbae697dc)\n'}, {'number': 3, 'created': '2021-04-13 06:03:49.000000000', 'files': ['kayobe/kolla_ansible.py', 'kayobe/ansible.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/67103fb5d7e2aeba056c71ef20131c87d47de19e', 'message': 'Fix help texts of inventory options\n\nPassing the Kayobe or Kolla Ansible inventories as comma-separated host\nlist was never supported since we check that inventory directories\nexist.\n\nAlso fix the check for the Kolla Ansible inventory directory, which was\nusing the wrong variable (parsed_args.kolla_venv).\n\nChange-Id: I215f927d8249aadd9cc7bb44893e0bdf5f26510a\n(cherry picked from commit e0b180e13543682b0196c96e39f103cbbae697dc)\n'}]",0,785924,67103fb5d7e2aeba056c71ef20131c87d47de19e,11,3,3,15197,,,0,"Fix help texts of inventory options

Passing the Kayobe or Kolla Ansible inventories as comma-separated host
list was never supported since we check that inventory directories
exist.

Also fix the check for the Kolla Ansible inventory directory, which was
using the wrong variable (parsed_args.kolla_venv).

Change-Id: I215f927d8249aadd9cc7bb44893e0bdf5f26510a
(cherry picked from commit e0b180e13543682b0196c96e39f103cbbae697dc)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/24/785924/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/kolla_ansible.py', 'kayobe/ansible.py']",2,06e99a4764f3a78efbbe17f74ee4e5c3bccea933,remove-inventory-host-list-stable/train," ""(default=$%s/inventory or %s/inventory) "" %"," ""(default=$%s/inventory or %s/inventory) or "" ""comma-separated host list"" %",4,5
openstack%2Fpuppet-oslo~master~Ib1705f8bc3b3f6894e452f770422460550d06b55,openstack/puppet-oslo,master,Ib1705f8bc3b3f6894e452f770422460550d06b55,Bump dependency in metadata.json,MERGED,2021-04-08 19:05:51.000000000,2021-04-13 19:07:04.000000000,2021-04-13 19:07:04.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:05:51.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/4f1e44d781d858d83c7fbe2db2c058f72e84be60', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: Ib1705f8bc3b3f6894e452f770422460550d06b55\n'}]",0,785483,4f1e44d781d858d83c7fbe2db2c058f72e84be60,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: Ib1705f8bc3b3f6894e452f770422460550d06b55
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/83/785483/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,4f1e44d781d858d83c7fbe2db2c058f72e84be60,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Ftripleo-heat-templates~master~I0a740e86588c96fff24fa09698c35e492d1c64db,openstack/tripleo-heat-templates,master,I0a740e86588c96fff24fa09698c35e492d1c64db,Ensure ansible_fqdn is set,MERGED,2021-04-12 15:50:51.000000000,2021-04-13 19:06:20.000000000,2021-04-13 19:06:20.000000000,"[{'_account_id': 6926}, {'_account_id': 7414}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-12 15:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d7ca175ea3b14aebc250702dabff38d92e12b8c4', 'message': ""Ensure ansible_fqdn is set\n\nThe ipaclient ansible role requires that ansible_fqdn is defined but\ndue to [1] we don't have ansible_fqdn inside of ansible_facts.  This\nuses the 'fqdn' ansible fact for ansible_fqdn which is equivalent.\n\n[1]: https://opendev.org/openstack/tripleo-heat-templates/commit/4e79336d69e\n6b7fa4b026922bac7953bafeee96d\n\nRelated-Bug: 1915761\nCloses-Bug: 1923248\nChange-Id: I0a740e86588c96fff24fa09698c35e492d1c64db\n""}, {'number': 2, 'created': '2021-04-12 15:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9841fb0d6444d0a7391f179a5926fcc59ea44295', 'message': ""Ensure ansible_fqdn is set\n\nThe ipaclient ansible role requires that ansible_fqdn is defined but\ndue to [1] we don't have ansible_fqdn inside of ansible_facts.  This\nuses the 'fqdn' ansible fact for ansible_fqdn which is equivalent.\n\n[1]: https://opendev.org/openstack/tripleo-heat-templates/commit/4e79336d69e\n6b7fa4b026922bac7953bafeee96d\n\nRelated-Bug: 1915761\nCloses-Bug: 1923248\nChange-Id: I0a740e86588c96fff24fa09698c35e492d1c64db\n""}, {'number': 3, 'created': '2021-04-12 17:35:57.000000000', 'files': ['deployment/ipa/ipaservices-baremetal-ansible.yaml', 'deployment/tls/undercloud-tls.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/30ef4e5729819e46d4284c0ce948934a5c904a4a', 'message': ""Ensure ansible_fqdn is set\n\nThe ipaclient ansible role requires that ansible_fqdn is defined but\ndue to [1] we don't have ansible_fqdn inside of ansible_facts.  This\nuses the 'fqdn' ansible fact for ansible_fqdn which is equivalent.\n\n[1]: https://opendev.org/openstack/tripleo-heat-templates/commit/4e79336d69e\n6b7fa4b026922bac7953bafeee96d\n\nRelated-Bug: 1915761\nCloses-Bug: 1923248\nChange-Id: I0a740e86588c96fff24fa09698c35e492d1c64db\n""}]",0,785909,30ef4e5729819e46d4284c0ce948934a5c904a4a,11,5,3,7414,,,0,"Ensure ansible_fqdn is set

The ipaclient ansible role requires that ansible_fqdn is defined but
due to [1] we don't have ansible_fqdn inside of ansible_facts.  This
uses the 'fqdn' ansible fact for ansible_fqdn which is equivalent.

[1]: https://opendev.org/openstack/tripleo-heat-templates/commit/4e79336d69e
6b7fa4b026922bac7953bafeee96d

Related-Bug: 1915761
Closes-Bug: 1923248
Change-Id: I0a740e86588c96fff24fa09698c35e492d1c64db
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/09/785909/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tls/undercloud-tls.yaml'],1,d7ca175ea3b14aebc250702dabff38d92e12b8c4,bug/1923248," - name: Ensure ansible_fqdn is defined set_fact: ansible_fqdn: ""{{ ansible_facts['fqdn'] }}""",,3,0
openstack%2Fkayobe~stable%2Ftrain~I1b86c5f58d0c3b63269766eaa8e76af18b5fadb1,openstack/kayobe,stable/train,I1b86c5f58d0c3b63269766eaa8e76af18b5fadb1,Fix installation errors with Python 2,MERGED,2021-04-09 11:29:36.000000000,2021-04-13 19:00:59.000000000,2021-04-13 18:59:40.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-04-09 11:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d8152517838f1ea864595c3d655c5f0c45a6ad25', 'message': '[DNM] Debug train jobs\n\nChange-Id: I1b86c5f58d0c3b63269766eaa8e76af18b5fadb1\n'}, {'number': 2, 'created': '2021-04-09 12:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2bef90c3913b083acae4807ac06bbb0d561ea3ea', 'message': '[DNM] Debug train jobs\n\nChange-Id: I1b86c5f58d0c3b63269766eaa8e76af18b5fadb1\n'}, {'number': 3, 'created': '2021-04-09 13:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1d570541f9bbbd4a0e93c7da3930b83d069f81c2', 'message': ""Fix installation errors with Python 2\n\nPython 2 jobs recently started failing frequently with the following\nerror:\n\n    distutils.errors.DistutilsError: Could not find suitable distribution for Requirement.parse('pbr>=2.0')\n\nThe root cause appears to be that indirect requirements are handled by\neasy_install which doesn't like some index servers. A suggested\nworkaround is to install pbr directly with pip first [1].\n\n[1] https://github.com/googleapis/google-cloud-python/issues/3757#issuecomment-422384453\n\nChange-Id: I1b86c5f58d0c3b63269766eaa8e76af18b5fadb1\n""}, {'number': 4, 'created': '2021-04-12 07:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1e011fe36c798cb62d206758af6e5bd7b3a527d0', 'message': ""Fix installation errors with Python 2\n\npython 2 jobs recently started failing frequently with the following\nerror:\n\n    distutils.errors.DistutilsError: Could not find suitable distribution for Requirement.parse('pbr>=2.0')\n\nThe root cause appears to be that indirect requirements are handled by\neasy_install which doesn't like some index servers [1]. Try updating\nsetuptools first.\n\nDisable IPA builds on CentOS 7 which are failing due to the same issue\nand would require a fix inside DIB itself.\n\n[1] https://github.com/googleapis/google-cloud-python/issues/3757#issuecomment-422384453\n\nChange-Id: I1b86c5f58d0c3b63269766eaa8e76af18b5fadb1\n""}, {'number': 5, 'created': '2021-04-12 13:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/34b14a09d05000c74c8373fd8500cd912c578b89', 'message': ""Fix installation errors with Python 2\n\npython 2 jobs recently started failing frequently with the following\nerror:\n\n    distutils.errors.DistutilsError: Could not find suitable distribution for Requirement.parse('pbr>=2.0')\n\nThe root cause appears to be that indirect requirements are handled by\neasy_install which doesn't like some index servers [1]. Install the\nlatest setuptools first to work around the issue.\n\nDisable IPA builds on CentOS 7 which are failing due to the same issue\nand would require a fix inside DIB itself.\n\n[1] https://github.com/googleapis/google-cloud-python/issues/3757#issuecomment-422384453\n\nChange-Id: I1b86c5f58d0c3b63269766eaa8e76af18b5fadb1\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/785869\n""}, {'number': 6, 'created': '2021-04-12 13:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0f706d3bcb6eaef316f7a6a34ea6676c3bda3326', 'message': ""Fix installation errors with Python 2\n\nPython 2 jobs recently started failing frequently with the following\nerror:\n\n    distutils.errors.DistutilsError: Could not find suitable distribution for Requirement.parse('pbr>=2.0')\n\nThe root cause appears to be that indirect requirements are handled by\neasy_install which doesn't like some index servers [1]. Install the\nlatest setuptools first to work around the issue.\n\nDisable IPA builds on CentOS 7 which are failing due to the same issue\nand would require a fix inside DIB itself.\n\n[1] https://github.com/googleapis/google-cloud-python/issues/3757#issuecomment-422384453\n\nChange-Id: I1b86c5f58d0c3b63269766eaa8e76af18b5fadb1\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/785869\n""}, {'number': 7, 'created': '2021-04-12 19:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1ca107c82daba734b5e0cb8e682f8341f29ae139', 'message': ""Fix installation errors with Python 2\n\nPython 2 jobs recently started failing frequently with the following\nerror:\n\n    distutils.errors.DistutilsError: Could not find suitable distribution for Requirement.parse('pbr>=2.0')\n\nThe root cause appears to be that indirect requirements are handled by\neasy_install which doesn't like some index servers [1]. Install the\nlatest setuptools first to work around the issue.\n\nDisable IPA builds on CentOS 7 which are failing due to the same issue\nand would require a fix inside DIB itself.\n\n[1] https://github.com/googleapis/google-cloud-python/issues/3757#issuecomment-422384453\n\nChange-Id: I1b86c5f58d0c3b63269766eaa8e76af18b5fadb1\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/785869\n""}, {'number': 8, 'created': '2021-04-13 06:03:33.000000000', 'files': ['ansible/roles/kolla/tasks/install.yml', 'dev/functions', 'ansible/roles/kolla-ansible/tasks/install.yml', 'playbooks/kayobe-seed-base/overrides.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/020e9329b5c4befb5ce6d342042f82001ffc2f24', 'message': ""Fix installation errors with Python 2\n\nPython 2 jobs recently started failing frequently with the following\nerror:\n\n    distutils.errors.DistutilsError: Could not find suitable distribution for Requirement.parse('pbr>=2.0')\n\nThe root cause appears to be that indirect requirements are handled by\neasy_install which doesn't like some index servers [1]. Install the\nlatest setuptools first to work around the issue.\n\nDisable IPA builds on CentOS 7 which are failing due to the same issue\nand would require a fix inside DIB itself.\n\n[1] https://github.com/googleapis/google-cloud-python/issues/3757#issuecomment-422384453\n\nChange-Id: I1b86c5f58d0c3b63269766eaa8e76af18b5fadb1\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/785869\n""}]",2,785624,020e9329b5c4befb5ce6d342042f82001ffc2f24,31,5,8,15197,,,0,"Fix installation errors with Python 2

Python 2 jobs recently started failing frequently with the following
error:

    distutils.errors.DistutilsError: Could not find suitable distribution for Requirement.parse('pbr>=2.0')

The root cause appears to be that indirect requirements are handled by
easy_install which doesn't like some index servers [1]. Install the
latest setuptools first to work around the issue.

Disable IPA builds on CentOS 7 which are failing due to the same issue
and would require a fix inside DIB itself.

[1] https://github.com/googleapis/google-cloud-python/issues/3757#issuecomment-422384453

Change-Id: I1b86c5f58d0c3b63269766eaa8e76af18b5fadb1
Depends-On: https://review.opendev.org/c/openstack/kayobe/+/785869
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/24/785624/2 && git format-patch -1 --stdout FETCH_HEAD,"['dev/functions', 'zuul.d/project.yaml']",2,d8152517838f1ea864595c3d655c5f0c45a6ad25,pbr-fix-stable/train, templates: [], templates: - openstack-cover-jobs - openstack-python35-jobs - openstack-python36-jobs - openstack-python-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - kayobe-tox-ansible-syntax - kayobe-tox-ansible - kayobe-tox-molecule - kayobe-overcloud-centos8 - kayobe-overcloud-host-configure-centos7 - kayobe-overcloud-host-configure-centos8 - kayobe-overcloud-upgrade-centos7 - kayobe-seed-centos7 - kayobe-seed-centos8 - kayobe-seed-upgrade-centos7,2,17
openstack%2Fblazar~master~I895e9a54948ff5fd4dbfdad71c64631d71ef98fb,openstack/blazar,master,I895e9a54948ff5fd4dbfdad71c64631d71ef98fb,Stop using trusts to get context for notifications,NEW,2019-03-05 18:34:10.000000000,2021-04-13 18:48:47.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 29100}]","[{'number': 1, 'created': '2019-03-05 18:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/07ecd82f8e9598249144ce151f33eace388f128f', 'message': 'Stop using trusts to get context for notifications\n\nBlazar retrieves a context object from the trust recorded when a lease\nwas created and sends it as part of notification messages. However, if\nthe user who created the lease is deactivated or is not a member of the\nproject anymore, operations modifying the lease and lease events fail to\nexecute with an AuthorizationFailure exception.\n\nThis is because the trust object is not valid anymore due to the change\nof permissions for the trustor.\n\nThis patch removes the context from all notification messages and stops\nusing trusts except for the initial lease creation. This allows project\nmembers and OpenStack admins to manage the lease after the creator user\nis disabled or has been removed from the project, as well as lease\nevents to run properly.\n\nChange-Id: I895e9a54948ff5fd4dbfdad71c64631d71ef98fb\nCloses-Bug: #1712381\n'}, {'number': 2, 'created': '2019-03-05 21:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/89e01a51c82b3692eeffab2bbcf5f3b51dbbea9b', 'message': 'Stop using trusts to get context for notifications\n\nBlazar retrieves a context object from the trust recorded when a lease\nwas created and sends it as part of notification messages. However, if\nthe user who created the lease is deactivated or is not a member of the\nproject anymore, operations modifying the lease and lease events fail to\nexecute with an AuthorizationFailure exception.\n\nThis is because the trust object is not valid anymore due to the change\nof permissions for the trustor.\n\nThis patch removes the context from all notification messages and stops\nusing trusts except for the initial lease creation. This allows project\nmembers and OpenStack admins to manage the lease after the creator user\nis disabled or has been removed from the project, as well as lease\nevents to run properly.\n\nChange-Id: I895e9a54948ff5fd4dbfdad71c64631d71ef98fb\nCloses-Bug: #1712381\nDepends-On: https://review.openstack.org/#/c/641036/\n'}, {'number': 3, 'created': '2019-03-06 08:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/55667d5eef983d1173ced5d5d9f80789632e39e3', 'message': 'Stop using trusts to get context for notifications\n\nBlazar retrieves a context object from the trust recorded when a lease\nwas created and sends it as part of notification messages. However, if\nthe user who created the lease is deactivated or is not a member of the\nproject anymore, operations modifying the lease and lease events fail to\nexecute with an AuthorizationFailure exception.\n\nThis is because the trust object is not valid anymore due to the change\nof permissions for the trustor.\n\nThis patch removes the context from all notification messages and stops\nusing trusts except for the initial lease creation. This allows project\nmembers and OpenStack admins to manage the lease after the creator user\nis disabled or has been removed from the project, as well as lease\nevents to run properly.\n\nChange-Id: I895e9a54948ff5fd4dbfdad71c64631d71ef98fb\nCloses-Bug: #1712381\n'}, {'number': 4, 'created': '2019-03-08 17:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/365da9429fbbabe4f0e65059e1b156830010792b', 'message': 'Stop using trusts to get context for notifications\n\nBlazar retrieves a context object from the trust recorded when a lease\nwas created and sends it as part of notification messages. However, if\nthe user who created the lease is deactivated or is not a member of the\nproject anymore, operations modifying the lease and lease events fail to\nexecute with an AuthorizationFailure exception.\n\nThis is because the trust object is not valid anymore due to the change\nof permissions for the trustor.\n\nThis patch removes the context from all notification messages and stops\nusing trusts except for the initial lease creation. This allows project\nmembers and OpenStack admins to manage the lease after the creator user\nis disabled or has been removed from the project, as well as lease\nevents to run properly.\n\nChange-Id: I895e9a54948ff5fd4dbfdad71c64631d71ef98fb\nCloses-Bug: #1712381\n'}, {'number': 5, 'created': '2019-03-08 18:39:22.000000000', 'files': ['blazar/plugins/oshosts/host_plugin.py', 'releasenotes/notes/stop-using-trusts-to-get-context-acf1e8f0c93698f0.yaml', 'blazar/manager/service.py', 'blazar/tests/manager/test_service.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/957393cb61db6090825af222ca8a685852e138f0', 'message': 'Stop using trusts to get context for notifications\n\nBlazar retrieves a context object from the trust recorded when a lease\nwas created and sends it as part of notification messages. However, if\nthe user who created the lease is deactivated or is not a member of the\nproject anymore, operations modifying the lease and lease events fail to\nexecute with an AuthorizationFailure exception.\n\nThis is because the trust object is not valid anymore due to the change\nof permissions for the trustor.\n\nThis patch removes the context from all notification messages and stops\nusing trusts except for the initial lease creation. This allows project\nmembers and OpenStack admins to manage the lease after the creator user\nis disabled or has been removed from the project, as well as lease\nevents to run properly.\n\nChange-Id: I895e9a54948ff5fd4dbfdad71c64631d71ef98fb\nCloses-Bug: #1712381\n'}]",0,641103,957393cb61db6090825af222ca8a685852e138f0,16,4,5,15197,,,0,"Stop using trusts to get context for notifications

Blazar retrieves a context object from the trust recorded when a lease
was created and sends it as part of notification messages. However, if
the user who created the lease is deactivated or is not a member of the
project anymore, operations modifying the lease and lease events fail to
execute with an AuthorizationFailure exception.

This is because the trust object is not valid anymore due to the change
of permissions for the trustor.

This patch removes the context from all notification messages and stops
using trusts except for the initial lease creation. This allows project
members and OpenStack admins to manage the lease after the creator user
is disabled or has been removed from the project, as well as lease
events to run properly.

Change-Id: I895e9a54948ff5fd4dbfdad71c64631d71ef98fb
Closes-Bug: #1712381
",git fetch https://review.opendev.org/openstack/blazar refs/changes/03/641103/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/plugins/oshosts/host_plugin.py', 'releasenotes/notes/stop-using-trusts-to-get-context-acf1e8f0c93698f0.yaml', 'blazar/manager/service.py', 'blazar/tests/manager/test_service.py']",4,07ecd82f8e9598249144ce151f33eace388f128f,bug/1712381," {}, notifier_api.format_lease_payload(self.lease), {}, notifier_api.format_lease_payload(lease), calls = [mock.call({}, notifier_api.format_lease_payload(self.lease), mock.call({}, notifier_api.format_lease_payload(self.lease), calls = [mock.call({}, notifier_api.format_lease_payload(self.lease), mock.call({}, notifier_api.format_lease_payload(self.lease), {}, self.notifier_api.format_lease_payload(self.lease),"," expected_context = self.trust_ctx.return_value expected_context.__enter__.return_value, notifier_api.format_lease_payload(self.lease), expected_context = self.trust_ctx.return_value expected_context.__enter__.return_value, notifier_api.format_lease_payload(lease), expected_context = self.trust_ctx.return_value calls = [mock.call(expected_context.__enter__.return_value, notifier_api.format_lease_payload(self.lease), mock.call(expected_context.__enter__.return_value, notifier_api.format_lease_payload(self.lease), expected_context = self.trust_ctx.return_value calls = [mock.call(expected_context.__enter__.return_value, notifier_api.format_lease_payload(self.lease), mock.call(expected_context.__enter__.return_value, notifier_api.format_lease_payload(self.lease), self.trust_ctx.assert_called_once_with(self.lease['trust_id']) expected_context = self.trust_ctx.return_value expected_context.__enter__.return_value, self.notifier_api.format_lease_payload(self.lease), self.trust_ctx.assert_called_once_with(self.lease['trust_id']) self.trust_ctx.assert_called_once_with(self.lease['trust_id'])",150,167
openstack%2Fcharm-nova-cloud-controller~master~I05a86eec399cf3ea91914e0ea79c6de6e93ad61d,openstack/charm-nova-cloud-controller,master,I05a86eec399cf3ea91914e0ea79c6de6e93ad61d,Support for ACI monkey patching,ABANDONED,2019-09-17 11:47:04.000000000,2021-04-13 18:47:27.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 11:47:04.000000000', 'files': ['templates/ocata/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py', 'hooks/nova_cc_utils.py', 'hooks/nova_cc_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/f85c7beba4caa39167f0b87dffac98a8126475fd', 'message': 'Support for ACI monkey patching\n\nIn order for Nova to enable SR-IOV NIC selection when scheduling\ninstances, the charm needs to install an APT package and configure an\noption in the nova.conf file.\n\nChange-Id: I05a86eec399cf3ea91914e0ea79c6de6e93ad61d\nCloses-Bug: 1844312\n'}]",0,682624,f85c7beba4caa39167f0b87dffac98a8126475fd,4,2,1,24890,,,0,"Support for ACI monkey patching

In order for Nova to enable SR-IOV NIC selection when scheduling
instances, the charm needs to install an APT package and configure an
option in the nova.conf file.

Change-Id: I05a86eec399cf3ea91914e0ea79c6de6e93ad61d
Closes-Bug: 1844312
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/24/682624/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ocata/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py', 'hooks/nova_cc_utils.py', 'hooks/nova_cc_hooks.py']",5,f85c7beba4caa39167f0b87dffac98a8126475fd,aci-plugin, ncc_utils.cisco_enable_sriov_nic_selection() ncc_utils.cisco_enable_sriov_nic_selection() ncc_utils.cisco_enable_sriov_nic_selection() ,,52,0
openstack%2Ftripleo-heat-templates~master~Ib89bcafe9f65431aee5756a32b2a82adc3d384dc,openstack/tripleo-heat-templates,master,Ib89bcafe9f65431aee5756a32b2a82adc3d384dc,Generate bind pool and bind configuration using deployment info,MERGED,2021-01-18 20:24:37.000000000,2021-04-13 18:37:00.000000000,2021-04-13 18:37:00.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-18 20:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a7cfee4fd1e4f0ac4216de5aaf55178e4cbe621', 'message': 'Auto generated bind pool and remove unnecessary config files\n\nThe pool information is now automatically generated and the variables\nand sample config files are no longer needed.\n\nDepends-On: Ib121888061b8bfcc4155528a8a209c7e274fafcb\nChange-Id: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\n'}, {'number': 2, 'created': '2021-02-02 00:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/258e3e0b9099641c1efb331953cbdf03cd464eaf', 'message': 'Auto generated bind pool and remove unnecessary config files\n\nThe pool information is now automatically generated and the variables\nand sample config files are no longer needed.\n\nDepends-On: Ib121888061b8bfcc4155528a8a209c7e274fafcb\nChange-Id: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\n'}, {'number': 3, 'created': '2021-02-02 00:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5138765adf50e8a3b115b6b82bdd501f9aa53d04', 'message': 'Auto generated bind pool and remove unnecessary config files\n\nThe pool information is now automatically generated and the variables\nand sample config files are no longer needed.\n\nDepends-On: Ib121888061b8bfcc4155528a8a209c7e274fafcb\nChange-Id: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\n'}, {'number': 4, 'created': '2021-02-10 14:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4647bdc0ffe781a91d234b4ed257a30abbba3e1f', 'message': 'Auto generated bind pool and remove unnecessary config files\n\nThe pool information is now automatically generated and the variables\nand sample config files are no longer needed.\n\nDepends-On: Ib121888061b8bfcc4155528a8a209c7e274fafcb\nChange-Id: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\n'}, {'number': 5, 'created': '2021-02-16 00:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f7c436537642d83ac4f467c663184852742bd2e6', 'message': 'Auto generated bind pool and remove unnecessary config files\n\nThe pool information is now automatically generated and the variables\nand sample config files are no longer needed.\n\nDepends-On: Ib121888061b8bfcc4155528a8a209c7e274fafcb\nChange-Id: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\n'}, {'number': 6, 'created': '2021-02-22 23:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5e861f6cbcbf265269b9eb8080f978659e3f4031', 'message': 'Auto generated bind pool and remove unnecessary config files\n\nThe pool information is now automatically generated and the variables\nand sample config files are no longer needed.\n\nDepends-On: Ib121888061b8bfcc4155528a8a209c7e274fafcb\nChange-Id: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\n'}, {'number': 7, 'created': '2021-03-03 14:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/211a7eaf059ff377b05f3dba819112b9f12c52f9', 'message': 'Auto generated bind pool and remove unnecessary config files\n\nThe pool information is now automatically generated and the variables\nand sample config files are no longer needed.\n\nDepends-On: Ib121888061b8bfcc4155528a8a209c7e274fafcb\nChange-Id: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\n'}, {'number': 8, 'created': '2021-03-03 17:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64965c71fdbf6cdca16b068239f9d5d2238cfde8', 'message': 'Auto generated bind pool and remove unnecessary config files\n\nThe pool information is now automatically generated and the variables\nand sample config files are no longer needed.\n\nDepends-On: Ia42c29d5b082120f5a984cffd97325faf387ca8b\nDepends-On: Ib121888061b8bfcc4155528a8a209c7e274fafcb\nChange-Id: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\n'}, {'number': 9, 'created': '2021-03-04 14:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f68f2d11792d60e689814dacfbe3cb2afacafaf', 'message': ""Generate bind pool and bind configuration using deployment info\n\nThe bind pool information is now automatically generated and the\nvariables and sample config files are no longer needed. Matching bind9\nand rndc key configuration is also generated.\n\nNote: this patch also removes the use of puppet-dns which is problematic\nwhen bind and the worker aren't on the same host and is awkward to use\nwith respect to rndc keys.\n\nDepends-On: Ia42c29d5b082120f5a984cffd97325faf387ca8b\nDepends-On: Ib121888061b8bfcc4155528a8a209c7e274fafcb\nDepends-On: I3383c19f80e70553ae71e644a01dda0f250d19da\nDepends-On: I006a31894f4ef9a2cb454a804c1bcb2c5e72b6b9\nDepends-On: I1b6674acbd6f999474cd66cb44357cf6b756a7d0\nDepends-On: I3e94e3846fb97f0a0a5d25b2f5a1ef02e88a84b2\n\nChange-Id: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\n""}, {'number': 10, 'created': '2021-03-04 14:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c5924504e817813d34efa26ed9bae33a5a12b89', 'message': ""Generate bind pool and bind configuration using deployment info\n\nThe bind pool information is now automatically generated and the\nvariables and sample config files are no longer needed. Matching bind9\nand rndc key configuration is also generated.\n\nNote: this patch also removes the use of puppet-dns which is problematic\nwhen bind and the worker aren't on the same host and is awkward to use\nwith respect to rndc keys.\n\nDepends-On: Ia42c29d5b082120f5a984cffd97325faf387ca8b\nDepends-On: Ib121888061b8bfcc4155528a8a209c7e274fafcb\nDepends-On: I3383c19f80e70553ae71e644a01dda0f250d19da\nDepends-On: I006a31894f4ef9a2cb454a804c1bcb2c5e72b6b9\nDepends-On: I1b6674acbd6f999474cd66cb44357cf6b756a7d0\n\nChange-Id: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\n""}, {'number': 11, 'created': '2021-03-04 17:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/094aabe3dcee443991a082c2aa8be786032273c8', 'message': ""Generate bind pool and bind configuration using deployment info\n\nThe bind pool information is now automatically generated and the\nvariables and sample config files are no longer needed. Matching bind9\nand rndc key configuration is also generated.\n\nNote: this patch also removes the use of puppet-dns which is problematic\nwhen bind and the worker aren't on the same host and is awkward to use\nwith respect to rndc keys.\n\nDepends-On: Ia42c29d5b082120f5a984cffd97325faf387ca8b\nDepends-On: Ib121888061b8bfcc4155528a8a209c7e274fafcb\nDepends-On: I3383c19f80e70553ae71e644a01dda0f250d19da\nDepends-On: I006a31894f4ef9a2cb454a804c1bcb2c5e72b6b9\nDepends-On: I1b6674acbd6f999474cd66cb44357cf6b756a7d0\n\nChange-Id: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\n""}, {'number': 12, 'created': '2021-03-04 19:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae33f4c05f6be613feda3300b34c94d1eba9cf5d', 'message': ""Generate bind pool and bind configuration using deployment info\n\nThe bind pool information is now automatically generated and the\nvariables and sample config files are no longer needed. Matching bind9\nand rndc key configuration is also generated.\n\nNote: this patch also removes the use of puppet-dns which is problematic\nwhen bind and the worker aren't on the same host and is awkward to use\nwith respect to rndc keys. It also modifies yaml-validate.py to correct\na rule changed with respect rndc_allowed_addresses.\n\nDepends-On: Ia42c29d5b082120f5a984cffd97325faf387ca8b\nDepends-On: Ib121888061b8bfcc4155528a8a209c7e274fafcb\nDepends-On: I3383c19f80e70553ae71e644a01dda0f250d19da\nDepends-On: I006a31894f4ef9a2cb454a804c1bcb2c5e72b6b9\nDepends-On: I1b6674acbd6f999474cd66cb44357cf6b756a7d0\n\nChange-Id: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\n""}, {'number': 13, 'created': '2021-03-04 19:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af57950c44bcc644fc10084138e1db0e7843cf79', 'message': ""Generate bind pool and bind configuration using deployment info\n\nThe bind pool information is now automatically generated and the\nvariables and sample config files are no longer needed. Matching bind9\nand rndc key configuration is also generated.\n\nNote: this patch also removes the use of puppet-dns which is problematic\nwhen bind and the worker aren't on the same host and is awkward to use\nwith respect to rndc keys. It also modifies yaml-validate.py to correct\na rule changed with respect rndc_allowed_addresses.\n\nDepends-On: Ia42c29d5b082120f5a984cffd97325faf387ca8b\nDepends-On: Ib121888061b8bfcc4155528a8a209c7e274fafcb\nDepends-On: I3383c19f80e70553ae71e644a01dda0f250d19da\nDepends-On: I1b6674acbd6f999474cd66cb44357cf6b756a7d0\n\nChange-Id: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\n""}, {'number': 14, 'created': '2021-03-05 18:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1c5e5a191e1fe5036b3c984f1dd16229f7b2e167', 'message': ""Generate bind pool and bind configuration using deployment info\n\nThe bind pool information is now automatically generated and the\nvariables and sample config files are no longer needed. Matching bind9\nand rndc key configuration is also generated.\n\nNote: this patch also removes the use of puppet-dns which is problematic\nwhen bind and the worker aren't on the same host and is awkward to use\nwith respect to rndc keys. It also modifies yaml-validate.py to correct\na rule changed with respect rndc_allowed_addresses.\n\nDepends-On: Ia42c29d5b082120f5a984cffd97325faf387ca8b\nDepends-On: Ib121888061b8bfcc4155528a8a209c7e274fafcb\nDepends-On: I3383c19f80e70553ae71e644a01dda0f250d19da\nDepends-On: I1b6674acbd6f999474cd66cb44357cf6b756a7d0\n\nChange-Id: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\n""}, {'number': 15, 'created': '2021-03-10 22:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/02246af1db191149dee1b0fb94b5f2ebca457e4d', 'message': ""Generate bind pool and bind configuration using deployment info\n\nThe bind pool information is now automatically generated and the\nvariables and sample config files are no longer needed. Matching bind9\nand rndc key configuration is also generated.\n\nNote: this patch also removes the use of puppet-dns which is problematic\nwhen bind and the worker aren't on the same host and is awkward to use\nwith respect to rndc keys. It also modifies yaml-validate.py to correct\na rule changed with respect rndc_allowed_addresses.\n\nDepends-On: Ia42c29d5b082120f5a984cffd97325faf387ca8b\nDepends-On: Ib121888061b8bfcc4155528a8a209c7e274fafcb\nDepends-On: I3383c19f80e70553ae71e644a01dda0f250d19da\nDepends-On: I1b6674acbd6f999474cd66cb44357cf6b756a7d0\n\nChange-Id: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\n""}, {'number': 16, 'created': '2021-03-10 22:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9cccac503cc59478d37f97906abbbcbea258812d', 'message': ""Generate bind pool and bind configuration using deployment info\n\nThe bind pool information is now automatically generated and the\nvariables and sample config files are no longer needed. Matching bind9\nand rndc key configuration is also generated.\n\nNote: this patch also removes the use of puppet-dns which is problematic\nwhen bind and the worker aren't on the same host and is awkward to use\nwith respect to rndc keys. It also modifies yaml-validate.py to correct\na rule changed with respect rndc_allowed_addresses.\n\nDepends-On: Ia42c29d5b082120f5a984cffd97325faf387ca8b\nDepends-On: Ib121888061b8bfcc4155528a8a209c7e274fafcb\nDepends-On: I3383c19f80e70553ae71e644a01dda0f250d19da\nDepends-On: I1b6674acbd6f999474cd66cb44357cf6b756a7d0\n\nChange-Id: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\n""}, {'number': 17, 'created': '2021-03-12 12:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f465134b7569636271aaef6f7578ed9761952365', 'message': ""Generate bind pool and bind configuration using deployment info\n\nThe bind pool information is now automatically generated and the\nvariables and sample config files are no longer needed. Matching bind9\nand rndc key configuration is also generated.\n\nNote: this patch also removes the use of puppet-dns which is problematic\nwhen bind and the worker aren't on the same host and is awkward to use\nwith respect to rndc keys. It also modifies yaml-validate.py to correct\na rule changed with respect rndc_allowed_addresses.\n\nDepends-On: Ib121888061b8bfcc4155528a8a209c7e274fafcb\nDepends-On: I3383c19f80e70553ae71e644a01dda0f250d19da\nDepends-On: I1b6674acbd6f999474cd66cb44357cf6b756a7d0\n\nChange-Id: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\n""}, {'number': 18, 'created': '2021-03-16 15:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a2c79bd7172c747833529121d372cafac0a1c22f', 'message': ""Generate bind pool and bind configuration using deployment info\n\nThe bind pool information is now automatically generated and the\nvariables and sample config files are no longer needed. Matching bind9\nand rndc key configuration is also generated.\n\nNote: this patch also removes the use of puppet-dns which is problematic\nwhen bind and the worker aren't on the same host and is awkward to use\nwith respect to rndc keys. It also modifies yaml-validate.py to correct\na rule changed with respect rndc_allowed_addresses.\n\nDepends-On: Ib121888061b8bfcc4155528a8a209c7e274fafcb\nDepends-On: I3383c19f80e70553ae71e644a01dda0f250d19da\nDepends-On: I1b6674acbd6f999474cd66cb44357cf6b756a7d0\n\nChange-Id: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\n""}, {'number': 19, 'created': '2021-03-17 16:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae183973b72425e50a9d4ca891eeb097d85f725d', 'message': ""Generate bind pool and bind configuration using deployment info\n\nThe bind pool information is now automatically generated and the\nvariables and sample config files are no longer needed. Matching bind9\nand rndc key configuration is also generated.\n\nNote: this patch also removes the use of puppet-dns which is problematic\nwhen bind and the worker aren't on the same host and is awkward to use\nwith respect to rndc keys. It also modifies yaml-validate.py to correct\na rule changed with respect rndc_allowed_addresses.\n\nDepends-On: Ib121888061b8bfcc4155528a8a209c7e274fafcb\nDepends-On: I3383c19f80e70553ae71e644a01dda0f250d19da\nDepends-On: I1b6674acbd6f999474cd66cb44357cf6b756a7d0\n\nChange-Id: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\n""}, {'number': 20, 'created': '2021-03-22 18:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c4911dc8177be0327ba60698831d118649f271d2', 'message': ""Generate bind pool and bind configuration using deployment info\n\nThe bind pool information is now automatically generated and the\nvariables and sample config files are no longer needed. Matching bind9\nand rndc key configuration is also generated.\n\nNote: this patch also removes the use of puppet-dns which is problematic\nwhen bind and the worker aren't on the same host and is awkward to use\nwith respect to rndc keys. It also modifies yaml-validate.py to correct\na rule changed with respect rndc_allowed_addresses.\n\nDepends-On: Ib121888061b8bfcc4155528a8a209c7e274fafcb\nDepends-On: I3383c19f80e70553ae71e644a01dda0f250d19da\nDepends-On: I1b6674acbd6f999474cd66cb44357cf6b756a7d0\n\nChange-Id: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\n""}, {'number': 21, 'created': '2021-04-09 17:35:16.000000000', 'files': ['deployment/experimental/designate/designate-worker-container-puppet.yaml', 'environments/enable-designate.yaml', 'environments/designate-config-ha.yaml', 'sample-env-generator/enable-services.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'ci/environments/scenario003-standalone.yaml', 'deployment/experimental/designate/designate-bind-container.yaml', 'environments/designate-config.yaml', 'tools/yaml-validate.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7de18e52cd6f0fdfac5e3b40ab40aeb7771efd4e', 'message': ""Generate bind pool and bind configuration using deployment info\n\nThe bind pool information is now automatically generated and the\nvariables and sample config files are no longer needed. Matching bind9\nand rndc key configuration is also generated.\n\nNote: this patch also removes the use of puppet-dns which is problematic\nwhen bind and the worker aren't on the same host and is awkward to use\nwith respect to rndc keys. It also modifies yaml-validate.py to correct\na rule changed with respect rndc_allowed_addresses.\n\nDepends-On: Ib121888061b8bfcc4155528a8a209c7e274fafcb\nDepends-On: I3383c19f80e70553ae71e644a01dda0f250d19da\nDepends-On: I1b6674acbd6f999474cd66cb44357cf6b756a7d0\n\nChange-Id: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\n""}]",2,771270,7de18e52cd6f0fdfac5e3b40ab40aeb7771efd4e,89,7,21,6681,,,0,"Generate bind pool and bind configuration using deployment info

The bind pool information is now automatically generated and the
variables and sample config files are no longer needed. Matching bind9
and rndc key configuration is also generated.

Note: this patch also removes the use of puppet-dns which is problematic
when bind and the worker aren't on the same host and is awkward to use
with respect to rndc keys. It also modifies yaml-validate.py to correct
a rule changed with respect rndc_allowed_addresses.

Depends-On: Ib121888061b8bfcc4155528a8a209c7e274fafcb
Depends-On: I3383c19f80e70553ae71e644a01dda0f250d19da
Depends-On: I1b6674acbd6f999474cd66cb44357cf6b756a7d0

Change-Id: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/70/771270/19 && git format-patch -1 --stdout FETCH_HEAD,"['environments/enable-designate.yaml', 'environments/designate-config-ha.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'environments/designate-config.yaml']",4,3a7cfee4fd1e4f0ac4216de5aaf55178e4cbe621,designate,,"# ******************************************************************* # This file was created automatically by the sample environment # generator. Developers should use `tox -e genconfig` to update it. # Users are recommended to make changes to a copy of the file instead # of the original, if any customizations are needed. # ******************************************************************* # title: Configure Designate Parameters # description: | # Sample configuration parameters for Designate. Requires the # enable-designate environment. parameter_defaults: # The content for Designate's pools.yaml # Mandatory. This parameter must be set by the user. # Type: string DesignatePools: | - name: default # The name is immutable. There will be no option to change the name after # creation and the only way will to change it will be to delete it # (and all zones associated with it) and recreate it. description: Default Pool attributes: {} # List out the NS records for zones hosted within this pool # This should be a record that is created outside of designate, that # points to the public IP of the controller node. ns_records: - hostname: ns1-1.example.org. priority: 1 # List out the nameservers for this pool. These are the actual BIND servers. # We use these to verify changes have propagated to all nameservers. nameservers: - host: 10.0.0.51 port: 53 # List out the targets for this pool. For BIND there will be one # entry for each BIND server, as we have to run rndc command on each server targets: - type: bind9 description: BIND9 Server 1 # List out the designate-mdns servers from which BIND servers should # request zone transfers (AXFRs) from. # This should be the IP of the controller node. # If you have multiple controllers you can add multiple masters # by running designate-mdns on them, and adding them here. masters: - host: 10.0.0.51 port: 5354 # BIND Configuration options options: host: 10.0.0.51 port: 53 rndc_host: 172.17.0.251 rndc_port: 953 rndc_key_file: /etc/rndc.key # If True, enable the internal Neutron DNS server that provides name # resolution between VMs. This parameter has no effect if # NeutronDhcpAgentDnsmasqDnsServers is set. # Type: boolean NeutronEnableInternalDNS: True # Comma-separated list of extensions enabled for the Neutron plugin. # Type: comma_delimited_list NeutronPluginExtensions: qos,port_security,dns ",24,196
openstack%2Fvalidations-libs~master~Iec86be1b44a494c815ffff042b8693d7fc830b74,openstack/validations-libs,master,Iec86be1b44a494c815ffff042b8693d7fc830b74,Zuul runs tests in py36 only,MERGED,2021-04-08 09:34:34.000000000,2021-04-13 18:33:47.000000000,2021-04-13 18:33:47.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-08 09:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/1d1ffad853919279ed0ae3bb0b53cd48f40636e7', 'message': 'Zuul runs tests in py36 only\n\nPython 3.6 is the oldest version of python\nsupported by the package, and newer, supported,\nminor versions do not break any substantial functionality\nby design, while introducing new features.\n\nTherefore we do not need to run unit tests for\neach minor version. As all possible issues affecting\nversions >3.6 would necessarily be related to features\nintroduced in versions >3.6.\n\nVictoria test template was removed from layout.yaml.\nThe pep8 test environment was folded into linters in tox.ini.\nZuul is now explicitly running tests only in one, oldest supported,\npython environment, Python 3.6.\n\nPEP387: https://www.python.org/dev/peps/pep-0387/\nhttps://docs.python.org/3/whatsnew/3.7.html#porting-to-python-37\nhttps://docs.python.org/3/whatsnew/3.8.html#porting-to-python-3-8\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iec86be1b44a494c815ffff042b8693d7fc830b74\n'}, {'number': 2, 'created': '2021-04-08 09:36:40.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/ca9dbbfc28e18cef04fd5ae3da286cc9fb97a0c9', 'message': 'Zuul runs tests in py36 only\n\nPython 3.6 is the oldest version of python\nsupported by the package, and newer, supported,\nminor versions do not break any substantial functionality\nby design, while introducing new features.\n\nTherefore we do not need to run unit tests for\neach minor version. As all possible issues affecting\nversions >3.6 would necessarily be related to features\nintroduced in versions >3.6.\n\nVictoria test template was removed from .zuul.yaml.\nThe pep8 test environment was folded into linters in tox.ini.\nZuul is now explicitly running tests only in one, oldest supported,\npython environment, Python 3.6.\n\nPEP387: https://www.python.org/dev/peps/pep-0387/\nhttps://docs.python.org/3/whatsnew/3.7.html#porting-to-python-37\nhttps://docs.python.org/3/whatsnew/3.8.html#porting-to-python-3-8\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iec86be1b44a494c815ffff042b8693d7fc830b74\n'}]",0,785354,ca9dbbfc28e18cef04fd5ae3da286cc9fb97a0c9,8,7,2,32926,,,0,"Zuul runs tests in py36 only

Python 3.6 is the oldest version of python
supported by the package, and newer, supported,
minor versions do not break any substantial functionality
by design, while introducing new features.

Therefore we do not need to run unit tests for
each minor version. As all possible issues affecting
versions >3.6 would necessarily be related to features
introduced in versions >3.6.

Victoria test template was removed from .zuul.yaml.
The pep8 test environment was folded into linters in tox.ini.
Zuul is now explicitly running tests only in one, oldest supported,
python environment, Python 3.6.

PEP387: https://www.python.org/dev/peps/pep-0387/
https://docs.python.org/3/whatsnew/3.7.html#porting-to-python-37
https://docs.python.org/3/whatsnew/3.8.html#porting-to-python-3-8

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Iec86be1b44a494c815ffff042b8693d7fc830b74
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/54/785354/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,1d1ffad853919279ed0ae3bb0b53cd48f40636e7,zuul/optimization, {[testenv:pep8]commands},,3,1
openstack%2Fmagnum~stable%2Fwallaby~I68ca057e500ea293bde398288432a67eb758af25,openstack/magnum,stable/wallaby,I68ca057e500ea293bde398288432a67eb758af25,[hca] Use wallaby-stable-1 as default HCA tag,MERGED,2021-04-12 08:03:24.000000000,2021-04-13 18:31:24.000000000,2021-04-13 18:30:06.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-12 08:03:24.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'playbooks/container-builder-vars.yaml', 'playbooks/container-builder.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/e3f2299553e4aa18316230d03aa3099df9978e0e', 'message': '[hca] Use wallaby-stable-1 as default HCA tag\n\nAdditionally:\n- update syntax for compatibility with Ansible 2.9+.\n- explicitly check for ""not found"" to prevent rebuild due to\n  other types of errors, e.g. ""pull rate limit"".\n\nStory: 2007264\nTask: 42009\n\nChange-Id: I68ca057e500ea293bde398288432a67eb758af25\n(cherry picked from commit 7be7a5a1234479d0b4ab6e5fd51f355a98f6b62d)\n'}]",1,785607,e3f2299553e4aa18316230d03aa3099df9978e0e,8,3,1,28022,,,0,"[hca] Use wallaby-stable-1 as default HCA tag

Additionally:
- update syntax for compatibility with Ansible 2.9+.
- explicitly check for ""not found"" to prevent rebuild due to
  other types of errors, e.g. ""pull rate limit"".

Story: 2007264
Task: 42009

Change-Id: I68ca057e500ea293bde398288432a67eb758af25
(cherry picked from commit 7be7a5a1234479d0b4ab6e5fd51f355a98f6b62d)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/07/785607/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'playbooks/container-builder-vars.yaml', 'playbooks/container-builder.yaml']",5,e3f2299553e4aa18316230d03aa3099df9978e0e,wallaby-stable-1-stable/wallaby," source: pull failed_when: (docker_output is failed and ""pull rate limit"" in docker_output.msg) build: path: ""{{ magnum_src_dir }}/dockerfiles/heat-container-agent"" when: (""msg"" in item and ""not found"" in item.msg) or (item.item.dev | default(false) | bool) build: path: ""{{ magnum_src_dir }}/dockerfiles/{{ item[1].name }}"" args: KUBE_VERSION: ""{{ item[0].version }}"" source: build build: path: ""{{ magnum_src_dir }}/dockerfiles/helm-client"" args: HELM_VERSION: ""{{ item.version }}"" source: build build: path: ""{{ magnum_src_dir }}/dockerfiles/cluster-autoscaler"" args: AUTOSCALER_VERSION: ""cluster-autoscaler-{{ item.version }}"" source: build"," pull: yes ignore_errors: true path: ""{{ magnum_src_dir }}/dockerfiles/heat-container-agent"" when: (item is failed) or (item.item.dev | default(false) | bool) path: ""{{ magnum_src_dir }}/dockerfiles/{{ item[1].name }}"" buildargs: KUBE_VERSION: ""{{ item[0].version }}"" path: ""{{ magnum_src_dir }}/dockerfiles/helm-client"" buildargs: HELM_VERSION: ""{{ item.version }}"" path: ""{{ magnum_src_dir }}/dockerfiles/cluster-autoscaler"" buildargs: AUTOSCALER_VERSION: ""cluster-autoscaler-{{ item.version }}""",27,20
openstack%2Fmagnum~stable%2Fwallaby~I38b8df45a00f1a2a1604059b8329d1dd762e05cd,openstack/magnum,stable/wallaby,I38b8df45a00f1a2a1604059b8329d1dd762e05cd,Support hyperkube_prefix label,MERGED,2021-04-07 20:45:37.000000000,2021-04-13 18:29:38.000000000,2021-04-13 18:28:14.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 20:45:37.000000000', 'files': ['releasenotes/notes/hyperkube-prefix-01b9a5f4664edc90.yaml', 'doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/upgrade-kubernetes.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/install-clients.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/1ef305f4f663ad3d14c3ac6498188a0f6d51a346', 'message': 'Support hyperkube_prefix label\n\nAdditionally for k8s_fedora_coreos_v1 driver:\n* Introduce hyperkube_prefix which defaults to k8s.gcr.io/\n* Bump default kube_tag to v1.18.16\n\nStory: 1668998\nTask: 41791\n\nChange-Id: I38b8df45a00f1a2a1604059b8329d1dd762e05cd\n(cherry picked from commit fc1f27a569b068c2e889f86073c10a994c607bf1)\n'}]",0,785206,1ef305f4f663ad3d14c3ac6498188a0f6d51a346,8,3,1,28022,,,0,"Support hyperkube_prefix label

Additionally for k8s_fedora_coreos_v1 driver:
* Introduce hyperkube_prefix which defaults to k8s.gcr.io/
* Bump default kube_tag to v1.18.16

Story: 1668998
Task: 41791

Change-Id: I38b8df45a00f1a2a1604059b8329d1dd762e05cd
(cherry picked from commit fc1f27a569b068c2e889f86073c10a994c607bf1)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/06/785206/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/hyperkube-prefix-01b9a5f4664edc90.yaml', 'doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/upgrade-kubernetes.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/install-clients.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh']",17,1ef305f4f663ad3d14c3ac6498188a0f6d51a346,hyperkube-prefix-stable/wallaby," KUBE_DIGEST=$($ssh_cmd podman image inspect ${CONTAINER_INFRA_PREFIX:-${HYPERKUBE_PREFIX}}hyperkube:${KUBE_TAG} --format ""{{.Digest}}"")"," KUBE_DIGEST=$($ssh_cmd podman image inspect ${CONTAINER_INFRA_PREFIX:-k8s.gcr.io/}hyperkube:${KUBE_TAG} --format ""{{.Digest}}"")",77,16
openstack%2Fopenstack-tempest-skiplist~master~I652b361b646b0a3edf5da46393cb6dee71751197,openstack/openstack-tempest-skiplist,master,I652b361b646b0a3edf5da46393cb6dee71751197,Removing tempest.api.object_storage.test_container_services.ContainerTest.test_list_container_contents_with_path,MERGED,2021-04-08 22:31:26.000000000,2021-04-13 18:23:20.000000000,2021-04-13 18:18:46.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-04-08 22:31:26.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/66f3079d8d2495774c2e9f6a7b7a0e3f3e0992af', 'message': 'Removing tempest.api.object_storage.test_container_services.ContainerTest.test_list_container_contents_with_path\n\nRemoving tempest.api.object_storage.test_container_services.ContainerTest.test_list_container_contents_with_path to check if ussuri fs035 fails.\n\nRelated to Bug: https://bugs.launchpad.net/tripleo/+bug/1918476\n\nChange-Id: I652b361b646b0a3edf5da46393cb6dee71751197\n'}]",0,785525,66f3079d8d2495774c2e9f6a7b7a0e3f3e0992af,9,3,1,32458,,,0,"Removing tempest.api.object_storage.test_container_services.ContainerTest.test_list_container_contents_with_path

Removing tempest.api.object_storage.test_container_services.ContainerTest.test_list_container_contents_with_path to check if ussuri fs035 fails.

Related to Bug: https://bugs.launchpad.net/tripleo/+bug/1918476

Change-Id: I652b361b646b0a3edf5da46393cb6dee71751197
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/25/785525/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,66f3079d8d2495774c2e9f6a7b7a0e3f3e0992af,,, - test: tempest.api.object_storage.test_container_services.ContainerTest.test_list_container_contents_with_path deployment: - overcloud releases: - name: ussuri reason: testtools.matchers._impl.MismatchError lp: https://bugs.launchpad.net/tripleo/+bug/1918476 jobs: - periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset035-ussuri - tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset035,0,10
openstack%2Ftripleo-heat-templates~master~Ie868463143af66c7004dbcacefde76ca0977880e,openstack/tripleo-heat-templates,master,Ie868463143af66c7004dbcacefde76ca0977880e,Limit access to sshd used for nova migration,MERGED,2021-03-31 09:21:34.000000000,2021-04-13 18:23:18.000000000,2021-04-13 18:17:42.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 24245}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-03-31 09:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/07e58d150b8c2d5850b55e3a6f59eebae135ebf5', 'message': '[wip] limit_ssh_migration_access\n\nChange-Id: Ie868463143af66c7004dbcacefde76ca0977880e\n'}, {'number': 2, 'created': '2021-03-31 14:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/95a084ed5650ab4d962315d96bcb59eb82cda177', 'message': '[wip] limit_ssh_migration_access\n\nChange-Id: Ie868463143af66c7004dbcacefde76ca0977880e\n'}, {'number': 3, 'created': '2021-04-01 12:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8944e5d800a514f0dfc81ca1e7b278c69899270b', 'message': 'Limit access sshd_for nova migration\n\nATM access to the sshd running by the nova-migration-target\ncontainer is only limited via the sshd_config. While login is\nnot possible from other networks, the service is reachable via\nall networks. This change limits the access to the NovaLibvirt\nand NovaApi networks which are used for cold and live-migration.\n\nChange-Id: Ie868463143af66c7004dbcacefde76ca0977880e\n'}, {'number': 4, 'created': '2021-04-12 10:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/68afa3e314e1f9b43fe7dbd76a7f6586cff6ebcc', 'message': 'Limit access to sshd used for nova migration\n\nATM access to the sshd running by the nova-migration-target\ncontainer is only limited via the sshd_config. While login is\nnot possible from other networks, the service is reachable via\nall networks. This change limits the access to the NovaLibvirt\nand NovaApi networks which are used for cold and live-migration.\n\nChange-Id: Ie868463143af66c7004dbcacefde76ca0977880e\n'}, {'number': 5, 'created': '2021-04-12 13:18:40.000000000', 'files': ['deployment/nova/nova-migration-target-container-puppet.yaml', 'releasenotes/notes/nova_migration_limit_access-20be8d69686ca95c.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c04c9b0d701abb91ddacf0fd5320899d907e6cf1', 'message': 'Limit access to sshd used for nova migration\n\nPreviously access to the sshd running by the nova-migration-target\ncontainer is only limited via the sshd_config. While login is\nnot possible from other networks, the service is reachable via\nall networks. This change limits the access to the NovaLibvirt\nand NovaApi networks which are used for cold and live-migration.\n\nChange-Id: Ie868463143af66c7004dbcacefde76ca0977880e\n'}]",3,784031,c04c9b0d701abb91ddacf0fd5320899d907e6cf1,29,6,5,17216,,,0,"Limit access to sshd used for nova migration

Previously access to the sshd running by the nova-migration-target
container is only limited via the sshd_config. While login is
not possible from other networks, the service is reachable via
all networks. This change limits the access to the NovaLibvirt
and NovaApi networks which are used for cold and live-migration.

Change-Id: Ie868463143af66c7004dbcacefde76ca0977880e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/784031/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-migration-target-container-puppet.yaml'],1,07e58d150b8c2d5850b55e3a6f59eebae135ebf5,limit_ssh_migration," map_merge: repeat: for_each: <%net_cidr%>: - {get_param: [ServiceNetMap, NovaApiNetwork]} - str_replace: ""%{hiera('$NETWORK')}"" params: $NETWORK: get_param: - ServiceNetMap - str_replace: template: ""ROLENAMEHostnameResolveNetwork"" params: ROLENAME: {get_param: RoleName} template: '113 nova_migration_target from subnet <%net_cidr%>': source: <%net_cidr%> proto: 'tcp' dport: - {get_param: MigrationSshPort}", '113 nova_migration_target': dport: - {get_param: MigrationSshPort},22,3
openstack%2Fos-refresh-config~master~I8127e92439d2393ec7a4797a5ee7776ecc29c2d1,openstack/os-refresh-config,master,I8127e92439d2393ec7a4797a5ee7776ecc29c2d1,Add Python3 victoria unit tests,MERGED,2021-03-11 18:08:40.000000000,2021-04-13 18:18:04.000000000,2021-04-13 18:18:04.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-11 18:08:40.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/os-refresh-config/commit/197972b69234f6e3a7c032c79acecf523d7cb96c', 'message': 'Add Python3 victoria unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for victoria.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I8127e92439d2393ec7a4797a5ee7776ecc29c2d1\n'}]",0,780059,197972b69234f6e3a7c032c79acecf523d7cb96c,7,3,1,22816,,,0,"Add Python3 victoria unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for victoria.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I8127e92439d2393ec7a4797a5ee7776ecc29c2d1
",git fetch https://review.opendev.org/openstack/os-refresh-config refs/changes/59/780059/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,197972b69234f6e3a7c032c79acecf523d7cb96c,add-victoria-python-jobtemplates, - openstack-python3-victoria-jobs, - openstack-python3-ussuri-jobs,1,1
openstack%2Ftripleo-heat-templates~master~Icd6d9a12b59cf8234edb671f0f55b4df4d342d7e,openstack/tripleo-heat-templates,master,Icd6d9a12b59cf8234edb671f0f55b4df4d342d7e,Remove UndercloudExtraConfig merge_strategy,MERGED,2021-04-09 10:57:44.000000000,2021-04-13 18:17:13.000000000,2021-04-13 18:17:13.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-09 10:57:44.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f3968c6415a9e1c2f985ed187623bba2901d1cda', 'message': ""Remove UndercloudExtraConfig merge_strategy\n\nThis would not have worked before we enabled server side\nenv merging and also we don't set that parameter in that\nenvironment.\n\nChange-Id: Icd6d9a12b59cf8234edb671f0f55b4df4d342d7e\n""}]",0,785619,f3968c6415a9e1c2f985ed187623bba2901d1cda,8,4,1,8833,,,0,"Remove UndercloudExtraConfig merge_strategy

This would not have worked before we enabled server side
env merging and also we don't set that parameter in that
environment.

Change-Id: Icd6d9a12b59cf8234edb671f0f55b4df4d342d7e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/785619/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,f3968c6415a9e1c2f985ed187623bba2901d1cda,,,parameter_merge_strategies: default: overwrite UndercloudExtraConfig: deep_merge ,0,4
openstack%2Ftripleo-quickstart-extras~master~I420d04c4ae83f8471a2cdd8db1a1d1fa5db63e30,openstack/tripleo-quickstart-extras,master,I420d04c4ae83f8471a2cdd8db1a1d1fa5db63e30,add feature to execute repoclosure,MERGED,2021-04-06 20:07:08.000000000,2021-04-13 18:17:08.000000000,2021-04-13 18:17:08.000000000,"[{'_account_id': 8161}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 22722}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-06 20:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/746d6c7eaafa2a09e3c21dfcb1b7a01e244b06d7', 'message': 'WIP: add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\n  repoclosure command.\n* since multiple playbooks are used a follow up patch to\n  a playbook in tqe is required.  For example w/ a standalone\n  job quickstart.yml and multinode-standalone.yml are use.\n* if zuul.repoclosure is defined, stop multinode-standalone.yml\n  from fully executing.\n\nChange-Id: I420d04c4ae83f8471a2cdd8db1a1d1fa5db63e30\n'}, {'number': 2, 'created': '2021-04-06 21:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bf2ef41ac478e3c192f39898cbb0b3351770370a', 'message': 'WIP: add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\n  repoclosure command.\n* since multiple playbooks are used a follow up patch to\n  a playbook in tqe is required.  For example w/ a standalone\n  job quickstart.yml and multinode-standalone.yml are use.\n* if zuul.repoclosure is defined, stop multinode-standalone.yml\n  from fully executing.\n\nChange-Id: I420d04c4ae83f8471a2cdd8db1a1d1fa5db63e30\n'}, {'number': 3, 'created': '2021-04-07 17:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3105f44568a41e3c8676416d67080b64ed5a6492', 'message': 'WIP: add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\n  repoclosure command.\n* since multiple playbooks are used a follow up patch to\n  a playbook in tqe is required.  For example w/ a standalone\n  job quickstart.yml and multinode-standalone.yml are use.\n* if zuul.repoclosure is defined, stop multinode-standalone.yml\n  from fully executing.\n\nChange-Id: I420d04c4ae83f8471a2cdd8db1a1d1fa5db63e30\n'}, {'number': 4, 'created': '2021-04-07 19:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ef05a168535038b5f1a0f1d9b2b442c063017780', 'message': 'WIP: add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\n  repoclosure command.\n* since multiple playbooks are used a follow up patch to\n  a playbook in tqe is required.  For example w/ a standalone\n  job quickstart.yml and multinode-standalone.yml are use.\n* if zuul.repoclosure is defined, stop multinode-standalone.yml\n  from fully executing.\n\nChange-Id: I420d04c4ae83f8471a2cdd8db1a1d1fa5db63e30\n'}, {'number': 5, 'created': '2021-04-07 20:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5bb0b6d50f223c6171be4c42c7fe02da7b336487', 'message': 'WIP: add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\n  repoclosure command.\n* since multiple playbooks are used a follow up patch to\n  a playbook in tqe is required.  For example w/ a standalone\n  job quickstart.yml and multinode-standalone.yml are use.\n* if zuul.repoclosure is defined, stop multinode-standalone.yml\n  from fully executing.\n\nChange-Id: I420d04c4ae83f8471a2cdd8db1a1d1fa5db63e30\n'}, {'number': 6, 'created': '2021-04-08 00:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/feaf526669c1248c20eebdedbbaa8a72716652b8', 'message': 'WIP: add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\n  repoclosure command.\n* since multiple playbooks are used a follow up patch to\n  a playbook in tqe is required.  For example w/ a standalone\n  job quickstart.yml and multinode-standalone.yml are use.\n* if zuul.repoclosure is defined, stop multinode-standalone.yml\n  from fully executing.\n\nChange-Id: I420d04c4ae83f8471a2cdd8db1a1d1fa5db63e30\n'}, {'number': 7, 'created': '2021-04-08 02:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/82f17c0679a42d3864cad96f6e4b93d0321fc22a', 'message': 'WIP: add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\n  repoclosure command.\n* since multiple playbooks are used a follow up patch to\n  a playbook in tqe is required.  For example w/ a standalone\n  job quickstart.yml and multinode-standalone.yml are use.\n* if zuul.repoclosure is defined, stop multinode-standalone.yml\n  from fully executing.\n\nChange-Id: I420d04c4ae83f8471a2cdd8db1a1d1fa5db63e30\n'}, {'number': 8, 'created': '2021-04-08 16:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ca17ec95c95e3d87df4259631df3da1202e4180a', 'message': 'WIP: add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\n  repoclosure command.\n* since multiple playbooks are used a follow up patch to\n  a playbook in tqe is required.  For example w/ a standalone\n  job quickstart.yml and multinode-standalone.yml are use.\n* if zuul.repoclosure is defined, stop multinode-standalone.yml\n  from fully executing.\n\nChange-Id: I420d04c4ae83f8471a2cdd8db1a1d1fa5db63e30\n'}, {'number': 9, 'created': '2021-04-08 17:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1d18ddf257b9978aaabc563e353b77266ecdb2b1', 'message': 'WIP: add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\n  repoclosure command.\n* since multiple playbooks are used a follow up patch to\n  a playbook in tqe is required.  For example w/ a standalone\n  job quickstart.yml and multinode-standalone.yml are use.\n* if zuul.repoclosure is defined, stop multinode-standalone.yml\n  from fully executing.\n\nChange-Id: I420d04c4ae83f8471a2cdd8db1a1d1fa5db63e30\n'}, {'number': 10, 'created': '2021-04-08 17:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/173ed607b1f03535780ab63ddc688db4e19523cf', 'message': 'WIP: add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\n  repoclosure command.\n* since multiple playbooks are used a follow up patch to\n  a playbook in tqe is required.  For example w/ a standalone\n  job quickstart.yml and multinode-standalone.yml are use.\n* if zuul.repoclosure is defined, stop multinode-standalone.yml\n  from fully executing.\n\nChange-Id: I420d04c4ae83f8471a2cdd8db1a1d1fa5db63e30\n'}, {'number': 11, 'created': '2021-04-08 18:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/353632a2f3f8fef784977d735eba746f548029c0', 'message': 'WIP: add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\n  repoclosure command.\n* since multiple playbooks are used a follow up patch to\n  a playbook in tqe is required.  For example w/ a standalone\n  job quickstart.yml and multinode-standalone.yml are use.\n* if zuul.repoclosure is defined, stop multinode-standalone.yml\n  from fully executing.\n\nChange-Id: I420d04c4ae83f8471a2cdd8db1a1d1fa5db63e30\n'}, {'number': 12, 'created': '2021-04-08 21:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d3361a9a10c3c2140c2725084dec31d02be0c424', 'message': 'WIP: add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\n  repoclosure command.\n* since multiple playbooks are used a follow up patch to\n  a playbook in tqe is required.  For example w/ a standalone\n  job quickstart.yml and multinode-standalone.yml are use.\n* if zuul.repoclosure is defined, stop multinode-standalone.yml\n  from fully executing.\n\nChange-Id: I420d04c4ae83f8471a2cdd8db1a1d1fa5db63e30\n'}, {'number': 13, 'created': '2021-04-08 21:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/00f25c511af527d8d89463d3c8f1ebe93f340580', 'message': 'WIP: add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\n  repoclosure command.\n* since multiple playbooks are used a follow up patch to\n  a playbook in tqe is required.  For example w/ a standalone\n  job quickstart.yml and multinode-standalone.yml are use.\n* if zuul.repoclosure is defined, stop multinode-standalone.yml\n  from fully executing.\n\nChange-Id: I420d04c4ae83f8471a2cdd8db1a1d1fa5db63e30\n'}, {'number': 14, 'created': '2021-04-08 22:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d0d597793b0fcf94c34898aac24534f3cd94d8ea', 'message': 'WIP: add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\n  repoclosure command.\n* since multiple playbooks are used a follow up patch to\n  a playbook in tqe is required.  For example w/ a standalone\n  job quickstart.yml and multinode-standalone.yml are use.\n* if zuul.repoclosure is defined, stop multinode-standalone.yml\n  from fully executing.\n\nChange-Id: I420d04c4ae83f8471a2cdd8db1a1d1fa5db63e30\n'}, {'number': 15, 'created': '2021-04-09 18:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f2d6d5e7582fc122975620ebda6b71f89edae01a', 'message': 'WIP: add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\n  repoclosure command.\n* since multiple playbooks are used a follow up patch to\n  a playbook in tqe is required.  For example w/ a standalone\n  job quickstart.yml and multinode-standalone.yml are use.\n* if zuul.repoclosure is defined, stop multinode-standalone.yml\n  from fully executing.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/785690\nChange-Id: I420d04c4ae83f8471a2cdd8db1a1d1fa5db63e30\n'}, {'number': 16, 'created': '2021-04-09 18:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/801b3b530eba7a6c2221d6bfa21095e1c722c1a9', 'message': 'add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* if zuul.repoclosure is defined, stop multinode-standalone.yml\n  from fully executing.\n* new playbook add in 785690 that exits after repoclosure\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/785690\nChange-Id: I420d04c4ae83f8471a2cdd8db1a1d1fa5db63e30\n'}, {'number': 17, 'created': '2021-04-09 19:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3c54d47b810855fb36d0d6c8706c521af8106541', 'message': 'add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* if zuul.repoclosure is defined, stop multinode-standalone.yml\n  from fully executing.\n* new playbook add in 785690 that exits after repoclosure\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/785690\nChange-Id: I420d04c4ae83f8471a2cdd8db1a1d1fa5db63e30\n'}, {'number': 18, 'created': '2021-04-09 20:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/220a0aef92b712a138b341d42763ef75c75380af', 'message': 'add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* if zuul.repoclosure is defined, stop multinode-standalone.yml\n  from fully executing.\n* new playbook add in 785690 that exits after repoclosure\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/785690\nChange-Id: I420d04c4ae83f8471a2cdd8db1a1d1fa5db63e30\n'}, {'number': 19, 'created': '2021-04-09 20:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e076f742190c85587cf49a5ed684080a3d3d5f4a', 'message': 'add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* if zuul.repoclosure is defined, stop multinode-standalone.yml\n  from fully executing.\n* new playbook add in 785690 that exits after repoclosure\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/785690\nChange-Id: I420d04c4ae83f8471a2cdd8db1a1d1fa5db63e30\n'}, {'number': 20, 'created': '2021-04-09 21:01:04.000000000', 'files': ['roles/repoclosure/templates/repoclosure.sh.j2', 'roles/repoclosure/defaults/main.yml', 'playbooks/multinode-standalone-repoclosure.yml', 'roles/repoclosure/meta/main.yml', 'roles/repoclosure/tasks/repoclosure.yml', 'roles/repoclosure/README.md', 'roles/repoclosure/tasks/main.yml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b0d8b11297765dee249660b3b7a2b4f38ee7a1e3', 'message': 'add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* if zuul.repoclosure is defined, stop multinode-standalone.yml\n  from fully executing.\n* new playbook add in 785690 that exits after repoclosure\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/785690\nChange-Id: I420d04c4ae83f8471a2cdd8db1a1d1fa5db63e30\n'}]",3,785040,b0d8b11297765dee249660b3b7a2b4f38ee7a1e3,53,6,20,9592,,,0,"add feature to execute repoclosure

* execute repoclosure directly after the repos are setup
* if zuul.repoclosure is defined, stop multinode-standalone.yml
  from fully executing.
* new playbook add in 785690 that exits after repoclosure

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/785690
Change-Id: I420d04c4ae83f8471a2cdd8db1a1d1fa5db63e30
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/40/785040/19 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/multinode-standalone.yml', 'roles/repoclosure/templates/repoclosure.sh.j2', 'roles/repoclosure/defaults/main.yml', 'roles/repoclosure/meta/main.yml', 'roles/repoclosure/tasks/repoclosure.yml', 'roles/repoclosure/README.md', 'roles/repoclosure/tasks/main.yml']",7,746d6c7eaafa2a09e3c21dfcb1b7a01e244b06d7,,--- # execute and log repoclosure - name: execute repoclosure include: repoclosure.yml when: job.repoclosure is defined or repoclosure is defined # IN AN INTEGRATION PIPELINE... # intention here is to execute before container and image build # ensure the repos are sane in the integration pipeline # pipeline should stop if this does not pass and repoclosure # is defined in zuul # stop condition: pass or fail if in integration. # if job.repoclosure is defined but stop w/ success and continue # the pipeline. - name: Stop playbook after repoclosure meta: end_play when: job.repoclosure is defined ,,175,0
openstack%2Fos-collect-config~stable%2Fvictoria~I8cc96ce601f828a78d1e098de5515afaee7e90a4,openstack/os-collect-config,stable/victoria,I8cc96ce601f828a78d1e098de5515afaee7e90a4,Update TOX_CONSTRAINTS_FILE for stable/victoria,MERGED,2021-01-14 10:22:30.000000000,2021-04-13 17:49:38.000000000,2021-04-13 17:49:38.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-14 10:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/d4257af9b6ca1d374e4f2c7a7ce4950b736ef416', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I8cc96ce601f828a78d1e098de5515afaee7e90a4\n'}, {'number': 2, 'created': '2021-03-09 16:26:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/e2e4c006f63ad3067ec31e83f1c5748fbb5b9a85', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I8cc96ce601f828a78d1e098de5515afaee7e90a4\n'}]",0,770773,e2e4c006f63ad3067ec31e83f1c5748fbb5b9a85,9,3,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/victoria

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I8cc96ce601f828a78d1e098de5515afaee7e90a4
",git fetch https://review.opendev.org/openstack/os-collect-config refs/changes/73/770773/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d4257af9b6ca1d374e4f2c7a7ce4950b736ef416,create-victoria, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fos-collect-config~stable%2Fvictoria~I152db68519c1ef0915be2d1b0f05e9efe04961c2,openstack/os-collect-config,stable/victoria,I152db68519c1ef0915be2d1b0f05e9efe04961c2,Update .gitreview for stable/victoria,MERGED,2021-01-14 10:22:27.000000000,2021-04-13 17:49:33.000000000,2021-04-13 17:49:33.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-14 10:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/dbfcedfaae760962ff42b7721337769531f377ef', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: I152db68519c1ef0915be2d1b0f05e9efe04961c2\n'}, {'number': 2, 'created': '2021-03-09 16:26:33.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/c44e87b7f3f1f152c907957cd6fd46f524f877ce', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: I152db68519c1ef0915be2d1b0f05e9efe04961c2\n'}]",0,770772,c44e87b7f3f1f152c907957cd6fd46f524f877ce,9,3,2,22816,,,0,"Update .gitreview for stable/victoria

Change-Id: I152db68519c1ef0915be2d1b0f05e9efe04961c2
",git fetch https://review.opendev.org/openstack/os-collect-config refs/changes/72/770772/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,dbfcedfaae760962ff42b7721337769531f377ef,create-victoria,defaultbranch=stable/victoria,,1,0
openstack%2Fos-refresh-config~stable%2Fussuri~Ia7a41e14fa2fa29a54d517c024740edeb48e9adb,openstack/os-refresh-config,stable/ussuri,Ia7a41e14fa2fa29a54d517c024740edeb48e9adb,Update TOX_CONSTRAINTS_FILE for stable/ussuri,MERGED,2021-03-11 18:08:36.000000000,2021-04-13 17:49:30.000000000,2021-04-13 17:49:30.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-11 18:08:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-refresh-config/commit/2790bcc985cf87a540870d54179077f7300904da', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ussuri\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ussuri branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ia7a41e14fa2fa29a54d517c024740edeb48e9adb\n'}]",0,780058,2790bcc985cf87a540870d54179077f7300904da,7,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ussuri branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ia7a41e14fa2fa29a54d517c024740edeb48e9adb
",git fetch https://review.opendev.org/openstack/os-refresh-config refs/changes/58/780058/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2790bcc985cf87a540870d54179077f7300904da,create-ussuri, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fos-refresh-config~stable%2Fussuri~I182cb386b2b96b6d7e404ed9a5eabe30d7082d27,openstack/os-refresh-config,stable/ussuri,I182cb386b2b96b6d7e404ed9a5eabe30d7082d27,Update .gitreview for stable/ussuri,MERGED,2021-03-11 18:08:33.000000000,2021-04-13 17:49:23.000000000,2021-04-13 17:49:23.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-11 18:08:33.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/os-refresh-config/commit/d82627ae0f601e447b0e984e0e8793f638fc9368', 'message': 'Update .gitreview for stable/ussuri\n\nChange-Id: I182cb386b2b96b6d7e404ed9a5eabe30d7082d27\n'}]",0,780057,d82627ae0f601e447b0e984e0e8793f638fc9368,7,3,1,22816,,,0,"Update .gitreview for stable/ussuri

Change-Id: I182cb386b2b96b6d7e404ed9a5eabe30d7082d27
",git fetch https://review.opendev.org/openstack/os-refresh-config refs/changes/57/780057/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,d82627ae0f601e447b0e984e0e8793f638fc9368,create-ussuri,defaultbranch=stable/ussuri,,1,0
openstack%2Ftripleo-heat-templates~master~I649b2a1f7babd86d1fb6a2ebd68b22a3560eb885,openstack/tripleo-heat-templates,master,I649b2a1f7babd86d1fb6a2ebd68b22a3560eb885,"Remove ovn-cms-options from OVS when OVNCMSOptions is set to """"",MERGED,2021-03-26 08:48:54.000000000,2021-04-13 17:49:09.000000000,2021-04-13 17:49:09.000000000,"[{'_account_id': 1131}, {'_account_id': 6681}, {'_account_id': 6773}, {'_account_id': 7144}, {'_account_id': 8655}, {'_account_id': 9816}, {'_account_id': 11082}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-03-26 08:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c3444229f9aadefc922e5a74a3c7ecb59c844ba5', 'message': 'Remove ovn-cms-options from OVS when DVR is disabled\n\nThis patch resolves issue where ovn-cms-options is left when OVNCMSOptions\nis changed to """" in RoleParameters on an existing OVN+DVR+HA environment.\n\nResolves: rhbz#1943488\nChange-Id: I649b2a1f7babd86d1fb6a2ebd68b22a3560eb885\n'}, {'number': 2, 'created': '2021-03-26 08:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f5281e56fadc4e817ac46b14d4536840d6aa85d7', 'message': '[WIP] Remove ovn-cms-options from OVS when DVR is disabled\n\nThis patch resolves issue where ovn-cms-options is left when OVNCMSOptions\nis changed to """" in RoleParameters on an existing OVN+DVR+HA environment.\n\nResolves: rhbz#1943488\nChange-Id: I649b2a1f7babd86d1fb6a2ebd68b22a3560eb885\n'}, {'number': 3, 'created': '2021-04-01 04:35:33.000000000', 'files': ['deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/180fcf18bfaf5c433902b6dd0d738e5f6523dd98', 'message': 'Remove ovn-cms-options from OVS when OVNCMSOptions is set to """"\n\nThis patch resolves issue where ovn-cms-options is left when OVNCMSOptions\nis changed to """" in RoleParameters on an existing OVN+DVR+HA environment.\n\nCloses-Bug: #1922168\nChange-Id: I649b2a1f7babd86d1fb6a2ebd68b22a3560eb885\n'}]",0,783222,180fcf18bfaf5c433902b6dd0d738e5f6523dd98,15,11,3,16347,,,0,"Remove ovn-cms-options from OVS when OVNCMSOptions is set to """"

This patch resolves issue where ovn-cms-options is left when OVNCMSOptions
is changed to """" in RoleParameters on an existing OVN+DVR+HA environment.

Closes-Bug: #1922168
Change-Id: I649b2a1f7babd86d1fb6a2ebd68b22a3560eb885
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/783222/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-controller-container-puppet.yaml'],1,c3444229f9aadefc922e5a74a3c7ecb59c844ba5,," command: ['/bin/bash', '-c', 'CMS_OPTS=$(hiera ovn::controller::ovn_cms_options -c /etc/puppet/hiera.yaml); if [ X""$CMS_OPTS"" != X ]; then ovs-vsctl set open . external_ids:ovn-cms-options=$CMS_OPTS;else ovs-vsctl remove open . external_ids ovn-cms-options; fi']"," command: ['/bin/bash', '-c', 'CMS_OPTS=$(hiera ovn::controller::ovn_cms_options -c /etc/puppet/hiera.yaml); if [ X""$CMS_OPTS"" != X ]; then ovs-vsctl set open . external_ids:ovn-cms-options=$CMS_OPTS; fi']",1,1
openstack%2Fvalidations-libs~master~Ie189a63df095ae1f38722c78873e4695a451aab9,openstack/validations-libs,master,Ie189a63df095ae1f38722c78873e4695a451aab9,Add basic standalone job w/ validate-services true,MERGED,2021-04-08 21:15:03.000000000,2021-04-13 17:49:04.000000000,2021-04-13 17:49:04.000000000,"[{'_account_id': 9592}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-04-08 21:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/cbb70c164733703beedaf21191e81e467a06b28a', 'message': 'Add basic standalone job w/ validate-services true\n\n* Parent off the basic tripleo standalone job\n* turn on validate services\n* Ensure changes to repo build via rpm\n\nChange-Id: Ie189a63df095ae1f38722c78873e4695a451aab9\nRelated-Bug: #1923091\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2021-04-08 21:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/eb1310ad9b982b192725467fa5a7a5496937b5ba', 'message': 'Add basic standalone job w/ validate-services true\n\n* Parent off the basic tripleo standalone job\n* turn on validate services\n* Ensure changes to repo build via rpm\n\nChange-Id: Ie189a63df095ae1f38722c78873e4695a451aab9\nRelated-Bug: #1923091\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2021-04-12 05:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f30cae5152eb71c6706dcd8799f01f1c1793eec8', 'message': 'Add basic standalone job w/ validate-services true\n\n* Parent off the basic tripleo standalone job\n* turn on validate services\n* Ensure changes to repo build via rpm\n\nRelated-Bug: #1923091\nDepends-On: https://review.opendev.org/c/openstack/tripleo-validations/+/785722\nChange-Id: Ie189a63df095ae1f38722c78873e4695a451aab9\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2021-04-12 17:09:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/d5b92ff5e2e28095945b06a7b11939b89b765143', 'message': 'Add basic standalone job w/ validate-services true\n\n* Parent off the basic tripleo standalone job\n* turn on validate services\n* Ensure changes to repo build via rpm\n\nRelated-Bug: #1923091\nDepends-On: https://review.opendev.org/c/openstack/tripleo-validations/+/785722\nChange-Id: Ie189a63df095ae1f38722c78873e4695a451aab9\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",1,785515,d5b92ff5e2e28095945b06a7b11939b89b765143,18,6,4,11491,,,0,"Add basic standalone job w/ validate-services true

* Parent off the basic tripleo standalone job
* turn on validate services
* Ensure changes to repo build via rpm

Related-Bug: #1923091
Depends-On: https://review.opendev.org/c/openstack/tripleo-validations/+/785722
Change-Id: Ie189a63df095ae1f38722c78873e4695a451aab9
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/15/785515/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,cbb70c164733703beedaf21191e81e467a06b28a,,- job: name: tripleo-ci-centos-8-standalone-validations parent: tripleo-ci-centos-8-standalone vars: featureset: '052' validate_services: true - validations-libs-functional - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters - openstack-tox-cover - validations-common-functional - tripleo-ci-centos-8-standalone-validations: dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters - openstack-tox-cover - validations-common-functional - tripleo-ci-centos-8-standalone-validations: dependencies: - tripleo-ci-centos-8-content-provider - openstack-tox-docs: *tripleo-docs, - validations-libs-functional - openstack-tox-docs: *tripleo-docs,25,2
openstack%2Fgovernance~master~Id754f5800cf864c6147e944985b94b87dd874b55,openstack/governance,master,Id754f5800cf864c6147e944985b94b87dd874b55,Making devstack-plugin-ceph branched,MERGED,2021-04-13 15:34:29.000000000,2021-04-13 17:43:02.000000000,2021-04-13 17:41:51.000000000,"[{'_account_id': 6413}, {'_account_id': 8556}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-13 15:34:29.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/459537abde4e03bac2ec78e262aac4884f9a340c', 'message': 'Making devstack-plugin-ceph branched\n\nIf the plugin was branched it would really helped the team\nto maintain the plugin.\n\nChange-Id: Id754f5800cf864c6147e944985b94b87dd874b55\n'}]",0,786067,459537abde4e03bac2ec78e262aac4884f9a340c,13,6,1,22873,,,0,"Making devstack-plugin-ceph branched

If the plugin was branched it would really helped the team
to maintain the plugin.

Change-Id: Id754f5800cf864c6147e944985b94b87dd874b55
",git fetch https://review.opendev.org/openstack/governance refs/changes/67/786067/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,459537abde4e03bac2ec78e262aac4884f9a340c,project-update,, release-management: none,0,1
openstack%2Fpuppet-barbican~stable%2Ftrain~Idf9dc70cd68d4e594119efcd2a3c3a0e56621c96,openstack/puppet-barbican,stable/train,Idf9dc70cd68d4e594119efcd2a3c3a0e56621c96,Add support for always_set_cka_sensitive parameter,MERGED,2021-04-02 09:44:06.000000000,2021-04-13 17:19:44.000000000,2021-04-13 17:18:12.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-02 09:44:06.000000000', 'files': ['manifests/plugins/p11_crypto.pp', 'releasenotes/notes/p11_crypto_plugin_always_set_cka_sensitive-1c9a9b9726c3cf93.yaml', 'spec/classes/barbican_plugins_p11_crypto_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/0da87735edd73fd0d1e76073e7030e1261d59dab', 'message': 'Add support for always_set_cka_sensitive parameter\n\nSome time ago BarbicanPkcs11AlwaysSetCkaSensitive option was\nadded to tripleo-heat-templates. change:\nIf3fa975e8243dfe30ef67ec81db891943a94a9d5\n\nAt the same time, it looks like relevant change was not added\nto puppet-barbican project. This patch adds missing parameter\nto barbican::plugins::p11_crypto class.\n\nBackport note:\nThis backport includes the subsequent commit[1] which added\na unit test case for the new parameter.\n\n [1] d7e27eb854185ed3b28b07127cca7dbbb87f57b4\n\nPartial-bug: #1916386\nChange-Id: Idf9dc70cd68d4e594119efcd2a3c3a0e56621c96\n(cherry picked from commit 27b1cc2735264556c372c7ea5d02f7164fdfcb68)\n(cherry picked from commit b44996d6c2d1d78543b5e00ba5f9968fba44639e)\n(cherry picked from commit e2efcba0b993ca19851ba3c502be21df0d3fa441)\n'}]",0,784415,0da87735edd73fd0d1e76073e7030e1261d59dab,14,3,1,19234,,,0,"Add support for always_set_cka_sensitive parameter

Some time ago BarbicanPkcs11AlwaysSetCkaSensitive option was
added to tripleo-heat-templates. change:
If3fa975e8243dfe30ef67ec81db891943a94a9d5

At the same time, it looks like relevant change was not added
to puppet-barbican project. This patch adds missing parameter
to barbican::plugins::p11_crypto class.

Backport note:
This backport includes the subsequent commit[1] which added
a unit test case for the new parameter.

 [1] d7e27eb854185ed3b28b07127cca7dbbb87f57b4

Partial-bug: #1916386
Change-Id: Idf9dc70cd68d4e594119efcd2a3c3a0e56621c96
(cherry picked from commit 27b1cc2735264556c372c7ea5d02f7164fdfcb68)
(cherry picked from commit b44996d6c2d1d78543b5e00ba5f9968fba44639e)
(cherry picked from commit e2efcba0b993ca19851ba3c502be21df0d3fa441)
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/15/784415/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/plugins/p11_crypto.pp', 'releasenotes/notes/p11_crypto_plugin_always_set_cka_sensitive-1c9a9b9726c3cf93.yaml', 'spec/classes/barbican_plugins_p11_crypto_spec.rb']",3,0da87735edd73fd0d1e76073e7030e1261d59dab,bug/1916386," :p11_crypto_plugin_always_set_cka_sensitive => true, is_expected.to contain_barbican_config('p11_crypto_plugin/always_set_cka_sensitive') \ .with_value(params[:p11_crypto_plugin_always_set_cka_sensitive])",,45,29
openstack%2Fnova~stable%2Fstein~Ia5130d411706bf7e1c983156158011a3bc6d5cd6,openstack/nova,stable/stein,Ia5130d411706bf7e1c983156158011a3bc6d5cd6,Add config parameter 'live_migration_scheme' to live migration with tls guide,MERGED,2021-03-26 06:04:19.000000000,2021-04-13 17:09:49.000000000,2021-04-13 17:08:01.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-03-26 06:04:19.000000000', 'files': ['doc/source/admin/secure-live-migration-with-qemu-native-tls.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/b5c206b5cbe06cbf94dae92891624b0813d743d1', 'message': ""Add config parameter 'live_migration_scheme' to live migration with tls guide\n\nThis patch adds the config option 'live_migration_scheme = tls' to the\nsecure live migration guide.\n\nTo let the live migration use the qemu native tls, some configuration of\nthe compute nodes is needed. The guide describes this but misses the\n'live_migration_scheme' config option.\n\nIt is necessary to set 'live_migration_scheme' to tls to use the\nconnection uri for encrypted traffic. Without this parameter everything\nseems to work, but the unencrypted tcp-connection is still used for the\nlive migration.\n\nCloses-Bug: #1919357\nChange-Id: Ia5130d411706bf7e1c983156158011a3bc6d5cd6\n(cherry picked from commit 5d5ff82bab1dfb12e6223446b1cf20db6a348f38)\n(cherry picked from commit 276b8db5afd945bfc56ccfadd25bcce1b6df9cb7)\n(cherry picked from commit a968289b1f89b52d7396b66294f768c732583849)\n(cherry picked from commit 8559ceeec4e52651a272d08ef344d7c03520ed19)\n""}]",0,783199,b5c206b5cbe06cbf94dae92891624b0813d743d1,9,4,1,28271,,,0,"Add config parameter 'live_migration_scheme' to live migration with tls guide

This patch adds the config option 'live_migration_scheme = tls' to the
secure live migration guide.

To let the live migration use the qemu native tls, some configuration of
the compute nodes is needed. The guide describes this but misses the
'live_migration_scheme' config option.

It is necessary to set 'live_migration_scheme' to tls to use the
connection uri for encrypted traffic. Without this parameter everything
seems to work, but the unencrypted tcp-connection is still used for the
live migration.

Closes-Bug: #1919357
Change-Id: Ia5130d411706bf7e1c983156158011a3bc6d5cd6
(cherry picked from commit 5d5ff82bab1dfb12e6223446b1cf20db6a348f38)
(cherry picked from commit 276b8db5afd945bfc56ccfadd25bcce1b6df9cb7)
(cherry picked from commit a968289b1f89b52d7396b66294f768c732583849)
(cherry picked from commit 8559ceeec4e52651a272d08ef344d7c03520ed19)
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/783199/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/secure-live-migration-with-qemu-native-tls.rst'],1,b5c206b5cbe06cbf94dae92891624b0813d743d1,bug/1919357-stable/stein, configuration attribute and set the :oslo.config:option:`libvirt.live_migration_scheme` configuration attribute to tls:: live_migration_scheme = tls .. note:: Not setting :oslo.config:option:`libvirt.live_migration_scheme` to ``tls`` will result in libvirt using the unencrypted TCP connection without displaying any error or a warning in the logs. , configuration attribute::,10,1
openstack%2Fneutron~stable%2Fqueens~I74916acf8311989dca267f23261ec4cf449a6abf,openstack/neutron,stable/queens,I74916acf8311989dca267f23261ec4cf449a6abf,Fix OVS conjunctive IP flows cleanup,MERGED,2021-02-19 08:21:40.000000000,2021-04-13 17:07:51.000000000,2021-04-13 17:07:51.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28159}]","[{'number': 1, 'created': '2021-02-19 08:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f1d182b8792eca8afdccfa3946473927ba3f8e4e', 'message': ""Fix OVS conjunctive IP flows cleanup\n\n Currently when deleting a remote-group's member IPs, the deleted IPs'\n conjunctive flows are not cleaned up in OF tables. This is because\n the conjunctive flows' cookies don't match with the OVSBridge default\n cookie used by the delete flow method. This patch fixed the issue by\n using an ANY cookie that can always match with the cookies of the\n conjunctive flows.\n\nChange-Id: I74916acf8311989dca267f23261ec4cf449a6abf\nCloses-Bug: 1907491\n(cherry picked from commit f4b64e519cdb9fd9c5046f21bc9f325341fd367f)\n(cherry picked from commit 03f0a832a82f35286417e56d6071cfefe823a65c)\n""}, {'number': 2, 'created': '2021-02-23 07:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c005d07119c06825e9d037a1d2fc7915112832c', 'message': ""Fix OVS conjunctive IP flows cleanup\n\n Currently when deleting a remote-group's member IPs, the deleted IPs'\n conjunctive flows are not cleaned up in OF tables. This is because\n the conjunctive flows' cookies don't match with the OVSBridge default\n cookie used by the delete flow method. This patch fixed the issue by\n using an ANY cookie that can always match with the cookies of the\n conjunctive flows.\n\nChange-Id: I74916acf8311989dca267f23261ec4cf449a6abf\nCloses-Bug: 1907491\n(cherry picked from commit f4b64e519cdb9fd9c5046f21bc9f325341fd367f)\n(cherry picked from commit 03f0a832a82f35286417e56d6071cfefe823a65c)\n""}, {'number': 3, 'created': '2021-03-06 18:10:26.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c8d9fed082bbe9cc344b2a56c4cb8ba1912d29d', 'message': ""Fix OVS conjunctive IP flows cleanup\n\n Currently when deleting a remote-group's member IPs, the deleted IPs'\n conjunctive flows are not cleaned up in OF tables. This is because\n the conjunctive flows' cookies don't match with the OVSBridge default\n cookie used by the delete flow method. This patch fixed the issue by\n using an ANY cookie that can always match with the cookies of the\n conjunctive flows.\n\nConflicts:\n    neutron/agent/linux/openvswitch_firewall/firewall.py\n\nChange-Id: I74916acf8311989dca267f23261ec4cf449a6abf\nCloses-Bug: 1907491\n(cherry picked from commit f4b64e519cdb9fd9c5046f21bc9f325341fd367f)\n(cherry picked from commit 03f0a832a82f35286417e56d6071cfefe823a65c)\n""}]",0,776455,0c8d9fed082bbe9cc344b2a56c4cb8ba1912d29d,39,4,3,11975,,,0,"Fix OVS conjunctive IP flows cleanup

 Currently when deleting a remote-group's member IPs, the deleted IPs'
 conjunctive flows are not cleaned up in OF tables. This is because
 the conjunctive flows' cookies don't match with the OVSBridge default
 cookie used by the delete flow method. This patch fixed the issue by
 using an ANY cookie that can always match with the cookies of the
 conjunctive flows.

Conflicts:
    neutron/agent/linux/openvswitch_firewall/firewall.py

Change-Id: I74916acf8311989dca267f23261ec4cf449a6abf
Closes-Bug: 1907491
(cherry picked from commit f4b64e519cdb9fd9c5046f21bc9f325341fd367f)
(cherry picked from commit 03f0a832a82f35286417e56d6071cfefe823a65c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/776455/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",2,f1d182b8792eca8afdccfa3946473927ba3f8e4e,bug/1907491-stable/stein-stable/rocky-stable/queens," def test_delete_flow_for_ip_using_cookie_any(self): with mock.patch.object(self.firewall, '_delete_flows') as \ mock_delete_flows: self.firewall.delete_flow_for_ip(('10.1.2.3', None), constants.INGRESS_DIRECTION, constants.IPv4, 100, [0]) _, kwargs = mock_delete_flows.call_args self.assertIn('cookie', kwargs) self.assertIs(ovs_lib.COOKIE_ANY, kwargs['cookie']) ",,15,0
openstack%2Fkuryr-kubernetes~master~Ib195aa4389e310354f163d3ba474eddea18c4f51,openstack/kuryr-kubernetes,master,Ib195aa4389e310354f163d3ba474eddea18c4f51,"Fixing bug, Kuryr-Controller crashes when it's missing the status",MERGED,2021-03-29 12:42:10.000000000,2021-04-13 17:04:39.000000000,2021-04-13 17:03:15.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-03-29 12:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ab2bb38230079b55c0060bc63c64cb16557a49c0', 'message': ""Fixing bug, Kuryr-Controller crashes when it's missing the status\n\nThis patch is fixing the bug in which was problem after the status\nfield is deleted, kuryr-controller is crashing because of it.\nSo we need to check if status field is missing and add it to the\ncrd.\n\nCloses-Bug: #1921109\nChange-Id: Ib195aa4389e310354f163d3ba474eddea18c4f51\n""}, {'number': 2, 'created': '2021-03-29 12:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f8d112aaef8afb5a611636d1dfcbd610bcb58533', 'message': ""Fixing bug, Kuryr-Controller crashes when it's missing the status\n\nThis patch is fixing the bug in which was problem after the status\nfield is deleted, kuryr-controller is crashing because of it.\nSo we need to check if status field is missing and add it to the\ncrd.\n\nCloses-Bug: #1921109\nChange-Id: Ib195aa4389e310354f163d3ba474eddea18c4f51\n""}, {'number': 3, 'created': '2021-03-31 09:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7cf0931a99c4afb524e2525d8460a756b47d1e5c', 'message': ""Fixing bug, Kuryr-Controller crashes when it's missing the status\n\nThis patch is fixing the bug in which was problem after the status\nfield is deleted, kuryr-controller is crashing because of it.\nSo we need to check if status field is missing and add it to the\ncrd.\nAlso I add there fixes of another parts of code where probably\nin the future could be similar problem is some parts of the CRD\nwould be missing.\n\nCloses-Bug: #1921109\nChange-Id: Ib195aa4389e310354f163d3ba474eddea18c4f51\n""}, {'number': 4, 'created': '2021-04-09 18:37:47.000000000', 'files': ['kuryr_kubernetes/controller/handlers/loadbalancer.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cf2b6732d06e6b676aaaac8ff267ad808d6fa9c1', 'message': ""Fixing bug, Kuryr-Controller crashes when it's missing the status\n\nThis patch is fixing the bug in which was problem after the status\nfield is deleted, kuryr-controller is crashing because of it.\nSo we need to check if status field is missing and add it to the\ncrd.\nAlso I add there fixes of another parts of code where probably\nin the future could be similar problem is some parts of the CRD\nwould be missing.\n\nCloses-Bug: #1921109\nChange-Id: Ib195aa4389e310354f163d3ba474eddea18c4f51\n""}]",7,783645,cf2b6732d06e6b676aaaac8ff267ad808d6fa9c1,22,5,4,30963,,,0,"Fixing bug, Kuryr-Controller crashes when it's missing the status

This patch is fixing the bug in which was problem after the status
field is deleted, kuryr-controller is crashing because of it.
So we need to check if status field is missing and add it to the
crd.
Also I add there fixes of another parts of code where probably
in the future could be similar problem is some parts of the CRD
would be missing.

Closes-Bug: #1921109
Change-Id: Ib195aa4389e310354f163d3ba474eddea18c4f51
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/45/783645/2 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/loadbalancer.py'],1,ab2bb38230079b55c0060bc63c64cb16557a49c0,bug/1921109," if loadbalancer_crd.get('status', None) is None: status = {} kubernetes = clients.get_kubernetes_client() try: kubernetes.patch_crd('status', utils.get_res_link(loadbalancer_crd), status) except k_exc.K8sResourceNotFound: LOG.debug('KuryrLoadbalancer CRD not found %s', loadbalancer_crd) except k_exc.K8sClientException: LOG.exception('Error updating KuryLoadbalancer CRD %s', loadbalancer_crd) raise return # loadbalancer_crd = kubernetes.get_loadbalancer_crd(loadbalancer_crd) ",,18,0
openstack%2Fdevstack~stable%2Fussuri~Ibd1a4ef9787f9e53ba66660fad620dd31d143ccf,openstack/devstack,stable/ussuri,Ibd1a4ef9787f9e53ba66660fad620dd31d143ccf,DNM: testing neutron-trunk,ABANDONED,2021-04-13 13:55:37.000000000,2021-04-13 17:02:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-13 13:55:37.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6912f3f8b07ae547d6c219437030fb1bf4134f79', 'message': 'DNM: testing neutron-trunk\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/774689\nChange-Id: Ibd1a4ef9787f9e53ba66660fad620dd31d143ccf\n'}]",0,786056,6912f3f8b07ae547d6c219437030fb1bf4134f79,3,1,1,8556,,,0,"DNM: testing neutron-trunk

Depends-On: https://review.opendev.org/c/openstack/tempest/+/774689
Change-Id: Ibd1a4ef9787f9e53ba66660fad620dd31d143ccf
",git fetch https://review.opendev.org/openstack/devstack refs/changes/56/786056/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6912f3f8b07ae547d6c219437030fb1bf4134f79,,#test neutron-trunk,,1,0
openstack%2Fnova~master~I85b379d8955eac33cf368776a3b0ef857886b7a7,openstack/nova,master,I85b379d8955eac33cf368776a3b0ef857886b7a7,line limited to 80 chars,ABANDONED,2021-04-13 14:11:14.000000000,2021-04-13 16:56:34.000000000,,[],"[{'number': 1, 'created': '2021-04-13 14:11:14.000000000', 'files': ['nova/conf/imagecache.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e7d7c6a76eba14c34554f39a90049934dae19bdb', 'message': 'line limited to 80 chars\n\nChange-Id: I85b379d8955eac33cf368776a3b0ef857886b7a7\n'}]",0,786057,e7d7c6a76eba14c34554f39a90049934dae19bdb,3,0,1,29422,,,0,"line limited to 80 chars

Change-Id: I85b379d8955eac33cf368776a3b0ef857886b7a7
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/786057/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/imagecache.py'],1,e7d7c6a76eba14c34554f39a90049934dae19bdb,patch_doc_nova_imagecache,"Additional note, every time the image_cache_manager runs the timestamps of images in ``[DEFAULT]/instances_path`` are updated.When there are no remaining instances on the hypervisor created from this base image or linked to it, the base image is considered unused.","Additional note, every time the image_cache_manager runs the timestamps of images in ``[DEFAULT]/instances_path`` are updated.When there are no remaining instances on the hypervisor created from this base image or linked to it, the base image is considered unused.",4,2
openstack%2Fansible-hardening~master~I692241ce21e8bd8912b8d1ff5a261ae10d7da1f2,openstack/ansible-hardening,master,I692241ce21e8bd8912b8d1ff5a261ae10d7da1f2,Added pam_auth_password to nullok check,MERGED,2021-04-12 22:52:34.000000000,2021-04-13 16:47:25.000000000,2021-04-13 16:45:53.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-04-12 22:52:34.000000000', 'files': ['tasks/rhel7stig/auth.yml'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/9b3ea39df49f37824a90dd4d84702811b7553a9e', 'message': 'Added pam_auth_password to nullok check\n\nChange-Id: I692241ce21e8bd8912b8d1ff5a261ae10d7da1f2\n'}]",0,785984,9b3ea39df49f37824a90dd4d84702811b7553a9e,10,3,1,33362,,,0,"Added pam_auth_password to nullok check

Change-Id: I692241ce21e8bd8912b8d1ff5a261ae10d7da1f2
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/84/785984/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/rhel7stig/auth.yml'],1,9b3ea39df49f37824a90dd4d84702811b7553a9e,," dest: ""{{ item[1] }}"" regexp: ""^({{ item[0] }}.*sufficient.*)nullok(.*)$"" loop: ""{{ ['auth', 'password'] |product(['{{ pam_auth_file }}', '{{ pam_password_file }}'])|list }}"""," dest: ""{{ pam_auth_file }}"" regexp: ""^({{ item }}.*sufficient.*)nullok(.*)$"" with_items: - auth - password",3,5
openstack%2Fopenstack-helm-images~master~Ibe8b326d90100a695edbf560f105e7bbe692c9db,openstack/openstack-helm-images,master,Ibe8b326d90100a695edbf560f105e7bbe692c9db,Use appropriate version for selenium chromedriver,MERGED,2021-04-12 15:12:17.000000000,2021-04-13 16:30:05.000000000,2021-04-13 16:24:01.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2021-04-12 15:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/926d0bacb1ff79dce7973c81890cb08a8d38b82e', 'message': 'Fix leftovers for horizon Stein job\n\nChange-Id: Ibe8b326d90100a695edbf560f105e7bbe692c9db\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2021-04-12 18:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/ea27ad0f23fa7d51c4e1fb1e3337df12da942484', 'message': ""Use appropriate version for selenium chromedriver\n\nSince we're using the latest stable Chrome and pin chromedriver,\nit was a matter of time for it to become not compatible.\n\nThis code first installs Chrome, picks its version and, with path\nconvention in place, installs corresponding chromedriver.\n\nAlso removes leftovers of horizon stein job.\n\nChange-Id: Ibe8b326d90100a695edbf560f105e7bbe692c9db\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n""}, {'number': 3, 'created': '2021-04-12 20:21:08.000000000', 'files': ['osh-selenium/Dockerfile.ubuntu_bionic', 'zuul.d/osh-selenium.yaml', 'zuul.d/minikube-aio.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f3cd97a7c40c26bb4e12a20a9cfc70c03c83e0ca', 'message': ""Use appropriate version for selenium chromedriver\n\nPin Chrome to 88.\n\nSince we're using the latest stable Chrome and pin chromedriver,\nit was a matter of time for it to become not compatible.\n\nThis code first installs Chrome (now pinned), picks its version and,\nwith path convention in place, installs corresponding chromedriver.\n\nLooks like latest available (89) Crome causes timeouts and using\ncorresponding chromedriver does not help. Thus pin Chrome for now\nstill using dynamic chromedriver version.\n\nAlso removes leftovers of horizon stein job.\n\nChange-Id: Ibe8b326d90100a695edbf560f105e7bbe692c9db\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n""}]",0,785901,f3cd97a7c40c26bb4e12a20a9cfc70c03c83e0ca,20,6,3,8863,,,0,"Use appropriate version for selenium chromedriver

Pin Chrome to 88.

Since we're using the latest stable Chrome and pin chromedriver,
it was a matter of time for it to become not compatible.

This code first installs Chrome (now pinned), picks its version and,
with path convention in place, installs corresponding chromedriver.

Looks like latest available (89) Crome causes timeouts and using
corresponding chromedriver does not help. Thus pin Chrome for now
still using dynamic chromedriver version.

Also removes leftovers of horizon stein job.

Change-Id: Ibe8b326d90100a695edbf560f105e7bbe692c9db
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/01/785901/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/osh-selenium.yaml', 'zuul.d/minikube-aio.yaml']",2,926d0bacb1ff79dce7973c81890cb08a8d38b82e,, - name: openstack-helm-images-horizon-train-ubuntu_bionic, - name: openstack-helm-images-horizon-stein-ubuntu_bionic,2,2
openstack%2Freleases~master~I5114f344e90edfc28f24ada5048633861886f83b,openstack/releases,master,I5114f344e90edfc28f24ada5048633861886f83b,Wallaby cycle highlight update for TripleO Ceph version,MERGED,2021-04-12 18:55:33.000000000,2021-04-13 16:08:25.000000000,2021-04-13 16:08:25.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 16708}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-12 18:55:33.000000000', 'files': ['deliverables/wallaby/tripleo-heat-templates.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/33fc6771a19e08fb5e2a588ae3af312c0132734d', 'message': 'Wallaby cycle highlight update for TripleO Ceph version\n\nChange-Id: I5114f344e90edfc28f24ada5048633861886f83b\n'}]",0,785955,33fc6771a19e08fb5e2a588ae3af312c0132734d,10,8,1,18002,,,0,"Wallaby cycle highlight update for TripleO Ceph version

Change-Id: I5114f344e90edfc28f24ada5048633861886f83b
",git fetch https://review.opendev.org/openstack/releases refs/changes/55/785955/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/tripleo-heat-templates.yaml'],1,33fc6771a19e08fb5e2a588ae3af312c0132734d,pacific, Ceph version upgraded to Pacific. cephadm may be used to deploy/maintain a Ceph RBD cluster but, Ceph version upgraded to Octopus. cephadm may be used to deploy/maintain a Ceph RBD cluster but,1,1
openstack%2Fopenstack-helm-infra~master~I7d8d7ef28223948437450dcb64bd03f2975ad54d,openstack/openstack-helm-infra,master,I7d8d7ef28223948437450dcb64bd03f2975ad54d,Elasticsearch: Make templates job more robust,MERGED,2021-04-06 18:00:25.000000000,2021-04-13 16:06:32.000000000,2021-04-13 16:04:57.000000000,"[{'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}, {'_account_id': 30777}]","[{'number': 1, 'created': '2021-04-06 18:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0effcdffae9e09104f8a8db1225da77414748108', 'message': 'Elasticsearch: Make templates job more robust & allow overrides\n\nChange-Id: I7d8d7ef28223948437450dcb64bd03f2975ad54d\n'}, {'number': 2, 'created': '2021-04-06 21:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c87f94328cb5622355ccddc8903a63268876c23f', 'message': 'Elasticsearch: Make templates job more robust & allow overrides\n\nChange-Id: I7d8d7ef28223948437450dcb64bd03f2975ad54d\n'}, {'number': 3, 'created': '2021-04-07 15:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/05918bd7a2f869e911039a223bac2a77e9be2066', 'message': 'Elasticsearch: Make templates job more robust & allow overrides\n\nThis change primarily changes the type of the api_objects yaml structure to a map, which\nallows for additional objects to be added by a yaml merge. A list does not support this, and\nrequired re-defining the entire list (not DRY at all)\n\nChange-Id: I7d8d7ef28223948437450dcb64bd03f2975ad54d\n'}, {'number': 4, 'created': '2021-04-08 01:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/08632156741900b2311293de908af2a204d64f2c', 'message': 'Elasticsearch: Make templates job more robust & allow overrides\n\nChange-Id: I7d8d7ef28223948437450dcb64bd03f2975ad54d\n'}, {'number': 5, 'created': '2021-04-08 02:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/79933bb429782aeaa04552d77ded42be4b0e8252', 'message': 'Elasticsearch: Make templates job more robust & allow overrides\n\nChange-Id: I7d8d7ef28223948437450dcb64bd03f2975ad54d\n'}, {'number': 6, 'created': '2021-04-08 02:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/658de5d17ea9f88f08228b647fe08862b29f0406', 'message': 'Elasticsearch: Make templates job more robust & allow overrides\n\nChange-Id: I7d8d7ef28223948437450dcb64bd03f2975ad54d\n'}, {'number': 7, 'created': '2021-04-08 02:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c5298904cda2e6bc7b59412f96a34be50d205e15', 'message': 'WIP Elasticsearch: Make templates job more robust & allow overrides\n\nThis change primarily changes the type of the api_objects yaml structure\nto a map, which allows for additional objects to be added by a yaml\nmerge. Lists cannot be appended to.\n\nChange-Id: I7d8d7ef28223948437450dcb64bd03f2975ad54d\n'}, {'number': 8, 'created': '2021-04-08 03:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6363a12428d9772d44aa179979b872e17ea0e4fa', 'message': 'WIP Elasticsearch: Make templates job more robust & allow overrides\n\nThis change primarily changes the type of the api_objects yaml structure\nto a map, which allows for additional objects to be added by a yaml\nmerge. Lists cannot be appended to.\n\nChange-Id: I7d8d7ef28223948437450dcb64bd03f2975ad54d\n'}, {'number': 9, 'created': '2021-04-12 17:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e3f2c8a95f03211df50859622da3f915f131f13d', 'message': ""Elasticsearch: Make templates job more robust\n\nThis change primarily changes the type of the api_objects yaml structure\nto a map, which allows for additional objects to be added by values\noverrides (Arrays/Lists are not mutable like this)\n\nAlso, in the previous change, some scripts in HTK were modified, while\nother were copied over to the Elasticsearch chart. To simplify the chart's\nstructure, this change also moves the create_s3_bucket script to Elasticsearch,\nand reverts the changes in HTK.\n\nThose HTK scripts are no longer referenced by osh charts, and could be candidates\nfor removal if that chart needed to be pruned\n\nChange-Id: I7d8d7ef28223948437450dcb64bd03f2975ad54d\n""}, {'number': 10, 'created': '2021-04-12 17:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/041d7ec681253af5201c811232ead38d1c8ef66a', 'message': ""Elasticsearch: Make templates job more robust\n\nThis change primarily changes the type of the api_objects yaml structure\nto a map, which allows for additional objects to be added by values\noverrides (Arrays/Lists are not mutable like this)\n\nAlso, in the previous change, some scripts in HTK were modified, while\nother were copied over to the Elasticsearch chart. To simplify the chart's\nstructure, this change also moves the create_s3_bucket script to Elasticsearch,\nand reverts the changes in HTK.\n\nThose HTK scripts are no longer referenced by osh charts, and could be candidates\nfor removal if that chart needed to be pruned\n\nChange-Id: I7d8d7ef28223948437450dcb64bd03f2975ad54d\n""}, {'number': 11, 'created': '2021-04-12 18:40:17.000000000', 'files': ['elasticsearch/templates/configmap-bin-elasticsearch.yaml', 'elasticsearch/templates/bin/_create_template.sh.tpl', 'elasticsearch/templates/bin/_create_s3_buckets.sh.tpl', 'elasticsearch/templates/bin/_helm-tests.sh.tpl', 'elasticsearch/values.yaml', 'releasenotes/notes/elasticsearch.yaml', 'helm-toolkit/Chart.yaml', 'releasenotes/notes/helm-toolkit.yaml', 'helm-toolkit/templates/scripts/_create-s3-user.sh.tpl', 'tools/deployment/osh-infra-logging/050-elasticsearch.sh', 'helm-toolkit/templates/scripts/_create-s3-bucket.sh.tpl', 'elasticsearch/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d3c6069be3013e5b508a081fc0053b90b9a5ab3a', 'message': ""Elasticsearch: Make templates job more robust\n\nThis change primarily changes the type of the api_objects yaml structure\nto a map, which allows for additional objects to be added by values\noverrides (Arrays/Lists are not mutable like this)\n\nAlso, in the previous change, some scripts in HTK were modified, while\nother were copied over to the Elasticsearch chart. To simplify the chart's\nstructure, this change also moves the create_s3_bucket script to Elasticsearch,\nand reverts the changes in HTK.\n\nThose HTK scripts are no longer referenced by osh charts, and could be candidates\nfor removal if that chart needed to be pruned\n\nChange-Id: I7d8d7ef28223948437450dcb64bd03f2975ad54d\n""}]",2,785023,d3c6069be3013e5b508a081fc0053b90b9a5ab3a,31,6,11,30777,,,0,"Elasticsearch: Make templates job more robust

This change primarily changes the type of the api_objects yaml structure
to a map, which allows for additional objects to be added by values
overrides (Arrays/Lists are not mutable like this)

Also, in the previous change, some scripts in HTK were modified, while
other were copied over to the Elasticsearch chart. To simplify the chart's
structure, this change also moves the create_s3_bucket script to Elasticsearch,
and reverts the changes in HTK.

Those HTK scripts are no longer referenced by osh charts, and could be candidates
for removal if that chart needed to be pruned

Change-Id: I7d8d7ef28223948437450dcb64bd03f2975ad54d
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/23/785023/5 && git format-patch -1 --stdout FETCH_HEAD,"['elasticsearch/templates/bin/_create_template.sh.tpl', 'tools/deployment/osh-infra-logging/050-elasticsearch.sh', 'elasticsearch/templates/bin/_helm-tests.sh.tpl', 'elasticsearch/values.yaml', 'releasenotes/notes/elasticsearch.yaml', 'elasticsearch/Chart.yaml']",6,0effcdffae9e09104f8a8db1225da77414748108,,version: 0.2.1,version: 0.2.0,80,60
openstack%2Ftripleo-quickstart~master~Ia6216961d6030b61574d082a953e4fbd7c122e74,openstack/tripleo-quickstart,master,Ia6216961d6030b61574d082a953e4fbd7c122e74,WIP: add feature to execute repoclosure,ABANDONED,2021-03-26 17:23:55.000000000,2021-04-13 15:57:45.000000000,,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13294}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-26 17:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f961184f6ce5b5defb0d16bb7202b353b70ee640', 'message': 'add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\nrepoclosure command.\n* since multiple playbooks are used a follow up patch to\na playbook in tqe is required.  For example w/ a standalone\njob quickstart.yml and multinode-standalone.yml are use.\n  * if zuul.repoclosure is defined, stop multinode-standalone.yml\n   from fully executing.\n\nChange-Id: Ia6216961d6030b61574d082a953e4fbd7c122e74\n'}, {'number': 2, 'created': '2021-03-26 19:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2bfdafa8770fedde35943c40f7454fa51cca6e21', 'message': 'add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\nrepoclosure command.\n* since multiple playbooks are used a follow up patch to\na playbook in tqe is required.  For example w/ a standalone\njob quickstart.yml and multinode-standalone.yml are use.\n  * if zuul.repoclosure is defined, stop multinode-standalone.yml\n   from fully executing.\n\nChange-Id: Ia6216961d6030b61574d082a953e4fbd7c122e74\n'}, {'number': 3, 'created': '2021-03-29 14:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9a410a96140bb3ab583b8852331adb2a1e508210', 'message': 'add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\nrepoclosure command.\n* since multiple playbooks are used a follow up patch to\na playbook in tqe is required.  For example w/ a standalone\njob quickstart.yml and multinode-standalone.yml are use.\n  * if zuul.repoclosure is defined, stop multinode-standalone.yml\n   from fully executing.\n\nChange-Id: Ia6216961d6030b61574d082a953e4fbd7c122e74\n'}, {'number': 4, 'created': '2021-03-30 17:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2c84c25694c194834d32ec0d58ee401a59c58972', 'message': 'add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\nrepoclosure command.\n* since multiple playbooks are used a follow up patch to\na playbook in tqe is required.  For example w/ a standalone\njob quickstart.yml and multinode-standalone.yml are use.\n  * if zuul.repoclosure is defined, stop multinode-standalone.yml\n   from fully executing.\n\nChange-Id: Ia6216961d6030b61574d082a953e4fbd7c122e74\n'}, {'number': 5, 'created': '2021-03-31 16:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1ba4abb490fa977903f5e0a3ae0af0e0e3336f96', 'message': 'add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\nrepoclosure command.\n* since multiple playbooks are used a follow up patch to\na playbook in tqe is required.  For example w/ a standalone\njob quickstart.yml and multinode-standalone.yml are use.\n  * if zuul.repoclosure is defined, stop multinode-standalone.yml\n   from fully executing.\n\nChange-Id: Ia6216961d6030b61574d082a953e4fbd7c122e74\n'}, {'number': 6, 'created': '2021-03-31 17:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/393fce3d805bc5442ffce4a81db7aa2841e39115', 'message': 'add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\nrepoclosure command.\n* since multiple playbooks are used a follow up patch to\na playbook in tqe is required.  For example w/ a standalone\njob quickstart.yml and multinode-standalone.yml are use.\n  * if zuul.repoclosure is defined, stop multinode-standalone.yml\n   from fully executing.\n\nChange-Id: Ia6216961d6030b61574d082a953e4fbd7c122e74\n'}, {'number': 7, 'created': '2021-03-31 19:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f4e5256d82e4fe7661bb384aa57cceaa2ad59c78', 'message': 'add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\nrepoclosure command.\n* since multiple playbooks are used a follow up patch to\na playbook in tqe is required.  For example w/ a standalone\njob quickstart.yml and multinode-standalone.yml are use.\n  * if zuul.repoclosure is defined, stop multinode-standalone.yml\n   from fully executing.\n\nChange-Id: Ia6216961d6030b61574d082a953e4fbd7c122e74\n'}, {'number': 8, 'created': '2021-03-31 19:58:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e2dc1ab1e9149eaa1215736ab38ba5d9048e5b34', 'message': 'add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\nrepoclosure command.\n* since multiple playbooks are used a follow up patch to\na playbook in tqe is required.  For example w/ a standalone\njob quickstart.yml and multinode-standalone.yml are use.\n  * if zuul.repoclosure is defined, stop multinode-standalone.yml\n   from fully executing.\n\nChange-Id: Ia6216961d6030b61574d082a953e4fbd7c122e74\n'}, {'number': 9, 'created': '2021-04-01 17:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/04adad32ec449f703ae4a7b189eede5164e94b9e', 'message': 'add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\nrepoclosure command.\n* since multiple playbooks are used a follow up patch to\na playbook in tqe is required.  For example w/ a standalone\njob quickstart.yml and multinode-standalone.yml are use.\n  * if zuul.repoclosure is defined, stop multinode-standalone.yml\n   from fully executing.\n\nChange-Id: Ia6216961d6030b61574d082a953e4fbd7c122e74\n'}, {'number': 10, 'created': '2021-04-05 16:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5296d22c97c7498de8bb2fa61d36e67a094a44fb', 'message': 'WIP: add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\nrepoclosure command.\n* since multiple playbooks are used a follow up patch to\na playbook in tqe is required.  For example w/ a standalone\njob quickstart.yml and multinode-standalone.yml are use.\n  * if zuul.repoclosure is defined, stop multinode-standalone.yml\n   from fully executing.\n\nChange-Id: Ia6216961d6030b61574d082a953e4fbd7c122e74\n'}, {'number': 11, 'created': '2021-04-05 16:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/38e1c19e7454cca4f2e566605c0596841887ab82', 'message': 'WIP: add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\nrepoclosure command.\n* since multiple playbooks are used a follow up patch to\na playbook in tqe is required.  For example w/ a standalone\njob quickstart.yml and multinode-standalone.yml are use.\n  * if zuul.repoclosure is defined, stop multinode-standalone.yml\n   from fully executing.\n\nChange-Id: Ia6216961d6030b61574d082a953e4fbd7c122e74\n'}, {'number': 12, 'created': '2021-04-05 17:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/acf32768adfc38fd0448dd37ec06efb8c9823c85', 'message': 'WIP: add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\nrepoclosure command.\n* since multiple playbooks are used a follow up patch to\na playbook in tqe is required.  For example w/ a standalone\njob quickstart.yml and multinode-standalone.yml are use.\n  * if zuul.repoclosure is defined, stop multinode-standalone.yml\n   from fully executing.\n\nChange-Id: Ia6216961d6030b61574d082a953e4fbd7c122e74\n'}, {'number': 13, 'created': '2021-04-05 18:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/45e5d46b74595c19f47740446eaf778f6f27dfeb', 'message': 'WIP: add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\nrepoclosure command.\n* since multiple playbooks are used a follow up patch to\na playbook in tqe is required.  For example w/ a standalone\njob quickstart.yml and multinode-standalone.yml are use.\n  * if zuul.repoclosure is defined, stop multinode-standalone.yml\n   from fully executing.\n\nChange-Id: Ia6216961d6030b61574d082a953e4fbd7c122e74\n'}, {'number': 14, 'created': '2021-04-05 18:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4fd0fdbd2ba3e58fbd73dbab9f12a52b41741a53', 'message': 'WIP: add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\nrepoclosure command.\n* since multiple playbooks are used a follow up patch to\na playbook in tqe is required.  For example w/ a standalone\njob quickstart.yml and multinode-standalone.yml are use.\n  * if zuul.repoclosure is defined, stop multinode-standalone.yml\n   from fully executing.\n\nChange-Id: Ia6216961d6030b61574d082a953e4fbd7c122e74\n'}, {'number': 15, 'created': '2021-04-05 18:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1b072fc123ed619d00b503b4c335ad7704bf2568', 'message': 'WIP: add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\nrepoclosure command.\n* since multiple playbooks are used a follow up patch to\na playbook in tqe is required.  For example w/ a standalone\njob quickstart.yml and multinode-standalone.yml are use.\n  * if zuul.repoclosure is defined, stop multinode-standalone.yml\n   from fully executing.\n\nChange-Id: Ia6216961d6030b61574d082a953e4fbd7c122e74\n'}, {'number': 16, 'created': '2021-04-05 18:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/16b51fee6164a8eed3ce6b3ed924fcafbea584b3', 'message': 'WIP: add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\nrepoclosure command.\n* since multiple playbooks are used a follow up patch to\na playbook in tqe is required.  For example w/ a standalone\njob quickstart.yml and multinode-standalone.yml are use.\n  * if zuul.repoclosure is defined, stop multinode-standalone.yml\n   from fully executing.\n\nChange-Id: Ia6216961d6030b61574d082a953e4fbd7c122e74\n'}, {'number': 17, 'created': '2021-04-05 21:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/90f226484530f938e44fa6d842ed8f7c138c65f6', 'message': 'WIP: add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\nrepoclosure command.\n* since multiple playbooks are used a follow up patch to\na playbook in tqe is required.  For example w/ a standalone\njob quickstart.yml and multinode-standalone.yml are use.\n  * if zuul.repoclosure is defined, stop multinode-standalone.yml\n   from fully executing.\n\nChange-Id: Ia6216961d6030b61574d082a953e4fbd7c122e74\n'}, {'number': 18, 'created': '2021-04-05 22:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/85a74d96cbb576325b6dd4dc1f0ff3d07fe90468', 'message': 'WIP: add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\nrepoclosure command.\n* since multiple playbooks are used a follow up patch to\na playbook in tqe is required.  For example w/ a standalone\njob quickstart.yml and multinode-standalone.yml are use.\n  * if zuul.repoclosure is defined, stop multinode-standalone.yml\n   from fully executing.\n\nChange-Id: Ia6216961d6030b61574d082a953e4fbd7c122e74\n'}, {'number': 19, 'created': '2021-04-05 23:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a55d187ad2f545fa5d67319f77d4ad62ac353986', 'message': 'WIP: add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\nrepoclosure command.\n* since multiple playbooks are used a follow up patch to\na playbook in tqe is required.  For example w/ a standalone\njob quickstart.yml and multinode-standalone.yml are use.\n  * if zuul.repoclosure is defined, stop multinode-standalone.yml\n   from fully executing.\n\nChange-Id: Ia6216961d6030b61574d082a953e4fbd7c122e74\n'}, {'number': 20, 'created': '2021-04-06 04:16:07.000000000', 'files': ['roles/repo-setup/tasks/setup_repos.yml', 'roles/repo-setup/tasks/create-repo-script.yml', 'roles/repo-setup/defaults/main.yml', 'roles/repo-setup/templates/repoclosure.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6a76c80d336c3d711a6ce5ebb5e7f40deb7146b8', 'message': 'WIP: add feature to execute repoclosure\n\n* execute repoclosure directly after the repos are setup\n* allow the ansible playbook run to stop directly after the\nrepoclosure command.\n* since multiple playbooks are used a follow up patch to\na playbook in tqe is required.  For example w/ a standalone\njob quickstart.yml and multinode-standalone.yml are use.\n  * if zuul.repoclosure is defined, stop multinode-standalone.yml\n   from fully executing.\n\nChange-Id: Ia6216961d6030b61574d082a953e4fbd7c122e74\n'}]",19,783393,6a76c80d336c3d711a6ce5ebb5e7f40deb7146b8,58,7,20,9592,,,0,"WIP: add feature to execute repoclosure

* execute repoclosure directly after the repos are setup
* allow the ansible playbook run to stop directly after the
repoclosure command.
* since multiple playbooks are used a follow up patch to
a playbook in tqe is required.  For example w/ a standalone
job quickstart.yml and multinode-standalone.yml are use.
  * if zuul.repoclosure is defined, stop multinode-standalone.yml
   from fully executing.

Change-Id: Ia6216961d6030b61574d082a953e4fbd7c122e74
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/93/783393/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/repo-setup/tasks/setup_repos.yml', 'roles/repo-setup/defaults/main.yml']",2,f961184f6ce5b5defb0d16bb7202b353b70ee640,repoclosure,repoclosure_log: repoclosure.log,,21,0
openstack%2Ftripleo-common~stable%2Fvictoria~I236db070b5d929cb51d34c6eefd47866e07de6a7,openstack/tripleo-common,stable/victoria,I236db070b5d929cb51d34c6eefd47866e07de6a7,Add ceph-ansible to tripleoclient container,MERGED,2021-04-04 17:50:37.000000000,2021-04-13 15:54:55.000000000,2021-04-13 15:53:07.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-04-04 17:50:37.000000000', 'files': ['container-images/tcib/base/tripleoclient/tripleoclient.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c33a2c1f75d965625acd8d79128dfa2a85564a32', 'message': 'Add ceph-ansible to tripleoclient container\n\nChange-Id: I236db070b5d929cb51d34c6eefd47866e07de6a7\n(cherry picked from commit 6a5277b4f6378de8f37d433550d53edbcf7a8f36)\n'}]",0,784584,c33a2c1f75d965625acd8d79128dfa2a85564a32,15,4,1,17216,,,0,"Add ceph-ansible to tripleoclient container

Change-Id: I236db070b5d929cb51d34c6eefd47866e07de6a7
(cherry picked from commit 6a5277b4f6378de8f37d433550d53edbcf7a8f36)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/84/784584/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/tripleoclient/tripleoclient.yaml'],1,c33a2c1f75d965625acd8d79128dfa2a85564a32,add_ceph_ansible-stable/victoria, - ceph-ansible,,1,0
openstack%2Fopenstack-ansible~master~Ic03e6271695bbfd5e7166994a44af46cc0134bbd,openstack/openstack-ansible,master,Ic03e6271695bbfd5e7166994a44af46cc0134bbd,Return PyMySQL installation for distro installs,MERGED,2021-04-06 13:39:11.000000000,2021-04-13 15:47:40.000000000,2021-04-13 15:45:44.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-04-06 13:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/18319a300b872f3ea319c55680b329d6f0b205f4', 'message': 'Return PyMySQL installation for distro installs\n\nDue to error, PyMySQL installation for distro based installs was removed\nwith [1]\n\nWe return this behaviour back and fixing LXC distro deployments.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible/+/742100\n\nChange-Id: Ic03e6271695bbfd5e7166994a44af46cc0134bbd\nCloses-Bug: #1922701\n'}, {'number': 2, 'created': '2021-04-08 13:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f4621792555e1c23668e7325da7edbdeb8410284', 'message': 'Return PyMySQL installation for distro installs\n\nDue to error, PyMySQL installation for distro based installs was removed\nwith [1]\n\nWe return this behaviour back and fixing LXC distro deployments.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible/+/742100\n\nChange-Id: Ic03e6271695bbfd5e7166994a44af46cc0134bbd\nCloses-Bug: #1922701\n'}, {'number': 3, 'created': '2021-04-08 13:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d24f4f552e28073c1bee1e89eb7a824acf6eed05', 'message': 'Return PyMySQL installation for distro installs\n\nDue to error, PyMySQL installation for distro based installs was removed\nwith [1]\n\nWe return this behaviour back and fixing LXC distro deployments.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible/+/742100\n\nChange-Id: Ic03e6271695bbfd5e7166994a44af46cc0134bbd\nCloses-Bug: #1922701\n'}, {'number': 4, 'created': '2021-04-08 13:50:38.000000000', 'files': ['inventory/group_vars/utility_all.yml', 'playbooks/utility-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b42ab487a8c0ac1798c5fc9cc7fd78615d1a6ad5', 'message': 'Return PyMySQL installation for distro installs\n\nDue to error, PyMySQL installation for distro based installs was removed\nwith [1]\n\nWe return this behaviour back and fixing LXC distro deployments.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible/+/742100\n\nChange-Id: Ic03e6271695bbfd5e7166994a44af46cc0134bbd\nCloses-Bug: #1922701\n'}]",0,784957,b42ab487a8c0ac1798c5fc9cc7fd78615d1a6ad5,18,3,4,28619,,,0,"Return PyMySQL installation for distro installs

Due to error, PyMySQL installation for distro based installs was removed
with [1]

We return this behaviour back and fixing LXC distro deployments.

[1] https://review.opendev.org/c/openstack/openstack-ansible/+/742100

Change-Id: Ic03e6271695bbfd5e7166994a44af46cc0134bbd
Closes-Bug: #1922701
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/57/784957/4 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/group_vars/utility_all.yml', 'playbooks/utility-install.yml']",2,18319a300b872f3ea319c55680b329d6f0b205f4,bug/1922701, ~ ansible_facts['distribution_major_version'] ~ '/Everything/' description: 'Extra Packages for Enterprise Linux {{ ansible_facts['ansible_distribution_major_version'] }} - $basearch', ~ ansible_facts['distribution_major_version'] ~ '/' description: 'Extra Packages for Enterprise Linux 7 - $basearch',3,2
openstack%2Fneutron~stable%2Fvictoria~I68b9a586d1d7ec75820fedcb8e51d1c49ae871ae,openstack/neutron,stable/victoria,I68b9a586d1d7ec75820fedcb8e51d1c49ae871ae,ovn: Do not set reside-on-redirect-chassis on distributed FIP,MERGED,2021-04-07 12:24:49.000000000,2021-04-13 15:38:18.000000000,2021-04-13 15:36:31.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 12:24:49.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b956411b6c398a51a7e385f560a2c72aa29b0edd', 'message': 'ovn: Do not set reside-on-redirect-chassis on distributed FIP\n\nSince [1] and [2] OVN supports DVR on VLAN networks with usage of\nexternal-ids:ovn-chassis-mac-mappings, but reside-on-redirect-chassis\nneeds to be unset when distributed floating IP is enabled.\n\n[1]: https://github.com/ovn-org/ovn/commit/1fed74cfc1a1e3b29cf86eab2e96048813019b57\n[2]: https://github.com/ovn-org/ovn/commit/522911269f1422e1274cbfbe53035a3bb8f573eb\n\nCloses-Bug: #1920976\nChange-Id: I68b9a586d1d7ec75820fedcb8e51d1c49ae871ae\n(cherry picked from commit 828765412789a15a5f375060cfab7628c65e9d5d)\n'}]",0,785131,b956411b6c398a51a7e385f560a2c72aa29b0edd,26,4,1,22629,,,0,"ovn: Do not set reside-on-redirect-chassis on distributed FIP

Since [1] and [2] OVN supports DVR on VLAN networks with usage of
external-ids:ovn-chassis-mac-mappings, but reside-on-redirect-chassis
needs to be unset when distributed floating IP is enabled.

[1]: https://github.com/ovn-org/ovn/commit/1fed74cfc1a1e3b29cf86eab2e96048813019b57
[2]: https://github.com/ovn-org/ovn/commit/522911269f1422e1274cbfbe53035a3bb8f573eb

Closes-Bug: #1920976
Change-Id: I68b9a586d1d7ec75820fedcb8e51d1c49ae871ae
(cherry picked from commit 828765412789a15a5f375060cfab7628c65e9d5d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/31/785131/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'],1,b956411b6c398a51a7e385f560a2c72aa29b0edd,, if (network.get(pnet.NETWORK_TYPE) == const.TYPE_VLAN and not ovn_conf.is_ovn_distributed_floating_ip()):, if network.get(pnet.NETWORK_TYPE) == const.TYPE_VLAN:,2,1
openstack%2Freleases~master~I340fa98e177651319e7e69976aea9258d5ba0de2,openstack/releases,master,I340fa98e177651319e7e69976aea9258d5ba0de2,Release puppet-neutron 16.4.0 for stable/ussuri,MERGED,2021-04-13 05:48:18.000000000,2021-04-13 15:38:13.000000000,2021-04-13 15:38:13.000000000,"[{'_account_id': 308}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-13 05:48:18.000000000', 'files': ['deliverables/ussuri/puppet-neutron.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c65342ad720ef23396df326aaf18d71ff1e1d4ab', 'message': 'Release puppet-neutron 16.4.0 for stable/ussuri\n\nCouple of fixes and new parameters are added since last\ntag release of puppet-neutron, so requesting a new tag\nrelease for it, metadata already bumped in [1].\n\n[1] https://review.opendev.org/c/openstack/puppet-neutron/+/785898\n\nChange-Id: I340fa98e177651319e7e69976aea9258d5ba0de2\n'}]",0,786006,c65342ad720ef23396df326aaf18d71ff1e1d4ab,11,8,1,13861,,,0,"Release puppet-neutron 16.4.0 for stable/ussuri

Couple of fixes and new parameters are added since last
tag release of puppet-neutron, so requesting a new tag
release for it, metadata already bumped in [1].

[1] https://review.opendev.org/c/openstack/puppet-neutron/+/785898

Change-Id: I340fa98e177651319e7e69976aea9258d5ba0de2
",git fetch https://review.opendev.org/openstack/releases refs/changes/06/786006/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/puppet-neutron.yaml'],1,c65342ad720ef23396df326aaf18d71ff1e1d4ab,, - projects: - hash: 6bf094faa02bf56e20ffac580867891fac59fbc0 repo: openstack/puppet-neutron version: 16.4.0,,4,0
openstack%2Ftripleo-specs~master~I7f5fe375cd93ff5340e0c1fce56f6cf43988de34,openstack/tripleo-specs,master,I7f5fe375cd93ff5340e0c1fce56f6cf43988de34,Placeholder for Xena specs,MERGED,2021-04-13 14:30:44.000000000,2021-04-13 15:35:46.000000000,2021-04-13 15:33:35.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-13 14:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/f8d252d0596ade01d78e72edbe3cdfda82a88869', 'message': 'Placeholder for Xena specs\n\nChange-Id: I7f5fe375cd93ff5340e0c1fce56f6cf43988de34\n'}, {'number': 2, 'created': '2021-04-13 14:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/d1d4e33f9eac6bf93676c5df8d3124bb745f658b', 'message': 'Placeholder for Xena specs\n\nChange-Id: I7f5fe375cd93ff5340e0c1fce56f6cf43988de34\n'}, {'number': 3, 'created': '2021-04-13 15:03:58.000000000', 'files': ['doc/source/index.rst', 'specs/xena/placeholder.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/5e0cf73a7c17df23f0eb8c2aa954d4f6ef2ffc30', 'message': 'Placeholder for Xena specs\n\nChange-Id: I7f5fe375cd93ff5340e0c1fce56f6cf43988de34\n'}]",0,786060,5e0cf73a7c17df23f0eb8c2aa954d4f6ef2ffc30,11,2,3,28223,,,0,"Placeholder for Xena specs

Change-Id: I7f5fe375cd93ff5340e0c1fce56f6cf43988de34
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/60/786060/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/placeholder.rst'],1,f8d252d0596ade01d78e72edbe3cdfda82a88869,xena,.. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================ Placeholder file ================ Please remove this file once we get a real spec! ,,11,0
openstack%2Fkayobe~stable%2Fstein~I1b86c5f58d0c3b63269766eaa8e76af18b5fadb1,openstack/kayobe,stable/stein,I1b86c5f58d0c3b63269766eaa8e76af18b5fadb1,Fix installation errors with Python 2,MERGED,2021-04-12 13:07:20.000000000,2021-04-13 15:35:41.000000000,2021-04-13 15:29:01.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-04-12 13:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8b687695de7f8b7c779aec96f14d8cf491a01e8f', 'message': ""Fix installation errors with Python 2\n\npython 2 jobs recently started failing frequently with the following\nerror:\n\n    distutils.errors.DistutilsError: Could not find suitable distribution for Requirement.parse('pbr>=2.0')\n\nThe root cause appears to be that indirect requirements are handled by\neasy_install which doesn't like some index servers [1]. Install the\nlatest setuptools first to work around the issue.\n\n[1] https://github.com/googleapis/google-cloud-python/issues/3757#issuecomment-422384453\n\nChange-Id: I1b86c5f58d0c3b63269766eaa8e76af18b5fadb1\n""}, {'number': 2, 'created': '2021-04-12 13:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c403615ea560c49cccddca708f5f5bfb7f908609', 'message': ""Fix installation errors with Python 2\n\nPython 2 jobs recently started failing frequently with the following\nerror:\n\n    distutils.errors.DistutilsError: Could not find suitable distribution for Requirement.parse('pbr>=2.0')\n\nThe root cause appears to be that indirect requirements are handled by\neasy_install which doesn't like some index servers [1]. Install the\nlatest setuptools first to work around the issue.\n\n[1] https://github.com/googleapis/google-cloud-python/issues/3757#issuecomment-422384453\n\nChange-Id: I1b86c5f58d0c3b63269766eaa8e76af18b5fadb1\n""}, {'number': 3, 'created': '2021-04-12 18:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cb42cf3a87ef97f8225c80db0441f58ce6aaff34', 'message': ""Fix installation errors with Python 2\n\nPython 2 jobs recently started failing frequently with the following\nerror:\n\n    distutils.errors.DistutilsError: Could not find suitable distribution for Requirement.parse('pbr>=2.0')\n\nThe root cause appears to be that indirect requirements are handled by\neasy_install which doesn't like some index servers [1]. Install the\nlatest setuptools first to work around the issue.\n\n[1] https://github.com/googleapis/google-cloud-python/issues/3757#issuecomment-422384453\n\nChange-Id: I1b86c5f58d0c3b63269766eaa8e76af18b5fadb1\n""}, {'number': 4, 'created': '2021-04-13 10:07:16.000000000', 'files': ['ansible/roles/kolla/tasks/install.yml', 'dev/functions', 'ansible/roles/kolla-ansible/tasks/install.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/125d399bdae572ab06fe5fb633a7a0cad9f72ce0', 'message': ""Fix installation errors with Python 2\n\nPython 2 jobs recently started failing frequently with the following\nerror:\n\n    distutils.errors.DistutilsError: Could not find suitable distribution for Requirement.parse('pbr>=2.0')\n\nThe root cause appears to be that indirect requirements are handled by\neasy_install which doesn't like some index servers [1]. Install the\nlatest setuptools first to work around the issue.\n\nDisable upgrade jobs since the same issue is affecting Kayobe\ninstallation in the previous release (Rocky).\n\n[1] https://github.com/googleapis/google-cloud-python/issues/3757#issuecomment-422384453\n\nChange-Id: I1b86c5f58d0c3b63269766eaa8e76af18b5fadb1\n""}]",0,785869,125d399bdae572ab06fe5fb633a7a0cad9f72ce0,31,5,4,15197,,,0,"Fix installation errors with Python 2

Python 2 jobs recently started failing frequently with the following
error:

    distutils.errors.DistutilsError: Could not find suitable distribution for Requirement.parse('pbr>=2.0')

The root cause appears to be that indirect requirements are handled by
easy_install which doesn't like some index servers [1]. Install the
latest setuptools first to work around the issue.

Disable upgrade jobs since the same issue is affecting Kayobe
installation in the previous release (Rocky).

[1] https://github.com/googleapis/google-cloud-python/issues/3757#issuecomment-422384453

Change-Id: I1b86c5f58d0c3b63269766eaa8e76af18b5fadb1
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/69/785869/2 && git format-patch -1 --stdout FETCH_HEAD,['dev/functions'],1,8b687695de7f8b7c779aec96f14d8cf491a01e8f,pbr-fix-stable/stein, # Update setuptools as workaround for distutils.errors.DistutilsError: # Could not find suitable distribution for Requirement.parse('pbr') pip install -U setuptools,,3,0
openstack%2Fnova-specs~master~I1bff3956960eb954f08b30c4a97391c0a0f839c8,openstack/nova-specs,master,I1bff3956960eb954f08b30c4a97391c0a0f839c8,Add xena directory for specs,ABANDONED,2021-03-04 02:51:07.000000000,2021-04-13 15:32:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-04 02:51:07.000000000', 'files': ['doc/source/specs/xena/index.rst', 'specs/xena/implemented/xena-template.rst', 'doc/source/specs/xena/template.rst', 'specs/xena/redirects', 'doc/source/index.rst', 'doc/source/specs/xena/approved', 'specs/xena-template.rst', 'specs/xena/approved/xena-template.rst', 'priorities/xena-priorities.rst', 'doc/source/specs/xena/redirects', 'doc/source/specs/xena/implemented'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/091c46fcf349ffe091081fe2fd9d1a6aa474b19e', 'message': 'Add xena directory for specs\n\nChange-Id: I1bff3956960eb954f08b30c4a97391c0a0f839c8\n'}]",0,778604,091c46fcf349ffe091081fe2fd9d1a6aa474b19e,3,1,1,32326,,,0,"Add xena directory for specs

Change-Id: I1bff3956960eb954f08b30c4a97391c0a0f839c8
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/04/778604/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/specs/xena/index.rst', 'specs/xena/implemented/xena-template.rst', 'doc/source/specs/xena/template.rst', 'specs/xena/redirects', 'doc/source/index.rst', 'doc/source/specs/xena/approved', 'specs/xena-template.rst', 'specs/xena/approved/xena-template.rst', 'priorities/xena-priorities.rst', 'doc/source/specs/xena/redirects', 'doc/source/specs/xena/implemented']",11,091c46fcf349ffe091081fe2fd9d1a6aa474b19e,,../../../../specs/xena/implemented,,51,1
openstack%2Fnova~stable%2Fvictoria~Ie8bb5e5622bd37dfe8073cca12f77174e8e7d98c,openstack/nova,stable/victoria,Ie8bb5e5622bd37dfe8073cca12f77174e8e7d98c,libvirt: Log exception when unable to import rbd or rados,NEW,2020-10-14 20:18:19.000000000,2021-04-13 15:13:14.000000000,,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-10-14 20:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/961a355fb314975ee169cbe9ef88eb8537294253', 'message': ""libvirt: Log exception when unable to import rbd or rados\n\nThis should help provide some context when the RbdDriver later raises a\nRuntimeError if rbd or rados hasn't been imported correctly.\n\nChange-Id: Ie8bb5e5622bd37dfe8073cca12f77174e8e7d98c\n(cherry picked from commit aa16dd09ebeb21d0b81682b0b6026de0fe4f23b7)\n""}, {'number': 2, 'created': '2021-04-13 10:51:08.000000000', 'files': ['nova/storage/rbd_utils.py', 'nova/tests/unit/image/test_glance.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/09ab9df83b1d7323b94477245db08e2b99f1f3ce', 'message': ""libvirt: Log exception when unable to import rbd or rados\n\nThis should help provide some context when the RbdDriver later raises a\nRuntimeError if rbd or rados hasn't been imported correctly.\n\nNOTE(lyarwood): This includes the following change squashed in to reduce\nnoise in the logs and limit these warnings to times that the RbdDriver\nis actually used.\n\nrbd: Only log import failures when the RbdDriver is used\n\nRework Ie8bb5e5622bd37dfe8073cca12f77174e8e7d98c so we only log failures\nto import the rbd or rados modules when the RbdDriver is used.\n\nThis should reduce noise in the logs at runtime as well as during unit\nand functional tests runs where these modules are not present.\n\nChange-Id: I150e70629f6ae579ccfe0bf585c8a27df14fb51d\nCloses-Bug: #1903316\n(cherry picked from commit 4916ab7a4cb67edc0b54a8ee67c58b1302769792)\n\nChange-Id: Ie8bb5e5622bd37dfe8073cca12f77174e8e7d98c\n(cherry picked from commit aa16dd09ebeb21d0b81682b0b6026de0fe4f23b7)\n""}]",0,758240,09ab9df83b1d7323b94477245db08e2b99f1f3ce,19,7,2,10135,,,0,"libvirt: Log exception when unable to import rbd or rados

This should help provide some context when the RbdDriver later raises a
RuntimeError if rbd or rados hasn't been imported correctly.

NOTE(lyarwood): This includes the following change squashed in to reduce
noise in the logs and limit these warnings to times that the RbdDriver
is actually used.

rbd: Only log import failures when the RbdDriver is used

Rework Ie8bb5e5622bd37dfe8073cca12f77174e8e7d98c so we only log failures
to import the rbd or rados modules when the RbdDriver is used.

This should reduce noise in the logs at runtime as well as during unit
and functional tests runs where these modules are not present.

Change-Id: I150e70629f6ae579ccfe0bf585c8a27df14fb51d
Closes-Bug: #1903316
(cherry picked from commit 4916ab7a4cb67edc0b54a8ee67c58b1302769792)

Change-Id: Ie8bb5e5622bd37dfe8073cca12f77174e8e7d98c
(cherry picked from commit aa16dd09ebeb21d0b81682b0b6026de0fe4f23b7)
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/758240/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/storage/rbd_utils.py'],1,961a355fb314975ee169cbe9ef88eb8537294253,,"# NOTE(lyarwood): Log exceptions if we fail to import rbd or rados in order to # provide context later if we end up attempting to use the RbdDriver and # raising RuntimeError try: import rados except ImportError: rados = None LOG.exception( ""Unable to import the rados module, this can be ignored if Ceph is "" ""not used within this environment"") try: import rbd except ImportError: rbd = None LOG.exception( ""Unable to import the rbd module, this can be ignored if Ceph is not "" ""used within this environment"") ",try: import rados import rbd except ImportError: rados = None rbd = None ,19,7
openstack%2Fnova~stable%2Ftrain~I873b0c1e6e695ae88241bbf75ac9f80ecc6f5664,openstack/nova,stable/train,I873b0c1e6e695ae88241bbf75ac9f80ecc6f5664,Add upgrade check about old computes,NEW,2021-03-08 16:42:41.000000000,2021-04-13 15:05:03.000000000,,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 16:42:41.000000000', 'files': ['nova/tests/unit/cmd/test_status.py', 'doc/source/cli/nova-status.rst', 'nova/cmd/status.py', 'doc/source/install/verify.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/39d9debc62fdee5099df91981cf9681266a367ba', 'message': 'Add upgrade check about old computes\n\nReport a warning during upgrade checks if there are computes older than\nthe previous major nova release in the system.\n\nSo if code is upgraded to N+1 and the upgrade check was run before\nthe restart of the services with N+1 code then the check warns for N-1\ncomputes in the system.\n\nConflicts:\n  doc/source/cli/nova-status.rst\n  doc/source/install/verify.rst\n  nova/cmd/status.py\n  nova/tests/unit/cmd/test_status.py\n\nNote: Fixed trivial conflicts due to different amount of upgrade\nchecks exists on train than on ussuri due to\nId9cd65877e53577bff22e408ca07bbeec4407f6e\n\nRelated-Bug: #1903545\n\nChange-Id: I873b0c1e6e695ae88241bbf75ac9f80ecc6f5664\n(cherry picked from commit 3b8257cd239d0bb52cb654d709cc579ca9841628)\n(cherry picked from commit 4e5b92545db5f5434bcfeab90bae1a8555a54dd4)\n(cherry picked from commit cff48e2cd4d9b99c673e6597d9871a2fa8a7e748)\n'}]",0,779294,39d9debc62fdee5099df91981cf9681266a367ba,7,3,1,9708,,,0,"Add upgrade check about old computes

Report a warning during upgrade checks if there are computes older than
the previous major nova release in the system.

So if code is upgraded to N+1 and the upgrade check was run before
the restart of the services with N+1 code then the check warns for N-1
computes in the system.

Conflicts:
  doc/source/cli/nova-status.rst
  doc/source/install/verify.rst
  nova/cmd/status.py
  nova/tests/unit/cmd/test_status.py

Note: Fixed trivial conflicts due to different amount of upgrade
checks exists on train than on ussuri due to
Id9cd65877e53577bff22e408ca07bbeec4407f6e

Related-Bug: #1903545

Change-Id: I873b0c1e6e695ae88241bbf75ac9f80ecc6f5664
(cherry picked from commit 3b8257cd239d0bb52cb654d709cc579ca9841628)
(cherry picked from commit 4e5b92545db5f5434bcfeab90bae1a8555a54dd4)
(cherry picked from commit cff48e2cd4d9b99c673e6597d9871a2fa8a7e748)
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/779294/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/cmd/test_status.py', 'doc/source/cli/nova-status.rst', 'nova/cmd/status.py', 'doc/source/install/verify.rst']",4,39d9debc62fdee5099df91981cf9681266a367ba,bug/1904181, | Check: Older than N-1 computes | | Result: Success | | Details: None | +--------------------------------------------------------------------+,,49,0
openstack%2Fopenstack-ansible-os_designate~master~I21a0217d1d3593893d47646d2bacd4da926c5c94,openstack/openstack-ansible-os_designate,master,I21a0217d1d3593893d47646d2bacd4da926c5c94,Generate designate_pool_uuid dynamically,MERGED,2021-01-21 15:56:26.000000000,2021-04-13 14:48:35.000000000,2021-04-13 14:47:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28752}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-21 15:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/216f639e04c361c9e69c27b3f339baa33d93bc2d', 'message': 'Generate designate_pool_uuid dynamically\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/771833\nChange-Id: I21a0217d1d3593893d47646d2bacd4da926c5c94\n'}, {'number': 2, 'created': '2021-01-21 16:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/f506f0119a641a4d5e213f25373f4173bd5728a0', 'message': 'Generate designate_pool_uuid dynamically\n\nThere is also no pool_id option in service:pool_manager section.\ndefault_pool_id from service:central should be used instead.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/771833\nChange-Id: I21a0217d1d3593893d47646d2bacd4da926c5c94\n'}, {'number': 3, 'created': '2021-03-25 14:44:18.000000000', 'files': ['defaults/main.yml', 'templates/designate.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/766bcb92b6b869ff23c6d83e16b610fffbeb49b5', 'message': 'Generate designate_pool_uuid dynamically\n\nThere is also no pool_id option in service:pool_manager section.\ndefault_pool_id from service:central should be used instead.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/771833\nChange-Id: I21a0217d1d3593893d47646d2bacd4da926c5c94\n'}]",0,771841,766bcb92b6b869ff23c6d83e16b610fffbeb49b5,20,4,3,28619,,,0,"Generate designate_pool_uuid dynamically

There is also no pool_id option in service:pool_manager section.
default_pool_id from service:central should be used instead.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/771833
Change-Id: I21a0217d1d3593893d47646d2bacd4da926c5c94
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/41/771841/1 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'templates/designate.conf.j2']",2,216f639e04c361c9e69c27b3f339baa33d93bc2d,,default_pool_id = {{ designate_pool_uuid }},#default_pool_id = '794ccc2c-d751-44fe-b57f-8894c9f5c842'# The ID of the pool managed by this instance of the Pool Manager pool_id = {{ designate_pool_uuid }} ,1,7
openstack%2Fopenstack-ansible-os_trove~master~I7a0f23b0cdd314206f299a860685e2f96ac3f625,openstack/openstack-ansible-os_trove,master,I7a0f23b0cdd314206f299a860685e2f96ac3f625,Change default pool subnet,MERGED,2021-03-31 17:31:49.000000000,2021-04-13 14:48:02.000000000,2021-04-13 14:46:43.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28752}]","[{'number': 1, 'created': '2021-03-31 17:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/6077957903ea34e9a3635a7e9e11f4b5bbb2132c', 'message': 'Change default pool subnet\n\nTo match documentation and general pattern of service networks,\nwe change default subnets that will be used by trove instances.\n\nChange-Id: I7a0f23b0cdd314206f299a860685e2f96ac3f625\n'}, {'number': 2, 'created': '2021-04-01 06:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/069de633d286570c24d76797564f72be155f90a6', 'message': 'Change default pool subnet\n\nTo match documentation and general pattern of service networks,\nwe change default subnets that will be used by trove instances.\n\nChange-Id: I7a0f23b0cdd314206f299a860685e2f96ac3f625\n'}, {'number': 3, 'created': '2021-04-01 09:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/0ea2f6cc9e3cbb9670f037be696b5a0503e40d41', 'message': 'Change default pool subnet\n\nTo match documentation and general pattern of service networks,\nwe change default subnets that will be used by trove instances.\n\nChange-Id: I7a0f23b0cdd314206f299a860685e2f96ac3f625\n'}, {'number': 4, 'created': '2021-04-08 08:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/fe80342ee7e38301bafc8b0c008422304502be09', 'message': 'Change default pool subnet\n\nTo match documentation and general pattern of service networks,\nwe change default subnets that will be used by trove instances.\n\nChange-Id: I7a0f23b0cdd314206f299a860685e2f96ac3f625\n'}, {'number': 5, 'created': '2021-04-08 08:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/c69b207e81654bc33a5d7a191b9c64968bf2ff5b', 'message': 'Change default pool subnet\n\nTo match documentation and general pattern of service networks,\nwe change default subnets that will be used by trove instances.\n\nChange-Id: I7a0f23b0cdd314206f299a860685e2f96ac3f625\n'}, {'number': 6, 'created': '2021-04-08 09:09:25.000000000', 'files': ['releasenotes/notes/trove_service_subnet-011acf408754f6d9.yaml', 'doc/source/configure-trove.rst', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/c99957f3752ef28c9ea19850a1e037b9e1a89be3', 'message': 'Change default pool subnet\n\nTo match documentation and general pattern of service networks,\nwe change default subnets that will be used by trove instances.\n\nChange-Id: I7a0f23b0cdd314206f299a860685e2f96ac3f625\n'}]",0,784145,c99957f3752ef28c9ea19850a1e037b9e1a89be3,21,4,6,28619,,,0,"Change default pool subnet

To match documentation and general pattern of service networks,
we change default subnets that will be used by trove instances.

Change-Id: I7a0f23b0cdd314206f299a860685e2f96ac3f625
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/45/784145/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/trove_service_subnet-011acf408754f6d9.yaml', 'doc/source/configure-trove.rst', 'defaults/main.yml']",3,6077957903ea34e9a3635a7e9e11f4b5bbb2132c,,"trove_service_net_subnet_cidr: ""172.29.252.0/22""trove_service_net_allocation_pool_start: ""172.29.252.110"" trove_service_net_allocation_pool_end: ""172.29.255.255""","trove_service_net_subnet_cidr: ""192.168.20.0/24""trove_service_net_allocation_pool_start: ""192.168.20.100"" trove_service_net_allocation_pool_end: ""192.168.20.120""",18,7
openstack%2Ftripleo-ansible~stable%2Ftrain~Id10f4dc7c1faf0b59bcf33dcdd64620558d9f1d5,openstack/tripleo-ansible,stable/train,Id10f4dc7c1faf0b59bcf33dcdd64620558d9f1d5,Add OVN chassis macs to hieradata,MERGED,2021-03-24 13:40:11.000000000,2021-04-13 14:41:08.000000000,2021-04-13 14:41:08.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-24 13:40:11.000000000', 'files': ['tripleo_ansible/roles/tripleo-hieradata/molecule/ansible_hieradata/molecule.yml', 'tripleo_ansible/roles/tripleo-hieradata/templates/ovn_chassis_mac_map.j2', 'tripleo_ansible/roles/tripleo-hieradata/molecule/hieradata_vars/playbook.yml', 'tripleo_ansible/roles/tripleo-hieradata/molecule/hieradata_vars/tests/test_hieradata_vars.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fe89fde4914b2a1ec84c199aa1f051eb55cd2bef', 'message': 'Add OVN chassis macs to hieradata\n\nAdd template for hireadata file containing OVN chassis mac\nmapping.\n\nDepends-On: https://review.opendev.org/782737\nChange-Id: Id10f4dc7c1faf0b59bcf33dcdd64620558d9f1d5\nRelated-Bug: #1881593\n(cherry picked from commit 1884f32a71ba8bf0998e0c59e98230bc63d6b1a8)\n(cherry picked from commit 87a9ad6a53082981cb9f00ad02f4c739fa8b8899)\n'}]",0,782741,fe89fde4914b2a1ec84c199aa1f051eb55cd2bef,18,4,1,11082,,,0,"Add OVN chassis macs to hieradata

Add template for hireadata file containing OVN chassis mac
mapping.

Depends-On: https://review.opendev.org/782737
Change-Id: Id10f4dc7c1faf0b59bcf33dcdd64620558d9f1d5
Related-Bug: #1881593
(cherry picked from commit 1884f32a71ba8bf0998e0c59e98230bc63d6b1a8)
(cherry picked from commit 87a9ad6a53082981cb9f00ad02f4c739fa8b8899)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/41/782741/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-hieradata/molecule/ansible_hieradata/molecule.yml', 'tripleo_ansible/roles/tripleo-hieradata/templates/ovn_chassis_mac_map.j2', 'tripleo_ansible/roles/tripleo-hieradata/molecule/hieradata_vars/playbook.yml', 'tripleo_ansible/roles/tripleo-hieradata/molecule/hieradata_vars/tests/test_hieradata_vars.py']",4,fe89fde4914b2a1ec84c199aa1f051eb55cd2bef,ovn-distributed-vlan-traffic," ""vip_data"", ""ovn_chassis_mac_map"""," ""vip_data""",6,2
openstack%2Fgrenade~stable%2Ftrain~If5f14654ab9aee2a140bbfb869b50d63cb289fdf,openstack/grenade,stable/train,If5f14654ab9aee2a140bbfb869b50d63cb289fdf,Fix Grenade DSVM Tempest upper constraints,MERGED,2021-04-11 10:30:55.000000000,2021-04-13 14:40:42.000000000,2021-04-13 14:39:33.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-11 10:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/df4e7e4228b8c84c9771fac492139c4610f16405', 'message': ""[WIP] Fix Grenade DSVM upper constraints\n\nThe initial source is too early when GRENADE_USE_EXTERNAL_DEVSTACK\nis False (as, e.g., in DSVM jobs).\n\nAlso, let's only source the one variable that we need rather than\nthe whole file.\n\nSee https://review.opendev.org/c/openstack/devstack/+/785547\n\nCloses-Bug: #1923343\nChange-Id: If5f14654ab9aee2a140bbfb869b50d63cb289fdf\n""}, {'number': 2, 'created': '2021-04-12 09:00:13.000000000', 'files': ['grenade.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/691b6d6dcaa3f9709a11d4547433f3a33c35b9dc', 'message': ""Fix Grenade DSVM Tempest upper constraints\n\nThe initial source is too early when GRENADE_USE_EXTERNAL_DEVSTACK\nis False (as, e.g., in DSVM [aka devstack-gate, aka legacy] jobs).\nThe issue was introduced in\nI66b5d128c3dbe51289410760ea1cbf7f61c55c2f\nfixing the Tempest upper constraints to be properly pinned.\nIt did not affect Zuul v3 (aka new) jobs.\n\nAlso, let's only source the one variable that we need rather than\nthe whole file.\n\nSee https://review.opendev.org/c/openstack/devstack/+/785547\nfor an example failure.\n\nCloses-Bug: #1923343\nChange-Id: If5f14654ab9aee2a140bbfb869b50d63cb289fdf\n""}]",0,785767,691b6d6dcaa3f9709a11d4547433f3a33c35b9dc,25,4,2,30491,,,0,"Fix Grenade DSVM Tempest upper constraints

The initial source is too early when GRENADE_USE_EXTERNAL_DEVSTACK
is False (as, e.g., in DSVM [aka devstack-gate, aka legacy] jobs).
The issue was introduced in
I66b5d128c3dbe51289410760ea1cbf7f61c55c2f
fixing the Tempest upper constraints to be properly pinned.
It did not affect Zuul v3 (aka new) jobs.

Also, let's only source the one variable that we need rather than
the whole file.

See https://review.opendev.org/c/openstack/devstack/+/785547
for an example failure.

Closes-Bug: #1923343
Change-Id: If5f14654ab9aee2a140bbfb869b50d63cb289fdf
",git fetch https://review.opendev.org/openstack/grenade refs/changes/67/785767/1 && git format-patch -1 --stdout FETCH_HEAD,['grenade.sh'],1,df4e7e4228b8c84c9771fac492139c4610f16405,bug/1923343-stable/wallaby-stable/victoria-stable/ussuri-stable/train," # NOTE(yoctozepto): Grenade does not know about # TEMPEST_VENV_UPPER_CONSTRAINTS, only DevStack does. # This sources that one variable from it. TEMPEST_VENV_UPPER_CONSTRAINTS=$(set +o xtrace && source $BASE_DEVSTACK_DIR/stackrc && echo $TEMPEST_VENV_UPPER_CONSTRAINTS)",source $BASE_DEVSTACK_DIR/stackrc ,6,2
openstack%2Freleases~master~I65d3afc8a60f628f3240fab38febc99bf33eab0c,openstack/releases,master,I65d3afc8a60f628f3240fab38febc99bf33eab0c,Release monasca-ui 1.17.2 (stable/train),MERGED,2021-04-12 10:02:23.000000000,2021-04-13 14:37:15.000000000,2021-04-13 14:37:15.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-12 10:02:23.000000000', 'files': ['deliverables/train/monasca-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2964d4c2f1266cb0fccf436a577ff5090d9123e0', 'message': ""Release monasca-ui 1.17.2 (stable/train)\n\nThis release picks up 3 new fixes to monasca-ui since\nthe last release from stable/train.\n\n- Remove prefix 'dim_' from dimensions in Drilldown Dashboard.\n- Add missing PY3 support in overview views.\n- Fix the handling of Alarm definition which could breake the\nAlarms view.\n\nChange-Id: I65d3afc8a60f628f3240fab38febc99bf33eab0c\n""}]",0,785842,2964d4c2f1266cb0fccf436a577ff5090d9123e0,9,4,1,28062,,,0,"Release monasca-ui 1.17.2 (stable/train)

This release picks up 3 new fixes to monasca-ui since
the last release from stable/train.

- Remove prefix 'dim_' from dimensions in Drilldown Dashboard.
- Add missing PY3 support in overview views.
- Fix the handling of Alarm definition which could breake the
Alarms view.

Change-Id: I65d3afc8a60f628f3240fab38febc99bf33eab0c
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/785842/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/monasca-ui.yaml'],1,2964d4c2f1266cb0fccf436a577ff5090d9123e0,, - version: 1.17.2 projects: - repo: openstack/monasca-ui hash: 707e05b22d5503826b2cfa742dd98e04ab8cec25,,4,0
openstack%2Fbarbican~master~I191fc8a2df82de74d0390688e3c1322de238e890,openstack/barbican,master,I191fc8a2df82de74d0390688e3c1322de238e890,Add Python3 xena unit tests,MERGED,2021-03-26 10:16:01.000000000,2021-04-13 14:25:43.000000000,2021-04-13 14:16:31.000000000,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-03-26 10:16:01.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/2e8d7dec1f9b32ab97e5aab4e3be0b1646424481', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I191fc8a2df82de74d0390688e3c1322de238e890\n'}]",0,783241,2e8d7dec1f9b32ab97e5aab4e3be0b1646424481,8,4,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I191fc8a2df82de74d0390688e3c1322de238e890
",git fetch https://review.opendev.org/openstack/barbican refs/changes/41/783241/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2e8d7dec1f9b32ab97e5aab4e3be0b1646424481,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fnova~master~Iebe3aff39005dc1d8b28e4fdabfaf9800575388b,openstack/nova,master,Iebe3aff39005dc1d8b28e4fdabfaf9800575388b,Explaining when a base image is considered unused to avoid confusion why some images aren't deleted.,ABANDONED,2021-04-13 08:33:36.000000000,2021-04-13 14:16:15.000000000,,"[{'_account_id': 22348}, {'_account_id': 29349}]","[{'number': 1, 'created': '2021-04-13 08:33:36.000000000', 'files': ['nova/conf/imagecache.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6f5c6b8f3020dfe10b9003faee78e6e3b59cba40', 'message': ""Explaining when a base image is considered unused to avoid confusion why some images aren't deleted.\n\nChange-Id: Iebe3aff39005dc1d8b28e4fdabfaf9800575388b\n""}]",2,786016,6f5c6b8f3020dfe10b9003faee78e6e3b59cba40,9,2,1,29422,,,0,"Explaining when a base image is considered unused to avoid confusion why some images aren't deleted.

Change-Id: Iebe3aff39005dc1d8b28e4fdabfaf9800575388b
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/786016/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/imagecache.py'],1,6f5c6b8f3020dfe10b9003faee78e6e3b59cba40,patch_doc_nova_imagecache,"Additional note, every time the image_cache_manager runs the timestamps of images in ``[DEFAULT]/instances_path`` are updated. help="""""" Should unused base images be removed? When there are no remaining instances on the hypervisor created from this base image or linked to it, the base image is considered unused. """"""),"," help='Should unused base images be removed?'),",6,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~If24653b629e39b6dd7ec6d09ae0ef32d7842c48f,openstack/tripleo-heat-templates,stable/train,If24653b629e39b6dd7ec6d09ae0ef32d7842c48f,OVNChassisMacPorts for distributed VLAN,MERGED,2021-03-24 13:23:34.000000000,2021-04-13 14:14:20.000000000,2021-04-13 14:14:20.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-24 13:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f233cac9e4ca6e5992b8b6745ae663017330ad4a', 'message': 'OVNChassisMacPorts for distributed VLAN\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nThis change passes the ovn::controller::ovn_bridge_mappings\nto the role node configuration so that ports for each\nbridge mapping can be created. The map of physnet/mac_address\npairs is placed in the role output, and in RoleGroupVars.\n\nRelated-Bug: #1881593\nChange-Id: If24653b629e39b6dd7ec6d09ae0ef32d7842c48f\n(cherry picked from commit c90bbe188efafc3d4a073e8152d730b42af44b27)\n(cherry picked from commit 5b31baabeb4e64c399724dafa781c35b3bdf2a8b)\n'}, {'number': 2, 'created': '2021-03-29 13:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/466c747e5f36b91630f268187c21a920df16b923', 'message': 'OVNChassisMacPorts for distributed VLAN\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nThis change passes the ovn::controller::ovn_bridge_mappings\nto the role node configuration so that ports for each\nbridge mapping can be created. The map of physnet/mac_address\npairs is placed in the role output, and in RoleGroupVars.\n\nRelated-Bug: #1881593\nChange-Id: If24653b629e39b6dd7ec6d09ae0ef32d7842c48f\n(cherry picked from commit c90bbe188efafc3d4a073e8152d730b42af44b27)\n(cherry picked from commit 5b31baabeb4e64c399724dafa781c35b3bdf2a8b)\n'}, {'number': 3, 'created': '2021-03-30 10:10:07.000000000', 'files': ['overcloud.j2.yaml', 'puppet/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7fe8f41754400651053b0a1b1ea7b6be1935028d', 'message': 'OVNChassisMacPorts for distributed VLAN\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nThis change passes the ovn::controller::ovn_bridge_mappings\nto the role node configuration so that ports for each\nbridge mapping can be created. The map of physnet/mac_address\npairs is placed in the role output, and in RoleGroupVars.\n\nRelated-Bug: #1881593\nChange-Id: If24653b629e39b6dd7ec6d09ae0ef32d7842c48f\n(cherry picked from commit c90bbe188efafc3d4a073e8152d730b42af44b27)\n(cherry picked from commit 5b31baabeb4e64c399724dafa781c35b3bdf2a8b)\n'}]",0,782737,7fe8f41754400651053b0a1b1ea7b6be1935028d,20,5,3,11082,,,0,"OVNChassisMacPorts for distributed VLAN

For distributed vlan in ovn we need to add support of
creating mac addresses per compute and seting them in
external_ids:ovn-chassis-mac-mappings.

This change passes the ovn::controller::ovn_bridge_mappings
to the role node configuration so that ports for each
bridge mapping can be created. The map of physnet/mac_address
pairs is placed in the role output, and in RoleGroupVars.

Related-Bug: #1881593
Change-Id: If24653b629e39b6dd7ec6d09ae0ef32d7842c48f
(cherry picked from commit c90bbe188efafc3d4a073e8152d730b42af44b27)
(cherry picked from commit 5b31baabeb4e64c399724dafa781c35b3bdf2a8b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/782737/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'puppet/role.role.j2.yaml']",2,f233cac9e4ca6e5992b8b6745ae663017330ad4a,ovn-distributed-vlan-traffic," OVNBridgeMappings: type: comma_delimited_list default: [] ovn_chassis_mac_map: {get_attr: [{{server_resource_name}}OVNChassisMacMap, value]} {{server_resource_name}}OVNChassisMacPorts: type: OS::Heat::ResourceGroup properties: count: yaql: expression: $.data.len() data: {get_param: OVNBridgeMappings} resource_def: type: OS::TripleO::OVNMacAddressPort properties: PortName: {{server_resource_name}}-ovn-mac-%index% {{server_resource_name}}OVNChassisMacMap: type: OS::Heat::Value properties: type: json value: yaql: expression: let(physnets => switch(isList($.data.physnets) => $.data.physnets, true => [])) -> $physnets.zip($.data.macs).toDict($.first(), $.last()) data: physnets: yaql: expression: $.data.select($.split(':').first()) data: {get_param: OVNBridgeMappings} macs: yaql: expression: switch(isDict($.data) => $.data.values(), true => []) data: {get_attr: [{{server_resource_name}}OVNChassisMacPorts, attributes, mac_address]}",,35,0
openstack%2Foctavia~stable%2Fussuri~Ic63929d8864e5285baf70dd85e6362988bf2863f,openstack/octavia,stable/ussuri,Ic63929d8864e5285baf70dd85e6362988bf2863f,Fix weighted round-robin about UDP listener,MERGED,2021-04-12 11:31:11.000000000,2021-04-13 14:08:14.000000000,2021-04-13 14:05:09.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-12 11:31:11.000000000', 'files': ['octavia/tests/unit/common/jinja/lvs/test_lvs_jinja_cfg.py', 'releasenotes/notes/fix-udp-listener-wrr-50de9dc0774a8ea1.yaml', 'octavia/common/jinja/lvs/jinja_cfg.py', 'octavia/tests/unit/common/sample_configs/sample_configs_split.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_keepalivedlvs.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a8266a9e4f89c0c2120994e3d6b98c1ffdac4877', 'message': ""Fix weighted round-robin about UDP listener\n\n'lb_algo rr' in keepalived won't work correctly with weight\nfor UDP listeners, it should be 'lb_algo wrr'.\n\n'wrr' is superset of 'rr' algorithm, as round-robin is\na specical instance of the weighted round-robin scheduling,\nin which all the weights are equal. [1]\n\nAlgorithm in HAProxy is set to 'roundrobin', which also support\nweights, but in keepalived must be set to 'wrr' to work with\nthe weighted round-robin scheduling, as it is different to 'rr'.\n\n[1] https://www.keepalived.org/doc/scheduling_algorithms.html\n\nStory 2008462\nTask 41491\n\nConflicts:\n\toctavia/tests/unit/common/jinja/lvs/test_jinja_cfg.py\n\toctavia/tests/unit/common/sample_configs/sample_configs_combined.py\n\nNOTE(Xing Zhang): The first file does not exist in stable/victoria\ndue to unit test structure was fixed, file renamed from test_lvs_jinja_cfg.py,\n(patch I6d84047b3481a2bf6bf9bd17d482fb504dbc752b) was introduced in stable/wallaby.\nThe second file has conflict due to the SCTP is supported by the amphora provider\nin the Wallaby release. (patch I30997ae6cc6b8ec724f0e9dcfdfe49356b320ff4)\n\nThis backport removes SCTP in commit message and releasenote due to SCTP\nwas introduced in the Wallaby release.\n\nChange-Id: Ic63929d8864e5285baf70dd85e6362988bf2863f\n(cherry picked from commit 5352a10f62f1a4763aeee81e2e638a9896b6ce79)\n(cherry picked from commit d9603b3d21723fce3b7380b14d537d847088246c)\n(cherry picked from commit c7640b90ad549566e23a97fbcf2f2ad387bed7d4)\n""}]",0,785855,a8266a9e4f89c0c2120994e3d6b98c1ffdac4877,9,4,1,21757,,,0,"Fix weighted round-robin about UDP listener

'lb_algo rr' in keepalived won't work correctly with weight
for UDP listeners, it should be 'lb_algo wrr'.

'wrr' is superset of 'rr' algorithm, as round-robin is
a specical instance of the weighted round-robin scheduling,
in which all the weights are equal. [1]

Algorithm in HAProxy is set to 'roundrobin', which also support
weights, but in keepalived must be set to 'wrr' to work with
the weighted round-robin scheduling, as it is different to 'rr'.

[1] https://www.keepalived.org/doc/scheduling_algorithms.html

Story 2008462
Task 41491

Conflicts:
	octavia/tests/unit/common/jinja/lvs/test_jinja_cfg.py
	octavia/tests/unit/common/sample_configs/sample_configs_combined.py

NOTE(Xing Zhang): The first file does not exist in stable/victoria
due to unit test structure was fixed, file renamed from test_lvs_jinja_cfg.py,
(patch I6d84047b3481a2bf6bf9bd17d482fb504dbc752b) was introduced in stable/wallaby.
The second file has conflict due to the SCTP is supported by the amphora provider
in the Wallaby release. (patch I30997ae6cc6b8ec724f0e9dcfdfe49356b320ff4)

This backport removes SCTP in commit message and releasenote due to SCTP
was introduced in the Wallaby release.

Change-Id: Ic63929d8864e5285baf70dd85e6362988bf2863f
(cherry picked from commit 5352a10f62f1a4763aeee81e2e638a9896b6ce79)
(cherry picked from commit d9603b3d21723fce3b7380b14d537d847088246c)
(cherry picked from commit c7640b90ad549566e23a97fbcf2f2ad387bed7d4)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/55/785855/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/common/jinja/lvs/test_lvs_jinja_cfg.py', 'releasenotes/notes/fix-udp-listener-wrr-50de9dc0774a8ea1.yaml', 'octavia/common/jinja/lvs/jinja_cfg.py', 'octavia/tests/unit/common/sample_configs/sample_configs_split.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_keepalivedlvs.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py']",7,a8266a9e4f89c0c2120994e3d6b98c1ffdac4877,task/41491-stable/ussuri," "" lb_algo wrr\n"" "" lb_algo wrr\n"""," "" lb_algo rr\n"" "" lb_algo rr\n""",21,15
openstack%2Foctavia~stable%2Fvictoria~Ic63929d8864e5285baf70dd85e6362988bf2863f,openstack/octavia,stable/victoria,Ic63929d8864e5285baf70dd85e6362988bf2863f,Fix weighted round-robin about UDP listener,MERGED,2021-04-06 10:15:09.000000000,2021-04-13 14:08:03.000000000,2021-04-13 14:05:30.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 10:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/76582df6a3d8418e5ca8cf415cd99a7f496536c0', 'message': ""Fix weighted round-robin about UDP and SCTP listener\n\n'lb_algo rr' in keepalived won't work correctly with weight\nfor UDP and SCTP listeners, it should be 'lb_algo wrr'.\n\n'wrr' is superset of 'rr' algorithm, as round-robin is\na specical instance of the weighted round-robin scheduling,\nin which all the weights are equal. [1]\n\nAlgorithm in HAProxy is set to 'roundrobin', which also support\nweights, but in keepalived must be set to 'wrr' to work with\nthe weighted round-robin scheduling, as it is different to 'rr'.\n\n[1] https://www.keepalived.org/doc/scheduling_algorithms.html\n\nStory 2008462\nTask 41491\n\nChange-Id: Ic63929d8864e5285baf70dd85e6362988bf2863f\n(cherry picked from commit 5352a10f62f1a4763aeee81e2e638a9896b6ce79)\n""}, {'number': 2, 'created': '2021-04-06 10:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b263287209ab6889aedc9251eede0b464351a43f', 'message': ""Fix weighted round-robin about UDP and SCTP listener\n\n'lb_algo rr' in keepalived won't work correctly with weight\nfor UDP and SCTP listeners, it should be 'lb_algo wrr'.\n\n'wrr' is superset of 'rr' algorithm, as round-robin is\na specical instance of the weighted round-robin scheduling,\nin which all the weights are equal. [1]\n\nAlgorithm in HAProxy is set to 'roundrobin', which also support\nweights, but in keepalived must be set to 'wrr' to work with\nthe weighted round-robin scheduling, as it is different to 'rr'.\n\n[1] https://www.keepalived.org/doc/scheduling_algorithms.html\n\nStory 2008462\nTask 41491\n\nChange-Id: Ic63929d8864e5285baf70dd85e6362988bf2863f\n(cherry picked from commit 5352a10f62f1a4763aeee81e2e638a9896b6ce79)\n(cherry picked from commit d9603b3d21723fce3b7380b14d537d847088246c)\n""}, {'number': 3, 'created': '2021-04-06 10:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/481937eceb9f1ee04a7c577c75347256149ea59a', 'message': ""Fix weighted round-robin about UDP and SCTP listener\n\n'lb_algo rr' in keepalived won't work correctly with weight\nfor UDP and SCTP listeners, it should be 'lb_algo wrr'.\n\n'wrr' is superset of 'rr' algorithm, as round-robin is\na specical instance of the weighted round-robin scheduling,\nin which all the weights are equal. [1]\n\nAlgorithm in HAProxy is set to 'roundrobin', which also support\nweights, but in keepalived must be set to 'wrr' to work with\nthe weighted round-robin scheduling, as it is different to 'rr'.\n\n[1] https://www.keepalived.org/doc/scheduling_algorithms.html\n\nStory 2008462\nTask 41491\n\nChange-Id: Ic63929d8864e5285baf70dd85e6362988bf2863f\n(cherry picked from commit 5352a10f62f1a4763aeee81e2e638a9896b6ce79)\n(cherry picked from commit d9603b3d21723fce3b7380b14d537d847088246c)\n""}, {'number': 4, 'created': '2021-04-06 13:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cc2fcad795578211c48a53fe531440c9d53823a5', 'message': ""Fix weighted round-robin about UDP listener\n\n'lb_algo rr' in keepalived won't work correctly with weight\nfor UDP listeners, it should be 'lb_algo wrr'.\n\n'wrr' is superset of 'rr' algorithm, as round-robin is\na specical instance of the weighted round-robin scheduling,\nin which all the weights are equal. [1]\n\nAlgorithm in HAProxy is set to 'roundrobin', which also support\nweights, but in keepalived must be set to 'wrr' to work with\nthe weighted round-robin scheduling, as it is different to 'rr'.\n\n[1] https://www.keepalived.org/doc/scheduling_algorithms.html\n\nStory 2008462\nTask 41491\n\nNOTE(Xing Zhang): The first file does not exist in stable/victoria\ndue to unit test structure was fixed, file renamed from test_lvs_jinja_cfg.py,\n(patch I6d84047b3481a2bf6bf9bd17d482fb504dbc752b) was introduced in stable/wallaby.\nThe second file has conflict due to the SCTP is supported by the amphora provider\nin the Wallaby release. (patch I30997ae6cc6b8ec724f0e9dcfdfe49356b320ff4)\n\nThis backport removes SCTP in commit message and releasenote due to SCTP\nwas introduced in the Wallaby release.\n\nConflicts:\n\toctavia/tests/unit/common/jinja/lvs/test_jinja_cfg.py\n\toctavia/tests/unit/common/sample_configs/sample_configs_combined.py\n\nChange-Id: Ic63929d8864e5285baf70dd85e6362988bf2863f\n(cherry picked from commit 5352a10f62f1a4763aeee81e2e638a9896b6ce79)\n(cherry picked from commit d9603b3d21723fce3b7380b14d537d847088246c)\n""}, {'number': 5, 'created': '2021-04-08 10:17:54.000000000', 'files': ['octavia/tests/unit/common/jinja/lvs/test_lvs_jinja_cfg.py', 'releasenotes/notes/fix-udp-listener-wrr-50de9dc0774a8ea1.yaml', 'octavia/common/jinja/lvs/jinja_cfg.py', 'octavia/tests/unit/common/sample_configs/sample_configs_split.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_keepalivedlvs.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/c7640b90ad549566e23a97fbcf2f2ad387bed7d4', 'message': ""Fix weighted round-robin about UDP listener\n\n'lb_algo rr' in keepalived won't work correctly with weight\nfor UDP listeners, it should be 'lb_algo wrr'.\n\n'wrr' is superset of 'rr' algorithm, as round-robin is\na specical instance of the weighted round-robin scheduling,\nin which all the weights are equal. [1]\n\nAlgorithm in HAProxy is set to 'roundrobin', which also support\nweights, but in keepalived must be set to 'wrr' to work with\nthe weighted round-robin scheduling, as it is different to 'rr'.\n\n[1] https://www.keepalived.org/doc/scheduling_algorithms.html\n\nStory 2008462\nTask 41491\n\nConflicts:\n\toctavia/tests/unit/common/jinja/lvs/test_jinja_cfg.py\n\toctavia/tests/unit/common/sample_configs/sample_configs_combined.py\n\nNOTE(Xing Zhang): The first file does not exist in stable/victoria\ndue to unit test structure was fixed, file renamed from test_lvs_jinja_cfg.py,\n(patch I6d84047b3481a2bf6bf9bd17d482fb504dbc752b) was introduced in stable/wallaby.\nThe second file has conflict due to the SCTP is supported by the amphora provider\nin the Wallaby release. (patch I30997ae6cc6b8ec724f0e9dcfdfe49356b320ff4)\n\nThis backport removes SCTP in commit message and releasenote due to SCTP\nwas introduced in the Wallaby release.\n\nChange-Id: Ic63929d8864e5285baf70dd85e6362988bf2863f\n(cherry picked from commit 5352a10f62f1a4763aeee81e2e638a9896b6ce79)\n(cherry picked from commit d9603b3d21723fce3b7380b14d537d847088246c)\n""}]",7,784848,c7640b90ad549566e23a97fbcf2f2ad387bed7d4,22,4,5,21757,,,0,"Fix weighted round-robin about UDP listener

'lb_algo rr' in keepalived won't work correctly with weight
for UDP listeners, it should be 'lb_algo wrr'.

'wrr' is superset of 'rr' algorithm, as round-robin is
a specical instance of the weighted round-robin scheduling,
in which all the weights are equal. [1]

Algorithm in HAProxy is set to 'roundrobin', which also support
weights, but in keepalived must be set to 'wrr' to work with
the weighted round-robin scheduling, as it is different to 'rr'.

[1] https://www.keepalived.org/doc/scheduling_algorithms.html

Story 2008462
Task 41491

Conflicts:
	octavia/tests/unit/common/jinja/lvs/test_jinja_cfg.py
	octavia/tests/unit/common/sample_configs/sample_configs_combined.py

NOTE(Xing Zhang): The first file does not exist in stable/victoria
due to unit test structure was fixed, file renamed from test_lvs_jinja_cfg.py,
(patch I6d84047b3481a2bf6bf9bd17d482fb504dbc752b) was introduced in stable/wallaby.
The second file has conflict due to the SCTP is supported by the amphora provider
in the Wallaby release. (patch I30997ae6cc6b8ec724f0e9dcfdfe49356b320ff4)

This backport removes SCTP in commit message and releasenote due to SCTP
was introduced in the Wallaby release.

Change-Id: Ic63929d8864e5285baf70dd85e6362988bf2863f
(cherry picked from commit 5352a10f62f1a4763aeee81e2e638a9896b6ce79)
(cherry picked from commit d9603b3d21723fce3b7380b14d537d847088246c)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/48/784848/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-udp-and-sctp-listener-wrr-50de9dc0774a8ea1.yaml', 'octavia/common/jinja/lvs/jinja_cfg.py', 'octavia/tests/unit/common/jinja/lvs/test_jinja_cfg.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py']",4,76582df6a3d8418e5ca8cf415cd99a7f496536c0,task/41491-stable/wallaby-stable/victoria,"<<<<<<< HEAD (8b210b Fix incorrect ERROR status with IPv6 UDP members)======= 'health_monitor': RET_UDP_HEALTH_MONITOR, 'lb_algorithm': 'wrr', >>>>>>> CHANGE (d9603b Fix weighted round-robin about UDP and SCTP listener) 'lb_algorithm': 'wrr',<<<<<<< HEAD (8b210b Fix incorrect ERROR status with IPv6 UDP members) ======= SCTP_SOURCE_IP_BODY = { 'type': constants.SESSION_PERSISTENCE_SOURCE_IP, 'persistence_timeout': 33, 'persistence_granularity': '255.0.0.0' } RET_SCTP_HEALTH_MONITOR = { 'id': 'sample_monitor_id_1', 'type': lib_consts.HEALTH_MONITOR_SCTP, 'delay': 30, 'timeout': 31, 'enabled': True, 'fall_threshold': 3, 'check_script_path': 'amphora-health-checker sctp' } RET_SCTP_MEMBER = { 'id': 'member_id_1', 'address': '192.0.2.10', 'protocol_port': 82, 'weight': 13, 'enabled': True, 'monitor_address': None, 'monitor_port': None } RET_SCTP_MEMBER_MONITOR_IP_PORT = { 'id': 'member_id_1', 'address': '192.0.2.10', 'protocol_port': 82, 'weight': 13, 'enabled': True, 'monitor_address': '192.168.1.1', 'monitor_port': 9000 } SCTP_MEMBER_1 = { 'id': 'sample_member_id_1', 'address': '10.0.0.99', 'enabled': True, 'protocol_port': 82, 'weight': 13, 'monitor_address': None, 'monitor_port': None, } SCTP_MEMBER_2 = { 'id': 'sample_member_id_2', 'address': '10.0.0.98', 'enabled': True, 'protocol_port': 82, 'weight': 13, 'monitor_address': None, 'monitor_port': None } RET_SCTP_POOL = { 'id': 'sample_pool_id_1', 'enabled': True, 'health_monitor': RET_SCTP_HEALTH_MONITOR, 'lb_algorithm': 'wrr', 'members': [SCTP_MEMBER_1, SCTP_MEMBER_2], 'protocol': 'sctp', 'session_persistence': SCTP_SOURCE_IP_BODY } RET_SCTP_LISTENER = { 'connection_limit': 98, 'default_pool': { 'id': 'sample_pool_id_1', 'enabled': True, 'health_monitor': RET_SCTP_HEALTH_MONITOR, 'lb_algorithm': 'wrr', 'members': [SCTP_MEMBER_1, SCTP_MEMBER_2], 'protocol': 'sctp', 'session_persistence': SCTP_SOURCE_IP_BODY }, 'enabled': True, 'id': 'sample_listener_id_1', 'protocol_mode': 'sctp', 'protocol_port': '80' } >>>>>>> CHANGE (d9603b Fix weighted round-robin about UDP and SCTP listener)"," 'lb_algorithm': 'rr',",966,2
openstack%2Fbarbican~master~I759f186c485a75afa88edc72c28ed121292a1029,openstack/barbican,master,I759f186c485a75afa88edc72c28ed121292a1029,Update master for stable/wallaby,MERGED,2021-03-26 10:15:58.000000000,2021-04-13 14:06:14.000000000,2021-04-13 13:53:19.000000000,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-03-26 10:15:58.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/barbican/commit/a567702c65c0b433684105c6d81fd94bbddce765', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I759f186c485a75afa88edc72c28ed121292a1029\n'}]",0,783240,a567702c65c0b433684105c6d81fd94bbddce765,8,4,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I759f186c485a75afa88edc72c28ed121292a1029
",git fetch https://review.opendev.org/openstack/barbican refs/changes/40/783240/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,a567702c65c0b433684105c6d81fd94bbddce765,reno-wallaby, wallaby,,7,0
openstack%2Foctavia~stable%2Ftrain~Ic63929d8864e5285baf70dd85e6362988bf2863f,openstack/octavia,stable/train,Ic63929d8864e5285baf70dd85e6362988bf2863f,Fix weighted round-robin about UDP listener,MERGED,2021-04-12 16:06:15.000000000,2021-04-13 14:05:47.000000000,2021-04-13 14:01:30.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-12 16:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b98e48ef25743d8f81390b1c74c1b9d2aef7e0b9', 'message': ""Fix weighted round-robin about UDP listener\n\n'lb_algo rr' in keepalived won't work correctly with weight\nfor UDP listeners, it should be 'lb_algo wrr'.\n\n'wrr' is superset of 'rr' algorithm, as round-robin is\na specical instance of the weighted round-robin scheduling,\nin which all the weights are equal. [1]\n\nAlgorithm in HAProxy is set to 'roundrobin', which also support\nweights, but in keepalived must be set to 'wrr' to work with\nthe weighted round-robin scheduling, as it is different to 'rr'.\n\n[1] https://www.keepalived.org/doc/scheduling_algorithms.html\n\nStory 2008462\nTask 41491\n\nConflicts:\n\toctavia/tests/unit/common/jinja/lvs/test_jinja_cfg.py\n\toctavia/tests/unit/common/sample_configs/sample_configs_combined.py\n\nNOTE(Xing Zhang): The first file does not exist in stable/victoria\ndue to unit test structure was fixed, file renamed from test_lvs_jinja_cfg.py,\n(patch I6d84047b3481a2bf6bf9bd17d482fb504dbc752b) was introduced in stable/wallaby.\nThe second file has conflict due to the SCTP is supported by the amphora provider\nin the Wallaby release. (patch I30997ae6cc6b8ec724f0e9dcfdfe49356b320ff4)\n\nThis backport removes SCTP in commit message and releasenote due to SCTP\nwas introduced in the Wallaby release.\n\nChange-Id: Ic63929d8864e5285baf70dd85e6362988bf2863f\n(cherry picked from commit 5352a10f62f1a4763aeee81e2e638a9896b6ce79)\n(cherry picked from commit d9603b3d21723fce3b7380b14d537d847088246c)\n(cherry picked from commit c7640b90ad549566e23a97fbcf2f2ad387bed7d4)\n(cherry picked from commit a8266a9e4f89c0c2120994e3d6b98c1ffdac4877)\n""}, {'number': 2, 'created': '2021-04-12 16:15:43.000000000', 'files': ['octavia/tests/unit/common/jinja/lvs/test_lvs_jinja_cfg.py', 'releasenotes/notes/fix-udp-listener-wrr-50de9dc0774a8ea1.yaml', 'octavia/common/jinja/lvs/jinja_cfg.py', 'octavia/tests/unit/common/sample_configs/sample_configs_split.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_keepalivedlvs.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/db24d7bb5187676c0501e722b7eaa5bd9161829e', 'message': ""Fix weighted round-robin about UDP listener\n\n'lb_algo rr' in keepalived won't work correctly with weight\nfor UDP listeners, it should be 'lb_algo wrr'.\n\n'wrr' is superset of 'rr' algorithm, as round-robin is\na specical instance of the weighted round-robin scheduling,\nin which all the weights are equal. [1]\n\nAlgorithm in HAProxy is set to 'roundrobin', which also support\nweights, but in keepalived must be set to 'wrr' to work with\nthe weighted round-robin scheduling, as it is different to 'rr'.\n\n[1] https://www.keepalived.org/doc/scheduling_algorithms.html\n\nStory 2008462\nTask 41491\n\nConflicts:\n\toctavia/tests/unit/common/jinja/lvs/test_jinja_cfg.py\n\toctavia/tests/unit/common/sample_configs/sample_configs_combined.py\n\toctavia/tests/unit/common/jinja/lvs/test_lvs_jinja_cfg.py\n\nNOTE(Xing Zhang): The first file does not exist in stable/victoria\ndue to unit test structure was fixed, file renamed from test_lvs_jinja_cfg.py,\n(patch I6d84047b3481a2bf6bf9bd17d482fb504dbc752b) was introduced in stable/wallaby.\nThe second file has conflict due to the SCTP is supported by the amphora provider\nin the Wallaby release. (patch I30997ae6cc6b8ec724f0e9dcfdfe49356b320ff4)\nThe third file has conflict due to HTTP and TCP checks in UDP healthmonitor\n(patch I61c7d8d4df54710a92b8c055be84bba29bf3d7e6) was introduced in stable/ussuri.\n\nThis backport removes SCTP in commit message and releasenote due to SCTP\nwas introduced in the Wallaby release.\n\nChange-Id: Ic63929d8864e5285baf70dd85e6362988bf2863f\n(cherry picked from commit 5352a10f62f1a4763aeee81e2e638a9896b6ce79)\n(cherry picked from commit d9603b3d21723fce3b7380b14d537d847088246c)\n(cherry picked from commit c7640b90ad549566e23a97fbcf2f2ad387bed7d4)\n(cherry picked from commit a8266a9e4f89c0c2120994e3d6b98c1ffdac4877)\n""}]",0,785916,db24d7bb5187676c0501e722b7eaa5bd9161829e,11,4,2,21757,,,0,"Fix weighted round-robin about UDP listener

'lb_algo rr' in keepalived won't work correctly with weight
for UDP listeners, it should be 'lb_algo wrr'.

'wrr' is superset of 'rr' algorithm, as round-robin is
a specical instance of the weighted round-robin scheduling,
in which all the weights are equal. [1]

Algorithm in HAProxy is set to 'roundrobin', which also support
weights, but in keepalived must be set to 'wrr' to work with
the weighted round-robin scheduling, as it is different to 'rr'.

[1] https://www.keepalived.org/doc/scheduling_algorithms.html

Story 2008462
Task 41491

Conflicts:
	octavia/tests/unit/common/jinja/lvs/test_jinja_cfg.py
	octavia/tests/unit/common/sample_configs/sample_configs_combined.py
	octavia/tests/unit/common/jinja/lvs/test_lvs_jinja_cfg.py

NOTE(Xing Zhang): The first file does not exist in stable/victoria
due to unit test structure was fixed, file renamed from test_lvs_jinja_cfg.py,
(patch I6d84047b3481a2bf6bf9bd17d482fb504dbc752b) was introduced in stable/wallaby.
The second file has conflict due to the SCTP is supported by the amphora provider
in the Wallaby release. (patch I30997ae6cc6b8ec724f0e9dcfdfe49356b320ff4)
The third file has conflict due to HTTP and TCP checks in UDP healthmonitor
(patch I61c7d8d4df54710a92b8c055be84bba29bf3d7e6) was introduced in stable/ussuri.

This backport removes SCTP in commit message and releasenote due to SCTP
was introduced in the Wallaby release.

Change-Id: Ic63929d8864e5285baf70dd85e6362988bf2863f
(cherry picked from commit 5352a10f62f1a4763aeee81e2e638a9896b6ce79)
(cherry picked from commit d9603b3d21723fce3b7380b14d537d847088246c)
(cherry picked from commit c7640b90ad549566e23a97fbcf2f2ad387bed7d4)
(cherry picked from commit a8266a9e4f89c0c2120994e3d6b98c1ffdac4877)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/16/785916/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/common/jinja/lvs/test_lvs_jinja_cfg.py', 'releasenotes/notes/fix-udp-listener-wrr-50de9dc0774a8ea1.yaml', 'octavia/common/jinja/lvs/jinja_cfg.py', 'octavia/tests/unit/common/sample_configs/sample_configs_split.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_keepalivedlvs.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py']",7,b98e48ef25743d8f81390b1c74c1b9d2aef7e0b9,task/41491-stable/train," "" lb_algo wrr\n"" "" lb_algo wrr\n"""," "" lb_algo rr\n"" "" lb_algo rr\n""",126,13
openstack%2Fopenstack-zuul-jobs~master~I381b4fa2a36f9fba48d97f1db9f54af28308c9b1,openstack/openstack-zuul-jobs,master,I381b4fa2a36f9fba48d97f1db9f54af28308c9b1,Add stable/wallaby to periodic-stable templates,MERGED,2021-04-06 15:53:48.000000000,2021-04-13 14:03:44.000000000,2021-04-13 13:53:34.000000000,"[{'_account_id': 841}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-06 15:53:48.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/c5112bc8a155f0c37174ce419bed57a1fc80dd04', 'message': 'Add stable/wallaby to periodic-stable templates\n\nAdd the stable/wallaby branch to the list of branch for the\nperiodic stable job templates.\n\nChange-Id: I381b4fa2a36f9fba48d97f1db9f54af28308c9b1\n'}]",2,785005,c5112bc8a155f0c37174ce419bed57a1fc80dd04,13,7,1,8556,,,0,"Add stable/wallaby to periodic-stable templates

Add the stable/wallaby branch to the list of branch for the
periodic stable job templates.

Change-Id: I381b4fa2a36f9fba48d97f1db9f54af28308c9b1
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/05/785005/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,c5112bc8a155f0c37174ce419bed57a1fc80dd04,qa-wallaby-release, - stable/wallaby - stable/wallaby - stable/wallaby - stable/wallaby - stable/wallaby - stable/wallaby - stable/wallaby - stable/wallaby - stable/wallaby,,9,0
openstack%2Fbarbican~master~I91d50aa08574a2f8aeaaa2bf431266ee74c79ae3,openstack/barbican,master,I91d50aa08574a2f8aeaaa2bf431266ee74c79ae3,Add secure-rbac gate,MERGED,2021-04-01 16:05:04.000000000,2021-04-13 14:03:00.000000000,2021-04-13 13:53:15.000000000,"[{'_account_id': 5046}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-04-01 16:05:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/ced3e5c0294cf384d663c580db50ee6cdb30d7a4', 'message': ""Add secure-rbac gate\n\nAdd the secure-rbac tempest tests as a new gate to barbican.  This\nwill help ensure that new patches don't break the default\nsecure-rbac policy.\n\nChange-Id: I91d50aa08574a2f8aeaaa2bf431266ee74c79ae3\n""}]",0,784441,ced3e5c0294cf384d663c580db50ee6cdb30d7a4,10,4,1,7973,,,0,"Add secure-rbac gate

Add the secure-rbac tempest tests as a new gate to barbican.  This
will help ensure that new patches don't break the default
secure-rbac policy.

Change-Id: I91d50aa08574a2f8aeaaa2bf431266ee74c79ae3
",git fetch https://review.opendev.org/openstack/barbican refs/changes/41/784441/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ced3e5c0294cf384d663c580db50ee6cdb30d7a4,secure-rbac, - barbican-tempest-plugin-simple-crypto-secure-rbac,,1,0
openstack%2Fnova~master~I328df3fc9fbf9d9d3b7eebf89e9e04adb6877b9d,openstack/nova,master,I328df3fc9fbf9d9d3b7eebf89e9e04adb6877b9d,image_info: make RLIMIT configurable,NEW,2021-04-07 01:49:01.000000000,2021-04-13 13:43:15.000000000,,"[{'_account_id': 5754}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 17813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 01:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7dbfa388589873b557c5e39d688d6cd5cbadf47a', 'message': 'image_info: make RLIMIT configurable\n\nThis chanege makes address space limits configurable instead of\nhardcoding to 1Gi.\n\nChange-Id: I328df3fc9fbf9d9d3b7eebf89e9e04adb6877b9d\n'}, {'number': 2, 'created': '2021-04-07 09:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d5a9dc17c4666ccd2bfbe289ad0763bd644b9cf', 'message': 'image_info: make RLIMIT configurable\n\nThis chanege makes address space limits configurable instead of\nhardcoding to 1Gi.\n\nChange-Id: I328df3fc9fbf9d9d3b7eebf89e9e04adb6877b9d\nCloses-Bug: #1921979\n'}, {'number': 3, 'created': '2021-04-07 12:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/349de3aabefe9d2e743fe852950f0214a9e6eb6f', 'message': 'image_info: make RLIMIT configurable\n\nThis chanege makes address space limits configurable instead of\nhardcoding to 1Gi.\n\nChange-Id: I328df3fc9fbf9d9d3b7eebf89e9e04adb6877b9d\nCloses-Bug: #1921979\n'}, {'number': 4, 'created': '2021-04-10 07:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aebd94f164ef839ff3646ba3c75deeba0f97389e', 'message': 'image_info: make RLIMIT configurable\n\nThis chanege makes address space limits configurable instead of\nhardcoding to 1Gi.\n\nChange-Id: I328df3fc9fbf9d9d3b7eebf89e9e04adb6877b9d\nCloses-Bug: #1921979\n'}, {'number': 5, 'created': '2021-04-10 07:05:00.000000000', 'files': ['nova/privsep/qemu.py', 'nova/conf/libvirt.py', 'releasenotes/notes/bug_1921979-883c011ebbf34f9e.yaml', 'nova/tests/unit/privsep/test_qemu.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a283256cedd35b8f20f6a38040913f2a812b3c40', 'message': 'image_info: make RLIMIT configurable\n\nThis chanege makes address space limits configurable instead of\nhardcoding to 1Gi.\n\nCloses-Bug: #1921979\n\nChange-Id: I328df3fc9fbf9d9d3b7eebf89e9e04adb6877b9d\n'}]",9,785082,a283256cedd35b8f20f6a38040913f2a812b3c40,35,5,5,17813,,,0,"image_info: make RLIMIT configurable

This chanege makes address space limits configurable instead of
hardcoding to 1Gi.

Closes-Bug: #1921979

Change-Id: I328df3fc9fbf9d9d3b7eebf89e9e04adb6877b9d
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/785082/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/privsep/qemu.py', 'nova/conf/libvirt.py']",2,7dbfa388589873b557c5e39d688d6cd5cbadf47a,bug/1921979," cfg.IntOpt('qemu_img_command_memory_limit', default=1024, help='Memory limit for ""qemu-img"" in MiB. Implemented ' 'via the address space resource limit.'),",,16,4
openstack%2Fgrenade~master~Ic747ac9ddbb21a01e9dc18d8e8ad324d4d7d050d,openstack/grenade,master,Ic747ac9ddbb21a01e9dc18d8e8ad324d4d7d050d,Make heat and octavia grenade jobs as voting,MERGED,2021-04-12 16:54:07.000000000,2021-04-13 13:37:27.000000000,2021-04-13 04:10:10.000000000,"[{'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-12 16:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/32b31b4d0f65df46ee0ae8c351ad34eacf602d19', 'message': 'Make heat and octavia grenade jobs as voting and add nova-grenade-multinode\n\nMost of the time, we miss to notice the n-v jobs failure and\nend up introducing the regression. grenade-heat and octavia-grenade\nare voting jobs on their project side so making those to voting\nin grenade gate too.\n\nAlso adding nova-grenade-multinode which is legacy zuulv2 based job\nand can be removed once this job migrate to zuulv3 native.\n\nChange-Id: Ic747ac9ddbb21a01e9dc18d8e8ad324d4d7d050d\n'}, {'number': 2, 'created': '2021-04-12 16:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/1140ed8e0cab270105705cd1d1d71f60e70de5ec', 'message': 'Make heat and octavia grenade jobs as voting and add nova-grenade-multinode\n\nMost of the time, we miss to notice the n-v jobs failure and\nend up introducing the regression. grenade-heat and octavia-grenade\nare voting jobs on their project side so making those to voting\nin grenade gate too.\n\nAlso adding nova-grenade-multinode which is legacy zuulv2 based job\nand can be removed once this job migrate to zuulv3 native.\n\nChange-Id: Ic747ac9ddbb21a01e9dc18d8e8ad324d4d7d050d\n'}, {'number': 3, 'created': '2021-04-12 17:02:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/grenade/commit/e35873c6fcbf16277d59cf6945581440b2d43500', 'message': 'Make heat and octavia grenade jobs as voting\n\nMost of the time, we miss to notice the n-v jobs failure and\nend up introducing the regression. grenade-heat (new name grenade-heat-multinode)\nand octavia-grenade are voting jobs on their project side so making those to voting\nin grenade gate too.\n\nChange-Id: Ic747ac9ddbb21a01e9dc18d8e8ad324d4d7d050d\n'}]",1,785938,e35873c6fcbf16277d59cf6945581440b2d43500,14,4,3,8556,,,0,"Make heat and octavia grenade jobs as voting

Most of the time, we miss to notice the n-v jobs failure and
end up introducing the regression. grenade-heat (new name grenade-heat-multinode)
and octavia-grenade are voting jobs on their project side so making those to voting
in grenade gate too.

Change-Id: Ic747ac9ddbb21a01e9dc18d8e8ad324d4d7d050d
",git fetch https://review.opendev.org/openstack/grenade refs/changes/38/785938/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,32b31b4d0f65df46ee0ae8c351ad34eacf602d19,, - grenade-heat - nova-grenade-multinode , - grenade-heat: voting: false voting: false,2,3
openstack%2Fpuppet-swift~stable%2Ftrain~I4371d49df847236be18f1a33caa8b3f186f5eaf1,openstack/puppet-swift,stable/train,I4371d49df847236be18f1a33caa8b3f186f5eaf1,Add TLS options for swift memcached client,MERGED,2021-02-15 12:30:24.000000000,2021-04-13 13:15:29.000000000,2021-04-13 13:13:20.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-02-15 12:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/889e5f86e7957ce111c44012b9c5900e4deb5452', 'message': 'Add TLS options for swift memcached client\n\nThis patch specifies a set of options required to build a TLS context\nin the swift memcached client.\n(see https://review.opendev.org/c/openstack/swift/+/765552)\n\nChange-Id: I4371d49df847236be18f1a33caa8b3f186f5eaf1\n(cherry picked from commit 0688c8a576dd71af5a13b1da636de881e9be2224)\n'}, {'number': 2, 'created': '2021-02-18 14:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/9d429b839d9ec3d4a8b2b9a3bfeeecb443fe151a', 'message': 'Add TLS options for swift memcached client\n\nThis patch specifies a set of options required to build a TLS context\nin the swift memcached client.\n(see https://review.opendev.org/c/openstack/swift/+/765552)\n\nChange-Id: I4371d49df847236be18f1a33caa8b3f186f5eaf1\n(cherry picked from commit 0688c8a576dd71af5a13b1da636de881e9be2224)\n'}, {'number': 3, 'created': '2021-03-31 13:31:54.000000000', 'files': ['spec/classes/swift_objectexpirer_spec.rb', 'releasenotes/notes/add-tls-options-cfc659d2a0ad42bc.yaml', 'spec/classes/swift_proxy_cache_spec.rb', 'manifests/objectexpirer.pp', 'spec/classes/swift_containerreconciler_spec.rb', 'manifests/containerreconciler.pp', 'manifests/proxy/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/feb9705870d6654f4db1e0b968db0d964fa36769', 'message': 'Add TLS options for swift memcached client\n\nThis patch specifies a set of options required to build a TLS context\nin the swift memcached client.\n(see https://review.opendev.org/c/openstack/swift/+/765552)\n\nChange-Id: I4371d49df847236be18f1a33caa8b3f186f5eaf1\n(cherry picked from commit 0688c8a576dd71af5a13b1da636de881e9be2224)\n'}]",0,775609,feb9705870d6654f4db1e0b968db0d964fa36769,40,4,3,14250,,,0,"Add TLS options for swift memcached client

This patch specifies a set of options required to build a TLS context
in the swift memcached client.
(see https://review.opendev.org/c/openstack/swift/+/765552)

Change-Id: I4371d49df847236be18f1a33caa8b3f186f5eaf1
(cherry picked from commit 0688c8a576dd71af5a13b1da636de881e9be2224)
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/09/775609/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/swift_objectexpirer_spec.rb', 'releasenotes/notes/add-tls-options-cfc659d2a0ad42bc.yaml', 'spec/classes/swift_proxy_cache_spec.rb', 'manifests/objectexpirer.pp', 'spec/classes/swift_containerreconciler_spec.rb', 'manifests/containerreconciler.pp', 'manifests/proxy/cache.pp']",7,889e5f86e7957ce111c44012b9c5900e4deb5452,memcached-cert-stable/train,"# [*tls_enabled*] # (Optional) Global toggle for TLS usage when comunicating with # the caching servers. # Default to false # # [*tls_cafile*] # (Optional) Path to a file of concatenated CA certificates in PEM # format necessary to establish the caching server's authenticity. # If tls_enabled is False, this option is ignored. # Defaults to undef # # [*tls_certfile*] # (Optional) Path to a single file in PEM format containing the # client's certificate as well as any number of CA certificates # needed to establish the certificate's authenticity. This file # is only required when client side authentication is necessary. # If tls_enabled is False, this option is ignored. # Defaults to undef # # [*tls_keyfile*] # (Optional) Path to a single file containing the client's private # key in. Otherwhise the private key will be taken from the file # specified in tls_certfile. If tls_enabled is False, this option # is ignored. # Defaults to undef # $tls_enabled = false, $tls_cafile = undef, $tls_certfile = undef, $tls_keyfile = undef, 'filter:cache/tls_enabled': value => $tls_enabled; 'filter:cache/tls_cafile': value => $tls_cafile; 'filter:cache/tls_certfile': value => $tls_certfile; 'filter:cache/tls_keyfile': value => $tls_keyfile;",,138,18
openstack%2Fos-apply-config~master~I80d8b64eebd3cd72457d3e75d4d44df6dcc8f838,openstack/os-apply-config,master,I80d8b64eebd3cd72457d3e75d4d44df6dcc8f838,Add Python3 wallaby unit tests,NEW,2021-01-04 10:31:00.000000000,2021-04-13 12:51:23.000000000,,"[{'_account_id': 7144}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-04 10:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/a84b39b2d8e20965008a66be071f9166daf43081', 'message': 'Add Python3 wallaby unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for wallaby.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I80d8b64eebd3cd72457d3e75d4d44df6dcc8f838\n'}, {'number': 2, 'created': '2021-01-12 16:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/cfebcd4a434e7871c78f0c04ffa95b875be8d252', 'message': 'Add Python3 wallaby unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for wallaby.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I80d8b64eebd3cd72457d3e75d4d44df6dcc8f838\n'}, {'number': 3, 'created': '2021-01-13 14:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/78847ea54960a1e1e6a80723e97e1f0134f5cb68', 'message': 'Add Python3 wallaby unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for wallaby.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I80d8b64eebd3cd72457d3e75d4d44df6dcc8f838\n'}, {'number': 4, 'created': '2021-01-14 14:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/071a15912e6b3bf199c2e16a651750676ae85ed7', 'message': 'Add Python3 wallaby unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for wallaby.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I80d8b64eebd3cd72457d3e75d4d44df6dcc8f838\n'}, {'number': 5, 'created': '2021-03-09 18:42:35.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/67706281b63b087869d31c2d323bb9c13b33e022', 'message': 'Add Python3 wallaby unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for wallaby.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I80d8b64eebd3cd72457d3e75d4d44df6dcc8f838\n'}]",0,769124,67706281b63b087869d31c2d323bb9c13b33e022,14,4,5,22816,,,0,"Add Python3 wallaby unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for wallaby.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I80d8b64eebd3cd72457d3e75d4d44df6dcc8f838
",git fetch https://review.opendev.org/openstack/os-apply-config refs/changes/24/769124/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,a84b39b2d8e20965008a66be071f9166daf43081,fix-ci, - openstack-python3-wallaby-jobs, - openstack-python3-victoria-jobs,1,1
openstack%2Freleases~master~I226979201330d60f153c2ac556ed8432cfdc5ec5,openstack/releases,master,I226979201330d60f153c2ac556ed8432cfdc5ec5,Release ironic-tempest-plugin for wallaby,ABANDONED,2021-03-26 16:00:19.000000000,2021-04-13 12:41:01.000000000,,"[{'_account_id': 8556}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 13861}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 16:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/31fa0c0cbcab3c6c73a1dfd322de844bd8aaa593', 'message': 'Release ironic-tempest-plugin for wallaby\n\nThis is the automatic release for ironic-tempest-plugin.\nPlease +1 if this is ready to go, or -1 if the team needs a little more\ntime. If so, please update with the new commit hash to use when ready.\n\n$ git log --oneline --no-merges 2.2.0..56af475\n957dc34 Remove /extra/vif_port_id usage\n13de53a Reconfigure tox.ini\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I226979201330d60f153c2ac556ed8432cfdc5ec5\n'}, {'number': 2, 'created': '2021-04-07 06:04:44.000000000', 'files': ['deliverables/wallaby/ironic-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a209ef605375e4b58415d87fef21fa0778d1e1d8', 'message': 'Release ironic-tempest-plugin for wallaby\n\nThis is the automatic release for ironic-tempest-plugin.\nPlease +1 if this is ready to go, or -1 if the team needs a little more\ntime. If so, please update with the new commit hash to use when ready.\n\n$ git log --oneline --no-merges 2.2.0..56af475\n957dc34 Remove /extra/vif_port_id usage\n13de53a Reconfigure tox.ini\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I226979201330d60f153c2ac556ed8432cfdc5ec5\n'}]",0,783364,a209ef605375e4b58415d87fef21fa0778d1e1d8,8,6,2,28522,,,0,"Release ironic-tempest-plugin for wallaby

This is the automatic release for ironic-tempest-plugin.
Please +1 if this is ready to go, or -1 if the team needs a little more
time. If so, please update with the new commit hash to use when ready.

$ git log --oneline --no-merges 2.2.0..56af475
957dc34 Remove /extra/vif_port_id usage
13de53a Reconfigure tox.ini

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I226979201330d60f153c2ac556ed8432cfdc5ec5
",git fetch https://review.opendev.org/openstack/releases refs/changes/64/783364/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/ironic-tempest-plugin.yaml'],1,31fa0c0cbcab3c6c73a1dfd322de844bd8aaa593,wallaby-c-a, - version: 2.2.1 projects: - repo: openstack/ironic-tempest-plugin hash: 56af4756a993b264bac6f5c7788397ebfc7359bf,,4,0
openstack%2Fnova~stable%2Fstein~I4deed815c8984df095019a7f61d089f233f1fc66,openstack/nova,stable/stein,I4deed815c8984df095019a7f61d089f233f1fc66,Correctly disable greendns,MERGED,2021-04-03 13:26:52.000000000,2021-04-13 12:26:58.000000000,2021-04-13 12:25:02.000000000,"[{'_account_id': 7634}, {'_account_id': 8864}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-03 13:26:52.000000000', 'files': ['nova/monkey_patch.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d7c70136a047bcda1bbfe35b24340b5d86bf9719', 'message': 'Correctly disable greendns\n\nPreviously, we were setting the environment variable to disable\ngreendns in eventlet *after* import eventlet. This has no effect, as\neventlet processes environment variables at import time. This patch\nmoves the setting of EVENTLET_NO_GREENDNS before importing eventlet in\norder to correctly disable greendns.\n\nCloses-bug: 1895322\nChange-Id: I4deed815c8984df095019a7f61d089f233f1fc66\n(cherry picked from commit 7c1d964faab33a02fe2366b5194611252be045fc)\n(cherry picked from commit 79e6b7fd30a04cdb2374abcaf496b6b5b76084ff)\n(cherry picked from commit 4984b3b75b5f7086b7464d9acb940e3fb0334a5e)\n'}]",0,784581,d7c70136a047bcda1bbfe35b24340b5d86bf9719,14,5,1,9373,,,0,"Correctly disable greendns

Previously, we were setting the environment variable to disable
greendns in eventlet *after* import eventlet. This has no effect, as
eventlet processes environment variables at import time. This patch
moves the setting of EVENTLET_NO_GREENDNS before importing eventlet in
order to correctly disable greendns.

Closes-bug: 1895322
Change-Id: I4deed815c8984df095019a7f61d089f233f1fc66
(cherry picked from commit 7c1d964faab33a02fe2366b5194611252be045fc)
(cherry picked from commit 79e6b7fd30a04cdb2374abcaf496b6b5b76084ff)
(cherry picked from commit 4984b3b75b5f7086b7464d9acb940e3fb0334a5e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/784581/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/monkey_patch.py'],1,d7c70136a047bcda1bbfe35b24340b5d86bf9719,bug/1895322," # See https://bugs.launchpad.net/nova/+bug/1164822 # TODO(mdbooth): This feature was deprecated and removed in eventlet at # some point but brought back in version 0.21.0, presumably because some # users still required it to work round issues. However, there have been a # number of greendns fixes in eventlet since then. Specifically, it looks # as though the originally reported IPv6 issue may have been fixed in # version 0.24.0. We should remove this when we can confirm that the # original issue is fixed. # NOTE(artom) eventlet processes environment variables at import-time. We # therefore set this here, before importing eventlet, in order to correctly # disable greendns. os.environ['EVENTLET_NO_GREENDNS'] = 'yes' "," # See https://bugs.launchpad.net/nova/+bug/1164822 # TODO(mdbooth): This feature was deprecated and removed in eventlet at # some point but brought back in version 0.21.0, presumably because some # users still required it to work round issues. However, there have been a # number of greendns fixes in eventlet since then. Specifically, it looks # as though the originally reported IPv6 issue may have been fixed in # version 0.24.0. We should remove this when we can confirm that the # original issue is fixed. os.environ['EVENTLET_NO_GREENDNS'] = 'yes' ",13,10
openstack%2Fneutron~master~If04e360c01cdb16e956d16357e2181db55445137,openstack/neutron,master,If04e360c01cdb16e956d16357e2181db55445137,Group execution of SQL functional tests,MERGED,2021-04-09 07:36:53.000000000,2021-04-13 11:58:39.000000000,2021-04-13 11:54:59.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-09 07:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0165d7401dc00eecf1dae3f4df8211d7474bf916', 'message': 'Group execution of SQL functional tests\n\nFunctional SQL tests (MySQL and PostgreSQL) use the DB installed\nbackend. To avoid overloading the DB engine, the test cases are\ngrouped [1] together and executed by the same worker process. That\nwill ensure those tests are not executed in parallel, interfering\neach other.\n\nClasses that are grouped:\n- TestModelsMigrationsMysql\n- TestModelsMigrationsPsql\n\n[1]https://stestr.readthedocs.io/en/latest/MANUAL.html#group-regex\n\nRelated-Bug: #1687027\n\nChange-Id: If04e360c01cdb16e956d16357e2181db55445137\n'}, {'number': 2, 'created': '2021-04-09 09:52:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7326fd622f2c3cb36681136d79e39e4efdda5411', 'message': 'Group execution of SQL functional tests\n\nFunctional SQL tests (MySQL and PostgreSQL) use the DB installed\nbackend. To avoid overloading the DB engine, the test cases are\ngrouped [1] together and executed by the same worker process. That\nwill ensure those tests are not executed in parallel, interfering\neach other.\n\nClasses that are grouped:\n- TestModelsMigrationsMysql\n- TestModelsMigrationsPsql\n\n[1]https://stestr.readthedocs.io/en/latest/MANUAL.html#group-regex\n\nRelated-Bug: #1687027\n\nChange-Id: If04e360c01cdb16e956d16357e2181db55445137\n'}]",4,785568,7326fd622f2c3cb36681136d79e39e4efdda5411,26,4,2,16688,,,0,"Group execution of SQL functional tests

Functional SQL tests (MySQL and PostgreSQL) use the DB installed
backend. To avoid overloading the DB engine, the test cases are
grouped [1] together and executed by the same worker process. That
will ensure those tests are not executed in parallel, interfering
each other.

Classes that are grouped:
- TestModelsMigrationsMysql
- TestModelsMigrationsPsql

[1]https://stestr.readthedocs.io/en/latest/MANUAL.html#group-regex

Related-Bug: #1687027

Change-Id: If04e360c01cdb16e956d16357e2181db55445137
",git fetch https://review.opendev.org/openstack/neutron refs/changes/68/785568/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0165d7401dc00eecf1dae3f4df8211d7474bf916,bug/1687027, stestr run --group_regex=neutron.tests.functional.db.test_migrations.TestModelsMigrationsPsql --group_regex=neutron.tests.functional.db.test_migrations.TestModelsMigrationsMysql {posargs}, stestr run {posargs},1,1
openstack%2Fcharm-neutron-gateway~master~I3798a8dc52cd80464481692d821590d367a9bf29,openstack/charm-neutron-gateway,master,I3798a8dc52cd80464481692d821590d367a9bf29,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,MERGED,2021-04-11 15:57:51.000000000,2021-04-13 11:56:05.000000000,2021-04-13 11:56:05.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-11 15:57:51.000000000', 'files': ['hooks/charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/5f33d68f49d92f3bf96082d9dabdd372bbe29b57', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: I3798a8dc52cd80464481692d821590d367a9bf29\n""}]",0,785789,5f33d68f49d92f3bf96082d9dabdd372bbe29b57,18,3,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: I3798a8dc52cd80464481692d821590d367a9bf29
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/89/785789/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/core/host_factory/ubuntu.py'],1,5f33d68f49d92f3bf96082d9dabdd372bbe29b57,hirsute-ch-sync-2104," 'groovy', 'hirsute',", 'groovy',2,1
openstack%2Ftripleo-ci~master~Id470d5d0922283b4e1a15632806f293270e06b28,openstack/tripleo-ci,master,Id470d5d0922283b4e1a15632806f293270e06b28,Add task to list the built containers,NEW,2021-02-23 09:58:40.000000000,2021-04-13 11:50:07.000000000,,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-23 09:58:40.000000000', 'files': ['roles/build-containers/tasks/post.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/dac6eed8080481babc49e1c5c12ec9f733d90c74', 'message': 'Add task to list the built containers\n\nThis is a duplicate task contained in build-report, however, the same\nhave more tasks that are not required in centos 7 jobs that run kolla,\nso, instead of execute the whole tasks in build-report.yaml, we are just\nexecuting this one. This is required because the tool that copy the\ncontainers to quay needs to read the data of the build containers.\n\nChange-Id: Id470d5d0922283b4e1a15632806f293270e06b28\n'}]",1,777084,dac6eed8080481babc49e1c5c12ec9f733d90c74,13,4,1,8367,,,0,"Add task to list the built containers

This is a duplicate task contained in build-report, however, the same
have more tasks that are not required in centos 7 jobs that run kolla,
so, instead of execute the whole tasks in build-report.yaml, we are just
executing this one. This is required because the tool that copy the
containers to quay needs to read the data of the build containers.

Change-Id: Id470d5d0922283b4e1a15632806f293270e06b28
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/84/777084/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/tasks/post.yaml'],1,dac6eed8080481babc49e1c5c12ec9f733d90c74,show-report,- name: Get actual built containers shell: | set -eux {{ container_cli | default('buildah') }} images | grep {{ container_name_prefix }} \ | tee {{ workspace }}/containers-built.log become: true when: use_kolla | default(true) ,,8,0
openstack%2Fproject-config~master~I99f88e7b1f5049b39f21f74ea337cb549f3f8a95,openstack/project-config,master,I99f88e7b1f5049b39f21f74ea337cb549f3f8a95,Update neutron stable grafana dashboards,MERGED,2021-04-13 07:23:24.000000000,2021-04-13 11:42:52.000000000,2021-04-13 07:46:17.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-13 07:23:24.000000000', 'files': ['grafana/neutron-stable-minusone.yaml', 'grafana/neutron-stable-minustwo.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2d05ad49ddeab8fccc31828caba9327429061a99', 'message': 'Update neutron stable grafana dashboards\n\nWith wallaby release, it is time again to rotate the stable dashboards.\nWallaby one was synced from master dashboard, adjusting to stable\nbranch, neutron-tempest-plugin job names and removing -master jobs.\n\nChange-Id: I99f88e7b1f5049b39f21f74ea337cb549f3f8a95\n'}]",0,786008,2d05ad49ddeab8fccc31828caba9327429061a99,7,2,1,21798,,,0,"Update neutron stable grafana dashboards

With wallaby release, it is time again to rotate the stable dashboards.
Wallaby one was synced from master dashboard, adjusting to stable
branch, neutron-tempest-plugin job names and removing -master jobs.

Change-Id: I99f88e7b1f5049b39f21f74ea337cb549f3f8a95
",git fetch https://review.opendev.org/openstack/project-config refs/changes/08/786008/1 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/neutron-stable-minusone.yaml', 'grafana/neutron-stable-minustwo.yaml']",2,2d05ad49ddeab8fccc31828caba9327429061a99,neutron-stable," This dashboard shows statistics of Neutron CI jobs for the stable/victoria branch. It should be updated with every release to ensure that it is always referring to the correct stable release. - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.tempest-slow-py3.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.tempest-slow-py3.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tempest-slow-py3') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-plugin-api-victoria.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-plugin-api-victoria.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-api-victoria') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-linuxbridge.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-linuxbridge.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-linuxbridge') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-iptables_hybrid.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-iptables_hybrid.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-iptables_hybrid') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.tempest-ipv6-only.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.tempest-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tempest-ipv6-only') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.tempest-slow-py3.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tempest-slow-py3') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-plugin-api-victoria.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api-victoria') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-linuxbridge.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-linuxbridge') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-iptables_hybrid.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-iptables_hybrid') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.tempest-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tempest-ipv6-only') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-grenade-multinode.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-grenade-multinode.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-grenade-multinode') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-grenade-dvr-multinode.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-grenade-dvr-multinode.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-grenade-dvr-multinode') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-grenade-multinode.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-grenade-multinode') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-grenade-dvr-multinode.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-grenade-dvr-multinode') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-functional-with-uwsgi.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-functional-with-uwsgi.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-functional-with-uwsgi') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-fullstack-with-uwsgi.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-fullstack-with-uwsgi.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-fullstack-with-uwsgi') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-functional-with-uwsgi.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-functional-with-uwsgi') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-fullstack-with-uwsgi.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-fullstack-with-uwsgi') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-py36.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-py36.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py36') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-lower-constraints.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-lower-constraints') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-py36.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py36') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-lower-constraints') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-pep8.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-pep8.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-pep8') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-pep8.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-pep8') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-docs.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-docs.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-docs') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-docs.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-docs') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.tempest-slow-py3.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.tempest-slow-py3.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tempest-slow-py3') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-dvr.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-dvr.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-dvr') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-linuxbridge.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-linuxbridge.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-linuxbridge') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-iptables_hybrid.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-iptables_hybrid.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-iptables_hybrid') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-with-uwsgi.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-with-uwsgi.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-with-uwsgi') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.tempest-ipv6-only.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.tempest-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tempest-ipv6-only') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-ovn-tempest-ovs-release.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-ovn-tempest-ovs-release.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-ovs-release') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.tempest-slow-py3.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tempest-slow-py3') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-linuxbridge.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-linuxbridge') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-iptables_hybrid.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-iptables_hybrid') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-with-uwsgi.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-with-uwsgi') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.tempest-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tempest-ipv6-only') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-ovn-tempest-ovs-release.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovn-tempest-ovs-release') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-multinode-full-py3.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-multinode-full-py3.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-multinode-full-py3') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-dvr-ha-multinode-full.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-dvr-ha-multinode-full.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-dvr-ha-multinode-full (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-ovn-tempest-ovs-release-ipv6-only.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-ovn-tempest-ovs-release-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-ovs-release-ipv6-only (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-ovn-tempest-slow.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-ovn-tempest-slow.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-slow (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-multinode-full-py3.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-multinode-full-py3') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-dvr-ha-multinode-full.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-dvr-ha-multinode-full (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-ovn-tempest-ovs-release-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovn-tempest-ovs-release-ipv6-only (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-ovn-tempest-slow.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovn-tempest-slow (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-plugin-api-victoria.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-plugin-api-victoria.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-api-victoria') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-plugin-designate-scenario-victoria.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-plugin-designate-scenario-victoria.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-designate-scenario-victoria') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-plugin-dvr-multinode-scenario-victoria.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-plugin-dvr-multinode-scenario-victoria.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-dvr-multinode-scenario-victoria (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-plugin-scenario-linuxbridge-victoria.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-plugin-scenario-linuxbridge-victoria.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge-victoria') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-plugin-scenario-openvswitch-victoria.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-plugin-scenario-openvswitch-victoria.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-victoria') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-victoria.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-victoria.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-victoria') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-plugin-api-victoria.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api-victoria') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-plugin-designate-scenario-victoria.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-designate-scenario') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-plugin-dvr-multinode-scenario-victoria.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-dvr-multinode-scenario-victoria (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-plugin-scenario-linuxbridge-victoria.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge-victoria') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-plugin-scenario-openvswitch-victoria.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-victoria') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-victoria.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-victoria') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-grenade.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-grenade.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-grenade') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-grenade-dvr-multinode.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-grenade-dvr-multinode.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-grenade-dvr-multinode') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-grenade.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-grenade') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-grenade-dvr-multinode.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-grenade-dvr-multinode') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-functional-with-uwsgi.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-functional-with-uwsgi.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-functional-with-uwsgi') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-fullstack-with-uwsgi.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-fullstack-with-uwsgi.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-fullstack-with-uwsgi') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-functional-with-uwsgi.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-functional-with-uwsgi') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-fullstack-with-uwsgi.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-fullstack-with-uwsgi') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-py36.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-py36.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py36') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-py38.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-py38.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py38') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-lower-constraints.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-lower-constraints') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-py36.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py36') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-py38.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py38') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-lower-constraints') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.openstacksdk-functional-devstack-networking.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.openstacksdk-functional-devstack-networking.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstacksdk-functional-devstack-networking (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-centos-8-tripleo-standalone.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-centos-8-tripleo-standalone.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-centos-8-tripleo-standalone (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-ovn-tripleo-ci-centos-8-containers-multinode.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-ovn-tripleo-ci-centos-8-containers-multinode.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tripleo-ci-centos-8-containers-multinode (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.openstacksdk-functional-devstack-networking.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstacksdk-functional-devstack-networking (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-centos-8-tripleo-standalone.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-centos-8-tripleo-standalone (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-ovn-tripleo-ci-centos-8-containers-multinode.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovn-tripleo-ci-centos-8-containers-multinode (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-cover.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-cover.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-cover') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-pep8.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-pep8.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-pep8') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-cover.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-cover') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-pep8.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-pep8') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-rally-task.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-rally-task.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-rally-task') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-ovn-rally-task.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-ovn-rally-task.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-rally-task (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-rally-task.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-rally-task') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-ovn-rally-task.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovn-rally-task (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.build-openstack-releasenotes.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.build-openstack-releasenotes.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'build-openstack-releasenotes') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-docs.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-docs.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-docs') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.build-openstack-releasenotes.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'build-openstack-releasenotes') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_victoria.job.openstack-tox-docs.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-docs') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-functional.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-functional.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-functional') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-postgres-full.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-postgres-full.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-postgres-full') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-with-os-ken-master.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-with-os-ken-master.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-with-os-ken-master') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_victoria.job.propose-translation-update.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_victoria.job.propose-translation-update.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'propose-translation-update') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-functional.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-functional') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-postgres-full.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-postgres-full') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_victoria.job.neutron-tempest-with-os-ken-master.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-with-os-ken-master') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_victoria.job.propose-translation-update.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'propose-translation-update')"," This dashboard shows statistics of Neutron CI jobs for the stable/train branch. It should be updated with every release to ensure that it is always referring to the newest stable release. - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.tempest-integrated-networking.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.tempest-integrated-networking.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tempest-integrated-networking') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.tempest-slow-py3.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.tempest-slow-py3.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tempest-slow-py3') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-plugin-api-ussuri.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-plugin-api-ussuri.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-api-ussuri') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-linuxbridge.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-linuxbridge.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-linuxbridge') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-iptables_hybrid.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-iptables_hybrid.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-iptables_hybrid') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.tempest-ipv6-only.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.tempest-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tempest-ipv6-only') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.tempest-integrated-networking.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tempest-integrated-networking') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.tempest-slow-py3.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tempest-slow-py3') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-plugin-api-ussuri.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api-ussuri') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-linuxbridge.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-linuxbridge') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-iptables_hybrid.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-iptables_hybrid') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.tempest-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tempest-ipv6-only') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-grenade-multinode.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-grenade-multinode.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-grenade-multinode') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-grenade-dvr-multinode.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-grenade-dvr-multinode.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-grenade-dvr-multinode') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-grenade-multinode.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-grenade-multinode') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-grenade-dvr-multinode.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-grenade-dvr-multinode') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-functional.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-functional.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-functional') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-fullstack.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-fullstack.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-fullstack') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-functional.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-functional') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-fullstack.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-fullstack') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-py36.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-py36.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py36') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-py37.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-py37.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py37') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-lower-constraints.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-lower-constraints') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-py36.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py36') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-py37.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py37') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-lower-constraints') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-pep8.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-pep8.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-pep8') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-pep8.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-pep8') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-docs.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-docs.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-docs') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-docs.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-docs') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.tempest-integrated-networking.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.tempest-integrated-networking.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tempest-integrated-networking') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.tempest-slow-py3.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.tempest-slow-py3.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tempest-slow-py3') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-dvr.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-dvr.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-dvr') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-linuxbridge.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-linuxbridge.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-linuxbridge') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-iptables_hybrid.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-iptables_hybrid.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-iptables_hybrid') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-with-uwsgi.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-with-uwsgi.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-with-uwsgi') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.tempest-ipv6-only.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.tempest-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tempest-ipv6-only') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-ovn-tempest-ovs-release.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-ovn-tempest-ovs-release.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-ovs-release') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.tempest-integrated-networking.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tempest-integrated-networking') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.tempest-slow-py3.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tempest-slow-py3') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-linuxbridge.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-linuxbridge') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-iptables_hybrid.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-iptables_hybrid') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-with-uwsgi.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-with-uwsgi') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.tempest-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tempest-ipv6-only') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-ovn-tempest-ovs-release.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovn-tempest-ovs-release') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.tempest-multinode-full-py3.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.tempest-multinode-full-py3.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tempest-multinode-full-py3 (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-dvr-ha-multinode-full.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-dvr-ha-multinode-full.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-dvr-ha-multinode-full (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-ovn-tempest-ovs-release-ipv6-only.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-ovn-tempest-ovs-release-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-ovs-release-ipv6-only (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-ovn-tempest-slow.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-ovn-tempest-slow.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-slow (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.tempest-multinode-full-py3.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tempest-multinode-full-py3 (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-dvr-ha-multinode-full.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-dvr-ha-multinode-full (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-ovn-tempest-ovs-release-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovn-tempest-ovs-release-ipv6-only (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-ovn-tempest-slow.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovn-tempest-slow (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-plugin-api-ussuri.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-plugin-api-ussuri.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-api-ussuri') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-plugin-designate-scenario-ussuri.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-plugin-designate-scenario-ussuri.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-designate-scenario-ussuri') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-plugin-dvr-multinode-scenario-ussuri.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-plugin-dvr-multinode-scenario-ussuri.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-dvr-multinode-scenario-ussuri (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-plugin-scenario-linuxbridge-ussuri.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-plugin-scenario-linuxbridge-ussuri.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge-ussuri') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-plugin-scenario-openvswitch-ussuri.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-plugin-scenario-openvswitch-ussuri.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-ussuri') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-ussuri.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-ussuri.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-ussuri') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-plugin-api-ussuri.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api-ussuri') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-plugin-designate-scenario-ussuri.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-designate-scenario') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-plugin-dvr-multinode-scenario-ussuri.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-dvr-multinode-scenario-ussuri (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-plugin-scenario-linuxbridge-ussuri.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge-ussuri') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-plugin-scenario-openvswitch-ussuri.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-ussuri') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-ussuri.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-ussuri') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-grenade.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-grenade.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-grenade') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-grenade-dvr-multinode.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-grenade-dvr-multinode.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-grenade-dvr-multinode') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-grenade.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-grenade') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-grenade-dvr-multinode.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-grenade-dvr-multinode') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-functional.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-functional.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-functional') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-functional-with-uwsgi.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-functional-with-uwsgi.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-functional-with-uwsgi (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-fullstack.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-fullstack.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-fullstack') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-fullstack-with-uwsgi.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-fullstack-with-uwsgi.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-fullstack-with-uwsgi') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-functional.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-functional') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-functional-with-uwsgi.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-functional-with-uwsgi (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-fullstack.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-fullstack') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-fullstack-with-uwsgi.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-fullstack-with-uwsgi') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-py36.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-py36.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py36') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-py37.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-py37.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py37') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-py38.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-py38.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py38') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-lower-constraints.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-lower-constraints') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-py36.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py36') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-py37.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py37') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-py38.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py38') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-lower-constraints') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.openstacksdk-functional-devstack-networking.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.openstacksdk-functional-devstack-networking.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstacksdk-functional-devstack-networking (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-centos-8-tripleo-standalone.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-centos-8-tripleo-standalone.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-centos-8-tripleo-standalone (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-ovn-tripleo-ci-centos-8-containers-multinode.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-ovn-tripleo-ci-centos-8-containers-multinode.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tripleo-ci-centos-8-containers-multinode (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.openstacksdk-functional-devstack-networking.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstacksdk-functional-devstack-networking (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-centos-8-tripleo-standalone.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-centos-8-tripleo-standalone (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-ovn-tripleo-ci-centos-8-containers-multinode.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovn-tripleo-ci-centos-8-containers-multinode (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-cover.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-cover.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-cover') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-pep8.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-pep8.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-pep8') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-cover.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-cover') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-pep8.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-pep8') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-rally-task.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-rally-task.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-rally-task') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-ovn-rally-task.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-ovn-rally-task.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-rally-task (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-rally-task.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-rally-task') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-ovn-rally-task.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovn-rally-task (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.build-openstack-releasenotes.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.build-openstack-releasenotes.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'build-openstack-releasenotes') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-docs.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-docs.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-docs') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.build-openstack-releasenotes.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'build-openstack-releasenotes') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_ussuri.job.openstack-tox-docs.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-docs') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-functional.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-functional.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-functional') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-postgres-full.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-postgres-full.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-postgres-full') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-with-os-ken-master.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-with-os-ken-master.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-with-os-ken-master') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_ussuri.job.propose-translation-update.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_ussuri.job.propose-translation-update.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'propose-translation-update') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-functional.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-functional') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-postgres-full.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-postgres-full') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_ussuri.job.neutron-tempest-with-os-ken-master.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-with-os-ken-master') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_ussuri.job.propose-translation-update.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'propose-translation-update')",208,228
openstack%2Fopenstack-ansible-os_trove~master~I29de46e830e0a63c1da90043ec08c5dcc56b7e3e,openstack/openstack-ansible-os_trove,master,I29de46e830e0a63c1da90043ec08c5dcc56b7e3e,Use ansible_facts[] instead of fact variables,MERGED,2021-03-16 08:23:40.000000000,2021-04-13 11:28:51.000000000,2021-04-13 11:26:45.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-16 08:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/2b614218160bc564aea8f43ee93997b61e8f8a7e', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I29de46e830e0a63c1da90043ec08c5dcc56b7e3e\n'}, {'number': 2, 'created': '2021-03-25 10:20:05.000000000', 'files': ['tasks/main.yml', 'defaults/main.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/f67c296bff943520c199dc8417db69454e82c3b6', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I29de46e830e0a63c1da90043ec08c5dcc56b7e3e\n'}]",0,780732,f67c296bff943520c199dc8417db69454e82c3b6,13,3,2,25023,,,0,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I29de46e830e0a63c1da90043ec08c5dcc56b7e3e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/32/780732/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'defaults/main.yml', 'meta/main.yml']",3,2b614218160bc564aea8f43ee93997b61e8f8a7e,osa-facts, - ansible_facts['pkg_mgr'] == 'apt', - ansible_pkg_mgr == 'apt',10,10
openstack%2Fopenstack-ansible-openstack_hosts~master~If97d088736a308e8f4441bf08405c08978de241e,openstack/openstack-ansible-openstack_hosts,master,If97d088736a308e8f4441bf08405c08978de241e,Replace import with include,MERGED,2021-02-05 10:54:46.000000000,2021-04-13 11:20:22.000000000,2021-04-13 11:18:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-05 10:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/01701143caae97a03c26afbb3c62df8a229250b4', 'message': ""Replace import with include\n\nImport tasks results in includding and skipping all tasks when condition\nis false. Include won't happen when condition is false. However it we\nneed to define tags in compatible way for them to work properly [1]\n\n[1] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/include_tasks_module.html#examples\n\nChange-Id: If97d088736a308e8f4441bf08405c08978de241e\n""}, {'number': 2, 'created': '2021-02-05 10:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/4fdf2b9c65c263e9f1fb66bb5ae331927fdddabb', 'message': ""Replace import with include\n\nImport tasks results in includding and skipping all tasks when condition\nis false. Include won't happen when condition is false. However it we\nneed to define tags in compatible way for them to work properly [1]\n\n[1] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/include_tasks_module.html#examples\n\nChange-Id: If97d088736a308e8f4441bf08405c08978de241e\n""}, {'number': 3, 'created': '2021-02-05 11:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/f939100eb51cb7efe41f4d6a28586491bc186b35', 'message': ""Replace import with include\n\nImport tasks results in includding and skipping all tasks when condition\nis false. Include won't happen when condition is false. However it we\nneed to define tags in compatible way for them to work properly [1]\n\n[1] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/include_tasks_module.html#examples\n\nChange-Id: If97d088736a308e8f4441bf08405c08978de241e\n""}, {'number': 4, 'created': '2021-02-09 11:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/65e104f53d5bcd3ffa57fea832f7203dd39df348', 'message': ""Replace import with include\n\nImport tasks results in includding and skipping all tasks when condition\nis false. Include won't happen when condition is false. However it we\nneed to define tags in compatible way for them to work properly [1]\n\n[1] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/include_tasks_module.html#examples\n\nChange-Id: If97d088736a308e8f4441bf08405c08978de241e\n""}, {'number': 5, 'created': '2021-02-09 11:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/6eedf876beb5a6f85e4467bdf101ac17786df28a', 'message': ""Replace import with include\n\nImport tasks results in includding and skipping all tasks when condition\nis false. Include won't happen when condition is false. However it we\nneed to define tags in compatible way for them to work properly [1]\n\nWe also remove is_container variable since we have a reliable\nis_metal replacement in dynamic_inventory.\n\n[1] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/include_tasks_module.html#examples\n\nChange-Id: If97d088736a308e8f4441bf08405c08978de241e\n""}, {'number': 6, 'created': '2021-04-02 11:43:41.000000000', 'files': ['tasks/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/e55c4e3defc208278759709a5fb8f7e141b485c6', 'message': ""Replace import with include\n\nImport tasks results in includding and skipping all tasks when condition\nis false. Include won't happen when condition is false. However it we\nneed to define tags in compatible way for them to work properly [1]\n\nWe also remove is_container variable since we have a reliable\nis_metal replacement in dynamic_inventory.\n\n[1] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/include_tasks_module.html#examples\n\nChange-Id: If97d088736a308e8f4441bf08405c08978de241e\n""}]",0,774224,e55c4e3defc208278759709a5fb8f7e141b485c6,19,3,6,28619,,,0,"Replace import with include

Import tasks results in includding and skipping all tasks when condition
is false. Include won't happen when condition is false. However it we
need to define tags in compatible way for them to work properly [1]

We also remove is_container variable since we have a reliable
is_metal replacement in dynamic_inventory.

[1] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/include_tasks_module.html#examples

Change-Id: If97d088736a308e8f4441bf08405c08978de241e
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/24/774224/4 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,01701143caae97a03c26afbb3c62df8a229250b4,774224,- include_tasks: configure_metal_hosts.yml args: apply: tags: - openstack_hosts-install - always when: openstack_host_ca_certificates | length > 0,- import_tasks: configure_metal_hosts.yml - openstack_hosts-install,7,2
openstack%2Fopenstack-ansible-os_nova~master~Ib3081280cdbae1eb2235083c95c27e2efd0b413e,openstack/openstack-ansible-os_nova,master,Ib3081280cdbae1eb2235083c95c27e2efd0b413e,Set default qemu settings for RBD,MERGED,2021-03-30 10:14:37.000000000,2021-04-13 11:11:18.000000000,2021-04-13 11:08:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-30 10:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/160aade61b198b0a0bf526e8affaf0b749475a0c', 'message': 'Set default qemu settings for RBD\n\nWhen Nova and/or Cinder are using Ceph as backend, qemu will need\nto open a connection and two threads for each and every Ceph OSD.\nSince all connections occur in the same qemu process, this may result\nin hitting default max open files limit.\nThus in case of more then 10 volumes are attached\nto the same instance and are used actively can end up in blocked\nIO operations inside VMs.\n\nWe increase these limits by default when RBD backend is used.\n\nChange-Id: Ib3081280cdbae1eb2235083c95c27e2efd0b413e\n'}, {'number': 2, 'created': '2021-04-01 19:35:24.000000000', 'files': ['templates/qemu.conf.j2', 'defaults/main.yml', 'vars/main.yml', 'tasks/drivers/kvm/nova_compute_kvm.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/4cc6ed4b481d59f7765333b78c6aaf1015bd56aa', 'message': 'Set default qemu settings for RBD\n\nWhen Nova and/or Cinder are using Ceph as backend, qemu will need\nto open a connection and two threads for each and every Ceph OSD.\nSince all connections occur in the same qemu process, this may result\nin hitting default max open files limit.\nThus in case of more then 10 volumes are attached\nto the same instance and are used actively can end up in blocked\nIO operations inside VMs.\n\nWe increase these limits by default when RBD backend is used.\n\nChange-Id: Ib3081280cdbae1eb2235083c95c27e2efd0b413e\n'}]",0,783829,4cc6ed4b481d59f7765333b78c6aaf1015bd56aa,10,3,2,28619,,,0,"Set default qemu settings for RBD

When Nova and/or Cinder are using Ceph as backend, qemu will need
to open a connection and two threads for each and every Ceph OSD.
Since all connections occur in the same qemu process, this may result
in hitting default max open files limit.
Thus in case of more then 10 volumes are attached
to the same instance and are used actively can end up in blocked
IO operations inside VMs.

We increase these limits by default when RBD backend is used.

Change-Id: Ib3081280cdbae1eb2235083c95c27e2efd0b413e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/29/783829/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/qemu.conf.j2', 'defaults/main.yml', 'tasks/drivers/kvm/nova_compute_kvm.yml', 'vars/main.yml']",4,160aade61b198b0a0bf526e8affaf0b749475a0c,," _qemu_default_conf_dict: |- {% set qemu_dict = {} %} {% if nova_rbd_inuse or nova_cinder_rbd_inuse %} {% set qemu_dict['max_files'] = 32768 %} {% set qemu_dict['max_processes'] = 131072 %} {% endif %} {{ qemu_dict }} _nova_qemu_conf: ""{{ _qemu_default_conf_dict | combine(qemu_conf_dict) }}""",,14,5
openstack%2Fkayobe~stable%2Fvictoria~I215f927d8249aadd9cc7bb44893e0bdf5f26510a,openstack/kayobe,stable/victoria,I215f927d8249aadd9cc7bb44893e0bdf5f26510a,Fix help texts of inventory options,MERGED,2021-04-13 05:10:09.000000000,2021-04-13 11:11:10.000000000,2021-04-13 11:07:18.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-04-13 05:10:09.000000000', 'files': ['kayobe/kolla_ansible.py', 'kayobe/ansible.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/831f1cf43b214ad9aec4f6592d96182e91375656', 'message': 'Fix help texts of inventory options\n\nPassing the Kayobe or Kolla Ansible inventories as comma-separated host\nlist was never supported since we check that inventory directories\nexist.\n\nAlso fix the check for the Kolla Ansible inventory directory, which was\nusing the wrong variable (parsed_args.kolla_venv).\n\nChange-Id: I215f927d8249aadd9cc7bb44893e0bdf5f26510a\n(cherry picked from commit e0b180e13543682b0196c96e39f103cbbae697dc)\n'}]",0,785922,831f1cf43b214ad9aec4f6592d96182e91375656,8,3,1,15197,,,0,"Fix help texts of inventory options

Passing the Kayobe or Kolla Ansible inventories as comma-separated host
list was never supported since we check that inventory directories
exist.

Also fix the check for the Kolla Ansible inventory directory, which was
using the wrong variable (parsed_args.kolla_venv).

Change-Id: I215f927d8249aadd9cc7bb44893e0bdf5f26510a
(cherry picked from commit e0b180e13543682b0196c96e39f103cbbae697dc)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/22/785922/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/kolla_ansible.py', 'kayobe/ansible.py']",2,831f1cf43b214ad9aec4f6592d96182e91375656,remove-inventory-host-list-stable/victoria," ""(default=$%s/inventory or %s/inventory) "" %"," ""(default=$%s/inventory or %s/inventory) or "" ""comma-separated host list"" %",4,5
openstack%2Fpuppet-ceph~master~I2071f4439ffe65b42ed5a187b3b6e53a2572673b,openstack/puppet-ceph,master,I2071f4439ffe65b42ed5a187b3b6e53a2572673b,Bump dependency in metadata.json,MERGED,2021-04-08 18:55:51.000000000,2021-04-13 11:10:32.000000000,2021-04-13 11:10:32.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 18:55:51.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/312521b7ce61d10f124c7f7fb79b4da4451708a2', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: I2071f4439ffe65b42ed5a187b3b6e53a2572673b\n'}]",0,785460,312521b7ce61d10f124c7f7fb79b4da4451708a2,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: I2071f4439ffe65b42ed5a187b3b6e53a2572673b
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/60/785460/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,312521b7ce61d10f124c7f7fb79b4da4451708a2,new-deps," ""version_requirement"": "">=2.0.0 <4.0.0"" ""version_requirement"": "">=1.2.1 <8.0.0"" ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=2.0.0 <3.0.0"" ""version_requirement"": "">=1.2.1 <3.0.0"" ""version_requirement"": "">=5.0.0 <6.0.0""",3,3
openstack%2Fpuppet-ceilometer~master~Iaefdd674f44eb7a1dcf0954227d624defe8bd216,openstack/puppet-ceilometer,master,Iaefdd674f44eb7a1dcf0954227d624defe8bd216,Bump dependency in metadata.json,MERGED,2021-04-08 18:55:14.000000000,2021-04-13 11:09:50.000000000,2021-04-13 11:09:50.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 18:55:14.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/f40d89a4d76ddeb95b8b0de068ab2acad98e381a', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: Iaefdd674f44eb7a1dcf0954227d624defe8bd216\n'}]",0,785459,f40d89a4d76ddeb95b8b0de068ab2acad98e381a,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: Iaefdd674f44eb7a1dcf0954227d624defe8bd216
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/59/785459/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,f40d89a4d76ddeb95b8b0de068ab2acad98e381a,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-cloudkitty~master~Idb1a536020ae7088bb24b9c77cfff4355b6988fe,openstack/puppet-cloudkitty,master,Idb1a536020ae7088bb24b9c77cfff4355b6988fe,Bump dependency in metadata.json,MERGED,2021-04-08 18:56:34.000000000,2021-04-13 11:09:02.000000000,2021-04-13 11:09:02.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 18:56:34.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/c723e38a4176db19ab7af413e5bef701437af37c', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: Idb1a536020ae7088bb24b9c77cfff4355b6988fe\n'}]",0,785462,c723e38a4176db19ab7af413e5bef701437af37c,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: Idb1a536020ae7088bb24b9c77cfff4355b6988fe
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/62/785462/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,c723e38a4176db19ab7af413e5bef701437af37c,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-heat~master~Ie398d5e89166eee67aac55fd694c552ff206acd4,openstack/puppet-heat,master,Ie398d5e89166eee67aac55fd694c552ff206acd4,Bump dependency in metadata.json,MERGED,2021-04-08 18:58:57.000000000,2021-04-13 11:08:55.000000000,2021-04-13 11:08:55.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 18:58:57.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/1e154fb758a96beea60a0682388b1be1dd0b9ba3', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: Ie398d5e89166eee67aac55fd694c552ff206acd4\n'}]",0,785469,1e154fb758a96beea60a0682388b1be1dd0b9ba3,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: Ie398d5e89166eee67aac55fd694c552ff206acd4
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/69/785469/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,1e154fb758a96beea60a0682388b1be1dd0b9ba3,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-ironic~master~I6cc9922624f56924253eaba410f3b2f9e0b660ac,openstack/puppet-ironic,master,I6cc9922624f56924253eaba410f3b2f9e0b660ac,Bump dependency in metadata.json,MERGED,2021-04-08 18:59:43.000000000,2021-04-13 11:08:50.000000000,2021-04-13 11:08:50.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 18:59:43.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/4281b33774735fcf6a3160a3c75f75dadd285708', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: I6cc9922624f56924253eaba410f3b2f9e0b660ac\n'}]",0,785471,4281b33774735fcf6a3160a3c75f75dadd285708,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: I6cc9922624f56924253eaba410f3b2f9e0b660ac
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/71/785471/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,4281b33774735fcf6a3160a3c75f75dadd285708,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-glare~master~I2378925dde0ef794c4a15beb272a9f54168d60ac,openstack/puppet-glare,master,I2378925dde0ef794c4a15beb272a9f54168d60ac,Bump dependency in metadata.json,MERGED,2021-04-08 18:58:13.000000000,2021-04-13 11:07:41.000000000,2021-04-13 11:07:41.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 18:58:13.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/4c0ed21169b87a6b03f59b7f9ed9b6f313ef2681', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: I2378925dde0ef794c4a15beb272a9f54168d60ac\n'}]",0,785467,4c0ed21169b87a6b03f59b7f9ed9b6f313ef2681,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: I2378925dde0ef794c4a15beb272a9f54168d60ac
",git fetch https://review.opendev.org/openstack/puppet-glare refs/changes/67/785467/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,4c0ed21169b87a6b03f59b7f9ed9b6f313ef2681,new-deps," ""version_requirement"": "">= 5.0.0 <8.0.0"""," ""version_requirement"": "">= 5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-freezer~master~Ifbc41ab0b09fec23ca0d87d05bfd1800ed038af5,openstack/puppet-freezer,master,Ifbc41ab0b09fec23ca0d87d05bfd1800ed038af5,Bump dependency in metadata.json,MERGED,2021-04-08 18:57:37.000000000,2021-04-13 11:07:00.000000000,2021-04-13 11:07:00.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 18:57:37.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/e1001aadcc59f50eea5073da2b33d8b8688811b9', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: Ifbc41ab0b09fec23ca0d87d05bfd1800ed038af5\n'}]",0,785465,e1001aadcc59f50eea5073da2b33d8b8688811b9,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: Ifbc41ab0b09fec23ca0d87d05bfd1800ed038af5
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/65/785465/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,e1001aadcc59f50eea5073da2b33d8b8688811b9,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-designate~master~I1338d1adc3c88f0b3d1bc80c8f5268d3b8ca512b,openstack/puppet-designate,master,I1338d1adc3c88f0b3d1bc80c8f5268d3b8ca512b,Bump dependency in metadata.json,MERGED,2021-04-08 18:56:55.000000000,2021-04-13 11:06:37.000000000,2021-04-13 11:06:37.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 18:56:55.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/f1ae294b8fc6ed808ba97682410b1e45bcf6dfd2', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: I1338d1adc3c88f0b3d1bc80c8f5268d3b8ca512b\n'}]",0,785463,f1ae294b8fc6ed808ba97682410b1e45bcf6dfd2,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: I1338d1adc3c88f0b3d1bc80c8f5268d3b8ca512b
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/63/785463/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,f1ae294b8fc6ed808ba97682410b1e45bcf6dfd2,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-aodh~master~I98354d28223e1900390a45a1b2986eaa096c76c0,openstack/puppet-aodh,master,I98354d28223e1900390a45a1b2986eaa096c76c0,Bump dependency in metadata.json,MERGED,2021-04-08 18:54:32.000000000,2021-04-13 11:06:19.000000000,2021-04-13 11:06:19.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 18:54:32.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/8d258193816af9c70436dd5d6455b18a76283c1e', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: I98354d28223e1900390a45a1b2986eaa096c76c0\n'}]",0,785457,8d258193816af9c70436dd5d6455b18a76283c1e,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: I98354d28223e1900390a45a1b2986eaa096c76c0
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/57/785457/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,8d258193816af9c70436dd5d6455b18a76283c1e,new-deps," ""version_requirement"": "">= 5.0.0 <8.0.0"""," ""version_requirement"": "">= 5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-barbican~master~I3a72c5e718f4eae5bfbaa8b9e74361957706bd4a,openstack/puppet-barbican,master,I3a72c5e718f4eae5bfbaa8b9e74361957706bd4a,Bump dependency in metadata.json,MERGED,2021-04-08 18:54:52.000000000,2021-04-13 11:06:11.000000000,2021-04-13 11:06:11.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 18:54:52.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/f3231f7c8ad126cde91874622b6d4fe08b804cac', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: I3a72c5e718f4eae5bfbaa8b9e74361957706bd4a\n'}]",0,785458,f3231f7c8ad126cde91874622b6d4fe08b804cac,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: I3a72c5e718f4eae5bfbaa8b9e74361957706bd4a
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/58/785458/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,f3231f7c8ad126cde91874622b6d4fe08b804cac,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-gnocchi~master~Ia996cb924e6861c8ac26dc5dc199a9eba230a9a2,openstack/puppet-gnocchi,master,Ia996cb924e6861c8ac26dc5dc199a9eba230a9a2,Bump dependency in metadata.json,MERGED,2021-04-08 18:58:37.000000000,2021-04-13 11:05:40.000000000,2021-04-13 11:05:40.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 18:58:37.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/71dd7b458fb26106924b1c18939a24856de8fdf2', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: Ia996cb924e6861c8ac26dc5dc199a9eba230a9a2\n'}]",0,785468,71dd7b458fb26106924b1c18939a24856de8fdf2,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: Ia996cb924e6861c8ac26dc5dc199a9eba230a9a2
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/68/785468/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,71dd7b458fb26106924b1c18939a24856de8fdf2,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-keystone~master~I3674f442ee7441e09facb728eff8f2f50b34bc5f,openstack/puppet-keystone,master,I3674f442ee7441e09facb728eff8f2f50b34bc5f,Bump dependency in metadata.json,MERGED,2021-04-08 19:00:03.000000000,2021-04-13 11:05:36.000000000,2021-04-13 11:05:36.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:00:03.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/0fb47e26b4395c8d40baded4707f92e39efad1db', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: I3674f442ee7441e09facb728eff8f2f50b34bc5f\n'}]",0,785472,0fb47e26b4395c8d40baded4707f92e39efad1db,8,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: I3674f442ee7441e09facb728eff8f2f50b34bc5f
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/72/785472/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,0fb47e26b4395c8d40baded4707f92e39efad1db,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-magnum~master~Iefc8f8afde5e35bc4ea413a8bafcb818cb167b5c,openstack/puppet-magnum,master,Iefc8f8afde5e35bc4ea413a8bafcb818cb167b5c,Bump dependency in metadata.json,MERGED,2021-04-08 19:02:06.000000000,2021-04-13 11:05:31.000000000,2021-04-13 11:05:31.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:02:06.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/dce2c7a689b235a26b4d3c076e01f2f02f1c6a1d', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: Iefc8f8afde5e35bc4ea413a8bafcb818cb167b5c\n'}]",0,785473,dce2c7a689b235a26b4d3c076e01f2f02f1c6a1d,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: Iefc8f8afde5e35bc4ea413a8bafcb818cb167b5c
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/73/785473/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,dce2c7a689b235a26b4d3c076e01f2f02f1c6a1d,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-ec2api~master~I57533411328289acf5e6c9b170500f01596b3982,openstack/puppet-ec2api,master,I57533411328289acf5e6c9b170500f01596b3982,Bump dependency in metadata.json,MERGED,2021-04-08 18:57:18.000000000,2021-04-13 11:05:14.000000000,2021-04-13 11:05:14.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 18:57:18.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/64ce5ad2f0426343d7b1b60f767d54ed10989581', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: I57533411328289acf5e6c9b170500f01596b3982\n'}]",0,785464,64ce5ad2f0426343d7b1b60f767d54ed10989581,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: I57533411328289acf5e6c9b170500f01596b3982
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/64/785464/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,64ce5ad2f0426343d7b1b60f767d54ed10989581,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-manila~master~Ide5ad2fae4d6a4d87c4f032544fea12291c9dfc1,openstack/puppet-manila,master,Ide5ad2fae4d6a4d87c4f032544fea12291c9dfc1,Bump dependency in metadata.json,MERGED,2021-04-08 19:02:32.000000000,2021-04-13 11:05:10.000000000,2021-04-13 11:05:10.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:02:32.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/f9f802f9bd779fda9239edeb599d85ae937cd7cb', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: Ide5ad2fae4d6a4d87c4f032544fea12291c9dfc1\n'}]",0,785474,f9f802f9bd779fda9239edeb599d85ae937cd7cb,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: Ide5ad2fae4d6a4d87c4f032544fea12291c9dfc1
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/74/785474/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,f9f802f9bd779fda9239edeb599d85ae937cd7cb,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-glance~master~Icb02ad00dfaddd5a5809a8a47662f077790dcc93,openstack/puppet-glance,master,Icb02ad00dfaddd5a5809a8a47662f077790dcc93,Bump dependency in metadata.json,MERGED,2021-04-08 18:57:56.000000000,2021-04-13 11:04:49.000000000,2021-04-13 11:04:49.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 18:57:56.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/380c1d97d05b0356cf4a6689edc8fe38bc48f9d3', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: Icb02ad00dfaddd5a5809a8a47662f077790dcc93\n'}]",0,785466,380c1d97d05b0356cf4a6689edc8fe38bc48f9d3,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: Icb02ad00dfaddd5a5809a8a47662f077790dcc93
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/66/785466/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,380c1d97d05b0356cf4a6689edc8fe38bc48f9d3,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-horizon~master~I1f0c5fa78e705f0a1bf41c32c3a94d0aab18b262,openstack/puppet-horizon,master,I1f0c5fa78e705f0a1bf41c32c3a94d0aab18b262,Bump dependency in metadata.json,MERGED,2021-04-08 18:59:20.000000000,2021-04-13 11:04:27.000000000,2021-04-13 11:04:27.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 18:59:20.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/a8cd8e35bd4453b056dcdf5b674de12c8d9aff2a', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: I1f0c5fa78e705f0a1bf41c32c3a94d0aab18b262\n'}]",0,785470,a8cd8e35bd4453b056dcdf5b674de12c8d9aff2a,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: I1f0c5fa78e705f0a1bf41c32c3a94d0aab18b262
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/70/785470/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,a8cd8e35bd4453b056dcdf5b674de12c8d9aff2a,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"" ""version_requirement"": "">=2.0.2 <7.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0"" ""version_requirement"": "">=2.0.2 <3.5.0""",2,2
openstack%2Ftripleo-heat-templates~master~I1c5059799f613a62a13379eb82ba516a8ed3a15a,openstack/tripleo-heat-templates,master,I1c5059799f613a62a13379eb82ba516a8ed3a15a,Add new options for Barbican PKCS#11 backend,MERGED,2021-03-01 21:29:56.000000000,2021-04-13 10:56:41.000000000,2021-04-13 10:50:48.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-03-01 21:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f3a6ff2357bad2320dddcb34e5de27bdb2e61332', 'message': 'WIP: Add token_labels option\n\nChange-Id: I1c5059799f613a62a13379eb82ba516a8ed3a15a\n'}, {'number': 2, 'created': '2021-03-02 21:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/507899fddcd631491160fd91f1c21c8158777e2d', 'message': 'Add new options for Barbican PKCS#11 backend\n\nThis patch adds two new parameters for deploying Barbican with the\nPCKS#11 backend `BarbicanPkcs11CryptoTokenLabels` and\n`BarbicanPkcs11CryptoOsLockingOk`.\n\nThe patch also deprecates `BarbicanPkcs11CryptoTokenLabel` in favor of\nthe new option that can be set to more than one label.\n\nDepends-On: Iba7013dd6e1b1e4650b25cd4dd8dc1f355ceb538\nChange-Id: I1c5059799f613a62a13379eb82ba516a8ed3a15a\n'}, {'number': 3, 'created': '2021-03-12 13:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/92ad90ee100fae21df112e59dfb88fd218177dd0', 'message': 'Add new options for Barbican PKCS#11 backend\n\nThis patch adds two new parameters for deploying Barbican with the\nPCKS#11 backend `BarbicanPkcs11CryptoTokenLabels` and\n`BarbicanPkcs11CryptoOsLockingOk`.\n\nThe patch also deprecates `BarbicanPkcs11CryptoTokenLabel` in favor of\nthe new option that can be set to more than one label.\n\nDepends-On: Iba7013dd6e1b1e4650b25cd4dd8dc1f355ceb538\nChange-Id: I1c5059799f613a62a13379eb82ba516a8ed3a15a\n'}, {'number': 4, 'created': '2021-03-19 13:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/674af231d9417e3127c1421f0f8d9dad7d1a676c', 'message': 'Add new options for Barbican PKCS#11 backend\n\nThis patch adds two new parameters for deploying Barbican with the\nPCKS#11 backend `BarbicanPkcs11CryptoTokenLabels` and\n`BarbicanPkcs11CryptoOsLockingOk`.\n\nThe patch also deprecates `BarbicanPkcs11CryptoTokenLabel` in favor of\nthe new option that can be set to more than one label.\n\nDepends-On: Iba7013dd6e1b1e4650b25cd4dd8dc1f355ceb538\nChange-Id: I1c5059799f613a62a13379eb82ba516a8ed3a15a\n'}, {'number': 5, 'created': '2021-03-22 13:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c2f4412bdc7a6405f9337b78218d6a1c20b551bc', 'message': 'Add new options for Barbican PKCS#11 backend\n\nThis patch adds two new parameters for deploying Barbican with the\nPCKS#11 backend `BarbicanPkcs11CryptoTokenLabels` and\n`BarbicanPkcs11CryptoOsLockingOk`.\n\nThe patch also deprecates `BarbicanPkcs11CryptoTokenLabel` in favor of\nthe new option that can be set to more than one label.\n\nDepends-On: Iba7013dd6e1b1e4650b25cd4dd8dc1f355ceb538\nChange-Id: I1c5059799f613a62a13379eb82ba516a8ed3a15a\n'}, {'number': 6, 'created': '2021-03-26 13:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/674417b7973b67a9fb78d7f1aa2b491d38fb8652', 'message': 'Add new options for Barbican PKCS#11 backend\n\nThis patch adds two new parameters for deploying Barbican with the\nPCKS#11 backend `BarbicanPkcs11CryptoTokenLabels` and\n`BarbicanPkcs11CryptoOsLockingOk`.\n\nThe patch also deprecates `BarbicanPkcs11CryptoTokenLabel` in favor of\nthe new option that can be set to more than one label.\n\nDepends-On: Iba7013dd6e1b1e4650b25cd4dd8dc1f355ceb538\nChange-Id: I1c5059799f613a62a13379eb82ba516a8ed3a15a\n'}, {'number': 7, 'created': '2021-03-29 12:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/70234424d7e1e4185ceebcd7bed279f4344853fa', 'message': 'Add new options for Barbican PKCS#11 backend\n\nThis patch adds two new parameters for deploying Barbican with the\nPCKS#11 backend `BarbicanPkcs11CryptoTokenLabels` and\n`BarbicanPkcs11CryptoOsLockingOk`.\n\nThe patch also deprecates `BarbicanPkcs11CryptoTokenLabel` in favor of\nthe new option that can be set to more than one label.\n\nDepends-On: Iba7013dd6e1b1e4650b25cd4dd8dc1f355ceb538\nChange-Id: I1c5059799f613a62a13379eb82ba516a8ed3a15a\n'}, {'number': 8, 'created': '2021-04-07 18:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/564f6df48fb23c89272256464b81d2c6bed7910d', 'message': 'Add new options for Barbican PKCS#11 backend\n\nThis patch adds two new parameters for deploying Barbican with the\nPCKS#11 backend `BarbicanPkcs11CryptoTokenLabels` and\n`BarbicanPkcs11CryptoOsLockingOk`.\n\nThe patch also deprecates `BarbicanPkcs11CryptoTokenLabel` in favor of\nthe new option that can be set to more than one label.\n\nDepends-On: Iba7013dd6e1b1e4650b25cd4dd8dc1f355ceb538\nChange-Id: I1c5059799f613a62a13379eb82ba516a8ed3a15a\n'}, {'number': 9, 'created': '2021-04-12 13:05:32.000000000', 'files': ['deployment/barbican/barbican-backend-pkcs11-crypto-puppet.yaml', 'environments/barbican-backend-pkcs11-atos.yaml', 'releasenotes/notes/add-support-for-barbican-pkcs11-options-a2ec14369518b40e.yaml', 'environments/barbican-backend-pkcs11-lunasa.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'environments/barbican-backend-pkcs11-thales.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3b4d488a6a307e575048d7e553e223452e543a21', 'message': 'Add new options for Barbican PKCS#11 backend\n\nThis patch adds two new parameters for deploying Barbican with the\nPCKS#11 backend `BarbicanPkcs11CryptoTokenLabels` and\n`BarbicanPkcs11CryptoOsLockingOk`.\n\nThe patch also deprecates `BarbicanPkcs11CryptoTokenLabel` in favor of\nthe new option that can be set to more than one label.\n\nDepends-On: Iba7013dd6e1b1e4650b25cd4dd8dc1f355ceb538\nChange-Id: I1c5059799f613a62a13379eb82ba516a8ed3a15a\n'}]",0,778077,3b4d488a6a307e575048d7e553e223452e543a21,52,8,9,7973,,,0,"Add new options for Barbican PKCS#11 backend

This patch adds two new parameters for deploying Barbican with the
PCKS#11 backend `BarbicanPkcs11CryptoTokenLabels` and
`BarbicanPkcs11CryptoOsLockingOk`.

The patch also deprecates `BarbicanPkcs11CryptoTokenLabel` in favor of
the new option that can be set to more than one label.

Depends-On: Iba7013dd6e1b1e4650b25cd4dd8dc1f355ceb538
Change-Id: I1c5059799f613a62a13379eb82ba516a8ed3a15a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/778077/3 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/barbican/barbican-backend-pkcs11-crypto-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml']",2,f3a6ff2357bad2320dddcb34e5de27bdb2e61332,token-labels," BarbicanPkcs11CryptoTokenLabels: description: List of comma separated labels for the tokens to be used. This is typically a single label, but some devices may require more than one label for Load Balancing and High Availability configurations. type: string default: ''",,15,0
openstack%2Ftripleo-quickstart-extras~master~I2ef1f06007c646ef4307c0cc0b6f60af414f9234,openstack/tripleo-quickstart-extras,master,I2ef1f06007c646ef4307c0cc0b6f60af414f9234,Remove legacy tripleo-validations roles calls,MERGED,2021-04-12 10:26:00.000000000,2021-04-13 10:50:44.000000000,2021-04-13 10:50:44.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-12 10:26:00.000000000', 'files': ['playbooks/multinode-overcloud.yml', 'playbooks/baremetal-full-overcloud.yml', 'playbooks/multinode-undercloud.yml', 'config/environments/rdocloud.yml', 'playbooks/quickstart-extras-overcloud-prep.yml', 'playbooks/multinode-overcloud-prep.yml', 'playbooks/baremetal-full-overcloud-prep.yml', 'playbooks/quickstart-extras-overcloud.yml', 'roles/overcloud-deploy/templates/ansible.cfg.j2', 'playbooks/baremetal-full-undercloud.yml', 'playbooks/multinode-multiple-overcloud.yml', 'playbooks/quickstart-extras-undercloud.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7a5ed70cf8bf7634a3e2eb91afbcb96c492f8f26', 'message': 'Remove legacy tripleo-validations roles calls\n\nThis patch remove useless tripleo-validations calls in the\ntripleo-quickstart-extras playbook.\nOnly validations and standalone is used for now in CI.\n\nThe other implementations was legacy implementation that is not\nused anymore in CI\n\nChange-Id: I2ef1f06007c646ef4307c0cc0b6f60af414f9234\n'}]",0,785845,7a5ed70cf8bf7634a3e2eb91afbcb96c492f8f26,9,4,1,16515,,,0,"Remove legacy tripleo-validations roles calls

This patch remove useless tripleo-validations calls in the
tripleo-quickstart-extras playbook.
Only validations and standalone is used for now in CI.

The other implementations was legacy implementation that is not
used anymore in CI

Change-Id: I2ef1f06007c646ef4307c0cc0b6f60af414f9234
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/45/785845/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/multinode-overcloud.yml', 'playbooks/baremetal-full-overcloud.yml', 'playbooks/multinode-undercloud.yml', 'config/environments/rdocloud.yml', 'playbooks/quickstart-extras-overcloud-prep.yml', 'playbooks/multinode-overcloud-prep.yml', 'playbooks/baremetal-full-overcloud-prep.yml', 'playbooks/quickstart-extras-overcloud.yml', 'roles/overcloud-deploy/templates/ansible.cfg.j2', 'playbooks/baremetal-full-undercloud.yml', 'playbooks/multinode-multiple-overcloud.yml', 'playbooks/quickstart-extras-undercloud.yml']",12,7a5ed70cf8bf7634a3e2eb91afbcb96c492f8f26,validation/cleanup,,"- name: Configure tripleo-validations hosts: undercloud gather_facts: false tags: - tripleo-validations vars: run_tripleo_validations_setup: true tasks: - include_role: name: tripleo_validations when: - (run_tripleo_validations|bool or run_tripleo_validations_negative_tests|bool) - release not in ['queens', 'stein'] ",0,190
openstack%2Fneutron~master~Ic7eb717b9ee18068d7a6d7acb11302dd1fde60c6,openstack/neutron,master,Ic7eb717b9ee18068d7a6d7acb11302dd1fde60c6,Remove not needed rootwrap filters,MERGED,2021-03-03 12:03:42.000000000,2021-04-13 10:28:12.000000000,2021-04-13 10:25:46.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 12:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd9caea1aa405c59c555f74bfa053d02201c1944', 'message': 'Remove some rootwrap filters\n\n- mm-ctl: this cmdline tool is used by Midonet backend and the filter\n  is already defined in this project.\n- kill scripts: executed by ProcessManager.disable, the execution of\n  those scripts uses privsep since [1].\n- ip_monitor: uses a Pyroute2 implementation, executed in a thread,\n  not an independent process since [2][3].\n- route: IpRouteCommand uses Pyroute2 implementation since [4].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/764015\n[2]https://review.opendev.org/c/openstack/neutron/+/660611\n[3]https://review.opendev.org/c/openstack/neutron/+/660722\n[4]https://review.opendev.org/c/openstack/neutron/+/661981\n\nStory: #2007686\nTask: #41284\n\nChange-Id: Ic7eb717b9ee18068d7a6d7acb11302dd1fde60c6\n'}, {'number': 2, 'created': '2021-03-30 14:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3fdafbca6b96606015e726abc90f38544be6cc10', 'message': 'Remove not needed rootwrap filters\n\nThis patch moves all remaining filters to a single file. Since [1],\nthe number of processes executed using rootwrap have been reduced to\na small set.\n\n[1]https://storyboard.openstack.org/#!/story/2007686\n\nStory: #2007686\nTask: #41284\n\nChange-Id: Ic7eb717b9ee18068d7a6d7acb11302dd1fde60c6\n'}, {'number': 3, 'created': '2021-03-31 07:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d3521db5a031c3499edab90a54d0a66cbceead0c', 'message': 'Remove not needed rootwrap filters\n\nThis patch moves all remaining filters to a single file. Since [1],\nthe number of processes executed using rootwrap have been reduced to\na small set.\n\n[1]https://storyboard.openstack.org/#!/story/2007686\n\nStory: #2007686\nTask: #41284\n\nChange-Id: Ic7eb717b9ee18068d7a6d7acb11302dd1fde60c6\n'}, {'number': 4, 'created': '2021-03-31 14:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d4d7764b254c6cf4c69d4650542d0c899d843d89', 'message': 'Remove not needed rootwrap filters\n\nThis patch moves all remaining filters to a single file. Since [1],\nthe number of processes executed using rootwrap have been reduced to\na small set.\n\n[1]https://storyboard.openstack.org/#!/story/2007686\n\nStory: #2007686\nTask: #41284\n\nChange-Id: Ic7eb717b9ee18068d7a6d7acb11302dd1fde60c6\n'}, {'number': 5, 'created': '2021-03-31 16:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/066597eb090ebc3d7a8b560337dc03aea3fbbe18', 'message': 'Remove not needed rootwrap filters\n\nThis patch moves all remaining filters to a single file. Since [1],\nthe number of processes executed using rootwrap have been reduced to\na small set.\n\n[1]https://storyboard.openstack.org/#!/story/2007686\n\nStory: #2007686\nTask: #41284\n\nChange-Id: Ic7eb717b9ee18068d7a6d7acb11302dd1fde60c6\n'}, {'number': 6, 'created': '2021-03-31 20:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e1180eeadad6d6c3db8e203f2eed8e2491331de', 'message': 'Remove not needed rootwrap filters\n\nThis patch moves all remaining filters to a single file. Since [1],\nthe number of processes executed using rootwrap have been reduced to\na small set.\n\n[1]https://storyboard.openstack.org/#!/story/2007686\n\nStory: #2007686\nTask: #41284\n\nChange-Id: Ic7eb717b9ee18068d7a6d7acb11302dd1fde60c6\n'}, {'number': 7, 'created': '2021-04-02 09:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f717962b2231a9b1a1e1960185b33cdbb7be513e', 'message': 'Remove not needed rootwrap filters\n\nThis patch moves all remaining filters to a single file. Since [1],\nthe number of processes executed using rootwrap have been reduced to\na small set.\n\n[1]https://storyboard.openstack.org/#!/story/2007686\n\nStory: #2007686\nTask: #41284\n\nChange-Id: Ic7eb717b9ee18068d7a6d7acb11302dd1fde60c6\n'}, {'number': 8, 'created': '2021-04-02 10:49:30.000000000', 'files': ['etc/neutron/rootwrap.d/dhcp.filters', 'etc/neutron/rootwrap.d/openvswitch-plugin.filters', 'etc/neutron/rootwrap.d/dibbler.filters', 'etc/neutron/rootwrap.d/ipset-firewall.filters', 'etc/neutron/rootwrap.d/linuxbridge-plugin.filters', 'etc/neutron/rootwrap.d/rootwrap.filters', 'etc/neutron/rootwrap.d/l3.filters', 'etc/neutron/rootwrap.d/debug.filters'], 'web_link': 'https://opendev.org/openstack/neutron/commit/be6ee6f397124dbf076cbad9f93b6ac5cb67facf', 'message': 'Remove not needed rootwrap filters\n\nThis patch moves all remaining filters to a single file. Since [1],\nthe number of processes executed using rootwrap have been reduced to\na small set.\n\n[1]https://storyboard.openstack.org/#!/story/2007686\n\nStory: #2007686\nTask: #41284\n\nChange-Id: Ic7eb717b9ee18068d7a6d7acb11302dd1fde60c6\n'}]",23,778444,be6ee6f397124dbf076cbad9f93b6ac5cb67facf,81,4,8,16688,,,0,"Remove not needed rootwrap filters

This patch moves all remaining filters to a single file. Since [1],
the number of processes executed using rootwrap have been reduced to
a small set.

[1]https://storyboard.openstack.org/#!/story/2007686

Story: #2007686
Task: #41284

Change-Id: Ic7eb717b9ee18068d7a6d7acb11302dd1fde60c6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/778444/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/neutron/rootwrap.d/dhcp.filters', 'etc/neutron/rootwrap.d/openvswitch-plugin.filters', 'etc/neutron/rootwrap.d/dibbler.filters', 'etc/neutron/rootwrap.d/debug.filters', 'etc/neutron/rootwrap.d/l3.filters']",5,bd9caea1aa405c59c555f74bfa053d02201c1944,task/41284,,"route: CommandFilter, route, rootkill_haproxy: KillFilter, root, haproxy, -15, -9, -HUP # haproxy kill script filter kill_haproxy_script: CommandFilter, haproxy-kill, root kill_radvd_usr: KillFilter, root, /usr/sbin/radvd, -15, -9, -HUP kill_radvd: KillFilter, root, /sbin/radvd, -15, -9, -HUP kill_radvd_script: CommandFilter, radvd-kill, root# For ip monitor kill_ip_monitor: KillFilter, root, ip, -9 kill_keepalived: KillFilter, root, keepalived, -HUP, -15, -9 # keepalived kill script filter kill_keepalived_script: CommandFilter, keepalived-kill, root# The following filters are used to kill the keepalived state change monitor. # Since the monitor runs as a Python script, the system reports that the # command of the process to be killed is python. # TODO(mlavalle) These kill filters will be updated once we come up with a # mechanism to kill using the name of the script being executed by Python kill_keepalived_monitor_py: KillFilter, root, python, -15, -9 kill_keepalived_monitor_py3: KillFilter, root, python3, -15, -9 kill_keepalived_monitor_py36: KillFilter, root, python3.6, -15, -9 kill_keepalived_monitor_py37: KillFilter, root, python3.7, -15, -9 kill_keepalived_monitor_py38: KillFilter, root, python3.8, -15, -9 # For e.g. RHEL8 neutron-keepalived-state-change is run by ""system python"" # which is /usr/libexec/platform-python3.6 so this should be in filters also. # Path /usr/libexec isn't in PATH by default so it has to be given here as # absolute path kill_keepalived_monitor_platform_py: KillFilter, root, /usr/libexec/platform-python, -15, -9 kill_keepalived_monitor_platform_py36: KillFilter, root, /usr/libexec/platform-python3.6, -15, -9 # neutron-keepalived-state-change-monitor kill script filter kill_neutron-keepalived-state-change-monitor_script: CommandFilter, neutron-keepalived-state-change-monitor-kill, root",0,49
openstack%2Fkolla-ansible~master~I1010ee42aaf1c650d9e3b5332ebf828646a6badf,openstack/kolla-ansible,master,I1010ee42aaf1c650d9e3b5332ebf828646a6badf,octavia: Add support for disabling amphora provider,MERGED,2021-03-29 16:02:01.000000000,2021-04-13 10:14:56.000000000,2021-04-13 10:12:27.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-29 16:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2f98ca9373f35e68dd09bc18eadf1a1d1db9d907', 'message': 'octavia: Add support for disabling amphora provider\n\nChange-Id: I1010ee42aaf1c650d9e3b5332ebf828646a6badf\n'}, {'number': 2, 'created': '2021-03-29 17:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b56dfa574e198f172578a1c930714ea752405454', 'message': 'octavia: Add support for disabling amphora provider\n\nChange-Id: I1010ee42aaf1c650d9e3b5332ebf828646a6badf\n'}, {'number': 3, 'created': '2021-03-30 05:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c7c4218752deeafb0246f7dc548a37034fd07d91', 'message': 'octavia: Add support for disabling amphora provider\n\nChange-Id: I1010ee42aaf1c650d9e3b5332ebf828646a6badf\n'}, {'number': 4, 'created': '2021-03-30 05:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a3d476a8b9187192f2fca04f25ba436895a489d3', 'message': 'octavia: Add support for disabling amphora provider\n\nChange-Id: I1010ee42aaf1c650d9e3b5332ebf828646a6badf\n'}, {'number': 5, 'created': '2021-04-08 08:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cf123f87e24f6fcdea92ad774a651bf185379c4b', 'message': 'octavia: Add support for disabling amphora provider\n\nChange-Id: I1010ee42aaf1c650d9e3b5332ebf828646a6badf\n'}, {'number': 6, 'created': '2021-04-08 08:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d421c02f7571f5b1d47e0c4faa07a438321ef833', 'message': 'octavia: Add support for disabling amphora provider\n\nChange-Id: I1010ee42aaf1c650d9e3b5332ebf828646a6badf\n'}, {'number': 7, 'created': '2021-04-08 15:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1a484b12e858298fd04fa09170a6f0f390ac229c', 'message': 'octavia: Add support for disabling amphora provider\n\nChange-Id: I1010ee42aaf1c650d9e3b5332ebf828646a6badf\n'}, {'number': 8, 'created': '2021-04-09 13:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1296fcbfa83c618d81eac7c8dfa3513ea2dc5ca2', 'message': 'octavia: Add support for disabling amphora provider\n\nChange-Id: I1010ee42aaf1c650d9e3b5332ebf828646a6badf\n'}, {'number': 9, 'created': '2021-04-12 06:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/af948a04c8e07b9fdf483eb0dfa353cb7da5ebad', 'message': 'octavia: Add support for disabling amphora provider\n\nChange-Id: I1010ee42aaf1c650d9e3b5332ebf828646a6badf\n'}, {'number': 10, 'created': '2021-04-12 14:43:25.000000000', 'files': ['ansible/roles/octavia/tasks/precheck.yml', 'ansible/roles/octavia/templates/octavia-health-manager.json.j2', 'ansible/roles/octavia/tasks/config.yml', 'ansible/roles/octavia/templates/octavia-housekeeping.json.j2', 'ansible/roles/octavia/templates/octavia-worker.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/810c4d94710f78b534cde6466f8ba8e5445c94e0', 'message': 'octavia: Add support for disabling amphora provider\n\nChange-Id: I1010ee42aaf1c650d9e3b5332ebf828646a6badf\n'}]",7,783699,810c4d94710f78b534cde6466f8ba8e5445c94e0,44,4,10,22629,,,0,"octavia: Add support for disabling amphora provider

Change-Id: I1010ee42aaf1c650d9e3b5332ebf828646a6badf
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/99/783699/4 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/octavia/tasks/config.yml'],1,2f98ca9373f35e68dd09bc18eadf1a1d1db9d907,,"- block: - name: Copying over Octavia SSH key copy: content: ""{{ octavia_amp_ssh_key.private_key }}"" dest: ""{{ node_config_directory }}/octavia-worker/{{ octavia_amp_ssh_key_name }}"" owner: ""{{ config_owner_user }}"" group: ""{{ config_owner_group }}"" mode: ""0400"" become: True when: inventory_hostname in groups[octavia_services['octavia-worker']['group']] - name: Copying certificate files for octavia-worker vars: service: ""{{ octavia_services['octavia-worker'] }}"" copy: src: ""{{ node_custom_config }}/octavia/{{ item }}"" dest: ""{{ node_config_directory }}/octavia-worker/{{ item }}"" mode: ""0660"" become: true when: - inventory_hostname in groups[service.group] - service.enabled | bool with_items: ""{{ octavia_amphora_keys }}"" notify: - Restart octavia-worker container - name: Copying certificate files for octavia-housekeeping vars: service: ""{{ octavia_services['octavia-housekeeping'] }}"" copy: src: ""{{ node_custom_config }}/octavia/{{ item }}"" dest: ""{{ node_config_directory }}/octavia-housekeeping/{{ item }}"" mode: ""0660"" become: true when: - inventory_hostname in groups[service.group] - service.enabled | bool with_items: ""{{ octavia_amphora_keys }}"" notify: - Restart octavia-housekeeping container - name: Copying certificate files for octavia-health-manager vars: service: ""{{ octavia_services['octavia-health-manager'] }}"" copy: src: ""{{ node_custom_config }}/octavia/{{ item }}"" dest: ""{{ node_config_directory }}/octavia-health-manager/{{ item }}"" mode: ""0660"" become: true when: - inventory_hostname in groups[service.group] - service.enabled | bool with_items: ""{{ octavia_amphora_keys }}"" notify: - Restart octavia-health-manager container when: octavia_provider_drivers is search(""amphora"") vars: octavia_amphora_keys: - client.cert-and-key.pem - client_ca.cert.pem - server_ca.cert.pem - server_ca.key.pem","- name: Copying over Octavia SSH key copy: content: ""{{ octavia_amp_ssh_key.private_key }}"" dest: ""{{ node_config_directory }}/octavia-worker/{{ octavia_amp_ssh_key_name }}"" owner: ""{{ config_owner_user }}"" group: ""{{ config_owner_group }}"" mode: ""0400"" become: True when: inventory_hostname in groups[octavia_services['octavia-worker']['group']] - name: Copying certificate files for octavia-worker vars: service: ""{{ octavia_services['octavia-worker'] }}"" copy: src: ""{{ node_custom_config }}/octavia/{{ item }}"" dest: ""{{ node_config_directory }}/octavia-worker/{{ item }}"" mode: ""0660"" become: true when: - inventory_hostname in groups[service.group] - service.enabled | bool with_items: - client.cert-and-key.pem - client_ca.cert.pem - server_ca.cert.pem - server_ca.key.pem notify: - Restart octavia-worker container - name: Copying certificate files for octavia-housekeeping vars: service: ""{{ octavia_services['octavia-housekeeping'] }}"" copy: src: ""{{ node_custom_config }}/octavia/{{ item }}"" dest: ""{{ node_config_directory }}/octavia-housekeeping/{{ item }}"" mode: ""0660"" become: true when: - inventory_hostname in groups[service.group] - service.enabled | bool with_items: - client.cert-and-key.pem - client_ca.cert.pem - server_ca.cert.pem - server_ca.key.pem notify: - Restart octavia-housekeeping container - name: Copying certificate files for octavia-health-manager vars: service: ""{{ octavia_services['octavia-health-manager'] }}"" copy: src: ""{{ node_custom_config }}/octavia/{{ item }}"" dest: ""{{ node_config_directory }}/octavia-health-manager/{{ item }}"" mode: ""0660"" become: true when: - inventory_hostname in groups[service.group] - service.enabled | bool with_items: - client.cert-and-key.pem - client_ca.cert.pem - server_ca.cert.pem - server_ca.key.pem notify: - Restart octavia-health-manager container",60,62
openstack%2Fkayobe~stable%2Fussuri~I215f927d8249aadd9cc7bb44893e0bdf5f26510a,openstack/kayobe,stable/ussuri,I215f927d8249aadd9cc7bb44893e0bdf5f26510a,Fix help texts of inventory options,MERGED,2021-04-13 05:10:30.000000000,2021-04-13 10:10:09.000000000,2021-04-13 10:08:07.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-04-13 05:10:30.000000000', 'files': ['kayobe/kolla_ansible.py', 'kayobe/ansible.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d8f640f1babc9733f85c7c60dcdf4aa31dfeb8c5', 'message': 'Fix help texts of inventory options\n\nPassing the Kayobe or Kolla Ansible inventories as comma-separated host\nlist was never supported since we check that inventory directories\nexist.\n\nAlso fix the check for the Kolla Ansible inventory directory, which was\nusing the wrong variable (parsed_args.kolla_venv).\n\nChange-Id: I215f927d8249aadd9cc7bb44893e0bdf5f26510a\n(cherry picked from commit e0b180e13543682b0196c96e39f103cbbae697dc)\n'}]",0,785923,d8f640f1babc9733f85c7c60dcdf4aa31dfeb8c5,8,3,1,15197,,,0,"Fix help texts of inventory options

Passing the Kayobe or Kolla Ansible inventories as comma-separated host
list was never supported since we check that inventory directories
exist.

Also fix the check for the Kolla Ansible inventory directory, which was
using the wrong variable (parsed_args.kolla_venv).

Change-Id: I215f927d8249aadd9cc7bb44893e0bdf5f26510a
(cherry picked from commit e0b180e13543682b0196c96e39f103cbbae697dc)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/23/785923/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/kolla_ansible.py', 'kayobe/ansible.py']",2,d8f640f1babc9733f85c7c60dcdf4aa31dfeb8c5,remove-inventory-host-list-stable/ussuri," ""(default=$%s/inventory or %s/inventory) "" %"," ""(default=$%s/inventory or %s/inventory) or "" ""comma-separated host list"" %",4,5
openstack%2Fpuppet-openstack-integration~master~I5674333169c8d961dbe29fc2f93bf42635cc2748,openstack/puppet-openstack-integration,master,I5674333169c8d961dbe29fc2f93bf42635cc2748,Fix installing puppet in Debian.,MERGED,2021-04-07 10:55:01.000000000,2021-04-13 10:05:28.000000000,2021-04-13 10:05:28.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 10:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/12094757493f0b9b022844ebd3a63e3ea364016d', 'message': 'Fix installing puppet in Debian.\n\nThis patch fixes the install of the puppet packages in Debian.\n\nChange-Id: I5674333169c8d961dbe29fc2f93bf42635cc2748\n'}, {'number': 2, 'created': '2021-04-07 16:59:10.000000000', 'files': ['functions', 'all-in-one.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6ce74b546e362e422e3c1bd1d4ba75195ffb64c4', 'message': 'Fix installing puppet in Debian.\n\nThis patch fixes the install of the puppet packages in Debian.\n\nChange-Id: I5674333169c8d961dbe29fc2f93bf42635cc2748\n'}]",2,785143,6ce74b546e362e422e3c1bd1d4ba75195ffb64c4,11,6,2,6476,,,0,"Fix installing puppet in Debian.

This patch fixes the install of the puppet packages in Debian.

Change-Id: I5674333169c8d961dbe29fc2f93bf42635cc2748
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/43/785143/2 && git format-patch -1 --stdout FETCH_HEAD,"['all-in-one.sh', 'functions']",2,12094757493f0b9b022844ebd3a63e3ea364016d,debian-support," DISTRIBUTION_VENDOR=$(lsb_release -s -i) # In Debian, we use the distro packages if [ ""${DISTRIBUTION_VENDOR}"" = ""Ubuntu"" ] ; then $SUDO mkdir -p /etc/apt/sources.list.d echo ""deb ${NODEPOOL_PUPPETLABS_MIRROR} ${PUPPET_CODENAME} puppet${PUPPET_MAJ_VERSION}"" | $SUDO tee /etc/apt/sources.list.d/puppetlabs.list $SUDO apt-key add files/GPG-KEY-puppetlabs $SUDO apt-key add files/GPG-KEY-ceph $SUDO apt-get update fi # In Debian, the distro package name is simply ""puppet"" # and there's no reason to have it in a variable. if [ ""${DISTRIBUTION_VENDOR}"" = ""Debian"" ] ; then $SUDO apt-get install -y puppet else $SUDO apt-get install -y ${PUPPET_PKG} fi"," $SUDO mkdir -p /etc/apt/sources.list.d echo ""deb ${NODEPOOL_PUPPETLABS_MIRROR} ${PUPPET_CODENAME} puppet${PUPPET_MAJ_VERSION}"" | $SUDO tee /etc/apt/sources.list.d/puppetlabs.list $SUDO apt-key add files/GPG-KEY-puppetlabs $SUDO apt-key add files/GPG-KEY-ceph $SUDO apt-get update $SUDO apt-get install -y ${PUPPET_PKG}",21,7
openstack%2Fopenstack-helm~master~I0725575a7d544e4a5f1603af318c851cc72d5ddb,openstack/openstack-helm,master,I0725575a7d544e4a5f1603af318c851cc72d5ddb,[test],ABANDONED,2021-04-12 18:07:00.000000000,2021-04-13 09:57:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-12 18:07:00.000000000', 'files': ['horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d7fbe5f2bf7b96c59c5dff24af90328fca5a5dad', 'message': '[test]\n\nChange-Id: I0725575a7d544e4a5f1603af318c851cc72d5ddb\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,785953,d7fbe5f2bf7b96c59c5dff24af90328fca5a5dad,3,1,1,8863,,,0,"[test]

Change-Id: I0725575a7d544e4a5f1603af318c851cc72d5ddb
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/53/785953/1 && git format-patch -1 --stdout FETCH_HEAD,['horizon/values.yaml'],1,d7fbe5f2bf7b96c59c5dff24af90328fca5a5dad,,,,1,0
openstack%2Fpuppet-openstack-integration~master~I1c2bf3670c2e02e774d8b15d8b046b7e2c696863,openstack/puppet-openstack-integration,master,I1c2bf3670c2e02e774d8b15d8b046b7e2c696863,Updated from Puppet OpenStack modules constraints,MERGED,2021-03-02 06:07:00.000000000,2021-04-13 09:56:37.000000000,2021-04-13 09:56:37.000000000,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 06:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2c1ff21c6fdc86f7be99e910577868a97c7351ef', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I1c2bf3670c2e02e774d8b15d8b046b7e2c696863\n'}, {'number': 2, 'created': '2021-03-03 06:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6a847f5c45e5f2345062d4edefdcd540edd7cccc', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I1c2bf3670c2e02e774d8b15d8b046b7e2c696863\n'}, {'number': 3, 'created': '2021-03-04 06:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3348f129d345bb3f9fdcf58f5a9442528945e62a', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I1c2bf3670c2e02e774d8b15d8b046b7e2c696863\n'}, {'number': 4, 'created': '2021-03-09 06:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/894ca8fdfa87fc9e19023cf06cc6349d537104f7', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I1c2bf3670c2e02e774d8b15d8b046b7e2c696863\n'}, {'number': 5, 'created': '2021-03-10 06:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/64d9c24287c7f0a9c7e13af1fa63e05d00de4661', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I1c2bf3670c2e02e774d8b15d8b046b7e2c696863\n'}, {'number': 6, 'created': '2021-03-16 06:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3191770dc66e9a34f0c540bff0e78fda5ca2bcb5', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I1c2bf3670c2e02e774d8b15d8b046b7e2c696863\n'}, {'number': 7, 'created': '2021-03-30 06:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7dc7aae3950ecb73562e6df1ee2b4e7f506f405e', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I1c2bf3670c2e02e774d8b15d8b046b7e2c696863\n'}, {'number': 8, 'created': '2021-04-04 06:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/618e7c55ec106e52e6ab520fdc5dba0293634531', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I1c2bf3670c2e02e774d8b15d8b046b7e2c696863\n'}, {'number': 9, 'created': '2021-04-07 06:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c96811ed7d0ca048c0ef3db4864be56488b920ec', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I1c2bf3670c2e02e774d8b15d8b046b7e2c696863\n'}, {'number': 10, 'created': '2021-04-08 06:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c51962db027a34032efce6ac377bf910fb7f13d1', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I1c2bf3670c2e02e774d8b15d8b046b7e2c696863\n'}, {'number': 11, 'created': '2021-04-13 06:23:53.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/87598398d7fc9333f030ff2c27876409942bee19', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I1c2bf3670c2e02e774d8b15d8b046b7e2c696863\n'}]",0,778138,87598398d7fc9333f030ff2c27876409942bee19,36,5,11,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: I1c2bf3670c2e02e774d8b15d8b046b7e2c696863
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/38/778138/9 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,2c1ff21c6fdc86f7be99e910577868a97c7351ef,openstack/puppet/constraints, :ref => 'v8.0.0' :ref => 'v7.0.0' :ref => 'v3.0.0' :ref => 'v11.0.0' :ref => 'v7.0.0', :ref => 'v7.7.1' :ref => 'v6.4.0' :ref => 'v2.8.1' :ref => 'v10.10.0' :ref => 'v6.6.0',5,5
openstack%2Fpuppet-mistral~master~Iec7a55541bd34a1a11562485e5e76a32ba661ed0,openstack/puppet-mistral,master,Iec7a55541bd34a1a11562485e5e76a32ba661ed0,Bump dependency in metadata.json,MERGED,2021-04-08 19:02:48.000000000,2021-04-13 09:50:36.000000000,2021-04-13 09:50:36.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:02:48.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/fb6b31fc3712898b57ed636ebd69f7bcda020da3', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: Iec7a55541bd34a1a11562485e5e76a32ba661ed0\n'}]",0,785475,fb6b31fc3712898b57ed636ebd69f7bcda020da3,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: Iec7a55541bd34a1a11562485e5e76a32ba661ed0
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/75/785475/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,fb6b31fc3712898b57ed636ebd69f7bcda020da3,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-monasca~master~Ie81e681a6c67c42142b3b8d639e80a38b9f1d64d,openstack/puppet-monasca,master,Ie81e681a6c67c42142b3b8d639e80a38b9f1d64d,Bump dependency in metadata.json,MERGED,2021-04-08 19:03:11.000000000,2021-04-13 09:49:30.000000000,2021-04-13 09:49:30.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:03:11.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/a8793c5e7f1595edb26ba2150c32afaa713f7860', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: Ie81e681a6c67c42142b3b8d639e80a38b9f1d64d\n'}]",0,785476,a8793c5e7f1595edb26ba2150c32afaa713f7860,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: Ie81e681a6c67c42142b3b8d639e80a38b9f1d64d
",git fetch https://review.opendev.org/openstack/puppet-monasca refs/changes/76/785476/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,a8793c5e7f1595edb26ba2150c32afaa713f7860,new-deps," ""version_requirement"": "">=6.0.0 <12.0.0"" ""version_requirement"": "">=5.0.0 <8.0.0"" ""version_requirement"": "">=2.1.1 <7.0.0"""," ""version_requirement"": "">=6.0.0 <11.0.0"" ""version_requirement"": "">=5.0.0 <7.0.0"" ""version_requirement"": "">=2.1.1 <3.0.0""",3,3
openstack%2Fpuppet-neutron~master~Ifeecbc04eee73eca2b5fa83f9bfabc8fd9391da5,openstack/puppet-neutron,master,Ifeecbc04eee73eca2b5fa83f9bfabc8fd9391da5,Bump dependency in metadata.json,MERGED,2021-04-08 19:03:57.000000000,2021-04-13 09:49:16.000000000,2021-04-13 09:49:16.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:03:57.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/6729775ef44ef974364846658234c9c7eeaef1b0', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: Ifeecbc04eee73eca2b5fa83f9bfabc8fd9391da5\n'}]",0,785478,6729775ef44ef974364846658234c9c7eeaef1b0,8,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: Ifeecbc04eee73eca2b5fa83f9bfabc8fd9391da5
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/78/785478/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,6729775ef44ef974364846658234c9c7eeaef1b0,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Ftripleo-heat-templates~master~Ie2e181fcd9198ae5613fde7135230d4b4cf7343d,openstack/tripleo-heat-templates,master,Ie2e181fcd9198ae5613fde7135230d4b4cf7343d,Fix tls for undercloud with ipa,MERGED,2021-03-31 21:33:44.000000000,2021-04-13 09:45:11.000000000,2021-04-13 09:45:11.000000000,"[{'_account_id': 7353}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-31 21:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/348e4831f94d52b6ec32993e65ab6a59e9fb8325', 'message': 'Fix tls for undercloud with ipa\n\nWe recently changed cert generation to use linux-system roles\nto generate certs instead of puppet-certmonger.  However, this broke\nthe ability to generate the haproxy cert on the undercloud using an\nIPA server, because we relied in the ability to specify the CertmongerCA\nand the hieradata to provide the correct ca, principals and dns entries.\n\nThis patch restores this ability through THT template parameters.\n\nChange-Id: Ie2e181fcd9198ae5613fde7135230d4b4cf7343d\n'}, {'number': 2, 'created': '2021-04-01 19:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/318ea27c6e60caf8fc106f42009953b16ffe4df4', 'message': 'Fix tls for undercloud with ipa\n\nWe recently changed cert generation to use linux-system roles\nto generate certs instead of puppet-certmonger.  However, this broke\nthe ability to generate the haproxy cert on the undercloud using an\nIPA server, because we relied in the ability to specify the CertmongerCA\nand the hieradata to provide the correct ca, principals and dns entries.\n\nThis patch restores this ability through THT template parameters.\n\nChange-Id: Ie2e181fcd9198ae5613fde7135230d4b4cf7343d\n'}, {'number': 3, 'created': '2021-04-05 18:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c8ae93fb7339101f96d5df1b3cbbba4dfa01b75c', 'message': 'Fix tls for undercloud with ipa\n\nWe recently changed cert generation to use linux-system roles\nto generate certs instead of puppet-certmonger.  However, this broke\nthe ability to generate the haproxy cert on the undercloud using an\nIPA server, because we relied in the ability to specify the CertmongerCA\nand the hieradata to provide the correct ca, principals and dns entries.\n\nThis patch restores this ability through THT template parameters.\n\nChange-Id: Ie2e181fcd9198ae5613fde7135230d4b4cf7343d\n'}, {'number': 4, 'created': '2021-04-05 19:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/07bad4f17fad3bfa138969a99830edc59bfcc023', 'message': 'Fix tls for undercloud with ipa\n\nWe recently changed cert generation to use linux-system roles\nto generate certs instead of puppet-certmonger.  However, this broke\nthe ability to generate the haproxy cert on the undercloud using an\nIPA server, because we relied in the ability to specify the CertmongerCA\nand the hieradata to provide the correct ca, principals and dns entries.\n\nThis patch restores this ability through THT template parameters.\n\nChange-Id: Ie2e181fcd9198ae5613fde7135230d4b4cf7343d\n'}, {'number': 5, 'created': '2021-04-06 15:51:35.000000000', 'files': ['deployment/haproxy/haproxy-public-tls-certmonger.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/26cd692ab7ddb10cadfdbc8df71c7a753cb7c5f7', 'message': 'Fix tls for undercloud with ipa\n\nWe recently changed cert generation to use linux-system roles\nto generate certs instead of puppet-certmonger.  However, this broke\nthe ability to generate the haproxy cert on the undercloud using an\nIPA server, because we relied in the ability to specify the CertmongerCA\nand the hieradata to provide the correct ca, principals and dns entries.\n\nThis patch restores this ability through THT template parameters.\n\nChange-Id: Ie2e181fcd9198ae5613fde7135230d4b4cf7343d\n'}]",7,784170,26cd692ab7ddb10cadfdbc8df71c7a753cb7c5f7,27,8,5,9914,,,0,"Fix tls for undercloud with ipa

We recently changed cert generation to use linux-system roles
to generate certs instead of puppet-certmonger.  However, this broke
the ability to generate the haproxy cert on the undercloud using an
IPA server, because we relied in the ability to specify the CertmongerCA
and the hieradata to provide the correct ca, principals and dns entries.

This patch restores this ability through THT template parameters.

Change-Id: Ie2e181fcd9198ae5613fde7135230d4b4cf7343d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/70/784170/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-public-tls-certmonger.yaml'],1,348e4831f94d52b6ec32993e65ab6a59e9fb8325,fix_undercloud_tls_with_ipa," CertmongerCA: type: string default: '' description: CA to use for certmonger HAProxyCertificateDNSNames: type: comma_delimited_list default: [] description: Override the default HAProxy Certificate DNS Names HAProxyCertificatePrincipal: type: string default: '' description: Override the default HAProxy Certificate Principal use_ipa_ca: or: - equals: - get_param: CertmongerCA - IPA - ""{{idm_realm is defined}}"" principal_override_set: {not: {equals: [{get_param: HAProxyCertificatePrincipal}, '']}} dnsnames_override_set: {not: {equals: [{get_param: HAProxyCertificateDNSNames}, []]}} vars: use_local_ca: if: - use_ipa_ca - false - true when: use_local_ca if: - dnsnames_override_set - {get_param: HAProxyCertificateDNSNames} - str_replace: template: ""{{cloud_names.cloud_name_NETWORK}}"" params: NETWORK: {get_param: [ServiceNetMap, PublicNetwork]} ip: if: - dnsnames_override_set - str_replace: template: ""{{DNSNAMES|ipaddr}}"" params: DNSNAMES: {get_param: HAProxyCertificateDNSNames} - str_replace: template: ""{{[cloud_names.cloud_name_NETWORK]|ipaddr}}"" params: NETWORK: {get_param: [ServiceNetMap, PublicNetwork]} principal: if: - principal_override_set - {get_param: HAProxyCertificatePrincipal} - str_replace: template: ""haproxy/{{cloud_names.cloud_name_NETWORK}}@{{idm_realm|default('UNDERCLOUD')}}"" params: NETWORK: {get_param: [ServiceNetMap, PublicNetwork]} ca: if: - use_ipa_ca - 'ipa' - 'self-sign'"," str_replace: template: ""{{cloud_names.cloud_name_NETWORK}}"" params: NETWORK: {get_param: [ServiceNetMap, PublicNetwork]} ip: str_replace: template: ""{{[cloud_names.cloud_name_NETWORK]|ipaddr}}"" params: NETWORK: {get_param: [ServiceNetMap, PublicNetwork]} principal: str_replace: template: ""haproxy/{{cloud_names.cloud_name_NETWORK}}@{{idm_realm|default('UNDERCLOUD')}}"" params: NETWORK: {get_param: [ServiceNetMap, PublicNetwork]} ca: ""{{idm_realm|default|ternary('ipa','self-sign')}}""",56,13
openstack%2Fpuppet-tripleo~stable%2Fvictoria~If804dc369c5883eeb51f7e6dcd01ee0e5967c7cf,openstack/puppet-tripleo,stable/victoria,If804dc369c5883eeb51f7e6dcd01ee0e5967c7cf,Always update the local certmonger ca cert,MERGED,2021-04-06 15:32:47.000000000,2021-04-13 09:44:51.000000000,2021-04-13 09:44:51.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-06 15:32:47.000000000', 'files': ['manifests/certmonger/ca/local.pp', 'spec/classes/tripleo_certmonger_ca_local_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8120cc8401d8bfa600177c458de39258b0ea2f59', 'message': 'Always update the local certmonger ca cert\n\nThe local certmonger cert will renew after half its lifetime, which will\nbe after 6 months by default.  The current code would extract the CA cert\nto a PEM file (and trust it), only if the cert in the existing PEM file\nwas expired.\n\nBut this means that the certmonger local cert could be renewed after six\nmonths and not be replaced in the PEM file until the existing cert\nexpired at the end of the year.  If certs are issued in this time, they\nwill not be trusted and the update will fail.\n\nThis patch removes this condition, so that the extracted and trusted cert\nalways matches what is in the PEM file, and what is trusted.\n\nNote, this only place this occurs is on the undercloud - because this is\nwhere we could use the certmonger local cert.  We assume that the haproxy\ncert will be re-issued in an update.\n\nChange-Id: If804dc369c5883eeb51f7e6dcd01ee0e5967c7cf\n'}]",1,784855,8120cc8401d8bfa600177c458de39258b0ea2f59,12,8,1,9914,,,0,"Always update the local certmonger ca cert

The local certmonger cert will renew after half its lifetime, which will
be after 6 months by default.  The current code would extract the CA cert
to a PEM file (and trust it), only if the cert in the existing PEM file
was expired.

But this means that the certmonger local cert could be renewed after six
months and not be replaced in the PEM file until the existing cert
expired at the end of the year.  If certs are issued in this time, they
will not be trusted and the update will fail.

This patch removes this condition, so that the extracted and trusted cert
always matches what is in the PEM file, and what is trusted.

Note, this only place this occurs is on the undercloud - because this is
where we could use the certmonger local cert.  We assume that the haproxy
cert will be re-issued in an update.

Change-Id: If804dc369c5883eeb51f7e6dcd01ee0e5967c7cf
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/55/784855/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/certmonger/ca/local.pp', 'spec/classes/tripleo_certmonger_ca_local_spec.rb']",2,8120cc8401d8bfa600177c458de39258b0ea2f59,fix_renewed_ca_cert-stable/victoria, is_expected.to contain_exec('extract-and-trust-ca')," is_expected.to contain_exec('extract-and-trust-ca').with( :unless => ""test -e #{params[:ca_pem]} && openssl x509 -checkend 0 -noout -in #{params[:ca_pem]}"", )",1,4
openstack%2Ftripleo-ansible~stable%2Ftrain~I2d5f4e8c11384aeff3c0b1a2fdd5abb6a586522f,openstack/tripleo-ansible,stable/train,I2d5f4e8c11384aeff3c0b1a2fdd5abb6a586522f,Accept 142 as an exit code,MERGED,2021-04-08 09:59:20.000000000,2021-04-13 09:44:47.000000000,2021-04-13 09:44:47.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-08 09:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e12619e688fabcf7e7d21a8ad019afef2feca5f4', 'message': 'Accept 142 as an exit code\n\nIn the same fashion we accepted 137 and 143 exit code status in\nI8f19a80016a67ccad0371c5d108516aec640f031, we also accept 142.\n\nIt represents the SIGALRM exit status - it happens when podman reaches\nthe set timeout (currently 60s) when trying to cleanly stop a container.\n\nChange-Id: I2d5f4e8c11384aeff3c0b1a2fdd5abb6a586522f\nCloses-Bug: #1922179\nResolves: rhbz#1939910\n(cherry picked from commit abbcab7d44f1d7708914f85850df6602a00142e0)\n'}, {'number': 2, 'created': '2021-04-08 10:04:15.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/templates/systemd-service.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c71dd680391a663da695569ca5dbf7fad4150a15', 'message': 'Accept 142 as an exit code\n\nIn the same fashion we accepted 137 and 143 exit code status in\nI8f19a80016a67ccad0371c5d108516aec640f031, we also accept 142.\n\nIt represents the SIGALRM exit status - it happens when podman reaches\nthe set timeout (currently 60s) when trying to cleanly stop a container.\n\nChange-Id: I2d5f4e8c11384aeff3c0b1a2fdd5abb6a586522f\nCloses-Bug: #1922179\nResolves: rhbz#1939910\n(cherry picked from commit abbcab7d44f1d7708914f85850df6602a00142e0)\n'}]",0,785335,c71dd680391a663da695569ca5dbf7fad4150a15,10,4,2,28223,,,0,"Accept 142 as an exit code

In the same fashion we accepted 137 and 143 exit code status in
I8f19a80016a67ccad0371c5d108516aec640f031, we also accept 142.

It represents the SIGALRM exit status - it happens when podman reaches
the set timeout (currently 60s) when trying to cleanly stop a container.

Change-Id: I2d5f4e8c11384aeff3c0b1a2fdd5abb6a586522f
Closes-Bug: #1922179
Resolves: rhbz#1939910
(cherry picked from commit abbcab7d44f1d7708914f85850df6602a00142e0)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/35/785335/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2'],1,e12619e688fabcf7e7d21a8ad019afef2feca5f4,podman-exit/142-stable/train,"<<<<<<< HEAD (fbbf98 Remove layout overrides and use tripleo-ci templates instead) ======= [Unit] Description={{ lookup('dict', container_data_unit).key }} container After=tripleo-container-shutdown.service Wants={{ lookup('dict', container_data_unit).value.depends_on | default([]) | join(',') }} [Service] Restart=always {% if lookup('dict', container_data_unit).value.depends_on is defined and (lookup('dict', container_data_unit).value.depends_on | length > 0) and podman_drop_in | default('false') %} ExecStart=/usr/libexec/tripleo-start-podman-container {{ lookup('dict', container_data_unit).key }} {% else %} ExecStart=/usr/bin/podman start {{ lookup('dict', container_data_unit).key }} {% endif %} ExecReload=/usr/bin/podman kill --signal HUP {{ lookup('dict', container_data_unit).key }} {% if lookup('dict', container_data_unit).value.pre_stop_exec is defined %} ExecStop=-/usr/bin/podman exec {{ lookup('dict', container_data_unit).key }} {{ lookup('dict', container_data_unit).value.pre_stop_exec }} {% endif %} ExecStop=/usr/bin/podman stop -t {{ lookup('dict', container_data_unit).value.stop_grace_period | default(10) | int }} {{ lookup('dict', container_data_unit).key }} ExecStopPost=/usr/bin/podman stop -t {{ lookup('dict', container_data_unit).value.stop_grace_period | default(10) | int }} {{ lookup('dict', container_data_unit).key }} SuccessExitStatus=137 142 143 KillMode=none Type=forking PIDFile=/var/run/{{ lookup('dict', container_data_unit).key }}.pid {% if lookup('dict', container_data_unit).value.systemd_exec_flags is defined %} {% for s_flag, s_value in lookup('dict', container_data_unit).value.systemd_exec_flags.items() %} {{ s_flag }}={{ s_value }} {% endfor %} {% endif %} [Install] WantedBy=multi-user.target >>>>>>> CHANGE (abbcab Accept 142 as an exit code) ",,31,0
openstack%2Fpuppet-zaqar~master~I4dde08f19cdfd67b656c2ef3d89edf2bae1ed587,openstack/puppet-zaqar,master,I4dde08f19cdfd67b656c2ef3d89edf2bae1ed587,Bump dependency in metadata.json,MERGED,2021-04-08 19:11:59.000000000,2021-04-13 09:41:32.000000000,2021-04-13 09:41:32.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:11:59.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/5bd9696a13579a9fa5c58d14e731226aaaec508c', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: I4dde08f19cdfd67b656c2ef3d89edf2bae1ed587\n'}]",0,785499,5bd9696a13579a9fa5c58d14e731226aaaec508c,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: I4dde08f19cdfd67b656c2ef3d89edf2bae1ed587
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/99/785499/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,5bd9696a13579a9fa5c58d14e731226aaaec508c,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-senlin~master~Ibdc882225d8bbd97910254c6f5aa67258a4dde1d,openstack/puppet-senlin,master,Ibdc882225d8bbd97910254c6f5aa67258a4dde1d,Bump dependency in metadata.json,MERGED,2021-04-08 19:08:34.000000000,2021-04-13 09:39:54.000000000,2021-04-13 09:39:54.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:08:34.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/578981394108a8f6671bc648be2422bfe013c63f', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: Ibdc882225d8bbd97910254c6f5aa67258a4dde1d\n'}]",0,785492,578981394108a8f6671bc648be2422bfe013c63f,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: Ibdc882225d8bbd97910254c6f5aa67258a4dde1d
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/92/785492/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,578981394108a8f6671bc648be2422bfe013c63f,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-sahara~master~Ide394ec1d7f40cbca37b6a8b3035ea8ac4c8aeac,openstack/puppet-sahara,master,Ide394ec1d7f40cbca37b6a8b3035ea8ac4c8aeac,Bump dependency in metadata.json,MERGED,2021-04-08 19:08:17.000000000,2021-04-13 09:39:10.000000000,2021-04-13 09:39:10.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:08:17.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/4f71c3056f8d8d5c79990a4ac4126271f7294dd5', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: Ide394ec1d7f40cbca37b6a8b3035ea8ac4c8aeac\n'}]",0,785491,4f71c3056f8d8d5c79990a4ac4126271f7294dd5,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: Ide394ec1d7f40cbca37b6a8b3035ea8ac4c8aeac
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/91/785491/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,4f71c3056f8d8d5c79990a4ac4126271f7294dd5,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-tacker~master~Ib7b76a7403798f32e652b2b283e01878f82a4b97,openstack/puppet-tacker,master,Ib7b76a7403798f32e652b2b283e01878f82a4b97,Bump dependency in metadata.json,MERGED,2021-04-08 19:09:07.000000000,2021-04-13 09:38:43.000000000,2021-04-13 09:38:43.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:09:07.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/ffd4cae9b16aa7698e1504067ad30e8cbc9a088c', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: Ib7b76a7403798f32e652b2b283e01878f82a4b97\n'}]",0,785494,ffd4cae9b16aa7698e1504067ad30e8cbc9a088c,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: Ib7b76a7403798f32e652b2b283e01878f82a4b97
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/94/785494/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,ffd4cae9b16aa7698e1504067ad30e8cbc9a088c,new-deps," ""version_requirement"": "">= 5.0.0 <8.0.0"""," ""version_requirement"": "">= 5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-swift~master~Ie7fcbadb050b2047c1390b97bb570d6274a4bca2,openstack/puppet-swift,master,Ie7fcbadb050b2047c1390b97bb570d6274a4bca2,Bump dependency in metadata.json,MERGED,2021-04-08 19:08:52.000000000,2021-04-13 09:38:28.000000000,2021-04-13 09:38:28.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:08:52.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/7a9653bcd1aa44b5686c7d991892f1e5ed5bb447', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: Ie7fcbadb050b2047c1390b97bb570d6274a4bca2\n'}]",0,785493,7a9653bcd1aa44b5686c7d991892f1e5ed5bb447,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: Ie7fcbadb050b2047c1390b97bb570d6274a4bca2
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/93/785493/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,7a9653bcd1aa44b5686c7d991892f1e5ed5bb447,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"" ""version_requirement"": "">=1.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0"" ""version_requirement"": "">=1.0.0 <7.0.0""",2,2
openstack%2Fpuppet-openstack_extras~master~I7949e1a6ada866d8aa5cdae09d8b508f1802374b,openstack/puppet-openstack_extras,master,I7949e1a6ada866d8aa5cdae09d8b508f1802374b,Bump dependency in metadata.json,MERGED,2021-04-08 19:05:15.000000000,2021-04-13 09:38:14.000000000,2021-04-13 09:38:14.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:05:15.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/31bb7eab7ed84175a43296521ef932cc67026135', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: I7949e1a6ada866d8aa5cdae09d8b508f1802374b\n'}]",0,785481,31bb7eab7ed84175a43296521ef932cc67026135,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: I7949e1a6ada866d8aa5cdae09d8b508f1802374b
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/81/785481/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,31bb7eab7ed84175a43296521ef932cc67026135,new-deps," ""version_requirement"": "">=1.8.0 <4.0.0"" ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=1.8.0 <3.0.0"" ""version_requirement"": "">=5.0.0 <7.0.0""",2,2
openstack%2Fpuppet-octavia~master~I1d4fcdeda9e127b007f41208a9d928e2a48f7afe,openstack/puppet-octavia,master,I1d4fcdeda9e127b007f41208a9d928e2a48f7afe,Bump dependency in metadata.json,MERGED,2021-04-08 19:04:54.000000000,2021-04-13 09:37:48.000000000,2021-04-13 09:37:48.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:04:54.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/165aa23376254320e8372db028edffb02038190e', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: I1d4fcdeda9e127b007f41208a9d928e2a48f7afe\n'}]",0,785480,165aa23376254320e8372db028edffb02038190e,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: I1d4fcdeda9e127b007f41208a9d928e2a48f7afe
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/80/785480/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,165aa23376254320e8372db028edffb02038190e,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-cinder~master~I35bce65e4284b042c04b74434e495649c9442e4f,openstack/puppet-cinder,master,I35bce65e4284b042c04b74434e495649c9442e4f,Bump dependency in metadata.json,MERGED,2021-04-08 18:56:13.000000000,2021-04-13 09:37:04.000000000,2021-04-13 09:37:04.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 18:56:13.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/9efdcd89882152a7f48280451ae2b8e7f6d42a4e', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: I35bce65e4284b042c04b74434e495649c9442e4f\n'}]",0,785461,9efdcd89882152a7f48280451ae2b8e7f6d42a4e,8,4,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: I35bce65e4284b042c04b74434e495649c9442e4f
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/61/785461/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,9efdcd89882152a7f48280451ae2b8e7f6d42a4e,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-ovn~master~I4d1afcf7f5caf193e807bbc3564e27c8e1a2407b,openstack/puppet-ovn,master,I4d1afcf7f5caf193e807bbc3564e27c8e1a2407b,Bump dependency in metadata.json,MERGED,2021-04-08 19:06:08.000000000,2021-04-13 09:36:42.000000000,2021-04-13 09:36:42.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:06:08.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/837abe5c9f56c884ca8c4a1dd34ff65985d28d17', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: I4d1afcf7f5caf193e807bbc3564e27c8e1a2407b\n'}]",0,785484,837abe5c9f56c884ca8c4a1dd34ff65985d28d17,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: I4d1afcf7f5caf193e807bbc3564e27c8e1a2407b
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/84/785484/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,837abe5c9f56c884ca8c4a1dd34ff65985d28d17,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-openstacklib~master~Id594e2f0ed94085de96d8b280fdecd4d43e3b273,openstack/puppet-openstacklib,master,Id594e2f0ed94085de96d8b280fdecd4d43e3b273,Bump dependency in metadata.json,MERGED,2021-04-08 19:05:34.000000000,2021-04-13 09:36:24.000000000,2021-04-13 09:36:24.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:05:34.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/4130c5306b525b8392e2f4f2d88600d0ae1b13e8', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: Id594e2f0ed94085de96d8b280fdecd4d43e3b273\n'}]",0,785482,4130c5306b525b8392e2f4f2d88600d0ae1b13e8,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: Id594e2f0ed94085de96d8b280fdecd4d43e3b273
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/82/785482/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,4130c5306b525b8392e2f4f2d88600d0ae1b13e8,new-deps," ""version_requirement"": "">=6.0.0 <12.0.0"" ""version_requirement"": "">=5.0.0 <8.0.0"" ""version_requirement"": "">=6.4.0 <8.0.0"""," ""version_requirement"": "">=6.0.0 <11.0.0"" ""version_requirement"": "">=5.0.0 <7.0.0"" ""version_requirement"": "">=6.4.0 <7.0.0""",3,3
openstack%2Fpuppet-qdr~master~I6f18240bf6781ae1a70769b201651129a205852d,openstack/puppet-qdr,master,I6f18240bf6781ae1a70769b201651129a205852d,Bump dependency in metadata.json,MERGED,2021-04-08 19:07:32.000000000,2021-04-13 09:36:20.000000000,2021-04-13 09:36:20.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:07:32.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/b21913f6dfe7a1bd55593abbce7f2755a376a899', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: I6f18240bf6781ae1a70769b201651129a205852d\n'}]",0,785489,b21913f6dfe7a1bd55593abbce7f2755a376a899,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: I6f18240bf6781ae1a70769b201651129a205852d
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/89/785489/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,b21913f6dfe7a1bd55593abbce7f2755a376a899,new-deps," ""version_requirement"": "">=1.8.0 <4.0.0"" ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=1.8.0 <3.0.0"" ""version_requirement"": "">=5.0.0 <7.0.0""",2,2
openstack%2Fpuppet-placement~master~Iec5b1d5360d0882cf6583305f06191c947e7aed8,openstack/puppet-placement,master,Iec5b1d5360d0882cf6583305f06191c947e7aed8,Bump dependency in metadata.json,MERGED,2021-04-08 19:07:05.000000000,2021-04-13 09:35:58.000000000,2021-04-13 09:35:58.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:07:05.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/ee521bbaa973f8bd0a3c0b5d2bb8cdb1ab1679b0', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: Iec5b1d5360d0882cf6583305f06191c947e7aed8\n'}]",0,785488,ee521bbaa973f8bd0a3c0b5d2bb8cdb1ab1679b0,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: Iec5b1d5360d0882cf6583305f06191c947e7aed8
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/88/785488/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,ee521bbaa973f8bd0a3c0b5d2bb8cdb1ab1679b0,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-rally~master~I26f5985f0a32507f3890df9b7316d87e8458af10,openstack/puppet-rally,master,I26f5985f0a32507f3890df9b7316d87e8458af10,Bump dependency in metadata.json,MERGED,2021-04-08 19:07:49.000000000,2021-04-13 09:35:39.000000000,2021-04-13 09:35:39.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:07:49.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/f2865e1b2220daba13c10e06f452c59a97adc20a', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: I26f5985f0a32507f3890df9b7316d87e8458af10\n'}]",0,785490,f2865e1b2220daba13c10e06f452c59a97adc20a,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: I26f5985f0a32507f3890df9b7316d87e8458af10
",git fetch https://review.opendev.org/openstack/puppet-rally refs/changes/90/785490/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,f2865e1b2220daba13c10e06f452c59a97adc20a,new-deps," ""version_requirement"": "">= 5.0.0 <8.0.0"""," ""version_requirement"": "">= 5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-panko~master~Ifda8589788034eee578d84bfddede95cdcd7b2ca,openstack/puppet-panko,master,Ifda8589788034eee578d84bfddede95cdcd7b2ca,Bump dependency in metadata.json,MERGED,2021-04-08 19:06:48.000000000,2021-04-13 09:35:20.000000000,2021-04-13 09:35:20.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:06:48.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/516889fe385c335b0d00a3944bc478214f1277a0', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: Ifda8589788034eee578d84bfddede95cdcd7b2ca\n'}]",0,785487,516889fe385c335b0d00a3944bc478214f1277a0,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: Ifda8589788034eee578d84bfddede95cdcd7b2ca
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/87/785487/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,516889fe385c335b0d00a3944bc478214f1277a0,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-watcher~master~I82a09a125c49e45a830372f441beba9a48740ba8,openstack/puppet-watcher,master,I82a09a125c49e45a830372f441beba9a48740ba8,Bump dependency in metadata.json,MERGED,2021-04-08 19:11:40.000000000,2021-04-13 09:34:51.000000000,2021-04-13 09:34:51.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:11:40.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/a1d648c6c3bff765b09958a2525f4449e2d3a14f', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: I82a09a125c49e45a830372f441beba9a48740ba8\n'}]",0,785498,a1d648c6c3bff765b09958a2525f4449e2d3a14f,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: I82a09a125c49e45a830372f441beba9a48740ba8
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/98/785498/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,a1d648c6c3bff765b09958a2525f4449e2d3a14f,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-vitrage~master~I0503d36a4af7a9382a7b9001460f9ffb6da6db9a,openstack/puppet-vitrage,master,I0503d36a4af7a9382a7b9001460f9ffb6da6db9a,Bump dependency in metadata.json,MERGED,2021-04-08 19:11:11.000000000,2021-04-13 09:34:35.000000000,2021-04-13 09:34:35.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:11:11.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/c7402c082a07d2b9f77964436f2c425ddfbd8020', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: I0503d36a4af7a9382a7b9001460f9ffb6da6db9a\n'}]",0,785497,c7402c082a07d2b9f77964436f2c425ddfbd8020,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: I0503d36a4af7a9382a7b9001460f9ffb6da6db9a
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/97/785497/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,c7402c082a07d2b9f77964436f2c425ddfbd8020,new-deps," ""version_requirement"": "">= 5.0.0 <8.0.0"""," ""version_requirement"": "">= 5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-tempest~master~I1d42447cc5021c4c368e3bcc7c2f120c715887f4,openstack/puppet-tempest,master,I1d42447cc5021c4c368e3bcc7c2f120c715887f4,Bump dependency in metadata.json,MERGED,2021-04-08 19:09:24.000000000,2021-04-13 09:34:23.000000000,2021-04-13 09:34:23.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:09:24.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/a7e3478572ab63a0f9ec681604a598a16acde301', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: I1d42447cc5021c4c368e3bcc7c2f120c715887f4\n'}]",0,785495,a7e3478572ab63a0f9ec681604a598a16acde301,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: I1d42447cc5021c4c368e3bcc7c2f120c715887f4
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/95/785495/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,a7e3478572ab63a0f9ec681604a598a16acde301,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"" ""version_requirement"": "">=2.4.0 <5.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0"" ""version_requirement"": "">=2.4.0 <3.0.0""",2,2
openstack%2Fpuppet-nova~master~Ib46cb41dca923698ac845d617d8e51c3ec20f53d,openstack/puppet-nova,master,Ib46cb41dca923698ac845d617d8e51c3ec20f53d,Bump dependency in metadata.json,MERGED,2021-04-08 19:04:35.000000000,2021-04-13 09:33:36.000000000,2021-04-13 09:33:36.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:04:35.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/38233786f8643950b9feae8c276798f9d6b05228', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: Ib46cb41dca923698ac845d617d8e51c3ec20f53d\n'}]",0,785479,38233786f8643950b9feae8c276798f9d6b05228,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: Ib46cb41dca923698ac845d617d8e51c3ec20f53d
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/79/785479/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,38233786f8643950b9feae8c276798f9d6b05228,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-trove~master~Iadaa043f62ebefa24f551a3e0933a91b270cd759,openstack/puppet-trove,master,Iadaa043f62ebefa24f551a3e0933a91b270cd759,Bump dependency in metadata.json,MERGED,2021-04-08 19:10:43.000000000,2021-04-13 09:33:11.000000000,2021-04-13 09:33:11.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:10:43.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/3ea46aaff1fa932ecf47bfd8d418676e05d4c068', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: Iadaa043f62ebefa24f551a3e0933a91b270cd759\n'}]",0,785496,3ea46aaff1fa932ecf47bfd8d418676e05d4c068,7,3,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: Iadaa043f62ebefa24f551a3e0933a91b270cd759
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/96/785496/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,3ea46aaff1fa932ecf47bfd8d418676e05d4c068,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Fpuppet-nova~master~I73adb3485a677b8166f7c04b132814f0079a1e7f,openstack/puppet-nova,master,I73adb3485a677b8166f7c04b132814f0079a1e7f,CentOS: Define virtlogd service name,MERGED,2021-04-08 06:45:44.000000000,2021-04-13 09:24:19.000000000,2021-04-13 09:24:19.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 06:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6fd966d4840e2f7edb42845aea4df3c2539f684b', 'message': 'Defined virtlogd service name\n\nThe virtlogd service was split out in RHEL7 and now required. This\nchange fixes the missing service name so that the service is properly\nenabled.\n\nChange-Id: I73adb3485a677b8166f7c04b132814f0079a1e7f\n'}, {'number': 2, 'created': '2021-04-08 06:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/76f7507403811a6031bd06cd30c34ee00d5eb4ba', 'message': 'Defined virtlogd service name\n\nThe virtlogd service was introduced in CentOS7 and now required. This\nchange fixes the missing service name so that the service is properly\nenabled.\n\nChange-Id: I73adb3485a677b8166f7c04b132814f0079a1e7f\n'}, {'number': 3, 'created': '2021-04-08 06:53:21.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/cf8ad52f02c7089d593c813d272d43d708eedb0e', 'message': 'CentOS: Define virtlogd service name\n\nThe virtlogd service was introduced in CentOS7 and now required. This\nchange fixes the missing service name so that the service is properly\nenabled.\n\nChange-Id: I73adb3485a677b8166f7c04b132814f0079a1e7f\n'}]",0,785311,cf8ad52f02c7089d593c813d272d43d708eedb0e,9,3,3,9816,,,0,"CentOS: Define virtlogd service name

The virtlogd service was introduced in CentOS7 and now required. This
change fixes the missing service name so that the service is properly
enabled.

Change-Id: I73adb3485a677b8166f7c04b132814f0079a1e7f
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/11/785311/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,6fd966d4840e2f7edb42845aea4df3c2539f684b,centos-virtlogd, $virtlog_service_name = 'virtlogd', $virtlog_service_name = undef,1,1
openstack%2Fcharm-ceph-radosgw~master~I2bcdfec1459ea45d8f57b850b7fd935c360cc7c1,openstack/charm-ceph-radosgw,master,I2bcdfec1459ea45d8f57b850b7fd935c360cc7c1,Ensure identical types for comparing port number/string,MERGED,2021-04-05 15:41:28.000000000,2021-04-13 08:52:20.000000000,2021-04-13 08:52:20.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-05 15:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/f31b2ee9f4fa31cc2e3048d8bef045d80714fa1f', 'message': 'Ensure integer types for comparing port number/string\n\nFix an oversight and regression in commit c97fced7947e\n(""Close previously opened ports on port config change"").\n\nThe comparison between an integer and a string (returned\nby .split()) is always different and thus when upgrading\nthe charm \'port 80\' is closed.\n\nMake sure the types are set to int. Right now it should\nonly be needed for opened_port_number and not port; but\nlet\'s future proof both sides of the comparison in case\nlisten_port() ever changes and may return a non-integer.\n\nBefore:\n\n    $ juju run --unit ceph-radosgw/0 opened-ports\n    80/tcp\n\n    $ juju upgrade-charm --path . ceph-radosgw\n\n    $ juju run --unit ceph-radosgw/0 opened-ports\n    $\n\n    @ log:\n    2021-04-05 15:08:04 INFO juju-log Closed port 80 in favor of port 80\n\n    $ python3 -q\n    >>> x=80\n    >>> y=\'80/tcp\'\n    >>> z=y.split(\'/\')[0]\n    >>> z\n    \'80\'\n    >>> x\n    80\n    >>> x != z\n    True\n    >>> z=int(z)\n    >>> x != z\n    False\n\nAfter:\n\n    $ juju run --unit ceph-radosgw/1 opened-ports\n    80/tcp\n\n    $ juju upgrade-charm --path . ceph-radosgw\n\n    $ juju run --unit ceph-radosgw/1 opened-ports\n    80/tcp\n\nSigned-off-by: Mauricio Faria de Oliveira <mfo@canonical.com>\nChange-Id: I2bcdfec1459ea45d8f57b850b7fd935c360cc7c1\n'}, {'number': 2, 'created': '2021-04-12 15:02:25.000000000', 'files': ['hooks/hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/358121d74c7371eafb724dc247ee620ce93cba81', 'message': 'Ensure identical types for comparing port number/string\n\nFix an oversight and regression in commit c97fced7947e\n(""Close previously opened ports on port config change"").\n\nThe comparison between an integer and a string (returned\nby .split()) is always different and thus when upgrading\nthe charm \'port 80\' is closed.\n\nMake sure the types are set to str. Right now it should\nonly be needed for port and not opened_port_number; but\nlet\'s future proof both sides of the comparison.\n\n(Update: using str() vs int() as apparently int() might\nfail but str() should always work no matter what it got;\nthanks, Alex Kavanagh!)\n\nBefore:\n\n    $ juju run --unit ceph-radosgw/0 opened-ports\n    80/tcp\n\n    $ juju upgrade-charm --path . ceph-radosgw\n\n    $ juju run --unit ceph-radosgw/0 opened-ports\n    $\n\n    @ log:\n    2021-04-05 15:08:04 INFO juju-log Closed port 80 in favor of port 80\n\n    $ python3 -q\n    >>> x=80\n    >>> y=\'80/tcp\'\n    >>> z=y.split(\'/\')[0]\n    >>> z\n    \'80\'\n    >>> x\n    80\n    >>> x != z\n    True\n    >>> x=str(x)\n    >>> x != z\n    False\n\nAfter:\n\n    $ juju run --unit ceph-radosgw/1 opened-ports\n    80/tcp\n\n    $ juju upgrade-charm --path . ceph-radosgw\n\n    $ juju run --unit ceph-radosgw/1 opened-ports\n    80/tcp\n\nSigned-off-by: Mauricio Faria de Oliveira <mfo@canonical.com>\nChange-Id: I2bcdfec1459ea45d8f57b850b7fd935c360cc7c1\n'}]",0,784785,358121d74c7371eafb724dc247ee620ce93cba81,18,5,2,28621,,,0,"Ensure identical types for comparing port number/string

Fix an oversight and regression in commit c97fced7947e
(""Close previously opened ports on port config change"").

The comparison between an integer and a string (returned
by .split()) is always different and thus when upgrading
the charm 'port 80' is closed.

Make sure the types are set to str. Right now it should
only be needed for port and not opened_port_number; but
let's future proof both sides of the comparison.

(Update: using str() vs int() as apparently int() might
fail but str() should always work no matter what it got;
thanks, Alex Kavanagh!)

Before:

    $ juju run --unit ceph-radosgw/0 opened-ports
    80/tcp

    $ juju upgrade-charm --path . ceph-radosgw

    $ juju run --unit ceph-radosgw/0 opened-ports
    $

    @ log:
    2021-04-05 15:08:04 INFO juju-log Closed port 80 in favor of port 80

    $ python3 -q
    >>> x=80
    >>> y='80/tcp'
    >>> z=y.split('/')[0]
    >>> z
    '80'
    >>> x
    80
    >>> x != z
    True
    >>> x=str(x)
    >>> x != z
    False

After:

    $ juju run --unit ceph-radosgw/1 opened-ports
    80/tcp

    $ juju upgrade-charm --path . ceph-radosgw

    $ juju run --unit ceph-radosgw/1 opened-ports
    80/tcp

Signed-off-by: Mauricio Faria de Oliveira <mfo@canonical.com>
Change-Id: I2bcdfec1459ea45d8f57b850b7fd935c360cc7c1
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/85/784785/2 && git format-patch -1 --stdout FETCH_HEAD,['hooks/hooks.py'],1,f31b2ee9f4fa31cc2e3048d8bef045d80714fa1f,fix-close-opened-ports, if int(opened_port_number) != int(port):, if opened_port_number != port:,1,1
openstack%2Freleases~master~I8d775f3aea693ea938f40340fe16b6c6fd864f6e,openstack/releases,master,I8d775f3aea693ea938f40340fe16b6c6fd864f6e,Recreate puppet-freezer release with the consistent version,MERGED,2021-04-12 15:10:39.000000000,2021-04-13 08:44:07.000000000,2021-04-13 08:44:07.000000000,"[{'_account_id': 9414}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-12 15:10:39.000000000', 'files': ['deliverables/wallaby/puppet-freezer.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ff33bc8f5a1040623690ecdd01ea541bef1b49cf', 'message': 'Recreate puppet-freezer release with the consistent version\n\nThe previous release patch used a wrong tag, which resulted in\ninconsistency between version written in metadata and one in tag.\nThis change recreates the release using the consistent version.\nSince we have already created 18.4.0 tag accidantally, this change\nbumps the major version to 18 to avoid decreasing major version in\nany future release.\n\nChange-Id: I8d775f3aea693ea938f40340fe16b6c6fd864f6e\n'}]",0,785900,ff33bc8f5a1040623690ecdd01ea541bef1b49cf,10,4,1,9816,,,0,"Recreate puppet-freezer release with the consistent version

The previous release patch used a wrong tag, which resulted in
inconsistency between version written in metadata and one in tag.
This change recreates the release using the consistent version.
Since we have already created 18.4.0 tag accidantally, this change
bumps the major version to 18 to avoid decreasing major version in
any future release.

Change-Id: I8d775f3aea693ea938f40340fe16b6c6fd864f6e
",git fetch https://review.opendev.org/openstack/releases refs/changes/00/785900/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/puppet-freezer.yaml'],1,ff33bc8f5a1040623690ecdd01ea541bef1b49cf,, - projects: - hash: 3cfea75c6874fcff066fdd566adb5a6a4da5d26c repo: openstack/puppet-freezer version: 18.4.1,,4,0
openstack%2Ftripleo-ansible~stable%2Fussuri~I2d5f4e8c11384aeff3c0b1a2fdd5abb6a586522f,openstack/tripleo-ansible,stable/ussuri,I2d5f4e8c11384aeff3c0b1a2fdd5abb6a586522f,Accept 142 as an exit code,MERGED,2021-04-08 09:58:49.000000000,2021-04-13 08:43:58.000000000,2021-04-13 08:43:58.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-08 09:58:49.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c0ad3c470328dd52dfff7579e680c77e7a1b534e', 'message': 'Accept 142 as an exit code\n\nIn the same fashion we accepted 137 and 143 exit code status in\nI8f19a80016a67ccad0371c5d108516aec640f031, we also accept 142.\n\nIt represents the SIGALRM exit status - it happens when podman reaches\nthe set timeout (currently 60s) when trying to cleanly stop a container.\n\nChange-Id: I2d5f4e8c11384aeff3c0b1a2fdd5abb6a586522f\nCloses-Bug: #1922179\nResolves: rhbz#1939910\n(cherry picked from commit abbcab7d44f1d7708914f85850df6602a00142e0)\n'}]",0,785334,c0ad3c470328dd52dfff7579e680c77e7a1b534e,8,4,1,28223,,,0,"Accept 142 as an exit code

In the same fashion we accepted 137 and 143 exit code status in
I8f19a80016a67ccad0371c5d108516aec640f031, we also accept 142.

It represents the SIGALRM exit status - it happens when podman reaches
the set timeout (currently 60s) when trying to cleanly stop a container.

Change-Id: I2d5f4e8c11384aeff3c0b1a2fdd5abb6a586522f
Closes-Bug: #1922179
Resolves: rhbz#1939910
(cherry picked from commit abbcab7d44f1d7708914f85850df6602a00142e0)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/34/785334/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2'],1,c0ad3c470328dd52dfff7579e680c77e7a1b534e,podman-exit/142-stable/ussuri,SuccessExitStatus=137 142 143,SuccessExitStatus=137 143,1,1
openstack%2Ftripleo-ansible~stable%2Ftrain~I2d08a274c8fc7be510e987af08a5487498df5f19,openstack/tripleo-ansible,stable/train,I2d08a274c8fc7be510e987af08a5487498df5f19,Update podman_container from the collection,MERGED,2021-04-08 14:30:51.000000000,2021-04-13 08:43:51.000000000,2021-04-13 08:43:51.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-08 14:30:51.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/56fdd04d45f089cd4d131a9c0d61ffcc30656d2c', 'message': 'Update podman_container from the collection\n\nFrom ansible podman collection 1.4.5\nChange-Id: I2d08a274c8fc7be510e987af08a5487498df5f19\n(cherry picked from commit 89db1b758acb624d7c9c32b28e6c5672d5c561d6)\n'}]",0,785382,56fdd04d45f089cd4d131a9c0d61ffcc30656d2c,7,3,1,10969,,,0,"Update podman_container from the collection

From ansible podman collection 1.4.5
Change-Id: I2d08a274c8fc7be510e987af08a5487498df5f19
(cherry picked from commit 89db1b758acb624d7c9c32b28e6c5672d5c561d6)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/82/785382/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py']",2,56fdd04d45f089cd4d131a9c0d61ffcc30656d2c,,"import shlex # noqa: F402 detach_keys=dict(type='str', no_log=False), gidmap=dict(type='list', elements='str'), log_opt=dict(type='dict', aliases=['log_options'], options=dict( max_size=dict(type='str'), path=dict(type='str'), tag=dict(type='str'))), systemd=dict(type='str'), uidmap=dict(type='list', elements='str'), for gidmap in self.params['gidmap']: c += ['--gidmap', gidmap] return c for k, v in self.params['log_opt'].items(): if v is not None: c += ['--log-opt', b""="".join([to_bytes(k.replace('max_size', 'max-size'), errors='surrogate_or_strict'), to_bytes(v, errors='surrogate_or_strict')])] return c return c + ['--systemd=%s' % str(self.params['systemd']).lower()] if (LooseVersion(self.version) >= LooseVersion('3.0.0')): self.defaults['log_level'] = ""warning"" self.non_idempotent = {} before = [i.lower() for i in before] for cap in self.module_params['cap_add']: cap = cap.lower() cap = cap if cap.startswith('cap_') else 'cap_' + cap after.append(cap) before = [i.lower() for i in before] for cap in self.module_params['cap_drop']: cap = cap.lower() cap = cap if cap.startswith('cap_') else 'cap_' + cap if cap in after: after.remove(cap) after = shlex.split(after) after.update(self.params['env']) str(k).lower(): str(v) # Parameter has limited idempotency def diffparam_log_opt(self): before, after = {}, {} # Log path path_before = None if 'logpath' in self.info: path_before = self.info['logpath'] # For Podman v3 if ('logconfig' in self.info['hostconfig'] and 'path' in self.info['hostconfig']['logconfig']): path_before = self.info['hostconfig']['logconfig']['path'] if path_before is not None: if (self.module_params['log_opt'] and 'path' in self.module_params['log_opt'] and self.module_params['log_opt']['path'] is not None): path_after = self.params['log_opt']['path'] else: path_after = path_before if path_before != path_after: before.update({'log-path': path_before}) after.update({'log-path': path_after}) # Log tag tag_before = None if 'logtag' in self.info: tag_before = self.info['logtag'] # For Podman v3 if ('logconfig' in self.info['hostconfig'] and 'tag' in self.info['hostconfig']['logconfig']): tag_before = self.info['hostconfig']['logconfig']['tag'] if tag_before is not None: if (self.module_params['log_opt'] and 'tag' in self.module_params['log_opt'] and self.module_params['log_opt']['tag'] is not None): tag_after = self.params['log_opt']['tag'] else: tag_after = '' if tag_before != tag_after: before.update({'log-tag': tag_before}) after.update({'log-tag': tag_after}) def diffparam_mac_address(self): before = str(self.info['networksettings']['macaddress']) if self.module_params['mac_address'] is not None: after = self.params['mac_address'] else: after = before return self._diff_update_and_compare('mac_address', before, after) # Remove default 'podman' network in v3 for comparison if before == ['podman']: before = [] # Special case for options for slirp4netns rootless networking from v2 if net_mode_before == 'slirp4netns' and 'createcommand' in self.info['config']: cr_com = self.info['config']['createcommand'] if '--network' in cr_com: cr_net = cr_com[cr_com.index('--network') + 1].lower() if 'slirp4netns:' in cr_net: before = [cr_net] # For newer verions of Podman if 'resolvconfpath' in self.info: before = not bool(self.info['resolvconfpath']) def compose(p, h): s = "":"".join( [str(h[""hostport""]), p.replace('/tcp', '')] ).strip("":"") if h['hostip']: return "":"".join([h['hostip'], s]) return s before = [] for port, hosts in ports.items(): for h in hosts: before.append(compose(port, h)) after = [ i.replace(""/tcp"", """").replace(""["", """").replace(""]"", """") for i in after] ""sigsys"": ""31"", ""sigrtmin+3"": ""37"" if not x.rstrip(""/""): return ""/"""," detach_keys=dict(type='str'), gidmap=dict(type='str'), log_opt=dict(type='str', aliases=['log_options']), systemd=dict(type='bool'), uidmap=dict(type='list'), return c + ['--gidmap', self.params['gidmap']] return c + ['--log-opt', self.params['log_opt']] return c + ['--systemd=%s' % self.params['systemd']] self.non_idempotent = { 'env_file', # We can't get env vars from file to check 'env_host', } after += [""cap_"" + i.lower() for i in self.module_params['cap_add']] for c in [""cap_"" + i.lower() for i in self.module_params['cap_drop']]: if c in after: after.remove(c) after = [i.lower() for i in after.split()] elif isinstance(after, list): after = [i.lower() for i in after] after.update({ k: v for k, v in self.params['env'].items() }) str(k).lower(): str(v).lower() # Parameter has limited idempotency, unable to guess the default log_path def diffparam_log_opt(self): before = self.info['logpath'] if self.module_params['log_opt'] in [None, '']: after = before else: after = self.params['log_opt'].split(""="")[1] before = ["":"".join([ j[0]['hostip'], str(j[0][""hostport""]), i.replace('/tcp', '') ]).strip(':') for i, j in ports.items()] after = [i.replace(""/tcp"", """") for i in after] ""sigsys"": ""31""",143,44
openstack%2Ftripleo-ansible~stable%2Fussuri~I2d08a274c8fc7be510e987af08a5487498df5f19,openstack/tripleo-ansible,stable/ussuri,I2d08a274c8fc7be510e987af08a5487498df5f19,Update podman_container from the collection,MERGED,2021-04-08 14:30:31.000000000,2021-04-13 08:43:37.000000000,2021-04-13 08:43:37.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-08 14:30:31.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/89db1b758acb624d7c9c32b28e6c5672d5c561d6', 'message': 'Update podman_container from the collection\n\nFrom ansible podman collection 1.4.5\nChange-Id: I2d08a274c8fc7be510e987af08a5487498df5f19\n(cherry picked from commit 568c96e710ea5fae9f512e7d6c52d9aa0b680b48)\n'}]",0,785381,89db1b758acb624d7c9c32b28e6c5672d5c561d6,10,3,1,10969,,,0,"Update podman_container from the collection

From ansible podman collection 1.4.5
Change-Id: I2d08a274c8fc7be510e987af08a5487498df5f19
(cherry picked from commit 568c96e710ea5fae9f512e7d6c52d9aa0b680b48)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/81/785381/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py']",2,89db1b758acb624d7c9c32b28e6c5672d5c561d6,,"import shlex # noqa: F402 detach_keys=dict(type='str', no_log=False), gidmap=dict(type='list', elements='str'), log_opt=dict(type='dict', aliases=['log_options'], options=dict( max_size=dict(type='str'), path=dict(type='str'), tag=dict(type='str'))), systemd=dict(type='str'), uidmap=dict(type='list', elements='str'), for gidmap in self.params['gidmap']: c += ['--gidmap', gidmap] return c for k, v in self.params['log_opt'].items(): if v is not None: c += ['--log-opt', b""="".join([to_bytes(k.replace('max_size', 'max-size'), errors='surrogate_or_strict'), to_bytes(v, errors='surrogate_or_strict')])] return c return c + ['--systemd=%s' % str(self.params['systemd']).lower()] if (LooseVersion(self.version) >= LooseVersion('3.0.0')): self.defaults['log_level'] = ""warning"" self.non_idempotent = {} before = [i.lower() for i in before] for cap in self.module_params['cap_add']: cap = cap.lower() cap = cap if cap.startswith('cap_') else 'cap_' + cap after.append(cap) before = [i.lower() for i in before] for cap in self.module_params['cap_drop']: cap = cap.lower() cap = cap if cap.startswith('cap_') else 'cap_' + cap if cap in after: after.remove(cap) after = shlex.split(after) after.update(self.params['env']) str(k).lower(): str(v) # Parameter has limited idempotency def diffparam_log_opt(self): before, after = {}, {} # Log path path_before = None if 'logpath' in self.info: path_before = self.info['logpath'] # For Podman v3 if ('logconfig' in self.info['hostconfig'] and 'path' in self.info['hostconfig']['logconfig']): path_before = self.info['hostconfig']['logconfig']['path'] if path_before is not None: if (self.module_params['log_opt'] and 'path' in self.module_params['log_opt'] and self.module_params['log_opt']['path'] is not None): path_after = self.params['log_opt']['path'] else: path_after = path_before if path_before != path_after: before.update({'log-path': path_before}) after.update({'log-path': path_after}) # Log tag tag_before = None if 'logtag' in self.info: tag_before = self.info['logtag'] # For Podman v3 if ('logconfig' in self.info['hostconfig'] and 'tag' in self.info['hostconfig']['logconfig']): tag_before = self.info['hostconfig']['logconfig']['tag'] if tag_before is not None: if (self.module_params['log_opt'] and 'tag' in self.module_params['log_opt'] and self.module_params['log_opt']['tag'] is not None): tag_after = self.params['log_opt']['tag'] else: tag_after = '' if tag_before != tag_after: before.update({'log-tag': tag_before}) after.update({'log-tag': tag_after}) def diffparam_mac_address(self): before = str(self.info['networksettings']['macaddress']) if self.module_params['mac_address'] is not None: after = self.params['mac_address'] else: after = before return self._diff_update_and_compare('mac_address', before, after) # Remove default 'podman' network in v3 for comparison if before == ['podman']: before = [] # Special case for options for slirp4netns rootless networking from v2 if net_mode_before == 'slirp4netns' and 'createcommand' in self.info['config']: cr_com = self.info['config']['createcommand'] if '--network' in cr_com: cr_net = cr_com[cr_com.index('--network') + 1].lower() if 'slirp4netns:' in cr_net: before = [cr_net] # For newer verions of Podman if 'resolvconfpath' in self.info: before = not bool(self.info['resolvconfpath']) def compose(p, h): s = "":"".join( [str(h[""hostport""]), p.replace('/tcp', '')] ).strip("":"") if h['hostip']: return "":"".join([h['hostip'], s]) return s before = [] for port, hosts in ports.items(): for h in hosts: before.append(compose(port, h)) after = [ i.replace(""/tcp"", """").replace(""["", """").replace(""]"", """") for i in after] ""sigsys"": ""31"", ""sigrtmin+3"": ""37"" if not x.rstrip(""/""): return ""/"""," detach_keys=dict(type='str'), gidmap=dict(type='str'), log_opt=dict(type='str', aliases=['log_options']), systemd=dict(type='bool'), uidmap=dict(type='list'), return c + ['--gidmap', self.params['gidmap']] return c + ['--log-opt', self.params['log_opt']] return c + ['--systemd=%s' % self.params['systemd']] self.non_idempotent = { 'env_file', # We can't get env vars from file to check 'env_host', } after += [""cap_"" + i.lower() for i in self.module_params['cap_add']] for c in [""cap_"" + i.lower() for i in self.module_params['cap_drop']]: if c in after: after.remove(c) after = [i.lower() for i in after.split()] elif isinstance(after, list): after = [i.lower() for i in after] after.update({ k: v for k, v in self.params['env'].items() }) str(k).lower(): str(v).lower() # Parameter has limited idempotency, unable to guess the default log_path def diffparam_log_opt(self): before = self.info['logpath'] if self.module_params['log_opt'] in [None, '']: after = before else: after = self.params['log_opt'].split(""="")[1] before = ["":"".join([ j[0]['hostip'], str(j[0][""hostport""]), i.replace('/tcp', '') ]).strip(':') for i, j in ports.items()] after = [i.replace(""/tcp"", """") for i in after] ""sigsys"": ""31""",143,44
openstack%2Ftripleo-ansible~stable%2Fvictoria~I2d08a274c8fc7be510e987af08a5487498df5f19,openstack/tripleo-ansible,stable/victoria,I2d08a274c8fc7be510e987af08a5487498df5f19,Update podman_container from the collection,MERGED,2021-04-08 14:30:12.000000000,2021-04-13 08:43:33.000000000,2021-04-13 08:43:33.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-08 14:30:12.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/268c7256511eeb179c03283a48886923391b1bd8', 'message': 'Update podman_container from the collection\n\nFrom ansible podman collection 1.4.5\nChange-Id: I2d08a274c8fc7be510e987af08a5487498df5f19\n(cherry picked from commit 568c96e710ea5fae9f512e7d6c52d9aa0b680b48)\n'}]",0,785380,268c7256511eeb179c03283a48886923391b1bd8,7,3,1,10969,,,0,"Update podman_container from the collection

From ansible podman collection 1.4.5
Change-Id: I2d08a274c8fc7be510e987af08a5487498df5f19
(cherry picked from commit 568c96e710ea5fae9f512e7d6c52d9aa0b680b48)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/80/785380/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py']",2,268c7256511eeb179c03283a48886923391b1bd8,,"import shlex # noqa: F402 detach_keys=dict(type='str', no_log=False), gidmap=dict(type='list', elements='str'), log_opt=dict(type='dict', aliases=['log_options'], options=dict( max_size=dict(type='str'), path=dict(type='str'), tag=dict(type='str'))), systemd=dict(type='str'), uidmap=dict(type='list', elements='str'), for gidmap in self.params['gidmap']: c += ['--gidmap', gidmap] return c for k, v in self.params['log_opt'].items(): if v is not None: c += ['--log-opt', b""="".join([to_bytes(k.replace('max_size', 'max-size'), errors='surrogate_or_strict'), to_bytes(v, errors='surrogate_or_strict')])] return c return c + ['--systemd=%s' % str(self.params['systemd']).lower()] if (LooseVersion(self.version) >= LooseVersion('3.0.0')): self.defaults['log_level'] = ""warning"" self.non_idempotent = {} before = [i.lower() for i in before] for cap in self.module_params['cap_add']: cap = cap.lower() cap = cap if cap.startswith('cap_') else 'cap_' + cap after.append(cap) before = [i.lower() for i in before] for cap in self.module_params['cap_drop']: cap = cap.lower() cap = cap if cap.startswith('cap_') else 'cap_' + cap if cap in after: after.remove(cap) after = shlex.split(after) after.update(self.params['env']) str(k).lower(): str(v) # Parameter has limited idempotency def diffparam_log_opt(self): before, after = {}, {} # Log path path_before = None if 'logpath' in self.info: path_before = self.info['logpath'] # For Podman v3 if ('logconfig' in self.info['hostconfig'] and 'path' in self.info['hostconfig']['logconfig']): path_before = self.info['hostconfig']['logconfig']['path'] if path_before is not None: if (self.module_params['log_opt'] and 'path' in self.module_params['log_opt'] and self.module_params['log_opt']['path'] is not None): path_after = self.params['log_opt']['path'] else: path_after = path_before if path_before != path_after: before.update({'log-path': path_before}) after.update({'log-path': path_after}) # Log tag tag_before = None if 'logtag' in self.info: tag_before = self.info['logtag'] # For Podman v3 if ('logconfig' in self.info['hostconfig'] and 'tag' in self.info['hostconfig']['logconfig']): tag_before = self.info['hostconfig']['logconfig']['tag'] if tag_before is not None: if (self.module_params['log_opt'] and 'tag' in self.module_params['log_opt'] and self.module_params['log_opt']['tag'] is not None): tag_after = self.params['log_opt']['tag'] else: tag_after = '' if tag_before != tag_after: before.update({'log-tag': tag_before}) after.update({'log-tag': tag_after}) def diffparam_mac_address(self): before = str(self.info['networksettings']['macaddress']) if self.module_params['mac_address'] is not None: after = self.params['mac_address'] else: after = before return self._diff_update_and_compare('mac_address', before, after) # Remove default 'podman' network in v3 for comparison if before == ['podman']: before = [] # Special case for options for slirp4netns rootless networking from v2 if net_mode_before == 'slirp4netns' and 'createcommand' in self.info['config']: cr_com = self.info['config']['createcommand'] if '--network' in cr_com: cr_net = cr_com[cr_com.index('--network') + 1].lower() if 'slirp4netns:' in cr_net: before = [cr_net] # For newer verions of Podman if 'resolvconfpath' in self.info: before = not bool(self.info['resolvconfpath']) def compose(p, h): s = "":"".join( [str(h[""hostport""]), p.replace('/tcp', '')] ).strip("":"") if h['hostip']: return "":"".join([h['hostip'], s]) return s before = [] for port, hosts in ports.items(): for h in hosts: before.append(compose(port, h)) after = [ i.replace(""/tcp"", """").replace(""["", """").replace(""]"", """") for i in after] ""sigsys"": ""31"", ""sigrtmin+3"": ""37"" if not x.rstrip(""/""): return ""/"""," detach_keys=dict(type='str'), gidmap=dict(type='str'), log_opt=dict(type='str', aliases=['log_options']), systemd=dict(type='bool'), uidmap=dict(type='list'), return c + ['--gidmap', self.params['gidmap']] return c + ['--log-opt', self.params['log_opt']] return c + ['--systemd=%s' % self.params['systemd']] self.non_idempotent = { 'env_file', # We can't get env vars from file to check 'env_host', } after += [""cap_"" + i.lower() for i in self.module_params['cap_add']] for c in [""cap_"" + i.lower() for i in self.module_params['cap_drop']]: if c in after: after.remove(c) after = [i.lower() for i in after.split()] elif isinstance(after, list): after = [i.lower() for i in after] after.update({ k: v for k, v in self.params['env'].items() }) str(k).lower(): str(v).lower() # Parameter has limited idempotency, unable to guess the default log_path def diffparam_log_opt(self): before = self.info['logpath'] if self.module_params['log_opt'] in [None, '']: after = before else: after = self.params['log_opt'].split(""="")[1] before = ["":"".join([ j[0]['hostip'], str(j[0][""hostport""]), i.replace('/tcp', '') ]).strip(':') for i, j in ports.items()] after = [i.replace(""/tcp"", """") for i in after] ""sigsys"": ""31""",143,44
openstack%2Fpuppet-tripleo~stable%2Fussuri~If804dc369c5883eeb51f7e6dcd01ee0e5967c7cf,openstack/puppet-tripleo,stable/ussuri,If804dc369c5883eeb51f7e6dcd01ee0e5967c7cf,Always update the local certmonger ca cert,MERGED,2021-04-06 15:33:19.000000000,2021-04-13 08:43:29.000000000,2021-04-13 08:43:29.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-06 15:33:19.000000000', 'files': ['manifests/certmonger/ca/local.pp', 'spec/classes/tripleo_certmonger_ca_local_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/017ced4d978f472667fa2f34246381833857e7c4', 'message': 'Always update the local certmonger ca cert\n\nThe local certmonger cert will renew after half its lifetime, which will\nbe after 6 months by default.  The current code would extract the CA cert\nto a PEM file (and trust it), only if the cert in the existing PEM file\nwas expired.\n\nBut this means that the certmonger local cert could be renewed after six\nmonths and not be replaced in the PEM file until the existing cert\nexpired at the end of the year.  If certs are issued in this time, they\nwill not be trusted and the update will fail.\n\nThis patch removes this condition, so that the extracted and trusted cert\nalways matches what is in the PEM file, and what is trusted.\n\nNote, this only place this occurs is on the undercloud - because this is\nwhere we could use the certmonger local cert.  We assume that the haproxy\ncert will be re-issued in an update.\n\nChange-Id: If804dc369c5883eeb51f7e6dcd01ee0e5967c7cf\n'}]",0,784976,017ced4d978f472667fa2f34246381833857e7c4,8,9,1,9914,,,0,"Always update the local certmonger ca cert

The local certmonger cert will renew after half its lifetime, which will
be after 6 months by default.  The current code would extract the CA cert
to a PEM file (and trust it), only if the cert in the existing PEM file
was expired.

But this means that the certmonger local cert could be renewed after six
months and not be replaced in the PEM file until the existing cert
expired at the end of the year.  If certs are issued in this time, they
will not be trusted and the update will fail.

This patch removes this condition, so that the extracted and trusted cert
always matches what is in the PEM file, and what is trusted.

Note, this only place this occurs is on the undercloud - because this is
where we could use the certmonger local cert.  We assume that the haproxy
cert will be re-issued in an update.

Change-Id: If804dc369c5883eeb51f7e6dcd01ee0e5967c7cf
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/76/784976/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/certmonger/ca/local.pp', 'spec/classes/tripleo_certmonger_ca_local_spec.rb']",2,017ced4d978f472667fa2f34246381833857e7c4,fix_renewed_ca_cert-stable/victoria-stable/ussuri, is_expected.to contain_exec('extract-and-trust-ca')," is_expected.to contain_exec('extract-and-trust-ca').with( :unless => ""test -e #{params[:ca_pem]} && openssl x509 -checkend 0 -noout -in #{params[:ca_pem]}"", )",1,4
openstack%2Fneutron-tempest-plugin~master~Ic2731f7b3846e3cb5ca2a0f6fb36143931fb3587,openstack/neutron-tempest-plugin,master,Ic2731f7b3846e3cb5ca2a0f6fb36143931fb3587,Add waiter for default sec/group check,ABANDONED,2021-04-12 12:35:28.000000000,2021-04-13 08:19:28.000000000,,"[{'_account_id': 15554}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-12 12:35:28.000000000', 'files': ['neutron_tempest_plugin/api/admin/test_security_groups.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/5e7630b9ced58c80cf97a7c7a060e2cc56f2aba7', 'message': 'Add waiter for default sec/group check\n\ntest_security_group_recreated_on_port_update sporadically fails as no\ndefault security-group presents after port updte.\nA solution can be to add a waiter for the check.\n\nCloses-Bug: #1923449\nChange-Id: Ic2731f7b3846e3cb5ca2a0f6fb36143931fb3587\n'}]",2,785864,5e7630b9ced58c80cf97a7c7a060e2cc56f2aba7,5,2,1,8313,,,0,"Add waiter for default sec/group check

test_security_group_recreated_on_port_update sporadically fails as no
default security-group presents after port updte.
A solution can be to add a waiter for the check.

Closes-Bug: #1923449
Change-Id: Ic2731f7b3846e3cb5ca2a0f6fb36143931fb3587
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/64/785864/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/admin/test_security_groups.py'],1,5e7630b9ced58c80cf97a7c7a060e2cc56f2aba7,bug/1923449,"from neutron_tempest_plugin.common import utils def _check_default_exists(self): names = [ sg['name'] for sg in self.client.list_security_groups()['security_groups'] ] return 'default' in names utils.wait_until_true(self._check_default_exists, timeout=30)"," names = [ sg['name'] for sg in self.client.list_security_groups()['security_groups'] ] self.assertIn('default', names)",9,5
openstack%2Fpuppet-swift~stable%2Ftrain~Ifbedd1b48f45f2d8970d4f6a787d0da4e442d693,openstack/puppet-swift,stable/train,Ifbedd1b48f45f2d8970d4f6a787d0da4e442d693,Add parameter memcache_max_connections,MERGED,2021-03-31 13:31:11.000000000,2021-04-13 07:47:37.000000000,2021-04-13 07:45:33.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 29349}]","[{'number': 1, 'created': '2021-03-31 13:31:11.000000000', 'files': ['releasenotes/notes/swift-memcache-max-connections-50876054c14dbdd5.yaml', 'spec/classes/swift_proxy_cache_spec.rb', 'manifests/proxy/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/d36c510110983dc80bdf49c1aeb98bdf46fe3170', 'message': 'Add parameter memcache_max_connections\n\nThis add parameter memcache_max_connections as new parameter for class\nproxy::cache.\n\nChange-Id: Ifbedd1b48f45f2d8970d4f6a787d0da4e442d693\n(cherry picked from commit 2a6175e2f7b1300ef26e0c12172a53a81cdeb166)\n'}]",0,784042,d36c510110983dc80bdf49c1aeb98bdf46fe3170,9,8,1,9816,,,0,"Add parameter memcache_max_connections

This add parameter memcache_max_connections as new parameter for class
proxy::cache.

Change-Id: Ifbedd1b48f45f2d8970d4f6a787d0da4e442d693
(cherry picked from commit 2a6175e2f7b1300ef26e0c12172a53a81cdeb166)
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/42/784042/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/swift-memcache-max-connections-50876054c14dbdd5.yaml', 'spec/classes/swift_proxy_cache_spec.rb', 'manifests/proxy/cache.pp']",3,d36c510110983dc80bdf49c1aeb98bdf46fe3170,memcache_max_connections-stable/train,"# [*memcache_max_connections*] Sets the maximum number of connections to # each memcached server per worker # $memcache_servers = ['127.0.0.1:11211'], $memcache_max_connections = '2' 'filter:cache/use': value => 'egg:swift#memcache'; 'filter:cache/memcache_servers': value => join(any2array($memcache_servers), ','); 'filter:cache/memcache_max_connections': value => $memcache_max_connections;"," $memcache_servers = ['127.0.0.1:11211'] 'filter:cache/use': value => 'egg:swift#memcache'; 'filter:cache/memcache_servers': value => join(any2array($memcache_servers), ',');",51,27
openstack%2Frequirements~stable%2Fwallaby~I946455079c179aca6edc1afa179a4a2bdc2ca4f8,openstack/requirements,stable/wallaby,I946455079c179aca6edc1afa179a4a2bdc2ca4f8,update constraint for horizon to new release 19.2.0,MERGED,2021-04-12 09:15:12.000000000,2021-04-13 07:43:28.000000000,2021-04-13 07:43:28.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-12 09:15:12.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/17b9c21a43c0cc40e58d10416aa686c417673f8e', 'message': 'update constraint for horizon to new release 19.2.0\n\nmeta: version: 19.2.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Akihiro Motoki <amotoki@gmail.com>\nmeta: release:Commit: Akihiro Motoki <amotoki@gmail.com>\nmeta: release:Change-Id: Ic1179b0f4173fc05b7e4f3238d4aa6c88d9df5df\nmeta: release:Code-Review+1: Vishal Manchanda <manchandavishal143@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I946455079c179aca6edc1afa179a4a2bdc2ca4f8\n'}]",0,785837,17b9c21a43c0cc40e58d10416aa686c417673f8e,12,2,1,11131,,,0,"update constraint for horizon to new release 19.2.0

meta: version: 19.2.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Akihiro Motoki <amotoki@gmail.com>
meta: release:Commit: Akihiro Motoki <amotoki@gmail.com>
meta: release:Change-Id: Ic1179b0f4173fc05b7e4f3238d4aa6c88d9df5df
meta: release:Code-Review+1: Vishal Manchanda <manchandavishal143@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I946455079c179aca6edc1afa179a4a2bdc2ca4f8
",git fetch https://review.opendev.org/openstack/requirements refs/changes/37/785837/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,17b9c21a43c0cc40e58d10416aa686c417673f8e,new-release,horizon===19.2.0,horizon===19.1.0,1,1
openstack%2Fpuppet-openstack-integration~stable%2Fvictoria~I7c82eb6d01578090055c5ada6b790a241808d067,openstack/puppet-openstack-integration,stable/victoria,I7c82eb6d01578090055c5ada6b790a241808d067,Fix the wrong git reset command,MERGED,2021-02-23 15:36:13.000000000,2021-04-13 07:41:57.000000000,2021-04-13 07:41:57.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 15:36:13.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d20760c321da547056519d5693ad8e0ba78d227d', 'message': 'Fix the wrong git reset command\n\nWe should use <tag> instead of origin/<tag> to reset to the specific\ntag.\n\nChange-Id: I7c82eb6d01578090055c5ada6b790a241808d067\n(cherry picked from commit be70c381e7333c3f7b451d3697525b3f4a2b4e4e)\n'}]",0,777118,d20760c321da547056519d5693ad8e0ba78d227d,7,3,1,9816,,,0,"Fix the wrong git reset command

We should use <tag> instead of origin/<tag> to reset to the specific
tag.

Change-Id: I7c82eb6d01578090055c5ada6b790a241808d067
(cherry picked from commit be70c381e7333c3f7b451d3697525b3f4a2b4e4e)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/18/777118/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,d20760c321da547056519d5693ad8e0ba78d227d,tempest-neutron-stable/victoria, git reset --hard $TEMPEST_VERSION, git reset --hard origin/$TEMPEST_VERSION,1,1
openstack%2Ftripleo-common~stable%2Ftrain~I3e58de46835307d4332b34d22d2895e6382292dd,openstack/tripleo-common,stable/train,I3e58de46835307d4332b34d22d2895e6382292dd,"Revert ""Revert ""Fix a couple of Swift healthchecks""""",MERGED,2021-04-12 10:36:39.000000000,2021-04-13 07:19:00.000000000,2021-04-13 07:16:58.000000000,"[{'_account_id': 6968}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-12 10:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7d2449d74f7db49f02ecf3aee6decdcf83f4bcda', 'message': 'Revert ""Revert ""Fix a couple of Swift healthchecks""""\n\nThis reverts commit 750b562521b507aab555862f01b74e56f8119861.\n\nDepending on the used procps version, the output of ""ps -e"" is width\nlimited and thus not matching the quite long process names. Using\n""ps -ef"" fixes this, along with a small hack in the piped grep to filter\nout grep itself (pgrep itself is not working for this).\n\nRemoves swift-*-replicator because it does not seem to be used\nanymore in any of the container build configurations.\n\nThis change removes the renames from the previous commit because they\nare backwards incompatible depending on how the containers are built. We\nuse healthcheck from the openstack-tripleo-common-containers-base which\nis a package. If this package does not have the new file names (or old\nfilenames) and the containers are built with a different version of\ntripleo-common, the container builds fail.  So let\'s skip renaming of\nfiles so that we can deal with that as a separate issue as a whole.\n\nChange-Id: I3e58de46835307d4332b34d22d2895e6382292dd\n(cherry picked from commit 21fd04f038e1a90223e156082f780501846fde3c)\n(cherry picked from commit 8c385c363339154c43af372a23825bfec66df88c)\n'}, {'number': 2, 'created': '2021-04-12 10:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0949e8a06be9987ff26425825e4a685fda9c005f', 'message': 'Revert ""Revert ""Fix a couple of Swift healthchecks""""\n\nThis reverts commit 750b562521b507aab555862f01b74e56f8119861.\n\nDepending on the used procps version, the output of ""ps -e"" is width\nlimited and thus not matching the quite long process names. Using\n""ps -ef"" fixes this, along with a small hack in the piped grep to filter\nout grep itself (pgrep itself is not working for this).\n\nRemoves swift-*-replicator because it does not seem to be used\nanymore in any of the container build configurations.\n\nThis change removes the renames from the previous commit because they\nare backwards incompatible depending on how the containers are built. We\nuse healthcheck from the openstack-tripleo-common-containers-base which\nis a package. If this package does not have the new file names (or old\nfilenames) and the containers are built with a different version of\ntripleo-common, the container builds fail.  So let\'s skip renaming of\nfiles so that we can deal with that as a separate issue as a whole.\n\nChange-Id: I3e58de46835307d4332b34d22d2895e6382292dd\n(cherry picked from commit 21fd04f038e1a90223e156082f780501846fde3c)\n(cherry picked from commit 8c385c363339154c43af372a23825bfec66df88c)\n(cherry picked from commit 7d2449d74f7db49f02ecf3aee6decdcf83f4bcda)\n'}, {'number': 3, 'created': '2021-04-12 10:51:04.000000000', 'files': ['healthcheck/releasenotes/notes/swift-fix-healthchecks-b3a02139230f4258.yaml', 'healthcheck/swift-object-replicator', 'healthcheck/swift-account-replicator', 'healthcheck/swift-container-replicator', 'healthcheck/common.sh', 'healthcheck/swift-object-server', 'healthcheck/swift-account-server', 'healthcheck/swift-container-server', 'healthcheck/swift-proxy'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dbdaa05dc6111704fc69c8b7d29dee2936422fa2', 'message': 'Revert ""Revert ""Fix a couple of Swift healthchecks""""\n\nThis reverts commit 750b562521b507aab555862f01b74e56f8119861.\n\nDepending on the used procps version, the output of ""ps -e"" is width\nlimited and thus not matching the quite long process names. Using\n""ps -ef"" fixes this, along with a small hack in the piped grep to filter\nout grep itself (pgrep itself is not working for this).\n\nRemoves swift-*-replicator because it does not seem to be used\nanymore in any of the container build configurations.\n\nThis change removes the renames from the previous commit because they\nare backwards incompatible depending on how the containers are built. We\nuse healthcheck from the openstack-tripleo-common-containers-base which\nis a package. If this package does not have the new file names (or old\nfilenames) and the containers are built with a different version of\ntripleo-common, the container builds fail.  So let\'s skip renaming of\nfiles so that we can deal with that as a separate issue as a whole.\n\nChange-Id: I3e58de46835307d4332b34d22d2895e6382292dd\n(cherry picked from commit 21fd04f038e1a90223e156082f780501846fde3c)\n(cherry picked from commit 8c385c363339154c43af372a23825bfec66df88c)\n(cherry picked from commit 22ecc9c65ba812057b6106dc047980a57a8fd268)\n'}]",0,785846,dbdaa05dc6111704fc69c8b7d29dee2936422fa2,10,4,3,6796,,,0,"Revert ""Revert ""Fix a couple of Swift healthchecks""""

This reverts commit 750b562521b507aab555862f01b74e56f8119861.

Depending on the used procps version, the output of ""ps -e"" is width
limited and thus not matching the quite long process names. Using
""ps -ef"" fixes this, along with a small hack in the piped grep to filter
out grep itself (pgrep itself is not working for this).

Removes swift-*-replicator because it does not seem to be used
anymore in any of the container build configurations.

This change removes the renames from the previous commit because they
are backwards incompatible depending on how the containers are built. We
use healthcheck from the openstack-tripleo-common-containers-base which
is a package. If this package does not have the new file names (or old
filenames) and the containers are built with a different version of
tripleo-common, the container builds fail.  So let's skip renaming of
files so that we can deal with that as a separate issue as a whole.

Change-Id: I3e58de46835307d4332b34d22d2895e6382292dd
(cherry picked from commit 21fd04f038e1a90223e156082f780501846fde3c)
(cherry picked from commit 8c385c363339154c43af372a23825bfec66df88c)
(cherry picked from commit 22ecc9c65ba812057b6106dc047980a57a8fd268)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/46/785846/1 && git format-patch -1 --stdout FETCH_HEAD,"['healthcheck/releasenotes/notes/swift-fix-healthchecks-b3a02139230f4258.yaml', 'healthcheck/swift-object-replicator', 'healthcheck/swift-account-replicator', 'healthcheck/swift-container-replicator', 'healthcheck/common.sh', 'healthcheck/swift-object-server', 'healthcheck/swift-account-server', 'healthcheck/swift-container-server', 'healthcheck/swift-proxy']",9,7d2449d74f7db49f02ecf3aee6decdcf83f4bcda,stable/ussuri,if ps -ef | grep --quiet [s]wift-proxy-server; then,if pgrep -f swift-proxy-server; then,28,29
openstack%2Fos-apply-config~stable%2Fvictoria~Ifde13cba0845c2ed5da3604deec4e37cea3cc4db,openstack/os-apply-config,stable/victoria,Ifde13cba0845c2ed5da3604deec4e37cea3cc4db,Update TOX_CONSTRAINTS_FILE for stable/victoria,MERGED,2021-01-04 10:30:57.000000000,2021-04-13 07:17:05.000000000,2021-04-13 07:17:05.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-04 10:30:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/8ebbbe9190ae1990e576a2cad7c23763a5a6278d', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ifde13cba0845c2ed5da3604deec4e37cea3cc4db\n'}]",0,769123,8ebbbe9190ae1990e576a2cad7c23763a5a6278d,12,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/victoria

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ifde13cba0845c2ed5da3604deec4e37cea3cc4db
",git fetch https://review.opendev.org/openstack/os-apply-config refs/changes/23/769123/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8ebbbe9190ae1990e576a2cad7c23763a5a6278d,create-victoria, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fos-apply-config~stable%2Fvictoria~I3b4638a4116f570900fdcc7a5def68c3f2c83c0c,openstack/os-apply-config,stable/victoria,I3b4638a4116f570900fdcc7a5def68c3f2c83c0c,Update .gitreview for stable/victoria,MERGED,2021-01-04 10:30:54.000000000,2021-04-13 07:17:02.000000000,2021-04-13 07:17:02.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-04 10:30:54.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/4f79e1f0fc0e92901bbe419e27336e56c3e26528', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: I3b4638a4116f570900fdcc7a5def68c3f2c83c0c\n'}]",0,769122,4f79e1f0fc0e92901bbe419e27336e56c3e26528,8,3,1,22816,,,0,"Update .gitreview for stable/victoria

Change-Id: I3b4638a4116f570900fdcc7a5def68c3f2c83c0c
",git fetch https://review.opendev.org/openstack/os-apply-config refs/changes/22/769122/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,4f79e1f0fc0e92901bbe419e27336e56c3e26528,create-victoria,defaultbranch=stable/victoria,,1,0
openstack%2Ftripleo-quickstart~master~I989a3874f6e0c365d6a8607732e2465d4d776b99,openstack/tripleo-quickstart,master,I989a3874f6e0c365d6a8607732e2465d4d776b99,remove old unused files from tq,NEW,2021-04-09 19:03:03.000000000,2021-04-13 06:56:11.000000000,,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-09 19:03:03.000000000', 'files': ['ci-scripts/usbkey/usb_requirements.txt', 'ci-scripts/usbkey/ansible_env', 'ci-scripts/validate-yaml', 'ci-scripts/usbkey/quickstart-usb.yml', 'ci-scripts/usbkey/quickstart.sh', 'ci-scripts/usbkey/RUN_ME.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7be587b450fabb663f16ef6ec362c069dc2a8171', 'message': 'remove old unused files from tq\n\nChange-Id: I989a3874f6e0c365d6a8607732e2465d4d776b99\n'}]",1,785695,7be587b450fabb663f16ef6ec362c069dc2a8171,4,3,1,9592,,,0,"remove old unused files from tq

Change-Id: I989a3874f6e0c365d6a8607732e2465d4d776b99
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/95/785695/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci-scripts/usbkey/ansible_env', 'ci-scripts/usbkey/usb_requirements.txt', 'ci-scripts/validate-yaml', 'ci-scripts/usbkey/quickstart-usb.yml', 'ci-scripts/usbkey/quickstart.sh', 'ci-scripts/usbkey/RUN_ME.sh']",6,7be587b450fabb663f16ef6ec362c069dc2a8171,,,"#!/bin/bash set -e ###################################################################### # This script is part of the ooo-quickstart usbkey. It's designed # to execute the quickstart from a usbkey on a test machine directly. # ###################################################################### if [ -f /etc/redhat-release ]; then if grep -q -i ""Red Hat\|CentOS"" /etc/redhat-release; then true; else echo ""Red Hat Enterprise Linux and CentOS are currently supported"" echo ""We are working to add support for Fedora."" exit 1 fi else echo ""Sorry your linux distribution is not supported at this time"" exit 1 fi SCRIPT=$( readlink -f ""${BASH_SOURCE[0]}"" ) USB_DIR=$( dirname $SCRIPT ) #Set ansible environmental variables source $USB_DIR/ansible_env #launch quickstart using the local image against the localhost pushd $USB_DIR/tripleo-quickstart export COMMAND=""bash quickstart.sh \ --playbook quickstart-usb.yml \ --extra-vars image_cache_dir=$HOME \ --extra-vars undercloud_image_url=file://$USB_DIR/undercloud.qcow2 \ localhost"" #check if the current user is root if [[ $USER == root ]]; then echo ""Use a non-root user with sudo permissions instead of root, exiting"" exit fi echo ""==================================================================="" echo ""Installing Dependencies"" sudo bash quickstart.sh --install-deps echo ""==================================================================="" echo ""Running tripelo-quickstart in 15 seconds w/ the following command"" echo """" echo ""See https://github.com/openstack/tripleo-quickstart for the latest"" echo ""documenation and source code"" echo ""==================================================================="" echo """" echo $COMMAND sleep 15 $COMMAND echo """" cat <<EOF ################################## Note to ooo-usbkey users ################################## Access the undercloud by: ssh -F $HOME/.quickstart/ssh.config.local.ansible undercloud Note: Using quickstart directly on the localhost requires a separate ssh config file. Proceed with the above instructions. ################################## Note to ooo-usbkey users ################################## EOF popd ",0,601
openstack%2Frequirements~master~Id36985024db81eb9c9d6c5f3d8c7b10243029961,openstack/requirements,master,Id36985024db81eb9c9d6c5f3d8c7b10243029961,Updated from generate-constraints,MERGED,2021-04-10 06:22:03.000000000,2021-04-13 06:37:15.000000000,2021-04-13 06:35:43.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-10 06:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b316a7e57bddae2ee793d0d0aba7110839d7761f', 'message': 'Updated from generate-constraints\n\nChange-Id: Id36985024db81eb9c9d6c5f3d8c7b10243029961\n'}, {'number': 2, 'created': '2021-04-11 06:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a22ff204eabec4c335587f54ea31787e9717e734', 'message': 'Updated from generate-constraints\n\nChange-Id: Id36985024db81eb9c9d6c5f3d8c7b10243029961\n'}, {'number': 3, 'created': '2021-04-12 06:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b523fcd7c5ad4cd54dbe090204f3d61a79d19cec', 'message': 'Updated from generate-constraints\n\nChange-Id: Id36985024db81eb9c9d6c5f3d8c7b10243029961\n'}, {'number': 4, 'created': '2021-04-12 21:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/292cfeb31d5a1f1aef1e29c0768ac61a0e10fd65', 'message': 'Updated from generate-constraints\n\nChange-Id: Id36985024db81eb9c9d6c5f3d8c7b10243029961\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 5, 'created': '2021-04-12 23:48:19.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/611b082c85984f55acbcea2add8e78020e089d89', 'message': 'Updated from generate-constraints\n\nChange-Id: Id36985024db81eb9c9d6c5f3d8c7b10243029961\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,785745,611b082c85984f55acbcea2add8e78020e089d89,21,2,5,11131,,,0,"Updated from generate-constraints

Change-Id: Id36985024db81eb9c9d6c5f3d8c7b10243029961
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/45/785745/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b316a7e57bddae2ee793d0d0aba7110839d7761f,openstack/requirements/constraints/noclob,smmap===4.0.0lxml===4.6.3ntc-templates===2.0.0pytest===6.2.3Pint===0.17grpcio===1.37.0persist-queue===0.6.0ddt===1.4.2moto===2.0.4networkx===2.5.1Pillow===8.2.0google-api-core===1.26.3zeroconf===0.29.0scipy===1.6.2;python_version=='3.8'responses===0.13.2 croniter===1.0.11soupsieve===2.2.1jsonpointer===2.1pyghmi===1.5.25SQLAlchemy===1.4.7 pyroute2===0.5.17 google-auth===1.28.1urllib3===1.26.4ovs===2.13.3 cryptography===3.4.7prometheus-client===0.10.1gunicorn===20.1.0libvirt-python===7.2.0amqp===5.0.6google-api-python-client===2.1.0cassandra-driver===3.25.0nodeenv===1.6.0importlib-metadata===3.10.0docutils===0.17boto3===1.17.49exabgp===4.2.13s3transfer===0.3.6gitdb===4.0.7keyring===23.0.1 elementpath===2.2.1infinisdk===185.1.1protobuf===3.15.8sympy===1.8numpy===1.20.2;python_version=='3.8'Sphinx===3.5.3httplib2===0.19.1construct===2.10.66salt===3003botocore===1.20.49Django===2.2.20jsonpatch===1.32dulwich===0.20.21falcon===3.0.0hvac===0.10.9pkg-resources===0.0.0tenacity===7.0.0monotonic===1.6 xmlschema===1.6.0ceilometer===15.0.0 diskimage-builder===3.9.0docker===5.0.0alembic===1.5.8sphinxcontrib-programoutput===0.17confluent-kafka===1.6.1httpx===0.17.1virtualenv===20.4.3,smmap===3.0.5lxml===4.6.2ntc-templates===1.7.0pytest===6.2.2Pint===0.16.1grpcio===1.36.1persist-queue===0.5.1ddt===1.4.1moto===2.0.1networkx===2.5Pillow===8.1.2google-api-core===1.26.1zeroconf===0.28.8scipy===1.6.1;python_version=='3.8'responses===0.12.1 croniter===1.0.8soupsieve===2.2jsonpointer===2.0pyghmi===1.5.23SQLAlchemy===1.3.23 pyroute2===0.5.14 google-auth===1.27.1urllib3===1.26.3ovs===2.13.0 cryptography===3.4.6prometheus-client===0.9.0gunicorn===20.0.4libvirt-python===7.1.0amqp===5.0.5google-api-python-client===2.0.2cassandra-driver===3.24.0nodeenv===1.5.0importlib-metadata===3.7.2docutils===0.16boto3===1.17.26exabgp===4.2.11s3transfer===0.3.4gitdb===4.0.5natsort===7.1.1keyring===23.0.0 elementpath===2.2.0infinisdk===161.1.3protobuf===3.15.6sympy===1.7.1numpy===1.20.1;python_version=='3.8'Sphinx===3.5.2httplib2===0.19.0construct===2.10.61salt===3002.5botocore===1.20.26Django===2.2.19jsonpatch===1.31dulwich===0.20.20falcon===2.0.0hvac===0.10.8tenacity===6.3.1monotonic===1.5 xmlschema===1.5.2ceilometer===16.0.0.0rc1 diskimage-builder===3.7.0docker===4.4.4alembic===1.5.7sphinxcontrib-programoutput===0.16confluent-kafka===1.6.0httpx===0.17.0virtualenv===20.4.2setuptools===54.1.1,66,67
openstack%2Ftripleo-heat-templates~master~I542956aef6da63a376790ec87d4767196ff85067,openstack/tripleo-heat-templates,master,I542956aef6da63a376790ec87d4767196ff85067,Remove no longer used NovaNfsEnabled parameter and condtion,MERGED,2021-03-25 16:10:38.000000000,2021-04-13 06:30:57.000000000,2021-04-13 06:30:57.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-03-25 16:10:38.000000000', 'files': ['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d2f6a3be26b2de2bb6aabf9e5bd3accfacc01916', 'message': 'Remove no longer used NovaNfsEnabled parameter and condtion\n\nWith Id5503ed274bd5dc0c5365cc994de7e5cdcbc2fb6 the handling of\n/var/lib/nova on NFS changed and NovaNfsEnabled and nova_nfs_enabled\ncondition is no longer used in most of the deployment files.\n\nThis cleans up the no longer used parameter and condition in\nnova-compute-container-puppet.yaml, nova-ironic-container-puppet.yaml\nnova-libvirt-container-puppet.yaml and nova-migration-target-container-puppet.yaml\n\nChange-Id: I542956aef6da63a376790ec87d4767196ff85067\n'}]",0,783045,d2f6a3be26b2de2bb6aabf9e5bd3accfacc01916,12,8,1,17216,,,0,"Remove no longer used NovaNfsEnabled parameter and condtion

With Id5503ed274bd5dc0c5365cc994de7e5cdcbc2fb6 the handling of
/var/lib/nova on NFS changed and NovaNfsEnabled and nova_nfs_enabled
condition is no longer used in most of the deployment files.

This cleans up the no longer used parameter and condition in
nova-compute-container-puppet.yaml, nova-ironic-container-puppet.yaml
nova-libvirt-container-puppet.yaml and nova-migration-target-container-puppet.yaml

Change-Id: I542956aef6da63a376790ec87d4767196ff85067
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/783045/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml']",4,d2f6a3be26b2de2bb6aabf9e5bd3accfacc01916,remove_nova_nfs_enabled,," nova_nfs_enabled: or: - and: - equals: [{get_param: NovaNfsEnabled}, true] - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, ''] - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, true] ",0,46
openstack%2Fdevstack-gate~master~I5f98212be14ac3ebad961595e60a099c58fedada,openstack/devstack-gate,master,I5f98212be14ac3ebad961595e60a099c58fedada,Update grenade setting for stable/wallaby,MERGED,2021-04-06 16:10:07.000000000,2021-04-13 06:27:35.000000000,2021-04-13 06:27:35.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-06 16:10:07.000000000', 'files': ['devstack-vm-gate-wrap.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/ccdfff263e54a54ce04c676e8d8cc18b56ac655e', 'message': 'Update grenade setting for stable/wallaby\n\nThere are still grenade legacy jobs in few projects,\nso for them we need to update the grenade setting in d-g.\n\nHope this is last release we need to support in d-g.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/784974\nChange-Id: I5f98212be14ac3ebad961595e60a099c58fedada\n'}]",0,785010,ccdfff263e54a54ce04c676e8d8cc18b56ac655e,12,4,1,8556,,,0,"Update grenade setting for stable/wallaby

There are still grenade legacy jobs in few projects,
so for them we need to update the grenade setting in d-g.

Hope this is last release we need to support in d-g.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/784974
Change-Id: I5f98212be14ac3ebad961595e60a099c58fedada
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/10/785010/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack-vm-gate-wrap.sh'],1,ccdfff263e54a54ce04c676e8d8cc18b56ac655e,qa-wallaby-release," export GRENADE_NEW_BRANCH=""stable/wallaby"" elif [[ ""$GRENADE_BASE_BRANCH"" == ""stable/wallaby"" ]]; then export GRENADE_OLD_BRANCH=""stable/wallaby"" elif [[ ""$GRENADE_BASE_BRANCH"" == ""stable/wallaby"" ]]; then export GRENADE_NEW_BRANCH=""stable/wallaby"" else # master export GRENADE_OLD_BRANCH=""stable/wallaby""", else # master,7,1
openstack%2Ftripleo-ansible~stable%2Fvictoria~I2d5f4e8c11384aeff3c0b1a2fdd5abb6a586522f,openstack/tripleo-ansible,stable/victoria,I2d5f4e8c11384aeff3c0b1a2fdd5abb6a586522f,Accept 142 as an exit code,MERGED,2021-04-08 09:58:28.000000000,2021-04-13 06:25:45.000000000,2021-04-13 06:25:45.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-08 09:58:28.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b8c4f28e9717992d0871584de9e61b4a80d20dfc', 'message': 'Accept 142 as an exit code\n\nIn the same fashion we accepted 137 and 143 exit code status in\nI8f19a80016a67ccad0371c5d108516aec640f031, we also accept 142.\n\nIt represents the SIGALRM exit status - it happens when podman reaches\nthe set timeout (currently 60s) when trying to cleanly stop a container.\n\nChange-Id: I2d5f4e8c11384aeff3c0b1a2fdd5abb6a586522f\nCloses-Bug: #1922179\nResolves: rhbz#1939910\n(cherry picked from commit abbcab7d44f1d7708914f85850df6602a00142e0)\n'}]",0,785333,b8c4f28e9717992d0871584de9e61b4a80d20dfc,7,3,1,28223,,,0,"Accept 142 as an exit code

In the same fashion we accepted 137 and 143 exit code status in
I8f19a80016a67ccad0371c5d108516aec640f031, we also accept 142.

It represents the SIGALRM exit status - it happens when podman reaches
the set timeout (currently 60s) when trying to cleanly stop a container.

Change-Id: I2d5f4e8c11384aeff3c0b1a2fdd5abb6a586522f
Closes-Bug: #1922179
Resolves: rhbz#1939910
(cherry picked from commit abbcab7d44f1d7708914f85850df6602a00142e0)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/33/785333/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2'],1,b8c4f28e9717992d0871584de9e61b4a80d20dfc,podman-exit/142-stable/victoria,SuccessExitStatus=137 142 143,SuccessExitStatus=137 143,1,1
openstack%2Ftripleo-common~stable%2Fussuri~I3e58de46835307d4332b34d22d2895e6382292dd,openstack/tripleo-common,stable/ussuri,I3e58de46835307d4332b34d22d2895e6382292dd,"Revert ""Revert ""Fix a couple of Swift healthchecks""""",MERGED,2021-04-12 10:47:24.000000000,2021-04-13 06:21:53.000000000,2021-04-13 06:19:38.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-12 10:47:24.000000000', 'files': ['healthcheck/releasenotes/notes/swift-fix-healthchecks-b3a02139230f4258.yaml', 'healthcheck/swift-object-replicator', 'healthcheck/swift-account-replicator', 'healthcheck/swift-container-replicator', 'healthcheck/common.sh', 'healthcheck/swift-object-server', 'healthcheck/swift-account-server', 'healthcheck/swift-container-server', 'healthcheck/swift-proxy'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/22ecc9c65ba812057b6106dc047980a57a8fd268', 'message': 'Revert ""Revert ""Fix a couple of Swift healthchecks""""\n\nThis reverts commit 750b562521b507aab555862f01b74e56f8119861.\n\nDepending on the used procps version, the output of ""ps -e"" is width\nlimited and thus not matching the quite long process names. Using\n""ps -ef"" fixes this, along with a small hack in the piped grep to filter\nout grep itself (pgrep itself is not working for this).\n\nRemoves swift-*-replicator because it does not seem to be used\nanymore in any of the container build configurations.\n\nThis change removes the renames from the previous commit because they\nare backwards incompatible depending on how the containers are built. We\nuse healthcheck from the openstack-tripleo-common-containers-base which\nis a package. If this package does not have the new file names (or old\nfilenames) and the containers are built with a different version of\ntripleo-common, the container builds fail.  So let\'s skip renaming of\nfiles so that we can deal with that as a separate issue as a whole.\n\nChange-Id: I3e58de46835307d4332b34d22d2895e6382292dd\n(cherry picked from commit 21fd04f038e1a90223e156082f780501846fde3c)\n(cherry picked from commit 8c385c363339154c43af372a23825bfec66df88c)\n'}]",0,785849,22ecc9c65ba812057b6106dc047980a57a8fd268,8,3,1,6796,,,0,"Revert ""Revert ""Fix a couple of Swift healthchecks""""

This reverts commit 750b562521b507aab555862f01b74e56f8119861.

Depending on the used procps version, the output of ""ps -e"" is width
limited and thus not matching the quite long process names. Using
""ps -ef"" fixes this, along with a small hack in the piped grep to filter
out grep itself (pgrep itself is not working for this).

Removes swift-*-replicator because it does not seem to be used
anymore in any of the container build configurations.

This change removes the renames from the previous commit because they
are backwards incompatible depending on how the containers are built. We
use healthcheck from the openstack-tripleo-common-containers-base which
is a package. If this package does not have the new file names (or old
filenames) and the containers are built with a different version of
tripleo-common, the container builds fail.  So let's skip renaming of
files so that we can deal with that as a separate issue as a whole.

Change-Id: I3e58de46835307d4332b34d22d2895e6382292dd
(cherry picked from commit 21fd04f038e1a90223e156082f780501846fde3c)
(cherry picked from commit 8c385c363339154c43af372a23825bfec66df88c)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/49/785849/1 && git format-patch -1 --stdout FETCH_HEAD,"['healthcheck/releasenotes/notes/swift-fix-healthchecks-b3a02139230f4258.yaml', 'healthcheck/swift-object-replicator', 'healthcheck/swift-account-replicator', 'healthcheck/swift-container-replicator', 'healthcheck/common.sh', 'healthcheck/swift-object-server', 'healthcheck/swift-account-server', 'healthcheck/swift-container-server', 'healthcheck/swift-proxy']",9,22ecc9c65ba812057b6106dc047980a57a8fd268,,if ps -ef | grep --quiet [s]wift-proxy-server; then,if pgrep -f swift-proxy-server; then,28,29
openstack%2Fneutron~master~I3f7dfdcbb3a54252bb1b3d2fa50eebcac3d00cba,openstack/neutron,master,I3f7dfdcbb3a54252bb1b3d2fa50eebcac3d00cba,[Functional] Fix mocks of the create_dhcp_port method,MERGED,2021-04-06 09:23:26.000000000,2021-04-13 06:16:10.000000000,2021-04-13 06:12:04.000000000,"[{'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 09:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e3ec734b6852fb4e8071003fd2dff30f260915f4', 'message': '[Functional] Mock dhcp.DeviceManager._update_dhcp_port method\n\nIn dhcp agent functional tests\ntest_force_metadata_for_subnet_create_delete and\ntest_enable_isolated_metadata_for_subnet_create_delete it may happen\nthat it will hit xlock error from iptables-restore command.\nNormally it is handled properly and DeviceManager.setup() method is then\ncalled again.\nBut in those functional tests there is no mock of\nneutron.agent.linux.dhcp.DeviceManager._update_dhcp_port() method and\nworkflow is like below:\n\n1. Call DeviceManager.setup() method\n2. This method as one of the first steps will call _update_dhcp_port\nwhich will replace dhcp port prepared for test with some other mock,\n3. During first run ""port"" variable in DeviceManager.setup() method is\ncorrect so all will work fine but if we hit iptables xlock error,\nsetup() method will be called again and\n4. Now ""port"" local variable is already update by _update_dhcp_port\nmethod thus test setup() method will fail as interface_name is now\nwrong.\n\nTo avoid such issue this patch adds mock of the\ndhcp.DeviceManager._update_dhcp_port() method so dhcp port will be every\ntime the one set in the test.\n\nCloses-Bug: #1922684\nChange-Id: I3f7dfdcbb3a54252bb1b3d2fa50eebcac3d00cba\n'}, {'number': 2, 'created': '2021-04-08 09:48:41.000000000', 'files': ['neutron/tests/functional/agent/test_dhcp_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6533337716e5776567e0c9e9a8a20e2ad704e258', 'message': '[Functional] Fix mocks of the create_dhcp_port method\n\nIn dhcp agent functional tests\ntest_force_metadata_for_subnet_create_delete and\ntest_enable_isolated_metadata_for_subnet_create_delete it may happen\nthat it will hit xlock error from iptables-restore command.\nNormally it is handled properly and DeviceManager.setup() method is then\ncalled again.\nBut in those functional tests there was no mock of the create_dhcp_port\nbut there was mock for get_dhcp_port and update_dhcp_port instead.\nBecause of that when during first call of setup() method iptables\nexception was raised, during the second call of the setup() method wrong\nobject was put in the network.ports and test was failing due to that.\n\nWorkflow of that test is like below:\n1. Call DeviceManager.setup() method\n2. This method as one of the first steps will call _update_dhcp_port\nwhich will replace dhcp port prepared for test with some other mock,\n3. During first run ""port"" variable in DeviceManager.setup() method is\ncorrect so all will work fine but if we hit iptables xlock error,\nsetup() method will be called again and\n4. Now ""port"" local variable is already update by _update_dhcp_port\nmethod thus test setup() method will fail as interface_name is now\nwrong.\n\nTo avoid such issue this patch changed dhcp_port_mock to be ""proper""\nDictModel() object instead of mock.Mock() and ensures that this will be\nset in network.ports even after ""create_dhcp_port"" will be called.\n\nCloses-Bug: #1922684\nChange-Id: I3f7dfdcbb3a54252bb1b3d2fa50eebcac3d00cba\n'}]",4,784903,6533337716e5776567e0c9e9a8a20e2ad704e258,50,5,2,11975,,,0,"[Functional] Fix mocks of the create_dhcp_port method

In dhcp agent functional tests
test_force_metadata_for_subnet_create_delete and
test_enable_isolated_metadata_for_subnet_create_delete it may happen
that it will hit xlock error from iptables-restore command.
Normally it is handled properly and DeviceManager.setup() method is then
called again.
But in those functional tests there was no mock of the create_dhcp_port
but there was mock for get_dhcp_port and update_dhcp_port instead.
Because of that when during first call of setup() method iptables
exception was raised, during the second call of the setup() method wrong
object was put in the network.ports and test was failing due to that.

Workflow of that test is like below:
1. Call DeviceManager.setup() method
2. This method as one of the first steps will call _update_dhcp_port
which will replace dhcp port prepared for test with some other mock,
3. During first run ""port"" variable in DeviceManager.setup() method is
correct so all will work fine but if we hit iptables xlock error,
setup() method will be called again and
4. Now ""port"" local variable is already update by _update_dhcp_port
method thus test setup() method will fail as interface_name is now
wrong.

To avoid such issue this patch changed dhcp_port_mock to be ""proper""
DictModel() object instead of mock.Mock() and ensures that this will be
set in network.ports even after ""create_dhcp_port"" will be called.

Closes-Bug: #1922684
Change-Id: I3f7dfdcbb3a54252bb1b3d2fa50eebcac3d00cba
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/784903/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/test_dhcp_agent.py'],1,e3ec734b6852fb4e8071003fd2dff30f260915f4,bug/1922684," with mock.patch.object(dhcp.DeviceManager, ""_update_dhcp_port""): self.agent.refresh_dhcp_helper(network.id) # Metadata proxy should be spawned for the newly added subnet common_utils.wait_until_true( lambda: pm.active, timeout=5, sleep=0.1, exception=RuntimeError(""Metadata proxy didn't spawn"")) self.mock_plugin_api.get_network_info.return_value = network self.agent.refresh_dhcp_helper(network.id) # Metadata proxy should be killed because network doesn't need it. common_utils.wait_until_true( lambda: not pm.active, timeout=5, sleep=0.1, exception=RuntimeError(""Metadata proxy didn't get killed""))"," self.agent.refresh_dhcp_helper(network.id) # Metadata proxy should be spawned for the newly added subnet common_utils.wait_until_true( lambda: pm.active, timeout=5, sleep=0.1, exception=RuntimeError(""Metadata proxy didn't spawn"")) self.mock_plugin_api.get_network_info.return_value = network self.agent.refresh_dhcp_helper(network.id) # Metadata proxy should be killed because network doesn't need it. common_utils.wait_until_true( lambda: not pm.active, timeout=5, sleep=0.1, exception=RuntimeError(""Metadata proxy didn't get killed""))",16,15
openstack%2Fswift~master~I1805fa2b471882c500755c6136b0d5a9ba7cd5b3,openstack/swift,master,I1805fa2b471882c500755c6136b0d5a9ba7cd5b3,Update AUTHORS,MERGED,2021-04-07 20:54:48.000000000,2021-04-13 06:15:35.000000000,2021-04-13 06:12:35.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 13852}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 20:54:48.000000000', 'files': ['AUTHORS'], 'web_link': 'https://opendev.org/openstack/swift/commit/c13c9cc6754d8a47bd6a30439b7c883f3daa4ac7', 'message': ""Update AUTHORS\n\nIt's been a real pleasure to work on Swift all these years with you\nguys. You're doing an amazing job in the best mind. Don't change\nanything!\n\nChange-Id: I1805fa2b471882c500755c6136b0d5a9ba7cd5b3\n""}]",1,785276,c13c9cc6754d8a47bd6a30439b7c883f3daa4ac7,9,4,1,13852,,,0,"Update AUTHORS

It's been a real pleasure to work on Swift all these years with you
guys. You're doing an amazing job in the best mind. Don't change
anything!

Change-Id: I1805fa2b471882c500755c6136b0d5a9ba7cd5b3
",git fetch https://review.opendev.org/openstack/swift refs/changes/76/785276/1 && git format-patch -1 --stdout FETCH_HEAD,['AUTHORS'],1,c13c9cc6754d8a47bd6a30439b7c883f3daa4ac7,updateAuthors,Romain Le Disez (romain.ledisez@ovh.net),Romain Le Disez (romain.ledisez@ovh.net),1,1
openstack%2Fpython-cyborgclient~master~I1044adf0296df34ac79ee766cc69a125f6898b1f,openstack/python-cyborgclient,master,I1044adf0296df34ac79ee766cc69a125f6898b1f,Bugs filed on Storyboard,ABANDONED,2021-01-03 03:02:42.000000000,2021-04-13 05:57:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 29313}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-01-03 03:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/6b5e55218c374ea4b9465036df461309b989fc4c', 'message': 'Bugs filed on Launchpad\n\nChange-Id: I1044adf0296df34ac79ee766cc69a125f6898b1f\n'}, {'number': 2, 'created': '2021-01-03 03:19:11.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/9ecfd41be25575331e1784ffde067a4eca0d1e0b', 'message': 'Bugs filed on Storyboard\n\nChange-Id: I1044adf0296df34ac79ee766cc69a125f6898b1f\n'}]",0,768929,9ecfd41be25575331e1784ffde067a4eca0d1e0b,10,4,2,31845,,,0,"Bugs filed on Storyboard

Change-Id: I1044adf0296df34ac79ee766cc69a125f6898b1f
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/29/768929/2 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,6b5e55218c374ea4b9465036df461309b989fc4c,, https://storyboard.openstack.org/#!/project/openstack/cyborg, https://bugs.launchpad.net/python-cyborgclient,1,1
openstack%2Fneutron~master~I5e17f1b567e09397de58b2b934d3cf2bc7589b6c,openstack/neutron,master,I5e17f1b567e09397de58b2b934d3cf2bc7589b6c,Implement namespace operations privsep context,MERGED,2021-04-09 15:22:47.000000000,2021-04-13 05:57:44.000000000,2021-04-13 05:56:12.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 18511}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-09 15:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1cad82bac813728b50bc9f934a0f399cf3f56ab', 'message': 'Implement namespace operations privsep context\n\nThis context has only ""CAP_SYS_ADMIN"" capability.\n\nChange-Id: I5e17f1b567e09397de58b2b934d3cf2bc7589b6c\nStory: #2007686\nTask: #42240\n'}, {'number': 2, 'created': '2021-04-09 15:24:36.000000000', 'files': ['neutron/privileged/__init__.py', 'neutron/privileged/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3cee5f7201a1715edd46ea6edb60c311eb2b89f2', 'message': 'Implement namespace operations privsep context\n\nThis context has only ""CAP_SYS_ADMIN"" capability.\n\nChange-Id: I5e17f1b567e09397de58b2b934d3cf2bc7589b6c\nStory: #2007686\nTask: #42240\n'}]",0,785663,3cee5f7201a1715edd46ea6edb60c311eb2b89f2,25,5,2,16688,,,0,"Implement namespace operations privsep context

This context has only ""CAP_SYS_ADMIN"" capability.

Change-Id: I5e17f1b567e09397de58b2b934d3cf2bc7589b6c
Story: #2007686
Task: #42240
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/785663/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/privileged/__init__.py', 'neutron/privileged/agent/linux/ip_lib.py']",2,a1cad82bac813728b50bc9f934a0f399cf3f56ab,task/42240,@privileged.namespace_cmd.entrypoint@privileged.namespace_cmd.entrypoint@privileged.namespace_cmd.entrypoint,@privileged.default.entrypoint@privileged.default.entrypoint@privileged.default.entrypoint,11,3
openstack%2Fnova-specs~master~I8ccd7cd54ceb46dd505c96616cb629eb11bda1e5,openstack/nova-specs,master,I8ccd7cd54ceb46dd505c96616cb629eb11bda1e5,Trival change: correct some nits,ABANDONED,2021-03-15 02:17:09.000000000,2021-04-13 05:54:29.000000000,,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-03-15 02:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1d9da229e1eebe9b4dd059761538b79a60d3b0bb', 'message': 'Trival change: correct some nits\n\nChange-Id: I8ccd7cd54ceb46dd505c96616cb629eb11bda1e5\n'}, {'number': 2, 'created': '2021-03-16 06:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3c771b9b2c0ba720d0747362db4190e30cbef4ae', 'message': 'Trival change: correct some nits\n\nChange-Id: I8ccd7cd54ceb46dd505c96616cb629eb11bda1e5\n'}, {'number': 3, 'created': '2021-04-02 06:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/52d67e3da2995c30df025738f1ecf611821a9f0b', 'message': 'Trival change: correct some nits\n\nChange-Id: I8ccd7cd54ceb46dd505c96616cb629eb11bda1e5\n'}, {'number': 4, 'created': '2021-04-02 06:10:54.000000000', 'files': ['specs/wallaby/approved/cyborg-vgpu-support.rst', 'specs/xena/approved/support-vGPU-nova-cyborg-interaction.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f8325e56f45bdbf3e5eca7212bbcee7fce493c9f', 'message': 'Trival change: correct some nits\n\nChange-Id: I8ccd7cd54ceb46dd505c96616cb629eb11bda1e5\n'}]",20,780443,f8325e56f45bdbf3e5eca7212bbcee7fce493c9f,18,7,4,31412,,,0,"Trival change: correct some nits

Change-Id: I8ccd7cd54ceb46dd505c96616cb629eb11bda1e5
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/43/780443/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/wallaby/approved/support-vGPU-nova-cyborg-interaction.rst'],1,1d9da229e1eebe9b4dd059761538b79a60d3b0bb,bp/cyborg-vgpu-support,"This blueprint proposes to enable vGPU accelerator in Nova and CyborgIn order to allow operators to use Cyborg to manage the lifecycle of vGPU, Cyborg needs to discover the vGPUs, reports them to Placement, and instruct cyborg lifecycle management of vGPU, cyborg should creates mediated devices beforehand, nova virt driver uses it as an existed resousrce. + cyborg-agent sucessfully creates mdev and returns result start up also. And we would have another state ""unknown"" that cyborg-api same binding complete event notification when it change the status fromboth Nova and Cyborg. If it is configured in both Cyborg and Nova, they should be able to raise this as a conflict exception.one can resize directly from a flavor with a nova managed vgpu (resources:vgpu=1 in the flavor) to a flavor with a cyborg managed vgpu","This blueprint proposes to enable vGPU accelerator in nova and cyborgIn order to allow operators to use cyborg to manage the lifecycle of vGPU, cyborg needs to discover the vGPUs, reports them to placement, and instruct mdevs.append(mdevs_accel) xml = self._get_guest_xml(context, instance, network_info, block_disk_info, image_meta, block_device_info=block_device_info, mdevs=mdevs) mdev_arq_list = [arq for arq in acc_info if arq['attach_handle_type'] == 'MDEV'] cyborg lifecycle management of vGPU, cyborg should creates mdev beforehead, nova virt driver uses it as an existed resousrce. + cyborg-agent sucessfully created mdev and returns result start up also. And we would have anohter state ""unknown"" that cyborg-api same binding complete event notification when it change the status formboth Nova and Cyborg. If it is configured in both Cyborg and Nova should be able to raise this as an conflict exception.one can resize directly from a flavor with a nova managed gpu (resouces:vgpu=1 in the flavor) to a flavor with a cyborg managed vgpu",12,19
openstack%2Fnova~stable%2Fvictoria~Ib9387c381d39fac389374c731b210815c6d4af03,openstack/nova,stable/victoria,Ib9387c381d39fac389374c731b210815c6d4af03,Fix the vGPU dynamic options race,MERGED,2021-04-06 09:49:16.000000000,2021-04-13 04:13:56.000000000,2021-04-13 04:10:30.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 09:49:16.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c7d9d6d9dd25e21ec76ceea294cdf1690686a086', 'message': 'Fix the vGPU dynamic options race\n\nAs we lookup the existing dynamic options *before* creating them as\n_get_supported_vgpu_types() is called *before* compute init_host(),\nwe need to make sure we call again the dynamic options registration\nwithin it.\n\nChange-Id: Ib9387c381d39fac389374c731b210815c6d4af03\nCloses-Bug: #1900006\n(cherry picked from commit 2bd8900d9b2600fba74341e249701051fb78eb37)\n'}]",0,784907,c7d9d6d9dd25e21ec76ceea294cdf1690686a086,13,5,1,7166,,,0,"Fix the vGPU dynamic options race

As we lookup the existing dynamic options *before* creating them as
_get_supported_vgpu_types() is called *before* compute init_host(),
we need to make sure we call again the dynamic options registration
within it.

Change-Id: Ib9387c381d39fac389374c731b210815c6d4af03
Closes-Bug: #1900006
(cherry picked from commit 2bd8900d9b2600fba74341e249701051fb78eb37)
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/784907/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,c7d9d6d9dd25e21ec76ceea294cdf1690686a086,bug/1900006," @mock.patch.object(nova.conf.devices, 'register_dynamic_opts') def test_get_supported_vgpu_types_registering_dynamic_opts(self, rdo): self.flags(enabled_vgpu_types=['nvidia-11', 'nvidia-12'], group='devices') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr._get_supported_vgpu_types() # Okay below is confusing, but remember, ._get_supported_vgpu_types() # is first called by the LibvirtDriver object creation, so when # calling the above drvr._get_supported_vgpu_types() method, it will # be the second time that register_dynamic_opts() will be called. rdo.assert_has_calls([mock.call(CONF), mock.call(CONF)]) ",,19,0
openstack%2Fneutron~stable%2Fqueens~Iefa0044dba9e92592295a79448e5d57d9e14a40b,openstack/neutron,stable/queens,Iefa0044dba9e92592295a79448e5d57d9e14a40b,Fix multicast traffic with IGMP snooping enabled,MERGED,2021-01-14 11:43:57.000000000,2021-04-13 04:10:04.000000000,2021-04-13 04:10:04.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-14 11:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3ec5fd33a6b9c063b500331bad5dd2db7f996f9', 'message': 'Fix multicast traffic with IGMP snooping enabled\n\nIn the ML2/OVS when igmp_snooping is enabled but there is no\nexternal querier multicast traffic will stop working after few minutes\nas packets will not be flooded to tunnel/external bridges.\n\nSo this patch sets ""mcast-snooping-disable-flood-unregistered"" option\nof the br-int to False (default value) even when igmp_snooping is\nenabled in the neutron-ovs-agent\'s config file.\n\nAdditionally it configures ""mcast-snooping-flood-reports"" and\n""mcast-snooping-flood"" on patch ports in br-int to True.\n\nThat way we can provide best effort snooping: multicast isolation where\nIGMP queriers are available and flood everywhere else?\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n    neutron/tests/functional/agent/common/test_ovs_lib.py\n    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py\n\nCloses-Bug: #1884723\nChange-Id: Iefa0044dba9e92592295a79448e5d57d9e14a40b\n(cherry picked from commit b4070c975274f53a4a2caaabeb5af55683232d3d)\n'}, {'number': 2, 'created': '2021-01-19 11:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5453d7e2e646f6c14277d2b70ae731f1d89df26e', 'message': 'Fix multicast traffic with IGMP snooping enabled\n\nIn the ML2/OVS when igmp_snooping is enabled but there is no\nexternal querier multicast traffic will stop working after few minutes\nas packets will not be flooded to tunnel/external bridges.\n\nSo this patch sets ""mcast-snooping-disable-flood-unregistered"" option\nof the br-int to False (default value) even when igmp_snooping is\nenabled in the neutron-ovs-agent\'s config file.\n\nAdditionally it configures ""mcast-snooping-flood-reports"" and\n""mcast-snooping-flood"" on patch ports in br-int to True.\n\nThat way we can provide best effort snooping: multicast isolation where\nIGMP queriers are available and flood everywhere else?\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n    neutron/tests/functional/agent/common/test_ovs_lib.py\n    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py\n    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_tunnel.py\n\nCloses-Bug: #1884723\nChange-Id: Iefa0044dba9e92592295a79448e5d57d9e14a40b\n(cherry picked from commit b4070c975274f53a4a2caaabeb5af55683232d3d)\n'}, {'number': 3, 'created': '2021-02-23 08:35:08.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/common/ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_tunnel.py', 'neutron/tests/functional/agent/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c660daa2af37459bc97c8224f36d473446ee6a6d', 'message': 'Fix multicast traffic with IGMP snooping enabled\n\nIn the ML2/OVS when igmp_snooping is enabled but there is no\nexternal querier multicast traffic will stop working after few minutes\nas packets will not be flooded to tunnel/external bridges.\n\nSo this patch sets ""mcast-snooping-disable-flood-unregistered"" option\nof the br-int to False (default value) even when igmp_snooping is\nenabled in the neutron-ovs-agent\'s config file.\n\nAdditionally it configures ""mcast-snooping-flood-reports"" and\n""mcast-snooping-flood"" on patch ports in br-int to True.\n\nThat way we can provide best effort snooping: multicast isolation where\nIGMP queriers are available and flood everywhere else?\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n    neutron/tests/functional/agent/common/test_ovs_lib.py\n    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py\n    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_tunnel.py\n\nCloses-Bug: #1884723\nChange-Id: Iefa0044dba9e92592295a79448e5d57d9e14a40b\n(cherry picked from commit b4070c975274f53a4a2caaabeb5af55683232d3d)\n'}]",0,770743,c660daa2af37459bc97c8224f36d473446ee6a6d,37,3,3,11975,,,0,"Fix multicast traffic with IGMP snooping enabled

In the ML2/OVS when igmp_snooping is enabled but there is no
external querier multicast traffic will stop working after few minutes
as packets will not be flooded to tunnel/external bridges.

So this patch sets ""mcast-snooping-disable-flood-unregistered"" option
of the br-int to False (default value) even when igmp_snooping is
enabled in the neutron-ovs-agent's config file.

Additionally it configures ""mcast-snooping-flood-reports"" and
""mcast-snooping-flood"" on patch ports in br-int to True.

That way we can provide best effort snooping: multicast isolation where
IGMP queriers are available and flood everywhere else?

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py
    neutron/tests/functional/agent/common/test_ovs_lib.py
    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py
    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_tunnel.py

Closes-Bug: #1884723
Change-Id: Iefa0044dba9e92592295a79448e5d57d9e14a40b
(cherry picked from commit b4070c975274f53a4a2caaabeb5af55683232d3d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/770743/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/common/ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_tunnel.py', 'neutron/tests/functional/agent/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",5,a3ec5fd33a6b9c063b500331bad5dd2db7f996f9,bug/1884723-stable/rocky-stable/queens," dvr_enabled=False, igmp_snooping_enabled=False): mock.call.int_br.set_igmp_snooping_flood( 'int-br-eth', igmp_snooping_enabled), def test_setup_physical_bridges_igmp_snooping_enabled(self): cfg.CONF.set_override('igmp_snooping_enable', True, 'OVS') self._test_setup_physical_bridges(igmp_snooping_enabled=True) mock.call.int_br.set_igmp_snooping_flood( 'int-br-eth', False), mock.patch.object(self.agent.int_br, 'set_igmp_snooping_flood'),\ mock.patch.object(self.agent.int_br, 'set_igmp_snooping_flood'),\", dvr_enabled=False):,36,4
openstack%2Fnetworking-ovn~stable%2Ftrain~I485762b46567a99b9ebd6eb047c7088fed8071d1,openstack/networking-ovn,stable/train,I485762b46567a99b9ebd6eb047c7088fed8071d1,[ovn]: Remove unwanted IP addresses from OVN ports,MERGED,2021-03-31 12:58:39.000000000,2021-04-13 04:00:50.000000000,2021-04-13 03:59:39.000000000,"[{'_account_id': 1131}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 12:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a152e9e29b7adcf97ebfc68756bb1b934bbee025', 'message': '[ovn]: Remove unwanted IP addresses from OVN ports\n\nMAC learning has been added in OVN v21.03[0]. Now, if DHCP and port\nsecurity are disabled, then the addresses field of a port should not\ninclude its MAC-IP address pairs. This allows the use of OVN MAC\nlearning capabilities. Existing tests now match this requirement too.\n\n[0] http://patchwork.ozlabs.org/project/ovn/list/?series=228135i&state=%2A&archive=both\n\nChange-Id: I485762b46567a99b9ebd6eb047c7088fed8071d1\nCloses-Bug: 1904412\nSigned-off-by: Elvira García Ruiz <egarciar@redhat.com>\n(manually cherry picked from commit b1940a7ff2443cb65661d268c2c00790898e8bef)\n'}, {'number': 2, 'created': '2021-04-06 21:25:24.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/31e50e577f439baca9aa3a33f26e7afc26bcb0a1', 'message': '[ovn]: Remove unwanted IP addresses from OVN ports\n\nMAC learning has been added in OVN v21.03[0]. Now, if DHCP and port\nsecurity are disabled, then the addresses field of a port should not\ninclude its MAC-IP address pairs. This allows the use of OVN MAC\nlearning capabilities. Existing tests now match this requirement too.\n\n[0] http://patchwork.ozlabs.org/project/ovn/list/?series=228135i&state=%2A&archive=both\n\nChange-Id: I485762b46567a99b9ebd6eb047c7088fed8071d1\nCloses-Bug: 1904412\nSigned-off-by: Elvira García Ruiz <egarciar@redhat.com>\n(manually cherry picked from commit 24fddc760edcf2004f4608a42ae75f82b3b72b76)\n'}]",1,784096,31e50e577f439baca9aa3a33f26e7afc26bcb0a1,23,4,2,32586,,,0,"[ovn]: Remove unwanted IP addresses from OVN ports

MAC learning has been added in OVN v21.03[0]. Now, if DHCP and port
security are disabled, then the addresses field of a port should not
include its MAC-IP address pairs. This allows the use of OVN MAC
learning capabilities. Existing tests now match this requirement too.

[0] http://patchwork.ozlabs.org/project/ovn/list/?series=228135i&state=%2A&archive=both

Change-Id: I485762b46567a99b9ebd6eb047c7088fed8071d1
Closes-Bug: 1904412
Signed-off-by: Elvira García Ruiz <egarciar@redhat.com>
(manually cherry picked from commit 24fddc760edcf2004f4608a42ae75f82b3b72b76)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/96/784096/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py']",2,a152e9e29b7adcf97ebfc68756bb1b934bbee025,," self.assertIn(ovn_const.UNKNOWN_ADDR, called_args_dict.get('addresses')) self.assertIn(ovn_const.UNKNOWN_ADDR, called_args_dict.get('addresses'))"," self.assertEqual('unknown', called_args_dict.get('addresses')[1]) self.assertEqual(2, len(called_args_dict.get('addresses'))) self.assertEqual('unknown', called_args_dict.get('addresses')[1])",20,15
openstack%2Fcinder~stable%2Frocky~I2d938e0ee57f987af68e791bf6e6ee5b88fb9f32,openstack/cinder,stable/rocky,I2d938e0ee57f987af68e791bf6e6ee5b88fb9f32,[stable-only] Cap bandit and fix lower-constraints,ABANDONED,2021-04-12 21:44:20.000000000,2021-04-13 03:57:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-12 21:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/64ba65a7847dce2ca765faeb478a5a693c7786a3', 'message': '[stable-only] Cap bandit and fix lower-constraints\n\nSee change Ib3ff3bd2df89 in stable/stein for justification.\nChanges:\n- test-requirements.txt\n  * bandit (add cap <= 1.6.2)\n  * SQLAlchemy=Utils 0.36.1 -> 0.33.3 (max in global constraints)\n- lower-constraints.txt\n  * psycopg2 2.6.2 -> 2.7 (setup.py failed locally)\n  * cryptography 2.1 -> 2.1.4 (required by pyopenssl 17.5.0)\n\nChange-Id: I2d938e0ee57f987af68e791bf6e6ee5b88fb9f32\n'}, {'number': 2, 'created': '2021-04-13 01:31:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/029d0eba9266da0227a2225f44172f4c326cfe8c', 'message': '[stable-only] Cap bandit and fix lower-constraints\n\nSee change Ib3ff3bd2df89 in stable/stein for justification.\nChanges:\n- test-requirements.txt\n  * bandit (add cap <= 1.6.2)\n  * SQLAlchemy-Utils 0.36.1 -> 0.33.3 (max in global constraints)\n  * psycopg2 2.6.2 -> 2.7 (setup.py failed locally)\n- requirements.txt\n  * cryptography 2.1 -> 2.1.4 (required by pyopenssl 17.5.0)\n- lower-constraints.txt\n  * changes to reflect the above\n\nChange-Id: I2d938e0ee57f987af68e791bf6e6ee5b88fb9f32\n'}, {'number': 3, 'created': '2021-04-13 02:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/58fbbb175ae3859a6add2e0b2e25e20c975ffa27', 'message': '[stable-only] Cap bandit and fix lower-constraints\n\nSee change Ib3ff3bd2df89 in stable/stein for justification.\nChanges:\n- test-requirements.txt\n  * bandit (add cap <= 1.6.2)\n  * SQLAlchemy-Utils 0.36.1 -> 0.33.3 (max in global constraints)\n  * psycopg2 2.6.2 -> 2.7 (setup.py failed locally)\n  * coverage 4.0 -> 5.5 (because it works)\n- requirements.txt\n  * cryptography 2.1 -> 2.1.4 (required by pyopenssl 17.5.0)\n- lower-constraints.txt\n  * changes to reflect the above, and\n  * warlock 1.3.0 -> 1.2.0 (python-glanceclient has !=1.3.0,\n                            rocky upper-constraint is 1.3.0)\n\nChange-Id: I2d938e0ee57f987af68e791bf6e6ee5b88fb9f32\n'}, {'number': 4, 'created': '2021-04-13 02:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/391f621cb36debebe5991fd8886725bf803d99ec', 'message': '[stable-only] Cap bandit and fix lower-constraints\n\nSee change Ib3ff3bd2df89 in stable/stein for justification.\nChanges:\n- test-requirements.txt\n  * bandit (add cap <= 1.6.2)\n  * SQLAlchemy-Utils 0.36.1 -> 0.33.3 (max in global constraints)\n  * psycopg2 2.6.2 -> 2.7 (setup.py failed locally)\n  * coverage 4.0 -> 4.5.1 (because it works, u-c is 4.5.1)\n- requirements.txt\n  * cryptography 2.1 -> 2.1.4 (required by pyopenssl 17.5.0)\n- lower-constraints.txt\n  * changes to reflect the above, and\n  * warlock 1.3.0 -> 1.2.0 (python-glanceclient has !=1.3.0,\n                            rocky upper-constraint is 1.3.0)\n\nChange-Id: I2d938e0ee57f987af68e791bf6e6ee5b88fb9f32\n'}, {'number': 5, 'created': '2021-04-13 03:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f9717975a70e515c320a0be5cc89936f84bffefe', 'message': '[stable-only] Cap bandit and fix lower-constraints\n\nSee change Ib3ff3bd2df89 in stable/stein for justification.\nChanges:\n- test-requirements.txt\n  * bandit (add cap <= 1.6.2)\n  * ddt 1.0.1 -> 1.2.0 (max in upper constraints)\n  * SQLAlchemy-Utils 0.36.1 -> 0.33.3 (max in upper constraints)\n  * psycopg2 2.6.2 -> 2.7 (setup.py failed locally)\n  * coverage 4.0 -> 4.5.1 (because it works, u-c is 4.5.1)\n- requirements.txt\n  * cryptography 2.1 -> 2.1.4 (required by pyopenssl 17.5.0)\n- lower-constraints.txt\n  * changes to reflect the above, and\n  * MarkupSafe 1.0 -> 1.1.1 (I think for ddt; max in u-c)\n  * warlock 1.3.0 -> 1.2.0 (python-glanceclient has !=1.3.0,\n                            rocky upper-constraint is 1.3.0)\n\nChange-Id: I2d938e0ee57f987af68e791bf6e6ee5b88fb9f32\n'}, {'number': 6, 'created': '2021-04-13 03:37:33.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/da0104dafdfef63e8ad77f5bd63f840bed3c0846', 'message': '[stable-only] Cap bandit and fix lower-constraints\n\nSee change Ib3ff3bd2df89 in stable/stein for justification.\nChanges:\n- test-requirements.txt\n  * bandit (add cap <= 1.6.2)\n  * ddt 1.0.1 -> 1.2.0 (max in upper constraints)\n  * SQLAlchemy-Utils 0.36.1 -> 0.33.3 (max in upper constraints)\n  * psycopg2 2.6.2 -> 2.7 (setup.py failed locally)\n  * coverage 4.0 -> 4.5.1 (because it works, u-c is 4.5.1)\n  * os-api-ref 1.4.0 -> 1.5.0 (max in upper constraints)\n- requirements.txt\n  * cryptography 2.1 -> 2.1.4 (required by pyopenssl 17.5.0)\n- lower-constraints.txt\n  * changes to reflect the above, and\n  * MarkupSafe 1.0 -> 1.1.1 (I think for ddt; max in u-c)\n  * warlock 1.3.0 -> 1.2.0 (python-glanceclient has !=1.3.0,\n                            rocky upper-constraint is 1.3.0)\n\nChange-Id: I2d938e0ee57f987af68e791bf6e6ee5b88fb9f32\n'}]",0,785979,da0104dafdfef63e8ad77f5bd63f840bed3c0846,16,1,6,5314,,,0,"[stable-only] Cap bandit and fix lower-constraints

See change Ib3ff3bd2df89 in stable/stein for justification.
Changes:
- test-requirements.txt
  * bandit (add cap <= 1.6.2)
  * ddt 1.0.1 -> 1.2.0 (max in upper constraints)
  * SQLAlchemy-Utils 0.36.1 -> 0.33.3 (max in upper constraints)
  * psycopg2 2.6.2 -> 2.7 (setup.py failed locally)
  * coverage 4.0 -> 4.5.1 (because it works, u-c is 4.5.1)
  * os-api-ref 1.4.0 -> 1.5.0 (max in upper constraints)
- requirements.txt
  * cryptography 2.1 -> 2.1.4 (required by pyopenssl 17.5.0)
- lower-constraints.txt
  * changes to reflect the above, and
  * MarkupSafe 1.0 -> 1.1.1 (I think for ddt; max in u-c)
  * warlock 1.3.0 -> 1.2.0 (python-glanceclient has !=1.3.0,
                            rocky upper-constraint is 1.3.0)

Change-Id: I2d938e0ee57f987af68e791bf6e6ee5b88fb9f32
",git fetch https://review.opendev.org/openstack/cinder refs/changes/79/785979/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,64ba65a7847dce2ca765faeb478a5a693c7786a3,correct-req,cryptography==2.1.4psycopg2==2.7SQLAlchemy-Utils==0.33.3,cryptography==2.1psycopg2==2.6.2SQLAlchemy-Utils==0.36.1,5,5
openstack%2Fgrenade~stable%2Fvictoria~If5f14654ab9aee2a140bbfb869b50d63cb289fdf,openstack/grenade,stable/victoria,If5f14654ab9aee2a140bbfb869b50d63cb289fdf,Fix Grenade DSVM Tempest upper constraints,MERGED,2021-04-12 08:51:55.000000000,2021-04-13 03:00:47.000000000,2021-04-13 02:59:08.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-04-12 08:51:55.000000000', 'files': ['grenade.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/e97d8d137624050044dc85dad4aa24d54b757de3', 'message': ""Fix Grenade DSVM Tempest upper constraints\n\nThe initial source is too early when GRENADE_USE_EXTERNAL_DEVSTACK\nis False (as, e.g., in DSVM [aka devstack-gate, aka legacy] jobs).\nThe issue was introduced in\nI66b5d128c3dbe51289410760ea1cbf7f61c55c2f\nfixing the Tempest upper constraints to be properly pinned.\nIt did not affect Zuul v3 (aka new) jobs.\n\nAlso, let's only source the one variable that we need rather than\nthe whole file.\n\nSee https://review.opendev.org/c/openstack/devstack/+/785547\nfor an example failure.\n\nCloses-Bug: #1923343\nChange-Id: If5f14654ab9aee2a140bbfb869b50d63cb289fdf\n""}]",0,785609,e97d8d137624050044dc85dad4aa24d54b757de3,10,3,1,30491,,,0,"Fix Grenade DSVM Tempest upper constraints

The initial source is too early when GRENADE_USE_EXTERNAL_DEVSTACK
is False (as, e.g., in DSVM [aka devstack-gate, aka legacy] jobs).
The issue was introduced in
I66b5d128c3dbe51289410760ea1cbf7f61c55c2f
fixing the Tempest upper constraints to be properly pinned.
It did not affect Zuul v3 (aka new) jobs.

Also, let's only source the one variable that we need rather than
the whole file.

See https://review.opendev.org/c/openstack/devstack/+/785547
for an example failure.

Closes-Bug: #1923343
Change-Id: If5f14654ab9aee2a140bbfb869b50d63cb289fdf
",git fetch https://review.opendev.org/openstack/grenade refs/changes/09/785609/1 && git format-patch -1 --stdout FETCH_HEAD,['grenade.sh'],1,e97d8d137624050044dc85dad4aa24d54b757de3,bug/1923343-stable/wallaby-stable/victoria," # NOTE(yoctozepto): Grenade does not know about # TEMPEST_VENV_UPPER_CONSTRAINTS, only DevStack does. # This sources that one variable from it. TEMPEST_VENV_UPPER_CONSTRAINTS=$(set +o xtrace && source $BASE_DEVSTACK_DIR/stackrc && echo $TEMPEST_VENV_UPPER_CONSTRAINTS)",source $BASE_DEVSTACK_DIR/stackrc ,6,2
openstack%2Fgrenade~stable%2Fwallaby~If5f14654ab9aee2a140bbfb869b50d63cb289fdf,openstack/grenade,stable/wallaby,If5f14654ab9aee2a140bbfb869b50d63cb289fdf,Fix Grenade DSVM Tempest upper constraints,MERGED,2021-04-12 08:51:43.000000000,2021-04-13 03:00:38.000000000,2021-04-13 02:59:05.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-04-12 08:51:43.000000000', 'files': ['grenade.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/58f63621af1bfed7c603f789d65f2b07913f497c', 'message': ""Fix Grenade DSVM Tempest upper constraints\n\nThe initial source is too early when GRENADE_USE_EXTERNAL_DEVSTACK\nis False (as, e.g., in DSVM [aka devstack-gate, aka legacy] jobs).\nThe issue was introduced in\nI66b5d128c3dbe51289410760ea1cbf7f61c55c2f\nfixing the Tempest upper constraints to be properly pinned.\nIt did not affect Zuul v3 (aka new) jobs.\n\nAlso, let's only source the one variable that we need rather than\nthe whole file.\n\nSee https://review.opendev.org/c/openstack/devstack/+/785547\nfor an example failure.\n\nCloses-Bug: #1923343\nChange-Id: If5f14654ab9aee2a140bbfb869b50d63cb289fdf\n""}]",0,785608,58f63621af1bfed7c603f789d65f2b07913f497c,8,3,1,30491,,,0,"Fix Grenade DSVM Tempest upper constraints

The initial source is too early when GRENADE_USE_EXTERNAL_DEVSTACK
is False (as, e.g., in DSVM [aka devstack-gate, aka legacy] jobs).
The issue was introduced in
I66b5d128c3dbe51289410760ea1cbf7f61c55c2f
fixing the Tempest upper constraints to be properly pinned.
It did not affect Zuul v3 (aka new) jobs.

Also, let's only source the one variable that we need rather than
the whole file.

See https://review.opendev.org/c/openstack/devstack/+/785547
for an example failure.

Closes-Bug: #1923343
Change-Id: If5f14654ab9aee2a140bbfb869b50d63cb289fdf
",git fetch https://review.opendev.org/openstack/grenade refs/changes/08/785608/1 && git format-patch -1 --stdout FETCH_HEAD,['grenade.sh'],1,58f63621af1bfed7c603f789d65f2b07913f497c,bug/1923343-stable/wallaby," # NOTE(yoctozepto): Grenade does not know about # TEMPEST_VENV_UPPER_CONSTRAINTS, only DevStack does. # This sources that one variable from it. TEMPEST_VENV_UPPER_CONSTRAINTS=$(set +o xtrace && source $BASE_DEVSTACK_DIR/stackrc && echo $TEMPEST_VENV_UPPER_CONSTRAINTS)",source $BASE_DEVSTACK_DIR/stackrc ,6,2
openstack%2Fgrenade~stable%2Fussuri~If5f14654ab9aee2a140bbfb869b50d63cb289fdf,openstack/grenade,stable/ussuri,If5f14654ab9aee2a140bbfb869b50d63cb289fdf,Fix Grenade DSVM Tempest upper constraints,MERGED,2021-04-12 08:52:21.000000000,2021-04-13 03:00:30.000000000,2021-04-13 02:59:12.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-04-12 08:52:21.000000000', 'files': ['grenade.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/bafd83f808005ee13314c421a11e3746f9c93eab', 'message': ""Fix Grenade DSVM Tempest upper constraints\n\nThe initial source is too early when GRENADE_USE_EXTERNAL_DEVSTACK\nis False (as, e.g., in DSVM [aka devstack-gate, aka legacy] jobs).\nThe issue was introduced in\nI66b5d128c3dbe51289410760ea1cbf7f61c55c2f\nfixing the Tempest upper constraints to be properly pinned.\nIt did not affect Zuul v3 (aka new) jobs.\n\nAlso, let's only source the one variable that we need rather than\nthe whole file.\n\nSee https://review.opendev.org/c/openstack/devstack/+/785547\nfor an example failure.\n\nCloses-Bug: #1923343\nChange-Id: If5f14654ab9aee2a140bbfb869b50d63cb289fdf\n""}]",0,785610,bafd83f808005ee13314c421a11e3746f9c93eab,10,3,1,30491,,,0,"Fix Grenade DSVM Tempest upper constraints

The initial source is too early when GRENADE_USE_EXTERNAL_DEVSTACK
is False (as, e.g., in DSVM [aka devstack-gate, aka legacy] jobs).
The issue was introduced in
I66b5d128c3dbe51289410760ea1cbf7f61c55c2f
fixing the Tempest upper constraints to be properly pinned.
It did not affect Zuul v3 (aka new) jobs.

Also, let's only source the one variable that we need rather than
the whole file.

See https://review.opendev.org/c/openstack/devstack/+/785547
for an example failure.

Closes-Bug: #1923343
Change-Id: If5f14654ab9aee2a140bbfb869b50d63cb289fdf
",git fetch https://review.opendev.org/openstack/grenade refs/changes/10/785610/1 && git format-patch -1 --stdout FETCH_HEAD,['grenade.sh'],1,bafd83f808005ee13314c421a11e3746f9c93eab,bug/1923343-stable/wallaby-stable/victoria-stable/ussuri," # NOTE(yoctozepto): Grenade does not know about # TEMPEST_VENV_UPPER_CONSTRAINTS, only DevStack does. # This sources that one variable from it. TEMPEST_VENV_UPPER_CONSTRAINTS=$(set +o xtrace && source $BASE_DEVSTACK_DIR/stackrc && echo $TEMPEST_VENV_UPPER_CONSTRAINTS)",source $BASE_DEVSTACK_DIR/stackrc ,6,2
openstack%2Fgrenade~master~If5f14654ab9aee2a140bbfb869b50d63cb289fdf,openstack/grenade,master,If5f14654ab9aee2a140bbfb869b50d63cb289fdf,Fix Grenade DSVM Tempest upper constraints,MERGED,2021-04-12 08:49:18.000000000,2021-04-13 02:49:37.000000000,2021-04-13 02:48:35.000000000,"[{'_account_id': 8556}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-04-12 08:49:18.000000000', 'files': ['grenade.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/47689aa917be7ceb2e864650733a4f9876ca1a0f', 'message': ""Fix Grenade DSVM Tempest upper constraints\n\nThe initial source is too early when GRENADE_USE_EXTERNAL_DEVSTACK\nis False (as, e.g., in DSVM [aka devstack-gate, aka legacy] jobs).\nThe issue was introduced in\nI66b5d128c3dbe51289410760ea1cbf7f61c55c2f\nfixing the Tempest upper constraints to be properly pinned.\nIt did not affect Zuul v3 (aka new) jobs.\n\nAlso, let's only source the one variable that we need rather than\nthe whole file.\n\nSee https://review.opendev.org/c/openstack/devstack/+/785547\nfor an example failure.\n\nCloses-Bug: #1923343\nChange-Id: If5f14654ab9aee2a140bbfb869b50d63cb289fdf\n""}]",1,785831,47689aa917be7ceb2e864650733a4f9876ca1a0f,9,4,1,30491,,,0,"Fix Grenade DSVM Tempest upper constraints

The initial source is too early when GRENADE_USE_EXTERNAL_DEVSTACK
is False (as, e.g., in DSVM [aka devstack-gate, aka legacy] jobs).
The issue was introduced in
I66b5d128c3dbe51289410760ea1cbf7f61c55c2f
fixing the Tempest upper constraints to be properly pinned.
It did not affect Zuul v3 (aka new) jobs.

Also, let's only source the one variable that we need rather than
the whole file.

See https://review.opendev.org/c/openstack/devstack/+/785547
for an example failure.

Closes-Bug: #1923343
Change-Id: If5f14654ab9aee2a140bbfb869b50d63cb289fdf
",git fetch https://review.opendev.org/openstack/grenade refs/changes/31/785831/1 && git format-patch -1 --stdout FETCH_HEAD,['grenade.sh'],1,47689aa917be7ceb2e864650733a4f9876ca1a0f,bug/1923343," # NOTE(yoctozepto): Grenade does not know about # TEMPEST_VENV_UPPER_CONSTRAINTS, only DevStack does. # This sources that one variable from it. TEMPEST_VENV_UPPER_CONSTRAINTS=$(set +o xtrace && source $BASE_DEVSTACK_DIR/stackrc && echo $TEMPEST_VENV_UPPER_CONSTRAINTS)",source $BASE_DEVSTACK_DIR/stackrc ,6,2
openstack%2Fironic~stable%2Fussuri~Ie521cf2295613dde5842cbf9a053540a40be4b9c,openstack/ironic,stable/ussuri,Ie521cf2295613dde5842cbf9a053540a40be4b9c,Refactor vendor detection and add Redfish implementation,MERGED,2021-04-01 17:42:04.000000000,2021-04-13 02:35:01.000000000,2021-04-13 02:33:38.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 21909}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 17:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/655a54be2009402a02a611b08918d93969fe8973', 'message': ""Refactor vendor detection and add Redfish implementation\n\nGet rid of the TODO in the code and prepare for more management\ninterfaces supporting detect_vendor(). Vendor detecting now runs\nduring transition to manageable and on power state sync (essentially\nsame as before but for all drivers not only IPMI).\n\nUpdate the IPMI implementation to no longer hide exceptions since\nthey're not handled on the upper level. Simplify the regex and fix\nthe docstring.\n\nAdd the Redfish implementation as a foundation for future\nvendor-specific changes.\n\nChange-Id: Ie521cf2295613dde5842cbf9a053540a40be4b9c\n(cherry picked from commit 121b3348c813eb075ca38bd264a9315ee3acc2fe)\n""}, {'number': 2, 'created': '2021-04-02 01:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cc52d8dcb69890bf271f1727a6248aaba45b4259', 'message': ""Refactor vendor detection and add Redfish implementation\n\nGet rid of the TODO in the code and prepare for more management\ninterfaces supporting detect_vendor(). Vendor detecting now runs\nduring transition to manageable and on power state sync (essentially\nsame as before but for all drivers not only IPMI).\n\nUpdate the IPMI implementation to no longer hide exceptions since\nthey're not handled on the upper level. Simplify the regex and fix\nthe docstring.\n\nAdd the Redfish implementation as a foundation for future\nvendor-specific changes.\n\nChange-Id: Ie521cf2295613dde5842cbf9a053540a40be4b9c\n(cherry picked from commit 121b3348c813eb075ca38bd264a9315ee3acc2fe)\n""}, {'number': 3, 'created': '2021-04-07 17:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1560d13a7c7cb083f6ca8fff92889a4bc3c4e5e8', 'message': ""Refactor vendor detection and add Redfish implementation\n\nGet rid of the TODO in the code and prepare for more management\ninterfaces supporting detect_vendor(). Vendor detecting now runs\nduring transition to manageable and on power state sync (essentially\nsame as before but for all drivers not only IPMI).\n\nUpdate the IPMI implementation to no longer hide exceptions since\nthey're not handled on the upper level. Simplify the regex and fix\nthe docstring.\n\nAdd the Redfish implementation as a foundation for future\nvendor-specific changes.\n\nChange-Id: Ie521cf2295613dde5842cbf9a053540a40be4b9c\n(cherry picked from commit 121b3348c813eb075ca38bd264a9315ee3acc2fe)\n""}, {'number': 4, 'created': '2021-04-08 11:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/21767d0ddbbe68614161ff542df865b185b073f7', 'message': ""Refactor vendor detection and add Redfish implementation\n\nGet rid of the TODO in the code and prepare for more management\ninterfaces supporting detect_vendor(). Vendor detecting now runs\nduring transition to manageable and on power state sync (essentially\nsame as before but for all drivers not only IPMI).\n\nUpdate the IPMI implementation to no longer hide exceptions since\nthey're not handled on the upper level. Simplify the regex and fix\nthe docstring.\n\nAdd the Redfish implementation as a foundation for future\nvendor-specific changes.\n\nChange-Id: Ie521cf2295613dde5842cbf9a053540a40be4b9c\n(cherry picked from commit 121b3348c813eb075ca38bd264a9315ee3acc2fe)\n""}, {'number': 5, 'created': '2021-04-08 14:07:15.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/drivers/modules/redfish/management.py', 'ironic/conductor/utils.py', 'ironic/drivers/modules/ipmitool.py', 'ironic/tests/unit/drivers/modules/redfish/test_management.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4df73e47e1042dcd3cc693520cf63712df0bb875', 'message': ""Refactor vendor detection and add Redfish implementation\n\nGet rid of the TODO in the code and prepare for more management\ninterfaces supporting detect_vendor(). Vendor detecting now runs\nduring transition to manageable and on power state sync (essentially\nsame as before but for all drivers not only IPMI).\n\nUpdate the IPMI implementation to no longer hide exceptions since\nthey're not handled on the upper level. Simplify the regex and fix\nthe docstring.\n\nAdd the Redfish implementation as a foundation for future\nvendor-specific changes.\n\nChange-Id: Ie521cf2295613dde5842cbf9a053540a40be4b9c\n(cherry picked from commit 121b3348c813eb075ca38bd264a9315ee3acc2fe)\n""}]",2,784452,4df73e47e1042dcd3cc693520cf63712df0bb875,34,6,5,21909,,,0,"Refactor vendor detection and add Redfish implementation

Get rid of the TODO in the code and prepare for more management
interfaces supporting detect_vendor(). Vendor detecting now runs
during transition to manageable and on power state sync (essentially
same as before but for all drivers not only IPMI).

Update the IPMI implementation to no longer hide exceptions since
they're not handled on the upper level. Simplify the regex and fix
the docstring.

Add the Redfish implementation as a foundation for future
vendor-specific changes.

Change-Id: Ie521cf2295613dde5842cbf9a053540a40be4b9c
(cherry picked from commit 121b3348c813eb075ca38bd264a9315ee3acc2fe)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/52/784452/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/drivers/modules/redfish/management.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/drivers/modules/ipmitool.py', 'ironic/tests/unit/drivers/modules/redfish/test_management.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py']",6,655a54be2009402a02a611b08918d93969fe8973,cache-vendor,,,70,2
openstack%2Ftripleo-heat-templates~master~I2e54771f0a01d22ce95530bef146ea368189db24,openstack/tripleo-heat-templates,master,I2e54771f0a01d22ce95530bef146ea368189db24,Add systemd dependency to openvswitch to ovn-controller,MERGED,2021-03-24 10:49:10.000000000,2021-04-13 02:00:44.000000000,2021-04-13 02:00:44.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-24 10:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff69f044cf9d95a814ef0d200b28a1403bd4afe5', 'message': 'Add systemd dependency to openvswitch to ovn-controller\n\nOvn controller need openvswitch to be running properly. This\npatch adds the required depends_on so paunch can add the dependency to\nthe systemd service file.\n\nCloses-bug: #1921097\nChange-Id: I2e54771f0a01d22ce95530bef146ea368189db24\n'}, {'number': 2, 'created': '2021-03-24 12:25:52.000000000', 'files': ['deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/51059676b6b6d73648a6ffb3c6364a6f3b5ed42f', 'message': 'Add systemd dependency to openvswitch to ovn-controller\n\nOvn controller need openvswitch to be running properly. This\npatch adds the required depends_on so paunch can add the dependency to\nthe systemd service file.\n\nCloses-bug: #1921097\nChange-Id: I2e54771f0a01d22ce95530bef146ea368189db24\n'}]",1,782687,51059676b6b6d73648a6ffb3c6364a6f3b5ed42f,10,5,2,11082,,,0,"Add systemd dependency to openvswitch to ovn-controller

Ovn controller need openvswitch to be running properly. This
patch adds the required depends_on so paunch can add the dependency to
the systemd service file.

Closes-bug: #1921097
Change-Id: I2e54771f0a01d22ce95530bef146ea368189db24
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/782687/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-controller-container-puppet.yaml'],1,ff69f044cf9d95a814ef0d200b28a1403bd4afe5,ovs-ovn-controller, depends_on: - openvswitch,,2,0
openstack%2Fvalidations-common~master~Ic66b67a8376ace4dd7d03c4dc6ff2a7e8ec164f6,openstack/validations-common,master,Ic66b67a8376ace4dd7d03c4dc6ff2a7e8ec164f6,Tests for validation.py module and helper classes,MERGED,2021-03-19 10:21:47.000000000,2021-04-13 01:52:39.000000000,2021-04-13 01:52:39.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-19 10:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/24133b8d4644d8a0d677d7fc0ea808b24b528b04', 'message': 'Tests for validation.py module and helper classes\n\nAlso groundwork for tests of Validation class.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic66b67a8376ace4dd7d03c4dc6ff2a7e8ec164f6\n'}, {'number': 2, 'created': '2021-03-19 11:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/37a77e5d626d29d4ac25bd2b48de623c7f564d92', 'message': 'Tests for validation.py module and helper classes\n\nAlso groundwork for tests of Validation class.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic66b67a8376ace4dd7d03c4dc6ff2a7e8ec164f6\n'}, {'number': 3, 'created': '2021-03-19 12:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/688859656f86f1ce56a41c1bb891b6bf132ab719', 'message': 'Tests for validation.py module and helper classes\n\nAlso groundwork for tests of Validation class.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic66b67a8376ace4dd7d03c4dc6ff2a7e8ec164f6\n'}, {'number': 4, 'created': '2021-04-06 13:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/fb3a5fcc8766d84f4b8e0251c521120b28df1284', 'message': 'Tests for validation.py module and helper classes\n\nAlso groundwork for tests of Validation class.\n\nCloses-bug: #1922726\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic66b67a8376ace4dd7d03c4dc6ff2a7e8ec164f6\n'}, {'number': 5, 'created': '2021-04-07 13:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/6903347d43dd33f340f592e3660da42e827736de', 'message': 'Tests for validation.py module and helper classes\n\nAlso groundwork for tests of Validation class.\n\nCloses-bug: #1922726\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic66b67a8376ace4dd7d03c4dc6ff2a7e8ec164f6\n'}, {'number': 6, 'created': '2021-04-07 13:13:48.000000000', 'files': ['test-requirements.txt', 'validations_common/tests/test_validation.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/27174b13cdc803e3d0b085924504b1128ad0cf2f', 'message': 'Tests for validation.py module and helper classes\n\nAlso groundwork for tests of Validation class.\n\nCloses-bug: #1922726\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic66b67a8376ace4dd7d03c4dc6ff2a7e8ec164f6\n'}]",3,781615,27174b13cdc803e3d0b085924504b1128ad0cf2f,30,7,6,32926,,,0,"Tests for validation.py module and helper classes

Also groundwork for tests of Validation class.

Closes-bug: #1922726

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ic66b67a8376ace4dd7d03c4dc6ff2a7e8ec164f6
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/15/781615/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'validations_common/tests/test_validation.py']",2,24133b8d4644d8a0d677d7fc0ea808b24b528b04,unittests/validation-validation,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" test_validation ---------------------------------- Tests for `validation` sub module. """""" import argparse from unittest import mock from validations_common import validation from validations_common.tests import base class TestValidationModule(base.TestCase): def setUp(self): self.module = mock.MagicMock() super(TestValidationModule, self).setUp() def test_module_init(self): """"""Check for presence of required module attributes. Including the color constants needed for output formatting. """""" required_attributes = [ 'DESCRIPTION', 'EPILOG', 'RED', 'GREEN', 'CYAN', 'RESET' ] module_attributes = set(dir(validation)) self.assertTrue(set(required_attributes).issubset(module_attributes)) class TestCommaListGroupAction(base.TestCase): def setUp(self): super(TestCommaListGroupAction, self).setUp() @mock.patch('validations_common.validation.setattr') def test_comma_list_group_action(self, mock_setattr): """"""As there is not much to test in this class the assertions are made on attributes and inheritance. """""" action = validation._CommaListGroupAction( dest='foo', option_strings='') action('foo', 'bar', 'fizz,buzz') self.assertEqual(type(action).__mro__[1], argparse.Action) self.assertEqual(action.dest, 'foo') self.assertEqual(action.option_strings, '') mock_setattr.assert_called_once_with('bar', 'foo', ['fizz', 'buzz']) class TestCommaListAction(base.TestCase): def setUp(self): super(TestCommaListAction, self).setUp() @mock.patch('validations_common.validation.setattr') def test_comma_list_action(self, mock_setattr): """"""As there is not much to test in this class the assertions are made on attributes and inheritance. """""" action = validation._CommaListAction( dest='foo', option_strings='') action('foo', 'bar', 'fizz,buzz') self.assertEqual(type(action).__mro__[1], argparse.Action) self.assertEqual(action.dest, 'foo') self.assertEqual(action.option_strings, '') mock_setattr.assert_called_once_with('bar', 'foo', ['fizz', 'buzz']) class TestValidation(base.TestCase): def setUp(self): super(TestValidation, self).setUp() def test_validation_init(self): pass def test_validation_parser(self): pass def test_validation_print_dict_table(self): pass def test_validation_print_tuple_table(self): pass def test_validation_write_output(self): pass def test_validation_take_action_run(self): pass def test_validation_take_action_list(self): pass def test_validation_take_action_show(self): pass ",,124,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I845bc3c533e55dd5398d6a74ee48762cfd32b8a9,openstack/tripleo-heat-templates,stable/train,I845bc3c533e55dd5398d6a74ee48762cfd32b8a9,live_migration setting should be under libvirt namespace,MERGED,2021-03-24 13:49:26.000000000,2021-04-13 01:52:32.000000000,2021-04-13 01:52:32.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-24 13:49:26.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5319872d9e4dc995ed0bae5dfbd69246205ec8b7', 'message': 'live_migration setting should be under libvirt namespace\n\nThey are currently not taken into account because they have the wrong\nnamespaces.\n\nChange-Id: I845bc3c533e55dd5398d6a74ee48762cfd32b8a9\n(cherry picked from commit d350da5a8e29250bd6cfe5fac0131a0eb4415472)\n(cherry picked from commit 9ba03482c4a30151578f0bd1cf33fa48e36c890f)\n(cherry picked from commit 7e4bb3623cf7fa1810c5eb0126a5a047c2b13e1f)\n'}]",0,782722,5319872d9e4dc995ed0bae5dfbd69246205ec8b7,9,10,1,27419,,,0,"live_migration setting should be under libvirt namespace

They are currently not taken into account because they have the wrong
namespaces.

Change-Id: I845bc3c533e55dd5398d6a74ee48762cfd32b8a9
(cherry picked from commit d350da5a8e29250bd6cfe5fac0131a0eb4415472)
(cherry picked from commit 9ba03482c4a30151578f0bd1cf33fa48e36c890f)
(cherry picked from commit 7e4bb3623cf7fa1810c5eb0126a5a047c2b13e1f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/782722/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,5319872d9e4dc995ed0bae5dfbd69246205ec8b7,, nova::migration::libvirt::live_migration_permit_post_copy: nova::migration::libvirt::live_migration_permit_auto_converge: nova::migration::libvirt::live_migration_tunnelled:, nova::migration::live_migration_permit_post_copy: nova::migration::live_migration_permit_auto_converge: nova::migration::live_migration_tunnelled:,3,3
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I845bc3c533e55dd5398d6a74ee48762cfd32b8a9,openstack/tripleo-heat-templates,stable/ussuri,I845bc3c533e55dd5398d6a74ee48762cfd32b8a9,live_migration setting should be under libvirt namespace,MERGED,2021-03-24 13:48:57.000000000,2021-04-13 01:52:15.000000000,2021-04-13 01:52:15.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-24 13:48:57.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7e4bb3623cf7fa1810c5eb0126a5a047c2b13e1f', 'message': 'live_migration setting should be under libvirt namespace\n\nThey are currently not taken into account because they have the wrong\nnamespaces.\n\nChange-Id: I845bc3c533e55dd5398d6a74ee48762cfd32b8a9\n(cherry picked from commit d350da5a8e29250bd6cfe5fac0131a0eb4415472)\n(cherry picked from commit 9ba03482c4a30151578f0bd1cf33fa48e36c890f)\n'}]",0,782720,7e4bb3623cf7fa1810c5eb0126a5a047c2b13e1f,17,11,1,27419,,,0,"live_migration setting should be under libvirt namespace

They are currently not taken into account because they have the wrong
namespaces.

Change-Id: I845bc3c533e55dd5398d6a74ee48762cfd32b8a9
(cherry picked from commit d350da5a8e29250bd6cfe5fac0131a0eb4415472)
(cherry picked from commit 9ba03482c4a30151578f0bd1cf33fa48e36c890f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/782720/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,7e4bb3623cf7fa1810c5eb0126a5a047c2b13e1f,, nova::migration::libvirt::live_migration_permit_post_copy: nova::migration::libvirt::live_migration_permit_auto_converge: nova::migration::libvirt::live_migration_tunnelled:, nova::migration::live_migration_permit_post_copy: nova::migration::live_migration_permit_auto_converge: nova::migration::live_migration_tunnelled:,3,3
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I845bc3c533e55dd5398d6a74ee48762cfd32b8a9,openstack/tripleo-heat-templates,stable/victoria,I845bc3c533e55dd5398d6a74ee48762cfd32b8a9,live_migration setting should be under libvirt namespace,MERGED,2021-03-24 13:48:25.000000000,2021-04-13 01:52:08.000000000,2021-04-13 01:52:08.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-24 13:48:25.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9ba03482c4a30151578f0bd1cf33fa48e36c890f', 'message': 'live_migration setting should be under libvirt namespace\n\nThey are currently not taken into account because they have the wrong\nnamespaces.\n\nChange-Id: I845bc3c533e55dd5398d6a74ee48762cfd32b8a9\n(cherry picked from commit d350da5a8e29250bd6cfe5fac0131a0eb4415472)\n'}]",0,782718,9ba03482c4a30151578f0bd1cf33fa48e36c890f,19,10,1,27419,,,0,"live_migration setting should be under libvirt namespace

They are currently not taken into account because they have the wrong
namespaces.

Change-Id: I845bc3c533e55dd5398d6a74ee48762cfd32b8a9
(cherry picked from commit d350da5a8e29250bd6cfe5fac0131a0eb4415472)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/782718/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,9ba03482c4a30151578f0bd1cf33fa48e36c890f,, nova::migration::libvirt::live_migration_permit_post_copy: nova::migration::libvirt::live_migration_permit_auto_converge: nova::migration::libvirt::live_migration_tunnelled:, nova::migration::live_migration_permit_post_copy: nova::migration::live_migration_permit_auto_converge: nova::migration::live_migration_tunnelled:,3,3
openstack%2Ftripleo-heat-templates~master~Id0d73a8ab0ddf7bf9e2b76ea14ffc9acff3a0ad3,openstack/tripleo-heat-templates,master,Id0d73a8ab0ddf7bf9e2b76ea14ffc9acff3a0ad3,Mount /etc/openldap inside the keystone container,MERGED,2021-04-08 12:39:48.000000000,2021-04-13 01:51:54.000000000,2021-04-13 01:51:54.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-08 12:39:48.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/313e4484e2a219eec7affb5e1e5e61d41687c6fd', 'message': 'Mount /etc/openldap inside the keystone container\n\nFor configuring high availability for LDAP in keystone one\nneeds to edit /etc/openldap/ldap.conf. This worked\nbefore control plane was containerised. Mounting the\nopenldap configuration into the keystone container\nrestores the previous behavior.\n\nChange-Id: Id0d73a8ab0ddf7bf9e2b76ea14ffc9acff3a0ad3\nCloses-Bug: #1923048\nResolves: rhbz#1944466\n'}]",0,785404,313e4484e2a219eec7affb5e1e5e61d41687c6fd,11,6,1,14250,,,0,"Mount /etc/openldap inside the keystone container

For configuring high availability for LDAP in keystone one
needs to edit /etc/openldap/ldap.conf. This worked
before control plane was containerised. Mounting the
openldap configuration into the keystone container
restores the previous behavior.

Change-Id: Id0d73a8ab0ddf7bf9e2b76ea14ffc9acff3a0ad3
Closes-Bug: #1923048
Resolves: rhbz#1944466
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/785404/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,313e4484e2a219eec7affb5e1e5e61d41687c6fd,, - /etc/openldap:/etc/openldap:ro,,1,0
openstack%2Fneutron~master~I8d8c1e7d6fcbd4afa0912b1b572b992ed8b73819,openstack/neutron,master,I8d8c1e7d6fcbd4afa0912b1b572b992ed8b73819,Unit tests for Quotas API's secure-rbac-policies,MERGED,2021-04-06 12:51:58.000000000,2021-04-13 01:47:37.000000000,2021-04-13 01:41:49.000000000,"[{'_account_id': 5046}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 12:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc72eeb3416c3106551cb510321379102a66b043', 'message': ""Unit tests for Quotas API's secure-rbac-policies\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: I8d8c1e7d6fcbd4afa0912b1b572b992ed8b73819\n""}, {'number': 2, 'created': '2021-04-12 13:14:01.000000000', 'files': ['neutron/tests/unit/conf/policies/test_quotas.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/89a31185cbcb5a21591021a171839a693e3f12d3', 'message': ""Unit tests for Quotas API's secure-rbac-policies\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: I8d8c1e7d6fcbd4afa0912b1b572b992ed8b73819\n""}]",2,784946,89a31185cbcb5a21591021a171839a693e3f12d3,18,5,2,11975,,,0,"Unit tests for Quotas API's secure-rbac-policies

Partially-Implements blueprint: secure-rbac-roles

Change-Id: I8d8c1e7d6fcbd4afa0912b1b572b992ed8b73819
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/784946/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/conf/policies/test_quotas.py'],1,bc72eeb3416c3106551cb510321379102a66b043,secure-rbac,"# Copyright (c) 2021 Red Hat Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from oslo_policy import policy as base_policy from neutron import policy from neutron.tests.unit.conf.policies import base class QuoatsAPITestCase(base.PolicyBaseTestCase): def setUp(self): super(QuoatsAPITestCase, self).setUp() self.target = {'project_id': self.project_id} self.alt_target = {'project_id': self.alt_project_id} class SystemAdminTests(QuoatsAPITestCase): def setUp(self): super(SystemAdminTests, self).setUp() self.context = self.system_admin_ctx def test_get_quota(self): self.assertTrue( policy.enforce(self.context, 'get_quota', self.target)) self.assertTrue( policy.enforce(self.context, 'get_quota', self.alt_target)) def test_update_quota(self): self.assertTrue( policy.enforce(self.context, 'update_quota', self.target)) self.assertTrue( policy.enforce(self.context, 'update_quota', self.alt_target)) def test_delete_quota(self): self.assertTrue( policy.enforce(self.context, 'delete_quota', self.target)) self.assertTrue( policy.enforce(self.context, 'delete_quota', self.alt_target)) class SystemMemberTests(QuoatsAPITestCase): def setUp(self): super(SystemMemberTests, self).setUp() self.context = self.system_member_ctx def test_get_quota(self): self.assertTrue( policy.enforce(self.context, 'get_quota', self.target)) self.assertTrue( policy.enforce(self.context, 'get_quota', self.alt_target)) def test_update_quota(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_quota', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_quota', self.alt_target) def test_delete_quota(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_quota', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_quota', self.alt_target) class SystemReaderTests(SystemMemberTests): def setUp(self): super(SystemReaderTests, self).setUp() self.context = self.system_reader_ctx class ProjectAdminTests(QuoatsAPITestCase): def setUp(self): super(ProjectAdminTests, self).setUp() self.context = self.project_admin_ctx def test_get_quota(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_quota', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_quota', self.alt_target) def test_update_quota(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_quota', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_quota', self.alt_target) def test_delete_quota(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_quota', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_quota', self.alt_target) class ProjectMemberTests(ProjectAdminTests): def setUp(self): super(ProjectMemberTests, self).setUp() self.context = self.project_member_ctx class ProjectReaderTests(ProjectMemberTests): def setUp(self): super(ProjectReaderTests, self).setUp() self.context = self.project_reader_ctx ",,143,0
openstack%2Fcinder~stable%2Fvictoria~I8b67cc2d9a51f777a245739299e4bc44a7d0733b,openstack/cinder,stable/victoria,I8b67cc2d9a51f777a245739299e4bc44a7d0733b,Tests: Don't assert notifier not called,MERGED,2021-03-19 22:04:33.000000000,2021-04-13 01:47:27.000000000,2021-04-13 01:41:10.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-03-19 22:04:33.000000000', 'files': ['cinder/tests/unit/volume/test_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/30b863d3ff31ffbd02b3f5791084e9b534f53093', 'message': ""Tests: Don't assert notifier not called\n\nThis doesn't work reliably -- it could be\nmade to, but just skip this check for now\nto prevent spurious failures.\n\nRelated-Bug: #1803648\n\nChange-Id: I8b67cc2d9a51f777a245739299e4bc44a7d0733b\n(cherry picked from commit 9f0be9994631fa2792f86dd27ffe539b8acbc686)\n""}]",0,781813,30b863d3ff31ffbd02b3f5791084e9b534f53093,16,4,1,4523,,,0,"Tests: Don't assert notifier not called

This doesn't work reliably -- it could be
made to, but just skip this check for now
to prevent spurious failures.

Related-Bug: #1803648

Change-Id: I8b67cc2d9a51f777a245739299e4bc44a7d0733b
(cherry picked from commit 9f0be9994631fa2792f86dd27ffe539b8acbc686)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/13/781813/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/test_volume.py'],1,30b863d3ff31ffbd02b3f5791084e9b534f53093,,, mock_notify.assert_not_called() mock_notify.assert_not_called() mock_notify.assert_not_called() ,1,4
openstack%2Fneutron~master~Ic3ec1e6fa296248f8db08edcfb3120c85d2c872a,openstack/neutron,master,Ic3ec1e6fa296248f8db08edcfb3120c85d2c872a,Add tests for FIPs port forwarding API's new policy rules,MERGED,2021-03-22 12:34:50.000000000,2021-04-13 01:45:55.000000000,2021-04-13 01:41:25.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-22 12:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6522216a62e8affde292f58174b60203eddb965b', 'message': ""Add tests for FIPs port forwarding API's new policy rules\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: Ic3ec1e6fa296248f8db08edcfb3120c85d2c872a\n""}, {'number': 2, 'created': '2021-03-31 13:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/def03742d2d801fc309ea05b7e1c06c072fbbdce', 'message': ""Add tests for FIPs port forwarding API's new policy rules\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: Ic3ec1e6fa296248f8db08edcfb3120c85d2c872a\n""}, {'number': 3, 'created': '2021-03-31 13:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/24a4b2e317986a9621edbb4362897641a88f194f', 'message': ""Add tests for FIPs port forwarding API's new policy rules\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: Ic3ec1e6fa296248f8db08edcfb3120c85d2c872a\n""}, {'number': 4, 'created': '2021-04-12 13:01:30.000000000', 'files': ['neutron/tests/unit/conf/policies/test_floatingip_port_forwarding.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8305c34e1a4027a4a091a8de0d4758a13d02cf0', 'message': ""Add tests for FIPs port forwarding API's new policy rules\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: Ic3ec1e6fa296248f8db08edcfb3120c85d2c872a\n""}]",7,782246,d8305c34e1a4027a4a091a8de0d4758a13d02cf0,26,4,4,11975,,,0,"Add tests for FIPs port forwarding API's new policy rules

Related-blueprint: bp/secure-rbac-roles
Change-Id: Ic3ec1e6fa296248f8db08edcfb3120c85d2c872a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/782246/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/conf/policies/test_floatingip_port_forwarding.py'],1,6522216a62e8affde292f58174b60203eddb965b,secure-rbac,"# Copyright (c) 2021 Red Hat Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from unittest import mock from oslo_policy import policy as base_policy from oslo_utils import uuidutils from neutron import policy from neutron.tests.unit.conf.policies import base class FloatingipPortForwardingAPITestCase(base.PolicyBaseTestCase): def setUp(self): super(FloatingipPortForwardingAPITestCase, self).setUp() self.fip = { 'id': uuidutils.generate_uuid(), 'project_id': self.project_id} self.target = { 'project_id': self.project_id, 'floatingip_id': self.fip['id'], 'ext_parent_floatingip_id': self.fip['id']} self.plugin_mock = mock.Mock() self.plugin_mock.get_floatingip.return_value = self.fip mock.patch( 'neutron_lib.plugins.directory.get_plugin', return_value=self.plugin_mock).start() def test_system_admin_can_create_fip_pf(self): self.assertTrue( policy.enforce(self.system_admin_ctx, 'create_floatingip_port_forwarding', self.target)) def test_system_member_can_not_create_fip_pf(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.system_member_ctx, 'create_floatingip_port_forwarding', self.target) def test_project_admin_can_create_fip_pf(self): self.assertTrue( policy.enforce(self.project_admin_ctx, 'create_floatingip_port_forwarding', self.target)) def test_project_member_can_create_fip_pf(self): self.assertTrue( policy.enforce(self.project_member_ctx, 'create_floatingip_port_forwarding', self.target)) def test_project_reader_can_not_create_fip_pf(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_reader_ctx, 'create_floatingip_port_forwarding', self.target) def test_project_admin_can_not_create_fip_pf_for_other_project(self): target = self.target.copy() target['project_id'] = 'some-other-project' self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_admin_ctx, 'create_floatingip_port_forwarding', target) def test_project_member_can_create_fip_pf_for_other_project(self): target = self.target.copy() target['project_id'] = 'some-other-project' self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_member_ctx, 'create_floatingip_port_forwarding', target) def test_project_reader_can_not_create_fip_pf_for_other_project(self): target = self.target.copy() target['project_id'] = 'some-other-project' self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_reader_ctx, 'create_floatingip_port_forwarding', target) def test_system_admin_can_get_fip_pf(self): self.assertTrue( policy.enforce(self.system_admin_ctx, 'get_floatingip_port_forwarding', self.target)) def test_system_member_can_get_fip_pf(self): self.assertTrue( policy.enforce(self.system_member_ctx, 'get_floatingip_port_forwarding', self.target)) def test_system_reader_can_get_fip_pf(self): self.assertTrue( policy.enforce(self.system_member_ctx, 'get_floatingip_port_forwarding', self.target)) def test_project_admin_can_get_fip_pf(self): self.assertTrue( policy.enforce(self.project_admin_ctx, 'get_floatingip_port_forwarding', self.target)) def test_project_member_can_get_fip_pf(self): self.assertTrue( policy.enforce(self.project_member_ctx, 'get_floatingip_port_forwarding', self.target)) def test_project_reader_can_get_fip_pf(self): self.assertTrue( policy.enforce(self.project_reader_ctx, 'get_floatingip_port_forwarding', self.target)) def test_project_admin_can_not_get_fip_pf_from_other_project(self): target = self.target.copy() target['project_id'] = 'some-other-project' self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_admin_ctx, 'get_floatingip_port_forwarding', target) def test_project_member_can_not_get_fip_pf_from_other_project(self): target = self.target.copy() target['project_id'] = 'some-other-project' self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_member_ctx, 'get_floatingip_port_forwarding', target) def test_project_reader_can_not_get_fip_pf_from_other_project(self): target = self.target.copy() target['project_id'] = 'some-other-project' self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_member_ctx, 'get_floatingip_port_forwarding', target) def test_system_admin_can_update_fip_pf(self): self.assertTrue( policy.enforce(self.system_admin_ctx, 'update_floatingip_port_forwarding', self.target)) def test_system_member_can_not_update_fip_pf(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.system_member_ctx, 'update_floatingip_port_forwarding', self.target) def test_project_admin_can_update_fip_pf(self): self.assertTrue( policy.enforce(self.project_admin_ctx, 'update_floatingip_port_forwarding', self.target)) def test_project_member_can_update_fip_pf(self): self.assertTrue( policy.enforce(self.project_member_ctx, 'update_floatingip_port_forwarding', self.target)) def test_project_reader_can_not_update_fip_pf(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_reader_ctx, 'update_floatingip_port_forwarding', self.target) def test_project_admin_can_not_update_fip_pf_for_other_project(self): target = self.target.copy() target['project_id'] = 'some-other-project' self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_admin_ctx, 'update_floatingip_port_forwarding', target) def test_project_member_can_not_update_fip_pf_for_other_project(self): target = self.target.copy() target['project_id'] = 'some-other-project' self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_member_ctx, 'update_floatingip_port_forwarding', target) def test_project_reader_can_not_update_fip_pf_for_other_project(self): target = self.target.copy() target['project_id'] = 'some-other-project' self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_reader_ctx, 'update_floatingip_port_forwarding', target) def test_system_admin_can_delete_fip_pf(self): self.assertTrue( policy.enforce(self.system_admin_ctx, 'delete_floatingip_port_forwarding', self.target)) def test_system_member_can_not_delete_fip_pf(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.system_member_ctx, 'delete_floatingip_port_forwarding', self.target) def test_project_admin_can_delete_fip_pf(self): self.assertTrue( policy.enforce(self.project_admin_ctx, 'delete_floatingip_port_forwarding', self.target)) def test_project_member_can_delete_fip_pf(self): self.assertTrue( policy.enforce(self.project_member_ctx, 'delete_floatingip_port_forwarding', self.target)) def test_project_reader_can_not_delete_fip_pf(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_reader_ctx, 'delete_floatingip_port_forwarding', self.target) def test_project_admin_can_not_delete_fip_pf_for_other_project(self): target = self.target.copy() target['project_id'] = 'some-other-project' self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_admin_ctx, 'delete_floatingip_port_forwarding', target) def test_project_member_can_not_delete_fip_pf_for_other_project(self): target = self.target.copy() target['project_id'] = 'some-other-project' self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_member_ctx, 'delete_floatingip_port_forwarding', target) def test_project_reader_can_not_delete_fip_pf_for_other_project(self): target = self.target.copy() target['project_id'] = 'some-other-project' self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_reader_ctx, 'delete_floatingip_port_forwarding', target) ",,281,0
openstack%2Fcinder~stable%2Fvictoria~I482c3d5520a7bbb9971942cdb4c4208052106d70,openstack/cinder,stable/victoria,I482c3d5520a7bbb9971942cdb4c4208052106d70,Backup manager: Synchronously call remove_export,MERGED,2021-03-25 18:34:45.000000000,2021-04-13 01:45:52.000000000,2021-04-13 01:40:19.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-25 18:34:45.000000000', 'files': ['cinder/backup/manager.py', 'releasenotes/notes/bug-1920237-backup-remove-export-race-941e2ab1f056e54c.yaml', 'cinder/volume/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5402ac8e2d30872b526c3ac7d9f10645452fbf66', 'message': 'Backup manager: Synchronously call remove_export\n\nCall the volume\'s rpcapi remove_export method with\na ""call"" instead of a ""cast"" when detaching volumes\nin the backup manager.\n\nThis prevents _detach_volume() from returning before\nthe remove_export() has completed, which helps prevent\nproblems where remove_export() races against a\nsubsequent operation.\n\nCloses-Bug: #1920237\n\nChange-Id: I482c3d5520a7bbb9971942cdb4c4208052106d70\n(cherry picked from commit d6895f9d2aab84c116efc2f853bb5f9e57fac539)\n'}]",0,782970,5402ac8e2d30872b526c3ac7d9f10645452fbf66,22,3,1,4523,,,0,"Backup manager: Synchronously call remove_export

Call the volume's rpcapi remove_export method with
a ""call"" instead of a ""cast"" when detaching volumes
in the backup manager.

This prevents _detach_volume() from returning before
the remove_export() has completed, which helps prevent
problems where remove_export() races against a
subsequent operation.

Closes-Bug: #1920237

Change-Id: I482c3d5520a7bbb9971942cdb4c4208052106d70
(cherry picked from commit d6895f9d2aab84c116efc2f853bb5f9e57fac539)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/70/782970/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/backup/manager.py', 'releasenotes/notes/bug-1920237-backup-remove-export-race-941e2ab1f056e54c.yaml', 'cinder/volume/rpcapi.py']",3,5402ac8e2d30872b526c3ac7d9f10645452fbf66,bug/1920237-stable/victoria," def remove_export(self, ctxt, volume, sync=False): if sync: cctxt.call(ctxt, 'remove_export', volume_id=volume.id) else: cctxt.cast(ctxt, 'remove_export', volume_id=volume.id)"," def remove_export(self, ctxt, volume): cctxt.cast(ctxt, 'remove_export', volume_id=volume['id'])",14,3
openstack%2Fneutron~stable%2Fqueens~I63221507713b941c261cdf88781133149da8ab8d,openstack/neutron,stable/queens,I63221507713b941c261cdf88781133149da8ab8d,"Don't configure dnsmasq entries for ""network"" ports",MERGED,2021-02-23 20:21:28.000000000,2021-04-13 01:45:49.000000000,2021-04-13 01:40:56.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 20:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/25fc3388d8e90f9418837adcfa0b337160129619', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like:\n* floating_ip,\n* DHCP,\n* some types of router ports, like: HA interface interface,\n* distributed ports,\ndon\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\n\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nConflicts:\n    neutron/agent/linux/dhcp.py\n    neutron/agent/dhcp/agent.py\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)\n'}, {'number': 2, 'created': '2021-02-25 09:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a28154b94bc1f2ea84f0a9de895c567a57663d2c', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like:\n* floating_ip,\n* DHCP,\n* some types of router ports, like: HA interface interface,\n* distributed ports,\ndon\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\n\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nConflicts:\n    neutron/agent/linux/dhcp.py\n    neutron/agent/dhcp/agent.py\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)\n'}, {'number': 3, 'created': '2021-03-08 09:01:55.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'releasenotes/notes/do-not-create-dhcp-entries-for-all-types-of-ports-39c03b3782d2753e.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/89ff862e35245fcd9a62c7be2b28b8dfc6bf7d7e', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like:\n* floating_ip,\n* DHCP,\n* some types of router ports, like: HA interface interface,\ndon\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\n\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nConflicts:\n    neutron/agent/linux/dhcp.py\n    neutron/agent/dhcp/agent.py\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)\n'}]",0,777124,89ff862e35245fcd9a62c7be2b28b8dfc6bf7d7e,38,3,3,11975,,,0,"Don't configure dnsmasq entries for ""network"" ports

Ports with device_owner like:
* floating_ip,
* DHCP,
* some types of router ports, like: HA interface interface,
don't need to be configured in the dnsmasq file.
So there is no need to reload dnsmasq every time when such port is
added/updated to the network.

This patch adds skip in such case which should improve load on the
Neutron DHCP agent.

Conflicts:
    neutron/agent/linux/dhcp.py
    neutron/agent/dhcp/agent.py

Closes-Bug: #1913269
Change-Id: I63221507713b941c261cdf88781133149da8ab8d
(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/777124/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'releasenotes/notes/do-not-create-dhcp-entries-for-all-types-of-ports-39c03b3782d2753e.yaml']",4,25fc3388d8e90f9418837adcfa0b337160129619,bug/1913269-stable/stein-stable/rocky-stable/queens,"--- other: - | To improve performance of the DHCP agent, it will no longer configure the DHCP server for every port type created in Neutron. For example, for floating IP or router HA interfaces there is no need since a client will not make a DHCP request for them ",,46,0
openstack%2Fswift~master~If04c083ccc9f63696b1f53ac13edc932740a0654,openstack/swift,master,If04c083ccc9f63696b1f53ac13edc932740a0654,s3api: Add config option to return 429s on ratelimit,MERGED,2020-05-19 02:36:36.000000000,2021-04-13 01:45:45.000000000,2021-04-13 01:42:12.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-19 02:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/26fb1044e5d97389d93312531655226bb5f212ac', 'message': 's3api: Add config option to return 429s on ratelimit\n\nChange-Id: If04c083ccc9f63696b1f53ac13edc932740a0654\n'}, {'number': 2, 'created': '2020-05-26 22:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3b0036a1fe41d86a52ec548ac8804d70a047a8bb', 'message': 's3api: Add config option to return 429s on ratelimit\n\nChange-Id: If04c083ccc9f63696b1f53ac13edc932740a0654\n'}, {'number': 3, 'created': '2021-03-11 22:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a3c0c01ee5843dd58588f38b8c6c97c8ef9fb909', 'message': 's3api: Add config option to return 429s on ratelimit\n\nChange-Id: If04c083ccc9f63696b1f53ac13edc932740a0654\n'}, {'number': 4, 'created': '2021-03-17 18:00:50.000000000', 'files': ['test/unit/common/middleware/s3api/test_obj.py', 'test/unit/common/middleware/s3api/__init__.py', 'etc/proxy-server.conf-sample', 'swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/s3api/test_utils.py', 'swift/common/middleware/s3api/s3api.py', 'swift/common/middleware/s3api/utils.py', 'test/unit/common/middleware/s3api/test_s3api.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e35365df512bade4ff03360e2f2c69ffc4b326be', 'message': 's3api: Add config option to return 429s on ratelimit\n\nChange-Id: If04c083ccc9f63696b1f53ac13edc932740a0654\n'}]",2,729093,e35365df512bade4ff03360e2f2c69ffc4b326be,17,2,4,15343,,,0,"s3api: Add config option to return 429s on ratelimit

Change-Id: If04c083ccc9f63696b1f53ac13edc932740a0654
",git fetch https://review.opendev.org/openstack/swift refs/changes/93/729093/2 && git format-patch -1 --stdout FETCH_HEAD,"['etc/proxy-server.conf-sample', 'swift/common/middleware/s3api/s3request.py', 'swift/common/middleware/s3api/s3api.py', 'swift/common/middleware/s3api/utils.py']",4,26fb1044e5d97389d93312531655226bb5f212ac,s3api-429," 'ratelimit_as_client_error': False,",,10,0
openstack%2Fnova~master~Ia7ad1322b5a15d1407140c77fe0edb179f66ec7a,openstack/nova,master,Ia7ad1322b5a15d1407140c77fe0edb179f66ec7a,Neutron fixture: don't clobber profile and vif_details if empty,MERGED,2021-03-26 16:45:30.000000000,2021-04-13 01:45:43.000000000,2021-04-13 01:42:43.000000000,"[{'_account_id': 4690}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 16:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5dcb86bbf4d338b88ae3ee1f35b749d605b4d25e', 'message': ""WIP: Neutron fixture: don't clobber profile and vif_details if empty\n\nChange-Id: Ia7ad1322b5a15d1407140c77fe0edb179f66ec7a\n""}, {'number': 2, 'created': '2021-03-27 15:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f088d7bb8055b6ec511cacfc583af73ba8dfda3', 'message': ""Neutron fixture: don't clobber profile and vif_details if empty\n\nPreviously, the way Neutron fixture's update_port method was coded\nwould cause the binding:profile and binding:vid_details fields to get\nclobbered if they were not passed to the update. This was because if\nnothing was passed, a default of {} was used. This is not how the real\nNeutron API behaves. If nothing is passed, the previous values remain\nand are not replaced with {}. This patches fixes this in the Neutron\nfixture.\n\nChange-Id: Ia7ad1322b5a15d1407140c77fe0edb179f66ec7a\n""}, {'number': 3, 'created': '2021-04-01 20:27:49.000000000', 'files': ['nova/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/62868aaac70d908ade6ff80c8ced54afa0435a76', 'message': ""Neutron fixture: don't clobber profile and vif_details if empty\n\nPreviously, the way Neutron fixture's update_port method was coded\nwould cause the binding:profile and binding:vid_details fields to get\nclobbered if they were not passed to the update. This was because if\nnothing was passed, a default of {} was used. This is not how the real\nNeutron API behaves. If nothing is passed, the previous values remain\nand are not replaced with {}. This patches fixes this in the Neutron\nfixture.\n\nChange-Id: Ia7ad1322b5a15d1407140c77fe0edb179f66ec7a\n""}]",3,783385,62868aaac70d908ade6ff80c8ced54afa0435a76,21,4,3,8864,,,0,"Neutron fixture: don't clobber profile and vif_details if empty

Previously, the way Neutron fixture's update_port method was coded
would cause the binding:profile and binding:vid_details fields to get
clobbered if they were not passed to the update. This was because if
nothing was passed, a default of {} was used. This is not how the real
Neutron API behaves. If nothing is passed, the previous values remain
and are not replaced with {}. This patches fixes this in the Neutron
fixture.

Change-Id: Ia7ad1322b5a15d1407140c77fe0edb179f66ec7a
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/783385/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures.py'],1,5dcb86bbf4d338b88ae3ee1f35b749d605b4d25e,, update = { if body['port'].get('binding:profile'): update['profile'] = body['port']['binding:profile'] if body['port'].get('binding:vif_details'): update['vif_details'] = body['port']['binding:vif_details'] self._port_bindings[port_id][host] = update," self._port_bindings[port_id][host] = { 'profile': copy.deepcopy( body['port'].get('binding:profile') or {}, ), 'vif_details': port.get('binding:vif_details') or {},",6,5
openstack%2Fcinder~master~Ibf81c839fc9015051edcdb625e1018b817a9c675,openstack/cinder,master,Ibf81c839fc9015051edcdb625e1018b817a9c675,Backup manager: Synchronously call remove_export_snapshot,MERGED,2021-03-22 15:07:59.000000000,2021-04-13 01:45:26.000000000,2021-04-13 01:40:01.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-22 15:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a1a858e354e73425e6664310e1bb35e4226f563a', 'message': 'Backup manager: Synchronously call remove_export_snapshot\n\nSimilar to the fix in I482c3d552, wait for remove_export_snapshot()\nto complete before returning from _detach_volume().\n\nRelated-Bug: #1920237\nChange-Id: Ibf81c839fc9015051edcdb625e1018b817a9c675\n'}, {'number': 2, 'created': '2021-03-22 18:36:02.000000000', 'files': ['cinder/backup/manager.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/volume/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5dea649c478ef2b9f0e4f16f1cdafa48cbdfe740', 'message': 'Backup manager: Synchronously call remove_export_snapshot\n\nSimilar to the fix in I482c3d552, wait for remove_export_snapshot()\nto complete before returning from _detach_volume().\n\nRelated-Bug: #1920237\nChange-Id: Ibf81c839fc9015051edcdb625e1018b817a9c675\n'}]",0,782271,5dea649c478ef2b9f0e4f16f1cdafa48cbdfe740,32,4,2,4523,,,0,"Backup manager: Synchronously call remove_export_snapshot

Similar to the fix in I482c3d552, wait for remove_export_snapshot()
to complete before returning from _detach_volume().

Related-Bug: #1920237
Change-Id: Ibf81c839fc9015051edcdb625e1018b817a9c675
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/782271/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/backup/manager.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/volume/rpcapi.py']",3,a1a858e354e73425e6664310e1bb35e4226f563a,bug/1920237," def remove_export_snapshot(self, ctxt, snapshot, sync=False): if sync: cctxt.call(ctxt, 'remove_export_snapshot', snapshot_id=snapshot.id) else: cctxt.cast(ctxt, 'remove_export_snapshot', snapshot_id=snapshot.id)"," def remove_export_snapshot(self, ctxt, snapshot): cctxt.cast(ctxt, 'remove_export_snapshot', snapshot_id=snapshot.id)",10,4
openstack%2Fneutron~stable%2Fqueens~I98e55242d381ada642ca0729e9aefdea7628c945,openstack/neutron,stable/queens,I98e55242d381ada642ca0729e9aefdea7628c945,Fix update of trunk subports during live migration,MERGED,2021-02-11 09:00:50.000000000,2021-04-13 01:40:42.000000000,2021-04-13 01:40:42.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-02-11 09:00:50.000000000', 'files': ['neutron/services/trunk/rpc/server.py', 'neutron/tests/unit/services/trunk/rpc/test_server.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/68d9a977739312398058f1b964554e13c1ff06fa', 'message': 'Fix update of trunk subports during live migration\n\nDuring the live migration trunk subports where updated only based\non the ""host_id"" field. But when rpc message to update subports\nis send trunk\'s port is still bound to the old host and has\n""migrating_to"" field in binding:profile set to the new host.\nBecause of that binding:host_id for the subport\'s port wasn\'t updated\nproberly and port was set to DOWN on the new host.\nThat could even cause connectivity break if L2population is used in the\ncloud.\n\nThis patch fixes that by updating subport\'s binding:host_id field based\non the migrating_to field if that is available and not empty.\n\nCloses-Bug: #1914747\nChange-Id: I98e55242d381ada642ca0729e9aefdea7628c945\n(cherry picked from commit e05101c8ac953cc2823b35aaed3d499afc101988)\n'}]",0,775104,68d9a977739312398058f1b964554e13c1ff06fa,37,4,1,11975,,,0,"Fix update of trunk subports during live migration

During the live migration trunk subports where updated only based
on the ""host_id"" field. But when rpc message to update subports
is send trunk's port is still bound to the old host and has
""migrating_to"" field in binding:profile set to the new host.
Because of that binding:host_id for the subport's port wasn't updated
proberly and port was set to DOWN on the new host.
That could even cause connectivity break if L2population is used in the
cloud.

This patch fixes that by updating subport's binding:host_id field based
on the migrating_to field if that is available and not empty.

Closes-Bug: #1914747
Change-Id: I98e55242d381ada642ca0729e9aefdea7628c945
(cherry picked from commit e05101c8ac953cc2823b35aaed3d499afc101988)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/775104/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/trunk/rpc/server.py', 'neutron/tests/unit/services/trunk/rpc/test_server.py']",2,68d9a977739312398058f1b964554e13c1ff06fa,bug/1914747-stable/victoria-stable/ussuri-stable/train-stable/stein-stable/rocky-stable/queens," def test_update_subport_bindings_during_migration(self): with self.port() as _parent_port: parent_port = _parent_port trunk = self._create_test_trunk(parent_port) subports = [] for vid in range(0, 3): with self.port() as new_port: obj = trunk_obj.SubPort( context=self.context, trunk_id=trunk['id'], port_id=new_port['port']['id'], segmentation_type='vlan', segmentation_id=vid) subports.append(obj) expected_calls = [ mock.call( mock.ANY, subport['port_id'], {'port': {portbindings.HOST_ID: 'new_trunk_host_id', 'device_owner': constants.TRUNK_SUBPORT_OWNER}}) for subport in subports] test_obj = server.TrunkSkeleton() test_obj._trunk_plugin = self.trunk_plugin test_obj._core_plugin = self.core_plugin port_data = { portbindings.HOST_ID: 'trunk_host_id', portbindings.PROFILE: {'migrating_to': 'new_trunk_host_id'}} with mock.patch.object( self.core_plugin, ""get_port"", return_value=port_data), \ mock.patch.object( test_obj, ""_safe_update_trunk""): test_obj.update_subport_bindings(self.context, subports=subports) for expected_call in expected_calls: self.assertIn(expected_call, self.mock_update_port.mock_calls) ",,43,0
openstack%2Fcinder~stable%2Fvictoria~I6824ba4fbcb6fd8f57f8ff86ad7132446ac6c504,openstack/cinder,stable/victoria,I6824ba4fbcb6fd8f57f8ff86ad7132446ac6c504,LVM: Fix delete volume error due to lvs failure,MERGED,2021-04-07 15:27:20.000000000,2021-04-13 01:18:34.000000000,2021-04-13 01:16:27.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 15:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d017b3f4f996b7e58aed3808a7c52f0faa54bd77', 'message': ""LVM: Fix delete volume error due to lvs failure\n\nSometimes we get an unexpected failure on the lvs command where it exits\nwith code 139, which is not one of the 5 predefined ones in the code\nECMD_PROCESSED, ENO_SUCH_CMD, EINVALID_CMD_LINE, EINIT_FAILED, or\nECMD_FAILED.\n\nWe've seen this happen mostly on CI jobs when deleting a volume, on the\ncheck to see if the volume is present (``_volume_not_present``) and\nmakes the whole operation unexpectedly fail.\n\nWhen looking at the logs we can find other instances of this same exit\ncode happening in other calls, but those are fortunately to be covered\nby retries for other unexpected errors such as bug #1335905 that seem to\nmake the call eventually succeed.\n\nThe stderr of the failure is polluted with debug and warning messages\nsuch as:\n\n  [1] /dev/sda1: stat failed: No such file or directory\n\n      This has been removed [2] from the LVM code indicating it's\n      somewhat troublesome, but doesn't explain how.\n\n  [3] Path /dev/sda1 no longer valid for device(8,1)\n\n  [4] WARNING: Scan ignoring device 8:0 with no paths.\n\nBut the real error is most likely:\n\n  [5]: Device open /dev/sda 8:0 failed errno 2\n\nOn failure we see that error twice, because the code retries it in LVM\ntrying to workaround some kind of unknown udev race [6].\n\nSince the LVM code indicates that a retry can help, we'll retry on error\n139 when calling ``get_lv_info``.\n\nTo narrow down the retry we'll only do it on error 139, so we modify the\nexisting ``retry`` decorator to accept the ``retry`` parameter (same as\nthe tenacity library) and create our own retry if the\nProcessExecutionError fails with a specific error.\n\nThis pattern seems better than blindly retrying all\nProcessExecutionError cases.\n\n[1]: https://github.com/lvmteam/lvm2/blob/17f5572bc972c932bcf62fc2bff3029268ae0109/lib/filters/filter-persistent.c#L132\n[2]: https://github.com/lvmteam/lvm2/commit/22c5467add88268554a7d163a26892166dbc3104\n[3]: https://github.com/lvmteam/lvm2/blob/b84a9927b78727efffbb257a61e9e95a648cdfab/lib/device/dev-cache.c#L1396-L1402\n[4]: https://github.com/lvmteam/lvm2/blob/b84a9927b78727efffbb257a61e9e95a648cdfab/lib/label/label.c#L798\n[5]: https://github.com/lvmteam/lvm2/blob/b84a9927b78727efffbb257a61e9e95a648cdfab/lib/label/label.c#L550\n[6]: https://github.com/lvmteam/lvm2/blob/b84a9927b78727efffbb257a61e9e95a648cdfab/lib/label/label.c#L562-L567\n\nConflicts:\n    cinder/volume/drivers/inspur/as13000/as13000_driver.py\nConflict caused by the rename of a (decorator) class in >=wallaby\n\nCloses-Bug: #1901783\nChange-Id: I6824ba4fbcb6fd8f57f8ff86ad7132446ac6c504\n(cherry picked from commit 0b2c0d9238b6f84a02fcd82f97bc5a2d9f681247)\n(cherry picked from commit 26919f3f843c301eac5625fc1745d0b3612d2814)\n""}, {'number': 2, 'created': '2021-04-08 15:27:16.000000000', 'files': ['cinder/brick/local_dev/lvm.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py', 'releasenotes/notes/lvm-delete-error-f12da00c1b3859dc.yaml', 'cinder/tests/unit/brick/test_brick_lvm.py', 'cinder/volume/drivers/inspur/as13000/as13000_driver.py', 'cinder/tests/unit/test_utils.py', 'cinder/utils.py', 'cinder/volume/drivers/dell_emc/vnx/client.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5fbde659aecddc50dd64709426cfc73ef828e1bb', 'message': ""LVM: Fix delete volume error due to lvs failure\n\nSometimes we get an unexpected failure on the lvs command where it exits\nwith code 139, which is not one of the 5 predefined ones in the code\nECMD_PROCESSED, ENO_SUCH_CMD, EINVALID_CMD_LINE, EINIT_FAILED, or\nECMD_FAILED.\n\nWe've seen this happen mostly on CI jobs when deleting a volume, on the\ncheck to see if the volume is present (``_volume_not_present``) and\nmakes the whole operation unexpectedly fail.\n\nWhen looking at the logs we can find other instances of this same exit\ncode happening in other calls, but those are fortunately to be covered\nby retries for other unexpected errors such as bug #1335905 that seem to\nmake the call eventually succeed.\n\nThe stderr of the failure is polluted with debug and warning messages\nsuch as:\n\n  [1] /dev/sda1: stat failed: No such file or directory\n\n      This has been removed [2] from the LVM code indicating it's\n      somewhat troublesome, but doesn't explain how.\n\n  [3] Path /dev/sda1 no longer valid for device(8,1)\n\n  [4] WARNING: Scan ignoring device 8:0 with no paths.\n\nBut the real error is most likely:\n\n  [5]: Device open /dev/sda 8:0 failed errno 2\n\nOn failure we see that error twice, because the code retries it in LVM\ntrying to workaround some kind of unknown udev race [6].\n\nSince the LVM code indicates that a retry can help, we'll retry on error\n139 when calling ``get_lv_info``.\n\nTo narrow down the retry we'll only do it on error 139, so we modify the\nexisting ``retry`` decorator to accept the ``retry`` parameter (same as\nthe tenacity library) and create our own retry if the\nProcessExecutionError fails with a specific error.\n\nThis pattern seems better than blindly retrying all\nProcessExecutionError cases.\n\n[1]: https://github.com/lvmteam/lvm2/blob/17f5572bc972c932bcf62fc2bff3029268ae0109/lib/filters/filter-persistent.c#L132\n[2]: https://github.com/lvmteam/lvm2/commit/22c5467add88268554a7d163a26892166dbc3104\n[3]: https://github.com/lvmteam/lvm2/blob/b84a9927b78727efffbb257a61e9e95a648cdfab/lib/device/dev-cache.c#L1396-L1402\n[4]: https://github.com/lvmteam/lvm2/blob/b84a9927b78727efffbb257a61e9e95a648cdfab/lib/label/label.c#L798\n[5]: https://github.com/lvmteam/lvm2/blob/b84a9927b78727efffbb257a61e9e95a648cdfab/lib/label/label.c#L550\n[6]: https://github.com/lvmteam/lvm2/blob/b84a9927b78727efffbb257a61e9e95a648cdfab/lib/label/label.c#L562-L567\n\nConflicts:\n    cinder/volume/drivers/inspur/as13000/as13000_driver.py\nConflict caused by the rename of a (decorator) class in >=wallaby\nThe test was also fixes to account for the lack of some later fixes.\n\nCloses-Bug: #1901783\nChange-Id: I6824ba4fbcb6fd8f57f8ff86ad7132446ac6c504\n(cherry picked from commit 0b2c0d9238b6f84a02fcd82f97bc5a2d9f681247)\n(cherry picked from commit 26919f3f843c301eac5625fc1745d0b3612d2814)\n""}]",1,785223,5fbde659aecddc50dd64709426cfc73ef828e1bb,34,4,2,10459,,,0,"LVM: Fix delete volume error due to lvs failure

Sometimes we get an unexpected failure on the lvs command where it exits
with code 139, which is not one of the 5 predefined ones in the code
ECMD_PROCESSED, ENO_SUCH_CMD, EINVALID_CMD_LINE, EINIT_FAILED, or
ECMD_FAILED.

We've seen this happen mostly on CI jobs when deleting a volume, on the
check to see if the volume is present (``_volume_not_present``) and
makes the whole operation unexpectedly fail.

When looking at the logs we can find other instances of this same exit
code happening in other calls, but those are fortunately to be covered
by retries for other unexpected errors such as bug #1335905 that seem to
make the call eventually succeed.

The stderr of the failure is polluted with debug and warning messages
such as:

  [1] /dev/sda1: stat failed: No such file or directory

      This has been removed [2] from the LVM code indicating it's
      somewhat troublesome, but doesn't explain how.

  [3] Path /dev/sda1 no longer valid for device(8,1)

  [4] WARNING: Scan ignoring device 8:0 with no paths.

But the real error is most likely:

  [5]: Device open /dev/sda 8:0 failed errno 2

On failure we see that error twice, because the code retries it in LVM
trying to workaround some kind of unknown udev race [6].

Since the LVM code indicates that a retry can help, we'll retry on error
139 when calling ``get_lv_info``.

To narrow down the retry we'll only do it on error 139, so we modify the
existing ``retry`` decorator to accept the ``retry`` parameter (same as
the tenacity library) and create our own retry if the
ProcessExecutionError fails with a specific error.

This pattern seems better than blindly retrying all
ProcessExecutionError cases.

[1]: https://github.com/lvmteam/lvm2/blob/17f5572bc972c932bcf62fc2bff3029268ae0109/lib/filters/filter-persistent.c#L132
[2]: https://github.com/lvmteam/lvm2/commit/22c5467add88268554a7d163a26892166dbc3104
[3]: https://github.com/lvmteam/lvm2/blob/b84a9927b78727efffbb257a61e9e95a648cdfab/lib/device/dev-cache.c#L1396-L1402
[4]: https://github.com/lvmteam/lvm2/blob/b84a9927b78727efffbb257a61e9e95a648cdfab/lib/label/label.c#L798
[5]: https://github.com/lvmteam/lvm2/blob/b84a9927b78727efffbb257a61e9e95a648cdfab/lib/label/label.c#L550
[6]: https://github.com/lvmteam/lvm2/blob/b84a9927b78727efffbb257a61e9e95a648cdfab/lib/label/label.c#L562-L567

Conflicts:
    cinder/volume/drivers/inspur/as13000/as13000_driver.py
Conflict caused by the rename of a (decorator) class in >=wallaby
The test was also fixes to account for the lack of some later fixes.

Closes-Bug: #1901783
Change-Id: I6824ba4fbcb6fd8f57f8ff86ad7132446ac6c504
(cherry picked from commit 0b2c0d9238b6f84a02fcd82f97bc5a2d9f681247)
(cherry picked from commit 26919f3f843c301eac5625fc1745d0b3612d2814)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/23/785223/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/brick/local_dev/lvm.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py', 'releasenotes/notes/lvm-delete-error-f12da00c1b3859dc.yaml', 'cinder/tests/unit/brick/test_brick_lvm.py', 'cinder/volume/drivers/inspur/as13000/as13000_driver.py', 'cinder/tests/unit/test_utils.py', 'cinder/utils.py', 'cinder/volume/drivers/dell_emc/vnx/client.py']",8,d017b3f4f996b7e58aed3808a7c52f0faa54bd77,lvm-not-found," @cinder_utils.retry(retry_param=const.VNXTargetNotReadyError,"," @cinder_utils.retry(exceptions=const.VNXTargetNotReadyError,",78,11
openstack%2Ftripleo-ci~master~Ibe1e197957ccbd17bc599681135fbe249048e6d9,openstack/tripleo-ci,master,Ibe1e197957ccbd17bc599681135fbe249048e6d9,Add periodic jobs for wallaby,MERGED,2021-04-07 20:03:31.000000000,2021-04-13 00:49:39.000000000,2021-04-13 00:49:39.000000000,"[{'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-04-07 20:03:31.000000000', 'files': ['zuul.d/periodic.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2592d4331a3afc9c79386ba576a6ccae10862acf', 'message': 'Add periodic jobs for wallaby\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/785179\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/785219\nChange-Id: Ibe1e197957ccbd17bc599681135fbe249048e6d9\n'}]",0,785266,2592d4331a3afc9c79386ba576a6ccae10862acf,11,5,1,32458,,,0,"Add periodic jobs for wallaby

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/785179
Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/785219
Change-Id: Ibe1e197957ccbd17bc599681135fbe249048e6d9
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/66/785266/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/periodic.yaml'],1,2592d4331a3afc9c79386ba576a6ccae10862acf,wallaby-branching, - tripleo-ci-centos-8-content-provider-wallaby: vars: force_non_periodic: true - tripleo-ci-centos-8-containers-multinode-wallaby: vars: *multi_consumer_vars_periodic dependencies: - tripleo-ci-centos-8-content-provider-wallaby,,7,0
openstack%2Fmagnum-ui~master~I96d5cdbb669c4d2b92db6f7aa4f9970e33adf093,openstack/magnum-ui,master,I96d5cdbb669c4d2b92db6f7aa4f9970e33adf093,Support zero workers nodes on Horizon dashboard,MERGED,2021-02-16 11:27:19.000000000,2021-04-13 00:13:01.000000000,2021-04-13 00:11:47.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-16 11:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/32361d883cd0e593c983b3d765686f511ed0eb1b', 'message': 'Default to latest magnum_api_version\n\nThis allows ensures that magnum-ui is consistent with\npython-magnumclient which also defaults to latest.\n\nStory: 2005054\nTask: 41835\nChange-Id: I96d5cdbb669c4d2b92db6f7aa4f9970e33adf093\n'}, {'number': 2, 'created': '2021-02-16 16:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/5536b3922b022210bfca79bbe67332bd016a0995', 'message': 'Default magnum_api_version to 1.10\n\nThis allows ensures that magnum-ui requests the latest supported\nmicroversion by default unless otherwise configured.\n\nStory: 2005054\nTask: 41835\nChange-Id: I96d5cdbb669c4d2b92db6f7aa4f9970e33adf093\n'}, {'number': 3, 'created': '2021-02-16 22:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/bab3b0b78989c4fdbc2d4243bc90338ce52a3b78', 'message': 'Default magnum_api_version to 1.10\n\nThis allows ensures that magnum-ui requests default to latest supported\nmicroversion of 1.10 to allow resize to zero worker nodes unless\notherwise configured.\n\nStory: 2005054\nTask: 41835\nChange-Id: I96d5cdbb669c4d2b92db6f7aa4f9970e33adf093\n'}, {'number': 4, 'created': '2021-02-16 22:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/55db97d584f59ee481419d5a9439ff0f9f65a61b', 'message': 'Default magnum_api_version to 1.10\n\nThis allows ensures that magnum-ui requests default to latest supported\nmicroversion of 1.10 to allow resize to zero worker nodes unless\notherwise configured.\n\nStory: 2005054\nTask: 41835\nChange-Id: I96d5cdbb669c4d2b92db6f7aa4f9970e33adf093\n'}, {'number': 5, 'created': '2021-02-18 09:35:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/39dd812c11ef80ef879dc83b42de3a44db55e777', 'message': 'Support zero workers nodes on Horizon dashboard\n\nThis ensures that magnum-ui requests default to latest supported\nmicroversion of 1.10 to allow resize to zero worker nodes unless\notherwise configured.\n\nStory: 2005054\nTask: 41835\nChange-Id: I96d5cdbb669c4d2b92db6f7aa4f9970e33adf093\n'}, {'number': 6, 'created': '2021-04-08 13:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/89fb1a580bd955d66a4603fa4df55e214058e3c6', 'message': 'Support zero workers nodes on Horizon dashboard\n\nThis ensures that magnum-ui requests default to DEFAULT_API_VERSION=1.10\nto allow resize to zero worker nodes unless otherwise configured.\n\nStory: 2005054\nTask: 41835\nChange-Id: I96d5cdbb669c4d2b92db6f7aa4f9970e33adf093\n'}, {'number': 7, 'created': '2021-04-08 13:39:20.000000000', 'files': ['magnum_ui/static/dashboard/container-infra/clusters/resize/resize.service.js', 'magnum_ui/static/dashboard/container-infra/clusters/workflow/workflow.service.js', 'magnum_ui/api/magnum.py'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/1fc627fb214ab981727657e847fc5a73b68dc01c', 'message': 'Support zero workers nodes on Horizon dashboard\n\nThis ensures that magnum-ui requests default to DEFAULT_API_VERSION=1.10\nto allow resize to zero worker nodes unless otherwise configured.\n\nStory: 2005054\nTask: 41835\n\nChange-Id: I96d5cdbb669c4d2b92db6f7aa4f9970e33adf093\n'}]",1,775811,1fc627fb214ab981727657e847fc5a73b68dc01c,24,3,7,28022,,,0,"Support zero workers nodes on Horizon dashboard

This ensures that magnum-ui requests default to DEFAULT_API_VERSION=1.10
to allow resize to zero worker nodes unless otherwise configured.

Story: 2005054
Task: 41835

Change-Id: I96d5cdbb669c4d2b92db6f7aa4f9970e33adf093
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/11/775811/2 && git format-patch -1 --stdout FETCH_HEAD,['magnum_ui/api/magnum.py'],1,32361d883cd0e593c983b3d765686f511ed0eb1b,magnum-api-version," magnum_api_version = openstack_api_versions.get(service_type, 'latest')"," magnum_api_version = openstack_api_versions.get(service_type, 1.1)",1,1
openstack%2Fopenstacksdk~master~Ic44d3dfeb6d68875951feabbc480461f5db5d22a,openstack/openstacksdk,master,Ic44d3dfeb6d68875951feabbc480461f5db5d22a,Add deploy_steps to baremetal node provisioning,MERGED,2021-04-12 08:40:07.000000000,2021-04-12 23:14:13.000000000,2021-04-12 23:13:01.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-04-12 08:40:07.000000000', 'files': ['openstack/tests/unit/baremetal/v1/test_node.py', 'openstack/baremetal/v1/_proxy.py', 'releasenotes/notes/ironic-deploy-steps-2c0f39d7d2a13289.yaml', 'openstack/baremetal/v1/_common.py', 'openstack/baremetal/v1/node.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c206d4b7f2b2c9df7d9b6b75c3620451148f4fc5', 'message': 'Add deploy_steps to baremetal node provisioning\n\nStory: 2008043\nTask: 41825\nChange-Id: Ic44d3dfeb6d68875951feabbc480461f5db5d22a\n'}]",0,785829,c206d4b7f2b2c9df7d9b6b75c3620451148f4fc5,8,3,1,27909,,,0,"Add deploy_steps to baremetal node provisioning

Story: 2008043
Task: 41825
Change-Id: Ic44d3dfeb6d68875951feabbc480461f5db5d22a
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/29/785829/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/baremetal/v1/test_node.py', 'openstack/baremetal/v1/_proxy.py', 'releasenotes/notes/ironic-deploy-steps-2c0f39d7d2a13289.yaml', 'openstack/baremetal/v1/_common.py', 'openstack/baremetal/v1/node.py']",5,c206d4b7f2b2c9df7d9b6b75c3620451148f4fc5,deploy-steps," # Provision state deploy_steps introduced in 1.69 (Wallaby). _max_microversion = '1.69' wait=False, timeout=None, deploy_steps=None): :param deploy_steps: Deploy steps to execute, only valid for ``active`` and ``rebuild`` target. :raises: ValueError if ``config_drive``, ``clean_steps``, ``deploy_steps`` or ``rescue_password`` are provided with an invalid ``target``. if deploy_steps: version = _common.DEPLOY_STEPS_VERSION if deploy_steps is not None: if target not in ('active', 'rebuild'): raise ValueError('Deploy steps can only be provided with ' '""deploy"" and ""rebuild"" target') body['deploy_steps'] = deploy_steps "," # The retired and retired_reason fields introduced in 1.61 (Ussuri). _max_microversion = '1.61' wait=False, timeout=None): :raises: ValueError if ``config_drive``, ``clean_steps`` or ``rescue_password`` are provided with an invalid ``target``.",60,9
openstack%2Fdevstack-gate~master~I5542dca0f8050a6e21aff773f49eb4799ec26828,openstack/devstack-gate,master,I5542dca0f8050a6e21aff773f49eb4799ec26828,Move stable branch gate job to stable/wallaby,MERGED,2021-04-06 15:49:14.000000000,2021-04-12 23:12:57.000000000,2021-04-12 23:12:57.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-06 15:49:14.000000000', 'files': ['playbooks/legacy/tempest-neutron-full/run.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/f3d3018044a775f030c7b1cc40aee2077c117c91', 'message': 'Move stable branch gate job to stable/wallaby\n\nWe have stable/wallaby branch as latest stable and\nd-g test only latest stable branch to make sure the compatibility\nof legacy jobs. Hope this is last stable we need to update/support\nin d-g.\n\nThis commit moves the legacy stable job testing to stable/wallaby.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/784974\nChange-Id: I5542dca0f8050a6e21aff773f49eb4799ec26828\n'}]",0,785003,f3d3018044a775f030c7b1cc40aee2077c117c91,8,4,1,8556,,,0,"Move stable branch gate job to stable/wallaby

We have stable/wallaby branch as latest stable and
d-g test only latest stable branch to make sure the compatibility
of legacy jobs. Hope this is last stable we need to update/support
in d-g.

This commit moves the legacy stable job testing to stable/wallaby.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/784974
Change-Id: I5542dca0f8050a6e21aff773f49eb4799ec26828
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/03/785003/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/tempest-neutron-full/run.yaml'],1,f3d3018044a775f030c7b1cc40aee2077c117c91,qa-wallaby-release, export BRANCH_OVERRIDE=stable/wallaby, export BRANCH_OVERRIDE=stable/victoria,1,1
openstack%2Fopenstack-helm~master~I0306e7f2bac578a7052ebed16b8947146e154b5f,openstack/openstack-helm,master,I0306e7f2bac578a7052ebed16b8947146e154b5f,Add Health metrics pool device_health_metrics introduced in Nautilus release,MERGED,2021-04-12 14:57:33.000000000,2021-04-12 22:58:26.000000000,2021-04-12 22:56:17.000000000,"[{'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 28372}, {'_account_id': 29974}, {'_account_id': 32190}, {'_account_id': 32260}, {'_account_id': 33135}]","[{'number': 1, 'created': '2021-04-12 14:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c5dd0eddb2569724de24b5f52d53c4a5f5ce75e9', 'message': 'Add Health metrics pool device_health_metrics first introduced in\nCeph Nautilus release.\n\nhttps: //ceph.io/update/new-in-nautilus-device-management-and-failure-prediction/\nChange-Id: I0306e7f2bac578a7052ebed16b8947146e154b5f\n'}, {'number': 2, 'created': '2021-04-12 14:58:36.000000000', 'files': ['tools/deployment/component/ceph/ceph.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1719dc16e1b14e39f00370708d4ef1c4160b8b02', 'message': 'Add Health metrics pool device_health_metrics introduced in\nNautilus release\n\nhttps: //ceph.io/update/new-in-nautilus-device-management-and-failure-prediction/\nChange-Id: I0306e7f2bac578a7052ebed16b8947146e154b5f\n'}]",0,785896,1719dc16e1b14e39f00370708d4ef1c4160b8b02,15,9,2,18511,,,0,"Add Health metrics pool device_health_metrics introduced in
Nautilus release

https: //ceph.io/update/new-in-nautilus-device-management-and-failure-prediction/
Change-Id: I0306e7f2bac578a7052ebed16b8947146e154b5f
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/96/785896/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/component/ceph/ceph.sh'],1,c5dd0eddb2569724de24b5f52d53c4a5f5ce75e9,, # Health metrics pool - name: device_health_metrics application: mgr_devicehealth replication: 1 percent_total_data: 5,,5,0
openstack%2Fopenstack-helm-infra~master~Ica2c7668a7ab047f8ed2361234b5810eedc9c1e2,openstack/openstack-helm-infra,master,Ica2c7668a7ab047f8ed2361234b5810eedc9c1e2,Move shaker chart from osh-addons,MERGED,2021-04-07 19:57:42.000000000,2021-04-12 22:47:05.000000000,2021-04-12 22:45:49.000000000,"[{'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 30449}, {'_account_id': 30777}]","[{'number': 1, 'created': '2021-04-07 19:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/26bb4b3ca708bbaee74fd75e97a7223838f3503b', 'message': 'Move shaker chart from osh-addons\n\nThis change moves the shaker chart from the osh-addons repo\nto this one.\n\nChange-Id: Ica2c7668a7ab047f8ed2361234b5810eedc9c1e2\n'}, {'number': 2, 'created': '2021-04-07 21:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/db3f0fe87982906922485cededb5a7dea991e085', 'message': 'Move shaker chart from osh-addons\n\nThis change moves the shaker chart from the osh-addons repo\nto this one.\n\nChange-Id: Ica2c7668a7ab047f8ed2361234b5810eedc9c1e2\n'}, {'number': 3, 'created': '2021-04-08 01:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5b1f94ee94adb8e23913caa861c9c6f2daa99e67', 'message': 'Move shaker chart from osh-addons\n\nThis change moves the shaker chart from the osh-addons repo\nto this one.\n\nChange-Id: Ica2c7668a7ab047f8ed2361234b5810eedc9c1e2\n'}, {'number': 4, 'created': '2021-04-08 04:06:04.000000000', 'files': ['shaker/templates/service-shaker.yaml', 'shaker/templates/pod-shaker-test.yaml', 'shaker/templates/configmap-bin.yaml', 'releasenotes/notes/shaker.yaml', 'shaker/values.yaml', 'shaker/templates/secret-keystone.yaml', 'shaker/requirements.yaml', 'releasenotes/config.yaml', 'shaker/templates/bin/_run-tests.sh.tpl', 'shaker/templates/job-image-repo-sync.yaml', 'shaker/templates/pvc-shaker.yaml', 'shaker/templates/configmap-etc.yaml', 'shaker/Chart.yaml', 'shaker/templates/job-ks-user.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/25c897fb8992091c3d7f86344813fbeb9058fa53', 'message': 'Move shaker chart from osh-addons\n\nThis change moves the shaker chart from the osh-addons repo\nto this one.\n\nChange-Id: Ica2c7668a7ab047f8ed2361234b5810eedc9c1e2\n'}]",0,785263,25c897fb8992091c3d7f86344813fbeb9058fa53,17,5,4,21420,,,0,"Move shaker chart from osh-addons

This change moves the shaker chart from the osh-addons repo
to this one.

Change-Id: Ica2c7668a7ab047f8ed2361234b5810eedc9c1e2
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/63/785263/3 && git format-patch -1 --stdout FETCH_HEAD,"['shaker/templates/service-shaker.yaml', 'shaker/templates/pod-shaker-test.yaml', 'shaker/templates/configmap-bin.yaml', 'releasenotes/notes/shaker.yaml', 'shaker/values.yaml', 'shaker/templates/secret-keystone.yaml', 'shaker/requirements.yaml', 'releasenotes/config.yaml', 'shaker/templates/bin/_run-tests.sh.tpl', 'shaker/templates/job-image-repo-sync.yaml', 'shaker/templates/pvc-shaker.yaml', 'shaker/templates/configmap-etc.yaml', 'shaker/Chart.yaml', 'shaker/templates/job-ks-user.yaml']",14,26bb4b3ca708bbaee74fd75e97a7223838f3503b,move-shaker,"{{/* Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.job_ks_user }} {{- $ksUserJob := dict ""envAll"" . ""serviceName"" ""shaker"" -}} {{ $ksUserJob | include ""helm-toolkit.manifests.job_ks_user"" }} {{- end }} ",,675,0
openstack%2Fopenstack-helm~master~I4d91eed61eb63c7fbb8ecc2525596fe97465cbff,openstack/openstack-helm,master,I4d91eed61eb63c7fbb8ecc2525596fe97465cbff,Update file mode for 910-clean-it.sh script,MERGED,2021-04-12 16:20:41.000000000,2021-04-12 22:33:04.000000000,2021-04-12 22:31:36.000000000,"[{'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30495}, {'_account_id': 31479}]","[{'number': 1, 'created': '2021-04-12 16:20:41.000000000', 'files': ['tools/deployment/developer/common/910-clean-it.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/556dd6256ec2469da2ba65364bcb541added1b4b', 'message': 'Update file mode for 910-clean-it.sh script\n\nChange the mode to 775 to align with other scripts.\n\nChange-Id: I4d91eed61eb63c7fbb8ecc2525596fe97465cbff\n'}]",0,785915,556dd6256ec2469da2ba65364bcb541added1b4b,15,6,1,33282,,,0,"Update file mode for 910-clean-it.sh script

Change the mode to 775 to align with other scripts.

Change-Id: I4d91eed61eb63c7fbb8ecc2525596fe97465cbff
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/15/785915/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/developer/common/910-clean-it.sh'],1,556dd6256ec2469da2ba65364bcb541added1b4b,UPDATE-SCRIPT-MODE,,,0,0
openstack%2Fcinder~stable%2Fstein~Ie597e778e3efa61bfd98eaaa92730b5050195e7a,openstack/cinder,stable/stein,Ie597e778e3efa61bfd98eaaa92730b5050195e7a,Adjust requirements and lower-constraints,ABANDONED,2020-12-15 09:38:17.000000000,2021-04-12 21:52:36.000000000,,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-15 09:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4add6a7631f89fe62d0cee8a167f05894d33a619', 'message': ""Pin bandit to v1.1.0\n\nWe don't have test requirements in upper-constraints, so we need\nto cap it in stable branches manually to work with Python 2.7.\n\nChange-Id: Ie597e778e3efa61bfd98eaaa92730b5050195e7a\n""}, {'number': 2, 'created': '2020-12-15 09:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fc23771b7528c2e25f414e8584bd43c4b3e36184', 'message': ""Cap bandit to v1.6.3\n\nWe don't have test requirements in upper-constraints, so we need\nto cap it in stable branches manually to work with Python 2.7.\n\nChange-Id: Ie597e778e3efa61bfd98eaaa92730b5050195e7a\n""}, {'number': 3, 'created': '2020-12-15 10:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/270065e0d42f6c07e9d3b1e875950e4439f7c228', 'message': ""Cap bandit to v1.6.2\n\nWe don't have test requirements in upper-constraints, so we need\nto cap it in stable branches manually to work with Python 2.7.\n\nChange-Id: Ie597e778e3efa61bfd98eaaa92730b5050195e7a\n""}, {'number': 4, 'created': '2020-12-15 10:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a512bfc233fc76c4375388b8546ab9e60459e1d3', 'message': ""Cap bandit to v1.6.2\n\nWe don't have test requirements in upper-constraints, so we need\nto cap it in stable branches manually to work with Python 2.7.\n\nChange-Id: Ie597e778e3efa61bfd98eaaa92730b5050195e7a\n""}, {'number': 5, 'created': '2020-12-15 15:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/07a5ca2ba2c276602ba6637f85f8a7bcfda3f949', 'message': ""Cap bandit to v1.6.2\n\nWe don't have test requirements in upper-constraints, so we need\nto cap it in stable branches manually to work with Python 2.7.\n\nSet SQLAlchemy-Utils>=0.33.11 to work with upper-contraints in\nstable/queens.\n\nChange-Id: Ie597e778e3efa61bfd98eaaa92730b5050195e7a\n""}, {'number': 6, 'created': '2020-12-16 12:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ff83c8ffbcbb75d856ffe281edf8d11d80db35ff', 'message': ""Cap bandit to v1.6.2\n\nWe don't have test requirements in upper-constraints, so we need\nto cap it in stable branches manually to work with Python 2.7.\n\nSet SQLAlchemy-Utils>=0.33.11 to work with upper-contraints in\nstable/queens.\n\noslo.context min version is 2.14.0 to work with oslo-middleware\n\nChange-Id: Ie597e778e3efa61bfd98eaaa92730b5050195e7a\n""}, {'number': 7, 'created': '2020-12-17 11:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/57b0b04cb3f2769eeec9676dd7091271dc0706f0', 'message': ""Cap bandit to v1.6.2\n\nWe don't have test requirements in upper-constraints, so we need\nto cap it in stable branches manually to work with Python 2.7.\n\nSet SQLAlchemy-Utils>=0.33.11 to work with upper-contraints in\nstable/queens.\n\noslo.context min version is 2.14.0 to work with oslo-middleware\n\nChange-Id: Ie597e778e3efa61bfd98eaaa92730b5050195e7a\n""}, {'number': 8, 'created': '2020-12-18 15:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c1906ef288cda0c556b12dabfbad535b422284ef', 'message': ""WIP.Cap bandit to v1.6.2\n\nWe don't have test requirements in upper-constraints, so we need\nto cap it in stable branches manually to work with Python 2.7.\n\nSet SQLAlchemy-Utils>=0.33.11 to work with upper-contraints in\nstable/queens.\n\noslo.context min version is 2.14.0 to work with oslo-middleware\n\nChange-Id: Ie597e778e3efa61bfd98eaaa92730b5050195e7a\n""}, {'number': 9, 'created': '2020-12-18 16:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e9ba0ab1e472299b07a1fdff6985f7e87cf42f7f', 'message': ""WIP.Cap bandit to v1.6.2\n\nWe don't have test requirements in upper-constraints, so we need\nto cap it in stable branches manually to work with Python 2.7.\n\nSet SQLAlchemy-Utils>=0.33.11 to work with upper-contraints in\nstable/queens.\n\noslo.context min version is 2.14.0 to work with oslo-middleware\n\nChange-Id: Ie597e778e3efa61bfd98eaaa92730b5050195e7a\n""}, {'number': 10, 'created': '2020-12-18 16:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b26d09f004ef73401d9ba8aafc46d15349df6562', 'message': ""WIP.Cap bandit to v1.6.2\n\nWe don't have test requirements in upper-constraints, so we need\nto cap it in stable branches manually to work with Python 2.7.\n\nSet SQLAlchemy-Utils>=0.33.11 to work with upper-contraints in\nstable/queens.\n\noslo.context min version is 2.14.0 to work with oslo-middleware\n\nChange-Id: Ie597e778e3efa61bfd98eaaa92730b5050195e7a\n""}, {'number': 11, 'created': '2020-12-18 16:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2417f918ca5811613dccd0ef520f8a9c416f7fb1', 'message': ""WIP.Cap bandit to v1.6.2\n\nWe don't have test requirements in upper-constraints, so we need\nto cap it in stable branches manually to work with Python 2.7.\n\nSet SQLAlchemy-Utils>=0.33.11 to work with upper-contraints in\nstable/queens.\n\noslo.context min version is 2.14.0 to work with oslo-middleware\n\nChange-Id: Ie597e778e3efa61bfd98eaaa92730b5050195e7a\n""}, {'number': 12, 'created': '2020-12-18 17:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/96cc4f098f04256d50886eb9ac99153df4d3131f', 'message': ""WIP.Cap bandit to v0.6.2\n\nWe don't have test requirements in upper-constraints, so we need\nto cap it in stable branches manually to work with Python 2.7.\n\nSet SQLAlchemy-Utils>=0.33.11 to work with upper-contraints in\nstable/queens.\n\noslo.context min version is 2.14.0 to work with oslo-middleware\n\nChange-Id: Ie597e778e3efa61bfd98eaaa92730b5050195e7a\n""}, {'number': 13, 'created': '2020-12-18 21:41:07.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bd8faefbbf4525933ee3c17c10217ab64f99c466', 'message': ""Adjust requirements and lower-constraints\n\nCap bandit to v0.6.2. We don't have test requirements in\nupper-constraints, so we need to cap it in stable branches\nmanually to work with Python 2.7.\n\nSet SQLAlchemy-Utils>=0.33.11 to work with upper-contraints in\nstable/stein.\n\noslo.context min version is 2.14.0 to work with oslo-middleware\n\ncryptography is updated to to 2.5.\n\nChange-Id: Ie597e778e3efa61bfd98eaaa92730b5050195e7a\n""}]",4,767105,bd8faefbbf4525933ee3c17c10217ab64f99c466,96,3,13,1736,,,0,"Adjust requirements and lower-constraints

Cap bandit to v0.6.2. We don't have test requirements in
upper-constraints, so we need to cap it in stable branches
manually to work with Python 2.7.

Set SQLAlchemy-Utils>=0.33.11 to work with upper-contraints in
stable/stein.

oslo.context min version is 2.14.0 to work with oslo-middleware

cryptography is updated to to 2.5.

Change-Id: Ie597e778e3efa61bfd98eaaa92730b5050195e7a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/05/767105/11 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,4add6a7631f89fe62d0cee8a167f05894d33a619,update-l-c,bandit==1.1.0 # Apache-2.0,bandit>=1.1.0 # Apache-2.0,1,1
openstack%2Fsecurity-doc~master~I5cbc4ec8f15ca7c66ca9562b536299524ab5999c,openstack/security-doc,master,I5cbc4ec8f15ca7c66ca9562b536299524ab5999c,OSSN-0089: Missing configuration option in Secure Live Migration guide,MERGED,2021-03-31 11:46:59.000000000,2021-04-12 21:25:36.000000000,2021-04-12 21:23:43.000000000,"[{'_account_id': 5263}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 11:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/1fbae2ccfa23e79448497232ee042d924e93ee96', 'message': 'OSSN-0089: Missing configuration option in Secure Live Migration guide\n\nThe guide to enable secure live migration with QEMU-native tls on\nnova compute nodes missed an important config option. Without this\noption a default connection is uses which is TCP instead of TLS.\nThis leads to an unecrypted migration of the ram.\n\nCloses-Bug: #1919357\nChange-Id: I5cbc4ec8f15ca7c66ca9562b536299524ab5999c\n'}, {'number': 2, 'created': '2021-03-31 12:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/18e745bb14537500a557fdd6f22413f695da7ca5', 'message': 'OSSN-0089: Missing configuration option in Secure Live Migration guide\n\nThe guide to enable secure live migration with QEMU-native tls on\nnova compute nodes missed an important config option. Without this\noption a default connection is uses which is TCP instead of TLS.\nThis leads to an unecrypted migration of the ram.\n\nCloses-Bug: #1919357\nChange-Id: I5cbc4ec8f15ca7c66ca9562b536299524ab5999c\n'}, {'number': 3, 'created': '2021-04-12 07:46:40.000000000', 'files': ['security-notes/OSSN-0089'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/8b27aa09eef3ba43ae53c6cfaadf1abfde2c458b', 'message': 'OSSN-0089: Missing configuration option in Secure Live Migration guide\n\nThe guide to enable secure live migration with QEMU-native tls on\nnova compute nodes missed an important config option. Without this\noption a default connection is uses which is TCP instead of TLS.\nThis leads to an unecrypted migration of the ram.\n\nCloses-Bug: #1919357\nChange-Id: I5cbc4ec8f15ca7c66ca9562b536299524ab5999c\n'}]",10,784078,8b27aa09eef3ba43ae53c6cfaadf1abfde2c458b,14,3,3,28271,,,0,"OSSN-0089: Missing configuration option in Secure Live Migration guide

The guide to enable secure live migration with QEMU-native tls on
nova compute nodes missed an important config option. Without this
option a default connection is uses which is TCP instead of TLS.
This leads to an unecrypted migration of the ram.

Closes-Bug: #1919357
Change-Id: I5cbc4ec8f15ca7c66ca9562b536299524ab5999c
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/78/784078/2 && git format-patch -1 --stdout FETCH_HEAD,['security-notes/OSSN-0089'],1,1fbae2ccfa23e79448497232ee042d924e93ee96,bug/1919357,"Missing configuration option in Secure Live Migration guide leads to unencrypted traffic --- ### Summary ### The guide to enable secure live migration with QEMU-native tls on nova compute nodes missed an important config option. Without this option a hard-coded part in nova is triggerd which sets the default route to TCP instead of TLS. This leads to an unecrypted migration of the ram without throwing any kind of Error. ### Affected Services / Software ### Nova / Victoria, Ussuri, Train, Stein (might also be affect: Rocky, Queens, Pike, Ocata) ### Discussion ### In the OpenStack guide to setup secure live migration with QEMU-native tls there are a few configuration options given, which have to be applied to nova compute nodes. After following the instructions and setting up everything it seems to work as expected. But after checking, that libvirt is able to use tls using tcpdump to listen on the port for tls while manually executing libvirt commands, the same check for live migration of an instance through openstack fails. Listening on the port for unencrypted tcp-traffic shows, that OpenStack still uses the unencrypted TCP path instead of the TLS one for the migration. The reson for this is a patch from Ocata which adds the calculation of the live-migration-uri in code: https://review.opendev.org/c/openstack/nova/+/410817/ The config parameter ``live_migration_uri`` was deprecated in favor of ``live_migration_scheme`` and the default set to tcp. This leads to the problem, that if none of these two config options are set, libvirt will always use the default tcp connection. To enable QEMU-native TLS to be used in nova one of them has to be set so that a TLS connection can be established. Currently the guide does not show that this is necessary and there was no other documentation indicating that these config options are someway important for the usage of QEMU-native TLS. As there is no documentation which recognizes this and it is hard to find this problem as the migration happens even without those config option set - not stating that it is still unencrypted, it might have been unrecognized in various deployments, which followed the guide. ### Recommended Actions ### For deployments using secure live migration with QEMU-native TLS: 1. Check the config of all nova compute nodes. The ``libvirt`` section needs to have either ``live_migration_uri`` (deprecated) or ``live_migration_scheme`` configured. 2. If neither of those config options are present, add ``live_migration_scheme = tls`` to enable the use of the tls connection. #### Patches #### The guide for secure live migration was updated to reflect the necessary configuration options and now has a note, which warns users that not setting all config options may lead into a seemingly working deployment, which still uses unencrypted traffic for the ram-migration. Master(Wallaby): https://review.opendev.org/c/openstack/nova/+/781030 Victoria: https://review.opendev.org/c/openstack/nova/+/781211 Ussuri: https://review.opendev.org/c/openstack/nova/+/782126 Train: https://review.opendev.org/c/openstack/nova/+/782430 Stein: https://review.opendev.org/c/openstack/nova/+/783199 ### Contacts / References ### Author: Josephine Seifert, secustack GmbH This OSSN : https://wiki.openstack.org/wiki/OSSN/OSSN-0089 Original LaunchPad Bug : https://bugs.launchpad.net/nova/+bug/1919357 Mailing List : [Security] tag on openstack-discuss@lists.openstack.org OpenStack Security Project : https://launchpad.net/~openstack-ossg ",,68,0
openstack%2Fopenstack-tempest-skiplist~master~I47811e6896322c8871021f97dff2af22fd881271,openstack/openstack-tempest-skiplist,master,I47811e6896322c8871021f97dff2af22fd881271,Remove standalone scenario004 wallaby from skiplist,MERGED,2021-04-12 20:12:40.000000000,2021-04-12 21:19:28.000000000,2021-04-12 21:18:06.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-12 20:12:40.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/4fc8548bce84fd9c4ce7915660cd718db4d42d05', 'message': 'Remove standalone scenario004 wallaby from skiplist\n\nhttps://review.opendev.org/c/osf/python-tempestconf/+/785450\nadded functionality to control tempest test options\nfor manila.\n\nSkipping this test should no longer be required.\n\nChange-Id: I47811e6896322c8871021f97dff2af22fd881271\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1922784\n'}]",0,785967,4fc8548bce84fd9c4ce7915660cd718db4d42d05,7,2,1,9976,,,0,"Remove standalone scenario004 wallaby from skiplist

https://review.opendev.org/c/osf/python-tempestconf/+/785450
added functionality to control tempest test options
for manila.

Skipping this test should no longer be required.

Change-Id: I47811e6896322c8871021f97dff2af22fd881271
Related-Bug: https://bugs.launchpad.net/tripleo/+bug/1922784
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/67/785967/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,4fc8548bce84fd9c4ce7915660cd718db4d42d05,add-back-bug1922784,, - test: manila_tempest_tests.tests.api.test_shares.SharesNFSTest deployment: - overcloud releases: - name: wallaby reason: Failing SetUp lp: https://bugs.launchpad.net/tripleo/+bug/1922784 jobs: - periodic-tripleo-ci-centos-8-scenario004-standalone-wallaby,0,9
openstack%2Fneutron~master~I10ef4e9124ba8f243680acde506eebc586c2f9a7,openstack/neutron,master,I10ef4e9124ba8f243680acde506eebc586c2f9a7,"Document Linux Bridge compatibility with ""nftables""",MERGED,2021-04-07 10:27:29.000000000,2021-04-12 21:16:33.000000000,2021-04-12 21:14:35.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 10:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8500b496c727e3b4f6c2e9c26295083371c6a1a1', 'message': 'Document Linux Bridge compatibility with ""nftables""\n\nUntil the migration to ""nftables"" is completed, any deployment using\nLinux Bridge mechanism driver needs to use legacy ebtables tool. In\nnewer operating systems, ""ebtables-nft"" tool will be the default one.\n\nCloses-Bug: #1915341\nRelated-Bug: #1508155\nRelated-Bug: #1922892\n\nChange-Id: I10ef4e9124ba8f243680acde506eebc586c2f9a7\n'}, {'number': 2, 'created': '2021-04-08 09:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f11815fff32b2259081d34af78df01eceb7a10bb', 'message': 'Document Linux Bridge compatibility with ""nftables""\n\nUntil the migration to ""nftables"" is completed, any deployment using\nLinux Bridge mechanism driver needs to use legacy ebtables tool. In\nnewer operating systems, ""ebtables-nft"" tool will be the default one.\n\nCloses-Bug: #1915341\nRelated-Bug: #1508155\nRelated-Bug: #1922892\n\nChange-Id: I10ef4e9124ba8f243680acde506eebc586c2f9a7\n'}, {'number': 3, 'created': '2021-04-08 09:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e4aa09c0051dd5dc9f4ea8c966f3ffac4b5b4b4', 'message': 'Document Linux Bridge compatibility with ""nftables""\n\nUntil the migration to the new native ""nftables"" API is completed,\nNeutron Linux Bridge mechanism driver can work with:\n- The legacy binaries (""iptables"", ""ip6tables"", ""arptables"" and\n  "" ebtables"").\n- The ""nftables"" legacy API tools. ""ipset"" tool is not compatible\n  with ""nftables"" and must be disabled.\n\nCloses-Bug: #1915341\nRelated-Bug: #1508155\nRelated-Bug: #1922892\n\nChange-Id: I10ef4e9124ba8f243680acde506eebc586c2f9a7\n'}, {'number': 4, 'created': '2021-04-09 08:23:25.000000000', 'files': ['releasenotes/notes/lb-nftables-8252105fb23ec75d.yaml', 'doc/source/admin/deploy-lb.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/960b810eacd71dd265a02c2825ccead8357082c0', 'message': 'Document Linux Bridge compatibility with ""nftables""\n\nUntil the migration to the new native ""nftables"" API is completed,\nNeutron Linux Bridge mechanism driver can work with:\n- The legacy binaries (""iptables"", ""ip6tables"", ""arptables"" and\n  "" ebtables"").\n- The ""nftables"" legacy API tools. ""ipset"" tool is not compatible\n  with ""nftables"" and must be disabled.\n\nCloses-Bug: #1915341\nRelated-Bug: #1508155\nRelated-Bug: #1922892\n\nChange-Id: I10ef4e9124ba8f243680acde506eebc586c2f9a7\n'}]",9,785137,960b810eacd71dd265a02c2825ccead8357082c0,26,5,4,16688,,,0,"Document Linux Bridge compatibility with ""nftables""

Until the migration to the new native ""nftables"" API is completed,
Neutron Linux Bridge mechanism driver can work with:
- The legacy binaries (""iptables"", ""ip6tables"", ""arptables"" and
  "" ebtables"").
- The ""nftables"" legacy API tools. ""ipset"" tool is not compatible
  with ""nftables"" and must be disabled.

Closes-Bug: #1915341
Related-Bug: #1508155
Related-Bug: #1922892

Change-Id: I10ef4e9124ba8f243680acde506eebc586c2f9a7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/785137/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/lb-nftables-8252105fb23ec75d.yaml', 'doc/source/admin/deploy-lb.rst']",2,8500b496c727e3b4f6c2e9c26295083371c6a1a1,bug/1915341,"Compatibility with nftables ~~~~~~~~~~~~~~~~~~~~~~~~~~~ `nftables <https://netfilter.org/projects/nftables/>`_ replaces iptables, ip6tables, arptables and ebtables, in order to provide a single API for all Netfilter operations. ``nftables`` provides a backwards compatibility set of tools for those replaced binaries that present the legacy API to the user while using the new packet classification framework. As reported in `LP#1915341 <https://bugs.launchpad.net/neutron/+bug/1915341>`_ and `LP#1922892 <https://bugs.launchpad.net/neutron/+bug/1922892>`_, the tool ``ebtables-nft`` is not totally compatible with the legacy API and returns some errors. To use Linux Bridge mechanism driver in newer operating systems that use ``nftables`` by default, it is needed to switch back to the legacy tool: .. code-block:: console $ /usr/bin/update-alternatives --set ebtables /usr/sbin/ebtables-legacy ",,26,0
openstack%2Fkayobe~master~I954cb604a18874744b3673ebf2e2c29caa18ce8f,openstack/kayobe,master,I954cb604a18874744b3673ebf2e2c29caa18ce8f,CI: use retries for control host bootstrap in seed VM jobs,MERGED,2021-03-24 08:50:45.000000000,2021-04-12 20:29:20.000000000,2021-04-12 20:27:53.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-03-24 08:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b62fd1a2cbcfbc8f7a44f256060869ed6629e34a', 'message': ""CI: use retries for control host bootstrap in seed VM jobs\n\nAll instances of 'kayobe control host bootstrap' in the development\nscripts use a helper function, except for during seed_hypervisor_deploy.\nThe helper adds a retry mechanism to combat flakiness often seen during\nAnsible Galaxy installs.\n\nThis change fixes the issue.\n\nTrivialFix\n\nChange-Id: I954cb604a18874744b3673ebf2e2c29caa18ce8f\n""}, {'number': 2, 'created': '2021-04-12 15:58:10.000000000', 'files': ['dev/functions'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/760c2b796d24cf79c1cdcd80d3c61a584fd679ff', 'message': ""CI: use retries for control host bootstrap in seed VM jobs\n\nAll instances of 'kayobe control host bootstrap' in the development\nscripts use a helper function, except for during seed_hypervisor_deploy.\nThe helper adds a retry mechanism to combat flakiness often seen during\nAnsible Galaxy installs.\n\nThis change fixes the issue.\n\nTrivialFix\n\nChange-Id: I954cb604a18874744b3673ebf2e2c29caa18ce8f\n""}]",0,782668,760c2b796d24cf79c1cdcd80d3c61a584fd679ff,23,4,2,14826,,,0,"CI: use retries for control host bootstrap in seed VM jobs

All instances of 'kayobe control host bootstrap' in the development
scripts use a helper function, except for during seed_hypervisor_deploy.
The helper adds a retry mechanism to combat flakiness often seen during
Ansible Galaxy installs.

This change fixes the issue.

TrivialFix

Change-Id: I954cb604a18874744b3673ebf2e2c29caa18ce8f
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/68/782668/1 && git format-patch -1 --stdout FETCH_HEAD,['dev/functions'],1,b62fd1a2cbcfbc8f7a44f256060869ed6629e34a,, control_host_bootstrap," echo ""Bootstrapping the Ansible control host"" run_kayobe control host bootstrap",1,2
openstack%2Fkolla-ansible~stable%2Ftrain~I95303e52f2b462ceda21abaa4097cc9291362d33,openstack/kolla-ansible,stable/train,I95303e52f2b462ceda21abaa4097cc9291362d33,Fix installation errors with Python 2,MERGED,2021-04-09 13:59:02.000000000,2021-04-12 20:01:53.000000000,2021-04-12 20:00:38.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-09 13:59:02.000000000', 'files': ['tests/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/437c6a1e30182462308903c98c95bbee7b6e001a', 'message': ""Fix installation errors with Python 2\n\nPython 2 jobs recently started failing frequently with the following\nerror:\n\n    distutils.errors.DistutilsError: Could not find suitable distribution for Requirement.parse('pbr>=2.0.0')\n\nThe root cause appears to be that indirect requirements are handled by\neasy_install which doesn't like some index servers [1]. Try updating\nsetuptools first.\n\n[1] https://github.com/googleapis/google-cloud-python/issues/3757#issuecomment-422384453\n\nChange-Id: I95303e52f2b462ceda21abaa4097cc9291362d33\n""}]",0,785646,437c6a1e30182462308903c98c95bbee7b6e001a,18,4,1,15197,,,0,"Fix installation errors with Python 2

Python 2 jobs recently started failing frequently with the following
error:

    distutils.errors.DistutilsError: Could not find suitable distribution for Requirement.parse('pbr>=2.0.0')

The root cause appears to be that indirect requirements are handled by
easy_install which doesn't like some index servers [1]. Try updating
setuptools first.

[1] https://github.com/googleapis/google-cloud-python/issues/3757#issuecomment-422384453

Change-Id: I95303e52f2b462ceda21abaa4097cc9291362d33
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/46/785646/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/run.yml'],1,437c6a1e30182462308903c98c95bbee7b6e001a,pbr-setuptools-stable/train," # Workaround for distutils.errors.DistutilsError: Could not find suitable # distribution for Requirement.parse('pbr>=2.0.0') in the next task - name: ensure setuptools is updated pip: name: ""setuptools"" executable: ""pip{{ playbook_python_version }}"" extra_args: ""-c {{ upper_constraints_file }} --user"" state: latest ",,9,0
openstack%2Fkayobe~master~I215f927d8249aadd9cc7bb44893e0bdf5f26510a,openstack/kayobe,master,I215f927d8249aadd9cc7bb44893e0bdf5f26510a,Fix help texts of inventory options,MERGED,2021-04-02 12:37:27.000000000,2021-04-12 19:59:45.000000000,2021-04-12 19:58:22.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-04-02 12:37:27.000000000', 'files': ['kayobe/kolla_ansible.py', 'kayobe/ansible.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e0b180e13543682b0196c96e39f103cbbae697dc', 'message': 'Fix help texts of inventory options\n\nPassing the Kayobe or Kolla Ansible inventories as comma-separated host\nlist was never supported since we check that inventory directories\nexist.\n\nAlso fix the check for the Kolla Ansible inventory directory, which was\nusing the wrong variable (parsed_args.kolla_venv).\n\nChange-Id: I215f927d8249aadd9cc7bb44893e0bdf5f26510a\n'}]",0,784564,e0b180e13543682b0196c96e39f103cbbae697dc,14,4,1,15197,,,0,"Fix help texts of inventory options

Passing the Kayobe or Kolla Ansible inventories as comma-separated host
list was never supported since we check that inventory directories
exist.

Also fix the check for the Kolla Ansible inventory directory, which was
using the wrong variable (parsed_args.kolla_venv).

Change-Id: I215f927d8249aadd9cc7bb44893e0bdf5f26510a
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/64/784564/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/kolla_ansible.py', 'kayobe/ansible.py']",2,e0b180e13543682b0196c96e39f103cbbae697dc,remove-inventory-host-list," ""(default=$%s/inventory or %s/inventory) "" %"," ""(default=$%s/inventory or %s/inventory) or "" ""comma-separated host list"" %",4,5
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I02d7caa344fe16b267c3b9440297cc37557d1ac0,openstack/tripleo-heat-templates,stable/victoria,I02d7caa344fe16b267c3b9440297cc37557d1ac0,Ensure ansible_fqdn is set,ABANDONED,2021-04-09 20:31:26.000000000,2021-04-12 19:38:20.000000000,,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-09 20:31:26.000000000', 'files': ['deployment/tls/undercloud-tls.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a0f76177a8945354f55f7521d1c26719c1f073d2', 'message': ""Ensure ansible_fqdn is set\n\nThe ipaclient ansible role requires that ansible_fqdn is defined but\ndue to [1] we don't have ansible_fqdn inside of ansible_facts.  This\nuses the 'fqdn' ansible fact for ansible_fqdn which is equivalent.\n\n[1]: https://opendev.org/openstack/tripleo-heat-templates/commit/4e79336d69e\n6b7fa4b026922bac7953bafeee96d\n\nRelated-Bug: 1915761\nCloses-Bug: 1923248\nChange-Id: I02d7caa344fe16b267c3b9440297cc37557d1ac0\n""}]",0,785729,a0f76177a8945354f55f7521d1c26719c1f073d2,14,5,1,7414,,,0,"Ensure ansible_fqdn is set

The ipaclient ansible role requires that ansible_fqdn is defined but
due to [1] we don't have ansible_fqdn inside of ansible_facts.  This
uses the 'fqdn' ansible fact for ansible_fqdn which is equivalent.

[1]: https://opendev.org/openstack/tripleo-heat-templates/commit/4e79336d69e
6b7fa4b026922bac7953bafeee96d

Related-Bug: 1915761
Closes-Bug: 1923248
Change-Id: I02d7caa344fe16b267c3b9440297cc37557d1ac0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/785729/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tls/undercloud-tls.yaml'],1,a0f76177a8945354f55f7521d1c26719c1f073d2,ensure_ansible_fqdn_victoria," - name: Ensure ansible_fqdn is defined set_fact: ansible_fqdn: ""{{ ansible_facts['fqdn'] }}""",,3,0
openstack%2Fmagnum~stable%2Fussuri~I81cf8cd6abac9e085ea3d861c4533142930c74e7,openstack/magnum,stable/ussuri,I81cf8cd6abac9e085ea3d861c4533142930c74e7,"Revert ""Update containerd version and tarball URL""",MERGED,2021-04-06 15:53:30.000000000,2021-04-12 19:02:09.000000000,2021-04-12 19:00:31.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 15:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e9b6c3754c1507c2c561e0e1b15b9a85cb4ea262', 'message': 'Revert ""Update containerd version and tarball URL""\n\nThis reverts commit 6696b057eb02472e33a90f042a591a322e35c65c.\n\nReason for revert: Breaks URL to 1.2.8 release\n\nChange-Id: I81cf8cd6abac9e085ea3d861c4533142930c74e7\n'}, {'number': 2, 'created': '2021-04-06 15:55:48.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/install-cri.sh', 'releasenotes/notes/update-containerd-version-url-c095c0ee3c1a538b.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/ffbdbbc082415f68696628a2fd9006bfe0f5f438', 'message': 'Revert ""Update containerd version and tarball URL""\n\nThis reverts commit 6696b057eb02472e33a90f042a591a322e35c65c.\n\nReason for revert: breaks URL to 1.2.8 release\n\nChange-Id: I81cf8cd6abac9e085ea3d861c4533142930c74e7\n'}]",0,784981,ffbdbbc082415f68696628a2fd9006bfe0f5f438,14,3,2,28022,,,0,"Revert ""Update containerd version and tarball URL""

This reverts commit 6696b057eb02472e33a90f042a591a322e35c65c.

Reason for revert: breaks URL to 1.2.8 release

Change-Id: I81cf8cd6abac9e085ea3d861c4533142930c74e7
",git fetch https://review.opendev.org/openstack/magnum refs/changes/81/784981/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/install-cri.sh', 'releasenotes/notes/update-containerd-version-url-c095c0ee3c1a538b.yaml']",3,e9b6c3754c1507c2c561e0e1b15b9a85cb4ea262,ussuri-fixes,,--- upgrade: - | The default containerd version is updated with 1.4.3. ,4,8
openstack%2Fnova~master~I8835d36a48d8f74377a5f1f63d5fd538f62173ef,openstack/nova,master,I8835d36a48d8f74377a5f1f63d5fd538f62173ef,Check volume encryption keys prior to resize and migration,NEW,2021-03-17 11:08:01.000000000,2021-04-12 18:59:41.000000000,,"[{'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-17 11:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dcb26768ac0b2bf6296e4df5d9227c75b9ed4df9', 'message': 'Check volume encryption keys prior to resize\n\nIf an attempted resize or cold migration of an instance with encrypted\nvolumes fails when accessing encryption keys, the instance will be left\nin an ERROR state, and the volumes in the attaching state, without the\nattachment record in Cinder.\n\nThis happens because volume connections are terminated on the source\nhost before being recreated on the destination host. If the attachment\nfails on the destination host, rollback to the source host will also\nfail for the same reason. The volume attachment record still exists in\nNova, but is lost in Cinder.\n\nThis change handles the error more gracefully by checking whether\nvolumes are encrypted, and if so, checking that the encryption key can\nbe accessed, earlier in the resize/migration process, prior to\ntermination of the volume connections on the source host.\n\nWith the fix in place, the resize or cold migration will still fail, but\nthe instance and volumes will be unaffected. This behaviour matches that\nof live migration, since in the live migration case the volume\nconnections are not terminated on the source until after the migration\nis complete.\n\nCloses-Bug: #1917498\n\nChange-Id: I8835d36a48d8f74377a5f1f63d5fd538f62173ef\n'}, {'number': 2, 'created': '2021-03-25 14:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e75aa95cbd587cf0c1e7713de664586fddc0049', 'message': 'Check volume encryption keys prior to resize and migration\n\nIf an attempted resize or cold migration of an instance with encrypted\nvolumes fails when accessing encryption keys, the instance will be left\nin an ERROR state, and the volumes in the attaching state, without the\nattachment record in Cinder.\n\nThis happens because volume connections are terminated on the source\nhost before being recreated on the destination host. If the attachment\nfails on the destination host, rollback to the source host will also\nfail for the same reason. The volume attachment record still exists in\nNova, but is lost in Cinder.\n\nFor live migration, the instance is not left in an error state because\nthe volume connection on the source host remains active. The migration\nstill fails however.\n\nThis change handles the error more gracefully by checking whether\nvolumes are encrypted, and if so, checking that the encryption key can\nbe accessed, earlier in the resize/migration process, in the nova API.\n\nWith the fix in place, a resize or cold migration will still fail, but\nthe instance and volumes will be unaffected. The user experience for\nresize, cold and live migration is improved, by failing the request\nimmediately.\n\nCloses-Bug: #1917498\n\nChange-Id: I8835d36a48d8f74377a5f1f63d5fd538f62173ef\n'}, {'number': 3, 'created': '2021-03-25 19:48:21.000000000', 'files': ['nova/tests/unit/policies/test_servers.py', 'releasenotes/notes/bug-1917498-2bce59ace5c8d61c.yaml', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f362e53eac0b104cb299152a2d9e173fcad3a19a', 'message': 'Check volume encryption keys prior to resize and migration\n\nIf an attempted resize or cold migration of an instance with encrypted\nvolumes fails when accessing encryption keys, the instance will be left\nin an ERROR state, and the volumes in the attaching state, without the\nattachment record in Cinder.\n\nThis happens because volume connections are terminated on the source\nhost before being recreated on the destination host. If the attachment\nfails on the destination host, rollback to the source host will also\nfail for the same reason. The volume attachment record still exists in\nNova, but is lost in Cinder.\n\nFor live migration, the instance is not left in an error state because\nthe volume connection on the source host remains active. The migration\nstill fails however.\n\nThis change handles the error more gracefully by checking whether\nvolumes are encrypted, and if so, checking that the encryption key can\nbe accessed, earlier in the resize/migration process, in the nova API.\n\nWith the fix in place, a resize or cold migration will still fail, but\nthe instance and volumes will be unaffected. The user experience for\nresize, cold and live migration is improved, by failing the request\nimmediately.\n\nCloses-Bug: #1917498\n\nChange-Id: I8835d36a48d8f74377a5f1f63d5fd538f62173ef\n'}]",9,781079,f362e53eac0b104cb299152a2d9e173fcad3a19a,19,2,3,14826,,,0,"Check volume encryption keys prior to resize and migration

If an attempted resize or cold migration of an instance with encrypted
volumes fails when accessing encryption keys, the instance will be left
in an ERROR state, and the volumes in the attaching state, without the
attachment record in Cinder.

This happens because volume connections are terminated on the source
host before being recreated on the destination host. If the attachment
fails on the destination host, rollback to the source host will also
fail for the same reason. The volume attachment record still exists in
Nova, but is lost in Cinder.

For live migration, the instance is not left in an error state because
the volume connection on the source host remains active. The migration
still fails however.

This change handles the error more gracefully by checking whether
volumes are encrypted, and if so, checking that the encryption key can
be accessed, earlier in the resize/migration process, in the nova API.

With the fix in place, a resize or cold migration will still fail, but
the instance and volumes will be unaffected. The user experience for
resize, cold and live migration is improved, by failing the request
immediately.

Closes-Bug: #1917498

Change-Id: I8835d36a48d8f74377a5f1f63d5fd538f62173ef
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/781079/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'releasenotes/notes/bug-1917498-2bce59ace5c8d61c.yaml']",3,dcb26768ac0b2bf6296e4df5d9227c75b9ed4df9,bug/1917498,"--- fixes: - | Fixes `bug 1917498`_ in which an attempted resize or cold migration of an instance with encrypted volumes fails when accessing encryption keys, leaving the instance in an ``ERROR`` state, and the volumes in the ``attaching`` state. With the fix in place, the resize or cold migration will fail, but the instance and volumes will be unaffected. .. _bug 1917498: https://bugs.launchpad.net/nova/+bug/1917498 ",,144,0
openstack%2Ftripleo-specs~master~I368ce03084bfc69b6590694cf71bef83b614834b,openstack/tripleo-specs,master,I368ce03084bfc69b6590694cf71bef83b614834b,Propose to also abandon 90 day old patches in merge conflict,MERGED,2021-04-08 16:41:59.000000000,2021-04-12 18:33:21.000000000,2021-04-12 18:31:12.000000000,"[{'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 16:41:59.000000000', 'files': ['specs/policy/patch-abandonment.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/3d87c6229a3cc08a82d66cf6e56dc75af14ffb65', 'message': 'Propose to also abandon 90 day old patches in merge conflict\n\nThe present patch abandonment policy over covers patches with a -1 vote\nfrom CI that are without any activity for 90 days.\n\nThis change proposes to broaden the policy to also apply to patches in\nmerge conflict that do not have any activity for 90 days, regardless of\nthe CI vote.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I368ce03084bfc69b6590694cf71bef83b614834b\n'}]",0,785443,3d87c6229a3cc08a82d66cf6e56dc75af14ffb65,9,4,1,7144,,,0,"Propose to also abandon 90 day old patches in merge conflict

The present patch abandonment policy over covers patches with a -1 vote
from CI that are without any activity for 90 days.

This change proposes to broaden the policy to also apply to patches in
merge conflict that do not have any activity for 90 days, regardless of
the CI vote.

Signed-off-by: James Slagle <jslagle@redhat.com>
Change-Id: I368ce03084bfc69b6590694cf71bef83b614834b
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/43/785443/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/policy/patch-abandonment.rst'],1,3d87c6229a3cc08a82d66cf6e56dc75af14ffb65,,"If a proposed patch with no activity for 90 days is in merge conflict, even with a +1 from CI, a core reviewer should abandon the change with a reference to this policy. ",,4,0
openstack%2Fpuppet-openstack-integration~master~I7c82eb6d01578090055c5ada6b790a241808d067,openstack/puppet-openstack-integration,master,I7c82eb6d01578090055c5ada6b790a241808d067,Fix the wrong git reset command,MERGED,2021-02-23 15:33:24.000000000,2021-04-12 18:24:06.000000000,2021-04-12 18:24:06.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 15:33:24.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/be70c381e7333c3f7b451d3697525b3f4a2b4e4e', 'message': 'Fix the wrong git reset command\n\nWe should use <tag> instead of origin/<tag> to reset to the specific\ntag.\n\nChange-Id: I7c82eb6d01578090055c5ada6b790a241808d067\n'}]",0,777150,be70c381e7333c3f7b451d3697525b3f4a2b4e4e,9,3,1,9816,,,0,"Fix the wrong git reset command

We should use <tag> instead of origin/<tag> to reset to the specific
tag.

Change-Id: I7c82eb6d01578090055c5ada6b790a241808d067
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/50/777150/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,be70c381e7333c3f7b451d3697525b3f4a2b4e4e,tempest-neutron, git reset --hard $TEMPEST_VERSION, git reset --hard origin/$TEMPEST_VERSION,1,1
openstack%2Fpuppet-manila~master~Idcd266cbb07307fe0034a8dde5fc7d79be062e96,openstack/puppet-manila,master,Idcd266cbb07307fe0034a8dde5fc7d79be062e96,Add LVM backend,MERGED,2021-03-30 09:26:22.000000000,2021-04-12 18:16:03.000000000,2021-04-12 18:14:07.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 09:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/2f1cc5758c42be5cc29c8a80df17f2c5c3f17d10', 'message': 'Add LVM backend\n\nChange-Id: Idcd266cbb07307fe0034a8dde5fc7d79be062e96\n'}, {'number': 2, 'created': '2021-03-30 09:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/11108afe28e3a4c32321da82b8d9149935b22dc7', 'message': 'Add LVM backend\n\nChange-Id: Idcd266cbb07307fe0034a8dde5fc7d79be062e96\n'}, {'number': 3, 'created': '2021-03-30 10:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/76ea7a8b00c3de44889b99de00f187dde340ff0e', 'message': 'Add LVM backend\n\nChange-Id: Idcd266cbb07307fe0034a8dde5fc7d79be062e96\n'}, {'number': 4, 'created': '2021-03-30 22:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/5e03da4a1c6f2215aef3d0a9294c8eb62cce595d', 'message': 'Add LVM backend\n\nChange-Id: Idcd266cbb07307fe0034a8dde5fc7d79be062e96\n'}, {'number': 5, 'created': '2021-03-31 00:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/1857b3c9a2278a427570b6045715095664f8316f', 'message': 'Add LVM backend\n\nChange-Id: Idcd266cbb07307fe0034a8dde5fc7d79be062e96\n'}, {'number': 6, 'created': '2021-03-31 11:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/eaaded5ea1917d01f75b5ce8a4021e7478631031', 'message': 'Add LVM backend\n\nChange-Id: Idcd266cbb07307fe0034a8dde5fc7d79be062e96\n'}, {'number': 7, 'created': '2021-04-07 04:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/528f909bc8696bac01ddcc346d024da4c6b30cbe', 'message': 'Add LVM backend\n\nChange-Id: Idcd266cbb07307fe0034a8dde5fc7d79be062e96\n'}, {'number': 8, 'created': '2021-04-07 11:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/ee5463ff856d44d463100a278d030b012cd4bac6', 'message': 'Add LVM backend\n\nChange-Id: Idcd266cbb07307fe0034a8dde5fc7d79be062e96\n'}, {'number': 9, 'created': '2021-04-08 05:29:50.000000000', 'files': ['releasenotes/notes/add_lvm_backend-61200603bcb4139e.yaml', 'spec/defines/manila_backend_lvm_spec.rb', 'manifests/backend/lvm.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/2995df77adafd54df018a818fc567e027b28dcd1', 'message': 'Add LVM backend\n\nChange-Id: Idcd266cbb07307fe0034a8dde5fc7d79be062e96\n'}]",10,783821,2995df77adafd54df018a818fc567e027b28dcd1,25,3,9,26721,,,0,"Add LVM backend

Change-Id: Idcd266cbb07307fe0034a8dde5fc7d79be062e96
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/21/783821/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_lvm_backend-61200603bcb4139e.yaml', 'spec/defines/manila_backend_lvm_spec.rb', 'manifests/backend/lvm.pp']",3,2f1cc5758c42be5cc29c8a80df17f2c5c3f17d10,,"# # == Class: manila::backend::lvm # # Configures Manila to use LVM as a share driver # # === Parameters # [*share_backend_name*] # Name of the backend in manila.conf that these settings will reside in # # [*driver_handles_share_servers*] # (optional) Denotes whether the driver should handle the responsibility of # managing share servers. This must be set to false if the driver is to # operate without managing share servers. # Defaults to: False # # [*lvm_share_export_ip*] # List of IPs to export shares belonging to the LVM storage driver. # lvm_share_export_ip = <None> # # [*lvm_share_export_root*] # (optional) Base folder where exported shares are located. # Defauls to: $state_path/mnt # # [*lvm_share_mirrors*] # (optional) If set, create LVMs with multiple mirrors. Note that this requires # lvm_mirrors + 2 PVs with available space. # Defaults to: 0 # [*lvm_share_volume_group*] # (optional) Name for the VG that will contain exported shares. (string value) # Defaults to: lvm-shares # [*lvm_share_helpers*] # (optional) Specify list of share export helpers. (list value) # Defaults to: ['CIFS=manila.share.drivers.helpers.CIFSHelperUserAccess', # 'NFS=manila.share.drivers.helpers.NFSHelper'] # define manila::backend::lvm( $share_backend_name = $name, $share_driver = 'manila.share.drivers.lvm.LVMShareDriver', $driver_handles_share_servers = false, $lvm_share_export_ip = undef, $lvm_share_export_root = '$state_path/mnt', $lvm_share_mirrors = 0, $lvm_share_volume_group = 'lvm-shares', $lvm_share_helpers = ['CIFS=manila.share.drivers.helpers.CIFSHelperUserAccess', 'NFS=manila.share.drivers.helpers.NFSHelper'], ) { include manila::deps manila_config { ""${name}/share_backend_name"": value => $share_backend_name; ""${name}/share_driver"": value => $share_driver; ""${name}/driver_handles_share_servers"": value => $driver_handles_share_servers; ""${name}/lvm_share_export_ip"": value => $lvm_share_export_ip; ""${name}/lvm_share_export_root"": value => $lvm_share_export_root; ""${name}/lvm_share_mirrors"": value => $lvm_share_mirrors; ""${name}/lvm_share_volume_group"": value => $lvm_share_volume_group; ""${name}/lvm_share_helpers"": value => $lvm_share_helpers; } } ",,109,0
openstack%2Fmagnum~master~Id2810dc7925b0e5e625c2877f6ebf9a97d8602bd,openstack/magnum,master,Id2810dc7925b0e5e625c2877f6ebf9a97d8602bd,Make hyperkube optional,ABANDONED,2020-11-12 12:24:08.000000000,2021-04-12 18:05:29.000000000,,"[{'_account_id': 6484}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-12 12:24:08.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/upgrade-kubernetes.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/install-clients.sh', 'magnum/drivers/common/templates/kubernetes/fragments/install-kubernetes.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/install-cri.sh', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/d166b25f14b695d99adf619454ab9d895c118ce1', 'message': 'Make hyperkube optional\n\n* use_hyperkube defaults to true, installs all kubernetes\n  services with podman and the hyperkube image.\n* use_hyperkube=false, install kubelet binary and load\n  from the server release artifact all kubernetes images.\n\nChange-Id: Id2810dc7925b0e5e625c2877f6ebf9a97d8602bd\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",3,762511,d166b25f14b695d99adf619454ab9d895c118ce1,11,2,1,20498,,,0,"Make hyperkube optional

* use_hyperkube defaults to true, installs all kubernetes
  services with podman and the hyperkube image.
* use_hyperkube=false, install kubelet binary and load
  from the server release artifact all kubernetes images.

Change-Id: Id2810dc7925b0e5e625c2877f6ebf9a97d8602bd
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/11/762511/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/upgrade-kubernetes.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/install-clients.sh', 'magnum/drivers/common/templates/kubernetes/fragments/install-kubernetes.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/install-cri.sh', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh']",13,d166b25f14b695d99adf619454ab9d895c118ce1,drop-hyperkube,"if [ ""$(echo $USE_PODMAN | tr '[:upper:]' '[:lower:]')"" == ""true"" && -n ""${KUBE_IMAGE_DIGEST}"" && ""$(echo $USE_HYPERKUBE | tr '[:upper:]' '[:lower:]')"" == ""true""]; then","if [ ""$(echo $USE_PODMAN | tr '[:upper:]' '[:lower:]')"" == ""true"" ]; then",322,38
openstack%2Fmanila-tempest-plugin~master~I0b5aaa2bcb1ce8ca4e41eecb5908e0ab46db9346,openstack/manila-tempest-plugin,master,I0b5aaa2bcb1ce8ca4e41eecb5908e0ab46db9346,[WIP] Enable create_share_from_snapshot for CephFS drivers,ABANDONED,2020-08-03 15:08:23.000000000,2021-04-12 18:05:29.000000000,,"[{'_account_id': 12017}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-08-03 15:08:23.000000000', 'files': ['zuul.d/manila-tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/4cfc13f2d3e240a253485b0757ccfa3d25a8c44a', 'message': '[WIP] Enable create_share_from_snapshot for CephFS drivers\n\nDepends-On: https://review.opendev.org/#/c/741560/\nChange-Id: I0b5aaa2bcb1ce8ca4e41eecb5908e0ab46db9346\n'}]",0,744505,4cfc13f2d3e240a253485b0757ccfa3d25a8c44a,5,3,1,6413,,,0,"[WIP] Enable create_share_from_snapshot for CephFS drivers

Depends-On: https://review.opendev.org/#/c/741560/
Change-Id: I0b5aaa2bcb1ce8ca4e41eecb5908e0ab46db9346
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/05/744505/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/manila-tempest-jobs.yaml'],1,4cfc13f2d3e240a253485b0757ccfa3d25a8c44a,bp/create-share-from-snapshot-cephfs, MANILA_DEFAULT_SHARE_TYPE_EXTRA_SPECS: 'snapshot_support=True create_share_from_snapshot_support=True' MANILA_DEFAULT_SHARE_TYPE_EXTRA_SPECS: 'snapshot_support=True create_share_from_snapshot_support=True', MANILA_DEFAULT_SHARE_TYPE_EXTRA_SPECS: 'snapshot_support=True' MANILA_DEFAULT_SHARE_TYPE_EXTRA_SPECS: 'snapshot_support=True',2,2
openstack%2Fopenstack-helm-images~master~I9cfcdc7d97e676b95f3e85f72dc228b9ca9032f5,openstack/openstack-helm-images,master,I9cfcdc7d97e676b95f3e85f72dc228b9ca9032f5,[WIP] testing different fluentd plugins,ABANDONED,2021-02-24 17:36:51.000000000,2021-04-12 18:00:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-24 17:36:51.000000000', 'files': ['fluentd/Dockerfile.debian'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/8b4bc98af1ffa4b0501273172a2438d231a40b69', 'message': '[WIP] testing different fluentd plugins\n\nChange-Id: I9cfcdc7d97e676b95f3e85f72dc228b9ca9032f5\n'}]",0,777439,8b4bc98af1ffa4b0501273172a2438d231a40b69,3,1,1,27499,,,0,"[WIP] testing different fluentd plugins

Change-Id: I9cfcdc7d97e676b95f3e85f72dc228b9ca9032f5
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/39/777439/1 && git format-patch -1 --stdout FETCH_HEAD,['fluentd/Dockerfile.debian'],1,8b4bc98af1ffa4b0501273172a2438d231a40b69,, fluent-plugin-detect-exceptions \,,1,0
openstack%2Fopenstack-helm-infra~master~I40a5cb62f0badaee6dbd2beb6eab5569bbdecff6,openstack/openstack-helm-infra,master,I40a5cb62f0badaee6dbd2beb6eab5569bbdecff6,Allow additional topics to be defined for rest API posts,ABANDONED,2020-09-17 20:16:00.000000000,2021-04-12 17:59:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 27499}]","[{'number': 1, 'created': '2020-09-17 20:16:00.000000000', 'files': ['nagios/templates/deployment.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9485320f0abcfb70ba744be032e491136f78250c', 'message': 'Allow additional topics to be defined for rest API posts\n\nChange-Id: I40a5cb62f0badaee6dbd2beb6eab5569bbdecff6\n'}]",0,752561,9485320f0abcfb70ba744be032e491136f78250c,4,2,1,27499,,,0,"Allow additional topics to be defined for rest API posts

Change-Id: I40a5cb62f0badaee6dbd2beb6eab5569bbdecff6
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/61/752561/1 && git format-patch -1 --stdout FETCH_HEAD,['nagios/templates/deployment.yaml'],1,9485320f0abcfb70ba744be032e491136f78250c,, - name: TSEE_TOPIC value: {{ $envAll.Values.conf.nagios.notification.tsee.topic }} - name: DCAE_TOPIC value: {{ $envAll.Values.conf.nagios.notification.dcae.topic }},,4,0
openstack%2Fcinder~master~I74b897a6ec27ca2ef00811fbbc2e6c43d31e307f,openstack/cinder,master,I74b897a6ec27ca2ef00811fbbc2e6c43d31e307f,Use os-brick 4.3.0,MERGED,2021-03-10 02:54:25.000000000,2021-04-12 17:53:02.000000000,2021-03-25 21:52:50.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-03-10 02:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/38364644039dc8b35854fb681bd76afa0594f9c4', 'message': 'Use os-brick 4.3.0\n\nUpdate min brick version to the wallaby brick release, and adjust\nrequirements and lower constraints to accommodate the versions of\ndependencies requested by os-brick 4.3.0.\n\nChange-Id: I74b897a6ec27ca2ef00811fbbc2e6c43d31e307f\n'}, {'number': 2, 'created': '2021-03-18 17:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f851d46d895170d63f3437f6cb9bfe6db41dd48e', 'message': 'Use os-brick 4.3.0\n\nUpdate min brick version to the wallaby brick release, and adjust\nrequirements and lower constraints to accommodate the versions of\ndependencies requested by os-brick 4.3.0.\n\nChange-Id: I74b897a6ec27ca2ef00811fbbc2e6c43d31e307f\n'}, {'number': 3, 'created': '2021-03-24 03:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/71803018fb12b37d6fa185475bbb6cfffa2b590d', 'message': 'Use os-brick 4.3.0\n\nUpdate min brick version to the wallaby brick release, and adjust\nrequirements and lower constraints to accommodate the versions of\ndependencies requested by os-brick 4.3.0.\n\nChange-Id: I74b897a6ec27ca2ef00811fbbc2e6c43d31e307f\n'}, {'number': 4, 'created': '2021-03-24 20:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/90d6d74e5cc71202191a57d02ede8249818b57a7', 'message': 'Use os-brick 4.3.0\n\nUpdate min brick version to the wallaby brick release, and adjust\nrequirements files and lower constraints to accommodate the versions\nof dependencies requested by os-brick 4.3.0.\n\nChange-Id: I74b897a6ec27ca2ef00811fbbc2e6c43d31e307f\n'}, {'number': 5, 'created': '2021-03-25 17:15:56.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b14cb5e13a4fd82dfe813319a481595d40929e6d', 'message': 'Use os-brick 4.3.0\n\nUpdate min brick version to the wallaby brick release, and adjust\nrequirements files and lower constraints to accommodate the versions\nof dependencies requested by os-brick 4.3.0.\n\nChange-Id: I74b897a6ec27ca2ef00811fbbc2e6c43d31e307f\n'}]",8,779646,b14cb5e13a4fd82dfe813319a481595d40929e6d,117,6,5,5314,,,0,"Use os-brick 4.3.0

Update min brick version to the wallaby brick release, and adjust
requirements files and lower constraints to accommodate the versions
of dependencies requested by os-brick 4.3.0.

Change-Id: I74b897a6ec27ca2ef00811fbbc2e6c43d31e307f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/779646/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,38364644039dc8b35854fb681bd76afa0594f9c4,use-wallaby-brick,eventlet==0.30.1os-brick==4.3.0oslo.concurrency==4.4.0oslo.service==2.5.0oslo.utils==4.8.0pbr==5.5.1requests==2.25.1tenacity==6.3.1,eventlet==0.26.1os-brick==4.2.0oslo.concurrency==4.3.0oslo.service==2.4.0oslo.utils==4.7.0pbr==5.5.0requests==2.23.0tenacity==6.2.0,16,16
openstack%2Fpuppet-murano~master~Ibfdf007d11003935293c046ae6de65531873a722,openstack/puppet-murano,master,Ibfdf007d11003935293c046ae6de65531873a722,Bump dependency in metadata.json,MERGED,2021-04-08 19:03:36.000000000,2021-04-12 17:08:06.000000000,2021-04-12 17:08:06.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:03:36.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/f90a3a5ef834ce5f48137cc8ff7c4ad778bbcd40', 'message': 'Bump dependency in metadata.json\n\nThis bumps the dependency in metadata.json based on\nthen new major versions that is tested when [1] is merged.\n\n[1]\nhttps://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138\n\nChange-Id: Ibfdf007d11003935293c046ae6de65531873a722\n'}]",0,785477,f90a3a5ef834ce5f48137cc8ff7c4ad778bbcd40,7,2,1,16137,,,0,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: Ibfdf007d11003935293c046ae6de65531873a722
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/77/785477/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,f90a3a5ef834ce5f48137cc8ff7c4ad778bbcd40,new-deps," ""version_requirement"": "">=5.0.0 <8.0.0"""," ""version_requirement"": "">=5.0.0 <7.0.0""",1,1
openstack%2Fcinder~master~Idf5b3783ddc333d6d60f28a3d08e5fd28e5c1fa8,openstack/cinder,master,Idf5b3783ddc333d6d60f28a3d08e5fd28e5c1fa8,Cinder - Creating clone of encrypted volume fails,MERGED,2021-01-26 13:27:36.000000000,2021-04-12 17:07:44.000000000,2021-03-29 22:07:18.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 24655}, {'_account_id': 30615}, {'_account_id': 31016}]","[{'number': 1, 'created': '2021-01-26 13:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f8ae16a63579b745da02c76c286ede4794b0e83b', 'message': 'Cinder - Creating clone of encrypted volume fails\n\nAfter a clone of an encrypted volume is created, an attach is attempted.\nPowerMax driver requires the provider_location be populated in order\nto find the volume to attach. For this, the volume object needs to be\nupdated and saved.\n\nCloses-Bug: #1913054\nChange-Id: Idf5b3783ddc333d6d60f28a3d08e5fd28e5c1fa8\n'}, {'number': 2, 'created': '2021-03-19 14:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3c2b5318422414942f4d06fd3ce21eb904077008', 'message': 'Cinder - Creating clone of encrypted volume fails\n\nAfter a clone of an encrypted volume is created, an attach is attempted.\nPowerMax driver requires the provider_location be populated in order\nto find the volume to attach. For this, the volume object needs to be\nupdated and saved.\n\nCloses-Bug: #1913054\nChange-Id: Idf5b3783ddc333d6d60f28a3d08e5fd28e5c1fa8\n'}, {'number': 3, 'created': '2021-03-24 15:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c71f514676fdfff66ccca714223d21bf059d4f60', 'message': 'Cinder - Creating clone of encrypted volume fails\n\nAfter a clone of an encrypted volume is created, an attach is attempted.\nPowerMax driver requires the provider_location be populated in order\nto find the volume to attach. For this, the volume object needs to be\nupdated and saved.\n\nCloses-Bug: #1913054\nChange-Id: Idf5b3783ddc333d6d60f28a3d08e5fd28e5c1fa8\n'}, {'number': 4, 'created': '2021-03-24 18:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/19f745b9cb1911f2ebd59d08e31038f612892dca', 'message': 'Cinder - Creating clone of encrypted volume fails\n\nAfter a clone of an encrypted volume is created, an attach is attempted.\nPowerMax driver requires the provider_location be populated in order\nto find the volume to attach. For this, the volume object needs to be\nupdated and saved.\n\nCloses-Bug: #1913054\nChange-Id: Idf5b3783ddc333d6d60f28a3d08e5fd28e5c1fa8\n'}, {'number': 5, 'created': '2021-03-25 15:01:01.000000000', 'files': ['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py', 'releasenotes/notes/cinder-clone-encrypted-a28338e2b1838a63.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e1f56a7c85345883fe030a9298fd76b1dcf63cbf', 'message': 'Cinder - Creating clone of encrypted volume fails\n\nAfter a clone of an encrypted volume is created, an attach is attempted.\nPowerMax driver requires the provider_location be populated in order\nto find the volume to attach. For this, the volume object needs to be\nupdated.\n\nCloses-Bug: #1913054\nChange-Id: Idf5b3783ddc333d6d60f28a3d08e5fd28e5c1fa8\n'}]",5,772517,e1f56a7c85345883fe030a9298fd76b1dcf63cbf,112,8,5,12670,,,0,"Cinder - Creating clone of encrypted volume fails

After a clone of an encrypted volume is created, an attach is attempted.
PowerMax driver requires the provider_location be populated in order
to find the volume to attach. For this, the volume object needs to be
updated.

Closes-Bug: #1913054
Change-Id: Idf5b3783ddc333d6d60f28a3d08e5fd28e5c1fa8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/17/772517/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py']",2,f8ae16a63579b745da02c76c286ede4794b0e83b,," if volume.encryption_key_id: try: volume.update(model_update) volume.save() except exception.CinderException: LOG.exception(""Failed updating volume %(volume_id)s with "" ""%(updates)s"", {'volume_id': volume.id, 'updates': model_update})", if volume.encryption_key_id is not None:,61,1
openstack%2Fpuppet-neutron~stable%2Fussuri~I89e4bc42b06160edca4d1b7f9e12551d3972f305,openstack/puppet-neutron,stable/ussuri,I89e4bc42b06160edca4d1b7f9e12551d3972f305,Prepare a new release for ussuri,MERGED,2021-04-12 15:01:37.000000000,2021-04-12 17:04:50.000000000,2021-04-12 17:04:50.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-12 15:01:37.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/6bf094faa02bf56e20ffac580867891fac59fbc0', 'message': 'Prepare a new release for ussuri\n\nSince last tag release there are couple of fixes so want to\nhave a new release mainly for puppet-tripleo[1].\n\n[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/757749\n\nChange-Id: I89e4bc42b06160edca4d1b7f9e12551d3972f305\n'}]",0,785898,6bf094faa02bf56e20ffac580867891fac59fbc0,7,4,1,13861,,,0,"Prepare a new release for ussuri

Since last tag release there are couple of fixes so want to
have a new release mainly for puppet-tripleo[1].

[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/757749

Change-Id: I89e4bc42b06160edca4d1b7f9e12551d3972f305
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/98/785898/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,6bf094faa02bf56e20ffac580867891fac59fbc0,," ""version"": ""16.4.0"""," ""version"": ""16.3.0""",1,1
openstack%2Foslo.config~master~I227172cb51ea357a2c807fa080b0eaf7fd312e78,openstack/oslo.config,master,I227172cb51ea357a2c807fa080b0eaf7fd312e78,update doc url,MERGED,2020-10-22 03:01:23.000000000,2021-04-12 16:52:59.000000000,2021-04-12 16:50:25.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 32231}, {'_account_id': 32238}]","[{'number': 1, 'created': '2020-10-22 03:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/05d25f8caec4474d19c43ce1747f6dc8ed4a44a9', 'message': 'update doc url\n\nChange-Id: I227172cb51ea357a2c807fa080b0eaf7fd312e78\n'}, {'number': 2, 'created': '2020-10-30 03:20:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/3cf6c60d81735d5dccf08cffa92c618ffa9946d8', 'message': 'update doc url\n\nChange-Id: I227172cb51ea357a2c807fa080b0eaf7fd312e78\n'}]",1,759173,3cf6c60d81735d5dccf08cffa92c618ffa9946d8,15,5,2,32029,,,0,"update doc url

Change-Id: I227172cb51ea357a2c807fa080b0eaf7fd312e78
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/73/759173/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,05d25f8caec4474d19c43ce1747f6dc8ed4a44a9,tox, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Fopenstack-ansible~stable%2Ftrain~I80a980b7da47ca801729c58c7c76c64b0b787f97,openstack/openstack-ansible,stable/train,I80a980b7da47ca801729c58c7c76c64b0b787f97,Bump SHAs for stable/train,MERGED,2021-04-11 17:59:19.000000000,2021-04-12 16:36:32.000000000,2021-04-12 16:33:44.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-04-11 17:59:19.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f7c8c7cb70d4d0cf74409bb98508148c71912c14', 'message': 'Bump SHAs for stable/train\n\nChange-Id: I80a980b7da47ca801729c58c7c76c64b0b787f97\n'}]",0,785801,f7c8c7cb70d4d0cf74409bb98508148c71912c14,8,3,1,28619,,,0,"Bump SHAs for stable/train

Change-Id: I80a980b7da47ca801729c58c7c76c64b0b787f97
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/01/785801/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,f7c8c7cb70d4d0cf74409bb98508148c71912c14,bump_osa, version: add2434a5c7726ff8444b24cf57434cec234b450 version: f7f694b3dd4361e364dccb4ce94e6510727fca2f version: 3bf2c45123cb766be1b4bb4e3e5db6414192c796, version: 1dba8cf97f84e8b57000b30f24e0d485d2b0f2fb version: a2ff5ba59b47f96ddddcb7a3a67de93687c317a6 version: fe47a02134d1d3287f2396ee8a4fbb1487956a1c,49,49
openstack%2Fopenstack-ansible~stable%2Fussuri~I362cb374f5c14c6dcb0fd4cce36394c9e38ec5c4,openstack/openstack-ansible,stable/ussuri,I362cb374f5c14c6dcb0fd4cce36394c9e38ec5c4,Bump SHAs for stable/ussuri,MERGED,2021-04-11 17:59:19.000000000,2021-04-12 16:36:29.000000000,2021-04-12 16:33:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-04-11 17:59:19.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/remove_amp_image_id-433eefffba7d6a96.yaml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/936ee0eeefcf4b363c4933d5f4f045fff2fb0032', 'message': 'Bump SHAs for stable/ussuri\n\nChange-Id: I362cb374f5c14c6dcb0fd4cce36394c9e38ec5c4\n'}]",0,785802,936ee0eeefcf4b363c4933d5f4f045fff2fb0032,8,3,1,28619,,,0,"Bump SHAs for stable/ussuri

Change-Id: I362cb374f5c14c6dcb0fd4cce36394c9e38ec5c4
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/02/785802/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/remove_amp_image_id-433eefffba7d6a96.yaml', 'ansible-role-requirements.yml']",5,936ee0eeefcf4b363c4933d5f4f045fff2fb0032,bump_osa, version: a2fcdbebb7f02983495d0165ad1e5ab5b4b16513 version: f7f694b3dd4361e364dccb4ce94e6510727fca2f, version: 7442f6c249f936d5b1ba0f3e0c3baac66ffa38c8 version: a2ff5ba59b47f96ddddcb7a3a67de93687c317a6,59,53
openstack%2Ftripleo-common~master~I9d38c1dbadb968f8c7721c69c57002f159cea619,openstack/tripleo-common,master,I9d38c1dbadb968f8c7721c69c57002f159cea619,Bump Ceph containers to Pacific,MERGED,2021-04-02 07:29:52.000000000,2021-04-12 16:24:20.000000000,2021-04-12 16:22:36.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-02 07:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/57229b46880c6b39590e1055e8e7dd302667abe1', 'message': 'Bump Ceph containers to Pacific\n\nAs per [1] Ceph Pacific is out and provides a stable container tag.\nThe purpose of this review is to make the ceph pacific containers\navailable to the cephadm provisioning process.\n\nChange-Id: I9d38c1dbadb968f8c7721c69c57002f159cea619\n'}, {'number': 2, 'created': '2021-04-02 07:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fa19abf4ce09feb6bf007633b43227e9f81fe444', 'message': 'Bump Ceph containers to Pacific\n\nAs per [1] Ceph Pacific is out and provides a stable container tag.\nThe purpose of this review is to make the ceph pacific containers\navailable to the cephadm provisioning process.\n\n[1] https://ceph.io/releases/v16-2-0-pacific-released\n\nChange-Id: I9d38c1dbadb968f8c7721c69c57002f159cea619\n'}, {'number': 3, 'created': '2021-04-10 06:08:53.000000000', 'files': ['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/286aaac75bcaf900a3df5c26625155b72a37a83a', 'message': 'Bump Ceph containers to Pacific\n\nAs per [1] Ceph Pacific is out and provides a stable container tag.\nThe purpose of this review is to make the ceph pacific containers\navailable to the cephadm provisioning process.\n\n[1] https://ceph.io/releases/v16-2-0-pacific-released\n\nChange-Id: I9d38c1dbadb968f8c7721c69c57002f159cea619\n'}]",0,784541,286aaac75bcaf900a3df5c26625155b72a37a83a,20,7,3,25402,,,0,"Bump Ceph containers to Pacific

As per [1] Ceph Pacific is out and provides a stable container tag.
The purpose of this review is to make the ceph pacific containers
available to the cephadm provisioning process.

[1] https://ceph.io/releases/v16-2-0-pacific-released

Change-Id: I9d38c1dbadb968f8c7721c69c57002f159cea619
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/41/784541/2 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml']",2,57229b46880c6b39590e1055e8e7dd302667abe1,cephadm_pacific,- imagename: quay.ceph.io/ceph-ci/daemon:v6.0.0-stable-6.0-pacific-centos-8-x86_64,- imagename: quay.ceph.io/ceph-ci/daemon:v5.0.7-stable-5.0-octopus-centos-8-x86_64,2,2
openstack%2Fironic-inspector~master~I083379934e699f23997237c9b5ee369f60399d4e,openstack/ironic-inspector,master,I083379934e699f23997237c9b5ee369f60399d4e,Add Python3 xena unit tests,MERGED,2021-03-30 18:43:52.000000000,2021-04-12 16:23:32.000000000,2021-04-12 16:18:23.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 18:43:52.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/faafa91f72be0785421e9cbfa5e609483a0d22ef', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I083379934e699f23997237c9b5ee369f60399d4e\n'}]",0,783954,faafa91f72be0785421e9cbfa5e609483a0d22ef,9,2,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I083379934e699f23997237c9b5ee369f60399d4e
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/54/783954/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,faafa91f72be0785421e9cbfa5e609483a0d22ef,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fpython-novaclient~master~I9f622c01a6b1abe328a60de6d3e438e68872dd80,openstack/python-novaclient,master,I9f622c01a6b1abe328a60de6d3e438e68872dd80,Add unit tests for client logger,MERGED,2021-04-10 03:11:57.000000000,2021-04-12 16:23:19.000000000,2021-04-12 16:21:41.000000000,"[{'_account_id': 679}, {'_account_id': 7634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-10 03:11:57.000000000', 'files': ['novaclient/tests/unit/test_client.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/21edd11ba95df0d71403a0b995d26df67b2f629f', 'message': ""Add unit tests for client logger\n\nChange I53caceb08667eb12e27016731868e8015dd10e34 fixed a bug where we\nweren't using our novaclient logger default when a logger was not\npassed to the Client constructor.\n\nThis adds unit tests to assert the fixed behavior and protect against\nregression.\n\nRelated-Bug: #1921388\n\nChange-Id: I9f622c01a6b1abe328a60de6d3e438e68872dd80\n""}]",1,785741,21edd11ba95df0d71403a0b995d26df67b2f629f,10,3,1,4690,,,0,"Add unit tests for client logger

Change I53caceb08667eb12e27016731868e8015dd10e34 fixed a bug where we
weren't using our novaclient logger default when a logger was not
passed to the Client constructor.

This adds unit tests to assert the fixed behavior and protect against
regression.

Related-Bug: #1921388

Change-Id: I9f622c01a6b1abe328a60de6d3e438e68872dd80
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/41/785741/1 && git format-patch -1 --stdout FETCH_HEAD,['novaclient/tests/unit/test_client.py'],1,21edd11ba95df0d71403a0b995d26df67b2f629f,bug/1921388," class ClientTest(utils.TestCase): def test_logger(self): client = novaclient.client.Client('2.1', logger=mock.sentinel.logger) self.assertEqual(mock.sentinel.logger, client.logger) self.assertEqual(mock.sentinel.logger, client.client.logger) client = novaclient.client.Client('2.1') self.assertEqual('novaclient.v2.client', client.logger.name) self.assertIsNotNone(client.client.logger) self.assertEqual('novaclient.v2.client', client.client.logger.name)",,12,0
openstack%2Fopenstack-ansible~stable%2Fvictoria~I255efdbe3f055925312f9b40435a510071945add,openstack/openstack-ansible,stable/victoria,I255efdbe3f055925312f9b40435a510071945add,Bump SHAs for stable/victoria,MERGED,2021-04-11 17:59:20.000000000,2021-04-12 16:17:10.000000000,2021-04-12 16:14:36.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-04-11 17:59:20.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/deploy-hosts-file-657a385568f3df9c.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'releasenotes/notes/ability-to-add-extra-package-manager-configuration-815b7959870479e7.yaml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/remove_amp_image_id-433eefffba7d6a96.yaml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2d5f183ef7ce86846222f041d24ca36caeed2804', 'message': 'Bump SHAs for stable/victoria\n\nChange-Id: I255efdbe3f055925312f9b40435a510071945add\n'}]",0,785803,2d5f183ef7ce86846222f041d24ca36caeed2804,8,3,1,28619,,,0,"Bump SHAs for stable/victoria

Change-Id: I255efdbe3f055925312f9b40435a510071945add
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/03/785803/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/deploy-hosts-file-657a385568f3df9c.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/ability-to-add-extra-package-manager-configuration-815b7959870479e7.yaml', 'releasenotes/notes/remove_amp_image_id-433eefffba7d6a96.yaml', 'ansible-role-requirements.yml']",7,2d5f183ef7ce86846222f041d24ca36caeed2804,bump_osa, version: 0a482d106fe47a0f3d6f7457922aff5a70170580 version: c2ac81a8f8958c85696573f47fa4a9a6dc6f953b version: 6fb63e341f99eb022e9d770dc934a964b538308f version: f7f694b3dd4361e364dccb4ce94e6510727fca2f version: 74ed52e00339496542c1b0e657ffe3e483ea4d62, version: 740ff1bf1070594c7d9934671182492a6aca44da version: c58a529b1cd2a3a9fe8951e4a14f659b4b760312 version: 3d0ca7da881c5452a6438ef267f3f104987863f2 version: a2ff5ba59b47f96ddddcb7a3a67de93687c317a6 version: 52a0b222c1910521d75f691c3b665b567bb583e9,86,61
openstack%2Fkayobe~master~I782be627c6e78370555bc7d155261fc15fc93348,openstack/kayobe,master,I782be627c6e78370555bc7d155261fc15fc93348,[DNM] Test Docker pull rate limits,ABANDONED,2021-02-25 16:53:33.000000000,2021-04-12 15:54:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-25 16:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/785cac928e74acb9d179d6da15ac060caed9f59b', 'message': '[DNM] Test Docker pull rate limits\n\nChange-Id: I782be627c6e78370555bc7d155261fc15fc93348\n'}, {'number': 2, 'created': '2021-02-25 16:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/60b98dc3169d8ff2b27da6ff9932ff626e12d92f', 'message': '[DNM] Test Docker pull rate limits\n\nChange-Id: I782be627c6e78370555bc7d155261fc15fc93348\n'}, {'number': 3, 'created': '2021-02-25 17:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d96843ab9a571d56f51d04aec58c9fe9628d91e1', 'message': '[DNM] Test Docker pull rate limits\n\nChange-Id: I782be627c6e78370555bc7d155261fc15fc93348\n'}, {'number': 4, 'created': '2021-02-25 17:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0fdde2cee34c45a8747ba4241863c682a9288688', 'message': '[DNM] Test Docker pull rate limits\n\nChange-Id: I782be627c6e78370555bc7d155261fc15fc93348\n'}, {'number': 5, 'created': '2021-02-25 17:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1df41558717736cebdc39cb033e44881e15064e8', 'message': '[DNM] Test Docker pull rate limits\n\nChange-Id: I782be627c6e78370555bc7d155261fc15fc93348\n'}, {'number': 6, 'created': '2021-02-25 17:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c2f6ca2a3673438eb60c1ce0eecbb0c147269e88', 'message': '[DNM] Test Docker pull rate limits\n\nChange-Id: I782be627c6e78370555bc7d155261fc15fc93348\n'}, {'number': 7, 'created': '2021-02-25 18:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/175449c2baa0506e4ca385b8de58970b94a5895e', 'message': '[DNM] Test Docker pull rate limits\n\nChange-Id: I782be627c6e78370555bc7d155261fc15fc93348\n'}, {'number': 8, 'created': '2021-02-26 08:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/558e6efc058b7b4e622e0c89483f10fbf03fb0be', 'message': '[DNM] Test Docker pull rate limits\n\nChange-Id: I782be627c6e78370555bc7d155261fc15fc93348\n'}, {'number': 9, 'created': '2021-02-26 13:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/160163bbf2f161dcbacb02064af2033fcf6674f0', 'message': '[DNM] Test Docker pull rate limits\n\nChange-Id: I782be627c6e78370555bc7d155261fc15fc93348\n'}, {'number': 10, 'created': '2021-02-26 13:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d0f6ff16f9b03956d29b14c41750649eb991137e', 'message': '[DNM] Test Docker pull rate limits\n\nChange-Id: I782be627c6e78370555bc7d155261fc15fc93348\n'}, {'number': 11, 'created': '2021-02-26 14:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b668b1b8d487baae32907a589dd8d3793ab630c1', 'message': '[DNM] Test Docker pull rate limits\n\nChange-Id: I782be627c6e78370555bc7d155261fc15fc93348\n'}, {'number': 12, 'created': '2021-02-26 14:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e2c8b7cf6f16146e548880a2196e95909a0661ad', 'message': '[DNM] Test Docker pull rate limits\n\nChange-Id: I782be627c6e78370555bc7d155261fc15fc93348\n'}, {'number': 13, 'created': '2021-02-26 15:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/734d7e4518a3cb0b6074ce313768fa461076fa61', 'message': '[DNM] Test Docker pull rate limits\n\nChange-Id: I782be627c6e78370555bc7d155261fc15fc93348\n'}, {'number': 14, 'created': '2021-02-26 16:02:10.000000000', 'files': ['playbooks/kayobe-overcloud-base/pre.yml', 'roles/kayobe-diagnostics/files/get_logs.sh', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d7b57811f5d500255b94c604eabc0df2112e9628', 'message': '[DNM] Test Docker pull rate limits\n\nChange-Id: I782be627c6e78370555bc7d155261fc15fc93348\n'}]",80,777623,d7b57811f5d500255b94c604eabc0df2112e9628,19,1,14,15197,,,0,"[DNM] Test Docker pull rate limits

Change-Id: I782be627c6e78370555bc7d155261fc15fc93348
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/23/777623/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/pre.yml', 'playbooks/kayobe-seed-base/pre.yml', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml']",4,785cac928e74acb9d179d6da15ac060caed9f59b,docker-pull-rate-limit," vars: image_url: ""https://registry-1.docker.io/v2/ratelimitpreview/test/manifests/latest"" token_url: ""https://auth.docker.io/token?service=registry.docker.io&scope=repository:ratelimitpreview/test:pull"" tasks: - shell: ""curl '{{ token_url }}' | jq -r .token"" args: warn: false register: token - shell: ""curl --head -H 'Authorization: Bearer {{ token.stdout }}' '{{ image_url }}' | grep RateLimit-Remaining"" args: warn: false register: rate_limits - debug: msg: ""{{ rate_limits.stdout }}"" - shell: 'echo ""{{ rate_limits.stdout }}"" | sed ""s/^RateLimit-Remaining: \([0-9]*\);.*/\1/""' register: rate_limit_remaining - debug: var: rate_limit_remaining - fail: msg: ""Docker pull rate limit of {{ rate_limit_remaining.stdout }} on {{ ansible_hostname }} is too low"" when: (rate_limit_remaining.stdout | int) < 50 ", tasks:,84,0
openstack%2Freleases~master~I975cc59d825d5b559dd8272ac8c0b6db5bc93e4e,openstack/releases,master,I975cc59d825d5b559dd8272ac8c0b6db5bc93e4e,Fix puppet-freezer missing tarball,ABANDONED,2021-04-12 12:44:36.000000000,2021-04-12 15:31:16.000000000,,"[{'_account_id': 308}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-12 12:44:36.000000000', 'files': ['deliverables/wallaby/puppet-freezer.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/22bec798456a3c2141af9d41d0e691d3d825f513', 'message': ""Fix puppet-freezer missing tarball\n\nThis deliverable previously encountered 2 issues:\n- it is was badly versioned (18.4.0 rather than 7.4.0) [1]\n- the tarball related to 18.4.0 wasn't created [2]\n\nThese changes try to resolve one of the both issues, the goal here is to\nprovide a new tarball.\n\nThe goal is also to discuss about the available solutions.\n\nDo we want to fix the version number? I think we can no longer backtrack\non this point\n\nDo we want to fix tarball? I think that yes.\n\nUnfortunatelly the stable/wallaby refer to 18.4.0 so this is why I start\nto produce a new version 18.5.0, mostly to avoid to revert the branch part too\n\n[1] https://opendev.org/openstack/releases/blame/branch/master/deliverables/wallaby/puppet-freezer.yaml#L28\n[2] https://tarballs.opendev.org/openstack/puppet-freezer/puppet-freezer-18.4.0.tar.gz\n\nChange-Id: I975cc59d825d5b559dd8272ac8c0b6db5bc93e4e\n""}]",0,785866,22bec798456a3c2141af9d41d0e691d3d825f513,13,6,1,28522,,,0,"Fix puppet-freezer missing tarball

This deliverable previously encountered 2 issues:
- it is was badly versioned (18.4.0 rather than 7.4.0) [1]
- the tarball related to 18.4.0 wasn't created [2]

These changes try to resolve one of the both issues, the goal here is to
provide a new tarball.

The goal is also to discuss about the available solutions.

Do we want to fix the version number? I think we can no longer backtrack
on this point

Do we want to fix tarball? I think that yes.

Unfortunatelly the stable/wallaby refer to 18.4.0 so this is why I start
to produce a new version 18.5.0, mostly to avoid to revert the branch part too

[1] https://opendev.org/openstack/releases/blame/branch/master/deliverables/wallaby/puppet-freezer.yaml#L28
[2] https://tarballs.opendev.org/openstack/puppet-freezer/puppet-freezer-18.4.0.tar.gz

Change-Id: I975cc59d825d5b559dd8272ac8c0b6db5bc93e4e
",git fetch https://review.opendev.org/openstack/releases refs/changes/66/785866/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/puppet-freezer.yaml'],1,22bec798456a3c2141af9d41d0e691d3d825f513,fix-puppet-freezer-tarball, - projects: - hash: 8ec7851bc4fe87fada3db05faccb2de8c4fc2ef3 repo: openstack/puppet-freezer version: 18.5.0,,4,0
openstack%2Fopenstack-helm~master~I9152d5b6e32f7d990ccb38bbf9239e14aa848d72,openstack/openstack-helm,master,I9152d5b6e32f7d990ccb38bbf9239e14aa848d72,fix(doc): fixes a typo,MERGED,2021-04-12 15:10:22.000000000,2021-04-12 15:30:22.000000000,2021-04-12 15:28:46.000000000,"[{'_account_id': 22348}, {'_account_id': 30777}]","[{'number': 1, 'created': '2021-04-12 15:10:22.000000000', 'files': ['doc/source/install/developer/deploy-ovs-dpdk.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4227c7d3e2fbce2082f7f4668caa09e1582bae2c', 'message': 'fix(doc): fixes a typo\n\nThis fixes a typo.\n\nChange-Id: I9152d5b6e32f7d990ccb38bbf9239e14aa848d72\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,785899,4227c7d3e2fbce2082f7f4668caa09e1582bae2c,9,2,1,20466,,,0,"fix(doc): fixes a typo

This fixes a typo.

Change-Id: I9152d5b6e32f7d990ccb38bbf9239e14aa848d72
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/99/785899/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/developer/deploy-ovs-dpdk.rst'],1,4227c7d3e2fbce2082f7f4668caa09e1582bae2c,fix/typo,distributed across NUMA sockets 0 and 1.,dsitributed across NUMA sockets 0 and 1.,1,1
openstack%2Fpuppet-glance~stable%2Fvictoria~If938c25e9566ef56c6acaa4100ea3305d2019d00,openstack/puppet-glance,stable/victoria,If938c25e9566ef56c6acaa4100ea3305d2019d00,Prepare a new release for victoria,MERGED,2021-04-12 14:32:36.000000000,2021-04-12 15:25:15.000000000,2021-04-12 15:25:15.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-12 14:32:36.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/d23cebf91b1cc098f1bd46bce042b7ae368b3f0d', 'message': 'Prepare a new release for victoria\n\nSince last tag release there are couple of fixes so want to\nhave a new release mainly for puppet-tripleo[1].\n\n[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/778419\n\nChange-Id: If938c25e9566ef56c6acaa4100ea3305d2019d00\n'}]",0,785887,d23cebf91b1cc098f1bd46bce042b7ae368b3f0d,7,3,1,13861,,,0,"Prepare a new release for victoria

Since last tag release there are couple of fixes so want to
have a new release mainly for puppet-tripleo[1].

[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/778419

Change-Id: If938c25e9566ef56c6acaa4100ea3305d2019d00
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/87/785887/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,d23cebf91b1cc098f1bd46bce042b7ae368b3f0d,," ""version"": ""17.6.0"""," ""version"": ""17.5.0""",1,1
openstack%2Fneutron~master~I2493eb65ddd548435cf846e1ae7ac65ce8bc14a4,openstack/neutron,master,I2493eb65ddd548435cf846e1ae7ac65ce8bc14a4,Cache default security group IDs in memory,MERGED,2021-02-25 15:00:37.000000000,2021-04-12 15:24:42.000000000,2021-04-07 13:11:22.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 15:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca48828bf7de33df958be5ade54dfaf982014489', 'message': 'Cache default security group IDs in memory\n\nGetting default SG for a project is quite a frequent operation\nthat happens for example on each port create/update events.\nSince default SG id does not change often for a project/tenant\n(if at all) it makes sense to cache it in memory to avoid DB access\neach time.\n\nChange-Id: I2493eb65ddd548435cf846e1ae7ac65ce8bc14a4\n'}, {'number': 2, 'created': '2021-02-26 08:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/65711509d40f9d47a2ee4a404bb15efeb5bdf149', 'message': 'Cache default security group IDs in memory\n\nGetting default SG for a project is quite a frequent operation\nthat happens for example on each port create/update events.\nSince default SG id does not change often for a project/tenant\n(if at all) it makes sense to cache it in memory to avoid DB access\neach time.\n\nChange-Id: I2493eb65ddd548435cf846e1ae7ac65ce8bc14a4\n'}, {'number': 3, 'created': '2021-04-05 05:48:44.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/433deed0b72d3e7dbee5fc9e241f7d6c46bbfa96', 'message': 'Cache default security group IDs in memory\n\nGetting default SG for a project is quite a frequent operation\nthat happens for example on each port create/update events.\nSince default SG id does not change often for a project/tenant\n(if at all) it makes sense to cache it in memory to avoid DB access\neach time.\n\nChange-Id: I2493eb65ddd548435cf846e1ae7ac65ce8bc14a4\n'}]",0,777605,433deed0b72d3e7dbee5fc9e241f7d6c46bbfa96,42,4,3,5948,,,0,"Cache default security group IDs in memory

Getting default SG for a project is quite a frequent operation
that happens for example on each port create/update events.
Since default SG id does not change often for a project/tenant
(if at all) it makes sense to cache it in memory to avoid DB access
each time.

Change-Id: I2493eb65ddd548435cf846e1ae7ac65ce8bc14a4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/777605/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/securitygroups_db.py'],1,ca48828bf7de33df958be5ade54dfaf982014489,def_sg_opt," default_sg_cache = dict() project_id = self.default_sg_cache.pop(id, None) self.default_sg_cache.pop(project_id, None) if tenant_id in self.default_sg_cache: return self.default_sg_cache[tenant_id] self.default_sg_cache[tenant_id] = default_group.security_group_id self.default_sg_cache[default_group.security_group_id] = tenant_id",,10,0
openstack%2Fopenstack-helm~master~I776f8efef1aba8b5e88d2ba795874fe51ac7fa47,openstack/openstack-helm,master,I776f8efef1aba8b5e88d2ba795874fe51ac7fa47,Disable job_rabbit_init in Keystone,ABANDONED,2021-04-08 20:51:45.000000000,2021-04-12 15:19:03.000000000,,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30449}, {'_account_id': 30495}]","[{'number': 1, 'created': '2021-04-08 20:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b0f8bc08969388ba641def1fa7c0248ce073cbc8', 'message': 'Remove job_rabbit_init from Keystone\n\nRemoes job_rabbit_init from keystone\ndeployments, as ro, which was recently\ndeprecated, was the only service which\nconsumed the keystone rabbit logs\n\nChange-Id: I776f8efef1aba8b5e88d2ba795874fe51ac7fa47\n'}, {'number': 2, 'created': '2021-04-08 20:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d379b71c059e96eccc51126e7584574c8ace9b23', 'message': 'Remove job_rabbit_init from Keystone\n\nRemoes job_rabbit_init from keystone\ndeployments, as ro, which was recently\ndeprecated, was the only service which\nconsumed the keystone rabbit logs\n\nChange-Id: I776f8efef1aba8b5e88d2ba795874fe51ac7fa47\n'}, {'number': 3, 'created': '2021-04-08 21:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/980e3221df1ae8dc15e4e1fe0c2c53aafa7dbd77', 'message': 'Remove job_rabbit_init from Keystone\n\nRemoes job_rabbit_init from keystone\ndeployments, as ro, which was recently\ndeprecated, was the only service which\nconsumed the keystone rabbit logs\n\nChange-Id: I776f8efef1aba8b5e88d2ba795874fe51ac7fa47\n'}, {'number': 4, 'created': '2021-04-09 15:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2ee113df79e4980929875e1e144468cad32ddd74', 'message': 'Remove job_rabbit_init from Keystone\n\nRemoes job_rabbit_init from keystone\ndeployments, as ro, which was recently\ndeprecated, was the only service which\nconsumed the keystone rabbit logs\n\nChange-Id: I776f8efef1aba8b5e88d2ba795874fe51ac7fa47\n'}, {'number': 5, 'created': '2021-04-09 19:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/965af4dd579676517292386fb1201243c390c47e', 'message': 'Disable job_rabbit_init in Keystone\n\nDisables job_rabbit_init in keystone\ndeployments. RO, recently deprecated,\nwas the only service which consumed\nthe keystone messaging v2 type logs\n\nChange-Id: I776f8efef1aba8b5e88d2ba795874fe51ac7fa47\n'}, {'number': 6, 'created': '2021-04-09 20:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e398755d1682a1c99f4ad91ce9be990c70f10ae8', 'message': 'Disable job_rabbit_init in Keystone\n\nDisables job_rabbit_init in keystone\ndeployments. RO, recently deprecated,\nwas the only service which consumed\nthe keystone messaging v2 type logs\n\nChange-Id: I776f8efef1aba8b5e88d2ba795874fe51ac7fa47\n'}, {'number': 7, 'created': '2021-04-09 20:38:20.000000000', 'files': ['releasenotes/notes/keystone.yaml', 'keystone/values.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8fd0492037e0acab5423daf6c6f1e3865d37dbd1', 'message': 'Disable job_rabbit_init in Keystone\n\nDisables job_rabbit_init in keystone\ndeployments. RO, recently deprecated,\nwas the only service which consumed\nthe keystone messaging v2 type logs\n\nChange-Id: I776f8efef1aba8b5e88d2ba795874fe51ac7fa47\n'}]",1,785511,8fd0492037e0acab5423daf6c6f1e3865d37dbd1,20,6,7,29585,,,0,"Disable job_rabbit_init in Keystone

Disables job_rabbit_init in keystone
deployments. RO, recently deprecated,
was the only service which consumed
the keystone messaging v2 type logs

Change-Id: I776f8efef1aba8b5e88d2ba795874fe51ac7fa47
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/11/785511/3 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/values.yaml', 'keystone/templates/secret-rabbitmq.yaml', 'tools/deployment/armada/manifests/armada-osh.yaml', 'keystone/values.yaml', 'keystone/templates/job-rabbit-init.yaml', 'keystone/templates/configmap-bin.yaml']",6,b0f8bc08969388ba641def1fa7c0248ce073cbc8,,,"{{/* Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.configmap_bin }} {{- $envAll := . }} {{- $rallyTests := .Values.conf.rally_tests }} --- apiVersion: v1 kind: ConfigMap metadata: name: keystone-bin data: {{- if .Values.images.local_registry.active }} image-repo-sync.sh: | {{- include ""helm-toolkit.scripts.image_repo_sync"" . | indent 4 }} {{- end }} {{- if .Values.bootstrap.enabled }} bootstrap.sh: | {{ tuple ""bin/_bootstrap.sh.tpl"" . | include ""helm-toolkit.utils.template"" | indent 4 }} {{- end }} rally-test.sh: | {{ tuple $rallyTests | include ""helm-toolkit.scripts.rally_test"" | indent 4 }} ks-user.sh: | {{- include ""helm-toolkit.scripts.keystone_user"" . | indent 4 }} cred-clean.py: | {{ tuple ""bin/_cred-clean.py.tpl"" . | include ""helm-toolkit.utils.template"" |indent 4}} db-init.py: | {{- include ""helm-toolkit.scripts.db_init"" . | indent 4 }} db-sync.sh: | {{ tuple ""bin/_db-sync.sh.tpl"" . | include ""helm-toolkit.utils.template"" | indent 4 }} db-drop.py: | {{- include ""helm-toolkit.scripts.db_drop"" . | indent 4 }} keystone-api.sh: | {{ tuple ""bin/_keystone-api.sh.tpl"" . | include ""helm-toolkit.utils.template"" | indent 4 }} endpoint-update.py: | {{ tuple ""bin/_endpoint-update.py.tpl"" . | include ""helm-toolkit.utils.template"" | indent 4 }} fernet-manage.py: | {{ tuple ""bin/_fernet-manage.py.tpl"" . | include ""helm-toolkit.utils.template"" | indent 4 }} domain-manage-init.sh: | {{ tuple ""bin/_domain-manage-init.sh.tpl"" . | include ""helm-toolkit.utils.template"" | indent 4 }} domain-manage.sh: | {{ tuple ""bin/_domain-manage.sh.tpl"" . | include ""helm-toolkit.utils.template"" | indent 4 }} domain-manage.py: | {{ tuple ""bin/_domain-manage.py.tpl"" . | include ""helm-toolkit.utils.template"" | indent 4 }} rabbit-init.sh: | {{- include ""helm-toolkit.scripts.rabbit_init"" . | indent 4 }} {{- end }} ",0,169
openstack%2Ftripleo-repos~master~Ibb95317f3e49d8fd2423efbe797c02ad9f4f9896,openstack/tripleo-repos,master,Ibb95317f3e49d8fd2423efbe797c02ad9f4f9896,Add py39 testing,MERGED,2021-03-16 13:15:14.000000000,2021-04-12 15:10:42.000000000,2021-04-12 15:10:42.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-16 13:15:14.000000000', 'files': ['zuul.d/layout.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/701604f7d316dc7b78aec2c2b9d5a0aef3b26f90', 'message': 'Add py39 testing\n\nChange-Id: Ibb95317f3e49d8fd2423efbe797c02ad9f4f9896\n'}]",0,780842,701604f7d316dc7b78aec2c2b9d5a0aef3b26f90,8,5,1,24162,,,0,"Add py39 testing

Change-Id: Ibb95317f3e49d8fd2423efbe797c02ad9f4f9896
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/42/780842/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'setup.cfg', 'tox.ini']",3,701604f7d316dc7b78aec2c2b9d5a0aef3b26f90,py39,"envlist = py,pep8","envlist = py37,pep8",5,1
openstack%2Fpuppet-freezer~stable%2Fwallaby~I6ff0615db1123a9f2948639241cca2f47a869ae1,openstack/puppet-freezer,stable/wallaby,I6ff0615db1123a9f2948639241cca2f47a869ae1,Bump version to be consistent with the tag version,MERGED,2021-04-12 14:31:32.000000000,2021-04-12 15:08:06.000000000,2021-04-12 15:08:06.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-12 14:31:32.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/3cfea75c6874fcff066fdd566adb5a6a4da5d26c', 'message': 'Bump version to be consistent with the tag version\n\nIn the release patch, we accidentally bumped the version of\npuppet-freezer to a wrong version. This change is a follow up to make\nthe version consistent with what we assigned in our git repo.\n\nChange-Id: I6ff0615db1123a9f2948639241cca2f47a869ae1\n(cherry picked from commit 55578519bf00d6943afe437362ce59e4dad38848)\n'}]",0,785613,3cfea75c6874fcff066fdd566adb5a6a4da5d26c,8,6,1,9816,,,0,"Bump version to be consistent with the tag version

In the release patch, we accidentally bumped the version of
puppet-freezer to a wrong version. This change is a follow up to make
the version consistent with what we assigned in our git repo.

Change-Id: I6ff0615db1123a9f2948639241cca2f47a869ae1
(cherry picked from commit 55578519bf00d6943afe437362ce59e4dad38848)
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/13/785613/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,3cfea75c6874fcff066fdd566adb5a6a4da5d26c,," ""version"": ""18.4.1"","," ""version"": ""7.4.0"",",1,1
openstack%2Frally~master~Ia79008c6ac7dc3be92afdea5f8ffabcd697e7599,openstack/rally,master,Ia79008c6ac7dc3be92afdea5f8ffabcd697e7599,Get rid of decorator lib,MERGED,2021-04-08 11:23:34.000000000,2021-04-12 15:05:17.000000000,2021-04-12 15:05:17.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 11:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/7ea813effc98545b7e53a7d25fcf10d9c99a0370', 'message': 'Get rid of decorator lib\n\nThis lib is used only in two places and the latest release fails now.\n\nChange-Id: Ia79008c6ac7dc3be92afdea5f8ffabcd697e7599\n'}, {'number': 2, 'created': '2021-04-12 14:15:27.000000000', 'files': ['requirements.txt', 'rally/cli/envutils.py', 'rally/plugins/__init__.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/rally/commit/ee09cab5463c077f6f568d687e5f2323ccbde885', 'message': 'Get rid of decorator lib\n\nThis lib is used only in two places and the latest release fails now.\n\nChange-Id: Ia79008c6ac7dc3be92afdea5f8ffabcd697e7599\n'}]",0,785397,ee09cab5463c077f6f568d687e5f2323ccbde885,8,2,2,9545,,,0,"Get rid of decorator lib

This lib is used only in two places and the latest release fails now.

Change-Id: Ia79008c6ac7dc3be92afdea5f8ffabcd697e7599
",git fetch https://review.opendev.org/openstack/rally refs/changes/97/785397/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'rally/cli/envutils.py', 'rally/plugins/__init__.py']",3,7ea813effc98545b7e53a7d25fcf10d9c99a0370,remove_decorator,"import functoolsdef ensure_plugins_are_loaded(func): @functools.wraps(func) def wrapper(*args, **kwargs): load() return func(*args, **kwargs) return wrapper","import decorator @decorator.decorator def ensure_plugins_are_loaded(f, *args, **kwargs): load() return f(*args, **kwargs)",27,19
openstack%2Fpuppet-freezer~master~I6ff0615db1123a9f2948639241cca2f47a869ae1,openstack/puppet-freezer,master,I6ff0615db1123a9f2948639241cca2f47a869ae1,Bump version to be consistent with the tag version,MERGED,2021-04-12 14:29:31.000000000,2021-04-12 15:01:30.000000000,2021-04-12 15:01:30.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-12 14:29:31.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/55578519bf00d6943afe437362ce59e4dad38848', 'message': 'Bump version to be consistent with the tag version\n\nIn the release patch, we accidentally bumped the version of\npuppet-freezer to a wrong version. This change is a follow up to make\nthe version consistent with what we assigned in our git repo.\n\nChange-Id: I6ff0615db1123a9f2948639241cca2f47a869ae1\n'}]",0,785886,55578519bf00d6943afe437362ce59e4dad38848,8,6,1,9816,,,0,"Bump version to be consistent with the tag version

In the release patch, we accidentally bumped the version of
puppet-freezer to a wrong version. This change is a follow up to make
the version consistent with what we assigned in our git repo.

Change-Id: I6ff0615db1123a9f2948639241cca2f47a869ae1
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/86/785886/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,55578519bf00d6943afe437362ce59e4dad38848,," ""version"": ""18.4.1"","," ""version"": ""7.4.0"",",1,1
openstack%2Fbarbican-tempest-plugin~master~I1ab766c00ecff4883903ff129cea303a0ba07031,openstack/barbican-tempest-plugin,master,I1ab766c00ecff4883903ff129cea303a0ba07031,Temporarily disable Train job from gate,ABANDONED,2021-04-06 19:19:21.000000000,2021-04-12 14:49:25.000000000,,"[{'_account_id': 9914}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-04-06 19:19:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/17dadfbd8afdc590e4fb9cf589d53071750bcc79', 'message': 'Temporarily disable Train job from gate\n\nThis patch makes the Train job non-voting at the gate.  This\nis only a temporary workaround while we wait for a bug in Devstack\nto be fixed:\n\nhttps://bugs.launchpad.net/devstack/+bug/1922736\n\nWe should restore voting to this job once that bug is fixed.\n\nChange-Id: I1ab766c00ecff4883903ff129cea303a0ba07031\n'}]",0,785035,17dadfbd8afdc590e4fb9cf589d53071750bcc79,4,4,1,7973,,,0,"Temporarily disable Train job from gate

This patch makes the Train job non-voting at the gate.  This
is only a temporary workaround while we wait for a bug in Devstack
to be fixed:

https://bugs.launchpad.net/devstack/+bug/1922736

We should restore voting to this job once that bug is fixed.

Change-Id: I1ab766c00ecff4883903ff129cea303a0ba07031
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/35/785035/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,17dadfbd8afdc590e4fb9cf589d53071750bcc79,bug/1922736, - barbican-tempest-plugin-simple-crypto-train: voting: False, - barbican-tempest-plugin-simple-crypto-train,2,1
openstack%2Fcharm-deployment-guide~master~I4d966a43ad7ca2f6c1cd93964170a27d01710165,openstack/charm-deployment-guide,master,I4d966a43ad7ca2f6c1cd93964170a27d01710165,Update packages pre OpenStack upgrade,MERGED,2021-04-12 14:00:01.000000000,2021-04-12 14:48:52.000000000,2021-04-12 14:47:22.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-12 14:00:01.000000000', 'files': ['deploy-guide/source/upgrade-openstack.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/cbe50300e5ffc993d5006da2ebe16a101e97ee5e', 'message': ""Update packages pre OpenStack upgrade\n\nAdd section to 'OpenStack upgrade' page for updating\ncloud node packages.\n\nMove the section on unattended upgrades higher up.\n\nA few drive-by improvements.\n\nCloses-Bug: #1923240\nChange-Id: I4d966a43ad7ca2f6c1cd93964170a27d01710165\n""}]",0,785883,cbe50300e5ffc993d5006da2ebe16a101e97ee5e,7,2,1,30561,,,0,"Update packages pre OpenStack upgrade

Add section to 'OpenStack upgrade' page for updating
cloud node packages.

Move the section on unattended upgrades higher up.

A few drive-by improvements.

Closes-Bug: #1923240
Change-Id: I4d966a43ad7ca2f6c1cd93964170a27d01710165
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/83/785883/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/upgrade-openstack.rst'],1,cbe50300e5ffc993d5006da2ebe16a101e97ee5e,bug/1923240,"upgrade is present. The below resources cover these topics:Ensure cloud node software is up to date ---------------------------------------- Every machine in the cloud, including containers, should have their software packages updated to ensure that the latest SRUs have been applied. This is done in the usual manner: .. code-block:: none sudo apt-get update sudo apt-get dist-upgrade ensure that all alerts have been resolved. You may also consider running a battery of operational checks on the cloud. This step is to make certain that any issues that may appear after the upgrade are not due to pre-existing problems. Disable unattended-upgrades --------------------------- When performing a service upgrade on a cloud node that hosts multiple principle charms (e.g. nova-compute and ceph-osd), ensure that ``unattended-upgrades`` is disabled on the underlying machine for the duration of the upgrade process. This is to prevent the other services from being upgraded outside of Juju's control. On a cloud node run: .. code-block:: none sudo dpkg-reconfigure -plow unattended-upgrades","upgrade is present. The next two resources cover these topics:ensure that all alerts have been resolved. This is to make certain that any issues that may appear after the upgrade are not for pre-existing problems.Disable unattended-upgrades --------------------------- When performing a service upgrade on a unit that hosts multiple principle charms (e.g. nova-compute and ceph-osd), ensure that ``unattended-upgrades`` is disabled on the underlying machine for the duration of the upgrade process. This is to prevent the other services from being upgraded outside of Juju's control. On a unit run: .. code-block:: none sudo dpkg-reconfigure -plow unattended-upgrades ",31,16
openstack%2Fironic~master~I6b150389e58aa243e7b4c4967dae99d4eca7d48c,openstack/ironic,master,I6b150389e58aa243e7b4c4967dae99d4eca7d48c,Support deploy vendor data in addition to network data,ABANDONED,2021-03-23 16:12:20.000000000,2021-04-12 14:41:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-23 16:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e1f33f196d284c8ff887ae43ebc1c610aab76ab5', 'message': 'Support deploy vendor data in addition to network data\n\nAllows site-specific customizations without rebuilding the deploy ISO.\n\nChange-Id: I6b150389e58aa243e7b4c4967dae99d4eca7d48c\n'}, {'number': 2, 'created': '2021-03-26 10:32:22.000000000', 'files': ['ironic/conf/agent.py', 'releasenotes/notes/deploy-vendor-data-ef2cc881654cc334.yaml', 'ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/drivers/modules/image_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/128adf6052b1781ba2e6e1bbd75eef09ea2f29bb', 'message': 'Support deploy vendor data in addition to network data\n\nAllows site-specific customizations without rebuilding the deploy ISO.\n\nChange-Id: I6b150389e58aa243e7b4c4967dae99d4eca7d48c\n'}]",0,782548,128adf6052b1781ba2e6e1bbd75eef09ea2f29bb,11,1,2,10239,,,0,"Support deploy vendor data in addition to network data

Allows site-specific customizations without rebuilding the deploy ISO.

Change-Id: I6b150389e58aa243e7b4c4967dae99d4eca7d48c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/48/782548/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/agent.py', 'releasenotes/notes/deploy-vendor-data-ef2cc881654cc334.yaml', 'ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/drivers/modules/image_utils.py']",4,e1f33f196d284c8ff887ae43ebc1c610aab76ab5,deploy_vendor_data, if CONF.agent.vendor_data_file: inject_files[CONF.agent.vendor_data_file] = ( 'openstack/latest/vendor_data2.json' ) ,,45,0
openstack%2Fkayobe~master~Ie74b1ee61d4cfa19ea710153694349c7ea61d78e,openstack/kayobe,master,Ie74b1ee61d4cfa19ea710153694349c7ea61d78e,Add documentation for multiple environments,MERGED,2021-01-13 09:40:37.000000000,2021-04-12 14:35:01.000000000,2021-04-12 14:33:16.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-01-13 09:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2c7f81213a2f9588bc94e897164b0ab2421760e8', 'message': 'Add documentation for multiple environments\n\nChange-Id: Ie74b1ee61d4cfa19ea710153694349c7ea61d78e\nStory: 2002009\nTask: 40037\n'}, {'number': 2, 'created': '2021-01-13 09:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2ad4d818852b99eea5e4af813e2c773395f28ee8', 'message': 'Add documentation for multiple environments\n\nChange-Id: Ie74b1ee61d4cfa19ea710153694349c7ea61d78e\nStory: 2002009\nTask: 40037\n'}, {'number': 3, 'created': '2021-01-13 09:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c24766e522fee7e3a6e7169188d4d9d9323e4d75', 'message': 'Add documentation for multiple environments\n\nChange-Id: Ie74b1ee61d4cfa19ea710153694349c7ea61d78e\nStory: 2002009\nTask: 40039\n'}, {'number': 4, 'created': '2021-01-13 12:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e2f9a88fd8c4140d781092ad6067a12674f29d5b', 'message': 'Add documentation for multiple environments\n\nChange-Id: Ie74b1ee61d4cfa19ea710153694349c7ea61d78e\nStory: 2002009\nTask: 40039\n'}, {'number': 5, 'created': '2021-03-09 15:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2d5e5aa05a19a051dde853a437528829a7892c05', 'message': 'Add documentation for multiple environments\n\nChange-Id: Ie74b1ee61d4cfa19ea710153694349c7ea61d78e\nStory: 2002009\nTask: 40039\n'}, {'number': 6, 'created': '2021-03-15 14:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f8d9861c55532a265c24b1ecba3ec5267af60e41', 'message': 'Add documentation for multiple environments\n\nChange-Id: Ie74b1ee61d4cfa19ea710153694349c7ea61d78e\nStory: 2002009\nTask: 40039\n'}, {'number': 7, 'created': '2021-03-31 14:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9bd15fde68c90cde08766df7c689faa0c9a6ed19', 'message': 'Add documentation for multiple environments\n\nChange-Id: Ie74b1ee61d4cfa19ea710153694349c7ea61d78e\nStory: 2002009\nTask: 40039\n'}, {'number': 8, 'created': '2021-03-31 15:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cdfb915312b803adb8b5d36122ca8d837c8cc2b8', 'message': 'Add documentation for multiple environments\n\nChange-Id: Ie74b1ee61d4cfa19ea710153694349c7ea61d78e\nStory: 2002009\nTask: 40039\n'}, {'number': 9, 'created': '2021-04-02 13:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2820ee5372d41902439376b080b3c1092ac96750', 'message': 'Add documentation for multiple environments\n\nChange-Id: Ie74b1ee61d4cfa19ea710153694349c7ea61d78e\nStory: 2002009\nTask: 40039\n'}, {'number': 10, 'created': '2021-04-02 13:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/13d402d8d1dc7bbca2f3b7a395584d6f239e853e', 'message': 'Add documentation for multiple environments\n\nChange-Id: Ie74b1ee61d4cfa19ea710153694349c7ea61d78e\nStory: 2002009\nTask: 40039\n'}, {'number': 11, 'created': '2021-04-09 15:16:00.000000000', 'files': ['doc/source/index.rst', 'doc/source/control-plane-service-placement.rst', 'doc/source/multiple-environments.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1a20aa071b135b4a3d7a78824c6e26360c178203', 'message': 'Add documentation for multiple environments\n\nChange-Id: Ie74b1ee61d4cfa19ea710153694349c7ea61d78e\nStory: 2002009\nTask: 40039\n'}]",36,770554,1a20aa071b135b4a3d7a78824c6e26360c178203,36,3,11,15197,,,0,"Add documentation for multiple environments

Change-Id: Ie74b1ee61d4cfa19ea710153694349c7ea61d78e
Story: 2002009
Task: 40039
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/54/770554/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/multiple-environments.rst']",2,2c7f81213a2f9588bc94e897164b0ab2421760e8,multiple-environments,"================================== Working With Multiple Environments ================================== Sometimes it can be useful to support deployment of multiple environments from a single Kayobe configuration. Most commonly this is to support a deployment pipeline, such as the traditional development, test, staging and production combination. It is possible to include multiple environments within a single Kayobe configuration, each providing its own Ansible inventory and variables. This section describes how to use multiple environments with Kayobe. Defining Kayobe Environments ============================ By default, a Kayobe configuration directory contains a single environment, represented by the Ansible inventory located at ``$KAYOBE_CONFIG_PATH/inventory``, extra variables files (``$KAYOBE_CONFIG_PATH/*.yml``), custom Ansible playbooks and hooks, and Kolla configuration. Supporting multiple environments is done through a ``$KAYOBE_CONFIG_PATH/environments`` directory, under which each directory represents a different environment. Each environment contains its own Ansible inventory, extra variable files, and Kolla configuration. The following layout shows two environments called ``staging`` and ``production`` within a single Kayobe configuration. .. code-block:: text $KAYOBE_CONFIG_PATH/ └── environments/ ├── production/ │ ├── inventory/ │ │ ├── groups │ │ ├── group_vars/ │ │ ├── hosts │ │ ├── host_vars/ │ │ └── overcloud │ ├── kolla/ │ │ ├── config/ │ │ ├── globals.yml │ │ └── passwords.yml │ ├── network-allocation.yml │ ├── networks.yml │ └── overcloud.yml └── staging/ ├── inventory/ │ ├── groups │ ├── group_vars/ │ ├── hosts │ ├── host_vars/ │ └── overcloud ├── kolla/ │ ├── config/ │ ├── globals.yml │ └── passwords.yml ├── network-allocation.yml ├── networks.yml └── overcloud.yml Ansible Inventories ------------------- Each environment includes its own independent inventory. There is currently no sharing between inventories. This means that all required groups and group variables must be defined in each inventory. This can be done using symbolic links to avoid duplication of data. The following layout (ignoring non-inventory files) shows how this would be accomplished. .. code-block:: text $KAYOBE_CONFIG_PATH/ ├── environments/ │ ├── production/ │ │ ├── inventory/ │ │ │ ├── groups -> ../../../inventory/groups │ │ │ ├── group_vars -> ../../../inventory/group_vars/ │ │ │ ├── hosts │ │ │ ├── host_vars/ │ │ │ └── overcloud │ └── staging/ │ ├── inventory/ │ │ ├── groups -> ../../../inventory/groups │ │ ├── group_vars -> ../../../inventory/group_vars/ │ │ ├── hosts │ │ ├── host_vars/ │ │ └── overcloud └── inventory/ ├── groups └── group_vars/ Shared Extra Variables Files ---------------------------- All of the extra variables files in the Kayobe configuration directory (``$KAYOBE_CONFIG_PATH/*.yml``) are shared between all environments. Each environment can override these extra variables through environment-specific extra variables files (``$KAYOBE_INVENTORY_PATH/environments/<environment>/*.yml``). This means that all configuration in shared extra variable files must apply to all environments. Where configuration differs between environments, move the configuration to extra variables files under each environment. For example, to add environment-specific DNS configuration for variables in ``dns.yml``, we recommend creating a group variables file for the ``all`` group in the inventory, at ``$KAYOBE_INVENTORY_PATH/group_vars/all/dns``. .. code-block:: text $KAYOBE_CONFIG_PATH/ ├── dns.yml └── environments/ ├── production/ │ ├── dns.yml └── staging/ └── dns.yml Network Configuration ^^^^^^^^^^^^^^^^^^^^^ Networking is an area in which configuration is typically specific to an environment. There are two main global configuration files that need to be considered: ``networks.yml`` and ``network-allocation.yml``. Move the environment-specific parts of this configuration to environment-specific extra variables files: variables files: ``networks.yml`` -> ``$KAYOBE_CONFIG_PATH/environments/<environment>/networks.yml`` ``network-allocation.yml`` -> ``$KAYOBE_CONFIG_PATH/environments/<environment>/network-allocation.yml`` Other network configuration that may differ between environments includes DNS (``dns.yml``). Other Configuration ^^^^^^^^^^^^^^^^^^^ Typically it is necessary to customise ``overcloud_group_hosts_map`` in each environment. This is done via the ``overcloud.yml`` file documented in :ref:`control-plane-service-placement`. When using baremetal compute node, allocation of TCP ports for serial console functionality is typically specific to an environment (``console-allocation.yml``). This file is automatically managed by Kayobe, like the ``network-allocation.yml`` file. Kolla Configuration ------------------- Like Ansible inventories, Kolla configuration is currently independent in each environment. Similarly, symbolic links can be used to share common variable definitions. It is advised to ensure that the Kolla ``passwords.yml`` file is different in each environment to avoid sharing any credentials. Custom Ansible Playbooks and Hooks ---------------------------------- Ansible playbooks and hooks are currently shared across all environments. Dynamic Variable Definitions ---------------------------- It may be beneficial to define variables in a file shared by multiple environments, but still set variable to different values based on the environment. The Kayobe environment in use can be retrieve within Ansible via the ``kayobe_environment`` variable. For example, some variables from ``$KAYOBE_CONFIG_PATH/networks.yml`` could be shared in the following way: .. code-block:: yaml :caption: ``$KAYOBE_CONFIG_PATH/networks.yml`` external_net_fqdn: ""{{ kayobe_environment }}-api.example.com"" This would configure the external FQDN for the staging environment at ``staging-api.example.com``, while the production external FQDN would be at ``production-api.example.com``. Final Considerations -------------------- While it's clearly desirable to keep staging functionally as close to production, this is not always possible due to resource constraints and other factors. Test and development environments can deviate further, perhaps only providing a subset of the functionality available in production, in a substantially different environment. In these cases it will clearly be necessary to use environment-specific configuration in a number of files. We can't cover all the cases here, but hopefully we've provided a set of techniques that can be used. Using Kayobe Environments ========================= Once environments are defined, Kayobe can be instructed to manage them with the ``$KAYOBE_ENVIRONMENT`` environment variable or the ``--environment`` command-line argument: .. code-block:: console (kayobe) $ kayobe control host bootstrap --environment staging .. code-block:: console (kayobe) $ export KAYOBE_ENVIRONMENT=staging (kayobe) $ kayobe control host bootstrap The ``kayobe-env`` environment file in ``kayobe-config`` can also take an ``--environment`` argument, which exports the ``KAYOBE_ENVIRONMENT`` environment variable. .. code-block:: console (kayobe) $ source kayobe-env --environment staging (kayobe) $ kayobe control host bootstrap .. warning:: The locations used for the Kolla-Ansible source code and Python virtual environment remain the same for all environments when using the ``kayobe-env`` file. When using the same control host to manage multiple environments with different versions of Kolla-Ansible, clone the Kayobe configuration in different locations so that Kolla-Ansible source repositories and Python virtual environments will not conflict with each other. Migrating to Kayobe Environments ================================ Kayobe users already managing multiple environments will already have multiple Kayobe configurations, whether in separate repositories or in different branches of the same repositories. Kayobe provides the ``kayobe environment create`` command to help migrating to a common repository and branch with multiple environments. For example, the following commands will create two new environments for production and staging based on existing Kayobe configurations. .. code-block:: console (kayobe) $ kayobe environment create --source-config-path ~/kayobe-config-prod/etc/kayobe \ --environment production (kayobe) $ kayobe environment create --source-config-path ~/kayobe-config-staging/etc/kayobe \ --environment staging This command copies the following files and directories:: console-allocation.yml inventory/ kolla/ network-allocation.yml networks.yml overcloud.yml ",,252,0
openstack%2Faodh~master~Idc04bd435b195b7a52e2d51762128b2f9f6e83e7,openstack/aodh,master,Idc04bd435b195b7a52e2d51762128b2f9f6e83e7,Use TOX_CONSTRAINTS_FILE,ABANDONED,2020-12-24 07:48:18.000000000,2021-04-12 14:26:56.000000000,,"[{'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-12-24 07:48:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/aodh/commit/7afcce155458ded37e80ec647be1b8e79803402c', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: Idc04bd435b195b7a52e2d51762128b2f9f6e83e7\n'}]",0,768446,7afcce155458ded37e80ec647be1b8e79803402c,4,2,1,30384,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: Idc04bd435b195b7a52e2d51762128b2f9f6e83e7
",git fetch https://review.opendev.org/openstack/aodh refs/changes/46/768446/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7afcce155458ded37e80ec647be1b8e79803402c,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},4,4
openstack%2Fopenstack-ansible-openstack_hosts~master~Ia51f7f8f5225c4e350760093686858eabb3fec8a,openstack/openstack-ansible-openstack_hosts,master,Ia51f7f8f5225c4e350760093686858eabb3fec8a,Decrease TCP retries in case of VIP failover,MERGED,2021-03-01 16:25:11.000000000,2021-04-12 14:19:14.000000000,2021-04-12 14:17:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-03-01 16:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/14b73e348fe89cbf893b4757ac19fb6da74d130a', 'message': 'Decrease TCP retries in case of VIP failover\n\nIn case of VIP failover some connections (like mysql) can stuck\nin retrying to connect and detect a dead connection. We\nshould probably make this failover to be detected faster then the\ndefault value as suggested in [1]\n\n[1] https://access.redhat.com/solutions/726753\n\nChange-Id: Ia51f7f8f5225c4e350760093686858eabb3fec8a\nRelated-Bug: #1917068\n'}, {'number': 2, 'created': '2021-03-01 16:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/23b31858ac8e12a4005f17553a7373eee151996b', 'message': 'Decrease TCP retries in case of VIP failover\n\nIn case of VIP failover some connections (like mysql) can stuck\nin retrying to connect and detect a dead connection. We\nshould probably make this failover to be detected faster then the\ndefault value as suggested in [1]\n\n[1] https://access.redhat.com/solutions/726753\n\nChange-Id: Ia51f7f8f5225c4e350760093686858eabb3fec8a\nRelated-Bug: #1917068\n'}, {'number': 3, 'created': '2021-03-09 14:43:10.000000000', 'files': ['releasenotes/notes/tcp_retries-bf32bab6e50fa97a.yaml', 'tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/e479735681cf22436311ce798fb4e76f7d73866f', 'message': 'Decrease TCP retries in case of VIP failover\n\nIn case of VIP failover some connections (like mysql) can stuck\nin retrying to connect and detect a dead connection. We\nshould probably make this failover to be detected faster then the\ndefault value as suggested in [1]\n\n[1] https://access.redhat.com/solutions/726753\n\nChange-Id: Ia51f7f8f5225c4e350760093686858eabb3fec8a\nRelated-Bug: #1917068\n'}]",0,778028,e479735681cf22436311ce798fb4e76f7d73866f,11,3,3,28619,,,0,"Decrease TCP retries in case of VIP failover

In case of VIP failover some connections (like mysql) can stuck
in retrying to connect and detect a dead connection. We
should probably make this failover to be detected faster then the
default value as suggested in [1]

[1] https://access.redhat.com/solutions/726753

Change-Id: Ia51f7f8f5225c4e350760093686858eabb3fec8a
Related-Bug: #1917068
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/28/778028/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/tcp_retries-bf32bab6e50fa97a.yaml', 'tasks/main.yml']",2,14b73e348fe89cbf893b4757ac19fb6da74d130a,bug/1917068,"- name: Decreasing tcp_retries2 sysctl sysctl: name: ""net.ipv4.tcp_retries2"" value: ""{{ keepalived_sysctl_tcp_retries | default(8) }}"" sysctl_set: ""{{ 'yes' }}"" state: ""{{ (keepalived_sysctl_tcp_retries | default(8) > 0) | ternary('present', 'absent') }}"" reload: yes failed_when: false ",,18,0
openstack%2Fopenstack-ansible-os_trove~master~If2f550ef09cd01ec5eab485f0d81ecfaf32f924f,openstack/openstack-ansible-os_trove,master,If2f550ef09cd01ec5eab485f0d81ecfaf32f924f,Add image upload option,MERGED,2021-04-01 11:21:34.000000000,2021-04-12 13:56:37.000000000,2021-04-12 13:55:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-04-01 11:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/4393853f38be2ae19508b035f038e66b33bebf9c', 'message': 'Add image upload option\n\nAllow deployers to manage trove guestimages with trove role. This will\nallow us to correctly test role with tempest, since we were not able to\nupload images with tags otherwise\n\nChange-Id: If2f550ef09cd01ec5eab485f0d81ecfaf32f924f\n'}, {'number': 2, 'created': '2021-04-01 13:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/06c716923f1bf7ffc1a3b99d304e5085f20c296e', 'message': 'Add image upload option\n\nAllow deployers to manage trove guestimages with trove role. This will\nallow us to correctly test role with tempest, since we were not able to\nupload images with tags otherwise\n\nChange-Id: If2f550ef09cd01ec5eab485f0d81ecfaf32f924f\n'}, {'number': 3, 'created': '2021-04-02 07:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/fc49221f37a31f273c7ce5e7a992d2d2e68612de', 'message': 'Add image upload option\n\nAllow deployers to manage trove guestimages with trove role. This will\nallow us to correctly test role with tempest, since we were not able to\nupload images with tags otherwise\n\nChange-Id: If2f550ef09cd01ec5eab485f0d81ecfaf32f924f\n'}, {'number': 4, 'created': '2021-04-08 09:09:06.000000000', 'files': ['tasks/main.yml', 'tasks/trove_guest_image.yml', 'defaults/main.yml', 'releasenotes/notes/trove_image_upload-c289c73cd2ddacfb.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/875954ef3cc800ece63fbbe41077fbe4ee271b2f', 'message': 'Add image upload option\n\nAllow deployers to manage trove guestimages with trove role. This will\nallow us to correctly test role with tempest, since we were not able to\nupload images with tags otherwise\n\nChange-Id: If2f550ef09cd01ec5eab485f0d81ecfaf32f924f\n'}]",1,784372,875954ef3cc800ece63fbbe41077fbe4ee271b2f,16,4,4,28619,,,0,"Add image upload option

Allow deployers to manage trove guestimages with trove role. This will
allow us to correctly test role with tempest, since we were not able to
upload images with tags otherwise

Change-Id: If2f550ef09cd01ec5eab485f0d81ecfaf32f924f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/72/784372/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/trove_guest_image.yml', 'defaults/main.yml', 'releasenotes/notes/trove_image_upload-c289c73cd2ddacfb.yaml']",4,4393853f38be2ae19508b035f038e66b33bebf9c,,"--- features: - | Added guest image upload functionality into Trove role. In order to use this functionality, you need to define ``trove_guestagent_images` variable which may contain list of images that are required for upload and set required tags for them. ",,118,0
openstack%2Fswift~master~I841737eb58b7c8e05a5ae7c6853fc0a07c8d3789,openstack/swift,master,I841737eb58b7c8e05a5ae7c6853fc0a07c8d3789,Shrink shards even when root is deleted,NEW,2021-01-22 18:12:50.000000000,2021-04-12 13:52:33.000000000,,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-22 18:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8af9dfaf9597028049c9f5bd1467fd01887be907', 'message': 'Shrink shards even when root is deleted\n\nPreviously the sharder would not search for shrinkable shards once a\nroot container had been deleted (in auto-shard mode). This prevented\nthe deleted root container ever reaching a state where it can be\nreclaimed, without some other actor managing the shrinking of the\nshards.\n\nThis patch enables auto-shrinking to continue even when the root\ncontainer is deleted.\n\nChange-Id: I841737eb58b7c8e05a5ae7c6853fc0a07c8d3789\n'}, {'number': 2, 'created': '2021-01-22 20:24:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b5fbaca131092d576517224c89728e2f81c378c4', 'message': 'Shrink shards even when root is deleted\n\nPreviously the sharder would not search for shrinkable shards once a\nroot container had been deleted (in auto-shard mode). This prevented\nthe deleted root container ever reaching a state where it can be\nreclaimed, without some other actor managing the shrinking of the\nshards.\n\nThis patch enables auto-shrinking to continue even when the root\ncontainer is deleted.\n\nChange-Id: I841737eb58b7c8e05a5ae7c6853fc0a07c8d3789\n'}, {'number': 3, 'created': '2021-03-22 14:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f19289b8dcde7ccef33c284f5d23ed8348b3c74c', 'message': 'Shrink shards even when root is deleted\n\nPreviously the sharder would not search for shrinkable shards once a\nroot container had been deleted (in auto-shard mode). This prevented\nthe deleted root container ever reaching a state where it can be\nreclaimed, without some other actor managing the shrinking of the\nshards.\n\nThis patch enables auto-shrinking to continue even when the root\ncontainer is deleted.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nChange-Id: I841737eb58b7c8e05a5ae7c6853fc0a07c8d3789\n'}, {'number': 4, 'created': '2021-04-12 12:52:09.000000000', 'files': ['test/probe/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f461eacba4fb664d5125090703f15d842d60aa12', 'message': 'Shrink shards even when root is deleted\n\nPreviously the sharder would not search for shrinkable shards once a\nroot container had been deleted (in auto-shard mode). This prevented\nthe deleted root container ever reaching a state where it can be\nreclaimed, without some other actor managing the shrinking of the\nshards.\n\nThis patch enables auto-shrinking to continue even when the root\ncontainer is deleted.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nChange-Id: I841737eb58b7c8e05a5ae7c6853fc0a07c8d3789\n'}]",2,772078,f461eacba4fb664d5125090703f15d842d60aa12,11,2,4,7847,,,0,"Shrink shards even when root is deleted

Previously the sharder would not search for shrinkable shards once a
root container had been deleted (in auto-shard mode). This prevented
the deleted root container ever reaching a state where it can be
reclaimed, without some other actor managing the shrinking of the
shards.

This patch enables auto-shrinking to continue even when the root
container is deleted.

Co-Authored-By: Matthew Oliver <matt@oliver.net.au>
Change-Id: I841737eb58b7c8e05a5ae7c6853fc0a07c8d3789
",git fetch https://review.opendev.org/openstack/swift refs/changes/78/772078/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/probe/test_sharder.py', 'swift/container/sharder.py']",2,8af9dfaf9597028049c9f5bd1467fd01887be907,prevent-root-reclaim," 'Failed to put shard ranges to %s:%s/%s/%s/%s: %s', node['ip'], node['port'], node['device'], account, container, err.http_status) 'Failed to put shard ranges to %s:%s/%s/%s/%s: %s', node['ip'], node['port'], node['device'], account, container, err) is_leader = node['index'] == 0 and self.auto_shard if broker.is_root_container() and is_leader: self._find_and_enable_shrinking_candidates(broker)"," 'Failed to put shard ranges to %s:%s/%s: %s', node['ip'], node['port'], node['device'], err.http_status) 'Failed to put shard ranges to %s:%s/%s: %s', node['ip'], node['port'], node['device'], err) is_leader = node['index'] == 0 and self.auto_shard",43,26
openstack%2Fheat~stable%2Ftrain~Ib33b5688153f07e696a39b26510b22fe128597ea,openstack/heat,stable/train,Ib33b5688153f07e696a39b26510b22fe128597ea,Configure the Tempest venv upper constraints properly,MERGED,2021-04-05 22:11:33.000000000,2021-04-12 13:51:32.000000000,2021-04-12 13:46:06.000000000,"[{'_account_id': 8556}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-05 22:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/43697a0813b93435aaa915472310353e14b28815', 'message': 'Configure the Tempest venv upper constraints properly\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nIf heat integration test script does not use the master constraints\nfor Tempest (when any stable branch goes to Extended Maintenance state)\nthen we need to use the same constraints while running the tests too\notherwise, it will end up recreating the Tempest venv and remove the\nalready installed tempest plugins and their deps.\n\nThis commit set the compatible upper constraint\naccording to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is\nwhat used in devstack while creating the Tempest venv and install\ntempest plugins in that venv.\n\nCloses-Bug: 1922597\nChange-Id: Ib33b5688153f07e696a39b26510b22fe128597ea\n(cherry picked from commit f998de45d3a9fb7049aa4043771c00923f4196d8)\n(cherry picked from commit eb09064beb43b060cb3eef640fef3ce253259ca0)\n(cherry picked from commit 17dbd0c58e957209f827d626a29a755a206278b6)\n(cherry picked from commit 10fbc984d3e037d83a88097cdc1c66ad788ae9da)\n'}, {'number': 2, 'created': '2021-04-05 23:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8f90bc87ce78d01139cc9e014b7ab5cfdb33cac9', 'message': 'Configure the Tempest venv upper constraints properly\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nIf heat integration test script does not use the master constraints\nfor Tempest (when any stable branch goes to Extended Maintenance state)\nthen we need to use the same constraints while running the tests too\notherwise, it will end up recreating the Tempest venv and remove the\nalready installed tempest plugins and their deps.\n\nThis commit set the compatible upper constraint\naccording to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is\nwhat used in devstack while creating the Tempest venv and install\ntempest plugins in that venv.\n\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/784859\n\nCloses-Bug: 1922597\nChange-Id: Ib33b5688153f07e696a39b26510b22fe128597ea\n(cherry picked from commit f998de45d3a9fb7049aa4043771c00923f4196d8)\n(cherry picked from commit eb09064beb43b060cb3eef640fef3ce253259ca0)\n(cherry picked from commit 17dbd0c58e957209f827d626a29a755a206278b6)\n(cherry picked from commit 10fbc984d3e037d83a88097cdc1c66ad788ae9da)\n'}, {'number': 3, 'created': '2021-04-07 00:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2539418cdd6726ecfbfaad5d0cfdd2bae962dabf', 'message': 'Configure the Tempest venv upper constraints properly\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nIf heat integration test script does not use the master constraints\nfor Tempest (when any stable branch goes to Extended Maintenance state)\nthen we need to use the same constraints while running the tests too\notherwise, it will end up recreating the Tempest venv and remove the\nalready installed tempest plugins and their deps.\n\nThis commit set the compatible upper constraint\naccording to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is\nwhat used in devstack while creating the Tempest venv and install\ntempest plugins in that venv.\n\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/784859\n\nCloses-Bug: 1922597\nChange-Id: Ib33b5688153f07e696a39b26510b22fe128597ea\n(cherry picked from commit f998de45d3a9fb7049aa4043771c00923f4196d8)\n(cherry picked from commit eb09064beb43b060cb3eef640fef3ce253259ca0)\n(cherry picked from commit 17dbd0c58e957209f827d626a29a755a206278b6)\n(cherry picked from commit 10fbc984d3e037d83a88097cdc1c66ad788ae9da)\n'}, {'number': 4, 'created': '2021-04-07 00:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/671319af6ea8f89bd72a6a39bf2f56d4a49cbb32', 'message': 'Configure the Tempest venv upper constraints properly\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nIf heat integration test script does not use the master constraints\nfor Tempest (when any stable branch goes to Extended Maintenance state)\nthen we need to use the same constraints while running the tests too\notherwise, it will end up recreating the Tempest venv and remove the\nalready installed tempest plugins and their deps.\n\nThis commit set the compatible upper constraint\naccording to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is\nwhat used in devstack while creating the Tempest venv and install\ntempest plugins in that venv.\n\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/784859\n\nCloses-Bug: 1922597\nChange-Id: Ib33b5688153f07e696a39b26510b22fe128597ea\n(cherry picked from commit f998de45d3a9fb7049aa4043771c00923f4196d8)\n(cherry picked from commit eb09064beb43b060cb3eef640fef3ce253259ca0)\n(cherry picked from commit 17dbd0c58e957209f827d626a29a755a206278b6)\n(cherry picked from commit 10fbc984d3e037d83a88097cdc1c66ad788ae9da)\n'}, {'number': 5, 'created': '2021-04-07 02:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e6bdce1968ca50d29d7211fc39f82c2325086525', 'message': 'Configure the Tempest venv upper constraints properly\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nIf heat integration test script does not use the master constraints\nfor Tempest (when any stable branch goes to Extended Maintenance state)\nthen we need to use the same constraints while running the tests too\notherwise, it will end up recreating the Tempest venv and remove the\nalready installed tempest plugins and their deps.\n\nThis commit set the compatible upper constraint\naccording to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is\nwhat used in devstack while creating the Tempest venv and install\ntempest plugins in that venv.\n\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/784859\n\nCloses-Bug: 1922597\nChange-Id: Ib33b5688153f07e696a39b26510b22fe128597ea\n(cherry picked from commit f998de45d3a9fb7049aa4043771c00923f4196d8)\n(cherry picked from commit eb09064beb43b060cb3eef640fef3ce253259ca0)\n(cherry picked from commit 17dbd0c58e957209f827d626a29a755a206278b6)\n(cherry picked from commit 10fbc984d3e037d83a88097cdc1c66ad788ae9da)\n'}, {'number': 6, 'created': '2021-04-07 22:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/43b95fbafa801f6e04d49fafdf8e66a25992b989', 'message': 'Configure the Tempest venv upper constraints properly\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nIf heat integration test script does not use the master constraints\nfor Tempest (when any stable branch goes to Extended Maintenance state)\nthen we need to use the same constraints while running the tests too\notherwise, it will end up recreating the Tempest venv and remove the\nalready installed tempest plugins and their deps.\n\nThis commit set the compatible upper constraint\naccording the stable branch Tempest version.\n\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/784859\n\nCloses-Bug: 1922597\nChange-Id: Ib33b5688153f07e696a39b26510b22fe128597ea\n'}, {'number': 7, 'created': '2021-04-08 09:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/29d89084b1c3ae4bfb16c4595f66490f9b7fc935', 'message': 'Configure the Tempest venv upper constraints properly\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nIf heat integration test script does not use the master constraints\nfor Tempest (when any stable branch goes to Extended Maintenance state)\nthen we need to use the same constraints while running the tests too\notherwise, it will end up recreating the Tempest venv and remove the\nalready installed tempest plugins and their deps.\n\nThis commit set the compatible upper constraint\naccording the stable branch Tempest version.\n\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/784859\n\nCloses-Bug: 1922597\nChange-Id: Ib33b5688153f07e696a39b26510b22fe128597ea\n'}, {'number': 8, 'created': '2021-04-11 10:08:24.000000000', 'files': ['.zuul.yaml', 'devstack/upgrade/resources.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/2f6e1169ec949ddb39a47165ca4120b5f0039c95', 'message': 'Configure the Tempest venv upper constraints properly\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nIf heat integration test script does not use the master constraints\nfor Tempest (when any stable branch goes to Extended Maintenance state)\nthen we need to use the same constraints while running the tests too\notherwise, it will end up recreating the Tempest venv and remove the\nalready installed tempest plugins and their deps.\n\nThis commit set the compatible upper constraint\naccording the stable branch Tempest version.\n\nCloses-Bug: 1922597\nChange-Id: Ib33b5688153f07e696a39b26510b22fe128597ea\n'}]",1,784863,2f6e1169ec949ddb39a47165ca4120b5f0039c95,35,5,8,8556,,,0,"Configure the Tempest venv upper constraints properly

We use Tempest master for testing the supported stable
branches, so using master upper constraints works fine for
such master or stable branch testing, but when we need to
use old Tempest in the below cases then master upper constraints
do not work for Tempest venv:
- Testing Extended Maintenance branch
- Testing py2.7 jobs until stable/train with in-tree tempest plugins

If heat integration test script does not use the master constraints
for Tempest (when any stable branch goes to Extended Maintenance state)
then we need to use the same constraints while running the tests too
otherwise, it will end up recreating the Tempest venv and remove the
already installed tempest plugins and their deps.

This commit set the compatible upper constraint
according the stable branch Tempest version.

Closes-Bug: 1922597
Change-Id: Ib33b5688153f07e696a39b26510b22fe128597ea
",git fetch https://review.opendev.org/openstack/heat refs/changes/63/784863/3 && git format-patch -1 --stdout FETCH_HEAD,['devstack/upgrade/resources.sh'],1,43697a0813b93435aaa915472310353e14b28815,standardize-tempest-tox-constraints," # NOTE(gmann): If gate explicitly set the non master # constraints to use for Tempest venv then use the same # while running the tests too otherwise, it will recreate # the Tempest venv due to constraints mismatch. # recreation of Tempest venv can flush the initially installed # tempest plugins and their deps. if [[ ""$TEMPEST_VENV_UPPER_CONSTRAINTS"" != ""master"" ]]; then echo ""Using $TEMPEST_VENV_UPPER_CONSTRAINTS constraints in Tempest virtual env."" # NOTE: setting both tox env var and once Tempest start using new var # TOX_CONSTRAINTS_FILE then we can remove the old one. export UPPER_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS export TOX_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS fi",,13,0
openstack%2Fpuppet-mistral~master~I738e0154fe1b84d2deb0a55f3b8672e5733762f6,openstack/puppet-mistral,master,I738e0154fe1b84d2deb0a55f3b8672e5733762f6,Allow to configure policy_dirs,MERGED,2021-04-11 21:42:14.000000000,2021-04-12 13:49:44.000000000,2021-04-12 13:45:08.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-11 21:42:14.000000000', 'files': ['releasenotes/notes/policy-dirs-2ed6895c4391e395.yaml', 'spec/classes/mistral_policy_spec.rb', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/ceb3d30088ad0e321ecc4e0efb830376eb411495', 'message': 'Allow to configure policy_dirs\n\nThis patch makes it possible to override the current service default,\nwhich is /etc/<service>/policy.d .\n\nChange-Id: I738e0154fe1b84d2deb0a55f3b8672e5733762f6\n'}]",0,785807,ceb3d30088ad0e321ecc4e0efb830376eb411495,11,3,1,6476,,,0,"Allow to configure policy_dirs

This patch makes it possible to override the current service default,
which is /etc/<service>/policy.d .

Change-Id: I738e0154fe1b84d2deb0a55f3b8672e5733762f6
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/07/785807/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/policy-dirs-2ed6895c4391e395.yaml', 'spec/classes/mistral_policy_spec.rb', 'manifests/policy.pp']",3,ceb3d30088ad0e321ecc4e0efb830376eb411495,policy-dirs,"# [*policy_dirs*] # (Optional) Path to the mistral policy folder # Defaults to $::os_service_default # $policy_dirs = $::os_service_default, policy_file => $policy_path, policy_dirs => $policy_dirs,", policy_file => $policy_path,14,1
openstack%2Fpuppet-trove~master~If5a1becaa44bf082ef4b8430e87348f4df980abe,openstack/puppet-trove,master,If5a1becaa44bf082ef4b8430e87348f4df980abe,Allow to configure policy_dirs,MERGED,2021-04-11 21:49:43.000000000,2021-04-12 13:42:30.000000000,2021-04-12 13:40:13.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-11 21:49:43.000000000', 'files': ['spec/classes/trove_policy_spec.rb', 'releasenotes/notes/policy-dirs-4345bfef1f3a3b85.yaml', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/a4f4412946112a0c0dfda749c2a9b1cc38f228fb', 'message': 'Allow to configure policy_dirs\n\nThis patch makes it possible to override the current service default,\nwhich is /etc/<service>/policy.d .\n\nChange-Id: If5a1becaa44bf082ef4b8430e87348f4df980abe\n'}]",0,785810,a4f4412946112a0c0dfda749c2a9b1cc38f228fb,9,3,1,6476,,,0,"Allow to configure policy_dirs

This patch makes it possible to override the current service default,
which is /etc/<service>/policy.d .

Change-Id: If5a1becaa44bf082ef4b8430e87348f4df980abe
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/10/785810/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/trove_policy_spec.rb', 'releasenotes/notes/policy-dirs-4345bfef1f3a3b85.yaml', 'manifests/policy.pp']",3,a4f4412946112a0c0dfda749c2a9b1cc38f228fb,policy-dirs,"# [*policy_dirs*] # (Optional) Path to the trove policy folder # Defaults to $::os_service_default # $policy_dirs = $::os_service_default, policy_file => $policy_path, policy_dirs => $policy_dirs,", policy_file => $policy_path,14,1
openstack%2Fpaunch~stable%2Ftrain~Ie4f72308fdd81ac69fd198f484a781cc43b84a73,openstack/paunch,stable/train,Ie4f72308fdd81ac69fd198f484a781cc43b84a73,Accept 142 as an exit code,MERGED,2021-04-09 05:36:45.000000000,2021-04-12 13:36:54.000000000,2021-04-12 13:35:29.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-09 05:36:45.000000000', 'files': ['paunch/utils/systemd.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/9b6bef498a46338faa4f42434e9c0b0203384bf6', 'message': 'Accept 142 as an exit code\n\nIn the same fashion we accepted 137 and 143 exit code status in\nI8f19a80016a67ccad0371c5d108516aec640f031, we also accept 142.\n\nIt represents the SIGALRM exit status - it happens when podman reaches\nthe set timeout (currently 60s) when trying to cleanly stop a container.\n\nChange-Id: Ie4f72308fdd81ac69fd198f484a781cc43b84a73\nCloses-Bug: #1922179\nResolves: rhbz#1939910\n(cherry picked from commit d89f5697b9be76a214b920452d7ef0bd6248a3ac)\n'}]",0,785391,9b6bef498a46338faa4f42434e9c0b0203384bf6,8,3,1,28223,,,0,"Accept 142 as an exit code

In the same fashion we accepted 137 and 143 exit code status in
I8f19a80016a67ccad0371c5d108516aec640f031, we also accept 142.

It represents the SIGALRM exit status - it happens when podman reaches
the set timeout (currently 60s) when trying to cleanly stop a container.

Change-Id: Ie4f72308fdd81ac69fd198f484a781cc43b84a73
Closes-Bug: #1922179
Resolves: rhbz#1939910
(cherry picked from commit d89f5697b9be76a214b920452d7ef0bd6248a3ac)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/91/785391/1 && git format-patch -1 --stdout FETCH_HEAD,['paunch/utils/systemd.py'],1,9b6bef498a46338faa4f42434e9c0b0203384bf6,podman-exit/142-stable/train,SuccessExitStatus=137 142 143,SuccessExitStatus=137 143,1,1
openstack%2Fpuppet-vitrage~master~I4ea5b29575f08bc4d8c4c83ac5c8dde7b085eea2,openstack/puppet-vitrage,master,I4ea5b29575f08bc4d8c4c83ac5c8dde7b085eea2,Allow to configure policy_dirs,MERGED,2021-04-11 21:52:19.000000000,2021-04-12 13:21:52.000000000,2021-04-12 13:20:07.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-11 21:52:19.000000000', 'files': ['releasenotes/notes/policy-dirs-1fe8db043e243fb0.yaml', 'spec/classes/vitrage_policy_spec.rb', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/060af5205b69b35c627ba21a771be7a1b5301a70', 'message': 'Allow to configure policy_dirs\n\nThis patch makes it possible to override the current service default,\nwhich is /etc/<service>/policy.d .\n\nChange-Id: I4ea5b29575f08bc4d8c4c83ac5c8dde7b085eea2\n'}]",0,785811,060af5205b69b35c627ba21a771be7a1b5301a70,9,3,1,6476,,,0,"Allow to configure policy_dirs

This patch makes it possible to override the current service default,
which is /etc/<service>/policy.d .

Change-Id: I4ea5b29575f08bc4d8c4c83ac5c8dde7b085eea2
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/11/785811/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/policy-dirs-1fe8db043e243fb0.yaml', 'spec/classes/vitrage_policy_spec.rb', 'manifests/policy.pp']",3,060af5205b69b35c627ba21a771be7a1b5301a70,policy-dirs,"# [*policy_dirs*] # (Optional) Path to the vitrage policy folder # Defaults to $::os_service_default # $policy_dirs = $::os_service_default, policy_file => $policy_path, policy_dirs => $policy_dirs,", policy_file => $policy_path,14,1
openstack%2Fpuppet-watcher~master~I2ae16dc4bad5337d6d6256869ceeebcb8cfd401b,openstack/puppet-watcher,master,I2ae16dc4bad5337d6d6256869ceeebcb8cfd401b,Allow to configure policy_dirs,MERGED,2021-04-11 21:54:49.000000000,2021-04-12 13:08:48.000000000,2021-04-12 13:07:24.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-11 21:54:49.000000000', 'files': ['spec/classes/watcher_policy_spec.rb', 'manifests/policy.pp', 'releasenotes/notes/policy-dirs-b7655be6af895394.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/12fc24389e6ff6336650c80d7242398f1ac9681f', 'message': 'Allow to configure policy_dirs\n\nThis patch makes it possible to override the current service default,\nwhich is /etc/<service>/policy.d .\n\nChange-Id: I2ae16dc4bad5337d6d6256869ceeebcb8cfd401b\n'}]",0,785812,12fc24389e6ff6336650c80d7242398f1ac9681f,9,3,1,6476,,,0,"Allow to configure policy_dirs

This patch makes it possible to override the current service default,
which is /etc/<service>/policy.d .

Change-Id: I2ae16dc4bad5337d6d6256869ceeebcb8cfd401b
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/12/785812/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/watcher_policy_spec.rb', 'manifests/policy.pp', 'releasenotes/notes/policy-dirs-b7655be6af895394.yaml']",3,12fc24389e6ff6336650c80d7242398f1ac9681f,policy-dirs,"--- features: - | There is now a new policy_dirs parameter in the watcher::policy class, so one can set a custom path. ",,14,1
openstack%2Fneutron~master~I3f4f668866a7d1dacb583a177e8475617a762bf7,openstack/neutron,master,I3f4f668866a7d1dacb583a177e8475617a762bf7,Add tests for floatingip pools API's new policy rules,MERGED,2021-03-22 11:19:57.000000000,2021-04-12 12:50:09.000000000,2021-04-12 12:45:54.000000000,"[{'_account_id': 5046}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-22 11:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e52ed6908408d005bf03724a26ec3a131c7f24b', 'message': ""Add tests for floatingip pools API's new policy rules\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: I3f4f668866a7d1dacb583a177e8475617a762bf7\n""}, {'number': 2, 'created': '2021-03-31 13:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/021b36406f73821ab0df101ca9d74a23e9d4a1b1', 'message': ""Add tests for floatingip pools API's new policy rules\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: I3f4f668866a7d1dacb583a177e8475617a762bf7\n""}, {'number': 3, 'created': '2021-03-31 17:15:48.000000000', 'files': ['neutron/tests/unit/conf/policies/test_floatingip_pools.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6655f7d62347f96bf4fe8673faf26c0c3e2b2e0b', 'message': ""Add tests for floatingip pools API's new policy rules\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: I3f4f668866a7d1dacb583a177e8475617a762bf7\n""}]",0,782192,6655f7d62347f96bf4fe8673faf26c0c3e2b2e0b,20,5,3,11975,,,0,"Add tests for floatingip pools API's new policy rules

Related-blueprint: bp/secure-rbac-roles
Change-Id: I3f4f668866a7d1dacb583a177e8475617a762bf7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/782192/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/conf/policies/test_floatingip_pools.py'],1,5e52ed6908408d005bf03724a26ec3a131c7f24b,secure-rbac,"# Copyright (c) 2021 Red Hat Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from oslo_policy import policy as base_policy from neutron import policy from neutron.tests.unit.conf.policies import base class FloatingipPoolsAPITestCase(base.PolicyBaseTestCase): def setUp(self): super(FloatingipPoolsAPITestCase, self).setUp() self.target = {'project_id': self.project_id} def test_system_reader_can_get_floatingip_pool(self): self.assertTrue( policy.enforce(self.system_reader_ctx, 'get_floatingip_pool', self.target)) def test_project_reader_can_get_floatingip_pool_own_project(self): self.assertTrue( policy.enforce(self.project_reader_ctx, 'get_floatingip_pool', self.target)) def test_project_admin_can_not_get_floatingip_pool_other_project(self): target = {'project_id': 'some-other-project'} self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_admin_ctx, 'get_floatingip_pool', target) def test_project_member_can_not_get_floatingip_pool_other_project(self): target = {'project_id': 'some-other-project'} self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_member_ctx, 'get_floatingip_pool', target) def test_project_reader_can_not_get_floatingip_pool_other_project(self): target = {'project_id': 'some-other-project'} self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.project_reader_ctx, 'get_floatingip_pool', target) ",,57,0
openstack%2Fneutron~master~Ia19423179fd64f39d2592523b18c0a0b7486a1ad,openstack/neutron,master,Ia19423179fd64f39d2592523b18c0a0b7486a1ad,Add tests for subnet API's new policy rules,MERGED,2021-04-07 10:06:44.000000000,2021-04-12 12:48:39.000000000,2021-04-12 12:44:42.000000000,"[{'_account_id': 5046}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 10:06:44.000000000', 'files': ['neutron/tests/unit/conf/policies/test_subnet.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee0029d682a79c319088b8b9b113f99d2791296d', 'message': ""Add tests for subnet API's new policy rules\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: Ia19423179fd64f39d2592523b18c0a0b7486a1ad\n""}]",0,785136,ee0029d682a79c319088b8b9b113f99d2791296d,12,5,1,11975,,,0,"Add tests for subnet API's new policy rules

Related-blueprint: bp/secure-rbac-roles
Change-Id: Ia19423179fd64f39d2592523b18c0a0b7486a1ad
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/785136/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/conf/policies/test_subnet.py'],1,ee0029d682a79c319088b8b9b113f99d2791296d,secure-rbac,"# Copyright (c) 2021 Red Hat Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from unittest import mock from oslo_policy import policy as base_policy from oslo_utils import uuidutils from neutron import policy from neutron.tests.unit.conf.policies import base class SubnetAPITestCase(base.PolicyBaseTestCase): def setUp(self): super(SubnetAPITestCase, self).setUp() self.network = { 'id': uuidutils.generate_uuid(), 'project_id': self.project_id} self.target = { 'project_id': self.project_id, 'network_id': self.network['id'], 'ext_parent_network_id': self.network['id']} self.alt_target = { 'project_id': self.alt_project_id, 'network_id': self.network['id'], 'ext_parent_network_id': self.network['id']} self.plugin_mock = mock.Mock() self.plugin_mock.get_network.return_value = self.network mock.patch( 'neutron_lib.plugins.directory.get_plugin', return_value=self.plugin_mock).start() class SystemAdminTests(SubnetAPITestCase): def setUp(self): super(SystemAdminTests, self).setUp() self.context = self.system_admin_ctx def test_create_subnet(self): self.assertTrue( policy.enforce(self.context, 'create_subnet', self.target)) self.assertTrue( policy.enforce(self.context, 'create_subnet', self.alt_target)) def test_create_subnet_segment_id(self): self.assertTrue( policy.enforce(self.context, 'create_subnet:segment_id', self.target)) self.assertTrue( policy.enforce(self.context, 'create_subnet:segment_id', self.alt_target)) def test_create_subnet_service_types(self): self.assertTrue( policy.enforce(self.context, 'create_subnet:service_types', self.target)) self.assertTrue( policy.enforce(self.context, 'create_subnet:service_types', self.alt_target)) def test_get_subnet(self): self.assertTrue( policy.enforce(self.context, 'get_subnet', self.target)) self.assertTrue( policy.enforce(self.context, 'get_subnet', self.alt_target)) def test_get_subnet_segment_id(self): self.assertTrue( policy.enforce(self.context, 'get_subnet:segment_id', self.target)) self.assertTrue( policy.enforce(self.context, 'get_subnet:segment_id', self.alt_target)) def test_update_subnet(self): self.assertTrue( policy.enforce(self.context, 'update_subnet', self.target)) self.assertTrue( policy.enforce(self.context, 'update_subnet', self.alt_target)) def test_update_subnet_segment_id(self): self.assertTrue( policy.enforce(self.context, 'update_subnet:segment_id', self.target)) self.assertTrue( policy.enforce(self.context, 'update_subnet:segment_id', self.alt_target)) def test_update_subnet_service_types(self): self.assertTrue( policy.enforce(self.context, 'update_subnet:service_types', self.target)) self.assertTrue( policy.enforce(self.context, 'update_subnet:service_types', self.alt_target)) def test_delete_subnet(self): self.assertTrue( policy.enforce(self.context, 'delete_subnet', self.target)) self.assertTrue( policy.enforce(self.context, 'delete_subnet', self.alt_target)) class SystemMemberTests(SystemAdminTests): def setUp(self): super(SystemMemberTests, self).setUp() self.context = self.system_member_ctx def test_create_subnet(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_subnet', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_subnet', self.alt_target) def test_create_subnet_segment_id(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_subnet:segment_id', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_subnet:segment_id', self.alt_target) def test_create_subnet_service_types(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_subnet:service_types', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_subnet:service_types', self.alt_target) def test_update_subnet(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_subnet', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_subnet', self.alt_target) def test_update_subnet_segment_id(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_subnet:segment_id', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_subnet:segment_id', self.alt_target) def test_update_subnet_service_types(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_subnet:service_types', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_subnet:service_types', self.alt_target) def test_delete_subnet(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_subnet', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_subnet', self.alt_target) class SystemReaderTests(SystemMemberTests): def setUp(self): super(SystemReaderTests, self).setUp() self.context = self.system_reader_ctx class ProjectAdminTests(SubnetAPITestCase): def setUp(self): super(ProjectAdminTests, self).setUp() self.context = self.project_admin_ctx def test_create_subnet(self): self.assertTrue( policy.enforce(self.context, 'create_subnet', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_subnet', self.alt_target) def test_create_subnet_segment_id(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_subnet:segment_id', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_subnet:segment_id', self.alt_target) def test_create_subnet_service_types(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_subnet:service_types', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_subnet:service_types', self.alt_target) def test_get_subnet(self): self.assertTrue( policy.enforce(self.context, 'get_subnet', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_subnet', self.alt_target) def test_get_subnet_segment_id(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_subnet:segment_id', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_subnet:segment_id', self.alt_target) def test_update_subnet(self): self.assertTrue( policy.enforce(self.context, 'update_subnet', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_subnet', self.alt_target) def test_update_subnet_segment_id(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_subnet:segment_id', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_subnet:segment_id', self.alt_target) def test_update_subnet_service_types(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_subnet:service_types', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_subnet:service_types', self.alt_target) def test_delete_subnet(self): self.assertTrue( policy.enforce(self.context, 'delete_subnet', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_subnet', self.alt_target) class ProjectMemberTests(ProjectAdminTests): def setUp(self): super(ProjectMemberTests, self).setUp() self.context = self.project_member_ctx class ProjectReaderTests(ProjectMemberTests): def setUp(self): super(ProjectReaderTests, self).setUp() self.context = self.project_reader_ctx def test_create_subnet(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_subnet', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_subnet', self.alt_target) def test_update_subnet(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_subnet', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_subnet', self.alt_target) def test_delete_subnet(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_subnet', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_subnet', self.alt_target) ",,335,0
openstack%2Fneutron~master~I21a016a6aa58dc78fc67af093933caaf94991fbd,openstack/neutron,master,I21a016a6aa58dc78fc67af093933caaf94991fbd,Add tests for Network IP availability API's new policy rules,MERGED,2021-04-01 10:01:31.000000000,2021-04-12 12:45:18.000000000,2021-04-12 12:45:18.000000000,"[{'_account_id': 5046}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 10:01:31.000000000', 'files': ['neutron/tests/unit/conf/policies/test_network_ip_availability.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1785b211a017b25b2b180a042b58a15ae0ff7d7a', 'message': ""Add tests for Network IP availability API's new policy rules\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: I21a016a6aa58dc78fc67af093933caaf94991fbd\n""}]",0,784360,1785b211a017b25b2b180a042b58a15ae0ff7d7a,10,5,1,11975,,,0,"Add tests for Network IP availability API's new policy rules

Related-blueprint: bp/secure-rbac-roles
Change-Id: I21a016a6aa58dc78fc67af093933caaf94991fbd
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/784360/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/conf/policies/test_network_ip_availability.py'],1,1785b211a017b25b2b180a042b58a15ae0ff7d7a,secure-rbac,"# Copyright (c) 2021 Red Hat Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from oslo_policy import policy as base_policy from neutron import policy from neutron.tests.unit.conf.policies import base class NetworkIPAvailabilityAPITestCase(base.PolicyBaseTestCase): def setUp(self): super(NetworkIPAvailabilityAPITestCase, self).setUp() self.target = {} class SystemAdminTests(NetworkIPAvailabilityAPITestCase): def setUp(self): super(SystemAdminTests, self).setUp() self.context = self.system_admin_ctx def test_get_network_ip_availability(self): self.assertTrue( policy.enforce(self.context, 'get_network_ip_availability', self.target)) class SystemMemberTests(SystemAdminTests): def setUp(self): super(SystemMemberTests, self).setUp() self.context = self.system_member_ctx class SystemReaderTests(SystemMemberTests): def setUp(self): super(SystemReaderTests, self).setUp() self.context = self.system_member_ctx class ProjectAdminTests(NetworkIPAvailabilityAPITestCase): def setUp(self): super(ProjectAdminTests, self).setUp() self.context = self.project_admin_ctx def test_get_network_ip_availability(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_network_ip_availability', self.target) class ProjectMemberTests(ProjectAdminTests): def setUp(self): super(ProjectMemberTests, self).setUp() self.context = self.project_member_ctx class ProjectReaderTests(ProjectMemberTests): def setUp(self): super(ProjectReaderTests, self).setUp() self.context = self.project_reader_ctx ",,79,0
openstack%2Fneutron~master~If47982e25537f9a014f01813fb0df32eeb413c2c,openstack/neutron,master,If47982e25537f9a014f01813fb0df32eeb413c2c,Add tests for trunk API's new policy rules,MERGED,2021-04-07 10:41:13.000000000,2021-04-12 12:44:57.000000000,2021-04-12 12:44:57.000000000,"[{'_account_id': 5046}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 10:41:13.000000000', 'files': ['neutron/tests/unit/conf/policies/test_trunk.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4494e728ac2b87746917eaca40eebc8572c07fa3', 'message': ""Add tests for trunk API's new policy rules\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: If47982e25537f9a014f01813fb0df32eeb413c2c\n""}]",0,785141,4494e728ac2b87746917eaca40eebc8572c07fa3,11,5,1,11975,,,0,"Add tests for trunk API's new policy rules

Related-blueprint: bp/secure-rbac-roles
Change-Id: If47982e25537f9a014f01813fb0df32eeb413c2c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/785141/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/conf/policies/test_trunk.py'],1,4494e728ac2b87746917eaca40eebc8572c07fa3,secure-rbac,"# Copyright (c) 2021 Red Hat Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from oslo_policy import policy as base_policy from neutron import policy from neutron.tests.unit.conf.policies import base class TrunkAPITestCase(base.PolicyBaseTestCase): def setUp(self): super(TrunkAPITestCase, self).setUp() self.target = {'project_id': self.project_id} self.alt_target = {'project_id': self.alt_project_id} class SystemAdminTests(TrunkAPITestCase): def setUp(self): super(SystemAdminTests, self).setUp() self.context = self.system_admin_ctx def test_create_trunk(self): self.assertTrue( policy.enforce(self.context, 'create_trunk', self.target)) self.assertTrue( policy.enforce(self.context, 'create_trunk', self.alt_target)) def test_get_trunk(self): self.assertTrue( policy.enforce(self.context, 'get_trunk', self.target)) self.assertTrue( policy.enforce(self.context, 'get_trunk', self.alt_target)) def test_update_trunk(self): self.assertTrue( policy.enforce(self.context, 'update_trunk', self.target)) self.assertTrue( policy.enforce(self.context, 'update_trunk', self.alt_target)) def test_delete_trunk(self): self.assertTrue( policy.enforce(self.context, 'delete_trunk', self.target)) self.assertTrue( policy.enforce(self.context, 'delete_trunk', self.alt_target)) def test_get_subports(self): self.assertTrue( policy.enforce(self.context, 'get_subports', self.target)) self.assertTrue( policy.enforce(self.context, 'get_subports', self.alt_target)) def test_add_subports(self): self.assertTrue( policy.enforce(self.context, 'add_subports', self.target)) self.assertTrue( policy.enforce(self.context, 'add_subports', self.alt_target)) def test_remove_subports(self): self.assertTrue( policy.enforce(self.context, 'remove_subports', self.target)) self.assertTrue( policy.enforce(self.context, 'remove_subports', self.alt_target)) class SystemMemberTests(SystemAdminTests): def setUp(self): super(SystemMemberTests, self).setUp() self.context = self.system_member_ctx def test_create_trunk(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_trunk', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_trunk', self.alt_target) def test_update_trunk(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_trunk', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_trunk', self.alt_target) def test_delete_trunk(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_trunk', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_trunk', self.alt_target) def test_add_subports(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'add_subports', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'add_subports', self.alt_target) def test_remove_subports(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'remove_subports', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'remove_subports', self.alt_target) class SystemReaderTests(SystemMemberTests): def setUp(self): super(SystemReaderTests, self).setUp() self.context = self.system_reader_ctx class ProjectAdminTests(TrunkAPITestCase): def setUp(self): super(ProjectAdminTests, self).setUp() self.context = self.project_admin_ctx def test_create_trunk(self): self.assertTrue( policy.enforce(self.context, 'create_trunk', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_trunk', self.alt_target) def test_get_trunk(self): self.assertTrue( policy.enforce(self.context, 'get_trunk', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_trunk', self.alt_target) def test_update_trunk(self): self.assertTrue( policy.enforce(self.context, 'update_trunk', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_trunk', self.alt_target) def test_delete_trunk(self): self.assertTrue( policy.enforce(self.context, 'delete_trunk', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_trunk', self.alt_target) def test_get_subports(self): self.assertTrue( policy.enforce(self.context, 'get_subports', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_subports', self.alt_target) def test_add_subports(self): self.assertTrue( policy.enforce(self.context, 'add_subports', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'add_subports', self.alt_target) def test_remove_subports(self): self.assertTrue( policy.enforce(self.context, 'remove_subports', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'remove_subports', self.alt_target) class ProjectMemberTests(ProjectAdminTests): def setUp(self): super(ProjectMemberTests, self).setUp() self.context = self.project_member_ctx class ProjectReaderTests(ProjectMemberTests): def setUp(self): super(ProjectReaderTests, self).setUp() self.context = self.project_reader_ctx def test_create_trunk(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_trunk', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_trunk', self.alt_target) def test_update_trunk(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_trunk', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_trunk', self.alt_target) def test_delete_trunk(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_trunk', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_trunk', self.alt_target) def test_add_subports(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'add_subports', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'add_subports', self.alt_target) def test_remove_subports(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'remove_subports', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'remove_subports', self.alt_target) ",,267,0
openstack%2Foslo.privsep~master~Ia349eba36d8556d4d2775a83b9a344b2ebeed972,openstack/oslo.privsep,master,Ia349eba36d8556d4d2775a83b9a344b2ebeed972,Fix requirements issues.,MERGED,2020-12-18 14:11:25.000000000,2021-04-12 12:31:28.000000000,2021-04-12 12:26:08.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-12-18 14:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/0c4a3a3bb482dea394074aaa4c9eb9b3de08015f', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Ia349eba36d8556d4d2775a83b9a344b2ebeed972\n'}, {'number': 2, 'created': '2021-01-27 11:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/45f1a4a2c53dc98b3687fd496a300b15c7adee28', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Ia349eba36d8556d4d2775a83b9a344b2ebeed972\n'}, {'number': 3, 'created': '2021-03-02 13:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/e0f14d133714e0c1d4e2d7ef5283a7a77ff819bb', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Ia349eba36d8556d4d2775a83b9a344b2ebeed972\n'}, {'number': 4, 'created': '2021-04-07 14:17:14.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/5f5db610c64aefc7b703b142271c7d52e000c108', 'message': ""Fix requirements issues.\n\nThis patch is the merge of 2 current fixes that need to be solved in the\nsame time. Indeed each issue lock our gates independently.\n\nDropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nMove flake8 as a pre-commit local target.\n\nThe goal here is to avoid conflicts between flake8 and hacking version each\n2 days.\n\nInspired from nova's approach[1].\n\nThe flake8 version to install will be determined by hacking and\nrequirements[2] will stay aligned instead of relying on different versions.\n\n[1] https://opendev.org/openstack/nova/src/branch/master/.pre-commit-config.yaml#L26-L35\n[2] https://opendev.org/openstack/hacking/src/branch/master/requirements.txt#L1\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\n\nChange-Id: Ia349eba36d8556d4d2775a83b9a344b2ebeed972\n""}]",0,767741,5f5db610c64aefc7b703b142271c7d52e000c108,22,4,4,28522,,,0,"Fix requirements issues.

This patch is the merge of 2 current fixes that need to be solved in the
same time. Indeed each issue lock our gates independently.

Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Move flake8 as a pre-commit local target.

The goal here is to avoid conflicts between flake8 and hacking version each
2 days.

Inspired from nova's approach[1].

The flake8 version to install will be determined by hacking and
requirements[2] will stay aligned instead of relying on different versions.

[1] https://opendev.org/openstack/nova/src/branch/master/.pre-commit-config.yaml#L26-L35
[2] https://opendev.org/openstack/hacking/src/branch/master/requirements.txt#L1

Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>

Change-Id: Ia349eba36d8556d4d2775a83b9a344b2ebeed972
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/41/767741/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0c4a3a3bb482dea394074aaa4c9eb9b3de08015f,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Fpuppet-tacker~master~I006c137e78c1bac99202ced38fd6f82a07ad65e3,openstack/puppet-tacker,master,I006c137e78c1bac99202ced38fd6f82a07ad65e3,Allow to configure policy_dirs,MERGED,2021-04-11 21:47:14.000000000,2021-04-12 12:29:33.000000000,2021-04-12 12:25:34.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-11 21:47:14.000000000', 'files': ['releasenotes/notes/policy-dirs-6ee9bf5a0f434aad.yaml', 'spec/classes/tacker_policy_spec.rb', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/478293eedccd545bbde25548957288020d0a797c', 'message': 'Allow to configure policy_dirs\n\nThis patch makes it possible to override the current service default,\nwhich is /etc/<service>/policy.d .\n\nChange-Id: I006c137e78c1bac99202ced38fd6f82a07ad65e3\n'}]",0,785809,478293eedccd545bbde25548957288020d0a797c,9,3,1,6476,,,0,"Allow to configure policy_dirs

This patch makes it possible to override the current service default,
which is /etc/<service>/policy.d .

Change-Id: I006c137e78c1bac99202ced38fd6f82a07ad65e3
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/09/785809/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/policy-dirs-6ee9bf5a0f434aad.yaml', 'spec/classes/tacker_policy_spec.rb', 'manifests/policy.pp']",3,478293eedccd545bbde25548957288020d0a797c,policy-dirs,"# [*policy_dirs*] # (Optional) Path to the tacker policy folder # Defaults to $::os_service_default # $policy_dirs = $::os_service_default, policy_file => $policy_path, policy_dirs => $policy_dirs,", policy_file => $policy_path,14,1
openstack%2Fpython-cloudkittyclient~master~Ie0255d5300b303e9392497d6494fdc5f6e08eb53,openstack/python-cloudkittyclient,master,Ie0255d5300b303e9392497d6494fdc5f6e08eb53,Add Python3 xena unit tests,MERGED,2021-03-19 13:01:53.000000000,2021-04-12 12:29:27.000000000,2021-04-12 12:22:06.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}]","[{'number': 1, 'created': '2021-03-19 13:01:53.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/dc606b1d3cf4603f9024666e933db9bbe1680200', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ie0255d5300b303e9392497d6494fdc5f6e08eb53\n'}]",0,781686,dc606b1d3cf4603f9024666e933db9bbe1680200,8,3,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ie0255d5300b303e9392497d6494fdc5f6e08eb53
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/86/781686/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dc606b1d3cf4603f9024666e933db9bbe1680200,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fswift~master~Id516e8cce1a4834e8909c50abd3acf56923cc927,openstack/swift,master,Id516e8cce1a4834e8909c50abd3acf56923cc927,WIP: sharder: update own shard range with tombstone estimate,ABANDONED,2021-03-24 17:51:02.000000000,2021-04-12 12:27:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-24 17:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a400890c135d89755b4e638401f7d1670bb7ca56', 'message': 'WIP: sharder: update own shard range with tombstone estimate\n\nChange-Id: Id516e8cce1a4834e8909c50abd3acf56923cc927\n'}, {'number': 2, 'created': '2021-03-25 20:03:17.000000000', 'files': ['swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/24c297e03177be72035cc500db847ac76ccf95be', 'message': 'WIP: sharder: update own shard range with tombstone estimate\n\nChange-Id: Id516e8cce1a4834e8909c50abd3acf56923cc927\n'}]",0,782833,24c297e03177be72035cc500db847ac76ccf95be,5,1,2,7847,,,0,"WIP: sharder: update own shard range with tombstone estimate

Change-Id: Id516e8cce1a4834e8909c50abd3acf56923cc927
",git fetch https://review.opendev.org/openstack/swift refs/changes/33/782833/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/sharder.py'],1,a400890c135d89755b4e638401f7d1670bb7ca56,wip-estimate-deleted-in-reclaim,"from swift.common.db import TombstoneReclaimer # TODO: this might only be necessary when UNSHARDED reclaimer = TombstoneReclaimer(broker, self.reclaim_age) reclaimer.reclaim() tombstone_estimate = reclaimer.refine_tombstone_estimate( self.shard_shrink_point - own_shard_range.object_count) self.logger.debug('tombstones in %s = %d', quote(broker.path), tombstone_estimate) # TODO: add tombstone property to ShardRange # own_shard_range.tombstones = tombstone_estimate ",,11,0
openstack%2Fpuppet-glare~master~I674bd4b6db8862668dab8197d86fe99b55e923f5,openstack/puppet-glare,master,I674bd4b6db8862668dab8197d86fe99b55e923f5,Allow to configure policy_dirs,MERGED,2021-04-11 21:38:02.000000000,2021-04-12 12:15:50.000000000,2021-04-12 12:14:19.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-11 21:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/c4aa44efa5bfee0940f2ae6d3debb5cb46c493bd', 'message': 'Allow to configure policy_dirs\n\nThis patch makes it possible to override the current service default,\nwhich is /etc/<service>/policy.d .\n\nChange-Id: I674bd4b6db8862668dab8197d86fe99b55e923f5\n'}, {'number': 2, 'created': '2021-04-11 21:39:26.000000000', 'files': ['releasenotes/notes/policy-dirs-57981a0e478b88ba.yaml', 'spec/classes/glare_policy_spec.rb', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/6d94ffe510beeaa055fba05d57677e2945198e4b', 'message': 'Allow to configure policy_dirs\n\nThis patch makes it possible to override the current service default,\nwhich is /etc/<service>/policy.d .\n\nChange-Id: I674bd4b6db8862668dab8197d86fe99b55e923f5\n'}]",0,785806,6d94ffe510beeaa055fba05d57677e2945198e4b,10,3,2,6476,,,0,"Allow to configure policy_dirs

This patch makes it possible to override the current service default,
which is /etc/<service>/policy.d .

Change-Id: I674bd4b6db8862668dab8197d86fe99b55e923f5
",git fetch https://review.opendev.org/openstack/puppet-glare refs/changes/06/785806/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/policy-dirs-57981a0e478b88ba.yaml', 'spec/classes/glare_policy_spec.rb', 'manifests/policy.pp']",3,c4aa44efa5bfee0940f2ae6d3debb5cb46c493bd,policy-dirs,"# [*policy_dirs*] # (Optional) Path to the aodh policy folder # Defaults to $::os_service_default # $policy_dirs = $::os_service_default, policy_file => $policy_path, policy_dirs => $policy_dirs,", policy_file => $policy_path,14,1
openstack%2Fnova~stable%2Ftrain~Id8494a9e5bc2a338ea5094b1e46cd3e1f9095c60,openstack/nova,stable/train,Id8494a9e5bc2a338ea5094b1e46cd3e1f9095c60,DNM: nova-grenade-multinode test,ABANDONED,2021-04-09 20:43:57.000000000,2021-04-12 12:14:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-09 20:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06879a9ad289fda49ddc8a7d7476db73a9489b00', 'message': 'DNM: nova-grenade-multinode test\n\nDepends-On: https://review.opendev.org/785730\nChange-Id: Id8494a9e5bc2a338ea5094b1e46cd3e1f9095c60\n'}, {'number': 2, 'created': '2021-04-12 08:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/979439b690e2d6598cad77b88506b218ec8001a4', 'message': 'DNM: nova-grenade-multinode test\n\nDepends-On: https://review.opendev.org/785547\nChange-Id: Id8494a9e5bc2a338ea5094b1e46cd3e1f9095c60\n'}, {'number': 3, 'created': '2021-04-12 08:58:22.000000000', 'files': ['nova/compute/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fdc3329cba85d5b719c58507f8595be67086fb2a', 'message': 'DNM: nova-grenade-multinode test\n\nDepends-On: https://review.opendev.org/785767\nChange-Id: Id8494a9e5bc2a338ea5094b1e46cd3e1f9095c60\n'}]",0,785731,fdc3329cba85d5b719c58507f8595be67086fb2a,22,1,3,17685,,,0,"DNM: nova-grenade-multinode test

Depends-On: https://review.opendev.org/785767
Change-Id: Id8494a9e5bc2a338ea5094b1e46cd3e1f9095c60
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/785731/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/utils.py'],1,06879a9ad289fda49ddc8a7d7476db73a9489b00,standardize-tempest-tox-constraints,"""""""Compute-related Utilities and helpers. Dummy change""""""","""""""Compute-related Utilities and helpers.""""""",1,1
openstack%2Fpuppet-senlin~master~Ib9b3f1aa18380eeff9e86cc447451300ecbf631e,openstack/puppet-senlin,master,Ib9b3f1aa18380eeff9e86cc447451300ecbf631e,Allow to configure policy_dirs,MERGED,2021-04-11 21:44:44.000000000,2021-04-12 12:12:35.000000000,2021-04-12 12:11:19.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-11 21:44:44.000000000', 'files': ['releasenotes/notes/policy-dirs-df7a15b005ca3fa2.yaml', 'spec/classes/senlin_policy_spec.rb', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/1959b8df699e900fad947bdec2fce5222e4bfaf7', 'message': 'Allow to configure policy_dirs\n\nThis patch makes it possible to override the current service default,\nwhich is /etc/<service>/policy.d .\n\nChange-Id: Ib9b3f1aa18380eeff9e86cc447451300ecbf631e\n'}]",0,785808,1959b8df699e900fad947bdec2fce5222e4bfaf7,9,3,1,6476,,,0,"Allow to configure policy_dirs

This patch makes it possible to override the current service default,
which is /etc/<service>/policy.d .

Change-Id: Ib9b3f1aa18380eeff9e86cc447451300ecbf631e
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/08/785808/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/policy-dirs-df7a15b005ca3fa2.yaml', 'spec/classes/senlin_policy_spec.rb', 'manifests/policy.pp']",3,1959b8df699e900fad947bdec2fce5222e4bfaf7,policy-dirs,"# [*policy_dirs*] # (Optional) Path to the senlin policy folder # Defaults to $::os_service_default # $policy_dirs = $::os_service_default, policy_file => $policy_path, policy_dirs => $policy_dirs,", policy_file => $policy_path,14,1
openstack%2Fpuppet-freezer~master~Iaffada6b0cd29e880a65ce9205b87b94940e47b7,openstack/puppet-freezer,master,Iaffada6b0cd29e880a65ce9205b87b94940e47b7,Allow to configure policy_dirs,MERGED,2021-04-11 21:35:02.000000000,2021-04-12 12:11:51.000000000,2021-04-12 12:10:32.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-11 21:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/ceefa0373a114cbc2ac2515ab618e283d168b3db', 'message': 'Allow to configure policy_dirs\n\nThis patch makes it possible to override the current service default,\nwhich is /etc/<service>/policy.d .\n\nChange-Id: Iaffada6b0cd29e880a65ce9205b87b94940e47b7\n'}, {'number': 2, 'created': '2021-04-11 21:39:00.000000000', 'files': ['releasenotes/notes/policy-dirs-6fb2f96d42e990b7.yaml', 'spec/classes/freezer_policy_spec.rb', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/f57e621e539100309bafc12450ba3192d57d336e', 'message': 'Allow to configure policy_dirs\n\nThis patch makes it possible to override the current service default,\nwhich is /etc/<service>/policy.d .\n\nChange-Id: Iaffada6b0cd29e880a65ce9205b87b94940e47b7\n'}]",0,785805,f57e621e539100309bafc12450ba3192d57d336e,9,3,2,6476,,,0,"Allow to configure policy_dirs

This patch makes it possible to override the current service default,
which is /etc/<service>/policy.d .

Change-Id: Iaffada6b0cd29e880a65ce9205b87b94940e47b7
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/05/785805/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/policy-dirs-6fb2f96d42e990b7.yaml', 'spec/classes/freezer_policy_spec.rb', 'manifests/policy.pp']",3,ceefa0373a114cbc2ac2515ab618e283d168b3db,policy-dirs,"# [*policy_dirs*] # (Optional) Path to the aodh policy folder # Defaults to $::os_service_default # $policy_dirs = $::os_service_default, policy_file => $policy_path, policy_dirs => $policy_dirs,", policy_file => $policy_path,14,1
openstack%2Ftripleo-repos~master~I13cbe90003e88af9838a7a5867415c66ba075791,openstack/tripleo-repos,master,I13cbe90003e88af9838a7a5867415c66ba075791,Move the master repo to Pacific,MERGED,2021-03-25 10:44:09.000000000,2021-04-12 12:08:37.000000000,2021-04-12 12:08:37.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-25 10:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/192d8f98638937f1bfa9686d267b13c22e83f84d', 'message': 'Move the master repo to Pacific\n\nThis change just move the current repository to Pacific, which is\nused for both ceph-ansible and cephadm packages.\n\nChange-Id: I13cbe90003e88af9838a7a5867415c66ba075791\n'}, {'number': 2, 'created': '2021-03-25 11:05:42.000000000', 'files': ['tripleo_repos/tests/test_main.py', 'tripleo_repos/main.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/e3b76d88ff3dea58600fea0b98ab28811d1ec44c', 'message': 'Move the master repo to Pacific\n\nThis change just move the current repository to Pacific, which is\nused for both ceph-ansible and cephadm packages.\n\nChange-Id: I13cbe90003e88af9838a7a5867415c66ba075791\n'}]",1,782946,e3b76d88ff3dea58600fea0b98ab28811d1ec44c,17,7,2,25402,,,0,"Move the master repo to Pacific

This change just move the current repository to Pacific, which is
used for both ceph-ansible and cephadm packages.

Change-Id: I13cbe90003e88af9838a7a5867415c66ba075791
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/46/782946/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_repos/main.py'],1,192d8f98638937f1bfa9686d267b13c22e83f84d,cephadm_pacific," content = _create_ceph(args, 'pacific')"," content = _create_ceph(args, 'octopus')",1,1
openstack%2Fkolla~master~Iee69d8480960562a3d19752661c0556db65ade45,openstack/kolla,master,Iee69d8480960562a3d19752661c0556db65ade45,Remove mariadb image,MERGED,2021-04-12 09:40:00.000000000,2021-04-12 12:07:57.000000000,2021-04-12 12:06:25.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-12 09:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fdd0ee18eed5dcf3e13c3a667c6bec574512ae11', 'message': 'Remove mariadb image\n\nChange-Id: Iee69d8480960562a3d19752661c0556db65ade45\n'}, {'number': 2, 'created': '2021-04-12 09:42:47.000000000', 'files': ['docker/mariadb/mariadb/healthcheck_mariadb', 'releasenotes/notes/remove-mariadb-image-fbcb1401899a1c04.yaml', 'docker/mariadb/mariadb/Dockerfile.j2', 'docker/mariadb/mariadb/security_reset.expect', 'docker/mariadb/mariadb/backup.sh', 'docker/mariadb/mariadb/extend_start.sh', 'docker/mariadb/mariadb/mariadb_sudoers'], 'web_link': 'https://opendev.org/openstack/kolla/commit/be15ec98231a4a0005913728f3c37b653a473749', 'message': 'Remove mariadb image\n\nIt has been deprecated in [1].\n\n[1]: https://review.opendev.org/c/openstack/kolla/+/752430\n\nChange-Id: Iee69d8480960562a3d19752661c0556db65ade45\n'}]",0,785838,be15ec98231a4a0005913728f3c37b653a473749,11,3,2,22629,,,0,"Remove mariadb image

It has been deprecated in [1].

[1]: https://review.opendev.org/c/openstack/kolla/+/752430

Change-Id: Iee69d8480960562a3d19752661c0556db65ade45
",git fetch https://review.opendev.org/openstack/kolla refs/changes/38/785838/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/mariadb/mariadb/healthcheck_mariadb', 'releasenotes/notes/remove-mariadb-image-fbcb1401899a1c04.yaml', 'docker/mariadb/mariadb/Dockerfile.j2', 'docker/mariadb/mariadb/security_reset.expect', 'docker/mariadb/mariadb/backup.sh', 'docker/mariadb/mariadb/extend_start.sh', 'docker/mariadb/mariadb/mariadb_sudoers']",7,fdd0ee18eed5dcf3e13c3a667c6bec574512ae11,,,%kolla ALL=(root) NOPASSWD: /usr/local/bin/kolla_security_reset ,6,271
openstack%2Fpython-cloudkittyclient~stable%2Fwallaby~I8700ff293c06504ab72a27e0d96460ac0a2cab78,openstack/python-cloudkittyclient,stable/wallaby,I8700ff293c06504ab72a27e0d96460ac0a2cab78,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-19 13:00:54.000000000,2021-04-12 12:06:05.000000000,2021-04-12 12:04:26.000000000,"[{'_account_id': 7042}, {'_account_id': 15197}, {'_account_id': 16532}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 25277}, {'_account_id': 28356}, {'_account_id': 29503}]","[{'number': 1, 'created': '2021-03-19 13:00:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/9bf5cf89f19f1544e04cf91fca084679fe2399f0', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I8700ff293c06504ab72a27e0d96460ac0a2cab78\n'}]",0,781683,9bf5cf89f19f1544e04cf91fca084679fe2399f0,9,10,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I8700ff293c06504ab72a27e0d96460ac0a2cab78
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/83/781683/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9bf5cf89f19f1544e04cf91fca084679fe2399f0,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Fpython-cloudkittyclient~master~Ic56e3c816c1729fd66d6b5b8467bebb3fa2976b8,openstack/python-cloudkittyclient,master,Ic56e3c816c1729fd66d6b5b8467bebb3fa2976b8,Update master for stable/wallaby,MERGED,2021-03-19 13:01:34.000000000,2021-04-12 12:05:57.000000000,2021-04-12 12:04:28.000000000,"[{'_account_id': 7042}, {'_account_id': 15197}, {'_account_id': 16532}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 25277}, {'_account_id': 28356}, {'_account_id': 29503}]","[{'number': 1, 'created': '2021-03-19 13:01:34.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/51419711226ad8f487b59de906e36b2102b0e819', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: Ic56e3c816c1729fd66d6b5b8467bebb3fa2976b8\n'}]",0,781684,51419711226ad8f487b59de906e36b2102b0e819,9,10,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: Ic56e3c816c1729fd66d6b5b8467bebb3fa2976b8
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/84/781684/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,51419711226ad8f487b59de906e36b2102b0e819,reno-wallaby, wallaby,,7,0
openstack%2Fpython-cloudkittyclient~stable%2Fwallaby~I417f2b197ff5ce2492f0c625d27306f237250493,openstack/python-cloudkittyclient,stable/wallaby,I417f2b197ff5ce2492f0c625d27306f237250493,Update .gitreview for stable/wallaby,MERGED,2021-03-19 13:00:26.000000000,2021-04-12 11:57:41.000000000,2021-04-12 11:56:31.000000000,"[{'_account_id': 7042}, {'_account_id': 15197}, {'_account_id': 16532}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 25277}, {'_account_id': 28356}, {'_account_id': 29503}]","[{'number': 1, 'created': '2021-03-19 13:00:26.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/2fe49e19475f07cd3e0ad5d694f0d9b017f7ed5c', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I417f2b197ff5ce2492f0c625d27306f237250493\n'}]",0,781682,2fe49e19475f07cd3e0ad5d694f0d9b017f7ed5c,9,10,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: I417f2b197ff5ce2492f0c625d27306f237250493
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/82/781682/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,2fe49e19475f07cd3e0ad5d694f0d9b017f7ed5c,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fcinder~master~Id8e9be274d540787631115c089891f583ac591d1,openstack/cinder,master,Id8e9be274d540787631115c089891f583ac591d1,Fix incorrect percentage for volume-backup progress notification,NEW,2021-03-08 14:57:28.000000000,2021-04-12 11:43:32.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 29156}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-03-08 14:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0b677a655770bd88b051237550a220d3f60e9501', 'message': 'Fix incorrect percentage for volume-backup progress notification\n\nThe correct calculation method should be:\nbackup_percent = total_block_sent_bytes * 100 / total_volume_size\n\nChange-Id: Id8e9be274d540787631115c089891f583ac591d1\nCloses-Bug: #1894381\n'}, {'number': 2, 'created': '2021-03-08 15:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/755075f486ff94194bf9b56b1fa2048b6117b1f2', 'message': 'Fix incorrect percentage for volume-backup progress notification\n\nThe correct calculation method should be:\nbackup_percent = total_block_sent_bytes * 100 / total_volume_size\n\nChange-Id: Id8e9be274d540787631115c089891f583ac591d1\nCloses-Bug: #1918102\n'}, {'number': 3, 'created': '2021-03-11 07:32:04.000000000', 'files': ['cinder/tests/unit/backup/test_chunkeddriver.py', 'cinder/backup/chunkeddriver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c48c49805e48dedf351e2d1a9f0fd752c8519938', 'message': 'Fix incorrect percentage for volume-backup progress notification\n\nThe correct calculation method should be:\nbackup_percent = total_block_sent_bytes * 100 / total_volume_size\n\nChange-Id: Id8e9be274d540787631115c089891f583ac591d1\nCloses-Bug: #1918102\n'}]",0,779279,c48c49805e48dedf351e2d1a9f0fd752c8519938,84,9,3,29156,,,0,"Fix incorrect percentage for volume-backup progress notification

The correct calculation method should be:
backup_percent = total_block_sent_bytes * 100 / total_volume_size

Change-Id: Id8e9be274d540787631115c089891f583ac591d1
Closes-Bug: #1918102
",git fetch https://review.opendev.org/openstack/cinder refs/changes/79/779279/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/chunkeddriver.py'],1,0b677a655770bd88b051237550a220d3f60e9501,bug/1918102," total_block_sent_bytes, total_volume_size): backup_percent = total_block_sent_bytes * 100 / total_volume_size total_block_sent_bytes = 0 total_block_sent_bytes, total_block_sent_bytes += read_bytes total_block_sent_bytes,"," total_block_sent_num, total_volume_size): backup_percent = total_block_sent_num * 100 / total_volume_size total_block_sent_num = 0 total_block_sent_num, total_block_sent_num += self.data_block_num total_block_sent_num,",6,6
openstack%2Fkayobe~stable%2Ftrain~I7c08344652cb625d4341a2314a08d0b3c567e3c5,openstack/kayobe,stable/train,I7c08344652cb625d4341a2314a08d0b3c567e3c5,Disable IPA builds on CentOS 7,ABANDONED,2021-04-12 10:53:10.000000000,2021-04-12 11:06:19.000000000,,[],"[{'number': 1, 'created': '2021-04-12 10:53:10.000000000', 'files': ['playbooks/kayobe-seed-base/overrides.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c44f247920ccbc04d8a281914ccbb00175b40dde', 'message': 'Disable IPA builds on CentOS 7\n\nChange-Id: I7c08344652cb625d4341a2314a08d0b3c567e3c5\n'}]",0,785850,c44f247920ccbc04d8a281914ccbb00175b40dde,2,0,1,15197,,,0,"Disable IPA builds on CentOS 7

Change-Id: I7c08344652cb625d4341a2314a08d0b3c567e3c5
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/50/785850/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/kayobe-seed-base/overrides.yml.j2'],1,c44f247920ccbc04d8a281914ccbb00175b40dde,,# # NOTE(priteau): Building IPA images on CentOS 7 is broken in CI due to: # distutils.errors.DistutilsError: Could not find suitable distribution for # Requirement.parse('pbr>=2.0.0') {% if ansible_os_family == 'RedHat' %} {% if ansible_distribution_major_version | int == 8 %}{% endif %} {% endif %},,8,0
openstack%2Fmagnum~stable%2Fussuri~Iac87a4a56187694d5f5b3454de380de6b6db48fa,openstack/magnum,stable/ussuri,Iac87a4a56187694d5f5b3454de380de6b6db48fa,Fix debug logging during cluster upgrade,MERGED,2021-03-19 15:56:13.000000000,2021-04-12 10:58:21.000000000,2021-04-12 10:56:35.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-19 15:56:13.000000000', 'files': ['magnum/drivers/heat/driver.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/a49232548439d00a895c78c6b00ed84677a6b5cd', 'message': 'Fix debug logging during cluster upgrade\n\nIncorrectly formatted logging causes error. This PS fixes it.\n\nStory: 2008628\nTask: 41833\n\nChange-Id: Iac87a4a56187694d5f5b3454de380de6b6db48fa\n(cherry picked from commit 00f8aa5d67c03e9ff1dd828c13b25d201754eac2)\n'}]",0,781800,a49232548439d00a895c78c6b00ed84677a6b5cd,11,3,1,28022,,,0,"Fix debug logging during cluster upgrade

Incorrectly formatted logging causes error. This PS fixes it.

Story: 2008628
Task: 41833

Change-Id: Iac87a4a56187694d5f5b3454de380de6b6db48fa
(cherry picked from commit 00f8aa5d67c03e9ff1dd828c13b25d201754eac2)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/00/781800/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/heat/driver.py'],1,a49232548439d00a895c78c6b00ed84677a6b5cd,fix-upgrade-stable/ussuri," # If both keys are present, only ostree_commit is chosen. break cluster_template.name, ostree_tag)"," (cluster_template.name, ostree_tag))",3,1
openstack%2Fironic~master~Ibecfd3c326edb84049d329af44fb3aec055a73f8,openstack/ironic,master,Ibecfd3c326edb84049d329af44fb3aec055a73f8,An ipmitool command takes 2 minutes long.,NEW,2021-04-09 08:00:06.000000000,2021-04-12 10:33:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-09 08:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b97e4dac79eca9b93ef2873af18998138d4b44c4', 'message': 'An ipmitool command takes 2 minutes long.\nIt was a ipmitool command that access to HP BMC takes 2 minutes due to ""Unable to Get Channel Cipher Suites"";\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1831158\nTo fix this,we have a plan looks like the follow.\nGood luck,it works well.\n\nChange-Id: Ibecfd3c326edb84049d329af44fb3aec055a73f8\n'}, {'number': 2, 'created': '2021-04-09 08:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ad1f88b74124229bcb1e5cfdd0f1e6e207fd25b3', 'message': 'An ipmitool command takes 2 minutes long.\n\nIt was a ipmitool command that access to HP BMC takes 2 minutes due to ""Unable to Get Channel Cipher Suites"";\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1831158\nTo fix this,we have a plan looks like the follow.\nGood luck,it works well.\n\nChange-Id: Ibecfd3c326edb84049d329af44fb3aec055a73f8\n'}, {'number': 3, 'created': '2021-04-12 02:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b0cd67f989e1bcf800bd03216f7448c481886cc7', 'message': 'An ipmitool command takes 2 minutes long.\n\nIt was a ipmitool command that access to HP BMC takes 2 minutes due to ""Unable to Get Channel Cipher Suites"";\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1831158\nTo fix this,we have a plan looks like the follow.\nGood luck,it works well.\n\nChange-Id: Ibecfd3c326edb84049d329af44fb3aec055a73f8\n'}, {'number': 4, 'created': '2021-04-12 06:30:28.000000000', 'files': ['ironic/conf/ipmi.py', 'ironic/drivers/modules/ipmitool.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/dff9d25d251e383697e9bad779d0b17d1e2469e9', 'message': 'An ipmitool command takes 2 minutes long.\n\nIt was a ipmitool command that access to HP BMC takes 2 minutes due to ""Unable to Get Channel Cipher Suites"";\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1831158\nTo fix this,we have a plan looks like the follow.\nGood luck,it works well.\n\nChange-Id: Ibecfd3c326edb84049d329af44fb3aec055a73f8\n'}]",1,785571,dff9d25d251e383697e9bad779d0b17d1e2469e9,22,1,4,30458,,,0,"An ipmitool command takes 2 minutes long.

It was a ipmitool command that access to HP BMC takes 2 minutes due to ""Unable to Get Channel Cipher Suites"";
https://bugzilla.redhat.com/show_bug.cgi?id=1831158
To fix this,we have a plan looks like the follow.
Good luck,it works well.

Change-Id: Ibecfd3c326edb84049d329af44fb3aec055a73f8
",git fetch https://review.opendev.org/openstack/ironic refs/changes/71/785571/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/ipmi.py', 'ironic/drivers/modules/ipmitool.py']",2,b97e4dac79eca9b93ef2873af18998138d4b44c4,," if change_cs: actual_cs = update_cipher_suite_cmd( actual_cs, args) ",,7,1
openstack%2Fcharm-neutron-api~master~I65d1d790f902d928cd0c4dc848121b1c7fd65071,openstack/charm-neutron-api,master,I65d1d790f902d928cd0c4dc848121b1c7fd65071,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,MERGED,2021-04-11 15:57:01.000000000,2021-04-12 10:31:29.000000000,2021-04-12 10:31:29.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-11 15:57:01.000000000', 'files': ['hooks/charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/9442c0445db005433058e5c8e7e70df0a150748e', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: I65d1d790f902d928cd0c4dc848121b1c7fd65071\n""}]",0,785788,9442c0445db005433058e5c8e7e70df0a150748e,8,3,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: I65d1d790f902d928cd0c4dc848121b1c7fd65071
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/88/785788/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/core/host_factory/ubuntu.py'],1,9442c0445db005433058e5c8e7e70df0a150748e,hirsute-ch-sync-2104," 'groovy', 'hirsute',", 'groovy',2,1
openstack%2Fcharm-neutron-openvswitch~master~I8518ef0545a788e7126dc2baf57029c74d4ba52b,openstack/charm-neutron-openvswitch,master,I8518ef0545a788e7126dc2baf57029c74d4ba52b,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,MERGED,2021-04-11 15:58:06.000000000,2021-04-12 10:27:45.000000000,2021-04-12 10:27:45.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-11 15:58:06.000000000', 'files': ['hooks/charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/0653da1aa6e1c8dad57ad701431d53a7c2eadeb5', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: I8518ef0545a788e7126dc2baf57029c74d4ba52b\n""}]",0,785790,0653da1aa6e1c8dad57ad701431d53a7c2eadeb5,8,3,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: I8518ef0545a788e7126dc2baf57029c74d4ba52b
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/90/785790/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/core/host_factory/ubuntu.py'],1,0653da1aa6e1c8dad57ad701431d53a7c2eadeb5,hirsute-ch-sync-2104," 'groovy', 'hirsute',", 'groovy',2,1
openstack%2Fcharm-rabbitmq-server~master~Ic3b84fb928d9c27c8e16728f82f270b6995a7901,openstack/charm-rabbitmq-server,master,Ic3b84fb928d9c27c8e16728f82f270b6995a7901,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,MERGED,2021-04-11 16:00:37.000000000,2021-04-12 10:24:35.000000000,2021-04-12 10:24:35.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-11 16:00:37.000000000', 'files': ['charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/6dbabea231228fbb9b459bce0a307182bc9a4562', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: Ic3b84fb928d9c27c8e16728f82f270b6995a7901\n""}]",0,785795,6dbabea231228fbb9b459bce0a307182bc9a4562,8,3,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: Ic3b84fb928d9c27c8e16728f82f270b6995a7901
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/95/785795/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/core/host_factory/ubuntu.py'],1,6dbabea231228fbb9b459bce0a307182bc9a4562,hirsute-ch-sync-2104," 'groovy', 'hirsute',", 'groovy',2,1
openstack%2Fcharm-swift-storage~master~Id5ec1154770c87e18bb2a4244b22354c9d0edfc0,openstack/charm-swift-storage,master,Id5ec1154770c87e18bb2a4244b22354c9d0edfc0,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,MERGED,2021-04-11 16:01:05.000000000,2021-04-12 10:23:50.000000000,2021-04-12 10:23:50.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-11 16:01:05.000000000', 'files': ['charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/d82f0a4370f9a41ddb3ad22c9ca89ae65606ad7e', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: Id5ec1154770c87e18bb2a4244b22354c9d0edfc0\n""}]",0,785797,d82f0a4370f9a41ddb3ad22c9ca89ae65606ad7e,8,3,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: Id5ec1154770c87e18bb2a4244b22354c9d0edfc0
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/97/785797/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/core/host_factory/ubuntu.py'],1,d82f0a4370f9a41ddb3ad22c9ca89ae65606ad7e,hirsute-ch-sync-2104," 'groovy', 'hirsute',", 'groovy',2,1
openstack%2Fcharm-cinder~master~Ie7f45e3c6fe62deda81acde0107371697398153b,openstack/charm-cinder,master,Ie7f45e3c6fe62deda81acde0107371697398153b,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,MERGED,2021-04-11 15:51:48.000000000,2021-04-12 10:23:43.000000000,2021-04-12 10:23:43.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-11 15:51:48.000000000', 'files': ['charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/702b5dd6041f1e11a55777f419577d420e8218ca', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: Ie7f45e3c6fe62deda81acde0107371697398153b\n""}]",0,785776,702b5dd6041f1e11a55777f419577d420e8218ca,11,3,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: Ie7f45e3c6fe62deda81acde0107371697398153b
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/76/785776/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/core/host_factory/ubuntu.py'],1,702b5dd6041f1e11a55777f419577d420e8218ca,hirsute-ch-sync-2104," 'groovy', 'hirsute',", 'groovy',2,1
openstack%2Fcharm-swift-proxy~master~Iaa9a59f43531c6f0f03a73e003646ada7fdc7419,openstack/charm-swift-proxy,master,Iaa9a59f43531c6f0f03a73e003646ada7fdc7419,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,MERGED,2021-04-11 16:00:50.000000000,2021-04-12 10:23:15.000000000,2021-04-12 10:23:15.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-11 16:00:50.000000000', 'files': ['charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/4a1166dfd316969fa4b3001a033be21d9620991e', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: Iaa9a59f43531c6f0f03a73e003646ada7fdc7419\n""}]",0,785796,4a1166dfd316969fa4b3001a033be21d9620991e,8,3,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: Iaa9a59f43531c6f0f03a73e003646ada7fdc7419
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/96/785796/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/core/host_factory/ubuntu.py'],1,4a1166dfd316969fa4b3001a033be21d9620991e,hirsute-ch-sync-2104," 'groovy', 'hirsute',", 'groovy',2,1
openstack%2Fcharm-percona-cluster~master~Ia190032a975de9bd242c724e54407918be817bc5,openstack/charm-percona-cluster,master,Ia190032a975de9bd242c724e54407918be817bc5,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,MERGED,2021-04-11 16:00:14.000000000,2021-04-12 10:20:33.000000000,2021-04-12 10:20:33.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-11 16:00:14.000000000', 'files': ['charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/4f51930798ff9f5315b3e901e963380eb6ca5ab8', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: Ia190032a975de9bd242c724e54407918be817bc5\n""}]",0,785794,4f51930798ff9f5315b3e901e963380eb6ca5ab8,8,3,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: Ia190032a975de9bd242c724e54407918be817bc5
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/94/785794/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/core/host_factory/ubuntu.py'],1,4f51930798ff9f5315b3e901e963380eb6ca5ab8,hirsute-ch-sync-2104," 'groovy', 'hirsute',", 'groovy',2,1
openstack%2Fcharm-openstack-dashboard~master~I0a87d6014cb84576a511d8a1f82b03d441ac1c4e,openstack/charm-openstack-dashboard,master,I0a87d6014cb84576a511d8a1f82b03d441ac1c4e,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,MERGED,2021-04-11 15:59:25.000000000,2021-04-12 10:18:19.000000000,2021-04-12 10:18:19.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-11 15:59:25.000000000', 'files': ['charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/c5c8196566db9454e3151a1c547cf19e5344bfa0', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: I0a87d6014cb84576a511d8a1f82b03d441ac1c4e\n""}]",0,785793,c5c8196566db9454e3151a1c547cf19e5344bfa0,8,3,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: I0a87d6014cb84576a511d8a1f82b03d441ac1c4e
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/93/785793/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/core/host_factory/ubuntu.py'],1,c5c8196566db9454e3151a1c547cf19e5344bfa0,hirsute-ch-sync-2104," 'groovy', 'hirsute',", 'groovy',2,1
openstack%2Fcharm-ceph-mon~master~I89019b188806981b786a9fa9a292195b52078193,openstack/charm-ceph-mon,master,I89019b188806981b786a9fa9a292195b52078193,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,MERGED,2021-04-11 15:50:44.000000000,2021-04-12 10:13:54.000000000,2021-04-12 10:13:54.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-11 15:50:44.000000000', 'files': ['hooks/charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/e7aeaaf088eac7b8297c5cc8c6fef9b871a48198', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: I89019b188806981b786a9fa9a292195b52078193\n""}]",0,785772,e7aeaaf088eac7b8297c5cc8c6fef9b871a48198,8,3,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: I89019b188806981b786a9fa9a292195b52078193
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/72/785772/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/core/host_factory/ubuntu.py'],1,e7aeaaf088eac7b8297c5cc8c6fef9b871a48198,hirsute-ch-sync-2104," 'groovy', 'hirsute',", 'groovy',2,1
openstack%2Fcharm-nova-cloud-controller~master~I28452434a99bdd317eecaad65c49759605fa6e21,openstack/charm-nova-cloud-controller,master,I28452434a99bdd317eecaad65c49759605fa6e21,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,MERGED,2021-04-11 15:58:28.000000000,2021-04-12 10:13:34.000000000,2021-04-12 10:13:34.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-11 15:58:28.000000000', 'files': ['charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/77a1bee1f2703cca2c77327e96e55a9f264fc1ce', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: I28452434a99bdd317eecaad65c49759605fa6e21\n""}]",0,785791,77a1bee1f2703cca2c77327e96e55a9f264fc1ce,8,3,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: I28452434a99bdd317eecaad65c49759605fa6e21
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/91/785791/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/core/host_factory/ubuntu.py'],1,77a1bee1f2703cca2c77327e96e55a9f264fc1ce,hirsute-ch-sync-2104," 'groovy', 'hirsute',", 'groovy',2,1
openstack%2Fcharm-hacluster~master~If0848ffdc2d74b020e4be9d498745a5a0e4b7e92,openstack/charm-hacluster,master,If0848ffdc2d74b020e4be9d498745a5a0e4b7e92,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,MERGED,2021-04-11 15:53:39.000000000,2021-04-12 10:09:26.000000000,2021-04-12 10:09:26.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-11 15:53:39.000000000', 'files': ['charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/2a5a495457bb502086aae8c46b118f2dfc8cc001', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: If0848ffdc2d74b020e4be9d498745a5a0e4b7e92\n""}]",0,785782,2a5a495457bb502086aae8c46b118f2dfc8cc001,8,3,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: If0848ffdc2d74b020e4be9d498745a5a0e4b7e92
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/82/785782/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/core/host_factory/ubuntu.py'],1,2a5a495457bb502086aae8c46b118f2dfc8cc001,hirsute-ch-sync-2104," 'groovy', 'hirsute',", 'groovy',2,1
openstack%2Fcharm-nova-compute~master~I60b208bbf5a04a9ab598b76ff0cf7f8baf216cbb,openstack/charm-nova-compute,master,I60b208bbf5a04a9ab598b76ff0cf7f8baf216cbb,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,MERGED,2021-04-11 15:58:42.000000000,2021-04-12 10:07:07.000000000,2021-04-12 10:07:07.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-11 15:58:42.000000000', 'files': ['hooks/charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/75975ff917b2193140110081fc7df58ea1364f7e', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: I60b208bbf5a04a9ab598b76ff0cf7f8baf216cbb\n""}]",0,785792,75975ff917b2193140110081fc7df58ea1364f7e,8,3,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: I60b208bbf5a04a9ab598b76ff0cf7f8baf216cbb
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/92/785792/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/core/host_factory/ubuntu.py'],1,75975ff917b2193140110081fc7df58ea1364f7e,hirsute-ch-sync-2104," 'groovy', 'hirsute',", 'groovy',2,1
openstack%2Fcharm-cinder-ceph~master~Ica9283d49eb57e127471bdfa8847fa0ea37d580f,openstack/charm-cinder-ceph,master,Ica9283d49eb57e127471bdfa8847fa0ea37d580f,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,MERGED,2021-04-11 15:52:23.000000000,2021-04-12 10:06:24.000000000,2021-04-12 10:06:24.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-11 15:52:23.000000000', 'files': ['charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/5aa0f462b08b21306a8cf3203afd1a929968f8ab', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: Ica9283d49eb57e127471bdfa8847fa0ea37d580f\n""}]",0,785778,5aa0f462b08b21306a8cf3203afd1a929968f8ab,8,3,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: Ica9283d49eb57e127471bdfa8847fa0ea37d580f
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/78/785778/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/core/host_factory/ubuntu.py'],1,5aa0f462b08b21306a8cf3203afd1a929968f8ab,hirsute-ch-sync-2104," 'groovy', 'hirsute',", 'groovy',2,1
openstack%2Fcharm-glance~master~Ifbb9b9b3a796881a3759f01f67124544ba1ce626,openstack/charm-glance,master,Ifbb9b9b3a796881a3759f01f67124544ba1ce626,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,MERGED,2021-04-11 15:53:04.000000000,2021-04-12 10:04:17.000000000,2021-04-12 10:04:17.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-11 15:53:04.000000000', 'files': ['charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/6823beb7c3bce7d4e2449f906e77104308a817b7', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: Ifbb9b9b3a796881a3759f01f67124544ba1ce626\n""}]",0,785779,6823beb7c3bce7d4e2449f906e77104308a817b7,8,3,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: Ifbb9b9b3a796881a3759f01f67124544ba1ce626
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/79/785779/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/core/host_factory/ubuntu.py'],1,6823beb7c3bce7d4e2449f906e77104308a817b7,hirsute-ch-sync-2104," 'groovy', 'hirsute',", 'groovy',2,1
openstack%2Fcharm-keystone~master~I448a2a01152e733068ddb3a2d9ccca6cf8ba780e,openstack/charm-keystone,master,I448a2a01152e733068ddb3a2d9ccca6cf8ba780e,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,MERGED,2021-04-11 15:54:25.000000000,2021-04-12 10:04:04.000000000,2021-04-12 10:04:04.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-11 15:54:25.000000000', 'files': ['charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/836bd433cf10574b081f204307aa7fdec143d2c6', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: I448a2a01152e733068ddb3a2d9ccca6cf8ba780e\n""}]",0,785784,836bd433cf10574b081f204307aa7fdec143d2c6,8,3,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: I448a2a01152e733068ddb3a2d9ccca6cf8ba780e
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/84/785784/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/core/host_factory/ubuntu.py'],1,836bd433cf10574b081f204307aa7fdec143d2c6,hirsute-ch-sync-2104," 'groovy', 'hirsute',", 'groovy',2,1
openstack%2Fcharm-glance-simplestreams-sync~master~Idf0fe26c9c284054cbe6c51137c02964503c0c78,openstack/charm-glance-simplestreams-sync,master,Idf0fe26c9c284054cbe6c51137c02964503c0c78,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,MERGED,2021-04-11 15:53:17.000000000,2021-04-12 10:03:29.000000000,2021-04-12 10:03:29.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-11 15:53:17.000000000', 'files': ['charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/f60ec380c8e6545f56802e14d3532d0804be55f6', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: Idf0fe26c9c284054cbe6c51137c02964503c0c78\n""}]",0,785781,f60ec380c8e6545f56802e14d3532d0804be55f6,8,3,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: Idf0fe26c9c284054cbe6c51137c02964503c0c78
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/81/785781/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/core/host_factory/ubuntu.py'],1,f60ec380c8e6545f56802e14d3532d0804be55f6,hirsute-ch-sync-2104," 'groovy', 'hirsute',", 'groovy',2,1
openstack%2Fcharm-cinder-backup~master~Id1bcfc1518c241ba1545105f5b87c81eaee5760a,openstack/charm-cinder-backup,master,Id1bcfc1518c241ba1545105f5b87c81eaee5760a,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,MERGED,2021-04-11 15:52:01.000000000,2021-04-12 10:01:41.000000000,2021-04-12 10:01:41.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-11 15:52:01.000000000', 'files': ['hooks/charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/95d4d6cf9c868e52d93ccaebe148206007da1591', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: Id1bcfc1518c241ba1545105f5b87c81eaee5760a\n""}]",0,785777,95d4d6cf9c868e52d93ccaebe148206007da1591,8,3,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: Id1bcfc1518c241ba1545105f5b87c81eaee5760a
",git fetch https://review.opendev.org/openstack/charm-cinder-backup refs/changes/77/785777/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/core/host_factory/ubuntu.py'],1,95d4d6cf9c868e52d93ccaebe148206007da1591,hirsute-ch-sync-2104," 'groovy', 'hirsute',", 'groovy',2,1
openstack%2Fcharm-heat~master~I49901a38f32e8b5ec180c01be5940cd6731edf27,openstack/charm-heat,master,I49901a38f32e8b5ec180c01be5940cd6731edf27,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,MERGED,2021-04-11 15:53:52.000000000,2021-04-12 10:00:46.000000000,2021-04-12 10:00:46.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-11 15:53:52.000000000', 'files': ['hooks/charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/9e6a9679f5fa8eae2b4e5f8e49ba4159240a3163', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: I49901a38f32e8b5ec180c01be5940cd6731edf27\n""}]",0,785783,9e6a9679f5fa8eae2b4e5f8e49ba4159240a3163,8,3,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: I49901a38f32e8b5ec180c01be5940cd6731edf27
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/83/785783/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/core/host_factory/ubuntu.py'],1,9e6a9679f5fa8eae2b4e5f8e49ba4159240a3163,hirsute-ch-sync-2104," 'groovy', 'hirsute',", 'groovy',2,1
openstack%2Fcharm-ceilometer-agent~master~Ice7eb3dee63f319d2b534a72fd228853e3bad9bd,openstack/charm-ceilometer-agent,master,Ice7eb3dee63f319d2b534a72fd228853e3bad9bd,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,MERGED,2021-04-11 15:50:21.000000000,2021-04-12 09:57:29.000000000,2021-04-12 09:57:29.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-11 15:50:21.000000000', 'files': ['charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/3c12a8dbba0dd09c639331ffe3480e978263979d', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: Ice7eb3dee63f319d2b534a72fd228853e3bad9bd\n""}]",0,785771,3c12a8dbba0dd09c639331ffe3480e978263979d,8,3,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: Ice7eb3dee63f319d2b534a72fd228853e3bad9bd
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/71/785771/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/core/host_factory/ubuntu.py'],1,3c12a8dbba0dd09c639331ffe3480e978263979d,hirsute-ch-sync-2104," 'groovy', 'hirsute',", 'groovy',2,1
openstack%2Fcharm-ceph-radosgw~master~I8544b62b2c7e5f38488f564af57dbe815638bf32,openstack/charm-ceph-radosgw,master,I8544b62b2c7e5f38488f564af57dbe815638bf32,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,MERGED,2021-04-11 15:51:24.000000000,2021-04-12 09:56:51.000000000,2021-04-12 09:56:51.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-11 15:51:24.000000000', 'files': ['hooks/charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/73c096998bef87fc2bec58eaed7e947e0f8dd3a0', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: I8544b62b2c7e5f38488f564af57dbe815638bf32\n""}]",0,785775,73c096998bef87fc2bec58eaed7e947e0f8dd3a0,8,3,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: I8544b62b2c7e5f38488f564af57dbe815638bf32
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/75/785775/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/core/host_factory/ubuntu.py'],1,73c096998bef87fc2bec58eaed7e947e0f8dd3a0,hirsute-ch-sync-2104," 'groovy', 'hirsute',", 'groovy',2,1
openstack%2Fcharm-ceilometer~master~If531cb2c089b55763a37be179d8afa23b57a5f09,openstack/charm-ceilometer,master,If531cb2c089b55763a37be179d8afa23b57a5f09,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,MERGED,2021-04-11 15:50:08.000000000,2021-04-12 09:56:21.000000000,2021-04-12 09:56:21.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-11 15:50:08.000000000', 'files': ['charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/b662ee0db038614717adaebd77b1ce0201de2f7f', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: If531cb2c089b55763a37be179d8afa23b57a5f09\n""}]",0,785770,b662ee0db038614717adaebd77b1ce0201de2f7f,8,3,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: If531cb2c089b55763a37be179d8afa23b57a5f09
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/70/785770/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/core/host_factory/ubuntu.py'],1,b662ee0db038614717adaebd77b1ce0201de2f7f,hirsute-ch-sync-2104," 'groovy', 'hirsute',", 'groovy',2,1
openstack%2Fcharm-ceph-proxy~master~I75107c4fd927f95eb3778b65a2172b0268390feb,openstack/charm-ceph-proxy,master,I75107c4fd927f95eb3778b65a2172b0268390feb,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,MERGED,2021-04-11 15:51:11.000000000,2021-04-12 09:56:13.000000000,2021-04-12 09:56:13.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-11 15:51:11.000000000', 'files': ['charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/284ec35c8df5e5a0f385af4406f6f29b95d10d70', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: I75107c4fd927f95eb3778b65a2172b0268390feb\n""}]",0,785774,284ec35c8df5e5a0f385af4406f6f29b95d10d70,8,3,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: I75107c4fd927f95eb3778b65a2172b0268390feb
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/74/785774/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/core/host_factory/ubuntu.py'],1,284ec35c8df5e5a0f385af4406f6f29b95d10d70,hirsute-ch-sync-2104," 'groovy', 'hirsute',", 'groovy',2,1
openstack%2Fcharm-ceph-osd~master~I66384babf597072499799c0b3aaff00fedbe69a0,openstack/charm-ceph-osd,master,I66384babf597072499799c0b3aaff00fedbe69a0,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,MERGED,2021-04-11 15:50:58.000000000,2021-04-12 09:55:36.000000000,2021-04-12 09:55:36.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-11 15:50:58.000000000', 'files': ['hooks/charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/ddaeb604e747337f1ea7e8ea508a8a0d58a3d5ce', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: I66384babf597072499799c0b3aaff00fedbe69a0\n""}]",0,785773,ddaeb604e747337f1ea7e8ea508a8a0d58a3d5ce,8,3,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: I66384babf597072499799c0b3aaff00fedbe69a0
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/73/785773/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/core/host_factory/ubuntu.py'],1,ddaeb604e747337f1ea7e8ea508a8a0d58a3d5ce,hirsute-ch-sync-2104," 'groovy', 'hirsute',", 'groovy',2,1
openstack%2Fcharm-magnum~master~I88db758b8cd95ab3f529f03bb802d283ac8c1f7e,openstack/charm-magnum,master,I88db758b8cd95ab3f529f03bb802d283ac8c1f7e,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,ABANDONED,2021-04-11 15:55:14.000000000,2021-04-12 09:54:37.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-11 15:55:14.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-magnum/commit/086e5f6d8f9d221ea249aba02e9e060914e8278c', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: I88db758b8cd95ab3f529f03bb802d283ac8c1f7e\n""}]",0,785785,086e5f6d8f9d221ea249aba02e9e060914e8278c,4,2,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: I88db758b8cd95ab3f529f03bb802d283ac8c1f7e
",git fetch https://review.opendev.org/openstack/charm-magnum refs/changes/85/785785/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,086e5f6d8f9d221ea249aba02e9e060914e8278c,hirsute-ch-sync-2104,"# This file is used to trigger rebuilds # when dependencies of the charm change, # but nothing in the charm needs to. # simply change the uuid to something new f96a596c-9a99-11eb-8135-5fe67ae7d95d ",,5,0
openstack%2Fcharm-manila-dashboard~master~If33e600871eb745401db264ae6f35f1d11c4d78c,openstack/charm-manila-dashboard,master,If33e600871eb745401db264ae6f35f1d11c4d78c,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,ABANDONED,2021-04-11 15:55:50.000000000,2021-04-12 09:53:51.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-11 15:55:50.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-manila-dashboard/commit/3eb40d1d53825ca105ea2771da1718b353c6f2ff', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: If33e600871eb745401db264ae6f35f1d11c4d78c\n""}]",0,785787,3eb40d1d53825ca105ea2771da1718b353c6f2ff,4,2,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: If33e600871eb745401db264ae6f35f1d11c4d78c
",git fetch https://review.opendev.org/openstack/charm-manila-dashboard refs/changes/87/785787/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,3eb40d1d53825ca105ea2771da1718b353c6f2ff,hirsute-ch-sync-2104,"# This file is used to trigger rebuilds # when dependencies of the charm change, # but nothing in the charm needs to. # simply change the uuid to something new f9756104-9a99-11eb-aa78-cf6b8d2e4243 ",,5,0
openstack%2Fcharm-magnum-dashboard~master~Iaa548b0629cb134b1885b709a7231da09f3118ce,openstack/charm-magnum-dashboard,master,Iaa548b0629cb134b1885b709a7231da09f3118ce,21.04 sync - add 'hirsute' in UBUNTU_RELEASES,ABANDONED,2021-04-11 15:55:27.000000000,2021-04-12 09:53:18.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-11 15:55:27.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-magnum-dashboard/commit/09de47b56816b6d42c914585999cc4752d6c1901', 'message': ""21.04 sync - add 'hirsute' in UBUNTU_RELEASES\n\nThe 'hirsute' key in c-h/core/host_factory/ubuntu.py:\nUBUNTU_RELEASES had been missed out, and is needed for\nhirsute support in many of the charms.  This sync is to\nadd just that key.  See also [1]\n\nNote that this sync is only for classic charms.\n\n[1] https://github.com/juju/charm-helpers/pull/598\n\nChange-Id: Iaa548b0629cb134b1885b709a7231da09f3118ce\n""}]",0,785786,09de47b56816b6d42c914585999cc4752d6c1901,4,2,1,20870,,,0,"21.04 sync - add 'hirsute' in UBUNTU_RELEASES

The 'hirsute' key in c-h/core/host_factory/ubuntu.py:
UBUNTU_RELEASES had been missed out, and is needed for
hirsute support in many of the charms.  This sync is to
add just that key.  See also [1]

Note that this sync is only for classic charms.

[1] https://github.com/juju/charm-helpers/pull/598

Change-Id: Iaa548b0629cb134b1885b709a7231da09f3118ce
",git fetch https://review.opendev.org/openstack/charm-magnum-dashboard refs/changes/86/785786/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,09de47b56816b6d42c914585999cc4752d6c1901,hirsute-ch-sync-2104,"# This file is used to trigger rebuilds # when dependencies of the charm change, # but nothing in the charm needs to. # simply change the uuid to something new f96d31dc-9a99-11eb-8156-fb319ab248e0 ",,5,0
openstack%2Fdesignate-tempest-plugin~master~I6f01109a36224bf184cf7d73ff8ad98db97f4c32,openstack/designate-tempest-plugin,master,I6f01109a36224bf184cf7d73ff8ad98db97f4c32,New test cases for unicode type TLD,NEW,2021-03-09 18:41:48.000000000,2021-04-12 09:17:21.000000000,,"[{'_account_id': 6994}, {'_account_id': 13252}, {'_account_id': 15025}, {'_account_id': 18894}, {'_account_id': 22348}, {'_account_id': 28609}, {'_account_id': 29681}]","[{'number': 1, 'created': '2021-03-09 18:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/67b337010bd6e258243a7aad5b3ef1ae6257a154', 'message': 'Create TLD using unicode name\n\nChange-Id: I6f01109a36224bf184cf7d73ff8ad98db97f4c32\n'}, {'number': 2, 'created': '2021-03-09 20:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/64b1bf4b9d635a0e648dd7ad319faa7ff6996b94', 'message': 'Create TLD using unicode name\n\nChange-Id: I6f01109a36224bf184cf7d73ff8ad98db97f4c32\n'}, {'number': 3, 'created': '2021-03-15 09:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/488296d9c45a727fd7b6197ae299ff65b011445f', 'message': 'New test cases for unicode type TLD\n1) Create unicode TLD\n2) Update TLD:\n   From ""ascii"" TLD to ""unicode"" TLD\n   From ""unicode"" TLD to ""unicode"" TLD\n3) Show unicode TLD\n\nChange-Id: I6f01109a36224bf184cf7d73ff8ad98db97f4c32\n'}, {'number': 4, 'created': '2021-03-15 11:05:32.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_tld.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/a3722bad9e7bfdc7f2950504cfbb42c79e8f5f77', 'message': 'New test cases for unicode type TLD\n\n1) Create unicode TLD\n2) Update TLD:\n   From ""ascii"" TLD to ""unicode"" TLD\n   From ""unicode"" TLD to ""unicode"" TLD\n3) Show unicode TLD\n\nChange-Id: I6f01109a36224bf184cf7d73ff8ad98db97f4c32\n'}]",0,779558,a3722bad9e7bfdc7f2950504cfbb42c79e8f5f77,14,7,4,28609,,,0,"New test cases for unicode type TLD

1) Create unicode TLD
2) Update TLD:
   From ""ascii"" TLD to ""unicode"" TLD
   From ""unicode"" TLD to ""unicode"" TLD
3) Show unicode TLD

Change-Id: I6f01109a36224bf184cf7d73ff8ad98db97f4c32
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/58/779558/1 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/tests/api/v2/test_tld.py'],1,67b337010bd6e258243a7aad5b3ef1ae6257a154,unicode_tld,"# -*- coding: utf-8 -*- @decorators.idempotent_id('e3bd6cd0-80b3-11eb-a048-74e5f9e2a801') def test_create_unicode_tld(self): tld_data = { ""name"": '例え'.encode('utf-8'), ""description"": ""sample tld""} LOG.info('Create a tld') _, tld = self.admin_client.create_tld(tld_data['name'], tld_data['description']) self.addCleanup(self.admin_client.delete_tld, tld['id']) self.assertEqual(tld_data[""name""], tld['name']) ",,14,1
openstack%2Fgrenade~stable%2Ftrain~I602a17cf08a68d1a2fa2be7426ee24c81d980cfa,openstack/grenade,stable/train,I602a17cf08a68d1a2fa2be7426ee24c81d980cfa,WIP: Fix upper-constrain path for smoke test,ABANDONED,2021-04-09 20:38:05.000000000,2021-04-12 09:11:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-09 20:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/4708ac2579925f16d43906828508107336a4f5d2', 'message': 'WIP: Fix upper-constrain path for smoke test\n\nIn nova- and neutron-grenade jobs the TEMPEST_VENV_UPPER_CONSTRAINTS\npoints to non-existent upper constraint file:\n/opt/stack/requirements/upper-constraints.txt instead of\n/opt/stack/old/requirements/upper-constraints.txt.\n\nChange-Id: I602a17cf08a68d1a2fa2be7426ee24c81d980cfa\n'}, {'number': 2, 'created': '2021-04-09 21:38:41.000000000', 'files': ['grenade.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/dd7b5b0550e79331d9e7bd09dc678d2a4780eb73', 'message': 'WIP: Fix upper-constrain path for smoke test\n\nIn nova- and neutron-grenade jobs the TEMPEST_VENV_UPPER_CONSTRAINTS\npoints to non-existent upper constraint file:\n/opt/stack/requirements/upper-constraints.txt instead of\n/opt/stack/old/requirements/upper-constraints.txt.\n\nChange-Id: I602a17cf08a68d1a2fa2be7426ee24c81d980cfa\n'}]",0,785730,dd7b5b0550e79331d9e7bd09dc678d2a4780eb73,4,1,2,17685,,,0,"WIP: Fix upper-constrain path for smoke test

In nova- and neutron-grenade jobs the TEMPEST_VENV_UPPER_CONSTRAINTS
points to non-existent upper constraint file:
/opt/stack/requirements/upper-constraints.txt instead of
/opt/stack/old/requirements/upper-constraints.txt.

Change-Id: I602a17cf08a68d1a2fa2be7426ee24c81d980cfa
",git fetch https://review.opendev.org/openstack/grenade refs/changes/30/785730/2 && git format-patch -1 --stdout FETCH_HEAD,['grenade.sh'],1,4708ac2579925f16d43906828508107336a4f5d2,standardize-tempest-tox-constraints," if [[ -f ""$TEMPEST_VENV_UPPER_CONSTRAINTS"" ]]; then echo ""Using $TEMPEST_VENV_UPPER_CONSTRAINTS constraints in Tempest virtual env."" # NOTE: setting both tox env var and once Tempest start using new var # TOX_CONSTRAINTS_FILE then we can remove the old one. export UPPER_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS export TOX_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS else echo ""Using $DEST/requirements/upper-constraints.txt constraints in Tempest virtual env."" # NOTE: setting both tox env var and once Tempest start using new var # TOX_CONSTRAINTS_FILE then we can remove the old one. export UPPER_CONSTRAINTS_FILE=$DEST/requirements/upper-constraints.txt export TOX_CONSTRAINTS_FILE=$UPPER_CONSTRAINTS_FILE fi"," echo ""Using $TEMPEST_VENV_UPPER_CONSTRAINTS constraints in Tempest virtual env."" # NOTE: setting both tox env var and once Tempest start using new var # TOX_CONSTRAINTS_FILE then we can remove the old one. export UPPER_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS export TOX_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS",13,5
openstack%2Fgrenade~master~I602a17cf08a68d1a2fa2be7426ee24c81d980cfa,openstack/grenade,master,I602a17cf08a68d1a2fa2be7426ee24c81d980cfa,Fix upper-constraints path for smoke test,ABANDONED,2021-04-10 07:23:28.000000000,2021-04-12 09:10:35.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-10 07:23:28.000000000', 'files': ['grenade.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/4ae701b39cdb7c85762366933770197627894ea5', 'message': 'Fix upper-constraints path for smoke test\n\nIn nova- and neutron-grenade jobs the TEMPEST_VENV_UPPER_CONSTRAINTS\nsometimes points to non-existent upper constraint file:\n/opt/stack/requirements/upper-constraints.txt instead of\n/opt/stack/old/requirements/upper-constraints.txt.\n\nTEMPEST_VENV_UPPER_CONSTRAINTS is set with the correct value (with\n/opt/stack/old in it), but somehow it changes in some grenade jobs.\nThis patch adds a workaround to ensure that we use an existent upper\nconstraints file.\n\nChange-Id: I602a17cf08a68d1a2fa2be7426ee24c81d980cfa\n'}]",0,785747,4ae701b39cdb7c85762366933770197627894ea5,8,3,1,17685,,,0,"Fix upper-constraints path for smoke test

In nova- and neutron-grenade jobs the TEMPEST_VENV_UPPER_CONSTRAINTS
sometimes points to non-existent upper constraint file:
/opt/stack/requirements/upper-constraints.txt instead of
/opt/stack/old/requirements/upper-constraints.txt.

TEMPEST_VENV_UPPER_CONSTRAINTS is set with the correct value (with
/opt/stack/old in it), but somehow it changes in some grenade jobs.
This patch adds a workaround to ensure that we use an existent upper
constraints file.

Change-Id: I602a17cf08a68d1a2fa2be7426ee24c81d980cfa
",git fetch https://review.opendev.org/openstack/grenade refs/changes/47/785747/1 && git format-patch -1 --stdout FETCH_HEAD,['grenade.sh'],1,4ae701b39cdb7c85762366933770197627894ea5,standardize-tempest-tox-constraints," if [[ -f ""$TEMPEST_VENV_UPPER_CONSTRAINTS"" ]]; then export TOX_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS else echo ""$TEMPEST_VENV_UPPER_CONSTRAINTS does not exist."" export TOX_CONSTRAINTS_FILE=$BASE_RELEASE_DIR/requirements/upper-constraints.txt fi echo ""Using $TOX_CONSTRAINTS_FILE constraints in Tempest virtual env."" export UPPER_CONSTRAINTS_FILE=$TOX_CONSTRAINTS_FILE"," echo ""Using $TEMPEST_VENV_UPPER_CONSTRAINTS constraints in Tempest virtual env."" export UPPER_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS export TOX_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS",8,3
openstack%2Ftripleo-common~master~I2cc79caeabd9d1b85f54320a83e5f36a64003303,openstack/tripleo-common,master,I2cc79caeabd9d1b85f54320a83e5f36a64003303,Don't install dhcp-all-interfaces for redhat 8 onwards,MERGED,2021-03-23 21:50:52.000000000,2021-04-12 08:54:36.000000000,2021-04-12 08:52:57.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-23 21:50:52.000000000', 'files': ['image-yaml/overcloud-hardened-images-uefi-rhel7.yaml', 'image-yaml/overcloud-images-centos7.yaml', 'image-yaml/overcloud-images-python3.yaml', 'image-yaml/overcloud-realtime-compute.yaml', 'image-yaml/overcloud-realtime-compute-rhel7.yaml', 'image-yaml/overcloud-hardened-images-python3-rt-kernel.yaml', 'image-yaml/overcloud-images-rhel7.yaml', 'image-yaml/overcloud-hardened-images-uefi-centos7.yaml', 'image-yaml/overcloud-hardened-images-rhel7.yaml', 'image-yaml/overcloud-hardened-images-uefi.yaml', 'image-yaml/overcloud-hardened-images-centos7.yaml', 'image-yaml/overcloud-hardened-images-python3.yaml', 'image-yaml/overcloud-images-ceph.yaml', 'image-yaml/overcloud-realtime-compute-centos7.yaml', 'image-yaml/overcloud-hardened-images-uefi-python3.yaml', 'image-yaml/overcloud-hardened-images.yaml', 'image-yaml/overcloud-images.yaml', 'image-yaml/overcloud-realtime-compute-python3.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/af9329599bec35e241db8466ec172e7d498ad6ea', 'message': ""Don't install dhcp-all-interfaces for redhat 8 onwards\n\nThis element was needed for centos-7 and earlier because by default\nonly the first interface had dhcp enabled. This is no longer the case\nwith centos-8, every interface has dhcp enabled. Additionally this\nelement is causing issues in some environments.\n\nThis change removes the element from all *-8 images since it no longer\nserves a useful purpose and is causing problems in some cases.\n\nChange-Id: I2cc79caeabd9d1b85f54320a83e5f36a64003303\n""}]",1,782616,af9329599bec35e241db8466ec172e7d498ad6ea,15,6,1,4571,,,0,"Don't install dhcp-all-interfaces for redhat 8 onwards

This element was needed for centos-7 and earlier because by default
only the first interface had dhcp enabled. This is no longer the case
with centos-8, every interface has dhcp enabled. Additionally this
element is causing issues in some environments.

This change removes the element from all *-8 images since it no longer
serves a useful purpose and is causing problems in some cases.

Change-Id: I2cc79caeabd9d1b85f54320a83e5f36a64003303
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/16/782616/1 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-hardened-images-uefi-rhel7.yaml', 'image-yaml/overcloud-images-centos7.yaml', 'image-yaml/overcloud-images-python3.yaml', 'image-yaml/overcloud-realtime-compute.yaml', 'image-yaml/overcloud-realtime-compute-rhel7.yaml', 'image-yaml/overcloud-hardened-images-python3-rt-kernel.yaml', 'image-yaml/overcloud-images-rhel7.yaml', 'image-yaml/overcloud-hardened-images-uefi-centos7.yaml', 'image-yaml/overcloud-hardened-images-rhel7.yaml', 'image-yaml/overcloud-hardened-images-uefi.yaml', 'image-yaml/overcloud-hardened-images-centos7.yaml', 'image-yaml/overcloud-hardened-images-python3.yaml', 'image-yaml/overcloud-images-ceph.yaml', 'image-yaml/overcloud-realtime-compute-centos7.yaml', 'image-yaml/overcloud-hardened-images-uefi-python3.yaml', 'image-yaml/overcloud-hardened-images.yaml', 'image-yaml/overcloud-images.yaml', 'image-yaml/overcloud-realtime-compute-python3.yaml']",18,af9329599bec35e241db8466ec172e7d498ad6ea,no-all-dhcp,, - dhcp-all-interfaces,12,10
openstack%2Ftripleo-validations~master~I8fd99f5eceae76b938a5685513c3cf641d82a8d2,openstack/tripleo-validations,master,I8fd99f5eceae76b938a5685513c3cf641d82a8d2,check-ram is not compat w/ upstream,MERGED,2021-04-09 19:47:28.000000000,2021-04-12 08:52:19.000000000,2021-04-12 08:52:19.000000000,"[{'_account_id': 9592}, {'_account_id': 16515}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-09 19:47:28.000000000', 'files': ['roles/tripleo_validations/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/36b5c707e6b89563f0cefdd5dd27bd3808a3771a', 'message': 'check-ram is not compat w/ upstream\n\nA new check should be added for 8gb\nperhaps call it upstream-check-ram\n\nChange-Id: I8fd99f5eceae76b938a5685513c3cf641d82a8d2\n'}]",0,785722,36b5c707e6b89563f0cefdd5dd27bd3808a3771a,8,3,1,9592,,,0,"check-ram is not compat w/ upstream

A new check should be added for 8gb
perhaps call it upstream-check-ram

Change-Id: I8fd99f5eceae76b938a5685513c3cf641d82a8d2
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/22/785722/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo_validations/vars/main.yml'],1,36b5c707e6b89563f0cefdd5dd27bd3808a3771a,,, - check-ram,0,1
openstack%2Fcloudkitty~master~I29425f7195738023df30d3518880e12233b29ad3,openstack/cloudkitty,master,I29425f7195738023df30d3518880e12233b29ad3,Add release note for admin_or_owner policy fix,MERGED,2021-04-09 10:49:06.000000000,2021-04-12 08:50:45.000000000,2021-04-12 08:49:10.000000000,"[{'_account_id': 7042}, {'_account_id': 16532}, {'_account_id': 18279}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 25277}, {'_account_id': 28356}, {'_account_id': 29503}]","[{'number': 1, 'created': '2021-04-09 10:49:06.000000000', 'files': ['releasenotes/notes/admin-or-owner-policy-c666346da4405d13.yaml'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/cda1aef73096c8ef60071dbf3f58471a1400e71f', 'message': 'Add release note for admin_or_owner policy fix\n\nChange-Id: I29425f7195738023df30d3518880e12233b29ad3\n'}]",0,785616,cda1aef73096c8ef60071dbf3f58471a1400e71f,9,10,1,15197,,,0,"Add release note for admin_or_owner policy fix

Change-Id: I29425f7195738023df30d3518880e12233b29ad3
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/16/785616/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/admin-or-owner-policy-c666346da4405d13.yaml'],1,cda1aef73096c8ef60071dbf3f58471a1400e71f,,"--- fixes: - | Fix the definition of the ``admin_or_owner`` policy expression, which was preventing even admins from using the ``get_summary`` endpoint with ``all_tenants=True`` or ``tenant_id`` parameters. ",,6,0
openstack%2Fgrenade~stable%2Ftrain~I66b5d128c3dbe51289410760ea1cbf7f61c55c2f,openstack/grenade,stable/train,I66b5d128c3dbe51289410760ea1cbf7f61c55c2f,Configure the Tempest venv upper constraints properly,MERGED,2021-04-05 22:04:56.000000000,2021-04-12 08:50:21.000000000,2021-04-08 10:15:32.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-05 22:04:56.000000000', 'files': ['grenade.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/bd8a388a8cdfa5d07d8c98c272103598e06e5ca5', 'message': 'Configure the Tempest venv upper constraints properly\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\ngrenade run smoke test on old devstack and if old devstack does not\nuse the master constraints for Tempest then we need to take care of\nthe same while running the tests too otherwise, it will end up recreating\nthe Tempest venv and flush the already installed tempest plugins\nand their deps.\n\nThis commit set the compatible upper constraint\naccording to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is\nwhat used in devstack while creating the Tempest venv and install\ntempest plugins in that venv.\n\nCloses-Bug: 1922597\nChange-Id: I66b5d128c3dbe51289410760ea1cbf7f61c55c2f\n(cherry picked from commit 8f7941259651e59320ffd29563e40c2d71b05a1e)\n(cherry picked from commit 6919902f4cb6c26b48712da80c389041c5af7dd3)\n(cherry picked from commit 4d787525ae0d48806f27fe0ef3db134c4cf033bf)\n(cherry picked from commit 96dfc83c1cea5f6754a75d8b25a9c70bf25e4516)\n'}]",0,784859,bd8a388a8cdfa5d07d8c98c272103598e06e5ca5,9,3,1,8556,,,0,"Configure the Tempest venv upper constraints properly

We use Tempest master for testing the supported stable
branches, so using master upper constraints works fine for
such master or stable branch testing, but when we need to
use old Tempest in the below cases then master upper constraints
do not work for Tempest venv:
- Testing Extended Maintenance branch
- Testing py2.7 jobs until stable/train with in-tree tempest plugins

grenade run smoke test on old devstack and if old devstack does not
use the master constraints for Tempest then we need to take care of
the same while running the tests too otherwise, it will end up recreating
the Tempest venv and flush the already installed tempest plugins
and their deps.

This commit set the compatible upper constraint
according to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is
what used in devstack while creating the Tempest venv and install
tempest plugins in that venv.

Closes-Bug: 1922597
Change-Id: I66b5d128c3dbe51289410760ea1cbf7f61c55c2f
(cherry picked from commit 8f7941259651e59320ffd29563e40c2d71b05a1e)
(cherry picked from commit 6919902f4cb6c26b48712da80c389041c5af7dd3)
(cherry picked from commit 4d787525ae0d48806f27fe0ef3db134c4cf033bf)
(cherry picked from commit 96dfc83c1cea5f6754a75d8b25a9c70bf25e4516)
",git fetch https://review.opendev.org/openstack/grenade refs/changes/59/784859/1 && git format-patch -1 --stdout FETCH_HEAD,['grenade.sh'],1,bd8a388a8cdfa5d07d8c98c272103598e06e5ca5,standardize-tempest-tox-constraints,"source $BASE_DEVSTACK_DIR/stackrc # NOTE(gmann): If gate explicitly set the non master # constraints to use for Tempest venv then use the same # while running the tests too otherwise, it will recreate # the Tempest venv due to constraints mismatch. # recreation of Tempest venv can flush the initially installed # tempest plugins and their deps. if [[ ""$TEMPEST_VENV_UPPER_CONSTRAINTS"" != ""master"" ]]; then echo ""Using $TEMPEST_VENV_UPPER_CONSTRAINTS constraints in Tempest virtual env."" # NOTE: setting both tox env var and once Tempest start using new var # TOX_CONSTRAINTS_FILE then we can remove the old one. export UPPER_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS export TOX_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS fi",,16,0
openstack%2Fgrenade~master~I66b5d128c3dbe51289410760ea1cbf7f61c55c2f,openstack/grenade,master,I66b5d128c3dbe51289410760ea1cbf7f61c55c2f,Configure the Tempest venv upper constraints properly,MERGED,2021-04-05 18:07:19.000000000,2021-04-12 08:50:14.000000000,2021-04-08 10:07:56.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-05 18:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/4232801e6970c13a161079ee12a2eeb84e510c60', 'message': 'Configure the Tempest venv upper constraints properly\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\ngrenade run smoke test on old devstack and if old devstack does not\nuse the master constraints for Tempest then we need to take care of\nthe same while running the tests too otherwise, it will end up recreating\nthe Tempest venv and flush the already installed tempest plugins\nand their deps.\n\nThis commit set the compatible upper constraint\naccording to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is\nwhat used in devstack while creating the Tempest venv and install\ntempest plugins in that venv.\n\nChange-Id: I66b5d128c3dbe51289410760ea1cbf7f61c55c2f\n'}, {'number': 2, 'created': '2021-04-05 18:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/0227e951a0f3360b620680f84d2d62b8b8e977b4', 'message': 'Configure the Tempest venv upper constraints properly\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\ngrenade run smoke test on old devstack and if old devstack does not\nuse the master constraints for Tempest then we need to take care of\nthe same while running the tests too otherwise, it will end up recreating\nthe Tempest venv and flush the already installed tempest plugins\nand their deps.\n\nThis commit set the compatible upper constraint\naccording to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is\nwhat used in devstack while creating the Tempest venv and install\ntempest plugins in that venv.\n\nChange-Id: I66b5d128c3dbe51289410760ea1cbf7f61c55c2f\n'}, {'number': 3, 'created': '2021-04-05 19:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/d691e34be531477d074dff3e4f8b0ffbf8fd3cd9', 'message': 'Configure the Tempest venv upper constraints properly\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\ngrenade run smoke test on old devstack and if old devstack does not\nuse the master constraints for Tempest then we need to take care of\nthe same while running the tests too otherwise, it will end up recreating\nthe Tempest venv and flush the already installed tempest plugins\nand their deps.\n\nThis commit set the compatible upper constraint\naccording to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is\nwhat used in devstack while creating the Tempest venv and install\ntempest plugins in that venv.\n\nChange-Id: I66b5d128c3dbe51289410760ea1cbf7f61c55c2f\n'}, {'number': 4, 'created': '2021-04-05 21:54:40.000000000', 'files': ['grenade.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/8f7941259651e59320ffd29563e40c2d71b05a1e', 'message': 'Configure the Tempest venv upper constraints properly\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\ngrenade run smoke test on old devstack and if old devstack does not\nuse the master constraints for Tempest then we need to take care of\nthe same while running the tests too otherwise, it will end up recreating\nthe Tempest venv and flush the already installed tempest plugins\nand their deps.\n\nThis commit set the compatible upper constraint\naccording to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is\nwhat used in devstack while creating the Tempest venv and install\ntempest plugins in that venv.\n\nCloses-Bug: 1922597\nChange-Id: I66b5d128c3dbe51289410760ea1cbf7f61c55c2f\n'}]",0,784809,8f7941259651e59320ffd29563e40c2d71b05a1e,20,4,4,8556,,,0,"Configure the Tempest venv upper constraints properly

We use Tempest master for testing the supported stable
branches, so using master upper constraints works fine for
such master or stable branch testing, but when we need to
use old Tempest in the below cases then master upper constraints
do not work for Tempest venv:
- Testing Extended Maintenance branch
- Testing py2.7 jobs until stable/train with in-tree tempest plugins

grenade run smoke test on old devstack and if old devstack does not
use the master constraints for Tempest then we need to take care of
the same while running the tests too otherwise, it will end up recreating
the Tempest venv and flush the already installed tempest plugins
and their deps.

This commit set the compatible upper constraint
according to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is
what used in devstack while creating the Tempest venv and install
tempest plugins in that venv.

Closes-Bug: 1922597
Change-Id: I66b5d128c3dbe51289410760ea1cbf7f61c55c2f
",git fetch https://review.opendev.org/openstack/grenade refs/changes/09/784809/4 && git format-patch -1 --stdout FETCH_HEAD,['grenade.sh'],1,4232801e6970c13a161079ee12a2eeb84e510c60,standardize-tempest-tox-constraints," # NOTE(gmann): If gate explicitly set the non master # constraints to use for Tempest venv then use the same # while running the tests too otherwise, it will recreate # the Tempest venv due to constraints mismatch. # recreation of Tempest venv can flush the initially installed # tempest plugins and their deps. if [[ ""$TEMPEST_VENV_UPPER_CONSTRAINTS"" != ""master"" ]]; then echo ""Using $TEMPEST_VENV_UPPER_CONSTRAINTS constraints in Tempest virtual env."" # NOTE: setting both tox env var and once Tempest start using new var # TOX_CONSTRAINTS_FILE then we can remove the old one. export UPPER_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS export TOX_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS fi",,14,0
openstack%2Freleases~master~Ic1179b0f4173fc05b7e4f3238d4aa6c88d9df5df,openstack/releases,master,Ic1179b0f4173fc05b7e4f3238d4aa6c88d9df5df,Release horizon 19.2.0 (wallaby),MERGED,2021-04-09 15:03:49.000000000,2021-04-12 08:47:49.000000000,2021-04-12 08:47:49.000000000,"[{'_account_id': 308}, {'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-04-09 15:03:49.000000000', 'files': ['deliverables/wallaby/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6b4aa41d7bbdfae404504313bae74ba7a94e6942', 'message': 'Release horizon 19.2.0 (wallaby)\n\nThe minor version is bumped from the following two reasons:\n* we have changes in requirements.txt\n* we have two user visible changes (commit bb2a4bb3c and cd16b4079)\n\nChange-Id: Ic1179b0f4173fc05b7e4f3238d4aa6c88d9df5df\n'}]",0,785659,6b4aa41d7bbdfae404504313bae74ba7a94e6942,10,6,1,841,,,0,"Release horizon 19.2.0 (wallaby)

The minor version is bumped from the following two reasons:
* we have changes in requirements.txt
* we have two user visible changes (commit bb2a4bb3c and cd16b4079)

Change-Id: Ic1179b0f4173fc05b7e4f3238d4aa6c88d9df5df
",git fetch https://review.opendev.org/openstack/releases refs/changes/59/785659/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/horizon.yaml'],1,6b4aa41d7bbdfae404504313bae74ba7a94e6942,horizon-wallaby, - version: 19.2.0 projects: - repo: openstack/horizon hash: 6f3a66ab361982dcc2dff654f7b7ab12326abddf,,4,0
openstack%2Freleases~master~I765e74b15e1f8fc6e45fb90662d04464faf17640,openstack/releases,master,I765e74b15e1f8fc6e45fb90662d04464faf17640,Improve R-3 and R-2 documentation,MERGED,2021-03-31 14:11:26.000000000,2021-04-12 08:47:44.000000000,2021-04-12 08:47:44.000000000,"[{'_account_id': 308}, {'_account_id': 8556}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-31 14:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b804fcc0d4f094f5591ff6d9776867a730657450', 'message': 'Improve R-2 documentation\n\nSome tasks of R-2 aren\'t crystal clear about the expected state of the\nseries branching.\n\nSome commands are more or less duplicated and inefficient.\n\nIndeed, the QA PTL should be ""reminded"" once branching is done but the\nchecks are made after. Also we previous version of this doc was using\ntwo commands who are more or less similar, however, one of them doesn\'t\ncaught the `cycle-with-intermediary` deliverables and also doesn\'t ignore\ntrailing projects (branching isn\'t mandatory at this point for them).\n\nThese changes remove the duplicated commands and prefer to use the\nbetter one.\n\nThese changes reorder steps to ""remind"" people at the right time and when\nall prerequisite are there.\n\nChange-Id: I765e74b15e1f8fc6e45fb90662d04464faf17640\n'}, {'number': 2, 'created': '2021-04-01 10:39:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d310c654171152f1a57607673308d7ba076b7457', 'message': 'Improve R-3 and R-2 documentation\n\nBranching the devstack-plugin-* is missing since 2 cycles\n(victoria/wallaby), these changes add a related task at R-3 to\nensure to not miss them anymore.\n\nSome tasks of R-2 aren\'t crystal clear about the expected state of the\nseries branching.\n\nSome commands are more or less duplicated and inefficient.\n\nIndeed, the QA PTL should be ""reminded"" once branching is done but the\nchecks are made after. Also we previous version of this doc was using\ntwo commands who are more or less similar, however, one of them doesn\'t\ncaught the `cycle-with-intermediary` deliverables and also doesn\'t ignore\ntrailing projects (branching isn\'t mandatory at this point for them).\n\nThese changes remove the duplicated commands and prefer to use the\nbetter one.\n\nThese changes reorder steps to ""remind"" people at the right time and when\nall prerequisite are there.\n\nChange-Id: I765e74b15e1f8fc6e45fb90662d04464faf17640\n'}, {'number': 3, 'created': '2021-04-01 10:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/653f9423759179b342816762e2171e8fb62f44e8', 'message': 'Improve R-3 and R-2 documentation\n\nBranching the devstack-plugin-* is missing since 2 cycles\n(victoria/wallaby), these changes add a related task at R-3 to\nensure to not miss them anymore.\n\nSome tasks of R-2 aren\'t crystal clear about the expected state of the\nseries branching.\n\nSome commands are more or less duplicated and inefficient.\n\nIndeed, the QA PTL should be ""reminded"" once branching is done but the\nchecks are made after. Also we previous version of this doc was using\ntwo commands who are more or less similar, however, one of them doesn\'t\ncaught the `cycle-with-intermediary` deliverables and also doesn\'t ignore\ntrailing projects (branching isn\'t mandatory at this point for them).\n\nThese changes remove the duplicated commands and prefer to use the\nbetter one.\n\nThese changes reorder steps to ""remind"" people at the right time and when\nall prerequisite are there.\n\nChange-Id: I765e74b15e1f8fc6e45fb90662d04464faf17640\n'}, {'number': 4, 'created': '2021-04-09 08:28:33.000000000', 'files': ['doc/source/reference/process.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/93b1e6f81cc7f155b96b26d3d15da346daa5d632', 'message': 'Improve R-3 and R-2 documentation\n\nBranching the devstack-plugin-* is missing since 2 cycles\n(victoria/wallaby), these changes add a related task at R-3 to\nensure to not miss them anymore.\n\nSome tasks of R-2 aren\'t crystal clear about the expected state of the\nseries branching.\n\nSome commands are more or less duplicated and inefficient.\n\nIndeed, the QA PTL should be ""reminded"" once branching is done but the\nchecks are made after. Also we previous version of this doc was using\ntwo commands who are more or less similar, however, one of them doesn\'t\ncaught the `cycle-with-intermediary` deliverables and also doesn\'t ignore\ntrailing projects (branching isn\'t mandatory at this point for them).\n\nThese changes remove the duplicated commands and prefer to use the\nbetter one.\n\nThese changes reorder steps to ""remind"" people at the right time and when\nall prerequisite are there.\n\nChange-Id: I765e74b15e1f8fc6e45fb90662d04464faf17640\n'}]",6,784103,93b1e6f81cc7f155b96b26d3d15da346daa5d632,20,5,4,28522,,,0,"Improve R-3 and R-2 documentation

Branching the devstack-plugin-* is missing since 2 cycles
(victoria/wallaby), these changes add a related task at R-3 to
ensure to not miss them anymore.

Some tasks of R-2 aren't crystal clear about the expected state of the
series branching.

Some commands are more or less duplicated and inefficient.

Indeed, the QA PTL should be ""reminded"" once branching is done but the
checks are made after. Also we previous version of this doc was using
two commands who are more or less similar, however, one of them doesn't
caught the `cycle-with-intermediary` deliverables and also doesn't ignore
trailing projects (branching isn't mandatory at this point for them).

These changes remove the duplicated commands and prefer to use the
better one.

These changes reorder steps to ""remind"" people at the right time and when
all prerequisite are there.

Change-Id: I765e74b15e1f8fc6e45fb90662d04464faf17640
",git fetch https://review.opendev.org/openstack/releases refs/changes/03/784103/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/process.rst'],1,b804fcc0d4f094f5591ff6d9776867a730657450,doc-improvement," - At this point all projects should have their branches created. Indeed, done the branching first is a prerequisite to allow us to branch requirements. You can ensure that all projects are branched by using ``tox -e venv -- list-deliverables --no-stable-branch --cycle-based-no-trailing`` where a non empty list mean that some projects are missing a stable branch and a patch should be proposed to create it. The requirements team expect for an empty output of this command, so, until its outcomes isn't empty you can't continue to the next point. .. note:: The previous command will return the `requirements` deliverable however in this case this one can be ignored, because our goal is to branch it. - If the previous list is empty then remind the QA PTL to manage their release duties (cf. https://wiki.openstack.org/wiki/QA/releases).", - Remind the QA PTL to manage their release duties (c.f https://wiki.openstack.org/wiki/QA/releases). - Ensure that all cycle-with-rc projects have their branches created. This could be done by using ``tox -e venv -- list-deliverables --model cycle-with-rc --no-stable-branch`` where a non empty list mean that some projects are missing a stable branch and a patch proposed to create it. The requirements team expect for an empty output of:: tox -e venv -- list-deliverables --no-stable-branch --cycle-based-no-trailing .. note:: ,18,14
openstack%2Fcharm-masakari-monitors~master~I6b46e5743130a8a3f8707fd25fde786f61af3a87,openstack/charm-masakari-monitors,master,I6b46e5743130a8a3f8707fd25fde786f61af3a87,Add Groovy to the test gate,MERGED,2020-11-05 11:49:50.000000000,2021-04-12 08:46:30.000000000,2021-04-12 08:46:30.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-05 11:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/acef8ff44377ccc2e438fb9f1609b565784faecd', 'message': 'Add Groovy to the test gate\n\nChange-Id: I6b46e5743130a8a3f8707fd25fde786f61af3a87\n'}, {'number': 2, 'created': '2021-01-08 09:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/9c07ae0faf85a8b26ccca4b7656b40cdee38838e', 'message': 'Add Groovy to the test gate\n\nChange-Id: I6b46e5743130a8a3f8707fd25fde786f61af3a87\n'}, {'number': 3, 'created': '2021-01-15 14:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/5c96b3091dc762ee4ddf35578fe704becd5ef1e1', 'message': 'Add Groovy to the test gate\n\nChange-Id: I6b46e5743130a8a3f8707fd25fde786f61af3a87\n'}, {'number': 4, 'created': '2021-01-24 20:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/b240202dd58d3e4db7817862d95954f9982ce277', 'message': 'Add Groovy to the test gate\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/488\n\nChange-Id: I6b46e5743130a8a3f8707fd25fde786f61af3a87\n'}, {'number': 5, 'created': '2021-03-05 12:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/c4e94debcccbe276360050cf4f73368f6453a4a8', 'message': 'Add Groovy to the test gate\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/488\n\nChange-Id: I6b46e5743130a8a3f8707fd25fde786f61af3a87\n'}, {'number': 6, 'created': '2021-03-30 13:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/13e7b07b5e37335604e80cefa55f501a95a88d6c', 'message': 'Add Groovy to the test gate\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/488\n\nChange-Id: I6b46e5743130a8a3f8707fd25fde786f61af3a87\n'}, {'number': 7, 'created': '2021-03-31 08:42:31.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/96facb8bb3f562939477f08ca9e1577fd6485cc4', 'message': 'Add Groovy to the test gate\n\nChange-Id: I6b46e5743130a8a3f8707fd25fde786f61af3a87\n'}]",0,761569,96facb8bb3f562939477f08ca9e1577fd6485cc4,78,4,7,31289,,,0,"Add Groovy to the test gate

Change-Id: I6b46e5743130a8a3f8707fd25fde786f61af3a87
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/69/761569/4 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,acef8ff44377ccc2e438fb9f1609b565784faecd,groovy-charm-gate, - groovy-victoria-pacemaker-remote-ssl,dev_bundles: - groovy-victoria-pacemaker-remote-ssl,1,2
openstack%2Fproject-config~master~I0b0b2e38951bad656bcfdb47b6470e033564db59,openstack/project-config,master,I0b0b2e38951bad656bcfdb47b6470e033564db59,nodepool elements: create suse boot rc directory,MERGED,2021-03-17 02:40:33.000000000,2021-04-12 08:22:02.000000000,2021-04-12 07:02:25.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-17 02:40:33.000000000', 'files': ['nodepool/elements/nodepool-base/finalise.d/89-boot-settings'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f7a8f02462682428a77cc08df2358effb62f0ebc', 'message': ""nodepool elements: create suse boot rc directory\n\nAs noted inline, the /etc/init.d directory appears to have been\nsomehow remove/no longer created with a recent update.  I've added\nthis manually and the image builds, and the rc-local.service still\nruns.  Do this for now to unblock other builds.\n\nChange-Id: I0b0b2e38951bad656bcfdb47b6470e033564db59\n""}]",0,781002,f7a8f02462682428a77cc08df2358effb62f0ebc,8,3,1,7118,,,0,"nodepool elements: create suse boot rc directory

As noted inline, the /etc/init.d directory appears to have been
somehow remove/no longer created with a recent update.  I've added
this manually and the image builds, and the rc-local.service still
runs.  Do this for now to unblock other builds.

Change-Id: I0b0b2e38951bad656bcfdb47b6470e033564db59
",git fetch https://review.opendev.org/openstack/project-config refs/changes/02/781002/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/nodepool-base/finalise.d/89-boot-settings'],1,f7a8f02462682428a77cc08df2358effb62f0ebc,suse-boot," # NOTE(ianw) 2021-03-17 : something about building the suse chroot # has changed and /etc/init.d/ is no longer available. However, # it rc-local.service (part of systemd) still runs. We should # probably convert this all to a systemd job; but for now... mkdir -p /etc/init.d",,5,0
openstack%2Fopenstack-ansible~master~I9d6da4afa5029fe9cf0c38a230ccc5fbd9533210,openstack/openstack-ansible,master,I9d6da4afa5029fe9cf0c38a230ccc5fbd9533210,Bump SHAs for master,ABANDONED,2021-03-28 17:52:43.000000000,2021-04-12 07:48:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-28 17:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1ff30287a837ff214a27857755187a9d7818d90d', 'message': 'Bump SHAs for master\n\nChange-Id: I9d6da4afa5029fe9cf0c38a230ccc5fbd9533210\n'}, {'number': 2, 'created': '2021-03-28 21:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/05bf399fc51abc34786e76f210ab963c62932224', 'message': 'Bump SHAs for master\n\nChange-Id: I9d6da4afa5029fe9cf0c38a230ccc5fbd9533210\n'}, {'number': 3, 'created': '2021-03-29 06:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/829fef8e5ced1dbb1558a79e6ed8c5f93f7a1bd8', 'message': 'Bump SHAs for master\n\nChange-Id: I9d6da4afa5029fe9cf0c38a230ccc5fbd9533210\n'}, {'number': 4, 'created': '2021-03-29 06:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/55926b81146aa37b7fcfc6cb070e3205f4dc527a', 'message': 'Bump SHAs for master\n\nChange-Id: I9d6da4afa5029fe9cf0c38a230ccc5fbd9533210\n'}, {'number': 5, 'created': '2021-03-29 06:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b80d5fbd6f09ca83bad820140743b51570ddd54b', 'message': 'Bump SHAs for master\n\nChange-Id: I9d6da4afa5029fe9cf0c38a230ccc5fbd9533210\n'}, {'number': 6, 'created': '2021-03-30 06:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4b95e6658401b8ce26a30ae88b79f9b2ec5b8a1c', 'message': 'Bump SHAs for master\n\nChange-Id: I9d6da4afa5029fe9cf0c38a230ccc5fbd9533210\n'}, {'number': 7, 'created': '2021-03-30 06:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/625e6f037c9bd676d78174ac09031a6e2cce9660', 'message': 'Bump SHAs for master\n\nChange-Id: I9d6da4afa5029fe9cf0c38a230ccc5fbd9533210\n'}, {'number': 8, 'created': '2021-03-30 10:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4395c47c271de094ba74eda50e4d0ef6f57dbe6f', 'message': 'Bump SHAs for master\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/783720\nChange-Id: I9d6da4afa5029fe9cf0c38a230ccc5fbd9533210\n'}, {'number': 9, 'created': '2021-03-30 16:00:12.000000000', 'files': ['releasenotes/notes/drop-powervm-5612f71e00e45277.yaml', 'releasenotes/notes/remove-unsupported-tests-09241c373062518c.yaml', 'playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/centos-minimum-8-3-cd80894c463ed00f.yaml', 'releasenotes/notes/deploy-hosts-file-657a385568f3df9c.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/blazar_policy_overrides-49b609243d3afdf6.yaml', 'releasenotes/notes/zun-docker-cleanup-471cd731f6963c61.yaml', 'releasenotes/notes/enable_aide-d9783c50675cb80f.yaml', 'releasenotes/notes/override-ovs-firewall-driver-0ba4dee50aff725c.yaml', 'playbooks/defaults/repo_packages/openstack_testing.yml', 'releasenotes/notes/adding-new-neutron-plugin_base-extension-dbe31debf2187ed1.yaml', 'releasenotes/notes/revert-third-party-ovs-support-04602870ad8ccd2e.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1ed4696ef4633c0f1c87779f7d7dd016c7974799', 'message': 'Bump SHAs for master\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/783720\nChange-Id: I9d6da4afa5029fe9cf0c38a230ccc5fbd9533210\n'}]",0,783577,1ed4696ef4633c0f1c87779f7d7dd016c7974799,17,1,9,28619,,,0,"Bump SHAs for master

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/783720
Change-Id: I9d6da4afa5029fe9cf0c38a230ccc5fbd9533210
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/77/783577/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-powervm-5612f71e00e45277.yaml', 'releasenotes/notes/remove-unsupported-tests-09241c373062518c.yaml', 'playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/centos-minimum-8-3-cd80894c463ed00f.yaml', 'releasenotes/notes/deploy-hosts-file-657a385568f3df9c.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/blazar_policy_overrides-49b609243d3afdf6.yaml', 'releasenotes/notes/zun-docker-cleanup-471cd731f6963c61.yaml', 'releasenotes/notes/enable_aide-d9783c50675cb80f.yaml', 'releasenotes/notes/override-ovs-firewall-driver-0ba4dee50aff725c.yaml', 'playbooks/defaults/repo_packages/openstack_testing.yml', 'releasenotes/notes/adding-new-neutron-plugin_base-extension-dbe31debf2187ed1.yaml', 'releasenotes/notes/revert-third-party-ovs-support-04602870ad8ccd2e.yaml']",14,1ff30287a837ff214a27857755187a9d7818d90d,bump_osa,"--- deprecations: - | Support for an Open vSwitch dataplate with NSH support using the ``ovs_nsh_support`` variable has been immediately deprecated and removed due to built-in support for NSH in recent Open vSwitch releases. The prior PPA provided a custom release of OVS 2.9, which is no longer appropriate for recent releases of OSA and respective operating systems. ",,150,57
openstack%2Fpython-aodhclient~master~Ie51b2ed5758a9d99e4ef7dad233fb93fba2d0a7e,openstack/python-aodhclient,master,Ie51b2ed5758a9d99e4ef7dad233fb93fba2d0a7e,split --query for alarm command,ABANDONED,2016-05-30 09:24:54.000000000,2021-04-12 07:46:03.000000000,,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6537}, {'_account_id': 6676}]","[{'number': 1, 'created': '2016-05-30 09:24:54.000000000', 'files': ['aodhclient/tests/unit/test_alarm_cli.py', 'aodhclient/v2/alarm_cli.py', 'releasenotes/notes/explicit-gnocchi-query-0875bd47f2e20ed7.yaml'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/6c38c72e7b276a860eecba0953e6d3580ae34dce', 'message': ""split --query for alarm command\n\nCurrently we use --query for threshold, event and\ngnocchi_aggregation_by_resources_threshold type alarms, but\nthreshold & event query is a list in string format, while\ngnocchi_aggregation_by_resources_threshold is a complex json\nobject in string format. Furthermore, threshold & event query\nneed to be converted to list object while\ngnocchi_aggregation_by_resources_threshold doesn't require.\n\nThis is fine for alarm create command, because we know which\ntype of alarm we are creating. But for alarm update command, it\nsucks, because we have no way to know which type of the updated\nalarm before we get it from server side, remeber that -t/--type\nis not recommened to be changed for common usage.\n\nSince our SDK may be used in other projects, it makes no sense to\ndo the convesion in v2/alarm.py, instead, we must get the proper\ndata in v2/alarm_cli.py then pass it to SDK.\n\nAnd we should not always do the conversion because when user updates\nthe query field for gnocchi_aggregation_by_resources_threshold type\nalarm, it is valid to contain ';' which will cause the\nutils.cli_to_array() fails with ValueError.\n\nThis patch splits --query to --query for threshold & event alarm,\nand --gnocchi-query for gnocchi_aggregation_by_resources_threshold\nalarm. Backward compatibility is supported, but we no longer encourage\nuser to use --query for gnocchi_aggregation_by_resources_threshold.\n\nChange-Id: Ie51b2ed5758a9d99e4ef7dad233fb93fba2d0a7e\n""}]",1,322729,6c38c72e7b276a860eecba0953e6d3580ae34dce,9,4,1,6676,,,0,"split --query for alarm command

Currently we use --query for threshold, event and
gnocchi_aggregation_by_resources_threshold type alarms, but
threshold & event query is a list in string format, while
gnocchi_aggregation_by_resources_threshold is a complex json
object in string format. Furthermore, threshold & event query
need to be converted to list object while
gnocchi_aggregation_by_resources_threshold doesn't require.

This is fine for alarm create command, because we know which
type of alarm we are creating. But for alarm update command, it
sucks, because we have no way to know which type of the updated
alarm before we get it from server side, remeber that -t/--type
is not recommened to be changed for common usage.

Since our SDK may be used in other projects, it makes no sense to
do the convesion in v2/alarm.py, instead, we must get the proper
data in v2/alarm_cli.py then pass it to SDK.

And we should not always do the conversion because when user updates
the query field for gnocchi_aggregation_by_resources_threshold type
alarm, it is valid to contain ';' which will cause the
utils.cli_to_array() fails with ValueError.

This patch splits --query to --query for threshold & event alarm,
and --gnocchi-query for gnocchi_aggregation_by_resources_threshold
alarm. Backward compatibility is supported, but we no longer encourage
user to use --query for gnocchi_aggregation_by_resources_threshold.

Change-Id: Ie51b2ed5758a9d99e4ef7dad233fb93fba2d0a7e
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/29/322729/1 && git format-patch -1 --stdout FETCH_HEAD,"['aodhclient/tests/unit/test_alarm_cli.py', 'aodhclient/v2/alarm_cli.py', 'releasenotes/notes/explicit-gnocchi-query-0875bd47f2e20ed7.yaml']",3,6c38c72e7b276a860eecba0953e6d3580ae34dce,rename-gnocchi-query,"--- deprecations: - '--query' option for gnocchi_aggregation_by_resources_threshold type alarm is deprecated, use '--gnocchi-query' instead. The backward compatibility support will be dropped in v1.0.0. ",,36,21
openstack%2Fpython-aodhclient~master~I7b5fb9c89e6a38e7b316e59bc13ea3b1260a5197,openstack/python-aodhclient,master,I7b5fb9c89e6a38e7b316e59bc13ea3b1260a5197,parse --query when update threshold & event alarm,ABANDONED,2016-05-30 10:08:22.000000000,2021-04-12 07:45:55.000000000,,"[{'_account_id': 2813}, {'_account_id': 21797}]","[{'number': 1, 'created': '2016-05-30 10:08:22.000000000', 'files': ['aodhclient/tests/functional/test_alarm.py', 'aodhclient/utils.py', 'aodhclient/v2/alarm.py', 'aodhclient/v2/alarm_cli.py'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/dc4055e96251a128ed80dcedd8b7333eda97be41', 'message': 'parse --query when update threshold & event alarm\n\nWe only parse --query for alarm if alarm type is specified as\nthreshold or event, but when we update alarms, alarm type usually\nwill not be set, hence there will be a 400 error returned from\naodh-api because query is not parsed.\n\nThis patch fixes it by parsing --query for any case. But if parse\nfails, it will fall back to use raw string in case of legacy gnocchi\nalarm query option.\n\nChange-Id: I7b5fb9c89e6a38e7b316e59bc13ea3b1260a5197\nCloses-Bug: #1576007\n'}]",0,322747,dc4055e96251a128ed80dcedd8b7333eda97be41,8,2,1,6676,,,0,"parse --query when update threshold & event alarm

We only parse --query for alarm if alarm type is specified as
threshold or event, but when we update alarms, alarm type usually
will not be set, hence there will be a 400 error returned from
aodh-api because query is not parsed.

This patch fixes it by parsing --query for any case. But if parse
fails, it will fall back to use raw string in case of legacy gnocchi
alarm query option.

Change-Id: I7b5fb9c89e6a38e7b316e59bc13ea3b1260a5197
Closes-Bug: #1576007
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/47/322747/1 && git format-patch -1 --stdout FETCH_HEAD,"['aodhclient/tests/functional/test_alarm.py', 'aodhclient/utils.py', 'aodhclient/v2/alarm.py', 'aodhclient/v2/alarm_cli.py']",4,dc4055e96251a128ed80dcedd8b7333eda97be41,bug/1576007,"from __future__ import print_function import sys if parsed_args.query: # for backward compatibility # FIXME(zqfan): remove it v1.0.0 query = parsed_args.query try: query = utils.cli_to_array(parsed_args.query) except Exception as e: if parsed_args.type in ('threshold', 'event'): raise else: print('Cannot parse --query to list: %s. If you are ' 'updating gnocchi alarms, use --gnocchi-query ' 'instead.' % e, file=sys.stderr) finally: parsed_args.query = query alarm['threshold_rule'] = utils.dict_from_parsed_args( parsed_args, ['meter_name', 'period', 'evaluation_periods', 'statistic', 'comparison_operator', 'threshold', 'query']) alarm['event_rule'] = utils.dict_from_parsed_args( parsed_args, ['event_type', 'query']) "," if parsed_args.type in ('threshold', 'event') and parsed_args.query: parsed_args.query = utils.cli_to_array(parsed_args.query) alarm['threshold_rule'] = utils.dict_from_parsed_args( parsed_args, ['meter_name', 'period', 'evaluation_periods', 'statistic', 'comparison_operator', 'threshold', 'query']) alarm['event_rule'] = utils.dict_from_parsed_args( parsed_args, ['event_type', 'query'])",59,13
openstack%2Faodh~master~Ic807fc5cd20e9ed232f6a79fd97c3cb61cde92e1,openstack/aodh,master,Ic807fc5cd20e9ed232f6a79fd97c3cb61cde92e1,allow reset event alarm,ABANDONED,2016-04-23 12:49:03.000000000,2021-04-12 07:45:46.000000000,,"[{'_account_id': 1894}, {'_account_id': 6676}]","[{'number': 1, 'created': '2016-04-23 12:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/77f3f4a49b24c2da53b6fda43b83cb517340da9d', 'message': 'allow reset event alarm\n\nwhen specific event is received, we reset the alarm state to ok and\nnotify it\n\nChange-Id: Ic807fc5cd20e9ed232f6a79fd97c3cb61cde92e1\n'}, {'number': 2, 'created': '2016-04-23 12:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/c1105d22265c3511d0c8772239c16c2f199a2fb7', 'message': 'allow reset event alarm\n\nwhen specific event is received, we reset the alarm state to ok and\nnotify it\n\nChange-Id: Ic807fc5cd20e9ed232f6a79fd97c3cb61cde92e1\n'}, {'number': 3, 'created': '2016-04-25 09:03:35.000000000', 'files': ['aodh/api/controllers/v2/alarm_rules/event.py', 'aodh/tests/functional/api/v2/test_alarm_scenarios.py', 'aodh/evaluator/event.py', 'aodh/tests/unit/evaluator/test_event.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/c5437dda660bf3ee09fb0791b35adb4a7731cd98', 'message': 'allow reset event alarm\n\nwhen specific event is received, we reset the alarm state to ok and\nnotify it\n\nChange-Id: Ic807fc5cd20e9ed232f6a79fd97c3cb61cde92e1\n'}]",0,309688,c5437dda660bf3ee09fb0791b35adb4a7731cd98,12,2,3,6676,,,0,"allow reset event alarm

when specific event is received, we reset the alarm state to ok and
notify it

Change-Id: Ic807fc5cd20e9ed232f6a79fd97c3cb61cde92e1
",git fetch https://review.opendev.org/openstack/aodh refs/changes/88/309688/2 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/api/controllers/v2/alarm_rules/event.py', 'aodh/evaluator/event.py', 'aodh/tests/unit/evaluator/test_event.py']",3,77f3f4a49b24c2da53b6fda43b83cb517340da9d,event-alarm-reset, original = self.evaluator._update_alarm '_update_alarm') as _fire_alarm:, original = self.evaluator._fire_alarm '_fire_alarm') as _fire_alarm:,81,32
openstack%2Faodh~master~I479a304a75e97e67a78ba3a972fa8d511c68ce44,openstack/aodh,master,I479a304a75e97e67a78ba3a972fa8d511c68ce44,requeue event when we cannot handle them,ABANDONED,2016-04-24 12:24:19.000000000,2021-04-12 07:45:35.000000000,,[{'_account_id': 6676}],"[{'number': 1, 'created': '2016-04-24 12:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/829c04c77dd7d20c0b27ff1ac71471e2fa7e2ff2', 'message': 'requeue event when we cannot handle them\n\nCurrently, if there is any exception when we evalute event alarm,\nwe just log then drop it, this is bad because event usually is\nunique.\n\nThis patch requeues event when we catch any unexpected exception.\n\nHowever, if the exception is raised during process one of event in\nthe middle of list, after we requeue them, the already processed\nevent will trigger alarm again, so event alarms with repeat_actions\nequals to True will be affected. Even this worst case still has\nlower impact than losing event.\n\nChange-Id: I479a304a75e97e67a78ba3a972fa8d511c68ce44\n'}, {'number': 2, 'created': '2016-04-24 15:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/a4fdca7b92fee3710711681c092cd779177be8b3', 'message': 'requeue event when we cannot handle them\n\nCurrently, if there is any exception when we evalute event alarm,\nwe just log then drop it, this is bad because event usually is\nunique.\n\nThis patch requeues event when we catch any unexpected exception.\n\nHowever, if the exception is raised during process one of event in\nthe middle of list, after we requeue them, the already processed\nevent will trigger alarm again, so event alarms with repeat_actions\nequals to True will be affected. Even this worst case still has\nlower impact than losing event.\n\nChange-Id: I479a304a75e97e67a78ba3a972fa8d511c68ce44\n'}, {'number': 3, 'created': '2016-04-28 08:51:04.000000000', 'files': ['aodh/event.py', 'aodh/evaluator/__init__.py', 'aodh/evaluator/event.py', 'aodh/exceptions.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/540a52f45fa0f1ed3678cad06193bf4a0a0b1942', 'message': 'requeue event when we cannot handle them\n\nCurrently, if there is any exception when we evalute event alarm,\nwe just log then drop it, this is bad because event usually is\nunique.\n\nThis patch requeues event when we catch any unexpected exception.\n\nHowever, if the exception is raised during process one of event in\nthe middle of list, after we requeue them, the already processed\nevent will trigger alarm again, so event alarms with repeat_actions\nequals to True will be affected. Even this worst case still has\nlower impact than losing event.\n\nChange-Id: I479a304a75e97e67a78ba3a972fa8d511c68ce44\n'}]",4,309761,540a52f45fa0f1ed3678cad06193bf4a0a0b1942,14,1,3,6676,,,0,"requeue event when we cannot handle them

Currently, if there is any exception when we evalute event alarm,
we just log then drop it, this is bad because event usually is
unique.

This patch requeues event when we catch any unexpected exception.

However, if the exception is raised during process one of event in
the middle of list, after we requeue them, the already processed
event will trigger alarm again, so event alarms with repeat_actions
equals to True will be affected. Even this worst case still has
lower impact than losing event.

Change-Id: I479a304a75e97e67a78ba3a972fa8d511c68ce44
",git fetch https://review.opendev.org/openstack/aodh refs/changes/61/309761/1 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/event.py', 'aodh/evaluator/event.py']",2,829c04c77dd7d20c0b27ff1ac71471e2fa7e2ff2,requeue-event, raise,,6,2
openstack%2Ftripleo-validations~master~I86e665fa601f712410b15b5818c7f5cc5b824fd7,openstack/tripleo-validations,master,I86e665fa601f712410b15b5818c7f5cc5b824fd7,DNM CI TEST,ABANDONED,2021-04-09 11:02:59.000000000,2021-04-12 07:19:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-09 11:02:59.000000000', 'files': ['test', 'zuul.d/layout.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6aef79e700b709445b9d9b0b70ae9f68ab695401', 'message': 'DNM CI TEST\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I86e665fa601f712410b15b5818c7f5cc5b824fd7\n'}]",0,785620,6aef79e700b709445b9d9b0b70ae9f68ab695401,3,1,1,32926,,,0,"DNM CI TEST

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I86e665fa601f712410b15b5818c7f5cc5b824fd7
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/20/785620/1 && git format-patch -1 --stdout FETCH_HEAD,"['test', 'zuul.d/layout.yaml', 'tox.ini']",3,6aef79e700b709445b9d9b0b70ae9f68ab695401,containertests,, {[testenv:pep8]commands},1,3
openstack%2Fnetworking-ovn~stable%2Ftrain~I87489596e2ff224431f7e83f43a1725172ee0953,openstack/networking-ovn,stable/train,I87489596e2ff224431f7e83f43a1725172ee0953,Avoid race condition when processing RowEvents,MERGED,2021-01-22 20:36:22.000000000,2021-04-12 07:06:19.000000000,2021-04-12 07:05:03.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-22 20:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/33226266e9336ff80ccb2d7d3989fcfba517a050', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nConflicts:\n  requirements.txt\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n(cherry picked from commit ab6d4afd954d3afb0c07287915077b96121dd0fe)\n'}, {'number': 2, 'created': '2021-02-12 17:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5f93a5530452bba15c5c59ee667ec0d8b06b5194', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nConflicts:\n  requirements.txt\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n(cherry picked from commit ab6d4afd954d3afb0c07287915077b96121dd0fe)\n'}, {'number': 3, 'created': '2021-02-22 17:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/08e9dc520bbd64c43a3c90836e360e81f92e0a93', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nConflicts:\n  requirements.txt\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n(cherry picked from commit ab6d4afd954d3afb0c07287915077b96121dd0fe)\n'}, {'number': 4, 'created': '2021-02-22 17:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/68b34243248a0cc8d48f8570afd06bb31effb403', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch backports the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n(cherry picked from commit ab6d4afd954d3afb0c07287915077b96121dd0fe)\n'}, {'number': 5, 'created': '2021-02-23 21:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1894e99e48f156847e388d145df9e4ccd52e77eb', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch backports the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n(cherry picked from commit ab6d4afd954d3afb0c07287915077b96121dd0fe)\n'}, {'number': 6, 'created': '2021-02-23 21:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ee7464261529a869836798f77a46bfee05a75bf4', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch backports the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n(cherry picked from commit ab6d4afd954d3afb0c07287915077b96121dd0fe)\n'}, {'number': 7, 'created': '2021-02-25 23:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1335d7ba159fa0fbb51b91ee838441faad301e0a', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch backports the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n(cherry picked from commit ab6d4afd954d3afb0c07287915077b96121dd0fe)\n'}, {'number': 8, 'created': '2021-03-15 19:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/bf39a8cb081a22fc315b5080e6f57b2c400e2f3b', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch backports the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n(cherry picked from commit ab6d4afd954d3afb0c07287915077b96121dd0fe)\n'}, {'number': 9, 'created': '2021-04-12 01:14:06.000000000', 'files': ['networking_ovn/ovsdb/backports.py', 'networking_ovn/ovsdb/ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8ab855460dbf636555012e18316ff9b115fd3250', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch backports the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n(cherry picked from commit ab6d4afd954d3afb0c07287915077b96121dd0fe)\n'}]",3,772094,8ab855460dbf636555012e18316ff9b115fd3250,106,4,9,5756,,,0,"Avoid race condition when processing RowEvents

In https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability
to pass a ""frozen"" object to the RowEventHandler so that if a
transaction is started from the main thread that changes the row,
it won't step on the values that the Event is trying to process.

This patch backports the ovs_idl backend-specific
RowEventHandler which converts the row to a frozen_row.

Change-Id: I87489596e2ff224431f7e83f43a1725172ee0953
Related-Bug: #1896816
(cherry picked from commit ab6d4afd954d3afb0c07287915077b96121dd0fe)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/94/772094/8 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'networking_ovn/ovsdb/ovsdb_monitor.py']",2,33226266e9336ff80ccb2d7d3989fcfba517a050,,class OvnDbNotifyHandler(row_event.RowEventHandler): self.notify_handler = row_event.RowEventHandler(),from ovsdbapp import eventclass OvnDbNotifyHandler(event.RowEventHandler): self.notify_handler = event.RowEventHandler(),3,4
openstack%2Fproject-config~master~Id8d9f3fd34c47a2ee559d76d4ee381e93918bcde,openstack/project-config,master,Id8d9f3fd34c47a2ee559d76d4ee381e93918bcde,Bump node version for publish-openstack-stackviz-element,MERGED,2021-04-11 11:22:08.000000000,2021-04-12 06:49:05.000000000,2021-04-12 06:49:05.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-11 11:22:08.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c052a704485f80d55ff10604c92c949a34457c16', 'message': ""Bump node version for publish-openstack-stackviz-element\n\nJobs with node version 8 are failing[0], all in-repo stackviz jobs are\nusing version 10, so let's make this consistent.\n\n[0]\nhttps://zuul.opendev.org/t/openstack/build/bce1f31848bf4913b22b79403480919a\n\nChange-Id: Id8d9f3fd34c47a2ee559d76d4ee381e93918bcde\n""}]",0,785768,c052a704485f80d55ff10604c92c949a34457c16,8,3,1,13252,,,0,"Bump node version for publish-openstack-stackviz-element

Jobs with node version 8 are failing[0], all in-repo stackviz jobs are
using version 10, so let's make this consistent.

[0]
https://zuul.opendev.org/t/openstack/build/bce1f31848bf4913b22b79403480919a

Change-Id: Id8d9f3fd34c47a2ee559d76d4ee381e93918bcde
",git fetch https://review.opendev.org/openstack/project-config refs/changes/68/785768/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,c052a704485f80d55ff10604c92c949a34457c16,bump-node-stackviz, node_version: 10, node_version: 8,1,1
openstack%2Fceilometer~stable%2Fqueens~I7d09e1860c6940758f0d0965fedfe4dd285e0cae,openstack/ceilometer,stable/queens,I7d09e1860c6940758f0d0965fedfe4dd285e0cae,hyper-v: Converts all os-win exceptions,ABANDONED,2018-02-27 10:40:10.000000000,2021-04-12 06:36:37.000000000,,"[{'_account_id': 6537}, {'_account_id': 22348}, {'_account_id': 26240}]","[{'number': 1, 'created': '2018-02-27 10:40:10.000000000', 'files': ['ceilometer/compute/virt/hyperv/inspector.py', 'ceilometer/tests/unit/compute/virt/hyperv/test_inspector.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6dc51953b590eb063fefd3834bdffa7c1e0c5170', 'message': 'hyper-v: Converts all os-win exceptions\n\nWhen os-win was first introduced, a decorator which converts all os-win\nexceptions to virt inspector exceptions has been added to the\nHyperVInspector.\n\nHowever, the decorator works as intended for methods that return values,\nand not for the ones that yield (they return a generator).\n\nThis patch makes sure that exceptions are converted properly for yielding\nmethods as well.\n\nCloses-Bug #1751088\n\nChange-Id: I7d09e1860c6940758f0d0965fedfe4dd285e0cae\n(cherry picked from commit e2a3542fe8d5f562b590192dc34ece5eafa51931)\n'}]",0,548213,6dc51953b590eb063fefd3834bdffa7c1e0c5170,5,3,1,8213,,,0,"hyper-v: Converts all os-win exceptions

When os-win was first introduced, a decorator which converts all os-win
exceptions to virt inspector exceptions has been added to the
HyperVInspector.

However, the decorator works as intended for methods that return values,
and not for the ones that yield (they return a generator).

This patch makes sure that exceptions are converted properly for yielding
methods as well.

Closes-Bug #1751088

Change-Id: I7d09e1860c6940758f0d0965fedfe4dd285e0cae
(cherry picked from commit e2a3542fe8d5f562b590192dc34ece5eafa51931)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/13/548213/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/compute/virt/hyperv/inspector.py', 'ceilometer/tests/unit/compute/virt/hyperv/test_inspector.py']",2,6dc51953b590eb063fefd3834bdffa7c1e0c5170,bug/1751088-stable/queens," def _yield_consumer(generator_method, *args, **kwargs): list(generator_method(*args, **kwargs)) self._inspector._utils.get_vnic_metrics.side_effect = ( os_win_exc.OSWinException) self.assertRaises(virt_inspector.InspectorException, _yield_consumer, self._inspector.inspect_vnics, mock.sentinel.instance, None) self._inspector._utils.get_vnic_metrics.side_effect = ( os_win_exc.HyperVException) self.assertRaises(virt_inspector.InspectorException, _yield_consumer, self._inspector.inspect_vnics, mock.sentinel.instance, None) self._inspector._utils.get_vnic_metrics.side_effect = ( os_win_exc.NotFound(resource='foofoo')) self.assertRaises(virt_inspector.InstanceNotFoundException, _yield_consumer, self._inspector.inspect_vnics, mock.sentinel.instance, None) ",,61,30
openstack%2Fceilometer~master~Iaae29564582c5e56b75e587b4d852f0253b8d768,openstack/ceilometer,master,Iaae29564582c5e56b75e587b4d852f0253b8d768,Enable coverage report,ABANDONED,2018-01-18 13:44:04.000000000,2021-04-12 06:36:05.000000000,,"[{'_account_id': 6537}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-18 13:44:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/eea6fe6d75e3440dad97eb24f82ca6ad79b090b8', 'message': 'Enable coverage report\n\nThis change can help to print the coverage report when run\n""tox -ecover"".\n\nChange-Id: Iaae29564582c5e56b75e587b4d852f0253b8d768\n'}]",0,535328,eea6fe6d75e3440dad97eb24f82ca6ad79b090b8,4,2,1,6763,,,0,"Enable coverage report

This change can help to print the coverage report when run
""tox -ecover"".

Change-Id: Iaae29564582c5e56b75e587b4d852f0253b8d768
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/28/535328/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,eea6fe6d75e3440dad97eb24f82ca6ad79b090b8,, coverage report,,1,0
openstack%2Fceilometer~master~I0696f103131aec1ed79d7ad0780b3a12f4f24d92,openstack/ceilometer,master,I0696f103131aec1ed79d7ad0780b3a12f4f24d92,Enable coverage report in console output,ABANDONED,2017-06-30 06:17:41.000000000,2021-04-12 06:35:41.000000000,,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 15843}, {'_account_id': 19930}, {'_account_id': 23037}, {'_account_id': 24925}, {'_account_id': 25006}, {'_account_id': 26159}]","[{'number': 1, 'created': '2017-06-30 06:17:41.000000000', 'files': ['.gitignore', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e8b3ec61f4cca0849fead9e5ba787a430367465f', 'message': 'Enable coverage report in console output\n\nThis will output coverage rate of every module in console.\n\nChange-Id: I0696f103131aec1ed79d7ad0780b3a12f4f24d92\n'}]",0,479163,e8b3ec61f4cca0849fead9e5ba787a430367465f,11,8,1,24925,,,0,"Enable coverage report in console output

This will output coverage rate of every module in console.

Change-Id: I0696f103131aec1ed79d7ad0780b3a12f4f24d92
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/63/479163/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'tox.ini']",2,e8b3ec61f4cca0849fead9e5ba787a430367465f,tox, coverage report,,2,0
openstack%2Fceilometer~master~I1e8021d38b8ac255301e8b95f06a0fe51016d3fc,openstack/ceilometer,master,I1e8021d38b8ac255301e8b95f06a0fe51016d3fc,Replace disk with virtualDisk for VMware,ABANDONED,2016-12-15 11:51:32.000000000,2021-04-12 06:34:46.000000000,,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 15843}, {'_account_id': 17848}, {'_account_id': 20100}]","[{'number': 1, 'created': '2016-12-15 11:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/8067afa0c6a7b33a04c36896352d3857020547d3', 'message': 'Replace disk with virtualDisk for VMware\n\nIn statistics of VMware VM disk IO, now use disk counter, maybe it is\nmore reasonable to use virtualDisk counter.\n\nChange-Id: I1e8021d38b8ac255301e8b95f06a0fe51016d3fc\n'}, {'number': 2, 'created': '2017-01-19 07:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/91051f69e7de3bee1808aec5d9d73ad2e21f2e6d', 'message': 'Replace disk with virtualDisk for VMware\n\nIn statistics of VMware VM disk IO, now use disk counter, maybe it is\nmore reasonable to use virtualDisk counter.\n\nBoth disk and virtualDisk counter can obtain the metric for vm to\naccess disk, the difference is the measured object.\nif use disk counter for a vm with a disk, the resource id is:\n6cb0392d-1285-48d4-9bec-c4b9cc86d536-naa.600000e00d29000000290be6000\\\n20000\n6cb0392d-1285-48d4-9bec-c4b9cc86d536-naa.600000e00d29000000290be6000\\\n00000\nwhile use virtualDisk counter for the same vm, the result is:\n6cb0392d-1285-48d4-9bec-c4b9cc86d536-ide0:0\n\nThis change will modidy the resource_id, and the metric name remains\nunchanged.\n\nChange-Id: I1e8021d38b8ac255301e8b95f06a0fe51016d3fc\n'}, {'number': 3, 'created': '2017-04-06 06:19:13.000000000', 'files': ['ceilometer/compute/virt/vmware/inspector.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d47f36aee1fad99cdd2fb3e09c5fbba7f41e62fe', 'message': 'Replace disk with virtualDisk for VMware\n\nIn statistics of VMware VM disk IO, now use disk counter, maybe it is\nmore reasonable to use virtualDisk counter.\n\nBoth disk and virtualDisk counter can obtain the metric for vm to\naccess disk, the difference is the measured object.\nif use disk counter for a vm with a disk, the resource id is:\n6cb0392d-1285-48d4-9bec-c4b9cc86d536-naa.600000e00d29000000290be6000\\\n20000\n6cb0392d-1285-48d4-9bec-c4b9cc86d536-naa.600000e00d29000000290be6000\\\n00000\nwhile use virtualDisk counter for the same vm, the result is:\n6cb0392d-1285-48d4-9bec-c4b9cc86d536-ide0:0\n\nThis change will modify the resource_id, and the metric name remains\nunchanged.\n\nChange-Id: I1e8021d38b8ac255301e8b95f06a0fe51016d3fc\n'}]",1,411261,d47f36aee1fad99cdd2fb3e09c5fbba7f41e62fe,23,5,3,20100,,,0,"Replace disk with virtualDisk for VMware

In statistics of VMware VM disk IO, now use disk counter, maybe it is
more reasonable to use virtualDisk counter.

Both disk and virtualDisk counter can obtain the metric for vm to
access disk, the difference is the measured object.
if use disk counter for a vm with a disk, the resource id is:
6cb0392d-1285-48d4-9bec-c4b9cc86d536-naa.600000e00d29000000290be6000\
20000
6cb0392d-1285-48d4-9bec-c4b9cc86d536-naa.600000e00d29000000290be6000\
00000
while use virtualDisk counter for the same vm, the result is:
6cb0392d-1285-48d4-9bec-c4b9cc86d536-ide0:0

This change will modify the resource_id, and the metric name remains
unchanged.

Change-Id: I1e8021d38b8ac255301e8b95f06a0fe51016d3fc
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/61/411261/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/compute/virt/vmware/inspector.py'],1,8067afa0c6a7b33a04c36896352d3857020547d3,,"VC_DISK_READ_RATE_CNTR = ""virtualDisk:read:average"" VC_DISK_READ_REQUESTS_RATE_CNTR = ""virtualDisk:numberReadAveraged:average"" VC_DISK_WRITE_RATE_CNTR = ""virtualDisk:write:average"" VC_DISK_WRITE_REQUESTS_RATE_CNTR = ""virtualDisk:numberWriteAveraged:average""","VC_DISK_READ_RATE_CNTR = ""disk:read:average"" VC_DISK_READ_REQUESTS_RATE_CNTR = ""disk:numberReadAveraged:average"" VC_DISK_WRITE_RATE_CNTR = ""disk:write:average"" VC_DISK_WRITE_REQUESTS_RATE_CNTR = ""disk:numberWriteAveraged:average""",4,4
openstack%2Fceilometer~master~I75381b7b15101de2a60fbb7f23b49d55ff58c5fe,openstack/ceilometer,master,I75381b7b15101de2a60fbb7f23b49d55ff58c5fe,use unique key for resource instead of str,ABANDONED,2016-05-03 10:39:09.000000000,2021-04-12 06:34:25.000000000,,"[{'_account_id': 6676}, {'_account_id': 8290}, {'_account_id': 8358}, {'_account_id': 15843}, {'_account_id': 22587}]","[{'number': 1, 'created': '2016-05-03 10:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c0a46dff99a0841fc05902ffec679fa2204ca4bc', 'message': ""use unique key for resource instead of str\n\nWhen workload partition is enabld,  we try to extract a subset\nfor a node by using str of a resource as its key, which definitely\nwrong, because it is not unique for a resource. Imaging that\nwhen node A polls resource from service S, there is a resource R1,\nafter that, R1 has been changed some fields, then node B polls again,\nresource R1 can be in none of the two nodes, or both of them for\nsuch situation.\n\nHence we should try to use resource's unique key, for most resource\nmodel in openstack, it will has id field, which is the proper key\nto use.\n\nChange-Id: I75381b7b15101de2a60fbb7f23b49d55ff58c5fe\n""}, {'number': 2, 'created': '2016-05-03 11:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3fcc00a230fb2bbcda489dea15ac347ef61a3473', 'message': ""use unique key for resource instead of str\n\nWhen workload partition is enabld,  we try to extract a subset\nfor a node by using str of a resource as its key, which definitely\nwrong, because it is not unique for a resource. Imaging that\nwhen node A polls resource from service S, there is a resource R1,\nafter that, R1 has been changed some fields, then node B polls again,\nresource R1 can be in none of the two nodes, or both of them for\nsuch situation.\n\nHence we should try to use resource's unique key, for most resource\nmodel in openstack, it will has id field, which is the proper key\nto use.\n\nChange-Id: I75381b7b15101de2a60fbb7f23b49d55ff58c5fe\n""}, {'number': 3, 'created': '2016-05-03 11:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/23cbcf75cb24c4d26b0a7fc5739fd6b24a56433f', 'message': ""use unique key for resource instead of str\n\nWhen workload partition is enabld,  we try to extract a subset\nfor a node by using str of a resource as its key, which definitely\nwrong, because it is not unique for a resource. Imaging that\nwhen node A polls resource from service S, there is a resource R1,\nafter that, R1 has been changed some fields, then node B polls again,\nresource R1 can be in none of the two nodes, or both of them for\nsuch situation.\n\nHence we should try to use resource's unique key, for most resource\nmodel in openstack, it will has id field, which is the proper key\nto use.\n\nChange-Id: I75381b7b15101de2a60fbb7f23b49d55ff58c5fe\nCloses-Bug: #1575530\n""}, {'number': 4, 'created': '2016-05-05 14:11:21.000000000', 'files': ['ceilometer/tests/unit/agent/test_manager.py', 'ceilometer/agent/manager.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a3da373fba60abc39f533e90cee80b505a64828d', 'message': ""use unique key for resource instead of str\n\nWhen workload partition is enabld,  we try to extract a subset\nfor a node by using str of a resource as its key, which definitely\nwrong, because it is not unique for a resource. Imaging that\nwhen node A polls resource from service S, there is a resource R1,\nafter that, R1 has been changed some fields, then node B polls again,\nresource R1 can be in none of the two nodes, or both of them for\nsuch situation.\n\nHence we should try to use resource's unique key, for most resource\nmodel in openstack, it will has id field, which is the proper key\nto use.\n\nChange-Id: I75381b7b15101de2a60fbb7f23b49d55ff58c5fe\nCloses-Bug: #1575530\n""}]",3,312012,a3da373fba60abc39f533e90cee80b505a64828d,20,5,4,6676,,,0,"use unique key for resource instead of str

When workload partition is enabld,  we try to extract a subset
for a node by using str of a resource as its key, which definitely
wrong, because it is not unique for a resource. Imaging that
when node A polls resource from service S, there is a resource R1,
after that, R1 has been changed some fields, then node B polls again,
resource R1 can be in none of the two nodes, or both of them for
such situation.

Hence we should try to use resource's unique key, for most resource
model in openstack, it will has id field, which is the proper key
to use.

Change-Id: I75381b7b15101de2a60fbb7f23b49d55ff58c5fe
Closes-Bug: #1575530
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/12/312012/4 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/agent/manager.py'],1,c0a46dff99a0841fc05902ffec679fa2204ca4bc,bug/1575530," group_id = self.construct_group_id(discoverer.group_id) discovered = list(discoverer.discover(self, param)) if (discovered and isinstance(discovered[0], dict) and discovered[0].get('id')): ids = (d['id'] for d in discovered) my_ids = (self.partition_coordinator .extract_my_subset(group_id, ids)) partitioned = filter(lambda x: x['id'] in my_ids, discovered) else: partitioned = (self.partition_coordinator .extract_my_subset(group_id, discovered))"," discovered = discoverer.discover(self, param) partitioned = self.partition_coordinator.extract_my_subset( self.construct_group_id(discoverer.group_id), discovered)",13,4
openstack%2Fmanila-ui~master~Iec85f21623546576186ce3084eb9dbca9e3a918c,openstack/manila-ui,master,Iec85f21623546576186ce3084eb9dbca9e3a918c,Add the translation for resize share,ABANDONED,2021-04-03 06:47:32.000000000,2021-04-12 05:53:01.000000000,,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 32531}]","[{'number': 1, 'created': '2021-04-03 06:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/4c9fe11b43064618b0e18b42814f79b594f079da', 'message': 'Add the translation for resize share\n\nthe patch https://review.opendev.org/c/openstack/manila-ui/+/767017\nchanged extend share to resize share, resize share incloud extend\nand shrink share. resize share is a new word for manila-ui, we need\nto add translation for it.\n\nChange-Id: Iec85f21623546576186ce3084eb9dbca9e3a918c\n'}, {'number': 2, 'created': '2021-04-05 07:18:27.000000000', 'files': ['manila_ui/locale/id/LC_MESSAGES/django.po', 'manila_ui/locale/ru/LC_MESSAGES/django.po', 'manila_ui/locale/fr/LC_MESSAGES/django.po', 'manila_ui/locale/zh_Hans/LC_MESSAGES/django.po', 'manila_ui/locale/cs/LC_MESSAGES/django.po', 'manila_ui/locale/de/LC_MESSAGES/django.po', 'manila_ui/locale/en_GB/LC_MESSAGES/django.po', 'manila_ui/locale/pt_BR/LC_MESSAGES/django.po', 'manila_ui/locale/ko_KR/LC_MESSAGES/django.po', 'manila_ui/locale/tr_TR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/0304a83d7a02044c66fd10662128f454fcef8f62', 'message': 'Add the translation for resize share\n\nthe patch https://review.opendev.org/c/openstack/manila-ui/+/767017\nchanged extend share to resize share, resize share incloud extend\nand shrink share. resize share is a new word for manila-ui, we need\nto add translation for it.\n\nChange-Id: Iec85f21623546576186ce3084eb9dbca9e3a918c\n'}]",2,784624,0304a83d7a02044c66fd10662128f454fcef8f62,12,4,2,30407,,,0,"Add the translation for resize share

the patch https://review.opendev.org/c/openstack/manila-ui/+/767017
changed extend share to resize share, resize share incloud extend
and shrink share. resize share is a new word for manila-ui, we need
to add translation for it.

Change-Id: Iec85f21623546576186ce3084eb9dbca9e3a918c
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/24/784624/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_ui/locale/id/LC_MESSAGES/django.po', 'manila_ui/locale/ru/LC_MESSAGES/django.po', 'manila_ui/locale/fr/LC_MESSAGES/django.po', 'manila_ui/locale/zh_Hans/LC_MESSAGES/django.po', 'manila_ui/locale/cs/LC_MESSAGES/django.po', 'manila_ui/locale/de/LC_MESSAGES/django.po', 'manila_ui/locale/en_GB/LC_MESSAGES/django.po', 'manila_ui/locale/pt_BR/LC_MESSAGES/django.po', 'manila_ui/locale/ko_KR/LC_MESSAGES/django.po', 'manila_ui/locale/tr_TR/LC_MESSAGES/django.po']",10,4c9fe11b43064618b0e18b42814f79b594f079da,add-translation," msgid ""Resize Share"" msgstr ""Paylaşım boyutunu değiştirme""",,30,0
openstack%2Fneutron~master~I485762b46567a99b9ebd6eb047c7088fed8071d1,openstack/neutron,master,I485762b46567a99b9ebd6eb047c7088fed8071d1,[ovn]: Remove unwanted IP addresses from OVN ports,MERGED,2020-11-20 14:31:45.000000000,2021-04-12 05:32:04.000000000,2021-04-12 05:30:13.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 9845}, {'_account_id': 10237}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 13686}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2020-11-20 14:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e8c3dec17f291016610106526f5f6afe452a0259', 'message': 'WIP: Remove unwanted IP addresses from OVN ports\n\nIf DHCP and port security are disabled, then the addresses field of a\nport should not include its MAC IP. This allows to send traffic to all\nports with an unknown address. Existing tests now match this\nrequirement too.\n\nChange-Id: I485762b46567a99b9ebd6eb047c7088fed8071d1\nRelated-Bug: 1904412\nSigned-off-by: Elvira García Ruiz <egarciar@redhat.com>\n'}, {'number': 2, 'created': '2020-11-24 15:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a93f605c7b3518bb4170d46e437bb33c8d4ecd8', 'message': 'WIP: Remove unwanted IP addresses from OVN ports\n\nIf DHCP and port security are disabled, then the addresses field of a\nport should not include its MAC IP. This allows to send traffic to all\nports with an unknown address. Existing tests now match this\nrequirement too.\n\nChange-Id: I485762b46567a99b9ebd6eb047c7088fed8071d1\nCloses-Bug: 1904412\nSigned-off-by: Elvira García Ruiz <egarciar@redhat.com>\n'}, {'number': 3, 'created': '2020-11-25 10:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4492920dad5735e964605165982be63894434c4c', 'message': 'Remove unwanted IP addresses from OVN ports\n\nIf DHCP and port security are disabled, then the addresses field of a\nport should not include its MAC IP. This allows to send traffic to all\nports with an unknown address. Existing tests now match this\nrequirement too.\n\nChange-Id: I485762b46567a99b9ebd6eb047c7088fed8071d1\nCloses-Bug: 1904412\nSigned-off-by: Elvira García Ruiz <egarciar@redhat.com>\n'}, {'number': 4, 'created': '2021-03-18 12:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/02be550c19355111499cc5600f6259baa391e2d4', 'message': 'Remove unwanted IP addresses from OVN ports\n\nIf DHCP and port security are disabled, then the addresses field of a\nport should not include its MAC IP. This allows to send traffic to all\nports with an unknown address. Existing tests now match this\nrequirement too.\n\nChange-Id: I485762b46567a99b9ebd6eb047c7088fed8071d1\nCloses-Bug: 1904412\nSigned-off-by: Elvira García Ruiz <egarciar@redhat.com>\n'}, {'number': 5, 'created': '2021-03-19 15:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f517ff62a261866c65d1461e5c7128ba555b688', 'message': 'Remove unwanted IP addresses from OVN ports\n\nIf DHCP and port security are disabled, then the addresses field of a\nport should not include its MAC IP. This allows to send traffic to all\nports with an unknown address. Existing tests now match this\nrequirement too.\n\nChange-Id: I485762b46567a99b9ebd6eb047c7088fed8071d1\nCloses-Bug: 1904412\nSigned-off-by: Elvira García Ruiz <egarciar@redhat.com>\n'}, {'number': 6, 'created': '2021-03-22 12:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa061fd2f8a293bd04c0b069e43a8d6de4791e5b', 'message': 'Remove unwanted IP addresses from OVN ports\n\nOnce mac learning is added in OVN v21.03, if DHCP and port security are\ndisabled, then the addresses field of a port should not include its MAC IP.\nThis allows to send traffic to all ports with an unknown address. Existing\ntests now match this requirement too.\n\nChange-Id: I485762b46567a99b9ebd6eb047c7088fed8071d1\nCloses-Bug: 1904412\nSigned-off-by: Elvira García Ruiz <egarciar@redhat.com>\n'}, {'number': 7, 'created': '2021-03-22 16:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d7f7c6a3edbc6ee5daee22987edba650f8286a4', 'message': '[ovn]: Remove unwanted IP addresses from OVN ports\n\nMAC learning has been added in OVN v21.03[0]. Now, if DHCP and port\nsecurity are disabled, then the addresses field of a port should not\ninclude its MAC-IP address pairs. This allows to send traffic to all\nports with an unknown address. Existing tests now match this requirement\ntoo.\n\n[0] http://patchwork.ozlabs.org/project/ovn/list/?series=228135i&state=%2A&archive=both\n\nChange-Id: I485762b46567a99b9ebd6eb047c7088fed8071d1\nCloses-Bug: 1904412\nSigned-off-by: Elvira García Ruiz <egarciar@redhat.com>\n'}, {'number': 8, 'created': '2021-03-23 08:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4050cb4d0a3b97024d1da648147570669a32c6c0', 'message': '[ovn]: Remove unwanted IP addresses from OVN ports\n\nMAC learning has been added in OVN v21.03[0]. Now, if DHCP and port\nsecurity are disabled, then the addresses field of a port should not\ninclude its MAC-IP address pairs. This allows to send traffic to all\nports with an unknown address. Existing tests now match this requirement\ntoo.\n\n[0] http://patchwork.ozlabs.org/project/ovn/list/?series=228135i&state=%2A&archive=both\n\nChange-Id: I485762b46567a99b9ebd6eb047c7088fed8071d1\nCloses-Bug: 1904412\nSigned-off-by: Elvira García Ruiz <egarciar@redhat.com>\n'}, {'number': 9, 'created': '2021-03-23 10:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/912bf1e1034f1eab6c91c58c54186f06068628b2', 'message': '[ovn]: Remove unwanted IP addresses from OVN ports\n\nMAC learning has been added in OVN v21.03[0]. Now, if DHCP and port\nsecurity are disabled, then the addresses field of a port should not\ninclude its MAC-IP address pairs. This allows the use of OVN MAC\nlearning capabilities. Existing tests now match this requirement too.\n\n[0] http://patchwork.ozlabs.org/project/ovn/list/?series=228135i&state=%2A&archive=both\n\nChange-Id: I485762b46567a99b9ebd6eb047c7088fed8071d1\nCloses-Bug: 1904412\nSigned-off-by: Elvira García Ruiz <egarciar@redhat.com>\n'}, {'number': 10, 'created': '2021-03-23 10:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1940a7ff2443cb65661d268c2c00790898e8bef', 'message': '[ovn]: Remove unwanted IP addresses from OVN ports\n\nMAC learning has been added in OVN v21.03[0]. Now, if DHCP and port\nsecurity are disabled, then the addresses field of a port should not\ninclude its MAC-IP address pairs. This allows the use of OVN MAC\nlearning capabilities. Existing tests now match this requirement too.\n\n[0] http://patchwork.ozlabs.org/project/ovn/list/?series=228135i&state=%2A&archive=both\n\nChange-Id: I485762b46567a99b9ebd6eb047c7088fed8071d1\nCloses-Bug: 1904412\nSigned-off-by: Elvira García Ruiz <egarciar@redhat.com>\n'}, {'number': 11, 'created': '2021-03-24 11:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8097702cb9dcb71bad827c13b7a9ad73e1f54c45', 'message': '[ovn]: Remove unwanted IP addresses from OVN ports\n\nMAC learning has been added in OVN v21.03[0]. Now, if DHCP and port\nsecurity are disabled, then the addresses field of a port should not\ninclude its MAC-IP address pairs. This allows the use of OVN MAC\nlearning capabilities. Existing tests now match this requirement too.\n\n[0] http://patchwork.ozlabs.org/project/ovn/list/?series=228135i&state=%2A&archive=both\n\nChange-Id: I485762b46567a99b9ebd6eb047c7088fed8071d1\nCloses-Bug: 1904412\nSigned-off-by: Elvira García Ruiz <egarciar@redhat.com>\n'}, {'number': 12, 'created': '2021-03-24 15:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/24fddc760edcf2004f4608a42ae75f82b3b72b76', 'message': '[ovn]: Remove unwanted IP addresses from OVN ports\n\nMAC learning has been added in OVN v21.03[0]. Now, if DHCP and port\nsecurity are disabled, then the addresses field of a port should not\ninclude its MAC-IP address pairs. This allows the use of OVN MAC\nlearning capabilities. Existing tests now match this requirement too.\n\n[0] http://patchwork.ozlabs.org/project/ovn/list/?series=228135i&state=%2A&archive=both\n\nChange-Id: I485762b46567a99b9ebd6eb047c7088fed8071d1\nCloses-Bug: 1904412\nSigned-off-by: Elvira García Ruiz <egarciar@redhat.com>\n'}, {'number': 13, 'created': '2021-04-12 01:24:56.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/888f914df1d44691b31996d7878c8e4963d3bb35', 'message': '[ovn]: Remove unwanted IP addresses from OVN ports\n\nMAC learning has been added in OVN v21.03[0]. Now, if DHCP and port\nsecurity are disabled, then the addresses field of a port should not\ninclude its MAC-IP address pairs. This allows the use of OVN MAC\nlearning capabilities. Existing tests now match this requirement too.\n\n[0] http://patchwork.ozlabs.org/project/ovn/list/?series=228135i&state=%2A&archive=both\n\nChange-Id: I485762b46567a99b9ebd6eb047c7088fed8071d1\nCloses-Bug: 1904412\nSigned-off-by: Elvira García Ruiz <egarciar@redhat.com>\n'}]",32,763567,888f914df1d44691b31996d7878c8e4963d3bb35,124,10,13,32586,,,0,"[ovn]: Remove unwanted IP addresses from OVN ports

MAC learning has been added in OVN v21.03[0]. Now, if DHCP and port
security are disabled, then the addresses field of a port should not
include its MAC-IP address pairs. This allows the use of OVN MAC
learning capabilities. Existing tests now match this requirement too.

[0] http://patchwork.ozlabs.org/project/ovn/list/?series=228135i&state=%2A&archive=both

Change-Id: I485762b46567a99b9ebd6eb047c7088fed8071d1
Closes-Bug: 1904412
Signed-off-by: Elvira García Ruiz <egarciar@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/763567/11 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py']",2,e8c3dec17f291016610106526f5f6afe452a0259,bug/1904412," called_args_dict.get('addresses')[-1]) self.assertEqual(1, len(called_args_dict.get('addresses'))) called_args_dict.get('addresses')[-1])"," called_args_dict.get('addresses')[1]) self.assertEqual(2, len(called_args_dict.get('addresses'))) called_args_dict.get('addresses')[1])",9,10
openstack%2Fkolla-ansible~master~I017cddcfbbc5449e63d807385216b94e74503c9b,openstack/kolla-ansible,master,I017cddcfbbc5449e63d807385216b94e74503c9b,CI: pull images before deploy,MERGED,2021-04-06 12:06:38.000000000,2021-04-12 04:03:40.000000000,2021-04-08 11:27:36.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-06 12:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ff15f45279bae9f4f5950b00450fda5dcefc6982', 'message': 'CI: pull images before deploy\n\nChange-Id: I017cddcfbbc5449e63d807385216b94e74503c9b\n'}, {'number': 2, 'created': '2021-04-08 08:53:06.000000000', 'files': ['tests/deploy.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8dcb56f584255d9e307c58bbf7f01ea249bdc85f', 'message': 'CI: pull images before deploy\n\nIt will allow us to fail fast when pulling the image\nis a problem - instead of failing in the middle of\ndeployment.\n\nChange-Id: I017cddcfbbc5449e63d807385216b94e74503c9b\n'}]",1,784937,8dcb56f584255d9e307c58bbf7f01ea249bdc85f,14,3,2,22629,,,0,"CI: pull images before deploy

It will allow us to fail fast when pulling the image
is a problem - instead of failing in the middle of
deployment.

Change-Id: I017cddcfbbc5449e63d807385216b94e74503c9b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/37/784937/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/deploy.sh'],1,ff15f45279bae9f4f5950b00450fda5dcefc6982,, tools/kolla-ansible -i ${RAW_INVENTORY} -vvv pull &> /tmp/logs/ansible/pull, # TODO(jeffrey4l): add pull action when we have a local registry # service in CI,1,2
openstack%2Fkolla~master~I50e5355bd7dd96a5eeaa004c5fc230d1cb8e8fd2,openstack/kolla,master,I50e5355bd7dd96a5eeaa004c5fc230d1cb8e8fd2,base: we already install sudo for Debian/Ubuntu,MERGED,2021-04-06 10:52:28.000000000,2021-04-12 03:54:37.000000000,2021-04-07 23:33:43.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-04-06 10:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e82a09f5a01b0caf97b1b270c8b8f96ac34b01b4', 'message': 'base: we already install sudo for Debian/Ubuntu\n\nChange-Id: I50e5355bd7dd96a5eeaa004c5fc230d1cb8e8fd2\n'}, {'number': 2, 'created': '2021-04-06 15:33:01.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0efc3ce3e4f4376761c45c6d78cbd302543840b0', 'message': 'base: we already install sudo for Debian/Ubuntu\n\nChange-Id: I50e5355bd7dd96a5eeaa004c5fc230d1cb8e8fd2\n'}]",0,784919,0efc3ce3e4f4376761c45c6d78cbd302543840b0,21,3,2,24072,,,0,"base: we already install sudo for Debian/Ubuntu

Change-Id: I50e5355bd7dd96a5eeaa004c5fc230d1cb8e8fd2
",git fetch https://review.opendev.org/openstack/kolla refs/changes/19/784919/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,e82a09f5a01b0caf97b1b270c8b8f96ac34b01b4,,," {% set base_apt_packages = base_apt_packages + ['sudo',] %}",0,3
openstack%2Fkolla~master~I01ded1ca42b3136491ee084c6ea687f45d93f60e,openstack/kolla,master,I01ded1ca42b3136491ee084c6ea687f45d93f60e,mariadb: use Focal repo for Ubuntu/AArch64,MERGED,2021-04-06 10:41:51.000000000,2021-04-12 03:54:30.000000000,2021-04-07 09:44:33.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-06 10:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7378d4b9227f9da5218f3e2023364f6225f46b23', 'message': 'mariadb: use Focal repo for Ubuntu/AArch64\n\nChange-Id: I01ded1ca42b3136491ee084c6ea687f45d93f60e\n'}, {'number': 2, 'created': '2021-04-06 15:46:05.000000000', 'files': ['kolla/template/repos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f242e8d66aded9a8e3df903f0f7c466f10f00434', 'message': 'mariadb: use Focal repo for Ubuntu/AArch64\n\nChange-Id: I01ded1ca42b3136491ee084c6ea687f45d93f60e\n'}]",1,784917,f242e8d66aded9a8e3df903f0f7c466f10f00434,12,3,2,24072,,,0,"mariadb: use Focal repo for Ubuntu/AArch64

Change-Id: I01ded1ca42b3136491ee084c6ea687f45d93f60e
",git fetch https://review.opendev.org/openstack/kolla refs/changes/17/784917/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/template/repos.yaml'],1,7378d4b9227f9da5218f3e2023364f6225f46b23,," mariadb: ""deb http://downloads.mariadb.com/MariaDB/mariadb-10.3/repo/ubuntu focal main"""," mariadb: ""deb http://downloads.mariadb.com/MariaDB/mariadb-10.3/repo/ubuntu bionic main""",1,1
openstack%2Fkolla~master~I92dab4394b7eebdcff7f90765cde078c1292312b,openstack/kolla,master,I92dab4394b7eebdcff7f90765cde078c1292312b,kolla-toolbox: Upgrade openvswitch collection to newer version,MERGED,2021-03-25 06:34:50.000000000,2021-04-12 03:54:17.000000000,2021-04-08 09:53:55.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-25 06:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/30f29cecef0a6cad07fcdf9cf37b4a9733cea3be', 'message': 'kolla-toolbox: Upgrade openvswitch collection to newer version\n\nAnsible 2.10 includes openvswitch.openvswitch collection in lower version than\n2.0.0 - which fixes the bug that state: absent requires value: to be set.\n\nRelated change: https://review.opendev.org/c/openstack/kolla-ansible/+/750631\n\nChange-Id: I92dab4394b7eebdcff7f90765cde078c1292312b\n'}, {'number': 2, 'created': '2021-03-25 12:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c5fc80d8f33585e6f71ed30b7788b276db90a6e7', 'message': 'kolla-toolbox: Upgrade openvswitch collection to newer version\n\nAnsible 2.10 includes openvswitch.openvswitch collection in lower version than\n2.0.0 - which fixes the bug that state: absent requires value: to be set.\n\nRelated change: https://review.opendev.org/c/openstack/kolla-ansible/+/750631\n\nChange-Id: I92dab4394b7eebdcff7f90765cde078c1292312b\n'}, {'number': 3, 'created': '2021-04-06 12:12:05.000000000', 'files': ['docker/kolla-toolbox/requirements.yml', 'docker/kolla-toolbox/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/910153f342ee7b3968c6f6ae8a2c427aa0f41f94', 'message': 'kolla-toolbox: Upgrade openvswitch collection to newer version\n\nAnsible 2.10 includes openvswitch.openvswitch collection in lower version than\n2.0.0 - which fixes the bug that state: absent requires value: to be set.\n\nRelated change: https://review.opendev.org/c/openstack/kolla-ansible/+/750631\n\nChange-Id: I92dab4394b7eebdcff7f90765cde078c1292312b\n'}]",4,782906,910153f342ee7b3968c6f6ae8a2c427aa0f41f94,33,4,3,22629,,,0,"kolla-toolbox: Upgrade openvswitch collection to newer version

Ansible 2.10 includes openvswitch.openvswitch collection in lower version than
2.0.0 - which fixes the bug that state: absent requires value: to be set.

Related change: https://review.opendev.org/c/openstack/kolla-ansible/+/750631

Change-Id: I92dab4394b7eebdcff7f90765cde078c1292312b
",git fetch https://review.opendev.org/openstack/kolla refs/changes/06/782906/3 && git format-patch -1 --stdout FETCH_HEAD,"['docker/kolla-toolbox/requirements.yml', 'docker/kolla-toolbox/Dockerfile.j2']",2,30f29cecef0a6cad07fcdf9cf37b4a9733cea3be,,"COPY requirements.yml /var/lib/ansible/ && sed -i 's| ""identity_api_version"": ""2.0"",| ""identity_api_version"": ""3"",|' {{ os_client_config }} \ && ansible-galaxy collection install -p /opt/ansible/lib/python3.6/site-packages/ansible_collections -f -r /var/lib/ansible/requirements.yml"," && sed -i 's| ""identity_api_version"": ""2.0"",| ""identity_api_version"": ""3"",|' {{ os_client_config }}",7,1
openstack%2Fneutron~master~Ia5e899a4133a0952be8f607a61282e71fb0545d1,openstack/neutron,master,Ia5e899a4133a0952be8f607a61282e71fb0545d1,"Fix ""_get_sg_members"" method",MERGED,2021-04-06 10:17:43.000000000,2021-04-12 03:53:51.000000000,2021-04-08 15:33:12.000000000,"[{'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 10:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b5aa6d78f4b8ed59ff4e5f2637c1d14599abe39', 'message': 'Fix ""_get_sg_members"" method\n\nSince [1], the RPC method ""security_group_info_for_devices"" returns\nnot only the IP address but a list with the IP and the MAC addresses.\nThe returned blob is like this:\n  {sg_id: {\'IPv4\': [[ip1, mac1], [ip2, mac2], \'IPv6\': [...]}, ...}\n\nThe method ""_get_sg_members"" only needs the IP address, the MAC\naddress should be discarded.\n\nNOTE: this bug was detected when testing\n""neutron-tempest-plugin-scenario-linuxbridge"" CI job with\n""enable_ipset"" set to False. By default, this value is set to\nTrue (it is more efficient). In order to properly test this\npatch, I pushed [2], creating a CI job disabling this option.\n\nTo avoid overpopulating the Neutron CI, this job is not going\nto be added to the check gate (maybe to the periodic CI tasks).\n\n[1]https://review.opendev.org/q/I6cb2ba05fa3337be46eb01f2d9f869efa41e4db6\n[2]https://review.opendev.org/c/openstack/neutron/+/783103\n\nChange-Id: Ia5e899a4133a0952be8f607a61282e71fb0545d1\nCloses-Bug: #1922127\n'}, {'number': 2, 'created': '2021-04-06 12:54:51.000000000', 'files': ['neutron/agent/linux/iptables_firewall.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cca2b8de2c07e17b0917f982a006db598f6e4048', 'message': 'Fix ""_get_sg_members"" method\n\nSince [1], the RPC method ""security_group_info_for_devices"" returns\nnot only the IP address but a list with the IP and the MAC addresses.\nThe returned blob is like this:\n  {sg_id: {\'IPv4\': [[ip1, mac1], [ip2, mac2], \'IPv6\': [...]}, ...}\n\nThe method ""_get_sg_members"" only needs the IP address, the MAC\naddress should be discarded.\n\nNOTE: this bug was detected when testing\n""neutron-tempest-plugin-scenario-linuxbridge"" CI job with\n""enable_ipset"" set to False. By default, this value is set to\nTrue (it is more efficient). In order to properly test this\npatch, I pushed [2], creating a CI job disabling this option.\n\nTo avoid overpopulating the Neutron CI, this job is not going\nto be added to the check gate (maybe to the periodic CI tasks).\n\n[1]https://review.opendev.org/q/I6cb2ba05fa3337be46eb01f2d9f869efa41e4db6\n[2]https://review.opendev.org/c/openstack/neutron/+/783103\n\nChange-Id: Ia5e899a4133a0952be8f607a61282e71fb0545d1\nCloses-Bug: #1922127\n'}]",1,784913,cca2b8de2c07e17b0917f982a006db598f6e4048,32,7,2,16688,,,0,"Fix ""_get_sg_members"" method

Since [1], the RPC method ""security_group_info_for_devices"" returns
not only the IP address but a list with the IP and the MAC addresses.
The returned blob is like this:
  {sg_id: {'IPv4': [[ip1, mac1], [ip2, mac2], 'IPv6': [...]}, ...}

The method ""_get_sg_members"" only needs the IP address, the MAC
address should be discarded.

NOTE: this bug was detected when testing
""neutron-tempest-plugin-scenario-linuxbridge"" CI job with
""enable_ipset"" set to False. By default, this value is set to
True (it is more efficient). In order to properly test this
patch, I pushed [2], creating a CI job disabling this option.

To avoid overpopulating the Neutron CI, this job is not going
to be added to the check gate (maybe to the periodic CI tasks).

[1]https://review.opendev.org/q/I6cb2ba05fa3337be46eb01f2d9f869efa41e4db6
[2]https://review.opendev.org/c/openstack/neutron/+/783103

Change-Id: Ia5e899a4133a0952be8f607a61282e71fb0545d1
Closes-Bug: #1922127
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/784913/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/iptables_firewall.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py']",2,5b5aa6d78f4b8ed59ff4e5f2637c1d14599abe39,bug/1922127,"import collections def test__get_sg_members(self): sg_info = {_uuid(): {constants.IPv4: [['ip1', None]], constants.IPv6: []}, _uuid(): {constants.IPv4: [['ip2', None], ['ip3', None]], constants.IPv6: [['ip4', None]]}, } sg_ids = list(sg_info.keys()) self.assertEqual({'ip1'}, self.firewall._get_sg_members( sg_info, sg_ids[0], constants.IPv4)) self.assertEqual(set([]), self.firewall._get_sg_members( sg_info, sg_ids[0], constants.IPv6)) self.assertEqual({'ip2', 'ip3'}, self.firewall._get_sg_members( sg_info, sg_ids[1], constants.IPv4)) self.assertEqual({'ip4'}, self.firewall._get_sg_members( sg_info, sg_ids[1], constants.IPv6)) ",,19,1
openstack%2Fneutron~master~Ib1d8f2f4adeadbd59c3dccc7be1546baedc4b978,openstack/neutron,master,Ib1d8f2f4adeadbd59c3dccc7be1546baedc4b978,"Remove class ""Timer""",MERGED,2021-04-05 13:34:29.000000000,2021-04-12 03:53:18.000000000,2021-04-10 16:13:38.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-05 13:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a7f387e34e6380f51f673997c24b4bd5dec6629', 'message': 'Remove class ""Timer""\n\nClass ""Timer"" is not being used and the related unit tests\nare failing quite often in py38 CI job.\n\nChange-Id: Ib1d8f2f4adeadbd59c3dccc7be1546baedc4b978\nRelated-Bug: #1922563\n'}, {'number': 2, 'created': '2021-04-05 14:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0fd49a39047393107a54395e0cd2be3034a0e58b', 'message': 'Remove class ""Timer""\n\nClass ""Timer"" is not being used and the related unit tests\nare failing quite often in py38 CI job.\n\nChange-Id: Ib1d8f2f4adeadbd59c3dccc7be1546baedc4b978\nRelated-Bug: #1922563\n'}, {'number': 3, 'created': '2021-04-05 14:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/566826ce344598ca04712a40cf55c4d1e2802b34', 'message': 'Remove class ""Timer""\n\nClass ""Timer"" is not being used and the related unit tests\nare failing quite often in py38 CI job.\n\nChange-Id: Ib1d8f2f4adeadbd59c3dccc7be1546baedc4b978\nRelated-Bug: #1922563\n'}, {'number': 4, 'created': '2021-04-05 16:37:07.000000000', 'files': ['neutron/tests/functional/test_server.py', 'neutron/common/utils.py', 'neutron/tests/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/48bce78d1a07ff0e7726941d6e8e4aec8a92a77f', 'message': 'Remove class ""Timer""\n\nClass ""Timer"" is not being used and the related unit tests\nare failing quite often in py38 CI job.\n\nChange-Id: Ib1d8f2f4adeadbd59c3dccc7be1546baedc4b978\nRelated-Bug: #1922563\n'}]",5,784771,48bce78d1a07ff0e7726941d6e8e4aec8a92a77f,113,9,4,16688,,,0,"Remove class ""Timer""

Class ""Timer"" is not being used and the related unit tests
are failing quite often in py38 CI job.

Change-Id: Ib1d8f2f4adeadbd59c3dccc7be1546baedc4b978
Related-Bug: #1922563
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/784771/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/utils.py', 'neutron/tests/unit/common/test_utils.py']",2,0a7f387e34e6380f51f673997c24b4bd5dec6629,bug/1922563,,"class TimerTestCase(base.BaseTestCase): def test__getattr(self): with utils.Timer() as timer: time.sleep(1) self.assertLess(timer.total_seconds(), 2) self.assertEqual(1, timer.delta.seconds) def test__enter_with_timeout(self): with utils.Timer(timeout=10) as timer: time.sleep(1) self.assertLess(timer.total_seconds(), 2) def test__enter_with_timeout_exception(self): msg = r'Timer timeout expired after 1 second\(s\).' with self.assertRaisesRegex(utils.TimerTimeout, msg): with utils.Timer(timeout=1): time.sleep(2) def test__enter_with_timeout_no_exception(self): with utils.Timer(timeout=1, raise_exception=False): time.sleep(2) def test__iter(self): iterations = [] for i in utils.Timer(timeout=2): iterations.append(i) time.sleep(1.1) self.assertEqual(2, len(iterations)) def test_delta_time_sec(self): with utils.Timer() as timer: self.assertIsInstance(timer.delta_time_sec, float) ",0,101
openstack%2Fkolla~master~Ie4eacb57b106c0f7c0a27b181d843101d7b26179,openstack/kolla,master,Ie4eacb57b106c0f7c0a27b181d843101d7b26179,rabbitmq: use Focal repo,MERGED,2021-04-07 09:49:19.000000000,2021-04-12 03:53:10.000000000,2021-04-07 14:48:45.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-07 09:49:19.000000000', 'files': ['kolla/template/repos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/eb83693ea114152b2ff16c2e01be5f82736bbb19', 'message': 'rabbitmq: use Focal repo\n\nChange-Id: Ie4eacb57b106c0f7c0a27b181d843101d7b26179\n'}]",0,785114,eb83693ea114152b2ff16c2e01be5f82736bbb19,9,3,1,24072,,,0,"rabbitmq: use Focal repo

Change-Id: Ie4eacb57b106c0f7c0a27b181d843101d7b26179
",git fetch https://review.opendev.org/openstack/kolla refs/changes/14/785114/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/template/repos.yaml'],1,eb83693ea114152b2ff16c2e01be5f82736bbb19,," rabbitmq: ""deb https://dl.bintray.com/rabbitmq/debian/ focal main"" rabbitmq: ""deb https://dl.bintray.com/rabbitmq/debian/ focal main"" rabbitmq: ""deb https://dl.bintray.com/rabbitmq/debian/ focal main"""," # NOTE(hrw): upstream uses bionic repo for focal rabbitmq: ""deb https://dl.bintray.com/rabbitmq/debian/ bionic main"" rabbitmq: ""deb https://dl.bintray.com/rabbitmq/debian/ bionic main"" rabbitmq: ""deb https://dl.bintray.com/rabbitmq/debian/ bionic main""",3,4
openstack%2Fkolla~master~I3fd97893e710b02371eed2a409c80783abf681a0,openstack/kolla,master,I3fd97893e710b02371eed2a409c80783abf681a0,rally: use Python 3 on Debian/Ubuntu,MERGED,2021-04-06 11:33:16.000000000,2021-04-12 03:52:46.000000000,2021-04-06 18:12:08.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-06 11:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ca59e28b6789cb0f2d3b18edfa82821d14a1f1ef', 'message': 'rally: use Python 3 on Debian/Ubuntu\n\nChange-Id: I3fd97893e710b02371eed2a409c80783abf681a0\n'}, {'number': 2, 'created': '2021-04-06 12:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/115ea243ce782f7e3ee790204f6ccf49cd03b519', 'message': 'rally: use Python 3 on Debian/Ubuntu\n\nChange-Id: I3fd97893e710b02371eed2a409c80783abf681a0\n'}, {'number': 3, 'created': '2021-04-06 13:15:47.000000000', 'files': ['docker/rally/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/53c667364cad70c02dfd983316c9b769a664fc12', 'message': 'rally: use Python 3 on Debian/Ubuntu\n\nChange-Id: I3fd97893e710b02371eed2a409c80783abf681a0\n'}]",0,784927,53c667364cad70c02dfd983316c9b769a664fc12,15,4,3,24072,,,0,"rally: use Python 3 on Debian/Ubuntu

Change-Id: I3fd97893e710b02371eed2a409c80783abf681a0
",git fetch https://review.opendev.org/openstack/kolla refs/changes/27/784927/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/rally/Dockerfile.j2'],1,ca59e28b6789cb0f2d3b18edfa82821d14a1f1ef,," 'python3-os-testr',"," 'python-os-testr',",1,1
openstack%2Fkolla~master~I7c1f0c5fc643678b29f963b6769d8f900a03b726,openstack/kolla,master,I7c1f0c5fc643678b29f963b6769d8f900a03b726,[CI] Publish images to quay.io on a daily basis,MERGED,2021-03-17 17:05:36.000000000,2021-04-12 03:52:42.000000000,2021-04-08 13:59:50.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-03-17 17:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f047abe5994f2f6cc6da6f540f9c81318de68523', 'message': '[WIP] quay.io\n\nChange-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726\n'}, {'number': 2, 'created': '2021-03-17 17:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/820c5b3065ecebc3b005d24897bacb4105bbfee5', 'message': '[WIP] quay.io\n\nChange-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726\n'}, {'number': 3, 'created': '2021-03-17 17:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/815ff72d551d041654a229a32518f472620fce87', 'message': '[WIP] quay.io\n\nChange-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726\n'}, {'number': 4, 'created': '2021-03-17 18:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/77f1d58ca9103706b477c8bd06de8f536f54240a', 'message': '[WIP] quay.io\n\nChange-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726\n'}, {'number': 5, 'created': '2021-03-17 18:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/17180f642d40fce0da3b5220772c3022a4bbdb80', 'message': '[WIP] quay.io\n\nChange-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726\n'}, {'number': 6, 'created': '2021-03-18 10:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d0ed6131e414ee733ca0a5ef28eeb43571d65d84', 'message': '[WIP] quay.io\n\nChange-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726\n'}, {'number': 7, 'created': '2021-03-18 12:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/726af005679bd33b81e78bdabcc801da39931d33', 'message': '[WIP] quay.io\n\nChange-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726\n'}, {'number': 8, 'created': '2021-03-19 16:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5fd235065d1dd90a251e69456b76455d41a78773', 'message': '[WIP] quay.io\n\nChange-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726\n'}, {'number': 9, 'created': '2021-04-01 18:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/81dbb9ea067ccedb3a1ba96d9ef0842d419f13b9', 'message': '[WIP] quay.io\n\nChange-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726\n'}, {'number': 10, 'created': '2021-04-02 17:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6a7ff01bc1919f7c47cd5877634dad374e0b5f42', 'message': '[CI] Publish images to quay.io on a daily basis\n\nBased on the discussions from the past 3 Kolla meetings [1][2][3],\nwe established that, to avoid the DockerHub pull limit issues\nin our CI, we will try using quay.io.\n\nWe still publish weekly to the DockerHub.\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102\n[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137\n[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50\n\nChange-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726\n'}, {'number': 11, 'created': '2021-04-02 17:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bdb59e09663126a270a535e5bdcbdfb89fa0918c', 'message': '[CI] Publish images to quay.io on a daily basis\n\nBased on the discussions from the past 3 Kolla meetings [1][2][3],\nwe established that, to avoid the DockerHub pull limit issues\nin our CI, we will try using quay.io.\n\nWe still publish weekly to the DockerHub.\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102\n[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137\n[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50\n\nChange-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726\n'}, {'number': 12, 'created': '2021-04-02 17:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8596a0b9e57670d9adbe886c2692206056b03680', 'message': '[CI] Publish images to quay.io on a daily basis\n\nBased on the discussions from the past 3 Kolla meetings [1][2][3],\nwe established that, to avoid the DockerHub pull limit issues\nin our CI, we will try using quay.io.\n\nWe still publish weekly to the DockerHub.\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102\n[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137\n[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50\n\nChange-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726\n'}, {'number': 13, 'created': '2021-04-02 19:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e340100c04ce1a7133b0dd90d1f336688f9825da', 'message': '[CI] Publish images to quay.io on a daily basis\n\nBased on the discussions from the past 3 Kolla meetings [1][2][3],\nwe established that, to avoid the DockerHub pull limit issues\nin our CI, we will try using quay.io.\n\nWe still publish weekly to the DockerHub.\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102\n[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137\n[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50\n\nChange-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726\n'}, {'number': 14, 'created': '2021-04-06 11:01:22.000000000', 'files': ['tests/playbooks/run.yml', '.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/base.yaml', '.zuul.d/ubuntu.yaml', 'tests/playbooks/publish.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/10d8f03c4e6fe2e78f06e9c59f44210c8c2e73eb', 'message': '[CI] Publish images to quay.io on a daily basis\n\nBased on the discussions from the past 3 Kolla meetings [1][2][3],\nwe established that, to avoid the DockerHub pull limit issues\nin our CI, we will try using quay.io.\n\nWe still publish weekly to the DockerHub.\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102\n[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137\n[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50\n\nChange-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726\nDepends-On: Id113a53c083d105ac9200474ff20faacef6decaf\n'}]",5,781130,10d8f03c4e6fe2e78f06e9c59f44210c8c2e73eb,74,7,14,30491,,,0,"[CI] Publish images to quay.io on a daily basis

Based on the discussions from the past 3 Kolla meetings [1][2][3],
we established that, to avoid the DockerHub pull limit issues
in our CI, we will try using quay.io.

We still publish weekly to the DockerHub.

[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102
[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137
[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50

Change-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726
Depends-On: Id113a53c083d105ac9200474ff20faacef6decaf
",git fetch https://review.opendev.org/openstack/kolla refs/changes/30/781130/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/playbooks/run.yml', '.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/base.yaml', '.zuul.d/ubuntu.yaml', 'tests/playbooks/publish.yml']",6,f047abe5994f2f6cc6da6f540f9c81318de68523,kolla-quay.io," - name: Login to quay.io docker_login: registry: quay.io username: ""{{ kolla_quay_io_creds.username | trim }}"" password: ""{{ kolla_quay_io_creds.password | trim }}"" registry: ""quay.io/{{ item.RepoTags.0 }}"" source: local - fail:"," - name: Login to Dockerhub docker_login: username: ""{{ kolla_dockerhub_creds.user | trim }}"" password: ""{{ kolla_dockerhub_creds.password | trim }}""",140,107
openstack%2Fkolla~stable%2Fvictoria~I7c1f0c5fc643678b29f963b6769d8f900a03b726,openstack/kolla,stable/victoria,I7c1f0c5fc643678b29f963b6769d8f900a03b726,[CI] Publish images to quay.io on a daily basis,MERGED,2021-03-19 19:50:26.000000000,2021-04-12 03:50:58.000000000,2021-04-08 16:42:27.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-19 19:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/03f794745bf7bbc1378344a637d6867b9b86fa3f', 'message': '[WIP] quay.io\n\nChange-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726\n(cherry picked from commit 5fd235065d1dd90a251e69456b76455d41a78773)\n'}, {'number': 2, 'created': '2021-04-08 12:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/38577c29575cfb346189023b4201cf071b9b3275', 'message': '[CI] Publish images to quay.io on a daily basis\n\nBased on the discussions from the past 3 Kolla meetings [1][2][3],\nwe established that, to avoid the DockerHub pull limit issues\nin our CI, we will try using quay.io.\n\nWe still publish weekly to the DockerHub.\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102\n[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137\n[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50\n\nChange-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726\nDepends-On: Id113a53c083d105ac9200474ff20faacef6decaf\n'}, {'number': 3, 'created': '2021-04-08 12:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1a38aa5007af01c7b27a042c30adbfa63c962baf', 'message': '[CI] Publish images to quay.io on a daily basis\n\nBased on the discussions from the past 3 Kolla meetings [1][2][3],\nwe established that, to avoid the DockerHub pull limit issues\nin our CI, we will try using quay.io.\n\nWe still publish weekly to the DockerHub.\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102\n[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137\n[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50\n\nChange-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726\nDepends-On: Id113a53c083d105ac9200474ff20faacef6decaf\n'}, {'number': 4, 'created': '2021-04-08 12:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2ad9ae440c349a2ea607ad33a9ca380eca75ce80', 'message': '[CI] Publish images to quay.io on a daily basis\n\nBased on the discussions from the past 3 Kolla meetings [1][2][3],\nwe established that, to avoid the DockerHub pull limit issues\nin our CI, we will try using quay.io.\n\nWe still publish weekly to the DockerHub.\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102\n[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137\n[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50\n\nChange-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726\nDepends-On: Id113a53c083d105ac9200474ff20faacef6decaf\n'}, {'number': 5, 'created': '2021-04-08 13:01:57.000000000', 'files': ['tests/playbooks/run.yml', '.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/base.yaml', '.zuul.d/ubuntu.yaml', 'tests/playbooks/publish.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/cc310a525c9c2f1add957abf7a10caa5715d39d2', 'message': '[CI] Publish images to quay.io on a daily basis\n\nBased on the discussions from the past 3 Kolla meetings [1][2][3],\nwe established that, to avoid the DockerHub pull limit issues\nin our CI, we will try using quay.io.\n\nWe still publish weekly to the DockerHub.\n\nCherry-picks in Victoria and below include the switch to\nDocker module for Ansible.\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102\n[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137\n[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50\n\nChange-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726\n'}]",0,781899,cc310a525c9c2f1add957abf7a10caa5715d39d2,33,5,5,30491,,,0,"[CI] Publish images to quay.io on a daily basis

Based on the discussions from the past 3 Kolla meetings [1][2][3],
we established that, to avoid the DockerHub pull limit issues
in our CI, we will try using quay.io.

We still publish weekly to the DockerHub.

Cherry-picks in Victoria and below include the switch to
Docker module for Ansible.

[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102
[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137
[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50

Change-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726
",git fetch https://review.opendev.org/openstack/kolla refs/changes/99/781899/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/playbooks/run.yml', '.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/base.yaml', '.zuul.d/project.yaml', '.zuul.d/ubuntu.yaml', 'tests/playbooks/publish.yml']",7,03f794745bf7bbc1378344a637d6867b9b86fa3f,kolla-quay.io-stable/victoria," - name: Ensure docker python SDK is installed become: true pip: name: ""docker"" state: present - name: List all containers docker_host_info: images: yes images_filters: reference: ""openstack.kolla/*"" register: docker_host_info - name: Login to quay.io docker_login: registry: quay.io username: ""{{ kolla_quay_io_creds.username | trim }}"" password: ""{{ kolla_quay_io_creds.password | trim }}"" - name: Push built container images docker_image: name: ""{{ item.RepoTags.0 }}"" push: yes repository: ""quay.io/{{ item.RepoTags.0 }}"" source: local loop: ""{{ docker_host_info.images }}"" - fail:"," - name: Login to Dockerhub command: ""docker login -u {{ kolla_dockerhub_creds.user }} -p {{ kolla_dockerhub_creds.password }}"" no_log: true - shell: ""for img in $(docker images --format '{% raw %}{{ .Repository }}:{{ .Tag }}{% endraw %}' | grep kolla ); do docker push $img; done""",67,160
openstack%2Fkolla~stable%2Fussuri~I95aa64f0b292cd020574dbedd320ef90529cc7a4,openstack/kolla,stable/ussuri,I95aa64f0b292cd020574dbedd320ef90529cc7a4,base: configure curl before first use,MERGED,2021-04-08 08:40:44.000000000,2021-04-12 03:50:42.000000000,2021-04-08 11:18:18.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-08 08:40:44.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/00339ecc48e301727a648d9e9b0713bac13fefa8', 'message': ""base: configure curl before first use\n\nWe want to have all uses of curl behave the same so we ship config file\nfor it in all images.\n\nSo do it at start of image so 'base' makes use of config too.\n\nChange-Id: I95aa64f0b292cd020574dbedd320ef90529cc7a4\n(cherry picked from commit 4328a5b3cc0e90e32952ecfeab2b63407ee8e22a)\n""}]",0,785329,00339ecc48e301727a648d9e9b0713bac13fefa8,9,3,1,30491,,,0,"base: configure curl before first use

We want to have all uses of curl behave the same so we ship config file
for it in all images.

So do it at start of image so 'base' makes use of config too.

Change-Id: I95aa64f0b292cd020574dbedd320ef90529cc7a4
(cherry picked from commit 4328a5b3cc0e90e32952ecfeab2b63407ee8e22a)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/29/785329/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,00339ecc48e301727a648d9e9b0713bac13fefa8,,# We use curl in this dockerfile so let configure it before first use COPY curlrc /root/.curlrc ,COPY curlrc /root/.curlrc,3,1
openstack%2Fkolla~stable%2Fussuri~I7c1f0c5fc643678b29f963b6769d8f900a03b726,openstack/kolla,stable/ussuri,I7c1f0c5fc643678b29f963b6769d8f900a03b726,[CI] Publish images to quay.io on a daily basis,MERGED,2021-04-02 14:04:24.000000000,2021-04-12 03:50:05.000000000,2021-04-09 17:17:31.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-02 14:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5cc14c9dd19fd93d34fee42504bf97fdf8ba28fc', 'message': '[WIP] quay.io\n\nChange-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726\n(cherry picked from commit 5fd235065d1dd90a251e69456b76455d41a78773)\n'}, {'number': 2, 'created': '2021-04-02 14:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/38e1905846804ee40e4e5eae21e55d27b9869b66', 'message': '[WIP] quay.io\n\nChange-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726\n(cherry picked from commit 5fd235065d1dd90a251e69456b76455d41a78773)\n'}, {'number': 3, 'created': '2021-04-08 13:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5a6b59d455426782bb1bfafcaecbe5d34c846abe', 'message': '[CI] Publish images to quay.io on a daily basis\n\nBased on the discussions from the past 3 Kolla meetings [1][2][3],\nwe established that, to avoid the DockerHub pull limit issues\nin our CI, we will try using quay.io.\n\nWe still publish weekly to the DockerHub.\n\nCherry-picks in Victoria and below include the switch to\nDocker module for Ansible.\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102\n[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137\n[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50\n\nChange-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726\n'}, {'number': 4, 'created': '2021-04-08 13:50:50.000000000', 'files': ['.zuul.d/debian.yaml', '.zuul.d/centos.yaml', 'tests/templates/kolla-build.conf.j2', '.zuul.d/base.yaml', '.zuul.d/ubuntu.yaml', 'tests/playbooks/publish.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c80ac9717a1a942cb77da33df61dff485cc2d91a', 'message': '[CI] Publish images to quay.io on a daily basis\n\nBased on the discussions from the past 3 Kolla meetings [1][2][3],\nwe established that, to avoid the DockerHub pull limit issues\nin our CI, we will try using quay.io.\n\nWe still publish weekly to the DockerHub.\n\nCherry-picks in Victoria and below include the switch to\nDocker module for Ansible.\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102\n[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137\n[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50\n\nChange-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726\n'}]",0,784578,c80ac9717a1a942cb77da33df61dff485cc2d91a,23,3,4,30491,,,0,"[CI] Publish images to quay.io on a daily basis

Based on the discussions from the past 3 Kolla meetings [1][2][3],
we established that, to avoid the DockerHub pull limit issues
in our CI, we will try using quay.io.

We still publish weekly to the DockerHub.

Cherry-picks in Victoria and below include the switch to
Docker module for Ansible.

[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102
[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137
[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50

Change-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726
",git fetch https://review.opendev.org/openstack/kolla refs/changes/78/784578/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/playbooks/run.yml', '.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/base.yaml', '.zuul.d/project.yaml', '.zuul.d/ubuntu.yaml', 'tests/playbooks/publish.yml']",7,5cc14c9dd19fd93d34fee42504bf97fdf8ba28fc,kolla-quay.io-stable/victoria-stable/ussuri," - name: Ensure docker python SDK is installed become: true pip: name: ""docker"" state: present - name: List all containers docker_host_info: images: yes images_filters: reference: ""openstack.kolla/*"" register: docker_host_info - name: Login to quay.io docker_login: registry: quay.io username: ""{{ kolla_quay_io_creds.username | trim }}"" password: ""{{ kolla_quay_io_creds.password | trim }}"" - name: Push built container images docker_image: name: ""{{ item.RepoTags.0 }}"" push: yes repository: ""quay.io/{{ item.RepoTags.0 }}"" source: local loop: ""{{ docker_host_info.images }}"" - fail:"," - name: Login to Dockerhub command: ""docker login -u {{ kolla_dockerhub_creds.user }} -p {{ kolla_dockerhub_creds.password }}"" no_log: true - shell: ""for img in $(docker images --format '{% raw %}{{ .Repository }}:{{ .Tag }}{% endraw %}' | grep kolla ); do docker push $img; done""",119,38
openstack%2Fkolla~stable%2Fvictoria~I95aa64f0b292cd020574dbedd320ef90529cc7a4,openstack/kolla,stable/victoria,I95aa64f0b292cd020574dbedd320ef90529cc7a4,base: configure curl before first use,MERGED,2021-04-08 08:39:38.000000000,2021-04-12 03:49:39.000000000,2021-04-08 11:18:43.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-08 08:39:38.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/302f4a9cdb23ce7a1e780e63615089c6478bcdff', 'message': ""base: configure curl before first use\n\nWe want to have all uses of curl behave the same so we ship config file\nfor it in all images.\n\nSo do it at start of image so 'base' makes use of config too.\n\nChange-Id: I95aa64f0b292cd020574dbedd320ef90529cc7a4\n(cherry picked from commit 4328a5b3cc0e90e32952ecfeab2b63407ee8e22a)\n""}]",0,785328,302f4a9cdb23ce7a1e780e63615089c6478bcdff,9,3,1,30491,,,0,"base: configure curl before first use

We want to have all uses of curl behave the same so we ship config file
for it in all images.

So do it at start of image so 'base' makes use of config too.

Change-Id: I95aa64f0b292cd020574dbedd320ef90529cc7a4
(cherry picked from commit 4328a5b3cc0e90e32952ecfeab2b63407ee8e22a)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/28/785328/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,302f4a9cdb23ce7a1e780e63615089c6478bcdff,,# We use curl in this dockerfile so let configure it before first use COPY curlrc /root/.curlrc ,COPY curlrc /root/.curlrc,3,1
openstack%2Fkolla~master~I95aa64f0b292cd020574dbedd320ef90529cc7a4,openstack/kolla,master,I95aa64f0b292cd020574dbedd320ef90529cc7a4,base: configure curl before first use,MERGED,2021-04-07 09:56:28.000000000,2021-04-12 03:49:30.000000000,2021-04-08 00:03:11.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-07 09:56:28.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4328a5b3cc0e90e32952ecfeab2b63407ee8e22a', 'message': ""base: configure curl before first use\n\nWe want to have all uses of curl behave the same so we ship config file\nfor it in all images.\n\nSo do it at start of image so 'base' makes use of config too.\n\nChange-Id: I95aa64f0b292cd020574dbedd320ef90529cc7a4\n""}]",0,785115,4328a5b3cc0e90e32952ecfeab2b63407ee8e22a,11,3,1,24072,,,0,"base: configure curl before first use

We want to have all uses of curl behave the same so we ship config file
for it in all images.

So do it at start of image so 'base' makes use of config too.

Change-Id: I95aa64f0b292cd020574dbedd320ef90529cc7a4
",git fetch https://review.opendev.org/openstack/kolla refs/changes/15/785115/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,4328a5b3cc0e90e32952ecfeab2b63407ee8e22a,,# We use curl in this dockerfile so let configure it before first use COPY curlrc /root/.curlrc ,COPY curlrc /root/.curlrc,3,1
openstack%2Fcyborg~master~Ib8541123f70f7ae56f6a8443e23d2b00530d1fba,openstack/cyborg,master,Ib8541123f70f7ae56f6a8443e23d2b00530d1fba,Remove TODO tag,MERGED,2021-04-08 07:35:11.000000000,2021-04-12 03:02:23.000000000,2021-04-12 03:01:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-04-08 07:35:11.000000000', 'files': ['cyborg/tests/unit/common/test_nova_client.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/f3698212e973ec4c30d289d8a906084caee023fe', 'message': 'Remove TODO tag\n\nChange-Id: Ib8541123f70f7ae56f6a8443e23d2b00530d1fba\n'}]",0,785315,f3698212e973ec4c30d289d8a906084caee023fe,8,4,1,31412,,,0,"Remove TODO tag

Change-Id: Ib8541123f70f7ae56f6a8443e23d2b00530d1fba
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/15/785315/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/tests/unit/common/test_nova_client.py'],1,f3698212e973ec4c30d289d8a906084caee023fe,, wsgi_api_version = '2.82', wsgi_api_version = '2.81' # TODO(Sundar): Make this 2.82,1,1
openstack%2Fheat-translator~stable%2Fwallaby~I0907b724f538ee9227608b8415eb581cc220e91a,openstack/heat-translator,stable/wallaby,I0907b724f538ee9227608b8415eb581cc220e91a,Update .gitreview for stable/wallaby,MERGED,2021-03-19 19:42:27.000000000,2021-04-12 02:37:26.000000000,2021-04-12 02:36:16.000000000,"[{'_account_id': 22348}, {'_account_id': 27880}, {'_account_id': 31821}]","[{'number': 1, 'created': '2021-03-19 19:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/2261406297341e35b43a69756358ae5005e3c76f', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I0907b724f538ee9227608b8415eb581cc220e91a\n'}, {'number': 2, 'created': '2021-03-25 11:28:10.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/7575ea6940fcc3547b241556af8008e69c1e1c0e', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I0907b724f538ee9227608b8415eb581cc220e91a\n'}]",0,781873,7575ea6940fcc3547b241556af8008e69c1e1c0e,10,3,2,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: I0907b724f538ee9227608b8415eb581cc220e91a
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/73/781873/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,2261406297341e35b43a69756358ae5005e3c76f,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fheat-translator~stable%2Fwallaby~I545b526b347831943553a3cc54b5f3d67a2fe772,openstack/heat-translator,stable/wallaby,I545b526b347831943553a3cc54b5f3d67a2fe772,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-19 19:42:30.000000000,2021-04-12 02:29:27.000000000,2021-04-12 02:28:25.000000000,"[{'_account_id': 22348}, {'_account_id': 27880}, {'_account_id': 31821}]","[{'number': 1, 'created': '2021-03-19 19:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/44d685e3c1c9c3696752bfa37f0b17e7195fbdb6', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I545b526b347831943553a3cc54b5f3d67a2fe772\n'}, {'number': 2, 'created': '2021-03-25 11:28:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/0bfed9e03f15c6d4106c71bd74fcb99b2f6733a1', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I545b526b347831943553a3cc54b5f3d67a2fe772\n'}]",0,781874,0bfed9e03f15c6d4106c71bd74fcb99b2f6733a1,10,3,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I545b526b347831943553a3cc54b5f3d67a2fe772
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/74/781874/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,44d685e3c1c9c3696752bfa37f0b17e7195fbdb6,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fneutron~master~I66d70304530935e2add3345aba6aa3c549a0a2df,openstack/neutron,master,I66d70304530935e2add3345aba6aa3c549a0a2df,Always use absolute path for custom kill-scripts,MERGED,2021-04-09 13:31:58.000000000,2021-04-12 01:44:00.000000000,2021-04-12 01:42:35.000000000,"[{'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-09 13:31:58.000000000', 'files': ['neutron/tests/unit/agent/linux/test_external_process.py', 'neutron/agent/linux/external_process.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e5ccfee6cfb503c3ba7cce816fae331dd017f3ce', 'message': ""Always use absolute path for custom kill-scripts\n\nWhen rootwrap was used to run custom kill-scripts, it worked fine with\nthe executable name without full path as path was in the rootwrap's\nexec_dirs config option thus rootwrap was able to find it.\n\nBut as we migrated to privsep it don't works like that anymore.\nIt's better to use absolute path of the kill-script always and that\npatch changes to do it like that.\n\nChange-Id: I66d70304530935e2add3345aba6aa3c549a0a2df\nCloses-Bug: #1923198\n""}]",0,785638,e5ccfee6cfb503c3ba7cce816fae331dd017f3ce,19,4,1,11975,,,0,"Always use absolute path for custom kill-scripts

When rootwrap was used to run custom kill-scripts, it worked fine with
the executable name without full path as path was in the rootwrap's
exec_dirs config option thus rootwrap was able to find it.

But as we migrated to privsep it don't works like that anymore.
It's better to use absolute path of the kill-script always and that
patch changes to do it like that.

Change-Id: I66d70304530935e2add3345aba6aa3c549a0a2df
Closes-Bug: #1923198
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/785638/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_external_process.py', 'neutron/agent/linux/external_process.py']",2,e5ccfee6cfb503c3ba7cce816fae331dd017f3ce,bug/1923198," kill_file_path = os.path.join(self.kill_scripts_path, kill_file) if os.path.isfile(kill_file_path): return [kill_file_path, sig, pid]"," if os.path.isfile(os.path.join(self.kill_scripts_path, kill_file)): return [kill_file, sig, pid]",5,3
openstack%2Ftacker~master~I0adc31026ec0122878e4a18c145db5b29cf63941,openstack/tacker,master,I0adc31026ec0122878e4a18c145db5b29cf63941,[DNM] Check the result of reverted code,ABANDONED,2021-03-26 17:52:05.000000000,2021-04-12 01:04:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-26 17:52:05.000000000', 'files': ['tacker/vnfm/infra_drivers/openstack/openstack.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/935d7655bae06b0495788a10ff95968e46a70d9f', 'message': '[DNM] Check the result of reverted code\n\nChange-Id: I0adc31026ec0122878e4a18c145db5b29cf63941\n'}]",0,783407,935d7655bae06b0495788a10ff95968e46a70d9f,5,1,1,32219,,,0,"[DNM] Check the result of reverted code

Change-Id: I0adc31026ec0122878e4a18c145db5b29cf63941
",git fetch https://review.opendev.org/openstack/tacker refs/changes/07/783407/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker/vnfm/infra_drivers/openstack/openstack.py'],1,935d7655bae06b0495788a10ff95968e46a70d9f,DNMPatch, grant = vnf['grant'] ins_inf = vnf_instance.instantiated_vnf_info.vnfc_resource_info for addrsc in grant.add_resources: for zone in grant.zones: if zone.id == addrsc.zone_id: vdu_name = None for rsc in ins_inf: if addrsc.resource_definition_id == rsc.id: vdu_name = rsc.vdu_id break if not vdu_name: continue hot_param_dict['nfv']['VDU'][vdu_name]['zone'] = \ zone.zone_id if 'vim_assets' in grant and grant.vim_assets: for flavour in grant.vim_assets.compute_resource_flavours: vdu_name = flavour.vnfd_virtual_compute_desc_id hot_param_dict['nfv']['VDU'][vdu_name]['flavor'] = \ flavour.vim_flavour_id for image in grant.vim_assets.software_images: vdu_name = image.vnfd_software_image_id hot_param_dict['nfv']['VDU'][vdu_name]['image'] = \ image.vim_software_image_id," base_hot_dict, nested_hot_dict, hot_param_dict = \ self._setup_hot_for_grant_resources(vnf, vnf_instance, base_hot_dict, nested_hot_dict, hot_param_dict)",23,3
openstack%2Ftacker~master~I02e534c694aff932ac8d76cbbc874e1a8cb0cb11,openstack/tacker,master,I02e534c694aff932ac8d76cbbc874e1a8cb0cb11,[DNM] Test the fixes for NFVO Separation FT,ABANDONED,2021-03-31 05:54:20.000000000,2021-04-12 01:04:22.000000000,,"[{'_account_id': 22348}, {'_account_id': 31813}]","[{'number': 1, 'created': '2021-03-31 05:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/60e24c5df763502bf9a2a351f9ea7f48a4a01c58', 'message': '[DNM] Test the fixes for NFVO Separation FT\n\nChange-Id: I02e534c694aff932ac8d76cbbc874e1a8cb0cb11\n'}, {'number': 2, 'created': '2021-04-01 06:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/8699cdb172830826adc5337059e839ea55ed5395', 'message': '[DNM] Test the fixes for NFVO Separation FT\n\nChange-Id: I02e534c694aff932ac8d76cbbc874e1a8cb0cb11\n'}, {'number': 3, 'created': '2021-04-01 07:17:33.000000000', 'files': ['samples/tosca-templates/vnfd/tosca-vnfd-scale.yaml', 'tacker/tests/etc/samples/sample-tosca-scale-all.yaml', 'tacker/tests/etc/samples/sample-tosca-vnfd-maintenance.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional6/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/tosca_alarm_scale.yaml', 'tacker/tests/etc/samples/sample-tosca-vnfd-instance-reservation.yaml', 'lower-constraints.txt', 'tacker/tests/etc/samples/etsi/nfv/functional6/BaseHOT/simple/helloworld3.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional6/BaseHOT/simple/nested/VDU2.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/tosca_scale.yaml', 'tacker/tosca/lib/tacker_defs.yaml', 'requirements.txt', 'tacker/tests/etc/samples/etsi/nfv/functional5/BaseHOT/simple/helloworld3.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/test_tosca_vnfd_alarm_scale.yaml', 'samples/tosca-templates/vnfd/tosca-vnfd-alarm-scale.yaml', 'tacker/tests/functional/sol_separated_nfvo/vnflcm/test_vnf_instance_with_user_data_nfvo_separate.py', 'tacker/tests/etc/samples/etsi/nfv/functional6/BaseHOT/simple/nested/VDU1.yaml', 'tacker/tests/etc/samples/sample-tosca-alarm-scale.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/5b3b58f88627f3b51c4ad1bc03c78ce295b6bf68', 'message': '[DNM] Test the fixes for NFVO Separation FT\n\nChange-Id: I02e534c694aff932ac8d76cbbc874e1a8cb0cb11\n'}]",0,784001,5b3b58f88627f3b51c4ad1bc03c78ce295b6bf68,8,2,3,32219,,,0,"[DNM] Test the fixes for NFVO Separation FT

Change-Id: I02e534c694aff932ac8d76cbbc874e1a8cb0cb11
",git fetch https://review.opendev.org/openstack/tacker refs/changes/01/784001/2 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/etc/samples/etsi/nfv/functional6/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/functional/sol_separated_nfvo/vnflcm/test_vnf_instance_with_user_data_nfvo_separate.py', 'tacker/tests/etc/samples/etsi/nfv/functional6/BaseHOT/simple/nested/VDU1.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional6/BaseHOT/simple/helloworld3.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional6/BaseHOT/simple/nested/VDU2.yaml']",5,60e24c5df763502bf9a2a351f9ea7f48a4a01c58,DNMPatch, ip1: type: string subnet: type: string fixed_ips: - ip_address: { get_param: ip1} subnet: { get_param: subnet},,38,20
openstack%2Ftripleo-quickstart~master~Ic7cb212f8f24b7886b8480585df23d6bbc95cb2b,openstack/tripleo-quickstart,master,Ic7cb212f8f24b7886b8480585df23d6bbc95cb2b,Bump to container-tools:3.0 for upstream CI,MERGED,2021-04-08 13:09:41.000000000,2021-04-12 00:23:29.000000000,2021-04-12 00:22:18.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-04-08 13:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5611da8c57e16080ebef7c88e773957033dd6e57', 'message': ""Bump to container-tools:3.0 for upstream CI\n\nThis patch rev's container-tools in the victoria\nrelease file.\n\nChange-Id: Ic7cb212f8f24b7886b8480585df23d6bbc95cb2b\n""}, {'number': 2, 'created': '2021-04-09 20:22:13.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/victoria.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bdd0bc7f77a6b2e0596225679ac4479fae4ce239', 'message': ""Bump to container-tools:3.0 for upstream CI\n\nThis patch rev's container-tools in the victoria\nrelease file.\n\nChange-Id: Ic7cb212f8f24b7886b8480585df23d6bbc95cb2b\n""}]",0,785412,bdd0bc7f77a6b2e0596225679ac4479fae4ce239,19,7,2,9976,,,0,"Bump to container-tools:3.0 for upstream CI

This patch rev's container-tools in the victoria
release file.

Change-Id: Ic7cb212f8f24b7886b8480585df23d6bbc95cb2b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/12/785412/2 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/victoria.yml'],1,5611da8c57e16080ebef7c88e773957033dd6e57,container-tools-3-victoria, sudo dnf module enable container-tools:3.0 -y;, sudo dnf module enable container-tools:2.0 -y;,1,1
openstack%2Fpuppet-openstack_spec_helper~stable%2Fqueens~I9caf233a3bebfb17e7df03583b57a97d8e04583c,openstack/puppet-openstack_spec_helper,stable/queens,I9caf233a3bebfb17e7df03583b57a97d8e04583c,Train and before: Pin rexml on CentOS7,MERGED,2021-04-07 11:18:57.000000000,2021-04-12 00:22:10.000000000,2021-04-12 00:22:10.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 11:18:57.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/5d322cd3ecad8fb05d5008dd22bace597b9c88e7', 'message': ""Train and before: Pin rexml on CentOS7\n\n... because the latest rexml 3.2.5 is not compabible with the old ruby\non CentOS7 because of [1], and results in the following syntax error.\n\nrexml-3.2.5/lib/rexml/parsers/baseparser.rb:515:\nsyntax error, unexpected ',' (SyntaxError)\n\n[1] https://github.com/ruby/rexml/commit/9b311e59ae05749e082eb6bbefa1cb620d1a786e\nChange-Id: I9caf233a3bebfb17e7df03583b57a97d8e04583c\n(cherry picked from commit ff66c5bd0a7581c54ea00257fce742b41ea90bba)\n(cherry picked from commit ce25f0c5be3d7c6f9212e91109d9bb18021379dd)\n(cherry picked from commit 4e1329129d632ceb6b745b0e17647e00856922a2)\n""}]",0,785128,5d322cd3ecad8fb05d5008dd22bace597b9c88e7,6,6,1,9816,,,0,"Train and before: Pin rexml on CentOS7

... because the latest rexml 3.2.5 is not compabible with the old ruby
on CentOS7 because of [1], and results in the following syntax error.

rexml-3.2.5/lib/rexml/parsers/baseparser.rb:515:
syntax error, unexpected ',' (SyntaxError)

[1] https://github.com/ruby/rexml/commit/9b311e59ae05749e082eb6bbefa1cb620d1a786e
Change-Id: I9caf233a3bebfb17e7df03583b57a97d8e04583c
(cherry picked from commit ff66c5bd0a7581c54ea00257fce742b41ea90bba)
(cherry picked from commit ce25f0c5be3d7c6f9212e91109d9bb18021379dd)
(cherry picked from commit 4e1329129d632ceb6b745b0e17647e00856922a2)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/28/785128/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,5d322cd3ecad8fb05d5008dd22bace597b9c88e7,," # NOTE(tkajinam): pin rexml in CentOS7 rexml_version = RUBY_VERSION < '2.4.0' ? ['< 3.2.5'] : ['>= 3.2.5'] spec.add_dependency 'rexml', rexml_version ",,4,0
openstack%2Fpuppet-openstack_spec_helper~stable%2Frocky~I9caf233a3bebfb17e7df03583b57a97d8e04583c,openstack/puppet-openstack_spec_helper,stable/rocky,I9caf233a3bebfb17e7df03583b57a97d8e04583c,Train and before: Pin rexml on CentOS7,MERGED,2021-04-07 11:18:31.000000000,2021-04-12 00:21:50.000000000,2021-04-12 00:21:50.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 11:18:31.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/4e1329129d632ceb6b745b0e17647e00856922a2', 'message': ""Train and before: Pin rexml on CentOS7\n\n... because the latest rexml 3.2.5 is not compabible with the old ruby\non CentOS7 because of [1], and results in the following syntax error.\n\nrexml-3.2.5/lib/rexml/parsers/baseparser.rb:515:\nsyntax error, unexpected ',' (SyntaxError)\n\n[1] https://github.com/ruby/rexml/commit/9b311e59ae05749e082eb6bbefa1cb620d1a786e\nChange-Id: I9caf233a3bebfb17e7df03583b57a97d8e04583c\n(cherry picked from commit ff66c5bd0a7581c54ea00257fce742b41ea90bba)\n(cherry picked from commit ce25f0c5be3d7c6f9212e91109d9bb18021379dd)\n""}]",0,785127,4e1329129d632ceb6b745b0e17647e00856922a2,6,6,1,9816,,,0,"Train and before: Pin rexml on CentOS7

... because the latest rexml 3.2.5 is not compabible with the old ruby
on CentOS7 because of [1], and results in the following syntax error.

rexml-3.2.5/lib/rexml/parsers/baseparser.rb:515:
syntax error, unexpected ',' (SyntaxError)

[1] https://github.com/ruby/rexml/commit/9b311e59ae05749e082eb6bbefa1cb620d1a786e
Change-Id: I9caf233a3bebfb17e7df03583b57a97d8e04583c
(cherry picked from commit ff66c5bd0a7581c54ea00257fce742b41ea90bba)
(cherry picked from commit ce25f0c5be3d7c6f9212e91109d9bb18021379dd)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/27/785127/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,4e1329129d632ceb6b745b0e17647e00856922a2,," # NOTE(tkajinam): pin rexml in CentOS7 rexml_version = RUBY_VERSION < '2.4.0' ? ['< 3.2.5'] : ['>= 3.2.5'] spec.add_dependency 'rexml', rexml_version ",,4,0
openstack%2Fpuppet-openstack_spec_helper~stable%2Fstein~I9caf233a3bebfb17e7df03583b57a97d8e04583c,openstack/puppet-openstack_spec_helper,stable/stein,I9caf233a3bebfb17e7df03583b57a97d8e04583c,Train and before: Pin rexml on CentOS7,MERGED,2021-04-07 11:18:08.000000000,2021-04-12 00:20:06.000000000,2021-04-12 00:20:06.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 11:18:08.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/ce25f0c5be3d7c6f9212e91109d9bb18021379dd', 'message': ""Train and before: Pin rexml on CentOS7\n\n... because the latest rexml 3.2.5 is not compabible with the old ruby\non CentOS7 because of [1], and results in the following syntax error.\n\nrexml-3.2.5/lib/rexml/parsers/baseparser.rb:515:\nsyntax error, unexpected ',' (SyntaxError)\n\n[1] https://github.com/ruby/rexml/commit/9b311e59ae05749e082eb6bbefa1cb620d1a786e\nChange-Id: I9caf233a3bebfb17e7df03583b57a97d8e04583c\n(cherry picked from commit ff66c5bd0a7581c54ea00257fce742b41ea90bba)\n""}]",0,785126,ce25f0c5be3d7c6f9212e91109d9bb18021379dd,6,6,1,9816,,,0,"Train and before: Pin rexml on CentOS7

... because the latest rexml 3.2.5 is not compabible with the old ruby
on CentOS7 because of [1], and results in the following syntax error.

rexml-3.2.5/lib/rexml/parsers/baseparser.rb:515:
syntax error, unexpected ',' (SyntaxError)

[1] https://github.com/ruby/rexml/commit/9b311e59ae05749e082eb6bbefa1cb620d1a786e
Change-Id: I9caf233a3bebfb17e7df03583b57a97d8e04583c
(cherry picked from commit ff66c5bd0a7581c54ea00257fce742b41ea90bba)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/26/785126/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,ce25f0c5be3d7c6f9212e91109d9bb18021379dd,," # NOTE(tkajinam): pin rexml in CentOS7 rexml_version = RUBY_VERSION < '2.4.0' ? ['< 3.2.5'] : ['>= 3.2.5'] spec.add_dependency 'rexml', rexml_version ",,4,0
openstack%2Fpuppet-tacker~stable%2Fussuri~Id8f926cf72b531a074c5d83378bf98ebe7de2ab8,openstack/puppet-tacker,stable/ussuri,Id8f926cf72b531a074c5d83378bf98ebe7de2ab8,"Revert ""Disable Tacker installation""",MERGED,2021-03-30 08:23:03.000000000,2021-04-12 00:02:14.000000000,2021-04-12 00:02:14.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 08:23:03.000000000', 'files': ['spec/acceptance/tacker_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/98a9016e041996eedc47f86f13c8932b48ffb8f9', 'message': 'Revert ""Disable Tacker installation""\n\nThis reverts commit 64d2f0e9961f4322a2f957b4bc04311ed96c960e.\n\nReason for revert:\nThe issue with RDO Ussuri has been fixed.\n\nChange-Id: Id8f926cf72b531a074c5d83378bf98ebe7de2ab8\n'}]",0,783691,98a9016e041996eedc47f86f13c8932b48ffb8f9,7,4,1,9816,,,0,"Revert ""Disable Tacker installation""

This reverts commit 64d2f0e9961f4322a2f957b4bc04311ed96c960e.

Reason for revert:
The issue with RDO Ussuri has been fixed.

Change-Id: Id8f926cf72b531a074c5d83378bf98ebe7de2ab8
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/91/783691/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/tacker_spec.rb'],1,98a9016e041996eedc47f86f13c8932b48ffb8f9,bug/1920659," class { 'tacker::db': database_connection => 'mysql+pymysql://tacker:a_big_secret@127.0.0.1/tacker?charset=utf8', } class { 'tacker::keystone::auth': password => 'a_big_secret', } class { 'tacker::keystone::authtoken': password => 'a_big_secret', } class { 'tacker::logging': debug => true, } class { 'tacker': default_transport_url => 'rabbit://tacker:my_secret@127.0.0.1:5672/', } include tacker::server include tacker::client describe port(9890) do it { is_expected.to be_listening } end"," warning('Tacker is currently disabled because of https://bugs.launchpad.net/puppet-tacker/+bug/1920659') # class { 'tacker::db': # database_connection => 'mysql+pymysql://tacker:a_big_secret@127.0.0.1/tacker?charset=utf8', # } # class { 'tacker::keystone::auth': # password => 'a_big_secret', # } # class { 'tacker::keystone::authtoken': # password => 'a_big_secret', # } # class { 'tacker::logging': # debug => true, # } # class { 'tacker': # default_transport_url => 'rabbit://tacker:my_secret@127.0.0.1:5672/', # } # include tacker::server # include tacker::client # describe port(9890) do # it { is_expected.to be_listening } # end",20,21
openstack%2Ftripleo-heat-templates~master~I7d62c8585705658126bb481ec517264200ad6e8a,openstack/tripleo-heat-templates,master,I7d62c8585705658126bb481ec517264200ad6e8a,Disable deploy log collection when IronicDebug is false,ABANDONED,2020-12-16 08:25:30.000000000,2021-04-11 23:46:07.000000000,,"[{'_account_id': 7144}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-16 08:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2d7aae61835bb04578e5fea3dea49eedf7961783', 'message': 'Disable deploy log collection when IronicDebug is false\n\nCurrently deploy log collection is enabled when Debug or IronicDebug\nis enabled. However, we generally expect that service specific debug\nparameters like IronicDebug overwrite the value of the generic debug\nparameter.\nThis patch ensures that the log collection is disabled when IronicDebug\nis false even if Debug is true.\n\nChange-Id: I7d62c8585705658126bb481ec517264200ad6e8a\n'}, {'number': 2, 'created': '2020-12-17 08:55:16.000000000', 'files': ['deployment/ironic/ironic-conductor-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/edad1d8a3e333c8435a319e3f019f55d7969f01b', 'message': 'Disable deploy log collection when IronicDebug is false\n\nCurrently deploy log collection is enabled when Debug or IronicDebug\nis enabled. However, we generally expect that service specific debug\nparameters like IronicDebug overwrite the value of the generic debug\nparameter.\nThis patch ensures that the log collection is disabled when IronicDebug\nis false even if Debug is true.\n\nChange-Id: I7d62c8585705658126bb481ec517264200ad6e8a\n'}]",1,767283,edad1d8a3e333c8435a319e3f019f55d7969f01b,9,4,2,9816,,,0,"Disable deploy log collection when IronicDebug is false

Currently deploy log collection is enabled when Debug or IronicDebug
is enabled. However, we generally expect that service specific debug
parameters like IronicDebug overwrite the value of the generic debug
parameter.
This patch ensures that the log collection is disabled when IronicDebug
is false even if Debug is true.

Change-Id: I7d62c8585705658126bb481ec517264200ad6e8a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/767283/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-conductor-container-puppet.yaml'],1,2d7aae61835bb04578e5fea3dea49eedf7961783,ironic-log-collection," service_debug_unset: {equals: [{get_param: IronicDebug}, '']} service_debug: if: - service_debug_unset - yaql: expression: $.data.ironic_debug.matches(""true|True|TRUE"") data: ironic_debug: get_param: IronicDebug"," service_debug: or: - equals: [{get_param: IronicDebug}, 'true'] - equals: [{get_param: IronicDebug}, 'True'] - equals: [{get_param: IronicDebug}, 'TRUE']",8,4
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0e96d5b62384e5fae00056ada11a88613255d299,openstack/tripleo-heat-templates,stable/train,I0e96d5b62384e5fae00056ada11a88613255d299,WIP DNR/DNM force memcached on localhost,ABANDONED,2021-03-13 16:29:51.000000000,2021-04-11 20:19:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-13 16:29:51.000000000', 'files': ['deployment/memcached/memcached-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/13961d0452ee9b990126a0cca0209c4501d3a1ed', 'message': 'WIP DNR/DNM force memcached on localhost\n\nChange-Id: I0e96d5b62384e5fae00056ada11a88613255d299\n'}]",0,780418,13961d0452ee9b990126a0cca0209c4501d3a1ed,4,2,1,20172,,,0,"WIP DNR/DNM force memcached on localhost

Change-Id: I0e96d5b62384e5fae00056ada11a88613255d299
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/780418/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/memcached/memcached-container-puppet.yaml'],1,13961d0452ee9b990126a0cca0209c4501d3a1ed,train-test2," - '127.0.0.1' - str_replace: template: ""%{hiera('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, MemcachedNetwork]} memcached::listen_ip_uri: - '127.0.0.1' - str_replace: template: ""%{hiera('$NETWORK_uri')}"" params: $NETWORK: {get_param: [ServiceNetMap, MemcachedNetwork]}"," str_replace: template: ""%{hiera('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, MemcachedNetwork]} memcached::listen_ip_uri: str_replace: template: ""%{hiera('$NETWORK_uri')}"" params: $NETWORK: {get_param: [ServiceNetMap, MemcachedNetwork]}",12,10
openstack%2Fbifrost~stable%2Ftrain~I65379a3d1b42e3607118bd785f580604bef7d10d,openstack/bifrost,stable/train,I65379a3d1b42e3607118bd785f580604bef7d10d,Fix two CI issues,ABANDONED,2020-12-11 15:15:23.000000000,2021-04-11 16:31:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-11 15:15:23.000000000', 'files': ['playbooks/roles/bifrost-create-vm-nodes/tasks/main.yml', 'test-requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/de0d6617b607e971f2fcdd9ecd18483ab46055f7', 'message': ""Fix two CI issues\n\n* Fix lower-constraints with the new pip resolver\n\n  First, remove pep8 dependencies from test-requirements, they're not\n  needed there and are hard to constraint properly.\n\n  Second, bump keystoneauth to the version required by openstacksdk.\n\n* Force updating libgcrypt to work around CentOS/RHEL 8.3 bug\n  https://bugzilla.redhat.com/show_bug.cgi?id=1840485\n\nThe stable/train version also bumps cryptography to the version\nrequired by pyOpenSSL and adjusts the hacking version.\n\nChange-Id: I65379a3d1b42e3607118bd785f580604bef7d10d\n(cherry picked from commit 95b69e2bbc168815d7a2855d0a5c6fc85e22708d)\n""}]",0,766745,de0d6617b607e971f2fcdd9ecd18483ab46055f7,3,1,1,10239,,,0,"Fix two CI issues

* Fix lower-constraints with the new pip resolver

  First, remove pep8 dependencies from test-requirements, they're not
  needed there and are hard to constraint properly.

  Second, bump keystoneauth to the version required by openstacksdk.

* Force updating libgcrypt to work around CentOS/RHEL 8.3 bug
  https://bugzilla.redhat.com/show_bug.cgi?id=1840485

The stable/train version also bumps cryptography to the version
required by pyOpenSSL and adjusts the hacking version.

Change-Id: I65379a3d1b42e3607118bd785f580604bef7d10d
(cherry picked from commit 95b69e2bbc168815d7a2855d0a5c6fc85e22708d)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/45/766745/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-create-vm-nodes/tasks/main.yml', 'test-requirements.txt', 'lower-constraints.txt', 'tox.ini']",4,de0d6617b607e971f2fcdd9ecd18483ab46055f7,,"deps = Pygments>=2.2.0 # BSD license doc8>=0.6.0 # Apache-2.0 hacking!=0.13.0,<0.14,>=0.12.0 # Apache-2.0 commands = flake8 {posargs} doc8 doc/source releasenotes/source README.rst CONTRIBUTING.rst MISSION.rst HACKING.rst",commands = flake8 doc8 doc/source releasenotes/source README.rst CONTRIBUTING.rst MISSION.rst HACKING.rst,16,11
openstack%2Fironic~master~Ide6199b0c87879884168747dd7a31bc3bbde77df,openstack/ironic,master,Ide6199b0c87879884168747dd7a31bc3bbde77df,Use jitter for periodic tasks,ABANDONED,2021-03-23 14:21:53.000000000,2021-04-11 16:30:10.000000000,,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-23 14:21:53.000000000', 'files': ['ironic/conf/conductor.py', 'releasenotes/notes/periodics-jitter-02b6538c016a7122.yaml', 'ironic/conductor/base_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a60cb2df3e9127ede4506cdd9a87dd2eaf1ce7ac', 'message': 'Use jitter for periodic tasks\n\nChange-Id: Ide6199b0c87879884168747dd7a31bc3bbde77df\n'}]",0,782529,a60cb2df3e9127ede4506cdd9a87dd2eaf1ce7ac,7,3,1,10239,,,0,"Use jitter for periodic tasks

Change-Id: Ide6199b0c87879884168747dd7a31bc3bbde77df
",git fetch https://review.opendev.org/openstack/ironic refs/changes/29/782529/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/conductor.py', 'releasenotes/notes/periodics-jitter-02b6538c016a7122.yaml', 'ironic/conductor/base_manager.py']",3,a60cb2df3e9127ede4506cdd9a87dd2eaf1ce7ac,jitter," schedule_strategy=CONF.conductor.periodics_schedule_strategy,",,13,0
openstack%2Fbifrost~master~Ic2c46e36911b3c3d7b6c1064b3f9286ccdf0ff63,openstack/bifrost,master,Ic2c46e36911b3c3d7b6c1064b3f9286ccdf0ff63,[WIP] Stop using ipa-insecure with redfish-virtual-media,ABANDONED,2020-12-25 19:23:10.000000000,2021-04-11 16:29:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-25 19:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6cfe304095b6ebfb9d2adc38f142d85cfc65d2b2', 'message': 'Stop using ipa-insecure with redfish-virtual-media\n\nWe support fully secure TLS now.\n\nChange-Id: Ic2c46e36911b3c3d7b6c1064b3f9286ccdf0ff63\n'}, {'number': 2, 'created': '2020-12-25 20:40:29.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-cloud-config/tasks/main.yml', 'zuul.d/bifrost-jobs.yaml', 'releasenotes/notes/redfish-ipa-secure-f0f40a4270c4ac8c.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/677ddc6663a602138823ec56607c4f1fb9cef3b5', 'message': '[WIP] Stop using ipa-insecure with redfish-virtual-media\n\nWe support fully secure TLS now.\n\nChange-Id: Ic2c46e36911b3c3d7b6c1064b3f9286ccdf0ff63\n'}]",0,768517,677ddc6663a602138823ec56607c4f1fb9cef3b5,5,1,2,10239,,,0,"[WIP] Stop using ipa-insecure with redfish-virtual-media

We support fully secure TLS now.

Change-Id: Ic2c46e36911b3c3d7b6c1064b3f9286ccdf0ff63
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/17/768517/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'releasenotes/notes/redfish-ipa-secure-f0f40a4270c4ac8c.yaml', 'zuul.d/bifrost-jobs.yaml']",4,6cfe304095b6ebfb9d2adc38f142d85cfc65d2b2,full-tls, enable_tls: true enable_tls: true,,13,3
openstack%2Fironic~master~I22a3502c7e0bab3885e48f3b76aaa47846404684,openstack/ironic,master,I22a3502c7e0bab3885e48f3b76aaa47846404684,[WIP] Reference architecture: expand on networking,ABANDONED,2019-03-06 14:20:55.000000000,2021-04-11 16:27:32.000000000,,"[{'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-03-06 14:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3cc8ac517e361a62bdb659c719ae81d2c3f01ee4', 'message': '[WIP] Reference architecture: expand on networking\n\nChange-Id: I22a3502c7e0bab3885e48f3b76aaa47846404684\n'}, {'number': 2, 'created': '2019-03-07 08:51:09.000000000', 'files': ['doc/source/install/refarch/networking.rst', 'doc/source/admin/multitenancy.rst', 'doc/source/install/refarch/index.rst', 'doc/source/install/standalone.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d05b1ebe76cefec07ff36e6bd10dbc2c8eae064a', 'message': ""[WIP] Reference architecture: expand on networking\n\nAdds a new document targeting newcomers who wonder where to start with\nironic networking. It tries to provide some initial guidance and links\nto other parts of the documentation. A new part was added to standalone\ndocs to cover 'noop' configuration (cargo-culted from puppet-ironic).\n\nChange-Id: I22a3502c7e0bab3885e48f3b76aaa47846404684\n""}]",19,641383,d05b1ebe76cefec07ff36e6bd10dbc2c8eae064a,10,5,2,10239,,,0,"[WIP] Reference architecture: expand on networking

Adds a new document targeting newcomers who wonder where to start with
ironic networking. It tries to provide some initial guidance and links
to other parts of the documentation. A new part was added to standalone
docs to cover 'noop' configuration (cargo-culted from puppet-ironic).

Change-Id: I22a3502c7e0bab3885e48f3b76aaa47846404684
",git fetch https://review.opendev.org/openstack/ironic refs/changes/83/641383/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/refarch/networking.rst', 'doc/source/admin/multitenancy.rst', 'doc/source/install/refarch/index.rst', 'doc/source/install/standalone.rst']",4,3cc8ac517e361a62bdb659c719ae81d2c3f01ee4,refarch-networking,".. _noop-networking: Noop networking --------------- If you do not use the Networking service, you need to configure a DHCP server to correctly server PXE/iPXE parameters. * In case of PXE, point it at ``pxelinux.0`` on your TFTP server. Here is an example `dnsmasq` configuration:: port=0 interface={ interface for DHCP to listen on } dhcp-range={ IP range },{ lease time } dhcp-boot=pxelinux.0,localhost.localdomain,{ TFTP IP } * In case of iPXE, point it at ``boot.ipxe`` on your HTTP server. You may want to configure fall-back to PXE if the target machine does not have iPXE. For example:: port=0 interface={ interface for DHCP to listen on } dhcp-range={ IP range },{ lease time } dhcp-match=ipxe,175 dhcp-match=set:efi,option:client-arch,7 dhcp-match=set:efi,option:client-arch,9 dhcp-match=set:efi,option:client-arch,11 # Client is already running iPXE; move to next stage of chainloading dhcp-boot=tag:ipxe,http://{ HTTP host and port }/boot.ipxe # Client is PXE booting over EFI without iPXE ROM; send EFI version of iPXE chainloader dhcp-boot=tag:efi,tag:!ipxe,ipxe.efi # Client is running PXE over BIOS; send BIOS version of iPXE chainloader dhcp-boot=undionly.kpxe,localhost.localdomain,{ TFTP server } Using ironic-inspector ~~~~~~~~~~~~~~~~~~~~~~ .. TODO: text ",,139,23
openstack%2Fironic-python-agent~master~I190a6541237a55c67159b108b3d5a6b2278eae85,openstack/ironic-python-agent,master,I190a6541237a55c67159b108b3d5a6b2278eae85,[PoC] A deploy step to update /etc/default/grub,ABANDONED,2020-07-29 14:24:36.000000000,2021-04-11 16:24:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-29 14:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/02a1cd246379157ef3fe252c9f93123924f25e15', 'message': '[PoC] A deploy step to update /etc/default/grub\n\nChange-Id: I190a6541237a55c67159b108b3d5a6b2278eae85\n'}, {'number': 2, 'created': '2020-07-31 12:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/01f04b340581ac172204857eee13ca978c2c56aa', 'message': '[PoC] A deploy step to update /etc/default/grub\n\nChange-Id: I190a6541237a55c67159b108b3d5a6b2278eae85\n'}, {'number': 3, 'created': '2020-08-22 11:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/57d42e697eeca1f47d5fbe2afea2e99bdb53dfdb', 'message': '[PoC] A deploy step to update /etc/default/grub\n\nDepends-On: https://review.opendev.org/747413\nChange-Id: I190a6541237a55c67159b108b3d5a6b2278eae85\n'}, {'number': 4, 'created': '2020-08-24 07:30:51.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f24155b950022e74e51976ec0530afa5344401c2', 'message': '[PoC] A deploy step to update /etc/default/grub\n\nDepends-On: https://review.opendev.org/747413\nChange-Id: I190a6541237a55c67159b108b3d5a6b2278eae85\n'}]",0,743771,f24155b950022e74e51976ec0530afa5344401c2,13,2,4,10239,,,0,"[PoC] A deploy step to update /etc/default/grub

Depends-On: https://review.opendev.org/747413
Change-Id: I190a6541237a55c67159b108b3d5a6b2278eae85
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/71/743771/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/utils.py']",2,02a1cd246379157ef3fe252c9f93123924f25e15,grub2-params," def partition_index_to_name(device, index): # The partition delimiter for all common harddrives (sd[a-z]+) part_delimiter = '' if 'nvme' in device: part_delimiter = 'p' return device + part_delimiter + str(index)",,106,5
openstack%2Fbifrost~master~I434f1f176e50fea163c0ce0d9014790e9a63faff,openstack/bifrost,master,I434f1f176e50fea163c0ce0d9014790e9a63faff,Add a role to generate the Bifrost inventory format,ABANDONED,2021-01-09 13:25:23.000000000,2021-04-11 16:24:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-09 13:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/aadaa79c0e13d6be7b5f05061916d99b980dd4be', 'message': 'Add a role to generate the Bifrost inventory format\n\nThe new bifrost-inventory role creates a Bifrost inventory file\nfrom a given ironic nodes JSON and a few parameters, helping\nbridging the gap between the two.\n\nThe bifrost-create-vm-nodes role is changed to use the new role.\n\nChange-Id: I434f1f176e50fea163c0ce0d9014790e9a63faff\n'}, {'number': 2, 'created': '2021-01-09 13:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/47df3a96c66a283fe8bf0590b30410e1c1b0c8b3', 'message': 'Add a role to generate the Bifrost inventory format\n\nThe new bifrost-inventory role creates a Bifrost inventory file\nfrom a given ironic nodes JSON and a few parameters, helping\nbridging the gap between the two.\n\nThe bifrost-create-vm-nodes role is changed to use the new role.\nA new bifrost-cli command is added to run the new role.\n\nChange-Id: I434f1f176e50fea163c0ce0d9014790e9a63faff\n'}, {'number': 3, 'created': '2021-01-09 13:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a60badbd9d6657630302955670ff4f4fae3c5025', 'message': 'Add a role to generate the Bifrost inventory format\n\nThe new bifrost-inventory role creates a Bifrost inventory file\nfrom a given ironic nodes JSON and a few parameters, helping\nbridging the gap between the two.\n\nThe bifrost-create-vm-nodes role is changed to use the new role.\nA new bifrost-cli command is added to run the new role.\n\nChange-Id: I434f1f176e50fea163c0ce0d9014790e9a63faff\n'}, {'number': 4, 'created': '2021-01-09 13:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/60ae5b0877d4b804dd49fbc35764330d37c154d7', 'message': 'Add a role to generate the Bifrost inventory format\n\nThe new bifrost-inventory role creates a Bifrost inventory file\nfrom a given ironic nodes JSON and a few parameters, helping\nbridging the gap between the two.\n\nThe bifrost-create-vm-nodes role is changed to use the new role.\nA new bifrost-cli command is added to run the new role.\n\nChange-Id: I434f1f176e50fea163c0ce0d9014790e9a63faff\n'}, {'number': 5, 'created': '2021-01-09 14:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6f93bd4798d78a334aa6b54c047199b3ab934145', 'message': 'Add a role to generate the Bifrost inventory format\n\nThe new bifrost-inventory role creates a Bifrost inventory file\nfrom a given ironic nodes JSON and a few parameters, helping\nbridging the gap between the two.\n\nThe bifrost-create-vm-nodes role is changed to use the new role.\nA new bifrost-cli command is added to run the new role.\n\nChange-Id: I434f1f176e50fea163c0ce0d9014790e9a63faff\n'}, {'number': 6, 'created': '2021-01-09 14:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/593bf46616875537a52f18b256f9319ca507bd50', 'message': 'Add a role to generate the Bifrost inventory format\n\nThe new bifrost-inventory role creates a Bifrost inventory file\nfrom a given ironic nodes JSON and a few parameters, helping\nbridging the gap between the two.\n\nThe bifrost-create-vm-nodes role is changed to use the new role.\nA new bifrost-cli command is added to run the new role.\n\nChange-Id: I434f1f176e50fea163c0ce0d9014790e9a63faff\n'}, {'number': 7, 'created': '2021-01-09 14:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/58814160aa3a60f8b69e4a7ba78b16babb348008', 'message': 'Add a role to generate the Bifrost inventory format\n\nThe new bifrost-inventory role creates a Bifrost inventory file\nfrom a given ironic nodes JSON and a few parameters, helping\nbridging the gap between the two.\n\nThe bifrost-create-vm-nodes role is changed to use the new role.\nA new bifrost-cli command is added to run the new role.\n\nChange-Id: I434f1f176e50fea163c0ce0d9014790e9a63faff\n'}, {'number': 8, 'created': '2021-01-09 14:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/fe50babbd21e878208bc6254c67b8847d6749e6f', 'message': 'Add a role to generate the Bifrost inventory format\n\nThe new bifrost-inventory role creates a Bifrost inventory file\nfrom a given ironic nodes JSON and a few parameters, helping\nbridging the gap between the two.\n\nThe bifrost-create-vm-nodes role is changed to use the new role.\nA new bifrost-cli command is added to run the new role.\n\nChange-Id: I434f1f176e50fea163c0ce0d9014790e9a63faff\n'}, {'number': 9, 'created': '2021-01-09 14:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/28ac8abcc5ebb29c296ed7140537facb21522ef0', 'message': 'Add a role to generate the Bifrost inventory format\n\nThe new bifrost-inventory role creates a Bifrost inventory file\nfrom a given ironic nodes JSON and a few parameters, helping\nbridging the gap between the two.\n\nThe bifrost-create-vm-nodes role is changed to use the new role.\nA new bifrost-cli command is added to run the new role.\n\nChange-Id: I434f1f176e50fea163c0ce0d9014790e9a63faff\n'}, {'number': 10, 'created': '2021-01-09 14:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3cc02f1477ddcf3b2a2b9d5062ee1a5d114c07b1', 'message': 'Add a role to generate the Bifrost inventory format\n\nThe new bifrost-inventory role creates a Bifrost inventory file\nfrom a given ironic nodes JSON and a few parameters, helping\nbridging the gap between the two.\n\nThe bifrost-create-vm-nodes role is changed to use the new role.\nA new bifrost-cli command is added to run the new role.\n\nChange-Id: I434f1f176e50fea163c0ce0d9014790e9a63faff\n'}, {'number': 11, 'created': '2021-01-09 14:32:29.000000000', 'files': ['bifrost/cli.py', 'playbooks/roles/bifrost-inventory/tasks/add_node.yml', 'releasenotes/notes/bifrost-inventory-f18cd2cb5020348c.yaml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/main.yml', 'playbooks/generate-inventory.yaml', 'playbooks/roles/bifrost-inventory/README.md', 'playbooks/roles/bifrost-inventory/tasks/main.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/create_vm.yml', 'playbooks/roles/bifrost-inventory/defaults/main.yml', 'scripts/test-bifrost.sh', 'bifrost-cli'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/cf58f8e1dc133e47c675965a086b052fa7819636', 'message': 'Add a role to generate the Bifrost inventory format\n\nThe new bifrost-inventory role creates a Bifrost inventory file\nfrom a given ironic nodes JSON and a few parameters, helping\nbridging the gap between the two.\n\nThe bifrost-create-vm-nodes role is changed to use the new role.\nA new bifrost-cli command is added to run the new role.\n\nChange-Id: I434f1f176e50fea163c0ce0d9014790e9a63faff\n'}]",0,770038,cf58f8e1dc133e47c675965a086b052fa7819636,13,1,11,10239,,,0,"Add a role to generate the Bifrost inventory format

The new bifrost-inventory role creates a Bifrost inventory file
from a given ironic nodes JSON and a few parameters, helping
bridging the gap between the two.

The bifrost-create-vm-nodes role is changed to use the new role.
A new bifrost-cli command is added to run the new role.

Change-Id: I434f1f176e50fea163c0ce0d9014790e9a63faff
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/38/770038/8 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-inventory/tasks/add_node.yml', 'releasenotes/notes/bifrost-inventory-f18cd2cb5020348c.yaml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/main.yml', 'playbooks/roles/bifrost-inventory/README.md', 'playbooks/roles/bifrost-inventory/tasks/main.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/create_vm.yml', 'playbooks/roles/bifrost-inventory/defaults/main.yml']",7,aadaa79c0e13d6be7b5f05061916d99b980dd4be,bifrost-inventory,--- nodes_host_groups: {} nodes_ipv4_addresses: {} ,,228,39
openstack%2Fnova~stable%2Fussuri~I2cdcad7226312ed81f4242c8d9ac919715524b48,openstack/nova,stable/ussuri,I2cdcad7226312ed81f4242c8d9ac919715524b48,Raise InstanceMappingNotFound if StaleDataError is encountered,MERGED,2021-02-23 22:44:31.000000000,2021-04-11 15:36:51.000000000,2021-04-11 15:35:28.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-02-23 22:44:31.000000000', 'files': ['nova/objects/instance_mapping.py', 'nova/tests/unit/objects/test_instance_mapping.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/812ce632d50bfc32de62d544746e0b9a83d90ab7', 'message': ""Raise InstanceMappingNotFound if StaleDataError is encountered\n\nWe have a race where if a user issues a delete request while an\ninstance is in the middle of booting, we could fail to update the\n'queued_for_delete' field on the instance mapping with:\n\n  sqlalchemy.orm.exc.StaleDataError: UPDATE statement on table\n  'instance_mappings' expected to update 1 row(s); 0 were matched.\n\nThis happens if we've retrieved the instance mapping record from the\ndatabase and then it gets deleted by nova-conductor before we attempt\nto save() it.\n\nThis handles the situation by adding try-except around the update call\nto catch StaleDataError and raise InstanceMappingNotFound instead,\nwhich the caller does know how to handle.\n\nCloses-Bug: #1882608\n\nChange-Id: I2cdcad7226312ed81f4242c8d9ac919715524b48\n(cherry picked from commit 16df22dcd57a73fe3be15c64c41b4081b4826ef2)\n""}]",0,777253,812ce632d50bfc32de62d544746e0b9a83d90ab7,38,5,1,4690,,,0,"Raise InstanceMappingNotFound if StaleDataError is encountered

We have a race where if a user issues a delete request while an
instance is in the middle of booting, we could fail to update the
'queued_for_delete' field on the instance mapping with:

  sqlalchemy.orm.exc.StaleDataError: UPDATE statement on table
  'instance_mappings' expected to update 1 row(s); 0 were matched.

This happens if we've retrieved the instance mapping record from the
database and then it gets deleted by nova-conductor before we attempt
to save() it.

This handles the situation by adding try-except around the update call
to catch StaleDataError and raise InstanceMappingNotFound instead,
which the caller does know how to handle.

Closes-Bug: #1882608

Change-Id: I2cdcad7226312ed81f4242c8d9ac919715524b48
(cherry picked from commit 16df22dcd57a73fe3be15c64c41b4081b4826ef2)
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/777253/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/instance_mapping.py', 'nova/tests/unit/objects/test_instance_mapping.py']",2,812ce632d50bfc32de62d544746e0b9a83d90ab7,bug/1882608,"from sqlalchemy.orm import exc as orm_exc @mock.patch.object(instance_mapping.InstanceMapping, '_save_in_db') def test_save_stale_data_error(self, save_in_db): save_in_db.side_effect = orm_exc.StaleDataError mapping_obj = objects.InstanceMapping(self.context) mapping_obj.instance_uuid = uuidutils.generate_uuid() self.assertRaises(exception.InstanceMappingNotFound, mapping_obj.save) ",,20,2
openstack%2Fopenstack-ansible~master~Ic8eb22c299ab58129f4cfe19e1f88fe30aae6897,openstack/openstack-ansible,master,Ic8eb22c299ab58129f4cfe19e1f88fe30aae6897,Bump ansible version to 2.10.7,MERGED,2021-03-18 16:13:44.000000000,2021-04-11 14:08:30.000000000,2021-04-11 14:05:16.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 26285}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-18 16:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/21a5cb1e8082ceec212101f7bf29017c8e37cdc4', 'message': 'Bump ansible version to 2.10.7\n\nChange-Id: Ic8eb22c299ab58129f4cfe19e1f88fe30aae6897\n'}, {'number': 2, 'created': '2021-04-05 12:00:47.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/63962c4d21a21241b9aff26129f7e1a28a888378', 'message': 'Bump ansible version to 2.10.7\n\nChange-Id: Ic8eb22c299ab58129f4cfe19e1f88fe30aae6897\n'}]",0,781505,63962c4d21a21241b9aff26129f7e1a28a888378,31,5,2,28619,,,0,"Bump ansible version to 2.10.7

Change-Id: Ic8eb22c299ab58129f4cfe19e1f88fe30aae6897
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/05/781505/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,21a5cb1e8082ceec212101f7bf29017c8e37cdc4,,"export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible-base==2.10.7""}","export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible-base==2.10.6""}",1,1
openstack%2Fopenstack-ansible~master~I6d259e3697ac72262be53b22fcd052d97cd1120a,openstack/openstack-ansible,master,I6d259e3697ac72262be53b22fcd052d97cd1120a,Re-adding PrettyTable dependency,MERGED,2021-03-26 15:17:50.000000000,2021-04-11 14:07:18.000000000,2021-04-11 14:05:10.000000000,"[{'_account_id': 18279}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-03-26 15:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ac443987f036d57b8e444cd47566dc665f213204', 'message': 'Re-adding PrettyTable dependency\n\nRe-adding prettytable module which has been removed earlier [1]\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible/+/775126\n\nChange-Id: I6d259e3697ac72262be53b22fcd052d97cd1120a\n'}, {'number': 2, 'created': '2021-04-02 17:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2edbcd382168abc5c334f0598393cf56cd5289f0', 'message': 'Re-adding PrettyTable dependency\n\nRe-adding prettytable module which has been removed earlier [1].\n""ModuleNotFoundError: No module named \'prettytable\'"" when\nrunning inventory-manage.py command.\n\nhttp://paste.openstack.org/show/804143/\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible/+/775126\n\nChange-Id: I6d259e3697ac72262be53b22fcd052d97cd1120a\n'}, {'number': 3, 'created': '2021-04-02 22:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/60d78168655acd29905c2c59ca6ce21d5c90ae2f', 'message': 'Re-adding PrettyTable dependency\n\nRe-adding prettytable module which has been removed earlier [1].\n""ModuleNotFoundError: No module named \'prettytable\'"" when\nrunning inventory-manage.py command.\n\nhttp://paste.openstack.org/show/804143/\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible/+/775126\n\nChange-Id: I6d259e3697ac72262be53b22fcd052d97cd1120a\n'}, {'number': 4, 'created': '2021-04-03 06:08:08.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2a14242aa19c2ec0078f59784edde0ada6465cf9', 'message': 'Re-adding PrettyTable dependency\n\nRe-adding prettytable module which has been removed earlier [1].\n""ModuleNotFoundError: No module named \'prettytable\'"" when\nrunning inventory-manage.py command.\n\nhttp://paste.openstack.org/show/804143/\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible/+/775126\n\nChange-Id: I6d259e3697ac72262be53b22fcd052d97cd1120a\n'}]",2,783318,2a14242aa19c2ec0078f59784edde0ada6465cf9,61,4,4,28752,,,0,"Re-adding PrettyTable dependency

Re-adding prettytable module which has been removed earlier [1].
""ModuleNotFoundError: No module named 'prettytable'"" when
running inventory-manage.py command.

http://paste.openstack.org/show/804143/

[1] https://review.opendev.org/c/openstack/openstack-ansible/+/775126

Change-Id: I6d259e3697ac72262be53b22fcd052d97cd1120a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/18/783318/4 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,ac443987f036d57b8e444cd47566dc665f213204,osa/bootstrap-ansible,PrettyTable>=0.7.2,,1,0
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fvictoria~I82b48ba5cfe6e533426e7098c455b729084b2d51,openstack/openstack-ansible-openstack_hosts,stable/victoria,I82b48ba5cfe6e533426e7098c455b729084b2d51,Add hostname resolution to deploy host,MERGED,2021-04-09 12:30:33.000000000,2021-04-11 12:31:34.000000000,2021-04-11 12:30:27.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-04-09 12:30:33.000000000', 'files': ['releasenotes/notes/deploy-hosts-file-657a385568f3df9c.yaml', 'tasks/main.yml', 'defaults/main.yml', 'tasks/openstack_update_hosts_file.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/c2ac81a8f8958c85696573f47fa4a9a6dc6f953b', 'message': 'Add hostname resolution to deploy host\n\nThis addresses an issue with delegation to containers noticed\nas a result of https://github.com/ansible/ansible/issues/72776\nwhich causes the container host to be accessed by its hostname.\n\nWhere a separate deploy host is used, up to now this has not had\nits hosts file modified. This patch applies the same /etc/hosts\nentries to the deploy host which are used elsewhere.\n\nChange-Id: I82b48ba5cfe6e533426e7098c455b729084b2d51\n(cherry picked from commit 7434bed989ce03c25b83b66cb1f3b9678dd9c221)\n'}]",0,785597,c2ac81a8f8958c85696573f47fa4a9a6dc6f953b,16,5,1,28619,,,0,"Add hostname resolution to deploy host

This addresses an issue with delegation to containers noticed
as a result of https://github.com/ansible/ansible/issues/72776
which causes the container host to be accessed by its hostname.

Where a separate deploy host is used, up to now this has not had
its hosts file modified. This patch applies the same /etc/hosts
entries to the deploy host which are used elsewhere.

Change-Id: I82b48ba5cfe6e533426e7098c455b729084b2d51
(cherry picked from commit 7434bed989ce03c25b83b66cb1f3b9678dd9c221)
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/97/785597/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deploy-hosts-file-657a385568f3df9c.yaml', 'tasks/main.yml', 'defaults/main.yml', 'tasks/openstack_update_hosts_file.yml']",4,c2ac81a8f8958c85696573f47fa4a9a6dc6f953b,," when: - openstack_host_manage_hosts_file | bool - name: Update hosts file on deploy host blockinfile: dest: /etc/hosts block: ""{{ _etc_hosts_content | join('\n') }}"" marker: ""### {mark} OPENSTACK-ANSIBLE {{ lookup('env', 'OSA_CONFIG_DIR') }} MANAGED BLOCK ###"" run_once: True delegate_to: localhost become: True when: - openstack_host_manage_deploy_hosts_file | bool",,32,4
openstack%2Fgrenade~stable%2Ftrain~I689b0303e7e511b6855eecf3d19e063febfdec4f,openstack/grenade,stable/train,I689b0303e7e511b6855eecf3d19e063febfdec4f,"[DNM] xtrace, bless me with your insights",ABANDONED,2021-04-11 08:52:41.000000000,2021-04-11 10:32:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-11 08:52:41.000000000', 'files': ['grenade.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/83d62a6bd4cf6b5684a7e1770b826e0384374272', 'message': '[DNM] xtrace, bless me with your insights\n\nTesting for https://review.opendev.org/c/openstack/devstack/+/785547\n\nChange-Id: I689b0303e7e511b6855eecf3d19e063febfdec4f\n'}]",0,785766,83d62a6bd4cf6b5684a7e1770b826e0384374272,3,1,1,30491,,,0,"[DNM] xtrace, bless me with your insights

Testing for https://review.opendev.org/c/openstack/devstack/+/785547

Change-Id: I689b0303e7e511b6855eecf3d19e063febfdec4f
",git fetch https://review.opendev.org/openstack/grenade refs/changes/66/785766/1 && git format-patch -1 --stdout FETCH_HEAD,['grenade.sh'],1,83d62a6bd4cf6b5684a7e1770b826e0384374272,xtrace,set -o xtrace,,1,0
openstack%2Fnova~master~I68f7b7e78cc8a7f22f3e495b1b20a311dacff6c5,openstack/nova,master,I68f7b7e78cc8a7f22f3e495b1b20a311dacff6c5,nova-next: Drop NOVA_USE_SERVICE_TOKEN as it is now True by default,MERGED,2021-02-15 10:33:49.000000000,2021-04-11 10:27:53.000000000,2021-04-11 10:23:16.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-15 10:33:49.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/bc0d1c8d632ba487dc2808cf030fcdc599b49382', 'message': 'nova-next: Drop NOVA_USE_SERVICE_TOKEN as it is now True by default\n\nChange-Id: I68f7b7e78cc8a7f22f3e495b1b20a311dacff6c5\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/775573\n'}]",0,775575,bc0d1c8d632ba487dc2808cf030fcdc599b49382,57,4,1,10135,,,0,"nova-next: Drop NOVA_USE_SERVICE_TOKEN as it is now True by default

Change-Id: I68f7b7e78cc8a7f22f3e495b1b20a311dacff6c5
Depends-On: https://review.opendev.org/c/openstack/devstack/+/775573
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/775575/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bc0d1c8d632ba487dc2808cf030fcdc599b49382,,, # Added in Pike. NOVA_USE_SERVICE_TOKEN: True,0,2
openstack%2Fkeystonemiddleware~stable%2Fvictoria~I0e96334b65a0bf369ebf1d88651d13feb8d2ecac,openstack/keystonemiddleware,stable/victoria,I0e96334b65a0bf369ebf1d88651d13feb8d2ecac,Switch to eventlet-safe oslo.cache's MemcacheClientPool,ABANDONED,2021-02-26 14:04:35.000000000,2021-04-11 07:42:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-26 14:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/26fa38d34091942d3bd45976fbfb95e9e777938a', 'message': 'Switch to eventlet-safe oslo.cache\'s MemcacheClientPool\n\nIn past days there were discussions about various issues\nwith memcached connections [1][2][3].\n\nAfter investigation it looks like common root cause for above\nproblems is keystonemiddleware. More precisely said the way\nhow keystonemiddleware is caching tokens.\n\nCurrently it\'s using some home-made CachePool with direct\nusage of memcached library, moreover it looks like its\napproach is not eventlet-safe.\nDiscussion can be mainly found in [4].\n\nFortunately keystonemiddleware can use ""advanced cache pool"",\nwhich is oslo.cache\'s implementation and was added long time ago [5],\nbut it is turned on only if memcache_use_advanced_pool=True.\n\nThis patch is switching to more elaborated oslo.cache CachePool\nand adding deprecation warning about eventlet-unsafe variant\nof keystonemiddleware\'s memcache pool.\n\nHow to reproduce ?\n\nwith memcache_use_advanced_pool=False\n\n1. Build clean ENV of openstack\n2. Deploy core projects (keystone,glance,nova,placement...)\n3. Run while true; do COMMAND FOR SERVICE; done\n   - several bashes, in parallel (5-7)\n\nCOMMAND FOR SERVICE:\n- openstack network list\n- openstack volume list\n- openstack server list\n- openstack image list\n\n4. Check memcached connections (which will grow up):\n    - ss | grep 11211 | wc -l   every second\n\nHow to fix and test it ?\n\nRepeat above, to fix:\n - with memcache_use_advanced_pool=True\n   OR\n - apply this patch\n\nCompare measurements in graph.\n\n[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1892852\n[2] https://bugs.launchpad.net/oslo.cache/+bug/1888394\n[3] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659\n\n[4] https://review.opendev.org/c/openstack/oslo.cache/+/742193\n\n[5] https://review.opendev.org/c/openstack/keystonemiddleware/+/268664\n\nCloses-Bug: #1883659\nCloses-Bug: #1892852\nCloses-Bug: #1888394\n\nChange-Id: I0e96334b65a0bf369ebf1d88651d13feb8d2ecac\n'}, {'number': 2, 'created': '2021-02-26 15:49:36.000000000', 'files': ['keystonemiddleware/auth_token/_opts.py', 'releasenotes/notes/deprecate-eventlet-unsafe-memcacheclientpool-f8b4a6733513d73e.yaml', 'keystonemiddleware/auth_token/_cache.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/c89cdba7c12761c8e876be9bfb99d477bb63d3d4', 'message': 'Switch to eventlet-safe oslo.cache\'s MemcacheClientPool\n\nIn past days there were discussions about various issues\nwith memcached connections [1][2][3].\n\nAfter investigation it looks like common root cause for above\nproblems is keystonemiddleware. More precisely said the way\nhow keystonemiddleware is caching tokens.\n\nCurrently it\'s using some home-made CachePool with direct\nusage of memcached library, moreover it looks like its\napproach is not eventlet-safe.\nDiscussion can be mainly found in [4].\n\nFortunately keystonemiddleware can use ""advanced cache pool"",\nwhich is oslo.cache\'s implementation and was added long time ago [5],\nbut it is turned on only if memcache_use_advanced_pool=True.\n\nThis patch is switching to more elaborated oslo.cache CachePool\nand adding deprecation warning about eventlet-unsafe variant\nof keystonemiddleware\'s memcache pool.\n\nHow to reproduce ?\n\nwith memcache_use_advanced_pool=False\n\n1. Build clean ENV of openstack\n2. Deploy core projects (keystone,glance,nova,placement...)\n3. Run while true; do COMMAND FOR SERVICE; done\n   - several bashes, in parallel (5-7)\n\nCOMMAND FOR SERVICE:\n- openstack network list\n- openstack volume list\n- openstack server list\n- openstack image list\n\n4. Check memcached connections (which will grow up):\n    - ss | grep 11211 | wc -l   every second\n\nHow to fix and test it ?\n\nRepeat above, to fix:\n - with memcache_use_advanced_pool=True\n   OR\n - apply this patch\n\nCompare measurements in graph.\n\n[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1892852\n[2] https://bugs.launchpad.net/oslo.cache/+bug/1888394\n[3] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659\n\n[4] https://review.opendev.org/c/openstack/oslo.cache/+/742193\n\n[5] https://review.opendev.org/c/openstack/keystonemiddleware/+/268664\n\nCloses-Bug: #1883659\nCloses-Bug: #1892852\nCloses-Bug: #1888394\n\nChange-Id: I0e96334b65a0bf369ebf1d88651d13feb8d2ecac\n'}]",0,777553,c89cdba7c12761c8e876be9bfb99d477bb63d3d4,8,1,2,27339,,,0,"Switch to eventlet-safe oslo.cache's MemcacheClientPool

In past days there were discussions about various issues
with memcached connections [1][2][3].

After investigation it looks like common root cause for above
problems is keystonemiddleware. More precisely said the way
how keystonemiddleware is caching tokens.

Currently it's using some home-made CachePool with direct
usage of memcached library, moreover it looks like its
approach is not eventlet-safe.
Discussion can be mainly found in [4].

Fortunately keystonemiddleware can use ""advanced cache pool"",
which is oslo.cache's implementation and was added long time ago [5],
but it is turned on only if memcache_use_advanced_pool=True.

This patch is switching to more elaborated oslo.cache CachePool
and adding deprecation warning about eventlet-unsafe variant
of keystonemiddleware's memcache pool.

How to reproduce ?

with memcache_use_advanced_pool=False

1. Build clean ENV of openstack
2. Deploy core projects (keystone,glance,nova,placement...)
3. Run while true; do COMMAND FOR SERVICE; done
   - several bashes, in parallel (5-7)

COMMAND FOR SERVICE:
- openstack network list
- openstack volume list
- openstack server list
- openstack image list

4. Check memcached connections (which will grow up):
    - ss | grep 11211 | wc -l   every second

How to fix and test it ?

Repeat above, to fix:
 - with memcache_use_advanced_pool=True
   OR
 - apply this patch

Compare measurements in graph.

[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1892852
[2] https://bugs.launchpad.net/oslo.cache/+bug/1888394
[3] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659

[4] https://review.opendev.org/c/openstack/oslo.cache/+/742193

[5] https://review.opendev.org/c/openstack/keystonemiddleware/+/268664

Closes-Bug: #1883659
Closes-Bug: #1892852
Closes-Bug: #1888394

Change-Id: I0e96334b65a0bf369ebf1d88651d13feb8d2ecac
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/53/777553/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/auth_token/_opts.py', 'releasenotes/notes/deprecate-eventlet-unsafe-memcacheclientpool-f8b4a6733513d73e.yaml', 'keystonemiddleware/auth_token/_cache.py']",3,26fa38d34091942d3bd45976fbfb95e9e777938a,bug/1883659-stable/victoria," use_advanced_pool=True, dead_retry=None, socket_timeout=None, if not self._use_advanced_pool: self._LOG.warning( ""Using the eventlet-unsafe cache pool is deprecated."" ""It is recommended to use eventlet-safe cache pool"" ""implementation from oslo.cache. This can be enabled"" ""through config option memcache_use_advanced_pool = True"") "," use_advanced_pool=False, dead_retry=None, socket_timeout=None,",32,4
openstack%2Fkeystonemiddleware~stable%2Fvictoria~I405d6790360563526d13c0b3e8ae0576d98a67d8,openstack/keystonemiddleware,stable/victoria,I405d6790360563526d13c0b3e8ae0576d98a67d8,Updating lower-constraints job as non voting,ABANDONED,2021-02-26 15:48:51.000000000,2021-04-11 07:41:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-26 15:48:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/5f91032ae5cb074e0e54cbcc2ddda8a58ebbb522', 'message': 'Updating lower-constraints job as non voting\n\nThere is an ongoing discussion in ML to drop the\nlower-constraints job [1].\n\nMoving it to Non-voting until any decision is being\nmade in TC meeting.\n\n[1]: http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html\n\nChange-Id: I405d6790360563526d13c0b3e8ae0576d98a67d8\n(cherry picked from commit 0a2309dae39dd0d99bd2f422d565ddcc91c28b16)\n'}]",0,777776,5f91032ae5cb074e0e54cbcc2ddda8a58ebbb522,4,2,1,27339,,,0,"Updating lower-constraints job as non voting

There is an ongoing discussion in ML to drop the
lower-constraints job [1].

Moving it to Non-voting until any decision is being
made in TC meeting.

[1]: http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html

Change-Id: I405d6790360563526d13c0b3e8ae0576d98a67d8
(cherry picked from commit 0a2309dae39dd0d99bd2f422d565ddcc91c28b16)
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/76/777776/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5f91032ae5cb074e0e54cbcc2ddda8a58ebbb522,bug/1883659-stable/victoria, check: jobs: - openstack-tox-lower-constraints: voting: false, - openstack-lower-constraints-jobs,4,1
openstack%2Fkeystonemiddleware~stable%2Fussuri~I0e96334b65a0bf369ebf1d88651d13feb8d2ecac,openstack/keystonemiddleware,stable/ussuri,I0e96334b65a0bf369ebf1d88651d13feb8d2ecac,Switch to eventlet-safe oslo.cache's MemcacheClientPool,ABANDONED,2021-02-26 14:05:03.000000000,2021-04-11 07:40:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-26 14:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/250508beb07095127c67413d700670ef137368e3', 'message': 'Switch to eventlet-safe oslo.cache\'s MemcacheClientPool\n\nIn past days there were discussions about various issues\nwith memcached connections [1][2][3].\n\nAfter investigation it looks like common root cause for above\nproblems is keystonemiddleware. More precisely said the way\nhow keystonemiddleware is caching tokens.\n\nCurrently it\'s using some home-made CachePool with direct\nusage of memcached library, moreover it looks like its\napproach is not eventlet-safe.\nDiscussion can be mainly found in [4].\n\nFortunately keystonemiddleware can use ""advanced cache pool"",\nwhich is oslo.cache\'s implementation and was added long time ago [5],\nbut it is turned on only if memcache_use_advanced_pool=True.\n\nThis patch is switching to more elaborated oslo.cache CachePool\nand adding deprecation warning about eventlet-unsafe variant\nof keystonemiddleware\'s memcache pool.\n\nHow to reproduce ?\n\nwith memcache_use_advanced_pool=False\n\n1. Build clean ENV of openstack\n2. Deploy core projects (keystone,glance,nova,placement...)\n3. Run while true; do COMMAND FOR SERVICE; done\n   - several bashes, in parallel (5-7)\n\nCOMMAND FOR SERVICE:\n- openstack network list\n- openstack volume list\n- openstack server list\n- openstack image list\n\n4. Check memcached connections (which will grow up):\n    - ss | grep 11211 | wc -l   every second\n\nHow to fix and test it ?\n\nRepeat above, to fix:\n - with memcache_use_advanced_pool=True\n   OR\n - apply this patch\n\nCompare measurements in graph.\n\n[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1892852\n[2] https://bugs.launchpad.net/oslo.cache/+bug/1888394\n[3] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659\n\n[4] https://review.opendev.org/c/openstack/oslo.cache/+/742193\n\n[5] https://review.opendev.org/c/openstack/keystonemiddleware/+/268664\n\nCloses-Bug: #1883659\nCloses-Bug: #1892852\nCloses-Bug: #1888394\n\nChange-Id: I0e96334b65a0bf369ebf1d88651d13feb8d2ecac\n'}, {'number': 2, 'created': '2021-02-26 15:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/6b64b0841b385e18f8f889fa9f23a3e7a2edb0c1', 'message': 'Switch to eventlet-safe oslo.cache\'s MemcacheClientPool\n\nIn past days there were discussions about various issues\nwith memcached connections [1][2][3].\n\nAfter investigation it looks like common root cause for above\nproblems is keystonemiddleware. More precisely said the way\nhow keystonemiddleware is caching tokens.\n\nCurrently it\'s using some home-made CachePool with direct\nusage of memcached library, moreover it looks like its\napproach is not eventlet-safe.\nDiscussion can be mainly found in [4].\n\nFortunately keystonemiddleware can use ""advanced cache pool"",\nwhich is oslo.cache\'s implementation and was added long time ago [5],\nbut it is turned on only if memcache_use_advanced_pool=True.\n\nThis patch is switching to more elaborated oslo.cache CachePool\nand adding deprecation warning about eventlet-unsafe variant\nof keystonemiddleware\'s memcache pool.\n\nHow to reproduce ?\n\nwith memcache_use_advanced_pool=False\n\n1. Build clean ENV of openstack\n2. Deploy core projects (keystone,glance,nova,placement...)\n3. Run while true; do COMMAND FOR SERVICE; done\n   - several bashes, in parallel (5-7)\n\nCOMMAND FOR SERVICE:\n- openstack network list\n- openstack volume list\n- openstack server list\n- openstack image list\n\n4. Check memcached connections (which will grow up):\n    - ss | grep 11211 | wc -l   every second\n\nHow to fix and test it ?\n\nRepeat above, to fix:\n - with memcache_use_advanced_pool=True\n   OR\n - apply this patch\n\nCompare measurements in graph.\n\n[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1892852\n[2] https://bugs.launchpad.net/oslo.cache/+bug/1888394\n[3] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659\n\n[4] https://review.opendev.org/c/openstack/oslo.cache/+/742193\n\n[5] https://review.opendev.org/c/openstack/keystonemiddleware/+/268664\n\nCloses-Bug: #1883659\nCloses-Bug: #1892852\nCloses-Bug: #1888394\n\nChange-Id: I0e96334b65a0bf369ebf1d88651d13feb8d2ecac\n'}, {'number': 3, 'created': '2021-03-24 19:50:38.000000000', 'files': ['keystonemiddleware/auth_token/_opts.py', 'releasenotes/notes/deprecate-eventlet-unsafe-memcacheclientpool-f8b4a6733513d73e.yaml', 'keystonemiddleware/auth_token/_cache.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/3ae39554c32c195a1549f4079e2ea1224356003c', 'message': 'Switch to eventlet-safe oslo.cache\'s MemcacheClientPool\n\nIn past days there were discussions about various issues\nwith memcached connections [1][2][3].\n\nAfter investigation it looks like common root cause for above\nproblems is keystonemiddleware. More precisely said the way\nhow keystonemiddleware is caching tokens.\n\nCurrently it\'s using some home-made CachePool with direct\nusage of memcached library, moreover it looks like its\napproach is not eventlet-safe.\nDiscussion can be mainly found in [4].\n\nFortunately keystonemiddleware can use ""advanced cache pool"",\nwhich is oslo.cache\'s implementation and was added long time ago [5],\nbut it is turned on only if memcache_use_advanced_pool=True.\n\nThis patch is switching to more elaborated oslo.cache CachePool\nand adding deprecation warning about eventlet-unsafe variant\nof keystonemiddleware\'s memcache pool.\n\nHow to reproduce ?\n\nwith memcache_use_advanced_pool=False\n\n1. Build clean ENV of openstack\n2. Deploy core projects (keystone,glance,nova,placement...)\n3. Run while true; do COMMAND FOR SERVICE; done\n   - several bashes, in parallel (5-7)\n\nCOMMAND FOR SERVICE:\n- openstack network list\n- openstack volume list\n- openstack server list\n- openstack image list\n\n4. Check memcached connections (which will grow up):\n    - ss | grep 11211 | wc -l   every second\n\nHow to fix and test it ?\n\nRepeat above, to fix:\n - with memcache_use_advanced_pool=True\n   OR\n - apply this patch\n\nCompare measurements in graph.\n\n[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1892852\n[2] https://bugs.launchpad.net/oslo.cache/+bug/1888394\n[3] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659\n\n[4] https://review.opendev.org/c/openstack/oslo.cache/+/742193\n\n[5] https://review.opendev.org/c/openstack/keystonemiddleware/+/268664\n\nCloses-Bug: #1883659\nCloses-Bug: #1892852\nCloses-Bug: #1888394\n\nChange-Id: I0e96334b65a0bf369ebf1d88651d13feb8d2ecac\n(cherry picked from commit 788d3c4969e3446778496f3a9055f654602ae2c1)\n'}]",0,777554,3ae39554c32c195a1549f4079e2ea1224356003c,10,1,3,27339,,,0,"Switch to eventlet-safe oslo.cache's MemcacheClientPool

In past days there were discussions about various issues
with memcached connections [1][2][3].

After investigation it looks like common root cause for above
problems is keystonemiddleware. More precisely said the way
how keystonemiddleware is caching tokens.

Currently it's using some home-made CachePool with direct
usage of memcached library, moreover it looks like its
approach is not eventlet-safe.
Discussion can be mainly found in [4].

Fortunately keystonemiddleware can use ""advanced cache pool"",
which is oslo.cache's implementation and was added long time ago [5],
but it is turned on only if memcache_use_advanced_pool=True.

This patch is switching to more elaborated oslo.cache CachePool
and adding deprecation warning about eventlet-unsafe variant
of keystonemiddleware's memcache pool.

How to reproduce ?

with memcache_use_advanced_pool=False

1. Build clean ENV of openstack
2. Deploy core projects (keystone,glance,nova,placement...)
3. Run while true; do COMMAND FOR SERVICE; done
   - several bashes, in parallel (5-7)

COMMAND FOR SERVICE:
- openstack network list
- openstack volume list
- openstack server list
- openstack image list

4. Check memcached connections (which will grow up):
    - ss | grep 11211 | wc -l   every second

How to fix and test it ?

Repeat above, to fix:
 - with memcache_use_advanced_pool=True
   OR
 - apply this patch

Compare measurements in graph.

[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1892852
[2] https://bugs.launchpad.net/oslo.cache/+bug/1888394
[3] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659

[4] https://review.opendev.org/c/openstack/oslo.cache/+/742193

[5] https://review.opendev.org/c/openstack/keystonemiddleware/+/268664

Closes-Bug: #1883659
Closes-Bug: #1892852
Closes-Bug: #1888394

Change-Id: I0e96334b65a0bf369ebf1d88651d13feb8d2ecac
(cherry picked from commit 788d3c4969e3446778496f3a9055f654602ae2c1)
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/54/777554/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/auth_token/_opts.py', 'releasenotes/notes/deprecate-eventlet-unsafe-memcacheclientpool-f8b4a6733513d73e.yaml', 'keystonemiddleware/auth_token/_cache.py']",3,250508beb07095127c67413d700670ef137368e3,bug/1883659," use_advanced_pool=True, dead_retry=None, socket_timeout=None, if not self._use_advanced_pool: self._LOG.warning( ""Using the eventlet-unsafe cache pool is deprecated."" ""It is recommended to use eventlet-safe cache pool"" ""implementation from oslo.cache. This can be enabled"" ""through config option memcache_use_advanced_pool = True"") "," use_advanced_pool=False, dead_retry=None, socket_timeout=None,",32,4
openstack%2Fkeystonemiddleware~stable%2Fussuri~I405d6790360563526d13c0b3e8ae0576d98a67d8,openstack/keystonemiddleware,stable/ussuri,I405d6790360563526d13c0b3e8ae0576d98a67d8,Updating lower-constraints job as non voting,ABANDONED,2021-02-26 15:48:28.000000000,2021-04-11 07:40:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-26 15:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/5f540f7c1f5af45131c2d48079ef6275081c1fe8', 'message': 'Updating lower-constraints job as non voting\n\nThere is an ongoing discussion in ML to drop the\nlower-constraints job [1].\n\nMoving it to Non-voting until any decision is being\nmade in TC meeting.\n\n[1]: http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html\n\nChange-Id: I405d6790360563526d13c0b3e8ae0576d98a67d8\n(cherry picked from commit 0a2309dae39dd0d99bd2f422d565ddcc91c28b16)\n'}, {'number': 2, 'created': '2021-03-24 19:50:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/94c24a427a6b680c00e7bcb1940a6e9d7c9452a7', 'message': 'Updating lower-constraints job as non voting\n\nThere is an ongoing discussion in ML to drop the\nlower-constraints job [1].\n\nMoving it to Non-voting until any decision is being\nmade in TC meeting.\n\n[1]: http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html\n\nChange-Id: I405d6790360563526d13c0b3e8ae0576d98a67d8\n(cherry picked from commit 0a2309dae39dd0d99bd2f422d565ddcc91c28b16)\n'}]",0,777555,94c24a427a6b680c00e7bcb1940a6e9d7c9452a7,6,1,2,27339,,,0,"Updating lower-constraints job as non voting

There is an ongoing discussion in ML to drop the
lower-constraints job [1].

Moving it to Non-voting until any decision is being
made in TC meeting.

[1]: http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html

Change-Id: I405d6790360563526d13c0b3e8ae0576d98a67d8
(cherry picked from commit 0a2309dae39dd0d99bd2f422d565ddcc91c28b16)
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/55/777555/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5f540f7c1f5af45131c2d48079ef6275081c1fe8,bug/1883659, check: jobs: - openstack-tox-lower-constraints: voting: false, - openstack-lower-constraints-jobs,4,1
openstack%2Fkeystonemiddleware~master~I0e96334b65a0bf369ebf1d88651d13feb8d2ecac,openstack/keystonemiddleware,master,I0e96334b65a0bf369ebf1d88651d13feb8d2ecac,Switch to eventlet-safe oslo.cache's MemcacheClientPool,MERGED,2021-02-03 16:22:16.000000000,2021-04-11 07:37:20.000000000,2021-03-02 18:41:20.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 11904}, {'_account_id': 14250}, {'_account_id': 15334}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-03 16:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/0616af1b18483cfdb13a36e31e663d3f1f6659a6', 'message': 'Switch to eventlet-safe oslo.cache\'s MemcacheClientPool\n\nIn past days there were discussions about various issues\nwith memcached connections [1][2][3].\n\nAfter investigation it looks like common root cause for above\nproblems is keystonemiddleware. More precisely said the way\nhow keystonemiddleware is caching tokens.\n\nCurrently it\'s using some home-made CachePool with direct\nusage of memcached library, moreover it looks like its\napproach is not eventlet-safe.\nDiscussion can be mainly found in [4].\n\nFortunately keystonemiddleware can use ""advanced cache pool"",\nwhich is oslo.cache\'s implementation and was added long time ago [5],\nbut it is turned on only if memcache_use_advanced_pool=True.\n\nThis patch is switching to more elaborated oslo.cache CachePool\nand removing option, so it will be used by default.\n\nHow to reproduce ?\n\nwith memcache_use_advanced_pool=False\n\n1. Build clean ENV of openstack\n2. Deploy core projects (keystone,glance,nova,placement...)\n3. Run while true; do COMMAND FOR SERVICE; done\n   - several bashes, in parallel (5-7)\n\nCOMMAND FOR SERVICE:\n- openstack network list\n- openstack volume list\n- openstack server list\n- openstack image list\n\n4. Check memcached connections:\n    - ss | grep 11211 | wc -l   every second\n\nHow to fix ?\n\n  - with memcache_use_advanced_pool=False\n    OR\n  - apply this patch\n\nCompare measurements in graph.\n\n[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1892852\n[2] https://bugs.launchpad.net/oslo.cache/+bug/1888394\n[3] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659\n\n[4] https://review.opendev.org/c/openstack/oslo.cache/+/742193\n\n[5] https://review.opendev.org/c/openstack/keystonemiddleware/+/268664\n\nCloses-Bug: #1883659\nCloses-Bug: #1892852\nChange-Id: I0e96334b65a0bf369ebf1d88651d13feb8d2ecac\n'}, {'number': 2, 'created': '2021-02-03 16:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/a16b2a1997a4e8e68a45e1f065f5d7daceed81e7', 'message': 'Switch to eventlet-safe oslo.cache\'s MemcacheClientPool\n\nIn past days there were discussions about various issues\nwith memcached connections [1][2][3].\n\nAfter investigation it looks like common root cause for above\nproblems is keystonemiddleware. More precisely said the way\nhow keystonemiddleware is caching tokens.\n\nCurrently it\'s using some home-made CachePool with direct\nusage of memcached library, moreover it looks like its\napproach is not eventlet-safe.\nDiscussion can be mainly found in [4].\n\nFortunately keystonemiddleware can use ""advanced cache pool"",\nwhich is oslo.cache\'s implementation and was added long time ago [5],\nbut it is turned on only if memcache_use_advanced_pool=True.\n\nThis patch is switching to more elaborated oslo.cache CachePool\nand removing option, so it will be used by default.\n\nHow to reproduce ?\n\nwith memcache_use_advanced_pool=False\n\n1. Build clean ENV of openstack\n2. Deploy core projects (keystone,glance,nova,placement...)\n3. Run while true; do COMMAND FOR SERVICE; done\n   - several bashes, in parallel (5-7)\n\nCOMMAND FOR SERVICE:\n- openstack network list\n- openstack volume list\n- openstack server list\n- openstack image list\n\n4. Check memcached connections:\n    - ss | grep 11211 | wc -l   every second\n\nHow to fix and test it ?\n\nRepeat above:\n - with memcache_use_advanced_pool=False\n   OR\n - apply this patch\n\nCompare measurements in graph.\n\n[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1892852\n[2] https://bugs.launchpad.net/oslo.cache/+bug/1888394\n[3] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659\n\n[4] https://review.opendev.org/c/openstack/oslo.cache/+/742193\n\n[5] https://review.opendev.org/c/openstack/keystonemiddleware/+/268664\n\nCloses-Bug: #1883659\nCloses-Bug: #1892852\nChange-Id: I0e96334b65a0bf369ebf1d88651d13feb8d2ecac\n'}, {'number': 3, 'created': '2021-02-03 19:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/39426655064aa85eef158275f64b024f9aa01aca', 'message': 'Switch to eventlet-safe oslo.cache\'s MemcacheClientPool\n\nIn past days there were discussions about various issues\nwith memcached connections [1][2][3].\n\nAfter investigation it looks like common root cause for above\nproblems is keystonemiddleware. More precisely said the way\nhow keystonemiddleware is caching tokens.\n\nCurrently it\'s using some home-made CachePool with direct\nusage of memcached library, moreover it looks like its\napproach is not eventlet-safe.\nDiscussion can be mainly found in [4].\n\nFortunately keystonemiddleware can use ""advanced cache pool"",\nwhich is oslo.cache\'s implementation and was added long time ago [5],\nbut it is turned on only if memcache_use_advanced_pool=True.\n\nThis patch is switching to more elaborated oslo.cache CachePool\nand removing option, so it will be used by default.\n\nHow to reproduce ?\n\nwith memcache_use_advanced_pool=False\n\n1. Build clean ENV of openstack\n2. Deploy core projects (keystone,glance,nova,placement...)\n3. Run while true; do COMMAND FOR SERVICE; done\n   - several bashes, in parallel (5-7)\n\nCOMMAND FOR SERVICE:\n- openstack network list\n- openstack volume list\n- openstack server list\n- openstack image list\n\n4. Check memcached connections:\n    - ss | grep 11211 | wc -l   every second\n\nHow to fix and test it ?\n\nRepeat above:\n - with memcache_use_advanced_pool=False\n   OR\n - apply this patch\n\nCompare measurements in graph.\n\n[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1892852\n[2] https://bugs.launchpad.net/oslo.cache/+bug/1888394\n[3] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659\n\n[4] https://review.opendev.org/c/openstack/oslo.cache/+/742193\n\n[5] https://review.opendev.org/c/openstack/keystonemiddleware/+/268664\n\nCloses-Bug: #1883659\nCloses-Bug: #1892852\nChange-Id: I0e96334b65a0bf369ebf1d88651d13feb8d2ecac\n'}, {'number': 4, 'created': '2021-02-03 21:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/e33a9ccda8f5b011e65b78884fed3b08c31b9270', 'message': 'Switch to eventlet-safe oslo.cache\'s MemcacheClientPool\n\nIn past days there were discussions about various issues\nwith memcached connections [1][2][3].\n\nAfter investigation it looks like common root cause for above\nproblems is keystonemiddleware. More precisely said the way\nhow keystonemiddleware is caching tokens.\n\nCurrently it\'s using some home-made CachePool with direct\nusage of memcached library, moreover it looks like its\napproach is not eventlet-safe.\nDiscussion can be mainly found in [4].\n\nFortunately keystonemiddleware can use ""advanced cache pool"",\nwhich is oslo.cache\'s implementation and was added long time ago [5],\nbut it is turned on only if memcache_use_advanced_pool=True.\n\nThis patch is switching to more elaborated oslo.cache CachePool\nand removing option, so it will be used by default.\n\nHow to reproduce ?\n\nwith memcache_use_advanced_pool=False\n\n1. Build clean ENV of openstack\n2. Deploy core projects (keystone,glance,nova,placement...)\n3. Run while true; do COMMAND FOR SERVICE; done\n   - several bashes, in parallel (5-7)\n\nCOMMAND FOR SERVICE:\n- openstack network list\n- openstack volume list\n- openstack server list\n- openstack image list\n\n4. Check memcached connections (which will grow up):\n    - ss | grep 11211 | wc -l   every second\n\nHow to fix and test it ?\n\nRepeat above, to fix:\n - with memcache_use_advanced_pool=True\n   OR\n - apply this patch\n\nCompare measurements in graph.\n\n[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1892852\n[2] https://bugs.launchpad.net/oslo.cache/+bug/1888394\n[3] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659\n\n[4] https://review.opendev.org/c/openstack/oslo.cache/+/742193\n\n[5] https://review.opendev.org/c/openstack/keystonemiddleware/+/268664\n\nCloses-Bug: #1883659\nCloses-Bug: #1892852\nChange-Id: I0e96334b65a0bf369ebf1d88651d13feb8d2ecac\n'}, {'number': 5, 'created': '2021-02-04 06:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/9df3ff3e0f630762609b900212c0bd8a25daf8ae', 'message': 'Switch to eventlet-safe oslo.cache\'s MemcacheClientPool\n\nIn past days there were discussions about various issues\nwith memcached connections [1][2][3].\n\nAfter investigation it looks like common root cause for above\nproblems is keystonemiddleware. More precisely said the way\nhow keystonemiddleware is caching tokens.\n\nCurrently it\'s using some home-made CachePool with direct\nusage of memcached library, moreover it looks like its\napproach is not eventlet-safe.\nDiscussion can be mainly found in [4].\n\nFortunately keystonemiddleware can use ""advanced cache pool"",\nwhich is oslo.cache\'s implementation and was added long time ago [5],\nbut it is turned on only if memcache_use_advanced_pool=True.\n\nThis patch is switching to more elaborated oslo.cache CachePool\nand removing option, so it will be used by default.\n\nHow to reproduce ?\n\nwith memcache_use_advanced_pool=False\n\n1. Build clean ENV of openstack\n2. Deploy core projects (keystone,glance,nova,placement...)\n3. Run while true; do COMMAND FOR SERVICE; done\n   - several bashes, in parallel (5-7)\n\nCOMMAND FOR SERVICE:\n- openstack network list\n- openstack volume list\n- openstack server list\n- openstack image list\n\n4. Check memcached connections (which will grow up):\n    - ss | grep 11211 | wc -l   every second\n\nHow to fix and test it ?\n\nRepeat above, to fix:\n - with memcache_use_advanced_pool=True\n   OR\n - apply this patch\n\nCompare measurements in graph.\n\n[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1892852\n[2] https://bugs.launchpad.net/oslo.cache/+bug/1888394\n[3] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659\n\n[4] https://review.opendev.org/c/openstack/oslo.cache/+/742193\n\n[5] https://review.opendev.org/c/openstack/keystonemiddleware/+/268664\n\nCloses-Bug: #1883659\nCloses-Bug: #1892852\nChange-Id: I0e96334b65a0bf369ebf1d88651d13feb8d2ecac\n'}, {'number': 6, 'created': '2021-02-10 13:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/af4b2206bb9b7b949f7ba193c1c8bfaf6de7944a', 'message': 'Switch to eventlet-safe oslo.cache\'s MemcacheClientPool\n\nIn past days there were discussions about various issues\nwith memcached connections [1][2][3].\n\nAfter investigation it looks like common root cause for above\nproblems is keystonemiddleware. More precisely said the way\nhow keystonemiddleware is caching tokens.\n\nCurrently it\'s using some home-made CachePool with direct\nusage of memcached library, moreover it looks like its\napproach is not eventlet-safe.\nDiscussion can be mainly found in [4].\n\nFortunately keystonemiddleware can use ""advanced cache pool"",\nwhich is oslo.cache\'s implementation and was added long time ago [5],\nbut it is turned on only if memcache_use_advanced_pool=True.\n\nThis patch is switching to more elaborated oslo.cache CachePool\nand adding deprecation warning about eventlet-unsafe variant\nof keystonemiddleware\'s memcache pool.\n\nHow to reproduce ?\n\nwith memcache_use_advanced_pool=False\n\n1. Build clean ENV of openstack\n2. Deploy core projects (keystone,glance,nova,placement...)\n3. Run while true; do COMMAND FOR SERVICE; done\n   - several bashes, in parallel (5-7)\n\nCOMMAND FOR SERVICE:\n- openstack network list\n- openstack volume list\n- openstack server list\n- openstack image list\n\n4. Check memcached connections (which will grow up):\n    - ss | grep 11211 | wc -l   every second\n\nHow to fix and test it ?\n\nRepeat above, to fix:\n - with memcache_use_advanced_pool=True\n   OR\n - apply this patch\n\nCompare measurements in graph.\n\n[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1892852\n[2] https://bugs.launchpad.net/oslo.cache/+bug/1888394\n[3] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659\n\n[4] https://review.opendev.org/c/openstack/oslo.cache/+/742193\n\n[5] https://review.opendev.org/c/openstack/keystonemiddleware/+/268664\n\nCloses-Bug: #1883659\nCloses-Bug: #1892852\n\nChange-Id: I0e96334b65a0bf369ebf1d88651d13feb8d2ecac\n'}, {'number': 7, 'created': '2021-02-11 13:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/7b0d79569b3376e33fcb2a07e715b14a373c120d', 'message': 'Switch to eventlet-safe oslo.cache\'s MemcacheClientPool\n\nIn past days there were discussions about various issues\nwith memcached connections [1][2][3].\n\nAfter investigation it looks like common root cause for above\nproblems is keystonemiddleware. More precisely said the way\nhow keystonemiddleware is caching tokens.\n\nCurrently it\'s using some home-made CachePool with direct\nusage of memcached library, moreover it looks like its\napproach is not eventlet-safe.\nDiscussion can be mainly found in [4].\n\nFortunately keystonemiddleware can use ""advanced cache pool"",\nwhich is oslo.cache\'s implementation and was added long time ago [5],\nbut it is turned on only if memcache_use_advanced_pool=True.\n\nThis patch is switching to more elaborated oslo.cache CachePool\nand adding deprecation warning about eventlet-unsafe variant\nof keystonemiddleware\'s memcache pool.\n\nHow to reproduce ?\n\nwith memcache_use_advanced_pool=False\n\n1. Build clean ENV of openstack\n2. Deploy core projects (keystone,glance,nova,placement...)\n3. Run while true; do COMMAND FOR SERVICE; done\n   - several bashes, in parallel (5-7)\n\nCOMMAND FOR SERVICE:\n- openstack network list\n- openstack volume list\n- openstack server list\n- openstack image list\n\n4. Check memcached connections (which will grow up):\n    - ss | grep 11211 | wc -l   every second\n\nHow to fix and test it ?\n\nRepeat above, to fix:\n - with memcache_use_advanced_pool=True\n   OR\n - apply this patch\n\nCompare measurements in graph.\n\n[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1892852\n[2] https://bugs.launchpad.net/oslo.cache/+bug/1888394\n[3] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659\n\n[4] https://review.opendev.org/c/openstack/oslo.cache/+/742193\n\n[5] https://review.opendev.org/c/openstack/keystonemiddleware/+/268664\n\nCloses-Bug: #1883659\nCloses-Bug: #1892852\nCloses-Bug: #1888394\n\nChange-Id: I0e96334b65a0bf369ebf1d88651d13feb8d2ecac\n'}, {'number': 8, 'created': '2021-02-11 14:36:33.000000000', 'files': ['keystonemiddleware/auth_token/_opts.py', 'releasenotes/notes/deprecate-eventlet-unsafe-memcacheclientpool-f8b4a6733513d73e.yaml', 'keystonemiddleware/auth_token/_cache.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/788d3c4969e3446778496f3a9055f654602ae2c1', 'message': 'Switch to eventlet-safe oslo.cache\'s MemcacheClientPool\n\nIn past days there were discussions about various issues\nwith memcached connections [1][2][3].\n\nAfter investigation it looks like common root cause for above\nproblems is keystonemiddleware. More precisely said the way\nhow keystonemiddleware is caching tokens.\n\nCurrently it\'s using some home-made CachePool with direct\nusage of memcached library, moreover it looks like its\napproach is not eventlet-safe.\nDiscussion can be mainly found in [4].\n\nFortunately keystonemiddleware can use ""advanced cache pool"",\nwhich is oslo.cache\'s implementation and was added long time ago [5],\nbut it is turned on only if memcache_use_advanced_pool=True.\n\nThis patch is switching to more elaborated oslo.cache CachePool\nand adding deprecation warning about eventlet-unsafe variant\nof keystonemiddleware\'s memcache pool.\n\nHow to reproduce ?\n\nwith memcache_use_advanced_pool=False\n\n1. Build clean ENV of openstack\n2. Deploy core projects (keystone,glance,nova,placement...)\n3. Run while true; do COMMAND FOR SERVICE; done\n   - several bashes, in parallel (5-7)\n\nCOMMAND FOR SERVICE:\n- openstack network list\n- openstack volume list\n- openstack server list\n- openstack image list\n\n4. Check memcached connections (which will grow up):\n    - ss | grep 11211 | wc -l   every second\n\nHow to fix and test it ?\n\nRepeat above, to fix:\n - with memcache_use_advanced_pool=True\n   OR\n - apply this patch\n\nCompare measurements in graph.\n\n[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1892852\n[2] https://bugs.launchpad.net/oslo.cache/+bug/1888394\n[3] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659\n\n[4] https://review.opendev.org/c/openstack/oslo.cache/+/742193\n\n[5] https://review.opendev.org/c/openstack/keystonemiddleware/+/268664\n\nCloses-Bug: #1883659\nCloses-Bug: #1892852\nCloses-Bug: #1888394\n\nChange-Id: I0e96334b65a0bf369ebf1d88651d13feb8d2ecac\n'}]",5,773939,788d3c4969e3446778496f3a9055f654602ae2c1,37,9,8,27339,,,0,"Switch to eventlet-safe oslo.cache's MemcacheClientPool

In past days there were discussions about various issues
with memcached connections [1][2][3].

After investigation it looks like common root cause for above
problems is keystonemiddleware. More precisely said the way
how keystonemiddleware is caching tokens.

Currently it's using some home-made CachePool with direct
usage of memcached library, moreover it looks like its
approach is not eventlet-safe.
Discussion can be mainly found in [4].

Fortunately keystonemiddleware can use ""advanced cache pool"",
which is oslo.cache's implementation and was added long time ago [5],
but it is turned on only if memcache_use_advanced_pool=True.

This patch is switching to more elaborated oslo.cache CachePool
and adding deprecation warning about eventlet-unsafe variant
of keystonemiddleware's memcache pool.

How to reproduce ?

with memcache_use_advanced_pool=False

1. Build clean ENV of openstack
2. Deploy core projects (keystone,glance,nova,placement...)
3. Run while true; do COMMAND FOR SERVICE; done
   - several bashes, in parallel (5-7)

COMMAND FOR SERVICE:
- openstack network list
- openstack volume list
- openstack server list
- openstack image list

4. Check memcached connections (which will grow up):
    - ss | grep 11211 | wc -l   every second

How to fix and test it ?

Repeat above, to fix:
 - with memcache_use_advanced_pool=True
   OR
 - apply this patch

Compare measurements in graph.

[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1892852
[2] https://bugs.launchpad.net/oslo.cache/+bug/1888394
[3] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659

[4] https://review.opendev.org/c/openstack/oslo.cache/+/742193

[5] https://review.opendev.org/c/openstack/keystonemiddleware/+/268664

Closes-Bug: #1883659
Closes-Bug: #1892852
Closes-Bug: #1888394

Change-Id: I0e96334b65a0bf369ebf1d88651d13feb8d2ecac
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/39/773939/6 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/auth_token/_opts.py', 'keystonemiddleware/tests/unit/test_opts.py', 'keystonemiddleware/auth_token/_cache.py', 'keystonemiddleware/auth_token/__init__.py', 'keystonemiddleware/tests/unit/auth_token/test_cache.py']",5,0616af1b18483cfdb13a36e31e663d3f1f6659a6,bug/1883659," 'memcached_servers': ','.join(MEMCACHED_SERVERS)"," 'memcached_servers': ','.join(MEMCACHED_SERVERS), 'memcache_use_advanced_pool': True",18,33
openstack%2Fkolla-ansible~master~I43de6085c5c8930ea54f19621176231eeb894872,openstack/kolla-ansible,master,I43de6085c5c8930ea54f19621176231eeb894872,Add memcache_use_advanced_pool to keystone_authtoken,ABANDONED,2021-02-01 18:49:57.000000000,2021-04-11 07:15:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-01 18:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fd54bad4832df7b58da00a9ef1cbcaa8dadeea1d', 'message': ""Add memcache_use_advanced_pool to keystone_authtoken\n\nServices which are using keystonemiddleware also using\nmemcached for cache. Keystonemiddleware has own CachePool\nwhich looks like not working eventlet-safe, which is problem\nand probably root cause of [1].\n\nIt seems CachePool works similary as below (from middleware code)\n\n1. If it is asked for an N client/connections to memcache\n   fast enough, then N client/connections will be simply created\n2. References to those clients are stored in memory, so they are never destroyed\n3. They have never been manually called off, so they remain persistent\n\nSo\n\nIf several requests are sent to services which are using keystone_middleware (almost all)\nat same time, there will be N hanging persistent connections.\nAnd this is quite big problem, as this can be accumulated in a while.\n\nHopefully, keystonemiddleware has memcache_use_advanced_pool option\nwhich is switching from his own CachePool to MemcachePool from\noslo.cache which is eventlet/thread - safe.\nAlso, I think this should be default option also in keystonemiddleware\nitself as CachePool looks like very old.\nMemcachedPool from oslo.cache was proposed here [3][4].\n\nI've also started discussion in [2] and looks like this\nwill be somehow reworked.\n\nHow to reproduce ?\n\n1. Build new, clean openstack ENV via kolla-ansible\nwithout option memcache_use_advanced_pool = True\nin keystone_authtoken.\n\n2. Open several bashes somewhere aside and call\n   openstack server list\n   openstack network list\n   openstack volume list\n   openstack image list\n\n   In while loop:\n   while true; do COMMAND;done\n\n3. Check connections to memcached which will be growing up\n\nVerify ?\n\n4. Apply this patch\n5. Retry 2 step\n6. Check connections again\n\n[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659\n[2] https://review.opendev.org/c/openstack/oslo.cache/+/742193\n[3] https://review.opendev.org/c/openstack/keystonemiddleware/+/268664\n[4] https://review.opendev.org/c/openstack/keystonemiddleware/+/527466/\n\nChange-Id: I43de6085c5c8930ea54f19621176231eeb894872\n""}, {'number': 2, 'created': '2021-02-01 21:04:35.000000000', 'files': ['ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/freezer/templates/freezer.conf.j2', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/masakari/templates/masakari.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/placement/templates/placement.conf.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/panko/templates/panko.conf.j2', 'ansible/roles/monasca/templates/monasca-api/api.conf.j2', 'ansible/roles/zun/templates/zun.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/cyborg/templates/cyborg.conf.j2', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fea7dafe891eb03c8e2b3b38edadddb1d020129c', 'message': ""Add memcache_use_advanced_pool to keystone_authtoken\n\nServices which are using keystonemiddleware also using\nmemcached for cache. Keystonemiddleware has own CachePool\nwhich looks like not working eventlet-safe, which is problem\nand probably root cause of [1].\n\nIt seems CachePool works similary as below (from middleware code)\n\n1. If it is asked for an N client/connections to memcache\n   fast enough, then N client/connections will be simply created\n2. References to those clients are stored in memory, so they are never destroyed\n3. They have never been manually called off, so they remain persistent\n\nSo\n\nIf several requests are sent to services which are using keystone_middleware (almost all)\nat same time, there will be N hanging persistent connections.\nAnd this is quite big problem, as this can be accumulated in a while.\n\nHopefully, keystonemiddleware has memcache_use_advanced_pool option\nwhich is switching from his own CachePool to MemcachePool from\noslo.cache which is eventlet/thread - safe.\nAlso, I think this should be default option also in keystonemiddleware\nitself as CachePool looks like very old.\nMemcachedPool from oslo.cache was proposed here [3][4].\n\nI've also started discussion in [2] and looks like this\nwill be somehow reworked.\n\nHow to reproduce ?\n\n1. Build new, clean openstack ENV via kolla-ansible\nwithout option memcache_use_advanced_pool = True\nin keystone_authtoken.\n\n2. Open several bashes somewhere aside and call\n   openstack server list\n   openstack network list\n   openstack volume list\n   openstack image list\n\n   In while loop:\n   while true; do COMMAND;done\n\n3. Check connections to memcached which will be growing up\n\nVerify ?\n\n4. Apply this patch\n5. Retry 2 step\n6. Check connections again\n\n[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659\n[2] https://review.opendev.org/c/openstack/oslo.cache/+/742193\n[3] https://review.opendev.org/c/openstack/keystonemiddleware/+/268664\n[4] https://review.opendev.org/c/openstack/keystonemiddleware/+/527466/\n\nChange-Id: I43de6085c5c8930ea54f19621176231eeb894872\n""}]",0,773468,fea7dafe891eb03c8e2b3b38edadddb1d020129c,6,1,2,27339,,,0,"Add memcache_use_advanced_pool to keystone_authtoken

Services which are using keystonemiddleware also using
memcached for cache. Keystonemiddleware has own CachePool
which looks like not working eventlet-safe, which is problem
and probably root cause of [1].

It seems CachePool works similary as below (from middleware code)

1. If it is asked for an N client/connections to memcache
   fast enough, then N client/connections will be simply created
2. References to those clients are stored in memory, so they are never destroyed
3. They have never been manually called off, so they remain persistent

So

If several requests are sent to services which are using keystone_middleware (almost all)
at same time, there will be N hanging persistent connections.
And this is quite big problem, as this can be accumulated in a while.

Hopefully, keystonemiddleware has memcache_use_advanced_pool option
which is switching from his own CachePool to MemcachePool from
oslo.cache which is eventlet/thread - safe.
Also, I think this should be default option also in keystonemiddleware
itself as CachePool looks like very old.
MemcachedPool from oslo.cache was proposed here [3][4].

I've also started discussion in [2] and looks like this
will be somehow reworked.

How to reproduce ?

1. Build new, clean openstack ENV via kolla-ansible
without option memcache_use_advanced_pool = True
in keystone_authtoken.

2. Open several bashes somewhere aside and call
   openstack server list
   openstack network list
   openstack volume list
   openstack image list

   In while loop:
   while true; do COMMAND;done

3. Check connections to memcached which will be growing up

Verify ?

4. Apply this patch
5. Retry 2 step
6. Check connections again

[1] https://bugs.launchpad.net/keystonemiddleware/+bug/1883659
[2] https://review.opendev.org/c/openstack/oslo.cache/+/742193
[3] https://review.opendev.org/c/openstack/keystonemiddleware/+/268664
[4] https://review.opendev.org/c/openstack/keystonemiddleware/+/527466/

Change-Id: I43de6085c5c8930ea54f19621176231eeb894872
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/68/773468/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/freezer/templates/freezer.conf.j2', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/masakari/templates/masakari.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/placement/templates/placement.conf.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/panko/templates/panko.conf.j2', 'ansible/roles/monasca/templates/monasca-api/api.conf.j2', 'ansible/roles/zun/templates/zun.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/cyborg/templates/cyborg.conf.j2', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2']",31,fd54bad4832df7b58da00a9ef1cbcaa8dadeea1d,keystonemiddleware-eventlet-safe,memcache_use_advanced_pool = True,,37,0
openstack%2Fopenstack-ansible~master~I7e27477d4fb1292aa5d79adcf6cb33eaa31da035,openstack/openstack-ansible,master,I7e27477d4fb1292aa5d79adcf6cb33eaa31da035,Use ansible_facts[] instead of fact variables in tests,MERGED,2021-03-01 13:28:31.000000000,2021-04-10 22:36:09.000000000,2021-04-10 22:34:03.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-01 13:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/94b2133deea87b8b9d11e33d88d4633286d8404e', 'message': 'Use ansible_facts[] instead of fact variables in tests\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I7e27477d4fb1292aa5d79adcf6cb33eaa31da035\n'}, {'number': 2, 'created': '2021-03-01 13:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3e08323a96c41af8cbb965f9b8eee4a518f3d461', 'message': 'Use ansible_facts[] instead of fact variables in tests\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I7e27477d4fb1292aa5d79adcf6cb33eaa31da035\n'}, {'number': 3, 'created': '2021-03-01 17:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/682ff90415c24bf10fc3e750bebcbc3825f9559a', 'message': 'Use ansible_facts[] instead of fact variables in tests\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I7e27477d4fb1292aa5d79adcf6cb33eaa31da035\n'}, {'number': 4, 'created': '2021-03-02 15:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2bb74520d1772e49a74948081cf558a721fdfeea', 'message': 'Use ansible_facts[] instead of fact variables in tests\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I7e27477d4fb1292aa5d79adcf6cb33eaa31da035\n'}, {'number': 5, 'created': '2021-03-02 16:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4fea13e5de5fb447fbf8d84330d834c8ea92a2e8', 'message': 'Use ansible_facts[] instead of fact variables in tests\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I7e27477d4fb1292aa5d79adcf6cb33eaa31da035\n'}, {'number': 6, 'created': '2021-03-03 09:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5f6e43305366429003d4071cd6ca85b20e618d7f', 'message': 'Use ansible_facts[] instead of fact variables in tests\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I7e27477d4fb1292aa5d79adcf6cb33eaa31da035\n'}, {'number': 7, 'created': '2021-03-03 09:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/12149ec8eea26afe9fe5ccf63657a60de9fef86d', 'message': 'Use ansible_facts[] instead of fact variables in tests\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I7e27477d4fb1292aa5d79adcf6cb33eaa31da035\n'}, {'number': 8, 'created': '2021-03-03 11:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/68df8f805b26282566b32ea2faffdbec8462f0b5', 'message': 'Use ansible_facts[] instead of fact variables in tests\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I7e27477d4fb1292aa5d79adcf6cb33eaa31da035\n'}, {'number': 9, 'created': '2021-03-03 11:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/eed6fb757313b07a80e87629e8689fa3edd50a1f', 'message': 'Use ansible_facts[] instead of fact variables in tests\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I7e27477d4fb1292aa5d79adcf6cb33eaa31da035\n'}, {'number': 10, 'created': '2021-03-03 15:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/58b4bb585ad15e2b9bdc145e614bde2ce7320e0a', 'message': 'Use ansible_facts[] instead of fact variables in tests\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I7e27477d4fb1292aa5d79adcf6cb33eaa31da035\n'}, {'number': 11, 'created': '2021-03-04 17:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c5ab40808af47caaabb3af0a957d30a0d7924281', 'message': 'Use ansible_facts[] instead of fact variables in tests\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I7e27477d4fb1292aa5d79adcf6cb33eaa31da035\n'}, {'number': 12, 'created': '2021-03-08 07:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a488ee0a55f4d0ce8c23733eff3d589c1bfa15a1', 'message': 'Use ansible_facts[] instead of fact variables in tests\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I7e27477d4fb1292aa5d79adcf6cb33eaa31da035\n'}, {'number': 13, 'created': '2021-03-23 16:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5aff3b837a4f827798d123f7627e5962675f418f', 'message': 'Use ansible_facts[] instead of fact variables in tests\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I7e27477d4fb1292aa5d79adcf6cb33eaa31da035\n'}, {'number': 14, 'created': '2021-03-23 16:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/57c40f48ae287a020e7a13dd639957e3acf4a6f1', 'message': 'Use ansible_facts[] instead of fact variables in tests\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I7e27477d4fb1292aa5d79adcf6cb33eaa31da035\n'}, {'number': 15, 'created': '2021-03-27 11:49:09.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_squid.yml', 'tests/roles/bootstrap-host/tasks/check-requirements.yml', 'tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'tests/roles/bootstrap-host/tasks/prepare_data_disk.yml', 'tests/roles/bootstrap-host/tasks/main.yml', 'tests/roles/bootstrap-host/tasks/prepare_networking.yml', 'tests/roles/bootstrap-host/defaults/main.yml', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2', 'tests/roles/bootstrap-host/tasks/prepare_loopback_zfs.yml', 'tests/roles/bootstrap-host/tasks/install_packages.yml', 'tests/bootstrap-aio.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e2c4cd43bb869a2fe552a93fb1e49b1edf27c7d5', 'message': 'Use ansible_facts[] instead of fact variables in tests\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I7e27477d4fb1292aa5d79adcf6cb33eaa31da035\n'}]",0,777998,e2c4cd43bb869a2fe552a93fb1e49b1edf27c7d5,45,3,15,25023,,,0,"Use ansible_facts[] instead of fact variables in tests

See https://github.com/ansible/ansible/issues/73654

Change-Id: I7e27477d4fb1292aa5d79adcf6cb33eaa31da035
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/98/777998/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/tasks/prepare_squid.yml', 'tests/roles/bootstrap-host/tasks/check-requirements.yml', 'tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'tests/roles/bootstrap-host/tasks/prepare_data_disk.yml', 'tests/roles/bootstrap-host/tasks/main.yml', 'tests/roles/bootstrap-host/tasks/prepare_networking.yml', 'tests/roles/bootstrap-host/defaults/main.yml', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2', 'tests/roles/bootstrap-host/tasks/install_packages.yml', 'tests/roles/bootstrap-host/tasks/prepare_loopback_zfs.yml', 'tests/bootstrap-aio.yml']",11,94b2133deea87b8b9d11e33d88d4633286d8404e,osa-facts," Subsystem: ""{{ sftp_subsystem[ansible_facts['pkg_mgr']] }}"" - ansible_facts['eth12']['active'] | bool - ansible_facts['eth13']['active'] | bool - ansible_facts['eth14']['active'] | bool - name: Clear facts meta: clear_facts"," Subsystem: ""{{ sftp_subsystem[ansible_pkg_mgr] }}"" - ansible_eth12['active'] | bool - ansible_eth13['active'] | bool - ansible_eth14['active'] | bool",36,35
openstack%2Fcharm-octavia~master~I8770c1ecdb6c533e8a5658d96f029e4bd3347809,openstack/charm-octavia,master,I8770c1ecdb6c533e8a5658d96f029e4bd3347809,21.04 libraries freeze for charms on master branch,MERGED,2021-04-03 19:31:51.000000000,2021-04-10 21:19:12.000000000,2021-04-10 21:19:12.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-03 19:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/4ecff4cf6c4cf4a6c7148ed9898d3ecb65aadee9', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I8770c1ecdb6c533e8a5658d96f029e4bd3347809\n'}, {'number': 2, 'created': '2021-04-07 20:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/489eb45b9eaa3d32131b178ba4c996b265ae2a7f', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I8770c1ecdb6c533e8a5658d96f029e4bd3347809\n'}, {'number': 3, 'created': '2021-04-07 20:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/ced848fb63aad98a8a20c6fb86e223a826ff9d3f', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\n* lock osprofiler <= 2.6.1 in wheelhouse if\n  python_version < 3.6 as version 2.7.0 drops py35 support.\n\nChange-Id: I8770c1ecdb6c533e8a5658d96f029e4bd3347809\n'}, {'number': 4, 'created': '2021-04-07 21:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/e907a84a03c37b79e081fde64ca7027797535529', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I8770c1ecdb6c533e8a5658d96f029e4bd3347809\n'}, {'number': 5, 'created': '2021-04-08 13:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/874d51afdad40273ae21cef08ab20adb54d9f80d', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I8770c1ecdb6c533e8a5658d96f029e4bd3347809\n'}, {'number': 6, 'created': '2021-04-08 14:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/0f3fab9a99228caf6a634719807ef678ab4a73e8', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I8770c1ecdb6c533e8a5658d96f029e4bd3347809\n'}, {'number': 7, 'created': '2021-04-08 14:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/28160be9a91a8ac20ec668b047de4ac71fc51d5e', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I8770c1ecdb6c533e8a5658d96f029e4bd3347809\n'}, {'number': 8, 'created': '2021-04-10 08:17:15.000000000', 'files': ['test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/9f66f4bdd51bab0ecc704a6cb77432ddd3c90ee0', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n* build.lock file constructed on xenial builder\n\nChange-Id: I8770c1ecdb6c533e8a5658d96f029e4bd3347809\n'}]",0,784683,9f66f4bdd51bab0ecc704a6cb77432ddd3c90ee0,43,5,8,20870,,,0,"21.04 libraries freeze for charms on master branch

* charm-helpers sync for classic charms
* build.lock file for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure stable/21.04 branch for charms.openstack
  - ensure stable/21.04 branch for charm-helpers
* build.lock file constructed on xenial builder

Change-Id: I8770c1ecdb6c533e8a5658d96f029e4bd3347809
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/83/784683/5 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'tox.ini']",5,4ecff4cf6c4cf4a6c7148ed9898d3ecb65aadee9,libraries-sync-21-04, charm-build --log-level DEBUG --use-lock-file-branches -o {toxinidir}/build/builds src {posargs} [testenv:add-build-lock-file] basepython = python3 commands = charm-build --log-level DEBUG --write-lock-file -o {toxinidir}/build/builds src {posargs}, charm-build --log-level DEBUG -o {toxinidir}/build/builds src {posargs},895,6
openstack%2Ftripleo-heat-templates~master~Ief7fb44f53b55a73d76ef3aa29dcd17194a6fc98,openstack/tripleo-heat-templates,master,Ief7fb44f53b55a73d76ef3aa29dcd17194a6fc98,Disable RabbitMQ busy-wait for dirty cpu and dirty i/o schedulers,MERGED,2021-03-22 16:22:06.000000000,2021-04-10 20:03:03.000000000,2021-04-10 20:01:47.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-22 16:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/25d5e94c8241c1b4720fe3f4f06e55a4965e63d5', 'message': 'Disable RabbitMQ busy-wait for dirty cpu and dirty i/o schedulers\n\nThis aligns the defaults with the recommendations from upstream:\n\nhttps://www.rabbitmq.com/runtime.html#busy-waiting\n\nChange-Id: Ief7fb44f53b55a73d76ef3aa29dcd17194a6fc98\n'}, {'number': 2, 'created': '2021-04-07 10:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59212032c3f7e49be108be01fe5b0162e9894fc3', 'message': 'Disable RabbitMQ busy-wait for dirty cpu and dirty i/o schedulers\n\nThis aligns the defaults with the recommendations from upstream:\n\nhttps://www.rabbitmq.com/runtime.html#busy-waiting\n\nChange-Id: Ief7fb44f53b55a73d76ef3aa29dcd17194a6fc98\n'}, {'number': 3, 'created': '2021-04-09 16:44:52.000000000', 'files': ['deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'releasenotes/notes/erl-sbwtdcpu-sbwtdio-b26506a0430480dc.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ecff7b70566d05a62b5952d2b23909b2c1d90698', 'message': 'Disable RabbitMQ busy-wait for dirty cpu and dirty i/o schedulers\n\nThis aligns the defaults with the recommendations from upstream:\n\nhttps://www.rabbitmq.com/runtime.html#busy-waiting\n\nChange-Id: Ief7fb44f53b55a73d76ef3aa29dcd17194a6fc98\n'}]",0,782288,ecff7b70566d05a62b5952d2b23909b2c1d90698,24,5,3,9257,,,0,"Disable RabbitMQ busy-wait for dirty cpu and dirty i/o schedulers

This aligns the defaults with the recommendations from upstream:

https://www.rabbitmq.com/runtime.html#busy-waiting

Change-Id: Ief7fb44f53b55a73d76ef3aa29dcd17194a6fc98
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/782288/3 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'releasenotes/notes/erl-sbwtdcpu-sbwtdio-b26506a0430480dc.yaml']",2,25d5e94c8241c1b4720fe3f4f06e55a4965e63d5,sbwtdcpu-sbwtdio,--- other: - | The default value of the parameter 'RabbitAdditionalErlArgs' was updated to include the new options '+sbwtdcpu none +sbwtdio none' which disables busy-wait for dirty cpu schedulers and dirty i/o schedulers respectively. This aligns with the flags recommended by RabbitMQ upstream (https://www.rabbitmq.com/runtime.html#busy-waiting).,,14,4
openstack%2Fcharm-octavia-diskimage-retrofit~master~If282d7ce1d897cf125ce15368ffafdf29c47092f,openstack/charm-octavia-diskimage-retrofit,master,If282d7ce1d897cf125ce15368ffafdf29c47092f,21.04 libraries freeze for charms on master branch,MERGED,2021-04-03 19:32:17.000000000,2021-04-10 18:42:11.000000000,2021-04-10 17:48:14.000000000,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-03 19:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/f7cc487fd62191cf0796091109860a227c969484', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: If282d7ce1d897cf125ce15368ffafdf29c47092f\n'}, {'number': 2, 'created': '2021-04-07 19:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/ae36b3eaa76eb03555d2132ead96acf3b6275fc4', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\n* lock python-glanceclient <= 2.16.0 if python_version < 3.6 as\n  version 2.17.0 drops py35 support.\n\nChange-Id: If282d7ce1d897cf125ce15368ffafdf29c47092f\n'}, {'number': 3, 'created': '2021-04-07 20:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/4b96ba6aa55d620a29caeced8ab8e2878777e3ef', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\n* lock python-glanceclient <= 2.16.0 in wheelhouse if\n  python_version < 3.6 as version 2.17.0 drops py35 support.\n\nChange-Id: If282d7ce1d897cf125ce15368ffafdf29c47092f\n'}, {'number': 4, 'created': '2021-04-08 13:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/472e22bc663d257686735dbb7ef7b0d25238e8d7', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: If282d7ce1d897cf125ce15368ffafdf29c47092f\n'}, {'number': 5, 'created': '2021-04-08 14:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/93cdd1f73089cb57c16c7d001a5b17ebeebd5466', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: If282d7ce1d897cf125ce15368ffafdf29c47092f\n'}, {'number': 6, 'created': '2021-04-08 14:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/0a70477edda8b261ee41ab17930ff518c6df2014', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: If282d7ce1d897cf125ce15368ffafdf29c47092f\n'}, {'number': 7, 'created': '2021-04-10 14:10:52.000000000', 'files': ['test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/0cb21258ca675e55f66948c5aa8b9370d4e7d4e3', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n* build.lock file generated on a xenial host\n\nChange-Id: If282d7ce1d897cf125ce15368ffafdf29c47092f\n'}]",0,784685,0cb21258ca675e55f66948c5aa8b9370d4e7d4e3,36,5,7,20870,,,0,"21.04 libraries freeze for charms on master branch

* charm-helpers sync for classic charms
* build.lock file for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure stable/21.04 branch for charms.openstack
  - ensure stable/21.04 branch for charm-helpers
* build.lock file generated on a xenial host

Change-Id: If282d7ce1d897cf125ce15368ffafdf29c47092f
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/85/784685/5 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'tox.ini']",5,f7cc487fd62191cf0796091109860a227c969484,libraries-sync-21-04, charm-build --log-level DEBUG --use-lock-file-branches -o {toxinidir}/build/builds src {posargs} [testenv:add-build-lock-file] basepython = python3 commands = charm-build --log-level DEBUG --write-lock-file -o {toxinidir}/build/builds src {posargs}, charm-build --log-level DEBUG -o {toxinidir}/build/builds src {posargs},387,6
openstack%2Fcharm-ceph-osd~master~I9f495e3ce85913c9f63201c9effa9b4c5932343d,openstack/charm-ceph-osd,master,I9f495e3ce85913c9f63201c9effa9b4c5932343d,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-03 20:16:03.000000000,2021-04-10 18:37:23.000000000,2021-04-10 18:37:23.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 20:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/fbacd13504bcc3e872d3884a4e26b8cb97f2ccbf', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I9f495e3ce85913c9f63201c9effa9b4c5932343d\n'}, {'number': 2, 'created': '2021-03-30 11:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/734734922053de5327e74c3d9f310ff1c91bdc63', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync charm-helpers\n\nChange-Id: I9f495e3ce85913c9f63201c9effa9b4c5932343d\n'}, {'number': 3, 'created': '2021-04-10 15:21:47.000000000', 'files': ['tests/tests.yaml', 'osci.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/db518bfe2a57219a48beab592d5fe8964736cc3b', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync charm-helpers\n\nChange-Id: I9f495e3ce85913c9f63201c9effa9b4c5932343d\n'}]",0,778570,db518bfe2a57219a48beab592d5fe8964736cc3b,16,3,3,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

Sync charm-helpers

Change-Id: I9f495e3ce85913c9f63201c9effa9b4c5932343d
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/70/778570/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'osci.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml']",4,fbacd13504bcc3e872d3884a4e26b8cb97f2ccbf,wallaby-bundles,"variables: openstack-origin: &openstack-origin cloud:focal-wallaby series: focal comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': '7': '8': '9': '10': '11': '12': '13': '14': '15': applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router cinder-mysql-router: charm: cs:~openstack-charmers-next/mysql-router nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers-next/mysql-router placement-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' ceph-osd: charm: ../../../ceph-osd num_units: 3 storage: osd-devices: 'cinder,10G' options: osd-devices: '/dev/test-non-existent' source: *openstack-origin to: - '3' - '4' - '5' ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: monitor-count: '3' source: *openstack-origin to: - '6' - '7' - '8' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '9' keystone: expose: True charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '10' nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 1 options: openstack-origin: *openstack-origin to: - '11' glance: expose: True charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '12' cinder: expose: True charm: cs:~openstack-charmers-next/cinder num_units: 1 options: openstack-origin: *openstack-origin block-device: 'None' glance-api-version: '2' to: - '13' cinder-ceph: charm: cs:~openstack-charmers-next/cinder-ceph nova-cloud-controller: expose: True charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 options: openstack-origin: *openstack-origin to: - '14' placement: charm: cs:~openstack-charmers-next/placement num_units: 1 options: openstack-origin: *openstack-origin to: - '15' relations: - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-compute:ceph' - 'ceph-mon:client' - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'glance:ceph' - 'ceph-mon:client' - - 'cinder:shared-db' - 'cinder-mysql-router:shared-db' - - 'cinder-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'cinder:identity-service' - 'keystone:identity-service' - - 'cinder:amqp' - 'rabbitmq-server:amqp' - - 'cinder:image-service' - 'glance:image-service' - - 'cinder-ceph:storage-backend' - 'cinder:storage-backend' - - 'cinder-ceph:ceph' - 'ceph-mon:client' - - 'ceph-osd:mon' - 'ceph-mon:osd' - - 'nova-cloud-controller:shared-db' - 'nova-cloud-controller-mysql-router:shared-db' - - 'nova-cloud-controller-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'placement:shared-db' - 'placement-mysql-router:shared-db' - - 'placement-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'placement' - 'keystone' - - 'placement' - 'nova-cloud-controller' - - 'cinder-ceph:ceph-access' - 'nova-compute:ceph-access' ",,449,2
openstack%2Fcharm-ironic-conductor~master~I0a12d86c92a024a958332fd0591cdee866428cd0,openstack/charm-ironic-conductor,master,I0a12d86c92a024a958332fd0591cdee866428cd0,21.04 libraries freeze for charms on master branch,MERGED,2021-04-03 19:26:02.000000000,2021-04-10 18:11:45.000000000,2021-04-10 18:11:45.000000000,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-03 19:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/e26a73e1b80c2a1a12c392eb4419c42f58bd4680', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I0a12d86c92a024a958332fd0591cdee866428cd0\n'}, {'number': 2, 'created': '2021-04-07 19:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/6eb1abf840b3126f2b1366109b3bb1e6c6006682', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\n* lock python-swiftclient <= 3.8.0 if python_version < 3.6 as\n  version 3.8.1 drops py35 support.\n\nChange-Id: I0a12d86c92a024a958332fd0591cdee866428cd0\n'}, {'number': 3, 'created': '2021-04-07 20:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/80fe65a3dcaabb3dabe912577fc7f26e7a61d992', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\n* lock python-swiftclient <= 3.8.0 in wheelhouse if\n  python_version < 3.6 as version 3.8.1 drops py35 support.\n\nChange-Id: I0a12d86c92a024a958332fd0591cdee866428cd0\n'}, {'number': 4, 'created': '2021-04-07 20:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/0b5ac6fbbf75895be1af9a0fe128bc5935f95ccb', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\n* lock python-swiftclient <= 3.8.0 in wheelhouse if\n  python_version < 3.6 as version 3.8.1 drops py35 support.\n\nChange-Id: I0a12d86c92a024a958332fd0591cdee866428cd0\n'}, {'number': 5, 'created': '2021-04-07 20:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/14374076764f500a3a66610ce4de5046c4dcefa4', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\n* lock python-glanceclient <= 2.16.0 in wheelhouse if\n  python_version < 3.6 as version 2.17.0 drops py35 support.\n* lock python-swiftclient <= 3.8.0 in wheelhouse if\n  python_version < 3.6 as version 3.8.1 drops py35 support.\n\nChange-Id: I0a12d86c92a024a958332fd0591cdee866428cd0\n'}, {'number': 6, 'created': '2021-04-08 13:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/76003b9922c96ad9b943c81fd1057ba073d49767', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\n* lock python-glanceclient <= 2.16.0 in wheelhouse if\n  python_version < 3.6 as version 2.17.0 drops py35 support.\n* lock python-swiftclient <= 3.8.0 in wheelhouse if\n  python_version < 3.6 as version 3.8.1 drops py35 support.\n\nChange-Id: I0a12d86c92a024a958332fd0591cdee866428cd0\n'}, {'number': 7, 'created': '2021-04-08 13:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/2f0eff4118c286c09df040016896f4a318f0c12c', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I0a12d86c92a024a958332fd0591cdee866428cd0\n'}, {'number': 8, 'created': '2021-04-08 14:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/255a81a3e0392162dfe5a8e9026fe2a94e9f789e', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I0a12d86c92a024a958332fd0591cdee866428cd0\n'}, {'number': 9, 'created': '2021-04-08 14:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/12ae4abb03adf9b2939819a4b3331bb1e0540456', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I0a12d86c92a024a958332fd0591cdee866428cd0\n'}, {'number': 10, 'created': '2021-04-10 10:57:00.000000000', 'files': ['test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/0e180598da4e5e6a09637b352b54ee42d5953919', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n* Use xenial builder to create the build.lock file.\n\nChange-Id: I0a12d86c92a024a958332fd0591cdee866428cd0\n'}]",0,784657,0e180598da4e5e6a09637b352b54ee42d5953919,36,5,10,20870,,,0,"21.04 libraries freeze for charms on master branch

* charm-helpers sync for classic charms
* build.lock file for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure stable/21.04 branch for charms.openstack
  - ensure stable/21.04 branch for charm-helpers
* Use xenial builder to create the build.lock file.

Change-Id: I0a12d86c92a024a958332fd0591cdee866428cd0
",git fetch https://review.opendev.org/openstack/charm-ironic-conductor refs/changes/57/784657/4 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'tox.ini']",5,e26a73e1b80c2a1a12c392eb4419c42f58bd4680,libraries-sync-21-04, charm-build --log-level DEBUG --use-lock-file-branches -o {toxinidir}/build/builds src {posargs} [testenv:add-build-lock-file] basepython = python3 commands = charm-build --log-level DEBUG --write-lock-file -o {toxinidir}/build/builds src {posargs}, charm-build --log-level DEBUG -o {toxinidir}/build/builds src {posargs},437,6
openstack%2Fdesignate~master~If2ddb37ccd77b1e44f93931aa0e00de5635bbf65,openstack/designate,master,If2ddb37ccd77b1e44f93931aa0e00de5635bbf65,DNM - Debugging uWSGI issue,ABANDONED,2021-04-10 17:38:32.000000000,2021-04-10 17:38:59.000000000,,[],"[{'number': 1, 'created': '2021-04-10 17:38:32.000000000', 'files': ['designate/api/middleware.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/5f602c53c3054d4f156d45883ecccb28af30ddf5', 'message': 'DNM - Debugging uWSGI issue\n\nChange-Id: If2ddb37ccd77b1e44f93931aa0e00de5635bbf65\n'}]",0,785756,5f602c53c3054d4f156d45883ecccb28af30ddf5,2,0,1,11628,,,0,"DNM - Debugging uWSGI issue

Change-Id: If2ddb37ccd77b1e44f93931aa0e00de5635bbf65
",git fetch https://review.opendev.org/openstack/designate refs/changes/56/785756/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/api/middleware.py'],1,5f602c53c3054d4f156d45883ecccb28af30ddf5,, LOG.exception(e) LOG.exception(e) LOG.exception(e),,3,0
openstack%2Fneutron~stable%2Fvictoria~I485762b46567a99b9ebd6eb047c7088fed8071d1,openstack/neutron,stable/victoria,I485762b46567a99b9ebd6eb047c7088fed8071d1,[ovn]: Remove unwanted IP addresses from OVN ports,MERGED,2021-03-31 08:23:44.000000000,2021-04-10 15:51:03.000000000,2021-04-10 15:49:31.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 08:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/332e411ef777579b965ae5020560663ce2c89de4', 'message': '[ovn]: Remove unwanted IP addresses from OVN ports\n\nMAC learning has been added in OVN v21.03[0]. Now, if DHCP and port\nsecurity are disabled, then the addresses field of a port should not\ninclude its MAC-IP address pairs. This allows the use of OVN MAC\nlearning capabilities. Existing tests now match this requirement too.\n\n[0] http://patchwork.ozlabs.org/project/ovn/list/?series=228135i&state=%2A&archive=both\n\nChange-Id: I485762b46567a99b9ebd6eb047c7088fed8071d1\nCloses-Bug: 1904412\nSigned-off-by: Elvira García Ruiz <egarciar@redhat.com>\n'}, {'number': 2, 'created': '2021-03-31 08:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3257547c8681014a5b4f0db57d6daab3c087e0e0', 'message': '[ovn]: Remove unwanted IP addresses from OVN ports\n\nMAC learning has been added in OVN v21.03[0]. Now, if DHCP and port\nsecurity are disabled, then the addresses field of a port should not\ninclude its MAC-IP address pairs. This allows the use of OVN MAC\nlearning capabilities. Existing tests now match this requirement too.\n\n[0] http://patchwork.ozlabs.org/project/ovn/list/?series=228135i&state=%2A&archive=both\n\nChange-Id: I485762b46567a99b9ebd6eb047c7088fed8071d1\nCloses-Bug: 1904412\nSigned-off-by: Elvira García Ruiz <egarciar@redhat.com>\n(cherry picked from commit b1940a7ff2443cb65661d268c2c00790898e8bef)\n'}, {'number': 3, 'created': '2021-04-07 07:50:14.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/acff5f6ab4408f9b8e9e61c0c28ecfedeb814f64', 'message': '[ovn]: Remove unwanted IP addresses from OVN ports\n\nMAC learning has been added in OVN v21.03[0]. Now, if DHCP and port\nsecurity are disabled, then the addresses field of a port should not\ninclude its MAC-IP address pairs. This allows the use of OVN MAC\nlearning capabilities. Existing tests now match this requirement too.\n\n[0] http://patchwork.ozlabs.org/project/ovn/list/?series=228135i&state=%2A&archive=both\n\nChange-Id: I485762b46567a99b9ebd6eb047c7088fed8071d1\nCloses-Bug: 1904412\nSigned-off-by: Elvira García Ruiz <egarciar@redhat.com>\n(cherry picked from commit 24fddc760edcf2004f4608a42ae75f82b3b72b76)\n'}]",1,784025,acff5f6ab4408f9b8e9e61c0c28ecfedeb814f64,29,3,3,32586,,,0,"[ovn]: Remove unwanted IP addresses from OVN ports

MAC learning has been added in OVN v21.03[0]. Now, if DHCP and port
security are disabled, then the addresses field of a port should not
include its MAC-IP address pairs. This allows the use of OVN MAC
learning capabilities. Existing tests now match this requirement too.

[0] http://patchwork.ozlabs.org/project/ovn/list/?series=228135i&state=%2A&archive=both

Change-Id: I485762b46567a99b9ebd6eb047c7088fed8071d1
Closes-Bug: 1904412
Signed-off-by: Elvira García Ruiz <egarciar@redhat.com>
(cherry picked from commit 24fddc760edcf2004f4608a42ae75f82b3b72b76)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/784025/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py']",2,332e411ef777579b965ae5020560663ce2c89de4,," self.assertIn(ovn_const.UNKNOWN_ADDR, called_args_dict.get('addresses')) self.assertIn(ovn_const.UNKNOWN_ADDR, called_args_dict.get('addresses'))"," self.assertEqual(ovn_const.UNKNOWN_ADDR, called_args_dict.get('addresses')[1]) self.assertEqual(2, len(called_args_dict.get('addresses'))) self.assertEqual(ovn_const.UNKNOWN_ADDR, called_args_dict.get('addresses')[1])",20,15
openstack%2Fneutron~stable%2Fussuri~Ic8ffa9c4437aab6fb1878b3a1ebf2c3ab86e3d0c,openstack/neutron,stable/ussuri,Ic8ffa9c4437aab6fb1878b3a1ebf2c3ab86e3d0c,[ovn] Add neutron network to metadata namespace names,MERGED,2021-04-06 09:46:25.000000000,2021-04-10 13:58:29.000000000,2021-04-10 13:57:02.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 32586}]","[{'number': 1, 'created': '2021-04-06 09:46:25.000000000', 'files': ['neutron/common/ovn/utils.py', 'releasenotes/notes/ovnmeta-namespaces-include-network-name-e6e4e5f6ff69e7ed.yaml', 'neutron/agent/ovn/metadata/agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/db2175a9ed6ea4c6c2c812b67579331696cc40ea', 'message': ""[ovn] Add neutron network to metadata namespace names\n\nUntil this patch the metadata namespace had the format\n'ovnmeta-<OVN datapath uuid>' which makes it hard to\nrelate to the Neutron network for which metadata is\nprovisioned to. This applies to the name of the tap\ninterface that connects the network namespace to the\nintegration bridge.\n\nThis patch is changing the name convention and providing\nan upgrade path to include the Neutron network ID to make\ndebugging and troubleshooting easier for developers and\noperators.\n\nThe new name pattern is:\n'ovnmeta-<Neutron network uuid>'\n\nPlease, note that with this patch, the old namespaces will\nbe deleted and new ones will be recreated.\n\nConflicts:\n    neutron/agent/ovn/metadata/agent.py\n    neutron/common/ovn/utils.py\n\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\nChange-Id: Ic8ffa9c4437aab6fb1878b3a1ebf2c3ab86e3d0c\n(cherry picked from commit e4fb06b24299a7ecf10b05ef6ddc2d883c40e5a1)\n""}]",0,784906,db2175a9ed6ea4c6c2c812b67579331696cc40ea,19,5,1,6773,,,0,"[ovn] Add neutron network to metadata namespace names

Until this patch the metadata namespace had the format
'ovnmeta-<OVN datapath uuid>' which makes it hard to
relate to the Neutron network for which metadata is
provisioned to. This applies to the name of the tap
interface that connects the network namespace to the
integration bridge.

This patch is changing the name convention and providing
an upgrade path to include the Neutron network ID to make
debugging and troubleshooting easier for developers and
operators.

The new name pattern is:
'ovnmeta-<Neutron network uuid>'

Please, note that with this patch, the old namespaces will
be deleted and new ones will be recreated.

Conflicts:
    neutron/agent/ovn/metadata/agent.py
    neutron/common/ovn/utils.py

Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
Change-Id: Ic8ffa9c4437aab6fb1878b3a1ebf2c3ab86e3d0c
(cherry picked from commit e4fb06b24299a7ecf10b05ef6ddc2d883c40e5a1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/784906/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'releasenotes/notes/ovnmeta-namespaces-include-network-name-e6e4e5f6ff69e7ed.yaml', 'neutron/agent/ovn/metadata/agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py']",5,db2175a9ed6ea4c6c2c812b67579331696cc40ea,,"DatapathInfo = collections.namedtuple('DatapathInfo', ['uuid', 'external_ids']) ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) ports.append(makePort(datapath=DatapathInfo(uuid='1', external_ids={'name': 'neutron-1'}))) ports.append(makePort(datapath=DatapathInfo(uuid='3', external_ids={'name': 'neutron-3'}), type='external')) ports.append(makePort(datapath=DatapathInfo(uuid='5', external_ids={'name': 'neutron-5'}), type='unknown')) expected_calls = [mock.call(str(i), str(i)) for i in range(0, 4)] ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) ports.append(makePort(datapath=DatapathInfo(uuid='3', external_ids={'name': 'neutron-3'}), type='external')) self.agent.update_datapath('1', 'a') self.agent.update_datapath('3', 'b') expected_calls = [mock.call('1', 'a'), mock.call('3', 'b')] ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) self.agent.update_datapath('5', 'a') tdp.assert_called_once_with('5', 'a') self.agent.provision_datapath('1', '1')","DatapathInfo = collections.namedtuple('DatapathInfo', 'uuid') ports.append(makePort(datapath=DatapathInfo(uuid=str(i)))) ports.append(makePort(datapath=DatapathInfo(uuid='1'))) ports.append(makePort(datapath=DatapathInfo(uuid='3'), type='external')) ports.append(makePort(datapath=DatapathInfo(uuid='5'), type='unknown')) expected_calls = [mock.call(str(i)) for i in range(0, 4)] ports.append(makePort(datapath=DatapathInfo(uuid=str(i)))) ports.append(makePort(datapath=DatapathInfo(uuid='3'), type='external')) self.agent.update_datapath('1') self.agent.update_datapath('3') expected_calls = [mock.call('1'), mock.call('3')] ports.append(makePort(datapath=DatapathInfo(uuid=str(i)))) self.agent.update_datapath('5') tdp.assert_called_once_with('5') self.agent.provision_datapath('1')",74,42
openstack%2Fneutron~stable%2Fwallaby~I4846ecdd8312fa2ff915c4461da07a607c7a8f8c,openstack/neutron,stable/wallaby,I4846ecdd8312fa2ff915c4461da07a607c7a8f8c,"Remove FT ""test_has_offline_migrations_*"" tests",MERGED,2021-04-07 09:16:42.000000000,2021-04-10 13:43:09.000000000,2021-04-10 13:41:05.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 09:16:42.000000000', 'files': ['neutron/tests/functional/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5eac64b623bc56588824054e941499713477a15b', 'message': 'Remove FT ""test_has_offline_migrations_*"" tests\n\n""test_has_offline_migrations_pending_contract_scripts"" is testing a\nnon supported branch, ""Kilo"". The usefulness expired when this branch\nwas declared EOL.\n\n""test_has_offline_migrations_all_heads_upgraded"" is tested in\n""test_forbid_offline_migrations_starting_newton"". Since ""Newton"",\nno more DB contract migrations are allowed. Both tests are checking\nthe same behavior.\n\nDue to the time extension and the lack of value of those tests, this\npatch removes both.\n\n  test_forbid_offline_migrations_starting_newton [683.133807s]\n  test_has_offline_migrations_pending_contract_scripts [123.091853s]\n\nChange-Id: I4846ecdd8312fa2ff915c4461da07a607c7a8f8c\nRelated-Bug: #1687027\n(cherry picked from commit 8522628f2f6f59344c04568b31c444f7a290562d)\n'}]",0,784993,5eac64b623bc56588824054e941499713477a15b,64,4,1,16688,,,0,"Remove FT ""test_has_offline_migrations_*"" tests

""test_has_offline_migrations_pending_contract_scripts"" is testing a
non supported branch, ""Kilo"". The usefulness expired when this branch
was declared EOL.

""test_has_offline_migrations_all_heads_upgraded"" is tested in
""test_forbid_offline_migrations_starting_newton"". Since ""Newton"",
no more DB contract migrations are allowed. Both tests are checking
the same behavior.

Due to the time extension and the lack of value of those tests, this
patch removes both.

  test_forbid_offline_migrations_starting_newton [683.133807s]
  test_has_offline_migrations_pending_contract_scripts [123.091853s]

Change-Id: I4846ecdd8312fa2ff915c4461da07a607c7a8f8c
Related-Bug: #1687027
(cherry picked from commit 8522628f2f6f59344c04568b31c444f7a290562d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/784993/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/db/test_migrations.py'],1,5eac64b623bc56588824054e941499713477a15b,bug/1687027-stable/wallaby,," def _test_has_offline_migrations(self, revision, expected): engine = self.get_engine() cfg.CONF.set_override('connection', engine.url, group='database') migration.do_alembic_command(self.alembic_config, 'upgrade', revision) self.assertEqual(expected, migration.has_offline_migrations(self.alembic_config, 'unused')) def test_has_offline_migrations_pending_contract_scripts(self): self._test_has_offline_migrations('kilo', True) def test_has_offline_migrations_all_heads_upgraded(self): self._test_has_offline_migrations('heads', False) # TODO(ihrachys): revisit later in Pike+ where some contract scripts may be # safe again def test_has_offline_migrations_pending_contract_scripts(self): super(TestModelsMigrationsMysql, self).test_has_offline_migrations_pending_contract_scripts() @test_base.skip_if_timeout(""bug 1687027"") def test_has_offline_migrations_all_heads_upgraded(self): super(TestModelsMigrationsMysql, self).test_has_offline_migrations_all_heads_upgraded() @test_base.skip_if_timeout(""bug 1687027"")",0,26
openstack%2Fneutron~stable%2Fvictoria~Ic8ffa9c4437aab6fb1878b3a1ebf2c3ab86e3d0c,openstack/neutron,stable/victoria,Ic8ffa9c4437aab6fb1878b3a1ebf2c3ab86e3d0c,[ovn] Add neutron network to metadata namespace names,MERGED,2021-04-06 09:46:00.000000000,2021-04-10 13:42:56.000000000,2021-04-10 13:41:12.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 32586}]","[{'number': 1, 'created': '2021-04-06 09:46:00.000000000', 'files': ['neutron/common/ovn/utils.py', 'releasenotes/notes/ovnmeta-namespaces-include-network-name-e6e4e5f6ff69e7ed.yaml', 'neutron/agent/ovn/metadata/agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c4f72f64a9580658ab43f1d8213694ea1fda48af', 'message': ""[ovn] Add neutron network to metadata namespace names\n\nUntil this patch the metadata namespace had the format\n'ovnmeta-<OVN datapath uuid>' which makes it hard to\nrelate to the Neutron network for which metadata is\nprovisioned to. This applies to the name of the tap\ninterface that connects the network namespace to the\nintegration bridge.\n\nThis patch is changing the name convention and providing\nan upgrade path to include the Neutron network ID to make\ndebugging and troubleshooting easier for developers and\noperators.\n\nThe new name pattern is:\n'ovnmeta-<Neutron network uuid>'\n\nPlease, note that with this patch, the old namespaces will\nbe deleted and new ones will be recreated.\n\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\nChange-Id: Ic8ffa9c4437aab6fb1878b3a1ebf2c3ab86e3d0c\n(cherry picked from commit e4fb06b24299a7ecf10b05ef6ddc2d883c40e5a1)\n""}]",0,784905,c4f72f64a9580658ab43f1d8213694ea1fda48af,11,5,1,6773,,,0,"[ovn] Add neutron network to metadata namespace names

Until this patch the metadata namespace had the format
'ovnmeta-<OVN datapath uuid>' which makes it hard to
relate to the Neutron network for which metadata is
provisioned to. This applies to the name of the tap
interface that connects the network namespace to the
integration bridge.

This patch is changing the name convention and providing
an upgrade path to include the Neutron network ID to make
debugging and troubleshooting easier for developers and
operators.

The new name pattern is:
'ovnmeta-<Neutron network uuid>'

Please, note that with this patch, the old namespaces will
be deleted and new ones will be recreated.

Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
Change-Id: Ic8ffa9c4437aab6fb1878b3a1ebf2c3ab86e3d0c
(cherry picked from commit e4fb06b24299a7ecf10b05ef6ddc2d883c40e5a1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/784905/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'releasenotes/notes/ovnmeta-namespaces-include-network-name-e6e4e5f6ff69e7ed.yaml', 'neutron/agent/ovn/metadata/agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py']",5,c4f72f64a9580658ab43f1d8213694ea1fda48af,,"DatapathInfo = collections.namedtuple('DatapathInfo', ['uuid', 'external_ids']) ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) ports.append(makePort(datapath=DatapathInfo(uuid='1', external_ids={'name': 'neutron-1'}))) ports.append(makePort(datapath=DatapathInfo(uuid='3', external_ids={'name': 'neutron-3'}), type='external')) ports.append(makePort(datapath=DatapathInfo(uuid='5', external_ids={'name': 'neutron-5'}), type='unknown')) expected_calls = [mock.call(str(i), str(i)) for i in range(0, 4)] ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) ports.append(makePort(datapath=DatapathInfo(uuid='3', external_ids={'name': 'neutron-3'}), type='external')) self.agent.update_datapath('1', 'a') self.agent.update_datapath('3', 'b') expected_calls = [mock.call('1', 'a'), mock.call('3', 'b')] ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) self.agent.update_datapath('5', 'a') tdp.assert_called_once_with('5', 'a') self.agent.provision_datapath('1', '1')","DatapathInfo = collections.namedtuple('DatapathInfo', 'uuid') ports.append(makePort(datapath=DatapathInfo(uuid=str(i)))) ports.append(makePort(datapath=DatapathInfo(uuid='1'))) ports.append(makePort(datapath=DatapathInfo(uuid='3'), type='external')) ports.append(makePort(datapath=DatapathInfo(uuid='5'), type='unknown')) expected_calls = [mock.call(str(i)) for i in range(0, 4)] ports.append(makePort(datapath=DatapathInfo(uuid=str(i)))) ports.append(makePort(datapath=DatapathInfo(uuid='3'), type='external')) self.agent.update_datapath('1') self.agent.update_datapath('3') expected_calls = [mock.call('1'), mock.call('3')] ports.append(makePort(datapath=DatapathInfo(uuid=str(i)))) self.agent.update_datapath('5') tdp.assert_called_once_with('5') self.agent.provision_datapath('1')",74,42
openstack%2Fdevstack~master~Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90,openstack/devstack,master,Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90,Make stackviz tasks not to fail jobs,MERGED,2021-04-08 16:05:57.000000000,2021-04-10 13:42:46.000000000,2021-04-10 13:41:29.000000000,"[{'_account_id': 8556}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-08 16:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7e0f9446b142607f62c5d0a8f359f13f0abdf772', 'message': ""Make stackviz tasks not to fail jobs\n\nDue to issue on stckviz side, job start\nfailing with POST_FAILURE. If we fix the\nissue still we need to wait for periodic job\nperiodic-package-stackviz-element to publish\nthe latest tarball on https://tarballs.openstack.org/stackviz/dist/.\n\nLet's not fail the job for any issue occur during\nstackviz processing.\n\nCloses-Bug: 1863161\n\nChange-Id: Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90\n""}, {'number': 2, 'created': '2021-04-08 22:18:00.000000000', 'files': ['roles/process-stackviz/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/580fec54c3a970de80ab66b3decca69704ff1179', 'message': ""Make stackviz tasks not to fail jobs\n\nDue to issue on stckviz side, job start\nfailing with POST_FAILURE. If we fix the\nissue still we need to wait for periodic job\nperiodic-package-stackviz-element to publish\nthe latest tarball on https://tarballs.openstack.org/stackviz/dist/.\n\nLet's not fail the job for any issue occur during\nstackviz processing.\n\nCloses-Bug: 1863161\n\nChange-Id: Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90\n""}]",0,785439,580fec54c3a970de80ab66b3decca69704ff1179,27,5,2,8556,,,0,"Make stackviz tasks not to fail jobs

Due to issue on stckviz side, job start
failing with POST_FAILURE. If we fix the
issue still we need to wait for periodic job
periodic-package-stackviz-element to publish
the latest tarball on https://tarballs.openstack.org/stackviz/dist/.

Let's not fail the job for any issue occur during
stackviz processing.

Closes-Bug: 1863161

Change-Id: Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90
",git fetch https://review.opendev.org/openstack/devstack refs/changes/39/785439/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/process-stackviz/tasks/main.yaml'],1,7e0f9446b142607f62c5d0a8f359f13f0abdf772,bug/1863161,"- name: Process Stackviz block: - name: Devstack checks if stackviz archive exists stat: path: ""/opt/cache/files/stackviz-latest.tar.gz"" register: stackviz_archive - debug: msg: ""Stackviz archive could not be found in /opt/cache/files/stackviz-latest.tar.gz"" when: not stackviz_archive.stat.exists - name: Check if subunit data exists stat: path: ""{{ zuul_work_dir }}/testrepository.subunit"" register: subunit_input - debug: msg: ""Subunit file could not be found at {{ zuul_work_dir }}/testrepository.subunit"" when: not subunit_input.stat.exists - name: Install stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists block: - include_role: name: ensure-pip - pip: name: ""file://{{ stackviz_archive.stat.path }}"" virtualenv: /tmp/stackviz virtualenv_command: '{{ ensure_pip_virtualenv_command }}' extra_args: -U - name: Deploy stackviz static html+js command: cp -pR /tmp/stackviz/share/stackviz-html {{ stage_dir }}/stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Check if dstat data exists stat: path: ""{{ devstack_base_dir }}/logs/dstat-csv.log"" register: dstat_input when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Run stackviz with dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --dstat ""{{ devstack_base_dir }}/logs/dstat-csv.log"" \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - dstat_input.stat.exists - name: Run stackviz without dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - not dstat_input.stat.exists ","- name: Devstack checks if stackviz archive exists stat: path: ""/opt/cache/files/stackviz-latest.tar.gz"" register: stackviz_archive - debug: msg: ""Stackviz archive could not be found in /opt/cache/files/stackviz-latest.tar.gz"" when: not stackviz_archive.stat.exists - name: Check if subunit data exists stat: path: ""{{ zuul_work_dir }}/testrepository.subunit"" register: subunit_input - debug: msg: ""Subunit file could not be found at {{ zuul_work_dir }}/testrepository.subunit"" when: not subunit_input.stat.exists - name: Install stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists block: - include_role: name: ensure-pip - pip: name: ""file://{{ stackviz_archive.stat.path }}"" virtualenv: /tmp/stackviz virtualenv_command: '{{ ensure_pip_virtualenv_command }}' extra_args: -U - name: Deploy stackviz static html+js command: cp -pR /tmp/stackviz/share/stackviz-html {{ stage_dir }}/stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Check if dstat data exists stat: path: ""{{ devstack_base_dir }}/logs/dstat-csv.log"" register: dstat_input when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Run stackviz with dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --dstat ""{{ devstack_base_dir }}/logs/dstat-csv.log"" \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - dstat_input.stat.exists failed_when: False - name: Run stackviz without dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - not dstat_input.stat.exists",66,63
openstack%2Freleases~master~I5cbe54f32b128fce070fe4e3b73e8bcf51dafe7b,openstack/releases,master,I5cbe54f32b128fce070fe4e3b73e8bcf51dafe7b,Final RC patch for ceilometer,ABANDONED,2021-04-08 08:42:50.000000000,2021-04-10 12:21:40.000000000,,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 08:42:50.000000000', 'files': ['deliverables/wallaby/ceilometer.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1d4f406db96eeddfd68a36a87cde18a2e160459a', 'message': 'Final RC patch for ceilometer\n\nThis creates a new RC before the final release candidate deadline to\nrelease the latest fixes and/or translations.\n\nPlease ack with a +1, or if there is some reason to hold off, leave a -1.\n\n$ git log --oneline --no-merges 16.0.0.0rc1..eeffd902\neeffd902 Cap tenacity < 7.0.0\n8d190c8d Update TOX_CONSTRAINTS_FILE for stable/wallaby\ncb91f665 Update .gitreview for stable/wallaby\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I5cbe54f32b128fce070fe4e3b73e8bcf51dafe7b\n'}]",0,785342,1d4f406db96eeddfd68a36a87cde18a2e160459a,5,2,1,28522,,,0,"Final RC patch for ceilometer

This creates a new RC before the final release candidate deadline to
release the latest fixes and/or translations.

Please ack with a +1, or if there is some reason to hold off, leave a -1.

$ git log --oneline --no-merges 16.0.0.0rc1..eeffd902
eeffd902 Cap tenacity < 7.0.0
8d190c8d Update TOX_CONSTRAINTS_FILE for stable/wallaby
cb91f665 Update .gitreview for stable/wallaby

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I5cbe54f32b128fce070fe4e3b73e8bcf51dafe7b
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/785342/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/ceilometer.yaml'],1,1d4f406db96eeddfd68a36a87cde18a2e160459a,wallaby-final-rc, - version: 16.0.0.0rc2 projects: - repo: openstack/ceilometer hash: eeffd902d1e2366b7e796dfe418961aa46aaae6d,,4,0
openstack%2Freleases~master~I6033230fcc52dbcc377463de5d12cd90eefbefba,openstack/releases,master,I6033230fcc52dbcc377463de5d12cd90eefbefba,Final RC patch for heat,ABANDONED,2021-04-08 09:20:44.000000000,2021-04-10 11:23:10.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 09:20:44.000000000', 'files': ['deliverables/wallaby/heat.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c982d4c12728a7ee2c9f65ba504b35d20d0333c9', 'message': ""Final RC patch for heat\n\nThis creates a new RC before the final release candidate deadline to\nrelease the latest fixes and/or translations.\n\nPlease ack with a +1, or if there is some reason to hold off, leave a -1.\n\n$ git log --oneline --no-merges 16.0.0.0rc1..7af71497e\n7af71497e Don't update status for replaced resource\n0bffa5c2e Assume interface detach called for port not found\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I6033230fcc52dbcc377463de5d12cd90eefbefba\n""}]",0,785348,c982d4c12728a7ee2c9f65ba504b35d20d0333c9,4,2,1,28522,,,0,"Final RC patch for heat

This creates a new RC before the final release candidate deadline to
release the latest fixes and/or translations.

Please ack with a +1, or if there is some reason to hold off, leave a -1.

$ git log --oneline --no-merges 16.0.0.0rc1..7af71497e
7af71497e Don't update status for replaced resource
0bffa5c2e Assume interface detach called for port not found

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I6033230fcc52dbcc377463de5d12cd90eefbefba
",git fetch https://review.opendev.org/openstack/releases refs/changes/48/785348/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/heat.yaml'],1,c982d4c12728a7ee2c9f65ba504b35d20d0333c9,wallaby-final-rc, - version: 16.0.0.0rc2 projects: - repo: openstack/heat hash: 7af71497ed15882a0f2a543cd8dd83c60b781f95,,4,0
openstack%2Fnetworking-bgpvpn~master~I8b544391ddb5c48ee2dbec2715a3f71f7041db1c,openstack/networking-bgpvpn,master,I8b544391ddb5c48ee2dbec2715a3f71f7041db1c,Update master for stable/wallaby,MERGED,2021-04-05 06:22:59.000000000,2021-04-10 10:32:22.000000000,2021-04-10 10:31:13.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-05 06:22:59.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/4e55af874196fcb0dc9225f76d7868173e52e968', 'message': 'Update master for stable/wallaby\n\nChange-Id: I8b544391ddb5c48ee2dbec2715a3f71f7041db1c\n'}]",0,784734,4e55af874196fcb0dc9225f76d7868173e52e968,8,5,1,30384,,,0,"Update master for stable/wallaby

Change-Id: I8b544391ddb5c48ee2dbec2715a3f71f7041db1c
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/34/784734/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,4e55af874196fcb0dc9225f76d7868173e52e968,, wallaby,,7,0
openstack%2Fnetworking-bagpipe~master~I30724372473d01504ccdab3066fb30066866e6ca,openstack/networking-bagpipe,master,I30724372473d01504ccdab3066fb30066866e6ca,Update master for stable/wallaby,MERGED,2021-04-05 06:30:26.000000000,2021-04-10 10:30:36.000000000,2021-04-10 10:29:30.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-05 06:30:26.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/22e9d4621c30cac2cab538d739a7e90f7eef75b0', 'message': 'Update master for stable/wallaby\n\nChange-Id: I30724372473d01504ccdab3066fb30066866e6ca\n'}]",0,784735,22e9d4621c30cac2cab538d739a7e90f7eef75b0,8,5,1,30384,,,0,"Update master for stable/wallaby

Change-Id: I30724372473d01504ccdab3066fb30066866e6ca
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/35/784735/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,22e9d4621c30cac2cab538d739a7e90f7eef75b0,, wallaby,,7,0
openstack%2Fnetworking-odl~master~Ic819b28bc6b9e46578212e125316fbc882db2e5d,openstack/networking-odl,master,Ic819b28bc6b9e46578212e125316fbc882db2e5d,Update master for stable/wallaby,MERGED,2021-04-05 06:19:40.000000000,2021-04-10 09:34:11.000000000,2021-04-10 09:32:59.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-05 06:19:40.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/98cb8439a44b9842a1a926d31ad71d329f7e82e6', 'message': 'Update master for stable/wallaby\n\nChange-Id: Ic819b28bc6b9e46578212e125316fbc882db2e5d\n'}]",0,784733,98cb8439a44b9842a1a926d31ad71d329f7e82e6,8,4,1,30384,,,0,"Update master for stable/wallaby

Change-Id: Ic819b28bc6b9e46578212e125316fbc882db2e5d
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/33/784733/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,98cb8439a44b9842a1a926d31ad71d329f7e82e6,, wallaby,,7,0
openstack%2Fneutron~master~If78ae65903a374051fc1022229524fa393149f22,openstack/neutron,master,If78ae65903a374051fc1022229524fa393149f22,[DNM] Testing neutron-functional-with-uwsgi timeouts,ABANDONED,2021-04-05 13:44:03.000000000,2021-04-10 09:33:51.000000000,,"[{'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-05 13:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/60ee6b47e9503f9ef9d64596b34edad8eb30fa61', 'message': '[DNM] Testing neutron-functional-with-uwsgi timeouts\n\nChange-Id: If78ae65903a374051fc1022229524fa393149f22\n'}, {'number': 2, 'created': '2021-04-06 07:21:49.000000000', 'files': ['neutron/privileged/__init__.py', 'zuul.d/project.yaml', 'neutron/privileged/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e05d228183f0dfbdee40748ac9fa2ec53e1eef98', 'message': '[DNM] Testing neutron-functional-with-uwsgi timeouts\n\nChange-Id: If78ae65903a374051fc1022229524fa393149f22\n'}]",0,784772,e05d228183f0dfbdee40748ac9fa2ec53e1eef98,14,4,2,16688,,,0,"[DNM] Testing neutron-functional-with-uwsgi timeouts

Change-Id: If78ae65903a374051fc1022229524fa393149f22
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/784772/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,60ee6b47e9503f9ef9d64596b34edad8eb30fa61,functional_timeouts, - neutron-functional-with-uwsgi-01 - neutron-functional-with-uwsgi-02 - neutron-functional-with-uwsgi-03 - neutron-functional-with-uwsgi-04 - neutron-functional-with-uwsgi-05 - neutron-functional-with-uwsgi-06 - neutron-functional-with-uwsgi-07 - neutron-functional-with-uwsgi-08 - neutron-functional-with-uwsgi-09 - neutron-functional-with-uwsgi-10 - neutron-functional-with-uwsgi-11 - neutron-functional-with-uwsgi-12 - neutron-functional-with-uwsgi-13 - neutron-functional-with-uwsgi-14 - neutron-functional-with-uwsgi-15 - neutron-functional-with-uwsgi-16 - neutron-functional-with-uwsgi-17 - neutron-functional-with-uwsgi-18 - neutron-functional-with-uwsgi-19 - neutron-functional-with-uwsgi-20 - job: name: neutron-functional-with-uwsgi-01 parent: neutron-functional-with-uwsgi - job: name: neutron-functional-with-uwsgi-02 parent: neutron-functional-with-uwsgi - job: name: neutron-functional-with-uwsgi-03 parent: neutron-functional-with-uwsgi - job: name: neutron-functional-with-uwsgi-04 parent: neutron-functional-with-uwsgi - job: name: neutron-functional-with-uwsgi-05 parent: neutron-functional-with-uwsgi - job: name: neutron-functional-with-uwsgi-06 parent: neutron-functional-with-uwsgi - job: name: neutron-functional-with-uwsgi-07 parent: neutron-functional-with-uwsgi - job: name: neutron-functional-with-uwsgi-08 parent: neutron-functional-with-uwsgi - job: name: neutron-functional-with-uwsgi-09 parent: neutron-functional-with-uwsgi - job: name: neutron-functional-with-uwsgi-10 parent: neutron-functional-with-uwsgi - job: name: neutron-functional-with-uwsgi-11 parent: neutron-functional-with-uwsgi - job: name: neutron-functional-with-uwsgi-12 parent: neutron-functional-with-uwsgi - job: name: neutron-functional-with-uwsgi-13 parent: neutron-functional-with-uwsgi - job: name: neutron-functional-with-uwsgi-14 parent: neutron-functional-with-uwsgi - job: name: neutron-functional-with-uwsgi-15 parent: neutron-functional-with-uwsgi - job: name: neutron-functional-with-uwsgi-16 parent: neutron-functional-with-uwsgi - job: name: neutron-functional-with-uwsgi-17 parent: neutron-functional-with-uwsgi - job: name: neutron-functional-with-uwsgi-18 parent: neutron-functional-with-uwsgi - job: name: neutron-functional-with-uwsgi-19 parent: neutron-functional-with-uwsgi - job: name: neutron-functional-with-uwsgi-20 parent: neutron-functional-with-uwsgi," templates: - neutron-tempest-plugin-jobs - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-xena-jobs - openstack-python3-xena-jobs-arm64 - publish-openstack-docs-pti - periodic-stable-jobs - check-requirements - release-notes-jobs-python3 - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-rally-task - neutron-grenade-multinode - neutron-grenade-dvr-multinode: # TODO(slaweq): make that job voting when bug # https://bugs.launchpad.net/neutron/+bug/1920778 # will be fixed voting: false - neutron-tempest-multinode-full-py3 - neutron-tempest-dvr-ha-multinode-full - neutron-tempest-slow-py3 - neutron-tempest-ipv6-only - neutron-ovn-tempest-ovs-release - neutron-ovn-tempest-ovs-release-ipv6-only # TODO(slaweq): add this job again to the check queue when it will be # working fine on python 3 #- networking-midonet-tempest-aio-ml2-centos-7: # voting: false - neutron-ovn-rally-task: voting: false # TripleO jobs that deploy OVN. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # In Stein and beyond, fs010 will run using # networking-ovn-tripleo-ci-centos-7-containers-multinode. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - openstack-tox-py36: # from openstack-python3-xena-jobs template timeout: 3600 - openstack-tox-py38: # from openstack-python3-xena-jobs template timeout: 3600 - openstack-tox-lower-constraints: # from openstack-tox-lower-constraints template timeout: 3600 - openstack-tox-cover: # from openstack-cover-jobs template timeout: 4800 - neutron-ovn-tempest-slow gate: jobs: - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-tempest-multinode-full-py3 - neutron-grenade-multinode # TODO(slaweq): make that job gating when bug # https://bugs.launchpad.net/neutron/+bug/1920778 # will be fixed # - neutron-grenade-dvr-multinode - neutron-tempest-slow-py3 - neutron-tempest-ipv6-only - neutron-ovn-tempest-ovs-release - neutron-ovn-tempest-ovs-release-ipv6-only - openstack-tox-py36: # from openstack-python3-xena-jobs template timeout: 3600 - openstack-tox-lower-constraints: # from openstack-tox-lower-constraints template timeout: 3600 - neutron-ovn-tempest-slow #- neutron-ovn-rally-task #- neutron-ovn-tripleo-ci-centos-8-containers-multinode experimental: jobs: - neutron-grenade-ovn - neutron-tempest-with-uwsgi-loki - neutron-ovn-tempest-full-multinode-ovs-master - neutron-ovn-tempest-ovs-master - neutron-tempest-with-neutron-lib-master periodic: jobs: - neutron-functional - neutron-fullstack - neutron-tempest-postgres-full - neutron-tempest-mariadb-full - neutron-tempest-with-os-ken-master - neutron-ovn-tempest-ovs-master-fedora - devstack-tobiko-faults-centos: voting: true - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa - openstacksdk-functional-devstack-networking - tripleo-ci-centos-8-content-provider - neutron-centos-8-tripleo-standalone: voting: true vars: &consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: &consumer_deps - tripleo-ci-centos-8-content-provider - neutron-ovn-tripleo-ci-centos-8-containers-multinode: vars: *consumer_vars dependencies: *consumer_deps",80,101
openstack%2Fneutron~master~Ib9b46dec5eaa42e45075bc32e120b5216f2a08ab,openstack/neutron,master,Ib9b46dec5eaa42e45075bc32e120b5216f2a08ab,[DNM] Testing openstack-tox-py38 timeouts,ABANDONED,2021-04-02 09:57:31.000000000,2021-04-10 09:33:47.000000000,,"[{'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-02 09:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/515c9c1bb844946b050977d55eaaff2aee47a69f', 'message': '[DNM] Testing openstack-tox-py38 timeouts\n\nChange-Id: Ib9b46dec5eaa42e45075bc32e120b5216f2a08ab\n'}, {'number': 2, 'created': '2021-04-02 11:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/818aaf71db05c003b6eefdae207cb50ba5655375', 'message': '[DNM] Testing openstack-tox-py38 timeouts\n\nChange-Id: Ib9b46dec5eaa42e45075bc32e120b5216f2a08ab\n'}, {'number': 3, 'created': '2021-04-02 17:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce36ad46f4f624931810a316e482d49491849395', 'message': '[DNM] Testing openstack-tox-py38 timeouts\n\nChange-Id: Ib9b46dec5eaa42e45075bc32e120b5216f2a08ab\n'}, {'number': 4, 'created': '2021-04-05 07:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e2e63a00f89f95e619faf3fa201f4cd19bf47b17', 'message': '[DNM] Testing openstack-tox-py38 timeouts\n\nChange-Id: Ib9b46dec5eaa42e45075bc32e120b5216f2a08ab\n'}, {'number': 5, 'created': '2021-04-05 07:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/158ea3eb7bd44a423a8d83f4bd5e633a54497e7d', 'message': '[DNM] Testing openstack-tox-py38 timeouts\n\nChange-Id: Ib9b46dec5eaa42e45075bc32e120b5216f2a08ab\n'}, {'number': 6, 'created': '2021-04-05 07:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/942e28b83433a98a901ddc1c7289aa2126b3ea99', 'message': '[DNM] Testing openstack-tox-py38 timeouts\n\nChange-Id: Ib9b46dec5eaa42e45075bc32e120b5216f2a08ab\n'}, {'number': 7, 'created': '2021-04-05 08:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4bbbcbd424bcfa866c9cee070e7eaced4829def3', 'message': '[DNM] Testing openstack-tox-py38 timeouts\n\nChange-Id: Ib9b46dec5eaa42e45075bc32e120b5216f2a08ab\n'}, {'number': 8, 'created': '2021-04-05 09:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5cdf50ec4df5a4dc14130ffe2650784a5343ff60', 'message': '[DNM] Testing openstack-tox-py38 timeouts\n\nChange-Id: Ib9b46dec5eaa42e45075bc32e120b5216f2a08ab\n'}, {'number': 9, 'created': '2021-04-05 11:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8804a957d331815009661fb06bdbe44b1dceef68', 'message': '[DNM] Testing openstack-tox-py38 timeouts\n\nChange-Id: Ib9b46dec5eaa42e45075bc32e120b5216f2a08ab\n'}, {'number': 10, 'created': '2021-04-05 11:56:00.000000000', 'files': ['neutron/privileged/__init__.py', 'neutron/common/utils.py', 'zuul.d/project.yaml', 'neutron/privileged/agent/linux/ip_lib.py', 'neutron/tests/unit/common/test_utils.py', 'tox.ini', 'upper-requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e2f22b9730c33ef4cd7f371809b735d5ba280396', 'message': '[DNM] Testing openstack-tox-py38 timeouts\n\nChange-Id: Ib9b46dec5eaa42e45075bc32e120b5216f2a08ab\n'}]",0,784552,e2f22b9730c33ef4cd7f371809b735d5ba280396,38,4,10,16688,,,0,"[DNM] Testing openstack-tox-py38 timeouts

Change-Id: Ib9b46dec5eaa42e45075bc32e120b5216f2a08ab
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/784552/9 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,515c9c1bb844946b050977d55eaaff2aee47a69f,test_py38_timeout, - openstack-tox-py38-01 - openstack-tox-py38-02 - openstack-tox-py38-03 - openstack-tox-py38-04 - openstack-tox-py38-05 - openstack-tox-py38-06 - openstack-tox-py38-07 - openstack-tox-py38-08 - openstack-tox-py38-09 - openstack-tox-py38-10 - openstack-tox-py38-11 - openstack-tox-py38-12 - openstack-tox-py38-13 - openstack-tox-py38-14 - openstack-tox-py38-15 - openstack-tox-py38-16 - openstack-tox-py38-17 - openstack-tox-py38-18 - openstack-tox-py38-19 - openstack-tox-py38-20 - job: name: openstack-tox-py38-01 parent: openstack-tox-py38 - job: name: openstack-tox-py38-02 parent: openstack-tox-py38 - job: name: openstack-tox-py38-03 parent: openstack-tox-py38 - job: name: openstack-tox-py38-04 parent: openstack-tox-py38 - job: name: openstack-tox-py38-05 parent: openstack-tox-py38 - job: name: openstack-tox-py38-06 parent: openstack-tox-py38 - job: name: openstack-tox-py38-07 parent: openstack-tox-py38 - job: name: openstack-tox-py38-08 parent: openstack-tox-py38 - job: name: openstack-tox-py38-09 parent: openstack-tox-py38 - job: name: openstack-tox-py38-10 parent: openstack-tox-py38 - job: name: openstack-tox-py38-11 parent: openstack-tox-py38 - job: name: openstack-tox-py38-12 parent: openstack-tox-py38 - job: name: openstack-tox-py38-13 parent: openstack-tox-py38 - job: name: openstack-tox-py38-14 parent: openstack-tox-py38 - job: name: openstack-tox-py38-15 parent: openstack-tox-py38 - job: name: openstack-tox-py38-16 parent: openstack-tox-py38 - job: name: openstack-tox-py38-17 parent: openstack-tox-py38 - job: name: openstack-tox-py38-18 parent: openstack-tox-py38 - job: name: openstack-tox-py38-19 parent: openstack-tox-py38 - job: name: openstack-tox-py38-20 parent: openstack-tox-py38," templates: - neutron-tempest-plugin-jobs - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-xena-jobs - openstack-python3-xena-jobs-arm64 - publish-openstack-docs-pti - periodic-stable-jobs - check-requirements - release-notes-jobs-python3 - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-rally-task - neutron-grenade-multinode - neutron-grenade-dvr-multinode: # TODO(slaweq): make that job voting when bug # https://bugs.launchpad.net/neutron/+bug/1920778 # will be fixed voting: false - neutron-tempest-multinode-full-py3 - neutron-tempest-dvr-ha-multinode-full - neutron-tempest-slow-py3 - neutron-tempest-ipv6-only - neutron-ovn-tempest-ovs-release - neutron-ovn-tempest-ovs-release-ipv6-only # TODO(slaweq): add this job again to the check queue when it will be # working fine on python 3 #- networking-midonet-tempest-aio-ml2-centos-7: # voting: false - neutron-ovn-rally-task: voting: false # TripleO jobs that deploy OVN. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # In Stein and beyond, fs010 will run using # networking-ovn-tripleo-ci-centos-7-containers-multinode. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - openstack-tox-py36: # from openstack-python3-xena-jobs template timeout: 3600 - openstack-tox-py38: # from openstack-python3-xena-jobs template timeout: 3600 - openstack-tox-lower-constraints: # from openstack-tox-lower-constraints template timeout: 3600 - openstack-tox-cover: # from openstack-cover-jobs template timeout: 4800 - neutron-ovn-tempest-slow gate: jobs: - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-tempest-multinode-full-py3 - neutron-grenade-multinode # TODO(slaweq): make that job gating when bug # https://bugs.launchpad.net/neutron/+bug/1920778 # will be fixed # - neutron-grenade-dvr-multinode - neutron-tempest-slow-py3 - neutron-tempest-ipv6-only - neutron-ovn-tempest-ovs-release - neutron-ovn-tempest-ovs-release-ipv6-only - openstack-tox-py36: # from openstack-python3-xena-jobs template timeout: 3600 - openstack-tox-lower-constraints: # from openstack-tox-lower-constraints template timeout: 3600 - neutron-ovn-tempest-slow #- neutron-ovn-rally-task #- neutron-ovn-tripleo-ci-centos-8-containers-multinode experimental: jobs: - neutron-grenade-ovn - neutron-tempest-with-uwsgi-loki - neutron-ovn-tempest-full-multinode-ovs-master - neutron-ovn-tempest-ovs-master - neutron-tempest-with-neutron-lib-master periodic: jobs: - neutron-functional - neutron-fullstack - neutron-tempest-postgres-full - neutron-tempest-mariadb-full - neutron-tempest-with-os-ken-master - neutron-ovn-tempest-ovs-master-fedora - devstack-tobiko-faults-centos: voting: true - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa - openstacksdk-functional-devstack-networking - tripleo-ci-centos-8-content-provider - neutron-centos-8-tripleo-standalone: voting: true vars: &consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: &consumer_deps - tripleo-ci-centos-8-content-provider - neutron-ovn-tripleo-ci-centos-8-containers-multinode: vars: *consumer_vars dependencies: *consumer_deps",80,101
openstack%2Fopenstack-manuals~master~I8a8a06398043ecaafb0ddb3b39fe4a1efbb00104,openstack/openstack-manuals,master,I8a8a06398043ecaafb0ddb3b39fe4a1efbb00104,[www] Initial wallaby setup,MERGED,2021-04-06 10:00:43.000000000,2021-04-10 09:06:54.000000000,2021-04-10 08:39:19.000000000,"[{'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-06 10:00:43.000000000', 'files': ['www/project-data/wallaby.yaml', 'tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/0e207914b594eaeb628dde32dc2c98575e05f1a5', 'message': '[www] Initial wallaby setup\n\nSetup wallaby index pages in time for release.\n\nNote that many projects did not publish wallaby pages and thus have been\ndisabled.\n\nChange-Id: I8a8a06398043ecaafb0ddb3b39fe4a1efbb00104\n'}]",0,784909,0e207914b594eaeb628dde32dc2c98575e05f1a5,8,4,1,6547,,,0,"[www] Initial wallaby setup

Setup wallaby index pages in time for release.

Note that many projects did not publish wallaby pages and thus have been
disabled.

Change-Id: I8a8a06398043ecaafb0ddb3b39fe4a1efbb00104
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/09/784909/1 && git format-patch -1 --stdout FETCH_HEAD,"['www/project-data/wallaby.yaml', 'tools/www-generator.py']",2,0e207914b594eaeb628dde32dc2c98575e05f1a5,," 'xena': SeriesInfo(date='October 2021', status='development'),",,865,0
openstack%2Fopenstack-ansible-os_octavia~stable%2Ftrain~Ibd5f3d2ca25f9bb880b0c535c59ef430bd1043be,openstack/openstack-ansible-os_octavia,stable/train,Ibd5f3d2ca25f9bb880b0c535c59ef430bd1043be,Do not set amp_ssh_access_allowed configuration option any more.,ABANDONED,2020-12-17 11:20:44.000000000,2021-04-10 07:09:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-17 11:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/4428043a03ed4de7fcc5addee0cdf1ffdc102614', 'message': 'Do not set amp_ssh_access_allowed configuration option any more.\n\nOctavia complains about this option to be deprecated. See\nhttps://docs.openstack.org/octavia/ussuri/configuration/configref.html#controller_worker.amp_ssh_access_allowed\nThe octavia_ssh_enabled OSA variable is instead used to either write the\namp_ssh_key_name configuration option or not.\n\nChange-Id: Ibd5f3d2ca25f9bb880b0c535c59ef430bd1043be\n'}, {'number': 2, 'created': '2020-12-17 11:28:58.000000000', 'files': ['templates/octavia.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/1a941d83fbb7993903739a347a7506a4fb31b265', 'message': 'Do not set amp_ssh_access_allowed configuration option any more.\n\nOctavia complains about this option to be deprecated. See\nhttps://docs.openstack.org/octavia/ussuri/configuration/configref.html#controller_worker.amp_ssh_access_allowed\nThe octavia_ssh_enabled OSA variable is instead used to either write the\namp_ssh_key_name configuration option or not.\n\nChange-Id: Ibd5f3d2ca25f9bb880b0c535c59ef430bd1043be\n'}]",0,767495,1a941d83fbb7993903739a347a7506a4fb31b265,12,1,2,31792,,,0,"Do not set amp_ssh_access_allowed configuration option any more.

Octavia complains about this option to be deprecated. See
https://docs.openstack.org/octavia/ussuri/configuration/configref.html#controller_worker.amp_ssh_access_allowed
The octavia_ssh_enabled OSA variable is instead used to either write the
amp_ssh_key_name configuration option or not.

Change-Id: Ibd5f3d2ca25f9bb880b0c535c59ef430bd1043be
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/95/767495/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/octavia.conf.j2'],1,4428043a03ed4de7fcc5addee0cdf1ffdc102614,change-767495-1,{% if octavia_ssh_enabled %}<<<<<<< HEAD (7cbec4 Updated from OpenStack Ansible Tests)======= {% endif %} >>>>>>> CHANGE (a8db92 Do not set amp_ssh_access_allowed configuration option any m),,5,0
openstack%2Fdevstack~stable%2Fvictoria~Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90,openstack/devstack,stable/victoria,Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90,Make stackviz tasks not to fail jobs,MERGED,2021-04-09 01:17:40.000000000,2021-04-10 07:04:20.000000000,2021-04-10 07:01:46.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-09 01:17:40.000000000', 'files': ['roles/process-stackviz/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3b2feba2ef6a08f639b36bfe995705ec3a785ff8', 'message': ""Make stackviz tasks not to fail jobs\n\nDue to issue on stckviz side, job start\nfailing with POST_FAILURE. If we fix the\nissue still we need to wait for periodic job\nperiodic-package-stackviz-element to publish\nthe latest tarball on https://tarballs.openstack.org/stackviz/dist/.\n\nLet's not fail the job for any issue occur during\nstackviz processing.\n\nCloses-Bug: 1863161\n\nChange-Id: Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90\n(cherry picked from commit 580fec54c3a970de80ab66b3decca69704ff1179)\n(cherry picked from commit 800eb4dd446f93734d420005f93d0dcb88564dd4)\n""}]",0,785545,3b2feba2ef6a08f639b36bfe995705ec3a785ff8,12,3,1,8556,,,0,"Make stackviz tasks not to fail jobs

Due to issue on stckviz side, job start
failing with POST_FAILURE. If we fix the
issue still we need to wait for periodic job
periodic-package-stackviz-element to publish
the latest tarball on https://tarballs.openstack.org/stackviz/dist/.

Let's not fail the job for any issue occur during
stackviz processing.

Closes-Bug: 1863161

Change-Id: Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90
(cherry picked from commit 580fec54c3a970de80ab66b3decca69704ff1179)
(cherry picked from commit 800eb4dd446f93734d420005f93d0dcb88564dd4)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/45/785545/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/process-stackviz/tasks/main.yaml'],1,3b2feba2ef6a08f639b36bfe995705ec3a785ff8,bug/1863161,"- name: Process Stackviz block: - name: Devstack checks if stackviz archive exists stat: path: ""/opt/cache/files/stackviz-latest.tar.gz"" register: stackviz_archive - debug: msg: ""Stackviz archive could not be found in /opt/cache/files/stackviz-latest.tar.gz"" when: not stackviz_archive.stat.exists - name: Check if subunit data exists stat: path: ""{{ zuul_work_dir }}/testrepository.subunit"" register: subunit_input - debug: msg: ""Subunit file could not be found at {{ zuul_work_dir }}/testrepository.subunit"" when: not subunit_input.stat.exists - name: Install stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists block: - include_role: name: ensure-pip - pip: name: ""file://{{ stackviz_archive.stat.path }}"" virtualenv: /tmp/stackviz virtualenv_command: '{{ ensure_pip_virtualenv_command }}' extra_args: -U - name: Deploy stackviz static html+js command: cp -pR /tmp/stackviz/share/stackviz-html {{ stage_dir }}/stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Check if dstat data exists stat: path: ""{{ devstack_base_dir }}/logs/dstat-csv.log"" register: dstat_input when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Run stackviz with dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --dstat ""{{ devstack_base_dir }}/logs/dstat-csv.log"" \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - dstat_input.stat.exists - name: Run stackviz without dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - not dstat_input.stat.exists ignore_errors: yes","- name: Devstack checks if stackviz archive exists stat: path: ""/opt/cache/files/stackviz-latest.tar.gz"" register: stackviz_archive - debug: msg: ""Stackviz archive could not be found in /opt/cache/files/stackviz-latest.tar.gz"" when: not stackviz_archive.stat.exists - name: Check if subunit data exists stat: path: ""{{ zuul_work_dir }}/testrepository.subunit"" register: subunit_input - debug: msg: ""Subunit file could not be found at {{ zuul_work_dir }}/testrepository.subunit"" when: not subunit_input.stat.exists - name: Install stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists block: - include_role: name: ensure-pip - pip: name: ""file://{{ stackviz_archive.stat.path }}"" virtualenv: /tmp/stackviz virtualenv_command: '{{ ensure_pip_virtualenv_command }}' extra_args: -U - name: Deploy stackviz static html+js command: cp -pR /tmp/stackviz/share/stackviz-html {{ stage_dir }}/stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Check if dstat data exists stat: path: ""{{ devstack_base_dir }}/logs/dstat-csv.log"" register: dstat_input when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Run stackviz with dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --dstat ""{{ devstack_base_dir }}/logs/dstat-csv.log"" \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - dstat_input.stat.exists failed_when: False - name: Run stackviz without dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - not dstat_input.stat.exists failed_when: False",67,64
openstack%2Fdevstack~stable%2Fqueens~Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90,openstack/devstack,stable/queens,Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90,Make stackviz tasks not to fail jobs,MERGED,2021-04-09 01:30:15.000000000,2021-04-10 07:02:59.000000000,2021-04-10 07:02:59.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-09 01:30:15.000000000', 'files': ['roles/process-stackviz/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/775e8f22daa6d6b37fee617468d548f7e67f5db1', 'message': ""Make stackviz tasks not to fail jobs\n\nDue to issue on stckviz side, job start\nfailing with POST_FAILURE. If we fix the\nissue still we need to wait for periodic job\nperiodic-package-stackviz-element to publish\nthe latest tarball on https://tarballs.openstack.org/stackviz/dist/.\n\nLet's not fail the job for any issue occur during\nstackviz processing.\n\nCloses-Bug: 1863161\n\nChange-Id: Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90\n(cherry picked from commit 580fec54c3a970de80ab66b3decca69704ff1179)\n(cherry picked from commit 800eb4dd446f93734d420005f93d0dcb88564dd4)\n(cherry picked from commit 3b2feba2ef6a08f639b36bfe995705ec3a785ff8)\n(cherry picked from commit 4f9c1e084c8d762c873549e8fc9524d6ee24f1c1)\n(cherry picked from commit 2873b5530d263b98642605b12bb62f0b18fa933d)\n(cherry picked from commit a4649799169550f02518b96c9b1cbd870f8cf248)\n(cherry picked from commit bfd3d9cd0d006da73e3cc2f28921b3819ff9ba5f)\n""}]",0,785549,775e8f22daa6d6b37fee617468d548f7e67f5db1,12,3,1,8556,,,0,"Make stackviz tasks not to fail jobs

Due to issue on stckviz side, job start
failing with POST_FAILURE. If we fix the
issue still we need to wait for periodic job
periodic-package-stackviz-element to publish
the latest tarball on https://tarballs.openstack.org/stackviz/dist/.

Let's not fail the job for any issue occur during
stackviz processing.

Closes-Bug: 1863161

Change-Id: Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90
(cherry picked from commit 580fec54c3a970de80ab66b3decca69704ff1179)
(cherry picked from commit 800eb4dd446f93734d420005f93d0dcb88564dd4)
(cherry picked from commit 3b2feba2ef6a08f639b36bfe995705ec3a785ff8)
(cherry picked from commit 4f9c1e084c8d762c873549e8fc9524d6ee24f1c1)
(cherry picked from commit 2873b5530d263b98642605b12bb62f0b18fa933d)
(cherry picked from commit a4649799169550f02518b96c9b1cbd870f8cf248)
(cherry picked from commit bfd3d9cd0d006da73e3cc2f28921b3819ff9ba5f)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/49/785549/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/process-stackviz/tasks/main.yaml'],1,775e8f22daa6d6b37fee617468d548f7e67f5db1,bug/1863161,"- name: Process Stackviz block: - name: Devstack checks if stackviz archive exists stat: path: ""/opt/cache/files/stackviz-latest.tar.gz"" register: stackviz_archive - debug: msg: ""Stackviz archive could not be found in /opt/cache/files/stackviz-latest.tar.gz"" when: not stackviz_archive.stat.exists - name: Check if subunit data exists stat: path: ""{{ zuul_work_dir }}/testrepository.subunit"" register: subunit_input - debug: msg: ""Subunit file could not be found at {{ zuul_work_dir }}/testrepository.subunit"" when: not subunit_input.stat.exists - name: Install stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists block: - include_role: name: ensure-pip - pip: name: ""file://{{ stackviz_archive.stat.path }}"" virtualenv: /tmp/stackviz virtualenv_command: '{{ ensure_pip_virtualenv_command }}' extra_args: -U - name: Deploy stackviz static html+js command: cp -pR /tmp/stackviz/share/stackviz-html {{ stage_dir }}/stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Check if dstat data exists stat: path: ""{{ devstack_base_dir }}/logs/dstat-csv.log"" register: dstat_input when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Run stackviz with dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --dstat ""{{ devstack_base_dir }}/logs/dstat-csv.log"" \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - dstat_input.stat.exists - name: Run stackviz without dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - not dstat_input.stat.exists ignore_errors: yes","- name: Devstack checks if stackviz archive exists stat: path: ""/opt/cache/files/stackviz-latest.tar.gz"" register: stackviz_archive - debug: msg: ""Stackviz archive could not be found in /opt/cache/files/stackviz-latest.tar.gz"" when: not stackviz_archive.stat.exists - name: Check if subunit data exists stat: path: ""{{ zuul_work_dir }}/testrepository.subunit"" register: subunit_input - debug: msg: ""Subunit file could not be found at {{ zuul_work_dir }}/testrepository.subunit"" when: not subunit_input.stat.exists - name: Install stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists block: - include_role: name: ensure-pip - pip: name: ""file://{{ stackviz_archive.stat.path }}"" virtualenv: /tmp/stackviz virtualenv_command: '{{ ensure_pip_virtualenv_command }}' extra_args: -U - name: Deploy stackviz static html+js command: cp -pR /tmp/stackviz/share/stackviz-html {{ stage_dir }}/stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Check if dstat data exists stat: path: ""{{ devstack_base_dir }}/logs/dstat-csv.log"" register: dstat_input when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Run stackviz with dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --dstat ""{{ devstack_base_dir }}/logs/dstat-csv.log"" \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - dstat_input.stat.exists failed_when: False - name: Run stackviz without dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - not dstat_input.stat.exists failed_when: False",67,64
openstack%2Fnova~stable%2Fpike~I617fd59de327de05a198f12b75a381f21945afb0,openstack/nova,stable/pike,I617fd59de327de05a198f12b75a381f21945afb0,Lowercase ironic driver hash ring and ignore case in cache,MERGED,2020-04-24 23:27:17.000000000,2021-04-10 07:02:34.000000000,2021-04-10 07:02:34.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-04-24 23:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57fcfdac75371d958f2c966154a23ef65cd5b7c1', 'message': ""Lowercase ironic driver hash ring and ignore case in cache\n\nRecently we had a customer case where attempts to add new ironic nodes\nto an existing undercloud resulted in half of the nodes failing to be\ndetected and added to nova. Ironic API returned all of the newly added\nnodes when called by the driver, but half of the nodes were not\nreturned to the compute manager by the driver.\n\nThere was only one nova-compute service managing all of the ironic\nnodes of the all-in-one typical undercloud deployment.\n\nAfter days of investigation and examination of a database dump from the\ncustomer, we noticed that at some point the customer had changed the\nhostname of the machine from something containing uppercase letters to\nthe same name but all lowercase. The nova-compute service record had\nthe mixed case name and the CONF.host (socket.gethostname()) had the\nlowercase name.\n\nThe hash ring logic adds all of the nova-compute service hostnames plus\nCONF.host to hash ring, then the ironic driver reports only the nodes\nit owns by retrieving a service hostname from the ring based on a hash\nof each ironic node UUID.\n\nBecause of the machine hostname change, the hash ring contained, for\nexample: {'MachineHostName', 'machinehostname'} when it should have\ncontained only one hostname. And because the hash ring contained two\nhostnames, the driver was able to retrieve only half of the nodes as\nnodes that it owned. So half of the new nodes were excluded and not\nadded as new compute nodes.\n\nThis adds lowercasing of hosts that are added to the hash ring and\nignores case when comparing the CONF.host to the hash ring members\nto avoid unnecessary pain and confusion for users that make hostname\nchanges that are otherwise functionally harmless.\n\nThis also adds logging of the set of hash ring members at level DEBUG\nto help enable easier debugging of hash ring related situations.\n\nCloses-Bug: #1866380\n\nChange-Id: I617fd59de327de05a198f12b75a381f21945afb0\n(cherry picked from commit 7145100ee4e732caa532d614e2149ef2a545287a)\n(cherry picked from commit 588b0484bf6f5fe41514f1428aeaf5613635e35a)\n(cherry picked from commit 8f8667a8dd0e453eaef8f75a3fff25db62d4cc17)\n(cherry picked from commit 019e3da75bc6fb171b32a012ce339075fe690ca7)\n(cherry picked from commit ec438689ca212053137f62d474d47bfc42070da7)\n""}, {'number': 2, 'created': '2020-09-25 16:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/542c203b698c107490e4aa5c7a054f5ae8e599f5', 'message': ""Lowercase ironic driver hash ring and ignore case in cache\n\nRecently we had a customer case where attempts to add new ironic nodes\nto an existing undercloud resulted in half of the nodes failing to be\ndetected and added to nova. Ironic API returned all of the newly added\nnodes when called by the driver, but half of the nodes were not\nreturned to the compute manager by the driver.\n\nThere was only one nova-compute service managing all of the ironic\nnodes of the all-in-one typical undercloud deployment.\n\nAfter days of investigation and examination of a database dump from the\ncustomer, we noticed that at some point the customer had changed the\nhostname of the machine from something containing uppercase letters to\nthe same name but all lowercase. The nova-compute service record had\nthe mixed case name and the CONF.host (socket.gethostname()) had the\nlowercase name.\n\nThe hash ring logic adds all of the nova-compute service hostnames plus\nCONF.host to hash ring, then the ironic driver reports only the nodes\nit owns by retrieving a service hostname from the ring based on a hash\nof each ironic node UUID.\n\nBecause of the machine hostname change, the hash ring contained, for\nexample: {'MachineHostName', 'machinehostname'} when it should have\ncontained only one hostname. And because the hash ring contained two\nhostnames, the driver was able to retrieve only half of the nodes as\nnodes that it owned. So half of the new nodes were excluded and not\nadded as new compute nodes.\n\nThis adds lowercasing of hosts that are added to the hash ring and\nignores case when comparing the CONF.host to the hash ring members\nto avoid unnecessary pain and confusion for users that make hostname\nchanges that are otherwise functionally harmless.\n\nThis also adds logging of the set of hash ring members at level DEBUG\nto help enable easier debugging of hash ring related situations.\n\nCloses-Bug: #1866380\n\nChange-Id: I617fd59de327de05a198f12b75a381f21945afb0\n(cherry picked from commit 7145100ee4e732caa532d614e2149ef2a545287a)\n(cherry picked from commit 588b0484bf6f5fe41514f1428aeaf5613635e35a)\n(cherry picked from commit 8f8667a8dd0e453eaef8f75a3fff25db62d4cc17)\n(cherry picked from commit 019e3da75bc6fb171b32a012ce339075fe690ca7)\n(cherry picked from commit ec438689ca212053137f62d474d47bfc42070da7)\n""}, {'number': 3, 'created': '2020-09-25 16:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54698e5bea5ee992348977bad95c5d280dfd0fbb', 'message': ""Lowercase ironic driver hash ring and ignore case in cache\n\nRecently we had a customer case where attempts to add new ironic nodes\nto an existing undercloud resulted in half of the nodes failing to be\ndetected and added to nova. Ironic API returned all of the newly added\nnodes when called by the driver, but half of the nodes were not\nreturned to the compute manager by the driver.\n\nThere was only one nova-compute service managing all of the ironic\nnodes of the all-in-one typical undercloud deployment.\n\nAfter days of investigation and examination of a database dump from the\ncustomer, we noticed that at some point the customer had changed the\nhostname of the machine from something containing uppercase letters to\nthe same name but all lowercase. The nova-compute service record had\nthe mixed case name and the CONF.host (socket.gethostname()) had the\nlowercase name.\n\nThe hash ring logic adds all of the nova-compute service hostnames plus\nCONF.host to hash ring, then the ironic driver reports only the nodes\nit owns by retrieving a service hostname from the ring based on a hash\nof each ironic node UUID.\n\nBecause of the machine hostname change, the hash ring contained, for\nexample: {'MachineHostName', 'machinehostname'} when it should have\ncontained only one hostname. And because the hash ring contained two\nhostnames, the driver was able to retrieve only half of the nodes as\nnodes that it owned. So half of the new nodes were excluded and not\nadded as new compute nodes.\n\nThis adds lowercasing of hosts that are added to the hash ring and\nignores case when comparing the CONF.host to the hash ring members\nto avoid unnecessary pain and confusion for users that make hostname\nchanges that are otherwise functionally harmless.\n\nThis also adds logging of the set of hash ring members at level DEBUG\nto help enable easier debugging of hash ring related situations.\n\nCloses-Bug: #1866380\n\nChange-Id: I617fd59de327de05a198f12b75a381f21945afb0\n(cherry picked from commit 7145100ee4e732caa532d614e2149ef2a545287a)\n(cherry picked from commit 588b0484bf6f5fe41514f1428aeaf5613635e35a)\n(cherry picked from commit 8f8667a8dd0e453eaef8f75a3fff25db62d4cc17)\n(cherry picked from commit 019e3da75bc6fb171b32a012ce339075fe690ca7)\n(cherry picked from commit ec438689ca212053137f62d474d47bfc42070da7)\n""}, {'number': 4, 'created': '2020-10-01 21:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a81e2899194b654e187241a74d7e228c2387fecf', 'message': ""Lowercase ironic driver hash ring and ignore case in cache\n\nRecently we had a customer case where attempts to add new ironic nodes\nto an existing undercloud resulted in half of the nodes failing to be\ndetected and added to nova. Ironic API returned all of the newly added\nnodes when called by the driver, but half of the nodes were not\nreturned to the compute manager by the driver.\n\nThere was only one nova-compute service managing all of the ironic\nnodes of the all-in-one typical undercloud deployment.\n\nAfter days of investigation and examination of a database dump from the\ncustomer, we noticed that at some point the customer had changed the\nhostname of the machine from something containing uppercase letters to\nthe same name but all lowercase. The nova-compute service record had\nthe mixed case name and the CONF.host (socket.gethostname()) had the\nlowercase name.\n\nThe hash ring logic adds all of the nova-compute service hostnames plus\nCONF.host to hash ring, then the ironic driver reports only the nodes\nit owns by retrieving a service hostname from the ring based on a hash\nof each ironic node UUID.\n\nBecause of the machine hostname change, the hash ring contained, for\nexample: {'MachineHostName', 'machinehostname'} when it should have\ncontained only one hostname. And because the hash ring contained two\nhostnames, the driver was able to retrieve only half of the nodes as\nnodes that it owned. So half of the new nodes were excluded and not\nadded as new compute nodes.\n\nThis adds lowercasing of hosts that are added to the hash ring and\nignores case when comparing the CONF.host to the hash ring members\nto avoid unnecessary pain and confusion for users that make hostname\nchanges that are otherwise functionally harmless.\n\nThis also adds logging of the set of hash ring members at level DEBUG\nto help enable easier debugging of hash ring related situations.\n\nCloses-Bug: #1866380\n\nChange-Id: I617fd59de327de05a198f12b75a381f21945afb0\n(cherry picked from commit 7145100ee4e732caa532d614e2149ef2a545287a)\n(cherry picked from commit 588b0484bf6f5fe41514f1428aeaf5613635e35a)\n(cherry picked from commit 8f8667a8dd0e453eaef8f75a3fff25db62d4cc17)\n(cherry picked from commit 019e3da75bc6fb171b32a012ce339075fe690ca7)\n(cherry picked from commit ec438689ca212053137f62d474d47bfc42070da7)\n""}, {'number': 5, 'created': '2020-11-04 09:14:43.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8fd01fad3e3f0a56f1971df1291529df3ef19a3f', 'message': ""Lowercase ironic driver hash ring and ignore case in cache\n\nRecently we had a customer case where attempts to add new ironic nodes\nto an existing undercloud resulted in half of the nodes failing to be\ndetected and added to nova. Ironic API returned all of the newly added\nnodes when called by the driver, but half of the nodes were not\nreturned to the compute manager by the driver.\n\nThere was only one nova-compute service managing all of the ironic\nnodes of the all-in-one typical undercloud deployment.\n\nAfter days of investigation and examination of a database dump from the\ncustomer, we noticed that at some point the customer had changed the\nhostname of the machine from something containing uppercase letters to\nthe same name but all lowercase. The nova-compute service record had\nthe mixed case name and the CONF.host (socket.gethostname()) had the\nlowercase name.\n\nThe hash ring logic adds all of the nova-compute service hostnames plus\nCONF.host to hash ring, then the ironic driver reports only the nodes\nit owns by retrieving a service hostname from the ring based on a hash\nof each ironic node UUID.\n\nBecause of the machine hostname change, the hash ring contained, for\nexample: {'MachineHostName', 'machinehostname'} when it should have\ncontained only one hostname. And because the hash ring contained two\nhostnames, the driver was able to retrieve only half of the nodes as\nnodes that it owned. So half of the new nodes were excluded and not\nadded as new compute nodes.\n\nThis adds lowercasing of hosts that are added to the hash ring and\nignores case when comparing the CONF.host to the hash ring members\nto avoid unnecessary pain and confusion for users that make hostname\nchanges that are otherwise functionally harmless.\n\nThis also adds logging of the set of hash ring members at level DEBUG\nto help enable easier debugging of hash ring related situations.\n\nCloses-Bug: #1866380\n\nChange-Id: I617fd59de327de05a198f12b75a381f21945afb0\n(cherry picked from commit 7145100ee4e732caa532d614e2149ef2a545287a)\n(cherry picked from commit 588b0484bf6f5fe41514f1428aeaf5613635e35a)\n(cherry picked from commit 8f8667a8dd0e453eaef8f75a3fff25db62d4cc17)\n(cherry picked from commit 019e3da75bc6fb171b32a012ce339075fe690ca7)\n(cherry picked from commit 620e5da840e50aa8a61030b10081821dc7653b94)\n""}]",3,723055,8fd01fad3e3f0a56f1971df1291529df3ef19a3f,37,8,5,4690,,,0,"Lowercase ironic driver hash ring and ignore case in cache

Recently we had a customer case where attempts to add new ironic nodes
to an existing undercloud resulted in half of the nodes failing to be
detected and added to nova. Ironic API returned all of the newly added
nodes when called by the driver, but half of the nodes were not
returned to the compute manager by the driver.

There was only one nova-compute service managing all of the ironic
nodes of the all-in-one typical undercloud deployment.

After days of investigation and examination of a database dump from the
customer, we noticed that at some point the customer had changed the
hostname of the machine from something containing uppercase letters to
the same name but all lowercase. The nova-compute service record had
the mixed case name and the CONF.host (socket.gethostname()) had the
lowercase name.

The hash ring logic adds all of the nova-compute service hostnames plus
CONF.host to hash ring, then the ironic driver reports only the nodes
it owns by retrieving a service hostname from the ring based on a hash
of each ironic node UUID.

Because of the machine hostname change, the hash ring contained, for
example: {'MachineHostName', 'machinehostname'} when it should have
contained only one hostname. And because the hash ring contained two
hostnames, the driver was able to retrieve only half of the nodes as
nodes that it owned. So half of the new nodes were excluded and not
added as new compute nodes.

This adds lowercasing of hosts that are added to the hash ring and
ignores case when comparing the CONF.host to the hash ring members
to avoid unnecessary pain and confusion for users that make hostname
changes that are otherwise functionally harmless.

This also adds logging of the set of hash ring members at level DEBUG
to help enable easier debugging of hash ring related situations.

Closes-Bug: #1866380

Change-Id: I617fd59de327de05a198f12b75a381f21945afb0
(cherry picked from commit 7145100ee4e732caa532d614e2149ef2a545287a)
(cherry picked from commit 588b0484bf6f5fe41514f1428aeaf5613635e35a)
(cherry picked from commit 8f8667a8dd0e453eaef8f75a3fff25db62d4cc17)
(cherry picked from commit 019e3da75bc6fb171b32a012ce339075fe690ca7)
(cherry picked from commit 620e5da840e50aa8a61030b10081821dc7653b94)
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/723055/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py']",2,57fcfdac75371d958f2c966154a23ef65cd5b7c1,bug/1866380," def test__refresh_hash_ring_same_host_different_case(self): # Test that we treat Host1 and host1 as the same host # CONF.host is set to 'host1' in __test_refresh_hash_ring services = ['Host1'] expected_hosts = {'host1'} self.mock_is_up.return_value = True self._test__refresh_hash_ring(services, expected_hosts) @mock.patch('nova.virt.ironic.driver.LOG.debug') def test__refresh_hash_ring_many_computes(self, mock_log_debug): expected_msg = 'Hash ring members are %s' mock_log_debug.assert_called_once_with(expected_msg, set(services)) def test__refresh_cache_same_host_different_case(self): # Test that we treat Host1 and host1 as the same host self.host = 'Host1' self.flags(host=self.host) instances = [] nodes = [ _get_cached_node( uuid=uuidutils.generate_uuid(), instance_uuid=None), _get_cached_node( uuid=uuidutils.generate_uuid(), instance_uuid=None), _get_cached_node( uuid=uuidutils.generate_uuid(), instance_uuid=None), ] hosts = ['host1', 'host1', 'host1'] self._test__refresh_cache(instances, nodes, hosts) expected_cache = {n.uuid: n for n in nodes} self.assertEqual(expected_cache, self.driver.node_cache) ", def test__refresh_hash_ring_many_computes(self):,36,4
openstack%2Fnova~stable%2Fpike~Id96e7e513f469b87992ddae1431cce714e91ed16,openstack/nova,stable/pike,Id96e7e513f469b87992ddae1431cce714e91ed16,Include only required fields in ironic node cache,MERGED,2020-09-25 16:00:40.000000000,2021-04-10 07:02:09.000000000,2021-04-10 07:02:09.000000000,"[{'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14826}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-25 16:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd04cc30c18eb2fd6c5a609c388159ab442e3b4d', 'message': 'Include only required fields in ironic node cache\n\nThe ironic virt driver maintains a cache of ironic nodes to avoid\ncontinually polling the ironic API.  Code paths requiring a specific\nnode use a limited set of fields, _NODE_FIELDS, when querying the\nironic API for the node. This reduces the memory footprint required by\nthe cache, and the network traffic required to populate it. However,\nin most cases the cache is populated using a detailed node list\noperation in _refresh_cache(), which includes all node fields.\n\nThis change specifies _NODE_FIELDS in the node list operation in\n_refresh_cache().\n\nWe also modify the unit tests to use fake node objects that are\nrepresentative of the nodes in the cache.\n\nConflicts:\n    nova/tests/unit/virt/ironic/test_driver.py\n    nova/tests/unit/virt/ironic/utils.py\n\nNOTE(melwitt): The conflicts are because the following changes:\n\n  I4065b61edff8bfd66a163c9ccf19833316fdca8e\n    (Implement get_traits() for the ironic virt driver)\n  Implement get_traits() for the ironic virt driver\n    (Regenerate and pass configdrive when rebuild Ironic nodes)\n\nare not in Pike.\n\nChange-Id: Id96e7e513f469b87992ddae1431cce714e91ed16\nRelated-Bug: #1746209\n(cherry picked from commit 8bbad196a7f6a6e2ea093aeee87dfde2154c9358)\n(cherry picked from commit f5b6dc603c5f6f72ab35ef21ab9e35ec982e3219)\n'}, {'number': 2, 'created': '2020-09-25 16:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38aa9b0d452532c7d74097a368c98f20d1827438', 'message': 'Include only required fields in ironic node cache\n\nThe ironic virt driver maintains a cache of ironic nodes to avoid\ncontinually polling the ironic API.  Code paths requiring a specific\nnode use a limited set of fields, _NODE_FIELDS, when querying the\nironic API for the node. This reduces the memory footprint required by\nthe cache, and the network traffic required to populate it. However,\nin most cases the cache is populated using a detailed node list\noperation in _refresh_cache(), which includes all node fields.\n\nThis change specifies _NODE_FIELDS in the node list operation in\n_refresh_cache().\n\nWe also modify the unit tests to use fake node objects that are\nrepresentative of the nodes in the cache.\n\nConflicts:\n    nova/tests/unit/virt/ironic/test_driver.py\n    nova/tests/unit/virt/ironic/utils.py\n\nNOTE(melwitt): The conflicts are because the following changes:\n\n  I4065b61edff8bfd66a163c9ccf19833316fdca8e\n    (Implement get_traits() for the ironic virt driver)\n  I1f9056f66519b9ca2f4e23143559735f2bff8943\n    (Regenerate and pass configdrive when rebuild Ironic nodes)\n\nare not in Pike.\n\nChange-Id: Id96e7e513f469b87992ddae1431cce714e91ed16\nRelated-Bug: #1746209\n(cherry picked from commit 8bbad196a7f6a6e2ea093aeee87dfde2154c9358)\n(cherry picked from commit f5b6dc603c5f6f72ab35ef21ab9e35ec982e3219)\n'}, {'number': 3, 'created': '2020-10-01 21:09:25.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/unit/virt/ironic/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0a12bc4694507091e4e99da8403c799636202024', 'message': 'Include only required fields in ironic node cache\n\nThe ironic virt driver maintains a cache of ironic nodes to avoid\ncontinually polling the ironic API.  Code paths requiring a specific\nnode use a limited set of fields, _NODE_FIELDS, when querying the\nironic API for the node. This reduces the memory footprint required by\nthe cache, and the network traffic required to populate it. However,\nin most cases the cache is populated using a detailed node list\noperation in _refresh_cache(), which includes all node fields.\n\nThis change specifies _NODE_FIELDS in the node list operation in\n_refresh_cache().\n\nWe also modify the unit tests to use fake node objects that are\nrepresentative of the nodes in the cache.\n\nConflicts:\n    nova/tests/unit/virt/ironic/test_driver.py\n    nova/tests/unit/virt/ironic/utils.py\n\nNOTE(melwitt): The conflicts are because the following changes:\n\n  I4065b61edff8bfd66a163c9ccf19833316fdca8e\n    (Implement get_traits() for the ironic virt driver)\n  I1f9056f66519b9ca2f4e23143559735f2bff8943\n    (Regenerate and pass configdrive when rebuild Ironic nodes)\n\nare not in Pike.\n\nChange-Id: Id96e7e513f469b87992ddae1431cce714e91ed16\nRelated-Bug: #1746209\n(cherry picked from commit 8bbad196a7f6a6e2ea093aeee87dfde2154c9358)\n(cherry picked from commit f5b6dc603c5f6f72ab35ef21ab9e35ec982e3219)\n'}]",0,754444,0a12bc4694507091e4e99da8403c799636202024,32,8,3,4690,,,0,"Include only required fields in ironic node cache

The ironic virt driver maintains a cache of ironic nodes to avoid
continually polling the ironic API.  Code paths requiring a specific
node use a limited set of fields, _NODE_FIELDS, when querying the
ironic API for the node. This reduces the memory footprint required by
the cache, and the network traffic required to populate it. However,
in most cases the cache is populated using a detailed node list
operation in _refresh_cache(), which includes all node fields.

This change specifies _NODE_FIELDS in the node list operation in
_refresh_cache().

We also modify the unit tests to use fake node objects that are
representative of the nodes in the cache.

Conflicts:
    nova/tests/unit/virt/ironic/test_driver.py
    nova/tests/unit/virt/ironic/utils.py

NOTE(melwitt): The conflicts are because the following changes:

  I4065b61edff8bfd66a163c9ccf19833316fdca8e
    (Implement get_traits() for the ironic virt driver)
  I1f9056f66519b9ca2f4e23143559735f2bff8943
    (Regenerate and pass configdrive when rebuild Ironic nodes)

are not in Pike.

Change-Id: Id96e7e513f469b87992ddae1431cce714e91ed16
Related-Bug: #1746209
(cherry picked from commit 8bbad196a7f6a6e2ea093aeee87dfde2154c9358)
(cherry picked from commit f5b6dc603c5f6f72ab35ef21ab9e35ec982e3219)
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/754444/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/unit/virt/ironic/utils.py']",3,bd04cc30c18eb2fd6c5a609c388159ab442e3b4d,bug/1866380,"def get_test_node(fields=None, **kw): node = {'uuid': kw.get('uuid', 'eeeeeeee-dddd-cccc-bbbb-aaaaaaaaaaaa'), 'chassis_uuid': kw.get('chassis_uuid'), 'power_state': kw.get('power_state', ironic_states.NOSTATE), 'target_power_state': kw.get('target_power_state', ironic_states.NOSTATE), 'provision_state': kw.get('provision_state', 'target_provision_state': kw.get('target_provision_state', 'last_error': kw.get('last_error'), 'instance_uuid': kw.get('instance_uuid'), 'instance_info': kw.get('instance_info'), 'driver': kw.get('driver', 'fake'), 'driver_info': kw.get('driver_info', {}), 'properties': kw.get('properties', {}), 'reservation': kw.get('reservation'), 'maintenance': kw.get('maintenance', False), 'network_interface': kw.get('network_interface'), 'resource_class': kw.get('resource_class'), 'extra': kw.get('extra', {}), 'updated_at': kw.get('created_at'), 'created_at': kw.get('updated_at')} if fields is not None: node = {key: value for key, value in node.items() if key in fields} return type('node', (object,), node)()","def get_test_node(**kw): return type('node', (object,), {'uuid': kw.get('uuid', 'eeeeeeee-dddd-cccc-bbbb-aaaaaaaaaaaa'), 'chassis_uuid': kw.get('chassis_uuid'), 'power_state': kw.get('power_state', 'target_power_state': kw.get('target_power_state', 'provision_state': kw.get('provision_state', ironic_states.NOSTATE), 'target_provision_state': kw.get('target_provision_state', ironic_states.NOSTATE), 'last_error': kw.get('last_error'), 'instance_uuid': kw.get('instance_uuid'), 'instance_info': kw.get('instance_info'), 'driver': kw.get('driver', 'fake'), 'driver_info': kw.get('driver_info', {}), 'properties': kw.get('properties', {}), 'reservation': kw.get('reservation'), 'maintenance': kw.get('maintenance', False), 'network_interface': kw.get('network_interface'), 'resource_class': kw.get('resource_class'), 'extra': kw.get('extra', {}), 'updated_at': kw.get('created_at'), 'created_at': kw.get('updated_at')})()",175,159
openstack%2Fnova~stable%2Fpike~Id84b4a47d05532d341a9b6ca2de7e9e66e1930da,openstack/nova,stable/pike,Id84b4a47d05532d341a9b6ca2de7e9e66e1930da,Add resource_class to fields in ironic node cache,MERGED,2020-10-01 21:09:25.000000000,2021-04-10 07:01:36.000000000,2021-04-10 07:01:36.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14826}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-10-01 21:09:25.000000000', 'files': ['nova/virt/ironic/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7b207874f8af7f77e0dd701f93a3326afb2f191f', 'message': 'Add resource_class to fields in ironic node cache\n\nPer the discussion in [1], the ironic nodes added to the node cache in\nthe ironic virt driver may be missing the required field resource_class,\nas this field is not in _NODE_FIELDS. In practice, this is typically\nnot an issue (possibly never), as the normal code path uses a\ndetailed list to sync all ironic nodes, which contain all fields\n(including resource_class). However, some code paths use a single\nnode query with the fields limited to _NODE_FIELDS, so could result in a\nnode in the cache without a resource_class.\n\nThis change adds resource_class to _NODE_FIELDS.\n\n[1]\nhttps://review.openstack.org/#/c/532288/9/nova/virt/ironic/driver.py@79\n\nConflicts:\n    nova/virt/ironic/driver.py\n\nNOTE(melwitt): Conflict is because change\nI4065b61edff8bfd66a163c9ccf19833316fdca8e\n(Implement get_traits() for the ironic virt driver) is not in Pike.\n\nChange-Id: Id84b4a47d05532d341a9b6ca2de7e9e66e1930da\nCloses-Bug: #1746209\n(cherry picked from commit 5895566a428be4c30c31ae94070282566a6cc568)\n(cherry picked from commit 6b11eb794f5881c9c8ed284b2edfa4c31ed62b2b)\n'}]",0,755653,7b207874f8af7f77e0dd701f93a3326afb2f191f,31,10,1,4690,,,0,"Add resource_class to fields in ironic node cache

Per the discussion in [1], the ironic nodes added to the node cache in
the ironic virt driver may be missing the required field resource_class,
as this field is not in _NODE_FIELDS. In practice, this is typically
not an issue (possibly never), as the normal code path uses a
detailed list to sync all ironic nodes, which contain all fields
(including resource_class). However, some code paths use a single
node query with the fields limited to _NODE_FIELDS, so could result in a
node in the cache without a resource_class.

This change adds resource_class to _NODE_FIELDS.

[1]
https://review.openstack.org/#/c/532288/9/nova/virt/ironic/driver.py@79

Conflicts:
    nova/virt/ironic/driver.py

NOTE(melwitt): Conflict is because change
I4065b61edff8bfd66a163c9ccf19833316fdca8e
(Implement get_traits() for the ironic virt driver) is not in Pike.

Change-Id: Id84b4a47d05532d341a9b6ca2de7e9e66e1930da
Closes-Bug: #1746209
(cherry picked from commit 5895566a428be4c30c31ae94070282566a6cc568)
(cherry picked from commit 6b11eb794f5881c9c8ed284b2edfa4c31ed62b2b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/755653/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/ironic/driver.py'],1,7b207874f8af7f77e0dd701f93a3326afb2f191f,bug/1866380," 'properties', 'instance_uuid', 'resource_class')"," 'properties', 'instance_uuid')",1,1
openstack%2Fdevstack~stable%2Fstein~Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90,openstack/devstack,stable/stein,Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90,Make stackviz tasks not to fail jobs,MERGED,2021-04-09 01:20:59.000000000,2021-04-10 06:53:16.000000000,2021-04-10 06:51:58.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-09 01:20:59.000000000', 'files': ['roles/process-stackviz/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a4649799169550f02518b96c9b1cbd870f8cf248', 'message': ""Make stackviz tasks not to fail jobs\n\nDue to issue on stckviz side, job start\nfailing with POST_FAILURE. If we fix the\nissue still we need to wait for periodic job\nperiodic-package-stackviz-element to publish\nthe latest tarball on https://tarballs.openstack.org/stackviz/dist/.\n\nLet's not fail the job for any issue occur during\nstackviz processing.\n\nCloses-Bug: 1863161\n\nChange-Id: Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90\n(cherry picked from commit 580fec54c3a970de80ab66b3decca69704ff1179)\n(cherry picked from commit 800eb4dd446f93734d420005f93d0dcb88564dd4)\n(cherry picked from commit 3b2feba2ef6a08f639b36bfe995705ec3a785ff8)\n(cherry picked from commit 4f9c1e084c8d762c873549e8fc9524d6ee24f1c1)\n(cherry picked from commit 2873b5530d263b98642605b12bb62f0b18fa933d)\n""}]",0,785548,a4649799169550f02518b96c9b1cbd870f8cf248,13,3,1,8556,,,0,"Make stackviz tasks not to fail jobs

Due to issue on stckviz side, job start
failing with POST_FAILURE. If we fix the
issue still we need to wait for periodic job
periodic-package-stackviz-element to publish
the latest tarball on https://tarballs.openstack.org/stackviz/dist/.

Let's not fail the job for any issue occur during
stackviz processing.

Closes-Bug: 1863161

Change-Id: Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90
(cherry picked from commit 580fec54c3a970de80ab66b3decca69704ff1179)
(cherry picked from commit 800eb4dd446f93734d420005f93d0dcb88564dd4)
(cherry picked from commit 3b2feba2ef6a08f639b36bfe995705ec3a785ff8)
(cherry picked from commit 4f9c1e084c8d762c873549e8fc9524d6ee24f1c1)
(cherry picked from commit 2873b5530d263b98642605b12bb62f0b18fa933d)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/48/785548/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/process-stackviz/tasks/main.yaml'],1,a4649799169550f02518b96c9b1cbd870f8cf248,bug/1863161,"- name: Process Stackviz block: - name: Devstack checks if stackviz archive exists stat: path: ""/opt/cache/files/stackviz-latest.tar.gz"" register: stackviz_archive - debug: msg: ""Stackviz archive could not be found in /opt/cache/files/stackviz-latest.tar.gz"" when: not stackviz_archive.stat.exists - name: Check if subunit data exists stat: path: ""{{ zuul_work_dir }}/testrepository.subunit"" register: subunit_input - debug: msg: ""Subunit file could not be found at {{ zuul_work_dir }}/testrepository.subunit"" when: not subunit_input.stat.exists - name: Install stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists block: - include_role: name: ensure-pip - pip: name: ""file://{{ stackviz_archive.stat.path }}"" virtualenv: /tmp/stackviz virtualenv_command: '{{ ensure_pip_virtualenv_command }}' extra_args: -U - name: Deploy stackviz static html+js command: cp -pR /tmp/stackviz/share/stackviz-html {{ stage_dir }}/stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Check if dstat data exists stat: path: ""{{ devstack_base_dir }}/logs/dstat-csv.log"" register: dstat_input when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Run stackviz with dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --dstat ""{{ devstack_base_dir }}/logs/dstat-csv.log"" \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - dstat_input.stat.exists - name: Run stackviz without dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - not dstat_input.stat.exists ignore_errors: yes","- name: Devstack checks if stackviz archive exists stat: path: ""/opt/cache/files/stackviz-latest.tar.gz"" register: stackviz_archive - debug: msg: ""Stackviz archive could not be found in /opt/cache/files/stackviz-latest.tar.gz"" when: not stackviz_archive.stat.exists - name: Check if subunit data exists stat: path: ""{{ zuul_work_dir }}/testrepository.subunit"" register: subunit_input - debug: msg: ""Subunit file could not be found at {{ zuul_work_dir }}/testrepository.subunit"" when: not subunit_input.stat.exists - name: Install stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists block: - include_role: name: ensure-pip - pip: name: ""file://{{ stackviz_archive.stat.path }}"" virtualenv: /tmp/stackviz virtualenv_command: '{{ ensure_pip_virtualenv_command }}' extra_args: -U - name: Deploy stackviz static html+js command: cp -pR /tmp/stackviz/share/stackviz-html {{ stage_dir }}/stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Check if dstat data exists stat: path: ""{{ devstack_base_dir }}/logs/dstat-csv.log"" register: dstat_input when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Run stackviz with dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --dstat ""{{ devstack_base_dir }}/logs/dstat-csv.log"" \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - dstat_input.stat.exists failed_when: False - name: Run stackviz without dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - not dstat_input.stat.exists failed_when: False",67,64
openstack%2Ftripleo-operator-ansible~master~I4572ba9ccfa8c942b5372cbc95a3d235ff818f36,openstack/tripleo-operator-ansible,master,I4572ba9ccfa8c942b5372cbc95a3d235ff818f36,Add container_image_prepare files for standalone job,MERGED,2020-04-08 07:58:22.000000000,2021-04-10 06:40:14.000000000,2021-04-10 06:40:14.000000000,"[{'_account_id': 7144}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-08 07:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/237a12b9c1a0df89c7bf9b3232f5daa50dd94a48', 'message': 'Add a standalone job for container_image_prepare\n\nThis should help ensuring nothing breaks when modifying this role.\n\nChange-Id: I4572ba9ccfa8c942b5372cbc95a3d235ff818f36\n'}, {'number': 2, 'created': '2020-04-08 08:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/ec74c2271ba8803d708acea6b8374953e9b9e820', 'message': 'Add a standalone job for container_image_prepare\n\nThis should help ensuring nothing breaks when modifying this role.\n\nChange-Id: I4572ba9ccfa8c942b5372cbc95a3d235ff818f36\n'}, {'number': 3, 'created': '2021-04-09 05:54:29.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/cecfd5336ba7638b8fa6ee9fb3af27d7b440e93e', 'message': 'Add container_image_prepare files for standalone job\n\nThis should help ensuring nothing breaks when modifying this role.\n\nChange-Id: I4572ba9ccfa8c942b5372cbc95a3d235ff818f36\n'}]",2,718334,cecfd5336ba7638b8fa6ee9fb3af27d7b440e93e,14,4,3,28223,,,0,"Add container_image_prepare files for standalone job

This should help ensuring nothing breaks when modifying this role.

Change-Id: I4572ba9ccfa8c942b5372cbc95a3d235ff818f36
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/34/718334/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,237a12b9c1a0df89c7bf9b3232f5daa50dd94a48,container-prepare-debug, - tripleo-ci-centos-8-standalone: dependencies: *deps_unit_lint files: &containers_minion_files - ^roles/tripleo_container_image_prepare/.*$,,4,0
openstack%2Fcyborg-tempest-plugin~master~I107cedbee4fe4bec237bc11f70557e9c1e39dfa6,openstack/cyborg-tempest-plugin,master,I107cedbee4fe4bec237bc11f70557e9c1e39dfa6,Add `device_profile` key for get device_profile api return result,ABANDONED,2021-04-02 01:45:56.000000000,2021-04-10 06:34:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-04-02 01:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/dee10e66c1788dbb8584ff33a6d416610d077323', 'message': 'Add `device_profile` key for get device_profile api return result\n\nAs this patch[1] add the `device_profile` key for get device_profile api\nreturn result, so add the key in the test.\n\nChange-Id: I107cedbee4fe4bec237bc11f70557e9c1e39dfa6\n'}, {'number': 2, 'created': '2021-04-02 01:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/fc6b5222618a374059592206ad81c7e2835782f9', 'message': 'Add `device_profile` key for get device_profile api return result\n\nAs this patch[1] add the `device_profile` key for get device_profile api\nreturn result, so add the key in the test.\n\n[1] https://review.opendev.org/c/openstack/cyborg/+/784521\n\nChange-Id: I107cedbee4fe4bec237bc11f70557e9c1e39dfa6\n'}, {'number': 3, 'created': '2021-04-02 05:53:27.000000000', 'files': ['cyborg_tempest_plugin/tests/api/test_device_profile.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/afc65d312afb21ba11009f1162fe32f7cc7ecbec', 'message': 'Add `device_profile` key for get device_profile api return result\n\nAs this patch[1] add the `device_profile` key for get device_profile api\nreturn result, so add the key in the test.\n\n[1] https://review.opendev.org/c/openstack/cyborg/+/784521\n\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/784521\n\nChange-Id: I107cedbee4fe4bec237bc11f70557e9c1e39dfa6\n'}]",2,784522,afc65d312afb21ba11009f1162fe32f7cc7ecbec,8,4,3,31412,,,0,"Add `device_profile` key for get device_profile api return result

As this patch[1] add the `device_profile` key for get device_profile api
return result, so add the key in the test.

[1] https://review.opendev.org/c/openstack/cyborg/+/784521

Depends-On: https://review.opendev.org/c/openstack/cyborg/+/784521

Change-Id: I107cedbee4fe4bec237bc11f70557e9c1e39dfa6
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/22/784522/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg_tempest_plugin/tests/api/test_device_profile.py'],1,dee10e66c1788dbb8584ff33a6d416610d077323,," self.assertEqual(dp[0]['name'], get_resp['device_profile']['name']) get_resp['device_profile']['uuid'])"," self.assertEqual(dp[0]['name'], get_resp['name']) get_resp['uuid'])",2,2
openstack%2Fopenstack-helm~master~I1cc824d2f01691196506cb0be9d46ec483b0157d,openstack/openstack-helm,master,I1cc824d2f01691196506cb0be9d46ec483b0157d,Fix OpenStack_CLI usage specification about heat,MERGED,2021-04-01 09:13:50.000000000,2021-04-10 05:36:10.000000000,2021-04-10 05:34:28.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 09:13:50.000000000', 'files': ['tools/deployment/multinode/150-heat.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/772252c528b3a74d574f0618e5434587fe2d1064', 'message': 'Fix OpenStack_CLI usage specification about heat\n\nPublic endpoints should be used here, Internal Endpoints are used by internal modules, not by physical machines.\n\nChange-Id: I1cc824d2f01691196506cb0be9d46ec483b0157d\n'}]",0,784229,772252c528b3a74d574f0618e5434587fe2d1064,9,6,1,30449,,,0,"Fix OpenStack_CLI usage specification about heat

Public endpoints should be used here, Internal Endpoints are used by internal modules, not by physical machines.

Change-Id: I1cc824d2f01691196506cb0be9d46ec483b0157d
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/29/784229/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/multinode/150-heat.sh'],1,772252c528b3a74d574f0618e5434587fe2d1064,,openstack --os-interface public orchestration service list,openstack --os-interface internal orchestration service list,1,1
openstack%2Fopenstack-helm-images~master~Ia8969eff5a4d4889d036400221583287ce17f4af,openstack/openstack-helm-images,master,Ia8969eff5a4d4889d036400221583287ce17f4af,Rename horizon test job corresponding to osh change,MERGED,2021-04-09 09:46:43.000000000,2021-04-10 05:35:35.000000000,2021-04-10 05:31:06.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2021-04-09 09:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/bf81ae5d6337e1d0dba0817b747e46d93cea285f', 'message': 'Rename horizon test job corresponding to osh change\n\n*openstack-helm-horizon-train-ubuntu_bionic\n\nChange-Id: Ia8969eff5a4d4889d036400221583287ce17f4af\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2021-04-09 09:47:52.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/openstack-loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/5dc30893fb05a19e719a76b1855132307121164f', 'message': 'Rename horizon test job corresponding to osh change\n\nhttps://review.opendev.org/c/openstack/openstack-helm/+/782848\n\nChange-Id: Ia8969eff5a4d4889d036400221583287ce17f4af\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,785587,5dc30893fb05a19e719a76b1855132307121164f,13,8,2,8863,,,0,"Rename horizon test job corresponding to osh change

https://review.opendev.org/c/openstack/openstack-helm/+/782848

Change-Id: Ia8969eff5a4d4889d036400221583287ce17f4af
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/87/785587/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/openstack-loci.yaml']",2,bf81ae5d6337e1d0dba0817b747e46d93cea285f,, - name: openstack-helm-images-horizon-train-ubuntu_bionic, - name: openstack-helm-images-horizon-stein-ubuntu_bionic,8,8
openstack%2Fdevstack~stable%2Fwallaby~Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90,openstack/devstack,stable/wallaby,Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90,Make stackviz tasks not to fail jobs,MERGED,2021-04-09 01:16:24.000000000,2021-04-10 04:34:09.000000000,2021-04-10 04:32:49.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-09 01:16:24.000000000', 'files': ['roles/process-stackviz/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/800eb4dd446f93734d420005f93d0dcb88564dd4', 'message': ""Make stackviz tasks not to fail jobs\n\nDue to issue on stckviz side, job start\nfailing with POST_FAILURE. If we fix the\nissue still we need to wait for periodic job\nperiodic-package-stackviz-element to publish\nthe latest tarball on https://tarballs.openstack.org/stackviz/dist/.\n\nLet's not fail the job for any issue occur during\nstackviz processing.\n\nCloses-Bug: 1863161\n\nChange-Id: Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90\n(cherry picked from commit 580fec54c3a970de80ab66b3decca69704ff1179)\n""}]",0,785544,800eb4dd446f93734d420005f93d0dcb88564dd4,12,3,1,8556,,,0,"Make stackviz tasks not to fail jobs

Due to issue on stckviz side, job start
failing with POST_FAILURE. If we fix the
issue still we need to wait for periodic job
periodic-package-stackviz-element to publish
the latest tarball on https://tarballs.openstack.org/stackviz/dist/.

Let's not fail the job for any issue occur during
stackviz processing.

Closes-Bug: 1863161

Change-Id: Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90
(cherry picked from commit 580fec54c3a970de80ab66b3decca69704ff1179)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/44/785544/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/process-stackviz/tasks/main.yaml'],1,800eb4dd446f93734d420005f93d0dcb88564dd4,bug/1863161,"- name: Process Stackviz block: - name: Devstack checks if stackviz archive exists stat: path: ""/opt/cache/files/stackviz-latest.tar.gz"" register: stackviz_archive - debug: msg: ""Stackviz archive could not be found in /opt/cache/files/stackviz-latest.tar.gz"" when: not stackviz_archive.stat.exists - name: Check if subunit data exists stat: path: ""{{ zuul_work_dir }}/testrepository.subunit"" register: subunit_input - debug: msg: ""Subunit file could not be found at {{ zuul_work_dir }}/testrepository.subunit"" when: not subunit_input.stat.exists - name: Install stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists block: - include_role: name: ensure-pip - pip: name: ""file://{{ stackviz_archive.stat.path }}"" virtualenv: /tmp/stackviz virtualenv_command: '{{ ensure_pip_virtualenv_command }}' extra_args: -U - name: Deploy stackviz static html+js command: cp -pR /tmp/stackviz/share/stackviz-html {{ stage_dir }}/stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Check if dstat data exists stat: path: ""{{ devstack_base_dir }}/logs/dstat-csv.log"" register: dstat_input when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Run stackviz with dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --dstat ""{{ devstack_base_dir }}/logs/dstat-csv.log"" \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - dstat_input.stat.exists - name: Run stackviz without dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - not dstat_input.stat.exists ignore_errors: yes","- name: Devstack checks if stackviz archive exists stat: path: ""/opt/cache/files/stackviz-latest.tar.gz"" register: stackviz_archive - debug: msg: ""Stackviz archive could not be found in /opt/cache/files/stackviz-latest.tar.gz"" when: not stackviz_archive.stat.exists - name: Check if subunit data exists stat: path: ""{{ zuul_work_dir }}/testrepository.subunit"" register: subunit_input - debug: msg: ""Subunit file could not be found at {{ zuul_work_dir }}/testrepository.subunit"" when: not subunit_input.stat.exists - name: Install stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists block: - include_role: name: ensure-pip - pip: name: ""file://{{ stackviz_archive.stat.path }}"" virtualenv: /tmp/stackviz virtualenv_command: '{{ ensure_pip_virtualenv_command }}' extra_args: -U - name: Deploy stackviz static html+js command: cp -pR /tmp/stackviz/share/stackviz-html {{ stage_dir }}/stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Check if dstat data exists stat: path: ""{{ devstack_base_dir }}/logs/dstat-csv.log"" register: dstat_input when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Run stackviz with dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --dstat ""{{ devstack_base_dir }}/logs/dstat-csv.log"" \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - dstat_input.stat.exists failed_when: False - name: Run stackviz without dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - not dstat_input.stat.exists failed_when: False",67,64
openstack%2Fneutron~stable%2Fvictoria~Ib1d8f2f4adeadbd59c3dccc7be1546baedc4b978,openstack/neutron,stable/victoria,Ib1d8f2f4adeadbd59c3dccc7be1546baedc4b978,"Remove class ""Timer""",MERGED,2021-04-08 13:23:15.000000000,2021-04-10 04:05:23.000000000,2021-04-10 04:03:37.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 13:23:15.000000000', 'files': ['neutron/tests/functional/test_server.py', 'neutron/common/utils.py', 'neutron/tests/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/db2dd850e7a95ae5571a8e7b18a777918d3d919a', 'message': 'Remove class ""Timer""\n\nClass ""Timer"" is not being used and the related unit tests\nare failing quite often in py38 CI job.\n\nChange-Id: Ib1d8f2f4adeadbd59c3dccc7be1546baedc4b978\nRelated-Bug: #1922563\n(cherry picked from commit 48bce78d1a07ff0e7726941d6e8e4aec8a92a77f)\n'}]",0,785417,db2dd850e7a95ae5571a8e7b18a777918d3d919a,11,3,1,16688,,,0,"Remove class ""Timer""

Class ""Timer"" is not being used and the related unit tests
are failing quite often in py38 CI job.

Change-Id: Ib1d8f2f4adeadbd59c3dccc7be1546baedc4b978
Related-Bug: #1922563
(cherry picked from commit 48bce78d1a07ff0e7726941d6e8e4aec8a92a77f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/17/785417/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/test_server.py', 'neutron/common/utils.py', 'neutron/tests/unit/common/test_utils.py']",3,db2dd850e7a95ae5571a8e7b18a777918d3d919a,bug/1922563,,"import timeclass TimerTestCase(base.BaseTestCase): def test__getattr(self): with utils.Timer() as timer: time.sleep(1) self.assertLess(timer.total_seconds(), 2) self.assertEqual(1, timer.delta.seconds) def test__enter_with_timeout(self): with utils.Timer(timeout=10) as timer: time.sleep(1) self.assertLess(timer.total_seconds(), 2) def test__enter_with_timeout_exception(self): msg = r'Timer timeout expired after 1 second\(s\).' with self.assertRaisesRegex(utils.TimerTimeout, msg): with utils.Timer(timeout=1): time.sleep(2) def test__enter_with_timeout_no_exception(self): with utils.Timer(timeout=1, raise_exception=False): time.sleep(2) def test__iter(self): iterations = [] for i in utils.Timer(timeout=2): iterations.append(i) time.sleep(1.1) self.assertEqual(2, len(iterations)) def test_delta_time_sec(self): with utils.Timer() as timer: self.assertIsInstance(timer.delta_time_sec, float) ",1,109
openstack%2Fneutron~stable%2Fwallaby~Ib1d8f2f4adeadbd59c3dccc7be1546baedc4b978,openstack/neutron,stable/wallaby,Ib1d8f2f4adeadbd59c3dccc7be1546baedc4b978,"Remove class ""Timer""",MERGED,2021-04-08 13:22:47.000000000,2021-04-10 04:05:16.000000000,2021-04-10 04:03:30.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 13:22:47.000000000', 'files': ['neutron/tests/functional/test_server.py', 'neutron/common/utils.py', 'neutron/tests/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/148f7c3a32628ae8e1b4dedb919ee8ebf3be8139', 'message': 'Remove class ""Timer""\n\nClass ""Timer"" is not being used and the related unit tests\nare failing quite often in py38 CI job.\n\nChange-Id: Ib1d8f2f4adeadbd59c3dccc7be1546baedc4b978\nRelated-Bug: #1922563\n(cherry picked from commit 48bce78d1a07ff0e7726941d6e8e4aec8a92a77f)\n'}]",0,785416,148f7c3a32628ae8e1b4dedb919ee8ebf3be8139,18,3,1,16688,,,0,"Remove class ""Timer""

Class ""Timer"" is not being used and the related unit tests
are failing quite often in py38 CI job.

Change-Id: Ib1d8f2f4adeadbd59c3dccc7be1546baedc4b978
Related-Bug: #1922563
(cherry picked from commit 48bce78d1a07ff0e7726941d6e8e4aec8a92a77f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/785416/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/test_server.py', 'neutron/common/utils.py', 'neutron/tests/unit/common/test_utils.py']",3,148f7c3a32628ae8e1b4dedb919ee8ebf3be8139,bug/1922563,,"import timeclass TimerTestCase(base.BaseTestCase): def test__getattr(self): with utils.Timer() as timer: time.sleep(1) self.assertLess(timer.total_seconds(), 2) self.assertEqual(1, timer.delta.seconds) def test__enter_with_timeout(self): with utils.Timer(timeout=10) as timer: time.sleep(1) self.assertLess(timer.total_seconds(), 2) def test__enter_with_timeout_exception(self): msg = r'Timer timeout expired after 1 second\(s\).' with self.assertRaisesRegex(utils.TimerTimeout, msg): with utils.Timer(timeout=1): time.sleep(2) def test__enter_with_timeout_no_exception(self): with utils.Timer(timeout=1, raise_exception=False): time.sleep(2) def test__iter(self): iterations = [] for i in utils.Timer(timeout=2): iterations.append(i) time.sleep(1.1) self.assertEqual(2, len(iterations)) def test_delta_time_sec(self): with utils.Timer() as timer: self.assertIsInstance(timer.delta_time_sec, float) ",1,109
openstack%2Fneutron~stable%2Fussuri~Ib1d8f2f4adeadbd59c3dccc7be1546baedc4b978,openstack/neutron,stable/ussuri,Ib1d8f2f4adeadbd59c3dccc7be1546baedc4b978,"Remove class ""Timer""",MERGED,2021-04-08 13:24:55.000000000,2021-04-10 04:05:06.000000000,2021-04-10 04:03:47.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 13:24:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/87838b0a0a883348b1a2c685b083da901863110d', 'message': 'Remove class ""Timer""\n\nClass ""Timer"" is not being used and the related unit tests\nare failing quite often in py38 CI job.\n\nConflicts:\n      neutron/tests/unit/common/test_utils.py\n\nChange-Id: Ib1d8f2f4adeadbd59c3dccc7be1546baedc4b978\nRelated-Bug: #1922563\n(cherry picked from commit 48bce78d1a07ff0e7726941d6e8e4aec8a92a77f)\n'}, {'number': 2, 'created': '2021-04-09 09:43:43.000000000', 'files': ['neutron/tests/functional/test_server.py', 'neutron/common/utils.py', 'neutron/tests/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b06f6e0fb6cf0b67dc1fb81d0cce439167c2b91e', 'message': 'Remove class ""Timer""\n\nClass ""Timer"" is not being used and the related unit tests\nare failing quite often in py38 CI job.\n\nConflicts:\n      neutron/tests/unit/common/test_utils.py\n\nChange-Id: Ib1d8f2f4adeadbd59c3dccc7be1546baedc4b978\nRelated-Bug: #1922563\n(cherry picked from commit 48bce78d1a07ff0e7726941d6e8e4aec8a92a77f)\n'}]",1,785418,b06f6e0fb6cf0b67dc1fb81d0cce439167c2b91e,12,3,2,16688,,,0,"Remove class ""Timer""

Class ""Timer"" is not being used and the related unit tests
are failing quite often in py38 CI job.

Conflicts:
      neutron/tests/unit/common/test_utils.py

Change-Id: Ib1d8f2f4adeadbd59c3dccc7be1546baedc4b978
Related-Bug: #1922563
(cherry picked from commit 48bce78d1a07ff0e7726941d6e8e4aec8a92a77f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/785418/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/test_server.py', 'neutron/common/utils.py', 'neutron/tests/unit/common/test_utils.py']",3,87838b0a0a883348b1a2c685b083da901863110d,bug/1922563,from unittest import mock,"import timeclass TimerTestCase(base.BaseTestCase): def test__getattr(self): with utils.Timer() as timer: time.sleep(1) self.assertLess(timer.total_seconds(), 2) self.assertEqual(1, timer.delta.seconds) def test__enter_with_timeout(self): with utils.Timer(timeout=10) as timer: time.sleep(1) self.assertLess(timer.total_seconds(), 2) def test__enter_with_timeout_exception(self): msg = r'Timer timeout expired after 1 second\(s\).' with self.assertRaisesRegex(utils.TimerTimeout, msg): with utils.Timer(timeout=1): time.sleep(2) def test__enter_with_timeout_no_exception(self): with utils.Timer(timeout=1, raise_exception=False): time.sleep(2) def test__iter(self): iterations = [] for i in utils.Timer(timeout=2): iterations.append(i) time.sleep(1.1) self.assertEqual(2, len(iterations)) def test_delta_time_sec(self): with utils.Timer() as timer: self.assertIsInstance(timer.delta_time_sec, float) ",2,109
openstack%2Fpython-novaclient~stable%2Fwallaby~Ic6667b1b5efe75273035c65aca2c111c90fe8e00,openstack/python-novaclient,stable/wallaby,Ic6667b1b5efe75273035c65aca2c111c90fe8e00,Use well named anchor into the microversion history,MERGED,2021-03-21 13:20:24.000000000,2021-04-10 03:33:05.000000000,2021-04-10 03:31:53.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-21 13:20:24.000000000', 'files': ['releasenotes/notes/microversion-v2_88-d91136020e3a3621.yaml'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/23be8022f0029fb7cee71719d0a2e87671ed69a7', 'message': 'Use well named anchor into the microversion history\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/780401\nChange-Id: Ic6667b1b5efe75273035c65aca2c111c90fe8e00\n(cherry picked from commit 8cdbb0f999bd6ff712da7d0c3fa04f296a63e74f)\n'}]",0,781947,23be8022f0029fb7cee71719d0a2e87671ed69a7,10,4,1,7634,,,0,"Use well named anchor into the microversion history

Depends-On: https://review.opendev.org/c/openstack/nova/+/780401
Change-Id: Ic6667b1b5efe75273035c65aca2c111c90fe8e00
(cherry picked from commit 8cdbb0f999bd6ff712da7d0c3fa04f296a63e74f)
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/47/781947/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/microversion-v2_88-d91136020e3a3621.yaml'],1,23be8022f0029fb7cee71719d0a2e87671ed69a7,, .. _microversion 2.88: https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#microversion-2-88, .. _microversion 2.88: https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#id80,1,1
openstack%2Fnetworking-ovn~stable%2Ftrain~Iec46c3e1ebef822d43964e13962153dc8760ee42,openstack/networking-ovn,stable/train,Iec46c3e1ebef822d43964e13962153dc8760ee42,Check if no members in pool better in batch update,MERGED,2021-03-12 13:43:28.000000000,2021-04-10 03:20:50.000000000,2021-04-10 03:19:11.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-12 13:43:28.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/81d5b4f6dcc9a1525ffcb1333e3cd2196770b653', 'message': ""Check if no members in pool better in batch update\n\nmember_batch_update() might find a loadbalancer with\na pool that contains no members, but calling split(',')\nwill result in an existing member list of ['']. Force\nit to an empty list if there are no members.\n\nCloses-Bug: #1912779\nChange-Id: Iec46c3e1ebef822d43964e13962153dc8760ee42\n(cherry picked from ovn-octavia-provider commit 6e30b8552ca83e0424ec460a4b4728cd70505c7a)\n""}]",0,780262,81d5b4f6dcc9a1525ffcb1333e3cd2196770b653,20,3,1,1131,,,0,"Check if no members in pool better in batch update

member_batch_update() might find a loadbalancer with
a pool that contains no members, but calling split(',')
will result in an existing member list of ['']. Force
it to an empty list if there are no members.

Closes-Bug: #1912779
Change-Id: Iec46c3e1ebef822d43964e13962153dc8760ee42
(cherry picked from ovn-octavia-provider commit 6e30b8552ca83e0424ec460a4b4728cd70505c7a)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/62/780262/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py']",2,81d5b4f6dcc9a1525ffcb1333e3cd2196770b653,bug-1912779-train," def test_member_batch_update_no_members(self): pool_key = 'pool_%s' % self.pool_id ovn_lb = copy.copy(self.ovn_lb) ovn_lb.external_ids[pool_key] = [] self.mock_find_lb_pool_key.return_value = ovn_lb self.driver.member_batch_update(self.pool_id, [self.ref_member, self.update_member]) self.assertEqual(self.mock_add_request.call_count, 2) ",,11,1
openstack%2Fcharm-ceph-fs~master~Ifdf2620bb3c529fbdfa8bcd3f11b85428f32e3b3,openstack/charm-ceph-fs,master,Ifdf2620bb3c529fbdfa8bcd3f11b85428f32e3b3,Update for libraries sync 21.04,MERGED,2021-04-09 19:24:52.000000000,2021-04-10 02:54:12.000000000,2021-04-10 02:54:12.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-09 19:24:52.000000000', 'files': ['src/wheelhouse.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/36869e1e1f36742c3d6eaf1ef49f732493e91282', 'message': 'Update for libraries sync 21.04\n\n* Updated build.lock generated on xenial\n* Modified wheelhouse.txt to pick up charms.ceph stable/21.04 branch\n\nChange-Id: Ifdf2620bb3c529fbdfa8bcd3f11b85428f32e3b3\n'}]",0,785721,36869e1e1f36742c3d6eaf1ef49f732493e91282,8,3,1,20870,,,0,"Update for libraries sync 21.04

* Updated build.lock generated on xenial
* Modified wheelhouse.txt to pick up charms.ceph stable/21.04 branch

Change-Id: Ifdf2620bb3c529fbdfa8bcd3f11b85428f32e3b3
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/21/785721/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/wheelhouse.txt', 'src/build.lock']",2,36869e1e1f36742c3d6eaf1ef49f732493e91282,libraries-sync-21-04," ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""branch"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"", ""type"": ""layer"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""branch"": ""623e69c7b432456fd4364f6e1835424fd6b5425e"", ""type"": ""layer"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""branch"": ""ba152d41b4a1109073d335415f43c4248109e7c7"", ""type"": ""layer"", ""url"": ""https://github.com/openstack/charm-layer-ceph.git"", ""branch"": ""17d40abd8d9ec3b8c32756ca981c80c4733c016f"", ""type"": ""layer"", ""url"": null, ""branch"": ""46797fc9869d86352e513aa4f7a26c0d9ab3c6ec"", ""type"": ""layer"", ""commit"": ""46797fc9869d86352e513aa4f7a26c0d9ab3c6ec"" ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""branch"": ""d9850016d930a6d507b9fd45e2598d327922b140"", ""type"": ""layer"", ""url"": ""https://opendev.org/openstack/charm-interface-ceph-client.git"", ""branch"": ""72245e1d002fb9c65c9574d65b5952275b3411fb"", ""type"": ""layer"", ""vcs"": null, ""type"": ""python_module"", ""package"": ""PyYAML"", ""version"": ""5.2"" }, { ""vcs"": null, ""type"": ""python_module"", ""package"": ""psutil"", ""version"": ""5.8.0"" }, { ""vcs"": null, ""type"": ""python_module"", ""package"": ""pyaml"", ""version"": ""20.4.0"" }, { ""vcs"": null, ""type"": ""python_module"", ""package"": ""netaddr"", ""version"": ""0.7.19"" }, { ""vcs"": null, ""type"": ""python_module"", ""package"": ""pyxattr"", ""version"": ""0.7.2"" }, { ""vcs"": null, ""type"": ""python_module"", ""package"": ""dnspython3"", ""version"": ""1.15.0"" }, { ""vcs"": null, ""type"": ""python_module"", ""package"": ""setuptools"", ""version"": ""41.6.0"" }, { ""vcs"": null, ""type"": ""python_module"", ""package"": ""wheel"", ""version"": ""0.33.6"" }, { ""vcs"": ""git"", ""url"": ""git+https://opendev.org/openstack/charms.openstack.git"", ""package"": ""charms.openstack"", ""branch"": ""stable/21.04"", ""version"": ""bcd0c9b4b4a19d4a4125e0a6a3f808a843a74fa1"", ""type"": ""python_module"" }, { ""vcs"": null, }, { ""vcs"": null, ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""version"": ""1.1.1"" }, { ""vcs"": null, ""type"": ""python_module"", ""package"": ""Tempita"", ""version"": ""0.5.2"" }, { ""vcs"": null, ""type"": ""python_module"", ""package"": ""pbr"", ""version"": ""5.5.1"" }, { ""vcs"": null, ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""version"": ""1.17.0"" }, { ""vcs"": null, ""type"": ""python_module"", ""package"": ""dnspython"", ""version"": ""1.15.0"" }, { ""vcs"": null, ""type"": ""python_module"", ""package"": ""pip"", ""version"": ""18.1"" }, { ""vcs"": null, ""type"": ""python_module"", ""package"": ""Jinja2"", ""version"": ""2.10.1"" }, { ""vcs"": ""git"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""package"": ""charmhelpers"", ""branch"": ""stable/21.04"", ""version"": ""8c48d2914b0e7396a2392c3933e2d7f321643ae6"", ""type"": ""python_module"" }, { ""vcs"": ""git"", ""url"": ""git+https://opendev.org/openstack/charms.ceph.git"", ""package"": ""charms.ceph"", ""branch"": ""stable/21.04"", ""version"": ""9bfe43ee654d016d7f09ede406c45674821f2866"", ""type"": ""python_module"" }, { ""vcs"": null, ""type"": ""python_module"", ""package"": ""ceph_api"", ""version"": ""0.4.0""}"," ""type"": ""layer"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""branch"": ""refs/heads/master"", ""type"": ""layer"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""branch"": ""refs/heads/master"", ""type"": ""layer"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""branch"": ""refs/heads/master"", ""type"": ""layer"", ""url"": ""https://github.com/openstack/charm-layer-ceph.git"", ""branch"": ""refs/heads/master"", ""type"": ""layer"", ""url"": null, ""branch"": ""refs/heads/master"", ""commit"": ""c8feba48a592445f20ed247e45866077c01a114d"" ""type"": ""layer"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""branch"": ""refs/heads/master"", ""type"": ""layer"", ""url"": ""https://opendev.org/openstack/charm-interface-ceph-client.git"", ""branch"": ""refs/heads/master"", ""type"": ""python_module"", ""package"": ""dnspython"", ""version"": ""1.15.0"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://opendev.org/openstack/charms.openstack.git"", ""branch"": ""refs/heads/stable/21.04"", ""version"": ""bcd0c9b4b4a19d4a4125e0a6a3f808a843a74fa1"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""ceph_api"", ""vcs"": null, ""version"": ""0.4.0"" }, { ""type"": ""python_module"", ""package"": ""dnspython3"", ""vcs"": null, ""version"": ""1.15.0"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.5.1"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""41.6.0"" }, { ""type"": ""python_module"", ""package"": ""pyxattr"", ""vcs"": null, ""version"": ""0.7.2"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""2.10.1"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""18.1"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""20.4.0"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""1.1.1"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/21.04"", ""version"": ""8c48d2914b0e7396a2392c3933e2d7f321643ae6"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.33.6"" }, { ""type"": ""python_module"", ""package"": ""charms.ceph"", ""url"": ""git+https://github.com/openstack/charms.ceph.git"", ""branch"": ""refs/heads/master"", ""version"": ""9bfe43ee654d016d7f09ede406c45674821f2866"", ""vcs"": ""git"" }, { ""vcs"": null, ""type"": ""python_module"", ""package"": ""Tempita"", ""version"": ""0.5.2"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.2"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""1.17.0"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.8.0"" }, { ""vcs"": null, ""vcs"": null,} ",146,144
openstack%2Fcharm-keystone-saml-mellon~master~I82628ab1dca69cbb7c19b43f548d21d26fcf8736,openstack/charm-keystone-saml-mellon,master,I82628ab1dca69cbb7c19b43f548d21d26fcf8736,21.04 libraries freeze for charms on master branch,MERGED,2021-04-03 19:26:55.000000000,2021-04-10 02:49:41.000000000,2021-04-10 02:49:41.000000000,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-03 19:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/f9f8a737e8a40a88496b5f3cf10d96a614072340', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I82628ab1dca69cbb7c19b43f548d21d26fcf8736\n'}, {'number': 2, 'created': '2021-04-07 19:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/9edd88c67892dc8da1accc9e4debb5ced571f3ea', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\n* lock cryptography <= 3.2.1 if python_version < 3.6 as\n  version 3.3 drops py35 support.\n\nChange-Id: I82628ab1dca69cbb7c19b43f548d21d26fcf8736\n'}, {'number': 3, 'created': '2021-04-07 20:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/bc54f2fbcda9c29f850120f622ef771e2ef59708', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\n* lock cryptography <= 3.2.1 in wheelhouse if\n  python_version < 3.6 as version 3.3 drops py35 support.\n\nChange-Id: I82628ab1dca69cbb7c19b43f548d21d26fcf8736\n'}, {'number': 4, 'created': '2021-04-08 13:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/b67fec3e1c879b96afe423fdba7edcb61d681bd1', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\n* lock cryptography <= 3.2.1 in wheelhouse if\n  python_version < 3.6 as version 3.3 drops py35 support.\n\nChange-Id: I82628ab1dca69cbb7c19b43f548d21d26fcf8736\n'}, {'number': 5, 'created': '2021-04-08 13:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/c07fcf57326b43de04d8ef2d2697e0de44baa319', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I82628ab1dca69cbb7c19b43f548d21d26fcf8736\n'}, {'number': 6, 'created': '2021-04-09 20:40:18.000000000', 'files': ['test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/f86db02b7ed2907328d59281cc7a34226a5915b4', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I82628ab1dca69cbb7c19b43f548d21d26fcf8736\n'}]",0,784661,f86db02b7ed2907328d59281cc7a34226a5915b4,30,5,6,20870,,,0,"21.04 libraries freeze for charms on master branch

* charm-helpers sync for classic charms
* build.lock file for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure stable/21.04 branch for charms.openstack
  - ensure stable/21.04 branch for charm-helpers

Change-Id: I82628ab1dca69cbb7c19b43f548d21d26fcf8736
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/61/784661/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'tox.ini']",5,f9f8a737e8a40a88496b5f3cf10d96a614072340,libraries-sync-21-04, charm-build --log-level DEBUG --use-lock-file-branches -o {toxinidir}/build/builds src {posargs} [testenv:add-build-lock-file] basepython = python3 commands = charm-build --log-level DEBUG --write-lock-file -o {toxinidir}/build/builds src {posargs}, charm-build --log-level DEBUG -o {toxinidir}/build/builds src {posargs},223,6
openstack%2Fswift~master~I9e15762e6886b3f63f20da2452de55e699a32900,openstack/swift,master,I9e15762e6886b3f63f20da2452de55e699a32900,Fix reclaim to use RECLAIM_PAGE_SIZE batches,MERGED,2021-04-08 14:05:16.000000000,2021-04-10 01:57:33.000000000,2021-04-10 01:56:09.000000000,"[{'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 14:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4f3ea9d6f882c862a33e1a0cd6b63bc0f77fee5b', 'message': 'Fix reclaim to use RECLAIM_PAGE_SIZE batches\n\nThe batched reclaim would previously take batches of size\nRECLAIM_PAGE_SIZE + 1 from the database: fixed this to be\nRECLAIM_PAGE_SIZE.\n\nChange-Id: I9e15762e6886b3f63f20da2452de55e699a32900\n'}, {'number': 2, 'created': '2021-04-09 15:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/66e48542dfcd3c19428b28f35bb1cda9e4385cf1', 'message': 'Fix reclaim to use RECLAIM_PAGE_SIZE batches\n\nThe batched reclaim would previously take batches of size\nRECLAIM_PAGE_SIZE + 1 from the database: fixed this to be\nRECLAIM_PAGE_SIZE.\n\nChange-Id: I9e15762e6886b3f63f20da2452de55e699a32900\n'}, {'number': 3, 'created': '2021-04-09 15:57:27.000000000', 'files': ['swift/common/db.py', 'test/unit/common/test_db.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/751deb9881947eda4f5880a92cadbd0a13663c32', 'message': 'Fix reclaim to use RECLAIM_PAGE_SIZE batches\n\nThe batched reclaim would previously take batches of size\nRECLAIM_PAGE_SIZE + 1 from the database: fixed this to be\nRECLAIM_PAGE_SIZE.\n\nChange-Id: I9e15762e6886b3f63f20da2452de55e699a32900\n'}]",7,785425,751deb9881947eda4f5880a92cadbd0a13663c32,15,3,3,7847,,,0,"Fix reclaim to use RECLAIM_PAGE_SIZE batches

The batched reclaim would previously take batches of size
RECLAIM_PAGE_SIZE + 1 from the database: fixed this to be
RECLAIM_PAGE_SIZE.

Change-Id: I9e15762e6886b3f63f20da2452de55e699a32900
",git fetch https://review.opendev.org/openstack/swift refs/changes/25/785425/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/db.py', 'test/unit/container/test_backend.py', 'test/unit/account/test_backend.py']",3,4f3ea9d6f882c862a33e1a0cd6b63bc0f77fee5b,p-shard-shrinking-use-tombstones," mock.patch('swift.common.db.RECLAIM_PAGE_SIZE', 11):"," mock.patch('swift.common.db.RECLAIM_PAGE_SIZE', 10):",3,3
openstack%2Fcyborg~stable%2Fvictoria~I47ece21ca2c365b2bf9aedc1d5a2592d6c772b4d,openstack/cyborg,stable/victoria,I47ece21ca2c365b2bf9aedc1d5a2592d6c772b4d,Remove personal name in the docs,MERGED,2021-04-09 09:37:03.000000000,2021-04-10 01:30:43.000000000,2021-04-10 01:29:38.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}]","[{'number': 1, 'created': '2021-04-09 09:37:03.000000000', 'files': ['doc/api_samples/accelerator_requests/accelerator_requests-after-update-resp.json', 'doc/api_samples/accelerator_requests/accelerator_requests-before-update-resp.json'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/cf3a6823bb0d44af5607fde95e38771b0a698a3d', 'message': 'Remove personal name in the docs\n\nCloses-Bug: #1923009\n\nChange-Id: I47ece21ca2c365b2bf9aedc1d5a2592d6c772b4d\n(cherry picked from commit a8979b263424d7e9ad66a7a50182ee7d4e2decc5)\n(cherry picked from commit 7fbae955363fb8fc1366e92ee5502495ddbc61c2)\n'}]",0,785596,cf3a6823bb0d44af5607fde95e38771b0a698a3d,9,2,1,26458,,,0,"Remove personal name in the docs

Closes-Bug: #1923009

Change-Id: I47ece21ca2c365b2bf9aedc1d5a2592d6c772b4d
(cherry picked from commit a8979b263424d7e9ad66a7a50182ee7d4e2decc5)
(cherry picked from commit 7fbae955363fb8fc1366e92ee5502495ddbc61c2)
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/96/785596/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/api_samples/accelerator_requests/accelerator_requests-after-update-resp.json', 'doc/api_samples/accelerator_requests/accelerator_requests-before-update-resp.json']",2,cf3a6823bb0d44af5607fde95e38771b0a698a3d,bug/1923009," ""device_profile_name"":""device-profile-name1"","," ""device_profile_name"":""chenke-dp1"",",2,2
openstack%2Ftripleo-ci~master~I9a59a114630eb4c97ddb158504bcc56ae8bdfbaf,openstack/tripleo-ci,master,I9a59a114630eb4c97ddb158504bcc56ae8bdfbaf,define a job specifically for repoclosure,MERGED,2021-04-09 18:22:19.000000000,2021-04-10 01:13:05.000000000,2021-04-10 01:13:05.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-09 18:22:19.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4db03f5e1e51777caf836adda1b5e1371e4ffc22', 'message': 'define a job specifically for repoclosure\n\nChange-Id: I9a59a114630eb4c97ddb158504bcc56ae8bdfbaf\n'}]",0,785690,4db03f5e1e51777caf836adda1b5e1371e4ffc22,9,4,1,9592,,,0,"define a job specifically for repoclosure

Change-Id: I9a59a114630eb4c97ddb158504bcc56ae8bdfbaf
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/90/785690/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,4db03f5e1e51777caf836adda1b5e1371e4ffc22,, - job: name: tripleo-ci-centos-8-repoclosure parent: tripleo-ci-base-standalone-centos-8 branches: ^(?!stable/(newton|ocata|pike|queens|stein)).*$ vars: featureset: '052' repoclosure: true playbooks: - quickstart.yml - multinode-standalone-repoclosure.yml,,11,0
openstack%2Fpython-openstackclient~master~I47261a32bd3b106a589974d3de5bf2a6ebd57263,openstack/python-openstackclient,master,I47261a32bd3b106a589974d3de5bf2a6ebd57263,Add support for token caching,MERGED,2020-12-05 14:42:54.000000000,2021-04-09 23:30:19.000000000,2021-04-09 23:29:03.000000000,"[{'_account_id': 10420}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-05 14:42:54.000000000', 'files': ['openstackclient/common/clientmanager.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/30d5f14a700dd53d80e0fbedefd9b1ad337390f9', 'message': 'Add support for token caching\n\nSDK starts caching token in keyring (when available and configured). A\nsmall change is required in OSC not to reject this state.\nOverall this helps avoiding reauthentication upon next openstack call.\nIf token is not valid anymore automatically reauthentication is done.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/735352\nDepends-On: https://review.opendev.org/c/openstack/osc-lib/+/765650\nChange-Id: I47261a32bd3b106a589974d3de5bf2a6ebd57263\n'}]",0,765652,30d5f14a700dd53d80e0fbedefd9b1ad337390f9,13,3,1,27900,,,0,"Add support for token caching

SDK starts caching token in keyring (when available and configured). A
small change is required in OSC not to reject this state.
Overall this helps avoiding reauthentication upon next openstack call.
If token is not valid anymore automatically reauthentication is done.

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/735352
Depends-On: https://review.opendev.org/c/openstack/osc-lib/+/765650
Change-Id: I47261a32bd3b106a589974d3de5bf2a6ebd57263
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/52/765652/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/common/clientmanager.py'],1,30d5f14a700dd53d80e0fbedefd9b1ad337390f9,," # We might already get auth from SDK caching if not self._cli_options._auth: self._cli_options._auth = \ self._cli_options._openstack_config.load_auth_plugin( self._cli_options.config, )"," self._cli_options._auth = \ self._cli_options._openstack_config.load_auth_plugin( self._cli_options.config, )",6,4
openstack%2Fdevstack~stable%2Frocky~Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90,openstack/devstack,stable/rocky,Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90,Make stackviz tasks not to fail jobs,MERGED,2021-04-08 18:26:00.000000000,2021-04-09 23:17:16.000000000,2021-04-09 23:17:16.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-08 18:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a2856adb9aec47aa7b7538b6c5649ba392a15c41', 'message': ""Make stackviz tasks not to fail jobs\n\nDue to issue on stckviz side, job start\nfailing with POST_FAILURE. If we fix the\nissue still we need to wait for periodic job\nperiodic-package-stackviz-element to publish\nthe latest tarball on https://tarballs.openstack.org/stackviz/dist/.\n\nLet's not fail the job for any issue occur during\nstackviz processing.\n\nCloses-Bug: 1863161\n\nChange-Id: Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90\n""}, {'number': 2, 'created': '2021-04-08 22:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/96546e7e6b513609426764c392e2dcf3ab2e9300', 'message': ""Make stackviz tasks not to fail jobs\n\nDue to issue on stckviz side, job start\nfailing with POST_FAILURE. If we fix the\nissue still we need to wait for periodic job\nperiodic-package-stackviz-element to publish\nthe latest tarball on https://tarballs.openstack.org/stackviz/dist/.\n\nLet's not fail the job for any issue occur during\nstackviz processing.\n\nCloses-Bug: 1863161\n\nChange-Id: Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90\n""}, {'number': 3, 'created': '2021-04-09 01:22:46.000000000', 'files': ['roles/process-stackviz/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/bfd3d9cd0d006da73e3cc2f28921b3819ff9ba5f', 'message': ""Make stackviz tasks not to fail jobs\n\nDue to issue on stckviz side, job start\nfailing with POST_FAILURE. If we fix the\nissue still we need to wait for periodic job\nperiodic-package-stackviz-element to publish\nthe latest tarball on https://tarballs.openstack.org/stackviz/dist/.\n\nLet's not fail the job for any issue occur during\nstackviz processing.\n\nCloses-Bug: 1863161\n\nChange-Id: Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90\n(cherry picked from commit 580fec54c3a970de80ab66b3decca69704ff1179)\n(cherry picked from commit 800eb4dd446f93734d420005f93d0dcb88564dd4)\n(cherry picked from commit 3b2feba2ef6a08f639b36bfe995705ec3a785ff8)\n(cherry picked from commit 4f9c1e084c8d762c873549e8fc9524d6ee24f1c1)\n(cherry picked from commit 2873b5530d263b98642605b12bb62f0b18fa933d)\n(cherry picked from commit a4649799169550f02518b96c9b1cbd870f8cf248)\n""}]",0,785388,bfd3d9cd0d006da73e3cc2f28921b3819ff9ba5f,14,4,3,8556,,,0,"Make stackviz tasks not to fail jobs

Due to issue on stckviz side, job start
failing with POST_FAILURE. If we fix the
issue still we need to wait for periodic job
periodic-package-stackviz-element to publish
the latest tarball on https://tarballs.openstack.org/stackviz/dist/.

Let's not fail the job for any issue occur during
stackviz processing.

Closes-Bug: 1863161

Change-Id: Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90
(cherry picked from commit 580fec54c3a970de80ab66b3decca69704ff1179)
(cherry picked from commit 800eb4dd446f93734d420005f93d0dcb88564dd4)
(cherry picked from commit 3b2feba2ef6a08f639b36bfe995705ec3a785ff8)
(cherry picked from commit 4f9c1e084c8d762c873549e8fc9524d6ee24f1c1)
(cherry picked from commit 2873b5530d263b98642605b12bb62f0b18fa933d)
(cherry picked from commit a4649799169550f02518b96c9b1cbd870f8cf248)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/88/785388/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/process-stackviz/tasks/main.yaml'],1,a2856adb9aec47aa7b7538b6c5649ba392a15c41,bug/1863161,"- name: Process Stackviz block: - name: Devstack checks if stackviz archive exists stat: path: ""/opt/cache/files/stackviz-latest.tar.gz"" register: stackviz_archive - debug: msg: ""Stackviz archive could not be found in /opt/cache/files/stackviz-latest.tar.gz"" when: not stackviz_archive.stat.exists - name: Check if subunit data exists stat: path: ""{{ zuul_work_dir }}/testrepository.subunit"" register: subunit_input - debug: msg: ""Subunit file could not be found at {{ zuul_work_dir }}/testrepository.subunit"" when: not subunit_input.stat.exists - name: Install stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists block: - include_role: name: ensure-pip - pip: name: ""file://{{ stackviz_archive.stat.path }}"" virtualenv: /tmp/stackviz virtualenv_command: '{{ ensure_pip_virtualenv_command }}' extra_args: -U - name: Deploy stackviz static html+js command: cp -pR /tmp/stackviz/share/stackviz-html {{ stage_dir }}/stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Check if dstat data exists stat: path: ""{{ devstack_base_dir }}/logs/dstat-csv.log"" register: dstat_input when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Run stackviz with dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --dstat ""{{ devstack_base_dir }}/logs/dstat-csv.log"" \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - dstat_input.stat.exists - name: Run stackviz without dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - not dstat_input.stat.exists ","- name: Devstack checks if stackviz archive exists stat: path: ""/opt/cache/files/stackviz-latest.tar.gz"" register: stackviz_archive - debug: msg: ""Stackviz archive could not be found in /opt/cache/files/stackviz-latest.tar.gz"" when: not stackviz_archive.stat.exists - name: Check if subunit data exists stat: path: ""{{ zuul_work_dir }}/testrepository.subunit"" register: subunit_input - debug: msg: ""Subunit file could not be found at {{ zuul_work_dir }}/testrepository.subunit"" when: not subunit_input.stat.exists - name: Install stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists block: - include_role: name: ensure-pip - pip: name: ""file://{{ stackviz_archive.stat.path }}"" virtualenv: /tmp/stackviz virtualenv_command: '{{ ensure_pip_virtualenv_command }}' extra_args: -U - name: Deploy stackviz static html+js command: cp -pR /tmp/stackviz/share/stackviz-html {{ stage_dir }}/stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Check if dstat data exists stat: path: ""{{ devstack_base_dir }}/logs/dstat-csv.log"" register: dstat_input when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Run stackviz with dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --dstat ""{{ devstack_base_dir }}/logs/dstat-csv.log"" \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - dstat_input.stat.exists failed_when: False - name: Run stackviz without dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - not dstat_input.stat.exists",66,63
openstack%2Fcharm-rabbitmq-server~master~Ifbb15c0c04117a5a98672b2af4fd7203dae9a18e,openstack/charm-rabbitmq-server,master,Ifbb15c0c04117a5a98672b2af4fd7203dae9a18e,Implementation of deferred restarts,MERGED,2021-03-29 16:05:05.000000000,2021-04-09 23:14:15.000000000,2021-04-09 22:49:27.000000000,"[{'_account_id': 8992}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-29 16:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/e3a1aba85b498f0db9859a710fa549c6ab073987', 'message': 'Implementation of deferred restarts\n\nAdd deferred restart actions and config.\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/508\n\nChange-Id: Ifbb15c0c04117a5a98672b2af4fd7203dae9a18e\n'}, {'number': 2, 'created': '2021-03-29 16:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/2126f4287590230d7b302476d03d0f2a6c79be3e', 'message': 'Implementation of deferred restarts\n\nAdd deferred event actions and config.\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/508\n\nChange-Id: Ifbb15c0c04117a5a98672b2af4fd7203dae9a18e\n'}, {'number': 3, 'created': '2021-04-06 10:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/c7e8faf8a8d53ef2ae676ae4a610b11460cb04b5', 'message': 'Implementation of deferred restarts\n\nAdd deferred event actions and config.\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/508\n\nChange-Id: Ifbb15c0c04117a5a98672b2af4fd7203dae9a18e\n'}, {'number': 4, 'created': '2021-04-06 17:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/413f12622a50c746dd15ac2fab936c70ab8f4db7', 'message': 'Implementation of deferred restarts\n\nAdd deferred event actions and config.\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/508\n\nChange-Id: Ifbb15c0c04117a5a98672b2af4fd7203dae9a18e\n'}, {'number': 5, 'created': '2021-04-07 07:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/40902a2befb2ee840b2c296080260a83ffc60537', 'message': 'Implementation of deferred restarts\n\nAdd deferred event actions and config.\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/508\n\nChange-Id: Ifbb15c0c04117a5a98672b2af4fd7203dae9a18e\n'}, {'number': 6, 'created': '2021-04-08 13:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/114a672f56b1944e4d1d993df0c0ab5ad87b5f89', 'message': 'Implementation of deferred restarts\n\nAdd deferred event actions and config.\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/539\n\nChange-Id: Ifbb15c0c04117a5a98672b2af4fd7203dae9a18e\n'}, {'number': 7, 'created': '2021-04-08 13:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/585f7951eacffe23a453204f35a7e9cda75dd918', 'message': 'Implementation of deferred restarts\n\nAdd deferred event actions and config.\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/540\n\nChange-Id: Ifbb15c0c04117a5a98672b2af4fd7203dae9a18e\n'}, {'number': 8, 'created': '2021-04-08 14:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/340d81612b15ed48aebc85879c66bd6f8f5e8191', 'message': 'Implementation of deferred restarts\n\nAdd deferred event actions and config.\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/541\n\nChange-Id: Ifbb15c0c04117a5a98672b2af4fd7203dae9a18e\n'}, {'number': 9, 'created': '2021-04-08 19:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/c89b411c5b33e73302b668b213952919341aab95', 'message': 'Implementation of deferred restarts\n\nAdd deferred event actions and config.\n\nChange-Id: Ifbb15c0c04117a5a98672b2af4fd7203dae9a18e\n'}, {'number': 10, 'created': '2021-04-08 20:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/164615252f01079be4f38f1a104d4be53bd55c7c', 'message': 'Implementation of deferred restarts\n\nAdd deferred event actions and config.\n\nChange-Id: Ifbb15c0c04117a5a98672b2af4fd7203dae9a18e\n'}, {'number': 11, 'created': '2021-04-09 12:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/3827bb9835e0c6fdb58b2f08388546815ff517c4', 'message': 'Implementation of deferred restarts\n\nAdd deferred event actions and config.\n\nChange-Id: Ifbb15c0c04117a5a98672b2af4fd7203dae9a18e\n'}, {'number': 12, 'created': '2021-04-09 16:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/bd833f9626e6a6f366eb62b96dc88d72e7772877', 'message': 'Implementation of deferred restarts\n\nAdd deferred event actions and config.\n\nChange-Id: Ifbb15c0c04117a5a98672b2af4fd7203dae9a18e\n'}, {'number': 13, 'created': '2021-04-09 19:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/fd02213675de26497242b6d74e8b7e3ddc7dd8a7', 'message': 'Implementation of deferred restarts\n\nAdd deferred event actions and config.\n\nChange-Id: Ifbb15c0c04117a5a98672b2af4fd7203dae9a18e\n'}, {'number': 14, 'created': '2021-04-09 21:11:36.000000000', 'files': ['unit_tests/test_rabbit_utils.py', 'actions/restart-services', 'hooks/rabbitmq_server_relations.py', 'config.yaml', 'actions/show-deferred-events', 'actions/run-deferred-hooks', 'tests/tests.yaml', 'unit_tests/test_rabbitmq_server_relations.py', 'actions/actions.py', 'hooks/ssl_utils.py', 'unit_tests/test_actions.py', 'hooks/rabbit_utils.py', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/81c33953f918abca8d63fa80cf492d37c9326ce6', 'message': 'Implementation of deferred restarts\n\nAdd deferred event actions and config.\n\nChange-Id: Ifbb15c0c04117a5a98672b2af4fd7203dae9a18e\n'}]",5,783700,81c33953f918abca8d63fa80cf492d37c9326ce6,79,5,14,12549,,,0,"Implementation of deferred restarts

Add deferred event actions and config.

Change-Id: Ifbb15c0c04117a5a98672b2af4fd7203dae9a18e
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/00/783700/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'unit_tests/test_rabbit_utils.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/core/hookenv.py', 'actions/restart-services', 'hooks/rabbitmq_server_relations.py', 'charmhelpers/contrib/openstack/files/policy_rc_d_script.py', 'config.yaml', 'actions/show-deferred-events', 'actions/run-deferred-hooks', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/core/host_factory/ubuntu.py', 'tests/tests.yaml', 'unit_tests/test_rabbitmq_server_relations.py', 'actions/actions.py', 'hooks/ssl_utils.py', 'unit_tests/test_actions.py', 'charmhelpers/contrib/openstack/policy_rcd.py', 'hooks/rabbit_utils.py', 'actions.yaml', 'charmhelpers/contrib/openstack/exceptions.py']",22,e3a1aba85b498f0db9859a710fa549c6ab073987,deferred-restarts," class ServiceActionError(Exception): """"""Raised when a service action (stop/start/ etc) failed."""""" pass",,1175,29
openstack%2Fcinder~master~Id6b27eb7b90c8a8c91fb46de69aa94b8210da18d,openstack/cinder,master,Id6b27eb7b90c8a8c91fb46de69aa94b8210da18d,Add warning message about slow volume backend,MERGED,2020-12-11 15:35:26.000000000,2021-04-09 22:10:15.000000000,2021-04-08 07:10:05.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2020-12-11 15:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f18c107a10324c402ad7644aead61af5d4d51103', 'message': 'Add warning message about slow volume backend\n\nIf a volume driver takes an excessively long amount\nof time to return volume stats info, the only indication\nif this is a generic ""Function outlasted interval"" message\nthat doesn\'t really explain what is going on.\n\nIntroduce a specific log message when this happens so\nthat this situation is more clear for someone looking\nat cinder-volume logs.\n\nThe message is set to trigger if the driver takes more\nthan half of the stats polling interval to complete.\n\nChange-Id: Id6b27eb7b90c8a8c91fb46de69aa94b8210da18d\n'}, {'number': 2, 'created': '2020-12-17 15:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0d2da523eb6275ce733a0f338a444f9103b2cdbe', 'message': 'Add warning message about slow volume backend\n\nIf a volume driver takes an excessively long amount\nof time to return volume stats info, the only indication\nif this is a generic ""Function outlasted interval"" message\nthat doesn\'t really explain what is going on.\n\nIntroduce a specific log message when this happens so\nthat this situation is more clear for someone looking\nat cinder-volume logs.\n\nThe message is set to trigger if the driver takes more\nthan half of the stats polling interval to complete.\n\nChange-Id: Id6b27eb7b90c8a8c91fb46de69aa94b8210da18d\n'}, {'number': 3, 'created': '2021-03-02 16:44:39.000000000', 'files': ['cinder/volume/manager.py', 'releasenotes/notes/slow-get-volume-stats-91b84c6e661dc605.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6d85d05f7847defcd972b1702ab9b14f22e60d4e', 'message': 'Add warning message about slow volume backend\n\nIf a volume driver takes an excessively long amount\nof time to return volume stats info, the only indication\nif this is a generic ""Function outlasted interval"" message\nthat doesn\'t really explain what is going on.\n\nIntroduce a specific log message when this happens so\nthat this situation is more clear for someone looking\nat cinder-volume logs.\n\nThe message is set to trigger if the driver takes more\nthan half of the stats polling interval to complete.\n\nChange-Id: Id6b27eb7b90c8a8c91fb46de69aa94b8210da18d\n'}]",4,766751,6d85d05f7847defcd972b1702ab9b14f22e60d4e,107,5,3,4523,,,0,"Add warning message about slow volume backend

If a volume driver takes an excessively long amount
of time to return volume stats info, the only indication
if this is a generic ""Function outlasted interval"" message
that doesn't really explain what is going on.

Introduce a specific log message when this happens so
that this situation is more clear for someone looking
at cinder-volume logs.

The message is set to trigger if the driver takes more
than half of the stats polling interval to complete.

Change-Id: Id6b27eb7b90c8a8c91fb46de69aa94b8210da18d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/51/766751/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,f18c107a10324c402ad7644aead61af5d4d51103,," slowmsg = ""The "" + self.driver.__class__.__name__ + "" volume "" \ ""driver's get_volume_stats operation ran for "" \ ""%(seconds).1f seconds. This may indicate a "" \ ""performance problem with the backend which can lead "" \ ""to instability."" @timeutils.time_it( LOG, log_level=logging.WARN, message=slowmsg, min_duration=CONF.backend_stats_polling_interval / 2) def get_stats(): return self.driver.get_volume_stats(refresh=True) volume_stats = get_stats() ", volume_stats = self.driver.get_volume_stats(refresh=True),14,1
openstack%2Fcharm-neutron-gateway~master~I6aeceae10b7a25ba5bfd6f2cb07f510a9481d0ba,openstack/charm-neutron-gateway,master,I6aeceae10b7a25ba5bfd6f2cb07f510a9481d0ba,Implementation of deferred restarts,MERGED,2021-04-09 06:59:40.000000000,2021-04-09 21:25:29.000000000,2021-04-09 16:14:04.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-09 06:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/9247a62bf7c1291bf5f5971698f1b1898bcf62b4', 'message': 'Implementation of deferred restarts\n\nAdd deferred restart actions and config.\n\nChange-Id: I6aeceae10b7a25ba5bfd6f2cb07f510a9481d0ba\n'}, {'number': 2, 'created': '2021-04-09 12:54:38.000000000', 'files': ['tests/tests.yaml', 'actions/actions.py', 'unit_tests/test_neutron_hooks.py', 'actions/restart-services', 'config.yaml', 'actions/show-deferred-events', 'actions/run-deferred-hooks', 'hooks/neutron_utils.py', 'hooks/neutron_hooks.py', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/b3f6993f2031233c8a90a300396fe7fef75334ec', 'message': 'Implementation of deferred restarts\n\nAdd deferred restart actions and config.\n\nChange-Id: I6aeceae10b7a25ba5bfd6f2cb07f510a9481d0ba\n'}]",0,785561,b3f6993f2031233c8a90a300396fe7fef75334ec,15,3,2,12549,,,0,"Implementation of deferred restarts

Add deferred restart actions and config.

Change-Id: I6aeceae10b7a25ba5bfd6f2cb07f510a9481d0ba
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/61/785561/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'actions/actions.py', 'test-requirements.txt', 'unit_tests/test_neutron_hooks.py', 'actions/restart-services', 'config.yaml', 'actions/show-deferred-events', 'actions/run-deferred-hooks', 'hooks/neutron_utils.py', 'actions.yaml', 'hooks/neutron_hooks.py']",11,9247a62bf7c1291bf5f5971698f1b1898bcf62b4,deferred-restarts,"from charmhelpers.contrib.openstack.deferred_events import ( configure_deferred_restarts, deferrable_svc_restart, ) os_restart_on_change as restart_on_change, pkg_services, configure_deferred_restarts(pkg_services()) deferrable_svc_restart(s, 'Package purge detected') deferrable_svc_restart( 'nova-api-metadata', 'Restart trigger received')","from charmhelpers.core.host import service_restart pausable_restart_on_change as restart_on_change, service_restart(s) service_restart('nova-api-metadata')",110,12
openstack%2Fbarbican-tempest-plugin~master~I2272f5cd2385df15cc7761e8b858dfd39be955d4,openstack/barbican-tempest-plugin,master,I2272f5cd2385df15cc7761e8b858dfd39be955d4,Add secure-rbac tests for Containers,MERGED,2021-03-31 19:57:40.000000000,2021-04-09 21:20:41.000000000,2021-04-07 09:25:07.000000000,"[{'_account_id': 5046}, {'_account_id': 9914}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-03-31 19:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/62d706e77549375ce152bd134353ebbb83664d9b', 'message': 'Add secure-rbac tests for Containers\n\nThis patch adds basic RBAC testing for the Containers resource for\nreader, member and admin personas.\n\nDepends-On: Ib780fe16282ea338e98c9c34b31d80bebafdcf52\nChange-Id: I2272f5cd2385df15cc7761e8b858dfd39be955d4\n'}, {'number': 2, 'created': '2021-03-31 20:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/26748be380e39618c22b180c2b06167294912783', 'message': 'Add secure-rbac tests for Containers\n\nThis patch adds basic RBAC testing for the Containers resource for\nreader, member and admin personas.\n\nDepends-On: Ib780fe16282ea338e98c9c34b31d80bebafdcf52\nChange-Id: I2272f5cd2385df15cc7761e8b858dfd39be955d4\n'}, {'number': 3, 'created': '2021-04-01 13:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/01e76036127e36d7b983b39144cfea3f47a01827', 'message': 'Add secure-rbac tests for Containers\n\nThis patch adds basic RBAC testing for the Containers resource for\nreader, member and admin personas.\n\nDepends-On: I6879f566117db5ec0099ddad35ba649a3c674bd1\nChange-Id: I2272f5cd2385df15cc7761e8b858dfd39be955d4\n'}, {'number': 4, 'created': '2021-04-01 22:05:55.000000000', 'files': ['barbican_tempest_plugin/services/key_manager/json/base.py', 'barbican_tempest_plugin/tests/rbac/v1/base.py', 'barbican_tempest_plugin/services/key_manager/json/container_client.py', 'barbican_tempest_plugin/tests/rbac/v1/test_containers.py', 'barbican_tempest_plugin/tests/rbac/v1/test_secrets.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/db9b512ead907f42a8a767a73cc44a240437e542', 'message': 'Add secure-rbac tests for Containers\n\nThis patch adds basic RBAC testing for the Containers resource for\nreader, member and admin personas with project scope.\n\nDepends-On: I6879f566117db5ec0099ddad35ba649a3c674bd1\nChange-Id: I2272f5cd2385df15cc7761e8b858dfd39be955d4\n'}]",14,784160,db9b512ead907f42a8a767a73cc44a240437e542,17,5,4,7973,,,0,"Add secure-rbac tests for Containers

This patch adds basic RBAC testing for the Containers resource for
reader, member and admin personas with project scope.

Depends-On: I6879f566117db5ec0099ddad35ba649a3c674bd1
Change-Id: I2272f5cd2385df15cc7761e8b858dfd39be955d4
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/60/784160/4 && git format-patch -1 --stdout FETCH_HEAD,"['barbican_tempest_plugin/services/key_manager/json/base.py', 'barbican_tempest_plugin/tests/rbac/v1/base.py', 'barbican_tempest_plugin/services/key_manager/json/container_client.py', 'barbican_tempest_plugin/tests/rbac/v1/test_containers.py', 'barbican_tempest_plugin/tests/rbac/v1/test_secrets.py']",5,62d706e77549375ce152bd134353ebbb83664d9b,secure-rbac," raise NotImplementedError raise NotImplementedError raise NotImplementedError raise NotImplementedError raise NotImplementedError raise NotImplementedError uuid = self.ref_to_uuid(sec['secret_ref']) uuid = self.ref_to_uuid(sec['secret_ref']) self.assertEqual(uuid, self.ref_to_uuid(resp['secret_ref'])) uuid = self.ref_to_uuid(sec['secret_ref']) uuid = self.ref_to_uuid(sec['secret_ref']) uuid = self.ref_to_uuid(sec['secret_ref']) uuid = self.ref_to_uuid(sec['secret_ref']) uuid = self.ref_to_uuid(sec['secret_ref']) uuid = self.ref_to_uuid(sec['secret_ref'])"," pass pass pass pass pass pass uuid = rbac_base._get_uuid(sec['secret_ref']) uuid = rbac_base._get_uuid(sec['secret_ref']) self.assertEqual(uuid, rbac_base._get_uuid(resp['secret_ref'])) uuid = rbac_base._get_uuid(sec['secret_ref']) uuid = rbac_base._get_uuid(sec['secret_ref']) uuid = rbac_base._get_uuid(sec['secret_ref']) uuid = rbac_base._get_uuid(sec['secret_ref']) uuid = rbac_base._get_uuid(sec['secret_ref']) uuid = rbac_base._get_uuid(sec['secret_ref'])",328,36
openstack%2Fbarbican-tempest-plugin~master~I290b808bbb8be26da281cf8971661c44fede71b0,openstack/barbican-tempest-plugin,master,I290b808bbb8be26da281cf8971661c44fede71b0,Add secure-rbac tests for Quotas,MERGED,2021-04-01 18:07:54.000000000,2021-04-09 21:17:30.000000000,2021-04-07 09:25:31.000000000,"[{'_account_id': 5046}, {'_account_id': 9914}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-04-01 18:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/deb618937891fb0aaee2f4f407a89a50541cfaaa', 'message': 'Add secure-rbac tests for Quotas\n\nThis patch adds basic secure-rbac testing for the Quotas resource\nfor the reader, member, and admin personas.\n\nChange-Id: I290b808bbb8be26da281cf8971661c44fede71b0\n'}, {'number': 2, 'created': '2021-04-01 18:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/14afff748de5727b355b365938a7b2c593aef806', 'message': 'Add secure-rbac tests for Quotas\n\nThis patch adds basic secure-rbac testing for the Quotas resource\nfor the reader, member, and admin personas.\n\nChange-Id: I290b808bbb8be26da281cf8971661c44fede71b0\n'}, {'number': 3, 'created': '2021-04-01 22:05:55.000000000', 'files': ['barbican_tempest_plugin/tests/rbac/v1/base.py', 'barbican_tempest_plugin/services/key_manager/json/quota_client.py', 'barbican_tempest_plugin/tests/rbac/v1/test_quotas.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/98b7523de340c2b411f4a705cfd9e415717c42b6', 'message': 'Add secure-rbac tests for Quotas\n\nThis patch adds basic secure-rbac testing for the Quotas resource\nfor the reader, member, and admin personas with project scope.\n\nChange-Id: I290b808bbb8be26da281cf8971661c44fede71b0\n'}]",8,784455,98b7523de340c2b411f4a705cfd9e415717c42b6,15,5,3,7973,,,0,"Add secure-rbac tests for Quotas

This patch adds basic secure-rbac testing for the Quotas resource
for the reader, member, and admin personas with project scope.

Change-Id: I290b808bbb8be26da281cf8971661c44fede71b0
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/55/784455/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican_tempest_plugin/tests/rbac/v1/base.py', 'barbican_tempest_plugin/services/key_manager/json/quota_client.py', 'barbican_tempest_plugin/tests/rbac/v1/test_quotas.py']",3,deb618937891fb0aaee2f4f407a89a50541cfaaa,secure-rbac,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import abc from tempest.lib import exceptions from barbican_tempest_plugin.tests.rbac.v1 import base class BarbicanV1RbacQuota: @abc.abstractmethod def test_get_effective_project_quota(self): """"""Test getting the effective quota information Testing: GET /v1/quotas This test must check: * whether the persona can retrieve the effective quota for their project. """""" raise NotImplementedError @abc.abstractmethod def test_list_project_quotas(self): """"""Test listing all configured project quotas Testing: GET /v1/project-quotas This test must check: * whether the persona can retrieve all modified quotas for the entire system. """""" raise NotImplementedError @abc.abstractmethod def test_get_custom_quota_for_project(self): """"""Test setting a custom quota for a specific project Testing: GET /v1/project-quotas/{project-id} This test must check: * whether the persona can retrieve the custom quota for a specific project. """""" raise NotImplementedError @abc.abstractmethod def test_setting_new_quota_for_project(self): """"""Test setting a custom quota for a specific project Testing: PUT /v1/project-quotas/{project-id} This test must check: * whether the persona can create custom quotas for a specific project. """""" raise NotImplementedError @abc.abstractmethod def test_remove_custom_quota_for_project(self): """"""Test removing a custom quota for a specific project Testing: DELETE /v1/project-quotas/{project-id} This test must check: * whether the persona can delete custom quotas for a specific project. """""" raise NotImplementedError class ProjectMemberTests(base.BarbicanV1RbacBase, BarbicanV1RbacQuota): @classmethod def setup_clients(cls): super().setup_clients() cls.client = cls.os_project_member.secret_v1.QuotaClient() def test_get_effective_project_quota(self): resp = self.do_request('get_default_project_quota') self.assertIn('quotas', resp) def test_list_project_quotas(self): self.do_request('list_quotas', expected_status=exceptions.Forbidden) def test_get_custom_quota_for_project(self): project_id = self.client.tenant_id self.do_request('get_project_quota', expected_status=exceptions.Forbidden, project_id=project_id) def test_setting_new_quota_for_project(self): project_id = self.client.tenant_id self.do_request('create_project_quota', expected_status=exceptions.Forbidden, project_id=project_id) def test_remove_custom_quota_for_project(self): project_id = self.client.tenant_id self.do_request('delete_project_quota', expected_status=exceptions.Forbidden, project_id=project_id) class ProjectAdminTests(ProjectMemberTests): @classmethod def setup_clients(cls): super().setup_clients() cls.client = cls.os_project_admin.secret_v1.QuotaClient() class ProjectReaderTests(ProjectMemberTests): @classmethod def setup_clients(cls): super().setup_clients() cls.client = cls.os_project_reader.secret_v1.QuotaClient() ",,130,6
openstack%2Fcinder-tempest-plugin~master~I5bc99e115a42b2482c336113dfe52fc2710ef01c,openstack/cinder-tempest-plugin,master,I5bc99e115a42b2482c336113dfe52fc2710ef01c,Remove skip tests for project-reader tests,ABANDONED,2021-03-09 19:57:08.000000000,2021-04-09 21:16:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-09 19:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/dc9e55ed12dfc99fb0ca364ab80f570ab7689261', 'message': ""Remove skip tests for project-reader tests\n\nWe skipped these tests originally because cinder's policies don't\ndifferentiate between roles. With updated policies that are moving in a\nconsistent direction across OpenStack, we should honor that the `reader`\nrole is reserved for read-only operations.\n\nRelated-Bug: 1917795\n\nChange-Id: I5bc99e115a42b2482c336113dfe52fc2710ef01c\n""}, {'number': 2, 'created': '2021-03-09 21:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/a46f4fd1bb2f7097e97556b20183a6c7a70e4c0d', 'message': ""Remove skip tests for project-reader tests\n\nWe skipped these tests originally because cinder's policies don't\ndifferentiate between roles. With updated policies that are moving in a\nconsistent direction across OpenStack, we should honor that the `reader`\nrole is reserved for read-only operations.\n\nRelated-Bug: 1917795\n\nChange-Id: I5bc99e115a42b2482c336113dfe52fc2710ef01c\n""}, {'number': 3, 'created': '2021-03-15 21:41:30.000000000', 'files': ['cinder_tempest_plugin/rbac/v3/test_volumes.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/c5763dbd3410b8dc1d8055f2bcfa46f69a184644', 'message': ""Remove skip tests for project-reader tests\n\nWe skipped these tests originally because cinder's policies don't\ndifferentiate between roles. With updated policies that are moving in a\nconsistent direction across OpenStack, we should honor that the `reader`\nrole is reserved for read-only operations.\n\nRelated-Bug: 1917795\n\nChange-Id: I5bc99e115a42b2482c336113dfe52fc2710ef01c\n""}]",0,779573,c5763dbd3410b8dc1d8055f2bcfa46f69a184644,14,1,3,5046,,,0,"Remove skip tests for project-reader tests

We skipped these tests originally because cinder's policies don't
differentiate between roles. With updated policies that are moving in a
consistent direction across OpenStack, we should honor that the `reader`
role is reserved for read-only operations.

Related-Bug: 1917795

Change-Id: I5bc99e115a42b2482c336113dfe52fc2710ef01c
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/73/779573/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/rbac/v3/test_volumes.py'],1,dc9e55ed12dfc99fb0ca364ab80f570ab7689261,secure-rbac,, @decorators.skip_because(bug='1917795') @decorators.skip_because(bug='1917795') @decorators.skip_because(bug='1917795') @decorators.skip_because(bug='1917795') @decorators.skip_because(bug='1917795') @decorators.skip_because(bug='1917795'),0,6
openstack%2Fdevstack~stable%2Fussuri~Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90,openstack/devstack,stable/ussuri,Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90,Make stackviz tasks not to fail jobs,MERGED,2021-04-09 01:18:37.000000000,2021-04-09 21:13:31.000000000,2021-04-09 21:10:03.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-09 01:18:37.000000000', 'files': ['roles/process-stackviz/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4f9c1e084c8d762c873549e8fc9524d6ee24f1c1', 'message': ""Make stackviz tasks not to fail jobs\n\nDue to issue on stckviz side, job start\nfailing with POST_FAILURE. If we fix the\nissue still we need to wait for periodic job\nperiodic-package-stackviz-element to publish\nthe latest tarball on https://tarballs.openstack.org/stackviz/dist/.\n\nLet's not fail the job for any issue occur during\nstackviz processing.\n\nCloses-Bug: 1863161\n\nChange-Id: Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90\n(cherry picked from commit 580fec54c3a970de80ab66b3decca69704ff1179)\n(cherry picked from commit 800eb4dd446f93734d420005f93d0dcb88564dd4)\n(cherry picked from commit 3b2feba2ef6a08f639b36bfe995705ec3a785ff8)\n""}]",0,785546,4f9c1e084c8d762c873549e8fc9524d6ee24f1c1,8,3,1,8556,,,0,"Make stackviz tasks not to fail jobs

Due to issue on stckviz side, job start
failing with POST_FAILURE. If we fix the
issue still we need to wait for periodic job
periodic-package-stackviz-element to publish
the latest tarball on https://tarballs.openstack.org/stackviz/dist/.

Let's not fail the job for any issue occur during
stackviz processing.

Closes-Bug: 1863161

Change-Id: Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90
(cherry picked from commit 580fec54c3a970de80ab66b3decca69704ff1179)
(cherry picked from commit 800eb4dd446f93734d420005f93d0dcb88564dd4)
(cherry picked from commit 3b2feba2ef6a08f639b36bfe995705ec3a785ff8)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/46/785546/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/process-stackviz/tasks/main.yaml'],1,4f9c1e084c8d762c873549e8fc9524d6ee24f1c1,bug/1863161,"- name: Process Stackviz block: - name: Devstack checks if stackviz archive exists stat: path: ""/opt/cache/files/stackviz-latest.tar.gz"" register: stackviz_archive - debug: msg: ""Stackviz archive could not be found in /opt/cache/files/stackviz-latest.tar.gz"" when: not stackviz_archive.stat.exists - name: Check if subunit data exists stat: path: ""{{ zuul_work_dir }}/testrepository.subunit"" register: subunit_input - debug: msg: ""Subunit file could not be found at {{ zuul_work_dir }}/testrepository.subunit"" when: not subunit_input.stat.exists - name: Install stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists block: - include_role: name: ensure-pip - pip: name: ""file://{{ stackviz_archive.stat.path }}"" virtualenv: /tmp/stackviz virtualenv_command: '{{ ensure_pip_virtualenv_command }}' extra_args: -U - name: Deploy stackviz static html+js command: cp -pR /tmp/stackviz/share/stackviz-html {{ stage_dir }}/stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Check if dstat data exists stat: path: ""{{ devstack_base_dir }}/logs/dstat-csv.log"" register: dstat_input when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Run stackviz with dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --dstat ""{{ devstack_base_dir }}/logs/dstat-csv.log"" \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - dstat_input.stat.exists - name: Run stackviz without dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - not dstat_input.stat.exists ignore_errors: yes","- name: Devstack checks if stackviz archive exists stat: path: ""/opt/cache/files/stackviz-latest.tar.gz"" register: stackviz_archive - debug: msg: ""Stackviz archive could not be found in /opt/cache/files/stackviz-latest.tar.gz"" when: not stackviz_archive.stat.exists - name: Check if subunit data exists stat: path: ""{{ zuul_work_dir }}/testrepository.subunit"" register: subunit_input - debug: msg: ""Subunit file could not be found at {{ zuul_work_dir }}/testrepository.subunit"" when: not subunit_input.stat.exists - name: Install stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists block: - include_role: name: ensure-pip - pip: name: ""file://{{ stackviz_archive.stat.path }}"" virtualenv: /tmp/stackviz virtualenv_command: '{{ ensure_pip_virtualenv_command }}' extra_args: -U - name: Deploy stackviz static html+js command: cp -pR /tmp/stackviz/share/stackviz-html {{ stage_dir }}/stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Check if dstat data exists stat: path: ""{{ devstack_base_dir }}/logs/dstat-csv.log"" register: dstat_input when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Run stackviz with dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --dstat ""{{ devstack_base_dir }}/logs/dstat-csv.log"" \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - dstat_input.stat.exists failed_when: False - name: Run stackviz without dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - not dstat_input.stat.exists failed_when: False",67,64
openstack%2Fdevstack~stable%2Fpike~Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90,openstack/devstack,stable/pike,Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90,Make stackviz tasks not to fail jobs,MERGED,2021-04-09 01:31:48.000000000,2021-04-09 21:10:09.000000000,2021-04-09 21:10:09.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-09 01:31:48.000000000', 'files': ['roles/process-stackviz/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/0b6d78247e3ba57f8ac30b071ed4559c69170383', 'message': ""Make stackviz tasks not to fail jobs\n\nDue to issue on stckviz side, job start\nfailing with POST_FAILURE. If we fix the\nissue still we need to wait for periodic job\nperiodic-package-stackviz-element to publish\nthe latest tarball on https://tarballs.openstack.org/stackviz/dist/.\n\nLet's not fail the job for any issue occur during\nstackviz processing.\n\nCloses-Bug: 1863161\n\nChange-Id: Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90\n(cherry picked from commit 580fec54c3a970de80ab66b3decca69704ff1179)\n(cherry picked from commit 800eb4dd446f93734d420005f93d0dcb88564dd4)\n(cherry picked from commit 3b2feba2ef6a08f639b36bfe995705ec3a785ff8)\n(cherry picked from commit 4f9c1e084c8d762c873549e8fc9524d6ee24f1c1)\n(cherry picked from commit 2873b5530d263b98642605b12bb62f0b18fa933d)\n(cherry picked from commit a4649799169550f02518b96c9b1cbd870f8cf248)\n(cherry picked from commit bfd3d9cd0d006da73e3cc2f28921b3819ff9ba5f)\n(cherry picked from commit 775e8f22daa6d6b37fee617468d548f7e67f5db1)\n""}]",0,785550,0b6d78247e3ba57f8ac30b071ed4559c69170383,8,3,1,8556,,,0,"Make stackviz tasks not to fail jobs

Due to issue on stckviz side, job start
failing with POST_FAILURE. If we fix the
issue still we need to wait for periodic job
periodic-package-stackviz-element to publish
the latest tarball on https://tarballs.openstack.org/stackviz/dist/.

Let's not fail the job for any issue occur during
stackviz processing.

Closes-Bug: 1863161

Change-Id: Ifee04f28ecee52e74803f1623aba5cfe5ee5ec90
(cherry picked from commit 580fec54c3a970de80ab66b3decca69704ff1179)
(cherry picked from commit 800eb4dd446f93734d420005f93d0dcb88564dd4)
(cherry picked from commit 3b2feba2ef6a08f639b36bfe995705ec3a785ff8)
(cherry picked from commit 4f9c1e084c8d762c873549e8fc9524d6ee24f1c1)
(cherry picked from commit 2873b5530d263b98642605b12bb62f0b18fa933d)
(cherry picked from commit a4649799169550f02518b96c9b1cbd870f8cf248)
(cherry picked from commit bfd3d9cd0d006da73e3cc2f28921b3819ff9ba5f)
(cherry picked from commit 775e8f22daa6d6b37fee617468d548f7e67f5db1)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/50/785550/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/process-stackviz/tasks/main.yaml'],1,0b6d78247e3ba57f8ac30b071ed4559c69170383,bug/1863161,"- name: Process Stackviz block: - name: Devstack checks if stackviz archive exists stat: path: ""/opt/cache/files/stackviz-latest.tar.gz"" register: stackviz_archive - debug: msg: ""Stackviz archive could not be found in /opt/cache/files/stackviz-latest.tar.gz"" when: not stackviz_archive.stat.exists - name: Check if subunit data exists stat: path: ""{{ zuul_work_dir }}/testrepository.subunit"" register: subunit_input - debug: msg: ""Subunit file could not be found at {{ zuul_work_dir }}/testrepository.subunit"" when: not subunit_input.stat.exists - name: Install stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists block: - include_role: name: ensure-pip - pip: name: ""file://{{ stackviz_archive.stat.path }}"" virtualenv: /tmp/stackviz virtualenv_command: '{{ ensure_pip_virtualenv_command }}' extra_args: -U - name: Deploy stackviz static html+js command: cp -pR /tmp/stackviz/share/stackviz-html {{ stage_dir }}/stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Check if dstat data exists stat: path: ""{{ devstack_base_dir }}/logs/dstat-csv.log"" register: dstat_input when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Run stackviz with dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --dstat ""{{ devstack_base_dir }}/logs/dstat-csv.log"" \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - dstat_input.stat.exists - name: Run stackviz without dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - not dstat_input.stat.exists ignore_errors: yes","- name: Devstack checks if stackviz archive exists stat: path: ""/opt/cache/files/stackviz-latest.tar.gz"" register: stackviz_archive - debug: msg: ""Stackviz archive could not be found in /opt/cache/files/stackviz-latest.tar.gz"" when: not stackviz_archive.stat.exists - name: Check if subunit data exists stat: path: ""{{ zuul_work_dir }}/testrepository.subunit"" register: subunit_input - debug: msg: ""Subunit file could not be found at {{ zuul_work_dir }}/testrepository.subunit"" when: not subunit_input.stat.exists - name: Install stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists block: - include_role: name: ensure-pip - pip: name: ""file://{{ stackviz_archive.stat.path }}"" virtualenv: /tmp/stackviz virtualenv_command: '{{ ensure_pip_virtualenv_command }}' extra_args: -U - name: Deploy stackviz static html+js command: cp -pR /tmp/stackviz/share/stackviz-html {{ stage_dir }}/stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Check if dstat data exists stat: path: ""{{ devstack_base_dir }}/logs/dstat-csv.log"" register: dstat_input when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Run stackviz with dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --dstat ""{{ devstack_base_dir }}/logs/dstat-csv.log"" \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - dstat_input.stat.exists failed_when: False - name: Run stackviz without dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - not dstat_input.stat.exists failed_when: False",67,64
openstack%2Fcinder~master~I34024618657672dc594c593420d7e33c510cfe38,openstack/cinder,master,I34024618657672dc594c593420d7e33c510cfe38,WIP: Remove keystone_authtoken options from cinder-manage,ABANDONED,2021-04-09 13:35:30.000000000,2021-04-09 20:49:18.000000000,,[],"[{'number': 1, 'created': '2021-04-09 13:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4fef43dcf5d1195a55b12ee31d04f7496d4c4007', 'message': 'WIP: Rely on keystone_authtoken for credentials when using cinder-manage\n\nChange-Id: I34024618657672dc594c593420d7e33c510cfe38\n'}, {'number': 2, 'created': '2021-04-09 13:42:12.000000000', 'files': ['cinder/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c6549434a4263e53c6e31b0da9fbdac4685afb37', 'message': 'WIP: Remove keystone_authtoken options from cinder-manage\n\nThis commit also registers the existing values so that we can use\nwhatever is set in `cinder.conf [keystone_authtoken]`\n\nChange-Id: I34024618657672dc594c593420d7e33c510cfe38\n'}]",0,785640,c6549434a4263e53c6e31b0da9fbdac4685afb37,9,0,2,5046,,,0,"WIP: Remove keystone_authtoken options from cinder-manage

This commit also registers the existing values so that we can use
whatever is set in `cinder.conf [keystone_authtoken]`

Change-Id: I34024618657672dc594c593420d7e33c510cfe38
",git fetch https://review.opendev.org/openstack/cinder refs/changes/40/785640/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/cmd/manage.py'],1,4fef43dcf5d1195a55b12ee31d04f7496d4c4007,752431," ks_loading.register_auth_conf_options(CONF, 'keystone_authtoken') CONF, 'keystone_authtoken')"," @args('--username', default=None, help=('The name of the admin user.')) @args('--password', default=None, help=('The password of the admin user.')) @args('--project-name', default=None, help=('The project name to which the admin user belongs.')) CONF.register_opt(cfg.IntOpt('timeout'), group='keystone_authtoken') CONF.register_opt(cfg.BoolOpt('collect_timing'), group='keystone_authtoken') CONF.register_opt(cfg.BoolOpt('split_loggers'), group='keystone_authtoken') auth_params = {'username': username, 'password': password, 'project_name': project_name} CONF, 'keystone_authtoken', **auth_params)",2,14
openstack%2Ftripleo-heat-templates~master~I12b8a01d0b28fed66be8ae0b1723dd89f6dc00ff,openstack/tripleo-heat-templates,master,I12b8a01d0b28fed66be8ae0b1723dd89f6dc00ff,Disable snapshot support in Cinder NFS backend by default,MERGED,2020-09-19 12:15:32.000000000,2021-04-09 20:40:55.000000000,2021-04-09 20:38:11.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-09-19 12:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/89ec41baf2f0572d5f85eb98858ed2232a261ec1', 'message': 'Disable snapshot support in Cinder NFS backend by default\n\nCurrently there is a known issue[1] in snapshot feature of cinder nfs\nbackend, which causes data corruption in several cases.\nThis change makes the feature disabled by default to require some\nconsideration by users before enabling the feature.\n\n[1] https://bugs.launchpad.net/cinder/+bug/1860913\n\nCloses-Bug: #1860913\nChange-Id: I12b8a01d0b28fed66be8ae0b1723dd89f6dc00ff\n'}, {'number': 2, 'created': '2020-09-19 12:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dbf0b891c0fe8cda231dedb38e884a4483dae55a', 'message': 'Disable snapshot support in Cinder NFS backend by default\n\nCurrently there is a known issue[1] in snapshot feature of cinder nfs\nbackend, which causes data corruption in several cases.\nThis change makes the feature disabled by default to require some\nconsideration by users before enabling the feature.\n\n[1] https://bugs.launchpad.net/cinder/+bug/1860913\n\nCloses-Bug: #1860913\nChange-Id: I12b8a01d0b28fed66be8ae0b1723dd89f6dc00ff\n'}, {'number': 3, 'created': '2020-09-19 12:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f4c5735fb19bc56f24812b569991719f61e37098', 'message': 'Disable snapshot support in Cinder NFS backend by default\n\nCurrently there is a known issue[1] in snapshot feature of cinder nfs\nbackend, which causes data corruption in several cases.\nThis change makes the feature disabled by default to require some\nconsideration by users before enabling the feature.\n\n[1] https://bugs.launchpad.net/cinder/+bug/1860913\n\nRelated-Bug: #1860913\nCloses-Bug: #1896324\nChange-Id: I12b8a01d0b28fed66be8ae0b1723dd89f6dc00ff\n'}, {'number': 4, 'created': '2020-09-21 13:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b964bb78efef8108220cde654afb029f81bad0e4', 'message': 'Disable snapshot support in Cinder NFS backend by default\n\nCurrently there is a known issue[1] in snapshot feature of cinder nfs\nbackend, which causes data corruption in several cases.\nThis change makes the feature disabled by default to require some\nconsideration by users before enabling the feature.\n\nNote that this change makes the default value in Tripleo consistent\nwith the one(False) in cinder, so also fixes the inconsistency about\nthe default values.\n\n[1] https://bugs.launchpad.net/cinder/+bug/1860913\n\nRelated-Bug: #1860913\nCloses-Bug: #1896324\nChange-Id: I12b8a01d0b28fed66be8ae0b1723dd89f6dc00ff\n'}, {'number': 5, 'created': '2021-04-08 14:51:04.000000000', 'files': ['deployment/cinder/cinder-volume-container-puppet.yaml', 'releasenotes/notes/cinder-nfs-snapshot-support-disabled-2d2e08c97537bc94.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/01bb2a6f0c186deea247b96828c0807c45aad8a2', 'message': 'Disable snapshot support in Cinder NFS backend by default\n\nCurrently there is a known issue[1] in snapshot feature of cinder nfs\nbackend, which causes data corruption in several cases.\nThis change makes the feature disabled by default to require some\nconsideration by users before enabling the feature.\n\nNote that this change makes the default value in Tripleo consistent\nwith the one(False) in cinder, so also fixes the inconsistency about\nthe default values.\n\n[1] https://bugs.launchpad.net/cinder/+bug/1860913\n\nRelated-Bug: #1860913\nCloses-Bug: #1896324\nChange-Id: I12b8a01d0b28fed66be8ae0b1723dd89f6dc00ff\n'}]",6,752790,01bb2a6f0c186deea247b96828c0807c45aad8a2,25,6,5,9816,,,0,"Disable snapshot support in Cinder NFS backend by default

Currently there is a known issue[1] in snapshot feature of cinder nfs
backend, which causes data corruption in several cases.
This change makes the feature disabled by default to require some
consideration by users before enabling the feature.

Note that this change makes the default value in Tripleo consistent
with the one(False) in cinder, so also fixes the inconsistency about
the default values.

[1] https://bugs.launchpad.net/cinder/+bug/1860913

Related-Bug: #1860913
Closes-Bug: #1896324
Change-Id: I12b8a01d0b28fed66be8ae0b1723dd89f6dc00ff
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/752790/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-volume-container-puppet.yaml', 'releasenotes/notes/cinder-nfs-snapshot-support-disabled-2d2e08c97537bc94.yaml']",2,89ec41baf2f0572d5f85eb98858ed2232a261ec1,bug/1896324,"--- fixes: - | The default value of CinderNfsSnapshotSupport has been changed from true to false, and now the parameter should be explicitly set when enabling snapshot feature in cinder nfs snapshot support. Any users enabling the feature should be aware of the kown issue which can cause data corruption. See `bug 1896324 <https://bugs.launchpad.net/tripleo/+bug/1896324>`_ to find more details. ",,10,1
openstack%2Fkolla-ansible~stable%2Fussuri~I22e11a994801447526ac26fc2815a1679876225e,openstack/kolla-ansible,stable/ussuri,I22e11a994801447526ac26fc2815a1679876225e,[CI] Use images from quay.io,MERGED,2021-04-06 10:16:34.000000000,2021-04-09 20:33:40.000000000,2021-04-09 20:32:20.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2021-04-06 10:16:34.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f48846367ac68180140265dd31ca30c9e18cbcf1', 'message': '[CI] Use images from quay.io\n\nBased on the discussions from the past 3 Kolla meetings [1][2][3],\nwe established that, to avoid the DockerHub pull limit issues\nin our CI, we will try using quay.io.\n\nThe images have already been published via Kolla CI\nfor master/Wallaby [4] and Victoria [5].\n\nThis change applies only to CI.\nThe user-facing move is yet to be discussed.\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102\n[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137\n[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50\n[4] https://review.opendev.org/c/openstack/kolla/+/781130\n[5] https://review.opendev.org/c/openstack/kolla/+/781899\n\nChange-Id: I22e11a994801447526ac26fc2815a1679876225e\n(cherry picked from commit 9c045aee36997098b655c7d6b03c72f3409ab152)\n'}]",0,784849,f48846367ac68180140265dd31ca30c9e18cbcf1,18,3,1,30491,,,0,"[CI] Use images from quay.io

Based on the discussions from the past 3 Kolla meetings [1][2][3],
we established that, to avoid the DockerHub pull limit issues
in our CI, we will try using quay.io.

The images have already been published via Kolla CI
for master/Wallaby [4] and Victoria [5].

This change applies only to CI.
The user-facing move is yet to be discussed.

[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102
[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137
[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50
[4] https://review.opendev.org/c/openstack/kolla/+/781130
[5] https://review.opendev.org/c/openstack/kolla/+/781899

Change-Id: I22e11a994801447526ac26fc2815a1679876225e
(cherry picked from commit 9c045aee36997098b655c7d6b03c72f3409ab152)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/784849/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,f48846367ac68180140265dd31ca30c9e18cbcf1,kolla-quay.io-stable/victoria-stable/ussuri,"# use the published images from a site mirror of quay.io docker_registry: ""{{ zuul_site_mirror_fqdn }}:4447"" docker_registry_insecure: no docker_namespace: openstack.kolla","# use docker hub images docker_namespace: ""kolla""",4,2
openstack%2Fmagnum~master~I68ca057e500ea293bde398288432a67eb758af25,openstack/magnum,master,I68ca057e500ea293bde398288432a67eb758af25,[hca] Use wallaby-stable-1 as default HCA tag,MERGED,2021-03-08 10:58:42.000000000,2021-04-09 20:26:14.000000000,2021-04-09 20:24:43.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 10:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d3b2709d269cc86948306cda12cbb173adbf1ad5', 'message': '[hca] Use wallaby-stable-1 as default HCA tag\n\nAdditionally:\n- update syntax for compatibility with Ansible 2.9+.\n- explicitly check for ""does not exist"" to prevent rebuild due to\n  other types of errors, e.g. ""pull rate limit"".\n\nStory: 2007264\nTask: 42009\n\nChange-Id: I68ca057e500ea293bde398288432a67eb758af25\n'}, {'number': 2, 'created': '2021-03-08 14:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d1fe7a4f318ff204cec7582ae3793a274e1caa5d', 'message': '[hca] Use wallaby-stable-1 as default HCA tag\n\nAdditionally:\n- update syntax for compatibility with Ansible 2.9+.\n- explicitly check for ""not found"" to prevent rebuild due to\n  other types of errors, e.g. ""pull rate limit"".\n\nStory: 2007264\nTask: 42009\n\nChange-Id: I68ca057e500ea293bde398288432a67eb758af25\n'}, {'number': 3, 'created': '2021-03-09 11:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b1e6d83248833c674d44cd669057a17cdc8a8562', 'message': '[hca] Use wallaby-stable-1 as default HCA tag\n\nAdditionally:\n- update syntax for compatibility with Ansible 2.9+.\n- explicitly check for ""not found"" to prevent rebuild due to\n  other types of errors, e.g. ""pull rate limit"".\n\nStory: 2007264\nTask: 42009\n\nChange-Id: I68ca057e500ea293bde398288432a67eb758af25\n'}, {'number': 4, 'created': '2021-03-09 11:46:59.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'playbooks/container-builder-vars.yaml', 'playbooks/container-builder.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/7be7a5a1234479d0b4ab6e5fd51f355a98f6b62d', 'message': '[hca] Use wallaby-stable-1 as default HCA tag\n\nAdditionally:\n- update syntax for compatibility with Ansible 2.9+.\n- explicitly check for ""not found"" to prevent rebuild due to\n  other types of errors, e.g. ""pull rate limit"".\n\nStory: 2007264\nTask: 42009\n\nChange-Id: I68ca057e500ea293bde398288432a67eb758af25\n'}]",0,779214,7be7a5a1234479d0b4ab6e5fd51f355a98f6b62d,19,3,4,28022,,,0,"[hca] Use wallaby-stable-1 as default HCA tag

Additionally:
- update syntax for compatibility with Ansible 2.9+.
- explicitly check for ""not found"" to prevent rebuild due to
  other types of errors, e.g. ""pull rate limit"".

Story: 2007264
Task: 42009

Change-Id: I68ca057e500ea293bde398288432a67eb758af25
",git fetch https://review.opendev.org/openstack/magnum refs/changes/14/779214/3 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'playbooks/container-builder-vars.yaml', 'playbooks/container-builder.yaml']",5,d3b2709d269cc86948306cda12cbb173adbf1ad5,wallaby-stable-1," source: pull build: path: ""{{ magnum_src_dir }}/dockerfiles/heat-container-agent"" when: (item is failed and ""does not exist"" in item.msg) or (item.item.dev | default(false) | bool) failed_when: (item is failed and ""pull rate limit"" in item.msg) build: path: ""{{ magnum_src_dir }}/dockerfiles/{{ item[1].name }}"" args: KUBE_VERSION: ""{{ item[0].version }}"" source: build build: path: ""{{ magnum_src_dir }}/dockerfiles/helm-client"" args: HELM_VERSION: ""{{ item.version }}"" source: build build: path: ""{{ magnum_src_dir }}/dockerfiles/cluster-autoscaler"" args: AUTOSCALER_VERSION: ""cluster-autoscaler-{{ item.version }}"" source: build"," pull: yes path: ""{{ magnum_src_dir }}/dockerfiles/heat-container-agent"" when: (item is failed) or (item.item.dev | default(false) | bool) path: ""{{ magnum_src_dir }}/dockerfiles/{{ item[1].name }}"" buildargs: KUBE_VERSION: ""{{ item[0].version }}"" path: ""{{ magnum_src_dir }}/dockerfiles/helm-client"" buildargs: HELM_VERSION: ""{{ item.version }}"" path: ""{{ magnum_src_dir }}/dockerfiles/cluster-autoscaler"" buildargs: AUTOSCALER_VERSION: ""cluster-autoscaler-{{ item.version }}""",27,19
openstack%2Fcharm-ceph-osd~master~I773d5f9f699af1a2ea7be543c4e58e0f7bc4433a,openstack/charm-ceph-osd,master,I773d5f9f699af1a2ea7be543c4e58e0f7bc4433a,21.04 libraries freeze for charms on master branch,MERGED,2021-04-03 19:22:06.000000000,2021-04-09 20:16:25.000000000,2021-04-09 20:16:25.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-03 19:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/602b6c92e44ffc8f147e5c775acbba56cb4fe1f2', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I773d5f9f699af1a2ea7be543c4e58e0f7bc4433a\n'}, {'number': 2, 'created': '2021-04-09 03:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/7585652c8f1f32ee8f9dc0a6c45e98b747fa9bc8', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/544\n\nChange-Id: I773d5f9f699af1a2ea7be543c4e58e0f7bc4433a\n'}, {'number': 3, 'created': '2021-04-09 15:45:40.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/files/policy_rc_d_script.py', 'hooks/charmhelpers/contrib/openstack/policy_rcd.py', 'lib/charms_ceph/utils.py', 'test-requirements.txt', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'hooks/charmhelpers/contrib/openstack/exceptions.py', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/cf2948f8f08ddb8cf045b4677e05e8a87a648ff7', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I773d5f9f699af1a2ea7be543c4e58e0f7bc4433a\n'}]",0,784640,cf2948f8f08ddb8cf045b4677e05e8a87a648ff7,25,4,3,20870,,,0,"21.04 libraries freeze for charms on master branch

* charm-helpers sync for classic charms
* build.lock file for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure stable/21.04 branch for charms.openstack
  - ensure stable/21.04 branch for charm-helpers

Change-Id: I773d5f9f699af1a2ea7be543c4e58e0f7bc4433a
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/40/784640/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/files/policy_rc_d_script.py', 'hooks/charmhelpers/contrib/openstack/policy_rcd.py', 'lib/charms_ceph/utils.py', 'test-requirements.txt', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'hooks/charmhelpers/contrib/openstack/exceptions.py', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py']",17,602b6c92e44ffc8f147e5c775acbba56cb4fe1f2,libraries-sync-21-04,,,1401,107
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I8a018c8c7435a753c8ed5b5fa211d91d053f8d67,openstack/tripleo-heat-templates,stable/ussuri,I8a018c8c7435a753c8ed5b5fa211d91d053f8d67,Allow partial override about SshServerOptions,MERGED,2020-10-02 01:50:44.000000000,2021-04-09 20:00:42.000000000,2021-04-09 19:58:56.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-10-02 01:50:44.000000000', 'files': ['releasenotes/notes/ssh-server-options-overrides-f677913bfd65efe1.yaml', 'deployment/sshd/sshd-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/26298a65c2261aef90481d6f8e56cf4d36f0fb72', 'message': ""Allow partial override about SshServerOptions\n\nWhen operator needs to change any options described in sshd_config,\nhe/she should use the parameter named SshServerOptions to define\nthe updated configuration.\n\nHowever the problem here is that he/she should define the whole content\ninstead of the actual lines to be overridden, otherwise some of the\nlines defined in its default can be missing from configuration. This\nmakes it difficutlt to properly update the parameter during update or\nupgrade, since operators always need to check whetehr any change has\nbeen made about the default of SshServerOptions.\n\nThis change introduces a new parameter, SshServerOptionsOverride, which\ncan be used to override specific line in SshServerOptions. Note that\nSshServerOptions should still be used if any of the lines in\nSshServerOptions needs to be removed.\n\nBackport Note:\nResolved the conflict caused by sshd-baremetal-ansible.yaml, which\ndoesn't exist in stable branches.\n\nChange-Id: I8a018c8c7435a753c8ed5b5fa211d91d053f8d67\n(cherry picked from commit bfd97da0bfa386642d47e8d317aad70c99594cd5)\n""}]",0,755679,26298a65c2261aef90481d6f8e56cf4d36f0fb72,22,5,1,9816,,,0,"Allow partial override about SshServerOptions

When operator needs to change any options described in sshd_config,
he/she should use the parameter named SshServerOptions to define
the updated configuration.

However the problem here is that he/she should define the whole content
instead of the actual lines to be overridden, otherwise some of the
lines defined in its default can be missing from configuration. This
makes it difficutlt to properly update the parameter during update or
upgrade, since operators always need to check whetehr any change has
been made about the default of SshServerOptions.

This change introduces a new parameter, SshServerOptionsOverride, which
can be used to override specific line in SshServerOptions. Note that
SshServerOptions should still be used if any of the lines in
SshServerOptions needs to be removed.

Backport Note:
Resolved the conflict caused by sshd-baremetal-ansible.yaml, which
doesn't exist in stable branches.

Change-Id: I8a018c8c7435a753c8ed5b5fa211d91d053f8d67
(cherry picked from commit bfd97da0bfa386642d47e8d317aad70c99594cd5)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/755679/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ssh-server-options-overrides-f677913bfd65efe1.yaml', 'deployment/sshd/sshd-baremetal-puppet.yaml']",2,26298a65c2261aef90481d6f8e56cf4d36f0fb72,, SshServerOptionsOverrides: default: {} description: Mapping of sshd_config values to override definitions in SshServerOptions type: json tripleo::profile::base::sshd::options: map_merge: - {get_param: SshServerOptions} - {get_param: SshServerOptionsOverrides}, tripleo::profile::base::sshd::options: {get_param: SshServerOptions},15,1
openstack%2Ftripleo-quickstart~master~Ie8818df97dd09329f36e6ceb5f5cfa7c215b0466,openstack/tripleo-quickstart,master,Ie8818df97dd09329f36e6ceb5f5cfa7c215b0466,Bump to container-tools:3.0 for upstream CI,MERGED,2021-04-08 12:55:34.000000000,2021-04-09 20:00:23.000000000,2021-04-09 19:59:12.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-04-08 12:55:34.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9c90377ad1149fda7e7099f0af9a6474b4172aec', 'message': ""Bump to container-tools:3.0 for upstream CI\n\nThis patch rev's container-tools in the master\nrelease file.\n\nChange-Id: Ie8818df97dd09329f36e6ceb5f5cfa7c215b0466\n""}]",0,785408,9c90377ad1149fda7e7099f0af9a6474b4172aec,12,8,1,9976,,,0,"Bump to container-tools:3.0 for upstream CI

This patch rev's container-tools in the master
release file.

Change-Id: Ie8818df97dd09329f36e6ceb5f5cfa7c215b0466
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/08/785408/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/master.yml'],1,9c90377ad1149fda7e7099f0af9a6474b4172aec,container-tools-3-master, sudo dnf module enable container-tools:3.0 -y;, sudo dnf module enable container-tools:2.0 -y;,1,1
openstack%2Ftripleo-upgrade~stable%2Fussuri~Ia898a08f96f10e7f9817108bf7161478fa3d354c,openstack/tripleo-upgrade,stable/ussuri,Ia898a08f96f10e7f9817108bf7161478fa3d354c,Add validations to updates.,MERGED,2021-04-09 09:39:52.000000000,2021-04-09 19:58:31.000000000,2021-04-09 19:58:31.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-04-09 09:39:52.000000000', 'files': ['README.rst', 'infrared_plugin/plugin.spec', 'tasks/update/main.yml', 'infrared_plugin/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/11745df80c16ff30fbad5bab3ca46cff07fd9705', 'message': 'Add validations to updates.\n\nAdd a new variable updates_validations (default false) to run the\nvalidations for update.\n\nAdd new command line options to run the validations for update.\n\nBackport Inlcudes: https://review.opendev.org/c/openstack/tripleo-upgrade/+/783898\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nCo-authored-by: Sofer Athlan-Guyot <sathlang@redhat.com>\n\nChange-Id: Ia898a08f96f10e7f9817108bf7161478fa3d354c\n(cherry picked from commit 7af5df08a20ed0491d1c0c69b7431b4a21d9c0fc)\n'}]",0,785586,11745df80c16ff30fbad5bab3ca46cff07fd9705,7,3,1,31245,,,0,"Add validations to updates.

Add a new variable updates_validations (default false) to run the
validations for update.

Add new command line options to run the validations for update.

Backport Inlcudes: https://review.opendev.org/c/openstack/tripleo-upgrade/+/783898
Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>
Co-authored-by: Sofer Athlan-Guyot <sathlang@redhat.com>

Change-Id: Ia898a08f96f10e7f9817108bf7161478fa3d354c
(cherry picked from commit 7af5df08a20ed0491d1c0c69b7431b4a21d9c0fc)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/86/785586/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'infrared_plugin/plugin.spec', 'tasks/update/main.yml', 'infrared_plugin/main.yml', 'defaults/main.yml']",5,11745df80c16ff30fbad5bab3ca46cff07fd9705,ussuri,# enable update validation updates_validations: false ,,78,2
openstack%2Fcharm-neutron-openvswitch~master~I334df5ca932e9f94e128d9fa66c1ab91d60233b4,openstack/charm-neutron-openvswitch,master,I334df5ca932e9f94e128d9fa66c1ab91d60233b4,Implementation of deferred restarts,MERGED,2021-02-25 11:02:14.000000000,2021-04-09 19:35:22.000000000,2021-04-09 19:35:22.000000000,"[{'_account_id': 8992}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 11:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/1a545778a99e56878473f6524cd89ca8e21b64d3', 'message': 'WIP Implementation of deferred restarts\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/508\n\nChange-Id: I334df5ca932e9f94e128d9fa66c1ab91d60233b4\n'}, {'number': 2, 'created': '2021-02-25 12:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/8f1d9b99e52f7823932bce638fced65150d6eba8', 'message': 'WIP Implementation of deferred restarts\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/508\n\nChange-Id: I334df5ca932e9f94e128d9fa66c1ab91d60233b4\n'}, {'number': 3, 'created': '2021-02-27 09:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/bbe71b022331b695a2ae81090bf3e540ea37fb8d', 'message': 'WIP Implementation of deferred restarts\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/508\n\nChange-Id: I334df5ca932e9f94e128d9fa66c1ab91d60233b4\n'}, {'number': 4, 'created': '2021-03-01 12:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/49aebf977d0f1c9706172340f7259556ae02dba8', 'message': 'WIP Implementation of deferred restarts\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/508\n\nChange-Id: I334df5ca932e9f94e128d9fa66c1ab91d60233b4\n'}, {'number': 5, 'created': '2021-03-22 16:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/a8d75ae327e742cedd4b417131e0e630dabc5162', 'message': 'WIP Implementation of deferred restarts\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/508\n\nChange-Id: I334df5ca932e9f94e128d9fa66c1ab91d60233b4\n'}, {'number': 6, 'created': '2021-03-22 16:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/43bee6daa3ca840e25c8ff58598da0a3aa437aec', 'message': 'WIP Implementation of deferred restarts\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/508\n\nChange-Id: I334df5ca932e9f94e128d9fa66c1ab91d60233b4\n'}, {'number': 7, 'created': '2021-03-23 07:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/b5344a5c7a1de50bf5898d7a02b2d54292d9d9cb', 'message': 'WIP Implementation of deferred restarts\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/508\n\nChange-Id: I334df5ca932e9f94e128d9fa66c1ab91d60233b4\n'}, {'number': 8, 'created': '2021-03-23 15:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/fbf985dc1351b366d964f6c246162e7f03bfb257', 'message': 'WIP Implementation of deferred restarts\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/508\n\nChange-Id: I334df5ca932e9f94e128d9fa66c1ab91d60233b4\n'}, {'number': 9, 'created': '2021-03-23 16:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/d46b7d62d2ba7b502fef76c366633ac76c68314f', 'message': 'WIP Implementation of deferred restarts\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/508\n\nChange-Id: I334df5ca932e9f94e128d9fa66c1ab91d60233b4\n'}, {'number': 10, 'created': '2021-03-24 13:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/28392ef4cf08299b1b3c9e01fba3060fda7866f5', 'message': 'WIP Implementation of deferred restarts\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/508\n\nChange-Id: I334df5ca932e9f94e128d9fa66c1ab91d60233b4\n'}, {'number': 11, 'created': '2021-03-24 13:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/151a7eb0cf7bd7064118675a417487b35bcb20f3', 'message': 'Implementation of deferred restarts\n\nAdd deferred restart actions and config.\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/508\n\nChange-Id: I334df5ca932e9f94e128d9fa66c1ab91d60233b4\n'}, {'number': 12, 'created': '2021-03-29 13:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/cf28adfed6a36aebea09d398bc8981e30d8f9272', 'message': 'Implementation of deferred restarts\n\nAdd deferred restart actions and config.\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/508\n\nChange-Id: I334df5ca932e9f94e128d9fa66c1ab91d60233b4\n'}, {'number': 13, 'created': '2021-03-29 13:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/2e58cb047dec81032ad966c53e29ab2e45a0121c', 'message': 'Implementation of deferred restarts\n\nAdd deferred restart actions and config.\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/508\n\nChange-Id: I334df5ca932e9f94e128d9fa66c1ab91d60233b4\n'}, {'number': 14, 'created': '2021-03-29 14:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/311fd8a585d3079cd769bc65a75e39b292313351', 'message': 'Implementation of deferred restarts\n\nAdd deferred restart actions and config.\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/508\n\nChange-Id: I334df5ca932e9f94e128d9fa66c1ab91d60233b4\n'}, {'number': 15, 'created': '2021-04-06 17:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/0f1f25420b61f507a50813b2ad797390c06026aa', 'message': 'Implementation of deferred restarts\n\nAdd deferred restart actions and config.\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/508\n\nChange-Id: I334df5ca932e9f94e128d9fa66c1ab91d60233b4\n'}, {'number': 16, 'created': '2021-04-08 12:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/4d1e272cc7bcee66d5f93107acd0fc872b1911d6', 'message': 'Implementation of deferred restarts\n\nAdd deferred restart actions and config.\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/508\n\nChange-Id: I334df5ca932e9f94e128d9fa66c1ab91d60233b4\n'}, {'number': 17, 'created': '2021-04-08 13:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/8689067a71cd7211b23bf895c97aaf6ce4404023', 'message': 'Implementation of deferred restarts\n\nAdd deferred restart actions and config.\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/539\n\nChange-Id: I334df5ca932e9f94e128d9fa66c1ab91d60233b4\n'}, {'number': 18, 'created': '2021-04-08 13:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/f486af210cf0e2724767919c406b9f459dcacec0', 'message': 'Implementation of deferred restarts\n\nAdd deferred restart actions and config.\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/540\n\nChange-Id: I334df5ca932e9f94e128d9fa66c1ab91d60233b4\n'}, {'number': 19, 'created': '2021-04-08 14:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/7a80db845b81a43541410cd8b4400f6f1f25c7a0', 'message': 'Implementation of deferred restarts\n\nAdd deferred restart actions and config.\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/541\n\nChange-Id: I334df5ca932e9f94e128d9fa66c1ab91d60233b4\n'}, {'number': 20, 'created': '2021-04-08 16:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/2f105e4503c11a588f91c450fb448a2208fbaafc', 'message': 'Implementation of deferred restarts\n\nAdd deferred restart actions and config.\n\nFunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/541\n\nChange-Id: I334df5ca932e9f94e128d9fa66c1ab91d60233b4\n'}, {'number': 21, 'created': '2021-04-08 17:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/768fc1224c884fea0ef390bfab40d7bceec9bf21', 'message': 'Implementation of deferred restarts\n\nAdd deferred restart actions and config.\n\nChange-Id: I334df5ca932e9f94e128d9fa66c1ab91d60233b4\n'}, {'number': 22, 'created': '2021-04-08 20:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/7f558a2a09863a500909bf2ab0c6dca37df745d9', 'message': 'Implementation of deferred restarts\n\nAdd deferred restart actions and config.\n\nChange-Id: I334df5ca932e9f94e128d9fa66c1ab91d60233b4\n'}, {'number': 23, 'created': '2021-04-09 12:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/61b26afd3249b7f7fbd2165aa4899829eab379b6', 'message': 'Implementation of deferred restarts\n\nAdd deferred restart actions and config.\n\nChange-Id: I334df5ca932e9f94e128d9fa66c1ab91d60233b4\n'}, {'number': 24, 'created': '2021-04-09 12:54:43.000000000', 'files': ['actions/resume', 'hooks/neutron_ovs_hooks.py', 'hooks/neutron_ovs_utils.py', 'actions/restart-services', 'config.yaml', 'actions/show-deferred-events', 'actions/run-deferred-hooks', 'unit_tests/test_neutron_ovs_utils.py', 'tests/tests.yaml', 'actions/pause_resume.py', 'unit_tests/test_neutron_ovs_hooks.py', 'unit_tests/test_os_actions.py', 'actions/pause', 'actions.yaml', 'actions/os_actions.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/9b11d24d40d4c8dfffe90a264e0273cacfd676f3', 'message': 'Implementation of deferred restarts\n\nAdd deferred restart actions and config.\n\nChange-Id: I334df5ca932e9f94e128d9fa66c1ab91d60233b4\n'}]",9,777568,9b11d24d40d4c8dfffe90a264e0273cacfd676f3,116,5,24,12549,,,0,"Implementation of deferred restarts

Add deferred restart actions and config.

Change-Id: I334df5ca932e9f94e128d9fa66c1ab91d60233b4
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/68/777568/13 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/files/policy-rc.d', 'hooks/charmhelpers/contrib/openstack/policy_rcd.py', 'actions/show-deferred-restarts', 'hooks/charmhelpers/contrib/openstack/exceptions.py', 'hooks/neutron_ovs_hooks.py', 'hooks/neutron_ovs_utils.py', 'actions/restart-services', 'config.yaml', 'tests/tests.yaml', 'actions/pause_resume.py', 'hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/core/hookenv.py', 'actions.yaml']",15,1a545778a99e56878473f6524cd89ca8e21b64d3,deferred-restarts,"restart-services: description: | Restarts services this charm manages. params: deferred-only: type: boolean default: false description: | Only restart deferred services. services: type: string default: """" description: | Optional space seperated list of services to restart. If unset then it applies to all services the charm controls. show-deferred-restarts: descrpition: | Show the outstanding restarts",,783,30
openstack%2Fopenstack-ansible-os_octavia~stable%2Fvictoria~Ibd5f3d2ca25f9bb880b0c535c59ef430bd1043be,openstack/openstack-ansible-os_octavia,stable/victoria,Ibd5f3d2ca25f9bb880b0c535c59ef430bd1043be,Omit amp_ssh_access_allowed and remove amp_image_id options.,MERGED,2021-04-02 20:25:28.000000000,2021-04-09 19:22:49.000000000,2021-04-09 19:21:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31792}]","[{'number': 1, 'created': '2021-04-02 20:25:28.000000000', 'files': ['releasenotes/notes/remove_amp_image_id-433eefffba7d6a96.yaml', 'templates/octavia.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/6fb63e341f99eb022e9d770dc934a964b538308f', 'message': 'Omit amp_ssh_access_allowed and remove amp_image_id options.\n\nOctavia complains about option amp_ssh_access_allowed to be deprecated. See\nhttps://docs.openstack.org/octavia/ussuri/configuration/configref.html#controller_worker.amp_ssh_access_allowed\nThe octavia_ssh_enabled OSA variable is instead used to either write the\namp_ssh_key_name configuration option or not.\n\nThe configuration option amp_image_id in Octavia is deprected and image tags\nshould be used instead. Therefore octavia_amp_image_id is removed.\n\nChange-Id: Ibd5f3d2ca25f9bb880b0c535c59ef430bd1043be\n(cherry picked from commit 50b83c79274d5cba9869ca4e52ac96a731445a84)\n'}]",0,784614,6fb63e341f99eb022e9d770dc934a964b538308f,21,4,1,14552,,,0,"Omit amp_ssh_access_allowed and remove amp_image_id options.

Octavia complains about option amp_ssh_access_allowed to be deprecated. See
https://docs.openstack.org/octavia/ussuri/configuration/configref.html#controller_worker.amp_ssh_access_allowed
The octavia_ssh_enabled OSA variable is instead used to either write the
amp_ssh_key_name configuration option or not.

The configuration option amp_image_id in Octavia is deprected and image tags
should be used instead. Therefore octavia_amp_image_id is removed.

Change-Id: Ibd5f3d2ca25f9bb880b0c535c59ef430bd1043be
(cherry picked from commit 50b83c79274d5cba9869ca4e52ac96a731445a84)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/14/784614/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove_amp_image_id-433eefffba7d6a96.yaml', 'templates/octavia.conf.j2', 'defaults/main.yml']",3,6fb63e341f99eb022e9d770dc934a964b538308f,,,# add here the glance image id if tagging is not used (not recommended for prod) octavia_amp_image_id:,8,4
openstack%2Ftripleo-ci~master~If85d8d69d03f81a472b461c6f6d3a75297434a68,openstack/tripleo-ci,master,If85d8d69d03f81a472b461c6f6d3a75297434a68,"Revert ""Use octavia smoke tests for octavia scenario 10""",MERGED,2021-03-31 13:02:24.000000000,2021-04-09 18:05:23.000000000,2021-04-09 18:05:23.000000000,"[{'_account_id': 6681}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-03-31 13:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5325e2dba5a49ddef28bc48baca5ea7247af2901', 'message': 'Revert ""Use octavia smoke tests for octavia scenario 10""\n\nThis reverts commit 8319543d4daf9af4465d68ee323d05bceb3b9e9d.\n\nReason for revert: Lets\' run smoke tests only in periodic line\n\nChange-Id: If85d8d69d03f81a472b461c6f6d3a75297434a68\n'}, {'number': 2, 'created': '2021-04-06 11:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8cc4f6a7898f4accbbaba03a44c0d1a70d2d7437', 'message': 'Revert ""Use octavia smoke tests for octavia scenario 10""\n\nThis reverts commit 8319543d4daf9af4465d68ee323d05bceb3b9e9d.\n\nLet\'s run the tests from the featureset 62 excluding smoke\ntests as it got triggered in periodic line\nhttps://review.rdoproject.org/r/c/rdo-jobs/+/32279 and\navoid it from timing out.\n\nThe smoke tests will be skipped as it is defined in\nskiplist for upstream\nhttps://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/783831\notherwise job will fail with no tempest regex found.\n\nChange-Id: If85d8d69d03f81a472b461c6f6d3a75297434a68\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2021-04-09 04:37:59.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/dc2282f1da2202177ab7f7bc15cb6ea65480af24', 'message': 'Revert ""Use octavia smoke tests for octavia scenario 10""\n\nThis reverts commit 8319543d4daf9af4465d68ee323d05bceb3b9e9d.\n\nLet\'s run the tests from the featureset 62 excluding smoke\ntests as it got triggered in periodic line\nhttps://review.rdoproject.org/r/c/rdo-jobs/+/32279 and\navoid it from timing out.\n\nThe smoke tests will be skipped as it is defined in\nskiplist for upstream\nhttps://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/783831\notherwise job will fail with no tempest regex found.\n\nChange-Id: If85d8d69d03f81a472b461c6f6d3a75297434a68\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",4,784040,dc2282f1da2202177ab7f7bc15cb6ea65480af24,18,8,3,12393,,,0,"Revert ""Use octavia smoke tests for octavia scenario 10""

This reverts commit 8319543d4daf9af4465d68ee323d05bceb3b9e9d.

Let's run the tests from the featureset 62 excluding smoke
tests as it got triggered in periodic line
https://review.rdoproject.org/r/c/rdo-jobs/+/32279 and
avoid it from timing out.

The smoke tests will be skipped as it is defined in
skiplist for upstream
https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/783831
otherwise job will fail with no tempest regex found.

Change-Id: If85d8d69d03f81a472b461c6f6d3a75297434a68
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/40/784040/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,5325e2dba5a49ddef28bc48baca5ea7247af2901,,, tempest_test_whitelist: - '^octavia_tempest_plugin.*smoke',0,2
openstack%2Freleases~master~Iad070c189dd2c1ac1e044530212b39f59c148e86,openstack/releases,master,Iad070c189dd2c1ac1e044530212b39f59c148e86,Final RC patch for keystone,MERGED,2021-04-08 09:28:09.000000000,2021-04-09 17:57:45.000000000,2021-04-09 17:57:45.000000000,"[{'_account_id': 5046}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-08 09:28:09.000000000', 'files': ['deliverables/wallaby/keystone.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1688fdbf9a20f9a7c4637fc0257d0ad38cec9027', 'message': 'Final RC patch for keystone\n\nThis creates a new RC before the final release candidate deadline to\nrelease the latest fixes and/or translations.\n\nPlease ack with a +1, or if there is some reason to hold off, leave a -1.\n\n$ git log --oneline --no-merges 19.0.0.0rc1..f47e635b8\nf47e635b8 Retry update_user when sqlalchemy raises StaleDataErrors\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Iad070c189dd2c1ac1e044530212b39f59c148e86\n'}]",0,785352,1688fdbf9a20f9a7c4637fc0257d0ad38cec9027,8,4,1,28522,,,0,"Final RC patch for keystone

This creates a new RC before the final release candidate deadline to
release the latest fixes and/or translations.

Please ack with a +1, or if there is some reason to hold off, leave a -1.

$ git log --oneline --no-merges 19.0.0.0rc1..f47e635b8
f47e635b8 Retry update_user when sqlalchemy raises StaleDataErrors

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Iad070c189dd2c1ac1e044530212b39f59c148e86
",git fetch https://review.opendev.org/openstack/releases refs/changes/52/785352/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/keystone.yaml'],1,1688fdbf9a20f9a7c4637fc0257d0ad38cec9027,wallaby-final-rc, - version: 19.0.0.0rc2 projects: - repo: openstack/keystone hash: f47e635b8041542faa05e64606e66d2fbbc5f284,,4,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I3957ce3a4916e0f1455fdda38c0a35b8ffd508f7,openstack/tripleo-heat-templates,stable/rocky,I3957ce3a4916e0f1455fdda38c0a35b8ffd508f7,[Rocky and before] Do not load nf_conntrack_proto_sctp,ABANDONED,2021-02-01 08:48:14.000000000,2021-04-09 17:35:37.000000000,,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-01 08:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bbab987f7e98de10a9f8fb89ca0e234fb2adaf3e', 'message': '[Rocky and before] Do not load nf_conntrack_proto_sctp\n\nnf_conntrack_proto_sctp no longer exists since CentOS/RHEL 7.4, so we\nshould not load that module expicitly.\n\nChange-Id: I3957ce3a4916e0f1455fdda38c0a35b8ffd508f7\nCloses-Bug: #1914017\n'}, {'number': 2, 'created': '2021-02-17 16:15:38.000000000', 'files': ['puppet/services/kernel.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a09e69366dce5b5b26c48316d48f2ab8b6a0ed5c', 'message': '[Rocky and before] Do not load nf_conntrack_proto_sctp\n\nnf_conntrack_proto_sctp no longer exists since CentOS/RHEL 7.4, so we\nshould not load that module expicitly.\n\nChange-Id: I3957ce3a4916e0f1455fdda38c0a35b8ffd508f7\nCloses-Bug: #1914017\n'}]",0,773306,a09e69366dce5b5b26c48316d48f2ab8b6a0ed5c,18,5,2,9816,,,0,"[Rocky and before] Do not load nf_conntrack_proto_sctp

nf_conntrack_proto_sctp no longer exists since CentOS/RHEL 7.4, so we
should not load that module expicitly.

Change-Id: I3957ce3a4916e0f1455fdda38c0a35b8ffd508f7
Closes-Bug: #1914017
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/773306/2 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/kernel.yaml'],1,bbab987f7e98de10a9f8fb89ca0e234fb2adaf3e,bug/1914017, update_tasks: - name: Remove obsolete nf_conntrack_proto_sctp from /etc/modules-load.d/ file: path: /etc/modules-load.d/nf_conntrack_proto_sctp.conf state: absent, nf_conntrack_proto_sctp: {},6,1
openstack%2Fironic-specs~master~I7be82633eeef998e8f74bc72e61582bbf8806744,openstack/ironic-specs,master,I7be82633eeef998e8f74bc72e61582bbf8806744,Propose uefi pxe boot from volume,NEW,2020-11-12 08:38:20.000000000,2021-04-09 17:13:20.000000000,,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 15519}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-11-12 08:38:20.000000000', 'files': ['specs/approved/uefi-pxe-boot-from-volume.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/7675b0b078b00d50efb2391ca0ffdf6e49465ec4', 'message': 'Propose uefi pxe boot from volume\n\nStory: #2008023\nTask: #41164\nChange-Id: I7be82633eeef998e8f74bc72e61582bbf8806744\n'}]",12,762474,7675b0b078b00d50efb2391ca0ffdf6e49465ec4,3,8,1,22997,,,0,"Propose uefi pxe boot from volume

Story: #2008023
Task: #41164
Change-Id: I7be82633eeef998e8f74bc72e61582bbf8806744
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/74/762474/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/approved/uefi-pxe-boot-from-volume.rst'],1,7675b0b078b00d50efb2391ca0ffdf6e49465ec4,story/2008023,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================================== UEFI PXE boot from root iSCSI volume ==================================== https://storyboard.openstack.org/#!/story/2008023 Currently BFV (Boot From Volume) only supports iPXE not PXE. As not all the servers support iPXE boot due to lacking of integrated NIC driver support in iPXE, especially many aarch64 servers don't support iPXE. But all the server may support PXE boot. So it makes sense that Ironic can support PXE BFV. Problem description =================== A detailed description of the problem: In general, the whole provision procedure of PXE BFV is similar to iPXE BFV's. The difference Ironic can see is, in the deploying provision state, it involves use of a ``kernel`` and ``ramdisk`` image which cached from partition user image and hosted by the conductor host in order to enable the node to boot initrd via PXE with sufficient command line parameters to enable the root volume to attach during the initrd boot sequence. The whole use case and provision procedure of PXE BFV is shown as below, with differences compared to iPXE BFV: - Operator uploads partition user image to Glance image service. Differences: PXE BFV uses partition user image, and iPXE uses whole disk image. - Operator enrolls nodes with property capabilities='boot_mode:uefi, iscsi_boot:True, boot_option:netboot' and make them as available provision state. - End user launches a bare metal instance with a bootable volume and chooses the partition user image. Differences: PXE boots from an existing volume like iPXE is not support, because the existing volume doesn't contain any image meta data. This also means that PXE BFV only support cinder storage interface and no external storage interface support as there is no other way to cache kernel/ramdisk currently. - Ironic conductor changes the node provision state to deploying from available, prepare instance to boot: - Cache kernel/ramdisk images. - Generate PXE grub config menuentry 'boot_iscsi', fill iSCSI kernel command line options which defined by `Dracut iSCSI kernel command line option`_ and `Initramfs iSCSI kernel command line option`_. - Set default boot menuentry to 'boot_iscsi' and default boot interface to PXE. Differences: With iPXE BFV, no need to cache kernel and ramdisk images, volume info pass to OS in another way call iBFT (`iSCSI Boot Firmware Table`_) not via kernel command line option. - Node provision state changed to active from deploying, power on and boot defaults to PXE network booting. PXE boot into initrd. Legacy BIOS PXE boot is out of scope of this specification. Differences: PXE loads grub from tftpboot network dir and just boots into initrd, it doesn't do any other thing. Whereas iPXE will attach the iSCSI volume disk firstly, then load the grub from the volume disk, it also fills the iBFT APCPI table with volume info. Finally it boots into initrd. - Initrd setup network ip with dhcp request, get the volume info from command line options, attach the root volume disk, mount it and finally chroot to it, continue booting the OS until it finishes booting. Differences: PXE BFV gets the volume info from kernel command line options and iPXE BFV gets it from the iBFT ACPI table. See `Debian volume attach script`_ as an example. Proposed change =============== According to above PXE BFV whole provision procedure, Ironic only get involved before node provision state becomes active. Most of the code flow in Ironic is the same as iPXE BFV. So upon on current iPXE BFV, to support PXE BFV, it needs to handle PXE BFV also for the same code flow and add new code logic for PXE BFV specific. Most likely, the main changes should come into the PXE boot interface. The proposed changes are: - Update ``pxe.PXEBoot`` capabilities to add 'iscsi_volume_boot. - Update ``pxe_utils.build_pxe_config_options`` util logic to support generating volume pxe options for PXE BFV also. - Update ``pxe_base.PXEBaseMixin.prepare_instance`` driver logic to support caching kernel and ramdisk for PXE BFV. - Update ``pxe_grub_config.template`` to add menuentry 'boot_iscsi'. - Update ``storage.cinder.CinderStorage.validate`` driver logic to support PXE. - Update ``storage.cinder.CinderStorage.should_write_image`` driver logic to handle PXE BFV case which has an image source. Alternatives ------------ None Data model impact ----------------- None State Machine Impact -------------------- None REST API impact --------------- None Client (CLI) impact ------------------- ""openstack baremetal"" CLI ~~~~~~~~~~~~~~~~~~~~~~~~~ None ""openstacksdk"" ~~~~~~~~~~~~~~ None RPC API impact -------------- None Driver API impact ----------------- None Nova driver impact ------------------ Currently, Nova Ironic driver doesn't pass image source info to Ironic in case of BFV. Change needed to make to pass image source info to Ironic in case of PXE BFV. Ramdisk impact -------------- None Security impact --------------- Tenant network isolation is unsupported due to the need for PXE boot. ``Note`` that iSCSI volume info like username/password specified on the kernel command line are visible for all users via the file /proc/cmdline or via dmesg. Who gets the volume info can login and mount the iSCSI volume in the same storage network. Other end user impact --------------------- PXE BFV doesn’t support whole disk image as iPXE BFV. It only supports partition user image. Which means that kernel updating automatically is not supported, It needs to copy kernel/initrd to tftpboot dir for PXE boot manually when updating kernel. The user needs to know how to build partition user images. It should be built with an iscsi-boot element. e.g.: disk-image-create -o $IMAGE_NAME $DISTRO baremetal dhcp-all-interfaces \ iscsi-boot Scalability impact ------------------ None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Xinliang Liu (irc: xinliang, xinliang.liu@linaro.org) Work Items ---------- * Implement support to pass image source info into Ironic for PXE BFV (Nova). * Implement support for PXE BFV. * Update `Boot From Volume user guide`_ page on how to use this functionality. Dependencies ============ Implementation of `Nova pass image source info into Ironic for PXE iSCSI boot`_. Ironic requires it to cache kernel/ramdisk for the PXE BFV user case. Testing ======= Unit tests should be sufficient for ensuring this functionality is not broken. A tempest test for the whole provision procedure is not feasible now due to no partition user image available on the web site for testing. Upgrades and Backwards Compatibility ==================================== N/A Documentation Impact ==================== `Boot From Volume user guide`_ page needs to be updated on how to use this functionality. References ========== Relevant specifications: - `Boot from Volume - Reference Drivers`_ .. _`Nova pass image source info into Ironic for PXE iSCSI boot`: https://review.opendev.org/#/c/746626/ .. _`Boot From Volume user guide`: https://docs.openstack.org/ironic/latest/admin/boot-from-volume.html .. _`Dracut iSCSI kernel command line option`: https://man7.org/linux/man-pages/man7/dracut.cmdline.7.html .. _`Initramfs iSCSI kernel command line option`: https://salsa.debian.org/linux-blocks-team/open-iscsi/-/blob/master/debian/extra/initramfs.local-top#L248 .. _`iSCSI Boot Firmware Table`: http://download.microsoft.com/download/7/E/7/7E7662CF-CBEA-470B-A97E-CE7CE0D98DC2/iBFT.docx .. _`Debian volume attach script`: https://salsa.debian.org/linux-blocks-team/open-iscsi/-/blob/master/debian/extra/initramfs.local-top .. _`Boot from Volume - Reference Drivers`: https://specs.openstack.org/openstack/ironic-specs/specs/9.0/boot-from-volume-reference-drivers.html ",,270,0
openstack%2Fcinder~stable%2Fvictoria~I29bd3b74e8864f7ae02904a5402db2afe2dbd94b,openstack/cinder,stable/victoria,I29bd3b74e8864f7ae02904a5402db2afe2dbd94b,NetApp SolidFire: Refactor DuplicateSfVolumeNames exception,MERGED,2021-03-16 14:41:14.000000000,2021-04-09 17:05:56.000000000,2021-04-09 17:03:58.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-03-16 14:41:14.000000000', 'files': ['cinder/volume/drivers/solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9cd1614f2ab641c526225ced5a9029250eb5050c', 'message': 'NetApp SolidFire: Refactor DuplicateSfVolumeNames exception\n\nThis patch refactors the DuplicateSfvolumeNames exception to\naddress the following issues:\n\n- Inherits from exception.Duplicate which inherits from\nCinderException directly rather than from VolumeDriverException\n- Naming pattern differs from the other SolidFire exceptions\n- Exception message differs in parts of the code.\n\nChange-Id: I29bd3b74e8864f7ae02904a5402db2afe2dbd94b\n(cherry picked from commit 5e2d30bd431d111b9e69fb93ca1360efe5e078b6)\n'}]",0,780829,9cd1614f2ab641c526225ced5a9029250eb5050c,22,4,1,30555,,,0,"NetApp SolidFire: Refactor DuplicateSfVolumeNames exception

This patch refactors the DuplicateSfvolumeNames exception to
address the following issues:

- Inherits from exception.Duplicate which inherits from
CinderException directly rather than from VolumeDriverException
- Naming pattern differs from the other SolidFire exceptions
- Exception message differs in parts of the code.

Change-Id: I29bd3b74e8864f7ae02904a5402db2afe2dbd94b
(cherry picked from commit 5e2d30bd431d111b9e69fb93ca1360efe5e078b6)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/29/780829/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/solidfire.py'],1,9cd1614f2ab641c526225ced5a9029250eb5050c,,"class SolidFireDuplicateVolumeNames(SolidFireDriverException): message = _(""Volume name [%(vol_name)s] already exists "" ""in the SolidFire backend."") raise SolidFireDuplicateVolumeNames(vol_name=sf_volume_name) raise SolidFireDuplicateVolumeNames(vol_name=uuid)","class DuplicateSfVolumeNames(exception.Duplicate): message = _(""Detected more than one volume with name %(vol_name)s"") msg = ('Volume name [%s] already exists ' 'in SolidFire backend.') % sf_volume_name LOG.error(msg) raise DuplicateSfVolumeNames(message=msg) raise DuplicateSfVolumeNames(vol_name=uuid)",7,9
openstack%2Fcinder~master~I743e9999a42c6a7a978c88b16f02b7c5e6e826c7,openstack/cinder,master,I743e9999a42c6a7a978c88b16f02b7c5e6e826c7,Fix invalid yaml in reno template,MERGED,2021-03-11 15:41:49.000000000,2021-04-09 17:02:22.000000000,2021-04-09 17:00:00.000000000,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-03-11 15:41:49.000000000', 'files': ['reno.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7f84fff321a0c9d9f3c69ae8110c2e0413fbc870', 'message': 'Fix invalid yaml in reno template\n\nThis fixes two issues with the reno yaml template.\n\nThe prelude paragraph has a line longer than 80 chars.\n\nAdd a newline for the bug # entry.  This prevents an error\nwhere yamllint complains that a token cannot start with\na backtick, if the bug # entry is used as the first item\nin the ""fixes"" section.\n\nChange-Id: I743e9999a42c6a7a978c88b16f02b7c5e6e826c7\n'}]",0,780018,7f84fff321a0c9d9f3c69ae8110c2e0413fbc870,28,4,1,4523,,,0,"Fix invalid yaml in reno template

This fixes two issues with the reno yaml template.

The prelude paragraph has a line longer than 80 chars.

Add a newline for the bug # entry.  This prevents an error
where yamllint complains that a token cannot start with
a backtick, if the bug # entry is used as the first item
in the ""fixes"" section.

Change-Id: I743e9999a42c6a7a978c88b16f02b7c5e6e826c7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/780018/1 && git format-patch -1 --stdout FETCH_HEAD,['reno.yaml'],1,7f84fff321a0c9d9f3c69ae8110c2e0413fbc870,," Replace this text with content to appear at the top of the section for this release. All of the prelude content is merged together and then rendered separately from the items listed in other parts of the file, so the text needs to be worded so that both the prelude and the other items make sense when read independently. This may mean repeating some details. Not every release note requires a prelude. Usually only notes describing major features or adding release theme details should have a prelude. - | `Bug #1889758 <https://bugs.launchpad.net/cinder/+bug/1889758>`_: Fix"," Replace this text with content to appear at the top of the section for this release. All of the prelude content is merged together and then rendered separately from the items listed in other parts of the file, so the text needs to be worded so that both the prelude and the other items make sense when read independently. This may mean repeating some details. Not every release note requires a prelude. Usually only notes describing major features or adding release theme details should have a prelude. - `Bug #1889758 <https://bugs.launchpad.net/cinder/+bug/1889758>`_: Fix",9,8
openstack%2Freleases~master~I0b0765cbf6fdff6410cc1b2abbaed9504e7edbee,openstack/releases,master,I0b0765cbf6fdff6410cc1b2abbaed9504e7edbee,Final RC patch for tacker,MERGED,2021-04-08 10:46:00.000000000,2021-04-09 16:39:31.000000000,2021-04-09 16:39:31.000000000,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-08 10:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/099d477575b16a874c871006728bfd0dde8c92b7', 'message': 'Final RC patch for tacker\n\nThis creates a new RC before the final release candidate deadline to\nrelease the latest fixes and/or translations.\n\nPlease ack with a +1, or if there is some reason to hold off, leave a -1.\n\n$ git log --oneline --no-merges 5.0.0.0rc2..74543ee0\n58b29296 Update .gitreview for stable/wallaby\naf7c6752 Update TOX_CONSTRAINTS_FILE for stable/wallaby\n7050b218 Support Placement Constraints for Grant\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I0b0765cbf6fdff6410cc1b2abbaed9504e7edbee\n'}, {'number': 2, 'created': '2021-04-09 09:09:12.000000000', 'files': ['deliverables/wallaby/tacker.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0f120daea1ff265d524a875f45153e2bfa209c7e', 'message': 'Final RC patch for tacker\n\nThis creates a new RC before the final release candidate deadline to\nrelease the latest fixes and/or translations.\n\nPlease ack with a +1, or if there is some reason to hold off, leave a -1.\n\n$ git log --oneline --no-merges 5.0.0.0rc2..09837044\ne19f07ce Improvement of FT cases for Retry LCM Operation\nace23223 Fix display bugs of vnflcm show command\n211ab694 Fix exception not raised while install script failed\ncfa7725b Fix methods of kubernetes_mgmt by change of abstract driver\nf44d0b65 Fix missing None judgement in rollback\nd4ea1369 Fix some bugs related legacy cnf operations\na3de1d3d Fix parameters passing in kubernetes_mgmt\n58b29296 Update .gitreview for stable/wallaby\naf7c6752 Update TOX_CONSTRAINTS_FILE for stable/wallaby\n7050b218 Support Placement Constraints for Grant\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: I0b0765cbf6fdff6410cc1b2abbaed9504e7edbee\n'}]",0,785369,0f120daea1ff265d524a875f45153e2bfa209c7e,15,3,2,28522,,,0,"Final RC patch for tacker

This creates a new RC before the final release candidate deadline to
release the latest fixes and/or translations.

Please ack with a +1, or if there is some reason to hold off, leave a -1.

$ git log --oneline --no-merges 5.0.0.0rc2..09837044
e19f07ce Improvement of FT cases for Retry LCM Operation
ace23223 Fix display bugs of vnflcm show command
211ab694 Fix exception not raised while install script failed
cfa7725b Fix methods of kubernetes_mgmt by change of abstract driver
f44d0b65 Fix missing None judgement in rollback
d4ea1369 Fix some bugs related legacy cnf operations
a3de1d3d Fix parameters passing in kubernetes_mgmt
58b29296 Update .gitreview for stable/wallaby
af7c6752 Update TOX_CONSTRAINTS_FILE for stable/wallaby
7050b218 Support Placement Constraints for Grant

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
Change-Id: I0b0765cbf6fdff6410cc1b2abbaed9504e7edbee
",git fetch https://review.opendev.org/openstack/releases refs/changes/69/785369/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/tacker.yaml'],1,099d477575b16a874c871006728bfd0dde8c92b7,wallaby-final-rc, - version: 5.0.0.0rc3 projects: - repo: openstack/tacker hash: 74543ee080b8ab47536ce9b046b919f3c17a36a7,,4,0
